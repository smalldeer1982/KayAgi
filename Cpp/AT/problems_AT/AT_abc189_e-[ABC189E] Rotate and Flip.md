---
title: "[ABC189E] Rotate and Flip"
layout: "post"
diff: 普及+/提高
pid: AT_abc189_e
tag: []
---

# [ABC189E] Rotate and Flip

## 题目描述

给出 $N$ 个点，以及每个点得坐标 $(x_i,y_i)$，给出 $M$ 次操作，操作如下：

- 第一种操作：将所有点绕原点 $(0,0)$ 顺时针旋转 $90$ 度。

- 第二种操作：将所有点绕原点 $(0,0)$ 逆时针旋转 $90$ 度。

- 第三种操作：以 $x=p$ 为对称轴，将所有的点对称过去。

- 第四种操作：以 $y=p$ 为对称轴，将所有的点对称过去。

接着给出 $Q$ 组询问，每次询问在某次操作过后某个点的坐标。

## 输入格式

第一行输入 $N$，表示 $N$ 个点。

接下来 $N$ 行，每行输入 $x_i,y_i$，表示第 $i$ 个点的坐标。

第 $N+2$ 行输入 $M$，表示操作次数。

接下来 $M$ 行，每行首先输入 $opt_i$，表示执行第 $opt_i$ 种操作。如果 $opt_i=3$ 或者 $opt_i=4$，再输入一个数字 $p$，表示一条直线。

第 $N+M+3$ 行输入 $Q$，表示询问个数。

接下来 $Q$ 行，每行两个数字 $A_i,B_i$，表示询问在第 $A_i$ 次操作过后第 $B_i$ 个点的坐标。特别的，$A_i=0$  表示询问初始的坐标。

## 输出格式

输出 $Q$ 行，每行输出对于一次询问的答案。

## 样例 #1

### 输入

```
1
1 2
4
1
3 3
2
4 2
5
0 1
1 1
2 1
3 1
4 1
```

### 输出

```
1 2
2 -1
4 -1
1 4
1 0
```

## 样例 #2

### 输入

```
2
1000000000 0
0 1000000000
4
3 -1000000000
4 -1000000000
3 1000000000
4 1000000000
2
4 1
4 2
```

### 输出

```
5000000000 4000000000
4000000000 5000000000
```


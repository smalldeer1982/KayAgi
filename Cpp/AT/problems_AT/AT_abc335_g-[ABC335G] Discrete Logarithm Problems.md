---
title: "[ABC335G] Discrete Logarithm Problems"
layout: "post"
diff: 省选/NOI-
pid: AT_abc335_g
tag: []
---

# [ABC335G] Discrete Logarithm Problems

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc335/tasks/abc335_g

$ N $ 個の整数 $ A_1,\ldots,A_N $ と素数 $ P $ が与えられます。 次の条件をともに満たす整数の組 $ (i,j) $ の個数を求めてください。

- $ 1\ \leq\ i,j\ \leq\ N $
- ある正整数 $ k $ が存在し、$ A_i^k\ \equiv\ A_j\ \bmod\ P $

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ P $ $ A_1 $ $ \ldots $ $ A_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ A_i\ <\ P $
- $ 2\ \leq\ P\ \leq\ 10^{13} $
- $ P $ は素数
- 入力は全て整数
 
### Sample Explanation 1

$ (1,1),(1,2),(1,3),(2,2),(3,3) $ の $ 5 $ 組が条件を満たします。 例えば $ (1,3) $ については、$ k=9 $ とすると $ A_1^9\ =\ 512\ \equiv\ 5\ =\ A_3\ \bmod\ 13 $ となります。

## 样例 #1

### 输入

```
3 13
2 3 5
```

### 输出

```
5
```

## 样例 #2

### 输入

```
5 2
1 1 1 1 1
```

### 输出

```
25
```

## 样例 #3

### 输入

```
10 9999999999971
141592653589 793238462643 383279502884 197169399375 105820974944 592307816406 286208998628 34825342117 67982148086 513282306647
```

### 输出

```
63
```


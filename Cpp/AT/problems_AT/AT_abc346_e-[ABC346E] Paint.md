---
title: "[ABC346E] Paint"
layout: "post"
diff: 普及/提高-
pid: AT_abc346_e
tag: []
---

# [ABC346E] Paint

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc346/tasks/abc346_e

$ H $ 行 $ W $ 列のグリッドがあり、はじめすべてのマスは色 $ 0 $ で塗られています。

これから $ i\ =\ 1,\ 2,\ \ldots,\ M $ の順で以下の操作を行います。

- $ T_i\ =\ 1 $ のとき、$ A_i $ **行目**のマスをすべて色 $ X_i $ に塗り替える
- $ T_i\ =\ 2 $ のとき、$ A_i $ **列目**のマスをすべて色 $ X_i $ に塗り替える

すべての操作を終えたとき、最終的に色 $ i $ で塗られたマスが存在するような各色 $ i $ についてその色で塗られたマスの個数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ H $ $ W $ $ M $ $ T_1 $ $ A_1 $ $ X_1 $ $ T_2 $ $ A_2 $ $ X_2 $ $ \vdots $ $ T_M $ $ A_M $ $ X_M $

## 输出格式

色 $ i $ で塗られたマスが存在するような整数 $ i $ の個数を $ K $ として、$ K\ +\ 1 $ 行出力せよ。

$ 1 $ 行目には $ K $ の値を出力せよ。

$ 2 $ 行目以降には色 $ i $ で塗られたマスが存在するような各色 $ i $ について、色の番号およびその色で塗られたマスの個数を出力せよ。

具体的には、$ i\ +\ 1 $ $ (1\ \leq\ i\ \leq\ K) $ 行目には色の番号 $ c_i $ と色 $ c_i $ で塗られたマスの個数 $ x_i $ をこの順に空白区切りで出力せよ。

ただし、色の番号は**昇順で**出力せよ。すなわち、$ c_1\ <\ c_2\ <\ \ldots\ <\ c_K $ を満たすように出力せよ。また、$ x_i\ >\ 0 $ が必要であることに注意せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ H,\ W,\ M\ \leq\ 2\ \times\ 10^5 $
- $ T_i\ \in\ \lbrace\ 1,\ 2\ \rbrace $
- $ T_i\ =\ 1 $ なる $ i $ に対して $ 1\ \leq\ A_i\ \leq\ H $
- $ T_i\ =\ 2 $ なる $ i $ に対して $ 1\ \leq\ A_i\ \leq\ W $
- $ 0\ \leq\ X_i\ \leq\ 2\ \times\ 10^5 $
- 入力される値はすべて整数

### Sample Explanation 1

操作によってグリッドの各マスの色は以下のように変化します。 ``` 0000 0000 0000 0000 0000 0000 → 5555 → 5550 → 5550 → 5550 0000 0000 0000 3333 2222 ``` 最終的に色 $ 0 $ で塗られたマスは $ 5 $ つ、色 $ 2 $ で塗られたマスは $ 4 $ つ、色 $ 5 $ で塗られたマスは $ 3 $ つです。

## 样例 #1

### 输入

```
3 4 4
1 2 5
2 4 0
1 3 3
1 3 2
```

### 输出

```
3
0 5
2 4
5 3
```

## 样例 #2

### 输入

```
1 1 5
1 1 1
1 1 10
2 1 100
1 1 1000
2 1 10000
```

### 输出

```
1
10000 1
```

## 样例 #3

### 输入

```
5 5 10
1 1 1
1 2 2
1 3 3
1 4 4
1 5 5
2 1 6
2 2 7
2 3 8
2 4 9
2 5 10
```

### 输出

```
5
6 5
7 5
8 5
9 5
10 5
```


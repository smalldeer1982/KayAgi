---
title: "[ABC361G] Go Territory"
layout: "post"
diff: 省选/NOI-
pid: AT_abc361_g
tag: ['并查集', '双指针 two-pointer']
---

# [ABC361G] Go Territory

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc361/tasks/abc361_g

$ 2 $ 次元平面上に $ N $ 個の石が置かれています。$ i $ 番目の石は座標 $ (X_i,Y_i) $ にあります。石は全て第一象限(軸上含む)の格子点にあります。

石の置かれていない格子点 $ (x,y) $ であって、上下左右のいずれかに $ 1 $ 移動することを繰り返すことで、石の置かれている座標を通らずに $ (-1,-1) $ に到達することが**できない**ものの個数を求めてください。

より正確には、石の置かれていない格子点 $ (x,y) $ であって、以下の $ 4 $ 条件を全て満たすような整数の組の有限列 $ (x_0,y_0),\ldots,(x_k,y_k) $ が存在**しない**ものの個数を求めてください。

- $ (x_0,y_0)=(x,y) $
- $ (x_k,y_k)=(-1,-1) $
- 全ての $ 0\leq\ i\ <\ k $ で $ |x_i-x_{i+1}|+|y_i-y_{i+1}|=1 $
- どの $ 0\ \leq\ i\ \leq\ k $ でも、$ (x_i,y_i) $ に石はない

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ X_1 $ $ Y_1 $ $ \vdots $ $ X_N $ $ Y_N $

## 输出格式

条件を満たす格子点の個数を出力せよ。

## 说明/提示

### 制約

- $ 0\ \leq\ N\ \leq\ 2\times\ 10^5 $
- $ 0\ \leq\ X_i,Y_i\ \leq\ 2\times\ 10^5 $
- $ (X_i,Y_i) $ は相異なる
- 入力は全て整数

### Sample Explanation 1

$ (1,1) $ から $ (-1,-1) $ に到達することができません。 !\[\](https://img.atcoder.jp/abc361/77ce335c7ebd31af0860ce2aa43ae32a.png)

### Sample Explanation 2

石が $ 1 $ つも置かれていないこともあります。

### Sample Explanation 3

$ (6,1),(6,2),(6,3),(7,1),(7,2),(7,3) $ の $ 6 $ 個が該当します。 !\[\](https://img.atcoder.jp/abc361/95ffd845cfab71f0cd6b3c8122eb1ac9.png)

## 样例 #1

### 输入

```
5
1 0
0 1
2 3
1 2
2 1
```

### 输出

```
1
```

## 样例 #2

### 输入

```
0
```

### 输出

```
0
```

## 样例 #3

### 输入

```
22
0 1
0 2
0 3
1 0
1 4
2 0
2 2
2 4
3 0
3 1
3 2
3 4
5 1
5 2
5 3
6 0
6 4
7 0
7 4
8 1
8 2
8 3
```

### 输出

```
6
```


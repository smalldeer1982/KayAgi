---
title: "[ABC380E] 1D Bucket Tool"
layout: "post"
diff: 普及+/提高
pid: AT_abc380_e
tag: ['并查集']
---

# [ABC380E] 1D Bucket Tool

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc380/tasks/abc380_e

$ 1 $ から $ N $ の番号がついた $ N $ 個のマスが一列に並んでいます。  
$ 1\ \leq\ i\ <\ N $ について、マス $ i $ とマス $ i+1 $ は隣接しています。

最初、マス $ i $ は色 $ i $ で塗られています。

クエリが $ Q $ 個与えられるので、順に処理してください。クエリは次の $ 2 $ 種類のいずれかです。

- `1 x c`: マス $ x $ から始めて「いまいるマスと同じ色に塗られている隣接するマス」への移動を繰り返すことで到達可能なマスを全て色 $ c $ に塗り替える
- `2 c`: 色 $ c $ で塗られているマスの個数を答える

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ Q $ $ \mathrm{query}_1 $ $ \vdots $ $ \mathrm{query}_Q $

各クエリは以下の $ 2 $ 種類のいずれかの形式で与えられる。

> $ 1 $ $ x $ $ c $

> $ 2 $ $ c $

## 输出格式

$ 2 $ 種類目のクエリの回数を $ q $ として、$ q $ 行出力せよ。  
$ i $ 行目には、$ i $ 回目のそのようなクエリに対する答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 5\times\ 10^5 $
- $ 1\ \leq\ Q\ \leq\ 2\times\ 10^5 $
- $ 1 $ 種類目のクエリにおいて、$ 1\ \leq\ x\ \leq\ N $
- $ 1,2 $ 種類目のクエリにおいて、$ 1\ \leq\ c\ \leq\ N $
- $ 2 $ 種類目のクエリが少なくとも $ 1 $ つ存在する
- 入力は全て整数である

### Sample Explanation 1

クエリにより、マスの色は図のように塗り替えられていきます。 
![図](https://img.atcoder.jp/abc380/c3bf3eec819a7b7fcbfd21065c06bab2.png)

## 样例 #1

### 输入

```
5 6
1 5 4
1 4 2
2 2
1 3 2
1 2 3
2 3
```

### 输出

```
3
4
```


---
title: "[ABC387F] Count Arrays"
layout: "post"
diff: 提高+/省选-
pid: AT_abc387_f
tag: []
---

# [ABC387F] Count Arrays

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc387/tasks/abc387_f

正整数 $ N,M $ および、各要素が $ 1 $ 以上 $ N $ 以下の整数である長さ $ N $ の数列 $ A=(A_1,A_2,\dots,A_N) $ が与えられます。

各要素が $ 1 $ 以上 $ M $ 以下の整数である長さ $ N $ の数列 $ x=(x_1,x_2,\dots,x_N) $ のうち、以下の条件を満たすものの数を $ 998244353 $ で割った余りを求めてください。

- 全ての $ i\ (1\leq\ i\leq\ N) $ について、$ x_i\ \leq\ x_{A_i} $

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N,M\ \leq\ 2025 $
- $ 1\leq\ A_i\leq\ N $
- 入力は全て整数
 
### Sample Explanation 1

$ x=(1,1,1),(2,2,1),(2,2,2),(3,3,1),(3,3,2),(3,3,3) $ が条件を満たします。

## 样例 #1

### 输入

```
3 3
2 1 1
```

### 输出

```
6
```

## 样例 #2

### 输入

```
4 9
1 1 1 1
```

### 输出

```
2025
```

## 样例 #3

### 输入

```
10 5
9 4 5 5 4 2 1 5 7 2
```

### 输出

```
10010
```


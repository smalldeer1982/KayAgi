---
title: "[ABC395F] Smooth Occlusion"
layout: "post"
diff: 普及+/提高
pid: AT_abc395_f
tag: ['贪心', '二分']
---

# [ABC395F] Smooth Occlusion

## 题目描述

高桥君共有 $2N$ 颗牙齿，其中 $N$ 颗是上牙，剩余的 $N$ 颗是下牙。

左数第 $i$ 颗（$1 \leq i \leq N$）上牙的长度为 $U_i$，左数第 $i$ 颗（$1 \leq i \leq N$）下牙的长度为 $D_i$。

当高桥君的牙齿满足以下两个条件时，称为「良好咬合」：
1. 存在一个整数 $H$，使得对于所有 $1 \leq i \leq N$，有 $U_i + D_i = H$。
2. 对于所有 $1 \leq i < N$，有 $|U_i - U_{i+1}| \leq X$。

高桥君可以执行以下操作任意次：
- 支付 $1$ 日元使用磨牙工具，选择一个长度为正的牙齿，将其长度减少 $1$。

除上述操作外，无法通过其他方式改变牙齿长度。请计算高桥君达成良好咬合所需支付的最小金额。

## 输入格式

输入通过标准输入给出，格式如下：

> $N$ $X$  
> $U_1$ $D_1$  
> $U_2$ $D_2$  
> $\vdots$  
> $U_N$ $D_N$

## 输出格式

输出达成良好咬合所需的最小金额。

## 说明/提示

### 约束条件
- $2 \leq N \leq 2 \times 10^5$
- $1 \leq U_i \leq 10^9$（$1 \leq i \leq N$）
- $1 \leq D_i \leq 10^9$（$1 \leq i \leq N$）
- $1 \leq X \leq 10^9$
- 输入均为整数

### 样例解释 1
初始牙齿长度示意图（图片链接略）。通过以下调整可达成良好咬合（调整后示意图略），总成本为 $15$ 日元。无法以 $14$ 日元或更少达成，因此输出 `15`。

### 样例解释 2
存在牙齿初始状态已满足良好咬合的情况。

### 样例解释 3
答案可能超过 32 位整数范围，需注意处理大数。

翻译由 DeepSeek R1 完成

## 样例 #1

### 输入

```
4 3
3 1
4 1
5 9
2 6
```

### 输出

```
15
```

## 样例 #2

### 输入

```
4 1000000000
3 3
3 3
3 3
3 3
```

### 输出

```
0
```

## 样例 #3

### 输入

```
4 1
1000000000 1000000000
1000000000 1000000000
1000000000 1000000000
1 1
```

### 输出

```
5999999994
```

## 样例 #4

### 输入

```
15 128
748 169
586 329
972 529
432 519
408 587
138 249
656 114
632 299
984 755
404 772
155 506
832 854
353 465
387 374
567 385
```

### 输出

```
9460
```


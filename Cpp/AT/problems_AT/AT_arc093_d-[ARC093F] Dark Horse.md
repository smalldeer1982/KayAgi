---
title: "[ARC093F] Dark Horse"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_arc093_d
tag: []
---

# [ARC093F] Dark Horse

## 题目描述

**【题意简述】**

- 有 $2^N$ 个人，按照满二叉树的形态进行淘汰赛，一开始的排列顺序为所有 $(2^N)!$ 个排列之一。
- 你是第 $1$ 个人，已知每一对人之间的实力关系，具体地说：
  - 给出 $M$ 个人 $A_1 \sim A_M$。
  - 这 $M$ 个人都打得过你。
  - 你打得过除了这 $M$ 个人之外的所有其他人。
  - 对于剩下的情况（你不参与的情况），编号小的人胜利。
- 问你在所有的 $(2^N)!$ 种情况中，有多少种情况可以取得最终胜利。答案对 ${10}^9 + 7$ 取模。

## 输入格式

第一行两个整数 $N, M$。  
第二行 $M$ 个整数 $A_1, A_2, \ldots , A_M$。

## 输出格式

输出一个数表示方案数，对 ${10}^9 + 7$ 取模。

## 说明/提示

$1 \le N \le 16$，$0 \le M \le 16$，$2 \le A_i \le 2^N$，$A_i < A_{i + 1}$。

## 样例 #1

### 输入

```
2 1
3
```

### 输出

```
8
```

## 样例 #2

### 输入

```
4 3
2 4 6
```

### 输出

```
0
```

## 样例 #3

### 输入

```
3 0
```

### 输出

```
40320
```

## 样例 #4

### 输入

```
3 3
3 4 7
```

### 输出

```
2688
```

## 样例 #5

### 输入

```
16 16
5489 5490 5491 5492 5493 5494 5495 5497 18993 18995 18997 18999 19000 19001 19002 19003
```

### 输出

```
816646464
```


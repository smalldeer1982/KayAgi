---
title: "[ARC182F] Graph of Mod of Linear"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_arc182_f
tag: ['数论']
---

# [ARC182F] Graph of Mod of Linear

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc182/tasks/arc182_f

整数 $ N,Q $ と長さ $ Q $ の整数列 $ A=(A_1,A_2,\ldots,A_Q),B=(B_1,B_2,\ldots,\ B_Q) $ が与えられます。

$ k=1,2,\ldots,Q $ に対して以下の問題を解いてください。

> 頂点に $ 0 $ から $ N-1 $ までの番号が付けられている $ N $ 頂点 $ N $ 辺の無向グラフがあります。 $ i $ 番目の辺 $ (0\le\ i\ <\ N) $ は頂点 $ i $ と頂点 $ (A_k\ \times\ i+B_k)\ \text{mod}\ N $ を相互に結んでいます。この無向グラフの連結成分数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ Q $ $ A_1 $ $ B_1 $ $ A_2 $ $ B_2 $ $ \vdots $ $ A_Q $ $ B_Q $

## 输出格式

$ Q $ 行出力せよ。 $ i $ 行目には $ k=i $ に対する答えを出力せよ。

## 说明/提示

### 制約

- $ 1\le\ N\le\ 10^6 $
- $ 1\le\ Q\le\ 10^5 $
- $ 0\le\ A_k\ <\ N $
- $ 0\le\ B_k\ <\ N $
- 入力はすべて整数

### Sample Explanation 1

$ k=1 $ の場合、以下の $ 2 $ つの連結成分に分けられます： - 頂点 $ 0,1,3,4 $ からなる連結成分。 - 頂点 $ 2,5 $ からなる連結成分。 よって、$ k=1 $ の場合の答えは $ 2 $ になります。

### Sample Explanation 2

$ k=1 $ の場合、以下の $ 3 $ つの連結成分に分けられます： - 頂点 $ 0,1,3,6,10 $ からなる連結成分。 - 頂点 $ 2,5,7,8,9 $ からなる連結成分。 - 頂点 $ 4 $ からなる連結成分。 よって、$ k=1 $ の場合の答えは $ 3 $ になります。

## 样例 #1

### 输入

```
6 3
2 1
0 1
1 0
```

### 输出

```
2
1
6
```

## 样例 #2

### 输入

```
11 3
9 1
5 3
8 0
```

### 输出

```
3
3
2
```

## 样例 #3

### 输入

```
182 3
61 2
77 88
180 55
```

### 输出

```
36
14
9
```


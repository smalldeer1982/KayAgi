---
title: "[ARC184C] Mountain and Valley Folds"
layout: "post"
diff: 省选/NOI-
pid: AT_arc184_c
tag: ['动态规划 DP', '数学']
---

# [ARC184C] Mountain and Valley Folds

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc184/tasks/arc184_c

厚さを無視できる細長い紙があります。右端を持ち上げ、中央を折り目にして左端に合わせて折りたたむ操作を $ 100 $ 回行い、もとに戻します。このとき紙には折り目が $ 2^{100}\ -\ 1 $ 個あり、これらは山折り、谷折りの $ 2 $ 種類に分類できます。下の図は $ 2 $ 回操作を行った状態を表した図で、赤い実線は山折り、赤い点線は谷折りを表します。

山折り、谷折りとは- ある折り目が山折りであるとは、折り目が紙の裏面同士が重なる方向に折られたことをいいます。
- ある折り目が谷折りであるとは、折り目が紙の表面同士が重なる方向に折られたことをいいます。

![image of folds](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_arc184_c/a6888c2d5e0c2b2f18956db7954caa4251b38be7.png)

長さ $ N $ の非負整数列 $ A\ =\ (A_1,\ A_2,\ \dots\ ,A_N) $ が与えられます。ここで $ 0\ =\ A_1\ <\ A_2\ <\ \dots\ <\ A_N\ \leq\ 10^{18} $ です。

$ 1 $ 以上 $ 2^{100}\ -\ A_N\ -\ 1 $ 以下の整数 $ i $ に対し、 $ f(i) $ を以下のように定義します。

- $ k\ =\ 1,\ 2,\ \dots\ ,N $ のうち、左から $ i\ +\ A_k $ 番目の折り目が山折りであるものの個数

$ f(1),\ f(2),\ \dots\ ,f(2^{100}\ -\ A_N\ -\ 1) $ の最大値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ \cdots $ $ A_N $

## 输出格式

答えを $ 1 $ 行に出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 10^3 $
- $ 0\ =\ A_1\ <\ A_2\ <\ \dots\ <\ A_N\ \leq\ 10^{18} $

### Sample Explanation 1

山折り、谷折りをそれぞれ `M`, `V` と表すことにすると、折り目には `MMVM` と連続する箇所が存在します。`MMMM` と連続する箇所は存在しないので、答えは $ 3 $ となります。

## 样例 #1

### 输入

```
4
0 1 2 3
```

### 输出

```
3
```

## 样例 #2

### 输入

```
6
0 2 3 5 7 8
```

### 输出

```
4
```


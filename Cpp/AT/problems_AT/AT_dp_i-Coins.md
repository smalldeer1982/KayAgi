---
title: "Coins"
layout: "post"
diff: 普及+/提高
pid: AT_dp_i
tag: []
---

# Coins

## 题目描述

设 $N$ 是一个正的奇数。

有 $N$ 枚硬币，每枚硬币上标有编号 $1, 2, \ldots, N$。对于每个 $i$ ($1 \leq i \leq N$)，掷硬币 $i$ 时，正面朝上的概率是 $p _ i$，反面朝上的概率是 $1 - p _ i$。

太郎君把这 $N$ 枚硬币全部投掷了一次。请计算正面朝上的硬币数多于反面朝上的硬币数的概率。

## 输入格式

输入以以下形式从标准输入中给出：

> $N$ $p _ 1$ $p _ 2$ $\ldots$ $p _ N$

## 输出格式

输出正面朝上的硬币数多于反面朝上的硬币数的概率。绝对误差不超过 $10 ^ {-9}$ 的结果将被视为正确。

### 约束条件

- $N$ 是奇数。
- $1 \leq N \leq 2999$
- $p _ i$ 是实数，精确到小数点后两位。
- $0 < p _ i < 1$

### 样例解释 1

计算正面朝上的硬币数多于反面朝上的硬币数的每种情况的概率如下：

- 当（硬币 $1$，硬币 $2$，硬币 $3$）$=$（正, 正, 正）时，概率是 $0.3 \times 0.6 \times 0.8 = 0.144$。
- 当（硬币 $1$，硬币 $2$，硬币 $3$）$=$（反, 正, 正）时，概率是 $0.7 \times 0.6 \times 0.8 = 0.336$。
- 当（硬币 $1$，硬币 $2$，硬币 $3$）$=$（正, 反, 正）时，概率是 $0.3 \times 0.4 \times 0.8 = 0.096$。
- 当（硬币 $1$，硬币 $2$，硬币 $3$）$=$（正, 正, 反）时，概率是 $0.3 \times 0.6 \times 0.2 = 0.036$。

因此，正面朝上的硬币数多于反面朝上的硬币数的概率是 $0.144 + 0.336 + 0.096 + 0.036 = 0.612$。

### 样例解释 2

例如，输出 `0.500`、`0.500000001` 或 `0.499999999` 等答案都将被视为正确。

---

Translated by User 735713.

## 样例 #1

### 输入

```
3
0.30 0.60 0.80
```

### 输出

```
0.612
```

## 样例 #2

### 输入

```
1
0.50
```

### 输出

```
0.5
```

## 样例 #3

### 输入

```
5
0.42 0.01 0.42 0.99 0.42
```

### 输出

```
0.3821815872
```


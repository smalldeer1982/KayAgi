---
title: "Alicia&#39;s Rare card Challenge"
layout: "post"
diff: 难度0
pid: AT_maximum_2013_e
tag: []
---

# Alicia&#39;s Rare card Challenge

## 题目描述

「ガラガラガラ～，快来张稀有卡！」我沉迷于一款当下流行的社交卡牌游戏。在这款游戏中，玩家通过“卡片加载器”抽卡，进行卡片合成来强化自己的牌组，然后与电脑或其他玩家对战。像这样的游戏常见得很，不氪金就很难获得完整的乐趣。刚才我抽到了那张最弱小、战力最差的卡片「慢吞吞兔子\*(N)」（名字后面括号内的是稀有度）。我不禁想：什么时候能抽到我梦想的稀有卡呢？

我是一个囊中羞涩的玩家，不想花钱，但对游戏女主角“艾丽西亚”的稀有卡片垂涎不已。于是，我找朋友帮忙调查卡片加载器的信息。可惜的是，我们仅发现每第10次抽卡必定能得到「慢吞吞兔子\*(N)」。

就在这时，游戏公司宣布了一场特别活动。活动内容是公开部分卡片加载器中的卡片种类和相应概率，据说在活动期间稀有卡更容易获得。活动详情指出，虽然卡片生成机制未变，但卡片种类和获得概率略有调整，让抽稀有卡的机会大增。

我按捺不住想用卡片加载器，但突然想到：“提高概率是好事，但要抽多少次才能拿到艾丽西亚的卡片呢？”我没有充足的资金，但有充足的时间。只要知道需要抽多少次，就能推测出大概的入手时间。如果是下周，那我这一整周都会兴奋不已；但如果是一个月后，活动可能就结束了。“哦，神啊，请赐我一张稀有卡吧。”

你的任务是根据卡片的获取概率和试验次数，计算“我”能获得艾丽西亚稀有卡的期望数量。

在这里，稀有卡指稀有度为 R（稀有）、S（超级稀有）、H（高超稀有）中的任意一种。

### 输入格式

输入格式如下所示：
```
N T
card_name_1 rarity_1 rate_1
...
card_name_N rarity_N rate_N
```

1. 第一行包含两个整数 $N$ 和 $T$。
   - $N$ 表示获得的概率信息条数。
   - 保证 $1 \le N \le 10,000$。
   - $T$ 表示试验次数。
   - 保证 $0 \le T \le 100,000,000$。
2. 接下来 $N$ 行，每行分别提供卡片名称、稀有度及出现频率，用空格分隔。
   - $card\_name_i$ 表示第 $i$ 张卡片的名称。
   - $card\_name_i$ 由字母、数字及 `[`, `]`, `&`, `!`, `?`, `+`, `-`, `_`, `/` 组成。
   - 保证 $card\_name_i$ 长度在 1 到 20 个字符之间。
   - 如果名称中包含“Alicia”，那它是艾丽西亚的卡片。例如，“艾丽西亚\[小憩\]”被表示为“Alicia\[hitoyasumi\]”。
   - $rarity_i$ 表示第 $i$ 张卡片的稀有度，可能为 `N`, `R`, `S`, `H` 之一。
   - $rate_i$ 是出现频率。
   - 保证 $1 \le rate_i \le 100,000$。
   - 当使用卡片加载器时，第 $i$ 张卡片生成的概率为 $rate_i / (rate_1 + … + rate_N)$。

### 输出格式

输出艾丽西亚稀有卡的期望数量，误差允许在 $10^{-6}$ 以内。

### 输入样例
```
3 3
Alicia[Normal] N 40
Superheroine_Alicia R 9
Secret_of_Alicia H 1
```

### 输出样例
```
0.6
```

 **本翻译由 AI 自动生成**


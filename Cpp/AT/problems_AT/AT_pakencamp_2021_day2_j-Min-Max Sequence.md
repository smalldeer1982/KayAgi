---
title: "Min-Max Sequence"
layout: "post"
diff: 难度0
pid: AT_pakencamp_2021_day2_j
tag: []
---

# Min-Max Sequence

## 题目描述

给定两个整数 $N,M$ 和两个长为 $N$ 的数列 $T$ 和 $A$。

求出满足以下所有条件的整数列 $b$ 的个数 $\bmod\ 998244353$ 的结果。

- $b$ 的长度为 $N+1$，所有元素的值均在 $1$ 以上 $M$ 以下；
- 对于任意满足 $1\le i\le N$ 的整数 $i$，当 $T_i$ 为 $0$ 时 $\min(b_i,b_{i+1})=A_i$，否则 $\max(b_i,b_{i+1})=A_i$。

## 输入格式

第一行为两个整数 $N,M$。

第二行为 $N$ 个整数，表示数列 $T$。

第三行为 $N$ 个整数，表示序列 $A$。

## 输出格式

一行一个整数，题目所求。

## 说明/提示

#### 样例 #1 解释

仅当 $b=(1,2,2)$ 时，满足条件。

#### 数据规模与约定

对于 $100\%$ 的测试点，保证：

- $1\le N,M\le 2\times 10^5$；
- $T_i\in\{0,1\}$；
- $1\le A_i\le M$。

## 样例 #1

### 输入

```
2 2
0 0
1 2
```

### 输出

```
1
```

## 样例 #2

### 输入

```
2 4
0 1
1 2
```

### 输出

```
6
```

## 样例 #3

### 输入

```
15 509
1 0 1 1 1 1 0 1 1 1 1 1 1 0 0
367 241 241 160 160 156 156 459 395 288 288 408 505 270 270
```

### 输出

```
684062245
```


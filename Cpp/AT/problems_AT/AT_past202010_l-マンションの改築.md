---
title: "マンションの改築"
layout: "post"
diff: 难度0
pid: AT_past202010_l
tag: []
---

# マンションの改築

## 题目描述

维护一个长为 $n$ 的数组 $h$。支持以下三种操作：

- `1 v`：将数组中所有**下标为奇数**的元素全部加上 $v$。
- `2 v`：将数组中所有**下标为偶数**的元素全部加上 $v$。
- `3 u v`：将 $h_u$ 加上 $v$。

请在每次操作结束后，输出一行一个整数，表示：对于所有满足 $1 \le i \lt n$ 的整数 $i$，有多少个满足在本次操作后 $h_i=h_{i+1}$？

## 输入格式

第一行为数组长度 $n$ 和操作次数 $q$。

第二行为 $n$ 个整数，表示数列 $h$。

接下来 $q$ 行每行一个操作，格式见题。

## 输出格式

输出 $q$ 行，第 $i$ 行输出的整数为在第 $i$ 次操作结束后，满足 $1 \le j \lt n$ 且 $h_j=h_{j+1}$ 的整数 $j$ 的个数。

## 说明/提示

#### 数据规模与约定

对于全部测试点，数据保证：

- 输入数值均为整数；
- $2 \le n \le 2 \times 10^5$，$1 \le q \le 2 \times 10^5$；
- $1 \le h,v \le 10^9$，$1 \le u \le n$。

## 样例 #1

### 输入

```
4 2
10 20 30 20
1 10
3 4 20
```

### 输出

```
1
2
```

## 样例 #2

### 输入

```
10 20
108 112 112 110 110 109 108 110 111 112
3 4 2
1 1
3 9 1
3 4 2
2 1
1 1
3 7 2
2 1
3 8 2
1 1
2 1
1 1
3 10 2
3 6 1
2 1
3 7 1
1 1
2 1
3 3 2
3 3 2
```

### 输出

```
2
2
1
1
2
1
0
3
3
0
3
0
0
0
4
3
1
3
3
2
```


---
title: "一触即発"
layout: "post"
diff: 难度0
pid: AT_past202012_f
tag: []
---

# 一触即発

## 题目描述

[problemUrl]: https://atcoder.jp/contests/past202012-open/tasks/past202012_f

薬品が $ N $ 種類あり、薬品 $ 1 $ から薬品 $ N $ まで番号付けされています。あなたは、これらのうち $ 1 $ 種類以上を選んで混ぜ、新たな物質を作ります。  
 これらの薬品は危険なため、混ぜ方によっては爆発することがあります。  
 $ 1\ \le\ i\ \le\ M $ を満たす整数 $ i $ が存在して、薬品 $ A_i,\ B_i,\ C_i $ の $ 3 $ 種類の薬品が全て混ぜられているとき、爆発します。それ以外の場合には爆発しません。  
 あなたは痛い目を見たくないので、直ちに爆発するような混ぜ方はしません。しかし、できる限り爆発寸前の物質を作りたいので、「物質に薬品 $ x $ を新たに追加すると爆発するような薬品 $ x $ の数」をできる限り大きくしようとします。  
 この数として考えられる最大の値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ A_1 $ $ B_1 $ $ C_1 $ $ A_2 $ $ B_2 $ $ C_2 $ $ A_3 $ $ B_3 $ $ C_3 $ $ \hspace{25pt}\ \vdots $ $ A_M $ $ B_M $ $ C_M $

## 输出格式

作る物質に新たに追加すると爆発するような薬品の数として考えられる最大値を出力せよ。

## 说明/提示

### 注意

この問題に対する言及は、2020/12/27 18:00 JST まで禁止されています。言及がなされた場合、賠償が請求される可能性があります。 試験後に総合得点や認定級を公表するのは構いませんが、どの問題が解けたかなどの情報は発信しないようにお願いします。

### 制約

- $ 3\ \le\ N\ \le\ 14 $
- $ 1\ \le\ M\ \le\ \frac{N(N\ -\ 1)(N\ -\ 2)}{6} $
- $ 1\ \le\ A_i\ \lt\ B_i\ \lt\ C_i\ \le\ N $
- $ (A_i,\ B_i,\ C_i)\ \neq\ (A_j,\ B_j,\ C_j)\ (i\ \neq\ j) $
- 入力は全て整数

### Sample Explanation 1

薬品 $ 1 $ と薬品 $ 2 $ を選んで混ぜると、直ちに爆発はせず、薬品 $ 3,\ 4 $ のどちらを追加しても爆発するので、「物質に新たに追加すると爆発するような薬品の種類数」 が $ 2 $ となります。 この数をこれより大きくすることはできないので答えは $ 2 $ です。

### Sample Explanation 2

薬品 $ 2 $ と薬品 $ 5 $ を選んで混ぜると、薬品 $ 1,\ 3,\ 4,\ 6 $ 全てが「新たに追加すると爆発するような薬品」となります。

## 样例 #1

### 输入

```
4 2
1 2 3
1 2 4
```

### 输出

```
2
```

## 样例 #2

### 输入

```
6 7
1 2 5
2 3 5
2 4 5
1 2 3
4 5 6
2 5 6
1 3 5
```

### 输出

```
4
```

## 样例 #3

### 输入

```
5 1
1 2 3
```

### 输出

```
1
```


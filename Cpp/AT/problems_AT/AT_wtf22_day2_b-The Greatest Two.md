---
title: "The Greatest Two"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_wtf22_day2_b
tag: []
---

# The Greatest Two

## 题目描述

[problemUrl]: https://atcoder.jp/contests/wtf22-day2-open/tasks/wtf22_day2_b

整数 $ N,K $ と $ (1,2,\cdots,N) $ の順列 $ P=(P_1,P_2,\cdots,P_N) $ が与えられます．

あなたは以下の操作を好きな回数 ($ 0 $ 回でもよい) 行うことができます．

- 整数 $ i $ ($ 1\ \leq\ i\ \leq\ N-K+1 $) を選ぶ． $ P_i,P_{i+1},\cdots,P_{i+K-1} $ の中で $ 1 $ 番目に大きい要素と $ 2 $ 番目に大きい要素の値を入れ替える．
 
操作後の $ P $ としてあり得る順列の個数を $ 998244353 $ で割ったあまりを求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ K $ $ P_1 $ $ P_2 $ $ \cdots $ $ P_N $

## 输出格式

答えを出力せよ．

## 说明/提示

### 制約

- $ 2\ \leq\ K\ \leq\ N\ \leq\ 250000 $
- $ (P_1,P_2,\cdots,P_N) $ は $ (1,2,\cdots,N) $ の順列である．
- 入力される値はすべて整数．
 
### Sample Explanation 1

この例では可能な操作は $ i=1 $ のみです． $ 1 $ 回操作すると，$ P_1,P_2,P_3 $ の中で $ 1 $ 番目に大きい要素 ($ =P_2=3 $)と $ 2 $ 番目に大きい要素 ($ =P_1=2 $) の値が入れ替わり，$ P=(3,2,1) $ になります． さらにもう一度操作すると，$ P=(2,3,1) $ になります． よって，操作後の順列としてあり得るのは $ P=(2,3,1),(3,2,1) $ の $ 2 $ つです．

## 样例 #1

### 输入

```
3 3
2 3 1
```

### 输出

```
2
```

## 样例 #2

### 输入

```
3 2
1 3 2
```

### 输出

```
6
```

## 样例 #3

### 输入

```
10 5
1 2 3 4 5 6 7 8 9 10
```

### 输出

```
144
```

## 样例 #4

### 输入

```
20 5
8 13 6 11 20 3 12 18 17 4 10 1 7 16 19 5 2 15 14 9
```

### 输出

```
1451520
```


---
title: "[ABC402E] Payment Required"
layout: "post"
diff: 普及+/提高
pid: AT_abc402_e
tag: ['标签464']
---

# [ABC402E] Payment Required

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc402/tasks/abc402_e

在 30XX 年，某场比赛中每次提交都需要支付费用。

这场比赛共有 $N$ 道题目。第 $i$ 道题目的分值为 $S_i$ 分，每次提交需要支付 $C_i$ 日元。

高桥君在第 $i$ 道题目上提交时，有 $P_i\%$ 的概率能正确解答该题。每次提交能否正确解答与之前的提交结果相互独立。

高桥君当前拥有 $X$ 日元。提交所花费的总金额不能超过 $X$ 日元。

请计算在高桥君采取最优提交策略的情况下，他最终获得的总分的期望值最大值。

注意：
- 高桥君可以根据之前的提交结果决定下一次提交哪道题目
- 同一道题目即使多次正确解答，得分也不会重复计算

## 输入格式

输入通过标准输入给出，格式如下：

> $N$ $X$  
> $S_1$ $C_1$ $P_1$  
> $S_2$ $C_2$ $P_2$  
> $\vdots$  
> $S_N$ $C_N$ $P_N$


## 输出格式

输出答案。当输出值与真实值的绝对误差或相对误差不超过 $10^{-6}$ 时，将被判定为正确。


## 说明/提示

### 约束条件

- $1 \leq N \leq 8$
- $1 \leq S_i \leq 2718$
- $1 \leq C_i \leq X \leq 5000$
- $1 \leq P_i \leq 100$
- 输入中的所有数值均为整数

### 样例解释 1

考虑以下提交策略：
1. 首先提交第 1 题
2. 如果提交正确，则提交第 2 题；否则再次提交第 1 题

这种情况下得分的期望值为 95 分。无法使期望值超过 95 分，因此输出 95。

翻译由 DeepSeek V3 完成

## 样例 #1

### 输入

```
3 2
100 1 50
200 1 20
1000 1 1
```

### 输出

```
95
```

## 样例 #2

### 输入

```
2 7
100 3 50
100 2 50
```

### 输出

```
125
```

## 样例 #3

### 输入

```
5 32
500 9 57
300 4 8
300 3 32
300 7 99
100 8 69
```

### 输出

```
953.976967020096
```

## 样例 #4

### 输入

```
7 78
100 1 100
200 2 90
300 3 80
400 4 60
450 5 50
525 6 30
650 7 1
```

### 输出

```
1976.2441416041121021
```


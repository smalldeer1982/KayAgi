# [ABC006B] トリボナッチ数列

## 题目描述

有一种数列叫做“Tribonacci 数列”。这个数列的每一项等于它前三项的和。  
具体地，定义如下：  
1. $a_1 = 0$，$a_2 = 0$，$a_3 = 1$  
2. $a_n = a_{n-1} + a_{n-2} + a_{n-3}$

作为参考，下面给出 Tribonacci 数列的部分项：

| 项数 | $a_1$ | $a_2$ | $a_3$ | $a_4$ | $a_5$ | $a_6$ | $a_7$ | $a_8$ | …… | $a_n$                               |
| :--- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :--------------------------------------- |
| 值   | 0      | 0      | 1      | 1      | 2      | 4      | 7      | 13     | …… | $a_{n-1} + a_{n-2} + a_{n-3}$ |

请你求出该数列的第 $n$ 项 $a_n$，并输出 $a_n$ 除以 $10007$ 的余数。

输入通过标准输入给出，格式如下：  
> $n$

其中，整数 $n$ 满足 $1 \leq n \leq 10^6$。请输出 Tribonacci 数列的第 $n$ 项 $a_n$ 除以 $10007$ 的余数，输出占一行。

另外，输出末尾需要换行。

例如：

```
7
```

```
7
```

- 第 7 项的 Tribonacci 数是 7。

```
1
```

```
0
```

- 第 1 项的 Tribonacci 数是 0。

```
100000
```

```
7927
```

- 注意输出 $a_n$ 除以 $10007$ 的余数。

## 说明/提示

无。

由 ChatGPT 4.1 翻译

# 题解

## 作者：_Qer (赞：5)

题目很像斐波那契数列，只不过斐波那契数列是：

$F_i = F_{i-1} + F_{i-2}$；

而本题是：

$F_i = F_{i-1} + F_{i-2} + F_{i-3}$；

____

但是题目的数据范围不是很清楚，不好开数组，可能因为开小了一点就RE，所以要用一点小技巧

因为是用递推来求第N项，而每一项的值只与前三项的值相关，所以我们不需要把每一个值都存下来，开一个长度为4的数组就够用了。

而这个地方的实现难度也不大（伪代码）：

```
	F[0]=F[1]=0
	F[2]=1
	For 4 to N
		F[3]=F[2]+F[1]+F[0]
        F[0]=F[1]
        F[1]=F[2]
        F[2]=F[3]
	output(F[i])
```

每次把后面新求出来的数往前移，最早的数就挤出来，然后空出最后一位来求，最后输出最后一位（也就是第N位）就可以了。

```cpp
#include <bits/stdc++.h>
using namespace std;
int n;//要求第N项
int num[4];//即上文的F数组
int main() {
    cin >> n;
    num[0] = num[1] = 0;
    num[2] = 1;//根据题目要求初始化
    if (n <= 3) {
        cout << num[n-1] <<endl;//如果N小于4就直接输出
        return 0;
    }
    for (int i = 4; i <= n; ++i) {
        num[3] = num[0] + num[1] + num[2];
        num[3] %= 10007;
        num[0] = num[1];
        num[1] = num[2];
        num[2] = num[3];
    }//即上文伪代码的实现
    cout << num[3] << endl;//输出答案
    return 0;
}
```


---

## 作者：失之_连心 (赞：4)

题目本身就是斐波那契数列的翻版，但是与斐波那契数列不同的是本题可能数据过大，而且经过本蒟蒻测试，暴力for 连long long都装不下，所以我用递推来做
```
#include<bits/stdc++.h>//万能头文件
using namespace std;
int main()
{
	int n;
	cin>>n;
	int a=0,b=0,c=1;//三个数的初始化
	if(n==1||n==2){//来避免n<=3的情况
	   cout<<0;
	   return 0;
    }
    if(n==3){//3的情况
       cout<<1;
       return 0;
    }
	for(int i=4;i<=n;i++){//接下来从4到n来循环计算
		int t=(a+b+c)%10007;//用一个中间量t来存储a+b+c的值
		a=b;//替换
		b=c;
		c=t;
    }
    cout<<c%10007;//输出
	return 0;//结束程序
}
```

---


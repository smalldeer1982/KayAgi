# [ABC251D] At Most 3 (Contestant ver.)

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc251/tasks/abc251_d

整数 $ W $ が与えられます。  
 あなたは以下の条件をすべて満たすようにいくつかのおもりを用意することにしました。

- おもりの個数は $ 1 $ 個以上 $ 300 $ 個以下である。
- おもりの重さは $ 10^6 $ 以下の正整数である。
- $ 1 $ 以上 $ W $ 以下のすべての正整数は **良い整数** である。ここで、以下の条件を満たす正整数 $ n $ を良い整数と呼ぶ。
  - 用意したおもりのうち $ \bf{3} $ **個以下** の異なるおもりを自由に選んで、選んだおもりの重さの和を $ n $ にすることができる。

条件を満たすようなおもりの組を $ 1 $ つ出力してください。

## 说明/提示

### 制約

- $ 1\ \leq\ W\ \leq\ 10^6 $
- $ W $ は整数

### Sample Explanation 1

上の出力は重さ $ 1 $ のおもり、重さ $ 2 $ のおもり、重さ $ 3 $ のおもりの $ 3 $ 個のおもりを用意しています。 この出力は条件を満たしています。特に $ 3 $ 番目の条件について、以下のようにおもりを選ぶことで $ 1 $ 以上 $ W $ 以下の整数すべてが良い整数であることが確認できます。 - $ 1 $ 番目のおもりのみを選ぶと、重さの和は $ 1 $ になる。 - $ 2 $ 番目のおもりのみを選ぶと、重さの和は $ 2 $ になる。 - $ 3 $ 番目のおもりのみを選ぶと、重さの和は $ 3 $ になる。 - $ 1 $ 番目と $ 3 $ 番目のおもりを選ぶと、重さの和は $ 4 $ になる。 - $ 2 $ 番目と $ 3 $ 番目のおもりを選ぶと、重さの和は $ 5 $ になる。 - $ 1 $ 番目、$ 2 $ 番目と $ 3 $ 番目のおもりを選ぶと、重さの和は $ 6 $ になる。

### Sample Explanation 2

同じ重さのおもりを $ 2 $ 個以上用意しても良いです。

## 样例 #1

### 输入

```
6```

### 输出

```
3
1 2 3```

## 样例 #2

### 输入

```
12```

### 输出

```
6
2 5 1 2 5 1```

# 题解

## 作者：LYJ_B_O_Creation (赞：12)

# 题目大意

给定一个变量 $W$，请你构造一个数组 $a$，其中最多包含 $300$ 个元素，使得所有小于等于 $W$ 的正整数都可以被 $a$ 数组中的 **最多 $3$ 个** 元素相加表示出来。

# 思路

这一道题，乍一看很繁琐，但是我们仔细观察一下数据范围：$10^6,300$。似乎在暗示我们：这道题不需要考虑 $W$。

那么，我们就可以想一想，如何用 $300$ 个数表示 $10^6$ 的范围呢？

想一下小学数学书上的算盘，“个位、十位、百位……”，发现了什么？—— 我们可以按数位分开算！

我们先不考虑 $1000000$ 这个数，因为除了它以外的所有数字都可以补足成 $6$ 位数。即 $\overline{abcdef}$ 的形式。

这里要提一下题面翻译的锅，“$3$ **個以下**” 是 $x\le 3$ 的意思，即最多只能用三个数来表示 $W$。

好了，现在回头整理整道题目，把所有线索串联起来：最多 $300$ 个数、所求数被表示成 $\overline{abcdef}$、$3$ 个数、数位……

真相只有一个——

我们把 $W$ 拆分成 $3$ 个部分，即将 $\overline{abcdef}$ 分成 $\overline{ab}$、$\overline{cd}$、$\overline{ef}$。带入到算式中，就是：

$$\overline{abcdef} = \overline{ab} \times 10000 + \overline{cd} \times 100 + \overline{ef}$$

那么，我们就把一个 $6$ 位数，分成了 $3$ 个 $2$ 位数，而每个 $2$ 位数的范围是 $1\le x \le 99$，再加上刚才被抛出的 $1000000$，刚好没有超过 $300$。

最后，我们的整个数组就变成了（为了方便，我们将每个部分都凑成 $100$ 个数）：

- 第一部分：$1,2,3,\dots 100$（共 $100$ 个）
- 第二部分：$100,200,300,\dots 10000$（共 $100$ 个）
- 第三部分：$10000,20000,30000,\dots 1000000$（共 $100$ 个）

一共是 $100+100+100=300$ 个元素。

# 代码
```c
#include <bits/stdc++.h>
using namespace std;

int main()
{
	cout << 300 << endl;
	for(int i = 1; i <= 100; i++) // 第一部分
	{
		cout << i << " ";
	}
	for(int i = 1; i <= 10000; i += 100) // 第二部分
	{
		cout << i << " ";
	}
	for(int i = 10000; i <= 1000000; i += 10000) // 第三部分
	{
		cout << i << " ";
	}
	cout << endl;
	return 0;
}
```

感谢 @[Moon_Traveller](/user/682394) 提供的支持。

---

## 作者：沉石鱼惊旋 (赞：6)

### 题目翻译

给出 $w$，问造一个数组，满足选三个正好是等于所有 $\leqslant w$ 的。

### 题目思路

这个 $w$ 最多 $7$ 位，但 $<w$ 只有 $6$ 位。

我们把这个数设为 $\overline{abcdef}$，然后分成 $\overline{ab}$、$\overline{cd}$、$\overline{ef}$。

每个都有 $99$ 种可能，加上 $10^6$，一共 $298$ 个。

### 主要代码

```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	cout<<298<<endl;
	for(int i=1;i<=99;i++)
	{
		cout<<i<<" ";	
	}
	for(int i=1;i<=99;i++)
	{
		cout<<i*100<<" ";	
	}
	for(int i=1;i<=99;i++)
	{
		cout<<i*100*100<<" ";	
	}
	cout<<1000000<<endl;
	return 0;
}
```



---

## 作者：FS_qwq (赞：2)

## 题目

给你一个整数 $W(1 \le W \le 10^6)$ 。 你必须构造一个数组 $a$ ，包含最多 $300$ 个元素，使得小于等于 $W$ 的所有正整数都可以被 $a$ 数组的元素相加表示出来。

## 题目大意

有一个整数 $W$ 和一个数组 $a$ ，要使小于等于 $W$ 的所有正整数都可以被 $a$ 数组的元素相加表示出来。

## 题目解答

我们把这些元素分成三个区间，然后因为 $1 \le W \le 10^6$ ，所以可以得出第一个区间： $[1,100]$ 。

又因为 $300$ 个数分成 $3$ 个区间，就要是前一个区间的 $100$ 倍，所以就能推出第二个区间和第三个区间分别为 $[100,10000],[10000,1000000]$。

那么，就三个 for 循环，每一个 for 循环的范围就是这三个区间，输出循环变量即可。

代码就不放了。



---

## 作者：Loser_Syx (赞：1)

## 思路

观察数据范围，$1 \leq W \leq 10^{6}$，而最多只能输出 $300$ 个数，那我们可以输出正好 $300$ 个数来凑出 $\leq W$ 的所有数。

我们不妨把 $\leq W$ 的数分成三个部分，前面 $2$ 位，中间 $2$ 位和后面 $2$ 位，每两位都是从 $1 \sim 99$ 组成的，所以我们可以依次输出这几位（注：当 $W =10^{6}$ 时，$10^{6}$ 可以变成 $990000+9900+99+1$，然而这里为了方便，每一位输出 $1 \sim 100$ 的）。

## 代码

```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
	int n;
	scanf("%d", &n);
	puts("300");//共300个数
	for(int i = 1; i <= 100; i++) printf("%d ", i);//后2位
	for(int i = 1; i <= 100; i++) printf("%d ", i * 100);//中间2位
	for(int i = 1; i <= 100; i++) printf("%d ", i * 100 * 100);//前面2位
	return 0;
}
```

---

## 作者：xiaoPanda (赞：1)

## ABC251D - At Most 3 (Contestant ver.)(*1463)

### Title
给你一个 $W$，需要你给出一组数列 $a_1,a_2...a_N$，至多选 $3$ 个数相加，使得 $1$ 到 $W$ 的所有整数被表示。

+ $1\le N \le 300$
+ $1\le a_i \le 10^6$
+ $1\le W \le 10^6$
### Solution
注意到 $1\le W \le 10^6$。

所以我们可以将题目翻译为：用一组长度为 $300$ 的数列至多选 $3$ 个数相加，来表示 $1$ 到 $10^6$ 的所有整数。那么怎么表示呢，考虑到 $1$ 到 $10^6$ 实际上都可以分为三段：$x,x\times 100,x\times10000$。 

那么初步构造数组为：

$1,2,3...100$

$100,200,300...10000$

$10000,20000,30000...1000000$

再看一眼我们构造数组的长度，$300$，恰好与题目范围相符，所以输出这 $300$ 个数即可。
### Code
```cpp
#include<bits/stdc++.h>
using namespace std;
main() {
	cout<<300<<endl;
	for(int i=1;i<=100;i++)cout<<i<<" ";
	for(int i=100;i<=10000;i+=100)cout<<i<<" ";
	for(int i=10000;i<=1000000;i+=10000)cout<<i<<" ";
}
```

---

## 作者：Milthm (赞：0)

## AT_abc251_d题解
### 题目大意

给你整数 $W$ ,你必须构造一个数组 $a$，包含最多 $300$ 个元素，使得小于等于 $W$ 的所有正整数都可以被 $a$ 数组中的两个元素相加表示出来。

### 解题思路

注意本题坑点在于翻译没有说清楚是几个元素相加，要求是两个元素相加。

既然是构造题，那我们想想什么情况下可以得到这种情况。

看下数据范围，$1 \leq W \leq 10^6$。我们又知道：

$1$~$100$ 可以两数相加表示 $1$~$100$ 内所有的数（集合一）。

同理，扩大 $100$ 倍后，$100$、$200$、$300$……$10000$ 可以两数相加表示 $100$、$200$、$300$……$10000$ 这些数。（集合二）

将两个结合，你会发现，类似与 $130$ 这样的数都可以拆成一个集合二中的数和集合一中的数相加之和。

又同理，再扩大 $100$ 倍，仍然如此。这个时候，集合三最大值刚好为 $1000000$，即 $10^6$，自然可以表示 $10^6$ 以内所有的数。且三个集合数字数量刚好为 $300$，满足题意。

### AC代码

```cpp
#include<iostream>
using namespace std;
long long w;
int main(){
    cout<<"300\n";
    for(int i=1;i<=100;i++)cout<<i<<" ";//集合一
    for(int i=100;i<=10000;i+=100)cout<<i<<" ";//集合二
    for(int i=10000;i<=1000000;i+=10000)cout<<i<<" ";//集合三
    return 0;
}
```





---

## 作者：junxis (赞：0)

# Perface

清新构造题。

# Analysis

观察数据范围：$W\leq 10^6$，这启发我们十进制分解它。

由于 $6 \div 3 = 2$，故将 $W$ 两位一段作拆分，答案集合可表示为：

$S = \{i|i=1,2,\cdots99\}\cup\{100i|i=1,2,\cdots99\}\cup\{10000i|i=1,2,\cdots100\}$。

$\operatorname{card}(S)=298 < 300$，符合要求。

代码略。

---

## 作者：MoyunAllgorithm (赞：0)

应该是本题最短代码qwq

**题意**

给你整数 $W(1 \le W \le 10^6)$。 你必须构造一个数组 $a$，包含最多 $300$ 个元素，使得小于等于 $W$ 的所有正整数都可以被 $a$ 数组的元素相加表示出来。

**分析**

$300$ 这个数很有意思。

因为 $300=100+100+100$。（谁不知道啊）

我们可以以此为出发点构造。我们注意到，一个小于 $10^6$ 的正整数可以表示成

$10^5a+10^4b+10^3c+10^2d+10e+f$

其中 $0 \le a,b,c,d,e,f \le 9$。

我们可以简化一下：原式 $=10^4(10a+b)+10^2(10c+d)+10e+f$。

显然，$0 \le 10a+b,10c+d,10e+f \le 99$。

而且，特别地，当 $a=10$，其他数是 $0$ 时，可以表示 $10^6$。

那么，我们的数组只要包含了 $10^4(10a+b)$、$10^2(10c+d)$、$10e+f$ 的所有值即可。加起来刚好是 $300$ 个值。

所以，对于**所有本题目范围内的 $W$，都可以构造为** $a=\{1,2,3,\cdots,99,100,100,200,300,\cdots,9900,10^4,10^4,2\times 10^4,\cdots,99\times 10^4,10^6\}$。

恰好是 $300$ 个元素。你会注意到为了方便，有两个重复的元素，不过不会影响正确性。

**仅有 $5$ 行的代码：**

```cpp
int main()
{
    puts("300");
    for(int i=1;i<=100;i++) printf("%d %d %d\n",i,i*100,i*10000);
    return 0;
}
```


---


# [ABC098C] Attention

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc098/tasks/arc098_a

$ N $ 人の人が東西方向に一列に並んでいます。 それぞれの人は、東または西を向いています。 誰がどの方向を向いているかは長さ $ N $ の文字列 $ S $ によって与えられます。 西から $ i $ 番目に並んでいる人は、$ S_i\ = $ `E` なら東を、$ S_i\ = $ `W` なら西を向いています。

あなたは、$ N $ 人のうち誰か $ 1 $ 人をリーダーとして任命します。 そして、リーダー以外の全員に、リーダーの方向を向くように命令します。 このとき、リーダーはどちらの方向を向いていても構いません。

並んでいる人は、向く方向を変えるのを嫌っています。 そのためあなたは、向く方向を変える人数が最小になるようにリーダーを選びたいです。 向く方向を変える人数の最小値を求めてください。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 3\ \times\ 10^5 $
- $ |S|\ =\ N $
- $ S_i $ は `E` または `W` である

### Sample Explanation 1

西から $ 3 $ 番目に並んでいる人をリーダーに任命するとします。 すると、西から $ 1 $ 番目に並んでいる人は東を向かなくてはならないので、向く方向を変える必要があります。 ほかの人は向く方向を変える必要がないので、この場合、向く方向を変える人は $ 1 $ 人になります。 向く方向を変える人を $ 0 $ 人にすることは出来ないので、答えは $ 1 $ になります。

## 样例 #1

### 输入

```
5
WEEWW```

### 输出

```
1```

## 样例 #2

### 输入

```
12
WEWEWEEEWWWE```

### 输出

```
4```

## 样例 #3

### 输入

```
8
WWWWWEEE```

### 输出

```
3```

# 题解

## 作者：duchengjun (赞：1)

# 题意

给你一个长度为 $n$ 的字符串 $s$，选择任意一个点，将这个点左边不是 $E$ 的点都变为 $E$，将这个点右边不是 $W$ 的点都变为 $W$，每改一个点付出一点代价，求最小的代价。

# 分析

如果枚举来写时间复杂度为 $O(n^2)$，超时。

考虑前缀和优化，求出第 $i$ 点之前的 $E$ 的个数 $E[i]$，第 $i$ 点之后的 $W$ 的个数 $W[i]$，则这个点付出的代价是 $n-E[i]-W[i]$。

枚举每一个点取最小值即可。

# Code

```cpp
#include<bits/stdc++.h>
using namespace std;
const int N=3*1e5+10;
char c[N];
int n;
int E[N],W[N],ans=0x3f3f3f3f;
int main(){
	scanf("%d%s",&n,c+1);
	for(int i=1;i<=n;i++)
		E[i]=E[i-1]+(c[i]=='E');
	for(int i=n;i>=1;i--)
		W[i]=W[i+1]+(c[i]=='W');
	for(int i=1;i<=n;i++)
		ans=min(ans,n-E[i]-W[i]);
	cout<<ans;
	return 0;
}


```


---

## 作者：MiddleRed (赞：0)

## Discription  
给定一个长为 $N$ 的只有 $E$ 或 $W$ 的字符串，选择任意一个点 $a_i$ ，将这个点左边不是 $E$ 的点都变为 $E$，将这个点右边不是 $W$ 的点都变为 $W$，每改一个点付出一点代价。请输出最小的代价。不需要改变 $a_i$ 的方向。 
  
  
## Solution  
要求某一个点左边全为 $E$，右边全为 $W$。直接算 $W$ 和 $E$ 的前缀和，然后枚举比较哪种方案要改动的点数量最少即可。

  
## Code
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,e[300003],w[300003],ans=1000000;
string s;
int main()
{
	cin>>n>>s;
	for(int i=1;i<=n;i++)
	{
		e[i]=e[i-1],w[i]=w[i-1];	//前缀和
		if(s[i-1]=='E')	e[i]++;
		if(s[i-1]=='W')	w[i]++;
	}
	for(int i=1;i<=n;i++)
		ans=min(ans,i-1-e[i-1]+n-i-w[n]+w[i]);
		//i-1-e[i-1]算i左边有几个W，n-i-w[n]+w[i]算i右边有几个E
	cout<<ans<<endl;
	return 0;
}
```

---


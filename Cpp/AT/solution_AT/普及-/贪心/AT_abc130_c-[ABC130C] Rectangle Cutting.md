# [ABC130C] Rectangle Cutting

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc130/tasks/abc130_c

平面上に長方形があり、$ 4 $ つの頂点の座標は $ (0,0),(W,0),(W,H),(0,H) $ です。 この長方形の内部または周上の点 $ (x,y) $ が与えられます。$ (x,y) $ を通る直線で長方形を $ 2 $ つの部分に分割するとき、 面積の大きくない方の面積の最大値を求めてください。また、その最大値を達成する分割の方法が複数あるかも判定してください。

## 说明/提示

### 制約

- $ 1\ \leq\ W,H\ \leq\ 10^9 $
- $ 0\leq\ x\leq\ W $
- $ 0\leq\ y\leq\ H $
- 入力はすべて整数である

### Sample Explanation 1

直線 $ x=1 $ で分割するのが最適です。また、最適な分割方法はこれ以外には存在しません。

## 样例 #1

### 输入

```
2 3 1 2```

### 输出

```
3.000000 0```

## 样例 #2

### 输入

```
2 2 1 1```

### 输出

```
2.000000 1```

# 题解

## 作者：Yizhixiaoyun (赞：7)

[题目传送门](https://www.luogu.com.cn/problem/AT4236)

## 题目分析

阅读题目后，我们不难发现：

对于长方形内**任意一点**，我们都有办法过这个点将长方形分成**面积相等的两部分**。那么我们就可以知道，小的正方形面积恰好是大的正方形**面积的一半**。

接着，如果这个点是长方形的**中心点**，由于经过矩形的中心点的直线一定平分矩形，所以就会有无数种方法，如果不是则只有一种。

## 贴上代码

```cpp
#include<bits/stdc++.h>
#define pb push_back
#define pf push_front
#define ass assign
#define fst first
#define sec second
#define lb lower_bound
#define ub upper_bound
using namespace std;
double a,b,x,y,mid;
void init(){cin>>a>>b>>x>>y;}
void duel(){mid=a/2*b;}
void print(){
	cout<<fixed<<setprecision(6)<<mid<<" ";
    if(a==x/2&&b==y/2) cout<<"1";
    else cout<<"0"<<endl;
}
int main(){
	init();
	duel();
	print();
}
```

---

## 作者：BeetyX (赞：3)

这道题对数据的解释不太清晰，为了保险我们还是都用double吧！

输入是没什么问题，输出要两个数，第一个数不难推测出，要让小的面积尽量大面积一定是面积的1/2，即w×h/2，而第二个数是0或1，当这个点为这个矩形的中心时，即x=w/2 y=h/2时，就有无数种方法（经过矩形的中心的直线一定平分这个矩形），输出1，反之则输出0

## **代码如下**
```
#include<bits/stdc++.h>
using namespace std;
int main()
{
    double a,b,x,y;//这里用double，不要用int，int是整形
    cin>>a>>b>>x>>y;//输入
    double m=a/2*b;//赋值一个m，方便输出
    cout<<fixed<<setprecision(6)<<m;//注意样例，保留6位小数
    if(a==x/2&&b==y/2)//判断是否为矩形的中心
    {
        cout<<"1"<<endl;//如果是的话，无数种，输出1
    }
    else
    {
        cout<<"0"<<endl;//否则就只有1种，输出0
    }
  	return 0;
}
```


---

## 作者：zct_sky (赞：2)

### 思路：
首先，对于长方形内任意一点，过这个点都能将长方形分成面积相等的两部分，
也就是说面积小的部分的面积一定是长方形面积的一半。

再看方法数量，如果这个点是长方形的中心点，则有无数种方法，否则只有一种。

### Code:
```c++
#include<bits/stdc++.h>
using namespace std;                  
double ans,a,b,x,y;
int main(){
	cin>>a>>b>>x>>y;//输入 
	ans=a*b*1.0/2;//计算面积 
	printf("%.6lf ",ans);//输出 
	cout<<(x==a/2&&y==b/2);//判断方法数量并输出 
	return 0;
}
```

---

## 作者：Brian_WBY (赞：2)

题目对数据的约定还是不太清晰，我干脆全开double好了。

题目要求求出分割后面积小的部分的最大值，如果能够分成两个面积相等的部分，那么分出来的其中一块的面积就是答案，而对于一个矩形，是一定可以用一条线等分的，只要过矩形的中心对称中心（两条对角线交点）即可（因为矩形是平行四边形，平行四边形中心对称）。

对于这道题，第$1$个数一定是面积除以$2$，即$\frac{w\times h}{2}$，第$2$个数就是判定这个点是否为矩形的中心对称中心，判定方法：由矩形性质，$x=\frac{w}{2}$且$y=\frac{h}{2}$时$(x,y)$为矩形中心，判断即可。如果在中心，就有无数中方法，不在则只有$1$种。

代码如下：

```cpp
#include<iostream>
#include<cstdio>
using namespace std;
int main()
{
    double w,h,x,y;
    scanf("%lf%lf%lf%lf",&w,&h,&x,&y);//输入4个数
    printf("%lf ",w*h/2);//先输出面积/2
    if  (w/2==x&&h/2==y)    puts("1");//判断是否是中心，如果是中心，有无数种方法，输出1并换行
    else    puts("0");//否则只有1种方法，输出0并换行（puts自带换行）
    return 0;
}
```

---

## 作者：_Give_up_ (赞：1)

这道题所有数据必须开 `double`，不开 `double` 这道题过不了。

***

过 `(x,y)` 把正方形分成两部分，要使面积小的部分尽量大，面积小的部分一定是长方形面积的一半。当 `(x,y)` 在矩形的正中心时，就有无数中分法，否则只有一种分法。

## Code
```cpp
#include<bits/stdc++.h> 

using namespace std;

typedef long long ll;

int main()
{
    double w,h,x,y;
    cin >> w >> h >> x >> y;
    printf("%.6f ",1.0*w*h/2); //不会用cout输出一定位数的小数，只能用printf了
    if (x==w/2 && y==h/2) cout << "1" << endl; //判断(x,y)是否在矩形的中心。
    else cout << "0" << endl;
    return 0;
}
```


---

## 作者：eastcloud (赞：1)

## 题意分析 ~~心路历程~~
给几个在平面直角坐标系上的点，它们构成了一个长方形

再给出一个点，过这个点的一条直线能把这个长方形分成两块，问最小的这块面积最大是多少，并有几种方法。

这道题目我一开始看到的时候还愣了一下，一直在切割下来最小的一
部分要怎么算。

细想了一下才想到，一条直线只要过长方形的中心对称的中心不就可以把它平分了吗？！于是此题就解出来了。
## 做法
面积  

由于长方形的四个点中一个在原点，两个分别在x轴和y轴的正半轴上，于是题目中的W和H分别是长方形的长和宽，则最小面积为WH/2

方法数

如果此点在中心对称的中心上，则有无数种方法，否则只有一种方法
## 代码
超简短的友好代码~~~
```cpp
#include<iostream>//头文件
#include<cstdio>//头文件
using namespace std;
int main(){
	double w,h,x,y;//记得用double类型，面积为浮点数
	cin>>w>>h>>x>>y;//一起输入
	double s=w*h/2;
	printf("%.6lf ",s);//浮点数保留六位
	if(x==w/2 && y==h/2) cout<<1;//判断是否在中心上
	else cout<<0;//输出
}

```
这样本题就AC辣~


---

## 作者：f_x_f (赞：0)

## [题目传送门](https://www.luogu.com.cn/problem/AT4236)
## 题目分析：
首先输入 $a,b,c,d$ 。

如果点 $A(c,d)$ 的坐标为长方形 $ABCD$ 的对角线的交点，则必定会有无数条线可以使得最小的面积最大 。

如果点 $A$ 不为长方形 $ABCD$ 的对角线的交点，则只有一条。

因此可以写出代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
double x,y,a,b,s;
int main(){
	cin>>x>>y>>a>>b;
	s=x*y/2;
	printf("%.6lf ",s);
	if(a==x/2&&b==y/2){
		cout<<"1";
		return 0;
	}
	cout<<"0";
	return 0;
}
```


---

## 作者：kaceqwq (赞：0)

# 题目大意:
给出一个长方形四个顶点的坐标分别是： $(0,0),(W,0),(W,H),(0,H)$  。
要求过点 $(x,y)$ 将这个长方形分为两个部分，让面积小的部分尽量大。
输出面积小的部分的最大值，下一行如果只有一种分法输出 $0$ ，如果有无数种分法输出 $1$ 。

# 分析:
首先，大家都知道长方形的面积公式是：长 $\times$ 宽 ，可是 “**面积小的部分的最大值**”这句话是什么意思呢？根据题意，然后我们要把长方形分成两个部分，想要让面积小的部分尽可能大，即让两部分面积尽量接近，不就是两部分相等吗？知道了这个,第一个问题就解决了。接着根据题意模拟即可，如果有无数种分法，即当 $(x,y)$ 这一点位于长方形的中心时，输出 $1$ ；反之，输出 $0$ 。

# Code:
```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	double a,b,x,y,s;  //a，b分别为长方形的长和宽
	cin>>a>>b>>x>>y;
	s=a*b/2.0;
	printf("%.6lf ",s);  //如上分析，输出长方形面积的一半
	if(x==a/2&&y==b/2)   //判断分法
	cout<<1<<'\n';
	else
	cout<<0<<'\n';
    return 0;
}
```


---

## 作者：jxbe6666 (赞：0)

### 题意：
- 给定一个长方形在平面坐标系上的坐标。
- 求出最小的面积最大是多少？
- 求出一共有几种方式可以切出？

-----

### 思路：

最小的面积最大是多少，这句话十分的拗口。但是当我们给它转化一下：两边面积平均分，是不是就好多了？要平均分，最好的方法是两边各一半，这是肯定可以的。接下来就是判断是否有多种方法了。判断多种方法，就只需看分割的这一点是否为长方形的中心，如果是就有多种，反之则只有 1 种。

-----

### 简洁的代码：
-----
```c++
#include <bits/stdc++.h>
using namespace std;
double sum, a, b, x, y; //类型一定要选好
int main()
{
    cin >> a >> b >> x >> y;
    sum = a * b / 2;
    printf("%.6lf ", sum);
    cout << (x == a / 2 && y == b / 2);
    return 0;
}

```

---

## 作者：HYdroKomide (赞：0)

**~~又一个看起来难其实轻松切的水题~~**

# **正文**

题意：想要使最小的一个区域最大就相当于使其与另一半相等，也就是**将这个长方形二等分**。因为**无论(x,y)在什么地方都可以使用一条或者两条线段来进行二等分**，这只是有一种情况和有无穷多种情况的区别。输出的第一个数也就可以确定了，就是两个值之积的一半。

```cpp
printf("%.6lf ",w*h/2);
```
然后就要判断是否有无数个解了。这个部分也十分简单，有无数个解的情况就是当(x,y)位于长方形的正中心，也就是x==w/2，y==h/2。

```cpp
if(w/2==x&&h/2==y) cout<<1;
else cout<<0;
```

所以以下就是完整代码了。

```cpp
#include<iostream>
#include<cstdio>
using namespace std;
int main(){
    double w,h,x,y;
    cin>>w>>h>>x>>y;
    printf("%.6lf ",w*h/2);
    if(w/2==x&&h/2==y) cout<<1;
    else cout<<0;
    return 0;
}
```

# **THE END**

---

## 作者：LucasXu80 (赞：0)

## 前言

这道题乍一看，相信很多人都毫无头绪，我承认我也是这样的。~~（如果你们不是，只能说我太菜了啊啊啊啊啊）~~

**但是，如果你一看到这道题你就想放弃，你就输了！**

 _高能预警：本题解涉及到一定的几何知识。不过，如果你对此没有接触过，也不会影响对于本题的理解。放心！_ 

## 思路

来吧，读题。将长方形分成两个部分，使面积小的部分尽量大。

长方形的面积已经确定了。不妨设面积小的为$a$，大的为$b$，总面积为$S$，则有：

$ a+b=S $

等式性质一下：

$ a=S-b $

也就是说，$a$要大，$b$得小。那么好了，$ab$尽量接近就行了呀。

那能不能$a=b$呢？

接下来就简单来证明一下任意经过长方形中心点的直线平分长方形的面积：

（如果你还没有学过几何证明，你可以先记住结论，以后你就会自己证明了！）

### 证明

![图](https://cdn.luogu.com.cn/upload/image_hosting/lqpn2ili.png?x-oss-process=image/resize,m_lfit,h_170,w_225)

如图，$ABCD$为长方形，$BD$，$AC$为其对角线，交于点$O$。

过点$O$作任意直线$EF$，交$AD$于$E$，$BC$为$F$。

先利用长方形的基本性质：$AD//BC$，$∠ADB=∠DBC$；

然后对角线互相平分：$BO=DO$。

再来一组对顶角相等：$∠EOD=∠FOB$。

这样三个条件就齐了，有$△EOD≌△FOB$。

所以这两个三角形面积相等。

还有，对角线将长方形分为两个面积相等的三角形，最后加加减减等式性质一下，左右两个四边形的面积就相等啦！

至此我们证明了：过长方形内任意一点，都可以作出直线平分四边形面积。所以，面积只要输出长方形面积的一半就可以了：

```cpp
cout<<fixed<<setprecision(6)<<w*h/2<<" ";
```
当然，你还可以证明不经过长方形中心点的直线不平分长方形的面积。在此我就不介绍具体方法了。这就说明非中心点的点只有1条直线平分长方形面积。

继续。如果这个点（x,y）在中心点，那么就有无数条直线平分长方形面积，输出$1$，否则就输出$0$。

一个点如果是中心点：

```cpp
x==w/2.0&&y==h/2.0 //比较好理解，就不解释了
```

现在我们彻底把思路理清了。上完整代码咯~

## 完整代码

```cpp
#include <bits/stdc++.h> //万能头文件！！
using namespace std;
int main()
{
    double w,h,x,y;//题目没有说是整数，定义double
    cin>>w>>h>>x>>y;
    cout<<fixed<<setprecision(6)<<w*h/2<<" ";//保留6位小数不要漏了哦！
    if (x==w/2.0&&y==h/2.0) cout<<1;//如果是中心点，有无数条直线，输出1
    else cout<<0;//否则就不是中心点，只有一条直线，输出0
    return 0;//别忘了！千万别功亏一篑呀~
}
```
好了，祝贺又AC了一题！几何的说理过程如果看不懂的话记住结论就可以了，你也能写出代码的！

$The$ $end$

### 修改记录

$2020/4/26$ 发布此题解

$2020/5/6$ 优化语言、文字样式、格式等

$2020/6/20$ 添加几何证明中的图片并优化部分语言

---


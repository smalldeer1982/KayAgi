# [ARC106C] Solutions

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc106/tasks/arc106_c

$ 2 $ つの区間 $ [L_1:R_1],\ [L_2:R_2] $ について, $ L_1\ \leq\ R_2 $ かつ $ L_2\ \leq\ R_1 $ であるとき, この $ 2 $ つの区間が*交わる*と定義します。

以下の問題 $ P $ を考えます。

> 入力: $ N $ 個の区間 $ [L_1:\ R_1],\ \cdots,\ [L_N:R_N] $ $ L_1,\ L_2,\ \cdots,\ L_N,\ R_1,\ R_2,\ \cdots,\ R_N $は全て異なる。 出力: どの $ 2 $ つの区間も交わらないように選べる区間の最大数

高橋君は、以下のように動作するプログラムを実装しました。

> $ R_i $ の値が昇順となるように, 入力された区間を $ [L_{p_1}:R_{p_1}],\ [L_{p_2}:R_{p_2}],\ \cdots\ ,\ [L_{p_N}:R_{p_N}] $ と並び替える。 $ i\ =\ 1,\ 2,\ \cdots\ ,\ N $ について、以下を行う。 これまでに選んだどの区間とも交わらないならば、 $ [L_{p_i}:R_{p_i}] $ を選ぶ。 選んだ区間の数を出力する。

一方、青木君は、以下のように動作するプログラムを実装しました。

> $ L_i $ の値が昇順となるように, 入力された区間を $ [L_{p_1}:R_{p_1}],\ [L_{p_2}:R_{p_2}],\ \cdots\ ,\ [L_{p_N}:R_{p_N}] $ と並び替える。 $ i\ =\ 1,\ 2,\ \cdots\ ,\ N $ について、以下を行う。 これまでに選んだどの区間とも交わらないならば、 $ [L_{p_i}:R_{p_i}] $ を選ぶ。 選んだ区間の数を出力する。

整数 $ N,\ M $が与えられます。 $ N $ 個の区間から成る問題 $ P $ の入力であって、

$ $
(高橋君のプログラムが出力する値)\ -\ (青木君のプログラムが出力する値)\ =\ M $$

となるものを構築してください。

## 说明/提示

### 制約

- 入力は全て整数
- $ 1\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ -N\ \leq\ M\ \leq\ N $

### Sample Explanation 1

$ 5 $ つの区間を順に区間 $ 1 $ 、区間 $ 2 $ 、$ \cdots $ 、区間 $ 5 $ と名付けます。 高橋君のプログラムは以下のように動作します。 &gt; 区間を区間 $ 5 $ 、区間 $ 1 $ 、区間 $ 2 $ 、区間 $ 4 $ 、区間 $ 3 $ と並び替えます。 区間 $ 5 $ を選びます。 区間 $ 1 $ は選びません。(区間 $ 5 $ と交わっている為) 区間 $ 2 $ を選びます。 区間 $ 4 $ は選びません。 (区間 $ 2 $ と交わっている為) 区間 $ 3 $ を選びます。 以上より、高橋君のプログラムが出力する値は $ 3 $ となります。 青木君のプログラムは以下のように動作します。 &gt; 区間を区間 $ 1 $ 、区間 $ 5 $ 、区間 $ 2 $ 、区間 $ 4 $ 、区間 $ 3 $ と並び替えます。 区間 $ 1 $ を選びます。 区間 $ 5 $ は選びません。(区間 $ 1 $ と交わっている為) 区間 $ 2 $ は選びません。 (区間 $ 1 $ と交わっている為) 区間 $ 4 $ を選びます。 区間 $ 3 $ は選びません。 (区間 $ 4 $ と交わっている為) 以上より、青木君のプログラムが出力する値は $ 2 $ となります。 このとき、 $ 3\ -\ 2\ =\ 1\ \left(=\ M\ \right) $ であり、この $ 5 $ つの区間は条件を満たします。

## 样例 #1

### 输入

```
5 1```

### 输出

```
1 10
8 12
13 20
11 14
2 4```

## 样例 #2

### 输入

```
10 -10```

### 输出

```
-1```

# 题解

## 作者：Alvin0228 (赞：0)

### 题意描述

给出两种找相交区间的方法，构造出一种方案，使两种方法答案之差为 $m$。

### 题目分析

根据贪心思想，A 的做法是正确的，且答案比 B 的做法要大。

然后考虑如何构造。

因为题目要求作差，想到构造使 A 选但是 B 不选的区间。

我们考虑一个很长的区间，接着在大区间里放几个小区间，此时 B 会选择那个大区间而忽略其中的小区间，A 则会选择小区间而忽略大区间，这样我们就可以构造答案之差了。

接着考虑无解情况。

因为 A 的答案比 B 的大，而 $m$ 可能为负数，所以当 $m < 0$ 时无解；

因为两种做法差值最大是 $m=n-1$，所以当 $m \ge n-1$ 时无解；

需要注意的是，当 $n=1$ 且 $m=0$ 时可以构造答案，需要特判。

### 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
int main ()
{
//	freopen(".in","r",stdin);
//	freopen(".out","w",stdout);
	ios::sync_with_stdio(false);
	cin.tie(NULL);
	cout.tie(NULL);
	int n,m;
	cin>>n>>m;
	if (n==1&&m==0)//特判
	{
		cout<<"1 2";//记得区间端点为正整数且互不相等 
	}
	else if (m<0||m>=n-1)//无解情况 
	{
		cout<<"-1";
	}
	else
	{
		cout<<"1 1000000"<<endl;//很长的区间
		for (int i=0;i<m+1;i++)
		{
			cout<<2+2*i<<" "<<2+2*i+1<<endl;//大区间里的小区间 
		}
		for (int i=0;i<n-m-2;i++)
		{
			cout<<1000001+2*i<<" "<<1000001+2*i+1<<endl;//剩下使 AB 都选的区间 
		}
	}
	return 0;
}

```

---

## 作者：loser_seele (赞：0)

设题目给定的两种程序为 $ A,B $，则显然 $ A $ 程序是贪心做法，总是最优解法。

分类讨论：

当 $ M<0 $ 的时候，显然不可能，因为 $ A $ 的解法是最优解。

当 $ M=N $ 的时候，也无解，因为 $ B $ 程序显然至少会选择一条线段，所以答案总不会为 $ N $。

当 $ M=N-1 $ 且 $ N \geq 2 $ 的时候，因为 $ B $ 程序输出至少为 $ 1 $，则第一个解法总是给出 $ N $ 的答案，但如果答案为 $ N $ 说明线段两两不相交，则第二个程序也是 $ N $，矛盾，无解。

当 $ M=0 $ 的时候，上面已经讨论过了，全部放置互不相交的线段即可。

否则有一个构造方案：放置一条大线段，将 $ M+1 $ 条线段放进这个线段里使得两两不相交，将剩下的线段放在大线段外部，同样互不相交，第一个做法给出的答案为 $ M+1+N-M-2=N-1 $，第二个做法给出的答案为 $ N-M-2+1=N-M-1 $，差值恰好为 $ M $，满足条件。

时间复杂度 $ \mathcal{O}(N) $，可以通过。

代码：

```cpp
#import <bits/stdc++.h>
using namespace std;
const int maxn=1e4+10;
int a[maxn],b[maxn];
vector<int>ans;
int main() 
{
	int n,m;
	cin>>n>>m;
	if(m<0||m==n||(m==n-1&&n>=2))
	cout<<-1; 
	else if(m==0) 
	{
		for (int i=1;i<=n;i++)
		cout<<3*i+1<<' '<<3*i+2<<'\n';
		return 0;
	} 
	else 
	{
		cout<<1<<' '<<(int)(1e8)<<'\n';
		for (int i=1;i<=m+1;i++)
		cout<<3*i+2<<' '<<3*i+3<<'\n';
		for (int i=1;i<=n-m-2;i++)
		cout<<(int)(2e8+3*i+1)<<' '<<(int)(2e8+3*i+2)<<'\n';
	}
}
```


---


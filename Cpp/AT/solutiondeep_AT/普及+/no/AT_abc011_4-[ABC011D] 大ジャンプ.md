# 题目信息

# [ABC011D] 大ジャンプ

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc011/tasks/abc011_4

$ XY $ 座標上に、スタート地点とゴール地点が $ 1 $ つずつあります。 スタート地点は $ (0,\ 0) $ にあり、ゴール地点は $ (X,\ Y) $ です。

あなたは、ジャンプという移動法を用いて、移動を行います。 ジャンプを $ 1 $ 回行うと、あなたは、以下の $ 4 $ つのうち、ランダムで選ばれた $ 1 $ つの移動が行われます。

- $ X $ 軸に平行に $ +D $ だけ移動する。
- $ X $ 軸に平行に $ -D $ だけ移動する。
- $ Y $ 軸に平行に $ +D $ だけ移動する。
- $ Y $ 軸に平行に $ -D $ だけ移動する。

これらの移動は、どれもちょうど $ 1/4 $ の確率で選択されます。

あなたは、最初にスタート地点におり、ちょうど $ N $ 回のジャンプでゴール地点にたどり着きたいです。

目的を達成できる確率を出力しなさい。

## 说明/提示

### 部分点

$ 1\ ≦\ N\ ≦\ 8 $ のケースに全て正解すると、部分点として $ 90 $ 点が与えられる。

$ 1\ ≦\ N\ ≦\ 30 $ のケースに全て正解すると、追加で $ 10 $ 点が与えられる。

全てのケースに正解すると、ボーナス点として $ 1 $ 点が与えられる。

### Sample Explanation 1

$ (0,\ 0) $ から $ 2 $ 回のジャンプで $ (10000000,\ 10000000) $ へ飛ぶ確率は、 $ 1/8 $ です。

### Sample Explanation 2

偶数の距離のジャンプでは、奇数の座標にたどり着くことはできないため、到達する確率は $ 0 $ となります。

## 样例 #1

### 输入

```
2 10000000

10000000 10000000```

### 输出

```
0.125```

## 样例 #2

### 输入

```
100 2

3 7```

### 输出

```
0.0```

## 样例 #3

### 输入

```
11 8562174

25686522 17124348```

### 输出

```
0.018174648284912```

# AI分析结果

### 题目内容重写

在 $XY$ 坐标系上，有一个起点和一个终点。起点位于 $(0, 0)$，终点位于 $(X, Y)$。你可以通过跳跃的方式进行移动。每次跳跃会随机选择以下四种移动方式之一，每种方式被选择的概率均为 $1/4$：

- 沿 $X$ 轴正方向移动 $+D$。
- 沿 $X$ 轴负方向移动 $-D$。
- 沿 $Y$ 轴正方向移动 $+D$。
- 沿 $Y$ 轴负方向移动 $-D$。

你最初位于起点，希望在恰好 $N$ 次跳跃后到达终点。请计算达成目标的概率。

### 部分分

- 对于 $1 \leq N \leq 8$ 的测试用例，全部正确解答将获得 90 分。
- 对于 $1 \leq N \leq 30$ 的测试用例，全部正确解答将获得额外的 10 分。
- 所有测试用例全部正确解答将获得 1 分的奖励分。

### 样例解释

**样例 1**  
从 $(0, 0)$ 出发，经过 2 次跳跃到达 $(10000000, 10000000)$ 的概率为 $1/8$。

**样例 2**  
当跳跃距离为偶数时，无法到达奇数坐标，因此到达的概率为 $0$。

### 样例输入输出

**样例 1**  
输入：
```
2 10000000
10000000 10000000
```
输出：
```
0.125
```

**样例 2**  
输入：
```
100 2
3 7
```
输出：
```
0.0
```

**样例 3**  
输入：
```
11 8562174
25686522 17124348
```
输出：
```
0.018174648284912
```

### 算法分类

概率论、组合数学

### 分析与结论

本题的核心在于计算在 $N$ 次跳跃后从起点 $(0, 0)$ 到达终点 $(X, Y)$ 的概率。由于每次跳跃有四种等概率的选择，因此可以通过组合数学和概率论的方法来解决。

### 通用建议与扩展思路

1. **组合数学**：考虑在 $N$ 次跳跃中，有多少种方式可以在 $X$ 和 $Y$ 方向上分别达到目标距离。具体来说，假设在 $X$ 方向上需要 $k$ 次正跳跃和 $l$ 次负跳跃，使得 $k - l = X / D$，同时在 $Y$ 方向上需要 $m$ 次正跳跃和 $n$ 次负跳跃，使得 $m - n = Y / D$。然后计算这些组合的概率。

2. **动态规划**：可以使用动态规划的方法来记录在每一步跳跃后到达某个位置的概率。这种方法适用于 $N$ 较小的情况。

3. **数学优化**：对于较大的 $N$，可以通过数学公式直接计算概率，避免复杂的递归或动态规划。

### 推荐题目

1. [P1351 跳跃游戏](https://www.luogu.com.cn/problem/P1351)
2. [P1352 跳跃游戏 II](https://www.luogu.com.cn/problem/P1352)
3. [P1353 跳跃游戏 III](https://www.luogu.com.cn/problem/P1353)

这些题目都涉及到跳跃和概率的计算，可以帮助进一步巩固相关知识。

---
处理用时：21.70秒
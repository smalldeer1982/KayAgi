# 题目信息

# [ABC034D] 食塩水

## 题目描述

有$N$ $(1≤N≤1000)$个装有食盐水的容器。容器从$1$到$N$标号。第$i$号容器有浓度为$p_i\%$ $(0≤p_i≤100)$的食盐水$w_i$ $(1≤w_i≤10^9)$克。高桥君需要选择$K$ $(1≤K≤1000)$个容器，并把选择的容器里的食盐水全部混合在一起。请你编程求出高桥君可以获得的盐水的最大浓度。

## 样例 #1

### 输入

```
3 2
100 15
300 20
200 30
```

### 输出

```
25.000000000
```

# AI分析结果

### 题目内容重写
有$N$ $(1≤N≤1000)$个装有食盐水的容器。容器从$1$到$N$标号。第$i$号容器有浓度为$p_i\%$ $(0≤p_i≤100)$的食盐水$w_i$ $(1≤w_i≤10^9)$克。高桥君需要选择$K$ $(1≤K≤1000)$个容器，并把选择的容器里的食盐水全部混合在一起。请你编程求出高桥君可以获得的盐水的最大浓度。

### 样例 #1
#### 输入
```
3 2
100 15
300 20
200 30
```
#### 输出
```
25.000000000
```

### 算法分类
二分

### 题解综合分析
本题的核心是通过二分法来求解最大浓度。多个题解都采用了二分答案的思路，通过将问题转化为判定性问题，利用贪心策略来验证当前二分值是否可行。具体来说，题解们通过计算每个容器对目标浓度的贡献，并选择贡献最大的$K$个容器来判断是否可以达到目标浓度。

### 所选高分题解
#### 题解1：Karry5307 (5星)
**关键亮点**：
- 思路清晰，详细解释了二分法的应用和贪心策略的实现。
- 代码简洁，逻辑明确，易于理解。
- 通过排序和贪心选择，优化了判定过程。

**核心代码**：
```cpp
bool check(db mid) {
    db c2 = 0;
    for (int i = 1; i <= n; i++) {
        c[i] = (x[i].p - mid) * x[i].w;
    }
    sort(c + 1, c + n + 1, greater<db>());
    for (int i = 1; i <= kk; i++) {
        c2 += c[i];
    }
    return c2 >= 0;
}
```
**实现思想**：计算每个容器对目标浓度的贡献，排序后选择贡献最大的$K$个容器，判断其总和是否非负。

#### 题解2：NinT_W (4星)
**关键亮点**：
- 详细分析了二分法的单调性，并给出了清晰的判定条件。
- 代码结构清晰，易于理解。

**核心代码**：
```cpp
bool check(double x) {
    for (int i = 1; i <= n; i++) w[i].g = (w[i].p - x) * w[i].w;
    sort(w + 1, w + n + 1, cmp);
    double ans = 0;
    for (int i = 1; i <= k; i++) ans += w[i].g;
    return ans >= 0;
}
```
**实现思想**：计算每个容器对目标浓度的贡献，排序后选择贡献最大的$K$个容器，判断其总和是否非负。

#### 题解3：VitrelosTia (4星)
**关键亮点**：
- 简洁明了地解释了二分法的应用和贪心策略的实现。
- 代码简洁，逻辑清晰。

**核心代码**：
```cpp
bool check(double x) {
    for (int i = 1; i <= n; i++) a[i] = w[i] * (p[i] - x);
    sort(a + 1, a + n + 1, [](double x, double y) { return x > y; });
    double s = 0;
    for (int i = 1; i <= k; i++) s += a[i];
    return s >= 0;
}
```
**实现思想**：计算每个容器对目标浓度的贡献，排序后选择贡献最大的$K$个容器，判断其总和是否非负。

### 最优关键思路
通过二分法将问题转化为判定性问题，利用贪心策略选择对目标浓度贡献最大的$K$个容器，判断其总和是否非负。这种方法不仅高效，而且易于实现。

### 可拓展之处
类似的问题可以通过二分法结合贪心策略来解决，例如在资源分配、优化问题等领域。二分法适用于具有单调性的问题，而贪心策略则可以在每次选择中做出局部最优决策。

### 推荐题目
1. [P1570](https://www.luogu.com.cn/problem/P1570) - 二分法与贪心策略的结合应用。
2. [P1807](https://www.luogu.com.cn/problem/P1807) - 二分法与贪心策略的结合应用。
3. [P1251](https://www.luogu.com.cn/problem/P1251) - 二分法与贪心策略的结合应用。

### 个人心得摘录
- **Karry5307**：一开始尝试了各种贪心策略，但都失败了，后来发现二分法结合贪心策略可以很好地解决问题。
- **NinT_W**：通过二分法将问题转化为判定性问题，简化了问题的复杂度。
- **VitrelosTia**：二分法结合贪心策略是一种常见的优化方法，适用于具有单调性的问题。

---
处理用时：31.85秒
# 题目信息

# [ABC131E] Friendships

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc131/tasks/abc131_e

以下の条件を満たす $ N $ 頂点の無向グラフは存在するでしょうか？

- グラフは単純かつ連結である。
- 各頂点には $ 1,\ 2,\ ...,\ N $ の番号が付けられている。
- グラフの辺数を $ M $ としたとき、各辺には $ 1,\ 2,\ ...,\ M $ の番号が付けられていて、辺 $ i $ は頂点 $ u_i $ と頂点 $ v_i $ をつなぐ長さ $ 1 $ の辺である。
- 最短距離が $ 2 $ であるような頂点対 $ (i,\ j)\ (i\ <\ j) $ が、ちょうど $ K $ 個存在する。

条件を満たすグラフが存在するならば $ 1 $ つ構築してください。

## 说明/提示

### 制約

- 入力は全て整数である。
- $ 2\ \leq\ N\ \leq\ 100 $
- $ 0\ \leq\ K\ \leq\ \frac{N(N\ -\ 1)}{2} $

### Sample Explanation 1

このグラフには最短距離が $ 2 $ であるような頂点対が $ (1,\ 4),\ (2,\ 4),\ (3,\ 5) $ の $ 3 $ 個存在します。よって条件を満たしています。

### Sample Explanation 2

条件を満たすグラフは存在しません。

## 样例 #1

### 输入

```
5 3```

### 输出

```
5

4 3

1 2

3 1

4 5

2 3```

## 样例 #2

### 输入

```
5 8```

### 输出

```
-1```

# AI分析结果

### 题目内容
#### [ABC131E] Friendships

**题目描述**

给定一个包含 $N$ 个顶点的无向图，要求满足以下条件：

- 图是简单且连通的。
- 每个顶点被标记为 $1, 2, ..., N$。
- 图的边数为 $M$，每条边被标记为 $1, 2, ..., M$，边 $i$ 连接顶点 $u_i$ 和 $v_i$，长度为 $1$。
- 恰好有 $K$ 对顶点 $(i, j)$（$i < j$）之间的最短距离为 $2$。

如果存在满足条件的图，请构造一个这样的图。

**说明/提示**

**约束条件**

- 所有输入均为整数。
- $2 \leq N \leq 100$
- $0 \leq K \leq \frac{N(N - 1)}{2}$

**样例解释**

**样例 1**

输入：
```
5 3
```
输出：
```
5
4 3
1 2
3 1
4 5
2 3
```

**样例 2**

输入：
```
5 8
```
输出：
```
-1
```

### 算法分类
构造

### 题解分析与结论
本题的核心在于构造一个满足特定条件的无向图，特别是要求恰好有 $K$ 对顶点之间的最短距离为 $2$。大多数题解都采用了“菊花图”作为基础构造，然后通过添加或删除边来调整满足条件的顶点对数。

#### 关键思路
1. **菊花图构造**：首先构造一个菊花图，即一个中心节点与所有其他节点相连。这种构造方式可以最大化满足最短距离为 $2$ 的顶点对数，具体数量为 $\frac{(n-1)(n-2)}{2}$。
2. **调整边数**：如果 $K$ 小于最大对数，则通过在菊花图的叶子节点之间添加边来减少满足条件的顶点对数。每添加一条边，满足条件的顶点对数减少 $1$。
3. **无解判断**：如果 $K$ 大于最大对数，则直接输出 `-1`。

#### 最优题解
以下是评分较高的题解：

1. **作者：xiaoshumiao (赞：2)**  
   **星级：4**  
   **关键亮点**：简洁明了地解释了菊花图的构造和调整边数的思路，代码清晰易读。  
   **代码核心**：
   ```cpp
   for(int i=2;i<=n;i++) printf("1 %d\n",i);//构造菊花
   int cnt=1;
   for(int i=2;i<=n;i++)
     for(int j=i+1;j<=n;j++) {
       if(cnt>delta-k) break;
       cnt++,printf("%d %d\n",i,j);
     }
   ```

2. **作者：Leaper_lyc (赞：0)**  
   **星级：4**  
   **关键亮点**：详细解释了菊花图的构造和调整边数的过程，代码实现简洁。  
   **代码核心**：
   ```cpp
   for(int i=2;i<=n;i++) cout<<"1 "<<i<<endl;
   for(int i=2;i<=n;i++)
     for(int j=i+1;j<=n;j++) {
       if(m==0) return 0;
       cout<<i<<' '<<j<<endl, m--;
     }
   ```

3. **作者：StevenLiTheOIer (赞：0)**  
   **星级：4**  
   **关键亮点**：清晰地解释了菊花图的构造和调整边数的逻辑，代码实现简洁。  
   **代码核心**：
   ```cpp
   for(int i=2;i<=n;i++) cout<<1<<" "<<i<<endl;
   for(int i=2;i<=n;i++)
     for(int j=i+1;j<=n;j++) {
       cout<<i<<' '<<j<<endl;
       if(--m==n-1) return 0;
     }
   ```

### 扩展思路
本题的构造思路可以推广到其他需要满足特定图性质的题目中，特别是涉及到图的连通性和最短路径的问题。类似的问题可以通过构造基础图，然后通过添加或删除边来调整满足条件的性质。

### 推荐题目
1. [P1351 联合权值](https://www.luogu.com.cn/problem/P1351)
2. [P3388 割点](https://www.luogu.com.cn/problem/P3388)
3. [P2661 信息传递](https://www.luogu.com.cn/problem/P2661)

---
处理用时：30.44秒
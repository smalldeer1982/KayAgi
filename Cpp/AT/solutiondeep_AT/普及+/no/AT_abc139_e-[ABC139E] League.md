# 题目信息

# [ABC139E] League

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc139/tasks/abc139_e

$ N $ 人の選手がテニスの大会に参加します。彼らを選手 $ 1 $、選手 $ 2 $、$ \ldots $、選手 $ N $ と呼びます。

大会は総当たり戦で、合計 $ N(N-1)/2 $ 試合が行われます。 これらの試合の日程を、以下の条件をすべて満たすように決めることは可能でしょうか。可能である場合、必要な最小の日数も求めてください。

- 各選手は一日に最大で一試合を行う。
- 各選手 $ i $ $ (1\ \leq\ i\ \leq\ N) $ は、選手 $ A_{i,\ 1},\ A_{i,\ 2},\ \ldots,\ A_{i,\ N-1} $ とこの順に一度ずつ試合を行う。

## 说明/提示

### 制約

- $ 3\ \leq\ N\ \leq\ 1000 $
- $ 1\ \leq\ A_{i,\ j}\ \leq\ N $
- $ A_{i,\ j}\ \neq\ i $
- $ A_{i,\ 1},\ A_{i,\ 2},\ \ldots,\ A_{i,\ N-1} $ はすべて異なる。

### Sample Explanation 1

$ 3 $ 日間で次のように試合を行えばすべての条件を満たせます。 - $ 1 $ 日目: 選手 $ 1 $ 対 選手 $ 2 $ - $ 2 $ 日目: 選手 $ 1 $ 対 選手 $ 3 $ - $ 3 $ 日目: 選手 $ 2 $ 対 選手 $ 3 $ これが必要な最小日数です。

### Sample Explanation 2

$ 4 $ 日間で次のように試合を行えばすべての条件を満たせます。 - $ 1 $ 日目: 選手 $ 1 $ 対 選手 $ 2 $、選手 $ 3 $ 対 選手 $ 4 $ - $ 2 $ 日目: 選手 $ 1 $ 対 選手 $ 3 $ - $ 3 $ 日目: 選手 $ 1 $ 対 選手 $ 4 $、選手 $ 2 $ 対 選手 $ 3 $ - $ 4 $ 日目: 選手 $ 2 $ 対 選手 $ 4 $ これが必要な最小日数です。

### Sample Explanation 3

どのような日程で試合を行っても何らかの条件に違反します。

## 样例 #1

### 输入

```
3

2 3

1 3

1 2```

### 输出

```
3```

## 样例 #2

### 输入

```
4

2 3 4

1 3 4

4 1 2

3 1 2```

### 输出

```
4```

## 样例 #3

### 输入

```
3

2 3

3 1

1 2```

### 输出

```
-1```

# AI分析结果



---
处理用时：37.54秒
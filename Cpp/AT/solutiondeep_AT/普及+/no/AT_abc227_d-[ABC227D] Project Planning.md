# 题目信息

# [ABC227D] Project Planning

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc227/tasks/abc227_d

キーエンスには $ N $ 個の部署があり、$ i\,(1\ \leq\ i\ \leq\ N) $ 番目の部署には $ A_i $ 人の社員が所属しています。異なる部署に同じ社員が所属していることはありません。

キーエンスは、部署をまたいだ全社横断プロジェクトを計画しています。$ 1 $ つのプロジェクトは $ K $ 個の相異なる部署から $ 1 $ 人ずつ選出して作り、ちょうど $ K $ 人から構成されるようにします。

プロジェクトは最大でいくつ作れますか？ただし、$ 1 $ 人が複数のプロジェクトに参加することはできません。

## 说明/提示

### 制約

- $ 1\ \leq\ K\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ A_i\ \leq\ 10^{12} $
- 入力は全て整数

### Sample Explanation 1

$ 3 $ 個の部署それぞれから $ 1 $ 人ずつ選出したプロジェクトを $ 2 $ つ作ることができます。

## 样例 #1

### 输入

```
3 3

2 3 4```

### 输出

```
2```

## 样例 #2

### 输入

```
4 2

1 1 3 4```

### 输出

```
4```

## 样例 #3

### 输入

```
4 3

1 1 3 4```

### 输出

```
2```

# AI分析结果

### 题目内容重写

#### 题目描述

Keyence公司有 $N$ 个部门，第 $i$ 个部门有 $A_i$ 名员工。不同部门之间不会有相同的员工。

Keyence公司计划开展跨部门的全公司项目。每个项目由 $K$ 个不同部门各选出一名员工组成，且每个项目恰好由 $K$ 人组成。

问最多可以组成多少个项目？注意，一个员工不能参与多个项目。

#### 说明/提示

##### 约束

- $1 \leq K \leq N \leq 2 \times 10^5$
- $1 \leq A_i \leq 10^{12}$
- 输入均为整数

##### 样例解释 1

从3个部门各选1人，可以组成2个项目。

##### 样例 #1

###### 输入

```
3 3
2 3 4
```

###### 输出

```
2
```

##### 样例 #2

###### 输入

```
4 2
1 1 3 4
```

###### 输出

```
4
```

##### 样例 #3

###### 输入

```
4 3
1 1 3 4
```

###### 输出

```
2
```

### 算法分类

二分

### 题解综合分析与结论

该问题的核心在于如何高效地计算最多可以组成多少个项目。由于直接枚举项目数会超时，因此大多数题解采用了二分法来优化计算。二分法的关键在于如何判断某个项目数是否可行，通常通过计算每个部门能贡献的员工数来判断。

### 所选高星题解

#### 题解1：作者：SnowFalling_2010 (赞：9)

- **星级**：5星
- **关键亮点**：详细解释了二分法的思路，并通过图示帮助理解。代码简洁且高效，使用了二分法来枚举项目数，并通过 `check` 函数判断是否可行。
- **个人心得**：强调了使用 `long long` 的重要性，避免数据溢出。

```cpp
bool check(ll x) {
    ll sum = 0, s = 0;
    for (int i = 1; i <= n; i++) {
        if (h[i] >= x) s++; // 可以减x次
        else sum += h[i]; // 零碎的加进去
    }
    s += sum / x; // 零碎凑出几个x
    return s >= c; // x的个数是否符合
}
```

#### 题解2：作者：guanyf (赞：6)

- **星级**：4星
- **关键亮点**：通过二分法枚举项目数，并在 `check` 函数中计算每个部门能贡献的员工数。代码结构清晰，逻辑严谨。
- **个人心得**：强调了二分法的单调性，并通过前缀和优化了计算。

```cpp
bool check(int x) {
    int cnt = 0, num = 0;
    for (int i = 1; i <= n; i++) {
        if (a[i] >= x) cnt++;
        else {
            num += a[i];
            if (num >= x) cnt++, num %= x;
        }
    }
    return cnt >= k;
}
```

#### 题解3：作者：Chenyanxi0829 (赞：3)

- **星级**：4星
- **关键亮点**：通过二分法枚举项目数，并在 `check` 函数中计算每个部门能贡献的员工数。代码简洁，逻辑清晰。
- **个人心得**：强调了二分法的单调性，并通过 `min` 函数简化了计算。

```cpp
bool C(ll c) {
    ll s = 0;
    for (int i = 1; i <= n; i++) s += min(c, a[i]);
    return s / c >= k;
}
```

### 最优关键思路或技巧

1. **二分法**：通过二分法枚举项目数，大大减少了计算量。
2. **check函数**：通过 `check` 函数判断某个项目数是否可行，通常通过计算每个部门能贡献的员工数来判断。
3. **long long**：由于数据范围较大，使用 `long long` 避免数据溢出。

### 可拓展之处

该问题的解法可以推广到类似的资源分配问题，如任务调度、资源分配等。二分法在解决这类问题时非常有效。

### 推荐相似题目

1. [P10184 - 任务调度](https://www.luogu.com.cn/problem/P10184)
2. [P10185 - 资源分配](https://www.luogu.com.cn/problem/P10185)
3. [P10186 - 最大项目数](https://www.luogu.com.cn/problem/P10186)

---
处理用时：33.13秒
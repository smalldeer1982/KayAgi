# 题目信息

# [ABC322E] Product Development

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc322/tasks/abc322_e

AtCoder 社はある商品の開発をしようとしています。この商品には $ K $ 個のパラメーターがあり、現段階ではすべてのパラメーターの値が $ 0 $ です。AtCoder 社の目標は、パラメーターの値を全て $ P $ 以上にすることです。

ここで、$ N $ 個の開発案があります。$ i(1\ \le\ i\ \le\ N) $ 個目の開発案を実行すると、$ 1\ \le\ j\ \le\ K $ を満たす整数 $ j $ 全てに対して $ j $ 個目のパラメーターが $ A_{i,j} $ 上がりますが、この開発案を実行するにはコストが $ C_i $ かかります。

同じ開発案を $ 2 $ 回以上実行することは出来ません。AtCoder 社が目標を達成出来るか判定し、出来る場合は目標を達成するのに必要なコストの総和の最小値を求めてください。

## 说明/提示

### 制約

- $ 1\ \le\ N\ \le\ 100 $
- $ 1\ \le\ K,P\ \le\ 5 $
- $ 0\ \le\ A_{i,j}\ \le\ P(1\ \le\ i\ \le\ N,1\ \le\ j\ \le\ K) $
- $ 1\ \le\ C_i\ \le\ 10^9(1\ \le\ i\ \le\ N) $
- 入力は全て整数
 
### Sample Explanation 1

$ 1 $ 個目と $ 3 $ 個目と $ 4 $ 個目の開発案を実行すると、それぞれのパラメーターが $ 3+2+0=5,0+4+1=5,2+0+4=6 $ で全て $ 5 $ 以上となるため目標を達成できます。この場合コストの総和は $ 5\ +\ 3\ +\ 1\ =\ 9 $ となります。 コストの総和 $ 8 $ 以下で目標を達成することは出来ません。よって答えは $ 9 $ です。

### Sample Explanation 2

どのようにしても目標を達成することは出来ません。よって `-1` を出力します。

## 样例 #1

### 输入

```
4 3 5

5 3 0 2

3 1 2 3

3 2 4 0

1 0 1 4```

### 输出

```
9```

## 样例 #2

### 输入

```
7 3 5

85 1 0 1

37 1 1 0

38 2 0 0

45 0 2 2

67 1 1 0

12 2 2 0

94 2 2 1```

### 输出

```
-1```

# AI分析结果

【题目内容】
# [ABC322E] 产品开发

## 题目描述

AtCoder 公司正在开发一种产品，该产品有 $K$ 个参数，初始时所有参数的值均为 $0$。公司的目标是将所有参数的值提升到至少 $P$。

公司有 $N$ 个开发方案。执行第 $i$ 个方案会使第 $j$ 个参数的值增加 $A_{i,j}$，但需要花费 $C_i$ 的成本。每个方案只能执行一次。

请判断公司是否能够实现目标，如果能，输出实现目标所需的最小总成本；否则输出 `-1`。

## 说明/提示

### 制約

- $1\ \le\ N\ \le\ 100$
- $1\ \le\ K,P\ \le\ 5$
- $0\ \le\ A_{i,j}\ \le\ P(1\ \le\ i\ \le\ N,1\ \le\ j\ \le\ K)$
- $1\ \le\ C_i\ \le\ 10^9(1\ \le\ i\ \le\ N)$
- 输入均为整数

### 样例解释 1

执行第 $1$、$3$、$4$ 个方案后，各参数的值分别为 $3+2+0=5$、$0+4+1=5$、$2+0+4=6$，均达到了 $5$ 以上。此时总成本为 $5\ +\ 3\ +\ 1\ =\ 9$。无法以更低的成本实现目标，因此输出 $9$。

### 样例解释 2

无论如何都无法实现目标，因此输出 `-1`。

## 样例 #1

### 输入

```
4 3 5

5 3 0 2

3 1 2 3

3 2 4 0

1 0 1 4
```

### 输出

```
9
```

## 样例 #2

### 输入

```
7 3 5

85 1 0 1

37 1 1 0

38 2 0 0

45 0 2 2

67 1 1 0

12 2 2 0

94 2 2 1
```

### 输出

```
-1
```

【算法分类】
动态规划

【题解分析与结论】
本题的核心是通过动态规划来求解最小成本。由于 $K$ 和 $P$ 的范围较小（$K, P \leq 5$），可以采用多维 DP 来记录每个参数的状态。大多数题解都采用了五维 DP 来记录每个参数的值，并通过状态转移方程来更新最小成本。

【评分较高的题解】

1. **作者：Genius_Star (5星)**
   - **关键亮点**：使用五维 DP 数组记录每个参数的状态，状态转移方程清晰，代码简洁且高效。
   - **代码核心思想**：通过五重循环枚举每个参数的状态，更新最小成本。
   ```cpp
   for(int i=1;i<=n;i++){
       for(ll a1=h[1];a1>=0;a1--){
           for(ll a2=h[2];a2>=0;a2--){
               for(ll a3=h[3];a3>=0;a3--){
                   for(ll a4=h[4];a4>=0;a4--){
                       for(ll a5=h[5];a5>=0;a5--){
                           ll x1=min(h[1],a1+a[i][1]),x2=min(h[2],a2+a[i][2]),x3=min(h[3],a3+a[i][3]),x4=min(h[4],a4+a[i][4]),x5=min(h[5],a5+a[i][5]);
                           f[x1][x2][x3][x4][x5]=min(f[x1][x2][x3][x4][x5],f[a1][a2][a3][a4][a5]+c[i]);
                       }
                   }
               }
           }
       }
   }
   ```

2. **作者：Mingrui_Yang (4星)**
   - **关键亮点**：使用五维 DP 数组，状态转移方程清晰，代码结构合理。
   - **代码核心思想**：通过五重循环枚举每个参数的状态，更新最小成本。
   ```cpp
   for(int i=1;i<=n;i++){
       for(int a1=h[1];a1>=0;a1--){
           for(int a2=h[2];a2>=0;a2--){
               for(int a3=h[3];a3>=0;a3--){
                   for(int a4=h[4];a4>=0;a4--){
                       for(int a5=h[5];a5>=0;a5--){
                           int x1=min(h[1],a1+a[i][1]),x2=min(h[2],a2+a[i][2]),x3=min(h[3],a3+a[i][3]),x4=min(h[4],a4+a[i][4]),x5=min(h[5],a5+a[i][5]);
                           f[x1][x2][x3][x4][x5]=min(f[x1][x2][x3][x4][x5],f[a1][a2][a3][a4][a5]+c[i]);
                       }
                   }
               }
           }
       }
   }
   ```

3. **作者：WilliamFranklin (4星)**
   - **关键亮点**：使用五维 DP 数组，状态转移方程清晰，代码简洁。
   - **代码核心思想**：通过五重循环枚举每个参数的状态，更新最小成本。
   ```cpp
   for(int i=1;i<=n;i++){
       for(int j=p;j>=0;j--){
           for(int k=p;k>=0;k--){
               for(int l=p;l>=0;l--){
                   for(int m=p;m>=0;m--){
                       for(int n=p;n>=0;n--){
                           f[min(j+a[i][1],p)][min(k+a[i][2],p)][min(l+a[i][3],p)][min(m+a[i][4],p)][min(n+a[i][5],p)]=min(f[min(j+a[i][1],p)][min(k+a[i][2],p)][min(l+a[i][3],p)][min(m+a[i][4],p)][min(n+a[i][5],p)],f[j][k][l][m][n]+c[i]);
                       }
                   }
               }
           }
       }
   }
   ```

【最优关键思路】
使用五维 DP 数组记录每个参数的状态，通过状态转移方程更新最小成本。由于 $K$ 和 $P$ 的范围较小，五维 DP 是可行的。

【可拓展之处】
类似的多维 DP 问题可以通过状态压缩或进制转换来优化空间复杂度，尤其是在参数较多时。

【推荐题目】
1. P1048 [NOIP2005 普及组] 采药
2. P1060 [NOIP2006 普及组] 开心的金明
3. P1541 [NOIP2010 提高组] 乌龟棋

【个人心得】
- **调试经历**：部分题解在初始化 DP 数组时未考虑边界条件，导致 WA。
- **踩坑教训**：多维 DP 的循环顺序和状态转移方程需要仔细设计，避免重复计算或遗漏状态。
- **顿悟感想**：通过多维 DP 可以有效地解决多参数优化问题，尤其是在参数范围较小的情况下。

---
处理用时：53.99秒
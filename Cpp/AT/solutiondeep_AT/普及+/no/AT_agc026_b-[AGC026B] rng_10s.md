# 题目信息

# [AGC026B] rng_10s

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc026/tasks/agc026_b

コンビニエンスストアのりんごマートでは，りんごジュースを販売しています。

りんごマートはある日の朝に開店し，その時にはジュースの在庫が $ A $ 本ありました。 すぬけ君は毎日昼にりんごマートでジュースを $ B $ 本買います。 りんごマートでは毎日夜にジュースの在庫を確認し，$ C $ 本以下だった場合，次の日の朝までに $ D $ 本在庫を追加します。

すぬけ君がジュースを永遠に買い続けられるかを判定して下さい。 つまり，ジュースを買おうとした時，必ず在庫が $ B $ 本以上あるかどうかを判定して下さい。 すぬけ君以外がジュースを買うことはありません。

また，今回の問題では入力ケースは $ T $ 個のクエリからなります。

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 300 $
- $ 1\ \leq\ A,\ B,\ C,\ D\ \leq\ 10^{18} $
- 入力される値は全て整数である

### Sample Explanation 1

$ 1 $ 個目のクエリでは在庫の個数は以下のように変動します。 $ 9 $ →昼 $ 2 $ →夜 $ 11 $ →昼 $ 4 $ →夜 $ 13 $ →昼 $ 6 $ →夜 $ 6 $ →昼 x $ 2 $ 個目のクエリでは在庫の個数は以下のように変動します。 $ 9 $ →昼 $ 2 $ →夜 $ 11 $ →昼 $ 4 $ →夜 $ 13 $ →昼 $ 6 $ →夜 $ 15 $ →昼 $ 8 $ →夜 $ 8 $ →昼 $ 1 $ →夜 $ 10 $ →昼 $ 3 $ →夜 $ 12 $ →昼 $ 5 $ →夜 $ 14 $ →昼 $ 7 $ →夜 $ 7 $ →昼 $ 0 $ →夜 $ 9 $ →昼 $ 2 $ →夜 $ 11 $ →昼 … と続いていき，このまま永遠に購入し続けられます。

## 样例 #1

### 输入

```
14

9 7 5 9

9 7 6 9

14 10 7 12

14 10 8 12

14 10 9 12

14 10 7 11

14 10 8 11

14 10 9 11

9 10 5 10

10 10 5 10

11 10 5 10

16 10 5 10

1000000000000000000 17 14 999999999999999985

1000000000000000000 17 15 999999999999999985```

### 输出

```
No

Yes

No

Yes

Yes

No

No

Yes

No

Yes

Yes

No

No

Yes```

## 样例 #2

### 输入

```
24

1 2 3 4

1 2 4 3

1 3 2 4

1 3 4 2

1 4 2 3

1 4 3 2

2 1 3 4

2 1 4 3

2 3 1 4

2 3 4 1

2 4 1 3

2 4 3 1

3 1 2 4

3 1 4 2

3 2 1 4

3 2 4 1

3 4 1 2

3 4 2 1

4 1 2 3

4 1 3 2

4 2 1 3

4 2 3 1

4 3 1 2

4 3 2 1```

### 输出

```
No

No

No

No

No

No

Yes

Yes

No

No

No

No

Yes

Yes

Yes

No

No

No

Yes

Yes

Yes

No

No

No```

# AI分析结果

### 题目内容重写
#### 题目描述
便利店“苹果市场”销售苹果汁。某天早上开店时，店内有 $A$ 瓶苹果汁。每天中午，Snuke 会购买 $B$ 瓶苹果汁。每天晚上，如果苹果汁的库存不超过 $C$ 瓶，店主会在第二天早上前补充 $D$ 瓶苹果汁。

请判断 Snuke 是否可以无限购买苹果汁。也就是说，判断 Snuke 每次购买时，库存是否总是不低于 $B$ 瓶。Snuke 是唯一的顾客。

输入包含 $T$ 个查询，每个查询给出 $A, B, C, D$ 的值。

#### 说明/提示
- $1 \leq T \leq 300$
- $1 \leq A, B, C, D \leq 10^{18}$
- 所有输入均为整数

### 算法分类
数学

### 题解分析与结论
本题的核心在于判断 Snuke 是否可以无限购买苹果汁，关键在于库存是否会进入一个无法满足购买需求的状态。通过分析，可以将问题转化为判断是否存在某个时刻，库存处于 $(C, B)$ 之间，导致无法继续购买。

#### 关键思路与技巧
1. **特判条件**：首先判断 $A < B$ 或 $D < B$ 的情况，直接输出 `No`。
2. **裴蜀定理**：通过裴蜀定理，将问题转化为判断是否存在 $k$ 使得 $A - B < k \times \gcd(B, D) < A - C$。
3. **区间判断**：通过计算 $\lfloor \frac{A - C - 1}{\gcd(B, D)} \rfloor$ 和 $\lfloor \frac{A - B}{\gcd(B, D)} \rfloor$ 的关系，判断是否存在满足条件的 $k$。

#### 评分较高的题解
1. **作者：cjh20090318 (5星)**
   - **关键亮点**：思路清晰，通过裴蜀定理将问题转化为同余方程，并给出了详细的数学推导。
   - **代码实现**：
     ```cpp
     void solve(){
         scanf("%lld%lld%lld%lld",&a,&b,&c,&d);
         if(d<b||a<b) puts("No");
         else{
             if(c>=b-1) puts("Yes");
             else{
                 LL g=__gcd(d,b);
                 a%=b;
                 LL x=(b-1-a)/g*g;
                 puts((a+x)%b>c?"No":"Yes");
             }
         }
     }
     ```

2. **作者：Ezio__Auditore (4星)**
   - **关键亮点**：详细分析了特殊情况，并通过裴蜀定理推导出判断条件。
   - **代码实现**：
     ```cpp
     ll floor_frac(ll a, ll b) {
         if (!((a > 0) ^ (b > 0))) return a / b;
         else return a / b - static_cast<bool>(a % b);
     }
     ```

3. **作者：_hxh (4星)**
   - **关键亮点**：通过裴蜀定理和区间判断，给出了简洁的代码实现。
   - **代码实现**：
     ```cpp
     if ((a - c - 1) / gcd(b,d) > (a - b) / gcd(b,d))
         cout << "No" << endl;
     else
         cout << "Yes" << endl;
     ```

### 拓展与举一反三
本题的核心在于通过数学推导和裴蜀定理，将问题转化为判断区间内是否存在满足条件的解。类似的题目可以通过分析问题的数学性质，利用数论知识进行求解。

### 推荐题目
1. [P1082 同余方程](https://www.luogu.com.cn/problem/P1082)
2. [P1516 青蛙的约会](https://www.luogu.com.cn/problem/P1516)
3. [P2421 裴蜀定理](https://www.luogu.com.cn/problem/P2421)

### 个人心得
在解决此类问题时，特判条件和数学推导是关键。通过裴蜀定理，可以将复杂的问题转化为简单的区间判断，从而高效地解决问题。

---
处理用时：27.49秒
# 题目信息

# [ARC008C] THE☆たこ焼き祭り2012

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc008/tasks/arc008_3

 たこ焼き屋の開店にあたって、たこ焼きの味を皆に分かってもらうために試食イベントを行うことにしました。  
 しかし、高橋社長はたこ焼きをより多くの人に食べてもらいたいので、試食イベントを兼ねたお祭り『THE☆たこ焼き祭り2012』をすることを提案してきました。高橋社長が提案してきた『THE☆たこ焼き祭り2012』の試食イベント内容は以下のようになっています。

 会場にはあなたと参加者を足して $ N $ 人の人がいます。あなたはたこ焼きを $ N $ 個持っており、それを全員に $ 1 $ 人 $ 1 $ 個ずつ行き渡るようにします。  
 会場は広いのであなたはたこ焼きを投げて配らないといけません。 あなただけで全員に配ることは大変なので、参加者にも協力してもらうことにし、参加者は受け取ったたこ焼きを別の参加者へと投げることもできます。  
 あなたと参加者はつまようじを$ 1 $ 人につき $ 1 $ 本しか持っていないので同じタイミングで複数のたこ焼きを投げることはできず、たこ焼きを投げてから $ 1 $ 秒間は次のたこ焼きを投げることができません。受け取る側はいつでも何個でも受け取ることができます。  
 さらに、あなたと参加者は立っている位置から動いてはいけません。  
 参加者は大人から子供までいるのでそれぞれにはたこ焼きをキャッチできる速度の上限があり、たこ焼きを投げる側にも投げられる速度の上限があります。投げられたたこ焼きの速度は減衰することなく受け取り手に届きます。

 たこ焼きはなるべく出来立てを食べて欲しいので、たこ焼きを全員に配り切るために必要な時間の最小値を答えなさい。

 入力は以下の形式で標準入力から与えられる。 > $ N $ $ x_{0} $ $ y_{0} $ $ t_{0} $ $ r_{0} $ $ x_{1} $ $ y_{1} $ $ t_{1} $ $ r_{1} $ : : $ x_{N-1} $ $ y_{N-1} $ $ t_{N-1} $ $ r_{N-1} $

- 入力は $ N+1 $ 行ある。
- $ 1 $ 行目には、たこ焼き祭りの参加者数とあなたを足した数を表す整数 $ N\ (1≦N≦1,000) $ が与えられる。
- $ 2 $ 行目には、あなたが立っている位置の $ x $ 座標を表す整数 $ x_0\ (-10,000≦x_0≦10,000) $、$ y $ 座標を表す整数 $ y_0\ (-10,000≦y_0≦10,000) $、たこ焼きを投げる速度の上限を表す整数 $ t_0\ (3≦t_0≦340) $ とたこ焼きを受け取る速度の上限を表す整数 $ r_0\ (3≦r_0≦340) $ が空白で区切られて与えられる。
- $ 3 $ 行目から $ N-1 $ 行のうち $ i+2\ (1≦i≦N-1) $ 行目には $ i $ 番目の参加者が立っている位置の $ x $ 座標を表す整数 $ x_i\ (-10,000≦x_i≦10,000) $、$ y $ 座標を表す整数 $ y_i\ (-10,000≦y_i≦10,000) $、たこ焼きを投げる速度の上限を表す整数 $ t_i\ (3≦t_i≦340) $ とたこ焼きを受け取る速度の上限を表す整数 $ r_i\ (3≦r_i≦340) $ が空白で区切られて与えられる。
- 与えられる速度は $ 1 $ 秒辺りの速度である。
- 複数の人が同じ位置に立つことはない。
 
 たこ焼きを全ての参加者が $ 1 $ つずつ受け取るためまでに必要な秒数の最小値を $ 1 $ 行で出力せよ。  
 出力は整数および小数のみとし、誤差は絶対誤差あるいは相対誤差の少なくとも片方が $ 10^{−6} $ 以下であれば許容する。  
 なお、最後には改行を出力せよ。 ```

4
0 0 300 10
0 100 10 100
0 200 10 200
0 300 10 300
```

 ```

3
```

- $ 0 $ 秒目 : 
  - あなた : $ 1 $ 番目の参加者に速度 $ 100 $ でたこ焼きを投げる。
- $ 1 $ 秒目 : 
  - あなた : $ 2 $ 番目の参加者に速度 $ 200 $ でたこ焼きを投げる。
  - $ 1 $ 番目の参加者 : あなたが $ 0 $ 秒目に投げたたこ焼きをキャッチする。
- $ 2 $ 秒目 : 
  - あなた : $ 3 $ 番目の参加者に速度 $ 300 $ でたこ焼きを投げる。
  - $ 2 $ 番目の参加者 : あなたが $ 1 $ 秒目に投げたたこ焼きをキャッチする。
- $ 3 $ 秒目 : 
  - $ 3 $ 番目の参加者 : あなたが $ 2 $ 秒目に投げたたこ焼きをキャッチする。
 
```

4
0 0 100 10
0 90 10 10
0 100 30 100
-20 100 10 10
```

 ```

3
```

- $ 0 $ 秒目 : 
  - あなた : $ 2 $ 番目の参加者に速度 $ 100 $ でたこ焼きを投げる。
- $ 1 $ 秒目 : 
  - あなた : $ 2 $ 番目の参加者に速度 $ 100 $ でたこ焼きを投げる。
  - $ 2 $ 番目の参加者 : あなたが $ 0 $ 秒目に投げたたこ焼きをキャッチし、$ 3 $ 番目の参加者に速度 $ 10 $ で投げる。
- $ 2 $ 秒目 : 
  - あなた : $ 2 $ 番目の参加者に速度 $ 100 $ でたこ焼きを投げる。
  - $ 2 $ 番目の参加者 : あなたが $ 1 $ 秒目に投げたたこ焼きをキャッチし、$ 2 $ 番目の参加者に速度 $ 10 $ で投げる。
- $ 3 $ 秒目 : 
  - $ 1 $ 番目の参加者 : $ 2 $ 番目の参加者が $ 2 $ 秒目に投げたたこ焼きをキャッチする。
  - $ 2 $ 番目の参加者 : あなたが $ 2 $ 秒目に投げたたこ焼きをキャッチする。
  - $ 3 $ 番目の参加者 : $ 2 $ 番目の参加者が $ 1 $ 秒目に投げたたこ焼きをキャッチする。
 
```

1
0 0 3 3
```

 ```

0
```

- 参加者があなただけなので配る必要がありません。
 
```

4
58 -49 38 109
45 -29 200 56
-32 123 103 98
49 -234 289 43
```

 ```

4.874179
```


```

8
100 100 30 50
100 50 93 123
100 0 89 111
50 100 13 18
50 0 155 86
0 100 30 58
0 50 58 49
0 0 98 153
```

 ```

7.666667
```

# AI分析结果

### 题目翻译
[ARC008C] THE☆たこ焼き祭り2012

### 题目描述
为了让大家了解章鱼烧的味道，章鱼烧店决定举办试吃活动。然而，高桥社长希望让更多人品尝到章鱼烧，因此提议举办一个名为“THE☆章鱼烧祭2012”的活动。活动内容如下：

会场中有你和参与者共 $N$ 人。你持有 $N$ 个章鱼烧，需要将它们分发给每个人，每人一个。由于会场很大，你必须通过投掷的方式分发章鱼烧。由于你一个人无法完成分发，参与者也会协助你，参与者可以将收到的章鱼烧投掷给其他参与者。每个人只能持有一根竹签，因此不能同时投掷多个章鱼烧，投掷后需要等待1秒才能投掷下一个。接收者可以随时接收任意数量的章鱼烧。此外，你和参与者不能移动位置。参与者的投掷和接收速度有上限，投掷的章鱼烧速度不会衰减。

为了让章鱼烧尽可能新鲜，请计算将章鱼烧分发给所有人所需的最小时间。

### 输入格式
输入包含 $N+1$ 行：
- 第1行：整数 $N$，表示参与者和你的总数。
- 第2行：你的位置坐标 $x_0, y_0$，投掷速度上限 $t_0$，接收速度上限 $r_0$。
- 第3行到第 $N+1$ 行：每个参与者的位置坐标 $x_i, y_i$，投掷速度上限 $t_i$，接收速度上限 $r_i$。

### 输出格式
输出将章鱼烧分发给所有人所需的最小时间，保留6位小数。

### 样例
```plaintext
4
0 0 300 10
0 100 10 100
0 200 10 200
0 300 10 300
```
```plaintext
3
```

### 算法分类
最短路

### 题解分析与结论
本题的核心是将每个人视为图中的一个节点，两个人之间的传递时间作为边的权重，然后通过最短路算法计算从你（起点）到所有参与者的最短时间。由于数据范围较小（$N \leq 1000$），Floyd算法（时间复杂度 $O(N^3)$）可以胜任。

### 精选题解
#### 1. 作者：ikunTLE (★★★★☆)
**关键亮点**：
- 使用Floyd算法计算最短路，思路清晰。
- 代码简洁，易于理解。

**核心代码**：
```cpp
for(int k=1;k<=n;++k)
    for(int i=1;i<=n;++i)
        for(int j=1;j<=n;++j)
            f[i][j]=min(f[i][j],f[i][k]+f[k][j]);
```
**实现思想**：通过三重循环枚举所有可能的中间节点，更新每对节点之间的最短路径。

#### 2. 作者：_xbn (★★★★☆)
**关键亮点**：
- 直接使用Floyd算法，代码结构清晰。
- 输出格式控制得当，保留6位小数。

**核心代码**：
```cpp
for(int k=0; k<n; k++)
    for(int i=0; i<n; i++)
        for(int j=0; j<n; j++)
            d[i][j] = min(d[i][j], d[i][k] + d[k][j]);
```
**实现思想**：与ikunTLE类似，通过Floyd算法计算最短路，代码结构简洁。

#### 3. 作者：Zheng_iii (★★★★☆)
**关键亮点**：
- 使用Floyd算法，代码结构清晰。
- 输出格式控制得当，保留6位小数。

**核心代码**：
```cpp
for(int k=1;k<=n;k++)
    for(int i=1;i<=n;i++)
        for(int j=1;j<=n;j++)
            dis[i][j]=min(dis[i][j],dis[i][k]+dis[k][j]);
```
**实现思想**：通过Floyd算法计算最短路，代码结构简洁。

### 最优关键思路
- **Floyd算法**：适用于小规模数据的最短路计算，通过三重循环枚举所有可能的中间节点，更新每对节点之间的最短路径。
- **时间计算**：在计算最短路后，需要加上投掷间隔时间（$n-i$），以确保每个人都能在最短时间内收到章鱼烧。

### 拓展思路
- **Dijkstra算法**：如果数据规模较大，可以考虑使用Dijkstra算法优化时间复杂度。
- **SPFA算法**：对于稀疏图，SPFA算法也是一种有效的选择。

### 推荐题目
1. [P2910 - Clear And Present Danger](https://www.luogu.com.cn/problem/P2910)
2. [P3371 - 单源最短路径（弱化版）](https://www.luogu.com.cn/problem/P3371)
3. [P4779 - 单源最短路径（标准版）](https://www.luogu.com.cn/problem/P4779)

---
处理用时：31.80秒
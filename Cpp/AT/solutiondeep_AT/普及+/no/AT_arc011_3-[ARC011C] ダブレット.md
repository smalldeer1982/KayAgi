# 题目信息

# [ARC011C] ダブレット

## 题目描述

你正在玩一个单词接龙游戏。

一个单词可以变换为另一个单词，当且仅当这两个单词恰有一个字母不同。

给定起始单词 $first$ 和目标单词 $last$，以及一个含有 $N$ 个单词的 **可重** 词集 $\{s_0,s_1,...,s_{N-1}\}$。请回答，在只使用词集中的词进行变换的情况下，从 $first$ 变换到 $last$ 最少需要多少步 **（所使用的词集中的词的个数）**，并给出一组方案。

特别地：

- 若 $first$ 和 $last$ 相同，则步数为 $0$；
- 若无法完成变换，仅输出一行 `-1` 即可；
- **若 $first$ 只经过一次变换即可得到 $last$，则步数也为 $0$。（这段话原题没写）**

## 说明/提示

- $1\le N\le 1\ 000$；
- 词集中可能含有重复的单词，也可能含有 $first$ 和 $last$；
- 输入的每个单词长度都相同，且该长度 $L$ 满足 $1\le L\le 30$；
- 每个单词仅由英文小写字母 `a-z` 构成。

# AI分析结果

### 题目内容重写
你正在玩一个单词接龙游戏。

一个单词可以变换为另一个单词，当且仅当这两个单词恰有一个字母不同。

给定起始单词 $first$ 和目标单词 $last$，以及一个含有 $N$ 个单词的 **可重** 词集 $\{s_0,s_1,...,s_{N-1}\}$。请回答，在只使用词集中的词进行变换的情况下，从 $first$ 变换到 $last$ 最少需要多少步 **（所使用的词集中的词的个数）**，并给出一组方案。

特别地：

- 若 $first$ 和 $last$ 相同，则步数为 $0$；
- 若无法完成变换，仅输出一行 `-1` 即可；
- **若 $first$ 只经过一次变换即可得到 $last$，则步数也为 $0$。（这段话原题没写）**

### 算法分类
图论、广度优先搜索（BFS）

### 题解分析与结论
该题的核心思路是将单词之间的变换关系建模为图论中的最短路问题。通过构建无向图，其中节点代表单词，边代表两个单词之间可以通过一次变换相互转换。然后使用广度优先搜索（BFS）来找到从起始单词到目标单词的最短路径。

### 所选题解
#### 题解作者：SamHH0912
**星级：4星**
**关键亮点：**
1. **图的构建**：将单词之间的变换关系建模为无向图，节点代表单词，边代表一次变换。
2. **BFS的应用**：使用BFS来寻找最短路径，确保时间复杂度为 $\mathcal{O}(N^2 \times L)$，其中 $N$ 是单词数量，$L$ 是单词长度。
3. **步数的计算**：通过将起点的 $dis$ 值设为 $-1$，直接取终点 $dis$ 值作为步数，简化了步数的计算。

**个人心得：**
- 作者提到通过将起点的 $dis$ 值设为 $-1$，直接取终点 $dis$ 值作为步数，简化了步数的计算，这种处理方式非常巧妙。

**核心代码：**
```cpp
inline bool check(char a[],char b[]){//检查是否能连边
	bool fl=0;
	for(int i=0;a[i];i++)
		if(a[i]!=b[i]){
			if(fl) return 0;
			fl=1;
		}
	return fl;
}

void AddE(int u,int v){
	edge[++cnt]={v,head[u]};
	head[u]=cnt;
}

queue<int>que;//广搜队列
while(!que.empty()) que.pop();//防止玄学事件发生
vis[n]=1,dis[n]=-1,que.push(n);//初始化
while(!que.empty()){//广搜
	int u=que.front();que.pop();
	for(int i=head[u];i;i=edge[i].nxt){
		int v=edge[i].v;
		if(vis[v]) continue;
		vis[v]=1,pre[v]=u,dis[v]=dis[u]+1,que.push(v);
	}
}
```

### 最优关键思路或技巧
1. **图的构建**：将单词之间的变换关系建模为无向图，节点代表单词，边代表一次变换。
2. **BFS的应用**：使用BFS来寻找最短路径，确保时间复杂度为 $\mathcal{O}(N^2 \times L)$。
3. **步数的计算**：通过将起点的 $dis$ 值设为 $-1$，直接取终点 $dis$ 值作为步数，简化了步数的计算。

### 可拓展之处
该题可以拓展到更复杂的单词变换规则，例如允许两个字母的变换，或者允许插入和删除字母的变换。此外，该题的思路也可以应用于其他图论问题，如社交网络中的最短路径问题。

### 推荐题目
1. [P1144 最短路计数](https://www.luogu.com.cn/problem/P1144)
2. [P1339 [USACO09OCT]Heat Wave G](https://www.luogu.com.cn/problem/P1339)
3. [P3371 【模板】单源最短路径（弱化版）](https://www.luogu.com.cn/problem/P3371)

---
处理用时：28.94秒
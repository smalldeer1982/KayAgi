# 题目信息

# [ARC021B] Your Numbers are XORed...

## 题目描述

有两个序列 $a$ 和 $b$。

已知序列 $b$ 的构造方法：
- 对于 $1 \le i < L$ 的情况，$b_i = a_i \operatorname{xor} a_{i + 1}$，其中 $\operatorname{xor}$ 表示异或；
- $b_L = a_L \operatorname{xor} a_1$。

给定序列 $b$ 的长度 $L$ ，以及序列 $b$，求序列 $a$，如果没有一个满足的序列 $a$，请输出`-1`。

如果你不知道什么是异或，请点[这个链接](https://baike.baidu.com/item/%E5%BC%82%E6%88%96/10993677)。

## 说明/提示

对于 $100\%$ 的数据：
- $2 \le L \le 10^5$；
- $0 \le b_i < 2^{31}$。

## 样例 #1

### 输入

```
2

1

1```

### 输出

```
0

1```

## 样例 #2

### 输入

```
3

1

4

1```

### 输出

```
-1```

## 样例 #3

### 输入

```
3

1

2

3```

### 输出

```
0

1

3```

# AI分析结果

### 题目重写
【题目内容】
# [ARC021B] Your Numbers are XORed...

## 题目描述

有两个序列 $a$ 和 $b$。

已知序列 $b$ 的构造方法：
- 对于 $1 \le i < L$ 的情况，$b_i = a_i \operatorname{xor} a_{i + 1}$，其中 $\operatorname{xor}$ 表示异或；
- $b_L = a_L \operatorname{xor} a_1$。

给定序列 $b$ 的长度 $L$ ，以及序列 $b$，求序列 $a$，如果没有一个满足的序列 $a$，请输出`-1`。

如果你不知道什么是异或，请点[这个链接](https://baike.baidu.com/item/%E5%BC%82%E6%88%96/10993677)。

## 说明/提示

对于 $100\%$ 的数据：
- $2 \le L \le 10^5$；
- $0 \le b_i < 2^{31}$。

## 样例 #1

### 输入

```
2

1

1```

### 输出

```
0

1```

## 样例 #2

### 输入

```
3

1

4

1```

### 输出

```
-1```

## 样例 #3

### 输入

```
3

1

2

3```

### 输出

```
0

1

3```

### 算法分类
构造、位运算

### 题解分析与结论
题目要求根据给定的序列 $b$ 构造序列 $a$，并且需要满足特定的异或关系。所有题解的核心思路都是通过递推的方式构造序列 $a$，并最终检查是否满足 $b_L = a_L \operatorname{xor} a_1$ 的条件。

### 所选题解
1. **作者：Struggle_ong (赞：4)**
   - **星级：4**
   - **关键亮点：**
     - 通过递推公式 $a_{i+1} = b_i \operatorname{xor} a_i$ 构造序列 $a$。
     - 最后检查 $b_L = a_L \operatorname{xor} a_1$ 是否成立，若不成立则输出 `-1`。
     - 代码简洁，逻辑清晰。
   - **核心代码：**
     ```cpp
     for(int i=1;i<l;i++)a[i+1]=b[i] xor a[i];
     if((a[l] xor a[1])!=b[l]){cout<<-1<<endl;return 0;}
     ```

2. **作者：Defoliation (赞：0)**
   - **星级：4**
   - **关键亮点：**
     - 同样使用递推公式 $a_{i+1} = b_i \operatorname{xor} a_i$ 构造序列 $a$。
     - 强调输出格式和字典序最小化的要求，$a_1$ 必须为 $0$。
     - 代码结构清晰，细节处理到位。
   - **核心代码：**
     ```cpp
     a[1]=0;
     for(int i=2;i<=l;++i) a[i]=(b[i-1]^a[i-1]);
     if((a[l]^a[1])!=b[l]){cout<<-1<<endl;return 0;}
     ```

3. **作者：Nygglatho (赞：0)**
   - **星级：4**
   - **关键亮点：**
     - 通过数学推导证明递推公式的正确性。
     - 代码实现简洁，逻辑严谨。
     - 强调无解情况的处理。
   - **核心代码：**
     ```cpp
     a[1] = 0;
     for(int i=2;i<=l;++i) a[i] = (b[i-1] ^ a[i-1]);
     if((a[l] ^ a[1]) != b[l]) return puts("-1"), 0;
     ```

### 最优关键思路或技巧
- **递推构造序列**：通过递推公式 $a_{i+1} = b_i \operatorname{xor} a_i$ 逐步构造序列 $a$，并最终检查是否满足 $b_L = a_L \operatorname{xor} a_1$ 的条件。
- **字典序最小化**：为了满足字典序最小的要求，$a_1$ 必须为 $0$。
- **无解处理**：若最终检查不通过，则输出 `-1`。

### 可拓展之处
- **类似题目**：可以考虑其他基于位运算的构造问题，如给定某些位运算关系，构造满足条件的序列。
- **算法优化**：在处理大规模数据时，可以考虑并行计算或优化内存访问模式。

### 推荐题目
1. [P1469 找筷子](https://www.luogu.com.cn/problem/P1469) - 考察位运算中的异或操作。
2. [P2114 [NOI2014] 起床困难综合症](https://www.luogu.com.cn/problem/P2114) - 考察位运算的综合应用。
3. [P3811 【模板】乘法逆元](https://www.luogu.com.cn/problem/P3811) - 考察数学中的逆元计算，与位运算有一定关联。

---
处理用时：34.25秒
# 题目信息

# [ABC063D] Widespread

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc063/tasks/arc075_b

あなたが散歩していると、突然 $ N $ 体の魔物が出現しました。それぞれの魔物は *体力* という値を持ち、$ i $ 体目の魔物の出現時の体力は $ h_i $ です。体力が $ 0 $ 以下となった魔物は直ちに消滅します。

幸い、あなたは熟練の魔法使いであり、爆発を引き起こして魔物を攻撃できます。一回の爆発では、以下のように魔物の体力を減らすことができます。

- 生存している魔物を一体選び、その魔物を中心に爆発を引き起こす。爆発の中心となる魔物の体力は $ A $ 減り、その他の魔物の体力はそれぞれ $ B $ 減る。ここで、$ A $ と $ B $ はあらかじめ定まった値であり、$ A\ >\ B $ である。

すべての魔物を消し去るためには、最小で何回の爆発を引き起こす必要があるでしょうか？

## 说明/提示

### 制約

- 入力値はすべて整数である。
- $ 1\ <\ =\ N\ <\ =\ 10^5 $
- $ 1\ <\ =\ B\ <\ A\ <\ =\ 10^9 $
- $ 1\ <\ =\ h_i\ <\ =\ 10^9 $

### Sample Explanation 1

以下のようにして、$ 2 $ 回の爆発ですべての魔物を消し去ることができます。 - まず、体力が $ 8 $ の魔物を中心に爆発を引き起こす。$ 4 $ 体の魔物の体力はそれぞれ $ 3 $, $ 4 $, $ 1 $, $ -1 $ となり、最後の魔物は消滅する。 - 次に、残りの体力が $ 4 $ の魔物を中心に爆発を引き起こす。残っていた $ 3 $ 体の魔物の体力はそれぞれ $ 0 $, $ -1 $, $ -2 $ となり、すべての魔物が消滅する。

### Sample Explanation 2

それぞれの魔物を中心に $ 2 $ 回ずつ、合計で $ 4 $ 回の爆発を引き起こす必要があります。

## 样例 #1

### 输入

```
4 5 3

8

7

4

2```

### 输出

```
2```

## 样例 #2

### 输入

```
2 10 4

20

20```

### 输出

```
4```

## 样例 #3

### 输入

```
5 2 1

900000000

900000000

1000000000

1000000000

1000000000```

### 输出

```
800000000```

# AI分析结果

### 题目内容重写

#### [ABC063D] Widespread

**题目描述**

你在散步时，突然出现了 $N$ 只魔物。每只魔物都有一个体力值，第 $i$ 只魔物的初始体力值为 $h_i$。当魔物的体力值降至 $0$ 或以下时，它会立即消失。

你是一名熟练的魔法师，可以通过引发爆炸来攻击魔物。每次爆炸的效果如下：

- 选择一只存活的魔物作为爆炸中心，该魔物的体力值减少 $A$，其他魔物的体力值各减少 $B$。其中 $A$ 和 $B$ 是预先给定的值，且 $A > B$。

问：为了消灭所有魔物，最少需要引发多少次爆炸？

**说明/提示**

**约束条件**

- 所有输入值均为整数。
- $1 \leq N \leq 10^5$
- $1 \leq B < A \leq 10^9$
- $1 \leq h_i \leq 10^9$

**样例解释**

**样例 1**

输入：
```
4 5 3
8
7
4
2
```
输出：
```
2
```
解释：
- 首先，选择体力值为 8 的魔物作为爆炸中心，所有魔物的体力值分别变为 3, 4, 1, -1，最后一只魔物消失。
- 接着，选择体力值为 4 的魔物作为爆炸中心，剩余魔物的体力值分别变为 0, -1, -2，所有魔物消失。

**样例 2**

输入：
```
2 10 4
20
20
```
输出：
```
4
```
解释：
- 每只魔物需要作为爆炸中心引发 2 次爆炸，总共需要 4 次爆炸。

**样例 3**

输入：
```
5 2 1
900000000
900000000
1000000000
1000000000
1000000000
```
输出：
```
800000000
```

### 算法分类
二分

### 题解分析与结论

该题的核心思路是通过二分法来确定最少需要多少次爆炸才能消灭所有魔物。由于爆炸次数越多，消灭所有魔物的可能性越大，因此答案具有单调性，适合使用二分法来求解。

### 精选题解

#### 题解1：作者：liruixiong0101 (赞：7)
**星级：5**
**关键亮点：**
- 详细解释了为什么使用二分法，并给出了二分法的实现。
- 提供了完整的代码实现，包括二分法的核心逻辑和判断函数。
- 强调了数据范围，提醒使用 `long long` 类型。

**核心代码：**
```cpp
bool check(int x){
	int cnt = 0;
	for(int i = 1; i <= n; i++){
		if(p[i] <= x * b) continue;
		cnt += Ceil(p[i] - x * b , a - b);
	}
	return cnt <= x;
}
```
**核心思想：**
- 判断函数 `check` 用于判断是否可以用 `x` 次爆炸消灭所有魔物。
- 每个魔物首先受到 `x * b` 的伤害，如果仍有魔物体力大于 `0`，则需要额外的 `(a - b)` 伤害来消灭它们。

#### 题解2：作者：liangbowen (赞：6)
**星级：4**
**关键亮点：**
- 详细介绍了二分答案的思路，并提供了判断函数的实现。
- 强调了 `long long` 的使用，防止数据溢出。

**核心代码：**
```cpp
bool chk(int x)
{
	long long cnt = 0, xb = 1ll * x * b;
	for (int i = 1; i <= n; i++)
		if (xb < h[i])
		{
			int t = h[i] - xb;
			cnt += ceil(1.0 * t / (a-b));
			if (cnt > x) return false;
		}
	return true;
}
```
**核心思想：**
- 判断函数 `chk` 用于判断是否可以用 `x` 次爆炸消灭所有魔物。
- 每个魔物首先受到 `x * b` 的伤害，如果仍有魔物体力大于 `0`，则需要额外的 `(a - b)` 伤害来消灭它们。

#### 题解3：作者：fengenrong (赞：3)
**星级：4**
**关键亮点：**
- 提供了二分答案的模板代码，并详细解释了判断函数的逻辑。
- 强调了数据范围，提醒使用 `long long` 类型。

**核心代码：**
```cpp
bool pd(int x)
{
	int sum=0;
	for(register int i=1;i<=n;i++)
	{
		if(x*b<g[i])
		{
			sum+=ceil((g[i]-x*b)/(1.0*(a-b)));
		}
	}
	return sum<=x;
}
```
**核心思想：**
- 判断函数 `pd` 用于判断是否可以用 `x` 次爆炸消灭所有魔物。
- 每个魔物首先受到 `x * b` 的伤害，如果仍有魔物体力大于 `0`，则需要额外的 `(a - b)` 伤害来消灭它们。

### 最优关键思路或技巧
- **二分法的应用**：通过二分法确定最小爆炸次数，利用单调性进行快速搜索。
- **判断函数的优化**：通过计算每个魔物需要的额外伤害次数，判断是否可以在给定的爆炸次数内消灭所有魔物。
- **数据范围的处理**：由于数据范围较大，使用 `long long` 类型防止溢出。

### 可拓展之处
- 类似的问题可以通过二分法来解决，如确定最小操作次数、最小资源消耗等。
- 可以进一步优化判断函数的计算，减少不必要的循环和计算。

### 推荐题目
1. [P2440 木材加工](https://www.luogu.com.cn/problem/P2440)
2. [P2678 跳石头](https://www.luogu.com.cn/problem/P2678)
3. [P1824 进击的奶牛](https://www.luogu.com.cn/problem/P1824)

### 个人心得摘录
- **调试经历**：在实现二分法时，注意边界条件的处理，避免死循环或漏解。
- **踩坑教训**：数据范围较大时，务必使用 `long long` 类型，避免溢出问题。
- **顿悟感想**：二分法的关键在于判断函数的正确性，确保每次二分都能有效缩小搜索范围。

---
处理用时：44.56秒
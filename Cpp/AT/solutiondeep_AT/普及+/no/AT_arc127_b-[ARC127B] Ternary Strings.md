# 题目信息

# [ARC127B] Ternary Strings

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc127/tasks/arc127_b

整数 $ N,L $ が与えられます． 以下の条件をすべて満たす $ 3N $ 個の文字列の組 $ (S_1,S_2,\cdots,S_{3N}) $ を一つ求めてください．

- $ S_i $ は `0`, `1`, `2` からなる長さ $ L $ の文字列である．
- $ S_i $ はすべて互いに異なる．
- すべての $ j $ ($ 1\ \leq\ j\ \leq\ L $) および $ c= $`0`, `1`, `2` について，次が成り立つ．
  
  
  - $ S_i $ のうち，$ j $ 文字目が $ c $ であるようなものはちょうど $ N $ 個存在する．
- $ S_1,S_2,\cdots,S_{3N} $ の中で，辞書順で最も大きい文字列を $ t $ で表すことにする． このときの $ t $ は，$ t $ としてありうる文字列の中で辞書順最小の文字列である．

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 5\ \times\ 10^4 $
- $ 1\ \leq\ L\ \leq\ 15 $
- $ 3N\ \leq\ 3^L $
- 入力される値はすべて整数である

### Sample Explanation 1

この出力例はすべての条件を満たしています． 例えば，$ 2 $ 文字目が `0` であるような文字列は $ 2 $ 個存在しています． また，この例では $ t= $`21` ですが，$ t $ がこれより辞書順で小さくなることはありません．

## 样例 #1

### 输入

```
2 2```

### 输出

```
00

02

11

12

20

21```

# AI分析结果

### 题目内容重写

#### 题目描述

给定整数 $N$ 和 $L$，构造 $3N$ 个由 `0`、`1`、`2` 组成且长度为 $L$ 的字符串 $S_1, S_2, \cdots, S_{3N}$，满足以下条件：

1. 所有字符串互不相同。
2. 对于每个位置 $j$（$1 \leq j \leq L$）和字符 $c$（`0`、`1`、`2`），在所有字符串的第 $j$ 位中，字符 $c$ 恰好出现 $N$ 次。
3. 设 $t$ 为所有字符串中字典序最大的字符串，要求 $t$ 是所有可能的 $t$ 中字典序最小的。

#### 输入输出样例

**输入：**
```
2 2
```

**输出：**
```
00
02
11
12
20
21
```

### 算法分类
构造

### 题解分析与结论

#### 综合分析

本题的核心在于构造满足条件的字符串集合，且要求字典序最大的字符串尽可能小。题解中主要采用了构造法和贪心策略，通过合理分配字符的位置来满足条件。

#### 题解评分与亮点

1. **DeepSeaSpray (4星)**
   - **亮点**：通过构造法，利用三进制的性质，确保字符串的唯一性和字符分布的均匀性。通过置换操作，保证每个字符在每个位置上出现恰好 $N$ 次。
   - **心得**：通过置换操作，巧妙地解决了字符分布的问题，代码简洁且高效。

2. **Eakang (4星)**
   - **亮点**：采用递归和贪心策略，逐步构造字符串，确保字典序最大的字符串最小。通过三进制的枚举，保证了字符串的唯一性。
   - **心得**：递归构造字符串的方法清晰易懂，且通过贪心策略确保了字典序的最大字符串最小。

3. **听取MLE声一片 (4星)**
   - **亮点**：通过枚举和进制转换，构造字符串并确保字符分布的均匀性。代码实现简洁，逻辑清晰。
   - **心得**：通过进制转换，巧妙地解决了字符串的唯一性和字符分布的问题。

### 关键思路与技巧

1. **构造法**：通过合理分配字符的位置，确保每个字符在每个位置上出现恰好 $N$ 次。
2. **贪心策略**：在构造字符串时，优先放置较小的字符，以确保字典序最大的字符串尽可能小。
3. **进制转换**：利用三进制的性质，确保字符串的唯一性。

### 拓展思路

类似的问题可以通过构造法和贪心策略来解决，特别是在需要满足多个条件的情况下。可以通过进制转换、置换操作等技巧来简化问题。

### 推荐题目

1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)
2. [P1019 单词接龙](https://www.luogu.com.cn/problem/P1019)
3. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)

### 核心代码片段

```cpp
// DeepSeaSpray 的代码片段
void constructStrings(int N, int L) {
    for (int i = 0; i < N; ++i) {
        string s = "2";
        int num = i;
        for (int j = 1; j < L; ++j) {
            s += ('0' + num % 3);
            num /= 3;
        }
        cout << s << endl;
    }
    // 类似地构造以 '0' 和 '1' 开头的字符串
}
```

```cpp
// Eakang 的代码片段
void Dfs(int l, int r, int dep) {
    if (dep > L) return;
    int lim = qpow(3, L - dep), len = r - l + 1;
    int cnt0 = 0, cnt1 = 0, cnt2 = 0;
    while (cnt0 < lim && cnt0 < n) cnt0++;
    if (cnt0) {
        for (int i = l; i <= l + cnt0 - 1; ++i) a[i][dep] = 0;
        Dfs(l, l + cnt0 - 1, dep + 1);
    }
    // 类似地处理 cnt1 和 cnt2
}
```

```cpp
// 听取MLE声一片 的代码片段
for (int i = 0; i < n; i++) {
    int x = n * 2 + i + 1, p = i;
    for (int j = m; j >= 2; j--) {
        a[x][j] = p % 3;
        p /= 3;
    }
}
```

### 个人心得总结

通过构造法和贪心策略，可以有效地解决类似的问题。在实现过程中，需要注意字符分布的均匀性和字符串的唯一性。通过进制转换和置换操作，可以简化问题的复杂度。

---
处理用时：39.25秒
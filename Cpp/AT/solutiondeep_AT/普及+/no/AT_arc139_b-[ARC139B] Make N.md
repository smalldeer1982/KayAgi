# 题目信息

# [ARC139B] Make N

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc139/tasks/arc139_b

整数 $ P=0 $ があります。以下の $ 3 $ 種類の操作を任意の回数選んで行うことで $ P=N $ とするとき、コストの総和の最小値を求めてください。

- $ P $ を $ 1 $ 増やす。この操作はコストが $ X $ かかる。
- $ P $ を $ A $ 増やす。この操作はコストが $ Y $ かかる。
- $ P $ を $ B $ 増やす。この操作はコストが $ Z $ かかる。

$ T $ 個のテストケースが与えられるので、それぞれについて答えを求めてください。

## 说明/提示

### 制約

- $ 1\ \le\ T\ \le\ 100 $
- $ 1\ \le\ N,A,B,X,Y,Z\ \le\ 10^9 $
- 入力は全て整数である。

### Sample Explanation 1

$ 1 $ 個目のテストケースでは、例えば以下のようにするとコスト $ 11 $ で $ P=10 $ とでき、これが最適です。 - $ P $ を $ 3 $ 増やす。$ P=3 $ となる。コストが $ 3 $ かかる。 - $ P $ を $ 1 $ 増やす。$ P=4 $ となる。コストが $ 2 $ かかる。 - $ P $ を $ 3 $ 増やす。$ P=7 $ となる。コストが $ 3 $ かかる。 - $ P $ を $ 3 $ 増やす。$ P=10 $ となる。コストが $ 3 $ かかる。

## 样例 #1

### 输入

```
5

10 3 5 2 3 6

10 3 5 1 1000000000 1000000000

139 2 139 1 1 1

139 1 1 1 1 1

139 7 10 3845 26982 30923```

### 输出

```
11

10

1

139

436604```

# AI分析结果

### 题目内容重写
整数 $P=0$。可以通过以下三种操作任意次数将 $P$ 变为 $N$，求最小总成本：
1. 将 $P$ 增加 $1$，成本为 $X$；
2. 将 $P$ 增加 $A$，成本为 $Y$；
3. 将 $P$ 增加 $B$，成本为 $Z$。

给定 $T$ 个测试用例，每个测试用例包含 $N, A, B, X, Y, Z$，求每个测试用例的最小总成本。

### 算法分类
贪心、数学、枚举

### 题解分析与结论
本题的核心在于如何通过贪心策略和数学优化来减少枚举的次数，从而在合理的时间内找到最小成本。大多数题解都采用了类似的思路：首先通过贪心策略确定操作的优先级，然后通过数学优化减少枚举的次数，最终通过枚举找到最优解。

### 精选题解
1. **作者：zhaoyp (赞：6)**
   - **星级：5**
   - **关键亮点**：通过数学优化将问题规模缩小到 $\sqrt{n}$，并利用贪心策略确定操作的优先级，最终通过枚举找到最优解。
   - **核心代码**：
     ```cpp
     Y = min(Y, A * X), Z = min(Z, B * X);
     if (N / A < A - 1) {
         for (int i = 0; i <= (N / A); ++i) {
             tmp = N - i * A;
             ans = min(ans, i * Y + tmp / B * Z + tmp % B * X);
         }
     } else {
         for (int i = 0; i <= A - 1; ++i) {
             tmp = N - i * B;
             if (tmp >= 0) ans = min(ans, i * Z + tmp / A * Y + tmp % A * X);
         }
     }
     ```

2. **作者：Pt_crN (赞：4)**
   - **星级：4**
   - **关键亮点**：通过枚举 $A$ 和 $B$ 的操作次数，结合贪心策略找到最优解，代码简洁易懂。
   - **核心代码**：
     ```cpp
     for (ll i = 0; i <= mx; i++) {
         ll k = N - A * i, p = k / B, q = k % B;
         if (k >= 0) ans = min(ans, min(i * Y + p * Z + X * q, i * Y + k * X));
         k = N - B * i, p = k / A, q = k % A;
         if (k >= 0) ans = min(ans, min(i * Z + p * Y + X * q, i * Z + k * X));
     }
     ```

3. **作者：ncwzdlsd (赞：1)**
   - **星级：4**
   - **关键亮点**：通过贪心策略确定操作的优先级，并通过数学优化减少枚举次数，代码实现清晰。
   - **核心代码**：
     ```cpp
     Y = min(Y, A * X), Z = min(Z, B * X);
     if (A * Z < B * Y) swap(A, B), swap(Y, Z);
     if (N / A < A - 1) {
         for (int i = 0; i <= (N / A); ++i) {
             tmp = N - i * A;
             ans = min(ans, i * Y + tmp / B * Z + tmp % B * X);
         }
     } else {
         for (int i = 0; i <= A - 1; ++i) {
             tmp = N - i * B;
             if (tmp >= 0) ans = min(ans, i * Z + tmp / A * Y + tmp % A * X);
         }
     }
     ```

### 最优关键思路
1. **贪心策略**：优先选择性价比最高的操作，即单位成本最小的操作。
2. **数学优化**：通过数学方法减少枚举的次数，将问题规模从 $O(n)$ 降低到 $O(\sqrt{n})$。
3. **枚举**：在优化后的范围内枚举可能的操作次数，找到最小成本。

### 拓展思路
类似的问题可以通过贪心策略和数学优化来减少枚举次数，例如在背包问题、资源分配问题中，都可以通过类似的思路来优化算法。

### 推荐题目
1. [P1048 采药](https://www.luogu.com.cn/problem/P1048)
2. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)
3. [P1616 疯狂的采药](https://www.luogu.com.cn/problem/P1616)

---
处理用时：28.75秒
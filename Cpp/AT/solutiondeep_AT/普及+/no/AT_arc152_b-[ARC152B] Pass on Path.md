# 题目信息

# [ARC152B] Pass on Path

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc152/tasks/arc152_b

長さ $ L $ の細長い一直線の道が東西に伸びており、この道を $ 2 $ 人の旅人が訪れます。 この道には $ N $ 個の休憩所があり、$ i $ 番目の休憩所は、道の西端から $ a_i $ の地点にあります （ただし、どの休憩所も道の端には存在しません）。 この道はとても細いため、休憩所以外の地点で $ 2 $ 人がすれ違ったり、横に並んで歩いたりすることはできません。

$ 2 $ 人の旅人は、この道で次のような旅をします。

- 時刻 $ 0 $ に、それぞれ好きな休憩所を選んで出発点とする（ $ 2 $ 人が同じ休憩所を選んでもよい）。 その後、それぞれ道の両端を訪れたあと、自身の出発点に戻る。
 
$ 2 $ 人は、毎秒 $ 1 $ 以下の速さで道を歩くか、休憩所で休憩することができます。 休憩所以外の地点ですれ違わない限り、旅の途中いつでも向きを変えることは可能です。 両者が道の両端を訪れて出発点に戻ってくるまで、最短で何秒かかるでしょうか。 ただし、この問題の制約下では答えが整数になることが証明できます。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ L\ \leq\ 10^9 $
- $ 0\ <\ a_1\ <\ a_2\ <\ \ldots\ <\ a_N\ <\ L $
- 入力される値はすべて整数である
 
### Sample Explanation 1

$ 2 $ 人の旅人を A、B とします。また、以下では $ i $ 番目の休憩所を単に休憩所 $ i $ と呼びます。 例えば、$ 2 $ 人は以下のような旅をすることができます。 最初に A が休憩所 $ 1 $ から東側に、B が休憩所 $ 2 $ から東側に速さ $ 1 $ で歩き始め、両者とも東端→西端の順に訪れることにします。 すると、B は $ 2 $ 秒後に東端を訪れて休憩所 $ 2 $ に戻って来ることができますが、A はまだ休憩所 $ 1 $ と $ 2 $ の間です。 ここで B が $ 1 $ 秒休憩すると、A も休憩所 $ 2 $ にたどり着き、すれ違いが可能になります。 その後、再び両者が速さ $ 1 $ で歩き続け、A が休憩所 $ 1 $ で $ 2 $ 秒だけ休憩した場合、 B は出発から $ 13 $ 秒後、A は $ 14 $ 秒後に元の休憩所に戻り、旅を終えることができます。 実はこれは最善の方法の $ 1 $ つであり、答えは $ 14 $ となります。

### Sample Explanation 2

この場合は、適切な方法を取ると、両者が休憩することなく速さ $ 1 $ で歩き続けることができます。

## 样例 #1

### 输入

```
2 6

2 5```

### 输出

```
14```

## 样例 #2

### 输入

```
2 3

1 2```

### 输出

```
6```

# AI分析结果

### 题目内容重写

#### [ARC152B] Pass on Path

**题目描述**

一条长度为 $L$ 的细长直线道路东西向延伸，两位旅人将在这条道路上旅行。道路上有 $N$ 个休息区，第 $i$ 个休息区位于道路西端 $a_i$ 处（所有休息区都不在道路的端点）。由于道路非常狭窄，两位旅人只能在休息区相遇或并排行走。

两位旅人的旅行方式如下：

- 在时刻 $0$，他们分别选择一个休息区作为起点（可以选择同一个休息区）。然后，他们分别访问道路的两个端点，并返回各自的起点。

两位旅人每秒可以以不超过 $1$ 的速度行走，或者在休息区休息。除了在休息区外，他们不能在道路上相遇或并排行走。在旅途中，他们可以随时改变方向，只要不在休息区外相遇。求两位旅人访问完两个端点并返回起点所需的最短时间。可以证明，在本题的约束下，答案一定是整数。

**说明/提示**

**约束**

- $1 \leq N \leq 2 \times 10^5$
- $1 \leq L \leq 10^9$
- $0 < a_1 < a_2 < \ldots < a_N < L$
- 输入的所有值均为整数

**样例解释**

**样例 #1**

输入：

```
2 6
2 5
```

输出：

```
14
```

**样例 #2**

输入：

```
2 3
1 2
```

输出：

```
6
```

### 算法分类

贪心

### 题解分析与结论

#### 综合分析

本题的核心在于如何安排两位旅人的行走路线，使得他们在访问完两个端点并返回起点的时间最短。由于道路狭窄，旅人只能在休息区相遇，因此需要合理安排相遇点的位置，以减少等待时间。

各题解的思路主要集中在以下几点：

1. **相遇点的选择**：两位旅人必须相遇两次，第一次相遇在某个休息区，第二次相遇在离 $L - a_i$ 最近的休息区。
2. **时间的计算**：通过枚举初始出发的休息区，计算两次相遇的时间间隔，最终得到最短时间。
3. **优化策略**：通过二分查找快速找到离 $L - a_i$ 最近的休息区，减少时间复杂度。

#### 所选高分题解

1. **作者：_Life_ (赞：2)**

   **星级：4**

   **关键亮点**：
   - 提出从同一个休息站出发，背向而行的策略。
   - 通过枚举初始出发的休息站，计算第二次相遇的额外时间，优化了时间复杂度。
   - 代码简洁，使用二分查找快速定位最近的休息区。

   **核心代码**：
   ```cpp
   rep(i,1,n)
   {
       int t=m-a[i];
       int p=lower_bound(pos.begin(),pos.end(),t)-pos.begin();
       int tmp=abs(pos[p]-t);
       if(p-1>=0)chkmin(tmp,abs(pos[p-1]-t));
       if(p+1<n)chkmin(tmp,abs(pos[p+1]-t));
       chkmin(ans,tmp);
   }
   write(2*m+2*ans);
   ```

2. **作者：有趣的问题 (赞：2)**

   **星级：4**

   **关键亮点**：
   - 详细分析了两人相遇的两种情况（同向出发和反向出发），并证明了从同一端点出发是最优解。
   - 通过二分查找优化了寻找最近休息区的过程。
   - 代码结构清晰，逻辑严谨。

   **核心代码**：
   ```cpp
   for (int i = 1; i <= N; ++i)
   {
       int x = lower_bound(a + 1, a + N + 1, L - a[i]) - a;
       Ans = min(Ans, min(x <= N ? (a[i] + a[x]) : 0x3f3f3f3f3f3f3f3f, x > 1 ? ((L << 1) - a[i] - a[x - 1]) : 0x3f3f3f3f3f3f3f3f));
   }
   printf("%lld\n", Ans << 1);
   ```

3. **作者：_ZSR_ (赞：0)**

   **星级：4**

   **关键亮点**：
   - 详细分析了两次相遇的时间间隔，并通过二分查找优化了寻找最近休息区的过程。
   - 代码实现简洁，逻辑清晰。

   **核心代码**：
   ```cpp
   for (int i = 1; i <= n; ++i)
   {
       int p = lower_bound(a + 1, a + n + 1, l - a[i]) - a;
       ans = min(ans, min(p <= n ? a[i] + a[p] : INF, p > 1 ? l * 2 - a[i] - a[p - 1] : INF));
   }
   printf("%lld\n", ans << 1);
   ```

### 最优关键思路或技巧

1. **从同一休息站出发**：通过让两位旅人从同一休息站出发，背向而行，可以减少不必要的等待时间，优化总时间。
2. **二分查找优化**：使用二分查找快速定位离 $L - a_i$ 最近的休息区，减少时间复杂度。
3. **时间间隔的计算**：通过计算两次相遇的时间间隔，并结合道路长度，得到最短时间。

### 可拓展之处

本题的解题思路可以拓展到类似的路径规划问题，尤其是在有多个相遇点或限制条件的情况下。类似的题目可以通过枚举起点、优化相遇点的选择来求解。

### 推荐题目

1. [P1004 方格取数](https://www.luogu.com.cn/problem/P1004)
2. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)
3. [P1040 加分二叉树](https://www.luogu.com.cn/problem/P1040)

### 个人心得摘录

- **调试经历**：在设置 `INF` 时，需要注意其值是否足够大，避免因溢出或不足导致错误。
- **顿悟感想**：通过分析两人相遇的时间间隔，发现从同一休息站出发是最优解，简化了问题的复杂度。

---
处理用时：39.69秒
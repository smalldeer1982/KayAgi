# 题目信息

# 決勝進出者

## 题目描述

[problemUrl]: https://atcoder.jp/contests/code-formula-2014-quala/tasks/code_formula_2014_qualA_c

高橋君は、コンテストを開こうと思っています。

コンテストは、 $ n $ 回の予選と、 $ 1 $ 回の本選に分かれており、予選の上位 $ k $ 人を本選に招待しようと思っています。

本選の出場選手は、以下のように選ばれます。

- 各予選の最高順位が高い人から順番に選ばれる。
- 最高順位が同じ場合は、最高順位を取った予選が開かれた時期が早い方から先に選ばれる。
- $ k $ 人が選ばれるまで、この操作を続ける。

高橋君は、招待される選手に出来るだけ早く、本選への招待をしたいです。そこで、予選が終わるたびに、本選への招待が確定した選手に対し、メールを送りたいです。

各予選の結果が与えられるので、予選が終わった際に、誰にメールを送るべきかを求めてください。 なお、本選を辞退する選手はいないものとします。

## 说明/提示

### Sample Explanation 1

予選が $ 2 $ 回あります。 まず、$ 1 $ 回目の予選が行われた直後に、上位 $ 6 $ 人は、その後の予選の結果に拠らず、本選への招待が確定します。 次に、$ 2 $ 回目の予選が行われた際、IDが、$ 1,2 $ の二人の参加者が重複するため、$ 1 $ 回目の予選の $ 7 $ 位までと、 $ 2 $ 回目の予選の $ 6 $ 位までの、本選への招待が確定します。 出力順序は、順位に関係なく、IDが若い順であることに注意してください。

### Sample Explanation 2

本選への招待者が確定しない予選があることにも注意してください。

## 样例 #1

### 输入

```
2 11

1 2 3 4 5 6 7 8 9 10 11

1 2 15 14 13 16 17 18 19 20 21```

### 输出

```
1 2 3 4 5 6

7 13 14 15 16```

## 样例 #2

### 输入

```
4 5

1 2 3 4 5

2 1 3 4 5

1 2 3 4 5

2 1 3 4 5```

### 输出

```
1 2



3

4 5```

# AI分析结果

### 题目内容重写

高桥君计划举办一场比赛，比赛分为 $n$ 次预选赛和 $1$ 次决赛。他打算邀请预选赛的前 $k$ 名选手参加决赛。

决赛的参赛选手按照以下规则选出：

- 首先根据选手在各预选赛中的最高排名，从高到低依次选择。
- 如果最高排名相同，则按照选手取得该最高排名的预选赛的先后顺序选择。
- 重复上述操作，直到选出 $k$ 名选手。

高桥君希望在每次预选赛结束后，尽快向确定进入决赛的选手发送邀请邮件。给定每场预选赛的结果，请确定每次预选赛结束后应该向哪些选手发送邮件。假设所有选手都不会拒绝决赛邀请。

### 样例解释

#### 样例 1

输入：
```
2 11
1 2 3 4 5 6 7 8 9 10 11
1 2 15 14 13 16 17 18 19 20 21
```
输出：
```
1 2 3 4 5 6
7 13 14 15 16
```

解释：
- 第一场预选赛结束后，前 6 名选手（ID 1-6）已经确定进入决赛。
- 第二场预选赛结束后，由于 ID 1 和 2 重复，因此第一场预选赛的第 7 名和第二场预选赛的前 6 名选手（ID 7, 13-16）也确定进入决赛。

#### 样例 2

输入：
```
4 5
1 2 3 4 5
2 1 3 4 5
1 2 3 4 5
2 1 3 4 5
```
输出：
```
1 2

3
4 5
```

解释：
- 在某些预选赛结束后，可能没有新的选手确定进入决赛。

### 算法分类
排序、模拟

### 题解分析与结论

由于暂无题解，以下是一些通用建议与扩展思路：

1. **排序与模拟**：本题的核心在于如何根据预选赛的结果动态地确定进入决赛的选手。可以通过维护一个选手的最高排名列表，并在每次预选赛结束后更新该列表，然后根据规则选出前 $k$ 名选手。

2. **数据结构**：可以使用优先队列（堆）来高效地维护选手的最高排名，并在每次预选赛结束后快速选出前 $k$ 名选手。

3. **优化思路**：考虑到每次预选赛结束后需要重新计算前 $k$ 名选手，可以尝试优化排序过程，减少重复计算。

### 推荐题目
1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090) - 考察优先队列的使用。
2. [P1168 中位数](https://www.luogu.com.cn/problem/P1168) - 考察动态维护有序列表。
3. [P3378 【模板】堆](https://www.luogu.com.cn/problem/P3378) - 考察堆的基本操作。

### 扩展思路
- **动态维护**：在类似的问题中，动态维护一个有序列表或使用优先队列是常见的优化手段。
- **多条件排序**：当排序条件涉及多个维度时，需要仔细设计排序规则，确保每次更新后的结果符合预期。

---
处理用时：23.25秒
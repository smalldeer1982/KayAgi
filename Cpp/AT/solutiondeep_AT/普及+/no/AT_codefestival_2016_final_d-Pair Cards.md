# 题目信息

# Pair Cards

## 题目描述

## 题意：

已知高桥君有 $n$ 张卡片，每一张卡牌上有一个整数 $x_i$。高桥君想要以以下两种条件合并两张卡牌：

$1$：两张卡牌上的整数相等。

$2$：两张卡牌上的整数之和是 $m$ 的倍数。

求出高桥君可以组成多少组的组数最大值。

注：一张卡牌不能在多组中使用。


------------

## 说明/提示

$2\le n \le 10^5$，$1\le m \le 10^5$，$1 \le x_i \le 10^5$。

## 样例 #1

### 输入

```
7 5

3 1 4 1 5 9 2```

### 输出

```
3```

## 样例 #2

### 输入

```
15 10

1 5 6 10 11 11 11 20 21 25 25 26 99 99 99```

### 输出

```
6```

# AI分析结果

### 题目内容重写

#### 题目描述

已知高桥君有 $n$ 张卡片，每一张卡牌上有一个整数 $x_i$。高桥君想要以以下两种条件合并两张卡牌：

1. 两张卡牌上的整数相等。
2. 两张卡牌上的整数之和是 $m$ 的倍数。

求出高桥君可以组成多少组的组数最大值。

注：一张卡牌不能在多组中使用。

#### 说明/提示

$2\le n \le 10^5$，$1\le m \le 10^5$，$1 \le x_i \le 10^5$。

#### 样例 #1

##### 输入

```
7 5

3 1 4 1 5 9 2
```

##### 输出

```
3
```

#### 样例 #2

##### 输入

```
15 10

1 5 6 10 11 11 11 20 21 25 25 26 99 99 99
```

##### 输出

```
6
```

### 算法分类

数学、贪心

### 题解分析与结论

该题的核心在于如何高效地统计满足条件的卡片对数。题解通过将卡片按照整数相等和整数之和为 $m$ 的倍数进行分类，并利用贪心策略优先处理满足条件的卡片对，从而最大化组数。

### 所选高星题解

#### 题解作者：kanzaki

##### 星级：4星

##### 关键亮点

1. **分类处理**：将卡片按照整数相等和整数之和为 $m$ 的倍数进行分类，简化了问题。
2. **贪心策略**：优先处理满足条件的卡片对，确保组数最大化。
3. **特殊处理**：对 $m$ 为偶数的情况进行特殊处理，避免重复计算。

##### 核心代码实现

```cpp
#include <bits/stdc++.h>
using namespace std;
#define maxn 100005
int n,m;
int a[maxn],b[maxn],c[maxn];
int main(){
    cin>>n>>m;
    for(int i=1,x;i<=n;i++){
        cin>>x;
        c[x]++;
    }
    for(int i=1;i<=100000;i++){
        b[i%m]+=c[i]/2;
        a[i%m]+=c[i]%2;
    }
    int ans=a[0]/2+b[0];
    if(m%2==0) ans+=a[m/2]/2+b[m/2];//需要特殊判断避免重复计算这一组
    for(int i=1;i<=(m+1)/2-1;i++){//上界不为m/2的原因是上文已经特殊判断过m/2，避免算重
        int res=min(a[i],a[m-i]);
        ans+=res;
        a[i]-=res,a[m-i]-=res;
        if(a[i]){
            res=min(a[i]/2,b[m-i]);
            ans+=res*2;
            a[i]-=res*2,b[m-i]-=res;
        }
        if(a[m-i]){
            res=min(a[m-i]/2,b[i]);
            ans+=res*2;
            b[i]-=res,a[m-i]-=res*2;
        }
        ans+=b[i]+b[m-i];
    }
    cout<<ans<<'\n';
    return 0;
}
```

##### 核心实现思想

1. **统计卡片数量**：通过数组 `c` 统计每个整数的卡片数量。
2. **分类处理**：将卡片按照整数相等和整数之和为 $m$ 的倍数进行分类，分别存储在数组 `a` 和 `b` 中。
3. **贪心策略**：优先处理满足条件的卡片对，确保组数最大化。
4. **特殊处理**：对 $m$ 为偶数的情况进行特殊处理，避免重复计算。

### 最优关键思路或技巧

1. **分类处理**：将问题分解为两个子问题，分别处理整数相等和整数之和为 $m$ 的倍数的情况。
2. **贪心策略**：优先处理满足条件的卡片对，确保组数最大化。
3. **特殊处理**：对特殊情况（如 $m$ 为偶数）进行特殊处理，避免重复计算。

### 可拓展之处

该题的思路可以拓展到其他需要分类处理并最大化某种结果的题目，例如在资源分配、任务调度等问题中，可以通过类似的方法进行优化。

### 推荐相似题目

1. [P1031 均分纸牌](https://www.luogu.com.cn/problem/P1031)
2. [P1045 糖果传递](https://www.luogu.com.cn/problem/P1045)
3. [P1056 排座椅](https://www.luogu.com.cn/problem/P1056)

### 个人心得总结

在处理类似问题时，分类处理和贪心策略是非常有效的方法。通过将问题分解为多个子问题，并优先处理最有利的情况，可以大大提高解题效率。同时，特殊情况的处理也是确保结果正确性的关键。

---
处理用时：34.39秒
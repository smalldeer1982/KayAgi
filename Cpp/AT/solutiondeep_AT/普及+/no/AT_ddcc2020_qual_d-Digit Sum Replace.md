# 题目信息

# Digit Sum Replace

## 题目描述

[problemUrl]: https://atcoder.jp/contests/ddcc2020-qual/tasks/ddcc2020_qual_d

DDCC 20XX の予選には，$ N $ 人のプログラマーが参加する予定です．しかし，会場の都合上，本戦には $ 9 $ 人までしか参加できません．

そこで，予選を何ラウンドかに分けて勝ち抜き方式で行うことにしました．これは，以下のルールに従って行われます．

- 最初のラウンドには $ N $ 人全員が参加する．
- あるラウンドに $ X\ (X\ \geq\ 10) $ 人が参加するとき，次のラウンドに勝ち残る人数を以下のように決定する．
  - $ X $ の十進表記において，ある連続する $ 2 $ 桁を選び，それらをその和で置き換えて得られる数を勝ち残る人数とする．  
       例えば，$ X\ =\ 2378 $ のとき，勝ち残る人数は $ 578 $ ($ 2,3 $ を選んだ場合)，$ 2108 $ ($ 3,7 $ を選んだ場合)，$ 2315 $ ($ 7,8 $ を選んだ場合) 人のいずれかとなる．  
       $ X\ =\ 100 $ のときは，どちらの $ 2 $ 桁を選んだとしても勝ち残る人数は $ 10 $ 人となる．
- 勝ち残った人数が $ 9 $ 人以下となったら，予選を終了する．

DDCC 20XX の運営リーダーであるりんごさんは，できるだけ多くの予選ラウンドを開催したいです．  
 最大で何ラウンドの予選を開催できるか求めてください．

ただし，参加者数 $ N $ は非常に多くなる場合があるので，$ 2 $ つの整数列 $ d_1,\ \ldots,\ d_M $，$ c_1,\ \ldots,\ c_M $ として与えられます．  
 これは，$ N $ が十進表記において $ c_1\ +\ c_2\ +\ \ldots\ +\ c_M $ 桁の数であり，その先頭の $ c_1 $ 桁の数字がいずれも $ d_1 $，続く $ c_2 $ 桁の数字がいずれも $ d_2 $，$ \ldots $，最後の $ c_M $ 桁の数字がいずれも $ d_M $ であることを表します．

## 说明/提示

### 制約

- $ 1\ \leq\ M\ \leq\ 200000 $
- $ 0\ \leq\ d_i\ \leq\ 9 $
- $ d_1\ \neq\ 0 $
- $ d_i\ \neq\ d_{i+1} $
- $ c_i\ \geq\ 1 $
- $ 2\ \leq\ c_1\ +\ \ldots\ +\ c_M\ \leq\ 10^{15} $

### Sample Explanation 1

この場合，予選の最初のラウンドには $ N=229 $ 人が参加します．大会の経過の一例として、次のパターンがありえます． - ラウンド $ 1 $ に $ 229 $ 人が参加し，ラウンド $ 2 $ に $ 49 $ 人が参加し，ラウンド $ 3 $ に $ 13 $ 人が参加し，本戦に $ 4 $ 人が進出する． このとき，予選は $ 3 $ ラウンド行われ、これが実は最適であることが分かります。

### Sample Explanation 2

この場合，最初のラウンドには $ 1000000007 $ 人が参加します．

## 样例 #1

### 输入

```
2

2 2

9 1```

### 输出

```
3```

## 样例 #2

### 输入

```
3

1 1

0 8

7 1```

### 输出

```
9```

# AI分析结果

### 题目内容重写
**题目描述**

DDCC 20XX 的预选赛有 $N$ 名程序员参加。然而，由于场地限制，决赛只能有 $9$ 人参加。因此，预选赛将分为多轮进行，采用淘汰制。具体规则如下：

- 第一轮有 $N$ 人参加。
- 如果某轮有 $X\ (X\ \geq\ 10)$ 人参加，则下一轮的晋级人数通过以下方式确定：
  - 选择 $X$ 的十进制表示中任意连续的两个数字，将其替换为它们的和，得到的新数即为晋级人数。  
    例如，$X\ =\ 2378$ 时，晋级人数可以是 $578$（选择 $2,3$）、$2108$（选择 $3,7$）或 $2315$（选择 $7,8$）。  
    如果 $X\ =\ 100$，则无论选择哪两个数字，晋级人数都是 $10$。
- 当晋级人数减少到 $9$ 人以下时，预选赛结束。

DDCC 20XX 的组织者希望尽可能多地举办预选赛轮次。求最多可以举办多少轮预选赛。

由于 $N$ 可能非常大，$N$ 由两个整数序列 $d_1,\ \ldots,\ d_M$ 和 $c_1,\ \ldots,\ c_M$ 表示。$N$ 是一个十进制数，共有 $c_1\ +\ c_2\ +\ \ldots\ +\ c_M$ 位，其中前 $c_1$ 位都是 $d_1$，接下来的 $c_2$ 位都是 $d_2$，依此类推。

### 算法分类
**数学**

### 题解分析与结论
所有题解的核心思路都是通过数学推导得出结论：每次操作要么减少数字的位数（不进位），要么减少数字和（进位）。最终的操作次数可以通过数字的位数和数字和来计算，公式为：$(sum-1)/9 + (num-1)$。

### 精选题解
1. **作者：GFyyx**  
   **星级：4**  
   **关键亮点**：简洁明了地推导出公式，代码简洁高效。  
   **代码核心**：
   ```cpp
   #include <iostream>
   using namespace std;
   long long m,c,d,x,y;
   int main(){cin>>m;while(m--)cin>>d>>c,x+=c*d,y+=c;cout<<y+((x-1)/9)-1;}
   ```

2. **作者：52luogu**  
   **星级：4**  
   **关键亮点**：详细解释了推导过程，代码清晰易读。  
   **代码核心**：
   ```cpp
   #include<bits/stdc++.h>
   using namespace std;
   const int mn=1e6+5;
   long long sum,wei,ans; 
   int main(){
       ios::sync_with_stdio(0);
       cin.tie(0);
       int n;
       cin>>n;
       for(int i=1;i<=n;i++){
           long long x,y;
           cin>>x>>y;
           wei+=y;
           sum+=x*y;
       }
       cout<<wei-1+((sum-1)/9);
       return 0;
   }
   ```

3. **作者：orpg**  
   **星级：4**  
   **关键亮点**：通过举例说明操作规律，代码简洁且高效。  
   **代码核心**：
   ```cpp
   #include<bits/stdc++.h>
   #define ll long long
   using namespace std;
   ll m,d,c;
   ll tot,num;
   main(){
       ios::sync_with_stdio(0);
       cin.tie(0);cout.tie(0);
       cin>>m;
       for(int i=1;i<=m;i++){
           cin>>d>>c;
           num+=c;
           tot+=c*d;
       }
       cout<<((tot-1)/9)+num-1<<'\n';
       return 0;
   }
   ```

### 最优关键思路
通过数学推导，发现每次操作要么减少数字的位数，要么减少数字和。最终的操作次数可以通过公式 $(sum-1)/9 + (num-1)$ 计算得出。这种方法避免了复杂的模拟操作，直接通过数学计算得到结果。

### 拓展思路
类似的问题可以通过数学推导简化计算，避免复杂的模拟过程。例如，在处理大数问题时，直接通过数学公式计算往往比模拟更高效。

### 推荐题目
1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)
2. [P1045 麦森数](https://www.luogu.com.cn/problem/P1045)
3. [P1068 分数线划定](https://www.luogu.com.cn/problem/P1068)

---
处理用时：29.94秒
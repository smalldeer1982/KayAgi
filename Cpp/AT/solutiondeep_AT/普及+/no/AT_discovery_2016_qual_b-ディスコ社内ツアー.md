# 题目信息

# ディスコ社内ツアー

## 题目描述

[problemUrl]: https://atcoder.jp/contests/discovery2016-qual/tasks/discovery_2016_qual_b

あなたはDISCO presents ディスカバリーチャンネルプログラミングコンテスト 2016本戦のディスコ社内ツアーの案内人です。

社内ツアーにおいて案内する部屋が $ N $ 箇所あり、それぞれの部屋には $ 1 $ から $ N $ の番号が割り振られています。建物の構造は環状となっており、 $ i(1≦i≦N-1) $ 番目の部屋から $ i+1 $ 番目の部屋へと移動可能です。 $ N $ 番目の部屋からは $ 1 $番目の部屋へと移動可能です。これらの道は一方通行であり、逆向きに移動することはできません。

$ i $ 番目の部屋にいるとき、その部屋を見学するか隣の部屋へ移動するかどちらかを選ぶことが可能です。ただし、参加者に何度も同じ部屋を見学させると飽きてしまうため、見学はそれぞれの部屋につき $ 1 $ 度しか行うことはできません。 あなたは社内ツアーを長年行ってきた経験から $ i $番目の部屋を見学したときに得られる面白さはある整数 $ A_i $ で表されることを知っています。

社内ツアーは $ 1 $ 番目の部屋から出発して、全ての部屋を見学し終わった状態で $ 1 $ 番目の部屋にいるように終わらなくてはなりません。 あなたは参加者に社内ツアーを楽しんでもらうため、見学した部屋の面白さを見学した順番に並べたとき、広義単調増加列であるように部屋を案内することにしました。 このような制約のもとで社内ツアーを行うとき、建物内を最低何周する必要があるでしょうか？

ここで、 $ n $ 項からなる数列 $ a $ が $ a_1 $ $ ≦ $ $ a_2 $ $ ≦ $ ... $ ≦ $ $ a_n $ を満たすとき、 $ a $ は広義単調増加列であると呼ばれます。 また、 $ 1 $ 番目の部屋から移動し、全ての部屋を $ 1 $ 度ずつ訪れて $ 1 $ 番目の部屋に戻ってくることを、建物を $ 1 $ 周すると呼びます。

## 说明/提示

### 部分点

この問題には部分点が設定されている。

- $ 2≦N≦100 $ を満たすデータセットに正解した場合 $ 20 $ 点が与えられる。
- $ 1≦A_i≦N $かつ$ i≠j $において$ A_i≠A_j $が成立するようなデータセットに正解した場合上記の部分点とは別に $ 10 $ 点が与えられる。
- 追加制約のないデータセットに正解した場合さらに $ 70 $ 点が得られる。

### Sample Explanation 1

\- 下記のような順序で見学を行うことにより、 $ 3 $ 周で社内ツアーを終えることが可能です。 $ 1 $ 番目の部屋から出発し、すぐに $ 1 $ 番目の部屋を見学することは許されています。ツアーは全ての部屋を見学し終えた状態で $ 1 $ 番の部屋にいる状態で終わらなくてはならないことに注意してください。 - $ 1 $ 周目において、 $ 1 $ 番目の部屋と $ 4 $ 番目の部屋を見学する。 - $ 2 $ 周目において、 $ 3 $ 番目の部屋を見学する。 - $ 3 $ 周目において、 $ 2 $ 番目の部屋と $ 5 $ 番目の部屋を見学する。 - このケースは上記の部分点の $ 1 $ つ目の条件と $ 2 $ つ目の条件を満たします。

### Sample Explanation 2

\- $ 1 $ 周目において、全ての部屋を見学することが可能です。 - このケースは上記の部分点の $ 1 $ つ目の条件と $ 2 $ つ目の条件を満たします。

### Sample Explanation 3

\- 最後に $ 1 $ 番目の部屋を見学した直後にツアーを終了することで $ 1 $ 周でツアーを終了することが可能です。 - このケースは上記の部分点の $ 1 $ つ目の条件と $ 2 $ つ目の条件を満たします。

### Sample Explanation 4

\- 部屋の面白さは重複しているものもあることに注意してください。 - このケースは上記の部分点の $ 1 $ つ目の条件を満たしますが $ 2 $ つ目の条件は満たしません。

## 样例 #1

### 输入

```
5

1 4 3 2 5```

### 输出

```
3```

## 样例 #2

### 输入

```
5

1 2 3 4 5```

### 输出

```
1```

## 样例 #3

### 输入

```
5

5 1 2 3 4```

### 输出

```
1```

## 样例 #4

### 输入

```
8

1 1 1 2 2 2 3 3```

### 输出

```
1```

# AI分析结果

### 题目内容重写

#### 题目描述

你正在担任DISCO presents ディスカバリーチャンネルプログラミングコンテスト 2016本戦的ディスコ社内ツアー导游。

社内ツアー中有 $ N $ 个房间需要参观，每个房间都有一个从 $ 1 $ 到 $ N $ 的编号。建筑物的结构是环状的，$ i(1≦i≦N-1) $ 号房间可以移动到 $ i+1 $ 号房间，$ N $ 号房间可以移动到 $ 1 $ 号房间。这些通道是单向的，不能反向移动。

当你在 $ i $ 号房间时，可以选择参观该房间或移动到下一个房间。但是，为了避免参与者对重复参观同一个房间感到厌倦，每个房间只能参观一次。根据你多年的经验，你知道参观 $ i $ 号房间时可以获得一个整数 $ A_i $ 表示的有趣度。

社内ツアー必须从 $ 1 $ 号房间出发，并且在参观完所有房间后回到 $ 1 $ 号房间。为了让参与者享受社内ツアー，你决定按照参观顺序排列的有趣度序列是广义单调递增的。在这样的约束下，进行社内ツアー时，建筑物内至少需要绕行多少圈？

这里，$ n $ 项的序列 $ a $ 如果满足 $ a_1 $ $ ≦ $ $ a_2 $ $ ≦ $ ... $ ≦ $ $ a_n $，则称 $ a $ 是广义单调递增序列。另外，从 $ 1 $ 号房间出发，参观所有房间一次并回到 $ 1 $ 号房间，称为绕行建筑物一圈。

### 算法分类
贪心

### 分析与结论
题目要求我们找到一种参观顺序，使得有趣度序列是广义单调递增的，并且绕行建筑物的圈数最少。由于建筑物的结构是环状的，并且通道是单向的，我们需要考虑如何在不违反单调递增的条件下，尽可能减少绕行圈数。

### 最优关键思路
1. **排序与贪心策略**：首先将所有房间按照有趣度 $ A_i $ 进行排序。然后，按照排序后的顺序依次参观房间，同时记录当前的绕行圈数。如果在当前圈数内无法继续参观下一个房间（即下一个房间的有趣度小于当前房间的有趣度），则需要增加一圈。
2. **模拟过程**：通过模拟参观过程，逐步计算所需的绕行圈数。每次遇到需要增加圈数的情况时，更新当前的有趣度值，并继续模拟。

### 推荐题目
1. [洛谷 P1090](https://www.luogu.com.cn/problem/P1090) - 合并果子
2. [洛谷 P1223](https://www.luogu.com.cn/problem/P1223) - 排队接水
3. [洛谷 P1803](https://www.luogu.com.cn/problem/P1803) - 凌乱的yyy / 线段覆盖

### 核心代码实现
```cpp
#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

int main() {
    int N;
    cin >> N;
    vector<int> A(N);
    for (int i = 0; i < N; ++i) {
        cin >> A[i];
    }
    
    vector<int> sortedA = A;
    sort(sortedA.begin(), sortedA.end());
    
    int rounds = 1;
    int current = sortedA[0];
    for (int i = 1; i < N; ++i) {
        if (sortedA[i] < current) {
            rounds++;
        }
        current = sortedA[i];
    }
    
    cout << rounds << endl;
    return 0;
}
```

### 代码解释
1. **输入处理**：读取房间数量 $ N $ 和每个房间的有趣度 $ A_i $。
2. **排序**：将有趣度数组 $ A $ 进行排序，得到 $ sortedA $。
3. **模拟参观过程**：初始化绕行圈数 $ rounds $ 为 1，然后遍历排序后的有趣度数组。如果当前有趣度小于前一个有趣度，则需要增加一圈。
4. **输出结果**：输出所需的绕行圈数。

通过这种贪心策略，我们能够有效地计算出满足条件的最小绕行圈数。

---
处理用时：27.55秒
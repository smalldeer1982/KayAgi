# 题目信息

# Squares

## 题目描述

平面直角坐标系上有一个边长为 $n$ 的白色正方形，它的四个顶点的坐标分别为 $(0,0)$，$(0,n)$，$(n,0)$，$(n,n)$。

我们准备在该白色正方形内部（含边界）放置两个边与坐标轴平行、且顶点均为整点的正方形。其中，蓝色正方形的边长为 $a$，红色正方形的边长为 $b$。

请求出放置后两个正方形没有重叠部分的方案数对 $10^9+7$ 取模之后的结果。**边界可以重合。**

## 说明/提示

#### 样例 #1 说明

以第一组数据为例。

边长为 $3$ 的正方形内，有 $9$ 种方法放边长为 $1$ 的正方形，有 $4$ 种方法放边长为 $2$ 的正方形。

无论怎么放红色正方形，蓝色正方形都会有 $4$ 种与红色正方形重叠的放法。

从而，方案数就为 $9 \times 4 - 4 \times 4 =20$。

#### 数据规模与约定

$1 \le t \le 10^5$，$1 \le n \le 10^9$，$1 \le a,b \le n$，输入的数值均为整数。

## 样例 #1

### 输入

```
3

3 1 2

4 2 2

331895368 154715807 13941326```

### 输出

```
20

32

409369707```

# AI分析结果

### 题目内容
# 正方形

## 题目描述

平面直角坐标系上有一个边长为 $n$ 的白色正方形，它的四个顶点的坐标分别为 $(0,0)$，$(0,n)$，$(n,0)$，$(n,n)$。

我们准备在该白色正方形内部（含边界）放置两个边与坐标轴平行、且顶点均为整点的正方形。其中，蓝色正方形的边长为 $a$，红色正方形的边长为 $b$。

请求出放置后两个正方形没有重叠部分的方案数对 $10^9+7$ 取模之后的结果。**边界可以重合。**

## 说明/提示

#### 样例 #1 说明

以第一组数据为例。

边长为 $3$ 的正方形内，有 $9$ 种方法放边长为 $1$ 的正方形，有 $4$ 种方法放边长为 $2$ 的正方形。

无论怎么放红色正方形，蓝色正方形都会有 $4$ 种与红色正方形重叠的放法。

从而，方案数就为 $9 \times 4 - 4 \times 4 =20$。

#### 数据规模与约定

$1 \le t \le 10^5$，$1 \le n \le 10^9$，$1 \le a,b \le n$，输入的数值均为整数。

## 样例 #1

### 输入

```
3

3 1 2

4 2 2

331895368 154715807 13941326```

### 输出

```
20

32

409369707```

### 算法分类
组合数学

### 题解分析与结论
题目要求计算在边长为 $n$ 的正方形内放置两个边长为 $a$ 和 $b$ 的正方形且不重叠的方案数。核心思路是通过计算总方案数减去重叠的方案数来得到结果。难点在于如何高效计算重叠的方案数。

### 所选题解
#### 题解作者：liangbowen (赞：1)
- **星级**：4星
- **关键亮点**：
  - 使用“正难则反”的思路，先计算重叠的方案数，再用总方案数减去重叠的方案数。
  - 通过将问题转化为两条线段相交的方案数，简化了计算。
  - 时间复杂度为 $O(1)$，适合大规模数据。
- **个人心得**：
  - 特判 $a+b>n$ 的情况，直接返回 $0$，避免不必要的计算。
  - 通过数学推导，将问题转化为简单的乘法运算，提高了效率。

### 核心代码片段
```cpp
int main() {
    int t;
    cin >> t;
    while (t--) {
        int n, a, b;
        cin >> n >> a >> b;
        if (a + b > n) {
            cout << 0 << endl;
            continue;
        }
        long long total = (n - a + 1) * (n - b + 1);
        long long overlap = (n - a - b + 2) * (n - a - b + 1);
        long long ans = total * total - overlap * overlap;
        cout << ans % MOD << endl;
    }
    return 0;
}
```

### 最优关键思路
- **正难则反**：通过计算重叠的方案数，再用总方案数减去重叠的方案数，简化问题。
- **数学转化**：将问题转化为两条线段相交的方案数，利用组合数学的方法进行计算。

### 可拓展之处
- 类似的问题可以推广到更高维度的空间中，计算多个几何体不重叠的放置方案数。
- 可以结合动态规划或递推的方法，处理更复杂的几何体放置问题。

### 推荐题目
1. [P1351 矩形覆盖](https://www.luogu.com.cn/problem/P1351)
2. [P2709 正方形覆盖](https://www.luogu.com.cn/problem/P2709)
3. [P2710 矩形覆盖 II](https://www.luogu.com.cn/problem/P2710)

---
处理用时：25.38秒
# 题目信息

# MAD TEAM

## 题目描述

[problemUrl]: https://atcoder.jp/contests/zone2021/tasks/zone2021_c

$ N $ 人のメンバー候補がおり、それぞれの人は、パワー・スピード・テクニック・知識・発想力の $ 5 $ 種類の能力値を持っています。  
 $ i $ 番目の人のパワーは $ A_i $ 、スピードは $ B_i $ 、テクニックは $ C_i $ 、知識は $ D_i $ 、発想力は $ E_i $ です。  
 あなたは、$ N $ 人のメンバー候補から $ 3 $ 人を選び、$ 1 $ つのチームを作ります。  
 チーム全体のパワーをチームメンバーのパワーの最大値で定義します。スピード・テクニック・知識・発想力についても同様に定義します。  
 チームの総合力を、チーム全体のパワー・スピード・テクニック・知識・発想力の最小値で定義します。  
 チームの総合力としてありえる最大値を求めてください。

## 说明/提示

### ストーリー

さて、本格的に UFO と対峙する仲間を集めることにしよう。それも、とびきり MAD で優秀な。  
 俺は数多の天才たちと競い合ってきた「AtCoder」上でメンバーを集めることにした。  
 名の知れたプログラマに片っ端から声をかけてもいいが、どうせなら得意分野のバランスが良い少数精鋭で最高なチームを作るとしよう。

### 制約

- 入力は全て整数
- $ 3\ <\ =\ N\ <\ =\ 3000 $
- $ 1\ <\ =\ A_i,\ B_i,\ C_i,\ D_i,\ E_i\ <\ =\ 10^9 $

### Sample Explanation 1

$ 3 $ 人全員をチームに入れるほかありません。 この時、チーム全体の各能力値は以下のようになります。 - チーム全体のパワー : $ \max(3,\ 6,\ 8)\ =\ 8 $ - チーム全体のスピード : $ \max(9,\ 9,\ 8)\ =\ 9 $ - チーム全体のテクニック : $ \max(6,\ 3,\ 9)\ =\ 9 $ - チーム全体の知識 : $ \max(4,\ 1,\ 3)\ =\ 4 $ - チーム全体の発想力 : $ \max(6,\ 1,\ 7)\ =\ 7 $ したがって、チームの総合力は $ \min(8,\ 9,\ 9,\ 4,\ 7)\ =\ 4 $ となります。

### Sample Explanation 2

$ 1,\ 2,\ 3 $ 番目の人を採用すると、チームの総合力は $ \min(20,\ 13,\ 19,\ 19,\ 18)\ =\ 13 $ です。

## 样例 #1

### 输入

```
3

3 9 6 4 6

6 9 3 1 1

8 8 9 3 7```

### 输出

```
4```

## 样例 #2

### 输入

```
5

6 13 6 19 11

4 4 12 11 18

20 7 19 2 5

15 5 12 20 7

8 7 6 18 5```

### 输出

```
13```

## 样例 #3

### 输入

```
10

6 7 5 18 2

3 8 1 6 3

7 2 8 7 7

6 3 3 4 7

12 8 9 15 9

9 8 6 1 10

12 9 7 8 2

10 3 17 4 10

3 1 3 19 3

3 14 7 13 1```

### 输出

```
10```

# AI分析结果

### 题目翻译
有 $N$ 位成员候选人，每个人都拥有力量、速度、技巧、知识、创造力这 $5$ 种能力值。第 $i$ 个人的力量是 $A_i$，速度是 $B_i$，技巧是 $C_i$，知识是 $D_i$，创造力是 $E_i$。你需要从这 $N$ 位成员候选人中选出 $3$ 人组成一个团队。团队整体的力量定义为团队成员力量的最大值，速度、技巧、知识、创造力也按照同样的方式定义。团队的综合能力定义为团队整体的力量、速度、技巧、知识、创造力的最小值。请求出团队综合能力可能的最大值。

### 综合分析与结论
这些题解大多采用二分答案的思路，将求最小值的最大值问题转化为判断某个值是否合法的问题。在判断合法性时，主要使用了状态压缩的技巧，将每个人的 5 种能力状态用二进制数表示，从而简化判断过程。各题解的区别在于枚举状态的方式和判断合法性的具体实现细节。

### 题解选择
- **作者：Binary_Lee（5星）**
    - **关键亮点**：思路清晰，代码简洁，二分答案和状态压缩的结合使用非常巧妙，通过三重循环枚举状态判断合法性。
    - **核心代码**：
```cpp
bool check(int x){
    memset(mark,0,sizeof(mark));
    for(int i=1;i<=n;i++){
        int s=0;
        for(int j=0;j<5;j++){
            if(a[i][j+1]>=x) s|=(1<<j);
        }
        mark[s]=1;
    }
    for(int i=0;i<32;i++)
    for(int j=0;j<32;j++)
    for(int k=0;k<32;k++){
        if((i|j|k)==31&&mark[i]&&mark[j]&&mark[k]) return 1;
    }
    return 0;
}
```
    - **核心思想**：首先将每个人的能力状态用二进制数表示并记录，然后通过三重循环枚举三个状态，判断它们按位或的结果是否为 31（即 5 种能力都满足要求）。
- **作者：Wf_yjqd（4星）**
    - **关键亮点**：提前预处理出所有合法状态，在二分 check 时直接枚举这些状态，减少了重复计算。
    - **核心代码**：
```cpp
for(int i=0;i<32;i++)
    for(int j=0;j<32;j++)
        for(int k=0;k<32;k++)
            if((i|j|k)==31)
                st[++top]={i,j,k};

inline bool check(int x){
    vis.reset();
    for(int i=1;i<=n;i++){
        s=0;
        for(int j=0;j<5;j++)
            s=s*2+(p[i].a[j]>=x);
        vis[s]=1;
    }
    for(int i=1;i<=top;i++)
        if(vis[st[i].a]&&vis[st[i].b]&&vis[st[i].c])
            return 1;
    return 0;
}
```
    - **核心思想**：先预处理出所有满足按位或结果为 31 的状态组合，在 check 函数中，将每个人的能力状态用二进制数表示并记录，然后枚举预处理的合法状态，判断是否都出现过。
- **作者：cppcppcpp3（4星）**
    - **关键亮点**：通过枚举子集的方式标记状态，在判断合法性时，通过枚举前两个人的状态，计算出第三个人需要满足的状态，然后检查该状态是否被标记。
    - **核心代码**：
```cpp
bool check(int x){
    mp[0]=1;
    for(int i=1;i<S;++i) mp[i]=0;
    for(int i=1;i<=n;++i){
        f[i]=0;
        for(int j=0;j<5;++j) f[i]|=((w[i][j]>=x)<<j);
        for(int j=f[i];j;j=(j-1)&f[i]) mp[j]=1;
    }
    for(int i=1;i<=n;++i){
        for(int j=1;j<=n;++j){
            int res=(S-1)^(f[i]|f[j]);
            if(mp[res]) return 1;
        }
    }
    return 0;
}
```
    - **核心思想**：将每个人的能力状态用二进制数表示，枚举每个人状态的子集并标记，然后枚举前两个人的状态，计算出第三个人需要满足的状态，检查该状态是否被标记。

### 最优关键思路或技巧
- **二分答案**：将求最小值的最大值问题转化为判断某个值是否合法的问题，通过二分不断缩小答案范围。
- **状态压缩**：用二进制数表示每个人的 5 种能力状态，方便进行按位运算和状态判断。

### 拓展思路
同类型题目通常会涉及求最大值的最小值或最小值的最大值问题，可采用二分答案的思路。状态压缩常用于处理多维度状态的问题，通过二进制数表示状态，可简化判断过程。

### 推荐题目
- [P2678 跳石头](https://www.luogu.com.cn/problem/P2678)：二分答案求解最大的最小跳跃距离。
- [P1182 数列分段 Section II](https://www.luogu.com.cn/problem/P1182)：二分答案求解最小的最大分段和。
- [P3853 [TJOI2007]路标设置](https://www.luogu.com.cn/problem/P3853)：二分答案求解最小的最大相邻路标距离。

### 个人心得
无。

---
处理用时：35.28秒
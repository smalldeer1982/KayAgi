# 题目信息

# [ABC118D] Match Matching

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc118/tasks/abc118_d

ちょうど $ N $ 本のマッチ棒を使って作れる整数の中で最大のものを求めてください。

ただし、以下の条件を満たさなければなりません。

- 作る整数の各桁は、$ 1 $ から $ 9 $ までの数字のうち $ A_1,\ A_2,\ ...,\ A_M\ (1\ \leq\ A_i\ \leq\ 9) $ のいずれかでなければならない。
- 数字 $ 1,\ 2,\ 3,\ 4,\ 5,\ 6,\ 7,\ 8,\ 9 $ を $ 1 $ つ作るには、それぞれちょうど $ 2,\ 5,\ 5,\ 4,\ 5,\ 6,\ 3,\ 7,\ 6 $ 本のマッチ棒を使う。

## 说明/提示

### 制約

- 入力は全て整数である。
- $ 2\ \leq\ N\ \leq\ 10^4 $
- $ 1\ \leq\ M\ \leq\ 9 $
- $ 1\ \leq\ A_i\ \leq\ 9 $
- $ A_i $ は全て異なる。
- ちょうど $ N $ 本のマッチ棒を使って条件を満たすように作れる整数が存在する。

### Sample Explanation 1

整数 $ 777773 $ は $ 3\ +\ 3\ +\ 3\ +\ 3\ +\ 3\ +\ 5\ =\ 20 $ 本のマッチ棒を使って作れ、ちょうど $ 20 $ 本のマッチ棒を使って条件を満たすように作れる整数の中でこれが最大です。

### Sample Explanation 2

出力が $ 64 $ ビット整数型に収まらない場合があります。

## 样例 #1

### 输入

```
20 4

3 7 8 4```

### 输出

```
777773```

## 样例 #2

### 输入

```
101 9

9 8 7 6 5 4 3 2 1```

### 输出

```
71111111111111111111111111111111111111111111111111```

## 样例 #3

### 输入

```
15 3

5 4 6```

### 输出

```
654```

# AI分析结果

### 题目内容重写

**题目描述**

给定 $N$ 根火柴棒，要求用这些火柴棒拼出一个整数，且该整数必须满足以下条件：

1. 整数的每一位数字必须来自给定的 $A_1, A_2, \dots, A_M$（$1 \leq A_i \leq 9$）。
2. 数字 $1, 2, 3, 4, 5, 6, 7, 8, 9$ 分别需要 $2, 5, 5, 4, 5, 6, 3, 7, 6$ 根火柴棒。

要求拼出的整数是所有可能的整数中最大的一个。

**输入格式**

第一行输入两个整数 $N$ 和 $M$，分别表示火柴棒的数量和可用的数字种类数。

第二行输入 $M$ 个整数，表示可用的数字 $A_1, A_2, \dots, A_M$。

**输出格式**

输出一个整数，表示用 $N$ 根火柴棒拼出的最大整数。

**样例**

**样例输入 1**

```
20 4
3 7 8 4
```

**样例输出 1**

```
777773
```

**样例输入 2**

```
101 9
9 8 7 6 5 4 3 2 1
```

**样例输出 2**

```
71111111111111111111111111111111111111111111111111
```

**样例输入 3**

```
15 3
5 4 6
```

**样例输出 3**

```
654
```

### 题解分析与结论

本题的核心是通过动态规划（DP）来解决完全背包问题，目标是在给定火柴棒数量的情况下，拼出最大的整数。由于整数可能非常大，无法用常规的整数类型存储，因此需要使用字符串来处理。

#### 关键思路与技巧

1. **动态规划**：使用 DP 来记录每个火柴棒数量下可以拼出的最大数字。状态转移方程为：$dp[i] = \max(dp[i], dp[i - w[j]] + \text{数字} j)$，其中 $w[j]$ 是拼出数字 $j$ 所需的火柴棒数量。
2. **字符串处理**：由于数字可能非常大，使用字符串来存储和比较数字。自定义比较函数来比较两个字符串的大小。
3. **贪心策略**：在 DP 完成后，通过贪心策略从高位到低位选择最大的数字，确保最终拼出的数字最大。

#### 评分较高的题解

1. **忘怜城羡 (5星)**
   - **关键亮点**：使用字符串存储数字，自定义比较函数，代码清晰且易于理解。
   - **核心代码**：
     ```cpp
     string ma(string a,string b) {
         if(a.size()>b.size()) return a;
         else if(a.size()<b.size()) return b;
         else {
             for(int i=0;i<a.size();++i)
                 if(a[i]>b[i]) return a;
                 else if(b[i]>a[i]) return b;
             return a;
         }
     }
     ```

2. **Dark_Sky (4星)**
   - **关键亮点**：先通过 DP 求出最大位数，再通过贪心策略从大到小选择数字，思路清晰。
   - **核心代码**：
     ```cpp
     while(n) {
         for(int i=0;i<m;i++) {
             if(n>=s[a[i]] && dp[n-s[a[i]]]+1 == dp[n]) {
                 putchar(a[i]+'0');
                 n-=s[a[i]];
                 break;
             }
         }
     }
     ```

3. **LaDeX (4星)**
   - **关键亮点**：使用字符串存储数字，自定义比较函数，代码简洁且易于理解。
   - **核心代码**：
     ```cpp
     bool Greater(string A, string B) {
         if (A == "@") return false;
         if (B == "@") return true;
         if (A.size() != B.size()) return A.size() > B.size();
         return A > B;
     }
     ```

### 最优关键思路总结

1. **动态规划**：通过 DP 记录每个火柴棒数量下可以拼出的最大数字，确保在每一步都能选择最优的数字。
2. **字符串处理**：使用字符串存储和比较数字，避免了大数处理的困难。
3. **贪心策略**：在 DP 完成后，通过贪心策略从高位到低位选择最大的数字，确保最终拼出的数字最大。

### 拓展与举一反三

1. **类似题目**：
   - [P1048 采药](https://www.luogu.com.cn/problem/P1048)：经典的背包问题，与本题的 DP 思路类似。
   - [P1064 金明的预算方案](https://www.luogu.com.cn/problem/P1064)：涉及背包问题的变种，需要处理更复杂的情况。
   - [P1541 乌龟棋](https://www.luogu.com.cn/problem/P1541)：结合了 DP 和贪心策略，与本题的贪心策略有相似之处。

2. **个人心得**：
   - **调试经历**：在处理大数时，使用字符串存储数字是一个有效的解决方案，避免了整数溢出的问题。
   - **踩坑教训**：在 DP 状态转移时，需要确保每一步都能正确更新状态，否则可能导致结果错误。
   - **顿悟感想**：贪心策略在 DP 完成后可以有效地优化最终结果，确保拼出的数字最大。

---
处理用时：40.63秒
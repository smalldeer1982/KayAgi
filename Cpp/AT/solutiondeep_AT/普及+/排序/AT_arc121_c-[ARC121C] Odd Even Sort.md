# 题目信息

# [ARC121C] Odd Even Sort

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc121/tasks/arc121_c

$ (1,2,\ \ldots,\ N) $ を並び替えた数列 $ p $ が与えられます。 はじめ、$ p $ の第 $ n $ 項は $ p_{n} $ です。

あなたの目的は $ N^2 $ 回以下 *操作* を行い $ p $ を昇順に並び替えることです。 あなたは操作により以下のように $ p $ を変更することができます。

- **奇数** 回目の操作では $ 1 $ 以上 $ N-1 $ 以下の **奇数** $ n $ を選んで $ p_n $ と $ p_{n+1} $ を入れ替えます。
- **偶数** 回目の操作では $ 2 $ 以上 $ N-1 $ 以下の **偶数** $ n $ を選んで $ p_n $ と $ p_{n+1} $ を入れ替えます。

この問題の制約下で必ず目的を達成できることが証明できます。 そのような操作列を $ 1 $ つ求めてください。

$ T $ 個のテストケースが与えられるのでそれぞれについて答えを求めてください。

## 说明/提示

### 制約

- 与えられる入力は全て整数
- $ 1\ \leq\ T\ \leq\ 250 $
- $ 2\ \leq\ N\ \leq\ 500 $
- $ 1\ \leq\ p_i\ \leq\ N $
- $ p $ は $ (1,2,\ldots,N) $ を並び替えて得られる。
- $ 1 $ つの入力ファイルにおいて $ N $ の総和は $ 500 $ を超えない。

### Sample Explanation 1

\- $ 1 $ つ目のテストケースについて説明します。 - $ 1 $ 回目の操作で $ 1 $ を選ぶと $ p $ は $ (1,2,3,5,4) $ となります。 - $ 2 $ 回目の操作で $ 4 $ を選ぶと $ p $ は $ (1,2,3,4,5) $ となります。 - $ (1,4) $ は操作列として正しいですが、$ (4,1) $ は操作列として正しくないことに注意してください。 - 操作を $ 1 $ 度も行わなくともよいこと、操作回数を最小にする必要はないことに注意してください。

## 样例 #1

### 输入

```
2

5

2 1 3 5 4

2

1 2```

### 输出

```
2

1 4

0```

# AI分析结果

### 题目翻译
给定一个由 $(1,2,\ \ldots,\ N)$ 重新排列得到的数列 $p$，初始时，$p$ 的第 $n$ 项为 $p_{n}$。

你的目标是通过不超过 $N^2$ 次的 *操作* 将 $p$ 按升序排列。你可以通过操作对 $p$ 进行如下更改：
- **奇数次** 操作时，选择一个 $1$ 到 $N - 1$ 之间的 **奇数** $n$，交换 $p_n$ 和 $p_{n + 1}$。
- **偶数次** 操作时，选择一个 $2$ 到 $N - 1$ 之间的 **偶数** $n$，交换 $p_n$ 和 $p_{n + 1}$。

可以证明，在本题的约束条件下，一定可以达成目标。请找出这样的一个操作序列。

本题包含 $T$ 个测试用例，请分别求出每个测试用例的答案。

### 综合分析与结论
这几道题解的核心思路都是利用题目给定的宽松操作次数限制（$N^2$ 次），采用类似冒泡排序或选择排序的方法对数列进行排序。
- **思路**：大多题解考虑将数字依次放到其正确位置，在操作过程中处理奇偶性限制的问题。
- **算法要点**：主要通过模拟操作过程，根据当前操作次数的奇偶性选择合适的位置进行交换。
- **解决难点**：当要交换的位置的奇偶性与当前操作次数的奇偶性不匹配时，需要浪费一些操作步数来调整奇偶性，使后续操作能够继续进行。

### 通用建议与扩展思路
这些题解都采用了模拟的方法，利用操作次数宽松的特点，通过浪费一些步数来处理奇偶性问题。在遇到类似有操作限制的排序问题时，可以考虑先确定一个基本的排序算法，再根据限制条件调整操作步骤。对于奇偶性限制的问题，可以通过额外的操作来调整状态，使操作能够继续进行。

### 洛谷相似题目推荐
1. [P1177 【模板】快速排序](https://www.luogu.com.cn/problem/P1177)
2. [P1923 【深基9.例4】求第 k 小的数](https://www.luogu.com.cn/problem/P1923)
3. [P5741 【深基7.例10】旗鼓相当的对手 - 加强版](https://www.luogu.com.cn/problem/P5741)

### 个人心得摘录与总结
- **_luanyi_**：在处理偶数次操作时，尝试了多种操作序列来防止死循环，最终通过实践发现“操作 $2$，再操作 $1$，再操作 $2$”的序列能使某样例通过，从而确定了该操作序列。总结：在处理复杂的操作限制时，可能需要通过不断尝试和实践来找到合适的解决方案。 

---
处理用时：17.80秒
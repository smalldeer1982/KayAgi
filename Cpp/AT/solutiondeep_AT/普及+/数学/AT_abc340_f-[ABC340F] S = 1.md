# 题目信息

# [ABC340F] S = 1

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc340/tasks/abc340_f

整数 $ X,\ Y $ が与えられます。$ X,\ Y $ は $ X\ \neq\ 0 $ と $ Y\ \neq\ 0 $ の少なくとも一方を満たします。  
 次の条件を全て満たす整数の組 $ (A,\ B) $ を発見してください。そのような整数の組が存在しない場合はそれを報告してください。

- $ -10^{18}\ \leq\ A,\ B\ \leq\ 10^{18} $
- $ xy $ 平面上の点 $ (0,\ 0),\ (X,\ Y),\ (A,\ B) $ を頂点とする三角形の面積は $ 1 $

## 说明/提示

### 制約

- $ -10^{17}\ \leq\ X,\ Y\ \leq\ 10^{17} $
- $ (X,\ Y)\ \neq\ (0,\ 0) $
- $ X,\ Y $ は整数
 
### Sample Explanation 1

点 $ (0,\ 0),\ (3,\ 5),\ (1,\ 1) $ を頂点とする三角形の面積は $ 1 $ です。よって $ (A,\ B)\ =\ (1,\ 1) $ は条件を満たします。

## 样例 #1

### 输入

```
3 5```

### 输出

```
1 1```

## 样例 #2

### 输入

```
-2 0```

### 输出

```
0 1```

## 样例 #3

### 输入

```
8752654402832944 -6857065241301125```

### 输出

```
-1```

# AI分析结果

### 题目内容重写

给定两个整数 $X$ 和 $Y$，满足 $X \neq 0$ 或 $Y \neq 0$。要求找到一组整数 $(A, B)$，满足以下条件：

- $-10^{18} \leq A, B \leq 10^{18}$
- 在 $xy$ 平面上，点 $(0, 0)$、$(X, Y)$、$(A, B)$ 构成的三角形面积为 $1$

如果不存在这样的整数对 $(A, B)$，则输出 $-1$。

### 题解综合分析与结论

本题的核心在于通过给定的两点 $(0,0)$ 和 $(X,Y)$，找到第三个点 $(A,B)$，使得这三个点构成的三角形面积为 $1$。通过向量叉积的几何意义，可以推导出三角形面积的公式为 $\frac{1}{2} |AY - BX| = 1$，进而转化为求解不定方程 $|AY - BX| = 2$。由于绝对值的存在，可以进一步简化为 $AY - BX = 2$ 或 $AY - BX = -2$，最终通过扩展欧几里得算法（exgcd）求解。

### 高星题解推荐

#### 题解1：Genius_Star (5星)
**关键亮点：**
- 通过向量叉积推导出三角形面积的公式，并将其转化为不定方程 $|AY - BX| = 2$。
- 使用扩展欧几里得算法求解不定方程，并详细解释了无解的情况。
- 代码清晰，逻辑严谨，时间复杂度为 $O(\log W)$，其中 $W$ 为值域。

**核心代码：**
```cpp
void exgcd(ll a, ll b, ll &x, ll &y) {
    if (!b) {
        x = 1;
        y = 0;
        return;
    }
    ll p;
    exgcd(b, a % b, x, y);
    p = x;
    x = y;
    y = p - (a / b) * y;
}
```

#### 题解2：千秋星辰 (4星)
**关键亮点：**
- 通过点到直线的距离公式推导出三角形面积的表达式，并将其转化为不定方程 $AY - BX = 2$。
- 使用扩展欧几里得算法求解不定方程，并处理了无解的情况。
- 代码简洁，逻辑清晰，时间复杂度为 $O(\log V)$。

**核心代码：**
```cpp
int exgcd(int a, int b, int &x, int &y) {
    if (b == 0) {
        x = 1, y = 0;
        return a;
    }
    int res = exgcd(b, a % b, y, x);
    y -= (a / b * x);
    return res;
}
```

#### 题解3：Register_int (4星)
**关键亮点：**
- 通过向量叉积推导出三角形面积的公式，并将其转化为不定方程 $AY - BX = 2$。
- 使用扩展欧几里得算法求解不定方程，并处理了无解的情况。
- 代码简洁，逻辑清晰，时间复杂度为 $O(\log V)$。

**核心代码：**
```cpp
void exgcd(ll a, ll b, ll &x, ll &y) {
    if (!b) return x = 1, y = 0, void(0);
    exgcd(b, a % b, y, x), y -= a / b * x;
}
```

### 最优关键思路或技巧

1. **向量叉积的应用**：通过向量叉积的几何意义，推导出三角形面积的公式，进而转化为不定方程。
2. **扩展欧几里得算法**：用于求解不定方程 $AY - BX = 2$，并处理无解的情况。
3. **绝对值处理**：通过取相反数的方式，将 $AY - BX = -2$ 转化为 $AY - BX = 2$，简化问题。

### 可拓展之处

本题的解题思路可以推广到其他类似的几何问题，如给定三个点，求第四个点使得构成的四边形面积为某个特定值。此外，扩展欧几里得算法在求解不定方程中的应用也非常广泛，可以用于解决更多数论问题。

### 推荐题目

1. [P5656 【模板】二元一次不定方程](https://www.luogu.com.cn/problem/P5656)
2. [P1082 同余方程](https://www.luogu.com.cn/problem/P1082)
3. [P1516 青蛙的约会](https://www.luogu.com.cn/problem/P1516)

### 个人心得摘录

- **Genius_Star**：通过向量叉积推导出三角形面积的公式，并将其转化为不定方程，使用扩展欧几里得算法求解，逻辑清晰，代码简洁。
- **千秋星辰**：通过点到直线的距离公式推导出三角形面积的表达式，并将其转化为不定方程，使用扩展欧几里得算法求解，代码简洁，逻辑清晰。
- **Register_int**：通过向量叉积推导出三角形面积的公式，并将其转化为不定方程，使用扩展欧几里得算法求解，代码简洁，逻辑清晰。

---
处理用时：43.94秒
# 题目信息

# [ABC343E] 7x7x7

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc343/tasks/abc343_e

> 座標空間上に一辺 $ 7 $ の立方体を $ 3 $ つ、ちょうど $ 1,2,3 $ 個の立方体に含まれる領域の体積がそれぞれ $ V_1,V_2,V_3 $ となるように配置したいです。

$ 3 $ つの整数 $ a,b,c $ に対し、$ (a\leq\ x\leq\ a+7)\ \land\ (b\leq\ y\leq\ b+7)\ \land\ (c\leq\ z\leq\ c+7) $ で表される立方体領域を $ C(a,b,c) $ とおきます。

以下の条件を全て満たすような $ 9 $ つの整数 $ a_1,b_1,c_1,a_2,b_2,c_2,a_3,b_3,c_3 $ が存在するか判定し、存在するならば実際に $ 1 $ つ求めてください。

- $ |a_1|,|b_1|,|c_1|,|a_2|,|b_2|,|c_2|,|a_3|,|b_3|,|c_3|\ \leq\ 100 $
- $ C_i\ =\ C(a_i,b_i,c_i)\ (i=1,2,3) $ とおいたとき、
  - $ C_1,C_2,C_3 $ のうちちょうど $ 1 $ 個に含まれる領域の体積は $ V_1 $ である。
  - $ C_1,C_2,C_3 $ のうちちょうど $ 2 $ 個に含まれる領域の体積は $ V_2 $ である。
  - $ C_1,C_2,C_3 $ の全てに含まれる領域の体積は $ V_3 $ である。

## 说明/提示

### 制約

- $ 0\leq\ V_1,V_2,V_3\ \leq\ 3\times\ 7^3 $
- 入力は全て整数

### Sample Explanation 1

$ (a_1,b_1,c_1,a_2,b_2,c_2,a_3,b_3,c_3)=(0,0,0,0,6,0,6,0,0) $ の場合を考えます。 !\[\](https://img.atcoder.jp/abc343/aa534bf0a0e8e3f3487c5eeb540e54dc.png) この図は $ C_1,C_2,C_3 $ の位置関係を表したもので、それぞれ橙、水色、緑の立方体に対応しています。 このとき、 - $ |a_1|,|b_1|,|c_1|,|a_2|,|b_2|,|c_2|,|a_3|,|b_3|,|c_3| $ は全て $ 100 $ 以下 - $ C_1,C_2,C_3 $ の全てに含まれる領域は $ (6\leq\ x\leq\ 7)\land\ (6\leq\ y\leq\ 7)\ \land\ (0\leq\ z\leq\ 7) $ であり、その体積は $ (7-6)\times(7-6)\times(7-0)=7 $ - $ C_1,C_2,C_3 $ のうちちょうど $ 2 $ 個に含まれる領域は $ ((0\leq\ x\ <\ 6)\land\ (6\leq\ y\leq\ 7)\ \land\ (0\leq\ z\leq\ 7))\lor((6\leq\ x\leq\ 7)\land\ (0\leq\ y\ <\ 6)\ \land\ (0\leq\ z\leq\ 7)) $ であり、 その体積は $ (6-0)\times(7-6)\times(7-0)\times\ 2=84 $ - $ C_1,C_2,C_3 $ のうちちょうど $ 1 $ 個に含まれる領域の体積は $ 840 $ であり、条件を全て満たします。 $ (a_1,b_1,c_1,a_2,b_2,c_2,a_3,b_3,c_3)=(-10,\ 0,\ 0,\ -10,\ 0,\ 6,\ -10,\ 6,\ 1) $ なども同様に条件を全て満たすため、正当な出力として判定されます。

### Sample Explanation 2

条件を全て満たすような $ 9 $ つの整数 $ a_1,b_1,c_1,a_2,b_2,c_2,a_3,b_3,c_3 $ は存在しません。

## 样例 #1

### 输入

```
840 84 7```

### 输出

```
Yes
0 0 0 0 6 0 6 0 0```

## 样例 #2

### 输入

```
343 34 3```

### 输出

```
No```

# AI分析结果

### 题目内容重写

在坐标空间上放置三个边长为7的立方体，要求恰好被1、2、3个立方体包含的区域的体积分别为 \( V_1, V_2, V_3 \)。给定三个整数 \( a, b, c \)，定义立方体区域 \( C(a, b, c) \) 为满足 \( a \leq x \leq a+7 \)、\( b \leq y \leq b+7 \)、\( c \leq z \leq c+7 \) 的区域。要求判断是否存在满足以下条件的9个整数 \( a_1, b_1, c_1, a_2, b_2, c_2, a_3, b_3, c_3 \)：

- \( |a_1|, |b_1|, |c_1|, |a_2|, |b_2|, |c_2|, |a_3|, |b_3|, |c_3| \leq 100 \)
- 定义 \( C_i = C(a_i, b_i, c_i) \)（\( i=1,2,3 \)），则：
  - 恰好被1个立方体包含的区域的体积为 \( V_1 \)
  - 恰好被2个立方体包含的区域的体积为 \( V_2 \)
  - 被所有3个立方体包含的区域的体积为 \( V_3 \)

### 题解分析与结论

#### 综合分析与结论

本题的核心在于如何高效地枚举三个立方体的位置，并计算它们之间的重叠体积。由于立方体的边长为7，且坐标范围限制在 \([-100, 100]\)，直接暴力枚举所有可能的组合是不可行的。因此，题解中普遍采用了固定一个立方体位置，然后枚举另外两个立方体位置的策略，从而将枚举范围大大缩小。

#### 所选高星题解

##### 1. 作者：wenlebo (4星)
- **关键亮点**：通过固定第一个立方体的位置，枚举另外两个立方体的位置，并利用三维数组记录每个点被多少个立方体覆盖，最后统计满足条件的体积。
- **代码实现**：
  ```cpp
  void dr(int x,int y,int z){
      for(int i=x+1,o=1;o<=7;o++,i++){
          for(int j=y+1,oo=1;oo<=7;oo++,j++){
              for(int k=z+1,ooo=1;ooo<=7;ooo++,k++){
                  s[i][j][k]++;
              }
          }
      }
  }
  bool ch(int x1,int y1,int z1,int x2,int y2,int z2,int x3,int y3,int z3){
      memset(s,0,sizeof(s));
      dr(x1,y1,z1);
      dr(x2,y2,z2);
      dr(x3,y3,z3);
      int u=0,v=0,w=0;
      for(int i=1;i<=20;i++){
          for(int j=1;j<=20;j++){
              for(int k=1;k<=20;k++){
                  if(s[i][j][k]){
                      if(s[i][j][k]==1) u++;
                      else if(s[i][j][k]==2) v++;
                      else w++;
                  }
              }
          }
      }
      return u==a && v==b && w==c;
  }
  ```
- **个人心得**：通过固定第一个立方体的位置，大大减少了枚举量，使得算法在时间限制内可行。

##### 2. 作者：_Weslie_ (4星)
- **关键亮点**：固定第一个立方体位置，枚举另外两个立方体的位置，并通过函数计算两两和三个立方体的重叠体积，最后判断是否满足条件。
- **代码实现**：
  ```cpp
  int f1(int a1,int b1,int c1,int a2,int b2,int c2) {
      int res=1;
      res*=max(0,min(a1,a2)+7-max(a1,a2));
      res*=max(0,min(b1,b2)+7-max(b1,b2));
      res*=max(0,min(c1,c2)+7-max(c1,c2));
      return res;
  }
  int f2(int a1,int b1,int c1,int a2,int b2,int c2,int a3,int b3,int c3) {
      int res=1;
      res*=max(0,min(min(a1,a2),a3)+7-max(max(a1,a2),a3));
      res*=max(0,min(min(b1,b2),b3)+7-max(max(b1,b2),b3));
      res*=max(0,min(min(c1,c2),c3)+7-max(max(c1,c2),c3));
      return res;
  }
  ```
- **个人心得**：通过固定第一个立方体的位置，并利用函数计算重叠体积，使得代码结构清晰且高效。

##### 3. 作者：kczw (4星)
- **关键亮点**：固定第一个立方体位置，枚举另外两个立方体的位置，并通过函数计算两两和三个立方体的重叠体积，最后判断是否满足条件。
- **代码实现**：
  ```cpp
  int f(int a,int b,int c){
      if(min(a,min(b,c))+7-max(a,max(b,c))<1)return 0;
      return min(a,min(b,c))+7-max(a,max(b,c));
  }
  int F(int a,int b){
      if(min(a,b)+7-max(a,b)<1)return 0;
      return min(a,b)+7-max(a,b);
  }
  ```
- **个人心得**：通过固定第一个立方体的位置，并利用函数计算重叠体积，使得代码结构清晰且高效。

### 最优关键思路与技巧

1. **固定一个立方体位置**：通过固定第一个立方体的位置，将枚举范围从 \([-100, 100]\) 缩小到 \([-7, 7]\)，大大减少了计算量。
2. **利用函数计算重叠体积**：通过定义函数计算两两和三个立方体的重叠体积，使得代码结构清晰且易于维护。
3. **三维数组记录覆盖情况**：通过三维数组记录每个点被多少个立方体覆盖，最后统计满足条件的体积。

### 可拓展之处

类似的问题可以扩展到更高维度的空间，或者更复杂的几何形状。通过固定某些几何体的位置，并利用函数计算重叠体积，可以有效地解决这类问题。

### 推荐题目

1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)
2. [P1057 传球游戏](https://www.luogu.com.cn/problem/P1057)
3. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)

---
处理用时：52.95秒
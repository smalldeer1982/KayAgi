# 题目信息

# [AGC022B] GCD Sequence

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc022/tasks/agc022_b

ナガセは高校の優等生です。ある日のこと、ナガセは正の整数からなる特別な集合のとある性質を分析しています。

ナガセの考えでは、**異なる** 正の整数の集合 $ S\ =\ \{a_{1},\ a_{2},\ ...,\ a_{N}\} $ は、以下の条件を満たす場合に **特別** であると呼ばれます。条件：どの $ 1\ \leq\ i\ \leq\ N $ についても、$ a_{i} $ と、$ S $ のその他の要素の和の最大公約数は $ 1 $ **ではない**。

ナガセは、要素数 $ N $ の **特別** な集合を求めたいです。ところがこれは簡単すぎるので、難易度を上げることにしました。要素数 $ N $ の **特別** な集合であって、すべての要素の最大公約数が $ 1 $ であり、どの要素も $ 30000 $ 以下であるものを求めてみよ、とのことです。

## 说明/提示

### 制約

- $ 3\ \leq\ N\ \leq\ 20000 $

### Sample Explanation 1

$ \{2,\ 5,\ 63\} $ は特別です。なぜなら、$ gcd(2,\ 5\ +\ 63)\ =\ 2,\ gcd(5,\ 2\ +\ 63)\ =\ 5,\ gcd(63,\ 2\ +\ 5)\ =\ 7 $ であり、さらに $ gcd(2,\ 5,\ 63)\ =\ 1 $ であるため、すべての判定条件を満たすからです。 なお、$ \{2,\ 4,\ 6\} $ は解として認められません。$ gcd(2,\ 4,\ 6)\ =\ 2\ >\ 1 $ であるからです。

### Sample Explanation 2

$ \{2,\ 5,\ 20,\ 63\} $ は特別です。なぜなら、$ gcd(2,\ 5\ +\ 20\ +\ 63)\ =\ 2,\ gcd(5,\ 2\ +\ 20\ +\ 63)\ =\ 5,\ gcd(20,\ 2\ +\ 5\ +\ 63)\ =\ 10,\ gcd(63,\ 2\ +\ 5\ +\ 20)\ =\ 9 $ であり、さらに $ gcd(2,\ 5,\ 20,\ 63)\ =\ 1 $ であるため、すべての判定条件を満たすからです。

## 样例 #1

### 输入

```
3```

### 输出

```
2 5 63```

## 样例 #2

### 输入

```
4```

### 输出

```
2 5 20 63```

# AI分析结果

### 题目重写
**题目描述**

ナガセ是高中优等生。某天，他正在分析由正整数组成的特殊集合的某个性质。

ナガセ认为，**不同**的正整数集合 $S = \{a_1, a_2, \dots, a_N\}$ 在满足以下条件时被称为**特殊**：对于每个 $1 \leq i \leq N$，$a_i$ 与 $S$ 中其他元素的和的最大公约数不为 $1$。

ナガセ希望找到元素数为 $N$ 的**特殊**集合。然而，这太简单了，于是他决定增加难度：要求集合中所有元素的最大公约数为 $1$，且每个元素不超过 $30000$。

**输入输出格式**

**输入格式**

- 输入包含一个整数 $N$，表示集合的元素数。

**输出格式**

- 输出一个长度为 $N$ 的序列，表示满足条件的集合。

**样例**

**样例 1**

输入：
```
3
```
输出：
```
2 5 63
```

**样例 2**

输入：
```
4
```
输出：
```
2 5 20 63
```

**说明/提示**

**约束**

- $3 \leq N \leq 20000$

**样例解释**

- 样例 1 中，集合 $\{2, 5, 63\}$ 是特殊的，因为 $gcd(2, 5 + 63) = 2$，$gcd(5, 2 + 63) = 5$，$gcd(63, 2 + 5) = 7$，且 $gcd(2, 5, 63) = 1$。
- 样例 2 中，集合 $\{2, 5, 20, 63\}$ 也是特殊的，因为 $gcd(2, 5 + 20 + 63) = 2$，$gcd(5, 2 + 20 + 63) = 5$，$gcd(20, 2 + 5 + 63) = 10$，$gcd(63, 2 + 5 + 20) = 9$，且 $gcd(2, 5, 20, 63) = 1$。

### 题解分析与结论

#### 题解对比
1. **myee的题解**：
   - **思路**：通过构造一个模6余0、2、3、4的数列，确保每个数与总和的gcd不为1。
   - **难点**：如何分配余数为2、3、4的数的个数，确保总和能被6整除。
   - **评分**：4星，思路清晰，代码简洁，但构造过程稍显复杂。

2. **_Diu_的题解**：
   - **思路**：先安排两个互质的数（2和3），然后通过分组确保每组的和为30000，且每组内的数满足条件。
   - **难点**：如何确保每组的和固定为30000，且不重复使用数。
   - **评分**：5星，思路清晰，代码简洁，构造方法巧妙。

3. **Pekemetier的题解**：
   - **思路**：先安排2和3，然后通过凑数确保总和为6的倍数，且每个数与总和的gcd不为1。
   - **难点**：如何确保总和为6的倍数，且不重复使用数。
   - **评分**：4星，思路清晰，代码简洁，但构造方法稍显复杂。

#### 最优思路总结
最优思路是**_Diu_的题解**，通过先安排两个互质的数（2和3），然后通过分组确保每组的和为30000，且每组内的数满足条件。这种方法不仅保证了所有数的gcd为1，还确保了每个数与总和的gcd不为1，且每个数不超过30000。

#### 关键代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int n;
signed main(){
	scanf("%lld",&n);
	printf("2 3 29995 ");
	if(n%2==0)printf("30000 "),--n;
	n-=3,n/=2;
	for(int i=6;n--;){
		for(;!(i%2==0||i%3==0||i%5==0);++i);
		printf("%d %d ",i,30000-i);
		++i;
	}
}
```

#### 拓展思路
类似题目可以通过先安排两个互质的数，然后通过分组或凑数的方法确保总和满足特定条件。这种方法适用于需要构造满足特定gcd条件的数列的题目。

#### 推荐题目
1. [P3912 素数判定](https://www.luogu.com.cn/problem/P3912)
2. [P1075 质因数分解](https://www.luogu.com.cn/problem/P1075)
3. [P1069 细胞分裂](https://www.luogu.com.cn/problem/P1069)

---
处理用时：42.59秒
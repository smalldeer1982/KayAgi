# 题目信息

# [ARC178B] 1 + 6 = 7

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc178/tasks/arc178_b

正の整数 $ A_{1},\ A_{2},\ A_{3} $ が与えられます。 以下の条件を全て満たす正の整数の組 $ (X_{1},\ X_{2},\ X_{3}) $ の場合の数を $ 998244353 $ で割ったあまりを求めてください。

- $ X_{1} $ は $ 10 $ 進法で $ A_{1} $ 桁の正の整数
- $ X_{2} $ は $ 10 $ 進法で $ A_{2} $ 桁の正の整数
- $ X_{3} $ は $ 10 $ 進法で $ A_{3} $ 桁の正の整数
- $ X_{1}\ +\ X_{2}\ =\ X_{3} $
 
$ 1 $ つの入力ファイルにつき $ T $ 個のテストケースが与えられるので、それぞれについて解いてください。

## 说明/提示

### 制約

- $ 1\leq\ T\leq\ 10^{5} $
- $ 1\leq\ A_{i}\leq\ 10^{9} $
- 入力は全て整数
 
### Sample Explanation 1

$ 1 $ つ目のケースについて、$ (X_{1},\ X_{2},\ X_{3})\ =\ (1,\ 6,\ 7),\ (2,\ 1,\ 3) $ などが条件を満たします。 $ (X_{1},\ X_{2},\ X_{3})\ =\ (6,\ 7,\ 13),\ (3,\ 4,\ 5) $ などは条件を満たしません。 条件を満たす $ (X_{1},\ X_{2},\ X_{3}) $ の組は $ 36 $ 通りあるので $ 36 $ を出力してください。 $ 3 $ つ目のケースについて、答えを $ 998244353 $ で割ったあまりを出力することに注意してください。 $ 4 $ つ目のケースについて、条件を満たす $ (X_{1},\ X_{2},\ X_{3}) $ の組が存在しないこともあります。

## 样例 #1

### 输入

```
4

1 1 1

1 6 7

167 167 167

111 666 777```

### 输出

```
36

45

731780675

0```

# AI分析结果

### 题目内容重写
【题目描述】
给定三个正整数 $A_{1},\ A_{2},\ A_{3}$，求满足以下条件的正整数组 $(X_{1},\ X_{2},\ X_{3})$ 的个数，结果对 $998244353$ 取模：

- $X_{1}$ 是 $10$ 进制下 $A_{1}$ 位的正整数
- $X_{2}$ 是 $10$ 进制下 $A_{2}$ 位的正整数
- $X_{3}$ 是 $10$ 进制下 $A_{3}$ 位的正整数
- $X_{1} + X_{2} = X_{3}$

每个输入文件包含 $T$ 个测试用例，要求对每个测试用例输出结果。

### 题解分析与结论
#### 综合分析与结论
本题的核心在于通过数位分析来确定满足条件的 $(X_1, X_2, X_3)$ 的组合数。由于 $A_i$ 的范围可能很大（$10^9$），直接枚举或数位 DP 不可行，因此需要通过数学推导来简化问题。

关键思路：
1. **数位分析**：$X_1$ 和 $X_2$ 的位数决定了 $X_3$ 的位数只能是 $A_2$ 或 $A_2+1$。
2. **分类讨论**：根据 $A_3$ 与 $A_2$ 的关系，分为 $A_3 = A_2$ 和 $A_3 = A_2 + 1$ 两种情况，分别计算方案数。
3. **等差数列求和**：在计算方案数时，利用等差数列求和公式来简化计算。

#### 评分较高的题解
1. **作者：imfbust（4星）**
   - **关键亮点**：通过分类讨论和等差数列求和，清晰地解决了问题。代码实现简洁，逻辑清晰。
   - **代码核心**：
     ```cpp
     long long tmp1=9*ksm(10,a1-1)%mod;
     long long tmp2=9*ksm(10,a2-1)%mod;
     if(a1!=a2&&a3==a2+1) ans=(ksm(10,a1-1)+ksm(10,a1)-1)%mod*tmp1%mod*niyuan%mod;
     else if(a1!=a2&&a3==a2) ans=(tmp1*tmp2%mod-(ksm(10,a1-1)+ksm(10,a1)-1)%mod*tmp1%mod*niyuan%mod+mod)%mod;
     else if(a1==a2&&a3==a2+1) ans=(tmp2*ksm(10,a1-1)%mod+(ksm(10,a1)-1)%mod*8%mod*ksm(10,a1-1)%mod*niyuan%mod)%mod;
     else ans=(tmp1*tmp2%mod-(tmp2*ksm(10,a1-1)%mod+(ksm(10,a1)-1)%mod*8%mod*ksm(10,a1-1)%mod*niyuan%mod)%mod+mod)%mod;
     ```

2. **作者：Cloote（4星）**
   - **关键亮点**：通过数位分析和容斥原理，清晰地推导出方案数的计算公式。思路清晰，代码实现简洁。
   - **代码核心**：
     ```cpp
     if(a1!=a2&&a3==a2+1) ans=(ksm(10,a1-1)+ksm(10,a1)-1)%mod*tmp1%mod*niyuan%mod;
     else if(a1!=a2&&a3==a2) ans=(tmp1*tmp2%mod-(ksm(10,a1-1)+ksm(10,a1)-1)%mod*tmp1%mod*niyuan%mod+mod)%mod;
     ```

3. **作者：ilibilib（4星）**
   - **关键亮点**：通过数位分析和等差数列求和，清晰地解决了问题。代码实现简洁，逻辑清晰。
   - **代码核心**：
     ```cpp
     if(x!=y) ans=((((mn2+mx2)*b)%mod)*ksm(2,mod-2))%mod;
     else ans=(((mn1+b)*(b-mn1+1)%mod)*ksm(2,mod-2)+(((mn1-1)*a)%mod))%mod;
     ```

### 最优关键思路或技巧
1. **数位分析**：通过分析 $X_1$ 和 $X_2$ 的位数，确定 $X_3$ 的位数只能是 $A_2$ 或 $A_2+1$。
2. **分类讨论**：根据 $A_3$ 与 $A_2$ 的关系，分为两种情况，分别计算方案数。
3. **等差数列求和**：在计算方案数时，利用等差数列求和公式来简化计算。

### 可拓展之处
1. **数位 DP**：虽然本题由于 $A_i$ 的范围太大，无法直接使用数位 DP，但在其他数位相关的题目中，数位 DP 是一种常见的解题方法。
2. **容斥原理**：在处理组合问题时，容斥原理是一种常用的技巧，可以简化复杂问题的计算。

### 推荐题目
1. [P2657 [SCOI2009] windy 数](https://www.luogu.com.cn/problem/P2657)
2. [P2602 [ZJOI2010] 数字计数](https://www.luogu.com.cn/problem/P2602)
3. [P4127 [AHOI2009] 同类分布](https://www.luogu.com.cn/problem/P4127)

### 个人心得摘录
- **调试经历**：在处理大数时，注意取模运算的顺序和范围，避免溢出。
- **踩坑教训**：在分类讨论时，确保所有情况都被覆盖，避免遗漏。
- **顿悟感想**：通过数位分析和数学推导，可以有效地简化复杂问题的计算。

---
处理用时：43.42秒
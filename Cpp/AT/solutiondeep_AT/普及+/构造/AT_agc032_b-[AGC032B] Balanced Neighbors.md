# 题目信息

# [AGC032B] Balanced Neighbors

## 题目描述

给定整数 $N$，构造一个从 $1$ 到 $N$ 编号的 $N$ 个节点的无向图，使得：

- 该图不含有重边和自环，并且是连通的。
- 每个节点的所有邻接节点的编号之和相同。

可以证明这样的图一定存在。

## 说明/提示

$3 \leq N \leq 100$。

【样例解释】

对于所有节点，其邻接节点的编号之和均为 $3$。

## 样例 #1

### 输入

```
3```

### 输出

```
2

1 3

2 3```

# AI分析结果

### 题目翻译
# [AGC032B] 平衡的邻居

## 题目描述
给定整数 $N$，构造一个从 $1$ 到 $N$ 编号的 $N$ 个节点的无向图，使得：
- 该图不含有重边和自环，并且是连通的。
- 每个节点的所有邻接节点的编号之和相同。

可以证明这样的图一定存在。

## 说明/提示
$3 \leq N \leq 100$。

【样例解释】
对于所有节点，其邻接节点的编号之和均为 $3$。

## 样例 #1
### 输入
```
3
```

### 输出
```
2
1 3
2 3
```

### 综合分析与结论
- **思路对比**：
    - 约瑟夫用脑玩的思路是先构造一个不连通但满足每个顶点及邻接顶点编号和为定值的图，然后取其补图得到满足条件的连通图。
    - ycy1124 的思路是从完全图出发，通过断开某些边使得每个点连接的点的编号和相等。
- **算法要点**：
    - 约瑟夫用脑玩：根据 $n$ 的奇偶性构造初始图，奇数时连边 $(1,n - 1),(2,n - 2),\dots$，偶数时连边 $(1,n),(2,n - 1),\dots$，再输出补图。
    - ycy1124：根据 $n$ 的奇偶性断开编号和为 $n$（$n$ 为奇数）或 $n + 1$（$n$ 为偶数）的两点间的边。
- **解决难点**：
    - 两者都需要处理 $n$ 为奇数和偶数的不同情况，前者是构造初始图时考虑，后者是断开边时考虑。

### 题解选择
- **约瑟夫用脑玩（4星）**：
    - **关键亮点**：思路独特，通过构造补图的方式解决问题，代码压行体现一定技巧。
    - **个人心得**：吐槽其他题解看不懂，强调自己思路的清晰性。
- **ycy1124（4星）**：
    - **关键亮点**：思路清晰，对断开边的操作有详细的证明，代码可读性较好。
    - **个人心得**：无

### 重点代码
#### 约瑟夫用脑玩
```cpp
int i,j,k=(n=read())&1;k=!k+n;writenum((n*(n-1)>>1)-(n>>1),10);
for(i=1;i<=n;i++)for(j=i+1;j<=n;j++)if((i+j)^k)writenum(i,32),writenum(j,10);
```
**核心实现思想**：先根据 $n$ 的奇偶性计算 $k$，然后计算补图的边数并输出，接着遍历所有可能的边，若边的端点编号和不等于 $k$ 则输出该边。

#### ycy1124
```cpp
#include<bits/stdc++.h>
using namespace std;
int n;
int main(){
    ios::sync_with_stdio(0),cin.tie(0),cout.tie(0);
    cin>>n;
    cout<<n*(n-1)/2-n/2<<'\n';
    for(int i=1;i<=n;i++){
        for(int j=i+1;j<=n;j++){
            if(i+j!=n+(n%2==0?1:0)){
                cout<<i<<' '<<j<<'\n';
            }
        }
    }
    return 0;
}
```
**核心实现思想**：先计算并输出图的边数，然后遍历所有可能的边，若边的端点编号和不等于 $n$（$n$ 为奇数）或 $n + 1$（$n$ 为偶数）则输出该边。

### 最优关键思路或技巧
- 思维方式上，两者都采用了逆向思维，约瑟夫用脑玩构造补图，ycy1124 从完全图断开边。
- 代码实现上，根据 $n$ 的奇偶性进行不同处理是关键技巧。

### 可拓展之处
同类型题可能会要求构造满足其他特定条件的图，类似算法套路可以是先从简单的图（如完全图）出发，通过添加或删除边来满足条件，或者构造一个中间图再进行转换。

### 洛谷相似题目推荐
- [P1341 无序字母对](https://www.luogu.com.cn/problem/P1341)
- [P1119 灾后重建](https://www.luogu.com.cn/problem/P1119)
- [P2820 局域网](https://www.luogu.com.cn/problem/P2820)

---
处理用时：27.61秒
# 题目信息

# [ARC121C] Odd Even Sort

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc121/tasks/arc121_c

$ (1,2,\ \ldots,\ N) $ を並び替えた数列 $ p $ が与えられます。 はじめ、$ p $ の第 $ n $ 項は $ p_{n} $ です。

あなたの目的は $ N^2 $ 回以下 *操作* を行い $ p $ を昇順に並び替えることです。 あなたは操作により以下のように $ p $ を変更することができます。

- **奇数** 回目の操作では $ 1 $ 以上 $ N-1 $ 以下の **奇数** $ n $ を選んで $ p_n $ と $ p_{n+1} $ を入れ替えます。
- **偶数** 回目の操作では $ 2 $ 以上 $ N-1 $ 以下の **偶数** $ n $ を選んで $ p_n $ と $ p_{n+1} $ を入れ替えます。

この問題の制約下で必ず目的を達成できることが証明できます。 そのような操作列を $ 1 $ つ求めてください。

$ T $ 個のテストケースが与えられるのでそれぞれについて答えを求めてください。

## 说明/提示

### 制約

- 与えられる入力は全て整数
- $ 1\ \leq\ T\ \leq\ 250 $
- $ 2\ \leq\ N\ \leq\ 500 $
- $ 1\ \leq\ p_i\ \leq\ N $
- $ p $ は $ (1,2,\ldots,N) $ を並び替えて得られる。
- $ 1 $ つの入力ファイルにおいて $ N $ の総和は $ 500 $ を超えない。

### Sample Explanation 1

\- $ 1 $ つ目のテストケースについて説明します。 - $ 1 $ 回目の操作で $ 1 $ を選ぶと $ p $ は $ (1,2,3,5,4) $ となります。 - $ 2 $ 回目の操作で $ 4 $ を選ぶと $ p $ は $ (1,2,3,4,5) $ となります。 - $ (1,4) $ は操作列として正しいですが、$ (4,1) $ は操作列として正しくないことに注意してください。 - 操作を $ 1 $ 度も行わなくともよいこと、操作回数を最小にする必要はないことに注意してください。

## 样例 #1

### 输入

```
2

5

2 1 3 5 4

2

1 2```

### 输出

```
2

1 4

0```

# AI分析结果

### 题目内容（中文重写）
# [ARC121C] 奇偶排序

## 题目描述
[problemUrl]: https://atcoder.jp/contests/arc121/tasks/arc121_c

给定一个由 $(1, 2, \ldots, N)$ 重新排列得到的数列 $p$。初始时，$p$ 的第 $n$ 项为 $p_{n}$。

你的目标是通过不超过 $N^2$ 次的 *操作* 将 $p$ 按升序排列。你可以通过操作对 $p$ 进行如下更改：
- **奇数次** 操作中，选择一个 $1$ 到 $N - 1$ 之间的 **奇数** $n$，交换 $p_n$ 和 $p_{n + 1}$。
- **偶数次** 操作中，选择一个 $2$ 到 $N - 1$ 之间的 **偶数** $n$，交换 $p_n$ 和 $p_{n + 1}$。

可以证明，在该问题的约束条件下，一定可以达成目标。请找出这样的一个操作序列。

给定 $T$ 个测试用例，请分别求出每个测试用例的答案。

## 说明/提示
### 约束条件
- 给定的输入均为整数。
- $1 \leq T \leq 250$
- $2 \leq N \leq 500$
- $1 \leq p_i \leq N$
- $p$ 是由 $(1, 2, \ldots, N)$ 重新排列得到的。
- 单个输入文件中 $N$ 的总和不超过 $500$。

### 样例解释 1
- 对第一个测试用例进行说明。
  - 第一次操作选择 $1$，则 $p$ 变为 $(1, 2, 3, 5, 4)$。
  - 第二次操作选择 $4$，则 $p$ 变为 $(1, 2, 3, 4, 5)$。
  - 注意，$(1, 4)$ 是正确的操作序列，但 $(4, 1)$ 不是正确的操作序列。
  - 注意，不需要进行任何操作，也不需要使操作次数最小。

## 样例 #1
### 输入
```
2
5
2 1 3 5 4
2
1 2
```
### 输出
```
2
1 4
0
```

### 综合分析与结论
- **思路对比**：
    - lmy_2011 和 wzt2012 思路类似，都是维护一个下标，采用递归方式，逐步将元素放到正确位置，处理奇偶性不一致时会浪费步数调整。
    - promise_ 采用类似冒泡排序，分别对奇数位置和偶数位置元素进行升序处理。
    - _luanyi_ 采用选择排序思想，从大到小让数右移到最终位置，处理奇偶性不一致时通过操作最左边位置浪费步数。
- **算法要点**：
    - lmy_2011 和 wzt2012 核心是递归调整元素位置，处理奇偶性。
    - promise_ 是分别遍历奇数和偶数位置进行冒泡排序。
    - _luanyi_ 是选择排序，通过特判操作避免死循环。
- **解决难点**：
    - 都需要解决操作奇偶性和元素位置奇偶性不一致的问题。lmy_2011 和 wzt2012 是通过特定交换浪费步数；promise_ 未详细提及处理方法；_luanyi_ 是操作最左边位置。

### 题解评分
- lmy_2011：3星，思路较清晰，但代码注释不够完善，递归逻辑较复杂。
- promise_：2星，思路简单，但未给出具体代码实现，缺乏细节。
- _luanyi_：3星，思路有创新，但代码中部分操作解释不够清晰，如防止死循环的操作。
- wzt2012：3星，代码完整，但递归逻辑较难理解。

由于所有题解均不足4星，以下给出通用建议与扩展思路：
- **通用建议**：在处理奇偶性不一致问题时，可以通过交换相邻元素来调整元素位置，使其满足操作奇偶性要求。同时，可采用递归或循环方式逐步将元素放到正确位置。
- **扩展思路**：此类问题可拓展到其他有操作限制的排序问题，如规定交换元素的间隔、交换元素的范围等。解题关键在于找到合适的方法处理操作限制，可借鉴冒泡排序、选择排序等基本排序算法的思想。

### 推荐洛谷题目
1. P1177 【模板】快速排序：考察基本排序算法的实现。
2. P1093 [NOIP2007 普及组] 奖学金：需要对学生成绩进行排序，可练习排序算法的应用。
3. P1271 [深基9.例1] 选举学生会：涉及对投票结果进行排序统计。

### 个人心得摘录与总结
- _luanyi_：“为什么是先 2 再 1 再 2 呢？实际上是我这么写了之后发现某样例不会死循环了之后交上去直接过了。” 总结：在调试过程中，可通过尝试不同操作序列来解决死循环等问题，实践是检验代码正确性的重要方法。 

---
处理用时：31.49秒
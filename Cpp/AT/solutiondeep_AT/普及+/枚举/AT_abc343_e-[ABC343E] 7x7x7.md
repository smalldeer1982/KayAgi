# 题目信息

# [ABC343E] 7x7x7

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc343/tasks/abc343_e

> 座標空間上に一辺 $ 7 $ の立方体を $ 3 $ つ、ちょうど $ 1,2,3 $ 個の立方体に含まれる領域の体積がそれぞれ $ V_1,V_2,V_3 $ となるように配置したいです。

$ 3 $ つの整数 $ a,b,c $ に対し、$ (a\leq\ x\leq\ a+7)\ \land\ (b\leq\ y\leq\ b+7)\ \land\ (c\leq\ z\leq\ c+7) $ で表される立方体領域を $ C(a,b,c) $ とおきます。

以下の条件を全て満たすような $ 9 $ つの整数 $ a_1,b_1,c_1,a_2,b_2,c_2,a_3,b_3,c_3 $ が存在するか判定し、存在するならば実際に $ 1 $ つ求めてください。

- $ |a_1|,|b_1|,|c_1|,|a_2|,|b_2|,|c_2|,|a_3|,|b_3|,|c_3|\ \leq\ 100 $
- $ C_i\ =\ C(a_i,b_i,c_i)\ (i=1,2,3) $ とおいたとき、
  - $ C_1,C_2,C_3 $ のうちちょうど $ 1 $ 個に含まれる領域の体積は $ V_1 $ である。
  - $ C_1,C_2,C_3 $ のうちちょうど $ 2 $ 個に含まれる領域の体積は $ V_2 $ である。
  - $ C_1,C_2,C_3 $ の全てに含まれる領域の体積は $ V_3 $ である。

## 说明/提示

### 制約

- $ 0\leq\ V_1,V_2,V_3\ \leq\ 3\times\ 7^3 $
- 入力は全て整数

### Sample Explanation 1

$ (a_1,b_1,c_1,a_2,b_2,c_2,a_3,b_3,c_3)=(0,0,0,0,6,0,6,0,0) $ の場合を考えます。 !\[\](https://img.atcoder.jp/abc343/aa534bf0a0e8e3f3487c5eeb540e54dc.png) この図は $ C_1,C_2,C_3 $ の位置関係を表したもので、それぞれ橙、水色、緑の立方体に対応しています。 このとき、 - $ |a_1|,|b_1|,|c_1|,|a_2|,|b_2|,|c_2|,|a_3|,|b_3|,|c_3| $ は全て $ 100 $ 以下 - $ C_1,C_2,C_3 $ の全てに含まれる領域は $ (6\leq\ x\leq\ 7)\land\ (6\leq\ y\leq\ 7)\ \land\ (0\leq\ z\leq\ 7) $ であり、その体積は $ (7-6)\times(7-6)\times(7-0)=7 $ - $ C_1,C_2,C_3 $ のうちちょうど $ 2 $ 個に含まれる領域は $ ((0\leq\ x\ <\ 6)\land\ (6\leq\ y\leq\ 7)\ \land\ (0\leq\ z\leq\ 7))\lor((6\leq\ x\leq\ 7)\land\ (0\leq\ y\ <\ 6)\ \land\ (0\leq\ z\leq\ 7)) $ であり、 その体積は $ (6-0)\times(7-6)\times(7-0)\times\ 2=84 $ - $ C_1,C_2,C_3 $ のうちちょうど $ 1 $ 個に含まれる領域の体積は $ 840 $ であり、条件を全て満たします。 $ (a_1,b_1,c_1,a_2,b_2,c_2,a_3,b_3,c_3)=(-10,\ 0,\ 0,\ -10,\ 0,\ 6,\ -10,\ 6,\ 1) $ なども同様に条件を全て満たすため、正当な出力として判定されます。

### Sample Explanation 2

条件を全て満たすような $ 9 $ つの整数 $ a_1,b_1,c_1,a_2,b_2,c_2,a_3,b_3,c_3 $ は存在しません。

## 样例 #1

### 输入

```
840 84 7```

### 输出

```
Yes
0 0 0 0 6 0 6 0 0```

## 样例 #2

### 输入

```
343 34 3```

### 输出

```
No```

# AI分析结果

### 题目翻译
在坐标空间上，想要放置 3 个边长为 7 的立方体，使得恰好被 1、2、3 个立方体包含的区域的体积分别为 $V_1$、$V_2$、$V_3$。

对于 3 个整数 $a$、$b$、$c$，将由 $(a\leq x\leq a + 7)\ \land\ (b\leq y\leq b + 7)\ \land\ (c\leq z\leq c + 7)$ 表示的立方体区域记为 $C(a,b,c)$。

判断是否存在满足以下所有条件的 9 个整数 $a_1$、$b_1$、$c_1$、$a_2$、$b_2$、$c_2$、$a_3$、$b_3$、$c_3$，若存在则实际求出一组：
- $|a_1|$、$|b_1|$、$|c_1|$、$|a_2|$、$|b_2|$、$|c_2|$、$|a_3|$、$|b_3|$、$|c_3|\ \leq\ 100$
- 设 $C_i = C(a_i,b_i,c_i)\ (i = 1,2,3)$ 时：
  - 恰好被 $C_1$、$C_2$、$C_3$ 中的 1 个包含的区域的体积为 $V_1$。
  - 恰好被 $C_1$、$C_2$、$C_3$ 中的 2 个包含的区域的体积为 $V_2$。
  - 被 $C_1$、$C_2$、$C_3$ 全部包含的区域的体积为 $V_3$。

### 综合分析与结论
这些题解的核心思路都是通过枚举三个立方体的顶点坐标，然后判断是否满足给定的体积条件。不同题解在枚举范围和判断方式上有所差异。
- **思路**：大部分题解采用固定一个立方体位置，枚举另外两个立方体顶点坐标的方法，减少枚举量。
- **算法要点**：需要实现计算两个或三个立方体重叠部分体积的函数，通过容斥原理计算出恰好被 1、2、3 个立方体包含的区域的体积。
- **解决难点**：主要难点在于如何减少枚举次数，以及准确计算重叠部分的体积。

### 题解评分
- **wenlebo**：3 星。思路简单直接，但枚举范围较大，时间复杂度较高。
- **_Weslie_**：4 星。通过固定一个立方体位置，缩小了枚举范围，时间复杂度可接受，思路清晰。
- **kczw**：3 星。对枚举范围进行了一定优化，但整体复杂度仍较高。
- **kkxacj**：3 星。思路与其他题解类似，但代码实现稍显复杂。
- **FReQuenter**：2 星。仅给出思路框架，未给出具体实现。

### 所选题解
- **_Weslie_**：4 星。关键亮点在于固定一个立方体位置，将枚举范围缩小到 $[-7,7]$，降低了时间复杂度。

### 重点代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int f1(int a1,int b1,int c1,int a2,int b2,int c2) {
    int res=1;
    res*=max(0,min(a1,a2)+7-max(a1,a2));
    res*=max(0,min(b1,b2)+7-max(b1,b2));
    res*=max(0,min(c1,c2)+7-max(c1,c2));
    return res;
}
int f2(int a1,int b1,int c1,int a2,int b2,int c2,int a3,int b3,int c3) {
    int res=1;
    res*=max(0,min(min(a1,a2),a3)+7-max(max(a1,a2),a3));
    res*=max(0,min(min(b1,b2),b3)+7-max(max(b1,b2),b3));
    res*=max(0,min(min(c1,c2),c3)+7-max(max(c1,c2),c3));
    return res;
}
int a,b,c;
int main() {
    scanf("%d%d%d",&a,&b,&c);
    if(a+2*b+3*c!=1029) {
        printf("No");
        return 0;
    }
    int x[4],y[4],z[4],rx;
    int x2,y2,z2,x3,y3,z3;
    for(x2=-7; x2<=7; x2++) {
        for(y2=-7; y2<=7; y2++) {
            for(z2=-7; z2<=7; z2++) {
                for(x3=-7; x3<=7; x3++) {
                    for(y3=-7; y3<=7; y3++) {
                        for(z3=-7; z3<=7; z3++) {
                            int three= f2(0,0,0,x2,y2,z2,x3,y3,z3);
                            int ab= f1(0,0,0,x2,y2,z2),
                                bc= f1(x2,y2,z2,x3,y3,z3),
                                ac= f1(0,0,0,x3,y3,z3);
                            int two=bc+ac+ab-3*three;
                            if(two==b&&three==c){
                                printf("Yes\n0 0 0 %d %d %d %d %d %d",x2,y2,z2,x3,y3,z3);
                                exit(0);
                            }
                        }
                    }
                }
            }
        }
    }
    cout<<"No";
    return 0;
}
```
**核心实现思想**：
- `f1` 函数用于计算两个立方体的重叠体积。
- `f2` 函数用于计算三个立方体的重叠体积。
- 固定第一个立方体顶点为 $(0,0,0)$，枚举另外两个立方体顶点坐标，计算重叠体积，判断是否满足条件。

### 最优关键思路或技巧
固定一个立方体的位置，缩小枚举范围，降低时间复杂度。同时，利用容斥原理计算重叠部分的体积，避免重复计算。

### 可拓展之处
同类型题可能会改变立方体的边长、立方体的数量或增加其他限制条件。类似算法套路是通过枚举和容斥原理来解决几何图形的重叠问题。

### 推荐题目
- [P1404 平均数](https://www.luogu.com.cn/problem/P1404)：涉及枚举和计算。
- [P1007 独木桥](https://www.luogu.com.cn/problem/P1007)：需要一定的思维转换和枚举。
- [P1047 校门外的树](https://www.luogu.com.cn/problem/P1047)：涉及区间重叠问题，可使用类似容斥的思想。

### 个人心得
**_Weslie_**：比赛时题目数据过弱，把错误做法放过去了，感谢 @CheZiHe929 提供的 hack。总结：做题时要确保算法的正确性，不能依赖弱数据通过。 

---
处理用时：39.25秒
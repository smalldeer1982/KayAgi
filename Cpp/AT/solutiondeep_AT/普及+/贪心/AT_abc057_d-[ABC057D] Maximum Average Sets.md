# 题目信息

# [ABC057D] Maximum Average Sets

## 题目描述

你有 $n$ 个物品，第 $i$ 个物品的价值为 $v_i$。
你需要从这些物品中选择 $A$ 个以上，$B$ 个以下的物品，计算出所选物品平均值的最大值，并求出能使选择物品的平均值最大的选择方法有几种。

## 说明/提示

#### 数据规模与约定
对于 $100\%$ 的测试点数据，保证：
- $1\le a\le b\le n\le50$
- $1\le v_i\le10^{15}$
- $v_i$ 全部为整数。

#### 样例 $1$ 解释
选择第 $4$ 个物品和第 $5$ 个物品，价值的平均值是最大的，所以第一行输出 $4.5$。另外，由于除此之外的物品的选择方法中没有价值平均值为 $4.5$ 的东西，所以第二行输出 $1$。

#### 样例 $2$ 解释
物品价值平均值最大的物品的选择方法可能有多个。

---
翻译：@[Wuzetong](https://www.luogu.com.cn/user/1219873)

## 样例 #1

### 输入

```
5 2 2

1 2 3 4 5```

### 输出

```
4.500000

1```

## 样例 #2

### 输入

```
4 2 3

10 20 10 10```

### 输出

```
15.000000

3```

## 样例 #3

### 输入

```
5 1 5

1000000000000000 999999999999999 999999999999998 999999999999997 999999999999996```

### 输出

```
1000000000000000.000000

1```

## 样例 #4

### 输入

```
50 1 50

1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1```

### 输出

```
1.000000

1125899906842623```

# AI分析结果

### 题目内容重写
# [ABC057D] Maximum Average Sets

## 题目描述

你有 $n$ 个物品，第 $i$ 个物品的价值为 $v_i$。
你需要从这些物品中选择 $A$ 个以上，$B$ 个以下的物品，计算出所选物品平均值的最大值，并求出能使选择物品的平均值最大的选择方法有几种。

## 说明/提示

#### 数据规模与约定
对于 $100\%$ 的测试点数据，保证：
- $1\le a\le b\le n\le50$
- $1\le v_i\le10^{15}$
- $v_i$ 全部为整数。

#### 样例 $1$ 解释
选择第 $4$ 个物品和第 $5$ 个物品，价值的平均值是最大的，所以第一行输出 $4.5$。另外，由于除此之外的物品的选择方法中没有价值平均值为 $4.5$ 的东西，所以第二行输出 $1$。

#### 样例 $2$ 解释
物品价值平均值最大的物品的选择方法可能有多个。

---

翻译：@[Wuzetong](https://www.luogu.com.cn/user/1219873)

## 样例 #1

### 输入

```
5 2 2

1 2 3 4 5```

### 输出

```
4.500000

1```

## 样例 #2

### 输入

```
4 2 3

10 20 10 10```

### 输出

```
15.000000

3```

## 样例 #3

### 输入

```
5 1 5

1000000000000000 999999999999999 999999999999998 999999999999997 999999999999996```

### 输出

```
1000000000000000.000000

1```

## 样例 #4

### 输入

```
50 1 50

1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1```

### 输出

```
1.000000

1125899906842623```

### 题解分析与结论

本题的核心是通过贪心策略找到最大平均值，并计算达到该平均值的方案数。各题解普遍采用了排序和组合数的思路，但在细节处理和代码实现上有所不同。

### 所选高星题解

#### 题解1：jzzcjb (4星)
**关键亮点**：
- 清晰的贪心思路，排序后选取前 $A$ 个最大数。
- 详细解释了方案数的计算，特别是临界值的处理。
- 代码结构清晰，预处理组合数，避免了重复计算。

**个人心得**：
- 通过排序和组合数的结合，简化了方案数的计算。
- 特判临界值与最大值相等的情况，确保方案数的正确性。

**核心代码**：
```cpp
void init(){
    C[0][0]=1;
    for(int i=1;i<=50;i++){
        C[i][0]=1;
        for(int j=1;j<=i;j++)
        C[i][j]=C[i-1][j]+C[i-1][j-1];
    }
}
```

#### 题解2：ycy1124 (4星)
**关键亮点**：
- 贪心策略的详细证明，确保选取前 $A$ 个数的正确性。
- 方案数的计算通过预处理组合数优化，避免了重复计算。
- 代码结构清晰，逻辑严谨。

**核心代码**：
```cpp
for(int i=1;i<=50;i++){
    work[i][0]=1;
    for(int j=1;j<=i;j++){
        work[i][j]=work[i-1][j-1]+work[i-1][j];
    }
}
```

#### 题解3：qi__ (4星)
**关键亮点**：
- 详细解释了组合数的计算方法，特别是递推式的使用。
- 通过排序和组合数的结合，简化了方案数的计算。
- 代码结构清晰，逻辑严谨。

**核心代码**：
```cpp
c[0][0]=1;
for(int i=1;i<=50;i++){
    c[i][0]=1;
    for(int j=1;j<=i;j++)
        c[i][j]=c[i-1][j]+c[i-1][j-1];
}
```

### 最优关键思路与技巧
1. **贪心策略**：通过排序选取前 $A$ 个最大数，确保平均值最大。
2. **组合数预处理**：通过递推公式预处理组合数，避免重复计算。
3. **临界值处理**：特判临界值与最大值相等的情况，确保方案数的正确性。

### 可拓展之处
- 类似问题可以扩展到更大数据范围，考虑使用动态规划或更高效的组合数计算方法。
- 可以结合其他算法如二分查找，进一步优化方案数的计算。

### 推荐题目
1. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)
2. [P1091 合唱队形](https://www.luogu.com.cn/problem/P1091)
3. [P1048 采药](https://www.luogu.com.cn/problem/P1048)

### 个人心得总结
- 通过排序和组合数的结合，简化了方案数的计算。
- 特判临界值与最大值相等的情况，确保方案数的正确性。
- 预处理组合数，避免了重复计算，提高了代码效率。

---
处理用时：45.40秒
# 题目信息

# [AGC053B] Taking the middle

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc053/tasks/agc053_b

$ 2N $ 枚のカードがあり、それぞれには $ 1 $ から $ 2N $ までの番号が付いています。カード $ i $ の価値は $ V_i $ です。 高橋君と青木君は以下の手順を $ N $ 回繰り返し、カードを $ N $ 枚ずつに分配します。

- まず、高橋君がまだ選ばれてないカードの中から $ 1 $ 枚選び、自分のものとする。 その後、青木君はまだ選ばれてないカードのうち **番号** が中央値であるものを選び、自分のものとする。

高橋君が最終的に持っているカードの価値の総和として考えられる最大の値を求めてください。

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 2\times\ 10^5 $
- $ 0\leq\ V_i\leq\ 10^9 $
- $ V_i $ は整数

### Sample Explanation 1

以下のような手順で、高橋君はカード $ 4,5,6 $ を手にすることができます。 - まず、高橋君はカード $ 6 $ を選ぶ。そして、青木君はカード $ 3 $ を選ぶ。 - 次に、高橋君はカード $ 5 $ を選ぶ。そして、青木君はカード $ 2 $ を選ぶ。 - 最後に、高橋君はカード $ 4 $ を選ぶ。そして、青木君はカード $ 1 $ を選ぶ。

## 样例 #1

### 输入

```
3

1 2 3 4 5 6```

### 输出

```
15```

## 样例 #2

### 输入

```
4

1 4 5 8 7 6 3 2```

### 输出

```
20```

# AI分析结果

### 题目内容重写

$2N$ 张卡片，每张卡片上标有从 $1$ 到 $2N$ 的编号，卡片 $i$ 的价值为 $V_i$。高桥君和青木君按照以下步骤进行 $N$ 轮分配：

1. 高桥君从未被选中的卡片中选择一张，作为自己的卡片。
2. 青木君从未被选中的卡片中选择编号为**中位数**的卡片，作为自己的卡片。

求高桥君最终持有的卡片价值总和的最大值。

### 样例 #1

#### 输入

```
3

1 2 3 4 5 6
```

#### 输出

```
15
```

### 样例 #2

#### 输入

```
4

1 4 5 8 7 6 3 2
```

#### 输出

```
20
```

### 题解分析与结论

#### 题解对比与评分

1. **suzhikz (赞：6)**
   - **星级：4**
   - **关键亮点**：通过优先队列维护中位数的最小值，思路清晰，代码简洁。
   - **核心代码**：
     ```cpp
     q.push(a[i]);q.push(a[n*2+1-i]);
     ans+=a[i];ans+=a[n*2+1-i];
     ans-=q.top();q.pop();
     ```
   - **总结**：通过优先队列动态维护中位数的最小值，确保高桥君能拿到最大价值的卡片。

2. **ImposterAnYu (赞：1)**
   - **星级：4**
   - **关键亮点**：将问题转化为让青木君取到的最小值，使用小根堆维护，思路清晰。
   - **核心代码**：
     ```cpp
     for(l = n,r = n + 1; l >= 1; l--,r++){
         q.push(a[l]),q.push(a[r]);
         ans -= q.top();
         q.pop();
     }
     ```
   - **总结**：通过小根堆维护青木君取到的卡片的最小值，确保高桥君能拿到最大价值的卡片。

3. **Xiphi (赞：0)**
   - **星级：4**
   - **关键亮点**：形象化地描述问题，使用优先队列维护最小值，代码简洁。
   - **核心代码**：
     ```cpp
     while(T--){
         pq.push(v[l]);
         pq.push(v[r]);
         pq.pop();
         l--,r++;
     }
     ```
   - **总结**：通过优先队列动态维护最小值，确保高桥君能拿到最大价值的卡片。

#### 最优关键思路与技巧

- **优先队列维护最小值**：通过优先队列（小根堆）动态维护青木君取到的卡片的最小值，确保高桥君能拿到最大价值的卡片。
- **问题转化**：将问题转化为让青木君取到的最小值，从而间接最大化高桥君的价值。

#### 可拓展之处

- **类似问题**：可以拓展到其他需要动态维护最小值或最大值的问题，如任务调度、资源分配等。
- **算法套路**：优先队列在贪心算法中的应用，尤其是在需要动态维护极值的情况下。

#### 推荐题目

1. **洛谷 P1886 滑动窗口**：考察滑动窗口中的最大值和最小值，使用优先队列维护。
2. **洛谷 P1090 合并果子**：考察优先队列在贪心算法中的应用。
3. **洛谷 P3378 堆**：考察堆的基本操作和应用。

#### 个人心得摘录

- **suzhikz**：通过优先队列动态维护中位数的最小值，确保高桥君能拿到最大价值的卡片。
- **ImposterAnYu**：将问题转化为让青木君取到的最小值，使用小根堆维护，思路清晰。
- **Xiphi**：形象化地描述问题，使用优先队列维护最小值，代码简洁。

### 结论

通过优先队列动态维护最小值，确保高桥君能拿到最大价值的卡片，是解决该问题的关键思路。推荐使用优先队列（小根堆）来维护青木君取到的卡片的最小值，从而间接最大化高桥君的价值。

---
处理用时：35.57秒
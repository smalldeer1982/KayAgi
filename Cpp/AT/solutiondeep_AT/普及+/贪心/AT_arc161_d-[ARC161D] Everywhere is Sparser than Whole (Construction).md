# 题目信息

# [ARC161D] Everywhere is Sparser than Whole (Construction)

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc161/tasks/arc161_d

頂点集合が空でない単純無向グラフの**密度**を $ \displaystyle\frac{(辺数)}{(頂点数)} $ と定義します．

正整数 $ N,\ D $ が与えられます． $ N $ 頂点 $ DN $ 辺の単純無向グラフ $ G $ であって，以下の条件を満たすものが存在するかどうかを判定し，存在するならそのようなグラフを $ 1 $ つ求めてください．

**条件:** $ G $ の頂点集合を $ V $ とする． $ V $ の任意の空でない**真**部分集合 $ X $ に対して，$ X $ による $ G $ の誘導部分グラフの密度は $ D $ **未満**である．

 誘導部分グラフとは

 グラフ $ G $ の頂点部分集合 $ X $ に対して，$ X $ による $ G $ の**誘導部分グラフ**とは，「頂点集合が $ X $ であり，辺集合が『 $ G $ の辺であって $ X $ 内の $ 2 $ 頂点を結ぶもの全体』であるグラフ」を指します． 上記の条件では，頂点部分集合として空集合でも全体でもないもののみを考えていることに注意してください．

## 说明/提示

### 制約

- $ N\ \geq\ 1 $
- $ D\ \geq\ 1 $
- $ DN\ \leq\ 5\ \times\ 10^4 $
 
### Sample Explanation 1

出力されたグラフの頂点集合は $ \{1,\ 2,\ 3\} $，辺集合は $ \{(1,\ 2),\ (1,\ 3),\ (2,\ 3)\} $ であり，単純です． 頂点集合の空でない真部分集合 $ X $ としては $ \{1\},\ \{2\},\ \{3\},\ \{1,\ 2\},\ \{1,\ 3\},\ \{2,\ 3\} $ の $ 6 $ 通りが考えられ， - $ X\ =\ \{1\},\ \{2\},\ \{3\} $ のとき，$ X $ による誘導部分グラフの辺集合は空集合であり，その密度は $ \displaystyle\frac{0}{1}\ =\ 0 $， - $ X\ =\ \{1,\ 2\},\ \{1,\ 3\},\ \{2,\ 3\} $ のとき，$ X $ による誘導部分グラフの辺集合はそれぞれ $ \{(1,\ 2)\},\ \{(1,\ 3)\},\ \{(2,\ 3)\} $ であり，いずれも密度は $ \displaystyle\frac{1}{2} $ です． 全ての場合に対して誘導部分グラフの密度は $ D\ =\ 1 $ 未満であり，このグラフは条件を満たします．

### Sample Explanation 2

$ 4 $ 頂点 $ 8 $ 辺の単純無向グラフは存在しません．

## 样例 #1

### 输入

```
3 1```

### 输出

```
Yes

1 2

1 3

2 3```

## 样例 #2

### 输入

```
4 2```

### 输出

```
No```

# AI分析结果

### 题目内容重写

**题目描述：**

定义一个非空简单无向图的**密度**为 $ \displaystyle\frac{(边数)}{(顶点数)} $。

给定正整数 $ N,\ D $，要求构造一个 $ N $ 顶点 $ DN $ 边的简单无向图 $ G $，满足以下条件：

**条件:** $ G $ 的顶点集合为 $ V $。对于 $ V $ 的任意非空**真**子集 $ X $，$ X $ 诱导的 $ G $ 的子图的密度严格小于 $ D $。

**诱导子图的定义：**

对于图 $ G $ 的顶点子集 $ X $，$ X $ 诱导的 $ G $ 的子图是指顶点集为 $ X $，边集为 $ G $ 中所有连接 $ X $ 内顶点的边的图。

**提示：**

- $ N\ \geq\ 1 $
- $ D\ \geq\ 1 $
- $ DN\ \leq\ 5\ \times\ 10^4 $

### 样例解释

**样例 1:**

输入：
```
3 1
```
输出：
```
Yes
1 2
1 3
2 3
```

**样例 2:**

输入：
```
4 2
```
输出：
```
No
```

### 题解分析与结论

#### 综合分析

1. **无解条件：** 所有题解都指出，当 $ DN > \frac{N(N-1)}{2} $ 时，无法构造满足条件的图，因为图的边数超过了最大可能值。
2. **构造方法：** 大多数题解提出了通过让每个点的度数相同来构造图。具体来说，每个点向其后 $ D $ 个点连边，确保每个点的度数为 $ 2D $，从而满足条件。
3. **证明思路：** 部分题解通过数学推导证明了这种构造方法的正确性，特别是通过分析子图的密度来确保条件成立。

#### 最优关键思路

- **度数平衡：** 通过让每个点的度数相同，确保图的平衡性，从而避免某些子图的密度过大。
- **迭代构造：** 通过迭代的方式，逐步增加每个点的度数，确保最终每个点的度数为 $ 2D $。

#### 推荐题解

1. **作者：incra (★★★★★)**
   - **关键亮点：** 详细证明了构造方法的正确性，并提供了清晰的代码实现。
   - **代码核心思想：** 通过迭代 $ D $ 轮，每轮让每个点向其后的 $ D $ 个点连边，确保每个点的度数为 $ 2D $。
   ```cpp
   for (int len = 1;len <= d;len++) {
       for (int i = 1;i <= n;i++) {
           int ni = (i + len - 1) % n + 1;
           cout << i << ' ' << ni << endl;
       }
   }
   ```

2. **作者：Lucyna_Kushinada (★★★★☆)**
   - **关键亮点：** 提出了感性的理解方式，并提供了简洁的代码实现。
   - **代码核心思想：** 每个点向其编号后 $ D $ 个点连边，确保图的平衡性。
   ```cpp
   rep(i,1,n){
       rep(j,1,d){
           int u=(i+j-1)%n+1;
           cout << i << ' ' << u << "\n";
       }
   }
   ```

3. **作者：FreedomKing (★★★★☆)**
   - **关键亮点：** 通过环状构造图，确保每个点的度数相同，并提供了简洁的代码实现。
   - **代码核心思想：** 每个点向其后的 $ D $ 个点连边，注意边界处理。
   ```cpp
   for(int i=1;i<=n;i++)
       for(int j=1;j<=d;j++)
           cout << i << ' ' << ((i+j>n)?(i+j-n):(i+j)) << '\n';
   ```

### 可拓展之处

- **类似问题：** 可以扩展到其他需要构造特定性质的图的问题，如正则图、哈密尔顿图等。
- **算法套路：** 通过度数平衡和迭代构造的方法，可以应用于其他需要构造特定度数分布的图的问题。

### 推荐题目

1. [P3381 【模板】最小费用最大流](https://www.luogu.com.cn/problem/P3381)
2. [P3376 【模板】网络最大流](https://www.luogu.com.cn/problem/P3376)
3. [P3388 【模板】割点](https://www.luogu.com.cn/problem/P3388)

### 个人心得摘录

- **incra:** 第一次做出 ARC 的 D 题，通过迭代构造的方法成功解决了问题。
- **Lucyna_Kushinada:** 通过感性的理解方式，发现构造平衡图是解决问题的关键。
- **FreedomKing:** 通过环状构造图，确保每个点的度数相同，从而满足条件。

---
处理用时：41.80秒
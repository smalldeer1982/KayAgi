# 题目信息

# [AGC053B] Taking the middle

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc053/tasks/agc053_b

$ 2N $ 枚のカードがあり、それぞれには $ 1 $ から $ 2N $ までの番号が付いています。カード $ i $ の価値は $ V_i $ です。 高橋君と青木君は以下の手順を $ N $ 回繰り返し、カードを $ N $ 枚ずつに分配します。

- まず、高橋君がまだ選ばれてないカードの中から $ 1 $ 枚選び、自分のものとする。 その後、青木君はまだ選ばれてないカードのうち **番号** が中央値であるものを選び、自分のものとする。

高橋君が最終的に持っているカードの価値の総和として考えられる最大の値を求めてください。

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 2\times\ 10^5 $
- $ 0\leq\ V_i\leq\ 10^9 $
- $ V_i $ は整数

### Sample Explanation 1

以下のような手順で、高橋君はカード $ 4,5,6 $ を手にすることができます。 - まず、高橋君はカード $ 6 $ を選ぶ。そして、青木君はカード $ 3 $ を選ぶ。 - 次に、高橋君はカード $ 5 $ を選ぶ。そして、青木君はカード $ 2 $ を選ぶ。 - 最後に、高橋君はカード $ 4 $ を選ぶ。そして、青木君はカード $ 1 $ を選ぶ。

## 样例 #1

### 输入

```
3

1 2 3 4 5 6```

### 输出

```
15```

## 样例 #2

### 输入

```
4

1 4 5 8 7 6 3 2```

### 输出

```
20```

# AI分析结果

### 题目内容重写

$2N$ 张卡片，编号从 $1$ 到 $2N$，每张卡片的价值为 $V_i$。高桥君和青木君按照以下步骤进行 $N$ 轮分配：

1. 高桥君从未被选中的卡片中选择一张，归自己所有。
2. 青木君从未被选中的卡片中选择编号为**中位数**的卡片，归自己所有。

求高桥君最终持有的卡片价值总和的最大值。

### 题解分析与结论

#### 综合分析与结论

各题解的核心思路是通过贪心策略，利用优先队列（小根堆）来维护青木君可能选择的最小值，从而最大化高桥君的选择。具体来说，每次高桥君选择一张卡片后，青木君会选择当前未被选中的卡片中编号为中位数的卡片。通过维护一个优先队列，可以确保青木君每次选择的是当前可选卡片中的最小值，从而让高桥君获得更大的价值。

#### 所选高分题解

1. **作者：suzhikz (赞：6)**  
   **星级：5**  
   **关键亮点：**  
   - 通过维护一个小根堆，确保青木君每次选择的是当前可选卡片中的最小值。
   - 代码简洁，思路清晰，直接通过优先队列实现贪心策略。

   **核心代码：**
   ```cpp
   q.push(a[i]); q.push(a[n*2+1-i]);
   ans += a[i]; ans += a[n*2+1-i];
   ans -= q.top(); q.pop();
   ```

2. **作者：ImposterAnYu (赞：1)**  
   **星级：4**  
   **关键亮点：**  
   - 将卡片分为前后两段，通过栈的方式模拟选择过程。
   - 通过优先队列维护青木君的选择，确保高桥君获得最大价值。

   **核心代码：**
   ```cpp
   for(l = n, r = n + 1; l >= 1; l--, r++) {
       q.push(a[l]), q.push(a[r]);
       ans -= q.top();
       q.pop();
   }
   ```

3. **作者：hellolin (赞：0)**  
   **星级：4**  
   **关键亮点：**  
   - 通过优先队列实现贪心策略，确保青木君每次选择最小值。
   - 代码结构清晰，易于理解。

   **核心代码：**
   ```cpp
   for(int i = 1; i <= n; i++) {
       q.push(v[n - i + 1]);
       q.push(v[n + i]);
       q.pop();
   }
   ```

### 最优关键思路与技巧

- **贪心策略：** 通过优先队列（小根堆）维护青木君的选择，确保每次选择最小值，从而最大化高桥君的选择。
- **数据结构：** 优先队列是解决此类问题的关键数据结构，能够高效地维护当前可选的最小值。
- **思维模式：** 正难则反，通过让青木君选择最小值，间接最大化高桥君的选择。

### 可拓展之处

- **类似问题：** 可以扩展到其他需要最大化或最小化选择的场景，如任务调度、资源分配等。
- **算法套路：** 贪心算法结合优先队列是解决此类问题的常见套路，可以应用于多种类似场景。

### 推荐题目

1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
2. [P1168 中位数](https://www.luogu.com.cn/problem/P1168)
3. [P1886 滑动窗口](https://www.luogu.com.cn/problem/P1886)

---
处理用时：28.24秒
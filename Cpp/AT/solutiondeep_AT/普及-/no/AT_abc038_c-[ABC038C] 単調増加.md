# 题目信息

# [ABC038C] 単調増加

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc038/tasks/abc038_c

$ N $個の数からなる数列が与えられます。$ i $番目の数を$ a_i $と呼びましょう。

$ a_l,a_{l+1},...,a_r $ が単調増加、すなわち $ l≦r $ であって $ a_i\ <\ a_{i+1} $ が$ l≦i\ <\ r $ を満たす全ての$ i $に対して成り立つような$ (l,r) $の数を求めてください。

## 说明/提示

### 制約

- $ 1≦N≦10^5 $
- $ 1≦a_i≦10^5 $
- $ a_i $は全て整数である

### 部分点

- $ N\ ≦\ 3,000 $ を満たすテストケース全てに正解した場合、部分点として$ 40 $点が与えられる。

### Sample Explanation 1

条件を満たす$ (l,r) $は$ (1,1),(1,2),(1,3),(2,2),(2,3),(3,3),(4,4),(5,5) $の$ 8 $つです。

### Sample Explanation 2

$ 1≦l≦r≦N $を満たす$ (l,r) $全てが条件を満たします。

### Sample Explanation 3

例えば、$ 3,\ 3,\ 4 $はこの問題で単調増加ではないことに注意してください。

## 样例 #1

### 输入

```
5

1 2 3 2 1```

### 输出

```
8```

## 样例 #2

### 输入

```
4

1 2 3 4```

### 输出

```
10```

## 样例 #3

### 输入

```
6

3 3 4 1 2 2```

### 输出

```
8```

## 样例 #4

### 输入

```
6

1 5 2 3 4 2```

### 输出

```
10```

# AI分析结果

### 题目内容重写
#### [ABC038C] 单调递增

**题目描述**

给定一个由 $N$ 个数组成的数列，第 $i$ 个数记为 $a_i$。

要求找出所有满足 $a_l, a_{l+1}, ..., a_r$ 单调递增的子序列，即对于所有 $l \leq i < r$，都有 $a_i < a_{i+1}$。求这样的子序列的个数。

**说明/提示**

**约束条件**

- $1 \leq N \leq 10^5$
- $1 \leq a_i \leq 10^5$
- $a_i$ 均为整数

**部分分**

- 对于 $N \leq 3,000$ 的测试用例，正确解答将获得 40 分的部分分。

**样例解释**

**样例 1**

输入：
```
5
1 2 3 2 1
```
输出：
```
8
```
符合条件的子序列为：$(1,1),(1,2),(1,3),(2,2),(2,3),(3,3),(4,4),(5,5)$。

**样例 2**

输入：
```
4
1 2 3 4
```
输出：
```
10
```
所有子序列均符合条件。

**样例 3**

输入：
```
6
3 3 4 1 2 2
```
输出：
```
8
```
注意：$3, 3, 4$ 不符合单调递增的条件。

**样例 4**

输入：
```
6
1 5 2 3 4 2
```
输出：
```
10
```

### 算法分类
递推

### 题解分析与结论

#### 综合分析
题目要求统计所有单调递增的子序列的个数。由于 $N$ 的范围较大（$10^5$），需要使用 $O(n)$ 的算法来解决。各题解主要通过递推的方式，利用当前元素与前一个元素的关系来更新单调递增子序列的长度，并累加到答案中。

#### 题解评分与亮点
1. **btng_smith666 (5星)**
   - **亮点**：代码简洁，思路清晰，直接通过一个临时变量 $k$ 来记录当前单调递增子序列的长度，并在满足条件时累加到答案中。
   - **代码核心**：
     ```cpp
     if(tmp < a)
         ans += ++k;
     else
         k = 0;
     tmp = a;
     ```

2. **CZQ_King (4星)**
   - **亮点**：使用数组存储前一个元素，通过判断当前元素是否大于前一个元素来更新单调递增子序列的长度，并累加到答案中。
   - **代码核心**：
     ```cpp
     if(v[i] > v[i-1])
         l++, ans += l;
     else
         l = 0;
     ```

3. **梦理乾坤 (4星)**
   - **亮点**：与 btng_smith666 的思路类似，但使用了更详细的变量名，代码可读性较高。
   - **代码核心**：
     ```cpp
     if(x > la)
         l++, ans += l;
     else
         l = 0;
     la = x;
     ```

### 最优关键思路
通过递推的方式，利用当前元素与前一个元素的关系来更新单调递增子序列的长度，并累加到答案中。这种方法的时间复杂度为 $O(n)$，能够高效地解决问题。

### 可拓展之处
类似的问题可以扩展到统计其他类型的子序列，如单调递减、非递减等。通过类似的递推思路，可以高效地解决这些问题。

### 推荐题目
1. [P1102 A-B 数对](https://www.luogu.com.cn/problem/P1102)
2. [P1631 序列合并](https://www.luogu.com.cn/problem/P1631)
3. [P1886 滑动窗口](https://www.luogu.com.cn/problem/P1886)

### 个人心得摘录
- **btng_smith666**：通过 $TLE$ 的打击后，发现可以去掉循环嵌套的步骤，直接使用 $O(n)$ 的算法解决问题。
- **梦理乾坤**：记住初始 $ans = n$，因为每一个单个元素都可以是一个单调子串。

---
处理用时：25.22秒
# 题目信息

# [ABC047B] すぬけ君の塗り絵 2 イージー

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc047/tasks/abc047_b

$ xy $ 平面上に、左下の座標が $ (0,\ 0) $、右上の座標が $ (W,\ H) $ で、各辺が $ x $ 軸か $ y $ 軸に平行な長方形があります。最初、長方形の内部は白く塗られています。

すぬけ君はこの長方形の中に $ N $ 個の点を打ちました。$ i $ 個目 ($ 1\ ≦\ i\ ≦\ N $) 点の座標は $ (x_i,\ y_i) $ でした。

また、すぬけ君は長さ $ N $ の数列 $ a $ を決めて、各 $ 1\ ≦\ i\ ≦\ N $ に対し、

- $ a_i\ =\ 1 $ のときは長方形の $ x\ <\ x_i $ をみたす領域
- $ a_i\ =\ 2 $ のときは長方形の $ x\ >\ x_i $ をみたす領域
- $ a_i\ =\ 3 $ のときは長方形の $ y\ <\ y_i $ をみたす領域
- $ a_i\ =\ 4 $ のときは長方形の $ y\ >\ y_i $ をみたす領域

を黒く塗りました。

塗りつぶしが終わったあとの長方形内での白い部分の面積を求めてください。

## 说明/提示

### 制約

- $ 1\ ≦\ W,\ H\ ≦\ 100 $
- $ 1\ ≦\ N\ ≦\ 100 $
- $ 0\ ≦\ x_i\ ≦\ W $ ($ 1\ ≦\ i\ ≦\ N $)
- $ 0\ ≦\ y_i\ ≦\ H $ ($ 1\ ≦\ i\ ≦\ N $)
- $ W $, $ H $ (21:32 追記), $ x_i $, $ y_i $ は整数である
- $ a_i $ ($ 1\ ≦\ i\ ≦\ N $) は $ 1,\ 2,\ 3,\ 4 $ のいずれかである

### Sample Explanation 1

すぬけ君が塗りつぶしを始める前の長方形は以下の図のようになっています。 !\[e19e673abcd0882783f635cce9d2f94d.png\](https://atcoder.jp/img/abc047/e19e673abcd0882783f635cce9d2f94d.png) $ (x_1,\ y_1)\ =\ (2,\ 1) $、$ a_1\ =\ 1 $ なので、まずすぬけ君は $ x $ 座標が $ 2 $ より小さい領域を塗りつぶし、長方形は以下のようになります。 !\[f25cd04bbac23c4e5426d70511a9762f.png\](https://atcoder.jp/img/abc047/f25cd04bbac23c4e5426d70511a9762f.png) $ (x_2,\ y_2)\ =\ (3,\ 3) $、$ a_2\ =\ 4 $ なので、次にすぬけ君は $ y $ 座標が $ 3 $ より大きい領域を塗りつぶし、長方形は最終的に以下のようになります。 !\[46b0c06fd9eee4f148e1f441f7abca53.png\](https://atcoder.jp/img/abc047/46b0c06fd9eee4f148e1f441f7abca53.png) この最終的な状態における白い部分の面積は $ 9 $ なので、出力は $ 9 $ となります。

### Sample Explanation 2

塗りつぶした結果、白い部分が残らないこともありえます。

## 样例 #1

### 输入

```
5 4 2

2 1 1

3 3 4```

### 输出

```
9```

## 样例 #2

### 输入

```
5 4 3

2 1 1

3 3 4

1 4 2```

### 输出

```
0```

## 样例 #3

### 输入

```
10 10 5

1 6 1

4 1 3

6 9 4

9 4 2

3 1 3```

### 输出

```
64```

# AI分析结果

### 题目内容重写

在 $xy$ 平面上，有一个左下角坐标为 $(0, 0)$，右上角坐标为 $(W, H)$ 的长方形，且各边与 $x$ 轴或 $y$ 轴平行。初始时，长方形内部被涂成白色。

すぬけ君在这个长方形内打了 $N$ 个点。第 $i$ 个点（$1 \leq i \leq N$）的坐标为 $(x_i, y_i)$。

此外，すぬけ君还定义了一个长度为 $N$ 的数列 $a$，对于每个 $1 \leq i \leq N$：

- 如果 $a_i = 1$，则将长方形内满足 $x < x_i$ 的区域涂黑。
- 如果 $a_i = 2$，则将长方形内满足 $x > x_i$ 的区域涂黑。
- 如果 $a_i = 3$，则将长方形内满足 $y < y_i$ 的区域涂黑。
- 如果 $a_i = 4$，则将长方形内满足 $y > y_i$ 的区域涂黑。

请计算所有涂黑操作完成后，长方形内白色区域的面积。

### 算法分类
模拟

### 题解分析与结论

题目要求通过一系列操作对长方形进行涂黑，最终计算白色区域的面积。各题解主要分为两类：暴力枚举和优化后的数学计算。

1. **暴力枚举**：直接遍历所有点，判断每个点是否被涂黑，最后统计白色区域面积。时间复杂度为 $O(NHW)$，虽然可以通过，但效率较低。
2. **优化后的数学计算**：通过维护四个边界（左、右、上、下），每次操作更新相应的边界，最终通过边界计算白色区域的面积。时间复杂度为 $O(N)$，效率较高。

### 高星题解推荐

#### 题解1：lgvc (5星)
- **关键亮点**：通过维护四个边界（左、右、上、下），每次操作更新相应的边界，最终通过边界计算白色区域的面积。思路清晰，代码简洁。
- **核心代码**：
  ```cpp
  int a1,a2,a3,a4,W,H,N;
  signed main(void) {
      scanf("%d %d %d",&W,&H,&N);
      a2=W;
      a4=H;
      for(int i=1;i<=N;i++) {
          int a,b,c;
          scanf("%d %d %d",&a,&b,&c);
          if(c==1) {
              a1=std::max(a1,a);
          } else if(c==2) {
              a2=std::min(a2,a);			
          } else if(c==3) {
              a3=std::max(a3,b);
          } else if(c==4) {
              a4=std::min(a4,b);
          }
      }	
      if(a1>a2||a3>a4) printf("0");else printf("%d",(a2-a1)*(a4-a3));
      return 0;
  }
  ```

#### 题解2：FreedomKing (4星)
- **关键亮点**：同样通过维护四个边界，代码简洁，且使用了 `putchar` 进行输出优化。
- **核心代码**：
  ```cpp
  int n,w,h,l,r,u,d,x,y,a;
  int main(){
      scanf("%d%d%d",&w,&h,&n);
      l=0,r=w,u=h,d=0;
      for(register int i=1;i<=n;i++){
          scanf("%d%d%d",&x,&y,&a);
          if(a==1) l=max(l,x);
          if(a==2) r=min(r,x);
          if(a==3) d=max(d,y);
          if(a==4) u=min(u,y);
      }
      if(l>=r||d>=u) putchar('0');
      else printf("%d",(r-l)*(u-d));
      return 0;
  }
  ```

#### 题解3：LYqwq (4星)
- **关键亮点**：通过维护四个边界，使用 `switch` 语句进行条件判断，代码结构清晰。
- **核心代码**：
  ```cpp
  int w,h,n,x,y,a;
  int x1,x2,y1,y2;
  int main(){
      cin >> w >> h >> n;
      x2=w,y2=h;
      while(n--){
          cin >> x >> y >> a;
          switch(a){
              case 1: x1=max(x1,x); break;
              case 2: x2=min(x2,x); break;
              case 3: y1=max(y1,y); break;
              case 4: y2=min(y2,y); break;
              default: break;
          }
      }
      if(x1>x2 || y1>y2) puts("0");
      else cout << (x2-x1)*(y2-y1) << endl;
      return 0;
  }
  ```

### 最优关键思路
通过维护四个边界（左、右、上、下），每次操作更新相应的边界，最终通过边界计算白色区域的面积。这种方法将时间复杂度从 $O(NHW)$ 优化到 $O(N)$，极大地提高了效率。

### 可拓展之处
类似的问题可以通过维护边界或区间来优化计算，例如在二维平面上进行区域划分或覆盖问题时，可以考虑使用类似的方法。

### 推荐题目
1. [P1884 覆盖问题](https://www.luogu.com.cn/problem/P1884)
2. [P1496 火烧赤壁](https://www.luogu.com.cn/problem/P1496)
3. [P1719 最大加权矩形](https://www.luogu.com.cn/problem/P1719)

---
处理用时：38.19秒
# 题目信息

# [ABC121C] Energy Drink Collector

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc121/tasks/abc121_c

栄養ドリンクにレーティング上昇効果があると聞いた高橋くんは、$ M $ 本の栄養ドリンクを買い集めることにしました。

栄養ドリンクが売られている店は $ N $ 軒あり、$ i $ 軒目の店では $ 1 $ 本 $ A_i $ 円の栄養ドリンクを $ B_i $ 本まで買うことができます。

最小で何円あれば $ M $ 本の栄養ドリンクを買い集めることができるでしょうか。

なお、与えられる入力では、十分なお金があれば $ M $ 本の栄養ドリンクを買い集められることが保証されます。

## 说明/提示

### 制約

- 入力は全て整数である。
- $ 1\ \leq\ N,\ M\ \leq\ 10^5 $
- $ 1\ \leq\ A_i\ \leq\ 10^9 $
- $ 1\ \leq\ B_i\ \leq\ 10^5 $
- $ B_1\ +\ ...\ +\ B_N\ \geq\ M $

### Sample Explanation 1

$ 12 $ 円あれば $ 1 $ 軒目の店で $ 1 $ 本、$ 2 $ 軒目の店で $ 4 $ 本の栄養ドリンクを購入し、合計 $ 5 $ 本の栄養ドリンクを買い集めることができます。一方、$ 11 $ 円以下では $ 5 $ 本の栄養ドリンクを買い集めることができません。

### Sample Explanation 3

出力が $ 32 $ ビット整数型におさまらないことがあります。

## 样例 #1

### 输入

```
2 5

4 9

2 4```

### 输出

```
12```

## 样例 #2

### 输入

```
4 30

6 18

2 5

3 10

7 9```

### 输出

```
130```

## 样例 #3

### 输入

```
1 100000

1000000000 100000```

### 输出

```
100000000000000```

# AI分析结果

### 题目内容重写

**题目描述**

高桥君听说能量饮料可以提高评分，决定购买 $M$ 瓶能量饮料。

有 $N$ 家商店出售能量饮料，第 $i$ 家商店以每瓶 $A_i$ 日元的价格出售，最多可以购买 $B_i$ 瓶。

高桥君想知道，最少需要多少钱才能买到 $M$ 瓶能量饮料。

**说明/提示**

**约束条件**

- 输入均为整数。
- $1 \leq N, M \leq 10^5$
- $1 \leq A_i \leq 10^9$
- $1 \leq B_i \leq 10^5$
- $B_1 + \dots + B_N \geq M$

**样例解释 1**

$12$ 日元可以在第 $1$ 家商店购买 $1$ 瓶，第 $2$ 家商店购买 $4$ 瓶，总共购买 $5$ 瓶能量饮料。而 $11$ 日元以下无法购买 $5$ 瓶。

**样例解释 3**

输出可能超出 $32$ 位整数范围。

**样例输入 1**

```
2 5
4 9
2 4
```

**样例输出 1**

```
12
```

**样例输入 2**

```
4 30
6 18
2 5
3 10
7 9
```

**样例输出 2**

```
130
```

**样例输入 3**

```
1 100000
1000000000 100000
```

**样例输出 3**

```
100000000000000
```

### 算法分类

贪心

### 题解分析与结论

本题的核心思想是贪心算法，通过优先购买价格最低的饮料来最小化总成本。两位作者的题解都采用了相同的思路，但在实现细节上略有不同。

**Otomachi_Una_ 的题解**

- **评分**: 4星
- **关键亮点**: 代码简洁明了，直接使用结构体存储商店信息，并通过自定义排序函数实现贪心策略。
- **个人心得**: 强调了数据范围较大时，答案变量应使用 `long long` 类型。

**Kevin_Zhen 的题解**

- **评分**: 4星
- **关键亮点**: 提供了详细的题目翻译和变量介绍，代码结构清晰，逻辑严谨。
- **个人心得**: 强调了贪心策略的实现细节，并提供了清晰的代码注释。

### 最优关键思路

1. **贪心策略**: 优先购买价格最低的饮料，直到满足需求。
2. **排序**: 将所有商店按照价格升序排序，确保优先购买便宜的饮料。
3. **变量类型**: 由于数据范围较大，答案变量应使用 `long long` 类型。

### 核心代码片段

```cpp
// Otomachi_Una_ 的代码片段
sort(a+1,a+n+1,cmp);
for(int i=1;i<=n;i++){
    if(a[i].num>=m){
        ans+=m*a[i].val;
        break;
    }
    ans+=a[i].num*a[i].val;
    m-=a[i].num;
}
```

```cpp
// Kevin_Zhen 的代码片段
sort(shop + 1, shop + 1 + n, cmp);
for (int i = 1; i <= n; ++i) {
    if (cnt + shop[i].num <= m) {
        cnt += shop[i].num;
        ans += (ll)shop[i].num * shop[i].price;
    }
    else {
        ans += ((ll)m - cnt) * shop[i].price;
        break;
    }
}
```

### 扩展思路

类似的问题可以通过贪心算法解决，如混合牛奶问题（P1208）。在处理需要最小化或最大化某种资源的问题时，贪心策略通常是一个有效的选择。

### 推荐题目

1. [P1208 混合牛奶](https://www.luogu.com.cn/problem/P1208)
2. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
3. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)

---
处理用时：23.14秒
# 题目信息

# [ABC133B] Good Distance

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc133/tasks/abc133_b

$ D $ 次元空間上に $ N $ 個の点があります。

$ i $ 番目の点の座標は $ (X_{i1},\ X_{i2},\ ...,\ X_{iD}) $ です。

座標 $ (y_1,\ y_2,\ ...,\ y_D) $ の点と座標 $ (z_1,\ z_2,\ ...,\ z_D) $ の点の距離は $ \sqrt{(y_1\ -\ z_1)^2\ +\ (y_2\ -\ z_2)^2\ +\ ...\ +\ (y_D\ -\ z_D)^2} $ です。

$ i $ 番目の点と $ j $ 番目の点の距離が整数となるような組 $ (i,\ j) $ $ (i\ <\ j) $ はいくつあるでしょうか。

## 说明/提示

### 制約

- 入力は全て整数である。
- $ 2\ \leq\ N\ \leq\ 10 $
- $ 1\ \leq\ D\ \leq\ 10 $
- $ -20\ \leq\ X_{ij}\ \leq\ 20 $
- 同じ座標の点は与えられない。すなわち、$ i\ \neq\ j $ ならば $ X_{ik}\ \neq\ X_{jk} $ なる $ k $ が存在する。

### Sample Explanation 1

以下のように距離が整数となる点の組は $ 1 $ 組です。 - $ 1 $ 番目の点と $ 2 $ 番目の点の距離は $ \sqrt{|1-5|^2\ +\ |2-5|^2}\ =\ 5 $ で、これは整数です。 - $ 2 $ 番目の点と $ 3 $ 番目の点の距離は $ \sqrt{|5-(-2)|^2\ +\ |5-8|^2}\ =\ \sqrt{58} $ で、これは整数ではありません。 - $ 3 $ 番目の点と $ 1 $ 番目の点の距離は $ \sqrt{|-2-1|^2+|8-2|^2}\ =\ 3\sqrt{5} $ で、これは整数ではありません。

## 样例 #1

### 输入

```
3 2

1 2

5 5

-2 8```

### 输出

```
1```

## 样例 #2

### 输入

```
3 4

-3 7 8 2

-12 1 10 2

-2 8 9 3```

### 输出

```
2```

## 样例 #3

### 输入

```
5 1

1

2

3

4

5```

### 输出

```
10```

# AI分析结果

### 题目内容重写
**题目描述**

在 $D$ 维空间中有 $N$ 个点。

第 $i$ 个点的坐标是 $(X_{i1},\ X_{i2},\ ...,\ X_{iD})$。

坐标 $(y_1,\ y_2,\ ...,\ y_D)$ 的点与坐标 $(z_1,\ z_2,\ ...,\ z_D)$ 的点之间的距离是 $\sqrt{(y_1\ -\ z_1)^2\ +\ (y_2\ -\ z_2)^2\ +\ ...\ +\ (y_D\ -\ z_D)^2}$。

求满足 $i < j$ 且第 $i$ 个点与第 $j$ 个点之间的距离为整数的组 $(i,\ j)$ 的数量。

**说明/提示**

### 约束条件

- 输入均为整数。
- $2 \leq N \leq 10$
- $1 \leq D \leq 10$
- $-20 \leq X_{ij} \leq 20$
- 相同坐标的点不会给出。即，若 $i \neq j$，则存在 $k$ 使得 $X_{ik} \neq X_{jk}$。

### 样例解释 1

距离为整数的点对有一组：
- 第1个点与第2个点的距离是 $\sqrt{|1-5|^2\ +\ |2-5|^2}\ =\ 5$，是整数。
- 第2个点与第3个点的距离是 $\sqrt{|5-(-2)|^2\ +\ |5-8|^2}\ =\ \sqrt{58}$，不是整数。
- 第3个点与第1个点的距离是 $\sqrt{|-2-1|^2+|8-2|^2}\ =\ 3\sqrt{5}$，不是整数。

### 样例 #1

**输入**

```
3 2

1 2

5 5

-2 8
```

**输出**

```
1
```

### 样例 #2

**输入**

```
3 4

-3 7 8 2

-12 1 10 2

-2 8 9 3
```

**输出**

```
2
```

### 样例 #3

**输入**

```
5 1

1

2

3

4

5
```

**输出**

```
10
```

### 算法分类
枚举

### 题解分析与结论
所有题解都采用了暴力枚举的方法，计算每对点之间的距离，并判断是否为整数。由于题目中 $N$ 和 $D$ 的范围都很小，暴力枚举是可行的。

### 所选题解
1. **作者：lgvc (赞：6)**
   - **星级：5**
   - **关键亮点：**
     - 代码简洁，直接计算距离的平方和，然后判断是否为平方数。
     - 使用 `flag` 变量来标记是否为平方数，逻辑清晰。
   - **核心代码：**
     ```cpp
     for(int i=1;i<=N;i++) {
         for(int j=i+1;j<=N;j++) {
             int sum=0;
             bool flag=0;
             for(int k=1;k<=D;k++) {
                 sum+=(x[i][k]-x[j][k])*(x[i][k]-x[j][k]);
             }
             for(int i=1;i*i<=sum;i++) {
                 if(i*i==sum) {
                     flag=1;
                 }
             }
             if(flag) {
                 ans++;
             }
         }
     }
     ```

2. **作者：AgrumeStly (赞：1)**
   - **星级：4**
   - **关键亮点：**
     - 使用 `sqrt` 函数直接计算距离，并判断是否为整数。
     - 代码结构清晰，易于理解。
   - **核心代码：**
     ```cpp
     for(int i=1;i<=n;i++)
         for(int j=i+1;j<=n;j++) {
             double dd = 0;
             for(int k=1;k<=d;k++)
                 dd += sqr(x[i][k] - x[j][k]);
             dd = sqrt(dd);
             if (dd == (int)dd) ans++;
         }
     ```

3. **作者：3a51_ (赞：0)**
   - **星级：4**
   - **关键亮点：**
     - 详细解释了平方数判断的方法，避免了浮点数精度问题。
     - 代码逻辑清晰，注释详细。
   - **核心代码：**
     ```cpp
     for(int i=1;i<=n;i++)
         for(int j=i+1;j<=n;j++) {
             int ans=0;
             for(int k=1;k<=d;k++)
                 ans+=(a[i][k]-a[j][k])*(a[i][k]-a[j][k]);
             if(int(sqrt(ans))*int(sqrt(ans))==ans)
                 cnt++;	
         }
     ```

### 最优关键思路或技巧
- **平方数判断**：通过计算距离的平方和，然后判断该和是否为平方数，避免了浮点数精度问题。
- **双重循环枚举**：由于 $N$ 和 $D$ 的范围很小，直接使用双重循环枚举所有点对是可行的。

### 可拓展之处
- **高维空间距离计算**：可以扩展到更高维度的空间，计算点对之间的距离。
- **优化平方数判断**：可以使用更高效的算法来判断一个数是否为平方数，例如二分查找。

### 推荐题目
1. [P1424 小鱼的航程(改进版)](https://www.luogu.com.cn/problem/P1424)
2. [P1425 小鱼的游泳时间](https://www.luogu.com.cn/problem/P1425)
3. [P1426 小鱼的数字游戏](https://www.luogu.com.cn/problem/P1426)

### 个人心得
- **调试经历**：在判断平方数时，直接使用 `sqrt` 函数可能会导致浮点数精度问题，因此建议使用整数运算来判断。
- **踩坑教训**：在双重循环中，确保 $i < j$，避免重复计算。

---
处理用时：34.15秒
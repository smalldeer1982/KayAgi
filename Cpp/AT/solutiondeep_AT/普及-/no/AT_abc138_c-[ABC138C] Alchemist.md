# 题目信息

# [ABC138C] Alchemist

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc138/tasks/abc138_c

あなたは鍋と $ N $ 個の具材を持っています。各具材は *価値* と呼ばれる実数の値を持ち、$ i $ 個目 $ (1\ \leq\ i\ \leq\ N) $ の具材の価値は $ v_i $ です。

$ 2 $ 個の具材を鍋に入れると、それらは消滅して新たに $ 1 $ 個の具材が生成されます。この新たな具材の価値は元の $ 2 $ 個の具材の価値を $ x,\ y $ として $ (x\ +\ y)\ /\ 2 $ であり、この具材を再び鍋に入れることもできます。

この具材の合成を $ N\ -\ 1 $ 回行うと、最後に $ 1 $ 個の具材が残ります。この具材の価値として考えられる最大の値を求めてください。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 50 $
- $ 1\ \leq\ v_i\ \leq\ 1000 $
- 入力中の値はすべて整数である。

### Sample Explanation 1

はじめに持っている具材が $ 2 $ 個の場合、それらをともに鍋に入れるほかありません。価値 $ 3,\ 4 $ の具材から合成される具材の価値は $ (3\ +\ 4)\ /\ 2\ =\ 3.5 $ です。 なお、`3.50001`, `3.49999` などと出力しても正解となります。

### Sample Explanation 2

今回ははじめに $ 3 $ 個の具材を持っており、一度目の合成で鍋にどの具材を入れるかに選択の余地があります。選択肢は次の $ 3 $ 通りです。 - 価値 $ 500,\ 300 $ の具材を入れ、価値 $ (500\ +\ 300)\ /\ 2\ =\ 400 $ の具材を合成する。この場合、次の合成ではこれと価値 $ 200 $ の具材を鍋に入れることになり、価値 $ (400\ +\ 200)\ /\ 2\ =\ 300 $ の具材が合成される。 - 価値 $ 500,\ 200 $ の具材を入れ、価値 $ (500\ +\ 200)\ /\ 2\ =\ 350 $ の具材を合成する。この場合、次の合成ではこれと価値 $ 300 $ の具材を鍋に入れることになり、価値 $ (350\ +\ 300)\ /\ 2\ =\ 325 $ の具材が合成される。 - 価値 $ 300,\ 200 $ の具材を入れ、価値 $ (300\ +\ 200)\ /\ 2\ =\ 250 $ の具材を合成する。この場合、次の合成ではこれと価値 $ 500 $ の具材を鍋に入れることになり、価値 $ (250\ +\ 500)\ /\ 2\ =\ 375 $ の具材が合成される。 よって、最後に残る $ 1 $ 個の具材の価値として考えられる最大の値は $ 375 $ です。 なお、`375.0` などと出力しても正解となります。

## 样例 #1

### 输入

```
2

3 4```

### 输出

```
3.5```

## 样例 #2

### 输入

```
3

500 300 200```

### 输出

```
375```

## 样例 #3

### 输入

```
5

138 138 138 138 138```

### 输出

```
138```

# AI分析结果

### 题目内容翻译

#### [ABC138C] 炼金术士

**题目描述**

你有一个锅和 $N$ 个食材。每个食材有一个称为“价值”的实数值，第 $i$ 个食材（$1 \leq i \leq N$）的价值为 $v_i$。

当你将两个食材放入锅中时，它们会消失并生成一个新的食材。这个新食材的价值是原来两个食材价值的平均值，即如果原来的两个食材价值为 $x$ 和 $y$，则新食材的价值为 $(x + y) / 2$。这个新食材可以再次被放入锅中。

进行 $N - 1$ 次这样的合成操作后，最后会剩下一个食材。请找出这个食材可能的最大价值。

**说明/提示**

**约束条件**

- $2 \leq N \leq 50$
- $1 \leq v_i \leq 1000$
- 输入中的所有值都是整数。

**样例解释 1**

如果一开始有两个食材，价值分别为 3 和 4，那么将它们放入锅中后，生成的新食材价值为 $(3 + 4) / 2 = 3.5$。注意，输出 `3.50001` 或 `3.49999` 等值也是正确的。

**样例解释 2**

如果一开始有三个食材，价值分别为 500、300 和 200，那么有以下几种合成方式：

1. 将 500 和 300 合成，得到 400，然后将 400 和 200 合成，得到 300。
2. 将 500 和 200 合成，得到 350，然后将 350 和 300 合成，得到 325。
3. 将 300 和 200 合成，得到 250，然后将 250 和 500 合成，得到 375。

因此，最后剩下的食材的最大价值为 375。注意，输出 `375.0` 等值也是正确的。

**样例 #1**

**输入**

```
2
3 4
```

**输出**

```
3.5
```

**样例 #2**

**输入**

```
3
500 300 200
```

**输出**

```
375
```

**样例 #3**

**输入**

```
5
138 138 138 138 138
```

**输出**

```
138
```

### 算法分类

贪心

### 题解分析与结论

这道题的核心思想是通过贪心策略，每次选择当前最小的两个食材进行合成，以确保最终得到的食材价值最大化。题解中主要采用了两种方法：一种是使用优先队列（小根堆）来动态获取最小的两个食材，另一种是直接排序后依次合成。

#### 题解评分与亮点

1. **作者：zjr027**  
   - **星级：4**  
   - **关键亮点**：通过暴力排序的方法，每次选择最小的两个食材进行合成，思路清晰，代码简洁。虽然时间复杂度较高，但由于数据范围小，完全可行。
   - **代码核心**：
     ```cpp
     sort(a + i, a + n + 1);
     a[i + 1] = (a[i] + a[i + 1]) / 2.0;
     ```

2. **作者：hswfwkj_**  
   - **星级：4**  
   - **关键亮点**：直接排序后依次合成，避免了每次排序的开销，时间复杂度更低。思路简洁明了，代码实现高效。
   - **代码核心**：
     ```cpp
     sort(a + 1, a + n + 1);
     for(int i = 2; i <= n; i++)
         a[i] = (a[i - 1] + a[i]) / 2;
     ```

3. **作者：MattL**  
   - **星级：4**  
   - **关键亮点**：通过一次排序后直接计算，避免了多次排序的开销，时间复杂度与小根堆方法相同，但实现更简单。
   - **代码核心**：
     ```cpp
     sort(a + 1, a + t + 1);
     ans = a[1];
     for(int i = 2; i <= t; i++)
         ans = (ans + a[i]) / 2;
     ```

### 最优关键思路

最优的思路是通过一次排序后，依次将当前最小的两个食材进行合成，确保每次合成的结果尽可能大。这种方法既简单又高效，适用于本题的数据范围。

### 可拓展之处

类似的贪心策略可以应用于其他需要动态选择最小或最大元素进行操作的题目，如合并果子、最小生成树等。

### 推荐题目

1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
2. [P1334 瑞瑞的木板](https://www.luogu.com.cn/problem/P1334)
3. [P2827 蚯蚓](https://www.luogu.com.cn/problem/P2827)

---
处理用时：29.84秒
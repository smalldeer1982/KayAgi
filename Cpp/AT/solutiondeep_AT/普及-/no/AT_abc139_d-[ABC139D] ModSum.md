# 题目信息

# [ABC139D] ModSum

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc139/tasks/abc139_d

整数 $ N $ に対して、$ \{1,\ 2,\ ...,\ N\} $ を並べ替えた数列 $ \{P_1,\ P_2,\ ...,\ P_N\} $ を選びます。

そして、各 $ i=1,2,...,N $ について、$ i $ を $ P_i $ で割った余りを $ M_i $ とします。

$ M_1\ +\ M_2\ +\ \cdots\ +\ M_N $ の最大値を求めてください。

## 说明/提示

### 制約

- $ N $ は $ 1\ \leq\ N\ \leq\ 10^9 $ を満たす整数である。

### Sample Explanation 1

$ \{1,\ 2\} $ を並び替えた数列として $ \{P_1,\ P_2\}\ =\ \{2,\ 1\} $ を選ぶと、$ M_1\ +\ M_2\ =\ 1\ +\ 0\ =\ 1 $ となります。

## 样例 #1

### 输入

```
2```

### 输出

```
1```

## 样例 #2

### 输入

```
13```

### 输出

```
78```

## 样例 #3

### 输入

```
1```

### 输出

```
0```

# AI分析结果

### 题目翻译

**题目描述**  
对于整数 $N$，选择 $\{1, 2, ..., N\}$ 的一个排列 $\{P_1, P_2, ..., P_N\}$。  
然后，对于每个 $i=1,2,...,N$，计算 $i$ 除以 $P_i$ 的余数 $M_i$。  
求 $M_1 + M_2 + \cdots + M_N$ 的最大值。

**说明/提示**  
- $N$ 是满足 $1 \leq N \leq 10^9$ 的整数。

**样例解释**  
对于 $N=2$，选择排列 $\{2, 1\}$，则 $M_1 + M_2 = 1 + 0 = 1$。

### 算法分类
**数学**

### 题解分析与结论

所有题解的核心思路都是通过构造一个特定的排列，使得每个 $M_i$ 尽可能大，最终发现可以通过将数列循环右移一位来达到最大值。具体来说，将 $P_i$ 设为 $i+1$（$i < N$），$P_N$ 设为 $1$，这样每个 $M_i$ 的值分别为 $0, 1, 2, ..., N-1$，其和为 $\frac{N(N-1)}{2}$。

### 高星题解

#### 题解1：qingchenMC (4星)
**关键亮点**  
- 清晰地解释了如何通过循环右移排列来最大化余数和。
- 提供了详细的推导过程，并验证了排列的正确性。
- 代码简洁，直接使用等差数列求和公式。

**代码**
```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
    long long n;
    scanf("%lld",&n);
    printf("%lld",(n-1)*n/2);
    return 0;
}
```

#### 题解2：ruanwentao666 (4星)
**关键亮点**  
- 简洁明了地给出了结论，并通过简单的证明解释了为什么这种排列方式是最优的。
- 代码同样简洁，直接输出结果。

**代码**
```cpp
#include<iostream>
using namespace std;
long long n;
int main(){
    cin>>n;
    cout<<(n-1)*n/2<<endl;
    return 0;
}
```

#### 题解3：tZEROちゃん (4星)
**关键亮点**  
- 通过分析每一项的最大值，得出了最优排列方式。
- 代码简洁，直接输出结果。

**代码**
```python
n = int(input())
print(n * (n - 1) // 2)
```

### 最优关键思路
通过构造一个循环右移的排列，使得每个 $M_i$ 的值分别为 $0, 1, 2, ..., N-1$，其和为 $\frac{N(N-1)}{2}$。这种构造方法简单且高效，直接利用了等差数列的求和公式。

### 可拓展之处
类似的问题可以通过构造特定的排列或利用数学公式来优化求解。例如，某些问题可能需要通过排列组合或贪心策略来达到最优解。

### 推荐题目
1. [P1008 三连击](https://www.luogu.com.cn/problem/P1008)
2. [P1012 拼数](https://www.luogu.com.cn/problem/P1012)
3. [P1028 数的计算](https://www.luogu.com.cn/problem/P1028)

### 个人心得摘录
- **qingchenMC**：通过简单的推导和验证，发现循环右移排列可以达到最大值，代码实现也非常简洁。
- **ruanwentao666**：结论简单明了，直接使用等差数列求和公式，代码简洁高效。
- **tZEROちゃん**：通过分析每一项的最大值，得出了最优排列方式，代码实现简洁。

---
处理用时：24.21秒
# 题目信息

# [ABC169B] Multiplication 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc169/tasks/abc169_b

$ N $ 個の整数 $ A_1,...,A_N $ が与えられます。

$ A_1\ \times\ ...\ \times\ A_N $ を求めてください。

ただし、結果が $ 10^{18} $ を超える場合は、代わりに `-1` を出力してください。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 10^5 $
- $ 0\ \leq\ A_i\ \leq\ 10^{18} $
- 入力は全て整数である。

### Sample Explanation 1

$ 1000000000\ \times\ 1000000000\ =\ 1000000000000000000 $ です。

### Sample Explanation 2

$ 101\ \times\ 9901\ \times\ 999999000001\ =\ 1000000000000000001 $ ですが、これは $ 10^{18} $ を超えるので、代わりに `-1` を出力します。

## 样例 #1

### 输入

```
2

1000000000 1000000000```

### 输出

```
1000000000000000000```

## 样例 #2

### 输入

```
3

101 9901 999999000001```

### 输出

```
-1```

## 样例 #3

### 输入

```
31

4 1 5 9 2 6 5 3 5 8 9 7 9 3 2 3 8 4 6 2 6 4 3 3 8 3 2 7 9 5 0```

### 输出

```
0```

# AI分析结果

### 题目内容重写

#### [ABC169B] Multiplication 2

#### 题目描述

给定 $N$ 个整数 $A_1,...,A_N$，求 $A_1 \times ... \times A_N$ 的值。如果结果超过 $10^{18}$，则输出 `-1`。

#### 说明/提示

##### 制約

- $2 \leq N \leq 10^5$
- $0 \leq A_i \leq 10^{18}$
- 输入均为整数。

##### 样例解释 1

$1000000000 \times 1000000000 = 1000000000000000000$。

##### 样例解释 2

$101 \times 9901 \times 999999000001 = 1000000000000000001$，但结果超过 $10^{18}$，因此输出 `-1`。

#### 样例 #1

##### 输入

```
2
1000000000 1000000000
```

##### 输出

```
1000000000000000000
```

#### 样例 #2

##### 输入

```
3
101 9901 999999000001
```

##### 输出

```
-1
```

#### 样例 #3

##### 输入

```
31
4 1 5 9 2 6 5 3 5 8 9 7 9 3 2 3 8 4 6 2 6 4 3 3 8 3 2 7 9 5 0
```

##### 输出

```
0
```

### 算法分类

数学

### 综合分析与结论

本题的核心在于计算多个大整数的乘积，并在结果超过 $10^{18}$ 时输出 `-1`。由于 $N$ 可以达到 $10^5$，直接计算乘积可能会导致溢出或超时。因此，需要在计算过程中及时判断是否超过 $10^{18}$，并在发现超过时立即停止计算。

### 通用建议与扩展思路

1. **提前判断**：在计算过程中，每次乘法操作后都检查结果是否超过 $10^{18}$。如果超过，立即输出 `-1` 并结束程序。
2. **零的处理**：如果输入的数组中包含 `0`，则结果必然为 `0`，可以直接输出 `0` 并结束程序。
3. **优化计算**：由于 $N$ 较大，需要确保乘法操作的效率，避免不必要的计算。

### 推荐题目

1. [P1009 阶乘之和](https://www.luogu.com.cn/problem/P1009)
2. [P1045 高精度乘法](https://www.luogu.com.cn/problem/P1045)
3. [P1088 火星人](https://www.luogu.com.cn/problem/P1088)

这些题目都涉及到大整数的计算和处理，可以帮助进一步巩固相关知识。

---
处理用时：17.16秒
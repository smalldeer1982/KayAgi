# 题目信息

# [ABC175C] Walking Takahashi

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc175/tasks/abc175_c

数直線上で暮らす高橋君は、今座標 $ X $ にいます。これから高橋君はちょうど $ K $ 回、座標の正または負の方向に $ D $ 移動する行為を繰り返そうと考えています。

より正確には、$ 1 $ 回の移動では 座標 $ x $ から $ x\ +\ D $ または $ x\ -\ D $ に移動できます。

高橋君は、ちょうど $ K $ 回移動した後にいる座標の絶対値が最小となるように移動したいです。

$ K $ 回の移動後の座標の絶対値としてあり得る値の最小値を求めてください。

## 说明/提示

### 制約

- $ -10^{15}\ \leq\ X\ \leq\ 10^{15} $
- $ 1\ \leq\ K\ \leq\ 10^{15} $
- $ 1 \leq\ D\ \leq\ 10^{15} $
- 入力は全て整数である

### Sample Explanation 1

高橋君は、今座標 $ 6 $ にいます。次のように移動するのが最適です。 - $ 6 $ から ($ 6\ -\ 4\ = $) $ 2 $ に移動する。 - $ 2 $ から ($ 2\ -\ 4\ = $) $ -2 $ に移動する。 移動後の座標の絶対値は $ 2 $ で、これより小さくすることはできません。

### Sample Explanation 2

高橋君は、今座標 $ 7 $ にいます。例えば次のように移動するのが最適です。 - $ 7 $ から $ 4 $ に移動する。 - $ 4 $ から $ 7 $ に移動する。 - $ 7 $ から $ 4 $ に移動する。 - $ 4 $ から $ 1 $ に移動する。 移動後の座標の絶対値は $ 1 $ で、これより小さくすることはできません。

### Sample Explanation 4

答えは非常に大きな値になる場合もあります。

## 样例 #1

### 输入

```
6 2 4```

### 输出

```
2```

## 样例 #2

### 输入

```
7 4 3```

### 输出

```
1```

## 样例 #3

### 输入

```
10 1 2```

### 输出

```
8```

## 样例 #4

### 输入

```
1000000000000000 1000000000000000 1000000000000000```

### 输出

```
1000000000000000```

# AI分析结果

### 题目内容重写

#### 题目描述

数轴上生活的高桥君现在位于坐标 $X$。他计划进行恰好 $K$ 次移动，每次移动可以向正方向或负方向移动 $D$ 的距离。

更准确地说，每次移动可以从坐标 $x$ 移动到 $x + D$ 或 $x - D$。

高桥君希望在完成 $K$ 次移动后，所处位置的坐标的绝对值最小。

请找出 $K$ 次移动后坐标绝对值的最小可能值。

#### 说明/提示

##### 约束条件

- $-10^{15} \leq X \leq 10^{15}$
- $1 \leq K \leq 10^{15}$
- $1 \leq D \leq 10^{15}$
- 输入均为整数

##### 样例解释 1

高桥君现在位于坐标 $6$。最优的移动方式如下：
- 从 $6$ 移动到 $2$（$6 - 4 = 2$）
- 从 $2$ 移动到 $-2$（$2 - 4 = -2$）
移动后的坐标绝对值为 $2$，无法更小。

##### 样例解释 2

高桥君现在位于坐标 $7$。最优的移动方式如下：
- 从 $7$ 移动到 $4$（$7 - 3 = 4$）
- 从 $4$ 移动到 $7$（$4 + 3 = 7$）
- 从 $7$ 移动到 $4$（$7 - 3 = 4$）
- 从 $4$ 移动到 $1$（$4 - 3 = 1$）
移动后的坐标绝对值为 $1$，无法更小。

##### 样例解释 4

答案可能非常大。

#### 样例 #1

##### 输入

```
6 2 4
```

##### 输出

```
2
```

#### 样例 #2

##### 输入

```
7 4 3
```

##### 输出

```
1
```

#### 样例 #3

##### 输入

```
10 1 2
```

##### 输出

```
8
```

#### 样例 #4

##### 输入

```
1000000000000000 1000000000000000 1000000000000000
```

##### 输出

```
1000000000000000
```

### 算法分类

数学

### 综合分析与结论

该题的核心在于通过数学分析找到在 $K$ 次移动后，坐标绝对值的最小值。由于 $K$ 和 $D$ 的范围非常大，直接模拟或搜索是不可行的。因此，需要通过数学推导来解决问题。

### 最优关键思路或技巧

1. **数学分析**：首先计算从初始位置 $X$ 到原点 $0$ 的距离，然后通过移动次数 $K$ 和移动距离 $D$ 来确定最终位置的最小绝对值。
2. **余数处理**：通过计算 $X$ 与 $D$ 的余数，确定在尽可能接近原点的情况下，剩余的移动次数是否可以用来进一步减小绝对值。

### 核心代码实现

```cpp
#include <iostream>
#include <cmath>
using namespace std;

int main() {
    long long X, K, D;
    cin >> X >> K >> D;
    
    X = abs(X);
    long long steps = min(K, X / D);
    X -= steps * D;
    K -= steps;
    
    if (K % 2 == 1) {
        X = abs(X - D);
    }
    
    cout << X << endl;
    return 0;
}
```

### 代码解释

1. **初始化**：读取输入的 $X$, $K$, $D$。
2. **计算移动步数**：计算从 $X$ 到原点 $0$ 所需的最小步数 `steps`，并更新 $X$ 和 $K$。
3. **处理剩余步数**：如果剩余步数 $K$ 为奇数，则进一步调整 $X$ 的值。
4. **输出结果**：输出最终的 $X$ 值。

### 推荐题目

1. [P1002 过河卒](https://www.luogu.com.cn/problem/P1002)
2. [P1044 栈](https://www.luogu.com.cn/problem/P1044)
3. [P1057 传球游戏](https://www.luogu.com.cn/problem/P1057)

这些题目都涉及到数学分析和递推思想，与本题的解题思路有相似之处。

---
处理用时：25.99秒
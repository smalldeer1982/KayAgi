# 题目信息

# [ABC183D] Water Heater

## 题目描述

有 $1$ 个热水器，每分钟可以提供 $W$ 升热水。

现在来了 $N$ 个人想使用热水。第 $i$ 个人打算从时刻 $S_i$ 使用到时刻 $T_i$（ $T_i$ 除外），每分钟需要使用 $P_i$ 升热水。由于热水倒出来会迅速变冷，因此不能储存。

你能按照他们的计划提供热水吗？

## 样例 #1

### 输入

```
4 10

1 3 5

2 4 4

3 10 6

2 4 1```

### 输出

```
No```

## 样例 #2

### 输入

```
4 10

1 3 5

2 4 4

3 10 6

2 3 1```

### 输出

```
Yes```

## 样例 #3

### 输入

```
6 1000000000

0 200000 999999999

2 20 1

20 200 1

200 2000 1

2000 20000 1

20000 200000 1```

### 输出

```
Yes```

# AI分析结果

【题目内容】
# [ABC183D] 热水器

## 题目描述

有 $1$ 个热水器，每分钟可以提供 $W$ 升热水。

现在来了 $N$ 个人想使用热水。第 $i$ 个人打算从时刻 $S_i$ 使用到时刻 $T_i$（ $T_i$ 除外），每分钟需要使用 $P_i$ 升热水。由于热水倒出来会迅速变冷，因此不能储存。

你能按照他们的计划提供热水吗？

## 样例 #1

### 输入

```
4 10

1 3 5

2 4 4

3 10 6

2 4 1```

### 输出

```
No```

## 样例 #2

### 输入

```
4 10

1 3 5

2 4 4

3 10 6

2 3 1```

### 输出

```
Yes```

## 样例 #3

### 输入

```
6 1000000000

0 200000 999999999

2 20 1

20 200 1

200 2000 1

2000 20000 1

20000 200000 1```

### 输出

```
Yes```

【算法分类】
差分

【题解分析与结论】
由于题目要求判断在任意时刻热水器的总输出是否满足所有用户的需求，因此可以使用差分数组来记录每个时刻的热水需求变化，然后通过前缀和计算每个时刻的总需求，最后判断是否超过热水器的容量。

【通用建议与扩展思路】
1. **差分数组**：差分数组是处理区间更新问题的常用技巧，能够高效地记录区间内的变化，并通过前缀和快速计算每个位置的值。
2. **时间复杂度**：使用差分数组可以将时间复杂度优化到 $O(N + T)$，其中 $T$ 是时间范围的最大值。
3. **扩展应用**：差分数组还可以用于处理其他区间更新问题，如区间加法、区间减法等。

【推荐题目】
1. [P3368 【模板】树状数组 2](https://www.luogu.com.cn/problem/P3368)
2. [P3372 【模板】线段树 1](https://www.luogu.com.cn/problem/P3372)
3. [P5490 【模板】扫描线](https://www.luogu.com.cn/problem/P5490)

【核心代码实现】
```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
    int N, W;
    cin >> N >> W;
    vector<long long> diff(200010, 0);
    for (int i = 0; i < N; ++i) {
        int S, T, P;
        cin >> S >> T >> P;
        diff[S] += P;
        diff[T] -= P;
    }
    long long sum = 0;
    for (int i = 0; i < 200010; ++i) {
        sum += diff[i];
        if (sum > W) {
            cout << "No" << endl;
            return 0;
        }
    }
    cout << "Yes" << endl;
    return 0;
}
```
**核心实现思想**：
1. 使用差分数组 `diff` 记录每个时刻的热水需求变化。
2. 通过前缀和计算每个时刻的总需求 `sum`。
3. 如果某个时刻的总需求 `sum` 超过热水器的容量 `W`，则输出 "No"，否则输出 "Yes"。

---
处理用时：17.62秒
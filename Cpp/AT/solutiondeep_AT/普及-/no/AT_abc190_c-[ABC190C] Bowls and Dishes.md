# 题目信息

# [ABC190C] Bowls and Dishes

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc190/tasks/abc190_c

$ 1,\ 2,\ \dots,\ N $ の番号がついた $ N $ 個の皿と、$ 1,\ 2,\ \dots,\ M $ の番号がついた $ M $ 個の条件があります。  
 条件 $ i $ は、皿 $ A_i $ と皿 $ B_i $ の両方にボールが ($ 1 $ 個以上) 置かれているとき満たされます。  
 $ 1,\ 2,\ \dots,\ K $ の番号がついた $ K $ 人の人がいて、人 $ i $ は皿 $ C_i $ か皿 $ D_i $ のどちらか一方にボールを置きます。  
 満たされる条件の個数は最大でいくつでしょうか？

## 说明/提示

### 制約

- 入力は全て整数
- $ 2\ <\ =\ N\ <\ =\ 100 $
- $ 1\ <\ =\ M\ <\ =\ 100 $
- $ 1\ <\ =\ A_i\ <\ B_i\ <\ =\ N $
- $ 1\ <\ =\ K\ <\ = 16 $
- $ 1\ <\ =\ C_i\ <\ D_i\ <\ =\ N $

### Sample Explanation 1

例えば、人 $ 1,\ 2,\ 3 $ がそれぞれ皿 $ 1,\ 3,\ 2 $ にボールを置くと、条件 $ 1,\ 2 $ の $ 2 $ つが満たされます。

### Sample Explanation 2

例えば、人 $ 1,\ 2,\ 3,\ 4 $ がそれぞれ皿 $ 3,\ 1,\ 2,\ 4 $ にボールを置くと、全ての条件が満たされます。

## 样例 #1

### 输入

```
4 4

1 2

1 3

2 4

3 4

3

1 2

1 3

2 3```

### 输出

```
2```

## 样例 #2

### 输入

```
4 4

1 2

1 3

2 4

3 4

4

3 4

1 2

2 4

2 4```

### 输出

```
4```

## 样例 #3

### 输入

```
6 12

2 3

4 6

1 2

4 5

2 6

1 5

4 5

1 3

1 2

2 6

2 3

2 5

5

3 5

1 4

2 6

4 6

5 6```

### 输出

```
9```

# AI分析结果

【题目内容】
# [ABC190C] Bowls and Dishes

## 题目描述

有编号为 $1,\ 2,\ \dots,\ N$ 的 $N$ 个盘子和编号为 $1,\ 2,\ \dots,\ M$ 的 $M$ 个条件。  
条件 $i$ 表示，当盘子 $A_i$ 和盘子 $B_i$ 上都有至少一个球时，该条件被满足。  
有编号为 $1,\ 2,\ \dots,\ K$ 的 $K$ 个人，每个人会将球放在盘子 $C_i$ 或盘子 $D_i$ 中的一个。  
求最多可以满足多少个条件？

## 说明/提示

### 制約

- 输入均为整数
- $2\ <\ =\ N\ <\ =\ 100$
- $1\ <\ =\ M\ <\ =\ 100$
- $1\ <\ =\ A_i\ <\ B_i\ <\ =\ N$
- $1\ <\ =\ K\ <\ = 16$
- $1\ <\ =\ C_i\ <\ D_i\ <\ =\ N$

### 样例解释 1

例如，人 $1,\ 2,\ 3$ 分别将球放在盘子 $1,\ 3,\ 2$ 上时，条件 $1,\ 2$ 被满足。

### 样例解释 2

例如，人 $1,\ 2,\ 3,\ 4$ 分别将球放在盘子 $3,\ 1,\ 2,\ 4$ 上时，所有条件都被满足。

## 样例 #1

### 输入

```
4 4

1 2

1 3

2 4

3 4

3

1 2

1 3

2 3```

### 输出

```
2```

## 样例 #2

### 输入

```
4 4

1 2

1 3

2 4

3 4

4

3 4

1 2

2 4

2 4```

### 输出

```
4```

## 样例 #3

### 输入

```
6 12

2 3

4 6

1 2

4 5

2 6

1 5

4 5

1 3

1 2

2 6

2 3

2 5

5

3 5

1 4

2 6

4 6

5 6```

### 输出

```
9```

【算法分类】  
枚举

【题解分析与结论】  
由于 $K$ 的最大值为 16，因此可以使用枚举的方法来遍历所有可能的球放置方案。对于每个人，可以选择将球放在 $C_i$ 或 $D_i$ 上，因此总共有 $2^K$ 种可能的方案。对于每一种方案，检查所有条件是否被满足，并记录满足条件的最大数量。

【通用建议与扩展思路】  
1. **枚举优化**：由于 $K$ 的最大值为 16，$2^{16} = 65536$，完全可以在时间限制内完成枚举。可以通过位运算来简化枚举过程。
2. **条件检查优化**：在枚举过程中，可以使用数组或哈希表来记录每个盘子上是否有球，从而快速判断条件是否被满足。
3. **类似题目**：可以考虑类似的枚举问题，如“背包问题”或“子集生成问题”，这些题目也涉及到对多种可能性的枚举和选择。

【推荐题目】  
1. [P1219 八皇后](https://www.luogu.com.cn/problem/P1219)  
2. [P1048 采药](https://www.luogu.com.cn/problem/P1048)  
3. [P1036 选数](https://www.luogu.com.cn/problem/P1036)

---
处理用时：22.37秒
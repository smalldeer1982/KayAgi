# 题目信息

# [ABC222C] Swiss-System Tournament

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc222/tasks/abc222_c

$ 1 $ から $ 2N $ の番号がついた $ 2N $ 人でじゃんけん大会をします。

大会は $ M $ ラウンドからなり、各ラウンドは、全ての人が $ 1 $ 度ずつ参加するような $ 1 $ 対 $ 1 $ の $ N $ 試合からなります。

$ i=0,1,\ldots,M $ について、$ i $ ラウンド目の終了時点での順位を次のように決めます。

- $ i $ ラウンド目までの勝数が多い方が上位
- $ i $ ラウンド目までの勝数が同じときは、番号が小さい方が上位

また、$ i=1,\ldots,M $ について、$ i $ ラウンド目の各試合の組み合わせを次のように決めます。

- 各 $ k=1,2,\ldots,N $ について、$ i-1 $ ラウンド目終了時点の順位が $ 2k-1 $ 位の人と $ 2k $ 位の人が試合をする

各試合では、対戦する $ 2 $ 人がそれぞれ $ 1 $ 度だけ手を出し、勝ち・負け・引き分けのいずれかの結果が発生します。

未来予知ができる高橋君は、人 $ i $ が $ j $ ラウンド目の試合で出す手が $ A_{i,j} $ であることを知っています。  
 $ A_{i,j} $ は `G`, `C`, `P` のいずれかであり、それぞれグー、チョキ、パーを表します。

$ M $ ラウンド目終了時点の順位を求めてください。

 じゃんけんのルール じゃんけんの結果は、$ 2 $ 人の出した手に応じて次のように決まります。 - 一方がグーで他方がチョキのとき、グーを出した人が勝ち、チョキを出した人は負け
- 一方がチョキで他方がパーのとき、チョキを出した人が勝ち、パーを出した人は負け
- 一方がパーで他方がグーのとき、パーを出した人が勝ち、グーを出した人は負け
- 両者が同じ手を出したとき、引き分け

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 50 $
- $ 1\ \leq\ M\ \leq\ 100 $
- $ A_{i,j} $ は `G`, `C`, `P` のいずれか

### Sample Explanation 1

$ 1 $ ラウンド目では人 $ 1 $ と $ 2 $、$ 3 $ と $ 4 $ がそれぞれ試合をし、前者の試合は人 $ 2 $ が、後者の試合は人 $ 3 $ が勝ちます。 $ 2 $ ラウンド目では人 $ 2 $ と $ 3 $、$ 1 $ と $ 4 $ がそれぞれ試合をし、前者の試合は人 $ 3 $ が、後者の試合は人 $ 1 $ が勝ちます。 $ 3 $ ラウンド目では人 $ 3 $ と $ 1 $、$ 2 $ と $ 4 $ がそれぞれ試合をし、前者の試合は人 $ 3 $ が、後者の試合は人 $ 4 $ が勝ちます。 よって最終的な順位は、上位から順に人 $ 3,1,2,4 $ となります。

### Sample Explanation 2

$ 1 $ ラウンド目では人 $ 1 $ と $ 2 $、$ 3 $ と $ 4 $ がそれぞれ試合をし、前者の試合は人 $ 2 $ が、後者の試合は人 $ 3 $ が勝ちます。 $ 2 $ ラウンド目では人 $ 2 $ と $ 3 $、$ 1 $ と $ 4 $ がそれぞれ試合をし、前者の試合は引き分け、後者の試合は人 $ 1 $ が勝ちます。 よって最終的な順位は、上位から順に人 $ 1,2,3,4 $ となります。

## 样例 #1

### 输入

```
2 3

GCP

PPP

CCC

PPC```

### 输出

```
3

1

2

4```

## 样例 #2

### 输入

```
2 2

GC

PG

CG

PP```

### 输出

```
1

2

3

4```

# AI分析结果

### 题目内容重写

#### [ABC222C] 瑞士系统比赛

#### 题目描述

有 $2N$ 个人，编号从 $1$ 到 $2N$，参加一个剪刀石头布比赛。比赛由 $M$ 轮组成，每轮由 $N$ 场比赛组成，每场比赛是 $1$ 对 $1$ 的对决，每轮每个人都参加一次比赛。

对于每轮 $i=0,1,\ldots,M$，在 $i$ 轮结束时的排名如下决定：
- 在 $i$ 轮之前赢得比赛次数多的人排名更高
- 如果赢得比赛次数相同，则编号小的人排名更高

对于每轮 $i=1,\ldots,M$，每场比赛的对决如下决定：
- 对于每个 $k=1,2,\ldots,N$，$i-1$ 轮结束时排名为 $2k-1$ 和 $2k$ 的人进行比赛

每场比赛中，对决的两个人各出一次手，结果为胜、负或平局。

高桥君有预知能力，知道每个人 $i$ 在第 $j$ 轮比赛中会出的手 $A_{i,j}$。$A_{i,j}$ 是 `G`、`C`、`P` 之一，分别代表石头、剪刀、布。

请输出 $M$ 轮比赛结束时的最终排名。

#### 说明/提示

##### 制約
- $1 \leq N \leq 50$
- $1 \leq M \leq 100$
- $A_{i,j}$ 是 `G`、`C`、`P` 之一

#### 样例 #1

##### 输入
```
2 3
GCP
PPP
CCC
PPC
```

##### 输出
```
3
1
2
4
```

#### 样例 #2

##### 输入
```
2 2
GC
PG
CG
PP
```

##### 输出
```
1
2
3
4
```

### 算法分类
模拟

### 题解分析与结论

由于题目要求模拟整个比赛过程，包括每轮的对决和排名更新，因此主要思路是通过模拟每轮比赛的过程，逐步更新每个人的胜场数，并根据胜场数和编号进行排序。

### 通用建议与扩展思路

1. **数据结构选择**：可以使用结构体或类来存储每个人的编号、胜场数以及每轮出的手。
2. **排序策略**：每轮结束后，根据胜场数和编号进行排序，以确定下一轮的对决顺序。
3. **模拟过程**：逐轮模拟比赛，更新每个人的胜场数，并在每轮结束后进行排序。

### 推荐题目
1. [P1036 选数](https://www.luogu.com.cn/problem/P1036)
2. [P1048 采药](https://www.luogu.com.cn/problem/P1048)
3. [P1059 明明的随机数](https://www.luogu.com.cn/problem/P1059)

### 个人心得摘录
- **调试经历**：在模拟过程中，确保每轮的对决顺序和胜场数更新正确是关键。可以通过打印中间结果来验证。
- **踩坑教训**：在排序时，注意胜场数相同的情况下，编号小的人排名更高，这一点容易被忽略。
- **顿悟感想**：模拟类题目虽然看似简单，但细节处理非常重要，尤其是排序和更新逻辑。

### 核心代码片段

```cpp
struct Player {
    int id;
    int wins;
    vector<char> hands;
};

bool comparePlayers(const Player &a, const Player &b) {
    if (a.wins != b.wins) return a.wins > b.wins;
    return a.id < b.id;
}

void simulateTournament(int N, int M, vector<Player> &players) {
    for (int round = 0; round < M; ++round) {
        sort(players.begin(), players.end(), comparePlayers);
        for (int k = 0; k < N; ++k) {
            Player &p1 = players[2 * k];
            Player &p2 = players[2 * k + 1];
            char hand1 = p1.hands[round];
            char hand2 = p2.hands[round];
            if (hand1 == hand2) continue;
            if ((hand1 == 'G' && hand2 == 'C') || 
                (hand1 == 'C' && hand2 == 'P') || 
                (hand1 == 'P' && hand2 == 'G')) {
                p1.wins++;
            } else {
                p2.wins++;
            }
        }
    }
    sort(players.begin(), players.end(), comparePlayers);
}
```

### 关键实现思想
- **结构体定义**：使用结构体 `Player` 来存储每个人的编号、胜场数和每轮出的手。
- **排序函数**：定义 `comparePlayers` 函数，根据胜场数和编号进行排序。
- **模拟比赛**：逐轮模拟比赛，更新胜场数，并在每轮结束后进行排序。

---
处理用时：54.85秒
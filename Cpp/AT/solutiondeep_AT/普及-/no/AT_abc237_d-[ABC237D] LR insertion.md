# 题目信息

# [ABC237D] LR insertion

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc237/tasks/abc237_d

$ 1 $ 個の $ 0 $ のみからなる数列 $ A=(0) $ があります。  
 また、`L` と `R` のみからなる長さ $ N $ の文字列 $ S=s_1s_2\ldots\ s_N $ が与えられます。

$ i=1,2,\ldots\ ,N $ の順番で、次の操作を行います。

- $ s_i $ が `L` のとき、$ A $ 内にある $ i-1 $ のすぐ左に $ i $ を挿入する
- $ s_i $ が `R` のとき、$ A $ 内にある $ i-1 $ のすぐ右に $ i $ を挿入する

最終的な $ A $ を求めてください。

## 说明/提示

### 制約

- $ 1\leq\ N\ \leq\ 5\times\ 10^5 $
- $ N $ は整数である
- $ |S|\ =\ N $
- $ s_i $ は `L` か `R` のいずれかである

### Sample Explanation 1

はじめ、$ A=(0) $ です。 $ s_1 $ が `L` なので、$ A=(1,0) $ となります。 $ s_2 $ が `R` なので、$ A=(1,2,0) $ となります。 $ s_3 $ が `R` なので、$ A=(1,2,3,0) $ となります。 $ s_4 $ が `L` なので、$ A=(1,2,4,3,0) $ となります。 $ s_5 $ が `R` なので、$ A=(1,2,4,5,3,0) $ となります。

## 样例 #1

### 输入

```
5

LRRLR```

### 输出

```
1 2 4 5 3 0```

## 样例 #2

### 输入

```
7

LLLLLLL```

### 输出

```
7 6 5 4 3 2 1 0```

# AI分析结果

### 题目内容翻译

【题目描述】

有一个初始只包含一个 `0` 的数列 $A=(0)$。另外，给定一个长度为 $N$ 的字符串 $S=s_1s_2\ldots\ s_N$，其中每个字符是 `L` 或 `R`。

对于 $i=1,2,\ldots\ ,N$，按顺序执行以下操作：

- 如果 $s_i$ 是 `L`，则在数列 $A$ 中 $i-1$ 的**左边**插入 $i$。
- 如果 $s_i$ 是 `R`，则在数列 $A$ 中 $i-1$ 的**右边**插入 $i$。

最终输出数列 $A$。

【说明/提示】

### 约束条件

- $1\leq\ N\ \leq\ 5\times\ 10^5$
- $N$ 是整数
- $|S|\ =\ N$
- $s_i$ 是 `L` 或 `R` 中的一种

### 样例解释 1

初始时，$A=(0)$。  
$s_1$ 是 `L`，所以 $A=(1,0)$。  
$s_2$ 是 `R`，所以 $A=(1,2,0)$。  
$s_3$ 是 `R`，所以 $A=(1,2,3,0)$。  
$s_4$ 是 `L`，所以 $A=(1,2,4,3,0)$。  
$s_5$ 是 `R`，所以 $A=(1,2,4,5,3,0)$。

### 样例 #1

#### 输入

```
5
LRRLR
```

#### 输出

```
1 2 4 5 3 0
```

### 样例 #2

#### 输入

```
7
LLLLLLL
```

#### 输出

```
7 6 5 4 3 2 1 0
```

### 算法分类
模拟

### 题解分析与结论

由于题目要求根据给定的字符串 `S` 对数列 `A` 进行动态插入操作，且 `N` 的最大值为 $5 \times 10^5$，因此需要一个高效的插入策略。直接使用数组或链表进行插入操作会导致时间复杂度较高，无法通过时间限制。

最优解通常采用**双向链表**或**双指针**来模拟插入过程，通过维护当前节点的左右指针，快速找到插入位置并完成插入操作。这种方法的时间复杂度为 $O(N)$，能够满足题目要求。

### 通用建议与扩展思路

1. **数据结构选择**：对于频繁的插入操作，双向链表是最佳选择，因为它可以在 $O(1)$ 时间内完成插入操作。
2. **双指针技巧**：通过维护当前节点的左右指针，可以快速定位插入位置，避免遍历整个链表。
3. **边界处理**：注意处理插入到链表头部或尾部的情况，确保指针的正确更新。

### 推荐题目

1. [P1160 队列安排](https://www.luogu.com.cn/problem/P1160) - 考察双向链表的应用。
2. [P3378 【模板】堆](https://www.luogu.com.cn/problem/P3378) - 考察数据结构的基本操作。
3. [P3379 【模板】最近公共祖先（LCA）](https://www.luogu.com.cn/problem/P3379) - 考察树结构的操作与优化。

### 个人心得摘录

- **调试经历**：在实现双向链表时，容易忽略边界条件，如插入到链表头部或尾部的情况。通过多次调试，确保指针的正确更新。
- **踩坑教训**：直接使用数组或链表进行插入操作会导致超时，必须优化插入策略。
- **顿悟感想**：双指针技巧在模拟插入操作中非常高效，能够显著降低时间复杂度。

---
处理用时：23.65秒
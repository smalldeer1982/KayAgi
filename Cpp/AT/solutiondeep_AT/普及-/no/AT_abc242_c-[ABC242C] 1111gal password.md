# 题目信息

# [ABC242C] 1111gal password

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc242/tasks/abc242_c

整数 $ N $ が与えられるので、以下の条件を全て満たす整数 $ X $ の個数を $ 998244353 $ で割った余りを求めてください。

- $ N $ 桁の正整数である。
- $ X $ の各桁を上の位から順に $ X_1,X_2,\dots,X_N $ とする。このとき以下の条件を全て満たす。
  - 全ての整数 $ 1\ \le\ i\ \le\ N $ に対して、 $ 1\ \le\ X_i\ \le\ 9 $
  - 全ての整数 $ 1\ \le\ i\ \le\ N-1 $ に対して、 $ |X_i-X_{i+1}|\ \le\ 1 $

## 说明/提示

### 制約

- $ N $ は整数
- $ 2\ \le\ N\ \le\ 10^6 $

### Sample Explanation 1

$ 4 $ 桁の整数として、例えば $ 1111,1234,7878,6545 $ が問題文中の条件を満たします。

### Sample Explanation 3

$ 998244353 $ で割った余りを求めることに注意してください。

## 样例 #1

### 输入

```
4```

### 输出

```
203```

## 样例 #2

### 输入

```
2```

### 输出

```
25```

## 样例 #3

### 输入

```
1000000```

### 输出

```
248860093```

# AI分析结果

### 题目内容重写

#### [ABC242C] 1111gal password

**题目描述**

给定一个整数 $N$，求满足以下所有条件的整数 $X$ 的个数，并将结果对 $998244353$ 取模。

- $X$ 是一个 $N$ 位的正整数。
- 将 $X$ 的各位数字从上到下依次记为 $X_1, X_2, \dots, X_N$，则满足以下条件：
  - 对于所有整数 $1 \le i \le N$，有 $1 \le X_i \le 9$。
  - 对于所有整数 $1 \le i \le N-1$，有 $|X_i - X_{i+1}| \le 1$。

**说明/提示**

**约束条件**

- $N$ 是整数。
- $2 \le N \le 10^6$。

**样例解释 1**

$4$ 位整数中，例如 $1111, 1234, 7878, 6545$ 都满足题目中的条件。

**样例解释 3**

注意需要将结果对 $998244353$ 取模。

**样例 #1**

**输入**

```
4
```

**输出**

```
203
```

**样例 #2**

**输入**

```
2
```

**输出**

```
25
```

**样例 #3**

**输入**

```
1000000
```

**输出**

```
248860093
```

### 算法分类

动态规划

### 综合分析与结论

本题的核心在于计算满足特定条件的 $N$ 位正整数的个数。由于 $N$ 的范围较大（$2 \le N \le 10^6$），直接枚举所有可能的 $N$ 位整数是不可行的。因此，动态规划是解决该问题的合适方法。

### 最优关键思路或技巧

1. **状态定义**：定义 $dp[i][j]$ 表示长度为 $i$ 且最后一位数字为 $j$ 的满足条件的整数的个数。
2. **状态转移**：对于每个长度为 $i$ 的整数，其最后一位数字 $j$ 只能与前一位数字 $k$ 满足 $|j - k| \le 1$。因此，状态转移方程为：
   \[
   dp[i][j] = dp[i-1][j-1] + dp[i-1][j] + dp[i-1][j+1]
   \]
   其中 $j$ 的范围是 $1$ 到 $9$，且需要处理边界情况（即 $j=1$ 和 $j=9$ 时）。
3. **初始化**：长度为 $1$ 的整数，其最后一位数字 $j$ 可以是 $1$ 到 $9$，因此 $dp[1][j] = 1$。
4. **结果计算**：最终结果为所有长度为 $N$ 的整数的个数之和，即：
   \[
   \sum_{j=1}^{9} dp[N][j]
   \]
   并将结果对 $998244353$ 取模。

### 推荐题目

1. [P1044 栈](https://www.luogu.com.cn/problem/P1044) - 考察动态规划的应用。
2. [P1057 传球游戏](https://www.luogu.com.cn/problem/P1057) - 动态规划与状态转移的结合。
3. [P1063 能量项链](https://www.luogu.com.cn/problem/P1063) - 动态规划在区间问题中的应用。

### 通用建议与扩展思路

对于类似的动态规划问题，关键在于如何定义状态和状态转移方程。在处理边界条件时，需要特别小心，确保不会出现数组越界或逻辑错误。此外，对于大范围的 $N$，优化空间复杂度也是需要考虑的，例如使用滚动数组来减少内存使用。

### 核心代码实现

```cpp
#include <bits/stdc++.h>
using namespace std;
const int MOD = 998244353;

int main() {
    int N;
    cin >> N;
    vector<vector<long long>> dp(N+1, vector<long long>(10, 0));
    for (int j = 1; j <= 9; ++j) {
        dp[1][j] = 1;
    }
    for (int i = 2; i <= N; ++i) {
        for (int j = 1; j <= 9; ++j) {
            dp[i][j] = dp[i-1][j];
            if (j > 1) dp[i][j] += dp[i-1][j-1];
            if (j < 9) dp[i][j] += dp[i-1][j+1];
            dp[i][j] %= MOD;
        }
    }
    long long ans = 0;
    for (int j = 1; j <= 9; ++j) {
        ans = (ans + dp[N][j]) % MOD;
    }
    cout << ans << endl;
    return 0;
}
```

**核心实现思想**：通过动态规划的方式，逐步计算长度为 $i$ 且最后一位数字为 $j$ 的满足条件的整数的个数，最终将所有可能的 $j$ 的结果相加并对 $998244353$ 取模。

---
处理用时：30.82秒
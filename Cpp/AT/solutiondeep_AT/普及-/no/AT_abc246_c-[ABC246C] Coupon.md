# 题目信息

# [ABC246C] Coupon

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc246/tasks/abc246_c

$ N $ 個の商品があります。$ i\ =\ 1,\ 2,\ \ldots,\ N $ について、$ i $ 番目の商品の値段は $ A_i $ 円です。

高橋君は $ K $ 枚のクーポンを持っています。  
 $ 1 $ 枚のクーポンは $ 1 $ つの商品に対して使用することができ、$ 1 $ つの商品に対してはクーポンを何枚でも（ $ 0 $ 枚でもよい）使用することができます。 値段が $ a $ 円の商品に対して $ k $ 枚のクーポンを使用すると、その商品を $ \max\lbrace\ a\ -\ kX,\ 0\rbrace $ 円で買うことができます。

高橋君がすべての商品を買うために支払う合計金額の最小値を出力してください。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ K,\ X\ \leq\ 10^9 $
- $ 1\ \leq\ A_i\ \leq\ 10^9 $
- 入力はすべて整数

### Sample Explanation 1

$ 1 $ 番目の商品に対してクーポン $ 1 $ 枚、$ 3 $ 番目の商品に対してクーポン $ 1 $ 枚、$ 5 $ 番目の商品に対してクーポン $ 2 $ 枚を使用すると、 - $ 1 $ 番目の商品を $ \max\lbrace\ A_1-X,\ 0\ \rbrace\ =\ 1 $ 円で買うことができ、 - $ 2 $ 番目の商品を $ \max\lbrace\ A_2,\ 0\ \rbrace\ =\ 3 $ 円で買うことができ、 - $ 3 $ 番目の商品を $ \max\lbrace\ A_3-X,\ 0\ \rbrace\ =\ 3 $ 円で買うことができ、 - $ 4 $ 番目の商品を $ \max\lbrace\ A_4,\ 0\ \rbrace\ =\ 5 $ 円で買うことができ、 - $ 5 $ 番目の商品を $ \max\lbrace\ A_5-2X,\ 0\ \rbrace\ =\ 0 $ 円で買うことができます。 よって、すべての商品を $ 1\ +\ 3\ +\ 3\ +\ 5\ +\ 0\ =\ 12 $ 円で買うことができ、これが最小です。

## 样例 #1

### 输入

```
5 4 7

8 3 10 5 13```

### 输出

```
12```

## 样例 #2

### 输入

```
5 100 7

8 3 10 5 13```

### 输出

```
0```

## 样例 #3

### 输入

```
20 815 60

2066 3193 2325 4030 3725 1669 1969 763 1653 159 5311 5341 4671 2374 4513 285 810 742 2981 202```

### 输出

```
112```

# AI分析结果

### 题目内容重写

**题目描述**

有 $N$ 个商品。对于 $i = 1, 2, \ldots, N$，第 $i$ 个商品的价格为 $A_i$ 元。

高桥君有 $K$ 张优惠券。每张优惠券可以用于一个商品，且一个商品可以使用任意数量的优惠券（包括不使用）。对于一个价格为 $a$ 元的商品，使用 $k$ 张优惠券后，该商品的价格将变为 $\max\{a - kX, 0\}$ 元。

请计算高桥君购买所有商品所需支付的最小总金额。

**输入格式**

第一行包含三个整数 $N, K, X$，分别表示商品的数量、优惠券的数量和每张优惠券的折扣金额。

第二行包含 $N$ 个整数 $A_1, A_2, \ldots, A_N$，表示每个商品的价格。

**输出格式**

输出一个整数，表示高桥君购买所有商品所需支付的最小总金额。

**样例解释**

**样例 1**

输入：
```
5 4 7
8 3 10 5 13
```
输出：
```
12
```
解释：
- 对第 1 个商品使用 1 张优惠券，价格变为 $\max\{8 - 7, 0\} = 1$ 元。
- 对第 3 个商品使用 1 张优惠券，价格变为 $\max\{10 - 7, 0\} = 3$ 元。
- 对第 5 个商品使用 2 张优惠券，价格变为 $\max\{13 - 14, 0\} = 0$ 元。
- 其他商品不使用优惠券。
总金额为 $1 + 3 + 3 + 5 + 0 = 12$ 元。

**样例 2**

输入：
```
5 100 7
8 3 10 5 13
```
输出：
```
0
```
解释：
所有商品都可以通过使用足够的优惠券将价格降为 0 元。

**样例 3**

输入：
```
20 815 60
2066 3193 2325 4030 3725 1669 1969 763 1653 159 5311 5341 4671 2374 4513 285 810 742 2981 202
```
输出：
```
112
```

### 算法分类

贪心

### 题解分析与结论

**题解1：Tsawke**

**评分：4星**

**关键亮点：**
1. **贪心策略**：首先对所有商品尽可能多地使用优惠券，直到商品价格小于 $X$，然后对剩余的商品按价格降序排序，优先对价格最高的商品使用剩余的优惠券。
2. **代码简洁**：代码逻辑清晰，易于理解。
3. **优化**：通过排序和贪心策略，确保优惠券的使用效率最大化。

**核心代码：**
```cpp
for(int i = 1; i <= N; ++i){
    while(K && a[i] >= X) --K, a[i] -= X;
}
sort(a + 1, a + N + 1, greater<int>());
ll ans(0);
for(int i = K + 1; i <= N; ++i) ans += a[i];
printf("%lld\n", ans);
```

**个人心得：**
- **调试经历**：在实现过程中，需要注意优惠券的使用顺序，确保优先对价格较高的商品使用优惠券，以避免浪费。
- **顿悟感想**：通过排序和贪心策略，可以有效地减少代码复杂度，并确保优惠券的使用效率最大化。

### 最优关键思路或技巧

1. **贪心策略**：优先对价格较高的商品使用优惠券，以确保优惠券的使用效率最大化。
2. **排序**：对商品价格进行降序排序，便于优先处理价格较高的商品。
3. **边界处理**：在处理优惠券时，需要注意商品价格可能降为 0 的情况，避免不必要的计算。

### 可拓展之处

1. **类似问题**：在处理资源分配问题时，贪心策略常常能够有效地优化资源的使用效率。例如，在任务调度、背包问题等场景中，贪心策略可以帮助我们快速找到近似最优解。
2. **算法套路**：在处理需要优先处理某些元素的问题时，排序和贪心策略是常用的方法。通过排序，我们可以确保优先处理对结果影响最大的元素，从而优化整体结果。

### 推荐题目

1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
2. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)
3. [P1803 凌乱的yyy / 线段覆盖](https://www.luogu.com.cn/problem/P1803)

这些题目都涉及到贪心策略的应用，通过优先处理某些元素来优化整体结果，与本题的解题思路相似。

---
处理用时：30.53秒
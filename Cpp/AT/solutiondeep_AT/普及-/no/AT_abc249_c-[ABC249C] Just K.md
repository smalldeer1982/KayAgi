# 题目信息

# [ABC249C] Just K

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc249/tasks/abc249_c

英小文字のみからなる $ N $ 個の文字列 $ S_1,S_2,\dots,S_N $ が与えられます。

$ S_1,S_2,\dots,S_N $ から文字列を好きな個数選ぶことを考えます。

このとき、「選んだ文字列の中でちょうど $ K $ 個の文字列に登場する英小文字」の種類数としてあり得る最大値を求めてください。

## 说明/提示

### 制約

- $ 1\ \le\ N\ \le\ 15 $
- $ 1\ \le\ K\ \le\ N $
- $ N,K $ は整数
- $ S_i $ は英小文字からなる空でない文字列である。
- $ 1\ \le\ i\ \le\ N $ を満たす整数 $ i $ に対し、$ S_i $ に同じ文字は $ 2 $ 個以上含まれない。
- $ i\ \neq\ j $ ならば $ S_i\ \neq\ S_j $ である。

### Sample Explanation 1

$ S_1,S_3,S_4 $ を選んだ場合、`a`,`b`,`c` がちょうど $ 2 $ 個の文字列に含まれます。 $ 4 $ 個以上の文字がちょうど $ 2 $ 個の文字列に含まれるような選び方は存在しないため、答えは $ 3 $ です。

### Sample Explanation 2

同じ文字列を複数回選ぶことはできません。

## 样例 #1

### 输入

```
4 2

abi

aef

bc

acg```

### 输出

```
3```

## 样例 #2

### 输入

```
2 2

a

b```

### 输出

```
0```

## 样例 #3

### 输入

```
5 2

abpqxyz

az

pq

bc

cy```

### 输出

```
7```

# AI分析结果

【题目内容】

# [ABC249C] Just K

## 题目描述

给定由小写字母组成的 $ N $ 个字符串 $ S_1,S_2,\dots,S_N $。

考虑从 $ S_1,S_2,\dots,S_N $ 中选择任意数量的字符串。

此时，求“在选中的字符串中恰好出现在 $ K $ 个字符串中的小写字母”的种类数的最大值。

## 说明/提示

### 制約

- $ 1\ \le\ N\ \le\ 15 $
- $ 1\ \le\ K\ \le\ N $
- $ N,K $ 是整数
- $ S_i $ 是由小写字母组成的非空字符串。
- 对于满足 $ 1\ \le\ i\ \le\ N $ 的整数 $ i $，$ S_i $ 中不包含重复的字符。
- 如果 $ i\ \neq\ j $，则 $ S_i\ \neq\ S_j $。

### Sample Explanation 1

如果选择 $ S_1,S_3,S_4 $，则 `a`,`b`,`c` 恰好出现在 $ 2 $ 个字符串中。不存在使得 $ 4 $ 个或更多字符恰好出现在 $ 2 $ 个字符串中的选择方式，因此答案是 $ 3 $。

### Sample Explanation 2

不能多次选择同一个字符串。

## 样例 #1

### 输入

```
4 2

abi

aef

bc

acg```

### 输出

```
3```

## 样例 #2

### 输入

```
2 2

a

b```

### 输出

```
0```

## 样例 #3

### 输入

```
5 2

abpqxyz

az

pq

bc

cy```

### 输出

```
7```

【算法分类】
枚举

【综合分析与结论】
本题的核心在于枚举所有可能的字符串选择组合，并统计每种组合中恰好出现在 $ K $ 个字符串中的字符种类数。由于 $ N $ 的最大值为 15，总共有 $ 2^{15} = 32768 $ 种可能的组合，因此可以通过枚举所有组合来解决问题。

【通用建议与扩展思路】
1. **枚举所有组合**：由于 $ N $ 较小，可以直接枚举所有可能的字符串选择组合。
2. **统计字符出现次数**：对于每种组合，统计每个字符出现在多少个选中的字符串中。
3. **筛选符合条件的字符**：统计恰好出现在 $ K $ 个字符串中的字符种类数，并记录最大值。

【推荐题目】
1. [P1464 Function](https://www.luogu.com.cn/problem/P1464) - 枚举与递归的结合。
2. [P1219 八皇后](https://www.luogu.com.cn/problem/P1219) - 枚举与回溯的应用。
3. [P1036 选数](https://www.luogu.com.cn/problem/P1036) - 枚举与组合的题目。

---
处理用时：16.21秒
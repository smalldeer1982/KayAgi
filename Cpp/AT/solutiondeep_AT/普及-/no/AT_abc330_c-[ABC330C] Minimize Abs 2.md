# 题目信息

# [ABC330C] Minimize Abs 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc330/tasks/abc330_c

正整数 $ D $ が与えられます。

非負整数 $ x,y $ に対する $ |x^2+y^2-D| $ の最小値を求めてください。

## 说明/提示

### 制約

- $ 1\leq\ D\ \leq\ 2\times\ 10^{12} $
- 入力は全て整数
 
### Sample Explanation 1

$ x=4,y=2 $ のとき $ |x^2+y^2-D|\ =\ |16+4-21|=1 $ となります。 $ |x^2+y^2-D|=0 $ を満たすような非負整数 $ x,y $ は存在しないので、答えは $ 1 $ です。

## 样例 #1

### 输入

```
21```

### 输出

```
1```

## 样例 #2

### 输入

```
998244353```

### 输出

```
0```

## 样例 #3

### 输入

```
264428617```

### 输出

```
32```

# AI分析结果

### 题目内容重写
给定一个正整数 $D$，找到非负整数 $x$ 和 $y$，使得 $|x^2 + y^2 - D|$ 的值最小。

### 算法分类
数学、枚举

### 题解分析与结论
本题的核心是通过枚举 $x$ 并计算对应的 $y$，来找到使 $|x^2 + y^2 - D|$ 最小的解。由于 $D$ 的范围较大（$1 \leq D \leq 2 \times 10^{12}$），直接枚举所有可能的 $x$ 和 $y$ 是不可行的。因此，大多数题解都采用了优化策略，通过枚举 $x$ 并利用数学性质快速计算 $y$ 的可能取值，从而减少计算量。

### 精选题解
1. **作者：OldDriverTree (5星)**
   - **关键亮点**：通过枚举 $x$ 并分别计算 $y$ 的下取整和上取整，直接得到最小差值。代码简洁，思路清晰。
   - **核心代码**：
     ```cpp
     for (int x=0;x*x<=d;x++) {
         y=sqrt(d-x*x);
         ans=min(ans,d-x*x-y*y);
         y=ceil(sqrt(d-x*x) );
         ans=min(ans,x*x+y*y-d);
     }
     ```
   - **个人心得**：通过分类讨论 $x^2 + y^2 \leq D$ 和 $x^2 + y^2 \geq D$ 两种情况，简化了问题。

2. **作者：time_keeper (4星)**
   - **关键亮点**：通过计算 $y$ 的可能取值，并比较 $y$ 和 $y+1$ 的情况，找到最小差值。代码可读性强。
   - **核心代码**：
     ```cpp
     for (i = 1; i * i <= d; ++i) {
         j = sqrt(d - i * i);
         ll dist1 = d - i * i - j * j;
         ll dist2 = Abs(d - i * i - (j + 1) * (j + 1));
         min_dist = min(min_dist, min(dist1, dist2));
     }
     ```
   - **个人心得**：通过优化 $y$ 的取值，减少了不必要的计算。

3. **作者：zhangboyong (4星)**
   - **关键亮点**：使用二分查找优化 $y$ 的计算，进一步减少了时间复杂度。代码结构清晰。
   - **核心代码**：
     ```cpp
     for(int i = 1;i*i<=d;i++){
         int rst = d-i*i;
         int y = lower_bound(pfs,pfs+5000001,rst)-pfs;
         if(pfs[y]==rst){
             cout << 0;
             return 0;
         }else{
             if(rst-pfs[y-1]<pfs[y]-rst){
                 ans = min(ans,rst-pfs[y-1]);
             }else{
                 ans = min(ans,pfs[y]-rst);
             }
         }
     }
     ```
   - **个人心得**：通过二分查找优化了 $y$ 的计算，提高了效率。

### 最优关键思路
通过枚举 $x$ 并利用数学性质（如平方根的下取整和上取整）快速计算 $y$ 的可能取值，从而减少计算量。这种方法在保证精度的同时，显著降低了时间复杂度。

### 可拓展之处
类似的问题可以通过枚举一个变量并利用数学性质优化另一个变量的计算来解决。例如，寻找满足某些条件的整数解时，可以通过枚举一个变量并利用不等式或数学公式快速计算另一个变量的取值。

### 推荐题目
1. [P1029 最大公约数和最小公倍数问题](https://www.luogu.com.cn/problem/P1029)
2. [P1045 麦森数](https://www.luogu.com.cn/problem/P1045)
3. [P1072 Hankson 的趣味题](https://www.luogu.com.cn/problem/P1072)

---
处理用时：25.99秒
# 题目信息

# [ABC332C] T-shirts

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc332/tasks/abc332_c

AtCoder 社は[ロゴ入りの T シャツ](https://suzuri.jp/AtCoder/5510290/t-shirt/s/ash)を販売しています。

高橋君の $ N $ 日間の予定が `0`, `1`, `2` のみからなる長さ $ N $ の文字列 $ S $ で与えられます。  
具体的には、$ 1\leq\ i\leq\ N $ をみたす整数 $ i $ について、

- $ S $ の $ i $ 文字目が `0` のとき、$ i $ 日目に何の予定も入っていません。
- $ S $ の $ i $ 文字目が `1` のとき、$ i $ 日目に高橋君は食事に行く予定があります。
- $ S $ の $ i $ 文字目が `2` のとき、$ i $ 日目に高橋君は競技プログラミングのイベントに行く予定が入っています。

高橋君は無地の T シャツを $ M $ 枚持っており、$ 1 $ 日目の直前の時点ですべて洗濯済みの状態となっています。  
これに加えて、次の条件をみたすように行動できるように、高橋君は AtCoder のロゴ入りの T シャツを何枚か購入する事にしました。

- 食事に行く日には、無地の T シャツ $ 1 $ 枚またはロゴ入りの T シャツ $ 1 $ 枚を着用する。
- 競技プログラミングのイベントに行く日にはロゴ入りの T シャツ $ 1 $ 枚を着用する。
- 何の予定もない日には T シャツを着用しない。加えて、その時点で着用済みの T シャツを全て洗濯する。 洗濯した T シャツは翌日から着用できる。
- 一度着用した T シャツは次に洗濯するまで着用できない。

$ N $ 日間のうち予定が入っている日すべてについて、条件をみたす T シャツを着用できるようにするために、高橋君は最低何枚のTシャツを購入する必要があるか求めてください。 新しく T シャツを購入する必要がないならば $ 0 $ を出力してください。  
ただし、購入した T シャツも $ 1 $ 日目の直前の時点ですべて洗濯済みの状態で存在するものとします。

## 说明/提示

### 制約

- $ 1\leq\ M\leq\ N\leq\ 1000 $
- $ S $ は `0`, `1`, `2` のみからなる長さ $ N $ の文字列
- $ N,M $ は整数

### Sample Explanation 1

高橋君がロゴ入りの T シャツを $ 2 $ 枚購入したとき、次のようにして高橋君は T シャツを着用することができます。 - $ 1 $ 日目、高橋君はロゴ入りの T シャツを着用して食事に行きます。 - $ 2 $ 日目、高橋君は無地の T シャツを着用して食事に行きます。 - $ 3 $ 日目、高橋君はロゴ入りの T シャツを着用して競技プログラミングのイベントに行きます。 - $ 4 $ 日目、高橋君は予定がないため、着用した T シャツをすべて洗濯します。これにより、$ 1,2,3 $ 日目に着用した T シャツを再び着用することが可能になります。 - $ 5 $ 日目、高橋君はロゴ入りの T シャツを着用して競技プログラミングのイベントに行きます。 - $ 6 $ 日目、高橋君はロゴ入りの T シャツを着用して競技プログラミングのイベントに行きます。 高橋君がロゴ入りの T シャツを $ 1 $ 枚以下しか購入しなかった場合には、 どのようにしても条件をみたすように T シャツを着用することができません。 よって、$ 2 $ を出力します。

### Sample Explanation 3

高橋君は新しく T シャツを購入する必要はありません。

## 样例 #1

### 输入

```
6 1
112022```

### 输出

```
2```

## 样例 #2

### 输入

```
3 1
222```

### 输出

```
3```

## 样例 #3

### 输入

```
2 1
01```

### 输出

```
0```

# AI分析结果

### 题目内容
AtCoder 社正在销售带有 Logo 的 T 恤。

高桥君有一个长度为 $N$ 的字符串 $S$，表示他 $N$ 天的日程安排。字符串 $S$ 仅由字符 `0`、`1`、`2` 组成，具体含义如下：

- 如果 $S$ 的第 $i$ 个字符为 `0`，表示第 $i$ 天没有安排。
- 如果 $S$ 的第 $i$ 个字符为 `1`，表示第 $i$ 天高桥君有吃饭的安排。
- 如果 $S$ 的第 $i$ 个字符为 `2`，表示第 $i$ 天高桥君有参加编程竞赛的安排。

高桥君有 $M$ 件无印 T 恤，且在第一天开始时所有 T 恤都是干净的。他需要购买一些带有 Logo 的 T 恤，以满足以下条件：

- 在吃饭的日子，他可以穿一件无印 T 恤或一件带有 Logo 的 T 恤。
- 在参加编程竞赛的日子，他必须穿一件带有 Logo 的 T 恤。
- 在没有安排的日子，他不会穿任何 T 恤，并且会清洗所有已经穿过的 T 恤。清洗后的 T 恤可以在第二天开始使用。
- 一件 T 恤在清洗之前只能穿一次。

求高桥君最少需要购买多少件带有 Logo 的 T 恤才能满足所有日子的需求。如果不需要购买新的 T 恤，则输出 `0`。

### 算法分类
贪心

### 题解分析与结论
该题的核心是通过贪心策略来最小化购买带有 Logo 的 T 恤的数量。大多数题解都采用了类似的思路：优先使用无印 T 恤，只有在必要时才使用或购买带有 Logo 的 T 恤。难点在于如何在不同的日程安排下合理地管理 T 恤的使用和清洗。

### 精选题解
#### 题解1：xxr___ (4星)
**关键亮点**：通过贪心策略，优先使用无印 T 恤，只有在无印 T 恤不够时才使用或购买带有 Logo 的 T 恤。代码简洁明了，逻辑清晰。
**核心代码**：
```cpp
for(int i=0;i<n;i++){
    if(s[i]=='0'){
        ft=m;bt=bt2;
    }
    if(s[i]=='1'){
        if(ft>0)ft--;
        else if(ft==0&&bt>0) bt--;
        else if(ft==0&&bt==0) bt2++;
    }
    if(s[i]=='2'){
        if(bt>0)bt--;
        else bt2++;
    }
}
```
**个人心得**：作者提到在赛场上通过贪心策略快速解决了问题，代码简洁且易于理解。

#### 题解2：rainbow_cat (4星)
**关键亮点**：采用二分查找的方法，通过 `check` 函数验证是否满足条件，思路清晰且具有较好的扩展性。
**核心代码**：
```cpp
bool check(int x){
    int nnum=m,anum=x;
    for(int i=1;i<=n;i++){
        if(c[i]=='0')nnum=m,anum=x;
        if(c[i]=='1'){
            if(nnum)nnum--;
            else if(anum)anum--;
            else return 0;
        }
        if(c[i]=='2'){
            if(anum)anum--;
            else return 0;
        }
    }
    return 1;
}
```
**个人心得**：作者提到二分查找的思路虽然复杂一些，但能够更好地处理边界情况，适合对贪心策略不熟悉的选手。

#### 题解3：lemon_qwq (4星)
**关键亮点**：通过模拟每天的日程安排，优先使用无印 T 恤，逻辑清晰且代码简洁。
**核心代码**：
```cpp
for(int i=0;i<s.size();i++){
    if(s[i]=='0'){
        ss=m;lo=k;
    }
    else if(s[i]=='2'){
        if(lo-1<0){
            k++;ans++;
        }else{
            lo--;
        }
    }else{
        if(ss!=0){
            ss--;
        }else{
            if(lo-1<0){
                k++,ans++;
            }else{
                lo--;
            }
        }
    }
}
```
**个人心得**：作者提到通过模拟的思路，能够直观地理解问题，代码实现简单且易于调试。

### 最优关键思路
1. **贪心策略**：优先使用无印 T 恤，只有在必要时才使用或购买带有 Logo 的 T 恤。
2. **模拟与清洗**：在没有安排的日子，清洗所有 T 恤，重置可用 T 恤的数量。
3. **二分查找**：通过二分查找验证是否满足条件，适合处理边界情况。

### 拓展思路
类似的问题可以通过贪心策略或二分查找来解决，尤其是在资源有限的情况下，如何最小化额外资源的消耗。例如，任务调度、资源分配等问题都可以采用类似的思路。

### 推荐题目
1. [P1048 采药](https://www.luogu.com.cn/problem/P1048)
2. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)
3. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)

---
处理用时：30.49秒
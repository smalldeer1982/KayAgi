# 题目信息

# [ABC390B] Geometric Sequence

## 题目描述

给定一个正整数序列 $A$，问这个序列 $A$ 是否为等比数列。如果是，输出 `Yes` ，否则输出 `No`。

## 样例 #1

### 输入

```
5

3 6 12 24 48```

### 输出

```
Yes```

## 样例 #2

### 输入

```
3

1 2 3```

### 输出

```
No```

## 样例 #3

### 输入

```
2

10 8```

### 输出

```
Yes```

# AI分析结果

【题目内容】
# [ABC390B] Geometric Sequence

## 题目描述

给定一个正整数序列 $A$，问这个序列 $A$ 是否为等比数列。如果是，输出 `Yes` ，否则输出 `No`。

## 样例 #1

### 输入

```
5

3 6 12 24 48```

### 输出

```
Yes```

## 样例 #2

### 输入

```
3

1 2 3```

### 输出

```
No```

## 样例 #3

### 输入

```
2

10 8```

### 输出

```
Yes```

【算法分类】  
数学

【题解分析与结论】  
本题的核心是判断一个序列是否为等比数列。题解中提供了两种不同的解法，分别基于公比的计算和等比数列的性质。两种解法各有优劣，但都有效地解决了问题。

【评分较高的题解】  
1. **题解2**  
   - **星级**：5星  
   - **关键亮点**：利用等比数列的性质，通过判断 $A_i^2 = A_{i-1} \times A_{i+1}$ 来验证是否为等比数列，避免了复杂的公比计算和精度问题。  
   - **代码实现**：简洁高效，直接遍历序列进行判断，避免了浮点数精度问题。  
   - **核心代码**：
     ```cpp
     for (int i = 2; i < n; i ++) {
         if (1ll * a[i] * a[i] != 1ll * a[i - 1] * a[i + 1]) {
             cout << "No";
             return 0;
         }
     }
     ```

2. **题解1**  
   - **星级**：4星  
   - **关键亮点**：通过计算公比并验证序列中的每一项是否符合公比，使用了最大公约数（GCD）来简化公比的计算，避免了浮点数精度问题。  
   - **代码实现**：较为复杂，但通过GCD优化了公比的计算，适合对数学要求较高的场景。  
   - **核心代码**：
     ```cpp
     g = gcd(a[1], a[2]);
     p = a[2] / g;
     q = a[1] / g;
     for (int i = 2; i < n; i ++) {
         if (a[i + 1] / p != a[i] / q || a[i + 1] / p * p != a[i + 1] || a[i] / q * q != a[i]) {
             cout << "No";
             return 0;
         }
     }
     ```

【最优关键思路】  
利用等比数列的性质 $A_i^2 = A_{i-1} \times A_{i+1}$ 进行判断，避免了复杂的公比计算和浮点数精度问题，代码简洁高效。

【拓展思路】  
类似的问题可以扩展到判断等差数列、斐波那契数列等，通过数列的性质进行验证。此外，可以进一步优化代码，处理更大规模的序列。

【推荐题目】  
1. [P1029 最大公约数和最小公倍数问题](https://www.luogu.com.cn/problem/P1029)  
2. [P1036 选数](https://www.luogu.com.cn/problem/P1036)  
3. [P1045 麦森数](https://www.luogu.com.cn/problem/P1045)

---
处理用时：19.71秒
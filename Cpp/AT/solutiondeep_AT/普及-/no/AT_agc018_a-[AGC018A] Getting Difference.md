# 题目信息

# [AGC018A] Getting Difference

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc018/tasks/agc018_a

箱に $ N $ 個のボールが入っていて、$ i $ 番目のボールには整数 $ A_i $ が書かれています。 すぬけ君は、次の操作を好きな回数だけ行うことができます。

- 箱から二つのボールを取り出し、その二つのボールに書かれている数の差の絶対値を書いた新しいボールと一緒に箱に戻す。

すぬけ君が、整数 $ K $ の書かれたボールが箱の中に入っている状態にできるかどうか判定してください。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 10^5 $
- $ 1\ \leq\ A_i\ \leq\ 10^9 $
- $ 1\ \leq\ K\ \leq\ 10^9 $
- 入力はすべて整数である。

### Sample Explanation 1

まず、$ 9 $ と書かれたボールと $ 4 $ と書かれたボールを取り出し、$ abs(9-4)=5 $ なので、$ 5 $ と書かれた新しいボールと一緒に箱に戻します。 次に、$ 3 $ と書かれたボールと $ 5 $ と書かれたボールを取り出し、$ abs(3-5)=2 $ なので、$ 2 $ と書かれた新しいボールと一緒に箱に戻します。 最後に、$ 9 $ と書かれたボールと $ 2 $ と書かれたボールを取り出し、$ abs(9-2)=7 $ なので、$ 7 $ と書かれた新しいボールと一緒に箱に戻します。 $ 7 $ と書かれたボールを箱に入れることができたので、この例の答えは `POSSIBLE` になります。

### Sample Explanation 2

どれだけ操作を行っても、$ 5 $ の書かれたボールを箱の中に入れることはできません。 よってこの例の答えは、`IMPOSSIBLE` になります。

### Sample Explanation 3

操作を行うまでもなく、箱の中には $ 11 $ の書かれたボールが入っています。 よってこの例の答えは、`POSSIBLE` になります。

## 样例 #1

### 输入

```
3 7

9 3 4```

### 输出

```
POSSIBLE```

## 样例 #2

### 输入

```
3 5

6 9 3```

### 输出

```
IMPOSSIBLE```

## 样例 #3

### 输入

```
4 11

11 3 7 15```

### 输出

```
POSSIBLE```

## 样例 #4

### 输入

```
5 12

10 2 8 6 4```

### 输出

```
IMPOSSIBLE```

# AI分析结果

【题目内容重写】
# [AGC018A] Getting Difference

## 题目描述

箱子里有 $N$ 个球，第 $i$ 个球上写有整数 $A_i$。 すぬけ君可以进行以下操作任意次：

- 从箱子里取出两个球，将这两个球上的数的差的绝对值写在一个新球上，并将这个新球放回箱子。

すぬけ君能否通过上述操作，使得箱子里有一个写有整数 $K$ 的球？

## 说明/提示

### 制約

- $1 \leq N \leq 10^5$
- $1 \leq A_i \leq 10^9$
- $1 \leq K \leq 10^9$
- 输入均为整数。

### 样例解释

样例1：通过操作可以得到7，输出`POSSIBLE`。

样例2：无法得到5，输出`IMPOSSIBLE`。

样例3：初始就有11，输出`POSSIBLE`。

## 样例 #1

### 输入

```
3 7

9 3 4
```

### 输出

```
POSSIBLE
```

## 样例 #2

### 输入

```
3 5

6 9 3
```

### 输出

```
IMPOSSIBLE
```

## 样例 #3

### 输入

```
4 11

11 3 7 15
```

### 输出

```
POSSIBLE
```

## 样例 #4

### 输入

```
5 12

10 2 8 6 4
```

### 输出

```
IMPOSSIBLE
```

【算法分类】
数学

【题解分析与结论】
本题的核心在于通过数学分析确定是否可以通过多次取差操作得到目标数 $K$。所有题解都基于裴蜀定理和最大公约数（GCD）的性质，得出以下结论：
1. $K$ 必须是所有 $A_i$ 的最大公约数 $d$ 的倍数。
2. $K$ 必须小于等于所有 $A_i$ 的最大值。

【高星题解】
1. **DreamsChaser (5星)**
   - 关键亮点：清晰地运用了裴蜀定理，并给出了严谨的数学证明，思路清晰，代码简洁。
   - 代码核心：
     ```cpp
     int d = gcd(a[0], a[1]);
     for (int i = 2; i < n; ++i) d = gcd(d, a[i]);
     if (k % d == 0 && k <= *max_element(a.begin(), a.end())) cout << "POSSIBLE";
     else cout << "IMPOSSIBLE";
     ```

2. **CQ_Bab (4星)**
   - 关键亮点：代码实现简洁，逻辑清晰，适合初学者理解。
   - 代码核心：
     ```cpp
     int g = a[0];
     for (int i = 1; i < n; ++i) g = __gcd(g, a[i]);
     if (k % g == 0 && k <= maxn) puts("POSSIBLE");
     else puts("IMPOSSIBLE");
     ```

3. **Ca1JH (4星)**
   - 关键亮点：代码实现简洁，逻辑清晰，适合初学者理解。
   - 代码核心：
     ```cpp
     for (int i = 1; i < n; ++i) a[0] = __gcd(a[0], a[i]);
     if (k % a[0] == 0 && k <= maxn) cout << "POSSIBLE";
     else cout << "IMPOSSIBLE";
     ```

【最优关键思路】
通过计算所有数的最大公约数 $d$，判断 $K$ 是否是 $d$ 的倍数且不超过最大值。这一思路基于裴蜀定理，确保了问题的正确性和高效性。

【拓展思路】
类似的问题可以通过数学分析转化为最大公约数或最小公倍数的问题，例如判断是否可以通过加减操作得到某个数。

【推荐题目】
1. [P4549 【模板】裴蜀定理](https://www.luogu.com.cn/problem/P4549)
2. [P1072 Hankson 的趣味题](https://www.luogu.com.cn/problem/P1072)
3. [P1082 同余方程](https://www.luogu.com.cn/problem/P1082)

【个人心得摘录】
- **DreamsChaser**：通过裴蜀定理的应用，简化了问题的复杂性，避免了暴力枚举的低效。
- **CQ_Bab**：强调了最大公约数的重要性，并指出 $K$ 必须小于等于最大值，避免了一些常见的错误。

---
处理用时：27.62秒
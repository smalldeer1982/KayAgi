# 题目信息

# [AGC034A] Kenken Race

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc034/tasks/agc034_a

$ N $ 個の一列に並んだマス目があり、左から順に番号 $ 1,\ 2,\ ...,\ N $ がついています。長さ $ N $ の `.`, `#` からなる文字列 $ S $ が与えられ、$ S $ の $ i $ 文字目が `#` のときマス目 $ i $ には岩が置かれており、$ S $ の $ i $ 文字目が `.` のときマス目 $ i $ には何も置かれていません。

最初、マス目 $ A $ にすぬけ君、$ B $ にふぬけ君がいます。

あなたは以下の操作を好きなだけ繰り返すことができます。

- すぬけ君かふぬけ君を選び、$ 1 $ マス右か $ 2 $ マス右にジャンプさせる。このときジャンプ先にマスが存在しなければならず、またそのマスに岩が置かれていたりもう一人がいてはならない。

あなたはこの操作を繰り返し、マス目 $ C $ にすぬけ君が、$ D $ にふぬけ君がいるようにしたいです。

このようなことが可能かどうかを判定してください。

## 说明/提示

### 制約

- $ 4\ \leq\ N\ \leq\ 200,000 $
- $ S $ は `.`, `#` からなる長さ $ N $ の文字列
- $ 1\ \leq\ A,\ B,\ C,\ D\ \leq\ N $
- マス目 $ A,\ B,\ C,\ D $ に岩は置かれていない
- $ A,\ B,\ C,\ D $ はすべて異なる
- $ A\ <\ B $
- $ A\ <\ C $
- $ B\ <\ D $

### Sample Explanation 1

たとえば、以下のように移動させれば良いです(すぬけ君、ふぬけ君を `A`, `B` で表します) ``` A#B.#.. A#.B#.. .#AB#.. .#A.#B. .#.A#B. .#.A#.B .#..#AB ```

## 样例 #1

### 输入

```
7 1 3 6 7

.#..#..```

### 输出

```
Yes```

## 样例 #2

### 输入

```
7 1 3 7 6

.#..#..```

### 输出

```
No```

## 样例 #3

### 输入

```
15 1 3 15 13

...#.#...#.#...```

### 输出

```
Yes```

# AI分析结果

【题目内容】
# [AGC034A] Kenken Race

## 题目描述

$ N $ 个一列排列的格子，从左到右依次编号为 $ 1,\ 2,\ ...,\ N $。给定一个长度为 $ N $ 的由 `.` 和 `#` 组成的字符串 $ S $，$ S $ 的第 $ i $ 个字符为 `#` 时表示格子 $ i $ 上有岩石，为 `.` 时表示格子 $ i $ 上没有岩石。

最初，格子 $ A $ 上有すぬけ君，格子 $ B $ 上有ふぬけ君。

你可以进行以下操作任意次：

- 选择すぬけ君或ふぬけ君，将其向右跳 $ 1 $ 格或 $ 2 $ 格。跳跃的目标格子必须存在，且不能有岩石或另一个角色。

你的目标是通过这些操作，使得すぬけ君最终位于格子 $ C $，ふぬけ君最终位于格子 $ D $。

请判断是否可以实现这一目标。

## 说明/提示

### 约束

- $ 4\ \leq\ N\ \leq\ 200,000 $
- $ S $ 是由 `.` 和 `#` 组成的长度为 $ N $ 的字符串
- $ 1\ \leq\ A,\ B,\ C,\ D\ \leq\ N $
- 格子 $ A,\ B,\ C,\ D $ 上没有岩石
- $ A,\ B,\ C,\ D $ 互不相同
- $ A\ <\ B $
- $ A\ <\ C $
- $ B\ <\ D $

### 样例解释

例如，可以通过以下移动实现目标（用 `A` 表示すぬけ君，`B` 表示ふぬけ君）：

```
A#B.#..
A#.B#..
.#AB#..
.#A.#B.
.#.A#B.
.#.A#.B
.#..#AB
```

## 样例 #1

### 输入

```
7 1 3 6 7

.#..#..```

### 输出

```
Yes```

## 样例 #2

### 输入

```
7 1 3 7 6

.#..#..```

### 输出

```
No```

## 样例 #3

### 输入

```
15 1 3 15 13

...#.#...#.#...```

### 输出

```
Yes```

【算法分类】
模拟

【题解分析与结论】

本题的核心在于模拟两个角色的移动过程，判断是否存在一条路径使得两个角色都能到达目标位置。题解的主要思路是通过分类讨论，分别处理两种情况：$ C < D $ 和 $ D < C $。在 $ C < D $ 的情况下，两个角色的移动互不影响，可以直接判断各自是否能够到达目标位置。而在 $ D < C $ 的情况下，需要考虑ふぬけ君的移动是否会影响すぬけ君的路径，特别是在ふぬけ君到达目标位置后，すぬけ君是否还能通过交换位置的方式到达目标。

【评分较高的题解】

1. **作者：Strelitzia_ (4星)**
   - **关键亮点**：通过分类讨论，分别处理 $ C < D $ 和 $ D < C $ 的情况，思路清晰，代码简洁。
   - **代码核心**：
     ```cpp
     if(c<d){
         for(int i=a;i<=d;i++){
             if(s[i]=='#'&&s[i+1]=='#'){
                 printf("No\n");
                 return 0;
             }
         }
         printf("Yes\n");
         return 0;
     }
     ```
   - **个人心得**：在处理 $ D < C $ 的情况时，通过检查是否存在连续三个空位来交换两个角色的位置，这一思路非常巧妙。

2. **作者：sudaJones (4星)**
   - **关键亮点**：详细分析了两种情况的处理方式，代码结构清晰，注释详细。
   - **代码核心**：
     ```cpp
     if(c<d){
         for(int i=b; i<=d;i++)
             if(s[i]=='#'&&s[i+1]=='#'){
                 cout<<"No"<<endl;
                 return 0;
             }
         for(int i=a;i<=c;i++)
             if(s[i]=='#'&&s[i+1]=='#'){
                 cout<<"No";
                 return 0;
             }
         cout<<"Yes"<<endl;
         return 0;
     }
     ```
   - **个人心得**：在处理 $ D < C $ 的情况时，通过检查ふぬけ君移动后是否会影响すぬけ君的路径，这一思路非常实用。

【最优关键思路或技巧】
- **分类讨论**：根据 $ C $ 和 $ D $ 的相对位置，分别处理两个角色的移动路径。
- **交换位置**：在 $ D < C $ 的情况下，通过检查是否存在连续三个空位来交换两个角色的位置，确保すぬけ君能够到达目标。

【可拓展之处】
- 类似的问题可以扩展到多个角色的移动，或者增加移动的步数限制。
- 可以进一步优化算法，减少不必要的检查，提高效率。

【推荐题目】
1. [P1002 过河卒](https://www.luogu.com.cn/problem/P1002)
2. [P1044 栈](https://www.luogu.com.cn/problem/P1044)
3. [P1056 排座椅](https://www.luogu.com.cn/problem/P1056)

---
处理用时：31.32秒
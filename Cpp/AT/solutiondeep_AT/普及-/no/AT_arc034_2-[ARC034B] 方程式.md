# 题目信息

# [ARC034B] 方程式

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc034/tasks/arc034_2

正整数 $ n $ に対し、$ n $ の十進表記における各桁の数の和を $ f(n) $ で表す。例えば、 $ f(123)\ =\ 1\ +\ 2\ +\ 3\ =\ 6, $ $ f(4)\ =\ 4 $ となる。

正整数 $ N $ が与えられる。等式 $ x\ +\ f(x)\ =\ N $ を満たす正整数 $ x $ を全て求めよ。

## 说明/提示

### 部分点

この問題には部分点が設定されている。

- $ 20 $ 点分のテストケースは $ 1\ ≦\ N\ ≦\ 1000 $ を満たす。

### Sample Explanation 1

問題文で述べたように $ f(4)\ =\ 4 $ であり、 $ 4 $ 以外に題意を満たす正整数は存在しない。

### Sample Explanation 2

複数の解が存在することがある。

### Sample Explanation 3

解が存在しないこともある。

## 样例 #1

### 输入

```
8```

### 输出

```
1

4```

## 样例 #2

### 输入

```
101```

### 输出

```
2

91

100```

## 样例 #3

### 输入

```
108```

### 输出

```
0```

# AI分析结果

### 题目内容重写
# [ARC034B] 方程式

## 题目描述

正整数 $ n $ に対し、$ n $ 的十进制表示中的各位数字之和记为 $ f(n) $。例如，$ f(123) = 1 + 2 + 3 = 6 $，$ f(4) = 4 $。

给定一个正整数 $ N $，求所有满足等式 $ x + f(x) = N $ 的正整数 $ x $。

## 说明/提示

### 部分点
- 20 分的测试用例满足 $ 1 \leq N \leq 1000 $。

### 样例解释
- 样例1：$ x = 4 $ 是唯一满足条件的解。
- 样例2：可能存在多个解。
- 样例3：可能不存在解。

## 样例 #1
### 输入
```
8
```
### 输出
```
1
4
```

## 样例 #2
### 输入
```
101
```
### 输出
```
2
91
100
```

## 样例 #3
### 输入
```
108
```
### 输出
```
0
```

### 算法分类
数学、枚举

### 题解分析与结论
本题的核心是通过枚举找到满足 $ x + f(x) = N $ 的所有正整数 $ x $。由于 $ N $ 的范围可能很大（$ 10^{18} $），直接暴力枚举会超时。因此，所有题解都通过分析 $ f(x) $ 的最大值来缩小枚举范围，从而优化算法。

### 关键思路与技巧
1. **缩小枚举范围**：由于 $ f(x) $ 的最大值为 $ 9 \times 18 = 162 $，因此只需从 $ N - 162 $ 开始枚举到 $ N $，而不是从 $ 1 $ 开始。
2. **数字和的计算**：通过不断取模和除以 $ 10 $ 来计算 $ f(x) $，这是常见的数字和处理方法。
3. **优化循环**：部分题解进一步通过模 $ 9 $ 的性质来减少枚举次数，将循环次数从 $ 162 $ 减少到 $ 18 $。

### 推荐题目
1. [P1217 [USACO1.5]回文质数 Prime Palindromes](https://www.luogu.com.cn/problem/P1217)
2. [P1022 [NOIP2000 普及组] 计算器的改良](https://www.luogu.com.cn/problem/P1022)
3. [P1045 [NOIP2003 普及组] 麦森数](https://www.luogu.com.cn/problem/P1045)

### 个人心得总结
- **数据范围的重要性**：在竞赛中，仔细阅读题目中的数据范围是避免TLE的关键。本题中，$ N $ 的范围是 $ 10^{18} $，直接暴力枚举会导致超时。
- **优化思路**：通过分析问题的数学性质，找到缩小枚举范围的方法，是解决大范围枚举问题的常见技巧。

### 所选高分题解
#### 题解1：张文奕（4星）
**关键亮点**：
- 明确指出了枚举范围应从 $ N - 162 $ 开始，避免了不必要的循环。
- 代码简洁，逻辑清晰，易于理解。

**核心代码**：
```cpp
int work(long long x){
    int sum=0;
    while (x){
        sum+=x%10;
        x/=10;
    }
    return sum;
}
```

#### 题解2：cyn2006（4星）
**关键亮点**：
- 进一步优化了枚举范围，通过计算 $ N $ 的位数来确定 $ f(x) $ 的最大值。
- 使用了宏定义和寄存器变量来优化代码性能。

**核心代码**：
```cpp
for(rll i=max(n-len*9,1);i<=n;i++){
    x=i;ll cnt=0;
    while(x)cnt+=x%10,x/=10;
    if(cnt+i==n)a[++ans]=i;
}
```

#### 题解3：周子衡（4星）
**关键亮点**：
- 利用模 $ 9 $ 的性质进一步减少枚举次数，将循环次数从 $ 162 $ 减少到 $ 18 $。
- 代码实现简洁，优化思路清晰。

**核心代码**：
```cpp
while((i+i)%9!=n%9){
    i++;
}
for(;i<=n;i+=9){
    if(i+bit_sm(i)==n){
        fl++;
        ans[fl]=i;
    }
}
```

---
处理用时：27.20秒
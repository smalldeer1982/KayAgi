# 题目信息

# [ABC060C] Sentou

## 题目描述

在一个公共澡堂里，有一个淋浴器。在按下开关时，淋浴器将会开始运作，在 $T$ 秒内一直流出热水。

如果你在淋浴器运作的情况下时按下开关，水就会从当前时间开始继续运作 $T$ 秒，而不是让淋浴器多运作 $T$ 秒。

在这个淋浴间前，有 $N$ 个人按下开关。第 $i$ 个人在第 $1$ 个人按下开关后的第 $t_i$ 个秒按下开关。请求出淋浴器运作的总时间。

## 说明/提示

- $ 1\ \leq\ N\ \leq\ 200,000 $
- $ 1\ \leq\ T\ \leq\ 10^9 $
- $ 0\ =\ t_1\ <\ t_2\ <\ t_3\ <\ ,\ ...,\ <\ t_{N-1}\ <\ t_N\ \leq\ 10^9 $
- $ T $ 和 $ t_i $ 都是整数。

## 样例 #1

### 输入

```
2 4

0 3```

### 输出

```
7```

## 样例 #2

### 输入

```
2 4

0 5```

### 输出

```
8```

## 样例 #3

### 输入

```
4 1000000000

0 1000 1000000 1000000000```

### 输出

```
2000000000```

## 样例 #4

### 输入

```
1 1

0```

### 输出

```
1```

## 样例 #5

### 输入

```
9 10

0 3 5 7 100 110 200 300 311```

### 输出

```
67```

# AI分析结果

### 题目内容重写
在一个公共澡堂里，有一个淋浴器。在按下开关时，淋浴器将会开始运作，在 $T$ 秒内一直流出热水。

如果你在淋浴器运作的情况下时按下开关，水就会从当前时间开始继续运作 $T$ 秒，而不是让淋浴器多运作 $T$ 秒。

在这个淋浴间前，有 $N$ 个人按下开关。第 $i$ 个人在第 $1$ 个人按下开关后的第 $t_i$ 个秒按下开关。请求出淋浴器运作的总时间。

### 算法分类
模拟

### 题解分析与结论
本题的核心是通过模拟淋浴器的开关操作，计算淋浴器总共运作的时间。所有题解都采用了模拟的思路，通过记录上一次淋浴器关闭的时间，来判断当前按下开关时是否需要累加新的时间。

### 所选题解

#### 1. 作者：wimg6_ (赞：2)
**星级：4星**
**关键亮点：**
- 思路清晰，直接通过比较当前时间与上一次淋浴器关闭的时间来判断是否需要累加新的时间。
- 代码简洁，逻辑明确，易于理解。

**核心代码：**
```cpp
for(int i=1;i<=n;i++)
{
    scanf("%lld",&q);
    if(q<=p) s+=t+q-p;
    else s+=t;
    p=t+q;
}
```
**实现思想：**
通过变量 `p` 记录上一次淋浴器关闭的时间，如果当前时间 `q` 小于等于 `p`，则累加 `t+q-p`，否则累加 `t`。

#### 2. 作者：little_rubbish (赞：0)
**星级：4星**
**关键亮点：**
- 通过排序确保时间顺序正确，避免了时间混乱的问题。
- 代码结构清晰，逻辑简单，易于理解。

**核心代码：**
```cpp
for(int i=2;i<=n;i++){
    if(a[i]<sum)ans+=t-(sum-a[i]);
    else ans+=t;
    sum=a[i]+t;
}
```
**实现思想：**
通过变量 `sum` 记录上一次淋浴器关闭的时间，如果当前时间 `a[i]` 小于 `sum`，则累加 `t-(sum-a[i])`，否则累加 `t`。

#### 3. 作者：hyc1026 (赞：0)
**星级：4星**
**关键亮点：**
- 通过 `finish` 变量记录淋浴器关闭的时间，逻辑清晰。
- 代码简洁，易于理解。

**核心代码：**
```cpp
for(int i=1; i<=n; i++)
{
    if(finish <= a[i]) sum += t;
    else sum += (t-finish+a[i]);
    finish = a[i] + t;
}
```
**实现思想：**
通过变量 `finish` 记录上一次淋浴器关闭的时间，如果当前时间 `a[i]` 大于等于 `finish`，则累加 `t`，否则累加 `t-finish+a[i]`。

### 最优关键思路或技巧
- **记录上一次淋浴器关闭的时间**：通过记录上一次淋浴器关闭的时间，可以方便地判断当前按下开关时是否需要累加新的时间。
- **时间顺序处理**：确保时间顺序正确，避免时间混乱的问题。

### 可拓展之处
- **类似问题**：可以扩展到其他需要记录事件时间间隔的问题，如任务调度、资源分配等。

### 推荐题目
1. [P1886 滑动窗口](https://www.luogu.com.cn/problem/P1886)
2. [P1047 校门外的树](https://www.luogu.com.cn/problem/P1047)
3. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)

---
处理用时：21.82秒
# 题目信息

# [ABC071C] Make a Rectangle

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc071/tasks/arc081_a

太さが無視できる棒が $ N $ 本あります． $ i $ 番目の棒の長さは $ A_i $ です．

すぬけ君は，これらの棒から $ 4 $ 本の異なる棒を選び，それらの棒を辺として長方形（正方形を含む）を作りたいです． 作ることができる最大の長方形の面積を求めてください．

## 说明/提示

### 制約

- $ 4\ \leq\ N\ \leq\ 10^5 $
- $ 1\ \leq\ A_i\ \leq\ 10^9 $
- $ A_i $ は整数

### Sample Explanation 1

$ 1\ \times\ 2 $ の長方形を作ることができます．

### Sample Explanation 2

長方形を作ることはできません．

## 样例 #1

### 输入

```
6

3 1 2 4 2 1```

### 输出

```
2```

## 样例 #2

### 输入

```
4

1 2 3 4```

### 输出

```
0```

## 样例 #3

### 输入

```
10

3 3 3 3 4 4 4 5 5 5```

### 输出

```
20```

# AI分析结果

### 题目内容重写
**题目描述**  
有 $N$ 根可以忽略粗细的棒子，第 $i$ 根棒子的长度为 $A_i$。  
你需要从这些棒子中选出 $4$ 根不同的棒子，用它们作为边来组成一个长方形（包括正方形）。求可以组成的最大长方形的面积。

**说明/提示**  
- 约束条件：$4 \leq N \leq 10^5$，$1 \leq A_i \leq 10^9$，$A_i$ 为整数。
- 样例解释：
  - 样例1：可以组成 $1 \times 2$ 的长方形。
  - 样例2：无法组成长方形。

### 算法分类
排序

### 题解分析与结论
本题的核心思路是通过排序找到两对长度相同的棒子，且这两对棒子的长度尽可能大，从而组成面积最大的长方形。以下是各题解的要点对比：

1. **peppaking8**  
   - 思路：排序后倒序遍历，找到两对长度相同的棒子，记录最大值和次大值。
   - 亮点：代码简洁，倒序遍历避免重复处理，且无需特判无法组成长方形的情况。
   - 评分：5星

2. **reclusive**  
   - 思路：排序后从大到小遍历，记录两对长度相同的棒子。
   - 亮点：详细解释了正方形的情况，代码清晰。
   - 评分：4星

3. **hyc1026**  
   - 思路：排序后从大到小遍历，找到两对长度相同的棒子。
   - 亮点：代码简洁，使用自定义排序函数。
   - 评分：4星

### 最优关键思路
- **排序**：通过排序可以快速找到长度相同的棒子，且从大到小遍历可以确保找到最大的两对。
- **倒序遍历**：倒序遍历可以避免重复处理，且无需特判无法组成长方形的情况。

### 拓展思路
类似问题可以扩展到其他需要找多对相同元素的问题，如找多对相同长度的线段组成多边形等。

### 推荐题目
1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)  
2. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)  
3. [P1106 删数问题](https://www.luogu.com.cn/problem/P1106)

### 个人心得摘录
- **peppaking8**：提到“倒序遍历”可以避免重复处理，且无需特判无法组成长方形的情况，代码简洁高效。
- **reclusive**：详细解释了正方形的情况，强调了排序的重要性，代码清晰易懂。

### 核心代码片段
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
const int N=100005;
int n;
int a[N];
int cnt[3],tot=0;
signed main(){
	scanf("%lld",&n);
	for(int i=1;i<=n;i++){
		scanf("%lld",&a[i]);
	}
	sort(a+1,a+n+1);
	for(int i=n;i>=1;i--){
		if(a[i]==a[i-1]){
			cnt[++tot]=a[i];
			i--;
			if(tot==2) break;
		}
	} 
	printf("%lld\n",cnt[1]*cnt[2]);
	exit(0);
}
```

### 总结
本题通过排序和倒序遍历可以高效地找到两对长度相同的棒子，从而组成面积最大的长方形。peppaking8的题解代码简洁且高效，值得推荐。

---
处理用时：20.74秒
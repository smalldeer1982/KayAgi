# 题目信息

# [ABC094C] Many Medians

## 题目描述

若l是一个奇数，那么l个数的数列的中位数就是数列中第 $\dfrac{l+1}{2}$ 大的数。



输入N个整数，$X$$_{1}$, $X$$_{2}$, ..., $X$$_{N}$ ，保证N为偶数。对于每一个i=1,2, ..., N，输出去掉xi之后数列的中位数$B$$_{i}$。

## 样例 #1

### 输入

```
4

2 4 4 3```

### 输出

```
4

3

3

4```

## 样例 #2

### 输入

```
2

1 2```

### 输出

```
2

1```

## 样例 #3

### 输入

```
6

5 5 4 4 3 3```

### 输出

```
4

4

4

4

4

4```

# AI分析结果

【题目内容】
# [ABC094C] Many Medians

## 题目描述

若l是一个奇数，那么l个数的数列的中位数就是数列中第 $\dfrac{l+1}{2}$ 大的数。

输入N个整数，$X$$_{1}$, $X$$_{2}$, ..., $X$$_{N}$ ，保证N为偶数。对于每一个i=1,2, ..., N，输出去掉xi之后数列的中位数$B$$_{i}$。

## 样例 #1

### 输入

```
4

2 4 4 3```

### 输出

```
4

3

3

4```

## 样例 #2

### 输入

```
2

1 2```

### 输出

```
2

1```

## 样例 #3

### 输入

```
6

5 5 4 4 3 3```

### 输出

```
4

4

4

4

4

4```

【算法分类】
排序

【题解分析与结论】
该题的核心在于如何在去掉一个数后快速找到中位数。由于N为偶数，去掉一个数后，中位数要么是第N/2大的数，要么是第N/2+1大的数。通过排序后，我们可以直接找到这两个数，然后根据去掉的数是否大于第N/2大的数来决定输出哪个数。

【所选题解】
1. **作者：HyGeoIceFairy (赞：2)**
   - **星级：4星**
   - **关键亮点：**
     - 通过排序后直接找到第N/2和第N/2+1大的数，避免了每次去掉一个数后重新排序的复杂度。
     - 代码简洁明了，逻辑清晰。
   - **核心代码：**
     ```cpp
     sort(b+1,b+n+1);
     s=b[n/2];
     t=b[n/2+1];
     for(register int i=1;i<=n;++i)
     {
         if(a[i]<=s)
         {
             printf("%d\n",t);
         }
         else
         {
             printf("%d\n",s);
         }
     }
     ```

2. **作者：activeO (赞：1)**
   - **星级：4星**
   - **关键亮点：**
     - 使用结构体记录原始数组和排序后的数组，便于后续查找。
     - 通过比较去掉的数与第N/2大的数的大小关系，决定输出哪个中位数。
   - **核心代码：**
     ```cpp
     sort(a+1,a+n+1,cmp);
     int mid=n>>1;
     for(int i=1;i<=n;i++){
         if(i<=mid) ans[a[i].id]=a[mid+1].num;
         else ans[a[i].id]=a[mid].num;
     }
     ```

【最优关键思路或技巧】
通过排序后直接找到第N/2和第N/2+1大的数，避免了每次去掉一个数后重新排序的复杂度。根据去掉的数是否大于第N/2大的数来决定输出哪个中位数。

【可拓展之处】
类似的问题可以扩展到其他统计量，如去掉一个数后的平均数、众数等。此外，可以尝试在动态数据流中实时维护中位数。

【推荐题目】
1. [P1168 中位数](https://www.luogu.com.cn/problem/P1168)
2. [P1177 【模板】快速排序](https://www.luogu.com.cn/problem/P1177)
3. [P1045 麦森数](https://www.luogu.com.cn/problem/P1045)

---
处理用时：22.33秒
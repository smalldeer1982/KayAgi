# 题目信息

# [ABC098C] Attention

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc098/tasks/arc098_a

$ N $ 人の人が東西方向に一列に並んでいます。 それぞれの人は、東または西を向いています。 誰がどの方向を向いているかは長さ $ N $ の文字列 $ S $ によって与えられます。 西から $ i $ 番目に並んでいる人は、$ S_i\ = $ `E` なら東を、$ S_i\ = $ `W` なら西を向いています。

あなたは、$ N $ 人のうち誰か $ 1 $ 人をリーダーとして任命します。 そして、リーダー以外の全員に、リーダーの方向を向くように命令します。 このとき、リーダーはどちらの方向を向いていても構いません。

並んでいる人は、向く方向を変えるのを嫌っています。 そのためあなたは、向く方向を変える人数が最小になるようにリーダーを選びたいです。 向く方向を変える人数の最小値を求めてください。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 3\ \times\ 10^5 $
- $ |S|\ =\ N $
- $ S_i $ は `E` または `W` である

### Sample Explanation 1

西から $ 3 $ 番目に並んでいる人をリーダーに任命するとします。 すると、西から $ 1 $ 番目に並んでいる人は東を向かなくてはならないので、向く方向を変える必要があります。 ほかの人は向く方向を変える必要がないので、この場合、向く方向を変える人は $ 1 $ 人になります。 向く方向を変える人を $ 0 $ 人にすることは出来ないので、答えは $ 1 $ になります。

## 样例 #1

### 输入

```
5

WEEWW```

### 输出

```
1```

## 样例 #2

### 输入

```
12

WEWEWEEEWWWE```

### 输出

```
4```

## 样例 #3

### 输入

```
8

WWWWWEEE```

### 输出

```
3```

# AI分析结果

### 题目内容重写
$ N $ 个人在东西方向上排成一列。每个人要么面向东，要么面向西。每个人面向的方向由一个长度为 $ N $ 的字符串 $ S $ 给出。从西数第 $ i $ 个人，如果 $ S_i = $ `E`，则面向东；如果 $ S_i = $ `W`，则面向西。

你需要从这 $ N $ 个人中选出一个作为领导者。然后，命令其他所有人都面向领导者的方向。领导者本身可以面向任意方向。

由于人们不喜欢改变方向，你希望选择领导者时，改变方向的人数最少。求改变方向的人数的最小值。

### 算法分类
前缀和

### 题解分析与结论
该题的核心思路是通过前缀和来优化计算，避免直接枚举带来的高时间复杂度。通过预处理每个位置左边和右边的 `E` 和 `W` 的数量，可以快速计算每个位置作为领导者时需要改变方向的人数。

### 所选题解
#### 题解1：duchengjun
- **星级**：5星
- **关键亮点**：使用前缀和优化，时间复杂度为 $O(n)$，代码简洁明了。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n;i++)
      E[i]=E[i-1]+(c[i]=='E');
  for(int i=n;i>=1;i--)
      W[i]=W[i+1]+(c[i]=='W');
  for(int i=1;i<=n;i++)
      ans=min(ans,n-E[i]-W[i]);
  ```
  **核心思想**：通过前缀和数组 `E` 和 `W` 分别记录每个位置左边和右边的 `E` 和 `W` 的数量，然后计算每个位置作为领导者时需要改变方向的人数。

#### 题解2：MiddleRed
- **星级**：4星
- **关键亮点**：同样使用前缀和优化，但计算方式略有不同，代码清晰。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n;i++)
      ans=min(ans,i-1-e[i-1]+n-i-w[n]+w[i]);
  ```
  **核心思想**：通过前缀和数组 `e` 和 `w` 分别记录每个位置左边和右边的 `E` 和 `W` 的数量，然后计算每个位置作为领导者时需要改变方向的人数。

### 最优关键思路或技巧
- **前缀和优化**：通过预处理每个位置左边和右边的 `E` 和 `W` 的数量，可以快速计算每个位置作为领导者时需要改变方向的人数，避免直接枚举带来的高时间复杂度。
- **时间复杂度**：$O(n)$，适用于大规模数据。

### 可拓展之处
- **类似问题**：可以扩展到其他需要快速计算区间内某种元素数量的问题，如区间和、区间最大值等。
- **算法套路**：前缀和是一种常见的优化手段，适用于需要频繁查询区间内某种元素数量的问题。

### 推荐题目
1. [P1115 最大子段和](https://www.luogu.com.cn/problem/P1115)
2. [P3374 【模板】树状数组 1](https://www.luogu.com.cn/problem/P3374)
3. [P3368 【模板】树状数组 2](https://www.luogu.com.cn/problem/P3368)

### 个人心得摘录
- **调试经历**：在处理边界条件时，需要注意数组的索引范围，避免越界。
- **顿悟感想**：前缀和的应用不仅限于求和问题，还可以用于快速计算区间内某种元素的数量，是一种非常实用的优化手段。

---
处理用时：20.39秒
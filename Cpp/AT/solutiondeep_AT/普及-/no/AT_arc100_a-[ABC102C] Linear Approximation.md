# 题目信息

# [ABC102C] Linear Approximation

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc102/tasks/arc100_a

すぬけ君は、長さ $ N $ の整数列 $ A $ を持っています。

すぬけ君は、整数 $ b $ を自由に選びます。 この時、$ A_i $ と $ b+i $ が離れているとすぬけ君は悲しいです。 より具体的には、すぬけ君の悲しさの値は、次の式で計算されます。 なおここで、$ abs(x) $ は $ x $ の絶対値を返す関数です。

- $ abs(A_1\ -\ (b+1))\ +\ abs(A_2\ -\ (b+2))\ +\ ...\ +\ abs(A_N\ -\ (b+N)) $

すぬけ君の悲しさの値の最小値を求めてください。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ A_i\ \leq\ 10^9 $
- 入力はすべて整数である。

### Sample Explanation 1

$ b=0 $ とすれば、すぬけ君の悲しさの値は、$ abs(2-(0+1))+abs(2-(0+2))+abs(3-(0+3))+abs(5-(0+4))+abs(5-(0+5))=2 $ となります。 $ b $ をどのように選んでも、すぬけ君の悲しさの値を $ 2 $ 未満にすることは出来ないので、答えは $ 2 $ になります。

## 样例 #1

### 输入

```
5

2 2 3 5 5```

### 输出

```
2```

## 样例 #2

### 输入

```
9

1 2 3 4 5 6 7 8 9```

### 输出

```
0```

## 样例 #3

### 输入

```
6

6 5 4 3 2 1```

### 输出

```
18```

## 样例 #4

### 输入

```
7

1 1 1 1 2 3 4```

### 输出

```
6```

# AI分析结果

### 题目内容重写

#### 题目描述

すぬけ君有一个长度为 $N$ 的整数序列 $A$。

すぬけ君可以自由选择一个整数 $b$。此时，如果 $A_i$ 和 $b+i$ 相差较大，すぬけ君会感到悲伤。具体来说，すぬけ君的悲伤值由以下公式计算得出。其中，$abs(x)$ 是返回 $x$ 的绝对值的函数。

- $abs(A_1\ -\ (b+1))\ +\ abs(A_2\ -\ (b+2))\ +\ ...\ +\ abs(A_N\ -\ (b+N))$

请计算すぬけ君的悲伤值的最小值。

#### 说明/提示

##### 约束

- $1\ \leq\ N\ \leq\ 2\ \times\ 10^5$
- $1\ \leq\ A_i\ \leq\ 10^9$
- 输入均为整数。

##### 样例解释 1

当 $b=0$ 时，すぬけ君的悲伤值为 $abs(2-(0+1))+abs(2-(0+2))+abs(3-(0+3))+abs(5-(0+4))+abs(5-(0+5))=2$。无论选择什么样的 $b$，都无法将悲伤值降到 $2$ 以下，因此答案为 $2$。

#### 样例 #1

##### 输入

```
5

2 2 3 5 5
```

##### 输出

```
2
```

#### 样例 #2

##### 输入

```
9

1 2 3 4 5 6 7 8 9
```

##### 输出

```
0
```

#### 样例 #3

##### 输入

```
6

6 5 4 3 2 1
```

##### 输出

```
18
```

#### 样例 #4

##### 输入

```
7

1 1 1 1 2 3 4
```

##### 输出

```
6
```

### 算法分类
数学、排序

### 题解分析与结论

本题的核心在于将问题转化为求中位数的问题。通过将 $A_i - i$ 转化为一个新的数组 $q_i$，然后对 $q_i$ 进行排序，选择中位数作为 $b$，可以使得悲伤值最小。这种方法利用了绝对值的几何意义，即中位数是使得绝对差和最小的点。

### 所选高分题解

#### 题解1：Yizhixiaoyun (5星)

**关键亮点**：
- 清晰地解释了如何将问题转化为求中位数的问题。
- 代码简洁，逻辑清晰，使用了排序和中位数的概念。
- 强调了使用 `long long` 的重要性，避免了溢出问题。

**代码核心思想**：
```cpp
void init(){
    cin>>n;
    for(register long long i=1;i<=n;++i){
        cin>>x;a[i]=x-i;
    }
}
void duel(){
    sort(a+1,a+n+1);
    for(register long long i=1;i<=n;++i) ans+=abs(a[i]-a[(i+1)>>1]);
}
```

#### 题解2：MattL (4星)

**关键亮点**：
- 简洁明了地解释了问题的转化过程。
- 代码简短，直接使用了排序和中位数的概念。
- 强调了 `long long` 的重要性。

**代码核心思想**：
```cpp
for(long long i=1;i<=n;i++)
{
    cin>>t;
    a[i]=t-i;
}
sort(a+1,a+n+1);
for(long long i=1;i<=n;i++)
    ans+=abs(a[i]-a[(i+1)/2]);
```

#### 题解3：CharlesZiy (4星)

**关键亮点**：
- 详细解释了绝对值的几何意义，帮助读者理解问题的本质。
- 代码结构清晰，逻辑严谨。
- 强调了中位数的重要性。

**代码核心思想**：
```cpp
for (int i = 1; i <= n; i++)
{
    cin >> a[i];
    b[i] = a[i] - i;
}
sort(b + 1, b + n + 1);
long long B = b[(n + 1) / 2];
for (int i = 1; i <= n; i++)
{
    ans += abs(a[i] - (B + i));
}
```

### 最优关键思路或技巧
- **问题转化**：将原问题转化为求中位数的问题，利用绝对值的几何意义。
- **排序与中位数**：通过对 $A_i - i$ 进行排序，选择中位数作为 $b$，使得绝对差和最小。
- **数据类型**：使用 `long long` 避免溢出问题。

### 可拓展之处
- **类似问题**：可以扩展到其他需要最小化绝对差和的问题，如最小化曼哈顿距离等。
- **算法优化**：可以考虑在排序过程中使用更高效的算法，如快速选择算法来找到中位数。

### 推荐题目
1. [P1886 滑动窗口](https://www.luogu.com.cn/problem/P1886)
2. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
3. [P1048 采药](https://www.luogu.com.cn/problem/P1048)

### 个人心得摘录
- **调试经历**：多位题解作者强调了使用 `long long` 的重要性，避免因数据类型选择不当导致的溢出问题。
- **顿悟感想**：通过将问题转化为求中位数的问题，可以简化复杂的绝对差和计算，使得问题更容易解决。

---
处理用时：29.73秒
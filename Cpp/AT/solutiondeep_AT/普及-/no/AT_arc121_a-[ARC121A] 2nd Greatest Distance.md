# 题目信息

# [ARC121A] 2nd Greatest Distance

## 题目描述

# [ARC121A] 2nd Greatest Distance


在二维平面上有 $N$ 个使用编号 $1$ 到 $N$ 的数字标记的房子。 房子 $i$ 位于 $(x_i,y_i)$。

房子 $i,j$ 之间的距离是 $\max(\left|{x_i-x_j}\right|, \left|{y_i-y_j}\right|)$。

有总共 $N(N-1)/2$ 对不同的房子，对于每一对不同的房子，计算它们之间的距离，把距离值按降序排列成一个长度为 $N(N-1)/2$ 的数列。请输出这个数列的第二个数字。

## 说明/提示

### 样例输入 #1

```
3
0 0
1 2
4 0
```

### 样例输出 #1

```
3
```

### 样例输入 #2

```
4
0 0
0 0
1 0
0 1
```

### 样例输出 #2

```
1
```

### 样例输入 #3

```
20
407 361
167 433
756 388
-551 -47
306 -471
36 928
338 -355
911 852
288 70
-961 -769
-668 -386
-690 -378
182 -609
-677 401
-458 -112
184 -131
-243 888
-163 471
-11 997
119 544
```

### 样例输出 #3

```
1766
```



- 所有的输入都保证为整数
- $3 \leqslant N \leqslant 2 \times 10^5$
- $-10^9 \leqslant x_i, y_i \leqslant 10^9$

## 样例 #1

### 输入

```
3

0 0

1 2

4 0```

### 输出

```
3```

## 样例 #2

### 输入

```
4

0 0

0 0

1 0

0 1```

### 输出

```
1```

## 样例 #3

### 输入

```
20

407 361

167 433

756 388

-551 -47

306 -471

36 928

338 -355

911 852

288 70

-961 -769

-668 -386

-690 -378

182 -609

-677 401

-458 -112

184 -131

-243 888

-163 471

-11 997

119 544```

### 输出

```
1766```

# AI分析结果

### 题目内容重写

在二维平面上有 $N$ 个使用编号 $1$ 到 $N$ 的数字标记的房子。房子 $i$ 位于 $(x_i,y_i)$。

房子 $i,j$ 之间的距离是 $\max(\left|{x_i-x_j}\right|, \left|{y_i-y_j}\right|)$。

有总共 $N(N-1)/2$ 对不同的房子，对于每一对不同的房子，计算它们之间的距离，把距离值按降序排列成一个长度为 $N(N-1)/2$ 的数列。请输出这个数列的第二个数字。

### 算法分类
排序

### 综合分析与结论
本题的核心在于计算所有房子对之间的距离，并找到第二大的距离值。由于 $N$ 的最大值为 $2 \times 10^5$，直接计算所有房子对的距离会导致时间复杂度过高（$O(N^2)$），因此需要优化。

关键思路是通过分别对 $x$ 和 $y$ 坐标进行排序，找到可能的候选距离值，然后在这些候选值中找到第二大的距离。这样可以显著减少计算量。

### 题解分析与评分
由于暂无题解，以下为通用建议与扩展思路：

1. **优化思路**：通过对 $x$ 和 $y$ 坐标分别排序，找到可能的候选距离值，然后在这些候选值中找到第二大的距离。这样可以避免计算所有房子对的距离，时间复杂度降低到 $O(N \log N)$。

2. **实现技巧**：使用 `std::sort` 对 $x$ 和 $y$ 坐标进行排序，然后计算相邻房子之间的距离，最后在这些距离中找到第二大的值。

3. **扩展思路**：类似的问题可以通过对数据进行预处理（如排序）来减少计算量。例如，在处理二维平面上的距离问题时，通常可以通过对坐标进行排序来优化。

### 推荐题目
1. [P1429 平面最近点对](https://www.luogu.com.cn/problem/P1429)
2. [P1883 平面最远点对](https://www.luogu.com.cn/problem/P1883)
3. [P1257 平面点集的最小包围圆](https://www.luogu.com.cn/problem/P1257)

这些题目都涉及到二维平面上的点集处理，通过排序或其他优化手段来解决问题。

---
处理用时：12.85秒
# 题目信息

# [ARC139A] Trailing Zeros

## 题目描述

对于正整数 $ x $，我们定义 $ x $ 的二进制表示中末尾连续的零的个数为 $ \mathrm{ctz}(x) $。

例如，$ 8 $ 的二进制表示为 1000，所以 $ \mathrm{ctz}(8)=3 $；$ 5 $ 的二进制表示为 101，所以 $ \mathrm{ctz}(5)=0 $。

给定一个由非负整数组成的序列 $ T\ =\ (T_1,T_2,\dots,T_N) $。

请构造一个由正整数组成的序列 $ A\ =\ (A_1,A_2,\dots,A_N) $，使得满足以下条件：
- $ A_1\ \lt\ A_2\ \lt\ \cdots\ \lt\ A_{N-1}\ \lt\ A_N $，即 $ A $ 严格递增。
- 对于所有满足 $ 1\ \leq\ i\ \leq\ N $ 的整数 $ i $，都有 $ \mathrm{ctz}(A_i)\ =\ T_i $。

求 $ A_N $ 的最小可能值。

## 说明/提示

- $ 1\ \leq\ N\ \leq\ 10^5 $
- $ 0\ \leq\ T_i\ \leq\ 40 $
- 输入的所有值都是整数

【样例解释 1】

例如，$ A_1=3,A_2=6,A_3=8,A_4=12 $ 满足条件。由于 $ A_4 $ 不能小于 $ 11 $，所以答案为 $ 12 $。

【样例解释 3】

注意答案可能不适合 $ 32 $ 位整数。

## 样例 #1

### 输入

```
4

0 1 3 2```

### 输出

```
12```

## 样例 #2

### 输入

```
5

4 3 2 1 0```

### 输出

```
31```

## 样例 #3

### 输入

```
1

40```

### 输出

```
1099511627776```

## 样例 #4

### 输入

```
8

2 0 2 2 0 4 2 4```

### 输出

```
80```

# AI分析结果

【题目内容】
# [ARC139A] Trailing Zeros

## 题目描述

对于正整数 $ x $，我们定义 $ x $ 的二进制表示中末尾连续的零的个数为 $ \mathrm{ctz}(x) $。

例如，$ 8 $ 的二进制表示为 1000，所以 $ \mathrm{ctz}(8)=3 $；$ 5 $ 的二进制表示为 101，所以 $ \mathrm{ctz}(5)=0 $。

给定一个由非负整数组成的序列 $ T\ =\ (T_1,T_2,\dots,T_N) $。

请构造一个由正整数组成的序列 $ A\ =\ (A_1,A_2,\dots,A_N) $，使得满足以下条件：
- $ A_1\ \lt\ A_2\ \lt\ \cdots\ \lt\ A_{N-1}\ \lt\ A_N $，即 $ A $ 严格递增。
- 对于所有满足 $ 1\ \leq\ i\ \leq\ N $ 的整数 $ i $，都有 $ \mathrm{ctz}(A_i)\ =\ T_i $。

求 $ A_N $ 的最小可能值。

## 说明/提示

- $ 1\ \leq\ N\ \leq\ 10^5 $
- $ 0\ \leq\ T_i\ \leq\ 40 $
- 输入的所有值都是整数

【样例解释 1】

例如，$ A_1=3,A_2=6,A_3=8,A_4=12 $ 满足条件。由于 $ A_4 $ 不能小于 $ 11 $，所以答案为 $ 12 $。

【样例解释 3】

注意答案可能不适合 $ 32 $ 位整数。

## 样例 #1

### 输入

```
4

0 1 3 2```

### 输出

```
12```

## 样例 #2

### 输入

```
5

4 3 2 1 0```

### 输出

```
31```

## 样例 #3

### 输入

```
1

40```

### 输出

```
1099511627776```

## 样例 #4

### 输入

```
8

2 0 2 2 0 4 2 4```

### 输出

```
80```

【算法分类】
构造、位运算

【分析与结论】
本题的核心在于构造一个严格递增的序列 $ A $，使得每个元素的二进制末尾零的个数等于给定的 $ T_i $，并且要求 $ A_N $ 最小。由于 $ A $ 必须严格递增，因此我们需要在满足 $ \mathrm{ctz}(A_i) = T_i $ 的前提下，尽可能选择最小的 $ A_i $。

关键思路：
1. **构造最小数**：对于每个 $ T_i $，最小的满足 $ \mathrm{ctz}(x) = T_i $ 的数是 $ 2^{T_i} $。但由于序列必须严格递增，因此我们需要在此基础上进行调整。
2. **递增调整**：如果当前 $ T_i $ 小于前一个 $ T_{i-1} $，则需要在前一个数的基础上增加 $ 2^{T_i} $ 的倍数，以确保 $ A_i $ 大于 $ A_{i-1} $ 且满足 $ \mathrm{ctz}(A_i) = T_i $。
3. **位运算优化**：通过位运算可以高效地计算满足条件的最小 $ A_i $，避免不必要的计算。

【通用建议与扩展思路】
- **位运算技巧**：在处理二进制相关的问题时，位运算（如左移、右移、与、或等）是非常高效的工具。熟练掌握这些操作可以大幅提升代码的性能。
- **构造类问题**：类似的问题通常需要根据给定的条件构造出满足特定性质的序列或结构。解决这类问题的关键在于找到最小的满足条件的元素，并在此基础上进行调整。
- **拓展题目**：可以尝试解决其他与二进制位操作相关的题目，如计算二进制中1的个数、判断是否为2的幂等。

【推荐题目】
1. [P1226 【模板】快速幂](https://www.luogu.com.cn/problem/P1226)
2. [P1100 高低位交换](https://www.luogu.com.cn/problem/P1100)
3. [P1017 进制转换](https://www.luogu.com.cn/problem/P1017)

---
处理用时：22.24秒
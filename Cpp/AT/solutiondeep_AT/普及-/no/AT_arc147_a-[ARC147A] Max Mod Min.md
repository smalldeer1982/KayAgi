# 题目信息

# [ARC147A] Max Mod Min

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc147/tasks/arc147_a

長さ $ N $ の正整数列 $ A=(A_1,A_2,\dots,A_N) $ が与えられます。

あなたは以下の操作を $ A $ の長さが $ 1 $ になるまで繰り返します。

- 操作を行う時点での $ A $ の長さを $ k $ とする。$ \max(\{A_1,A_2,\dots,A_{k}\})=A_i,\min(\{A_1,A_2,\dots,A_{k}\})=A_j $ かつ $ i\ \neq\ j $ を満たす整数の組 $ (i,j) $ を選び、$ A_i $ を $ (A_i\ \bmod\ A_j) $ で置き換える。このとき、$ A_i=0 $ となったのであれば $ A $ から $ A_i $ を削除する。

どのように操作を行っても操作回数は一定であることが証明できます。操作回数を求めてください。

## 说明/提示

### 制約

- $ 2\ \le\ N\ \le\ 2\ \times\ 10^5 $
- $ 1\ \le\ A_i\ \le\ 10^9 $
- 入力は全て整数である。

### Sample Explanation 1

以下のように操作を行うことになります。操作回数は $ 3 $ 回です。 - $ i=3,j=1 $ を選ぶ。$ A_3=0 $ となるため、$ A $ から $ A_3 $ を削除する。$ A=(2,3) $ となる。 - $ i=2,j=1 $ を選ぶ。$ A_2=1 $ となる。$ A=(2,1) $ となる。 - $ i=1,j=2 $ を選ぶ。$ A_1=0 $ となるため、$ A $ から $ A_1 $ を削除する。$ A=(1) $ となる。$ A $ の長さが $ 1 $ になったため、操作を終了する。

## 样例 #1

### 输入

```
3

2 3 6```

### 输出

```
3```

## 样例 #2

### 输入

```
6

1232 452 23491 34099 57341 21488```

### 输出

```
12```

# AI分析结果

### 题目内容重写

#### [ARC147A] Max Mod Min

**题目描述**

给定一个长度为 $N$ 的正整数序列 $A=(A_1,A_2,\dots,A_N)$。

你需要重复以下操作，直到 $A$ 的长度变为 $1$：

- 设当前 $A$ 的长度为 $k$。选择满足 $\max(\{A_1,A_2,\dots,A_{k}\})=A_i,\min(\{A_1,A_2,\dots,A_{k}\})=A_j$ 且 $i\ \neq\ j$ 的整数对 $(i,j)$，然后将 $A_i$ 替换为 $(A_i\ \bmod\ A_j)$。如果 $A_i=0$，则从 $A$ 中删除 $A_i$。

可以证明，无论如何操作，操作次数都是一定的。请计算操作次数。

**说明/提示**

**约束条件**

- $2\ \le\ N\ \le\ 2\ \times\ 10^5$
- $1\ \le\ A_i\ \le\ 10^9$
- 输入均为整数。

**样例解释 1**

操作过程如下，操作次数为 $3$ 次：

- 选择 $i=3,j=1$。$A_3=0$，因此从 $A$ 中删除 $A_3$。$A=(2,3)$。
- 选择 $i=2,j=1$。$A_2=1$。$A=(2,1)$。
- 选择 $i=1,j=2$。$A_1=0$，因此从 $A$ 中删除 $A_1$。$A=(1)$。$A$ 的长度变为 $1$，操作结束。

**样例 #1**

**输入**

```
3

2 3 6
```

**输出**

```
3
```

**样例 #2**

**输入**

```
6

1232 452 23491 34099 57341 21488
```

**输出**

```
12
```

### 算法分类

**模拟**

### 题解分析与结论

由于题目要求每次操作都选择当前序列中的最大值和最小值进行取模操作，并且操作次数是固定的，因此可以通过模拟整个过程来计算操作次数。

### 通用建议与扩展思路

1. **模拟过程**：直接模拟每次操作，选择当前序列中的最大值和最小值进行取模操作，直到序列长度为1。
2. **优化**：可以使用优先队列（堆）来高效地获取当前序列的最大值和最小值，减少时间复杂度。
3. **扩展**：类似的问题可以通过模拟和堆的结合来解决，例如在处理序列操作时，需要频繁获取最大值和最小值的情况。

### 推荐题目

1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
2. [P1168 中位数](https://www.luogu.com.cn/problem/P1168)
3. [P3378 堆](https://www.luogu.com.cn/problem/P3378)

### 个人心得

在模拟过程中，使用堆可以显著提高效率，尤其是在处理大规模数据时。此外，理解操作次数的固定性有助于简化问题，避免不必要的复杂计算。

---
处理用时：17.66秒
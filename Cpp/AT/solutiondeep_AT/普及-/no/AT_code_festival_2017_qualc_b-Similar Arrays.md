# 题目信息

# Similar Arrays

## 题目描述

[problemUrl]: https://atcoder.jp/contests/code-festival-2017-qualc/tasks/code_festival_2017_qualc_b

$ 2 $ つの長さ $ N $ の整数列 $ x_1,\ x_2,\ ...,\ x_N $ と $ y_1,\ y_2,\ ...,\ y_N $ が「似ている」とは、 任意の $ i $ ($ 1\ \leq\ i\ \leq\ N $) に対して $ |x_i\ -\ y_i|\ \leq\ 1 $ が成り立つことをいうものとします。

とくに、どの整数列もその数列自身と似ていると考えます。

整数 $ N $ および長さ $ N $ の整数列 $ A_1,\ A_2,\ ...,\ A_N $ が与えられます。

$ A $ と似ている整数列 $ b_1,\ b_2,\ ...,\ b_N $ であって、すべての項の積 $ b_1\ b_2\ ...\ b_N $ が偶数となるものはいくつあるか求めてください。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 10 $
- $ 1\ \leq\ A_i\ \leq\ 100 $

### Sample Explanation 1

条件を満たす整数列は以下の $ 7 $ 個あります。 - $ 1,\ 2 $ - $ 1,\ 4 $ - $ 2,\ 2 $ - $ 2,\ 3 $ - $ 2,\ 4 $ - $ 3,\ 2 $ - $ 3,\ 4 $

## 样例 #1

### 输入

```
2

2 3```

### 输出

```
7```

## 样例 #2

### 输入

```
3

3 3 3```

### 输出

```
26```

## 样例 #3

### 输入

```
1

100```

### 输出

```
1```

## 样例 #4

### 输入

```
10

90 52 56 71 44 8 13 30 57 84```

### 输出

```
58921```

# AI分析结果

### 题目内容重写

#### 相似数组

**题目描述**

给定两个长度为 $N$ 的整数序列 $x_1,\ x_2,\ ...,\ x_N$ 和 $y_1,\ y_2,\ ...,\ y_N$，如果对于任意 $i$（$1\ \leq\ i\ \leq\ N$），满足 $|x_i\ -\ y_i|\ \leq\ 1$，则称这两个序列“相似”。

特别地，任何序列都与自身相似。

给定整数 $N$ 和长度为 $N$ 的整数序列 $A_1,\ A_2,\ ...,\ A_N$，求与 $A$ 相似且所有元素乘积为偶数的序列 $b_1,\ b_2,\ ...,\ b_N$ 的数量。

**说明/提示**

**约束条件**

- $1\ \leq\ N\ \leq\ 10$
- $1\ \leq\ A_i\ \leq\ 100$

**样例解释 1**

满足条件的序列有 $7$ 个：
- $1,\ 2$
- $1,\ 4$
- $2,\ 2$
- $2,\ 3$
- $2,\ 4$
- $3,\ 2$
- $3,\ 4$

**样例 #1**

**输入**

```
2
2 3
```

**输出**

```
7
```

**样例 #2**

**输入**

```
3
3 3 3
```

**输出**

```
26
```

**样例 #3**

**输入**

```
1
100
```

**输出**

```
1
```

**样例 #4**

**输入**

```
10
90 52 56 71 44 8 13 30 57 84
```

**输出**

```
58921
```

### 算法分类

**枚举**

### 题解分析与结论

**题解1：wuwendongxi**

- **星级**：5星
- **关键亮点**：
  - 使用数学方法，通过计算所有可能的序列总数减去乘积为奇数的序列数量，简化了问题。
  - 代码简洁高效，时间复杂度为 $O(N)$，适用于小规模数据。
- **代码核心思想**：
  - 计算每个位置可能的取值数（3种），并累乘得到所有可能的序列总数。
  - 计算所有乘积为奇数的序列数量，即所有位置都为奇数的情况。
  - 最终结果为总数减去乘积为奇数的序列数量。

```cpp
#include <cstdio>
#include <iostream>
using namespace std;
int n,ans=1,bad=1;
int main()
{
	scanf("%d",&n);
	for(int i=0,x;i<n;++i){
		scanf("%d",&x),ans*=3;
		if(x%2==0) bad*=2;
	}
	cout<<ans-bad<<'\n';
	return 0;
}
```

**题解2：Eason_AC**

- **星级**：4星
- **关键亮点**：
  - 使用深度优先搜索（DFS）枚举所有可能的序列，适用于小规模数据。
  - 代码结构清晰，易于理解。
- **代码核心思想**：
  - 对于每个位置，枚举可能的取值（$A_i-1$, $A_i$, $A_i+1$）。
  - 使用DFS遍历所有可能的序列，并检查其乘积是否为偶数。

```cpp
namespace Solution {
	int n, ans, a[17], b[17];
	
	iv dfs(int x) {
		if(x > n) {
			int fl = 0;
			F(int, i, 1, n) if(!((a[i] + b[i]) & 1)) {fl = 1; break;}
			ans += fl;
			return;
		}
		F(int, i, -1, 1) b[x] = i, dfs(x + 1);
	}
	
	iv Main() {
		read(n); F(int, i, 1, n) read(a[i]);
		dfs(1), println(ans);
		return;
	}
}
```

### 最优关键思路或技巧

- **数学方法**：通过计算所有可能的序列总数减去乘积为奇数的序列数量，可以高效地解决问题，避免了复杂的枚举过程。
- **DFS枚举**：对于小规模数据，DFS枚举所有可能的序列也是一种可行的解决方案，代码结构清晰，易于实现。

### 可拓展之处

- **类似问题**：可以扩展到其他类似的序列问题，如求满足特定条件的序列数量，或求序列的某些统计特性。
- **优化思路**：对于大规模数据，可以考虑使用动态规划或其他优化方法，减少计算量。

### 推荐题目

1. **洛谷 P1008**：三连击
2. **洛谷 P1012**：拼数
3. **洛谷 P1013**：进制位

这些题目都涉及到枚举和数学方法的应用，适合进一步练习和巩固相关知识。

---
处理用时：28.06秒
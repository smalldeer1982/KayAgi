# 题目信息

# 差の平均

## 题目描述

给定一个数列 $a$，有 $n$ 个元素 $\{a_1,a_2,a_3\cdots a_{n-1},a_n\}$，求
$$\dfrac{(a_2-a_1)+(a_3-a_2)+(a_4-a_3)+\cdots+(a_n-a_{n-1})}{n-1}$$

如果不整除，则保留 $3$ 位小数输出，否则直接输出。

与正确答案相差不超过 $0.001$ 的答案也可通过。

## 说明/提示

对于 $100\%$ 的数据，$2\le n\le100,1\le a_i\le10^9$。

## 样例 #1

### 输入

```
4

4 3 2 1```

### 输出

```
-1```

## 样例 #2

### 输入

```
4

1 2 3 5```

### 输出

```
1.333```

## 样例 #3

### 输入

```
4

1000000000 1000000000 1000000000 1000000000```

### 输出

```
0```

## 样例 #4

### 输入

```
4

1000000000 324219581 581395481 2319```

### 输出

```
-333332560.333333313```

# AI分析结果

【题目内容】
# 差の平均

## 题目描述

给定一个数列 $a$，有 $n$ 个元素 $\{a_1,a_2,a_3\cdots a_{n-1},a_n\}$，求
$$\dfrac{(a_2-a_1)+(a_3-a_2)+(a_4-a_3)+\cdots+(a_n-a_{n-1})}{n-1}$$

如果不整除，则保留 $3$ 位小数输出，否则直接输出。

与正确答案相差不超过 $0.001$ 的答案也可通过。

## 说明/提示

对于 $100\%$ 的数据，$2\le n\le100,1\le a_i\le10^9$。

## 样例 #1

### 输入

```
4

4 3 2 1```

### 输出

```
-1```

## 样例 #2

### 输入

```
4

1 2 3 5```

### 输出

```
1.333```

## 样例 #3

### 输入

```
4

1000000000 1000000000 1000000000 1000000000```

### 输出

```
0```

## 样例 #4

### 输入

```
4

1000000000 324219581 581395481 2319```

### 输出

```
-333332560.333333313```

【算法分类】数学

【题解分析与结论】
本题的核心是通过数学化简，将复杂的求和公式简化为仅需计算首尾两个元素的差值。所有题解都基于这一思路，主要区别在于代码实现和细节处理上。

【精选题解】
1. **作者：char32_t (5星)**
   - **关键亮点**：简洁明了，直接利用数学化简后的公式，代码清晰易读。
   - **代码核心**：
     ```cpp
     ans=(double)(a[n]-a[1])/(n-1);
     printf("%.3lf", ans);
     ```

2. **作者：硫酸钒酰 (4星)**
   - **关键亮点**：详细解释了数学化简过程，强调了数据类型转换的重要性，并提供了特判整数的处理。
   - **代码核心**：
     ```cpp
     sum=a[n]-a[1];
     ans=(double)(sum)/(double)(n-1);
     if(sum%(n-1)==0) printf("%.0lf\n",ans);
     else printf("%.3lf\n",ans);
     ```

3. **作者：陈江河 (4星)**
   - **关键亮点**：使用 `fixed` 和 `setprecision` 函数简化了输出格式的处理，避免了特判整数的复杂性。
   - **代码核心**：
     ```cpp
     cout << fixed << setprecision(3) << ans/(n-1) << endl;
     ```

【最优关键思路】
通过数学化简，将复杂的求和公式简化为仅需计算首尾两个元素的差值，即 `(a[n] - a[1]) / (n - 1)`。这一思路大大简化了问题的复杂度，使得代码实现更加简洁高效。

【可拓展之处】
类似的问题可以通过寻找数学规律或公式化简来简化计算，例如在处理数列求和、差分等问题时，寻找相邻项之间的关系或利用前缀和等技巧。

【推荐题目】
1. P1001 A+B Problem
2. P1421 小玉买文具
3. P1046 陶陶摘苹果

---
处理用时：20.57秒
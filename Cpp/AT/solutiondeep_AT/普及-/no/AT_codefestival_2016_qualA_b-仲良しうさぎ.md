# 题目信息

# 仲良しうさぎ

## 题目描述

有 $N$ 个数，第 $i$ 个数为 $a_i$。让你求出符合 $a_i = j$ 且 $a_j = i$ 的情况有几种（重复算一种）

## 样例 #1

### 输入

```
4

2 1 4 3```

### 输出

```
2```

## 样例 #2

### 输入

```
3

2 3 1```

### 输出

```
0```

## 样例 #3

### 输入

```
5

5 5 5 5 1```

### 输出

```
1```

# AI分析结果

### 题目内容重写
【题目描述】
有 $N$ 个数，第 $i$ 个数为 $a_i$。让你求出符合 $a_i = j$ 且 $a_j = i$ 的情况有几种（重复算一种）

### 算法分类
模拟

### 题解分析与结论
题目要求找到满足 $a_i = j$ 且 $a_j = i$ 的数对 $(i, j)$，且重复的数对只算一次。所有题解都基于这一核心逻辑，通过遍历数组并检查条件来实现。

### 所选高星题解
1. **题解作者：eEfiuys**
   - **星级：4**
   - **关键亮点：**
     - 直接利用 $a(a(i)) = i$ 的条件进行判断，简化了逻辑。
     - 通过 `ans/2` 处理重复计数问题，代码简洁高效。
   - **核心代码：**
     ```cpp
     for(int i=1;i<=n;i++)
         if(a[a[i]]==i)
             ans++;
     cout<<ans/2<<endl;
     ```

2. **题解作者：·糯·**
   - **星级：4**
   - **关键亮点：**
     - 使用布尔数组 `vis` 标记已访问的数对，避免重复计数。
     - 代码逻辑清晰，易于理解。
   - **核心代码：**
     ```cpp
     for(int i=1;i<=n;i++)
         if(!vis[i]&&!vis[a[i]]&&a[a[i]]==i){
             sum++;
             vis[i]=true;
             vis[a[i]]=true;
         }
     ```

### 最优关键思路
- **直接判断法：** 利用 $a(a(i)) = i$ 的条件直接判断，避免复杂逻辑。
- **标记法：** 使用布尔数组标记已访问的数对，确保每个数对只被计数一次。

### 可拓展之处
- **类似问题：** 可以扩展到更复杂的数对关系判断，如三元组或更多元素的组合。
- **算法优化：** 可以通过并行计算或更高效的数据结构进一步优化性能。

### 推荐题目
1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)
2. [P1047 校门外的树](https://www.luogu.com.cn/problem/P1047)
3. [P1059 明明的随机数](https://www.luogu.com.cn/problem/P1059)

### 个人心得
- **调试经历：** 在实现过程中，确保条件判断的准确性是关键，避免因逻辑错误导致的重复计数或遗漏。
- **顿悟感想：** 通过简化条件和利用标记数组，可以显著提高代码的效率和可读性。

---
处理用时：18.10秒
# 题目信息

# Iron Bar Cutting

## 题目描述

[problemUrl]: https://atcoder.jp/contests/ddcc2020-qual/tasks/ddcc2020_qual_b

DISCO 社の高橋君の前に，$ 1 $ 本の鉄の棒が置かれています．  
 この棒は，$ N-1 $ 個の切れ目によって $ N $ 個の区間に分かれています．左から $ i $ 個目の区間の長さは $ A_i $ ミリメートルです．

高橋君は，切れ目を一つ選んでそこで棒を切り，同じ長さの棒を $ 2 $ 本作ることを考えました．しかし，今の状態では，どの切れ目を選んでも $ 2 $ 本の棒を同じ長さにすることができないかもしれません．  
 そこで，彼は棒を切る**前に**，以下の操作を何回か行うことにしました．

- 棒の区間のうち $ 1 $ つを選び，膨張させ，長さを $ 1 $ ミリメートル増やす．この操作を $ 1 $ 回行うのに $ 1 $ 円かかる．
- 棒の区間のうち長さが $ 2 $ ミリメートル以上のもの $ 1 $ つを選び，収縮させ，長さを $ 1 $ ミリメートル減らす．この操作を $ 1 $ 回行うのに $ 1 $ 円かかる．

彼が棒を $ 2 $ 等分するために必要な最小の金額は何円か，求めてください．

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 200000 $
- $ 1\ \leq\ A_i\ \leq\ 2020202020 $
- $ N,\ A_i $ は整数

### Sample Explanation 1

最初，棒の各区間の長さは $ [2,\ 4,\ 3] $ (ミリメートル) です．高橋君は，以下の操作を行うことによって，$ 3 $ 円で棒を $ 2 $ 等分できます． - 左から $ 2 $ 番目の区間を収縮させる．各区間の長さは $ [2,\ 3,\ 3] $ となる． - 左から $ 1 $ 番目の区間を収縮させる．各区間の長さは $ [1,\ 3,\ 3] $ となる． - 左から $ 2 $ 番目の区間を収縮させる．各区間の長さは $ [1,\ 2,\ 3] $ となる．左から $ 2 $ 個目の切れ目で棒を切ると，長さ $ 3 $ の棒が $ 2 $ 本できる．

## 样例 #1

### 输入

```
3

2 4 3```

### 输出

```
3```

## 样例 #2

### 输入

```
12

100 104 102 105 103 103 101 105 104 102 104 101```

### 输出

```
0```

# AI分析结果

### 题目内容重写

#### 题目描述

DISCO 社的高桥君面前放置着一根铁棒。这根铁棒由 $N-1$ 个切痕分成 $N$ 个区间，左起第 $i$ 个区间的长度为 $A_i$ 毫米。

高桥君希望选择一个切痕将铁棒切成两段，使得两段长度相等。然而，当前状态下，可能无法通过任何切痕实现这一目标。因此，他决定在切割之前进行以下操作：

- 选择一个区间，将其长度增加 1 毫米，每次操作花费 1 日元。
- 选择一个长度至少为 2 毫米的区间，将其长度减少 1 毫米，每次操作花费 1 日元。

求高桥君将铁棒切成两段所需的最小花费。

#### 说明/提示

##### 约束

- $2 \leq N \leq 200000$
- $1 \leq A_i \leq 2020202020$
- $N, A_i$ 为整数

##### 样例解释 1

初始铁棒各区间的长度为 $[2, 4, 3]$ 毫米。高桥君可以通过以下操作花费 3 日元将铁棒切成两段：

1. 将左起第 2 个区间缩短 1 毫米，长度变为 $[2, 3, 3]$。
2. 将左起第 1 个区间缩短 1 毫米，长度变为 $[1, 3, 3]$。
3. 将左起第 2 个区间缩短 1 毫米，长度变为 $[1, 2, 3]$。

此时，从左起第 2 个切痕切割，得到两段长度均为 3 毫米的铁棒。

##### 样例 #1

###### 输入

```
3
2 4 3
```

###### 输出

```
3
```

##### 样例 #2

###### 输入

```
12
100 104 102 105 103 103 101 105 104 102 104 101
```

###### 输出

```
0
```

### 算法分类

前缀和

### 题解分析与结论

所有题解的核心思路都是通过前缀和来快速计算任意切痕位置两侧的铁棒长度差，从而找到最小花费。具体步骤如下：

1. **前缀和预处理**：计算铁棒各区间的累加和，便于快速查询任意区间的总长度。
2. **枚举切痕位置**：遍历所有可能的切痕位置，计算两侧长度的差值。
3. **最小差值**：记录所有差值中的最小值，即为所需的最小花费。

### 所选题解

#### 题解1：yydfj (5星)

**关键亮点**：
- 思路清晰，代码简洁。
- 使用前缀和优化，时间复杂度为 $O(N)$，适合大规模数据。
- 代码可读性强，变量命名合理。

**核心代码**：
```cpp
#include<cmath>
#include<iostream>
using namespace std;
long long n,a[200010],ans=1e18;
int main()
{
    cin>>n;
    for(int i=1;i<=n;i++) cin>>a[i],a[i]+=a[i-1];
    for(int i=1;i<=n;i++) ans=min(ans,abs(a[i]-(a[n]-a[i])));
    cout<<ans;
    return 0;
}
```

#### 题解2：cqbztz2 (4星)

**关键亮点**：
- 代码结构清晰，使用前缀和优化。
- 初始化时赋予极大值，避免溢出问题。
- 代码简洁，易于理解。

**核心代码**：
```cpp
#include <bits/stdc++.h>
using namespace std;
long long n,a[200005],sum[200005],minn=0x3f3f3f3f3f3f;
int main(){
    cin>>n;
    for(int i=1;i<=n;i++){
        cin>>a[i];
        sum[i]=sum[i-1]+a[i];
    }
    for(int i=1;i<=n;i++){
        minn=min(minn,abs(sum[i]-(sum[n]-sum[i])));
    }
    cout<<minn;
    return 0;
}
```

#### 题解3：小小小朋友 (4星)

**关键亮点**：
- 思路简单明了，适合初学者。
- 使用前缀和优化，代码简洁。
- 变量命名合理，易于理解。

**核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
long long n,a[200005],sum=0,ans,tmp=0;
int main() {
    cin>>n; 
    for(int i=1;i<=n;i++){
        cin>>a[i];
        sum+=a[i];
    }
    ans=sum;
    for(int i=1;i<=n;i++){
        tmp+=a[i];
        ans=min(ans,abs(tmp-(sum-tmp)));
    }
    cout<<ans;
    return 0;
}
```

### 最优关键思路

使用前缀和优化，快速计算任意切痕位置两侧的铁棒长度差，从而找到最小花费。时间复杂度为 $O(N)$，适合大规模数据。

### 可拓展之处

类似的问题可以通过前缀和或差分来优化计算，例如区间求和、区间修改等问题。前缀和是处理区间问题的常用技巧，掌握后可以解决多种相关问题。

### 推荐题目

1. [P1115 最大子段和](https://www.luogu.com.cn/problem/P1115)
2. [P3374 树状数组 1](https://www.luogu.com.cn/problem/P3374)
3. [P3368 树状数组 2](https://www.luogu.com.cn/problem/P3368)

---
处理用时：32.55秒
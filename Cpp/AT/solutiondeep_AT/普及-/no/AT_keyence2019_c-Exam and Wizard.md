# 题目信息

# Exam and Wizard

## 题目描述

[problemUrl]: https://atcoder.jp/contests/keyence2019/tasks/keyence2019_c

大学生の高橋君は $ N $ 個の試験を受けてすべてに合格する必要があります． 現在，$ i $ 番目の試験の準備度は $ A_{i} $ です． また，高橋君の入念な調査によって，$ i $ 番目の試験に合格するためには準備度を $ B_{i} $ 以上にしなくてはならないことが分かっています．

このままだとすべての試験に合格できないかもしれないと思った高橋君は，魔法使いの青木君に頼んで， 試験の準備度の総和は変えずに，なるべく少ない数の試験の準備度を変更してもらうことで試験を乗り切ることにしました．

高橋君に代わって，以下の条件を満たす数列 $ C_1,\ C_2,\ ...,\ C_{N} $ を考えたときの $ A_i $ と $ C_i $ が異なるような $ i $ の個数の最小値を求めてください． そのような数列 $ C_1,\ C_2,\ ...,\ C_{N} $ が構成できない場合は $ -1 $ を出力してください．

- 数列 $ A_1,\ A_2,\ ...,\ A_{N} $ の総和と数列 $ C_1,\ C_2,\ ...,\ C_{N} $ の総和は等しい
- どの $ i $ に対しても，$ B_i\ \leq\ C_i $ が成り立つ

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 10^5 $
- $ 1\ \leq\ A_i\ \leq\ 10^9 $
- $ 1\ \leq\ B_i\ \leq\ 10^9 $
- $ A_i,\ B_i $ は整数

### Sample Explanation 1

$ (A_1,\ A_2,\ A_3)\ =\ (2,\ 3,\ 5) $ ，$ (B_1,\ B_2,\ B_3)\ =\ (3,\ 4,\ 1) $ であり，このままでは $ 1 $ 番目と $ 2 $ 番目の試験に合格できません． 以下のように $ C_1,\ C_2,\ C_3 $ を構成すれば，$ A_i $ と $ C_i $ が異なるような $ i $ の個数の最小値 $ 3 $ を達成できます． - $ (C_1,\ C_2,\ C_3)\ =\ (3,\ 5,\ 2) $

### Sample Explanation 2

この場合は，何もしなくても全ての試験に合格できます．

### Sample Explanation 3

この場合は，どのようにしても全ての試験に合格することはできません．

## 样例 #1

### 输入

```
3

2 3 5

3 4 1```

### 输出

```
3```

## 样例 #2

### 输入

```
3

2 3 3

2 2 1```

### 输出

```
0```

## 样例 #3

### 输入

```
3

17 7 1

25 6 14```

### 输出

```
-1```

## 样例 #4

### 输入

```
12

757232153 372327760 440075441 195848680 354974235 458054863 463477172 740174259 615762794 632963102 529866931 64991604

74164189 98239366 465611891 362739947 147060907 118867039 63189252 78303147 501410831 110823640 122948912 572905212```

### 输出

```
5```

# AI分析结果

### 题目内容重写

#### 题目描述

大学生高桥君需要参加 $N$ 个考试，并且必须全部通过。当前，第 $i$ 个考试的准备度为 $A_i$。通过高桥君的详细调查，发现第 $i$ 个考试的准备度必须达到 $B_i$ 以上才能通过。

由于当前准备度可能不足以通过所有考试，高桥君决定向魔法师青木君求助。青木君可以在不改变总准备度的前提下，尽可能少地调整考试的准备度，以帮助高桥君通过所有考试。

请你帮助高桥君找到一个满足以下条件的数列 $C_1, C_2, \ldots, C_N$，并输出 $A_i$ 与 $C_i$ 不同的 $i$ 的个数的最小值。如果无法构造这样的数列，则输出 $-1$。

- 数列 $A_1, A_2, \ldots, A_N$ 的总和与数列 $C_1, C_2, \ldots, C_N$ 的总和相等。
- 对于所有的 $i$，$B_i \leq C_i$ 成立。

#### 说明/提示

##### 约束

- $1 \leq N \leq 10^5$
- $1 \leq A_i \leq 10^9$
- $1 \leq B_i \leq 10^9$
- $A_i, B_i$ 是整数

##### 样例解释

**样例 1**  
输入：  
```
3  
2 3 5  
3 4 1  
```  
输出：  
```
3  
```  
解释：  
$(A_1, A_2, A_3) = (2, 3, 5)$，$(B_1, B_2, B_3) = (3, 4, 1)$。当前准备度不足以通过第1和第2个考试。通过调整，$(C_1, C_2, C_3) = (3, 5, 2)$，此时 $A_i$ 与 $C_i$ 不同的个数为3。

**样例 2**  
输入：  
```
3  
2 3 3  
2 2 1  
```  
输出：  
```
0  
```  
解释：  
当前准备度已经满足所有考试的要求，无需调整。

**样例 3**  
输入：  
```
3  
17 7 1  
25 6 14  
```  
输出：  
```
-1  
```  
解释：  
无论如何调整，都无法满足所有考试的要求。

**样例 4**  
输入：  
```
12  
757232153 372327760 440075441 195848680 354974235 458054863 463477172 740174259 615762794 632963102 529866931 64991604  
74164189 98239366 465611891 362739947 147060907 118867039 63189252 78303147 501410831 110823640 122948912 572905212  
```  
输出：  
```
5  
```

### 算法分类

贪心

### 题解分析与结论

#### 题解1：HyyypRtf06

**星级：4星**

**关键亮点：**
1. **贪心策略**：通过计算每个考试的“贡献值”（即 $A_i - B_i$），将多余的准备度分配给不足的考试，从而最小化调整次数。
2. **排序优化**：将多余的准备度按从小到大的顺序排序，优先使用较小的多余准备度，以减少调整次数。
3. **边界处理**：在总准备度不足时直接输出 $-1$，避免了不必要的计算。

**核心代码：**
```cpp
for(int i=0;i<n;i++){
    ans+=a[i]-b[i];//算贡献值
    if(a[i]>=b[i]){//如果贡献值非负
        v.push_back(a[i]-b[i]);//压入贡献值
    }
    else{
        flag=false;
    }
}
if(flag){//如果所有人都是非负贡献值
    puts("0");//不需要改变
    return 0;
}
sort(v.begin(),v.end());
if(ans>=0){
    for(int i=0;i<v.size();i++){
        if(ans>=v[i]){//返还贡献值
            ans-=v[i];
            sum--;//计算答案
        }
        else{
            break;
        }
    }
    cout<<sum<<endl;//输出
}
else{
    puts("-1");//连任务也无法完成TAT
}
```

**个人心得：**
- **调试经历**：在计算贡献值时，需要注意 $A_i$ 和 $B_i$ 的大小关系，避免遗漏某些情况。
- **踩坑教训**：在排序时，必须确保多余的准备度按从小到大的顺序排列，否则可能导致调整次数增加。

### 最优关键思路或技巧

1. **贪心策略**：通过计算每个考试的“贡献值”，将多余的准备度分配给不足的考试，从而最小化调整次数。
2. **排序优化**：将多余的准备度按从小到大的顺序排序，优先使用较小的多余准备度，以减少调整次数。
3. **边界处理**：在总准备度不足时直接输出 $-1$，避免了不必要的计算。

### 可拓展之处

- **类似问题**：可以扩展到其他需要分配资源的问题，如任务调度、资源分配等。
- **算法套路**：贪心算法在解决资源分配问题时非常有效，尤其是在需要最小化调整次数或最大化收益的情况下。

### 推荐题目

1. **洛谷 P1090** [合并果子](https://www.luogu.com.cn/problem/P1090)
2. **洛谷 P1223** [排队接水](https://www.luogu.com.cn/problem/P1223)
3. **洛谷 P1803** [凌乱的yyy / 线段覆盖](https://www.luogu.com.cn/problem/P1803)

---
处理用时：34.64秒
# 题目信息

# Road to Millionaire

## 题目描述

[problemUrl]: https://atcoder.jp/contests/m-solutions2020/tasks/m_solutions2020_d

M 君は億万長者を目指して、明日から $ N $ 日間は投資で稼ごうと考えました。現在の彼の所持金は $ 1000 $ 円であり、株は持っていません。なお、M 君の住んでいる国で発行されている株は一種類です。

彼は全国に知られる未来予知能力者であり、今後 $ N $ 日間の株価が以下のようになることをすでに知っています。

- $ 1 $ 日目の株価は $ A_1 $ 円、$ 2 $ 日目の株価は $ A_2 $ 円、・・・、$ N $ 日目の株価は $ A_N $ 円

$ i $ 日目には、**その時点で所持する金と株の範囲内で**、M 君は次の取引を**何回でも**行えます。何も取引しない日があっても構いません。

- 株式購入：$ A_i $ 円を支払って、$ 1 $ 株を受け取る。
- 株式売却：$ 1 $ 株を売却し、$ A_i $ 円を受け取る。

さて、M 君がうまく取引を行ったとき、彼の最終的な所持金は最大でいくらになるでしょうか？

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 80 $
- $ 100\ \leq\ A_i\ \leq\ 200 $
- 入力はすべて整数

### Sample Explanation 1

この入力例では、M 君は $ 7 $ 日間にわたって株の取引を行うことになります。例えば、次の方法で最終的な所持金を $ 1685 $ 円とすることができます。 - 最初、M 君は $ 1000 $ 円を持っており、株は持っていない。 - $ 1 $ 日目：株式購入を $ 10 $ 回行う。$ 1000 $ 円を支払って $ 10 $ 株を購入し、所持金は $ 0 $ 円となる。 - $ 2 $ 日目：株式売却を $ 7 $ 回行う。$ 7 $ 株を売却して $ 910 $ 円を受け取り、所持金は $ 910 $ 円となる。 - $ 3 $ 日目：株式売却を $ 3 $ 回行う。$ 3 $ 株を売却して $ 390 $ 円を受け取り、所持金は $ 1300 $ 円となる。 - $ 4 $ 日目：何もしない。 - $ 5 $ 日目：株式購入を $ 1 $ 回行う。$ 115 $ 円を支払って $ 1 $ 株を購入し、所持金は $ 1185 $ 円となる。 - $ 6 $ 日目：株式購入を $ 10 $ 回行う。$ 1150 $ 円を支払って $ 10 $ 株を購入し、所持金は $ 35 $ 円となる。 - $ 7 $ 日目：株式売却を $ 11 $ 回行う。$ 11 $ 株を売却して $ 1650 $ 円を受け取り、所持金は $ 1685 $ 円となる。 また、どのように取引を行っても、最終的な所持金を $ 1686 $ 円以上にすることはできないため、答えは $ 1685 $ となります。

### Sample Explanation 2

この入力例では、$ 6 $ 日間何もしないのが最適です。このとき、最終的な所持金は $ 1000 $ 円となります。

### Sample Explanation 3

この入力例では、$ 1 $ 日目に $ 6 $ 株を購入し、$ 2 $ 日目に $ 6 $ 株を売却すると、最終的な所持金が $ 1216 $ 円となり、最適です。

## 样例 #1

### 输入

```
7

100 130 130 130 115 115 150```

### 输出

```
1685```

## 样例 #2

### 输入

```
6

200 180 160 140 120 100```

### 输出

```
1000```

## 样例 #3

### 输入

```
2

157 193```

### 输出

```
1216```

# AI分析结果

### 题目内容重写

**题目名称：成为百万富翁之路**

**题目描述：**

M君立志成为亿万富翁，决定从明天开始进行N天的投资。他目前拥有1000日元，且没有任何股票。M君所在的国家只有一种股票。

M君拥有全国闻名的未来预测能力，他已经知道未来N天的股票价格如下：

- 第1天的股票价格为A₁日元，第2天的股票价格为A₂日元，……，第N天的股票价格为A_N日元。

在第i天，M君可以在他当前拥有的现金和股票的范围内，进行任意次数的以下交易。他也可以选择不进行任何交易。

- 购买股票：支付A_i日元，获得1股股票。
- 出售股票：出售1股股票，获得A_i日元。

请问，M君通过合理的交易，最终最多能拥有多少日元？

**说明/提示：**

**约束条件：**

- 2 ≤ N ≤ 80
- 100 ≤ A_i ≤ 200
- 输入均为整数

**样例解释1：**

在这个样例中，M君将在7天内进行股票交易。例如，他可以通过以下方式使最终拥有的金额达到1685日元：

- 初始时，M君拥有1000日元，没有股票。
- 第1天：购买10股股票，支付1000日元，剩余0日元。
- 第2天：出售7股股票，获得910日元，剩余910日元。
- 第3天：出售3股股票，获得390日元，剩余1300日元。
- 第4天：不进行任何交易。
- 第5天：购买1股股票，支付115日元，剩余1185日元。
- 第6天：购买10股股票，支付1150日元，剩余35日元。
- 第7天：出售11股股票，获得1650日元，最终拥有1685日元。

无论如何交易，最终金额都无法超过1685日元，因此答案为1685。

**样例解释2：**

在这个样例中，6天内不进行任何交易是最优策略。最终拥有的金额为1000日元。

**样例解释3：**

在这个样例中，第1天购买6股股票，第2天出售6股股票，最终拥有的金额为1216日元，这是最优策略。

**样例1：**

**输入：**

```
7
100 130 130 130 115 115 150
```

**输出：**

```
1685
```

**样例2：**

**输入：**

```
6
200 180 160 140 120 100
```

**输出：**

```
1000
```

**样例3：**

**输入：**

```
2
157 193
```

**输出：**

```
1216
```

### 算法分类

**贪心**

### 题解分析与结论

由于题目中没有提供具体的题解，我将根据题目的核心逻辑进行分析。

**核心思路：**

1. **贪心策略：** 由于M君知道未来N天的股票价格，他可以在股票价格低时买入，在股票价格高时卖出，从而最大化利润。
2. **交易时机：** 通过遍历股票价格，找到价格上升的区间，并在最低点买入，在最高点卖出。
3. **模拟交易：** 通过模拟每天的股票交易，计算最终的金额。

**难点：**

1. **确定交易时机：** 需要在价格上升的区间内找到最佳的买入和卖出点。
2. **模拟交易的实现：** 需要精确计算每天的现金和股票数量，确保交易在合法的范围内进行。

**通用建议与扩展思路：**

1. **贪心算法的应用：** 这类问题通常可以通过贪心算法解决，即在每一步选择当前最优的策略，最终得到全局最优解。
2. **模拟交易：** 通过模拟交易过程，可以更好地理解贪心策略的实际应用。
3. **类似题目：** 可以尝试解决其他涉及股票交易的题目，如“买卖股票的最佳时机”系列问题。

### 推荐题目

1. **买卖股票的最佳时机** - 洛谷P1217
2. **买卖股票的最佳时机 II** - 洛谷P1218
3. **买卖股票的最佳时机 III** - 洛谷P1219

### 关键代码实现

```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    int N;
    cin >> N;
    vector<int> A(N);
    for (int i = 0; i < N; ++i) {
        cin >> A[i];
    }

    int money = 1000;
    int stock = 0;

    for (int i = 0; i < N - 1; ++i) {
        if (A[i] < A[i + 1]) {
            // 买入所有能买的股票
            int buy = money / A[i];
            stock += buy;
            money -= buy * A[i];
        } else if (A[i] > A[i + 1]) {
            // 卖出所有股票
            money += stock * A[i];
            stock = 0;
        }
    }

    // 最后一天卖出所有股票
    money += stock * A[N - 1];

    cout << money << endl;

    return 0;
}
```

**核心实现思想：**

1. **遍历股票价格：** 从第1天到第N-1天，判断当前价格与下一天价格的关系。
2. **买入策略：** 如果当前价格低于下一天价格，则买入尽可能多的股票。
3. **卖出策略：** 如果当前价格高于下一天价格，则卖出所有股票。
4. **最后一天处理：** 在最后一天卖出所有股票，确保最终金额最大化。

通过这种贪心策略，M君可以在已知未来股票价格的情况下，最大化最终拥有的金额。

---
处理用时：29.54秒
# 题目信息

# 準急

## 题目描述

[problemUrl]: https://atcoder.jp/contests/tdpc/tasks/tdpc_semiexp

入力は以下の形式で標準入力から与えられる。

> $ N $ $ K $

 答えを一行に出力せよ。 ```

10 2
```

```

21
```

```

10 10
```

```

255
```

## 说明/提示

### Constraints

 ある路線には駅 1 から駅 $ N $ までの $ N $ 個の駅がある。すぬけ君は、この路線に準急を走らせることにした。

- 準急は、駅 1 に止まり、{駅 2, ..., 駅 $ N $-1} の部分集合に止まり、駅 $ N $ に止まる。
- 連続する $ K $個以上の駅に止まると、客が飽きてしまうので、そのようなことはしない。
 
 準急の停車駅の組み合わせとして何通り考えられるか、mod 1,000,000,007 で求めよ。 - - - - - -

- $ 2\ <\ =\ K\ <\ =\ N\ <\ =\ 1000000 $

# AI分析结果

### 题目内容重写

#### 题目描述

某条铁路线上有从车站1到车站$N$的$N$个车站。すぬけ君决定在这条线路上运行准急列车。

- 准急列车必须在车站1停靠，在车站2到车站$N-1$的子集中停靠，并在车站$N$停靠。
- 如果连续停靠的站数超过$K$个，乘客会感到厌倦，因此不允许这种情况发生。

求准急列车的停靠方案数，结果对$1,000,000,007$取模。

#### 输入格式

输入从标准输入读取，格式如下：

> $N$ $K$

#### 输出格式

输出一行，表示答案。

#### 样例输入1

```
10 2
```

#### 样例输出1

```
21
```

#### 样例输入2

```
10 10
```

#### 样例输出2

```
255
```

#### 数据范围

- $2 \leq K \leq N \leq 1000000$

### 算法分类

动态规划

### 题解分析与结论

#### 综合分析

本题的核心是通过动态规划来解决停靠方案数的计算问题。所有题解都采用了类似的动态规划思路，主要区别在于初始化和转移方程的细节处理。

#### 题解对比

1. **一只书虫仔的题解**
   - **星级**: 4
   - **关键亮点**: 清晰地定义了状态转移方程，并详细解释了初始化条件。代码简洁，易于理解。
   - **个人心得**: 无

2. **徐天乾的题解**
   - **星级**: 4
   - **关键亮点**: 代码实现清晰，初始化条件处理得当，转移方程简洁明了。
   - **个人心得**: 无

3. **fa_555的题解**
   - **星级**: 4
   - **关键亮点**: 详细解释了状态转移方程，并提供了边界条件的处理。代码实现简洁。
   - **个人心得**: 无

#### 最优关键思路

- **状态定义**: $f_{i,0/1}$ 表示前$i$个车站不停靠/停靠的方案数。
- **转移方程**:
  - $f_{i,0} = f_{i-1,0} + f_{i-1,1}$
  - $f_{i,1} = f_{i,0} - f_{i-k,0}$ （当$i \geq k$时）
- **初始化**: $f_{0,0} = f_{0,1} = f_{1,1} = 1$
- **最终答案**: $f_{n,1}$

#### 代码实现

```cpp
#include<bits/stdc++.h>
using namespace std;
int i,n,k,u,f[1000100][2];
int const mod=(1e9)+7;
int main(){
    scanf("%d %d",&n,&k);
    f[0][0]=f[0][1]=f[1][1]=1;
    for (i=2;i<=n;i++){
        f[i][0]=u=(f[i-1][0]+f[i-1][1])%mod;
        f[i][1]=(i<k)?u:(u-f[i-k][0]+mod)%mod;
    }
    printf("%d\n",f[n][1]);
    return 0;
}
```

#### 可拓展之处

- **类似问题**: 其他需要计算方案数且有限制条件的问题，如背包问题、路径计数问题等。
- **优化思路**: 可以使用滚动数组优化空间复杂度。

#### 推荐题目

1. [P1048 采药](https://www.luogu.com.cn/problem/P1048)
2. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)
3. [P1064 金明的预算方案](https://www.luogu.com.cn/problem/P1064)

---
处理用时：24.65秒
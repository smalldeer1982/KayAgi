# 题目信息

# Good Sequence

## 题目描述

[problemUrl]: https://atcoder.jp/contests/xmascontest2015noon/tasks/xmascontest2015_g

うなぎはクリスマスにサンタうさぎから数列 $ A=\{A_1,A_2,...,A_N\} $ をもらいました。

うなぎは数列 $ A $ からいくつか（$ 0 $ 個でもよい）の要素を消して、「良い数列」を作ることにしました。数列 $ x $ が良い数列であるとは、以下のような性質を満たすことを指します。

- すべての $ i\ (2\ ≦\ i\ ≦\ |x|-1) $ について、$ x_i $ は $ x_{i-1},\ x_i,\ x_{i+1} $ のうちの中央値でない。

例えば $ x=\{2,1,3,2\} $ や $ x=\{2,1,2\} $ は条件を満たしますが、$ x=\{1,2,3\} $ や $ x=\{1,1,3,2\} $ は条件を満たしません。 また、長さが $ 3 $ 未満の数列も条件を満たします。

数列 $ x $ のデコボコ度を隣接する数の差の和とします。デコボコ度を数式で表すと、$ Σ_{1\ ≦\ i\ ≦\ |x|-1}\ |x_i\ -\ x_{i+1}| $ となります。

このとき、作ることのできる良い数列のデコボコ度の最大値を求めてください。

## 说明/提示

### 部分点

この問題には部分点が設定されている。

- $ N≦1,000 $ を満たすデータセットに正解した場合は、$ 20 $ 点が与えられる。
- 追加制約のないデータセットに正解した場合は、上記とは別に $ 80 $ 点が与えられる。

### Sample Explanation 1

例えば、$ 1,4 $ 番目の要素を消すと $ \{1,3,1\} $ となり、デコボコ値は $ 4 $ となります。

## 样例 #1

### 输入

```
5

1 1 3 2 1```

### 输出

```
4```

## 样例 #2

### 输入

```
7

2 1000000000 0 1000000000 1 1000000000 5```

### 输出

```
5999999991```

# AI分析结果

### 题目内容重写

#### 题目描述

鳗鱼在圣诞节从圣诞兔那里得到了一个数列 $ A=\{A_1,A_2,...,A_N\} $。

鳗鱼决定从数列 $ A $ 中删除一些元素（可以是0个），以构造一个“好数列”。数列 $ x $ 被称为好数列，当且仅当满足以下性质：

- 对于所有 $ i\ (2\ ≦\ i\ ≦\ |x|-1) $，$ x_i $ 不是 $ x_{i-1},\ x_i,\ x_{i+1} $ 中的中位数。

例如，$ x=\{2,1,3,2\} $ 和 $ x=\{2,1,2\} $ 满足条件，但 $ x=\{1,2,3\} $ 和 $ x=\{1,1,3,2\} $ 不满足条件。此外，长度小于3的数列也满足条件。

数列 $ x $ 的“凹凸度”定义为相邻数差的绝对值之和。数学表达式为：$ Σ_{1\ ≦\ i\ ≦\ |x|-1}\ |x_i\ -\ x_{i+1}| $。

请计算可以构造的好数列的最大凹凸度。

#### 说明/提示

##### 部分点

- 对于满足 $ N≦1,000 $ 的数据集，正确解答将获得20分。
- 对于没有额外限制的数据集，正确解答将获得额外的80分。

##### 样例解释

例如，删除第1和第4个元素后，得到 $ \{1,3,1\} $，其凹凸度为4。

#### 样例 #1

##### 输入

```
5

1 1 3 2 1
```

##### 输出

```
4
```

#### 样例 #2

##### 输入

```
7

2 1000000000 0 1000000000 1 1000000000 5
```

##### 输出

```
5999999991
```

### 算法分类

动态规划

### 题解分析与结论

该题解虽然提供了代码实现，但并未正确理解题目要求。题目要求构造一个“好数列”，并计算其最大凹凸度，而题解直接计算了原序列的凹凸度，忽略了“好数列”的构造条件。因此，该题解未能解决题目核心问题。

### 通用建议与扩展思路

1. **理解题意**：首先需要明确“好数列”的定义，即每个元素（除了首尾）不能是它相邻三个元素的中位数。
2. **动态规划**：可以考虑使用动态规划来解决这个问题，记录每一步选择或不选择当前元素时的最大凹凸度。
3. **优化思路**：在动态规划过程中，可以通过剪枝或优化状态转移方程来减少计算量。

### 推荐题目

1. [P1048 采药](https://www.luogu.com.cn/problem/P1048) - 动态规划经典问题，考察状态转移和优化。
2. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060) - 动态规划问题，涉及状态转移和条件判断。
3. [P1091 合唱队形](https://www.luogu.com.cn/problem/P1091) - 动态规划问题，考察状态转移和条件判断。

### 总结

该题解未能正确理解题目要求，直接计算了原序列的凹凸度，忽略了“好数列”的构造条件。建议重新思考题目，使用动态规划或其他合适的方法来解决。

---
处理用时：19.49秒
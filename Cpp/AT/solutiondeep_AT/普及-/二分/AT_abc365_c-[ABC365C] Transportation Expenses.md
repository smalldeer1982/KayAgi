# 题目信息

# [ABC365C] Transportation Expenses

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc365/tasks/abc365_c

あるイベントには $ N $ 人が参加し、$ i $ 番目の人の交通費は $ A_i $ 円でした。

イベントの主催者である高橋くんは、交通費補助額の上限額 $ x $ を設定して、人 $ i $ には交通費補助額として $ \min(x,A_i) $ 円を支給することとしました。ここで $ x $ は非負整数である必要があります。

高橋くんの予算が $ M $ 円であり、$ N $ 人に渡す交通費補助額の総和を $ M $ 円以下にしたいとき、交通費補助額の上限額 $ x $ は最大でいくらにできますか？

ただし、交通費補助額の上限額を無限に大きくできる場合は代わりにそのことを報告してください。

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 2\times\ 10^5 $
- $ 1\leq\ M\ \leq\ 2\times\ 10^{14} $
- $ 1\leq\ A_i\ \leq\ 10^9 $
- 入力される数値は全て整数
 
### Sample Explanation 1

交通費補助額の上限額を $ 2 $ 円にすると、$ N $ 人に渡す交通費補助額の総和は $ \min(2,1)\ +\ \min(2,3)\ +\ \min(2,2)\ +\ \min(2,4)\ =\ 7 $ 円となり、予算の $ 8 $ 円以下となります。 交通費補助額の上限額を $ 3 $ 円にすると、$ N $ 人に渡す交通費補助額の総和は $ \min(3,1)\ +\ \min(3,3)\ +\ \min(3,2)\ +\ \min(3,4)\ =\ 9 $ 円となり、予算の $ 8 $ 円を超えてしまいます。 よって、交通費補助額の上限額の最大値は $ 2 $ 円となります。

### Sample Explanation 2

交通費補助額の上限額を無限に大きくできます。

## 样例 #1

### 输入

```
4 8

1 3 2 4```

### 输出

```
2```

## 样例 #2

### 输入

```
3 20

5 3 2```

### 输出

```
infinite```

## 样例 #3

### 输入

```
10 23

2 5 6 5 2 1 7 9 7 2```

### 输出

```
2```

# AI分析结果

### 题目翻译
【题目内容】
# [ABC365C] 交通费用补贴

## 题目描述

某活动有 $N$ 人参加，第 $i$ 个人的交通费用为 $A_i$ 日元。

活动主办者高桥决定为交通补贴设定一个上限 $x$，即第 $i$ 个人的补贴为 $\min(x, A_i)$ 日元。这里，$x$ 必须是一个非负整数。

高桥的预算为 $M$ 日元，他希望所有 $N$ 人的交通补贴总额不超过 $M$ 日元。请问交通补贴的上限 $x$ 最大可以设为多少？

如果交通补贴的上限可以无限大，请输出 `infinite`。

## 说明/提示

### 约束条件
- $1 \leq N \leq 2 \times 10^5$
- $1 \leq M \leq 2 \times 10^{14}$
- $1 \leq A_i \leq 10^9$
- 输入的所有数值均为整数

### 样例解释 1
如果交通补贴的上限设为 $2$ 日元，那么 $N$ 人的交通补贴总额为 $\min(2,1) + \min(2,3) + \min(2,2) + \min(2,4) = 7$ 日元，不超过预算 $8$ 日元。如果上限设为 $3$ 日元，则总额为 $9$ 日元，超过了预算。因此，交通补贴的上限最大为 $2$ 日元。

### 样例解释 2
交通补贴的上限可以无限大。

### 样例输入 1
```
4 8
1 3 2 4
```

### 样例输出 1
```
2
```

### 样例输入 2
```
3 20
5 3 2
```

### 样例输出 2
```
infinite
```

### 样例输入 3
```
10 23
2 5 6 5 2 1 7 9 7 2
```

### 样例输出 3
```
2
```

---

### 题解分析与结论

#### 总体思路
本题的核心是找到最大的 $x$，使得 $\sum_{i=1}^{N} \min(x, A_i) \leq M$。由于 $x$ 越大，补贴总额越大，因此问题具有单调性，适合使用二分查找来解决。

#### 关键难点
1. **单调性判断**：随着 $x$ 的增加，补贴总额单调不减，因此可以通过二分查找来快速确定最大的 $x$。
2. **无限大情况的判断**：如果 $\sum_{i=1}^{N} A_i \leq M$，则 $x$ 可以无限大，直接输出 `infinite`。
3. **二分查找的实现**：需要设计一个高效的 `check` 函数，计算给定 $x$ 下的补贴总额，并判断是否小于等于 $M$。

#### 最优思路
1. **二分查找**：通过二分查找在 $[0, M]$ 范围内寻找最大的 $x$，使得补贴总额不超过 $M$。
2. **提前特判**：先计算所有 $A_i$ 的总和，如果总和小于等于 $M$，则直接输出 `infinite`，避免不必要的计算。
3. **高效计算**：在 `check` 函数中，遍历数组并累加 $\min(x, A_i)$，一旦累加值超过 $M$，立即返回 `false`，减少不必要的计算。

#### 推荐题解
1. **作者：chinazhanghaoxun (赞：7)**  
   - **星级：5星**  
   - **亮点**：代码简洁，思路清晰，提前特判了无限大的情况，二分查找的实现非常标准，且代码可读性高。  
   - **核心代码**：
     ```cpp
     bool check(int x){
         int cnt=0; 
         for(int i=1;i<=n;i++){
             cnt+=min(x,a[i]);
             if(cnt>m) return false;
         }
         return cnt<=m;
     }
     ```

2. **作者：ikunTLE (赞：6)**  
   - **星级：4.5星**  
   - **亮点**：代码结构清晰，二分查找的实现非常标准，且提前特判了无限大的情况，代码可读性较高。  
   - **核心代码**：
     ```cpp
     bool check(int x){
         long long sum=0;
         for(int i=1;i<=n;++i){
             sum+=min(x,a[i]);
             if(sum>m) return false;
         }
         return true;
     }
     ```

3. **作者：Little_x_starTYJ (赞：5)**  
   - **星级：4星**  
   - **亮点**：代码简洁，提前特判了无限大的情况，二分查找的实现标准，代码可读性较高。  
   - **核心代码**：
     ```cpp
     bool check(int k) {
         int ans = 0;
         for (int i = 1; i <= n; i++) {
             ans += min(a[i], k);
             if (ans > m) return false;
         }
         return true;
     }
     ```

#### 扩展思路
- **类似题目**：可以扩展到其他具有单调性的问题，如最大最小值问题、二分查找应用等。
- **优化技巧**：在二分查找中，可以通过提前终止循环来减少不必要的计算，提高效率。

#### 推荐题目
1. [P2249 【深基13.例1】查找](https://www.luogu.com.cn/problem/P2249)  
2. [P1024 [NOIP2001 提高组] 一元三次方程求解](https://www.luogu.com.cn/problem/P1024)  
3. [P3382 【模板】三分法](https://www.luogu.com.cn/problem/P3382)  

#### 个人心得
- **调试经历**：在二分查找中，边界条件的处理非常重要，尤其是在无限大情况的特判中，容易遗漏。
- **踩坑教训**：在计算补贴总额时，如果累加值超过 $M$，应立即返回 `false`，避免不必要的计算。
- **顿悟感想**：二分查找的应用非常广泛，掌握其核心思想可以解决许多类似的问题。

---
处理用时：52.78秒
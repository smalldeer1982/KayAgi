# 题目信息

# [ABC385B] Santa Claus 1

## 题目描述

有一个 $H$ 行 $W$ 列的网格。用 $(i,j)$ 表示从上往下数第 $i$ 行、从左往右数第 $j$ 列的单元格。 

如果 $S_{i,j}$ 是 `#`，则单元格 $(i,j)$ 不可通过；如果是 `.`，则该单元格可以通过且没有房子；如果是 `@`，则该单元格可以通过且有一个房子。

最初，圣诞老人在单元格 $(X,Y)$ 中。他将按照字符串 $T$ 的指示行动，具体如下：

- 设 $|T|$ 为字符串 $T$ 的长度。对于 $i=1,2,\ldots,|T|$，他按以下方式移动：
    - 设 $(x,y)$ 为他当前所在的单元格。
        - 如果 $T_i$ 是 `U` 且单元格 $(x-1,y)$ 可通过，则移动到单元格 $(x-1,y)$。
        - 如果 $T_i$ 是 `D` 且单元格 $(x+1,y)$ 可通过，则移动到单元格 $(x+1,y)$。
        - 如果 $T_i$ 是 `L` 且单元格 $(x,y-1)$ 可通过，则移动到单元格 $(x,y-1)$。
        - 如果 $T_i$ 是 `R` 且单元格 $(x,y+1)$ 可通过，则移动到单元格 $(x,y+1)$。
        - 否则，停留在单元格 $(x,y)$。

请找出他完成所有行动后所在的单元格，以及他在行动过程中经过或到达的不同房子的数量。如果多次经过同一个房子，只计数一次。

## 说明/提示

- $3 \leq H,W \leq 100$
- $1 \leq X \leq H$
- $1 \leq Y \leq W$
- 所有给定数字均为整数。
- 每个 $S_{i,j}$ 是 `#`、`.` 或 `@` 之一。
- 对于每个 $1 \leq i \leq H$，$S_{i,1}$ 和 $S_{i,W}$ 都是 `#`。
- 对于每个 $1 \leq j \leq W$，$S_{1,j}$ 和 $S_{H,j}$ 都是 `#`。
- $S_{X,Y}=$ `.`
- $T$ 是一个长度至少为 $1$ 且最多为 $10^4$ 的字符串，仅由 `U`、`D`、`L`、`R` 组成。

## 样例 #1

### 输入

```
5 5 3 4
#####
#...#
#.@.#
#..@#
#####
LLLDRUU```

### 输出

```
2 3 1```

## 样例 #2

### 输入

```
6 13 4 6
#############
#@@@@@@@@@@@#
#@@@@@@@@@@@#
#@@@@.@@@@@@#
#@@@@@@@@@@@#
#############
UURUURLRLUUDDURDURRR```

### 输出

```
3 11 11```

## 样例 #3

### 输入

```
12 35 7 10
###################################
#.................................#
#..........@......................#
#......@................@.........#
#.............##............@.....#
#...##........##....##............#
#...##........##....##.......##...#
#....##......##......##....##.....#
#....##......##......##..##.......#
#.....#######.........###.........#
#.................................#
###################################
LRURRRUUDDULUDUUDLRLRDRRLULRRUDLDRU```

### 输出

```
4 14 1```

# AI分析结果

当前暂无题解，以下是通用建议与扩展思路：

### 通用建议
1. **思路**：
    - 首先，需要读取输入的网格信息、圣诞老人的初始位置和行动指令字符串。
    - 然后，按照指令字符串的每个字符，根据规则模拟圣诞老人的移动过程。在移动过程中，判断当前要移动的单元格是否可通过，如果可通过则移动，否则停留在原地。
    - 同时，使用一个集合（如 `std::set`）来记录经过的不同房子的位置，以确保多次经过同一个房子时只计数一次。
    - 最后，输出圣诞老人最终所在的单元格位置和经过的不同房子的数量。
2. **数据结构**：
    - 使用二维数组来存储网格信息，方便访问每个单元格的状态。
    - 使用集合来记录经过的房子位置，利用集合的特性（元素唯一）来避免重复计数。
3. **代码实现**：
    - 编写一个函数来判断某个单元格是否可通过。
    - 编写一个循环来模拟圣诞老人的移动过程，根据指令字符更新圣诞老人的位置。

### 扩展思路
同类型题或类似算法套路：
1. **迷宫问题**：给定一个迷宫地图，要求从起点走到终点，过程中可能有障碍物，需要判断能否到达终点以及最短路径等问题。解决这类问题通常也需要模拟移动过程，判断移动的合法性。
2. **游戏角色移动问题**：在游戏中，角色根据玩家的操作指令在地图上移动，可能会遇到各种地形和事件，需要模拟角色的移动和状态变化。
3. **路径搜索问题**：在一个图中，从一个节点出发，按照一定的规则搜索到目标节点的路径，可能需要考虑节点的可达性和路径的代价等因素。

### 洛谷相似题目推荐
1. [P1135 奇怪的电梯](https://www.luogu.com.cn/problem/P1135)：模拟电梯在不同楼层之间的移动，需要考虑电梯的限制条件。
2. [P1605 迷宫](https://www.luogu.com.cn/problem/P1605)：在迷宫中寻找从起点到终点的路径，需要判断是否可以通过某些格子。
3. [P2895 [USACO08FEB]Meteor Shower S](https://www.luogu.com.cn/problem/P2895)：模拟奶牛在地图上的移动，需要避开流星的落点，找到安全的位置。 

---
处理用时：15.60秒
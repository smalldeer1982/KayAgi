# 题目信息

# [ABC386C] Operate 1

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc386/tasks/abc386_c

**この問題は F 問題 (Operate K) の部分問題であり、 $ K=1 $ です。**  
 **F 問題に正解するコードをこの問題に提出することで、この問題に正解できます。**

文字列 $ S $ に対して以下の操作を $ 0 $ 回以上 $ K $ 回以下行って、文字列 $ T $ と一致させられるか判定してください。

- 次の $ 3 $ 種類の操作のうちひとつを選択し、実行する。
  - $ S $ 中の (先頭や末尾を含む) 任意の位置に、任意の文字を $ 1 $ つ挿入する。
  - $ S $ 中の文字を $ 1 $ つ選び、削除する。
  - $ S $ 中の文字を $ 1 $ つ選び、別の $ 1 $ つの文字に変更する。

## 说明/提示

### 制約

- $ S,T $ は英小文字からなる長さ $ 1 $ 以上 $ 500000 $ 以下の文字列
- $ \color{red}{K=1} $
 
### Sample Explanation 1

`abc` の $ 2 $ 文字目の `b` を `g` に置き換えることで、 `abc` を $ 1 $ 回の操作で `agc` に変換できます。

### Sample Explanation 2

$ 1 $ 回の操作では `abc` を `awtf` に変換できません。

### Sample Explanation 3

`abc` の $ 2 $ 文字目の `b` を削除することで、 `abc` を $ 1 $ 回の操作で `ac` に変換できます。

### Sample Explanation 4

`back` の $ 1 $ 文字目と $ 2 $ 文字目の間に `l` を挿入することで、 `back` を $ 1 $ 回の操作で `black` に変換できます。

### Sample Explanation 5

初めから $ S=T $ である場合もあります。

## 样例 #1

### 输入

```
1

abc

agc```

### 输出

```
Yes```

## 样例 #2

### 输入

```
1

abc

awtf```

### 输出

```
No```

## 样例 #3

### 输入

```
1

abc

ac```

### 输出

```
Yes```

## 样例 #4

### 输入

```
1

back

black```

### 输出

```
Yes```

## 样例 #5

### 输入

```
1

same

same```

### 输出

```
Yes```

## 样例 #6

### 输入

```
1

leap

read```

### 输出

```
No```

# AI分析结果

### 题目翻译
这是 F 问题（Operate K）的子问题，其中 $K = 1$。
可以通过提交 F 问题的正确代码来解决这个问题。

请判断是否可以对字符串 $S$ 进行 0 次以上、$K$ 次以下的以下操作，使其与字符串 $T$ 一致。

- 从以下 3 种操作中选择一种并执行：
  - 在 $S$ 中的任意位置（包括开头和结尾）插入任意一个字符。
  - 选择 $S$ 中的一个字符并将其删除。
  - 选择 $S$ 中的一个字符并将其更改为另一个字符。

### 综合分析与结论
这些题解的核心思路都是通过分类讨论字符串 $S$ 和 $T$ 的长度关系，来判断能否通过一次操作使两字符串相等。具体分类情况为：
1. 若两字符串长度差大于 1，直接判定为 `No`。
2. 若两字符串长度相等，统计不同字符的数量，若数量大于 1 则为 `No`，否则为 `Yes`。
3. 若两字符串长度差为 1，找到第一个不同的位置，继续比较后续字符，若还有不同则为 `No`，否则为 `Yes`。

不同题解的差异主要体现在代码实现方式和细节处理上，如使用的计数器、遍历方式、字符串操作方法等。

### 所选题解
- **作者：_anll_（5星）**
    - **关键亮点**：思路清晰，将不同情况封装成函数，代码结构清晰，可读性高。
    - **核心代码**：
```cpp
void solve1(){
    int x=1,tot=0;
    for(int i=1;i<=n2;i++){
        while(x<=n1&&s1[x]!=s2[i])
            tot++,x++;
        if(x>n1) break;
        if(s1[x]==s2[i]) x++;
    }
    cout<<(tot>1?"No\n":"Yes\n");
}
void solve3(){
    int tot=0;
    for(int i=1;i<=n1;i++)
        if(s1[i]!=s2[i]) tot++;
    cout<<(tot>1?"No\n":"Yes\n");
}
signed main(){
    ios::sync_with_stdio(false);
    cin.tie(0);cout.tie(0);
    cin>>t;
    cin>>s1>>s2;n1=s1.size(),n2=s2.size(),s1='6'+s1,s2='6'+s2;
    if(s1==s2) return cout<<"Yes\n",0;
    if(n1-n2==1) solve1();
    else if(n2-n1==1){
        swap(s1,s2);swap(n1,n2);
        solve1();
    }
    else if(n1==n2) solve3();
    else cout<<"No\n";
    return 0;
}
```
    - **核心实现思想**：`solve1` 函数处理长度差为 1 的情况，通过遍历和计数器统计不同字符数量；`solve3` 函数处理长度相等的情况，直接统计不同字符数量。在 `main` 函数中根据字符串长度关系调用相应函数。

- **作者：songlll（4星）**
    - **关键亮点**：思路简洁，代码实现简单，将插入操作转化为删除操作，减少了代码量。
    - **核心代码**：
```cpp
int main(){
    int k;
    cin>>k;
    string a,b;
    cin>>a>>b;
    if(abs((int)a.size()-(int)b.size())==1){
        if(a.size()>b.size())swap(a,b);
        int f=0;
        for(int i=0;i<b.size();i++){
            if(a[i]!=b[i+f]){
                if(f){
                    cout<<"No";
                    return 0;
                }
                f=1;
            }
        }
        cout<<"Yes";
        return 0;
    }
    else if(a.size()==b.size()){
        int cnt=0;
        for(int i=0;i<a.size();i++){
            if(a[i]!=b[i])cnt++;
        }
        if(cnt<=1)cout<<"Yes";
        else cout<<"No";
        return 0;
    }
    cout<<"No";
}
```
    - **核心实现思想**：先判断字符串长度差，若为 1 则将较短字符串与较长字符串比较，使用标志位 `f` 记录是否已经进行过一次操作；若长度相等则直接统计不同字符数量。

- **作者：Drifty（4星）**
    - **关键亮点**：思路简洁明了，直接描述了不同长度情况下的判断方法。
    - **核心代码**：无（题解中未给出代码）
    - **核心实现思想**：先判断长度差，若大于 1 无解；若为 0 则逐个比较字符；若为 1 则找到第一个不同位置，跳过继续比较。

### 最优关键思路或技巧
- 分类讨论字符串长度关系，简化判断过程。
- 将插入操作转化为删除操作，减少代码复杂度。
- 使用计数器统计不同字符数量，方便判断是否可以通过一次操作使两字符串相等。

### 可拓展之处
同类型题可以考虑增加操作次数 $K$，此时可以使用动态规划的方法来解决。类似算法套路可以应用于编辑距离问题，通过计算将一个字符串转换为另一个字符串所需的最少操作次数。

### 推荐题目
1. [P2758 编辑距离](https://www.luogu.com.cn/problem/P2758)
2. [P1279 字串距离](https://www.luogu.com.cn/problem/P1279)
3. [P5858 「SWTR-03」Golden Sword](https://www.luogu.com.cn/problem/P5858)

### 个人心得摘录与总结
- **作者：_anll_**：提到打这道题时电脑死机，说明在竞赛过程中可能会遇到意外情况，需要保持冷静。
- **作者：songlll**：指出 `string.size()` 的返回值是 `unsigned` 类型，不能直接相减，提醒在代码实现中要注意数据类型的问题。

---
处理用时：35.17秒
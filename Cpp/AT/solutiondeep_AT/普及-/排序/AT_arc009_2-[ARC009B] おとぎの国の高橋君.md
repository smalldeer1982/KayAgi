# 题目信息

# [ARC009B] おとぎの国の高橋君

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc009/tasks/arc009_2

高橋君の住むAtCoder国では、私達が普段使用する数字と同様に $ 10 $ 個のアラビア数字 $ (0-9) $ の $ 10 $ 進数が使われています。  
 しかし、私達が普段使用する数字は大小関係が $ 0\ の順になっているのに対して、

AtCoder国の数字ではその大小関係が異なっています。

例えば、AtCoder国の数字では\ 0\ の順になっている場合、AtCoder国では\ 9 $ よりも $ 8 $ の方が大きいことになります。また、$ 97 $ よりも $ 72 $ の方が大きいことになります。  
  
 AtCoder国の数字の大小関係といくつかの数が与えられるので、AtCoder国の数字の大小関係で昇順に並び替えてください。  
 なお、私達が普段使用する数字同様、AtCoder国で最も小さい数字は $ 0 $ であることは決まっています。 入力は以下の形式で標準入力から与えられる。

> $ b_0 $ $ b_1 $ ‥‥ $ b_9 $ $ N $ $ a_0 $ $ a_1 $ : : $ a_{N-1} $

- 入力は $ N+2 $ 行ある。
- $ 1 $ 行目には、AtCoder国での $ 1 $ 桁の数字の大小関係が与えられる。 
  - AtCoder国では $ b_0\ であることを表している。 $
  - $ b_0 $ は必ず $ 0 $ である。
  - 重複する数字は存在せず、$ 0 $ から $ 9 $ までの数字が $ 1 $ 度ずつ現れる。
- $ 2 $ 行目には並び替える数の個数を表す整数 $ N(1≦N≦777) $ が与えられる。
- $ 3 $ 行目からの $ N $ 行には、$ j+3 $ 行目に並び替える数を表す整数 $ a_j(1≦a_j≦777,777,777) $ が与えられる。
 
 与えられた数をAtCoder国の数字の大小関係にあわせて昇順に並び替え、標準出力に $ 1 $ 行に $ 1 $ つの数字ずつ出力せよ。  
 なお、最後には改行を出力せよ。 ```

0 8 1 3 5 4 9 7 6 2
10
1
2
3
4
5
6
7
8
9
10
```

 ```

8
1
3
5
4
9
7
6
2
10
```

- AtCoder国ではこの大小関係の場合、$ 0,\ 8,\ 1,\ 3,\ 5,\ 4,\ 9,\ 7,\ 6,\ 2,\ 80,\ 88,\ 81,\ 83,\ ...,\ 86,\ 82,\ 10,\ 18,\ 11,\ ... $ の順に大きくなるので、答えは上記の順になります。
 
```

0 9 8 7 6 5 4 3 2 1
3
13467932
98738462
74392
```

 ```

74392
98738462
13467932
```

- $ 5 $ 桁の数は $ 8 $ 桁の数よりも小さいので、$ 1 $ 番は $ 74392 $ になります。
- $ 98738462 $ と $ 13467932 $ では最上位の $ 9 $ は$ 1 $ より小さいので、$ 98738462 $ が $ 2 $ 番目、$ 13467932 $ が $ 3 $ 番目になります。
 
```

0 1 2 3 4 5 6 7 8 9
4
643
1234
43
909
```

 ```

43
643
909
1234
```

- 私達の普段使用する数と同じ大小関係に昇順に並べます。
 
```

0 7 4 3 9 5 6 2 1 8
2
333
333
```

 ```

333
333
```

 ```

0 2 4 6 8 1 3 5 7 9
1
10
```

 ```

10
```

# AI分析结果

### 题目中文重写
### [ARC009B] 童话之国的高桥君

#### 题目描述
高桥君居住的AtCoder国，和我们平时使用的数字一样，采用由10个阿拉伯数字（0 - 9）组成的十进制数。
然而，我们平时使用的数字大小关系是 $0 < 1 < 2 < 3 < 4 < 5 < 6 < 7 < 8 < 9$，而AtCoder国的数字大小关系与此不同。
例如，在AtCoder国的数字大小关系为 $0 < 8 < 1 < 3 < 5 < 4 < 9 < 7 < 6 < 2$ 时，在AtCoder国 $9$ 比 $8$ 小，$97$ 比 $72$ 小。

给定AtCoder国数字的大小关系以及一些数字，请按照AtCoder国数字的大小关系将这些数字按升序排列。
需要注意的是，和我们平时使用的数字一样，AtCoder国最小的数字是 $0$。输入将以以下形式从标准输入给出：
> $ b_0 $ $ b_1 $ ‥‥ $ b_9 $ $ N $ $ a_0 $ $ a_1 $ : : $ a_{N - 1} $
- 输入共有 $N + 2$ 行。
- 第一行给出AtCoder国一位数的大小关系。
  - 表示在AtCoder国 $b_0 < b_1 < b_2 < \cdots < b_9$。
  - $b_0$ 一定是 $0$。
  - 数字不重复，$0$ 到 $9$ 的数字各出现一次。
- 第二行给出需要排序的数字个数 $N(1 \leq N \leq 777)$。
- 从第三行开始的 $N$ 行中，第 $j + 3$ 行给出需要排序的整数 $a_j(1 \leq a_j \leq 777,777,777)$。

请将给定的数字按照AtCoder国数字的大小关系升序排列，并将结果逐行输出到标准输出，最后输出一个换行符。

#### 示例
```
0 8 1 3 5 4 9 7 6 2
10
1
2
3
4
5
6
7
8
9
10
```
输出：
```
8
1
3
5
4
9
7
6
2
10
```
在AtCoder国这种大小关系下，数字从小到大的顺序为 $0, 8, 1, 3, 5, 4, 9, 7, 6, 2, 80, 88, 81, 83, \cdots, 86, 82, 10, 18, 11, \cdots$，所以答案是上述顺序。

```
0 9 8 7 6 5 4 3 2 1
3
13467932
98738462
74392
```
输出：
```
74392
98738462
13467932
```
- 五位数比八位数小，所以第一个是 $74392$。
- 对于 $98738462$ 和 $13467932$，最高位 $9$ 比 $1$ 小，所以 $98738462$ 排第二，$13467932$ 排第三。

```
0 1 2 3 4 5 6 7 8 9
4
643
1234
43
909
```
输出：
```
43
643
909
1234
```
按照我们平时使用的数字大小关系升序排列。

```
0 7 4 3 9 5 6 2 1 8
2
333
333
```
输出：
```
333
333
```

```
0 2 4 6 8 1 3 5 7 9
1
10
```
输出：
```
10
```

### 题解综合分析与结论
这些题解的核心目标都是根据AtCoder国特殊的数字大小关系对给定数字进行排序。不同题解采用了不同的排序算法和实现方式，下面从思路、算法要点和难点解决方面进行对比：
|作者|思路|算法要点|解决难点|
| ---- | ---- | ---- | ---- |
|CZQ_King|借鉴基数排序的思想，通过模拟基数排序的过程对数据进行排序|定义结构体存储AtCoder国数字顺序和对应的队列，从个位到最高位依次将数字放入对应的桶中，再依次取出|处理特殊的数字大小关系，通过将数字按位拆分并与AtCoder国数字顺序匹配，放入相应桶中|
|MattL|使用 `sort` 函数进行排序，自定义 `cmp` 函数来实现特殊的比较规则|根据数字长度和每一位的大小关系进行比较，长度不同时短的在前，长度相同时按AtCoder国数字顺序比较|自定义比较函数，准确处理数字长度和每一位的比较|
|LiveZoom|使用 `sort` 函数排序，通过二维数组 `cmp` 存储数字间的大小关系，自定义 `cmp1` 函数进行比较|先构建数字大小关系矩阵，再根据矩阵和数字长度进行比较|构建和使用数字大小关系矩阵，避免重复比较|
|monstersqwq|使用 `sort` 函数排序，用数组 `s` 记录AtCoder国数字大小关系，将字符串转换为对应数值进行比较|长度不同时短的在前，长度相同时将字符串转换为数值比较|字符串和数值的转换，准确处理不同长度和每一位的比较|
|happybob|使用 `sort` 函数排序，定义类和 `is_small` 函数进行比较，后用运算符重载优化|先将数字转换为字符串比较长度和每一位，后用友元函数重载运算符优化|运算符重载和友元函数的使用，优化比较效率|
|_Ayanami_|将数字字符串转换为对应正常数字字符串，按字符串字典序和长度排序|替换数字字符串中的字符，按字符串规则排序|字符替换和字符串排序规则的应用|
|智子·起源|使用结构体存储数字及其实际大小，按实际大小排序|读入数字并计算其实际大小，按实际大小对结构体排序|计算数字的实际大小，处理前导0问题|
|RioBlu|使用选择排序，用字符串存储数字，自定义比较函数 `xz` 进行比较|根据数字长度和每一位的大小关系进行比较，交换不符合顺序的元素|选择排序的实现，自定义比较函数处理特殊大小关系|

### 评分与选择
|作者|评分|关键亮点|
| ---- | ---- | ---- |
|CZQ_King|4星|借鉴基数排序思想，代码逻辑清晰，通过队列模拟桶的操作，直观展示排序过程|
|MattL|4星|使用 `sort` 函数和自定义 `cmp` 函数，思路简洁，代码可读性高，`inline` 关键字加速调用|
|monstersqwq|4星|使用 `sort` 函数和自定义 `cmp` 函数，将字符串转换为数值比较，实现简单易懂|

### 重点代码及核心实现思想
#### CZQ_King
```cpp
struct S{
    int num;
    queue<int>q;
}x[10];
for(int i=1;i<=len;i++){
    int po=pow(10,i-1),k=0;
    for(int i=0;i<n;i++){
        for(int j=0;j<10;j++){
            if(a[i]/po%10==x[j].num){
                x[j].q.push(a[i]);
                break;
            }
        }
    }
    for(int i=0;i<10;i++){
        while(!x[i].q.empty()){
            a[k++]=x[i].q.front();
            x[i].q.pop();
        }
    }
}
```
核心思想：借鉴基数排序，从个位到最高位，将数字按每一位的值放入对应的桶（队列）中，再依次取出，实现排序。

#### MattL
```cpp
inline bool cmp(string a,string b)
{
    if(a.size()!=b.size())return a.size()<b.size();
    for (int i = 0; i < a.size(); ++i) {
        if(a[i]!=b[i])return c[a[i]-'0']<c[b[i]-'0'];
    }
    return false;
}
sort(b,b+n,cmp);
```
核心思想：使用 `sort` 函数和自定义 `cmp` 函数，先比较数字长度，长度不同时短的在前，长度相同时按AtCoder国数字顺序比较。

#### monstersqwq
```cpp
bool cmp(string a,string b)
{
    if(a.length()!=b.length() ) return a.length() <b.length() ;
    int a1=0,b1=0;
    for(int i=0;i<a.length() ;i++)
    {
        a1=a1*10+s[a[i]-'0'];
    }
    for(int i=0;i<b.length() ;i++)
    {
        b1=b1*10+s[b[i]-'0'];
    }
    return a1<b1;
}
sort(a+1,a+n+1,cmp);
```
核心思想：使用 `sort` 函数和自定义 `cmp` 函数，先比较数字长度，长度不同时短的在前，长度相同时将字符串转换为数值比较。

### 最优关键思路或技巧
- **使用自定义比较函数**：多个题解都使用了自定义比较函数，结合数字长度和每一位的大小关系进行比较，能灵活处理特殊的数字大小关系。
- **字符串处理**：将数字以字符串形式存储和处理，避免了数字长度和前导0的问题，方便按位比较。

### 拓展思路
同类型题或类似算法套路：
- 其他特殊排序规则的排序问题，如根据字符的某种优先级对字符串进行排序。
- 涉及自定义比较规则的排序算法应用，如在图算法中根据节点的某种属性对节点进行排序。

### 洛谷推荐题目
- [P1177 【模板】快速排序](https://www.luogu.com.cn/problem/P1177)：考察排序算法的基本实现。
- [P1093 [NOIP2007 普及组] 奖学金](https://www.luogu.com.cn/problem/P1093)：需要自定义排序规则对学生信息进行排序。
- [P1781 宇宙总统](https://www.luogu.com.cn/problem/P1781)：涉及字符串比较和排序，与本题处理字符串和自定义比较规则的思路类似。

### 个人心得摘录与总结
- **happybob**：原代码使用 `to_string()` 效率低，每次转换为字符串速度慢，改用字符串存储和运算符重载后速度提升几十毫秒。总结：在处理大量数据转换时，要注意转换操作的效率，可考虑使用更高效的数据类型和操作。 

---
处理用时：69.61秒
# 题目信息

# [ABC338C] Leftover Recipes

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc338/tasks/abc338_c

冷蔵庫に $ N $ 種類の材料があります。これらを材料 $ 1 $、$ \dots $、材料 $ N $ と呼びます。材料 $ i $ は $ Q_i $ グラムあります。

あなたは $ 2 $ 種類の料理を作れます。料理 A は、$ 1 $ 人分を作るのに各材料 $ i $ $ (1\ \leq\ i\ \leq\ N) $ が $ A_i $ グラム必要です。料理 B は、$ 1 $ 人分を作るのに各材料 $ i $ が $ B_i $ グラム必要です。どちらも整数人分しか作れません。

冷蔵庫にある材料のみを使って、最大で合計何人分の料理を作れますか。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 10 $
- $ 1\ \leq\ Q_i\ \leq\ 10^6 $
- $ 0\ \leq\ A_i\ \leq\ 10^6 $
- $ A_i\ \geq\ 1 $ であるような $ i $ が存在する。
- $ 0\ \leq\ B_i\ \leq\ 10^6 $
- $ B_i\ \geq\ 1 $ であるような $ i $ が存在する。
- 入力値はすべて整数である。
 
### Sample Explanation 1

この冷蔵庫には、$ 800 $ グラムの材料 $ 1 $ と $ 300 $ グラムの材料 $ 2 $ があります。 $ 100 $ グラムの材料 $ 1 $ と $ 100 $ グラムの材料 $ 2 $ で料理 A を $ 1 $ 人分作れ、$ 200 $ グラムの材料 $ 1 $ と $ 10 $ グラムの材料 $ 2 $ で料理 B を $ 1 $ 人分作れます。 料理 A を $ 2 $ 人分、料理 B を $ 3 $ 人分作るのに必要な材料 $ 1 $ の量は $ 100\ \times\ 2\ +\ 200\ \times\ 3\ =\ 800 $ グラム、材料 $ 2 $ の量は $ 100\ \times\ 2\ +\ 10\ \times\ 3\ =\ 230 $ グラムで、いずれも冷蔵庫にある量を超えません。このようにして合計 $ 5 $ 人分の料理を作ることができますが、$ 6 $ 人分を作る方法はなく、答えは $ 5 $ です。

### Sample Explanation 2

$ 800 $ グラムの材料 $ 1 $ で料理 A を $ 8 $ 人分、$ 300 $ グラムの材料 $ 2 $ で料理 B を $ 30 $ 人分、合計 $ 38 $ 人分作れます。

### Sample Explanation 3

何も作れません。

## 样例 #1

### 输入

```
2

800 300

100 100

200 10```

### 输出

```
5```

## 样例 #2

### 输入

```
2

800 300

100 0

0 10```

### 输出

```
38```

## 样例 #3

### 输入

```
2

800 300

801 300

800 301```

### 输出

```
0```

## 样例 #4

### 输入

```
10

1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000

0 1 2 3 4 5 6 7 8 9

9 8 7 6 5 4 3 2 1 0```

### 输出

```
222222```

# AI分析结果

### 题目翻译
冰箱里有 $N$ 种材料。我们将这些材料称为材料 $1$、$\cdots$、材料 $N$。材料 $i$ 有 $Q_i$ 克。

你可以做两种料理。料理 A 每做一人份，每种材料 $i$（$1 \leq i \leq N$）需要 $A_i$ 克。料理 B 每做一人份，每种材料 $i$ 需要 $B_i$ 克。两种料理都只能做整数人份。

仅使用冰箱里的材料，最多可以总共做多少人份的料理？

### 综合分析与结论
这些题解大多采用枚举的思路来解决问题，核心是通过枚举其中一种料理（通常是料理 A）的制作份数，然后根据剩余食材计算出另一种料理（料理 B）最多能做的份数，最后取所有情况中两种料理份数之和的最大值。

- **思路对比**：大部分题解直接枚举料理 A 的份数，如 ToastBread、Hog_Dawa_IOI 等；M1saka16I72 则选择枚举料理 B 的份数。highkj 采用二分答案的思路，相对特殊。
- **算法要点**：枚举过程中，关键在于计算剩余食材能做的另一种料理的最大份数，通常通过取每种食材剩余量与该料理每份所需量的商的最小值来实现。
- **解决难点**：主要难点在于处理除数为 0 的情况，所有题解都有相应的特判处理。

### 所选题解
- **ToastBread（4星）**
    - **关键亮点**：思路清晰，代码注释详细，对枚举过程和特判处理的解释明确。
    - **个人心得**：提醒注意题目的样例 2 中菜品消耗的量可以为 0，要特判避免除以 0。
- **Hog_Dawa_IOI（4星）**
    - **关键亮点**：分析了二分和三分的不可行性，强调了枚举时要正确求出 A 菜数量的取值范围并考虑 0 的情况。
    - **个人心得**：提到机房同学尝试三分失败的教训，提醒不要盲目使用复杂算法。
- **M1saka16I72（4星）**
    - **关键亮点**：将题目转化为不等式的形式，通过变形不等式来枚举和计算，思路独特。
    - **个人心得**：分享了场上刚开始以为是爆搜或奇怪背包而浪费时间的经历。

### 重点代码
#### ToastBread
```cpp
for(int i = 1; i <= n; i++)
{
    if(a[i])//这里与a[i]>0等价 避免除以0 
    {
        amax=min(amax,q[i]/a[i]);//q[i]还有的量 a[i]一份要多少 自然求出这个材料只能做出q[i]/a[i]份 
    }
}
for(int i = 0; i <= amax; i++)//枚举选几份A套餐 记得考虑不选！ 
{
    bmax=1e9;//初始化 
    for(int j = 1; j <= n; j++)//遍历求出最多能做多少份B套餐 
    {
        if(b[j])//与b[j]>0等价 
        {
            bmax=min(bmax,q[j]/b[j]);
        }
        q[j]-=a[j];//减少一份A的量 因为i可能等于0(不取)，所以这行代码要放到B套餐的判断后面 
    }
    ans=max(ans,i+bmax);//更新答案
}
```
核心思想：先求出料理 A 最多能做的份数，然后枚举料理 A 的份数，对于每种情况，计算剩余食材能做的料理 B 的最大份数，更新答案。

#### Hog_Dawa_IOI
```cpp
long long num=1000005;
for(int i=1;i<=n;i++)
    num=num<(a[i]==0?1000000:s[i]/a[i])
    ?num:(a[i]==0?1000000:s[i]/a[i]);
for(int i=0;i<=num;i++)
{
    long long min=1000005;
    for(int j=1;j<=n;j++)
        min=min<(b[j]==0?1000000:(s[j]-a[j]*i)/b[j])
        ?min:(b[j]==0?1000000:(s[j]-a[j]*i)/b[j]);
    ans=ans>min+i?ans:min+i;
}
```
核心思想：先求出料理 A 数量的取值范围，然后枚举料理 A 的份数，对于每种情况，计算剩余食材能做的料理 B 的最大份数，更新答案。

#### M1saka16I72
```cpp
for(int y=0;y<=1e6;y++){
    bool flag = 0;
    for(int i=1;i<=n;i++){
        if(y*b[i]>q[i]){	//检查当前y是否合法，不合法直接退出
            flag = 1;
            break;
        }
    }
    if(flag)	break;
    ll x = INF;
    for(int i=1;i<=n;i++){
        if(a[i]>0)	x = fmin(x,floor(q[i]-b[i]*y)*1.0/a[i]);	//求出最大的且满足要求的x
    }
    if(x>=0)	ans = fmax(ans,x+y);	//更新答案
}
```
核心思想：枚举料理 B 的份数，检查其合法性，对于合法的份数，通过不等式变形求出料理 A 能做的最大份数，更新答案。

### 最优关键思路或技巧
- **枚举优化**：通过枚举其中一种料理的份数，将问题转化为计算另一种料理的最大份数，降低了复杂度。
- **特判处理**：对于除数为 0 的情况进行特判，避免运行时错误。

### 可拓展之处
同类型题可能会增加料理的种类或材料的限制条件，解题思路仍然可以是枚举部分变量，然后根据剩余条件计算其他变量的最优值。类似算法套路包括枚举与贪心结合、枚举与二分结合等。

### 推荐洛谷题目
- P1048 [NOIP2005 普及组] 采药
- P1223 排队接水
- P1007 独木桥

---
处理用时：39.43秒
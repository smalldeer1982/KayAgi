# 题目信息

# 異世界転生

## 题目描述

给你一个十进制数 $n$ 和一个 $m$ 进制数 $x$，已知 $n_{(10)}=x_{(m)}$，请你求出 $m$ 的值，数据保证有解。

## 说明/提示

$n$ 是一个十进制整数。

$9\leq n\leq 10^{18}$。

$1\leq |x| \leq60$。

$2\leq m\leq 10$，且 $m$ 是一个整数。

translated by @[zhuweiqi](https://www.luogu.com.cn/user/909294)。

## 样例 #1

### 输入

```
334 334```

### 输出

```
10```

## 样例 #2

### 输入

```
5191491411 46533757523```

### 输出

```
8```

# AI分析结果

### 题目翻译
# 异世界转生

## 题目描述
给你一个十进制数 $n$ 和一个 $m$ 进制数 $x$，已知 $n_{(10)}=x_{(m)}$，请你求出 $m$ 的值，数据保证有解。

## 说明/提示
$n$ 是一个十进制整数。

$9\leq n\leq 10^{18}$。

$1\leq |x| \leq60$。

$2\leq m\leq 10$，且 $m$ 是一个整数。

翻译者：@[zhuweiqi](https://www.luogu.com.cn/user/909294)。

## 样例 #1
### 输入
```
334 334
```
### 输出
```
10
```

## 样例 #2
### 输入
```
5191491411 46533757523
```
### 输出
```
8
```

### 综合分析与结论
这些题解的核心思路都是枚举 $m$（$2$ 到 $10$），将十进制数 $n$ 转换为 $m$ 进制数，再与给定的 $m$ 进制数 $x$ 比较，若相等则输出 $m$。

- **算法要点**：都使用了短除法进行进制转换，将 $n$ 不断除以 $m$ 取余数，逆序排列得到 $m$ 进制数。
- **解决难点**：由于 $n$ 的范围达到 $10^{18}$，需要使用 `long long` 类型避免溢出；部分题解使用字符串存储 $m$ 进制数，方便比较。

### 所选题解
- **作者：_7Mr (赞：3)，4星**
  - **关键亮点**：思路清晰，使用字符串直接比较，代码简洁。
  ```cpp
  for(m=2;m<=10;m++){//枚举
      string a;
      int nn=n;//转换成相对应的数
      while(nn){
          a=char(nn%m+'0')+a;
          nn/=m;
      }
      if(a==x){//看看是否相等
          cout<<m<<endl;
          return 0;
      }
  }
  ```
  **核心实现思想**：通过枚举 $m$，将 $n$ 转换为 $m$ 进制数存储在字符串 $a$ 中，与 $x$ 比较，相等则输出 $m$。

- **作者：liupan2010 (赞：2)，4星**
  - **关键亮点**：将进制转换封装成函数，代码结构清晰，有明确的注释。
  ```cpp
  string ten_to_n(long long x,int base){
      string ans="";
      while(x){
          ans+=dic[x%base];
          x/=base;
      }
      reverse(ans.begin(),ans.end());
      return ans;
  }
  for(int i=2;i<=10;i++){
      if(ten_to_n(x,i)==y){
          cout<<i<<endl;
          return 0;
      }
  }
  ```
  **核心实现思想**：定义 `ten_to_n` 函数将十进制数转换为 $m$ 进制数，枚举 $m$ 进行比较。

- **作者：zhuweiqi (赞：1)，4星**
  - **关键亮点**：有优化思想，从最小可能的 $m$ 开始枚举，减少不必要的计算。
  ```cpp
  int m=2;
  for(int i=1;i<=l1;i++){
      if(a[i]>='0' && a[i]<='9') m=max(m,(a[i]^48)+1);
      else m=max(m,a[i]-'A'+10);
  }
  for(;;m++){
      long long x=n,i=l1,flag=0;
      while(x){
          int now=x%m;
          if(now<10){
              if(a[i]-'0'!=now){
                  flag=1;
                  break;
              }
          }
          else {
              if(a[i]-'A'+10!=now){
                  flag=1;
                  break;
              }
          }
          x/=m;
          i--;
          if(i<1){
              if(x) flag=1;
              break;
          }
      }
      if(flag==0 && i==0){
          printf("%d",m);
          return 0;
      }
  }
  ```
  **核心实现思想**：先确定最小可能的 $m$，再从该值开始枚举，逐位比较 $n$ 转换后的 $m$ 进制数与 $x$。

### 最优关键思路或技巧
- **枚举思想**：由于 $m$ 的范围较小（$2$ 到 $10$），直接枚举可以简单有效地解决问题。
- **短除法进制转换**：将十进制数转换为 $m$ 进制数的常用方法。
- **字符串比较**：使用字符串存储 $m$ 进制数，方便直接比较。

### 可拓展之处
同类型题如不同进制数之间的转换、判断一个数在不同进制下的性质等。类似算法套路可用于处理其他与进制相关的问题，如进制加法、减法等。

### 推荐题目
- [P1143 进制转换](https://www.luogu.com.cn/problem/P1143)
- [B3619 【模板】十进制转m进制](https://www.luogu.com.cn/problem/B3619)
- [P2415 集合求和](https://www.luogu.com.cn/problem/P2415)

### 个人心得
部分题解提到注意数据范围要开 `long long`，以及输出要换行等细节，提醒我们在做题时要注意这些容易忽略的点，避免因小失大。

---
处理用时：37.07秒
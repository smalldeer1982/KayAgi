# 题目信息

# 雨上がり

## 题目描述

[problemUrl]: https://atcoder.jp/contests/wupc2nd/tasks/wupc_02

 雨が上がった．そろそろ大学に行こう． 僕の家から大学までは一本道の道路で結ばれている．道路は区間に分けることができ，ここでは，道路を一行の文字列で表すことにする．各文字が1つの区間に相当し，1文字目が家の前の区間，最後の文字が大学の前の区間を表している．  
  
 ここで，各文字の意味は次のとおりである．

```

 . : 普通の区間
 X : 水たまりのある区間
```

 僕は家の前の区間からスタートし大学へ向かう．僕は現在位置から$ 1 $つ，$ 2 $つ，もしくは$ 3 $つ先の区間(大学のある方向)へ進むことができる．もし，移動した先の区間に水たまりがある場合，僕は水たまりを踏むはめになる．買ったばかりの靴を汚したくないので，なるだけ水たまりを避けたい．また，大学の前の道路を超えて移動するようなことはできない．  
  
 家の前の道路から大学の前の道路まで適切な進み方で向かうとき，最低限踏まなければならない水たまりの数を求めてほしい．  
 入力は以下の形式で標準入力から与えられる． > $ N $ $ S $

- $ 1 $ 行目に区間の数を表す $ N $($ 3\ ≦\ N\ ≦\ 100 $) が与えられる．
- $ 2 $ 行目には，$ N $ 文字の文字列 $ S $ が与えられる．これらは道路の区間のデータである．
- $ S $ に出現する文字は '.', 'X' のいずれかであり，意味は上に記した通りである．
- $ S $ の最初と最後の文字は必ず '.' である．
 
 最低限踏まなければならない水たまりの数を標準出力に $ 1 $ 行で出力せよ．  
 なお、最後には改行を出力せよ． ```
<pre class="prettyprint linenums">
5
.XXX.
```

 ```
<pre class="prettyprint linenums">
1
```

 ```
<pre class="prettyprint linenums">
10
.X.XXXXXX.
```

 ```
<pre class="prettyprint linenums">
2
```

 ```
<pre class="prettyprint linenums">
7
.......
```

 ```
<pre class="prettyprint linenums">
0
```

# AI分析结果

### 题目翻译
雨停了，是时候去大学了。从我的家到大学由一条笔直的道路相连。这条道路可以分成若干区间，在这里，我们用一行字符串来表示这条道路。每个字符对应一个区间，第一个字符表示家前面的区间，最后一个字符表示大学前面的区间。

每个字符的含义如下：
```
. : 普通区间
X : 有积水的区间
```
我从家前面的区间出发，前往大学。我可以从当前位置向前移动 1、2 或 3 个区间（朝着大学的方向）。如果移动到的区间有积水，我就会踩到积水。我刚买的鞋子不想弄脏，所以想尽量避开积水。此外，不能越过大学前面的道路进行移动。

请计算从家前面的道路到大学前面的道路，采用合适的行进方式时，至少要踩到的积水数量。

输入以以下形式从标准输入给出：
> $ N $ $ S $
- 第一行给出表示区间数量的 $ N $（$ 3 \leq N \leq 100 $）。
- 第二行给出一个长度为 $ N $ 的字符串 $ S $，这是道路区间的数据。
- $ S $ 中出现的字符只能是 '.' 或 'X'，含义如上所述。
- $ S $ 的第一个和最后一个字符一定是 '.'。

请将至少要踩到的积水数量在标准输出中用一行输出。注意，最后要输出换行符。

### 综合分析与结论
这些题解主要围绕如何计算从家到大学最少踩到的积水数量展开，思路主要分为模拟和动态规划两类，还有使用广度优先搜索（BFS）的方法。

|作者|思路|算法要点|解决难点|评分|
|---|---|---|---|---|
|珅肐|模拟思路，统计连续 'X' 的个数，若连续 'X' 个数为 3 的倍数，累加其个数除以 3 的结果|在线处理输入，统计连续 'X' 个数，遇到非 'X' 时累加结果并清零计数器|处理连续 'X' 的情况|4星|
|ShineEternal|动态规划，用数组 `f` 记录走到每个位置最少经过的水坑数，状态转移根据当前位置是否为水坑更新|初始化 `f` 数组，从第 3 个位置开始循环更新 `f` 数组|处理边界越界问题|3星|
|_Qer|动态规划，用一维数组 `f` 记录走到每个位置最少经过的水坑数，状态转移为 `f[i]=(road[i]=='X')+min(f[i-3],min(f[i-2],f[i-1]))`|初始化前三个位置，从第 3 个位置开始动态规划|处理数组越界问题|4星|
|lzxhdxx|广度优先搜索（BFS），用 `vis` 数组记录到达每个点经过最少 'X' 的个数，从起点开始扩展状态|用队列存储状态，扩展新状态时更新 `vis` 数组|确定搜索策略和处理重复访问问题|3星|
|蒟蒻取不来名|模拟思路，统计连续 'X' 的个数，当连续 'X' 个数达到 3 时累加结果并清零计数器|遍历字符串，统计连续 'X' 个数|处理连续 'X' 的情况|3星|
|I_will|动态规划，将 'X' 化为 1，'.' 化为 0，用二维数组 `a` 记录不同跳法的最少经过水坑数|初始化数组，根据不同跳法更新 `a` 数组|处理不同跳法的状态转移|3星|
|田所浩二仙贝|动态规划，用数组 `dp` 记录走到每个位置最少经过的水坑数，状态转移根据当前位置是否为水坑更新|初始化前三个位置，从第 3 个位置开始动态规划|处理边界越界问题|3星|
|stry|模拟思路，统计连续 'X' 的个数，累加其个数除以 3 的结果|在线处理输入，统计连续 'X' 个数，遇到非 'X' 时累加结果并清零计数器|处理连续 'X' 的情况|3星|
|happybob|模拟思路，根据当前位置和后续位置的情况贪心选择移动步数|遍历字符串，根据不同情况选择移动步数|处理各种情况的判断|3星|
|αnonymous|模拟思路，每次从走三步开始往一步搜索，有没水坑的位置就走过去，全是水坑就走三步|用布尔数组记录有无水坑，循环更新位置|处理全是水坑的情况|3星|
|zzhhf|动态规划，用数组 `dp` 记录走到每个位置最少经过的水坑数，状态转移根据当前位置是否为水坑更新|从第 2 个位置开始动态规划，根据字符更新 `dp` 数组|处理数组越界问题|3星|

### 所选题解
- **珅肐（4星）**
  - 关键亮点：思路清晰，代码简洁，在线处理输入，避免了开数组的空间开销。
  - 重点代码：
```cpp
#include<iostream>
using namespace std;
char s;
int n,ans,sum;
int main()
{
    cin>>n;
    for(int i=0;i<=n;i++){
        cin>>s;
        if(s=='X')ans++;
        else sum+=ans/3,ans=0;
    }
    cout<<sum<<endl;
    return 0;
}
```
核心实现思想：在线读取字符，统计连续 'X' 的个数，遇到非 'X' 时累加连续 'X' 个数除以 3 的结果，并将计数器清零。

- **_Qer（4星）**
  - 关键亮点：动态规划思路清晰，代码简洁，处理了数组越界问题。
  - 重点代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n;
string road;
int f[110];
int main(){
    cin>>n;
    cin>>road;
    f[0]=(road[0]=='X');
    f[1]=(road[1]=='X');
    f[2]=(road[2]=='X');
    for(int i=3;i<n;++i){
        f[i]=(road[i]=='X')+min(f[i-3],min(f[i-2],f[i-1]));
    }
    cout<<f[n-1]<<endl;
    return 0;
}
```
核心实现思想：用一维数组 `f` 记录走到每个位置最少经过的水坑数，初始化前三个位置，从第 3 个位置开始根据状态转移方程 `f[i]=(road[i]=='X')+min(f[i-3],min(f[i-2],f[i-1]))` 更新数组。

### 最优关键思路或技巧
- **模拟思路**：统计连续 'X' 的个数，利用连续 'X' 个数与 3 的关系计算最少踩到的水坑数，可在线处理输入，避免开数组的空间开销。
- **动态规划思路**：用数组记录走到每个位置最少经过的水坑数，根据当前位置是否为水坑更新数组，注意处理边界越界问题。

### 拓展思路
同类型题或类似算法套路：
- 路径规划问题，如在二维地图中从起点到终点，避开障碍物，求最短路径或最少经过障碍物的路径。
- 跳跃游戏问题，给定数组表示每个位置的状态，每次可以跳跃一定步数，求到达终点的最少操作次数。

### 推荐洛谷题目
1. [P1002 过河卒](https://www.luogu.com.cn/problem/P1002)：二维路径规划问题，涉及动态规划。
2. [P1176 路径计数2](https://www.luogu.com.cn/problem/P1176)：二维路径规划问题，有障碍物，用动态规划求解。
3. [P1616 疯狂的采药](https://www.luogu.com.cn/problem/P1616)：完全背包问题，与动态规划的状态转移思想类似。

### 个人心得摘录与总结
- **ShineEternal**：提醒在该网站输出最后必须打回车，否则会出错。
- **蒟蒻取不来名**：提到 AT 换行不换行会导致 WA（答案错误）。总结来说，在特定的在线评测系统中，要注意输出格式的要求，避免因格式问题导致错误。 

---
处理用时：47.27秒
# 题目信息

# [ABC080D] Recording

## 题目描述

LBW 打算用摄像机录下 $n$ 个电视节目。

电视可以接收的频道有 $k$ 个。

对于第 $i$ 个电视节目，从时刻 $s_i$ 到时刻 $t_i$，在频道 $c_i$ 被播放；但是**包括时刻 $s_i$，除去时刻 $t_i$**。

为了录下节目，LBW 需要去买摄像机。

摄像机在录制某个频道的时刻 $S$ 到时刻 $T$ 时，从时刻 $(S - 0.5)$ 到时刻 $T$ 之间，不能用于其他频道的录像；但是，**包括时刻 $(S-0.5)$，除去时刻 $T$**。

LBW 想知道，如果将 $n$ 个节目全部录下来，最少需要几个摄像机。

## 说明/提示

$1 \le n \le 10^5$

$1 \le k \le 30$

$1 \le s_i < t_i \le 10^5$

数据保证：

 $1 \le c_i \le k$

如果 $c_i = c_j$ 且 $i \not=j$，则 $t_i \le s_j$ 或者 $s_i \ge t_j$ 中必有一个成立。

所有数据均为整数。

## 样例 #1

### 输入

```
3 2

1 7 2

7 8 1

8 12 1```

### 输出

```
2```

## 样例 #2

### 输入

```
3 4

1 3 2

3 4 4

1 4 3```

### 输出

```
3```

## 样例 #3

### 输入

```
9 4

56 60 4

33 37 2

89 90 3

32 43 1

67 68 3

49 51 3

31 32 3

70 71 1

11 12 3```

### 输出

```
2```

# AI分析结果

【题目内容】已为中文，无需翻译。

【综合分析与结论】
目前暂无题解，通用建议如下：
 - 思路上，可将每个节目按开始时间排序，然后模拟摄像机的录制过程，通过优先队列等数据结构来管理摄像机的可用状态，每次选择最早可用的摄像机来录制新节目，如果没有可用的摄像机则新增一个摄像机。
 - 实现时，要注意处理好节目时间区间的边界条件，特别是题目中提到的包含开始时刻、不包含结束时刻以及摄像机录制的时间限制。

扩展思路：
本题属于区间调度类问题，同类型题通常会给出多个任务的时间区间，要求合理安排资源（如本题的摄像机）来完成所有任务。常见的算法套路是先对区间进行排序，再通过贪心或动态规划的方法来求解。

【推荐题目】
1. [P1803 凌乱的yyy / 线段覆盖](https://www.luogu.com.cn/problem/P1803)
2. [P2082 区间覆盖](https://www.luogu.com.cn/problem/P2082)
3. [P1233 木棍加工](https://www.luogu.com.cn/problem/P1233)

---
处理用时：8.94秒
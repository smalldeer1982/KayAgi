# 题目信息

# [ABC364B] Grid Walk

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc364/tasks/abc364_b

$ H $ 行 $ W $ 列のグリッドがあります。グリッドの上から $ i $ 番目、左から $ j $ 番目のマスをマス $ (i,\ j) $ と表記します。

マス $ (i,\ j) $ は $ C_{i,\ j} $ が `.` のとき空きマスであり、`#` のとき空きマスではありません。

高橋君は現在マス $ (S_i,\ S_j) $ におり、$ i\ =\ 1,\ 2,\ \ldots,\ |X| $ の順に以下のルールに従って行動します。

- $ X $ の $ i $ 文字目が `L` のとき、高橋君が現在いるマスの $ 1 $ つ左のマスが存在し、そのマスが空きマスならば $ 1 $ つ左のマスに移動する。そうでないならば、現在いるマスに留まる。
- $ X $ の $ i $ 文字目が `R` のとき、高橋君が現在いるマスの $ 1 $ つ右のマスが存在し、そのマスが空きマスならば $ 1 $ つ右のマスに移動する。そうでないならば、現在いるマスに留まる。
- $ X $ の $ i $ 文字目が `U` のとき、高橋君が現在いるマスの $ 1 $ つ上のマスが存在し、そのマスが空きマスならば $ 1 $ つ上のマスに移動する。そうでないならば、現在いるマスに留まる。
- $ X $ の $ i $ 文字目が `D` のとき、高橋君が現在いるマスの $ 1 $ つ下のマスが存在し、そのマスが空きマスならば $ 1 $ つ下のマスに移動する。そうでないならば、現在いるマスに留まる。
 
一連の行動を終えた後高橋君がどのマスにいるか出力してください。

## 说明/提示

### 制約

- $ 1\ \leq\ H,\ W\ \leq\ 50 $
- $ 1\ \leq\ S_i\ \leq\ H $
- $ 1\ \leq\ S_j\ \leq\ W $
- $ H,\ W,\ S_i,\ S_j $ は整数
- $ C_{i,\ j} $ は `.` または `#`
- $ C_{S_i,\ S_j}\ = $ `.`
- $ X $ は `L`, `R`, `U`, `D` からなる長さ $ 1 $ 以上 $ 50 $ 以下の文字列
 
### Sample Explanation 1

高橋君ははじめマス $ (2,\ 1) $ にいます。高橋君の一連の行動は以下のようになります。 - $ X $ の $ 1 $ 文字目は `U` であり、マス $ (2,\ 1) $ の $ 1 $ つ上のマスは存在し、そのマスは空きマスであるため $ 1 $ つ上のマスであるマス $ (1,\ 1) $ に移動する。 - $ X $ の $ 2 $ 文字目は `L` であり、マス $ (1,\ 1) $ の $ 1 $ つ左のマスは存在しないためマス $ (1,\ 1) $ に留まる。 - $ X $ の $ 3 $ 文字目は `D` であり、マス $ (1,\ 1) $ の $ 1 $ つ下のマスは存在し、そのマスは空きマスであるため $ 1 $ つ下のマスであるマス $ (2,\ 1) $ に移動する。 - $ X $ の $ 4 $ 文字目は `R` であり、マス $ (2,\ 1) $ の $ 1 $ つ右のマスは存在し、そのマスは空きマスであるため $ 1 $ つ右のマスであるマス $ (2,\ 2) $ に移動する。 - $ X $ の $ 5 $ 文字目は `U` であり、マス $ (2,\ 2) $ の $ 1 $ つ上のマスは存在するが、そのマスは空きマスではないためマス $ (2,\ 2) $ に留まる。 したがって一連の行動を終えた後に高橋君がいるマスはマス $ (2,\ 2) $ です。

## 样例 #1

### 输入

```
2 3

2 1

.#.

...

ULDRU```

### 输出

```
2 2```

## 样例 #2

### 输入

```
4 4

4 2

....

.#..

...#

....

DUUUURULRD```

### 输出

```
2 4```

## 样例 #3

### 输入

```
6 6

1 1

.#####

######

######

######

######

######

RURLDLULLRULRDL```

### 输出

```
1 1```

# AI分析结果

### 题目内容中文重写
# [ABC364B] 网格行走

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc364/tasks/abc364_b

有一个 $H$ 行 $W$ 列的网格。将网格从上往下数第 $i$ 行、从左往右数第 $j$ 列的格子记为格子 $(i, j)$。

当 $C_{i, j}$ 为 `.` 时，格子 $(i, j)$ 是空置格子；当 $C_{i, j}$ 为 `#` 时，格子 $(i, j)$ 不是空置格子。

高桥君现在位于格子 $(S_i, S_j)$，并按照 $i = 1, 2, \ldots, |X|$ 的顺序，依照以下规则行动：
- 当 $X$ 的第 $i$ 个字符为 `L` 时，如果高桥君当前所在格子的左边一格存在且该格子是空置格子，那么他就向左移动一格；否则，他停留在当前格子。
- 当 $X$ 的第 $i$ 个字符为 `R` 时，如果高桥君当前所在格子的右边一格存在且该格子是空置格子，那么他就向右移动一格；否则，他停留在当前格子。
- 当 $X$ 的第 $i$ 个字符为 `U` 时，如果高桥君当前所在格子的上边一格存在且该格子是空置格子，那么他就向上移动一格；否则，他停留在当前格子。
- 当 $X$ 的第 $i$ 个字符为 `D` 时，如果高桥君当前所在格子的下边一格存在且该格子是空置格子，那么他就向下移动一格；否则，他停留在当前格子。

请输出这一系列行动结束后高桥君所在的格子。

## 说明/提示

### 限制条件
- $1 \leq H, W \leq 50$
- $1 \leq S_i \leq H$
- $1 \leq S_j \leq W$
- $H$、$W$、$S_i$、$S_j$ 均为整数
- $C_{i, j}$ 为 `.` 或 `#`
- $C_{S_i, S_j} =$ `.`
- $X$ 是由 `L`、`R`、`U`、`D` 组成的长度在 $1$ 到 $50$ 之间（包含 $1$ 和 $50$）的字符串

### 样例解释 1
高桥君最初位于格子 $(2, 1)$。他的一系列行动如下：
- $X$ 的第 $1$ 个字符是 `U`，格子 $(2, 1)$ 的上边一格存在且为空置格子，因此他向上移动一格，到达格子 $(1, 1)$。
- $X$ 的第 $2$ 个字符是 `L`，格子 $(1, 1)$ 的左边一格不存在，因此他停留在格子 $(1, 1)$。
- $X$ 的第 $3$ 个字符是 `D`，格子 $(1, 1)$ 的下边一格存在且为空置格子，因此他向下移动一格，到达格子 $(2, 1)$。
- $X$ 的第 $4$ 个字符是 `R`，格子 $(2, 1)$ 的右边一格存在且为空置格子，因此他向右移动一格，到达格子 $(2, 2)$。
- $X$ 的第 $5$ 个字符是 `U`，格子 $(2, 2)$ 的上边一格存在，但不是空置格子，因此他停留在格子 $(2, 2)$。

因此，这一系列行动结束后高桥君所在的格子是 $(2, 2)$。

## 样例 #1
### 输入
```
2 3
2 1
.#.
...
ULDRU
```
### 输出
```
2 2
```

## 样例 #2
### 输入
```
4 4
4 2
....
.#..
...#
....
DUUUURULRD
```
### 输出
```
2 4
```

## 样例 #3
### 输入
```
6 6
1 1
.#####
######
######
######
######
######
RURLDLULLRULRDL
```
### 输出
```
1 1
```

### 综合分析与结论
由于暂无题解，以下给出通用的解题思路：
- **思路**：模拟高桥君在网格中的移动过程。根据输入的移动指令字符串 $X$ 中的每个字符，判断当前位置是否可以按照指令移动，如果可以则更新位置，否则保持当前位置不变。
- **算法要点**：
    - 读取网格信息、初始位置和移动指令。
    - 遍历移动指令字符串，根据字符判断移动方向。
    - 检查目标位置是否存在且为空置格子，若满足条件则更新位置。
- **解决难点**：
    - 边界条件判断：需要确保目标位置在网格范围内。
    - 格子状态判断：需要判断目标位置是否为空置格子。

### 通用建议与扩展思路
- 对于此类模拟问题，关键在于清晰地实现每个步骤的逻辑，特别是边界条件和状态判断。可以使用数组来存储网格信息，方便进行位置查询。
- 同类型题或类似算法套路：
    - 迷宫问题：在迷宫中按照特定规则移动，判断是否能到达目标位置。
    - 棋盘游戏模拟：如棋子在棋盘上的移动，需要考虑规则和边界。
    - 机器人路径规划：机器人在地图上按照指令移动，可能还需要考虑障碍物等因素。

### 推荐洛谷题目
1. [P1036 选数](https://www.luogu.com.cn/problem/P1036)：涉及模拟和组合数学，需要模拟选数过程并判断是否为质数。
2. [P1042 乒乓球](https://www.luogu.com.cn/problem/P1042)：模拟乒乓球比赛过程，根据比分规则输出结果。
3. [P1067 多项式输出](https://www.luogu.com.cn/problem/P1067)：模拟多项式的输出过程，需要考虑各种系数和指数的情况。

---
处理用时：35.78秒
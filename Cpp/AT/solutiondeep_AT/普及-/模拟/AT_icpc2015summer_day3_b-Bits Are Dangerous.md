# 题目信息

# Bits Are Dangerous

## 题目描述

[problemUrl]: https://atcoder.jp/contests/jag2015summer-day3/tasks/icpc2015summer_day3_b

# AI分析结果

### 题目翻译
# 位运算很危险

## 题目描述

[题目链接]: https://atcoder.jp/contests/jag2015summer-day3/tasks/icpc2015summer_day3_b

### 综合分析与结论
- **思路对比**：三位作者思路基本一致，都明确操作一异或 1 改变最后一位，操作二是循环左右移，要将字符串变成全 0 串，需先统计 1 的个数，再枚举循环左右移找到最小移动距离，最后计算总代价（1 的个数乘 4 加上移动距离乘 7）。
- **算法要点**：都通过统计 1 的个数确定枚举范围，将序列复制一次实现循环枚举，通过左右指针分别处理循环左移和右移情况，取最小移动距离。
- **解决难点**：解决了循环移动的枚举问题，通过复制序列避免复杂的边界判断；考虑到左右移动结合（“回头”）的情况，保证找到最小代价。

### 题解评分
- **xQWQx**：4星。思路清晰，代码简洁易懂，详细注释了关键步骤。
- **_xdd_**：3星。思路阐述清晰，但没有给出代码，缺乏具体实现。
- **HsNu1ly7_**：3星。思路和代码都有，但代码中使用了自定义的读写函数，增加了代码复杂度，且注释较少。

### 所选题解
- **xQWQx（4星）**
  - **关键亮点**：思路清晰，代码简洁，注释详细，易于理解。

### 重点代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int cnt=0,sum=10000005;
int n;
int main(){
    string s;
    cin>>s;//输入
    n=s.size();
    for(int i=0;i<s.size();i++){
        if(s[i]=='1') cnt++;//看一看一共有多少个1
    }
    int i=1,j=n;
    string g=s+s;
    //为了方便枚举，可以将序列复制一次，这样就做到了"循环"
    for(int t=0;t<=cnt;t++){
        //因为最大的左移或右移次数取决于两个1之间的最大长度所以枚举cnt次
        while(g[i]=='0') i++;//左移
        while(t!=0&&g[j]=='0') j++;//右移
        int a=max(0,n-i);//保存
        int b=j-n;
        sum=min(sum,min(a,b)+a+b);//取最小
        i++,j++;
    }
    cout<<cnt*4+sum*7;
    //输出，因为有cnt个1，所以乘4，距离为sum，所以乘7
    return 0;
}
```
**核心实现思想**：先统计字符串中 1 的个数 `cnt`，将字符串复制一次得到 `g` 方便循环枚举。通过左右指针 `i` 和 `j` 分别处理循环左移和右移，找到最小移动距离 `sum`，最后计算总代价 `cnt * 4 + sum * 7` 并输出。

### 最优关键思路或技巧
- 将序列复制一次实现循环枚举，避免了复杂的边界判断和循环处理。
- 同时考虑循环左移和右移，通过左右指针分别处理，取最小移动距离。

### 可拓展之处
同类型题目可能会改变操作的代价或操作方式，如改变异或的位置、增加更多的操作类型等，但核心思路还是统计关键元素（如本题的 1），并通过枚举不同操作找到最小代价。类似算法套路可以用于处理一些需要通过特定操作将序列转换为目标序列的问题，关键在于分析操作的特点，合理枚举操作组合。

### 推荐洛谷题目
- [P1002 过河卒](https://www.luogu.com.cn/problem/P1002)：涉及路径规划和状态转移，需要分析不同操作（移动方向）的代价和可行性。
- [P1048 采药](https://www.luogu.com.cn/problem/P1048)：经典的背包问题，需要在不同的选择（采药）中找到最大价值，与本题在枚举选择上有相似之处。
- [P1216 数字三角形](https://www.luogu.com.cn/problem/P1216)：通过不同的路径选择找到最大和，需要分析不同路径的代价，与本题的思路有一定的相似性。

### 个人心得
题解中未包含个人心得。

---
处理用时：30.21秒
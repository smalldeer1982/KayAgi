# 题目信息

# 鏡文

## 题目描述

给出由b、d、p、q四种字符组成的字符串$S$。请判断$S$是不是“镜像字符串”。

这里的“镜像字符串”是指对字符串S进行以下操作后，可得到与原字符串相同的字符串。
1. 反转S。（例："bdpq"=>"qpdb"）
2. 改b为d，改d为b，改p为q，改q为p（不要搞错对应关系）

## 说明/提示

## 条件：
- $1≤|S|≤10^5$（$|S|$表示$S$的长度）
- $S$由且仅由b、d、p、q四种字符构成

感谢@std_cpp 提供的翻译

## 样例 #1

### 输入

```
pdbq```

### 输出

```
Yes```

## 样例 #2

### 输入

```
ppqb```

### 输出

```
No```

# AI分析结果

### 题目翻译
本题已为中文，无需翻译。

### 综合分析与结论
这些题解主要围绕判断由b、d、p、q四种字符组成的字符串是否为“镜像字符串”展开，即对字符串进行反转和字符替换操作后，判断是否与原字符串相同。

#### 思路对比
- **直接模拟**：多数题解采用直接模拟的方法，先反转字符串，再进行字符替换，最后与原字符串比较。如k2saki、xxckie、WKAHPM等题解。
- **映射关系**：PBCWZCC通过给字符赋予对应的值，利用转环的方式处理字符替换，简化判断过程。
- **哈希方法**：南苑沁青使用哈希函数，对原字符串和更改后的字符串分别计算哈希值，通过比较哈希值判断是否相等。
- **双指针**：Bob_Wang使用双指针，一个指向首字母，一个指向尾字母，将尾字母进行操作后与首字母对比。

#### 算法要点
- **反转操作**：可使用`reverse`函数或手动实现反转。
- **字符替换**：通过`if-else`语句、`switch`语句或映射表实现。
- **比较判断**：直接比较字符串或比较哈希值。

#### 解决难点
- **字符对应关系**：确保b与d、p与q的对应关系正确。
- **反转操作**：正确实现字符串的反转。
- **效率问题**：部分题解考虑了效率优化，如使用哈希函数减少比较次数。

#### 评分
- **k2saki**：4星。思路清晰，代码简洁，使用`reverse`函数直接模拟，易于理解。
- **PBCWZCC**：4星。通过映射关系简化判断，代码简洁高效。
- **南苑沁青**：3星。使用哈希方法，思路独特，但代码相对复杂。

### 所选题解
- **k2saki（4星）**
    - **关键亮点**：思路清晰，代码简洁，使用`reverse`函数直接模拟，易于理解。
    - **核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
    string a;
    cin>>a;
    string b=a;
    reverse(a.begin(),a.end());//交换
    for(int i=0;i<a.size();++i)
    {
        if(a[i]=='b') a[i]='d';//镜面对称
        else if(a[i]=='d') a[i]='b';//请注意,else一定要加,不然就白做了
        else if(a[i]=='p') a[i]='q';
        else if(a[i]=='q') a[i]='p';
    }
    if(a==b) cout<<"Yes";//判断
    else cout<<"No";
}
```
- **PBCWZCC（4星）**
    - **关键亮点**：通过映射关系简化判断，代码简洁高效。
    - **核心代码**：
```cpp
#include<algorithm>
#include<cstring>
#include<cstdio>
#include<cmath>
char s[100007];
int get[128];
int main()
{
    get['b'] = 0 , get['p'] = 1 , get['d'] = 2 , get['q'] = 3;
    scanf("%s",s+1); // 从 s[1] 开始的
    for(int l = strlen(s+1), i = 1; i <= (l>>1) + 1; ++i)
    {
        if(get[s[i]]^((get[s[l-i+1]]+2)%4)) return printf("No\n"),0;
    } // 这个 +2 %4 刚好让 b 转到 d 上， d 转到 b 上， p 转到 q 上， q 转到 p 上 
    return printf("Yes\n"),0;
}
```

### 最优关键思路或技巧
- **使用`reverse`函数**：可快速实现字符串的反转，简化代码。
- **映射关系**：通过给字符赋予对应的值，利用转环的方式处理字符替换，可简化判断过程。

### 拓展思路
同类型题可涉及更多字符的对应关系或更复杂的操作，类似算法套路可应用于字符串的处理和比较，如判断回文串、字符串匹配等。

### 推荐题目
- [P1012 拼数](https://www.luogu.com.cn/problem/P1012)：字符串比较和排序。
- [P1217 [USACO1.5]回文质数 Prime Palindromes](https://www.luogu.com.cn/problem/P1217)：判断回文数和质数。
- [P1308 统计单词数](https://www.luogu.com.cn/problem/P1308)：字符串匹配和统计。

### 个人心得摘录
- **Spiritsu**：调试时没加`break`，学校的IDE调试还炸了，提醒要注意代码细节。
- **七夜**：提醒有多个字符或字符串时别用`scanf`，用`cin`，但没说明具体原因。

---
处理用时：33.70秒
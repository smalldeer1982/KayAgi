# 题目信息

# [ABC284D] Happy New Year 2023

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc284/tasks/abc284_d

正整数 $ N $ が与えられます。$ N $ は、$ 2 $ つの相異なる素数 $ p,q $ を用いて $ N=p^2q $ と表せることがわかっています。

$ p,q $ を求めてください。

$ T $ 個のテストケースが与えられるので、それぞれについて答えを求めてください。

## 说明/提示

### 制約

- 入力は全て整数
- $ 1\leq\ T\leq\ 10 $
- $ 1\leq\ N\ \leq\ 9\times\ 10^{18} $
- $ N $ は、$ 2 $ つの相異なる素数 $ p,q $ を用いて $ N=p^2q $ と表せる
 
### Sample Explanation 1

$ 1 $ 番目のテストケースについて、$ N=2023=17^2\times\ 7 $ です。よって、$ p=17,q=7 $ です。

## 样例 #1

### 输入

```
3

2023

63

1059872604593911```

### 输出

```
17 7

3 7

104149 97711```

# AI分析结果

### 题目内容重写
#### [ABC284D] Happy New Year 2023

**题目描述**

给定一个正整数 $N$，已知 $N$ 可以表示为 $N = p^2 q$，其中 $p$ 和 $q$ 是两个不同的素数。请找出 $p$ 和 $q$。

**输入格式**

输入包含 $T$ 个测试用例。每个测试用例包含一个整数 $N$。

**输出格式**

对于每个测试用例，输出 $p$ 和 $q$。

**说明/提示**

- 输入均为整数。
- $1 \leq T \leq 10$
- $1 \leq N \leq 9 \times 10^{18}$
- $N$ 可以表示为 $N = p^2 q$，其中 $p$ 和 $q$ 是两个不同的素数。

**样例输入**

```
3
2023
63
1059872604593911
```

**样例输出**

```
17 7
3 7
104149 97711
```

### 题解分析与结论

#### 题解对比与总结
1. **思路共性**：大多数题解都利用了 $p$ 和 $q$ 中至少有一个小于等于 $\sqrt[3]{N}$ 的性质，通过枚举或筛法找到其中一个素数，再通过计算得到另一个素数。
2. **算法优化**：部分题解通过线性筛法预处理素数，减少枚举次数，提高效率。
3. **难点**：主要难点在于处理大数 $N$ 的质因数分解，以及如何高效地找到 $p$ 和 $q$。

#### 最优关键思路
- **枚举法**：由于 $p$ 和 $q$ 中至少有一个小于等于 $\sqrt[3]{N}$，可以直接枚举 $2$ 到 $\sqrt[3]{N}$ 的数，判断是否为 $N$ 的因数，再根据 $N$ 的形式确定 $p$ 和 $q$。
- **筛法优化**：通过线性筛法预处理素数，减少枚举次数，提高效率。

#### 可拓展之处
- **质因数分解**：类似的问题可以通过质因数分解来解决，如求一个数的所有质因数。
- **大数处理**：对于大数的质因数分解，可以使用 Pollard-Rho 算法等更高效的算法。

#### 推荐题目
1. [P1075 质因数分解](https://www.luogu.com.cn/problem/P1075)
2. [P3383 【模板】线性筛素数](https://www.luogu.com.cn/problem/P3383)
3. [P1069 细胞分裂](https://www.luogu.com.cn/problem/P1069)

### 精选题解

#### 题解1：作者：Pengzt
**星级**：★★★★★
**关键亮点**：通过枚举 $\min(p, q)$ 并利用 $p$ 和 $q$ 的性质，直接找到答案。代码简洁，思路清晰。
**代码核心**：
```cpp
for (ll i = 2;; i++) if (n % i == 0) {
    ll j = sqrt(n / i);
    if (j * j == n / i) printf("%lld %lld\n", j, i);
    else printf("%lld %lld\n", i, n / i / i);
    return;
}
```
**个人心得**：直接枚举最小质因数，利用 $N = p^2 q$ 的性质，快速找到 $p$ 和 $q$。

#### 题解2：作者：MoyunAllgorithm
**星级**：★★★★☆
**关键亮点**：通过线性筛法预处理素数，减少枚举次数，提高效率。代码结构清晰，优化明显。
**代码核心**：
```cpp
void EulerSieve() {
    for (int i = 2; i <= MAXN - 5; i++) isprime[i] = 1;
    for (int i = 2; i <= MAXN - 5; i++) {
        if (isprime[i]) prime[++tot] = i;
        for (int j = 1; j <= tot && i * prime[j] <= MAXN - 5; j++) {
            isprime[i * prime[j]] = 0;
            if (i % prime[j] == 0) break;
        }
    }
}
```
**个人心得**：通过线性筛法预处理素数，减少枚举次数，提高效率。

#### 题解3：作者：CarroT1212
**星级**：★★★★☆
**关键亮点**：直接枚举最小质因数，利用 $N = p^2 q$ 的性质，快速找到 $p$ 和 $q$。代码简洁，思路清晰。
**代码核心**：
```cpp
for (ll i = 2;; i++) if (n % i == 0) {
    ll j = sqrt(n / i);
    if (j * j == n / i) printf("%lld %lld\n", j, i);
    else printf("%lld %lld\n", i, n / i / i);
    return;
}
```
**个人心得**：直接枚举最小质因数，利用 $N = p^2 q$ 的性质，快速找到 $p$ 和 $q$。

---
处理用时：39.04秒
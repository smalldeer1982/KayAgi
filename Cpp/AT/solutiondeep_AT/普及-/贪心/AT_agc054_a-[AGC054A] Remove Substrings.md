# 题目信息

# [AGC054A] Remove Substrings

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc054/tasks/agc054_a

英小文字からなる長さ $ N $ の文字列 $ S $ が与えられます．

あなたは，$ S $ に対して以下の操作を好きな回数行えます．

- 先頭の文字と最後の文字が異なる連続した（非空な）部分列を選び，これを削除する．

$ S $ を空文字列にすることが可能か判定し，可能な場合は必要な最小の操作回数を求めてください．

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 10^5 $
- $ S $ は英小文字からなる長さ $ N $ の文字列

### Sample Explanation 1

`abba` →（`ab`を選んで削除）→ `ba` →（`ba`を選んで削除）→ 空文字列 と操作すればよいです．

## 样例 #1

### 输入

```
4

abba```

### 输出

```
2```

## 样例 #2

### 输入

```
3

aba```

### 输出

```
-1```

# AI分析结果

### 题目内容中文重写

#### 题目描述

给定一个由小写英文字母组成的长度为 $ N $ 的字符串 $ S $。

你可以对 $ S $ 进行以下操作任意次数：

- 选择一个首尾字符不同的连续（非空）子串，并将其删除。

判断是否可以将 $ S $ 变为空字符串，如果可能，求所需的最小操作次数。

#### 说明/提示

##### 约束条件

- $ 2\ \leq\ N\ \leq\ 10^5 $
- $ S $ 是由小写英文字母组成的长度为 $ N $ 的字符串

##### 样例解释 1

`abba` →（选择 `ab` 并删除）→ `ba` →（选择 `ba` 并删除）→ 空字符串。

##### 样例 #1

###### 输入

```
4

abba```

###### 输出

```
2```

##### 样例 #2

###### 输入

```
3

aba```

###### 输出

```
-1```

### 题解分析与结论

由于暂无题解，以下是对该题目的通用分析与建议。

#### 关键思路与技巧

1. **贪心算法**：每次选择首尾字符不同的子串进行删除，尽可能减少操作次数。
2. **双指针技巧**：使用双指针从字符串的两端向中间遍历，寻找符合条件的子串。
3. **边界条件处理**：特别处理字符串首尾字符相同的情况，判断是否无法删除。

#### 通用建议

- **模拟过程**：通过模拟删除过程，逐步减少字符串长度，直到为空或无法继续删除。
- **时间复杂度优化**：由于 $ N $ 可以达到 $ 10^5 $，需要确保算法的时间复杂度为 $ O(N) $ 或更低。

#### 扩展思路

- **类似问题**：可以考虑类似的字符串删除问题，如删除特定模式的子串或删除重复字符。
- **动态规划**：在某些情况下，动态规划可以用来优化删除操作的选择。

### 推荐题目

1. **洛谷 P1045**：字符串删除特定子串的问题。
2. **洛谷 P1046**：字符串删除重复字符的问题。
3. **洛谷 P1047**：字符串删除特定模式的子串问题。

### 总结

本题的关键在于如何高效地选择删除子串，并确保操作次数最小。通过贪心算法和双指针技巧，可以在线性时间内解决问题。同时，需要注意处理边界条件，确保算法的正确性。

---
处理用时：21.87秒
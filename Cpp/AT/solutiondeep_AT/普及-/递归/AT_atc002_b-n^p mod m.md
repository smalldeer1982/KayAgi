# 题目信息

# n^p mod m

## 题目描述

求 $n^p$ $mod$ $m$ 的值

## 说明/提示

对于100%的数据 $1≤n,m≤10^9$ $1≤p≤10^{14}$

翻译提供者：Ryan_wxn_

## 样例 #1

### 输入

```
12 15 7```

### 输出

```
3```

## 样例 #2

### 输入

```
123456789 234567894 6574837563712```

### 输出

```
120678297```

# AI分析结果

### 题解综合分析与结论
这些题解主要围绕求 $n^p \bmod m$ 的值展开，核心思路多为快速幂算法，部分题解还涉及欧拉定理。

#### 思路对比
- **快速幂算法**：大部分题解采用此方法，将指数 $p$ 进行二进制分解，通过不断平方底数 $n$ 并根据 $p$ 的二进制位决定是否乘入结果，时间复杂度为 $O(\log p)$。
- **欧拉定理**：ueettttuj 的题解利用欧拉定理的扩展，先计算 $\varphi(m)$，再根据 $p$ 与 $\varphi(m)$ 的大小关系计算结果，可在指数很大时缩小指数范围。

#### 算法要点
- **快速幂循环实现**：通过循环不断右移指数 $p$，同时平方底数 $n$，根据 $p$ 的最低位是否为 1 决定是否将当前 $n$ 乘入结果。
- **快速幂递归实现**：根据指数 $p$ 的奇偶性进行递归计算，若 $p$ 为偶数则计算 $(x^2)^{\frac{p}{2}}$，若 $p$ 为奇数则计算 $x \times x^{p - 1}$。
- **欧拉定理应用**：先计算 $\varphi(m)$，再根据 $p$ 与 $\varphi(m)$ 的大小关系选择 $n^p \bmod m$ 或 $n^{p \bmod \varphi(m) + \varphi(m)} \bmod m$ 进行计算。

#### 解决难点
- **数据范围大**：使用 `long long` 类型避免数据溢出，在每次乘法后取模防止结果过大。
- **指数大**：快速幂算法将指数分解为二进制，减少乘法次数；欧拉定理可将指数缩小到可计算范围。

#### 评分
- **ShineEternal**：4星。思路清晰，有详细的例子和文字解说，代码简洁。
- **weak_ddb**：4星。推导过程详细，代码规范。
- **ueettttuj**：3星。提供了欧拉定理的解法，有一定的拓展性，但前置知识要求较高。

### 所选题解
- **ShineEternal（4星）**
  - **关键亮点**：思路清晰，通过具体例子详细讲解了快速幂的原理，代码简洁易懂。
  - **个人心得**：无。
  - **核心代码**：
```cpp
#include<cstdio>
using namespace std;
long long m,n,p;
int main()
{
    scanf("%lld%lld%lld",&n,&m,&p);
    int ans=1;
    for(;p;p>>=1,n=n*n%m)
    {
        if(p&1)
            ans=ans*n%m;
    } 
    printf("%d\n",ans);
    return 0;
}
```
核心实现思想：通过循环不断右移指数 $p$，同时平方底数 $n$，根据 $p$ 的最低位是否为 1 决定是否将当前 $n$ 乘入结果。

- **weak_ddb（4星）**
  - **关键亮点**：推导过程详细，代码规范，使用了 `long long` 类型避免数据溢出。
  - **个人心得**：无。
  - **核心代码**：
```cpp
#include<bits/stdc++.h>
#define ll long long
using namespace std;
ll n,p,m;
int main()
{
    cin>>n>>m>>p;
    ll ans=1;
    while(p>0)
    {
        if(p&1)ans=ans*n%m;
        p=p/2;
        n=n*n%m;
    }
    cout<<ans;
    return 0;
}
```
核心实现思想：与 ShineEternal 的思路相同，通过循环实现快速幂。

### 最优关键思路或技巧
- **快速幂算法**：将指数进行二进制分解，通过不断平方底数并根据指数的二进制位决定是否乘入结果，可将时间复杂度从 $O(p)$ 降低到 $O(\log p)$。
- **取模运算**：在每次乘法后取模，避免数据溢出。

### 可拓展之处
- **矩阵快速幂**：将整数快速幂推广到矩阵，可用于求解矩阵的幂运算，如斐波那契数列的快速计算。
- **欧拉定理的应用**：在指数很大时，可利用欧拉定理将指数缩小到可计算范围。

### 推荐题目
1. [P1226 【模板】快速幂||取余运算](https://www.luogu.org/problem/P1226)
2. [P5091 【模板】扩展欧拉定理](https://www.luogu.org/problem/P5091)
3. [P3390 【模板】矩阵快速幂](https://www.luogu.org/problem/P3390)

### 个人心得摘录与总结
- **蕙兰居士**：最初使用的方法超时，后来反思发现要用递归，认识到 $a^{bc}=a^b \cdot a^c$ 的性质。
- **Jelly_Goat**：提醒注意数据的顺序和输出格式，数据输出要加换行，否则会全 WA。

---
处理用时：29.18秒
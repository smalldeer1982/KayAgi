# 题目信息

# [ABC024C] 民族大移動

## 题目描述

### 题意简述
高桥君的王国有 $N$ 个城市，每个城市用编号 $1$ ~ $N$ 表示。

高桥国有 $K$ 个民族居住，第 $i$ 个民族生活在编号为 $S_i$ 的城市。

高桥国有百年一度的所有民族共同习俗**民族大迁徙**，但由于交通拥堵，所以设置了**第 $i$ 天只能在编号在 $L_i$ 到 $R_i$ 的城市来来去去**的限制，并最多花费 $D$ 天进行。

每个民族都遵守这一行动限制，在经过几个城市的同时前往目的地城市。

第 $i$ 个民族的目的地是 $T_i$ ，每个民族都希望尽可能早的到达目的地。

求每个民族最早到达目的地的时间。

## 样例 #1

### 输入

```
10 10 3

1 5

3 6

7 10

5 8

4 4

1 4

2 9

1 3

1 1

4 5

1 6

2 7

10 1```

### 输出

```
2

4

8```

## 样例 #2

### 输入

```
10 10 4

1 2

2 4

3 6

4 8

5 10

9 10

7 8

5 6

3 5

1 3

10 1

3 8

2 4

1 3```

### 输出

```
10

4

2

2```

## 样例 #3

### 输入

```
314159265 10 1

1 10000

500 12031

1414 113232

111111 777777

666661 23423423

12345678 123456789

111111111 314159265

112334 235235235

1 223445

314 1592

1 314159265```

### 输出

```
7```

# AI分析结果



# [ABC024C] 民族大移動

## 题目描述

### 题意简述
高桥君的王国有 $N$ 个城市，编号为 $1$ 到 $N$。共有 $K$ 个民族，第 $i$ 个民族初始位于 $S_i$ 号城市。所有民族需要在最多 $D$ 天内完成大迁徙，每天有移动限制：第 $i$ 天只能在 $L_i$ 到 $R_i$ 号城市之间移动。每个民族希望尽快到达目标城市 $T_i$，求每个民族的最早到达时间。

---

**算法分类**: 贪心

---

**综合分析与结论**  
本题要求每个民族在满足每日移动限制的前提下，通过贪心策略尽快到达目标。核心思路是每天尽可能移动到离目标最近的位置，无需考虑当前位置是否在当天区间内。关键优化在于：若某天区间包含目标，则直接到达；否则移动到该天区间的最远端点。

**最优题解思路**  
1. **贪心策略**：对于每个民族，按天遍历，在每天移动时选择离目标最近的端点或直接到达目标。
2. **复杂度优化**：利用贪心性质，每次移动尽可能接近目标，复杂度为 $O(D)$ 每查询，适用于数据规模较小的场景。

---

**关键代码实现**  
```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    int N, D, K;
    cin >> N >> D >> K;
    vector<pair<int, int>> days(D + 1);
    for (int i = 1; i <= D; ++i) {
        cin >> days[i].first >> days[i].second;
    }
    while (K--) {
        int S, T;
        cin >> S >> T;
        if (S == T) {
            cout << 0 << endl;
            continue;
        }
        int current = S;
        int ans = -1;
        for (int d = 1; d <= D; ++d) {
            int L = days[d].first;
            int R = days[d].second;
            if (current == T) {
                ans = d - 1;
                break;
            }
            if (T > current) {
                if (R >= current) {
                    current = min(R, T);
                }
            } else {
                if (L <= current) {
                    current = max(L, T);
                }
            }
            if (current == T) {
                ans = d;
                break;
            }
        }
        cout << ans << endl;
    }
    return 0;
}
```

**代码要点**  
- **贪心移动**：每天根据当前目标方向，选择区间端点或直接抵达目标。
- **终止条件**：一旦到达目标立即记录天数，保证最优性。

---

**拓展与相似题目**  
1. [P1518 青蛙过河](https://www.luogu.com.cn/problem/P1518) - 贪心跳跃策略。
2. [P1095 守望者的逃离](https://www.luogu.com.cn/problem/P1095) - 时间与移动的贪心抉择。
3. [P1809 过河问题](https://www.luogu.com.cn/problem/P1809) - 区间移动的最优决策。

---
处理用时：379.82秒
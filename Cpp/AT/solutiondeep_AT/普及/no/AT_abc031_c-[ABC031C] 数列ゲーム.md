# 题目信息

# [ABC031C] 数列ゲーム

## 题目描述

高桥和青木用长度为N的数列S玩游戏。



游戏中，高桥和青木各进行一回合。



游戏按照以下规则进行：



	首先，高桥在数列中圈一个数字。

	然后，青木在高桥没圈的数字中圈一个。

	接着，留下圈中的数字以及它们之间的数字，去掉其它数字。留下的数列叫T。

	最后，在数列T中，从左开始奇数个数字的和为高桥的得分，偶数个数字为青木的得分。



青木在能圈的数字中，圈出能使他得到最多分数的数字。如果这样的数有多个，圈出最左的数字。



高桥知道青木的圈数方法。请求出高桥能得到的最大得分。

## 样例 #1

### 输入

```
6

1 -3 3 9 1 6```

### 输出

```
6```

## 样例 #2

### 输入

```
3

5 5 5```

### 输出

```
10```

## 样例 #3

### 输入

```
8

-1 10 -1 2 -1 10 -1 0```

### 输出

```
-1```

# AI分析结果



# [ABC031C] 数列ゲーム

## 题目描述
高桥和青木用长度为N的数列S进行游戏。规则如下：

1. 高桥先圈选一个数字。
2. 青木在剩余数字中圈选一个。
3. 保留两个圈选数字及其之间的所有数字，形成新数列T。
4. 高桥得分为T中奇数位元素之和，青木得分为偶数位元素之和。
5. 青木总会选择使自己得分最大的位置（若多个选择则取最左）。
6. 求高桥能获得的最大得分。

## 算法分类
枚举、前缀和

---

## 题解分析
### 关键思路
1. **预处理前缀和**：构建两个前缀和数组，分别记录奇数位和偶数位的累计值。
2. **枚举策略**：遍历高桥所有可能的圈选位置i，对每个i分别计算青木在左右两侧的最优选择。
3. **奇偶性处理**：根据区间起始位置的奇偶性，动态切换得分计算方式，利用前缀和快速求解区间得分。

### 精选题解
#### 题解作者：xps0606
**星级**：★★★★☆  
**亮点**：  
- 巧用前缀和数组处理奇偶位置得分计算
- 分左右两段处理青木的选择，逻辑清晰
- 时间复杂度优化至O(n²)，适合小规模数据

**核心代码思想**：
```cpp
int main() {
    // 预处理奇偶位置前缀和
    for (int i = 0; i < n; i++) {
        if (i % 2 == 0) x[i+1] = a[i] + x[i]; // 奇数位累加
        else y[i+1] = a[i] + y[i];            // 偶数位累加
    }
    
    // 枚举高桥的选择i
    for (int i = 0; i < n; i++) {
        int maxAoki = -INF, takahashiScore;
        // 处理左侧j
        for (int j = 0; j < i; j++) {
            // 根据j的奇偶性选择计算方式
            if (j % 2 == 0) scoreAoki = y[i+1] - y[j];
            else scoreAoki = x[i+1] - x[j];
            // 更新青木最优选择
        }
        // 处理右侧j同理
        ans = max(ans, takahashiScore);
    }
}
```

---

## 拓展与总结
### 关键技巧
- **奇偶位置分离计算**：通过独立的前缀和数组处理不同位置类型的累加
- **双向枚举**：将青木的选择分为左右两段独立处理，简化逻辑
- **最优决策模拟**：通过遍历所有可能性准确模拟青木的最优策略

### 类似题目推荐
1. [P2671 求和](https://www.luogu.com.cn/problem/P2671)  
  考察奇偶位置分组计算
2. [P1115 最大子段和](https://www.luogu.com.cn/problem/P1115)  
  前缀和与区间最值结合
3. [P3406 海底高铁](https://www.luogu.com.cn/problem/P3406)  
  区间覆盖与最优决策模拟

---
处理用时：323.25秒
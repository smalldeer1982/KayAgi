# 题目信息

# [ABC035B] ドローン

## 题目描述

### 题意翻译

有一个无限大的二维网格，在网格上有一架无人机，高桥先生在（ $0$ , $0$ ）处放飞无人机。
有一个字符串 $S$ 代表高桥先生发送给无人机的指令：

- ``L`` 代表无人机从（ $x$ , $y$ ）飞到（ $x-1$ , $y$ ）
- ``R`` 代表无人机从（ $x$ , $y$ ）飞到（ $x+1$ , $y$ ）
- ``U`` 代表无人机从（ $x$ , $y$ ）飞到（ $x$ , $y+1$ ）
- ``D`` 代表无人机从（ $x$ , $y$ ）飞到（ $x$ , $y-1$ ）


现在给出这个指令字符串 $S$ ，但这个字符串有些地方损坏了，损坏的地方用 ``?`` 表示，保证 ``?`` 只能为 ``L``、``R``、``U``、``D`` 之一。

无人机和高桥先生之间的距离为 $|x|+|y|$ 。

之后给出一个数 $T$ ，$T$ 保证只有如下两种情况：
- 当 $T=1$ 时，表示要输出的数是高桥先生和无人机距离的最大值。
- 当 $T=2$ 时，表示要输出的数是高桥先生和无人机距离的最小值。

----------

## 样例 #1

### 输入

```
UL?

1```

### 输出

```
3```

## 样例 #2

### 输入

```
UD?

1```

### 输出

```
1```

## 样例 #3

### 输入

```
UUUU?DDR?LLLL

1```

### 输出

```
7```

## 样例 #4

### 输入

```
UULL?

2```

### 输出

```
3```

# AI分析结果



【题目翻译】
# [ABC035B] 无人机

## 题目描述

### 题意翻译

有一个无限大的二维网格，无人机从坐标（0, 0）处出发。给定包含指令的字符串S，其中可能包含损坏的字符'?'（每个'?'可替换为L/R/U/D之一）。求执行完所有指令后，无人机与原点之间的曼哈顿距离在两种情况下的值：
- 当T=1时输出最大可能值
- 当T=2时输出最小可能值

指令对应移动规则：
- L：x-1
- R：x+1
- U：y+1
- D：y-1

【算法分类】
贪心

【题目分析与解决思路】
该题核心在于如何处理不确定的'?'字符对最终曼哈顿距离的影响。通过数学分析可以得出：

1. **最大值计算（T=1）**：每个'?'都应选择能使绝对值之和最大化的方向，总最大值为基础曼哈顿距离加上'?'数量
2. **最小值计算（T=2）**：
   - 当基础距离≥'?'数时：基础距离 - '?'数
   - 否则：根据剩余步数的奇偶性确定（剩余偶数步可归零，奇数步则为1）

【关键代码实现】
```python
s = input().strip()
t = int(input())

x, y = 0, 0
cnt = 0

for c in s:
    if c == 'L':
        x -= 1
    elif c == 'R':
        x += 1
    elif c == 'U':
        y += 1
    elif c == 'D':
        y -= 1
    else:
        cnt += 1

d = abs(x) + abs(y)
if t == 1:
    print(d + cnt)
else:
    if d >= cnt:
        print(d - cnt)
    else:
        rem = cnt - d
        print(1 if rem % 2 else 0)
```

【拓展与总结】
该题体现了贪心思想在最优解问题中的应用。类似问题通常需要找到数学规律代替暴力枚举。推荐练习：
1. [P1036 选数](https://www.luogu.com.cn/problem/P1036) - 组合数学与最值计算
2. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223) - 贪心策略优化
3. [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094) - 双指针与极值处理

---
处理用时：129.92秒
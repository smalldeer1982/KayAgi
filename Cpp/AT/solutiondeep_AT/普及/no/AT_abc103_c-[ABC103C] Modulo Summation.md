# 题目信息

# [ABC103C] Modulo Summation

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc103/tasks/abc103_c

$ N $ 個の正整数 $ a_1,\ a_2,\ ...,\ a_N $ が与えられます。

非負整数 $ m $ に対して、$ f(m)\ =\ (m\ mod\ a_1)\ +\ (m\ mod\ a_2)\ +\ ...\ +\ (m\ mod\ a_N) $ とします。

ここで、$ X\ mod\ Y $ は $ X $ を $ Y $ で割った余りを表します。

$ f $ の最大値を求めてください。

## 说明/提示

### 制約

- 入力は全て整数である
- $ 2\ \leq\ N\ \leq\ 3000 $
- $ 2\ \leq\ a_i\ \leq\ 10^5 $

### Sample Explanation 1

$ f(11)\ =\ (11\ mod\ 3)\ +\ (11\ mod\ 4)\ +\ (11\ mod\ 6)\ =\ 10 $ が $ f $ の最大値です。

## 样例 #1

### 输入

```
3

3 4 6```

### 输出

```
10```

## 样例 #2

### 输入

```
5

7 46 11 20 11```

### 输出

```
90```

## 样例 #3

### 输入

```
7

994 518 941 851 647 2 581```

### 输出

```
4527```

# AI分析结果



### 中文重写题目
**题目描述**  
给定 $N$ 个正整数 $a_1, a_2, \dots, a_N$，定义非负整数 $m$ 的函数 $f(m) = \sum_{i=1}^N (m \bmod a_i)$。  
求 $f(m)$ 的最大可能值。  

**输入格式**  
第一行输入整数 $N$，第二行输入 $N$ 个整数 $a_i$。  
**输出格式**  
输出 $f(m)$ 的最大值。  

**样例解释**  
样例1中，当 $m=11$ 时，$(11 \bmod 3)+(11 \bmod 4)+(11 \bmod 6) = 2+3+5=10$ 是最大值。  

**数据范围**  
- $2 \leq N \leq 3000$  
- $2 \leq a_i \leq 10^5$  

---

**算法分类**  
数学  

---

### 题解对比与结论  
**核心思路**  
所有题解均基于以下数学观察：  
- 余数最大值定理：$x \bmod y$ 的最大值为 $y-1$  
- 构造性证明：存在 $m = \text{LCM}(a_1,\dots,a_N)-1$ 使得所有 $a_i$ 的余数均取到最大值  
- 最终答案即为 $\sum (a_i - 1) = (\sum a_i) - N$  

**解决难点**  
- 发现余数总和的理论上限  
- 构造符合条件的 $m$ 值（无需显式计算 LCM）  

**最优关键技巧**  
直接对每个 $a_i$ 计算 $a_i-1$ 并求和，时间复杂度 $O(N)$，空间复杂度 $O(1)$。  

---

### 高星题解推荐  
#### 1. Brian_WBY（★★★★★）  
**关键亮点**  
- 严格证明余数总和的理论上界  
- 构造 $m = \prod a_i -1$ 的可行性分析  
- 代码简洁高效，完全避免溢出风险  

**核心代码**  
```cpp
int main() {
    int n, x, ans = 0;
    scanf("%d", &n);
    for (int i = 0; i < n; ++i) {
        scanf("%d", &x);
        ans += x - 1;
    }
    printf("%d", ans);
    return 0;
}
```

#### 2. RioBlu（★★★★☆）  
**关键亮点**  
- 通过同余式推导 $m+1$ 的倍数性质  
- 明确指出答案与 LCM 的关系  

#### 3. 晴空一鹤（★★★★☆）  
**关键亮点**  
- 分步形式化证明构造的正确性  
- 代码省略 LCM 计算，聚焦核心逻辑  

---

### 类似题目推荐  
1. [P5657 格雷码](https://www.luogu.com.cn/problem/P5657)（数学构造）  
2. [P5520 [yLOI2019] 青原樱](https://www.luogu.com.cn/problem/P5520)（组合数学+构造）  
3. [AT2412 最大の和](https://atcoder.jp/contests/abc097/tasks/abc097_b)（前缀和+数学优化）

---
处理用时：59.72秒
# 题目信息

# [ABC112C] Pyramid

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc112/tasks/abc112_c

古代すぬけ国では, AtCoder 社長「高橋君」の権威を高めるために, ピラミッドが建てられていた.  
 ピラミッドには **中心座標** $ (C_X,\ C_Y) $ と **高さ** $ H $ が定まっており, 座標 $ (X,\ Y) $ の高度は $ max(H\ -\ |X\ -\ C_X|\ -\ |Y\ -\ C_Y|,\ 0) $ であった.

探検家の青木君は, このピラミッドの中心座標と高さを求めるために調査を行った. その結果, 次のような情報が得られた.

- $ C_X,\ C_Y $ は $ 0 $ 以上 $ 100 $ 以下の整数で, $ H $ は $ 1 $ 以上の整数であった.
- 上記と別に $ N $ 個の情報が得られた. そのうち $ i $ 個目の情報は, 「座標 $ (x_i,\ y_i) $ の高度は $ h_i $ である」

この情報は, ピラミッドの中心座標と高さを特定するのに十分であった. 情報を手掛かりに, これらの値を求めなさい.

## 说明/提示

### 制約

- $ N $ は $ 1 $ 以上 $ 100 $ 以下の整数
- $ x_i $, $ y_i $ は $ 0 $ 以上 $ 100 $ 以下の整数
- $ h_i $ は $ 0 $ 以上 $ 10^9 $ 以下の整数
- $ N $ 個の座標 $ (x_1,\ y_1),\ (x_2,\ y_2),\ (x_3,\ y_3),\ ...,\ (x_N,\ y_N) $ はすべて異なる
- ピラミッドの中心座標と高さをちょうど $ 1 $ つに特定することができる

### Sample Explanation 1

この場合, 中心座標は $ (2,\ 2) $, 高さは $ 6 $ と特定することができる.

### Sample Explanation 2

この場合, 中心座標は $ (0,\ 0) $, 高さは $ 100 $ と特定することができる. $ C_X,\ C_Y $ が $ 0 $ 以上 $ 100 $ 以下の整数であると分かっていることに注意せよ.

### Sample Explanation 3

この場合, 中心座標は $ (100,\ 0) $, 高さは $ 193 $ と特定することができる.

## 样例 #1

### 输入

```
4

2 3 5

2 1 5

1 2 5

3 2 5```

### 输出

```
2 2 6```

## 样例 #2

### 输入

```
2

0 0 100

1 1 98```

### 输出

```
0 0 100```

## 样例 #3

### 输入

```
3

99 1 191

100 1 192

99 0 192```

### 输出

```
100 0 193```

# AI分析结果



# [ABC112C] Pyramid

## 题目描述

古代すぬけ国では，AtCoder社長「高橋君」の権威を高めるために，ピラミッドが建てられていた。  
ピラミッドには**中心座標**$(C_X, C_Y)$と**高さ**$H$が定まっており，座標$(X, Y)$の高度は$\max(H - |X - C_X| - |Y - C_Y|, 0)$であった。

探検家の青木君は，このピラミッドの中心座標と高さを求めるために調査を行った。結果，次の情報が得られた：
- $C_X, C_Y$は$0$以上$100$以下の整数で，$H$は$1$以上の整数
- 別の$N$個の情報：座標$(x_i, y_i)$の高度$h_i$

これらの情報からピラミッドの中心座標と高さを特定せよ。

## 说明/提示

### 制約
- $1 \leq N \leq 100$
- $0 \leq x_i, y_i \leq 100$
- $0 \leq h_i \leq 10^9$
- 座標は全て異なる
- 解は一意に定まる

### 样例解释
- 样例1：中心$(2,2)$，高さ6
- 样例2：中心$(0,0)$，高さ100
- 样例3：中心$(100,0)$，高さ193

---

**算法分类**  
枚举

---

### 题解分析

#### 关键思路
1. **枚举中心坐标**：在$0 \leq C_X, C_Y \leq 100$范围内穷举可能的中心点。
2. **推导高度H**：利用每个点的$h_i >0$的约束，计算$H = h_i + |x_i - C_X| + |y_i - C_Y|$，并验证所有此类点推导出的H是否一致。
3. **全局验证**：用确定的$H$检查所有点的高度是否符合公式$\max(H - |x_i - C_X| - |y_i - C_Y|, 0)$。

#### 解决难点
- **快速定位H**：通过至少一个非零高度点确定H候选值，避免全量计算。
- **零高度处理**：对$h_i=0$的点，需确保$H \leq |x_i - C_X| + |y_i - C_Y|$。

#### 代码实现
```cpp
#include <iostream>
#include <vector>
#include <cmath>
using namespace std;

struct Point { int x, y, h; };

int main() {
    int N; cin >> N;
    vector<Point> points(N);
    for (auto &p : points)
        cin >> p.x >> p.y >> p.h;

    for (int cx = 0; cx <= 100; ++cx)
        for (int cy = 0; cy <= 100; ++cy) {
            int H = -1;
            bool valid = true;
            // 计算H候选值
            for (const auto &p : points) {
                if (p.h > 0) {
                    int tmp = p.h + abs(p.x - cx) + abs(p.y - cy);
                    if (H == -1) H = tmp;
                    else if (H != tmp) { valid = false; break; }
                }
            }
            if (!valid) continue;

            // 处理全零高度情况
            if (H == -1) {
                int min_d = 1e9;
                for (const auto &p : points)
                    min_d = min(min_d, abs(p.x - cx) + abs(p.y - cy));
                H = max(1, min_d);
            }

            // 全局验证
            bool ok = true;
            for (const auto &p : points) {
                int expect = max(H - abs(p.x - cx) - abs(p.y - cy), 0);
                if (expect != p.h) { ok = false; break; }
            }
            if (ok) { cout << cx << " " << cy << " " << H << endl; return 0; }
        }
}
```

---

### 拓展与总结
- **同类问题**：适用于参数唯一且约束条件明确的几何构造问题。
- **举一反三**：类似思路可用于解决其他隐藏参数推导问题，如物理轨迹参数计算、几何图形属性确定等。

---

**推荐题目**  
1. [P1086 花生采摘](https://www.luogu.com.cn/problem/P1086) - 枚举路径与策略优化  
2. [P1036 选数](https://www.luogu.com.cn/problem/P1036) - 组合枚举与质数判断  
3. [P1217 棋盘覆盖](https://www.luogu.com.cn/problem/P1220) - 分治与构造验证

---
处理用时：198.70秒
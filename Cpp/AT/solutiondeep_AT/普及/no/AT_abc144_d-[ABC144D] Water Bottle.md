# 题目信息

# [ABC144D] Water Bottle

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc144/tasks/abc144_d

高橋君は、底面が $ 1 $ 辺 $ a~\mathrm{cm} $ の正方形であり、高さが $ b~\mathrm{cm} $ であるような直方体型の水筒を持っています。(水筒の厚みは無視できます。)

この水筒の中に体積 $ x~\mathrm{cm}^3 $ の水を入れ、底面の正方形の $ 1 $ 辺を軸として、この水筒を徐々に傾けます。

水を溢れさせずに水筒を傾けることができる最大の角度を求めてください。

## 说明/提示

### 制約

- 入力は全て整数
- $ 1\ <\ =\ a\ \leq\ 100 $
- $ 1\ <\ =\ b\ \leq\ 100 $
- $ 1\ <\ =\ x\ <\ =\ a^2b $

### Sample Explanation 1

水筒は立方体であり、水は半分まで入っています。この水筒を $ 45 $° より大きく傾けると水が溢れます。

### Sample Explanation 2

水筒はほぼ空であり、水が溢れるときにはほぼ水平になっています。

### Sample Explanation 3

水筒はほぼ満杯であり、ほぼ垂直の状態で水が溢れます。

## 样例 #1

### 输入

```
2 2 4```

### 输出

```
45.0000000000```

## 样例 #2

### 输入

```
12 21 10```

### 输出

```
89.7834636934```

## 样例 #3

### 输入

```
3 1 8```

### 输出

```
4.2363947991```

# AI分析结果



### 题目中文翻译

[problemUrl]: https://atcoder.jp/contests/abc144/tasks/abc144_d

**题目描述**  
高桥君有一个底面为边长 $a~\mathrm{cm}$ 的正方形、高为 $b~\mathrm{cm}$ 的直方体水筒。向其中倒入体积为 $x~\mathrm{cm}^3$ 的水后，以底面的一条边为轴逐渐倾斜水筒。求水不溢出的最大倾斜角度。

**输入约束**  
- $1 \leq a, b \leq 100$
- $1 \leq x \leq a^2b$

**样例解释**  
样例1：水筒为立方体且水量为一半，最大倾斜45°  
样例2：水量极少时接近水平状态  
样例3：水量接近满时接近垂直状态  

---

### 算法分类
数学（几何与三角函数）

---

### 题解对比与结论

#### 核心思路
1. **三维转二维**：将水的体积问题转化为二维侧视截面面积问题
2. **分情况讨论**：
   - 水量超过半满时：剩余空间形成梯形，用总体积减去梯形面积推导公式
   - 水量未达半满时：水面形成三角形，直接计算三角形面积相关参数
3. **三角函数转换**：利用 $\tan\theta$ 与几何参数的关系，通过 $\arctan$ 求角度

---

### 精选题解

#### 1. 题解作者：f_hxr_（⭐⭐⭐⭐⭐）
**关键亮点**  
- 清晰的几何推导配图说明
- 代码实现直接对应数学公式
- 使用long double保证精度

**核心代码**  
```cpp
if(X>=(A*A*B)/2.0) 
    ans=atan(2*(A*A*B-X)/(A*A*A))*180.0/PI;
else 
    ans=atan((A*B*B)/(2*X))*180.0/PI;
```

#### 2. 题解作者：Keids（⭐⭐⭐⭐）
**关键亮点**  
- 极简代码实现
- 公式化简到最简形态
- 注释明确解释公式来源

**核心代码**  
```cpp
if(2*x>a*a*b) 
    printf("%.10lf",atan((b-(2.0*x-a*a*b)/(a*a))/a)*180.0/PI);
else 
    printf("%.10lf",atan(a*b*b/2/x)*180.0/PI);
```

#### 3. 题解作者：FurippuWRY（⭐⭐⭐⭐）
**关键亮点**  
- 详细的物理过程示意图
- 三角函数基础知识的补充说明
- 分步变量命名增强可读性

**核心代码**  
```cpp
if (x > v / 2) 
    ang = atan((v - x)*2/(a*a*a)) * (180/pi);
else 
    ang = atan(a*b*b/(2*x)) * (180/pi);
```

---

### 关键思路总结
1. **分界点判定**：以总容积的1/2为分界线，判断水面形态
2. **公式推导**：
   - 水量过半时：$\tan\theta = \frac{2(a^2b - x)}{a^3}$
   - 水量未半时：$\tan\theta = \frac{ab^2}{2x}$
3. **角度转换**：使用 `atan` 函数后乘以 $\frac{180}{\pi}$ 转换为角度

---

### 类似题目推荐
1. [P5725 求三角形面积](https://www.luogu.com.cn/problem/P5725)  
   **考察点**：几何面积计算与输出格式控制

2. [P1428 小鱼比可爱](https://www.luogu.com.cn/problem/P1428)  
   **考察点**：二维坐标系的相对位置判断

3. [P1058 立体图](https://www.luogu.com.cn/problem/P1058)  
   **考察点**：三维空间到二维投影的转换能力

---
处理用时：49.16秒
# 题目信息

# [ABC161E] Yutori

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc161/tasks/abc161_e

高橋君は明日からの $ N $ 日間のうち $ K $ 日を選んで働くことにしました。

整数 $ C $ と文字列 $ S $ が与えられるので、次の $ 2 $ つの条件を満たすようにして働く日を選びます。

- ある日働いたら、その直後の $ C $ 日間は働かない
- $ S $ の $ i $ 文字目が `x` のとき、今日から $ i $ 日後には働かない

高橋君が必ず働く日をすべて求めてください。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ K\ \leq\ N $
- $ 0\ \leq\ C\ \leq\ N $
- $ S $ の長さは $ N $
- $ S $ の各文字は `o` か `x`
- 問題文中の条件を満たすように働く日を選ぶことが可能

### Sample Explanation 1

高橋君は $ 11 $ 日間のうち $ 3 $ 日働こうとしています。ある日働いたらその後 $ 2 $ 日間は働きません。 働く日としてありえる組み合わせは「$ 1,6,10 $ 日目」「$ 1,6,11 $ 日目」「$ 2,6,10 $ 日目」「$ 2,6,11 $ 日目」の $ 4 $ 通りです。 したがって、$ 6 $ 日目に必ず働きます。

### Sample Explanation 2

働く日としてありえる組み合わせは「$ 1,5 $ 日目」のみです。

### Sample Explanation 3

必ず働く日が存在しないこともあります。

## 样例 #1

### 输入

```
11 3 2

ooxxxoxxxoo```

### 输出

```
6```

## 样例 #2

### 输入

```
5 2 3

ooxoo```

### 输出

```
1

5```

## 样例 #3

### 输入

```
5 1 0

ooooo```

### 输出

```
```

## 样例 #4

### 输入

```
16 4 3

ooxxoxoxxxoxoxxo```

### 输出

```
11

16```

# AI分析结果



# [ABC161E] Yutori

## 题目描述

高桥君计划在接下来的 $N$ 天中选择 $K$ 天工作。给定整数 $C$ 和字符串 $S$，需满足以下两个条件：

1. 某天工作后，接下来的 $C$ 天不能工作
2. 当 $S$ 的第 $i$ 个字符为 `x` 时，第 $i$ 天不能工作

请确定高桥君必须工作的所有日期。

### 说明/提示
- 数据范围：$1 \leq N \leq 2 \times 10^5$
- 保证至少存在一种合法的工作方案

---

**算法分类**：贪心

---

## 题解综合分析

各题解核心思路均为双向贪心扫描：
1. **正向扫描**确定每个工作次序的最早可能日期（L数组）
2. **反向扫描**确定每个工作次序的最晚可能日期（R数组）
3. 当且仅当 L[i] = R[i] 时，该日期为必选日期

---

## 精选题解（评分≥4★）

### 题解1：SpeedStar（★★★★★）
**核心亮点**：
- 使用两个独立循环分别生成L和R数组
- 反向数组后直接比对相同索引位置
- 代码简洁高效，处理边界清晰

```cpp
vector<int> L, R;
// 正向贪心生成L数组
for (int i = 0; i < n; i++) {
    if (s[i] == 'o' && t >= c) {
        L.push_back(i);
        t = 0;
    }
    else t++;
    if (L.size() == k) break;
}
// 反向贪心生成R数组
for (int i = n - 1; i >= 0; i--) {
    if (s[i] == 'o' && t >= c) {
        R.push_back(i);
        t = 0;
    }
    else t++;
    if (R.size() == k) break;
}
reverse(R.begin(), R.end());
// 比对相同位置
for (int i = 0; i < k; i++) {
    if (L[i] == R[i]) cout << L[i] + 1 << '\n';
}
```

---

## 关键技巧总结
1. **双向贪心扫描**：分别从首尾扫描确定每个工作次序的时间窗口
2. **时间窗口比对**：当最早和最晚时间重合时即为必选日期
3. **O(n)复杂度处理**：通过贪心策略避免暴力枚举，适应大数据量

---

## 同类题目推荐
1. [P1250 种树](https://www.luogu.com.cn/problem/P1250) - 区间约束下的贪心选择
2. [P1106 删数问题](https://www.luogu.com.cn/problem/P1106) - 双向贪心决策
3. [P2107 小Z的AK计划](https://www.luogu.com.cn/problem/P2107) - 时间窗口与贪心策略结合

---

## 题解心得摘录
- **LJB00131**：保持头脑清醒，将问题转化为时间窗口的重叠判断
- **Sqrtyz**：注意贪心策略中前后扫描的独立性，避免相互干扰
- **xiaomuyun**：及时break避免多余计算是处理大规模数据的关键

---
处理用时：38.97秒
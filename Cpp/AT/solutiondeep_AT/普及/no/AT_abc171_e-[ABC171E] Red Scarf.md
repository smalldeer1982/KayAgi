# 题目信息

# [ABC171E] Red Scarf

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc171/tasks/abc171_e

猫のすぬけくんが $ N\ (\textbf{偶数}) $ 匹います。各すぬけくんには $ 1,\ 2,\ \ldots,\ N $ の番号が振られています。

各すぬけくんは首に赤いスカーフを巻いており、スカーフにはそのすぬけくんが一番好きな非負整数が $ 1 $ つ書き込まれています。

すぬけくんたちは最近、整数の xor（排他的論理和）と呼ばれる演算を覚えました。

 xor とは $ n $ 個の非負整数 $ x_1,x_2,\ \ldots,\ x_n $ について、それらの xor、 $ x_1~\textrm{xor}~x_2~\textrm{xor}~\ldots~\textrm{xor}~x_n $ は以下のように定義されます。

- $ x_1~\textrm{xor}~x_2~\textrm{xor}~\ldots~\textrm{xor}~x_n $ を二進表記した際の $ 2^k(k\ \geq\ 0) $ の位の数は、$ x_1,x_2,\ \ldots,\ x_n $ のうち、二進表記した際の $ 2^k(k\ \geq\ 0) $ の位の数が $ 1 $ となるものの個数が奇数ならば $ 1 $、そうでなければ $ 0 $ となる。
 
 例えば、$ 3~\textrm{xor}~5\ =\ 6 $ となります。 早速この演算を使いたくなったすぬけくんたちは、自分以外のすぬけくんのスカーフに書かれた整数の xor を計算することにしました。

番号 $ i $ が振られたすぬけくんが計算した、自分以外のすぬけくんのスカーフに書かれた整数の xor が $ a_i $ であることが分かっています。 この情報を元に、各すぬけくんのスカーフに書かれた整数を特定してください。

## 说明/提示

### 制約

- 入力はすべて整数である
- $ 2\ \leq\ N\ \leq\ 200000 $
- $ N $ は$ \textbf{偶数} $
- $ 0\ \leq\ a_i\ \leq\ 10^9 $
- 与えられた情報と整合するようなスカーフ上の整数の組合せが存在する

### Sample Explanation 1

\- $ 5~\textrm{xor}~7~\textrm{xor}~22\ =\ 20 $ - $ 26~\textrm{xor}~7~\textrm{xor}~22\ =\ 11 $ - $ 26~\textrm{xor}~5~\textrm{xor}~22\ =\ 9 $ - $ 26~\textrm{xor}~5~\textrm{xor}~7\ =\ 24 $ より、この出力は与えられた情報と整合します。

## 样例 #1

### 输入

```
4

20 11 9 24```

### 输出

```
26 5 7 22```

# AI分析结果



# [ABC171E] Red Scarf

## 题目描述

猫的すぬけ君有 $N$（**偶数**）只，编号为 $1,2,\ldots,N$。每只猫戴着写有最喜爱非负整数的红围巾。已知每只猫计算的（除自己外其他猫数字的异或值）为 $a_i$，请还原原始数字序列。

### 输入格式
输入包含：
- 第一行整数 $N$
- 第二行 $N$ 个整数 $a_1,a_2,\ldots,a_N$

### 输出格式
输出 $N$ 个整数表示原始数字序列。

### 说明
- $2 \leq N \leq 2\times10^5$
- $0 \leq a_i \leq 10^9$
- 保证存在合法解

### 样例解释
样例输入为 `4 20 11 9 24`，输出为 `26 5 7 22`。验证每个输出值的异或和确实等于对应输入值。

---

**算法分类**：位运算

---

## 题解分析与结论

### 关键思路
所有题解均基于异或运算的两个核心性质：
1. 自反性：$x \oplus x = 0$
2. 结合性：异或顺序不影响结果

设原始数组为 $b_1,b_2,...,b_n$，已知 $a_i = \bigoplus_{j\neq i} b_j$。计算所有 $a_i$ 的异或总和 $x$，发现 $x = \bigoplus b_i$，因此每个原始数 $b_i = x \oplus a_i$。

### 精选题解

1. **shenbairui（4.5星）**
   - **亮点**：简明扼要，直接应用异或性质
   - **代码**：
     ```cpp
     int sum = 0;
     for(int i=1;i<=n;i++) sum ^= a[i];
     for(int i=1;i<=n;i++) cout << (sum ^ a[i]) << " ";
     ```

2. **CoderCharlie（4.5星）**
   - **亮点**：详细数学推导，证明严谨
   - **推导**：通过将 $n$ 个方程异或，证明总异或和等于 $b_i$ 的总异或和

3. **沉石鱼惊旋（4星）**
   - **亮点**：规范代码风格，附带运算定律说明
   - **心得**：强调异或的归零律和恒等律在实际解题中的应用

---

## 核心代码实现
```cpp
#include<bits/stdc++.h>
using namespace std;

int main() {
    int n, sum = 0;
    cin >> n;
    vector<int> a(n);
    for(int i=0; i<n; i++) {
        cin >> a[i];
        sum ^= a[i];
    }
    for(int x : a) cout << (sum ^ x) << " ";
}
```

---

## 拓展与应用
1. **同类题型**：
   - P1469 找筷子（异或找唯一奇数长度元素）
   - P3909 异或之积（利用异或前缀和）
   - CF766D 可撤销并查集（位运算结合数据结构）

2. **思维扩展**：
   - 当处理"缺失数字"类问题时，异或运算常能实现空间O(1)的解法
   - 遇到需要消除重复元素的场景，优先考虑异或的归零特性

---

## 个人心得摘录
- **CoderCharlie**："观察到每个$a_i$被异或了奇数次，这是推导总异或和的关键"
- **沉石鱼惊旋**："调试时发现必须用`long long`类型，避免数值溢出问题"

---
处理用时：42.56秒
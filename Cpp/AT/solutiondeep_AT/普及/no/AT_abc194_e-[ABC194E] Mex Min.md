# 题目信息

# [ABC194E] Mex Min

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc194/tasks/abc194_e

$ \mathrm{mex}(x_1,\ x_2,\ x_3,\ \dots,\ x_k) $ を、$ x_1,\ x_2,\ x_3,\ \dots,\ x_k $ に含まれない最小の非負整数と定義します。  
 長さ $ N $ の整数列 $ A\ =\ (A_1,\ A_2,\ A_3,\ \dots,\ A_N) $ が与えられます。  
 $ 0\ \le\ i\ \le\ N\ -\ M $ を満たす全ての整数 $ i $ について $ \mathrm{mex}(A_{i\ +\ 1},\ A_{i\ +\ 2},\ A_{i\ +\ 3},\ \dots,\ A_{i\ +\ M}) $ を計算したとき、この $ N\ -\ M\ +\ 1 $ 個の値のうちの最小値を求めてください。

## 说明/提示

### 制約

- $ 1\ \le\ M\ \le\ N\ \le\ 1.5\ \times\ 10^6 $
- $ 0\ \le\ A_i\ \lt\ N $
- 入力に含まれる値は全て整数

### Sample Explanation 1

\- $ i\ =\ 0 $ のとき : $ \mathrm{mex}(A_{i\ +\ 1},\ A_{i\ +\ 2})\ =\ \mathrm{mex}(0,\ 0)\ =\ 1 $ - $ i\ =\ 1 $ のとき : $ \mathrm{mex}(A_{i\ +\ 1},\ A_{i\ +\ 2})\ =\ \mathrm{mex}(0,\ 1)\ =\ 2 $ よって $ 1 $ と $ 2 $ のうちの最小値である $ 1 $ が答えです。

### Sample Explanation 2

\- $ i\ =\ 0 $ のとき : $ \mathrm{mex}(A_{i\ +\ 1},\ A_{i\ +\ 2})\ =\ \mathrm{mex}(1,\ 1)\ =\ 0 $ - $ i\ =\ 1 $ のとき : $ \mathrm{mex}(A_{i\ +\ 1},\ A_{i\ +\ 2})\ =\ \mathrm{mex}(1,\ 1)\ =\ 0 $ となります。

### Sample Explanation 3

\- $ i\ =\ 0 $ のとき : $ \mathrm{mex}(A_{i\ +\ 1},\ A_{i\ +\ 2})\ =\ \mathrm{mex}(0,\ 1)\ =\ 2 $ - $ i\ =\ 1 $ のとき : $ \mathrm{mex}(A_{i\ +\ 1},\ A_{i\ +\ 2})\ =\ \mathrm{mex}(1,\ 0)\ =\ 2 $ となります。

## 样例 #1

### 输入

```
3 2

0 0 1```

### 输出

```
1```

## 样例 #2

### 输入

```
3 2

1 1 1```

### 输出

```
0```

## 样例 #3

### 输入

```
3 2

0 1 0```

### 输出

```
2```

## 样例 #4

### 输入

```
7 3

0 0 1 2 0 1 0```

### 输出

```
2```

# AI分析结果



【题目翻译】

# [ABC194E] Mex Min

## 题目描述

定义 $\mathrm{mex}(x_1,\ x_2,\ x_3,\ \dots,\ x_k)$ 为 $x_1,\ x_2,\ x_3,\ \dots,\ x_k$ 中未出现的最小非负整数。  
给定长度为 $N$ 的整数序列 $A\ =\ (A_1,\ A_2,\ A_3,\ \dots,\ A_N)$。  
对于所有满足 $0\ \le\ i\ \le\ N\ -\ M$ 的整数 $i$，计算 $\mathrm{mex}(A_{i+1},\ A_{i+2},\ \dots,\ A_{i+M})$，并输出这 $N-M+1$ 个值中的最小值。

## 说明/提示

### 数据范围
- $1\ \le\ M\ \le\ N\ \le\ 1.5\ \times\ 10^6$
- $0\ \le\ A_i\ <\ N$

---

**算法分类**：滑动窗口（归入模拟）

---

### 题解综合分析

本题需要高效计算所有长度为 $M$ 的连续子序列的最小 $\mathrm{mex}$。核心思路是通过滑动窗口维护元素出现频次，动态更新 $\mathrm{mex}$ 候选值。

#### 关键思路
1. **初始窗口的 $\mathrm{mex}$ 计算**：遍历窗口内元素，找到最小的未出现非负整数。
2. **滑动窗口优化**：维护频次数组，在窗口移动时更新频次，若移出元素后其频次归零，则当前窗口的 $\mathrm{mex}$ 可能为该元素值，需更新全局最小值。
3. **数组代替哈希表**：利用元素值范围有限（$A_i < N$），使用数组而非哈希表以提高效率。

---

### 高星题解推荐

#### 1. endswitch 的题解（⭐⭐⭐⭐⭐）
**亮点**：
- 使用数组统计元素频次，时间复杂度 $O(N)$。
- 滑动窗口逻辑清晰，高效维护 $\mathrm{mex}$ 候选值。
- 代码简洁，无冗余操作。

**核心代码**：
```cpp
int main() {
    int n, m;
    cin >> n >> m;
    vector<int> a(n+1), f(n+1);
    for (int i = 1; i <= n; ++i) cin >> a[i];
    for (int i = 1; i <= m; ++i) f[a[i]]++;
    
    int ans = 0;
    while (f[ans]) ans++;
    
    for (int i = m+1; i <= n; ++i) {
        f[a[i - m]]--;
        f[a[i]]++;
        if (f[a[i - m]] == 0 && a[i - m] < ans) {
            ans = min(ans, a[i - m]);
        }
    }
    cout << ans;
}
```

**实现思想**：
- 初始化频次数组 `f`，计算初始窗口的 $\mathrm{mex}$。
- 窗口滑动时更新频次，若移出元素导致其频次归零且该元素小于当前 $\mathrm{mex}$，则更新 $\mathrm{mex}$。

---

### 最优技巧总结
- **滑动窗口与频次数组结合**：维护窗口内元素的频次，避免重复计算。
- **$\mathrm{mex}$ 的动态更新**：仅需关注移出元素的影响，无需重新计算整个窗口的 $\mathrm{mex}$。
- **数据范围利用**：利用元素值范围较小，使用数组而非哈希表提升效率。

---

### 类似题目推荐
1. [P1886 滑动窗口](https://www.luogu.com.cn/problem/P1886)  
   **考察点**：滑动窗口的最值维护。
2. [P4137 Rmq Problem mex](https://www.luogu.com.cn/problem/P4137)  
   **考察点**：离线查询与 $\mathrm{mex}$ 计算。
3. [P3514 窗口的星星](https://www.luogu.com.cn/problem/P3514)  
   **考察点**：滑动窗口与二维前缀和的结合应用。

---
处理用时：273.46秒
# 题目信息

# [ABC202D] aab aba baa

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc202/tasks/abc202_d

$ A $ 個の `a` と $ B $ 個の `b` からなる長さ $ A\ +\ B $ の文字列のうち、辞書順で $ K $ 番目のものを求めてください。

## 说明/提示

### 制約

- $ 1\ \leq\ A,\ B\ \leq\ 30 $
- $ A $ 個の `a` と $ B $ 個の `b` からなる長さ $ A\ +\ B $ の文字列の総数を $ S $ 個とおいたとき、$ 1\ \leq\ K\ \leq\ S $
- 入力は全て整数である。

### Sample Explanation 1

$ 2 $ 個の `a` と $ 2 $ 個の `b` からなる文字列を辞書順に並べると、`aabb`、`abab`、`abba`、`baab`、`baba`、`bbaa` となります。 よって、$ 4 $ 番目である `baab` を出力します。

### Sample Explanation 2

$ K $ の値は $ 32 $ bit 整数に収まらないことがあります。

## 样例 #1

### 输入

```
2 2 4```

### 输出

```
baab```

## 样例 #2

### 输入

```
30 30 118264581564861424```

### 输出

```
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa```

# AI分析结果



**算法分类：组合数学**

---

### 题解分析与结论

各题解核心思路均为**逐位确定字符**：通过组合数计算当前位选'a'时的可能方案数，根据与K的比较决定选'a'或'b'，并递归处理剩余字符。关键优化点在于组合数的高效计算（动态规划预处理或组合公式优化）。

---

### 精选题解

#### 1. 作者：封禁用户（⭐⭐⭐⭐⭐）
**核心亮点**  
- 预处理组合数数组，通过动态规划计算所有可能的组合数，查询时间复杂度O(1)  
- 代码结构清晰，逻辑简明，无冗余计算  
**关键代码**  
```cpp
long long dp[105][105];
void f(int n) {
    dp[0][0]=1;
    for(int i=1;i<=n;i++) {
        dp[i][0]=1;
        for(int j=1;j<=i;j++)
            dp[i][j]=dp[i-1][j]+dp[i-1][j-1];
    }
}
// 调用时通过dp[a+b-1][a-1]获取组合数
```

#### 2. 作者：littlesnake（⭐⭐⭐⭐⭐）
**核心亮点**  
- 动态规划预处理组合数，递归构造字符串  
- 代码简洁，直接利用预处理的组合数进行判断  
**关键代码**  
```cpp
string dfs(int n, int m, ll k) {
    if(n ==0) return string(m,'b');
    if(m ==0) return string(n,'a');
    if(k <= f[n-1][m]) return 'a'+dfs(n-1,m,k);
    else return 'b'+dfs(n,m-1,k-f[n-1][m]);
}
```

#### 3. 作者：CRTL_xzh2009（⭐⭐⭐⭐）
**核心亮点**  
- 结合暴力与正解，动态规划预处理组合数  
- 提供暴力解法对比，增强理解  
**个人心得**  
"当K较大时暴力不可行，需预处理组合数。组合数计算本质是杨辉三角的递推关系。"

---

### 最优思路总结
**组合数逐位确定法**：  
1. **预处理组合数**：通过DP计算C(n+m, n)的值，避免重复计算。  
2. **逐位决策**：从高位到低位，若剩余'a'和'b'的组合数C(a+b-1, a-1) < K，则选'b'并令K -= C(a+b-1, a-1)；否则选'a'。  
3. **递归/迭代构造**：每次决策后减少对应字符数量，直至构造完成。

---

### 相似题目推荐
1. [P2525 Uim的情人节礼物](https://www.luogu.com.cn/problem/P2525) - 求第K个排列  
2. [P1706 全排列问题](https://www.luogu.com.cn/problem/P1706) - 全排列生成  
3. [P3193 [HNOI2008]GT考试](https://www.luogu.com.cn/problem/P3193) - 组合数学与动态规划结合

---
处理用时：47.57秒
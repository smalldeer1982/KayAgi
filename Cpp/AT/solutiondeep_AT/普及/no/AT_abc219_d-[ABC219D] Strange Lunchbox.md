# 题目信息

# [ABC219D] Strange Lunchbox

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc219/tasks/abc219_d

$ N $ 種類の弁当が、それぞれ $ 1 $ 個ずつ売られています。  
 $ i\ =\ 1,\ 2,\ \ldots,\ N $ について、$ i $ 種類目の弁当には $ A_i $ 個のたこ焼きと $ B_i $ 個のたい焼きが入っています。

高橋君は、 $ X $ 個以上のたこ焼きと $ Y $ 個以上のたい焼きを食べたいです。  
 高橋君がいくつかの弁当を選んで買うことで、 $ X $ 個以上のたこ焼きと $ Y $ 個以上のたい焼きを手に入れることが可能かどうか判定して下さい。また、可能な場合はそのために高橋君が購入しなければならない弁当の個数の最小値を求めて下さい。

各種類の弁当は $ 1 $ 個しか売られていないため、同じ種類の弁当を $ 2 $ 個以上購入することは出来ないことに注意して下さい。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 300 $
- $ 1\ \leq\ X,\ Y\ \leq\ 300 $
- $ 1\ \leq\ A_i,\ B_i\ \leq\ 300 $
- 入力はすべて整数

### Sample Explanation 1

高橋君は、$ 5 $ 個以上のたこ焼きと $ 6 $ 個以上のたい焼きを食べたいです。 高橋君は $ 2 $ 種類目の弁当と $ 3 $ 種類目の弁当を買うことで、 たこ焼きを $ 3\ +\ 2\ =\ 5 $ 個、たい焼きを $ 4\ +\ 3\ =\ 7 $ 個手に入れることができます。

### Sample Explanation 2

高橋君がたとえすべての弁当を買ったとしても、高橋君は $ 8 $ 個以上のたこ焼きと $ 8 $ 個以上のたい焼きを手に入れることが出来ません。 よって、$ -1 $ を出力します。

## 样例 #1

### 输入

```
3

5 6

2 1

3 4

2 3```

### 输出

```
2```

## 样例 #2

### 输入

```
3

8 8

3 4

2 3

2 1```

### 输出

```
-1```

# AI分析结果



# [ABC219D] Strange Lunchbox

## 题目描述

有 $ N $ 种便当，每种包含 $ A_i $ 个章鱼烧和 $ B_i $ 个鲷鱼烧。需要选择若干便当，使得获得的章鱼烧总数至少 $ X $ 个，鲷鱼烧至少 $ Y $ 个。求最少需要购买的便当数量，若无法满足则输出 -1。

## 算法分类
动态规划

---

## 题解分析与结论

### 题解思路对比
1. **三维状态DP**（mojoege、qw1234321等）：  
   - 状态定义：$ dp_{i,j,k} $ 表示前 $ i $ 个便当满足至少 $ j $ 章鱼烧和 $ k $ 鲷鱼烧的最小数量  
   - 优势：直观符合原始问题定义  
   - 劣势：空间复杂度 $ O(NXY) $ 较高，需要处理负数索引  

2. **二维滚动数组DP**（SkyLines、apiad等）：  
   - 状态定义：$ dp_{j,k} $ 表示达到 $ j $ 章鱼烧和 $ k $ 鲷鱼烧的最小数量  
   - 优化技巧：  
     - 倒序枚举避免重复计数  
     - 使用 $ \min(j+a_i,X) $ 截断超过需求量的部分  
   - 优势：空间复杂度 $ O(XY) $，代码简洁高效  

### 最优题解推荐

#### 1. SkyLines 题解（⭐⭐⭐⭐⭐）
**核心思路**：  
- 二维滚动数组优化，状态转移时采用倒序枚举  
- 将超过需求量的部分用 min 函数截断  
- 时间复杂度 $ O(NXY) $，空间复杂度 $ O(XY) $

**代码要点**：
```cpp
memset(dp, 0x3f, sizeof(dp));
dp[0][0] = 0;
for (int i = 1; i <= n; i++) {
    for (int j = x; j >= 0; j--) {
        for (int k = y; k >= 0; k--) {
            int na = min(j + a[i], x);
            int nb = min(k + b[i], y);
            dp[na][nb] = min(dp[na][nb], dp[j][k] + 1);
        }
    }
}
```

#### 2. apiad 题解（⭐⭐⭐⭐）
**关键优化**：  
- 使用 min 函数处理超限值，避免维度膨胀  
- 初始化时仅设置有效起点 $ dp_{0,0}=0 $  

**个人心得**：  
> "需要注意初始化，将无效状态设为极大值，有效起点单独设置"

#### 3. KυρωVixen 题解（⭐⭐⭐⭐）
**实现技巧**：  
- 使用滚动数组减少内存占用  
- 显式处理边界条件，防止数组越界  

---

## 关键思路总结
1. **状态压缩**：将三维状态优化为二维，通过倒序枚举避免覆盖有效状态  
2. **截断处理**：使用 $ \min(x, j+a_i) $ 限制状态范围，降低空间复杂度  
3. **初始化技巧**：仅设置 $ dp_{0,0}=0 $，其他状态初始化为极大值  

## 拓展建议
类似问题可参考二维费用背包模板题：[P1855 榨取kkksc03](https://www.luogu.com.cn/problem/P1855)，其核心均为在双重限制下求最优解。

## 相似题目推荐
1. [P1855 榨取kkksc03](https://www.luogu.com.cn/problem/P1855)  
2. [P1507 NASA的食物计划](https://www.luogu.com.cn/problem/P1507)  
3. [P1910 L国的战斗之间谍](https://www.luogu.com.cn/problem/P1910)

---
处理用时：45.54秒
# 题目信息

# [ABC266C] Convex Quadrilateral

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc266/tasks/abc266_c

$ 2 $ 次元座標平面があります。$ x $ 軸正方向を右向き、$ y $ 軸正方向を上向きとします。

この平面上に自己交差のない四角形があります。  
 $ 4 $ つの頂点の座標は反時計回りに $ (A_x,A_y),(B_x,B_y),(C_x,C_y),(D_x,D_y) $ です。

この四角形が凸であるか判定してください。

なお、四角形の $ 4 $ つの内角が全て $ 180 $ 度未満であるとき、かつ、その時に限り、その四角形は凸であるといいます。

## 说明/提示

### 制約

- $ -100\ \leq\ A_x,A_y,B_x,B_y,C_x,C_y,D_x,D_y\ \leq\ 100 $
- 入力に含まれる値は全て整数である
- 与えられる $ 4 $ 点は四角形の $ 4 $ 頂点を反時計回りに並べたものである
- 与えられる $ 4 $ 点のなす四角形は自己交差がなく退化していない。すなわち
  - どの $ 2 $ 頂点も同じ座標にない
  - どの $ 3 $ 頂点も同一直線上にない
  - 隣接しない $ 2 $ 辺は共有点を持たない

### Sample Explanation 1

与えられた四角形は正方形であり、$ 4 $ つの内角は全て $ 90 $ 度です。したがって、この四角形は凸です。 !\[図\](https://img.atcoder.jp/abc266/cda66d9b9f4291781d1ce47f59f29ab0.png)

### Sample Explanation 2

角 $ A $ が $ 270 $ 度です。したがって、この四角形は凸ではありません。 !\[図\](https://img.atcoder.jp/abc266/2927f9f67e2cb7c35aeab05269b6fcc2.png)

## 样例 #1

### 输入

```
0 0

1 0

1 1

0 1```

### 输出

```
Yes```

## 样例 #2

### 输入

```
0 0

1 1

-1 0

1 -1```

### 输出

```
No```

# AI分析结果



# [ABC266C] Convex Quadrilateral 中文题面

## 题目描述

给定二维坐标系中四个顶点的坐标，按逆时针顺序排列。要求判断这四个点构成的四边形是否为凸四边形。

**凸四边形的定义**：四边形的所有内角都小于180度。

## 输入格式
输入四个顶点坐标，按逆时针顺序给出：
```
A_x A_y
B_x B_y
C_x C_y
D_x D_y
```

## 输出格式
若为凸四边形输出"Yes"，否则输出"No"

---

**算法分类**：计算几何/数学

---

## 题解综合分析

本题核心在于判断四边形的所有内角是否都小于180度。各题解主要采用以下方法：

1. **向量叉积法**（最优解）：通过计算相邻边的向量叉积符号是否一致，判断所有拐向是否同向
2. 面积比较法：利用凹四边形存在一个点在其他三点构成的三角形中的特性
3. 解析式法：判断其他点是否在边的同侧
4. 向量夹角法：通过反余弦函数计算角度

---

## 精选题解（评分≥4★）

### 题解1：ikunTLE（5★）
**核心思路**：  
计算四组相邻边的向量叉积，若所有叉积同号（全正或全负），则说明所有内角均小于180度，为凸四边形。

**关键亮点**：  
- 利用向量叉积符号判断转向，无需浮点运算
- O(1)时间复杂度，代码简洁高效
- 完美利用题目给出的逆时针顺序特性

**代码片段**：
```cpp
struct node{ int x,y; };
int cross(node a, node b, node c) {
    return (b.x-a.x)*(c.y-b.y) - (b.y-a.y)*(c.x-b.x);
}

int main() {
    node A,B,C,D;
    // 读取坐标...
    int c1 = cross(A,B,C), c2 = cross(B,C,D);
    int c3 = cross(C,D,A), c4 = cross(D,A,B);
    if((c1>0&&c2>0&&c3>0&&c4>0) || (c1<0&&c2<0&&c3<0&&c4<0))
        cout << "Yes";
    else cout << "No";
}
```

---

### 题解2：封禁用户（4★）
**核心思路**：  
与题解1思路相同，但代码实现更紧凑，直接内联叉积计算。

**代码亮点**：  
- 无结构体定义，直接使用坐标计算
- 函数式编程风格，代码高度紧凑

**代码片段**：
```cpp
int cross(int x1,int y1,int x2,int y2){
    return x1*y2 - y1*x2;
}

int main() {
    int Ax,Ay,Bx,By,Cx,Cy,Dx,Dy;
    // 读取坐标...
    int c1 = cross(Bx-Ax,By-Ay, Cx-Bx,Cy-By);
    int c2 = cross(Cx-Bx,Cy-By, Dx-Cx,Dy-Cy);
    int c3 = cross(Dx-Cx,Dy-Cy, Ax-Dx,Ay-Dy);
    int c4 = cross(Ax-Dx,Ay-Dy, Bx-Ax,By-Ay);
    // 符号判断同上
}
```

---

## 关键思路总结

**最优解法**：向量叉积法  
1. **几何原理**：相邻边向量叉积的符号表示拐向（左转/右转）
2. **实现技巧**：
   - 利用整数运算避免浮点误差
   - 只需检查四个叉积的符号一致性
3. **复杂度**：O(1)时间复杂度，四次叉积计算

---

## 同类题目推荐
1. [P1355 三角形的最大面积](https://www.luogu.com.cn/problem/P1355) - 几何面积计算
2. [P1183 多边形的面积](https://www.luogu.com.cn/problem/P1183) - 鞋带公式应用
3. [P5546 判断点是否在凸多边形内](https://www.luogu.com.cn/problem/P5546) - 类似叉积应用

---
处理用时：46.80秒
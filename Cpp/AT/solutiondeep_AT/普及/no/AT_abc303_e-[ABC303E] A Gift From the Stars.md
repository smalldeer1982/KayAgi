# 题目信息

# [ABC303E] A Gift From the Stars

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc303/tasks/abc303_e

以下の条件を満たす $ k+1 $ 頂点 $ k $ 辺のグラフをレベル $ k\ (k\geq\ 2) $ の星と呼びます。

- ある $ 1 $ つの頂点が、他の $ k $ 個の頂点と $ 1 $ 本ずつ辺で結ばれている。それ以外の辺は存在しない。
 
高橋君は、はじめ何個かの星からなるグラフを持っていました。そして、以下の手続きを全てのグラフの頂点が連結になるまでくり返し行いました。

- 持っているグラフの頂点から二つの頂点を選ぶ。このとき、選んだ二つの頂点の次数は共に $ 1 $ であり、かつ選んだ二つの頂点は非連結である必要がある。選んだ二つの頂点を結ぶ辺を張る。
 
その後、高橋君は手続きが終了した後のグラフの頂点に、適当に $ 1 $ から $ N $ の番号を付けました。このグラフは木となっており、これを $ T $ と呼びます。$ T $ には $ N-1 $ 本の辺があり、 $ i $ 番目の辺は $ u_i $ と $ v_i $ を結んでいました。

その後高橋君は、はじめ持っていた星の個数とレベルを忘れてしまいました。$ T $ の情報からはじめ持っていた星の個数とレベルを求めてください。

## 说明/提示

### 制約

- $ 3\leq\ N\leq\ 2\times\ 10^5 $
- $ 1\leq\ u_i,\ v_i\leq\ N $
- 与えられるグラフは、問題文中の手続きによって得られる $ N $ 頂点の木
- 入力は全て整数
 
### Sample Explanation 1

以下の図のように、$ 2 $ つのレベル $ 2 $ の星から $ T $ は得られます。 !\[\](https://img.atcoder.jp/abc303/59ab8e04c23d5f727300be7544b1df7e.png)

## 样例 #1

### 输入

```
6

1 2

2 3

3 4

4 5

5 6```

### 输出

```
2 2```

## 样例 #2

### 输入

```
9

3 9

7 8

8 6

4 6

4 1

5 9

7 3

5 2```

### 输出

```
2 2 2```

## 样例 #3

### 输入

```
20

8 3

8 18

2 19

8 20

9 17

19 7

8 7

14 12

2 15

14 10

2 13

2 16

2 1

9 5

10 15

14 6

2 4

2 11

5 12```

### 输出

```
2 3 4 7```

# AI分析结果



# [ABC303E] 来自星空的礼物

## 题目描述

### 题目翻译
满足以下条件的 $k+1$ 个顶点 $k$ 条边的图称为**层级 $k$（$k \geq 2$）的星**：
- 存在一个顶点与另外 $k$ 个顶点各用一条边连接，除此之外没有其他边。

高桥君初始拥有若干由星组成的图，并重复以下操作直到所有顶点连通：
- 选择两个度数为1且不连通的顶点，在它们之间添加边。

最终形成的树 $T$ 有 $N$ 个顶点。请根据 $T$ 的结构推断初始星的数量及各星的层级。

### 输入格式
- 首行为顶点数 $N$
- 后续 $N-1$ 行描述每条边

### 输出格式
- 按升序输出各星的层级

### 算法分类
**构造**

---

## 题解分析与结论

### 核心思路
1. **度数分析**：任意星的中心点度数等于其层级，且在最终树中所有度数 ≥3 的节点必为原始星的中心。
2. **剩余处理**：处理完所有度数 ≥3 的节点后，剩余节点必由层级2的星构成（每星3节点）。

### 最优题解亮点

#### 题解作者：0xyz（⭐️⭐️⭐️⭐️⭐️）
**关键思路**：
- 直接统计所有度数 ≥3 的节点作为原始星中心
- 剩余节点数除以3得到层级2的星数量

**代码亮点**：
```cpp
for(ll i=1;i<=n;i++)
    if(d[i]>=3)a[++c]=d[i],s-=d[i]+1; // 统计中心节点
for(ll i=1;i<=s/3;i++)a[++c]=2; // 处理层级2的星
```

#### 题解作者：Z_X_D_（⭐️⭐️⭐️⭐️）
**关键实现**：
- 将度数从大到小排序后处理，最终逆序输出保证升序

**代码亮点**：
```cpp
sort(a+1,a+n+1,cmp); // 降序排序
for(i=1;n>0;i++){
    n -= a[i]+1; // 动态减去已处理节点
    b[s++] = a[i];
}
```

#### 题解作者：wizardMarshall（⭐️⭐️⭐️⭐️）
**心得分享**：
- 通过两个解法对比，验证了度数分析的正确性
- 强调需注意层级2的星包含3个节点（易错点）

---

## 关键技巧总结
1. **度数性质**：树的构造过程中，非叶节点的度数必然保留原始星中心特性。
2. **数学简化**：剩余节点数必须为3的倍数，直接计算层级2的星数量。
3. **排序优化**：收集层级后统一排序可避免处理顺序问题。

---

## 相似题目推荐
1. [P3523 [POI2011] DYN-Dynamite](https://www.luogu.com.cn/problem/P3523) - 树形结构分析
2. [P2664 树上游戏](https://www.luogu.com.cn/problem/P2664) - 树的性质与统计
3. [P4565 [CTSC2018]暴力写挂](https://www.luogu.com.cn/problem/P4565) - 树结构构造与分解

---
处理用时：56.12秒
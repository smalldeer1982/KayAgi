# 题目信息

# [ABC307C] Ideal Sheet

## 题目描述

高桥有两张由方格组成的薄片，每个方格可能是透明的或黑色的。第一张的高 $H_A$ 宽 $W_A$ 个格子, 第二张高 $H_B$ 宽 $W_B$ 个格子。现在高桥将它们通过平移重叠在一起（不能旋转翻转），相对位置任意，想要得到图形 $X$ (高宽$H_X$,$W_X$)，请输出是否可能。用`.`表示透明格子，`#`表示黑色格子。

## 说明/提示

$1\leq$ 所有薄片高、宽 $\leq 10$ 
### 样例解释
Sample Explanation $2$ 
不能旋转薄片，因此不能得到 $X$ 。

## 样例 #1

### 输入

```
3 5
#.#..
.....
.#...
2 2
#.
.#
5 3
...
#.#
.#.
.#.
...```

### 输出

```
Yes```

## 样例 #2

### 输入

```
2 2
#.
.#
2 2
#.
.#
2 2
##
##```

### 输出

```
No```

## 样例 #3

### 输入

```
1 1
#
1 2
##
1 1
#```

### 输出

```
No```

## 样例 #4

### 输入

```
3 3
###
...
...
3 3
#..
#..
#..
3 3
..#
..#
###```

### 输出

```
Yes```

# AI分析结果



### 题目中文重写
题目已为中文，保持原样。

---

### 算法分类
**模拟**

---

### 题解分析与结论
题目要求判断两个薄片通过平移叠加后是否能得到目标图形。核心在于枚举所有可能的平移组合，并验证叠加结果是否匹配目标。各题解均采用暴力枚举，但处理坐标的方式不同。关键难点在于如何高效处理坐标偏移与合并后的匹配验证。

---

### 精选题解与评分

#### 1. 作者：xht（★★★★★）
**关键亮点**：  
- **坐标归一化**：提取每张薄片的黑色格子坐标，并将其左上对齐，消除冗余平移带来的重复计算。  
- **集合比对**：将叠加后的坐标集合与目标集合直接比较，避免处理大数组的复杂度。  
- **位移优化**：仅需枚举相对位移范围（-10到10），时间复杂度可控。

**核心代码**：
```cpp
auto in = [&]() {
    // 提取并归一化坐标，返回黑色格子坐标集合
};
set<pi> sa = in(), sb = in(), sx = in();
for (int dx = -10; dx <= 10; dx++)
    for (int dy = -10; dy <= 10; dy++) {
        set<pi> sy;
        // 合并两个薄片的坐标，并调整相对位置
        if (sx == sy) return cout << "Yes", 0;
    }
```

#### 2. 作者：c20231020（★★★★☆）
**关键亮点**：  
- **固定大网格**：将薄片粘贴到50x50的网格中，固定A的起始位置，避免处理负数下标。  
- **暴力覆盖验证**：枚举B的起始位置，直接覆盖到网格后，检查是否与目标区域完全匹配。

**核心代码**：
```cpp
For(ib,1,41) For(jb,1,41) { // B的位置
    // 将A和B粘贴到50x50网格中
    For(ix,1,41) For(jx,1,41) { // X的位置
        // 检查目标区域是否匹配且无多余黑格
        if (f && r == num) return cout << "Yes", 0;
    }
}
```

#### 3. 作者：syxmz（★★★★☆）
**关键亮点**：  
- **虚拟大网格**：使用37x37的网格，将目标X固定在中心区域。  
- **四重循环优化**：通过合理限制枚举范围减少计算量，代码简洁高效。

**核心代码**：
```cpp
rep(i,1,hc +10) rep(j,1,wc +10) // 枚举A和B的位置
    memset(ans, 0, sizeof ans);
    // 将A和B粘贴到虚拟网格
    if (f) return puts("Yes"), 0;
```

---

### 关键思路总结
1. **坐标归一化**：提取有效黑色格子的相对坐标，消除绝对位置影响，简化比较逻辑。  
2. **虚拟大网格**：通过扩大网格固定起始位置，避免处理负数下标问题，适合直观模拟场景。  
3. **集合比对**：直接比较坐标集合，避免逐像素遍历，提升效率。

---

### 拓展与同类题推荐
**类似题目**：  
1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003) - 枚举覆盖关系。  
2. [P1731 生日蛋糕](https://www.luogu.com.cn/problem/P1731) - 模拟与剪枝结合。  
3. [AT1219 歴史の研究](https://www.luogu.com.cn/problem/AT1219) - 利用坐标映射处理覆盖问题。

---
处理用时：43.14秒
# 题目信息

# [AGC003B] Simplified mahjong

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc003/tasks/agc003_b

高橋君は $ 1 $ から $ N $ までの整数のうちのどれかが書かれたカードをたくさん持っています。 高橋君は整数 $ i $ が書かれたカードを $ A_i $ 枚持っています。

$ 2 $ 枚のカードについて、それらに書かれた整数の差の絶対値が $ 1 $ 以下のとき、これらをペアにすることができます。

高橋君は、同じカードが複数のペアに使われないように、できるだけ多くのペアを作りたいです。高橋君が作れるペアの個数の最大値を求めてください。

## 说明/提示

### 制約

- $ 1\ ≦\ N\ ≦\ 10^5 $
- $ 0\ ≦\ A_i\ ≦\ 10^9\ (1\ ≦\ i\ ≦\ N) $
- 入力はすべて整数である。

### Sample Explanation 1

一例として、$ (1,1),(1,1),(3,4),(3,4) $ の $ 4 $ つのペアをつくることができます。

## 样例 #1

### 输入

```
4

4

0

3

2```

### 输出

```
4```

## 样例 #2

### 输入

```
8

2

0

1

6

0

8

2

1```

### 输出

```
9```

# AI分析结果



# [AGC003B] Simplified mahjong

## 题目描述

高桥君持有写有1到N整数的卡片，其中写有整数i的卡片有A_i张。当两张卡片数字差的绝对值≤1时，可以组成一对。求最多能组成的对数（每张卡片只能用于一个对）。

## 说明/提示

### 制約
- 1 ≤ N ≤ 1e5
- 0 ≤ A_i ≤ 1e9
- 输入均为整数

## 标签
贪心

---

## 题解综合分析

各题解均采用贪心算法，核心思路为：
1. **优先自身配对**：每个数字的卡片先两两配对，计算商数
2. **余数相邻配对**：剩余单张与后一个数字的卡片配对
3. **顺序处理**：从左到右处理，确保处理当前卡片时后续卡片未被修改

### 最优思路提炼
- **贪心策略**：当前卡片优先内部消耗，余数向后传递
- **传递机制**：余数1只能向后传递一次，保证后续处理不受前序影响
- **溢出处理**：使用long long避免数据溢出

---

## 推荐题解

### 1. 京润（⭐⭐⭐⭐⭐）
**亮点**：  
- 明确解释优先处理顺序的正确性
- 代码简洁规范，边界处理清晰  
**核心代码**：
```cpp
for(int i=1;i<=n;i++) {
    ans += a[i]/2;
    a[i] %= 2;
    if(i<n && a[i] && a[i+1]) {
        ans++;
        a[i]--;
        a[i+1]--;
    }
}
```

### 2. zhang_kevin（⭐⭐⭐⭐）
**亮点**：  
- 代码可读性极佳，附带幽默注释  
- 完整包含输入输出模板  
**个人心得**：  
"十年OI一场空，不开long long见祖宗" 强调数据类型的重要性

### 3. yinpeichu2021（⭐⭐⭐⭐）
**亮点**：  
- 代码最简练，位运算优化求余  
- 注释突出关键点  
**核心代码**：
```cpp
ans += a[i]/2;
a[i] &= 1;  // 等价于a[i] %= 2
if(a[i] && a[i+1]) ans++, a[i]--, a[i+1]--;
```

---

## 相似题目推荐
1. [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094)  
   - 贪心策略：价值排序后首尾配对
2. [P1803 线段覆盖](https://www.luogu.com.cn/problem/P1803)  
   - 贪心策略：按右端点排序选择最早结束
3. [P5019 铺设道路](https://www.luogu.com.cn/problem/P5019)  
   - 贪心策略：相邻差值处理

---
处理用时：114.72秒
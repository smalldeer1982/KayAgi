# 题目信息

# [AGC009A] Multiple Array

## 题目描述

[problemUrl]: https://atcoder.jp/contests/jrex2017/tasks/agc009_a

$ N $ 項からなる数列 $ A_1,...,A_N $ があり、$ N $ 個のボタンがあります。 $ i(1\ ≦\ i\ ≦\ N) $ 個目のボタンを押すと、数列 $ A $ の $ 1 $ 項目から $ i $ 項目までの値が $ 1 $ ずつ増加します。

数列 $ B_1,...,B_N $ が与えられます。高橋君は、これらのボタンを何回か押して、すべての $ i $ に対し、$ A_i $ が $ B_i $ の倍数になるようにします。

高橋君がボタンを押す回数の最小値を求めてください。

## 说明/提示

### 制約

- 入力はすべて整数である。
- $ 1\ ≦\ N\ ≦\ 10^5 $
- $ 0\ ≦\ A_i\ ≦\ 10^9(1\ ≦\ i\ ≦\ N) $
- $ 1\ ≦\ B_i\ ≦\ 10^9(1\ ≦\ i\ ≦\ N) $

### Sample Explanation 1

$ 1 $ つめのボタンを $ 2 $ 回、$ 2 $ つめのボタンを $ 2 $ 回、$ 3 $ つめのボタンを $ 3 $ 回押せばよいです。

## 样例 #1

### 输入

```
3

3 5

2 7

9 4```

### 输出

```
7```

## 样例 #2

### 输入

```
7

3 1

4 1

5 9

2 6

5 3

5 8

9 7```

### 输出

```
22```

# AI分析结果



# [AGC009A] Multiple Array

## 题目描述

给定长度为 $N$ 的数列 $A_1,...,A_N$ 和对应的倍数要求 $B_1,...,B_N$。每次按下第 $i$ 个按钮，会使 $A_1$ 到 $A_i$ 的每个元素增加 $1$。求使所有 $A_i$ 成为 $B_i$ 的倍数所需的最小操作次数。

**算法分类**：贪心

---

## 题解分析与结论

### 核心思路
1. **逆序处理**：由于后续按钮会影响前面的元素，采用从后往前的处理顺序确保已处理的元素不受后续操作影响。
2. **数学计算**：维护累计操作次数 `sum`，当前元素需要增加的操作次数为 `(B[i] - (A[i]+sum) % B[i]) % B[i]`。
3. **数据类型**：使用 64 位整型防止溢出。

### 优质题解推荐

#### 题解1：Level_Down（5星）
**亮点**：
- 通过样例直观解释逆序处理的必要性
- 代码清晰，维护累加器 `t` 与答案 `ans` 分离
- 明确注释了长整型的重要性

```cpp
long long n,a[100005],b[100005],ans,t;
for(int i = n; i >= 1; i--) {
    a[i] += t; 
    if (a[i] % b[i] != 0) {
        t += b[i] - (a[i] % b[i]);
        ans += b[i] - (a[i] % b[i]);
    }
}
```

#### 题解2：zjyqwq（4星）
**亮点**：
- 公式推导简洁，直接给出数学表达式
- 强调逆序循环的重要性
- Pascal 代码展示不同语言实现

```pascal
for i:=n downto 1 do
   s:=s+(b[i]-(a[i]+s)mod b[i]) mod b[i];
```

#### 题解3：Zhouyc2009（4星）
**亮点**：
- 明确公式推导过程 `ans = (b[i] - (a[i]+sum) % b[i]) % b[i]`
- 代码简洁，变量命名清晰

```pascal
inc(sum, (b[i] - (a[i]+sum) mod b[i]) mod b[i]);
```

---

### 关键技巧总结
- **逆序思维**：处理具有前向依赖的问题时，逆序操作可消除后效性
- **数学优化**：直接计算余数差，避免逐个枚举
- **累加器设计**：用单一变量维护累计操作次数，避免重复计算

---

### 同类题目推荐
1. [P1106 删数问题](https://www.luogu.com.cn/problem/P1106)（贪心、逆序决策）
2. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)（贪心、优先队列）
3. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)（贪心、排序策略）

---
处理用时：75.70秒
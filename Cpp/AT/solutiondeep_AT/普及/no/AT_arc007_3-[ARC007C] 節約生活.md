# 题目信息

# [ARC007C] 節約生活

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc007/tasks/arc007_3

 高橋君は有料の衛星放送を見ようとしています。有料衛星放送はお金を払わないと見ることが出来ませんが、高橋君はその契約を行なっていません。  
 しかし、有料衛星放送はどのような内容を放送しているか視聴者がわかるように、無料でも視聴可能な時間が定期的に存在し、視聴可能な時間とできない時間が交互に繰り返されます。このような視聴可能な時間とそうでない時間を視聴パターンと呼ぶことにします。  
 視聴パターンは `o` と `x` から成り立っており、図 $ 1 $ で示すように視聴可能な時間を `o` の個数、視聴できない時間を `x` の個数で表しています。

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_arc007_3/c5eb5a21de826083a4af9ac1eec2edaa30369137.png)図 $ 1 $:視聴パターンの例(入力は10文字以下なので、この入力はテストに存在しません)

 

 一度テレビを点けると途切れることなくこの視聴パターンが繰り返される。また、テレビは一度点けると消すことはできません。  
 高橋君は複数のテレビを点けるタイミングをずらして並行して利用することで、無料でも常にいずれかのテレビで視聴ができる方法を思いつきました。  
 例えば図 $ 1 $ の視聴パターンの場合は図 $ 2 $ で示すように $ 5 $ 分後にもう $ 1 $ 台テレビを点ければ常に視聴ができます。  ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_arc007_3/517dbd3c013b729576e4fa4fb70355deef1c50c3.png)図 $ 2 $:$ 2 $ 台のテレビで常に視聴する例

 

 その場合高橋君が用意しなければいけない最低限のテレビの台数を答えなさい。  
 なお、必要なテレビを全て点け終えるまでの間には視聴できない時間があっても構いませんが、全てのテレビを点けてからは常にいずれかのテレビで視聴ができないといけません。  
 入力は以下の形式で標準入力から与えられる。 > $ c_0c_1 $‥‥$ c_{N-1} $

- 入力は $ 1 $ 行のみで視聴パターンを表す長さ $ N(1≦N≦10) $ の文字列が与えられる。
- 視聴パターンは `o` と `x` から成り、$ i+1(0≦i≦N-1) $ 番目の文字 $ c_i $ はテレビを点けてから $ i $ 分から $ i+1 $ 分の間はテレビが以下の状態であることを意味する。 
  - `o`:視聴可能である。
  - `x`:視聴できない。
- 視聴パターンは少なくとも $ 1 $ つの `o` を含む。
- テレビは最初にテレビをつけてから $ j(j\ : $正の整数) 分後にのみ点けることができる。



 常にいずれかのテレビが視聴可能であるために用意しなければいけないテレビの台数の最小値を標準出力に $ 1 $ 行で出力せよ。  
 必要なテレビを全て点け終えるまでの間は視聴できない時間があっても構わないが、全てのテレビを点けてからは常にいずれかのテレビが視聴できないといけない。  
 なお、最後には改行を出力せよ。 ```

oxoxx
```

 ```

3
```

- 以下の図のタイミングでテレビを点けることで $ 3 $ 台のテレビで常に視聴ができます。

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_arc007_3/0ec6f675c53f19a2dd17db5988b73005b245d24c.png)

 ```

oxxxxoooo
```

 ```

2
```

- $ 1 $ 台目のテレビを点けてから $ 4 $ 分目に $ 2 $ 台目のテレビを点けることで $ 1 $ 分目から $ 5 $ 分目直前までは視聴が不可能だが、$ 5 $ 分目以降は視聴が可能になります。
 
```

ox
```

 ```

2
```

- $ 1 $ 台目のテレビを点けてから $ 1 $ 分後に $ 2 $ 台目のテレビを点けることで $ 2 $ 台で視聴可能です。
 
```

o
```

 ```

1
```

- 視聴パターンに視聴できない時間が含まれない場合もあります。
 
```

xxxoxo
```

 ```

4
```

# AI分析结果



# [ARC007C] 節約生活

## 题目描述

高桥君想观看付费卫星电视，但未签约。该电视有定期免费时段，由交替的`o`（可观看）和`x`（不可观看）组成的循环模式。高桥君通过在不同时间开启多台电视，使得所有电视开启后，任何时刻至少有一台可观看。求所需电视的最小数量。

### 输入格式
- 输入为一个长度 $N(1\le N\le10)$ 的字符串，表示循环模式。

### 输出格式
- 输出所需电视的最小数量。

### 样例
#### 输入1：`oxoxx`
#### 输出1：`3`

#### 输入2：`oxxxxoooo`
#### 输出2：`2`

---

## 算法分类
**枚举**

---

## 解题思路
### 核心逻辑
将问题转化为集合覆盖问题：每个电视的启动时间对应模式的一个偏移量（余数），预处理每个余数能覆盖的时间点，通过枚举组合找到能覆盖所有时间点的最小电视数量。

### 关键步骤
1. **预处理掩码**：计算每个偏移量对应的覆盖掩码（二进制表示）。
2. **枚举组合**：从1到N枚举可能的电视数量，检查是否存在组合的掩码或运算覆盖所有时间点。

### 解决难点
- **循环模式处理**：通过模运算将无限循环转化为有限余数覆盖。
- **高效覆盖判断**：利用位运算快速验证组合的覆盖能力。

---

## 参考代码
```python
c = input().strip()
n = len(c)
mask = [0] * n

# 预处理每个偏移量对应的覆盖掩码
for d in range(n):
    for r in range(n):
        pos = (r - d) % n
        if c[pos] == 'o':
            mask[d] |= 1 << r

target = (1 << n) - 1

# 枚举可能的电视数量
from itertools import combinations
for k in range(1, n + 1):
    for comb in combinations(range(n), k):
        total = 0
        for d in comb:
            total |= mask[d]
            if total == target:  # 提前终止
                break
        if total == target:
            print(k)
            exit()
```

---

## 拓展练习
1. **[P1464 Function](https://www.luogu.com.cn/problem/P1464)**  
   考察递归与记忆化搜索，类似枚举优化。
2. **[P1036 选数](https://www.luogu.com.cn/problem/P1036)**  
   组合枚举与质数判断的结合应用。
3. **[P1706 全排列问题](https://www.luogu.com.cn/problem/P1706)**  
   全排列生成，熟悉组合枚举的实现。

---
处理用时：263.16秒
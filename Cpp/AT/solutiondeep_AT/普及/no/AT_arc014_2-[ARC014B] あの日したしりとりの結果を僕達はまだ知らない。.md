# 题目信息

# [ARC014B] あの日したしりとりの結果を僕達はまだ知らない。

## 题目描述

高桥君会分身之术。

今天高桥君想做个单词接龙，但是不巧附近没有朋友，所以决定分身出一个自己来陪自己完。

为了方便起见，高桥君将原本就存在的高桥君称为高桥君。

那么，高桥君和高桥分身君充分享受了单词接龙的乐趣，可悲的是，因为他们不知道单词接龙的规则，所以无法分出胜负。

可是这样的事怎么能忍?

于是高桥君们决定录下自己的发言以得到说过的单词的清单。

单词接龙的规则极其简单。只是遵循以下条件说单词:

1.当前词的开头字母是上一个词的结尾字母。(第一个单词不限)

2.不能使用曾经使用过的单词。

先违反这个规则的一方就输了,所以请你帮高桥君们来判定比赛的胜负。

# AI分析结果



### 题目内容重写
[ARC014B] 那日我们所进行的接龙结果仍未知晓

**题目描述**  
高桥君掌握了分身之术。某日他想进行单词接龙，但身边无人，便用分身创造另一个自己共同游戏。接龙规则如下：  
1. 当前词的首字母须与前一词的尾字母相同（首词不限）  
2. 禁止重复使用单词  
违反规则的一方立即判负。请根据给定的单词列表，判定游戏的胜负结果（高桥君先手）。

---

### 算法分类  
**字符串处理 + 模拟**

---

### 题解对比与关键结论  
**核心难点**：  
1. 单词重复性检测的高效实现  
2. 首尾字母连续性判断  
3. 回合奇偶性决定胜负的逻辑  

**最优思路**：  
- 使用 ```set/unordered_map``` 实现O(1)重复检测  
- 动态维护前一词尾字母  
- 在输入时即时判断违规，避免存储全部单词  

---

### 高星题解推荐  
#### 1. 666DHG 题解（★★★★☆）  
**亮点**：  
- 使用 ```set``` 实现高效去重  
- 简洁的回合奇偶性判断逻辑  
- 边读入边处理，节省内存  

**关键代码**：  
```cpp
set<string> Say; // 记录已使用单词
string last;     // 维护前一词尾字母

for (int i=2; i<=n; i++) {
    getline(cin, now);
    if (now[0] != last.back()) return Print(i); // 首尾不连续
    if (Say.find(now) != Say.end()) return Print(i); // 重复
    Say.insert(now);
    last = now; // 更新尾字母
}
```

#### 2. AveMarina 题解（★★★★☆）  
**亮点**：  
- 特殊处理第一个单词的边界条件  
- 使用 ```set``` 与尾字母分离存储  
- 代码结构清晰易读  

**调试心得**：  
> "第一个单词需要特殊处理，因为它没有前驱词。初始值设为特殊字符串避免误判"

#### 3. soho_andy 题解（★★★★☆）  
**亮点**：  
- 利用 ```map<string, bool>``` 简化重复判断  
- 合并违规条件的逻辑判断  
- 极简代码风格  

**代码片段**：  
```cpp
map<string, bool> m; // 判重字典
char c;             // 前一词尾字母

if (i!=1 && c!=s[0] || m[s]) { // 违规条件合并判断
    printf(i%2 ? "LOSE" : "WIN");
    return 0;
}
```

---

### 关键技巧总结  
1. **数据结构选择**：集合（set/map）实现O(1)重复检测优于暴力遍历  
2. **即时处理**：在输入时同步判断违规，无需存储全部单词  
3. **边界处理**：首个单词无前驱需特殊处理  
4. **回合判定**：奇偶性直接对应玩家身份  

---

### 拓展练习  
1. [P1308 统计单词数](https://www.luogu.com.cn/problem/P1308) - 字符串匹配与位置处理  
2. [P5587 打字练习](https://www.luogu.com.cn/problem/P5587) - 模拟输入与实时判断  
3. [P1012 拼数](https://www.luogu.com.cn/problem/P1012) - 字符串排序与拼接规则  

---

### 题解心得摘录  
- **BlueDone**：强调AtCoder平台必须换行输出，否则会判错  
- **666DHG**：提醒 ```set.find()``` 需与 ```set.end()``` 比较判断存在性  
- **AveMarina**：初始尾字母设为非常规值（"1919810"）避免首词误判

---
处理用时：62.69秒
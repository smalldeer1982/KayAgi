# 题目信息

# [ARC019B] こだわりの名前

## 题目描述

给定一个字符串 $A$（仅包含大写字母），求出 $A$ 修改一个字符后**不是**回文串的情况有多少种。

## 说明/提示

$1 \le |A| \le 3 \times 10^5$。

样例解释：
- 样例 1：如果修改第一个字符，那么有 $24$ 种改法（除了字符串是`CRC`的情况其他全部）；如果修改第二个字符，有 $25$ 种改法；如果修改第三个字符，有 $24$ 种改法（除了字符串是`ARA`的情况其他全部），总共有 $24 + 25 + 24 = 73$ 种。
- 样例 2：只有 $1$ 个字符，无论怎么改都是回文串。

## 样例 #1

### 输入

```
ARC```

### 输出

```
73```

## 样例 #2

### 输入

```
S```

### 输出

```
0```

## 样例 #3

### 输入

```
NOLEMONNOMELON```

### 输出

```
350```

# AI分析结果



# [ARC019B] こだわりの名前

## 题目描述

给定一个字符串 $A$（仅包含大写字母），求出 $A$ 修改一个字符后**不是**回文串的情况有多少种。

## 说明/提示

$1 \le |A| \le 3 \times 10^5$。

样例解释：
- 样例 1：如果修改第一个字符，那么有 $24$ 种改法（除了字符串是`CRC`的情况其他全部）；如果修改第二个字符，有 $25$ 种改法；如果修改第三个字符，有 $24$ 种改法（除了字符串是`ARA`的情况其他全部），总共有 $24 + 25 + 24 = 73$ 种。
- 样例 2：只有 $1$ 个字符，无论怎么改都是回文串。

## 样例 #1

### 输入

```
ARC```

### 输出

```
73```

## 样例 #2

### 输入

```
S```

### 输出

```
0```

## 样例 #3

### 输入

```
NOLEMONNOMELON```

### 输出

```
350```

---

**算法分类**：字符串

---

### 题解综合分析

题目核心是统计修改一个字符后不形成回文的情况数。关键在于：
1. **对称对数目分析**：计算原字符串中不对称的字符对数目（记为 $m$）。
2. **分类讨论**：
   - 若 $m=0$（原字符串是回文）：奇数长度时中间字符修改必成回文（25种情况），其他情况无法形成新回文。
   - 若 $m=1$：存在两种修改方式使对称对匹配，形成回文。
   - 若 $m>1$：无法通过单次修改形成回文。

### 最优思路总结
1. **计算对称对数目** $m$，时间复杂度 $O(n)$。
2. 根据 $m$ 的取值和字符串奇偶性，直接计算需排除的回文情况数。
3. 最终答案 = 总修改数 $n \times 25$ - 回文情况数。

### 推荐题目
1. [P1217 [USACO1.5] 回文质数](https://www.luogu.com.cn/problem/P1217)
2. [P1435 [IOI2000] 回文字串](https://www.luogu.com.cn/problem/P1435)
3. [P1659 [国家集训队] 拉拉队排练](https://www.luogu.com.cn/problem/P1659)

---

### 核心代码实现
```python
n = len(A)
m = 0
for i in range(n // 2):
    if A[i] != A[n - 1 - i]:
        m += 1

total = n * 25
if m == 0:
    if n % 2 == 1:
        total -= 25  # 中间字符修改必成回文
else:
    total -= 2 if m == 1 else 0

print(total)
```

---
处理用时：246.51秒
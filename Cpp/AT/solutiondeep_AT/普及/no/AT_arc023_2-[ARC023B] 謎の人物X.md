# 题目信息

# [ARC023B] 謎の人物X

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc023/tasks/arc023_2

高橋君は謎の人物Xに連れ去られてしまい、謎の施設に閉じ込められてしまいました。この施設の床には $ R $ 行 $ C $ 列 のマス目が書かれていて、それぞれのマスには $ 1 $ つずつ数字が書かれています。高橋君はこのマス目の $ 1 $ 行目の $ 1 $ 列目のマスにいます。

長い時間閉じ込められていたので、高橋君はお腹が減ってきました。謎の人物Xによると、「隣のマスに移動する」ということをちょうど $ D $ 回行った後に高橋君がいるマスに書いてある数字と同じ値段のたこ焼きを用意してくれるそうです。あるマスの「隣のマス」とは、そのマスと辺を共有するマスのことを指します。高橋君は出来るだけ値段の高いたこ焼きが食べたいと思ったので、最大でいくらのたこ焼きを食べることが出来るかを考えることにしました。

## 说明/提示

### 部分点

この問題には部分点が設定されている。

- $ R\ ≦\ 100 $ かつ $ C\ ≦\ 100 $ かつ $ D\ ≦\ 200 $ を満たすテストケースすべてに正解した場合は $ 60 $ 点が与えられる。

### Sample Explanation 1

ちょうど $ 1 $ 回移動することで行くことが出来るマスは、$ 1 $ 行目の $ 2 $ 列目のマスか $ 2 $ 行目の $ 1 $ 列目のマスだけです。このケースでは、高橋君は最大で $ 5 $ 円のたこ焼きを食べることが出来ます。

### Sample Explanation 2

このケースでは、高橋君はどのように移動しても $ 999 $ 円のたこ焼きを食べることが出来ます。

### Sample Explanation 3

このケースでは、高橋君はどのように移動しても $ 198 $ 円のたこ焼きしか食べることが出来ません。

## 样例 #1

### 输入

```
3 2 1

9 5

3 1

8 9```

### 输出

```
5```

## 样例 #2

### 输入

```
4 4 100

999 999 999 999

999 999 999 999

999 999 999 999

999 999 999 999```

### 输出

```
999```

## 样例 #3

### 输入

```
3 4 5

700 198 700 198

198 700 198 700

700 198 700 198```

### 输出

```
198```

# AI分析结果



# [ARC023B] 謎の人物X

## 题目描述

高桥君被神秘人物X带走并关在一个画有 $ R $ 行 $ C $ 列网格的设施中。每个网格都有一个数字。高桥君初始位于第 $ 1 $ 行第 $ 1 $ 列的网格。

高桥君想要在恰好进行 $ D $ 次相邻移动后，所在网格的数字尽可能大。相邻移动指每次移动到上下左右相邻的网格。求他最终能获得的最大数字值。

**算法分类**：数学

---

## 题解综合分析

### 核心思路
1. **曼哈顿距离约束**：从起点到目标点 $(i,j)$ 的曼哈顿距离必须 $\le D$（即 $i+j-2 \le D$）
2. **奇偶性匹配**：曼哈顿距离的奇偶性必须与 $D$ 的奇偶性一致（等价于 $i+j$ 的奇偶性与 $D$ 相同）
3. **在线处理**：在读入每个网格时直接判断是否满足条件，维护最大值

### 最优题解（评分≥4星）

#### 题解作者：olegekei（★★★★★）
**关键亮点**：
- 直接利用位运算判断奇偶性，代码极其简洁
- 在读入时实时判断条件，空间复杂度 $O(1)$
- 处理流程清晰，无冗余操作

**核心代码**：
```cpp
cin>>n>>m>>d;
int f=d&1;
for(int i=1,x;i<=n;i++){
    for(int j=1;j<=m;j++){
        cin>>x;
        if(((i+j&1)==f)&&(i+j-2<=d)) maxn=max(maxn,x);
    }
}
cout<<maxn<<'\n';
```

---

### 关键技巧总结
1. **奇偶性快速判断**：`d&1` 代替 `d%2`，`(i+j)&1` 代替 `(i+j)%2`
2. **在线处理思想**：无需存储整个矩阵，边读入边判断
3. **曼哈顿距离转换**：$i+j-2$ 表示起点到 $(i,j)$ 的初始步数

---

### 同类题目推荐
1. [P1219 八皇后](https://www.luogu.com.cn/problem/P1219) - 路径约束与状态判断
2. [P1141 01迷宫](https://www.luogu.com.cn/problem/P1141) - 可达性分析与奇偶性
3. [P1036 选数](https://www.luogu.com.cn/problem/P1036) - 组合条件下的极值问题

---

### 个人心得摘录
- 作者_zby_提到被换行符坑过，AT题库需注意输出格式
- olegekei强调代码简洁性对竞赛的重要性
- 多组样例分析有助于发现奇偶性规律

---
处理用时：77.09秒
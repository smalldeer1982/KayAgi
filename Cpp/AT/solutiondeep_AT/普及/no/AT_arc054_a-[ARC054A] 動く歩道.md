# 题目信息

# [ARC054A] 動く歩道

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc054/tasks/arc054_a

高梁空港には、周長 $ L $ の円形の動く歩道があり、その床面は $ 1 $ 秒間に距離 $ X $ 進む速度で時計回りに動いています。 動く歩道のある円周上の点の位置は、その中で最も北にある点から時計回りに測った距離 ( $ 0 $ 以上 $ L $ 未満) であらわされます。 動く歩道の外周の位置 $ D $ の点には出口があり、そこから動く歩道の外に出ることができるようになっています。 それ以外の外周と内周には手すりがあるため、高橋君は出口以外の場所から外に出ることはできません。

高橋君は動く歩道の床面に対して $ 1 $ 秒間に距離 $ Y $ 進む速度で時計回りまたは反時計回りに歩くことができ、動く歩道上の位置 $ S $ の点に乗っています。

高橋君が出口にたどり着くまでにかかる最小の時間を求めてください。

なお、出口の $ 1 $ 箇所しかない動く歩道にわざわざ乗るような物好きな人は高橋君以外にはいないので、動く歩道を逆走しても誰にも迷惑をかけることはありません。

## 说明/提示

### 制約

- $ 1\ ≦\ L,X,Y\ ≦\ 10^9,\ 0\ ≦\ S,D\ ≦\ L-1 $
- 入力はすべて整数である。

### Sample Explanation 1

時計回りに歩き続けると $ 0.8 $ 秒で出口にたどり着くことができます。

### Sample Explanation 2

反時計回りに歩き続けると $ 0.25 $ 秒で出口にたどり着くことができます。

## 样例 #1

### 输入

```
6 2 3 1 5```

### 输出

```
0.8000000000```

## 样例 #2

### 输入

```
6 2 10 1 5```

### 输出

```
0.2500000000```

## 样例 #3

### 输入

```
6 3 1 5 3```

### 输出

```
1.0000000000```

## 样例 #4

### 输入

```
10 7 7 6 0```

### 输出

```
0.2857142857```

# AI分析结果



# [ARC054A] 動く歩道

## 题目描述

高梁机场有一个周长为 $L$ 的圆形自动人行道，其地面以每秒 $X$ 米的速度顺时针移动。自动人行道上某点的位置用从最北点顺时针测量的距离（$0$ 到 $L-1$）表示。出口位于位置 $D$，高桥君从位置 $S$ 出发，可以以每秒 $Y$ 米的速度顺时针或逆时针行走。求他到达出口的最短时间。

### 输入格式
输入包含五个整数：$L, X, Y, S, D$。

### 输出格式
输出最小时间，保留10位小数。

### 说明
- 当行走方向与自动人行道同向时，有效速度为 $X+Y$
- 当逆方向行走时，有效速度为 $Y-X$（仅当 $Y>X$ 时可行）

---

**算法分类**：数学（运动学问题）

**核心思路**：  
将问题分解为顺时针和逆时针两种移动方式。计算两种方向的路径长度和有效速度，特别注意逆时针移动仅在 $Y>X$ 时有效。最终取两种移动方式的最小时间。

---

### 精选题解分析

#### 题解作者：dabenBbx（★★★★★）
**关键亮点**：  
1. 明确区分 $D>S$ 和 $D\leq S$ 两种位置关系，分别计算顺时针和逆时针路径。
2. 正确处理逆时针移动的条件判断（$Y>X$）。
3. 代码清晰，输出格式规范。

**核心代码**：
```cpp
if(d>s){
    d1 = d - s; // 顺时针距离
    d2 = s + l - d; // 逆时针距离
    if(y > x) ans = min((double)d1/(x+y), (double)d2/(y-x));
    else ans = (double)d1/(x+y);
} else {
    d2 = s - d; // 逆时针距离
    d1 = d + l - s; // 顺时针距离
    if(y > x) ans = min((double)d1/(x+y), (double)d2/(y-x));
    else ans = (double)d1/(x+y);
}
```

---

### 关键技巧总结
1. **环形距离计算**：通过模运算或条件判断处理环形路径长度。
2. **速度叠加模型**：明确相对运动方向的速度合成规则。
3. **条件优化**：仅在可行范围内计算逆时针路径时间。

---

### 拓展练习
1. [P1007 独木桥](https://www.luogu.com.cn/problem/P1007)（相对运动问题）
2. [P2695 骑士的工作](https://www.luogu.com.cn/problem/P2695)（环形路径覆盖）
3. [CF1114E Arithmetic Progression](https://www.luogu.com.cn/problem/CF1114E)（数学建模与优化）

---
处理用时：131.01秒
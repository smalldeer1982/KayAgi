# 题目信息

# [ARC054B] ムーアの法則

## 题目描述

原题网址:[link](https://atcoder.jp/contests/arc054/tasks/arc054_b)



高橋君对塔卡哈什曼函数感兴趣。高桥君想计算$T（334）$的值（$T$表示塔卡哈什曼函数[译者注:可能是暗示了哈克曼函数:`Ackermann`，可能是解题方法的暗示]），但由于现代计算机需要$P$年，所以很难计算。

高橋君几乎放弃了一半的计算，知道了世界上有摩尔法则这个法则。根据摩尔法则，我们发现计算机的速度是每$1.5$年翻倍的速度，呈指数增长。

更准确地说，$x$年后计算机的速度将是现代的$2^{x/1.5}$倍。

高桥君想通过在适当的时机开始计算，并尽快结束$T（334）$的计算。当然，因为在计算过程中不能改变计算机，所以计算结束之前的时间是（开始计算之前的时间）+（开始计算时的计算机计算$T（334）$所需的时间）。

请计算结束前的最短时间$m$。

## 说明/提示

- $0<P\leqslant10^{18}$  
- $P$是实数，保留小数点后$4$位输出。

## 样例 #1

### 输入

```
3.0000```

### 输出

```
2.8708930019```

## 样例 #2

### 输入

```
0.0400```

### 输出

```
0.0400000000```

## 样例 #3

### 输入

```
1000000000000000000.0000```

### 输出

```
90.1855078128```

# AI分析结果



[题目内容中文翻译]  
# [ARC054B] 摩尔定律  

## 题目描述  
高桥君对塔卡哈什曼函数感兴趣。由于现代计算机需要P年才能计算T(334)的值，他发现了摩尔定律：计算机速度每1.5年翻倍，即x年后的速度为现在的2^(x/1.5)倍。要求找到最佳开始计算时机，使得总时间（等待时间+计算时间）最短。  

**算法分类**：三分  

---

**题解分析与结论**  
所有题解均采用三分法求解凸函数极值。核心公式为总时间函数f(x) = x + P/(2^(x/1.5))，该函数在定义域内呈现先减后增的凸性，可通过三分法快速定位最小值点。题解差异主要在于初始区间设定（0~P或0~1e18）和代码细节处理，本质思路完全一致。  

---

**精选题解**  
1. **topcsa（4星）**  
   **关键亮点**：  
   - 明确注释精度控制的重要性，避免浮点误差  
   - 代码结构清晰，函数封装规范  
   **代码核心**：  
   ```cpp
   double func(double x) {
       return x + p / pow(2, x / 1.5);
   }
   // 三分循环部分
   while (r - l > 1e-10) {
       double mid1 = (2 * l + r) / 3;
       double mid2 = (l + 2 * r) / 3;
       if (func(mid1) < func(mid2)) r = mid2;
       else l = mid1;
   }
   ```

2. **Like_Amao（4星）**  
   **关键亮点**：  
   - 初始区间设为0~1e18，覆盖极大值场景  
   - 采用现代C++输入输出流，避免格式错误  
   **代码核心**：  
   ```cpp
   double f(double x) {
       return x + n / pow(2, x/1.5);
   }
   // 三分过程
   while(right-left>1e-10) {
       double middle1 = (2*left+right)/3, middle2 = (left+right*2)/3;
       if(f(middle1)<f(middle2)) right = middle2;
       else left = middle1;
   }
   ```

---

**最优思路总结**  
- **函数凸性证明**：通过求导可得f'(x)=1 - (P·ln2/1.5)·2^(-x/1.5)，导函数单调递增，证明原函数为凸函数  
- **三分实现技巧**：  
  - 初始右边界设为max(P, 1e18)以覆盖所有情况  
  - 使用1e-10作为终止条件保证9位有效数字精度  
  - 最终输出取(l+r)/2的中点值  

---

**相似题目推荐**  
1. [P3382] 三分模板 - 三维函数求极值  
2. [CF1355E] 成本平衡问题（三分法+数学推导）  
3. [ABC130F] 最小距离问题（几何三分应用）  

---

**题解心得摘录**  
- "精度！精度！精度！重要的事情说三遍，不能直接 l <= r，这是 double，会有精度问题" —— 强调浮点比较的陷阱  
- "刚开始计算时，速度呈指数级下降，开始时间变化小，形成先降后升趋势" —— 对函数形态的直观理解  
- "将右边界设为1e18时，要确保pow运算不会溢出" —— 数值范围的考量

---
处理用时：106.78秒
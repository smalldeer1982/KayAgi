# 题目信息

# [ARC059D] アンバランス

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc059/tasks/arc059_b

文字列 $ t $ について、$ t $ の長さが $ 2 $ 以上であり、かつ $ t $ の中の文字のうち過半数が同じ文字であるとき、$ t $ を*アンバランス*であると呼ぶことにします。例えば、`voodoo` や `melee` はアンバランスであり、`noon` や `a` はアンバランスではありません。

小文字のアルファベットからなる文字列 $ s $ が与えられます。$ s $ にアンバランスな (連続する) 部分文字列が存在するか判定してください。存在する場合は、$ s $ の中でそのような部分文字列が存在する位置を一つ示してください。

## 说明/提示

### 制約

- $ 2\ ≦\ |s|\ ≦\ 10^5 $
- $ s $ は小文字のアルファベットのみからなる。

### 部分点

- $ 2\ ≦\ |s|\ ≦\ 100 $ を満たすデータセットに正解した場合は、$ 200 $ 点が与えられる。

### Sample Explanation 1

文字列 $ s_2\ s_3\ s_4\ s_5 $ $ = $ `eede` はアンバランスな文字列です。他にもアンバランスな部分文字列は存在し、例えば `2 6` と出力しても正解となります。

### Sample Explanation 2

文字列 `atcoder` はアンバランスな部分文字列を持ちません。

## 样例 #1

### 输入

```
needed```

### 输出

```
2 5```

## 样例 #2

### 输入

```
atcoder```

### 输出

```
-1 -1```

# AI分析结果



# [ARC059D] アンバランス

## 题目描述

对于字符串 $ t $，若其长度不小于 2 且其中存在某个字符的出现次数超过总长度的一半，则称 $ t $ 为*不平衡*字符串。例如 `voodoo` 和 `melee` 是不平衡的，而 `noon` 和 `a` 不是。

给定由小写字母组成的字符串 $ s $，请判断其是否存在不平衡的连续子串。若存在，输出任意一个符合条件的子串的起始和结束位置（索引从 1 开始）。

## 说明/提示

### 约束
- $ 2 \leq |s| \leq 10^5 $
- $ s $ 仅包含小写字母

### 样例解释
样例1中的子串 `eede` 是不平衡的，但更优解是输出更短的子串如 `2 6`。样例2中不存在任何不平衡子串。

### 算法分类
贪心

---

## 题解综合分析

所有题解均基于以下核心观察：若存在满足条件的子串，则必然存在长度为2或3的满足条件的子串。这一结论的数学依据是：对于任何更长的满足条件的子串，必定包含相邻重复字符或间隔重复字符的情况。因此只需检查这两种情况即可实现线性复杂度。

### 精选题解

#### 1. cq_loves_Capoo（⭐⭐⭐⭐⭐）
**核心思路**：  
直接遍历检查每个字符与其后一个（长度2）、后两个字符（长度3）是否相同。发现即输出，否则最终输出-1。
```cpp
for(int i=0; i<s.length(); i++) {
    if(s[i]==s[i+1]) {  // 检查相邻
        cout<<i+1<<" "<<i+2;
        return 0;
    }
    if(s[i]==s[i+2]) {  // 检查隔位
        cout<<i+1<<" "<<i+3;
        return 0;
    }
}
```
**亮点**：代码简洁高效，时间复杂度O(n)完美处理1e5数据规模。

#### 2. tZEROちゃん（⭐⭐⭐⭐）
**核心思路**：  
将问题形式化为寻找XX或XYX型子串，通过数学推导证明这是充要条件。
```python
for i in range(n - 1):
    if s[i] == s[i + 1]:  # 优先检查长度2
        print(i + 1, i + 2)
        exit()
for i in range(n - 2):
    if s[i] == s[i + 2]:  # 再检查长度3
        print(i + 1, i + 3)
        exit()
```
**亮点**：通过形式化证明增强解法可信度，多语言实现展示算法通用性。

#### 3. 智子·起源（⭐⭐⭐）
**个人心得**：  
"最初只检查相邻字符导致WA，补充隔位检查后AC。说明要考虑所有可能的最简情况。"

---

## 关键思路总结
**贪心策略**：将问题简化为检查长度2/3的子串，避免暴力枚举所有子串的O(n²)复杂度。  
**数学证明**：利用鸽巢原理证明更长的满足条件的子串必然包含这两种基本模式。  
**实现技巧**：遍历时优先检查相邻字符可提前终止，优化常数时间。

## 拓展练习
1. [P1125 笨小猴](https://www.luogu.com.cn/problem/P1125) - 字符串字符统计与质数判断
2. [P1012 拼数](https://www.luogu.com.cn/problem/P1012) - 贪心策略的字符串拼接
3. [P1739 表达式括号匹配](https://www.luogu.com.cn/problem/P1739) - 利用栈的贪心匹配思想

---
处理用时：43.14秒
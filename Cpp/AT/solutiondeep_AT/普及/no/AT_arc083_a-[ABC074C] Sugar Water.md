# 题目信息

# [ABC074C] Sugar Water

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc074/tasks/arc083_a

すぬけ君はビーカーに砂糖水を作ろうとしています。 最初ビーカーは空です。すぬけ君は以下の $ 4 $ 種類の操作をそれぞれ何回でも行うことができます。一度も行わない操作があっても構いません。

- 操作 1: ビーカーに水を $ 100A $ \[g\] 入れる。
- 操作 2: ビーカーに水を $ 100B $ \[g\] 入れる。
- 操作 3: ビーカーに砂糖を $ C $ \[g\] 入れる。
- 操作 4: ビーカーに砂糖を $ D $ \[g\] 入れる。

すぬけ君の実験環境下では、水 $ 100 $ \[g\] あたり砂糖は $ E $ \[g\] 溶けます。

すぬけ君はできるだけ濃度の高い砂糖水を作りたいと考えています。

ビーカーに入れられる物質の質量 (水の質量と砂糖の質量の合計) が $ F $ \[g\] 以下であり、 ビーカーの中に砂糖を溶け残らせてはいけないとき、 すぬけ君が作る砂糖水の質量と、それに溶けている砂糖の質量を求めてください。 答えが複数ある場合はどれを答えても構いません。

水 $ a $ \[g\] と砂糖 $ b $ \[g\] を混ぜた砂糖水の濃度は $ \frac{100b}{a\ +\ b} $ \[%\]です。 また、この問題では、砂糖が全く溶けていない水も濃度 $ 0 $ \[%\] の砂糖水と考えることにします。

## 说明/提示

### 制約

- $ 1\ ≦\ A\ <\ B\ ≦\ 30 $
- $ 1\ ≦\ C\ <\ D\ ≦\ 30 $
- $ 1≦\ E\ ≦\ 100 $
- $ 100A\ ≦\ F\ ≦\ 3,000 $
- $ A,\ B,\ C,\ D,\ E,\ F $ はすべて整数である。

### Sample Explanation 1

この入力例の状況では、水 $ 100 $ \\\[g\\\] あたり砂糖は $ 15 $ \\\[g\\\] 溶けます。 また、ビーカーに物質を $ 200 $ \\\[g\\\] まで入れることができます。 操作 1 と操作 3 を $ 1 $ 回ずつ行うことで $ 110 $ \\\[g\\\] の砂糖水を作ることができます。 また、これ以上濃度の高い砂糖水を作ることはできません。 たとえば、以下のような操作は条件を満たしません。 - 操作 1 と操作 4 を $ 1 $ 回ずつ行うと、ビーカーに砂糖が溶け残ってしまいます。 - 操作 2 を $ 1 $ 回と操作 3 を $ 3 $ 回行うと、ビーカーの中の物質の量が $ 200 $ \\\[g\\\] を超えてしまいます。

### Sample Explanation 2

ほかに、たとえば以下の出力も正解となります。 ``` 400 200 ``` 一方、以下の出力は不正解となります。 ``` 300 150 ``` なぜなら、砂糖が $ 150 $ \\\[g\\\] 溶けた $ 300 $ \\\[g\\\] の砂糖水を作るにはビーカーに水をちょうど $ 150 $ \\\[g\\\] 入れる必要がありますが、そのようなことは不可能だからです。

## 样例 #1

### 输入

```
1 2 10 20 15 200```

### 输出

```
110 10```

## 样例 #2

### 输入

```
1 2 1 2 100 1000```

### 输出

```
200 100```

## 样例 #3

### 输入

```
17 19 22 26 55 2802```

### 输出

```
2634 934```

# AI分析结果



# [ABC074C] Sugar Water 的中文翻译

## 题目描述

すぬけ君想用烧杯配制糖水。最初烧杯是空的。他可以进行以下四种操作任意次（可以有不执行的操作）：

- 操作1：加入100A克水
- 操作2：加入100B克水
- 操作3：加入C克糖
- 操作4：加入D克糖

实验环境下，每100克水最多溶解E克糖。要求：

1. 总质量（水+糖）≤ F克
2. 糖必须完全溶解

求能配制的糖水最大浓度时的总质量及糖量（多解任选其一）。

浓度公式：$\frac{100b}{a+b}\%$，其中a为水量，b为糖量。

## 说明/提示

### 数据范围
- 1 ≤ A < B ≤ 30
- 1 ≤ C < D ≤ 30
- 1 ≤ E ≤ 100
- 100A ≤ F ≤ 3000

---

**算法分类**：枚举

---

### 题解分析与结论

各题解主要分为暴力枚举和动态规划两种思路：
1. **暴力枚举**：四重循环枚举操作次数，直接计算所有可能组合，时间复杂度O((F/100A)²(F/C)²)，由于F≤3000，实际可行
2. **动态规划**：预处理可能的水量和糖量组合，再遍历求解最优解，复杂度更优
3. **数学优化**：通过扩展欧几里得算法预处理糖量组合，极大减少枚举次数

关键难点在于：
- 糖溶解条件的处理（水量的E%限制）
- 浮点精度问题（通过交叉相乘比较浓度）
- 枚举范围的优化（提前终止无效循环）

---

### 精选题解（评分≥4⭐）

#### 1. _Above_the_clouds_ 的暴力枚举（4⭐）
**亮点**：代码简洁，直观体现枚举思路，适合新手理解
```cpp
void check(long double x,long double y){
    if(x+y>f) return ;
    if(x*e<y*100) return ; // 溶解条件判断
    if(sum<=100*y/(x+y)) sum=100*y/(x+y),ans=x+y,ans2=y;
}
// 四重循环枚举所有操作次数
for(int i=0;i<=100;i++)  // 操作1次数
    for(int j=0;j<=100;j++)  // 操作2次数
        for(int k=0;k<=100;k++)  // 操作3次数
            for(int l=0;l<=100;l++)  // 操作4次数
                check(100*a*i+100*b*j,c*k+d*l);
```

#### 2. kkxacj 的DP解法（4⭐）
**亮点**：状态转移清晰，利用二维DP同时处理水和糖
```cpp
bool dp[3310][3310]; // 表示i克水j克糖是否可行
// DP状态转移
for(int i=0;i<=f;i++)
    for(int j=0;j+i<=f;j++){
        if(i>=b*100) dp[i][j] |= dp[i-b*100][j];
        if(i>=a*100) dp[i][j] |= dp[i-a*100][j];
        if(j>=c) dp[i][j] |= dp[i][j-c];
        if(j>=d) dp[i][j] |= dp[i][j-d];
        // 更新最优解
        if(e*i >= j*100 && dp[i][j])
            ... // 比较浓度
    }
```

#### 3. 0xyz 的数学优化（5⭐）
**亮点**：通过扩展欧几里得算法预处理糖量组合，时间复杂度O(F+AB)
```cpp
// 预处理每个质量i的最大可行糖量w[i]
exgcd(c,d,x,y); // 求解线性组合
for(int i=0;i<=f;i++){
    if(i%gcd) continue;
    // 调整系数使X,Y非负
    w[i] = 最大可行糖量; 
}
// 枚举水量组合，快速查询最大糖量
for(水组合){
    int k = min(溶解限制,剩余质量);
    int sugar = w[k]; // 直接取预处理的糖量
    // 比较浓度
}
```

---

### 关键优化技巧
1. **浓度比较避免浮点**：使用交叉相乘比较b1*(a2+b2) vs b2*(a1+b1)
2. **循环剪枝**：当总质量超过F时立即break内层循环
3. **预处理组合**：通过DP或数学方法预处理可行解空间

---

### 类似题目推荐
1. P1049 装箱问题（物品组合枚举）
2. P1616 疯狂的采药（完全背包问题）
3. P1877 [HAOI2012] 音量调节（可行性DP）

---

### 调试心得摘录
- "考试时因为没处理初始条件WA了两次，注意空烧杯的边界情况" —— 漠寒
- "暴力枚举时发现循环次数太多，加了j<=f/100B的优化后AC" —— WhxStar2024
- "浮点比较精度问题让我调了1小时，最后改用整数比较解决" —— zcr0202

---
处理用时：68.40秒
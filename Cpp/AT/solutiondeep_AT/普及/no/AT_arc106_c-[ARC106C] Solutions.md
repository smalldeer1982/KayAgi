# 题目信息

# [ARC106C] Solutions

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc106/tasks/arc106_c

$ 2 $ つの区間 $ [L_1:R_1],\ [L_2:R_2] $ について, $ L_1\ \leq\ R_2 $ かつ $ L_2\ \leq\ R_1 $ であるとき, この $ 2 $ つの区間が*交わる*と定義します。

以下の問題 $ P $ を考えます。

> 入力: $ N $ 個の区間 $ [L_1:\ R_1],\ \cdots,\ [L_N:R_N] $ $ L_1,\ L_2,\ \cdots,\ L_N,\ R_1,\ R_2,\ \cdots,\ R_N $は全て異なる。 出力: どの $ 2 $ つの区間も交わらないように選べる区間の最大数

高橋君は、以下のように動作するプログラムを実装しました。

> $ R_i $ の値が昇順となるように, 入力された区間を $ [L_{p_1}:R_{p_1}],\ [L_{p_2}:R_{p_2}],\ \cdots\ ,\ [L_{p_N}:R_{p_N}] $ と並び替える。 $ i\ =\ 1,\ 2,\ \cdots\ ,\ N $ について、以下を行う。 これまでに選んだどの区間とも交わらないならば、 $ [L_{p_i}:R_{p_i}] $ を選ぶ。 選んだ区間の数を出力する。

一方、青木君は、以下のように動作するプログラムを実装しました。

> $ L_i $ の値が昇順となるように, 入力された区間を $ [L_{p_1}:R_{p_1}],\ [L_{p_2}:R_{p_2}],\ \cdots\ ,\ [L_{p_N}:R_{p_N}] $ と並び替える。 $ i\ =\ 1,\ 2,\ \cdots\ ,\ N $ について、以下を行う。 これまでに選んだどの区間とも交わらないならば、 $ [L_{p_i}:R_{p_i}] $ を選ぶ。 選んだ区間の数を出力する。

整数 $ N,\ M $が与えられます。 $ N $ 個の区間から成る問題 $ P $ の入力であって、

$ $

(高橋君のプログラムが出力する値)\ -\ (青木君のプログラムが出力する値)\ =\ M $$

となるものを構築してください。

## 说明/提示

### 制約

- 入力は全て整数
- $ 1\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ -N\ \leq\ M\ \leq\ N $

### Sample Explanation 1

$ 5 $ つの区間を順に区間 $ 1 $ 、区間 $ 2 $ 、$ \cdots $ 、区間 $ 5 $ と名付けます。 高橋君のプログラムは以下のように動作します。 &gt; 区間を区間 $ 5 $ 、区間 $ 1 $ 、区間 $ 2 $ 、区間 $ 4 $ 、区間 $ 3 $ と並び替えます。 区間 $ 5 $ を選びます。 区間 $ 1 $ は選びません。(区間 $ 5 $ と交わっている為) 区間 $ 2 $ を選びます。 区間 $ 4 $ は選びません。 (区間 $ 2 $ と交わっている為) 区間 $ 3 $ を選びます。 以上より、高橋君のプログラムが出力する値は $ 3 $ となります。 青木君のプログラムは以下のように動作します。 &gt; 区間を区間 $ 1 $ 、区間 $ 5 $ 、区間 $ 2 $ 、区間 $ 4 $ 、区間 $ 3 $ と並び替えます。 区間 $ 1 $ を選びます。 区間 $ 5 $ は選びません。(区間 $ 1 $ と交わっている為) 区間 $ 2 $ は選びません。 (区間 $ 1 $ と交わっている為) 区間 $ 4 $ を選びます。 区間 $ 3 $ は選びません。 (区間 $ 4 $ と交わっている為) 以上より、青木君のプログラムが出力する値は $ 2 $ となります。 このとき、 $ 3\ -\ 2\ =\ 1\ \left(=\ M\ \right) $ であり、この $ 5 $ つの区間は条件を満たします。

## 样例 #1

### 输入

```
5 1```

### 输出

```
1 10

8 12

13 20

11 14

2 4```

## 样例 #2

### 输入

```
10 -10```

### 输出

```
-1```

# AI分析结果



【中文重述题目】

# [ARC106C] Solutions

## 题目描述

定义两个区间 $[L_1:R_1]$ 和 $[L_2:R_2]$ 的交：当 $L_1 \leq R_2$ 且 $L_2 \leq R_1$ 时，这两个区间相交。

问题 $P$：给定 $N$ 个互不重叠端点（所有 $L_i$ 和 $R_i$ 互异）的区间，求选出的互不相交区间的最大数量。

高桥的程序将区间按右端点升序排序后贪心选择；青木的程序将区间按左端点升序排序后贪心选择。给定 $N$ 和 $M$，构造一组区间使得两个程序的输出差恰好为 $M$。

## 算法分类
构造

---

### 题解综合分析

**核心思路**：  
构造一个极大区间包含 $M+1$ 个互不重叠的小区间，其余区间置于外部。高桥的算法（按右端点排序）会优先选择所有小区间和外部区间，而青木的算法（按左端点排序）会选择极大区间和外部区间，从而产生差值 $M$。

**关键难点**：  
1. **无解条件判定**：当 $M<0$ 或 $M \geq N-1$ 时无法构造。
2. **边界处理**：当 $N=1$ 时仅 $M=0$ 有解。
3. **区间构造技巧**：确保极大区间完全包含所有小区间，且外部区间互不相交。

---

### 精选题解

#### 题解1（Alvin0228）  
**评分**：⭐⭐⭐⭐  
**亮点**：  
- 明确处理了 $N=1$ 的特殊情况。
- 通过固定极大区间右端点为极大值（如 $10^6$），确保排序后优先处理小区间。  
**代码核心**：  
```cpp
cout<<"1 1000000"<<endl; // 极大区间
for (int i=0;i<m+1;i++)  // 生成 M+1 个小区间
    cout<<2+2*i<<" "<<2+2*i+1<<endl;
for (int i=0;i<n-m-2;i++) // 生成外部区间
    cout<<1000001+2*i<<" "<<1000001+2*i+1<<endl;
```

#### 题解2（loser_seele）  
**评分**：⭐⭐⭐  
**亮点**：  
- 简洁的构造逻辑，利用数学推导验证差值。  
**不足**：  
- 未显式处理 $N=1$ 的情况，可能导致边界错误。  
**代码核心**：  
```cpp
cout<<1<<' '<<(int)(1e8)<<'\n'; // 极大区间
for (int i=1;i<=m+1;i++)       // 小区间
    cout<<3*i+2<<' '<<3*i+3<<'\n';
for (int i=1;i<=n-m-2;i++)     // 外部区间
    cout<<(int)(2e8+3*i+1)<<' '<<(int)(2e8+3*i+2)<<'\n';
```

---

### 最优技巧总结
1. **极大区间包含法**：通过一个极大区间包裹 $M+1$ 个内部互不重叠的小区间，利用排序差异制造贪心策略的差值。
2. **无解条件公式化**：当且仅当 $M \in [0, N-2]$ 时有解。
3. **坐标离散化技巧**：使用等差数列或极大偏移量确保区间端点互异且不交。

---

### 类似题目推荐
1. [P1803 线段覆盖](https://www.luogu.com.cn/problem/P1803)（贪心排序基础）
2. [P2512 [HAOI2008] 糖果传递](https://www.luogu.com.cn/problem/P2512)（构造与数学结合）
3. [P1969 积木大赛](https://www.luogu.com.cn/problem/P1969)（差分构造思维）

---
处理用时：91.17秒
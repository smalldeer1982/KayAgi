# 题目信息

# [ARC128B] Balls of Three Colors

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc128/tasks/arc128_b

$ R $ 個の赤いボール，$ G $ 個の緑のボール，$ B $ 個の青いボールがあります． あなたは，以下の操作を好きな回数繰り返すことができます．

- 色の異なる $ 2 $ つのボールを選び，それら両方を残るもう一つの色のボールに変える．

例えば，赤いボールと青いボールを選んだ際は，それら両方を緑のボールに変えます．

あなたの目標は，すべてのボールを同じ色にすることです． 目標が達成可能であるか判定し，また可能であるなら，必要な操作回数の最小値を求めてください．

$ 1 $ つの入力ファイルにつき，$ T $ 個のテストケースを解いてください．

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 100 $
- $ 1\ \leq\ R,G,B\ \leq\ 10^8 $
- 入力される値はすべて整数である

### Sample Explanation 1

例えば，$ case_3 $ については，以下のように操作を行えばよいです． - 緑のボールと青いボールを選び，それら両方を赤いボールに変える - 赤いボールと青いボールを選び，それら両方を緑のボールに変える - 赤いボールと青いボールを選び，それら両方を緑のボールに変える - 赤いボールと青いボールを選び，それら両方を緑のボールに変える

## 样例 #1

### 输入

```
3

1 2 2

1 2 3

1 2 4```

### 输出

```
2

-1

4```

# AI分析结果



# [ARC128B] 三色球

## 题目描述

有 $R$ 个红球，$G$ 个绿球，$B$ 个蓝球。每次操作可以选择两个不同颜色的球，将它们都变为第三种颜色。例如选择红球和蓝球，则它们都会变成绿球。求将所有球变为同一颜色的最小操作次数，若无法达成输出 -1。

## 算法分类
数学

---

## 题解分析与结论

### 核心思路
所有题解均基于以下数学观察：
1. **模三特性**：每次操作使两数减一、一数加二，总差值变化为 ±3。因此两数的差值模 3 不变
2. **有解条件**：至少两数模 3 余数相同
3. **最小次数**：当两数满足模 3 条件时，操作次数等于两数的最大值（排序后的中间值或最大值）

### 最优题解

#### 1. Double_Light（⭐⭐⭐⭐⭐）
**关键亮点**：
- 通过排序快速定位余数相同的数对
- 直接取最大值作为答案，简洁高效
```cpp
sort(a+1,a+4);
if(a[1]%3==a[2]%3) x=a[1],y=a[2];
else if(a[1]%3==a[3]%3) x=a[1],y=a[3];
else x=a[2],y=a[3];
cout<<max(x,y);
```

#### 2. RioFutaba（⭐⭐⭐⭐）
**个人心得**：
- 通过样例分析差值的 3 倍特性
- 总次数公式化简为较大数的直观解释
```cpp
if(!((a[1]-a[0])%3)) y=a[1];
else if(...) 
printf("%d\n",y);
```

#### 3. ZXXS（⭐⭐⭐⭐）
**实现技巧**：
- 使用三数排序后的升序处理
- 差值模三判断与最小值更新
```cpp
sort(a,a+3);
if((a[2]-a[1])%3==0) minn=min(a[2],minn);
```

---

## 关键思路总结
1. **模三特性分析**：维护差值模三的数学性质
2. **排序优化**：排序后只需比较相邻元素余数
3. **直接取最大值**：满足条件的数对中较大者即为操作次数

---

## 类似题目推荐
1. [P1005 矩阵取数游戏](https://www.luogu.com.cn/problem/P1005) - 数学策略与极值分析
2. [P1031 均分纸牌](https://www.luogu.com.cn/problem/P1031) - 操作次数最小化
3. [P2118 比例简化](https://www.luogu.com.cn/problem/P2118) - 数学约束条件下的最优化

---
处理用时：62.41秒
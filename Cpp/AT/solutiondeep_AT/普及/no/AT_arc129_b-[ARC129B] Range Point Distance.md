# 题目信息

# [ARC129B] Range Point Distance

## 题目描述

对于一组整数 $l,r,x$，其中 $l \le r$，定义 $dist(l,r,x)$ 为：

- 若 $x < l$，则 $dist(l,r,x) = l - x$
- 若 $l \le x \le r$，则 $dist(l,r,x) = 0$
- 若 $x >r$，则 $dist(l,r,x) = x - r$ 

可以简要理解为 $x$ 在数轴上到区间 $[l,r]$ 的距离。

现在给定 $N$ 对整数，第 $i$ 对整数形如 $(L_i, R_i)$。对于 $k=1,2,\dots,N$，分别求解下面的问题：

- 自由选择一个整数 $x$，计算 $max_{i=1}^k dist(L_i,R_i,x)$，求其可能的最小值。

## 说明/提示

- $1 \le N \le 2 \times 10^5$
- $1 \le L_i \le R_i \le 10^9$
- 所有输入均为整数。

## 样例 #1

### 输入

```
3

1 3

2 4

5 6```

### 输出

```
0

0

1```

## 样例 #2

### 输入

```
10

64 96

30 78

52 61

18 28

9 34

42 86

11 49

1 79

13 59

70 95```

### 输出

```
0

0

2

18

18

18

18

18

18

21```

# AI分析结果



# [ARC129B] Range Point Distance

## 题目描述

对于一组整数 $l,r,x$，其中 $l \le r$，定义 $dist(l,r,x)$ 为：

- 若 $x < l$，则 $dist(l,r,x) = l - x$
- 若 $l \le x \le r$，则 $dist(l,r,x) = 0$
- 若 $x >r$，则 $dist(l,r,x) = x - r$ 

可以简要理解为 $x$ 在数轴上到区间 $[l,r]$ 的距离。

现在给定 $N$ 对整数，第 $i$ 对整数形如 $(L_i, R_i)$。对于 $k=1,2,\dots,N$，分别求解下面的问题：

- 自由选择一个整数 $x$，计算 $max_{i=1}^k dist(L_i,R_i,x)$，求其可能的最小值。

## 说明/提示

- $1 \le N \le 2 \times 10^5$
- $1 \le L_i \le R_i \le 10^9$
- 所有输入均为整数。

---

**算法分类**  
贪心

---

## 题解综合分析

各题解核心思路高度一致，均采用维护前k个区间最右左端点L和最左右端点R的策略。通过实时更新L=max(L_i)和R=min(R_i)，当L<=R时存在公共交集（答案0），否则取中点位置（答案⌈(L-R)/2⌉）。时间复杂度O(n)，空间复杂度O(1)。

---

## 优质题解推荐

### 题解1（五星）
**作者：chinazhanghaoxun**  
**亮点**：代码简洁优雅，变量命名直观，处理逻辑清晰  
**核心思路**：
```cpp
int n,L,R=INT_MAX;
int main() {
    cin>>n;
    for(int i=1,l,r;i<=n;i++) {
        cin>>l>>r;
        L = max(L,l);
        R = min(R,r);
        cout << (L <= R ? 0 : (L-R+1)/2) << "\n";
    }
}
```

### 题解2（五星）
**作者：nkrqzjc_zzz**  
**亮点**：详细推导数学原理，解释单调性特征  
**关键分析**：
> "答案排列一定单调不减，加入新区间只会扩大L或缩小R。当L>R时取中点最优，距离为⌈(L-R)/2⌉"

### 题解3（四星）
**作者：loser_seele**  
**亮点**：数学形式化表达严谨  
**公式推导**：
> 设最大左端点A_k，最小右端点B_k，答案即max(0,⌈(A_k-B_k)/2⌉)

---

## 核心技巧总结
1. **极值维护**：仅需跟踪最大左端点和最小右端点，无需处理中间区间
2. **分治思想**：将多区间问题转化为两关键点的极值问题
3. **数学优化**：中点距离公式通过整数除法实现上取整效果

---

## 拓展应用
类似需要维护极值的题目：
1. 滑动窗口最值（洛谷 P1886）
2. 区间覆盖问题（洛谷 P1714）
3. 最小可见区间（洛谷 P1638）

---

## 关键代码实现
```cpp
int main() {
    int n, L = -1e9, R = 1e9;
    cin >> n;
    while (n--) {
        int l, r; cin >> l >> r;
        L = max(L, l);  // 维护最大左端点
        R = min(R, r);  // 维护最小右端点
        cout << (L <= R ? 0 : (L - R + 1) / 2) << "\n";
    }
}
```

---
处理用时：41.35秒
# 题目信息

# [ARC131C] Zero XOR

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc131/tasks/arc131_c

机の上に $ N $ 枚のクッキーがあります。クッキーの表面にはそれぞれ正の整数 $ A_1,\ A_2,\ \dots,\ A_N $ が書かれており、これらはすべて異なります。

このクッキーを使って 2 人でゲームを行います。このゲームでは、各プレイヤーは次の行動を交互に行います。

> 机にあるクッキーを 1 枚選んで食べる。  
>  その際に、机に残ったクッキーに書かれた整数の $ \mathrm{XOR} $ が $ 0 $ になったならば、そのプレイヤーは勝利し、ゲームは終了する。

あなたは E869120 君に対戦を申し込みました。あなたは先手で、E869120 君は後手です。さて、両者が最適に行動したときに、あなたは E869120 君に勝ちますか？

  $ \mathrm{XOR} $ とは  整数 $ A,\ B $ のビット単位 XOR、$ A\ \mathrm{XOR}\ B $ は、以下のように定義されます。

- $ A\ \mathrm{XOR}\ B $ を二進表記した際の $ 2^k $ ($ k\ \geq\ 0 $) の位の数は、$ A,\ B $ を二進表記した際の $ 2^k $ の位の数のうち一方のみが $ 1 $ であれば $ 1 $、そうでなければ $ 0 $ である。
 
 例えば、$ 3\ \mathrm{XOR}\ 5\ =\ 6 $ となります (二進表記すると: $ 011\ \mathrm{XOR}\ 101\ =\ 110 $)。  
 一般に、$ k $ 個の整数 $ p_1,\ p_2,\ p_3,\ \dots,\ p_k $ のビット単位 XOR は $ (\dots\ ((p_1\ \mathrm{XOR}\ p_2)\ \mathrm{XOR}\ p_3)\ \mathrm{XOR}\ \dots\ \mathrm{XOR}\ p_k) $ と定義され、これは $ p_1,\ p_2,\ p_3,\ \dots\ p_k $ の順番によらないことが証明できます。特に $ k\ =\ 0 $ の場合、$ \mathrm{XOR} $ は $ 0 $ となります。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 400000 $
- $ 1\ \leq\ A_i\ \leq\ 10^9\ (1\ \leq\ i\ \leq\ N) $
- $ A_1,\ A_2,\ \dots,\ A_N $ はすべて異なる
- $ A_1,\ A_2,\ \dots,\ A_N $ の $ \mathrm{XOR} $ は $ 0 $ ではない
- 入力はすべて整数

### Sample Explanation 1

この例では、あなたがどんな方法を使っても、E869120 君が最適に行動し続ければ負けてしまいます。 例えば、最初に $ 11 $ が書かれたクッキーを食べるとしましょう。すると、次に E869120 君が $ 9 $ が書かれたクッキーを食べることで、残ったクッキーに書かれた数 $ 14,\ 3,\ 5,\ 8 $ の $ \mathrm{XOR} $ が $ 0 $ になるので、E869120 君が勝ちます。 それ以外の行動をとっても、最終的には E869120 君が勝ちます。

### Sample Explanation 2

この例では、あなたは最初のターンで $ 131 $ が書かれたクッキーを食べることしかできません。すると、机の上からクッキーがなくなるので、残ったクッキーに書かれた数の $ \mathrm{XOR} $ は $ 0 $ になります。したがって、E869120 君が何もできないまま、あなたが勝ちます。

## 样例 #1

### 输入

```
6

9 14 11 3 5 8```

### 输出

```
Lose```

## 样例 #2

### 输入

```
1

131```

### 输出

```
Win```

## 样例 #3

### 输入

```
8

12 23 34 45 56 78 89 98```

### 输出

```
Win```

# AI分析结果



# [ARC131C] Zero XOR 的题解

## 题目重述
桌上放置了 $ N $ 枚饼干，每枚饼干上写有不同正整数值。两人轮流选取饼干吃掉，若某次操作后剩余饼干的异或和为 0，则操作者获胜。判断先手在双方最优策略下是否能获胜。

## 标签
数学、位运算

## 题目分析
核心博弈策略基于异或运算的数学性质与奇偶性分析：
1. **奇数必赢**：当 $ N $ 为奇数时，先手可通过策略性操作将最后一步留给对方
2. **一步决胜**：若存在某饼干的值等于当前全体异或和，先手直接取该饼干获胜
3. **偶数必输**：当 $ N $ 为偶数且不满足条件2时，后手可继承奇数必胜策略

## 精选题解对比

### 题解1：loser_seele（★★★★☆）
**核心亮点**：
- 清晰区分奇偶情况，直接给出数学结论
- 代码简洁高效，时间复杂度 $ O(n) $
```cpp
int main() {
    int N, X=0, A[N];
    cin >> N;
    for(int i=0; i<N; i++) cin >> A[i], X ^= A[i];
    if(N%2) puts("Win");
    else {
        for(int x : A) if(x == X) return puts("Win"),0;
        puts("Lose");
    }
}
```

### 题解2：fish_love_cat（★★★★☆）
**核心亮点**：
- 分步推导错误思路与修正过程
- 强调测试样例验证的重要性
```cpp
int main() {
    int n, ans=0, x[400086];
    cin >> n;
    for(int i=0; i<n; i++) cin >>x[i], ans^=x[i];
    if(n%2) return cout<<"Win",0;
    for(int i=0; i<n; i++) 
        if(x[i]==ans) return cout<<"Win",0;
    cout<<"Lose";
}
```

## 关键思路
1. **全局异或和计算**：sum = A₁⊕A₂⊕...⊕Aₙ
2. **奇偶判断**：奇数直接必胜
3. **决胜检测**：sum ∈ {A₁,A₂,...Aₙ} → 一步取胜

## 同类题目推荐
1. [P1247 取火柴游戏](https://www.luogu.com.cn/problem/P1247)
2. [P2197 Nim游戏](https://www.luogu.com.cn/problem/P2197)
3. [P4101 人人尽说江南好](https://www.luogu.com.cn/problem/P4101)

## 调试经验
fish_love_cat 作者分享：
> 最初仅考虑奇偶性导致 WA，修正后加入一步决胜检测通过。调试时要特别注意特殊样例（如 n=1 和存在直接决胜点的情况）

---

通过深入理解异或运算的数学性质与博弈策略，此类问题可快速转化为数学判断问题。关键要抓住数值特征与操作次数的奇偶关系。

---
处理用时：53.13秒
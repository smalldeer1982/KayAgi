# 题目信息

# [ARC146A] Three Cards

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc146/tasks/arc146_a

$ N $ 枚のカードがあります。カードには $ 1 $ から $ N $ の番号がついています。

カード $ i $ には正整数 $ A_i $ が書かれています。

この中から $ 3 $ 枚のカードを選び、好きな順で書かれている整数を連結し新しく整数を作ります。例えば、$ 1,23,4 $ が書かれたカードを選んだとき、$ 1234 $ や $ 4231 $ を作ることができます。

作ることのできる整数の最大値を求めてください。

## 说明/提示

### 制約

- $ 3\ \le\ N\ \le\ 2\ \times\ 10^5 $
- $ 1\ \le\ A_i\ <\ 10^6 $
- 入力は全て整数である。

### Sample Explanation 1

$ 4,5,8 $ が書かれたカードを選んだ場合、$ 458,485,548,584,845,854 $ を作ることができます。 $ 855 $ 以上の整数を作ることはできないので解は $ 854 $ です。

## 样例 #1

### 输入

```
5

1 4 3 5 8```

### 输出

```
854```

## 样例 #2

### 输入

```
8

813 921 481 282 120 900 555 409```

### 输出

```
921900813```

# AI分析结果



# [ARC146A] Three Cards

## 题目描述

有 $ N $ 张卡片，编号为 $ 1 $ 到 $ N $。第 $ i $ 张卡片上写有正整数 $ A_i $。从中选择三张卡片，按任意顺序拼接其数字，组成一个整数。求能组成的最大整数。

例如，选数字为 $ 1,23,4 $ 的卡片，可以组成 $ 1234 $ 或 $ 4231 $ 等。

### 输入格式
- 第一行为整数 $ N $。
- 第二行为 $ N $ 个整数 $ A_1, A_2, \dots, A_N $。

### 输出格式
输出可能的最大整数。

### 说明/提示
- $ 3 \le N \le 2 \times 10^5 $
- $ 1 \le A_i < 10^6 $

**样例1解释**：选 4、5、8 时最大组合为 854。

**样例2解释**：组合为 921、900、813 时最大。

---

**算法分类**: 贪心、字符串排序

---

## 题解分析

### 核心思路
1. **字符串排序策略**：将数字转换为字符串后，按字典序降序排列。比较规则为：若 `a + b > b + a`，则 `a` 排在前面。
2. **候选选择**：取排序后的前4个元素，覆盖潜在的最优组合。
3. **排列枚举**：生成所有可能的三元组排列，比较拼接后的最大值。

### 解决难点
- **高效选择候选元素**：直接取前4个元素，避免全排列的超时问题。
- **字符串拼接比较**：确保不同长度和顺序的字符串组合的正确性。

---

## 最优题解

### 题解1（五星）
**关键亮点**：  
- 利用贪心策略选取前4候选元素，确保覆盖所有可能的最优组合。
- 通过全排列生成所有可能的拼接方式，保证不漏解。

**核心代码**：
```python
import sys
from itertools import permutations

n = int(sys.stdin.readline())
a = sys.stdin.readline().split()

a.sort(key=lambda x: x, reverse=True)
a.sort(key=lambda x: x * 10, reverse=True)  # 修正排序方式，实际应自定义比较

# 修正后的正确排序方式（需自定义比较函数）
def compare(x, y):
    if x + y > y + x:
        return -1
    else:
        return 1

a.sort(key=cmp_to_key(compare))
candidates = a[:4]

max_val = ""
for perm in permutations(candidates, 3):
    current = ''.join(perm)
    if len(current) > len(max_val) or (len(current) == len(max_val) and current > max_val):
        max_val = current

print(max_val)
```

**实现思路**：  
1. 将数字按拼接后的字典序降序排列。
2. 取前4个候选元素。
3. 生成所有三元排列，比较得到最大拼接值。

---

## 拓展与相似题目
1. **字符串拼接最大数**（类似LeetCode 179）：比较元素的拼接顺序。
2. **洛谷 P1012 [NOIP1998 提高组] 拼数**：直接应用字符串排序策略。
3. **洛谷 P1090 [NOIP2004 提高组] 合并果子**：贪心策略的变种。
4. **洛谷 P1249 最大数**：构造最大数的字符串处理技巧。

---
处理用时：239.23秒
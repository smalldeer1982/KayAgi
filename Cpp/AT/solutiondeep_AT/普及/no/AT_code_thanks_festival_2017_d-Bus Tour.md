# 题目信息

# Bus Tour

## 题目描述

[problemUrl]: https://atcoder.jp/contests/code-thanks-festival-2017/tasks/code_thanks_festival_2017_d

あなたはバスツアーを計画しています。

バスツアーの参加者は必ず $ 1 $ グループ $ N $ 人で申し込みます。運転手を除いた各バスの定員は必ず $ M $ 人です。  
 このバスツアーは、全ての参加者がバスに乗り切れるようなバスの最小台数で行います。   
 同じグループに属する人が必ずしも同じバスに乗り込む必要はありません。

このバスツアーに参加するグループ数には上限がないため、申し込みを締め切るまでバスツアーに参加するグループ数は分かりません。   
 したがって、参加者の申し込み具合によってはバスに空席が生じてしまいます。   
 最大で何席の空席ができるでしょうか?

## 说明/提示

### 制約

- $ 1≦N≦10^9 $
- $ 1≦M≦10^9 $
- $ N $ と $ M $ は整数である。

### Sample Explanation 1

申し込みが $ 1 $ グループだった場合、参加者 $ 5 $ 人に対して定員 $ 4 $ 名のバス $ 2 $ 台で バスツアーを行うため、$ 3 $ 席の空席が生じます。

### Sample Explanation 2

申し込みグループ数に関わらず、常にバスが満員である場合もあります。

## 样例 #1

### 输入

```
5 4```

### 输出

```
3```

## 样例 #2

### 输入

```
1000000 10```

### 输出

```
0```

## 样例 #3

### 输入

```
500000000 1000000000```

### 输出

```
500000000```

# AI分析结果



### 题目内容中文重写

#### 题目描述

你正在计划一次巴士旅行。每次报名必须为一个由 $N$ 人组成的团体。每辆巴士的定员为 $M$ 人（不含司机）。旅行将使用恰好能容纳所有参与者的最小巴士数量，同一团体的成员可以分散乘坐不同巴士。

由于报名团体数量不限，最终参加人数可能在报名截止前无法确定。因此，根据报名情况，巴士可能会出现空座。求最大可能的空席数量。

#### 输入格式

输入包含两个整数 $N$ 和 $M$。

#### 输出格式

输出最大可能的空席数量。

#### 样例

##### 样例1
输入：
```
5 4
```
输出：
```
3
```
解释：当有1个团体时，需要2辆巴士（总座位8个），空席3个。

##### 样例2
输入：
```
1000000 10
```
输出：
```
0
```

##### 样例3
输入：
```
500000000 1000000000
```
输出：
```
500000000
```

---

### 算法分类
**数学（裴蜀定理）**

---

### 题解分析与结论

#### 核心思路
1. **问题转换**：空席数等于巴士总座位数减去实际人数，最大空席对应总人数 $kN$ 模 $M$ 的特定余数。
2. **裴蜀定理应用**：$kN \mod M$ 的可能余数为 $\gcd(N,M)$ 的倍数，最大余值为 $(M-1)$ 范围内该倍数的最大值。
3. **公式推导**：最大空席数为 $\gcd(N,M) \times \left\lfloor \frac{M-1}{\gcd(N,M)} \right\rfloor$。

#### 最优题解摘录

##### 题解作者：Yizhixiaoyun（5星）
**关键亮点**：  
- 直接应用裴蜀定理将问题数学化，推导清晰简洁。  
- 代码实现高效，利用内置函数快速计算最大公约数。

**核心代码**：
```cpp
int gcd = __gcd(n, m);
printf("%d", (m-1)/gcd * gcd);
```

##### 题解作者：Inui_Sana（4星）
**关键亮点**：  
- 通过模运算等价转换问题，强化数学推导的直观性。  
- 代码风格简明，适合快速理解算法本质。

**核心代码**：
```cpp
int k = __gcd(n, m);
printf("%d", (m-1)/k * k);
```

##### 题解作者：EthanC_（4星）
**关键亮点**：  
- 详细注释解释每一步的逻辑，适合新手学习。  
- 处理大数时显式使用 `long long`，增强代码鲁棒性。

**核心代码**：
```cpp
long long g = __gcd(n, m);
cout << ((m-1)/g) * g;
```

---

### 关键技巧总结
1. **数学建模**：将实际问题转化为数论问题，利用模运算和最大公约数性质简化计算。
2. **裴蜀定理应用**：快速确定余数范围，避免枚举所有可能情况。
3. **代码优化**：直接使用 `__gcd` 函数（需 `<algorithm>` 头文件）简化实现。

---

### 拓展与相似题目
1. **裴蜀定理基础**：[P4549 【模板】裴蜀定理](https://www.luogu.com.cn/problem/P4549)  
2. **同余方程求解**：[P1082 [NOIP2012 提高组] 同余方程](https://www.luogu.com.cn/problem/P1082)  
3. **数学极值问题**：[P3951 [NOIP2017 提高组] 小凯的疑惑](https://www.luogu.com.cn/problem/P3951)

---
处理用时：111.75秒
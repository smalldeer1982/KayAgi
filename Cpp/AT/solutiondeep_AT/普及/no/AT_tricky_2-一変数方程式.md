# 题目信息

# 一変数方程式

## 题目描述

求解关于 $x$ 的方程 $ax^2 + bx + c=0$ 所有实数解。

## 说明/提示

$0 \le T \le 2\times 10^5 , -2^{31} \le a,b,c < 2^{31}$

Translated By @Ferm_Tawn

# AI分析结果



# 一変数方程式

## 题目描述

求解关于 $x$ 的方程 $ax^2 + bx + c=0$ 所有实数解。

## 说明/提示

$0 \le T \le 2\times 10^5 , -2^{31} \le a,b,c < 2^{31}$

Translated By @Ferm_Tawn

---

### 算法分类
数学

---

### 题解分析与结论
需分类讨论 $a=0$ 的退化情况，结合判别式计算实数根。核心难点在于处理退化方程、浮点精度控制及根的顺序输出。

---

### 高分题解精选

#### 1. 作者：nanatsuhi（⭐⭐⭐⭐⭐）
**核心亮点**：
- 处理系数符号统一简化比较
- 使用韦达定理避免精度损失
- 精确判断判别式零值（`fabs(d)<1e-9`）
- 输出保留12位小数

**代码实现思路**：
```cpp
if(a == 0) {
    // 处理一次方程情况
} else {
    if(a < 0) a = -a, b = -b, c = -c; // 统一符号
    double d = b*b - 4.0*a*c;
    if(fabs(d) < 1e-9) printf("1 %.12f\n", -b/2.0/a);
    else if(d < 0) puts("0");
    else {
        // 根据b符号选择计算顺序避免精度误差
        if(b > 0) x = (-b-sqrt(d))/2/a, y = c*1.0/a/x;
        else y = (-b+sqrt(d))/2/a, x = c*1.0/a/y;
        printf("2 %.12f %.12f\n", x, y);
    }
}
```

---

#### 2. 作者：云浅知处（⭐⭐⭐⭐）
**核心亮点**：
- 完整数学推导流程
- 明确分类讨论所有退化情况
- 拓展韦达定理等数学知识

**关键思路**：
- 当 $a=0$ 时分为 $b=0$ 和 $b≠0$ 两类
- 详细推导判别式与实数根关系
- 强调输出重根时的处理方式

---

### 最优技巧总结
1. **退化处理**：当 $a=0$ 时转化为一次方程，需特判 $b=0$ 的情况
2. **精度控制**：使用相对误差判断判别式零值（`fabs(delta)<1e-9`）
3. **计算优化**：通过韦达定理 $x_1x_2=c/a$ 减少开平方次数，避免大数相减导致精度损失
4. **输出规范**：保留12位小数并按升序输出两个根

---

### 拓展练习
1. [CF20B - Equation](https://www.luogu.com.cn/problem/CF20B) 同类方程求解
2. [P1024 - 一元三次方程求解](https://www.luogu.com.cn/problem/P1024) 更高次方程处理
3. [P1051 - 复数乘法](https://www.luogu.com.cn/problem/P1051) 复数运算基础

---
处理用时：74.90秒
# 题目信息

# Row of Tents

## 题目描述

[problemUrl]: https://atcoder.jp/contests/utpc2020/tasks/utpc2020_a

 UT 大学にはテント列というサークル紹介イベントがあります。長さ $ L $ の道があり、 umg くんは位置 $ 0 $ から位置 $ L $ まで一方通行で歩きます。 umg くんには気力というパラメータがあり、その初期値を $ T $ とします。ここで、$ T $ は整数値とします。 umg くんは、距離 $ 1 $ 歩くごとに、気力が $ T $ 未満である場合は 気力が $ 1 $ 回復します。気力が $ T $ である場合は回復しません。

道上には $ N $ 個のテントがあり、$ i $ 番目のテントは位置 $ X_i $ にあります。 umg くんは $ i $ 番目のテントに着くとサークル勧誘にあい、気力が $ A_i $ 減少します。もしここで気力が $ 0 $ 未満になると、 umg くんはその場で倒れてしまいます。

 umg くんが途中で倒れずに位置 $ L $ までたどり着くのに必要な、気力の初期値 $ T $ の最小値を求めてください。

## 说明/提示

### 制約

- 入力は全て整数である。
- $ 1\ \leq\ N\ \leq\ 2\times\ 10^5 $
- $ N\ \lt\ L\ \leq\ 10^9 $
- $ 0\lt\ X_1\ \lt\ X_2\ \lt\ \cdots\ \lt\ X_N\ \lt\ L $
- $ 1\ \leq\ A_i\ \leq\ 10^9\ (1\leq\ i\ \leq\ N) $

### Sample Explanation 1

気力の初期値 $ T=6 $ でスタートした場合は以下のような気力の変動になります。 - $ 1 $ 番目のテントにたどり着いて気力が $ 5 $ 減少し、気力が $ 1 $ になる。 - $ 2 $ 番目のテントにたどり着くまでに気力が $ 3 $ 回復し、気力が $ 4 $ になる。 - $ 2 $ 番目のテントにたどり着いて気力が $ 4 $ 減少し、気力が $ 0 $ になる。 - 位置 $ 7 $ にたどり着くまでに気力が $ 3 $ 回復し、気力 $ 3 $ の状態でテント列を終える。 気力の初期値 $ T=5 $ でスタートすると、$ 2 $ 番目のテントで気力が $ 0 $ 未満になってしまうので、答えは $ 6 $ となります。

## 样例 #1

### 输入

```
2 7

1 5

4 4```

### 输出

```
6```

## 样例 #2

### 输入

```
8 11

2 6

3 10

4 8

5 7

7 7

8 1

9 9

10 2```

### 输出

```
42```

# AI分析结果



# Row of Tents 中文翻译

## 题目描述

UT 大学有一个名为"帐篷列"的社团介绍活动。在长度为 $L$ 的道路上，umg 君从位置 $0$ 单向走到位置 $L$。umg 君的初始气力为 $T$（整数），每走 1 单位距离，若当前气力小于 $T$ 则恢复 1，达到 $T$ 后不再恢复。道路上有 $N$ 个帐篷，第 $i$ 个帐篷在位置 $X_i$，经过时会减少 $A_i$ 气力。若气力变为负数则失败。求能成功到达终点的最小初始气力 $T$。

### 输入格式
- 第一行两个整数 $N, L$
- 接下来 $N$ 行每行两个整数 $X_i, A_i$

### 输出格式
- 最小初始气力值 $T$

## 算法分类
二分

---

## 题解对比与结论

### 最优题解

#### 1. CultReborn 的题解（5星）
**核心思路**：  
二分答案框架，通过检查函数模拟行进过程。维护当前气力值，每次移动后不超过初始值，在帐篷处扣除气力后判断是否合法。

**关键代码**：
```cpp
bool check(LL T0) {
    LL now = T0;
    for (int i = 1; i <= n; ++i) {
        LL dx = x[i] - x[i-1];
        now = min(T0, now + dx); // 恢复但不能超过初始值
        now -= a[i];
        if (now < 0) return false;
    }
    return true;
}
```

#### 2. A_grasser 的题解（4星）
**亮点**：  
详细讲解二分应用场景，提供完整二分模板，包含位运算优化和边界处理技巧。

**个人心得**：  
"二分的单调性类似于老师的气愤阈值，一旦超过就会触发结果，这种类比帮助理解二分本质。"

#### 3. chl090410 的题解（4星）
**优化点**：  
通过预计算总消耗量确定二分上界，降低无效搜索范围。

---

## 关键思路总结
1. **二分答案框架**：利用答案单调性，将问题转化为判定性问题
2. **气力恢复机制**：通过坐标差计算恢复量，用 `min(T, current + distance)` 确保不超过上限
3. **时间复杂度控制**：O(N log ΣA_i) 的复杂度可处理大范围数据

---

## 类似题目推荐
1. [P2678 跳石头](https://www.luogu.com.cn/problem/P2678) - 经典二分答案
2. [P4343 自动刷题机](https://www.luogu.com.cn/problem/P4343) - 二分答案应用
3. [P2920 Time Management](https://www.luogu.com.cn/problem/P2920) - 带时间约束的二分

---

## 调试心得摘录
"初始将右边界设为 ΣA_i 后发现不够大，需要包含位置差的影响。最终采用最大可能消耗量作为上界确保覆盖所有情况。" —— 来自 chl090410 的调试经验

---
处理用时：191.55秒
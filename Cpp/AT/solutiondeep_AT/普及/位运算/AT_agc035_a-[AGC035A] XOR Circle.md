# 题目信息

# [AGC035A] XOR Circle

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc035/tasks/agc035_a

すぬけ君は $ N $ 枚の帽子を持っています。$ i $ 枚目の帽子には整数 $ a_i $ が書かれています。

$ N $ 頭のラクダが円環状に並んでいます。 すぬけ君はそれぞれのラクダに $ 1 $ 枚の帽子を被せようとしています。

どのラクダについても以下の条件が成立するような帽子の被せ方が存在するならば `Yes` を、そうでなければ `No` を出力してください。

- 両隣のラクダが被っている帽子に書かれた数のビットごとの排他的論理和が自身の被っている帽子に書かれた数と等しい
 
ビットごとの排他的論理和について $ n $ 個の非負整数 $ x_1,x_2,\ \ldots,\ x_n $ の排他的論理和 $ x_1\ \oplus\ x_2\ \oplus\ \ldots\ \oplus\ x_n $ は以下のように定義されます。

- $ x_1\ \oplus\ x_2\ \oplus\ \ldots\ \oplus\ x_n $ を二進表記した際の $ 2^k(k\ \geq\ 0) $ の位の数は $ x_1,x_2,\ \ldots,\ x_n $ のうち、二進表記した際の $ 2^k(k\ \geq\ 0) $ の位の数が $ 1 $ となるものの個数が奇数ならば $ 1 $、そうでなければ $ 0 $ となる。
 
 例えば、$ 3\ \oplus\ 5\ =\ 6 $ となります。

## 说明/提示

### 制約

- 入力は全て整数
- $ 3\ \leq\ N\ \leq\ 10^{5} $
- $ 0\ \leq\ a_i\ \leq\ 10^{9} $

### Sample Explanation 1

\- $ 1,2,3 $ が書かれた帽子を時計回りに被せたとき、どのラクダも問題文中の条件を満たすため、答えは `Yes` となります。

### Sample Explanation 2

\- そのような被せ方は存在しません。よって、答えは `No` となります。

## 样例 #1

### 输入

```
3

1 2 3```

### 输出

```
Yes```

## 样例 #2

### 输入

```
4

1 2 4 8```

### 输出

```
No```

# AI分析结果

【题目内容（中文重写）】
# [AGC035A] XOR 环

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc035/tasks/agc035_a

苏努克（すぬけ君）有 $N$ 顶帽子。第 $i$ 顶帽子上写有整数 $a_i$。

有 $N$ 头骆驼围成一圈。苏努克打算给每头骆驼戴一顶帽子。

如果存在一种给骆驼戴帽子的方式，使得每头骆驼都满足以下条件，则输出 `Yes`，否则输出 `No`。

- 相邻两头骆驼所戴帽子上的数字的按位异或和等于这头骆驼自己所戴帽子上的数字。

按位异或和的定义如下：对于 $n$ 个非负整数 $x_1,x_2,\ \ldots,\ x_n$，它们的按位异或和 $x_1\ \oplus\ x_2\ \oplus\ \ldots\ \oplus\ x_n$ 定义为：
- 将 $x_1\ \oplus\ x_2\ \oplus\ \ldots\ \oplus\ x_n$ 写成二进制形式时，$2^k(k\ \geq\ 0)$ 位上的数字为 $1$ 当且仅当 $x_1,x_2,\ \ldots,\ x_n$ 中写成二进制形式时 $2^k(k\ \geq\ 0)$ 位上的数字为 $1$ 的个数为奇数，否则为 $0$。

例如，$3\ \oplus\ 5\ =\ 6$。

## 说明/提示

### 限制条件
- 输入的所有值均为整数。
- $3\ \leq\ N\ \leq\ 10^{5}$
- $0\ \leq\ a_i\ \leq\ 10^{9}$

### 样例解释 1
- 当按顺时针方向给骆驼戴上写有 $1$、$2$、$3$ 的帽子时，每头骆驼都满足题目中的条件，因此答案为 `Yes`。

### 样例解释 2
- 不存在满足条件的戴帽子方式。因此，答案为 `No`。

## 样例 #1

### 输入
```
3
1 2 3
```

### 输出
```
Yes
```

## 样例 #2

### 输入
```
4
1 2 4 8
```

### 输出
```
No
```

【综合分析与结论】
- **思路对比**：两位作者都从条件 $a_i=a_{i - 1}\oplus a_{i + 1}$ 出发，推导出每三个数存在相等关系，且 $n$ 需能被 $3$ 整除，同时都考虑到了全为 $0$、三个不同数且异或关系成立、两个数且其中一个为 $0$ 这三种可能情况。不同的是，约瑟夫用脑玩使用 `map` 统计数字出现次数，而 Alvin0228 先对数组排序再统计。
- **算法要点**：约瑟夫用脑玩的算法要点在于利用 `map` 统计数字出现次数，通过遍历 `map` 来判断是否满足条件；Alvin0228 的算法要点是先排序，然后手动统计最多三个不同数字的出现次数，再根据不同情况判断。
- **解决难点**：本题的难点在于找出所有可能满足条件的情况，两位作者都通过对异或性质的推导和分析，全面考虑了各种特殊情况，如全为 $0$、两个数且其中一个为 $0$ 等，避免了遗漏。

【题解评分】
- 约瑟夫用脑玩：3星。思路有一定的深度，但代码可读性较差，部分变量未明确含义，且使用 `exit` 函数影响代码结构。
- Alvin0228：3星。思路清晰，代码结构较清晰，但存在一些注释不详细的问题，且 `long long` 数组的使用在本题中可能不是必需的。

【通用建议与扩展思路】
- **关键思路或技巧**：对于此类涉及异或运算和环形结构的问题，可以先对给定条件进行数学推导，找出元素之间的内在关系，然后根据这些关系分析可能出现的情况，最后通过合适的数据结构（如 `map` 或排序）来统计和判断。
- **拓展思路**：同类型题目可能会改变环形结构的条件，或者改变运算规则（如改为加法、乘法等），解题时可以先从数学角度分析元素之间的关系，再结合数据结构进行统计和判断。

【推荐题目】
- [P1161 开灯](https://www.luogu.com.cn/problem/P1161)：考察异或运算的基本性质。
- [P2158 [SDOI2008] 仪仗队](https://www.luogu.com.cn/problem/P2158)：涉及数学推导和环形结构的思想。
- [P1464 Function](https://www.luogu.com.cn/problem/P1464)：需要对函数关系进行推导和分析，与本题的思路有一定相似性。

【个人心得】
- 约瑟夫用脑玩：“这题不看题解的话可能考虑不全，如果像我一样一直不看题解也就 WA 个十次”，说明本题需要全面考虑各种情况，否则容易出错。
- Alvin0228：“因为没赋初值 WA 了十几次”，提醒我们在编程时要注意变量的初始化，避免因小错误导致多次错误提交。

---
处理用时：36.69秒
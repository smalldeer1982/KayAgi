# 题目信息

# [ARC174B] Bought Review

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc174/tasks/arc174_b

$ T $ 個のテストケースについて、次の問題に答えてください。

グルメレビューサイトである EatCocoder では、レストランに $ 1 $ 以上 $ 5 $ 以下の整数個の星を付けてレビューすることができます。  
 最初、B料理長の経営するレストランには、星 $ i $ のレビューが $ A_i $ 件付いています。 $ (1\ \le\ i\ \le\ 5) $  
 B料理長は EatCocoder の運営に $ P_i $ 円の賄賂を渡すことで、星 $ i $ のレビューを $ 1 $ 件追加してもらえます。 $ (1\ \le\ i\ \le\ 5) $

賄賂によってレビューを全部で $ k $ 件追加したとき、最終的なレビューは合計で $ A_1+A_2+A_3+A_4+A_5+k $ 件になります。  
 B料理長はこれらのレビューの平均評価を星 $ 3 $ 以上にしたいと考えています。これを達成するために必要な賄賂の合計金額の最小値を求めてください。

## 说明/提示

### 制約

- 入力は全て整数
- $ 1\ \le\ T\ \le\ 10^4 $
- $ 0\ \le\ A_i\ \le\ 10^8 $
- $ 1\ \le\ A_1+A_2+A_3+A_4+A_5 $
- $ 1\ \le\ P_i\ \le\ 10^8 $
 
### Sample Explanation 1

この入力には $ 6 $ 個のテストケースが含まれています。 - $ 1 $ 個目のテストケースについて、例えば以下のようにすると $ 5 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 1,0,1,0,0 $ 件付いています。 - $ P_5\ =\ 5 $ 円の賄賂を渡し、星 $ 5 $ のレビューを $ 1 $ 件追加させます。 - その結果、星 $ 1,2,3,4,5 $ のレビューが $ 1,0,1,0,1 $ 件となり、これらの平均は星 $ 3 $ です。 - $ 2 $ 個目のテストケースについて、例えば以下のようにすると $ 2 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 0,2,2,0,0 $ 件付いています。 - $ P_4\ \times\ 2\ =\ 2 $ 円の賄賂を渡し、星 $ 4 $ のレビューを $ 2 $ 件追加させます。 - その結果、星 $ 1,2,3,4,5 $ のレビューが $ 0,2,2,2,0 $ 件となり、これらの平均は星 $ 3 $ です。 - $ 3 $ 個目のテストケースについて、例えば以下のようにすると $ 3 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 0,1,2,0,0 $ 件付いています。 - $ P_5\ =\ 3 $ 円の賄賂を渡し、星 $ 5 $ のレビューを $ 1 $ 件追加させます。 - その結果、星 $ 1,2,3,4,5 $ のレビューが $ 0,1,2,0,1 $ 件となり、これらの平均は星 $ 3.25 $ です。 - $ 4 $ 個目のテストケースについて、例えば以下のようにすると $ 2 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 1,1,1,0,0 $ 件付いています。 - $ P_4\ =\ 1 $ 円の賄賂を渡し、星 $ 4 $ のレビューを $ 1 $ 件追加させます。 - $ P_5\ =\ 1 $ 円の賄賂を渡し、星 $ 5 $ のレビューを $ 1 $ 件追加させます。 - その結果、星 $ 1,2,3,4,5 $ のレビューが $ 1,1,1,1,1 $ 件となり、これらの平均は星 $ 3 $ です。 - $ 5 $ 個目のテストケースについて、例えば以下のようにすると $ 0 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 0,0,0,0,1 $ 件付いています。 - これらの平均は星 $ 5 $ でありこれは既に $ 3 $ 以上であるため、賄賂を全く渡しません。 - $ 6 $ 個目のテストケースについて、答えが $ 32 $bit 符号付き整数に収まらないこともあります。

## 样例 #1

### 输入

```
6

1 0 1 0 0

1 2 3 4 5

0 2 2 0 0

1 1 1 1 5

0 1 2 0 0

1 1 1 5 3

1 1 1 0 0

1 1 1 1 1

0 0 0 0 1

1 1 1 1 1

100000000 100000000 100000000 0 0

100000000 100000000 100000000 100000000 100000000```

### 输出

```
5

2

3

2

0

15000000000000000```

# AI分析结果

### 题目内容重写

$ T $ 个测试用例，每个测试用例包含以下内容：

在美食评论网站 EatCocoder 上，你可以给餐厅打 $1$ 到 $5$ 星的评分。  
最初，由厨师长 B 管理的餐厅有 $A_i$ 条 $i$ 星评价。（$1 \leq i \leq 5$）  
厨师长 B 可以通过向 EatCocoder 管理部门支付 $P_i$ 元来增加一条 $i$ 星评价。（$1 \leq i \leq 5$）

通过增加 $k$ 条评价后，总评价数为 $A_1 + A_2 + A_3 + A_4 + A_5 + k$ 条。  
厨师长 B 希望这些评价的平均评分至少为 $3$ 星。  
求达到这一目标所需的最小贿赂金额。

### 综合分析与结论

该问题的核心是通过贪心策略，选择增加 $4$ 星或 $5$ 星评价，以最小的成本提升平均评分。所有题解都围绕这一思路展开，但部分题解在实现细节和代码可读性上表现更好。

### 所选高质量题解

#### 1. 作者：bishenke_2008 (4星)
**关键亮点**：
- 详细推导了贪心策略的数学基础，清晰解释了为什么只选择 $4$ 星和 $5$ 星评价。
- 代码结构清晰，分类讨论全面，考虑了所有可能的情况。

**个人心得**：
- 作者在推导过程中强调了贪心的合理性，并通过数学公式证明了策略的正确性。

**核心代码**：
```cpp
int least = 2 * a[1] + a[2] - a[4] - 2 * a[5];
if (least <= 0) {
    cout << 0 << '\n';
    continue;
}
int ans;
if (p[4] * 2 <= p[5]) {
    ans = least * p[4];
} else if (least % 2 == 0) {
    ans = least * p[5] / 2;
} else {
    ans = min((least / 2 + 1) * p[5], least / 2 * p[5] + p[4]);
}
cout << ans << '\n';
```

#### 2. 作者：whrwlx (4星)
**关键亮点**：
- 代码简洁，直接通过比较 $4$ 星和 $5$ 星的性价比来选择最优策略。
- 使用 `min` 函数简化了分类讨论的代码。

**核心代码**：
```cpp
int cnt = 3 * (a[1] + a[2] + a[3] + a[4] + a[5]);
int sum = a[1] + 2 * a[2] + 3 * a[3] + 4 * a[4] + 5 * a[5];
if (sum >= cnt) {
    cout << 0 << endl;
    continue;
}
int ne = cnt - sum;
int ans = min(ne * p[4], (ne + 1) / 2 * p[5]);
if (ne % 2 == 1) {
    ans = min(ans, ne / 2 * p[5] + p[4]);
}
cout << ans << endl;
```

#### 3. 作者：Double_Light (4星)
**关键亮点**：
- 通过数学推导简化了问题，直接计算需要增加的星数，并通过贪心策略选择最优方案。
- 代码逻辑清晰，易于理解。

**核心代码**：
```cpp
int k = 2 * a[1] + a[2] - a[4] - 2 * a[5];
if (k <= 0) {
    cout << 0 << endl;
    continue;
}
int ans = k * p[4];
if (k % 2 == 0) {
    ans = min(ans, k / 2 * p[5]);
} else {
    ans = min(ans, (k / 2 + 1) * p[5]);
    ans = min(ans, k / 2 * p[5] + p[4]);
}
cout << ans << endl;
```

### 最优关键思路总结
1. **贪心策略**：只选择增加 $4$ 星或 $5$ 星评价，因为增加 $1$ 星、$2$ 星或 $3$ 星评价无法提升平均评分。
2. **数学推导**：通过不等式推导出需要增加的星数，并比较 $4$ 星和 $5$ 星评价的性价比。
3. **分类讨论**：根据需要增加的星数的奇偶性，选择最优的增加方案。

### 可拓展之处
- 类似问题可以扩展到其他评分系统，如 $10$ 分制或百分制，贪心策略依然适用。
- 可以进一步优化算法，考虑更多约束条件，如预算限制或评价数的上限。

### 推荐题目
1. [P1008 三连击](https://www.luogu.com.cn/problem/P1008) - 考察贪心与数学推导。
2. [P1012 拼数](https://www.luogu.com.cn/problem/P1012) - 贪心策略的应用。
3. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020) - 贪心与动态规划的结合。

---
处理用时：45.38秒
# 题目信息

# [ARC183A] Median of Good Sequences

## 题目描述

给定正整数 $N,K$ ，如果一个长度为 $NK$ 的序列中 $1$ 以上 $N$ 以下的整数分别出现了 $K$ 次，则称这个序列为良好序列，设有 $S$ 个良好序列，则输出按字典序从小到大第  floor $((S+1)/2)$ 个良好序列。其中， floor $(x)$ 表示不超过 $x$ 的最大整数。

## 说明/提示

#### 约束

 $1≤N≤500$ 

 $1≤K≤500$ 

输入的所有值均为整数

#### 示例解释1

 $6$ 个良好序列如下：
 $(1,1,2,2)$ 
 $(1,2,1,2)$ 
 $(1,2,2,1)$ 
 $(2,1,1,2)$
 $(2,1,2,1)$
 $(2,2,1,1)$ 
 
因此，按字典顺序排列的第 $3$ 个良好序列 $(1,2,2,1)$ 就是答案。

## 样例 #1

### 输入

```
2 2```

### 输出

```
1 2 2 1```

## 样例 #2

### 输入

```
1 5```

### 输出

```
1 1 1 1 1```

## 样例 #3

### 输入

```
6 1```

### 输出

```
3 6 5 4 2 1```

## 样例 #4

### 输入

```
3 3```

### 输出

```
2 2 2 1 3 3 3 1 1```

# AI分析结果

### 题目内容重写

#### 题目描述

给定正整数 $N,K$，如果一个长度为 $NK$ 的序列中 $1$ 以上 $N$ 以下的整数分别出现了 $K$ 次，则称这个序列为良好序列。设有 $S$ 个良好序列，则输出按字典序从小到大第 $\lfloor (S+1)/2 \rfloor$ 个良好序列。其中，$\lfloor x \rfloor$ 表示不超过 $x$ 的最大整数。

#### 说明/提示

##### 约束

$1 \leq N \leq 500$

$1 \leq K \leq 500$

输入的所有值均为整数

##### 示例解释1

$6$ 个良好序列如下：

$(1,1,2,2)$

$(1,2,1,2)$

$(1,2,2,1)$

$(2,1,1,2)$

$(2,1,2,1)$

$(2,2,1,1)$

因此，按字典顺序排列的第 $3$ 个良好序列 $(1,2,2,1)$ 就是答案。

### 题解分析与结论

#### 综合分析

本题的核心在于如何高效地找到字典序中位数序列。由于直接生成所有序列并排序的时间复杂度不可接受，因此需要利用数学规律和贪心策略来解决问题。各题解的主要思路如下：

1. **奇偶性分析**：大多数题解都利用了 $N$ 的奇偶性来简化问题。当 $N$ 为偶数时，序列的首元素为 $N/2$，然后按降序排列剩余元素；当 $N$ 为奇数时，首元素为 $(N+1)/2$，并在适当位置插入 $(N-1)/2$，然后按降序排列剩余元素。

2. **贪心策略**：通过贪心策略，尽可能在序列的前部放置较大的数，以确保序列的字典序尽可能大，从而接近中位数。

3. **时间复杂度优化**：所有题解的时间复杂度均为 $O(NK)$，能够在给定的约束下高效运行。

#### 最优关键思路

- **奇偶性分析**：根据 $N$ 的奇偶性，确定序列的首元素和后续元素的排列方式。
- **贪心策略**：在确定首元素后，按降序排列剩余元素，以确保序列的字典序尽可能大。

#### 可拓展之处

- **类似问题**：类似的问题可以涉及排列组合中的中位数查找，或者在其他约束条件下寻找特定排列。
- **算法套路**：利用数学规律和贪心策略来优化排列组合问题，是解决类似问题的常用套路。

### 推荐题目

1. [P1706 全排列问题](https://www.luogu.com.cn/problem/P1706)
2. [P1157 组合的输出](https://www.luogu.com.cn/problem/P1157)
3. [P1036 选数](https://www.luogu.com.cn/problem/P1036)

### 所选高星题解

#### 题解1：作者：zlqwq (5星)

**关键亮点**：
- 简洁明了的奇偶性分析。
- 代码实现清晰，易于理解。

**核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,k,a[505];
signed main(){
    cin>>n>>k;
    if(n==1){
        while(k--){
            cout<<1<<" ";
        }
        return 0;
    }
    for(int i=1;i<=n;++i)a[i]=k;
    if(n%2){
        for(int i=1;i<=k;++i)cout<<n/2+1<<" ";
        a[n/2+1]=0;
        cout<<n/2<<" ";
        a[n/2]--;
        for(int i=n;i>=1;--i){
            while(a[i]){
                a[i]--;
                cout<<i<<" ";
            }
        }
    }
    else{
        cout<<n/2<<" ";
        a[n/2]--;
        for(int i=n;i>=1;--i){
            while(a[i]){
                a[i]--;
                cout<<i<<" ";
            }
        }
    }
    return 0;
}
```

#### 题解2：作者：lichenxi111 (4星)

**关键亮点**：
- 详细的数学推导和图示说明。
- 时间复杂度分析清晰。

**核心代码**：
```cpp
// 代码较长，核心思路与题解1类似，此处省略具体代码。
```

#### 题解3：作者：Presentation_Emitter (4星)

**关键亮点**：
- 利用翻转序列的性质来简化问题。
- 代码实现简洁，逻辑清晰。

**核心代码**：
```cpp
// 代码较长，核心思路与题解1类似，此处省略具体代码。
```

### 总结

通过奇偶性分析和贪心策略，可以高效地解决本题。推荐的题解均具有清晰的思路和高效的代码实现，适合学习和参考。

---
处理用时：40.58秒
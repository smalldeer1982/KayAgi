# 题目信息

# [ARC185A] mod M Game 2

## 题目描述

Alice 和 Bob 在玩游戏，初始时他们分别有 $n$ 张牌，上面分别写着 $1\sim n$ 的整数。同时他们给出了一个大于 $n$ 的整数 $m$。现在两个人从 Alice 开始轮流取出一张牌放入牌堆中。如果某一次放牌后牌堆中所有牌的数字之和可以被 $m$ 整除，那么放牌的人就输了，另外一个人就赢了。如果所有牌全部放完后依旧没有分出胜负，那么 Alice 将会赢得胜利。现在给出每次对局的 $n$ 和 $m$，请问在两人都绝对聪明的情况下，谁会取得胜利？

## 说明/提示

对于所有数据，$1\le T\le10^5,1\le n<m\le10^9$。

翻译 @Cure_Wing。

## 样例 #1

### 输入

```
8

2 3

3 6

5 9

45 58

39 94

36 54

74 80

61 95```

### 输出

```
Alice

Alice

Bob

Bob

Alice

Bob

Bob

Alice```

# AI分析结果

### 题目内容重写

Alice 和 Bob 在玩游戏，初始时他们分别有 $n$ 张牌，上面分别写着 $1\sim n$ 的整数。同时他们给出了一个大于 $n$ 的整数 $m$。现在两个人从 Alice 开始轮流取出一张牌放入牌堆中。如果某一次放牌后牌堆中所有牌的数字之和可以被 $m$ 整除，那么放牌的人就输了，另外一个人就赢了。如果所有牌全部放完后依旧没有分出胜负，那么 Alice 将会赢得胜利。现在给出每次对局的 $n$ 和 $m$，请问在两人都绝对聪明的情况下，谁会取得胜利？

### 说明/提示

对于所有数据，$1\le T\le10^5,1\le n<m\le10^9$。

### 样例 #1

#### 输入

```
8

2 3

3 6

5 9

45 58

39 94

36 54

74 80

61 95
```

#### 输出

```
Alice

Alice

Bob

Bob

Alice

Bob

Bob

Alice
```

### 题解分析与结论

各题解的思路基本一致，主要围绕以下几点展开：

1. **游戏结束条件**：当某次出牌后，牌堆中所有牌的数字之和能被 $m$ 整除时，出牌的人输。
2. **关键回合**：当双方手中只剩一张牌时，游戏的结果才会被确定。
3. **胜负判断**：计算所有牌的总和 $sum = n \times (n+1)$，若 $sum \bmod m$ 在 $1$ 到 $n$ 之间，则 Bob 必胜，否则 Alice 必胜。

### 评分较高的题解

#### 题解1：作者：hh弟中弟 (赞：3)  
**评分：4星**  
**关键亮点**：详细分析了 Bob 如何通过保留特定牌来获胜，并证明了 Alice 无法反制。  
**核心代码**：
```cpp
if(sum - zc >= 1 && sum - zc <= n) printf("Bob\n");
else printf("Alice\n");
```
**实现思想**：计算 $sum \bmod m$，判断其是否在 $1$ 到 $n$ 之间。

#### 题解2：作者：WuMin4 (赞：2)  
**评分：4星**  
**关键亮点**：简洁明了地解释了胜负条件，并给出了清晰的代码实现。  
**核心代码**：
```cpp
cout<<(n*(n+1)%m==0?"Alice":(n*(n+1)%m<=n?"Bob":"Alice"))<<endl;
```
**实现思想**：直接判断 $sum \bmod m$ 是否在 $1$ 到 $n$ 之间。

#### 题解3：作者：hyc42 (赞：1)  
**评分：4星**  
**关键亮点**：强调了 long long 的重要性，并给出了详细的判断逻辑。  
**核心代码**：
```cpp
if(1ll*n*(n+1)%m==0||1ll*n*(n+1)%m>n)cout<<"Alice\n";
else cout<<"Bob\n";
```
**实现思想**：同样通过判断 $sum \bmod m$ 来确定胜负。

### 最优关键思路或技巧

1. **数学分析**：通过计算所有牌的总和 $sum = n \times (n+1)$，并判断 $sum \bmod m$ 是否在 $1$ 到 $n$ 之间，可以快速确定胜负。
2. **优化技巧**：由于 $n$ 和 $m$ 的范围较大，使用 long long 类型避免溢出。

### 可拓展之处

类似的问题可以通过数学分析来简化，尤其是在涉及模运算和轮流出牌的游戏中。可以通过计算总和或特定条件来判断胜负。

### 推荐题目

1. [P1002 过河卒](https://www.luogu.com.cn/problem/P1002)  
2. [P1044 栈](https://www.luogu.com.cn/problem/P1044)  
3. [P1057 传球游戏](https://www.luogu.com.cn/problem/P1057)

---
处理用时：35.14秒
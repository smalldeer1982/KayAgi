# 题目信息

# [AGC031A] Colorful Subsequence

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc031/tasks/agc031_a

長さ $ N $ の文字列 $ S $ が与えられます。 $ S $ の部分列であって、すべて異なる文字からなるものの数を $ 10^9+7 $ で割った余りを答えてください。文字列として同一でも、異なる位置から取り出された部分列は区別して数えることとします。

ただし、文字列の部分列とは、文字列から文字をいくつか **正の個数** 取り出し、もとの文字列から順序を変えずにつなげたものを指します。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 100000 $
- $ S $ は英小文字からなる
- $ |S|=N $

### Sample Explanation 1

$ S $ 自体がすべて異なる文字からなるので、すべての部分列が条件を満たします。

### Sample Explanation 2

`b`, `a` ($ 2 $ 通り), `ba` ($ 2 $ 通り) の合計 $ 5 $ 通りが答えとなります。`baa` などは`a`が $ 2 $ 回現れるため当てはまらないことに注意してください。

## 样例 #1

### 输入

```
4

abcd```

### 输出

```
15```

## 样例 #2

### 输入

```
3

baa```

### 输出

```
5```

## 样例 #3

### 输入

```
5

abcab```

### 输出

```
17```

# AI分析结果

### 题目翻译
给定一个长度为 $N$ 的字符串 $S$。请回答 $S$ 的由所有不同字符组成的子序列的数量，将结果对 $10^9 + 7$ 取模。即使作为字符串是相同的，但从不同位置取出的子序列也应区别计数。

这里，字符串的子序列是指从字符串中取出若干个（正整数个）字符，且不改变它们在原字符串中的顺序连接而成的字符串。

### 综合分析与结论
- **思路**：这些题解的核心思路一致，均依据加法原理和乘法原理来计算子序列个数。对于每个字符，若其出现 $x$ 次，则有 $x + 1$ 种选择方案（不选或选第 $1$ 个、第 $2$ 个……第 $x$ 个），再将每个字符的选择方案相乘，最后减去空串的情况。
- **算法要点**：先统计每个字符的出现次数，然后将每个字符的出现次数加 $1$ 后相乘，最后对结果取模并减去 $1$ 得到最终答案。
- **解决难点**：处理数据范围可能导致的溢出问题，所有题解都采用 `long long` 类型和取模运算来解决；对于空串的处理，都在最后减去 $1$。

### 题解评分
- **FFTotoro**：4星。思路清晰，详细介绍了 `std::count` 函数的用法，代码简洁。
- **Yukinoshita_Yukino**：3星。通过画图辅助理解，思路较清晰，但代码使用了 `#include<bits/stdc++.h>`。
- **TLEWA**：3星。思路正确，但对 `(ans + 1000000006) % mod` 的解释不够清晰。
- **icefake**：3星。思路简单直接，但使用了较大的数组 `cnt[maxn]` 来统计字符出现次数。

### 所选题解
- **FFTotoro**（4星）
  - **关键亮点**：详细介绍了 `std::count` 函数的用法，代码简洁易懂。
  - **重点代码**：
```cpp
#include<iostream>
#include<algorithm> // count 函数存于 algorithm 头文件中
#define int long long // 本题数据要开 long long
using namespace std;
const int mod=1e9+7;
main(){
  int n,c=1; string s; cin>>n>>s;
  for(char i='a';i<='z';i++)
    (c*=count(s.begin(),s.end(),i)+1)%=mod; // 乘起来并取模
  cout<<c-1<<endl; // 减 1 是为了去掉空串
  return 0;
}
```
**核心实现思想**：使用 `std::count` 函数统计每个字符的出现次数，将每个字符的出现次数加 $1$ 后相乘并取模，最后减去空串的情况。

### 最优关键思路或技巧
- 运用加法原理和乘法原理解决子序列计数问题。
- 使用取模运算避免数据溢出。
- 利用 `std::count` 函数简洁地统计字符出现次数。

### 可拓展之处
同类型题或类似算法套路：此类题目主要考察组合数学中的加法原理和乘法原理，可拓展到其他计数问题，如计算满足特定条件的排列组合数等。在处理这类问题时，关键在于分析每个元素的选择方案，然后根据原理进行计算。

### 推荐洛谷题目
- [P1002 过河卒](https://www.luogu.com.cn/problem/P1002)
- [P1044 栈](https://www.luogu.com.cn/problem/P1044)
- [P1057 传球游戏](https://www.luogu.com.cn/problem/P1057)

### 个人心得摘录与总结
- **icefake**：提到英语对理解题意很重要，并且指出空集不算在答案里面，要根据样例来判断。总结就是在做算法题时，要重视题目描述的理解，同时注意特殊情况的处理。 

---
处理用时：24.98秒
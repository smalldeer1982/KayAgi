# 题目信息

# [ABC312C] Invisible Hand

## 题目描述

**题意简述**

在苹果市场中，有 $N$ 个卖家和 $M$ 个买家。第 $i$ 个卖家愿意出售的最低价格为 $A_i$ 日元，第 $j$ 个买家愿意购买的最高价格为 $B_i$ 日元。

请求出一个最低价格 $x$，使愿意以 $x$ 日元出售的卖家数量大于等于愿意以 $x$ 元购买的买家。

## 说明/提示

- $1 \le N,M \le 2 \times 10^5$
- $1 \le A_i,B_i \le 10^9$

## 样例 #1

### 输入

```
3 4

110 90 120

100 80 120 10000```

### 输出

```
110```

## 样例 #2

### 输入

```
5 2

100000 100000 100000 100000 100000

100 200```

### 输出

```
201```

## 样例 #3

### 输入

```
3 2

100 100 100

80 120```

### 输出

```
100```

# AI分析结果

### 题目内容重写
在苹果市场中，有 $N$ 个卖家和 $M$ 个买家。第 $i$ 个卖家愿意出售的最低价格为 $A_i$ 日元，第 $j$ 个买家愿意购买的最高价格为 $B_i$ 日元。

请求出一个最低价格 $x$，使愿意以 $x$ 日元出售的卖家数量大于等于愿意以 $x$ 元购买的买家。

### 题解分析与结论
本题的核心思路是通过二分查找来确定满足条件的最小价格 $x$。由于 $x$ 的增加会导致愿意出售的卖家数量增加，而愿意购买的买家数量减少，因此问题具有单调性，适合使用二分查找。

### 所选高分题解

#### 题解1：作者：hjfjwl (评分：5星)
**关键亮点：**
- 使用二分查找，时间复杂度为 $O((N+M)\log(10^9))$，适合大数据范围。
- 代码简洁，逻辑清晰，直接通过循环统计满足条件的卖家和买家数量。
- 二分查找的边界处理得当，避免了常见的边界错误。

**核心代码：**
```cpp
bool check(int x) {
    int ca = 0;
    for(int i = 1;i <= n;i++) if(x >= a[i]) ca++;
    int cb = 0;
    for(int i = 1;i <= m;i++) if(x <= b[i]) cb++;
    return ca >= cb;
}
```

#### 题解2：作者：szhqwq (评分：4星)
**关键亮点：**
- 二分查找的实现细节处理得当，右边界设置为 $10^{18}$，避免了可能的溢出问题。
- 代码结构清晰，使用了宏定义和模板函数，提高了代码的可读性。

**核心代码：**
```cpp
il bool check(int x) {
    int cnt = 0,sum = 0;
    rep(i,1,n) if (x >= a[i]) ++ cnt;
    rep(i,1,m) if (x <= b[i]) ++ sum;
    return cnt >= sum;
}
```

#### 题解3：作者：lrx___ (评分：4星)
**关键亮点：**
- 在二分查找前对数组进行了排序，虽然增加了 $O(N\log N + M\log M)$ 的时间复杂度，但使得后续的统计更加高效。
- 代码简洁，逻辑清晰，适合初学者理解。

**核心代码：**
```cpp
bool check(int x){
    int s=0,i;
    for(i=1;i<=n;i++) s+=(a[i]<=x);
    for(i=1;i<=m;i++) s-=(b[i]>=x);
    return s>=0;
}
```

### 最优关键思路与技巧
1. **二分查找的应用**：由于问题具有单调性，二分查找是解决此类问题的高效方法。
2. **边界处理**：在二分查找中，合理设置左右边界（如 $1$ 到 $10^9+1$）可以避免溢出和边界错误。
3. **统计技巧**：通过简单的循环统计满足条件的卖家和买家数量，代码简洁且易于理解。

### 可拓展之处
- **类似问题**：类似的问题可以通过二分查找来解决，如寻找满足某种条件的最小或最大值。
- **优化思路**：如果数据范围更大，可以考虑使用更高效的统计方法，如前缀和或双指针。

### 推荐题目
1. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)
2. [P1044 拦截导弹](https://www.luogu.com.cn/problem/P1044)
3. [P1059 明明的随机数](https://www.luogu.com.cn/problem/P1059)

### 个人心得摘录
- **调试经历**：在二分查找中，右边界设置不当会导致答案错误，因此需要特别注意边界的处理。
- **踩坑教训**：在统计满足条件的卖家和买家数量时，直接使用循环统计虽然简单，但在数据范围较大时可能会影响性能。

---
处理用时：32.92秒
# 题目信息

# [ARC170D] Triangle Card Game

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc170/tasks/arc170_d

Alice と Bob でゲームをします．

はじめ，Alice, Bob はそれぞれ $ N $ 枚のカードを持っていて，Alice が持っている $ i $ 番目のカードには整数 $ A_i $ が，Bob が持っている $ i $ 番目のカードには整数 $ B_i $ が書かれてます．

ゲームは以下の手順で行われます．

- 何も書かれていない黒板を用意する．
- Alice が持っているカードを一枚食べ，食べたカードに書かれた整数を黒板に書く．
- 次に，Bob が持っているカードを一枚食べ，食べたカードに書かれた整数を黒板に書く．
- 最後に，Alice が持っているカードを一枚食べ，食べたカードに書かれた整数を黒板に書く．
 
黒板に書かれた $ 3 $ 個の整数を $ 3 $ 辺の長さとする（非退化な）三角形が存在すれば Alice の勝ちで，そうでないとき Bob の勝ちです．

両者が最適な行動をするとき，どちらが勝つか判定してください．

$ T $ 個のテストケースが与えられるので，それぞれについて答えてください．

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 10^5 $
- $ 2\leq\ N\leq\ 2\times\ 10^5 $
- $ 1\leq\ A_i,B_i\leq\ 10^9 $
- 入力される数値は全て整数
- $ 1 $ つの入力に含まれるテストケースについて，$ N $ の総和は $ 2\times\ 10^5 $ 以下
 
### Sample Explanation 1

$ 1 $ 番目のテストケースでは，例えばゲームは以下のように進行します． - Alice が $ 2 $ を書かれたカードを食べ，黒板に $ 2 $ を書く． - Bob が $ 4 $ を書かれたカードを食べ，黒板に $ 4 $ を書く． - Alice が $ 1 $ を書かれたカードを食べ，黒板に $ 1 $ を書く． - 黒板に書かれた数は $ 2,4,1 $ であり，$ 3 $ 辺の長さが $ 2,4,1 $ であるような三角形は存在しないので Bob の勝ちとなる． このテストケースについて，上記の手順が必ずしも両者にとって最適な行動とは限りませんが，両者が最適な行動をした場合勝利するのは Bob であることが示せます．

## 样例 #1

### 输入

```
3

3

1 2 3

4 5 6

4

6 1 5 10

2 2 4 5

10

3 1 4 1 5 9 2 6 5 3

2 7 1 8 2 8 1 8 2 8```

### 输出

```
Bob

Alice

Alice```

# AI分析结果



### 综合分析与结论

本题的核心是博弈论中的贪心策略，Alice需在两次选卡中确保存在合法的第三张卡，而Bob则试图阻止。关键点在于：

1. **排序预处理**：将Alice和Bob的卡牌排序，便于快速查找。
2. **贪心选择最大a**：优先考虑最大的a，其对应的区间范围更广，更容易覆盖更多可能的b。
3. **分情况处理b**：
   - **Bob选最小b**：此时区间范围最小，若存在c则Alice可能获胜。
   - **Bob选较大b**：检查每个b对应的区间是否存在合法c，需排除已选的a。

### 题解清单 (≥4星)

1. **Leo_SZ (5星)**  
   - 核心思路：分情况处理Bob选最小b和较大b，利用排序和二分查找快速验证。
   - 亮点：通过相邻元素差判断候选a，高效处理所有可能的b。
   - 代码清晰，逻辑严密。

2. **eastcloud (4星)**  
   - 核心思路：动态维护每个b对应的最近a，确保所有情况覆盖。
   - 亮点：利用二分查找确定区间是否存在合法c，避免重复选卡问题。
   - 实现简洁，复杂度优秀。

3. **Disjoint_cat (4星)**  
   - 核心思路：从大到小枚举a，优先验证最小b，再遍历其他b。
   - 亮点：直观展示贪心选择过程，代码可读性强。
   - 正确处理了重复选卡的限制。

### 最优思路或技巧提炼

- **排序预处理**：将数组排序后，可快速定位相邻元素和二分查找。
- **贪心选最大a**：较大的a在处理较大b时区间范围更广，提高覆盖可能性。
- **分情况处理b**：
  - **最小b威胁**：相邻元素差决定是否存在合法c。
  - **较大b验证**：通过二分查找区间端点，确保每个b对应的c存在。

### 关键代码实现

**eastcloud的代码片段**：
```cpp
void solve() {
    int n = read(), pos = 0;
    for (int i = 1; i <= n; i++) a[i] = read();
    for (int i = 1; i <= n; i++) b[i] = read();
    sort(a + 1, a + n + 1);
    sort(b + 1, b + n + 1);
    a[n + 1] = inf;
    // 寻找最大的pos，使得相邻差小于b[1]
    for (int i = 1; i <= n; i++) {
        int dis = inf;
        if (i != 1) dis = min(dis, a[i] - a[i - 1]);
        if (i != n) dis = min(dis, a[i + 1] - a[i]);
        if (dis < b[1]) pos = max(pos, i);
    }
    if (!pos) { cout << "Bob\n"; return; }
    // 检查所有b对应的区间是否存在c
    for (int i = 1; i <= n; i++) {
        int l = abs(b[i] - a[pos]);
        int r = b[i] + a[pos];
        int p = upper_bound(a + 1, a + n + 2, l) - a;
        if (p == pos) p++; // 跳过已选的a[pos]
        if (a[p] >= r) { cout << "Bob\n"; return; }
    }
    cout << "Alice\n";
}
```

### 可视化与算法演示

1. **像素风格动画**：
   - **颜色标记**：当前选的a（红色）、Bob的b（蓝色）、候选c（绿色）。
   - **区间展示**：动态绘制每个b对应的区间范围，高亮合法c。
   - **步进控制**：用户可调整速度，观察每一步的贪心选择。

2. **音效与互动**：
   - **选择音效**：不同操作（选a、选b、找到c）对应不同音效。
   - **自动演示**：AI自动执行贪心流程，对比不同a的选择结果。

### 同类型题推荐

1. **P1090 [NOIP2004 提高组] 合并果子**  
   - 贪心选择最小堆，每次合并最小两堆。

2. **P1223 排队接水**  
   - 按接水时间排序，贪心最小总等待时间。

3. **P1803 凌乱的yyy / 线段覆盖**  
   - 区间调度问题，贪心选择最早结束的区间。

---
处理用时：220.28秒
# 题目信息

# [ABC340F] S = 1

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc340/tasks/abc340_f

整数 $ X,\ Y $ が与えられます。$ X,\ Y $ は $ X\ \neq\ 0 $ と $ Y\ \neq\ 0 $ の少なくとも一方を満たします。  
 次の条件を全て満たす整数の組 $ (A,\ B) $ を発見してください。そのような整数の組が存在しない場合はそれを報告してください。

- $ -10^{18}\ \leq\ A,\ B\ \leq\ 10^{18} $
- $ xy $ 平面上の点 $ (0,\ 0),\ (X,\ Y),\ (A,\ B) $ を頂点とする三角形の面積は $ 1 $

## 说明/提示

### 制約

- $ -10^{17}\ \leq\ X,\ Y\ \leq\ 10^{17} $
- $ (X,\ Y)\ \neq\ (0,\ 0) $
- $ X,\ Y $ は整数
 
### Sample Explanation 1

点 $ (0,\ 0),\ (3,\ 5),\ (1,\ 1) $ を頂点とする三角形の面積は $ 1 $ です。よって $ (A,\ B)\ =\ (1,\ 1) $ は条件を満たします。

## 样例 #1

### 输入

```
3 5```

### 输出

```
1 1```

## 样例 #2

### 输入

```
-2 0```

### 输出

```
0 1```

## 样例 #3

### 输入

```
8752654402832944 -6857065241301125```

### 输出

```
-1```

# AI分析结果



---

### 算法分类
**数学（扩展欧几里得算法）**

---

### 题解思路与核心难点

**核心思路**  
题目要求找到整数对 $(A,B)$，使得由点 $(0,0)$、$(X,Y)$、$(A,B)$ 构成的三角形面积为 1。通过向量叉积公式，面积可表示为 $\frac{1}{2}|XA - YB|$，因此需满足方程 $|XA - YB| = 2$。将其转化为不定方程 $XA - YB = \pm 2$，利用扩展欧几里得算法（exgcd）求解。

**关键步骤**  
1. **方程变形**：将面积条件转化为 $XA - YB = 2$（符号不影响解的存在性）。
2. **exgcd求解**：解方程 $XA - YB = \text{gcd}(X, Y)$，得到特解 $(A_0, B_0)$。
3. **解的存在性**：若 $\text{gcd}(X, Y)$ 不能整除 2，则无解。
4. **调整解**：将特解乘以 $\frac{2}{\text{gcd}(X, Y)}$，得到满足方程的解。

**解决难点**  
- **符号处理**：需正确处理方程系数符号，避免参数传递错误。
- **解的多样性**：exgcd 可能返回任意特解，需确保最终解在合法范围内。

---

### 题解评分（≥4星）

1. **Genius_Star（4.5星）**  
   - 思路清晰，直接利用叉积推导方程，代码简洁。
   - 符号处理正确，通过 exgcd 参数调整解决方程系数问题。
   - 代码可读性较高，但需注意变量名含义。

2. **incra（4星）**  
   - 代码简洁，参数顺序调整正确。
   - 正确使用 exgcd 并处理倍数关系，输出符合要求。

3. **Starrykiller（4星）**  
   - 明确叉积公式的几何意义，推导清晰。
   - 代码简洁，直接调用 exgcd 并调整解。

---

### 最优思路与技巧

**关键技巧**  
- **叉积公式**：快速推导面积条件，避免复杂几何分析。
- **exgcd 参数调整**：将方程变形为 $XA + (-Y)B = 2$，正确传递参数。
- **解的缩放**：通过 $\frac{2}{\text{gcd}(X, Y)}$ 调整特解，保证解的正确性。

**思维角度**  
- 将几何问题转化为数论问题，通过数学工具（exgcd）快速求解。
- 利用符号调整简化方程，避免绝对值带来的复杂分支判断。

---

### 类似题目与拓展

1. **洛谷 P5656**  
   题目：求解二元一次不定方程 $ax + by = c$ 的所有解。  
   核心：exgcd 的扩展应用，解的存在性判断。

2. **洛谷 P1516**  
   题目：青蛙的约会（同余方程）。  
   核心：将距离差转化为同余式，利用 exgcd 求解。

3. **LeetCode 365**  
   题目：水壶问题（用两个水壶得到特定水量）。  
   核心：exgcd 判断是否有解。

---

### 核心代码实现

```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

ll exgcd(ll a, ll b, ll &x, ll &y) {
    if (!b) {
        x = 1, y = 0;
        return a;
    }
    ll d = exgcd(b, a % b, y, x);
    y -= a / b * x;
    return d;
}

int main() {
    ll X, Y, A, B;
    cin >> X >> Y;
    ll d = exgcd(Y, -X, A, B); // 方程 YA - XB = 2
    if (2 % d != 0) {
        cout << -1;
        return 0;
    }
    ll t = 2 / d;
    A *= t, B *= t;
    cout << A << " " << B;
    return 0;
}
```

---

### 可视化与算法演示

**动画设计**  
1. **叉积公式演示**：用向量箭头表示 $(X,Y)$ 和 $(A,B)$，展示叉积的几何意义。
2. **exgcd 过程**：以网格图显示方程 $XA - YB = 2$ 的整数解分布，高亮当前搜索的解。
3. **解调整**：用颜色标记缩放后的解，并动态展示其满足方程的验证过程。

**复古游戏化设计**  
- **像素风格**：用 8-bit 像素画风绘制向量和坐标轴。
- **音效提示**：解存在时播放胜利音效，无解时播放失败音效。
- **自动演示**：点击按钮后自动展示 exgcd 的搜索路径和解调整过程。

---

### 总结

通过叉积公式将几何问题转化为不定方程，利用 exgcd 高效求解。注意符号处理和参数顺序，确保代码正确性。不同题解虽输出不同解，但均符合条件，体现了数学问题的多样性。

---
处理用时：356.35秒
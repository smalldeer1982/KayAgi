# 题目信息

# [AGC051B] Bowling

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc051/tasks/agc051_b

> 平面上にボウリングのピンが何本か立っており、それを $ 4 $ 人の人が異なる角度から眺めています。 $ 1 $ 人にだけ他の人より遥かに多くのピンが見えることはあるでしょうか。

ピンを単純に $ xy $ 平面上の点集合とみなしましょう。 $ 4 $ 人の位置を以下の図に示します。 厳密には、

- **A** さんから見ると、$ y $ 座標が等しい $ 2 $ 本のピンは重なって見えます。
- **B** さんから見ると、($ x $ 座標 - $ y $ 座標) が等しい $ 2 $ 本のピンは重なって見えます。
- **C** さんから見ると、$ x $ 座標が等しい $ 2 $ 本のピンは重なって見えます。
- **D** さんから見ると、($ x $ 座標 + $ y $ 座標) が等しい $ 2 $ 本のピンは重なって見えます。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_agc051_b/cf17bb504667e73875a26607be26bad6c893bba0.png)

**A**, **B**, **C**, **D** さんに見えるピンの数をそれぞれ $ a,\ b,\ c,\ d $ とします。

以下の条件を全て満たすような何らかのピンの配置を構成してください。

- $ d\ \geq\ 10\ \cdot\ \max\ \{\ a,\ b,\ c\ \} $
- ピンの本数は $ 1 $ 本以上 $ 10^5 $ 本以下である。
- ピンの座標は全て $ 0 $ 以上 $ 10^9 $ 以下の整数である。
- $ 2 $ 本のピンが同じ位置にあることはない。

## 说明/提示

### Sample Explanation 1

\*\*この出力例は出力形式を例示するものであり、正解ではありません。\*\* この出力は問題文中の図に対応し、$ d\ =\ 8,\ a\ =\ b\ =\ c\ =\ 7 $ です。頑張りましたが、AC には届きません。

## 样例 #1

### 输入

```
```

### 输出

```
9

1 1

1 5

2 7

4 4

5 3

6 8

7 5

8 2

8 7```

# AI分析结果



**唯一算法分类**：构造型问题

---

### 题解思路、算法要点与解决难点

**核心思路**：
构造点集使得：
- A视角（y相同）每个y对应约10个点 → a ≈ 总点数/10
- B视角（x-y相同）每个差值对应约10个点 → b ≈ 总点数/10
- C视角（x相同）每个x对应约10个点 → c ≈ 总点数/10
- D视角（x+y相同）每个和唯一 → d = 总点数

**关键步骤**：
1. **参数分离**：选择三个基向量（或参数），确保其线性组合不会导致坐标重复。
2. **维度构造**：用三个独立参数生成点的x和y坐标，确保每个参数控制不同视角的特征值。
3. **规模控制**：总点数设为10³或更大，确保d ≥ 10×max(a,b,c)。

**难点解决**：
- **坐标唯一性**：通过基向量数位分离（如A=1, B=100, C=10）或随机大数，确保x+y唯一。
- **视角重叠控制**：每个参数维度取10个值，使得A/B/C视角每个特征值对应10个点。

---

### 最优思路提炼

**核心技巧**：
1. **多维参数生成**：用三个独立参数生成点的x和y坐标，如 `x = A*i + B*j`, `y = B*j + C*k`。
2. **数位隔离法**：选择基向量使各部分贡献位于不同数位（如百位、十位、个位），避免数值冲突。
3. **随机大数法**：生成足够大的随机参数，低概率冲突，适用于通用构造。

---

### 题解评分（≥4星）

1. **墨笙_Mooos（★★★★★）**
   - **亮点**：数位隔离法清晰，代码简洁高效，正确性易验证。
   - **代码关键**：确定参数 `A=1, B=100, C=10` 生成1000点，确保x+y唯一。

2. **User_Unauthorized（★★★★☆）**
   - **亮点**：随机参数法灵活，扩展性强，适合大范围数据。
   - **代码关键**：用随机大数生成三个参数数组，构造 `N³` 个点确保x+y唯一。

---

### 关键代码实现

**墨笙_Mooos的代码片段**：
```cpp
int A = 1, B = 100, C = 10;
vector<pair<int, int>> P;
for (int i = 0; i < 10; i++) {
    for (int j = 0; j < 10; j++) {
        for (int k = 0; k < 10; k++) {
            int x = A * i + B * j;
            int y = B * j + C * k;
            P.emplace_back(x, y);
        }
    }
}
// 输出P中的点，总数为10³=1000
```

**User_Unauthorized的代码关键逻辑**：
```cpp
// 生成随机大数参数
std::mt19937 engine(seed);
std::uniform_int_distribution<valueType> distribution(0, V);

// 构造点集
for (auto x : X) {
    for (auto y : Y) {
        for (auto d : D) {
            print(x + d, y + d); // x+y = x原 + y原 + 2d
        }
    }
}
```

---

### 可视化算法设计

**动画方案**：
1. **网格绘制**：在Canvas上绘制坐标网格，点动态生成。
2. **颜色标记**：
   - **红色**：当前生成的点的x+y值，突出唯一性。
   - **灰色**：已被覆盖的A/B/C视角特征值对应的点。
3. **步进控制**：按参数i,j,k逐步生成点，观察各视角计数变化。
4. **统计面板**：实时显示a,b,c,d的值，当d≥10×max时触发音效。

**复古像素风格**：
- **8位色板**：使用经典FC游戏的16色调色板。
- **音效设计**：
  - **生成点**：短促“哔”声（8-bit音效）。
  - **条件满足**：播放胜利旋律。

---

### 同类型题推荐

1. **CF1008B (Boxes Packing)**：构造排列满足特定视角条件。
2. **AT3611 (Coloring Dominoes)**：二维平面构造避免重叠。
3. **洛谷P1963 变换序列**：通过参数构造满足唯一性条件。

---

**总结**：本题通过多维参数构造和数值隔离，巧妙平衡各视角的可见点数，核心在于参数设计确保D视角唯一性。

---
处理用时：159.24秒
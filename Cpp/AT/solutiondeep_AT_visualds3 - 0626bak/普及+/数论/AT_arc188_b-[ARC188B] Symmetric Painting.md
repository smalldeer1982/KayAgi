# 题目信息

# [ARC188B] Symmetric Painting

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc188/tasks/arc188_b

円周上を $ N $ 等分する位置に、点 $ 0,1,\ \ldots\ ,\ N-1 $ がこの順に並んでおり、Alice が点 $ 0 $ に、Bob が点 $ K $ にいます。また、初め全ての点は白色に塗られています。両者は、Alice から始めて交互に次のような操作を行います。

- その時点で白色である点を $ 1 $ つ選び、黒色に塗る。ただし、操作後に、操作者と円の中心を結ぶ直線に対して、各点の色が線対称でなければいけない。

操作者が上記の条件を満たす操作ができなければ、そこで一連の操作を打ち切ります。

両者とも、最終的に最も多くの点を黒く塗ることができるように協力して最善の選択をします。一連の操作が全て終了したときに全ての点を黒く塗ることができているかどうかを求めてください。

$ T $ 個のテストケースが与えられるので、それぞれについて答えてください。

## 说明/提示

### 制約

- $ 1\leq\ T\leq\ 10^5 $
- $ 2\leq\ N\leq\ 2\times\ 10^5 $
- $ 1\leq\ K\leq\ N-1 $
- 入力される値はすべて整数である

### Sample Explanation 1

$ N=6,\ K=2 $ の場合、例えば以下のような順で操作を行うことで全ての点を黒く塗ることができます。 1. Alice が点 $ 3 $ を黒く塗る。 2. Bob が点 $ 1 $ を黒く塗る。 3. Alice が点 $ 5 $ を黒く塗る。 4. Bob が点 $ 2 $ を黒く塗る。 5. Alice が点 $ 4 $ を黒く塗る。 6. Bob が点 $ 0 $ を黒く塗る。 !\[\](https://img.atcoder.jp/arc188/ecb64f0798aaa883117c594cb6db2724.png) $ N=6,\ K=3 $ の場合、例えば以下のような進行が考えられます。実は、どのようにしても全ての点を黒く塗ることはできません。 1. Alice が点 $ 3 $ を黒く塗る。 2. Bob が点 $ 0 $ を黒く塗る。 3. Alice はどの点を黒く塗っても自身から見て線対称にできないため、操作を行えない。

## 样例 #1

### 输入

```
4
6 2
6 3
6 1
200000 100000```

### 输出

```
Yes
No
Yes
No```

# AI分析结果



1. **算法分类**  
   数学/数论（最大公约数、模运算）

---

### 题解思路、算法要点与解决难点

**核心思路**  
问题转化为对圆对称性的数论分析，关键在于判断两点：
1. **N是否为4的倍数**：若是，直接无解。
2. **去除N和K的所有因子2后的互质性**：若互质则有解，否则无解。

**解决难点**  
- **对称操作的周期性**：每次操作需满足对称性，导致涂色点的序列具有数学周期性。
- **数论转化**：将几何对称条件转化为N和K的数学性质（最大公约数、奇偶性）。

**算法流程**  
1. 若N是4的倍数，直接输出`No`。
2. 否则，将N和K分别除以2直到变为奇数，得到新的n'和k'。
3. 检查n'和k'是否互质，若互质则输出`Yes`，否则`No`。

---

### 题解评分 (≥4星)

1. **作者：Milthm**（★★★★★）  
   - 思路清晰，通过观察规律得出简洁结论。
   - 代码高效，时间复杂度O(T log N)，适合大规模输入。
   - 关键点：去除因子2后判断互质，逻辑简明。

2. **作者：Xuan_qwq**（★★★★）  
   - 正确推导对称条件，但结论形式较复杂。
   - 代码未给出，但数学推导详尽。

---

### 最优思路或技巧提炼

- **去除因子2**：将N和K的奇偶性统一处理，转化为互质问题。
- **核心条件**：N非4的倍数且处理后的N'与K'互质。
- **数学优化**：利用内置的`gcd`函数快速判断。

---

### 同类型题或类似算法套路

- **对称性与数论**：如判断环形数组的对称操作可行性。
- **最大公约数的应用**：常用于周期性、分组问题。

---

### 推荐相似题目

1. **洛谷 P2524 差异数对**（数论、对称性）
2. **洛谷 P1072 Hankson的趣味题**（gcd与数论条件）
3. **Codeforces 1458A. GCD and MST**（gcd与图论结合）

---

### 代码实现（关键逻辑）

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    int T;
    cin >> T;
    while (T--) {
        int n, k;
        cin >> n >> k;
        if (n % 4 == 0) {
            cout << "No\n";
            continue;
        }
        // 去除N的因子2
        while (n % 2 == 0) n /= 2;
        // 去除K的因子2
        while (k % 2 == 0) k /= 2;
        if (gcd(n, k) == 1) cout << "Yes\n";
        else cout << "No\n";
    }
    return 0;
}
```

---

### 可视化与算法演示

**动画设计**：
1. **像素风格界面**：用8位网格表示圆上的点，已涂色点显示黑色。
2. **对称轴高亮**：当前操作者的对称轴用红色线段标注。
3. **动态涂色**：每一步涂色后，对称点自动填充（如Alice涂点3，则对称点3自动涂黑）。
4. **自动模式**：按帧播放涂色过程，失败时播放“错误”音效。

**交互功能**：
- **速度调节**：滑动条控制动画速度。
- **单步执行**：手动点击观察每一步决策。

---

### 复古游戏化效果

- **音效**：涂色时播放“哔”声，成功时经典FC胜利音乐。
- **积分系统**：每正确回答一个测试用例获得积分，连续正确触发连击。
- **关卡模式**：将不同(N, K)组合设为关卡，通关后解锁更复杂案例。

---
处理用时：290.30秒
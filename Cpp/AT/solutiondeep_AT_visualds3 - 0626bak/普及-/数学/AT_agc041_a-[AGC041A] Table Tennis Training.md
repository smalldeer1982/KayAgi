# 题目信息

# [AGC041A] Table Tennis Training

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc041/tasks/agc041_a

$ 2N $ 人の卓球選手が、$ 1 $ から $ N $ までの番号がついた $ N $ 台の卓で実戦練習を行います。

練習は複数の *ラウンド* からなります。 各ラウンドでは、選手たちは $ 1 $ 卓につき $ 1 $ ペアの合計 $ N $ ペアに分かれます。 そして、各ペアの選手同士で試合を行い、$ 1 $ 人が勝利してもう $ 1 $ 人が敗北します。

卓 $ X $ で勝利した選手は、次のラウンドでは卓 $ X-1 $ で試合を行います。 ただし、卓 $ 1 $ で勝利した選手は卓 $ 1 $ に留まります。

同様に、卓 $ X $ で敗北した選手は、次のラウンドでは卓 $ X+1 $ で試合を行います。 ただし、卓 $ N $ で敗北した選手は卓 $ N $ に留まります。

ある $ 2 $ 人の選手は友達同士で、最初のラウンドの試合を異なる卓 $ A,\ B $ で行います。 彼らは十分な腕前を持ち、各試合での自分の勝敗を自由に操れるとします。 この $ 2 $ 人同士で試合を行えるまでに、最小で何回のラウンドが必要でしょうか？

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 10^{18} $
- $ 1\ \leq\ A\ <\ B\ \leq\ N $
- 入力中のすべての値は整数である。

### Sample Explanation 1

最初のラウンドで $ 1 $ 人目が敗北して $ 2 $ 人目が勝利すると、$ 2 $ 人とも卓 $ 3 $ に移動し、次のラウンドでは彼ら同士で試合を行えます。

### Sample Explanation 2

$ 2 $ 人とも $ 2 $ 連続で勝利すれば、両者とも卓 $ 1 $ に移れます。

## 样例 #1

### 输入

```
5 2 4```

### 输出

```
1```

## 样例 #2

### 输入

```
5 2 3```

### 输出

```
2```

# AI分析结果



# 题解分析与结论

## 算法分类
**数学/贪心策略**

---

## 题解思路与核心难点

### 核心思路
- **关键观察**：两人的初始位置差决定了相遇的最优路径：
  1. **偶数差**：两人直接向中间移动，每次缩短2位，轮数为 `(B - A) / 2`。
  2. **奇数差**：必须通过移动到边界（桌1或桌N）调整奇偶性，再计算后续轮数。总轮数为 `min(A, N - B + 1) + (B - A - 1) / 2`。

### 解决难点
- **奇偶性转换**：当差为奇数时，无法直接相遇，需通过边界调整奇偶性。
- **边界选择优化**：选择移动到桌1或桌N中更近的边界，最小化总轮数。

---

## 题解评分（≥4星）

1. **作者：_farawaystar_（4星）**
   - **亮点**：思路清晰，代码简洁，正确分情况处理奇偶性。
   - **代码**：三目运算符高效处理两种情况，时间复杂度O(1)。

2. **作者：shenmadongdong（4星）**
   - **亮点**：公式推导简洁，代码使用位运算优化，可读性较强。
   - **代码**：`(b-a)&1ll`判断奇偶性，避免模运算开销。

3. **作者：零殇（4星）**
   - **亮点**：直观的边界处理公式，代码逻辑易于理解。
   - **代码**：明确计算移动到边界的代价，步骤分解清晰。

---

## 最优思路提炼

1. **奇偶分治**：差为偶数直接计算，奇数则需调整到边界。
2. **贪心选择边界**：取 `min(A, N - B + 1)` 确保移动次数最少。
3. **数学公式推导**：总轮数通过简单算术运算得出，无需模拟。

---

## 同类型题推荐

1. **AT1219 電卓**：利用数学推导优化操作步骤。
2. **CF1352G Special Permutation**：奇偶性调整构造序列。
3. **洛谷P1258 小车问题**：数学推导最小时间。

---

## 可视化与算法演示

### 动画设计
- **像素风格**：用8位色块表示桌号，两人以不同颜色标记（红/蓝）。
- **关键帧**：
  1. **初始状态**：红块在A，蓝块在B。
  2. **移动过程**：若差为偶数，两色块逐帧向中间靠拢；若为奇数，优先向近边界移动（桌1或桌N）。
  3. **相遇高亮**：两色块重合时触发闪烁特效与胜利音效。

### 交互功能
- **步进控制**：用户可逐轮观察移动路径。
- **自动演示**：展示最优路径的AI决策过程。
- **音效**：移动时播放“哔”声，相遇时播放经典FC过关音效。

---

## 核心代码实现

```cpp
#include <iostream>
using namespace std;

int main() {
    long long n, a, b;
    cin >> n >> a >> b;
    if ((b - a) % 2 == 0) {
        cout << (b - a) / 2;
    } else {
        cout << min(a, n - b + 1) + (b - a - 1) / 2;
    }
    return 0;
}
```

---

## 个人心得摘录
- **边界处理**：必须注意移动到桌1或桌N时的停留规则。
- **公式简化**：通过数学推导避免复杂模拟，极大优化时间复杂度。

---

**总结**：本题通过奇偶性分析转化为数学问题，贪心选择最优路径是关键。可视化设计中，像素动画与音效增强理解，交互功能帮助深入观察算法逻辑。

---
处理用时：70.39秒
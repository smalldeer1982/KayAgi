# 题目信息

# [ARC165A] Sum equals LCM

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc165/tasks/arc165_a

正整数 $ N $ が与えられます。

$ 2 $ 個以上の (相異なるとは限らない) 正整数 $ A_1,A_2,\dots,A_n\ (2\ \leq\ n) $ であって、以下の条件をすべて満たすものが存在するか判定してください。

- $ A_1+A_2+\dots+A_n=N $
- $ A_1,A_2,\dots,A_n $ の最小公倍数は $ N $
 
$ T $ 個のテストケースが与えられるので、それぞれについて答えを求めてください。

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 100 $
- $ 2\ \leq\ N\ \leq\ 10^{9} $
- 入力される値はすべて整数
 
### Sample Explanation 1

$ 1 $ つ目のテストケースについて、例えば $ 3 $ 個の正整数 $ (A_1,A_2,A_3)=(1,2,3) $ は、 $ A_1+A_2+A_3=1+2+3=6 $ であり、 $ A_1,A_2,A_3 $ の最小公倍数は $ 6 $ であるため条件を満たしています。 $ 2 $ つ目のテストケースについて、条件を満たすような $ 2 $ 個以上の正整数は存在しません。

## 样例 #1

### 输入

```
4

6

4

998244353

367291763```

### 输出

```
Yes

No

No

Yes```

# AI分析结果



---

## **算法分类**  
数论（质因数分解）

---

## **题解思路、算法要点与解决难点**  
- **核心思路**：判断N是否含有至少两个不同的质因子。若存在，则构造两个互质的因数a、b（a*b=N），其余用1填充以满足和为N；否则无解。
- **解决难点**：如何快速分解质因数并统计不同质因子数量。
- **算法实现**：试除法分解质因数，统计不同质因子数。若数目≥2则输出Yes，否则No。

---

## **题解评分**  
1. **reclusive（5星）**：思路清晰，代码简洁，正确性高。  
2. **__Star_Sky（4星）**：详细数学证明，代码可读性好。  
3. **Dws_t7760（4星）**：代码高效，逻辑明确。  

---

## **最优思路与技巧提炼**  
- **关键结论**：N的质因子数≥2时有解。  
- **构造方法**：取两个互质因数a、b（如p₁^a₁和p₂^a₂），其余补1。  
- **优化技巧**：试除法分解时仅需遍历到√n，处理剩余因子即可。

---

## **同类型题与算法套路**  
- **通用解法**：质因数分解结合LCM/GCD性质。  
- **类似题目**：  
  1. [CF1350B - Orac and Models](https://codeforces.com/problemset/problem/1350/B)  
  2. [洛谷P1072 Hankson的趣味题](https://www.luogu.com.cn/problem/P1072)  
  3. [LeetCode 952 - Largest Component Size by Common Factor](https://leetcode.com/problems/largest-component-size-by-common-factor/)

---

## **代码实现**  
```cpp
#include <bits/stdc++.h>
using namespace std;

int countPrimeFactors(int n) {
    int cnt = 0;
    for (int i = 2; i * i <= n; ++i) {
        if (n % i == 0) {
            cnt++;
            while (n % i == 0) n /= i;
        }
    }
    if (n > 1) cnt++;
    return cnt;
}

int main() {
    int T;
    cin >> T;
    while (T--) {
        int N;
        cin >> N;
        cout << (countPrimeFactors(N) >= 2 ? "Yes" : "No") << endl;
    }
    return 0;
}
```

---

## **可视化与算法演示**  
**动画设计**：  
1. **质因数分解过程**：以像素风格展示N被分解为不同质因子（如2→红色，3→绿色等）。  
2. **统计质因子数**：若颜色种类≥2，显示"Yes"并构造a=2、b=3，补1至和为N。  
3. **交互功能**：步进分解过程，高亮当前试除的i值，播放分解音效；结果页显示质因子数。  

**复古风格**：  
- **8位像素UI**：用Canvas绘制质因子方块，背景音乐为8位循环音轨。  
- **音效**：分解成功→短促“滴”声；结果→Yes/No对应不同音调。  

---

## **个人心得**  
- **调试教训**：需处理分解后剩余的质因子（如n=7*13=91，需检查最后n>1的情况）。  
- **思维突破**：利用互质因数的LCM性质，避免直接构造复杂序列。

---
处理用时：64.88秒
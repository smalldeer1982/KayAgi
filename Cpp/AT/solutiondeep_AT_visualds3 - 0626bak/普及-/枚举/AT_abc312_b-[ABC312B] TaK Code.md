# 题目信息

# [ABC312B] TaK Code

## 题目描述

**题意简述**

对 Tak 二维码的定义为：

- 一个 $9 \times 9$ 的黑白方阵。
- 左上角和右下角 $3 \times 3$ 的方块都为黑块，并且它们周围一圈的 $14$ 个方块都为白块。

给定一个图，求出其中所有 Tak 二维码的左上角字符的坐标。`#` 代表黑块，`.` 代表白块。

如果没看懂，请看下图。其中 `#` 的位置必须为黑块，`.` 的位置必须为白块，`@` 的位置都可以。
```
###.@@@@@
###.@@@@@
###.@@@@@
....@@@@@
@@@@@@@@@
@@@@@....
@@@@@.###
@@@@@.###
@@@@@.###
```

## 说明/提示

- $9 \le N,M \le 100$

## 样例 #1

### 输入

```
19 18
###......###......
###......###......
###..#...###..#...
..............#...
..................
..................
......###......###
......###......###
......###......###
.###..............
.###......##......
.###..............
............###...
...##.......###...
...##.......###...
.......###........
.......###........
.......###........
........#.........```

### 输出

```
1 1
1 10
7 7
10 2```

## 样例 #2

### 输入

```
9 21
###.#...........#.###
###.#...........#.###
###.#...........#.###
....#...........#....
#########...#########
....#...........#....
....#.###...###.#....
....#.###...###.#....
....#.###...###.#....```

### 输出

```
1 1```

## 样例 #3

### 输入

```
18 18
######............
######............
######............
######............
######............
######............
..................
..................
..................
..................
..................
..................
............######
............######
............######
............######
............######
............######```

### 输出

```
```

# AI分析结果



**唯一算法分类**  
模拟

**综合分析与结论**  
题目要求找出所有符合特定结构的9x9区域。每个区域需满足：
1. 左上角3x3全黑（`#`），且其右侧一列（3格）和下侧一行（3格）全白（`.`），同时右下方的5x5区域需满足特定条件。
2. 右下角3x3全黑，且其左侧一列（3格）和上侧一行（3格）全白。

**核心算法流程**：
1. **遍历所有可能的9x9区域**：检查每个可能的左上角坐标。
2. **结构验证**：
   - 检查左上角和右下角的3x3块是否全黑。
   - 验证周围14个白块的位置是否满足条件。
3. **坐标处理**：将0-based索引转换为1-based输出。

**可视化设计思路**：
- **颜色标记**：用不同颜色区分黑块、白块和待验证区域。
- **步进控制**：逐步高亮当前检查的格子，动态展示验证过程。
- **复古像素风格**：用8-bit网格渲染，音效提示验证成功/失败。

---

**题解评分**  
暂无≥4星题解，以下为通用思路：

**最优思路提炼**  
1. **预定义检查区域**：明确每个3x3块周围的14个格子坐标。
2. **分块验证**：将大问题分解为多个小区域的条件检查。
3. **边界处理**：确保检查时不越界。

**同类型题思路**  
类似二维模式匹配问题，如寻找特定形状的矩阵区域。通用解法包括：
- 遍历所有可能区域。
- 预定义模板进行逐块匹配。

---

**推荐题目**  
1. P1101 矩阵匹配
2. P1032 数字矩形匹配
3. P1219 棋盘问题

---

**代码实现**  
```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    int n, m;
    cin >> n >> m;
    vector<string> grid(n);
    for (int i = 0; i < n; ++i) cin >> grid[i];
    
    vector<pair<int, int>> res;
    
    for (int i = 0; i <= n-9; ++i) {
        for (int j = 0; j <= m-9; ++j) {
            // 检查左上角3x3
            bool valid = true;
            for (int x = i; x < i+3; ++x) {
                for (int y = j; y < j+3; ++y) {
                    if (grid[x][y] != '#') valid = false;
                }
            }
            if (!valid) continue;
            
            // 检查右边一列和下边一行
            for (int x = i; x < i+3; ++x) if (grid[x][j+3] != '.') valid = false;
            for (int y = j; y < j+3; ++y) if (grid[i+3][y] != '.') valid = false;
            
            // 检查右下角3x3
            for (int x = i+6; x < i+9; ++x) {
                for (int y = j+6; y < j+9; ++y) {
                    if (grid[x][y] != '#') valid = false;
                }
            }
            if (!valid) continue;
            
            // 检查右下角的左边一列和上边一行
            for (int x = i+6; x < i+9; ++x) if (grid[x][j+5] != '.') valid = false;
            for (int y = j+6; y < j+9; ++y) if (grid[i+5][y] != '.') valid = false;
            
            if (valid) res.emplace_back(i+1, j+1);
        }
    }
    
    for (auto [x, y] : res) cout << x << " " << y << endl;
    return 0;
}
```

**代码核心逻辑**  
1. **区域遍历**：双重循环枚举所有可能的9x9区域。
2. **分块检查**：逐块验证左上和右下3x3是否为黑块。
3. **边界条件**：确保检查右侧/下侧时不越界。
4. **坐标转换**：结果转换为1-based输出。

---

**可视化与交互设计**  
- **网格渲染**：用Canvas绘制二维网格，当前检查区域高亮。
- **像素动画**：逐步填充黑块（深灰）、白块（浅灰），验证时闪烁提示。
- **音效设计**：成功时播放8-bit胜利音效，失败时短暂蜂鸣。
- **交互控制**：支持暂停/继续，调整检测速度观察细节。

**复古风格实现**  
```javascript
// 示例：Canvas绘制9x9区域
ctx.fillStyle = '#333'; // 黑块颜色
ctx.fillRect(x*10, y*10, 3*10, 3*10); // 绘制3x3区域
// 音效触发
if (valid) new Audio('success.wav').play();
```

---
处理用时：568.27秒
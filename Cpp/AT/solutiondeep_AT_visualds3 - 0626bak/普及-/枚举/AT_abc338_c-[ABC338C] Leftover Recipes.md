# 题目信息

# [ABC338C] Leftover Recipes

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc338/tasks/abc338_c

冷蔵庫に $ N $ 種類の材料があります。これらを材料 $ 1 $、$ \dots $、材料 $ N $ と呼びます。材料 $ i $ は $ Q_i $ グラムあります。

あなたは $ 2 $ 種類の料理を作れます。料理 A は、$ 1 $ 人分を作るのに各材料 $ i $ $ (1\ \leq\ i\ \leq\ N) $ が $ A_i $ グラム必要です。料理 B は、$ 1 $ 人分を作るのに各材料 $ i $ が $ B_i $ グラム必要です。どちらも整数人分しか作れません。

冷蔵庫にある材料のみを使って、最大で合計何人分の料理を作れますか。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 10 $
- $ 1\ \leq\ Q_i\ \leq\ 10^6 $
- $ 0\ \leq\ A_i\ \leq\ 10^6 $
- $ A_i\ \geq\ 1 $ であるような $ i $ が存在する。
- $ 0\ \leq\ B_i\ \leq\ 10^6 $
- $ B_i\ \geq\ 1 $ であるような $ i $ が存在する。
- 入力値はすべて整数である。
 
### Sample Explanation 1

この冷蔵庫には、$ 800 $ グラムの材料 $ 1 $ と $ 300 $ グラムの材料 $ 2 $ があります。 $ 100 $ グラムの材料 $ 1 $ と $ 100 $ グラムの材料 $ 2 $ で料理 A を $ 1 $ 人分作れ、$ 200 $ グラムの材料 $ 1 $ と $ 10 $ グラムの材料 $ 2 $ で料理 B を $ 1 $ 人分作れます。 料理 A を $ 2 $ 人分、料理 B を $ 3 $ 人分作るのに必要な材料 $ 1 $ の量は $ 100\ \times\ 2\ +\ 200\ \times\ 3\ =\ 800 $ グラム、材料 $ 2 $ の量は $ 100\ \times\ 2\ +\ 10\ \times\ 3\ =\ 230 $ グラムで、いずれも冷蔵庫にある量を超えません。このようにして合計 $ 5 $ 人分の料理を作ることができますが、$ 6 $ 人分を作る方法はなく、答えは $ 5 $ です。

### Sample Explanation 2

$ 800 $ グラムの材料 $ 1 $ で料理 A を $ 8 $ 人分、$ 300 $ グラムの材料 $ 2 $ で料理 B を $ 30 $ 人分、合計 $ 38 $ 人分作れます。

### Sample Explanation 3

何も作れません。

## 样例 #1

### 输入

```
2

800 300

100 100

200 10```

### 输出

```
5```

## 样例 #2

### 输入

```
2

800 300

100 0

0 10```

### 输出

```
38```

## 样例 #3

### 输入

```
2

800 300

801 300

800 301```

### 输出

```
0```

## 样例 #4

### 输入

```
10

1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000

0 1 2 3 4 5 6 7 8 9

9 8 7 6 5 4 3 2 1 0```

### 输出

```
222222```

# AI分析结果



## 算法分类
**枚举法**

---

## 题解思路、算法要点与解决难点

### 核心思路
1. **枚举 A 的份数**：确定 A 的最大可能份数 `amax`，枚举 `0 ≤ i ≤ amax`。
2. **计算 B 的最大份数**：对每个 A 的份数 `i`，用剩余材料计算 B 的最大可能份数 `bmax`。
3. **处理特殊值**：当 `A_i` 或 `B_i` 为 0 时跳过，避免除以零。

### 解决难点
- **高效枚举**：通过 `amax` 限制枚举范围，减少不必要的计算。
- **除零处理**：忽略 `A_i=0` 或 `B_i=0` 的材料，通过取最小值确保合法性。
- **剩余材料计算**：实时更新剩余材料并验证是否非负。

---

## 题解评分 (≥4星)

### 1. ToastBread (⭐⭐⭐⭐⭐)
- **思路清晰**：明确计算 `amax` 后枚举，处理除零。
- **代码简洁**：逻辑清晰，变量命名合理。
- **高效优化**：通过 `amax` 减少枚举次数。

### 2. Hog_Dawa_IOI (⭐⭐⭐⭐)
- **完整思路**：详细解释暴力枚举的合理性。
- **特判处理**：正确处理 `A_i=0` 和 `B_i=0` 的情况。
- **代码规范**：使用 `long long` 避免溢出。

### 3. M1saka16I72 (⭐⭐⭐⭐)
- **变形思路**：通过不等式推导枚举边界。
- **代码注释**：提供调试和优化建议，适合学习。
- **边界处理**：显式检查 `y` 的合法性。

---

## 最优思路与技巧

### 关键步骤
1. **计算 `amax`**：
   ```cpp
   for (int i = 1; i <= n; i++) {
       if (a[i] > 0) amax = min(amax, q[i] / a[i]);
   }
   ```
2. **枚举并计算 `bmax`**：
   ```cpp
   for (int i = 0; i <= amax; i++) {
       int bmax = INF;
       for (int j = 1; j <= n; j++) {
           int remain = q[j] - a[j] * i;
           if (b[j] > 0) bmax = min(bmax, remain / b[j]);
       }
       ans = max(ans, i + bmax);
   }
   ```

### 技巧提炼
- **除零优化**：用条件判断跳过无效材料。
- **范围剪枝**：通过预计算 `amax` 减少枚举次数。

---

## 类似题目推荐
1. **P1833 樱花**：混合背包问题，需枚举时间分配。
2. **P2118 比例简化**：暴力枚举比例验证合法性。
3. **P1217 能量项链**：区间 DP 中的枚举分界点。

---

## 可视化与算法演示

### 动画设计
- **像素风格材料条**：每种材料用不同颜色长条表示，高度随剩余量减少。
- **高亮当前操作**：红色标记当前枚举的 A 份数，蓝色显示对应 B 份数。
- **音效反馈**：成功更新最大值时播放“升级”音效，材料不足时播放警告音。

### 关键帧示例
1. **初始状态**：所有材料条满格。
2. **枚举 A=0**：显示 B 的最大份数（如 30）。
3. **枚举 A=2**：材料 1 消耗 200 克，计算 B 的剩余份数（如 3）。

---

## 代码片段（核心逻辑）
```cpp
int main() {
    // 输入 q, a, b 数组
    int amax = INF;
    for (int i = 1; i <= n; i++) {
        if (a[i] != 0) amax = min(amax, q[i] / a[i]);
    }
    int ans = 0;
    for (int i = 0; i <= amax; i++) {
        int bmax = INF;
        for (int j = 1; j <= n; j++) {
            int remain = q[j] - a[j] * i;
            if (b[j] == 0) continue;
            bmax = min(bmax, remain / b[j]);
        }
        ans = max(ans, i + bmax);
    }
    cout << ans;
    return 0;
}
```

---

## 个人心得摘录
- **避免死循环**：枚举时需预设 `amax`，防止无限循环（如 WilliamFranklin 的初始代码）。
- **边界检查**：在计算剩余量前验证非负，确保物理意义正确。

---

## 复古游戏化设计
- **8-bit 音效**：使用 Web Audio API 播放芯片音乐。
- **自动演示模式**：AI 按最优路径逐步增加 A 的份数，同步更新材料消耗。
- **积分系统**：每正确计算一个 `i` 得 10 分，打破记录触发特效。

---
处理用时：93.51秒
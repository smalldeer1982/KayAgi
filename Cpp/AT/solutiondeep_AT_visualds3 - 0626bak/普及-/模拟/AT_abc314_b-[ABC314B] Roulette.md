# 题目信息

# [ABC314B] Roulette

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc314/tasks/abc314_b

人 $ 1 $ 、人 $ 2 $ 、$ \ldots $ 、人 $ N $ の $ N $ 人の人がルーレットの賭けに参加しました。 このルーレットの出目は、$ 0 $ から $ 36 $ までの $ 37 $ 個の整数のうちいずれかです。 $ i\ =\ 1,\ 2,\ \ldots,\ N $ について、人 $ i $ は $ 37 $ 個の目のうち $ C_i $ 個の目 $ A_{i,\ 1},\ A_{i,\ 2},\ \ldots,\ A_{i,\ C_i} $ に賭けました。

ルーレットが回され、出目は $ X $ でした。 $ X $ に賭けた人たちのうち、賭けた目の個数が最も少ない人たちの番号を**昇順に**すべて出力してください。

より形式的には、$ 1 $ 以上 $ N $ 以下の整数 $ i $ であって、下記の $ 2 $ つの条件をともに満たすものを**昇順に**すべて出力してください。

- 人 $ i $ は $ X $ に賭けている。
- 任意の $ j\ =\ 1,\ 2,\ \ldots,\ N $ について「人 $ j $ が $ X $ に賭けているならば、$ C_i\ \leq\ C_j $ 」が成り立つ。
 
出力するべき番号が $ 1 $ つも無い場合もあることに注意してください（入力例２を参照）。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 100 $
- $ 1\ \leq\ C_i\ \leq\ 37 $
- $ 0\ \leq\ A_{i,\ j}\ \leq\ 36 $
- 任意の $ i\ =\ 1,\ 2,\ \ldots,\ N $ について、$ A_{i,\ 1},\ A_{i,\ 2},\ \ldots,\ A_{i,\ C_i} $ はすべて異なる。
- $ 0\ \leq\ X\ \leq\ 36 $
- 入力はすべて整数
 
### Sample Explanation 1

ルーレットが回され、出目は $ 19 $ でした。 $ 19 $ に賭けた人は人 $ 1 $ 、人 $ 2 $ 、人 $ 4 $ の $ 3 $ 人であり、それぞれが賭けた目の個数は $ 3,\ 4,\ 3 $ です。 よって、$ 19 $ に賭けた人のうち、賭けた目の個数が最も少ない人は人 $ 1 $ と人 $ 4 $ の $ 2 $ 人です。

### Sample Explanation 2

ルーレットが回され出目は $ 0 $ でしたが、$ 0 $ に賭けた人は一人もいないため、 出力するべき番号は $ 1 $ つもありません。

## 样例 #1

### 输入

```
4

3

7 19 20

4

4 19 24 0

2

26 10

3

19 31 24

19```

### 输出

```
2

1 4```

## 样例 #2

### 输入

```
3

1

1

1

2

1

3

0```

### 输出

```
0```

# AI分析结果



---

## 算法分类
**无算法分类**

---

## 综合分析与结论

**核心思路**  
题目要求找出所有押中轮盘结果X的玩家中，押注数量最少的玩家编号。步骤分为：
1. **输入处理**：读取所有玩家的押注数据，并存储每个玩家的押注集合。
2. **筛选条件**：遍历玩家，筛选出押中X的玩家，记录其押注数量（C_i）和编号。
3. **最小值筛选**：在符合条件的玩家中，找到最小的C_i值，收集所有对应编号，按升序输出。

**解决难点**  
- **输入处理顺序**：X在所有玩家数据之后输入，需先存储所有玩家的押注数据，再统一判断。
- **数据结构选择**：使用`unordered_set`存储每个玩家的押注数字，便于快速查询是否包含X。
- **边界条件处理**：当无押中X的玩家时，需输出0。

**可视化设计**  
- **动画流程**：  
  1. 展示轮盘结果X的确定。  
  2. 逐一遍历玩家，高亮其押注数字集合，若包含X则标记为候选。  
  3. 在候选玩家中，动态比较C_i，突出最小值，并收集对应编号。  
  4. 最终输出排序后的编号列表。  
- **颜色高亮**：  
  - 当前判断的玩家押注集合用黄色高亮。  
  - 符合条件的玩家用绿色标记，最小值用红色强调。  
- **交互功能**：支持单步执行，查看每一步的筛选逻辑。

---

## 题解评分（≥4星）

**题解评分**  
- **思路清晰度**：⭐️⭐️⭐️⭐️  
- **代码可读性**：⭐️⭐️⭐️⭐️  
- **实践可操作性**：⭐️⭐️⭐️⭐️⭐️  

**关键亮点**  
- 使用`unordered_set`快速判断X是否存在，时间复杂度为O(1)。  
- 两次遍历分别筛选候选者和最小值，逻辑清晰。  
- 输入处理严格按顺序，避免逻辑错误。

---

## 最优思路提炼

1. **快速查询**：用哈希集合（如`unordered_set`）存储押注数字，实现O(1)时间查询。  
2. **两次遍历**：第一次筛选有效玩家，第二次筛选最小值，避免同时处理多条件。  
3. **升序输出**：利用标准库的`sort`函数确保结果顺序正确。  

---

## 类似题目推荐

1. **P1056 排座椅**（处理条件筛选与排序）  
2. **P1605 迷宫**（基于条件筛选路径）  
3. **P1093 奖学金**（多条件排序与筛选）  

---

## 代码实现

```cpp
#include <iostream>
#include <vector>
#include <unordered_set>
#include <algorithm>
using namespace std;

int main() {
    int N;
    cin >> N;
    vector<unordered_set<int>> bets(N);
    vector<int> c_list(N);
    
    for (int i = 0; i < N; ++i) {
        int C;
        cin >> C;
        c_list[i] = C;
        unordered_set<int> s;
        for (int j = 0; j < C; ++j) {
            int num;
            cin >> num;
            s.insert(num);
        }
        bets[i] = s;
    }
    
    int X;
    cin >> X;
    vector<pair<int, int>> candidates;
    
    for (int i = 0; i < N; ++i) {
        if (bets[i].count(X)) {
            candidates.emplace_back(i + 1, c_list[i]); // 玩家编号从1开始
        }
    }
    
    if (candidates.empty()) {
        cout << 0 << endl;
        return 0;
    }
    
    int min_c = 37; // C_i的最大可能值为37
    for (const auto& p : candidates) {
        if (p.second < min_c) {
            min_c = p.second;
        }
    }
    
    vector<int> res;
    for (const auto& p : candidates) {
        if (p.second == min_c) {
            res.push_back(p.first);
        }
    }
    
    sort(res.begin(), res.end());
    
    for (size_t i = 0; i < res.size(); ++i) {
        if (i > 0) cout << ' ';
        cout << res[i];
    }
    cout << endl;
    
    return 0;
}
```

---

## 可视化算法演示

**核心步骤动画设计**  
1. **轮盘结果展示**：显示X的值（如像素风格数字）。  
2. **遍历玩家数据**：每个玩家的押注集合以网格形式展示，若包含X则高亮。  
3. **最小值筛选**：候选玩家列表动态更新，最小值用红色闪烁标记。  
4. **最终输出**：符合条件的编号按升序排列，逐个显示。  

**复古像素风格**  
- **颜色方案**：16色调色板，绿色表示选中，红色表示最小值。  
- **音效**：押中时播放“叮”声，最小值确定时播放胜利音效。  
- **交互**：方向键控制遍历速度，空格键暂停/继续。  

**Canvas实现**  
- 每个玩家数据用网格块表示，X所在块用不同颜色标识。  
- 候选玩家的编号和C_i动态显示在右侧面板。

---
处理用时：188.81秒
# é¢˜ç›®ä¿¡æ¯

# [AGC068B] 01 Graph Construction

## é¢˜ç›®æè¿°

[problemUrl]: https://atcoder.jp/contests/agc068/tasks/agc068_b

`0`,`1` ã®ã¿ã‹ã‚‰ãªã‚‹æ–‡å­—åˆ—ã®çµ„ $ (S,T) $ ãŒæ¬¡ã®æ¡ä»¶ã‚’ã™ã¹ã¦æº€ãŸã™ã¨ã (ãã—ã¦ãã®ã¨ãã®ã¿) ãã‚Œã‚’**è‰¯ã„**æ–‡å­—åˆ—çµ„ã¨å‘¼ã¶ã“ã¨ã«ã—ã¾ã™ï¼

- $ S,T $ ã«å«ã¾ã‚Œã‚‹ `0` ã®å€‹æ•°ã¯ç­‰ã—ã„ï¼
- $ S,T $ ã«å«ã¾ã‚Œã‚‹ `1` ã®å€‹æ•°ã¯ç­‰ã—ã„ï¼

ç‰¹ã«ï¼Œè‰¯ã„æ–‡å­—åˆ—çµ„ $ (S,T) $ ã«ã¤ã„ã¦ï¼Œ$ S,T $ ã®é•·ã•ã¯åŒã˜ã§ã™ï¼

è‰¯ã„æ–‡å­—åˆ—çµ„ $ (S,T) $ ã«å¯¾ã—ï¼Œç„¡å‘ã‚°ãƒ©ãƒ• $ G(S,T) $ ã‚’æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã™ï¼

- $ S $ ã®é•·ã•ã‚’ $ L $ ã¨ã™ã‚‹ï¼é ‚ç‚¹ $ 1,2,\cdots,L $ ã‹ã‚‰ãªã‚‹ã‚°ãƒ©ãƒ• $ g $ ã‚’ã¤ãã‚‹ï¼
- $ S $ ã«å«ã¾ã‚Œã‚‹ `0` ã®å€‹æ•°ã‚’ $ n $ ã¨ã™ã‚‹ï¼ $ S $ ã«å«ã¾ã‚Œã‚‹ `0` ã® index ã‚’ $ 1\ \leq\ a_1\ <\ a_2\ <\ \cdots\ <\ a_n\ \leq\ L $ ã¨ã™ã‚‹ï¼ $ T $ ã«å«ã¾ã‚Œã‚‹ `0` ã® index ã‚’ $ 1\ \leq\ b_1\ <\ b_2\ <\ \cdots\ <\ b_n\ \leq\ L $ ã¨ã™ã‚‹ï¼ å„ $ 1\ \leq\ i\ \leq\ n $ ã«å¯¾ã—ï¼Œé ‚ç‚¹ $ a_i $ ã¨é ‚ç‚¹ $ b_i $ ã‚’çµã¶è¾ºã‚’ $ g $ ã«è¿½åŠ ã™ã‚‹ï¼
- $ S $ ã«å«ã¾ã‚Œã‚‹ `1` ã®å€‹æ•°ã‚’ $ m $ ã¨ã™ã‚‹ï¼ $ S $ ã«å«ã¾ã‚Œã‚‹ `1` ã® index ã‚’ $ 1\ \leq\ c_1\ <\ c_2\ <\ \cdots\ <\ c_m\ \leq\ L $ ã¨ã™ã‚‹ï¼ $ T $ ã«å«ã¾ã‚Œã‚‹ `1` ã® index ã‚’ $ 1\ \leq\ d_1\ <\ d_2\ <\ \cdots\ <\ d_m\ \leq\ L $ ã¨ã™ã‚‹ï¼ å„ $ 1\ \leq\ i\ \leq\ m $ ã«å¯¾ã—ï¼Œé ‚ç‚¹ $ c_i $ ã¨é ‚ç‚¹ $ d_i $ ã‚’çµã¶è¾ºã‚’ $ g $ ã«è¿½åŠ ã™ã‚‹ï¼
- ä»¥ä¸Šã®æ‰‹é †ã§å¾—ãŸ $ g $ ã‚’ $ G(S,T) $ ã¨ã™ã‚‹ï¼

é•·ã• $ N $ ã®æ•´æ•°åˆ— $ A=(A_1,A_2,\cdots,A_N) $ ãŒä¸ãˆã‚‰ã‚Œã¾ã™ï¼ ä»¥ä¸‹ã®æ¡ä»¶ã‚’ã™ã¹ã¦æº€ãŸã™è‰¯ã„æ–‡å­—åˆ—çµ„ $ (S,T) $ ã‚’ $ 1 $ ã¤è¦‹ã¤ã‘ã¦ãã ã•ã„ï¼

- $ S $ ã®é•·ã•ã‚’ $ L $ ã¨ã™ã‚‹ï¼$ N\ \leq\ L\ \leq\ 10^5 $ ã§ã‚ã‚‹ï¼
- å„ $ 1\ \leq\ i,j\ \leq\ N $ ã«ã¤ã„ã¦ï¼Œ$ G(S,T) $ ã§é ‚ç‚¹ $ i $ ã¨é ‚ç‚¹ $ j $ ãŒåŒã˜é€£çµæˆåˆ†ã«å±ã™ã¨ãï¼Œãã—ã¦ãã®ã¨ãã®ã¿ $ A_i=A_j $ ã§ã‚ã‚‹ï¼

ãªãŠï¼Œã“ã®å•é¡Œã®åˆ¶ç´„ä¸‹ã§è§£ãŒå¿…ãšå­˜åœ¨ã™ã‚‹ã“ã¨ãŒè¨¼æ˜ã§ãã¾ã™ï¼

## è¯´æ˜/æç¤º

### åˆ¶ç´„

- $ 1\ \leq\ N\ \leq\ 100 $
- $ 1\ \leq\ A_i\ \leq\ N $
- å…¥åŠ›ã•ã‚Œã‚‹å€¤ã¯ã™ã¹ã¦æ•´æ•°

### Sample Explanation 1

å‡ºåŠ›ä¾‹ã® $ S,T $ ã«ã¤ã„ã¦ $ G(S,T) $ ã‚’æ±‚ã‚ã‚‹ã¨ï¼Œæ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼ - $ 4 $ é ‚ç‚¹ãªã‚‰ãªã‚‹ã‚°ãƒ©ãƒ• $ g $ ã‚’ç”¨æ„ã™ã‚‹ï¼ - $ S $ ã«å«ã¾ã‚Œã‚‹ `0` ã® index ã¯ $ (1,2) $ ã§ï¼Œ$ T $ ã«å«ã¾ã‚Œã‚‹ `0` ã® index ã¯ $ (3,4) $ ã§ã‚ã‚‹ï¼ è¾º $ (1,3),(2,4) $ ã‚’ $ g $ ã«è¿½åŠ ã™ã‚‹ï¼ - $ S $ ã«å«ã¾ã‚Œã‚‹ `1` ã® index ã¯ $ (3,4) $ ã§ï¼Œ$ T $ ã«å«ã¾ã‚Œã‚‹ `1` ã® index ã¯ $ (1,2) $ ã§ã‚ã‚‹ï¼ è¾º $ (3,1),(4,2) $ ã‚’ $ g $ ã«è¿½åŠ ã™ã‚‹ï¼ - $ G(S,T)=g $ ã¨ã™ã‚‹ï¼ $ G(S,T) $ ã®é€£çµæˆåˆ†ã¯ï¼Œé ‚ç‚¹ $ (1,3) $ ã‹ã‚‰ãªã‚‹æˆåˆ†ã¨é ‚ç‚¹ $ (2,4) $ ã‹ã‚‰ãªã‚‹æˆåˆ†ã§ã™ï¼ ã“ã‚Œã¯æ¡ä»¶ã‚’ã™ã¹ã¦æº€ãŸã™ã®ã§ï¼Œã“ã® $ (S,T) $ ã¯æ­£ã—ã„å‡ºåŠ›ã§ã™ï¼

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
1 2 1```

### è¾“å‡º

```
4
0011
1100```

## æ ·ä¾‹ #2

### è¾“å…¥

```
5
1 2 3 4 5```

### è¾“å‡º

```
5
01010
01010```

## æ ·ä¾‹ #3

### è¾“å…¥

```
6
1 1 1 1 1 1```

### è¾“å‡º

```
6
011111
111110```

## æ ·ä¾‹ #4

### è¾“å…¥

```
10
1 2 3 2 4 3 4 4 5 6```

### è¾“å‡º

```
21
000101010111100011011
011010000010101111110```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[AGC068B] 01 Graph Construction æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š**æ„é€ æ€§ç¼–ç¨‹æŠ€å·§**ï¼ˆä¾§é‡é€šè¿‡æ¨¡æ‹Ÿæ“ä½œå®ç°å›¾ç»“æ„çš„ç²¾å‡†æ§åˆ¶ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³è¿™é“é¢˜çš„æ ¸å¿ƒï¼Œæ˜¯**ç”¨01å­—ç¬¦ä¸²çš„æ„é€ æ¥â€œæ­å»ºâ€ç¬¦åˆè¦æ±‚çš„å›¾ç»“æ„**ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ç”¨Så’ŒTä¸­çš„0ã€1ä½ç½®å¯¹åº”å…³ç³»ï¼Œåƒâ€œç‰µçº¿æ­æ¡¥â€ä¸€æ ·æŠŠé¡¶ç‚¹è¿èµ·æ¥â€”â€”Sçš„0ä½ç½®å’ŒTçš„0ä½ç½®è¿è¾¹ï¼ŒSçš„1ä½ç½®å’ŒTçš„1ä½ç½®è¿è¾¹ã€‚æœ€ç»ˆï¼Œå›¾çš„è¿é€šæ€§è¦ä¸¥æ ¼å¯¹åº”è¾“å…¥åºåˆ—Açš„åˆ†ç»„ï¼ˆåŒä¸€ç»„çš„é¡¶ç‚¹å¿…é¡»è¿é€šï¼Œä¸åŒç»„çš„å¿…é¡»ä¸è¿é€šï¼‰ã€‚  

**æ ¸å¿ƒæ€è·¯**ï¼š  
é¢˜è§£é‡‡ç”¨äº†â€œåˆå§‹æ¨¡æ¿+åŠ¨æ€è°ƒæ•´â€çš„ç­–ç•¥ï¼š  
- åˆå§‹æ—¶ï¼ŒSæ˜¯`n`ä¸ª0ï¼ˆæ¯”å¦‚`000`ï¼‰ï¼ŒTæ˜¯`n`ä¸ª1ï¼ˆæ¯”å¦‚`111`ï¼‰ã€‚æ­¤æ—¶ï¼ŒSçš„0ä½ç½®æ˜¯`1~n`ï¼ŒTçš„0ä½ç½®ä¸ºç©ºï¼ˆå› ä¸ºTåˆå§‹å…¨æ˜¯1ï¼‰ï¼Œæ‰€ä»¥0å¯¹åº”çš„è¾¹è¿˜æ²¡è¿ï¼›Sçš„1ä½ç½®ä¸ºç©ºï¼ŒTçš„1ä½ç½®æ˜¯`1~n`ï¼Œæ‰€ä»¥1å¯¹åº”çš„è¾¹ä¹Ÿæ²¡è¿ã€‚  
- æ¥ä¸‹æ¥ï¼Œé€šè¿‡**æ·»åŠ 00ã€11ã€10ã€01**è¿™å››ç§æ“ä½œï¼Œè°ƒæ•´Så’ŒTä¸­çš„0ã€1ä½ç½®ï¼š  
  - æ·»åŠ `00`ï¼šSå’ŒTéƒ½åŠ ä¸€ä¸ª0ï¼Œç›¸å½“äºæŠŠSçš„0åºåˆ—ï¼ˆæœªåŒ¹é…çš„0ä½ç½®ï¼‰å‘å·¦æ—‹è½¬ä¸€ä½ï¼ˆæ¯”å¦‚`1,2,3`â†’`2,3,1`ï¼‰ï¼›  
  - æ·»åŠ `11`ï¼šåŒç†ï¼Œæ—‹è½¬Tçš„1åºåˆ—ï¼›  
  - æ·»åŠ `10`å’Œ`01`ï¼šè¿™ä¸€æ­¥æ˜¯â€œè¿è¾¹â€â€”â€”æŠŠå½“å‰Sçš„0åºåˆ—çš„ç¬¬ä¸€ä¸ªä½ç½®å’ŒTçš„1åºåˆ—çš„ç¬¬ä¸€ä¸ªä½ç½®è¿èµ·æ¥ï¼ˆæ¯”å¦‚Sçš„0åœ¨ä½ç½®`u`ï¼ŒTçš„1åœ¨ä½ç½®`v`ï¼Œè¿è¾¹`u-v`ï¼‰ï¼Œç„¶åæ—‹è½¬ä¸¤ä¸ªåºåˆ—ã€‚  
- æœ€åï¼Œè¡¥å…¨è¶³å¤Ÿçš„1å’Œ0ï¼Œè®©Så’ŒTçš„0ã€1æ•°é‡ç›¸ç­‰ï¼Œä¸”é•¿åº¦ä¸è¶…è¿‡`1e5`ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä»¬å¯ä»¥ç”¨**8ä½åƒç´ é£æ ¼**å±•ç¤ºå­—ç¬¦ä¸²æ„é€ å’Œå›¾å˜åŒ–çš„è¿‡ç¨‹ï¼š  
- å·¦ä¾§æ˜¾ç¤ºSçš„å­—ç¬¦ä¸²ï¼ˆåƒç´ å—é¢œè‰²ï¼š0=è“è‰²ï¼Œ1=çº¢è‰²ï¼‰ï¼Œå³ä¾§æ˜¾ç¤ºTçš„å­—ç¬¦ä¸²ï¼›  
- ä¸­é—´æ˜¾ç¤ºå›¾ç»“æ„ï¼ˆé¡¶ç‚¹æ˜¯å°æ–¹å—ï¼Œè¾¹æ˜¯çº¿æ®µï¼‰ï¼›  
- æ¯æ‰§è¡Œä¸€æ­¥æ“ä½œï¼ˆæ¯”å¦‚æ·»åŠ 00ã€11ã€10/01ï¼‰ï¼Œå¯¹åº”çš„åƒç´ å—ä¼šé—ªçƒï¼Œå¹¶æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼›  
- è¿è¾¹æ—¶ï¼Œé¡¶ç‚¹ä¼šé«˜äº®ï¼Œæ’­æ”¾â€œå’šâ€çš„éŸ³æ•ˆï¼›  
- å®Œæˆæ—¶ï¼Œå›¾çš„è¿é€šå—ä¼šç”¨ä¸åŒé¢œè‰²æ ‡è®°ï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼šæ¥æºï¼šRainbow_qwqï¼ˆèµï¼š6ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯**éå¸¸æ¸…æ™°**ï¼ŒæŠŠâ€œæ„é€ å›¾â€è½¬åŒ–ä¸ºâ€œè°ƒæ•´01åºåˆ—çš„ä½ç½®å¯¹åº”å…³ç³»â€ï¼Œæ­¥éª¤æ˜ç¡®ä¸”å¯æ“ä½œã€‚ä»£ç é£æ ¼**è§„èŒƒæ˜“æ‡‚**ï¼Œå˜é‡åï¼ˆå¦‚`p`è¡¨ç¤ºSçš„0åºåˆ—å½“å‰ä½ç½®ï¼Œ`q`è¡¨ç¤ºTçš„1åºåˆ—å½“å‰ä½ç½®ï¼‰å«ä¹‰æ˜ç¡®ï¼Œè¾¹ç•Œå¤„ç†ï¼ˆæ¯”å¦‚ç”¨æ¨¡è¿ç®—å®ç°æ—‹è½¬ï¼‰ä¸¥è°¨ã€‚  
  å…¶**æ ¸å¿ƒäº®ç‚¹**æ˜¯ç”¨â€œæ—‹è½¬åºåˆ—+è¿è¾¹â€çš„æ–¹å¼ï¼Œç²¾å‡†æ§åˆ¶æ¯ä¸€æ¡è¾¹çš„ç”Ÿæˆâ€”â€”æ¯”å¦‚è¦è¿è¾¹`u-v`ï¼Œå°±é€šè¿‡æ·»åŠ 00æˆ–11æŠŠ`p`è½¬åˆ°`u`ï¼Œ`q`è½¬åˆ°`v`ï¼Œç„¶åæ·»åŠ 10å’Œ01å®Œæˆè¿è¾¹ã€‚è¿™ç§æ–¹æ³•**æ•ˆç‡é«˜**ï¼ˆæ—¶é—´å¤æ‚åº¦`O(n^2)`ï¼Œ`nâ‰¤100`å®Œå…¨æ»¡è¶³`1e5`çš„é•¿åº¦é™åˆ¶ï¼‰ï¼Œä¸”**é€šç”¨æ€§å¼º**ï¼Œå¯ä»¥æ¨å¹¿åˆ°ç±»ä¼¼çš„æ„é€ é—®é¢˜ã€‚  
  ä»å®è·µè§’åº¦çœ‹ï¼Œä»£ç å¯ä»¥ç›´æ¥ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†ï¼ˆæ¯”å¦‚è¡¥å…¨1å’Œ0ï¼‰éå¸¸ä¸¥è°¨ï¼Œæ˜¯å­¦ä¹ æ„é€ æ€§ç¼–ç¨‹çš„å¥½ä¾‹å­ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### ğŸ§© æ ¸å¿ƒéš¾ç‚¹ä¸è§£å†³ç­–ç•¥
1. **éš¾ç‚¹1ï¼šå¦‚ä½•å°†å›¾çš„è¿é€šæ€§éœ€æ±‚è½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ„é€ ï¼Ÿ**  
   * **åˆ†æ**ï¼šå›¾çš„è¿é€šæ€§ç”±è¾¹å†³å®šï¼Œè€Œè¾¹ç”±Så’ŒTä¸­çš„0ã€1ä½ç½®å¯¹åº”å…³ç³»äº§ç”Ÿã€‚æ¯”å¦‚ï¼Œè¦è®©é¡¶ç‚¹`u`å’Œ`v`è¿é€šï¼Œå°±éœ€è¦åœ¨Sçš„0ä½ç½®å’ŒTçš„1ä½ç½®ä¹‹é—´è¿ä¸€æ¡è¾¹ï¼ˆæˆ–åä¹‹ï¼‰ã€‚é¢˜è§£ä¸­ï¼Œé€šè¿‡â€œæ·»åŠ 10å’Œ01â€æ“ä½œï¼Œç›´æ¥å°†å½“å‰Sçš„0åºåˆ—ç¬¬ä¸€ä¸ªä½ç½®å’ŒTçš„1åºåˆ—ç¬¬ä¸€ä¸ªä½ç½®è¿è¾¹ï¼Œä»è€Œæ§åˆ¶è¾¹çš„ç”Ÿæˆã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ„é€ é¢˜çš„å…³é”®æ˜¯â€œé—®é¢˜è½¬åŒ–â€â€”â€”æŠŠæŠ½è±¡çš„å›¾éœ€æ±‚è½¬åŒ–ä¸ºå…·ä½“çš„å­—ç¬¦ä¸²æ“ä½œã€‚

2. **éš¾ç‚¹2ï¼šå¦‚ä½•è°ƒæ•´0ã€1åºåˆ—çš„ä½ç½®ï¼Ÿ**  
   * **åˆ†æ**ï¼šé¢˜è§£ç”¨â€œæ—‹è½¬åºåˆ—â€çš„æ–¹å¼è°ƒæ•´ä½ç½®â€”â€”æ¯”å¦‚ï¼Œæ·»åŠ 00ä¼šè®©Sçš„0åºåˆ—å‘å·¦æ—‹è½¬ä¸€ä½ï¼ˆ`p=(p+1)%n`ï¼‰ã€‚è¿™ç§æ–¹æ³•**ç®€å•é«˜æ•ˆ**ï¼Œç”¨æ¨¡è¿ç®—å°±èƒ½å®ç°å¾ªç¯ï¼Œä¸éœ€è¦é¢å¤–çš„æ•°æ®ç»“æ„ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ—‹è½¬åºåˆ—æ˜¯å¤„ç†å¾ªç¯ç»“æ„çš„å¸¸ç”¨æŠ€å·§ï¼Œé€‚ç”¨äºéœ€è¦å¾ªç¯è°ƒæ•´ä½ç½®çš„åœºæ™¯ã€‚

3. **éš¾ç‚¹3ï¼šå¦‚ä½•ä¿è¯å­—ç¬¦ä¸²é•¿åº¦ä¸è¶…è¿‡`1e5`ï¼Ÿ**  
   * **åˆ†æ**ï¼šé¢˜è§£ä¸­çš„æ“ä½œæ¬¡æ•°æ˜¯`O(n^2)`ï¼ˆ`nâ‰¤100`ï¼‰ï¼Œæ‰€ä»¥æ€»é•¿åº¦æœ€å¤šæ˜¯`n + 2*e + n`ï¼ˆ`e`æ˜¯è¾¹æ•°ï¼Œæœ€å¤š`n`ï¼‰ï¼Œè¿œå°äº`1e5`ã€‚è¡¥å…¨çš„1å’Œ0éƒ¨åˆ†é•¿åº¦æ˜¯`n`ï¼Œä¹Ÿä¸ä¼šè¶…é™ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ„é€ é¢˜è¦æ³¨æ„â€œé•¿åº¦æ§åˆ¶â€ï¼Œé€‰æ‹©`O(n^2)`æˆ–æ›´ä¼˜çš„æ–¹æ³•ï¼Œé¿å…è¶…æ—¶æˆ–è¶…é•¿åº¦é™åˆ¶ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1ï¼šé—®é¢˜è½¬åŒ–**ï¼šå°†å›¾çš„è¿é€šæ€§éœ€æ±‚è½¬åŒ–ä¸ºå­—ç¬¦ä¸²çš„0ã€1ä½ç½®å¯¹åº”å…³ç³»ï¼Œç”¨æ“ä½œæ¨¡æ‹Ÿè¾¹çš„ç”Ÿæˆã€‚  
- **æŠ€å·§2ï¼šæ—‹è½¬åºåˆ—**ï¼šç”¨æ¨¡è¿ç®—å®ç°å¾ªç¯æ—‹è½¬ï¼Œè°ƒæ•´0ã€1åºåˆ—çš„ä½ç½®ï¼Œç²¾å‡†æ§åˆ¶è¾¹çš„è¿æ¥ã€‚  
- **æŠ€å·§3ï¼šè¾¹ç•Œå¤„ç†**ï¼šè¡¥å…¨è¶³å¤Ÿçš„0å’Œ1ï¼Œç¡®ä¿Så’ŒTçš„0ã€1æ•°é‡ç›¸ç­‰ï¼Œä¸”é•¿åº¦ç¬¦åˆè¦æ±‚ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šæ­¤ä»£ç æ¥è‡ªRainbow_qwqçš„é¢˜è§£ï¼Œæ˜¯æ„é€ æ€§ç¼–ç¨‹çš„å…¸å‹å®ç°ï¼Œé€»è¾‘æ¸…æ™°ã€é«˜æ•ˆã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <string>
  #include <cstring>
  using namespace std;
  
  #define maxn 500005
  #define For(i,a,b) for(int i=a;i<=b;++i)
  #define mkp make_pair
  typedef pair<int,int> pii;
  
  int read() {
      int x=0,f=1;char ch=getchar();
      while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}
      while(ch>='0'&&ch<='9')x=x*10+ch-'0',ch=getchar();
      return x*f;
  }
  
  int n,a[maxn],pre[maxn];
  vector<pii> e;
  
  int main() {
      n=read();
      For(i,0,n-1) a[i]=read();
      memset(pre,-1,sizeof pre);
      For(i,0,n-1) {
          if(pre[a[i]]>=0) e.push_back(mkp(pre[a[i]],i));
          pre[a[i]]=i;
      }
      string s,t;
      For(i,0,n-1) s+='0',t+='1';
      int p=0,q=0;
      for(auto [u,v]:e) {
          while(p!=u) { s+='0'; t+='0'; p=(p+1)%n; }
          while(q!=v) { s+='1'; t+='1'; q=(q+1)%n; }
          s+='1'; t+='0';
          s+='0'; t+='1';
          p=(p+1)%n; q=(q+1)%n;
      }
      while(p!=q) { s+='0'; t+='0'; p=(p+1)%n; }
      For(i,0,n-1) s+='1',t+='0';
      cout<<s.size()<<"\n";
      cout<<s<<"\n"<<t<<"\n";
      return 0;
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  ä»£ç åˆ†ä¸ºå››éƒ¨åˆ†ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šè¯»å–`n`å’Œåºåˆ—`A`ï¼Œè®°å½•æ¯ä¸ªåˆ†ç»„çš„ç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®ï¼ˆ`pre`æ•°ç»„ï¼‰ï¼Œå¹¶æ”¶é›†éœ€è¦è¿çš„è¾¹ï¼ˆ`e`æ•°ç»„ï¼‰ã€‚  
  2. **åˆå§‹å­—ç¬¦ä¸²æ„é€ **ï¼šSåˆå§‹ä¸º`n`ä¸ª0ï¼ŒTåˆå§‹ä¸º`n`ä¸ª1ã€‚  
  3. **åŠ¨æ€è°ƒæ•´å­—ç¬¦ä¸²**ï¼šå¾ªç¯å¤„ç†æ¯æ¡è¾¹ï¼Œé€šè¿‡æ·»åŠ 00æˆ–11æ—‹è½¬åºåˆ—ï¼Œå°†`p`å’Œ`q`è½¬åˆ°ç›®æ ‡ä½ç½®ï¼Œç„¶åæ·»åŠ 10å’Œ01è¿è¾¹ã€‚  
  4. **è¡¥å…¨å­—ç¬¦ä¸²**ï¼šè°ƒæ•´`p`å’Œ`q`åˆ°åŒä¸€ä½ç½®ï¼Œç„¶åè¡¥å…¨`n`ä¸ª1å’Œ0ï¼Œç¡®ä¿Så’ŒTçš„0ã€1æ•°é‡ç›¸ç­‰ã€‚  


### é’ˆå¯¹ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ
**é¢˜è§£ä¸€ï¼šæ¥æºï¼šRainbow_qwq**  
* **äº®ç‚¹**ï¼šç”¨â€œæ—‹è½¬åºåˆ—+è¿è¾¹â€çš„æ–¹å¼ç²¾å‡†æ§åˆ¶è¾¹çš„ç”Ÿæˆã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  for(auto [u,v]:e) {
      while(p!=u) { s+='0'; t+='0'; p=(p+1)%n; }
      while(q!=v) { s+='1'; t+='1'; q=(q+1)%n; }
      s+='1'; t+='0';
      s+='0'; t+='1';
      p=(p+1)%n; q=(q+1)%n;
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  è¿™æ®µä»£ç æ˜¯**æ ¸å¿ƒé€»è¾‘**ï¼š  
  - å¯¹äºæ¯æ¡éœ€è¦è¿çš„è¾¹`(u,v)`ï¼Œé¦–å…ˆé€šè¿‡æ·»åŠ 00ï¼ˆ`s+='0'`ï¼Œ`t+='0'`ï¼‰å°†`p`ï¼ˆSçš„0åºåˆ—å½“å‰ä½ç½®ï¼‰æ—‹è½¬åˆ°`u`ï¼›  
  - ç„¶åé€šè¿‡æ·»åŠ 11ï¼ˆ`s+='1'`ï¼Œ`t+='1'`ï¼‰å°†`q`ï¼ˆTçš„1åºåˆ—å½“å‰ä½ç½®ï¼‰æ—‹è½¬åˆ°`v`ï¼›  
  - æ¥ä¸‹æ¥æ·»åŠ 10ï¼ˆ`s+='1'`ï¼Œ`t+='0'`ï¼‰å’Œ01ï¼ˆ`s+='0'`ï¼Œ`t+='1'`ï¼‰ï¼šè¿™ä¸€æ­¥ä¼šè®©Sçš„0ä½ç½®`u`å’ŒTçš„1ä½ç½®`v`è¿è¾¹ï¼ˆå› ä¸ºSçš„0åºåˆ—æ­¤æ—¶ç¬¬ä¸€ä¸ªæ˜¯`u`ï¼ŒTçš„1åºåˆ—æ­¤æ—¶ç¬¬ä¸€ä¸ªæ˜¯`v`ï¼‰ï¼›  
  - æœ€åæ—‹è½¬`p`å’Œ`q`ï¼Œå‡†å¤‡å¤„ç†ä¸‹ä¸€æ¡è¾¹ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¾ªç¯ä¸­çš„`while`å¾ªç¯æ˜¯â€œè°ƒæ•´ä½ç½®â€çš„å…³é”®ï¼Œæ¨¡è¿ç®—`(p+1)%n`å®ç°äº†å¾ªç¯æ—‹è½¬ï¼Œéå¸¸å·§å¦™ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### ğŸ® åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Š01å­—ç¬¦ä¸²æ­å»ºå›¾ã€‹ï¼ˆ8ä½åƒç´ é£æ ¼ï¼‰
**è®¾è®¡æ€è·¯**ï¼š  
é‡‡ç”¨FCçº¢ç™½æœºçš„åƒç´ é£æ ¼ï¼Œç”¨ç®€å•çš„å›¾å½¢å’ŒéŸ³æ•ˆè®©ç®—æ³•â€œåŠ¨èµ·æ¥â€ï¼Œå¸®åŠ©ç†è§£å­—ç¬¦ä¸²æ„é€ ä¸å›¾ç»“æ„çš„å…³ç³»ã€‚æ¯”å¦‚ï¼š  
- å·¦ä¾§æ˜¾ç¤ºSçš„å­—ç¬¦ä¸²ï¼ˆè“è‰²æ–¹å—ä»£è¡¨0ï¼Œçº¢è‰²ä»£è¡¨1ï¼‰ï¼›  
- å³ä¾§æ˜¾ç¤ºTçš„å­—ç¬¦ä¸²ï¼ˆåŒæ ·ç”¨è“è‰²å’Œçº¢è‰²ï¼‰ï¼›  
- ä¸­é—´æ˜¾ç¤ºå›¾ç»“æ„ï¼ˆé¡¶ç‚¹æ˜¯å°æ–¹å—ï¼Œè¾¹æ˜¯çº¿æ®µï¼Œè¿é€šå—ç”¨ä¸åŒé¢œè‰²æ ‡è®°ï¼‰ï¼›  
- æ“ä½œæ—¶æ’­æ”¾å¯¹åº”çš„éŸ³æ•ˆï¼ˆæ¯”å¦‚æ·»åŠ 00æ˜¯â€œå®â€ï¼Œè¿è¾¹æ˜¯â€œå’šâ€ï¼‰ã€‚

### ğŸ“ åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹
1. **åˆå§‹åŒ–åœºæ™¯**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¾ç¤ºSçš„åˆå§‹å­—ç¬¦ä¸²`000`ï¼ˆä¸‰ä¸ªè“è‰²æ–¹å—ï¼‰ï¼›  
   - å³ä¾§æ˜¾ç¤ºTçš„åˆå§‹å­—ç¬¦ä¸²`111`ï¼ˆä¸‰ä¸ªçº¢è‰²æ–¹å—ï¼‰ï¼›  
   - ä¸­é—´æ˜¾ç¤ºä¸‰ä¸ªé¡¶ç‚¹ï¼ˆå°æ–¹å—ï¼‰ï¼Œæ²¡æœ‰è¾¹ï¼›  
   - æ§åˆ¶é¢æ¿æœ‰â€œå¼€å§‹â€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ã€‚

2. **å¤„ç†ç¬¬ä¸€æ¡è¾¹ï¼ˆæ¯”å¦‚`u=0`ï¼Œ`v=2`ï¼‰**ï¼š  
   - **è°ƒæ•´påˆ°u**ï¼šç‚¹å‡»â€œå•æ­¥â€ï¼ŒSå’ŒTå„åŠ ä¸€ä¸ª0ï¼ˆå˜æˆ`0000`å’Œ`1110`ï¼‰ï¼Œpä»0æ—‹è½¬åˆ°1ï¼›å†ç‚¹å‡»â€œå•æ­¥â€ï¼Œå†åŠ ä¸€ä¸ª0ï¼ˆ`00000`å’Œ`11100`ï¼‰ï¼Œpæ—‹è½¬åˆ°2ï¼ˆç­‰äºu=0ï¼Ÿä¸ï¼ŒåŸä»£ç ä¸­çš„`p`æ˜¯`0~n-1`ï¼Œæ¯”å¦‚`n=3`æ—¶ï¼Œ`p=0`å¯¹åº”ç¬¬ä¸€ä¸ª0çš„ä½ç½®ï¼Œ`p=1`å¯¹åº”ç¬¬äºŒä¸ªï¼Œ`p=2`å¯¹åº”ç¬¬ä¸‰ä¸ªã€‚å‡è®¾`u=0`ï¼Œé‚£ä¹ˆ`p`éœ€è¦è°ƒæ•´åˆ°0ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦å¾ªç¯æ·»åŠ 00ç›´åˆ°`p==u`ï¼‰ï¼›  
   - **è°ƒæ•´qåˆ°v**ï¼šåŒç†ï¼Œæ·»åŠ 11ç›´åˆ°`q==v`ï¼›  
   - **è¿è¾¹**ï¼šæ·»åŠ 10å’Œ01ï¼ŒSå˜æˆ`0000010`ï¼ˆå‡è®¾ï¼‰ï¼ŒTå˜æˆ`1110001`ï¼ˆå‡è®¾ï¼‰ï¼Œä¸­é—´å›¾ä¸­é¡¶ç‚¹`u`å’Œ`v`ä¹‹é—´å‡ºç°ä¸€æ¡è¾¹ï¼Œæ’­æ”¾â€œå’šâ€çš„éŸ³æ•ˆã€‚

3. **è¡¥å…¨å­—ç¬¦ä¸²**ï¼š  
   - è°ƒæ•´`p`å’Œ`q`åˆ°åŒä¸€ä½ç½®ï¼ˆæ·»åŠ 00ï¼‰ï¼›  
   - è¡¥å…¨`n`ä¸ª1å’Œ0ï¼ŒSå˜æˆ`0000010111`ï¼ˆå‡è®¾ï¼‰ï¼ŒTå˜æˆ`1110001000`ï¼ˆå‡è®¾ï¼‰ï¼Œæ­¤æ—¶Så’ŒTçš„0ã€1æ•°é‡ç›¸ç­‰ï¼›  
   - å›¾çš„è¿é€šå—ç”¨ä¸åŒé¢œè‰²æ ‡è®°ï¼ˆæ¯”å¦‚åŒä¸€ç»„çš„é¡¶ç‚¹æ˜¯ç»¿è‰²ï¼Œä¸åŒç»„æ˜¯é»„è‰²ï¼‰ï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆã€‚

### ğŸ§ éŸ³æ•ˆè®¾è®¡
- **æ·»åŠ 00/11**ï¼šè½»å¾®çš„â€œå®â€å£°ï¼ˆæç¤ºæ—‹è½¬æ“ä½œï¼‰ï¼›  
- **è¿è¾¹ï¼ˆæ·»åŠ 10/01ï¼‰**ï¼šä½æ²‰çš„â€œå’šâ€å£°ï¼ˆæç¤ºè¾¹ç”Ÿæˆï¼‰ï¼›  
- **å®Œæˆ**ï¼šä¸Šæ‰¬çš„â€œæ»´~â€å£°ï¼ˆæç¤ºæˆåŠŸï¼‰ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ğŸ”„ é€šç”¨æ€è·¯è¿ç§»
æ„é€ æ€§ç¼–ç¨‹æŠ€å·§ä¸ä»…èƒ½è§£å†³æœ¬é¢˜ï¼Œè¿˜èƒ½ç”¨äºï¼š  
- **æ„é€ åºåˆ—**ï¼šæ¯”å¦‚è¦æ±‚åºåˆ—æ»¡è¶³æŸç§é€’æ¨å…³ç³»æˆ–ç»Ÿè®¡æ¡ä»¶ï¼›  
- **æ„é€ å›¾**ï¼šæ¯”å¦‚è¦æ±‚å›¾çš„åº¦æ•°ã€è¿é€šæ€§ç¬¦åˆæŸç§æ¡ä»¶ï¼›  
- **æ„é€ å­—ç¬¦ä¸²**ï¼šæ¯”å¦‚è¦æ±‚å­—ç¬¦ä¸²çš„å­ä¸²ã€å‰ç¼€æ»¡è¶³æŸç§æ¡ä»¶ã€‚

### ğŸ“š æ´›è°·ç»ƒä¹ æ¨è
1. **æ´›è°· P1111 ä¿®å¤å…¬è·¯**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦æ„é€ ä¸€æ¡ä¿®å¤å…¬è·¯çš„é¡ºåºï¼Œä½¿å¾—æ‰€æœ‰æ‘åº„è¿é€šï¼Œé”»ç‚¼â€œæ„é€ é¡ºåºâ€çš„æ€ç»´ã€‚  
2. **æ´›è°· P2051 ä¸­å›½è±¡æ£‹**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦æ„é€ ä¸€ä¸ªä¸­å›½è±¡æ£‹çš„æ£‹ç›˜ï¼Œæ»¡è¶³æŸç§æ£‹å­æ”¾ç½®æ¡ä»¶ï¼Œé”»ç‚¼â€œæ„é€ äºŒç»´ç»“æ„â€çš„èƒ½åŠ›ã€‚  
3. **æ´›è°· P3167 æ’åˆ—**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦æ„é€ ä¸€ä¸ªæ’åˆ—ï¼Œä½¿å¾—ç›¸é‚»å…ƒç´ çš„å·®ç¬¦åˆæŸç§æ¡ä»¶ï¼Œé”»ç‚¼â€œæ„é€ çº¿æ€§ç»“æ„â€çš„æŠ€å·§ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)
**å‚è€ƒç»éªŒï¼ˆæ¥è‡ªRainbow_qwqï¼‰**ï¼š  
â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆæ²¡æƒ³åˆ°ç”¨æ—‹è½¬åºåˆ—çš„æ–¹å¼è°ƒæ•´ä½ç½®ï¼Œåæ¥é€šè¿‡æ¨¡æ‹Ÿæ ·ä¾‹ä¸€çš„æ„é€ è¿‡ç¨‹ï¼Œå‘ç°æ—‹è½¬å¯ä»¥ç²¾å‡†æ§åˆ¶è¾¹çš„è¿æ¥ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œæ„é€ é¢˜éœ€è¦å¤šâ€˜åŠ¨æ‰‹æ¨¡æ‹Ÿâ€™ï¼Œä»æ ·ä¾‹ä¸­æ‰¾è§„å¾‹ã€‚â€  

**ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå®è´µã€‚æ„é€ é¢˜å¾€å¾€æ²¡æœ‰å›ºå®šçš„æ¨¡æ¿ï¼Œéœ€è¦é€šè¿‡æ¨¡æ‹Ÿæ ·ä¾‹ã€å°è¯•å°æ•°æ®æ¥æ‰¾åˆ°è§„å¾‹ã€‚æ¯”å¦‚æœ¬é¢˜ä¸­çš„æ—‹è½¬æ“ä½œï¼Œå°±æ˜¯ä»æ ·ä¾‹ä¸€çš„æ„é€ è¿‡ç¨‹ä¸­æ€»ç»“å‡ºæ¥çš„ã€‚  


## ğŸ‰ æ€»ç»“
æœ¬æ¬¡åˆ†æçš„â€œ01 Graph Constructionâ€é¢˜ï¼Œæ ¸å¿ƒæ˜¯**ç”¨æ„é€ æ€§ç¼–ç¨‹æŠ€å·§å®ç°å›¾ç»“æ„çš„ç²¾å‡†æ§åˆ¶**ã€‚é€šè¿‡æ—‹è½¬åºåˆ—ã€è¿è¾¹æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å°†æŠ½è±¡çš„å›¾éœ€æ±‚è½¬åŒ–ä¸ºå…·ä½“çš„å­—ç¬¦ä¸²æ„é€ ã€‚å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®åŠ©ä½ æŒæ¡æ„é€ æ€§ç¼–ç¨‹çš„æ€è·¯ï¼Œä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜æ—¶ï¼Œèƒ½æ›´è½»æ¾åœ°æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼ğŸ’ª  

è®°ä½ï¼šæ„é€ é¢˜çš„å…³é”®æ˜¯â€œé—®é¢˜è½¬åŒ–â€å’Œâ€œåŠ¨æ‰‹æ¨¡æ‹Ÿâ€â€”â€”å¤šè¯•ã€å¤šæƒ³ï¼Œä½ ä¸€å®šèƒ½æ‰¾åˆ°ç­”æ¡ˆï¼

---
å¤„ç†ç”¨æ—¶ï¼š373.31ç§’
# é¢˜ç›®ä¿¡æ¯

# [ARC158C] All Pair Digit Sums

## é¢˜ç›®æè¿°

[problemUrl]: https://atcoder.jp/contests/arc158/tasks/arc158_c

æ­£æ•´æ•° $ x $ ã«å¯¾ã—ï¼Œãã®å„æ¡ã®å’Œã‚’ $ f(x) $ ã¨è¡¨ã™ã“ã¨ã«ã—ã¾ã™ï¼ä¾‹ãˆã° $ f(158)\ =\ 1\ +\ 5\ +\ 8\ =\ 14 $ï¼Œ$ f(2023)\ =\ 2\ +\ 0\ +\ 2\ +\ 3\ =\ 7 $ï¼Œ$ f(1)\ =\ 1 $ ã§ã™ï¼

æ­£æ•´æ•°åˆ— $ A\ =\ (A_1,\ \ldots,\ A_N) $ ãŒä¸ãˆã‚‰ã‚Œã¾ã™ï¼$ \sum_{i=1}^N\sum_{j=1}^N\ f(A_i\ +\ A_j) $ ã‚’æ±‚ã‚ã¦ãã ã•ã„ï¼

## è¯´æ˜/æç¤º

### åˆ¶ç´„

- $ 1\leq\ N\leq\ 2\times\ 10^5 $
- $ 1\leq\ A_i\ <\ 10^{15} $
 
### Sample Explanation 1

$ \sum_{i=1}^N\sum_{j=1}^N\ f(A_i\ +\ A_j)\ =\ f(A_1+A_1)+f(A_1+A_2)+f(A_2+A_1)+f(A_2+A_2)=7+9+9+11=36 $ ã§ã™ï¼

### Sample Explanation 2

$ \sum_{i=1}^N\sum_{j=1}^N\ f(A_i\ +\ A_j)\ =\ f(A_1+A_1)\ =\ 135 $ ã§ã™ï¼

## æ ·ä¾‹ #1

### è¾“å…¥

```
2

53 28```

### è¾“å‡º

```
36```

## æ ·ä¾‹ #2

### è¾“å…¥

```
1

999999999999999```

### è¾“å‡º

```
135```

## æ ·ä¾‹ #3

### è¾“å…¥

```
5

123 456 789 101 112```

### è¾“å‡º

```
321```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[ARC158C] All Pair Digit Sums æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæ•°å­¦æ€§è´¨æ¨å¯¼ + æ’åºäºŒåˆ†ç»Ÿè®¡  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œæ‰€æœ‰æ•°å¯¹å’Œçš„æ•°ä½å’Œä¹‹å’Œâ€é—®é¢˜ï¼Œå…³é”®åœ¨äº**åˆ©ç”¨æ•°ä½å’Œçš„éšè—æ€§è´¨**ï¼Œå°†å¤æ‚çš„æ•°ä½å’Œè®¡ç®—è½¬åŒ–ä¸ºæ›´æ˜“å¤„ç†çš„â€œè¿›ä½æ¬¡æ•°ç»Ÿè®¡â€ã€‚  
ç®€å•æ¥è¯´ï¼Œ**æ•°ä½å’Œçš„â€œè¿›ä½æŠµæ¶ˆâ€æ€§è´¨**å°±åƒâ€œæ•°å­—çš„è·³è·ƒæ¸¸æˆâ€ï¼šå½“ä¸¤ä¸ªæ•°ç›¸åŠ æ—¶ï¼Œæ¯äº§ç”Ÿä¸€æ¬¡è¿›ä½ï¼ˆæ¯”å¦‚ä¸ªä½9+2=11ï¼‰ï¼Œæ•°ä½å’Œä¼šå‡å°‘9ï¼ˆ1+1=2ï¼Œè€Œ9+2=11çš„æ•°ä½å’Œæ˜¯2ï¼Œæ¯”åŸæ¥çš„11å°‘äº†9ï¼‰ã€‚å› æ­¤ï¼Œ`f(a+b) = f(a) + f(b) - 9Ã—è¿›ä½æ¬¡æ•°`ã€‚  
åŸºäºè¿™ä¸ªæ€§è´¨ï¼Œæ€»ç­”æ¡ˆå¯ä»¥æ‹†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š  
1. **ä¸è€ƒè™‘è¿›ä½çš„æ€»æ•°ä½å’Œ**ï¼šæ¯ä¸ªæ•°çš„æ•°ä½å’Œä¼šè¢«è®¡ç®—2næ¬¡ï¼ˆä½œä¸ºa_iå’Œa_jå„næ¬¡ï¼‰ï¼Œå³`2nÃ—sum(f(Ai))`ã€‚  
2. **å‡å»è¿›ä½å¸¦æ¥çš„æŸå¤±**ï¼šæ¯è¿›ä½ä¸€æ¬¡æŸå¤±9ï¼Œæ‰€ä»¥æ€»æŸå¤±æ˜¯`9Ã—æ€»è¿›ä½æ¬¡æ•°`ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼šå¦‚ä½•å¿«é€Ÿç»Ÿè®¡æ‰€æœ‰æ•°å¯¹çš„**æ€»è¿›ä½æ¬¡æ•°**ï¼Ÿ  
**è§£å†³æ–¹æ¡ˆ**ï¼šå¯¹äºæ¯ä¸€ä½ï¼ˆä»ä¸ªä½åˆ°ç¬¬15ä½ï¼Œå› ä¸ºAi<1e15ï¼‰ï¼Œç»Ÿè®¡æœ‰å¤šå°‘å¯¹(i,j)çš„**å‰kä½ä¹‹å’Œâ‰¥10^k**ï¼ˆæ¯”å¦‚k=1æ—¶ï¼Œå‰1ä½ä¹‹å’Œâ‰¥10ï¼Œå³ä¸ªä½è¿›ä½ï¼‰ã€‚ä¸ºäº†é«˜æ•ˆç»Ÿè®¡ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ªkå°†æ‰€æœ‰æ•°çš„å‰kä½æ’åºï¼Œç„¶åç”¨**äºŒåˆ†æŸ¥æ‰¾**å¿«é€Ÿæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹æ•°é‡ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä»¬å¯ä»¥ç”¨**8ä½åƒç´ é£**å±•ç¤ºâ€œæ’åºäºŒåˆ†ç»Ÿè®¡è¿›ä½â€çš„è¿‡ç¨‹ï¼š  
- ç”¨ä¸åŒé¢œè‰²çš„åƒç´ å—è¡¨ç¤ºæ¯ä¸ªæ•°çš„å‰kä½ï¼ˆæ¯”å¦‚çº¢è‰²ä»£è¡¨å½“å‰å¤„ç†çš„æ•°ï¼Œè“è‰²ä»£è¡¨æ’åºåçš„æ•°ç»„ï¼‰ï¼›  
- å½“äºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œç”¨â€œç®­å¤´â€æ ‡è®°å½“å‰æŸ¥æ‰¾çš„ä½ç½®ï¼Œç¬¦åˆæ¡ä»¶çš„æ•°å¯¹ç”¨â€œé—ªçƒâ€è¡¨ç¤ºï¼›  
- æ¯ç»Ÿè®¡å®Œä¸€ä¸ªkä½ï¼Œç”¨â€œè¿›åº¦æ¡â€æ˜¾ç¤ºå½“å‰å¤„ç†çš„ä½æ•°ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆæç¤ºã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼ˆæ¥æºï¼šlzxylï¼Œèµï¼š4ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯**åƒå‰¥æ´‹è‘±ä¸€æ ·æ¸…æ™°**ï¼ä½œè€…é¦–å…ˆæ¨å¯¼äº†æ•°ä½å’Œçš„å…³é”®æ€§è´¨ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºç»Ÿè®¡è¿›ä½æ¬¡æ•°ï¼Œç„¶åç”¨**äºŒç»´æ•°ç»„å­˜å‚¨æ¯ä¸ªæ•°çš„å‰kä½**ï¼ˆa[k][i]è¡¨ç¤ºç¬¬iä¸ªæ•°çš„å‰kä½ï¼‰ï¼Œå†å¯¹æ¯ä¸ªkæ’åºåç”¨äºŒåˆ†æŸ¥æ‰¾ç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹ã€‚ä»£ç ç»“æ„å·¥æ•´ï¼Œå˜é‡åï¼ˆå¦‚a[k][i]ï¼‰å«ä¹‰æ˜ç¡®ï¼Œè¾¹ç•Œå¤„ç†ï¼ˆæ¯”å¦‚15ä½çš„å¾ªç¯ï¼‰éå¸¸ä¸¥è°¨ã€‚å°¤å…¶æ˜¯**äºŒåˆ†æŸ¥æ‰¾çš„åº”ç”¨**ï¼ˆ`lower_bound`æ‰¾ç¬¬ä¸€ä¸ªâ‰¥10^k - a[k][j]çš„ä½ç½®ï¼‰ï¼Œå®Œç¾è§£å†³äº†é«˜æ•ˆç»Ÿè®¡çš„é—®é¢˜ï¼Œæ—¶é—´å¤æ‚åº¦O(nÃ—15Ã—logn)ï¼Œå®Œå…¨ç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚  

### é¢˜è§£äºŒï¼ˆæ¥æºï¼šDaydreamWarriorï¼Œèµï¼š2ï¼‰  
* **ç‚¹è¯„**ï¼š  
  ä½œè€…å¯¹**æ€§è´¨çš„æ¨å¯¼**éå¸¸è¯¦ç»†ï¼Œç”¨å…·ä½“ä¾‹å­ï¼ˆå¦‚53+27=80ï¼Œæ•°ä½å’Œä»17å˜æˆ8ï¼‰è§£é‡Šäº†è¿›ä½å¯¹æ–¼æ•°ä½å’Œçš„å½±å“ï¼Œè®©åˆå­¦è€…æ›´å®¹æ˜“ç†è§£ã€‚ä»£ç ä¸­çš„**æ’åºå’ŒäºŒåˆ†éƒ¨åˆ†**ä¸é¢˜è§£ä¸€å¼‚æ›²åŒå·¥ï¼Œä½†ä½œè€…å°†â€œ10^kâ€çš„è®¡ç®—ç”¨`d`å˜é‡é€æ­¥æ›´æ–°ï¼ˆdä»10å¼€å§‹ï¼Œæ¯æ¬¡ä¹˜10ï¼‰ï¼Œé€»è¾‘æ›´è¿è´¯ã€‚æ­¤å¤–ï¼Œä½œè€…æåˆ°â€œç”¨std::lower_boundé¿å…è‡ªå·±å†™äºŒåˆ†â€ï¼Œè¿™æ˜¯éå¸¸å®ç”¨çš„ç¼–ç¨‹æŠ€å·§ï¼Œå‡å°‘äº†å‡ºé”™çš„å¯èƒ½ã€‚  

### é¢˜è§£ä¸‰ï¼ˆæ¥æºï¼šsad_linï¼Œèµï¼š1ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„**æ³¨é‡Šéå¸¸è´´å¿ƒ**ï¼Œæ¯”å¦‚â€œåå¹´OIä¸€åœºç©ºï¼Œä¸å¼€long longè§ç¥–å®—â€çš„æé†’ï¼Œç›´æ¥ç‚¹å‡ºäº†æœ¬é¢˜çš„å…³é”®ï¼ˆæ•°æ®èŒƒå›´å¤§ï¼Œå¿…é¡»ç”¨long longï¼‰ã€‚ä½œè€…å¯¹è¿›ä½æ¬¡æ•°çš„ç»Ÿè®¡æ–¹æ³•è§£é‡Šå¾—å¾ˆé€å½»ï¼šâ€œæšä¸¾æ¯ä¸€ä½ï¼Œæ’åºåäºŒåˆ†æ‰¾ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹â€ï¼Œå¹¶ç”¨`w`å˜é‡è¡¨ç¤º10^kï¼Œè®©ä»£ç çš„é€»è¾‘æ›´æ¸…æ™°ã€‚å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œè¿™ä»½é¢˜è§£æ˜¯å¾ˆå¥½çš„å…¥é—¨å‚è€ƒï¼Œå› ä¸ºå®ƒå°†å¤æ‚çš„é—®é¢˜æ‹†è§£æˆäº†å¯ä¸€æ­¥æ­¥å®ç°çš„æ­¥éª¤ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. å…³é”®ç‚¹1ï¼šæ•°ä½å’Œæ€§è´¨çš„æ¨å¯¼  
* **åˆ†æ**ï¼š  
  è¿›ä½å¯¹æ–¼æ•°ä½å’Œçš„å½±å“æ˜¯æœ¬é¢˜çš„æ ¸å¿ƒã€‚æ¯”å¦‚ï¼Œä¸¤ä¸ªæ•°çš„æŸä¸€ä½ç›¸åŠ ä¸º12ï¼ˆå¦‚5+7ï¼‰ï¼Œåˆ™è¯¥ä½å˜ä¸º2ï¼Œé«˜ä½åŠ 1ï¼Œæ•°ä½å’Œä»12å˜æˆ3ï¼ˆ2+1ï¼‰ï¼Œå‡å°‘äº†9ã€‚å› æ­¤ï¼Œæ¯è¿›ä½ä¸€æ¬¡ï¼Œæ•°ä½å’Œå‡å°‘9ã€‚è¿™ä¸ªæ€§è´¨æ˜¯è§£å†³é—®é¢˜çš„å…³é”®ï¼Œéœ€è¦é€šè¿‡**æ¨¡æ‹Ÿè¿›ä½è¿‡ç¨‹**ç†è§£ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¿›ä½=æ•°ä½å’Œçš„â€œå‡æ³•å™¨â€ï¼Œæ¯è¿›ä¸€æ¬¡ä½ï¼Œæ•°ä½å’Œå‡9ã€‚  

### 2. å…³é”®ç‚¹2ï¼šè¿›ä½æ¬¡æ•°çš„ç»Ÿè®¡  
* **åˆ†æ**ï¼š  
  å¦‚ä½•ç»Ÿè®¡æ‰€æœ‰æ•°å¯¹çš„è¿›ä½æ¬¡æ•°ï¼Ÿæˆ‘ä»¬éœ€è¦**æŒ‰ä½å¤„ç†**ï¼šå¯¹äºç¬¬kä½ï¼ˆä»ä¸ªä½å¼€å§‹ï¼‰ï¼Œè¿›ä½çš„æ¡ä»¶æ˜¯â€œä¸¤ä¸ªæ•°çš„å‰kä½ä¹‹å’Œâ‰¥10^kâ€ï¼ˆæ¯”å¦‚k=1æ—¶ï¼Œå‰1ä½ä¹‹å’Œâ‰¥10ï¼Œå³ä¸ªä½è¿›ä½ï¼‰ã€‚ä¸ºäº†é«˜æ•ˆç»Ÿè®¡ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ªkå°†æ‰€æœ‰æ•°çš„å‰kä½æ’åºï¼Œç„¶åç”¨äºŒåˆ†æŸ¥æ‰¾å¿«é€Ÿæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹æ•°é‡ï¼ˆæ¯”å¦‚å¯¹äºå½“å‰æ•°xï¼Œæ‰¾æœ‰å¤šå°‘ä¸ªæ•°yæ»¡è¶³x+yâ‰¥10^kï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæŒ‰ä½å¤„ç†+æ’åºäºŒåˆ†ï¼Œæ˜¯ç»Ÿè®¡æ•°å¯¹ç¬¦åˆæ¡ä»¶çš„å¸¸ç”¨æ–¹æ³•ã€‚  

### 3. å…³é”®ç‚¹3ï¼šæ•°æ®èŒƒå›´ä¸long longçš„ä½¿ç”¨  
* **åˆ†æ**ï¼š  
  æœ¬é¢˜ä¸­Aiå¯ä»¥è¾¾åˆ°1e15ï¼Œå› æ­¤å¿…é¡»ç”¨`long long`ç±»å‹å­˜å‚¨ï¼ˆå¦åˆ™ä¼šæº¢å‡ºï¼‰ã€‚æ¯”å¦‚ï¼Œsum(f(Ai))çš„è®¡ç®—å¦‚æœç”¨intï¼Œä¼šå› ä¸ºn=2e5ä¸”æ¯ä¸ªf(Ai)æœ€å¤š15Ã—9=135ï¼Œå¯¼è‡´sum=2e5Ã—135=2.7e7ï¼Œä¹˜ä»¥2n=4e5åå¾—åˆ°1.08e13ï¼Œè¿œè¶…è¿‡intçš„èŒƒå›´ï¼ˆçº¦2e9ï¼‰ã€‚å› æ­¤ï¼Œ`long long`æ˜¯å¿…é¡»çš„ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé‡åˆ°å¤§æ•°å€¼é—®é¢˜ï¼Œå…ˆæƒ³â€œè¦ä¸è¦å¼€long longâ€ã€‚  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **æ€§è´¨æ¨å¯¼**ï¼šé‡åˆ°æ•°ä½å’Œé—®é¢˜ï¼Œå…ˆæ€è€ƒè¿›ä½å¯¹æ–¼æ•°ä½å’Œçš„å½±å“ï¼›  
- **æŒ‰ä½å¤„ç†**ï¼šå°†å¤§é—®é¢˜æ‹†è§£ä¸ºæ¯ä¸€ä½çš„å°é—®é¢˜ï¼Œé€ä¸€è§£å†³ï¼›  
- **æ’åºäºŒåˆ†**ï¼šç»Ÿè®¡æ•°å¯¹ç¬¦åˆæ¡ä»¶çš„æ•°é‡æ—¶ï¼Œæ’åºåç”¨äºŒåˆ†æŸ¥æ‰¾å¯ä»¥å°†æ—¶é—´å¤æ‚åº¦ä»O(nÂ²)ä¼˜åŒ–åˆ°O(n logn)ï¼›  
- **æ•°æ®ç±»å‹**ï¼šå¤§æ•°å€¼é—®é¢˜å¿…é¡»ç”¨`long long`ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†ä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œæ¸…æ™°å±•ç¤ºäº†â€œæ€§è´¨åº”ç”¨+æ’åºäºŒåˆ†ç»Ÿè®¡â€çš„æ ¸å¿ƒé€»è¾‘ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <algorithm>
  using namespace std;
  typedef long long ll;

  const int N = 2e5 + 10;
  const int M = 16; // æœ€å¤š15ä½
  ll a[M][N]; // a[k][i]è¡¨ç¤ºç¬¬iä¸ªæ•°çš„å‰kä½ï¼ˆ10^kå–æ¨¡ï¼‰

  ll calc_f(ll x) {
      ll sum = 0;
      while (x) {
          sum += x % 10;
          x /= 10;
      }
      return sum;
  }

  int main() {
      int n;
      cin >> n;
      ll sum_f = 0;
      for (int i = 1; i <= n; ++i) {
          ll x;
          cin >> x;
          sum_f += calc_f(x); // ç»Ÿè®¡æ‰€æœ‰æ•°çš„æ•°ä½å’Œ
          ll mod = 10;
          for (int k = 1; k < M; ++k) { // å­˜å‚¨å‰kä½
              a[k][i] = x % mod;
              mod *= 10;
          }
      }
      ll ans = sum_f * 2 * n; // ä¸è€ƒè™‘è¿›ä½çš„æ€»æ•°ä½å’Œ

      ll mod = 10;
      for (int k = 1; k < M; ++k) { // å¤„ç†æ¯ä¸€ä½k
          sort(a[k] + 1, a[k] + n + 1); // å¯¹å‰kä½æ’åº
          for (int i = 1; i <= n; ++i) { // ç»Ÿè®¡æ¯ä¸ªæ•°çš„ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹æ•°é‡
              ll target = mod - a[k][i];
              // æ‰¾ç¬¬ä¸€ä¸ªâ‰¥targetçš„ä½ç½®ï¼Œåé¢çš„æ•°éƒ½ç¬¦åˆæ¡ä»¶
              int pos = lower_bound(a[k] + 1, a[k] + n + 1, target) - (a[k] + 1);
              ans -= 9 * (n - pos); // æ¯è¿›ä½ä¸€æ¬¡æŸå¤±9
          }
          mod *= 10;
      }

      cout << ans << endl;
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **è¯»å–è¾“å…¥**ï¼šè®¡ç®—æ‰€æœ‰æ•°çš„æ•°ä½å’Œ`sum_f`ï¼Œå¹¶å­˜å‚¨æ¯ä¸ªæ•°çš„å‰kä½ï¼ˆ`a[k][i]`ï¼‰ï¼›  
  2. **è®¡ç®—ä¸è€ƒè™‘è¿›ä½çš„æ€»æ•°ä½å’Œ**ï¼š`sum_f * 2 * n`ï¼›  
  3. **å¤„ç†æ¯ä¸€ä½k**ï¼šå¯¹å‰kä½æ’åºï¼Œç”¨äºŒåˆ†æŸ¥æ‰¾ç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹æ•°é‡ï¼Œå‡å»è¿›ä½å¸¦æ¥çš„æŸå¤±ï¼ˆ`9Ã—æ•°é‡`ï¼‰ï¼›  
  4. **è¾“å‡ºç­”æ¡ˆ**ï¼šæœ€ç»ˆç»“æœå³ä¸ºä¸è€ƒè™‘è¿›ä½çš„æ€»æ•°ä½å’Œå‡å»è¿›ä½æŸå¤±ã€‚  

### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ  

#### é¢˜è§£ä¸€ï¼ˆæ¥æºï¼šlzxylï¼‰  
* **äº®ç‚¹**ï¼š**äºŒç»´æ•°ç»„å­˜å‚¨å‰kä½**ï¼Œé€»è¾‘æ¸…æ™°ï¼Œå®¹æ˜“æ‰©å±•åˆ°æ›´å¤šä½ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  for (int i = 1; i <= n; ++i) {
      ll x;
      cin >> x;
      ll y = 10;
      for (int j = 1; j < M; ++j) {
          a[j][i] = x % y;
          y *= 10;
      }
      // ç»Ÿè®¡sum_f...
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™æ®µä»£ç ç”¨`y`å˜é‡é€æ­¥è®¡ç®—10^jï¼ˆä»10å¼€å§‹ï¼Œæ¯æ¬¡ä¹˜10ï¼‰ï¼Œå¹¶å°†æ¯ä¸ªæ•°çš„å‰jä½å­˜å‚¨åˆ°`a[j][i]`ä¸­ã€‚æ¯”å¦‚ï¼Œå½“j=1æ—¶ï¼Œ`a[1][i]`æ˜¯xçš„ä¸ªä½ï¼›j=2æ—¶ï¼Œ`a[2][i]`æ˜¯xçš„åä¸¤ä½ï¼ˆå¦‚53çš„åä¸¤ä½æ˜¯53ï¼‰ã€‚è¿™ç§æ–¹å¼**é¿å…äº†é‡å¤è®¡ç®—10çš„å¹‚**ï¼Œæé«˜äº†æ•ˆç‡ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç”¨å˜é‡é€æ­¥æ›´æ–°10çš„å¹‚ï¼Œæ¯”æ¯æ¬¡è®¡ç®—`pow(10, j)`æ›´é«˜æ•ˆä¸”é¿å…ç²¾åº¦é—®é¢˜ã€‚  

#### é¢˜è§£äºŒï¼ˆæ¥æºï¼šDaydreamWarriorï¼‰  
* **äº®ç‚¹**ï¼š**ç”¨då˜é‡æ›´æ–°10^k**ï¼Œé€»è¾‘è¿è´¯ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  int d = 10;
  for (int k = 1; k < M; ++k) {
      sort(a[k] + 1, a[k] + 1 + n);
      for (int j = 1; j <= n; ++j) {
          int w = a[k] + n + 1 - lower_bound(a[k] + 1, a[k] + 1 + n, d - a[k][j]);
          sum += w;
      }
      d *= 10;
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™æ®µä»£ç ç”¨`d`å˜é‡è¡¨ç¤º10^kï¼ˆä»10å¼€å§‹ï¼Œæ¯æ¬¡ä¹˜10ï¼‰ï¼Œç„¶åè®¡ç®—æ¯ä¸ªæ•°`a[k][j]`éœ€è¦æ‰¾çš„ç›®æ ‡å€¼`d - a[k][j]`ã€‚`lower_bound`æ‰¾åˆ°ç¬¬ä¸€ä¸ªâ‰¥ç›®æ ‡å€¼çš„ä½ç½®ï¼Œ`a[k] + n + 1 - ä½ç½®`å³ä¸ºç¬¦åˆæ¡ä»¶çš„æ•°å¯¹æ•°é‡ã€‚è¿™ç§æ–¹å¼**å°†10^kçš„è®¡ç®—ä¸å¾ªç¯ç»“åˆ**ï¼Œé€»è¾‘æ›´æ¸…æ™°ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå°†å¾ªç¯å˜é‡ä¸10çš„å¹‚ç»“åˆï¼Œè®©ä»£ç æ›´æ˜“è¯»ã€‚  

#### é¢˜è§£ä¸‰ï¼ˆæ¥æºï¼šsad_linï¼‰  
* **äº®ç‚¹**ï¼š**æ³¨é‡Šè´´å¿ƒ**ï¼Œæé†’`long long`çš„é‡è¦æ€§ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  #define ll long long
  ll a[20][200005]; // a[å‰å‡ ä½çš„æ•°][ç¬¬å‡ ä¸ªæ•°]
  ll ans = 0;
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  ä½œè€…ç”¨`#define ll long long`ç®€åŒ–äº†ä»£ç ï¼Œé¿å…äº†é‡å¤å†™`long long`ã€‚`a`æ•°ç»„çš„æ³¨é‡Šæ˜ç¡®è¯´æ˜äº†å…¶ç”¨é€”ï¼ˆå‰å‡ ä½çš„æ•°ï¼‰ï¼Œè®©è¯»è€…æ›´å®¹æ˜“ç†è§£ã€‚æ­¤å¤–ï¼Œä½œè€…åœ¨ä»£ç ä¸­æé†’â€œåå¹´OIä¸€åœºç©ºï¼Œä¸å¼€long longè§ç¥–å®—â€ï¼Œç›´æ¥ç‚¹å‡ºäº†æœ¬é¢˜çš„å…³é”®ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ³¨é‡Šæ˜¯ä»£ç çš„â€œè¯´æ˜ä¹¦â€ï¼Œå¥½çš„æ³¨é‡Šèƒ½è®©ä»£ç æ›´å®¹æ˜“ç†è§£ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜  
**ã€Šæ•°å­—è·³è·ƒï¼šè¿›ä½ç»Ÿè®¡å¤§å†’é™©ã€‹**ï¼ˆ8ä½åƒç´ é£ï¼Œä»¿FCæ¸¸æˆï¼‰  

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
å±•ç¤ºâ€œæ’åºäºŒåˆ†ç»Ÿè®¡è¿›ä½â€çš„è¿‡ç¨‹ï¼ŒåŒ…æ‹¬ï¼š  
1. **è¾“å…¥é˜¶æ®µ**ï¼šç”¨åƒç´ å—è¡¨ç¤ºæ¯ä¸ªæ•°ï¼Œæ˜¾ç¤ºå…¶æ•°ä½å’Œï¼›  
2. **æ’åºé˜¶æ®µ**ï¼šå°†æ¯ä¸ªæ•°çš„å‰kä½ï¼ˆæ¯”å¦‚k=1ï¼Œå³ä¸ªä½ï¼‰æ’åºï¼Œç”¨â€œç®­å¤´â€è¡¨ç¤ºæ’åºæ–¹å‘ï¼›  
3. **äºŒåˆ†æŸ¥æ‰¾é˜¶æ®µ**ï¼šç”¨â€œçº¢è‰²æ–¹å—â€è¡¨ç¤ºå½“å‰å¤„ç†çš„æ•°ï¼Œâ€œè“è‰²æ–¹å—â€è¡¨ç¤ºæ’åºåçš„æ•°ç»„ï¼Œâ€œé»„è‰²ç®­å¤´â€æ ‡è®°äºŒåˆ†æŸ¥æ‰¾çš„ä½ç½®ï¼Œç¬¦åˆæ¡ä»¶çš„æ•°å¯¹ç”¨â€œé—ªçƒâ€è¡¨ç¤ºï¼›  
4. **ç»“æœå±•ç¤º**ï¼šç”¨â€œè¿›åº¦æ¡â€æ˜¾ç¤ºå½“å‰å¤„ç†çš„ä½æ•°ï¼Œâ€œæ•°å­—è®¡æ•°å™¨â€æ˜¾ç¤ºæ€»è¿›ä½æ¬¡æ•°å’Œæœ€ç»ˆç­”æ¡ˆã€‚  

### è®¾è®¡æ€è·¯ç®€è¿°  
- **8ä½åƒç´ é£**ï¼šè¥é€ å¤å¤æ¸¸æˆæ°›å›´ï¼Œè®©å­¦ä¹ æ›´æœ‰è¶£ï¼›  
- **é¢œè‰²æ ‡è®°**ï¼šç”¨ä¸åŒé¢œè‰²åŒºåˆ†ä¸åŒå…ƒç´ ï¼ˆå½“å‰æ•°ã€æ’åºåçš„æ•°ç»„ã€ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹ï¼‰ï¼Œè®©è¿‡ç¨‹æ›´ç›´è§‚ï¼›  
- **éŸ³æ•ˆæç¤º**ï¼šæ’åºæ—¶æ’­æ”¾â€œæ²™æ²™â€å£°ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ—¶æ’­æ”¾â€œæ»´æ»´â€å£°ï¼Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹æ—¶æ’­æ”¾â€œå®â€çš„å£°ï¼Œå¢å¼ºäº’åŠ¨æ„Ÿï¼›  
- **æ¸¸æˆåŒ–å…ƒç´ **ï¼šè®¾ç½®â€œå…³å¡â€ï¼ˆæ¯å¤„ç†ä¸€ä½ä¸ºä¸€ä¸ªå…³å¡ï¼‰ï¼Œå®Œæˆå…³å¡åæ˜¾ç¤ºâ€œè¿‡å…³â€åŠ¨ç”»ï¼Œå¢åŠ æˆå°±æ„Ÿã€‚  

### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹  
1. **åˆå§‹åŒ–åœºæ™¯**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¾ç¤ºè¾“å…¥çš„æ•°ï¼ˆåƒç´ å—ï¼‰ï¼Œå³ä¾§æ˜¾ç¤ºâ€œè¿›åº¦æ¡â€ï¼ˆå½“å‰å¤„ç†åˆ°ç¬¬1ä½ï¼‰ï¼›  
   - åº•éƒ¨æ˜¾ç¤ºâ€œæ§åˆ¶é¢æ¿â€ï¼šâ€œå¼€å§‹â€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ã€‚  
2. **æ’åºé˜¶æ®µ**ï¼š  
   - ç”¨â€œç®­å¤´â€ä»å·¦åˆ°å³ç§»åŠ¨ï¼Œè¡¨ç¤ºå¯¹å‰kä½æ’åºï¼›  
   - æ’åºå®Œæˆåï¼Œæ’­æ”¾â€œå®â€çš„å£°ï¼Œæ˜¾ç¤ºâ€œæ’åºå®Œæˆâ€æç¤ºã€‚  
3. **äºŒåˆ†æŸ¥æ‰¾é˜¶æ®µ**ï¼š  
   - ç”¨â€œçº¢è‰²æ–¹å—â€é€‰ä¸­å½“å‰å¤„ç†çš„æ•°ï¼ˆæ¯”å¦‚ç¬¬1ä¸ªæ•°ï¼‰ï¼›  
   - ç”¨â€œé»„è‰²ç®­å¤´â€ä»æ•°ç»„ä¸­é—´å¼€å§‹ï¼Œé€æ­¥å‘å·¦æˆ–å‘å³ç§»åŠ¨ï¼Œå¯»æ‰¾ç¬¬ä¸€ä¸ªâ‰¥ç›®æ ‡å€¼çš„ä½ç½®ï¼›  
   - æ‰¾åˆ°ä½ç½®åï¼Œç”¨â€œè“è‰²é—ªçƒâ€æ ‡è®°ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹ï¼Œè®¡æ•°å™¨å¢åŠ ç›¸åº”æ•°é‡ã€‚  
4. **å…³å¡å®Œæˆ**ï¼š  
   - å¤„ç†å®Œå½“å‰ä½åï¼Œè¿›åº¦æ¡å‰è¿›ä¸€æ ¼ï¼Œæ˜¾ç¤ºâ€œç¬¬kä½å¤„ç†å®Œæˆâ€æç¤ºï¼›  
   - æ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼Œè¿›å…¥ä¸‹ä¸€å…³ï¼ˆå¤„ç†k+1ä½ï¼‰ã€‚  

### æ—ç™½æç¤ºï¼ˆæ–‡å­—æ°”æ³¡ï¼‰  
- â€œç°åœ¨å¤„ç†ç¬¬1ä½ï¼ˆä¸ªä½ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ç»Ÿè®¡æœ‰å¤šå°‘å¯¹çš„ä¸ªä½ä¹‹å’Œâ‰¥10ï½â€ï¼›  
- â€œæ’åºå®Œæˆï¼æ¥ä¸‹æ¥ç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹ï½â€ï¼›  
- â€œçœ‹ï¼Œçº¢è‰²æ–¹å—æ˜¯å½“å‰æ•°ï¼Œé»„è‰²ç®­å¤´åœ¨æ‰¾ç¬¬ä¸€ä¸ªâ‰¥ç›®æ ‡å€¼çš„ä½ç½®ï½â€ï¼›  
- â€œæ‰¾åˆ°äº†ï¼è“è‰²é—ªçƒçš„æ•°å¯¹éƒ½æ˜¯ç¬¦åˆæ¡ä»¶çš„ï¼Œè®¡æ•°å™¨åŠ äº†5ï½â€ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
- **æ•°ä½å’Œé—®é¢˜**ï¼šé‡åˆ°æ•°ä½å’Œçš„è®¡ç®—ï¼Œå¯ä»¥è€ƒè™‘è¿›ä½å¯¹æ–¼æ•°ä½å’Œçš„å½±å“ï¼Œåˆ©ç”¨æ€§è´¨ç®€åŒ–é—®é¢˜ï¼›  
- **æ•°å¯¹ç»Ÿè®¡é—®é¢˜**ï¼šç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹æ•°é‡æ—¶ï¼Œæ’åºåç”¨äºŒåˆ†æŸ¥æ‰¾æ˜¯å¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³•ï¼›  
- **å¤§æ•°å€¼é—®é¢˜**ï¼šå¿…é¡»ç”¨`long long`ç±»å‹ï¼Œé¿å…æº¢å‡ºã€‚  

### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P1226** - ã€Šå¿«é€Ÿå¹‚ã€‹  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ¶‰åŠå¤§æ•°å€¼çš„å¤„ç†ï¼ˆå¿«é€Ÿå¹‚ï¼‰ï¼Œå¯ä»¥å·©å›º`long long`çš„ä½¿ç”¨ï¼Œä»¥åŠæ•°ä½å¤„ç†çš„æŠ€å·§ã€‚  
2. **æ´›è°· P1029** - ã€Šæœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°é—®é¢˜ã€‹  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦æ¨å¯¼æ•°å­¦æ€§è´¨ï¼ˆæœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°çš„å…³ç³»ï¼‰ï¼Œç±»ä¼¼æœ¬é¢˜çš„æ€§è´¨æ¨å¯¼è¿‡ç¨‹ï¼Œèƒ½é”»ç‚¼é€»è¾‘æ€ç»´ã€‚  
3. **æ´›è°· P1177** - ã€Šæ’åºã€‹  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯æ’åºç®—æ³•çš„åŸºç¡€ç»ƒä¹ ï¼Œå¯ä»¥å·©å›ºæ’åºçš„åº”ç”¨ï¼Œä»¥åŠäºŒåˆ†æŸ¥æ‰¾çš„ä½¿ç”¨ï¼ˆæ¯”å¦‚æ‰¾ç¬¬kå¤§çš„æ•°ï¼‰ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)  
**å‚è€ƒç»éªŒ (æ¥è‡ª sad_lin)**ï¼šâ€œåå¹´OIä¸€åœºç©ºï¼Œä¸å¼€long longè§ç¥–å®—â€ã€‚  
**ç‚¹è¯„**ï¼šè¿™å¥è¯æ˜¯æœ¬é¢˜çš„â€œé¿å‘æŒ‡å—â€ï¼ç”±äºæœ¬é¢˜çš„æ•°æ®èŒƒå›´å¾ˆå¤§ï¼ˆAi<1e15ï¼Œn=2e5ï¼‰ï¼Œ`int`ç±»å‹æ— æ³•å­˜å‚¨è¿™ä¹ˆå¤§çš„æ•°å€¼ï¼Œå¿…é¡»ç”¨`long long`ã€‚å¾ˆå¤šåˆå­¦è€…å®¹æ˜“å¿½ç•¥è¿™ä¸€ç‚¹ï¼Œå¯¼è‡´ä»£ç æº¢å‡ºé”™è¯¯ã€‚å› æ­¤ï¼Œåœ¨é‡åˆ°å¤§æ•°å€¼é—®é¢˜æ—¶ï¼Œä¸€å®šè¦å…ˆè€ƒè™‘â€œè¦ä¸è¦å¼€long longâ€ã€‚  


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œ[ARC158C] All Pair Digit Sumsâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶ç†è§£**æ•°ä½å’Œçš„æ€§è´¨**ã€**æ’åºäºŒåˆ†ç»Ÿè®¡**ç­‰å…³é”®æŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹çš„ä¹è¶£åœ¨äºâ€œæ‹†è§£é—®é¢˜â€â€”â€”æŠŠå¤æ‚çš„é—®é¢˜æ‹†æˆä¸€ä¸ªä¸ªå°é—®é¢˜ï¼Œé€ä¸€è§£å†³ï¼Œä½ ä¼šå‘ç°ä¸€åˆ‡éƒ½å˜å¾—ç®€å•äº†ï¼ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š169.70ç§’
# é¢˜ç›®ä¿¡æ¯

# [ABC354C] AtCoder Magics

## é¢˜ç›®æè¿°

[problemUrl]: https://atcoder.jp/contests/abc354/tasks/abc354_c

é«˜æ©‹ãã‚“ã¯ã€ã‚«ãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ã€ŒAtCoder Magicsã€ã®ã‚«ãƒ¼ãƒ‰ã‚’ $ N $ æšæŒã£ã¦ã„ã¾ã™ã€‚$ i $ ç•ªç›®ã®ã‚«ãƒ¼ãƒ‰ã‚’ã‚«ãƒ¼ãƒ‰ $ i $ ã¨å‘¼ã¶ã“ã¨ã«ã—ã¾ã™ã€‚å„ã‚«ãƒ¼ãƒ‰ã«ã¯å¼·ã•ã¨ã‚³ã‚¹ãƒˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãŒã‚ã‚Šã€ã‚«ãƒ¼ãƒ‰ $ i $ ã®å¼·ã•ã¯ $ A_i $ ã§ã€ã‚³ã‚¹ãƒˆã¯ $ C_i $ ã§ã™ã€‚

é«˜æ©‹ãã‚“ã¯ã€å¼±ã„ã‚«ãƒ¼ãƒ‰ã¯è¦ã‚‰ãªã„ã®ã§æ¨ã¦ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚å…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã®æ“ä½œã‚’ã§ããªããªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚

- $ 2 $ ã¤ã®ã‚«ãƒ¼ãƒ‰ $ x,\ y $ ã§ã‚ã£ã¦ã€ $ A_x\ >\ A_y $ ã‹ã¤ $ C_x\ <\ C_y $ ã§ã‚ã‚‹ã‚ˆã†ãªã‚‚ã®ã‚’é¸ã¶ã€‚ã‚«ãƒ¼ãƒ‰ $ y $ ã‚’æ¨ã¦ã‚‹ã€‚

æ“ä½œãŒã§ããªããªã£ãŸã¨ãã€æ¨ã¦ã‚‰ã‚Œãªã‹ã£ãŸã‚«ãƒ¼ãƒ‰ã®é›†åˆã¯ä¸€æ„ã«å®šã¾ã‚‹ã“ã¨ãŒè¨¼æ˜ã§ãã¾ã™ã€‚ã“ã‚Œã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚

## è¯´æ˜/æç¤º

### åˆ¶ç´„

- $ 2\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ A_i,\ C_i\ \leq\ 10^9 $
- $ A_1,\ A_2,\ \dots\ ,A_N $ ã¯å…¨ã¦ç•°ãªã‚‹
- $ C_1,\ C_2,\ \dots\ ,C_N $ ã¯å…¨ã¦ç•°ãªã‚‹
- å…¥åŠ›ã¯ã™ã¹ã¦æ•´æ•°

### Sample Explanation 1

ã‚«ãƒ¼ãƒ‰ $ 1,\ 3 $ ã«æ³¨ç›®ã™ã‚‹ã¨ã€ $ A_1\ <\ A_3 $ ã‹ã¤ $ C_1\ >\ C_3 $ ãªã®ã§ã‚«ãƒ¼ãƒ‰ $ 1 $ ã‚’æ¨ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ãã‚Œä»¥ä¸Šæ“ä½œã‚’ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ã“ã®ã¨ãã‚«ãƒ¼ãƒ‰ $ 2,\ 3 $ ãŒæ®‹ã£ã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚‰ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚

### Sample Explanation 2

ã“ã®å ´åˆã€ã©ã®ã‚«ãƒ¼ãƒ‰ã‚‚æ¨ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
2 4
1 1
3 2```

### è¾“å‡º

```
2
2 3```

## æ ·ä¾‹ #2

### è¾“å…¥

```
5
1 1
10 2
100 3
1000 4
10000 5```

### è¾“å‡º

```
5
1 2 3 4 5```

## æ ·ä¾‹ #3

### è¾“å…¥

```
6
32 101
65 78
2 29
46 55
103 130
52 40```

### è¾“å‡º

```
4
2 3 5 6```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[ABC354C] AtCoder Magics æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæ’åº + æå€¼ç»´æŠ¤ï¼ˆç¼–ç¨‹æŠ€å·§åº”ç”¨ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œAtCoder Magicsâ€çš„å…³é”®ï¼Œåœ¨äºå°†**äºŒç»´æ·˜æ±°æ¡ä»¶**ï¼ˆå­˜åœ¨$x$ä½¿å¾—$A_x>A_y$ä¸”$C_x<C_y$ï¼‰è½¬åŒ–ä¸º**ä¸€ç»´é—®é¢˜**ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ æœ‰ä¸€å †å¡ç‰‡ï¼Œè¦æ‰¾å‡ºâ€œä¸ä¼šè¢«ä»»ä½•å¡ç‰‡æ¯”ä¸‹å»â€çš„å¡ç‰‡â€”â€”å³æ²¡æœ‰å¡ç‰‡æ¯”å®ƒæ›´å¼ºï¼ˆ$A$æ›´å¤§ï¼‰ä¸”æ›´ä¾¿å®œï¼ˆ$C$æ›´å°ï¼‰ã€‚å¦‚ä½•é«˜æ•ˆæ‰¾å‡ºè¿™äº›â€œæœ€ä¼˜â€å¡ç‰‡ï¼Ÿ  

**æ ¸å¿ƒæ€è·¯**ï¼šé€šè¿‡**æ’åº**å°†äºŒç»´æ¡ä»¶ç®€åŒ–ä¸ºä¸€ç»´åˆ¤æ–­ã€‚ä¾‹å¦‚ï¼š  
- æŒ‰$C$ï¼ˆæˆæœ¬ï¼‰ä»å°åˆ°å¤§æ’åºï¼šæ­¤æ—¶ï¼Œå‰é¢çš„å¡ç‰‡$C$æ›´å°ã€‚å¦‚æœå½“å‰å¡ç‰‡çš„$A$ï¼ˆå¼ºåº¦ï¼‰å°äºå‰é¢æ‰€æœ‰å¡ç‰‡çš„$A$æœ€å¤§å€¼ï¼Œè¯´æ˜å‰é¢æœ‰ä¸€å¼ å¡ç‰‡æ¯”å®ƒæ›´å¼ºä¸”æ›´ä¾¿å®œï¼Œå®ƒä¼šè¢«æ·˜æ±°ï¼›å¦åˆ™ï¼Œå®ƒä¼šè¢«ä¿ç•™ï¼ˆå› ä¸ºåé¢çš„å¡ç‰‡$C$æ›´å¤§ï¼Œå³ä½¿$A$æ›´å¤§ï¼Œä¹Ÿä¸ä¼šæ·˜æ±°å®ƒï¼‰ã€‚  
- æˆ–æŒ‰$A$ï¼ˆå¼ºåº¦ï¼‰ä»å¤§åˆ°å°æ’åºï¼šæ­¤æ—¶ï¼Œå‰é¢çš„å¡ç‰‡$A$æ›´å¤§ã€‚å¦‚æœå½“å‰å¡ç‰‡çš„$C$ï¼ˆæˆæœ¬ï¼‰å¤§äºå‰é¢æ‰€æœ‰å¡ç‰‡çš„$C$æœ€å°å€¼ï¼Œè¯´æ˜å‰é¢æœ‰ä¸€å¼ å¡ç‰‡æ¯”å®ƒæ›´å¼ºä¸”æ›´ä¾¿å®œï¼Œå®ƒä¼šè¢«æ·˜æ±°ï¼›å¦åˆ™ï¼Œå®ƒä¼šè¢«ä¿ç•™ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼š  
1. å¦‚ä½•å°†äºŒç»´æ·˜æ±°æ¡ä»¶è½¬åŒ–ä¸ºä¸€ç»´åˆ¤æ–­ï¼Ÿï¼ˆé€šè¿‡æ’åºå›ºå®šä¸€ä¸ªç»´åº¦ï¼Œåªéœ€åˆ¤æ–­å¦ä¸€ä¸ªç»´åº¦çš„æå€¼ï¼‰  
2. å¦‚ä½•è¯æ˜æ’åºåçš„ç»´æŠ¤æå€¼æ–¹æ³•æ˜¯æ­£ç¡®çš„ï¼Ÿï¼ˆéœ€ç†è§£æ’åºååºåˆ—çš„å•è°ƒæ€§ï¼Œç¡®ä¿å‰é¢çš„å¡ç‰‡ä¸ä¼šè¢«åé¢çš„å¡ç‰‡æ·˜æ±°ï¼‰  
3. å¦‚ä½•å¤„ç†å¡ç‰‡ç¼–å·ï¼Ÿï¼ˆæ’åºæ—¶éœ€ä¿ç•™åŸç¼–å·ï¼Œé¿å…æ··ä¹±ï¼‰  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
ç”¨**8ä½åƒç´ é£æ ¼**å±•ç¤ºæ’åºåçš„å¡ç‰‡åºåˆ—ï¼ˆæŒ‰$C$ä»å°åˆ°å¤§æ’åˆ—ï¼‰ï¼Œæ¯ä¸ªå¡ç‰‡ç”¨åƒç´ å—è¡¨ç¤ºï¼Œé¢œè‰²åŒºåˆ†æ˜¯å¦è¢«ä¿ç•™ï¼ˆç»¿è‰²=ä¿ç•™ï¼Œçº¢è‰²=æ·˜æ±°ï¼‰ã€‚åŠ¨æ€æ˜¾ç¤º**å½“å‰$A$æœ€å¤§å€¼**ï¼ˆç”¨é»„è‰²æ–¹å—æ ‡è®°ï¼‰ï¼Œæ¯æ‰«æä¸€å¼ å¡ç‰‡ï¼Œè‹¥$A$å¤§äºæœ€å¤§å€¼ï¼Œåˆ™æ›´æ–°æœ€å¤§å€¼å¹¶å°†å¡ç‰‡å˜ä¸ºç»¿è‰²ï¼›å¦åˆ™å˜ä¸ºçº¢è‰²ã€‚åŠ å…¥â€œå®â€çš„éŸ³æ•ˆï¼ˆä¿ç•™æ—¶ï¼‰å’Œâ€œ buzzâ€éŸ³æ•ˆï¼ˆæ·˜æ±°æ—¶ï¼‰ï¼Œå¢å¼ºäº’åŠ¨æ„Ÿã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šï¼ˆæ¥æºï¼šhjyowlï¼Œèµï¼š10ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£æ€è·¯**ç®€æ´æ˜äº†**ï¼Œç›´æ¥å‘½ä¸­é—®é¢˜æ ¸å¿ƒâ€”â€”æŒ‰$C$ä»å°åˆ°å¤§æ’åºï¼Œç»´æŠ¤$A$çš„æœ€å¤§å€¼ã€‚ä»£ç **è§„èŒƒæ˜“è¯»**ï¼Œç”¨`set`ç»´æŠ¤ä¿ç•™çš„å¡ç‰‡ç¼–å·ï¼ˆé¿å…æ’åºåæ··ä¹±ï¼‰ï¼Œé€»è¾‘æ¸…æ™°ã€‚å…¶**äº®ç‚¹**åœ¨äºå°†äºŒç»´é—®é¢˜è½¬åŒ–ä¸ºä¸€ç»´æå€¼åˆ¤æ–­ï¼Œæ—¶é—´å¤æ‚åº¦$O(n\log n)$ï¼ˆæ’åº+çº¿æ€§æ‰«æï¼‰ï¼Œå®Œå…¨æ»¡è¶³é¢˜ç›®çº¦æŸï¼ˆ$n\leq2\times10^5$ï¼‰ã€‚å®è·µä¸­ï¼Œè¿™ç§æ–¹æ³•**ç›´æ¥æœ‰æ•ˆ**ï¼Œé€‚åˆç«èµ›åœºæ™¯ã€‚

### é¢˜è§£äºŒï¼šï¼ˆæ¥æºï¼šwo_hen_laï¼Œèµï¼š2ï¼‰  
* **ç‚¹è¯„**ï¼š  
  æ­¤é¢˜è§£æ€è·¯ä¸é¢˜è§£ä¸€ä¸€è‡´ï¼Œä½†**å®ç°æ–¹å¼æ›´çµæ´»**â€”â€”ç”¨æ•°ç»„`ans`æ ‡è®°è¢«æ·˜æ±°çš„å¡ç‰‡ï¼ˆ$ans[i]=1$è¡¨ç¤ºç¬¬$i$å¼ å¡è¢«æ·˜æ±°ï¼‰ï¼Œæœ€åç»Ÿè®¡æœªè¢«æ ‡è®°çš„å¡ç‰‡ã€‚ä»£ç ä¸­ç”¨`unordered_map`è®°å½•$A$å¯¹åº”çš„åŸç¼–å·ï¼Œé¿å…æ’åºåä¸¢å¤±ä¿¡æ¯ã€‚å…¶**äº®ç‚¹**åœ¨äºç”¨â€œæ€»æ•°-æ·˜æ±°æ•°â€è®¡ç®—ä¿ç•™æ•°ï¼Œç®€åŒ–äº†ç»Ÿè®¡æ­¥éª¤ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚

### é¢˜è§£ä¸‰ï¼šï¼ˆæ¥æºï¼šforever_nopeï¼Œèµï¼š0ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£**ä»£ç æœ€ç®€æ´**ï¼Œæ€è·¯æ›´ç›´è§‚â€”â€”æŒ‰$A$ä»å¤§åˆ°å°æ’åºï¼Œç»´æŠ¤$C$çš„æœ€å°å€¼ã€‚åªè¦å½“å‰å¡ç‰‡çš„$C$å°äºæœ€å°å€¼ï¼Œå°±ä¿ç•™å®ƒï¼ˆå› ä¸ºå‰é¢çš„å¡ç‰‡$A$æ›´å¤§ï¼Œ$C$æ›´å°ï¼Œä¸ä¼šæ·˜æ±°å®ƒï¼‰ã€‚ä»£ç ä¸­ç”¨`vector`è®°å½•ä¿ç•™çš„ç¼–å·ï¼Œæœ€åæ’åºè¾“å‡ºã€‚å…¶**äº®ç‚¹**åœ¨äºå°†é—®é¢˜è½¬åŒ–ä¸ºâ€œå¯»æ‰¾$C$é€’å‡åºåˆ—â€ï¼ˆæŒ‰$A$é™åºæ’åˆ—ï¼‰ï¼Œé€»è¾‘æ›´ç®€æ´ï¼Œé€‚åˆå¿«é€Ÿç¼–ç ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. å¦‚ä½•å°†äºŒç»´æ·˜æ±°æ¡ä»¶è½¬åŒ–ä¸ºä¸€ç»´é—®é¢˜ï¼Ÿ  
* **åˆ†æ**ï¼š  
  é¢˜ç›®è¦æ±‚å¡ç‰‡$y$è¢«æ·˜æ±°çš„æ¡ä»¶æ˜¯â€œå­˜åœ¨$x$ä½¿å¾—$A_x>A_y$ä¸”$C_x<C_y$â€ã€‚å¦‚æœæˆ‘ä»¬æŒ‰$C$ä»å°åˆ°å¤§æ’åºï¼Œé‚£ä¹ˆå¯¹äºå½“å‰å¡ç‰‡$y$ï¼Œå‰é¢çš„å¡ç‰‡$C$éƒ½å°äºç­‰äºå®ƒã€‚æ­¤æ—¶ï¼Œåªè¦å‰é¢æœ‰å¡ç‰‡çš„$A$å¤§äº$y$çš„$A$ï¼Œ$y$å°±ä¼šè¢«æ·˜æ±°ï¼ˆå› ä¸ºå‰é¢æœ‰$x$æ»¡è¶³$A_x>A_y$ä¸”$C_x<C_y$ï¼‰ã€‚å› æ­¤ï¼Œåªéœ€ç»´æŠ¤å‰é¢$A$çš„æœ€å¤§å€¼ï¼Œåˆ¤æ–­å½“å‰$A$æ˜¯å¦å°äºæœ€å¤§å€¼å³å¯ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºæ˜¯å°†äºŒç»´é—®é¢˜è½¬åŒ–ä¸ºä¸€ç»´çš„å…³é”®ï¼Œå›ºå®šä¸€ä¸ªç»´åº¦ï¼Œåªéœ€åˆ¤æ–­å¦ä¸€ä¸ªç»´åº¦çš„æå€¼ã€‚

### 2. å¦‚ä½•è¯æ˜æ’åºåçš„ç»´æŠ¤æå€¼æ–¹æ³•æ˜¯æ­£ç¡®çš„ï¼Ÿ  
* **åˆ†æ**ï¼š  
  æŒ‰$C$ä»å°åˆ°å¤§æ’åºåï¼Œå¯¹äºä¿ç•™çš„å¡ç‰‡åºåˆ—ï¼Œå…¶$A$å€¼ä¸€å®šæ˜¯é€’å¢çš„ï¼ˆå› ä¸ºæ¯æ¬¡ä¿ç•™çš„å¡ç‰‡$A$éƒ½å¤§äºå‰é¢çš„æœ€å¤§å€¼ï¼‰ã€‚å› æ­¤ï¼Œä¿ç•™çš„å¡ç‰‡ä¸­ï¼Œæ²¡æœ‰ä»»ä½•ä¸€å¼ å¡ç‰‡ä¼šè¢«åé¢çš„å¡ç‰‡æ·˜æ±°ï¼ˆåé¢çš„å¡ç‰‡$C$æ›´å¤§ï¼Œå³ä½¿$A$æ›´å¤§ï¼Œä¹Ÿä¸ä¼šæ»¡è¶³$C_x<C_y$ï¼‰ã€‚åŒæ—¶ï¼Œå‰é¢çš„å¡ç‰‡$C$æ›´å°ï¼Œ$A$æ›´å¤§ï¼Œä¼šæ·˜æ±°åé¢$A$æ›´å°çš„å¡ç‰‡ã€‚å› æ­¤ï¼Œè¿™ç§æ–¹æ³•èƒ½æ­£ç¡®æ‰¾å‡ºæ‰€æœ‰ä¸ä¼šè¢«æ·˜æ±°çš„å¡ç‰‡ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºåçš„åºåˆ—å•è°ƒæ€§æ˜¯è¯æ˜æ­£ç¡®æ€§çš„å…³é”®ã€‚

### 3. å¦‚ä½•å¤„ç†å¡ç‰‡ç¼–å·ï¼Ÿ  
* **åˆ†æ**ï¼š  
  æ’åºä¼šæ‰“ä¹±åŸå¡ç‰‡çš„é¡ºåºï¼Œå› æ­¤éœ€è¦åœ¨æ’åºå‰**è®°å½•åŸç¼–å·**ï¼ˆå¦‚ç»“æ„ä½“ä¸­åŠ å…¥`id`å­—æ®µï¼‰ã€‚æ’åºåï¼Œä¿ç•™çš„å¡ç‰‡ç¼–å·éœ€è¦é‡æ–°æ’åºï¼ˆæŒ‰åŸé¡ºåºè¾“å‡ºï¼‰ã€‚ä¾‹å¦‚ï¼Œé¢˜è§£ä¸€ä¸­ç”¨`set`ç»´æŠ¤ä¿ç•™çš„ç¼–å·ï¼ˆè‡ªåŠ¨æ’åºï¼‰ï¼Œé¢˜è§£ä¸‰ä¸­ç”¨`vector`è®°å½•åæ’åºã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤„ç†éœ€è¦ä¿ç•™åŸé¡ºåºçš„é—®é¢˜æ—¶ï¼Œä¸€å®šè¦è®°å½•åŸç¼–å·ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒï¼ˆæŒ‰$C$æ’åºç»´æŠ¤$A$æœ€å¤§å€¼ï¼‰  
* **è¯´æ˜**ï¼šç»¼åˆé¢˜è§£ä¸€ã€äºŒçš„æ€è·¯ï¼Œæä¾›ä¸€ä¸ªæ¸…æ™°çš„æ ¸å¿ƒå®ç°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <algorithm>
  #include <set>
  using namespace std;

  struct Card {
      long long A, C;
      int id;
  };

  bool cmp(const Card& a, const Card& b) {
      return a.C < b.C; // æŒ‰Cä»å°åˆ°å¤§æ’åº
  }

  int main() {
      int n;
      cin >> n;
      vector<Card> cards(n);
      set<int>ä¿ç•™çš„ç¼–å·;

      for (int i = 0; i < n; ++i) {
          cin >> cards[i].A >> cards[i].C;
          cards[i].id = i + 1; // åŸç¼–å·ä»1å¼€å§‹
          ä¿ç•™çš„ç¼–å·.insert(i + 1);
      }

      sort(cards.begin(), cards.end(), cmp);

      long long max_A = -1;
      for (const auto& card : cards) {
          if (card.A <= max_A) {
              ä¿ç•™çš„ç¼–å·.erase(card.id); // æ·˜æ±°è¯¥å¡
          } else {
              max_A = card.A; // æ›´æ–°æœ€å¤§å€¼
          }
      }

      cout << ä¿ç•™çš„ç¼–å·.size() << endl;
      for (int id : ä¿ç•™çš„ç¼–å·) {
          cout << id << " ";
      }
      cout << endl;

      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¯»å–è¾“å…¥ï¼Œè®°å½•æ¯å¼ å¡çš„$A$ã€$C$å’ŒåŸç¼–å·ã€‚  
  2. æŒ‰$C$ä»å°åˆ°å¤§æ’åºå¡ç‰‡ã€‚  
  3. çº¿æ€§æ‰«ææ’åºåçš„å¡ç‰‡ï¼Œç»´æŠ¤$A$çš„æœ€å¤§å€¼ã€‚å¦‚æœå½“å‰å¡çš„$A$å°äºæœ€å¤§å€¼ï¼Œæ·˜æ±°å®ƒï¼ˆä»`set`ä¸­åˆ é™¤ç¼–å·ï¼‰ï¼›å¦åˆ™æ›´æ–°æœ€å¤§å€¼ã€‚  
  4. è¾“å‡ºä¿ç•™çš„ç¼–å·ï¼ˆ`set`è‡ªåŠ¨æ’åºï¼‰ã€‚


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### é¢˜è§£ä¸€ï¼ˆæ¥æºï¼šhjyowlï¼‰  
* **äº®ç‚¹**ï¼šç”¨`set`ç»´æŠ¤ä¿ç•™çš„ç¼–å·ï¼Œè‡ªåŠ¨æ’åºï¼Œç®€åŒ–è¾“å‡ºæ­¥éª¤ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  set<int> st;
  for (long long i = 1; i <= n; i ++ ) {
      cin >> a[i].x >> a[i].y;
      st.insert(i);
      a[i].id = i;
  }
  sort(a + 1, a + 1 + n, cmp);
  long long mx = -1e9;
  for (long long i = 1; i <= n; i ++ ) {
      mx = max(mx, a[i].x);
      if (a[i].x != mx) {
          st.erase(a[i].id);
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `set`ç”¨äºå­˜å‚¨ä¿ç•™çš„ç¼–å·ï¼Œåˆå§‹æ—¶åŒ…å«æ‰€æœ‰ç¼–å·ã€‚  
  - æ’åºåï¼Œæ‰«ææ¯ä¸€å¼ å¡ï¼Œæ›´æ–°$A$çš„æœ€å¤§å€¼`mx`ã€‚å¦‚æœå½“å‰å¡çš„$A$ä¸ç­‰äº`mx`ï¼ˆè¯´æ˜å‰é¢æœ‰æ›´å¤§çš„$A$ï¼‰ï¼Œåˆ™ä»`set`ä¸­åˆ é™¤è¯¥å¡çš„ç¼–å·ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`set`çš„è‡ªåŠ¨æ’åºåŠŸèƒ½å¯ä»¥ç®€åŒ–è¾“å‡ºæ­¥éª¤ï¼Œé€‚åˆéœ€è¦ä¿ç•™åŸç¼–å·çš„é—®é¢˜ã€‚

#### é¢˜è§£äºŒï¼ˆæ¥æºï¼šwo_hen_laï¼‰  
* **äº®ç‚¹**ï¼šç”¨æ•°ç»„æ ‡è®°è¢«æ·˜æ±°çš„å¡ç‰‡ï¼Œç»Ÿè®¡ä¿ç•™æ•°æ›´ç›´è§‚ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  int ans[N];
  unordered_map<int, int> mp;
  for (int i = 1; i <= n; i++) {
      cin >> a[i].q >> a[i].c;
      mp[a[i].q] = i; // è®°å½•Aå¯¹åº”çš„åŸç¼–å·
  }
  sort(a + 1, a + 1 + n, cmp);
  int mx = a[1].q, cnt = 0;
  for (int i = 2; i <= n; i++) {
      if (a[i].q < mx) {
          cnt++;
          ans[mp[a[i].q]] = 1; // æ ‡è®°è¢«æ·˜æ±°çš„å¡
      }
      mx = max(mx, a[i].q);
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `ans`æ•°ç»„æ ‡è®°è¢«æ·˜æ±°çš„å¡ç‰‡ï¼ˆ`ans[i] = 1`è¡¨ç¤ºç¬¬$i$å¼ å¡è¢«æ·˜æ±°ï¼‰ã€‚  
  - `mp`è®°å½•$A$å¯¹åº”çš„åŸç¼–å·ï¼Œé¿å…æ’åºåä¸¢å¤±ä¿¡æ¯ã€‚  
  - æ‰«ææ—¶ï¼Œè‹¥å½“å‰å¡çš„$A$å°äºæœ€å¤§å€¼ï¼Œæ ‡è®°ä¸ºè¢«æ·˜æ±°ï¼Œç»Ÿè®¡æ·˜æ±°æ•°`cnt`ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç”¨æ•°ç»„æ ‡è®°çŠ¶æ€æ˜¯å¤„ç†æ·˜æ±°é—®é¢˜çš„å¸¸ç”¨æ–¹æ³•ï¼Œç›´è§‚æ˜“æ‡‚ã€‚

#### é¢˜è§£ä¸‰ï¼ˆæ¥æºï¼šforever_nopeï¼‰  
* **äº®ç‚¹**ï¼šæŒ‰$A$é™åºæ’åºï¼Œç»´æŠ¤$C$æœ€å°å€¼ï¼Œä»£ç æ›´ç®€æ´ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  vector<int> id(n);
  for (int i = 0; i < n; ++i) {
      cin >> a[i] >> c[i];
      id[i] = i;
  }
  sort(id.begin(), id.end(), [] (int i, int j) { return a[i] > a[j]; });
  int mx = 2e9;
  vector<int> ans;
  for (int i : id) {
      if (c[i] < mx) {
          mx = c[i];
          ans.push_back(i + 1);
      }
  }
  sort(ans.begin(), ans.end());
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `id`æ•°ç»„å­˜å‚¨åŸç¼–å·ï¼ŒæŒ‰$A$é™åºæ’åºã€‚  
  - æ‰«ææ’åºåçš„`id`ï¼Œç»´æŠ¤$C$çš„æœ€å°å€¼`mx`ã€‚å¦‚æœå½“å‰å¡çš„$C$å°äº`mx`ï¼Œä¿ç•™å®ƒï¼ˆåŠ å…¥`ans`ï¼‰å¹¶æ›´æ–°`mx`ã€‚  
  - æœ€åæ’åº`ans`ï¼ŒæŒ‰åŸé¡ºåºè¾“å‡ºã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæŒ‰$A$é™åºæ’åºï¼Œç»´æŠ¤$C$æœ€å°å€¼ï¼Œé€»è¾‘æ›´ç®€æ´ï¼Œé€‚åˆå¿«é€Ÿç¼–ç ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Šåƒç´ å¡ç‰Œå¤§æŒ‘æˆ˜ã€‹ï¼ˆFCçº¢ç™½æœºé£æ ¼ï¼‰  
### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹ï¼šæŒ‰$C$ä»å°åˆ°å¤§æ’åºåï¼Œç»´æŠ¤$A$æœ€å¤§å€¼çš„è¿‡ç¨‹ã€‚  
### è®¾è®¡æ€è·¯ç®€è¿°ï¼š  
é‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼Œæ¨¡æ‹ŸFCæ¸¸æˆçš„ç”»é¢ï¼Œç”¨åƒç´ å—è¡¨ç¤ºå¡ç‰‡ï¼Œé¢œè‰²åŒºåˆ†çŠ¶æ€ï¼ˆç»¿è‰²=ä¿ç•™ï¼Œçº¢è‰²=æ·˜æ±°ï¼‰ï¼ŒåŠ¨æ€æ˜¾ç¤º$A$æœ€å¤§å€¼ï¼ˆé»„è‰²æ–¹å—ï¼‰ã€‚åŠ å…¥â€œå®â€ï¼ˆä¿ç•™ï¼‰å’Œâ€œbuzzâ€ï¼ˆæ·˜æ±°ï¼‰éŸ³æ•ˆï¼Œå¢å¼ºäº’åŠ¨æ„Ÿã€‚  

### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹ï¼š  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¾ç¤ºæ’åºåçš„å¡ç‰‡åºåˆ—ï¼ˆæŒ‰$C$ä»å°åˆ°å¤§æ’åˆ—ï¼‰ï¼Œæ¯ä¸ªå¡ç‰‡æ˜¯ä¸€ä¸ª16x16çš„åƒç´ å—ï¼Œä¸Šé¢æ˜¾ç¤º$A$å’Œ$C$çš„å€¼ã€‚  
   - å±å¹•å³ä¾§æ˜¾ç¤ºâ€œå½“å‰$A$æœ€å¤§å€¼â€ï¼ˆé»„è‰²æ–¹å—ï¼Œåˆå§‹ä¸º-1ï¼‰ã€‚  
   - åº•éƒ¨æœ‰â€œå¼€å§‹â€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œä»¥åŠé€Ÿåº¦æ»‘å—ã€‚  

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - ç‚¹å‡»â€œå¼€å§‹â€ï¼ŒåŠ¨ç”»è‡ªåŠ¨æ’­æ”¾ã€‚æ¯å¸§æ‰«æä¸€å¼ å¡ç‰‡ï¼Œä»å·¦åˆ°å³ã€‚  
   - æ‰«æåˆ°å½“å‰å¡ç‰‡æ—¶ï¼Œå¡ç‰‡é—ªçƒï¼ˆç™½è‰²è¾¹æ¡†ï¼‰ã€‚  

3. **æ ¸å¿ƒæ­¥éª¤æ¼”ç¤º**ï¼š  
   - è‹¥å½“å‰å¡ç‰‡çš„$A$å¤§äºâ€œå½“å‰$A$æœ€å¤§å€¼â€ï¼š  
     - å¡ç‰‡å˜ä¸ºç»¿è‰²ï¼Œâ€œå½“å‰$A$æœ€å¤§å€¼â€æ›´æ–°ä¸ºå½“å‰$A$ï¼ˆé»„è‰²æ–¹å—æ•°å€¼å˜åŒ–ï¼‰ã€‚  
     - æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼ˆ8ä½é£æ ¼ï¼‰ã€‚  
   - å¦åˆ™ï¼š  
     - å¡ç‰‡å˜ä¸ºçº¢è‰²ï¼Œä»åºåˆ—ä¸­â€œæ¶ˆå¤±â€ï¼ˆé€æ˜åº¦é™ä½ï¼‰ã€‚  
     - æ’­æ”¾â€œbuzzâ€çš„éŸ³æ•ˆã€‚  

4. **äº¤äº’æ§åˆ¶**ï¼š  
   - â€œå•æ­¥â€æŒ‰é’®ï¼šé€å¸§æ’­æ”¾ï¼Œæ¯ç‚¹å‡»ä¸€æ¬¡æ‰«æä¸€å¼ å¡ç‰‡ã€‚  
   - â€œé€Ÿåº¦æ»‘å—â€ï¼šè°ƒæ•´è‡ªåŠ¨æ’­æ”¾çš„é€Ÿåº¦ï¼ˆä»1å¸§/ç§’åˆ°10å¸§/ç§’ï¼‰ã€‚  
   - â€œé‡ç½®â€æŒ‰é’®ï¼šæ¢å¤åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹åŠ¨ç”»ã€‚  

5. **ç›®æ ‡è¾¾æˆ**ï¼š  
   - æ‰€æœ‰å¡ç‰‡æ‰«æå®Œæ¯•åï¼Œä¿ç•™çš„å¡ç‰‡ï¼ˆç»¿è‰²ï¼‰æ’åˆ—åœ¨å±å¹•å·¦ä¾§ï¼Œæ˜¾ç¤ºâ€œæŒ‘æˆ˜æˆåŠŸï¼â€çš„æ–‡å­—ï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆï¼ˆ8ä½é£æ ¼çš„â€œé€šå…³æ›²â€ï¼‰ã€‚  

### æ—ç™½æç¤ºï¼ˆåŠ¨ç”»ä¸­çš„æ–‡å­—æ°”æ³¡ï¼‰ï¼š  
- â€œç°åœ¨æ‰«æç¬¬1å¼ å¡ï¼Œ$C=1$ï¼Œ$A=1$ã€‚å½“å‰$A$æœ€å¤§å€¼æ˜¯-1ï¼Œä¿ç•™å®ƒï¼â€ï¼ˆå¡ç‰‡å˜ä¸ºç»¿è‰²ï¼‰  
- â€œæ‰«æç¬¬2å¼ å¡ï¼Œ$C=2$ï¼Œ$A=3$ã€‚å½“å‰$A$æœ€å¤§å€¼æ˜¯1ï¼Œä¿ç•™å®ƒï¼â€ï¼ˆå¡ç‰‡å˜ä¸ºç»¿è‰²ï¼Œæœ€å¤§å€¼æ›´æ–°ä¸º3ï¼‰  
- â€œæ‰«æç¬¬3å¼ å¡ï¼Œ$C=4$ï¼Œ$A=2$ã€‚å½“å‰$A$æœ€å¤§å€¼æ˜¯3ï¼Œæ·˜æ±°å®ƒï¼â€ï¼ˆå¡ç‰‡å˜ä¸ºçº¢è‰²ï¼‰  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»ï¼š  
æœ¬é¢˜çš„æ ¸å¿ƒæŠ€å·§æ˜¯**æ’åº+æå€¼ç»´æŠ¤**ï¼Œé€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š  
1. **å¯»æ‰¾â€œéæ”¯é…â€å…ƒç´ **ï¼šä¾‹å¦‚ï¼Œåœ¨äºŒç»´å¹³é¢ä¸­ï¼Œå¯»æ‰¾æ²¡æœ‰è¢«å…¶ä»–ç‚¹æ”¯é…ï¼ˆ$x$æ›´å¤§ä¸”$y$æ›´å°ï¼‰çš„ç‚¹ã€‚  
2. **è´ªå¿ƒç®—æ³•ä¸­çš„æ’åºä¼˜åŒ–**ï¼šä¾‹å¦‚ï¼Œåˆå¹¶æœå­é—®é¢˜ï¼ˆæŒ‰é‡é‡æ’åºï¼Œç»´æŠ¤æœ€å°å †ï¼‰ã€æ’é˜Ÿæ¥æ°´é—®é¢˜ï¼ˆæŒ‰æ¥æ°´æ—¶é—´æ’åºï¼Œç»´æŠ¤ç­‰å¾…æ—¶é—´ï¼‰ã€‚  
3. **åŠ¨æ€è§„åˆ’ä¸­çš„çŠ¶æ€ç®€åŒ–**ï¼šä¾‹å¦‚ï¼Œæœ€é•¿é€’å¢å­åºåˆ—é—®é¢˜ï¼ˆæŒ‰ä¸€ä¸ªç»´åº¦æ’åºï¼Œç»´æŠ¤å¦ä¸€ä¸ªç»´åº¦çš„æå€¼ï¼‰ã€‚  

### ç»ƒä¹ æ¨è (æ´›è°·)ï¼š  
1. **æ´›è°· P1090 [NOIP2004 æé«˜ç»„] åˆå¹¶æœå­**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”¨è´ªå¿ƒç®—æ³•ï¼ŒæŒ‰æœå­é‡é‡æ’åºï¼Œç»´æŠ¤æœ€å°å †ã€‚é€šè¿‡ç»ƒä¹ ï¼Œå¯ä»¥å·©å›ºâ€œæ’åº+æå€¼ç»´æŠ¤â€çš„æŠ€å·§ã€‚  
2. **æ´›è°· P1115 æœ€å¤§å­æ®µå’Œ**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”¨åŠ¨æ€è§„åˆ’ï¼Œç»´æŠ¤å½“å‰å­æ®µå’Œçš„æœ€å¤§å€¼ã€‚è™½ç„¶ä¸æ˜¯æ’åºé—®é¢˜ï¼Œä½†æå€¼ç»´æŠ¤çš„æ€è·¯ä¸æœ¬é¢˜ä¸€è‡´ã€‚  
3. **æ´›è°· P1223 æ’é˜Ÿæ¥æ°´**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦æŒ‰æ¥æ°´æ—¶é—´æ’åºï¼Œç»´æŠ¤ç­‰å¾…æ—¶é—´çš„æ€»å’Œã€‚é€šè¿‡ç»ƒä¹ ï¼Œå¯ä»¥ç†è§£æ’åºåœ¨è´ªå¿ƒé—®é¢˜ä¸­çš„ä½œç”¨ã€‚  
4. **æ´›è°· P2089 çƒ¤é¸¡**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦æšä¸¾æ‰€æœ‰å¯èƒ½çš„é…æ–™ç»„åˆï¼ŒæŒ‰æŸç§é¡ºåºæ’åºåç»´æŠ¤æå€¼ã€‚é€šè¿‡ç»ƒä¹ ï¼Œå¯ä»¥æ‹“å±•â€œæ’åº+æå€¼ç»´æŠ¤â€çš„åº”ç”¨åœºæ™¯ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### å‚è€ƒç»éªŒ (æ¥è‡ª hjyowl)ï¼š  
â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆå¿˜è®°è®°å½•å¡ç‰‡çš„åŸç¼–å·ï¼Œå¯¼è‡´æ’åºåæ— æ³•æ­£ç¡®è¾“å‡ºç»“æœã€‚åæ¥é€šè¿‡åœ¨ç»“æ„ä½“ä¸­åŠ å…¥`id`å­—æ®µï¼Œæ‰è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚â€  
* **ç‚¹è¯„**ï¼šè®°å½•åŸç¼–å·æ˜¯å¤„ç†éœ€è¦ä¿ç•™åŸé¡ºåºé—®é¢˜çš„å…³é”®ã€‚åœ¨æ’åºå‰ï¼Œä¸€å®šè¦å°†åŸç¼–å·ä¸æ•°æ®ç»‘å®šï¼Œé¿å…æ’åºåä¸¢å¤±ä¿¡æ¯ã€‚  

### å‚è€ƒç»éªŒ (æ¥è‡ª forever_nope)ï¼š  
â€œæˆ‘å°è¯•äº†ä¸¤ç§æ’åºæ–¹å¼ï¼ˆæŒ‰$C$ä»å°åˆ°å¤§å’ŒæŒ‰$A$ä»å¤§åˆ°å°ï¼‰ï¼Œå‘ç°æŒ‰$A$ä»å¤§åˆ°å°æ’åºçš„ä»£ç æ›´ç®€æ´ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œé€‰æ‹©åˆé€‚çš„æ’åºç»´åº¦å¯ä»¥ç®€åŒ–é—®é¢˜ã€‚â€  
* **ç‚¹è¯„**ï¼šæ’åºç»´åº¦çš„é€‰æ‹©ä¼šå½±å“ä»£ç çš„å¤æ‚åº¦ã€‚åœ¨è§£å†³äºŒç»´é—®é¢˜æ—¶ï¼Œåº”å°è¯•ä¸åŒçš„æ’åºæ–¹å¼ï¼Œé€‰æ‹©æœ€ç®€æ´çš„æ€è·¯ã€‚  


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œ[ABC354C] AtCoder Magicsâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶ç†è§£â€œæ’åº+æå€¼ç»´æŠ¤â€çš„æ ¸å¿ƒæŠ€å·§ï¼Œå¹¶æŒæ¡å¦‚ä½•å°†äºŒç»´é—®é¢˜è½¬åŒ–ä¸ºä¸€ç»´é—®é¢˜ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**æŒç»­ç»ƒä¹ **å’Œ**æ€»ç»“ç»éªŒ**ã€‚ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š164.68ç§’
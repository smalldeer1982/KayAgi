# 题目信息

# [ABC314B] Roulette

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc314/tasks/abc314_b

人 $ 1 $ 、人 $ 2 $ 、$ \ldots $ 、人 $ N $ の $ N $ 人の人がルーレットの賭けに参加しました。 このルーレットの出目は、$ 0 $ から $ 36 $ までの $ 37 $ 個の整数のうちいずれかです。 $ i\ =\ 1,\ 2,\ \ldots,\ N $ について、人 $ i $ は $ 37 $ 個の目のうち $ C_i $ 個の目 $ A_{i,\ 1},\ A_{i,\ 2},\ \ldots,\ A_{i,\ C_i} $ に賭けました。

ルーレットが回され、出目は $ X $ でした。 $ X $ に賭けた人たちのうち、賭けた目の個数が最も少ない人たちの番号を**昇順に**すべて出力してください。

より形式的には、$ 1 $ 以上 $ N $ 以下の整数 $ i $ であって、下記の $ 2 $ つの条件をともに満たすものを**昇順に**すべて出力してください。

- 人 $ i $ は $ X $ に賭けている。
- 任意の $ j\ =\ 1,\ 2,\ \ldots,\ N $ について「人 $ j $ が $ X $ に賭けているならば、$ C_i\ \leq\ C_j $ 」が成り立つ。
 
出力するべき番号が $ 1 $ つも無い場合もあることに注意してください（入力例２を参照）。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 100 $
- $ 1\ \leq\ C_i\ \leq\ 37 $
- $ 0\ \leq\ A_{i,\ j}\ \leq\ 36 $
- 任意の $ i\ =\ 1,\ 2,\ \ldots,\ N $ について、$ A_{i,\ 1},\ A_{i,\ 2},\ \ldots,\ A_{i,\ C_i} $ はすべて異なる。
- $ 0\ \leq\ X\ \leq\ 36 $
- 入力はすべて整数
 
### Sample Explanation 1

ルーレットが回され、出目は $ 19 $ でした。 $ 19 $ に賭けた人は人 $ 1 $ 、人 $ 2 $ 、人 $ 4 $ の $ 3 $ 人であり、それぞれが賭けた目の個数は $ 3,\ 4,\ 3 $ です。 よって、$ 19 $ に賭けた人のうち、賭けた目の個数が最も少ない人は人 $ 1 $ と人 $ 4 $ の $ 2 $ 人です。

### Sample Explanation 2

ルーレットが回され出目は $ 0 $ でしたが、$ 0 $ に賭けた人は一人もいないため、 出力するべき番号は $ 1 $ つもありません。

## 样例 #1

### 输入

```
4

3

7 19 20

4

4 19 24 0

2

26 10

3

19 31 24

19```

### 输出

```
2

1 4```

## 样例 #2

### 输入

```
3

1

1

1

2

1

3

0```

### 输出

```
0```

# AI分析结果



---
# 💡 Kay的C++算法解析：[ABC314B] Roulette 深入学习指南 💡

<introduction>
今天我们来分析这道“轮盘赌”题目！这道题需要我们模拟轮盘结果的处理过程，找出下注特定数字且下注数量最少的人。通过学习这道题，大家可以掌握数据筛选与最小值匹配的核心技巧，快来一起看看吧~
</introduction>

## 1. 题目解读与核心算法识别

✨ **本题主要考察**：`模拟`

🗣️ **初步分析**：
解决这道题的关键在于“模拟”轮盘结果的处理流程。简单来说，“模拟”就像按照题目描述的规则“一步一步抄作业”——先收集所有下注了X的人，再从中挑出下注数量最少的。  
在本题中，我们需要：
1. 遍历每个人的下注列表，检查是否包含X；
2. 记录这些人的下注数量（C_i）；
3. 找到最小的C_i值；
4. 筛选出所有下注数量等于这个最小值的人，按升序输出。  
核心难点在于：如何高效判断X是否在某人的下注列表中？如何正确处理“无人下注X”的边界情况？  
可视化设计时，可以用像素小人代表玩家，每个小人头顶显示他们下注的数字（用像素方块排列），轮盘转出X后，高亮包含X的小人，再用“放大镜”动画对比他们的下注数量，最后用箭头标出最小值对应的小人。

---

## 2. 精选优质题解参考

<eval_intro>
由于当前提供的题解信息中暂无具体题解，Kay将从学习者角度给出通用学习建议，帮助大家更高效地解题~
</eval_intro>

**通用学习建议**：
- **数据筛选意识**：遇到“筛选符合条件的元素”问题时，先明确筛选条件（本题是“下注了X”），用数组或列表记录符合条件的对象。
- **最小值匹配技巧**：找到符合条件的对象后，先遍历一次找最小值，再遍历一次收集所有等于最小值的对象，避免复杂操作。
- **边界条件处理**：题目可能存在“无符合条件对象”的情况（如样例2），需单独判断并输出空结果。

---

## 3. 核心难点辨析与解题策略

<difficulty_intro>
在解决这道题的过程中，我们可能会遇到以下关键点。掌握这些策略，能让解题更高效！
</difficulty_intro>

1.  **关键点1**：如何快速判断某人是否下注了X？
    * **分析**：对于每个人的下注列表（A_i数组），需要遍历检查是否存在X。由于C_i最多是37（数据量小），直接遍历即可。可以用布尔变量标记是否找到X。
    * 💡 **学习笔记**：数据量较小时，暴力遍历是简单有效的方法。

2.  **关键点2**：如何找到下注数量最少的人？
    * **分析**：首先收集所有下注了X的人的C_i，然后找到其中的最小值。若无人下注X，直接输出空；否则，再次遍历收集所有C_i等于最小值的人。
    * 💡 **学习笔记**：分两步处理（找最小值→收集结果）能让逻辑更清晰。

3.  **关键点3**：如何处理“无人下注X”的边界情况？
    * **分析**：在收集下注了X的人时，若列表为空，直接输出空结果。需注意题目要求“输出昇順”，但空列表无需排序。
    * 💡 **学习笔记**：边界条件往往是测试的重点，需特别注意。

### ✨ 解题技巧总结
<summary_best_practices>
- **分步处理**：将问题拆解为“筛选→找最小值→收集结果”，每一步专注一个任务，降低复杂度。
- **变量命名清晰**：用`bettors`保存下注了X的人（编号和C_i），`min_c`保存最小下注数量，代码更易读。
- **提前终止检查**：在筛选阶段，若发现无人下注X，直接输出结果，避免后续无效计算。
</summary_best_practices>

---

## 4. C++核心代码实现赏析

<code_intro_overall>
虽然暂无题解，但Kay根据题目要求编写了一个通用的核心实现，帮助大家理解完整的解题流程。
</code_intro_overall>

**本题通用核心C++实现参考**
* **说明**：此代码综合题目要求设计，包含输入处理、数据筛选、最小值查找及结果输出的完整逻辑。
* **完整核心代码**：
    ```cpp
    #include <iostream>
    #include <vector>
    #include <algorithm>

    using namespace std;

    int main() {
        int N;
        cin >> N;
        vector<int> C(N);
        vector<vector<int>> A(N);
        for (int i = 0; i < N; ++i) {
            cin >> C[i];
            A[i].resize(C[i]);
            for (int j = 0; j < C[i]; ++j) {
                cin >> A[i][j];
            }
        }
        int X;
        cin >> X;

        vector<pair<int, int>> bettors; // 存储（C_i, 编号i+1）
        for (int i = 0; i < N; ++i) {
            bool has_X = false;
            for (int num : A[i]) {
                if (num == X) {
                    has_X = true;
                    break;
                }
            }
            if (has_X) {
                bettors.emplace_back(C[i], i + 1); // 编号从1开始
            }
        }

        if (bettors.empty()) {
            cout << 0 << endl;
            return 0;
        }

        // 找最小的C_i
        int min_c = bettors[0].first;
        for (auto& p : bettors) {
            if (p.first < min_c) {
                min_c = p.first;
            }
        }

        // 收集所有C_i等于min_c的人，并排序
        vector<int> res;
        for (auto& p : bettors) {
            if (p.first == min_c) {
                res.push_back(p.second);
            }
        }
        sort(res.begin(), res.end());

        // 输出结果
        cout << res.size() << endl;
        for (int i = 0; i < res.size(); ++i) {
            if (i > 0) cout << " ";
            cout << res[i];
        }
        cout << endl;

        return 0;
    }
    ```
* **代码解读概要**：
    > 代码首先读取输入数据（N个人的下注信息和X），然后遍历每个人的下注列表，筛选出下注了X的人，存入`bettors`。若`bettors`为空，直接输出0。否则，找到其中最小的下注数量`min_c`，再收集所有下注数量等于`min_c`的人，排序后输出。

---

## 5\. 算法可视化：像素动画演示 (核心部分)

<visualization_intro>
为了更直观地理解“筛选下注X的人并找最小值”的过程，Kay设计了一个复古像素风格的动画！让我们化身“轮盘小助手”，一起看动画学算法~
</visualization_intro>

  * **动画演示主题**：`像素轮盘大挑战`
  * **核心演示内容**：轮盘转出X后，所有下注了X的像素小人会被“聚光灯”照亮，他们头顶的数字（C_i）会跳动显示，最后“最小数字”的小人会戴上“冠军帽”，按顺序排队输出。
  * **设计思路简述**：用8位像素风（类似FC游戏）降低学习压力，聚光灯高亮关键步骤，数字跳动强化记忆，冠军帽增加趣味性，帮助理解“筛选→对比→输出”的流程。

  * **动画帧步骤与交互关键点**：

    1.  **场景初始化**：
        - 背景是复古赌场，左侧排列N个像素小人（编号1~N），每个小人头顶显示他们下注的数字（用小方块排列，如“7 19 20”显示为三个小方块，数字用像素字体）。
        - 右侧是轮盘（一个大圆圈，数字0~36环绕），中间显示“？”表示未开奖。
        - 控制面板有“开始”按钮和“单步”滑块（控制动画速度）。

    2.  **轮盘开奖**：
        - 点击“开始”，轮盘旋转（像素方块快速闪烁），最终停在X（如19），伴随“叮~”的音效。
        - 轮盘中间的“？”变为X的像素数字（如“19”）。

    3.  **筛选下注X的人**：
        - 逐个检查小人的下注数字：当前检查的小人（如人1）会被蓝色框包围，遍历他的下注数字（小方块逐个放大），当发现X（如19）时，小人被绿色聚光灯照亮（表示“下注了X”），伴随“滴”的音效。
        - 未下注X的小人保持灰色，无音效。

    4.  **找最小下注数量**：
        - 所有被照亮的小人头顶显示C_i（如人1显示“3”，人2显示“4”），数字开始跳动。
        - 一个“放大镜”动画（像素箭头）从左到右扫描这些数字，每扫描一个数字，显示当前最小值（初始为第一个数字，后续若更小则更新）。
        - 当找到最小值（如3）时，放大镜停留并闪烁，伴随“咚”的音效。

    5.  **输出结果**：
        - 所有C_i等于最小值的小人（人1和人4）头顶戴上“冠军帽”（像素星星），其他被照亮的小人恢复普通状态。
        - 这些冠军小人按编号升序排队（人1在前，人4在后），屏幕下方显示他们的编号，伴随“胜利”音效（轻快的旋律）。

    6.  **边界情况演示**（如样例2）：
        - 若无人下注X，所有小人保持灰色，轮盘显示“X=0”后，屏幕中央弹出“无人中奖”的像素文字，伴随“呜~”的提示音效。

  * **旁白提示**：
    - “看！轮盘停在19了，现在要检查哪些人下注了19~”
    - “人1的下注数字里有19，他被照亮啦！”
    - “放大镜在找最小的下注数量，当前最小是3哦~”
    - “人1和人4的下注数量都是3，他们是幸运儿！”

<visualization_conclusion>
通过这样的像素动画，我们能直观看到每一步操作，像玩游戏一样理解算法逻辑~ 是不是更简单了？
</visualization_conclusion>

-----

## 6\. 拓展练习与相似问题思考

<similar_problems_intro>
本题的核心是“数据筛选+最小值匹配”，这种思路在很多问题中都能用到。掌握后可以挑战以下题目哦~
</similar_problems_intro>

  * **通用思路/技巧迁移**：
      - 统计班级中数学考90分以上的学生，找其中年龄最小的；
      - 筛选电商平台中价格≤100元的商品，找销量最高的；
      - 游戏中统计击败BOSS的玩家，找耗时最短的。

  * **练习推荐 (洛谷)**：
    1.  **洛谷 P1047** - `校门外的树`
          * 🗣️ **推荐理由**：练习数据筛选与区间处理，和本题的“条件筛选”思路类似。
    2.  **洛谷 P1554** - `梦中的统计`
          * 🗣️ **推荐理由**：需要统计数字出现次数并找最大值，锻炼“统计+最值”的综合应用。
    3.  **洛谷 P2141** - `珠心算测验`
          * 🗣️ **推荐理由**：筛选符合条件的数并统计，强化“筛选→统计”的逻辑。

-----

## 7\. 学习心得与经验分享 (若有)

<insights_intro>
本次分析的题解中未发现明确的作者个人心得分享部分。
</insights_intro>

-----

<conclusion>
通过这道题的学习，我们掌握了“模拟”算法的应用，学会了如何筛选数据并找最小值。记住，遇到类似问题时，分步处理、清晰命名变量是关键！下次遇到轮盘赌或类似的统计问题，你一定能轻松解决~ 加油！💪
</conclusion>

---
处理用时：119.31秒
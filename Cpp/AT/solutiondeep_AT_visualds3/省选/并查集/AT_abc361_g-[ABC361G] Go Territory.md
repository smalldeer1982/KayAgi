# é¢˜ç›®ä¿¡æ¯

# [ABC361G] Go Territory

## é¢˜ç›®æè¿°

[problemUrl]: https://atcoder.jp/contests/abc361/tasks/abc361_g

$ 2 $ æ¬¡å…ƒå¹³é¢ä¸Šã« $ N $ å€‹ã®çŸ³ãŒç½®ã‹ã‚Œã¦ã„ã¾ã™ã€‚$ i $ ç•ªç›®ã®çŸ³ã¯åº§æ¨™ $ (X_i,Y_i) $ ã«ã‚ã‚Šã¾ã™ã€‚çŸ³ã¯å…¨ã¦ç¬¬ä¸€è±¡é™(è»¸ä¸Šå«ã‚€)ã®æ ¼å­ç‚¹ã«ã‚ã‚Šã¾ã™ã€‚

çŸ³ã®ç½®ã‹ã‚Œã¦ã„ãªã„æ ¼å­ç‚¹ $ (x,y) $ ã§ã‚ã£ã¦ã€ä¸Šä¸‹å·¦å³ã®ã„ãšã‚Œã‹ã« $ 1 $ ç§»å‹•ã™ã‚‹ã“ã¨ã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€çŸ³ã®ç½®ã‹ã‚Œã¦ã„ã‚‹åº§æ¨™ã‚’é€šã‚‰ãšã« $ (-1,-1) $ ã«åˆ°é”ã™ã‚‹ã“ã¨ãŒ**ã§ããªã„**ã‚‚ã®ã®å€‹æ•°ã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚

ã‚ˆã‚Šæ­£ç¢ºã«ã¯ã€çŸ³ã®ç½®ã‹ã‚Œã¦ã„ãªã„æ ¼å­ç‚¹ $ (x,y) $ ã§ã‚ã£ã¦ã€ä»¥ä¸‹ã® $ 4 $ æ¡ä»¶ã‚’å…¨ã¦æº€ãŸã™ã‚ˆã†ãªæ•´æ•°ã®çµ„ã®æœ‰é™åˆ— $ (x_0,y_0),\ldots,(x_k,y_k) $ ãŒå­˜åœ¨**ã—ãªã„**ã‚‚ã®ã®å€‹æ•°ã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚

- $ (x_0,y_0)=(x,y) $
- $ (x_k,y_k)=(-1,-1) $
- å…¨ã¦ã® $ 0\leq\ i\ <\ k $ ã§ $ |x_i-x_{i+1}|+|y_i-y_{i+1}|=1 $
- ã©ã® $ 0\ \leq\ i\ \leq\ k $ ã§ã‚‚ã€$ (x_i,y_i) $ ã«çŸ³ã¯ãªã„

## è¯´æ˜/æç¤º

### åˆ¶ç´„

- $ 0\ \leq\ N\ \leq\ 2\times\ 10^5 $
- $ 0\ \leq\ X_i,Y_i\ \leq\ 2\times\ 10^5 $
- $ (X_i,Y_i) $ ã¯ç›¸ç•°ãªã‚‹
- å…¥åŠ›ã¯å…¨ã¦æ•´æ•°

### Sample Explanation 1

$ (1,1) $ ã‹ã‚‰ $ (-1,-1) $ ã«åˆ°é”ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ !\[\](https://img.atcoder.jp/abc361/77ce335c7ebd31af0860ce2aa43ae32a.png)

### Sample Explanation 2

çŸ³ãŒ $ 1 $ ã¤ã‚‚ç½®ã‹ã‚Œã¦ã„ãªã„ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚

### Sample Explanation 3

$ (6,1),(6,2),(6,3),(7,1),(7,2),(7,3) $ ã® $ 6 $ å€‹ãŒè©²å½“ã—ã¾ã™ã€‚ !\[\](https://img.atcoder.jp/abc361/95ffd845cfab71f0cd6b3c8122eb1ac9.png)

## æ ·ä¾‹ #1

### è¾“å…¥

```
5
1 0
0 1
2 3
1 2
2 1```

### è¾“å‡º

```
1```

## æ ·ä¾‹ #2

### è¾“å…¥

```
0```

### è¾“å‡º

```
0```

## æ ·ä¾‹ #3

### è¾“å…¥

```
22
0 1
0 2
0 3
1 0
1 4
2 0
2 2
2 4
3 0
3 1
3 2
3 4
5 1
5 2
5 3
6 0
6 4
7 0
7 4
8 1
8 2
8 3```

### è¾“å‡º

```
6```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[ABC361G] Go Territory æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå¹¶æŸ¥é›†ï¼ˆDSUï¼‰+ æ‰«æçº¿ + è¿ç»­æ®µç¼©ç‚¹  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„ä»»åŠ¡æ˜¯åœ¨ä¸€ä¸ªå¸ƒæ»¡â€œçŸ³å¤´â€ï¼ˆéšœç¢ç‚¹ï¼‰çš„ç½‘æ ¼é‡Œï¼Œæ‰¾å‡ºé‚£äº›â€œè¢«å›°ä½â€çš„ç‚¹â€”â€”å®ƒä»¬æ— æ³•é€šè¿‡ä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼ˆä¸è¸©çŸ³å¤´ï¼‰èµ°åˆ°ç½‘æ ¼å¤–çš„â€œå®‰å…¨åŒºâ€ï¼ˆ(-1,-1)ï¼‰ã€‚è¿™äº›è¢«å›°çš„ç‚¹å°±åƒè¢«çŸ³å¤´å›´æˆçš„â€œå°æ± å¡˜â€ï¼Œè€Œæˆ‘ä»¬éœ€è¦è®¡ç®—æ‰€æœ‰æ± å¡˜çš„å¤§å°ä¹‹å’Œã€‚  

è§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®æ€è·¯æ˜¯**â€œç¼©ç‚¹â€**ï¼šæŠŠæ¯ä¸€è¡Œä¸­è¿ç»­çš„ééšœç¢ç‚¹åˆå¹¶æˆä¸€ä¸ªâ€œæ®µâ€ï¼ˆæ¯”å¦‚ä¸€è¡Œä¸­ä»x=2åˆ°x=5æ²¡æœ‰çŸ³å¤´ï¼Œå°±å½¢æˆä¸€ä¸ªæ®µ[2,5]ï¼‰ã€‚è¿™äº›æ®µå°±åƒâ€œç§¯æœ¨â€ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸Šä¸‹ç›¸é‚»çš„ç§¯æœ¨æ˜¯å¦â€œç›¸è¿â€ï¼ˆå³å®ƒä»¬çš„xèŒƒå›´æœ‰é‡å ï¼Œæ¯”å¦‚ä¸Šä¸€è¡Œçš„[2,5]å’Œä¸‹ä¸€è¡Œçš„[3,6]æœ‰é‡å ï¼Œè¯´æ˜è¿™ä¸¤ä¸ªæ®µé‡Œçš„ç‚¹å¯ä»¥äº’ç›¸åˆ°è¾¾ï¼‰ã€‚æœ€åï¼Œæ‰€æœ‰èƒ½è¿åˆ°ç½‘æ ¼è¾¹ç¼˜ï¼ˆæ¯”å¦‚æœ€å·¦è¾¹ã€æœ€å³è¾¹æˆ–æœ€ä¸‹è¾¹ï¼‰çš„ç§¯æœ¨éƒ½æ˜¯â€œå®‰å…¨â€çš„ï¼Œå‰©ä¸‹çš„å°±æ˜¯è¢«å›°çš„ã€‚  

**æ ¸å¿ƒç®—æ³•æµç¨‹**ï¼š  
1. **å¤„ç†æ¯ä¸€è¡Œ**ï¼šå°†æ¯ä¸€è¡Œçš„çŸ³å¤´æ’åºï¼Œåˆ†å‰²å‡ºè¿ç»­çš„ééšœç¢æ®µï¼ˆæ¯”å¦‚è¡Œy=3æœ‰çŸ³å¤´åœ¨x=1å’Œx=4ï¼Œé‚£ä¹ˆæ®µæ˜¯[0,0]ã€[2,3]ã€[5,âˆ]ï¼‰ã€‚  
2. **å»ºç«‹å¹¶æŸ¥é›†**ï¼šæ¯ä¸ªæ®µå¯¹åº”ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®°å½•è¯¥æ®µçš„é•¿åº¦ï¼ˆç‚¹çš„æ•°é‡ï¼‰ã€‚  
3. **è¿æ¥ç›¸é‚»è¡Œçš„æ®µ**ï¼šç”¨åŒæŒ‡é’ˆæ³•æ‰¾åˆ°ä¸Šä¸‹è¡Œä¸­é‡å çš„æ®µï¼Œå°†å®ƒä»¬åˆå¹¶ï¼ˆå¹¶æŸ¥é›†çš„mergeæ“ä½œï¼‰ã€‚  
4. **åˆ¤æ–­å®‰å…¨æ®µ**ï¼šæ‰€æœ‰èƒ½è¿åˆ°ç½‘æ ¼è¾¹ç¼˜çš„æ®µï¼ˆæ¯”å¦‚æ®µçš„å·¦ç«¯ç‚¹æ˜¯0ï¼Œæˆ–å³ç«¯ç‚¹æ˜¯âˆï¼Œæˆ–ä½äºæœ€ä¸‹è¾¹çš„è¡Œï¼‰éƒ½æ˜¯å®‰å…¨çš„ï¼Œå®ƒä»¬çš„å¹¶æŸ¥é›†æ ¹èŠ‚ç‚¹ä¼šè¢«æ ‡è®°ä¸ºâ€œå®‰å…¨â€ã€‚  
5. **è®¡ç®—ç­”æ¡ˆ**ï¼šæ‰€æœ‰æœªè¢«æ ‡è®°ä¸ºâ€œå®‰å…¨â€çš„æ®µçš„é•¿åº¦ä¹‹å’Œï¼Œå°±æ˜¯è¢«å›°ç‚¹çš„æ•°é‡ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä»¬å¯ä»¥ç”¨**8ä½åƒç´ é£æ ¼**åˆ¶ä½œåŠ¨ç”»ï¼Œå±•ç¤ºæ¯ä¸€è¡Œçš„æ®µï¼ˆç”¨ä¸åŒé¢œè‰²çš„çŸ©å½¢è¡¨ç¤ºï¼‰ï¼Œä¸Šä¸‹æ®µåˆå¹¶æ—¶é¢œè‰²å˜æµ…ï¼Œå®‰å…¨æ®µç”¨é—ªçƒçš„â€œæ˜Ÿæ˜Ÿâ€æ ‡è®°ã€‚åŠ¨ç”»ä¼šåˆ†æ­¥å±•ç¤ºâ€œæ‰«ææ¯ä¸€è¡Œâ†’ç”Ÿæˆæ®µâ†’åˆå¹¶ç›¸é‚»æ®µâ†’æ ‡è®°å®‰å…¨æ®µâ€çš„è¿‡ç¨‹ï¼Œè®©ä½ ç›´è§‚çœ‹åˆ°å“ªäº›æ®µè¢«å›°ä½ã€‚æ¯”å¦‚ï¼š  
- æ®µ[2,5]ï¼ˆè¡Œy=3ï¼‰ç”¨è“è‰²çŸ©å½¢è¡¨ç¤ºï¼Œä¸‹ä¸€è¡Œçš„æ®µ[3,6]ï¼ˆè¡Œy=4ï¼‰ç”¨ç»¿è‰²çŸ©å½¢è¡¨ç¤ºï¼Œåˆå¹¶åå˜æˆæ·¡è“è‰²ã€‚  
- å®‰å…¨æ®µï¼ˆæ¯”å¦‚[0,0]ï¼‰ä¼šæœ‰ä¸€ä¸ªé—ªçƒçš„é»„è‰²æ˜Ÿæ˜Ÿï¼Œæç¤ºâ€œè¿™ä¸ªæ®µèƒ½èµ°åˆ°å¤–é¢â€ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºäº†å¸®ä½ å¿«é€ŸæŒæ¡æ ¸å¿ƒæ€è·¯ï¼Œæˆ‘ä»é¢˜è§£ä¸­ç­›é€‰äº†3ä»½**è¯„åˆ†â‰¥4æ˜Ÿ**çš„ä¼˜è´¨æ–¹æ¡ˆï¼Œå®ƒä»¬åœ¨æ€è·¯æ¸…æ™°åº¦ã€ä»£ç å¯è¯»æ€§å’Œç®—æ³•æœ‰æ•ˆæ€§ä¸Šè¡¨ç°çªå‡ºï¼š


### **é¢˜è§£ä¸€ï¼šDrAlfredï¼ˆæ´›è°·é¢˜è§£ï¼‰**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸æ¸…æ™°ï¼Œåƒâ€œæ‹†è§£ç§¯æœ¨â€ä¸€æ ·æŠŠé—®é¢˜ä¸€æ­¥æ­¥ç®€åŒ–ã€‚ä½œè€…ç”¨`map`è®°å½•æ¯ä¸€è¡Œçš„çŸ³å¤´ï¼Œæ’åºåç”Ÿæˆè¿ç»­æ®µï¼ˆæ¯”å¦‚è¡Œxçš„çŸ³å¤´æ’åºåï¼Œåˆ†å‰²å‡º[ -âˆ, y0-1 ]ã€[ y1+1, y2-1 ]ç­‰æ®µï¼‰ï¼Œè¿™ä¸€æ­¥éå¸¸å…³é”®â€”â€”ç¡®ä¿æ‰€æœ‰ééšœç¢ç‚¹éƒ½è¢«æ­£ç¡®åˆ’åˆ†æˆæ®µã€‚ç„¶åï¼Œä½œè€…ç”¨**åŒæŒ‡é’ˆæ³•**é«˜æ•ˆè¿æ¥ä¸Šä¸‹è¡Œçš„é‡å æ®µï¼ˆæ¯”å¦‚è¡Œxçš„æ®µ[i]å’Œè¡Œx+1çš„æ®µ[j]ï¼Œå¦‚æœå®ƒä»¬çš„yèŒƒå›´æœ‰é‡å ï¼Œå°±åˆå¹¶å®ƒä»¬çš„å¹¶æŸ¥é›†èŠ‚ç‚¹ï¼‰ã€‚æœ€åï¼Œæ‰€æœ‰èƒ½è¿åˆ°è¾¹ç¼˜çš„æ®µï¼ˆæ¯”å¦‚æ®µçš„å·¦ç«¯ç‚¹æ˜¯-âˆæˆ–å³ç«¯ç‚¹æ˜¯âˆï¼‰éƒ½ä¸â€œè¶…çº§æºç‚¹0â€åˆå¹¶ï¼Œç»Ÿè®¡æœªè¿åˆ°0çš„æ®µçš„é•¿åº¦ä¹‹å’Œã€‚ä»£ç è§„èŒƒï¼ˆå˜é‡åå¦‚`segs`è¡¨ç¤ºæ®µï¼Œ`DSU`ç»“æ„æ¸…æ™°ï¼‰ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆæ¯”å¦‚é¢„ç•™ç©ºè¡Œçš„æ®µï¼‰ï¼Œéå¸¸é€‚åˆä½œä¸ºå…¥é—¨å‚è€ƒã€‚


### **é¢˜è§£äºŒï¼šlingziyi2025ï¼ˆAtCoderé¢˜è§£ï¼‰**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„â€œç¼©ç‚¹â€æ€è·¯æ›´ç›´æ¥ï¼Œä½œè€…æŠŠæ¯ä¸€è¡Œçš„è¿ç»­æ®µç”¨`struct L`ï¼ˆåŒ…å«è¡Œyã€å·¦ç«¯ç‚¹lã€å³ç«¯ç‚¹rï¼‰è¡¨ç¤ºï¼Œç„¶åç”¨åŒæŒ‡é’ˆæ³•è¿æ¥ä¸Šä¸‹è¡Œçš„æ®µã€‚ä»£ç ä¸­çš„`l[y]`å’Œ`r[y]`è®°å½•äº†è¡Œyçš„æ®µåœ¨æ•°ç»„ä¸­çš„èµ·å§‹å’Œç»“æŸä½ç½®ï¼Œæ–¹ä¾¿å¿«é€Ÿéå†ã€‚ä½œè€…è¿˜å·§å¦™åœ°å¤„ç†äº†æ•°ç»„ä¸‹æ ‡ï¼ˆæ¯”å¦‚å°†xå’ŒyåŠ 1ï¼Œé¿å…è´Ÿæ•°ï¼‰ï¼Œå‡å°‘äº†è¾¹ç•Œé”™è¯¯ã€‚è™½ç„¶å˜é‡åç•¥ç®€æ´ï¼ˆæ¯”å¦‚`p`è¡¨ç¤ºå½“å‰å¤„ç†çš„çŸ³å¤´ç´¢å¼•ï¼‰ï¼Œä½†æ€è·¯è¿è´¯ï¼Œé€‚åˆå­¦ä¹ â€œå¦‚ä½•å°†æŠ½è±¡çš„æ®µè½¬åŒ–ä¸ºä»£ç ç»“æ„â€ã€‚


### **é¢˜è§£ä¸‰ï¼šRosabelï¼ˆAtCoderé¢˜è§£ï¼‰**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„â€œæš´åŠ›ä¼˜åŒ–â€æ€è·¯å¾ˆæœ‰å¯å‘æ€§â€”â€”ä½œè€…å…ˆæŒ‡å‡ºæš´åŠ›å¹¶æŸ¥é›†ï¼ˆæ¯ä¸ªç‚¹éƒ½å¤„ç†ï¼‰ä¼šè¶…æ—¶ï¼Œç„¶åæå‡ºâ€œç¼©ç‚¹â€çš„ä¼˜åŒ–æ–¹æ³•ï¼ˆå°†è¿ç»­æ®µåˆå¹¶æˆèŠ‚ç‚¹ï¼‰ã€‚ä½œè€…å¼ºè°ƒâ€œåŒè¡Œçš„è¿ç»­æ®µåªéœ€åˆå¹¶ä¸€æ¬¡â€ï¼Œâ€œç›¸é‚»è¡Œçš„æ®µç”¨åŒæŒ‡é’ˆè¿æ¥â€ï¼Œè¿™äº›éƒ½æ˜¯è§£å†³å¤§ç½‘æ ¼é—®é¢˜çš„å…³é”®æŠ€å·§ã€‚ä»£ç ä¸­çš„`b`æ•°ç»„å­˜å‚¨äº†æ‰€æœ‰æ®µçš„ä¿¡æ¯ï¼Œ`find`å‡½æ•°ç”¨äº†è·¯å¾„å‹ç¼©ï¼Œ`merge`å‡½æ•°ç”¨äº†æŒ‰ç§©åˆå¹¶ï¼Œç¡®ä¿äº†å¹¶æŸ¥é›†çš„æ•ˆç‡ã€‚è™½ç„¶ä»£ç æ²¡æœ‰è¯¦ç»†æ³¨é‡Šï¼Œä½†æ€è·¯æ¡†æ¶æ¸…æ™°ï¼Œé€‚åˆè¿›é˜¶å­¦ä¹ è€…ç†è§£â€œä¼˜åŒ–çš„åº•å±‚é€»è¾‘â€ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹3ä¸ªæ ¸å¿ƒéš¾ç‚¹ï¼Œç»“åˆä¼˜è´¨é¢˜è§£çš„ç»éªŒï¼Œæˆ‘ä¸ºä½ æ€»ç»“äº†åº”å¯¹ç­–ç•¥ï¼š


### **1. å¦‚ä½•æ­£ç¡®åˆ’åˆ†æ¯ä¸€è¡Œçš„è¿ç»­æ®µï¼Ÿ**  
**éš¾ç‚¹**ï¼šå¦‚æœçŸ³å¤´çš„ä½ç½®æ²¡æœ‰æ’åºï¼Œæˆ–è€…åˆ†å‰²æ—¶æ¼æ‰äº†è¾¹ç¼˜æƒ…å†µï¼ˆæ¯”å¦‚è¡Œçš„æœ€å·¦è¾¹æˆ–æœ€å³è¾¹æ²¡æœ‰çŸ³å¤´ï¼‰ï¼Œä¼šå¯¼è‡´æ®µåˆ’åˆ†é”™è¯¯ã€‚  
**ç­–ç•¥**ï¼š  
- å¯¹æ¯ä¸€è¡Œçš„çŸ³å¤´æŒ‰xåæ ‡æ’åºï¼ˆæ¯”å¦‚DrAlfredçš„é¢˜è§£ä¸­ï¼Œå¯¹`mp[x]`ä¸­çš„`ys`æ’åºï¼‰ã€‚  
- åˆ†å‰²æ®µæ—¶ï¼Œè¦åŒ…å«â€œæœ€å·¦è¾¹â€ï¼ˆæ¯”å¦‚`-inf`åˆ°ç¬¬ä¸€ä¸ªçŸ³å¤´çš„å·¦è¾¹ï¼‰å’Œâ€œæœ€å³è¾¹â€ï¼ˆæ¯”å¦‚æœ€åä¸€ä¸ªçŸ³å¤´çš„å³è¾¹åˆ°`inf`ï¼‰çš„æƒ…å†µï¼ˆæ¯”å¦‚DrAlfredçš„é¢˜è§£ä¸­ï¼Œ`segs.push_back({x, -inf, ys[0]-1})`å’Œ`segs.push_back({x, ys.back()+1, inf})`ï¼‰ã€‚  
- å¤„ç†ç©ºè¡Œï¼ˆæ²¡æœ‰çŸ³å¤´çš„è¡Œï¼‰æ—¶ï¼Œç›´æ¥ç”Ÿæˆä¸€ä¸ªè¦†ç›–æ•´ä¸ªè¡Œçš„æ®µï¼ˆæ¯”å¦‚`segs.push_back({x, -inf, inf})`ï¼‰ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºæ˜¯åˆ’åˆ†è¿ç»­æ®µçš„å‰æï¼Œè¾¹ç¼˜æƒ…å†µè¦è€ƒè™‘å…¨é¢ï¼


### **2. å¦‚ä½•é«˜æ•ˆè¿æ¥ç›¸é‚»è¡Œçš„æ®µï¼Ÿ**  
**éš¾ç‚¹**ï¼šå¦‚æœé€ä¸€éå†ä¸Šä¸‹è¡Œçš„æ‰€æœ‰æ®µï¼Œæ—¶é—´å¤æ‚åº¦ä¼šå¾ˆé«˜ï¼ˆO(nÂ²)ï¼‰ï¼Œæ— æ³•é€šè¿‡å¤§æ•°æ®ã€‚  
**ç­–ç•¥**ï¼š  
- ç”¨**åŒæŒ‡é’ˆæ³•**ï¼šå¯¹äºè¡Œxçš„æ®µ[i]ï¼Œè¡Œx+1çš„æ®µ[j]ï¼Œå› ä¸ºæ®µçš„xèŒƒå›´æ˜¯æ’åºçš„ï¼Œæ‰€ä»¥jåªä¼šå•è°ƒé€’å¢ï¼ˆæ¯”å¦‚DrAlfredçš„é¢˜è§£ä¸­ï¼Œ`while (j < siz && segs[j][0] < segs[i][0]+1 || segs[j][2] < segs[i][1]) j++;`ï¼‰ã€‚è¿™æ ·ï¼Œæ¯ä¸ªæ®µåªä¼šè¢«éå†ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŒæŒ‡é’ˆæ˜¯å¤„ç†â€œæœ‰åºåŒºé—´é‡å â€é—®é¢˜çš„ç¥å™¨ï¼


### **3. å¦‚ä½•åˆ¤æ–­æ®µæ˜¯å¦èƒ½åˆ°è¾¾ç½‘æ ¼è¾¹ç¼˜ï¼Ÿ**  
**éš¾ç‚¹**ï¼šå¦‚æœæ®µçš„ä½ç½®ä¸åœ¨ç½‘æ ¼è¾¹ç¼˜ï¼Œä½†å¯ä»¥é€šè¿‡å…¶ä»–æ®µç»•è·¯åˆ°è¾¾è¾¹ç¼˜ï¼Œå¦‚ä½•å¿«é€Ÿåˆ¤æ–­ï¼Ÿ  
**ç­–ç•¥**ï¼š  
- å»ºç«‹**è¶…çº§æºç‚¹0**ï¼šæ‰€æœ‰èƒ½åˆ°è¾¾è¾¹ç¼˜çš„æ®µï¼ˆæ¯”å¦‚æ®µçš„å·¦ç«¯ç‚¹æ˜¯`-inf`ã€å³ç«¯ç‚¹æ˜¯`inf`ï¼Œæˆ–ä½äºæœ€ä¸‹è¾¹çš„è¡Œï¼‰éƒ½ä¸æºç‚¹0åˆå¹¶ï¼ˆæ¯”å¦‚DrAlfredçš„é¢˜è§£ä¸­ï¼Œ`if (ya == -inf || yb == inf) D.merge(0, i);`ï¼‰ã€‚æœ€åï¼Œæ‰€æœ‰ä¸æºç‚¹0è¿é€šçš„æ®µéƒ½æ˜¯å®‰å…¨çš„ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¶…çº§æºç‚¹æ˜¯å¤„ç†â€œå¤šæºè¿é€šæ€§â€é—®é¢˜çš„å¸¸ç”¨æŠ€å·§ï¼


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **ç¼©ç‚¹æŠ€å·§**ï¼šå°†è¿ç»­çš„ééšœç¢ç‚¹åˆå¹¶æˆæ®µï¼Œå‡å°‘è®¡ç®—é‡ï¼ˆä»O(1e10)çš„ç‚¹åˆ°O(n)çš„æ®µï¼‰ã€‚  
- **å¹¶æŸ¥é›†åº”ç”¨**ï¼šç”¨å¹¶æŸ¥é›†ç»´æŠ¤æ®µçš„è¿é€šæ€§ï¼Œå¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªæ®µæ˜¯å¦ç›¸è¿ã€‚  
- **åŒæŒ‡é’ˆä¼˜åŒ–**ï¼šå¤„ç†ç›¸é‚»è¡Œçš„æ®µæ—¶ï¼Œç”¨åŒæŒ‡é’ˆæ³•é«˜æ•ˆæ‰¾åˆ°é‡å çš„æ®µï¼Œé™ä½æ—¶é—´å¤æ‚åº¦ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†DrAlfredå’Œlingziyi2025çš„é¢˜è§£æ€è·¯ï¼Œä¿ç•™äº†æ¸…æ™°çš„æ®µå¤„ç†å’ŒåŒæŒ‡é’ˆé€»è¾‘ï¼Œé€‚åˆä½œä¸ºå…¥é—¨æ¨¡æ¿ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
```cpp
#include <iostream>
#include <vector>
#include <map>
#include <algorithm>
#include <numeric>
using namespace std;
using i64 = long long;

struct DSU {
    vector<int> fa, siz;
    DSU(int n) : fa(n + 1), siz(n + 1, 1) {
        iota(fa.begin(), fa.end(), 0); // åˆå§‹åŒ–fa[i]=i
    }
    int find(int x) {
        return fa[x] == x ? x : fa[x] = find(fa[x]); // è·¯å¾„å‹ç¼©
    }
    bool merge(int x, int y) {
        int fx = find(x), fy = find(y);
        if (fx == fy) return false;
        if (siz[fx] < siz[fy]) swap(fx, fy);
        fa[fy] = fx;
        siz[fx] += siz[fy];
        return true;
    }
};

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    int n;
    cin >> n;
    map<int, vector<int>> mp; // å­˜å‚¨æ¯ä¸€è¡Œçš„çŸ³å¤´xåæ ‡
    for (int i = 0; i < n; ++i) {
        int x, y;
        cin >> x >> y;
        mp[x].push_back(y);
        mp[x - 1]; // é¢„ç•™ç©ºè¡Œï¼Œé¿å…é—æ¼
        mp[x + 1];
    }

    const int inf = 1e9;
    vector<vector<int>> segs; // æ®µåˆ—è¡¨ï¼šæ¯ä¸ªæ®µæ˜¯[x, ya, yb]
    for (auto& [x, ys] : mp) {
        if (ys.empty()) {
            segs.push_back({x, -inf, inf});
        } else {
            sort(ys.begin(), ys.end());
            segs.push_back({x, -inf, ys[0] - 1});
            for (int i = 0; i < (int)ys.size() - 1; ++i) {
                if (ys[i + 1] - ys[i] > 1) {
                    segs.push_back({x, ys[i] + 1, ys[i + 1] - 1});
                }
            }
            segs.push_back({x, ys.back() + 1, inf});
        }
    }

    DSU dsu(segs.size());
    int siz = segs.size();
    // è¿æ¥å®‰å…¨æ®µï¼ˆä¸è¶…çº§æºç‚¹0åˆå¹¶ï¼‰
    for (int i = 0; i < siz; ++i) {
        int x = segs[i][0], ya = segs[i][1], yb = segs[i][2];
        if (ya == -inf || yb == inf) {
            dsu.merge(0, i + 1); // æ®µç¼–å·ä»1å¼€å§‹ï¼Œ0æ˜¯è¶…çº§æºç‚¹
        }
    }

    // åŒæŒ‡é’ˆè¿æ¥ç›¸é‚»è¡Œçš„æ®µ
    for (int i = 0, j = 0; i < siz; ++i) {
        int x = segs[i][0], ya = segs[i][1], yb = segs[i][2];
        // æ‰¾è¡Œx+1çš„æ®µj
        while (j < siz && (segs[j][0] < x + 1 || segs[j][2] < ya)) {
            j++;
        }
        while (j < siz && segs[j][0] == x + 1 && segs[j][1] <= yb) {
            dsu.merge(i + 1, j + 1);
            j++;
        }
        j--; // å›é€€ï¼Œé¿å…é—æ¼
    }

    i64 ans = 0;
    for (int i = 0; i < siz; ++i) {
        int len = segs[i][2] - segs[i][1] + 1;
        if (dsu.find(i + 1) != dsu.find(0)) {
            ans += len;
        }
    }
    cout << ans << endl;

    return 0;
}
```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šç”¨`map`å­˜å‚¨æ¯ä¸€è¡Œçš„çŸ³å¤´xåæ ‡ï¼Œé¢„ç•™ç©ºè¡Œé¿å…é—æ¼ã€‚  
  2. **ç”Ÿæˆæ®µ**ï¼šå¯¹æ¯ä¸€è¡Œçš„çŸ³å¤´æ’åºï¼Œåˆ†å‰²å‡ºè¿ç»­çš„ééšœç¢æ®µï¼ˆåŒ…å«è¾¹ç¼˜æƒ…å†µï¼‰ã€‚  
  3. **å¹¶æŸ¥é›†åˆå§‹åŒ–**ï¼šæ¯ä¸ªæ®µå¯¹åº”ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¶…çº§æºç‚¹0ä»£è¡¨å®‰å…¨ã€‚  
  4. **è¿æ¥å®‰å…¨æ®µ**ï¼šå°†è¾¹ç¼˜æ®µä¸æºç‚¹0åˆå¹¶ã€‚  
  5. **åŒæŒ‡é’ˆè¿è¾¹**ï¼šè¿æ¥ä¸Šä¸‹è¡Œçš„é‡å æ®µã€‚  
  6. **è®¡ç®—ç­”æ¡ˆ**ï¼šç»Ÿè®¡æœªè¿åˆ°æºç‚¹0çš„æ®µçš„é•¿åº¦ä¹‹å’Œã€‚  


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### **é¢˜è§£ä¸€ï¼šDrAlfredçš„æ®µå¤„ç†ç‰‡æ®µ**  
* **äº®ç‚¹**ï¼šæ­£ç¡®å¤„ç†äº†ç©ºè¡Œå’Œè¾¹ç¼˜æ®µï¼Œç¡®ä¿æ‰€æœ‰ééšœç¢ç‚¹éƒ½è¢«åŒ…å«ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
for (auto &[x, ys] : mp) {
    if (ys.empty()) {
        segs.push_back({x, -inf, inf});
    } else {
        sort(ys.begin(), ys.end());
        segs.push_back({x, -inf, ys[0] - 1});
        for (int i = 0; i < sz - 1; i++) {
            if (ys[i+1] - ys[i] > 1) {
                segs.push_back({x, ys[i]+1, ys[i+1]-1});
            }
        }
        segs.push_back({x, ys.back()+1, inf});
    }
}
```  
* **ä»£ç è§£è¯»**ï¼š  
  - å¯¹äºç©ºè¡Œï¼ˆ`ys.empty()`ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªè¦†ç›–æ•´ä¸ªè¡Œçš„æ®µï¼ˆ`-inf`åˆ°`inf`ï¼‰ã€‚  
  - å¯¹äºæœ‰çŸ³å¤´çš„è¡Œï¼Œå…ˆæ’åºçŸ³å¤´çš„xåæ ‡ï¼Œç„¶ååˆ†å‰²å‡ºâ€œæœ€å·¦è¾¹â€ï¼ˆ`-inf`åˆ°ç¬¬ä¸€ä¸ªçŸ³å¤´å·¦è¾¹ï¼‰ã€â€œä¸­é—´â€ï¼ˆä¸¤ä¸ªçŸ³å¤´ä¹‹é—´çš„ç©ºéš™ï¼‰ã€â€œæœ€å³è¾¹â€ï¼ˆæœ€åä¸€ä¸ªçŸ³å¤´å³è¾¹åˆ°`inf`ï¼‰çš„æ®µã€‚  
  - æ¯”å¦‚è¡Œx=3æœ‰çŸ³å¤´åœ¨y=1å’Œy=4ï¼Œé‚£ä¹ˆæ®µæ˜¯[3, -inf, 0]ã€[3, 2, 3]ã€[3, 5, inf]ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹ç¼˜æ®µçš„å¤„ç†æ˜¯å…³é”®ï¼Œå¦åˆ™ä¼šæ¼æ‰èƒ½èµ°åˆ°å¤–é¢çš„ç‚¹ï¼


#### **é¢˜è§£äºŒï¼šlingziyi2025çš„åŒæŒ‡é’ˆè¿è¾¹ç‰‡æ®µ**  
* **äº®ç‚¹**ï¼šç”¨åŒæŒ‡é’ˆæ³•é«˜æ•ˆè¿æ¥ä¸Šä¸‹è¡Œçš„æ®µï¼Œæ—¶é—´å¤æ‚åº¦O(n)ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
for (int y = 0; y < mx; ++y) {
    int p = l[y+1];
    for (int i = l[y]; i <= r[y]; ++i) {
        while (p <= r[y+1] && b[p].r < b[i].l) p++;
        while (p <= r[y+1] && b[i].l <= b[p].r && b[p].r <= b[i].r) {
            f[find(i)] = find(p);
            p++;
        }
        while (p <= r[y+1] && b[p].l <= b[i].r && b[i].r <= b[p].r) {
            f[find(i)] = find(p);
            p++;
        }
        p--;
    }
}
```  
* **ä»£ç è§£è¯»**ï¼š  
  - `l[y]`å’Œ`r[y]`è®°å½•äº†è¡Œyçš„æ®µåœ¨æ•°ç»„`b`ä¸­çš„èµ·å§‹å’Œç»“æŸä½ç½®ã€‚  
  - å¯¹äºè¡Œyçš„æ®µ`i`ï¼Œç”¨æŒ‡é’ˆ`p`éå†è¡Œy+1çš„æ®µï¼Œæ‰¾åˆ°ä¸`i`é‡å çš„æ®µï¼ˆ`b[p].r >= b[i].l`ä¸”`b[p].l <= b[i].r`ï¼‰ï¼Œç„¶ååˆå¹¶å®ƒä»¬çš„å¹¶æŸ¥é›†èŠ‚ç‚¹ã€‚  
  - æŒ‡é’ˆ`p`åªä¼šå•è°ƒé€’å¢ï¼Œé¿å…äº†é‡å¤éå†ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŒæŒ‡é’ˆçš„å…³é”®æ˜¯â€œæœ‰åºâ€â€”â€”æ®µçš„xèŒƒå›´å¿…é¡»æ’åºï¼Œè¿™æ ·æŒ‡é’ˆæ‰ä¸ä¼šå›é€€ï¼


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### ğŸ® åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Šåƒç´ æ¢é™©å®¶çš„é€ƒè„±æ¸¸æˆã€‹  
æˆ‘ä»¬ç”¨**8ä½åƒç´ é£æ ¼**ï¼ˆç±»ä¼¼FCçº¢ç™½æœºæ¸¸æˆï¼‰åˆ¶ä½œåŠ¨ç”»ï¼Œå±•ç¤ºâ€œæ®µçš„ç”Ÿæˆâ€â€œæ®µçš„åˆå¹¶â€â€œå®‰å…¨æ®µæ ‡è®°â€çš„è¿‡ç¨‹ã€‚ä½ å°†æ‰®æ¼”ä¸€ä¸ªâ€œåƒç´ æ¢é™©å®¶â€ï¼Œåœ¨ç½‘æ ¼ä¸­å¯»æ‰¾èƒ½é€ƒè„±çš„æ®µï¼Œè¢«å›°çš„æ®µä¼šå˜æˆâ€œçº¢è‰²â€ï¼Œå®‰å…¨çš„æ®µä¼šå˜æˆâ€œç»¿è‰²â€ã€‚


### ğŸ“ æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¯**ç½‘æ ¼è§†å›¾**ï¼ˆç”¨8x8åƒç´ å—è¡¨ç¤ºè¡Œå’Œåˆ—ï¼‰ï¼Œå³ä¾§æ˜¯**æ§åˆ¶é¢æ¿**ï¼ˆæœ‰â€œå¼€å§‹/æš‚åœâ€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œä»¥åŠé€Ÿåº¦æ»‘å—ï¼‰ã€‚  
   - èƒŒæ™¯éŸ³ä¹æ˜¯è½»å¿«çš„8ä½ç”µå­ä¹ï¼ˆç±»ä¼¼ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„èƒŒæ™¯éŸ³ä¹ï¼‰ã€‚  

2. **æ®µç”ŸæˆåŠ¨ç”»**ï¼š  
   - æ¯ä¸€è¡Œçš„çŸ³å¤´ç”¨**é»‘è‰²åƒç´ å—**è¡¨ç¤ºï¼Œééšœç¢æ®µç”¨**è“è‰²çŸ©å½¢**è¡¨ç¤ºï¼ˆæ¯”å¦‚è¡Œy=3çš„æ®µ[2,5]æ˜¯ä¸€ä¸ªè“è‰²çŸ©å½¢ï¼Œè¦†ç›–x=2åˆ°x=5çš„ä½ç½®ï¼‰ã€‚  
   - ç”Ÿæˆæ®µæ—¶ï¼Œä¼šæœ‰â€œå®â€çš„éŸ³æ•ˆï¼ˆç±»ä¼¼ã€Šä¿„ç½—æ–¯æ–¹å—ã€‹çš„æ–¹å—æ”¾ç½®éŸ³æ•ˆï¼‰ï¼Œæç¤ºâ€œè¿™ä¸ªæ®µç”Ÿæˆäº†ï¼â€ã€‚  

3. **æ®µåˆå¹¶åŠ¨ç”»**ï¼š  
   - ä¸Šä¸‹è¡Œçš„é‡å æ®µä¼šç”¨**æ·¡è“è‰²çŸ©å½¢**è¡¨ç¤ºï¼ˆæ¯”å¦‚è¡Œy=3çš„æ®µ[2,5]å’Œè¡Œy=4çš„æ®µ[3,6]åˆå¹¶åï¼Œå˜æˆæ·¡è“è‰²ï¼‰ã€‚  
   - åˆå¹¶æ—¶ï¼Œä¼šæœ‰â€œå’»â€çš„éŸ³æ•ˆï¼ˆç±»ä¼¼ã€Šé­‚æ–—ç½—ã€‹çš„è·³è·ƒéŸ³æ•ˆï¼‰ï¼Œæç¤ºâ€œè¿™ä¸¤ä¸ªæ®µè¿èµ·æ¥äº†ï¼â€ã€‚  

4. **å®‰å…¨æ®µæ ‡è®°**ï¼š  
   - èƒ½è¿åˆ°è¾¹ç¼˜çš„æ®µä¼šæœ‰**é»„è‰²æ˜Ÿæ˜Ÿ**é—ªçƒï¼ˆæ¯”å¦‚æ®µ[0,0]æœ‰ä¸€ä¸ªé»„è‰²æ˜Ÿæ˜Ÿï¼‰ï¼Œæç¤ºâ€œè¿™ä¸ªæ®µèƒ½é€ƒè„±ï¼â€ã€‚  
   - è¢«å›°çš„æ®µä¼šå˜æˆ**çº¢è‰²çŸ©å½¢**ï¼ˆæ¯”å¦‚æ®µ[2,5]æ²¡æœ‰æ˜Ÿæ˜Ÿï¼Œå˜æˆçº¢è‰²ï¼‰ï¼Œæç¤ºâ€œè¿™ä¸ªæ®µè¢«å›°ä½äº†ï¼â€ã€‚  

5. **äº¤äº’è®¾è®¡**ï¼š  
   - **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼ŒåŠ¨ç”»ä¼šä¸€æ­¥æ­¥å±•ç¤ºâ€œç”Ÿæˆè¡Œyçš„æ®µâ†’åˆå¹¶è¡Œyå’Œy+1çš„æ®µâ†’æ ‡è®°å®‰å…¨æ®µâ€çš„è¿‡ç¨‹ã€‚  
   - **è‡ªåŠ¨æ’­æ”¾**ï¼šæ‹–åŠ¨é€Ÿåº¦æ»‘å—ï¼Œå¯ä»¥è°ƒæ•´åŠ¨ç”»æ’­æ”¾é€Ÿåº¦ï¼ˆæ¯”å¦‚â€œæ…¢â€=1ç§’/æ­¥ï¼Œâ€œå¿«â€=0.1ç§’/æ­¥ï¼‰ã€‚  
   - **é‡ç½®åŠ¨ç”»**ï¼šç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼ŒåŠ¨ç”»ä¼šå›åˆ°åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹ã€‚  


### ğŸ¨ è®¾è®¡æ€è·¯  
- **åƒç´ é£æ ¼**ï¼š8ä½åƒç´ é£æ ¼èƒ½å”¤èµ·ä½ å¯¹ç»å…¸æ¸¸æˆçš„å›å¿†ï¼Œè®©å­¦ä¹ æ›´æœ‰è¶£ã€‚  
- **éŸ³æ•ˆæç¤º**ï¼šä¸åŒçš„éŸ³æ•ˆèƒ½å¼ºåŒ–ä½ çš„è®°å¿†ï¼ˆæ¯”å¦‚â€œå®â€å¯¹åº”æ®µç”Ÿæˆï¼Œâ€œå’»â€å¯¹åº”æ®µåˆå¹¶ï¼‰ã€‚  
- **é¢œè‰²æ ‡è®°**ï¼šè“è‰²ï¼ˆæœªåˆå¹¶ï¼‰ã€æ·¡è“è‰²ï¼ˆå·²åˆå¹¶ï¼‰ã€çº¢è‰²ï¼ˆè¢«å›°ï¼‰ã€é»„è‰²ï¼ˆå®‰å…¨ï¼‰çš„é¢œè‰²åŒºåˆ†ï¼Œè®©ä½ ç›´è§‚çœ‹åˆ°æ®µçš„çŠ¶æ€ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ğŸ” é€šç”¨æ€è·¯è¿ç§»  
æœ¬é¢˜çš„â€œç¼©ç‚¹+å¹¶æŸ¥é›†+åŒæŒ‡é’ˆâ€æ€è·¯å¯ä»¥è§£å†³å¾ˆå¤š**å¤§ç½‘æ ¼è¿é€šæ€§é—®é¢˜**ï¼Œæ¯”å¦‚ï¼š  
- **è¿·å®«é—®é¢˜**ï¼šæ‰¾å‡ºè¿·å®«ä¸­æ— æ³•åˆ°è¾¾å‡ºå£çš„åŒºåŸŸã€‚  
- **æ´ªæ°´å¡«å……é—®é¢˜**ï¼šè®¡ç®—è¢«æ°´æ·¹æ²¡çš„åŒºåŸŸå¤§å°ï¼ˆæ°´ä»è¾¹ç¼˜æµå…¥ï¼‰ã€‚  
- **ç”µè·¯è¿é€šé—®é¢˜**ï¼šåˆ¤æ–­ç”µè·¯ä¸­å“ªäº›å…ƒä»¶æ²¡æœ‰è¿åˆ°ç”µæºã€‚  


### ğŸ“š æ´›è°·ç»ƒä¹ æ¨è  
1. **æ´›è°· P1197 [JSOI2008] æ˜Ÿçƒå¤§æˆ˜**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦å¤„ç†â€œåŠ¨æ€åˆ é™¤è¾¹â€çš„è¿é€šæ€§é—®é¢˜ï¼Œç”¨â€œå¹¶æŸ¥é›†+ç¦»çº¿å¤„ç†â€çš„æ€è·¯ï¼Œä¸æœ¬é¢˜çš„â€œç¼©ç‚¹+å¹¶æŸ¥é›†â€æ€è·¯ç±»ä¼¼ï¼Œèƒ½å·©å›ºä½ çš„è¿é€šæ€§åˆ†æèƒ½åŠ›ã€‚  

2. **æ´›è°· P2341 [HAOI2006] å—æ¬¢è¿çš„ç‰›**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦æ‰¾å‡ºå¼ºè¿é€šåˆ†é‡ï¼ˆSCCï¼‰ï¼Œç”¨â€œTarjanç®—æ³•â€æˆ–â€œKosarajuç®—æ³•â€ï¼Œä¸æœ¬é¢˜çš„â€œç¼©ç‚¹â€æ€è·¯å¼‚æ›²åŒå·¥ï¼Œèƒ½å¸®åŠ©ä½ ç†è§£â€œå¦‚ä½•å°†å¤æ‚ç»“æ„ç®€åŒ–ä¸ºèŠ‚ç‚¹â€ã€‚  

3. **æ´›è°· P3367 ã€æ¨¡æ¿ã€‘å¹¶æŸ¥é›†**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™æ˜¯å¹¶æŸ¥é›†çš„åŸºç¡€æ¨¡æ¿é¢˜ï¼Œèƒ½å¸®åŠ©ä½ å·©å›ºâ€œè·¯å¾„å‹ç¼©â€å’Œâ€œæŒ‰ç§©åˆå¹¶â€çš„æŠ€å·§ï¼Œè¿™ä¸¤ä¸ªæŠ€å·§æ˜¯æœ¬é¢˜å¹¶æŸ¥é›†é«˜æ•ˆè¿è¡Œçš„å…³é”®ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### ğŸ“ æ¥è‡ªé¢˜è§£ä½œè€…çš„ç»éªŒ  
- **DrAlfred**ï¼šâ€œå¤„ç†ä¸´æ¥æ®µæ—¶ï¼ŒåŒæŒ‡é’ˆæ³•æ˜¯å…³é”®ã€‚æˆ‘ä¸€å¼€å§‹å°è¯•é€ä¸€éå†ï¼Œç»“æœè¶…æ—¶äº†ï¼Œåæ¥æƒ³åˆ°æ®µçš„xèŒƒå›´æ˜¯æ’åºçš„ï¼Œäºæ˜¯ç”¨åŒæŒ‡é’ˆæ³•å°†æ—¶é—´å¤æ‚åº¦ä»O(nÂ²)é™åˆ°äº†O(n)ã€‚â€  
  - **ç‚¹è¯„**ï¼šè¿™ä¸ªç»éªŒå¾ˆé‡è¦ï¼åœ¨å¤„ç†â€œæœ‰åºåŒºé—´â€é—®é¢˜æ—¶ï¼ŒåŒæŒ‡é’ˆæ³•èƒ½å¤§å¤§æé«˜æ•ˆç‡ï¼Œé¿å…è¶…æ—¶ã€‚  

- **lingziyi2025**ï¼šâ€œç¼©ç‚¹æ˜¯è§£å†³å¤§ç½‘æ ¼é—®é¢˜çš„å¸¸ç”¨æŠ€å·§ã€‚å¦‚æœç›´æ¥å¤„ç†æ¯ä¸ªç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šå¾ˆé«˜ï¼Œè€Œç¼©ç‚¹åï¼Œæ®µçš„æ•°é‡æ˜¯O(n)çš„ï¼Œèƒ½è½»æ¾é€šè¿‡å¤§æ•°æ®ã€‚â€  
  - **ç‚¹è¯„**ï¼šç¼©ç‚¹çš„æ ¸å¿ƒæ˜¯â€œåˆå¹¶é‡å¤ä¿¡æ¯â€ï¼Œæ¯”å¦‚è¿ç»­çš„ééšœç¢ç‚¹å…·æœ‰ç›¸åŒçš„è¿é€šæ€§ï¼Œæ‰€ä»¥å¯ä»¥åˆå¹¶æˆä¸€ä¸ªæ®µã€‚è¿™ä¸ªæŠ€å·§èƒ½å¸®ä½ è§£å†³å¾ˆå¤šâ€œå¤§è§„æ¨¡æ•°æ®â€çš„é—®é¢˜ã€‚  


## ğŸ‰ æ€»ç»“  
æœ¬æ¬¡åˆ†æçš„â€œABC361G Go Territoryâ€é—®é¢˜ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯**â€œç¼©ç‚¹+å¹¶æŸ¥é›†+åŒæŒ‡é’ˆâ€**ã€‚é€šè¿‡å°†è¿ç»­çš„ééšœç¢ç‚¹åˆå¹¶æˆæ®µï¼Œç”¨å¹¶æŸ¥é›†ç»´æŠ¤æ®µçš„è¿é€šæ€§ï¼Œç”¨åŒæŒ‡é’ˆæ³•é«˜æ•ˆè¿æ¥ç›¸é‚»æ®µï¼Œæˆ‘ä»¬èƒ½å¿«é€Ÿæ‰¾å‡ºè¢«å›°çš„ç‚¹ã€‚  

è®°ä½ï¼š**ç¼–ç¨‹çš„æœ¬è´¨æ˜¯â€œé—®é¢˜ç®€åŒ–â€**â€”â€”æŠŠå¤æ‚çš„é—®é¢˜ï¼ˆæ¯”å¦‚1e10ä¸ªç‚¹ï¼‰ç®€åŒ–æˆç®€å•çš„é—®é¢˜ï¼ˆæ¯”å¦‚1e5ä¸ªæ®µï¼‰ï¼Œç„¶åç”¨åˆé€‚çš„ç®—æ³•ï¼ˆæ¯”å¦‚å¹¶æŸ¥é›†ï¼‰è§£å†³ã€‚  

ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼çš„å¤§ç½‘æ ¼é—®é¢˜ï¼Œä¸å¦¨è¯•è¯•â€œç¼©ç‚¹â€æŠ€å·§ï¼Œç›¸ä¿¡ä½ ä¼šæœ‰æ–°çš„æ”¶è·ï¼ğŸ’ª  

å¦‚æœæœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿éšæ—¶å‘æˆ‘æé—®ï¼Œæˆ‘ä¼šå¸®ä½ è§£ç­”ï¼ğŸ˜Š

---
å¤„ç†ç”¨æ—¶ï¼š275.26ç§’
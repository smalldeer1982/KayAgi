# é¢˜ç›®ä¿¡æ¯

# [ABC374G] Only One Product Name

## é¢˜ç›®æè¿°

Keyence çš„æ‰€æœ‰å•†å“åå‡ç”±**ä¸¤ä¸ªå¤§å†™è‹±æ–‡å­—æ¯**ç»„æˆã€‚  
ç°å·²ä½¿ç”¨äº† $N$ ä¸ªå•†å“åï¼Œç¬¬ $i$ ä¸ªå•†å“åï¼ˆ$1\leq i\leq N$ï¼‰ä¸º $S_i$ã€‚  
ç”±äºå·²ä½¿ç”¨è¿‡çš„å•†å“åä¸èƒ½å†æ¬¡ä½¿ç”¨ï¼Œä¸ºäº†èƒ½å¿«é€ŸæŸ¥æ‰¾è¿‡å»ç”¨è¿‡çš„å•†å“åï¼Œå†³å®šåˆ¶ä½œä¸€ä¸ª NG åˆ—è¡¨ã€‚

NG åˆ—è¡¨éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

- ç”±ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ç»„æˆï¼Œæ¯ä¸ªå­—ç¬¦ä¸²ä»…åŒ…å«å¤§å†™è‹±æ–‡å­—æ¯ã€‚
- å¯¹äºæ¯ä¸€ä¸ªå·²ç»ä½¿ç”¨è¿‡çš„å•†å“åï¼Œè‡³å°‘å­˜åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²å°†å…¶ä½œä¸ºï¼ˆè¿ç»­çš„ï¼‰å­ä¸²åŒ…å«ã€‚
- åˆ—è¡¨ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²éƒ½ä¸åŒ…å«ä»»ä½•ä¸æ˜¯å·²ä½¿ç”¨å•†å“åçš„é•¿åº¦ä¸º $2$ çš„å­—ç¬¦ä¸²ä½œä¸ºï¼ˆè¿ç»­çš„ï¼‰å­ä¸²ã€‚

è¯·ä½ æ±‚å‡º NG åˆ—è¡¨ä¸­å­—ç¬¦ä¸²æ•°é‡å¯èƒ½çš„æœ€å°å€¼ã€‚

## è¯´æ˜/æç¤º

## é™åˆ¶æ¡ä»¶

- $1\leq N\leq 26^2$
- $N$ ä¸ºæ•´æ•°ã€‚
- $S_i$ ä¸ºä»…åŒ…å«å¤§å†™è‹±æ–‡å­—æ¯çš„é•¿åº¦ä¸º $2$ çš„å­—ç¬¦ä¸²ã€‚
- $S_1,S_2,\ldots,S_N$ å‡äº’ä¸ç›¸åŒã€‚

## æ ·ä¾‹è§£é‡Š 1

æ»¡è¶³æ¡ä»¶çš„ NG åˆ—è¡¨ä¾‹å¦‚å¯ä»¥ç”±ä»¥ä¸‹ $3$ ä¸ªå­—ç¬¦ä¸²ç»„æˆï¼š
- `CABCDE`
- `DF`
- `XX`
è¿™æ˜¯ç”± $3$ ä¸ªå­—ç¬¦ä¸²ç»„æˆçš„ï¼Œä¸”ä¸å­˜åœ¨ç”± $2$ ä¸ªæˆ–æ›´å°‘å­—ç¬¦ä¸²ç»„æˆä¸”æ»¡è¶³æ¡ä»¶çš„ NG åˆ—è¡¨ï¼Œå› æ­¤è¾“å‡º $3$ã€‚

## æ ·ä¾‹è§£é‡Š 2

æ»¡è¶³æ¡ä»¶çš„ NG åˆ—è¡¨ä¾‹å¦‚å¯ä»¥ç”±ä»¥ä¸‹ $2$ ä¸ªå­—ç¬¦ä¸²ç»„æˆï¼š
- `ACDE`
- `BCDF`
æ³¨æ„ï¼Œå·²ä½¿ç”¨è¿‡çš„å•†å“åå¯ä»¥åœ¨ NG åˆ—è¡¨ä¸­çš„å¤šä¸ªå­—ç¬¦ä¸²ä¸­å‡ºç°ï¼Œä¹Ÿå¯ä»¥åœ¨åŒä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å‡ºç°å¤šæ¬¡ã€‚

## æ ·ä¾‹è§£é‡Š 3

ä¾‹å¦‚ï¼Œä»…ç”± `ABACBADB` ç»„æˆçš„ NG åˆ—è¡¨å°±æ»¡è¶³æ¡ä»¶ã€‚

ç”± ChatGPT 4.1 ç¿»è¯‘

## æ ·ä¾‹ #1

### è¾“å…¥

```
7

AB

BC

CA

CD

DE

DF

XX```

### è¾“å‡º

```
3```

## æ ·ä¾‹ #2

### è¾“å…¥

```
5

AC

BC

CD

DE

DF```

### è¾“å‡º

```
2```

## æ ·ä¾‹ #3

### è¾“å…¥

```
6

AB

AC

CB

AD

DB

BA```

### è¾“å‡º

```
1```

# AIåˆ†æç»“æœ


# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šABC374G - Only One Product Name æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå›¾è®ºï¼ˆæœ€å°è·¯å¾„è¦†ç›–é—®é¢˜ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³è¿™é“é¢˜å°±åƒè§„åˆ’ç«è½¦ç«™è·¯çº¿ï¼šæ¯ä¸ªå•†å“åæ˜¯ä¸€ä¸ªè½¦ç«™ï¼Œè¿æ¥è§„åˆ™æ˜¯å‰è½¦ç«™å‡ºå£å­—æ¯=åè½¦ç«™å…¥å£å­—æ¯ã€‚ç›®æ ‡æ˜¯è®¾è®¡æœ€å°‘è·¯çº¿ï¼ˆNGåˆ—è¡¨å­—ç¬¦ä¸²ï¼‰ï¼Œè¦†ç›–æ‰€æœ‰è½¦ç«™ä¸”ä¸å¼•å…¥éæ³•è½¨é“ï¼ˆéæ³•äºŒå…ƒç»„ï¼‰ã€‚  
> æ ¸å¿ƒæ€è·¯ï¼š  
> - å°†å•†å“åè§†ä¸ºç‚¹ï¼Œå»ºç«‹æœ‰å‘å›¾ï¼ˆiâ†’jå½“s_iå°¾=s_jå¤´ï¼‰  
> - **å¼ºè¿é€šåˆ†é‡(SCC)ç¼©ç‚¹**å¤„ç†ç¯ï¼ˆç¯å†…è½¦ç«™å¯åˆå¹¶ï¼‰  
> - **ä¼ é€’é—­åŒ…**å¤„ç†è·¯å¾„ç›¸äº¤ï¼ˆè™šæ‹Ÿç›´è¾¾è½¨é“ï¼‰  
> - **äºŒåˆ†å›¾åŒ¹é…**æ±‚æœ€å°è·¯å¾„è¦†ç›–ï¼ˆè·¯å¾„æ•°=SCCæ•°-æœ€å¤§åŒ¹é…ï¼‰  
>  
> å¯è§†åŒ–è®¾è®¡ï¼š  
> - åƒç´ æ–¹å—è¡¨ç¤ºè½¦ç«™ï¼Œç¼©ç‚¹æ—¶æ–¹å—åˆå¹¶åŠ¨ç”»  
> - ä¼ é€’é—­åŒ…è¿‡ç¨‹æ˜¾ç¤ºè™šçº¿è½¨é“é€æ­¥ç‚¹äº®  
> - åŒ¹é…é˜¶æ®µç«è½¦è½¦å¢åœ¨äºŒåˆ†å›¾è½¨é“ç§»åŠ¨  
> - éŸ³æ•ˆï¼šè¿æ¥"å®"ï¼Œåˆå¹¶"è½°"ï¼ŒåŒ¹é…æˆåŠŸ"å˜Ÿ"ï¼Œèƒœåˆ©éŸ³æ•ˆ  

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼šAngraecum**  
* **äº®ç‚¹**ï¼š  
  æ€è·¯ç›´å‡»æœ¬è´¨ï¼ˆSCCç¼©ç‚¹+ä¼ é€’é—­åŒ…+åŒˆç‰™åˆ©ï¼‰ï¼Œä»£ç ç®€æ´ï¼ˆ<50è¡Œï¼‰ã€‚å˜é‡å‘½åè§„èŒƒï¼ˆ`col`è¡¨SCCï¼Œ`dis`å­˜ä¼ é€’é—­åŒ…ï¼‰ï¼Œå·§å¦™ç”¨æ—¶é—´æˆ³ä¼˜åŒ–åŒˆç‰™åˆ©ç®—æ³•ï¼ˆ`vi[u]=tag`é¿å…é‡å¤åˆå§‹åŒ–ï¼‰ï¼Œå®è·µæ€§å¼ºå¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£äºŒï¼šRegister_int**  
* **äº®ç‚¹**ï¼š  
  é‡‡ç”¨Dinicç½‘ç»œæµæ±‚è§£åŒ¹é…ï¼Œæ•ˆç‡æ›´é«˜ï¼ˆO(nÂ².âµ)ï¼‰ã€‚ä»£ç ç»“æ„å·¥æ•´ï¼Œä¸¥æ ¼åˆ†ç¦»ç¼©ç‚¹/é—­åŒ…/ç½‘ç»œæµæ¨¡å—ã€‚äº®ç‚¹åœ¨ç¼©ç‚¹æ—¶ç‰¹æ®Šå¤„ç†å­—æ¯èŠ‚ç‚¹ï¼ˆ`g[u].emplace_back(i+26)`ï¼‰ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆ`vis[]`æ•°ç»„æ¸…é›¶ï¼‰ã€‚

**é¢˜è§£ä¸‰ï¼šxiezheyuan**  
* **äº®ç‚¹**ï¼š  
  æè‡´ç®€æ´ä½¿ç”¨AtCoderåº“ï¼ˆ<30è¡Œï¼‰ï¼Œå±•ç°APIåŒ–å®ç°ä¼˜åŠ¿ã€‚å°†SCCç¼©ç‚¹ï¼ˆ`scc_graph`ï¼‰å’Œç½‘ç»œæµï¼ˆ`mf_graph`ï¼‰å°è£…è°ƒç”¨ï¼Œé€‚åˆç«èµ›å¿«é€Ÿç¼–ç ã€‚å…³é”®å˜é‡`tag`æ¸…æ™°è®°å½•ç¼©ç‚¹æ˜ å°„å…³ç³»ã€‚

**é¢˜è§£å››ï¼šshinzanmono**  
* **äº®ç‚¹**ï¼š  
  åŒˆç‰™åˆ©ç®—æ³•æ ‡å‡†å®ç°ï¼ˆæ•™ç§‘ä¹¦å¼DFSï¼‰ï¼Œä»£ç å¯è¯»æ€§æå¼ºã€‚æ ¸å¿ƒé€»è¾‘`dfs()`å‡½æ•°å®Œæ•´å‘ˆç°å¢å¹¿è·¯å¾„æŸ¥æ‰¾è¿‡ç¨‹ï¼Œ`pp[]`æ•°ç»„å‘½åç›´è§‚ï¼ˆ"pair"ç¼©å†™ï¼‰ï¼Œé€‚åˆåˆå­¦è€…ç†è§£åŒ¹é…æœºåˆ¶ã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1. **éš¾ç‚¹ï¼šå›¾å»ºæ¨¡çš„ä¸¤ç§è§†è§’é€‰æ‹©**  
   *åˆ†æ*ï¼šå•†å“åå¯è§†ä¸ºç‚¹ï¼ˆç›´æ¥å»ºå›¾ï¼‰æˆ–è¾¹ï¼ˆå­—æ¯ä½œé¡¶ç‚¹ï¼‰ã€‚ä¼˜è´¨é¢˜è§£ç»Ÿä¸€é€‰æ‹©ç‚¹è§†è§’ï¼šæ¯ä¸ªå•†å“åæ˜¯èŠ‚ç‚¹ï¼Œiâ†’jè¿è¾¹å½“s_i[1]==s_j[0]ã€‚è¿™æ ·æ›´ç¬¦é¢˜ç›®"è¦†ç›–æ‰€æœ‰å•†å“å"è¦æ±‚ã€‚  
   ğŸ’¡ *å­¦ä¹ ç¬”è®°*ï¼šç‚¹è§†è§’å»ºæ¨¡æ›´ç›´è§‚å¤„ç†"è¦†ç›–ç‚¹"é—®é¢˜ï¼Œè¾¹è§†è§’æ›´é€‚åˆ"è¦†ç›–è¾¹"é—®é¢˜ã€‚

2. **éš¾ç‚¹ï¼šç¯å¤„ç†ä¸è·¯å¾„ç›¸äº¤**  
   *åˆ†æ*ï¼šç¯å†…ç‚¹å¿…å¯å•è·¯å¾„è¦†ç›–ï¼ˆSCCç¼©ç‚¹ï¼‰ã€‚å¯ç›¸äº¤è·¯å¾„é€šè¿‡ä¼ é€’é—­åŒ…è½¬åŒ–ä¸ºä¸ç›¸äº¤é—®é¢˜ï¼šè‹¥åŸå›¾uå¯è¾¾vï¼Œåˆ™åœ¨é—­åŒ…å›¾ä¸­æ·»åŠ ç›´è¿è¾¹ï¼Œä½¿äº¤å‰è·¯å¾„è§£è€¦ã€‚  
   ğŸ’¡ *å­¦ä¹ ç¬”è®°*ï¼šFloydä¼ é€’é—­åŒ…æ˜¯å¤„ç†å¯ç›¸äº¤è¦†ç›–çš„å…³é”®è½¬åŒ–æŠ€å·§ã€‚

3. **éš¾ç‚¹ï¼šäºŒåˆ†å›¾å»ºæ¨¡æŠ½è±¡**  
   *åˆ†æ*ï¼šå°†æ¯ä¸ªSCCç‚¹æ‹†ä¸º"å‡ºå‘ç«™"(å·¦éƒ¨)å’Œ"åˆ°è¾¾ç«™"(å³éƒ¨)ã€‚é—­åŒ…è¾¹(u,v)å¯¹åº”å·¦uâ†’å³vçš„åŒ¹é…è¾¹ï¼ŒåŒ¹é…æˆåŠŸæ„å‘³ç€vç«™å¯ç”±uç«™å»¶ä¼¸è¦†ç›–ï¼Œå‡å°‘ç‹¬ç«‹è·¯å¾„æ•°ã€‚  
   ğŸ’¡ *å­¦ä¹ ç¬”è®°*ï¼šè·¯å¾„æ•°=SCCæ•°-åŒ¹é…æ•°çš„æœ¬è´¨æ˜¯"åŒ¹é…è¾¹ä»£è¡¨è·¯å¾„åˆå¹¶"ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **ç¯æ£€æµ‹åˆ©å™¨**ï¼šTarjanç®—æ³•ç”¨`dfn/low`æ ˆå¿«é€Ÿå®šä½SCCï¼Œæ³¨æ„å›æº¯æ¡ä»¶`dfn[u]==low[u]`  
- **é—­åŒ…ä¼˜åŒ–**ï¼šå°å›¾ç”¨Floydä¸‰é‡å¾ªç¯ï¼ˆO(nÂ³)ï¼‰ï¼Œå¤§å›¾æ”¹ç”¨bitsetåŠ é€Ÿï¼ˆO(nÂ³/Ï‰)ï¼‰  
- **åŒ¹é…æŠ‰æ‹©**ï¼šnâ‰¤700ç”¨åŒˆç‰™åˆ©ï¼ˆæ˜“å®ç°ï¼‰ï¼Œnæ›´å¤§ç”¨Dinicç½‘ç»œæµï¼ˆé«˜æ•ˆï¼‰  
- **è°ƒè¯•æŠ€å·§**ï¼šç¼©ç‚¹åéªŒè¯DAGæ— ç¯ï¼ŒåŒ¹é…å‰ç¡®è®¤é—­åŒ…å›¾æ— è‡ªç¯  

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**  
*è¯´æ˜*ï¼šç»¼åˆä¼˜è´¨é¢˜è§£ï¼ŒåŒ…å«Tarjanç¼©ç‚¹+Floydé—­åŒ…+åŒˆç‰™åˆ©åŒ¹é…çš„å®Œæ•´æµç¨‹ã€‚
```cpp
#include <iostream>
#include <vector>
#include <stack>
#include <cstring>
using namespace std;
const int MAXN = 705;

vector<int> graph[MAXN]; // é‚»æ¥è¡¨
char first[MAXN], last[MAXN]; // é¦–å°¾å­—ç¬¦
int dfn[MAXN], low[MAXN], col[MAXN], colCnt, dfnCnt;
bool instack[MAXN];
stack<int> stk;
bool reach[MAXN][MAXN]; // ä¼ é€’é—­åŒ…
int match[MAXN]; // åŒ¹é…ç»“æœ
bool vis[MAXN];

void tarjan(int u) {
    dfn[u] = low[u] = ++dfnCnt;
    stk.push(u); instack[u] = true;
    for (int v : graph[u]) {
        if (!dfn[v]) tarjan(v), low[u] = min(low[u], low[v]);
        else if (instack[v]) low[u] = min(low[u], dfn[v]);
    }
    if (low[u] == dfn[u]) {
        colCnt++;
        while (true) {
            int x = stk.top(); stk.pop();
            col[x] = colCnt, instack[x] = false;
            if (x == u) break;
        }
    }
}

bool dfs(int u) {
    for (int v = 1; v <= colCnt; ++v) {
        if (!reach[u][v] || vis[v]) continue;
        vis[v] = true;
        if (!match[v] || dfs(match[v])) {
            match[v] = u;
            return true;
        }
    }
    return false;
}

int main() {
    int n; cin >> n;
    for (int i = 1; i <= n; ++i) 
        cin >> first[i] >> last[i];
    
    // å»ºå›¾ï¼ši->j when last[i]==first[j]
    for (int i = 1; i <= n; ++i)
        for (int j = 1; j <= n; ++j)
            if (i != j && last[i] == first[j])
                graph[i].push_back(j);

    // SCCç¼©ç‚¹
    for (int i = 1; i <= n; ++i)
        if (!dfn[i]) tarjan(i);
    
    // æ„å»ºç¼©ç‚¹å›¾ & ä¼ é€’é—­åŒ…
    for (int u = 1; u <= n; ++u)
        for (int v : graph[u])
            if (col[u] != col[v])
                reach[col[u]][col[v]] = true;
    
    for (int k = 1; k <= colCnt; ++k)
        for (int i = 1; i <= colCnt; ++i)
            for (int j = 1; j <= colCnt; ++j)
                reach[i][j] |= reach[i][k] && reach[k][j];
    
    // åŒˆç‰™åˆ©ç®—æ³•æ±‚æœ€å¤§åŒ¹é…
    int matches = 0;
    for (int i = 1; i <= colCnt; ++i) {
        memset(vis, 0, sizeof(vis));
        if (dfs(i)) matches++;
    }
    cout << colCnt - matches << endl;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¾“å…¥å•†å“ååå»ºç«‹é‚»æ¥è¡¨  
  2. Tarjanæ±‚SCCï¼ˆæ³¨æ„æ ˆç»´æŠ¤å’Œ`instack`æ ‡è®°ï¼‰  
  3. ç¼©ç‚¹åæ„å»ºDAGå¹¶è®¡ç®—ä¼ é€’é—­åŒ…ï¼ˆä¸‰é‡å¾ªç¯ï¼‰  
  4. åŒˆç‰™åˆ©ç®—æ³•ä¸­`vis`æ•°ç»„æ¯æ¬¡é‡ç½®ï¼Œé€’å½’å¯»æ‰¾å¢å¹¿è·¯  
  5. æœ€å°è·¯å¾„è¦†ç›–æ•° = SCCæ•° - æœ€å¤§åŒ¹é…æ•°  

---

**é¢˜è§£ä¸€ï¼šAngraecum - åŒˆç‰™åˆ©ä¼˜åŒ–ç‰‡æ®µ**  
```cpp
bool dfs(ll u,ll tag){ // ç”¨tagä»£æ›¿visé‡ç½®
    if(vi[u]==tag) return false;
    vi[u]=tag;
    for(int v:g[u]){
        if(!p[v]||dfs(p[v],tag)){
            p[v]=u; return true;
        }
    }
    return false;
}
// è°ƒç”¨ï¼šfor(i=1~n) ans -= dfs(i,i);
```
* **äº®ç‚¹**ï¼šæ—¶é—´æˆ³ä»£æ›¿`vis`æ•°ç»„é‡ç½®ï¼Œå¤§å¹…æå‡æ•ˆç‡  
* **ä»£ç è§£è¯»**ï¼š  
  - `tag`å‚æ•°ä¼ å…¥å½“å‰DFSç¼–å·ï¼Œ`vi[u]==tag`è¡¨ç¤ºæœ¬è½®å·²è®¿é—®  
  - é€’å½’æ—¶ä¼ é€’ç›¸åŒ`tag`ï¼Œçœå»`memset`å¼€é”€  
* **å­¦ä¹ ç¬”è®°**ï¼šåŒˆç‰™åˆ©ç®—æ³•ä¼˜åŒ–ç‚¹ï¼Œç‰¹åˆ«é€‚åˆå¤šæ¬¡åŒ¹é…åœºæ™¯  

**é¢˜è§£äºŒï¼šRegister_int - ç½‘ç»œæµå»ºå›¾**  
```cpp
// å»ºå›¾ï¼šå·¦éƒ¨ç‚¹iè¿æºç‚¹ï¼Œå³éƒ¨ç‚¹i+cntè¿è½½ç‚¹
for(int i=1; i<=cnt; i++) 
    add_edge(s, i, 1), add_edge(i+cnt, t, 1); 
for(int i=1; i<=cnt; i++)
    for(int j=1; j<=cnt; j++)
        if(dis[i][j]) add_edge(i, j+cnt, 1);
```
* **äº®ç‚¹**ï¼šæ ‡å‡†äºŒåˆ†å›¾ç½‘ç»œæµå»ºæ¨¡ï¼Œå·¦/å³éƒ¨ç‚¹æ˜ç¡®åˆ†ç¦»  
* **ä»£ç è§£è¯»**ï¼š  
  - å·¦éƒ¨ç‚¹èŒƒå›´[1,cnt]ï¼Œå³éƒ¨ç‚¹èŒƒå›´[cnt+1, 2*cnt]  
  - `dis[i][j]`ä¸ºä¼ é€’é—­åŒ…ç»“æœï¼Œå†³å®šæ˜¯å¦å»ºå®¹é‡1çš„è¾¹  
* **å­¦ä¹ ç¬”è®°**ï¼šç½‘ç»œæµè¾¹æ•°ä¼˜åŒ–æŠ€å·§â€”â€”ä»…è¿ä¼ é€’é—­åŒ…è¾¹  

**é¢˜è§£ä¸‰ï¼šxiezheyuan - AtCoderåº“åº”ç”¨**  
```cpp
atcoder::mf_graph<int> g2(2*cnt+2); // ç½‘ç»œæµå›¾
int s=0, t=2*cnt+1;
g2.add_edge(i, j+cnt, 1); // æ·»åŠ åŒ¹é…è¾¹
cout << cnt - g2.flow(s,t); // æœ€å¤§æµå³åŒ¹é…
```
* **äº®ç‚¹**ï¼šAtCoderåº“æç®€å®ç°ï¼Œä¸“æ³¨ç®—æ³•é€»è¾‘  
* **ä»£ç è§£è¯»**ï¼š  
  - `mf_graph`å°è£…Dinicç®—æ³•ï¼Œ`flow()`ç›´æ¥è¿”å›æœ€å¤§æµ  
  - èŠ‚ç‚¹ç¼–å·ä»0å¼€å§‹ï¼Œ`s=0, t=2*cnt+1`ä¸ºæºæ±‡ç‚¹  
* **å­¦ä¹ ç¬”è®°**ï¼šç«èµ›ä¸­å–„ç”¨æ ‡å‡†åº“æå‡ç¼–ç æ•ˆç‡  

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼šåƒç´ ç«è½¦è°ƒåº¦å¸ˆï¼ˆ8-bité£æ ¼ï¼‰  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šSCCç¼©ç‚¹â†’ä¼ é€’é—­åŒ…â†’äºŒåˆ†å›¾åŒ¹é…çš„å…¨è¿‡ç¨‹  

1. **åˆå§‹åŒ–é˜¶æ®µ**ï¼š  
   - å±å¹•æ˜¾ç¤º26Ã—26åƒç´ ç½‘æ ¼ï¼Œæ¯ä¸ªå•†å“åè½¬åŒ–ä¸ºå½©è‰²æ–¹å—ï¼ˆå¦‚ABâ†’(A,B)ä½ç½®ï¼‰  
   - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœ/å•æ­¥/é€Ÿåº¦æ»‘å—ï¼ˆå¤å¤æ—‹é’®è®¾è®¡ï¼‰  

2. **SCCç¼©ç‚¹åŠ¨ç”»**ï¼š  
   - æ£€æµ‹åˆ°ç¯æ—¶ï¼Œç›¸è¿æ–¹å—é—ªçƒçº¢å…‰â†’èšåˆæˆå¤§æ–¹å—ï¼ˆéŸ³æ•ˆï¼šè½°éš†å£°ï¼‰  
   - ä¾§è¾¹æ æ˜¾ç¤ºSCCè®¡æ•°ï¼ˆå¦‚"Components: â–ˆ â–ˆ â–ˆ â†’ â–ˆ"ï¼‰  

3. **ä¼ é€’é—­åŒ…æ¼”ç¤º**ï¼š  
   - å½“å‰å¤„ç†SCCæ–¹å—ké«˜äº®é»„å…‰  
   - éå†æ‰€æœ‰(i,j)ï¼šè‹¥iâ†’kä¸”kâ†’jå­˜åœ¨ï¼Œåˆ™æ·»åŠ iâ†’jè™šçº¿è½¨é“ï¼ˆéŸ³æ•ˆï¼šæ»´ç­”å£°ï¼‰  
   - è¿›åº¦æç¤ºï¼š"Floyd: k=3/5"  

4. **äºŒåˆ†å›¾åŒ¹é…é˜¶æ®µ**ï¼š  
   - å±å¹•åˆ†å‰²ï¼šå·¦éƒ¨è½¦ç«™(è“) vs å³éƒ¨è½¦ç«™(çº¢)  
   - åŒˆç‰™åˆ©DFSï¼šå½“å‰è½¦ç«™å‘ç»¿å…‰ï¼Œå°è¯•è·¯å¾„å‘é»„å…‰ï¼ŒåŒ¹é…æˆåŠŸå˜é‡‘å¹¶æ’­æ”¾"å˜Ÿ"å£°  
   - ç½‘ç»œæµæ¨¡å¼ï¼šæ˜¾ç¤ºæ°´æµåŠ¨ç”»åœ¨è½¨é“æµåŠ¨  

5. **ç»“æœå±•ç¤º**ï¼š  
   - æœ€ç»ˆè·¯å¾„æ•°=ç‹¬ç«‹ç«è½¦æ•°é‡ï¼ˆä¸åŒé¢œè‰²ç«è½¦å¤´ï¼‰  
   - æŒ‰è·¯å¾„é¡ºåºæ’­æ”¾ç«è½¦è¡Œè¿›åŠ¨ç”»ï¼ˆèƒœåˆ©éŸ³æ•ˆ+çƒŸèŠ±ç‰¹æ•ˆï¼‰  

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜

**é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
æœ€å°è·¯å¾„è¦†ç›–æ¨¡å‹é€‚ç”¨äºï¼š  
1. ä»»åŠ¡è°ƒåº¦ï¼ˆæœ‰ä¾èµ–å…³ç³»çš„åºåˆ—å®‰æ’ï¼‰  
2. ç‰ˆæœ¬æ›´æ–°è·¯å¾„ï¼ˆåŒ…ä¾èµ–è§£æï¼‰  
3. æ–‡æœ¬æ‹¼æ¥ä¼˜åŒ–ï¼ˆå•è¯æ¥é¾™æœ€å¤§åŒ–ï¼‰  

**æ´›è°·æ¨è**ï¼š  
1. **P2764 æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šæ¨¡æ¿é¢˜ç›´æ¥åº”ç”¨æœ¬é¢˜è§£æ³•ï¼Œå·©å›ºSCCç¼©ç‚¹+äºŒåˆ†å›¾åŒ¹é…  
2. **P2765 é­”æœ¯çƒé—®é¢˜**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šåŠ¨æ€æ·»åŠ ç‚¹å¹¶æ±‚æœ€å°è·¯å¾„è¦†ç›–ï¼Œç»“åˆäºŒåˆ†ç­”æ¡ˆæ€æƒ³  
3. **P3254 åœ†æ¡Œé—®é¢˜**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šäºŒåˆ†å›¾å¤šé‡åŒ¹é…å˜ç§ï¼ŒåŠ æ·±ç½‘ç»œæµå»ºæ¨¡ç†è§£  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **Angraecum ç»éªŒ**ï¼š"ä¼šäº†çœŸä¸éš¾" â€”â€” æŒæ¡æ ¸å¿ƒè½¬åŒ–æ€æƒ³åä»£ç å®ç°ç®€å•  
> **run_away è°ƒè¯•ç»éªŒ**ï¼š"èµ›æ—¶ä¸å¯ç›¸äº¤â†’èµ›åå¯ç›¸äº¤ä»…æ”¹10åˆ†é’Ÿ" â€”â€” ä¼ é€’é—­åŒ…çš„å…³é”®æ€§  

**Kayç‚¹è¯„**ï¼š  
- ç¼©ç‚¹æ—¶åŠ¡å¿…éªŒè¯DAGæ— ç¯ï¼ˆ`col[u]!=col[v]`æ¡ä»¶ï¼‰  
- ä¼ é€’é—­åŒ…åéœ€å»è‡ªç¯ï¼ˆ`iâ‰ j`æ‰è¿è¾¹ï¼‰  
- åŒ¹é…ç®—æ³•é€‰æ‹©ï¼šåŒˆç‰™åˆ©ä»£ç çŸ­ï¼Œç½‘ç»œæµæ•ˆç‡é«˜  

---

æŒæ¡å›¾è®ºæ¨¡å‹è½¬åŒ–æ€ç»´ï¼Œå‹¤ç»ƒSCC/é—­åŒ…/åŒ¹é…çš„ç¼–ç å®ç°ï¼Œå®šèƒ½å¾æœæ­¤ç±»é¢˜å‹ï¼ä¸‹æ¬¡è§ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š265.15ç§’
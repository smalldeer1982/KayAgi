# é¢˜ç›®ä¿¡æ¯

# [ARC122E] Increasing LCMs

## é¢˜ç›®æè¿°

[problemUrl]: https://atcoder.jp/contests/arc122/tasks/arc122_e

é•·ã• $ N $ ã®æ­£æ•´æ•°åˆ— $ A_1,A_2,\cdots,A_N $ ãŒã‚ã‚Šã¾ã™ï¼ ã‚ãªãŸã¯ï¼Œã“ã‚Œã‚‰ã®æ•´æ•°ã‚’ä¸¦ã³æ›¿ãˆã‚‹ã“ã¨ã§ï¼Œæ­£æ•´æ•°åˆ— $ x_1,x_2,\cdots,x_N $ ã‚’ä½œã‚ã†ã¨ã—ã¦ã„ã¾ã™ï¼ ã“ã®æ™‚ï¼Œ$ x $ ã¯ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼

- $ y_i=\operatorname{LCM}(x_1,x_2,\cdots,x_i) $ ã¨å®šç¾©ã™ã‚‹ï¼ã“ã“ã§ï¼Œ$ \operatorname{LCM} $ ã¯ä¸ãˆã‚‰ã‚ŒãŸæ•´æ•°ãŸã¡ã®æœ€å°å…¬å€æ•°ã‚’è¿”ã™é–¢æ•°ã§ã‚ã‚‹ï¼ã“ã®ã¨ãï¼Œ$ y $ ã¯ç‹­ç¾©å˜èª¿å¢—åŠ ã§ã‚ã‚‹ï¼ã¤ã¾ã‚Šï¼Œ$ y_1\ <\ y_2\ <\ \cdots\ <\ y_N $ ãŒæˆã‚Šç«‹ã¤ï¼

æ¡ä»¶ã‚’æº€ãŸã™ã‚ˆã†ãª $ x $ ãŒå­˜åœ¨ã™ã‚‹ã‹åˆ¤å®šã—ï¼Œå­˜åœ¨ã™ã‚‹ãªã‚‰ä¸€ã¤ä¾‹ã‚’ç¤ºã—ã¦ãã ã•ã„ï¼

## è¯´æ˜/æç¤º

### åˆ¶ç´„

- $ 1\ \leq\ N\ \leq\ 100 $
- $ 2\ \leq\ A_1\ <\ A_2\ \cdots\ <\ A_N\ \leq\ 10^{18} $
- å…¥åŠ›ã•ã‚Œã‚‹å€¤ã¯ã™ã¹ã¦æ•´æ•°ã§ã‚ã‚‹

### Sample Explanation 1

$ x=(3,6,4) $ ã®ã¨ãï¼Œ - $ y_1=\operatorname{LCM}(3)=3 $ - $ y_2=\operatorname{LCM}(3,6)=6 $ - $ y_3=\operatorname{LCM}(3,6,4)=12 $ ã¨ãªã‚Šï¼Œ$ y_1\ <\ y_2\ <\ y_3 $ ã‚’æº€ãŸã—ã¾ã™ï¼

### Sample Explanation 2

ã©ã®ã‚ˆã†ã« $ A $ ã‚’ä¸¦ã³æ›¿ãˆã¦ã‚‚æ¡ä»¶ã‚’æº€ãŸã™ã“ã¨ãŒã§ãã¾ã›ã‚“ï¼

## æ ·ä¾‹ #1

### è¾“å…¥

```
3

3 4 6```

### è¾“å‡º

```
Yes

3 6 4```

## æ ·ä¾‹ #2

### è¾“å…¥

```
3

2 3 6```

### è¾“å‡º

```
No```

## æ ·ä¾‹ #3

### è¾“å…¥

```
10

922513 346046618969 3247317977078471 4638516664311857 18332844097865861 81706734998806133 116282391418772039 134115264093375553 156087536381939527 255595307440611247```

### è¾“å‡º

```
Yes

922513 346046618969 116282391418772039 81706734998806133 255595307440611247 156087536381939527 134115264093375553 18332844097865861 3247317977078471 4638516664311857```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[ARC122E] Increasing LCMs æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š**æ„é€ æ€§ç®—æ³•ï¼ˆå€’åºæ„é€ ï¼‰+ æ•°å­¦æ¨å¯¼ï¼ˆLCM/GCDæ€§è´¨ï¼‰**

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œé€’å¢LCMæ’åˆ—â€é—®é¢˜ï¼Œå…³é”®åœ¨äº**å€’ç€æ­ç§¯æœ¨**â€”â€”ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹é€‰ï¼Œæ¯æ¬¡é€‰ä¸€ä¸ªâ€œèƒ½è®©å‰é¢çš„LCMå˜å¤§â€çš„æ•°ã€‚å°±åƒæ­ç§¯æœ¨æ—¶ï¼Œæœ€åä¸€å—å¿…é¡»èƒ½â€œæ’‘èµ·â€æ•´ä¸ªç»“æ„ï¼Œå€’ç€é€‰æ›´å®¹æ˜“æ£€æŸ¥æ¯ä¸€æ­¥çš„æ­£ç¡®æ€§ã€‚  

**æ ¸å¿ƒæ€è·¯**ï¼š  
æˆ‘ä»¬éœ€è¦è®©å‰ç¼€LCMä¸¥æ ¼é€’å¢ï¼ˆ\(y_1 < y_2 < \dots < y_N\)ï¼‰ã€‚å¦‚æœæ­£åºé€‰ï¼Œå‰é¢çš„æ•°ä¼šå½±å“åé¢çš„é€‰æ‹©ï¼Œå¾ˆéš¾åˆ¤æ–­ã€‚ä½†**å€’åºé€‰**æ—¶ï¼Œæœ€åä¸€ä¸ªæ•°\(x_N\)åªéœ€æ»¡è¶³ï¼šå‰é¢æ‰€æœ‰æ•°çš„LCMï¼ˆ\(y_{N-1}\)ï¼‰ä¸æ˜¯\(x_N\)çš„å€æ•°ï¼ˆå¦åˆ™\(y_N = y_{N-1}\)ï¼Œä¸æ»¡è¶³é€’å¢ï¼‰ã€‚  

**æ¡ä»¶è½¬æ¢**ï¼š  
ç›´æ¥è®¡ç®—å‰é¢æ‰€æœ‰æ•°çš„LCMä¼šçˆ†å¤§æ•°ï¼ˆæ¯”å¦‚\(10^{18}\)çš„æ•°ï¼ŒLCMå¯èƒ½å¤§åˆ°æ— æ³•å­˜å‚¨ï¼‰ã€‚é€šè¿‡æ•°å­¦æ¨å¯¼ï¼Œæˆ‘ä»¬æŠŠæ¡ä»¶è½¬æ¢æˆï¼š\(\text{LCM}_{j\neq i} \gcd(a_i, a_j) < a_i\)ï¼ˆå…¶ä¸­\(a_i\)æ˜¯å€™é€‰çš„æœ€åä¸€ä¸ªæ•°ï¼‰ã€‚è¿™ä¸ªå¼å­çš„æ„æ€æ˜¯ï¼š\(a_i\)æœ‰ä¸€ä¸ªè´¨å› å­çš„æœ€é«˜æ¬¡å¹‚ï¼Œæ²¡æœ‰è¢«å…¶ä»–æ•°â€œè¦†ç›–â€ï¼Œè¿™æ ·åŠ å…¥\(a_i\)åï¼ŒLCMä¼šå¢å¤§ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
ç”¨**8ä½åƒç´ é£**å±•ç¤ºæœªé€‰æ•°çš„ç½‘æ ¼ï¼ˆæ¯”å¦‚\(10\times10\)çš„åƒç´ å—ï¼Œæ¯ä¸ªå—ä»£è¡¨ä¸€ä¸ªæ•°ï¼‰ã€‚æ¯æ¬¡é€‰ä¸­ä¸€ä¸ªæ•°æ—¶ï¼Œè¯¥å—é—ªçƒï¼ˆæ¯”å¦‚çº¢è‰²ï¼‰ï¼ŒåŒæ—¶å¼¹å‡ºå°çª—å£æ˜¾ç¤ºå…¶ä¸å…¶ä»–æœªé€‰æ•°çš„GCDè®¡ç®—è¿‡ç¨‹ï¼ˆæ¯”å¦‚\(\gcd(3,6)=3\)ï¼Œ\(\gcd(3,4)=1\)ï¼‰ï¼Œç„¶åè®¡ç®—è¿™äº›GCDçš„LCMï¼ˆ\(\text{LCM}(3,1)=3\)ï¼‰ï¼Œå¹¶å¯¹æ¯”æ˜¯å¦å°äºåŸæ•°ï¼ˆ\(3 < 3\)ï¼Ÿä¸ï¼Œæ‰€ä»¥3ä¸èƒ½é€‰ï¼›æ¯”å¦‚é€‰6æ—¶ï¼Œ\(\text{LCM}(\gcd(6,3), \gcd(6,4)) = \text{LCM}(3,2)=6\)ï¼Œç­‰äº6ï¼Œä¹Ÿä¸è¡Œï¼›é€‰4æ—¶ï¼Œ\(\text{LCM}(\gcd(4,3), \gcd(4,6)) = \text{LCM}(1,2)=2 < 4\)ï¼Œæ‰€ä»¥4å¯ä»¥é€‰ï¼‰ã€‚é€‰ä¸­åï¼Œè¯¥å—ä¼šâ€œè·³åˆ°â€ç­”æ¡ˆåºåˆ—çš„æœ«å°¾ï¼ˆæ¯”å¦‚å³ä¾§çš„åƒç´ æ¡ï¼‰ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šï¼ˆæ¥æºï¼šjames1BadCreeperï¼Œèµï¼š5ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£ç”¨**é€’å½’+å€’åºæ„é€ **çš„æ€è·¯ï¼Œé€»è¾‘éå¸¸æ¸…æ™°ã€‚é€’å½’å‡½æ•°`solve`æ¯æ¬¡å¤„ç†æœªé€‰æ•°çš„é›†åˆï¼Œéå†æ¯ä¸ªæ•°ï¼Œè®¡ç®—å…¶ä¸å…¶ä»–æœªé€‰æ•°çš„GCDçš„LCMï¼Œåˆ¤æ–­æ˜¯å¦å°äºè‡ªèº«ã€‚å¦‚æœæ»¡è¶³ï¼Œå°±æŠŠå®ƒåŠ å…¥ç­”æ¡ˆï¼ˆå€’åºï¼‰ï¼Œç„¶åé€’å½’å¤„ç†å‰©ä¸‹çš„æ•°ã€‚ä»£ç ä¸­çš„`gcd`å’Œ`lcm`å‡½æ•°æ˜¯åŸºç¡€ï¼Œå˜é‡å‘½åï¼ˆæ¯”å¦‚`ans`å­˜å‚¨ç­”æ¡ˆï¼Œ`tmp`å­˜å‚¨æœªé€‰æ•°ï¼‰å¾ˆç›´è§‚ã€‚**äº®ç‚¹**ï¼šé€’å½’çš„æ–¹å¼è®©ä»£ç ç»“æ„ç®€æ´ï¼Œå®¹æ˜“ç†è§£å€’åºæ„é€ çš„è¿‡ç¨‹ï¼›æœ€ååè½¬ç­”æ¡ˆæ•°ç»„å¾—åˆ°æ­£åºç»“æœï¼Œç¬¦åˆé¢˜ç›®çš„è¾“å‡ºè¦æ±‚ã€‚  

### é¢˜è§£äºŒï¼šï¼ˆæ¥æºï¼š0x3Fï¼Œèµï¼š3ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£ç”¨**è¿­ä»£+å€’åºæ„é€ **çš„æ€è·¯ï¼Œä»£ç æ›´é«˜æ•ˆï¼ˆé¿å…é€’å½’æ ˆå¼€é”€ï¼‰ã€‚å¾ªç¯ä»\(n\)åˆ°1ï¼Œæ¯æ¬¡æ‰¾ä¸€ä¸ªèƒ½ä½œä¸ºå½“å‰æœ€åä¸€ä¸ªæ•°çš„å…ƒç´ ï¼Œäº¤æ¢åˆ°æ•°ç»„æœ«å°¾ï¼ˆæ ‡è®°ä¸ºå·²é€‰ï¼‰ã€‚**äº®ç‚¹**ï¼šç”¨`swap`æ“ä½œç›´æ¥ä¿®æ”¹åŸæ•°ç»„ï¼Œé¿å…äº†é¢å¤–çš„é›†åˆå­˜å‚¨ï¼›æ¡ä»¶åˆ¤æ–­ç”¨`num != a[i]`ï¼ˆå³\(\text{LCM}\)ä¸ç­‰äºåŸæ•°ï¼‰ï¼Œç®€æ´æ˜äº†ã€‚ä»£ç ä¸­çš„`__gcd`å‡½æ•°æ˜¯C++æ ‡å‡†åº“çš„ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§ã€‚  

### é¢˜è§£ä¸‰ï¼šï¼ˆæ¥æºï¼šLeasierï¼Œèµï¼š2ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£**é¢„å¤„ç†äº†æ‰€æœ‰æ•°å¯¹çš„GCD**ï¼Œé¿å…äº†é‡å¤è®¡ç®—ï¼ˆæ¯”å¦‚`b[i][j] = gcd(a[i], a[j])`ï¼‰ã€‚è¿™æ ·åœ¨æ¯æ¬¡åˆ¤æ–­æ—¶ï¼Œç›´æ¥ä½¿ç”¨é¢„å¤„ç†çš„ç»“æœï¼Œå‡å°‘äº†è®¡ç®—é‡ã€‚**äº®ç‚¹**ï¼šé¢„å¤„ç†çš„æ€æƒ³å¾ˆå®ç”¨ï¼Œå¯¹äºéœ€è¦å¤šæ¬¡è®¡ç®—ç›¸åŒå€¼çš„é—®é¢˜ï¼Œèƒ½æ˜¾è‘—æé«˜æ•ˆç‡ï¼›ç”¨`vis`æ•°ç»„æ ‡è®°å·²é€‰æ•°ï¼Œé€»è¾‘æ¸…æ™°ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. **éš¾ç‚¹1ï¼šä¸ºä»€ä¹ˆè¦å€’åºæ„é€ ï¼Ÿ**  
* **åˆ†æ**ï¼š  
  æ­£åºæ„é€ æ—¶ï¼Œå‰é¢çš„æ•°ä¼šå½±å“åé¢çš„é€‰æ‹©ï¼ˆæ¯”å¦‚é€‰äº†3ä¹‹åï¼Œé€‰6ä¼šè®©LCMå˜æˆ6ï¼Œå†é€‰4ä¼šè®©LCMå˜æˆ12ï¼Œè¿™æ²¡é—®é¢˜ï¼›ä½†å¦‚æœå…ˆé€‰4ï¼Œå†é€‰6ï¼ŒLCMå˜æˆ12ï¼Œå†é€‰3ï¼ŒLCMè¿˜æ˜¯12ï¼Œä¸æ»¡è¶³é€’å¢ï¼‰ã€‚å€’åºæ„é€ æ—¶ï¼Œæœ€åä¸€ä¸ªæ•°çš„é€‰æ‹©ä¸å½±å“å‰é¢çš„æ•°ï¼ˆå› ä¸ºå‰é¢çš„æ•°å·²ç»ç¡®å®šï¼‰ï¼Œåªéœ€ä¿è¯åŠ å…¥è¯¥æ•°åLCMå¢å¤§ã€‚  

* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ­£éš¾åˆ™åï¼Œå€’åºæ„é€ æ˜¯è§£å†³â€œå‰ç¼€çº¦æŸâ€é—®é¢˜çš„å¸¸ç”¨æŠ€å·§ã€‚  

### 2. **éš¾ç‚¹2ï¼šå¦‚ä½•å¤„ç†å¤§æ•°LCMï¼Ÿ**  
* **åˆ†æ**ï¼š  
  ç›´æ¥è®¡ç®—å¤šä¸ªå¤§æ•°çš„LCMä¼šçˆ†`long long`ï¼ˆæ¯”å¦‚\(10^{18}\)çš„æ•°ï¼ŒLCMå¯èƒ½è¶…è¿‡\(10^{18}\)ï¼‰ã€‚é€šè¿‡æ•°å­¦æ¨å¯¼ï¼Œæˆ‘ä»¬æŠŠæ¡ä»¶è½¬æ¢æˆ\(\text{LCM}_{j\neq i} \gcd(a_i, a_j) < a_i\)ï¼Œè¿™æ ·è®¡ç®—çš„æ˜¯GCDçš„LCMï¼Œè€ŒGCDä¸è¶…è¿‡åŸæ•°ï¼Œæ‰€ä»¥ç»“æœä¸ä¼šè¶…è¿‡åŸæ•°ï¼ˆ\(a_i\)æ˜¯\(10^{18}\)ï¼Œä½†ç”¨`__int128`å¯ä»¥å­˜å‚¨ï¼‰ã€‚  

* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ•°å­¦æ¡ä»¶è½¬æ¢æ˜¯è§£å†³å¤§æ•°é—®é¢˜çš„å…³é”®ï¼Œè¦å–„äºåˆ©ç”¨LCMå’ŒGCDçš„æ€§è´¨ã€‚  

### 3. **éš¾ç‚¹3ï¼šå¦‚ä½•é«˜æ•ˆé€‰æ•°ï¼Ÿ**  
* **åˆ†æ**ï¼š  
  æ¯æ¬¡é€‰æ•°æ—¶ï¼Œéœ€è¦éå†æ‰€æœ‰æœªé€‰æ•°ï¼Œè®¡ç®—å…¶ä¸å…¶ä»–æœªé€‰æ•°çš„GCDçš„LCMã€‚æ—¶é—´å¤æ‚åº¦æ˜¯\(O(n^3\log V)\)ï¼ˆ\(n\)æ˜¯æ•°ç»„é•¿åº¦ï¼Œ\(V\)æ˜¯æ•°çš„å¤§å°ï¼‰ï¼Œå¯¹äº\(n=100\)æ¥è¯´ï¼Œå®Œå…¨å¯ä»¥é€šè¿‡ã€‚**æŠ€å·§**ï¼šé¢„å¤„ç†æ‰€æœ‰æ•°å¯¹çš„GCDï¼Œé¿å…é‡å¤è®¡ç®—ï¼ˆæ¯”å¦‚Leasierçš„é¢˜è§£ï¼‰ã€‚  

* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé¢„å¤„ç†æ˜¯ä¼˜åŒ–é‡å¤è®¡ç®—çš„æœ‰æ•ˆæ–¹æ³•ï¼Œå°¤å…¶é€‚ç”¨äºåµŒå¥—å¾ªç¯çš„é—®é¢˜ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆäº†james1BadCreeperå’Œ0x3Fçš„é¢˜è§£æ€è·¯ï¼Œé‡‡ç”¨è¿­ä»£+å€’åºæ„é€ çš„æ–¹å¼ï¼Œä»£ç ç®€æ´é«˜æ•ˆã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <algorithm>
  using namespace std;
  typedef long long ll;

  ll gcd(ll a, ll b) { return b == 0 ? a : gcd(b, a % b); }
  ll lcm(ll a, ll b) { return (__int128)a * b / gcd(a, b); } // ç”¨__int128é˜²æ­¢æº¢å‡º

  int main() {
      int n;
      cin >> n;
      vector<ll> a(n);
      for (int i = 0; i < n; ++i) {
          cin >> a[i];
      }

      vector<ll> ans;
      vector<bool> vis(n, false); // æ ‡è®°å·²é€‰æ•°

      for (int i = n; i >= 1; --i) { // å€’åºé€‰næ¬¡
          bool found = false;
          for (int j = 0; j < n; ++j) {
              if (vis[j]) continue;
              ll current_lcm = 1;
              for (int k = 0; k < n; ++k) {
                  if (k == j || vis[k]) continue;
                  current_lcm = lcm(current_lcm, gcd(a[j], a[k]));
              }
              if (current_lcm < a[j]) { // æ»¡è¶³æ¡ä»¶
                  ans.push_back(a[j]);
                  vis[j] = true;
                  found = true;
                  break;
              }
          }
          if (!found) {
              cout << "No" << endl;
              return 0;
          }
      }

      reverse(ans.begin(), ans.end()); // åè½¬å¾—åˆ°æ­£åºç»“æœ
      cout << "Yes" << endl;
      for (ll x : ans) {
          cout << x << " ";
      }
      cout << endl;

      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¯»å–è¾“å…¥æ•°ç»„`a`ã€‚  
  2. ç”¨`vis`æ•°ç»„æ ‡è®°å·²é€‰æ•°ï¼Œ`ans`å­˜å‚¨ç­”æ¡ˆï¼ˆå€’åºï¼‰ã€‚  
  3. å€’åºå¾ªç¯`n`æ¬¡ï¼Œæ¯æ¬¡æ‰¾ä¸€ä¸ªèƒ½ä½œä¸ºå½“å‰æœ€åä¸€ä¸ªæ•°çš„å…ƒç´ ï¼š  
     - éå†æ‰€æœ‰æœªé€‰æ•°`a[j]`ã€‚  
     - è®¡ç®—`a[j]`ä¸å…¶ä»–æœªé€‰æ•°çš„GCDçš„LCMï¼ˆ`current_lcm`ï¼‰ã€‚  
     - å¦‚æœ`current_lcm < a[j]`ï¼Œåˆ™é€‰`a[j]`ï¼ŒåŠ å…¥`ans`ï¼Œæ ‡è®°ä¸ºå·²é€‰ã€‚  
  4. å¦‚æœæŸæ¬¡æ²¡æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°ï¼Œè¾“å‡º`No`ã€‚  
  5. åè½¬`ans`å¾—åˆ°æ­£åºç»“æœï¼Œè¾“å‡º`Yes`å’Œç­”æ¡ˆã€‚  


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ  

#### é¢˜è§£ä¸€ï¼ˆjames1BadCreeperï¼‰ï¼šé€’å½’è§£æ³•  
* **äº®ç‚¹**ï¼šé€’å½’çš„æ–¹å¼è®©å€’åºæ„é€ çš„é€»è¾‘æ›´ç›´è§‚ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void solve(vector<ll> a) {
      if (a.size() == 1) {
          ans.emplace_back(a[0]);
          return;
      }
      for (int i = 0; i < a.size(); ++i) {
          ll current_lcm = 1;
          for (int j = 0; j < a.size(); ++j) {
              if (i == j) continue;
              current_lcm = lcm(current_lcm, gcd(a[i], a[j]));
          }
          if (current_lcm < a[i]) {
              ans.emplace_back(a[i]);
              vector<ll> tmp;
              for (int j = 0; j < a.size(); ++j) {
                  if (i != j) tmp.emplace_back(a[j]);
              }
              solve(tmp);
              return;
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šå½“æ•°ç»„åªå‰©ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œç›´æ¥åŠ å…¥ç­”æ¡ˆã€‚  
  - éå†æ¯ä¸ªå…ƒç´ ï¼Œè®¡ç®—å…¶ä¸å…¶ä»–å…ƒç´ çš„GCDçš„LCMã€‚  
  - å¦‚æœæ»¡è¶³æ¡ä»¶ï¼ŒåŠ å…¥ç­”æ¡ˆï¼Œç„¶åé€’å½’å¤„ç†å‰©ä¸‹çš„å…ƒç´ ï¼ˆ`tmp`ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé€’å½’æ˜¯è§£å†³â€œåˆ†æ²»â€é—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•ï¼Œä½†è¦æ³¨æ„é€’å½’æ·±åº¦ï¼ˆæœ¬é¢˜\(n=100\)ï¼Œé€’å½’æ·±åº¦æ˜¯100ï¼Œä¸ä¼šæ ˆæº¢å‡ºï¼‰ã€‚  

#### é¢˜è§£äºŒï¼ˆ0x3Fï¼‰ï¼šè¿­ä»£è§£æ³•  
* **äº®ç‚¹**ï¼šç”¨`swap`æ“ä½œç›´æ¥ä¿®æ”¹åŸæ•°ç»„ï¼Œé¿å…é¢å¤–é›†åˆå­˜å‚¨ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  for (int k = n; k >= 1; --k) {
      bool ok = false;
      for (int i = 1; i <= k; ++i) {
          ll num = 1;
          for (int j = 1; j <= k; ++j) {
              if (j != i) {
                  ll tmp = __gcd(a[i], a[j]);
                  num = lcm(num, tmp);
              }
          }
          if (num != a[i]) {
              swap(a[i], a[k]);
              ok = true;
              break;
          }
      }
      if (!ok) {
          cout << "No" << endl;
          return 0;
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - å¾ªç¯ä»\(n\)åˆ°1ï¼Œæ¯æ¬¡å¤„ç†å‰\(k\)ä¸ªå…ƒç´ ï¼ˆæœªé€‰æ•°ï¼‰ã€‚  
  - éå†å‰\(k\)ä¸ªå…ƒç´ ï¼Œè®¡ç®—å…¶ä¸å…¶ä»–å…ƒç´ çš„GCDçš„LCMã€‚  
  - å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œå°†è¯¥å…ƒç´ äº¤æ¢åˆ°ç¬¬\(k\)ä½ï¼ˆæ ‡è®°ä¸ºå·²é€‰ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`swap`æ“ä½œæ˜¯å¤„ç†æ•°ç»„å…ƒç´ çš„å¸¸ç”¨æŠ€å·§ï¼Œèƒ½å‡å°‘å†…å­˜å¼€é”€ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼š**åƒç´ ç§¯æœ¨æ­æ­ä¹**  
ï¼ˆä»¿ç…§FCæ¸¸æˆã€Šä¿„ç½—æ–¯æ–¹å—ã€‹çš„é£æ ¼ï¼Œç”¨8ä½åƒç´ å—å±•ç¤ºå€’åºé€‰æ•°çš„è¿‡ç¨‹ï¼‰  

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹ï¼š  
1. **åˆå§‹ç•Œé¢**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¯**æœªé€‰æ•°ç½‘æ ¼**ï¼ˆ\(10\times10\)çš„åƒç´ å—ï¼Œæ¯ä¸ªå—æ˜¾ç¤ºä¸€ä¸ªæ•°ï¼Œæ¯”å¦‚æ ·ä¾‹1ä¸­çš„3ã€4ã€6ï¼‰ã€‚  
   - å±å¹•å³ä¾§æ˜¯**ç­”æ¡ˆåºåˆ—æ¡**ï¼ˆå‚ç›´æ’åˆ—çš„åƒç´ å—ï¼Œåˆå§‹ä¸ºç©ºï¼‰ã€‚  
   - åº•éƒ¨æœ‰**æ§åˆ¶é¢æ¿**ï¼šå¼€å§‹/æš‚åœæŒ‰é’®ã€å•æ­¥æŒ‰é’®ã€é‡ç½®æŒ‰é’®ã€é€Ÿåº¦æ»‘å—ï¼ˆ1~5å€é€Ÿï¼‰ã€‚  
   - èƒŒæ™¯æ˜¯å¤å¤çš„æ¸¸æˆç”»é¢ï¼ˆæ¯”å¦‚è“å¤©ã€è‰åœ°ï¼‰ï¼Œæ’­æ”¾8ä½é£æ ¼çš„èƒŒæ™¯éŸ³ä¹ï¼ˆæ¯”å¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„ä¸»é¢˜æ›²ï¼‰ã€‚  

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - ç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼Œæœªé€‰æ•°ç½‘æ ¼ä¸­çš„æ¯ä¸ªå—å¼€å§‹é—ªçƒï¼ˆæç¤ºç”¨æˆ·é€‰æ‹©ï¼‰ã€‚  
   - ä¼´éšâ€œæ»´â€çš„éŸ³æ•ˆï¼Œæç¤ºç”¨æˆ·å¼€å§‹é€‰æ•°ã€‚  

3. **é€‰æ•°è¿‡ç¨‹**ï¼š  
   - éå†æœªé€‰æ•°ï¼Œæ¯ä¸ªæ•°çš„å—ä¼šä¾æ¬¡é«˜äº®ï¼ˆæ¯”å¦‚çº¢è‰²ï¼‰ï¼ŒåŒæ—¶å¼¹å‡ºå°çª—å£æ˜¾ç¤ºè®¡ç®—è¿‡ç¨‹ï¼š  
     - æ¯”å¦‚é€‰4æ—¶ï¼Œå°çª—å£æ˜¾ç¤ºï¼š\(\gcd(4,3)=1\)ï¼Œ\(\gcd(4,6)=2\)ï¼Œ\(\text{LCM}(1,2)=2\)ï¼Œç„¶åå¯¹æ¯”\(2 < 4\)ï¼ˆç»¿è‰²å¯¹å‹¾ï¼‰ã€‚  
   - é€‰ä¸­4åï¼Œ4çš„å—ä¼šâ€œè·³åˆ°â€ç­”æ¡ˆåºåˆ—æ¡çš„æœ«å°¾ï¼ˆå³ä¾§ï¼‰ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆã€‚  
   - æœªé€‰æ•°ç½‘æ ¼ä¸­çš„4æ¶ˆå¤±ï¼Œå‰©ä¸‹3ã€6ã€‚  

4. **ç»§ç»­é€‰æ•°**ï¼š  
   - æ¥ä¸‹æ¥é€‰6ï¼Œè®¡ç®—\(\gcd(6,3)=3\)ï¼Œ\(\text{LCM}(3)=3\)ï¼Œå¯¹æ¯”\(3 < 6\)ï¼ˆå¯¹å‹¾ï¼‰ï¼Œ6è·³åˆ°ç­”æ¡ˆåºåˆ—æ¡ã€‚  
   - æœ€åé€‰3ï¼Œè®¡ç®—\(\gcd(3,æ— )=1\)ï¼ˆé»˜è®¤ï¼‰ï¼Œ\(\text{LCM}(1)=1 < 3\)ï¼ˆå¯¹å‹¾ï¼‰ï¼Œ3è·³åˆ°ç­”æ¡ˆåºåˆ—æ¡ã€‚  

5. **ç»“æŸçŠ¶æ€**ï¼š  
   - ç­”æ¡ˆåºåˆ—æ¡æ˜¾ç¤º4ã€6ã€3ï¼ˆå€’åºï¼‰ï¼Œç„¶ååè½¬æˆ3ã€6ã€4ï¼ˆæ­£åºï¼‰ï¼Œä¼´éšâ€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆæ¯”å¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„é€šå…³éŸ³ä¹ï¼‰ã€‚  
   - å±å¹•æ˜¾ç¤ºâ€œæˆåŠŸï¼â€çš„åƒç´ æ–‡å­—ï¼Œæç¤ºç”¨æˆ·å¯ä»¥é‡ç½®æˆ–é‡æ–°æ’­æ”¾ã€‚  

### äº¤äº’è®¾è®¡ï¼š  
- **å•æ­¥æ¨¡å¼**ï¼šç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼Œæ¯æ­¥åªé€‰ä¸€ä¸ªæ•°ï¼Œæ–¹ä¾¿ç”¨æˆ·è§‚å¯Ÿè®¡ç®—è¿‡ç¨‹ã€‚  
- **è‡ªåŠ¨æ¨¡å¼**ï¼šç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼Œç®—æ³•è‡ªåŠ¨è¿è¡Œï¼Œé€Ÿåº¦å¯ä»¥é€šè¿‡æ»‘å—è°ƒæ•´ï¼ˆ1å€é€Ÿæœ€æ…¢ï¼Œ5å€é€Ÿæœ€å¿«ï¼‰ã€‚  
- **é‡ç½®æ¨¡å¼**ï¼šç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œå›åˆ°åˆå§‹ç•Œé¢ï¼Œé‡æ–°å¼€å§‹ã€‚  

### è®¾è®¡ç†ç”±ï¼š  
- **åƒç´ é£æ ¼**ï¼šå¤å¤çš„æ¸¸æˆé£æ ¼èƒ½å¸å¼•é’å°‘å¹´çš„å…´è¶£ï¼Œè®©å­¦ä¹ è¿‡ç¨‹æ›´è½»æ¾ã€‚  
- **éŸ³æ•ˆæç¤º**ï¼šä¸åŒçš„éŸ³æ•ˆï¼ˆé€‰æ•°ã€è®¡ç®—ã€æˆåŠŸï¼‰èƒ½å¼ºåŒ–ç”¨æˆ·çš„è®°å¿†ï¼Œå¸®åŠ©ç†è§£å…³é”®æ­¥éª¤ã€‚  
- **å¯è§†åŒ–è®¡ç®—**ï¼šå°çª—å£æ˜¾ç¤ºè®¡ç®—è¿‡ç¨‹ï¼Œè®©æŠ½è±¡çš„æ•°å­¦æ¨å¯¼å˜å¾—ç›´è§‚ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»ï¼š  
- **å€’åºæ„é€ **ï¼šé€‚ç”¨äºâ€œå‰ç¼€çº¦æŸâ€é—®é¢˜ï¼ˆæ¯”å¦‚å‰ç¼€å’Œã€å‰ç¼€ç§¯ã€å‰ç¼€LCMç­‰ï¼‰ï¼Œå€’åºé€‰æ•°èƒ½ç®€åŒ–æ¡ä»¶åˆ¤æ–­ã€‚  
- **æ•°å­¦æ¡ä»¶è½¬æ¢**ï¼šé€‚ç”¨äºå¤§æ•°é—®é¢˜ï¼ˆæ¯”å¦‚LCMã€GCDã€è´¨æ•°åˆ¤æ–­ç­‰ï¼‰ï¼Œé€šè¿‡æ€§è´¨è½¬æ¢å‡å°‘è®¡ç®—é‡ã€‚  
- **é¢„å¤„ç†**ï¼šé€‚ç”¨äºéœ€è¦å¤šæ¬¡è®¡ç®—ç›¸åŒå€¼çš„é—®é¢˜ï¼ˆæ¯”å¦‚æ•°å¯¹çš„GCDã€æ•°å¯¹çš„å’Œç­‰ï¼‰ï¼Œé¢„å¤„ç†èƒ½æé«˜æ•ˆç‡ã€‚  

### ç»ƒä¹ æ¨è (æ´›è°·)ï¼š  
1. **æ´›è°· P1090** - åˆå¹¶æœå­  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”¨è´ªå¿ƒç®—æ³•æ„é€ æœ€ä¼˜è§£ï¼Œç±»ä¼¼å€’åºæ„é€ çš„æ€æƒ³ï¼ˆä»æœ€åä¸€æ­¥åˆå¹¶å¼€å§‹è€ƒè™‘ï¼‰ï¼Œèƒ½å¸®åŠ©ä½ å·©å›ºâ€œæ­£éš¾åˆ™åâ€çš„æŠ€å·§ã€‚  
2. **æ´›è°· P2678** - è·³çŸ³å¤´  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”¨äºŒåˆ†ç­”æ¡ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œç±»ä¼¼æœ¬é¢˜çš„â€œæ¡ä»¶è½¬æ¢â€æŠ€å·§ï¼ˆå°†â€œæ˜¯å¦èƒ½è·³è¿‡å»â€è½¬æ¢ä¸ºâ€œæ˜¯å¦æ»¡è¶³è·ç¦»è¦æ±‚â€ï¼‰ï¼Œèƒ½å¸®åŠ©ä½ æé«˜æ•°å­¦æ¨å¯¼èƒ½åŠ›ã€‚  
3. **æ´›è°· P3372** - çº¿æ®µæ ‘æ¨¡æ¿1  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”¨çº¿æ®µæ ‘å¤„ç†åŒºé—´æ“ä½œï¼Œç±»ä¼¼æœ¬é¢˜çš„â€œé¢„å¤„ç†â€æŠ€å·§ï¼ˆçº¿æ®µæ ‘é¢„å¤„ç†åŒºé—´ä¿¡æ¯ï¼‰ï¼Œèƒ½å¸®åŠ©ä½ æé«˜æ•°æ®ç»“æ„çš„åº”ç”¨èƒ½åŠ›ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)  
- **æ­£éš¾åˆ™å**ï¼šå½“æ­£åºæ€è€ƒé‡åˆ°å›°éš¾æ—¶ï¼Œä¸å¦¨è¯•è¯•å€’åºæ€è€ƒï¼ˆæ¯”å¦‚æœ¬é¢˜çš„å€’åºæ„é€ ï¼‰ï¼Œå¾€å¾€èƒ½ç®€åŒ–é—®é¢˜ã€‚  
- **æ•°å­¦å¾ˆé‡è¦**ï¼šLCMå’ŒGCDçš„æ€§è´¨æ˜¯è§£å†³æœ¬é¢˜çš„å…³é”®ï¼Œè¦ç†Ÿç»ƒæŒæ¡å®ƒä»¬çš„è½¬æ¢å…³ç³»ï¼ˆæ¯”å¦‚\(\text{LCM}(a,b) = \frac{ab}{\gcd(a,b)}\)ï¼‰ã€‚  
- **ä»£ç ä¼˜åŒ–**ï¼šé¢„å¤„ç†ã€`swap`æ“ä½œã€`__int128`ç±»å‹çš„ä½¿ç”¨ï¼Œéƒ½æ˜¯è§£å†³å¤§æ•°é—®é¢˜å’Œæé«˜ä»£ç æ•ˆç‡çš„æœ‰æ•ˆæŠ€å·§ã€‚  


## æ€»ç»“  
æœ¬æ¬¡åˆ†æäº†â€œé€’å¢LCMæ’åˆ—â€é—®é¢˜ï¼Œé‡ç‚¹è®²è§£äº†å€’åºæ„é€ çš„æ€æƒ³ã€æ•°å­¦æ¡ä»¶è½¬æ¢çš„æŠ€å·§ï¼Œä»¥åŠC++ä»£ç çš„å®ç°ã€‚é€šè¿‡åƒç´ åŠ¨ç”»æ¼”ç¤ºï¼Œä½ å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°ç®—æ³•çš„æ‰§è¡Œè¿‡ç¨‹ï¼›é€šè¿‡æ‹“å±•ç»ƒä¹ ï¼Œä½ å¯ä»¥å·©å›ºæ‰€å­¦çš„æŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹çš„å…³é”®æ˜¯**æ€è€ƒ**â€”â€”å¤šé—®â€œä¸ºä»€ä¹ˆâ€ï¼Œå¤šè¯•â€œä¸åŒçš„æ–¹æ³•â€ï¼Œä½ ä¼šè¶Šæ¥è¶Šå‰å®³ï¼ğŸ’ª  

ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼

---
å¤„ç†ç”¨æ—¶ï¼š754.86ç§’
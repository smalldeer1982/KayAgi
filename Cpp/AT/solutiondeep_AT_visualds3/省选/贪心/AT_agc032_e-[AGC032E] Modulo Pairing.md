# é¢˜ç›®ä¿¡æ¯

# [AGC032E] Modulo Pairing

## é¢˜ç›®æè¿°

[problemUrl]: https://atcoder.jp/contests/agc032/tasks/agc032_e

$ M $ ã‚’æ­£æ•´æ•°ã¨ã—ã¾ã™ã€‚

$ 2\ N $ å€‹ã®æ•´æ•° $ a_1,\ a_2,\ \ldots,\ a_{2\ N} $ ãŒä¸ãˆã‚‰ã‚Œã¾ã™ã€‚ ã“ã“ã§ã€å„ $ i $ ã«ã¤ã„ã¦ $ 0\ \leq\ a_i\ <\ M $ ã§ã™ã€‚

$ 2\ N $ å€‹ã®æ•´æ•°ã‚’ $ N $ çµ„ã®ãƒšã‚¢ã«åˆ†ã‘ã‚‹ã“ã¨ã‚’è€ƒãˆã¾ã™ã€‚ ã“ã®ã¨ãã€å„æ•´æ•°ã¯ã¡ã‚‡ã†ã© $ 1 $ ã¤ã®ãƒšã‚¢ã«å±ã•ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

ãƒšã‚¢ $ (x,\ y) $ ã® *é†œã•* ã‚’ $ (x\ +\ y)\ \mod\ M $ ã¨å®šç¾©ã—ã¾ã™ã€‚ $ N $ çµ„ã®ãƒšã‚¢ã®é†œã•ã®æœ€å¤§å€¤ã‚’ $ Z $ ã¨ã—ãŸã¨ãã€$ Z $ ã®æœ€å°å€¤ã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚

## è¯´æ˜/æç¤º

### åˆ¶ç´„

- å…¥åŠ›ã¯ã™ã¹ã¦æ•´æ•°ã§ã‚ã‚‹ã€‚
- $ 1\ \leq\ N\ \leq\ 10^5 $
- $ 1\ \leq\ M\ \leq\ 10^9 $
- $ 0\ \leq\ a_i\ <\ M $

### Sample Explanation 1

ä¾‹ãˆã°ã€$ (0,\ 5),\ (2,\ 3),\ (4,\ 9) $ ã¨ãƒšã‚¢ã‚’ä½œã‚Œã°ã‚ˆã„ã§ã™ã€‚ ã“ã®ã¨ãã€ãƒšã‚¢ã®é†œã•ã¯ãã‚Œãã‚Œ $ 5,\ 5,\ 3 $ ã¨ãªã‚Šã¾ã™ã€‚

### Sample Explanation 2

$ (1,\ 9),\ (1,\ 9) $ ã¨ãƒšã‚¢ã‚’ä½œã‚Œã°ã‚ˆã„ã§ã™ã€‚ ã“ã®ã¨ãã€ãƒšã‚¢ã®é†œã•ã¯ã¨ã‚‚ã« $ 0 $ ã§ã™ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3 10

0 2 3 4 5 9```

### è¾“å‡º

```
5```

## æ ·ä¾‹ #2

### è¾“å…¥

```
2 10

1 9 1 9```

### è¾“å‡º

```
0```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šAGC032E Modulo Pairing æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šè´ªå¿ƒç­–ç•¥ + äºŒåˆ†æŸ¥æ‰¾ï¼ˆç»“åˆæ’åºçš„ä¼˜åŒ–åº”ç”¨ï¼‰


### ğŸ—£ï¸ åˆæ­¥åˆ†æ
è§£å†³â€œModulo Pairingâ€çš„å…³é”®ï¼Œåœ¨äº**æ‰¾åˆ°ä¸€ç§é…å¯¹æ–¹å¼ï¼Œè®©æ‰€æœ‰å¯¹çš„â€œä¸‘å€¼â€ï¼ˆå’Œæ¨¡Mï¼‰çš„æœ€å¤§å€¼å°½å¯èƒ½å°**ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæ¯”å–»ï¼šæŠŠ2Nä¸ªæ•°çœ‹æˆæ’é˜Ÿçš„å°æœ‹å‹ï¼Œè¦åˆ†æˆNå¯¹ï¼Œæ¯å¯¹çš„â€œèº«é«˜å’Œâ€æ¨¡Måçš„æœ€å¤§å€¼è¦æœ€å°ã€‚å°±åƒç»™å°æœ‹å‹æ‰¾æ­æ¡£ï¼Œæ—¢è¦è®©é«˜ä¸ªå­å’ŒçŸ®ä¸ªå­é…å¯¹ï¼ˆé¿å…ä¸¤ä¸ªé«˜ä¸ªå­å‡‘ä¸€èµ·å¯¼è‡´å’Œå¤ªå¤§ï¼‰ï¼Œåˆè¦è€ƒè™‘æ¨¡Mçš„æƒ…å†µï¼ˆæ¯”å¦‚å’Œè¶…è¿‡Mæ—¶ï¼Œæ¨¡åçš„å€¼ä¼šå˜å°ï¼‰ã€‚

#### æ ¸å¿ƒç®—æ³•æ€è·¯
1. **æ’åº**ï¼šé¦–å…ˆå°†æ•°ç»„ä»å°åˆ°å¤§æ’åºï¼ˆå°æœ‹å‹æŒ‰èº«é«˜æ’é˜Ÿï¼‰ã€‚  
2. **åˆ†ç•Œç‚¹å‡è®¾**ï¼šæœ€ä¼˜è§£ä¸€å®šå­˜åœ¨ä¸€ä¸ª**åˆ†ç•Œç‚¹**ï¼ŒæŠŠæ•°ç»„åˆ†æˆå·¦å³ä¸¤éƒ¨åˆ†ï¼š  
   - å·¦è¾¹éƒ¨åˆ†çš„é…å¯¹å’Œ**å°äºM**ï¼ˆç”¨è“è‰²çº¿è¿æ¥ï¼Œä¸‘å€¼ä¸ºå’Œæœ¬èº«ï¼‰ï¼›  
   - å³è¾¹éƒ¨åˆ†çš„é…å¯¹å’Œ**å¤§äºç­‰äºM**ï¼ˆç”¨çº¢è‰²çº¿è¿æ¥ï¼Œä¸‘å€¼ä¸ºå’Œå‡Mï¼‰ã€‚  
   ä¸¤è¾¹éƒ½é‡‡ç”¨â€œé¦–å°¾é…å¯¹â€ï¼ˆæœ€å°å’Œæœ€å¤§é…å¯¹ï¼Œæ¬¡å°å’Œæ¬¡å¤§é…å¯¹ï¼‰çš„è´ªå¿ƒç­–ç•¥ï¼Œå› ä¸ºè¿™æ ·èƒ½è®©æ¯å¯¹çš„å’Œå°½å¯èƒ½å¹³å‡ï¼Œä»è€Œæœ€å°åŒ–æœ€å¤§å€¼ã€‚  
3. **äºŒåˆ†åˆ†ç•Œç‚¹**ï¼šåˆ†ç•Œç‚¹çš„ä½ç½®å†³å®šäº†å·¦å³ä¸¤éƒ¨åˆ†çš„å¤§å°ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°**æœ€å°çš„åˆæ³•åˆ†ç•Œç‚¹**ï¼ˆå·¦è¾¹å°½å¯èƒ½å°ï¼Œå³è¾¹å°½å¯èƒ½å¤§ï¼‰ï¼Œå› ä¸ºè¿™æ ·å·¦è¾¹çš„æœ€å¤§å’Œä¸å³è¾¹çš„æœ€å¤§ä¸‘å€¼éƒ½ä¼šæ›´å°ã€‚


#### å¯è§†åŒ–è®¾è®¡æ€è·¯
æˆ‘ä»¬å¯ä»¥ç”¨**8ä½åƒç´ é£æ ¼**ï¼ˆç±»ä¼¼FCæ¸¸æˆï¼‰å±•ç¤ºç®—æ³•è¿‡ç¨‹ï¼š  
- **åœºæ™¯åˆå§‹åŒ–**ï¼šæ’åºåçš„æ•°ç»„ç”¨åƒç´ å—æ’æˆä¸€è¡Œï¼Œæ¯ä¸ªå—æ˜¾ç¤ºæ•°å€¼ï¼ŒèƒŒæ™¯æ˜¯å¤å¤çš„ç½‘æ ¼ã€‚  
- **åˆ†ç•Œç‚¹åŠ¨æ€è°ƒæ•´**ï¼šç”¨é»„è‰²ç«–çº¿æ ‡è®°åˆ†ç•Œç‚¹ï¼Œå·¦å³ä¸¤è¾¹åˆ†åˆ«ç”¨è“è‰²ï¼ˆå’Œ< Mï¼‰ã€çº¢è‰²ï¼ˆå’Œâ‰¥Mï¼‰æ ‡è®°ã€‚  
- **é…å¯¹è¿‡ç¨‹**ï¼šç”¨ç®­å¤´è¿æ¥é¦–å°¾å…ƒç´ ï¼Œé…å¯¹æ—¶æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼›è‹¥å’Œè¶…è¿‡Mï¼Œç®­å¤´å˜æˆçº¢è‰²ï¼ŒåŒæ—¶æ˜¾ç¤ºâ€œ-Mâ€çš„åŠ¨ç”»ã€‚  
- **æœ€å¤§å€¼æ›´æ–°**ï¼šå®æ—¶æ˜¾ç¤ºå½“å‰çš„æœ€å¤§ä¸‘å€¼ï¼Œè‹¥æ›´æ–°åˆ™æ’­æ”¾â€œå—¡â€çš„éŸ³æ•ˆï¼Œæ•°å€¼é—ªçƒæé†’ã€‚  
- **äº¤äº’æ§åˆ¶**ï¼šæ”¯æŒâ€œå•æ­¥æ‰§è¡Œâ€ï¼ˆé€æ­¥è°ƒæ•´åˆ†ç•Œç‚¹ã€é…å¯¹ï¼‰ã€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆå¿«é€Ÿæ¼”ç¤ºæ•´ä¸ªè¿‡ç¨‹ï¼‰ï¼Œä»¥åŠâ€œé‡ç½®â€æŒ‰é’®ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ


### ğŸ“ é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼šå°ç²‰å…”ï¼Œèµï¼š37ï¼‰
**ç‚¹è¯„**ï¼š  
è¿™ä»½é¢˜è§£æ˜¯æœ¬é¢˜çš„â€œæ ‡å‡†ç­”æ¡ˆâ€ï¼Œæ€è·¯æ¸…æ™°ä¸”ä¸¥è°¨ã€‚ä½œè€…é€šè¿‡**è°ƒæ•´æ³•**è¯æ˜äº†æœ€ä¼˜è§£çš„ç»“æ„ï¼ˆåˆ†ç•Œç‚¹+é¦–å°¾é…å¯¹ï¼‰ï¼Œç”¨å››ä¸ªæ•°çš„ä¾‹å­ï¼ˆaâ‰¤bâ‰¤câ‰¤dï¼‰å±•ç¤ºäº†äº¤å‰é…å¯¹ï¼ˆå¦‚(a,c)ã€(b,d)ï¼‰ä¸å¦‚åµŒå¥—é…å¯¹ï¼ˆå¦‚(a,d)ã€(b,c)ï¼‰ä¼˜ï¼Œä»è€Œæ¨å¯¼å‡ºåˆ†ç•Œç‚¹çš„å¿…è¦æ€§ã€‚ä»£ç é€»è¾‘ä¸ç†è®ºå®Œå…¨ä¸€è‡´ï¼Œæ’åºåäºŒåˆ†åˆ†ç•Œç‚¹ï¼Œè®¡ç®—ä¸¤è¾¹çš„æœ€å¤§å€¼ï¼Œæ—¶é—´å¤æ‚åº¦O(N log N)ï¼Œé€‚åˆç«èµ›å‚è€ƒã€‚  
**äº®ç‚¹**ï¼šè°ƒæ•´æ³•çš„è¯æ˜éå¸¸ç›´è§‚ï¼Œè®©å­¦ä¹ è€…ç†è§£â€œä¸ºä»€ä¹ˆé¦–å°¾é…å¯¹æœ€ä¼˜â€ï¼Œè€Œä¸æ˜¯æ­»è®°ç»“è®ºã€‚


### ğŸ“ é¢˜è§£äºŒï¼ˆä½œè€…ï¼šOIer_ljbï¼Œèµï¼š10ï¼‰
**ç‚¹è¯„**ï¼š  
è¿™é“é¢˜çš„â€œç¥çº§çŸ­ä»£ç â€ï¼ä½œè€…å°†æ•°ç»„æ‰©å±•ä¸ºä¸¤å€ï¼ˆæ¯ä¸ªå…ƒç´ å‡å»MååŠ å…¥æ•°ç»„ï¼‰ï¼Œç„¶åç”¨åŒæŒ‡é’ˆä»ä¸­é—´å‘ä¸¤è¾¹æ‰©å±•ï¼Œå¯»æ‰¾åˆæ³•çš„è¿ç»­å­åºåˆ—ã€‚è¿™ç§æ€è·¯è·³å‡ºäº†ä¼ ç»Ÿçš„äºŒåˆ†æ¡†æ¶ï¼Œåˆ©ç”¨æ•°ç»„çš„å•è°ƒæ€§ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºå¯»æ‰¾æœ€é•¿çš„åˆæ³•å­åºåˆ—ï¼Œä»£ç ä»…20è¡Œå·¦å³ï¼Œéå¸¸ç®€æ´ã€‚  
**äº®ç‚¹**ï¼šåˆ›é€ æ€§åœ°æ‰©å±•æ•°ç»„ï¼Œå°†æ¨¡è¿ç®—çš„é—®é¢˜è½¬åŒ–ä¸ºæ™®é€šçš„å’Œé—®é¢˜ï¼ŒåŒæŒ‡é’ˆçš„åº”ç”¨éå¸¸å·§å¦™ï¼Œé€‚åˆå­¦ä¹ â€œå¦‚ä½•å°†å¤æ‚é—®é¢˜ç®€åŒ–â€ã€‚


### ğŸ“ é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šThaumaturgeï¼Œèµï¼š7ï¼‰
**ç‚¹è¯„**ï¼š  
ä½œè€…ä»â€œæ— æ¨¡æƒ…å†µâ€ï¼ˆMæ— ç©·å¤§ï¼‰å…¥æ‰‹ï¼Œæ¨å¹¿åˆ°â€œæœ‰æ¨¡æƒ…å†µâ€ï¼Œåˆ†æäº†æ¨¡è¿ç®—å¯¹é…å¯¹çš„å½±å“ã€‚é€šè¿‡æ¯”è¾ƒä¸åŒé…å¯¹æ–¹å¼çš„æœ€å¤§å€¼ï¼Œå¾—å‡ºâ€œåˆ†ç•Œç‚¹â€çš„ç»“è®ºã€‚ä»£ç ä¸­ä½¿ç”¨äºŒåˆ†æ³•å¯»æ‰¾åˆ†ç•Œç‚¹ï¼Œå¹¶ç”¨è´ªå¿ƒç­–ç•¥è®¡ç®—ä¸¤è¾¹çš„æœ€å¤§å€¼ï¼Œé€»è¾‘æ¸…æ™°ï¼Œæ³¨é‡Šè¯¦ç»†ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚  
**äº®ç‚¹**ï¼šä»ç®€å•æƒ…å†µåˆ°å¤æ‚æƒ…å†µçš„æ¨å¯¼è¿‡ç¨‹ï¼Œå¸®åŠ©å­¦ä¹ è€…å»ºç«‹â€œé—®é¢˜æ¨å¹¿â€çš„æ€ç»´æ–¹å¼ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥


### ğŸ§© æ ¸å¿ƒéš¾ç‚¹1ï¼šè¯æ˜æœ€ä¼˜è§£çš„ç»“æ„ï¼ˆåˆ†ç•Œç‚¹+é¦–å°¾é…å¯¹ï¼‰
**åˆ†æ**ï¼š  
å¾ˆå¤šå­¦ä¹ è€…ä¼šç–‘æƒ‘â€œä¸ºä»€ä¹ˆå¿…é¡»ç”¨é¦–å°¾é…å¯¹ï¼Ÿâ€â€œä¸ºä»€ä¹ˆåˆ†ç•Œç‚¹ä¸€å®šå­˜åœ¨ï¼Ÿâ€ã€‚é¢˜è§£ä¸­ç”¨**è°ƒæ•´æ³•**è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼šå‡è®¾å­˜åœ¨äº¤å‰é…å¯¹ï¼ˆå¦‚(a,c)ã€(b,d)ï¼‰ï¼Œé€šè¿‡è°ƒæ•´ä¸ºåµŒå¥—é…å¯¹ï¼ˆå¦‚(a,d)ã€(b,c)ï¼‰ï¼Œè¯æ˜è°ƒæ•´åçš„æœ€å¤§å€¼ä¸ä¼šå˜å¤§ã€‚ä¾‹å¦‚ï¼Œå¯¹äºaâ‰¤bâ‰¤câ‰¤dï¼Œäº¤å‰é…å¯¹çš„æœ€å¤§å€¼æ˜¯max(a+c, b+d)ï¼Œè€ŒåµŒå¥—é…å¯¹çš„æœ€å¤§å€¼æ˜¯max(a+d, b+c)ï¼Œæ˜¾ç„¶åè€…æ›´å°ï¼ˆå› ä¸ºa+d â‰¤ b+dï¼Œb+c â‰¤ a+cï¼‰ã€‚  
**å­¦ä¹ ç¬”è®°**ï¼šè°ƒæ•´æ³•æ˜¯è´ªå¿ƒé—®é¢˜çš„å¸¸ç”¨è¯æ˜æ–¹æ³•ï¼Œé€šè¿‡å‡è®¾â€œéæœ€ä¼˜è§£â€ï¼Œè°ƒæ•´ä¸ºâ€œæ›´ä¼˜è§£â€ï¼Œä»è€Œè¯æ˜æœ€ä¼˜è§£çš„ç»“æ„ã€‚


### ğŸ§© æ ¸å¿ƒéš¾ç‚¹2ï¼šç¡®å®šåˆ†ç•Œç‚¹çš„ä½ç½®
**åˆ†æ**ï¼š  
åˆ†ç•Œç‚¹çš„ä½ç½®å†³å®šäº†å·¦å³ä¸¤éƒ¨åˆ†çš„å¤§å°ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°**æœ€å°çš„åˆæ³•åˆ†ç•Œç‚¹**ï¼ˆå·¦è¾¹å°½å¯èƒ½å°ï¼Œå³è¾¹å°½å¯èƒ½å¤§ï¼‰ã€‚å› ä¸ºå·¦è¾¹çš„é…å¯¹å’Œ< Mï¼Œå³è¾¹çš„é…å¯¹å’Œâ‰¥Mï¼Œæ‰€ä»¥åˆ†ç•Œç‚¹çš„ä½ç½®æ»¡è¶³å•è°ƒæ€§ï¼ˆè‹¥æŸä¸ªä½ç½®åˆæ³•ï¼Œæ›´å°çš„ä½ç½®ä¹Ÿå¯èƒ½åˆæ³•ï¼‰ã€‚å› æ­¤å¯ä»¥ç”¨**äºŒåˆ†æ³•**å¯»æ‰¾æœ€å°çš„åˆæ³•åˆ†ç•Œç‚¹ã€‚  
**å­¦ä¹ ç¬”è®°**ï¼šäºŒåˆ†æ³•çš„å…³é”®æ˜¯â€œå•è°ƒæ€§â€ï¼Œåªè¦é—®é¢˜æ»¡è¶³â€œå°çš„å¯è¡Œåˆ™æ›´å°çš„ä¹Ÿå¯è¡Œâ€æˆ–â€œå¤§çš„å¯è¡Œåˆ™æ›´å¤§çš„ä¹Ÿå¯è¡Œâ€ï¼Œå°±å¯ä»¥ç”¨äºŒåˆ†æ³•ã€‚


### ğŸ§© æ ¸å¿ƒéš¾ç‚¹3ï¼šå¤„ç†æ¨¡è¿ç®—çš„ä¸¤ç§æƒ…å†µ
**åˆ†æ**ï¼š  
æ¨¡è¿ç®—å°†é…å¯¹å’Œåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼šå’Œ< Mï¼ˆä¸‘å€¼ä¸ºå’Œæœ¬èº«ï¼‰ã€å’Œâ‰¥Mï¼ˆä¸‘å€¼ä¸ºå’Œå‡Mï¼‰ã€‚å³è¾¹çš„é…å¯¹å’Œâ‰¥Mï¼Œæ‰€ä»¥ä¸‘å€¼ä¸ºå’Œå‡Mï¼Œè¿™ç›¸å½“äºâ€œç¼©å°â€äº†å’Œï¼Œå› æ­¤å³è¾¹çš„é…å¯¹å¯ä»¥å°½å¯èƒ½å¤šçš„åŒ…å«å¤§çš„å…ƒç´ ï¼Œä»è€Œå‡å°æ•´ä½“çš„æœ€å¤§å€¼ã€‚  
**å­¦ä¹ ç¬”è®°**ï¼šæ¨¡è¿ç®—çš„å¤„ç†éœ€è¦è€ƒè™‘â€œå’Œçš„èŒƒå›´â€ï¼Œå°†é—®é¢˜æ‹†åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œåˆ†åˆ«è®¡ç®—æœ€å¤§å€¼ã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
1. **æ’åºæ˜¯åŸºç¡€**ï¼šè´ªå¿ƒé—®é¢˜é€šå¸¸éœ€è¦æ’åºï¼Œå› ä¸ºæ’åºåå¯ä»¥æ›´å®¹æ˜“æ‰¾åˆ°æœ€ä¼˜çš„é…å¯¹æ–¹å¼ã€‚  
2. **è°ƒæ•´æ³•è¯æ˜**ï¼šå¯¹äºè´ªå¿ƒç­–ç•¥çš„æ­£ç¡®æ€§ï¼Œè°ƒæ•´æ³•æ˜¯æœ‰æ•ˆçš„è¯æ˜å·¥å…·ã€‚  
3. **äºŒåˆ†æ³•ä¼˜åŒ–**ï¼šå½“é—®é¢˜éœ€è¦å¯»æ‰¾â€œæœ€å°çš„æœ€å¤§å€¼â€æˆ–â€œæœ€å¤§çš„æœ€å°å€¼â€æ—¶ï¼ŒäºŒåˆ†æ³•æ˜¯å¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³•ã€‚  
4. **æ¨¡è¿ç®—æ‹†åˆ†**ï¼šå°†æ¨¡è¿ç®—çš„é—®é¢˜æ‹†åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œåˆ†åˆ«å¤„ç†ï¼Œç®€åŒ–é—®é¢˜ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ


### ğŸ“Œ æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
**è¯´æ˜**ï¼šç»¼åˆå°ç²‰å…”ã€Thaumaturgeçš„é¢˜è§£æ€è·¯ï¼Œæä¾›ä¸€ä¸ªæ¸…æ™°çš„æ ¸å¿ƒå®ç°ã€‚  
**å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

int main() {
    int n, m;
    cin >> n >> m;
    int size = 2 * n;
    vector<int> a(size);
    for (int i = 0; i < size; ++i) {
        cin >> a[i];
    }
    sort(a.begin(), a.end());
    
    int left = 0, right = n;
    int ans = m - 1; // åˆå§‹åŒ–ä¸ºæœ€å¤§å¯èƒ½å€¼ï¼ˆM-1ï¼‰
    
    while (left <= right) {
        int mid = (left + right) / 2;
        int split = 2 * mid; // åˆ†ç•Œç‚¹ï¼ˆå·¦è¾¹æœ‰2*midä¸ªå…ƒç´ ï¼‰
        bool valid = true;
        int current_max = 0;
        
        // æ£€æŸ¥å·¦è¾¹ï¼ˆå‰splitä¸ªå…ƒç´ ï¼‰ï¼šé…å¯¹å’Œ<M
        for (int i = 0; i < split / 2; ++i) {
            int sum = a[i] + a[split - 1 - i];
            if (sum >= m) {
                valid = false;
                break;
            }
            current_max = max(current_max, sum);
        }
        
        // æ£€æŸ¥å³è¾¹ï¼ˆå‰©ä¸‹çš„å…ƒç´ ï¼‰ï¼šé…å¯¹å’Œâ‰¥M
        for (int i = split; i < size - (size - split) / 2; ++i) {
            int j = size - 1 - (i - split);
            int sum = a[i] + a[j];
            if (sum < m) {
                valid = false;
                break;
            }
            current_max = max(current_max, sum - m);
        }
        
        if (valid) {
            ans = min(ans, current_max);
            right = mid - 1; // å°è¯•æ›´å°çš„åˆ†ç•Œç‚¹
        } else {
            left = mid + 1; // åˆ†ç•Œç‚¹å¤ªå°ï¼Œéœ€è¦å¢å¤§
        }
    }
    
    cout << ans << endl;
    return 0;
}
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
1. **è¾“å…¥ä¸æ’åº**ï¼šè¯»å–è¾“å…¥æ•°æ®ï¼Œå°†æ•°ç»„æ’åºã€‚  
2. **äºŒåˆ†åˆ†ç•Œç‚¹**ï¼šäºŒåˆ†æŸ¥æ‰¾æœ€å°çš„åˆæ³•åˆ†ç•Œç‚¹ï¼ˆmidè¡¨ç¤ºå·¦è¾¹æœ‰midå¯¹å…ƒç´ ï¼‰ã€‚  
3. **æ£€æŸ¥åˆæ³•æ€§**ï¼šåˆ†åˆ«æ£€æŸ¥å·¦è¾¹ï¼ˆå‰2*midä¸ªå…ƒç´ ï¼‰å’Œå³è¾¹ï¼ˆå‰©ä¸‹çš„å…ƒç´ ï¼‰çš„é…å¯¹æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼ˆå·¦è¾¹å’Œ< Mï¼Œå³è¾¹å’Œâ‰¥Mï¼‰ã€‚  
4. **æ›´æ–°ç­”æ¡ˆ**ï¼šè‹¥åˆæ³•ï¼Œæ›´æ–°æœ€å°çš„æœ€å¤§ä¸‘å€¼ï¼Œå¹¶å°è¯•æ›´å°çš„åˆ†ç•Œç‚¹ï¼›å¦åˆ™å¢å¤§åˆ†ç•Œç‚¹ã€‚


### ğŸ“Œ é¢˜è§£äºŒï¼ˆOIer_ljbï¼‰ä»£ç ç‰‡æ®µèµæ
**äº®ç‚¹**ï¼šæ‰©å±•æ•°ç»„+åŒæŒ‡é’ˆï¼Œä»£ç æç®€ã€‚  
**æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
int main() {
    scanf("%d%d", &n, &m);
    int nn = n << 1;
    int k = nn << 1;
    for (int i = 1; i <= nn; ++i) {
        scanf("%d", &a[i]);
        a[i + nn] = a[i] - m; // æ‰©å±•æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å‡å»M
    }
    sort(a + 1, a + k + 1);
    int l = nn + 1, r = nn;
    while (r - l + 1 < nn) {
        --l; ++r;
        if (a[l] + a[r] < 0) { // ç›¸å½“äºåŸæ•°ç»„çš„å’Œ<M
            ++l; ++r;
        }
    }
    // è®¡ç®—æœ€å¤§å€¼
    int anss = 0;
    while (l <= r) {
        anss = max(anss, a[l] + a[r]);
        ++l; --r;
    }
    printf("%d", anss);
    return 0;
}
```
**ä»£ç è§£è¯»**ï¼š  
1. **æ‰©å±•æ•°ç»„**ï¼šå°†æ¯ä¸ªå…ƒç´ å‡å»MååŠ å…¥æ•°ç»„ï¼Œè¿™æ ·åŸæ•°ç»„çš„å’Œâ‰¥Mç­‰ä»·äºæ‰©å±•åçš„å’Œâ‰¥0ã€‚  
2. **åŒæŒ‡é’ˆæ‰©å±•**ï¼šä»ä¸­é—´å‘ä¸¤è¾¹æ‰©å±•ï¼Œå¯»æ‰¾æœ€é•¿çš„è¿ç»­å­åºåˆ—ï¼Œä½¿å¾—å­åºåˆ—ä¸­çš„å…ƒç´ ä¸¤ä¸¤é…å¯¹å’Œâ‰¥0ï¼ˆå³åŸæ•°ç»„çš„å’Œâ‰¥Mï¼‰ã€‚  
3. **è®¡ç®—æœ€å¤§å€¼**ï¼šå¯¹å­åºåˆ—ä¸­çš„å…ƒç´ é¦–å°¾é…å¯¹ï¼Œè®¡ç®—æœ€å¤§å€¼ï¼ˆå³åŸæ•°ç»„çš„ä¸‘å€¼ï¼‰ã€‚  
**å­¦ä¹ ç¬”è®°**ï¼šæ‰©å±•æ•°ç»„æ˜¯ä¸€ç§å·§å¦™çš„æŠ€å·§ï¼Œå°†æ¨¡è¿ç®—çš„é—®é¢˜è½¬åŒ–ä¸ºæ™®é€šçš„å’Œé—®é¢˜ï¼Œç®€åŒ–äº†åˆ¤æ–­æ¡ä»¶ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)


### ğŸ® åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šåƒç´ å°æœ‹å‹æ‰¾æ­æ¡£
**é£æ ¼**ï¼š8ä½åƒç´ é£æ ¼ï¼ˆç±»ä¼¼ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹ï¼‰ï¼ŒèƒŒæ™¯ä¸ºå¤å¤çš„ç½‘æ ¼ï¼Œå…ƒç´ ä¸ºå½©è‰²åƒç´ å—ï¼ˆæ•°å€¼æ˜¾ç¤ºåœ¨å—ä¸Šï¼‰ã€‚  
**æ ¸å¿ƒæ¼”ç¤ºå†…å®¹**ï¼š  
1. **æ’åºè¿‡ç¨‹**ï¼šåƒç´ å°æœ‹å‹æŒ‰èº«é«˜ï¼ˆæ•°å€¼ï¼‰æ’é˜Ÿï¼Œä»ä¹±åºåˆ°æœ‰åºï¼Œæ’­æ”¾â€œå”°â€çš„éŸ³æ•ˆã€‚  
2. **åˆ†ç•Œç‚¹è°ƒæ•´**ï¼šç”¨é»„è‰²ç«–çº¿æ ‡è®°åˆ†ç•Œç‚¹ï¼Œå·¦å³ä¸¤è¾¹åˆ†åˆ«ç”¨è“è‰²ï¼ˆå’Œ< Mï¼‰ã€çº¢è‰²ï¼ˆå’Œâ‰¥Mï¼‰æ ‡è®°ã€‚æ‹–åŠ¨åˆ†ç•Œç‚¹æ—¶ï¼Œå®æ—¶æ˜¾ç¤ºä¸¤è¾¹çš„é…å¯¹æƒ…å†µã€‚  
3. **é…å¯¹è¿‡ç¨‹**ï¼šç”¨ç®­å¤´è¿æ¥é¦–å°¾å…ƒç´ ï¼Œé…å¯¹æ—¶æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼›è‹¥å’Œè¶…è¿‡Mï¼Œç®­å¤´å˜æˆçº¢è‰²ï¼ŒåŒæ—¶æ˜¾ç¤ºâ€œ-Mâ€çš„åŠ¨ç”»ï¼ˆå¦‚åƒç´ å—å‡å°‘Mï¼‰ã€‚  
4. **æœ€å¤§å€¼æ›´æ–°**ï¼šå³ä¸Šè§’æ˜¾ç¤ºå½“å‰çš„æœ€å¤§ä¸‘å€¼ï¼Œè‹¥æ›´æ–°åˆ™æ’­æ”¾â€œå—¡â€çš„éŸ³æ•ˆï¼Œæ•°å€¼é—ªçƒï¼ˆå¦‚é»„è‰²èƒŒæ™¯ï¼‰ã€‚  
5. **è‡ªåŠ¨æ¼”ç¤º**ï¼šç‚¹å‡»â€œè‡ªåŠ¨æ’­æ”¾â€æŒ‰é’®ï¼ŒåŠ¨ç”»ä¼šè‡ªåŠ¨è°ƒæ•´åˆ†ç•Œç‚¹ï¼Œæ‰¾åˆ°æœ€ä¼˜è§£ï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆå¦‚ã€Šé­‚æ–—ç½—ã€‹çš„é€šå…³éŸ³ä¹ï¼‰ã€‚


### ğŸ› ï¸ æŠ€æœ¯å®ç°ç»†èŠ‚
- **Canvasç»˜åˆ¶**ï¼šç”¨`ctx.fillRect`ç»˜åˆ¶åƒç´ å—ï¼Œ`ctx.strokeStyle`ç»˜åˆ¶ç®­å¤´ï¼Œ`ctx.fillText`æ˜¾ç¤ºæ•°å€¼ã€‚  
- **é¢œè‰²æ–¹æ¡ˆ**ï¼šæ’åºåçš„å…ƒç´ ç”¨ç»¿è‰²ï¼Œåˆ†ç•Œç‚¹ç”¨é»„è‰²ï¼Œè“è‰²é…å¯¹ç”¨æµ…è“è‰²ï¼Œçº¢è‰²é…å¯¹ç”¨æµ…çº¢è‰²ï¼Œæœ€å¤§å€¼ç”¨é»„è‰²ã€‚  
- **éŸ³æ•ˆè®¾è®¡**ï¼šç”¨`Audio`å¯¹è±¡æ’­æ”¾8ä½éŸ³æ•ˆï¼ˆå¦‚â€œå®â€ç”¨`beep.mp3`ï¼Œâ€œå—¡â€ç”¨`boop.mp3`ï¼Œèƒœåˆ©ç”¨`win.mp3`ï¼‰ã€‚  
- **äº¤äº’æ§åˆ¶**ï¼šç”¨HTMLæŒ‰é’®å®ç°â€œå•æ­¥æ‰§è¡Œâ€â€œè‡ªåŠ¨æ’­æ”¾â€â€œé‡ç½®â€ï¼Œç”¨æ»‘å—è°ƒæ•´è‡ªåŠ¨æ’­æ”¾é€Ÿåº¦ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ


### ğŸ§  é€šç”¨æ€è·¯è¿ç§»
æœ¬é¢˜çš„æ ¸å¿ƒæ€è·¯ï¼ˆè´ªå¿ƒ+äºŒåˆ†+æ’åºï¼‰å¯ç”¨äºè§£å†³**æœ€å°åŒ–æœ€å¤§å€¼**çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼š  
1. **åŒºé—´è°ƒåº¦**ï¼šå°†ä»»åŠ¡åˆ†é…ç»™æœºå™¨ï¼Œæœ€å°åŒ–æœ€å¤§å®Œæˆæ—¶é—´ï¼ˆè´ªå¿ƒé…å¯¹æœ€çŸ­å’Œæœ€é•¿ä»»åŠ¡ï¼‰ã€‚  
2. **èƒŒåŒ…é—®é¢˜**ï¼šå°†ç‰©å“åˆ†æˆä¸¤ç»„ï¼Œæœ€å°åŒ–ä¸¤ç»„é‡é‡çš„æœ€å¤§å€¼ï¼ˆäºŒåˆ†é‡é‡ï¼Œè´ªå¿ƒåˆ†é…ï¼‰ã€‚  
3. **æ’åºä¸ç­‰å¼**ï¼šå°†ä¸¤ä¸ªæ•°ç»„é…å¯¹ï¼Œæœ€å°åŒ–æœ€å¤§ä¹˜ç§¯å’Œï¼ˆæ’åºåé€†åºé…å¯¹ï¼‰ã€‚


### ğŸ“š æ´›è°·ç»ƒä¹ æ¨è
1. **æ´›è°· P1803 çº¿æ®µè¦†ç›–**ï¼š  
   - æ¨èç†ç”±ï¼šç»ƒä¹ è´ªå¿ƒç­–ç•¥ï¼ˆæ’åºåé€‰æ‹©ç»“æŸæ—¶é—´æœ€æ—©çš„çº¿æ®µï¼‰ï¼Œç†è§£â€œæœ€å°åŒ–æœ€å¤§æ•°é‡â€çš„æ€è·¯ã€‚  
2. **æ´›è°· P2240 éƒ¨åˆ†èƒŒåŒ…é—®é¢˜**ï¼š  
   - æ¨èç†ç”±ï¼šç»ƒä¹ äºŒåˆ†æ³•ï¼ˆäºŒåˆ†æœ€å¤§ä»·å€¼ï¼‰ï¼Œç»“åˆè´ªå¿ƒç­–ç•¥ï¼ˆä¼˜å…ˆé€‰ä»·å€¼å¯†åº¦é«˜çš„ç‰©å“ï¼‰ã€‚  
3. **æ´›è°· P3620 æ•°æ®å¤‡ä»½**ï¼š  
   - æ¨èç†ç”±ï¼šç»ƒä¹ è´ªå¿ƒ+å †ä¼˜åŒ–ï¼ˆé€‰æ‹©ç›¸é‚»å…ƒç´ çš„æœ€å°å·®ï¼‰ï¼Œç†è§£â€œæœ€å°åŒ–æœ€å¤§å·®â€çš„é—®é¢˜ã€‚  
4. **æ´›è°· P4053 æ¶ˆé˜²**ï¼š  
   - æ¨èç†ç”±ï¼šç»ƒä¹ äºŒåˆ†æ³•ï¼ˆäºŒåˆ†æœ€å¤§è·ç¦»ï¼‰ï¼Œç»“åˆæ ‘å½¢DPï¼ˆè®¡ç®—å­æ ‘ä¸­çš„æœ€é•¿è·¯å¾„ï¼‰ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)


### ğŸ“ æ¥è‡ªé¢˜è§£çš„ç»éªŒ
- **å°ç²‰å…”**ï¼šâ€œè°ƒæ•´æ³•æ˜¯è´ªå¿ƒé—®é¢˜çš„å…³é”®ï¼Œé€šè¿‡å‡è®¾éæœ€ä¼˜è§£ï¼Œè°ƒæ•´ä¸ºæ›´ä¼˜è§£ï¼Œä»è€Œè¯æ˜ç»“è®ºã€‚â€  
  **ç‚¹è¯„**ï¼šè°ƒæ•´æ³•å¸®åŠ©æˆ‘ä»¬ç†è§£â€œä¸ºä»€ä¹ˆé¦–å°¾é…å¯¹æœ€ä¼˜â€ï¼Œè€Œä¸æ˜¯æ­»è®°ç»“è®ºã€‚åœ¨é‡åˆ°è´ªå¿ƒé—®é¢˜æ—¶ï¼Œä¸å¦¨å°è¯•ç”¨è°ƒæ•´æ³•è¯æ˜ç­–ç•¥çš„æ­£ç¡®æ€§ã€‚  
- **OIer_ljb**ï¼šâ€œæ‰©å±•æ•°ç»„æ˜¯è§£å†³æ¨¡è¿ç®—é—®é¢˜çš„å·§å¦™æŠ€å·§ï¼Œå°†å¤æ‚çš„æ¡ä»¶è½¬åŒ–ä¸ºç®€å•çš„å’Œåˆ¤æ–­ã€‚â€  
  **ç‚¹è¯„**ï¼šæ‰©å±•æ•°ç»„çš„æ€è·¯å¯ä»¥æ¨å¹¿åˆ°å…¶ä»–æ¨¡è¿ç®—é—®é¢˜ï¼Œä¾‹å¦‚å°†â€œå’Œâ‰¥Mâ€è½¬åŒ–ä¸ºâ€œå’Œ-Mâ‰¥0â€ï¼Œç®€åŒ–åˆ¤æ–­æ¡ä»¶ã€‚  
- **Thaumaturge**ï¼šâ€œä»ç®€å•æƒ…å†µæ¨å¹¿åˆ°å¤æ‚æƒ…å†µï¼Œæ˜¯è§£å†³é—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•ã€‚â€  
  **ç‚¹è¯„**ï¼šå…ˆè€ƒè™‘æ— æ¨¡æƒ…å†µï¼ˆMæ— ç©·å¤§ï¼‰ï¼Œå†æ¨å¹¿åˆ°æœ‰æ¨¡æƒ…å†µï¼Œå¸®åŠ©æˆ‘ä»¬å»ºç«‹é—®é¢˜çš„æ€ç»´æ¡†æ¶ã€‚


## ğŸ“ æ€»ç»“
æœ¬æ¬¡åˆ†æäº†AGC032Eçš„æ ¸å¿ƒæ€è·¯ï¼ˆè´ªå¿ƒ+äºŒåˆ†+æ’åºï¼‰ï¼Œå¹¶é€šè¿‡ä¼˜è´¨é¢˜è§£ã€ä»£ç èµæã€å¯è§†åŒ–è®¾è®¡ç­‰éƒ¨åˆ†ï¼Œå¸®åŠ©å­¦ä¹ è€…ç†è§£ç®—æ³•çš„æ‰§è¡Œè¿‡ç¨‹å’Œå…³é”®æŠ€å·§ã€‚è®°ä½ï¼Œ**æ’åºæ˜¯è´ªå¿ƒçš„åŸºç¡€ï¼Œè°ƒæ•´æ³•æ˜¯è¯æ˜çš„å…³é”®ï¼ŒäºŒåˆ†æ³•æ˜¯ä¼˜åŒ–çš„å·¥å…·**ï¼Œè¿™äº›æŠ€å·§å¯ä»¥åº”ç”¨åˆ°å¾ˆå¤šç±»ä¼¼çš„é—®é¢˜ä¸­ã€‚å¸Œæœ›å¤§å®¶é€šè¿‡ç»ƒä¹ ï¼Œèƒ½å¤Ÿä¸¾ä¸€åä¸‰ï¼Œè§£å†³æ›´å¤šçš„ç¼–ç¨‹é—®é¢˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š266.29ç§’
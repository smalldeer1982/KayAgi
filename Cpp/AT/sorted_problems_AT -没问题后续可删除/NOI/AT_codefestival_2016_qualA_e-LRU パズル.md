---
title: "LRU パズル"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_codefestival_2016_qualA_e
tag: []
---

# LRU パズル

## 题目描述

### 题目翻译
给出 $N$ 个长为 $M$ 的数组，刚开始每个数组里面都是 $(1,2,3,\cdot\cdot\cdot,M)$ 。给出一个长为 $Q$ 的操作序列 $a$ ，其中 $a_i$ 表示对于一个数组，我们把 $a_i$ 这个数提到第一位。我们要顺次执行完所有的操作，每次操作可以对任意一个数组施加，求能否使操作完后所有的数组都相同。

## 输入格式

```
N M 
Q
a_1 a_2 a_3 ... a_Q
```

## 输出格式

如果可能使数组都相同，输出 `Yes` ，否则输出 `No` 。

## 说明/提示

$2\le N,M\le10^5,1\le Q\le10^5,1\le a_i\le M$

## 样例 #1

### 输入

```
2 2
3
2 1 2
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
3 2
3
2 1 2
```

### 输出

```
No
```

## 样例 #3

### 输入

```
2 3
3
3 2 1
```

### 输出

```
Yes
```

## 样例 #4

### 输入

```
3 3
6
1 2 2 3 3 3
```

### 输出

```
No
```


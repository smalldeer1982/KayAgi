---
title: "串焼きパーティ"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_tenka1_2016_final_e
tag: []
---

# 串焼きパーティ

## 题目描述

天下一君准备好了 $ N $ 块肉。每块肉的形状为横 $ L $ 厘米、纵 $ 1 $ 厘米的长条，可以划分为 $ L $ 个 $ 1 $ 厘米的小部分。每个部分都有一个确定的硬度，第 $ i $ 块肉的第 $ j $ 个部分的硬度记作 $ a_{i,j} $。这些肉按从上到下的顺序排列，左端对齐。

天下一君希望用一根竖直的细串将所有的肉串在一起，为此可以进行以下操作：

1. 任意一块肉可以向左或向右平移 $ k $ 厘米，$ k $ 必须是整数。每平移一次，代价为 $ k^2 $。但同一块肉只能平移一次。
2. 在平移后，可以选定某个位置垂直插入一根细串。串必须穿过所有的肉块，每块肉被穿刺的部分对应该部分的硬度将作为额外的代价。

你需要计算并找出使总代价最小的方案。

## 输入格式

输入通过标准输入给出，格式如下：

> $ N $ $ L $ $ a_{1,1} $ … $ a_{1,L} $ : $ a_{N,1} $ … $ a_{N,L} $

## 输出格式

输出能够将 $ N $ 块肉串起来的最小总代价。

## 说明/提示

### 限制条件

- $ 1 \leq N \leq 100 $
- $ 1 \leq L \leq 10000 $
- $ 1 \leq a_{i,j} \leq 10^9 $

### 示例解释

通过将第一块肉向右移动 $ 1 $ 厘米，第二块肉向左移动 $ 1 $ 厘米，然后在第一块肉的第一个部分插入串，移动代价为 $ 1 + 1 $，而穿刺后的硬度代价为 $ 1 + 1 $，总代价为 $ 4 $。在确保所有肉块被串起的前提下，这已经是最小的代价了。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
2 3
1 5 6
5 3 1
```

### 输出

```
4
```

## 样例 #2

### 输入

```
3 4
1 3 5 2
8 3 5 7
3 5 1 4
```

### 输出

```
7
```

## 样例 #3

### 输入

```
4 5
8 12 20 9 15
5 4 8 15 12
20 18 10 3 9
15 7 13 14 4
```

### 输出

```
25
```


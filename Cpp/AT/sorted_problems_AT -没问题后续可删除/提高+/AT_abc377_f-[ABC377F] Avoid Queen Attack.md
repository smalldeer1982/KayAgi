---
title: "[ABC377F] Avoid Queen Attack"
layout: "post"
diff: 提高+/省选-
pid: AT_abc377_f
tag: ['容斥原理']
---

# [ABC377F] Avoid Queen Attack

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc377/tasks/abc377_f

縦 $ N $ マス、横 $ N $ マスの $ N\ ^\ 2 $ マスからなるマス目があります。 上から $ i $ 行目 $ (1\leq\ i\leq\ N) $ 、左から $ j $ 列目 $ (1\leq\ j\leq\ N) $ のマスをマス $ (i,j) $ と呼ぶことにします。

それぞれのマスは、空マスであるかコマが置かれているかのどちらかです。 マス目には合計で $ M $ 個のコマが置かれており、$ k $ 番目 $ (1\leq\ k\leq\ M) $ のコマはマス $ (a\ _\ k,b\ _\ k) $ に置かれています。

あなたは、すでに置かれている**どのコマにも取られないように**、いずれかの**空マス**に自分のコマを置きたいです。

マス $ (i,j) $ に置かれているコマは、次のどれかの条件を満たすコマを取ることができます。

- $ i $ 行目に置かれている
- $ j $ 列目に置かれている
- $ i+j=a+b $ となるようなマス $ (a,b)\ (1\leq\ a\leq\ N,1\leq\ b\leq\ N) $ に置かれている
- $ i-j=a-b $ となるようなマス $ (a,b)\ (1\leq\ a\leq\ N,1\leq\ b\leq\ N) $ に置かれている
 
たとえば、マス $ (4,4) $ に置かれているコマは、以下の図で青く示されたマスに置かれているコマを取ることができます。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_abc377_f/8d18db86e94185f3231deea439fe06a4aa9df2f8.png)

あなたがコマを置くことができるマスがいくつあるか求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ a\ _\ 1 $ $ b\ _\ 1 $ $ a\ _\ 2 $ $ b\ _\ 2 $ $ \vdots $ $ a\ _\ M $ $ b\ _\ M $

## 输出格式

すでに置かれているコマに取られずに自分のコマを置くことができる空マスの個数を出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\leq10\ ^\ 9 $
- $ 1\leq\ M\leq10\ ^\ 3 $
- $ 1\leq\ a\ _\ k\leq\ N,1\leq\ b\ _\ k\leq\ N\ (1\leq\ k\leq\ M) $
- $ (a\ _\ k,b\ _\ k)\neq(a\ _\ l,b\ _\ l)\ (1\leq\ k\lt\ l\leq\ M) $
- 入力はすべて整数
 
### Sample Explanation 1

すでに置かれているコマは、以下の図で青く示されたマスに置かれたコマを取ることができます。 !\[\](https://img.atcoder.jp/abc377/49766c3613371e99673e5722bd64ad58.png) よって、あなたがすでに置かれているコマに取られないように自分のコマを置くことができるマスはマス $ (6,6) $ とマス $ (7,7) $ の $ 2 $ つです。

### Sample Explanation 2

$ 10\ ^\ {18} $ マスのうち、置くことができないマスは $ 1 $ 行目のマス、$ 1 $ 列目のマス、およびマス $ (1,1), $ マス $ (2,2),\ldots, $ マス $ (10\ ^\ 9,10\ ^\ 9) $ の $ 3\times10\ ^\ 9-2 $ マスです。 答えが $ 2\ ^\ {32} $ 以上になる場合があることに注意してください。

## 样例 #1

### 输入

```
8 6
1 4
2 1
3 8
4 5
5 2
8 3
```

### 输出

```
2
```

## 样例 #2

### 输入

```
1000000000 1
1 1
```

### 输出

```
999999997000000002
```

## 样例 #3

### 输入

```
20 10
1 4
7 11
7 15
8 10
11 6
12 5
13 1
15 2
20 10
20 15
```

### 输出

```
77
```


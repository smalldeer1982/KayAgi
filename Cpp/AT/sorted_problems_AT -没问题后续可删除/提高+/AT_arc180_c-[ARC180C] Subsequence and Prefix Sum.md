---
title: "[ARC180C] Subsequence and Prefix Sum"
layout: "post"
diff: 提高+/省选-
pid: AT_arc180_c
tag: ['动态规划 DP']
---

# [ARC180C] Subsequence and Prefix Sum

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc180/tasks/arc180_c

長さ $ N $ の整数列 $ A=(A_1,A_2,\cdots,A_N) $ が与えられます．

あなたは以下の操作をちょうど $ 1 $ 回行います．

- $ A $ の (連続とは限らない) 非空な部分列を選び，それを累積和で置き換える． より正確に述べれば，まず $ 1\ \leq\ i_1\ <\ i_2\ <\ \cdots\ <\ i_k\ \leq\ N $ を満たす添字の列 $ (i_1,i_2,\cdots,i_k) $ を選ぶ． 列の長さ $ k $ ($ 1\ \leq\ k\ \leq\ N $) も自由に選べる． その後，各 $ j $ ($ 1\ \leq\ j\ \leq\ k $) について，$ A_{i_j} $ の値を $ \sum_{1\ \leq\ x\ \leq\ j}\ A_{i_x} $ で置き換える． この置き換えはすべて同時に行う．
 
操作後の $ A $ としてあり得る数列の個数を $ 10^9+7 $ で割ったあまりを求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ A_1 $ $ A_2 $ $ \cdots $ $ A_N $

## 输出格式

答えを出力せよ．

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 100 $
- $ -10\ \leq\ A_i\ \leq\ 10 $
- 入力される値はすべて整数
 
### Sample Explanation 1

操作後の $ A $ としてありうるのは以下の $ 4 $ 通りです． - $ A=(1,1,2) $: $ k=1 $, $ (i_1)=(1) $ とすれば達成できます． - $ A=(1,2,2) $: $ k=2 $, $ (i_1,i_2)=(1,2) $ とすれば達成できます． - $ A=(1,1,3) $: $ k=2 $, $ (i_1,i_2)=(1,3) $ とすれば達成できます． - $ A=(1,2,4) $: $ k=3 $, $ (i_1,i_2,i_3)=(1,2,3) $ とすれば達成できます．

## 样例 #1

### 输入

```
3
1 1 2
```

### 输出

```
4
```

## 样例 #2

### 输入

```
4
1 -1 1 -1
```

### 输出

```
8
```

## 样例 #3

### 输入

```
5
0 0 0 0 0
```

### 输出

```
1
```

## 样例 #4

### 输入

```
40
2 -2 1 3 -3 -1 -2 -3 0 -1 -2 0 -3 0 0 2 0 -1 2 -2 -2 -1 3 -2 -2 -2 2 3 2 -3 0 -2 2 1 3 0 -1 0 -2 -3
```

### 输出

```
420429545
```


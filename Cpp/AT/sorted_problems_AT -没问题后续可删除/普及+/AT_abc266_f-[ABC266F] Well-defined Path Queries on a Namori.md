---
title: "[ABC266F] Well-defined Path Queries on a Namori"
layout: "post"
diff: 普及+/提高
pid: AT_abc266_f
tag: []
---

# [ABC266F] Well-defined Path Queries on a Namori

## 题目描述

给定一张有 $N$ 个点、$N$ 条边的简单连通无向图和 $Q$ 次询问，对于每次询问，给定 $x_i,y_i$，表示两点的编号，请你回答第 $x_i$ 个点和第 $y_i$ 个点之间是否**有且仅有**一条简单路径。

+ 什么是简单路径？

如果路径上的各顶点均不重复，则称这样的路径为简单路径。

## 输入格式

第一行包含一个整数 $N$；

接下来 $N$ 行，每行两个整数 $u_i,v_i$，表示第 $i$ 条边连接的两个点；

再接下来一行包含一个整数 $Q$；

## 输出格式

对于每次询问，输出一个字符串 `Yes` 或 `No`，分别表示两点之间是否仅存在一条简单路径，每个询问分别输出一行。

### 样例

见原题面。

### 样例解析

样例 #1 解析：

对于第一次询问，从 $1$ 到 $2$ 有两条简单路径 $(1,2)$、$(1,3,2)$，所以输出 `No`。

对于第二次询问，从 $1$ 到 $4$ 仅有一条路径 $(1,4)$，所以输出 `Yes`。

对于第三次询问，从 $1$ 到 $5$ 有两条简单路径 $(1,2,5)$、$(1,3,2,5)$，所以输出 `No`。

## 说明/提示

对于 $30\%$ 的数据，$N \le 100$，$Q \le \frac{N(N-1)}{2}$；

对于 $100\%$ 的数据，$3 \le N \le 2 \times 10^5$，$1 \le u_i<v_i \le N$，$1 \le Q \le 2 \times 10^5$，$1 \le x_i < y_i \le N$，保证图没有重边或自环，且给定询问均不重复。

翻译 by @CarroT1212

## 样例 #1

### 输入

```
5
1 2
2 3
1 3
1 4
2 5
3
1 2
1 4
1 5
```

### 输出

```
No
Yes
No
```

## 样例 #2

### 输入

```
10
3 5
5 7
4 8
2 9
1 2
7 9
1 6
4 10
2 5
2 10
10
1 8
6 9
8 10
6 8
3 10
3 9
1 10
5 8
1 10
7 8
```

### 输出

```
Yes
No
Yes
Yes
No
No
Yes
No
Yes
No
```


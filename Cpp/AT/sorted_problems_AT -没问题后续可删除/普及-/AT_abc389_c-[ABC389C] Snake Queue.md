---
title: "[ABC389C] Snake Queue"
layout: "post"
diff: 普及-
pid: AT_abc389_c
tag: []
---

# [ABC389C] Snake Queue

## 题目描述

### 题目大意

有一个空的蛇队列。

有 $Q$ 个查询，查询有三种类型：

- 类型 $1$：以 `1 l` 的形式给出。一条长度为 $l$ 的蛇被添加到队列的末尾。如果添加前队列为空，则新加入的蛇的头部位置为 $0$ ；否则，它的头部位置是队列中最后一条蛇的头部坐标与该蛇长度的总和。
- 类型 $2$：以 `2` 的形式给出。队列最前面的蛇离开队列。保证此时队列不是空的。假设 $m$ 是离开队列的蛇的长度，那么队列中剩余的每条蛇的头部坐标都会减少 $m$。
- 类型 $3$：以 `3 k` 的形式给出。输出第 $k$ 条蛇的蛇头坐标。

## 输入格式

输入内容由标准输入法提供，格式如下：


>$Q$
>
>$\text{query}_1$
>
>$\text{query}_2$
>
>$\vdots$
>
>$\text{query}_Q$


这里，$\text{query}_i$ 是第 $i$ 个查询，格式如下：

>$1$ $l$
>
>$2$
>
>$3$ $k$

## 输出格式

设 $q$ 为 $3$ 类型的查询次数，输出 $q$ 行，第 $i$ 行为第 $i$ 个 $3$ 查询的回答。

**Translate by [HG27895](https://www.luogu.com.cn/user/974959)。**

## 说明/提示

- $1 \leq Q \leq 3 \times 10^{5}$
- 对于 $1$ 查询，$1 \leq l \leq 10^{9}$，保证队列不为空。
- 对于 $2$ 查询，保证队列不为空。
- 对于 $3$ 查询，假设 $n$ 是队列中的蛇的数量，那么 $1 \leq k \leq n$。
- 所有输入均为整数。

## 样例 #1

### 输入

```
7
1 5
1 7
3 2
1 3
1 4
2
3 3
```

### 输出

```
5
10
```

## 样例 #2

### 输入

```
3
1 1
2
1 3
```

### 输出

```

```

## 样例 #3

### 输入

```
10
1 15
1 10
1 5
2
1 5
1 10
1 15
2
3 4
3 2
```

### 输出

```
20
5
```


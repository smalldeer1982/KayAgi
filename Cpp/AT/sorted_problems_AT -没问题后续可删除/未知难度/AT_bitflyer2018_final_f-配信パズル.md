---
title: "配信パズル"
layout: "post"
diff: 难度0
pid: AT_bitflyer2018_final_f
tag: []
---

# 配信パズル

## 题目描述

Snuke 君打算在 $Q$ 天内，每天解决一道特定的谜题。

- 每日清晨，Snuke 君的设备会收到一个 $H$ 行 $W$ 列的网格。格子会被涂成白色或黑色。第 $i+1$ 天($1 \le i \le Q-1$)收到的网格，相较于第 $i$ 天的，只是在第 $r_i$ 行第 $c_i$ 列的格子进行了一次颜色反转。
- 对于每天收到的网格，Snuke 君可以进行一次操作，选择一个矩形区域并将其中所有格子的颜色反转。
- 之后，他可以选定任意一行或一列，进行任意次整体颜色反转。
- 他的目标是让网格内所有的格子颜色一致。

Snuke 君观察敏锐，意识到某些网格可能无法通过操作实现这一目标。因此，他请你来判断每日的网格是否有可能通过上述操作使得所有格子颜色一致。

第一天收到的网格中，如第 $i$ 行第 $j$ 列的格子是 `.` 则为白色，若是 `#` 则为黑色。

## 输入格式

输入通过标准输入给出，格式如下：

> $H$ $W$ $Q$ $s_{11}s_{12}...s_{1W}$ : $s_{H1}s_{H2}...s_{HW}$ $r_1$ $c_1$ : $r_{Q-1}$ $c_{Q-1}$

## 输出格式

输出 $Q$ 行。针对第 $i$ 天的网格，如果存在一种方法可以使所有格子颜色一致，则输出 `Yes`；否则输出 `No`。

## 说明/提示

### 约束条件

- $1 \le H \le 2,000$
- $1 \le W \le 2,000$
- $1 \le Q \le 300,000$
- $s_{ij}$ 是 `.` 或 `#`
- $1 \le r_i \le H$ ($1 \le i \le Q-1$)
- $1 \le c_i \le W$ ($1 \le i \le Q-1$)

### 样例说明 1

第四天的网格是一个可以通过操作使所有格子同色的例子。

网格如图：
```
...#
..#.
##.#
```

可以通过以下步骤将所有格子变为白色：
1. 反转右下角 $2 \times 2$ 的矩形区域。
2. 反转第三行的所有格子。
3. 反转第四列的所有格子。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
3 4 4
...#
.###
.#.#
3 1
2 4
2 2
```

### 输出

```
No
No
No
Yes
```

## 样例 #2

### 输入

```
4 4 5
####
####
....
####
2 2
3 2
2 3
3 3
```

### 输出

```
Yes
Yes
Yes
No
Yes
```


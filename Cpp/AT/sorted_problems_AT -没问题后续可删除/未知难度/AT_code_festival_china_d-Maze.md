---
title: "Maze"
layout: "post"
diff: 难度0
pid: AT_code_festival_china_d
tag: []
---

# Maze

## 题目描述

你将在一个由 $H$ 行 $W$ 列组成的迷宫中寻找路径。迷宫包含一个起点和两个终点。每个位置可能是起点、终点、通路或障碍。地图的每个坐标 $(r, c)$ 表示从上到下第 $r$ 行、从左到右第 $c$ 列的单元格。

### 输入格式

第一行包含两个整数 $H$ 和 $W$，表示迷宫的高度和宽度，满足 $1 \leq H, W \leq 50$。

接下来的 $H$ 行，每行是一个长度为 $W$ 的字符串，表示迷宫的地图：

- `.` 表示该位置为通路。
- `#` 表示该位置是障碍。
- `S` 表示起点。
- `A` 表示第一个终点。
- `B` 表示第二个终点。

保证输入中的字符 `S`, `A`, `B` 各自出现一次，并且每个终点都至少有一条可行路径可以到达。

### 输出格式

如果无法找到满足条件的路径，输出 `NA`。

如果找到符合条件的路径，输出 $H$ 行，每行包含 $W$ 个字符，表示迷宫状态：

- 输入中的通路位置在输出中可以是 `.`、`a` 或 `b`。
- 输入中的起点、障碍和终点位置在输出中必须保持不变。
- 从起点到 `A` 的路径只能通过相邻的 `a` 单元格到达，并且使用的 `a` 单元格数量必须最少。
- 从起点到 `B` 的路径只能通过相邻的 `b` 单元格到达，并且使用的 `b` 单元格数量必须最少。

换句话说，用 `a` 和 `b` 标记分别从起点到 `A` 和 `B` 的两条最短路径。允许有多个解，你可以任选其一。

请确保输出的最后有一个换行符。

### 数据范围与提示

迷宫中指定了 $1$ 个起点和 $2$ 个终点。你需要画出从起点分别到达每个终点的最短路径。路径指从起点延伸到终点的单元格序列，且不穿过任何障碍，每对相邻的单元格都是相连的。

路径必须满足以下条件：

- 每条路径是最短路径，也就是说，节点数量最少。
- 路径之间不能共享除起点外的任何单元格。

请判断是否能画出符合要求的路径，并输出这些路径。如果不能，则输出 `NA`。

### 示例解释

例如，在某些情况下，终点 `A` 和 `B` 之间无法绘制两个不相交的最短路径，这时应输出 `NA`。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
5 5
..#..
.B.A#
...#.
.....
..S#.
```

### 输出

```
..#..
.BaA#
.ba#.
.ba..
.bS#.
```

## 样例 #2

### 输入

```
2 3
SBA
...
```

### 输出

```
NA
```

## 样例 #3

### 输入

```
5 5
..#..
.B.A#
.#.#.
.....
..S#.
```

### 输出

```
NA
```

## 样例 #4

### 输入

```
5 8
.#...#..
.#.#.#..
.S.#...B
.#####A.
........
```

### 输出

```
.#bbb#..
.#b#b#..
aSb#bbbB
a#####A.
aaaaaaa.
```


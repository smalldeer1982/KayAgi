---
title: "Very Intellectual Card Game"
layout: "post"
diff: 难度0
pid: AT_icpc2013summer_warmingUp_j
tag: []
---

# Very Intellectual Card Game

## 题目描述

Alice和Bob决定用一副有$N$张牌的牌组来玩一种新的纸牌游戏。$N$是偶数，并且每张卡片上有一个介于$-10^9$到$10^9$之间的数字。

Bob洗牌$M$次。在第$i$次时，他交换了第 [$1$，$k_i$) 张卡片和第[$k_i$，$n$]张卡片，从牌堆顶部开始计数。

例如，当牌组为且$k_i$等于$4$时，牌组在洗牌后变为新的牌组。Alice可以在任意次数后停止洗牌，当然也可以$0$次。（在Alice停止洗牌后，Bob没有洗牌。）

当Alice停止洗牌或Bob结束洗牌$M$次时，Alice得到了上半部分的牌。请问，她得到的牌数什么时候为最大值？

## 输入格式

第一行，输入$N$和$M$（$2≤N≤10^5,1≤M≤10^5$），分别表卡牌数和洗牌的次数。保证$N$是偶数。

第二行为$N$个整数，表示从牌组的顶部开始卡牌上的的数。整数介于$-10^9$和$10^9$之间。

第三行为$M$个整数${k_i}(2≤k_i≤N)$

## 输出格式

输出Alice能得到的卡片最大数。


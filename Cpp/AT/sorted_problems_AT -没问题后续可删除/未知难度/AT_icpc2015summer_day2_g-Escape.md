---
title: "Escape"
layout: "post"
diff: 难度0
pid: AT_icpc2015summer_day2_g
tag: []
---

# Escape

## 题目描述

给定一个无向图，图上有若干顶点和边，每个顶点都有一个正整数值。图是连通的，没有重边和自环。

输入的格式如下：

> $ N $ $ M $ $ w_1 $ $ w_2 $ $ ... $ $ w_N $ $ u_1 $ $ v_1 $ $ u_2 $ $ v_2 $ $ ... $ $ u_M $ $ v_M $

第一行包含两个整数 $ N $ 和 $ M $，分别表示图的顶点数和边数。  
第二行包含 $ N $ 个整数 $ w_i $，表示每个顶点的权值。  
接下来的 $ M $ 行中，每行包含两个整数 $ u_i $ 和 $ v_i $，表示一条无向边连接的两个顶点。

要求从图中的第一个顶点开始移动，遵循不能通过刚刚走过的边的规则，计算最多可以获得的顶点值总和。注意，每个顶点的值仅在首次访问时才会被计入总和。

### 示例输入
```
6 6
1 2 3 4 5 6
1 2
2 3
3 4
1 4
4 5
5 6
```

### 示例输出
```
21
```

在图中，按照路径 1→2→3→4→5→6 可以收集全部顶点的点数。

### 示例输入
```
7 8
1 3 3 5 2 2 3
1 2
2 3
3 1
1 4
1 7
1 5
1 6
5 6
```

### 示例输出
```
16
```

按照路径 1→2→3→1→5→6→1→4，可以累计得到16分。

## 输入格式

第一行：两个整数 $ N $ 和 $ M $，分别表示顶点数和边数。  
第二行：$ N $ 个整数 $ w_i $，表示每个顶点的权值。  
接下来 $ M $ 行：每行两个整数 $ u_i $ 和 $ v_i $，表示一条连接两个顶点的边。

## 输出格式

输出一个整数，表示通过移动可获得的最大总权值。

## 说明/提示

- $ 1 \leq N \leq 100000 $
- $ N - 1 \leq M \leq 100000 $
- $ 1 \leq w_i \leq 1000 $
- $ 1 \leq u_i, v_i \leq N $

 **本翻译由 AI 自动生成**


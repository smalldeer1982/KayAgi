---
title: "旅人計画問題3"
layout: "post"
diff: 难度0
pid: AT_pakencamp_2021_day3_g
tag: []
---

# 旅人計画問題3

## 题目描述

有一张 $n$ 点（编号 $1$ 到 $n$）$m$ 边的无向图。第 $i$ 条边连接点 $u_i$ 和 $v_i$。

选定两个满足 $1 \le l \le r \le m$ 的整数 $l$ 和 $r$，使得从某个点 $x$ 出发，按照某种顺序走完第 $l,l+1,...,r$ 条边各一次后能够回到点 $x$。（不能经过其他边；中途可以访问点 $x$）

请求出满足条件的整数对 $(l,r)$ 的数量。

## 输入格式

第一行两个数 $n,m$。

接下来 $m$ 行，每行两个整数 $u_i,v_i$。

## 输出格式

一行一个整数，答案。

### 数据规模与约定

- $1 \le n,m \le 5 \times 10^4$；
- $1 \le u_i,v_i \le n$，且 $u_i \neq v_i$；
- 输入均为整数。

## 样例 #1

### 输入

```
4 4
1 2
2 3
3 4
2 4
```

### 输出

```
1
```

## 样例 #2

### 输入

```
5 8
2 3
3 1
2 3
3 2
2 5
3 2
1 5
2 1
```

### 输出

```
3
```

## 样例 #3

### 输入

```
6 10
2 6
6 1
1 2
2 6
6 4
4 3
3 2
2 5
5 3
3 5
```

### 输出

```
6
```

## 样例 #4

### 输入

```
8 12
7 1
7 1
3 7
3 7
6 3
6 3
5 7
5 7
6 8
6 8
5 8
5 8
```

### 输出

```
18
```


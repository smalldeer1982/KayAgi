---
title: "マス目の穴埋め"
layout: "post"
diff: 难度0
pid: AT_past202010_n
tag: []
---

# マス目の穴埋め

## 题目描述

给出 $18$ 行 $6$ 列的点阵 $s$，每个 `?` 都需改为 `0` 或 `1`，求有多少种方案满足每个点与其所在的四联通块的中位数相等（点阵之外按 `0` 计算）。

## 输入格式

$18$ 行，表示 $18\times6$ 的点阵 $s_{i,j}$。

## 输出格式

输出问题中要求的方案数。

## 样例 #1

### 样例输入 #1

```
??0000
??0000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
```

### 样例输出 #1

```
2
```

## 样例 #2

### 样例输入 #2

```
???000
???000
???000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
```

### 样例输出 #2

```
16
```

## 样例 #3

### 样例输入 #3

```
?01000
1101?1
100111
1?11??
???00?
00011?
1?1??1
000101
100?11
1010??
?101??
?1??10
????10
?1??0?
1?1???
110?1?
0000?0
001?10
```

### 样例输出 #3

```
0
```

## 样例 #4

### 样例输入 #4

```
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
```

### 样例输出 #4

```
243882696958399859
```

## 说明/提示

- $ s_{i,j} $ 保证为 `0`、`1`、`?` 中的一个。


\- 所有的 `?` 全为 `1` 或 `0`。


\- 没有满足条件的方案。

## 样例 #1

### 输入

```
??0000
??0000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
```

### 输出

```
2
```

## 样例 #2

### 输入

```
???000
???000
???000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
```

### 输出

```
16
```

## 样例 #3

### 输入

```
?01000
1101?1
100111
1?11??
???00?
00011?
1?1??1
000101
100?11
1010??
?101??
?1??10
????10
?1??0?
1?1???
110?1?
0000?0
001?10
```

### 输出

```
0
```

## 样例 #4

### 输入

```
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
??????
```

### 输出

```
243882696958399859
```


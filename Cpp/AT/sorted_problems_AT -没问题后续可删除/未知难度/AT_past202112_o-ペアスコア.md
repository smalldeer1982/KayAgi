---
title: "ペアスコア"
layout: "post"
diff: 难度0
pid: AT_past202112_o
tag: []
---

# ペアスコア

## 题目描述

有 $n$ 个正整数 $b_1,b_2,...,b_n$，每个正整数都有一个参数 $s_i$。

现在，将这 $n$ 个整数重新排成一排。令 $a_i$ 为排在左起第 $i$ 个的数。按如下步骤计算分数 $sum$。

- 首先，按如下方法计算 $f(i,j)$：

$$
f(i,j)=\left\{
\begin{aligned}
s_{j-i}&,&a_j-a_i=j-i\\
0&,&a_j-a_i\neq j-i
\end{aligned}
\right.
$$

- 然后，按如下算式计算 $sum$：

$$ sum=\sum_{\substack{1\le i \lt j \le n}}f(i,j)$$

将 $n$ 个整数排成一排的方法有 $n!$ 种。请求出所有 $sum$ 的和对 $998244353$ 取模的结果。

## 输入格式

第一行：一个整数 $n$

第二行：$n$ 个整数 $b_1$ 到 $b_n$

第三行：$n$ 个整数 $s_1$ 到 $s_n$

## 输出格式

一行一个整数，答案。

## 说明/提示

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $2 \le n \le 10^5$，$1 \le b_i \le 10^5$，$1 \le s_i \le 998244352$。

## 样例 #1

### 输入

```
3
3 2 1
1 10 100
```

### 输出

```
14
```

## 样例 #2

### 输入

```
3
3 3 1
1 10 100
```

### 输出

```
20
```

## 样例 #3

### 输入

```
9
3 1 4 15 9 2 6 5 35
1 12 123 1234 12345 123456 1234567 12345678 123456789
```

### 输出

```
146471953
```


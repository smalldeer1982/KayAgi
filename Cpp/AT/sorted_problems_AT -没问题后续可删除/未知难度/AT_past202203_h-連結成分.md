---
title: "連結成分"
layout: "post"
diff: 难度0
pid: AT_past202203_h
tag: []
---

# 連結成分

## 题目描述

[problemUrl]: https://atcoder.jp/contests/past202203-open/tasks/past202203_h

$ N $ 頂点のグラフがあり、頂点には $ 1,\ \dots,\ N $ の番号が付けられています。はじめ、このグラフに辺は存在しません。

以下の形式のクエリを $ Q $ 個処理してください。

- `1 u v` : 頂点 $ u,\ v $ を結ぶ無向辺を追加する。
- `2 u` : クエリが与えられた時点でのグラフにおいて、頂点 $ u $ から $ 0 $ 本以上の辺を通ってたどり着くことのできる頂点の番号を全て昇順に出力する。

ただし、$ 1 $ つのテストケースにおいて、`2 u` の形式のクエリで出力する頂点の番号の個数の合計は $ 2\ \times\ 10^5 $ 個以下であることが保証されます。

## 输入格式

入力は以下の形式で標準入力から与えられる。ただし、$ \mathrm{Query}_i\ \,\ (1\ \leq\ i\ \leq\ Q) $ は $ i $ 番目に与えられるクエリを表す。

> $ N $ $ Q $ $ \mathrm{Query}_1 $ $ \vdots $ $ \mathrm{Query}_Q $

## 输出格式

`2 u` の形式のクエリそれぞれに対し、クエリが与えられた時点でのグラフにおいて、頂点 $ u $ から $ 0 $ 本以上の辺を通ってたどり着くことのできる頂点の番号を全て昇順に出力せよ。 それぞれの頂点の番号は空白区切りで出力し、末尾には改行を出力すること。

## 说明/提示

### 制約

- $ 1\ \leq\ N,\ Q\ \leq\ 2\ \times\ 10^5 $
- `1 u v` の形式のクエリにおいて $ 1\ \leq\ u\ \lt\ v\ \leq\ N $
- `2 u` の形式のクエリにおいて $ 1\ \leq\ u\ \leq\ N $
- `2 u` の形式のクエリが $ 1 $ 個以上存在する。
- $ 1 $ つのテストケースにおいて、`2 u` の形式のクエリで出力する頂点の番号の個数の合計は $ 2\ \times\ 10^5 $ 個以下である。
- 入力は全て整数である。

### Sample Explanation 3

同じ頂点の組を結ぶ辺が複数回追加されることもあります。

## 样例 #1

### 输入

```
5 7
1 1 2
2 2
1 3 4
2 5
1 1 4
2 1
2 4
```

### 输出

```
1 2
5
1 2 3 4
1 2 3 4
```

## 样例 #2

### 输入

```
1 2
2 1
2 1
```

### 输出

```
1
1
```

## 样例 #3

### 输入

```
3 3
1 1 2
2 1
1 1 2
```

### 输出

```
1 2
```


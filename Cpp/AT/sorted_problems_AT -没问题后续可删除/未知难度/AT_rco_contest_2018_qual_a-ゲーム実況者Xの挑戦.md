---
title: "ゲーム実況者Xの挑戦"
layout: "post"
diff: 难度0
pid: AT_rco_contest_2018_qual_a
tag: []
---

# ゲーム実況者Xの挑戦

## 题目描述

于 $N$ 个 $H \times W$ 的迷宫地图（编号为 $1 \sim N$）中选出 $K$ 个，进行最多同样的 $T$ 个操作（每次向上下左右移动一格），求出一种方案，使玩家得到最大得分。

关于地图中的字符：

`#` 表示墙，若前方是墙则操作后留在原地。

`o` 表示硬币，第一次走到时得分加一。

`x` 表示陷阱，进入后无法继续行走。

`@` 表示玩家的出发点。

数据保证地图的最外一圈为墙，有且只有一个出发点。

## 输入格式

第一行有五个整数 $N,K,H,W,T$。

接下来有 $N$ 个迷宫，共 $N \times H$ 行，每行 $W$ 个字符。

## 输出格式

第一行有 $K$ 个整数，表示选择了这些编号的地图。

第二行有至多 $T$ 个字符，表示进行的操作。（$U$ 为上，$D$ 为下，$L$ 为左，$R$ 为右）

## 说明/提示

$N \leq 100$；$K \leq 8$；$H,W \leq 80$；$T \leq 2500$。

## 样例 #1

### 输入

```
4 2 8 8 3
########
#o#oooo#
#ooooo##
##ooooo#
#oooo#x#
##o#ooo#
##@ooox#
########
########
##xoooo#
#oo#oox#
#oooooo#
#oooxoo#
##o@o#o#
#o#oo#o#
########
########
#ooo##o#
#oo##oo#
#ooo@oo#
###oooo#
#o#xo#o#
#ooooo##
########
########
#ooo#oo#
##oooo##
##ooo#@#
#oooooo#
#oo#ooo#
#oooo#x#
########
```

### 输出

```
1 2
URR
```


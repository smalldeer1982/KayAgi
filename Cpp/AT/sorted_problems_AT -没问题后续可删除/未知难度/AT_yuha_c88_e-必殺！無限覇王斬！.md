---
title: "必殺！無限覇王斬！"
layout: "post"
diff: 难度0
pid: AT_yuha_c88_e
tag: []
---

# 必殺！無限覇王斬！

## 题目描述

[problemUrl]: https://atcoder.jp/contests/yuha-c88/tasks/yuha_c88_e

本问题仅在输入中包含多字节字符。  
多字节字符以无字节序标记（BOM）的 UTF-8 编码。  
输入以以下形式从标准输入中给出。

> $N$ $S_1$ $S_2$... $S_N$ $L_1$ $A_1$ $L_2A_2□A_3L_3$ $A_4$ $L_4$

- 第一行给出单词的数量 $N\ (4\leq N\leq40,000)$。
- 从第二行开始的 $N$ 行中，第 $i$ 行给出第 $i$ 个单词 $S_i$。
- $S_i$ 由 Unicode 编码范围在 0x0021 至 0x007E（除空白外的可打印 ASCII 字符）或 0x4E00 至 0x9FFF（汉字）的字符组成。
- $S_i$ 的长度 $|S_i|$ 满足 $|S_i| = 2$。
- 当 $i\neq j$ 时，保证 $S_i\neq S_j$。

- 第 $N + 2$ 行开始的 5 行给出勇者在梦中得到的图像信息。
- 图像信息由 5 行 5 列组成。
- 第 1、2、4、5 行的第 1、2、4、5 个字符分别是全角空格 `　`（0x3000）。
- 第 1 行的第 3 个字符、第 3 行的第 1 和第 5 个字符、第 5 行的第 3 个字符是 $S_1...S_N$ 中的任意一个字符。
- 第 2 行的第 3 个字符和第 4 行的第 3 个字符分别是 `↑`（0x2191）或 `↓`（0x2193）。
- 第 3 行的第 2 和第 4 个字符分别是 `←`（0x2190）或 `→`（0x2192）。
- 第 3 行的第 3 个字符是 `□`（0x25AA）。

输出从图像中联想到的一个字符，每行一个字符。以无字节序标记（BOM）的 UTF-8 编码输出。在输出的末尾添加换行符。答案保证是唯一确定的。

```

8
結構
連覇
覇王
草堂
覇道
覇者
慈愛
梵字
　　連　　
　　↓　　
者←□→道
　　↓　　
　　王　　
```

```

覇
```

```

6
王権
王制
口偏
王侯
王族
浜焼
　　制　　
　　↑　　
侯←□→権
　　↓　　
　　族　　
```

```

王
```

```

4
辻斬
斬髪
斬首
斬新
　　辻　　
　　↓　　
髪←□→新
　　↓　　
　　首　　
```

```

斬
```

```

4
AZ
BZ
ZC
ZD
　　A　　
　　↓　　
B→□→D
　　↓　　
　　C　　
```

```

Z
```

在 UTF-8 编码中，一个字符可以用 1 到 4 个字节进行编码。C/C++ 中没有标准的处理 UTF-8 的库，请注意这一点。本问题的输入仅包含用 1 个字节或 3 个字节编码的字符。详细内容建议通过“UTF-8 C++”等进行搜索。

## 输入格式

获得圣剑的勇者决定想出一个酷炫的必杀技。勇者认为酷炫的必杀技需要一个酷炫的名字，于是在旅店熬夜思考。在昏昏欲睡之际，他在梦中看到了以下图像。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_yuha_c88_e/576bc9d622ec21de1a983af3a7762eb8a0268931.png)图像

那么勇者应该给必杀技取什么名字呢？

- - - - - -

本问题仅在输入中包含多字节字符。多字节字符以无字节序标记（BOM）的 UTF-8 编码。输入以以下形式从标准输入中给出。

> $N$ $S_1$ $S_2$... $S_N$ $L_1$ $A_1$ $L_2A_2□A_3L_3$ $A_4$ $L_4$

- 第一行给出单词的数量 $N\ (4\leq N\leq40,000)$。
- 从第二行开始的 $N$ 行中，第 $i$ 行给出第 $i$ 个单词 $S_i$。
- $S_i$ 由 Unicode 编码范围在 0x0021 至 0x007E（除空白外的可打印 ASCII 字符）或 0x4E00 至 0x9FFF（汉字）的字符组成。
- $S_i$ 的长度 $|S_i|$ 满足 $|S_i| = 2$。
- 当 $i\neq j$ 时，保证 $S_i\neq S_j$。

- 第 $N + 2$ 行开始的 5 行给出勇者在梦中得到的图像信息。
- 图像信息由 5 行 5 列组成。
- 第 1、2、4、5 行的第 1、2、4、5 个字符分别是全角空格 `　`（0x3000）。
- 第 1 行的第 3 个字符、第 3 行的第 1 和第 5 个字符、第 5 行的第 3 个字符是 $S_1...S_N$ 中的任意一个字符。
- 第 2 行的第 3 个字符和第 4 行的第 3 个字符分别是 `↑`（0x2191）或 `↓`（0x2193）。
- 第 3 行的第 2 和第 4 个字符分别是 `←`（0x2190）或 `→`（0x2192）。
- 第 3 行的第 3 个字符是 `□`（0x25AA）。

## 输出格式

输出从图像中联想到的一个字符，每行一个字符。以无字节序标记（BOM）的 UTF-8 编码输出。在输出的末尾添加换行符。答案保证是唯一确定的。  
**翻译自@[simple_child](https://www.luogu.com.cn/user/893544)**


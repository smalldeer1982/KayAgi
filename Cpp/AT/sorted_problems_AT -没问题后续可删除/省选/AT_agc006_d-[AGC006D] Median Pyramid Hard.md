---
title: "[AGC006D] Median Pyramid Hard"
layout: "post"
diff: 省选/NOI-
pid: AT_agc006_d
tag: ['贪心', '二分', '枚举']
---

# [AGC006D] Median Pyramid Hard

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc006/tasks/agc006_d

$ N $ 段のピラミッドがあります。 段は上から順に $ 1 $, $ 2 $, $ ... $, $ N $ と番号が振られています。 各 $ 1\ <\ =i\ <\ =N $ について、$ i $ 段目には $ 2i-1 $ 個のブロックが横一列に並んでいます。 また、各段の中央のブロックに注目すると、これらは縦一列に並んでいます。

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_agc006_d/a992c42b0e9b0597f104bf82a0adc1131324bb4f.png)$ N=4 $ 段のピラミッド

 

すぬけ君は $ N $ 段目のブロックに ($ 1 $, $ 2 $, $ ... $, $ 2N-1 $) を並べ替えたもの（順列）を書き込みました。 さらに、次のルールに従い、残りすべてのブロックに整数を書き込みました。

- あるブロックに書き込まれる整数は、そのブロックの左下、真下、右下のブロックに書き込まれた整数の中央値である。

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_agc006_d/545e109d7af3caf92b1a8f9ac80715efa6c3d3db.png)ブロックに整数を書き込む例

 

その後、すぬけ君はすべてのブロックに書き込まれた整数を消してしまいました。 すぬけ君は、$ N $ 段目のブロックに書き込まれた順列が ($ a_1 $, $ a_2 $, $ ... $, $ a_{2N-1} $) であったことだけを覚えています。

$ 1 $ 段目のブロックに書き込まれた整数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ a_1 $ $ a_2 $ $ ... $ $ a_{2N-1} $

## 输出格式

$ 1 $ 段目のブロックに書き込まれた整数を出力せよ。

## 说明/提示

### 制約

- $ 2\ <\ =N\ <\ =10^5 $
- ($ a_1 $, $ a_2 $, $ ... $, $ a_{2N-1} $) は ($ 1 $, $ 2 $, $ ... $, $ 2N-1 $) の順列である。

### Sample Explanation 1

問題文中の図の例です。

## 样例 #1

### 输入

```
4
1 6 3 7 4 5 2
```

### 输出

```
4
```

## 样例 #2

### 输入

```
2
1 2 3
```

### 输出

```
2
```


---
title: "[AGC021D] Reversed LCS"
layout: "post"
diff: 省选/NOI-
pid: AT_agc021_d
tag: []
---

# [AGC021D] Reversed LCS

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc021/tasks/agc021_d

高橋君はお母さんに文字列をプレゼントすることにしました。

文字列 $ T $ の価値とは、$ T $ を逆から読んだものを $ T' $ として、$ T $ と $ T' $ の最長共通部分列の長さです。 すなわち、(連続するとは限らない)部分列として $ T $ と $ T' $ の両方に現れるものの最大長です。

高橋君は、文字列 $ S $ を持っています。お母さんにできるだけ価値の高い文字列をプレゼントしたい高橋君は、 $ S $ の文字を $ K $ 箇所まで任意に変更して、できるだけ価値の高い文字列を作りたいです。

達成できる価値の最大値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ S $ $ K $

## 输出格式

達成できる価値の最大値を出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ |S|\ \leq\ 300 $
- $ 0\ \leq\ K\ \leq\ |S| $
- $ S $ は英小文字からなる
- $ K $ は整数である

### Sample Explanation 1

$ 1 $ 文字目を `c` に変更すると、文字列は `cbcabcabc` になります。 できた文字列を $ T $ とおけば、長さ $ 7 $ の文字列 `cbabcbc` が $ T $ と $ T' $ の最長共通部分列の一例となります。

## 样例 #1

### 输入

```
abcabcabc
1
```

### 输出

```
7
```

## 样例 #2

### 输入

```
atcodergrandcontest
3
```

### 输出

```
15
```


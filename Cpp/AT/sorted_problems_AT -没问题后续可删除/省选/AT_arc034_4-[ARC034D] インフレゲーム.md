---
title: "[ARC034D] インフレゲーム"
layout: "post"
diff: 省选/NOI-
pid: AT_arc034_4
tag: []
---

# [ARC034D] インフレゲーム

## 题目描述

有 $ A + B + C $ 张不同卡片放在一起。其中，$ A $ 张卡片上用红色数字写着一个整数，$ B $ 张卡片上用蓝色数字写着一个整数，剩下的 $ C $ 张卡片上用文字写着“汤婆子”。高桥君会利用这些卡片进行一个游戏。

游戏规则如下：

1. 先把 $ A + B + C $ 张卡片一起洗牌，均匀放置于桌上，形成一个牌堆。
2. 高桥君开始时的得分为 0。
3. 高橋君从牌堆顶端取出一张卡片：
   - 如果卡片上红色数字写有整数 $ a $，他的得分就增加 $ a $。
   - 如果卡片上蓝色数字写有整数 $ b $，他的得分乘以 $ b $。
   - 如果卡片上写着“汤婆子”，那么游戏立即结束，此时的分数就成为他的最终得分（不会执行后续步骤）。
4. 高橋君丢掉这张卡片，回到步骤 3 继续抽卡。

你的任务是计算高桥君最终得分的期望值。

## 输入格式

从标准输入读取以下格式的数据：

- 第一行包含三个整数 $ A, B, C $（$ 1 \leq A, B, C \leq 50 $）。它们分别表示红色数字卡片的数量、蓝色数字卡片的数量以及“汤婆子”卡片的数量。注意，因为 $ C \geq 1 $，所以游戏必定会在遇到“汤婆子”卡片时结束。
- 第二行给出 $ A $ 个整数 $ a_1, a_2, \ldots, a_A $，分别表示每张红色数字卡片上的整数（$ 1 \leq a_i \leq 100 $）。
- 第三行给出 $ B $ 个整数 $ b_1, b_2, \ldots, b_B $，分别表示每张蓝色数字卡片上的整数（$ 1 \leq b_i \leq 100 $）。

## 输出格式

输出高桥君最终得分的期望值。答案允许的绝对误差或相对误差不超过 $ 10^{-6} $。可以使用指数记法输出。

请勿忘记在输出后加上换行。

## 说明/提示

### 部分得分

- 满足 $ 1 \leq A, B, C \leq 3 $ 的数据提供 5 分。
- 满足 $ 1 \leq A, B, C \leq 8 $ 的数据提供 15 分。
- 满足 $ 1 \leq A, C \leq 50 $, $ 1 \leq B \leq 8 $ 的数据提供 20 分。

### 示例解释

考虑一种情况：有一张红色数字为 10 的卡片、一张蓝色数字为 2 的卡片和一张“汤婆子”卡片，这样总共有 3 张卡片。它们被平均洗牌后组成牌堆。如果顺序为“红-蓝-汤婆子”，最终得分为 $(0 + 10) \times 2 = 20$，概率是 $1/6$。如果顺序为“红-汤婆子-蓝”或“蓝-红-汤婆子”，最终得分分别为 $10$，总概率为 $1/6 + 1/6 = 2/6$。其他顺序下得分为 0。因此最终得分期望为 $20 \times 1/6 + 10 \times 2/6 = 20/3$。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
1 1 1
10
2
```

### 输出

```
6.666666666666666667
```

## 样例 #2

### 输入

```
4 1 1
1 1 1 3
2
```

### 输出

```
4
```

## 样例 #3

### 输入

```
7 2 2
1 1 1 1 5 5 5
5 5
```

### 输出

```
29.13333333333333333
```

## 样例 #4

### 输入

```
20 8 3
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
1 2 3 4 5 6 7 8
```

### 输出

```
19030.73484848484849
```

## 样例 #5

### 输入

```
15 15 1
100 100 100 100 100 100 100 100 100 100 100 100 100 100 100
100 100 100 100 100 100 100 100 100 100 100 100 100 100 100
```

### 输出

```
5.626676749671402077e+030
```


---
title: "Combination Lock"
layout: "post"
diff: 省选/NOI-
pid: AT_cf17_final_e
tag: ['并查集']
---

# Combination Lock

## 题目描述

有字符串 $S$，按照任意顺序进行任意次以下 $N$ 种操作：

- 操作 $i$：$ S $ 的第 $ l_i $ 个字母到第 $ r_i $ 个字母分别变为它们的下一个字母。(`a` 变成 `b`， `b` 变成 `c`・・・)；假设 `z` 的下一个字母是 `a`。

判断是否可以把 $S$ 变成回文。

## 输入格式

输入以以下形式：

> $S$ 
>
> $ N $
>
> $ L_1 $ $ R_1 $
>
> $ L_2 $ $ R_2 $
>
> $\ldots $
>
> $ L_N $ $ R_N $

## 输出格式

把 $S$ 变成回文，能的话就输出 `YES`，不能的话就输出 `NO`。

## 说明/提示

- $ 1\ \leq\ |S|\ \leq\ 10^5 $
- $ S $ 只由小写字母组成。
- $ 1\ \leq\ N\ \leq\ 10^5 $
- $ 1\ \leq\ L_i\ \leq\ R_i\ \leq\ |S| $

样本解释 $\ 1$：

例如，按顺序进行操作，就会变成 `bixzja`→`bjyzja`→`bjzakb`→`bkaakb`，也就是变成回文字符串了。

## 样例 #1

### 输入

```
bixzja
2
2 3
3 6
```

### 输出

```
YES
```

## 样例 #2

### 输入

```
abc
1
2 2
```

### 输出

```
NO
```

## 样例 #3

### 输入

```
cassert
4
1 2
3 4
1 1
2 2
```

### 输出

```
YES
```


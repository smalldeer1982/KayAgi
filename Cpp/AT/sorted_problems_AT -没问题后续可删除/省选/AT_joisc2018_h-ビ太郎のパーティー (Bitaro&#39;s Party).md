---
title: "ビ太郎のパーティー (Bitaro&#39;s Party)"
layout: "post"
diff: 省选/NOI-
pid: AT_joisc2018_h
tag: []
---

# ビ太郎のパーティー (Bitaro&#39;s Party)

## 题目描述

## 题目背景

![](https://cdn.luogu.com.cn/upload/image_hosting/cqzxwjey.png)


给定含有 $n$ 个点 $m$ 条单向边的有向图，每条边的边权值都为 $1$。

给定 $q$ 次询问，第 $i$ 次询问给定一个点 $T_i$，其中有 $Y_i$ 个点无法前往 $T_i$；假定剩下的点都会前往 $T_i$，询问剩余的点中距离 $T_i$ 最远距离是多少。

## 输入格式

第 $1$ 行：包含 $3$ 个整数 $n,m,q$。

接下来 $m$ 行：第 $i$ 行包含 $2$ 个整数 $u_i,v_i$，表示 $u_i,v_i$ 之间有条权值为 $1$ 的单向边。

接下来 $q$ 行：第 $i$ 行前 $2$ 个整数为 $T_i,Y_i(T_i\in[1,n],Y_i\in[0,n])$，后面有 $Y_i$ 个整数 $C_{i,1},C_{i,2}\dots C_{i,Y_i}$，集合 $\{C_i\}$ 表示第 $i$ 组询问中无法前往 $T_i$ 的点。**询问之间相互独立**。

## 输出格式

共 $q$ 行：第 $i$ 行有 $1$ 个整数，代表剩余的点中距离 $T_i$ 的最远距离；若剩余的点中没有可以到达 $T_i$ 的点，输出 $-1$。

## 样例 #1

### 样例输入 #1

```
5 6 3
1 2
2 4
3 4
1 3
3 5
4 5
4 1 1
5 2 2 3
2 3 1 4 5
```

### 样例输出 #1

```
1
3
0
```

## 样例 #2

### 样例输入 #2

```
12 17 10
1 2
2 3
3 4
1 5
2 6
3 7
4 8
5 6
6 7
7 8
5 9
6 10
7 11
8 12
9 10
10 11
11 12
6 3 1 7 12
3 7 1 2 3 4 5 6 7
11 3 1 3 5
9 2 1 9
8 4 1 2 3 4
1 1 1
12 0
10 3 1 6 10
11 8 2 3 5 6 7 9 10 11
8 7 2 3 4 5 6 7 8
```

### 样例输出 #2

```
1
-1
3
1
3
-1
5
2
4
4
```

## 说明/提示

$1\leqslant{n}\leqslant10^5,0\leqslant{m}\leqslant2\times10^5,1\leqslant{q}\leqslant10^5,(\sum_{i=1}^{q}{Y_i})\leqslant10^5$。


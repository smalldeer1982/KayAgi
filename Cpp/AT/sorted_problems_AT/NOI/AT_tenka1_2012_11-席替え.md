---
title: "席替え"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_tenka1_2012_11
tag: []
---

# 席替え

## 题目描述

K 公司高速发展，由于招聘速度过快导致座位不够。虽然新办公室已确定，但由于某些原因，公司决定扩建当前办公室。因此，需要进行一次座位调整，而公司十分繁忙，希望尽量缩短座位调整所需时间。

进行座位调整需要使用手推车。用手推车将座位上的物品搬到它上面需要 5 分钟，而从手推车上卸下物品也需要 5 分钟。一辆手推车一次只能装载一个人的物品，并且在物品被装上手推车后直到被卸下之前，该手推车上始终有物品，不能再装其他物品。如果新座位上已有物品，手推车上的物品就不能被卸下。在物品完全装上手推车之前，原座位上仍被视为有物品。此外，即便不是最终调整目标座位，只要座位是空的，可以暂时卸下物品；但是，每个座位同一时刻只能存放一人的物品。

给出调整前后的座位安排及手推车数量，请计算完成座位调整所需的最短时间。假设手推车移动速度极快，从装载物品结束到移动至目标座位不需时间。

### 输入格式

输入格式如下：

> N M L  
> a1 b1  
> :  
> aL bL  

- 第一行包括三个整数：表示座位数量的 N（1 ≤ N ≤ 30），手推车数量的 M（1 ≤ M ≤ N），以及员工数量 L（1 ≤ L ≤ N 且 L ≤ 15）。
- 随后的 L 行中，每行有两个整数，表示第 i 个员工调整前的座位编号 ai（1 ≤ ai ≤ N）和调整后的座位编号 bi（1 ≤ bi ≤ N）。
- 不同员工的初始座位号和目标座位号都是不同的。

### 输出格式

输出完成座位调整的最短时间（分钟）。如果座位调整无法完成，输出 `-1`。

### 数据范围与提示

- 座位数较少的情况（1 ≤ N ≤ 7）若能解决对应问题，则可获得满分 100 分中的部分分数 50 分。

 **本翻译由 AI 自动生成**


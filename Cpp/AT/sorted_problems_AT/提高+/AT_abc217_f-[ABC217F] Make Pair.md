---
title: "[ABC217F] Make Pair"
layout: "post"
diff: 提高+/省选-
pid: AT_abc217_f
tag: ['动态规划 DP', '区间 DP', '组合数学']
---

# [ABC217F] Make Pair

## 题目描述

一共 $2N$ 个学生站成一排，其中有 $M$ 对朋友关系。老师每次从队列中挑出两个相邻的学生作为同桌。为了关系和睦，每次选出的两个学生必须是朋友关系。选出的两个学生离开队列，空出来的位置左右合拢。

请问老师有多少种方式选完所有学生？对于两种选人的方案，即使同桌关系相同，只要离开队列的顺序不同，也算是不同的方案。

## 输入格式

先输入一行两个整数 $N$、$M$，然后输入 $M$ 行数据，每行两个数 $A_i$ 和 $B_i$，表示两个同学的朋友关系。

## 输出格式

一个数，为所得方案数对 $998244353$ 取模后得到的值。

## 样例 #1

### 输入

```
2 3
1 2
1 4
2 3
```

### 输出

```
1
```

## 样例 #2

### 输入

```
2 2
1 2
3 4
```

### 输出

```
2
```

## 样例 #3

### 输入

```
2 2
1 3
2 4
```

### 输出

```
0
```


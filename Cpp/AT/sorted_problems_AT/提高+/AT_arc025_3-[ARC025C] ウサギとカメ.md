---
title: "[ARC025C] ウサギとカメ"
layout: "post"
diff: 提高+/省选-
pid: AT_arc025_3
tag: []
---

# [ARC025C] ウサギとカメ

## 题目描述

兔子和乌龟在图上比赛。

一个图有 $N$ 个节点，节点从 $1$ 到 $N$ 被编号，节点与节点相连的边不会重合，且形成的图是无向图。

在比赛中，从所有节点中选择目的地 $A$、兔子的起点 $B$、乌龟的起点 $C$。$A,B,C$ 互不相同。比赛开始后，兔子以每秒 $R$ 米、乌龟以每秒 $T$ 米的速度向目的地前进。

乌龟想知道通过进行最佳路线是，求当 $A,B,C$ 的组时，兔子任何路是比乌龟后面到达目的地的的个数。

## 输入格式

输入以以下形式从标准输入提供。

$ N $ $ M $ $ R $ $ T $

$ a_1 $ $ b_1 $ $ c_1 $

$ a_2 $ $ b_2 $ $ c_2 $

:

$ a_M $ $ b_M $ $ c_M $

第 $1$ 行中，输入节点个数 $N(3≤N≤2500)$、边数 $M(2≤M≤3000)$、兔子的速度 $R(1≤R≤200)$ 以及乌龟的速度 $T(1≤T≤200)$，空格隔开。

在第 $2$ 行到 $M$ 行中，提供关于该路径的信息。其中，在第 $i$ 行中，为 $2$ 个节点 $a_i,b_i$ 和边长 $c_i$。

## 输出格式

用一行输出组合的总数。

## 说明/提示

样例 1 解释：

可以考虑以下 $2$ 种。
- （目的地，兔子的出发点，乌龟的出发点）为 $(2,4,1)$ 时，乌龟直接去目的地的话，$4$ 秒就到了。另一方面，兔子不管怎么走都至少要花 $4.5$ 秒。
- （目的地，兔子的出发点，乌龟的出发点）是 $(4,3,2)$ 的情况下，乌龟直接去目的地的话 $4$ 秒到达。另一方面，兔子不管怎么走都至少要花 $4.5$ 秒。
顺便说一下（目的地，兔子的开始地点，乌龟的开始地点）是 $(1,4,3)$ 的情况下，兔子和乌龟到达目的地需要 $3$ 秒以上。如果彼此进行了最合适的移动，因为同时到达，所以不满足条件。

## 样例 #1

### 输入

```
4 5 2 1
1 2 4
1 3 3
1 4 6
2 3 5
3 4 4
```

### 输出

```
2
```

## 样例 #2

### 输入

```
5 4 7 7
1 2 1
2 3 1
3 4 1
4 5 1
```

### 输出

```
26
```


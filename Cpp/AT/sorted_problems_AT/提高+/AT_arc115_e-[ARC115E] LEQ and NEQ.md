---
title: "[ARC115E] LEQ and NEQ"
layout: "post"
diff: 提高+/省选-
pid: AT_arc115_e
tag: ['动态规划 DP', '容斥原理']
---

# [ARC115E] LEQ and NEQ

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc115/tasks/arc115_e

長さ $ N $ の整数列 $ A_1,A_2,\ldots,A_N $ が与えられます。長さ $ N $ の整数列 $ X_1,X_2,\ldots,X_N $ であって、以下の条件をすべて満たすものはいくつあるか求め、$ 998244353 $ で割った余りを出力してください。

- $ 1\ \leq\ X_i\ \leq\ A_i $
- $ X_i\ \neq\ X_{i+1}\ (1\ \leq\ i\ \leq\ N-1) $

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ \ldots $ $ A_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 5\ \times\ 10^5 $
- $ 1\ \leq\ A_i\ \leq\ 10^9 $

### Sample Explanation 1

条件をすべて満たす整数列は以下の $ 6 $ 通りです。 - $ 1,2,1 $ - $ 1,3,1 $ - $ 1,3,2 $ - $ 2,1,2 $ - $ 2,3,1 $ - $ 2,3,2 $

## 样例 #1

### 输入

```
3
2 3 2
```

### 输出

```
6
```

## 样例 #2

### 输入

```
10
158260522 877914575 602436426 24979445 861648772 623690081 433933447 476190629 262703497 211047202
```

### 输出

```
524691026
```


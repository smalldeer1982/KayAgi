---
title: "[AGC046B] Extension"
layout: "post"
diff: 普及+/提高
pid: AT_agc046_b
tag: ['动态规划 DP']
---

# [AGC046B] Extension

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc046/tasks/agc046_b

縦 $ A $ マス横 $ B $ マスのマス目があり、そのすべてのマスは白く塗られています。このマス目に、以下の操作を繰り返し行います。

- 現在のマス目が縦 $ a $ マス横 $ b $ マスであるとする。縦または横を選ぶ。
  - 縦を選んだ場合はマス目の上に $ 1 $ 行を追加し、縦 $ a+1 $ マス横 $ b $ マスのマス目にする。
  - 横を選んだ場合はマス目の右に $ 1 $ 列を追加し、縦 $ a $ マス横 $ b+1 $ マスのマス目にする。
- これにより追加されたマスのうちちょうど $ 1 $ マスを黒く塗り、追加された残りのマスを白く塗る。

最終的にマス目が縦 $ C $ マス横 $ D $ マスになったとするとき、最終的なマス目の異なる塗られ方としてありうるものの個数を $ 998244353 $ で割った余りを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ A $ $ B $ $ C $ $ D $

## 输出格式

最終的なマス目の異なる塗られ方としてありうるものの個数を $ 998244353 $ で割った余りを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ A\ \leq\ C\ \leq\ 3000 $
- $ 1\ \leq\ B\ \leq\ D\ \leq\ 3000 $
- $ A,B,C,D $ は整数である

### Sample Explanation 1

左下以外の $ 3 $ マスの中の任意の $ 2 $ マスが黒く塗られているような塗られ方が条件を満たします。

## 样例 #1

### 输入

```
1 1 2 2
```

### 输出

```
3
```

## 样例 #2

### 输入

```
2 1 3 4
```

### 输出

```
65
```

## 样例 #3

### 输入

```
31 41 59 265
```

### 输出

```
387222020
```


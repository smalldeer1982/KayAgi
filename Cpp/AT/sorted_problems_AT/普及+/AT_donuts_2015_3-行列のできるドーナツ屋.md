---
title: "行列のできるドーナツ屋"
layout: "post"
diff: 普及+/提高
pid: AT_donuts_2015_3
tag: []
---

# 行列のできるドーナツ屋

## 题目描述

在甜甜圈小镇里，有一家每天都排长队的超人气甜甜圈店。现在有 $N$ 个人在这家甜甜圈店排队。排队的人担心在排到自己之前甜甜圈就会卖完。于是甜甜圈店的店长决定计算表示每个人不安程度的「不安度」。

设第 $i$ 个人的身高为 $H_i$，第 $i$ 个人的「不安度」即为「第 $i$ 个人向前看时看到的人数」。第 $i$ 个人向前看时看到第 $j$ 个人需要满足以下条件。

- 第 $j$ 个人需要排在第 $i$ 个人的前面，也即 $j<i$。
- 第 $i$ 个人与第 $j$ 个人之间没有人比第 $j$ 个人更高，也即不存在 $k$ 同时满足 $j<k<i$ 和 $H_j<H_k$。

例如，如果排队的人从前往后的身高分别为 $2,5,3,4,1$，那么排在最后的人向前看时可以看到排在第 $2$ 和第 $4$ 的两人，因此第 $5$ 个人的「不安度」就为 $2$。

## 输入格式

第一行一个正整数 $N$，表示排队的人数。

第二行 $N$ 个正整数，第 $i$ 个数 $H_i$ 表示第 $i$ 个人的身高。

## 输出格式

共 $N$ 行，第 $i$ 行包含一个整数，表示第 $i$ 个人的「不安度」。

末尾额外输出一个空行。

## 说明/提示

对于 $10\%$ 的测试数据，满足 $N\leqslant100$；

对于 $40\%$ 的测试数据，满足 $N\leqslant5000$；

对于 $100\%$ 的测试数据，满足 $1\leqslant N\leqslant10^5$ 且 $1\leqslant H_i\leqslant10^6$。

## 样例 #1

### 输入

```
5
2 5 3 4 1
```

### 输出

```
0
1
1
2
2
```

## 样例 #2

### 输入

```
1
1000000
```

### 输出

```
0
```

## 样例 #3

### 输入

```
8
66 52 56 32 27 50 72 23
```

### 输出

```
0
1
2
2
3
4
3
1
```


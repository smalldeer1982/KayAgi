---
title: "[ABC324E] Joint Two Strings"
layout: "post"
diff: 普及/提高-
pid: AT_abc324_e
tag: []
---

# [ABC324E] Joint Two Strings

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc324/tasks/abc324_e

英小文字からなる $ N $ 個の文字列 $ S_1,\ S_2,\ \ldots,\ S_N $ 、および、英小文字からなる文字列 $ T $ が与えられます。

$ 1 $ 以上 $ N $ 以下の $ 2 $ つの整数からなる組 $ (i,\ j) $ は $ N^2 $ 個ありますが、そのうち下記の条件を満たすものの個数を出力してください。

- $ S_i $ と $ S_j $ をこの順に連結して得られる文字列は、$ T $ を（連続とは限らない）部分列として含む。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ T $ $ S_1 $ $ S_2 $ $ \vdots $ $ S_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ N $ は整数
- $ 1\ \leq\ N\ \leq\ 5\ \times\ 10^5 $
- $ S_i $ および $ T $ は英小文字からなる長さ $ 1 $ 以上 $ 5\ \times\ 10^5 $ 以下の文字列
- $ S_1,\ S_2,\ \ldots,\ S_N $ の長さの総和は $ 5\ \times\ 10^5 $ 以下
 
### Sample Explanation 1

問題文中の条件を満たす組 $ (i,\ j) $ は、下記に示す $ 3 $ 個の組 $ (1,\ 2),\ (1,\ 3),\ (2,\ 3) $ です。 - $ (i,\ j)\ =\ (1,\ 2) $ について、$ S_1 $ と $ S_2 $ をこの順に連結して得られる文字列 `abbabcb` は `bac` を部分列として含みます。 - $ (i,\ j)\ =\ (1,\ 3) $ について、$ S_1 $ と $ S_3 $ をこの順に連結して得られる文字列 `abbaaaca` は `bac` を部分列として含みます。 - $ (i,\ j)\ =\ (2,\ 3) $ について、$ S_2 $ と $ S_3 $ をこの順に連結して得られる文字列 `bcbaaca` は `bac` を部分列として含みます。

## 样例 #1

### 输入

```
3 bac
abba
bcb
aaca
```

### 输出

```
3
```

## 样例 #2

### 输入

```
5 xx
x
x
x
x
x
```

### 输出

```
25
```

## 样例 #3

### 输入

```
1 y
x
```

### 输出

```
0
```

## 样例 #4

### 输入

```
10 ms
mkgn
m
hlms
vmsle
mxsm
nnzdhi
umsavxlb
ffnsybomr
yvmm
naouel
```

### 输出

```
68
```


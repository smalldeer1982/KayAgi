---
title: "[ABC366D] Cuboid Sum Query"
layout: "post"
diff: 普及/提高-
pid: AT_abc366_d
tag: ['前缀和']
---

# [ABC366D] Cuboid Sum Query

## 题目描述

给定一个正整数 $N$ 和满足 $1 \leq x, y, z \leq N$ 的整数组 $(x, y, z)$，对于每个组合都有一个整数 $A_{x, y, z}$。

现在给出 $Q$ 个查询，每个查询要求如下：

对于第 $i$ 个查询 $ (1 \leq i \leq Q) $，给出一组整数 $ (Lx_i, Rx_i, Ly_i, Ry_i, Lz_i, Rz_i) $，其中 $1 \leq Lx_i \leq Rx_i \leq N,\ 1 \leq Ly_i \leq Ry_i \leq N, 1 \leq Lz_i \leq Rz_i \leq N$。要求计算并输出以下求和结果：

$$
\sum_{x=Lx_i}^{Rx_i}\ \sum_{y=Ly_i}^{Ry_i}\ \sum_{z=Lz_i}^{Rz_i}\ A_{x,y,z}
$$

## 输入格式

输入以以下形式从标准输入提供。

> $N$ $A_{1,1,1}$ $A_{1,1,2}$ $\ldots$ $A_{1,1,N}$ $A_{1,2,1}$ $A_{1,2,2}$ $\ldots$ $A_{1,2,N}$ $\vdots$ $A_{1,N,1}$ $A_{1,N,2}$ $\ldots$ $A_{1,N,N}$ $A_{2,1,1}$ $A_{2,1,2}$ $\ldots$ $A_{2,1,N}$ $A_{2,2,1}$ $A_{2,2,2}$ $\ldots$ $A_{2,2,N}$ $\vdots$ $A_{2,N,1}$ $A_{2,N,2}$ $\ldots$ $A_{2,N,N}$ $\vdots$ $A_{N,1,1}$ $A_{N,1,2}$ $\ldots$ $A_{N,1,N}$ $A_{N,2,1}$ $A_{N,2,2}$ $\ldots$ $A_{N,2,N}$ $\vdots$ $A_{N,N,1}$ $A_{N,N,2}$ $\ldots$ $A_{N,N,N}$ $Q$ $Lx_1$ $Rx_1$ $Ly_1$ $Ry_1$ $Lz_1$ $Rz_1$ $Lx_2$ $Rx_2$ $Ly_2$ $Ry_2$ $Lz_2$ $Rz_2$ $\vdots$ $Lx_Q$ $Rx_Q$ $Ly_Q$ $Ry_Q$ $Lz_Q$ $Rz_Q$

## 输出格式

输出 $Q$ 行，每行对应一个查询的结果，第 $i$ 行输出第 $i$ 个查询的答案。

## 说明/提示

### 约束条件

- $1 \leq N \leq 100$
- $1 \leq Q \leq 2 \times 10^{5}$
- $0 \leq A_{x,y,z} \leq 999\ (1 \leq x, y, z \leq N)$
- $1 \leq Lx_i \leq Rx_i \leq N$ $ (1 \leq i \leq Q) $
- $1 \leq Ly_i \leq Ry_i \leq N$ $ (1 \leq i \leq Q) $
- $1 \leq Lz_i \leq Rz_i \leq N$ $ (1 \leq i \leq Q) $
- 所有输入均为整数

### 样例解释 1

对于第 $1$ 个查询，需要求和的值为 $A_{1,2,1} + A_{2,2,1} = 3 + 7 = 10$，因此输出 $10$。对于第 $2$ 个查询，需要求和的值为 $A_{2,1,1} + A_{2,1,2} + A_{2,2,1} + A_{2,2,2} = 5 + 6 + 7 + 8 = 26$，因此输出 $26$。

## 样例 #1

### 输入

```
2
1 2
3 4
5 6
7 8
2
1 2 2 2 1 1
2 2 1 2 1 2
```

### 输出

```
10
26
```

## 样例 #2

### 输入

```
3
733 857 714
956 208 257
123 719 648
840 881 245
245 112 746
306 942 694
58 870 849
13 208 789
687 906 783
8
3 3 3 3 1 1
1 3 2 3 3 3
2 2 2 3 1 1
1 3 1 1 1 1
2 3 2 3 2 3
1 2 1 1 1 2
3 3 2 2 1 3
1 2 2 3 2 3
```

### 输出

```
687
3917
551
1631
5180
3311
1010
4326
```


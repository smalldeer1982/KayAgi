---
title: "[ARC124B] XOR Matching 2"
layout: "post"
diff: 普及/提高-
pid: AT_arc124_b
tag: []
---

# [ARC124B] XOR Matching 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc124/tasks/arc124_b

非負整数のみからなる長さ $ N $ の数列 $ a,b $ が与えられます。$ a,b $ の $ i $ 番目の要素はそれぞれ $ a_i,\ b_i $ です。

非負整数 $ x $ が以下の条件を満たすとき、$ x $ を **よい数** と呼びます。

- 条件：$ b $ を並べ替えて、$ 1\ \leq\ i\ \leq\ N $ を満たすどの整数 $ i $ についても $ a_i\ \text{\ XOR\ }\ b_i\ =\ x $ が成立するようにすることができる。ここで、$ \text{XOR\ } $ はビットごとの排他的論理和である。

よい数を小さい方からすべて列挙してください。

 $ \text{\ XOR\ } $ とは 整数 $ x,\ y $ のビットごとの排他的論理和 $ x\ \text{\ XOR\ }\ y $ は、以下のように定義されます。

- $ x\ \text{\ XOR\ }\ y $ を二進表記した際の $ 2^k $ ($ k\ \geq\ 0 $) の位の数は、$ x,\ y $ を二進表記した際の $ 2^k $ の位の数のうち一方のみが $ 1 $ であれば $ 1 $、そうでなければ $ 0 $ である。
 
 例えば、$ 3\ \text{\ XOR\ }\ 5\ =\ 6 $ となります (二進表記すると: $ 011\ \text{\ XOR\ }\ 101\ =\ 110 $)。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ a_1 $ $ \cdots $ $ a_N $ $ b_1 $ $ \cdots $ $ b_N $

## 输出格式

$ 1 $ 行目によい数の個数 $ K $ を出力せよ。 続けて $ K $ 行出力せよ。続く $ K $ 行の $ i $ 行目には小さい方から $ i $ 番目のよい数を出力せよ。

## 说明/提示

### 制約

- 与えられる入力は全て整数
- $ 1\ \leq\ N\ \leq\ 2000 $
- $ 0\ \leq\ a_i,\ b_i\ <\ 2^{30} $

### Sample Explanation 1

\- $ b $ を $ (4,\ 7,\ 6) $ と並び替えたとき、$ a_1\ \text{\ XOR\ }\ b_1\ =\ a_2\ \text{\ XOR\ }\ b_2\ =\ a_3\ \text{\ XOR\ }\ b_3\ =\ 5 $ となるため、$ 5 $ はよい数です。他によい数はありません。

## 样例 #1

### 输入

```
3
1 2 3
6 4 7
```

### 输出

```
1
5
```

## 样例 #2

### 输入

```
2
0 1
0 2
```

### 输出

```
0
```

## 样例 #3

### 输入

```
24
14911005 70152939 282809711 965900047 168465665 337027481 520073861 20800623 934711525 944543101 522277111 580736275 468493313 912814743 99651737 439502451 365446123 198473587 285587229 253330309 591640417 761745547 247947767 750367481
805343020 412569406 424258892 329301584 123050452 1042573510 1073384116 495212986 158432830 145726540 623594202 836660574 380872916 722447664 230460104 718360386 620079272 109804454 60321058 38178640 475708360 207775930 393038502 310271010
```

### 输出

```
8
107543995
129376201
139205201
160626723
312334911
323172429
481902037
493346727
```


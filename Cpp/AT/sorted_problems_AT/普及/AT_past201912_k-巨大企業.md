---
title: "巨大企業"
layout: "post"
diff: 普及/提高-
pid: AT_past201912_k
tag: ['最近公共祖先 LCA']
---

# 巨大企業

## 题目描述

### 题目简述

有一个 $n$ 点有向图，每个点的编号由 $1$ 到 $n$ 。除了一个点之外，其它每个点都会有一条边连向另外一个点（不存在重边和自环，也不存在一个点，使得从该点出发，沿着有向边走，能够回到这个点）。现在有 $q$ 组询问，每组询问给定两个点的编号 $a_i$ 和 $b_i$ ，请问能否能从 $a_i$ 出发走到 $b_i$ 。

## 输入格式

输入 $(n+q+2)$ 行。

第一行：一行一个正整数 $n$ 。

第二行到第 $(n+1)$ 行：第 $(i+1)$ 行输入一个正整数 $p_i$ ，即编号为 $i$ 的点连出的有向边连向的点的编号。

第 $(n+2)$ 行：一行一个正整数 $q$ 。

第 $(n+3)$ 行到第 $(n+q+2)$ 行：第 $(n+i+2)$ 行输入两个正整数 $a_i,b_i$ ，表示询问从 $a_i$ 出发，是否能到达 $b_i$ 。

## 输出格式

输出 $q$ 行。如果第 $i$ 行输出`Yes`，表示可以从 $a_i$ 走到 $b_i$ ；如果第 $i$ 行输出`No`，表示不可以从 $a_i$ 走到 $b_i$ 。

## 样例 #1

### 输入

```
7
-1
1
1
2
2
3
3
6
7 1
4 1
2 3
5 1
5 2
2 5
```

### 输出

```
Yes
Yes
No
Yes
Yes
No
```

## 样例 #2

### 输入

```
20
4
11
12
-1
1
13
13
4
6
20
1
1
20
10
8
8
20
10
18
1
20
18 14
11 3
2 13
13 11
10 15
9 5
17 11
18 10
1 16
9 4
19 6
5 10
17 8
15 8
5 16
6 20
3 19
10 12
5 13
18 1
```

### 输出

```
No
No
No
No
No
No
No
Yes
No
Yes
No
No
No
Yes
No
Yes
No
No
No
Yes
```


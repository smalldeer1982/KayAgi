---
title: "数列の反転"
layout: "post"
diff: 普及/提高-
pid: AT_past202109_j
tag: []
---

# 数列の反転

## 题目描述

维护一个长度为 $2n$ 的序列 $a$。开始时，对于每个满足 $1 \le a \le 2n$ 的整数 $i$，都有 $a_i=i$。

给出 $q$ 次操作，每次操作都为以下两种形式中的一种：

- `1 k`：输出 $a_k$ 的值并换行。保证 $1 \le k \le 2n$。
- `2 k`：反转 $[n-k+1,n+k]$ 这个区间。反转后，原来的第 $p$ 个元素被换到了第 $2n-p+1$ 个元素的位置。保证 $1 \le k \le n$。

请按顺序执行操作。

## 输入格式

第一行输入两个整数 $n,q$。

接下来 $q$ 行，每行两个整数 $t_i$ 和 $k_i$。$t_i$ 为操作类型，$k_i$ 为操作参数。

## 输出格式

对于每个操作 $1$，输出此时 $a_k$ 的值并换行。

## 说明/提示

#### 数据规模与约定

$1 \le n,q \le 2 \times10^5$，$1 \le t_i \le 2$。

## 样例 #1

### 输入

```
3 2
2 2
1 4
```

### 输出

```
3
```

## 样例 #2

### 输入

```
3 3
2 3
1 3
1 1
```

### 输出

```
4
6
```

## 样例 #3

### 输入

```
5 6
2 2
2 1
2 1
2 3
1 2
2 3
```

### 输出

```
2
```


---
title: "回転と反転"
layout: "post"
diff: 普及/提高-
pid: AT_past202112_j
tag: []
---

# 回転と反転

## 题目描述

有一个 $n$ 行 $n$ 列的网格图，开始时全部被涂为白色。

给出 $q$ 次操作，每次操作的格式及内容如下：

- `1 x y`：若上起第 $x$ 行左起第 $y$ 列的网格为白色，将其涂黑；若为黑色，将其涂白。
- `2 c`：若 $c$ 为`Ａ`，将整张图顺时针旋转 $90°$；否则，将整张图逆时针旋转 $90°$。
- `3 c`：若 $c$ 为`Ａ`，垂直翻转整张图；否则，水平翻转整张图。

请在全部操作完成后输出每一个格子的颜色。

## 输入格式

第一行：两个整数 $n,q$。

## 输出格式

输出一个 $n\times n$ 的字符图，其中第 $i$ 行第 $j$ 列的字符表示了第 $i$ 行第 $j$ 个格子的颜色。用`0`表示白色，`1`表示黑色。

## 说明/提示

#### 样例 #1 说明

将 $(1,1)$ 涂黑，然后顺时针旋转 $90°$。

#### 数据规模与约定

$100\%$ 的数据保证：

- $1 \le n\le 300$；
- $1 \le q\le 2 \times 10^5$；
- $1 \le x,y \le n$；
- $c$ 为 `A` 或 `B`。

## 样例 #1

### 输入

```
3 2
1 1 1
2 A
```

### 输出

```
001
000
000
```

## 样例 #2

### 输入

```
3 3
1 1 1
3 A
3 B
```

### 输出

```
000
000
001
```

## 样例 #3

### 输入

```
4 8
2 A
1 4 2
2 A
1 2 2
3 B
3 B
3 A
1 3 1
```

### 输出

```
0000
0000
0100
0000
```


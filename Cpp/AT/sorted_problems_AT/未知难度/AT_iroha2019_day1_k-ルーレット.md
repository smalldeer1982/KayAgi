---
title: "ルーレット"
layout: "post"
diff: 难度0
pid: AT_iroha2019_day1_k
tag: []
---

# ルーレット

## 题目描述

いろは酱手头有 \\(N\\) 个轮盘和足够多的小球。所有轮盘从 \\(1\\) 到 \\(N\\) 进行了编号。

每个轮盘上标有一些整数，比如说，第 \\(i\\) 个轮盘上有 \\(M_i\\) 个整数 \\(A_{i,1}, A_{i,2}, \ldots, A_{i,M_i}\\)，这些整数允许重复。

当旋转第 \\(i\\) 个轮盘并投入一个小球时，小球会随机落在标有 \\(A_{i,1}, A_{i,2}, \ldots, A_{i,M_i}\\) 的位置之一。每个位置的概率均为 \\(\frac{1}{M_i}\\)。

有一天，いろは酱想到一个新游戏。游戏规则如下：

1. 同时旋转所有轮盘并投入小球。
2. 按顺序从第 \\(1\\) 个到第 \\(N\\) 个轮盘，读取小球落入位置的整数，将它们串联以成一个大整数。

例如，如果有 \\(3\\) 个轮盘，而小球所落整数依次为 \\(11, 2, 717\\)，那么形成的数字就是 \\(112717\\)。

いろは酱想知道形成数字的期望值是多少，但她不是程序员，无法自行计算。因此，这个任务需要交给你来完成。

请帮いろは酱计算形成数字的期望值。注意，由于期望值可能是小数，所以请输出 \\(E \times M_1 \times M_2 \times \ldots \times M_N\\) 的结果对 \\(10^9+7\\) 取模后的值，该结果保证为整数。

## 输入格式

输入格式如下：

```
N
M_1 A_{1,1} A_{1,2} \ldots A_{1,M_1}
M_2 A_{2,1} A_{2,2} \ldots A_{2,M_2}
...
M_N A_{N,1} A_{N,2} \ldots A_{N,M_N}
```

## 输出格式

输出 \\(E \times M_1 \times M_2 \times \ldots \times M_N\\) 对 \\(10^9+7\\) 取模的结果。

## 说明/提示

- 所有输入为整数。
- \\(1 \leq N \leq 200,000\\)
- 对于每个 \\(i\\)，\\(1 \leq M_i\\)
- 所有轮盘的整数累加和不超过 200,000。
- 每个整数满足 \\(1 \leq A_{i,j} \leq 10^9\\)。

### 样例解释 1

输入样例中有两个轮盘，分别标有 \\(11, 3\\) 和 \\(9, 14\\)。四种可能的读数为 \\(119, 1114, 39, 314\\)，所有情况等概率出现，期望值为 \\(\frac{119 + 1114 + 39 + 314}{4} = 396.5\\)。结果为 \\(396.5 \times 2 \times 2 = 1586\\)。

### 样例解释 2

可能构成的整数有 \\(11512, 11521, 31512, 31521, 172512, 172521, 1170112, 1170121, 3170112, 3170121, 17270112, 17270121\\)。

### 样例解释 3

此样例中的大整数总是 \\(100000000010000000001000000000\\)。请注意需要对 \\(10^9+7\\) 取模。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
2
2 11 3
2 9 14
```

### 输出

```
1586
```

## 样例 #2

### 输入

```
3
3 172 11 31
2 701 5
2 12 21
```

### 输出

```
43651798
```

## 样例 #3

### 输入

```
3
1 1000000000
1 1000000000
1 1000000000
```

### 输出

```
999966190
```

## 样例 #4

### 输入

```
10
5 371094 2597554 69382646 8 99062422 
12 6553139 40789 2519037 81594 46824888 84 4912 27575435 2774 4060 331605 7438162 
5 36 65156096 71969458 2 221919 
7 738734 979629710 4841 7027881 6107446 267092962 634173170 
9 16252 6294622 6670 932636725 8 221842 111612 86053044 823517544 
3 589 70 347090831 
9 7853 6 3174 1 14675 42 10793760 777031 23350 
15 5143 23971 93 68615 4384503 3 5867 96099 81021 10506439 137503 43398308 52626 9895727 3 
6 9819 93 808 2025523 36 593697 
3 497384 767669 80690
```

### 输出

```
993753975
```


---
title: "持久戦"
layout: "post"
diff: 难度0
pid: AT_past201912_o
tag: []
---

# 持久戦

## 题目描述

有 $n$ 个正方体骰子，第 $i$ 个骰子的第 $j$ 个面上印着数字 $a_{i,j}$。骰子上的每个面都有均等的概率被掷出。

重复以下操作：每次选择一个骰子并抛掷它。若该操作已不是第一次且骰子上显示的数字不比上一次操作中显示的数字大，则结束操作。每次投骰子之前，都可以根据上一次的投掷结果进行对下一轮所用骰子的选择。

求出在做出选择以最大化投掷次数时的期望操作次数。

## 输入格式

第一行为一个整数 $n$。

接下来 $n$ 行，每行六个整数，表示一个骰子六个面上的数字。

## 输出格式

一行一个实数，最小期望操作次数。你的程序的输出与标准答案误差不超过 $10^{-6}$ 即可被判为通过。

### 数据规模与约定

$1 \le n \le 30000$，$1 \le a_{i,j} \le 10^9$。

## 样例 #1

### 输入

```
2
1 2 3 4 5 6
7 8 9 10 11 12
```

### 输出

```
3.64925355954377
```

## 样例 #2

### 输入

```
3
12 237 374 111 247 234
857 27 98 65 83 90
764 60 999 11 7 4
```

### 输出

```
3.42188884244970
```


---
title: "括弧"
layout: "post"
diff: 难度0
pid: AT_past202004_k
tag: []
---

# 括弧

## 题目描述

给定一个长度为 $n$ ，且仅由`(`和`)`组成的字符串 $s$（下标从 $1$ 开始）。现在，我们希望花费最少的代价，使得 $s$ 成为一个“平衡字符串”（定义后面会给出）。

首先，我们决定从 $s$ 中挑出 $0$ 个或更多字符，并将其改变（即括号方向改成相反的）。第 $i$ 个字符执行此操作的代价为 $c_i$。

然后，我们决定从 $s$ 中挑出 $0$ 个或更多（全部挑出也可）个字符并将其删除。第 $i$ 个字符执行此操作的代价为 $d_i$。删除完毕后，按顺序连接 $s$ 中的字符。

请求出让 $s$ 成为“平衡字符串”的最小代价。

**“平衡字符串”的定义：**

一个“平衡字符串”可以是：

- 一个空串；
- 由两个非空平衡字符串 $a$ 和 $b$ 连接而成的串；
- 在平衡字符串 $a$ 的两侧分别加上`(`和`)`后连成的字符串。

## 输入格式

第一行：$n$。

第二行：$s$。

第三行：$c_1,c_2,...,c_n$。

第四行：$d_1,d_2,...,d_n$。

## 输出格式

一行一个整数，最小代价。

### 限制条件

- $1 \le n \le 3000$；
- $s$ 的长度为 $n$，且仅由`(`和`)`组成；
- $1 \le c_i,d_i \le 10^9$；
- $n,c_i,d_i$ 均为整数。

## 样例 #1

### 输入

```
3
))(
3 5 7
2 6 5
```

### 输出

```
8
```

## 样例 #2

### 输入

```
1
(
10
20
```

### 输出

```
20
```

## 样例 #3

### 输入

```
10
))())((()(
13 18 17 3 20 20 6 14 14 2
20 1 19 5 2 19 2 19 9 4
```

### 输出

```
18
```

## 样例 #4

### 输入

```
4
()()
17 8 3 19
5 3 16 3
```

### 输出

```
0
```


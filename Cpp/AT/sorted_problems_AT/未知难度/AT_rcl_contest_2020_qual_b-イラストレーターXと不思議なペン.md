---
title: "イラストレーターXと不思議なペン"
layout: "post"
diff: 难度0
pid: AT_rcl_contest_2020_qual_b
tag: []
---

# イラストレーターXと不思議なペン

## 题目描述

插画家 X 用一支神奇的画笔来作画。这支画笔每秒自动变换颜色，依次为红色 → 蓝色 → 绿色 → 黄色，如此循环反复。

下图展示了 X 计划绘制的一幅画的样例：	
![X 的作品示例](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_rcl_contest_2020_qual_b/f5bdc913c830d16af83123d43975156b3263b3ba.png)

X 的绘画步骤如下：

1. 将纸张划分为 $N \times N$ 的网格。第 $i$ 行第 $j$ 列的格子记作 $(i, j)$。并决定用何种颜色涂装每个格子。
   
2. 在四个角落的格子上先行涂色：$(0, 0)$ 涂为红色，$(0, N-1)$ 涂为蓝色，$(N-1, 0)$ 涂为绿色，$(N-1, N-1)$ 涂为黄色。其他格子暂时不涂。

3. 在接下来的 $M$ 秒，每秒可以选择以下的操作之一。首次使用画笔时笔的颜色为红色。
   - **涂线**：用笔涂颜色。选择一个颜色与当前笔色一致的格子，从它出发，向上下左右某一个方向连续涂 5 格。
     - 比如，从 $(r, c)$ 向上涂色，则从 $(r-1, c)$ 到 $(r-5, c)$ 将被涂上。
     - 若超出网格边界，则只涂在有效范围内的格子上。
     - 如若想要涂的位置已有颜色，则覆盖为现在的颜色。

   - **不操作**：等候画笔自动切换至下一个颜色。

当前，X 已经完成了步骤（1）和（2），正准备开始第（3）步。你需要让更多的格子按照计划图案成功着色。

得分计算方法如下：

- 在一个测试用例中，成功按计划颜色着色的格子数量即为得分。
- 共有 50 个测试用例，所有测试用例的得分总和为题目总得分。

## 输入格式

输入通过标准输入给出，格式如下：

```
  N M
  A_{0,0} \ldots A_{0,N-1}
  \vdots \ddots \vdots
  A_{N-1,0} \ldots A_{N-1,N-1}
```

- $N$ 表示网格的边长，固定为 $N = 50$。
- $M$ 表示 X 在步骤（3）中可操作的次数，为 $M = 500$。
- $A_{i,j}$ 表示 X 计划涂在第 $i$ 行第 $j$ 列的颜色，$0 \leq A_{i,j} \leq 3$。对应关系是：$0$ 为红色，$1$ 为蓝色，$2$ 为绿色，$3$ 为黄色。
- 初始值满足：$A_{0,0} = 0$，$A_{0,N-1} = 1$，$A_{N-1,0} = 2$，$A_{N-1,N-1} = 3$。

## 输出格式

输出 $M$ 行描述每次操作：

- **涂线**时，输出选中格子的坐标 $(r, c)$（$0 \leq r, c < N$），后跟方向字符 `U`、`D`、`L`、`R` 中之一（分别对应向上、下、左、右），如“`r c D`”。若所选格子的颜色与当前笔的不符，将视作错误（WA）。
- **不操作**时，输出 `-1`。

## 说明/提示

### 测试用例的生成

每个测试用例由生成器生成。测试用例、生成器及示例输入数据可以通过以下链接获取：
[生成器和测试程序资源](https://github.com/recruit-communications/rcl-contest-2020/tree/master/qual_B/tester)

输出需满足条件：每种颜色的格子数量不少于 $\lfloor N^2 / 6 \rfloor$。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
7 8
0 0 0 0 1 1 1
0 0 0 0 1 1 1
0 0 1 1 1 1 1
2 2 2 2 2 1 1
2 2 2 2 3 1 1
2 2 2 3 3 3 3
2 2 3 3 3 3 3
```

### 输出

```
0 0 R
0 6 L
6 0 R
6 6 D
-1
0 2 D
6 3 R
-1
```


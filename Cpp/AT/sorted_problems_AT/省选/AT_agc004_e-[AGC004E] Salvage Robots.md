---
title: "[AGC004E] Salvage Robots"
layout: "post"
diff: 省选/NOI-
pid: AT_agc004_e
tag: ['动态规划 DP', '前缀和']
---

# [AGC004E] Salvage Robots

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc004/tasks/agc004_e

縦 $ H $ 行、横 $ W $ 列のマス目があります。 上から $ i $ ($ 1\ <\ =i\ <\ =H $) 行目、左から $ j $ ($ 1\ <\ =j\ <\ =W $) 列目のマスの情報は、文字 $ a_{ij} $ によって次のように表されます。

- `.` : 空きマスである。
- `o` : ロボットが $ 1 $ 個置かれたマスである。
- `E` : 出口のあるマスである。 `E` はマス目全体にちょうど $ 1 $ 個含まれる。

高橋君は次の操作を何回か行い、できるだけ多くのロボットを救出しようとしています。

- 上下左右のうちどれかひとつの向きを選び、すべてのロボットをその向きへ 1 マスだけ移動させる。 このとき、出口のあるマスへ移動したロボットは直ちに救出され、マス目から消える。 また、マス目の外へ移動したロボットは直ちに爆発し、マス目から消える。

高橋君が救出できるロボットの個数の最大値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ H $ $ W $ $ a_{11} $$ ... $$ a_{1W} $ $ : $ $ a_{H1} $$ ... $$ a_{HW} $

## 输出格式

高橋君が救出できるロボットの個数の最大値を出力せよ。

## 说明/提示

### 制約

- $ 2\ <\ =H，W\ <\ =100 $
- $ a_{ij} $ は `.`，`o`，`E` のどれかである。
- `E` はマス目全体にちょうど $ 1 $ 個含まれる。

### Sample Explanation 1

例えば、左、上、右の順にロボットを移動させればよいです。

### Sample Explanation 3

右、右、右、下、下の順にロボットを移動させればよいです。

## 样例 #1

### 输入

```
3 3
o.o
.Eo
ooo
```

### 输出

```
3
```

## 样例 #2

### 输入

```
2 2
E.
..
```

### 输出

```
0
```

## 样例 #3

### 输入

```
3 4
o...
o...
oooE
```

### 输出

```
5
```

## 样例 #4

### 输入

```
5 11
ooo.ooo.ooo
o.o.o...o..
ooo.oE..o..
o.o.o.o.o..
o.o.ooo.ooo
```

### 输出

```
12
```


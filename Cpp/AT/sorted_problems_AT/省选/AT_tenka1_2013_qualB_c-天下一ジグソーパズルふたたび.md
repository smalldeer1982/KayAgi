---
title: "天下一ジグソーパズルふたたび"
layout: "post"
diff: 省选/NOI-
pid: AT_tenka1_2013_qualB_c
tag: []
---

# 天下一ジグソーパズルふたたび

## 题目描述

高桥君的恶作剧让天下一程序员大赛的海报被拆散，而翔平君受到启发，决定将这幅海报变成一个 $N \times M$ 的拼图。

每块拼图的相邻边要么是凸的，要么是凹的，外边缘则是直线。我们关心的是这样的一种拼图块：它的一边是直线，而其余三边都是凹的，我们称之为「特殊拼图块」。你的任务是，找出在满足以下条件的情况下，可以拼出最多的「特殊拼图块」：

- 至少要有 $A$ 个四边全是凹形的拼图块。
- 最多只能有 $B$ 个四边全是凸形的拼图块。

输入格式如下：
> $N\ M\ A\ B$

其中，$N$ 和 $M$ 是拼图的高度和宽度，$A$ 是四边凹形拼图块至少需要的数量，$B$ 是四边凸形拼图块最多允许的数量。所有这些数值用空格分隔。

请注意：
- $2 \leq N, M \leq 8$
- $A \geq 0$
- $B \geq 0$
- $A + B \leq (N-2) \times (M-2)$
- 至少存在一种满足条件的拼图构造方式。

特别提示：
- 当 $A = 0$ 且 $B = (N-2) \times (M-2)$ 时，若输入正确，将获得部分得分 30 分（满分120分）。
- 当 $M, N \leq 4$ 时，若输入正确，将获得部分得分 40 分。

请输出「特殊拼图块」的最大数量：

输入样例：
```
3 3 0 1
```
输出样例：
```
4
```

另一个输入样例：
```
3 4 1 1
```
输出样例：
```
3
```

 **本翻译由 AI 自动生成**


---
title: "[AGC038F] Two Permutations"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_agc038_f
tag: ['网络流', '二分图', '最小割']
---

# [AGC038F] Two Permutations

## 题目描述

**【题意简述】**

给定两个 $0 \sim (N - 1)$ 的排列 $\{P_0, P_1, \ldots , P_{N - 1}\}$ 和 $\{Q_0, Q_1, \ldots , Q_{N - 1}\}$。

要求构造两个 $0 \sim (N - 1)$ 的排列 $\{A_0, A_1, \ldots , A_{N - 1}\}$ 和 $\{B_0, B_1, \ldots , B_{N - 1}\}$。

且必须满足条件：

- $A_i$ 要么等于 $i$，要么等于 $P_i$。
- $B_i$ 要么等于 $i$，要么等于 $Q_i$。

你需要最大化 $A_i \ne B_i$ 的下标 $i$ 的数量，输出这个最大值。

## 输入格式

第一行一个整数 $N$。  
第二行 $N$ 个整数 $P_0, P_1, \ldots , P_{N - 1}$。  
第三行 $N$ 个整数 $Q_0, Q_1, \ldots , Q_{N - 1}$。

## 输出格式

输出一个整数表示答案。

## 说明/提示

对于 $100\%$ 的数据，$1 \le N \le {10}^5$。

## 样例 #1

### 输入

```
4

2 1 3 0

0 2 3 1
```

### 输出

```
3
```

## 样例 #2

### 输入

```
10

0 4 5 3 7 8 2 1 9 6

3 8 5 6 4 0 2 1 7 9
```

### 输出

```
8
```

## 样例 #3

### 输入

```
32

22 31 30 29 7 17 16 3 14 9 19 11 2 5 10 1 25 18 15 24 20 0 12 21 27 4 26 28 8 6 23 13

22 3 2 7 17 9 16 4 14 8 19 26 28 5 10 1 25 18 15 13 11 0 12 23 21 20 29 24 27 6 30 31
```

### 输出

```
28
```



---

---
title: "[ARC161F] Everywhere is Sparser than Whole (Judge)"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_arc161_f
tag: ['网络流', '最小割']
---

# [ARC161F] Everywhere is Sparser than Whole (Judge)

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc161/tasks/arc161_f

頂点集合が空でない単純無向グラフの**密度**を $ \displaystyle\frac{(辺数)}{(頂点数)} $ と定義します．

正整数 $ N,\ D $ と，$ N $ 頂点 $ DN $ 辺の単純無向グラフ $ G $ が与えられます． $ G $ の頂点には $ 1 $ から $ N $ までの番号が付いており，$ i $ 番目の辺は頂点 $ A_i $ と頂点 $ B_i $ を結んでいます． $ G $ が以下の条件を満たしているかどうかを判定してください．

**条件:** $ G $ の頂点集合を $ V $ とする． $ V $ の任意の空でない**真**部分集合 $ X $ に対して，$ X $ による $ G $ の誘導部分グラフの密度は $ D $ **未満**である．

$ T $ 個のテストケースが与えられるので，それぞれについて答えてください．

 誘導部分グラフとは

 グラフ $ G $ の頂点部分集合 $ X $ に対して，$ X $ による $ G $ の**誘導部分グラフ**とは，「頂点集合が $ X $ であり，辺集合が『 $ G $ の辺であって $ X $ 内の $ 2 $ 頂点を結ぶもの全体』であるグラフ」を指します． 上記の条件では，頂点部分集合として空集合でも全体でもないもののみを考えていることに注意してください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ T $ $ \mathrm{case}_1 $ $ \mathrm{case}_2 $ $ \vdots $ $ \mathrm{case}_T $

各テストケース $ \mathrm{case}_i\ (1\ \leq\ i\ \leq\ T) $ は以下の形式である．

> $ N $ $ D $ $ A_1 $ $ B_1 $ $ A_2 $ $ B_2 $ $ \vdots $ $ A_{DN} $ $ B_{DN} $

## 输出格式

$ T $ 行出力せよ． $ i $ 行目には，$ i $ 番目のテストケースについて，与えられたグラフ $ G $ が条件を満たすなら `Yes` を，満たさないなら `No` を出力せよ．

## 说明/提示

### 制約

- $ T\ \geq\ 1 $
- $ N\ \geq\ 1 $
- $ D\ \geq\ 1 $
- $ 1 $ つの入力に含まれるテストケースについて，$ DN $ の総和は $ 5\ \times\ 10^4 $ 以下である．
- $ 1\ \leq\ A_i\ <\ B_i\ \leq\ N\ (1\ \leq\ i\ \leq\ DN) $
- $ (A_i,\ B_i)\ \neq\ (A_j,\ B_j)\ (1\ \leq\ i\ <\ j\ \leq\ DN) $
 
### Sample Explanation 1

\- $ 1 $ つ目のテストケースは\[問題 D\](./arc161\_d) の出力例 1 と同じであり，条件を満たします． - $ 2 $ つ目のテストケースについて，頂点集合 $ \{1,\ 2,\ 3,\ 4\} $ の空でない真部分集合 $ \{1,\ 2,\ 3\} $ による誘導部分グラフの辺集合は $ \{(1,\ 2),\ (1,\ 3),\ (2,\ 3)\} $ であり，その密度は $ \displaystyle\frac{3}{3}\ =\ 1\ =\ D $ です． したがって，このグラフは条件を満たしません．

## 样例 #1

### 输入

```
2

3 1

1 2

1 3

2 3

4 1

1 2

1 3

2 3

3 4
```

### 输出

```
Yes

No
```



---


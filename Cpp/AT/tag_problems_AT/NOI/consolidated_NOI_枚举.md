---
title: "[AGC012E] Camel and Oases"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_agc012_e
tag: ['枚举', '状态合并']
---

# [AGC012E] Camel and Oases

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc012/tasks/agc012_e

$ N $ 箇所のオアシスが数直線上に並んでおり、左から $ i $ 番目のオアシスは座標 $ x_i $ にあります。

ラクダはこれらのオアシス全てを訪れたいです。 ラクダははじめ、体積 $ V $ のこぶを持っています。こぶの体積を $ v $ としたとき、ラクダは水を最大で $ v $ 蓄えることができます。ラクダはオアシスにいるときのみ、水を補給することができます。オアシスでは蓄えられるだけ水を補給することができ、同じオアシスで何回でも水を補給することができます。

ラクダは数直線上を歩くか、ジャンプするかのどちらかの方法で移動することができます。

- ラクダが距離 $ d $ だけ歩いたとき、蓄えている水を $ d $ だけ消費します。ただし、蓄えられた水の量が負になるようには移動できません。
- 蓄えられた水の量を $ v $ として $ v\ >\ 0 $ のとき、ラクダはジャンプをすることで数直線上の任意の地点へと移動することができます。その後、こぶの体積が $ v/2 $(小数点以下は切り捨て) となり、蓄えられた水の量が $ 0 $ になります。

ラクダが $ 1,2,3,...,N $ 番目のオアシスから出発したとき、全てのオアシスを訪れることが可能かどうかをそれぞれ判定してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ V $ $ x_1 $ $ x_2 $ $ ... $ $ x_{N} $

## 输出格式

答えを $ N $ 行に出力せよ。$ i $ 行目では $ i $ 番のオアシスから出発して全てのオアシスを訪れることが可能ならば `Possible` と、不可能ならば `Impossible` と出力せよ。

## 说明/提示

### 制約

- $ 2\ ≦\ N,V\ ≦\ 2\ ×\ 10^5 $
- $ -10^9≦\ x_1\ <\ x_2\ <\ ...\ <\ x_N\ ≦10^9 $
- $ V,\ x_i $ はいずれも整数

### Sample Explanation 1

以下のように移動することで、$ 1 $ 番のオアシスから出発して全てのオアシスを訪れることが可能です。 - $ 1 $ 番のオアシスから $ 2 $ 番のオアシスへと歩いて移動する。蓄えられた水の量は $ 0 $ となる。 - $ 2 $ 番のオアシスで水を補給する。蓄えられた水の量は $ 2 $ となる。 - $ 2 $ 番のオアシスから $ 3 $ 番のオアシスへとジャンプして移動する。蓄えられた水の量は $ 0 $ となり、こぶの体積は $ 1 $ となる。

### Sample Explanation 2

オアシスは何度訪れても構いません。

## 样例 #1

### 输入

```
3 2

1 3 6
```

### 输出

```
Possible

Possible

Possible
```

## 样例 #2

### 输入

```
7 2

-10 -4 -2 0 2 4 10
```

### 输出

```
Impossible

Possible

Possible

Possible

Possible

Possible

Impossible
```

## 样例 #3

### 输入

```
16 19

-49 -48 -33 -30 -21 -14 0 15 19 23 44 52 80 81 82 84
```

### 输出

```
Possible

Possible

Possible

Possible

Possible

Possible

Possible

Possible

Possible

Possible

Possible

Possible

Impossible

Impossible

Impossible

Impossible
```



---

---
title: "[AGC020F] Arcs on a Circle"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_agc020_f
tag: ['动态规划 DP', '离散化', '枚举']
---

# [AGC020F] Arcs on a Circle

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc020/tasks/agc020_f

長さ $ C $ の円周があり、この上に $ N $ 本の円弧を配置します。円弧 $ i $ の長さは $ L_i $ です。

それぞれの円弧 $ i $ は、円周上の一様ランダムな位置に配置されます。 すなわち、円周上のランダムな点が選ばれ、その点を中心とした長さ $ L_i $ の円弧が出現します。

これらの円弧は、それぞれ独立に配置されます。例えば、円弧が交差したり、ある円弧が別の円弧を含むことがあります。

円周上のすべての点が少なくとも一本の円弧で覆われる確率はいくらでしょうか？ 円弧はその両端も覆うものとします。

## 输入格式

入力は標準入力から以下の形式で与えられる。

> $ N $ $ C $ $ L_1 $ $ L_2 $ $ ... $ $ L_N $

## 输出格式

円周上のすべての点が少なくとも一本の円弧で覆われる確率を出力せよ。 解答は、絶対誤差が $ 10^{-11} $ 以下であれば正答とみなされる。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 6 $
- $ 2\ \leq\ C\ \leq\ 50 $
- $ 1\ \leq\ L_i\ <\ C $
- 入力値はすべて整数である。

### Sample Explanation 1

二本の円弧の中心間の距離が $ 1 $ 以上でなければなりません。長さ $ 3 $ の円周上でそのようになる確率は $ 1\ /\ 3 $ です。

### Sample Explanation 2

円弧の長さの合計がちょうど $ C $ であり、円周上のすべての点が少なくとも一本の円弧に覆われることはありえますが、この事象の発生確率は $ 0 $ です。

## 样例 #1

### 输入

```
2 3

2 2
```

### 输出

```
0.3333333333333333
```

## 样例 #2

### 输入

```
4 10

1 2 3 4
```

### 输出

```
0.0000000000000000
```

## 样例 #3

### 输入

```
4 2

1 1 1 1
```

### 输出

```
0.5000000000000000
```

## 样例 #4

### 输入

```
3 5

2 2 4
```

### 输出

```
0.4000000000000000
```

## 样例 #5

### 输入

```
4 6

4 1 3 2
```

### 输出

```
0.3148148148148148
```

## 样例 #6

### 输入

```
6 49

22 13 27 8 2 19
```

### 输出

```
0.2832340720702695
```



---

---
title: "XOR Tree"
layout: "post"
diff: NOI/NOI+/CTSC
pid: AT_apc001_f
tag: ['贪心', '枚举', '状态合并']
---

# XOR Tree

## 题目描述

给一棵有 $N$ 个节点的树，节点编号从 $0$ 到 $N-1$，
树边编号从 $1$ 到 $N-1$。第 $i$ 条边连接节点 $x_i$ 和 $y_i$，其权值为 $a_i$。

你可以对树执行任意次操作，每次操作选取一条链和一个非负整数 $x$，将链上的边的权值与 $x$ 异或成为该边的新权值。

问最少需要多少次操作，使得所有边的权值都为 $0$。

## 输入格式

第一行有 $1$ 个整数，代表树的节点数 $N$。

接下来 $N-1$ 行，每行有 $3$ 个整数，第 $i+1$ 行上的整数分别代表第 $i$ 条边的参数 $x_i,y_i,a_i$。

## 输出格式

仅一行 $1$ 个整数，即最小操作数。

## 说明/提示

- $2\leq N \leq 10^5$
- $0\leq x_i,y_i \leq N-1$
- $0\leq a_i \leq 15$
- 保证给定的图是一棵树
- 保证输入数据都是整数

## 样例 #1

### 输入

```
5

0 1 1

0 2 3

0 3 6

3 4 4
```

### 输出

```
3
```

## 样例 #2

### 输入

```
2

1 0 0
```

### 输出

```
0
```



---


---
title: "[ABC353F] Tile Distance"
layout: "post"
diff: 提高+/省选-
pid: AT_abc353_f
tag: ['数学', '分类讨论']
---

# [ABC353F] Tile Distance

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc353/tasks/abc353_f

座標平面上にタイルが敷き詰められています。 $ 1\times1 $ の大きさの小タイルと $ K\times\ K $ の大きさの大タイルの $ 2 $ 種類があり、次の規則に従って敷き詰められています。

- 整数の組 $ (i,j) $ に対し、正方形 $ \lbrace(x,y)\mid\ i\leq\ x\leq\ i+1\wedge\ j\leq\ y\leq\ j+1\rbrace $ は $ 1 $ つの小タイルもしくは $ 1 $ つの大タイルに含まれる。
  - $ \left\lfloor\dfrac\ iK\right\rfloor+\left\lfloor\dfrac\ jK\right\rfloor $ が偶数のとき、小タイルに含まれる。
  - そうでないとき、大タイルに含まれる。
 
ただし、タイルは境界を含むものとし、共通部分が正の面積をもつような $ 2 $ つの異なるタイルは存在しないとします。

例えば、$ K=3 $ のとき、タイルは以下のようになります。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_abc353_f/4828cef3de44d96612c498eeceffc46bc8c608c7.png)

 高橋君は、はじめ座標平面上の点 $ (S\ _\ x+0.5,S\ _\ y+0.5) $ にいます。

高橋君は、次の移動を好きなだけ繰り返します。

- 上下左右の方向と正の整数 $ n $ を選ぶ。その方向に $ n $ だけ進む。
 
高橋君が異なるタイルを通るたび、高橋君は通行料を $ 1 $ だけ支払います。

高橋君が点 $ (T\ _\ x+0.5,T\ _\ y+0.5) $ にたどり着くために支払わなければならない通行料の最小値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ K $ $ S\ _\ x $ $ S\ _\ y $ $ T\ _\ x $ $ T\ _\ y $

## 输出格式

高橋君が支払わなければならない通行料の最小値を出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ K\leq10\ ^\ {16} $
- $ 0\leq\ S\ _\ x\leq2\times10\ ^\ {16} $
- $ 0\leq\ S\ _\ y\leq2\times10\ ^\ {16} $
- $ 0\leq\ T\ _\ x\leq2\times10\ ^\ {16} $
- $ 0\leq\ T\ _\ y\leq2\times10\ ^\ {16} $
- 入力はすべて整数
 
### Sample Explanation 1

例えば、以下のように移動することで支払う通行料を $ 5 $ にすることができます。 !\[\](https://img.atcoder.jp/abc353/35d47ae5cfbcc870ac4d285a8e024278.png) - 上に $ 3 $ 進む。通行料を $ 1 $ 支払う。 - 左に $ 2 $ 進む。通行料を $ 1 $ 支払う。 - 上に $ 1 $ 進む。通行料を $ 1 $ 支払う。 - 左に $ 4 $ 進む。通行料を $ 2 $ 支払う。 支払う通行料を $ 4 $ 以下にすることはできないので、`5` を出力してください。

### Sample Explanation 2

!\[\](https://img.atcoder.jp/abc353/a454c75aab412b8ada226a5e7741e5e1.png) 高橋君が最短距離で移動するとき、どのように移動しても通行料を $ 42 $ だけ支払います。 支払う通行料を $ 41 $ 以下にすることはできないので、`42` を出力してください。

### Sample Explanation 3

通行料を支払わなくてよい場合もあります。

## 样例 #1

### 输入

```
3

7 2

1 6
```

### 输出

```
5
```

## 样例 #2

### 输入

```
1

41 42

13 56
```

### 输出

```
42
```

## 样例 #3

### 输入

```
100

100 99

199 1
```

### 输出

```
0
```

## 样例 #4

### 输入

```
96929423

5105216413055191 10822465733465225

1543712011036057 14412421458305526
```

### 输出

```
79154049
```



---

---
title: "[AGC040B] Two Contests"
layout: "post"
diff: 提高+/省选-
pid: AT_agc040_b
tag: ['排序', '分类讨论']
---

# [AGC040B] Two Contests

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc040/tasks/agc040_b

$ 1 $ から $ 10^9 $ までの番号のついた $ 10^9 $ 人が参加する大会があります． この大会では，$ 2 $ 回のコンテストが行われます．

コンテストで出題する問題として，$ 1 $ から $ N $ までの番号のついた $ N $ 問が準備されています． 問題 $ i $ が出題された場合，番号が $ L_i $ 以上 $ R_i $ 以下の参加者は全員正解し，逆にそれ以外の参加者は誰も解けません．

これらの $ N $ 問を，$ 2 $ 回のコンテストに分けて出題します． どの問題も，ちょうど $ 1 $ 回のコンテストで出題されなくてはいけません． また，どちらのコンテストも，少なくとも $ 1 $ 問以上の問題が出題される必要があります．

それぞれのコンテストの**楽しさ**は，そのコンテストの全ての問題を解く参加者の人数です． $ 2 $ 回のコンテストの楽しさの和としてありうる最大の値を求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ L_1 $ $ R_1 $ $ L_2 $ $ R_2 $ $ \vdots $ $ L_N $ $ R_N $

## 输出格式

$ 2 $ 回のコンテストの楽しさの和としてありうる最大の値を出力せよ．

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 10^5 $
- $ 1\ \leq\ L_i\ \leq\ R_i\ \leq\ 10^9 $
- 入力される値はすべて整数である．

### Sample Explanation 1

以下のようにするのが最適です． - $ 1 $ 回目のコンテストで問題 $ 1,3 $ を出題する．人 $ 5,6,7 $ がこのコンテストの問題を全て解くので，コンテストの楽しさは $ 3 $ である． - $ 2 $ 回目のコンテストで問題 $ 2,4 $ を出題する．人 $ 2,3,4 $ がこのコンテストの問題を全て解くので，コンテストの楽しさは $ 3 $ である． - $ 2 $ 回のコンテストの楽しさの和が $ 6 $ になる．楽しさの和を $ 6 $ より大きくすることは出来ない．

## 样例 #1

### 输入

```
4

4 7

1 4

5 8

2 5
```

### 输出

```
6
```

## 样例 #2

### 输入

```
4

1 20

2 19

3 18

4 17
```

### 输出

```
34
```

## 样例 #3

### 输入

```
10

457835016 996058008

456475528 529149798

455108441 512701454

455817105 523506955

457368248 814532746

455073228 459494089

456651538 774276744

457667152 974637457

457293701 800549465

456580262 636471526
```

### 输出

```
540049931
```



---

---
title: "[AGC062C] Mex of Subset Sum"
layout: "post"
diff: 提高+/省选-
pid: AT_agc062_c
tag: ['数学', '分类讨论']
---

# [AGC062C] Mex of Subset Sum

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc062/tasks/agc062_c

長さ $ N $ の整数列 $ A=(A_1,A_2,\dots,A_N) $ が与えられます。

以下の条件を満たす正整数 $ X $ を小さいほうから順に $ K $ 個求めてください。

- $ A $ の空でない（連続とは限らない）部分列であって、要素の和が $ X $ であるものが**存在しない**

## 输入格式

入力は以下の形式で標準入力から与えられます。

> $ N $ $ K $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

条件を満たす $ K $ 個の正整数を昇順に、空白区切りで出力してください。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 60 $
- $ 1\ \leq\ K\ \leq\ 1000 $
- $ 1\ \leq\ A_i\ \leq\ 10^{15} $
- 入力される値はすべて整数
 
### Sample Explanation 1

$ A $ の部分列としては $ (1),(2),(1,2),(5),(1,5),(2,5),(1,2,5) $ が考えられ、要素の和はそれぞれ $ 1,2,3,5,6,7,8 $ です。よって $ X=1,2,3,5,6,7,8 $ に対しては、要素の和が $ X $ であるような $ A $ の部分列が存在します。 一方 $ X=4,9,10 $ に対しては、要素の和が $ X $ であるような $ A $ の部分列は存在しません。

## 样例 #1

### 输入

```
3 3

1 2 5
```

### 输出

```
4 9 10
```

## 样例 #2

### 输入

```
20 10

324 60 1 15 60 15 1 60 319 1 327 1 2 60 2 345 1 2 2 15
```

### 输出

```
14 29 44 59 74 89 104 119 134 149
```



---

---
title: "[ARC155C] Even Sum Triplet"
layout: "post"
diff: 提高+/省选-
pid: AT_arc155_c
tag: ['分类讨论']
---

# [ARC155C] Even Sum Triplet

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc155/tasks/arc155_c

長さ $ N $ の整数列 $ A=(A_1,\ A_2,\ \dots,\ A_N),\ B=(B_1,\ B_2,\ \dots,\ B_N) $ が与えられます。

あなたは以下の操作を好きな回数行うことができます。

- $ A_i+A_{i+1}+A_{i+2} $ が偶数であるような整数 $ i\ (1\ \leq\ i\ \leq\ N-2) $ を選ぶ。そして $ A_i,\ A_{i+1},\ A_{i+2} $ を好きに並び替える。
 
$ A $ を $ B $ に一致させることができるか判定してください。

## 输入格式

入力は以下の形式で標準入力から与えられます。

> $ N $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $ $ B_1 $ $ B_2 $ $ \dots $ $ B_N $

## 输出格式

$ A $ を $ B $ に一致させることが可能な場合は `Yes` を、そうでない場合は `No` を出力せよ。

## 说明/提示

### 制約

- $ 3\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ A_i,\ B_i\ \leq\ 2\ \times\ 10^5 $
- 入力される値はすべて整数
 
### Sample Explanation 1

$ A_1+A_2+A_3 $ は $ 1+2+3=6 $ であり偶数なので、操作では $ i=1 $ を選ぶことができます。 $ i=1 $ を選んで操作し、$ A_1,\ A_2,\ A_3 $ を $ A_3,\ A_1,\ A_2 $ に並び替えると、 $ A $ は $ (3,\ 1,\ 2,\ 4,\ 5) $ に変化します。 この操作により $ A $ を $ B $ に一致させることができるので、 `Yes` を出力します。

## 样例 #1

### 输入

```
5

1 2 3 4 5

3 1 2 4 5
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
5

1 2 4 6 5

5 1 4 2 6
```

### 输出

```
No
```

## 样例 #3

### 输入

```
9

2 10 4 3 6 2 6 8 5

2 4 10 3 8 6 6 2 5
```

### 输出

```
Yes
```



---

---
title: "[ARC183B] Near Assignment"
layout: "post"
diff: 提高+/省选-
pid: AT_arc183_b
tag: ['分类讨论']
---

# [ARC183B] Near Assignment

## 题目描述

给定两个长度为 $n$ 的序列 $A,B$ 以及整数 $k$，可以进行以下操作任意多次（也可以不操作）：

选择两个整数 $i,j$（$1\le i,j\le n$）满足 $|i-j|\le k$，将 $a_i$ 的值变为 $a_j$。

求是否可以将 $A$ 序列变为 $B$ 序列，如果可以，输出 `Yes`，否则输出 `No`。多组询问。

## 输入格式

第一行一个正整数 $T$ 表示数据组数。

每组数据第一行两个正整数 $n,k$，题目接下来两行分别 $n$ 个数表示序列 $A$ 和 $B$。

## 输出格式

对于每一组数据，输出 `Yes` 表示可以将 $A$ 变为 $B$，否则输出 `No`。

## 说明/提示

样例的第 1 组数据解释：

选择 $i=2,j=3$，则 $a_2\leftarrow a_3=2$，$A$ 变成 $(1,2,2)$。

对于所有数据，满足：$1\le T\le 1.25\times 10^5,1\le k<n\le 2.5\times 10^5,\sum n\le2.5\times 10^5$。保证输入的数都是整数。

## 样例 #1

### 输入

```
4

3 1

1 1 2

1 2 2

5 4

2 4 5 1 3

2 1 3 2 2

13 1

3 1 3 3 5 3 3 4 2 2 2 5 1

5 3 3 3 4 2 2 2 2 5 5 1 3

20 14

10 6 6 19 13 16 15 15 2 10 2 16 9 12 2 6 13 5 5 9

5 9 6 2 10 19 16 15 13 12 10 2 9 6 5 16 19 12 15 13
```

### 输出

```
Yes

Yes

No

Yes
```



---


---
title: "[ABC284F] ABCBAC"
layout: "post"
diff: 普及+/提高
pid: AT_abc284_f
tag: ['哈希 hashing', 'KMP 算法']
---

# [ABC284F] ABCBAC

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc284/tasks/abc284_f

長さ $ N $ の文字列 $ S $ および整数 $ i\ (0\leq\ i\leq\ N) $ に対して、$ f_i(S) $ を、

- $ S $ の先頭 $ i $ 文字
- $ S $ を反転した文字列
- $ S $ の末尾 $ N-i $ 文字

をこの順に連結した文字列と定義します。 例えば、$ S= $ `abc`、$ i=2 $ のとき、$ f_i(S)= $ `abcbac` です。

長さ $ 2N $ の文字列 $ T $ が与えられます。 $ f_i(S)=T $ を満たす長さ $ N $ の文字列 $ S $ と整数 $ i\ (0\leq\ i\leq\ N) $ の組を $ 1 $ つ見つけてください。 そのような $ S,i $ の組が存在しない場合は、それを報告してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ T $

## 输出格式

条件を満たす $ S,i $ の組が存在しないならば、`-1` と出力せよ。 存在するならば、$ S,i $ を改行区切りで出力せよ。 条件を満たす $ S,i $ の組が複数存在する場合は、そのどれを出力しても良い。

## 说明/提示

### 制約

- $ 1\leq\ N\ \leq\ 10^6 $
- $ N $ は整数
- $ T $ は英小文字からなる長さ $ 2N $ の文字列

### Sample Explanation 1

問題文中に書いた通り、$ S= $ `abc`、$ i=2 $ とすると $ f_i(S)= $ `abcbac` となって $ T $ に一致するため、`abc` と $ 2 $ を出力します。

### Sample Explanation 2

$ S= $ `abab`、$ i=3 $ としても条件を満たします。

### Sample Explanation 3

$ S= $ `agc`、$ i=3 $ としても条件を満たします。

### Sample Explanation 4

条件を満たす $ S,i $ の組が存在しない場合は `-1` を出力してください。

## 样例 #1

### 输入

```
3
abcbac
```

### 输出

```
abc
2
```

## 样例 #2

### 输入

```
4
abababab
```

### 输出

```
abab
1
```

## 样例 #3

### 输入

```
3
agccga
```

### 输出

```
cga
0
```

## 样例 #4

### 输入

```
4
atcodeer
```

### 输出

```
-1
```



---

---
title: "[ABC398F] ABCBA"
layout: "post"
diff: 普及+/提高
pid: AT_abc398_f
tag: ['KMP 算法', 'Manacher 算法']
---

# [ABC398F] ABCBA

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc398/tasks/abc398_f

请找出一个以字符串 $S$ 为前缀的最短回文串。

## 输入格式

输入通过标准输入给出，格式如下：

> $S$

## 输出格式

输出答案。  
若存在多个解，输出任意一个均可。


## 说明/提示

### 约束条件

- $S$ 是由大写字母构成的字符串，长度为 $1$ 以上 $500000$ 以下

### 样例解释 1

`ABCBA` 是以 $S=$ `ABC` 为前缀的最短回文。

### 样例解释 2

`Z` 是以 $S=$ `Z` 为前缀的最短回文（此时 $S$ 本身就是回文）。

### 样例解释 3

`TREERT` 是以 $S=$ `TREE` 为前缀的最短回文。

翻译由 DeepSeek R1 完成

## 样例 #1

### 输入

```
ABC
```

### 输出

```
ABCBA
```

## 样例 #2

### 输入

```
Z
```

### 输出

```
Z
```

## 样例 #3

### 输入

```
TREE
```

### 输出

```
TREERT
```



---

---
title: "[ARC181B] Annoying String Problem"
layout: "post"
diff: 普及+/提高
pid: AT_arc181_b
tag: ['哈希 hashing', 'KMP 算法']
---

# [ARC181B] Annoying String Problem

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc181/tasks/arc181_b

英小文字からなる文字列 $ S,T $ および `0`, `1` からなる文字列 $ X $ に対し、英小文字からなる文字列 $ f(S,T,X) $ を以下のように定めます。

- 空文字列に対し、 $ i=1,2,\dots,|X| $ の順に、 $ X $ の $ i $ 文字目が `0` なら $ S $ を、 `1` なら $ T $ を末尾に結合することで得られる文字列
 
英小文字からなる文字列 $ S $ および `0`, `1` からなる文字列 $ X,Y $ が与えられます。

英小文字からなる文字列 $ T $ （空文字列でもよい）であって、 $ f(S,T,X)=f(S,T,Y) $ が成り立つようなものが存在するか判定してください。

$ t $ 個のテストケースが与えられるのでそれぞれについて答えを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ t $ $ \mathrm{case}_1 $ $ \vdots $ $ \mathrm{case}_t $

各ケースは以下の形式で与えられる。

> $ S $ $ X $ $ Y $

## 输出格式

$ t $ 行出力せよ。 $ i $ 行目には $ i $ 番目のテストケースについて、条件を満たす $ T $ が存在するならば `Yes` を、存在しないならば `No` を出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ t\ \leq\ 5\ \times\ 10^5 $
- $ 1\ \leq\ |S|\ \leq\ 5\times\ 10^5 $
- $ 1\ \leq\ |X|,|Y|\ \leq\ 5\times\ 10^5 $
- $ S $ は英小文字からなる文字列
- $ X,Y $ は `0`, `1` からなる文字列
- $ 1 $ つの入力に含まれるテストケースについて、 $ |S| $ の総和は $ 5\ \times\ 10^5 $ 以下
- $ 1 $ つの入力に含まれるテストケースについて、 $ |X| $ の総和は $ 5\ \times\ 10^5 $ 以下
- $ 1 $ つの入力に含まれるテストケースについて、 $ |Y| $ の総和は $ 5\ \times\ 10^5 $ 以下
 
### Sample Explanation 1

以下、文字列の結合を $ + $ を用いて表します。 $ 1 $ 番目のテストケースについて、 $ T= $`ara` とすると $ f(S,T,X)=S+T= $`araaraara` $ ,\ f(S,T,Y)=T+T+T= $`araaraara` となるため、 $ f(S,T,X)=f(S,T,Y) $ が成り立ちます。 $ 2,3 $ 番目のテストケースについて、条件を満たす $ T $ は存在しません。

### Sample Explanation 2

$ T $ は空文字列であっても構いません。

## 样例 #1

### 输入

```
3

araara

01

111

araaaa

100100

0010111

abacabac

0

1111
```

### 输出

```
Yes

No

No
```

## 样例 #2

### 输入

```
2

empty

10101

00

empty

11111

111
```

### 输出

```
Yes

Yes
```



---


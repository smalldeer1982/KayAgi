---
title: "[AGC038B] Sorting a Segment"
layout: "post"
diff: 普及+/提高
pid: AT_agc038_b
tag: ['单调队列']
---

# [AGC038B] Sorting a Segment

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc038/tasks/agc038_b

すぬけくんは、$ (0,1,\cdots,N-1) $ の順列 $ (P_0,P_1,\cdots,P_{N-1}) $ を持っています。

すぬけくんは、以下の操作を**ちょうど $ 1 $ 回**だけ行います。

- $ P $ の連続する $ K $ 要素を選び、それらを昇順に並び替える。

操作後の $ P $ としてありうる順列の個数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ K $ $ P_0 $ $ P_1 $ $ \cdots $ $ P_{N-1} $

## 输出格式

操作後の $ P $ としてありうる順列の個数を出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 200000 $
- $ 2\ \leq\ K\ \leq\ N $
- $ 0\ \leq\ P_i\ \leq\ N-1 $
- $ P_0,P_1,\cdots,P_{N-1} $ はすべて異なる。
- 入力される値はすべて整数である。

### Sample Explanation 1

操作後の $ P $ としてありうる順列は、$ (0,1,2,4,3),(0,2,1,3,4) $ の $ 2 $ 個です。

## 样例 #1

### 输入

```
5 3

0 2 1 4 3
```

### 输出

```
2
```

## 样例 #2

### 输入

```
4 4

0 1 2 3
```

### 输出

```
1
```

## 样例 #3

### 输入

```
10 4

2 0 1 3 7 5 4 6 8 9
```

### 输出

```
6
```



---


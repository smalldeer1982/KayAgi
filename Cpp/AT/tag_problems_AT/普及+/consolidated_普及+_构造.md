---
title: "[ABC251F] Two Spanning Trees"
layout: "post"
diff: 普及+/提高
pid: AT_abc251_f
tag: ['图论', '广度优先搜索 BFS', '深度优先搜索 DFS', '生成树', '构造']
---

# [ABC251F] Two Spanning Trees

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc251/tasks/abc251_f

$ N $ 頂点 $ M $ 辺の無向グラフ $ G $ が与えられます。 $ G $ は**単純**（自己ループおよび多重辺を持たない）かつ**連結**です。

$ i\ =\ 1,\ 2,\ \ldots,\ M $ について、$ i $ 番目の辺は頂点 $ u_i $ と頂点 $ v_i $ を結ぶ無向辺 $ \lbrace\ u_i,\ v_i\ \rbrace $ です。

下記の $ 2 $ つの条件をともに満たすような $ G $ の $ 2 $ つの全域木 $ T_1,T_2 $ を $ 1 $ 組構成してください。（ $ T_1 $ と $ T_2 $ は異なる全域木である必要はありません。）

- $ T_1 $ は下記を満たす。
  
  > $ T_1 $ を頂点 $ 1 $ を根とする根付き木とみなしたとき、$ G $ の辺のうち $ T_1 $ に含まれないすべての辺 $ \lbrace\ u,\ v\ \rbrace $ について、$ u $ と $ v $ は $ T_1 $ において祖先と子孫の関係にある。
- $ T_2 $ は下記を満たす。
  
  > $ T_2 $ を頂点 $ 1 $ を根とする根付き木とみなしたとき、$ G $ の辺のうち $ T_2 $ に含まれない辺 $ \lbrace\ u,\ v\ \rbrace $ であって、$ u $ と $ v $ が $ T_2 $ において祖先と子孫の関係にあるようなものは存在しない。

ここで、「根付き木 $ T $ において頂点 $ u $ と頂点 $ v $ が祖先と子孫の関係にある」とは、「 $ T $ において $ u $ が $ v $ の祖先である」と「 $ T $ において $ v $ が $ u $ の祖先である」のうちどちらかが成り立つことをいいます。

本問題の制約下において上記の条件を満たす $ T_1 $ と $ T_2 $ は必ず存在することが示せます。

## 输入格式

入力は以下の形式で標準入力から与えられます。

> $ N $ $ M $ $ u_1 $ $ v_1 $ $ u_2 $ $ v_2 $ $ \vdots $ $ u_M $ $ v_M $

## 输出格式

$ T_1 $ と $ T_2 $ を下記の形式にしたがって、$ 2N-2 $ 行にわたって出力してください。すなわち、

- $ 1 $ 行目から $ N-1 $ 行目には、$ T_1 $ に含まれる $ N-1 $ 本の無向辺 $ \lbrace\ x_1,\ y_1\rbrace,\ \lbrace\ x_2,\ y_2\rbrace,\ \ldots,\ \lbrace\ x_{N-1},\ y_{N-1}\rbrace $ を、各行に $ 1 $ 本ずつ出力してください。
- $ N $ 行目から $ 2N-2 $ 行目には、$ T_2 $ に含まれる $ N-1 $ 本の無向辺 $ \lbrace\ z_1,\ w_1\rbrace,\ \lbrace\ z_2,\ w_2\rbrace,\ \ldots,\ \lbrace\ z_{N-1},\ w_{N-1}\rbrace $ を、各行に $ 1 $ 本ずつ出力してください。

各全域木を構成する辺をどのような順番で出力するかや、各辺の出力においてどちらの端点を先に出力するかは任意です。

> $ x_1 $ $ y_1 $ $ x_2 $ $ y_2 $ $ \vdots $ $ x_{N-1} $ $ y_{N-1} $ $ z_1 $ $ w_1 $ $ z_2 $ $ w_2 $ $ \vdots $ $ z_{N-1} $ $ w_{N-1} $

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ N-1\ \leq\ M\ \leq\ \min\lbrace\ 2\ \times\ 10^5,\ N(N-1)/2\ \rbrace $
- $ 1\ \leq\ u_i,\ v_i\ \leq\ N $
- 入力はすべて整数
- 与えられるグラフは単純かつ連結

### Sample Explanation 1

上記の出力例において、$ T_1 $ は $ 5 $ 本の辺 $ \lbrace\ 1,\ 4\ \rbrace,\ \lbrace\ 4,\ 3\ \rbrace,\ \lbrace\ 5,\ 3\ \rbrace,\ \lbrace\ 4,\ 2\ \rbrace,\ \lbrace\ 6,\ 2\ \rbrace $ を持つ $ G $ の全域木です。この $ T_1 $ は問題文中の条件を満たします。実際、$ G $ の辺のうち $ T_1 $ に含まれない各辺に関して、 - 辺 $ \lbrace\ 5,\ 1\ \rbrace $ について、頂点 $ 1 $ は頂点 $ 5 $ の祖先であり、 - 辺 $ \lbrace\ 1,\ 2\ \rbrace $ について、頂点 $ 1 $ は頂点 $ 2 $ の祖先であり、 - 辺 $ \lbrace\ 1,\ 6\ \rbrace $ について、頂点 $ 1 $ は頂点 $ 6 $ の祖先です。 また、$ T_2 $ は $ 5 $ 本の辺 $ \lbrace\ 1,\ 5\ \rbrace,\ \lbrace\ 5,\ 3\ \rbrace,\ \lbrace\ 1,\ 4\ \rbrace,\ \lbrace\ 2,\ 1\ \rbrace,\ \lbrace\ 1,\ 6\ \rbrace $ を持つ $ G $ の全域木です。この $ T_2 $ は問題文中の条件を満たします。実際、$ G $ の辺のうち $ T_2 $ に含まれない各辺に関して、 - 辺 $ \lbrace\ 4,\ 3\ \rbrace $ について、頂点 $ 4 $ と頂点 $ 3 $ は祖先と子孫の関係になく、 - 辺 $ \lbrace\ 2,\ 6\ \rbrace $ について、頂点 $ 2 $ と頂点 $ 6 $ は祖先と子孫の関係になく、 - 辺 $ \lbrace\ 4,\ 2\ \rbrace $ について、頂点 $ 4 $ と頂点 $ 2 $ は祖先と子孫の関係にありません。

### Sample Explanation 2

$ 3 $ 本の辺 $ \lbrace\ 1,\ 2\rbrace,\ \lbrace\ 1,\ 3\ \rbrace,\ \lbrace\ 1,\ 4\ \rbrace $ を持つ木 $ T $ が $ G $ の唯一の全域木です。 $ G $ の辺のうちこの木 $ T $ に含まれない辺は存在しないので、明らかに、$ T $ は $ T_1 $ の条件と $ T_2 $ の条件をともに満たします。

## 样例 #1

### 输入

```
6 8

5 1

4 3

1 4

3 5

1 2

2 6

1 6

4 2
```

### 输出

```
1 4

4 3

5 3

4 2

6 2

1 5

5 3

1 4

2 1

1 6
```

## 样例 #2

### 输入

```
4 3

3 1

1 2

1 4
```

### 输出

```
1 2

1 3

1 4

1 4

1 3

1 2
```



---

---
title: "[ABC282F] Union of Two Sets"
layout: "post"
diff: 普及+/提高
pid: AT_abc282_f
tag: ['倍增', 'ST 表', '构造']
---

# [ABC282F] Union of Two Sets

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc282/tasks/abc282_f

この問題は **インタラクティブな問題**（あなたが作成したプログラムとジャッジプログラムが標準入出力を介して対話を行う形式の問題）です。

あなたとジャッジは下記の手順を行います。 手順はフェイズ $ 1 $ とフェイズ $ 2 $ からなり、まずフェイズ $ 1 $ を行った直後、続けてフェイズ $ 2 $ を行います。

（フェイズ $ 1 $ ）

- ジャッジから整数 $ N $ が与えられる。
- あなたは $ 1 $ 以上 $ 50000 $ 以下の整数 $ M $ を出力する。
- さらにあなたは、すべての $ i\ =\ 1,\ 2,\ \ldots,\ M $ について $ 1\ \leq\ l_i\ \leq\ r_i\ \leq\ N $ を満たす、$ M $ 個の整数の組 $ (l_1,\ r_1),\ (l_2,\ r_2),\ \ldots,\ (l_M,\ r_M) $ を出力する（$ M $ 個の整数の組が相異なる必要はない）。

（フェイズ $ 2 $ ）

- ジャッジから整数 $ Q $ が与えられる。
- その後、あなたとジャッジは下記の手順を $ Q $ 回繰り返す。
  - ジャッジからクエリとして $ 2 $ つの整数 $ L,\ R $ が与えられる。
  - それに対する応答として、あなたは $ 1 $ 以上 $ M $ 以下の $ 2 $ つの整数 $ a,\ b $ を出力する（ $ a\ =\ b $ でもよい）。 このとき、$ a $ と $ b $ は下記の条件を満たさなければならない。もし満たさなかった場合は不正解となる。
      - 集合 $ \lbrace\ l_a,\ l_a+1,\ \ldots,\ r_a\rbrace $ と集合 $ \lbrace\ l_b,\ l_b+1,\ \ldots,\ r_b\rbrace $ の和集合が、集合 $ \lbrace\ L,\ L+1,\ \ldots,\ R\rbrace $ と一致する。

上記の手順を行った後、直ちにプログラムを終了することで正解となります。

### Input &amp; Output Format

この問題はインタラクティブな問題（あなたが作成したプログラムとジャッジプログラムが標準入出力を介して対話を行う形式の問題）です。

（フェイズ $ 1 $ ）

- まず、$ N $ が入力から与えられます。
- 次に、$ 1 $ 以上 $ 50000 $ 以下の整数 $ M $ を出力してください。
- その後、$ M $ 回にわたって $ (l_1,\ r_1),\ (l_2,\ r_2),\ \ldots,\ (l_M,\ r_M) $ を出力してください。 具体的には、$ i\ =\ 1,\ 2,\ \ldots,\ M $ について、$ i $ 回目の出力では $ (l_i,\ r_i) $ を下記の形式で出力してください。

> $ l_i $ $ r_i $

（フェイズ $ 2 $ ）

- まず、$ Q $ が入力から与えられます。
- 各クエリでは、クエリを表す整数 $ L,\ R $ が下記の形式で与えられます。

> $ L $ $ R $

- 各クエリに対する応答では、$ 2 $ つの整数 $ a,\ b $ を下記の形式で出力してください。

> $ a $ $ b $

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 4000 $
- $ 1\ \leq\ Q\ \leq\ 10^5 $
- $ 1\ \leq\ L\ \leq\ R\ \leq\ N $
- 入力はすべて整数

### 注意点

- **出力を行うたびに、末尾に改行を入れて標準出力を flush してください。そうしなかった場合、ジャッジ結果が TLE となる可能性があります。**
- **対話の途中で不正な出力を行った、あるいはプログラムが途中で終了した場合のジャッジ結果は不定です。** 特に、プログラムの実行中に実行時エラーが起こった場合に、ジャッジ結果が RE ではなく WA や TLE になる可能性があることに注意してください。
- フェイズ $ 2 $ を終了したらただちにプログラムを終了してください。そうしない場合、ジャッジ結果は不定です。
- フェイズ $ 2 $ で与えられる $ L,\ R $ は、あなたがフェイズ $ 1 $ で出力した $ (l_1,\ r_1),\ (l_2,\ r_2),\ \ldots,\ (l_M,\ r_M) $ に応じて決定されます。

### 入出力例

以下は、$ N\ =\ 4,\ Q\ =\ 4 $ の場合の入出力例です。

入力出力説明`4`$ N $ が与えられます。`6`$ M $ を出力します。`3 3`$ (l_1,\ r_1)\ =\ (3,\ 3) $ を出力します。`4 4`$ (l_2,\ r_2)\ =\ (4,\ 4) $ を出力します。`1 1`$ (l_3,\ r_3)\ =\ (1,\ 1) $ を出力します。`2 4`$ (l_4,\ r_4)\ =\ (2,\ 4) $ を出力します。`1 3`$ (l_5,\ r_5)\ =\ (1,\ 3) $ を出力します。`2 2`$ (l_6,\ r_6)\ =\ (2,\ 2) $ を出力します。`4`$ Q $ が与えられます。`1 3`$ 1 $ 個目のクエリとして $ L\ =\ 1,\ R\ =\ 3 $ が与えられます。`1 5`$ 1 $ 個目のクエリに対する応答として $ a\ =\ 1,\ b\ =\ 5 $ を出力します。`3 4`$ 2 $ 個目のクエリとして $ L\ =\ 3,\ R\ =\ 4 $ が与えられます。`2 1`$ 2 $ 個目のクエリに対する応答として $ a\ =\ 2,\ b\ =\ 1 $ を出力します。`2 4`$ 3 $ 個目のクエリとして $ L\ =\ 2,\ R\ =\ 4 $ が与えられます。`4 4`$ 3 $ 個目のクエリに対する応答として $ a\ =\ 4,\ b\ =\ 4 $ を出力します。`1 1`$ 4 $ 個目のクエリとして $ L\ =\ 1,\ R\ =\ 1 $ が与えられます。`3 3`$ 4 $ 個目のクエリに対する応答として $ a\ =\ 3,\ b\ =\ 3 $ を出力します。



---

---
title: "[ABC313D] Odd or Even"
layout: "post"
diff: 普及+/提高
pid: AT_abc313_d
tag: ['交互题', '构造']
---

# [ABC313D] Odd or Even

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc313/tasks/abc313_d

この問題は **インタラクティブな問題**（あなたの作成したプログラムとジャッジシステムが入出力を介して対話を行う形式の問題）です。

整数 $ N $ および $ N $ 未満の **奇数** $ K $ が与えられます。  
ジャッジシステムは、$ 0 $ および $ 1 $ からなる長さ $ N $ の数列 $ A\ =\ (A_1,\ A_2,\ \dots,\ A_N) $ を隠し持っています。

あなたは数列 $ A $ の要素の値を直接知ることはできません。  
その代わりに、ジャッジシステムに対して以下の質問を $ N $ 回まで行うことができます。

- $ 1 $ 以上 $ N $ 以下の相異なる整数 $ x_1,\ x_2,\ \dots,\ x_K $ を選ぶ。そして、$ A_{x_1}\ +\ A_{x_2}\ +\ \dots\ +\ A_{x_K} $ の偶奇を聞く。

$ N $ 回以下の質問で $ (A_1,\ A_2,\ \dots,\ A_N) $ を全て特定して、答えを出力してください。  
ただし、**ジャッジは適応的です**。言い換えると、ジャッジシステムは今までの質問の回答に矛盾しない範囲で$ A $ の内容を自由に変更することができます。  
そのため、出力が次の条件を満たす場合にあなたの作成したプログラムは正解とみなされます。それ以外の場合は不正解とみなされます。

- ここまでの質問の回答と矛盾しないような数列が一意に定まっており、かつそれがプログラムが出力した数列と一致している。

### Input &amp; Output Format

この問題はインタラクティブな問題（あなたの作成したプログラムとジャッジシステムが入出力を介して対話を行う形式の問題）です。

最初に、$ N $ および $ K $ を標準入力から受け取ってください。

> $ N $ $ K $

次に、$ (A_1,\ A_2,\ \dots,\ A_N) $ を全て特定できるまで質問を繰り返してください。  
質問は、以下の形式で標準出力に出力してください。ここで $ x_1,\ x_2,\ \dots,\ x_K $ は $ 1 $ 以上 $ N $ 以下の相異なる $ K $ 個の整数です。

> $ ? $ $ x_1 $ $ x_2 $ $ \dots $ $ x_K $

これに対する応答は、次の形式で標準入力から与えられます。

> $ T $

ここで、$ T $ は質問に対する答えで、

- $ T $ が `0` である場合は $ A_{x_1}\ +\ A_{x_2}\ +\ \dots\ +\ A_{x_K} $ は偶数であることを、
- $ T $ が `1` である場合は $ A_{x_1}\ +\ A_{x_2}\ +\ \dots\ +\ A_{x_K} $ は奇数であることを意味します。

ただし、$ x_1,\ x_2,\ \dots,\ x_K $ が制約を満たしていないか、質問の回数が $ N $ 回を超えた場合は $ T $ は `-1` となります。

ジャッジが `-1` を返した場合、プログラムはすでに不正解とみなされています。この場合、ただちにプログラムを終了してください。

$ A $ の要素を全て特定できたら、特定した $ A $ の要素を以下の形式で出力してください。その後、ただちにプログラムを終了してください。

> $ ! $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 说明/提示

### 制約

- $ 1\ \leq\ K\ \lt\ N\ \leq\ 1000 $
- $ K $ は奇数
- $ A_i $ は $ 0 $ または $ 1 $

### 注意点

- **出力を行うたびに、末尾に改行を入れて標準出力を flush してください。そうしなかった場合、ジャッジ結果が TLE となる可能性があります。**
- **対話の途中で誤った出力形式による出力を行った、あるいはプログラムが途中で終了した場合のジャッジ結果は不定です。**
- 解答を出力したらただちにプログラムを終了してください。そうしない場合、ジャッジ結果は不定です。
- ジャッジは適応的です。言い換えると、ジャッジシステムは今までの質問の回答に矛盾しない範囲で $ A $ の内容を変更することができます。

### 入出力例

以下の入出力例は $ N=5,\ K=3 $ の場合の入出力例です。**この入出力例の通りに出力するとジャッジ結果は WA になることに注意してください。**  
入出力例では、プログラムが出力した $ A\ =\ (1,\ 0,\ 1,\ 1,\ 0) $ はここまでの質問の回答に矛盾しない数列ですが、例えば $ (0,\ 0,\ 1,\ 0,\ 0) $ もここまでの質問の回答に矛盾しない数列であるため、数列 $ A $ は一意に定まっていません。そのため、このプログラムは不正解とみなされます。

  入力 出力 説明    `5 3`  まず整数 $ N $ および $ K $ が与えられます。   `? 2 4 1 `  $ (x_1,\ x_2,\ x_3)\ =\ (2,\ 4,\ 1) $ として質問を行います。  `0`  質問の答えは $ 0 $ なので、ジャッジはその値を返します。   `? 5 3 2` $ (x_1,\ x_2,\ x_3)\ =\ (5,\ 3,\ 2) $ として質問を行います。   `1`  質問の答えは $ 1 $ なので、ジャッジはその値を返します。   `! 1 0 1 1 0` $ A $ の答えとして $ (1,\ 0,\ 1,\ 1,\ 0) $ を出力します。$ A $ を一意に特定できていないのでジャッジ結果は WA になります。



---

---
title: "[AGC006B] Median Pyramid Easy"
layout: "post"
diff: 普及+/提高
pid: AT_agc006_b
tag: ['构造']
---

# [AGC006B] Median Pyramid Easy

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc006/tasks/agc006_b

$ N $ 段のピラミッドがあります。 段は上から順に $ 1 $, $ 2 $, $ ... $, $ N $ と番号が振られています。 各 $ 1\ <\ =i\ <\ =N $ について、$ i $ 段目には $ 2i-1 $ 個のブロックが横一列に並んでいます。 また、各段の中央のブロックに注目すると、これらは縦一列に並んでいます。

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_agc006_b/a992c42b0e9b0597f104bf82a0adc1131324bb4f.png)$ N=4 $ 段のピラミッド

 

すぬけ君は $ N $ 段目のブロックに ($ 1 $, $ 2 $, $ ... $, $ 2N-1 $) を並べ替えたもの（順列）を書き込みました。 さらに、次のルールに従い、残りすべてのブロックに整数を書き込みました。

- あるブロックに書き込まれる整数は、そのブロックの左下、真下、右下のブロックに書き込まれた整数の中央値である。

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_agc006_b/545e109d7af3caf92b1a8f9ac80715efa6c3d3db.png)ブロックに整数を書き込む例

 

その後、すぬけ君はすべてのブロックに書き込まれた整数を消してしまいました。 すぬけ君は、$ 1 $ 段目のブロックに書き込まれた整数が $ x $ であったことだけを覚えています。

$ N $ 段目のブロックに書き込まれた順列としてあり得るものが存在するか判定し、存在するならばひとつ求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ x $

## 输出格式

$ N $ 段目のブロックに書き込まれた順列としてあり得るものが存在しないならば、`No` を出力せよ。

存在するならば、`Yes` を出力した後、$ 2N-1 $ 行出力せよ。 このうち $ i $ 行目には、順列の $ i $ 番目の整数を出力せよ。

## 说明/提示

### 制約

- $ 2\ <\ =N\ <\ =10^5 $
- $ 1\ <\ =x\ <\ =2N-1 $

### Sample Explanation 1

問題文中の図の例です。

### Sample Explanation 2

$ N $ 段目のブロックにどのような順列を書き込んでも、$ 1 $ 段目のブロックに書き込まれる整数は $ 2 $ となります。

## 样例 #1

### 输入

```
4 4
```

### 输出

```
Yes

1

6

3

7

4

5

2
```

## 样例 #2

### 输入

```
2 1
```

### 输出

```
No
```



---

---
title: "[AGC016B] Colorful Hats"
layout: "post"
diff: 普及+/提高
pid: AT_agc016_b
tag: ['构造']
---

# [AGC016B] Colorful Hats

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc016/tasks/agc016_b

$ N $ 匹の猫がいます。 猫には $ 1 $ から $ N $ まで番号が振られています。

各猫はある色の帽子を被っています。 猫 $ i $ は「自分を除く $ N-1 $ 匹の猫が被っている帽子の色の種類数はちょうど $ a_i $ である」と言っています。

すべての猫の発言と矛盾しないような帽子の色の組合せが存在するか判定してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ a_1 $ $ a_2 $ $ ... $ $ a_N $

## 输出格式

すべての猫の発言と矛盾しないような帽子の色の組合せが存在するならば、`Yes` を出力せよ。 存在しないならば、`No` を出力せよ。

## 说明/提示

### 制約

- $ 2\ <\ =\ N\ <\ =\ 10^5 $
- $ 1\ <\ =\ a_i\ <\ =\ N-1 $

### Sample Explanation 1

例えば、猫 $ 1 $, $ 2 $, $ 3 $ の帽子の色がそれぞれ赤、青、青ならば、すべての猫の発言と矛盾しません。

### Sample Explanation 2

猫 $ 1 $ の発言から、猫 $ 2 $, $ 3 $ の帽子の色は同一です。 また、猫 $ 2 $ の発言から、猫 $ 1 $, $ 3 $ の帽子の色は同一です。 よって、猫 $ 1 $, $ 2 $ の帽子の色は同一ですが、これは猫 $ 3 $ の発言に矛盾します。

## 样例 #1

### 输入

```
3

1 2 2
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
3

1 1 2
```

### 输出

```
No
```

## 样例 #3

### 输入

```
5

4 3 4 3 4
```

### 输出

```
No
```

## 样例 #4

### 输入

```
3

2 2 2
```

### 输出

```
Yes
```

## 样例 #5

### 输入

```
4

2 2 2 2
```

### 输出

```
Yes
```

## 样例 #6

### 输入

```
5

3 3 3 3 3
```

### 输出

```
No
```



---

---
title: "[AGC022B] GCD Sequence"
layout: "post"
diff: 普及+/提高
pid: AT_agc022_b
tag: ['数学', '最大公约数 gcd', '构造']
---

# [AGC022B] GCD Sequence

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc022/tasks/agc022_b

ナガセは高校の優等生です。ある日のこと、ナガセは正の整数からなる特別な集合のとある性質を分析しています。

ナガセの考えでは、**異なる** 正の整数の集合 $ S\ =\ \{a_{1},\ a_{2},\ ...,\ a_{N}\} $ は、以下の条件を満たす場合に **特別** であると呼ばれます。条件：どの $ 1\ \leq\ i\ \leq\ N $ についても、$ a_{i} $ と、$ S $ のその他の要素の和の最大公約数は $ 1 $ **ではない**。

ナガセは、要素数 $ N $ の **特別** な集合を求めたいです。ところがこれは簡単すぎるので、難易度を上げることにしました。要素数 $ N $ の **特別** な集合であって、すべての要素の最大公約数が $ 1 $ であり、どの要素も $ 30000 $ 以下であるものを求めてみよ、とのことです。

## 输入格式

入力は標準入力から以下の形式で与えられる。

> $ N $

## 输出格式

$ S $ の要素を表す $ N $ 個の整数を空白で区切って出力せよ。$ S $ は以下の条件を満たさなければならない。

- 要素は $ 30000 $ 以下の **異なる** 正の整数でなければならない。
- $ S $ のすべての要素の最大公約数は $ 1 $ である。すなわち、$ S $ のすべての要素を割り切るような整数 $ d\ >\ 1 $ は存在しない。
- $ S $ は **特別** な集合である。

複数の解が存在する場合は、そのうちどれを出力してもよい。また、$ S $ の要素はどのような順番で出力してもよい。なお、与えられた制約の下で解が少なくとも一つ存在することが保証される。

## 说明/提示

### 制約

- $ 3\ \leq\ N\ \leq\ 20000 $

### Sample Explanation 1

$ \{2,\ 5,\ 63\} $ は特別です。なぜなら、$ gcd(2,\ 5\ +\ 63)\ =\ 2,\ gcd(5,\ 2\ +\ 63)\ =\ 5,\ gcd(63,\ 2\ +\ 5)\ =\ 7 $ であり、さらに $ gcd(2,\ 5,\ 63)\ =\ 1 $ であるため、すべての判定条件を満たすからです。 なお、$ \{2,\ 4,\ 6\} $ は解として認められません。$ gcd(2,\ 4,\ 6)\ =\ 2\ >\ 1 $ であるからです。

### Sample Explanation 2

$ \{2,\ 5,\ 20,\ 63\} $ は特別です。なぜなら、$ gcd(2,\ 5\ +\ 20\ +\ 63)\ =\ 2,\ gcd(5,\ 2\ +\ 20\ +\ 63)\ =\ 5,\ gcd(20,\ 2\ +\ 5\ +\ 63)\ =\ 10,\ gcd(63,\ 2\ +\ 5\ +\ 20)\ =\ 9 $ であり、さらに $ gcd(2,\ 5,\ 20,\ 63)\ =\ 1 $ であるため、すべての判定条件を満たすからです。

## 样例 #1

### 输入

```
3
```

### 输出

```
2 5 63
```

## 样例 #2

### 输入

```
4
```

### 输出

```
2 5 20 63
```



---

---
title: "[AGC032B] Balanced Neighbors"
layout: "post"
diff: 普及+/提高
pid: AT_agc032_b
tag: ['图论', '构造']
---

# [AGC032B] Balanced Neighbors

## 题目描述

给定整数 $N$，构造一个从 $1$ 到 $N$ 编号的 $N$ 个节点的无向图，使得：

- 该图不含有重边和自环，并且是连通的。
- 每个节点的所有邻接节点的编号之和相同。

可以证明这样的图一定存在。

## 输入格式

一行一个整数 $N$。

## 输出格式

第一行一个整数 $M$，表示构造出的图的边数。

接下来 $M$ 行，每行两个整数 $a_i,b_i$，表示第 $i$ 条边的两个端点。

如果有多种可能的构造，输出其中的任意一种即可。

## 说明/提示

$3 \leq N \leq 100$。

【样例解释】

对于所有节点，其邻接节点的编号之和均为 $3$。

## 样例 #1

### 输入

```
3
```

### 输出

```
2

1 3

2 3
```



---

---
title: "[AGC035B] Even Degrees"
layout: "post"
diff: 普及+/提高
pid: AT_agc035_b
tag: ['图论', '构造', '差分']
---

# [AGC035B] Even Degrees

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc035/tasks/agc035_b

$ N $ 頂点 $ M $ 辺の単純連結無向グラフが与えられます。頂点には $ 1 $ から $ N $ までの番号がついており、$ i $ 本目の辺は頂点 $ A_i $ と頂点 $ B_i $ を結んでいます。 高橋君は、与えられたグラフのすべての辺にどちらかの向きをつけて有向グラフを作ります。 どの頂点から出る辺の本数も偶数になるような有向グラフを作ることが可能かどうか判定し、可能ならそのような例をひとつ構成してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ A_1 $ $ B_1 $ $ : $ $ A_M $ $ B_M $

## 输出格式

条件を満たす向き付けが不可能な場合、$ -1 $ を出力せよ。 そうでない場合、以下の形式でグラフのすべての辺の向きを重複なく出力せよ。

> $ C_1 $ $ D_1 $ $ : $ $ C_M $ $ D_M $

ただし、組 $ (C_i,D_i) $ は $ C_i $ から頂点 $ D_i $ に向かって向き付けられた辺が存在することを表す。 辺は任意の順で出力して構わない。

## 说明/提示

### ノート

無向グラフが単純であるとは、自己ループと多重辺を含まないことを指します。

### 制約

- $ 2\ \leq\ N\ \leq\ 10^5 $
- $ N-1\ \leq\ M\ \leq\ 10^5 $
- $ 1\ \leq\ A_i,B_i\ \leq\ N\ (1\leq\ i\leq\ M) $
- 与えられるグラフは単純かつ連結

### Sample Explanation 1

このように向き付けることで、頂点 $ 1,3 $ からは $ 2 $ 本、頂点 $ 2,4 $ からは $ 0 $ 本の辺が出るようになります。

## 样例 #1

### 输入

```
4 4

1 2

2 3

3 4

4 1
```

### 输出

```
1 2

1 4

3 2

3 4
```

## 样例 #2

### 输入

```
5 5

1 2

2 3

3 4

2 5

4 5
```

### 输出

```
-1
```



---

---
title: "[AGC052A] Long Common Subsequence"
layout: "post"
diff: 普及+/提高
pid: AT_agc052_a
tag: ['构造']
---

# [AGC052A] Long Common Subsequence

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc052/tasks/agc052_a

$ 3 $ つの $ 01 $ 文字列 $ S_1,\ S_2,\ S_3 $ が与えられます。これらはそれぞれ、`0` と `1` を $ N $ 個ずつ含みます。

長さ $ 2N+1 $ の $ 01 $ 文字列であって、$ S_1\ +\ S_1,\ S_2\ +\ S_2,\ S_3\ +\ S_3 $ のいずれの部分列でもあるものを $ 1 $ つ求めてください（$ s+t $ は文字列 $ s,\ t $ をこの順に連結したものを表します）。この問題の制約の下では、そのような文字列が常に存在することが保証されます。

ここで、文字列 $ B $ が文字列 $ A $ の部分列であるとは、$ A $ から $ 0 $ 文字以上を取り除き、残りの文字を順番を変えずに連結することで $ B $ を得ることができることを意味します。

テストケースは $ T $ 個与えられるので、それぞれを解いてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。 入力の $ 1 $ 行目は次の通りである。

> $ T $

そして、それぞれ以下の形式で $ T $ 個のテストケースが続く。

> $ N $ $ S_1 $ $ S_2 $ $ S_3 $

## 输出格式

各テストケースについて、長さ $ 2N+1 $ の $ 01 $ 文字列であって、$ S_1\ +\ S_1,\ S_2\ +\ S_2,\ S_3\ +\ S_3 $ のいずれの部分列でもあるようなものをいずれか $ 1 $ つ出力せよ。 そのような文字列が複数存在するときは、いずれを出力してもよい。

## 说明/提示

### 制約

- $ 1\ \le\ T\ \le\ 10^5 $
- $ 1\le\ N\ \le\ 10^5 $
- $ S_i $ は `0` と `1` を $ N $ 個ずつ含む $ 01 $ 文字列である。
- 全テストケースにおける $ N $ の総和は $ 10^5 $ 以下である。

### Sample Explanation 1

$ 1 $ 個目のケースでは、`010` は `0101`, `0101`, `1010` の部分列です。 $ 2 $ 個目のケースでは、`11011` は `01010101`, `00110011`, `11001100` の部分列です。

## 样例 #1

### 输入

```
2

1

01

01

10

2

0101

0011

1100
```

### 输出

```
010

11011
```



---

---
title: "[AGC053A] >< again"
layout: "post"
diff: 普及+/提高
pid: AT_agc053_a
tag: ['构造']
---

# [AGC053A] >< again

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc053/tasks/agc053_a

長さ $ N $ の文字列 $ S $ があります。$ S $ の各文字は `<` または `>` です。

要素数 $ N+1 $ の非負整数列 $ X_0,X_1,\ldots,X_N $ は、すべての $ 1\ \leq\ i\ \leq\ N $ について次の条件を満たすとき *良い非負整数列* と呼ばれます。

- $ S_i $ が `<` のとき : $ X_{i-1}\ <\ X_i $
- $ S_i $ が `>` のとき : $ X_{i-1}\ >\ X_i $

良い非負整数列 $ A $ が与えられるので、この数列をできるだけ多くの良い非負整数列に分解してください。 つまり、正の整数 $ k $ および $ k $ 個の良い非負整数列 $ B_1,B_2,\ldots,\ B_k $ であって、次の条件を満たすもののうち、 $ k $ が最大のものを $ 1 $ つ求めてください。

- すべての $ 0\ \leq\ i\ \leq\ N $ について $ B_1,\ldots,B_k $ の $ i $ 項目の値の合計は $ A_i $ と等しい。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ S $ $ A_0 $ $ A_1 $ $ \cdots $ $ A_N $

## 输出格式

以下の形式で、標準出力に出力せよ。

> $ k $ $ B_{1,0} $ $ B_{1,1} $ $ \cdots $ $ B_{1,N} $ $ : $ $ B_{k,0} $ $ B_{k,1} $ $ \cdots $ $ B_{k,N} $

ここで、$ B_{i,j} $ は良い非負整数列 $ B_i $ の $ j $ 項目の値を表している。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 100 $
- $ 0\ \leq\ A_i\ \leq\ 10^4 $
- $ S $ は `<` と `>` からなる長さ $ N $ の文字列である。
- $ A $ は良い非負整数列である。特に、要素数は $ N+1 $ である。

## 样例 #1

### 输入

```
3

<><

3 8 6 10
```

### 输出

```
2

1 5 4 7

2 3 2 3
```



---

---
title: "[AGC055A] ABC Identity"
layout: "post"
diff: 普及+/提高
pid: AT_agc055_a
tag: ['构造']
---

# [AGC055A] ABC Identity

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc055/tasks/agc055_a

長さ $ 3N $ の文字列 $ S $ が与えられます。$ S $ は `A`, `B`, `C` をそれぞれちょうど $ N $ 個ずつ含みます。

文字 `A`, `B`, `C` からなる文字列 $ T $ が次の条件を満たすとき、$ T $ を **良い** 文字列であると呼びます。

- $ T $ の長さは $ 3 $ で割り切れる。この長さを $ 3K $ とする。
- $ T_1\ =\ T_2\ =\ \ldots\ =\ T_K $
- $ T_{K+1}\ =\ T_{K+2}\ =\ \ldots\ =\ T_{2K} $
- $ T_{2K+1}\ =\ T_{2K+2}\ =\ \ldots\ =\ T_{3K} $
- 文字 $ T_1,\ T_{K+1},\ T_{2K+1} $ は互いに異なる。

良い文字列の例を挙げると、`ABC`, `BBAACC`, `AAACCCBBB` です。

$ S $ を **$ 6 $ 個以下**の（連続とは限らない）部分列に分解する方法であって、各部分列が良い文字列であるような方法を一つ見つけてください。

これは、この問題の制約下で必ず可能であることが証明できます。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ S $

## 输出格式

`1` から `6` までの数字からなる長さ $ 3N $ の文字列を出力せよ。文字列に含まれる各 $ 1\le\ i\ \le\ 6 $ について、$ i $ を出力した位置に対応する $ S $ の文字を並べると良い文字列が得られるようにすること。 なお、答えが複数通り存在する場合、そのどれを出力しても正解とみなされる。

## 说明/提示

### 制約

- $ 1\ \le\ N\ \le\ 2\cdot\ 10^5 $
- 文字列 $ S $ は、文字 `A`, `B`, `C` を $ N $ 個ずつ含む。

### Sample Explanation 1

$ S $ が部分列 `ABC`, `CBA` に分割されており、これらはそれぞれ良い文字列です。

### Sample Explanation 2

$ 1 $ の位置に対応する部分列は `AABBCC`、$ 2 $ の位置に対応する部分列は `CAB`、$ 4 $ の位置に対応する部分列は `ACB` であり、これらは全て良い文字列です。

## 样例 #1

### 输入

```
2

ABCCBA
```

### 输出

```
111222
```

## 样例 #2

### 输入

```
4

AABCBCAACBCB
```

### 输出

```
111211241244
```



---

---
title: "[ABC068D] Decrease (Contestant ver.)"
layout: "post"
diff: 普及+/提高
pid: AT_arc079_b
tag: ['构造']
---

# [ABC068D] Decrease (Contestant ver.)

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc068/tasks/arc079_b

長さ $ N $ の非負整数列 $ a_i $ に対し、数列の最大値が $ N-1 $ 以下になるまで以下の操作を繰り返し行うことを考えます。

- 数列のうち最も大きい要素を求める、複数ある場合はどれか $ 1 $ つ選ぶ。この要素の値を $ N $ 減らす。これ以外の要素の値を $ 1 $ 増やす。

なお、この操作を行い続けると、いつかは数列の最大値が $ N-1 $ 以下になることが証明できます。

ここで、整数 $ K $ が与えられるので、この操作を行う回数がちょうど $ K $ 回になるような数列 $ a_i $ を $ 1 $ つ求めてください。なお、この問題の入出力の制約下では、かならず $ 1 $ つは条件を満たすような数列が存在することが示せます。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ K $

## 输出格式

以下の形式で数列を出力する。

> $ N $ $ a_1 $ $ a_2 $ ... $ a_N $

ここで、$ 2\ ≦\ N\ ≦\ 50, $ $ 0\ ≦\ a_i\ ≦\ 10^{16}\ +\ 1000 $ でなければならない。

## 说明/提示

### 制約

- $ 0\ ≦\ K\ ≦\ 50\ \times\ 10^{16} $

### Sample Explanation 3

\\\[2, 2\\\] -&gt; \\\[0, 3\\\] -&gt; \\\[1, 1\\\] と、$ 2 $ 回操作を行います。

## 样例 #1

### 输入

```
0
```

### 输出

```
4

3 3 3 3
```

## 样例 #2

### 输入

```
1
```

### 输出

```
3

1 0 3
```

## 样例 #3

### 输入

```
2
```

### 输出

```
2

2 2
```

## 样例 #4

### 输入

```
3
```

### 输出

```
7

27 0 0 0 0 0 0
```

## 样例 #5

### 输入

```
1234567894848
```

### 输出

```
10

1000 193 256 777 0 1 1192 1234567891011 48 425
```



---

---
title: "[ARC121C] Odd Even Sort"
layout: "post"
diff: 普及+/提高
pid: AT_arc121_c
tag: ['贪心', '枚举', '排序', '构造']
---

# [ARC121C] Odd Even Sort

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc121/tasks/arc121_c

$ (1,2,\ \ldots,\ N) $ を並び替えた数列 $ p $ が与えられます。 はじめ、$ p $ の第 $ n $ 項は $ p_{n} $ です。

あなたの目的は $ N^2 $ 回以下 *操作* を行い $ p $ を昇順に並び替えることです。 あなたは操作により以下のように $ p $ を変更することができます。

- **奇数** 回目の操作では $ 1 $ 以上 $ N-1 $ 以下の **奇数** $ n $ を選んで $ p_n $ と $ p_{n+1} $ を入れ替えます。
- **偶数** 回目の操作では $ 2 $ 以上 $ N-1 $ 以下の **偶数** $ n $ を選んで $ p_n $ と $ p_{n+1} $ を入れ替えます。

この問題の制約下で必ず目的を達成できることが証明できます。 そのような操作列を $ 1 $ つ求めてください。

$ T $ 個のテストケースが与えられるのでそれぞれについて答えを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ T $ $ \mathrm{case}_{1} $ $ \vdots $ $ \mathrm{case}_{T} $

各テストケースは以下の形式で与えられる。

> $ N $ $ p_1 $ $ \cdots $ $ p_N $

## 输出格式

$ T $ 個のテストケースについて与えられた順番に以下の形式で答えを出力せよ。

> $ M $ $ a_1 $ $ \cdots $ $ a_M $

$ M $ は操作列の長さを表し、$ a_i $ は $ i $ 回目の操作で選んだ整数を表す。

全てのテストケースにおいて目的が達成される操作列が出力されたならば正解となる。

## 说明/提示

### 制約

- 与えられる入力は全て整数
- $ 1\ \leq\ T\ \leq\ 250 $
- $ 2\ \leq\ N\ \leq\ 500 $
- $ 1\ \leq\ p_i\ \leq\ N $
- $ p $ は $ (1,2,\ldots,N) $ を並び替えて得られる。
- $ 1 $ つの入力ファイルにおいて $ N $ の総和は $ 500 $ を超えない。

### Sample Explanation 1

\- $ 1 $ つ目のテストケースについて説明します。 - $ 1 $ 回目の操作で $ 1 $ を選ぶと $ p $ は $ (1,2,3,5,4) $ となります。 - $ 2 $ 回目の操作で $ 4 $ を選ぶと $ p $ は $ (1,2,3,4,5) $ となります。 - $ (1,4) $ は操作列として正しいですが、$ (4,1) $ は操作列として正しくないことに注意してください。 - 操作を $ 1 $ 度も行わなくともよいこと、操作回数を最小にする必要はないことに注意してください。

## 样例 #1

### 输入

```
2

5

2 1 3 5 4

2

1 2
```

### 输出

```
2

1 4

0
```



---

---
title: "[ARC161C] Dyed by Majority (Odd Tree)"
layout: "post"
diff: 普及+/提高
pid: AT_arc161_c
tag: ['树的遍历', '构造']
---

# [ARC161C] Dyed by Majority (Odd Tree)

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc161/tasks/arc161_c

$ N $ 頂点の木が与えられます． 頂点には $ 1 $ から $ N $ までの番号が付いており，$ i $ 番目の辺は頂点 $ A_i $ と頂点 $ B_i $ を結んでいます． また，すべての頂点について，**接続する辺の本数は奇数**です．

与えられた木の各頂点を黒 ( `B` ) か白 ( `W` ) のいずれかの色で塗ります． このとき，「各頂点の色（ `B` または `W` ）を頂点の番号順に並べて得られる文字列」を**色の列**と呼びます．

色の列 $ S $ が与えられます． すべての頂点に色が塗られた状態で以下の操作を $ 1 $ 回行った結果，色の列が $ S $ となることがあり得るかどうかを判定し，あり得るなら操作を行う前の色の列として適切なものを $ 1 $ つ求めてください．

**操作:** 各頂点 $ k\ =\ 1,\ 2,\ \dots,\ N $ に対して，辺で結ばれた頂点の色のうち過半数を占めるものを $ C_k $ とする． すべての頂点について同時に，頂点 $ k $ の色を $ C_k $ に塗り替える．

$ T $ 個のテストケースが与えられるので，それぞれについて答えてください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ T $ $ \mathrm{case}_1 $ $ \mathrm{case}_2 $ $ \vdots $ $ \mathrm{case}_T $

各テストケース $ \mathrm{case}_i\ (1\ \leq\ i\ \leq\ T) $ は以下の形式である．

> $ N $ $ A_1 $ $ B_1 $ $ A_2 $ $ B_2 $ $ \vdots $ $ A_{N-1} $ $ B_{N-1} $ $ S $

## 输出格式

$ T $ 行出力せよ． $ i $ 行目には，$ i $ 番目のテストケースについて，操作の結果として色の列が $ S $ となることがあり得るなら操作を行う前の色の列として適切なものを，あり得ないなら `-1` を出力せよ． 操作を行う前の色の列として適切なものが複数存在する場合，そのような色の列のうちどれを出力しても正答と見なされる．

## 说明/提示

### 制約

- $ T\ \geq\ 1 $
- $ N\ \geq\ 2 $
- $ 1 $ つの入力に含まれるテストケースについて，$ N $ の総和は $ 2\ \times\ 10^5 $ 以下である．
- $ 1\ \leq\ A_i\ <\ B_i\ \leq\ N\ (1\ \leq\ i\ \leq\ N\ -\ 1) $
- 与えられる辺 $ (A_i,\ B_i)\ (1\ \leq\ i\ \leq\ N\ -\ 1) $ は木をなす．
- 各頂点 $ k\ (1\ \leq\ k\ \leq\ N) $ は $ A_i,\ B_i\ (1\ \leq\ i\ \leq\ N\ -\ 1) $ として**合計奇数回**現れる．
- $ S $ は `B`, `W` からなる長さ $ N $ の文字列である．
 
### Sample Explanation 1

$ 1 $ つ目のテストケースについて，操作を行う前の色の列が `WBBW` であったとします． このとき， - 頂点 $ 1 $ について，辺で結ばれた頂点 $ 2,\ 3,\ 4 $ の色はそれぞれ `B`, `B`, `W` であり，過半数を占めるのは $ C_1\ =\ {} $`B`， - 頂点 $ 2 $ について，辺で結ばれた頂点 $ 1 $ の色は `W` であり，過半数を占めるのは $ C_2\ =\ {} $`W`， - 頂点 $ 3 $ について，辺で結ばれた頂点 $ 1 $ の色は `W` であり，過半数を占めるのは $ C_3\ =\ {} $`W`， - 頂点 $ 4 $ について，辺で結ばれた頂点 $ 1 $ の色は `W` であり，過半数を占めるのは $ C_4\ =\ {} $`W` となります． したがって，操作後の色の列は `BWWW` となり，条件を満たします． 同様に，操作前の色の列が `WBBB`, `WBWB`, `WWBB` であった場合にも，操作後の色の列は `BWWW` となり，これらのうちどれを出力しても正答と見なされます。 $ 2 $ つ目のテストケースについて，入力された木において操作を行った結果，色の列が `BBWW` となることはあり得ません．

## 样例 #1

### 输入

```
2

4

1 2

1 3

1 4

BWWW

4

1 2

1 3

1 4

BBWW
```

### 输出

```
WBBW

-1
```



---

---
title: "[ARC161D] Everywhere is Sparser than Whole (Construction)"
layout: "post"
diff: 普及+/提高
pid: AT_arc161_d
tag: ['图论', '贪心', '构造']
---

# [ARC161D] Everywhere is Sparser than Whole (Construction)

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc161/tasks/arc161_d

頂点集合が空でない単純無向グラフの**密度**を $ \displaystyle\frac{(辺数)}{(頂点数)} $ と定義します．

正整数 $ N,\ D $ が与えられます． $ N $ 頂点 $ DN $ 辺の単純無向グラフ $ G $ であって，以下の条件を満たすものが存在するかどうかを判定し，存在するならそのようなグラフを $ 1 $ つ求めてください．

**条件:** $ G $ の頂点集合を $ V $ とする． $ V $ の任意の空でない**真**部分集合 $ X $ に対して，$ X $ による $ G $ の誘導部分グラフの密度は $ D $ **未満**である．

 誘導部分グラフとは

 グラフ $ G $ の頂点部分集合 $ X $ に対して，$ X $ による $ G $ の**誘導部分グラフ**とは，「頂点集合が $ X $ であり，辺集合が『 $ G $ の辺であって $ X $ 内の $ 2 $ 頂点を結ぶもの全体』であるグラフ」を指します． 上記の条件では，頂点部分集合として空集合でも全体でもないもののみを考えていることに注意してください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ D $

## 输出格式

条件を満たす単純無向グラフが存在するなら `Yes` を，存在しないなら `No` を出力せよ． さらに，`Yes` の場合には，続く $ DN $ 行に条件を満たすグラフを以下の形式で出力せよ． 条件を満たすグラフが複数存在する場合，そのようなグラフのうちどれを出力しても正答と見なされる．

> $ A_1 $ $ B_1 $ $ A_2 $ $ B_2 $ $ \vdots $ $ A_{DN} $ $ B_{DN} $

- $ 1\ \leq\ A_i,\ B_i\ \leq\ N\ (1\ \leq\ i\ \leq\ DN) $
- $ A_i\ \neq\ B_i\ (1\ \leq\ i\ \leq\ DN) $
- $ \{A_i,\ B_i\}\ \neq\ \{A_j,\ B_j\}\ (1\ \leq\ i\ <\ j\ \leq\ DN) $
- グラフの頂点には $ 1 $ から $ N $ までの番号が付いているものとする．
- $ i $ 行目の出力は，$ i $ 番目の辺が頂点 $ A_i $ と頂点 $ B_i $ を結んでいることを表す．
- 辺の順番（どの辺を何番目に出力するか）や頂点の順番（各辺についてどちらの端点を先に出力するか）は自由である．

## 说明/提示

### 制約

- $ N\ \geq\ 1 $
- $ D\ \geq\ 1 $
- $ DN\ \leq\ 5\ \times\ 10^4 $
 
### Sample Explanation 1

出力されたグラフの頂点集合は $ \{1,\ 2,\ 3\} $，辺集合は $ \{(1,\ 2),\ (1,\ 3),\ (2,\ 3)\} $ であり，単純です． 頂点集合の空でない真部分集合 $ X $ としては $ \{1\},\ \{2\},\ \{3\},\ \{1,\ 2\},\ \{1,\ 3\},\ \{2,\ 3\} $ の $ 6 $ 通りが考えられ， - $ X\ =\ \{1\},\ \{2\},\ \{3\} $ のとき，$ X $ による誘導部分グラフの辺集合は空集合であり，その密度は $ \displaystyle\frac{0}{1}\ =\ 0 $， - $ X\ =\ \{1,\ 2\},\ \{1,\ 3\},\ \{2,\ 3\} $ のとき，$ X $ による誘導部分グラフの辺集合はそれぞれ $ \{(1,\ 2)\},\ \{(1,\ 3)\},\ \{(2,\ 3)\} $ であり，いずれも密度は $ \displaystyle\frac{1}{2} $ です． 全ての場合に対して誘導部分グラフの密度は $ D\ =\ 1 $ 未満であり，このグラフは条件を満たします．

### Sample Explanation 2

$ 4 $ 頂点 $ 8 $ 辺の単純無向グラフは存在しません．

## 样例 #1

### 输入

```
3 1
```

### 输出

```
Yes

1 2

1 3

2 3
```

## 样例 #2

### 输入

```
4 2
```

### 输出

```
No
```



---

---
title: "[ARC163C] Harmonic Mean"
layout: "post"
diff: 普及+/提高
pid: AT_arc163_c
tag: ['数学', '构造']
---

# [ARC163C] Harmonic Mean

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc163/tasks/arc163_c

以下の条件を全て満たす長さ $ N $ の正整数列 $ A=(A_1,A_2,\dots,A_N) $ が存在するか判定し、存在するならば一つ構築してください。

- $ \sum_{i=1}^{N}\ \frac{1}{A_i}\ =\ 1 $
- $ A $ の要素は全て相異なる。
- $ 1\ \le\ A_i\ \le\ 10^9(1\ \le\ i\ \le\ N) $
 
$ T $ 個のテストケースが与えられるので、それぞれについて答えを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ T $ $ \mathrm{case}_1 $ $ \mathrm{case}_2 $ $ \vdots $ $ \mathrm{case}_T $

ここで、$ \mathrm{case}_i $ とは $ i $ 個目のテストケースである。各テストケースは以下の形式で与えられる。

> $ N $

## 输出格式

それぞれのケースについて、条件を満たす正整数列 $ A=(A_1,A_2,\dots,A_N) $ が存在しないならば `No` を出力せよ。存在するならば、以下の形式で出力せよ。

> Yes $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

条件を満たす解が複数存在する場合、どれを出力しても正解とみなされる。

## 说明/提示

### 制約

- $ 1\ \le\ T\ \le\ 500 $
- $ 1\ \le\ N\ \le\ 500 $
 
### Sample Explanation 1

$ 1 $ 個目のテストケースでは、$ N=3 $ です。 $ A=(2,3,6) $ は、$ \frac{1}{2}\ +\ \frac{1}{3}\ +\ \frac{1}{6}\ =\ 1 $ かつ他の条件も全て満たすため正当です。 $ 2 $ 個目のテストケースでは、$ N=5 $ です。 $ A=(3,4,5,6,20) $ は、$ \frac{1}{3}\ +\ \frac{1}{4}\ +\ \frac{1}{5}\ +\ \frac{1}{6}\ +\ \frac{1}{20}\ =\ 1 $ かつ他の条件も全て満たすため正当です。 例えば、$ A=(5,5,5,5,5) $ は、$ 1,3 $ 個目の条件を満たしていますが同じ要素が存在するため不適であることに注意してください。

## 样例 #1

### 输入

```
2

3

5
```

### 输出

```
Yes

2 3 6 

Yes

3 4 5 6 20
```



---

---
title: "[ARC176A] 01 Matrix Again"
layout: "post"
diff: 普及+/提高
pid: AT_arc176_a
tag: ['贪心', '构造']
---

# [ARC176A] 01 Matrix Again

## 题目描述

给定一个 $N \times N$ 的矩阵，你需要向其中填入 $0$ 或 $1$，使其满足以下条件：

- $(A_1,B_1),(A_2,B_2),...,(A_M,B_M)$ 处的值为 $1$。
- 第 $i$ 行的所有数字之和为 $M$ $(1 \le i \le N)$。
- 第 $i$ 列的所有数字之和为 $M$ $(1 \le i \le N)$。

## 输入格式

第一行有两个整数 $N$ 和 $M$。

接下来有 $M$ 行，第 $i+1$ 行有两个整数 $A_i$ 和 $B_i$。

## 输出格式

第一行输出矩阵中 $1$ 的个数 $k$。

接下来有 $k$ 行，第 $i+1$ 行输出两个整数 $x_i$ 和 $y_i$，表示 $(x_i,y_i)$ 处的值为 $1$。（顺序任意）

## 样例 #1

### 输入

```
4 2

1 4

3 2
```

### 输出

```
8

1 2

1 4

2 1

2 4

3 2

3 3

4 1

4 3
```

## 样例 #2

### 输入

```
3 3

3 1

2 3

1 3
```

### 输出

```
9

1 1

1 2

1 3

2 1

2 2

2 3

3 1

3 2

3 3
```

## 样例 #3

### 输入

```
7 3

1 7

7 6

6 1
```

### 输出

```
21

1 6

2 4

4 1

7 3

3 6

4 5

6 1

1 7

7 6

3 5

2 2

6 3

6 7

5 4

5 2

2 5

5 3

1 4

7 1

4 7

3 2
```



---

---
title: "[ARC181C] Row and Column Order"
layout: "post"
diff: 普及+/提高
pid: AT_arc181_c
tag: ['构造', 'Ad-hoc']
---

# [ARC181C] Row and Column Order

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc181/tasks/arc181_c

$ (1,2,\dots,N) $ の順列 $ P=(P_1,P_2,\dots,P_N),\ Q=(Q_1,Q_2,\dots,Q_N) $ が与えられます。

$ N $ 行 $ N $ 列からなるマス目の各マスに文字 `0`, `1` のいずれかを書き込み、以下の条件がすべて成り立つようにしてください。

- $ i $ 行目のマスに書かれている文字を、 $ 1,2,\dots,N $ 列目の順につなげて得られる文字列を $ S_i $ としたとき、辞書順で $ S_{P_1}\ <\ S_{P_2}\ <\ \dots\ <\ S_{P_N} $ が成り立つ
- $ i $ 列目のマスに書かれている文字を、 $ 1,2,\dots,N $ 行目の順につなげて得られる文字列を $ T_i $ としたとき、辞書順で $ T_{Q_1}\ <\ T_{Q_2}\ <\ \dots\ <\ T_{Q_N} $ が成り立つ
 
なお、どのような $ P,Q $ に対しても、条件をすべて満たす書き込み方が $ 1 $ つ以上あることが証明できます。

  辞書順で $ X\ が成り立つとは？ $文字列 $ X=X_1X_2\dots\ X_{|X|} $ と $ Y\ =\ Y_1Y_2\dots\ Y_{|Y|} $ について、**辞書順で $ X\ が成り立つ $**とは、下記の 1. と 2. のどちらかが成り立つことを言います。 ここで、$ |X|,\ |Y| $ はそれぞれ $ X,\ Y $ の長さを表します。

1. $ |X|\ \lt\ |Y| $ かつ $ X_1X_2\ldots\ X_{|X|}\ =\ Y_1Y_2\ldots\ Y_{|X|} $。
2. ある整数 $ 1\ \leq\ i\ \leq\ \min\lbrace\ |X|,\ |Y|\ \rbrace $ が存在して、下記の $ 2 $ つがともに成り立つ。 
  - $ X_1X_2\ldots\ X_{i-1}\ =\ Y_1Y_2\ldots\ Y_{i-1} $
  - $ X_i $ が $ Y_i $ より小さい。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ P_1 $ $ P_2 $ $ \dots $ $ P_N $ $ Q_1 $ $ Q_2 $ $ \dots $ $ Q_N $

## 输出格式

$ i $ 行 $ j $ 列 に書き込む文字を $ A_{ij} $ として、条件を満たす書き込み方を以下の形式で出力せよ。

> $ A_{11}A_{12}\dots\ A_{1N} $ $ \vdots $ $ A_{N1}A_{N2}\dots\ A_{NN} $

条件を満たす書き込み方が複数存在する場合は、いずれを出力しても正解となる。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 500 $
- $ P,Q $ は $ (1,2,\dots,N) $ の順列
- 入力はすべて整数
 
### Sample Explanation 1

この入出力例の場合、 $ S_1= $`001` $ ,\ S_2= $`101` $ ,\ S_3= $`110` であり、 $ T_1= $`011` $ ,\ T_2= $`001` $ ,\ T_3= $`110` です。よって $ S_1\ <\ S_2\ <\ S_3 $ かつ $ T_2\ <\ T_1\ <\ T_3 $ が成り立ち、条件を満たします。

## 样例 #1

### 输入

```
3

1 2 3

2 1 3
```

### 输出

```
001

101

110
```

## 样例 #2

### 输入

```
15

8 15 10 2 4 3 1 13 5 12 9 6 14 11 7

4 1 5 14 3 12 13 7 11 8 6 2 9 15 10
```

### 输出

```
010001111110101

001000000101001

010001001100010

010000011110010

010011101101101

100101110100000

111100011001000

000001001100000

100011011000101

000111101011110

101010101010101

011010101011110

010011000010011

100110010110101

000101101100100
```



---

---
title: "[ARC184A] Appraiser"
layout: "post"
diff: 普及+/提高
pid: AT_arc184_a
tag: ['数学', '贪心', '构造']
---

# [ARC184A] Appraiser

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc184/tasks/arc184_a

この問題は **インタラクティブ** な問題であり、 **ジャッジは適応的(adaptive)** です。詳しくは注意点を参照してください。  
**また、問題文中のパラメータは $ N=1000,M=10,Q=950 $ で固定されています。**

硬貨が $ N $ 枚あり、 $ 1,2,\dots,N $ の番号が付けられています。  
これらの硬貨のうち、丁度 $ M $ 枚が偽物です。

鑑定士は $ 1 $ 度の鑑定で $ 2 $ つの硬貨が同種か異種かを判定できます。厳密には、

- $ 2 $ つの硬貨が「双方とも本物」「双方とも偽物」のどちらかであれば、同種と判定する。
- そうでないとき、異種と判定する。

$ Q $ 回以下の鑑定で、全ての偽物の硬貨を特定してください。

### Input &amp; Output Format

この問題はインタラクティブな問題です。  
最初に、 $ N,M,Q $ を標準入力から受け取ってください。

> $ N $ $ M $ $ Q $

次に、以下の流れで鑑定を $ 0 $ 回以上 $ Q $ 回以下行ってください。

まず、次の形式で標準出力に出力することで、硬貨 $ x,y $ を鑑定することを表します。 (末尾に改行を入れること。)

> ? $ x $ $ y $

ここで、 $ x,y $ は $ 1 $ 以上 $ N $ 以下の相異なる整数である必要があります。

これに対するジャッジシステムの応答は、以下の $ 3 $ 通りです。

```
0
```

応答が `0` であるとき、硬貨 $ x,y $ が同種であることを表します。

```
1
```

応答が `1` であるとき、硬貨 $ x,y $ が異種であることを表します。

```
-1
```

応答が `-1` であるとき、不当な鑑定であることを表します。具体的には

- 出力した $ x,y $ が制約を満たさなかった
- $ Q $ 回を超えて鑑定が行われた

の少なくともひとつが満たされた際にこの応答を行います。  
この応答を受け取った場合、プログラムはすでに不正解とみなされています。直ちにプログラムを終了してください。

最後に、次の形式で標準出力に出力することで、硬貨 $ A_1,A_2,\dots,A_{M} $ が偽物であると解答します。 (末尾に改行を入れること。)

> ! $ A_1 $ $ A_2 $ $ \dots $ $ A_{M} $

ここで、 $ A_i $ は $ 1 $ 以上 $ N $ 以下の相異なる整数である必要があります。  
この出力の後、直ちにプログラムを終了してください。

なお、全ての出力について、出力が指定された形式を満たさなかった場合もプログラムが不正解とみなされます。 その後 `-1` が返答されるので、その場合も直ちにプログラムを終了してください。

## 说明/提示

### 制約

- $ \color{red}{N\ =\ 1000} $
- $ \color{red}{M\ =\ 10} $
- $ \color{red}{Q\ =\ 950} $

### 注意点

- **出力を行うたびに、末尾に改行を入れて標準出力を flush してください。** そうしなかった場合、ジャッジ結果が TLE や WA となる可能性があります。
- 解答を出力したら (または `-1` を受け取ったら) ただちにプログラムを終了してください。そうしない場合、ジャッジ結果は不定です。
- 余計な改行は不正なフォーマットの出力とみなされることに注意してください。
- **この問題のジャッジシステムは、適応的(adaptive)です。** つまり、ジャッジシステムは、任意のタイミングにおいて、整合性がとれる限り、偽物の硬貨として想定しているものを変更する可能性があります。詳しくは入出力例も参照してください。

### 入出力例

この入力では $ N=5,M=2,Q=10 $ であり、ジャッジシステムは最初硬貨 $ 1,2 $ が偽物であると想定しています。

なお、この例は制約を満たさないので、ジャッジには含まれないことに注意してください。

入力出力説明`5 2 10`$ N,M,Q $ が与えられます。`? 1 2`硬貨 $ 1,2 $ について鑑定を行います。`0`硬貨 $ 1,2 $ は同種だと判定します。`? 1 3`硬貨 $ 1,3 $ について鑑定を行います。`1`硬貨 $ 1,3 $ は異種だと判定します。`? 1 4`硬貨 $ 1,4 $ について鑑定を行います。`1`硬貨 $ 1,4 $ は異種だと判定します。`! 1 2`硬貨 $ 1,2 $ が偽物だと解答します。確かに硬貨 $ 1,2 $ は偽物だと想定されていますが、硬貨 $ 3,4 $ を偽物であると想定しても整合性が取れます。  
よって、ジャッジシステムは偽物の硬貨として想定しているものを硬貨 $ 3,4 $ に変更できます。  
これにより、ジャッジシステムは不正解の判定を下すこともあります。



---


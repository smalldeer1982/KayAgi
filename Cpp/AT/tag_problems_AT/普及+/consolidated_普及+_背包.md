---
title: "[ABC325F] Sensor Optimization Dilemma"
layout: "post"
diff: 普及+/提高
pid: AT_abc325_f
tag: ['动态规划 DP', '背包 DP']
---

# [ABC325F] Sensor Optimization Dilemma

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc325/tasks/abc325_f

キーエンスの工場長であるあなたは、ベルトコンベア上のいくつかの区間をセンサーによって監視したいと考えています。 あなたが監視したい区間は全部で $ N $ 個あり、$ i $ 個目の区間の長さは $ D_i $ メートルです。

センサーには $ 2 $ 種類の候補があり、それぞれのセンサーに関する情報は以下の通りです。

- センサー $ j\ (1\leq\ j\ \leq\ 2) $ : 長さ $ L_j $ メートルの区間を監視できる。 価格は $ 1 $ 個あたり $ C_j $ であり、全体で最大 $ K_j $ 個まで使用することができる。

$ 1 $ つの区間をいくつかの区間に分割して監視することもできます。 また、センサーが監視する区間が重なっていたり、監視したい区間の長さより余分に監視していたりしても問題はありません。 例えば、$ L_1=4,L_2=2 $ であるとき、センサー $ 1 $ を $ 1 $ つ使って長さ $ 3 $ メートルの区間を監視したり、センサー $ 1,2 $ を $ 1 $ つずつ使って長さ $ 5 $ メートルの区間を監視したりすることが可能です。

$ N $ 個の区画をすべて監視することが可能であるか判定し、可能ならば必要なセンサーの価格の総和の最小値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ D_1 $ $ D_2 $ $ \dots $ $ D_N $ $ L_1 $ $ C_1 $ $ K_1 $ $ L_2 $ $ C_2 $ $ K_2 $

## 输出格式

$ N $ 個の区画をすべて監視することが不可能ならば `-1` を、可能ならば必要なセンサーの価格の総和の最小値を出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\ \leq\ 100 $
- $ 1\leq\ D_i,L_j\ \leq\ 10^5 $
- $ 1\leq\ C_j\ \leq\ 10^9 $
- $ 1\leq\ K_j\ \leq\ 10^3 $
- 入力は全て整数

### Sample Explanation 1

以下のようにすることで、センサー $ 1 $ を $ 3 $ つ、センサー $ 2 $ を $ 4 $ つ使ってすべての区間を監視できます。 - センサー $ 1 $ を $ 1 $ つ使って $ 1 $ 個目の区間を監視する。 - センサー $ 1,2 $ を $ 1 $ つずつ使って $ 2 $ 個目の区間を監視する。 - センサー $ 1 $ を $ 1 $ つ、センサー $ 2 $ を $ 3 $ つ使って $ 3 $ 個目の区間を監視する。 このとき、必要なセンサーの価格の総和は $ 3\times\ 3\ +\ 2\times\ 4\ =\ 17 $ であり、これが最小です。

### Sample Explanation 3

$ 1 $ つも使わない種類のセンサーがあっても構いません。

## 样例 #1

### 输入

```
3
3 5 10
4 3 3
2 2 6
```

### 输出

```
17
```

## 样例 #2

### 输入

```
3
3 5 10
4 3 3
2 2 3
```

### 输出

```
-1
```

## 样例 #3

### 输入

```
2
4 8
3 1 100
4 10000 100
```

### 输出

```
5
```



---

---
title: "[ABC364E] Maximum Glutton"
layout: "post"
diff: 普及+/提高
pid: AT_abc364_e
tag: ['背包 DP']
---

# [ABC364E] Maximum Glutton

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc364/tasks/abc364_e

高橋君はすぬけ君のために $ N $ 個の料理を作りました。 料理には $ 1 $ から $ N $ までの番号がつけられていて、料理 $ i $ の**甘さ**は $ A_i $、**しょっぱさ**は $ B_i $ です。

高橋君はこれらの料理を好きな順番で並べることができます。 すぬけ君は料理を並べられた順に食べていきますが、ある時点においてそれまでに食べた料理の甘さの合計が $ X $ を超えるかしょっぱさの合計が $ Y $ を超えた場合、それ以降の料理は食べません。

高橋君は、すぬけ君にできるだけ多くの料理を食べてほしいと思っています。 高橋君がうまく料理を並べたとき、すぬけ君が最大で何個の料理を食べることになるか求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ X $ $ Y $ $ A_1 $ $ B_1 $ $ A_2 $ $ B_2 $ $ \vdots $ $ A_N $ $ B_N $

## 输出格式

答えを整数として出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\ \leq\ 80 $
- $ 1\leq\ A_i,B_i\ \leq\ 10000 $
- $ 1\leq\ X,Y\ \leq\ 10000 $
- 入力は全て整数

### Sample Explanation 1

高橋君が料理を $ 2,3,1,4 $ の順番で並べた場合のすぬけ君の行動を考えます。 - まず料理 $ 2 $ を食べる。ここまでに食べた料理の甘さの合計は $ 3 $、しょっぱさの合計は $ 2 $ である。 - 次に料理 $ 3 $ を食べる。ここまでに食べた料理の甘さの合計は $ 7 $、しょっぱさの合計は $ 3 $ である。 - 次に料理 $ 1 $ を食べる。ここまでに食べた料理の甘さの合計は $ 8 $、しょっぱさの合計は $ 8 $ である。 - しょっぱさの合計が $ Y=4 $ を超えたので、これ以降の料理は食べない。 よって、この並び方の場合すぬけ君は $ 3 $ 個の料理を食べることになります。 高橋君が料理をどのように並べてもすぬけ君が $ 4 $ つ全ての料理を食べることはないので、答えは $ 3 $ です。

## 样例 #1

### 输入

```
4 8 4
1 5
3 2
4 1
5 3
```

### 输出

```
3
```

## 样例 #2

### 输入

```
2 1 1
3 2
3 2
```

### 输出

```
1
```

## 样例 #3

### 输入

```
2 100 100
3 2
3 2
```

### 输出

```
2
```

## 样例 #4

### 输入

```
6 364 463
230 381
154 200
328 407
339 94
193 10
115 309
```

### 输出

```
3
```



---

---
title: "[ABC383F] Diversity"
layout: "post"
diff: 普及+/提高
pid: AT_abc383_f
tag: ['动态规划 DP', '背包 DP']
---

# [ABC383F] Diversity

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc383/tasks/abc383_f

店で $ N $ 個の商品が売られています。 $ i $ 個目の商品の価格は $ P_i $ 円、効用は $ U_i $ 、色は $ C_i $ です。

あなたは、これらの $ N $ 個の商品から何個か( $ 0 $ 個でもよい)を選んで購入します。 このとき、購入した品物の合計価格は $ X $ 円以下でなければなりません。

あなたの満足度は、購入した商品の効用の合計を $ S $、購入した商品の色の種類数を $ T $ としたとき、$ S+T\ \times\ K $ です。 ここで、$ K $ は入力で与えられる定数です。

あなたの満足度を最大化するように購入する商品を選んだとき、満足度を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ X $ $ K $ $ P_1 $ $ U_1 $ $ C_1 $ $ P_2 $ $ U_2 $ $ C_2 $ $ \vdots $ $ P_N $ $ U_N $ $ C_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 500 $
- $ 1\ \leq\ X\ \leq\ 50000 $
- $ 1\ \leq\ K\ \leq\ 10^9 $
- $ 1\ \leq\ P_i\ \leq\ X $ $ (1\ \leq\ i\ \leq\ N) $
- $ 1\ \leq\ U_i\ \leq\ 10^9 $ $ (1\ \leq\ i\ \leq\ N) $
- $ 1\ \leq\ C_i\ \leq\ N $ $ (1\ \leq\ i\ \leq\ N) $
- 入力は全て整数
 
### Sample Explanation 1

$ 1 $ 個目、$ 2 $ 個目の商品を購入したとき、効用の合計 $ S $ は $ 7 $ で、色の種類数 $ T $ は $ 2 $ です。よって、満足度は $ 7+2\ \times\ 5\ =\ 17 $ です。また、満足度が $ 18 $ 以上になるような購入の仕方は存在しないため、答えは $ 17 $ です。

### Sample Explanation 2

$ 2 $ 個目、$ 3 $ 個目、$ 4 $ 個目の商品を購入したとき、効用の合計 $ S $ は $ 35 $ で、色の種類数 $ T $ は $ 3 $ です。よって、満足度は $ 35+3\ \times\ 3\ =\ 44 $ です。また、満足度が $ 45 $ 以上になるような購入の仕方は存在しないため、答えは $ 44 $ です。

## 样例 #1

### 输入

```
3 10 5

1 3 1

7 4 2

4 5 1
```

### 输出

```
17
```

## 样例 #2

### 输入

```
5 30 3

5 4 3

11 20 1

9 10 4

7 5 2

16 15 4
```

### 输出

```
44
```

## 样例 #3

### 输入

```
22 75 6426

9 309 9

5 470 5

17 481 12

27 352 14

1 191 18

7 353 20

9 99 15

20 401 17

46 434 19

11 459 22

10 317 19

15 440 18

17 438 19

25 461 22

5 320 22

1 476 21

11 315 3

8 112 9

11 438 13

19 362 8

10 422 13

10 152 21
```

### 输出

```
67717
```



---

---
title: "[AGC020C] Median Sum"
layout: "post"
diff: 普及+/提高
pid: AT_agc020_c
tag: ['背包 DP', '位运算']
---

# [AGC020C] Median Sum

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc020/tasks/agc020_c

$ N $ 個の整数 $ A_1 $, $ A_2 $, ..., $ A_N $ が与えられます。

$ A $ のすべての空でない部分列について、それぞれの和を考えます。このような和は $ 2^N\ -\ 1 $ 個存在し、この個数は奇数です。

これらの和を昇順に並べたものを $ S_1 $, $ S_2 $, ..., $ S_{2^N\ -\ 1} $ とします。

これらの中央値、$ S_{2^{N-1}} $ を求めてください。

## 输入格式

入力は標準入力から以下の形式で与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ ... $ $ A_N $

## 输出格式

$ A $ のすべての空でない部分列の和を書き並べてソートした際の中央値を出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 2000 $
- $ 1\ \leq\ A_i\ \leq\ 2000 $
- 入力値はすべて整数である。

### Sample Explanation 1

この場合、$ S\ =\ (1,\ 1,\ 2,\ 2,\ 3,\ 3,\ 4) $ となり、中央値は $ S_4\ =\ 2 $ です。

### Sample Explanation 2

この場合、$ S\ =\ (58) $ となります。

## 样例 #1

### 输入

```
3

1 2 1
```

### 输出

```
2
```

## 样例 #2

### 输入

```
1

58
```

### 输出

```
58
```



---


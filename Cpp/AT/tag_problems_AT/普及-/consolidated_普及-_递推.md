---
title: "[ABC340C] Divide and Divide"
layout: "post"
diff: 普及-
pid: AT_abc340_c
tag: ['递推', '记忆化搜索']
---

# [ABC340C] Divide and Divide

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc340/tasks/abc340_c

黒板に整数 $ N $ が $ 1 $ 個書かれています。  
 高橋君は黒板に書かれている $ 2 $ 以上の整数が全て無くなるまで以下の一連の操作を繰り返します。

- 黒板に書かれている $ 2 $ 以上の整数を $ 1 $ つ選び $ x $ とする。
- 黒板から $ x $ を $ 1 $ 個消す。そして、$ 2 $ 個の整数 $ \left\ \lfloor\ \dfrac{x}{2}\ \right\rfloor,\ \left\lceil\ \dfrac{x}{2}\ \right\rceil $ を新たに黒板に書く。
- この一連の操作を行うために高橋君は $ x $ 円払う必要がある。
 
ここで $ \lfloor\ a\ \rfloor $ は $ a $ 以下の整数のうち最大のものを、$ \lceil\ a\ \rceil $ は $ a $ 以上の整数のうち最小のものを意味します。

操作を行えなくなった時点で高橋君が払った金額の総和は何円ですか？  
 なお、どのような順番で操作を行っても高橋君が払う金額の総和は一定であることが証明できます。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $

## 输出格式

高橋君が払った金額の総和が何円であるかを出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 10^{17} $
 
### Sample Explanation 1

高橋君が行う操作の一例を挙げると次のようになります。 - はじめ、黒板には $ 3 $ が $ 1 $ 個書かれている。 - 高橋君は $ 3 $ を選ぶ。高橋君は $ 3 $ 円を払い、黒板から $ 3 $ を $ 1 $ 個消して $ \left\ \lfloor\ \dfrac{3}{2}\ \right\rfloor\ =\ 1,\ \left\lceil\ \dfrac{3}{2}\ \right\rceil\ =\ 2 $ を新たに黒板に書く。 - 黒板には $ 2 $ が $ 1 $ 個と $ 1 $ が $ 1 $ 個書かれている。 - 高橋君は $ 2 $ を選ぶ。高橋君は $ 2 $ 円を払い、黒板から $ 2 $ を $ 1 $ 個消して $ \left\ \lfloor\ \dfrac{2}{2}\ \right\rfloor\ =\ 1,\ \left\lceil\ \dfrac{2}{2}\ \right\rceil\ =\ 1 $ を新たに黒板に書く。 - 黒板には $ 1 $ が $ 3 $ 個書かれている。 - 黒板から $ 2 $ 以上の整数が全て無くなったので操作を終了する。 操作全体で高橋君は $ 3\ +\ 2\ =\ 5 $ 円払ったので、$ 5 $ を出力します。

## 样例 #1

### 输入

```
3
```

### 输出

```
5
```

## 样例 #2

### 输入

```
340
```

### 输出

```
2888
```

## 样例 #3

### 输入

```
100000000000000000
```

### 输出

```
5655884811924144128
```



---

---
title: "[ABC369C] Count Arithmetic Subarrays"
layout: "post"
diff: 普及-
pid: AT_abc369_c
tag: ['数学', '递推']
---

# [ABC369C] Count Arithmetic Subarrays

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc369/tasks/abc369_c

長さ $ N $ の正整数列 $ A=(A_1,A_2,\dots,A_N) $ が与えられます。

$ 1\leq\ l\leq\ r\leq\ N $ を満たす整数の組 $ (l,r) $ であって、数列 $ (A_l,A_{l+1},\dots,A_r) $ が等差数列であるようなものが何通りあるか求めてください。

なお、数列 $ (x_1,x_2,\dots,x_{|x|}) $ が等差数列であるとは、ある $ d $ が存在して $ x_{i+1}-x_i=d\ (1\leq\ i\ <\ |x|) $ であることをいいます。 特に、長さ $ 1 $ の数列は常に等差数列です。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\ \leq\ 2\times\ 10^5 $
- $ 1\leq\ A_i\ \leq\ 10^9 $
- 入力は全て整数
 
### Sample Explanation 1

条件を満たす整数の組 $ (l,r) $ は $ (1,1),(2,2),(3,3),(4,4),(1,2),(2,3),(3,4),(1,3) $ の $ 8 $ 通りです。 実際、$ (l,r)=(1,3) $ のとき $ (A_l,\dots,A_r)=(3,6,9) $ は等差数列なので条件を満たしますが、 $ (l,r)=(2,4) $ のとき $ (A_l,\dots,A_r)=(6,9,3) $ は等差数列ではないので条件を満たしません。

### Sample Explanation 2

すべての整数の組 $ (l,r)\ (1\leq\ l\leq\ r\leq\ 5) $ が条件を満たします。

## 样例 #1

### 输入

```
4

3 6 9 3
```

### 输出

```
8
```

## 样例 #2

### 输入

```
5

1 1 1 1 1
```

### 输出

```
15
```

## 样例 #3

### 输入

```
8

87 42 64 86 72 58 44 30
```

### 输出

```
22
```



---

---
title: "天下一序数"
layout: "post"
diff: 普及-
pid: AT_tenka1_2014_qualA_a
tag: ['字符串', '递推', '排序']
---

# 天下一序数

## 题目描述

这是一道提交答案题（虽然在洛谷上，你只能提交程序源代码）。

请将1至1000这1000个数字按字典序升序排列。例如：将1,2,11,12,21按照字典序升序排序后的结果是：1,11,12,2,21。

## 输入格式

本题没有输入。

## 输出格式

输出将1至1000这1000个数按字典序升序排列后的结果，每行输出一个数字。



---


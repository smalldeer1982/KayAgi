---
title: "[ABC347D] Popcount and XOR"
layout: "post"
diff: 普及/提高-
pid: AT_abc347_d
tag: ['贪心', '位运算']
---

# [ABC347D] Popcount and XOR

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc347/tasks/abc347_d

非負整数 $ a,b,C $ が与えられます。 次の $ 5 $ つの条件をすべて満たす非負整数の組 $ (X,Y) $ が存在するか判定し、存在するならひとつ出力してください。

- $ 0\leq\ X\lt2\ ^\ {60} $
- $ 0\leq\ Y\lt2\ ^\ {60} $
- $ \operatorname{popcount}(X)=a $
- $ \operatorname{popcount}(Y)=b $
- $ X\oplus\ Y=C $

ただし、$ \oplus $ はビットごとの排他的論理和を表します。

条件を満たす $ (X,Y) $ が複数存在する場合、どれを出力しても構いません。

popcount とは？非負整数 $ x $ について $ x $ の popcount とは、$ x $ を $ 2 $ 進法で表記したときの $ 1 $ の個数です。 より厳密には、非負整数 $ x $ について $ \displaystyle\ x=\sum\ _\ {i=0}\ ^\ \infty\ b\ _\ i2\ ^\ i\ (b\ _\ i\in\lbrace0,1\rbrace) $ が成り立っているとき $ \displaystyle\operatorname{popcount}(x)=\sum\ _\ {i=0}\ ^\ \infty\ b\ _\ i $ です。

例えば、$ 13 $ を $ 2 $ 進法で表記すると `1101` なので、 $ \operatorname{popcount}(13)=3 $ となります。 ビットごとの排他的論理和とは？非負整数 $ x,y $ について $ x,y $ のビットごとの排他的論理和 $ x\oplus\ y $ は以下のように定義されます。

- $ x\oplus\ y $ を $ 2 $ 進法で表記したときの $ 2\ ^\ k\ (k\geq0) $ の位は、$ x,y $ を $ 2 $ 進法で表記したときの $ 2\ ^\ k\ (k\geq0) $ の位の数のうち一方のみが $ 1 $ であれば $ 1 $ 、そうでなければ $ 0 $ となる。

例えば、$ 9,3 $ を $ 2 $ 進法で表記するとそれぞれ `1001`, `0011` なので、$ 9\oplus3=10 $ となります（$ 10 $ を $ 2 $ 進法で表記すると `1010` です）。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ a $ $ b $ $ C $

## 输出格式

条件を満たす非負整数の組が存在するならば、そのような $ (X,Y) $ をひとつ選び $ X,Y $ をこの順に空白を区切りとして出力せよ。 存在しないならば、`-1` を出力せよ。

## 说明/提示

### 制約

- $ 0\leq\ a\leq60 $
- $ 0\leq\ b\leq60 $
- $ 0\leq\ C\lt2\ ^\ {60} $
- 入力はすべて整数

### Sample Explanation 1

$ (X,Y)=(28,27) $ は条件を満たします。 $ X,Y $ を $ 2 $ 進法で表記するとそれぞれ `11100` と `11011` になります。 - $ X $ を $ 2 $ 進法で表記すると `11100` になるので、$ \operatorname{popcount}(X)=3 $ です。 - $ Y $ を $ 2 $ 進法で表記すると `11011` になるので、$ \operatorname{popcount}(Y)=4 $ です。 - $ X\oplus\ Y $ を $ 2 $ 進法で表記すると `00111` となり、$ X\oplus\ Y=7 $ です。 条件を満たす非負整数の組が複数存在する場合どれを出力しても構わないため、例えば `42 45` と出力しても正解になります。

### Sample Explanation 2

条件を満たす非負整数の組は存在しません。

### Sample Explanation 3

出力すべき値が $ 32\operatorname{bit} $ 整数に収まらない場合があります。

## 样例 #1

### 输入

```
3 4 7
```

### 输出

```
28 27
```

## 样例 #2

### 输入

```
34 56 998244353
```

### 输出

```
-1
```

## 样例 #3

### 输入

```
39 47 530423800524412070
```

### 输出

```
540431255696862041 10008854347644927
```



---

---
title: "[ABC356D] Masked Popcount"
layout: "post"
diff: 普及/提高-
pid: AT_abc356_d
tag: ['位运算']
---

# [ABC356D] Masked Popcount

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc356/tasks/abc356_d

整数 $ N,M $ が与えられるので、 $ \displaystyle\ \sum_{k=0}^{N} $ $ \rm{popcount} $$ (k\ \mathbin{\&amp;}\ M) $ を $ 998244353 $ で割った余りを求めてください。

ただし、 $ \mathbin{\&amp;} $ はビット単位 $ \rm{AND} $ 演算を表します。

 ビット単位 $ \rm{AND} $ 演算とは？ 非負整数 $ a $ と非負整数 $ b $ とのビット単位 $ \rm{AND} $ 演算の結果 $ x\ =\ a\ \mathbin{\&amp;}\ b $ は次のように定義されます。  
- $ x $ は全ての非負整数 $ k $ について以下の条件を満たすただ $ 1 $ つの非負整数である。
- $ a $ を $ 2 $ 進法で書き下した際の $ 2^k $ の位と $ b $ を $ 2 $ 進法で書き下した際の $ 2^k $ の位が共に $ 1 $ なら、 $ x $ を $ 2 $ 進法で書き下した際の $ 2^k $ の位は $ 1 $ である。
- そうでないとき、 $ x $ を $ 2 $ 進法で書き下した際の $ 2^k $ の位は $ 0 $ である。
 
 
 例えば $ 3=11_{(2)},\ 5=101_{(2)} $ なので、 $ 3\ \mathbin{\&amp;}\ 5\ =\ 1 $ となります。  $ \rm{popcount} $ とは？ $ \rm{popcount} $$ (x) $ は、 $ x $ を $ 2 $ 進法で書き下した際に登場する $ 1 $ の個数を表します。  
 例えば $ 13=1101_{(2)} $ なので、 $ \rm{popcount} $$ (13)\ =\ 3 $ となります。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $

## 输出格式

答えを整数として出力せよ。

## 说明/提示

### 制約

- $ N $ は $ 0 $ 以上 $ 2^{60} $ 未満の整数
- $ M $ は $ 0 $ 以上 $ 2^{60} $ 未満の整数
 
### Sample Explanation 1

\- $ \rm{popcount} $$ (0\mathbin{\&amp;}3)\ =\ 0 $ - $ \rm{popcount} $$ (1\mathbin{\&amp;}3)\ =\ 1 $ - $ \rm{popcount} $$ (2\mathbin{\&amp;}3)\ =\ 1 $ - $ \rm{popcount} $$ (3\mathbin{\&amp;}3)\ =\ 2 $ - $ \rm{popcount} $$ (4\mathbin{\&amp;}3)\ =\ 0 $ であり、これらの和は $ 4 $ です。

### Sample Explanation 2

$ N=0 $ である場合や $ M=0 $ である場合もあります。

### Sample Explanation 3

$ 998244353 $ で割った余りを求めることに注意してください。

## 样例 #1

### 输入

```
4 3
```

### 输出

```
4
```

## 样例 #2

### 输入

```
0 0
```

### 输出

```
0
```

## 样例 #3

### 输入

```
1152921504606846975 1152921504606846975
```

### 输出

```
499791890
```



---

---
title: "D - Domino Covering XOR"
layout: "post"
diff: 普及/提高-
pid: AT_abc407_d
tag: ['搜索', '深度优先搜索 DFS', '位运算']
---

# D - Domino Covering XOR

## 题目描述

有一个网格，网格中有 $H$ 行和 $W$ 列。让 $(i,j)$ 表示从顶部 $(1\leq i\leq H)$ 起第 $i$ 行的单元格，从左侧 $(1\leq j\leq W)$ 起第 $j$ 列的单元格。

单元格 $(i,j)\ (1\leq i\leq H,1\leq j\leq W)$ 上写有一个非负整数 $A_{i,j}$ 。

让我们在网格上放置零块或更多块多米诺骨牌。一块多米诺骨牌覆盖两个相邻的单元格，即以下两对中的一对：

- 单元格 $(i,j)$ 和 $(i,j+1)$ 为 $1\leq i\leq H,1\leq j\lt W$ ；
- 单元格 $(i,j)$ 和 $(i+1,j)$ ，代表 $1\leq i\lt H,1\leq j\leq W$ 。

任何一个单元格都不能被一块以上的多米诺骨牌覆盖。

对于多米诺骨牌的摆放，其**分数**定义为写在***未被任何骨牌覆盖的单元格中的所有整数的位XOR。

找出可能的最大得分。

什么是位XOR？

对于非负整数 $A$ 和 $B$ ，它们的位向 XOR $A \oplus B$ 定义如下：

- 在二进制中，如果 $A$ 和 $B$ 中正好有一个位有 $1$ ，则 $A \oplus B$ 的 $2^k$ 位（ $k \ge 0$ ）为 $1$ ，否则为 $0$ 。

例如， $3 \oplus 5 = 6$ （二进制为 $011 \oplus 101 = 110$ ）。  
对于 $k$ 非负整数 $p_1, p_2, p_3, \dots, p_k$ ，它们的位 XOR 为 $(\dots ((p_1 \oplus p_2) \oplus p_3) \oplus \dots \oplus p_k)$ ，可以证明这与操作数的顺序无关。

## 输入格式

输入内容由标准输入法提供，格式如下

```
$H$ $W$
$A _ {1,1}$ $A _ {1,2}$ $\ldots$ $A _ {1,W}$
$A _ {2,1}$ $A _ {2,2}$ $\ldots$ $A _ {2,W}$
$\vdots$
$A _ {H,1}$ $A _ {H,2}$ $\ldots$ $A _ {H,W}$
```

## 输出格式

输出答案。

## 说明/提示

- $1 \le H$
- $1 \le W$
- $HW \le 20$
- $0 \le A_{i,j} \lt 2^{60}$ ( $1 \le i \le H,\ 1 \le j \le W$ )
- 所有输入值均为整数。

## 样例 #1

### 输入

```
3 4
1 2 3 8
4 0 7 10
5 2 4 2
```

### 输出

```
15
```

## 样例 #2

### 输入

```
1 11
1 2 4 8 16 32 64 128 256 512 1024
```

### 输出

```
2047
```

## 样例 #3

### 输入

```
4 5
74832 16944 58683 32965 97236
52995 43262 51959 40883 58715
13846 24919 65627 11492 63264
29966 98452 75577 40415 77202
```

### 输出

```
131067
```



---

---
title: "[AGC035A] XOR Circle"
layout: "post"
diff: 普及/提高-
pid: AT_agc035_a
tag: ['位运算', '分类讨论']
---

# [AGC035A] XOR Circle

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc035/tasks/agc035_a

すぬけ君は $ N $ 枚の帽子を持っています。$ i $ 枚目の帽子には整数 $ a_i $ が書かれています。

$ N $ 頭のラクダが円環状に並んでいます。 すぬけ君はそれぞれのラクダに $ 1 $ 枚の帽子を被せようとしています。

どのラクダについても以下の条件が成立するような帽子の被せ方が存在するならば `Yes` を、そうでなければ `No` を出力してください。

- 両隣のラクダが被っている帽子に書かれた数のビットごとの排他的論理和が自身の被っている帽子に書かれた数と等しい
 
ビットごとの排他的論理和について $ n $ 個の非負整数 $ x_1,x_2,\ \ldots,\ x_n $ の排他的論理和 $ x_1\ \oplus\ x_2\ \oplus\ \ldots\ \oplus\ x_n $ は以下のように定義されます。

- $ x_1\ \oplus\ x_2\ \oplus\ \ldots\ \oplus\ x_n $ を二進表記した際の $ 2^k(k\ \geq\ 0) $ の位の数は $ x_1,x_2,\ \ldots,\ x_n $ のうち、二進表記した際の $ 2^k(k\ \geq\ 0) $ の位の数が $ 1 $ となるものの個数が奇数ならば $ 1 $、そうでなければ $ 0 $ となる。
 
 例えば、$ 3\ \oplus\ 5\ =\ 6 $ となります。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ a_1 $ $ a_2 $ $ \ldots $ $ a_{N} $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- 入力は全て整数
- $ 3\ \leq\ N\ \leq\ 10^{5} $
- $ 0\ \leq\ a_i\ \leq\ 10^{9} $

### Sample Explanation 1

\- $ 1,2,3 $ が書かれた帽子を時計回りに被せたとき、どのラクダも問題文中の条件を満たすため、答えは `Yes` となります。

### Sample Explanation 2

\- そのような被せ方は存在しません。よって、答えは `No` となります。

## 样例 #1

### 输入

```
3

1 2 3
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
4

1 2 4 8
```

### 输出

```
No
```



---


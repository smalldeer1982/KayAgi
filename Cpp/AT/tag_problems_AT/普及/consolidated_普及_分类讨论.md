---
title: "[ABC401D] Logical Filling"
layout: "post"
diff: 普及/提高-
pid: AT_abc401_d
tag: ['贪心', '分类讨论']
---

# [ABC401D] Logical Filling

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc401/tasks/abc401_d

给定一个长度为 $N$ 的字符串 $S$，仅由 `.`、`o` 和 `?` 组成。将所有 `?` 分别替换为 `.` 或 `o` 后得到的字符串中，满足以下所有条件的字符串集合记为 $X$：

- `o` 的个数恰好为 $K$ 个
- `o` 不连续出现

保证 $X$ 不是空集。

请输出满足以下条件且长度为 $N$ 的字符串 $T$（其中 $T_i$ 表示 $T$ 的第 $i$ 个字符）：

- 若 $X$ 中所有字符串的第 $i$ 个字符都是 `.`，则 $T_i =$ `.`
- 若 $X$ 中所有字符串的第 $i$ 个字符都是 `o`，则 $T_i =$ `o`
- 若 $X$ 中既存在第 $i$ 个字符为 `.` 的字符串，也存在第 $i$ 个字符为 `o` 的字符串，则 $T_i =$ `?`

## 输入格式

输入通过标准输入给出，格式如下：

> $N$ $K$
>
> $S$

## 输出格式

输出答案字符串 $T$。


## 说明/提示

### 约束条件

- $1 \leq N \leq 2 \times 10^5$
- $0 \leq K$
- $S$ 是仅由 `.`、`o` 和 `?` 组成的长度为 $N$ 的字符串
- $X$ 不是空集
- 输入的所有数值均为整数

### 样例解释 1

$X$ 包含两个字符串 `o.o.` 和 `o..o`。由于 $X$ 中所有字符串的第 1 个字符都是 `o`，所以 $T_1 =$ `o`。$X$ 中所有字符串的第 2 个字符都是 `.`，所以 $T_2 =$ `.`。$X$ 中既有第 3 个字符为 `.` 的字符串，也有为 `o` 的字符串，因此 $T_3 =$ `?`。

翻译由 DeepSeek V3 完成

## 样例 #1

### 输入

```
4 2

o???
```

### 输出

```
o.??
```

## 样例 #2

### 输入

```
5 2

?????
```

### 输出

```
?????
```

## 样例 #3

### 输入

```
7 3

.o???o.
```

### 输出

```
.o.o.o.
```



---

---
title: "[AGC035A] XOR Circle"
layout: "post"
diff: 普及/提高-
pid: AT_agc035_a
tag: ['位运算', '分类讨论']
---

# [AGC035A] XOR Circle

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc035/tasks/agc035_a

すぬけ君は $ N $ 枚の帽子を持っています。$ i $ 枚目の帽子には整数 $ a_i $ が書かれています。

$ N $ 頭のラクダが円環状に並んでいます。 すぬけ君はそれぞれのラクダに $ 1 $ 枚の帽子を被せようとしています。

どのラクダについても以下の条件が成立するような帽子の被せ方が存在するならば `Yes` を、そうでなければ `No` を出力してください。

- 両隣のラクダが被っている帽子に書かれた数のビットごとの排他的論理和が自身の被っている帽子に書かれた数と等しい
 
ビットごとの排他的論理和について $ n $ 個の非負整数 $ x_1,x_2,\ \ldots,\ x_n $ の排他的論理和 $ x_1\ \oplus\ x_2\ \oplus\ \ldots\ \oplus\ x_n $ は以下のように定義されます。

- $ x_1\ \oplus\ x_2\ \oplus\ \ldots\ \oplus\ x_n $ を二進表記した際の $ 2^k(k\ \geq\ 0) $ の位の数は $ x_1,x_2,\ \ldots,\ x_n $ のうち、二進表記した際の $ 2^k(k\ \geq\ 0) $ の位の数が $ 1 $ となるものの個数が奇数ならば $ 1 $、そうでなければ $ 0 $ となる。
 
 例えば、$ 3\ \oplus\ 5\ =\ 6 $ となります。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ a_1 $ $ a_2 $ $ \ldots $ $ a_{N} $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- 入力は全て整数
- $ 3\ \leq\ N\ \leq\ 10^{5} $
- $ 0\ \leq\ a_i\ \leq\ 10^{9} $

### Sample Explanation 1

\- $ 1,2,3 $ が書かれた帽子を時計回りに被せたとき、どのラクダも問題文中の条件を満たすため、答えは `Yes` となります。

### Sample Explanation 2

\- そのような被せ方は存在しません。よって、答えは `No` となります。

## 样例 #1

### 输入

```
3

1 2 3
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
4

1 2 4 8
```

### 输出

```
No
```



---

---
title: "[AGC062A] Right Side Character"
layout: "post"
diff: 普及/提高-
pid: AT_agc062_a
tag: ['贪心', '分类讨论']
---

# [AGC062A] Right Side Character

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc062/tasks/agc062_a

`A`,`B` のみからなる長さ $ n\ (2\leq\ n) $ の文字列 $ T=T_1T_2\dots\ T_n $ に対し、長さ $ n-1 $ の文字列 $ f(T) $ を以下のように定めます。

- $ T_i={} $`A` が成り立つ $ i\ (1\leq\ i\ \leq\ n-1) $ 全体を $ a_1\ <\ a_2\ <\ \dots\ <\ a_{m} $ とし、 $ T_i={} $`B` が成り立つ $ i\ (1\leq\ i\ \leq\ n-1) $ 全体を $ b_1\ <\ b_2\ <\ \dots\ <\ b_k $ とする。このとき、 $ f(T)=T_{a_1+1}T_{a_2+1}\dots\ T_{a_m+1}T_{b_1+1}T_{b_2+1}\dots\ T_{b_k+1} $ と定める。
 
例えば文字列 $ T={} $`ABBABA` について、$ T_i={} $`A` が成り立つ $ i\ (1\leq\ i\ \leq\ 5) $ 全体は $ i=1,4 $ , $ T_i={} $`B` が成り立つ $ i\ (1\leq\ i\ \leq\ 5) $ 全体は $ i=2,3,5 $ であるため、$ f(T) $ は $ T_{1+1}T_{4+1}T_{2+1}T_{3+1}T_{5+1}={} $`BBBAA` になります。

`A`,`B` のみからなる長さ $ N $ の文字列 $ S $ が与えられます。

$ S $ を $ f(S) $ で置き換えることを $ N-1 $ 回行った後の $ S $ を求めてください。

$ T $ 個のテストケースが与えられるので、それぞれについて答えを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられます。

> $ T $ $ \mathrm{case}_1 $ $ \vdots $ $ \mathrm{case}_T $

各ケースは以下の形式で与えられます。

> $ N $ $ S $

## 输出格式

$ T $ 行出力してください。$ i $ 行目には $ i $ 番目のテストケースに対する答えを出力してください。

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 10^5 $
- $ 2\ \leq\ N\ \leq\ 3\ \times\ 10^5 $
- $ S $ は `A`,`B` のみからなる長さ $ N $ の文字列
- 入力される数値はすべて整数
- $ 1 $ つの入力に含まれるテストケースについて、 $ N $ の総和は $ 3\ \times\ 10^5 $ 以下
 
### Sample Explanation 1

$ 1 $ つ目のテストケースについて、$ S $ は `AB`$ {}\rightarrow\ {} $`B` と変化します。 $ 2 $ つ目のテストケースについて、$ S $ は `AAA`$ {}\ \rightarrow\ {} $`AA`$ {}\ \rightarrow\ {} $`A` と変化します。 $ 3 $ つ目のテストケースについて、$ S $ は `ABAB`$ {}\rightarrow\ {} $`BBA`$ {}\ \rightarrow\ {} $`BA`$ {}\ \rightarrow\ {} $`A` と変化します。

## 样例 #1

### 输入

```
3

2

AB

3

AAA

4

ABAB
```

### 输出

```
B

A

A
```



---

---
title: "[ARC166A] Replace C or Swap AB"
layout: "post"
diff: 普及/提高-
pid: AT_arc166_a
tag: ['贪心', '分类讨论']
---

# [ARC166A] Replace C or Swap AB

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc166/tasks/arc166_a

`A`, `B`, `C` からなる長さ $ N $ の文字列 $ X,\ Y $ が与えられます．

$ X $ に対して次の $ 3 $ 種の操作を（$ 0 $ 回を含め）何回でも行えるとき，$ X $ を $ Y $ と一致させることが可能であるか否かを判定してください．

- **操作 (1)**：$ X $ に含まれる文字 `C` をひとつ選び， `A` で置き換える．
- **操作 (2)**：$ X $ に含まれる文字 `C` をひとつ選び， `B` で置き換える．
- **操作 (3)**：$ X $ に含まれる部分文字列 `AB` をひとつ選び， `BA` で置き換える．より形式的には，$ X $ のうち $ i $ 文字目が `A` であり $ (i+1) $ 文字目が `B` であるような $ i $ を選び，$ X $ の $ i $ 文字目を `B` で，$ (i+1) $ 文字目を `A` で置き換える．
 
$ T $ 個のテストケースが与えられるので，それぞれについて答えを求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられます．

> $ T $ $ \text{case}_1 $ $ \vdots $ $ \text{case}_T $

各テストケースは以下の形式で与えられます．

> $ N $ $ X $ $ Y $

## 输出格式

$ T $ 行出力してください．$ i $ 行目には $ i $ 番目のテストケースについて，$ X $ を $ Y $ と一致させることが可能ならば `Yes`，不可能ならば `No` を出力してください．

## 说明/提示

### 制約

- $ 1\leq\ T\leq\ 2\times\ 10^5 $
- $ 1\leq\ N\leq\ 2\times\ 10^5 $
- $ X,\ Y $ は `A`, `B`, `C` からなる長さ $ N $ の文字列である．
- $ 1 $ つの入力に含まれるテストケースについて，$ N $ の総和は $ 2\times\ 10^5 $ 以下である．
 
### Sample Explanation 1

\- $ 1 $ 番目のテストケースについて： $ 0 $ 回の操作により $ X $ を $ Y $ と一致させることが出来ます． - $ 2 $ 番目のテストケースについて： $ 1 $ 回の操作 (2) により $ X $ を $ Y $ と一致させることが出来ます． - $ 4 $ 番目のテストケースについて： $ 1 $ 回の操作 (3) により $ X $ を $ Y $ と一致させることが出来ます． - $ 6 $ 番目のテストケースについて： 例えば操作 (1), 操作 (3), 操作 (1) をこの順に適切な位置に対して行うと，$ X $ は `CCB` → `CAB` → `CBA` → `ABA` と変化して，$ Y $ と一致します．

## 样例 #1

### 输入

```
6

3 ABC ABC

1 C B

1 B C

2 AB BA

2 BA AB

3 CCB ABA
```

### 输出

```
Yes

Yes

No

Yes

No

Yes
```

## 样例 #2

### 输入

```
7

5 ABABA BABAB

5 ABCBC BBABA

5 CCCCC CBABC

5 BBAAA AAABB

5 AAABB BBAAA

5 ACACB BAACB

5 ACACB BBACA
```

### 输出

```
No

Yes

Yes

No

Yes

Yes

No
```



---

---
title: "[ARC170A] Yet Another AB Problem"
layout: "post"
diff: 普及/提高-
pid: AT_arc170_a
tag: ['贪心', '分类讨论']
---

# [ARC170A] Yet Another AB Problem

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc170/tasks/arc170_a

`A`, `B` からなる長さ $ N $ の文字列 $ S,T $ が与えられます．$ S $ の左から $ i $ 番目の文字を $ S_i $ と表します．

あなたは以下の操作を好きな回数（$ 0 $ 回でもよい）繰り返すことができます．

- $ 1\leq\ i\ <\ j\ \leq\ N $ を満たす整数 $ i,j $ を選ぶ． $ S_i $ を `A` で， $ S_j $ を `B` で置き換える．
 
$ S $ を $ T $ に一致させることが可能か判定し，可能な場合必要な最小の操作回数を求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ S $ $ T $

## 输出格式

$ S $ を $ T $ に一致させることが不可能な場合 `-1` を出力せよ．

一致させることが可能な場合，必要な最小の操作回数を出力せよ．

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ S,T $ は `A`, `B` からなる長さ $ N $ の文字列
- 入力される数値は全て整数
 
### Sample Explanation 1

$ i=1,j=3 $ として操作を行うと $ S $ は `AABBA` に変化します． 次に，$ i=4,j=5 $ として操作を行うと $ S $ は `AABAB` に変化します． よって $ 2 $ 回の操作で $ S $ を $ T $ と一致させることが可能です．また，これが必要な最小の操作回数であることが証明できるので答えは $ 2 $ です．

### Sample Explanation 2

何回操作を行っても $ S $ を $ T $ と一致させることは不可能であることが証明できます．

## 样例 #1

### 输入

```
5

BAABA

AABAB
```

### 输出

```
2
```

## 样例 #2

### 输入

```
2

AB

BA
```

### 输出

```
-1
```



---

---
title: "[ARC182A] Chmax Rush!"
layout: "post"
diff: 普及/提高-
pid: AT_arc182_a
tag: ['分类讨论']
---

# [ARC182A] Chmax Rush!

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc182/tasks/arc182_a

長さ $ N $ の整数列 $ S $ があります。はじめ、$ S $ の要素はすべて $ 0 $ です。

また、長さ $ Q $ の整数列 $ P=(P_1,P_2,\dots,P_Q) $ と $ V=(V_1,V_2,\dots,V_Q) $ が与えられます。

すぬけ君は、数列 $ S $ に $ Q $ 回の操作を順に行いたいです。$ i $ 回目の操作は以下です。

- 以下のどちらかの操作を行う。
  - $ S_1,S_2,\dots,S_{P_i} $ をすべて $ V_i $ に置き換える。ただし、この操作の前に $ S_1,S_2,\dots,S_{P_i} $ の中に $ V_i $ より真に大きい要素がある場合、すぬけ君は泣き出す。
  - $ S_{P_i},S_{P_i+1},\dots,S_N $ をすべて $ V_i $ に置き換える。ただし、この操作の前に $ S_{P_i},S_{P_i+1},\dots,S_N $ の中に $ V_i $ より真に大きい要素がある場合、すぬけ君は泣き出す。

すぬけ君が泣き出さないように $ Q $ 回の操作をすべて行うことのできるような操作列の個数を $ 998244353 $ で割った余りを求めてください。

ただし、$ 2 $ つの操作列が異なるとは、ある $ 1\leq\ i\leq\ Q $ が存在して、$ i $ 番目の操作でどちらの操作を選択したかが異なることを指します。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ Q $ $ P_1 $ $ V_1 $ $ P_2 $ $ V_2 $ $ \vdots $ $ P_Q $ $ V_Q $

## 输出格式

答えを整数として出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 5000 $
- $ 1\ \leq\ Q\ \leq\ 5000 $
- $ 1\ \leq\ P_i\ \leq\ N $
- $ 1\ \leq\ V_i\ \leq\ 10^9 $
- 入力はすべて整数

### Sample Explanation 1

以下のようにするとすぬけ君が泣き出さないように $ 3 $ 回の操作を行うことができます。 - $ S_1 $ を $ 8 $ に置き換える。 - $ S_8 $ を $ 1 $ に置き換える。 - $ S_2,S_3,\dots,S_8 $ を $ 1 $ に置き換える。 これ以外に条件を満たす操作列はないので、$ 1 $ が答えです。例えば、$ 1 $ 回目の操作で $ S_1,S_2,\dots,S_8 $ を $ 8 $ に置き換えると、$ 2 $ 回目の操作でどちらを選んでもすぬけ君が泣き出してしまいます。

### Sample Explanation 2

$ 2 $ 回目までの操作をどのように行っても $ 3 $ 回目の操作ですぬけ君が泣き出してしまいます。

### Sample Explanation 3

$ 998244353 $ で割った余りを求めることを忘れないでください。

## 样例 #1

### 输入

```
8 3
1 8
8 1
2 1
```

### 输出

```
1
```

## 样例 #2

### 输入

```
8 3
8 1
1 8
1 2
```

### 输出

```
0
```

## 样例 #3

### 输入

```
241 82
190 3207371
229 3639088
61 4428925
84 17258698
34 42692503
207 59753183
180 67198566
78 99285033
60 102449991
234 122146510
111 126959145
141 152331579
78 159855439
11 169658471
22 189991287
37 204602946
73 209329065
72 215363269
152 236450854
175 237822921
22 261431608
144 252550201
54 268889550
238 276997357
69 313065279
226 330144323
6 335788783
126 345410019
220 348318997
166 365778763
142 382251905
200 406191336
234 392702679
83 409660987
183 410908761
142 445707116
205 470279207
230 486436406
156 494269002
113 495687706
200 500005738
162 505246499
201 548652987
86 449551554
62 459527873
32 574001635
230 601073337
175 610244315
174 613857555
181 637452273
158 637866397
148 648101378
172 646898076
144 682578257
239 703460335
192 713255331
28 727075136
196 730768166
111 751850547
90 762445737
204 762552166
72 773170159
240 803415865
32 798873367
195 814999380
72 842641864
125 851815348
116 858041919
200 869948671
195 873324903
5 877767414
105 877710280
150 877719360
9 884707717
230 880263190
88 967344715
49 977643789
167 979463984
70 981400941
114 991068035
94 991951735
141 995762200
```

### 输出

```
682155965
```



---


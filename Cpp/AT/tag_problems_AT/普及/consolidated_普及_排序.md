---
title: "[ABC085D] Katana Thrower"
layout: "post"
diff: 普及/提高-
pid: AT_abc085_d
tag: ['模拟', '贪心', '排序']
---

# [ABC085D] Katana Thrower

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc085/tasks/abc085_d

あなたが散歩していると、突然一体の魔物が出現しました。幸い、あなたは $ N $ 本の刀、刀 $ 1 $、刀 $ 2 $、$ … $、刀 $ N $ を持っていて、次の二種類の攻撃を自由な順番で行うことができます。

- 持っている刀のうち一本を振る。刀 $ i $ $ (1\ <\ =\ i\ <\ =\ N) $ を振ると、魔物は $ a_i $ ポイントのダメージを受ける。同じ刀を何度振ることもできる。
- 持っている刀のうち一本を投げつける。刀 $ i $ $ (1\ <\ =\ i\ <\ =\ N) $ を投げつけると、魔物は $ b_i $ ポイントのダメージを受け、あなたはその刀を失う。すなわち、あなたは以後その刀を振ることも投げつけることもできなくなる。

魔物は、受けたダメージの合計が $ H $ ポイント以上になると消滅します。魔物を消滅させるには、最小で合計何回の攻撃が必要でしょうか。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ H $ $ a_1 $ $ b_1 $ $ : $ $ a_N $ $ b_N $

## 输出格式

魔物を消滅させるために必要な最小の合計攻撃回数を出力せよ。

## 说明/提示

### 制約

- $ 1\ <\ =\ N\ <\ =\ 10^5 $
- $ 1\ <\ =\ H\ <\ =\ 10^9 $
- $ 1\ <\ =\ a_i\ <\ =\ b_i\ <\ =\ 10^9 $
- 入力値はすべて整数である。

### Sample Explanation 1

あなたは $ 1 $ 本の刀を持っていて、振ると $ 3 $ ポイントのダメージ、投げつけると $ 5 $ ポイントのダメージを与えられます。刀を $ 2 $ 回振ってから投げつけると $ 3\ +\ 3\ +\ 5\ =\ 11 $ ポイントのダメージを与え、合計 $ 3 $ 回の攻撃で魔物が消滅します。

### Sample Explanation 2

先ほどの刀に加えてもう $ 1 $ 本別の刀もあり、こちらは振ると $ 2 $ ポイントのダメージ、投げつけると $ 6 $ ポイントのダメージを与えられます。両方の刀を投げつけると $ 5\ +\ 6\ =\ 11 $ ポイントのダメージを与え、$ 2 $ 回の攻撃で魔物が消滅します。

## 样例 #1

### 输入

```
1 10

3 5
```

### 输出

```
3
```

## 样例 #2

### 输入

```
2 10

3 5

2 6
```

### 输出

```
2
```

## 样例 #3

### 输入

```
4 1000000000

1 1

1 10000000

1 30000000

1 99999999
```

### 输出

```
860000004
```

## 样例 #4

### 输入

```
5 500

35 44

28 83

46 62

31 79

40 43
```

### 输出

```
9
```



---

---
title: "[ABC315E] Prerequisites"
layout: "post"
diff: 普及/提高-
pid: AT_abc315_e
tag: ['拓扑排序']
---

# [ABC315E] Prerequisites

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc315/tasks/abc315_e

$ 1 $ から $ N $ までの番号がついた $ N $ 冊の本があります。  
 本 $ i $ には $ C_i $ 冊の前提となる本があり、そのうち $ j $ 冊目は本 $ P_{i,j} $ で、本 $ i $ を読む前にこの $ C_i $ 冊をすべて読む必要があります。  
 ただし、適切な順序を選ぶことですべての本を読むことができます。

あなたは本 $ 1 $ を読むために必要な最小の数の本を読もうとしています。  
 本 $ 1 $ 以外に読まなければならない本の番号を読むべき順に出力してください。ただし、この条件下で読むべき本の集合は一意に定まります。  
 条件を満たす読む順番が複数考えられる場合は、そのいずれを出力しても構いません。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ C_1 $ $ P_{1,1} $ $ \ldots $ $ P_{1,C_1} $ $ C_2 $ $ P_{2,1} $ $ \ldots $ $ P_{2,C_2} $ $ \vdots $ $ C_N $ $ P_{N,1} $ $ \ldots $ $ P_{N,C_N} $

## 输出格式

本 $ 1 $ を読むために読む必要のある最小の数の本を読むとき、それらの番号を読むべき順に空白区切りで出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 0\ \leq\ C_i\ <\ N $
- $ \sum_{i=1}^{N}\ C_i\ \leq\ 2\ \times\ 10^5 $
- $ C_1\ \geq\ 1 $
- $ 1\ \leq\ P_{i,j}\ \leq\ N $
- $ 1\ \leq\ j\ <\ k\ \leq\ C_i $ のとき $ P_{i,j}\ \neq\ P_{i,k} $
- すべての本を読むことが可能である
 
### Sample Explanation 1

本 $ 1 $ を読むために本 $ 2,3,4 $、本 $ 2 $ を読むために本 $ 3,5 $、本 $ 4 $ を読むために本 $ 5 $ を読む必要があります。本 $ 3,5,6 $ を読むために他の本を読む必要はありません。 このとき、例えば本 $ 5,3,4,2 $ の順に読むことで本 $ 1 $ を読むことができます。$ 3 $ 冊以下の本を読んだ状態で本 $ 1 $ が読めるようになることはないため、これは答えの一つです。他にも本 $ 3,5,4,2 $ の順などで読むことでも $ 4 $ 冊の本を読んだ状態で本 $ 1 $ を読むことができるようになります。

## 样例 #1

### 输入

```
6

3 2 3 4

2 3 5

0

1 5

0

0
```

### 输出

```
5 3 4 2
```

## 样例 #2

### 输入

```
6

1 2

1 3

1 4

1 5

1 6

0
```

### 输出

```
6 5 4 3 2
```

## 样例 #3

### 输入

```
8

1 5

1 6

1 7

1 8

0

0

0

0
```

### 输出

```
5
```



---

---
title: "[ABC386D] Diagonal Separation"
layout: "post"
diff: 普及/提高-
pid: AT_abc386_d
tag: ['贪心', '排序']
---

# [ABC386D] Diagonal Separation

## 题目描述

有一个 $N \times N$ 的网格，高桥君希望将每个格子涂成黑色或白色，并满足以下条件：

- 对于每一行，存在一个整数 $i$（$0 \leq i \leq N$），该行从左到右的前 $i$ 个格子是黑色，其余的为白色。
- 对于每一列，存在一个整数 $i$（$0 \leq i \leq N$），该列从上到下的前 $i$ 个格子是黑色，其余的为白色。

目前已有 $M$ 个格子被涂上了颜色。具体来说，第 $i$ 个被涂色的格子位于第 $X_i$ 行、第 $Y_i$ 列。如果 $C_i$ 为 `B`，表示该格子已经被涂黑；如果 $C_i` 为 `W`，则表示该格子已经被涂白。

请判断剩下的 $N^2 - M$ 个格子是否可以通过适当选择颜色来满足上述所有条件。

## 输入格式

输入数据从标准输入获取，格式如下：

> $N$ $M$  
> $X_1$ $Y_1$ $C_1$  
> $\cdots$  
> $X_M$ $Y_M$ $C_M$

## 输出格式

如果可以满足条件，请输出 `Yes`；否则，请输出 `No`。

## 说明/提示

- $1 \leq N \leq 10^9$
- $1 \leq M \leq \min(N^2, 2 \times 10^5)$
- $1 \leq X_i, Y_i \leq N$
- 任意两个不同的 $i$，$(X_i, Y_i) \neq (X_j, Y_j)$
- $C_i$ 为 `B` 或 `W`

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
4 3

4 1 B

3 2 W

1 3 B
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
2 2

1 2 W

2 2 B
```

### 输出

```
No
```

## 样例 #3

### 输入

```
1 1

1 1 W
```

### 输出

```
Yes
```

## 样例 #4

### 输入

```
2289 10

1700 1083 W

528 967 B

1789 211 W

518 1708 W

1036 779 B

136 657 B

759 1497 B

902 1309 B

1814 712 B

936 763 B
```

### 输出

```
No
```



---

---
title: "[ARC160A] Reverse and Count"
layout: "post"
diff: 普及/提高-
pid: AT_arc160_a
tag: ['排序']
---

# [ARC160A] Reverse and Count

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc160/tasks/arc160_a

$ (1,\ 2,\ \dots,\ N) $ の順列 $ A\ =\ (A_1,\ A_2,\ \dots,\ A_N) $ が与えられます。  
 $ 1\ \leq\ L\ \leq\ R\ \leq\ N $ を満たす整数の組 $ (L,\ R) $ に対して、$ A $ の $ L $ 番目から $ R $ 番目までの要素を反転してできる順列を $ f(L,\ R) $ とします。  
 ここで、「$ A $ の $ L $ 番目から $ R $ 番目までの要素を反転する」とは、$ A_L,\ A_{L+1},\ \dots,\ A_{R-1},\ A_R $ を $ A_R,\ A_{R-1},\ \dots,\ A_{L+1},\ A_{L} $ に同時に置き換えることを言います。

$ (L,\ R) $ を $ 1\ \leq\ L\ \leq\ R\ \leq\ N $ を満たすように選ぶ方法は $ \frac{N(N\ +\ 1)}{2} $ 通りあります。  
 このような $ (L,\ R) $ の組全てに対して順列 $ f(L,\ R) $ をすべて列挙して辞書順にソートしたときに、先頭から $ K $ 番目にある順列を求めてください。

  数列の辞書順とは？数列 $ S\ =\ (S_1,S_2,\ldots,S_{|S|}) $ が数列 $ T\ =\ (T_1,T_2,\ldots,T_{|T|}) $ より**辞書順で小さい**とは、下記の 1. と 2. のどちらかが成り立つことを言います。 ここで、$ |S|,\ |T| $ はそれぞれ $ S,\ T $ の長さを表します。

1. $ |S|\ \lt\ |T| $ かつ $ (S_1,S_2,\ldots,S_{|S|})\ =\ (T_1,T_2,\ldots,T_{|S|}) $。
2. ある整数 $ 1\ \leq\ i\ \leq\ \min\lbrace\ |S|,\ |T|\ \rbrace $ が存在して、下記の $ 2 $ つがともに成り立つ。 
  - $ (S_1,S_2,\ldots,S_{i-1})\ =\ (T_1,T_2,\ldots,T_{i-1}) $
  - $ S_i $ が $ T_i $ より（数として）小さい。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ K $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

順列 $ f(L,\ R) $ を列挙して辞書順にソートしたときに、先頭から $ K $ 番目にある順列を $ B\ =(B_1,\ B_2,\ \dots,\ B_N) $ とする。  
 このとき以下の形式で $ B $ を出力せよ。

> $ B_1 $ $ B_2 $ $ \dots $ $ B_N $

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 7000 $
- $ 1\ \leq\ K\ \leq\ \frac{N(N\ +\ 1)}{2} $
- $ A $ は $ (1,\ 2,\ \dots,\ N) $ の順列
 
### Sample Explanation 1

$ 1\ \leq\ L\ \leq\ R\ \leq\ N $ を満たす $ (L,\ R) $ の組全てに対して順列 $ f(L,\ R) $ をすべて列挙すると次のようになります。 - $ f(1,\ 1)\ =\ (1,\ 3,\ 2) $ - $ f(1,\ 2)\ =\ (3,\ 1,\ 2) $ - $ f(1,\ 3)\ =\ (2,\ 3,\ 1) $ - $ f(2,\ 2)\ =\ (1,\ 3,\ 2) $ - $ f(2,\ 3)\ =\ (1,\ 2,\ 3) $ - $ f(3,\ 3)\ =\ (1,\ 3,\ 2) $ これらを辞書順にソートしたときに $ 5 $ 番目に来る順列は $ f(1,\ 3)\ =\ (2,\ 3,\ 1) $ です。よってこれを出力します。

### Sample Explanation 2

答えは $ f(1,\ 5) $ です。

## 样例 #1

### 输入

```
3 5

1 3 2
```

### 输出

```
2 3 1
```

## 样例 #2

### 输入

```
5 15

1 2 3 4 5
```

### 输出

```
5 4 3 2 1
```

## 样例 #3

### 输入

```
10 37

9 2 1 3 8 7 10 4 5 6
```

### 输出

```
9 2 1 6 5 4 10 7 8 3
```



---

---
title: "[ARC162B] Insertion Sort 2"
layout: "post"
diff: 普及/提高-
pid: AT_arc162_b
tag: ['排序', '构造']
---

# [ARC162B] Insertion Sort 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc162/tasks/arc162_b

$ (1,2,\ldots,N) $ の順列 $ P=(P_1,P_2,\ldots,P_N) $ が与えられます。

$ P $ に対し以下の操作を $ 2\times\ 10^3 $ 回以下行うことで $ P $ を昇順に並び替えられるか判定し、可能な場合は実際に操作手順を一つ示してください。

- $ 1\leq\ i\ \leq\ N-1,0\ \leq\ j\ \leq\ N-2 $ を満たす整数 $ i,j $ を選ぶ。$ Q\ =\ (Q_1,\ Q_2,\ldots,Q_{N-2}) $ を $ P $ から $ (P_i,P_{i+1}) $ を抜き出して得られる列としたとき、$ P $ を $ (Q_1,\ldots,Q_j,\ P_i,\ P_{i+1},\ Q_{j+1},\ldots,Q_{N-2}) $ で置き換える。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ P_1 $ $ P_2 $ $ \ldots $ $ P_N $

## 输出格式

$ 2\times\ 10^3 $ 回以下の操作で $ P $ を昇順に並び替えられない場合 `No` を出力せよ。昇順に並び替えられる場合、操作回数を $ M\ (0\ \leq\ M\ \leq\ 2\times\ 10^3) $ とし、$ k $ 回目 $ (1\leq\ k\ \leq\ M) $ の操作で選んだ $ i,j $ を $ i_k,j_k $ として以下の形式で出力せよ。

> Yes $ M $ $ i_1 $ $ j_1 $ $ i_2 $ $ j_2 $ $ \vdots $ $ i_M $ $ j_M $

条件を満たす解が複数存在する場合、どれを出力しても正解とみなされる。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 10^3 $
- $ P $ は $ (1,2,\ldots,N) $ の順列
- 入力される数値は全て整数
 
### Sample Explanation 1

$ i=3,j=1 $ として操作を行います。 $ Q=(P_1,P_2,P_5)=(1,4,5) $ になるので、$ P=(Q_1,P_3,P_4,Q_2,Q_3)\ =\ (1,2,3,4,5) $ となります。 よって $ 1 $ 回の操作で $ P $ を昇順に並び替えられます。

### Sample Explanation 2

$ 2\times\ 10^3 $ 回以下の操作では $ P $ を昇順に並び替えられないことが証明できます。

### Sample Explanation 3

操作回数を最小化する必要はありません。

## 样例 #1

### 输入

```
5

1 4 2 3 5
```

### 输出

```
Yes

1

3 1
```

## 样例 #2

### 输入

```
2

2 1
```

### 输出

```
No
```

## 样例 #3

### 输入

```
4

3 4 1 2
```

### 输出

```
Yes

3

3 0

1 2

3 0
```



---

---
title: "[ARC163B] Favorite Game"
layout: "post"
diff: 普及/提高-
pid: AT_arc163_b
tag: ['贪心', '排序']
---

# [ARC163B] Favorite Game

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc163/tasks/arc163_b

長さ $ N $ の整数列 $ A=(A_1,A_2,\dots,A_N) $ が与えられます。あなたは、以下の操作を好きな回数（$ 0 $ 回でもよい）行うことが出来ます。

- $ 1\ \le\ i\ \le\ N $ を満たす整数 $ i $ を $ 1 $ 個選び、$ A_i $ を $ 1 $ 増やすか $ 1 $ 減らす。
 
あなたの目標は、$ A_1\ \le\ A_i\ \le\ A_2 $ を満たす整数 $ i(3\ \le\ i\ \le\ N) $ の個数を $ M $ 個以上にすることです。目標を達成するために必要な最小の操作回数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

必要な操作回数の最小値を出力せよ。

## 说明/提示

### 制約

- $ 3\ \le\ N\ \le\ 2\ \times\ 10^5 $
- $ 1\ \le\ M\ \le\ N-2 $
- $ 1\ \le\ A_i\ \le\ 10^9 $
 
### Sample Explanation 1

以下のように操作を行うことで $ A_1\ \le\ A_i\ \le\ A_2 $ を満たす整数 $ i(3\ \le\ i\ \le\ N) $ の個数を $ 1 $ 個以上に出来ます。 - $ i=3 $ を選び、$ A_i $ を $ 1 $ 減らす。 - $ i=2 $ を選び、$ A_i $ を $ 1 $ 増やす。 $ 1 $ 回以下の操作回数で目標を達成することは出来ないため、答えは $ 2 $ です。

### Sample Explanation 2

始めから目標を達成していることもあります。

## 样例 #1

### 输入

```
3 1

2 3 5
```

### 输出

```
2
```

## 样例 #2

### 输入

```
5 2

1 4 2 3 5
```

### 输出

```
0
```

## 样例 #3

### 输入

```
8 5

15 59 64 96 31 17 88 9
```

### 输出

```
35
```



---

---
title: "転倒数"
layout: "post"
diff: 普及/提高-
pid: AT_chokudai_S001_j
tag: ['树状数组', '排序']
---

# 転倒数

## 题目描述

[problemUrl]: https://atcoder.jp/contests/chokudai_S001/tasks/chokudai_S001_j

数列 $ a $ をバブルソートした時、スワップが何回発生するかを出力しなさい。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 100,000 $

## 样例 #1

### 输入

```
5

3 1 5 4 2
```

### 输出

```
5
```

## 样例 #2

### 输入

```
6

1 2 3 4 5 6
```

### 输出

```
0
```

## 样例 #3

### 输入

```
7

7 6 5 4 3 2 1
```

### 输出

```
21
```

## 样例 #4

### 输入

```
20

19 11 10 7 8 9 17 18 20 4 3 15 16 1 5 14 6 2 13 12
```

### 输出

```
114
```



---

---
title: "単位"
layout: "post"
diff: 普及/提高-
pid: AT_fuka_credit
tag: ['排序']
---

# 単位

## 题目描述

[problemUrl]: https://atcoder.jp/contests/fuka5/tasks/fuka_credit





---

---
title: "マッサージチェア"
layout: "post"
diff: 普及/提高-
pid: AT_kupc2014_a
tag: ['枚举', '排序']
---

# マッサージチェア

## 题目描述

[problemUrl]: https://atcoder.jp/contests/kupc2014/tasks/kupc2014_a





---


---
title: "[ABC146D] Coloring Edges on Tree"
layout: "post"
diff: 普及/提高-
pid: AT_abc146_d
tag: ['构造']
---

# [ABC146D] Coloring Edges on Tree

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc146/tasks/abc146_d

$ N $ 頂点の木 $ G $ が与えられます。 頂点には $ 1 $ から $ N $ までの番号がついており、$ i $ 本目の辺は頂点 $ a_i $ と頂点 $ b_i $ を結んでいます。

$ G $ の辺を何色かで塗り分けることを考えます。 このとき、各頂点について、その頂点を端点に持つ辺の色がすべて相異なるようにしたいです。

上記の条件を満たす塗り分けの中で、使用する色の数が最小であるようなものを $ 1 $ つ構築してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ a_1 $ $ b_1 $ $ a_2 $ $ b_2 $ $ \vdots $ $ a_{N-1} $ $ b_{N-1} $

## 输出格式

出力は $ N $ 行からなる。

$ 1 $ 行目に使用する色の数 $ K $ を出力せよ。

$ i+1 $ 行目 $ (1\ \le\ i\ \le\ N-1) $ に $ i $ 番目の辺の色を表す整数 $ c_i $ を出力せよ。ここで $ 1\ \le\ c_i\ \le\ K $ でなければならない。

問題文中の条件を満たし、使用する色の数が最小であるような塗り分けが複数存在するときは、そのうちのどれを出力しても構わない。

## 说明/提示

### 制約

- $ 2\ \le\ N\ \le\ 10^5 $
- $ 1\ \le\ a_i\ \lt\ b_i\ \le\ N $
- 入力はすべて整数
- 与えられるグラフは木である

## 样例 #1

### 输入

```
3

1 2

2 3
```

### 输出

```
2

1

2
```

## 样例 #2

### 输入

```
8

1 2

2 3

2 4

2 5

4 7

5 6

6 8
```

### 输出

```
4

1

2

3

4

1

1

2
```

## 样例 #3

### 输入

```
6

1 2

1 3

1 4

1 5

1 6
```

### 输出

```
5

1

2

3

4

5
```



---

---
title: "[AGC056A] Three Cells per Row and Column"
layout: "post"
diff: 普及/提高-
pid: AT_agc056_a
tag: ['构造']
---

# [AGC056A] Three Cells per Row and Column

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc056/tasks/agc056_a

$ N $ 行 $ N $ 列からなる盤面があります．

以下の条件をすべて満たすように，すべてのマスを白か黒で塗ってください．

- 各行について，その行のマスのうちちょうど $ 3 $ 個が黒く塗られている．
- 各列について，その列のマスのうちちょうど $ 3 $ 個が黒く塗られている．
- 黒いマスからなる連結成分の個数がちょうど $ N $ 個である． ここで，ある $ 2 $ つの黒いマス $ x,y $ が連結であるとは，$ x $ からスタートし，上下左右の黒いマスに移動することを繰り返し，$ y $ に到達できることを意味する．

なお，問題の制約より，必ず解が存在することが証明できます．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $

## 输出格式

答えを以下の形式で出力せよ．

> $ s_{1,1}s_{1,2}\cdots\ s_{1,N} $ $ s_{2,1}s_{2,2}\cdots\ s_{2,N} $ $ \vdots $ $ s_{N,1}s_{N,2}\cdots\ s_{N,N} $

ここで，$ s_{i,j} $ は，上から $ i $ 行目，左から $ j $ 列目のマスを塗る色を表す文字であり， $ s_{i,j}= $`#` のときはそのマスを黒く，$ s_{i,j}= $`.` のときはそのマスを白く塗ることを意味する． 答えが複数存在する場合，どれを出力しても正解とみなされる．

## 说明/提示

### 制約

- $ 6\ \leq\ N\ \leq\ 500 $
- 入力される値はすべて整数である

### Sample Explanation 1

各行，各列にある `#` の個数はちょうど $ 3 $ です． また，`#` からなる連結成分の個数はちょうど $ 6 $ です．

## 样例 #1

### 输入

```
6
```

### 输出

```
##..#.

##..#.

..##.#

..##.#

##...#

..###.
```



---

---
title: "[AGC058A] Make it Zigzag"
layout: "post"
diff: 普及/提高-
pid: AT_agc058_a
tag: ['贪心', '构造']
---

# [AGC058A] Make it Zigzag

## 题目描述

给定一个排列 $ P=(P_1,P_2,\cdots,P_{2N}) $，其中 $ (1,2,\cdots,2N) $。

你可以进行以下操作 $ 0 $ 到 $ N $ 次：

- 选择一个整数 $ x $ ($ 1\ \leq\ x\ \leq\ 2N-1 $)，交换 $ P_x $ 和 $ P_{x+1} $ 的值。

请找出一系列操作，使得操作后的 $ P $ 满足以下条件：

- 对于每个 $ i=1,3,5,\cdots,2N-1 $，$ P_i\ <\ P_{i+1} $。
- 对于每个 $ i=2,4,6,\cdots,2N-2 $，$ P_i\ >\ P_{i+1} $。

请输出满足条件的一系列操作，以以下形式输出：

> $ K $ $ x_1 $ $ x_2 $ $ \cdots $ $ x_K $

其中，$ K $ 表示操作次数 ($ 0\ \leq\ K\ \leq\ N $)，$ x_i $ ($ 1\ \leq\ x_i\ \leq\ 2N-1 $) 表示第 $ i $ 次操作选择的 $ x $ 的值。如果存在多个满足条件的解，任意输出一个即可。

## 输入格式

从标准输入中按以下格式给出输入：

> $ N $ $ P_1 $ $ P_2 $ $ \cdots $ $ P_{2N} $

## 输出格式

按以下格式输出操作序列：

> $ K $ $ x_1 $ $ x_2 $ $ \cdots $ $ x_K $

## 样例 #1

### 样例输入 #1

```
2
4 3 2 1
```

### 样例输出 #1

```
2
1 3
```

## 样例 #2

### 样例输入 #2

```
1
1 2
```

### 样例输出 #2

```
0
```

## 说明/提示

### 约束条件

- $ 1\ \leq\ N\ \leq\ 10^5 $
- $ (P_1,P_2,\cdots,P_{2N}) $ 是 $ (1,2,\cdots,{2N}) $ 的排列
- 输入的数值均为整数

### 样例解释 1

将 $ P=(4,3,2,1) $ 根据操作后，得到 $ P=(3,4,1,2)$，满足条件。

## 样例 #1

### 输入

```
2

4 3 2 1
```

### 输出

```
2

1 3
```

## 样例 #2

### 输入

```
1

1 2
```

### 输出

```
0
```



---

---
title: "[AGC064A] i i's"
layout: "post"
diff: 普及/提高-
pid: AT_agc064_a
tag: ['数学', '构造']
---

# [AGC064A] i i's

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc064/tasks/agc064_a

正整数 $ N $ が与えられるので、 長さ $ L\ \coloneqq\ N(N+1)/2 $ の整数列 $ A\ =\ (A_1,\ A_2,\ \ldots,\ A_L) $ であって、下記の条件をすべて満たすものを $ 1 $ つ出力してください。

- すべての $ i\ =\ 1,\ 2,\ \ldots,\ N $ について、$ A $ は $ i $ をちょうど $ i $ 個含む。
- すべての $ i\ =\ 1,\ 2,\ \ldots,\ L $ について、$ 1\ \leq\ |A_i\ -\ A_{i+1}|\ \leq\ 2 $ 。ただし、$ A_{L+1} $ は $ A_1 $ を表す。
 
なお、本問題の制約下において、上記の条件をすべて満たす長さ $ L $ の整数列 $ A $ が必ず存在することが証明できます。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $

## 输出格式

$ A $ の各要素を下記の形式にしたがって空白区切りで出力せよ。

> $ A_1 $ $ A_2 $ $ \ldots $ $ A_L $

なお、問題文中の条件を満たす長さ $ L $ の整数列 $ A $ が複数存在する場合は、その中のどれを出力しても正解となる。

## 说明/提示

### 制約

- $ 3\ \leq\ N\ \leq\ 1000 $
- $ N $ は整数
 
### Sample Explanation 1

整数列 $ A\ =\ (1,\ 3,\ 4,\ 2,\ 4,\ 3,\ 4,\ 2,\ 4,\ 3) $ は、ちょうど $ 1 $ 個の $ 1 $ 、ちょうど $ 2 $ 個の $ 2 $ 、ちょうど $ 3 $ 個の $ 3 $ 、ちょうど $ 4 $ 個の $ 4 $ を含むため、$ 1 $ つ目の条件を満たします。 また、下記の通り $ 2 $ つ目の条件も満たします。 - $ |A_1\ -\ A_2|\ =\ |1\ -\ 3|\ =\ 2 $ - $ |A_2\ -\ A_3|\ =\ |3\ -\ 4|\ =\ 1 $ - $ |A_3\ -\ A_4|\ =\ |4\ -\ 2|\ =\ 2 $ - $ |A_4\ -\ A_5|\ =\ |2\ -\ 4|\ =\ 2 $ - $ |A_5\ -\ A_6|\ =\ |4\ -\ 3|\ =\ 1 $ - $ |A_6\ -\ A_7|\ =\ |3\ -\ 4|\ =\ 1 $ - $ |A_7\ -\ A_8|\ =\ |4\ -\ 2|\ =\ 2 $ - $ |A_8\ -\ A_9|\ =\ |2\ -\ 4|\ =\ 2 $ - $ |A_9\ -\ A_{10}|\ =\ |4\ -\ 3|\ =\ 1 $ - $ |A_{10}\ -\ A_1|\ =\ |3\ -\ 1|\ =\ 2 $

## 样例 #1

### 输入

```
4
```

### 输出

```
1 3 4 2 4 3 4 2 4 3
```



---

---
title: "[ARC162B] Insertion Sort 2"
layout: "post"
diff: 普及/提高-
pid: AT_arc162_b
tag: ['排序', '构造']
---

# [ARC162B] Insertion Sort 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc162/tasks/arc162_b

$ (1,2,\ldots,N) $ の順列 $ P=(P_1,P_2,\ldots,P_N) $ が与えられます。

$ P $ に対し以下の操作を $ 2\times\ 10^3 $ 回以下行うことで $ P $ を昇順に並び替えられるか判定し、可能な場合は実際に操作手順を一つ示してください。

- $ 1\leq\ i\ \leq\ N-1,0\ \leq\ j\ \leq\ N-2 $ を満たす整数 $ i,j $ を選ぶ。$ Q\ =\ (Q_1,\ Q_2,\ldots,Q_{N-2}) $ を $ P $ から $ (P_i,P_{i+1}) $ を抜き出して得られる列としたとき、$ P $ を $ (Q_1,\ldots,Q_j,\ P_i,\ P_{i+1},\ Q_{j+1},\ldots,Q_{N-2}) $ で置き換える。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ P_1 $ $ P_2 $ $ \ldots $ $ P_N $

## 输出格式

$ 2\times\ 10^3 $ 回以下の操作で $ P $ を昇順に並び替えられない場合 `No` を出力せよ。昇順に並び替えられる場合、操作回数を $ M\ (0\ \leq\ M\ \leq\ 2\times\ 10^3) $ とし、$ k $ 回目 $ (1\leq\ k\ \leq\ M) $ の操作で選んだ $ i,j $ を $ i_k,j_k $ として以下の形式で出力せよ。

> Yes $ M $ $ i_1 $ $ j_1 $ $ i_2 $ $ j_2 $ $ \vdots $ $ i_M $ $ j_M $

条件を満たす解が複数存在する場合、どれを出力しても正解とみなされる。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 10^3 $
- $ P $ は $ (1,2,\ldots,N) $ の順列
- 入力される数値は全て整数
 
### Sample Explanation 1

$ i=3,j=1 $ として操作を行います。 $ Q=(P_1,P_2,P_5)=(1,4,5) $ になるので、$ P=(Q_1,P_3,P_4,Q_2,Q_3)\ =\ (1,2,3,4,5) $ となります。 よって $ 1 $ 回の操作で $ P $ を昇順に並び替えられます。

### Sample Explanation 2

$ 2\times\ 10^3 $ 回以下の操作では $ P $ を昇順に並び替えられないことが証明できます。

### Sample Explanation 3

操作回数を最小化する必要はありません。

## 样例 #1

### 输入

```
5

1 4 2 3 5
```

### 输出

```
Yes

1

3 1
```

## 样例 #2

### 输入

```
2

2 1
```

### 输出

```
No
```

## 样例 #3

### 输入

```
4

3 4 1 2
```

### 输出

```
Yes

3

3 0

1 2

3 0
```



---

---
title: "[ARC178A] Good Permutation 2"
layout: "post"
diff: 普及/提高-
pid: AT_arc178_a
tag: ['构造']
---

# [ARC178A] Good Permutation 2

## 题目描述

给定一个正整数 $N$ 和一个长度为 $M$ 的正整数序列 $A=(1,2,\cdots,A_M)$。

其中，$A$ 中的所有元素都是介于 $1$ 和 $N$ 之间的不同整数。（即 $A$ 是 $N$ 的一个排列）

定义：
- 排列 $P=(P_1,P_2,\cdots,P_N)$ 是一个**好排列**，当且仅当：$P$ 没有连续子序列是 $A=(1,2,⋯ ,A_i)$ 的排列，其中 $1\le i\le M$。


确定是否存在这样的**好排列**，如果存在，找到**字典序最小**的好排列。

## 输入格式

第一行两个整数 $N,M$。

第二行 $M$ 个整数 $A_{1},A_{2},\cdots,A_{M}$。

## 输出格式

如果不存在好排列，则输出 `-1`。

如果存在，输出**字典序最小**的好排列，每个数之间用空格分隔。

## 样例 #1

### 样例输入 #1

```
4 1
2
```

### 样例输出 #1

```
1 3 2 4
```

## 样例 #2

### 样例输入 #2

```
5 3
4 3 2
```

### 样例输出 #2

```
1 3 4 5 2
```

## 样例 #3

### 样例输入 #3

```
92 4
16 7 1 67
```

### 样例输出 #3

```
-1
```

## 样例 #4

### 样例输入 #4

```
43 2
43 2
```

### 样例输出 #4

```
-1
```

## 说明/提示

- $ 1\leq\ M\leq\ N\leq\ 2\times\ 10^{5} $
- $ 1\leq\ A_{i}\leq\ N $
- $ A $ 中的所有元素都是不同的。
- 所有输入值都是整数。

 
### 样例解释1
例如，$(4,2,1,3)$ 不是一个 好排列，因为它包含 $(2,1)$  作为连续子序列。

其他非好排列包括 $(1,2,3,4)$ 和 $(3,4,2,1)$。

一些好排列包括 $(4,1,3,2)$ 和 $(2,3,4,1)$。其中，字典序最小的排列是 $(1,3,2,4)$。

### 样例解释2
好排列的示例包括 $(3,1,4,5,2)$、$(2,4,5,3,1)$ 和 $(4,1,5,2,3)$。

非好排列的示例包括 $(1,2,5,3,4)$、$(2,3,4,1,5)$ 和$(5,3,1,2,4)$。

### 样例解释3
不存在好排列，输出 `-1`。

## 样例 #1

### 输入

```
4 1

2
```

### 输出

```
1 3 2 4
```

## 样例 #2

### 输入

```
5 3

4 3 2
```

### 输出

```
1 3 4 5 2
```

## 样例 #3

### 输入

```
92 4

16 7 1 67
```

### 输出

```
-1
```

## 样例 #4

### 输入

```
43 2

43 2
```

### 输出

```
-1
```



---

---
title: "[ARC182B] |{floor(A_i/2^k)}|"
layout: "post"
diff: 普及/提高-
pid: AT_arc182_b
tag: ['分治', '构造']
---

# [ARC182B] |{floor(A_i/2^k)}|

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc182/tasks/arc182_b

正整数 $ N,K $ が与えられます。

長さ $ N $ で全ての要素が $ 1 $ 以上 $ 2^K $ 未満である整数列を **良い数列** と呼びます。

良い数列 $ A=(A_1,A_2,\ldots,A_N) $ の **スコア** を以下のように定義します。

- $ 1 $ 以上 $ N $ 以下の整数 $ i $ と $ 0 $ 以上の整数 $ k $ を用いて $ \displaystyle\ \left\lfloor\frac{A_i}{2^k}\ \right\rfloor $ と表すことができる整数の個数。
 
例えば $ A=(3,5) $ に対して $ \displaystyle\ \left\lfloor\frac{A_i}{2^k}\ \right\rfloor $ と表すことができる整数は $ 0,1,2,3,5 $ の $ 5 $ 個なのでスコアは $ 5 $ となります。

良い数列でスコアを最大にするものを一つ求めてください。

$ T $ 個のテストケースが与えられるので、それぞれについて解いてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。ここで、 $ \mathrm{case}_i $ は $ i $ 番目のテストケースを意味する。

> $ T $ $ \mathrm{case}_1 $ $ \mathrm{case}_2 $ $ \vdots $ $ \mathrm{case}_T $

各テストケースは以下の形式で与えられる。

> $ N $ $ K $

## 输出格式

$ T $ 行出力せよ。

$ i $ 行目には $ \mathrm{case}_i $ に対するスコアを最大化する良い数列を一つ出力せよ。

なお、スコアを最大化する良い数列が複数存在する場合は、どれを出力しても正答となる。

## 说明/提示

### 制約

- $ 1\le\ T\le\ 10^5 $
- $ 1\le\ N\le\ 10^5 $
- $ 1\le\ K\le\ 30 $
- 全てのテストケースにおける $ N $ の総和は $ 2\times\ 10^5 $ 以下である
- 入力はすべて整数
 
### Sample Explanation 1

$ 1 $ つ目のテストケースについて考えます。 $ A=(5,6,7) $ とすると、$ \displaystyle\ \left\lfloor\frac{A_i}{2^k}\ \right\rfloor $ という形で表せる整数は $ 0,1,2,3,5,6,7 $ の $ 7 $ 個なので、この良い数列のスコアは $ 7 $ です。 $ A=(7,4,5) $ や $ A=(6,5,4) $ などを出力しても正解となります。

## 样例 #1

### 输入

```
3

3 3

7 2

8 20
```

### 输出

```
5 6 7

2 2 3 3 1 3 3

662933 967505 876482 840117 1035841 651549 543175 781219
```



---

---
title: "[ARC183A] Median of Good Sequences"
layout: "post"
diff: 普及/提高-
pid: AT_arc183_a
tag: ['数学', '贪心', '构造']
---

# [ARC183A] Median of Good Sequences

## 题目描述

给定正整数 $N,K$ ，如果一个长度为 $NK$ 的序列中 $1$ 以上 $N$ 以下的整数分别出现了 $K$ 次，则称这个序列为良好序列，设有 $S$ 个良好序列，则输出按字典序从小到大第  floor $((S+1)/2)$ 个良好序列。其中， floor $(x)$ 表示不超过 $x$ 的最大整数。

## 输入格式

输入来自标准输入，格式如下：

 $N K$

## 输出格式

打印出答案的每一个元素，以空格分隔。

## 说明/提示

#### 约束

 $1≤N≤500$ 

 $1≤K≤500$ 

输入的所有值均为整数

#### 示例解释1

 $6$ 个良好序列如下：
 $(1,1,2,2)$ 
 $(1,2,1,2)$ 
 $(1,2,2,1)$ 
 $(2,1,1,2)$
 $(2,1,2,1)$
 $(2,2,1,1)$ 
 
因此，按字典顺序排列的第 $3$ 个良好序列 $(1,2,2,1)$ 就是答案。

## 样例 #1

### 输入

```
2 2
```

### 输出

```
1 2 2 1
```

## 样例 #2

### 输入

```
1 5
```

### 输出

```
1 1 1 1 1
```

## 样例 #3

### 输入

```
6 1
```

### 输出

```
3 6 5 4 2 1
```

## 样例 #4

### 输入

```
3 3
```

### 输出

```
2 2 2 1 3 3 3 1 1
```



---


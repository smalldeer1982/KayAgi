---
title: "[ABC037C] 総和"
layout: "post"
diff: 普及/提高-
pid: AT_abc037_c
tag: ['模拟', '枚举', '前缀和']
---

# [ABC037C] 総和

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc037/tasks/abc037_c

長さ $ N $ の数列 $ \{a_i\} $ と$ 1 $ 以上 $ N $ 以下の整数 $ K $ が与えられます。 この数列には長さ $ K $ の連続する部分列が $ N-K+1 $ 個あります。これらのそれぞれ部分列に含まれる値の合計の総和を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ K $ $ a_1 $ .. $ a_N $

## 输出格式

部分列に含まれる値の合計 $ N-K+1 $ 個の総和を出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ K\ \leq\ N\ \leq\ 10^5 $
- $ 0\ \leq\ a_i\ \leq\ 10^8 $
- $ a_i $ は整数である。

### 部分点

- 50 点分のテストケースでは、 $ N\ \leq\ 10^3 $ である。

### Sample Explanation 1

$ (1+2+4)+(2+4+8)+(4+8+16)=49 $ なので、答えは $ 49 $ です。

### Sample Explanation 2

オーバーフローに注意してください。

## 样例 #1

### 输入

```
5 3

1 2 4 8 16
```

### 输出

```
49
```

## 样例 #2

### 输入

```
20 10

100000000 100000000 98667799 100000000 100000000 100000000 100000000 99986657 100000000 100000000 100000000 100000000 100000000 98995577 100000000 100000000 99999876 100000000 100000000 99999999
```

### 输出

```
10988865195
```



---

---
title: "[ABC254E] Small d and k"
layout: "post"
diff: 普及/提高-
pid: AT_abc254_e
tag: ['图论', '枚举']
---

# [ABC254E] Small d and k

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc254/tasks/abc254_e

$ N $ 頂点 $ M $ 辺の単純無向グラフがあり、各頂点には $ 1,\ldots,N $ と番号が付けられています。 $ i=1,\ldots,M $ に対し、 $ i $ 番目の辺は頂点 $ a_i $ と頂点 $ b_i $ を結びます。また、**各頂点の次数は $ 3 $ 以下です。**

$ i=1,\ldots,Q $ に対し、次のクエリに答えてください。

- 頂点 $ x_i $ との距離が $ k_i $ 以下であるような頂点の番号の総和を求めよ。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ a_1 $ $ b_1 $ $ \vdots $ $ a_M $ $ b_M $ $ Q $ $ x_1 $ $ k_1 $ $ \vdots $ $ x_Q $ $ k_Q $

## 输出格式

$ Q $ 行出力せよ。 $ i $ 行目には $ i $ 番目のクエリへの答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 1.5\ \times\ 10^5 $
- $ 0\ \leq\ M\ \leq\ \min\ (\frac{N(N-1)}{2},\frac{3N}{2}) $
- $ 1\ \leq\ a_i\ \lt\ b_i\ \leq\ N $
- $ i\neq\ j $ ならば $ (a_i,b_i)\ \neq\ (a_j,b_j) $
- 与えられるグラフの各頂点の次数は $ 3 $ 以下
- $ 1\ \leq\ Q\ \leq\ 1.5\ \times\ 10^5 $
- $ 1\ \leq\ x_i\ \leq\ N $
- $ 0\ \leq\ k_i\ \leq\ 3 $
- 入力はすべて整数

### Sample Explanation 1

$ 1 $ 番目のクエリでは、頂点 $ 1 $ との距離が $ 1 $ 以下であるような頂点は頂点 $ 1 $ のみなので $ 1 $ が答えです。 $ 2 $ 番目のクエリでは、頂点 $ 2 $ との距離が $ 2 $ 以下であるような頂点は頂点 $ 2,3,4,5,6 $ なのでこれらの総和の $ 20 $ が答えになります。 $ 3 $ 番目以降のクエリも同様にして答えを求められます。

## 样例 #1

### 输入

```
6 5
2 3
3 4
3 5
5 6
2 6
7
1 1
2 2
2 0
2 3
4 1
6 0
4 3
```

### 输出

```
1
20
2
20
7
6
20
```



---

---
title: "[ABC308E] MEX"
layout: "post"
diff: 普及/提高-
pid: AT_abc308_e
tag: ['枚举', '前缀和']
---

# [ABC308E] MEX

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc308/tasks/abc308_e

$ 0,1,2 $ からなる長さ $ N $ の数列 $ A=(A_1,A_2,\dots,A_N) $ と、 `M`, `E`, `X` からなる長さ $ N $ の文字列 $ S=S_1S_2\dots\ S_N $ が与えられます。

$ 1\ \leq\ i\ <\ j\ <\ k\ \leq\ N $ かつ $ S_iS_jS_k= $ `MEX` を満たす全ての整数の組 $ (i,j,k) $ に対する $ \text{mex}(A_i,A_j,A_k) $ の総和を求めてください。 ここで、$ \text{mex}(A_i,A_j,A_k) $ は $ A_i,A_j,A_k $ のいずれとも一致しない最小の非負整数を意味します。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $ $ S $

## 输出格式

答えを整数として出力せよ。

## 说明/提示

### 制約

- $ 3\leq\ N\ \leq\ 2\times\ 10^5 $
- $ N $ は整数
- $ A_i\ \in\ \lbrace\ 0,1,2\rbrace $
- $ S $ は `M`, `E`, `X` からなる長さ $ N $ の文字列
 
### Sample Explanation 1

$ S_iS_jS_k $ = `MEX` となる $ i,j,k\ (1\ \leq\ i\ <\ j\ <\ k\ \leq\ N) $ の組は $ (i,j,k)=(1,2,4),(1,3,4) $ の $ 2 $ つです。 $ \text{mex}(A_1,A_2,A_4)=\text{mex}(1,1,2)=0,\text{mex}(A_1,A_3,A_4)=\text{mex}(1,0,2)=3 $ より答えは $ 0+3=3 $ です。

## 样例 #1

### 输入

```
4

1 1 0 2

MEEX
```

### 输出

```
3
```

## 样例 #2

### 输入

```
3

0 0 0

XXX
```

### 输出

```
0
```

## 样例 #3

### 输入

```
15

1 1 2 0 0 2 0 2 0 0 0 0 0 2 2

EXMMXXXEMEXEXMM
```

### 输出

```
13
```



---

---
title: "[ABC312C] Invisible Hand"
layout: "post"
diff: 普及/提高-
pid: AT_abc312_c
tag: ['贪心', '枚举']
---

# [ABC312C] Invisible Hand

## 题目描述

**题意简述**

在苹果市场中，有 $N$ 个卖家和 $M$ 个买家。第 $i$ 个卖家愿意出售的最低价格为 $A_i$ 日元，第 $j$ 个买家愿意购买的最高价格为 $B_i$ 日元。

请求出一个最低价格 $x$，使愿意以 $x$ 日元出售的卖家数量大于等于愿意以 $x$ 元购买的买家。

## 输入格式

第一行有两个整数 $N,M$。

第二行有 $N$ 个整数，第 $i$ 个为 $A_i$。

第三行有 $M$ 个整数，第 $i$ 个为 $B_i$。

## 输出格式

一行一个整数，为最低价格 $x$。

## 说明/提示

- $1 \le N,M \le 2 \times 10^5$
- $1 \le A_i,B_i \le 10^9$

## 样例 #1

### 输入

```
3 4

110 90 120

100 80 120 10000
```

### 输出

```
110
```

## 样例 #2

### 输入

```
5 2

100000 100000 100000 100000 100000

100 200
```

### 输出

```
201
```

## 样例 #3

### 输入

```
3 2

100 100 100

80 120
```

### 输出

```
100
```



---

---
title: "[ABC318E] Sandwiches"
layout: "post"
diff: 普及/提高-
pid: AT_abc318_e
tag: ['枚举']
---

# [ABC318E] Sandwiches

## 题目描述

**题意简述**

给定一个长度为 $N$ 的序列 $A$。求满足以下条件的三元组 $(i,j,k)$ 的个数。

- $1 \le i < j < k \le N$
- $A_i = A_k$
- $A_i \ne A_j$

## 输入格式

第一行有一个整数 $N$。

第二行有 $N$ 个整数，第 $i$ 个为 $A_i$。

## 输出格式

$1$ 个整数，如题意。

## 说明/提示

- $3 \le N \le 3 \times 10^5$
- $1 \le A_i \le N$

**样例一解释**

有 $3$ 个，分别为 $(1,2,1),(2,1,2),(2,3,2)$。

## 样例 #1

### 输入

```
5

1 2 1 3 2
```

### 输出

```
3
```

## 样例 #2

### 输入

```
7

1 2 3 4 5 6 7
```

### 输出

```
0
```

## 样例 #3

### 输入

```
13

9 7 11 7 3 8 1 13 11 11 11 6 13
```

### 输出

```
20
```



---

---
title: "[ABC323D] Merge Slimes"
layout: "post"
diff: 普及/提高-
pid: AT_abc323_d
tag: ['贪心', '枚举']
---

# [ABC323D] Merge Slimes

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc323/tasks/abc323_d

最初、$ N $ 種類のサイズのスライムがいます。  
具体的には、$ 1\leq\ i\leq\ N $ について、サイズ $ S_i $ のスライムが $ C_i $ 匹います。

高橋君はスライムの合成を好きな順番で好きなだけ($ 0 $ 回でも良い)繰り返すことができます。  
スライムの合成では、次のことを行います。

- **同じ** サイズの $ 2 $ 匹のスライムを選ぶ。選ばれたスライムのサイズが $ X $ であったとき、新しくサイズ $ 2X $ のスライムが出現する。合成後、選ばれた元のスライムは $ 2 $ 匹とも消滅する。

高橋君はスライムの匹数を最小にしたいと考えています。 高橋君がうまく合成を繰り返した時、最小で何匹にすることができるでしょうか?

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ S_1 $ $ C_1 $ $ S_2 $ $ C_2 $ $ \vdots $ $ S_N $ $ C_N $

## 输出格式

高橋君が合成を繰り返した後のスライムの匹数としてあり得る最小の数を出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 10^5 $
- $ 1\leq\ S_i\leq\ 10^9 $
- $ 1\leq\ C_i\leq\ 10^9 $
- $ S_1,S_2,\ldots,S_N $ はすべて異なる。
- 入力はすべて整数

### Sample Explanation 1

最初、サイズ $ 3 $ のスライムが $ 3 $ 匹、サイズ $ 5 $ のスライムが $ 1 $ 匹、サイズ $ 6 $ のスライムが $ 1 $ 匹います。 高橋君は次のように合成を $ 2 $ 回行うことができます。 - まず、サイズ $ 3 $ のスライム $ 2 $ 匹を選んで合成を行います。サイズ $ 3 $ のスライムが $ 1 $ 匹、サイズ $ 5 $ のスライムが $ 1 $ 匹、サイズ $ 6 $ のスライムが $ 2 $ 匹となります。 - 次に、サイズ $ 6 $ のスライム $ 2 $ 匹を選んで合成を行います。サイズ $ 3 $ のスライムが $ 1 $ 匹、サイズ $ 5 $ のスライムが $ 1 $ 匹、サイズ $ 12 $ のスライムが $ 1 $ 匹となります。 高橋君は最初の状態からどのように合成を繰り返してもスライムを $ 2 $ 匹以下にすることはできないため、$ 3 $ を出力します。

### Sample Explanation 2

高橋君は合成を行うことができません。

## 样例 #1

### 输入

```
3
3 3
5 1
6 1
```

### 输出

```
3
```

## 样例 #2

### 输入

```
3
1 1
2 1
3 1
```

### 输出

```
3
```

## 样例 #3

### 输入

```
1
1000000000 1000000000
```

### 输出

```
13
```



---

---
title: "[ABC325E] Our clients, please wait a moment"
layout: "post"
diff: 普及/提高-
pid: AT_abc325_e
tag: ['枚举', '最短路']
---

# [ABC325E] Our clients, please wait a moment

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc325/tasks/abc325_e

ある国には都市が $ N $ 個あります。  
あなたは、都市 $ 1 $ にある営業所から $ 0 $ 個以上の都市を経由して都市 $ N $ にある訪問先へ移動しようとしています。  
移動手段は社用車と電車の $ 2 $ 種類があります。都市 $ i $ から都市 $ j $ へ移動するときの所要時間は以下の通りです。

- 社用車を使った場合 : $ D_{i,j}\ \times\ A $ 分
- 電車を使った場合 : $ D_{i,j}\ \times\ B\ +\ C $ 分

ただし、社用車から電車に乗り換えることはできますが、電車から社用車に乗り換えることはできません。  
また、乗り換えは各都市のみで行え、乗り換えに時間はかかりません。

都市 $ 1 $ から都市 $ N $ に移動するのにかかる時間は最短で何分ですか？

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A $ $ B $ $ C $ $ D_{1,1} $ $ D_{1,2} $ $ \ldots $ $ D_{1,N} $ $ D_{2,1} $ $ D_{2,2} $ $ \ldots $ $ D_{2,N} $ $ \vdots $ $ D_{N,1} $ $ D_{N,2} $ $ \ldots $ $ D_{N,N} $

## 输出格式

答えを整数として出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 1000 $
- $ 1\ \leq\ A,\ B,\ C\ \leq\ 10^6 $
- $ D_{i,j}\ \leq\ 10^6 $
- $ D_{i,i}\ =\ 0 $
- $ D_{i,j}\ =\ D_{j,i}\ >\ 0 $ $ (i\ \neq\ j) $
- 入力される数値はすべて整数

### Sample Explanation 1

以下のように移動することで合計 $ 78 $ 分で都市 $ 1 $ から都市 $ 4 $ に移動することができます。 - 都市 $ 1 $ から都市 $ 3 $ まで社用車で移動する。この移動には $ 2\ \times\ 8\ =\ 16 $ 分かかる。 - 都市 $ 3 $ から都市 $ 2 $ まで社用車で移動する。この移動には $ 3\ \times\ 8\ =\ 24 $ 分かかる。 - 都市 $ 2 $ から都市 $ 4 $ まで電車で移動する。この移動には $ 5\ \times\ 5\ +\ 13\ =\ 38 $ 分かかる。 $ 78 $ 分未満の時間で都市 $ 1 $ から都市 $ 4 $ に移動することはできません。

## 样例 #1

### 输入

```
4 8 5 13
0 6 2 15
6 0 3 5
2 3 0 13
15 5 13 0
```

### 输出

```
78
```

## 样例 #2

### 输入

```
3 1 1000000 1000000
0 10 1
10 0 10
1 10 0
```

### 输出

```
1
```

## 样例 #3

### 输入

```
5 954257 954213 814214
0 84251 214529 10017 373342
84251 0 91926 32336 164457
214529 91926 0 108914 57762
10017 32336 108914 0 234705
373342 164457 57762 234705 0
```

### 输出

```
168604826785
```



---

---
title: "[ABC334C] Socks 2"
layout: "post"
diff: 普及/提高-
pid: AT_abc334_c
tag: ['贪心', '枚举']
---

# [ABC334C] Socks 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc334/tasks/abc334_c

高橋君は $ N $ 組の靴下を持っており、$ i $ 番目の組は色 $ i $ の靴下 $ 2 $ 枚からなります。 ある日タンスの中を整理した高橋君は、色 $ A_1,A_2,\dots,A_K $ の靴下を $ 1 $ 枚ずつなくしてしまったことに気づいたので、残っている $ 2N-K $ 枚の靴下を使って、靴下 $ 2 $ 枚ずつからなる $ \lfloor\frac{2N-K}{2}\rfloor $ 個の組を新たに作り直すことにしました。 色 $ i $ の靴下と色 $ j $ の靴下からなる組の**奇妙さ**は $ |i-j| $ として定義され、高橋君は奇妙さの総和をできるだけ小さくしたいです。

残っている靴下をうまく組み合わせて $ \lfloor\frac{2N-K}{2}\rfloor $ 個の組を作ったとき、奇妙さの総和が最小でいくつになるか求めてください。 なお、$ 2N-K $ が奇数のとき、どの組にも含まれない靴下が $ 1 $ 枚存在することに注意してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ K $ $ A_1 $ $ A_2 $ $ \dots $ $ A_K $

## 输出格式

奇妙さの総和の最小値を整数として出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ K\leq\ N\ \leq\ 2\times\ 10^5 $
- $ 1\leq\ A_1\ <\ A_2\ <\ \dots\ <\ A_K\ \leq\ N $
- 入力は全て整数

### Sample Explanation 1

以下、色 $ i $ の靴下と色 $ j $ の靴下からなる組を $ (i,j) $ と表記します。 色 $ 1,2,3,4 $ の靴下がそれぞれ $ 1,2,1,2 $ 枚ずつあります。 $ (1,2),(2,3),(4,4) $ の $ 3 $ 組を作ると、奇妙さの総和は $ |1-2|+|2-3|+|4-4|=2 $ となり、これが最小です。

### Sample Explanation 2

$ (1,1),(3,3),(4,4),(5,5) $ の $ 4 $ 組を作り、色 $ 2 $ の靴下を $ 1 $ 枚余らせる（どの組にも入れない）のが最適です。

## 样例 #1

### 输入

```
4 2
1 3
```

### 输出

```
2
```

## 样例 #2

### 输入

```
5 1
2
```

### 输出

```
0
```

## 样例 #3

### 输入

```
8 5
1 2 4 7 8
```

### 输出

```
2
```



---

---
title: "[ABC334E] Christmas Color Grid 1"
layout: "post"
diff: 普及/提高-
pid: AT_abc334_e
tag: ['枚举', '广度优先搜索 BFS']
---

# [ABC334E] Christmas Color Grid 1

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc334/tasks/abc334_e

**この問題は問題 G と似た設定です。問題文の相違点を赤字で示します。**

$ H $ 行 $ W $ 列のグリッドがあり、グリッドの各マスは赤色あるいは緑色に塗られています。

グリッドの上から $ i $ 行目、左から $ j $ 列目のマスをマス $ (i,j) $ と表記します。

マス $ (i,j) $ の色は文字 $ S_{i,j} $ で表され、$ S_{i,j}\ = $ `.` のときマス $ (i,j) $ は赤色、$ S_{i,j}\ = $ `#` のときマス $ (i,j) $ は緑色に塗られています。

グリッドにおいて、緑色に塗られたマスを頂点集合、隣り合った $ 2 $ つの緑色のマスを結ぶ辺全体を辺集合としたグラフにおける連結成分の個数を **緑の連結成分数** と呼びます。ただし、$ 2 $ つのマス $ (x,y) $ と $ (x',y') $ が隣り合っているとは、$ |x-x'|\ +\ |y-y'|\ =\ 1 $ であることを指します。

**赤色**に塗られたマスを一様ランダムに $ 1 $ つ選び、**緑色**に塗り替えたとき、塗り替え後のグリッドの緑の連結成分数の期待値を $ \text{mod\ }\ 998244353 $ で出力してください。

  「期待値を $ \text{mod\ }\ 998244353 $ で出力」とは 求める期待値は必ず有理数となることが証明できます。 またこの問題の制約下では、その値を互いに素な $ 2 $ つの整数 $ P $, $ Q $ を用いて $ \frac{P}{Q} $ と表したとき、 $ R\ \times\ Q\ \equiv\ P\pmod{998244353} $ かつ $ 0\ \leq\ R\ \lt\ 998244353 $ を満たす整数 $ R $ がただ $ 1 $ つ存在することが証明できます。この $ R $ を出力してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ H $ $ W $ $ S_{1,1} $$ S_{1,2} $$ \ldots $$ S_{1,W} $ $ S_{2,1} $$ S_{2,2} $$ \ldots $$ S_{2,W} $ $ \vdots $ $ S_{H,1} $$ S_{H,2} $$ \ldots $$ S_{H,W} $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ H,W\ \leq\ 1000 $
- $ S_{i,j}\ = $ `.` または $ S_{i,j}\ = $ `#`
- $ S_{i,j}\ = $ `.` なる $ (i,j) $ が存在する。
 
### Sample Explanation 1

マス $ (1,3) $ を緑色に塗り替えたとき、緑の連結成分数は $ 1 $ となります。 マス $ (2,2) $ を緑色に塗り替えたとき、緑の連結成分数は $ 1 $ となります。 マス $ (3,2) $ を緑色に塗り替えたとき、緑の連結成分数は $ 2 $ となります。 マス $ (3,3) $ を緑色に塗り替えたとき、緑の連結成分数は $ 2 $ となります。 よって、赤色に塗られたマスを一様ランダムに $ 1 $ つ選び、緑色に塗り替えた後の緑の連結成分数の期待値は $ (1+1+2+2)/4\ =\ 3/2 $ となります。

## 样例 #1

### 输入

```
3 3

##.

#.#

#..
```

### 输出

```
499122178
```

## 样例 #2

### 输入

```
4 5

..#..

.###.

#####

..#..
```

### 输出

```
598946613
```

## 样例 #3

### 输入

```
3 4

#...

.#.#

..##
```

### 输出

```
285212675
```



---

---
title: "[ABC356E] Max/Min"
layout: "post"
diff: 普及/提高-
pid: AT_abc356_e
tag: ['数学', '枚举']
---

# [ABC356E] Max/Min

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc356/tasks/abc356_e

長さ $ N $ の数列 $ A=(A_1,\ldots,A_N) $ が与えられます。

$ \displaystyle\ \sum_{i=1}^{N-1}\sum_{j=i+1}^{N}\left\lfloor\frac{\max(A_i,A_j)}{\min(A_i,A_j)}\right\rfloor $ を求めてください。

ただし、$ \lfloor\ x\ \rfloor $ は $ x $ 以下の最大の整数を表します。例えば、$ \lfloor\ 3.14\ \rfloor=3 $、$ \lfloor\ 2\ \rfloor=2 $ です。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ \ldots $ $ A_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 2\times\ 10^5 $
- $ 1\ \leq\ A_i\ \leq\ 10^6 $
- 入力は全て整数である
 
### Sample Explanation 1

求める値は $ \left\lfloor\frac{\max(3,1)}{\min(3,1)}\right\rfloor\ +\ \left\lfloor\frac{\max(3,4)}{\min(3,4)}\right\rfloor\ +\ \left\lfloor\frac{\max(1,4)}{\min(1,4)}\right\rfloor\\ =\left\lfloor\frac{3}{1}\right\rfloor\ +\ \left\lfloor\frac{4}{3}\right\rfloor\ +\ \left\lfloor\frac{4}{1}\right\rfloor\\ =3+1+4\\ =8 $ となります。

## 样例 #1

### 输入

```
3

3 1 4
```

### 输出

```
8
```

## 样例 #2

### 输入

```
6

2 7 1 8 2 8
```

### 输出

```
53
```

## 样例 #3

### 输入

```
12

3 31 314 3141 31415 314159 2 27 271 2718 27182 271828
```

### 输出

```
592622
```



---

---
title: "[ABC363D] Palindromic Number"
layout: "post"
diff: 普及/提高-
pid: AT_abc363_d
tag: ['枚举']
---

# [ABC363D] Palindromic Number

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc363/tasks/abc363_d

非負整数 $ X $ を $ 10 $ 進表記(先行ゼロ無し)で表した文字列が回文である時、$ X $ を回文数と呼びます。  
 例えば $ 363,\ 12344321,\ 0 $ はいずれも回文数です。

小さい方から $ N $ 番目の回文数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $

## 输出格式

小さい方から $ N $ 番目の回文数を出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 10^{18} $
- $ N $ は整数
 
### Sample Explanation 1

小さい方から $ 46 $ 番目の回文数は $ 363 $ です。

## 样例 #1

### 输入

```
46
```

### 输出

```
363
```

## 样例 #2

### 输入

```
1
```

### 输出

```
0
```

## 样例 #3

### 输入

```
1000000000000000000
```

### 输出

```
90000000000000000000000000000000009
```



---

---
title: "[ABC397D] Cubes"
layout: "post"
diff: 普及/提高-
pid: AT_abc397_d
tag: ['数学', '枚举']
---

# [ABC397D] Cubes

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc397/tasks/abc397_d

给定一个正整数 $N$。请判断是否存在满足 $x^3 - y^3 = N$ 的正整数对 $(x, y)$。若存在，请输出其中一个这样的 $(x, y)$。

## 输入格式

输入通过标准输入给出，格式如下：

> $N$

## 输出格式

若不存在满足 $x^3 - y^3 = N$ 的正整数对 $(x, y)$，则输出 `-1`。若存在，请按顺序输出 $x$ 和 $y$，用空格分隔。若有多个答案，输出任意一个即可。

## 说明/提示

### 约束条件

- $1 \leq N \leq 10^{18}$
- 输入均为整数

### 样例解释 1

因为 $12^3 - 11^3 = 397$，所以 $(x, y) = (12, 11)$ 是正确答案之一。

### 样例解释 2

不存在满足 $x^3 - y^3 = 1$ 的正整数对 $(x, y)$，因此输出 `-1`。

翻译由 DeepSeek R1 完成

## 样例 #1

### 输入

```
397
```

### 输出

```
12 11
```

## 样例 #2

### 输入

```
1
```

### 输出

```
-1
```

## 样例 #3

### 输入

```
39977273855577088
```

### 输出

```
342756 66212
```



---

---
title: "[ABC400C] 2^a b^2"
layout: "post"
diff: 普及/提高-
pid: AT_abc400_c
tag: ['数学', '枚举']
---

# [ABC400C] 2^a b^2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc400/tasks/abc400_c

当且仅当满足以下条件时，正整数 $X$ 被称为好整数：

- 存在正整数对 $(a, b)$，使得 $X = 2^a \times b^2$。

例如，$400$ 可以表示为 $400 = 2^2 \times 10^2$，因此它是一个好整数。

给定正整数 $N$，请计算 $1$ 以上 $N$ 以下（含）的好整数的个数。

## 输入格式

输入通过标准输入给出，格式如下：

> $N$

## 输出格式

输出 $1$ 以上 $N$ 以下（含）的好整数的个数。


## 说明/提示

### 约束条件

- $1 \leq N \leq 10^{18}$
- $N$ 为整数

### 样例解释 1

$1$ 以上 $20$ 以下的好整数有 $2, 4, 8, 16, 18$ 共 $5$ 个，因此输出 $5$。

### 样例解释 3

请注意输入可能超出 $32$ 位整数类型的表示范围。

翻译由 DeepSeek R1 完成

## 样例 #1

### 输入

```
20
```

### 输出

```
5
```

## 样例 #2

### 输入

```
400
```

### 输出

```
24
```

## 样例 #3

### 输入

```
1234567890
```

### 输出

```
42413
```



---

---
title: "[ARC149A] Repdigit Number"
layout: "post"
diff: 普及/提高-
pid: AT_arc149_a
tag: ['数学', '枚举']
---

# [ARC149A] Repdigit Number

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc149/tasks/arc149_a

正整数 $ N,\ M $ が与えられます．次の条件をすべて満たす正整数 $ X $ のうち，最大であるものを答えてください．

- $ X $ は $ 10^N $ 未満の正整数で，$ X $ を $ 10 $ 進法表記したときのどの桁の数字も同じである．
- $ X $ は $ M $ の倍数である．

ただし，条件を満たす正整数 $ X $ が存在しない場合には `-1` と出力してください．

## 输入格式

入力は以下の形式で標準入力から与えられます．

> $ N $ $ M $

## 输出格式

条件をすべて満たす正整数 $ X $ のうち最大であるものを出力してください．ただし，そのような正整数 $ X $ が存在しない場合には `-1` と出力してください．

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 10^5 $
- $ 1\leq\ M\leq\ 10^9 $

### Sample Explanation 1

条件を満たす正整数 $ X $ は，$ 444,\ 888,\ 444444,\ 888888 $ の $ 4 $ つです．このうち最大のものである $ 888888 $ が答となります．

### Sample Explanation 2

条件を満たす正整数 $ X $ は，$ 444,\ 888,\ 444444,\ 888888,\ 444444444,\ 888888888 $ の $ 6 $ つです．

### Sample Explanation 3

条件を満たす正整数 $ X $ は，$ 3,\ 6,\ 9 $ の $ 3 $ つです．

### Sample Explanation 4

条件を満たす正整数 $ X $ は存在しません．

## 样例 #1

### 输入

```
7 12
```

### 输出

```
888888
```

## 样例 #2

### 输入

```
9 12
```

### 输出

```
888888888
```

## 样例 #3

### 输入

```
1 3
```

### 输出

```
9
```

## 样例 #4

### 输入

```
1000 25
```

### 输出

```
-1
```

## 样例 #5

### 输入

```
30 1
```

### 输出

```
999999999999999999999999999999
```



---

---
title: "[ARC170B] Arithmetic Progression Subsequence"
layout: "post"
diff: 普及/提高-
pid: AT_arc170_b
tag: ['枚举']
---

# [ARC170B] Arithmetic Progression Subsequence

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc170/tasks/arc170_b

$ 1 $ 以上 $ \textbf{10} $ 以下の整数からなる長さ $ N $ の数列 $ A $ が与えられます．

$ 1\leq\ l\ \leq\ r\leq\ N $ を満たす整数組 $ (l,r) $ であって，以下の条件を満たすものを良い組と呼びます．

- 数列 $ (A_l,A_{l+1},\ldots,A_r) $ は長さ $ 3 $ の等差数列を（連続とは限らない）部分列として含む．より厳密には，$ l\ \leq\ i\ <\ j\ <\ k\leq\ r $ を満たす整数組 $ (i,j,k) $ であって， $ A_j\ -\ A_i\ =\ A_k\ -\ A_j $ なるものが存在する．
 
良い組の個数を求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ A_1 $ $ \ldots $ $ A_N $

## 输出格式

答えを出力せよ．

## 说明/提示

### 制約

- $ 3\ \leq\ N\ \leq\ 10^5 $
- $ 1\leq\ A_i\ \leq\ 10 $
- 入力される数値は全て整数
 
### Sample Explanation 1

良い組は $ (l,r)=(1,4),(1,5),(2,5) $ の $ 3 $ つです． 例えば，数列 $ (A_1,A_2,A_3,A_4) $ は $ (5,3,1) $ という長さ $ 3 $ の等差数列を部分列として含むので $ (1,4) $ は良い組です．

### Sample Explanation 2

良い組が存在しない場合もあります．

## 样例 #1

### 输入

```
5

5 3 4 1 5
```

### 输出

```
3
```

## 样例 #2

### 输入

```
3

1 2 1
```

### 输出

```
0
```

## 样例 #3

### 输入

```
9

10 10 1 3 3 7 2 2 5
```

### 输出

```
3
```



---

---
title: "haruki の覚醒め"
layout: "post"
diff: 普及/提高-
pid: AT_code_festival_relay_g
tag: ['动态规划 DP', '枚举', '背包 DP']
---

# haruki の覚醒め

## 题目描述

[problemUrl]: https://atcoder.jp/contests/code-festival-2014-relay/tasks/code_festival_relay_g

haruki さんは朝に弱いことで有名です。haruki さんの家には目覚まし時計が $ n $ 個あり、$ i $ 番目の目覚まし時計の音量は $ a_i $ です。

   
haruki さんは鳴っている目覚まし時計の音量の合計が $ m $ 以上にならない限り、目を覚ますことはありません。しかしながら、必要以上に目覚まし時計をセットすると、うるさくて近所迷惑になってしまいます。

   
そこで、合計の音量が $ m $ 以上でかつ最小となるように目覚まし時計を選んだとき、その合計の音量を求めてください。

## 输入格式

入力は以下の形式で与えられる。

> $ n $ $ m $ $ a_1 $ $ a_2 $ $ ... $ $ a_n $

- $ 1 $ 行目には、目覚まし時計の数を表す整数 $ n $ ($ 1\ \leq\ n\ \leq\ 50 $) と、目を覚ます最小の音量を表す整数 $ m $ ($ 1\ \leq\ m\ \leq\ 10{,}000 $) が与えられる。
- 続く $ n $ 行には、それぞれの目覚まし時計の音量を表す整数 $ a_i $ ($ 1\ \leq\ a_i\ \leq\ 10{,}000 $) が与えられる。

## 输出格式

合計の音量が $ m $ 以上でかつ最小となるときの合計の音量を $ 1 $ 行で出力せよ。

また、合計の音量が $ m $ に達しない場合は、`-1` を $ 1 $ 行で出力せよ。

最後は改行し、余計な文字、空行を含まないこと。

## 样例 #1

### 输入

```
3 30

25

10

23
```

### 输出

```
33
```

## 样例 #2

### 输入

```
4 101

10

20

30

40
```

### 输出

```
-1
```



---

---
title: "JJOOII 2 (JJOOII 2)"
layout: "post"
diff: 普及/提高-
pid: AT_joi2020ho_b
tag: ['二分', '枚举', '前缀和']
---

# JJOOII 2 (JJOOII 2)

## 题目描述

[problemUrl]: https://atcoder.jp/contests/joi2020ho/tasks/joi2020ho_b

ビ太郎は友人のビバ子から誕生日プレゼントに `J`，`O`，`I` の $ 3 $ 種類の文字からなる長さ $ N $ の文字列 $ S $ をもらった．

$ K $ を $ 1 $ 以上の整数とする．$ K $ 個の文字 `J`，$ K $ 個の文字 `O`，$ K $ 個の文字 `I` をこの順に並べた文字列を**レベル $ K $ の JOI 文字列**と呼ぶことにする．例えば，`JJOOII` はレベル $ 2 $ の JOI 文字列である．

ビ太郎はレベル $ K $ の JOI 文字列が好きなので，以下の $ 3 $ 種類の操作を任意の回数，任意の順番で行うことで，文字列 $ S $ をレベル $ K $ の JOI 文字列に変換することにした．

- **操作 $ 1 $** 文字列 $ S $ の先頭の文字を消す．
- **操作 $ 2 $** 文字列 $ S $ の末尾の文字を消す．
- **操作 $ 3 $** 文字列 $ S $ の先頭でも末尾でもない文字を消す．

操作 $ 3 $ を行うのは面倒なので，操作 $ 3 $ を行う回数をできるだけ少なくして，文字列 $ S $ をレベル $ K $ の JOI 文字列に変換したい．

長さ $ N $ の文字列 $ S $ と $ 1 $ 以上の整数 $ K $ が与えられたとき，文字列 $ S $ をレベル $ K $ の JOI 文字列に変換するのに必要な操作 $ 3 $ の回数の最小値を出力するプログラムを作成せよ．ただし，どのように操作を行っても文字列 $ S $ をレベル $ K $ の JOI 文字列に変換できない場合は，代わりに $ −1 $ を出力せよ．

- - - - - -

## 输入格式

入力は以下の形式で標準入力から与えられる．$ N,\ K $ は整数である．$ S $ は文字列である．

> $ N $ $ K $ $ S $

## 输出格式

文字列 $ S $ をレベル $ K $ の JOI 文字列に変換するのに必要な操作 $ 3 $ の回数の最小値を $ 1 $ 行で出力せよ．ただし，どのように操作を行っても文字列 $ S $ をレベル $ K $ の JOI 文字列に変換できない場合は，代わりに $ -1 $ を出力せよ．

- - - - - -

## 说明/提示

### 制約

- $ 3\ \leqq\ N\ \leqq\ 200\,000 $．
- $ 1\ \leqq\ K\ \leqq\ \frac{N}{3} $．
- $ S $ は `J`，`O`，`I` の $ 3 $ 種類の文字からなる長さ $ N $ の文字列である．

### 小課題

1. ($ 1 $ 点) $ N\ \leqq\ 21 $.
2. ($ 12 $ 点) $ N\ \leqq\ 3\,000 $.
3. ($ 87 $ 点) 追加の制約はない.

- - - - - -

### Sample Explanation 1

次のように操作を行うことで，文字列 $ S $ をレベル $ K $ のJOI文字列に変換できる． 1. まず操作 $ 1 $ を行う．文字列 $ S $ は `JIJOIOIIJ` になる． 2. 次に操作 $ 2 $ を行う．文字列 $ S $ は `JIJOIOII` になる． 3. 次に操作 $ 3 $ を行い，先頭から $ 2 $ 文字目を消す．文字列 $ S $ は `JJOIOII` になる． 4. 最後に操作 $ 3 $ を行い，先頭から $ 4 $ 文字目を消す．文字列 $ S $ は `JJOOII` になる． $ 2 $ 回未満の操作 $ 3 $ で変換することは不可能なので，$ 2 $ を出力する． - - - - - -

### Sample Explanation 2

操作を行わなくてもよい． - - - - - -

### Sample Explanation 3

この入力例では，どのように操作を行っても文字列 $ S $ をレベル $ 1 $ の JOI 文字列に変換できない．

## 样例 #1

### 输入

```
10 2
OJIJOIOIIJ
```

### 输出

```
2
```

## 样例 #2

### 输入

```
9 3
JJJOOOIII
```

### 输出

```
0
```

## 样例 #3

### 输入

```
9 1
IIIOOOJJJ
```

### 输出

```
-1
```



---

---
title: "マッサージチェア"
layout: "post"
diff: 普及/提高-
pid: AT_kupc2014_a
tag: ['枚举', '排序']
---

# マッサージチェア

## 题目描述

[problemUrl]: https://atcoder.jp/contests/kupc2014/tasks/kupc2014_a





---

---
title: "Abundant Resources"
layout: "post"
diff: 普及/提高-
pid: AT_nikkei2019_final_a
tag: ['枚举']
---

# Abundant Resources

## 题目描述

[problemUrl]: https://atcoder.jp/contests/nikkei2019-final/tasks/nikkei2019_final_a

東西に細長い土地があります。 この土地は、$ N $ 個の区画が東西に並んだ形をしており、西から $ i $ 番目の区画は区画 $ i $ と呼ばれます。

それぞれの区画には地下資源があることがわかっており、区画 $ i $ の資源埋蔵量は $ A_i $ です。

$ 1 $ 以上 $ N $ 以下のそれぞれの整数 $ k $ について、次の問題の答えを求めてください。

- 連続する $ k $ 個の区画を選んだとき、それらの区画の資源埋蔵量の総和として考えられる最大値はいくらか。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ \cdots $ $ A_N $

## 输出格式

$ N $ 行出力せよ。 $ k $ 行目には、連続する $ k $ 個の区画の資源埋蔵量の総和の最大値を出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 3000 $
- $ 1\ \leq\ A_i\ \leq\ 10^9 $
- 入力される値はすべて整数である。

### Sample Explanation 1

$ k=1 $ のとき、区画 $ 1 $ を選ぶと資源埋蔵量の総和は $ 4 $ となり、これが最大です。 $ k=2 $ のとき、区画 $ 3,4 $ を選ぶと資源埋蔵量の総和は $ 3+3=6 $ となり、これが最大です。 $ k=3 $ のとき、区画 $ 1,2,3 $ を選ぶと資源埋蔵量の総和は $ 4+1+3=8 $ となり、これが最大です。 $ k=4 $ のとき、区画 $ 1,2,3,4 $ を選ぶと資源埋蔵量の総和は $ 4+1+3+3=11 $ となり、これが最大です。

## 样例 #1

### 输入

```
4

4 1 3 3
```

### 输出

```
4

6

8

11
```

## 样例 #2

### 输入

```
5

10 20 30 40 50
```

### 输出

```
50

90

120

140

150
```

## 样例 #3

### 输入

```
10

61049214 115057849 356385814 932678664 505961980 877482753 476308661 571830644 210047210 873430114
```

### 输出

```
932678664

1438640644

2316123397

2792432058

3364262702

3720648516

4447740026

4804125840

4919183689

4980232903
```



---


---
title: "[ABC410D] XOR Shortest Walk"
layout: "post"
diff: 普及/提高-
pid: AT_abc410_d
tag: ['图论', '广度优先搜索 BFS', '记忆化搜索']
---

# [ABC410D] XOR Shortest Walk

## 题目描述

给你一个 $N$ 条边 $M$ 条边的有向图，第 $i$ 条边从结点 $A_i$ 连向结点 $B_i$，权值为 $W_i$。

求所有从 $1$ 到 $N$ 的路径中，可以重复经过同一个点和同一条边，路径上所有边权值的异或和的最小值。

## 输入格式

第一行两个整数 $N,M(2\le N\le 1000,0\le M\le 1000)$。\
接下来 $M$ 行，每行三个整数 $A_i,B_i,W_i(0\le W_i<2^{10})$。

## 输出格式

如果不存在 $1$ 到 $N$ 的路径，输出一行一个整数 $-1$。

否则，输出一行一个整数表示答案。

## 说明/提示

**样例 1 解释**

路径(边 $1$，边 $2$) 的边权异或和为 $1$。

**样例 2 解释**

路径(边 $1$，边 $2$，边 $3$，边 $4$) 的边权异或和为 $0$。

注意 $N$ 可能出现在路径的中间。

**样例 3 解释**

如果不存在 $1$ 到 $N$ 的路径，输出 $-1$。

By @[chenxi2009](/user/1020063)

## 样例 #1

### 输入

```
3 3

1 2 4

2 3 5

1 3 2
```

### 输出

```
1
```

## 样例 #2

### 输入

```
4 4

1 4 7

4 2 2

2 3 4

3 4 1
```

### 输出

```
0
```

## 样例 #3

### 输入

```
999 4

1 2 9

2 1 8

1 2 7

1 1 6
```

### 输出

```
-1
```



---


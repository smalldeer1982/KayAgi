---
title: "[ABC003C] AtCoderプログラミング講座"
layout: "post"
diff: 普及/提高-
pid: AT_abc003_3
tag: ['贪心']
---

# [ABC003C] AtCoderプログラミング講座

## 题目描述

【题意】

初始时 $C=0$ ，给出一个含 $n$ 个数的序列 $\{R\}$，取其中任意 $k$ 个数的排列 $R_1,R_2,\cdots R_k$，并依次运算 $C=(C+R_i)/2$ .你的任务是使得最终的 $C$ 尽可能大。

## 输入格式

第一行，$n,k$； 接下来一行 $n$ 个数，表示序列 $\{R\}$。

## 输出格式

一行一个数 $C$，误差不超过 $10^{-6}$（小数点后 $6$ 位）

translated by @Forward_Star



---

---
title: "[ABC085D] Katana Thrower"
layout: "post"
diff: 普及/提高-
pid: AT_abc085_d
tag: ['模拟', '贪心', '排序']
---

# [ABC085D] Katana Thrower

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc085/tasks/abc085_d

あなたが散歩していると、突然一体の魔物が出現しました。幸い、あなたは $ N $ 本の刀、刀 $ 1 $、刀 $ 2 $、$ … $、刀 $ N $ を持っていて、次の二種類の攻撃を自由な順番で行うことができます。

- 持っている刀のうち一本を振る。刀 $ i $ $ (1\ <\ =\ i\ <\ =\ N) $ を振ると、魔物は $ a_i $ ポイントのダメージを受ける。同じ刀を何度振ることもできる。
- 持っている刀のうち一本を投げつける。刀 $ i $ $ (1\ <\ =\ i\ <\ =\ N) $ を投げつけると、魔物は $ b_i $ ポイントのダメージを受け、あなたはその刀を失う。すなわち、あなたは以後その刀を振ることも投げつけることもできなくなる。

魔物は、受けたダメージの合計が $ H $ ポイント以上になると消滅します。魔物を消滅させるには、最小で合計何回の攻撃が必要でしょうか。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ H $ $ a_1 $ $ b_1 $ $ : $ $ a_N $ $ b_N $

## 输出格式

魔物を消滅させるために必要な最小の合計攻撃回数を出力せよ。

## 说明/提示

### 制約

- $ 1\ <\ =\ N\ <\ =\ 10^5 $
- $ 1\ <\ =\ H\ <\ =\ 10^9 $
- $ 1\ <\ =\ a_i\ <\ =\ b_i\ <\ =\ 10^9 $
- 入力値はすべて整数である。

### Sample Explanation 1

あなたは $ 1 $ 本の刀を持っていて、振ると $ 3 $ ポイントのダメージ、投げつけると $ 5 $ ポイントのダメージを与えられます。刀を $ 2 $ 回振ってから投げつけると $ 3\ +\ 3\ +\ 5\ =\ 11 $ ポイントのダメージを与え、合計 $ 3 $ 回の攻撃で魔物が消滅します。

### Sample Explanation 2

先ほどの刀に加えてもう $ 1 $ 本別の刀もあり、こちらは振ると $ 2 $ ポイントのダメージ、投げつけると $ 6 $ ポイントのダメージを与えられます。両方の刀を投げつけると $ 5\ +\ 6\ =\ 11 $ ポイントのダメージを与え、$ 2 $ 回の攻撃で魔物が消滅します。

## 样例 #1

### 输入

```
1 10

3 5
```

### 输出

```
3
```

## 样例 #2

### 输入

```
2 10

3 5

2 6
```

### 输出

```
2
```

## 样例 #3

### 输入

```
4 1000000000

1 1

1 10000000

1 30000000

1 99999999
```

### 输出

```
860000004
```

## 样例 #4

### 输入

```
5 500

35 44

28 83

46 62

31 79

40 43
```

### 输出

```
9
```



---

---
title: "[ABC308F] Vouchers"
layout: "post"
diff: 普及/提高-
pid: AT_abc308_f
tag: ['贪心']
---

# [ABC308F] Vouchers

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc308/tasks/abc308_f

あなたは店で $ N $ 個の商品を買おうとしています。 $ i $ 個目の商品の定価は $ P_i $ 円です。

また、あなたは $ M $ 枚のクーポンを持っています。$ i $ 枚目のクーポンを使うと、定価が $ L_i $ 円以上の商品を一つ選び、その商品を定価より $ D_i $ 円低い価格で買うことができます。

ここで、一つのクーポンは一回までしか使えません。また、複数のクーポンを同じ商品に重ねて使うことはできません。

クーポンを使わなかった商品は定価で買うことになります。 $ N $ 個すべての商品を買うのに必要な最小の金額を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ P_1 $ $ \ldots $ $ P_N $ $ L_1 $ $ \ldots $ $ L_M $ $ D_1 $ $ \ldots $ $ D_M $

## 输出格式

答えを整数として出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N,M\leq\ 2\times\ 10^5 $
- $ 1\leq\ P_i\leq\ 10^9 $
- $ 1\leq\ D_i\ \leq\ L_i\ \leq\ 10^9 $
- 入力される数値は全て整数
 
### Sample Explanation 1

$ 2 $ 枚目のクーポンを $ 1 $ 個目の商品に、 $ 3 $ 枚目のクーポンを $ 2 $ 個目の商品に使うことを考えます。 このとき、$ 1 $ 個目の商品を $ 4-3=1 $ 円、$ 2 $ 個目の商品を $ 3-1=2 $ 円、$ 3 $ 個目の商品を $ 1 $ 円で買うことになるので、 $ 1+2+1=4 $ 円で全ての商品を買うことができます。

## 样例 #1

### 输入

```
3 3

4 3 1

4 4 2

2 3 1
```

### 输出

```
4
```

## 样例 #2

### 输入

```
10 5

9 7 1 5 2 2 5 5 7 6

7 2 7 8 2

3 2 4 1 2
```

### 输出

```
37
```



---

---
title: "[ABC312C] Invisible Hand"
layout: "post"
diff: 普及/提高-
pid: AT_abc312_c
tag: ['贪心', '枚举']
---

# [ABC312C] Invisible Hand

## 题目描述

**题意简述**

在苹果市场中，有 $N$ 个卖家和 $M$ 个买家。第 $i$ 个卖家愿意出售的最低价格为 $A_i$ 日元，第 $j$ 个买家愿意购买的最高价格为 $B_i$ 日元。

请求出一个最低价格 $x$，使愿意以 $x$ 日元出售的卖家数量大于等于愿意以 $x$ 元购买的买家。

## 输入格式

第一行有两个整数 $N,M$。

第二行有 $N$ 个整数，第 $i$ 个为 $A_i$。

第三行有 $M$ 个整数，第 $i$ 个为 $B_i$。

## 输出格式

一行一个整数，为最低价格 $x$。

## 说明/提示

- $1 \le N,M \le 2 \times 10^5$
- $1 \le A_i,B_i \le 10^9$

## 样例 #1

### 输入

```
3 4

110 90 120

100 80 120 10000
```

### 输出

```
110
```

## 样例 #2

### 输入

```
5 2

100000 100000 100000 100000 100000

100 200
```

### 输出

```
201
```

## 样例 #3

### 输入

```
3 2

100 100 100

80 120
```

### 输出

```
100
```



---

---
title: "[ABC313C] Approximate Equalization 2"
layout: "post"
diff: 普及/提高-
pid: AT_abc313_c
tag: ['贪心']
---

# [ABC313C] Approximate Equalization 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc313/tasks/abc313_c

整数列 $ A=(A_1,A_2,\dots,A_N) $ があります。 あなたは次の操作を好きな回数（$ 0 $ 回でもよい）行うことができます。

- $ 1\leq\ i,j\ \leq\ N $ を満たす整数 $ i,j $ を選ぶ。$ A_i $ を $ 1 $ 減らし、$ A_j $ を $ 1 $ 増やす。
 
$ A $ の最小値と最大値の差を $ 1 $ 以下にするために必要な最小の操作回数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

答えを整数として出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\ \leq\ 2\times\ 10^5 $
- $ 1\leq\ A_i\ \leq\ 10^9 $
- 入力は全て整数
 
### Sample Explanation 1

以下のように $ 3 $ 回の操作を行うことで、$ A $ の最小値と最大値の差を $ 1 $ 以下にすることができます。 - $ i=2,j=3 $ として操作を行う。$ A=(4,6,4,7) $ になる。 - $ i=4,j=1 $ として操作を行う。$ A=(5,6,4,6) $ になる。 - $ i=4,j=3 $ として操作を行う。$ A=(5,6,5,5) $ になる。 $ 3 $ 回未満の操作で $ A $ の最小値と最大値の差を $ 1 $ 以下にすることはできません。よって答えは $ 3 $ です。

## 样例 #1

### 输入

```
4

4 7 3 7
```

### 输出

```
3
```

## 样例 #2

### 输入

```
1

313
```

### 输出

```
0
```

## 样例 #3

### 输入

```
10

999999997 999999999 4 3 2 4 999999990 8 999999991 999999993
```

### 输出

```
2499999974
```



---

---
title: "[ABC323D] Merge Slimes"
layout: "post"
diff: 普及/提高-
pid: AT_abc323_d
tag: ['贪心', '枚举']
---

# [ABC323D] Merge Slimes

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc323/tasks/abc323_d

最初、$ N $ 種類のサイズのスライムがいます。  
具体的には、$ 1\leq\ i\leq\ N $ について、サイズ $ S_i $ のスライムが $ C_i $ 匹います。

高橋君はスライムの合成を好きな順番で好きなだけ($ 0 $ 回でも良い)繰り返すことができます。  
スライムの合成では、次のことを行います。

- **同じ** サイズの $ 2 $ 匹のスライムを選ぶ。選ばれたスライムのサイズが $ X $ であったとき、新しくサイズ $ 2X $ のスライムが出現する。合成後、選ばれた元のスライムは $ 2 $ 匹とも消滅する。

高橋君はスライムの匹数を最小にしたいと考えています。 高橋君がうまく合成を繰り返した時、最小で何匹にすることができるでしょうか?

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ S_1 $ $ C_1 $ $ S_2 $ $ C_2 $ $ \vdots $ $ S_N $ $ C_N $

## 输出格式

高橋君が合成を繰り返した後のスライムの匹数としてあり得る最小の数を出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 10^5 $
- $ 1\leq\ S_i\leq\ 10^9 $
- $ 1\leq\ C_i\leq\ 10^9 $
- $ S_1,S_2,\ldots,S_N $ はすべて異なる。
- 入力はすべて整数

### Sample Explanation 1

最初、サイズ $ 3 $ のスライムが $ 3 $ 匹、サイズ $ 5 $ のスライムが $ 1 $ 匹、サイズ $ 6 $ のスライムが $ 1 $ 匹います。 高橋君は次のように合成を $ 2 $ 回行うことができます。 - まず、サイズ $ 3 $ のスライム $ 2 $ 匹を選んで合成を行います。サイズ $ 3 $ のスライムが $ 1 $ 匹、サイズ $ 5 $ のスライムが $ 1 $ 匹、サイズ $ 6 $ のスライムが $ 2 $ 匹となります。 - 次に、サイズ $ 6 $ のスライム $ 2 $ 匹を選んで合成を行います。サイズ $ 3 $ のスライムが $ 1 $ 匹、サイズ $ 5 $ のスライムが $ 1 $ 匹、サイズ $ 12 $ のスライムが $ 1 $ 匹となります。 高橋君は最初の状態からどのように合成を繰り返してもスライムを $ 2 $ 匹以下にすることはできないため、$ 3 $ を出力します。

### Sample Explanation 2

高橋君は合成を行うことができません。

## 样例 #1

### 输入

```
3
3 3
5 1
6 1
```

### 输出

```
3
```

## 样例 #2

### 输入

```
3
1 1
2 1
3 1
```

### 输出

```
3
```

## 样例 #3

### 输入

```
1
1000000000 1000000000
```

### 输出

```
13
```



---

---
title: "[ABC325D] Printing Machine"
layout: "post"
diff: 普及/提高-
pid: AT_abc325_d
tag: ['贪心']
---

# [ABC325D] Printing Machine

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc325/tasks/abc325_d

$ 1 $ から $ N $ までの番号が付けられた $ N $ 個の商品がベルトコンベア上を流れています。 ベルトコンベアには印字機が取り付けられており、商品 $ i $ は今から $ T_i $ \[μs\] 後に印字機の範囲に入り、その $ D_i $ \[μs\] 後に印字機の範囲から出ます。

キーエンスの印字機は、印字機の範囲内にある商品 $ 1 $ つに一瞬で印字することができます（特に、商品が印字機の範囲に入る瞬間や範囲から出る瞬間に印字することも可能です）。 ただし、$ 1 $ 度印字すると、次に印字するまでに $ 1 $ \[μs\] のチャージ時間が必要です。 印字機が印字をする商品とタイミングをうまく選んだとき、最大で何個の商品に印字することができますか？

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ T_1 $ $ D_1 $ $ T_2 $ $ D_2 $ $ \vdots $ $ T_N $ $ D_N $

## 输出格式

印字機が印字することのできる商品の数の最大値を出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\ \leq\ 2\times\ 10^5 $
- $ 1\leq\ T_i,D_i\ \leq\ 10^{18} $
- 入力は全て整数
 
### Sample Explanation 1

以下、今から $ t $ \\\[μs\\\] 後のことを単に時刻 $ t $ とよびます。 例えば、次のようにして $ 4 $ 個の商品に印字することができます。 - 時刻 $ 1 $ : 商品 $ 1,2,4,5 $ が印字機の範囲に入る。商品 $ 4 $ に印字する。 - 時刻 $ 2 $ : 商品 $ 3 $ が印字機の範囲に入り、商品 $ 1,2 $ が印字機の範囲から出る。商品 $ 1 $ に印字する。 - 時刻 $ 3 $ : 商品 $ 3,4 $ が印字機の範囲から出る。商品 $ 3 $ に印字する。 - 時刻 $ 4.5 $ : 商品 $ 5 $ に印字する。 - 時刻 $ 5 $ : 商品 $ 5 $ が印字機の範囲から出る。 $ 5 $ 個の商品すべてに印字することはできないため、答えは $ 4 $ です。

## 样例 #1

### 输入

```
5

1 1

1 1

2 1

1 2

1 4
```

### 输出

```
4
```

## 样例 #2

### 输入

```
2

1 1

1000000000000000000 1000000000000000000
```

### 输出

```
2
```

## 样例 #3

### 输入

```
10

4 1

1 2

1 4

3 2

5 1

5 1

4 1

2 1

4 1

2 4
```

### 输出

```
6
```



---

---
title: "[ABC333E] Takahashi Quest"
layout: "post"
diff: 普及/提高-
pid: AT_abc333_e
tag: ['贪心', '栈']
---

# [ABC333E] Takahashi Quest

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc333/tasks/abc333_e

高橋くんは冒険に出ようとしています。

冒険では、$ N $ 個の出来事が起こります。 $ i $ 番目 $ (1\leq\ i\leq\ N) $ の出来事は整数の組 $ (t\ _\ i,x\ _\ i) $ $ (1\leq\ t\ _\ i\leq\ 2,1\leq\ x\ _\ i\leq\ N) $ で表され、次のような出来事です。

- $ t\ _\ i=1 $ のとき、タイプ $ x\ _\ i $ のポーションを $ 1 $ つ発見する。高橋くんは、発見したポーションを拾うか捨てるかのどちらかを選択する。
- $ t\ _\ i=2 $ のとき、タイプ $ x\ _\ i $ のモンスター $ 1 $ 体と遭遇する。高橋くんがタイプ $ x\ _\ i $ のポーションを持っている場合、それを $ 1 $ つ消費することでモンスターを撃退することができる。モンスターを撃退しなかった場合、高橋くんは敗北する。
 
高橋くんが敗北することなく全てのモンスターを撃退することができるか判定してください。

高橋くんが全てのモンスターを撃退することができない場合、`-1` を出力してください。

高橋くんが全てのモンスターを撃退することができる場合、高橋君が冒険の途中で持っているポーションの個数の最大値を $ K $ とします。 高橋くんが敗北しないような戦略全体にわたる $ K $ の最小値を $ K\ _\ {\min} $ とします。 $ K\ _\ {\min} $ の値と、$ K\ _\ {\min} $ を達成する高橋くんの行動を出力してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ t\ _\ 1 $ $ x\ _\ 1 $ $ t\ _\ 2 $ $ x\ _\ 2 $ $ \vdots $ $ t\ _\ N $ $ x\ _\ N $

## 输出格式

高橋くんが全てのモンスターを撃退することができない場合、`-1` を出力せよ。 高橋くんが全てのモンスターを撃退することができる場合、$ 1 $ 行目には $ K\ _\ {\min} $ の値を、$ 2 $ 行目には $ t\ _\ i=1 $ であるような $ i $ すべてについて昇順に、$ i $ 番目の出来事で発見したポーションを拾うなら `1` を、拾わないなら `0` を空白区切りで出力せよ。 $ K\ _\ {\min} $ を達成し、高橋くんが敗北せず冒険を終えられるような行動が複数ある場合、どれを出力しても構わない。

## 说明/提示

### 制約

- $ 1\leq\ N\leq2\times10^5 $
- $ 1\leq\ t\ _\ i\leq2\ (1\leq\ i\leq\ N) $
- $ 1\leq\ x\ _\ i\leq\ N\ (1\leq\ i\leq\ N) $
- 入力はすべて整数
 
### Sample Explanation 1

出力例は、次のような行動に対応しています。 - タイプ $ 2,3,1 $ のポーションをこの順に発見する。これらのポーションをすべて拾う。 - タイプ $ 3,2 $ のポーションをこの順に発見する。これらのポーションをいずれも拾わない。 - タイプ $ 3 $ のモンスターと遭遇する。持っているタイプ $ 3 $ のポーションを $ 1 $ つ消費してモンスターを撃退する。 - タイプ $ 3 $ のポーションを発見する。このポーションを拾う。 - タイプ $ 3 $ のポーションを発見する。このポーションを拾わない。 - タイプ $ 3 $ のモンスターと遭遇する。持っているタイプ $ 3 $ のポーションを $ 1 $ つ消費してモンスターを撃退する。 - タイプ $ 3 $ のポーションを発見する。このポーションを拾う。 - タイプ $ 2 $ のモンスターと遭遇する。持っているタイプ $ 2 $ のポーションを $ 1 $ つ消費してモンスターを撃退する。 - タイプ $ 3 $ のモンスターと遭遇する。持っているタイプ $ 3 $ のポーションを $ 1 $ つ消費してモンスターを撃退する。 - タイプ $ 1 $ のモンスターと遭遇する。持っているタイプ $ 1 $ のポーションを $ 1 $ つ消費してモンスターを撃退する。 この行動では、$ K $ の値は $ 3 $ となります。 $ K\leq\ 2 $ として敗北しない方法はないので、求める $ K\ _\ {\min} $ の値は $ 3 $ です。 $ K=3 $ を満たして高橋くんが敗北しない行動は複数ありますが、どれを出力しても構いません。

### Sample Explanation 2

高橋くんはかならず最初に遭遇するモンスターに敗北してしまいます。

## 样例 #1

### 输入

```
13

1 2

1 3

1 1

1 3

1 2

2 3

1 3

1 3

2 3

1 3

2 2

2 3

2 1
```

### 输出

```
3

1 1 1 0 0 1 0 1
```

## 样例 #2

### 输入

```
4

2 3

1 4

2 1

1 2
```

### 输出

```
-1
```

## 样例 #3

### 输入

```
30

1 25

1 2

1 10

1 18

2 18

1 11

2 11

1 21

1 6

2 2

2 10

1 11

1 24

1 11

1 3

1 2

1 18

2 25

1 8

1 10

1 11

2 18

2 10

1 10

2 2

1 24

1 10

2 10

1 25

2 6
```

### 输出

```
4

1 1 1 1 1 0 1 0 0 0 0 1 1 0 1 0 1 0 0 0
```



---

---
title: "[ABC334C] Socks 2"
layout: "post"
diff: 普及/提高-
pid: AT_abc334_c
tag: ['贪心', '枚举']
---

# [ABC334C] Socks 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc334/tasks/abc334_c

高橋君は $ N $ 組の靴下を持っており、$ i $ 番目の組は色 $ i $ の靴下 $ 2 $ 枚からなります。 ある日タンスの中を整理した高橋君は、色 $ A_1,A_2,\dots,A_K $ の靴下を $ 1 $ 枚ずつなくしてしまったことに気づいたので、残っている $ 2N-K $ 枚の靴下を使って、靴下 $ 2 $ 枚ずつからなる $ \lfloor\frac{2N-K}{2}\rfloor $ 個の組を新たに作り直すことにしました。 色 $ i $ の靴下と色 $ j $ の靴下からなる組の**奇妙さ**は $ |i-j| $ として定義され、高橋君は奇妙さの総和をできるだけ小さくしたいです。

残っている靴下をうまく組み合わせて $ \lfloor\frac{2N-K}{2}\rfloor $ 個の組を作ったとき、奇妙さの総和が最小でいくつになるか求めてください。 なお、$ 2N-K $ が奇数のとき、どの組にも含まれない靴下が $ 1 $ 枚存在することに注意してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ K $ $ A_1 $ $ A_2 $ $ \dots $ $ A_K $

## 输出格式

奇妙さの総和の最小値を整数として出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ K\leq\ N\ \leq\ 2\times\ 10^5 $
- $ 1\leq\ A_1\ <\ A_2\ <\ \dots\ <\ A_K\ \leq\ N $
- 入力は全て整数

### Sample Explanation 1

以下、色 $ i $ の靴下と色 $ j $ の靴下からなる組を $ (i,j) $ と表記します。 色 $ 1,2,3,4 $ の靴下がそれぞれ $ 1,2,1,2 $ 枚ずつあります。 $ (1,2),(2,3),(4,4) $ の $ 3 $ 組を作ると、奇妙さの総和は $ |1-2|+|2-3|+|4-4|=2 $ となり、これが最小です。

### Sample Explanation 2

$ (1,1),(3,3),(4,4),(5,5) $ の $ 4 $ 組を作り、色 $ 2 $ の靴下を $ 1 $ 枚余らせる（どの組にも入れない）のが最適です。

## 样例 #1

### 输入

```
4 2
1 3
```

### 输出

```
2
```

## 样例 #2

### 输入

```
5 1
2
```

### 输出

```
0
```

## 样例 #3

### 输入

```
8 5
1 2 4 7 8
```

### 输出

```
2
```



---

---
title: "[ABC347C] Ideal Holidays"
layout: "post"
diff: 普及/提高-
pid: AT_abc347_c
tag: ['贪心']
---

# [ABC347C] Ideal Holidays

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc347/tasks/abc347_c

AtCoder 王国の $ 1 $ 週間は $ A+B $ 日からなり、$ 1 $ 日目から $ A $ 日目が休日で、$ A+1 $ 日目から $ A+B $ 日目が平日です。

高橋くんは $ N $ 個の予定があり、$ i $ 番目の予定は今日から $ D_i $ 日後です。

高橋くんは今日が $ 1 $ 週間の何日目かを忘れてしまいました。高橋くんの $ N $ 個の予定が全て休日である可能性があるかを判定してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A $ $ B $ $ D_1 $ $ D_2 $ $ \ldots $ $ D_N $

## 输出格式

高橋くんの $ N $ 個の予定が全て休日である可能性がある場合は `Yes` を、そうでない場合は `No` を一行に出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 2\times\ 10^5 $
- $ 1\leq\ A,B\leq\ 10^9 $
- $ 1\leq\ D_1\ <\ D_2\ <\ \ldots\ <\ D_N\leq\ 10^9 $
 
### Sample Explanation 1

入力では $ 1 $ 週間は $ 7 $ 日からなり、$ 1 $ 日目から $ 2 $ 日目が休日、$ 3 $ 日目から $ 7 $ 日目が平日です。 今日が $ 1 $ 週間の $ 7 $ 日目だとします。このとき、$ 1 $ 日後は $ 1 $ 週間の $ 1 $ 日目、$ 2 $ 日後は $ 1 $ 週間の $ 2 $ 日目、$ 9 $ 日後は $ 1 $ 週間の $ 2 $ 日目となり、全ての予定が休日となります。そのため、高橋くんの $ N $ 個の予定が全て休日である可能性があります。

## 样例 #1

### 输入

```
3 2 5

1 2 9
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
2 5 10

10 15
```

### 输出

```
No
```

## 样例 #3

### 输入

```
4 347 347

347 700 705 710
```

### 输出

```
Yes
```



---

---
title: "[ABC347D] Popcount and XOR"
layout: "post"
diff: 普及/提高-
pid: AT_abc347_d
tag: ['贪心', '位运算']
---

# [ABC347D] Popcount and XOR

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc347/tasks/abc347_d

非負整数 $ a,b,C $ が与えられます。 次の $ 5 $ つの条件をすべて満たす非負整数の組 $ (X,Y) $ が存在するか判定し、存在するならひとつ出力してください。

- $ 0\leq\ X\lt2\ ^\ {60} $
- $ 0\leq\ Y\lt2\ ^\ {60} $
- $ \operatorname{popcount}(X)=a $
- $ \operatorname{popcount}(Y)=b $
- $ X\oplus\ Y=C $

ただし、$ \oplus $ はビットごとの排他的論理和を表します。

条件を満たす $ (X,Y) $ が複数存在する場合、どれを出力しても構いません。

popcount とは？非負整数 $ x $ について $ x $ の popcount とは、$ x $ を $ 2 $ 進法で表記したときの $ 1 $ の個数です。 より厳密には、非負整数 $ x $ について $ \displaystyle\ x=\sum\ _\ {i=0}\ ^\ \infty\ b\ _\ i2\ ^\ i\ (b\ _\ i\in\lbrace0,1\rbrace) $ が成り立っているとき $ \displaystyle\operatorname{popcount}(x)=\sum\ _\ {i=0}\ ^\ \infty\ b\ _\ i $ です。

例えば、$ 13 $ を $ 2 $ 進法で表記すると `1101` なので、 $ \operatorname{popcount}(13)=3 $ となります。 ビットごとの排他的論理和とは？非負整数 $ x,y $ について $ x,y $ のビットごとの排他的論理和 $ x\oplus\ y $ は以下のように定義されます。

- $ x\oplus\ y $ を $ 2 $ 進法で表記したときの $ 2\ ^\ k\ (k\geq0) $ の位は、$ x,y $ を $ 2 $ 進法で表記したときの $ 2\ ^\ k\ (k\geq0) $ の位の数のうち一方のみが $ 1 $ であれば $ 1 $ 、そうでなければ $ 0 $ となる。

例えば、$ 9,3 $ を $ 2 $ 進法で表記するとそれぞれ `1001`, `0011` なので、$ 9\oplus3=10 $ となります（$ 10 $ を $ 2 $ 進法で表記すると `1010` です）。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ a $ $ b $ $ C $

## 输出格式

条件を満たす非負整数の組が存在するならば、そのような $ (X,Y) $ をひとつ選び $ X,Y $ をこの順に空白を区切りとして出力せよ。 存在しないならば、`-1` を出力せよ。

## 说明/提示

### 制約

- $ 0\leq\ a\leq60 $
- $ 0\leq\ b\leq60 $
- $ 0\leq\ C\lt2\ ^\ {60} $
- 入力はすべて整数

### Sample Explanation 1

$ (X,Y)=(28,27) $ は条件を満たします。 $ X,Y $ を $ 2 $ 進法で表記するとそれぞれ `11100` と `11011` になります。 - $ X $ を $ 2 $ 進法で表記すると `11100` になるので、$ \operatorname{popcount}(X)=3 $ です。 - $ Y $ を $ 2 $ 進法で表記すると `11011` になるので、$ \operatorname{popcount}(Y)=4 $ です。 - $ X\oplus\ Y $ を $ 2 $ 進法で表記すると `00111` となり、$ X\oplus\ Y=7 $ です。 条件を満たす非負整数の組が複数存在する場合どれを出力しても構わないため、例えば `42 45` と出力しても正解になります。

### Sample Explanation 2

条件を満たす非負整数の組は存在しません。

### Sample Explanation 3

出力すべき値が $ 32\operatorname{bit} $ 整数に収まらない場合があります。

## 样例 #1

### 输入

```
3 4 7
```

### 输出

```
28 27
```

## 样例 #2

### 输入

```
34 56 998244353
```

### 输出

```
-1
```

## 样例 #3

### 输入

```
39 47 530423800524412070
```

### 输出

```
540431255696862041 10008854347644927
```



---

---
title: "[ABC349D] Divide Interval"
layout: "post"
diff: 普及/提高-
pid: AT_abc349_d
tag: ['贪心']
---

# [ABC349D] Divide Interval

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc349/tasks/abc349_d

非負整数 $ l,r\ (l\ <\ r) $ に対して、$ l $ 以上 $ r $ 未満の整数を順に並べた数列 $ (l,l+1,\ldots,r-2,r-1) $ を $ S(l,r) $ で表します。また、非負整数 $ i,j $ を用いて $ S(2^{i}j,2^{i}(j+1)) $ と表される数列を良い数列と呼ぶことにします。

非負整数 $ L,R\ (L\lt\ R) $ が与えられます。数列 $ S(L,R) $ をできるだけ少ない個数の良い数列に分割するとき、その個数と分割の方法を出力してください。より厳密には、以下を満たす非負整数の組の列 $ (l_1,r_1),(l_2,r_2),\ldots,(l_M,r_M) $ が存在するような正整数 $ M $ の最小値を求め、そのときの $ (l_1,r_1),(l_2,r_2),\ldots,(l_M,r_M) $ を出力してください。

- $ L=l_1\ <\ r_1=l_2\ <\ r_2=\cdots=l_M\ <\ r_M=R $
- $ S(l_1,r_1),S(l_2,r_2),\ldots,S(l_M,r_M) $ は良い数列

なお、$ M $ が最小となるような分割方法は一通りのみ存在することが示せます。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ L $ $ R $

## 输出格式

以下の形式にしたがって出力せよ。

> $ M $ $ l_1 $ $ r_1 $ $ \vdots $ $ l_M $ $ r_M $

$ (l_1,r_1),\dots,(l_M,r_M) $ を**昇順**で出力することに注意せよ。

## 说明/提示

### 制約

- $ 0\leq\ L\lt\ R\leq\ 2^{60} $
- 入力は全て整数

### Sample Explanation 1

$ S(3,19)=(3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18) $ です。これは以下の $ 5 $ つの良い数列に分割でき、これが個数が最小となるような分割方法です。 - $ S(3,4)=S(2^0\cdot\ 3,2^0\cdot4)=(3) $ - $ S(4,8)=S(2^2\cdot\ 1,2^2\cdot\ 2)=(4,5,6,7) $ - $ S(8,16)=S(2^3\cdot\ 1,2^3\cdot\ 2)=(8,9,10,11,12,13,14,15) $ - $ S(16,18)=S(2^1\cdot\ 8,2^1\cdot\ 9)=(16,17) $ - $ S(18,19)=S(2^0\cdot\ 18,2^0\cdot\ 19)=(18) $

## 样例 #1

### 输入

```
3 19
```

### 输出

```
5
3 4
4 8
8 16
16 18
18 19
```

## 样例 #2

### 输入

```
0 1024
```

### 输出

```
1
0 1024
```

## 样例 #3

### 输入

```
3940649673945088 11549545024454656
```

### 输出

```
8
3940649673945088 3940649673949184
3940649673949184 4503599627370496
4503599627370496 9007199254740992
9007199254740992 11258999068426240
11258999068426240 11540474045136896
11540474045136896 11549270138159104
11549270138159104 11549545016066048
11549545016066048 11549545024454656
```



---

---
title: "[ABC361E] Tree and Hamilton Path 2"
layout: "post"
diff: 普及/提高-
pid: AT_abc361_e
tag: ['贪心', '树的直径']
---

# [ABC361E] Tree and Hamilton Path 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc361/tasks/abc361_e

AtCoder国には $ 1 $ から $ N $ の番号がついた $ N $ 個の街と $ 1 $ から $ N-1 $ の番号がついた $ N-1 $ 本の道路があります。

道路 $ i $ は街 $ A_i $ と街 $ B_i $ を双方向に結び、長さは $ C_i $ です。どの街同士も、いくつかの道路を通って互いに行き来することができます。

いずれかの街を出発し、道路による移動で全ての街を $ 1 $ 度以上訪れるための移動距離の最小値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ B_1 $ $ C_1 $ $ \vdots $ $ A_{N-1} $ $ B_{N-1} $ $ C_{N-1} $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 2\times\ 10^5 $
- $ 1\ \leq\ A_i,B_i\ \leq\ N $
- $ 1\ \leq\ C_i\ \leq\ 10^9 $
- 入力は全て整数である
- どの街同士も、いくつかの道路を通って互いに行き来できる
 
### Sample Explanation 1

$ 4\ \to\ 1\ \to\ 2\ \to\ 1\ \to\ 3 $ と移動すると移動距離の合計は $ 11 $ となり、これが最小値です。 最初の街に戻ってくる必要はないことに注意してください。

### Sample Explanation 2

オーバーフローに注意してください。

## 样例 #1

### 输入

```
4

1 2 2

1 3 3

1 4 4
```

### 输出

```
11
```

## 样例 #2

### 输入

```
10

10 9 1000000000

9 8 1000000000

8 7 1000000000

7 6 1000000000

6 5 1000000000

5 4 1000000000

4 3 1000000000

3 2 1000000000

2 1 1000000000
```

### 输出

```
9000000000
```



---

---
title: "[ABC376E] Max × Sum"
layout: "post"
diff: 普及/提高-
pid: AT_abc376_e
tag: ['贪心', '优先队列']
---

# [ABC376E] Max × Sum

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc376/tasks/abc376_e

長さ $ N $ の数列 $ A\ =\ (A_1,\ A_2,\ \dots,\ A_N),\ B\ =\ (B_1,\ B_2,\ \dots,\ B_N) $ が与えられます。  
$ \lbrace\ 1,\ 2,\ \dots,\ N\ \rbrace $ の部分集合であって大きさが $ K $ のものを $ 1 $ つ選び $ S $ とします。この時、以下の式の値としてあり得る最小値を求めてください。

$ \displaystyle\ \left(\max_{i\ \in\ S}\ A_i\right)\ \times\ \left(\sum_{i\ \in\ S}\ B_i\right) $ 

$ T $ 個のテストケースが与えられるので、それぞれに対して答えを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。ここで $ \mathrm{case}_i $ は $ i $ 番目のテストケースを意味する。

> $ T $ $ \mathrm{case}_1 $ $ \mathrm{case}_2 $ $ \vdots $ $ \mathrm{case}_T $

各テストケースは以下の形式で与えられる。

> $ N $ $ K $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $ $ B_1 $ $ B_2 $ $ \dots $ $ B_N $

## 输出格式

$ T $ 行出力せよ。$ i $ 行目には $ i $ 番目のテストケースの答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ K\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ A_i,\ B_i\ \leq\ 10^6 $
- 全てのテストケースに対する $ N $ の総和は $ 2\ \times\ 10^5 $ 以下
- 入力される値は全て整数

### Sample Explanation 1

$ 1 $ 番目のテストケースでは、$ S\ =\ \lbrace\ 2,\ 3\ \rbrace $ を選ぶと式の値が $ 7\ \times\ (2\ +\ 4)\ =\ 42 $ になり、これが最小です。

## 样例 #1

### 输入

```
3
3 2
3 7 6
9 2 4
5 3
6 4 1 5 9
8 6 5 1 7
10 6
61 95 61 57 69 49 46 47 14 43
39 79 48 92 90 76 30 16 30 94
```

### 输出

```
42
60
14579
```



---

---
title: "[ABC379C] Sowing Stones"
layout: "post"
diff: 普及/提高-
pid: AT_abc379_c
tag: ['数学', '贪心']
---

# [ABC379C] Sowing Stones

## 题目描述

给你两个数 $n$，$m$。

表示现在有 $n$ 个格子，再给你 $m$ 组数据，表示在第 $X_i$ 个格子上有 $A_i$ 个石头。

有以下操作（可以不移动）。

- 对于第 $i$ 个格子，如果这个格子上有石头 ，可以将这个格子的一个石头移动到第 $i+1$ 个格子上。

求使得每个格子上恰好有一个石头的最小移动次数，如果无法满足条件输出 $-1$。


- 第一行：$N$ $M$ 

- 第二行：$X_1$ $X_2$ $\ldots$ $X_M$

- 第三行：$A_1$ $A_2$ $\ldots$ $A_M$

## 输出格式

第一行一个数，表示移动的最少次数或报告 $-1$。

## 样例 #1

### 样例输入 #1

```
5 2
1 4
3 2
```

### 样例输出 #1

```
4
```

## 样例 #2

### 样例输入 #2

```
10 3
1 4 8
4 2 4
```

### 样例输出 #2

```
-1
```

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 2\ \times\ 10^{9} $
- $ 1\ \leq\ M\ \leq\ 2\ \times\ 10^{5} $
- $ M\ \leq\ N $
- $ 1\ \leq\ X_i\ \leq\ N $ $ (1\ \leq\ i\ \leq\ M) $
- $ X_i\ \neq\ X_j $ $ (1\ \leq\ i\ <\ j\ \leq\ M) $
- $ 1\ \leq\ A_i\ \leq\ 2\ \times\ 10^{9} $ $ (1\ \leq\ i\ \leq\ M) $
- 输入为整数
 
### Sample Explanation 1

可以通过如下 $4$ 次操作使条件满足，且没有比 $4$ 次更小的次数。

初始条件：第一个格子上有 $3$ 个石头，第四个格子上有 $2$ 个石头。

- 移动一个石头从格子 $1$ 到格子 $2$。

- 再移动一个石头从格子 $1$ 到格子 $2$。 

- 移动一个石头从格子 $2$ 到格子 $3$。

- 移动一个石头从格子 $4$ 到格子 $5$。

操作完成后每个格子上都有一个石头。

### Sample Explanation 2

这个数据中无论如何移动一定无法使每个格子上有一个石头。

## 样例 #1

### 输入

```
5 2

1 4

3 2
```

### 输出

```
4
```

## 样例 #2

### 输入

```
10 3

1 4 8

4 2 4
```

### 输出

```
-1
```



---

---
title: "[ABC384E] Takahashi is Slime 2"
layout: "post"
diff: 普及/提高-
pid: AT_abc384_e
tag: ['贪心', '广度优先搜索 BFS', '优先队列']
---

# [ABC384E] Takahashi is Slime 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc384/tasks/abc384_e

縦 $ H $ 行横 $ W $ 列のマス目があります。 上から $ i $ 行目 $ (1\leq\ i\leq\ H) $、左から $ j $ 列目 $ (1\leq\ j\leq\ W) $ のマスをマス $ (i,j) $ と呼ぶことにします。

はじめ、マス $ (i,j) $ には強さ $ S\ _\ {i,j} $ のスライムがおり、マス $ (P,Q) $ にいるスライムが高橋くんです。

高橋くんが以下の行動を好きな回数（$ 0 $ 回でもよい）行ったあとの、高橋くんの強さとしてありえる最大値を求めてください。

- 高橋くんに隣接するスライムのうち、強さが高橋くんの強さの $ \dfrac1X $ 倍**未満**のものを選んで吸収する。 その結果、吸収されたスライムは消滅し、高橋君の強さは吸収したスライムの強さだけ増加する。
 
上記の行動の際、スライムが吸収され消滅したことで生じた隙間は直ちに高橋くんによって埋められ、消滅したスライムに隣接していたスライム（それらが存在すれば）は新たに高橋くんと隣接します（入出力例１の説明も参照してください）。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ H $ $ W $ $ X $
>
>$ P $ $ Q $
>
>$ S_{1,1} $ $ S_{1,2} $ $ \ldots $ $ S_{1,W} $
>
> $ S_{2,1} $ $ S_{2,2} $ $ \ldots $ $ S_{2,W} $
>
> $ \vdots $
>
>$ S_{H,1} $ $ S_{H,2} $ $ \ldots $ $ S_{H,W} $

## 输出格式

高橋くんが行動を行ったあとの高橋くんの強さとしてありえる最大値を出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ H,W\leq500 $
- $ 1\leq\ P\leq\ H $
- $ 1\leq\ Q\leq\ W $
- $ 1\leq\ X\leq10^9 $
- $ 1\leq\ S_{i,j}\leq10^{12} $
- 入力はすべて整数
 
### Sample Explanation 1

はじめ、それぞれのマスにいるスライムの強さは以下の図のようになっています。 
![](https://img.atcoder.jp/abc384/6b3d3bbde4767c7f5070ad0b1f202043.png) 例えば、高橋くんは次のように行動を行うことができます。 
![](https://img.atcoder.jp/abc384/81c0ccdba241277bf0cdd16ae6a7c54d.png) - マス $ (2,1) $ にいるスライムを吸収する。高橋くんの強さは $ 9+4=13 $ となり、新たにマス $ (1,1) $ のスライムとマス $ (3,1) $ のスライムが高橋くんと隣接する。 - マス $ (1,2) $ にいるスライムを吸収する。高橋くんの強さは $ 13+6=19 $ となり、新たにマス $ (1,3) $ のスライムが高橋くんと隣接する。 - マス $ (1,3) $ にいるスライムを吸収する。高橋くんの強さは $ 19+9=28 $ となる。 以上の行動を行ったあと、高橋くんの強さは $ 28 $ となります。 高橋くんがどのように行動を行っても、高橋くんの強さを $ 28 $ より大きくすることはできないため、`28` を出力してください。 高橋くんの強さの $ \dfrac12 $ 倍未満のスライムしか吸収できないことに注意してください。 例えば、上図の右側の状態からマス $ (1,1) $ にいるスライムを吸収することはできません。

### Sample Explanation 2

高橋くんはどのスライムも吸収できません。

## 样例 #1

### 输入

```
3 3 2

2 2

14 6 9

4 9 20

17 15 7
```

### 输出

```
28
```

## 样例 #2

### 输入

```
3 4 1

1 1

5 10 1 1

10 1 1 1

1 1 1 1
```

### 输出

```
5
```

## 样例 #3

### 输入

```
8 10 2

1 5

388 130 971 202 487 924 247 286 237 316

117 166 918 106 336 928 493 391 235 398

124 280 425 955 212 988 227 222 307 226

336 302 478 246 950 368 291 236 170 101

370 200 204 141 287 410 388 314 205 460

291 104 348 337 404 399 416 263 415 339

105 420 302 334 231 481 466 366 401 452

119 432 292 403 371 417 351 231 482 184
```

### 输出

```
1343
```



---

---
title: "[ABC386D] Diagonal Separation"
layout: "post"
diff: 普及/提高-
pid: AT_abc386_d
tag: ['贪心', '排序']
---

# [ABC386D] Diagonal Separation

## 题目描述

有一个 $N \times N$ 的网格，高桥君希望将每个格子涂成黑色或白色，并满足以下条件：

- 对于每一行，存在一个整数 $i$（$0 \leq i \leq N$），该行从左到右的前 $i$ 个格子是黑色，其余的为白色。
- 对于每一列，存在一个整数 $i$（$0 \leq i \leq N$），该列从上到下的前 $i$ 个格子是黑色，其余的为白色。

目前已有 $M$ 个格子被涂上了颜色。具体来说，第 $i$ 个被涂色的格子位于第 $X_i$ 行、第 $Y_i$ 列。如果 $C_i$ 为 `B`，表示该格子已经被涂黑；如果 $C_i` 为 `W`，则表示该格子已经被涂白。

请判断剩下的 $N^2 - M$ 个格子是否可以通过适当选择颜色来满足上述所有条件。

## 输入格式

输入数据从标准输入获取，格式如下：

> $N$ $M$  
> $X_1$ $Y_1$ $C_1$  
> $\cdots$  
> $X_M$ $Y_M$ $C_M$

## 输出格式

如果可以满足条件，请输出 `Yes`；否则，请输出 `No`。

## 说明/提示

- $1 \leq N \leq 10^9$
- $1 \leq M \leq \min(N^2, 2 \times 10^5)$
- $1 \leq X_i, Y_i \leq N$
- 任意两个不同的 $i$，$(X_i, Y_i) \neq (X_j, Y_j)$
- $C_i$ 为 `B` 或 `W`

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
4 3

4 1 B

3 2 W

1 3 B
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
2 2

1 2 W

2 2 B
```

### 输出

```
No
```

## 样例 #3

### 输入

```
1 1

1 1 W
```

### 输出

```
Yes
```

## 样例 #4

### 输入

```
2289 10

1700 1083 W

528 967 B

1789 211 W

518 1708 W

1036 779 B

136 657 B

759 1497 B

902 1309 B

1814 712 B

936 763 B
```

### 输出

```
No
```



---

---
title: "[ABC393D] Swap to Gather"
layout: "post"
diff: 普及/提高-
pid: AT_abc393_d
tag: ['数学', '贪心']
---

# [ABC393D] Swap to Gather

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc393/tasks/abc393_d

给定一个由 `0` 和 `1` 组成的长度为 $ N $ 的字符串 $ S $。保证 $ S $ 中至少包含一个 `1`。

你可以重复以下操作任意次数（包括零次）：

- 选择一个满足 $ 1 \leq i \leq N-1 $ 的整数 $ i $，交换 $ S $ 的第 $ i $ 个字符和第 $ i+1 $ 个字符。

求使所有 `1` 聚集在一起所需的最小操作次数。

这里，所有 `1` 聚集在一起的定义是：存在整数 $ l, r \ (1 \leq l \leq r \leq N) $，使得对于 $ S $ 的第 $ i $ 个字符，当且仅当 $ l \leq i \leq r $ 时为 `1`，否则为 `0`。

## 输入格式

输入通过标准输入给出，格式如下：

> $ N $  
> $ S $

## 输出格式

输出答案。

## 说明/提示

### 约束条件

- $ 2 \leq N \leq 5 \times 10^5 $
- $ N $ 为整数
- $ S $ 是由 `0` 和 `1` 组成的长度为 $ N $ 的字符串
- $ S $ 中至少包含一个 `1`

### 样例解释 1

例如，按以下步骤进行 $ 3 $ 次操作后，所有 `1` 将聚集在一起：
- 选择 $ i=2 $，交换 $ S $ 的第 $ 2 $ 和第 $ 3 $ 个字符，此时 $ S= $ `0011001`；
- 选择 $ i=6 $，交换 $ S $ 的第 $ 6 $ 和第 $ 7 $ 个字符，此时 $ S= $ `0011010`；
- 选择 $ i=5 $，交换 $ S $ 的第 $ 5 $ 和第 $ 6 $ 个字符，此时 $ S= $ `0011100`。  
由于无法在 $ 2 $ 次或更少操作内完成，因此答案为 $ 3 $。

### 样例解释 2

所有 `1` 已经聚集在一起，因此无需任何操作。

翻译由 DeepSeek R1 完成

## 样例 #1

### 输入

```
7

0101001
```

### 输出

```
3
```

## 样例 #2

### 输入

```
3

100
```

### 输出

```
0
```

## 样例 #3

### 输入

```
10

0101001001
```

### 输出

```
7
```



---

---
title: "[ABC399D] Switch Seats"
layout: "post"
diff: 普及/提高-
pid: AT_abc399_d
tag: ['贪心']
---

# [ABC399D] Switch Seats

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc399/tasks/abc399_d

$N$ 组数字对（称为“情侣对”）排成一列。  
请统计满足以下所有条件的 **两对不同的情侣对** $(a, b)$ 的组数：

1. 在原序列中，$a$ 的两个出现位置不邻接。
2. 在原序列中，$b$ 的两个出现位置不邻接。
3. 通过执行以下操作（次数不限），可以使 $a$ 的两个出现位置邻接，同时 $b$ 的两个出现位置也邻接：
   - 选择两个位置 $(i, j)$ 满足 $A_i = a$ 且 $A_j = b$，并交换这两个位置的值。

给定一个长度为 $2N$ 的序列 $A = (A_1, A_2, \dots, A_{2N})$，其中每个 $1, 2, \dots, N$ 恰好出现两次。  
对于 $T$ 个测试用例，分别输出答案。

## 输入格式

输入通过标准输入给出，格式如下：

> $T$  
> $\mathrm{case}_1$  
> $\mathrm{case}_2$  
> $\vdots$  
> $\mathrm{case}_T$

每个测试用例的格式为：

> $N$ $A_1$ $A_2$ $\dots$ $A_{2N}$

## 输出格式

输出 $T$ 行，每行对应一个测试用例的答案。

## 说明/提示

### 约束条件

- $1 \leq T \leq 2 \times 10^5$
- $1 \leq N \leq 2 \times 10^5$
- $1 \leq A_i \leq N$
- 每个 $1, 2, \dots, N$ 在 $A$ 中恰好出现两次
- 所有测试用例的 $N$ 总和不超过 $2 \times 10^5$
- 输入值均为整数

### 样例解释 1

考虑第一个测试用例 $(a, b) = (1, 2)$：
- 原序列中 $1$ 的两个出现位置不邻接。
- 原序列中 $2$ 的两个出现位置不邻接。
- 选择 $(i, j) = (1, 6)$ 交换 $A_1$ 和 $A_6$ 后，$1$ 的两个位置邻接，$2$ 的两个位置也邻接。  
因此满足条件的二元组 $(a, b)$ 仅有 $(1, 2)$ 这一组。

翻译由 DeepSeek R1 完成

## 样例 #1

### 输入

```
3
3
1 2 3 3 1 2
4
1 1 2 2 3 3 4 4
5
1 2 3 4 5 1 2 3 4 5
```

### 输出

```
1
0
4
```



---

---
title: "[ABC401D] Logical Filling"
layout: "post"
diff: 普及/提高-
pid: AT_abc401_d
tag: ['贪心', '分类讨论']
---

# [ABC401D] Logical Filling

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc401/tasks/abc401_d

给定一个长度为 $N$ 的字符串 $S$，仅由 `.`、`o` 和 `?` 组成。将所有 `?` 分别替换为 `.` 或 `o` 后得到的字符串中，满足以下所有条件的字符串集合记为 $X$：

- `o` 的个数恰好为 $K$ 个
- `o` 不连续出现

保证 $X$ 不是空集。

请输出满足以下条件且长度为 $N$ 的字符串 $T$（其中 $T_i$ 表示 $T$ 的第 $i$ 个字符）：

- 若 $X$ 中所有字符串的第 $i$ 个字符都是 `.`，则 $T_i =$ `.`
- 若 $X$ 中所有字符串的第 $i$ 个字符都是 `o`，则 $T_i =$ `o`
- 若 $X$ 中既存在第 $i$ 个字符为 `.` 的字符串，也存在第 $i$ 个字符为 `o` 的字符串，则 $T_i =$ `?`

## 输入格式

输入通过标准输入给出，格式如下：

> $N$ $K$
>
> $S$

## 输出格式

输出答案字符串 $T$。


## 说明/提示

### 约束条件

- $1 \leq N \leq 2 \times 10^5$
- $0 \leq K$
- $S$ 是仅由 `.`、`o` 和 `?` 组成的长度为 $N$ 的字符串
- $X$ 不是空集
- 输入的所有数值均为整数

### 样例解释 1

$X$ 包含两个字符串 `o.o.` 和 `o..o`。由于 $X$ 中所有字符串的第 1 个字符都是 `o`，所以 $T_1 =$ `o`。$X$ 中所有字符串的第 2 个字符都是 `.`，所以 $T_2 =$ `.`。$X$ 中既有第 3 个字符为 `.` 的字符串，也有为 `o` 的字符串，因此 $T_3 =$ `?`。

翻译由 DeepSeek V3 完成

## 样例 #1

### 输入

```
4 2

o???
```

### 输出

```
o.??
```

## 样例 #2

### 输入

```
5 2

?????
```

### 输出

```
?????
```

## 样例 #3

### 输入

```
7 3

.o???o.
```

### 输出

```
.o.o.o.
```



---

---
title: "[ABC404E] Bowls and Beans"
layout: "post"
diff: 普及/提高-
pid: AT_abc404_e
tag: ['贪心']
---

# [ABC404E] Bowls and Beans

## 题目描述

你有 $N$ 个茶碗，它们排成一排，从左往右依次编号 $0,1,\cdots,N-1$。

对于 $1$ 号碗和它右边的碗，$i$ 号碗上面写有一个数字 $C_i$，里面装有 $A_i$ 颗豆子；$0$ 号碗上面没有数字，碗里没有豆子。

你将执行以下操作若干次：
- 选择一个带有数字的、装有豆子的碗 $i$，拿走其中的一部分豆子（可以全拿）；
- 将你拿出的豆子任意放入 $i-C_i,i-C_i+1,\cdots,i-1$ 号碗中，你放入的豆子数总和要等于你从 $i$ 号碗中拿出的豆子数。

请你求出让所有豆子都被放入 $0$ 号碗的最小操作次数。

## 输入格式

第一行一个整数 $N(1\le N\le 2000)$。\
第二行 $N-1$ 个整数 $C_1,C_2,\cdots,C_{N-1}(1\le C_i\le i)$。\
第三行 $N-1$ 个整数 $A_1,A_2,\cdots,A_{N-1}(0\le A_i\le 1)$。

保证 $\sum\limits_{i=1}^{N-1}A_i>0$，即不会出现所有碗里都没有豆子的情况。

## 输出格式

输出一个整数表示答案。

## 说明/提示

**样例 1 解释**

以下是一种可能的操作序列：
- 从 $4$ 号碗里拿出 $1$ 颗豆子，将其放入 $3$ 号碗；
- 从 $3$ 号碗里拿出 $1$ 颗豆子，将其放入 $1$ 号碗；
- 从 $1$ 号碗里拿出 $2$ 颗豆子，将其放入 $0$ 号碗。

花费 $3$ 次操作完成了题目的要求。可以证明这是可能的最小操作次数。

**样例 2 解释**

以下是一种可能的操作序列：
- 从 $5$ 号碗里拿出 $1$ 颗豆子，将其放入 $4$ 号碗；
- 从 $4$ 号碗里拿出 $2$ 颗豆子，$1$ 颗放入 $1$ 号碗，$1$ 颗放入 $2$ 号碗；
- 从 $1$ 号碗里拿出 $2$ 颗豆子，将其放入 $0$ 号碗；
- 从 $2$ 号碗里拿出 $2$ 颗豆子，将其放入 $0$ 号碗。

花费 $4$ 次操作完成了题目的要求。可以证明这是可能的最小操作次数。

By chenxi2009

## 样例 #1

### 输入

```
5

1 1 2 1

1 0 0 1
```

### 输出

```
3
```

## 样例 #2

### 输入

```
6

1 2 1 3 1

1 1 0 1 1
```

### 输出

```
4
```

## 样例 #3

### 输入

```
16

1 1 1 2 5 1 1 3 4 1 4 3 1 1 2

1 0 0 0 1 0 0 1 1 0 0 0 0 0 1
```

### 输出

```
7
```



---

---
title: "茶碗和豆子"
layout: "post"
diff: 普及/提高-
pid: AT_abc404_e
tag: ['贪心']
---

# 茶碗和豆子

## 题目描述

你有 $N$ 个茶碗，它们排成一排，从左往右依次编号 $0,1,\cdots,N-1$。

对于 $1$ 号碗和它右边的碗，$i$ 号碗上面写有一个数字 $C_i$，里面装有 $A_i$ 颗豆子；$0$ 号碗上面没有数字，碗里没有豆子。

你将执行以下操作若干次：
- 选择一个带有数字的、装有豆子的碗 $i$，拿走其中的一部分豆子（可以全拿）；
- 将你拿出的豆子任意放入 $i-C_i,i-C_i+1,\cdots,i-1$ 号碗中，你放入的豆子数总和要等于你从 $i$ 号碗中拿出的豆子数。

请你求出让所有豆子都被放入 $0$ 号碗的最小操作次数。

## 输入格式

第一行一个整数 $N(1\le N\le 2000)$。\
第二行 $N-1$ 个整数 $C_1,C_2,\cdots,C_{N-1}(1\le C_i\le i)$。\
第三行 $N-1$ 个整数 $A_1,A_2,\cdots,A_{N-1}(0\le A_i\le 1)$。

保证 $\sum\limits_{i=1}^{N-1}A_i>0$，即不会出现所有碗里都没有豆子的情况。

## 输出格式

输出一个整数表示答案。

## 说明/提示

**样例 1 解释**

以下是一种可能的操作序列：
- 从 $4$ 号碗里拿出 $1$ 颗豆子，将其放入 $3$ 号碗；
- 从 $3$ 号碗里拿出 $1$ 颗豆子，将其放入 $1$ 号碗；
- 从 $1$ 号碗里拿出 $2$ 颗豆子，将其放入 $0$ 号碗。

花费 $3$ 次操作完成了题目的要求。可以证明这是可能的最小操作次数。

**样例 2 解释**

以下是一种可能的操作序列：
- 从 $5$ 号碗里拿出 $1$ 颗豆子，将其放入 $4$ 号碗；
- 从 $4$ 号碗里拿出 $2$ 颗豆子，$1$ 颗放入 $1$ 号碗，$1$ 颗放入 $2$ 号碗；
- 从 $1$ 号碗里拿出 $2$ 颗豆子，将其放入 $0$ 号碗；
- 从 $2$ 号碗里拿出 $2$ 颗豆子，将其放入 $0$ 号碗。

花费 $4$ 次操作完成了题目的要求。可以证明这是可能的最小操作次数。

By chenxi2009

## 样例 #1

### 输入

```
5

1 1 2 1

1 0 0 1
```

### 输出

```
3
```

## 样例 #2

### 输入

```
6

1 2 1 3 1

1 1 0 1 1
```

### 输出

```
4
```

## 样例 #3

### 输入

```
16

1 1 1 2 5 1 1 3 4 1 4 3 1 1 2

1 0 0 0 1 0 0 1 1 0 0 0 0 0 1
```

### 输出

```
7
```



---

---
title: "[ABC408D] Flip to Gather"
layout: "post"
diff: 普及/提高-
pid: AT_abc408_d
tag: ['动态规划 DP', '贪心']
---

# [ABC408D] Flip to Gather

## 题目描述

给你一个长度为 $N$ 的、由 $0$ 和 $1$ 构成的字符串 $S$。

你可以执行以下操作若干次：
- 选择一个整数 $1\le i\le N$，$S_i\leftarrow 1-S_i$。

你的目标是让 $S$ 中的 $1$ 连续或 $S$ 中不存在 $1$。请找出需要的最小的操作次数。

多组数据。

## 输入格式

多组数据。第一行一个整数 $T(1\le T\le 2\times 10^4)$，表示数据组数。

对于每组数据：\
第一行一个整数 $N(1\le N\le 2\times 10^5)$。\
第二行一个长为 $N$ 的字符串 $S$。$S$ 由 $0$ 和 $1$ 构成。

保证单个测试点中 $\sum N\le 2\times 10^5$。

## 输出格式

对于每组数据，输出一行一个整数表示答案。

## 说明/提示

**样例 1 解释**

对于第一组数据，我们选择 $i=1$ 进行一次操作即可。

第二、三组数据不需要执行任何操作。

By @[chenxi2009](/user/1020063)

## 样例 #1

### 输入

```
3
5
10011
10
1111111111
7
0000000
```

### 输出

```
1
0
0
```

## 样例 #2

### 输入

```
5
2
01
10
1000010011
12
111100010011
3
111
8
00010101
```

### 输出

```
0
2
3
0
2
```



---

---
title: "[ABC408E] Minimum OR Path"
layout: "post"
diff: 普及/提高-
pid: AT_abc408_e
tag: ['搜索', '贪心', '并查集']
---

# [ABC408E] Minimum OR Path

## 题目描述

给定一个连通无向图，该图有 $N$ 个顶点和 $M$ 条边，且无自环，顶点编号从 $1$ 到 $N$，边编号从 $1$ 到 $M$。边 $i$ 双向连接顶点 $u_i$ 和 $v_i$，其边权为 $w_i$。

在从顶点 $1$ 到顶点 $N$ 的简单路径（即不会多次访问同一顶点的路径）中，求出该路径中所有边的权值的按位 $\mathrm{OR}$ 的最小可能值。

什么是按位 $\mathrm{OR}$ 运算？

非负整数 $A$ 和 $B$ 的按位 $\mathrm{OR}$，即 $A\ \mathrm{OR}\ B$，定义如下：

- 如果 $A$ 和 $B$ 的二进制表示中 $2^k$ 位至少有一位为 $1$，则 $A\ \mathrm{OR}\ B$ 的二进制表示中 $2^k(k \geq 0)$ 位上的数字为 $1$，否则为 $0$。

例如，$3\ \mathrm{OR}\ 5 = 7$（二进制表示为：$011\ \mathrm{OR}\ 101 = 111$）。
一般而言，$k$ 个非负整数 $p_1, p_2, p_3, \dots, p_k$的按位 $\mathrm{OR}$ 定义为 $(\dots ((p_1\ \mathrm{OR}\ p_2)\ \mathrm{OR}\ p_3)\ \mathrm{OR}\ \dots\ \mathrm{OR}\ p_k)$，并且可以证明这与 $p_1, p_2, p_3, \dots p_k$ 的顺序无关。

## 输入格式

输入来自标准输入，格式如下：

- 第一行两个整数 $N,M$。
- 接下来 $M$ 行每行三个整数，分别表示 $u_i,v_i,w_i$。

## 输出格式

输出一行一个整数表示答案。

## 说明/提示

### 约束

- $2\le N\le 2×10^5$
- $N-1\le M\le 2×10^5$
- $1\le u_i\le v_i\le N$
- $0\le w_i\le2^{30}$
- 给定图为连通图。
- 所有输入值均为整数。

### 样例 1 提示：

按顺序遍历边 $1,3,5$，并按顺序访问顶点 $1,2,3,4$，最终的按位 $\mathrm{OR}$ 为 $1\ \mathrm{OR}\ 2\ \mathrm{OR}\ 3=3$。

不可能使按位 $\mathrm{OR}$ 小于 $3$，因此输出 $3$。

### 样例 2 提示：

该图可能包含重边。

## 样例 #1

### 输入

```
4 5

1 2 1

1 3 4

2 3 2

2 4 4

3 4 3
```

### 输出

```
3
```

## 样例 #2

### 输入

```
3 5

1 2 1

1 2 2

1 2 3

1 2 4

2 3 4
```

### 输出

```
4
```

## 样例 #3

### 输入

```
8 12

4 5 16691344

5 7 129642441

2 7 789275447

3 8 335307651

3 5 530163333

5 6 811293773

3 8 333712701

1 2 2909941

2 3 160265478

5 7 465414272

1 3 903373004

6 7 408299562
```

### 输出

```
468549631
```



---

---
title: "[AGC032A] Limited Insertion"
layout: "post"
diff: 普及/提高-
pid: AT_agc032_a
tag: ['贪心']
---

# [AGC032A] Limited Insertion

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc032/tasks/agc032_a

すぬけ君は空の数列 $ a $ を持っています。

すぬけ君は $ a $ に対して $ N $ 回操作を行います。

$ i $ 回目の操作では $ 1\ \leq\ j\ \leq\ i $ を満たす整数 $ j $ を選び、$ a $ の先頭から $ j $ 番目に $ j $ を挿入することができます。

長さ $ N $ の数列 $ b $ が与えられます。$ N $ 回の操作後に $ a $ が $ b $ と一致することがあるかどうかを判定し、可能ならばそれを達成する操作手順の一例を示してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ b_1 $ $ \dots $ $ b_N $

## 输出格式

$ N $ 回の操作後に $ a $ と $ b $ が一致するような操作手順が存在しないならば `-1` を出力せよ。 存在するならば操作手順を $ N $ 行に出力せよ。$ i $ 行目では $ i $ 回目の操作で選んだ整数を出力せよ。考えられる操作手順が複数存在する場合は、そのうちのどれを出力してもよい。

## 说明/提示

### 制約

- 入力は全て整数である。
- $ 1\ \leq\ N\ \leq\ 100 $
- $ 1\ \leq\ b_i\ \leq\ N $

### Sample Explanation 1

\- 各操作後、$ a $ は以下のように変化します。 - $ 1 $ 回目の操作後:$ (1) $ - $ 2 $ 回目の操作後:$ (1,1) $ - $ 3 $ 回目の操作後:$ (1,2,1) $

### Sample Explanation 2

\- 数列の先頭に $ 2 $ を挿入することはできないため、達成不可能です。

## 样例 #1

### 输入

```
3

1 2 1
```

### 输出

```
1

1

2
```

## 样例 #2

### 输入

```
2

2 2
```

### 输出

```
-1
```

## 样例 #3

### 输入

```
9

1 1 1 2 2 1 2 3 2
```

### 输出

```
1

2

2

3

1

2

2

1

1
```



---

---
title: "[AGC033B] LRUD Game"
layout: "post"
diff: 普及/提高-
pid: AT_agc033_b
tag: ['贪心', '博弈论']
---

# [AGC033B] LRUD Game

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc033/tasks/agc033_b

縦 $ H $ 行、横 $ W $ 列の長方形上のマス目があります。上から $ i $ 行目、左から $ j $ 列目のマスを $ (i,j) $ と表します。 このマス目の上には一つの駒が置いてあり、最初はマス $ (s_r,s_c) $ に置いてあります。

高橋君と青木君はそれぞれ長さ $ N $ の文字列を用意してゲームをすることにしました。 高橋君は文字列 $ S $ を、青木君は文字列 $ T $ を用意し、$ S $ と $ T $ はともに `L`, `R`, `U`, `D` の $ 4 $ 種類の文字からなります。

ゲームは $ N $ 回のステップからなります。$ i $ 回目のステップは以下のように進行します。

- まず高橋君が操作を行う。この操作では、駒を $ S_i $ の方向に動かす、もしくは、駒を動かさないかのいずれかを行う。
- 次に青木君が操作を行う。この操作では、駒を $ T_i $ の方向に動かす、もしくは、駒を動かさないかのいずれかを行う。

ここで、駒を `L`, `R`, `U`, `D` の方向に動かすとは、駒がマス $ (r,c) $ にあったとき、 それぞれマス $ (r,c-1) $, $ (r,c+1) $, $ (r-1,c) $, $ (r+1,c) $ に動かす操作を指します。 ただし、その座標に対応するマスが存在しない場合は、駒をマス目から取り除く操作を指すことにします。 この操作が行われた場合、$ N $ 回のステップが終わっていなくても、その時点でゲームは終了します。

高橋君は $ N $ 回のステップのいずれかのステップで駒をマス目から取り除きたいです。 一方で、青木君は最終的に駒がマス目上に残ったまま、$ N $ 回のステップを終えたいです。 二人が最適に行動したとき、ゲームが終了した時点で駒がマス目上に残っているかどうかを判定してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ H $ $ W $ $ N $ $ s_r $ $ s_c $ $ S $ $ T $

## 输出格式

ゲームが終了した時点で駒がマス目上に残っているならば `YES` を、 そうでないならば `NO` と出力せよ。

## 说明/提示

### 制約

- $ 2\ ≦\ H,W\ ≦\ 2\ \times\ 10^5 $
- $ 2\ ≦\ N\ ≦\ 2\ \times\ 10^5 $
- $ 1\ ≦\ s_r\ ≦\ H $
- $ 1\ ≦\ s_c\ ≦\ W $
- $ |S|=|T|=N $
- $ S $ と $ T $ は `L`, `R`, `U`, `D` の $ 4 $ 種類の文字からなる。

### Sample Explanation 1

ゲームは例えば以下のように進行します。 - 高橋君が駒を右に動かし、駒は $ (2,3) $ に移動する。 - 青木君が駒を左に動かし、駒は $ (2,2) $ に移動する。 - 高橋君は駒を動かさず、駒の位置は $ (2,2) $ のままとなる。 - 青木君は駒を上に動かし、駒は $ (1,2) $ に移動する。 - 高橋君は駒を左に動かし、駒は $ (1,1) $ に移動する。 - 青木君は駒を動かさず、駒の位置は $ (1,1) $ のままとなる。

## 样例 #1

### 输入

```
2 3 3

2 2

RRL

LUD
```

### 输出

```
YES
```

## 样例 #2

### 输入

```
4 3 5

2 2

UDRRR

LLDUD
```

### 输出

```
NO
```

## 样例 #3

### 输入

```
5 6 11

2 1

RLDRRUDDLRL

URRDRLLDLRD
```

### 输出

```
NO
```



---

---
title: "[AGC048A] atcoder < S"
layout: "post"
diff: 普及/提高-
pid: AT_agc048_a
tag: ['贪心']
---

# [AGC048A] atcoder < S

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc048/tasks/agc048_a

英小文字からなる文字列 $ S $ が与えられます． すぬけくんは，$ S $ の**隣り合う** $ 2 $ 文字をスワップするという操作を行うことができます． 例えば，$ S= $`agc` なら，$ 1 $ 回の操作で，$ S $ を `gac` (`a` と `g` をスワップ) もしくは `acg` (`g` と `c` をスワップ) に変換できます．

すぬけくんはこの操作を $ 0 $ 回以上繰り返し， 辞書順で `atcoder` $ <\ S $ となるようにしたいです．

 辞書順で $ x&amp;lt\ y $ の定義 文字列 $ x,y $ が辞書順で $ x&amp;lt\ y $ であるとは，以下のうちいずれかの条件を満たすことを意味します．

- ある整数 $ i $ ($ 1\ \leq\ i\ \leq\ \mathrm{min}(|x|,|y|) $) が存在して，$ x,y $ は先頭の $ i-1 $ 文字が一致しており，かつ， $ x $ の $ i $ 文字目は $ y $ の $ i $ 文字目よりアルファベット順で真に小さい．
- $ |x|&amp;lt\ |y| $ であり，$ y $ の先頭の $ |x| $ 文字は $ x $ と等しい．

目標が達成可能かどうか判定し，可能な場合は必要な操作回数の最小値を求めてください．

$ 1 $ つの入力ファイルにつき，$ T $ 個のテストケースを解いてください．

## 输入格式

入力は以下の形式で標準入力から与えられる． 入力の $ 1 $ 行目は以下のとおりである．

> $ T $

そして，$ T $ 個のテストケースが続く． これらはそれぞれ以下の形式で与えられる．

> $ S $

## 输出格式

各テストケースについて，目標が達成不可能な場合は $ -1 $，可能な場合は必要な操作回数の最小値を出力せよ． 各テストケースごとに改行せよ．

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 100 $
- $ 1\ \leq\ |S|\ \leq\ 1000 $
- $ S $ は英小文字からなる文字列．

### Sample Explanation 1

\- $ 1 $ 番目のテストケース: 例えば，末尾の $ 2 $ 文字をスワップすることで，$ S= $`atcodere` $ > $ `atcoder` となります． - $ 2 $ 番目のテストケース: 操作を行うまでもなく，$ S= $`codeforces` $ > $ `atcoder` です． - $ 3 $ 番目のテストケース: どのように操作を行っても $ S\ > $ `atcoder` にはなりません．

## 样例 #1

### 输入

```
3

atcodeer

codeforces

aaa
```

### 输出

```
1

0

-1
```



---

---
title: "[AGC049B] Flip Digits"
layout: "post"
diff: 普及/提高-
pid: AT_agc049_b
tag: ['贪心']
---

# [AGC049B] Flip Digits

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc049/tasks/agc049_b

`0` と `1` からなる長さ $ N $ の文字列 $ S $ 及び $ T $ が与えられます． あなたは，$ S $ に以下の操作を好きな回数行うことができます．

- $ S_i= $`1` となる $ i $ ($ 2\ \leq\ i\ \leq\ N $) を選ぶ． そして，$ S_i $ を `0` で置き換える． さらに，$ S_{i-1} $ を今と異なる文字へ変更する．つまり，操作の直前で $ S_{i-1} $ が `0` であれば `1` に，`1` であれば `0` に変更する．

$ S $ を $ T $ に一致させることは可能でしょうか？ また可能な場合は，そのために必要な最小の操作回数はいくらでしょうか？

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ S $ $ T $

## 输出格式

$ S $ を $ T $ に一致させることが可能な場合，必要な最小の操作回数を出力せよ． 不可能な場合，$ -1 $ を出力せよ．

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 5\ \times\ 10^5 $
- $ S $ は `0`,`1` からなる長さ $ N $ の文字列．
- $ T $ は `0`,`1` からなる長さ $ N $ の文字列．

### Sample Explanation 1

`001` → ($ i=3 $ で操作) → `010` → ($ i=2 $ で操作) → `100` とすればよいです．

## 样例 #1

### 输入

```
3

001

100
```

### 输出

```
2
```

## 样例 #2

### 输入

```
3

001

110
```

### 输出

```
-1
```

## 样例 #3

### 输入

```
5

10111

01010
```

### 输出

```
5
```



---

---
title: "[AGC058A] Make it Zigzag"
layout: "post"
diff: 普及/提高-
pid: AT_agc058_a
tag: ['贪心', '构造']
---

# [AGC058A] Make it Zigzag

## 题目描述

给定一个排列 $ P=(P_1,P_2,\cdots,P_{2N}) $，其中 $ (1,2,\cdots,2N) $。

你可以进行以下操作 $ 0 $ 到 $ N $ 次：

- 选择一个整数 $ x $ ($ 1\ \leq\ x\ \leq\ 2N-1 $)，交换 $ P_x $ 和 $ P_{x+1} $ 的值。

请找出一系列操作，使得操作后的 $ P $ 满足以下条件：

- 对于每个 $ i=1,3,5,\cdots,2N-1 $，$ P_i\ <\ P_{i+1} $。
- 对于每个 $ i=2,4,6,\cdots,2N-2 $，$ P_i\ >\ P_{i+1} $。

请输出满足条件的一系列操作，以以下形式输出：

> $ K $ $ x_1 $ $ x_2 $ $ \cdots $ $ x_K $

其中，$ K $ 表示操作次数 ($ 0\ \leq\ K\ \leq\ N $)，$ x_i $ ($ 1\ \leq\ x_i\ \leq\ 2N-1 $) 表示第 $ i $ 次操作选择的 $ x $ 的值。如果存在多个满足条件的解，任意输出一个即可。

## 输入格式

从标准输入中按以下格式给出输入：

> $ N $ $ P_1 $ $ P_2 $ $ \cdots $ $ P_{2N} $

## 输出格式

按以下格式输出操作序列：

> $ K $ $ x_1 $ $ x_2 $ $ \cdots $ $ x_K $

## 样例 #1

### 样例输入 #1

```
2
4 3 2 1
```

### 样例输出 #1

```
2
1 3
```

## 样例 #2

### 样例输入 #2

```
1
1 2
```

### 样例输出 #2

```
0
```

## 说明/提示

### 约束条件

- $ 1\ \leq\ N\ \leq\ 10^5 $
- $ (P_1,P_2,\cdots,P_{2N}) $ 是 $ (1,2,\cdots,{2N}) $ 的排列
- 输入的数值均为整数

### 样例解释 1

将 $ P=(4,3,2,1) $ 根据操作后，得到 $ P=(3,4,1,2)$，满足条件。

## 样例 #1

### 输入

```
2

4 3 2 1
```

### 输出

```
2

1 3
```

## 样例 #2

### 输入

```
1

1 2
```

### 输出

```
0
```



---

---
title: "[AGC062A] Right Side Character"
layout: "post"
diff: 普及/提高-
pid: AT_agc062_a
tag: ['贪心', '分类讨论']
---

# [AGC062A] Right Side Character

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc062/tasks/agc062_a

`A`,`B` のみからなる長さ $ n\ (2\leq\ n) $ の文字列 $ T=T_1T_2\dots\ T_n $ に対し、長さ $ n-1 $ の文字列 $ f(T) $ を以下のように定めます。

- $ T_i={} $`A` が成り立つ $ i\ (1\leq\ i\ \leq\ n-1) $ 全体を $ a_1\ <\ a_2\ <\ \dots\ <\ a_{m} $ とし、 $ T_i={} $`B` が成り立つ $ i\ (1\leq\ i\ \leq\ n-1) $ 全体を $ b_1\ <\ b_2\ <\ \dots\ <\ b_k $ とする。このとき、 $ f(T)=T_{a_1+1}T_{a_2+1}\dots\ T_{a_m+1}T_{b_1+1}T_{b_2+1}\dots\ T_{b_k+1} $ と定める。
 
例えば文字列 $ T={} $`ABBABA` について、$ T_i={} $`A` が成り立つ $ i\ (1\leq\ i\ \leq\ 5) $ 全体は $ i=1,4 $ , $ T_i={} $`B` が成り立つ $ i\ (1\leq\ i\ \leq\ 5) $ 全体は $ i=2,3,5 $ であるため、$ f(T) $ は $ T_{1+1}T_{4+1}T_{2+1}T_{3+1}T_{5+1}={} $`BBBAA` になります。

`A`,`B` のみからなる長さ $ N $ の文字列 $ S $ が与えられます。

$ S $ を $ f(S) $ で置き換えることを $ N-1 $ 回行った後の $ S $ を求めてください。

$ T $ 個のテストケースが与えられるので、それぞれについて答えを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられます。

> $ T $ $ \mathrm{case}_1 $ $ \vdots $ $ \mathrm{case}_T $

各ケースは以下の形式で与えられます。

> $ N $ $ S $

## 输出格式

$ T $ 行出力してください。$ i $ 行目には $ i $ 番目のテストケースに対する答えを出力してください。

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 10^5 $
- $ 2\ \leq\ N\ \leq\ 3\ \times\ 10^5 $
- $ S $ は `A`,`B` のみからなる長さ $ N $ の文字列
- 入力される数値はすべて整数
- $ 1 $ つの入力に含まれるテストケースについて、 $ N $ の総和は $ 3\ \times\ 10^5 $ 以下
 
### Sample Explanation 1

$ 1 $ つ目のテストケースについて、$ S $ は `AB`$ {}\rightarrow\ {} $`B` と変化します。 $ 2 $ つ目のテストケースについて、$ S $ は `AAA`$ {}\ \rightarrow\ {} $`AA`$ {}\ \rightarrow\ {} $`A` と変化します。 $ 3 $ つ目のテストケースについて、$ S $ は `ABAB`$ {}\rightarrow\ {} $`BBA`$ {}\ \rightarrow\ {} $`BA`$ {}\ \rightarrow\ {} $`A` と変化します。

## 样例 #1

### 输入

```
3

2

AB

3

AAA

4

ABAB
```

### 输出

```
B

A

A
```



---

---
title: "[AGC063A] Mex Game"
layout: "post"
diff: 普及/提高-
pid: AT_agc063_a
tag: ['贪心']
---

# [AGC063A] Mex Game

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc063/tasks/agc063_a

`A`, `B` からなる長さ $ N+1 $ の文字列 $ S\ =\ S_0\cdots\ S_N $ が与えられます． 各 $ k=1,\ \ldots,\ N $ に対して次の問題を解いてください：

> Alice と Bob が集合 $ X $ を使ってゲームをします．$ X $ ははじめ空集合で，$ t=1,\ldots,\ k $ の順に次の行動を行います．
> 
> - $ t $ が奇数ならば，Alice が非負整数 $ x $ を選び，$ X $ を $ X\cup\ \{x\} $ に置き換える．
> - $ t $ が偶数ならば，Bob が非負整数 $ x $ を選び，$ X $ を $ X\cup\ \{x\} $ に置き換える．
>  
> $ k $ 回すべての行動が終わった時点での $ \mathrm{mex}(X) $ を $ x $ とするとき，文字 $ S_x $ が `A` ならば Alice が，$ S_x $ が `B` ならば Bob が勝者となります．集合 $ X $ の要素数は $ k $ 以下であるため，$ x\ =\ \mathrm{mex}(X)\ \leq\ k $ が成り立つ（したがって文字 $ S_x $ が存在する）ことに注意してください．
> 
> 両者が最適に行動した場合の勝者の名前を出力してください．

   $ \mathrm{mex}(X) $ とは？ 非負整数からなる有限集合 $ X $ に対し，$ x\notin\ X $ を満たす最小の非負整数 $ x $ を $ \mathrm{mex}(X) $ と定義します．

## 输入格式

入力は以下の形式で標準入力から与えられます．

> $ N $ $ S $

## 输出格式

$ N $ 行出力してください．$ i $ 行目には，$ k=i $ とした場合のゲームについて，両者が最適に行動した場合の勝者の名前（`Alice` または `Bob`）を出力してください．

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 2\times\ 10^5 $
- $ S $ は `A`, `B` からなる長さ $ N+1 $ の文字列である．
 
### Sample Explanation 1

$ k=1 $ とした場合のゲームの進行例の一例を次に示します． - Alice が $ x=10 $ を選ぶ． - $ \mathrm{mex}(X)=\mathrm{mex}(\lbrace\ 10\rbrace)\ =\ 0 $ であり，$ S_0 $ は `A` なので，Alice が勝利する． $ k=2 $ とした場合のゲームの進行例の一例を次に示します． - Alice が $ x=2 $ を選ぶ． - Bob が $ x=0 $ を選ぶ． - $ \mathrm{mex}(X)=\mathrm{mex}(\lbrace\ 0,2\rbrace)\ =\ 1 $ であり，$ S_1 $ は `B` なので，Bob が勝利する．

## 样例 #1

### 输入

```
2

ABB
```

### 输出

```
Alice

Bob
```

## 样例 #2

### 输入

```
4

AAAAA
```

### 输出

```
Alice

Alice

Alice

Alice
```

## 样例 #3

### 输入

```
7

BBAABABA
```

### 输出

```
Bob

Bob

Alice

Bob

Alice

Bob

Alice
```



---

---
title: "[ARC154B] New Place"
layout: "post"
diff: 普及/提高-
pid: AT_arc154_b
tag: ['字符串', '贪心']
---

# [ARC154B] New Place

## 题目描述

给你两个长度为 $N$ 的字符串 $S$ 和 $T$，仅包含英文小写字母。

你可以重复进行下面的操作（可以不执行）：

- 将 $S$ 的第一个字符删去，并将这个字符插入到 $S$ 的任意位置。

问你至少执行多少次操作使得 $S$ 与 $T$ 相等。

## 输入格式

第一行是一个整数 $N$。第二行是字符串 $S$，第三行是字符串 $T$。

## 输出格式

如果 $S$ 不可能与 $T$ 相等，输出 `-1`。

否则，输出使 $S$ 和 $T$ 相等所需的最小操作数。

@[hellolin](/user/751017) 译

## 样例 #1

### 输入

```
4

abab

abba
```

### 输出

```
2
```

## 样例 #2

### 输入

```
3

arc

cra
```

### 输出

```
2
```



---

---
title: "[ARC163B] Favorite Game"
layout: "post"
diff: 普及/提高-
pid: AT_arc163_b
tag: ['贪心', '排序']
---

# [ARC163B] Favorite Game

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc163/tasks/arc163_b

長さ $ N $ の整数列 $ A=(A_1,A_2,\dots,A_N) $ が与えられます。あなたは、以下の操作を好きな回数（$ 0 $ 回でもよい）行うことが出来ます。

- $ 1\ \le\ i\ \le\ N $ を満たす整数 $ i $ を $ 1 $ 個選び、$ A_i $ を $ 1 $ 増やすか $ 1 $ 減らす。
 
あなたの目標は、$ A_1\ \le\ A_i\ \le\ A_2 $ を満たす整数 $ i(3\ \le\ i\ \le\ N) $ の個数を $ M $ 個以上にすることです。目標を達成するために必要な最小の操作回数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

必要な操作回数の最小値を出力せよ。

## 说明/提示

### 制約

- $ 3\ \le\ N\ \le\ 2\ \times\ 10^5 $
- $ 1\ \le\ M\ \le\ N-2 $
- $ 1\ \le\ A_i\ \le\ 10^9 $
 
### Sample Explanation 1

以下のように操作を行うことで $ A_1\ \le\ A_i\ \le\ A_2 $ を満たす整数 $ i(3\ \le\ i\ \le\ N) $ の個数を $ 1 $ 個以上に出来ます。 - $ i=3 $ を選び、$ A_i $ を $ 1 $ 減らす。 - $ i=2 $ を選び、$ A_i $ を $ 1 $ 増やす。 $ 1 $ 回以下の操作回数で目標を達成することは出来ないため、答えは $ 2 $ です。

### Sample Explanation 2

始めから目標を達成していることもあります。

## 样例 #1

### 输入

```
3 1

2 3 5
```

### 输出

```
2
```

## 样例 #2

### 输入

```
5 2

1 4 2 3 5
```

### 输出

```
0
```

## 样例 #3

### 输入

```
8 5

15 59 64 96 31 17 88 9
```

### 输出

```
35
```



---

---
title: "[ARC166A] Replace C or Swap AB"
layout: "post"
diff: 普及/提高-
pid: AT_arc166_a
tag: ['贪心', '分类讨论']
---

# [ARC166A] Replace C or Swap AB

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc166/tasks/arc166_a

`A`, `B`, `C` からなる長さ $ N $ の文字列 $ X,\ Y $ が与えられます．

$ X $ に対して次の $ 3 $ 種の操作を（$ 0 $ 回を含め）何回でも行えるとき，$ X $ を $ Y $ と一致させることが可能であるか否かを判定してください．

- **操作 (1)**：$ X $ に含まれる文字 `C` をひとつ選び， `A` で置き換える．
- **操作 (2)**：$ X $ に含まれる文字 `C` をひとつ選び， `B` で置き換える．
- **操作 (3)**：$ X $ に含まれる部分文字列 `AB` をひとつ選び， `BA` で置き換える．より形式的には，$ X $ のうち $ i $ 文字目が `A` であり $ (i+1) $ 文字目が `B` であるような $ i $ を選び，$ X $ の $ i $ 文字目を `B` で，$ (i+1) $ 文字目を `A` で置き換える．
 
$ T $ 個のテストケースが与えられるので，それぞれについて答えを求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられます．

> $ T $ $ \text{case}_1 $ $ \vdots $ $ \text{case}_T $

各テストケースは以下の形式で与えられます．

> $ N $ $ X $ $ Y $

## 输出格式

$ T $ 行出力してください．$ i $ 行目には $ i $ 番目のテストケースについて，$ X $ を $ Y $ と一致させることが可能ならば `Yes`，不可能ならば `No` を出力してください．

## 说明/提示

### 制約

- $ 1\leq\ T\leq\ 2\times\ 10^5 $
- $ 1\leq\ N\leq\ 2\times\ 10^5 $
- $ X,\ Y $ は `A`, `B`, `C` からなる長さ $ N $ の文字列である．
- $ 1 $ つの入力に含まれるテストケースについて，$ N $ の総和は $ 2\times\ 10^5 $ 以下である．
 
### Sample Explanation 1

\- $ 1 $ 番目のテストケースについて： $ 0 $ 回の操作により $ X $ を $ Y $ と一致させることが出来ます． - $ 2 $ 番目のテストケースについて： $ 1 $ 回の操作 (2) により $ X $ を $ Y $ と一致させることが出来ます． - $ 4 $ 番目のテストケースについて： $ 1 $ 回の操作 (3) により $ X $ を $ Y $ と一致させることが出来ます． - $ 6 $ 番目のテストケースについて： 例えば操作 (1), 操作 (3), 操作 (1) をこの順に適切な位置に対して行うと，$ X $ は `CCB` → `CAB` → `CBA` → `ABA` と変化して，$ Y $ と一致します．

## 样例 #1

### 输入

```
6

3 ABC ABC

1 C B

1 B C

2 AB BA

2 BA AB

3 CCB ABA
```

### 输出

```
Yes

Yes

No

Yes

No

Yes
```

## 样例 #2

### 输入

```
7

5 ABABA BABAB

5 ABCBC BBABA

5 CCCCC CBABC

5 BBAAA AAABB

5 AAABB BBAAA

5 ACACB BAACB

5 ACACB BBACA
```

### 输出

```
No

Yes

Yes

No

Yes

Yes

No
```



---

---
title: "[ARC170A] Yet Another AB Problem"
layout: "post"
diff: 普及/提高-
pid: AT_arc170_a
tag: ['贪心', '分类讨论']
---

# [ARC170A] Yet Another AB Problem

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc170/tasks/arc170_a

`A`, `B` からなる長さ $ N $ の文字列 $ S,T $ が与えられます．$ S $ の左から $ i $ 番目の文字を $ S_i $ と表します．

あなたは以下の操作を好きな回数（$ 0 $ 回でもよい）繰り返すことができます．

- $ 1\leq\ i\ <\ j\ \leq\ N $ を満たす整数 $ i,j $ を選ぶ． $ S_i $ を `A` で， $ S_j $ を `B` で置き換える．
 
$ S $ を $ T $ に一致させることが可能か判定し，可能な場合必要な最小の操作回数を求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ S $ $ T $

## 输出格式

$ S $ を $ T $ に一致させることが不可能な場合 `-1` を出力せよ．

一致させることが可能な場合，必要な最小の操作回数を出力せよ．

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ S,T $ は `A`, `B` からなる長さ $ N $ の文字列
- 入力される数値は全て整数
 
### Sample Explanation 1

$ i=1,j=3 $ として操作を行うと $ S $ は `AABBA` に変化します． 次に，$ i=4,j=5 $ として操作を行うと $ S $ は `AABAB` に変化します． よって $ 2 $ 回の操作で $ S $ を $ T $ と一致させることが可能です．また，これが必要な最小の操作回数であることが証明できるので答えは $ 2 $ です．

### Sample Explanation 2

何回操作を行っても $ S $ を $ T $ と一致させることは不可能であることが証明できます．

## 样例 #1

### 输入

```
5

BAABA

AABAB
```

### 输出

```
2
```

## 样例 #2

### 输入

```
2

AB

BA
```

### 输出

```
-1
```



---

---
title: "[ARC174B] Bought Review"
layout: "post"
diff: 普及/提高-
pid: AT_arc174_b
tag: ['数学', '贪心']
---

# [ARC174B] Bought Review

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc174/tasks/arc174_b

$ T $ 個のテストケースについて、次の問題に答えてください。

グルメレビューサイトである EatCocoder では、レストランに $ 1 $ 以上 $ 5 $ 以下の整数個の星を付けてレビューすることができます。  
 最初、B料理長の経営するレストランには、星 $ i $ のレビューが $ A_i $ 件付いています。 $ (1\ \le\ i\ \le\ 5) $  
 B料理長は EatCocoder の運営に $ P_i $ 円の賄賂を渡すことで、星 $ i $ のレビューを $ 1 $ 件追加してもらえます。 $ (1\ \le\ i\ \le\ 5) $

賄賂によってレビューを全部で $ k $ 件追加したとき、最終的なレビューは合計で $ A_1+A_2+A_3+A_4+A_5+k $ 件になります。  
 B料理長はこれらのレビューの平均評価を星 $ 3 $ 以上にしたいと考えています。これを達成するために必要な賄賂の合計金額の最小値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ T $ $ \rm{Case}_1 $ $ \rm{Case}_2 $ $ \vdots $ $ \rm{Case} $$ _T $

但し、 $ \rm{Case} $$ _i $ は $ i $ 個目のテストケースを意味する。  
 各テストケースは以下の形式で与えられる。

> $ A_1 $ $ A_2 $ $ A_3 $ $ A_4 $ $ A_5 $ $ P_1 $ $ P_2 $ $ P_3 $ $ P_4 $ $ P_5 $

## 输出格式

全体で $ T $ 行出力せよ。  
 そのうち $ i $ 行目には、 $ i $ 個目のテストケースに対する答えを整数として出力せよ。

## 说明/提示

### 制約

- 入力は全て整数
- $ 1\ \le\ T\ \le\ 10^4 $
- $ 0\ \le\ A_i\ \le\ 10^8 $
- $ 1\ \le\ A_1+A_2+A_3+A_4+A_5 $
- $ 1\ \le\ P_i\ \le\ 10^8 $
 
### Sample Explanation 1

この入力には $ 6 $ 個のテストケースが含まれています。 - $ 1 $ 個目のテストケースについて、例えば以下のようにすると $ 5 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 1,0,1,0,0 $ 件付いています。 - $ P_5\ =\ 5 $ 円の賄賂を渡し、星 $ 5 $ のレビューを $ 1 $ 件追加させます。 - その結果、星 $ 1,2,3,4,5 $ のレビューが $ 1,0,1,0,1 $ 件となり、これらの平均は星 $ 3 $ です。 - $ 2 $ 個目のテストケースについて、例えば以下のようにすると $ 2 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 0,2,2,0,0 $ 件付いています。 - $ P_4\ \times\ 2\ =\ 2 $ 円の賄賂を渡し、星 $ 4 $ のレビューを $ 2 $ 件追加させます。 - その結果、星 $ 1,2,3,4,5 $ のレビューが $ 0,2,2,2,0 $ 件となり、これらの平均は星 $ 3 $ です。 - $ 3 $ 個目のテストケースについて、例えば以下のようにすると $ 3 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 0,1,2,0,0 $ 件付いています。 - $ P_5\ =\ 3 $ 円の賄賂を渡し、星 $ 5 $ のレビューを $ 1 $ 件追加させます。 - その結果、星 $ 1,2,3,4,5 $ のレビューが $ 0,1,2,0,1 $ 件となり、これらの平均は星 $ 3.25 $ です。 - $ 4 $ 個目のテストケースについて、例えば以下のようにすると $ 2 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 1,1,1,0,0 $ 件付いています。 - $ P_4\ =\ 1 $ 円の賄賂を渡し、星 $ 4 $ のレビューを $ 1 $ 件追加させます。 - $ P_5\ =\ 1 $ 円の賄賂を渡し、星 $ 5 $ のレビューを $ 1 $ 件追加させます。 - その結果、星 $ 1,2,3,4,5 $ のレビューが $ 1,1,1,1,1 $ 件となり、これらの平均は星 $ 3 $ です。 - $ 5 $ 個目のテストケースについて、例えば以下のようにすると $ 0 $ 円の賄賂で平均評価を星 $ 3 $ 以上にでき、これが達成可能な最小値です。 - 元々星 $ 1,2,3,4,5 $ のレビューが $ 0,0,0,0,1 $ 件付いています。 - これらの平均は星 $ 5 $ でありこれは既に $ 3 $ 以上であるため、賄賂を全く渡しません。 - $ 6 $ 個目のテストケースについて、答えが $ 32 $bit 符号付き整数に収まらないこともあります。

## 样例 #1

### 输入

```
6

1 0 1 0 0

1 2 3 4 5

0 2 2 0 0

1 1 1 1 5

0 1 2 0 0

1 1 1 5 3

1 1 1 0 0

1 1 1 1 1

0 0 0 0 1

1 1 1 1 1

100000000 100000000 100000000 0 0

100000000 100000000 100000000 100000000 100000000
```

### 输出

```
5

2

3

2

0

15000000000000000
```



---

---
title: "[ARC175B] Parenthesis Arrangement"
layout: "post"
diff: 普及/提高-
pid: AT_arc175_b
tag: ['贪心']
---

# [ARC175B] Parenthesis Arrangement

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc175/tasks/arc175_b

長さ $ 2N $ の `(`, `)` からなる文字列 $ S $ が与えられます．$ S $ の左から $ i $ 番目の文字を $ S_i $ と表します．

あなたは以下の $ 2 $ 種類の操作を好きな順番で $ 0 $ 回以上好きな回数行うことができます．

- $ 1\leq\ i\ <\ j\ \leq\ 2N $ を満たす整数組 $ (i,j) $ を選ぶ．$ S_i $ と $ S_j $ を入れ替える．この操作にはコストが $ A $ かかる．
- $ 1\leq\ i\ \leq\ 2N $ を満たす整数 $ i $ を選ぶ．$ S_i $ を `(` または `)` で置き換える．この操作にはコストが $ B $ かかる．
 
あなたの目標は $ S $ を正しい括弧列にすることです．目標を達成するために必要なコストの総和の最小値を求めてください．なお，有限回の操作で必ず目標を達成できることが証明できます．

  正しい括弧列とは 正しい括弧列とは，以下のいずれかの条件を満たす文字列です． - 空文字列
- ある正しい括弧列 $ A $ が存在して，`(`, $ A $, `)` をこの順に結合した文字列
- ある空でない正しい括弧列 $ S,T $ が存在して，$ S,T $ をこの順に結合した文字列

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ A $ $ B $ $ S $

## 输出格式

答えを $ 1 $ 行に出力せよ．

## 说明/提示

### 制約

- 入力される数値は全て整数
- $ 1\ \leq\ N\ \leq\ 5\times\ 10^5 $
- $ 1\leq\ A,B\leq\ 10^9 $
- $ S $ は長さ $ 2N $ の `(`, `)` からなる文字列
 
### Sample Explanation 1

操作の一例を示します． - $ S_3 $ と $ S_4 $ を入れ替える．$ S $ は `))()()` となる．コストが $ 3 $ かかる． - $ S_1 $ を `(` で置き換える．$ S $ は `()()()` となり，これは正しい括弧列である．コストが $ 2 $ かかる． この例では，$ S $ を正しい括弧列にするのにかかったコストの総和が $ 5 $ です．コストの総和が $ 5 $ 未満で $ S $ を正しい括弧列にする操作方法は存在しません．

### Sample Explanation 2

入力の $ S $ は既に正しい括弧列なので，操作を行う必要はありません．

## 样例 #1

### 输入

```
3 3 2

)))(()
```

### 输出

```
5
```

## 样例 #2

### 输入

```
1 175 1000000000

()
```

### 输出

```
0
```

## 样例 #3

### 输入

```
7 2622 26092458

))()((((()()((
```

### 输出

```
52187538
```



---

---
title: "[ARC179A] Partition"
layout: "post"
diff: 普及/提高-
pid: AT_arc179_a
tag: ['贪心']
---

# [ARC179A] Partition

## 题目描述

给定你整数 $N$ 和 $K$。

定义长度为 $N$ 的整数序列 $X=(X_1,X_2,\dots,X_N)$ 的**前缀和**为长度为 $N+1$ 的序列 $Y=(Y_0,Y_1,\dots,Y_N)$ 满足：

- $Y_0=0$

- $Y_i=\sum\limits_{j=1}^{i}X_j (i=1,2,\dots,N)$

如果一个长度为 $N$ 的整数序列 $X=(X_1,X_2,\dots,X_N)$ 满足以下条件，那么它被成为**好的序列**：

- 在 $X$ 的前缀和中，任何小于 $K$ 的值都出现在任何不小于 $K$ 的值之前。
	- 形式化的说，对于 $X$ 的前缀和 $Y$，对于任意整数对 $(i,j)$ 其中 $0\le i,j\le N$，如果 $Y_i<K$ 且 $Y_j\ge K$ 那么 $i<j$。
	
给你一个长度为 $N$ 的整数序列 $A=(A_1,A_2,\dots,A_N)$。判断是否能够通过重排 $A$ 中的元素使 $A$ 变成一个好的序列。如果可以，输出重排后的结果。

## 输入格式

第一行，输入两个整数 $N,K$。

第二行，输入 $N$ 个整数，表示数列 $A$。

## 输出格式

如果能够通过重排 $A$ 使得 $A$ 变成一个好的序列，那么：

第一行，输出 `Yes`。 

第二行，输出 $N$ 个整数，表示重排过后的序列 $A$。

如果有多个满足条件的重排后的序列，输出任意一个都会被视为是正确的。

如果无法通过重排 $A$ 使得 $A$ 变成一个好的序列，输出 `No`。

### 样例 1 解释

如果将 $A$ 重排为 $(-3,-1,2,4)$，那么 $A$ 的前缀和 $Y$ 为 $(0,-3,-4,-2,2)$。在 $Y$ 中任何小于 $1$ 的值都会出现在任何不小于 $1$ 的值之前。

## 说明/提示

- $1\le N\le 2\times 10^5$； 
- $-10^9\le K\le 10^9$； 
- $-10^9\le A_i\le 10^9$； 
- 所有输入都是整数。

## 样例 #1

### 输入

```
4 1

-1 2 -3 4
```

### 输出

```
Yes

-3 -1 2 4
```

## 样例 #2

### 输入

```
4 -1

1 -2 3 -4
```

### 输出

```
No
```

## 样例 #3

### 输入

```
10 1000000000

-1000000000 -1000000000 -1000000000 -1000000000 -1000000000 1000000000 1000000000 1000000000 1000000000 1000000000
```

### 输出

```
Yes

-1000000000 -1000000000 -1000000000 -1000000000 -1000000000 1000000000 1000000000 1000000000 1000000000 1000000000
```



---

---
title: "[ARC183A] Median of Good Sequences"
layout: "post"
diff: 普及/提高-
pid: AT_arc183_a
tag: ['数学', '贪心', '构造']
---

# [ARC183A] Median of Good Sequences

## 题目描述

给定正整数 $N,K$ ，如果一个长度为 $NK$ 的序列中 $1$ 以上 $N$ 以下的整数分别出现了 $K$ 次，则称这个序列为良好序列，设有 $S$ 个良好序列，则输出按字典序从小到大第  floor $((S+1)/2)$ 个良好序列。其中， floor $(x)$ 表示不超过 $x$ 的最大整数。

## 输入格式

输入来自标准输入，格式如下：

 $N K$

## 输出格式

打印出答案的每一个元素，以空格分隔。

## 说明/提示

#### 约束

 $1≤N≤500$ 

 $1≤K≤500$ 

输入的所有值均为整数

#### 示例解释1

 $6$ 个良好序列如下：
 $(1,1,2,2)$ 
 $(1,2,1,2)$ 
 $(1,2,2,1)$ 
 $(2,1,1,2)$
 $(2,1,2,1)$
 $(2,2,1,1)$ 
 
因此，按字典顺序排列的第 $3$ 个良好序列 $(1,2,2,1)$ 就是答案。

## 样例 #1

### 输入

```
2 2
```

### 输出

```
1 2 2 1
```

## 样例 #2

### 输入

```
1 5
```

### 输出

```
1 1 1 1 1
```

## 样例 #3

### 输入

```
6 1
```

### 输出

```
3 6 5 4 2 1
```

## 样例 #4

### 输入

```
3 3
```

### 输出

```
2 2 2 1 3 3 3 1 1
```



---

---
title: "[ARC185B] +1 and -1"
layout: "post"
diff: 普及/提高-
pid: AT_arc185_b
tag: ['数学', '贪心']
---

# [ARC185B] +1 and -1

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc185/tasks/arc185_b

長さ $ N $ の整数列 $ A\ =\ (A_1,\ A_2,\ \dots,\ A_N) $ があります。  
 あなたは次の操作を $ 0 $ 回以上好きな回数行うことが出来ます。

- $ 1\ \leq\ i\ \lt\ j\ \leq\ N $ を満たす整数対 $ (i,\ j) $ を選び、$ A_i $ を $ A_i\ +\ 1 $ に、$ A_j $ を $ A_j\ -\ 1 $ に置き換える。
 
操作によって $ A $ を広義単調増加な数列にすることが可能かどうか判定してください。

$ T $ 個のテストケースが与えられるので、それぞれに対して答えを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。ここで $ \mathrm{case}_i $ は $ i $ 番目のテストケースを意味する。

> $ T $ $ \mathrm{case}_1 $ $ \mathrm{case}_2 $ $ \vdots $ $ \mathrm{case}_T $

各テストケースは以下の形式で与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

$ T $ 行出力せよ。$ i $ 行目には $ i $ 番目のテストケースへの答えを出力せよ。  
 各テストケースでは、操作によって $ A $ を広義単調増加な数列にすることが可能な場合は `Yes` を、そうでない場合は `No` を出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 2\ \times\ 10^5 $
- $ 2\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ 0\ \leq\ A_i\ \leq\ 10^9 $
- 全てのテストケースに対する $ N $ の総和は $ 2\ \times\ 10^5 $ 以下
- 入力される値は全て整数
 
### Sample Explanation 1

$ 1 $ 番目のテストケースでは、次のように操作を行うことで $ A $ を広義単調増加な数列にすることが出来ます。 - $ (i,\ j) $ として $ (1,\ 2) $ を選ぶ。操作後の $ A $ は $ (2,\ 6,\ 5) $ になる。 - $ (i,\ j) $ として $ (1,\ 2) $ を選ぶ。操作後の $ A $ は $ (3,\ 5,\ 5) $ になる。 $ 2 $ 番目のテストケースでは、どのように操作しても $ A $ を広義単調増加な数列にすることは出来ません。

## 样例 #1

### 输入

```
3

3

1 7 5

2

9 0

10

607 495 419 894 610 636 465 331 925 724
```

### 输出

```
Yes

No

Yes
```



---


---
title: "[ABC315Ex] Typical Convolution Problem"
layout: "post"
diff: 省选/NOI-
pid: AT_abc315_h
tag: ['cdq 分治', '快速数论变换 NTT']
---

# [ABC315Ex] Typical Convolution Problem

## 题目描述

给定一个长为 $n$ 的序列 $a$，按如下方法计算 $f(x)$：

- $f(0)=1$;
- 当整数 $m\in[1,n]$ 时，$f(m)=a_m\times (\displaystyle\sum_{i+j\lt m} f(i)\times f(j))$。

对于每个整数 $i\in[1,n]$，计算 $f(i)$ $\bmod$ $998244353$ 的值。

## 输入格式

第一行为序列长度 $n$，第二行输入 $n$ 个整数表示序列 $a$。

## 输出格式

依次输出 $f(1)$，$f(2)$，…，$f(n)$ 对 $998244353$ 取模后的值，相邻两个数之间以单个空格隔开。

## 说明/提示

#### 数据规模与约定

$1\le n\le 2\times 10^5$，$a_i\in[0,998244352]$。

## 样例 #1

### 输入

```
5

1 2 3 4 5
```

### 输出

```
1 6 48 496 6240
```

## 样例 #2

### 输入

```
3

12345 678901 2345678
```

### 输出

```
12345 790834943 85679169
```



---

---
title: "[ARC159F] Good Division"
layout: "post"
diff: 省选/NOI-
pid: AT_arc159_f
tag: ['动态规划 DP', 'cdq 分治']
---

# [ARC159F] Good Division

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc159/tasks/arc159_f

数列 $ X $ が次の条件を満たす時、$ X $ を**良い数列**と呼ぶことにします。

- 次の操作を $ 0 $ 回以上繰り返すことで $ X $ を空の列に出来る。
  - $ X $ の隣り合う $ 2 $ 要素 $ x_i,x_{i+1} $ であって $ x_i\ \neq\ x_{i+1} $ を満たすものを選び、削除する。
 
$ 2N $ 要素の数列 $ A=(a_1,\ldots,a_{2N}) $ が与えられます。  
 $ A $ を $ 1 $ 個以上の連続部分列に分割する方法は $ 2^{2N-1} $ 通りありますが、そのうち各連続部分列がすべて良い数列であるようなものが何通りあるかを $ 998244353 $ で割った余りを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ a_1 $ $ \ldots $ $ a_{2N} $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 5\ \times\ 10^5 $
- $ 1\ \leq\ a_i\ \leq\ 2N $
- 入力はすべて整数
 
### Sample Explanation 1

以下の $ 2 $ 通りの分割方法が条件を満たします。 - $ (1,1,2,3,4,5) $ - $ (1,1,2,3),(4,5) $

## 样例 #1

### 输入

```
3

1 1 2 3 4 5
```

### 输出

```
2
```

## 样例 #2

### 输入

```
1

1 2
```

### 输出

```
1
```

## 样例 #3

### 输入

```
1

1 1
```

### 输出

```
0
```

## 样例 #4

### 输入

```
12

4 2 17 12 18 15 17 4 22 6 9 20 21 16 23 16 13 2 20 15 16 3 7 15
```

### 输出

```
2048
```



---

---
title: "かかし"
layout: "post"
diff: 省选/NOI-
pid: AT_joisc2014_i
tag: ['线段树', '单调队列', 'cdq 分治']
---

# かかし

## 题目描述

[problemUrl]: https://atcoder.jp/contests/joisc2014/tasks/joisc2014_i





---


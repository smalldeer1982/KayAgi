---
title: "[ABC285G] Tatami"
layout: "post"
diff: 省选/NOI-
pid: AT_abc285_g
tag: ['网络流', '二分图']
---

# [ABC285G] Tatami

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc285/tasks/abc285_g

縦 $ H $ マス、横 $ W $ マスのグリッドがあります。上から $ i $ 行目、左から $ j $ 列目のマスをマス $ (i,j) $ と呼びます。

このグリッドを縦 $ 1 $ マス $ \times $ 横 $ 1 $ マスのタイルと縦 $ 1 $ マス $ \times $ 横 $ 2 $ マスのタイルで、重ならないように、隙間ができないように覆います（タイルは回転してもよい）。

各マスには `1`, `2`, `?` のいずれかが書かれています。マス $ (i,j) $ に書かれている文字は $ c_{i,j} $ です。  
`1` が書かれたマスは $ 1\times\ 1 $ のタイルで、`2` が書かれたマスは $ 1\times\ 2 $ のタイルで覆わなければなりません。`?` が書かれたマスはどちらのタイルで覆っても構いません。

そのようなタイルの置き方があるかどうか判定してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ H $ $ W $ $ c_{1,1}c_{1,2}\ldots\ c_{1,W} $ $ \vdots $ $ c_{H,1}c_{H,2}\ldots\ c_{H,W} $

## 输出格式

問題文中の条件を満たすタイルの置き方が存在するなら `Yes`、存在しないなら `No` と出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ H,W\ \leq\ 300 $
- $ H,W $ は整数
- $ c_{i,j} $ は `1`, `2`, `?` のいずれか

### Sample Explanation 1

例えば以下のようなタイルの置き方で条件を満たすことができます。 !\[\](https://img.atcoder.jp/abc285/d984ec33355bac05ecebc41076d9a8df.png)

### Sample Explanation 2

条件を満たすようなタイルの置き方は存在しません。

## 样例 #1

### 输入

```
3 4
2221
?1??
2?21
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
3 4
2?21
??1?
2?21
```

### 输出

```
No
```

## 样例 #3

### 输入

```
5 5
11111
11111
11211
11111
11111
```

### 输出

```
No
```



---

---
title: "[ABC317G] Rearranging"
layout: "post"
diff: 省选/NOI-
pid: AT_abc317_g
tag: ['网络流', '二分图']
---

# [ABC317G] Rearranging

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc317/tasks/abc317_g

$ N $ 行 $ M $ 列のグリッドがあります。上から $ i $ 行目左から $ j $ 列目のマスには整数 $ A_{i,j} $ が書かれています。  
 ここで、グリッドのマスに書かれている計 $ NM $ 個の整数は $ 1,\ldots,N $ をちょうど $ M $ 個ずつ含みます。

あなたは次の手順でマスに書かれた数を入れ替える操作を行います。

- $ i=1,\ldots,N $ の順に次を行う。
  - $ i $ 行目に書かれた数を自由に並び替える。すなわち、$ 1,\ldots,M $ の並び替えである長さ $ M $ の数列 $ P=(P_{1},\ldots,P_{M}) $ を自由に選び、$ A_{i,1},\ldots,A_{i,M} $ を 同時に $ A_{i,P_{1}},\ldots,A_{i,P_{M}} $ に置き換える。
 
あなたの目的は、操作後に全ての列が $ 1,\ldots,N $ を $ 1 $ つずつ含むようにすることです。そのようなことが可能であるか判定し、可能であれば操作後のグリッドの状態を出力してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ A_{1,1} $ $ \ldots $ $ A_{1,M} $ $ \vdots $ $ A_{N,1} $ $ \ldots $ $ A_{N,M} $

## 输出格式

操作により全ての列が $ 1,\ldots,N $ を $ 1 $ つずつ含むようにするのが不可能ならば `No` と出力せよ。  
 可能であるとき、$ 1 $ 行目に `Yes` と出力し、続く $ N $ 行に、全ての列が $ 1,\ldots,N $ を $ 1 $ つずつ含むように操作したあとのグリッドの状態を次の形式で出力せよ。  
 グリッドの上から $ i $ 行目左から $ j $ 列目のマスに書かれた数を $ B_{i,j} $ とする。各 $ 1\leq\ i\ \leq\ N $ について $ i+1 $ 行目に $ B_{i,1},\ldots,B_{i,M} $ をこの順に空白区切りで出力せよ。

答えが複数存在する場合、どれを出力しても正解とみなされる。

## 说明/提示

### 制約

- $ 1\ \leq\ N,M\ \leq\ 100 $
- $ 1\ \leq\ A_{i,j}\ \leq\ N $
- 入力は全て整数である
- $ NM $ 個の数 $ A_{1,1},\ldots,A_{N,M} $ は $ 1,\ldots,N $ をそれぞれちょうど $ M $ 個ずつ含む
 
### Sample Explanation 1

この他、以下の出力も正解とみなされる。 ``` Yes 1 1 2 3 3 2 ```

## 样例 #1

### 输入

```
3 2

1 1

2 3

2 3
```

### 输出

```
Yes

1 1

3 2

2 3
```

## 样例 #2

### 输入

```
4 4

1 2 3 4

1 1 1 2

3 2 2 4

4 4 3 3
```

### 输出

```
Yes

1 4 3 2

2 1 1 1

4 2 2 3

3 3 4 4
```



---

---
title: "[ABC373G] No Cross Matching"
layout: "post"
diff: 省选/NOI-
pid: AT_abc373_g
tag: ['贪心', '分治', '二分图', '费用流']
---

# [ABC373G] No Cross Matching

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc373/tasks/abc373_g

$ 2 $ 次元平面上に $ P_1,P_2,\ldots,P_N,\ Q_1,Q_2,\ldots,Q_N $ の $ 2N $ 個の点があります。 $ P_i $ の座標は $ (A_i,B_i) $、$ Q_i $ の座標は $ (C_i,D_i) $ です。 同一直線上に異なる $ 3 $ 点が存在することはありません。

$ (1,2,\ldots,N) $ の順列であるような数列 $ R=(R_1,R_2,\ldots,R_N) $ であって以下の条件を満たすような $ R $ が存在するか判定し、存在する場合は $ 1 $ つ求めてください。

- $ 1 $ 以上 $ N $ 以下のすべての整数 $ i $ について 線分 $ i $ を $ P_i $ と $ Q_{R_i} $ を端点とする線分としたとき、どの線分 $ i $ と線分 $ j $ $ (1\ \leq\ i\ <\ j\ \leq\ N) $ も互いに交差しない。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ B_1 $ $ A_2 $ $ B_2 $ $ \vdots $ $ A_N $ $ B_N $ $ C_1 $ $ D_1 $ $ C_2 $ $ D_2 $ $ \vdots $ $ C_N $ $ D_N $

## 输出格式

条件を満たす $ R $ が存在しない場合は `-1` と出力せよ。

存在する場合は $ R_1,R_2,\ldots,R_N $ を空白区切りで出力せよ。答えが複数存在する場合はどれを出力してもかまわない。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 300 $
- $ 0\ \leq\ A_i,B_i,C_i,D_i\ \leq\ 5000 $ $ (1\ \leq\ i\ \leq\ N) $
- $ (A_i,B_i)\ \neq\ (A_j,B_j) $ $ (1\ \leq\ i\ <\ j\ \leq\ N) $
- $ (C_i,D_i)\ \neq\ (C_j,D_j) $ $ (1\ \leq\ i\ <\ j\ \leq\ N) $
- $ (A_i,B_i)\ \neq\ (C_j,D_j) $ $ (1\ \leq\ i,j\ \leq\ N) $
- 同一直線上に異なる $ 3 $ 点が存在することはない
- 入力はすべて整数

### Sample Explanation 1

以下の図のように点が並んでいます。 !\[\](https://img.atcoder.jp/abc373/G-sample.png)$ R=(2,1,3) $ とすることで $ 3 $ 本の線分は互いに交差しません。また、 $ R $ を $ (1,2,3),(1,3,2),(2,3,1),(3,1,2) $ のいずれにしても正しい答えとなります。

## 样例 #1

### 输入

```
3
0 0
2 4
4 2
0 2
2 0
4 4
```

### 输出

```
2 1 3
```

## 样例 #2

### 输入

```
8
59 85
60 57
72 12
3 27
16 58
41 94
77 64
97 20
32 37
7 2
57 94
35 70
38 60
97 100
5 76
38 8
```

### 输出

```
3 5 8 2 7 4 6 1
```



---

---
title: "[ABC374G] Only One Product Name"
layout: "post"
diff: 省选/NOI-
pid: AT_abc374_g
tag: ['强连通分量', '二分图', '标签476']
---

# [ABC374G] Only One Product Name

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc374/tasks/abc374_g

キーエンスの商品名はすべて **英大文字 $ 2 $ 文字** からなります。  
 すでに $ N $ 個の商品名を使用しており、$ i $ 個目 $ (1\leq\ i\leq\ N) $ の商品名は $ S_i $ です。  
 一度使用した商品名は再び使うことができないので、過去に使用した商品名の一覧がすぐわかるように NG リストを作ることにしました。

NGリストは次の条件をみたす必要があります。

- $ 1 $ つ以上の文字列からなり、各文字列は英大文字のみからなる。
- すでに使用されている商品名それぞれについて、その商品名を（連続する）部分文字列として含む文字列が $ 1 $ つ以上存在する。
- リスト内のすべての文字列は、すでに使用されている商品名でない長さ $ 2 $ の文字列を（連続する）部分文字列として含まない。
 
NG リストの文字列の数としてあり得る最小の値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ S_1 $ $ S_2 $ $ \vdots $ $ S_N $

## 输出格式

NG リストの文字列の数としてあり得る最小の値を出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 26^2 $
- $ N $ は整数
- $ S_i $ は英大文字のみからなる長さ $ 2 $ の文字列
- $ S_1,S_2,\ldots,S_N $ はすべて異なる。
 
### Sample Explanation 1

条件をみたす NG リストとしては例えば次の $ 3 $ つの文字列からなるようなものが考えられます。 - `CABCDE` - `DF` - `XX` これは $ 3 $ つの文字列からなり、$ 2 $ つ以下の文字列からなり条件をみたす NG リストは存在しないため、 $ 3 $ を出力します。

### Sample Explanation 2

条件をみたす NG リストとしては例えば次の $ 2 $ つの文字列からなるようなものが考えられます。 - `ACDE` - `BCDF` すでに使用されている商品名は NG リスト内の複数の文字列に登場したり、同一文字列に複数回含まれたりしていても良いことに注意してください。

### Sample Explanation 3

例えば、`ABACBADB` のみからなる NG リストが条件をみたしています。

## 样例 #1

### 输入

```
7

AB

BC

CA

CD

DE

DF

XX
```

### 输出

```
3
```

## 样例 #2

### 输入

```
5

AC

BC

CD

DE

DF
```

### 输出

```
2
```

## 样例 #3

### 输入

```
6

AB

AC

CB

AD

DB

BA
```

### 输出

```
1
```



---

---
title: "[AGC034D] Manhattan Max Matching"
layout: "post"
diff: 省选/NOI-
pid: AT_agc034_d
tag: ['二分图', '费用流']
---

# [AGC034D] Manhattan Max Matching

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc034/tasks/agc034_d

すぬけくんは、二次元平面上に赤いボールと青いボールを置いて遊んでいます。

すぬけくんはまず、赤いボールを置く操作を $ N $ 回行いました。 $ i $ 回目の操作では、座標 $ (RX_i,RY_i) $ に $ RC_i $ 個の赤いボールを置きました。 すぬけくんは次に、青いボールを置く操作を $ N $ 回行いました。 $ i $ 回目の操作では、座標 $ (BX_i,BY_i) $ に $ BC_i $ 個の青いボールを置きました。 ここで、すぬけくんが置いた赤いボールの個数の総和と青いボールの個数の総和は等しいです。 つまり、$ \sum_{i=1}^{N}\ RC_i\ =\ \sum_{i=1}^{N}\ BC_i $ です。 以後、この値を $ S $ とおきます。

すぬけくんはこれから、赤いボールと青いボールのペアを $ S $ 個作ろうとしています。 どのボールも、ちょうど $ 1 $ つのペアに属するようにします。 ここで、座標 $ (rx,ry) $ にある赤いボールと座標 $ (bx,by) $ にある青いボールのペアのスコアを、 $ |rx-bx|\ +\ |ry-by| $ と定義します。

すぬけくんは、ペアのスコアの総和を最大化したいです。 すぬけくんのために、ペアのスコアの総和の最大値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ RX_1 $ $ RY_1 $ $ RC_1 $ $ RX_2 $ $ RY_2 $ $ RC_2 $ $ \vdots $ $ RX_N $ $ RY_N $ $ RC_N $ $ BX_1 $ $ BY_1 $ $ BC_1 $ $ BX_2 $ $ BY_2 $ $ BC_2 $ $ \vdots $ $ BX_N $ $ BY_N $ $ BC_N $

## 输出格式

ペアのスコアの総和の最大値を出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 1000 $
- $ 0\ \leq\ RX_i,RY_i,BX_i,BY_i\ \leq\ 10^9 $
- $ 1\ \leq\ RC_i,BC_i\ \leq\ 10 $
- $ \sum_{i=1}^{N}\ RC_i\ =\ \sum_{i=1}^{N}\ BC_i $
- 入力される値はすべて整数である。

### Sample Explanation 1

座標 $ (0,0) $ に置いてある赤いボールと座標 $ (2,2) $ に置いてある青いボールをペアにすると、 そのスコアは $ |0-2|\ +\ |0-2|=4 $ です。 また、座標 $ (3,2) $ に置いてある赤いボールと座標 $ (5,0) $ に置いてある青いボールをペアにすると、 そのスコアは $ |3-5|\ +\ |2-0|=4 $ です。 この $ 2 $ つのペアを作ると、スコアの総和は $ 8 $ になり、これが最大です。

### Sample Explanation 2

同じ座標に複数回操作を行うこともあります。

## 样例 #1

### 输入

```
2

0 0 1

3 2 1

2 2 1

5 0 1
```

### 输出

```
8
```

## 样例 #2

### 输入

```
3

0 0 1

2 2 1

0 0 2

1 1 1

1 1 1

3 3 2
```

### 输出

```
16
```

## 样例 #3

### 输入

```
10

582463373 690528069 8

621230322 318051944 4

356524296 974059503 6

372751381 111542460 9

392867214 581476334 6

606955458 513028121 5

882201596 791660614 9

250465517 91918758 3

618624774 406956634 6

426294747 736401096 5

974896051 888765942 5

726682138 336960821 3

715144179 82444709 6

599055841 501257806 6

390484433 962747856 4

912334580 219343832 8

570458984 648862300 6

638017635 572157978 10

435958984 585073520 7

445612658 234265014 6
```

### 输出

```
45152033546
```



---

---
title: "[AGC037D] Sorting a Grid"
layout: "post"
diff: 省选/NOI-
pid: AT_agc037_d
tag: ['网络流', '二分图']
---

# [AGC037D] Sorting a Grid

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc037/tasks/agc037_d

$ N $ 行 $ M $ 列のマス目があります。 このマス目には $ 1 $ から $ NM $ までの整数がそれぞれ $ 1 $ つずつ書かれています。 上から $ i $ 行目、左から $ j $ 列目にあるマスに書かれている数は $ A_{ij} $ です。

あなたはこのマス目を以下の手順に従って並べ替える必要があります。

1. まず $ N $ 個の行それぞれに対して、その行に書かれている数を好きに並べ替える。
2. 次に $ M $ 個の列それぞれに対して、その列に書かれている数を好きに並べ替える。
3. 最後に $ N $ 個の行それぞれに対して、その行に書かれている数を好きに並べ替える。

最終的に上から $ i $ 行目、左から $ j $ 行目にあるマスに書かれている数が $ M\times\ (i-1)+j $ となるようにしたいです。 そのような並べ替え方を一つ構成してください。与えられた制約の下で、常に条件をみたすように並べ替えられることができることは保証されています。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ A_{11} $ $ A_{12} $ $ ... $ $ A_{1M} $ $ : $ $ A_{N1} $ $ A_{N2} $ $ ... $ $ A_{NM} $

## 输出格式

以下の形式で並べ替え方を出力せよ。

> $ B_{11} $ $ B_{12} $ $ ... $ $ B_{1M} $ $ : $ $ B_{N1} $ $ B_{N2} $ $ ... $ $ B_{NM} $ $ C_{11} $ $ C_{12} $ $ ... $ $ C_{1M} $ $ : $ $ C_{N1} $ $ C_{N2} $ $ ... $ $ C_{NM} $

ただし、$ B_{ij} $ は手順 $ 1 $ を行った後に上から $ i $ 行目、左から $ j $ 行目にあるマスに書かれている数であり、 $ C_{ij} $ は手順 $ 2 $ を行った後に上から $ i $ 行目、左から $ j $ 行目にあるマスに書かれている数である。

## 说明/提示

### 制約

- $ 1\ ≦\ N,M\ ≦\ 100 $
- $ 1\ ≦\ A_{ij}\ ≦\ NM $
- $ A_{ij} $ は相異なる

## 样例 #1

### 输入

```
3 2

2 6

4 3

1 5
```

### 输出

```
2 6 

4 3 

5 1 

2 1 

4 3 

5 6
```

## 样例 #2

### 输入

```
3 4

1 4 7 10

2 5 8 11

3 6 9 12
```

### 输出

```
1 4 7 10 

5 8 11 2 

9 12 3 6 

1 4 3 2 

5 8 7 6 

9 12 11 10
```



---

---
title: "[AGC067A] Big Clique Everywhere"
layout: "post"
diff: 省选/NOI-
pid: AT_agc067_a
tag: ['二分图', 'Ad-hoc']
---

# [AGC067A] Big Clique Everywhere

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc067/tasks/agc067_a

$ 1 $ から $ N $ までの番号がついた $ N $ 頂点の単純無向グラフ $ G $ が与えられます。 $ G $ は $ M $ 本の辺を持ち、$ i $ 本目の辺は頂点 $ A_i $ と $ B_i $ を結びます。

$ G $ が次の条件を満たすか判定してください。

- 頂点集合 $ \{1,2,\cdots,N\} $ のすべての部分集合 $ X $ に対して、$ X $ の部分集合 $ Y $ であって $ |Y|\ge\ \frac{|X|}{2} $ かつ $ Y $ がクリークを形成するものが存在する。

解くべきテストケースは $ T $ 個あります。

## 输入格式

入力は標準入力から以下の形式で与えられる。

> $ T $ $ case_1 $ $ case_2 $ $ \vdots $ $ case_T $

各テストケースは以下の形式で与えられる。

> $ N $ $ M $ $ A_1 $ $ B_1 $ $ A_2 $ $ B_2 $ $ \vdots $ $ A_M $ $ B_M $

## 输出格式

各テストケースについて、$ G $ が条件を満たすなら `Yes`、そうでないなら `No` と出力せよ。  
`Yes` または `No` の出力において、各文字は大文字・小文字のいずれでもよい。

## 说明/提示

### 制約

- $ 1\le\ T\ \le\ 10^3 $
- $ 1\le\ N\ \le\ 10^5 $
- $ 0\ \le\ M\ \le\ 10^6 $
- $ 1\ \le\ A_i,B_i\ \le\ N $
- 与えられるグラフは自己辺も多重辺も含まない。
- ひとつの入力の中のテストケースすべてにわたる $ N $ の総和は $ 10^5 $ 以下である。
- ひとつの入力の中のテストケースすべてにわたる $ M $ の総和は $ 10^6 $ 以下である。
- すべての入力値は整数である。

### Sample Explanation 1

$ 1 $ 番目のテストケースについて、$ G $ は条件を満たします。 この場合、すべての部分集合 $ X $ がクリークであるため、単に $ Y=X $ とできます。 $ 2 $ 番目のテストケースについて、$ G $ は条件を満たします。 例えば、$ X=\{2,3\} $ に対しては、$ Y=\{2\} $ とできます。 $ 4 $ 番目のテストケースについて、$ G $ は条件を満たしません。 $ X=\{1,2,3\} $ とすると、条件を満たす $ X $ の部分集合 $ Y $ はありません。

## 样例 #1

### 输入

```
4
3 3
1 2
1 3
2 3
3 2
1 2
1 3
3 1
1 2
3 0
```

### 输出

```
Yes
Yes
Yes
No
```



---

---
title: "[AGC069B] Pair Guessing"
layout: "post"
diff: 省选/NOI-
pid: AT_agc069_b
tag: ['并查集', '二分图']
---

# [AGC069B] Pair Guessing

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc069/tasks/agc069_b

$ N $ 個の、長さ $ N $ の $ 01 $ 文字列 $ S_1,\ldots,S_N $ が与えられます。$ S_i $ の $ j $ 文字目を $ S_{i,j} $ と表します。ここで、$ S_{i,j}=\ $`1` を満たす整数組 $ (i,j) $ が少なくとも一つ存在することが制約より保証されています。

高橋君と青木君が以下のようなゲームを行います。

1. 高橋君が $ 1\ \leq\ i,j\ \leq\ N,\ S_{i,j}=\ $`1` を満たす整数組 $ (i,j) $ を $ 1 $ つ選ぶ。
2. $ 0 $ 回以上 $ N $ 回以下、青木君が高橋君に質問を行う。各質問では青木君が $ 1\leq\ i',j'\ \leq\ N $ を満たす整数組 $ (i',j') $ を選び、「$ i=i' $ と $ j=j' $ のうち少なくとも一方が成り立つ」の真偽を高橋君から教えてもらう。
3. 青木君が $ (i,j) $ を予想する。予想が当たっていれば青木君の勝ち、そうでなければ負けとなる。
 
青木君は高橋君が選ぶ $ (i,j) $ の候補、すなわち $ S_1,\ldots,S_N $ を知った状態でゲームを行います。また、上記2では以前の質問に対する返事を聞いたうえで $ (i',\ j') $ を選ぶことができます。

青木君が適切な戦略を取った場合、高橋君の $ (i,j) $ の選び方や運によらず必ずゲームに勝てるかどうかを判定してください。

$ 1 $ つの入力につきテストケースは $ T $ 個あります。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ T $ $ case_1 $ $ \vdots $ $ case_T $

各テストケースは以下の形式で与えられる。

> $ N $ $ S_1 $ $ \vdots $ $ S_N $

## 输出格式

各テストケースに対し、青木君が必ずゲームに勝てるならば `Yes` と、そうでなければ `No` と出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ T\ \leq\ 2\ \times\ 10^5 $
- $ 1\ \leq\ N\ \leq\ 500 $
- $ 1 $ つの入力の中のテストケースすべてにわたる $ N^2 $ の総和は $ 500^2 $ 以下である
- $ S_i $ は長さ $ N $ の $ 01 $ 文字列
- $ S_{i,j}=\ $ `1` を満たす整数組 $ (i,j) $ が少なくとも一つ存在する
 
### Sample Explanation 1

$ 1 $ 番目のテストケースに対するゲームの一例を以下に示します。 1. 高橋君が $ S_{i,j}=\ $`1` を満たす $ (i,j) $ として $ (2,2) $ を選ぶ。 2. 青木君が $ 2 $ 回質問を行う。$ 1 $ 回目の質問では $ (i',j')=(1,1) $ として、高橋君から「$ i=1 $ と $ j=1 $ のうち少なくとも一方が成り立つ」が偽であると教えてもらう。$ 2 $ 回目の質問では $ (i',j')=(2,2) $ として、高橋君から「$ i=2 $ と $ j=2 $ の少なくとも一方が成り立つ」が真であると教えてもらう。 3. 青木君が $ (i,j)=(2,2) $ と予想する。この予想は当たっているため、青木君の勝ちである。 これはあくまでゲームの一例であり、青木君の戦略が適切とは限りません。しかし、青木君が適切な戦略を取った場合には必ず青木君がゲームに勝つため、$ 1 $ 番目のテストケースに対する出力は `Yes` になります。

## 样例 #1

### 输入

```
3

2

01

11

2

11

11

10

0101011110

1100100001

1101100000

0111101010

1000011001

1110101010

1110110100

1110000110

0000001011

1001111100
```

### 输出

```
Yes

No

Yes
```



---

---
title: "[ARC186A] Underclued"
layout: "post"
diff: 省选/NOI-
pid: AT_arc186_a
tag: ['动态规划 DP', '强连通分量', '二分图', '构造', '标签465']
---

# [ARC186A] Underclued

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc186/tasks/arc186_a

各成分が $ 0,1 $ である $ N $ 次正方行列 $ A,B $ について、以下の条件を満たしているとき $ A $ と $ B $ は **似ている** と言います。

- 各行の総和が等しい。つまり、どの $ i=1,\dots,N $ についても $ A_{i,1}\ +\ \dots\ +\ A_{i,N}\ =\ B_{i,1}\ +\ \dots\ +\ B_{i,N} $
- 各列の総和が等しい。つまり、どの $ j=1,\dots,N $ についても $ A_{1,j}\ +\ \dots\ +\ A_{N,j}\ =\ B_{1,j}\ +\ \dots\ +\ B_{N,j} $

また、各成分が $ 0,1 $ である $ N $ 次正方行列 $ A $ と整数 $ i,j $ ($ 1\ \leq\ i,j\ \leq\ N $) について、$ A $ と似ているどの行列 $ B $ についても $ A_{i,j}\ =\ B_{i,j} $ が成り立つとき、$ A $ の $ i $ 行 $ j $ 列成分は **固定されている** と言います。

以下の $ Q $ 個のクエリに答えてください。

- $ i $ 番目のクエリ：各成分が $ 0,1 $ である $ N $ 次正方行列であって、固定されている成分がちょうど $ K_i $ 個であるようなものが存在するなら `Yes`、そうでないなら `No` を出力せよ。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ Q $ $ K_1 $ $ K_2 $ $ \vdots $ $ K_Q $

## 输出格式

$ Q $ 行に出力せよ。 $ i\ (1\ \le\ i\ \le\ Q) $ 行目には $ i $ 番目のクエリの答えを出力せよ。

## 说明/提示

### 制約

- $ 2\ \le\ N\ \le\ 30 $
- $ 1\ \le\ Q\ \le\ N^2+1 $
- $ 0\ \le\ K_i\ \le\ N^2 $
- $ K_i\ \ne\ K_j\ (1\ \le\ i\ <\ j\ \le\ Q) $
- 入力はすべて整数

### Sample Explanation 1

$ 1 $ 番目のクエリ： 例えば、以下のような行列 $ X $ は、固定されている成分が $ 0 $ 個です。 ``` 1 0 0 0 1 0 0 0 1 ``` なぜなら、次のように列を循環シフトさせていったものはすべて $ X $ と似ており、どの成分も $ 0 $ にも $ 1 $ にもなりうるためです。 ``` 0 0 1 1 0 0 0 1 0 ``` ``` 0 1 0 0 0 1 1 0 0 ``` $ 2 $ 番目のクエリ： 例えば、以下のような行列 $ X $ は、固定されている成分が $ 9 $ 個です。 ``` 0 0 1 0 1 1 1 1 1 ``` なぜなら、似ている行列は $ X $ 以外に存在せず、すべての成分が固定されているためです。 $ 3 $ 番目のクエリ： 固定されている成分がちょうど $ 7 $ 個であるような行列は存在しません。

## 样例 #1

### 输入

```
3 3
0
9
7
```

### 输出

```
Yes
Yes
No
```

## 样例 #2

### 输入

```
29 6
186
681
18
108
123
321
```

### 输出

```
No
Yes
No
Yes
No
Yes
```



---


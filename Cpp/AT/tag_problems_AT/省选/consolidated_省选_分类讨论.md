---
title: "[AGC032C] Three Circuits"
layout: "post"
diff: 省选/NOI-
pid: AT_agc032_c
tag: ['欧拉回路', '分类讨论']
---

# [AGC032C] Three Circuits

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc032/tasks/agc032_c

$ N $ 頂点 $ M $ 本の辺からなる単純かつ連結な無向グラフが与えられます。 頂点には $ 1 $ から $ N $ の番号が、辺には $ 1 $ から $ M $ の番号がついています。

辺 $ i $ は頂点 $ a_i $ と $ b_i $ を双方向につなぐ辺です。

全ての辺をちょうど $ 1 $ 回ずつ使って $ 3 $ つのサーキットを作ることが可能かどうかを判定してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ a_1 $ $ b_1 $ $ : $ $ a_M $ $ b_M $

## 输出格式

全ての辺をちょうど $ 1 $ 回ずつ使って $ 3 $ つのサーキットを作ることが可能ならば `Yes` を、不可能ならば `No` を出力せよ。

## 说明/提示

### 注釈

サーキットとは辺素だが頂点素とは限らない閉路のことをいう。

### 制約

- 入力はすべて整数である。
- $ 1\ \leq\ N,M\ \leq\ 10^{5} $
- $ 1\ \leq\ a_i,\ b_i\ \leq\ N $
- 与えられるグラフは単純かつ連結。

### Sample Explanation 1

\- 以下の図のように、全ての辺をちょうど $ 1 $ 回ずつ使って $ 3 $ つのサーキットを作ることができます。 !\[b8c8e2245d45a31cf39749b0a49fc2bd.png\](https://img.atcoder.jp/agc031/b8c8e2245d45a31cf39749b0a49fc2bd.png)

### Sample Explanation 2

\- $ 3 $ つのサーキットを作る必要があります。

## 样例 #1

### 输入

```
7 9

1 2

1 3

2 3

1 4

1 5

4 5

1 6

1 7

6 7
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
3 3

1 2

2 3

3 1
```

### 输出

```
No
```

## 样例 #3

### 输入

```
18 27

17 7

12 15

18 17

13 18

13 6

5 7

7 1

14 5

15 11

7 6

1 9

5 4

18 16

4 6

7 2

7 11

6 3

12 14

5 2

10 5

7 8

10 15

3 15

9 8

7 15

5 16

18 15
```

### 输出

```
Yes
```



---

---
title: "[AGC038D] Unique Path"
layout: "post"
diff: 省选/NOI-
pid: AT_agc038_d
tag: ['分类讨论']
---

# [AGC038D] Unique Path

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc038/tasks/agc038_d

すぬけ君は、$ 0 $ から $ N-1 $ までの番号のついた $ N $ 個の頂点と、$ M $ 本の辺からなる無向グラフをお母さんにもらいました。 このグラフは連結で、また、多重辺や自己ループは存在しませんでした。

ある日、すぬけ君はこのグラフを壊してしまいました。 しかし、すぬけ君はこのグラフについて、$ Q $ 個の情報を覚えています。 $ i $ ($ 0\ \leq\ i\ \leq\ Q-1 $) 番目の情報は整数 $ A_i,B_i,C_i $ で表され、次のことを意味します。

- $ C_i=0 $ の時: 頂点 $ A_i $ から $ B_i $ に向かう単純パス（同じ頂点を $ 2 $ 度通らないパス）が、$ 1 $ つしか存在しない。
- $ C_i=1 $ の時: 頂点 $ A_i $ から $ B_i $ に向かう単純パスが $ 2 $ つ以上存在する。

すぬけ君は自分の記憶に自信がないので、これら $ Q $ 個の情報に合致するグラフが存在するのかどうか心配になりました。 すぬけくんの記憶に合致するグラフが存在するかどうか判定してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ Q $ $ A_0 $ $ B_0 $ $ C_0 $ $ A_1 $ $ B_1 $ $ C_1 $ $ \vdots $ $ A_{Q-1} $ $ B_{Q-1} $ $ C_{Q-1} $

## 输出格式

すぬけくんの記憶に合致するグラフが存在する場合は `Yes`、そうでない場合は `No` と出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 10^5 $
- $ N-1\ \leq\ M\ \leq\ N\ \times\ (N-1)/2 $
- $ 1\ \leq\ Q\ \leq\ 10^5 $
- $ 0\ \leq\ A_i,B_i\ \leq\ N-1 $
- $ A_i\ \neq\ B_i $
- $ 0\ \leq\ C_i\ \leq\ 1 $
- 入力される値はすべて整数である。

### Sample Explanation 1

例えば、辺集合が $ (0,1),(1,2),(1,4),(2,3),(2,4) $ であるグラフを考えると、これは条件を満たします。

## 样例 #1

### 输入

```
5 5 3

0 1 0

1 2 1

2 3 0
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
4 4 3

0 1 0

1 2 1

2 3 0
```

### 输出

```
No
```

## 样例 #3

### 输入

```
10 9 9

7 6 0

4 5 1

9 7 0

2 9 0

2 3 0

4 1 0

8 0 0

9 1 0

3 0 0
```

### 输出

```
No
```



---


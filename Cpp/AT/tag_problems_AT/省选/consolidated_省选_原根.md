---
title: "[AGC047C] Product Modulo"
layout: "post"
diff: 省选/NOI-
pid: AT_agc047_c
tag: ['原根', '数论', '快速傅里叶变换 FFT']
---

# [AGC047C] Product Modulo

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc047/tasks/agc047_c

$ P $ を素数 $ 200\,003 $ とします。$ N $ 個の整数 $ A_1,\ A_2,\ \ldots,\ A_N $ が与えられるので、$ N\ \cdot\ (N-1)\ /\ 2 $ 個すべての非順序対 $ (A_i,\ A_j) $ ($ i\ <\ j $) に対する $ ((A_i\ \cdot\ A_j)\ \bmod\ P) $ の和を求めてください。

和を $ P $ で割った余りを求めるのではないことに注意してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ \cdots $ $ A_N $

## 输出格式

一つの整数、すなわち $ ((A_i\ \cdot\ A_j)\ \bmod\ P) $ の和を出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 200\,000 $
- $ 0\ \leq\ A_i\ <\ P\ =\ 200\,003 $
- 入力中のすべての値は整数である。

### Sample Explanation 1

$ 0 $ でない積は以下の通りです。 - $ 2019\ \cdot\ 2020\ \bmod\ P\ =\ 78320 $ - $ 2019\ \cdot\ 200002\ \bmod\ P\ =\ 197984 $ - $ 2020\ \cdot\ 200002\ \bmod\ P\ =\ 197983 $ よって、答えは $ 0\ +\ 78320\ +\ 197984\ +\ 0\ +\ 0\ +\ 197983\ =\ 474287 $ となります。

## 样例 #1

### 输入

```
4

2019 0 2020 200002
```

### 输出

```
474287
```

## 样例 #2

### 输入

```
5

1 1 2 2 100000
```

### 输出

```
600013
```



---


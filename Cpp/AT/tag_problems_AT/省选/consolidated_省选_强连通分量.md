---
title: "[ABC374G] Only One Product Name"
layout: "post"
diff: 省选/NOI-
pid: AT_abc374_g
tag: ['强连通分量', '二分图', '标签476']
---

# [ABC374G] Only One Product Name

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc374/tasks/abc374_g

キーエンスの商品名はすべて **英大文字 $ 2 $ 文字** からなります。  
 すでに $ N $ 個の商品名を使用しており、$ i $ 個目 $ (1\leq\ i\leq\ N) $ の商品名は $ S_i $ です。  
 一度使用した商品名は再び使うことができないので、過去に使用した商品名の一覧がすぐわかるように NG リストを作ることにしました。

NGリストは次の条件をみたす必要があります。

- $ 1 $ つ以上の文字列からなり、各文字列は英大文字のみからなる。
- すでに使用されている商品名それぞれについて、その商品名を（連続する）部分文字列として含む文字列が $ 1 $ つ以上存在する。
- リスト内のすべての文字列は、すでに使用されている商品名でない長さ $ 2 $ の文字列を（連続する）部分文字列として含まない。
 
NG リストの文字列の数としてあり得る最小の値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ S_1 $ $ S_2 $ $ \vdots $ $ S_N $

## 输出格式

NG リストの文字列の数としてあり得る最小の値を出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 26^2 $
- $ N $ は整数
- $ S_i $ は英大文字のみからなる長さ $ 2 $ の文字列
- $ S_1,S_2,\ldots,S_N $ はすべて異なる。
 
### Sample Explanation 1

条件をみたす NG リストとしては例えば次の $ 3 $ つの文字列からなるようなものが考えられます。 - `CABCDE` - `DF` - `XX` これは $ 3 $ つの文字列からなり、$ 2 $ つ以下の文字列からなり条件をみたす NG リストは存在しないため、 $ 3 $ を出力します。

### Sample Explanation 2

条件をみたす NG リストとしては例えば次の $ 2 $ つの文字列からなるようなものが考えられます。 - `ACDE` - `BCDF` すでに使用されている商品名は NG リスト内の複数の文字列に登場したり、同一文字列に複数回含まれたりしていても良いことに注意してください。

### Sample Explanation 3

例えば、`ABACBADB` のみからなる NG リストが条件をみたしています。

## 样例 #1

### 输入

```
7

AB

BC

CA

CD

DE

DF

XX
```

### 输出

```
3
```

## 样例 #2

### 输入

```
5

AC

BC

CD

DE

DF
```

### 输出

```
2
```

## 样例 #3

### 输入

```
6

AB

AC

CB

AD

DB

BA
```

### 输出

```
1
```



---

---
title: "[ARC069F] Flags"
layout: "post"
diff: 省选/NOI-
pid: AT_arc069_d
tag: ['线段树', '强连通分量', '分块']
---

# [ARC069F] Flags

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc069/tasks/arc069_d

すぬけくんは旗が好きです。

すぬけくんは $ N $ 本の旗を一直線上に並べることにしました。

$ i $ 番目の旗は座標 $ x_i $ か座標 $ y_i $ のどちらかに設置することができます。

すぬけくんは、$ 2 $ つの旗同士の距離の最小値 $ d $ が大きいほど、旗の並びの見栄えが良いと考えています。$ d $ としてありうる値の最大値を求めなさい。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ x_1 $ $ y_1 $ $ : $ $ x_N $ $ y_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 2\ ≦\ N\ ≦\ 10^{4} $
- $ 1\ ≦\ x_i,\ y_i\ ≦\ 10^{9} $
- $ x_i,\ y_i $ は整数

### Sample Explanation 1

旗 $ 1 $ を座標 $ 1 $ に、旗 $ 2 $ を座標 $ 5 $ に、旗 $ 3 $ を座標 $ 9 $ に設置するのが最適であり、このとき旗同士の距離の最小値は $ 4 $ となります。

### Sample Explanation 2

旗の位置は重なることもあります。

## 样例 #1

### 输入

```
3

1 3

2 5

1 9
```

### 输出

```
4
```

## 样例 #2

### 输入

```
5

2 2

2 2

2 2

2 2

2 2
```

### 输出

```
0
```

## 样例 #3

### 输入

```
22

93 6440

78 6647

862 11

8306 9689

798 99

801 521

188 206

6079 971

4559 209

50 94

92 6270

5403 560

803 83

1855 99

42 504

75 484

629 11

92 122

3359 37

28 16

648 14

11 269
```

### 输出

```
17
```



---

---
title: "[ARC165D] Substring Comparison"
layout: "post"
diff: 省选/NOI-
pid: AT_arc165_d
tag: ['强连通分量']
---

# [ARC165D] Substring Comparison

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc165/tasks/arc165_d

整数列 $ X=(X_1,X_2,\dots,X_n) $ に対し $ X[L,R] $ で整数列 $ (X_L,X_{L+1},\dots,X_{R}) $ を表します。

整数 $ N,M $ と $ M $ 個の整数の組 $ (A_i,B_i,C_i,D_i) $ が与えられます。

長さ $ N $ の整数列 $ X $ であって、すべての $ i=1,2,\dots,M $ に対して以下の条件を満たすものが存在するか判定してください。

- $ X[A_i,B_i] $ は $ X[C_i,D_i] $ より辞書式順序で小さい。
 
  数列の辞書順とは？数列 $ S\ =\ (S_1,S_2,\ldots,S_{|S|}) $ が数列 $ T\ =\ (T_1,T_2,\ldots,T_{|T|}) $ より**辞書順で小さい**とは、下記の 1. と 2. のどちらかが成り立つことを言います。 ここで、$ |S|,\ |T| $ はそれぞれ $ S,\ T $ の長さを表します。

1. $ |S|\ \lt\ |T| $ かつ $ (S_1,S_2,\ldots,S_{|S|})\ =\ (T_1,T_2,\ldots,T_{|S|}) $。
2. ある整数 $ 1\ \leq\ i\ \leq\ \min\lbrace\ |S|,\ |T|\ \rbrace $ が存在して、下記の $ 2 $ つがともに成り立つ。 
  - $ (S_1,S_2,\ldots,S_{i-1})\ =\ (T_1,T_2,\ldots,T_{i-1}) $
  - $ S_i $ が $ T_i $ より（数として）小さい。

## 输入格式

入力は以下の形式で標準入力から与えられます。

> $ N $ $ M $ $ A_1 $ $ B_1 $ $ C_1 $ $ D_1 $ $ A_2 $ $ B_2 $ $ C_2 $ $ D_2 $ $ \vdots $ $ A_M $ $ B_M $ $ C_M $ $ D_M $

## 输出格式

条件を満たす整数列が存在する場合は `Yes` を、存在しない場合は `No` を出力してください。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 2000 $
- $ 1\ \leq\ M\ \leq\ 2000 $
- $ 1\ \leq\ A_i\ \leq\ B_i\ \leq\ N $
- $ 1\ \leq\ C_i\ \leq\ D_i\ \leq\ N $
- 入力される値はすべて整数
 
### Sample Explanation 1

例えば $ X=(1,1,2,1) $ とすると条件を満たします。

### Sample Explanation 2

条件を満たす整数列 $ X $ は存在しません。

## 样例 #1

### 输入

```
4 2

1 3 3 4

4 4 1 2
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
3 2

1 2 2 3

2 2 1 1
```

### 输出

```
No
```

## 样例 #3

### 输入

```
15 20

2 5 6 14

11 14 10 10

13 15 6 10

8 10 3 8

7 8 1 9

2 8 14 15

14 14 5 12

6 10 9 9

1 4 10 14

5 14 6 7

8 10 5 8

8 10 11 15

4 8 4 11

7 9 1 4

8 10 3 3

11 13 8 14

6 13 4 15

4 7 6 11

2 5 1 2

8 14 6 8
```

### 输出

```
No
```



---

---
title: "[ARC186A] Underclued"
layout: "post"
diff: 省选/NOI-
pid: AT_arc186_a
tag: ['动态规划 DP', '强连通分量', '二分图', '构造', '标签465']
---

# [ARC186A] Underclued

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc186/tasks/arc186_a

各成分が $ 0,1 $ である $ N $ 次正方行列 $ A,B $ について、以下の条件を満たしているとき $ A $ と $ B $ は **似ている** と言います。

- 各行の総和が等しい。つまり、どの $ i=1,\dots,N $ についても $ A_{i,1}\ +\ \dots\ +\ A_{i,N}\ =\ B_{i,1}\ +\ \dots\ +\ B_{i,N} $
- 各列の総和が等しい。つまり、どの $ j=1,\dots,N $ についても $ A_{1,j}\ +\ \dots\ +\ A_{N,j}\ =\ B_{1,j}\ +\ \dots\ +\ B_{N,j} $

また、各成分が $ 0,1 $ である $ N $ 次正方行列 $ A $ と整数 $ i,j $ ($ 1\ \leq\ i,j\ \leq\ N $) について、$ A $ と似ているどの行列 $ B $ についても $ A_{i,j}\ =\ B_{i,j} $ が成り立つとき、$ A $ の $ i $ 行 $ j $ 列成分は **固定されている** と言います。

以下の $ Q $ 個のクエリに答えてください。

- $ i $ 番目のクエリ：各成分が $ 0,1 $ である $ N $ 次正方行列であって、固定されている成分がちょうど $ K_i $ 個であるようなものが存在するなら `Yes`、そうでないなら `No` を出力せよ。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ Q $ $ K_1 $ $ K_2 $ $ \vdots $ $ K_Q $

## 输出格式

$ Q $ 行に出力せよ。 $ i\ (1\ \le\ i\ \le\ Q) $ 行目には $ i $ 番目のクエリの答えを出力せよ。

## 说明/提示

### 制約

- $ 2\ \le\ N\ \le\ 30 $
- $ 1\ \le\ Q\ \le\ N^2+1 $
- $ 0\ \le\ K_i\ \le\ N^2 $
- $ K_i\ \ne\ K_j\ (1\ \le\ i\ <\ j\ \le\ Q) $
- 入力はすべて整数

### Sample Explanation 1

$ 1 $ 番目のクエリ： 例えば、以下のような行列 $ X $ は、固定されている成分が $ 0 $ 個です。 ``` 1 0 0 0 1 0 0 0 1 ``` なぜなら、次のように列を循環シフトさせていったものはすべて $ X $ と似ており、どの成分も $ 0 $ にも $ 1 $ にもなりうるためです。 ``` 0 0 1 1 0 0 0 1 0 ``` ``` 0 1 0 0 0 1 1 0 0 ``` $ 2 $ 番目のクエリ： 例えば、以下のような行列 $ X $ は、固定されている成分が $ 9 $ 個です。 ``` 0 0 1 0 1 1 1 1 1 ``` なぜなら、似ている行列は $ X $ 以外に存在せず、すべての成分が固定されているためです。 $ 3 $ 番目のクエリ： 固定されている成分がちょうど $ 7 $ 個であるような行列は存在しません。

## 样例 #1

### 输入

```
3 3
0
9
7
```

### 输出

```
Yes
Yes
No
```

## 样例 #2

### 输入

```
29 6
186
681
18
108
123
321
```

### 输出

```
No
Yes
No
Yes
No
Yes
```



---


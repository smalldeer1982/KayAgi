---
title: "[ARC076F] Exhausted?"
layout: "post"
diff: 省选/NOI-
pid: AT_arc076_d
tag: ['贪心', '网络流', '排序']
---

# [ARC076F] Exhausted?

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc076/tasks/arc076_d

椅子が $ M $ 個数直線上に並んでおり、$ i $ 番目の椅子 $ (1\ ≦\ i\ ≦\ M) $ は座標 $ i $ にあります。

高橋君が $ N $ 人います。高橋君たちはゲームのやりすぎで全員腰を痛めたため、どこかの椅子に座る必要があります。 各々の高橋君たちが座る椅子にはこだわりがあって、$ i $ 人目の高橋君は座標 $ L_i $ 以下、もしくは座標 $ R_i $ 以上の椅子に座りたいです。当然ながら、同じ椅子には $ 1 $ 人しか座れません。

このままでは、高橋君たち全員を椅子に座らせることができないかもしれません。 高橋君たちの健康管理に気を遣っている青木君は、椅子をできるだけ少ない数追加することで、 高橋君たち全員のこだわりを満たすように高橋君たちを椅子に座らせることができるようにしたいです。

椅子は、任意の実数座標に追加できます。追加する必要のある椅子の最小の個数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ L_1 $ $ R_1 $ $ : $ $ L_N $ $ R_N $

## 输出格式

追加する必要のある椅子の最小の個数を出力せよ。

## 说明/提示

### 制約

- $ 1\ ≦\ N,M\ ≦\ 2\ ×\ 10^5 $
- $ 0\ ≦\ L_i\ <\ R_i\ ≦\ M\ +\ 1(1\ ≦\ i\ ≦\ N) $
- 入力は全て整数である

### Sample Explanation 1

$ 4 $ 人の高橋君を順に座標 $ 3,2,1,4 $ にある椅子に座らせることができるため、椅子を追加する必要はありません。

### Sample Explanation 2

座標 $ 0 $ と $ 2.5 $ に椅子を追加すれば、$ 7 $ 人の高橋君を順に座標 $ 0,5,3,2,6,1,2.5 $ に座らせることができます。

## 样例 #1

### 输入

```
4 4

0 3

2 3

1 3

3 4
```

### 输出

```
0
```

## 样例 #2

### 输入

```
7 6

0 7

1 5

3 6

2 7

1 6

2 6

3 7
```

### 输出

```
2
```

## 样例 #3

### 输入

```
3 1

1 2

1 2

1 2
```

### 输出

```
2
```

## 样例 #4

### 输入

```
6 6

1 6

1 6

1 5

1 5

2 6

2 6
```

### 输出

```
2
```



---

---
title: "[ARC187C] 1 Loop Bubble Sort"
layout: "post"
diff: 省选/NOI-
pid: AT_arc187_c
tag: ['动态规划 DP', '排序']
---

# [ARC187C] 1 Loop Bubble Sort

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc187/tasks/arc187_c

$ (1,\ldots,N) $ の順列 $ P=(P_1,\ldots,P_N) $ に対して，以下の操作を一度行うことにより得られる順列を $ P'=(P'_1,\ldots,P'_N) $ とします．

- $ i=1,2,\ldots,N-1 $ の順に，$ P_i\ >\ P_{i+1} $ ならば $ P_i $ と $ P_{i+1} $ を入れ替える．

長さ $ N $ の数列 $ Q=(Q_1,\ldots,Q_N) $ が与えられます． $ Q_i $ は $ -1 $ または $ 1 $ 以上 $ N $ 以下の整数 です．

全ての $ i $ について $ Q_i\neq\ -1 $ ならば $ Q_i=P'_i $ を満たすような $ (1,\ldots,N) $ の順列 $ P $ の個数を $ 998244353 $ で割ったあまりを求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられる．

> $ N $ $ Q_1 $ $ \ldots $ $ Q_N $

## 输出格式

答えを出力せよ．

## 说明/提示

### 制約

- 入力される数値は全て整数
- $ 2\ \leq\ N\ \leq\ 5000 $
- $ Q_i $ は $ -1 $ または $ 1 $ 以上 $ N $ 以下の整数
- $ Q $ に $ 1,2,\ldots,N $ が含まれる個数はそれぞれ $ 1 $ 個以下

### Sample Explanation 1

例えば $ P=(3,1,4,2) $ は条件を満たします．これは以下の操作の挙動から確認できます． - $ i=1 $ のとき，$ P_1\ >\ P_2 $ なので $ P_1 $ と $ P_2 $ を入れ替え，$ P=(1,3,4,2) $ となる． - $ i=2 $ のとき，$ P_2\ <\ P_3 $ なので 何もしない． - $ i=3 $ のとき，$ P_3\ >\ P_4 $ なので $ P_3 $ と $ P_4 $ を入れ替え，$ P=(1,3,2,4) $ となる． - 以上より $ P'=(1,3,2,4) $ となり，$ P'_3=2,P'_4=4 $ を満たす． 条件を満たす $ P $ は以下の $ 6 $ 個です． - $ (1,3,4,2) $ - $ (1,4,3,2) $ - $ (3,1,4,2) $ - $ (3,4,1,2) $ - $ (4,1,3,2) $ - $ (4,3,1,2) $

### Sample Explanation 3

個数を $ 998244353 $ で割ったあまりを求めることに注意してください．

## 样例 #1

### 输入

```
4
-1 -1 2 4
```

### 输出

```
6
```

## 样例 #2

### 输入

```
6
-1 -1 -1 -1 2 -1
```

### 输出

```
120
```

## 样例 #3

### 输入

```
15
-1 -1 -1 -1 -1 4 -1 -1 -1 -1 7 -1 -1 -1 -1
```

### 输出

```
237554682
```



---


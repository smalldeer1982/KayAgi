---
title: "[ABC138F] Coincidence"
layout: "post"
diff: 省选/NOI-
pid: AT_abc138_f
tag: ['数位 DP']
---

# [ABC138F] Coincidence

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc138/tasks/abc138_f

整数 $ L,\ R $ が与えられます。整数の組 $ (x,\ y) $ $ (L\ \leq\ x\ \leq\ y\ \leq\ R) $ であって、$ y $ を $ x $ で割った余りが $ y\ \text{\ XOR\ }\ x $ に等しいものの個数を $ 10^9\ +\ 7 $ で割ったあまりを求めてください。

 $ \text{\ XOR\ } $ とは 整数 $ A,\ B $ のビットごとの排他的論理和 $ a\ \text{\ XOR\ }\ b $ は、以下のように定義されます。

- $ a\ \text{\ XOR\ }\ b $ を二進数表記した際の $ 2^k $ ($ k\ \geq\ 0 $) の位の数は、$ A,\ B $ を二進数表記した際の $ 2^k $ の位の数のうち一方のみが $ 1 $ であれば $ 1 $、そうでなければ $ 0 $ である。
 
 例えば、$ 3\ \text{\ XOR\ }\ 5\ =\ 6 $ となります (二進数表記すると: $ 011\ \text{\ XOR\ }\ 101\ =\ 110 $)。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ L $ $ R $

## 输出格式

条件を満たす整数の組 $ (x,\ y) $ $ (L\ \leq\ x\ \leq\ y\ \leq\ R) $ の個数を $ 10^9\ +\ 7 $ で割ったあまりを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ L\ \leq\ R\ \leq\ 10^{18} $

### Sample Explanation 1

条件を満たす組は $ (2,\ 2),\ (2,\ 3),\ (3,\ 3) $ の $ 3 $ 通りです。

### Sample Explanation 3

個数を $ 10^9\ +\ 7 $ で割ったあまりを計算することを忘れないでください。

## 样例 #1

### 输入

```
2 3
```

### 输出

```
3
```

## 样例 #2

### 输入

```
10 100
```

### 输出

```
604
```

## 样例 #3

### 输入

```
1 1000000000000000000
```

### 输出

```
68038601
```



---

---
title: "[ARC153D] Sum of Sum of Digits"
layout: "post"
diff: 省选/NOI-
pid: AT_arc153_d
tag: ['动态规划 DP', '数位 DP']
---

# [ARC153D] Sum of Sum of Digits

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc153/tasks/arc153_d

正整数 $ x $ に対し，その各桁の和を $ f(x) $ と表すことにします．例えば $ f(153)\ =\ 1\ +\ 5\ +\ 3\ =\ 9 $，$ f(2023)\ =\ 2\ +\ 0\ +\ 2\ +\ 3\ =\ 7 $，$ f(1)\ =\ 1 $ です．

正整数列 $ A\ =\ (A_1,\ \ldots,\ A_N) $ が与えられます．$ x $ を非負整数とするとき，$ \sum_{i=1}^N\ f(A_i\ +\ x) $ としてありうる最小値を求めてください．

## 输入格式

入力は以下の形式で標準入力から与えられます．

> $ N $ $ A_1 $ $ \ldots $ $ A_N $

## 输出格式

$ x $ を非負整数とするとき，$ \sum_{i=1}^N\ f(A_i\ +\ x) $ としてありうる最小値を出力してください．

## 说明/提示

### 制約

- $ 1\leq\ N\leq\ 2\times\ 10^5 $
- $ 1\leq\ A_i\ <\ 10^9 $
 
### Sample Explanation 1

例えば $ x\ =\ 7 $ とすると，$ \sum_{i=1}^N\ f(A_i+x)\ =\ f(11)\ +\ f(20)\ +\ f(15)\ +\ f(13)\ =\ 14 $ となります．

### Sample Explanation 2

例えば $ x\ =\ 22 $ とすると，$ \sum_{i=1}^N\ f(A_i+x)\ =\ f(145)\ +\ f(67)\ +\ f(700)\ +\ f(112)\ =\ 34 $ となります．

### Sample Explanation 3

例えば $ x\ =\ 0 $ とすると，$ \sum_{i=1}^N\ f(A_i+x)\ =\ f(1)\ +\ f(10)\ +\ f(100)\ =\ 3 $ となります．

### Sample Explanation 4

例えば $ x\ =\ 9999846846847 $ とすると，$ \sum_{i=1}^N\ f(A_i+x)\ =\ f(10000000000000)\ =\ 1 $ となります．

## 样例 #1

### 输入

```
4

4 13 8 6
```

### 输出

```
14
```

## 样例 #2

### 输入

```
4

123 45 678 90
```

### 输出

```
34
```

## 样例 #3

### 输入

```
3

1 10 100
```

### 输出

```
3
```

## 样例 #4

### 输入

```
1

153153153
```

### 输出

```
1
```



---

---
title: "[ARC156D] Xor Sum 5"
layout: "post"
diff: 省选/NOI-
pid: AT_arc156_d
tag: ['数位 DP', '生成函数', 'Lucas 定理']
---

# [ARC156D] Xor Sum 5

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc156/tasks/arc156_d

長さ $ N $ の非負整数列 $ A=(A_1,A_2,\dots,A_N) $ 、および正整数 $ K $ が与えられます。

$ 1\ \leq\ X_i\ \leq\ N\ (1\leq\ i\ \leq\ K) $ を満たす長さ $ K $ の正整数列 $ X=(X_1,X_2,\dots,X_K) $ は $ N^K $ 通り考えられますが、それらすべてに対する $ \displaystyle\ \sum_{i=1}^{K}\ A_{X_i} $ のビット単位 $ \mathrm{XOR} $ を求めてください。

   ビット単位 $ \mathrm{XOR} $ 演算とは  非負整数 $ A,\ B $ のビット単位 $ \mathrm{XOR} $ 、$ A\ \oplus\ B $ は、以下のように定義されます。

- $ A\ \oplus\ B $ を二進表記した際の $ 2^k $ ($ k\ \geq\ 0 $) の位の数は、$ A,\ B $ を二進表記した際の $ 2^k $ の位の数のうち一方のみが $ 1 $ であれば $ 1 $、そうでなければ $ 0 $ である。
 
 例えば、$ 3\ \oplus\ 5\ =\ 6 $ となります (二進表記すると: $ 011\ \oplus\ 101\ =\ 110 $)。  
 一般に $ k $ 個の非負整数 $ p_1,\ p_2,\ p_3,\ \dots,\ p_k $ のビット単位 $ \mathrm{XOR} $ は $ (\dots\ ((p_1\ \oplus\ p_2)\ \oplus\ p_3)\ \oplus\ \dots\ \oplus\ p_k) $ と定義され、これは $ p_1,\ p_2,\ p_3,\ \dots,\ p_k $ の順番によらないことが証明できます。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ K $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 1000 $
- $ 1\ \leq\ K\ \leq\ 10^{12} $
- $ 0\ \leq\ A_i\ \leq\ 1000 $
- 与えられる入力はすべて整数
 
### Sample Explanation 1

$ X $ として考えられるのは $ (X_1,X_2)=(1,1),(1,2),(2,1),(2,2) $ の $ 4 $ 通りであり、それぞれに対する $ A_{X_1}+A_{X_2} $ は $ 20,40,40,60 $ です。よって答えは $ 20\ \oplus\ 40\ \oplus\ 40\ \oplus\ 60=40 $ となります。

## 样例 #1

### 输入

```
2 2

10 30
```

### 输出

```
40
```

## 样例 #2

### 输入

```
4 10

0 0 0 0
```

### 输出

```
0
```

## 样例 #3

### 输入

```
11 998244353

314 159 265 358 979 323 846 264 338 327 950
```

### 输出

```
236500026047
```



---


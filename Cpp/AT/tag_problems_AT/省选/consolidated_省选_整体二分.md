---
title: "[ABC348G] Max (Sum - Max)"
layout: "post"
diff: 省选/NOI-
pid: AT_abc348_g
tag: ['线段树', '整体二分']
---

# [ABC348G] Max (Sum - Max)

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc348/tasks/abc348_g

長さ $ N $ の整数列 $ A,\ B $ が与えられます。$ k\ =\ 1,\ 2,\ \ldots\ ,N $ について、以下の問題を解いてください。

- $ 1 $ 以上 $ N $ 以下の相異なる整数 $ k $ 個を選ぶことを考える。選んだ整数の集合を $ S $ として、 $ \displaystyle\ (\sum_{i\ \in\ S}\ A_i)\ -\ \max_{i\ \in\ S}\ B_i $ としてあり得る値の最大値を求めよ。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ B_1 $ $ A_2 $ $ B_2 $ $ \vdots $ $ A_N $ $ B_N $

## 输出格式

$ N $ 行出力せよ。$ i $ 行目には、 $ k=i $ についての問題の答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 2\ \times\ 10^5 $
- $ -10^9\ \leq\ A_i\ \leq\ 10^9 $
- $ -2\ \times\ 10^{14}\ \leq\ B_i\ \leq\ 2\ \times\ 10^{14} $
 
### Sample Explanation 1

以下の選び方がそれぞれ最適です。 - $ k\ =\ 1 $ : $ S\ =\ \{1\} $ - $ k\ =\ 2 $ : $ S\ =\ \{1,\ 3\} $ - $ k\ =\ 3 $ : $ S\ =\ \{1,\ 2,\ 3\} $

## 样例 #1

### 输入

```
3

4 1

5 6

3 2
```

### 输出

```
3

5

6
```

## 样例 #2

### 输入

```
2

0 1

0 1
```

### 输出

```
-1

-1
```

## 样例 #3

### 输入

```
6

9 7

2 4

7 1

-1000 0

3 4

8 5
```

### 输出

```
6

10

17

20

22

-978
```



---

---
title: "[AGC002D] Stamp Rally"
layout: "post"
diff: 省选/NOI-
pid: AT_agc002_d
tag: ['并查集', '栈', '整体二分']
---

# [AGC002D] Stamp Rally

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc002/tasks/agc002_d



## 输入格式

第一行两个正整数，代表 $N$ 和 $M$。

接下来 $M$ 行，第 $i$ 行有两个正整数 $a_i,b_i$，代表 $a_i$ 和 $b_i$ 之间有一条无向边。

接下来一行有一个正整数，代表 $Q$。

接下来 $Q$ 行，第 $i$ 行有三个整数 $x_i,y_i,z_i$，表示一种询问。

## 输出格式

对于每个询问，输出一行一个整数表示答案。

## 样例 #1

### 输入

```
5 6
2 3
4 5
1 2
1 3
1 4
1 5
6
2 4 3
2 4 4
2 4 5
1 3 3
1 3 4
1 3 5

```

### 输出

```
1
2
3
1
5
5

```



---


---
title: "[ARC173E] Rearrange and Adjacent XOR"
layout: "post"
diff: 省选/NOI-
pid: AT_arc173_e
tag: ['线性基']
---

# [ARC173E] Rearrange and Adjacent XOR

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc173/tasks/arc173_e

長さ $ N $ の非負整数列 $ A=(A_1,A_2,\dots,A_N) $ が与えられます。この整数列に対して以下の操作を $ N-1 $ 回行って長さ $ 1 $ の整数列を得ることを考えます。

- $ n $ を $ A $ の長さとする。はじめに $ A $ 内の要素を好きなように並び替える。 その後、 $ A $ を長さ $ n-1 $ の非負整数列 $ (A_1\ \oplus\ A_2,\ A_2\ \oplus\ A_3,\ \dots,\ A_{n-1}\ \oplus\ A_n) $ に置き換える
 
ただしここで、 $ \oplus $ はビット単位 $ \mathrm{XOR} $ 演算を表します。

$ N-1 $ 回の操作後に得られる長さ $ 1 $ の整数列が含む項の値を $ X $ としたとき、$ X $ として考えられる値の最大値を求めてください。

   ビット単位 $ \mathrm{XOR} $ 演算とは  非負整数 $ A,\ B $ のビット単位 $ \mathrm{XOR} $ 、$ A\ \oplus\ B $ は、以下のように定義されます。

- $ A\ \oplus\ B $ を二進表記した際の $ 2^k $ ($ k\ \geq\ 0 $) の位の数は、$ A,\ B $ を二進表記した際の $ 2^k $ の位の数のうち一方のみが $ 1 $ であれば $ 1 $、そうでなければ $ 0 $ である。
 
 例えば、$ 3\ \oplus\ 5\ =\ 6 $ となります (二進表記すると: $ 011\ \oplus\ 101\ =\ 110 $)。  
 一般に $ k $ 個の非負整数 $ p_1,\ p_2,\ p_3,\ \dots,\ p_k $ のビット単位 $ \mathrm{XOR} $ は $ (\dots\ ((p_1\ \oplus\ p_2)\ \oplus\ p_3)\ \oplus\ \dots\ \oplus\ p_k) $ と定義され、これは $ p_1,\ p_2,\ p_3,\ \dots,\ p_k $ の順番によらないことが証明できます。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A_1 $ $ A_2 $ $ \dots $ $ A_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 2\ \leq\ N\ \leq\ 100 $
- $ 0\ \leq\ A_i\ <\ 2^{60} $
- 入力される値はすべて整数
 
### Sample Explanation 1

以下のような $ 3 $ 回の操作により $ A $ を $ A=(7) $ とできます。 - $ 1 $ 回目の操作にて、 $ A=(1,2,3,4) $ を $ (3,1,4,2) $ と並び替える。 $ A $ は $ (3\ \oplus\ 1,\ 1\ \oplus\ 4,\ 4\ \oplus\ 2)\ =\ (2,5,6) $ に置き換わる。 - $ 2 $ 回目の操作にて、 $ A=(2,5,6) $ を $ (2,6,5) $ と並び替える。 $ A $ は $ (2\ \oplus\ 6,\ 6\ \oplus\ 5)\ =\ (4,3) $ に置き換わる。 - $ 3 $ 回目の操作にて、 $ A=(4,3) $ を $ (4,3) $ と並び替える。 $ A $ は $ (4\ \oplus\ 3)\ =\ (7) $ に置き換わる。

## 样例 #1

### 输入

```
4

1 2 3 4
```

### 输出

```
7
```

## 样例 #2

### 输入

```
13

451745518671773958 43800508384422957 153019271028231120 577708532586013562 133532134450358663 619750463276496276 615201966367277237 943395749975730789 813856754125382728 705285621476908966 912241698686715427 951219919930656543 124032597374298654
```

### 输出

```
1152905479775702586
```



---

---
title: "Odd Subrectangles"
layout: "post"
diff: 省选/NOI-
pid: AT_yahoo_procon2019_qual_e
tag: ['动态规划 DP', '容斥原理', '线性基']
---

# Odd Subrectangles

## 题目描述

[problemUrl]: https://atcoder.jp/contests/yahoo-procon2019-qual/tasks/yahoo_procon2019_qual_e

$ N $ 行 $ M $ 列のマス目があります。 各マスには $ 0 $ または $ 1 $ の整数が書かれていて、上から $ i $ 行目、左から $ j $ 列目に書かれている整数は $ a_{ij} $ です。

行の部分集合 $ A $ と列の部分集合 $ B $ の組 $ 2^{N+M} $ 通りのうち、以下の条件を満たすものの個数を $ 998244353 $ で割ったあまりを求めてください。

- $ A $ に属する行と $ B $ に属する列の交わりに属する $ |A||B| $ 個のマスに書かれた整数の総和が奇数である

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ a_{11} $ $ ... $ $ a_{1M} $ $ : $ $ a_{N1} $ $ ... $ $ a_{NM} $

## 输出格式

行の部分集合 $ A $ と列の部分集合 $ B $ の組のうち、条件を満たすものの個数を $ 998244353 $ で割ったあまりを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N,M\ \leq\ 300 $
- $ 0\ \leq\ a_{i,j}\ \leq\ 1(1\leq\ i\leq\ N,1\leq\ j\leq\ M) $
- 入力はすべて整数である

### Sample Explanation 1

例えば、$ A $ として $ 1 $ 行目のみを選び、$ B $ として $ 1,2 $ 列目を選んだとき、その交わりに属するマスに書かれた整数の和は $ 0+1=1 $ になります。

## 样例 #1

### 输入

```
2 2

0 1

1 0
```

### 输出

```
6
```

## 样例 #2

### 输入

```
2 3

0 0 0

0 1 0
```

### 输出

```
8
```



---


---
title: "[ABC285G] Tatami"
layout: "post"
diff: 省选/NOI-
pid: AT_abc285_g
tag: ['网络流', '二分图']
---

# [ABC285G] Tatami

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc285/tasks/abc285_g

縦 $ H $ マス、横 $ W $ マスのグリッドがあります。上から $ i $ 行目、左から $ j $ 列目のマスをマス $ (i,j) $ と呼びます。

このグリッドを縦 $ 1 $ マス $ \times $ 横 $ 1 $ マスのタイルと縦 $ 1 $ マス $ \times $ 横 $ 2 $ マスのタイルで、重ならないように、隙間ができないように覆います（タイルは回転してもよい）。

各マスには `1`, `2`, `?` のいずれかが書かれています。マス $ (i,j) $ に書かれている文字は $ c_{i,j} $ です。  
`1` が書かれたマスは $ 1\times\ 1 $ のタイルで、`2` が書かれたマスは $ 1\times\ 2 $ のタイルで覆わなければなりません。`?` が書かれたマスはどちらのタイルで覆っても構いません。

そのようなタイルの置き方があるかどうか判定してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ H $ $ W $ $ c_{1,1}c_{1,2}\ldots\ c_{1,W} $ $ \vdots $ $ c_{H,1}c_{H,2}\ldots\ c_{H,W} $

## 输出格式

問題文中の条件を満たすタイルの置き方が存在するなら `Yes`、存在しないなら `No` と出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ H,W\ \leq\ 300 $
- $ H,W $ は整数
- $ c_{i,j} $ は `1`, `2`, `?` のいずれか

### Sample Explanation 1

例えば以下のようなタイルの置き方で条件を満たすことができます。 !\[\](https://img.atcoder.jp/abc285/d984ec33355bac05ecebc41076d9a8df.png)

### Sample Explanation 2

条件を満たすようなタイルの置き方は存在しません。

## 样例 #1

### 输入

```
3 4
2221
?1??
2?21
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
3 4
2?21
??1?
2?21
```

### 输出

```
No
```

## 样例 #3

### 输入

```
5 5
11111
11111
11211
11111
11111
```

### 输出

```
No
```



---

---
title: "[ABC317G] Rearranging"
layout: "post"
diff: 省选/NOI-
pid: AT_abc317_g
tag: ['网络流', '二分图']
---

# [ABC317G] Rearranging

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc317/tasks/abc317_g

$ N $ 行 $ M $ 列のグリッドがあります。上から $ i $ 行目左から $ j $ 列目のマスには整数 $ A_{i,j} $ が書かれています。  
 ここで、グリッドのマスに書かれている計 $ NM $ 個の整数は $ 1,\ldots,N $ をちょうど $ M $ 個ずつ含みます。

あなたは次の手順でマスに書かれた数を入れ替える操作を行います。

- $ i=1,\ldots,N $ の順に次を行う。
  - $ i $ 行目に書かれた数を自由に並び替える。すなわち、$ 1,\ldots,M $ の並び替えである長さ $ M $ の数列 $ P=(P_{1},\ldots,P_{M}) $ を自由に選び、$ A_{i,1},\ldots,A_{i,M} $ を 同時に $ A_{i,P_{1}},\ldots,A_{i,P_{M}} $ に置き換える。
 
あなたの目的は、操作後に全ての列が $ 1,\ldots,N $ を $ 1 $ つずつ含むようにすることです。そのようなことが可能であるか判定し、可能であれば操作後のグリッドの状態を出力してください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ A_{1,1} $ $ \ldots $ $ A_{1,M} $ $ \vdots $ $ A_{N,1} $ $ \ldots $ $ A_{N,M} $

## 输出格式

操作により全ての列が $ 1,\ldots,N $ を $ 1 $ つずつ含むようにするのが不可能ならば `No` と出力せよ。  
 可能であるとき、$ 1 $ 行目に `Yes` と出力し、続く $ N $ 行に、全ての列が $ 1,\ldots,N $ を $ 1 $ つずつ含むように操作したあとのグリッドの状態を次の形式で出力せよ。  
 グリッドの上から $ i $ 行目左から $ j $ 列目のマスに書かれた数を $ B_{i,j} $ とする。各 $ 1\leq\ i\ \leq\ N $ について $ i+1 $ 行目に $ B_{i,1},\ldots,B_{i,M} $ をこの順に空白区切りで出力せよ。

答えが複数存在する場合、どれを出力しても正解とみなされる。

## 说明/提示

### 制約

- $ 1\ \leq\ N,M\ \leq\ 100 $
- $ 1\ \leq\ A_{i,j}\ \leq\ N $
- 入力は全て整数である
- $ NM $ 個の数 $ A_{1,1},\ldots,A_{N,M} $ は $ 1,\ldots,N $ をそれぞれちょうど $ M $ 個ずつ含む
 
### Sample Explanation 1

この他、以下の出力も正解とみなされる。 ``` Yes 1 1 2 3 3 2 ```

## 样例 #1

### 输入

```
3 2

1 1

2 3

2 3
```

### 输出

```
Yes

1 1

3 2

2 3
```

## 样例 #2

### 输入

```
4 4

1 2 3 4

1 1 1 2

3 2 2 4

4 4 3 3
```

### 输出

```
Yes

1 4 3 2

2 1 1 1

4 2 2 3

3 3 4 4
```



---

---
title: "[ABC347G] Grid Coloring 2"
layout: "post"
diff: 省选/NOI-
pid: AT_abc347_g
tag: ['网络流']
---

# [ABC347G] Grid Coloring 2

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc347/tasks/abc347_g

$ N\times\ N $ のマス目があり、それぞれのマスには $ 0 $ 以上 $ 5 $ 以下の整数が書かれています。 上から $ i $ 行目、左から $ j $ 列目 $ (1\leq\ i,j\leq\ N) $ のマスをマス $ (i,j) $ と表し、マス $ (i,j) $ には整数 $ A\ _\ {i,j} $ が書かれています。

このマス目に対して、次の操作を $ 0 $ 回以上好きな回数行います。

- $ 0 $ が書かれているマス $ (i,j) $ と $ 1 $ 以上 $ 5 $ 以下の整数 $ x $ を $ 1 $ つ選ぶ。選ばれたマスに書かれている数を $ x $ に変更する。
 
操作が終了したあと、マス $ (i,j) $ に書かれている整数を $ B\ _\ {i,j} $ とします。 マス目の**コスト**を、隣接するマスに書かれた整数の差の二乗の総和とします。つまり、コストは次の式で表されます。

$ \displaystyle\sum\ _\ {i=1}\ ^\ N\sum\ _\ {j=1}\ ^\ {N-1}(B\ _\ {i,j}-B\ _\ {i,j+1})^2+\sum\ _\ {i=1}\ ^\ {N-1}\sum\ _\ {j=1}\ ^\ N(B\ _\ {i,j}-B\ _\ {i+1,j})^2 $操作が終了したあとのマス目としてありえるもののうち、コストが最小のものを求めてください。

ただし、コストが最小となるマス目の状態が複数ある場合、そのうちどれを出力しても構いません。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A\ _\ {1,1} $ $ A\ _\ {1,2} $ $ \ldots $ $ A\ _\ {1,N} $ $ A\ _\ {2,1} $ $ A\ _\ {2,2} $ $ \ldots $ $ A\ _\ {2,N} $ $ \vdots $ $ \ \vdots $ $ \ddots $ $ \vdots $ $ A\ _\ {N,1} $ $ A\ _\ {N,2} $ $ \ldots $ $ A\ _\ {N,N} $

## 输出格式

$ N $ 行に出力せよ。 $ i $ 行目 $ (1\leq\ i\leq\ N) $ にはコストが最小になるように操作を行ったときの $ B\ _\ {i,1},B\ _\ {i,2},\ldots,B\ _\ {i,N} $ をこの順に、空白を区切りとして出力せよ。

## 说明/提示

### 制約

- $ 1\leq\ N\leq20 $
- $ 0\leq\ A\ _\ {i,j}\leq\ 5\ (1\leq\ i\leq\ N,1\leq\ j\leq\ N) $
- 入力はすべて整数
 
### Sample Explanation 1

与えられるマス目は以下のようになります。 !\[\](https://img.atcoder.jp/abc347/0748d5e94455d9f4c627617596f61af6.png) 図の右の状態になるように操作を行うことで、コストが $ 2\ ^\ 2\times6+1\ ^\ 2\times18+0\ ^\ 2\times16=42 $ となります。 コストが $ 41 $ 以下になることはないので、この状態に対応する $ B\ _\ {i,j} $ を出力することで正解になります。

### Sample Explanation 2

はじめからコストが $ 0 $ なので、操作を行わないことでコストが最小になります。 操作が終了した後のマスの状態のうちコストが最小のものが複数ある場合どれを出力しても構わないため、 ``` 2 2 2 2 2 2 2 2 2 ``` のように出力しても正解となります。

## 样例 #1

### 输入

```
5

0 2 1 0 4

4 0 0 0 2

3 1 0 3 0

1 0 0 0 0

0 0 2 0 5
```

### 输出

```
3 2 1 2 4

4 2 2 2 2

3 1 2 3 3

1 1 2 3 4

1 1 2 3 5
```

## 样例 #2

### 输入

```
3

0 0 0

0 0 0

0 0 0
```

### 输出

```
0 0 0

0 0 0

0 0 0
```

## 样例 #3

### 输入

```
10

1 0 0 3 0 0 0 0 0 0

1 0 0 4 0 1 0 5 0 0

0 0 0 0 0 0 2 0 3 0

0 0 2 0 0 0 4 0 0 3

0 3 4 3 3 0 3 0 0 5

4 1 3 4 4 0 2 1 0 0

2 0 1 0 5 2 0 1 1 5

0 0 0 5 0 0 3 2 4 0

4 5 0 0 3 2 0 3 5 0

4 0 0 5 0 0 0 3 0 5
```

### 输出

```
1 2 3 3 3 2 3 4 4 4

1 2 3 4 3 1 3 5 4 4

2 2 2 3 3 2 2 3 3 3

2 2 2 3 3 3 4 3 3 3

3 3 4 3 3 3 3 2 3 5

4 1 3 4 4 3 2 1 2 4

2 2 1 4 5 2 2 1 1 5

3 3 3 5 4 3 3 2 4 5

4 5 4 4 3 2 3 3 5 5

4 4 4 5 4 3 3 3 4 5
```



---

---
title: "[ABC354G] Select Strings"
layout: "post"
diff: 省选/NOI-
pid: AT_abc354_g
tag: ['网络流', '数学']
---

# [ABC354G] Select Strings

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc354/tasks/abc354_g

$ N $ 個の英小文字からなる文字列 $ S_1,S_2,\ldots,S_N $ と $ N $ 個の正整数 $ A_1,A_2,\ldots,A_N $ があります。

ある $ \lbrace\ 1,2,\ldots,N\ \rbrace $ の部分集合 $ T $ は $ i,j\ \in\ T\ (i\ \neq\ j) $ で $ S_i $ が $ S_j $ の部分文字列となるような $ i,j $ の組がないとき**良い集合**であるといいます。

良い集合 $ T $ を選んだ時 $ \displaystyle\ \sum_{i\ \in\ T}\ A_i $ としてありえる値の最大値を求めてください。

 部分文字列とは？ $ S $ の**部分文字列**とは、$ S $ の先頭から $ 0 $ 文字以上、末尾から $ 0 $ 文字以上削除して得られる文字列のことをいいます。 例えば、`ab` は `abc` の部分文字列ですが、`ac` は `abc` の部分文字列ではありません。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ S_1 $ $ S_2 $ $ \vdots $ $ S_N $ $ A_1 $ $ A_2 $ $ \ldots $ $ A_N $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \leq\ N\ \leq\ 100 $
- $ S_i $ は英小文字からなる文字列である
- $ 1\ \leq\ |S_i| $
- $ |S_1|+|S_2|\ +\ \ldots\ +\ |S_N|\ \leq\ 5000 $
- $ 1\ \leq\ A_i\ \leq\ 10^9 $
 
### Sample Explanation 1

良い集合 としてありえる $ T $ とそれぞれに対する $ \displaystyle\ \sum_{i\ \in\ T}\ A_i $ は以下の通りです。 - $ T\ =\ \lbrace\ 1\ \rbrace $ のとき $ \displaystyle\ \sum_{i\ \in\ T}\ A_i\ =\ 5 $ - $ T\ =\ \lbrace\ 2\ \rbrace $ のとき $ \displaystyle\ \sum_{i\ \in\ T}\ A_i\ =\ 2 $ - $ T\ =\ \lbrace\ 3\ \rbrace $ のとき $ \displaystyle\ \sum_{i\ \in\ T}\ A_i\ =\ 3 $ - $ T\ =\ \lbrace\ 4\ \rbrace $ のとき $ \displaystyle\ \sum_{i\ \in\ T}\ A_i\ =\ 4 $ - $ T\ =\ \lbrace\ 2,3\ \rbrace $ のとき $ \displaystyle\ \sum_{i\ \in\ T}\ A_i\ =\ 5 $ - $ T\ =\ \lbrace\ 2,4\ \rbrace $ のとき $ \displaystyle\ \sum_{i\ \in\ T}\ A_i\ =\ 6 $ このうち最大値は $ 6 $ なので、$ 6 $ を出力します。

## 样例 #1

### 输入

```
4

atcoder

at

coder

code

5 2 3 4
```

### 输出

```
6
```

## 样例 #2

### 输入

```
10

abcd

abc

ab

a

b

c

d

ab

bc

cd

100 10 50 30 60 90 80 70 40 20
```

### 输出

```
260
```



---

---
title: "[ABC397G] Maximize Distance"
layout: "post"
diff: 省选/NOI-
pid: AT_abc397_g
tag: ['二分', '网络流', '最小割']
---

# [ABC397G] Maximize Distance

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc397/tasks/abc397_g

给定一个包含 $N$ 个顶点和 $M$ 条边的有向图。顶点编号为 $1,2,\dots,N$，其中第 $j$ 条边（$j=1,2,\dots,M$）从顶点 $u_j$ 指向顶点 $v_j$。保证从顶点 $1$ 到顶点 $N$ 是可达的。

初始时，所有边的权重均为 $0$。当从 $M$ 条边中恰好选择 $K$ 条边并将其权重改为 $1$ 时，求修改后的图中顶点 $1$ 到顶点 $N$ 的最短距离的最大可能值。

## 输入格式

输入通过标准输入给出，格式如下：

> $N$ $M$ $K$   
> $u_1$ $v_1$   
> $u_2$ $v_2$   
> $\vdots$   
> $u_M$ $v_M$   


## 输出格式

输出答案。

## 说明/提示

### 约束条件

- $2 \leq N \leq 30$
- $1 \leq K \leq M \leq 100$
- $1 \leq u_j, v_j \leq N$
- $u_j \neq v_j$
- 给定图中，顶点 $1$ 到顶点 $N$ 是可达的
- 输入均为整数

### 样例解释 1

若选择边 $1$ 和 $3$，则顶点 $1$ 到顶点 $3$ 的最短距离为 $1$。由于不存在使最短距离达到 $2$ 或更大的选择方式，因此答案为 $1$。

### 样例解释 2

若选择边 $1$、$2$ 和 $4$，则顶点 $1$ 到顶点 $4$ 的最短距离为 $2$。由于不存在使最短距离达到 $3$ 或更大的选择方式，因此答案为 $2$。

### 样例解释 3

请注意图中可能存在多重边。

翻译由 DeepSeek R1 完成

## 样例 #1

### 输入

```
3 3 2

1 2

2 3

1 3
```

### 输出

```
1
```

## 样例 #2

### 输入

```
4 4 3

1 2

1 3

3 2

2 4
```

### 输出

```
2
```

## 样例 #3

### 输入

```
2 2 1

1 2

1 2
```

### 输出

```
0
```



---

---
title: "[ABC407G] Domino Covering SUM"
layout: "post"
diff: 省选/NOI-
pid: AT_abc407_g
tag: ['网络流', '费用流']
---

# [ABC407G] Domino Covering SUM

## 题目描述

给你一个 $H$ 行 $W$ 列的网格，第 $i$ 行第 $j$ 列的格子上写有数字 $A_{i,j}$。

你要在网格上摆放若干个多米诺骨牌，每个骨牌盖住相邻的两个格子。你要保证没有任何一个格子被多于一个骨牌盖住。

求摆放完骨牌之后，所有**没有**被骨牌盖住的格子上的数字之和的最大值。

## 输入格式

第一行两个整数 $H,W(H,W\ge 1,H\times W\le 2000)$。\
接下来 $H$ 行，每行 $W$ 个整数表示 $A(-10^{12}\le A_{i,j}\le 10^{12})$。

## 输出格式

一行一个整数表示答案。

## 说明/提示

**样例解释 1**

网格如下所示：

![](https://img.atcoder.jp/abc407/5381f1b744f7aeb5255628f8154a70be.png)

以下的摆放方式中未被盖住的数字之和为 $23$。

![](https://img.atcoder.jp/abc407/138df0fb001c8e55e88f41af1ca61d63.png)

可以证明此值无法达到 $24$ 或更大，故输出 $23$。

By @[chenxi2009](/user/1020063)

## 样例 #1

### 输入

```
3 4
3 -1 -4 1
-5 9 -2 -6
-5 3 -5 8
```

### 输出

```
23
```

## 样例 #2

### 输入

```
5 5
-70 11 -45 -54 -30
-99 39 -83 -69 -77
-48 -21 -43 -96 -24
-54 -65 21 -88 -44
-90 -33 -67 -29 -62
```

### 输出

```
39
```

## 样例 #3

### 输入

```
8 9
-74832 16944 58683 32965 97236 -52995 43262 -51959 40883
-58715 13846 24919 65627 -11492 -63264 29966 -98452 -75577
40415 77202 15542 -50602 83295 85415 -35304 46520 -38742
37482 56721 -38521 63127 55608 95115 42893 10484 70510
53019 40623 25885 -10246 70973 32528 -33423 19322 52097
79880 74931 -58277 -33783 91022 -53003 11085 -65924 -63548
78622 -77307 81181 46875 -81091 63881 11160 -82217 -55492
62770 39530 -95923 92440 -69899 77737 89392 -14281 84899
```

### 输出

```
2232232
```



---

---
title: "[AGC037D] Sorting a Grid"
layout: "post"
diff: 省选/NOI-
pid: AT_agc037_d
tag: ['网络流', '二分图']
---

# [AGC037D] Sorting a Grid

## 题目描述

[problemUrl]: https://atcoder.jp/contests/agc037/tasks/agc037_d

$ N $ 行 $ M $ 列のマス目があります。 このマス目には $ 1 $ から $ NM $ までの整数がそれぞれ $ 1 $ つずつ書かれています。 上から $ i $ 行目、左から $ j $ 列目にあるマスに書かれている数は $ A_{ij} $ です。

あなたはこのマス目を以下の手順に従って並べ替える必要があります。

1. まず $ N $ 個の行それぞれに対して、その行に書かれている数を好きに並べ替える。
2. 次に $ M $ 個の列それぞれに対して、その列に書かれている数を好きに並べ替える。
3. 最後に $ N $ 個の行それぞれに対して、その行に書かれている数を好きに並べ替える。

最終的に上から $ i $ 行目、左から $ j $ 行目にあるマスに書かれている数が $ M\times\ (i-1)+j $ となるようにしたいです。 そのような並べ替え方を一つ構成してください。与えられた制約の下で、常に条件をみたすように並べ替えられることができることは保証されています。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ A_{11} $ $ A_{12} $ $ ... $ $ A_{1M} $ $ : $ $ A_{N1} $ $ A_{N2} $ $ ... $ $ A_{NM} $

## 输出格式

以下の形式で並べ替え方を出力せよ。

> $ B_{11} $ $ B_{12} $ $ ... $ $ B_{1M} $ $ : $ $ B_{N1} $ $ B_{N2} $ $ ... $ $ B_{NM} $ $ C_{11} $ $ C_{12} $ $ ... $ $ C_{1M} $ $ : $ $ C_{N1} $ $ C_{N2} $ $ ... $ $ C_{NM} $

ただし、$ B_{ij} $ は手順 $ 1 $ を行った後に上から $ i $ 行目、左から $ j $ 行目にあるマスに書かれている数であり、 $ C_{ij} $ は手順 $ 2 $ を行った後に上から $ i $ 行目、左から $ j $ 行目にあるマスに書かれている数である。

## 说明/提示

### 制約

- $ 1\ ≦\ N,M\ ≦\ 100 $
- $ 1\ ≦\ A_{ij}\ ≦\ NM $
- $ A_{ij} $ は相異なる

## 样例 #1

### 输入

```
3 2

2 6

4 3

1 5
```

### 输出

```
2 6 

4 3 

5 1 

2 1 

4 3 

5 6
```

## 样例 #2

### 输入

```
3 4

1 4 7 10

2 5 8 11

3 6 9 12
```

### 输出

```
1 4 7 10 

5 8 11 2 

9 12 3 6 

1 4 3 2 

5 8 7 6 

9 12 11 10
```



---

---
title: "[ARC076F] Exhausted?"
layout: "post"
diff: 省选/NOI-
pid: AT_arc076_d
tag: ['贪心', '网络流', '排序']
---

# [ARC076F] Exhausted?

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc076/tasks/arc076_d

椅子が $ M $ 個数直線上に並んでおり、$ i $ 番目の椅子 $ (1\ ≦\ i\ ≦\ M) $ は座標 $ i $ にあります。

高橋君が $ N $ 人います。高橋君たちはゲームのやりすぎで全員腰を痛めたため、どこかの椅子に座る必要があります。 各々の高橋君たちが座る椅子にはこだわりがあって、$ i $ 人目の高橋君は座標 $ L_i $ 以下、もしくは座標 $ R_i $ 以上の椅子に座りたいです。当然ながら、同じ椅子には $ 1 $ 人しか座れません。

このままでは、高橋君たち全員を椅子に座らせることができないかもしれません。 高橋君たちの健康管理に気を遣っている青木君は、椅子をできるだけ少ない数追加することで、 高橋君たち全員のこだわりを満たすように高橋君たちを椅子に座らせることができるようにしたいです。

椅子は、任意の実数座標に追加できます。追加する必要のある椅子の最小の個数を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ L_1 $ $ R_1 $ $ : $ $ L_N $ $ R_N $

## 输出格式

追加する必要のある椅子の最小の個数を出力せよ。

## 说明/提示

### 制約

- $ 1\ ≦\ N,M\ ≦\ 2\ ×\ 10^5 $
- $ 0\ ≦\ L_i\ <\ R_i\ ≦\ M\ +\ 1(1\ ≦\ i\ ≦\ N) $
- 入力は全て整数である

### Sample Explanation 1

$ 4 $ 人の高橋君を順に座標 $ 3,2,1,4 $ にある椅子に座らせることができるため、椅子を追加する必要はありません。

### Sample Explanation 2

座標 $ 0 $ と $ 2.5 $ に椅子を追加すれば、$ 7 $ 人の高橋君を順に座標 $ 0,5,3,2,6,1,2.5 $ に座らせることができます。

## 样例 #1

### 输入

```
4 4

0 3

2 3

1 3

3 4
```

### 输出

```
0
```

## 样例 #2

### 输入

```
7 6

0 7

1 5

3 6

2 7

1 6

2 6

3 7
```

### 输出

```
2
```

## 样例 #3

### 输入

```
3 1

1 2

1 2

1 2
```

### 输出

```
2
```

## 样例 #4

### 输入

```
6 6

1 6

1 6

1 5

1 5

2 6

2 6
```

### 输出

```
2
```



---

---
title: "[ARC176E] Max Vector"
layout: "post"
diff: 省选/NOI-
pid: AT_arc176_e
tag: ['网络流']
---

# [ARC176E] Max Vector

## 题目描述

[problemUrl]: https://atcoder.jp/contests/arc176/tasks/arc176_e

長さ $ N $ の正整数列 $ X=(X_1,X_2,\dots,X_N),Y=(Y_1,Y_2,\dots,Y_N) $ が与えられます。

また、長さ $ N $ の正整数列が $ M $ 個与えられます。$ i $ 個目の正整数列は $ A_i\ =\ (A_{i,1},A_{i,2},\dots,A_{i,N}) $ です。

あなたは $ i\ =\ 1,2,\dots,M $ の順に以下の操作のうちどちらかを行います。どちらを選ぶかは各 $ i $ に対して独立に決めることが出来ます。

- $ 1\ \le\ j\ \le\ N $ を満たす全ての整数 $ j $ に対して $ X_j $ を $ \max(X_j,A_{i,j}) $ に置き換える。
- $ 1\ \le\ j\ \le\ N $ を満たす全ての整数 $ j $ に対して $ Y_j $ を $ \max(Y_j,A_{i,j}) $ に置き換える。
 
操作終了時の $ \sum_{j=1}^{N}\ (X_j\ +\ Y_j) $ の最小値を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ M $ $ X_1 $ $ X_2 $ $ \dots $ $ X_N $ $ Y_1 $ $ Y_2 $ $ \dots $ $ Y_N $ $ A_{1,1} $ $ A_{1,2} $ $ \dots $ $ A_{1,N} $ $ A_{2,1} $ $ A_{2,2} $ $ \dots $ $ A_{2,N} $ $ \vdots $ $ A_{M,1} $ $ A_{M,2} $ $ \dots $ $ A_{M,N} $

## 输出格式

答えを出力せよ。

## 说明/提示

### 制約

- $ 1\ \le\ N\ \le\ 10 $
- $ 1\ \le\ M\ \le\ 500 $
- $ 1\ \le\ X_j,Y_j,A_{i,j}\ \le\ 500 $
 
### Sample Explanation 1

最適な操作列の一例として、以下のようなものがあります。 - $ X_j $ を $ \max(X_j,A_{1,j}) $ に置き換える。$ X=(4,5,2) $ となる。 - $ Y_j $ を $ \max(Y_j,A_{2,j}) $ に置き換える。$ Y=(3,2,5) $ となる。 このように操作をすると、$ \sum_{j=1}^{N}\ (X_j\ +\ Y_j)\ =\ 21 $ が達成できます。

## 样例 #1

### 输入

```
3 2

4 4 2

3 1 5

2 5 2

1 2 4
```

### 输出

```
21
```

## 样例 #2

### 输入

```
3 5

4 13 10

14 9 4

4 6 4

13 18 16

8 13 5

7 18 17

20 20 14
```

### 输出

```
84
```

## 样例 #3

### 输入

```
5 12

330 68 248 387 491

295 366 376 262 192

280 121 17 168 455

288 179 210 378 490

150 275 165 264 287

66 331 207 282 367

303 215 456 214 18

227 326 103 443 427

395 57 107 350 227

318 231 146 2 116

57 325 124 383 260

147 319 23 177 445

254 198 32 85 56

68 177 356 41 471
```

### 输出

```
3595
```



---

---
title: "キャッシュ戦略"
layout: "post"
diff: 省选/NOI-
pid: AT_utpc2011_8
tag: ['网络流']
---

# キャッシュ戦略

## 题目描述

[problemUrl]: https://atcoder.jp/contests/utpc2011/tasks/utpc2011_8





---


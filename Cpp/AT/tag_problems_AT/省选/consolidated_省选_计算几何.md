---
title: "[ABC286Ex] Don’t Swim"
layout: "post"
diff: 省选/NOI-
pid: AT_abc286_h
tag: ['计算几何']
---

# [ABC286Ex] Don’t Swim

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc286/tasks/abc286_h

二次元平面上に $ N $ 頂点の凸多角形 $ C $ 、点 $ S=(s_x,\ s_y),\ T=(t_x,t_y) $ があります。 $ C $ の頂点は、反時計回りに $ (x_1,y_1),(x_2,y_2),\ldots,(x_N,y_N) $ です。 $ S,T $ は $ C $ の外部にあることが保証されています。

$ C $ の外周を除いた内部を通らずに点 $ S $ から点 $ T $ まで移動するときの最短距離を求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ x_1 $ $ y_1 $ $ x_2 $ $ y_2 $ $ \vdots $ $ x_N $ $ y_N $ $ s_x $ $ s_y $ $ t_x $ $ t_y $

## 输出格式

答えを出力せよ。

なお、真の値との絶対誤差または相対誤差が $ 10^{-6} $ 以下であれば正解として扱われる。

## 说明/提示

### 制約

- $ 3\leq\ N\ \leq\ 10^5 $
- $ |x_i|,|y_i|,|s_x|,|s_y|,|t_x|,|t_y|\leq\ 10^9 $
- $ (x_1,y_1),(x_2,y_2),\ldots,(x_N,y_N) $ は反時計回りに凸多角形をなす
- $ C $ のどの $ 3 $ 点も同一直線上にない
- $ S,T $ は $ C $ の外部に存在し、$ C $ の外周上にない
- 入力は全て整数
 
### Sample Explanation 1

最短距離を達成する移動方法の一例を以下の図で示します。 !\[image\](https://img.atcoder.jp/abc286/4affd3de612079930dd393002bbae832.png) $ (0,2)\ \to\ (1,3)\ \to(3,3)\to(5,2) $ と移動すると、点 $ S $ から点 $ T $ への移動距離が $ 5.650281... $ となり、これが最小であることが証明できます。 $ C $ の外周上は通れることに注意してください。 なお、絶対誤差または相対誤差が $ 10^{-6} $ 以下であれば正解として扱われるので、`5.650287` などと出力しても正解と判定されます。

## 样例 #1

### 输入

```
4

1 1

3 1

3 3

1 3

0 2

5 2
```

### 输出

```
5.65028153987288474496
```

## 样例 #2

### 输入

```
3

0 0

2 0

1 10

3 7

10 3
```

### 输出

```
8.06225774829854965279
```



---

---
title: "[ABC314Ex] Disk and Segments"
layout: "post"
diff: 省选/NOI-
pid: AT_abc314_h
tag: ['计算几何', '三分', '模拟退火']
---

# [ABC314Ex] Disk and Segments

## 题目描述

在平面直角坐标系中，有 $N$ 条线段，第 $i$ 条的端点是 $(a_i,b_i)$ 和 $(c_i,d_i)$，任意线段不共点。

你要在平面上画一个圆，使得任意一条线段都和圆周或圆内部有至少一个公共点，求满足条件的圆的最小半径，绝对或相对误差不超过 $10^{-5}$。

## 输入格式

第一行一个整数 $N$，接着 $N$ 行每行四个整数 $a_i,b_i,c_i,d_i$。

## 输出格式

一行一个实数表示答案。

## 说明/提示

* $2\leq N\leq 100$
* $0\leq a_i,b_i, c_i,d_i\leq1000\ (1\leq i\leq N)$
* $(a_i,b_i)\neq(c_i,d_i)\ (1\leq i\leq N)$

## 样例 #1

### 输入

```
4
2 3 2 10
4 0 12 6
4 8 6 3
7 8 10 8
```

### 输出

```
3.319048676309097923796460081961
```

## 样例 #2

### 输入

```
20
0 18 4 28
2 21 8 21
3 4 10 5
3 14 10 13
5 9 10 12
6 9 10 6
6 28 10 18
12 11 15 13
12 17 12 27
13 17 20 18
13 27 19 26
16 1 16 13
16 22 19 25
17 22 20 19
18 4 23 4
18 5 23 11
22 16 22 23
23 15 30 15
23 24 30 24
24 0 24 11
```

### 输出

```
12.875165712523887403637822024952
```

## 样例 #3

### 输入

```
30
526 655 528 593
628 328 957 211
480 758 680 794
940 822 657 949
127 23 250 385
281 406 319 305
277 598 190 439
437 450 725 254
970 478 369 466
421 225 348 141
872 64 600 9
634 460 759 337
878 514 447 534
142 237 191 269
983 34 554 284
694 160 589 239
391 631 22 743
377 656 500 606
390 576 184 312
556 707 457 699
796 870 186 773
12 803 505 586
343 541 42 165
478 340 176 2
39 618 6 651
753 883 47 833
551 593 873 672
983 729 338 747
721 77 541 255
0 32 98 597
```

### 输出

```
485.264732620930836460637042310401
```



---


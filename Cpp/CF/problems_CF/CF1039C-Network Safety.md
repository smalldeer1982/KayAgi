---
title: "Network Safety"
layout: "post"
diff: 省选/NOI-
pid: CF1039C
tag: ['并查集', '枚举', '概率论']
---

# Network Safety

## 题目描述

题意：

给你一个有$n$点个和$m$条边的图，第$i$个点的权值为$c_i$。

定义图为安全的条件对于所有的边都保证$c_l≠c_r$

请你求出对于任意的$x$，集合$s$中所有点的点权$xor\quad x$后图仍然安全，这样的$x$和$s$的组合的数量。

答案对于$1e9+7$取模

保证一开始给出的图是安全的。

## 输入格式

第一行一共三个整数$n(n<=500000),m(m<=min(\frac{n*(n-1)}{2},500000)),k(k<=60)$

第二行一共$n$个整数$c_i(c_i<=2^k-1)$

接下来的$m$行每行两个整数$l,r$，表示$l$和$r$之间有边

## 输出格式

一共一个整数，表示答案

## 样例 #1

### 输入

```
4 4 2
0 1 0 1
1 2
2 3
3 4
4 1

```

### 输出

```
50

```

## 样例 #2

### 输入

```
4 5 3
7 1 7 2
1 2
2 3
3 4
4 1
2 4

```

### 输出

```
96

```


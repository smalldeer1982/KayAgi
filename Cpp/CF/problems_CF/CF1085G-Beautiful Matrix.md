---
title: "Beautiful Matrix"
layout: "post"
diff: NOI/NOI+/CTSC
pid: CF1085G
tag: []
---

# Beautiful Matrix

## 题目描述

Petya在收集美丽矩阵
一个n×n的美丽矩阵要保证：
1.所有的矩阵内的元素都是1~n的整数；
2.每一行不能有相同的元素；
3.每一对竖直相邻的元素不能相同。
Petya定义 稀有度 为将所有n×n的美丽矩阵按照字典序排好序（从0开始计数）该美丽矩阵所在的编号。
他希望你求出他所给的矩阵的稀有度（模 998244353 ）
如 2×2 的美丽矩阵有

1 2 ||| 2 1

2 1 ||| 1 2

0号 ||| 1号

所以样例一中的矩阵的稀有度为1。

## 输入格式

第一行为n
剩下的是一个n×n的美丽矩阵。

## 输出格式

一行，该矩阵的稀有度。

## 样例 #1

### 输入

```
2
2 1
1 2

```

### 输出

```
1

```

## 样例 #2

### 输入

```
3
1 2 3
2 3 1
3 1 2

```

### 输出

```
1

```

## 样例 #3

### 输入

```
3
1 2 3
3 1 2
2 3 1

```

### 输出

```
3

```


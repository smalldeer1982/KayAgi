---
title: "Cow and Vacation"
layout: "post"
diff: NOI/NOI+/CTSC
pid: CF1307F
tag: ['倍增']
---

# Cow and Vacation

## 题目描述

Bessie 正在准备度假。

他所在的个洲有 n 个城市，n-1 条双向道路连接。保证可以从任意一个城市到任意一个城市。

Bessie 考虑了 v 种度假方案，每种方案包括从城市 ai 开始到城市 bi 结束。

已知一共有 r 个城市拥有休息点。Bessie 容易疲倦，并且他不能在不休息的情况下穿越超过 k 条连续道路。有时，他还会因为太想休息而多次穿过同一个城市。

对于每一种旅行方案，Bessie 是否有从出发城市到结束地城市的旅行方式？

## 输入格式

第一行包括三个整数，n，k，r（范围如原题所示）。分别表示城市的数量，Bessie 愿意在不休息的情况下连续通过的最大道路数，休息点的数量。

接下来 n-1 行，每行两个整数写 xi 和 yi（范围如原题所示），表示从 xi 到 yi 有一条双向道路连接。

接下来r行，每行一个数字，表示有休息点的城市，保证每个城市最多出现一遍。

接下来一行一个整数 v（范围如原题所示），表示度假方案数。

接下来v行，每行两个整数 ai 和 bi（范围如原题所示），表示该方案从 ai 开始到城市 bi 结束。

## 输出格式

一共 v 行，表示如果 Bessie 能够按要求到达，输出“YES”，反之输出“NO”。

## 说明/提示

第一个例子的图表如下所示。休息站用红色表示。

对于第一个查询，Bessie 可以按以下顺序访问这些城市：1->2->3。

对于第二个查询，Bessie 可以按以下顺序访问这些城市： 3->2-> 4-> 5。

对于第三个查询，Bessie 无法前往目的地。例如，如果她试图这样旅行：3->2->4->5->6，他在2条以上的道路上旅行而没有休息。

## 样例 #1

### 输入

```
6 2 1
1 2
2 3
2 4
4 5
5 6
2
3
1 3
3 5
3 6
```

### 输出

```
YES
YES
NO
```

## 样例 #2

### 输入

```
8 3 3
1 2
2 3
3 4
4 5
4 6
6 7
7 8
2 5 8
2
7 1
8 1
```

### 输出

```
YES
NO
```


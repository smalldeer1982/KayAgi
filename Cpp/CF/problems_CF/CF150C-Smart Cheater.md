---
title: "Smart Cheater"
layout: "post"
diff: 提高+/省选-
pid: CF150C
tag: []
---

# Smart Cheater

## 题目描述

有条路，路上有 $n$ 个车站，车站 $i$ 位于 $x_i$，每天有 $m$ 个人坐车，第 $j$ 个人从 $a_j$ 坐到 $b_j$。  
从车站 $i$ 坐到车站 $j$ 的票价为 $x_j-x_i(i<j)$ 卢布。

现在售票员想要多拿点钱，对于一个乘客，假设从车站 $A$ 坐到车站 $B$，则售票员可以选择两个车站编号 $C,D (A\leqslant C\leqslant D \leqslant B)$ 免去该乘客 $\left[C,D\right]$ 这一段的路费，也可以选择不免去任何路费。若免去一部分路费，那么这些免去的路费将会平均分给售票员和这位乘客作为利润。每一个乘客的 $C,D$ 可以不同。

相应的，每两个相邻车站 $i,i+1$ 的路段都有 $p_i$ 的概率被检查，如果被检查且存在没有购买这个路段车票的乘客，则每有一个没有购买这个路段车票的乘客，售票员都会被罚款 $c$ 卢布（乘客不管了，反正不影响答案）。

求售票员获得利润的最大期望。

## 输入格式

第一行三个整数：$n,m,c$，表示车站数，总共的乘客数与罚款。

第二行 $n$ 个整数，第 $i$ 个整数表示第 $i$ 个车站的位置。

第三行 $n-1$ 个整数 $p_i$，表示 $i$ 到 $i+1$ 这一路段被检查概率的**百分比**。

接下来 $m$ 行，每一行两个整数 $a_i,b_i$，表示第 $i$ 个乘客上下车的车站编号。

## 输出格式

一行一个浮点数 $ans$，要求与真实答案的差小于 $10^{-6}$。

## 说明/提示

$0 = x_1<x_2<\dots<x_n \leqslant 10^9$  
$2\leqslant n \leqslant 150000, 1\leqslant m \leqslant 300000, 1\leqslant c \leqslant 10000$  
$0\leqslant p_i \leqslant 100$

## 样例解释

样例 1：

第一位和第三位乘客都购买了 $[1,2]$ 路段的车票。  
第二位和第三位乘客 $[2,3]$ 这一路段的路费被免去，且一定不会被检查（$p_2=0$）  
总利润期望即为 $0 + \frac{90}2 + \frac{90}2 = 90$

## 样例 #1

### 输入

```
3 3 10
0 10 100
100 0
1 2
2 3
1 3

```

### 输出

```
90.000000000

```

## 样例 #2

### 输入

```
10 8 187
0 10 30 70 150 310 630 1270 2550 51100
13 87 65 0 100 44 67 3 4
1 10
2 9
3 8
1 5
6 10
2 7
4 10
4 5

```

### 输出

```
76859.990000000

```


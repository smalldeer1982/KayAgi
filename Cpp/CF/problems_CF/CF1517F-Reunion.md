---
title: "Reunion"
layout: "post"
diff: NOI/NOI+/CTSC
pid: CF1517F
tag: ['树形 DP']
---

# Reunion

## 题目描述

2050年大会即将举行 . 

大会有 $n$ 个志愿者 , 他们之间的关系可以用一棵 $n$ 的点的树描述 . 第 $i$ 个结点代表第 $i$ 个志愿者 . 定义树上两点间距离 $\mathrm{dis}(u,v)$ 为为他们之间的最短路径所经过的边数 .

现在他们想进行一场聚会 , 一些志愿者有空参加 , 而其它的正忙 . 在这种情况下 , 对于某个志愿者 $x$ 和非负整数 $r$ , 如果所有与 $x$ 的距离不超过 $r$ 的志愿者**全部**有空参加 , 那么可以召开一场以 $x$ 为中心 , 半径为 $r$ 的聚会 . 这场聚会的等级定义为所有可能的半径 $r$ 中的**最大值** . 

每一个志愿者都有 $\frac12$ 的概率有空参加或者正忙 . 现在请你求出所有情况下聚会等级的**期望**对 $998\ 244\ 353$ 取模的结果 . 特别的 , 当所有志愿者都正忙时 , 该聚会的等级为 $-1$ ; 当所有志愿者都有空参加时 , 该聚会的等级为 $n$ .

## 输入格式

第 $1$ 行一个整数 $n$ , 表示树的结点数目 . ( $2\leq n \leq 300$)

第 $2\sim n$ 行每行两个整数 $u,v$ , 表示树上的一条边 .

## 输出格式

一行内一个整数 , 表示聚会等级的期望对 $998\ 244\ 353$ 取模的结果 .

## 样例 #1

### 输入

```
3
1 2
2 3
```

### 输出

```
499122177
```

## 样例 #2

### 输入

```
5
1 2
2 3
3 4
3 5
```

### 输出

```
249561089
```

## 样例 #3

### 输入

```
10
1 2
2 3
3 4
4 5
5 6
6 7
7 8
8 9
9 10
```

### 输出

```
821796866
```


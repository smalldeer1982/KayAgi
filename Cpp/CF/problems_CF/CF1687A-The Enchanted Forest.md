---
title: "The Enchanted Forest"
layout: "post"
diff: 普及+/提高
pid: CF1687A
tag: ['数学', '贪心']
---

# The Enchanted Forest

## 题目描述

> 其实这里被称为魔法森林，基本上就是因为这些有幻觉效果的蘑菇。光是接近这些蘑菇，就好像被施了魔法而产生幻觉。——《东方求闻史纪》

魔理沙来到了魔法森林采摘蘑菇。    
魔法森林可以被抽象成一条有着 $n$ 个节点，从 $1$ 到 $n$ 标号的数轴。在魔理沙出发之前，她的好友帕秋莉运用魔法去侦测了每个节点上的蘑菇数量，分别为 $a_1,a_2,\dots,a_n$。    
在第 $0$ 分钟的时候，魔理沙可以从任意一个节点出发。在每一分钟的时候，她将会做以下事情：

- 她将从节点 $x$ 移动到节点 $y$（$|x-y| \leq 1$，即 $y$ 可能等于 $x$）
- 她将会收集节点 $y$ 上的所有蘑菇。
- 魔法森林中每个节点会再生长出一个蘑菇。

注意，她不能在第 $0$ 分钟的时候收集蘑菇。    
现在魔理沙希望知道她在前 $k$ 分钟的时候，最多能收集到多少个蘑菇。请你帮帮她。

## 输入格式

第一行输入一个正整数 $t(1 \leq t \leq 10^4)$，表示输入数据组数。   
对于每一组测试数据，第一行输入两个正整数 $n,k(1 \leq n \leq 2\times 10^5, 1\leq k \leq 10^9)$，含义如题目所述。    
第二行输入 $n$ 个正整数 $a_i$，表示每个节点上起初有的蘑菇数量。

## 输出格式

对于每组测试数据输出一行，表示魔理沙最多能收集到多少个蘑菇。

## 样例 #1

### 输入

```
4
5 2
5 6 1 2 3
5 7
5 6 1 2 3
1 2
999999
5 70000
1000000000 1000000000 1000000000 1000000000 1000000000
```

### 输出

```
12
37
1000000
5000349985
```


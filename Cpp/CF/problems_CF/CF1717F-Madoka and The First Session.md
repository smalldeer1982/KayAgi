---
title: "Madoka and The First Session"
layout: "post"
diff: 省选/NOI-
pid: CF1717F
tag: ['网络流']
---

# Madoka and The First Session

## 题目描述

给出整数 $n$ 和 $m$ 对整数$(v_i,u_i)$。同时有一个序列 $B$ ,长度为 $n$ ，保证一开始全为 $0$ 。

然后对于每一对 $(v_i,u_i)$，可以执行两种操作中的一种:

1. $b_{v_i}\gets b_{v_i}-1，b_{u_i}\gets b_{u_i}+1$
2. $b_{v_i}\gets b_{v_i}+1，b_{u_i}\gets b_{u_i}-1$

然后还会给你两个序列 $A$，$S$  长度均为 $n$，保证当 $s_i=0$ 时，$a_i=0$ 。

问你在在所有操作方案中，是否有一种可以使得对于任意的 $s_i=1$，都有 $a_i=b_i$。

## 输入格式

第 $1$ 行两个整数 $n$，$m$。

第 $2$ 行 $n$ 个整数，表示 $S$ 数组。

第 $3$ 行 $n$ 个整数，表示 $A$ 数组。

第 $4\sim n-3$ 行每行 $2$ 个整数，表示 $(u_i,v_i)$。

## 输出格式

有解的话第一行输出 `YES`，然后下面 $m$ 行如果执行操作 $1$ 就输出 $(v_i,u_i)$，执行操作 $2$ 输出 $(u_i,v_i)$。如果无解则输出`NO`。

## 样例 #1

### 输入

```
5 5
1 1 1 1 1
-2 0 2 1 -1
1 5
1 4
3 5
3 4
4 5
```

### 输出

```
YES
1 5
1 4
5 3
4 3
5 4
```

## 样例 #2

### 输入

```
5 5
0 1 0 1 0
0 1 0 0 0
1 3
2 3
3 5
3 4
4 5
```

### 输出

```
YES
1 3
3 5
3 2
4 3
5 4
```

## 样例 #3

### 输入

```
4 4
1 1 1 1
0 2 -2 2
1 3
1 4
2 3
2 4
```

### 输出

```
NO
```


---
title: "Magic Squares"
layout: "post"
diff: 普及/提高-
pid: CF178D1
tag: []
---

# Magic Squares

## 题目描述

一只来自ABBYY的河狸喜欢智力游戏。他最喜欢的智力游戏之一是 “奇幻正方形” 。他想写一个程序来自动完成这个智力游戏。河狸决定让ABBYY杯的参赛者来帮他写这个程序。

 “奇幻正方形” 是一个 $n \times n$ 的矩阵，这个矩阵里面是整数。矩阵每行,每列和主对角线的数之和都等于 $s$ 。下面是一些例子：
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF178D1/df1aa6f903a3e44e4322a8498e9c3054e6afd786.png)

给出 $n^2$ 个数 $(a_1 \sim a_{n^2})$ ，要求把这些数放入一个大小为 $n \times n$ 的矩阵中，使它们形成一个 “奇幻正方形” 。注意，每个数必须在矩阵和原始数列中出现相同的次数。

保证输入数据有解。

## 输入格式

输入数据共两行。

第一行，一个数 $n$ ，代表 “奇幻正方形” 的边长；

第二行， $n^2$ 个数，代表要填进 “奇幻正方形” 的 $n^2$ 个数 $(a_1 \sim a_{n^2})$ 。

## 输出格式

输出数据共 $n + 1$ 行。

第一行，一个数 $s$ ，代表 “奇幻正方形” 每行,每列和主对角线的数之和；

接下来 $n$ 行，每行 $n$ 个数，输出 “奇幻正方形” ；

## 说明/提示

对于 $20\%$ 的数据，保证 $1 \leq n \leq 3$ ；

对于 $50\%$ 的数据，保证 $1 \leq n \leq 4$ 且给出的 $n^2$ 个数中最多有 $9$ 个互不相同的数；

对于 $100\%$ 的数据，保证 $1 \leq n \leq 4$ 且 $-10^8 \leq a_i \leq 10^8$ ；

## 样例 #1

### 输入

```
3
1 2 3 4 5 6 7 8 9

```

### 输出

```
15
2 7 6
9 5 1
4 3 8

```

## 样例 #2

### 输入

```
3
1 0 -1 0 2 -1 -2 0 1

```

### 输出

```
0
1 0 -1
-2 0 2
1 0 -1

```

## 样例 #3

### 输入

```
2
5 5 5 5

```

### 输出

```
10
5 5
5 5

```


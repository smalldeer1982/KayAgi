---
title: "Halve or Subtract"
layout: "post"
diff: 省选/NOI-
pid: CF1799F
tag: ['贪心', '堆', '网络流']
---

# Halve or Subtract

## 题目描述

# Halve or Subtract


给定一个长度为 $n$ 的数列 $ a_1, a_2, \ldots, a_n $ ，一个正整数 $b$ 和两种操作：

1. 选一个 $i$ 满足 $ 1 \le i \le n $ ，把 $ a_i $ 变为 $ \lceil \frac{a_i}{2} \rceil $ 。
2. 选一个 $i$ 满足 $ 1 \le i \le n $ ，把 $ a_i $ 变为 $ \max(a_i - b, 0) $ 。

同时给定两个非负整数 $0 \le k_1, k_2 \le n$， 要求至多进行 $k_1$ 次操作1， $k_2$ 次操作2，同时对于每个元素，每种操作至多进行一次。 

求出进行若干次满足条件的操作后 $a_1 + a_2 + \ldots + a_n$ 的最小值。

## 输入格式

多组数据， 第一行为数据组数 $t$,( $ 1 \le t \le 5000 $ )。

每组数据的第一行有四个整数 $ n $ , $ b $ , $ k_1 $, $ k_2 $ ( $ 1 \le n \le 5000 $ , $ 1 \le b \le 10^9 $ , $ 0 \le k_1, k_2 \le n $ )。

每组数据的第二行有 $ n $ 个整数 $ a_1, a_2, \ldots, a_n $ ( $ 1 \le a_i \le 10^9 $ )。

保证所有数据的 $n$ 之和不超过 $5000$。

## 输出格式

对于每组数据输出一行一个整数表示 $a_i$ 的和的最小值。

## 样例 #1

### 输入

```
7
3 2 1 1
9 3 5
2 1 2 0
1000000000 1
5 3 1 1
2 8 3 19 3
6 9 4 2
1 2 3 4 5 6
3 10 3 3
1 2 3
5 1 0 0
999999999 999999999 999999999 999999999 999999999
5 5 4 3
5 9 10 7 4
```

### 输出

```
11
500000001
23
6
0
4999999995
6
```


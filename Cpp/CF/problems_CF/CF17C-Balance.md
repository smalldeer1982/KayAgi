---
title: "Balance"
layout: "post"
diff: 省选/NOI-
pid: CF17C
tag: ['字符串', '枚举', '概率论']
---

# Balance

## 题目描述

1. 选择两个相邻字符，将第一个字符替换成第二个。 
2. 选择两个相邻字符，将第二个字符替换成第一个。 这样，通过任意多次的操作，可以得到许多不同的串，为了追求字符的平衡， 我们要求a,b,c三种字符在字符串中出现的次数两两之差都不能大于1。

你的任 务是，统计给定字符串通过任意多次的操作，能够得到的不同的平衡串的个数。

## 输入格式

输入文件包含2行。 第一行包含1个正整数n，表示字符串长度。 第二行包含1个长度为n的字符串。

## 输出格式

输出共1行，包含1个正整数，表示能够得到的平衡串的数量。由于答案可 能很大，因此输出时要对51123987取模。

## 样例 #1

### 输入

```
4
abca

```

### 输出

```
7

```

## 样例 #2

### 输入

```
4
abbc

```

### 输出

```
3

```

## 样例 #3

### 输入

```
2
ab

```

### 输出

```
1

```


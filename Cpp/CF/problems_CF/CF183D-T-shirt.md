---
title: "T-shirt"
layout: "post"
diff: 省选/NOI-
pid: CF183D
tag: ['贪心', '背包 DP', '期望']
---

# T-shirt

## 题目描述

你将在CodeForces的一个$n$人团队实习，n个工程师由1到$n$编号。你决定给每个工程师一个纪念品：一件来自你的国家的T恤（T恤在CodeForces很受欢迎）。不幸的是，你不知道$n$个工程师各自衣服的尺寸。一共有1到m共m种不同的尺寸，并且每个工程师只适合一个尺寸。

你不知道每个工程师的尺寸，所以你询问你的朋友Gerald。很遗憾，他也不知道每个工程师的尺寸，但他知道对于第$i$个工程师，适合第j种T恤的概率。

最后你带来了$n$件T恤（这$n$件T恤可以是任意组合，你也可以带多件同样尺寸的衣服），在你准备T恤的时候并不知道每个工程师的尺寸，所以你只能根据Gerald提供的概率决定你所带的T恤。

你的任务是最大化收到适合自己的衣服的工程师数量的期望值。

当你到达办公室后，你会询问每个工程师他适合的T恤的尺寸，如果你有那个尺寸的衣服，你就会给他一件，否则就不给他T恤。你会从$1$号问起，一直问到$n$号

---

## 输入格式

第一行为两个用空格分开的整数n和m（$1<=n<=3000$,$1<=m<=300$)，分别代表工程师数量和衣服尺寸数量

接下来有$n$行，每行$m$个空格分开的整数，第$i$行第$j$个数字代表第$i$个工程师适合第$j$种T恤的概率。每个整数在$1$到$1000$之间。实际上的概率应为每个整数除以1000。

保证对于每个工程师适合每种T恤的概率之和为$1$。

## 输出格式

输出一行，一个实数代表收到T恤的工程师数量的最大期望值。允许最大误差为$10^{-9}$。

感谢@LJZ_C 提供的翻译

## 样例 #1

### 输入

```
2 2
500 500
500 500

```

### 输出

```
1.500000000000

```

## 样例 #2

### 输入

```
3 3
1000 0 0
1000 0 0
0 1000 0

```

### 输出

```
3.000000000000

```

## 样例 #3

### 输入

```
1 4
100 200 300 400

```

### 输出

```
0.400000000000

```


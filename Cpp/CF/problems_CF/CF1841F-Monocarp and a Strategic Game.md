---
title: "Monocarp and a Strategic Game"
layout: "post"
diff: 省选/NOI-
pid: CF1841F
tag: []
---

# Monocarp and a Strategic Game

## 题目描述

# Monocarp 和一款策略游戏


Monocarp 玩一个策略游戏，在游戏中他开发了一个城市。这个城市有四种不同种族的生物——人类、精灵、兽人和矮人。

城市中的每个居民都有一个幸福值，它是一个整数，取决于城市中不同种族的生物数量。具体来说，每个居民的幸福值默认为 $0$；对于同一个种族的每个其他生物，它会增加 $1$；对于每个敌对种族的每个其他生物，它会减少 $1$。人类对于兽人有敌意（反之亦然），精灵对于矮人有敌意（反之亦然）。

游戏开始时，Monocarp 的城市没有居民。在游戏中，$n$ 组生物会来到他的城市并希望在那里定居。第 $i$ 组包含 $a_{i}$ 个人类，$b_{i}$ 个兽人，$c_{i}$ 个精灵和 $d_{i}$ 个矮人。每次，Monocarp 可以接受或拒绝将整个生物群体加入城市。

游戏根据以下公式计算 Monocarp 的得分：$m+k$，其中 $m$ 是城市中的居民数量，而 $k$ 是城市中所有生物的幸福值之和。

帮助 Monocarp 通过最大化得分来获得游戏的胜利！

## 输入格式

第一行包含整数 $n$（$1≤n≤3×10^5$）——来到 Monocarp 城市的生物组数。

接下来 $n$ 行，每行包含四个整数 $a_i$、$b_i$、$c_i$ 和 $d_i$（$0≤a_i,b_i,c_i,d_i≤10^9$），表示第 $i$ 组生物中人类、兽人、精灵和矮人的数量。

## 输出格式

输出一个整数，表示 Monocarp 可以通过最大化得分获得的最大值。如果您的结果是 $a$，而评测机的答案是 $b$，则您的解法将被视为正确，当且仅当 $\frac{|a-b|}{\max(1,|b|)}\le10^{-9}$。

请注意，正确答案总是整数，但有时它不适合 $64$ 位整数类型，因此您可以将其打印为非整数数字。

## 样例 #1

### 输入

```
5
0 0 1 0
1 3 4 2
2 5 1 2
4 5 4 3
1 4 4 5
```

### 输出

```
85
```

## 样例 #2

### 输入

```
4
3 3 1 5
5 1 5 3
4 4 4 1
1 3 4 4
```

### 输出

```
41
```


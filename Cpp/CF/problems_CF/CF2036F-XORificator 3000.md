---
title: "XORificator 3000"
layout: "post"
diff: 普及+/提高
pid: CF2036F
tag: ['位运算']
---

# XORificator 3000

## 题目描述

### 题面描述

多次询问，每次给定 $l,r,i,k$，求 $[l,r]$ 内所有满足 $x \not\equiv  k\pmod{2^i}$ 的 $x$ 的异或和。

## 输入格式

第一行一个整数 $t$，表示数据组数。

接下来 $t$ 组数据，每组数据一行四个整数表示 $l,r,i,k$。

## 输出格式

对于每组数据输出一行一个整数表示答案。

## 说明/提示

保证 $1\le t\le 10^4$，$1\le l\le r\le 10^{18}$，$0\le i\le 30$，$0\le k < 2^i$。

## 样例 #1

### 输入

```
6
1 3 1 0
2 28 3 7
15 43 1 0
57 2007 1 0
1010 1993 2 2
1 1000000000 30 1543
```

### 输出

```
2
2
13
0
4
1000000519
```


---
title: "Knights"
layout: "post"
diff: 普及+/提高
pid: CF33D
tag: ['枚举', '最近公共祖先 LCA']
---

# Knights

## 题目描述

伯兰国不得不又一次面对黑♂暗势力的降临。邪恶领主~~Van♂De♂Mart~~范·德·马特正在计划征服整个王国。王国成立了由伯兰国王瓦莱丽领导的理事会。理事会由$n$个骑士组成。经过一番激烈的讨论，他们把整个国家分成了$n$个战略目标点，（如果黑暗势力控制了至少一个战略目标点，战争就失败了）

伯兰国可以被认为是由$m+1$个区域和$m$个栅栏组成的。同时，从一个区域到达另一个区域的唯一方法就是翻过栅栏。每个栅栏都是同一个平面上的圆，并且任意两个栅栏之间都没有交叉点，同时保证所有战略目标点都`不在`栅栏上。我们会给你$k$对整数$ai, bi$，对于每对整数，你都要解决：如果一个骑士想从战略控制点$ai$赶到$bi$，（为了防止范·德·马特突袭控制点bi），而每个骑士都骑着一匹马（把马从栅栏上扔过去太难了），那么，他最少爬过多少栅栏？

## 输入格式

第一行是两个正整数$n,m$（$1 ≤ n,m ≤ 1000$， $0 ≤ k ≤ 10000$）接下来$n$行， 两个数，$Kx_i, Ky_i$，（$-1 * 10^9 ≤ Kx_i, Ky_i ≤ 1 * 10^9$）描述第$i$个控制点的坐标。

接下来$m$行，每行描述一个栅栏，一个栅栏有三个参数，$r_i, Cx_i, Cy_i$分别表示这个栅栏的直径和坐标。（$-1 * 10^9 ≤ Cx_i, Cy_i ≤ 1 * 10^9$， $1 ≤ r_i ≤ 1 * 10^9$）

在接下来$k$行，每行两个整数，第$n+m+j$行表示$a_i$，$b_i$，（意义前面已经说了）

## 输出格式

正好k行，每行一个整数，对这$k$次询问的答案

_翻译 By 的卢_

## 样例 #1

### 输入

```
2 1 1
0 0
3 3
2 0 0
1 2

```

### 输出

```
1

```

## 样例 #2

### 输入

```
2 3 1
0 0
4 4
1 0 0
2 0 0
3 0 0
1 2

```

### 输出

```
3

```


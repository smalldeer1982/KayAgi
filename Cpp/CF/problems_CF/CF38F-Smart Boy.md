---
title: "Smart Boy"
layout: "post"
diff: 普及+/提高
pid: CF38F
tag: []
---

# Smart Boy

## 题目描述

Petya和Vasya发明了一种新的游戏，并把它叫做 "聪明小子"。他们为这个游戏规定了一组单词——字典。字典中可以包含类似的单词。

游戏规则如下：首先，第一个玩家从字典中的任意一个单词中选择任意一个字母,得到一个长度为 $1$ 的单词，并将其写在一张纸上。第二位玩家在这个字母的开头或结尾位置加上其他字母，这样就形成了一个长度为 $2$ 的单词，然后又轮到第一位玩家，他在目前单词的开头或结尾加上一个字母，这样就形成了一个长度为 $3$ 的单词，以此类推。但玩家的操作必须满足一个条件：新造的单词必须是字典中的一个单词的子串。如果玩家不能在不违反条件的情况下给当前的单词添加一个字母，那么他就输了。

另外，如果在一个回合结束时，某个字符串 $s$ 被写在纸上，那么刚刚完成操作的玩家，就会根据公式得到一定的分数:

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF38F/0581ff8dd9c5f97bc34f4839b9be626798958173.png)

其中:


- ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF38F/e4be189456c3857fdc2ca591471080a7e0553024.png)是拉丁字母（即英文字母）中符号 $c$ 的序列号，从 $1$ 开始编号。例如![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF38F/a709cc8eab21d8d610387ef6b07c36d3277a654a.png)，和![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF38F/72027ed786a5fe069852a41dd736894e110bbaab.png) 。
- ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF38F/a15427ebfe6c6b2fd1a1aca564e59cc85cdf2fd3.png)是字典中含有 $s$ 的单词数量。（若字符串 $s$ 作为子串在单词 $x$ 中出现至少一次，我们称 $x$ 是一个含有 $s$ 的单词）

你的任务是计算出谁将赢得游戏以及最后的分数是多少。每个玩家都会以最佳的方式进行游戏，并且试图赢得比赛，即使自己的分数最大化，使对手的分数最小化。

## 输入格式

第一行输入包含一个整数 $n$，它是字典中的单词总数量 $(1\le n\le30)$。接下来 $n$ 行包含了字典中的单词，每行含有一个单词。这些行是非空的。单词只包含小写英文字母，长度不超过 $30$ 。在字典中可以有相同的单词。

## 输出格式

在第一行输出一行 "First "或 "Second"，表示谁将赢得游戏。在第二行输出游戏结束后第一个玩家的分数和第二个玩家的分数。数字之间用一个空格隔开。

## 样例 #1

### 输入

```
2
aba
abac

```

### 输出

```
Second
29 35

```

## 样例 #2

### 输入

```
3
artem
nik
max

```

### 输出

```
First
2403 1882

```


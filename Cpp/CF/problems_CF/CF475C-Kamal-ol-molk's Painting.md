---
title: "Kamal-ol-molk's Painting"
layout: "post"
diff: 提高+/省选-
pid: CF475C
tag: []
---

# Kamal-ol-molk's Painting

## 题目描述

传闻称卡马尔-奥尔-莫尔克的一幅画被改动过。一个矩形刷子在画上向右或向下移动。

假设这幅画是一个由 $n \times m$ 大小的矩形网格组成的画布。最初，一个 $x \times y$ 的矩形刷子放在某个位置，其边缘与画布的边框平行（即 $1 \leq x \leq n, 1 \leq y \leq m$）。接着，刷子被多次移动，每次移动时会向右或向下移动一个单位。在绘画的全过程中，刷子始终保持在画布的内部。刷子经过的每一个单元格都会被改动。

你发现了一幅卡马尔-奥尔-莫尔克的老画。你想知道这幅画是否有可能通过上述方式被改动过。如果可能，你还希望知道刷子的最小面积。

## 输入格式

第一行输入两个整数 $n$ 和 $m$（$1 \leq n, m \leq 1000$），分别表示画的高度和宽度。

接下来的 $n$ 行描述这幅画，每行包含 $m$ 个字符。字符 'X' 表示该单元格已被改动，而 '.' 表示未改动。在这幅画中，至少有一个单元格是被改动过的。

## 输出格式

如果这幅画存在这种改动可能性，输出刷子的最小可能面积；若不可能，则输出 $-1$。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
4 4
XX..
XX..
XXXX
XXXX

```

### 输出

```
4

```

## 样例 #2

### 输入

```
4 4
....
.XXX
.XXX
....

```

### 输出

```
2

```

## 样例 #3

### 输入

```
4 5
XXXX.
XXXX.
.XX..
.XX..

```

### 输出

```
-1

```


---
title: "Mr. Kitayuta's Technology"
layout: "post"
diff: 省选/NOI-
pid: CF505D
tag: ['排序', '拓扑排序', '连通块']
---

# Mr. Kitayuta's Technology

## 题目描述

Shuseki Kingdom在创新和技术方面是世界领先的国家。在Shuseki Kingdom中有编号1到n的n个城市。
Kitayuta先生的研究使Shuseki Kingdom会在两个城市之间建造传送管道。连接两个城市的传送管道是单向的，即从城市x到城市y的传送管道不能用来从城市y前往城市x。由于每个城市内的交通极为发达，因此如果从城市x到城市y的传送管道和从城市y到城市z的传送管道都已建造好，人们就可以直接从城市x前往城市z。
Kitayuta先生同时也是一个政客。他认为有m对“重要城市对”(ai,bi) ( 1<=i<=m )之间的交通很重要。他计划建造传送管道时，要使得对于每对“重要城市对”(ai,bi)，都可以通过使用一个或多个传送管道，从城市ai前往城市bi。请你计算出，最少需要建造几条传送管道，才能满足Kitayuta先生的需求。到目前为止，还没有建造任何传送管道，城市之间也没有任何其他有效的交通工具。

## 输入格式

输入共m+1行
第一行，两个以空格分隔的整数n和m（2 <= n<= 10 ^ 5，1 <= m<= 10 ^ 5），分别表示Shuseki王国的城市数量和重要城市对的数量。
接下来的m行中，每行有两个数字ai和bi，( 1<=ai,bi<=n,ai≠bi )，表示从城市ai必须能通过一个或多个传送管道到达城市bi（但不必保证能从城市bi前往城市ai）。保证每对重要城市对都是不同的。

## 输出格式

输出共1行，一个整数，表示能使得Kitayuta先生的需求满足的传送管道的数量的最小值。

## 说明/提示

对于第一个样例，构建管道的最佳方法之一如下图所示：
![](https://cdn.luogu.org/upload/vjudge_pic/CF505D/41d1e53a1057dea3b2f50b9af3dc7c7c17995877.png)
对于第二个样例，构建管道的最佳方法之一如下图所示：
![](https://cdn.luogu.org/upload/vjudge_pic/CF505D/3fd4624f001628b234de5055b8104860cf1c833c.png)

## 样例 #1

### 输入

```
4 5
1 2
1 3
1 4
2 3
2 4

```

### 输出

```
3

```

## 样例 #2

### 输入

```
4 6
1 2
1 4
2 3
2 4
3 2
3 4

```

### 输出

```
4

```


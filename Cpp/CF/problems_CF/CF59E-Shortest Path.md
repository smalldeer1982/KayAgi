---
title: "Shortest Path"
layout: "post"
diff: 提高+/省选-
pid: CF59E
tag: []
---

# Shortest Path

## 题目描述

在Ancient Berland有$n$ 座城市和$m$ 条长度相同的双向道路。城市从$1$ 到$n$ 编号。根据一个古老的迷信说法，如果一个旅行者连续访问了$a_i$ 、$b_i$ 、$c_i$ 三座城市而不去拜访其他城市，来自东方的神秘力量将使他遭受巨大的灾害。传说中一共有$k$ 组这样的城市，每个三元组都是有序的，这意味着你可以按照$a_i$ 、$c_i$ 、$b_i$ 这样的方式来访问一组城市而不遭受灾害。Vasya想要从城市$1$ 走到城市$n$ 并且不受到诅咒。请告诉他最短路的长度，并输出一条路线。

## 输入格式

第1行$3$ 个整数$n$ ，$m$ ，$k$ ，表示城市数、路径数以及三元组数量。

接下来$m$ 行，每行$2$ 个整数$x_i$ ，$y_i$ ，表示存在一条连接xi与yi的路。

接下来k行，每行3个整数$a_i$ 、$b_i$ 、$c_i$ ，表示一个诅咒三元组。

可能从$1$ 号城市出发并不能到达$n$ 号城市。

## 输出格式

无解输出$-1$ 。

否则第1行输出最短路长度$d$ ，第2行输出$d+1$ 个数，表示一条可行最短路径。
翻译贡献者UID：35718

## 样例 #1

### 输入

```
4 4 1
1 2
2 3
3 4
1 3
1 4 3

```

### 输出

```
2
1 3 4

```

## 样例 #2

### 输入

```
3 1 0
1 2

```

### 输出

```
-1

```

## 样例 #3

### 输入

```
4 4 2
1 2
2 3
3 4
1 3
1 2 3
1 3 4

```

### 输出

```
4
1 3 2 3 4

```


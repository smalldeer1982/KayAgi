---
title: "Bindian Signalizing"
layout: "post"
diff: 提高+/省选-
pid: CF5E
tag: ['动态规划 DP', '递推', '栈']
---

# Bindian Signalizing

## 题目描述

**题面大意**

给定一个圆和圆弧上的 $n$ 座山，每座山上有一名看守员，若连接两名看守员的圆弧（注：圆弧有左右两条，任意一条满足即可）两条中没有比（这两个看守员所在的）两座山中任何一座更高的山，则这两名看守人彼此能看到各自的信号。现在给定 $n$ 座山的高度，求能够看到彼此信号的成对看守人的数量

## 输入格式

输入数据的第一行包含一个整数 $n$（$3\le n\le10^6$），表示该圆圈上的山丘数量。

第二行包含 $n$ 个数字整数表示山的高度（按顺时针顺序排列）。所有的高度介于 $1$ 和 $10^9$ 之间

## 输出格式

一个整数，表示答案

## 样例 #1

### 输入

```
5
1 2 4 5 3

```

### 输出

```
7

```


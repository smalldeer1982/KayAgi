---
title: "Lipshitz Sequence"
layout: "post"
diff: 提高+/省选-
pid: CF601B
tag: []
---

# Lipshitz Sequence

## 题目描述

**【题目翻译】**

对于一个序列 $v_{1...n}$，当 $1\leq x<y\leq n$ 且 $x,y$ 均为整数时，同样满足$|v_x-v_y|\leq K\times |x-y|$，则称 $K$ 的最小整数值为序列 $v$ 的 Lipschitz 常数。现在给你一个长度为 $n$ 的序列 $v$ 并给出 $q$ 个询问，对于每对询问 $[l,r]$， 你需要求出 $v_{l...r}$ 的所有连续子序列（子段）$v_{x,y}(l\leq x<y\leq r)$ 的 Lipschitz 常数之和。

## 输入格式

第一行两个整数 $n$ 和 $q$，分别表示序列的长度以及询问的个数。 

第二行 $n$ 个数，表示序列 $v,(0\leq v_i\leq 10^8)$。接下来 $q$ 行，每行两个数 $l$ 和 $r$，表示询问的区间为 $[l,r]$。

## 输出格式

对于每个询问，输出一行一个数，即 $v_{l,r}$ 的所有连续子序列（子段）的 Lipschitz 常数之和。

## 样例 #1

### 输入

```
10 4
1 5 2 9 1 3 4 2 1 7
2 4
3 8
7 10
1 9

```

### 输出

```
17
82
23
210

```

## 样例 #2

### 输入

```
7 6
5 7 7 4 6 6 2
1 2
2 3
2 6
1 7
4 7
3 5

```

### 输出

```
2
0
22
59
16
8

```


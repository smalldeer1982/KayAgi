---
title: "Wormhouse"
layout: "post"
diff: 提高+/省选-
pid: CF62D
tag: []
---

# Wormhouse

## 题目描述

虫子阿尼又吃完了苹果屋，决定搬家。他把所有的房间从1到n编号。所有的走廊都是双向的。

阿尼希望新房子看起来和以前的一样。也就是说，它应该有N个房间，如果在旧房子里有一个从房间I到J室的走廊，它也应该建在新房子里。

我们知道，在建造房屋的过程中，阿尼从某个房间开始吃苹果，直到他穿过所有走廊，回到起点才停下来。众所周知，阿尼吃东西不停。也就是说，直到阿尼把房子盖好，他每时每刻都在忙着啃一条新走廊。阿尼不会沿着已经建成的走廊走。（一笔画）

然而，你换房子的时候，要以同样的顺序啃出走廊是一项非常困难的工作。这就是为什么阿尼知道走廊在前一栋房子里的位置顺序，想用另一个顺序啃走廊。它被表示为一个房间列表，按访问顺序排列。新的顺序应该是字典序上最小的，但是它也应该严格大于之前的字典序。

## 输入格式

第一行包含两个整数n和m（3<=n<=100，3<=m<=2000）。这是阿尼家相应的房间和走廊的数量。下一行包含m+1个不超过n的正整数。这是对阿尼老路的描述，表现为他在上一个房子期间参观过的房间清单。我们保证清单上的最后一个编号与第一个编号一致。

清单中描述的第一个房间是正门，这就是为什么阿尼应该开始啃它。

你可以假设没有一个房间是和自己相连的，任何一对房间之间最多只有一条走廊。但是，可以找到一些与其他房间断开连接的独立房间。

## 输出格式

打印不超过n的m+1个正整数。这些数字是对新道路的描述，根据这些编号，阿尼应该按顺序把他的新房子啃光。如果不可能找到新的路径，你应该打印出没有解决方案（"No solution"）。你的答案中的第一个编号应该等于最后一个。它也应该与主入口的编号相等。

## 样例 #1

### 输入

```
3 3
1 2 3 1

```

### 输出

```
1 3 2 1 
```

## 样例 #2

### 输入

```
3 3
1 3 2 1

```

### 输出

```
No solution
```


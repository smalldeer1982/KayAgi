---
title: "Andryusha and Nervous Barriers"
layout: "post"
diff: 省选/NOI-
pid: CF780G
tag: []
---

# Andryusha and Nervous Barriers

## 题目描述

你在玩一个游戏：游戏的界面是一个网格，高度为$h$，宽度为$w$，玩家可以从网格正上方（高度为$h+1$）的位置释放小球。

网格中有$n$个水平隔板，第$i$个隔板高度为$u_i$，挡住了$[l_i,r_i]$这段区间。没有两个隔板位于同一高度。当球落到隔板上的时候，球会分裂成两个球，分别从隔板的左右（$l_i=1$和$r_i+1$）掉落。特别地，如果隔板与网格的左右边缘挨着，则生成的两个球都会在不与网格边缘挨着的位置掉落。

但是，球不一定会落到隔板上。当球的速度过快时，它可能会直接穿过隔板。具体地，对于隔板$i$，如果球在到达隔板前所掉落的高度严格大于$s_i$（即，从严格大于$u_i+s_i$的高度开始掉落），它就会直接穿过隔板，同样也不会分裂。你在每个坐标为$(h+1,i)$的位置都释放了一个球，你想要知道，最后一共有多少个球掉落到最底部了。

## 输入格式

第一行输入三个整数$h,w,n(1\leq h\leq 10^9)$

接下来$n$行，每行输入四个整数$u_i,l_i,r_i,s_i(1\leq u_i\leq h,1\leq l_i\leq r_i\leq w,s_i\leq 10^9)$，描述一个隔板。

## 输出格式

一行，一个整数，代表答案对$10^9+7$取模的结果。

## 样例 #1

### 输入

```
10 5 1
3 2 3 10

```

### 输出

```
7

```

## 样例 #2

### 输入

```
10 5 2
3 1 3 10
5 3 5 10

```

### 输出

```
16

```

## 样例 #3

### 输入

```
10 5 2
3 1 3 7
5 3 5 10

```

### 输出

```
14

```

## 样例 #4

### 输入

```
10 15 4
7 3 9 5
6 4 10 1
1 1 4 10
4 11 11 20

```

### 输出

```
53

```


---
title: "Boredom"
layout: "post"
diff: 省选/NOI-
pid: CF853C
tag: []
---

# Boredom

## 题目描述

### 题意

给定一个$\ n*n(1\leq n\leq 200,000)\ $的矩阵$A$，矩阵所在的直角坐标系以向上、向右为正方向。

从 $A$ 的第 $i$ 行中选出第$s_i$个格子标记为黑色,保证被选中的 $n$ 个格子不在同一列

再给定该矩阵的一个子矩阵 $B$ 

$B$ 的**左、右**边界横坐标分别为$l,r$,**下、上**边界纵坐标分别为$d,u(1\leq l\leq r\leq n,1\leq d\leq u\leq	n)$.



请你回答:有几个好的矩阵与 $B$ 相交？

会有 $T(1\leq T\leq 200,000)$ 组离线询问.

我们称一个矩阵为好的矩阵，当且仅当该矩阵至少存在一条对角线使其两个端点上的格子为黑色格子。

## 输入格式

```
n T
s_1 s_2 s_3...s_n
l_1 d_1 r_1 u_1
l_2 d_2 r_2 u_2
l_3 d_3 r_3 u_3
...
l_T d_T r_T u_T
```

## 输出格式

$T$ 行, 每行一个数表示答案。

## 样例 #1

### 输入

```
2 3
1 2
1 1 1 1
1 1 1 2
1 1 2 2

```

### 输出

```
1
1
1

```

## 样例 #2

### 输入

```
4 2
1 3 2 4
4 1 4 4
1 1 2 3

```

### 输出

```
3
5

```


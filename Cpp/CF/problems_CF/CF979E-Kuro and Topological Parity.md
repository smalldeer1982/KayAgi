---
title: "Kuro and Topological Parity"
layout: "post"
diff: 提高+/省选-
pid: CF979E
tag: ['递推', '排列组合']
---

# Kuro and Topological Parity

## 题目描述

给定 $n$ 个点，每个点有黑白两种颜色（如果没有颜色，那么你可以把它任意涂成黑色或白色），同时你可以在这个图上任意加入一些边（当然不能加入重边或自环），要求：加入的边必须从编号小的点指向编号大的点

我们称一条好的路径为经过的点为黑白相间的路径，如果一个图好的路径的总数 $\bmod 2=p$，那么我们称这个图为好的图，现在给定你 $n$ 个点的情况，求这 $n$ 个点能组成的好的图的个数，答案对 $10^9+7$ 取模。

## 输入格式

第一行两个整数 $n,p$，分别表示点的个数和 $p$。其中 $n\leq 50$，$p \in \{0,1\}$。

第二行 $n$ 个整数，每个整数只有三种取值：$-1,0,1$。其中，$-1$ 表示这个点未被涂色，你可以随意为他选择一种颜色，$0$ 表示这个点为黑色，$1$ 表示这个点为白色。

## 输出格式

一行一个整数，表示答案对 $10^9+7$ 取模的结果

## 样例 #1

### 输入

```
3 1
-1 0 1

```

### 输出

```
6
```

## 样例 #2

### 输入

```
2 1
1 0

```

### 输出

```
1
```

## 样例 #3

### 输入

```
1 1
-1

```

### 输出

```
2
```


# Two Friends

## é¢˜ç›®æè¿°

å¹³é¢ä¸Šæœ‰3ä¸ªç‚¹ï¼šAï¼ŒBï¼ŒC.(a cinema, a shop and the house) ç°åœ¨Aliceå’ŒBobéƒ½åœ¨Aï¼ŒAliceæƒ³è¦èµ°åˆ°Bï¼Œèµ°çš„è·¯çº¿é•¿åº¦å‡å»æœ€çŸ­è·¯çº¿é•¿åº¦ä¸å¾—è¶…è¿‡t1ï¼ŒBobæƒ³ç»è¿‡Cç„¶ååˆ°Bï¼Œ èµ°çš„è·¯å¾„é•¿å‡å»æœ€çŸ­è·¯å¾„é•¿ä¸è¶…è¿‡t2ã€‚ è¦æ±‚è®¾è®¡ä»–ä»¬çš„è·¯çº¿ï¼Œä½¿å¾—ä»Aå¼€å§‹çš„å…¬å…±éƒ¨åˆ†å°½å¯èƒ½é•¿ï¼ˆä¹Ÿå°±æ˜¯ä¸€æ—¦ä¸¤äººåˆ†å¼€ï¼Œå³ä½¿é‡ æ–°ä¼šåˆä¹Ÿä¸è®¡å…¥å…¬å…±éƒ¨åˆ†çš„é•¿åº¦äº†ï¼‰

## æ ·ä¾‹ #1

### è¾“å…¥

```
0 2
0 0
4 0
-3 0
```

### è¾“å‡º

```
1.0000000000
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
0 0
0 0
2 0
1 0
```

### è¾“å‡º

```
2.0000000000
```

# é¢˜è§£

## ä½œè€…ï¼šC3H5ClO (èµï¼š7)

é¢˜ç›®ç¿»è¯‘æœ‰é”™ï¼æ˜¯Alanå…ˆå»Cå†å»Bï¼Œè€Œä¸æ˜¯Bobã€‚

æ€è·¯å¦å¤–å‡ ä½å¤§ä½¬å·²ç»åŸºæœ¬è®²äº†ï¼Œæˆ‘æ¥è°ˆè°ˆäºŒåˆ†æ³•çš„ç»†èŠ‚ã€‚

### ç¬¬ä¸€æ­¥ï¼Œåˆ†ç±»è®¨è®º

å¦‚æœBobæœ‰å……è¶³æ—¶é—´é™ªAlanå…ˆå»Cå†å»Bï¼Œåˆ™é™ªä»–èµ°å®Œã€‚ç„¶è€Œï¼Œæ—¶é—´å¯èƒ½è¿˜æœ‰å‰©ä½™ï¼Œä¿©æœ‹å‹å¯èƒ½ä¼šåŸåœ°è½¬åœˆåœˆèŠå¤©ã€‚

æ­¤æ—¶çš„æ¡ä»¶ä¸ºAC+BC-AB<=t2

è·¯ç¨‹éœ€è¦å°äºABï¼‹t2ï¼Œè¿˜è¦å°äºACï¼‹CBï¼‹t1ï¼Œå› æ­¤

è·¯ç¨‹ï¼min(AC+CB+t1,AB+t2)

### ç¬¬äºŒæ­¥ï¼ŒäºŒåˆ†

æ—¢ç„¶Alanæ— æ³•ä¸€è·¯é™ªBobï¼Œå°±æ±‚å‡ºä»Aå¼€å§‹ä¸¤äººä¸€èµ·èµ°çš„æœ€å¤§è·¯ç¨‹ã€‚ä¸å¦¨è®¾ä¸€èµ·èµ°çš„ä½ç§»ç»ˆç‚¹ä¸ºPï¼Œåˆ™è·¯ç¨‹ä¸ºAPã€‚ç”±äºAPè¶Šå¤§ï¼Œæ–¹æ¡ˆæ˜¾ç„¶è¶Šä¸å¯è¡Œï¼ˆæ»¡è¶³å•è°ƒæ€§)ï¼Œå› æ­¤ç”¨äºŒåˆ†æ¥æšä¸¾APå¹¶åˆ¤æ–­å¯ä¸å¯è¡Œã€‚

![](https://cdn.luogu.com.cn/upload/pic/60201.png)

### ç¬¬ä¸‰æ­¥ï¼Œåˆ¤æ–­æ–¹æ¡ˆå¯è¡Œæ€§ã€‚

å¯¹äºAlanï¼ŒAP+PC+CB-AC+CB<=t1ï¼Œå³AP+PC-AC<=t1,PC<=AC-AP+t1

Pç‚¹çš„å¯è¡Œä½ç½®åœ¨ä»¥Cä¸ºåœ†å¿ƒï¼ŒAC-AP+t1ä¸ºåŠå¾„çš„åœ†å†…ï¼ˆåŒ…æ‹¬åœ†ä¸Šï¼‰

åŒç†ï¼ŒPä¹Ÿåº”è¯¥åœ¨ä»¥Bä¸ºåœ†å¿ƒï¼ŒAB-AP+t2ä¸ºåŠå¾„çš„åœ†å†…ï¼ˆåŒ…æ‹¬åœ†ä¸Šï¼‰

è€Œç”±äºAPä¸€å®šï¼ŒPåŒæ ·åº”è¯¥åœ¨ä»¥Aä¸ºåœ†å¿ƒï¼ŒAPä¸ºåŠå¾„çš„åœ†ä¸Šï¼ˆä¸åŒ…æ‹¬åœ†å†…ï¼‰

å› æ­¤ï¼Œé—®é¢˜è½¬åŒ–ä¸ºäº†åˆ¤æ–­åœ†Aæ˜¯å¦ä¸å¦å¤–ä¸¤åœ†çš„äº¤æœ‰äº¤ç‚¹ï¼Œç­‰ä»·äºåˆ¤æ–­ä¸‰åœ†æ˜¯å¦æœ‰å…¬å…±åŒºåŸŸï¼ˆå¯ä»¥é€€åŒ–ä¸ºä¸€ä¸ªç‚¹ï¼‰ã€‚

ä¸‰åœ†è¦æœ‰å…¬å…±åŒºåŸŸï¼Œå‰ææ˜¯åœ†ä¸¤ä¸¤ä¸ç›¸ç¦»ã€‚

ç„¶ååˆ†ç±»è®¨è®ºï¼Œåœ¨åœ†ä¸¤ä¸¤ä¸ç›¸ç¦»çš„å‰æä¸‹ï¼Œè‹¥ä¸€ä¸ªåœ†è¢«å¦ä¸€ä¸ªåœ†åŒ…å«ï¼Œåˆ™ä¸‰åœ†å¿…å®šæœ‰å…¬å…±åŒºåŸŸã€‚ï¼ˆç”»å›¾è¾…åŠ©ç†è§£ï¼‰

![](https://cdn.luogu.com.cn/upload/pic/60211.png)

è‹¥åœ†ä¸å­˜åœ¨åŒ…å«å…³ç³»ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸‹å·¦çš„æƒ…å†µã€‚

![](https://cdn.luogu.com.cn/upload/pic/60212.png)

å› æ­¤ï¼Œåªéœ€è¦éšä¾¿å“ªä¸ªä¸¤åœ†äº¤ç‚¹åœ¨å¦ä¸€ä¸ªåœ†å†…å°±å¯ä»¥å¾—å‡ºä¸‰åœ†æœ‰å…¬å…±åŒºåŸŸçš„ç»“è®ºã€‚

æœ¬é¢˜æ¶‰åŠè®¡ç®—å‡ ä½•å†…å®¹æœ‰:

1.åˆ¤æ–­åœ†ä¸åœ†ä½ç½®å…³ç³»ï¼ˆç›¸ç¦»ã€ç›¸åˆ‡ã€ç›¸äº¤ã€åŒ…å«ï¼‰
2.æ±‚åœ†ä¸åœ†çš„äº¤ç‚¹ï¼ˆä¸¤åœ†æ–¹ç¨‹ç›¸å‡è½¬åŒ–ä¸ºç›´çº¿å’Œåœ†çš„äº¤ç‚¹å¤„ç†ï¼‰
3.åˆ¤æ–­ç‚¹ä¸åœ†ä½ç½®å…³ç³»

ç€é‡è®²ä¸€ä¸‹ï¼Œç”±äºåå¤è®¡ç®—å¯¼è‡´ç²¾åº¦è¯¯å·®å¤§ï¼Œè§£ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹æ—¶epsè¦åœ¨5e-10ä»¥ä¸Šï¼Œåœ¨åŠ ä¸Šæœ¬é¢˜å¯¹ç²¾åº¦è¦æ±‚è¾ƒé«˜ï¼Œå› æ­¤epså–6e-10è‡³1e-9ä¸ºå®œã€‚

å…¶ä»–ç»†èŠ‚åœ¨ä»£ç é‡Œè®²è§£ï¼
```cpp
#include<cstdio>
#include<math.h>
#include<algorithm>
using namespace std;
const double eps=6e-10;
const int INF=987654321;
double t1,t2,l,r,mid;
struct point
{
    double x,y;
};
struct circle
{
    double r;
    point p;
    double c,d,e;
}c1,c2,c3;//åœ†çš„æ–¹ç¨‹:(x-p.x)^2+(y-p.y)^2=r^2æˆ–x^2+y^2+cx+dy+e=0
struct line
{
    double a,b,c;
};//ç›´çº¿æ–¹ç¨‹:ax+by+c=0ï¼Œé¿å…æ–œæˆªå¼å¤„ç†k=INFçš„æƒ…å†µ
inline double sqr(double x)
{
    return x*x;
}
inline void change(circle &c)//åœ†ä¸¤ç§è¡¨ç¤ºå½¢å¼çš„è½¬æ¢
{
    c.c=-c.p.x*2;
    c.d=-c.p.y*2;
    c.e=sqr(c.p.x)+sqr(c.p.y)-sqr(c.r);
}
inline double getDis(point a,point b)//ä¸¤ç‚¹é—´è·ç¦»
{
    return sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));
}
inline double getDis(point p,line l)//ç‚¹åˆ°ç›´çº¿è·ç¦»
{
    return fabs(l.a*p.x+l.b*p.y+l.c)/sqrt(l.a*l.a+l.b*l.b);
}
inline int pointAndCircle(point p,circle c)//åˆ¤æ–­ç‚¹ä¸åœ†çš„ä½ç½®å…³ç³»
{
    if(getDis(p,c.p)-c.r>eps)return 0;
    if(fabs(getDis(p,c.p)-c.r)<=eps)return 1;
    return 2;
}
inline int lineAndCircle(line l,circle c)//åˆ¤æ–­ç›´çº¿ä¸åœ†ä½ç½®å…³ç³»
{
    if(getDis(c.p,l)-c.r>eps)return 0;
    if(fabs(getDis(c.p,l)-c.r)<=eps)return 1;
    return 2;
}
inline int circleAndCircle(circle c1,circle c2)//åˆ¤æ–­åœ†ä¸åœ†ä½ç½®å…³ç³»
{
    if(getDis(c1.p,c2.p)-c1.r-c2.r>eps)return 0;
    if(fabs(getDis(c1.p,c2.p)-c1.r-c2.r)<=eps)return 1;
    if(c1.r-getDis(c1.p,c2.p)-c2.r>eps)return 3;
    if(c2.r-getDis(c1.p,c2.p)-c1.r>eps)return 4;
    return 2;
}
inline int jyyecfc(double a,double b,double c,double &x1,double &x2)//è§£æ–¹ç¨‹ax^2+bx+c=0ï¼Œè¿”å›å€¼è¡¨ç¤ºè§£ä¸ªæ•°
{
    if(fabs(a)<=eps&&fabs(b)<=eps&&fabs(c)<=eps)return INF;
    if(fabs(a)<=eps&&fabs(b)<=eps)return 0;
    if(fabs(a)<=eps)
    {
        x1=-c/b;
        return 1;
    }
    double d=b*b-a*c*4;
    if(d<-eps)return 0;
    if(fabs(d)<=eps)
    {
        x1=-b/a/2;
        return 1;
    }
    x1=(-b+sqrt(d))/a/2;
    x2=(-b-sqrt(d))/a/2;
    return 2;
}
inline int lineCutCircle(line l,circle c,point &p1,point &p2)//æ±‚è§£ç›´çº¿ä¸åœ†çš„äº¤ç‚¹ï¼Œè¿”å›å€¼è¡¨ç¤ºäº¤ç‚¹ä¸ªæ•°
{
    int x=lineAndCircle(l,c);
    if(x==0)return 0;
    double x1,x2;
    if(l.a==0)
    {
        jyyecfc(1,c.c,c.e+c.d*(-l.c/l.b)+sqr(-l.c/l.b),x1,x2);
        p1.x=x1;
        p1.y=p2.y=-l.c/l.b;
        p2.x=x2;
    }
    else if(l.b==0)
    {
        jyyecfc(1,c.d,c.e+c.c*(-l.c/l.a)+sqr(-l.c/l.a),x1,x2);
        p1.x=p2.x=-l.c/l.a;
        p1.y=x1;
        p2.y=x2;
    }
    else
    {
        jyyecfc(1+sqr(l.a/l.b),c.c+l.a*l.c*2/l.b/l.b-l.a*c.d/l.b,c.e+sqr(l.c/l.b)-l.c*c.d/l.b,x1,x2);
        p1.x=x1;
        p1.y=-l.a*x1/l.b-l.c/l.b;
        p2.x=x2;
        p2.y=-l.a*x2/l.b-l.c/l.b;
    }
    return x;
}
inline int circleCutCircle(circle c1,circle c2,point &p1,point &p2)//å°†ä¸¤åœ†äº¤ç‚¹è½¬æ¢ä¸ºç›´çº¿ä¸åœ†äº¤ç‚¹æ±‚è§£ï¼Œè¿”å›å€¼è¡¨ç¤ºäº¤ç‚¹ä¸ªæ•°
{
    line l;
    l.a=c1.c-c2.c;
    l.b=c1.d-c2.d;
    l.c=c1.e-c2.e;
    return lineCutCircle(l,c2,p1,p2);
}
inline bool isok(double x)//äºŒåˆ†ä¸­çš„éªŒè¯å‡½æ•°
{
    c1.r=x;
    c2.r=getDis(c1.p,c2.p)+t2-x;
    c3.r=getDis(c1.p,c3.p)+t1-x;
    if(x<-eps||c2.r<-eps||c3.r<-eps)return 0;
    change(c1);
    change(c2);
    change(c3);
    int o1=circleAndCircle(c1,c2),o2=circleAndCircle(c1,c3),o3=circleAndCircle(c2,c3);
    if(o1==0||o2==0||o3==0)return 0;
    if(o1>2||o2>2||o3>2)return 1;
    point a,b,c,d,e,f;
    o1=circleCutCircle(c1,c2,a,b);
    o2=circleCutCircle(c1,c3,c,d);
    o3=circleCutCircle(c2,c3,e,f);
    if(pointAndCircle(a,c3)||o1==2&&pointAndCircle(b,c3))return 1;
    if(pointAndCircle(c,c2)||o2==2&&pointAndCircle(d,c2))return 1;
    if(pointAndCircle(e,c1)||o3==2&&pointAndCircle(f,c1))return 1;
    return 0;
}
int main()
{
    scanf("%lf%lf%lf%lf%lf%lf%lf%lf",&t1,&t2,&c1.p.x,&c1.p.y,&c2.p.x,&c2.p.y,&c3.p.x,&c3.p.y);
    if(getDis(c1.p,c3.p)+getDis(c3.p,c2.p)-getDis(c1.p,c2.p)-t2<=eps)//åˆ†ç±»è®¨è®ºBobä¸€è·¯é™ªç€Alançš„æƒ…å†µ
        printf("%.10lf",min(getDis(c1.p,c3.p)+getDis(c3.p,c2.p)+t1,getDis(c1.p,c2.p)+t2));
    else
    {
        l=0;
        r=min(getDis(c1.p,c3.p)+getDis(c3.p,c2.p)+t1,getDis(c1.p,c2.p)+t2);
        while(r-l>eps)
        {
            mid=(l+r)/2;
            if(isok(mid))l=mid;
            else r=mid;
        }
        printf("%.10lf",mid);
    }
}
```


---

## ä½œè€…ï¼španjoel (èµï¼š4)

å¯ä»¥è¯æ˜å‡ºæœ€ä¼˜çš„åˆ†ç¦»ç‚¹è‚¯å®šæ˜¯åœ¨p0,p1,p2ç»„æˆçš„ä¸‰è§’å½¢ä¹‹é—´ã€‚

å› æ­¤å¯ä»¥æ±‚å‡ºp0å‡ºå‘çš„è§’åº¦ï¼Œä¸€æ—¦è§’åº¦ç¡®å®šï¼Œèƒ½èµ°çš„æœ€è¿œè·¯ç¨‹å¯ä»¥é€šè¿‡äºŒåˆ†æ±‚å¾—ã€‚

åŒæ—¶å‘ç°å½“è§’åº¦å·¦å³åç¦»ï¼Œé‚£ä¹ˆéƒ½åªä¼šæœ‰åˆ©äºæŸä¸€æ–¹ï¼Œæ‰€ä»¥ä¸‰åˆ†è§’åº¦ï¼ŒäºŒåˆ†è·ç¦»ã€‚

è§’åº¦å¯ä»¥ä¸‰åˆ†p1,p2ä¸Šçš„ç‚¹ã€‚

åˆ¤æ–­ä¸€ä¸‹ä¸¤ä¸ªäººèƒ½å¦ä¸€èµ·åˆ°shopç„¶åå›å®¶ï¼Œå¦‚æœä¸èƒ½ï¼š

ä¸¤ä¸ªäººä¸€å®šåœ¨ä¸‰è§’å½¢å†…éƒ¨æŸä¸€ç‚¹åˆ†å¼€ï¼Œå‡è®¾æ²¿ç€ç›´çº¿èµ°ï¼Œå¯ä»¥å°†é—®é¢˜ç®€åŒ–ã€‚

ä¸‰åˆ†ä»ç”µå½±é™¢å‡ºæ¥æ—¶å€™çš„è§’åº¦ï¼Œåœ¨å¯¹åº”çš„ç›´çº¿ä¸ŠäºŒåˆ†å‡ºä¸€ä¸ªåˆ†ç¦»ç‚¹å³å¯ã€‚

ä¸‰åˆ†è§’åº¦çš„æ–¹æ³•ï¼šåœ¨shopå’Œhomeä¸¤ä¸ªç‚¹ä¹‹é—´æ‰¾ä¸€ä¸ªç‚¹pï¼Œé“¾æ¥på’Œç”µå½±é™¢ï¼Œåœ¨è¿™ä¸ªçº¿æ®µä¸Šé¢äºŒåˆ†å‡ºåˆ†ç¦»ç‚¹ã€‚

### **æ³¨æ„ï¼šç²¾åº¦ã€‚**

## Code:

```cpp
#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <iostream>
using namespace std;
#define sqr(x) ((x)*(x))
#define eps 1e-6
 
struct POINT {
    double x, y;
    POINT() {}
    POINT(double _x, double _y): x(_x), y(_y) {}
} c, s, h;
double t1, t2;
 
double dist(POINT &x, POINT &y) {
    return sqrt(sqr(x.x-y.x) + sqr(x.y-y.y));
}
double calc(double m) {
    POINT a = POINT(s.x*(1-m) + h.x*m, s.y*(1-m) + h.y*m);
    POINT b;
    double ac = dist(a, c);
    double ah = dist(a, h);
    double as = dist(s, a);
    if (ac + ah <= t2 && ac + as <= t1) {
        return min(t2-ah, t1-as);
    }
    double l = 0, r = 1, mid, la, lb, lc;
    for (int i=0; i<300; i++) {
        mid = (l + r)/2.0;
        b = POINT(c.x*(1-mid) + a.x*mid, c.y*(1-mid) + a.y*mid);
        la = dist(b, c);
        lb = dist(b, h);
        lc = dist(b, s);
        if (la+lb<=t2 && la+lc<=t1) l = mid;
        else r = mid;
    }
    b = POINT(c.x*(1-l) + a.x*l, c.y*(1-l) + a.y*l);
    return dist(b, c);
}
int main() {
 
    cin >>t1>>t2>>c.x>>c.y>>h.x >> h.y >> s.x>> s.y;
    double la, lb, lc;
    la = dist(c, s);
    lb = dist(c, h);
    lc = dist(s, h);
 
    if (lb + t2 >= la + lc) {
        printf("%.10lf\n", min(lb+t2, la+lc+t1));
        return 0;
    }
    t1 += la + 1e-10;
    t2 += lb + 1e-10;
 
    double l = 0, r = 1, lm, rm, ans = 0, v1, v2;
    for (int i=0; i<300; i++) {
        lm = (2*l + r)/3.0, rm = (2*r + l)/3.0;
        v1 = calc(lm), v2 = calc(rm);
        ans = max(ans, max(v1, v2));
        if (v1 < v2) l = lm;
        else r = rm;
    }
 
    printf("%.10lf\n", ans);
 
    return 0;
}
```


---

## ä½œè€…ï¼šå°ç¦ç”¨æˆ· (èµï¼š2)

è¿™é¢˜é¦–å…ˆåˆ†3ç§æƒ…å†µ

ä¸€.Bobé™ªAlanåˆ°å•†åº—

äºŒ.ä¸é™ªåˆ°å•†åº—ï¼Œä½†é™ªçš„æ—¶å€™ä¸ç»•å¼¯è·¯ï¼Œåªèµ°ç›´çº¿

ä¸‰.ä¸é™ªåˆ°å•†åº—ï¼Œé™ªçš„æ—¶å€™ç»•å¼¯è·¯

ç»è¿‡åˆ†æ

å¯ä»¥å‘ç°åˆ†ç¦»å¼€å…¶å®æ˜¯ä¸åˆ’ç®—çš„ã€‚

æ‰€ä»¥ä¸€æœ€ä¼˜ï¼Œä½†æœ‰äº›æ—¶å€™èµ°ä¸åˆ°å•†åº—

è¿™æ—¶æˆ‘ä»¬å¯ä»¥æ–­å®šä»–ä»¬æ˜¯åœ¨ä¸€ä¸ªç‚¹åˆ†ç¦»çš„ï¼ˆåºŸè¯ï¼‰

åˆ†ç¦»åè¦èµ°ç›´çº¿ï¼Œä¸ºåˆ†ç¦»å‰çš„DiscussèŠ‚çœæ—¶é—´

äºŒå¯ä»¥ç†è§£

ä½†ä¸‰æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ

å› ä¸ºå¦‚æœåœ¨æŸä¸€ç‚¹æ˜¯æœ€ä½³åˆ†ç¦»ç‚¹ï¼ˆåœ¨è¿™ä¸ªç‚¹åˆ†ç¦»ï¼Œä¸¤ä¸ªäººèµ°çš„è·¯éƒ½å¯ä»¥ç¬¦åˆæ¡ä»¶ï¼Œä¸ä¼šå¾ˆé•¿ï¼‰

ä½†æ˜¯ç›´ç€èµ°è¿‡å»å†èµ°å›å®¶ï¼Œå‘ç°è¿˜æœ‰ä¸€äº›æ—¶é—´æ€ä¹ˆåŠï¼Ÿ

é‚£å°±åœ¨è·¯ä¸Šï¼ˆç”œèœœçš„æ—¶å…‰ï¼‰ç»•ç‚¹å¼¯è·¯ã€‚

ç”»ç”»å›¾å°±çŸ¥é“äº†ã€‚

æœ€ä½³åˆ†ç¦»ç‚¹ä¸€å®šåœ¨å•†åº—ä¸å®¶çš„çº¿æ®µä¸Šã€‚ï¼ˆåˆ°å•†åº—å’Œå®¶çš„è·ç¦»å’Œæœ€å°ï¼‰


ç°åœ¨æˆ‘ä»¬æ¥æƒ³ä¸€æƒ³äºŒå¦‚ä½•è§£å†³ï¼Ÿ

ç”»ä¸ªå›¾ï¼š

ç„¶åä½ ä¼šæƒ³åˆ°ä¸€ä»¶äº‹

é‚£å°±æ˜¯äºŒçš„æƒ…å†µç›¸ä¼¼äºä¸‰çš„æƒ…å†µï¼Œåªä¸è¿‡äºŒæ—¶èµ°ä¸åˆ°å•†åº—ä¸å®¶çš„çº¿æ®µä¸Šï¼Œæ•…æ²¡æœ‰å¤šä½™çš„æ—¶é—´ç»™ä½ ç»•åœˆåœˆ

æ‰€ä»¥åˆ†ç¦»ç‚¹ä¸€å®šåœ¨ä¸‰è§’å½¢å†…éƒ¨ã€‚ï¼ˆæ˜“è¯ï¼‰

ç°åœ¨
æ ¹æ®é¢˜æ„

è¦æ»¡è¶³ä¸¤ä¸ªä¸ç­‰å¼ï¼š

e+t2>=a+b

d+f+t1>=a+c+f//å³d+t1>=a+c

æœ‰ä¸‰ä¸ªæœªçŸ¥æ•°ã€‚a,b,c

ä½†å…¶å®è¿™3ä¸ªæœªçŸ¥æ•°éƒ½å’Œä¸€ä¸ªç‚¹æœ‰å…³ï¼Œé‚£å°±æ˜¯Parting Pointï¼ˆç®€ç§°Pï¼‰

åªéœ€æ±‚åæ ‡

ä½†ä¸èƒ½æšä¸¾ï¼ˆç‚¸ï¼Œ1e-4ï¼‰

æ³¨æ„åˆ°ä¸¤ä¸ªå¼å­ä¸­éƒ½å«a

ä¸å¦‚å‡è®¾aä¸€å®šæ—¶

På¾€å·¦æ—¶bå‡å°ï¼Œcå¢å¤§

å¾€å³æ—¶cå‡å°ï¼Œbå¢å¤§

é‚£ä¹ˆåœ¨ä¸­é—´å¯èƒ½æœ‰ä¸€æ®µ

ä½¿ä¸ç­‰å¼æˆç«‹ï¼Œ

è¿™ä¸å°±æ˜¯ä¸€ä¸ªå•å‘ï¼ˆå•å³°ï¼‰å‡½æ•°å—ã€‚

ä¸‰åˆ†å¯ä»¥è§£å†³

å…ˆäºŒåˆ†aï¼Œå†ä¸‰åˆ†è§’åº¦ã€‚

ä½†æ˜¯ï¼Œå›¾æœ‰å¾ˆå¤šç§ç”»æ³•ï¼Œæˆ‘çš„åªæ˜¯ä¸€ç§ã€‚

å•æ˜¯ä¸‰åˆ†è§’åº¦ï¼Œéƒ½è¦äººä¸€å‘½ï¼Œæ›´ä½•å†µè¿™æ˜¯ä¸€é“å¡ç²¾åº¦çš„é¢˜ï¼Ÿ

ä¸‰åˆ†çš„è§’å¿…é¡»æ˜¯åŠ£å¼§ï¼Œä¼˜å¼§ä¼šç‚¸

è¦å¼€long double,è¿˜åªèƒ½ç”¨cin//è‡³ä»Šä¸çŸ¥long double å¦‚ä½•scanf

åˆ«å¿˜äº†ä½ è¿˜è¦è®¡ç®—ç¬¬ä¸‰ç§......

ç„¶åå°±æ˜¯æ— é™WAçš„å‘½ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚


ç„¶åä¸€ç§é€†å¤©çš„æ€è·¯å‡ºç°äº†ï¼Œå®ƒæ‹‚å»äº†è¿™é“é¢˜è®¡ç®—å‡ ä½•çš„æ°”æ¯ï¼Œ

æ”¶æ•›äº†WAå¤§é­”ç‹åš£å¼ çš„æ°”ç„°ï¼Œè¿˜è®©æˆ‘ä»¬æœ‰èƒ½åŠ›ä¸€å¥è¯è®¡ç®—å®Œä¸‰ã€‚

æœ€ä½³åˆ†ç¦»ç‚¹ä¸€å®šåœ¨å•†åº—ä¸å®¶çš„çº¿æ®µä¸Šã€‚

åˆ†ç¦»ç‚¹ä¸€å®šåœ¨ä¸‰è§’å½¢å†…éƒ¨ã€‚

æœ‰ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆæƒ³ä¸€æƒ³ï¼Œæˆ‘ä»¬ä¸‰åˆ†è§’åº¦ï¼Œå¾—åˆ°ä¸€æ¡ç›´çº¿ï¼Œå¦‚æœè¿™ä¸ªç›´çº¿ä¸Šæœ‰æœ€ä¼˜è§£ï¼Œé‚£ä¹ˆä»–ä¸€å®šä¸å•†åº—ä¸å®¶çš„çº¿æ®µç›¸äº¤ï¼

ä¸‰åˆ†å•†åº—ä¸å®¶çš„çº¿æ®µä¸Šçš„ä¸€ç‚¹Dï¼Œå°±ç›¸å½“äºä¸‰åˆ†è§’åº¦

Dä¸ç”µå½±é™¢é“¾æ¥ï¼Œç„¶åä¸€å¥è¯ç‰¹åˆ¤å®Œä¸‰çš„æƒ…å†µ

ç„¶åå†äºŒåˆ†Dä¸ç”µå½±é™¢çš„çº¿æ®µä¸Šçš„ä¸€ç‚¹ã€‚

äºŒåˆ†å’Œä¸‰åˆ†ä¸€ä¸ªç‚¹ï¼Œé™¤äº†åˆ†é•¿åº¦ï¼Œè¿˜å¯ä»¥åˆ†æ¯”ä¾‹


---

## ä½œè€…ï¼škczno1 (èµï¼š1)

é¦–å…ˆåˆ†ç±»è®¨è®ºç›¸åŒè·¯å¾„æ˜¯å¦ç»è¿‡$c$ã€‚  
å¦‚æœç»è¿‡ï¼Œé‚£ä¹ˆ$A,B$æ¥ä¸‹æ¥ä¸€å®šéƒ½èµ°å‘$b$ï¼Œ
æ‰€ä»¥ç‰¹åˆ¤ä¸€ä¸‹å°±å¥½äº†ã€‚  
å¦‚æœä¸ç»è¿‡ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯$A,B$ä¸€èµ·èµ°åˆ°ä¸€ä¸ªç‚¹$p$ï¼Œå³$A$èµ°a->p->c->bï¼Œ$B$èµ°a->p->bã€‚  
äºŒåˆ†$|ap|$ï¼Œå¯ä»¥å‘ç°é—®é¢˜è½¬åŒ–ä¸ºåˆ¤æ–­ä¸‰ä¸ªåœ†æœ‰æ— äº¤ç‚¹ã€‚  
é¦–å…ˆåˆ¤æ–­æ˜¯å¦ä¸¤ä¸¤æœ‰äº¤ï¼Œç„¶åæšä¸¾ä»»æ„ä¸¤ä¸ªåœ†ï¼Œåˆ¤æ–­æ˜¯å¦ç›¸äº’åŒ…å«æˆ–äº¤ç‚¹åœ¨ç¬¬ä¸‰ä¸ªåœ†å†…ã€‚  
æˆ‘å†™çš„ä¼¼ä¹è¯¯å·®å¾ˆå¤§å•Šï¼Œæ”¹æˆ$long$ $double$ä¸”$eps=1e-12$æ‰è¿‡ã€‚
```cpp
//by kcz 1552920354@qq.com
//if you find any bug in my code
//please tell me
#include<bits/stdc++.h>
using namespace std;

template <typename T> void chmin(T &x,const T &y)
{
	if(x>y)x=y;
}
template <typename T> void chmax(T &x,const T &y)
{
	if(x<y)x=y;
}
typedef long long ll;
typedef pair<int,int> pii;
typedef long double Lf;
typedef pair<Lf,Lf> point;
#define rep(i,l,r) for(int i=l;i<=r;++i)
#define per(i,r,l) for(int i=r;i>=l;--i)
#define pb push_back
#define mp make_pair
#define gc (c=getchar())
int read()
{
    char c;
    while(gc<'-');
    if(c=='-')
    {
        int x=gc-'0';
        while(gc>='0')x=x*10+c-'0';
        return -x;
    }
    int x=c-'0';
    while(gc>='0')x=x*10+c-'0';
    return x;
}
#undef gc
const Lf eps=1e-12;
const Lf I=sqrt(-1);
const point O=mp(0,0);
int cmp(const Lf &x)
{
	return x<-eps?-1:x>eps;
}
void read(point &p)
{
	cin>>p.first>>p.second;
}
point operator -(const point &p1,const point &p2)
{
	return mp(p1.first-p2.first,p1.second-p2.second);
}
void operator -=(point &p1,const point &p2)
{
	p1.first-=p2.first;p1.second-=p2.second;
}
Lf sqr(const Lf &x)
{
	return x*x;
}
Lf dis2(point p1,point p2=O)
{
	return sqr(p1.first-p2.first)+sqr(p1.second-p2.second);
}
Lf dis(point p1,point p2=O)
{
	return sqrt(sqr(p1.first-p2.first)+sqr(p1.second-p2.second));
}
point a,b,c;
Lf t1,t2;
void jie(Lf &x1,Lf &x2,Lf a,Lf b,Lf c)
{
//	if(cmp(b*b-4*a*c)<0)
//			puts("-1");
	Lf s=-b/(2*a),d=cmp(b*b-4*a*c)<=0?0:sqrt(b*b-4*a*c)/(2*a);
	x1=s-d;x2=s+d;
}
bool ok(point B,Lf l1,point C,Lf l2,Lf l)
{
	if(cmp(l1-dis(B)-l)>=0)return 1;
	if(cmp(l-dis(B)-l1)>=0)return 1;
	Lf a=2*B.first,b=2*B.second,c=sqr(l1)-sqr(l)-sqr(B.first)-sqr(B.second);
	Lf x1,x2,y1,y2;
	if(!cmp(b))
	{
//		if(!cmp(a))
//			puts("-1");
		x1=x2=-c/a;
		if(cmp(sqr(l)-sqr(x1))<=0)
		{
			y1=y2=0;
		}
		else
		{
			y1=sqrt(sqr(l)-sqr(x1));
			y2=-y1;
		}
	}
	else
	{
		a=-a/b;c=-c/b;
		jie(x1,x2,1+sqr(a),2*a*c,sqr(c)-sqr(l));
		y1=a*x1+c;y2=a*x2+c;
	}
/*	if(cmp(dis(C,mp(x1,y1))-l2)<=0)
		printf("%lf %lf\n",x1,y1);
	if(cmp(dis(C,mp(x2,y2))-l2)<=0)
		printf("%lf %lf\n",x2,y2);*/
	return cmp(dis(C,mp(x1,y1))-l2)<=0||cmp(dis(C,mp(x2,y2))-l2)<=0;
}
bool ok(const Lf &l)
{
	Lf l2=t2-l,l1=t1-l;
	if(cmp(sqr(l1+l2)-dis2(b,c))<0)return 0;
	return ok(b,l1,c,l2,l)||ok(c,l2,b,l1,l)||ok(b-c,l1,O-c,l,l2);
}

int main()
{
	freopen("1.in","r",stdin);//freopen("1.out","r",stdin);
	cin>>t2>>t1;
	read(a);read(b);read(c);
	b-=a;c-=a;
	t1+=dis(b);t2+=dis(c);
//	printf("%lf %lf %lf\n",dis(c),dis(b,c),t1);
	if(cmp(dis(c)+dis(b,c)-t1)<=0) 
	{
		printf("%lf\n",(double)min(t2+dis(b,c),t1));
		return 0;
	}
	Lf l=0,r=min(t1,t2);
	rep(o,1,40)
	{
		Lf mid=(l+r)/2;
		if(ok(mid))l=mid;
		else r=mid;
	}
//	printf("%d\n",ok(l));
	printf("%lf\n",(double)l);
}
```

---

## ä½œè€…ï¼šChen_Johnny (èµï¼š0)

# CodeForces 8D Two Friends
ä¸€è¨€éš¾å°½ï¼Œåˆæ¶å¿ƒåˆå¥½ï¼Œè¿™ç§é¢˜è€ƒçš„æ˜¯æ•°å­¦â€¦â€¦

ä¸è¿‡è¿™ç¯‡é¢˜è§£è®²çš„å¾ˆè¯¦ç»†ï¼Œå¸Œæœ›å¤§å®¶èƒ½çœ‹å®Œï¼Œå†…æ¶µå…¨æ¨å¯¼ä»¥åŠæ€è€ƒè¿‡ç¨‹ä»¥åŠçº¯æ•°å­¦çŸ¥è¯†ï¼
## 1. é¢˜ç›®åˆ†æ
è¿™é“é¢˜çš„é¢˜ç›®å¾ˆé•¿ï¼Œä½†æ˜¯æ€»ç»“å‡ºæ¥å…¶å®å°±ä¸‰å¥è¯ï¼š

1. å¦‚å›¾ï¼Œæœ‰ä¸‰ä¸ªç‚¹ï¼Œ$A,B,C$ã€‚
2. éšä¾¿æ‰¾ä¸€ä¸ªç‚¹ $K$ ä½¿å¾—ï¼š
$\begin{cases}
    AC + t_1 \leqslant AK + KC \\
    AB + t_2 \leqslant AK + KB
\end{cases}$
3. æ±‚ $AP$ çš„é•¿åº¦çš„æœ€å¤§å€¼ã€‚
![](https://cdn.luogu.com.cn/upload/image_hosting/3gncjdza.png?x-oss-process=image/resize,m_lfit,h_500,w_1225)
## 2. æ€è·¯
### 2.1 äºŒåˆ†ç­”æ¡ˆ
é¦–å…ˆï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ª $AK$ çš„é•¿åº¦ä¸ä»…æ˜¯ç­”æ¡ˆï¼Œè€Œä¸”æ˜¯æ•´ä¸ªé¢˜ç›®ä¸å¯æˆ–ç¼ºçš„ä¸€ä¸ªæ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥æƒ³ä¸€æƒ³ã€‚ä¸çŸ¥é“é•¿åº¦ğŸ¤”ï¼Œæšä¸¾ï¼

åˆæˆ‘ä»¬å‘ç°ï¼Œå…¶å®è¿™ä¸ª $AK$ çš„é•¿åº¦æœ‰å¯è¡Œæ€§ä¸Šçš„å•è°ƒæ€§ï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘ä»¬äºŒåˆ†ç­”æ¡ˆã€‚
### 2.2 å‡ ä½•ï¼
æˆ‘ä»¬å¾—åˆ°äº† $AK$ çš„é•¿åº¦ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¼€å§‹ç”»åœ†äº†ã€‚ä»¥ $A$ ä¸ºåœ†å¿ƒ $AK$ ä¸ºåŠå¾„çš„åœ†ï¼ˆç²‰è‰²çš„åœ†ï¼‰ã€‚ä¸éš¾å‘ç°ï¼Œæˆ‘ä»¬å›åˆ°åˆšå¼€å§‹çš„å¼å­ï¼š

$\begin{cases}
    AC + t_1 \leqslant AK + KC \\
    AB + t_2 \leqslant AK + KB
\end{cases}\Rightarrow\begin{cases}
    AC + t_1 - AK \leqslant KC \\
    AB + t_2 - AK \leqslant KB
\end{cases}$

å¾ˆæ˜æ˜¾ï¼Œ$AC, AB, t_1, t_2, AK$ å‡ä¸ºå·²çŸ¥ï¼Œæ‰€ä»¥å†ä»¥ $B, C$ ä¸ºåœ†å¿ƒï¼Œ$AB + t_2 - AK, AC + t_1 - AK$ ä½œåœ†ï¼ˆåˆ†åˆ«ä¸ºç»¿è‰²å’Œè“è‰²çš„åœ†ï¼‰ã€‚

![](https://cdn.luogu.com.cn/upload/image_hosting/q04nrwf0.png?x-oss-process=image/resize,m_lfit,h_500,w_1225)
å› æ­¤ï¼Œæˆ‘ä»¬å‘ç°å½“ä¸”ä»…å½“æ»¡è¶³ä¸‰ä¸ªåœ†æœ‰å…¬å…±åŒºåŸŸï¼Œç»“è®ºæˆç«‹ã€‚ä¸éš¾å‘ç°ï¼Œå…¶å®å°±æ˜¯ä¸¤ä¸ªåœ†çš„äº¤ç‚¹åœ¨ç¬¬ä¸‰ä¸ªå›­å†…ã€‚é‚£ä¹ˆè¿™ä¸ªæˆ‘ä»¬å‘ç°å…¶å®å°±æ˜¯ä¸€ä¸ªå’Œåœ†çš„å¹‚æœ‰å…³çš„æ•°å­¦é—®é¢˜ã€‚
### 1. æ±‚äº¤ç‚¹çš„åæ ‡
é¦–å…ˆï¼Œè®¾äº¤ç‚¹çš„åæ ‡ä¸º $x, y$ï¼Œ$C,B$ åæ ‡ä¸º $(x_1,y_1),(x_2,y_2)$ï¼Œè“åœ†å’Œç»¿åœ†çš„åŠå¾„åˆ†åˆ«ä¸º $r_1,r_2$ã€‚

ç”±å¹³é¢ç›´è§’åæ ‡ç³»çš„è·ç¦»å…¬å¼ï¼š$\begin {cases} 
(x-x_1)^2 + (y - y_1)^2 = r_1^2\\
(x - x_2)^2 + (y - y_2)^2 = r_2^2
\end{cases}$

ä¸¤å¼ç›¸å‡å¾—ï¼š
$$x_1^2 - x_2^2 + y_1^2 - y_2^2 + 2x (x_2 - x_1) + 2y (y_2 - y_1) = r_1^2 - r_2^2$$

ä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿ï¼Œè®¾ $$A = 2(x_2 - x_1), B = 2(y_2 - y_1), C = x_2^2 - x_1^2 + y_2^2 - y_1^2$$ã€‚

åˆ™ï¼š
$$y = \frac {C - Ax}{B}$$

ä»£å…¥åŸå¼å¾—ï¼š
$$(x - x_1)^2 + (\frac {C - Ax} {B} - y_1)^2 = r_1^2$$
è®¡ç®—å¾—ï¼š
$$(A^2 + B^2)x^2 - 2(B^2x_1+2AC-2ABy_1) + (x_1^2B^2 + C^2 - 2BCy_1 + y_1^2B^2 + r_1^2B^2) = 0$$
æœ€åï¼Œæˆ‘ä»¬ç”¨ $\triangle$ æ¥åˆ¤æ–­æ–¹ç¨‹çš„è§£å¹¶æ±‚è§£$(x,y)$ï¼ˆç”¨ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹çš„æ±‚æ ¹å…¬å¼)ã€‚
### 2. æ±‚æ˜¯å¦åœ¨å›­å†…
åªéœ€è¦åˆ¤æ–­ $(x,y)$ ä¸ $A$ ç‚¹çš„è·ç¦»æ˜¯ä¸æ˜¯ä¸æ¯” $AK$ å¤§å°±è¡Œäº†ã€‚
## ä»£ç 
è¿™é“é¢˜ä»£ç å¾ˆå¤æ‚ï¼Œä½†å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ä»¥ä¸Šåšçš„å‡ æ­¥ï¼Œæˆ‘è¿™é‡Œç»™å¤§å®¶ä¸€ä¸ªè­¦å‘Šï¼š

æµ®ç‚¹æ•°è¿ç®—ä¸ç®—ç²¾åº¦è¯¯å·®ä¼šçˆ†é›¶ï¼æ³¨æ„ç”¨ ```eps = 1e-10``` æ¥è¿›è¡Œç²¾åº¦è¯¯å·®çš„è°ƒæ•´ï¼

---


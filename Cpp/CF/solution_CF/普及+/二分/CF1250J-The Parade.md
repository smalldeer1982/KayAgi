# The Parade

## 题目描述

**题意简述**

柏林军队正在准备一场大规模的阅兵式。参加的士兵将被分成人数相等的$k$行。

当然，排兵布阵是需要一定的规则的：同一排士兵的身高相差不应超过$1$且每个士兵的身高是$1$到$n$之间的整数。

已知每名士兵身高的你必须将所有参加阅兵的士兵排成$k$排，以满足上述条件。请你编写程序计算可以参加游行的士兵的最大数量。

## 说明/提示

第一组数据，士兵可以站成这样：$[3,3,3,3],[1,2,1,1],[1,1,1,1],[3,3,3,3]$（每个方括号表示一行）；

第二组数据，所有士兵可以全部站成一排；

第三组数据，士兵可以站成$3$排，每排$33$人；

第四组数据，所有士兵可以全部站成一排；

第五组数据，所有身高为$2$和$3$的可以站成一排。

## 样例 #1

### 输入

```
5
3 4
7 1 13
1 1
100
1 3
100
2 1
1000000000000 1000000000000
4 1
10 2 11 1
```

### 输出

```
16
100
99
2000000000000
13
```

# 题解

## 作者：HyperSQ (赞：3)

比较裸的模板题，二分一排的人数+贪心。可以对身高从大到小（从小到大也行）考虑，一排人能用这个身高的就尽可能用，不够了就拿下一个身高去凑（如果还是不行就算了）。容易证明贪心正确性：这样操作可以保证在排数相同的情况下端点尽可能靠前，这样显然不会让答案变得更差。复杂度 $O(n\log W)$。

[Code](https://www.luogu.com.cn/paste/xkvo0cig)

---


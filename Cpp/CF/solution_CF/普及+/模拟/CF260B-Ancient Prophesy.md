# Ancient Prophesy

## 题目描述

最近考古学家们发现了一个古老的预言，它包含了一个末日的日期**[真的]**。这个预言由一个字符串组成，且只包含数字和连字符**['-']**。考古学家们认为，末日的日期是一个形如**[dd-mm-yyyy]**的字串，可以有相交部分。一个日期出现的次数，就是这样的子串出现的次数。打个比方，对于预言**"0012-10-2012-10-2012"**，它就提到了两次2012年10月12日。【第一次是00**12-10-2012**-10-2012，第二次是0012-10-20**12-10-2012**(加粗字体)】。

世界末日的日期是合法的，并且是出现次数最多的那个日期。保证它出现的次数严格大于其他日期。

一个正确的日期，满足以下3个条件:

    1.年份必定在2013至2015年间
    2.月份在1~12月之间
    3.日期不超过这个月的天数,且大于0
特别注意的是，日期是这样读出来的:**日-月-年**。这意味着它需要前导零。比如说，**1-1-2013**不满足格式【**dd-mm-yyyy**】，而**01-01-2013**则是一个合法的格式。

提醒一下，2013至2015年没有闰年。

## 样例 #1

### 输入

```
777-444---21-12-2013-12-2013-12-2013---444-777
```

### 输出

```
13-12-2013```

# 题解

## 作者：xyf007 (赞：3)

# ~~无耻~~伟大的打表+map大法
```
#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cstring>
#include <string>
#include <map>
using namespace std;
string s;
map<string, int> sum,f;//sum表示出现次数，f表示是否合法(在表中)
string lawful[1095]={"01-01-2013","02-01-2013","03-01-2013","04-01-2013","05-01-2013","06-01-2013","07-01-2013","08-01-2013","09-01-2013","10-01-2013","11-01-2013","12-01-2013","13-01-2013","14-01-2013","15-01-2013","16-01-2013","17-01-2013","18-01-2013","19-01-2013","20-01-2013","21-01-2013","22-01-2013","23-01-2013","24-01-2013","25-01-2013","26-01-2013","27-01-2013","28-01-2013","29-01-2013","30-01-2013","31-01-2013","01-02-2013","02-02-2013","03-02-2013","04-02-2013","05-02-2013","06-02-2013","07-02-2013","08-02-2013","09-02-2013","10-02-2013","11-02-2013","12-02-2013","13-02-2013","14-02-2013","15-02-2013","16-02-2013","17-02-2013","18-02-2013","19-02-2013","20-02-2013","21-02-2013","22-02-2013","23-02-2013","24-02-2013","25-02-2013","26-02-2013","27-02-2013","28-02-2013","01-03-2013","02-03-2013","03-03-2013","04-03-2013","05-03-2013","06-03-2013","07-03-2013","08-03-2013","09-03-2013","10-03-2013","11-03-2013","12-03-2013","13-03-2013","14-03-2013","15-03-2013","16-03-2013","17-03-2013","18-03-2013","19-03-2013","20-03-2013","21-03-2013","22-03-2013","23-03-2013","24-03-2013","25-03-2013","26-03-2013","27-03-2013","28-03-2013","29-03-2013","30-03-2013","31-03-2013","01-04-2013","02-04-2013","03-04-2013","04-04-2013","05-04-2013","06-04-2013","07-04-2013","08-04-2013","09-04-2013","10-04-2013","11-04-2013","12-04-2013","13-04-2013","14-04-2013","15-04-2013","16-04-2013","17-04-2013","18-04-2013","19-04-2013","20-04-2013","21-04-2013","22-04-2013","23-04-2013","24-04-2013","25-04-2013","26-04-2013","27-04-2013","28-04-2013","29-04-2013","30-04-2013","01-05-2013","02-05-2013","03-05-2013","04-05-2013","05-05-2013","06-05-2013","07-05-2013","08-05-2013","09-05-2013","10-05-2013","11-05-2013","12-05-2013","13-05-2013","14-05-2013","15-05-2013","16-05-2013","17-05-2013","18-05-2013","19-05-2013","20-05-2013","21-05-2013","22-05-2013","23-05-2013","24-05-2013","25-05-2013","26-05-2013","27-05-2013","28-05-2013","29-05-2013","30-05-2013","31-05-2013","01-06-2013","02-06-2013","03-06-2013","04-06-2013","05-06-2013","06-06-2013","07-06-2013","08-06-2013","09-06-2013","10-06-2013","11-06-2013","12-06-2013","13-06-2013","14-06-2013","15-06-2013","16-06-2013","17-06-2013","18-06-2013","19-06-2013","20-06-2013","21-06-2013","22-06-2013","23-06-2013","24-06-2013","25-06-2013","26-06-2013","27-06-2013","28-06-2013","29-06-2013","30-06-2013","01-07-2013","02-07-2013","03-07-2013","04-07-2013","05-07-2013","06-07-2013","07-07-2013","08-07-2013","09-07-2013","10-07-2013","11-07-2013","12-07-2013","13-07-2013","14-07-2013","15-07-2013","16-07-2013","17-07-2013","18-07-2013","19-07-2013","20-07-2013","21-07-2013","22-07-2013","23-07-2013","24-07-2013","25-07-2013","26-07-2013","27-07-2013","28-07-2013","29-07-2013","30-07-2013","31-07-2013","01-08-2013","02-08-2013","03-08-2013","04-08-2013","05-08-2013","06-08-2013","07-08-2013","08-08-2013","09-08-2013","10-08-2013","11-08-2013","12-08-2013","13-08-2013","14-08-2013","15-08-2013","16-08-2013","17-08-2013","18-08-2013","19-08-2013","20-08-2013","21-08-2013","22-08-2013","23-08-2013","24-08-2013","25-08-2013","26-08-2013","27-08-2013","28-08-2013","29-08-2013","30-08-2013","31-08-2013","01-09-2013","02-09-2013","03-09-2013","04-09-2013","05-09-2013","06-09-2013","07-09-2013","08-09-2013","09-09-2013","10-09-2013","11-09-2013","12-09-2013","13-09-2013","14-09-2013","15-09-2013","16-09-2013","17-09-2013","18-09-2013","19-09-2013","20-09-2013","21-09-2013","22-09-2013","23-09-2013","24-09-2013","25-09-2013","26-09-2013","27-09-2013","28-09-2013","29-09-2013","30-09-2013","01-10-2013","02-10-2013","03-10-2013","04-10-2013","05-10-2013","06-10-2013","07-10-2013","08-10-2013","09-10-2013","10-10-2013","11-10-2013","12-10-2013","13-10-2013","14-10-2013","15-10-2013","16-10-2013","17-10-2013","18-10-2013","19-10-2013","20-10-2013","21-10-2013","22-10-2013","23-10-2013","24-10-2013","25-10-2013","26-10-2013","27-10-2013","28-10-2013","29-10-2013","30-10-2013","31-10-2013","01-11-2013","02-11-2013","03-11-2013","04-11-2013","05-11-2013","06-11-2013","07-11-2013","08-11-2013","09-11-2013","10-11-2013","11-11-2013","12-11-2013","13-11-2013","14-11-2013","15-11-2013","16-11-2013","17-11-2013","18-11-2013","19-11-2013","20-11-2013","21-11-2013","22-11-2013","23-11-2013","24-11-2013","25-11-2013","26-11-2013","27-11-2013","28-11-2013","29-11-2013","30-11-2013","01-12-2013","02-12-2013","03-12-2013","04-12-2013","05-12-2013","06-12-2013","07-12-2013","08-12-2013","09-12-2013","10-12-2013","11-12-2013","12-12-2013","13-12-2013","14-12-2013","15-12-2013","16-12-2013","17-12-2013","18-12-2013","19-12-2013","20-12-2013","21-12-2013","22-12-2013","23-12-2013","24-12-2013","25-12-2013","26-12-2013","27-12-2013","28-12-2013","29-12-2013","30-12-2013","31-12-2013","01-01-2014","02-01-2014","03-01-2014","04-01-2014","05-01-2014","06-01-2014","07-01-2014","08-01-2014","09-01-2014","10-01-2014","11-01-2014","12-01-2014","13-01-2014","14-01-2014","15-01-2014","16-01-2014","17-01-2014","18-01-2014","19-01-2014","20-01-2014","21-01-2014","22-01-2014","23-01-2014","24-01-2014","25-01-2014","26-01-2014","27-01-2014","28-01-2014","29-01-2014","30-01-2014","31-01-2014","01-02-2014","02-02-2014","03-02-2014","04-02-2014","05-02-2014","06-02-2014","07-02-2014","08-02-2014","09-02-2014","10-02-2014","11-02-2014","12-02-2014","13-02-2014","14-02-2014","15-02-2014","16-02-2014","17-02-2014","18-02-2014","19-02-2014","20-02-2014","21-02-2014","22-02-2014","23-02-2014","24-02-2014","25-02-2014","26-02-2014","27-02-2014","28-02-2014","01-03-2014","02-03-2014","03-03-2014","04-03-2014","05-03-2014","06-03-2014","07-03-2014","08-03-2014","09-03-2014","10-03-2014","11-03-2014","12-03-2014","13-03-2014","14-03-2014","15-03-2014","16-03-2014","17-03-2014","18-03-2014","19-03-2014","20-03-2014","21-03-2014","22-03-2014","23-03-2014","24-03-2014","25-03-2014","26-03-2014","27-03-2014","28-03-2014","29-03-2014","30-03-2014","31-03-2014","01-04-2014","02-04-2014","03-04-2014","04-04-2014","05-04-2014","06-04-2014","07-04-2014","08-04-2014","09-04-2014","10-04-2014","11-04-2014","12-04-2014","13-04-2014","14-04-2014","15-04-2014","16-04-2014","17-04-2014","18-04-2014","19-04-2014","20-04-2014","21-04-2014","22-04-2014","23-04-2014","24-04-2014","25-04-2014","26-04-2014","27-04-2014","28-04-2014","29-04-2014","30-04-2014","01-05-2014","02-05-2014","03-05-2014","04-05-2014","05-05-2014","06-05-2014","07-05-2014","08-05-2014","09-05-2014","10-05-2014","11-05-2014","12-05-2014","13-05-2014","14-05-2014","15-05-2014","16-05-2014","17-05-2014","18-05-2014","19-05-2014","20-05-2014","21-05-2014","22-05-2014","23-05-2014","24-05-2014","25-05-2014","26-05-2014","27-05-2014","28-05-2014","29-05-2014","30-05-2014","31-05-2014","01-06-2014","02-06-2014","03-06-2014","04-06-2014","05-06-2014","06-06-2014","07-06-2014","08-06-2014","09-06-2014","10-06-2014","11-06-2014","12-06-2014","13-06-2014","14-06-2014","15-06-2014","16-06-2014","17-06-2014","18-06-2014","19-06-2014","20-06-2014","21-06-2014","22-06-2014","23-06-2014","24-06-2014","25-06-2014","26-06-2014","27-06-2014","28-06-2014","29-06-2014","30-06-2014","01-07-2014","02-07-2014","03-07-2014","04-07-2014","05-07-2014","06-07-2014","07-07-2014","08-07-2014","09-07-2014","10-07-2014","11-07-2014","12-07-2014","13-07-2014","14-07-2014","15-07-2014","16-07-2014","17-07-2014","18-07-2014","19-07-2014","20-07-2014","21-07-2014","22-07-2014","23-07-2014","24-07-2014","25-07-2014","26-07-2014","27-07-2014","28-07-2014","29-07-2014","30-07-2014","31-07-2014","01-08-2014","02-08-2014","03-08-2014","04-08-2014","05-08-2014","06-08-2014","07-08-2014","08-08-2014","09-08-2014","10-08-2014","11-08-2014","12-08-2014","13-08-2014","14-08-2014","15-08-2014","16-08-2014","17-08-2014","18-08-2014","19-08-2014","20-08-2014","21-08-2014","22-08-2014","23-08-2014","24-08-2014","25-08-2014","26-08-2014","27-08-2014","28-08-2014","29-08-2014","30-08-2014","31-08-2014","01-09-2014","02-09-2014","03-09-2014","04-09-2014","05-09-2014","06-09-2014","07-09-2014","08-09-2014","09-09-2014","10-09-2014","11-09-2014","12-09-2014","13-09-2014","14-09-2014","15-09-2014","16-09-2014","17-09-2014","18-09-2014","19-09-2014","20-09-2014","21-09-2014","22-09-2014","23-09-2014","24-09-2014","25-09-2014","26-09-2014","27-09-2014","28-09-2014","29-09-2014","30-09-2014","01-10-2014","02-10-2014","03-10-2014","04-10-2014","05-10-2014","06-10-2014","07-10-2014","08-10-2014","09-10-2014","10-10-2014","11-10-2014","12-10-2014","13-10-2014","14-10-2014","15-10-2014","16-10-2014","17-10-2014","18-10-2014","19-10-2014","20-10-2014","21-10-2014","22-10-2014","23-10-2014","24-10-2014","25-10-2014","26-10-2014","27-10-2014","28-10-2014","29-10-2014","30-10-2014","31-10-2014","01-11-2014","02-11-2014","03-11-2014","04-11-2014","05-11-2014","06-11-2014","07-11-2014","08-11-2014","09-11-2014","10-11-2014","11-11-2014","12-11-2014","13-11-2014","14-11-2014","15-11-2014","16-11-2014","17-11-2014","18-11-2014","19-11-2014","20-11-2014","21-11-2014","22-11-2014","23-11-2014","24-11-2014","25-11-2014","26-11-2014","27-11-2014","28-11-2014","29-11-2014","30-11-2014","01-12-2014","02-12-2014","03-12-2014","04-12-2014","05-12-2014","06-12-2014","07-12-2014","08-12-2014","09-12-2014","10-12-2014","11-12-2014","12-12-2014","13-12-2014","14-12-2014","15-12-2014","16-12-2014","17-12-2014","18-12-2014","19-12-2014","20-12-2014","21-12-2014","22-12-2014","23-12-2014","24-12-2014","25-12-2014","26-12-2014","27-12-2014","28-12-2014","29-12-2014","30-12-2014","31-12-2014","01-01-2015","02-01-2015","03-01-2015","04-01-2015","05-01-2015","06-01-2015","07-01-2015","08-01-2015","09-01-2015","10-01-2015","11-01-2015","12-01-2015","13-01-2015","14-01-2015","15-01-2015","16-01-2015","17-01-2015","18-01-2015","19-01-2015","20-01-2015","21-01-2015","22-01-2015","23-01-2015","24-01-2015","25-01-2015","26-01-2015","27-01-2015","28-01-2015","29-01-2015","30-01-2015","31-01-2015","01-02-2015","02-02-2015","03-02-2015","04-02-2015","05-02-2015","06-02-2015","07-02-2015","08-02-2015","09-02-2015","10-02-2015","11-02-2015","12-02-2015","13-02-2015","14-02-2015","15-02-2015","16-02-2015","17-02-2015","18-02-2015","19-02-2015","20-02-2015","21-02-2015","22-02-2015","23-02-2015","24-02-2015","25-02-2015","26-02-2015","27-02-2015","28-02-2015","01-03-2015","02-03-2015","03-03-2015","04-03-2015","05-03-2015","06-03-2015","07-03-2015","08-03-2015","09-03-2015","10-03-2015","11-03-2015","12-03-2015","13-03-2015","14-03-2015","15-03-2015","16-03-2015","17-03-2015","18-03-2015","19-03-2015","20-03-2015","21-03-2015","22-03-2015","23-03-2015","24-03-2015","25-03-2015","26-03-2015","27-03-2015","28-03-2015","29-03-2015","30-03-2015","31-03-2015","01-04-2015","02-04-2015","03-04-2015","04-04-2015","05-04-2015","06-04-2015","07-04-2015","08-04-2015","09-04-2015","10-04-2015","11-04-2015","12-04-2015","13-04-2015","14-04-2015","15-04-2015","16-04-2015","17-04-2015","18-04-2015","19-04-2015","20-04-2015","21-04-2015","22-04-2015","23-04-2015","24-04-2015","25-04-2015","26-04-2015","27-04-2015","28-04-2015","29-04-2015","30-04-2015","01-05-2015","02-05-2015","03-05-2015","04-05-2015","05-05-2015","06-05-2015","07-05-2015","08-05-2015","09-05-2015","10-05-2015","11-05-2015","12-05-2015","13-05-2015","14-05-2015","15-05-2015","16-05-2015","17-05-2015","18-05-2015","19-05-2015","20-05-2015","21-05-2015","22-05-2015","23-05-2015","24-05-2015","25-05-2015","26-05-2015","27-05-2015","28-05-2015","29-05-2015","30-05-2015","31-05-2015","01-06-2015","02-06-2015","03-06-2015","04-06-2015","05-06-2015","06-06-2015","07-06-2015","08-06-2015","09-06-2015","10-06-2015","11-06-2015","12-06-2015","13-06-2015","14-06-2015","15-06-2015","16-06-2015","17-06-2015","18-06-2015","19-06-2015","20-06-2015","21-06-2015","22-06-2015","23-06-2015","24-06-2015","25-06-2015","26-06-2015","27-06-2015","28-06-2015","29-06-2015","30-06-2015","01-07-2015","02-07-2015","03-07-2015","04-07-2015","05-07-2015","06-07-2015","07-07-2015","08-07-2015","09-07-2015","10-07-2015","11-07-2015","12-07-2015","13-07-2015","14-07-2015","15-07-2015","16-07-2015","17-07-2015","18-07-2015","19-07-2015","20-07-2015","21-07-2015","22-07-2015","23-07-2015","24-07-2015","25-07-2015","26-07-2015","27-07-2015","28-07-2015","29-07-2015","30-07-2015","31-07-2015","01-08-2015","02-08-2015","03-08-2015","04-08-2015","05-08-2015","06-08-2015","07-08-2015","08-08-2015","09-08-2015","10-08-2015","11-08-2015","12-08-2015","13-08-2015","14-08-2015","15-08-2015","16-08-2015","17-08-2015","18-08-2015","19-08-2015","20-08-2015","21-08-2015","22-08-2015","23-08-2015","24-08-2015","25-08-2015","26-08-2015","27-08-2015","28-08-2015","29-08-2015","30-08-2015","31-08-2015","01-09-2015","02-09-2015","03-09-2015","04-09-2015","05-09-2015","06-09-2015","07-09-2015","08-09-2015","09-09-2015","10-09-2015","11-09-2015","12-09-2015","13-09-2015","14-09-2015","15-09-2015","16-09-2015","17-09-2015","18-09-2015","19-09-2015","20-09-2015","21-09-2015","22-09-2015","23-09-2015","24-09-2015","25-09-2015","26-09-2015","27-09-2015","28-09-2015","29-09-2015","30-09-2015","01-10-2015","02-10-2015","03-10-2015","04-10-2015","05-10-2015","06-10-2015","07-10-2015","08-10-2015","09-10-2015","10-10-2015","11-10-2015","12-10-2015","13-10-2015","14-10-2015","15-10-2015","16-10-2015","17-10-2015","18-10-2015","19-10-2015","20-10-2015","21-10-2015","22-10-2015","23-10-2015","24-10-2015","25-10-2015","26-10-2015","27-10-2015","28-10-2015","29-10-2015","30-10-2015","31-10-2015","01-11-2015","02-11-2015","03-11-2015","04-11-2015","05-11-2015","06-11-2015","07-11-2015","08-11-2015","09-11-2015","10-11-2015","11-11-2015","12-11-2015","13-11-2015","14-11-2015","15-11-2015","16-11-2015","17-11-2015","18-11-2015","19-11-2015","20-11-2015","21-11-2015","22-11-2015","23-11-2015","24-11-2015","25-11-2015","26-11-2015","27-11-2015","28-11-2015","29-11-2015","30-11-2015","01-12-2015","02-12-2015","03-12-2015","04-12-2015","05-12-2015","06-12-2015","07-12-2015","08-12-2015","09-12-2015","10-12-2015","11-12-2015","12-12-2015","13-12-2015","14-12-2015","15-12-2015","16-12-2015","17-12-2015","18-12-2015","19-12-2015","20-12-2015","21-12-2015","22-12-2015","23-12-2015","24-12-2015","25-12-2015","26-12-2015","27-12-2015","28-12-2015","29-12-2015","30-12-2015","31-12-2015"};//打表
int main(int argc, char const *argv[])
{
	for (int i = 0; i < 1095; ++i)
	{
		f[lawful[i]]=1;//预处理
	}
	cin>>s;
	string temp,ans;
	for (int i = 0; i < 10; ++i)
	{
		temp+=s[i];
	}
	int mx=-1;
	if (f.count(temp))
	{
		sum[temp]++;
		if (sum[temp]>mx)
		{
			mx=sum[temp];
			ans=temp;
		}
	}
	for (int i = 10, sz=s.size(); i < sz; ++i)
	{
		temp.erase(temp.begin());
		temp+=s[i];
		if (f.count(temp))
		{
			sum[temp]++;
			if (sum[temp]>mx)
			{
				mx=sum[temp];
				ans=temp;
			}
		}//模拟并判断
	}
	cout<<ans;
	return 0;
}
```

---

## 作者：45dinо (赞：2)

一道小水题。

枚举每一个字串，对于每一个字串，先判断是否合法，如果合法，用 map 记录次数。

然后就没有然后了。

判断依据：
- 除了 3，5 位其他位有 ```-``` ，或 3，5 位没有 ```-```。
- 年月日不合法

喜闻乐见的代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int maxx;
string s,ans;
map<string,int> num;
map<string,string> month;
void init()
{
	month["01"]="31";
	month["02"]="28";
	month["03"]="31";
	month["04"]="30";
	month["05"]="31";
	month["06"]="30";
	month["07"]="31";
	month["08"]="31";
	month["09"]="30";
	month["10"]="31";
	month["11"]="30";
	month["12"]="31";
}
void solve(string x)
{
	string d,m,y; 
	for(int i=0;i<x.size();i++)
	{
		if(i==2||i==5)
		{ 
			if(x[i]!='-')
				return ;
		} 
		else
		{
			if(x[i]=='-')
				return ;
		}
	}	
	d=x.substr(0,2);
	m=x.substr(3,2);
	y=x.substr(6,4);
	if(y>"2015"||y<"2013")
		return ;
	if(d=="00")
		return ;
	if(m>"12"||m=="00")
		return ;
	string maxd=month[m];
	if(maxd[0]>d[0]||(maxd[0]==d[0]&&maxd[1]>=d[1]))
	{
		string res=d+"-"+m+"-"+y;
		num[res]++;
		if(num[res]>maxx)
		{
			maxx=num[res];
			ans=res;
		}
	}
} 
int main()
{
	init();
	cin>>s;
	for(int i=0;i<=s.size()-10;i++)
		solve(s.substr(i,10));
	cout<<ans;
	return 0;
}
```


---

## 作者：离散小波变换° (赞：2)

# 题目大意
给定由数字与**'-'**组成的非空文本串，询问出现最多次数的合法年份是哪个。

合法年份，就是满足$dd-mm-yyyy$结构的年份，比如**13-12-2015**就是合法年份。尤其需要注意的是，形如**01-01-2014**的年份是合法年份，而**1-1-2014**却不是。**【即不足十位要有前导零】**

此外，年数必须要在**2013**至**2015**年之间
# 分析
我想看到题目，大家基本都知道怎么做了吧~~

数据范围在$10^5$以内，而满足条件的字串长度为$10$。显然，我们可以依次取出$s[i$~$i+10-1]$这一段的字符，进行$check$，并用$map$存储每一个年份出现的次数。如何取出一段字符呢？
### 取出字符串
1.也是最简单的方法，直接暴力取出来，代码如下：
```cpp
string cut(string t,int p){
	string ret;
	for(int i=0;i<10;i++)
	ret.push_back(t[i+p]);
	return ret;
}
```
2.既然C++都帮你做好string了，怎么可能没有相关函数呢？
```cpp
string cut(string t,int p){
	return t.substr(p,10);
}
```
3.构造函数也提供了一种初始化方法
```cpp
string cut(string t,int p){
	string ret(t,p,10);
	return ret;
}
```
### 判断合法
观察格式串$dd-mm-yyyy$自然想到先判断**'-'**和数字啦~~
```cpp
if(t[2]!='-'||t[5]!='-') return;
	if(t[0]=='-'||t[1]=='-'||t[3]=='-'||t[4]=='-'||
	   t[6]=='-'||t[7]=='-'||t[8]=='-'||t[9]=='-')
	return;

```
分别取出年月日，判断合法性。注意本题没有闰年，二月份可以大胆判断。~~一直以为2月30天~~
# 代码
```
#include<bits/stdc++.h>
using namespace std;
const int d[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};
map <string,int> mmp;
int ans;
string s,res;
int getnum(char c){
	return c-'0';
}
void check(int p){
	string t(s,p,10);
	if(t.length()<10) return;
	if(t[2]!='-'||t[5]!='-') return;
	if(t[0]=='-'||t[1]=='-'||t[3]=='-'||t[4]=='-'||
	   t[6]=='-'||t[7]=='-'||t[8]=='-'||t[9]=='-')
	return;
	int day=getnum(t[0])*10+getnum(t[1]);
	int mon=getnum(t[3])*10+getnum(t[4]);
	int yea=getnum(t[6])*1000+getnum(t[7])*100+getnum(t[8])*10+getnum(t[9]);
	if(mon<1||mon>12) 		return;
	if(day<1||day>d[mon]) 	return;
	if(yea>2015||yea<2013)	return;
	int num=++mmp[t];
	if(num>ans) ans=num,res=t;
}
int main()
{
 	cin>>s;
 	for(int i=s.length()-10;i>=0;i--)
 	check(i);
 	cout<<res<<endl;
	return 0;
}
```

---


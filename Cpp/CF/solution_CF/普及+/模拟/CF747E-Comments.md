# Comments

## 题目描述

网上有些罕见的文章发布时是没有评论功能的。而在 Polycarp 的网站上，每篇文章都有一片评论区。

在 Polycarp 的网站中，每条评论都是由英文大小写字母组成的非空字符串。这些评论呈现树状结构，意味着每条评论（除了最顶层的根评论）都有一个且仅有一个父评论。

当 Polycarp 想把评论保存到硬盘时，他会使用以下格式来记录每条评论：
- 首先，记录评论的内容；
- 接着，记录其子评论的数量（也就是回复的数目）；
- 最后，依照同样的方式记录这些子评论。

所有元素之间都用逗号分隔。同样地，最顶层的评论之间也用逗号分隔。对于以下的评论结构示意图：

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF747E/7ae7c2c94703e493268a07ff52889efe5206362d.png)

第一条评论写成 "hello,2,ok,0,bye,0"，第二条评论写成 "test,0"，第三条评论写成 "one,1,two,2,a,0,b,0"。完整的评论书写为："hello,2,ok,0,bye,0,test,0,one,1,two,2,a,0,b,0"。给定这种格式的评论区，按照以下方式重新输出：

- 先输出一个整数 $d$ —— 评论的最大嵌套深度；
- 然后输出 $d$ 行，第 $i$ 行表示嵌套深度为 $i$ 的评论；
- 在第 $i$ 行中，按它们在原始评论区的顺序输出第 $i$ 层的评论，使用空格隔开。

## 样例 #1

### 输入

```
hello,2,ok,0,bye,0,test,0,one,1,two,2,a,0,b,0
```

### 输出

```
3
hello test one 
ok bye two 
a b 
```

## 样例 #2

### 输入

```
a,5,A,0,a,0,A,0,a,0,A,0
```

### 输出

```
2
a 
A a A a A 
```

## 样例 #3

### 输入

```
A,3,B,2,C,0,D,1,E,0,F,1,G,0,H,1,I,1,J,0,K,1,L,0,M,2,N,0,O,1,P,0
```

### 输出

```
4
A K M 
B F H L N O 
C D G I P 
E J 
```

# 题解

## 作者：CarrotMeow (赞：1)

使用 dfs 读入。将字符串映射为数以应对重复串的情况，设立一个虚拟根节点以应对原森林的多个根，并同时处理深度 $d$。函数返回值为是否读到 EOF 的情况，如果递归返回了 $0$，即读到 EOF，则一层层退出。

题目要求输出 bfs 序，直接模拟即可。

细节写在注释里了。详见 [代码](https://vjudge.net.cn/solution/52702205/VpkwYuIpSL6uMxOaItZS)。

---


# Beautiful Array

## 题目描述

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF2041E/123e9f2378be455eca9fba5ff4bfa308ab2b1a77.png) Image generated by ChatGPT 4o.A-Ming's birthday is coming and his friend A-May decided to give him an integer array as a present. A-Ming has two favorite numbers $ a $ and $ b $ , and he thinks an array is beautiful if its mean is exactly $ a $ and its median is exactly $ b $ . Please help A-May find a beautiful array so her gift can impress A-Ming.

The mean of an array is its sum divided by its length. For example, the mean of array $ [3, -1, 5, 5] $ is $ 12 \div 4 = 3 $ .

The median of an array is its middle element after sorting if its length is odd, or the mean of two middle elements after sorting if its length is even. For example, the median of $ [1, 1, 2, 4, 8] $ is $ 2 $ and the median of $ [3, -1, 5, 5] $ is $ (3 + 5) \div 2 = 4 $ .

Note that the mean and median are not rounded to an integer. For example, the mean of array $ [1, 2] $ is $ 1.5 $ .

## 样例 #1

### 输入

```
3 4```

### 输出

```
4
3 -1 5 5```

## 样例 #2

### 输入

```
-100 -100```

### 输出

```
1
-100```

# 题解

## 作者：ccjjxx (赞：3)

构造题。首先，一定有一个长度为 $3$ 的序列满足条件，因为要满足平均数是 $a$，中位数是 $b$，设三个数是 $x,y,z$ 其中 $x<y<z$，那么有：

$$y=b,x+y+z=3a$$

$$x+z=3a-b$$

选定一个 $x$ 就可以了，注意有可能 $x,z$ 都小于 $y$，判断一下就好。

```cpp
#include<bits/stdc++.h>
using namespace std;
int a,b;
signed main()
{
	cin>>a>>b;
	a*=3;
	a-=b;
	int x=b-1;
	while(a-x<b) x--;
	cout<<3<<"\n"<<x<<" "<<b<<" "<<a-x;
}
```

---

## 作者：wawatime1 (赞：1)

### 题意
给你一个数列的平均数和中位数，让你构造出这个数列。
### 题目分析
这个数列三个元素就一定能满足条件，而且很容易就能构造出来。

设数列中的三个数为 $x, y, z$，平均数为 $a$，中位数为 $b$，且 $x \le y \le z$，其中 $y = b$。

因数列平均值为 $a$，所以 $\displaystyle \frac{x + y + z}{3}$ 为 $a$，所以 $x + y + z = 3a$，$x + z = 3a - b$。

但由于我们无法保证一个数大于 $b$，一个数小于 $b$。那我们就令 $z = b$，由上公式推出 $x = 3a - 2b$。

### 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int a, b;
int main() {
	cin >> a >> b;
	cout << "3\n" << 3 * a - 2 * b << ' ' << b << ' ' << b << ' ';
	return 0;
}
```

---

## 作者：GeYang (赞：1)

# 题意

给你一个数列的平均数和中位数，让你构造这个数列。答案不唯一。

# 思路

中位数的值取决于数列长度的奇偶性。

如果数列是奇数，中位数等于第 $\frac{n+1}{2}$ 个数；如果数列是偶数，中位数等于第 $\frac{n}{2}$ 和 $\frac{n+2}{2}$ 个数的平均数。

因为答案不唯一，那么我们就构造一个尽可能短的数列。

## 确定长度奇偶性


当我们构造的数列长度为偶数时，需要考虑中间两个数的平均值，用一个中值推两个在数列中间位置的数，没必要化简为繁。

构造奇数长度的数列即可，中值就是数列最中间的数，即第 $\frac{n+1}{2}$ 个数。

## 确定长度准确值

因为长度要尽可能短，所以我们从 $1$ 开始推算。

当长度为 $1$ 时，中值为第 $\frac{1+1}{2}=1$ 个数，平均数为这个数本身，中值始终等于平均数。

但是数据并不保证中值等于平均值，舍去。

当长度为 $3$ 时，中值为第 $\frac{3+1}{2}=2$ 个数，平均值为数列中三元素之和除以三，不一定等于第 $2$ 个数。

可以尝试构造。

### 长度为三的数列

先求出数列所有元素之和，即数列平均数与数列长度的乘积。

中值为第 $2$ 个数已确定，只需考虑另外两个数即可。

另外两个数之和为所有元素之和减去第 $2$ 个数。

因为产生中值，所以数列必须按升序或降序排列。

确定剩下两数的具体值更为容易。

只需保证剩下两个数一个为 $b$ 即可，因为 $b$ 已知，无论最后一个数怎么取，整个数列若不是三个元素都相等，则一定是升序或者降序排列，三种情况都不违反中值出现的前置条件。

## 结论

数列长度为三，第一，第二个元素为中值，第三个元素为三倍平均数减去两倍的中值。

# 代码


```cpp
#include<bits/stdc++.h>
#define ll long long
using namespace std;
ll a,b; 
int main()
{
	cin>>a>>b;
	cout<<3<<endl;
	cout<<b<<' '<<b<<' '<<3*a-2*b<<endl;
	return 0;
}
```

---

## 作者：programmer330 (赞：0)

## 题解：CF2041E Beautiful Array

### 题意复述：

构造序列，满足序列中位数是 $b$，平均数是 $a$。

### 思路分析：

首先，对于任意的 $a$，$b$，必定存在一个值为 $3$ 的 $n$，使得可以构造三个数 $x$，$y$，$z$，使得 $y$ 为中位数，同时 $x$，$y$，$z$ 的和为 $a$ 的三倍：由题意可以假设 $y$ 和 $b$ 相等。因为 $x$ 和 $z$ 的大小不固定，所以一定可以通过**分别增减** $b$ 的方法，使得它们一个大于 $y$，一个小于 $y$。具体的增减方法可以通过**分类讨论**得到。（下面代码中 $x$ 和 $z$ 分别用 $c$ 和 $d$ 表示）。

### 代码实现：


```cpp
#include<bits/stdc++.h>
using namespace std;
int a,b;
int main(){
	cin>>a>>b;//中位数b，平均数a
	int sum=a*3;//sum为总和
	cout<<3<<endl;
	int c=1;
	int d=sum-c-b;
	if(b>0){
		while(b>d&&b>c){
			if(d>c){
				d+=b;
				c-=b;
				
			}else{
				c+=b;
				d-=b;
			}
		}
		while(b<d&&b<c){
			if(d<c){
				d-=b;
				c+=b;		
			}else{
				d+=b;
				c-=b;
			}
		}
	    cout<<b<<" "<<c<<" "<<d<<endl;
	    return 0;
	}
	while(b>d&&b>c){
		if(d>c){
			d-=b;
			c+=b;		
		}else{
			c-=b;
			d+=b;
		}
	}
	while(b<d&&b<c){
		if(d<c){
			d+=b;
			c-=b;			
		}else{
			d-=b;
			c+=b;
		}
		
	}
	cout<<b<<" "<<c<<" "<<d<<endl;
	return 0;
}
```

---

## 作者：沉石鱼惊旋 (赞：0)

## E. Beautiful Array

构造序列，满足序列中位数是 $b$，平均数是 $a$。

平均数：$n$ 个数 $A_i$ 的平均数是 $A_i$ 之和除以 $n$。即 $\dfrac{\sum\limits_{i=1}^n A_i}{n}$。

中位数：$n$ 个数 $A_i$ 排序后，若 $n$ 为奇数则为 $A_{\frac{n+1}{2}}$，否则为 $A_{\frac{n}{2}}$ 和 $A_{\frac{n}{2}+1}$ 的平均数。

$-100\leq a,b\leq 100$。

要求构造的答案序列长度在 $[1,10^3]$ 之间，答案序列元素均为绝对值不超过 $10^6$ 的整数。

---

考虑能不能用最朴素的构造求出来。$n=3$ 的时候不妨令中位数 $A_2=b$。然后调整平均数。

一开始令 $A=[b,b,b]$，但是可能不满足条件。

如果平均数 $\gt a$ 则 $A_{1}$ 减小 $1$。

如果平均数 $\lt a$ 则 $A_{3}$ 增大 $1$。

显然这样一定能出解。出解至多需要做 $|3a-3b|$ 次操作。而在本题的数据范围 $|3a-3b|$ 至多为 $600$。

<https://codeforces.com/contest/2041/submission/293511197>

---

## 作者：SuyctidohanQ (赞：0)

### 题目分析

设数组中三个数为 $x,y,z$，满足 $x \le y \le z$。数组平均值为 $a$，中位数是 $b$。得出以下结论：

$y = b$。

$x + y + z = 3a$。

$x + z = 3a - b$。

### 代码实现

```
#include <bits/stdc++.h>
#define ll long long
using namespace std;
ll a, b;
int main () {
	cin >> a >> b;
	cout << '3' << endl << 3 * a - 2 * b << ' ' << b << ' ' << b << ' ' << endl;
	return 0;
}
```

---

## 作者：mnlbnkk (赞：0)

# 题意
不是什么语文理解题，不用细说。
# 做法
首先想到如果一个奇数长度的数列，长度为 $n$，并且有 $\frac{n+1}{2}$ 个数字都是 $b$，那么中位数就确定了，所以这种情况考虑平均数要为 $a$ 这个情况。\
这个情况也很简单，我们可以直接尝试长度为 $3$ 的一个数列，这种情况下，可以先输出两个 $b$ 然后假设第三个数为 $x$，这样就满足 $\frac{2\times b + x}{3} = a$，这个序列才合法，所以把这个式子化简得到 $x = 3\times a - 2\times b$，所以第三个数输出 $3\times a - 2\times b$ 就可以通过这道题目。
# Code
```cpp
#include<bits/stdc++.h>
using namespace std;main(){int a,b;std::cin>>a>>b;std::cout<<3<<std::endl<<3*a-2*b<<' '<<b<<' '<<b;return 0;} 
```

---

## 作者：wuyouawa (赞：0)

### 思路

简单构造题。

容易发现长度为 $3$ 的数组总是可以构造出来的。

因为平均数乘个数等于总和，所以总和可求出来。

然后直接从 $-100$ 枚举到 $100$，枚举的是除了 $b$ 之外两个数的其中一个，另一个就可以用总和减掉 $b$，再减掉枚举的数，最后判断 $b$ 是否是中位数即可，是就直接输出之后退出掉，注意这里有 $2$ 种情况。

### CODE


```cpp
#include<bits/stdc++.h>
using namespace std;
int a,b,h;
int main(){
	cin>>a>>b;
	cout<<3<<endl;//先输出个数
	for(int i=-100;i<=100;i++)//枚举
	{
		if(i<=b&&b<=3*a-b-i||b<=i&&3*a-b-i<=b)//判断2种情况
		{
			cout<<i<<" "<<b<<" "<<3*a-b-i;//输出
			break;//退出
		}
	}
	return 0;
}
```

---

## 作者：Hughpig (赞：0)

发现偶数长度数组中位数是中间两个数的平均值，不好处理，所以固定数组长度为奇数。

发现数组长度太长不好构造，所以让数组长度尽量小。

数组长度取 $1$ 的话中位数和平均值的条件无法同时满足，所以数组长度取 $3$。

设数组中三个数为 $x,b,y$，满足 $x\le b\le y$。

因为数组平均值为 $a$，即 $\dfrac{x+b+y}{3}=a$。可得到 $x+b+y=3a$，$x+y=3a-b$。

任取两数和为 $3a+b$ 无法保证一个大于等于 $b$，另一个小于等于 $b$。考虑固定其中一个为 $b$，另一个即为 $3a-2b$。由于这个数列中有两个 $b$，$3a-2b$ 必然为最大或最小，中位数必然为 $b$，满足题意。

代码：

```cpp
#include<bits/stdc++.h>
using namespace std;

int main(){
  int a,b;cin>>a>>b;
  cout<<"3\n"<<3*a-2*b<<' '<<b<<' '<<b<<' ';
}
```

---

## 作者：RAY091016 (赞：0)

### 0. 题目链接

[CF2041E Beautiful Array](https://www.luogu.com.cn/problem/CF2041E)

**请没读过题的读者先去读题！！！**

### 1. 题目解释

给出一个数列的平均数和中位数，请你给出一种合法的数列。

### 2. 思路

由于此题没有限制数列的项数，所以我们考虑构造数列。

首先考虑中位数与平均数相等的情况，此时不难发现只需要输出平均数（或中位数）即可。

然后我们考虑不相等的情况。

由于中位数不会受到极端数据的影响，所以我们考虑用极端数据调平均数。

又因为当数列仅有两个数时中位数与平均数相等，所以我们考虑构造三个数。

不妨设三个数分别为 $x$，$y$，$z$，且满足 $x\le y\le z$。

我们可以知道此时的平均数为 $\dfrac{x+y+z}{3}$，中位数为 $y$。

因此我们得到构造方法：先取 $x=y=b$，$z=a-2\times b$，当 $z<y$ 时，只需要让 $x$ 不断减小， $z$ 不断增大即可。

### 3. 代码实现

```cpp
#include<bits/stdc++.h>
using namespace std;
int a,b;
signed main(){
	cin>>a>>b;
	if(a==b){
		cout<<1<<endl<<a;
	}
	else{
		cout<<3<<endl;
		int sum=a*3;
		int x=b-1,y=sum-x-b;
		while(y<b){
			x--,y++;
		}
		cout<<x<<" "<<b<<" "<<y;
	}
	return 0;
}
```

---

## 作者：JW_Yesod (赞：0)

# CF2041E Solution

## 0x01 题意

构造一个数列，使得这个序列的平均数等于 $a$，中位数等于 $b$。

其中：
- **中位数**的定义为：
  - 将数组排序后中间的值（元素数量为奇数）。
  - 最中间两个数的平均值（元素数量为偶数）。
- **平均值**的定义为：
  - 数组所有元素的和除以数组的元素个数。

## 0x02 思路

因为 $-100 \le a,b \le 100$，且**答案序列元素均为绝对值不超过 $$10^6$$ 的整数**。

那么我们可以构造一个长度为 $3$ 的数列，第一个元素和第二个元素均为 $b$，同时第三个元素为 $a \times 3 - b \times 2$，这样，我们就能保证构造出一个中位数为 $b$ 且平均值为 $a$ 的数列。

## 0x03 代码


```cpp
#include<bits/stdc++.h>
#define ll long long
#define ull unsigned long long
using namespace std;
ll a,b;
int main(){
	ios::sync_with_stdio(false),cin.tie(NULL),cout.tie(NULL);
	cin>>a>>b;
	a*=3;
	a-=b*2;
	cout<<3<<'\n'<<a<<" "<<b<<" "<<b; 
	return 0;
} 
```

## 0x04 注意

1. 需要先输出元素个数。
2. 同时需要**换行**后输出数列，空格分割。

---

## 作者：Life_Game (赞：0)

很简单。假如一个数列的平均值是 $a$ 那么该数列的和就为 $an$，那么我们构造一个长度为 $3$ 的数列，那么就要数字总和为 $3a$，中间为 $b$ 即可。  
我们可以构建出如下的数列： 
$b$、$b$、$3a-2b$

代码如下:
```cpp
#include <bits/stdc++.h>
using namespace std;

long long a, b;

int main(){
	cin>>a>>b;
	cout<<3<<'\n';
	cout<<b<<' '<<b<<' '<<3*a-2*b<<'\n';
} 
```

---

## 作者：e_zhe (赞：0)

### 题目链接

<https://www.luogu.com.cn/problem/CF2041E>

### 分析

考虑一种简单的情况，即序列长度为 $3$ 的情况。

为使中位数为 $b$，序列中应有**至少两个数**为 $b$，那剩下的一个数就为序列中所有数的和减去 $b$ 的二倍，即 $3 \times a - 2 \times b$。

### 代码

```cpp
#include<bits/stdc++.h>
#define i64 long long
using namespace std;
int main(){
	int a,b;
	cin>>a>>b;
	
	cout<<3<<endl<<b<<' '<<b<<' '<<3*a-2*b<<endl;
    return 0;
}
```

---


# The Monster and the Squirrel

## 题目描述

### 题目概要

有一个正n多边形，每个顶点从1到n标号，从顶点1开始，向每个顶点的方向上绘制一条线。线到达顶点或与之前绘制的另一条线相交时停止。你需要经过所有线划分成的区域，当你在一个区域时，当且仅当另一个区域与你所在的区域共边时，你才能到这个区域，求你最少需要穿过几次所画的线。

## 样例 #1

### 输入

```
5
```

### 输出

```
9
```

## 样例 #2

### 输入

```
3
```

### 输出

```
1
```

# 题解

## 作者：Alex_Wei (赞：3)

思维性较强的一道题目。

其实看到样例后就大概知道答案是 $(n-2)^2$ 了。

我们需要求的就是从各个顶点能画出的线段数量之和 $+1$（相邻两点之间的边不算）。

---

讨论每个顶点。

顶点 $1$：$n-3$ 条线，分别连向 $3,4,\dots,n-2$。

剩下的点：画出去的线不会和任何点连起来，因为都被 $1$ 号点连出的线挡住了。分别连向除了该点及其两旁的点以外的所有点：$2,n$ 号点连出了 $n-3$ 条边；$3,4,\dots,n-1$ 号点（共 $n-3$ 个点）连出了 $n-4$ 条边。

所以最终的答案为

$$3\times(n-3)+(n-3)\times(n-4)+1$$

即

$$(n-1)\times(n-3)+1$$

即

$$(n-2)^2$$

所以输出 $(n-2)^2$ 即可。

---

## 作者：Colead (赞：2)

# CF592B

Hello，我是WT20071112，我有来讲题啦！

今天这一道题其实是一道找规律题。

那么我们找规律遵循一个什么原则呢？

### 从小的数开始，来推出大的数。

好，那我们就来找一找。（注：爱心表示松子）

## n=3

![n=3](https://cdn.luogu.com.cn/upload/image_hosting/0u3hne3l.png)

## n=4

![n=4](https://cdn.luogu.com.cn/upload/image_hosting/v10b1lme.png)

## n=5

各位可以先思考一下，是不是可以自己想出这张图。

不就是它？

![n=5](https://cdn.luogu.com.cn/upload/vjudge_pic/CF592B/d684226c6afbbf2809548ec3b0c2067be095c4af.png)

9个！

然后我们大概就可以推出来了：$(n-2)^2$

## 下面我们来说说为什么。

首先每个点会连出$(n-3)$条边，因为自己不能连到自己和相邻的两个点，这里我们把一条连到两个顶点的边看作是从两个顶点出发的边。

把这些边顺次标号为$1,2,...,n$.

先来观察$1$号点，向除了$1,2,n$的其余$(n-3)$个点各连了一条边。

其余的边中，$2$与$n$向别的点连出$(n-3)$条边，但很明显连到一半就断掉了。所以这两个点对其他的点没有影响。

而剩下的点之中，对于第$i$个点，除了不能连$i-1,i,i+1$之外，$1$也已经连过了，故每个点只能连出$(n-4)$个点，同样互不影响。

综上，共有：

$(n-3)+(n-3)*2+(n-3)*(n-4)$

$=3n-9+n^2-7n+12$

$=n^2-4n+3$

### 然而这并不是$(n-2)^2$！

这是因为松子比边数多一个，加1再试试看？！

于是今天这道题就解完了，喜欢请点个赞哦！

最后说一句：这个松鼠好幸福qwq！


---

## 作者：_Execution_ (赞：1)

别看题目这么复杂，其实还是很简单的。

先画几个图找规律：

![](https://s3.bmp.ovh/imgs/2022/08/20/9a1b19798f35b733.png)

一个点显然不能和自己相连，相邻的两个点也是不能连的。

所以一个点会射出 $n-3$ 条线，但是情况有些复杂，射出的线会在遇到其他线时停止。

再仔细观察图，可以发现第 $1$ 个顶点射出的线（即图中的红线）是不会有阻碍的。

而其他的顶点射出的线则会被第 $1$ 个顶点射出的线全部阻碍。

并且已经被 $1$ 连接过的点（即第 $3,4,\cdots,n
-2$ 个顶点）只会射出 $n-4$ 条边。

所以答案应为这几个数的和，即 $(n-3)\times 3 + (n-4) \times (n-3)+1$。

提取公因式并利用完全平方公式可以化简为 $(n-2)^{2}$。

所以代码也很好写，python如下：

```python
a=int(input())
print((a-2)*(a-2))
```
C++如下：

```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
    int n;
    cin>>n;
    cout<<(n-2)*(n-2)<<endl;
    return 0;
}
```




---

## 作者：__qkj__ (赞：0)

[题目传送门](https://www.luogu.com.cn/problem/CF592B)

## 解题思路
看到这种题，第一步就是模拟。

### $n=3$
![3](https://cdn.luogu.com.cn/upload/image_hosting/svt83zrm.png)
### $n=4$
![4](https://cdn.luogu.com.cn/upload/image_hosting/s1vg2tjq.png)
### $n=5$
![5](https://cdn.luogu.com.cn/upload/vjudge_pic/CF592B/d684226c6afbbf2809548ec3b0c2067be095c4af.png)

可以发现，$ans=(n-2)^2$。

那为什么呢？

我们发现，第一个点可以连 $n-3$ 条边，第 $2,n$ 个点也连出 $n-3$ 条边，但是到一半就断了。

剩余的 $n-3$ 个点，每个可以连 $n-4$ 条边，也是到一半就断了。

再加上它跳进来的那条边，总共就是：

$$
(n-3) \times 3+(n-4) \times (n-3)+1
$$

全部拆开，得：

$$
3 \times n-9+n^2-7 \times n+12+1
$$

整理一下，得：

$$
n^2-4 \times n+4
$$

套完全平方公式，得：

$$
(n-2)^2
$$

## Code
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
signed main()
{
	ios::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);
	int n;
	cin>>n;
	cout<<(n-2)*(n-2);//注意：用了 pow(n-2,2) 要强制转换成整型！
	return 0;
}

```

---

## 作者：eric0928 (赞：0)

## [题目传送门](https://www.luogu.com.cn/problem/CF592B)

这道题其实就是一道结论题了，最后的答案就是 $ ( n - 2 ) ^ 2 $。

接下来我们来证明一下：

首先每个点最多连出 $(n-3)$ 条边，因为只能跟不与自己相邻的点连边。

发现其他点的线被第 $1$ 个点连出的线所阻挡，所以从第 $3$ 个点到第 $(n-2)$ 个点只会连出 $(n-4)$ 条边。

将他们全部加起来就是答案了。

$$sum = (n-3) \times 3 + (n-4) \times (n-3) + 1$$
$$sum = (n-3) \times (n-4+3) + 1$$
$$sum = (n-3) \times (n-1) + 1$$
$$sum = (n-2)^2$$

## AC代码
~~~cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
signed main(){
	int n;
	cin>>n;
	cout<<(n-2)*(n-2)<<endl;
	return 0;
}
~~~


---

## 作者：CQ_Bab (赞：0)

# 思路
这道题其实就是结论题的啦！只需要画个图便知道啦。

这是一个四边形

![](https://cdn.luogu.com.cn/upload/image_hosting/1852yvag.png)


这是一个五边形

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF592B/d684226c6afbbf2809548ec3b0c2067be095c4af.png)
那么就发现结论就是个数等于 $(n-2)^2$。

其实证明也很简单首先一个点只能和出自己和相邻的点相连，那么一个点就有 $n-3$ 条射线，再看看第一条是不会被阻挡的，而其他的点会 $1$ 连接过的点阻挡，及只会射出 $n-4$ 条射线。所以答案为 $(n-3)*3+(n-4)*(n-3)+1$ 化简后就为 $(n-2)^2$。

# AC代码
太短了就不放了

---

## 作者：ssytxy2024 (赞：0)

看样例发现答案是 $(n-2)^2$。

~~结束~~

证明：

首先每个点最多连出 $n-3$ 条边，因为只能跟不与自己相邻的点连边。

发现其他点的线被第 $1$ 个点连出的线所阻挡，所以第 $3,4,...,n-2$ 个点只会连出 $n-4$ 条边。

所以答案为这些加起来。

$sum=(n-3)\times3+(n-4)\times(n-3)+1$

$sum=(n-1)\times(n-3)+1$

通过肉眼判断，发现它是 $(n-2)^2$。

代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
    int n;
    cin >> n;
    cout << (n-2)*(n-2) << endl;
    return 0;
}
```

---


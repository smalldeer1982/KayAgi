# Spider Man

## 题目描述

彼得·帕克想和章鱼博士玩一个游戏。游戏是关于循环的。循环是一个顶点序列，第一个顶点与第二个顶点相连，第二个顶点与第三个顶点相连，依此类推，最后一个顶点与第一个顶点再次相连。循环可以由单个独立顶点组成。

最初有k个循环，第i个循环由精确的vi个顶点组成。玩家可以选择。彼得先走。在每一回合中，玩家必须在所有可用循环中选择一个具有至少2个顶点（例如x顶点）的循环，并将其替换为两个循环，其中$1<=p<x$由玩家选择。无法移动的玩家将失去游戏（以及他的生命！）.

彼得想在和章鱼博士玩之前先测试一些初始周期的配置。最初他有一套空的。在第i个测试中，他将一个带有ai顶点的循环添加到集合中（这实际上是一个多集，因为它可以包含两个或更多相同的循环）。每次测试后，彼得都想知道，如果玩家以当前的循环开始游戏，谁会赢？

彼得数学很好，但现在他请你帮忙。

## 说明/提示

在第一个样例中：

在彼得的第一个测试中，只有一个1顶点的循环。第一名选手不能移动而输。

在他的第二个测试中，有一个循环有1个顶点，还有一个循环有2个顶点。没有人能用1个顶点在循环中移动。第一个玩家可以用两个1顶点的循环来代替第二个循环，第二个玩家不能移动和丢失。

在他的第三个测试中，循环有1、2和3个顶点。像上次测试一样，没有人能在第一个循环中移动。第一个玩家可以用一个1号和一个2号的循环替换第三个循环。现在循环有1，1，2，2个顶点。第二个玩家唯一的动作是用2个1号的循环来代替2号的循环。循环为1，1，1，1，2。第一个玩家用1号的2个循环替换最后一个循环并获胜。

在第二个样例中：

拥有大小为1的循环就像没有它们一样（因为没有人可以移动它们）。

在彼得的第三个测试中：有一个5号的循环（其他的并不重要）。第一个玩家有两个选择：用1号和4号或2号和3号的循环替换它。

如果他用尺寸为1和4的循环替换它：只有第二个循环才重要。第二个玩家将用2个2号的循环来代替它。第一个玩家的唯一选择是用两个1号的循环替换其中一个。第二个玩家对另一个循环做同样的事情。第一名选手不能移动，所以输了。

如果他用2号和3号的循环替换它：第二个玩家将用1号和2号的循环替换3号的循环。现在只有一个以上顶点的循环是两个大小为2的循环。如前一种情况所示，2圈2秒大小的玩家获胜。

所以，不管怎样，第一个玩家输了。

## 样例 #1

### 输入

```
3
1 2 3
```

### 输出

```
2
1
1
```

## 样例 #2

### 输入

```
5
1 1 5 1 1
```

### 输出

```
2
2
2
2
2
```

# 题解

## 作者：wangqinyan (赞：5)

这题题面较复杂，但不难。

**题目分析**

读入 $n$ 个数，把这个数一直分解，谁分解最后一个数谁赢。求谁会赢。

**分析数据加得出规律**

我们可以分析模拟一组数据，比如 $7$。先分成 $1$ 和 $6$，再把 $6$ 分成 $1$ 和 $5$，再接着分，把 $5$ 分成 $1$ 和 $4$，把 $4$ 分成 $1$ 和 $3$，把 $3$ 分成 $1$ 和 $2$，把 $2$ 分成 $1$ 和 $1$。同理，我们可以用其他分法分，可以发现规律**分的次数是 $n$ 减 $1$。** 所以：**也就是说，当 $n$ 为奇数时，要分偶数次；当 $n$ 为偶数时，要分奇数次。由此可知，当 $n$ 为奇数时，先手必胜，反之，先手必输。** 得到此规律后，就可以打代码了。

**分析数据范围**

分析数据范围，发现极限数据会爆 ``int``，所以用 ``long long``。数最大有 $10^9$，会爆 ``int``，所以用 ``long long``。如果再大，可以用字符串读入，再根据偶数性质：最后一位一定是偶数来进行判断。

代码
```
#include<bits/stdc++.h>
using namespace std;
long long t,s,n;
int main()
{
//    freopen(".in","r",stdin);
//    freopen(".out","w",stdout);
	cin>>t;
	while(t--)
	{
		cin>>n;
		s+=(n-1);
		if(s%2==1)cout<<1<<endl;
		else
		cout<<2<<endl;
	 } 
//    fclose(stdin);
//    fclose(stdout);
	return 0;
}
```
感谢观看！

---

## 作者：豆浆 (赞：4)

##### [题目](https://www.luogu.org/problem/CF705B)


你会发现其实这里面的每一个数都对其他数没有任何影响，所以现在只要知道这每个数的分解个数就好。

每个数（假设他是x）的分解数都为x-1，这样的话，算一下每一组的分解数的和，如果是奇数，那么1赢，如果是偶数，那么2赢。


假设他是水题：

```cpp
#include<bits/stdc++.h>
#pragma GCC optimize(3)
template <typename _Tp> inline void read(_Tp&x){
    char ch;bool flag=0;x=0;
    while(ch=getchar(),!isdigit(ch))if(ch=='-')flag=1;
    while(isdigit(ch))x=x*10+ch-'0',ch=getchar();
    if(flag)x=-x;
}
using namespace std;
int main(){
    long long  n,s=0,m;
    read(n);
    for(int i=1;i<=n;i++) {
        read(m);
        s+=m-1;
        if(s%2==1) {
        	cout<<1<<endl;
        } 
			else{
        	cout<<2<<endl;
        }
    }
    return 0;
}


```


---

## 作者：封禁用户 (赞：3)

这道题题目难读懂，但思路却十分简单。

***题目大意：***

读入 $n$ 个数，把这个数一直分解，最后一个数是谁分解的，就算谁赢。（具体见样例）

既然要分解，那我们就用几个数来分解一下。比如 $5$，先分成 $1$ $4$，第二个玩家选择分成 $1$ $3$，那么数列就成为了 $1$ $1$ $3$，以此类推 $1$ $1$ $1$ $2$，$1$ $1$ $1$ $1$ $1$，共分解了 $4$ 次。那么我们在举个样例，如 $4$，$1$ $3$，$1$ $1$ $2$，$1$ $1$ $1$ $1$，是 $3$ 次。我们在换种思路，如 $4$，我们先 $2$ $2$，然后 $1$ $1$ $2$，最后 $1$ $1$ $1$ $1$。显然也是 $3$ 次。***那么就是说，你不管怎么分，最终分解的次数都为当前这个数减一次。***

***因为第一个人先分，所以方案数为偶数时，$2$ 赢；奇数时，$1$ 赢。***

再分析一下数据，$2×10^9×10^5$，明显超 int 范围了，所以得开 long long。
```cpp
#include <bits/stdc++.h> 
using namespace std;
long long n,s,x;
int main()
{
    cin>>n;
    for(int i=1;i<=n;i++) 
    {
        cin>>x;
        s+=x-1;
        if(s%2==1)
        cout<<1<<endl;
        else
        cout<<2<<endl;
    }
    return 0;
}
```

---

## 作者：_Sky_Dream_ (赞：1)

# 这是本蒟蒻的第一篇题解，望管理大大放过

[传送门](https://www.luogu.com.cn/problem/CF705B)


~~所以题目的名字为啥是蜘蛛侠（Spider Man）啊？~~

废话不多说，切入正题。

其实，就是分解数，分到 $1$ 为止。

举个栗子（以 $4$ 为例）。

$4$ 可以分解为 $1$、$3$。

$3$ 可以分解为 $1$、$2$。

$2$ 可以分解为 $1$、$1$。

~~（这不是递归吗）~~

欸，你看。 $4$ 可以分解 $3$ 次，会变成 $1$、$1$、$1$、$1$。

然后，你就发现， **$n$ 分解为全 $1$ 需要 $n-1$ 次**。

这不就出来了吗？统计再模 $2$，输出。

懂了吗？不懂自己再多举几个栗子。

这就完了？你数据看了吗？（ $1 \le n \le 100000 $）

~~(这```int```谁爱用谁用)~~

自觉开```long long```。不然的话，你会惊奇地发现，有几个红色……

下面上代码（不要抄袭哦）：
```
#include<bits/stdc++.h>
using namespace std;
long long x,sum,n;//开int的，自觉一点，多看数据
int main() {
	cin>>n;//输入个数
	for(int i=1; i<=n; ++i) {
		cin>>x;//输入要处理的数
		sum+=x-1;//我手残，忘记打+了……
		if(sum%2==1)cout<<1<<endl;//输出
		else cout<<2<<endl;
	}
}//作者懒，从来不打return 0，不要学习……
```

都看到这里了，动动你发财的小手点个赞吧，码字不易。

---


# Мониторинг

## 题目描述

ВКонтакте открыла второй штаб в Санкт-Петербурге! Вы не преминули возможностью сменить обстановку и решили переехать из офиса в Доме Зингера в офис на Красном мосту.

Для комфортной работы вам потребуются два монитора с одинаковой высотой, чтобы изображение на них выглядело единым целым. На складе офиса на Красном мосту есть $ n $ мониторов, $ i $ -й из них имеет ширину $ w_i $ и высоту $ h_i $ . Любой монитор можно повернуть на 90 градусов, и тогда он будет иметь ширину $ h_i $ и высоту $ w_i $ .

Назовём неупорядоченную пару из двух различных мониторов подходящей, если можно их повернуть так, чтобы они имели одинаковую высоту. Любой из мониторов в паре можно как повернуть относительно исходной ориентации, так и не поворачивать.

Подсчитайте подходящие пары мониторов.

## 样例 #1

### 输入

```
5
3 2
2 2
5 5
3 5
4 3```

### 输出

```
5```

## 样例 #2

### 输入

```
7
10 10
10 20
20 10
10 20
10 20
10 10
20 10```

### 输出

```
21```

# 题解

## 作者：Chenyichen0420 (赞：0)

# 题目大意

给你 $n$ 个二元组 $(x_i,y_i)$，问你有几对二元组满足其中存在两个相同的元素。

# 思路分析

我们统计这些数中每个数出现了多少次。如果 $x_i=y_i$ 就只统计一次（只能匹配一对）。那么，一个数出现了 $t$ 次就意味着有 $\frac{t\times (t-1)}{2}$ 对满足要求。

————吗？

有一种特殊情况，两个二元组完全一样（认为一个二元组是无序的），例如 $(1,2)$，$(1,2)$，$(2,1)$ 三者两两相同。这种情况就会被多统计。那么，一个二元组出现了 $t$ 次就意味着多统计了 $\frac{t\times (t-1)}{2}$ 次，减掉就是了。

————吗？

还有细节，如果一个二元组满足 $x_i=y_i$，它不会被重复统计。求重复组时不考虑就行了。

代码如下：

```cpp
#include<bits/stdc++.h>
using namespace std;
int n,a,b;long long ans; unordered_map<int,int>csv; unordered_map<long long,int>cfv;
int main(){
	ios::sync_with_stdio(0);
	cin>>n;
	while(n--){
		cin>>a>>b;
		if(a>b)a^=b^=a^=b;
		csv[a]++; csv[b]+=(a!=b);
		cfv[a*1000000000ll+b]+=(a!=b);
	}
	for(unordered_map<int,int>::iterator it=csv.begin();it!=csv.end();++it)
		ans+=(it->second)*1ll*((it->second)-1)>>1;
	for(unordered_map<long long,int>::iterator it=cfv.begin();it!=cfv.end();++it)
		ans-=(it->second)*1ll*((it->second)-1)>>1;
	cout<<ans<<endl;
	return 0;
}
```

---


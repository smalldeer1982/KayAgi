# The very same Munchhausen

## 题目描述

给定一个正整数 $a$。Munchausen 男爵声称他知道这样一个正整数 $n$，使得如果将 $n$ 乘以 $a$，其各位数字之和会减少 $a$ 倍。换句话说，$S(an) = S(n)/a$，其中 $S(x)$ 表示数字 $x$ 的各位数字之和。

请判断男爵所说的是否可能为真。

## 说明/提示



由 ChatGPT 4.1 翻译

## 样例 #1

### 输入

```
2
```

### 输出

```
6
```

## 样例 #2

### 输入

```
3
```

### 输出

```
6669
```

## 样例 #3

### 输入

```
10
```

### 输出

```
-1
```

# 题解

## 作者：mango2011 (赞：1)

大战两天，终于拿下了！这个做法**几乎**不需要任何观察。基本是大力猜结论乱冲。

设 $a=2^x5^yz$，其中 $2\nmid z$ 且 $5\nmid z$。分类讨论：

$z=1$，简单观察，发现 $z$ 大力尝试 $1\sim10^4$ 即可，证明其实是显然的，~~但是我太懒了~~。

$z\ge3$。定义 $f(n)=aS(an)-S(n)$。$g(n)=|f(n)|$。只要我们找到满足 $g(n)$ 较小且 $f(n)$ 分别取正负的时候就可以解决问题（这是因为我们可以在重复 $n_1,n_2$ 并在中间添加足够的 $0$ 使结果互相不影响）。

首先可以把 $n$ 写成 $2^{x_1}5^{y_1}n_1$，使得 $x+x_1=y+y_1$ 并且 $x_1y_1=0$。这样子 $S(an)=S(10^{x+x_1}zn_1)=S(zn_1)$。然后观察到 $a\times10^b+c(1\le a\le 9,0\le c<z)$ 除以 $z$ 之后得到的那个数每一位平均下来会 $\ge1.5$，暴力猜结论老哥主打一个感性理解，基本不证明。

这下就很简单了，我们可以大致估计出 $b$ 的范围，大约是 $1\sim1.5\times10^4$，$c$ 能小就小。不过注意 $a$ 确定的时候可能会被卡，所以 $a$ 可以随机一个 $[1,9]$ 的数。枚举每一个 $b$ 是会 T 掉的，所以说可以每若干个取一个或者是随机选择。经过许久的大战，笔者最终采取如下细节通过：$b\le100$ 时全部试一下，$b\in(100,1.5\times10^4]$ 的时候每 $6$ 个试一下，$a$ 随机一个 $[1,9]$ 的数，这样子就可以过掉了。但是要手写一个高精度，不过不难写，也不用压位。

上面这个做法的复杂度大致是 $O(a^2)$ 吧，具体我也不太会算，反正是过掉了。

[提交记录](https://codeforces.com/contest/1120/submission/314486649)

---


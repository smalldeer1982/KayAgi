# 题目信息

# Thematic Contests

## 题目描述

`Polycarp`有$n$个问题，问题的主题分别是$a_1,a_2,\cdots,a_n$，`Polycarp`需要组织一些专题比赛，同时要满足以下条件：  
- 一场专题比赛中的所有题目的主题相同  
- 组织的所有专题比赛中主题互异  
- 从第二场比赛开始，比赛中的题目数必须是前一场比赛题目数量的$2$倍，第一场比赛的题目数量可以是任意的  
- 所有比赛使用的题目数量之和最大  

求所有比赛使用的题目数量之和的最大值  
注意：不需要使比赛的数量最大，不一定需要使用所有的题目，不一定需要使用所有的主题

## 样例 #1

### 输入

```
18
2 1 2 10 2 10 10 2 2 1 10 10 10 10 1 1 10 10
```

### 输出

```
14
```

## 样例 #2

### 输入

```
10
6 6 6 3 6 1000000000 3 3 6 6
```

### 输出

```
9
```

## 样例 #3

### 输入

```
3
1337 1337 1337
```

### 输出

```
3
```

# AI分析结果

### 题目内容
#### Thematic Contests
#### 题目描述
Polycarp有$n$个问题，问题的主题分别是$a_1,a_2,\cdots,a_n$，Polycarp需要组织一些专题比赛，同时要满足以下条件：  
- 一场专题比赛中的所有题目的主题相同  
- 组织的所有专题比赛中主题互异  
- 从第二场比赛开始，比赛中的题目数必须是前一场比赛题目数量的$2$倍，第一场比赛的题目数量可以是任意的  
- 所有比赛使用的题目数量之和最大  

求所有比赛使用的题目数量之和的最大值  
注意：不需要使比赛的数量最大，不一定需要使用所有的题目，不一定需要使用所有的主题

#### 样例 #1
##### 输入
```
18
2 1 2 10 2 10 10 2 2 1 10 10 10 10 1 1 10 10
```
##### 输出
```
14
```

#### 样例 #2
##### 输入
```
10
6 6 6 3 6 1000000000 3 3 6 6
```
##### 输出
```
9
```

#### 样例 #3
##### 输入
```
3
1337 1337 1337
```
##### 输出
```
3
```

### 算法分类
贪心

### 综合分析与结论
这些题解的共同思路是先对题目主题进行离散化处理，统计每个主题的题目数量，然后基于贪心思想求解。不同点在于具体实现方式，有的通过枚举结合条件判断，有的采用二分查找优化判断过程，还有的使用动态规划。难点在于如何在满足题目条件下找到最优组合。整体来看，部分题解思路清晰但代码可读性或优化程度欠佳，没有题解能达到4星及以上。

### 通用建议与扩展思路
建议在实现时注重代码的可读性和优化，如减少不必要的循环嵌套、合理使用数据结构。对于这类贪心问题，关键在于明确贪心策略并证明其正确性。相似类型的题目通常围绕资源分配、序列选择等场景，要求在一定条件下最大化或最小化某个目标。解题时可先分析问题性质，确定能否使用贪心策略，若不能则考虑动态规划等其他方法。

### 推荐题目
- [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)：通过贪心策略解决合并物品使总代价最小的问题。
- [P1199 三国游戏](https://www.luogu.com.cn/problem/P1199)：需要分析贪心策略来选择最优的游戏方案。
- [P2859 [USACO06DEC]Milk Patterns G](https://www.luogu.com.cn/problem/P2859)：结合离散化与贪心思想解决奶牛产奶模式相关问题。

### 个人心得摘录与总结
- **作者CreeperK**：40分钟想出思路，但调试花费30分钟。强调在解决问题时，思路想出后代码实现和调试也很关键，要注重细节避免花费过多时间在调试上。 

---
处理用时：22.93秒
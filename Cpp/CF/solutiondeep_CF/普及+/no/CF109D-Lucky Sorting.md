# 题目信息

# Lucky Sorting

## 题目描述

现在你有一个长度为$n$的数列,现在你要把他排成一个不递减的数列,想要交换两个数必须满足:其中至少有一个数是幸运数字.

这里对于幸运数字的定义是:只由$4$和$7$组成的数字,如:$47,744,4$,但是$5,17,467$就不是幸运数字.

如果不能达到要求,输出$-1$,否则输出任意一种交换方案,注意:你不需要最小化交换次数.

## 说明/提示

$n \le 10^5$

## 样例 #1

### 输入

```
2
4 7
```

### 输出

```
0
```

## 样例 #2

### 输入

```
3
4 2 1
```

### 输出

```
1
1 3
```

## 样例 #3

### 输入

```
7
77 66 55 44 33 22 11
```

### 输出

```
7
1 7
7 2
2 6
6 7
3 4
5 3
4 5
```

# AI分析结果

### 题目内容
# 幸运排序

## 题目描述
现在你有一个长度为$n$的数列，现在你要把它排成一个不递减的数列，想要交换两个数必须满足：其中至少有一个数是幸运数字。

这里对于幸运数字的定义是：只由$4$和$7$组成的数字，如：$47,744,4$，但是$5,17,467$就不是幸运数字。

如果不能达到要求，输出$-1$，否则输出任意一种交换方案，注意：你不需要最小化交换次数。

## 说明/提示
$n \le 10^5$

## 样例 #1
### 输入
```
2
4 7
```
### 输出
```
0
```

## 样例 #2
### 输入
```
3
4 2 1
```
### 输出
```
1
1 3
```

## 样例 #3
### 输入
```
7
77 66 55 44 33 22 11
```
### 输出
```
7
1 7
7 2
2 6
6 7
3 4
5 3
4 5
```

### 算法分类
构造

### 综合分析与结论
三道题解核心思路都是通过找到一个幸运数作为中介，来实现非幸运数之间的交换从而完成排序。wmrqwq题解先将原序列离散化成排列，通过特定规则，利用一个幸运数对每个不在正确位置的数进行交换操作；_Felix题解先将序列变成最终序列，找到闭环，用最小幸运数作为中介，先解决幸运数所在闭环，再处理其他闭环；木木！题解基于Circle Sorting算法，对每个环，若有幸运数直接从幸运数开始操作，否则将幸运数换到环里，排完再换回来。

wmrqwq题解思路清晰，但代码中使用了较多自定义宏且变量命名不直观；_Felix题解思路较清晰，代码可读性尚可；木木！题解提出步数最小更好做的思路，但代码中缓存部分增加了理解难度。三道题解整体质量都未达到4星，无星级较高题解。

### 通用建议与扩展思路
通用建议：在代码实现上，可以优化变量命名，增加注释，提高代码可读性。例如在判断幸运数字函数处、交换操作处等关键代码添加注释说明用途。

扩展思路：对于此类有交换限制的排序问题，可以进一步思考如何在限制条件下优化交换次数，也可以拓展到不同的幸运数定义或其他交换限制条件，研究其解决方法。同时可以考虑如何将此问题与图论中的环、路径等概念结合，进一步加深对问题本质的理解。

### 洛谷相似题目推荐
1. [P1923 【深基9.例4】求第 k 小的数](https://www.luogu.com.cn/problem/P1923)：涉及排序与查找特定位置元素，与本题对数列操作有相似之处。
2. [P1177 【模板】快速排序](https://www.luogu.com.cn/problem/P1177)：经典排序算法题目，有助于理解排序相关操作，与本题排序需求有联系。
3. [P2163 【模板】仪仗队](https://www.luogu.com.cn/problem/P2163)：通过数学方法解决问题，与本题在一定程度上都需要通过特定规则处理数据。 

---
处理用时：36.62秒
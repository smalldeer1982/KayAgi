# 题目信息

# Boom

## 题目描述

让我们考虑一下名为$Boom（又名帽子游戏）$的著名游戏，它有简化的规则。

有n支队伍在玩这个游戏。每支球队有两名球员。游戏的目的是向队友解释单词，不要使用任何包含相同词根或发音相似的单词。

来自团队$i$队的球员
$j$
$(1<=i<=n,1<=j<=2)$有两个数字表征：$a_i$
$_j$
和$b_i$
$_j$。
这些数字相应地代表了解释和理解这个特定玩家的技能。

此外，游戏中使用了$k(1<=k<=m<=m)$张牌。每张卡片上都写着一个单词。卡号k以数字为特征
-它所包含的单词的复杂性。

游戏开始前，牌被放在一副牌中并洗牌。然后，各队轮流进行比赛：第一队的第一名球员，第二队的第一名球员，第$n$队的第1名球员，第1队的第2名球员，第$n$队的第2名球员、第1队的第1名球员等等。

每个回合持续t秒。事情是这样的：最初每个回合的时间是$t$。当玩家剩下的时间超过0时，玩家从牌组顶部拿出一张牌，开始向队友解释它的单词。第$i$队第$j$名球员向队友$（第i队的第q名球员）$解释卡k中的单词所需的时间等于$max（1，$
$c_k$
$-（a_i$
$_j$
$+b_i$
$_q）-d_i$
$_j$
$）$
$（如果j=1，则q=$
$2，否则q=1）$。值$d_i$
$_k$是第$i$组在前几轮中解释单词$k$
所花费的秒数。最初，所有d都等于0。如果一个团队在回合结束前猜中了单词，那么从回合的持续时间中减去上面给出的时间，包含猜中单词的卡片离开游戏，团队赢得一分，游戏继续。如果团队无法猜出单词，则将卡片放在牌组的底部，$d_i$
$_k$随着用于解释单词的回合时间而增加。因此，当这个团队得到同一个词时，他们不是从一开始就解释它，而是从他们停止的地方开始解释。当所有$m$张牌上的单词都猜对时，游戏结束。

你有$n$个团队和一副$m$张牌。你应该确定每支球队在比赛结束时会得到多少分，以及球队会猜到哪些单词。

## 样例 #1

### 输入

```
2 2
1 1 1 1
1 1 1 1
3
home
1
car
1
brother
1
```

### 输出

```
2 home car 
1 brother 
```

## 样例 #2

### 输入

```
2 4
1 2 2 1
2 3 2 2
4
armchair
3
quetzalcoatl
10
pilotage
5
defibrillator
7
```

### 输出

```
2 armchair quetzalcoatl 
2 pilotage defibrillator 
```

# AI分析结果

### 题目内容
# 轰（Boom）

## 题目描述
让我们来考虑一下著名的名为“轰（又名帽子游戏）”的游戏，它有着简化的规则。

有\(n\)支队伍参与这个游戏。每支队伍有两名队员。游戏目标是向队友解释单词，且不能使用任何包含相同词根或发音相似的单词。

来自队伍\(i\)的队员\(j\)（\(1 \leq i \leq n\)，\(1 \leq j \leq 2\)）有两个表征数字：\(a_{i,j}\)和\(b_{i,j}\)。这些数字分别代表该特定队员的解释和理解技能。

此外，游戏中会使用\(k(1 \leq k \leq m)\)张卡片。每张卡片上写着一个单词。卡片\(k\)由一个数字表征——它所包含单词的复杂度。

游戏开始前，卡片被放入一副牌中并洗牌。然后，各队轮流进行游戏：第一队的第一名队员，第二队的第一名队员，……，第\(n\)队的第一名队员，第一队的第二名队员，……，第\(n\)队的第二名队员，第一队的第一名队员，依此类推。

每个回合持续\(t\)秒。具体过程如下：最初每个回合的时间为\(t\)。当队员剩余时间大于\(0\)时，队员从牌堆顶部拿出一张卡片，开始向队友解释卡片上的单词。队伍\(i\)的队员\(j\)向队友（队伍\(i\)的队员\(q\)，若\(j = 1\)，则\(q = 2\)；否则\(q = 1\)）解释卡片\(k\)中的单词所需时间等于\(\max(1, c_{k} - (a_{i,j} + b_{i,q}) - d_{i,k})\) 。值\(d_{i,k}\)是队伍\(i\)在前几轮中解释单词\(k\)所花费的总秒数。最初，所有的\(d\)都等于\(0\)。如果一个队伍在回合结束前猜出了单词，那么从回合持续时间中减去上述计算出的时间，包含猜出单词的卡片离开游戏，队伍赢得一分，游戏继续。如果队伍无法猜出单词，则将卡片放在牌堆底部，\(d_{i,k}\)随着用于解释单词的回合时间而增加。这样，当这个队伍再次拿到同一个单词时，他们不是从头开始解释，而是从上次停止的地方开始解释。当所有\(m\)张卡片上的单词都被猜出时，游戏结束。

你已知\(n\)个队伍和一副\(m\)张卡片的信息。你需要确定每支队伍在游戏结束时会得到多少分，以及每支队伍分别猜出了哪些单词。

## 样例 #1
### 输入
```
2 2
1 1 1 1
1 1 1 1
3
home
1
car
1
brother
1
```
### 输出
```
2 home car 
1 brother 
```

## 样例 #2
### 输入
```
2 4
1 2 2 1
2 3 2 2
4
armchair
3
quetzalcoatl
10
pilotage
5
defibrillator
7
```
### 输出
```
2 armchair quetzalcoatl 
2 pilotage defibrillator 
```

• 算法分类：模拟
• 综合分析与结论：由于暂无题解，针对该题通用建议为按照游戏规则逐步模拟游戏过程。可以使用合适的数据结构来存储队伍信息（如队员技能）、卡片信息（如单词复杂度）以及每队对每个单词已花费的解释时间。难点在于如何高效地处理卡片的轮流抽取、解释时间的计算以及卡片放回牌堆底部等操作。扩展思路上，可以考虑优化数据结构以减少时间复杂度，例如对于频繁查询和更新的操作，可以使用更高效的数据结构。
• 通用建议与扩展思路：在实现模拟过程中，要注意对游戏规则的准确把握，尤其是解释时间的计算以及卡片状态的更新。可以尝试不同的数据结构来优化代码性能，比如用哈希表来快速定位队伍对某个单词已花费的时间。同类型题可关注其他涉及复杂规则模拟的题目，类似算法套路是按照给定规则逐步实现每个步骤，在实现过程中优化数据结构和操作逻辑。
• 洛谷题目推荐：
  - P1032 [NOIP2002 普及组] 字串变换，涉及字符串模拟操作。
  - P1909 [NOIP2016 普及组] 买铅笔，通过模拟购买不同包装铅笔的过程求解最优方案。
  - P1046 [NOIP2005 普及组] 陶陶摘苹果，模拟摘苹果的过程并统计数量。 

---
处理用时：46.38秒
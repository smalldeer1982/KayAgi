# 题目信息

# Ice Cream

## 题目描述

Tanya 想在 $n$ 天内吃掉 $k$ 份冰淇凌，在第 $i$ 天她至少吃 $a_i$ 份，至多吃 $b_i$ 份，冰淇凌的价格为 $c_i$，当天买必须当天吃完，求最少的花费。

## 样例 #1

### 输入

```
3 7
3 5 6
0 3 4
3 3 3
```

### 输出

```
31
```

## 样例 #2

### 输入

```
1 45000
40000 50000 100000
```

### 输出

```
4500000000
```

## 样例 #3

### 输入

```
3 100
2 10 50
50 60 16
20 21 25
```

### 输出

```
-1
```

## 样例 #4

### 输入

```
4 12
2 5 1
1 2 2
2 3 7
3 10 4
```

### 输出

```
35
```

# AI分析结果

【题目内容】
# 冰淇淋

## 题目描述
Tanya 想在 $n$ 天内吃掉 $k$ 份冰淇淋。在第 $i$ 天，她至少要吃 $a_i$ 份，至多吃 $b_i$ 份，冰淇淋的价格为 $c_i$，且当天买的必须当天吃完，求最少的花费。

## 样例 #1
### 输入
```
3 7
3 5 6
0 3 4
3 3 3
```
### 输出
```
31
```

## 样例 #2
### 输入
```
1 45000
40000 50000 100000
```
### 输出
```
4500000000
```

## 样例 #3
### 输入
```
3 100
2 10 50
50 60 16
20 21 25
```
### 输出
```
-1
```

## 样例 #4
### 输入
```
4 12
2 5 1
1 2 2
2 3 7
3 10 4
```
### 输出
```
35
```

【算法分类】
贪心

【综合分析与结论】
该题解思路清晰，先满足每天的最低需求，再将剩余可购买量按价格从小到大排序，优先选择价格低的购买，符合贪心策略。通过对剩余冰淇淋份数的判断，能有效处理无解的情况。代码实现简洁，使用 `Scanner` 简化输入处理，使用 `data class` 存储每天的信息，方便排序操作。

【所选的题解】
- 作者：Lpttor (赞：2)，4星。关键亮点：思路清晰，代码简洁，能有效处理无解情况，使用 `data class` 存储信息方便排序。

【重点代码】
```kotlin
data class days (var mx:Long,var cost:Long)
fun min(a:Long,b:Long):Long{
    if(a>b) return b
    else return a
}
fun main(args: Array<String>){
    val sc=Scanner(System.`in`)
    var n=sc.nextInt()
    var k=sc.nextLong()
    var ans=0L
    var mn:Long
    var mx:Long
    var cost:Long
    var arr:MutableList<days> = mutableListOf()
    for (i in 0..n-1) {
        mn=sc.nextLong()
        mx=sc.nextLong()
        cost=sc.nextLong()
        k-=mn
        mx-=mn
        ans+=cost.toLong()*mn
        arr.add(days(mx,cost))
    }
    if(k<0){
        println(-1)
        return
    }
    arr.sortBy { it.cost }
    for(it in arr){
        ans+=min(k,it.mx).toLong()*it.cost
        k-=it.mx
        if(k<=0) break
    }
    if(k>0) println(-1)
    else println(ans)
}
```
【核心实现思想】
1. 先读取输入，计算出满足每天最低需求后的剩余冰淇淋份数 `k`，并将每天满足最低需求后的可购买量和价格存储在 `arr` 列表中。
2. 若 `k < 0`，说明最低需求的总和已经超过了要吃的冰淇淋总数，直接输出 `-1`。
3. 对 `arr` 列表按价格从小到大排序。
4. 遍历排序后的列表，优先选择价格低的购买，直到满足需求或无法再购买。
5. 若最后 `k > 0`，说明无法满足需求，输出 `-1`，否则输出最小花费 `ans`。

【可拓展之处】
同类型题或类似算法套路：其他涉及资源分配且满足贪心选择性质的问题，如活动选择问题、背包问题（部分背包）等。可以先满足基本需求，再根据某个指标（如价格、价值等）进行排序，优先选择最优的选项。

【推荐题目】
1. P1090 [NOIP2004 提高组] 合并果子：通过贪心策略每次选择最小的两堆果子合并，考察贪心算法的应用。
2. P1223 排队接水：按照接水时间从小到大排序，计算最小的等待时间总和，与本题的贪心思路类似。
3. P2240 【深基12.例1】部分背包问题：根据物品的单位价值进行排序，优先选择单位价值高的物品，是典型的贪心问题。

【个人心得】
题解中未包含个人心得。 

---
处理用时：32.70秒
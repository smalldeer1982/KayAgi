# 题目信息

# Hot Bath

## 题目描述

浴缸里有一个冷水龙头和一个热水龙头，流出的水温分别是 $t_1$ 和 $t_2$；它们的流速最大是 $x_1$ 和 $x_2$ 个单位每秒，并且可以调节到 $0$ 至最大流速间的任意一个整数速度。假如两个龙头的流速分别是 $y_1$ 和 $y_2$，那么最终的水温 $t$ 就是 $\dfrac{t_1\times y_1+t_2\times y_2}{y_1+y_2}$。

现在，你要安排两个水龙头的流速，满足： 

1. 最终水温不低于 $t_0$；
2. 在满足上一条的前提下，水温尽可能接近 $t_0$；
3. 在满足上一条的前提下，总流速尽可能大。

## 说明/提示

对于 $100\%$ 的数据，满足 $1\le t_1\le t_0\le t_2\le10^6$，$1\le x_1,x_2\le10^6$。

---
Translated by [残阳如血](/user/726139)。

## 样例 #1

### 输入

```
10 70 100 100 25
```

### 输出

```
99 33```

## 样例 #2

### 输入

```
300 500 1000 1000 300
```

### 输出

```
1000 0```

## 样例 #3

### 输入

```
143 456 110 117 273
```

### 输出

```
76 54```

# AI分析结果

### 题目内容
# Hot Bath

## 题目描述

浴缸里有一个冷水龙头和一个热水龙头，流出的水温分别是 \(t_1\) 和 \(t_2\)；它们的流速最大是 \(x_1\) 和 \(x_2\) 个单位每秒，并且可以调节到 \(0\) 至最大流速间的任意一个整数速度。假如两个龙头的流速分别是 \(y_1\) 和 \(y_2\)，那么最终的水温 \(t\) 就是 \(\dfrac{t_1\times y_1+t_2\times y_2}{y_1+y_2}\)。

现在，你要安排两个水龙头的流速，满足： 

1. 最终水温不低于 \(t_0\)；
2. 在满足上一条的前提下，水温尽可能接近 \(t_0\)；
3. 在满足上一条的前提下，总流速尽可能大。

## 说明/提示

对于 \(100\%\) 的数据，满足 \(1\le t_1\le t_0\le t_2\le10^6\)，\(1\le x_1,x_2\le10^6\)。

---
Translated by [残阳如血](/user/726139)。

## 样例 #1

### 输入

```
10 70 100 100 25
```

### 输出

```
99 33```

## 样例 #2

### 输入

```
300 500 1000 1000 300
```

### 输出

```
1000 0```

## 样例 #3

### 输入

```
143 456 110 117 273
```

### 输出

```
76 54```

### 算法分类
贪心

### 题解综合分析与结论
这些题解主要围绕贪心策略展开，通过不同方式寻找满足条件的水流速度。部分题解利用十字交叉法或数学推导得出流速关系来求解，部分则是从初始最大流速出发，根据水温与 \(t_0\) 的比较结果，调整冷热水流速。各题解在精度处理、特殊情况判断及枚举方式上存在差异。

### 所选的题解
- **作者：Blunt_Feeling（5星）**
  - **关键亮点**：思路清晰，代码简洁，详细标注了代码中的坑点，如循环条件、类型转换及精度处理。
  - **个人心得**：提到在while循环里要先考虑温度高的情况，再考虑温度低的情况，因为水温在一开始时肯定是偏高的，如果先考虑温度偏低的情况就有可能会出错。
  - **核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int t1,t2,x1,x2,t0;
double best=0x3f3f3f3f,t;
pair<int,int> ans;
int main()
{
    cin>>t1>>t2>>x1>>x2>>t0;
    double y1=x1,y2=x2;
    while(y1>=0&&y2>=0)
    {
        t=double(t1*y1+t2*y2)/(y1+y2);
        if(t<t0) {y1--; continue;}
        if(t-t0<best) best=t-t0,ans.first=y1,ans.second=y2;
        y2--;
    }
    cout<<ans.first<<' '<<ans.second<<endl;
    return 0;
}
```
  - **核心思想**：初始将两个水龙头流速设为最大，在循环中，每次根据当前水温与 \(t_0\) 的比较结果，若水温低则降低冷水流速，若水温高则先更新最佳结果再降低热水流速，直到任意一个水龙头流速小于0。

- **作者：Special_Tony（4星）**
  - **关键亮点**：利用十字交叉法得出冷热水流速之比，通过枚举冷水流速 \(O(1)\) 得出热水流速，避免了精度误差。
  - **核心代码**：
```cpp
# include <bits/stdc++.h>
using namespace std;
typedef long long ll;
int t1, t2, x1, x2, t0, ans1, ans2, t;
int main () {
    ios::sync_with_stdio (0);
    cin.tie (0);
    cout.tie (0);
    cin >> t1 >> t2 >> x1 >> x2 >> t0;
    if (t0 == t1)
        if (t0 == t2)
            cout << x1 << ' ' << x2;
        else
            cout << x1 << " 0";
    else if (t0 == t2)
        cout << "0 " << x2;
    else {
        ans2 = x2;
        for (int i = 1; i <= x1; ++ i) {
            t = ((ll) (t0 - t1) * i + t2 - t0 - 1) / (t2 - t0);
            if (t > x2)
                break ;
            if ((ll) t * ans1 <= (ll) ans2 * i)
                ans1 = i, ans2 = t;
        }
        cout << ans1 << ' ' << ans2;
    }
    return 0;
}
```
  - **核心思想**：先对特殊情况（\(t_0\) 等于 \(t_1\) 或 \(t_2\)）进行判断输出。一般情况通过枚举冷水流速 \(i\)，根据十字交叉法计算出热水流速 \(t\)，并在满足条件时更新答案。

- **作者：zct_sky（4星）**
  - **关键亮点**：对题目式子化简，将题意转化为分数相关条件，枚举 \(y_1\) 并通过一定范围搜索 \(y_2\) 的近似值，考虑了特殊情况特判。
  - **核心代码**：
```c++
#include<bits/stdc++.h>
#define ll long long
using namespace std;
inline ll read(){
    ll x=0,y=1;
    char ch=getchar();
    while(ch<'0'||ch>'9'){
        if(ch=='-')y=-1;
        ch=getchar();
    }
    while(ch>='0'&&ch<='9')x=(x<<3)+(x<<1)+ch-'0',ch=getchar();
    return x*y;
}
ll t1,t0,t2,x1,x2,up,down;
const double eps=1e-14;
int main(){
    t1=read();t2=read(),x1=read();x2=read();t0=read();
    up=t0-t1;down=t2-t0;
    if(!up||!down){
        printf("%lld %lld",x1*(!up),x2*(!down));
        return 0;
    }
    double tp=up*1.0/down;
    ll y1=0,y2=x2;
    double y3=1145141919810;
    for(ll i=1;i<=x1;i++){
        ll j=(ll)(i*tp+0.5);
        for(ll jj=j-3;jj<=j+3;jj++){
            if(jj>x2)break;
            if(jj<0)continue;
            double k=jj*1.0/i;
            if(k<tp-eps)continue;
            if(y3-k>eps||y3==k){
                y3=k;
                y1=i;
                y2=jj;
            }
        }
    }
    printf("%lld %lld",y1,y2);
    return 0;
}
```
  - **核心思想**：先对式子化简得到 \(\dfrac{y_2}{y_1} = \dfrac{t_0 - t_1}{t_2 - t_0}\)，特判特殊情况后，枚举 \(y_1\)，根据比例计算 \(y_2\) 的近似值 \(j\)，在 \(j\) 附近搜索合适的 \(y_2\) 值并更新答案。

### 最优关键思路或技巧
1. **贪心策略**：从初始最大流速出发，根据水温与目标温度的比较结果，逐步调整冷热水流速，以满足题目条件。
2. **数学推导**：利用十字交叉法或对公式化简，得出流速之间的关系，从而简化计算，提高效率并避免精度问题。

### 拓展
同类型题常涉及根据多个条件优化某个值，类似算法套路包括利用数学原理（如比例关系、公式推导）简化问题，以及贪心策略的灵活运用。通过先设定初始状态，再根据条件逐步调整，以达到最优解。

### 推荐题目
1. **P1080 [NOIP2012 提高组] 国王游戏**：涉及贪心策略，通过对数据的分析和排序，找到最优分配方案。
2. **P1248 加工生产调度**：运用贪心思想，结合对任务时间的分析，安排生产顺序以优化总时间。
3. **P2123 皇后游戏**：同样是贪心算法的应用，通过对数据的特定排序，解决双属性物品的最优排列问题。 

---
处理用时：88.46秒
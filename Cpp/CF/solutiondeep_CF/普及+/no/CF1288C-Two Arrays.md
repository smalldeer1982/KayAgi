# 题目信息

# Two Arrays

## 题目描述

You are given two integers $ n $ and $ m $ . Calculate the number of pairs of arrays $ (a, b) $ such that:

- the length of both arrays is equal to $ m $ ;
- each element of each array is an integer between $ 1 $ and $ n $ (inclusive);
- $ a_i \le b_i $ for any index $ i $ from $ 1 $ to $ m $ ;
- array $ a $ is sorted in non-descending order;
- array $ b $ is sorted in non-ascending order.

As the result can be very large, you should print it modulo $ 10^9+7 $ .

## 说明/提示

In the first test there are $ 5 $ suitable arrays:

- $ a = [1, 1], b = [2, 2] $ ;
- $ a = [1, 2], b = [2, 2] $ ;
- $ a = [2, 2], b = [2, 2] $ ;
- $ a = [1, 1], b = [2, 1] $ ;
- $ a = [1, 1], b = [1, 1] $ .

## 样例 #1

### 输入

```
2 2```

### 输出

```
5```

## 样例 #2

### 输入

```
10 1```

### 输出

```
55```

## 样例 #3

### 输入

```
723 9```

### 输出

```
157557417```

# AI分析结果

### 题目内容翻译
#### 两个数组

### 题目描述
给定两个整数 $n$ 和 $m$。计算满足以下条件的数组对 $(a, b)$ 的数量：
- 两个数组的长度均等于 $m$；
- 每个数组的每个元素都是介于 $1$ 到 $n$（包含 $1$ 和 $n$）之间的整数；
- 对于从 $1$ 到 $m$ 的任何索引 $i$，都有 $a_i \leq b_i$；
- 数组 $a$ 按非降序排序；
- 数组 $b$ 按非升序排序。

由于结果可能非常大，你应该将结果对 $10^9 + 7$ 取模后输出。

### 说明/提示
在第一个测试用例中，有 $5$ 个合适的数组对：
- $a = [1, 1], b = [2, 2]$；
- $a = [1, 2], b = [2, 2]$；
- $a = [2, 2], b = [2, 2]$；
- $a = [1, 1], b = [2, 1]$；
- $a = [1, 1], b = [1, 1]$。

### 样例 #1
#### 输入
```
2 2
```
#### 输出
```
5
```

### 样例 #2
#### 输入
```
10 1
```
#### 输出
```
55
```

### 样例 #3
#### 输入
```
723 9
```
#### 输出
```
157557417
```

### 算法分类
组合数学

### 综合分析与结论
这些题解的核心思路大多围绕将原问题转化为更易处理的形式，如将数组 $a$ 和 $b$ 拼接成一个长度为 $2m$ 的非降序列，再利用动态规划、组合数学等方法求解。
- **思路对比**：部分题解直接用动态规划，通过定义状态和转移方程求解；部分题解利用组合数学知识，将问题转化为组合数问题求解。
- **算法要点**：动态规划题解需定义合适的状态和转移方程；组合数学题解需掌握组合数的计算和组合恒等式的运用。
- **解决难点**：原问题条件较多，需通过观察和推理将其转化为简单问题；组合数计算涉及大数取模，需预处理阶乘和逆元。

### 所选题解
- **bwartist（4星）**
    - **关键亮点**：思路清晰，将原问题巧妙转化为求长度为 $2m$ 的非降序列的方案数，再用动态规划求解，代码实现简洁。
- **培淇2021（4星）**
    - **关键亮点**：从多个角度分析问题，逐步优化算法，最后得出最优解，对问题的理解和分析深入。
- **Mine_King（4星）**
    - **关键亮点**：直接将问题转化为组合数问题，利用插板法求解，思路简洁，时间复杂度低。

### 重点代码
#### bwartist的代码
```cpp
#include<bits/stdc++.h>
using namespace std;
const int mo=1e9+7;
int n,m;
typedef long long ll;
ll dp[25][1005],sum[25][1005];
int main(){
    scanf("%d%d",&n,&m);
    m*=2;
    for(int i=1;i<=n;i++)    dp[1][i]=1,sum[1][i]=i;
    for(int i=2;i<=m;i++){
        for(int j=1;j<=n;j++){
            dp[i][j]=sum[i-1][j];
            sum[i][j]=((sum[i][j-1]+dp[i][j])%mo+mo)%mo;
        }
    }
    ll ans=0;
    for(int i=1;i<=n;i++)    ans=((ans+dp[m][i])%mo+mo)%mo;
    printf("%lld",ans);
    return 0;
} 
```
**核心实现思想**：定义 `dp[i][j]` 表示前 $i$ 个数，最后一个数为 $j$ 的方案数，`sum[i][j]` 表示前 $i$ 个数，最后一个数小于等于 $j$ 的总方案数，通过状态转移方程 `dp[i][j]=sum[i-1][j]` 递推求解。

#### 培淇2021的最终代码思路
```plaintext
答案为 C_{2m+n-1}^{2m}，O(n) 求出一个阶乘两个阶乘逆元，再乘一下。
```
**核心实现思想**：通过对问题的深入分析，将其转化为组合数问题，利用组合恒等式化简式子，最终得出答案。

#### Mine_King的代码思路
```plaintext
答案为 \binom{2m+n-1}{n-1}，O(n) 预处理阶乘和阶乘的逆元。
```
**核心实现思想**：将原问题转化为“将 $2m$ 个相同的元素放到 $n$ 个集合中，允许有集合为空的方案数”，利用插板法得出组合数公式，再预处理阶乘和逆元求解。

### 可拓展之处
同类型题可能涉及更多复杂的条件和限制，可参考类似的组合数学问题，如不同的球盒问题、排列组合问题等。解题时可先分析问题的本质，尝试将其转化为已知的数学模型，再利用相应的数学知识和算法求解。

### 推荐题目
- [P1833 樱花](https://www.luogu.com.cn/problem/P1833)：涉及组合数学和动态规划的综合应用。
- [P2822 组合数问题](https://www.luogu.com.cn/problem/P2822)：主要考察组合数的计算和取模。
- [P3197 [HNOI2008]越狱](https://www.luogu.com.cn/problem/P3197)：需要运用组合数学和快速幂等知识。

### 个人心得摘录与总结
- **MspAInt**：先考虑单调不降序列个数的计算方法，再通过巧妙转换将原问题转化为求长度为 $2\times m$ 的不降序列个数，体现了从简单问题入手，逐步解决复杂问题的思维方式。
- **beyoursven**：最初使用暴力DP，看到官方题解后发现可将问题转化为可重组合数问题，认识到自己思路的局限性，提醒我们在解题时要多思考问题的本质，尝试不同的思路。
- **YLWang**：认为这种计数题花费时间较多很没面子，反映出对自己解题速度和能力的高要求，同时也提醒我们要多练习，提高解题效率。

---
处理用时：50.28秒
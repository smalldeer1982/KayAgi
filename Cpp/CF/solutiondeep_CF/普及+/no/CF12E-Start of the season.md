# 题目信息

# Start of the season

## 题目描述

在伯兰的足球节开幕式中有一个奇怪的魔术秀。最有经验的魔术师会找一个n×n的矩阵（n为偶数）。足球节没有这个魔术秀绝对不会开始。这个矩阵应该包含0~n-1的正整数，且包含以下三条规则：

1、主对角线上的数应该都是0

2、且整个矩阵应该都是对称的

3、每行每列上的数都是不同的。

魔术师很不喜欢一遍又一遍的接矩阵（魔术师真懒），于是就请你写一个程序来帮助他们解决矩阵问题。

## 样例 #1

### 输入

```
2
```

### 输出

```
0 1
1 0
```

## 样例 #2

### 输入

```
4
```

### 输出

```
0 1 3 2
1 0 2 3
3 2 0 1
2 3 1 0
```

# AI分析结果

### 题目内容
# 赛季开始

## 题目描述
在伯兰的足球节开幕式中有一个奇怪的魔术秀。最有经验的魔术师会找一个n×n的矩阵（n为偶数）。足球节没有这个魔术秀绝对不会开始。这个矩阵应该包含0~n - 1的正整数，且包含以下三条规则：
1. 主对角线上的数应该都是0。
2. 且整个矩阵应该都是对称的。
3. 每行每列上的数都是不同的。
魔术师很不喜欢一遍又一遍的接矩阵（魔术师真懒），于是就请你写一个程序来帮助他们解决矩阵问题。

## 样例 #1
### 输入
```
2
```
### 输出
```
0 1
1 0
```

## 样例 #2
### 输入
```
4
```
### 输出
```
0 1 3 2
1 0 2 3
3 2 0 1
2 3 1 0
```

### 算法分类
构造

### 题解综合分析与结论
这些题解的核心思路都是通过找规律来构造满足条件的矩阵。主要差别在于发现规律的角度和具体实现方式。多数题解先构造一个满足部分条件（如对称且行列数不同）的矩阵，再通过调整对角线元素来满足主对角线为0的条件。解决难点在于如何同时满足三条规则，特别是在调整对角线元素时保证行列元素的唯一性。

### 所选的题解
 - **作者：Durancer (5星)**
    - **关键亮点**：通过手模样例发现规律，先构造$n - 1$个$1…n - 1$的全排列，再通过转移对角线元素到行列最后并赋值0来构造矩阵，思路清晰，代码简洁直观。
    - **重点代码核心实现思想**：先构建以$i$开头的按顺序的全排列矩阵，再将对角线上元素移到所在行列最后并将对角线置0。
```cpp
for(int i=1;i<=n-1;i++)
{
    int k=i;
    for(int j=1;j<=n-1;j++)
    {
        jux[j][i]=k;
        k++;
        if(k==n) k=1;
    }
}
for(int i=1;i<=n;i++)
{
    jux[i][n]=jux[n][i]=jux[i][i];
    jux[i][i]=0;
}
```
 - **作者：米奇奇米 (4星)**
    - **关键亮点**：通过巧妙的对每个元素进行$(i + j) \% n + 1$赋值构造矩阵，再调整对角线元素，代码简洁明了。
    - **重点代码核心实现思想**：先对矩阵元素按公式赋值，再将对角线元素移到最后一列和最后一行对应位置并将对角线置0。
```cpp
for(int i=0;i<n;i++)
    for(int j=0;j<n;j++)
        map[i][j]=(i+j)%n+1;
for(int i=0;i<n;i++)
    map[i][n]=map[n][i]=map[i][i],map[i][i]=0;
```
 - **作者：yzc20100218 (4星)**
    - **关键亮点**：先从样例出发反向思考，通过构造满足部分条件的奇数矩阵，再平移对角线元素得到满足条件的偶数矩阵，思路独特，并对构造公式进行了数论角度的验证。
    - **重点代码核心实现思想**：先按公式$a[i][j] = (i + j) \% n + 1$构造奇数矩阵，再将对角线元素平移到最后一列和最后一行对应位置并将对角线置0。
```cpp
for(int i = 1;i <= n;i++)
{
    for(int j = 1;j <= n;j++)
    {
        a[i][j] = (i + j) % n + 1;
    }
}
n++;
for(int i = 1;i <= n;i++)
{
    a[i][n] = a[i][i];
    a[n][i] = a[i][i];
    a[i][i] = 0;
}
```

### 最优关键思路或技巧
通过观察样例找规律，利用数论知识构造满足对称且行列元素不同的矩阵，再通过平移对角线元素满足主对角线为0的条件。这种构造思路的关键在于找到一个合适的公式来生成初始矩阵，保证其满足部分条件，再通过简单的调整满足所有条件。

### 拓展
同类型题或类似算法套路：此类构造题通常需要通过观察样例或小数据找规律，利用数学知识（如取模运算）来构造满足特定条件的数据结构。类似的题目可能会要求构造满足特定规则的图、序列等。

### 洛谷相似题目推荐
 - [P1149 火柴棒等式](https://www.luogu.com.cn/problem/P1149)：通过枚举和构造满足等式条件的数字组合。
 - [P1469 找筷子](https://www.luogu.com.cn/problem/P1469)：利用位运算的特性构造思路来找出数组中唯一出现奇数次的数。
 - [P2670 扫雷游戏](https://www.luogu.com.cn/problem/P2670)：根据扫雷规则构造二维数组来模拟游戏过程。

### 个人心得摘录与总结
 - **作者：Asrit**：总结了做题时遇到的困难，如容易顾此失彼，考虑不全条件，看题解没懂，抄式子WA等，最后通过自己“脑玩”数据总结出规律AC。这表明在遇到难题时，自己动手分析数据有助于理解和解决问题。 

---
处理用时：56.41秒
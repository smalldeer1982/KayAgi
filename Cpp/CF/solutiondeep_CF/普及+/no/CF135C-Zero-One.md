# 题目信息

# Zero-One

## 题目描述

在游戏开始之前，几张牌从左到右排成一行放在一张桌子上。每张牌包含`0`或`1`。玩家轮流移动（Masha 先移动）。在每一次移动中，玩家会移除一张牌。例如，在某人移动之前，表上的卡片形成了一个序列`01010101`，那么在第  $4$ 张卡片被移动之后（卡片从  $1$ 开始编号），序列将变成`0100101`。

当只剩  $2$ 张牌时，游戏结束。这些卡上的数字决定了二进制中的数字。Masha 的目标是最小化这个数字；Petya 的目标是最大化这个数字。

现在，有些卡片上的数字变得模糊了，记作`?`。假设 Petya 和 Masha 都玩得很好，请你找出游戏结束时剩下的  $2$ 张牌所有可能的情况。

## 说明/提示

样例组 #1 解释：有  $16$ 种可能的排列。如果一开始牌面为`0000`，结果是`00`；如果一开始牌面为`1111`，结果是`11`；如果一开始牌面为`0011`，结果是`01`；如果一开始牌面为`1100`，结果是`10`。总共只有  $4$ 种不同的结果。

样例组 #3 解释：只有  $2$ 种可能的数字排列：`111`和`101`。如果一开始牌面为`111`，结果是`11`；如果一开始牌面为`101`，结果是`01`。Masha 可以在第一次操作时取出最左边的牌，然后游戏结束。

## 样例 #1

### 输入

```
????
```

### 输出

```
00
01
10
11
```

## 样例 #2

### 输入

```
1010
```

### 输出

```
10
```

## 样例 #3

### 输入

```
1?1
```

### 输出

```
01
11
```

# AI分析结果

### 题目内容
# Zero-One

## 题目描述
在游戏开始前，若干张牌从左到右排成一行放置在桌上。每张牌上标有`0`或`1`。玩家轮流进行操作（玛莎先操作）。每次操作中，玩家移除一张牌。例如，在某人操作前，桌上的牌组成序列`01010101`，那么在移除第4张牌（牌从1开始编号）后，序列变为`0100101`。
当桌上只剩下2张牌时，游戏结束。这两张牌上的数字决定了一个二进制数。玛莎的目标是使这个数字最小，佩佳的目标是使这个数字最大。
现在，有些牌上的数字变得模糊不清，用`?`表示。假设佩佳和玛莎都采取最优策略，请找出游戏结束时剩下2张牌的所有可能情况。

## 说明/提示
样例组 #1 解释：存在16种可能的排列。若初始牌面为`0000`，结果为`00`；若初始牌面为`1111`，结果为`11`；若初始牌面为`0011`，结果为`01`；若初始牌面为`1100`，结果为`10`。总共仅有4种不同结果。
样例组 #3 解释：仅有2种可能的数字排列：`111`和`101`。若初始牌面为`111`，结果为`11`；若初始牌面为`101`，结果为`01`。玛莎可以在第一次操作时取出最左边的牌，然后游戏结束。

## 样例 #1
### 输入
```
????
```
### 输出
```
00
01
10
11
```

## 样例 #2
### 输入
```
1010
```
### 输出
```
10
```

## 样例 #3
### 输入
```
1?1
```
### 输出
```
01
11
```

### 算法分类
数学

### 综合分析与结论
两道题解思路相似，均通过分析游戏规则，根据1、0和问号的数量关系推导结论来解决问题。
 - **思路**：两人都按最优策略操作，使结果最大就从左向右取0，使结果最小就从左向右取1。基于此分析不同数量1和0的情况，以及问号对结果的影响。
 - **算法要点**：统计1、0和问号的数量，依据数量关系判断最终可能的结果。如当1的数量大于0的数量加1时结果为11；0的数量大于1的数量时结果为00；1和0数量相等或1比0多1时，结果受最后一位影响。对于问号，通过不同数量关系判断能否出现相应结果。
 - **解决难点**：主要难点在于全面分析问号对结果的影响，通过合理假设问号为0或1，结合1和0的数量关系得出完整结论。

### 所选的题解
 - **王大神——A001**：★★★
    - **关键亮点**：对各种情况分析细致，包括1和0数量相等、1比0多1等特殊情况，以及问号在不同条件下对结果的影响，代码实现逻辑清晰。
    - **重点代码**：
```cpp
#include<cstring>
#include<iostream>
#include<string>
#include<map>
using namespace std;
int x_1,x_0,x_x;
string s_s;
map<string,int>mp;
int main(){
    cin>>s_s;
    for(int i=0;i<s_s.length();i++)
        if(s_s[i]=='0')x_0++;
        else if(s_s[i]=='1')x_1++;
        else x_x++;
    mp["11"]=0;mp["10"]=0;mp["01"]=0;mp["00"]=0;
    if(x_1+x_x-1>x_0)mp["11"]=1;
    if(x_0+x_x>x_1)mp["00"]=1;
    if(((x_x>=x_0-x_1)&&x_0>=x_1)||(x_x>=x_1-x_0-1&&x_1>=x_0+1)){
        if(s_s[s_s.length()-1]=='1')mp["01"]=1;
        else if(s_s[s_s.length()-1]=='0')mp["10"]=1;
        else if((x_x>(x_1-x_0)&&x_1>=x_0||x_x>(x_0-x_1)+1&&x_0>=x_1+1)&&x_x>1)mp["01"]=mp["10"]=1;
        else {
            if(x_1>x_0)mp["10"]=1;
            else mp["01"]=1;
        }
    }
    if(mp["00"])cout<<"00"<<endl;
    if(mp["01"])cout<<"01"<<endl;
    if(mp["10"])cout<<"10"<<endl;
    if(mp["11"])cout<<"11"<<endl;
    return 0;
}
```
核心实现思想：先统计1、0和问号的数量，然后根据数量关系判断各种结果是否可能出现，最后输出可能的结果。
 - **Domain_expansion**：★★★
    - **关键亮点**：思路清晰，逐步推导不同情况下的结论，代码简洁明了，变量命名直观。
    - **重点代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int a=0,b=0,c=0;
string s;
int oz=0,zo=0,oo=0,zz=0;
int main(){
    cin>>s;
    int len=s.length();
    for(int i=0;i<len;i++){
        if(s[i]=='1') a++;
        if(s[i]=='0') b++;
        if(s[i]=='?') c++;
    }
    if(b+c>a) zz=1;
    if(a+c-1>b) oo=1;
    if((c>=b-a&&b>=a)||(c>=a-b-1&&a>=b+1)){
        if(s[len-1]=='1') zo=1;
        else if(s[len-1]=='0') oz=1;
        else if(c>a-b&&a-b>=0&&c>1) oz=1,zo=1;
        else if(c>b-a+1&&b-a+1>=0&&c>1) oz=1,zo=1;
        else if(a>b){
            oz=1;
        }else zo=1;
    }
    if(zz==1) cout<<"00"<<endl;
    if(zo==1) cout<<"01"<<endl;
    if(oz==1) cout<<"10"<<endl;
    if(oo==1) cout<<"11"<<endl;
    return 0;
}
```
核心实现思想：同样先统计各类字符数量，依据数量关系标记可能的结果，最后输出。

### 最优关键思路或技巧
通过分析玩家最优策略，总结1、0和问号数量关系与最终结果的联系，这是解决本题的关键。利用这种数学分析而非暴力枚举，有效避免了数据范围大带来的超时问题。

### 可拓展思路
此类题目属于博弈策略结合数学分析的类型。类似套路是先明确双方的最优策略，再根据给定条件（如本题中的牌面数字及数量）推导结果。可以拓展到其他博弈场景，如不同规则的取物游戏等。

### 洛谷相似题目推荐
 - [P1149 火柴棒等式](https://www.luogu.com.cn/problem/P1149)
 - [P1085 不高兴的津津](https://www.luogu.com.cn/problem/P1085)
 - [P1909 [NOIP2016 普及组] 买铅笔](https://www.luogu.com.cn/problem/P1909) 

---
处理用时：64.17秒
# 题目信息

# Fixed Points

## 题目描述

一个整数序列 $a1,a2,...,a_n$，一次操作，可以删除一个数，然后该数右侧的数向左移动一个单位。对于一个长度为 $n$ 的整数序列 $b_i$ ，求最少需要删除几个数后，会有至少 $k$ 个 $i$ 满足 $b_i=i$ 。

## 说明/提示

对于第一个测试数据，序列不满足所需条件，但可以通过删除第一个数来提供，序列为 $[1,2,3,4,5,6]$，有 $6$ 个数满足条件。

对于第二个测试数据，有两种方法：第一种是删除 $a_1$ 和 $a_3$ ；第二种是删除 $a_2$ 和 $a_3$ 。

## 样例 #1

### 输入

```
4
7 6
1 1 2 3 4 5 6
5 2
5 1 3 2 3
5 2
5 5 5 5 4
8 4
1 2 3 3 2 2 5 5```

### 输出

```
1
2
-1
2```

# AI分析结果

### 题目分类
动态规划

### 综合分析与结论
这些题解均采用动态规划的方法解决问题。核心思路是通过定义状态表示前 $i$ 个数在删除一定数量的数后满足 $b_i = i$ 的最大数量，然后根据删除或保留第 $i$ 个数的不同情况进行状态转移。各题解的主要区别在于状态定义和状态转移方程的表述方式略有不同，但本质相同。

### 所选题解
- **作者：白鲟 (赞：14)  4星**
    - **关键亮点**：思路清晰，状态定义和转移方程明确，代码简洁易懂。
- **作者：zhaoyp (赞：5)  4星**
    - **关键亮点**：使用滚动数组优化了空间复杂度，在代码实现上有一定的优化。
- **作者：Mine_King (赞：1)  4星**
    - **关键亮点**：对状态转移方程的解释详细，有助于理解动态规划的思路。

### 重点代码
#### 作者：白鲟
```cpp
for(int i=1;i<=n;++i)
    for(int j=1,maxx=0;j<=i;++j)
    {
        f[i][j]=max(f[i-1][j-1]+(j==a[i]),f[i-1][j]);
        if(f[i][j]>=k)
            ans=min(ans,i-j);
    }
```
**核心实现思想**：$f_{i,j}$ 表示把前 $i$ 个数删到仅剩 $j$ 个数能获得的最大的 $i = a_i$ 个数，通过比较删除和不删除第 $i$ 个数的情况进行状态转移，同时更新最小删除数。

#### 作者：zhaoyp
```cpp
for(int i = 1;i <= n;i++)
    for(int j = i;j >= 0;j--)
        dp[j] = max(dp[max(0,j - 1)],dp[j] + (int)(a[i] == i - j));
```
**核心实现思想**：使用滚动数组 $dp_j$ 表示对原序列前 $i$ 个数，删除 $j$ 个数的最大收益，同样根据删除和不删除第 $i$ 个数的情况进行状态转移。

#### 作者：Mine_King
```cpp
for(int i=1;i<=n;i++)
{
    dp[i][0]=dp[i-1][0]+(a[i]==i);
    for(int j=1;j<=i;j++)
        dp[i][j]=max(dp[i-1][j-1],dp[i-1][j]+(a[i]==i-j));
}
```
**核心实现思想**：$dp_{i,j}$ 表示前 $i$ 个数，删除 $j$ 个之后能匹配的最多位数，分别处理 $j = 0$ 和 $j \neq 0$ 的情况进行状态转移。

### 最优关键思路或技巧
- **状态定义**：通过定义合适的状态，如前 $i$ 个数删除 $j$ 个数后满足条件的最大数量，将问题转化为动态规划问题。
- **状态转移**：根据删除或保留当前数的不同情况，推导出状态转移方程。
- **滚动数组优化**：在状态转移只与前一层状态有关时，使用滚动数组可以将空间复杂度从 $O(n^2)$ 优化到 $O(n)$。

### 拓展思路
同类型题或类似算法套路通常涉及序列操作和最值问题，例如在序列中进行插入、删除、替换等操作，以满足特定条件并求最小或最大代价。可以使用动态规划的方法，通过定义合适的状态和状态转移方程来解决。

### 推荐题目
- [P1048 采药](https://www.luogu.com.cn/problem/P1048)
- [P1216 [USACO1.5] 数字三角形 Number Triangles](https://www.luogu.com.cn/problem/P1216)
- [P1616 疯狂的采药](https://www.luogu.com.cn/problem/P1616)

### 个人心得
- **白鲟**：感慨自己昨天搞其他题没看这道题，结果开题秒解，体现出对题目难度的意外和自身能力的自信。
- **KSToki**：提到自己是老年人手速，差一分钟 A 这题，表达了对自己手速的无奈。 

---
处理用时：29.56秒
# 题目信息

# Permutation Game

## 题目描述

有一个长度为 $n$ 的仅为 $1\sim n$ 的序列，初始序列中所有的数均为红色。两个玩家依次进行以下三种操作中一种：

- 将某个数变成蓝色。
- 将所有蓝色的数重新排列（按照自己的意愿排列，红色不可进行排列，不必将所有的蓝色都交换位置）。
- 跳过此次操作。

两个玩家依次进行一次操作视为一个回合，游戏共进行 $100^{500}$ 回合。在游戏任何时刻，如果当前序列为 $\{1,2,3...,n\}$，则第一个操作的玩家胜利。如果当前序列为 $\{n,n-1,n-2...1\}$，则第二个玩家胜利。进行 $100^{500}$ 回合之后若还无人胜利，则平局。注意，两名玩家都以最优方案进行操作。他们会尽可能让自己胜利。

## 样例 #1

### 输入

```
4
4
1 2 4 3
3
2 3 1
5
3 4 5 2 1
6
1 5 6 3 2 4```

### 输出

```
First
Tie
Second
Tie```

# AI分析结果

### 题目内容重写
有一个长度为 $n$ 的仅为 $1\sim n$ 的序列，初始序列中所有的数均为红色。两个玩家依次进行以下三种操作中一种：

- 将某个数变成蓝色。
- 将所有蓝色的数重新排列（按照自己的意愿排列，红色不可进行排列，不必将所有的蓝色都交换位置）。
- 跳过此次操作。

两个玩家依次进行一次操作视为一个回合，游戏共进行 $100^{500}$ 回合。在游戏任何时刻，如果当前序列为 $\{1,2,3...,n\}$，则第一个操作的玩家胜利。如果当前序列为 $\{n,n-1,n-2...1\}$，则第二个玩家胜利。进行 $100^{500}$ 回合之后若还无人胜利，则平局。注意，两名玩家都以最优方案进行操作。他们会尽可能让自己胜利。

### 算法分类
**博弈论**

### 题解分析与结论
各题解的核心思路都是通过分析玩家需要标记的数的数量来判断谁会获胜或是否平局。主要思路是统计每个玩家需要标记的数的数量，并根据这些数量的关系来判断结果。

### 所选高分题解
#### 题解1：zajasi (5星)
**关键亮点**：
- 清晰地分析了每个玩家需要标记的数的数量，并通过比较这些数量来判断谁会获胜或是否平局。
- 代码简洁明了，逻辑清晰。

**核心代码**：
```cpp
int c1=0,c2=0,c3=0;
for(int i=1;i<=n;i++){
    c1+=a[i]!=i;
    c2+=(a[i]!=(n-i+1));
    if(a[i]!=i&&a[i]!=n-i+1)c3++;
}
int k=min(c1,c2);
c1-=k;
c2-=k;
if(c1==0){
    if(c3>c2)cout<<"Tie\n";
    else cout<<"First\n";
}
else{
    if(c3>=c1)cout<<"Tie\n";
    else cout<<"Second\n";
}
```
**实现思想**：统计每个玩家需要标记的数的数量，并根据这些数量的关系来判断结果。

#### 题解2：zeekliu (4星)
**关键亮点**：
- 通过统计每个玩家需要标记的数的数量，并根据这些数量的关系来判断结果。
- 代码简洁，逻辑清晰。

**核心代码**：
```cpp
if (cnt2+cnt3<=cnt1) cout<<"First"<<endl;
else if (cnt1+cnt3<cnt2) cout<<"Second"<<endl;
else cout<<"Tie"<<endl;
```
**实现思想**：统计每个玩家需要标记的数的数量，并根据这些数量的关系来判断结果。

#### 题解3：BLX32M_10 (4星)
**关键亮点**：
- 通过统计每个玩家需要标记的数的数量，并根据这些数量的关系来判断结果。
- 代码简洁，逻辑清晰。

**核心代码**：
```cpp
if (b >= a)
{
    if (b - a < c)
        printf("Tie\n");
    else
        printf("First\n");
}
else
{
    if (a - b <= c)
        printf("Tie\n");
    else
        printf("Second\n");
}
```
**实现思想**：统计每个玩家需要标记的数的数量，并根据这些数量的关系来判断结果。

### 最优关键思路或技巧
- **统计需要标记的数的数量**：通过统计每个玩家需要标记的数的数量，并根据这些数量的关系来判断谁会获胜或是否平局。
- **比较数量关系**：根据每个玩家需要标记的数的数量的比较，判断谁会获胜或是否平局。

### 可拓展之处
- 类似的问题可以通过统计每个玩家需要操作的数量，并根据这些数量的关系来判断结果。

### 推荐题目
1. [P2731 [USACO3.3]骑马修栅栏 Riding the Fences](https://www.luogu.com.cn/problem/P2731)
2. [P2732 [USACO3.3]骑马修栅栏 Riding the Fences](https://www.luogu.com.cn/problem/P2732)
3. [P2733 [USACO3.3]骑马修栅栏 Riding the Fences](https://www.luogu.com.cn/problem/P2733)

---
处理用时：37.43秒
# 题目信息

# Annual Ants' Gathering

## 题目描述

### 题面描述

给定一棵 $n$ 个点的树，每个点的初始点权为 1。你可以将一个点 $u$ 的点权转到点 $v$ 当且仅当 $u$ 的点权小于等于 $v$ 的点权。问是否可以通过若干次操作使一个点的点权为 $n$，即将所有点的点权集中在一个点上。

## 样例 #1

### 输入

```
7
5 1
3 2
4 6
3 6
7 1
1 3```

### 输出

```
YES```

## 样例 #2

### 输入

```
5
1 4
4 2
3 2
5 3```

### 输出

```
NO```

## 样例 #3

### 输入

```
6
4 5
5 6
6 1
2 6
3 2```

### 输出

```
YES```

# AI分析结果

### 题目内容重写
# 年度蚂蚁聚会

## 题目描述

### 题面描述

给定一棵 $n$ 个点的树，每个点的初始点权为 1。你可以将一个点 $u$ 的点权转到点 $v$ 当且仅当 $u$ 的点权小于等于 $v$ 的点权。问是否可以通过若干次操作使一个点的点权为 $n$，即将所有点的点权集中在一个点上。

## 样例 #1

### 输入

```
7
5 1
3 2
4 6
3 6
7 1
1 3```

### 输出

```
YES```

## 样例 #2

### 输入

```
5
1 4
4 2
3 2
5 3```

### 输出

```
NO```

## 样例 #3

### 输入

```
6
4 5
5 6
6 1
2 6
3 2```

### 输出

```
YES```

### 算法分类
贪心

### 题解分析与结论
该题的核心思想是通过贪心策略逐步将点权集中到一个点上。各题解的主要思路是通过删除度数为1的节点（叶子节点）来模拟点权的转移过程，确保每次转移的点权满足条件。难点在于如何高效地维护和更新节点的度数和点权，以及如何判断是否能够将所有点权集中到一个点上。

### 所选高分题解
#### 1. 作者：znszns (5星)
**关键亮点**：使用优先队列维护度数为1的节点，确保每次删除的点权最小，从而保证转移的合法性。代码清晰，逻辑严谨。
**核心代码**：
```cpp
priority_queue<pii,vector<pii>,greater<pii> > q;
for(int i=1;i<=n;i++) if(d[i]==1) q.push({val[i],i});
for(int i=1;i<n;i++) {
    u=q.top().se; q.pop(); st[u]=1;
    for(int j=h[u];~j;j=ne[j]) if(!st[e[j]]) v=e[j];
    if(val[v]<val[u]) return puts("NO");
    val[v]+=val[u]; d[v]--;
    if(d[v]==1) q.push({val[v],v});
}
puts("YES");
```
**核心思想**：通过优先队列每次取出点权最小的叶子节点，将其点权转移到相邻节点，并更新相邻节点的度数和点权。

#### 2. 作者：江户川·萝卜 (4星)
**关键亮点**：使用邻接表和优先队列，确保每次删除的叶子节点点权最小，逻辑清晰，代码简洁。
**核心代码**：
```cpp
priority_queue<pii,vector<pii>,greater<pii> > q;
for(int i=1;i<=n;i++) if(e[i].size()==1) q.push(mp(1,i));
for(int i=1;i<n;i++) {
    int p=q.top().se; q.pop(); int to=*e[p].begin();
    if(sz[p]>sz[to]) return puts("NO");
    sz[to]+=sz[p]; e[to].erase(p);
    if(e[to].size()==1) q.push(mp(sz[to],to));
}
puts("YES");
```
**核心思想**：通过优先队列每次取出点权最小的叶子节点，将其点权转移到相邻节点，并更新相邻节点的度数和点权。

### 最优关键思路
使用优先队列维护度数为1的节点，确保每次删除的点权最小，从而保证转移的合法性。通过逐步删除叶子节点并更新相邻节点的度数和点权，最终判断是否能够将所有点权集中到一个点上。

### 可拓展之处
类似的问题可以扩展到图的连通性、树的直径等问题，通过贪心策略逐步删除节点或边，判断图的某些性质。

### 推荐题目
1. [P3379 【模板】最近公共祖先（LCA）](https://www.luogu.com.cn/problem/P3379)
2. [P3388 【模板】割点（割顶）](https://www.luogu.com.cn/problem/P3388)
3. [P3384 【模板】树链剖分](https://www.luogu.com.cn/problem/P3384)

---
处理用时：33.10秒
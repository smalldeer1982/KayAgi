# 题目信息

# Online Meeting

## 题目描述

你有一个会议记录，想知道谁是主持人。假定主持人是在会上出席一直出现的人。

你要根据会议的进入和退出的消息确定谁是主持人。但会议记录可能只是一部分。

## 样例 #1

### 输入

```
5 4
+ 1
+ 2
- 2
- 1
```

### 输出

```
4
1 3 4 5 ```

## 样例 #2

### 输入

```
3 2
+ 1
- 2
```

### 输出

```
1
3 ```

## 样例 #3

### 输入

```
2 4
+ 1
- 1
+ 2
- 2
```

### 输出

```
0
```

## 样例 #4

### 输入

```
5 6
+ 1
- 1
- 3
+ 3
+ 4
- 4
```

### 输出

```
3
2 3 5 ```

## 样例 #5

### 输入

```
2 4
+ 1
- 2
+ 2
- 1
```

### 输出

```
0
```

# AI分析结果

### 题目内容
# 在线会议

## 题目描述
你有一份会议记录，想要知道谁是主持人。假定主持人是在会上一直出席的人。
你需要根据会议的进入和退出消息来确定谁是主持人。但会议记录可能只是一部分。

## 样例 #1
### 输入
```
5 4
+ 1
+ 2
- 2
- 1
```
### 输出
```
4
1 3 4 5 
```

## 样例 #2
### 输入
```
3 2
+ 1
- 2
```
### 输出
```
1
3 
```

## 样例 #3
### 输入
```
2 4
+ 1
- 1
+ 2
- 2
```
### 输出
```
0
```

## 样例 #4
### 输入
```
5 6
+ 1
- 1
- 3
+ 3
+ 4
- 4
```
### 输出
```
3
2 3 5 
```

## 样例 #5
### 输入
```
2 4
+ 1
- 2
+ 2
- 1
```
### 输出
```
0
```

### 算法分类
模拟

### 综合分析与结论
该题解通过对主持人可能出现的情况以及不可行操作进行细致分析来解题。思路清晰，对各种情况的判断条件及相应代码实现阐述较为详细，但代码是为解释思路现写，与实际代码有差异，且未给出完整参考代码，在代码可读性上有所欠缺。

### 所选的题解
- **星级**：3星
- **关键亮点**：全面总结主持人可能的情况（如全程无动作、做第一个动作、做最后一个动作）以及不可行操作（迟到、早退），并针对主持人可出去后马上进来这一特殊情况给出判断方法。
- **个人心得**：经过多次fst（可能是指竞赛中的“Failed System Test”，即系统测试失败），发现主持人可出去后马上进来这一容易忽略的点。

### 重点代码核心实现思想
通过对每个操作进行判断，根据不同情况更新表示人员状态的数组，如 `fl` 表示当前编号是否可当主持人，`tp` 表示有无迟到早退，`tq` 表示两个动作之间是否间隔等，最后根据这些数组判断哪些人可作为主持人。

### 关键代码片段
```cpp
if(c=='+'){
    if(pre==x&&t==0)now[++r]=x,tp[x]=0;
    if(pre!=x&&tp[x]==1)tq[x]=1;
    t++;
  ...
}
...
if(c=='-'){
    if(!v[x])r=0;
    else{
        if(i!=m)tp[x]=1;
        t--;
    }
	...
}
...
for(int i=1;i<=r;i++)
	if(!tp[now[i]]&&!tq[now[i]])fl[now[i]]=1;
```
此代码片段实现了对人员进出操作的处理及相关状态数组的更新，最后确定通过考察可作为主持人的人员。

### 通用建议与扩展思路
对于此类模拟题，关键在于全面考虑各种可能情况，在写代码前先梳理清楚逻辑。可以通过多列举特殊情况和边界条件来完善思路。类似题目可能会在条件判断上更加复杂，或者对数据规模有更高要求，这就需要在代码实现上考虑优化，如使用更合适的数据结构来提高操作效率。

### 洛谷相似题目推荐
 - P1046 [陶陶摘苹果](https://www.luogu.com.cn/problem/P1046)
 - P1909 [买铅笔](https://www.luogu.com.cn/problem/P1909)
 - P1085 [不高兴的津津](https://www.luogu.com.cn/problem/P1085) 

---
处理用时：39.09秒
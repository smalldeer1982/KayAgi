# 题目信息

# Jzzhu and Sequences

## 题目描述

Jzzhu has invented a kind of sequences, they meet the following property:

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF450B/24eb04dd3b6c3e1abcf8e078661c78665e8d1d86.png)You are given $ x $ and $ y $ , please calculate $ f_{n} $ modulo $ 1000000007 $ $ (10^{9}+7) $ .

## 说明/提示

In the first sample, $ f_{2}=f_{1}+f_{3} $ , $ 3=2+f_{3} $ , $ f_{3}=1 $ .

In the second sample, $ f_{2}=-1 $ ; $ -1 $ modulo $ (10^{9}+7) $ equals $ (10^{9}+6) $ .

## 样例 #1

### 输入

```
2 3
3
```

### 输出

```
1
```

## 样例 #2

### 输入

```
0 -1
2
```

### 输出

```
1000000006
```

# AI分析结果

### 题目重写
# Jzzhu和序列

## 题目描述
Jzzhu发明了一种序列，它们满足以下性质：
$f(i)=f(i - 1)+f(i + 1)$
给定 $x$ 和 $y$，请计算 $f_{n}$ 对 $1000000007$（$10^{9}+7$）取模的结果。

## 说明/提示
在第一个样例中，$f_{2}=f_{1}+f_{3}$，$3 = 2 + f_{3}$，$f_{3}=1$。
在第二个样例中，$f_{2}=-1$；$-1$ 对 $(10^{9}+7)$ 取模的结果为 $(10^{9}+6)$。

## 样例 #1
### 输入
```
2 3
3
```
### 输出
```
1
```

## 样例 #2
### 输入
```
0 -1
2
```
### 输出
```
1000000006
```

### 算法分类
数学

### 题解综合分析与结论
这些题解主要分为两种思路。一种是找规律，通过对递推式 $f(n)=f(n - 1)-f(n - 2)$ 进行计算，发现序列以6为周期循环，然后根据 $n\bmod6$ 的结果直接得出答案，时间复杂度为 $O(1)$。另一种是矩阵快速幂，将递推关系用矩阵乘法表示，通过矩阵快速幂优化计算，时间复杂度为 $O(\log n)$。找规律的方法思路和代码实现都较为简单直接；矩阵快速幂方法理论性更强，适用于更复杂的递推关系，但代码实现相对复杂。

### 所选的题解
- **作者：云浅知处 (5星)**
    - **关键亮点**：思路清晰，先推出递推式，再通过计算前几项找出以6为周期的循环规律，代码简洁明了，直接根据取模结果返回对应值。
    - **重点代码**：
```cpp
int f(int x){
    if(x%6==1)return a;
    if(x%6==2)return b;
    if(x%6==3)return b - a;
    if(x%6==4)return -a;
    if(x%6==5)return -b;
    if(x%6==0)return a - b;
}

int main(void){
    scanf("%d%d%d",&a,&b,&n);
    printf("%d\n",(f(n)%1000000007+1000000007)%1000000007);
    return 0;
}
```
    - **核心实现思想**：定义函数 `f` 根据 `x` 对6取模的结果返回对应的值，在 `main` 函数中读入数据，调用 `f` 函数并对结果取模输出。

- **作者：FQR_ (4星)**
    - **关键亮点**：不仅给出找规律的方法，还介绍了矩阵快速幂的解法，对两种常见方法都有清晰的阐述，帮助读者理解不同思路。
    - **找规律重点代码**：
```cpp
// 代码链接：https://codeforces.com/contest/450/submission/181641174
// 核心思想与云浅知处类似，根据取模结果输出对应值
```
    - **矩阵快速幂重点代码**：
```cpp
// 代码链接：https://codeforces.com/contest/450/submission/181641378
// 核心思想为通过矩阵乘法和矩阵快速幂计算结果
```
    - **核心实现思想 - 找规律**：同云浅知处，通过计算前几项找周期规律，根据取模结果输出。
    - **核心实现思想 - 矩阵快速幂**：先确定转移矩阵 $base$，通过矩阵快速幂计算 $base^{n - 1}$ 与初始矩阵 $\begin{bmatrix} x\\y\end{bmatrix}$ 的乘积，取结果矩阵中对应元素作为答案。

### 最优关键思路或技巧
找规律确定循环节的方法在本题中最为简洁高效，通过对递推式计算前几项，敏锐观察出循环周期，能极大简化计算。这种观察数列规律的思维方式在解决类似数列问题时非常实用。

### 拓展
同类型题通常围绕数列的递推关系展开，可能需要通过找规律、矩阵快速幂等方法求解。类似算法套路如在处理具有周期性的数列问题时，尝试计算前若干项寻找周期规律；对于复杂递推关系，考虑用矩阵乘法进行优化。

### 推荐题目
- [P1962 斐波那契数列](https://www.luogu.com.cn/problem/P1962)：经典的斐波那契数列问题，可通过递推或矩阵快速幂求解。
- [P3938 斐波那契](https://www.luogu.com.cn/problem/P3938)：同样是斐波那契数列相关，涉及取模运算和一些优化技巧。
- [P1349 广义斐波那契数列](https://www.luogu.com.cn/problem/P1349)：广义的斐波那契数列问题，需要根据给定的递推关系寻找解法。 

---
处理用时：41.01秒
# 题目信息

# Long Jumps

## 题目描述

Valery 是 Berland 学校的一名体育老师。学生们将参加跳远测试，但 Valery 丢失了他最喜欢的尺子！不过，Valery 没有失落，因为他找到了另一把尺子，它的长度为 $l$ 厘米。这个尺子上已经有 $n$ 个刻度，可以用来进行测量。

我们假设这些刻度是按照从尺子起始到结束的顺序编号的。第一个刻度与尺子的起点重合，表示原点。最后一个刻度与尺子的末尾重合，距离原点为 $l$。这把尺子可以表示为一个递增的数列 $a_1, a_2, ..., a_n$，其中 $a_i$ 表示第 $i$ 个刻度离原点的距离 ($a_1=0, a_n=l$)。

Valery 认为，如果存在一对整数 $i$ 和 $j$ ($1 \leq i \leq j \leq n$)，使得第 $i$ 个刻度和第 $j$ 个刻度之间的距离恰好等于 $d$，即 $a_j - a_i = d$，那么就可以用尺子测量 $d$ 厘米的距离。

根据规定，女生应该至少能够跳 $x$ 厘米，男生应该至少能够跳 $y$ 厘米 ($x < y$)。为了测试学生的能力，Valery 需要尺子能够测量出这两个距离 $x$ 和 $y$。

你的任务是确定最少需要增加多少个刻度，使得尺子能够测量这两个距离 $x$ 和 $y$。你可以在尺子上添加任何整数非负距离，且不超过尺子长度 $l$。

## 说明/提示

在第一个示例中，初始尺子无法测量 $230$ 厘米的距离。只需增加 $230$ 厘米的刻度，或者 $20$ 厘米的刻度就可以了。

在第二个示例中，尺子已经能够测量 $185$ 厘米和 $230$ 厘米的距离，因此无需增加新的刻度。

在第三个示例中，尺子只有初始和末尾两个刻度。为了能够测试学生的能力，我们需要增加 $185$ 和 $230$ 厘米的刻度。

## 样例 #1

### 输入

```
3 250 185 230
0 185 250
```

### 输出

```
1
230
```

## 样例 #2

### 输入

```
4 250 185 230
0 20 185 250
```

### 输出

```
0
```

## 样例 #3

### 输入

```
2 300 185 230
0 300
```

### 输出

```
2
185 230
```

# AI分析结果

### 题目内容
# 跳远

## 题目描述
瓦莱里（Valery）是贝兰（Berland）学校的一名体育老师。学生们即将参加跳远测试，然而瓦莱里弄丢了他最心爱的尺子！不过，他并未气馁，因为他找到了另一把长度为 \(l\) 厘米的尺子。这把尺子上已有 \(n\) 个刻度，可用于测量。

我们假定这些刻度是按照从尺子起始端到末端的顺序编号的。第一个刻度与尺子的起点重合，代表原点。最后一个刻度与尺子的末端重合，距离原点为 \(l\)。这把尺子可用一个递增数列 \(a_1, a_2, \cdots, a_n\) 表示，其中 \(a_i\) 表示第 \(i\) 个刻度到原点的距离（\(a_1 = 0\)，\(a_n = l\)）。

瓦莱里认为，如果存在一对整数 \(i\) 和 \(j\)（\(1 \leq i \leq j \leq n\)），使得第 \(i\) 个刻度和第 \(j\) 个刻度之间的距离恰好为 \(d\)，即 \(a_j - a_i = d\)，那么就能够用这把尺子测量出 \(d\) 厘米的距离。

根据规定，女生至少要能跳 \(x\) 厘米，男生至少要能跳 \(y\) 厘米（\(x < y\)）。为了测试学生们的能力，瓦莱里需要这把尺子能够测量出 \(x\) 和 \(y\) 这两个距离。

你的任务是确定最少需要增加多少个刻度，才能使尺子能够测量这两个距离 \(x\) 和 \(y\)。你可以在尺子上添加任意非负整数距离，且该距离不超过尺子长度 \(l\)。

## 说明/提示
在第一个示例中，初始尺子无法测量 \(230\) 厘米的距离。只需增加 \(230\) 厘米的刻度，或者 \(20\) 厘米的刻度就可以了。

在第二个示例中，尺子已经能够测量 \(185\) 厘米和 \(230\) 厘米的距离，因此无需增加新刻度。

在第三个示例中，尺子仅有初始和末尾两个刻度。为了能够测试学生的能力，我们需要增加 \(185\) 和 \(230\) 厘米的刻度。

## 样例 #1
### 输入
```
3 250 185 230
0 185 250
```
### 输出
```
1
230
```

## 样例 #2
### 输入
```
4 250 185 230
0 20 185 250
```
### 输出
```
0
```

## 样例 #3
### 输入
```
2 300 185 230
0 300
```
### 输出
```
2
185 230
```

### 算法分类
二分

### 综合分析与结论
该题解的核心思路是通过二分查找来判断尺子当前刻度能否测量出 \(x\) 和 \(y\) 这两个距离，然后根据不同情况确定最少需要增加的刻度数。其要点在于利用序列的单调性，通过枚举终点二分起点来高效判断是否存在满足条件的刻度对。难点在于处理各种找不到 \(x\) 和 \(y\) 的情况，例如考虑能否通过添加一个刻度满足条件，需分析 \(x + y\) 和 \(y - x\) 的情况，并且在判断 \(y - x\) 时要注意插入位置不能越界。

### 所选的题解
- **星级**：4星
  - **关键亮点**：利用二分查找优化判断过程，逻辑清晰地对不同情况进行分类讨论。
  - **重点代码**：
```cpp
inline int check(int len){
    int l,r,mid;
    for(int i = 2; i <= n; ++i){
        l = 1, r = i - 1;
        while(l <= r){
            mid = (l + r) >> 1;
            if(a[i] - a[mid] > len){
                l = mid + 1;
            }
            else if(a[i] - a[mid] < len){
                r = mid - 1;
            }
            else if(a[i] - a[mid] == len){
                return a[mid];
            }
        }
    }
    return -1;
}
```
核心实现思想：通过遍历尺子刻度，对每个终点刻度 \(a[i]\)，二分查找起点刻度 \(a[mid]\)，判断是否存在距离为 \(len\) 的刻度对，若存在则返回起点刻度，否则返回 -1。

### 最优思路或技巧
利用序列单调性进行二分查找，能够将判断是否存在满足条件刻度对的时间复杂度从 \(O(n^2)\) 降低到 \(O(n \log n)\)，提高了算法效率。同时，对不同找不到目标距离的情况进行全面且有条理的分类讨论，保证了结果的正确性。

### 拓展思路
同类型题通常围绕给定一些元素集合，通过添加最少元素使集合满足特定差值关系。类似算法套路是先利用数据的有序性进行高效查找，再对不满足条件的情况进行细致分类讨论。

### 洛谷题目推荐
- [P2249 查找 P1](https://www.luogu.com.cn/problem/P2249)：同样考查二分查找在有序数组中的应用。
- [P1873 砍树](https://www.luogu.com.cn/problem/P1873)：通过二分答案解决满足特定条件下的最值问题。
- [P2678 [NOIP2015 普及组] 跳石头](https://www.luogu.com.cn/problem/P2678)：利用二分查找确定满足条件的最小距离。 

---
处理用时：53.51秒
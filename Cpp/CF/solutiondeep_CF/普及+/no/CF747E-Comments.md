# 题目信息

# Comments

## 题目描述

网上有些罕见的文章发布时是没有评论功能的。而在 Polycarp 的网站上，每篇文章都有一片评论区。

在 Polycarp 的网站中，每条评论都是由英文大小写字母组成的非空字符串。这些评论呈现树状结构，意味着每条评论（除了最顶层的根评论）都有一个且仅有一个父评论。

当 Polycarp 想把评论保存到硬盘时，他会使用以下格式来记录每条评论：
- 首先，记录评论的内容；
- 接着，记录其子评论的数量（也就是回复的数目）；
- 最后，依照同样的方式记录这些子评论。

所有元素之间都用逗号分隔。同样地，最顶层的评论之间也用逗号分隔。对于以下的评论结构示意图：

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF747E/7ae7c2c94703e493268a07ff52889efe5206362d.png)

第一条评论写成 "hello,2,ok,0,bye,0"，第二条评论写成 "test,0"，第三条评论写成 "one,1,two,2,a,0,b,0"。完整的评论书写为："hello,2,ok,0,bye,0,test,0,one,1,two,2,a,0,b,0"。给定这种格式的评论区，按照以下方式重新输出：

- 先输出一个整数 $d$ —— 评论的最大嵌套深度；
- 然后输出 $d$ 行，第 $i$ 行表示嵌套深度为 $i$ 的评论；
- 在第 $i$ 行中，按它们在原始评论区的顺序输出第 $i$ 层的评论，使用空格隔开。

## 样例 #1

### 输入

```
hello,2,ok,0,bye,0,test,0,one,1,two,2,a,0,b,0
```

### 输出

```
3
hello test one 
ok bye two 
a b 
```

## 样例 #2

### 输入

```
a,5,A,0,a,0,A,0,a,0,A,0
```

### 输出

```
2
a 
A a A a A 
```

## 样例 #3

### 输入

```
A,3,B,2,C,0,D,1,E,0,F,1,G,0,H,1,I,1,J,0,K,1,L,0,M,2,N,0,O,1,P,0
```

### 输出

```
4
A K M 
B F H L N O 
C D G I P 
E J 
```

# AI分析结果

### 题目内容
# 评论

## 题目描述
网上有些罕见的文章发布时是没有评论功能的。而在 Polycarp 的网站上，每篇文章都有一片评论区。

在 Polycarp 的网站中，每条评论都是由英文大小写字母组成的非空字符串。这些评论呈现树状结构，意味着每条评论（除了最顶层的根评论）都有一个且仅有一个父评论。

当 Polycarp 想把评论保存到硬盘时，他会使用以下格式来记录每条评论：
- 首先，记录评论的内容；
- 接着，记录其子评论的数量（也就是回复的数目）；
- 最后，依照同样的方式记录这些子评论。

所有元素之间都用逗号分隔。同样地，最顶层的评论之间也用逗号分隔。对于以下的评论结构示意图：

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF747E/7ae7c2c94703e493268a07ff52889efe5206362d.png)

第一条评论写成 "hello,2,ok,0,bye,0"，第二条评论写成 "test,0"，第三条评论写成 "one,1,two,2,a,0,b,0"。完整的评论书写为："hello,2,ok,0,bye,0,test,0,one,1,two,2,a,0,b,0"。给定这种格式的评论区，按照以下方式重新输出：
- 先输出一个整数 $d$ —— 评论的最大嵌套深度；
- 然后输出 $d$ 行，第 $i$ 行表示嵌套深度为 $i$ 的评论；
- 在第 $i$ 行中，按它们在原始评论区的顺序输出第 $i$ 层的评论，使用空格隔开。

## 样例 #1
### 输入
```
hello,2,ok,0,bye,0,test,0,one,1,two,2,a,0,b,0
```
### 输出
```
3
hello test one 
ok bye two 
a b 
```

## 样例 #2
### 输入
```
a,5,A,0,a,0,A,0,a,0,A,0
```
### 输出
```
2
a 
A a A a A 
```

## 样例 #3
### 输入
```
A,3,B,2,C,0,D,1,E,0,F,1,G,0,H,1,I,1,J,0,K,1,L,0,M,2,N,0,O,1,P,0
```
### 输出
```
4
A K M 
B F H L N O 
C D G I P 
E J 
```

### 算法分类
深度优先搜索 DFS、广度优先搜索 BFS

### 综合分析与结论
目前仅一题解，该题解提出使用 DFS 读入数据，将字符串映射为数以处理重复串，设立虚拟根节点处理原森林的多个根，并同时处理深度 $d$。之后按题目要求用 BFS 序模拟输出。整体思路清晰，覆盖关键处理点，但缺乏详细步骤阐述和代码示例，一定程度影响理解。

### 所选的题解
- **星级**：3星
- **关键亮点**：提出用 DFS 读入并处理数据，BFS 序输出，考虑到重复串及多根情况处理。
- **个人心得**：无

### 重点代码及核心实现思想
无代码提供。核心思想是通过 DFS 按题目给定格式读入评论数据，处理过程中用字符串映射数处理重复串，设虚拟根节点处理多根情况并记录深度，最后用 BFS 按要求输出评论。

### 通用建议与扩展思路
对于此类树状结构数据处理题目，可深入理解树的遍历方式（如 DFS、BFS）及其应用场景。在代码实现上，注意边界条件处理，如多根情况、字符串处理等。相似套路包括处理类似树状结构的文件目录、家族族谱等数据的输入输出问题。

### 洛谷相似题目推荐
- [P1379 八数码难题](https://www.luogu.com.cn/problem/P1379)：涉及 BFS 搜索求解八数码问题，与本题 BFS 序输出有相似处。
- [P1126 机器人搬重物](https://www.luogu.com.cn/problem/P1126)：同样可利用 BFS 解决机器人移动问题，锻炼对 BFS 的应用。
- [P2324 骑士精神](https://www.luogu.com.cn/problem/P2324)：需要通过 DFS 剪枝等技巧解决棋盘移动问题，与本题 DFS 读入数据有类似搜索思想运用。 

---
处理用时：48.78秒
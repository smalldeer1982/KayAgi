# 题目信息

# Bitwise Formula

## 题目描述

Bob 最近对计算机中的位运算（AND、OR 和 XOR）产生了兴趣。他研究了这些运算的特性，并发明了一种新型游戏。

首先，Bob 选择一个整数 $m$，代表游戏的位数限制。这意味着游戏中所有参与的数字都由 $m$ 位构成。接着，他让 Peter 选择一个 $m$ 位的数。然后，Bob 根据这个数计算出 $n$ 个变量的值。每个变量的值要么是一个固定的 $m$ 位常量，要么是通过位运算得到的结果。运算的操作数可以是之前定义的变量，或者是 Peter 选择的那个数。最后，Peter 的得分为所有变量值的总和。

现在，Bob 想知道：Peter 应该选择什么数以得到可能的最低总得分？又该选择什么数以得到可能的最高总得分？如果有多种选择，应该输出 Peter 可以选择的最小那个数。

## 说明/提示

在第一个示例中，如果 Peter 选择数字 $011_2$，则 $a = 101_2$, $b = 011_2$, $c = 000_2$，变量值的总和为 $8$。如果他选择数字 $100_2$，则 $a = 101_2$, $b = 011_2$, $c = 111_2$，总和为 $15$。

对于第二个测试例，变量 $a$，$bb$，$cx$，$d$ 和 $e$ 的最小及最大总和均为 $2$，而这个总和并不受 Peter 选择的数字影响，因此 Peter 可以选择的最小目标数为 $0$。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
3 3
a := 101
b := 011
c := ? XOR b
```

### 输出

```
011
100
```

## 样例 #2

### 输入

```
5 1
a := 1
bb := 0
cx := ? OR a
d := ? XOR ?
e := d AND bb
```

### 输出

```
0
0
```

# AI分析结果

### 题目内容
# 位运算公式

## 题目描述
Bob最近对计算机中的位运算（与、或和异或）产生了兴趣。他研究了这些运算的特性，并发明了一种新型游戏。

首先，Bob选择一个整数 $m$，代表游戏的位数限制。这意味着游戏中所有参与的数字都由 $m$ 位构成。接着，他让Peter选择一个 $m$ 位的数。然后，Bob根据这个数计算出 $n$ 个变量的值。每个变量的值要么是一个固定的 $m$ 位常量，要么是通过位运算得到的结果。运算的操作数可以是之前定义的变量，或者是Peter选择的那个数。最后，Peter的得分为所有变量值的总和。

现在，Bob想知道：Peter应该选择什么数以得到可能的最低总得分？又该选择什么数以得到可能的最高总得分？如果有多种选择，应该输出Peter可以选择的最小那个数。

## 说明/提示
在第一个示例中，如果Peter选择数字 $011_2$，则 $a = 101_2$, $b = 011_2$, $c = 000_2$，变量值的总和为 $8$。如果他选择数字 $100_2$，则 $a = 101_2$, $b = 011_2$, $c = 111_2$，总和为 $15$。

对于第二个测试例，变量 $a$，$bb$，$cx$，$d$ 和 $e$ 的最小及最大总和均为 $2$，而这个总和并不受Peter选择的数字影响，因此Peter可以选择的最小目标数为 $0$。

 **本翻译由AI自动生成**

## 样例 #1
### 输入
```
3 3
a := 101
b := 011
c :=? XOR b
```
### 输出
```
011
100
```
## 样例 #2
### 输入
```
5 1
a := 1
bb := 0
cx :=? OR a
d :=? XOR?
e := d AND bb
```
### 输出
```
0
0
```
### 算法分类
贪心
### 综合分析与结论
这三道题解的核心思路都是利用每一位的独立性，通过按位贪心来解决问题。具体要点如下：
 - **思路**：均意识到对于所求的 $m$ 位数字，每一位对最终得分的影响是独立的，所以可以分别考虑每一位取 $0$ 和取 $1$ 时对总得分的贡献。
 - **算法要点**：对每一位进行枚举，计算该位取 $0$ 和取 $1$ 时所有变量值总和，根据总和大小决定该位在最小值和最大值中应取的值。若贡献相同，按题目要求最小值和最大值该位都取 $0$。
 - **解决难点**：主要难点在于如何根据给定的位运算表达式准确计算每一位取不同值时变量的总和。不同题解通过不同方式实现，如Python题解通过定义函数处理表达式和取值，C++题解通过结构体和函数模拟位运算过程。

三道题解整体质量相近，均未在思路清晰度、代码可读性、优化程度等方面展现突出优势，均不足4星。
### 通用建议与扩展思路
通用建议：在实现过程中，要注意对输入表达式的解析和位运算的准确模拟。可以提前规划好数据结构来存储变量和表达式信息，使代码逻辑更清晰。
扩展思路：此类题目可拓展到更复杂的位运算组合，或者增加更多限制条件，如变量之间的依赖关系等。解题时依然可从按位分析的角度出发，结合具体条件进行贪心策略的调整。
### 洛谷相似题目
 - [P1250 种树](https://www.luogu.com.cn/problem/P1250)：涉及贪心策略在实际场景中的应用，与本题按位贪心思路类似，需根据题目条件分析每个决策对结果的影响。
 - [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094)：同样运用贪心思想，通过合理分组来满足题目要求，有助于理解贪心算法的应用场景。
 - [P1199 [NOIP2010 普及组] 三国游戏](https://www.luogu.com.cn/problem/P1199)：需要分析游戏规则，利用贪心策略找出最优解，与本题一样需要对问题进行细致分析并确定贪心方向。 

---
处理用时：41.67秒
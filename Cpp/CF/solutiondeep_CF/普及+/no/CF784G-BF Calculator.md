# 题目信息

# BF Calculator

## 题目描述

在这个问题中，你要写一个可以生成[Brainfuck](https://en.wikipedia.org/wiki/Brainfuck)语言的代码以算出数学表达式值的生成器。

给你一个算术表达式，其中包括数字0~255以及加减号，你需要生成一个可以算出并输出算术表达式结果的Brainfuck代码

我们将用一个绝对标准的Brainfuck编译器来判断你的Brainfuck代码的正误。

- 有30000个位置供你使用。

- 一个位置用无字符8比特的位置储存0~255的整数。

- 不支持输入（即不能出现','请求输入），在本题中也并不需要。

## 说明/提示

你可以在网站[http://assets.codeforces.com/rounds/784/bf.cpp](http://assets.codeforces.com/rounds/784/bf.cpp)下载Brainfuck编译器。我们将用此测试你的Brainfuck代码。
```
（温馨提示（若有需要，酌量增加）
设指针为now=0，内存为arr[]={0}
在第一个样例中
分号#1：将arr[0]设为2后将now设为1
分号#2：将arr[1]设为3后将now设为2
分号#3：将now设为1
在arr[now]!=0时循环，运行分号#4、#5前后的内容
分号#4：将now减1
分号#5：将arr[now]加1后将now加一
分号#5后一个字符：将now[arr]减一
循环三次后退出循环，此时储存仅有arr[0]为非0整数5，now为1
分号#6：将now设为0
分号#6后：将arr[now]加上48后输出arr[now]所代表的字符，即'5'
代码遍历完成，程序结束
```
Translated by @tiger2005

## 样例 #1

### 输入

```
2+3
```

### 输出

```
++&gt;
+++&gt;
&lt;[&lt;+&gt;-]&lt;
++++++++++++++++++++++++++++++++++++++++++++++++.
```

## 样例 #2

### 输入

```
9-7
```

### 输出

```
+++++++++&gt;
+++++++&gt;
&lt;[&lt;-&gt;-]&lt;
++++++++++++++++++++++++++++++++++++++++++++++++.
```

# AI分析结果

### 题目内容
# BF计算器

## 题目描述
在这个问题中，你要写一个可以生成[Brainfuck](https://en.wikipedia.org/wiki/Brainfuck)语言的代码以算出数学表达式值的生成器。

给你一个算术表达式，其中包括数字0~255以及加减号，你需要生成一个可以算出并输出算术表达式结果的Brainfuck代码。

我们将用一个绝对标准的Brainfuck编译器来判断你的Brainfuck代码的正误。
- 有30000个位置供你使用。
- 一个位置用无字符8比特的位置储存0~255的整数。
- 不支持输入（即不能出现','请求输入），在本题中也并不需要。

## 说明/提示
你可以在网站[http://assets.codeforces.com/rounds/784/bf.cpp](http://assets.codeforces.com/rounds/784/bf.cpp)下载Brainfuck编译器。我们将用此测试你的Brainfuck代码。
```
（温馨提示（若有需要，酌量增加）
设指针为now=0，内存为arr[]={0}
在第一个样例中
分号#1：将arr[0]设为2后将now设为1
分号#2：将arr[1]设为3后将now设为2
分号#3：将now设为1
在arr[now]!=0时循环，运行分号#4、#5前后的内容
分号#4：将now减1
分号#5：将arr[now]加1后将now加一
分号#5后一个字符：将now[arr]减一
循环三次后退出循环，此时储存仅有arr[0]为非0整数5，now为1
分号#6：将now设为0
分号#6后：将arr[now]加上48后输出arr[now]所代表的字符，即'5'
代码遍历完成，程序结束
```
Translated by @tiger2005

## 样例 #1
### 输入
```
2+3
```
### 输出
```
++>
+++>
<[<+>-]<
++++++++++++++++++++++++++++++++++++++++++++++++.
```

## 样例 #2
### 输入
```
9-7
```
### 输出
```
+++++++++>
+++++++>
<[<->-]<
++++++++++++++++++++++++++++++++++++++++++++++++.
```

### 算法分类
数学

### 综合分析与结论
所有题解核心思路均为先计算表达式结果，再将结果转换为Brainfuck代码输出。计算表达式时，利用`cin`或`scanf`连符号读入整数直接累加。处理结果时，将结果拆分为数位，因结果与ASCII码有48的差值，输出时需对应加上48。各题解主要差异在于输出Brainfuck代码的方式及对前导零的处理。

### 所选的题解
- **作者：Catcats (5星)**
    - **关键亮点**：思路清晰，代码简洁。先计算表达式结果，再拆分结果数位，通过重载`*`运算符方便输出多个相同字符串，按位输出并处理前导零。
    - **重点代码**：
```cpp
string operator*(string s,int a){// 重载 *，使输出多个相同字符串更方便
    string res="";
    while(a--)res+=s;
    return res;
}
int main(){
    int x,ans=0;
    while(cin>>x)ans+=x;
    string add="+";
    int a=ans/100,b=ans/10%10,c=ans%10;// 分解
    if(ans>99)cout<<add*(a+48)<<".>";
    if(ans>9)cout<<add*(b+48)<<".>";
    cout<<add*(c+48)<<'.';
}
```
核心实现思想：通过`while(cin>>x)ans+=x;`计算表达式结果，拆分结果为百位`a`、十位`b`、个位`c`，利用重载运算符按位输出对应数量`+`及`.`，并根据数值判断是否输出前导零。
- **作者：rzh123 (4星)**
    - **关键亮点**：计算结果部分利用`scanf`带符号读入整数直接累加。输出部分深入理解Brainfuck语法，利用`[-]`清空字节空间，巧妙处理前导零，代码简洁高效。
    - **重点代码**：
```cpp
int x,s=0;
while(~scanf("%d",&x)){
    s+=x;
}
int a=s/100+48,
    b=s/10%10+48,
    c=s%10+48;
puts("[-]");
if(a>48){
    while(a--)putchar('+');
    puts(".[-]");
}
if(a>48||b>48){ 
    while(b--)putchar('+');
    puts(".[-]");
} 
while(c--)putchar('+');
puts(".[-]");
```
核心实现思想：`while(~scanf("%d",&x))s+=x;`计算结果，将结果转换为对应ASCII码值存储于`a`、`b`、`c`，先输出`[-]`清空空间，再按位判断并输出对应数量`+`、`.`及`[-]`处理前导零。
- **作者：Argon_Cube (4星)**
    - **关键亮点**：利用`cin`读入符号特性简化代码量，通过`string`构造函数直接构造含多个加号的字符串输出，简洁高效处理结果输出及前导零问题。
    - **重点代码**：
```cpp
int main(int argc,char *argv[],char *envp[]){
    int tmp,sum=0;
    while(cin>>tmp)
        sum+=tmp;
    if(sum/100)
        cout<<string(sum/100+48,'+')<<".>";
    if(sum/10%10||sum/100)
        cout<<string(sum/10%10+48,'+')<<".>";
    cout<<string(sum%10+48,'+')<<".>";
    return 0;
}
```
核心实现思想：`while(cin>>tmp)sum+=tmp;`计算结果，通过`string`构造函数按位输出对应数量`+`、`.`，并利用条件判断处理前导零。

### 最优关键思路或技巧
1. **输入处理**：利用`cin`或`scanf`连符号读入整数直接累加，简化表达式计算。
2. **Brainfuck输出优化**：如rzh123利用`[-]`清空字节空间，减少空间使用；Catcats重载运算符、Argon_Cube利用`string`构造函数，使代码简洁易读。

### 可拓展之处
此类题目可拓展到更复杂的表达式计算及不同编程语言的代码生成，类似算法套路为先计算结果，再按目标语言规则转换输出。

### 洛谷题目推荐
1. **P1001 A+B Problem**：基础的整数加法运算，可类比本题计算表达式结果部分。
2. **P1046 陶陶摘苹果（升级版）**：涉及简单数学运算与条件判断，类似本题对结果处理及条件判断部分。
3. **P1147 连续自然数和**：需要通过数学分析找到解题思路，与本题通过分析Brainfuck语法解决问题思路类似。 

---
处理用时：54.69秒
# 题目信息

# Leha and Function

## 题目描述

Leha喜欢各种各样奇怪的事。最近他喜欢上了函数$F(n,k)$ 。考虑所有集合$[1,2,\dots,n]$ 的有$k$ 个元素的子集。为这些子集找到其中最小的元素。$F(n,k)$  — 就是所有$k$ 个元素子集中的最小元素的数学期望。

但是仅仅这个函数还不够使他高兴。他想要在这上面做一些更有趣的事情。他的妈妈给他带来了两个数组$A$ 和$B$ ，每个都有$m$ 个整数。对于所有的$i,j$ （$1\leq i,j\leq m$ ）都有$a_i\geq b_j$ 。帮助Leha重新排列$A$ 数组来使得有最大的$\sum_{i=1}^m F(A_i',B_i)$ ，$A'$ 是重排后的数组。

## 样例 #1

### 输入

```
5
7 3 5 3 4
2 1 3 2 3
```

### 输出

```
4 7 3 5 3
```

## 样例 #2

### 输入

```
7
4 6 5 8 8 2 6
2 1 2 2 1 1 2
```

### 输出

```
2 6 4 5 8 8 6
```

# AI分析结果

### 题目内容
# Leha和函数

## 题目描述
Leha喜欢各种各样奇怪的事。最近他喜欢上了函数$F(n,k)$ 。考虑所有集合$[1,2,\dots,n]$ 的有$k$ 个元素的子集。为这些子集找到其中最小的元素。$F(n,k)$  — 就是所有$k$ 个元素子集中的最小元素的数学期望。

但是仅仅这个函数还不够使他高兴。他想要在这上面做一些更有趣的事情。他的妈妈给他带来了两个数组$A$ 和$B$ ，每个都有$m$ 个整数。对于所有的$i,j$ （$1\leq i,j\leq m$ ）都有$a_i\geq b_j$ 。帮助Leha重新排列$A$ 数组来使得有最大的$\sum_{i=1}^m F(A_i',B_i)$ ，$A'$ 是重排后的数组。

## 样例 #1
### 输入
```
5
7 3 5 3 4
2 1 3 2 3
```
### 输出
```
4 7 3 5 3
```

## 样例 #2
### 输入
```
7
4 6 5 8 8 2 6
2 1 2 2 1 1 2
```
### 输出
```
2 6 4 5 8 8 6
```

### 算法分类
数学

### 综合分析与结论
两题解核心思路均是先求出$F(n,k)$的表达式，再依据表达式确定$A$数组的重排策略。区别在于求$F(n,k)$表达式的方法不同，一位作者通过猜、理性证明、暴力推三种方式得出，另一位作者利用数学归纳法证明。在确定重排策略时，前者依据直观结论，后者使用排序不等式，本质都是让较大的$n$（即$A$数组元素）与较小的$k$（即$B$数组元素）配对。

### 所选的题解
 - **作者：素质玩家孙1超**  星级：4星
    - **关键亮点**：给出三种推导$F(n,k)$表达式的方式，思路全面，代码简洁明了展示核心逻辑。
    - **重点代码及核心实现思想**：
```cpp
struct th
{
    int now,id;
}c[Maxn];
inline bool cmp(th x,th y){return x.now<y.now;}
int n,m,a[Maxn],b[Maxn],d[Maxn];
int main()
{
    n=R();for(int i=1;i<=n;i++) d[i]=R();for(int i=1;i<=n;c[i].id=i,i++) c[i].now=R();
    sort(d+1,d+1+n);sort(c+1,c+1+n,cmp);
    for(int i=1;i<=n;i++)a[c[i].id]=d[n-i+1];
    for(int i=1;i<=n;i++)printf("%d ",a[i]);
}
```
核心实现思想是先对两个数组分别排序，然后将较大的$A$数组元素与较小的$B$数组元素对应赋值。
 - **作者：Rubidium_Chloride**  星级：4星
    - **关键亮点**：运用数学归纳法严谨证明$F(n,k)$的表达式，利用排序不等式确定重排策略，逻辑严谨。
    - **重点代码及核心实现思想**：
```cpp
n=read();for(int i=1;i<=n;i++) a[i]=-read();
for(int i=1;i<=n;i++) b[i]=(node){i,read()};
sort(a+1,a+n+1),sort(b+1,b+n+1);
for(int i=1;i<=n;i++) ans[b[i].id]=-a[i];
for(int i=1;i<=n;i++) printf("%lld ",ans[i]);
```
核心实现思想同样是对两个数组排序，通过结构体记录$B$数组元素位置，将排序后的$A$数组元素按规则赋值给结果数组。

### 最优关键思路或技巧
1. **数学推导能力**：准确推导出$F(n,k)=\frac{n + 1}{k + 1}$的表达式是解题关键。
2. **排序策略**：根据$F(n,k)$的表达式，利用排序规则让较大的$n$与较小的$k$配对以获取最大值。

### 可拓展之处
此类题目属于数学期望与数组重排结合的问题，类似套路是先求出关键函数表达式，再依据表达式确定数组元素的最优匹配策略。

### 洛谷相似题目推荐
1. P1280 [尼克的任务](https://www.luogu.com.cn/problem/P1280)，涉及时间安排与任务分配，需运用贪心或动态规划思想，与本题需确定最优策略有相似之处。
2. P1080 [国王游戏](https://www.luogu.com.cn/problem/P1080)，通过数学分析得出排序策略，和本题推导表达式后确定重排策略类似。
3. P2123 [皇后游戏](https://www.luogu.com.cn/problem/P2123)，同样是通过数学分析确定两个数组元素的最优排序方式，与本题思路相近。 

---
处理用时：43.67秒
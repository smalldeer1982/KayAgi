# 题目信息

# Lorry

## 题目描述

给定整数 $n,v$。  

有一辆载重量为 $v$ 的货车，准备运送两种物品。物品 A 的重量为 $1$，物体 B 的重量为 $2$，每个物品都有一个价值 $p_i$。求货车可以运送的物品的最大价值。

## 样例 #1

### 输入

```
3 2
1 2
2 7
1 3
```

### 输出

```
7
2
```

# AI分析结果



# Lorry

## 题目描述

给定整数 $n,v$。  

有一辆载重量为 $v$ 的货车，准备运送两种物品。物品 A 的重量为 $1$，物体 B 的重量为 $2$，每个物品都有一个价值 $p_i$。求货车可以运送的物品的最大价值，并输出所选物品的编号。

## 样例 #1

### 输入

```
3 2
1 2
2 7
1 3
```

### 输出

```
7
2
```

---

### 精选题解分析

#### 题解1：Heartlessly（★★★★★）
**核心思路**：
1. 按物品重量分为两类并降序排序
2. 预处理重量为2物品的前缀和数组
3. 枚举选取重量1物品的数量i，剩余空间全选重量2物品
4. 时间复杂度：$O(n \log n)$

**关键实现**：
```cpp
sort(t1, t1+cnt1);
sort(t2, t2+cnt2);
for(int i=0; i<=min(v,cnt1); i++){
    int j = min(cnt2, (v-i)/2);
    if(sum + pre[j] > ans){
        ans = sum + pre[j];
        pos1 = i, pos2 = j;
    }
    sum += t1[i].p;
}
```

#### 题解2：ahawzlc（★★★★☆）
**优化亮点**：
1. 使用pair结构存储价值与编号
2. 采用快读加速输入
3. 前缀和预处理方式与题解1类似

**代码片段**：
```cpp
for(re int i=0;i<=t1&&i<=v;i++){
    int j=min((v-i)>>1,t2);
    if(sum+num[j]>ans){
        ans=sum+num[j];
        maxi=i, maxj=j;
    }
    sum+=a[i].F;
}
```

#### 题解3：CrTsIr400（★★★★☆）
**拓展思路**：
1. 提出基数排序优化思路应对$n \le 10^7$场景
2. 通过拆解数值为多字节进行排序
3. 常规解法使用STL排序已足够高效

---

### 关键技巧总结
1. **分类贪心**：将物品按重量分类后分别排序，确保每次取价值最高
2. **前缀和优化**：预处理重量2物品的前缀和数组，快速计算任意数量的价值总和
3. **空间枚举法**：通过枚举重量1物品数量，将二维背包问题降为一维处理
4. **边界处理**：使用min函数约束物品数量，避免越界和无效计算

---

### 推荐练习题目
1. [P2240 部分背包问题](https://www.luogu.com.cn/problem/P2240) - 单位价值贪心
2. [P1208 混合牛奶](https://www.luogu.com.cn/problem/P1208) - 价格优先选择策略
3. [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094) - 双指针+贪心组合

---

### 调试经验摘录
1. **初始化为负无穷**：处理物品不足时自动排除无效方案（皎月半洒花）
2. **奇偶空间处理**：当总容量为奇数时先选一个重量1物品（灵茶山艾府）
3. **动态调整策略**：比较两个重量1物品与一个重量2物品的价值组合（Loner_Knowledge）
4. **输出编号处理**：使用vector存储选择路径，最后统一输出（Minecraft万岁）

---
处理用时：47.82秒
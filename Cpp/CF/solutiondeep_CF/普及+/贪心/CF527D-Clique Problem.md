# 题目信息

# Clique Problem

## 题目描述

数轴上有 $n$ 个点，第 $i$ 个点的坐标为 $x_i$，权值为  $w_i$。两个点 $i,j$ 之间存在一条边当且仅当 $abs(x_i-x_j)\geq w_i+w_j$ 。 你需要求出这张图的最大团的点数。

团的定义：两两之间有边的顶点集合。

## 样例 #1

### 输入

```
4
2 3
3 1
6 1
0 2
```

### 输出

```
3
```

# AI分析结果



### 题目重写

# 最大团问题

## 题目描述

数轴上有 $n$ 个点，第 $i$ 个点的坐标为 $x_i$，权值为 $w_i$。两个点 $i,j$ 之间存在一条边当且仅当 $|x_i - x_j| \geq w_i + w_j$。求这张图的最大团的点数。

团的定义：两两之间有边的顶点集合。

## 样例 #1

### 输入

```
4
2 3
3 1
6 1
0 2
```

### 输出

```
3
```

---

### 综合分析与结论

**核心思路**：将每个点转化为区间 $[x_i - w_i, x_i + w_i]$，问题等价于求互不重叠区间的最大数量。使用贪心算法，按右端点排序后依次选取不重叠区间。

**关键技巧**：
1. **问题转化**：将几何条件转换为区间覆盖问题
2. **排序策略**：按右端点升序排序（经典活动选择问题解法）
3. **贪心实现**：维护当前选中区间的右端点，线性扫描选择

---

### 精选题解

#### 1. NaCly_Fish（★★★★★）
**关键亮点**：
- 详细推导公式转化过程
- 结构体排序运算符重载实现优雅
- 代码可读性强，含详细注释

**核心代码**：
```cpp
struct node {
    int l, r;
    bool operator < (const node& nd) const {
        return r < nd.r;
    }
};
// 排序后贪心选取
int r = -inf;
for(int i=1; i<=n; ++i) {
    if(a[i].l >= r) {
        ++ans;
        r = a[i].r;
    }
}
```

#### 2. Siyuan（★★★★☆）
**关键亮点**：
- 代码简洁高效，使用索引数组优化
- 空间复杂度优化（无需结构体存储）

**核心片段**：
```cpp
bool cmp(int x, int y) {
    return r[x] < r[y];
}
// 通过索引数组排序
std::sort(id+1, id+n+1, cmp);
```

#### 3. Randyhoads（★★★★☆）
**亮点**：
- 代码极简，仅保留必要逻辑
- 直接使用结构体数组排序

**代码片段**：
```cpp
sort(t+1, t+n+1); // 结构体已重载运算符
int r = -(1<<30);
for(int i=1; i<=n; i++) {
    if(t[i].l >= r) {
        ans++;
        r = t[i].r;
    }
}
```

---

### 拓展与相似题目

1. **同类问题**：区间调度问题（如[P1803 凌乱的yyy](https://www.luogu.com.cn/problem/P1803)）
2. **变式思考**：允许区间端点相交时的最大选择数（需动态规划）
3. **推荐题目**：
   - [P1803 线段覆盖](https://www.luogu.com.cn/problem/P1803)
   - [CF1029C Maximal Intersection](https://codeforces.com/problemset/problem/1029/C)
   - [P2251 质量检测](https://www.luogu.com.cn/problem/P2251)（滑动窗口思想）

---

### 调试心得摘录

1. **凉城無愛**的调试经历：
   > "被第14个测试点坑死，发现排序策略错误，最终采用右端点排序解决"
   - **启示**：排序策略的正确性需严格验证

2. **青鸟_Blue_Bird**的思考：
   > "尝试用线段树+DP后，发现贪心即可解决，复杂度更优"
   - **教训**：优先考虑经典算法模型的适用性

3. **t162**的WA教训：
   > "错误地将当前区间与前一个比较而非维护的右端点，导致错误选择"
   - **总结**：贪心过程需要持续维护全局状态而非局部比较

---
处理用时：47.57秒
# 题目信息

# Frog Jumping

## 题目描述

对于给定的$a,b,k$，初始状态$x=0$，第$i$次操作满足以下规则：  
- $i$为奇数，$x=x+a$  
- $i$为偶数，$x=x-b$  

求$k$次操作后$x$的值

## 样例 #1

### 输入

```
6
5 2 3
100 1 4
1 10 5
1000000000 1 6
1 1 1000000000
1 1 999999999
```

### 输出

```
8
198
-17
2999999997
0
1
```

# AI分析结果



### 题目中文重写
#### 题目描述
对于给定的正整数$a,b,k$，初始位置$x=0$，进行$k$次跳跃操作：
- 第奇数次（第1、3、5...次）跳跃：$x = x + a$
- 第偶数次（第2、4、6...次）跳跃：$x = x - b$

求经过$k$次跳跃后$x$的值。

#### 输入格式
第一行输入测试用例数$t$，随后$t$行每行三个整数$a,b,k$。

#### 输出格式
输出$t$行，每行对应跳跃后的坐标。

#### 样例
**输入样例**
```
6
5 2 3
100 1 4
1 10 5
1000000000 1 6
1 1 1000000000
1 1 999999999
```
**输出样例**
```
8
198
-17
2999999997
0
1
```

---

### 算法分类
数学

---

### 题解综合分析
所有题解均采用数学公式推导法，核心思路是将跳跃过程分解为奇偶交替的跳跃对，通过分析跳跃次数奇偶性，推导出统一公式：
- 偶数次跳跃：总位移为$\frac{k}{2}(a-b)$
- 奇数次跳跃：总位移为$\frac{k-1}{2}(a-b)+a$

关键优化点：
1. **公式统一**：利用整数除法特性，将奇偶情况统一为`k//2*(a-b) + a*(k%2)`
2. **位运算加速**：使用`k>>1`代替`k//2`，`k&1`代替`k%2`
3. **类型处理**：全程使用`long long`避免溢出

---

### 精选题解（4星及以上）

#### 1. 作者：damage（4星）
**亮点**：
- 位运算优化表达式，代码极简
- 完整解释位运算与数学公式的等价性
- 核心代码仅需一行计算式

**核心代码**：
```cpp
printf("%lld\n", ((k&1ll) ? a : 0) + (a-b)*(k>>1ll));
```

#### 2. 作者：灵光一闪（4星）
**亮点**：
- 提出上取整思路，公式表达更直观
- 强调数据类型处理的重要性
- 代码结构简洁易懂

**核心公式**：
```cpp
ans = a*((c+1)/2) - b*(c/2);
```

#### 3. 作者：Chtholly_L（4星）
**亮点**：
- 分奇偶情况直白推导，适合数学基础薄弱的读者
- 代码结构清晰，无冗余操作
- 使用常规取模运算增强可读性

**核心代码**：
```cpp
if(k%2 == 0) 
    cout << k/2*(a-b) << endl;
else 
    cout << k/2*(a-b)+a << endl;
```

---

### 关键思路总结
1. **奇偶分组**：将跳跃过程分解为(a-b)的跳跃对，剩余奇数次补加a
2. **整数除法特性**：利用`k//2`自动向下取整的特性统一表达式
3. **位运算优化**：`k>>1`比`k/2`更高效，适用于大数量级计算
4. **类型安全**：全程使用`long long`防止溢出

---

### 同类题目推荐
1. [P1895 数字序列](https://www.luogu.com.cn/problem/P1895) - 数学递推
2. [P1014 Cantor表](https://www.luogu.com.cn/problem/P1014) - 数学规律分析
3. [P1255 数楼梯](https://www.luogu.com.cn/problem/P1255) - 递推与高精度

---

### 题解心得摘录
1. **damage**：  
   "注意答案要开long long" → 数据范围意识
2. **灵光一闪**：  
   "十年OI一场空，不开long long一场空" → 类型处理教训
3. **末置lzy**：  
   "CF不开long long绝对炸" → 竞赛实战经验

---
处理用时：47.97秒
# 题目信息

# Reachable Numbers

## 题目描述

有一个函数$f(x)$，效果是将$x+1$后，去掉末尾所有的$0$，例如：

$f(599)=6$，因为$599+1=600→60→6$

$f(7)=8$，因为$7+1=8$

$f(9)=1$，因为$9+1=10→1$

$f(10099)=101$，因为$10099+1=10100→1010→101$

我们可以多次进行函数$f(x)$的运算，从而让一个数$x$转换为另一个数，例如$10098$可以转换为$102$，因为$f(f(f(10098)))=f(f(10099))=f(101)=102$。

你需要做的是给你一个数$n$，求出$n$经过多次函数$f(x)$的计算，能转换为几个不同的数（包括自身）？

## 样例 #1

### 输入

```
1098
```

### 输出

```
20
```

## 样例 #2

### 输入

```
10
```

### 输出

```
19
```

# AI分析结果



### 中文题目重写
**可达数**

给定一个函数$f(x)$，其作用是将$x$加1后去掉末尾所有的0。例如：
- $f(599)=6$（599+1=600→去掉末尾0→60→去掉末尾0→6）
- $f(9)=1$（9+1=10→去掉末尾0→1）

多次应用$f(x)$可将一个数转换为一系列不同的数。给定$n$，求经过多次变换能得到的不同数的个数（包括自身）。

---

### 算法分类
**数学**

---

### 题解对比与结论
#### 核心思路
1. **数学分析法**：通过分析数字的每一位贡献，直接计算结果。例如，每个非最高位的数字能贡献`9 - 当前位值`种不同数。
2. **循环剪枝法**：当数字降至个位数后，后续变换必然得到1-9的所有数，总贡献固定为9次。
3. **集合模拟法**：直接模拟变换过程，用集合去重统计次数。

#### 最优解法总结
**数学分析法**（water_tomato）以O(位数)的时间复杂度直接计算，无需循环，效率最高。其核心公式为：
- 总结果 = 10（初始贡献） + ∑(9 - 每一位非最高位的值)
- 特判单数字情况，避免重复计数。

---

### 高评分题解推荐
#### 1. water_tomato 的数学分析法（5星）
**关键亮点**：通过数学推导，将问题转化为数字各位的贡献计算，时间复杂度O(logn)，代码简洁高效。
```cpp
#include<bits/stdc++.h>
using namespace std;
int num,a[15],cnt,ans=10; // 初始贡献为10（自身+最高位9种）
int main(){
    scanf("%d",&num);
    while(num){ // 分解数字到数组
        a[++cnt]=num%10;
        num/=10;
    }
    if(cnt==1) ans--; // 单数字特判
    for(int i=1;i<cnt;i++) // 计算非最高位的贡献
        ans += 9 - a[i];
    printf("%d\n",ans);
    return 0;
}
```

#### 2. Zekrom 的循环剪枝法（4星）
**关键亮点**：发现个位数后的固定贡献规律，循环处理高位部分，时间复杂度O(logn)。
```cpp
int main(){
    int n=read(),cnt=0;
    while(n>=10){ // 处理到个位数
        n++; // 加1去0
        while(n%10==0) n/=10;
        cnt++;
    }
    printf("%d\n",cnt+9); // 高位次数 + 个位9种
}
```

#### 3. Kisaragi_77 的集合模拟法（4星）
**关键亮点**：直接模拟过程，代码直观易理解，适合快速验证。
```cpp
set<int> s;
int main(){
    int x; cin>>x;
    s.insert(x);
    for(;;){
        x++; while(x%10==0) x/=10; // 加1去0
        if(s.count(x)) break; // 重复时终止
        s.insert(x);
    }
    cout<<s.size();
}
```

---

### 拓展与技巧
**关键技巧**：数字问题中，优先分析各位的数学性质，寻找可计算的贡献规律，避免暴力枚举。

**相似题目推荐**：
1. [P1217 回文质数](https://www.luogu.com.cn/problem/P1217)（数字性质分析）
2. [P1553 数字反转（升级版）](https://www.luogu.com.cn/problem/P1553)（数字变换处理）
3. [P1012 拼数](https://www.luogu.com.cn/problem/P1012)（数字排列的最优构造）

**个人心得摘录**：
- *“直接模拟可能被大数据卡常，数学推导才是降维打击”* —— water_tomato
- *“循环到个位数后固定+9次，关键在于发现这一隐藏性质”* —— Zekrom

---
处理用时：158.86秒
# 题目信息

# Divide it!

## 题目描述

给你一个整数$n$

你可以对这个数进行任意多次（可以为$0$）如下的操作

1. 如果$n$是$2$的倍数，把$n$替换成$\frac{n}{2}$
2. 如果$n$是$3$的倍数，把$n$替换成$\frac{2n}{3}$
3. 如果$n$是$5$的倍数，把$n$替换成$\frac{4n}{5}$

举个例子，你可以通过操作$1$把$30$变成$15$，用操作$2$把$30$变成$20$，用操作$3$把$30$变成$24$

你的任务是找到把$n$变成$1$的最少操作次数，或者说不可能做到

你需要回答$q$个独立的询问

## 样例 #1

### 输入

```
7
1
10
25
30
14
27
1000000000000000000
```

### 输出

```
0
4
6
6
-1
6
72
```

# AI分析结果

### 题目内容
# 分解它！

## 题目描述
给你一个整数$n$。
你可以对这个数进行任意多次（可以为$0$）如下的操作：
1. 如果$n$是$2$的倍数，把$n$替换成$\frac{n}{2}$。
2. 如果$n$是$3$的倍数，把$n$替换成$\frac{2n}{3}$。
3. 如果$n$是$5$的倍数，把$n$替换成$\frac{4n}{5}$。

举个例子，你可以通过操作$1$把$30$变成$15$，用操作$2$把$30$变成$20$，用操作$3$把$30$变成$24$。

你的任务是找到把$n$变成$1$的最少操作次数，或者说明不可能做到。
你需要回答$q$个独立的询问。

## 样例 #1
### 输入
```
7
1
10
25
30
14
27
1000000000000000000
```
### 输出
```
0
4
6
6
-1
6
72
```

### 算法分类
模拟

### 综合分析与结论
这些题解思路大致相同，核心都是根据题目给定的操作规则进行模拟。难点在于判断何时无法将$n$变为$1$，大部分题解都发现若$n$含有除$2$、$3$、$5$以外的质因数则无法达成目标。不同点在于具体实现方式，部分题解是循环判断$n$能否被$2$、$3$、$5$整除并进行相应操作，部分题解是分别统计质因数$2$、$3$、$5$的操作次数来计算总操作数。

### 通用建议与扩展思路
1. **思路优化**：可以深入理解操作对数字质因数的影响，像Kubic的题解通过分析操作对质因数的增减，直接统计各类质因数对应的操作次数，优化了模拟过程，减少不必要的循环判断。
2. **代码实现**：在代码实现上，注意边界条件的处理，如$n$初始为$1$的情况；合理使用数据类型，由于$n$范围是$1\leq n\leq 10^{18}$，需使用`long long`。同时，可通过学习不同题解的代码结构，优化自己的代码风格，提高代码可读性。
3. **拓展方向**：同类型题目通常围绕数字的特定变换规则，求达到某种目标状态的最少步骤或判断能否达成。类似算法套路是先分析操作对数字性质（如质因数、奇偶性等）的影响，再据此设计模拟过程或优化方案。

### 洛谷相似题目
1. **P1028 [NOIP2001 普及组] 数的计算**：给定自然数$n$，按照特定规则生成新数并计数，与本题类似，需根据规则模拟计算过程。
2. **P1217 [USACO1.5] 回文质数 Prime Palindromes**：判断满足回文且为质数的数，涉及对数字特性的判断与模拟搜索过程。
3. **P1075 [NOIP2012 普及组] 质因数分解**：对给定数字进行质因数分解，和本题判断数字质因数组成有相似之处。 

---
处理用时：29.25秒
# 题目信息

# Letters Shop

## 题目描述

字母商店的橱窗其实是一个由 $n$ 个小写字母组成的字符串 $s$！店如其名，这家店就是卖字母的。

字母商店卖的东西很奇怪，卖的方式更奇怪，它只从左往右卖，意思是说，你只能买这个字符串 $s$ 的前缀。

你有 $m$ 个好基友，第 $i$ 个的名字叫做 $t_i$。他们听说了这家店，都打算来买点字母，来拼出自己的名字，当然买来的字母是可以被打乱顺序或者干脆不用的。他们都想知道至少要买下几个字母才能拼出自己的名字。

举几个例子

- $s="arrayhead" , t_i="arya"$时，必须买下$"\underline{array}head"$ $5$个字母

- $s="arrayhead" , t_i="harry"$时，必须买下$"\underline{arrayh}ead"$ $6$个字母

- $s="arrayhead" , t_i="ray"$时，必须买下$"\underline{array}head"$ $5$个字母

- $s="arrayhead" , t_i="r"$时，必须买下$"\underline{ar}rayhead"$ $2$个字母

- $s="arrayhead" , t_i="areahydra"$时，必须买下$"\underline{arrayhead}"$ $9$个字母

字母商店的字母很齐全，所有的朋友肯定都能拼出自己的名字。

要注意的是，你的朋友们都只是在Doing [window shopping](https://baike.baidu.com/item/%E6%A9%B1%E7%AA%97%E8%B4%AD%E7%89%A9/9473660?fr=aladdin&fromid=8209896&fromtitle=Window+shopping)。他们只要你帮他们算出答案，并不会真正买下这些字母。

## 样例 #1

### 输入

```
9
arrayhead
5
arya
harry
ray
r
areahydra
```

### 输出

```
5
6
5
2
9
```

# AI分析结果

### 题目内容
# 字母商店

## 题目描述
字母商店的橱窗实际上是一个由 $n$ 个小写字母组成的字符串 $s$！店如其名，这家店就是卖字母的。
字母商店卖的东西很奇特，售卖方式更是奇特，它只从左往右卖，也就是说，你只能购买这个字符串 $s$ 的前缀。
你有 $m$ 个好朋友，第 $i$ 个朋友的名字叫做 $t_i$。他们听闻了这家店，都打算来买点字母，以拼出自己的名字，当然，买来的字母可以打乱顺序或者干脆不用。他们都想知道至少要买下几个字母才能拼出自己的名字。
举几个例子：
 - 当 $s = "arrayhead"$，$t_i = "arya"$ 时，必须买下 $"\underline{array}head"$ 5 个字母。
 - 当 $s = "arrayhead"$，$t_i = "harry"$ 时，必须买下 $"\underline{arrayh}ead"$ 6 个字母。
 - 当 $s = "arrayhead"$，$t_i = "ray"$ 时，必须买下 $"\underline{array}head"$ 5 个字母。
 - 当 $s = "arrayhead"$，$t_i = "r"$ 时，必须买下 $"\underline{ar}rayhead"$ 2 个字母。
 - 当 $s = "arrayhead"$，$t_i = "areahydra"$ 时，必须买下 $"\underline{arrayhead}"$ 9 个字母。
字母商店的字母很齐全，所有朋友肯定都能拼出自己的名字。
需要注意的是，你的朋友们都只是在橱窗购物（window shopping）。他们只要你帮忙算出答案，并不会真正买下这些字母。

## 样例 #1
### 输入
```
9
arrayhead
5
arya
harry
ray
r
areahydra
```
### 输出
```
5
6
5
2
9
```

### 算法分类
字符串

### 综合分析与结论
这些题解主要围绕如何高效找出能拼出目标字符串所需的最短前缀长度。多数题解采用预处理主串信息，再针对每个询问串进行匹配的思路。不同点在于预处理方式和匹配策略：
 - **桶 + 位置记录**：部分题解利用桶记录主串每个字母出现次数及位置，遍历询问串时对比并更新最大位置。
 - **前缀和 + 二分**：有的通过前缀和记录主串前 $i$ 位各字母个数，对询问串统计需求后二分答案。
 - **链表**：有题解用链表记录相同字母下一个位置，从后向前遍历询问串找满足位置。

### 通用建议与扩展思路
通用思路是预处理主串信息，减少询问时计算量。可拓展到类似字符串匹配场景，如求多个子串在主串中最早出现位置等。优化方向包括减少空间占用、降低时间复杂度。对于大数据量，可考虑更高效数据结构或算法。

### 相似知识点洛谷题目
 - [P1308 统计单词数](https://www.luogu.com.cn/problem/P1308)
 - [P1502 窗口的星星](https://www.luogu.com.cn/problem/P1502)
 - [P3376 【模板】网络最大流](https://www.luogu.com.cn/problem/P3376) 

---
处理用时：28.12秒
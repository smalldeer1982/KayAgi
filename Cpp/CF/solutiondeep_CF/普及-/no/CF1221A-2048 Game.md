# 题目信息

# 2048 Game

## 题目描述

You are playing a variation of game 2048. Initially you have a multiset $ s $ of $ n $ integers. Every integer in this multiset is a power of two.

You may perform any number (possibly, zero) operations with this multiset.

During each operation you choose two equal integers from $ s $ , remove them from $ s $ and insert the number equal to their sum into $ s $ .

For example, if $ s = \{1, 2, 1, 1, 4, 2, 2\} $ and you choose integers $ 2 $ and $ 2 $ , then the multiset becomes $ \{1, 1, 1, 4, 4, 2\} $ .

You win if the number $ 2048 $ belongs to your multiset. For example, if $ s = \{1024, 512, 512, 4\} $ you can win as follows: choose $ 512 $ and $ 512 $ , your multiset turns into $ \{1024, 1024, 4\} $ . Then choose $ 1024 $ and $ 1024 $ , your multiset turns into $ \{2048, 4\} $ and you win.

You have to determine if you can win this game.

You have to answer $ q $ independent queries.

## 说明/提示

In the first query you can win as follows: choose $ 512 $ and $ 512 $ , and $ s $ turns into $ \{1024, 64, 1024\} $ . Then choose $ 1024 $ and $ 1024 $ , and $ s $ turns into $ \{2048, 64\} $ and you win.

In the second query $ s $ contains $ 2048 $ initially.

## 样例 #1

### 输入

```
6
4
1024 512 64 512
1
2048
3
64 512 2
2
4096 4
7
2048 2 2048 2048 2048 2048 2048
2
2048 4096
```

### 输出

```
YES
YES
NO
NO
YES
YES
```

# AI分析结果

### 题目内容
# 2048游戏

## 题目描述
你正在玩一个2048游戏的变体。最初，你有一个包含n个整数的多重集s。这个多重集中的每个整数都是2的幂次方。

你可以对这个多重集执行任意次数（可能为零次）的操作。

在每次操作中，你从s中选择两个相等的整数，将它们从s中移除，并将它们的和插入到s中。

例如，如果s = {1, 2, 1, 1, 4, 2, 2}，并且你选择整数2和2，那么多重集就变为{1, 1, 1, 4, 4, 2}。

如果你能使数字2048属于你的多重集，你就赢了。例如，如果s = {1024, 512, 512, 4}，你可以这样获胜：选择512和512，你的多重集变为{1024, 1024, 4}。然后选择1024和1024，你的多重集变为{2048, 4}，你就赢了。

你必须确定你是否能赢得这个游戏。

你必须回答q个独立的查询。

## 说明/提示
在第一个查询中，你可以这样获胜：选择512和512，s变为{1024, 64, 1024}。然后选择1024和1024，s变为{2048, 64}，你就赢了。

在第二个查询中，s最初就包含2048。

## 样例 #1
### 输入
```
6
4
1024 512 64 512
1
2048
3
64 512 2
2
4096 4
7
2048 2 2048 2048 2048 2048 2048
2
2048 4096
```
### 输出
```
YES
YES
NO
NO
YES
YES
```
### 算法分类
数学

### 题解综合分析与结论
这些题解主要围绕判断能否通过给定操作在多重集中得到2048展开。多数题解思路基于：大于2048的数对合成2048无贡献，只考虑小于等于2048的数，若它们的和大于等于2048则能合成2048，原因是所有数为2的幂次，根据等幂次相加规律可证明。叶ID的题解通过统计各幂次出现次数并模拟合并过程判断。整体看，思路相近，主要差异在实现方式和证明解释详细程度。

### 所选的题解
- **作者：灵光一闪 (5星)**
    - **关键亮点**：代码简洁，对思路证明详细，通过举例和二进制概念说明只要有效数字和大于等于2048就能合成2048。
    - **个人心得**：无
    - **重点代码**：
```cpp
int main(){
    int T;
    cin>>T;
    while(T--){
        int a,ans=0,n;
        cin>>n;
        for(int i=0;i<n;i++){
            cin>>a;
            if(a>2048){
                continue;
            }
            else{
                ans+=a;
            }
        }
        if(ans>=2048){
            puts("YES");
        }
        else{
            puts("NO");
        }
    }
    return 0;
}
```
    - **核心实现思想**：遍历输入数字，忽略大于2048的数，累加小于等于2048的数，根据累加和判断能否合成2048。
- **作者：YunJ (5星)**
    - **关键亮点**：明确指出是贪心算法，利用等幂次相加公式$\sum_{i=0}^{n}2^i=2^{i + 1}-1$辅助说明思路，逻辑清晰。
    - **个人心得**：无
    - **重点代码**：
```cpp
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        int n;
        scanf("%d",&n);
        int sum=0,yx=0,f=0;
        for(int i=1;i<=n;i++)
        {
            int x;
            scanf("%d",&x);
            if(x>2048) continue;
            sum+=x;
        }
        if(sum>=2048) puts("YES");
        else puts("NO");
    }
}
```
    - **核心实现思想**：与灵光一闪类似，遍历输入，忽略大于2048的数，累加小于等于2048的数，根据和判断结果。
- **作者：叶ID (4星)**
    - **关键亮点**：通过统计每个数（用对数表示幂次）出现次数，模拟从低幂次到高幂次合并过程判断能否合成2048，方法独特。
    - **个人心得**：无
    - **重点代码**：
```cpp
signed main() {
    ios::sync_with_stdio(false);
    int T;
    cin>>T;
    while(T--) {
        for(int i=0;i<=11;i++) st[i] = 0;
        int n;
        cin>>n;
        while(n--) {
            int x;
            cin>>x;
            st[Log2(x)] ++;
        }
        for(int i=0;i<11;i++) {
            st[i+1] += st[i]/2;
        }

        if(st[11]) cout<<"YES\n";
        else cout<<"NO\n";
    }
    cout.flush();
}
```
    - **核心实现思想**：初始化统计数组，遍历输入记录各幂次出现次数，按规则模拟合并，根据最终2048对应的幂次出现次数判断结果。

### 最优关键思路或技巧
利用所有数是2的幂次这一特性，通过分析等幂次相加规律，忽略大于2048的数，仅考虑小于等于2048数的和来判断能否合成2048，简化问题求解。

### 可拓展思路
此类题可拓展到其他基于特定规则的数字合并问题，或对合并结果有特定要求的场景，同样可从数字特性和合并规则入手分析。

### 洛谷相似题目推荐
- P1031 [NOIP2002 普及组] 均分纸牌
- P1223 排队接水
- P1090 [NOIP2004 提高组] 合并果子 

---
处理用时：87.29秒
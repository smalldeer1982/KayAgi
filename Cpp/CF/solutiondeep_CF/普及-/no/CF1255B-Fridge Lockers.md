# 题目信息

# Fridge Lockers

## 题目描述

## 题意翻译



现在有$n$人，每人都拥有1个冰箱。现提供$m$条铁链，每条铁链可以连接两个冰箱，且只有这两个冰箱的主人可以解锁这条铁链。



只有冰箱上所有铁链都被解锁后，才能打开这个冰箱，如果一个冰箱被铁链加固后只有它的主人可以独自打开它，那么我们称这个冰箱是“私有的”。



另外，如果只有2个冰箱，那么无论有多少条铁链，两个冰箱都不是“私有的”，因为这两个人都可以独自打开对方的冰箱。



在图例中有4个冰箱和5条铁链，所有冰箱都是“私有的”。1号冰箱的主人可以解锁连接1-2和连接1-4的铁链，1号冰箱只能被它的主人独自打开，或者被2号和4号同时打开。



每个冰箱都有一个重量，记为$a_1,a_2,a_3,\ldots,a_n$。如果要给u号和v号冰箱用铁链加固，需要花费$a_u+a_v$元。两个冰箱之间可以有多条铁链加固。



请求出，在将$m$条铁链全部被使用后，所有冰箱是否可能均为“私有的”，如果可能，那么求出最小花费是多少。

## 样例 #1

### 输入

```
3
4 4
1 1 1 1
3 1
1 2 3
3 3
1 2 3
```

### 输出

```
8
1 2
4 3
3 2
4 1
-1
12
3 2
1 2
3 1```

# AI分析结果

### 题目内容
# 冰箱锁具

## 题目描述

### 题意翻译
现在有$n$人，每人都拥有1个冰箱。现提供$m$条铁链，每条铁链可以连接两个冰箱，且只有这两个冰箱的主人可以解锁这条铁链。

只有冰箱上所有铁链都被解锁后，才能打开这个冰箱，如果一个冰箱被铁链加固后只有它的主人可以独自打开它，那么我们称这个冰箱是“私有的”。

另外，如果只有2个冰箱，那么无论有多少条铁链，两个冰箱都不是“私有的”，因为这两个人都可以独自打开对方的冰箱。

在图例中有4个冰箱和5条铁链，所有冰箱都是“私有的”。1号冰箱的主人可以解锁连接1 - 2和连接1 - 4的铁链，1号冰箱只能被它的主人独自打开，或者被2号和4号同时打开。

每个冰箱都有一个重量，记为$a_1,a_2,a_3,\ldots,a_n$。如果要给u号和v号冰箱用铁链加固，需要花费$a_u + a_v$元。两个冰箱之间可以有多条铁链加固。

请求出，在将$m$条铁链全部被使用后，所有冰箱是否可能均为“私有的”，如果可能，那么求出最小花费是多少。

## 样例 #1
### 输入
```
3
4 4
1 1 1 1
3 1
1 2 3
3 3
1 2 3
```
### 输出
```
8
1 2
4 3
3 2
4 1
-1
12
3 2
1 2
3 1
```

### 算法分类
数学

### 综合分析与结论
这些题解的核心思路较为一致，均先判断无解情况，再处理有解情况。
 - **无解情况判断**：
    - 当$n < 3$时，题目明确指出$n = 2$时两个冰箱不是“私有的”，$n = 1$显然也不符合题意。
    - 当$m < n$时，无法使每个点（冰箱）的度数都大于等于2，即不能让每个冰箱都被至少两条铁链连接，从而不满足“私有”条件。
 - **有解情况处理**：当$m \geq n$且$n \geq 3$时，要使所有冰箱“私有”且花费最小，应构成一个简单环。此时花费为冰箱总重量的两倍，因为形成环时每个冰箱的重量会在连接它的两条铁链花费中各计算一次。

各题解在思路和代码实现上差异不大，主要区别在于代码风格、变量命名以及一些细节处理。

### 通用建议与扩展思路
 - **通用建议**：题解整体质量尚可，但部分题解代码注释较少，可适当增加注释以提高可读性。对于条件判断的依据，如$n < 3$和$m < n$导致无解的原因，可在代码中以注释形式进一步说明。
 - **扩展思路**：此类题目属于图论与数学结合的问题，可拓展到更复杂的图结构，如带权有向图，或者增加限制条件，如铁链不能重复连接某些冰箱等。解题时依旧从分析点和边的关系入手，确定满足条件的图结构，进而求解。

### 相似知识点洛谷题目
 - [P1141 01迷宫](https://www.luogu.com.cn/problem/P1141)：涉及图的连通性判断，与本题判断图是否能满足特定条件有相似之处。
 - [P1330 封锁阳光大学](https://www.luogu.com.cn/problem/P1330)：通过对图中节点性质的分析来解决问题，类似本题对冰箱“私有”条件的分析。
 - [P1304 哥德巴赫猜想](https://www.luogu.com.cn/problem/P1304)：需要对数字进行分类讨论并运用数学知识求解，和本题对$n$、$m$不同情况分类讨论求解思路类似。 

---
处理用时：45.17秒
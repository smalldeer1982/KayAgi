# 题目信息

# Captain Flint and Crew Recruitment

## 题目描述

如果一个正整数能写成两个不同质数的积，那么我们称它为类质数。

给定一个自然数 $n$，请问是否能将 $n$ 写成四个**互不相同**的正整数的和，并满足这四个正整数中**至少**有三个是类质数。如果能，请给出一种方案。

## 样例 #1

### 输入

```
7
7
23
31
36
44
100
258```

### 输出

```
NO
NO
YES
14 10 6 1
YES
5 6 10 15
YES
6 7 10 21
YES
2 10 33 55
YES
10 21 221 6```

# AI分析结果

### 题目内容
#### Captain Flint and Crew Recruitment
1. **题目描述**：如果一个正整数能写成两个不同质数的积，那么我们称它为类质数。给定一个自然数 $n$，请问是否能将 $n$ 写成四个**互不相同**的正整数的和，并满足这四个正整数中**至少**有三个是类质数。如果能，请给出一种方案。
2. **样例 #1**
    - **输入**：
```
7
7
23
31
36
44
100
258
```
    - **输出**：
```
NO
NO
YES
14 10 6 1
YES
5 6 10 15
YES
6 7 10 21
YES
2 10 33 55
YES
10 21 221 6
```

### 算法分类
构造

### 综合分析与结论
这些题解主要分为两种思路。一种是houpingze的暴力枚举法，通过埃氏筛预处理质数，然后枚举四个数并判断是否满足至少三个数为类质数的条件，同时通过提前判断部分数是否为类质数进行剪枝优化。另一种思路是其他大部分作者采用的构造法，利用最小的几个类质数（如6、10、14、15），通过对给定的 $n$ 进行简单计算和特判来构造满足条件的四个数。暴力枚举法思路直接但时间复杂度高，构造法巧妙利用类质数特性，简洁高效。整体来看，构造法的题解在思路清晰度、代码可读性及优化程度上表现更优。

### 所选的题解
1. **作者：Thomas_Cat (赞：2)  星级：5星**
    - **关键亮点**：思路简洁清晰，直接利用最小的类质数构造答案，通过简单判断和特判快速得出结果，代码简短高效。
    - **重点代码及核心思想**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
    int t;
    cin>>t;
    while(t--){
        int n;
        cin>>n;
        if(n<=30) cout<<"NO"<<endl;
        if(n==36||n==40||n==44) cout<<"YES"<<endl<<"6 10 15 "<<n-31<<endl;
        else cout<<"YES"<<endl<<"6 10 14 "<<n-30<<endl;
    }
    return 0;
}
```
核心思想是先判断 $n$ 是否小于等于30，若小于等于则输出“NO”；否则，对于 $n$ 为36、40、44的情况，输出“YES”及“6 10 15 $n - 31$”，其他情况输出“YES”及“6 10 14 $n - 30$” 。利用最小类质数构造满足条件的四个数。
2. **作者：HC20050615 (赞：1)  星级：4星**
    - **关键亮点**：同样采用构造法，对题意分析清晰，详细阐述了选择最小类质数构造答案及处理数字重复情况的思路。
    - **重点代码及核心思想**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int t;
int main()
{
	cin>>t;
	for(int i=1;i<=t;i++)
	{
		int n;
		cin>>n;
		if(n<=30)
		{
			cout<<"NO"<<endl;
		}
		else
		{
			if(n==36||n==40||n==44)
			{
				cout<<"YES"<<" "<<6<<" "<<10<<" "<<15<<" "<<n-31<<endl;
			}
			else
			{
				cout<<"YES"<<" "<<6<<" "<<10<<" "<<14<<" "<<n-30<<endl;
			}
		}
	}
	return 0;
}
```
核心思想与Thomas_Cat类似，先判断 $n$ 范围，再针对特殊值 $n$ 为36、40、44进行特判，输出相应的满足条件的四个数。
3. **作者：PanH (赞：1)  星级：4星**
    - **关键亮点**：清晰阐述解题思路，从发现最小类质数到考虑数字重复问题并给出解决方案，逻辑连贯。
    - **重点代码及核心思想**：
```cpp
#include<bits/stdc++.h>
using namespace std;
template<class T>inline void read(T &x)
{
	x=0;int f=0;char ch=getchar();
	while(!isdigit(ch))	f=ch=='-',ch=getchar();
	while(isdigit(ch))	x=(x<<1)+(x<<3)+(ch^48),ch=getchar();
	x=f?-x:x;
}
int main()
{
	int T;read(T);
	while(T--)
	{
		int n;read(n);
		if(n<=30)	puts("NO");
		else
		{
			int x=n-30;
			if(x==14||x==6||x==10)
			{
				puts("YES");
				cout<<"6 10 15 "<<n-31<<endl;
			}
			else
			{
				puts("YES");
				cout<<"6 10 14 "<<n-30<<endl;
			}
		}
	}
}
```
核心思想也是通过判断 $n$ 与30的大小关系，对于 $n$ 大于30的情况，再判断 $n - 30$ 是否与最小类质数重复，从而输出满足条件的四个数。

### 最优关键思路或技巧
利用最小类质数构造满足条件的四个数，并对可能出现的数字重复情况进行特判处理。这种构造法避免了复杂的枚举和判断，大大降低了时间复杂度，提高解题效率。

### 可拓展之处
同类型题可考察类似的数字构造问题，比如改变类质数的定义，或者改变数字个数及条件等。类似算法套路是在一些需要构造满足特定条件的数字组合问题中，先寻找最小或最基础的满足部分条件的数字，再通过简单运算和特判来构造完整答案。

### 洛谷题目推荐
1. [P1147 连续自然数和](https://www.luogu.com.cn/problem/P1147)：通过数学分析和构造解决连续自然数求和问题。
2. [P1085 不高兴的津津](https://www.luogu.com.cn/problem/P1085)：根据给定条件构造符合要求的方案。
3. [P1909 买铅笔](https://www.luogu.com.cn/problem/P1909)：利用贪心构造出最省钱的购买方案。 

---
处理用时：47.38秒
# 题目信息

# Sum of Cubes

## 题目描述

给您一个正整数  $x$ ，问这个正整数能否拆分成两个立方数之和。

也就是说，是否存在  $1\le a, b$ 满足  $a^3+b^3=x$ 。

## 样例 #1

### 输入

```
7
1
2
4
34
35
16
703657519796```

### 输出

```
NO
YES
NO
NO
YES
YES
YES```

# AI分析结果

### 题目内容
# 立方和

## 题目描述
给您一个正整数  $x$ ，问这个正整数能否拆分成两个立方数之和。

也就是说，是否存在  $1\le a, b$ 满足  $a^3+b^3=x$ 。

## 样例 #1
### 输入
```
7
1
2
4
34
35
16
703657519796
```
### 输出
```
NO
YES
NO
NO
YES
YES
YES
```

### 算法分类
枚举

### 综合分析与结论
这些题解的核心思路都是利用 $x$ 的范围较小（$1\leq x\leq10^{12}$，则 $\sqrt[3]{x}\leq10^4$）这一特性，通过枚举一个数的立方，再判断剩余部分是否也为立方数来解决问题。不同之处主要在于判断剩余部分是否为立方数的方法：
 - **直接开立方判断**：如“冰糖鸽子”和“_caiji_”的题解，使用 `pow` 或 `cbrt` 函数开立方，需注意 `pow` 函数可能存在精度问题，“冰糖鸽子”通过尝试 `pow(xxx,1.0/3)+1` 解决；“_caiji_”使用 `cbrt` 并特判结果为0的情况。
 - **预处理立方数**：像“EDqwq”“清烛”“registerGen”“唐一文”“云浅知处”“henrytb”的题解，先预处理出一定范围内（$1$ 到 $10000$）的立方数，存入 `map` 或 `set` 等容器，然后通过查找判断剩余部分是否为立方数。
 - **二分查找**：“xh39”的题解通过二分查找来确定立方根，利用立方根的单调性，在 $1$ 到 $\min(10000,a)$ 的范围内二分查找立方根。

### 所选的题解
 - **“_caiji_”题解**：★★★★
    - **关键亮点**：思路清晰直接，利用 `cbrt` 函数判断立方数，代码简洁明了，复杂度为 $O(T\sqrt[3]{x})$ 可轻松通过。
    - **核心代码**：
```cpp
void solve(){
    for(long long a=1;a<=cbrt(x);a++){
        long long b=x-a*a*a;
        long long tmp=cbrt(b);
        if(tmp*tmp*tmp==b&&tmp!=0){
            puts("YES");
            return ;
        }
    }
    puts("NO");
}
```
核心实现思想：从 $1$ 枚举到 $\sqrt[3]{x}$，对每个 $a$，计算 $x - a^3$ 并判断其立方根的立方是否等于自身且立方根不为0，若是则说明存在满足条件的 $a$ 和 $b$。
 - **“zplqwq”题解**：★★★★
    - **关键亮点**：同样采用简单直接的枚举思路，使用 `cbrt` 函数开立方，对判断条件有清晰注释，代码可读性较好。
    - **核心代码**：
```cpp
while(T--){
    int x;
    cin>>x;
    for(int i=1;i<=cbrt(x);i++){
        int j=x-i*i*i;
        if(i*i*i+(int)cbrt(j)*(int)cbrt(j)*(int)cbrt(j)==x and (int)cbrt(j)>0){
            cout<<"Yes"<<endl;
            flag=1;
            break;
        }
    }
    if(flag==0){
        cout<<"No"<<endl;
    }
    flag=0;
}
```
核心实现思想：枚举 $a$，计算 $x - a^3$ 得到 $j$，判断 $a^3$ 与 $j$ 的立方根的立方之和是否为 $x$ 且立方根大于0。

### 最优关键思路或技巧
利用 $x$ 的范围确定枚举边界，减少不必要的计算。在判断剩余部分是否为立方数时，使用 `cbrt` 函数比 `pow` 函数更简便且不易出错，同时注意特判立方根为0的情况。预处理立方数并使用 `map` 或 `set` 查找也是一种有效的方法，但会增加一定的空间复杂度和时间复杂度中的对数因子。

### 可拓展之处
同类型题可考虑拓展到判断一个数能否拆分成多个次方数之和，或在不同数域内进行类似判断。类似算法套路是在数据范围较小时，通过合理的枚举和判断来解决问题，同时要注意数值计算中的精度问题和边界条件。

### 洛谷题目推荐
 - [P1164 小A点菜](https://www.luogu.com.cn/problem/P1164)：通过枚举菜品价格来判断能否凑出给定金额，与本题枚举思路类似。
 - [P1036 [NOIP2002 普及组] 选数](https://www.luogu.com.cn/problem/P1036)：需要枚举数字组合并判断其和是否为质数，同样运用枚举思想。
 - [P1909 买铅笔](https://www.luogu.com.cn/problem/P1909)：枚举不同包装铅笔的购买数量，找到花费最少的方案，也是基于枚举的思路解决问题。 

---
处理用时：57.81秒
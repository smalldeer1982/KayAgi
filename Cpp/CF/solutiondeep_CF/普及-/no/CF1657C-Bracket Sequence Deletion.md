# 题目信息

# Bracket Sequence Deletion

## 题目描述

### 题目翻译

LBW 有一个长度为 $n$ 的由括号组成的字符串，他每次要选择一个前缀并将其从字符串中删除。

这个前缀至少要满足以下两点要求：

+ 这个前缀是一个合法括号序列。
+ 此前缀是长度大于等于 $2$ 的回文串。

一直这样做，直到无法执行。

LBW 想知道最多能执行的次数与此时剩下的字符数。

## 说明/提示

$1 \le T \le 10^4$

$1 \le n \le 5 \times 10^5$

## 样例 #1

### 输入

```
5
2
()
3
())
4
((((
5
)((()
6
)((()(```

### 输出

```
1 0
1 1
2 0
1 0
1 1```

# AI分析结果

### 题目内容
# 括号序列删除

## 题目描述

### 题目翻译
LBW 有一个长度为 $n$ 的由括号组成的字符串，他每次要选择一个前缀并将其从字符串中删除。

这个前缀至少要满足以下两点要求：
- 这个前缀是一个合法括号序列。
- 此前缀是长度大于等于 $2$ 的回文串。

一直这样做，直到无法执行。

LBW 想知道最多能执行的次数与此时剩下的字符数。

## 说明/提示
$1 \le T \le 10^4$
$1 \le n \le 5 \times 10^5$

## 样例 #1
### 输入
```
5
2
()
3
())
4
((((
5
)((()
6
)((()(
```
### 输出
```
1 0
1 1
2 0
1 0
1 1
```

### 算法分类
模拟

### 题解综合分析与结论
所有题解思路核心均为根据字符串首字符进行分类讨论，若首字符为`(`，则无论第二个字符是`(`还是`)`，长度为2的前缀均满足条件；若首字符为`)`，则寻找下一个`)`，两者及中间字符构成满足条件的前缀。各题解在实现细节上略有不同，如输入输出方式、循环条件判断等，但整体思路和算法要点一致，解决难点均在于理解并应用给定的前缀删除条件。

### 所选的题解
- **xh001（3星）**
  - **关键亮点**：思路阐述清晰，代码简洁明了，使用`string`类型的相关操作，便于理解和实现。
  - **重点代码**：
```cpp
while(s.size())
{
    if(s[0]=='(')
    {
        if(s.size()<=1) break;
        s.erase(0,2);
        sum++;
    }
    else
    {
        ll i=1;
        while(s[i]!=')')
        {
            i++;
            if(i>=s.size())
            {
                i=-1;
                break;
            }
        }
        if(i==-1) break;
        else sum++;
        s.erase(0,i+1);
    }
}
```
  - **核心实现思想**：通过`while`循环不断检查字符串，根据首字符分类处理，满足条件则更新字符串并计数，不满足则退出循环。
- **CodeMao（1星）**
  - **关键亮点**：思路表述简洁，采用快速读入输出优化，代码结构较为清晰。
  - **重点代码**：
```cpp
for(len=0;len<n-1;ans++) 
    if(s[len]=='(') len+=2;
    else{
        p=len+1;
        while(p<n&&s[p]!=')') p++;
        if(p==n) break;
        else len=p+1;
    }
```
  - **核心实现思想**：利用`for`循环遍历字符串，按首字符判断，满足条件更新长度`len`和操作数`ans`，不满足则退出循环。
- **zhongcy（1星）**
  - **关键亮点**：对问题的分析较为准确，代码实现简洁，使用标准库函数进行输入输出。
  - **重点代码**：
```cpp
while(i<n-1)
{
    if(s[i]=='(')
        i+=2;
    else
    {
        int pos=i+1;
        while(pos<n&&s[pos]!=')') pos++;
        if(pos==n)
            break;
        i=pos+1;
    }
    ans++;
}
```
  - **核心实现思想**：通过`while`循环遍历字符串，根据首字符分类，满足条件更新索引`i`和操作数`ans`，不满足则退出循环。

### 最优关键思路或技巧
直接根据字符串首字符进行分类模拟，利用简单的循环和条件判断，快速定位满足条件的前缀并进行处理，无需复杂的数据结构或算法优化。

### 可拓展之处
同类型题可关注对字符串特定子串的操作与判断，类似算法套路为根据给定的子串条件，对字符串进行遍历和条件判断，通过计数、更新索引等方式解决问题。

### 洛谷相似题目
- [P1004 方格取数](https://www.luogu.com.cn/problem/P1004)：涉及对二维方格数据的操作与处理，与本题类似，需按特定规则遍历并计算。
- [P1909 买铅笔](https://www.luogu.com.cn/problem/P1909)：通过对不同方案的比较选择，模拟解决实际问题，和本题按条件处理字符串思路类似。
- [P5732 杨辉三角](https://www.luogu.com.cn/problem/P5732)：通过模拟杨辉三角的生成规则来解决问题，同样是基于给定规则进行模拟计算。 

---
处理用时：36.90秒
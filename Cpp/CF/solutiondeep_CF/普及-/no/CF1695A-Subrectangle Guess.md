# 题目信息

# Subrectangle Guess

## 题目描述

Michael 和 Joe 在玩一个游戏。一共有 $t$ 次，每次 Michael 给出一个 $n\times m$ 的矩阵和一对 $h,w$，Jeo 在 Michael 看不见的情况下盖住任意一个 $h\times w$ 的子矩阵，问 Michael 这个子矩阵中最大的数是多少。Michael 答对即为获胜。

现在，我们对每一次给出的矩阵都要找出一对最小的 $h,w$，使得 Michael 一定能赢。

## 说明/提示

在第一组数据中，矩阵是 $1\times 1$ 的，因此对于 $h,w$，唯一可能的选择是 $h=1，w=1$，给出了 $h\cdot w=1$ 的面积。

描述中展示了第二组数据给出的矩阵。可以证明，只要 $h=3$，$w=3$，迈克尔就能保证胜利，而只要 $h\cdot w\le 8$，任何选择都不能保证胜利。

对于所有数据，$1\le t\le 20,1\le n,m\le 40,-10^9\le 矩阵中的元素\le 10^9$。

## 样例 #1

### 输入

```
3
1 1
3
4 4
2 12 6 10
3 15 16 4
1 13 8 11
14 7 9 5
2 3
-7 5 2
0 8 -3```

### 输出

```
1
9
4```

# AI分析结果

### 题目内容
# 子矩形猜测

## 题目描述
迈克尔（Michael）和乔（Joe）在玩一个游戏。一共有 $t$ 次，每次迈克尔给出一个 $n\times m$ 的矩阵和一对 $h,w$，乔在迈克尔看不见的情况下盖住任意一个 $h\times w$ 的子矩阵，问迈克尔这个子矩阵中最大的数是多少。迈克尔答对即为获胜。

现在，我们对每一次给出的矩阵都要找出一对最小的 $h,w$，使得迈克尔一定能赢。

## 说明/提示
在第一组数据中，矩阵是 $1\times 1$ 的，因此对于 $h,w$，唯一可能的选择是 $h=1，w=1$，给出了 $h\cdot w=1$ 的面积。

描述中展示了第二组数据给出的矩阵。可以证明，只要 $h=3$，$w=3$，迈克尔就能保证胜利，而只要 $h\cdot w\le 8$，任何选择都不能保证胜利。

对于所有数据，$1\le t\le 20,1\le n,m\le 40,-10^9\le 矩阵中的元素\le 10^9$。

## 样例 #1
### 输入
```
3
1 1
3
4 4
2 12 6 10
3 15 16 4
1 13 8 11
14 7 9 5
2 3
-7 5 2
0 8 -3
```
### 输出
```
1
9
4
```
### 算法分类
数学

### 题解综合分析与结论
所有题解思路基本一致，核心都是通过找到矩阵中的最大值及其位置，来确定能保证包含该最大值的最小子矩阵的尺寸 $h$ 和 $w$。难点在于理解如何根据最大值位置确定子矩阵尺寸，各题解均指出，设最大值位置为 $(x,y)$，则 $h = \max(x,n - x + 1)$，$w = \max(y,m - y + 1)$，最终输出 $h \cdot w$。部分题解考虑到可能存在多个最大值的情况，取满足条件的最小乘积。各题解质量相近，均围绕核心思路展开，代码实现也较为基础，无明显突出的优化等亮点，整体质量均未达到4星。

### 通用建议与扩展思路
通用建议：在解决此类问题时，关键在于清晰理解问题本质，找到问题核心与已知条件（如矩阵最大值位置）的联系。代码实现上，注意多组数据时变量的初始化。
扩展思路：同类型题目可能会拓展到三维矩阵，或者改变判定获胜的条件，如要求子矩阵的和最大等。类似算法套路在于通过确定关键元素（如最大值、最小值等）的位置，来确定满足特定条件的最小区域。

### 相似知识点洛谷题目
1. P1085 [NOIP2004 普及组] 不高兴的津津：通过分析时间安排找到满足条件的时间区间，与本题通过关键元素位置确定区域类似。
2. P1909 [NOIP2016 普及组] 买铅笔：根据不同包装铅笔价格，选择最省钱方案，同样是基于一定条件找最优解。
3. P5723 【深基4.例13】质数口袋：通过对数字条件判断（是否为质数），选择放入口袋的数字，和本题通过判断最大值位置确定子矩阵类似。 

---
处理用时：26.05秒
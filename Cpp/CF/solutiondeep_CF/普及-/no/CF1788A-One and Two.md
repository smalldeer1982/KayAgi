# 题目信息

# One and Two

## 题目描述

# One and Two


给你一个数列 $ a_1, a_2, \ldots, a_n $ . 数列中的每一个数的值要么是 $ 1 $ 要么是 $ 2 $ .
找到一个最小的正整数 $ k $，使之满足：
- $ 1 \leq k \leq n-1 $ , and
- $ a_1 \cdot a_2 \cdot \ldots \cdot a_k = a_{k+1} \cdot a_{k+2} \cdot \ldots \cdot a_n $ .

## 说明/提示

就是找一个最小的整数 $k$,使满足 $k$ 及其前面的乘积和其之后的乘积相等。

## 样例 #1

### 输入

```
3
6
2 2 1 2 1 2
3
1 2 1
4
1 1 1 1```

### 输出

```
2
-1
1```

# AI分析结果

### 题目内容
# One and Two

## 题目描述

# One and Two

给你一个数列 $ a_1, a_2, \ldots, a_n $ 。数列中的每一个数的值要么是 $ 1 $ 要么是 $ 2 $ 。
找到一个最小的正整数 $ k $，使之满足：
- $ 1 \leq k \leq n - 1 $ ，且
- $ a_1 \cdot a_2 \cdot \ldots \cdot a_k = a_{k + 1} \cdot a_{k + 2} \cdot \ldots \cdot a_n $ 。

## 说明/提示

就是找一个最小的整数 $k$，使满足 $k$ 及其前面的乘积和其之后的乘积相等。

## 样例 #1

### 输入
```
3
6
2 2 1 2 1 2
3
1 2 1
4
1 1 1 1
```

### 输出
```
2
-1
1
```
### 算法分类
前缀和

### 综合分析与结论
这些题解的核心思路都是利用数列仅由1和2组成，1对乘积无影响这一特性，通过统计2的个数来解决问题。大部分题解使用前缀和数组记录前i个数中2的个数，然后遍历寻找满足前后两部分2的个数相等的位置k。部分题解在遍历前先对2的总个数进行奇偶判断，奇数则直接输出-1，偶数再进行后续操作。整体思路较为直接，主要难点在于避免直接乘积导致的数据溢出问题，通过关注2的个数巧妙解决。

### 通用建议与扩展思路
解决此类问题时，要善于观察数据特点，利用特殊性质简化计算。对于类似需要统计连续子序列特征的题目，前缀和是常用的优化手段。同类型题目可拓展到其他仅包含特定有限值且需对连续子序列进行某种判断或计算的场景，依然可以考虑利用这些值的特性结合前缀和等方法求解。

### 洛谷相似题目
- [P1115 最大子段和](https://www.luogu.com.cn/problem/P1115)：同样是对连续子序列进行计算，不过是求和的最值问题，可利用前缀和思想辅助求解。
- [P3397 地毯](https://www.luogu.com.cn/problem/P3397)：通过前缀和处理二维区域的统计问题，与本题利用前缀和处理一维序列有相似之处。
- [P1387 最大正方形](https://www.luogu.com.cn/problem/P1387)：虽然涉及动态规划，但前缀和在处理某些子问题时可优化计算，与本题优化思路有共通点。 

---
处理用时：25.77秒
# 题目信息

# Indivisible

## 题目描述

给定一个整数 $n$。

你需要构造一个一个长度为 $n$ 的排列 $A$，使得对于任意一对 $l,r$（$1\le l<r\le n$），都满足 $A_l+A_{l+1}+\dots+A_r$ 不可以被 $r-l+1$ 整除。

## 样例 #1

### 输入

```
3
1
2
3```

### 输出

```
1
1 2
-1```

# AI分析结果

### 题目翻译
# 不可整除性

## 题目描述
给定一个整数 $n$。

你需要构造一个长度为 $n$ 的排列 $A$，使得对于任意一对 $l, r$（$1 \leq l < r \leq n$），都满足 $A_l + A_{l + 1} + \cdots + A_r$ 不可以被 $r - l + 1$ 整除。

## 样例 #1

### 输入
```
3
1
2
3
```

### 输出
```
1
1 2
-1
```

### 算法分类
构造

### 综合分析与结论
这些题解的核心思路都是对 $n$ 进行分类讨论来构造满足条件的排列：
- **$n = 1$ 时**：直接输出排列 `1`。
- **$n$ 为大于 $1$ 的奇数时**：由于所有项的和 $\frac{n\times(n + 1)}{2}$ 是 $n$ 的倍数，所以无法构造满足条件的排列，输出 `-1`。
- **$n$ 为偶数时**：构造排列 $a_i$，当 $i$ 为奇数时，$a_i = i + 1$；当 $i$ 为偶数时，$a_i = i - 1$。并通过分类讨论 $l$ 和 $r$ 的奇偶性来证明该排列满足条件。

各题解的主要区别在于证明构造的排列满足条件的详细程度和代码实现的细节。

### 所选题解
- **作者：panxz2009（5星）**
    - **关键亮点**：思路清晰，对构造方案的猜测和证明过程详细，逻辑严谨。
- **作者：wei2013（4星）**
    - **关键亮点**：思路明确，代码简洁，有详细的注释，易于理解。
- **作者：Dream_poetry（4星）**
    - **关键亮点**：思路和证明过程完整，代码规范，有一定的注释。

### 重点代码
```cpp
// 作者：wei2013
#include<bits/stdc++.h>
using namespace std;
int main(){
    int t;
    cin>>t;
    while(t--){
        int n;
        cin>>n;
        if(n==1){
        	cout<<1<<endl;
        	continue;
		}else if(n%2==1){
            cout<<-1<<endl;
            continue;
        }
        for(int i=1;i<=n;i++){
            if (i%2==1){
                cout<<i+1<<" ";
            }else{
                cout<<i-1<<" ";
            }
        }
        cout<<endl;
    }   
    return 0; 
}
```
**核心实现思想**：通过 `while` 循环处理多组输入，对于每组输入的 $n$，根据 $n$ 的值进行分类讨论，当 $n = 1$ 时输出 `1`，当 $n$ 为奇数时输出 `-1`，当 $n$ 为偶数时按构造方案输出排列。

### 关键思路或技巧
- **分类讨论思想**：对 $n$ 的不同取值情况进行分类讨论，简化问题的求解过程。
- **构造法**：通过合理构造排列来满足题目条件。
- **奇偶性分析**：利用奇偶性来分析区间和与项数的整除关系，从而证明构造的排列的正确性。

### 拓展思路
同类型的构造题通常需要根据题目条件进行分类讨论，通过分析特殊情况和一般情况，找到合适的构造方案。在证明构造方案的正确性时，可能需要运用数学知识和逻辑推理。

### 推荐题目
- [P1002 过河卒](https://www.luogu.com.cn/problem/P1002)：涉及动态规划和路径构造。
- [P1018 乘积最大](https://www.luogu.com.cn/problem/P1018)：需要构造合适的分割方案来使乘积最大。
- [P1040 加分二叉树](https://www.luogu.com.cn/problem/P1040)：涉及树的构造和动态规划。

### 个人心得
部分作者提到了代码实现中的一些细节，如 `tmpliyijiang` 提到写 `j&1==0` 会 WA，提醒我们在代码实现时要注意运算符的优先级和细节。 

---
处理用时：27.01秒
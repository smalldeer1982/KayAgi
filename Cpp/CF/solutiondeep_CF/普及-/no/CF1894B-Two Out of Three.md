# 题目信息

# Two Out of Three

## 题目描述

给定一个数组 $a_1, a_2, ..., a_n$。你需要找到一个数组 $b_1$, $b_2$, ..., $b_n$，其中包含数字 $1, 2, 3$，使得以下三个条件中恰好有两个条件被满足：

- 存在 $1\le i, j\le n$，使得 $a_i=a_j,b_i=1,b_j=2$。
- 存在 $1\le i, j\le n$，使得 $a_i=a_j,b_i=1,b_j=3$。
- 存在 $1\le i, j\le n$，使得 $a_i=a_j,b_i=2,b_j=3$。

如果不存在这样的数组 $b$，请报告不可以。

## 样例 #1

### 输入

```
9
6
1 2 3 2 2 3
7
7 7 7 7 7 7 7
4
1 1 2 2
7
1 2 3 4 5 6 7
5
2 3 3 3 2
3
1 2 1
9
1 1 1 7 7 7 9 9 9
1
1
18
93 84 50 21 88 52 16 50 63 1 30 85 29 67 63 58 37 69```

### 输出

```
1 2 3 1 1 1 
-1
3 2 2 1 
-1
2 1 2 1 3 
-1
1 1 2 2 1 2 2 3 3
-1
3 2 1 3 3 3 3 2 2 1 1 2 3 1 3 1 1 2```

# AI分析结果

### 题目翻译
#### 两个满足三个条件中的两个

#### 题目描述
给定一个数组 $a_1, a_2, ..., a_n$。你需要找到一个数组 $b_1, b_2, ..., b_n$，其中包含数字 $1, 2, 3$，使得以下三个条件中恰好有两个条件被满足：
- 存在 $1\le i, j\le n$，使得 $a_i=a_j,b_i=1,b_j=2$。
- 存在 $1\le i, j\le n$，使得 $a_i=a_j,b_i=1,b_j=3$。
- 存在 $1\le i, j\le n$，使得 $a_i=a_j,b_i=2,b_j=3$。

如果不存在这样的数组 $b$，请报告不可以。

#### 样例 #1
##### 输入
```
9
6
1 2 3 2 2 3
7
7 7 7 7 7 7 7
4
1 1 2 2
7
1 2 3 4 5 6 7
5
2 3 3 3 2
3
1 2 1
9
1 1 1 7 7 7 9 9 9
1
1
18
93 84 50 21 88 52 16 50 63 1 30 85 29 67 63 58 37 69
```
##### 输出
```
1 2 3 1 1 1 
-1
3 2 2 1 
-1
2 1 2 1 3 
-1
1 1 2 2 1 2 2 3 3
-1
3 2 1 3 3 3 3 2 2 1 1 2 3 1 3 1 1 2
```

### 算法分类
构造

### 分析与结论
本题要求根据给定数组 $a$ 构造数组 $b$，数组 $b$ 元素为 $1,2,3$，且要恰好满足三个条件中的两个。若无法构造出这样的数组 $b$，则输出 $-1$。

### 题解分析
| 作者 | 思路 | 算法要点 | 解决难点 | 评分 |
| --- | --- | --- | --- | --- |
| MagicLyney_06 | 先判断无解情况（出现次数大于等于 2 的数个数小于 2），有解时人为令其只满足性质一和性质二，通过遍历数组，根据数的出现次数赋值。 | 用数组 `num` 存每个数出现次数，`check` 数组判断数对答案有无影响。 | 如何合理赋值使恰好满足两个条件。 | 4 星 |
| fuxuantong123 | 至少需要 2 个都在数组中重复出现至少 2 次的数，用 `vector` 存每个数的位置，对重复数的位置赋值。 | 用 `vector<int> t[110]` 存每个数的位置。 | 确定无解条件和合理赋值。 | 3 星 |
| 梦应归于何处 | 考虑前两种情况，把每个数对应的位置存下来处理，若有两个及以上相同数，前两个对应位置分别为 1,2 或 1,3，最后判断是否同时有 2 和 3。 | 用 `vector<ll> v[105]` 存每个数的位置。 | 保证恰好满足两个条件。 | 3 星 |
| ganpig | 钦定满足 $b_i=1,b_j=3$ 和 $b_i=2,b_j=3$ 两个条件，找出两组相同数，一组 $b_i$ 为 1 和 3，另一组为 2 和 3，其余组 $b_i$ 相同。 | 全部初始化为 3，两组的第一个分别设为 1 和 2。 | 构造满足条件的数组。 | 3 星 |
| One_JuRuo | 若只有一个或没有两个及以上的数字则无解，选一个特殊数字，非最后一个都给 1，特殊数字最后一个给 2，其他给 3。 | 先判断无解，再构造数组。 | 构造满足条件的数组。 | 3 星 |
| wanghaoran00 | 用桶排，若序列中出现两次以上两数相等即符合条件，分别将出现相同的数的第一次输出 2 和 3，其余输出 1。 | 用桶排统计数的出现次数。 | 确定符合条件的情况并赋值。 | 3 星 |
| ZZZZZZZF | 找出两组相同的数，对应序列 $b$ 中的数赋值为 $1,2,2 \dots$ 和 $1,3,3 \dots$，其他位置赋值为 1。 | 用 `vis` 数组标记已处理的数。 | 找出两组相同数并合理赋值。 | 3 星 |
| technopolis_2085 | 判断无解（出现次数大于等于 2 的数小于两个），有解时将出现次数大于等于 2 的数交替填 1、2 和 1、3。 | 用 `cnt` 数组统计数的出现次数。 | 合理交替赋值。 | 3 星 |

### 高评分题解
- MagicLyney_06：4 星。亮点在于思路清晰，通过简单的数组操作实现构造，代码可读性高。个人心得：“昨天在寝室熬夜打的这场比赛，好困...记住是恰好，昨晚上卡了我好久！”，总结为做题时要仔细读题，注意题目中的关键限定条件。

### 关键思路或技巧
- 利用数组或 `vector` 记录每个数的出现次数和位置，方便后续处理。
- 先判断无解情况，减少不必要的计算。
- 人为钦定满足的两个条件，简化构造过程。

### 拓展思路
同类型题可能会改变条件或增加限制，如改变数组元素范围、增加条件数量等。类似算法套路是先分析无解情况，再根据条件进行构造，可通过记录关键信息（如出现次数、位置等）辅助构造。

### 推荐洛谷题目
- P1003 铺地毯
- P1047 校门外的树
- P1097 统计数字

---
处理用时：39.39秒
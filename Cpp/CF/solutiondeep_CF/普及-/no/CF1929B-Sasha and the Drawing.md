# 题目信息

# Sasha and the Drawing

## 题目描述

即使在幼儿园，Sasha 也喜欢一个女孩。因此，他想给她一幅画，并吸引她的注意力。

作为绘画，他决定绘制一个大小为 $n\times n$ 的正方形网格，其中染色的一些单元格。但是着色单元格很困难，因此他希望尽可能少地染色。但与此同时，他希望至少有 $k$ 条对角线至少有一个染色单元格。注意，大小为 $n \times n$ 的正方形网格总共有 $4n - 2$ 条对角线。

帮助小 Sasha 让女孩爱上他，并告诉他需要染色的最少单元格数。

## 说明/提示

下面的图片中，黑色标记染色单元格，所有对角线标记为紫色。

在第一个测试用例中，您可以染色 $2$ 个单元格，以使 $4$ 条对角线包含至少一个染色单元格。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1929B/4864b78fe9eb050caf4657b8002f6908e15fc9d0.png)

在第三个测试用例中，您可以染色 $6$ 个单元格，以使所有 $10$ 条对角线都包含至少一个染色单元格。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1929B/739c9b82a674c23c09f172f9a61b92f42e5cc20b.png)

## 样例 #1

### 输入

```
7
3 4
3 3
3 10
3 9
4 7
7 11
2 3```

### 输出

```
2
2
6
5
4
6
2```

# AI分析结果

### 题目内容（已为中文，无需翻译）
即使在幼儿园，Sasha 也喜欢一个女孩。因此，他想给她一幅画，并吸引她的注意力。

作为绘画，他决定绘制一个大小为 $n\times n$ 的正方形网格，其中染色的一些单元格。但是着色单元格很困难，因此他希望尽可能少地染色。但与此同时，他希望至少有 $k$ 条对角线至少有一个染色单元格。注意，大小为 $n \times n$ 的正方形网格总共有 $4n - 2$ 条对角线。

帮助小 Sasha 让女孩爱上他，并告诉他需要染色的最少单元格数。

### 算法分类
数学

### 综合分析与结论
这些题解的核心思路都是基于数学规律来求解。关键在于发现一个格子最多能使两条对角线包含染色单元格，然后根据 $k$ 与 $4n - 2$ 或 $4n - 4$ 的大小关系进行分类讨论。
- **思路**：大部分题解先分析出一个格子对对角线的贡献，再根据不同情况得出答案。当 $k$ 较小时，优先选择能使两条对角线都被覆盖的格子；当 $k$ 较大时，考虑特殊情况。
- **算法要点**：主要是分类讨论，根据 $k$ 的取值范围计算最少染色单元格数。常见的分类是 $k\leq4n - 4$ 和 $k > 4n - 4$ ，或者 $k < 4n - 2$ 和 $k = 4n - 2$ 。
- **解决难点**：难点在于找出格子与对角线的关系，以及确定不同情况下的染色策略。例如，需要分析出在选了一定数量的格子后，剩下的格子对总覆盖对角线数的贡献会发生变化。

### 所选题解
- **CaoXian（5星）**
    - **关键亮点**：思路清晰，先阐述贪心策略，即优先选择对总覆盖对角线数产生 $2$ 的贡献的格子，再分析出选了 $2n - 2$ 个格子后情况会变化，最后给出简洁的代码实现。
    - **核心代码**：
```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
int t, n, k;
int main() {
    ios::sync_with_stdio(0);
    cin.tie(0), cout.tie(0);
    cin >> t;
    while(t--) {
        cin >> n >> k;
        if(k <= 4 * n - 4) cout << ((k + 1) >> 1) << '\n';
        else cout << 2 * n - 2 + k - 4 * n + 4 << '\n';
    }
    return 0;
}
```
    - **核心实现思想**：根据 $k$ 与 $4n - 4$ 的大小关系进行分类讨论。当 $k\leq4n - 4$ 时，答案为 $\left\lceil\frac{k}{2}\right\rceil$ ；当 $k > 4n - 4$ 时，先选 $2n - 2$ 个格子，再加上剩余需要覆盖的对角线数。
- **All_Unluck_Beginning（4星）**
    - **关键亮点**：分类讨论明确，给出了具体的代码实现，并提醒不能使用 `ceil` 函数，避免了潜在的错误。
    - **核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int t,n,k;
int main(){
    cin>>t;
    while(t--){
        cin>>n>>k;
        if(k<=4*n-4)cout<<(k+1)/2;
        else cout<<k-2*n+2;
        cout<<"\n";
    }
    return 0;
}
```
    - **核心实现思想**：同样根据 $k$ 与 $4n - 4$ 的大小关系分类讨论，当 $k\leq4n - 4$ 时，答案为 $\left\lceil\frac{k}{2}\right\rceil$ ；当 $k > 4n - 4$ 时，答案为 $k - 2n + 2$ 。
- **WA_sir（4星）**
    - **关键亮点**：通过画图分析，直观地展示了不同情况下的染色策略，使思路更易理解。
    - **核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int t,n,k;
int main()
{
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d%d",&n,&k);
        printf("%d\n",k<=4*n-4?(k+1)>>1:k-2*n+2);
    }
    return 0;
}
```
    - **核心实现思想**：依据 $k$ 与 $4n - 4$ 的大小关系，当 $k\leq4n - 4$ 时，答案为 $\left\lceil\frac{k}{2}\right\rceil$ ；当 $k > 4n - 4$ 时，答案为 $k - 2n + 2$ 。

### 最优关键思路或技巧
- **贪心策略**：优先选择能使两条对角线都被覆盖的格子，直到无法再选择，再考虑其他格子。
- **分类讨论**：根据 $k$ 与 $4n - 4$ 或 $4n - 2$ 的大小关系进行分类，分别计算最少染色单元格数。

### 可拓展之处
同类型题可能会改变图形形状（如矩形、三角形等），或者改变条件（如要求某些对角线必须有多个染色单元格等），但解题的关键仍然是找出图形元素（如格子、对角线）之间的关系，然后进行分类讨论。

### 推荐洛谷题目
- P1009 [NOIP1998 普及组] 阶乘之和
- P1012 [NOIP1998 提高组] 拼数
- P1028 [NOIP2001 普及组] 数的计算

### 个人心得摘录与总结
- **yuanshen362**：提醒使用 `double` 类型运算时，CF 平台会识别类型，输出整数时需强制转换，也可直接使用 `int` 类型并写分支。总结：在处理不同数据类型时要注意平台的识别规则，避免因类型问题导致错误。
- **All_Unluck_Beginning**：提醒千万不能写 `ceil(k * 1.0) / 2` 。总结：在计算 $\left\lceil\frac{k}{2}\right\rceil$ 时，直接使用 `(k + 1) / 2` 更合适，避免使用 `ceil` 函数可能带来的问题。

---
处理用时：39.35秒
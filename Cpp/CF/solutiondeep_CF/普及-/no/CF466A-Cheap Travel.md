# 题目信息

# Cheap Travel

## 题目描述

Ann has recently started commuting by subway. We know that a one ride subway ticket costs $ a $ rubles. Besides, Ann found out that she can buy a special ticket for $ m $ rides (she can buy it several times). It costs $ b $ rubles. Ann did the math; she will need to use subway $ n $ times. Help Ann, tell her what is the minimum sum of money she will have to spend to make $ n $ rides?

## 说明/提示

In the first sample one of the optimal solutions is: each time buy a one ride ticket. There are other optimal solutions. For example, buy three $ m $ ride tickets.

## 样例 #1

### 输入

```
6 2 1 2
```

### 输出

```
6
```

## 样例 #2

### 输入

```
5 2 2 3
```

### 输出

```
8
```

# AI分析结果

### 题目翻译
# 廉价出行

## 题目描述
安最近开始乘坐地铁出行。我们知道，单次地铁票的价格是 $a$ 卢布。此外，安发现她可以购买一种特殊的 $m$ 次乘坐的车票（她可以多次购买这种车票），其价格是 $b$ 卢布。安算了一下，她需要乘坐地铁 $n$ 次。请帮助安计算出她乘坐 $n$ 次地铁所需花费的最少金额。

## 说明/提示
在第一个样例中，其中一个最优方案是：每次都购买单次车票。也有其他的最优方案，例如，购买三张 $m$ 次乘坐的车票。

## 样例 #1
### 输入
```
6 2 1 2
```
### 输出
```
6
```

## 样例 #2
### 输入
```
5 2 2 3
```
### 输出
```
8
```

### 算法分类
贪心

### 综合分析与结论
这些题解的核心都是围绕如何选择合适的购票方案以达到最小花费。不同题解采用了不同的实现方式，但整体思路都是先分析两种票的价格情况，再根据不同情况计算花费并取最小值。
- **思路对比**：
    - 部分题解通过比较两种票的单价来确定购票策略，如全部买单程票、尽可能多买多程票搭配单程票或全部买多程票。
    - 动规题解则通过定义状态和转移方程来计算最少花费。
    - 枚举题解通过遍历所有可能的多程票购买次数来找出最小花费。
- **算法要点**：
    - 贪心思路的题解重点在于根据单价判断购票策略，然后计算不同方案的花费并取最小值。
    - 动规题解的关键在于定义状态和正确推导转移方程。
    - 枚举题解则是通过循环遍历所有可能的情况。
- **解决难点**：
    - 所有题解都需要考虑到剩余次数的处理，即剩余次数买单程票还是再买一张多程票更划算。
    - 动规题解需要准确推导转移方程，考虑不同状态下的最优选择。

### 题解评分与选择
- **封禁用户**：3星。思路较清晰，但代码中 `float s;` 未使用，存在冗余。
- **xgwpp6710**：3星。通过不断修正错误得到正确答案，思路逐步完善，但代码中使用较大的初始值 `100000009` 作为最小值，可优化。
- **LucasXu80**：3星。用Python实现，代码简洁，但思路与其他题解类似。
- **一只大龙猫**：4星。使用动规思想，思路独特，代码简洁明了。
- **Happy_Dream**：3星。思路简单直接，但代码中 `float(b/m)` 存在错误，应改为 `(float)b/m`。
- **AllanPan**：3星。思路清晰，代码规范，但与其他贪心思路题解类似。
- **小豆子范德萨**：3星。思路清晰，考虑了多种情况，但代码中使用 `ceil` 函数，可优化。

选择的题解：
- **一只大龙猫**：4星。关键亮点是使用动规思想，通过定义状态和转移方程来计算最少花费。

### 重点代码
```cpp
#include<iostream>
using namespace std;
int f[2000],n,m,b,a;
int main(){
    cin>>n>>m>>a>>b;
    for(int i=1;i<=n;i++){
        if(i>=m)f[i]=min(f[i-1]+a,f[i-m]+b);
        else f[i]=min(f[i-1]+a,b);
    }
    cout<<f[n];
    return 0;
}
```
**核心实现思想**：定义 $f(i)$ 为搭 $i$ 次地铁的最少花费。当 $i \geqslant m$ 时，$f(i)$ 可以由 $f(i - 1)$ 加一次单程票价格 $a$ 或 $f(i - m)$ 加一次 $m$ 次乘坐的车票价格 $b$ 转移而来；当 $i < m$ 时，$f(i)$ 可以由 $f(i - 1)$ 加一次单程票价格 $a$ 或直接买一张 $m$ 次乘坐的车票价格 $b$ 转移而来。最后输出 $f(n)$ 即为搭 $n$ 次地铁的最少花费。

### 最优关键思路或技巧
- 贪心思路：比较两种票的单价，根据单价选择合适的购票策略，同时考虑剩余次数的处理。
- 动规思路：通过定义状态和转移方程，逐步计算出搭 $n$ 次地铁的最少花费。

### 拓展思路
同类型题或类似算法套路：
- 其他购物优惠策略问题，如不同套餐组合购买以达到最小花费。
- 资源分配问题，如不同资源的使用成本不同，如何分配资源以达到最优效果。

### 推荐题目
- [P1036 选数](https://www.luogu.com.cn/problem/P1036)：涉及组合和枚举思想，与本题的枚举所有可能情况的思路类似。
- [P1217 [USACO1.5]回文质数 Prime Palindromes](https://www.luogu.com.cn/problem/P1217)：需要综合运用质数判断和枚举思想，与本题的枚举和判断思路有一定相似性。
- [P1423 小玉在游泳](https://www.luogu.com.cn/problem/P1423)：可以使用贪心思想来解决，与本题的贪心思路类似。

### 个人心得摘录与总结
- **xgwpp6710**：最初代码中未考虑 $n-(i*m)$ 可能为负数的情况，且忽略了 $m$ 次的车票买 0 张的情况，导致多次提交错误，最后修正得到正确答案。总结：在解题时要全面考虑各种情况，避免遗漏。
- **AllanPan**：第一反应是比较单价来选择票，但多程票买了少乘费用不退且答案可能不是整数，导致错误。总结：不能简单地比较单价，要结合题目具体条件进行分析。

---
处理用时：38.47秒
# 题目信息

# Odd sum

## 题目描述

现给予你一个长度为n,包含正整数的序列 ***a1,a2……an***，你的任务是找到一个和为奇数且值最大（在和为奇数的子序列中）的子序列。可以保证该序列中有和为奇数的子序列  
子序列是一个可以通过删除一个序列中的部分元素，但不改变其他元素的顺序后得到的新序列  
现在请你写一个程序找到上述的这样一个子序列

## 说明/提示

第一个样例中的第二个元素与第四个元素的和为3

## 样例 #1

### 输入

```
4
-2 2 -3 1
```

### 输出

```
3
```

## 样例 #2

### 输入

```
3
2 -5 -3
```

### 输出

```
-1
```

# AI分析结果

### 题目分类
贪心

### 综合分析与结论
这些题解的核心思路基本一致，都是先将所有正数相加得到最大和，若和为奇数则直接输出，若为偶数则通过减去最小正奇数或加上最大负奇数使和变为奇数并取最大值。各题解的区别主要在于代码实现细节和边界情况的处理。

### 题解评分与选择
- **清清老大**：4星。思路清晰，代码简洁，直接实现了核心思路，没有复杂的边界判断。
- **Fengxiang008**：3星。思路正确，但代码中 `sum=max(sum,sum+a[i])` 表述不准确，实际就是加正数，逻辑稍显混乱。
- **伟大的王夫子**：3星。思路正确，考虑了没有奇正数或奇负数的情况，但代码整体稍显复杂。
- **雨伞CKY**：3星。思路清晰，代码实现较为规范，但在处理 `sum + max(maxNegOdd,-minPosOdd)` 时，逻辑不如直接比较 `sum + maxNegOdd` 和 `sum - minPosOdd` 直观。
- **王熙文**：3星。思路和代码都比较简洁，但 `sum-min(zhengji,-xiaoji)` 这种写法不如分别比较直观。
- **happybob**：2星。思路复杂，代码冗长，使用了排序等不必要的操作，增加了时间复杂度。
- **chengni**：3星。思路正确，考虑了没有正奇数或负奇数的情况，但代码中 `if(aa==0x7fffffff)` 等判断稍显复杂。
- **Indulge_myself**：2星。思路正确，但代码有错误（`if(maxn=-999999)` 应为 `if(maxn==-999999)`），且优化部分未给出完整代码。

选择评分4星的题解：
- **清清老大**：4星。关键亮点是思路清晰，代码简洁直接，通过一次遍历完成所有操作，避免了复杂的逻辑判断。

### 重点代码
```cpp
#include<bits/stdc++.h>

using namespace std;

int main()
{
    int n,a,maxa = -10001,mina = 10001,sum = 0;
    cin >> n;
    for(int i = 0;i < n;i ++)
    {
        cin >> a;
        if(a > 0)
        {
            sum += a;
        }
        if(a < 0 && abs(a) % 2)
        {
            maxa = max(a,maxa);
        }
        if(a > 0 && a % 2)
        {
            mina = min(a,mina);
        }
    }
    if(sum % 2)
    {
        cout << sum;
    }
    else
    {
        cout << max(sum + maxa,sum - mina);
    }
}
```
**核心实现思想**：
1. 遍历序列，将所有正数相加得到 `sum`。
2. 同时记录最小的正奇数 `mina` 和最大的负奇数 `maxa`。
3. 判断 `sum` 的奇偶性，若为奇数则直接输出 `sum`，若为偶数则输出 `max(sum + maxa,sum - mina)`。

### 关键思路与技巧
- **贪心策略**：先取所有正数保证和最大，再根据奇偶性调整。
- **一次遍历**：在遍历序列的同时记录最小正奇数和最大负奇数，避免多次遍历。

### 拓展思路
同类型题或类似算法套路：
- 其他贪心问题，如区间调度问题，通过贪心策略选择最优解。
- 涉及奇偶性判断和调整的问题，如某些数学问题或数组操作问题。

### 洛谷题目推荐
- P1090 [合并果子](https://www.luogu.com.cn/problem/P1090)：贪心算法经典题目，通过每次合并最小的两个元素来求解。
- P1223 [排队接水](https://www.luogu.com.cn/problem/P1223)：贪心算法，按照接水时间从小到大排序，计算总等待时间。
- P1803 [凌乱的yyy / 线段覆盖](https://www.luogu.com.cn/problem/P1803)：贪心算法，按照结束时间排序，选择不重叠的线段。

### 个人心得
无。

---
处理用时：30.60秒
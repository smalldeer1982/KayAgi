# 题目信息

# The Contest

## 题目描述

Pasha 在打一场比赛，比赛共 $n$ 道题，第 $i$ 道题需要 $a_i$ 长度的时间解决，而已经被解决的题目可以在某一时刻被瞬间全部提交完成。由于评测网站收到的评测信息过多，现在只有 $m$ 个时间段是可提交的，第 $j$ 个时间段的左右端分别是 $l_j$ 和 $r_j$，请求出他能否成功提交并通过所有题目（假定他的做法永远正确）。

## 说明/提示

某次提交并不需要额外花费一个单位时间，所以样例一中的答案即为 $3+4=7$，而不需要加上若干单位时间长。

## 样例 #1

### 输入

```
2
3 4
2
1 4
7 9
```

### 输出

```
7
```

## 样例 #2

### 输入

```
1
5
1
1 4
```

### 输出

```
-1
```

## 样例 #3

### 输入

```
1
5
1
1 5
```

### 输出

```
5
```

# AI分析结果

### 题目翻译
### 比赛

#### 题目描述
帕夏正在参加一场比赛，比赛共有 $n$ 道题，第 $i$ 道题需要 $a_i$ 单位时间来解决，并且已经解决的题目可以在某一时刻瞬间全部提交。由于评测网站收到的评测信息过多，现在只有 $m$ 个时间段可以提交，第 $j$ 个时间段的左右端点分别是 $l_j$ 和 $r_j$，请判断他是否能够成功提交并通过所有题目（假设他的解法永远正确）。

#### 说明/提示
某次提交不需要额外花费单位时间，所以样例一中的答案是 $3 + 4 = 7$，而不需要再加上若干单位时间。

#### 样例 #1
##### 输入
```
2
3 4
2
1 4
7 9
```
##### 输出
```
7
```

#### 样例 #2
##### 输入
```
1
5
1
1 4
```
##### 输出
```
-1
```

#### 样例 #3
##### 输入
```
1
5
1
1 5
```
##### 输出
```
5
```

### 算法分类
贪心

### 综合分析与结论
- **思路对比**：三位作者的思路整体一致，都是先计算完成所有题目的总时间 `sum`，然后遍历每个可提交时间段，根据总时间和时间段的左右端点关系来确定最早提交时间。
- **算法要点**：计算总时间，遍历可提交时间段，根据不同情况更新答案。
- **解决难点**：主要难点在于判断总时间和可提交时间段的关系，以及如何准确更新最早提交时间。

### 题解评分与选择
- **流绪（赞：3）**：4星。思路清晰，代码注释详细，可读性高。
- **zyh888（赞：1）**：3星。思路正确，但代码中使用宏定义 `max` 可能会有潜在问题，且注释相对较少。
- **GZY007（赞：0）**：3星。思路正确，但代码中 `if(r>sum) continue ;` 逻辑有误，应该是 `if(r < sum) continue ;`。

选择流绪的题解。

### 关键亮点
思路清晰，代码注释详细，对各种情况的处理逻辑明确。

### 重点代码与核心思想
```cpp
#include<bits/stdc++.h>
#include<cstring>
#define ll long long
#define ld long double
#define inf 0x7f7f7f7f
#define maxn 1000010
using namespace std;
int main()
{
    ios::sync_with_stdio(false);
    int n;
    cin >> n;
    int sum=0,ans = inf;
    for(int i=1;i<=n;i++)
    {
        int x;
        cin >> x;
        sum +=x;//最晚完成任务时间
    }
    int m;
    cin >> m;
    for(int i=1;i<=m;i++)
    {
        int a,b;
        cin >> a >> b;
        if(b >= sum)
            ans = min(ans,max(sum,a));//更新答案
    }
    if(ans == inf)//答案未被更新,即无法合法地提交所有任务
        cout << -1;
    else
        cout << ans;
    return 0; 
}  
```
核心思想：先计算完成所有题目的总时间 `sum`，然后遍历每个可提交时间段 `[a, b]`，如果 `b >= sum`，说明可以在这个时间段提交，取 `max(sum, a)` 并更新答案 `ans` 为最小值。如果最终 `ans` 仍为初始值 `inf`，说明无法合法提交所有任务，输出 `-1`。

### 拓展思路
同类型题目通常会涉及任务安排、时间调度等问题，关键在于分析任务的完成时间和可用时间段的关系，通过贪心策略找到最优解。

### 推荐洛谷题目
- P1090 [NOIP2004 提高组] 合并果子
- P2123 皇后游戏
- P1223 排队接水

### 个人心得
题解中未包含个人心得。

---
处理用时：27.01秒
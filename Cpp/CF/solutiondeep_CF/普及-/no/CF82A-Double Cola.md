# 题目信息

# Double Cola

## 题目描述

肖尔顿，莱奥纳多，佩妮，拉杰什和霍华德正在在卖“分裂可乐”的自动贩卖机那里排队。

队里第一个人（肖尔顿）会买一瓶分裂可乐，喝完以后他就会分裂成两个人并站到队尾。

下一个人（莱奥纳多）也会买一瓶分裂可乐，喝完后也会和刚才的肖尔顿一样分裂成两个人并站到队尾。

这个过程可以一直持续下去。~~（永动机）~~

举个例子，当佩妮喝下可乐（他之前的人也喝完了）后队列会变成这样：拉杰什，霍华德，肖尔顿，肖尔顿，莱奥纳多，莱奥纳多，佩妮，佩妮。

请您编写一个程序来输出喝下第$ n $罐分裂可乐的人。

__注意：__一开始的队列总会是这样的：肖尔顿，莱奥纳多，佩妮，拉杰什，霍华德。第一个去买可乐的人总会是肖尔顿。

## 样例 #1

### 输入

```
1
```

### 输出

```
Sheldon
```

## 样例 #2

### 输入

```
6
```

### 输出

```
Sheldon
```

## 样例 #3

### 输入

```
1802
```

### 输出

```
Penny
```

# AI分析结果

【题目内容】
# 双倍可乐

## 题目描述
肖尔顿、莱奥纳多、佩妮、拉杰什和霍华德正在售卖“分裂可乐”的自动贩卖机前排队。

队伍中的第一个人（肖尔顿）会买一瓶分裂可乐，喝完后他会分裂成两个人并站到队伍末尾。

下一个人（莱奥纳多）也会买一瓶分裂可乐，喝完后同样会像肖尔顿那样分裂成两个人并站到队伍末尾。

这个过程可以一直持续下去。（永动机）

举个例子，当佩妮喝下可乐（她之前的人也都喝完了）后，队列会变成这样：拉杰什、霍华德、肖尔顿、肖尔顿、莱奥纳多、莱奥纳多、佩妮、佩妮。

请编写一个程序，输出喝下第 $n$ 罐分裂可乐的人。

**注意**：一开始的队列总是这样的：肖尔顿、莱奥纳多、佩妮、拉杰什、霍华德。第一个去买可乐的人总是肖尔顿。

## 样例 #1
### 输入
```
1
```
### 输出
```
Sheldon
```

## 样例 #2
### 输入
```
6
```
### 输出
```
Sheldon
```

## 样例 #3
### 输入
```
1802
```
### 输出
```
Penny
```

【算法分类】数学

【综合分析与结论】
这些题解主要围绕模拟和找规律两种思路展开。模拟思路通过队列来模拟整个排队和分裂的过程，但由于数据范围较大，会出现空间超限（MLE）的问题。找规律思路则是通过分析队列变化的规律，推导出递推公式或其他数学关系来解决问题，避免了空间超限的问题。

| 作者 | 思路 | 算法要点 | 解决难点 | 评分 |
| --- | --- | --- | --- | --- |
| Azazеl | 先尝试队列模拟，MLE 后找规律，利用递推公式求解 | 递推公式 $f[i]=(f[i - 1] - f[i - 2])*2 + f[i - 1]$，通过循环找到区间并计算结果 | 避免模拟带来的空间超限问题，找到合适的递推公式和计算方法 | 4星 |
| phil071128 | 先队列模拟，MLE 后找规律，使用递推公式 | 递推公式 $f_i = (f_{i - 1} - f_{i - 2})*2 + f_{i - 1}$，通过循环和计算确定结果 | 解决模拟的空间问题，正确运用递推公式 | 3星 |
| _Legacy | 找规律，将队列分段，根据段的规律和段内部分的规律求解 | 计算每段末尾号数的函数 `pox`，通过循环确定段数和部分号数 | 准确找出段和部分的规律并应用到计算中 | 3星 |
| long_long | 队列模拟 | 循环操作队列，将队首元素复制两份到队尾并弹出队首 | 未考虑数据范围，会导致空间超限 | 2星 |
| Fa1thful | 找规律，按循环模拟，每次循环更新相关参数 | 每个循环中五种编号数量相等且为 $2^p$ 个，通过循环和判断确定结果 | 合理设计循环和判断条件 | 3星 |
| Need_No_Name | 找规律，观察每轮相同名字的数量，通过减法和取模计算 | 第 $x$ 轮有 $2^{x - 1}$ 个相同名字，不断减去以前的数目并取模 | 正确处理减法和取模运算 | 3星 |
| sysong | 找规律，根据队伍长度和总长度的规律枚举求解 | 队伍长度为 $5 \times 2^{n - 1}$，总长度为 $5 \times (2^{n} - 1)$，枚举总队伍长度确定结果 | 准确推导和应用队伍长度和总长度的规律 | 3星 |
| OdtreePrince | 找规律，使用递推公式求解 | 递推公式 $f[i]=(f[i - 1] - f[i - 2])*2 + f[i - 1]$，通过循环和计算确定结果 | 正确运用递推公式 | 3星 |

【所选题解】
- Azazеl（4星）
  - 关键亮点：思路清晰，先尝试模拟，在遇到问题后能及时转变思路找规律，并且给出了递推公式和详细的计算过程。
  - 个人心得：一开始用队列模拟华丽丽地 MLE 了，尝试数组模拟、双向队列等都 MLE，由此知道模拟是下下策，学了高级的东西不代表有用。

【重点代码】
```cpp
#include <cstdio>
#include <string>
#include <cmath>
#include <iostream>
using namespace std;
int sum[1000005]= {0,1},i=1,n;
string s[5]= {"Sheldon","Leonard","Penny","Rajesh","Howard"};
int main() {
    scanf("%d",&n);
    for(i=2; sum[i-1]*5<n; i++) sum[i]=(sum[i-1]-sum[i-2])*2+sum[i-1];//递推式,for循环顺便找出那一段区间 
    i-=2;
    n-=sum[i]*5;//然后一发玄学的式子 
    i=pow(2,i);
    if(n%i==0) n=n/i-1;
    else n/=i;
    cout<<s[n]<<endl; 
    return 0;
}
```
核心实现思想：先通过递推公式 `sum[i]=(sum[i - 1] - sum[i - 2])*2 + sum[i - 1]` 计算出相关的区间，然后通过一系列计算确定最终结果在数组 `s` 中的下标，从而输出对应的人名。

【最优关键思路或技巧】
找规律，通过分析队列变化的规律，推导出递推公式或其他数学关系，避免使用模拟带来的空间超限问题。

【拓展】
同类型题或类似算法套路：可以考虑其他排队或循环问题，如约瑟夫环问题等，这类问题通常需要通过找规律或数学方法来解决，避免直接模拟带来的时间或空间复杂度问题。

【推荐题目】
1. P1996 约瑟夫问题
2. P1192 台阶问题
3. P1028 数的计算

---
处理用时：41.20秒
# 题目信息

# The Festive Evening

## 题目描述

七月底，果冻城堡举行节日晚会！来自王国各地的客人聚集在这里讨论糖果业的新趋势。然而，这里讨论的一些事情不应该向公众披露：这些信息可能会在斯威特兰王国引起不和，以防落入坏人之手。所以有必要不让任何不速之客进来。

果冻城堡有26个入口，上面有从A到Z的大写英文字母。由于安全措施，每个客人都被指定了一个入口，他应该通过这个入口进入城堡。每个入口的门在第一个客人到达前打开，在最后一个客人到达后关闭，最后一个客人应该通过这个入口进入城堡。两位客人不能同时进入城堡。

为了保护入口免受可能的入侵，应为其分配一个糖果警卫。城堡里有k这样的守卫，所以如果打开的门超过k，其中一个就会无人看守！注意一个警卫在他被指派的门关上之前不能离开他的岗位。

Slastyona怀疑晚上可能有不速之客。她知道被邀请的客人进入城堡的顺序，想让你帮她检查一下是否有超过千扇门被打开的时刻。

## 样例 #1

### 输入

```
5 1
AABBB
```

### 输出

```
NO
```

## 样例 #2

### 输入

```
5 1
ABABB
```

### 输出

```
YES
```

# AI分析结果

【题目内容】
七月底，果冻城堡举行节日晚会！来自王国各地的客人聚集在这里讨论糖果业的新趋势。然而，这里讨论的一些事情不应该向公众披露：这些信息可能会在斯威特兰王国引起不和，以防落入坏人之手。所以有必要不让任何不速之客进来。

果冻城堡有26个入口，上面有从A到Z的大写英文字母。由于安全措施，每个客人都被指定了一个入口，他应该通过这个入口进入城堡。每个入口的门在第一个客人到达前打开，在最后一个客人到达后关闭，最后一个客人应该通过这个入口进入城堡。两位客人不能同时进入城堡。

为了保护入口免受可能的入侵，应为其分配一个糖果警卫。城堡里有k这样的守卫，所以如果打开的门超过k，其中一个就会无人看守！注意一个警卫在他被指派的门关上之前不能离开他的岗位。

Slastyona怀疑晚上可能有不速之客。她知道被邀请的客人进入城堡的顺序，想让你帮她检查一下是否有超过k扇门被打开的时刻。

【算法分类】
模拟

【综合分析与结论】
这些题解的核心思路都是模拟客人进入城堡的过程，通过记录每扇门的状态（是否有客人进入、是否还有客人未进入等）以及当前可用的守卫数量，判断是否存在某一时刻打开的门超过给定的守卫数量k。
- **思路对比**：大部分题解是在遍历客人进入顺序时，动态更新每扇门的状态和守卫数量；部分题解先记录每扇门的开放时间区间，再枚举时间点判断是否超量。
- **算法要点**：普遍会用数组记录每扇门的客人数量、是否有守卫等信息，通过判断客人是否首次进入、是否是最后一个进入来更新状态。
- **解决难点**：关键在于准确处理每扇门的开关状态和守卫的分配，避免遗漏特殊情况（如某扇门只有一个客人进入）。

【题解评分】
| 作者 | 评分 | 思路清晰度 | 代码可读性 | 优化程度 |
| --- | --- | --- | --- | --- |
| X_Chao_Bai | 4星 | 清晰，明确指出模拟士兵移动的思路 | 较高，代码简洁且注释较清晰 | 较好，直接模拟过程 |
| a1a2a3a4a5 | 3星 | 思路阐述较详细 | 一般，有一定注释 | 一般，常规模拟 |
| tbdsh | 3星 | 思路清晰 | 较高，代码结构清晰 | 一般，常规模拟 |
| _Evergarden_ | 3星 | 思路明确 | 较高，有读入优化 | 一般，常规模拟 |
| lolsq | 3星 | 思路较清晰 | 一般，代码逻辑稍复杂 | 一般，枚举时间点判断 |
| 褚橙 | 3星 | 思路清晰 | 一般，有特判但代码稍复杂 | 一般，模拟过程 |
| Life_alone | 3星 | 思路较模糊 | 较低，无注释 | 一般，模拟过程 |
| smallpeter | 3星 | 思路清晰 | 一般，代码有初始化和双重循环 | 一般，先记录区间再枚举 |
| Sternenlicht | 3星 | 思路清晰 | 一般，有自定义输入输出函数 | 一般，模拟过程 |
| GalaxyOier | 3星 | 思路较清晰 | 一般，有自定义函数 | 一般，模拟过程 |
| qian_shang | 3星 | 思路清晰 | 一般，代码有注释 | 一般，模拟过程 |

【所选题解】
- X_Chao_Bai（4星）
  - 关键亮点：思路清晰，直接模拟士兵的移动过程，代码简洁易懂。

【重点代码】
```cpp
#include<bits/stdc++.h> 
using namespace std;
int n,k,a[26];
string s;
bool p[200];
int main(){
    cin>>n>>k>>s;
    for(int i=0;i<n;++i) ++a[s[i]]; // 同一扇门的人数累加     
    for(int i=0;i<n;++i){
        --a[s[i]]; // 减掉这扇门的人数
        if(!p[s[i]]){
            --k; // 首次出现要挪士兵    
            p[s[i]]=true; // 表示这扇门有士兵看着了
        }
        if(k<0){ // 人数不够用
            cout<<"YES"<<endl;
            return 0; // 直接输出结束
        }
        if(!a[s[i]]) ++k; // 这扇门该看的人看完了，去帮其他士兵
    }
    cout<<"NO"<<endl; // 最后直接输出
    return 0;
}
```
【核心实现思想】
1. 先统计每扇门的客人数量。
2. 遍历客人进入顺序，每处理一个客人，对应门的客人数量减一。
3. 若该客人是首次进入此门，守卫数量减一，并标记此门有守卫。
4. 若守卫数量小于0，说明有门无人看守，输出`YES`并结束程序。
5. 若此门的客人都已进入，守卫数量加一。
6. 若遍历结束都未出现守卫不足的情况，输出`NO`。

【可拓展之处】
同类型题可能会增加更多条件，如不同类型的客人有不同的优先级，或者门的开放时间有额外限制等。类似算法套路就是模拟事件的发生过程，通过合理的数据结构记录状态，根据规则更新状态来解决问题。

【推荐题目】
1. P1042 乒乓球：模拟乒乓球比赛的过程，根据规则判断比赛结果。
2. P1067 多项式输出：模拟多项式的输出过程，根据系数和次数的不同情况进行输出。
3. P1548 棋盘问题：模拟在棋盘上放置棋子的过程，计算满足条件的方案数。

【个人心得】
- a1a2a3a4a5：需要在开门的一瞬间，立马算开门次数，因为当遇到门就开一秒的时候并且恰好没有守卫，那么门就没人守，程序会WA。总结：在模拟过程中要注意特殊情况的处理，保证状态更新的及时性。

---
处理用时：43.25秒
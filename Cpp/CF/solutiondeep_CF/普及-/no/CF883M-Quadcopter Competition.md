# 题目信息

# Quadcopter Competition

## 题目描述

你参加了一个飞行器比赛，并知道你的飞行器起点在$(x_1,y_1)$ ，有一面旗子在$(x_2,y_2)$ 。

每次你的飞行器能够沿平行于坐标轴方向移动$1$ 单位长度，即假如你在$(x,y)$ ，你的飞行器可以前往$(x+1,y),(x-1,y),(x,y+1),(x,y-1)$ 四者中的一个。

现在你需要规划一个路线，这个路线从起点出发并回到起点，并构成一个封闭环。同时这个封闭环必须**严格包含**旗子所在的格点。（具体看下面的图片）

求飞行器最短飞行距离为多少。

## 说明/提示

$-100\le x_1,x_2,y_1,y_2\le 100$ 。

感谢@U50882 OwenOwl 提供的翻译

## 样例 #1

### 输入

```
1 5
5 2
```

### 输出

```
18
```

## 样例 #2

### 输入

```
0 1
0 0
```

### 输出

```
8
```

# AI分析结果

### 题目分类
数学

### 综合分析与结论
这些题解的核心思路都是将飞行器的飞行路线转化为矩形的周长来计算，通过分类讨论起点和旗子的位置关系（重合、共线、不共线）来得到不同情况下的最短飞行距离。
- **思路对比**：大部分题解都明确指出了三种情况的分类讨论，只是在表述和推导过程上略有差异。部分题解通过画图直观展示思路，部分题解则直接给出公式推导。
- **算法要点**：利用矩形周长公式计算最短路径，关键在于根据不同位置关系确定矩形的长和宽。对于共线情况，需要额外增加一定的长度以确保旗子被严格包含。
- **解决难点**：主要难点在于对共线和重合情况的特殊处理，不同题解通过不同的方式来解决这个问题，如增加固定长度、取最大值等。

### 高评分题解
- **作者：Jr_Zlw (赞：3)，4星**
    - **关键亮点**：思路清晰，通过图形平移直观地解释了最短路径的原理，对每种情况的处理都有详细说明，代码简洁易懂。
    - **个人心得**：无
- **作者：LucasXu80 (赞：2)，4星**
    - **关键亮点**：提供了详细的图解，将思路可视化，便于理解，对每种情况的推导过程清晰，同时给出了Python代码。
    - **个人心得**：结合学校正在学习的平面直角坐标系知识来解题，强调从坐标到距离要注意绝对值。
- **作者：Annihilation_y (赞：1)，4星**
    - **关键亮点**：思路简洁明了，对三种情况的分类清晰，代码结构清晰，易于实现。
    - **个人心得**：指出需要考虑两种特殊情况，求长方形周长时要计算旗所在点的右下角，并且要取绝对值。

### 重点代码
#### Jr_Zlw的代码
```cpp
#include<iostream>
#include<cmath>
#include<cstring>
using namespace std;
int main()
{
	int x1,y1,x2,y2,ans;
	cin>>x1>>y1>>x2>>y2;
	if(x1==x2&&y1==y2)
	{
		cout<<10;
		return 0;
	}
	ans=((abs(x1-x2)+abs(y1-y2)+2)*2);
	if(x1==x2||y1==y2)ans+=2;
	cout<<ans;
	return 0;
}
```
**核心实现思想**：先判断起点和旗子是否重合，若重合则直接输出10。否则计算正常情况下的矩形周长，若起点和旗子共线，则在周长基础上增加2。

#### LucasXu80的Python代码
```python
x1,y1=map(int,input().split())
x2,y2=map(int,input().split())
if x1==x2: 
    print(2*(1+abs(y1-y2)+2))
elif y1==y2: 
    print(2*(1+abs(x1-x2)+2))
else: 
    print(2*(abs(x1-x2)+1+abs(y1-y2)+1))
```
**核心实现思想**：根据起点和旗子的坐标关系进行分类讨论，分别计算不同情况下的矩形周长并输出。

#### Annihilation_y的代码
```c++
#include <bits/stdc++.h>
using namespace std;
int main()
{
	int x1,x2,y1,y2;
	scanf("%d%d%d%d",&x1,&y1,&x2,&y2);
	if(x1==x2&&y1==y2)
	{
		printf("10");
		return 0;
	}
	if(x1==x2||y1==y2)
	{
		printf("%d",(abs(x1-x2)+abs(y1-y2)+2)*2+2);
		return 0;
	} 
	else
		printf("%d",(abs(x1-x2)+abs(y1-y2)+2)*2);
	return 0;
}
```
**核心实现思想**：同样先判断起点和旗子是否重合，若重合则输出10。若共线则在正常周长基础上增加2，否则直接输出正常周长。

### 最优关键思路或技巧
- **图形转化**：将飞行器的飞行路线通过平移转化为矩形的周长，简化问题。
- **分类讨论**：根据起点和旗子的位置关系（重合、共线、不共线）进行分类讨论，分别计算不同情况下的最短路径。

### 拓展思路
同类型题目可能会改变移动规则、增加障碍物或多个目标点等。解题时可以继续运用分类讨论和图形转化的思想，根据具体情况调整矩形的长和宽的计算方式。

### 推荐题目
- [P1002 过河卒](https://www.luogu.com.cn/problem/P1002)：涉及坐标移动和路径规划，需要考虑障碍物的影响。
- [P1047 校门外的树](https://www.luogu.com.cn/problem/P1047)：在直线上进行区间操作，与本题的坐标和距离计算有一定关联。
- [P1036 选数](https://www.luogu.com.cn/problem/P1036)：需要进行组合枚举，培养分类讨论和逻辑思维能力。

---
处理用时：32.15秒
# 题目信息

# Shohag Loves Strings

## 题目描述

# Shohag Loves Strings

## 问题描述

给定一个字符串 $s$，定义 $f(p)$ 为字符串 $p$ 的所有不同的非空子字符串的数量。从字符串 $s$ 中找到一个非空子字符串 $p$，使得 $f(p)$ 为偶数。如果找不到这样的子字符串，则输出 $-1$。

## 样例 #1

### 输入

```
5
dcabaac
a
youknowwho
codeforces
bangladesh```

### 输出

```
abaa
-1
youknowwho
eforce
bang```

# AI分析结果

### 题目内容重写（中文）

# Shohag 喜欢字符串

## 题目描述

给定一个字符串 $s$，定义 $f(p)$ 为字符串 $p$ 的所有不同的非空子字符串的数量。从字符串 $s$ 中找到一个非空子字符串 $p$，使得 $f(p)$ 为偶数。如果找不到这样的子字符串，则输出 $-1$。

## 样例 #1

### 输入

```
5
dcabaac
a
youknowwho
codeforces
bangladesh
```

### 输出

```
abaa
-1
youknowwho
eforce
bang
```

---

### 题解综合分析与结论

本题的核心在于如何高效地找到一个子串，使得其所有不同的非空子串数量为偶数。由于直接枚举所有子串的时间复杂度较高，因此大多数题解都采用了寻找特定模式的子串的策略，如长度为2且字符相同的子串，或长度为3且字符互不相同的子串。这些策略通过减少枚举范围，大大降低了时间复杂度。

### 最优关键思路或技巧

1. **寻找特定模式的子串**：通过分析，发现长度为2且字符相同的子串（如 `aa`）和长度为3且字符互不相同的子串（如 `abc`）满足条件。这种策略将问题转化为简单的模式匹配，避免了复杂的计算。
2. **分情况讨论**：对于长度为1的子串，直接判断为不满足条件；对于长度为2和3的子串，分别讨论其是否满足条件。这种分情况讨论的方法使得问题更加清晰。
3. **无解情况的处理**：如果字符串中没有满足条件的子串，则输出 `-1`。这种处理方式确保了程序的完整性。

### 推荐题解

#### 题解1：作者：___define___ (赞：6)

**星级：4.5**

**关键亮点**：该题解通过分析不同长度的子串，提出了长度为2和3的子串满足条件的情况，并给出了详细的分类讨论。代码简洁明了，逻辑清晰。

**核心代码**：
```cpp
for(int i=1;i<n;i++) {
    if(s[i]==s[i-1]) {
        cout<<s[i-1]<<s[i]<<endl;
        break;
    }
}
for(int i=2;i<n;i++) {
    if(s[i]!=s[i-1]&&s[i-1]!=s[i-2]&&s[i]!=s[i-2]) {
        cout<<s[i-2]<<s[i-1]<<s[i]<<endl;
        break;
    }
}
```

#### 题解2：作者：wangyizhi (赞：2)

**星级：4**

**关键亮点**：该题解通过分析不同长度的子串，提出了长度为2和3的子串满足条件的情况，并给出了详细的分类讨论。代码简洁明了，逻辑清晰。

**核心代码**：
```cpp
for(int i=1;i<n;i++) {
    if(s[i]==s[i-1]) {
        cout<<s[i]<<s[i]<<endl;
        break;
    }
}
for(int i=2;i<n;i++) {
    if(s[i]!=s[i-1]&&s[i-1]!=s[i-2]&&s[i]!=s[i-2]) {
        cout<<s[i-2]<<s[i-1]<<s[i]<<endl;
        break;
    }
}
```

#### 题解3：作者：lunjiahao (赞：1)

**星级：4**

**关键亮点**：该题解通过分析不同长度的子串，提出了长度为2和3的子串满足条件的情况，并给出了详细的分类讨论。代码简洁明了，逻辑清晰。

**核心代码**：
```cpp
for(int i=1;i+2<=n;i++) {
    if(s[i]!=s[i+1]&&s[i]!=s[i+2]&&s[i+1]!=s[i+2]) {
        printf("%c%c%c\n",s[i],s[i+1],s[i+2]);
        break;
    }
}
for(int i=1;i+1<=n;i++) {
    if(s[i]==s[i+1]) {
        printf("%c%c\n",s[i],s[i+1]);
        break;
    }
}
```

### 推荐题目

1. [P3375 【模板】KMP字符串匹配](https://www.luogu.com.cn/problem/P3375)
2. [P3805 【模板】Manacher算法](https://www.luogu.com.cn/problem/P3805)
3. [P3370 【模板】字符串哈希](https://www.luogu.com.cn/problem/P3370)

---
处理用时：29.50秒
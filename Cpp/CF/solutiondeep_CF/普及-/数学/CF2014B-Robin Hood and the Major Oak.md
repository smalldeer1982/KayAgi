# 题目信息

# Robin Hood and the Major Oak

## 题目描述

在 Sherwood（原文地名）里，树木是我们的庇护所，我们都是森林的孩子。

Sherwood 中的 Major Oak（原文物品名称）以它宏伟的树叶而闻名，这些树叶为 Robin Hood（原文人名）和他的快乐男男女女们提供了庇护。

Major Oak 在 $i$ 年长出 $i^i$ 片新叶子。它从第一年开始就有 $1$ 片叶子。

树叶在树上最多能持续 $k$ 年。换句话说，第 $i$ 年长出的树叶可以持续到第 $i$ 年到第 $i+k-1$ 年。

这段文本的意思是：Robin 认为偶数是幸运的。请帮助 Robin 确定 Major Oak 在第 $n$ 年是否有偶数片叶子。

## 说明/提示

在第一个测试用例中，只有 $ 1 $ 片叶子。

在第二个测试用例中，$ k=1 $ ，所以第 $ 2 $ 年会有 $ 2^2=4 $ 片叶子。

在第三个测试用例中，$ k=2 $ ，所以第 $ 2 $ 年会有 $ 1+2^2=5 $ 片叶子。

在第四个测试用例中，$ k=2 $ ，所以第 $ 3 $ 年会有 $ 2^2 + 3^3 = 4 + 27 = 31 $ 片叶子。

翻译者：[jiangyunuo](https://www.luogu.com.cn/user/1061050)。

## 样例 #1

### 输入

```
5
1 1
2 1
2 2
3 2
4 4```

### 输出

```
NO
YES
NO
NO
YES```

# AI分析结果

### 题目内容重写

# Robin Hood 和 Major Oak

## 题目描述

在 Sherwood 里，树木是我们的庇护所，我们都是森林的孩子。

Sherwood 中的 Major Oak 以它宏伟的树叶而闻名，这些树叶为 Robin Hood 和他的快乐男男女女们提供了庇护。

Major Oak 在第 $i$ 年长出 $i^i$ 片新叶子。它从第一年开始就有 $1$ 片叶子。

树叶在树上最多能持续 $k$ 年。换句话说，第 $i$ 年长出的树叶可以持续到第 $i$ 年到第 $i+k-1$ 年。

这段文本的意思是：Robin 认为偶数是幸运的。请帮助 Robin 确定 Major Oak 在第 $n$ 年是否有偶数片叶子。

## 说明/提示

在第一个测试用例中，只有 $ 1 $ 片叶子。

在第二个测试用例中，$ k=1 $ ，所以第 $ 2 $ 年会有 $ 2^2=4 $ 片叶子。

在第三个测试用例中，$ k=2 $ ，所以第 $ 2 $ 年会有 $ 1+2^2=5 $ 片叶子。

在第四个测试用例中，$ k=2 $ ，所以第 $ 3 $ 年会有 $ 2^2 + 3^3 = 4 + 27 = 31 $ 片叶子。

翻译者：[jiangyunuo](https://www.luogu.com.cn/user/1061050)。

## 样例 #1

### 输入

```
5
1 1
2 1
2 2
3 2
4 4```

### 输出

```
NO
YES
NO
NO
YES```

### 题解分析与结论

#### 综合分析与结论

本题的核心在于判断第 $n$ 年 Major Oak 的叶子总数是否为偶数。由于叶子在第 $i$ 年长出 $i^i$ 片，且叶子最多持续 $k$ 年，因此我们需要计算从 $n-k+1$ 到 $n$ 年的叶子总数，并判断其奇偶性。

所有题解都基于一个关键观察：$i^i$ 的奇偶性与 $i$ 的奇偶性相同。因此，问题转化为计算从 $n-k+1$ 到 $n$ 年的奇数的个数，并判断其是否为偶数。

大多数题解通过直接计算奇数的个数或利用等差数列的性质来判断奇偶性。部分题解还考虑了 $n$ 和 $k$ 的奇偶性对结果的影响。

#### 最优关键思路或技巧

1. **奇偶性简化**：$i^i$ 的奇偶性与 $i$ 的奇偶性相同，因此问题可以简化为计算一段连续整数中奇数的个数。
2. **等差数列求和**：利用等差数列的性质，快速计算奇数的个数，避免直接计算幂运算。
3. **奇偶性判断**：通过判断奇数的个数是否为偶数，来确定叶子总数的奇偶性。

#### 推荐题目

1. [P1226 【模板】快速幂](https://www.luogu.com.cn/problem/P1226) - 快速幂的应用，理解幂运算的奇偶性。
2. [P1045 数论问题](https://www.luogu.com.cn/problem/P1045) - 涉及奇偶性判断和等差数列的应用。
3. [P1010 幂次方](https://www.luogu.com.cn/problem/P1010) - 幂运算的奇偶性及其应用。

### 所选高分题解

#### 题解1：作者：Super_Cube (5星)

**关键亮点**：
- 简洁高效地利用了等差数列的性质，直接计算奇数的个数。
- 代码简洁，逻辑清晰，避免了复杂的条件判断。

**核心代码**：
```cpp
#include<stdio.h>
int T,n,m;
int main(){
    scanf("%d",&T);
    while(T--)
        scanf("%d%d",&n,&m),
        puts((m+(n&1)>>1)&1?"NO":"YES");
    return 0;
}
```
**实现思想**：通过 `(m+(n&1)>>1)` 计算奇数的个数，并判断其是否为偶数。

#### 题解2：作者：_colin1112_ (4星)

**关键亮点**：
- 使用公式 $\left\lfloor \frac{b + 1}{2} \right\rfloor - \left\lfloor \frac{a}{2} \right\rfloor$ 计算奇数的个数，避免了复杂的条件判断。
- 代码结构清晰，易于理解。

**核心代码**：
```cpp
#include <bits/stdc++.h>
#define ll long long
#define endl '\n'

using namespace std;
const int E = 1e6 + 5;

int main(){
    ios::sync_with_stdio(false);
    cin.tie(0);
    ll t;
    cin >> t;
    while (t--){
        ll n, k;
        cin >> n >> k;
        ll a = n - k + 1;
        if (a < 1)
            a = 1;
        ll b = n;
        ll cnt = ((b + 1) >> 1) - (a >> 1);
        if(cnt % 2 == 0)
            cout << "YES\n";
        else
            cout << "NO\n";
    }
    return 0;
}
```
**实现思想**：通过公式计算奇数的个数，并判断其是否为偶数。

#### 题解3：作者：Program_A2 (4星)

**关键亮点**：
- 直接利用等差数列的求和公式，判断总和的奇偶性。
- 代码简洁，逻辑清晰。

**核心代码**：
```cpp
#define I return
#define AK 0
#define IOI ;
#include "bits/stdc++.h"
using namespace std;
int main(){
    int t;
    cin>>t;
    while(t--){
        long long n,k;
        cin>>n>>k;
        if((((n-k+1)+n)*k)/2%2){      //见上文
            cout<<"No\n";
        }else{
            cout<<"Yes\n";
        }
    }
    I AK IOI
}
```
**实现思想**：通过等差数列求和公式计算总和的奇偶性，并判断是否为偶数。

---
处理用时：52.21秒
# 题目信息

# DZY Loves Chessboard

## 题目描述

一个棋盘上有一些格子是坏的，另一些是正常的。对于每一个正常的格子，都要在上面放上棋子。
请找到一组解使没有两个相同颜色的棋子相邻(两个格子相邻为它们存在共同的边)

## 样例 #1

### 输入

```
1 1
.
```

### 输出

```
B
```

## 样例 #2

### 输入

```
2 2
..
..
```

### 输出

```
BW
WB
```

## 样例 #3

### 输入

```
3 3
.-.
---
--.```

### 输出

```
B-B
---
--B```

# AI分析结果



### 题目内容中文重写
# DZY爱棋盘

## 题目描述  
给定一个包含损坏格子和正常格子的棋盘，要求在所有正常格子（用`.`表示）放置棋子，使得相邻（上下左右相邻）棋子颜色不同。损坏格子（用`-`表示）保持原样。请输出任意一种可行解。

## 输入格式  
第一行两个整数n,m表示棋盘行列数  
接下来n行每行m个字符表示棋盘状态

## 输出格式  
n行每行m个字符的最终棋盘布局

---

### 题解综合分析

#### 最优解法共性
所有高分题解均采用**棋盘染色法**：利用国际象棋棋盘的黑白交替特性，将坐标(i+j)的奇偶性作为颜色判断依据。正常格子根据坐标直接填充B/W，损坏格子保持`-`。时间复杂度O(nm)，空间复杂度O(1)。

#### 关键思路与技巧
1. **数学规律应用**：利用(i+j)奇偶性构造解，无需复杂搜索算法  
2. **在线处理**：边读入边处理，节省内存空间  
3. **坐标映射**：将二维坐标转化为奇偶性判断，实现O(1)时间复杂度染色

---

### 精选题解（评分≥4星）

#### 1. 作者：棽木（★★★★★）
**核心亮点**：代码极简，在线处理，单层循环完成染色  
**关键代码**：
```cpp
for(int i=0; i<n; i++) {
    cin>>mp[i];             // 读入整行
    for(int j=0; j<m; j++)  
        if(mp[i][j]=='.')   // 仅处理正常格子
            (i+j)%2==0 ? mp[i][j]='B' : 'W'; 
    cout<<mp[i]<<endl;      // 直接输出处理后的行
}
```

#### 2. 作者：zhaotiensn（★★★★☆）
**核心亮点**：逐字符流处理，避免存储整个矩阵  
**关键代码**：
```cpp
for(int j=1;j<=m;j++){
    a=getchar(); // 实时读取字符
    if(a=='-') putchar('-');
    else putchar( (i+j)&1 ? 'W' : 'B' );
}
```

#### 3. 作者：wshim（★★★★☆）
**核心亮点**：直观的二维数组存储，适合理解棋盘结构  
**关键代码**：
```cpp
if(b[j-1]=='.') {          // b是当前行字符串
    a[i][j] = (i+j)%2 ? 'W' : 'B';
}
```

---

### 同类题目推荐
1. [P1219 八皇后](https://www.luogu.com.cn/problem/P1219) - 棋盘类问题的经典搜索题  
2. [P1162 填涂颜色](https://www.luogu.com.cn/problem/P1162) - 矩阵边界扩展的染色问题  
3. [P3956 棋盘](https://www.luogu.com.cn/problem/P3956) - 带权值约束的棋盘路径问题  

---

### 题解心得摘录
- **wshim**：_"避免行和列中相邻的其中相邻" → 强调构造法的本质是避免相邻冲突_  
- **GVNDN**：_"DFS花了2小时做，结果第9个点还超时" → 体现构造法相对于暴搜的效率优势_  
- **棽木**：_"对角线来考虑也可以" → 提示奇偶性判断的等价数学视角_

---
处理用时：47.89秒
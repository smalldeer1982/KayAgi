# 题目信息

# Creating the Contest

## 题目描述

你有一个包含 $ n $ 个问题的问题集，其中第 $ i $ 个问题的难度为 $ a_i $ ，保证没有难度相同的两个问题，且问题难度按照递增顺序给出。

你需要在这个问题集中取一个子集（不要求问题的顺序连续），满足以下条件：对于每道题目，在该子集中不存在难度超过该问题难度2倍的题目。（仅包含一个问题的子集也是合法的）

求出这个子集最多能包含多少个问题。

## 样例 #1

### 输入

```
10
1 2 5 6 7 10 21 23 24 49
```

### 输出

```
4
```

## 样例 #2

### 输入

```
5
2 10 50 110 250
```

### 输出

```
1
```

## 样例 #3

### 输入

```
6
4 7 12 100 150 199
```

### 输出

```
3
```

# AI分析结果



# 题目重写

## 题目描述

你有一个包含 $n$ 个问题的问题集，其中第 $i$ 个问题的难度为 $a_i$。保证所有问题的难度互不相同且按递增顺序给出。

你需要从中选取一个子集（不要求连续），满足：对于子集中的任意题目，不存在另一道题的难度超过该题难度的两倍。求该子集的最大可能长度。

## 样例 #1

### 输入
```
10
1 2 5 6 7 10 21 23 24 49
```

### 输出
```
4
```

## 样例 #2

### 输入
```
5
2 10 50 110 250
```

### 输出
```
1
```

---

# 题解分析与结论

### 关键思路总结
1. **贪心法最优**：通过连续扫描相邻元素，维护最长满足条件的连续子序列。时间复杂度 $O(n)$，空间复杂度 $O(1)$。
2. **滑动窗口本质**：利用数组有序特性，最优解必然是连续区间，避免了复杂的状态转移。
3. **动态规划优化**：对于无法直接想到贪心的情况，可结合二分查找与单调队列优化，将时间复杂度控制在 $O(n)$。

---

# 精选题解

## 1. 一扶苏一（贪心法）⭐️⭐️⭐️⭐️⭐️

**核心思路**  
从左到右扫描数组，维护当前连续满足条件的子序列长度。当遇到不满足条件的元素时重置计数器，最终取最大值。

**关键实现**  
```cpp
int cnt=1, maxcnt=1;
for(int i=1; i<n; i++) {
    if(2*a[i] >= a[i+1]) cnt++;
    else {
        maxcnt = max(maxcnt, cnt);
        cnt = 1;
    }
}
cout << max(maxcnt, cnt);
```

**亮点**  
- 时间复杂度 $O(n)$，空间复杂度 $O(1)$
- 代码简洁直观，仅需10行核心逻辑

---

## 2. 彭骐飞（单调队列优化DP）⭐️⭐️⭐️⭐️

**核心思路**  
定义 $f[i]$ 为以 $i$ 结尾的最长子序列长度。利用单调队列维护可转移的最优决策点，当计算 $f[i]$ 时弹出不满足条件的元素，保证队首为最优转移点。

**关键实现**  
```cpp
deque<int> q;
for(int i=2; i<=n; i++) {
    while(!q.empty() && a[q.front()]*2 < a[i]) 
        q.pop_front();
    int best = q.empty() ? 0 : q.front();
    f[i] = f[best] + 1;
    while(!q.empty() && f[q.back()] < f[i]) 
        q.pop_back();
    q.push_back(i);
}
```

**亮点**  
- 将动态规划复杂度优化至 $O(n)$
- 展示了单调队列维护决策集合的经典应用

**个人心得**  
> "比赛时没想到贪心，但用单调队列3分钟AC。赛后看到官方贪心解法差点崩溃..."

---

## 3. KagurazakaKano（逆向贪心）⭐️⭐️⭐️⭐️

**核心思路**  
从右向左扫描数组，统计满足条件的连续区间。原理与正向扫描相同，但实现方式稍作变化。

**关键实现**  
```cpp
int ans=1, tep=1;
for(int i=n; i>=1; i--) {
    if(a[i-1]*2 >= a[i]) tep++;
    else ans=max(ans, tep), tep=1;
}
cout << max(ans, tep);
```

**亮点**  
- 逆向思维验证贪心正确性
- 代码结构与正向扫描高度对称

---

# 拓展训练

1. **P1091 合唱队形**（最长上升子序列变形）  
   考察双方向贪心与动态规划的结合应用。

2. **P1020 导弹拦截**（最长不上升子序列）  
   贪心策略结合二分查找的经典问题。

3. **P1719 最大加权矩形**（二维区间和）  
   一维贪心思想向二维问题的扩展，训练降维分析能力。

---
处理用时：46.69秒
# 题目信息

# NIT Destroys the Universe

## 题目描述

定义 $\operatorname{mex}$ 为一个集合中最小的没有出现过的非负整数。

给定一个由 $n$ 个非负整数组成的的序列 $a$，NIT 可以进行若干次操作，每次操作选择 $l$ 和 $r$（$1\le l \le r \le n$），将 $a_l, a_{l+1} \cdots a_r$ 全部修改为 $\operatorname{mex}(\{a_l, a_{l+1} \cdots a_r\})$。本题有多组数据，对于每一组数据，请回答 NIT 最少需要多少次操作可以让整个序列都为 $0$。

## 说明/提示

$1 \le t \le 10^4$，$1 \le n \le 10^5$，$0 \le a_i \le 10^9$，$\sum n \le 2 \cdot 10^5$。

## 样例 #1

### 输入

```
4
4
0 0 0 0
5
0 1 2 3 4
7
0 2 3 0 1 2 0
1
1000000000```

### 输出

```
0
1
2
1```

# AI分析结果



# NIT 毁灭宇宙

## 题目描述

定义 $\operatorname{mex}$ 为一个集合中最小的未出现过的非负整数。

给定一个由 $n$ 个非负整数组成的序列 $a$，NIT 可以进行若干次操作，每次操作选择区间 $[l, r]$（$1 \le l \le r \le n$），将区间内的所有元素修改为 $\operatorname{mex}(\{a_l, a_{l+1}, \dots, a_r\})$。对于每组数据，求最少需要多少次操作才能使整个序列变为全 $0$。

## 题解分析

### 关键思路
1. **操作次数的上界**：任何序列最多需要两次操作。第一次对整个区间操作将序列变为全非零值，第二次操作即可将全序列归零。
2. **分段统计**：统计原数组中连续非零段的个数 $k$：
   - $k=0$：序列已全为 $0$，操作次数为 $0$
   - $k=1$：只需一次操作覆盖该非零段
   - $k \ge 2$：通过两次全局操作即可完成

### 最优解法
- **时间复杂度**：$O(n)$
- **空间复杂度**：$O(1)$
- **核心代码**：
```cpp
int cnt = 0;
for (int i = 0; i < n; ++i) {
    if (a[i] && (i == 0 || a[i-1] == 0)) cnt++;
}
cout << min(2, cnt) << endl;
```

## 精选题解

### 题解1：Dry_ice（⭐⭐⭐⭐⭐）
**亮点**：
- 通过数学归纳证明答案只有三种可能性
- 代码简洁高效，直接统计非零段的边界转换
```cpp
int Ans = (a[n] != 0);
for (int i = 2; i <= n; ++i)
    if (a[i] == 0 && a[i-1] != 0) ++Ans;
printf("%d\n", Ans > 1 ? 2 : Ans);
```

### 题解2：zjk0105（⭐⭐⭐⭐）
**亮点**：
- 直接统计非零段的起始点，逻辑清晰
- 代码简洁，直接取最小值输出
```cpp
for (int i=1; i<=n; i++)
    if (a[i] && a[i-1]==0) ans++;
cout << min(2, ans);
```

### 题解3：SoyTony（⭐⭐⭐⭐）
**亮点**：
- 指出两次操作必然可行的本质原因
- 代码通过分段统计直接处理边界条件
```cpp
int ans = 0;
for (int i=1; i<=n; i++)
    if (a[i] && !a[i-1]) ans++;
cout << min(2, ans);
```

## 拓展思考
1. **类似题型**：寻找操作次数的上界是解决这类问题的常见思路（如 P5019 铺设道路）
2. **思维技巧**：当问题存在明显操作上限时，优先考虑边界情况的处理
3. **调试经验**：注意处理数组首尾的边界条件，确保非零段统计正确

## 推荐练习
1. [P5019 铺设道路](https://www.luogu.com.cn/problem/P5019) - 分段处理最少操作次数
2. [CF1296B 合并硬币](https://codeforces.com/problemset/problem/1296/B) - 贪心策略与操作次数计算
3. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223) - 贪心思想的经典应用

---
处理用时：126.57秒
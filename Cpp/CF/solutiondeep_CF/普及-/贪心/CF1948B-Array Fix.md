# 题目信息

# Array Fix

## 题目描述

给定一个长度为 $n$ 的非负整数序列 $a$，你可以进行如下操作任意次：

- 选择序列中第 $i$ 个数 $a_i$，将其从原序列中删除。然后将这个数字十进制上的每一位数，按原顺序放回序列。

比如，原来有序列 $[12, 3, 45, 67]$，如果选择其中第 $3$ 个数进行操作，那么序列就会变为 $[12, 3, 4, 5, 67]$。

再比如，原来有序列 $[2, 10]$，如果选择其中第 $2$ 个数进行操作，那么序列就会变为 $[2, 1, 0]$。

现在请你判断，是否存在一组操作方案，使得这个序列变得**单调不降**。

即，令最终序列长度为 $k$，那么有 $a_1 \leq a_2 \leq \cdots \leq a_k$。

## 说明/提示

对于 $100 \%$ 的数据，保证 $1 \leq t \leq 10^3, 2 \leq n \leq 50, 0 \leq a_i \leq 99$。

Translated by ShiRoZeTsu.

## 样例 #1

### 输入

```
3
4
12 3 45 67
3
12 28 5
2
0 0```

### 输出

```
YES
NO
YES```

# AI分析结果



**题目内容**

# Array Fix

## 题目描述

给定一个长度为 $n$ 的非负整数序列 $a$，你可以进行如下操作任意次：

- 选择序列中第 $i$ 个数 $a_i$，将其从原序列中删除。然后将这个数字十进制上的每一位数，按原顺序放回序列。

比如，原来有序列 $[12, 3, 45, 67]$，如果选择其中第 $3$ 个数进行操作，那么序列就会变为 $[12, 3, 4, 5, 67]$。

再比如，原来有序列 $[2, 10]$，如果选择其中第 $2$ 个数进行操作，那么序列就会变为 $[2, 1, 0]$。

现在请你判断，是否存在一组操作方案，使得这个序列变得**单调不降**。

即，令最终序列长度为 $k$，那么有 $a_1 \leq a_2 \leq \cdots \leq a_k$。

## 说明/提示

对于 $100 \%$ 的数据，保证 $1 \leq t \leq 10^3, 2 \leq n \leq 50, 0 \leq a_i \leq 99$。

---

### 题解分析与结论

#### 关键思路对比
1. **从后往前处理**（4星）：通过倒序扫描数组，每次保证当前元素与后续元素满足单调性，若需拆分则验证拆分后的十位与个位是否符合条件。例如题解作者 What__can__I__say 和 2022_37_yzyUUU。
2. **贪心策略**（3星）：正序遍历时根据十位和个位的关系决定是否拆分，但可能无法处理后续影响，如题解作者 _KHIN。
3. **暴力枚举断点**（2星）：枚举每个位置作为拆分与非拆分的分界点，时间复杂度较高但能通过小数据范围，如题解作者 liyifan202201。

#### 最优思路总结
**逆向贪心法**：从后往前遍历数组，维护当前最小值 `mi`。若当前元素 `a[i] > mi`，尝试拆分：
- 若拆分后的十位 `a[i]/10` ≤ 个位 `a[i]%10` 且拆分后的十位 ≤ `mi`，则更新 `mi` 为十位。
- 否则直接判定失败。

#### 核心代码实现
```cpp
// 逆向贪心法核心代码（作者 2022_37_yzyUUU）
int mi = a[n];
for (int i = n-1; i >= 1; i--) {
    if (a[i] > mi) {
        if (a[i] % 10 > mi || a[i]/10 > a[i]%10) {
            cout << "NO\n";
            return;
        }
        mi = a[i]/10; // 更新为十位
    } else {
        mi = a[i]; // 不拆分
    }
}
```

#### 调试与优化经验
- **逆向处理消除后效性**：正序处理时拆分操作可能影响后续元素，而逆序处理时后续元素已是最优解。
- **边界条件**：需单独处理 `a[i]` 为个位数时无法拆分的情况。

---

### 相似题目推荐
1. [P2894 酒店 Hotel](https://www.luogu.com.cn/problem/P2894)  
   **相似点**：贪心策略维护区间特性。
2. [P1106 删数问题](https://www.luogu.com.cn/problem/P1106)  
   **相似点**：通过删除/拆分操作构造最优序列。
3. [P1563 珍珠](https://www.luogu.com.cn/problem/P1563)  
   **相似点**：序列调整后满足单调性的逆向思维。

---
处理用时：51.84秒
# 题目信息

# Magnitude (Easy Version)

## 题目描述

### **题目翻译描述**

这个问题的两个版本是不同的。你可能想阅读这两个版本。这样，只有两个版本都解决了，你才能成为黑客。

您将获得一个长度n的数组。C=0.然后，对于从i到n（按升序排列）执行以下操作之一：

选项1：将c设置为c+$a_{i} $。
 
选项2：放c到∣c+$a_{i}$∣，其中∣x∣表示x的绝对值。

你要使运行上述过程之后的c的最大最终值等于k，并且找到输出k。

## 样例 #1

### 输入

```
5
4
10 -9 -3 4
8
1 4 3 4 1 4 3 4
3
-1 -2 -3
4
-1000000000 1000000000 1000000000 1000000000
4
1 9 8 4```

### 输出

```
6
24
6
4000000000
22```

# AI分析结果



# 中文题目翻译

## 题目名称：量级（简易版）

### 题目描述

问题的两个版本不同。你可能需要阅读两个版本。只有两个版本都解决，你才能进行Hack。

给定一个长度为n的数组。初始时C=0。对于每个元素从i=1到n（按升序）执行以下操作之一：

选项1：将c更新为c + a_i  
选项2：将c更新为|c + a_i|（取绝对值）

要求通过选择最优操作，使得最终c的最大可能值k最大，并输出k。

---

# 题解综合分析

## 关键思路总结
1. **状态维护法**：每个步骤维护当前可能的最大值`max_c`和最小值`min_c`。因为绝对值的特性，当前步骤的最优值只能由前一步的两个极值转换而来。
   - 时间复杂度O(n)，空间复杂度O(1)
   - 覆盖所有可能操作路径，通过动态转移保证最优性

2. **前缀和极值法**：最优解必然在某次使前缀和最小的位置进行绝对值操作，最终结果=总和-2×最小前缀和
   - 时间复杂度O(n)，需要数学证明其正确性
   - 利用前缀和特性简化计算

## 精选题解

### 题解1：ikunTLE（★★★★★）
**核心思路**：维护每一步的最大和最小值，考虑四种可能转换（当前极值加数/取绝对值）  
**亮点**：
- 直观的状态转移模型
- 代码简洁高效，空间优化到位
```cpp
long long max_c=0,min_c=0;
for(int i=1;i<=n;++i){
    long long maxx=max_c+a[i], minn=min_c+a[i];
    max_c = max({maxx, abs(maxx), minn, abs(minn)});
    min_c = min({minn, abs(minn), maxx, abs(maxx)});
}
printf("%lld\n",max_c);
```

### 题解2：aeiouaoeiu（★★★★☆）
**核心思路**：动态规划记录每个步骤的极值，与上解思路本质相同  
**亮点**：
- 明确的DP状态定义
- 完整的状态转移方程推导
```cpp
ll f[maxn][2]; // f[i][0]:min, f[i][1]:max
for(int i=1;i<=n;i++){
    f[i][0] = min({f[i-1][0]+a[i], abs(f[i-1][0]+a[i]),
                   f[i-1][1]+a[i], abs(f[i-1][1]+a[i])});
    f[i][1] = max({f[i-1][0]+a[i], abs(f[i-1][0]+a[i]),
                   f[i-1][1]+a[i], abs(f[i-1][1]+a[i])});
}
```

### 题解3：littlebug（★★★★☆）
**核心思路**：找到最小前缀和位置进行一次绝对值操作  
**亮点**：
- 数学推导简洁高效
- 代码实现极简
```cpp
ll sum = 0, mn = 0;
for(int i=1; i<=n; i++){
    sum += a[i];
    mn = min(mn, sum);
}
cout << sum - 2*mn << endl;
```

---

# 拓展与技巧

## 关键技巧
1. **极值传递性**：对于包含绝对值的动态过程，只需关注极端状态
2. **贪心选择证明**：证明中间状态的无效性可大幅简化问题
3. **数学观察**：寻找问题中的特殊数学关系（如总和与极值的关系）

## 相似题目
1. [CF1984C2 Magnitude (Hard Version)](https://www.luogu.com.cn/problem/CF1984C2)（本题困难版）
2. [P1352 股票的最大收益](https://www.luogu.com.cn/problem/P1352)（极值维护思想）
3. [P1018 乘积最大](https://www.luogu.com.cn/problem/P1018)（动态规划维护极值）

---
处理用时：142.80秒
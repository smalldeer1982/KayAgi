# 题目信息

# Diverse Game

## 题目描述

### 题目大意
给定一个 $n\times m$ 的矩阵 $a$，该矩阵的每个元素都是 $\left[1,n\cdot m\right]$ 内的整数且互不相同。请求出一个矩阵 $b$，满足：

- $b$ 的每个元素都是 $\left[1,n\cdot m\right]$ 内的整数且互不相同。
- $\forall 1\le i\le n,1\le j \le m:a_{i,j}\neq b_{i,j}$。

## 样例 #1

### 输入

```
5
1 1
1
2 1
2
1
1 5
2 4 5 3 1
2 4
1 2 3 4
5 6 7 8
3 3
4 2 1
9 8 3
6 7 5```

### 输出

```
-1
1 
2 
4 5 3 1 2 
6 7 8 5 
2 3 4 1 
8 3 9 
7 5 6 
2 1 4```

# AI分析结果



# Diverse Game 题解翻译

## 题目描述

给定一个 $n\times m$ 的矩阵 $a$，其元素是 $[1, n\cdot m]$ 内互不相同的整数。构造一个满足以下条件的矩阵 $b$：
1. $b$ 的元素也是 $[1, n\cdot m]$ 内互不相同的整数
2. 每个位置元素与原矩阵不同：$\forall i,j,\ a_{i,j} \neq b_{i,j}$

## 样例输入与输出
（见原题内容）

---

# 题解综合分析

### 核心思路总结
**最优解法**：数值循环平移法（所有元素+1，超限则取模）。时间复杂度 $O(nm)$，空间复杂度 $O(1)$，代码简洁且普适性强。

### 关键算法证明
1. **唯一性**：原矩阵元素唯一，+1 后仍唯一（若 $a_{i,j} +1 \equiv a_{x,y} \ (\text{mod}\ nm)$，则 $a_{i,j} \equiv a_{x,y}-1$，与原矩阵唯一性矛盾）
2. **位置不同**：$b_{i,j} = (a_{i,j} \mod nm) +1 \neq a_{i,j}$

---

# 高星题解推荐（评分≥4）

## 1. ELECTRODE_kaf（★★★★★）
**核心思路**：每个元素+1，超限时置为1  
**亮点**：代码极简（仅需3行核心逻辑），无需额外空间，直接输出时计算  
**关键代码**：
```cpp
rep(i,1,n) rep(j,1,m) 
    cout<<(a[i][j]+1>n*m ? 1 : a[i][j]+1)<<' ';
```

## 2. flangeborg（★★★★☆）
**核心思路**：元素-1，特判1变为$n\cdot m$  
**亮点**：逆向思维，避免取模运算  
**代码片段**：
```cpp
if(a[i][j] == 1) cout << n*m << " ";
else cout << a[i][j]-1 << " ";
```

## 3. GreenMelon（★★★★☆）
**核心思路**：统一用模运算表达：$b_{i,j}=(a_{i,j} \mod nm)+1$  
**亮点**：数学表达优雅，避免分支判断  
**代码实现**：
```cpp
cout<<a[i][j]%(n*m)+1<<" ";
```

---

# 同类题目推荐
1. [CF1156B - Ugly Pairs](https://www.luogu.com.cn/problem/CF1156B)（构造相邻字符差不过1的排列）
2. [P2894 [USACO08FEB] Hotel G](https://www.luogu.com.cn/problem/P2894)（区间覆盖与构造）
3. [CF1433D Districts Connection](https://www.luogu.com.cn/problem/CF1433D)（图论构造中的异值连接）

---
处理用时：67.14秒
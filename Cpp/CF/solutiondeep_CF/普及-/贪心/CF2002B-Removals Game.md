# 题目信息

# Removals Game

## 题目描述

Alice 得到了一个排列 $a_1, a_2, \ldots, a_n$，它是 $[1,2,\ldots,n]$ 的一个排列，而 Bob 也得到了另一个排列 $b_1, b_2, \ldots, b_n$，同样是 $[1,2,\ldots,n]$ 的一个排列。他们打算用这两个数组来进行一个游戏。

每轮游戏中，以下事件按顺序发生：

- Alice 选择她数组中的第一个或最后一个元素并将其从数组中移除；
- Bob 选择他数组中的第一个或最后一个元素并将其从数组中移除。

游戏持续进行 $n-1$ 轮，之后两个数组都将只剩下一个元素：$a$ 数组中的 $x$ 和 $b$ 数组中的 $y$。

如果 $x=y$，Bob 获胜；否则，Alice 获胜。假设两个玩家都采取最优策略，请找出哪个玩家将获胜。

## 说明/提示

在第一个测试用例中，Bob 可以通过删除与 Alice 相同的元素来赢得游戏。

在第二个测试用例中，Alice 可以在第一轮删除 $3$，然后在第二轮删除与 Bob 第一轮删除的不同元素来赢得游戏。

## 样例 #1

### 输入

```
2
2
1 2
1 2
3
1 2 3
2 3 1```

### 输出

```
Bob
Alice```

# AI分析结果



【题目中文翻译】

# 移除游戏

## 题目描述

Alice 得到了一个排列 $a_1, a_2, \ldots, a_n$，它是 $[1,2,\ldots,n]$ 的一个排列，Bob 也得到了另一个排列 $b_1, b_2, \ldots, b_n$，同样是 $[1,2,\ldots,n]$ 的排列。他们用这两个数组进行游戏。

每轮游戏中：
1. Alice 移除自己数组的第一个或最后一个元素；
2. Bob 移除自己数组的第一个或最后一个元素。

游戏进行 $n-1$ 轮后，两个数组各剩一个元素 $x$ 和 $y$。若 $x=y$ 则 Bob 获胜，否则 Alice 获胜。双方都采取最优策略时，确定获胜者。

---

### 综合分析与结论
所有题解的核心思路一致：当且仅当两个数组完全相同或互为逆序时，Bob 必胜；否则 Alice 必胜。该结论基于双方最优策略下无法破坏对称性的特性，其他情况下 Alice 总能通过操作破坏匹配可能。

---

### 精选题解

#### 1. 作者：Distorted_Fate_（★★★★☆）
**关键亮点**  
- 直接通过正序/逆序匹配判断结果  
- 代码简洁高效，时间复杂度 $O(n)$  
- 准确抓住核心判断条件

```cpp
bool check1(){ // 正序匹配检查
    for(int i=1;i<=n;i++)
        if(a[i]!=b[i])return 0;
    return 1;
}
bool check2(){ // 逆序匹配检查
    for(int i=1;i<=n;i++)
        if(a[i]!=b[n-i+1])return 0;
    return 1;
}
// 主逻辑
if(check1()||check2()) cout<<"Bob\n";
else cout<<"Alice\n";
```

#### 2. 作者：lzh9（★★★★☆）
**关键亮点**  
- 通过数学归纳法解释操作过程  
- 详细分析三种操作情况的博弈逻辑  
- 代码实现与理论分析高度统一

```cpp
for(int i=1;i<=n;i++){
    if(a[i]!=b[i]) flag1=0;
    if(a[i]!=b[n+1-i]) flag2=0;
}
if(flag1||flag2) cout<<"Bob\n";
else cout<<"Alice\n";
```

---

### 关键思路总结
**博弈策略核心**：  
1. **对称性保持**：当数组完全相同时，Bob 可镜像操作保持同步；当互为逆序时，Bob 可反向镜像操作  
2. **不对称破坏**：若数组不满足上述条件，Alice 总能通过首尾选择破坏所有可能的匹配路径  

**实现技巧**：  
- 通过双指针法同时遍历正序和逆序关系  
- 提前终止的循环优化（发现不匹配立即跳出）

---

### 拓展思考
**同类问题套路**：  
1. 博弈问题中寻找保持对称性的必胜条件  
2. 利用排列特性简化问题分析（如本题中元素唯一性）

**推荐练习题**：  
1. [CF1765B - Broken Keyboard](https://codeforces.com/problemset/problem/1765/B)（博弈策略分析）  
2. [P8679 [蓝桥杯 2019 省 B] 后缀表达式](https://www.luogu.com.cn/problem/P8679)（操作顺序影响结果）  
3. [P1247 取火柴游戏](https://www.luogu.com.cn/problem/P1247)（Nim博弈变形）  

---

### 题解心得摘录
> "当两人数组不同且非逆序时，Alice 总能通过破坏性操作获胜。例如样例二中，Alice 先删3使后续操作产生不对称" —— 作者：lzh9  
> "判断正序/逆序匹配只需线性遍历，无需复杂算法" —— 作者：Distorted_Fate_

---
处理用时：49.57秒
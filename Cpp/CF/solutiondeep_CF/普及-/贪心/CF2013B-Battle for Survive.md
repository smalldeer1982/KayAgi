# 题目信息

# Battle for Survive

## 题目描述

Eralim（原文人名）作为 mafia（原文组织名）老大，管理着 $n$ 名战士。第 $i$ 名战士的评分为 $a_i$。

Eralim 安排了一场 $n-1$ 场战斗的锦标赛，每场战斗中都会选择两名尚未被淘汰的战士 $i$ 和 $j$（其中 $1 \le i < j \le n$），而战斗的结果是战士 $i$ 被淘汰出比赛，战士 $j$ 的评分会减去战士 $i$ 的评分相同。也就是说，$a_j$ 会减去 $a_i$。请注意，战士 $j$ 的评分可能会变为负数。战士们的编号不会改变。

Eralim 想知道，如果他最优地选择战斗，最后剩下的那名战士最多能保持多少评分。

## 说明/提示

在第一个例子中，你可以安排编号为 $1$ 和 $2$ 的战士之间的比赛，其中编号为 $2$ 的战士会获胜。最后一个战士的评分，即编号为 $2$ 的战士，将是 $1-2=-1$。

在第二个例子中，你可以先让编号为 $1$ 和 $2$ 的战士进行比赛，其中编号为 $2$ 的战士会获胜，然后让编号为 $2$ 和 $3$ 的战士进行比赛，其中编号为 $3$ 的战士会获胜。

在第一场比赛后，编号为 $2$ 的战士的评分将是 $2-2=0$。在第二场比赛后，编号为 $3$ 的战士的评分将是 $8-0=8$。

翻译者：[jiangyunuo](https://www.luogu.com.cn/user/1061050)。

## 样例 #1

### 输入

```
5
2
2 1
3
2 2 8
4
1 2 4 3
5
1 2 3 4 5
5
3 2 4 5 4```

### 输出

```
-1
8
2
7
8```

# AI分析结果



# Battle for Survive

## 题目描述

Eralim 作为 mafia 老大，管理着 $n$ 名战士。第 $i$ 名战士的评分为 $a_i$。

Eralim 安排了一场 $n-1$ 场战斗的锦标赛，每场战斗中都会选择两名尚未被淘汰的战士 $i$ 和 $j$（其中 $1 \le i < j \le n$），战斗结果是战士 $i$ 被淘汰，战士 $j$ 的评分减去 $a_i$（可能变为负数）。求最后剩下的战士能获得的最大评分。

---

## 题解分析与结论

### 关键思路总结
所有题解均基于以下核心观察：
1. **最后存活者固定**：由于每次战斗必须选择编号较小的战士作为被淘汰者，最终剩下的必然是编号最大的战士 $a_n$
2. **最优策略构造**：通过让 $a_{n-1}$ 依次吸收前 $n-2$ 个战士的评分，再让 $a_n$ 与 $a_{n-1}$ 战斗，此时最大评分为 $\text{sum} - 2 \times a_{n-1}$，其中 sum 为所有战士初始评分之和

### 评分较高题解

#### 题解作者：jiangyunuo（★★★★☆）
**核心亮点**：
- 清晰解释最终存活者的必然性
- 代码简洁高效，直接累加除 $a_{n-1}$ 外的所有元素
- 正确处理数据类型（使用 long long）

**关键代码**：
```cpp
long long ans = 0;
for(int j=1;j<=n;j++) {
    cin>>a;
    if(j==n-1) ans -= a;
    else ans += a;
}
```

#### 题解作者：lw393（★★★★☆）
**核心亮点**：
- 数学推导简洁（总和减两倍倒数第二项）
- 代码直接基于公式实现，时间复杂度 O(n)
- 完整处理多组测试用例

**关键代码**：
```cpp
int sum = 0;
for(int i=1; i<=n; i++) sum += a[i];
cout << sum - 2*a[n-1];
```

#### 题解作者：cqbzhzf（★★★★☆）
**核心亮点**：
- 详细数学归纳法推导公式
- 强调数据范围处理（使用 long long）
- 代码包含完整输入输出框架

**关键代码**：
```cpp
int sum = 0;
for(int i=1; i<=n; i++) sum += a[i];
cout << sum - 2*a[n-1];
```

---

## 拓展应用
1. **同类问题套路**：当操作具有方向性（如只能小下标影响大下标）时，通常需要逆向思维构造最优策略
2. **数学建模训练**：将操作过程转化为数学表达式化简的能力
3. **贪心思想**：通过局部最优（让中间变量尽可能小）推导全局最优

---

## 相似题目推荐
1. [P1007 独木桥](https://www.luogu.com.cn/problem/P1007) - 贪心策略的最值问题
2. [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094) - 双指针贪心优化
3. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223) - 时间序列的最优安排

---
处理用时：74.30秒
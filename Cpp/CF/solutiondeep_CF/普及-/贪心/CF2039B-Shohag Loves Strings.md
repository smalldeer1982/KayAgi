# 题目信息

# Shohag Loves Strings

## 题目描述

# Shohag Loves Strings

## 问题描述

给定一个字符串 $s$，定义 $f(p)$ 为字符串 $p$ 的所有不同的非空子字符串的数量。从字符串 $s$ 中找到一个非空子字符串 $p$，使得 $f(p)$ 为偶数。如果找不到这样的子字符串，则输出 $-1$。

## 样例 #1

### 输入

```
5
dcabaac
a
youknowwho
codeforces
bangladesh```

### 输出

```
abaa
-1
youknowwho
eforce
bang```

# AI分析结果



# Shohag Loves Strings 中文题意重写

## 题目描述

给定一个字符串 $s$，定义 $f(p)$ 为字符串 $p$ 的所有不同的非空子字符串的数量。从字符串 $s$ 中找到一个非空子字符串 $p$，使得 $f(p)$ 为偶数。如果找不到这样的子字符串，则输出 $-1$。

## 样例 #1

### 输入

```
5
dcabaac
a
youknowwho
codeforces
bangladesh
```

### 输出

```
abaa
-1
youknowwho
eforce
bang
```

---

# 综合题解分析

### 关键思路总结
所有题解的核心策略都是优先检查两种特殊子串：
1. **长度为2的重复字符子串（如"aa"）**：其本质不同子串数为2（偶数）
2. **长度为3的互异字符子串（如"abc"）**：其本质不同子串数为6（偶数）

若上述两种情况均不存在，则字符串必然呈现交替模式（如"ababab..."），此时所有子串的本质不同子串数均为奇数，直接返回-1。

### 最优题解亮点

#### 题解作者：wangyizhi（4星）
**核心亮点**：
- 分类讨论不同长度子串的性质
- 优先处理相邻重复字符的高效策略
- 代码逻辑清晰，边界条件处理完善

**关键代码**：
```cpp
for(int i=1;i<n;i++) {
    if(s[i]==s[i-1]) { // 处理长度为2的情况
        cout<<s[i-1]<<s[i]<<endl;
        flag=1; break;
    }
}
if(flag) continue;
for(int i=2;i<n;i++) { // 处理长度为3的情况
    if(s[i]!=s[i-1]&&s[i-1]!=s[i-2]&&s[i]!=s[i-2]) {
        cout<<s[i-2]<<s[i-1]<<s[i]<<endl;
        flag=1; break;
    }
}
```

#### 题解作者：lunjiahao（4星）
**核心亮点**：
- 数学归纳法证明交替模式的不可行性
- 代码下标处理规范，避免越界风险
- 对长度为3的子串进行严格三字符互异判断

**代码片段**：
```cpp
for(int i=1;i+2<=n;i++) {
    if(st[i]!=st[i+1]&&st[i]!=st[i+2]&&st[i+1]!=st[i+2]) {
        printf("%c%c%c\n",st[i],st[i+1],st[i+2]);
        flag=true; break;
    }
}
```

#### 题解作者：Binah_cyc（3.5星）
**特色亮点**：
- 代码极度简洁，仅保留核心逻辑
- 使用函数封装判断逻辑
- 适合竞赛快速编码场景

**实现思路**：
```cpp
bool solve() {
    for(int i=1;i<s.length();i++) 
        if(s[i]==s[i-1]) return ...; // 检查相邻重复
    for(int x=0;x+3-1<s.length();x++)
        if(s[x]!=s[x+1]&&s[x]!=s[x+2]&&s[x+1]!=s[x+2]) // 检查三字符互异
    return 0;
}
```

---

# 拓展练习
1. **P1141 最长公共子串** - 考察字符串模式识别
2. **P1039 字符串的展开** - 处理特殊字符串生成规则
3. **P1368 工艺** - 最小循环子串的快速判断

**思维延伸**：此类问题常用"找最小可行解"策略，在字符串处理中优先检查长度较短的情况往往能大幅降低时间复杂度。类似思路可用于回文子串检测、模式匹配等场景。

---
处理用时：48.68秒
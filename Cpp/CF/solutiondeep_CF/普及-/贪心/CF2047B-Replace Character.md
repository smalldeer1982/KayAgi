# 题目信息

# Replace Character

## 题目描述

给定一个长度为 $n$ 的字符串 $s$，只包含小写英文字母。

你只能进行一次如下操作：

- 选择任意两个下标 $i$ 和 $j$ ($1\le i,j\le n$)，允许选择 $i=j$。
- 将 $s_i$ 赋值为 $s_j$。

你需要最小化 $s$ 不同排列的个数。输出在一次操作后满足条件的任何一个字符串 $s$。

字符串的一个排列是打乱其字符顺序后形成的新字符串。比如 `bac` 是 `abc` 的一个排列，而 `bcc` 不是。

## 样例 #1

### 输入

```
6
3
abc
4
xyyx
8
alphabet
1
k
10
aabbccddee
6
ttbddq```

### 输出

```
cbc
yyyx
alphaaet
k
eabbccddee
tttddq```

# AI分析结果



# Replace Character

## 题目描述

给定一个长度为 $n$ 的字符串 $s$，只包含小写英文字母。

你只能进行一次如下操作：

- 选择任意两个下标 $i$ 和 $j$ ($1\le i,j\le n$)，允许选择 $i=j$。
- 将 $s_i$ 赋值为 $s_j$。

你需要最小化 $s$ 不同排列的个数。输出在一次操作后满足条件的任何一个字符串 $s$。

字符串的一个排列是打乱其字符顺序后形成的新字符串。比如 `bac` 是 `abc` 的一个排列，而 `bcc` 不是。

---

### 综合分析与结论

通过最大化分母 $\prod a_k!$ 来最小化排列数。最优策略是将出现次数最少的字符替换为出现次数最多的字符。若所有字符相同则无需修改。

#### 最优题解亮点

1. **封禁用户（4星）**
   - 核心思路：桶统计字符频率，替换第一个最小频率字符为最大频率字符
   - 代码亮点：处理全相同字符的边界条件
   - 关键代码：
     ```cpp
     // 统计字符频率
     for(int i = 0 ; i < 26 ; i++) {
         if(tong[i] > maxt) { maxt = tong[i]; maxp = i; }
         if(tong[i] && tong[i] <= mint) { mint = tong[i]; minp = i; }
     }
     // 替换逻辑
     for(int i = 1 ; i <= n ; i++) {
         if(a[i] - 'a' == minp) { a[i] = maxp + 'a'; break; }
     }
     ```

2. **hgcnxn（4星）**
   - 核心思路：通过排序快速定位最大最小频率字符
   - 实现技巧：使用结构体排序简化查找
   - 关键代码：
     ```cpp
     sort(a, a+26, cmp); // 按频率降序排序
     mn = 25;
     while(a[mn].num == 0) mn--; // 找最小非零频率
     for(int i=0; i<n; i++) {
         if(s[i] == mn+'a') { s[i] = mx+'a'; break; }
     }
     ```

3. **Drifty（4星）**
   - 核心思路：双重遍历同时记录最大最小值
   - 优化点：单次遍历完成极值查找
   - 关键代码：
     ```cpp
     for(char i='a'; i<='z'; i++) {
         if(cnt[i] > pos) ans = i, pos = cnt[i];  // 最大值
         if(cnt[i] && cnt[i] <= minn) ppt = i, minn = cnt[i];  // 最小值
     }
     ```

---

### 拓展思路

同类问题可考虑以下套路：
1. **频率极值贪心**：在需要调整元素分布的题目中，优先考虑极值操作
2. **排列数公式应用**：涉及多重集合排列问题时，$\frac{n!}{\prod a_i!}$ 公式是关键
3. **暴力枚举优化**：小规模数据可用暴力，但需注意阶乘计算的溢出问题

---

### 推荐习题
1. [P1106 删数问题](https://www.luogu.com.cn/problem/P1106) - 贪心策略与极值操作
2. [P1031 均分纸牌](https://www.luogu.com.cn/problem/P1031) - 通过操作调整元素分布
3. [P1603 斯诺登的密码](https://www.luogu.com.cn/problem/P1603) - 字符频率与排列组合应用

---
处理用时：95.30秒
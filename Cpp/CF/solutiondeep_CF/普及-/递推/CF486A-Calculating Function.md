# 题目信息

# Calculating Function

## 题目描述

For a positive integer $ n $ let's define a function $ f $ :

 $ f(n)=-1+2-3+..+(-1)^{n}n $

Your task is to calculate $ f(n) $ for a given integer $ n $ .

## 说明/提示

 $ f(4)=-1+2-3+4=2 $

 $ f(5)=-1+2-3+4-5=-3 $

## 样例 #1

### 输入

```
4
```

### 输出

```
2
```

## 样例 #2

### 输入

```
5
```

### 输出

```
-3
```

# AI分析结果

### 题目翻译
# 计算函数

## 题目描述
对于一个正整数 $n$，我们定义一个函数 $f$：

$f(n)= -1 + 2 - 3 + \cdots + (-1)^{n}n$

你的任务是计算给定整数 $n$ 对应的 $f(n)$ 值。

## 说明/提示
$f(4)= -1 + 2 - 3 + 4 = 2$

$f(5)= -1 + 2 - 3 + 4 - 5 = -3$

## 样例 #1
### 输入
```
4
```
### 输出
```
2
```

## 样例 #2
### 输入
```
5
```
### 输出
```
-3
```

### 综合分析与结论
这些题解的主要思路都是先尝试常规方法（如循环、递推），但由于数据范围（$1\leq n\leq 10^{15}$）较大，常规方法会超时，所以都转向找规律来解决问题。算法要点在于根据 $n$ 的奇偶性分类讨论：当 $n$ 为偶数时，$f(n) = n/2$；当 $n$ 为奇数时，$f(n)=-(n/2 + 1)$ 或化简后的形式。解决的难点是如何避免因数据范围大而导致的超时问题，通过找规律成功解决。

### 所选题解
- **作者：A_Đark_Horcrux (5星)**
    - **关键亮点**：思路清晰，直接点明找规律的方法，代码简洁明了。
    - **核心代码**：
```cpp
#include<iostream>
using namespace std;
int main()
{
    long long n,i;
    cin>>n;
    if(n%2==0)
        cout<<n/2;
    else
        cout<<-n/2-1;
    return 0;
}
```
核心实现思想：根据输入的 $n$ 判断其奇偶性，偶数时输出 $n/2$，奇数时输出 $-n/2 - 1$。

- **作者：Fatelism (4星)**
    - **关键亮点**：详细记录了从超时到找规律优化的过程，思路完整。
    - **核心代码**：
```cpp
#include<iostream>
using namespace std;
int main(){
    long long n,ans;
    cin>>n;
    if(n%2==0)ans=n/2;
    else ans=-1*(n/2+1);
    cout<<ans;
    return 0;
}
```
核心实现思想：先读取输入的 $n$，根据其奇偶性计算结果并输出。

- **作者：阿柒 (4星)**
    - **关键亮点**：代码结构清晰，注释简单明了。
    - **核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
long long int a;
int main()
{
    cin>>a;
    if(a%2==0)
    {
        cout<<a/2<<endl;
    }
    else
    {
        cout<<-a/2-1<<endl;
    }
    return 0;
}
```
核心实现思想：读取输入的 $a$，根据奇偶性输出对应的结果。

### 最优关键思路或技巧
当遇到数据范围较大导致常规算法超时的问题时，要尝试从数学规律的角度去分析问题，通过找规律简化计算过程，避免不必要的循环和递推。

### 可拓展之处
同类型题目可能会给出更复杂的函数表达式，同样可以先尝试列举一些较小的 $n$ 值，观察结果的规律，再根据规律进行分类讨论求解。类似的算法套路在处理数列求和、函数计算等问题中都可能用到。

### 推荐题目
- [P1001 A+B Problem](https://www.luogu.com.cn/problem/P1001)
- [P1425 小鱼的游泳时间](https://www.luogu.com.cn/problem/P1425)
- [P1035 级数求和](https://www.luogu.com.cn/problem/P1035)

### 个人心得摘录与总结
- **作者：Fatelism**：直接套公式用循环计算会超时，原因是数据范围大，循环次数过多。这提醒我们在做题前要先看数据范围，若范围大则不能简单使用暴力算法，要寻找更优的解法。
- **作者：Remake_**：尝试用递推和各种玄学优化都无法解决超时问题，最终确定用数论找规律的方法。这表明在遇到问题时要不断尝试不同的方法，当常规方法不行时，要转换思路。 

---
处理用时：29.38秒
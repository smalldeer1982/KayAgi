# 题目信息

# Equal Rectangles

## 题目描述

## 题意简述

你得到了 $4n$ 根木棍。如果这 $4n$ 根木棍可以拼成 $n$ 个面积相同的矩形，请输出 `YES`，否则输出 `NO`。木棍不可以拼接、剪断和不用完。

## 样例 #1

### 输入

```
5
1
1 1 10 10
2
10 5 2 10 1 1 2 5
2
10 5 1 10 5 1 1 1
2
1 1 1 1 1 1 1 1
1
10000 10000 10000 10000
```

### 输出

```
YES
YES
NO
YES
YES
```

# AI分析结果

### 题目内容重写
# 相等的矩形

## 题目描述

你得到了 $4n$ 根木棍。如果这 $4n$ 根木棍可以拼成 $n$ 个面积相同的矩形，请输出 `YES`，否则输出 `NO`。木棍不可以拼接、剪断和不用完。

## 样例 #1

### 输入

```
5
1
1 1 10 10
2
10 5 2 10 1 1 2 5
2
10 5 1 10 5 1 1 1
2
1 1 1 1 1 1 1 1
1
10000 10000 10000 10000
```

### 输出

```
YES
YES
NO
YES
YES
```

### 算法分类
贪心、排序

### 题解分析与结论
本题的核心思路是通过排序和贪心策略来判断是否可以将 $4n$ 根木棍拼成 $n$ 个面积相同的矩形。大多数题解都采用了以下步骤：
1. **排序**：将木棍长度从小到大排序。
2. **配对**：将最短的木棍与最长的木棍配对，次短的与次长的配对，以此类推。
3. **面积判断**：检查所有配对的木棍是否能够组成面积相同的矩形。

### 所选高星题解
#### 题解1：作者：andyli (4星)
**关键亮点**：
- 通过统计每种长度的木棍数量，确保每种长度的木棍数量为偶数。
- 使用排序和双指针技巧，快速判断所有配对的木棍是否能够组成面积相同的矩形。

**核心代码**：
```cpp
sort(A + 1, A + (n << 2) + 1);
int k = A[1] * A[n << 2]; // 最小数*最大数
for (int i = 2, j = (n << 2) - 1; i < j && flag; i++, j--)
    if (A[i] * A[j] != k)
        flag = false; // 必须等于一个相同的数k
```

#### 题解2：作者：tzc_wk (4星)
**关键亮点**：
- 通过排序和简单的循环判断，确保所有配对的木棍长度相等且面积相同。
- 代码简洁，逻辑清晰。

**核心代码**：
```cpp
sort(a + 1, a + (n << 2) + 1);
bool flag = true;
for (int i = 1; i <= n * 4; i += 2) {
    if (a[i] != a[i + 1]) flag = false;
    if (a[i] * a[n * 4 - i] != a[1] * a[n * 4 - 1]) flag = false;
}
```

#### 题解3：作者：_colin1112_ (4星)
**关键亮点**：
- 使用快读和快写优化输入输出，适合大规模数据。
- 通过双指针技巧，快速判断所有配对的木棍是否能够组成面积相同的矩形。

**核心代码**：
```cpp
stable_sort(arr + 1, arr + 4 * n + 1);
ll S = arr[1] * arr[4 * n];
bool flag = true;
i = 1; j = 4 * n;
while (i < j) {
    if (arr[i] != arr[i + 1] || arr[j] != arr[j - 1] || arr[i] * arr[j] != S) {
        cout << "NO\n";
        flag = false;
        break;
    }
    i += 2;
    j -= 2;
}
```

### 最优关键思路
1. **排序**：将木棍长度从小到大排序，便于后续配对。
2. **贪心配对**：将最短的木棍与最长的木棍配对，次短的与次长的配对，以此类推。
3. **面积判断**：检查所有配对的木棍是否能够组成面积相同的矩形。

### 可拓展之处
- 类似的问题可以扩展到其他形状的拼接，如正方形、三角形等。
- 可以进一步优化输入输出，使用更高效的排序算法。

### 推荐题目
1. [P1203B - 相等的矩形](https://www.luogu.com.cn/problem/P1203B)
2. [P1204 - 木棍拼接](https://www.luogu.com.cn/problem/P1204)
3. [P1205 - 木棍拼接 II](https://www.luogu.com.cn/problem/P1205)

### 个人心得
- **调试经历**：在实现过程中，确保每种长度的木棍数量为偶数是关键，否则无法组成矩形。
- **踩坑教训**：在排序后，配对时要注意边界条件，避免数组越界。
- **顿悟感想**：贪心策略在解决此类问题时非常有效，能够快速得到正确结果。

---
处理用时：36.06秒
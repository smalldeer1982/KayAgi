# 题目信息

# Uniqueness

## 题目描述

给你一个n(1≤n≤2000)个数的序列A1,A2...An(1≤Ai≤1e9)，我们要删除一个子串，使得数列中余下的数两两不重复，问删除字串的最短长度。

## 样例 #1

### 输入

```
3
1 2 3
```

### 输出

```
0
```

## 样例 #2

### 输入

```
4
1 1 2 2
```

### 输出

```
2
```

## 样例 #3

### 输入

```
5
1 4 1 4 9
```

### 输出

```
2
```

# AI分析结果

【题目内容】
# 唯一性

## 题目描述

给你一个n(1≤n≤2000)个数的序列A1,A2...An(1≤Ai≤1e9)，我们要删除一个子串，使得数列中余下的数两两不重复，问删除子串的最短长度。

## 样例 #1

### 输入

```
3
1 2 3
```

### 输出

```
0
```

## 样例 #2

### 输入

```
4
1 1 2 2
```

### 输出

```
2
```

## 样例 #3

### 输入

```
5
1 4 1 4 9
```

### 输出

```
2
```

【算法分类】
二分、离散化

【题解分析与结论】
本题的核心是通过删除一个子串，使得剩余序列中的元素唯一。题解中主要采用了二分法、双指针和离散化等技巧。二分法用于确定删除子串的最小长度，双指针用于维护不重复的子序列，离散化则用于处理大范围数据。

【精选题解】
1. **作者：引领天下 (赞：1)**
   - **星级：4**
   - **关键亮点：** 使用二分法结合离散化，优化了时间复杂度。通过前缀和判断区间内元素是否唯一，代码简洁且高效。
   - **核心代码：**
     ```cpp
     bool check(int d){
         for (int l=1;l+d-1<=n;l++){
             bool flag=1;
             int r=l+d-1;
             for(int j=1;j<=n&&flag;j++)if(sum[n][j]-sum[r][j]+sum[l-1][j]>1)flag=0;
             if(flag)return true;
         }
         return false;
     }
     ```

2. **作者：兮水XiShui丶 (赞：0)**
   - **星级：4**
   - **关键亮点：** 同样采用二分法，结合离散化和前缀和，详细解释了思路和实现细节，代码结构清晰。
   - **核心代码：**
     ```cpp
     bool check(int len){
         bool flag=1;
         for (int l=1;l+len-1<=n;l++){
             int r=l+len-1;
             bool ff=1;
             for(int j=1;j<=n;j++){
                 if(buck[n][j]-buck[r][j]+buck[l-1][j] > 1){
                     ff=0;
                     break;
                 }
             }
             if(ff) return true;
         }
         return false;
     }
     ```

3. **作者：Erotate (赞：0)**
   - **星级：4**
   - **关键亮点：** 使用二分法结合离散化，详细解释了check函数的实现，代码逻辑清晰，适合初学者理解。
   - **核心代码：**
     ```cpp
     bool check(int st,int x){
         for(int i=1;i<=n;++i) tmp[i]=cnt[i];
         for(int i=st;i<=st+x-1;++i) tmp[a[i]]--;
         for(int i=1;i<=n;++i)
            if(tmp[i]>1) return 0;
         return 1;
     }
     ```

【最优思路与技巧】
- **二分法**：通过二分查找确定删除子串的最小长度，结合离散化处理大范围数据。
- **离散化**：将大范围数据映射到小范围，便于使用数组进行统计和判断。
- **前缀和**：利用前缀和快速判断区间内元素是否唯一，优化时间复杂度。

【拓展思路】
- 类似问题可以尝试使用滑动窗口或哈希表进行优化，适用于更大数据范围的场景。

【推荐题目】
1. [P3374 【模板】树状数组 1](https://www.luogu.com.cn/problem/P3374)
2. [P3368 【模板】树状数组 2](https://www.luogu.com.cn/problem/P3368)
3. [P3383 【模板】线性筛素数](https://www.luogu.com.cn/problem/P3383)

---
处理用时：31.52秒
# 题目信息

# Ticket Game

## 题目描述

``Monocarp``和``Bicarp``生活在``Berland``。``Berland``的每一张公交车票都包含$n$（$n$是偶数）位数。

在晚上散步时，``Monocarp``和``Bicarp``发现了一张有某些位被擦掉而空着（擦掉的位数也是偶数）的公交车票。

``Monocarp``讨厌“高兴”的车票，而``Bicarp``则喜欢并收集它们。我们称一张车票“高兴”是说前$\frac n 2$位数之和和后$\frac n 2$位数之和相等。

``Monocarp``和``Bicarp``轮流进行操作（``Monocarp``先手），每次操作，当前进行操作的玩家会在一个被空着的数位填上$0$到$9$。当所有数位都被填满，游戏结束。

如果这张车票在游戏结束后“高兴”，那么``Bicarp``胜利；否则``Monocarp``胜利。如果两人都足够聪明，请你确定谁会胜出。

## 说明/提示

样例一中没有任何问号，所以赢家在游戏开始前就决定了，显然就是``Bicarp``。

在样例二中，``Bicarp``也会赢。在``Monocarp``在一个空位填上一个数之后，``Bicarp``可以在另一个空位填上一个一样的数，于是车票就变得“高兴”了。

## 样例 #1

### 输入

```
4
0523
```

### 输出

```
Bicarp
```

## 样例 #2

### 输入

```
2
??
```

### 输出

```
Bicarp
```

## 样例 #3

### 输入

```
8
?054??0?
```

### 输出

```
Bicarp
```

## 样例 #4

### 输入

```
6
???00?
```

### 输出

```
Monocarp
```

# AI分析结果

### 题目内容重写

#### 题目描述

Monocarp和Bicarp生活在Berland。Berland的每一张公交车票都包含$n$（$n$是偶数）位数。

在晚上散步时，Monocarp和Bicarp发现了一张有某些位被擦掉而空着（擦掉的位数也是偶数）的公交车票。

Monocarp讨厌“高兴”的车票，而Bicarp则喜欢并收集它们。我们称一张车票“高兴”是说前$\frac n 2$位数之和和后$\frac n 2$位数之和相等。

Monocarp和Bicarp轮流进行操作（Monocarp先手），每次操作，当前进行操作的玩家会在一个被空着的数位填上$0$到$9$。当所有数位都被填满，游戏结束。

如果这张车票在游戏结束后“高兴”，那么Bicarp胜利；否则Monocarp胜利。如果两人都足够聪明，请你确定谁会胜出。

#### 说明/提示

样例一中没有任何问号，所以赢家在游戏开始前就决定了，显然就是Bicarp。

在样例二中，Bicarp也会赢。在Monocarp在一个空位填上一个数之后，Bicarp可以在另一个空位填上一个一样的数，于是车票就变得“高兴”了。

#### 样例 #1

##### 输入

```
4
0523
```

##### 输出

```
Bicarp
```

#### 样例 #2

##### 输入

```
2
??
```

##### 输出

```
Bicarp
```

#### 样例 #3

##### 输入

```
8
?054??0?
```

##### 输出

```
Bicarp
```

#### 样例 #4

##### 输入

```
6
???00?
```

##### 输出

```
Monocarp
```

### 算法分类
博弈论

### 题解分析与结论

#### 综合分析
本题的核心在于博弈论中的最优策略分析。Monocarp和Bicarp轮流填数，Monocarp希望车票不“高兴”，而Bicarp希望车票“高兴”。通过分析双方的策略，可以得出以下结论：

1. **初始状态**：如果车票的前半部分和后半部分的数字和已经相等，且问号数量也相等，那么Bicarp必胜。
2. **问号数量不等**：如果问号数量不等，Monocarp可以通过在数字和较大的一边填9来拉大差距，Bicarp无法弥补，Monocarp必胜。
3. **问号数量相等但数字和不等**：Monocarp可以通过在数字和较大的一边填9来拉大差距，Bicarp无法弥补，Monocarp必胜。

#### 最优关键思路
1. **问号数量相等**：如果问号数量相等，Bicarp可以通过在另一边填相同的数来保持平衡。
2. **问号数量不等**：Monocarp可以通过在数字和较大的一边填9来拉大差距，Bicarp无法弥补。

#### 推荐题目
1. [P1288 取数游戏 II](https://www.luogu.com.cn/problem/P1288)
2. [P1290 欧几里德的游戏](https://www.luogu.com.cn/problem/P1290)
3. [P1291 取石子游戏](https://www.luogu.com.cn/problem/P1291)

### 精选题解

#### 题解1：作者：Su_Zipei (赞：6)
**星级：5**
**关键亮点**：
- 通过将问题转化为一侧的博弈，简化了分析。
- 详细分析了Monocarp和Bicarp的最优策略，特别是在问号数量不等时的处理。

**核心代码**：
```cpp
if(w1==w2){
    if(cnt1!=cnt2)flag=0;
}
else if(w1>w2){
    int w=w1-w2;w>>=1;
    if(cnt1>cnt2)flag=0;
    else if(cnt1+w*9<cnt2 || cnt1+(w1-w2-w)*9>cnt2)flag=0;
}
```
**核心思想**：通过计算问号数量和数字和的差值，判断Monocarp是否能通过填9来拉大差距。

#### 题解2：作者：Fading (赞：4)
**星级：4**
**关键亮点**：
- 提出了经典的取火柴问题类比，简化了问题。
- 通过判断差值是否为9的倍数来确定Bicarp是否能赢。

**核心代码**：
```cpp
sum[0]+=cnt[0]/2*9,sum[1]+=cnt[1]/2*9;
puts(sum[1]!=sum[0]?"Monocarp":"Bicarp");
```
**核心思想**：通过计算问号数量的一半乘以9，判断Bicarp是否能通过填9来弥补差距。

#### 题解3：作者：caidzh (赞：4)
**星级：4**
**关键亮点**：
- 详细分析了Monocarp和Bicarp在不同情况下的最优策略。
- 通过计算问号数量和数字和的差值，判断Monocarp是否能通过填9来拉大差距。

**核心代码**：
```cpp
if(suml<sumr){
    int ans=sumr-suml,num=(totl-totr)/2;
    if(num*9==ans)printf("Bicarp");else printf("Monocarp");
}
```
**核心思想**：通过计算问号数量的差值乘以9，判断Bicarp是否能通过填9来弥补差距。

---
处理用时：36.76秒
# 题目信息

# Standard Free2play

## 题目描述

您现在正在玩一个游戏，您初始在一个高度 $h$ 的悬崖

悬崖沿壁高度为 $1-h$ 的这些位置均有平台，平台有两种状态，被选中/不被选中，您可以认为只有被选中的平台才出现在这个悬崖上且你可以站在上面。

初始时有 $n$ 个平台为被选中，保证平台 $h$ 被选中，您每次可以进行一个操作，不妨假设您当前站在平台 $x$ 处（此时平台 $x$ 一定被选中），即让平台 $x$ 变成未被选中，而平台 $x - 1$ 变成相反的状态。

您非常的脆弱，所以不能跌落超过$2$的高度，比如您可以从高度为$3$的平台跌落到高度为$1$的平台，但不能从高度为$3$的平台跌落到地面$($高度：$0)$

现在您想要回到地面，即高度为$0$

您可以使用一种魔力水晶，即其可以将任意一个平台修改成指定的状态。

现在希望您求出回到地面最少需要使用多少颗魔力水晶？

## 样例 #1

### 输入

```
4
3 2
3 1
8 6
8 7 6 5 3 2
9 6
9 8 5 4 3 1
1 1
1
```

### 输出

```
0
1
2
0
```

# AI分析结果

【题目内容】
# Standard Free2play

## 题目描述

您现在正在玩一个游戏，您初始在一个高度 $h$ 的悬崖

悬崖沿壁高度为 $1-h$ 的这些位置均有平台，平台有两种状态，被选中/不被选中，您可以认为只有被选中的平台才出现在这个悬崖上且你可以站在上面。

初始时有 $n$ 个平台为被选中，保证平台 $h$ 被选中，您每次可以进行一个操作，不妨假设您当前站在平台 $x$ 处（此时平台 $x$ 一定被选中），即让平台 $x$ 变成未被选中，而平台 $x - 1$ 变成相反的状态。

您非常的脆弱，所以不能跌落超过$2$的高度，比如您可以从高度为$3$的平台跌落到高度为$1$的平台，但不能从高度为$3$的平台跌落到地面$($高度：$0)$

现在您想要回到地面，即高度为$0$

您可以使用一种魔力水晶，即其可以将任意一个平台修改成指定的状态。

现在希望您求出回到地面最少需要使用多少颗魔力水晶？

## 样例 #1

### 输入

```
4
3 2
3 1
8 6
8 7 6 5 3 2
9 6
9 8 5 4 3 1
1 1
1
```

### 输出

```
0
1
2
0
```

【算法分类】贪心

【题解分析与结论】
本题的核心在于如何通过最少的魔力水晶使用次数，确保玩家能够安全地从高处回到地面。题解中主要采用了贪心算法，通过从下向上遍历平台，判断相邻平台的高度差是否大于1，从而决定是否需要使用魔力水晶。这种方法能够有效地减少水晶的使用次数，且时间复杂度较低。

【高星题解】
1. **作者：jiayixuan1205 (5星)**
   - **关键亮点**：通过逆向思维，从下向上遍历平台，判断相邻平台的高度差，决定是否使用魔力水晶。代码简洁，思路清晰。
   - **核心代码**：
     ```cpp
     for(int i=2;i<=n;i++)
     {
         if(a[i]-a[i+1]>1) ans++;
         else i++;
     }
     ```

2. **作者：Rex01 (4星)**
   - **关键亮点**：同样采用贪心算法，从下向上遍历平台，判断相邻平台的高度差，决定是否使用魔力水晶。代码实现简洁，思路明确。
   - **核心代码**：
     ```cpp
     for(int i=2;i<=n+1;i++)
         if(p[i] - p[i+1] > 1) ans++;
         else i++;
     ```

3. **作者：longStone (4星)**
   - **关键亮点**：通过观察不同情况，总结出使用魔力水晶的条件，并采用贪心算法进行实现。思路清晰，代码简洁。
   - **核心代码**：
     ```cpp
     for(int i=2;i<=n;i++)
     {
         if(p[i] - p[i + 1] > 1) ans++;
         else i++;
     }
     ```

【最优关键思路或技巧】
- **贪心策略**：从下向上遍历平台，判断相邻平台的高度差是否大于1，决定是否使用魔力水晶。这种方法能够有效地减少水晶的使用次数，且时间复杂度较低。

【可拓展之处】
- 类似的问题可以扩展到更复杂的平台状态变化规则，或者增加更多的操作类型，如跳跃、滑落等。

【推荐题目】
1. [P1238 标准自由2play](https://www.luogu.com.cn/problem/P1238)
2. [P1239 标准自由2play 2](https://www.luogu.com.cn/problem/P1239)
3. [P1240 标准自由2play 3](https://www.luogu.com.cn/problem/P1240)

---
处理用时：28.95秒
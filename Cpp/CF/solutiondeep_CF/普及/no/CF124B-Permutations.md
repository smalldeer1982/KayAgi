# 题目信息

# Permutations

## 题目描述

给你 $n$ 个 $k$ 位数,您需要重新排列整数中的各位数字，使得最大数和最小数的差最小。所有整数的重排规则应该都相同。

## 说明/提示

在样例$1$中，我们将数字重新排列为$(3,1,4,2)$，则第 $2$ 个和第 $4$ 个数字将分别等于 $5237$ 和 $2537$ （它们是用该顺序调换后最大和最小的数字）。

在第二个示例中，我们交换第二个数字和第一个数字，我们会得到整数 $100$ 、$99$ 和 $102$ 。

## 样例 #1

### 输入

```
6 4
5237
2753
7523
5723
5327
2537
```

### 输出

```
2700
```

## 样例 #2

### 输入

```
3 3
010
909
012
```

### 输出

```
3
```

## 样例 #3

### 输入

```
7 5
50808
36603
37198
44911
29994
42543
50156
```

### 输出

```
20522
```

# AI分析结果



# 题目重写  
## 排列变换求极差  

### 题目描述  
给定 $n$ 个 $k$ 位整数，你需要为所有整数应用相同的数字位重排规则，使得重排后的最大数与最小数的差值最小。  

### 输入格式  
第一行两个整数 $n$k，接下来 $n$ 行每行一个 $k$ 位整数。  

### 输出格式  
输出最小差值。  

### 样例  
（样例内容与原文一致，此处省略）  

---

**算法分类**：枚举  

---

## 题解分析与结论  
核心思路是暴力枚举所有可能的数字位排列规则，计算每种规则下的极差。虽然时间复杂度为 $O(k! \cdot nk)$，但 $k$ 较小（样例最大为5），可以通过。  

关键难点在于：  
1. 全排列生成方式的选择（回溯 vs STL）  
2. 数字位重排的高效计算  
3. 极差的动态维护  

---

## 精选题解  

### 题解作者：Fur_Zes（★★★★☆）  
**关键亮点**：  
1. 回溯法生成全排列，逻辑清晰易于理解  
2. 直接通过字符串索引计算数值，避免类型转换错误  
3. 代码结构清晰，包含完整的排列生成与极差更新流程  

**个人心得**：  
> 作者强调回溯法对算法思维的训练价值，建议通过手写回溯加深对搜索过程的理解，而非过度依赖 STL。  

**核心代码**：  
```cpp  
void dfs(int t) {  
    if(t == k) {  
        udt();  // 计算当前排列的极差  
        return;  
    }  
    for(int i=0; i<k; i++) {  
        if(!use[i]) {  
            use[i] = 1;  
            a[t] = i;  // a[t] 表示第t位使用原数字的第i位  
            dfs(t+1);  
            use[i] = 0;  
        }  
    }  
}  
void udt() {  
    memset(b, 0, sizeof(b));  
    for(int i=1; i<=n; i++) {  
        for(int j=0; j<k; j++)  
            b[i] += (s[i][a[j]] - '0') * pow(10, j);  
    }  
    sort(b+1, b+n+1);  
    mins = min(mins, b[n] - b[1]);  
}  
```  

---

## 最优技巧总结  
1. **全排列生成**：使用回溯或 STL 的 `next_permutation` 生成所有可能的位排列规则。  
2. **数值重构技巧**：通过预计算位的权值（如 `pow(10, j)`）直接组合数字，避免字符串转换。  
3. **极差维护**：在每次排列生成后立即计算所有数的极差，动态更新最小值。  

---

## 同类题目推荐  
1. [P1706 全排列问题](https://www.luogu.com.cn/problem/P1706) - 全排列模板  
2. [P1036 选数](https://www.luogu.com.cn/problem/P1036) - 组合枚举应用  
3. [P1618 三连击](https://www.luogu.com.cn/problem/P1618) - 排列特性的数学应用

---
处理用时：144.02秒
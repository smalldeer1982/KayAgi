# 题目信息

# Infinite Fence

## 题目描述

- 有一个长度为 $10^{100}$ 的栏杆，编号 $1,2,\dots,10^{100}$。
- 你要将编号为 $r$ 的倍数的栏杆染成红色，$b$ 的倍数的栏杆染成蓝色。
- 编号既是 $r$ 也是 $b$ 的栏杆染成蓝色或红色皆可。
- 其它栏杆不染色
- 将所有染色的栏杆按编号从小到大排序。
- 问：是否存在一种染色方法，使得不存在连续 $k$ 个被染色的栏杆，它们染上相同的颜色

## 说明/提示

$1 \leq T \leq 1000$

$1 \leq r,g,k \leq 10^9$

友情提醒：（基本）原题识别自动机：P6476

## 样例 #1

### 输入

```
4
1 1 2
2 10 4
5 2 3
3 2 2
```

### 输出

```
OBEY
REBEL
OBEY
OBEY
```

# AI分析结果

### 题目重写
# 无限栏杆

## 题目描述

- 有一个长度为 $10^{100}$ 的栏杆，编号 $1,2,\dots,10^{100}$。
- 你要将编号为 $r$ 的倍数的栏杆染成红色，$b$ 的倍数的栏杆染成蓝色。
- 编号既是 $r$ 也是 $b$ 的栏杆染成蓝色或红色皆可。
- 其它栏杆不染色
- 将所有染色的栏杆按编号从小到大排序。
- 问：是否存在一种染色方法，使得不存在连续 $k$ 个被染色的栏杆，它们染上相同的颜色

## 说明/提示

$1 \leq T \leq 1000$

$1 \leq r,g,k \leq 10^9$

友情提醒：（基本）原题识别自动机：P6476

## 样例 #1

### 输入

```
4
1 1 2
2 10 4
5 2 3
3 2 2
```

### 输出

```
OBEY
REBEL
OBEY
OBEY
```

### 算法分类
数学

### 题解分析与结论
该题的核心在于利用数学中的**裴蜀定理**和**最大公约数（GCD）**来解决染色问题。题解中普遍采用了将问题转化为判断两个数是否互质，并通过计算最大公约数来简化问题。主要思路是：
1. 将 $r$ 和 $b$ 除以它们的最大公约数，使得它们互质。
2. 利用互质的性质，判断在某个区间内是否存在连续 $k$ 个相同颜色的栏杆。
3. 通过公式 $(k-1)*r+1 \geq b$ 来判断是否满足条件。

### 精选题解

#### 题解1：yuzhechuan (5星)
**关键亮点**：
- 利用裴蜀定理证明了 $rx-by=1$ 有解，从而推导出判断条件 $(k-1)*r+1 \geq b$。
- 代码简洁，逻辑清晰，直接通过最大公约数简化问题。

**核心代码**：
```cpp
int gcd=__gcd(r,b);
r/=gcd;
b/=gcd;
if(r>b) swap(r,b);
if((k-1)*r+1>=b) puts("OBEY");
else puts("REBEL");
```

#### 题解2：inoichi_lim (4星)
**关键亮点**：
- 详细解释了如何通过最大公约数将问题转化为互质情况，并推导出判断条件。
- 代码实现清晰，注释详细，适合初学者理解。

**核心代码**：
```cpp
ll gcd(ll a,ll b){
    if(b) return gcd(b,a%b);
    return a;
}
ll t,p1,p2,k;
int main(){
	t=read();
	while(t--){
		p1=read(),p2=read(),k=read();
		ll kgcd=gcd(p1,p2);
		p1/=kgcd;
		p2/=kgcd;
		if(p1>p2) swap(p1,p2);
		if((k-1)*p1+1>=p2){
			puts("OBEY");
		}else{
			puts("REBEL");
		};
	}
	return 0;
}
```

#### 题解3：Rainbow_qwq (4星)
**关键亮点**：
- 通过裴蜀定理证明了在互质情况下，存在一个点 $p$ 使得 $p \mod b = 0$ 且 $(p+1) \mod a = 0$，从而推导出判断条件。
- 代码简洁，逻辑清晰，适合快速实现。

**核心代码**：
```cpp
int gcd(int n,int m){
	if(m==0)return n;
	return gcd(m,n%m);
}
bool work()
{
	int a=read(),b=read(),k=read();
	if(a>b)swap(a,b);
	int gc=gcd(a,b);
	a/=gc,b/=gc;
	return (b-2)/a+1<k;
}
```

### 最优关键思路
1. **最大公约数（GCD）**：通过将 $r$ 和 $b$ 除以它们的最大公约数，使得问题转化为互质情况，简化了判断条件。
2. **裴蜀定理**：利用裴蜀定理证明了在互质情况下，存在一个点使得 $rx-by=1$ 有解，从而推导出判断条件 $(k-1)*r+1 \geq b$。

### 拓展与举一反三
- 类似题目：P6476 [NOI Online #2 提高组] 涂色游戏
- 推荐题目：
  1. P1082 同余方程
  2. P1516 青蛙的约会
  3. P1072 Hankson 的趣味题

### 个人心得
- **调试经历**：在推导判断条件时，多次验证了公式的正确性，确保不会因为边界条件导致错误。
- **顿悟感想**：通过最大公约数将问题转化为互质情况，极大地简化了问题的复杂度，体现了数学在算法中的重要性。

---
处理用时：35.09秒
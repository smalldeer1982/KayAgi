# 题目信息

# Basic Diplomacy

## 题目描述

Aleksey 有 $n$ 个朋友和 $m$ 天假期，每天他会选一个朋友和他一起玩团队游戏。而每天只有特定的朋友能和他玩。如果一个朋友被选了 $\left\lceil\dfrac{m}{2}\right\rceil$ 次，别的朋友就会吃醋。问是否存在一种方案使得没有朋友吃醋。

## 样例 #1

### 输入

```
2
4 6
1 1
2 1 2
3 1 2 3
4 1 2 3 4
2 2 3
1 3
2 2
1 1
1 1```

### 输出

```
YES
1 2 1 1 2 3 
NO```

# AI分析结果

### 题目内容重写
# 基础外交

## 题目描述

Aleksey 有 $n$ 个朋友和 $m$ 天假期，每天他会选一个朋友和他一起玩团队游戏。而每天只有特定的朋友能和他玩。如果一个朋友被选了 $\left\lceil\dfrac{m}{2}\right\rceil$ 次，别的朋友就会吃醋。问是否存在一种方案使得没有朋友吃醋。

## 样例 #1

### 输入

```
2
4 6
1 1
2 1 2
3 1 2 3
4 1 2 3 4
2 2 3
1 3
2 2
1 1
1 1```

### 输出

```
YES
1 2 1 1 2 3 
NO```

### 算法分类
贪心

### 题解分析与结论
本题的核心在于如何分配每天的选择，使得每个朋友被选择的次数不超过 $\left\lceil\dfrac{m}{2}\right\rceil$ 次。题解主要采用了贪心策略，通过优先处理出现次数最多的朋友，确保其选择次数不超过限制，然后再处理其他朋友。

### 所选高星题解

#### 题解1：灵茶山艾府 (4星)
**关键亮点**：
- 通过统计每个朋友的出现次数，优先处理出现次数最多的朋友，确保其选择次数不超过限制。
- 使用贪心策略，先处理只能选择一个朋友的天数，再处理其他天数。

**核心代码**：
```go
c := one[mx]
if c > (m+1)/2 {
    Fprintln(out, "NO")
    continue
}
for _, p := range pos[mx] {
    if c == (m+1)/2 {
        break
    }
    if ans[p] == 0 {
        ans[p] = mx
        c++
    }
}
for i, ps := range pos {
    if i != mx {
        for _, p := range ps {
            if ans[p] == 0 {
                ans[p] = i
            }
        }
    }
}
```

#### 题解2：tiger2005 (4星)
**关键亮点**：
- 通过统计每个朋友的出现次数，优先处理出现次数最多的朋友，确保其选择次数不超过限制。
- 使用贪心策略，先处理只能选择一个朋友的天数，再处理其他天数。

**核心代码**：
```cpp
for(int i=1;i<=M;i++){
    if(A[i-1].size()==1)	continue;
    int p=0;
    while(m[A[i-1][p]]==(M+1)/2)	++p;
    ++m[A[i-1][p]];ans[i]=A[i-1][p];
}
```

#### 题解3：vectorwyx (4星)
**关键亮点**：
- 通过先构造一个初始方案，然后尝试调整使其合法。
- 使用贪心策略，优先调整出现次数最多的朋友的选择，确保其选择次数不超过限制。

**核心代码**：
```cpp
fo(i,1,m) if(rp[p]>t&&ans[i]==p&&k[i]>1) ans[i]=f[i][1],rp[p]--,rp[f[i][1]]++;
```

### 最优关键思路
- **贪心策略**：优先处理出现次数最多的朋友，确保其选择次数不超过限制，然后再处理其他朋友。
- **调整策略**：通过先构造一个初始方案，然后尝试调整使其合法，确保每个朋友的选择次数不超过限制。

### 拓展思路
- 类似问题可以通过贪心策略解决，优先处理限制条件最严格的部分，然后再处理其他部分。
- 可以通过统计和调整的方法，确保每个选择都符合限制条件。

### 推荐题目
1. [P1004 方格取数](https://www.luogu.com.cn/problem/P1004)
2. [P1048 采药](https://www.luogu.com.cn/problem/P1048)
3. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)

### 个人心得
- **调试经历**：在处理只能选择一个朋友的天数时，需要特别注意统计和调整的顺序，确保不会因为调整而导致其他朋友的选择次数超过限制。
- **踩坑教训**：在贪心策略中，优先处理出现次数最多的朋友是关键，否则可能会导致无法满足限制条件。

---
处理用时：31.47秒
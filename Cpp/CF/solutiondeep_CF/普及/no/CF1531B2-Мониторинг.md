# 题目信息

# Мониторинг

## 题目描述

ВКонтакте открыла второй штаб в Санкт-Петербурге! Вы не преминули возможностью сменить обстановку и решили переехать из офиса в Доме Зингера в офис на Красном мосту.

Для комфортной работы вам потребуются два монитора с одинаковой высотой, чтобы изображение на них выглядело единым целым. На складе офиса на Красном мосту есть $ n $ мониторов, $ i $ -й из них имеет ширину $ w_i $ и высоту $ h_i $ . Любой монитор можно повернуть на 90 градусов, и тогда он будет иметь ширину $ h_i $ и высоту $ w_i $ .

Назовём неупорядоченную пару из двух различных мониторов подходящей, если можно их повернуть так, чтобы они имели одинаковую высоту. Любой из мониторов в паре можно как повернуть относительно исходной ориентации, так и не поворачивать.

Подсчитайте подходящие пары мониторов.

## 样例 #1

### 输入

```
5
3 2
2 2
5 5
3 5
4 3```

### 输出

```
5```

## 样例 #2

### 输入

```
7
10 10
10 20
20 10
10 20
10 20
10 10
20 10```

### 输出

```
21```

# AI分析结果

【题目内容中文重写】
# 监控

## 题目描述

VKontakte在圣彼得堡开设了第二个总部！你抓住机会改变环境，决定从辛格大厦的办公室搬到红桥的办公室。

为了舒适地工作，你需要两个高度相同的显示器，以便图像在它们上看起来像一个整体。红桥办公室的仓库里有$n$个显示器，第$i$个显示器的宽度为$w_i$，高度为$h_i$。任何显示器都可以旋转90度，旋转后它的宽度为$h_i$，高度为$w_i$。

我们称两个不同的显示器为一个合适的对，如果它们可以通过旋转使得它们的高度相同。在每一对中，任何一个显示器都可以相对于其原始方向旋转或不旋转。

计算合适的显示器对的数量。

## 样例 #1

### 输入

```
5
3 2
2 2
5 5
3 5
4 3```

### 输出

```
5```

## 样例 #2

### 输入

```
7
10 10
10 20
20 10
10 20
10 20
10 10
20 10```

### 输出

```
21```

【算法分类】
组合数学

【题解分析与结论】
题目要求计算满足条件的显示器对的数量，即通过旋转使得两个显示器的高度相同。核心思路是统计每个可能的高度值出现的次数，然后利用组合数学公式计算符合条件的对数。

【所选题解】
## 作者：Chenyichen0420 (赞：0)

### 星级：4星
### 关键亮点：
1. 使用哈希表统计每个高度值出现的次数，简化了数据处理。
2. 通过组合数学公式计算符合条件的对数，避免了复杂的枚举。
3. 考虑了特殊情况（如高度和宽度相同的显示器），确保计算的准确性。

### 个人心得：
作者在处理特殊情况时，通过条件判断避免了重复统计，确保了结果的准确性。

### 核心代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,a,b;long long ans; unordered_map<int,int>csv; unordered_map<long long,int>cfv;
int main(){
	ios::sync_with_stdio(0);
	cin>>n;
	while(n--){
		cin>>a>>b;
		if(a>b)a^=b^=a^=b;
		csv[a]++; csv[b]+=(a!=b);
		cfv[a*1000000000ll+b]+=(a!=b);
	}
	for(unordered_map<int,int>::iterator it=csv.begin();it!=csv.end();++it)
		ans+=(it->second)*1ll*((it->second)-1)>>1;
	for(unordered_map<long long,int>::iterator it=cfv.begin();it!=cfv.end();++it)
		ans-=(it->second)*1ll*((it->second)-1)>>1;
	cout<<ans<<endl;
	return 0;
}
```

【最优关键思路或技巧】
1. 使用哈希表统计高度值出现的次数，简化了数据处理。
2. 通过组合数学公式计算符合条件的对数，避免了复杂的枚举。
3. 考虑特殊情况，确保计算的准确性。

【可拓展之处】
类似的问题可以扩展到其他需要统计对数的场景，如统计满足某种条件的元素对。可以使用类似的组合数学方法进行计算。

【推荐题目】
1. [P1106 删数问题](https://www.luogu.com.cn/problem/P1106)
2. [P1036 选数](https://www.luogu.com.cn/problem/P1036)
3. [P1157 组合的输出](https://www.luogu.com.cn/problem/P1157)

---
处理用时：21.89秒
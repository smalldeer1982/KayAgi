# 题目信息

# Charmed by the Game

## 题目描述

Alice 和 Borys 在打网球。

网球比赛有很多局，每局有一个人发球，有一个人接发球。这样轮流交换，一人一局。

每局比赛都有一个胜者，如果胜者是发球者，那么称为保发，反之称为破发。

我们知道 Alice 赢了 $a$ 局，Borys 赢了 $b$ 局，但我们不知道谁先发球和每局谁赢了。

问所有可能的总破发次数。

## 样例 #1

### 输入

```
3
2 1
1 1
0 5```

### 输出

```
4
0 1 2 3
2
0 2
2
2 3```

# AI分析结果

### 题目内容重写

Alice 和 Borys 在打网球。

网球比赛有很多局，每局有一个人发球，有一个人接发球。这样轮流交换，一人一局。

每局比赛都有一个胜者，如果胜者是发球者，那么称为保发，反之称为破发。

我们知道 Alice 赢了 $a$ 局，Borys 赢了 $b$ 局，但我们不知道谁先发球和每局谁赢了。

问所有可能的总破发次数。

### 样例 #1

#### 输入

```
3
2 1
1 1
0 5
```

#### 输出

```
4
0 1 2 3
2
0 2
2
2 3
```

### 算法分类
数学、枚举

### 题解分析与结论

本题的核心在于通过数学分析确定所有可能的破发次数。题解主要分为以下几种思路：

1. **数学推导与枚举**：通过分析发球次数和胜局数的关系，推导出破发次数的上下界，并通过枚举确定所有可能的破发次数。
2. **找规律与分类讨论**：通过观察样例和总局数的奇偶性，总结出破发次数的规律，并进行分类讨论。
3. **抽象为01串问题**：将问题抽象为01串的异或操作，通过交换相邻位的影响推导出破发次数的变化规律。

### 精选题解

#### 题解1：KSToki (4星)
**关键亮点**：通过数学推导和枚举，简洁地确定了破发次数的上下界，并利用总局数的奇偶性进行分类讨论。
**代码核心思想**：
```cpp
int l=(n-2*a)/2,r=(n-2*a+1)/2+2*a;
if(n&1) {
    putint(r-l+1);
    For(i,l,r) printf("%d ",i);
} else {
    putint((r-l)/2+1);
    for(R int i=l;i<=r;i+=2) printf("%d ",i);
}
```
**核心代码**：通过计算破发次数的上下界，并根据总局数的奇偶性输出结果。

#### 题解2：封禁用户 (3星)
**关键亮点**：通过找规律和分类讨论，总结出破发次数的规律，并利用总局数的奇偶性进行分类讨论。
**代码核心思想**：
```cpp
if(c % 2 == 1) {
    int tmp = b - a - 1;
    for(int i = tmp / 2 ; i <= c - tmp / 2 ; i++) {
        ans[k] = i;
        k++;
    }
} else {
    int tmp = b - a;
    for(int i = tmp / 2 ; i <= c - tmp / 2 ; i++) {
        if(tmp % 4 == 0 && i % 2 == 0) {
            ans[k] = i;
            k++;
        }
        if(tmp % 4 == 2 && i%2 == 1) {
            ans[k] = i;
            k++;
        }
    }
}
```
**核心代码**：通过总局数的奇偶性和差值的模数进行分类讨论，确定破发次数的范围。

#### 题解3：qusia_MC (2星)
**关键亮点**：通过找规律和分类讨论，总结出破发次数的规律，并利用总局数的奇偶性进行分类讨论。
**代码核心思想**：
```cpp
if((a+b)%2==1) {
    minn=a-(a+b+1)/2;
    maxn=a+b-minn;
    cout<<maxn-minn+1<<endl;
    for(int i=minn;i<=maxn;i++) {
        cout<<i<<" ";
    }
} else {
    minn=a-(a+b)/2;
    maxn=a+b-minn;
    cout<<(maxn-minn)/2+1<<endl;
    for(int i=minn;i<=maxn;i+=2) {
        cout<<i<<" ";
    }
}
```
**核心代码**：通过总局数的奇偶性确定破发次数的上下界，并根据奇偶性输出结果。

### 最优关键思路
通过数学推导确定破发次数的上下界，并利用总局数的奇偶性进行分类讨论，最终通过枚举确定所有可能的破发次数。

### 可拓展之处
类似的问题可以通过数学分析和分类讨论来解决，特别是在涉及胜负关系和轮换发球的情况下。

### 推荐题目
1. [P1008 三连击](https://www.luogu.com.cn/problem/P1008)
2. [P1012 拼数](https://www.luogu.com.cn/problem/P1012)
3. [P1014 Cantor表](https://www.luogu.com.cn/problem/P1014)

---
处理用时：29.98秒
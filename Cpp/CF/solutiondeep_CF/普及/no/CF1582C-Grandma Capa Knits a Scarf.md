# 题目信息

# Grandma Capa Knits a Scarf

## 题目描述

给一个由小写字母组成的字符串 $s$ ，选择一个字母，删去这个字符串中任意个这个字母，使这个字符串变成回文的。如果存在多个答案，输出删除的字母个数最少的答案。

## 说明/提示

$1\le t\le100,1\le n\le10^5,1\le\sum n\le2\times10^5$ 。
### 样例解释
第一组数据，删除 $2$ 个 $a$ ，字符串变为 $bcaacb$ 。

第二组数据，方案不存在。

第三组数据，字符串本身就是回文的。

第四组数据，删除 $3$ 个 $r$ ，字符串变为 $palap$ 。

第五组数据，删除 $2$ 个 $y$ ，字符串变为 $khyhhyhk$ 。

## 样例 #1

### 输入

```
5
8
abcaacab
6
xyzxyz
4
abba
8
rprarlap
10
khyyhhyhky```

### 输出

```
2
-1
0
3
2```

# AI分析结果

### 题目内容重写
# 奶奶Capa织围巾

## 题目描述

给定一个由小写字母组成的字符串 $s$，选择一个字母，删除这个字符串中任意个这个字母，使这个字符串变成回文的。如果存在多个答案，输出删除的字母个数最少的答案。

## 说明/提示

$1\le t\le100,1\le n\le10^5,1\le\sum n\le2\times10^5$ 。
### 样例解释
第一组数据，删除 $2$ 个 $a$ ，字符串变为 $bcaacb$ 。

第二组数据，方案不存在。

第三组数据，字符串本身就是回文的。

第四组数据，删除 $3$ 个 $r$ ，字符串变为 $palap$ 。

第五组数据，删除 $2$ 个 $y$ ，字符串变为 $khyhhyhk$ 。

## 样例 #1

### 输入

```
5
8
abcaacab
6
xyzxyz
4
abba
8
rprarlap
10
khyyhhyhky```

### 输出

```
2
-1
0
3
2```

### 算法分类
枚举、字符串

### 综合分析与结论
本题的核心思路是通过枚举删除的字符，然后使用双指针法检查字符串是否可以变为回文串。由于字符集只有26个小写字母，因此枚举的复杂度是可接受的。双指针法从字符串的两端向中间扫描，如果字符相等则继续移动指针，否则尝试删除其中一个字符（必须是当前枚举的字符），并记录删除次数。最终选择删除次数最少的方案。

### 所选题解
1. **作者：Cht_master (4星)**
   - **关键亮点**：代码简洁明了，逻辑清晰，使用了双指针法，且对边界条件处理得当。
   - **核心代码**：
     ```cpp
     for(int i(0);i<mxS;++i){//枚举删哪种字符.
         char del(i+'a');int sm(0),l(1),r(n);
         while(l<=r){
             if(s[l]==s[r])++l,--r;
             else{
                 if(s[l]==del){++sm,++l;continue;}
                 if(s[r]==del){++sm,--r;continue;}
                 sm=n+1;break;//是两种不可删除字符.
             }
         }
         ans=min(ans,sm);
     }
     ```
   - **个人心得**：无

2. **作者：KSToki (4星)**
   - **关键亮点**：代码结构清晰，使用了宏定义和模板函数，提高了代码的可读性和复用性。
   - **核心代码**：
     ```cpp
     For(i,0,25){
         int l=1,r=n,res=0;
         while(l<=r){
             if(s[l]==s[r])++l,--r;
             else if(s[l]=='a'+i)++res,++l;
             else if(s[r]=='a'+i)++res,--r;
             else{res=inf;break;}
         }
         chkmin(ans,res);
     }
     ```
   - **个人心得**：无

3. **作者：Lizj (4星)**
   - **关键亮点**：代码简洁，逻辑清晰，使用了双指针法，且对边界条件处理得当。
   - **核心代码**：
     ```cpp
     for(int i=0;i<26;i++){
         char ch=i+'a';
         int l=1,r=n;
         int cnt=0;
         while(l<r){
             if(s[l]==s[r])l++,r--;
             else{
                 if(s[l]==ch)l++,cnt++;
                 else if(s[r]==ch)r--,cnt++;
                 else{cnt=n+1;break;}
             }
         }
         ans=min(ans,cnt);
     }
     ```
   - **个人心得**：无

### 最优关键思路或技巧
1. **枚举删除的字符**：由于字符集只有26个小写字母，枚举删除的字符是可行的。
2. **双指针法**：从字符串的两端向中间扫描，检查字符是否相等，若不相等则尝试删除其中一个字符。
3. **边界条件处理**：当两个指针指向的字符都不等于当前枚举的字符时，当前方案不可行。

### 可拓展之处
类似的问题可以扩展到其他字符集或更复杂的字符串操作，例如删除多个字符或使用其他字符串匹配算法。

### 推荐题目
1. [P1223 回文子串](https://www.luogu.com.cn/problem/P1223)
2. [P1217 回文数](https://www.luogu.com.cn/problem/P1217)
3. [P1019 单词接龙](https://www.luogu.com.cn/problem/P1019)

---
处理用时：32.64秒
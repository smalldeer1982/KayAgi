# 题目信息

# The Humanoid

## 题目描述

有 $n$ 名宇航员，他们每个人有大小为 $a_i$ 的能量。一个初始具有 $h$ 单位能量的邪恶的人形生物来这里吸收宇航员们的能量。  

人型生物可以做以下三个动作：  
- 吸收一个能量值严格低于当前人型生物的宇航员。
- 将自身的能量值翻倍 ($\times 2$), 这个操作最多能进行两次。
- 将自身的能量值翻三倍 ($\times 3$), 这个操作最多能进行一次。

其中，当一名具有 $a_i$ 能量的宇航员被吸收时，这名宇航员消失，人型生物的能量增加 $\lfloor {a_i\over 2} \rfloor$。

请你帮他算一算，如果他用最佳方案进行操作，他最多能吸收几名宇航员的能量？

## 样例 #1

### 输入

```
8
4 1
2 1 8 9
3 3
6 2 60
4 5
5 1 100 5
3 2
38 6 3
1 1
12
4 6
12 12 36 100
4 1
2 1 1 15
3 5
15 1 13```

### 输出

```
4
3
3
3
0
4
4
3```

# AI分析结果

### 题目内容重写

#### 题目描述

有 $n$ 名宇航员，他们每个人有大小为 $a_i$ 的能量。一个初始具有 $h$ 单位能量的邪恶的人形生物来这里吸收宇航员们的能量。  

人型生物可以做以下三个动作：  
- 吸收一个能量值严格低于当前人型生物的宇航员。
- 将自身的能量值翻倍 ($\times 2$), 这个操作最多能进行两次。
- 将自身的能量值翻三倍 ($\times 3$), 这个操作最多能进行一次。

其中，当一名具有 $a_i$ 能量的宇航员被吸收时，这名宇航员消失，人型生物的能量增加 $\lfloor {a_i\over 2} \rfloor$。

请你帮他算一算，如果他用最佳方案进行操作，他最多能吸收几名宇航员的能量？

### 算法分类
贪心

### 题解分析与结论

本题的核心在于如何合理地使用翻倍和翻三倍的操作，以最大化吸收宇航员的数量。大多数题解都采用了贪心的策略，即先对宇航员的能量进行排序，然后枚举翻倍和翻三倍的顺序，模拟吸收过程。难点在于如何高效地枚举所有可能的操作顺序，并确保在每一步都能做出最优选择。

### 所选高星题解

#### 题解1：fast_photon (5星)
**关键亮点**：
- 思路清晰，详细分析了贪心策略的合理性。
- 代码简洁，逻辑清晰，易于理解。
- 通过枚举翻倍和翻三倍的顺序，确保找到最优解。

**核心代码**：
```cpp
for(int d = 0; d < 3; d++) {
    int cnt2 = 2, cnt3 = 1;
    int x = s;
    for(int i = 0; i < n; i++) {
        while(x <= a[i]) {
            if(cnt2 == d && cnt3 > 0) {
                cnt3--;
                x *= 3;
            }
            else if(cnt2 > 0) {
                cnt2--;
                x *= 2;
            }
            else break;
        }
        if(x <= a[i]) break;
        x += a[i] / 2;
        ans = max(ans, i + 1);
    }
}
```
**核心思想**：通过枚举翻倍和翻三倍的顺序，模拟吸收过程，确保每一步都尽可能吸收更多的宇航员。

#### 题解2：xiaomuyun (4星)
**关键亮点**：
- 详细分析了贪心策略的合理性，并提供了清晰的思路。
- 代码结构清晰，易于理解。
- 通过枚举蓝色血清的注射顺序，确保找到最优解。

**核心代码**：
```cpp
for(int t=1;t<=3;++t){
    int cnt=0,cur=1,ch=h;
    for(int i=1;i<=n;++i){
        if(a[i]<ch) ch+=a[i]/2,++cnt;
        else {
            while(a[i]>=ch){
                if(cur==t) ch*=3,++cur;
                else if(cur<=3) ch*=2,++cur;
                else break;
            }
            if(a[i]>=ch) break;
            else ch+=a[i]/2,++cnt;
        }
    }
    res=max(cnt,res);
}
```
**核心思想**：通过枚举蓝色血清的注射顺序，模拟吸收过程，确保每一步都尽可能吸收更多的宇航员。

#### 题解3：honglan0301 (4星)
**关键亮点**：
- 提供了详细的贪心策略分析，思路清晰。
- 代码结构清晰，易于理解。
- 通过枚举翻倍和翻三倍的顺序，确保找到最优解。

**核心代码**：
```cpp
for(int i=1;i<=n;i++){
    if(a[i]<hnow) hnow+=a[i]/2,ansnow++;
    else {
        if(b[1]==2) hnow*=2;
        else if(b[1]==3) hnow*=3;
        if(a[i]<hnow) hnow+=a[i]/2,ansnow++;
        else break;
    }
}
```
**核心思想**：通过枚举翻倍和翻三倍的顺序，模拟吸收过程，确保每一步都尽可能吸收更多的宇航员。

### 最优关键思路或技巧
- **贪心策略**：先对宇航员的能量进行排序，优先吸收能量较低的宇航员。
- **枚举操作顺序**：通过枚举翻倍和翻三倍的顺序，确保找到最优解。
- **模拟吸收过程**：在每一步中，尽可能吸收更多的宇航员，直到无法继续吸收为止。

### 可拓展之处
- **类似题目**：可以扩展到其他需要枚举操作顺序的贪心问题，如资源分配、任务调度等。
- **优化思路**：可以考虑使用动态规划或记忆化搜索来进一步优化枚举过程。

### 推荐题目
1. [P1004 方格取数](https://www.luogu.com.cn/problem/P1004)
2. [P1048 采药](https://www.luogu.com.cn/problem/P1048)
3. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)

### 个人心得摘录
- **fast_photon**：通过枚举翻倍和翻三倍的顺序，确保找到最优解，思路清晰，代码简洁。
- **xiaomuyun**：详细分析了贪心策略的合理性，并提供了清晰的思路，代码结构清晰，易于理解。
- **honglan0301**：提供了详细的贪心策略分析，思路清晰，代码结构清晰，易于理解。

---
处理用时：34.24秒
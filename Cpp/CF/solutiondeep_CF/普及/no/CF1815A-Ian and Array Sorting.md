# 题目信息

# Ian and Array Sorting

## 题目描述

为了感谢 $\textrm{lan}$，$\textrm{Mary}$ 赠送了 $\textrm{lan}$ 一个长度为 $n$ 的序列。为了让他自己看起来聪明，他想要让序列按非递减排序。他可以执行以下操作若干次：

+ 选择数组中的两个元素 $a_i,a_{i+1}$ ( $1\le i<n$ )。

+ 同时将它们减去 $1$，或者都加上 $1$。

（注意：操作后 $a_i,a_{i+1}$ 可以是负数或 $0$）

作为一个聪明人，你会注意到，有些序列 $\textrm{lan}$ 无法让其非递减排序。因此，你决定编写一个程序来确定是否可以使数组按非递减顺序排列。

## 样例 #1

### 输入

```
5
3
1 3 2
2
2 1
4
1 3 5 7
4
2 1 4 3
5
5 4 3 2 1```

### 输出

```
YES
NO
YES
NO
YES```

# AI分析结果

### 题目翻译
# Ian 和数组排序

## 题目描述

为了感谢 $\textrm{lan}$，$\textrm{Mary}$ 赠送了 $\textrm{lan}$ 一个长度为 $n$ 的序列。为了让他自己看起来聪明，他想要让序列按非递减排序。他可以执行以下操作若干次：

+ 选择数组中的两个元素 $a_i,a_{i+1}$ ( $1\le i<n$ )。

+ 同时将它们减去 $1$，或者都加上 $1$。

（注意：操作后 $a_i,a_{i+1}$ 可以是负数或 $0$）

作为一个聪明人，你会注意到，有些序列 $\textrm{lan}$ 无法让其非递减排序。因此，你决定编写一个程序来确定是否可以使数组按非递减顺序排列。

## 样例 #1

### 输入

```
5
3
1 3 2
2
2 1
4
1 3 5 7
4
2 1 4 3
5
5 4 3 2 1```

### 输出

```
YES
NO
YES
NO
YES```

### 算法分类
差分、数学

### 题解分析与结论
该题的核心思路是通过差分数组来分析问题，利用操作对差分数组的影响来判断是否可以使原数组非递减排序。大部分题解都采用了差分数组的思路，并通过奇偶性分析来简化问题。

#### 关键思路：
1. **差分数组**：通过构造差分数组，将问题转化为如何使差分数组中的某些元素满足特定条件。
2. **奇偶性分析**：根据数组长度的奇偶性，判断是否可以通过操作使差分数组满足条件。
3. **操作的影响**：每次操作会影响差分数组中相隔两个位置的元素，因此可以将问题分解为奇数位和偶数位的独立处理。

#### 最优思路：
- 当数组长度为奇数时，必定有解，因为可以通过操作调整奇数位和偶数位的元素。
- 当数组长度为偶数时，需要检查偶数位的差分元素之和是否非负，若为非负则有解，否则无解。

### 评分较高的题解

#### 1. 作者：inc1ude_c (赞：11)
- **星级**：5
- **关键亮点**：通过将问题转化为 $a_1=a_2=\cdots=a_{n-1}\le a_n$，简化了问题的分析，并通过奇偶性分析得出了明确的结论。
- **代码实现**：
```cpp
if(n & 1) puts("YES");
else {
    long long sum = 0;
    for(int i = 2; i <= n; i += 2) sum += b[i];
    if(sum >= 0) puts("YES");
    else puts("NO");
}
```
- **核心思想**：通过奇偶性分析，判断偶数位的差分元素之和是否非负。

#### 2. 作者：DengDuck (赞：5)
- **星级**：4
- **关键亮点**：通过差分数组和奇偶性分析，得出了当 $n$ 为奇数时必定有解，当 $n$ 为偶数时需要检查偶数位的差分元素之和。
- **代码实现**：
```cpp
if(n & 1) puts("Yes");
else {
    LL sum = 0;
    for(int i = 2; i <= n; i += 2) sum += a[i];
    if(sum >= 0) puts("Yes");
    else puts("No");
}
```
- **核心思想**：通过奇偶性分析，判断偶数位的差分元素之和是否非负。

#### 3. 作者：crimson000 (赞：5)
- **星级**：4
- **关键亮点**：通过差分数组和奇偶性分析，得出了当 $n$ 为奇数时必定有解，当 $n$ 为偶数时需要检查偶数位的差分元素之和。
- **代码实现**：
```cpp
if(n & 1) puts("YES");
else {
    long long sum = 0;
    for(int i = 2; i <= n; i += 2) sum += b[i];
    if(sum >= 0) puts("YES");
    else puts("NO");
}
```
- **核心思想**：通过奇偶性分析，判断偶数位的差分元素之和是否非负。

### 关键代码实现
```cpp
if(n & 1) puts("YES");
else {
    long long sum = 0;
    for(int i = 2; i <= n; i += 2) sum += b[i];
    if(sum >= 0) puts("YES");
    else puts("NO");
}
```
- **核心思想**：通过奇偶性分析，判断偶数位的差分元素之和是否非负。

### 拓展思路
类似的问题可以通过差分数组和奇偶性分析来解决，尤其是在涉及区间操作和单调性判断的题目中。例如，可以通过差分数组来判断是否可以通过某些操作使数组满足特定条件。

### 推荐题目
1. [P3372 【模板】线段树 1](https://www.luogu.com.cn/problem/P3372)
2. [P3368 【模板】树状数组 2](https://www.luogu.com.cn/problem/P3368)
3. [P3384 【模板】树链剖分](https://www.luogu.com.cn/problem/P3384)

### 个人心得
- **调试经历**：在实现差分数组时，需要注意数组下标的奇偶性，避免出现越界或逻辑错误。
- **顿悟感想**：通过差分数组和奇偶性分析，可以将复杂的问题简化为简单的条件判断，大大提高了解题效率。

---
处理用时：35.36秒
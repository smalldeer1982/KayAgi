# 题目信息

# Demonstration

## 题目描述

在贝兰国的首都伯特城，由于国王的最近选举结果，市民们展开了抗议活动。奥瓦尔尼先生领导的反对派认为，此次选举不够公正，他们希望在某个广场上组织一次示威。

伯特城一共有 $n$ 个广场，从 $1$ 到 $n$ 编号。编号越小，离市中心越近。也就是说，广场 $1$ 是最靠近市中心的，而广场 $n$ 最远。自然地，反对派希望尽可能在最接近市中心的广场上举行集会。

距离示威活动还有 $k$ 天（$k < n$）。目前所有广场都是空闲的。不过，城里的市政府并不闲着，批准示威申请的过程可能会变得非常繁复冗长。申请审批的过程将持续几天，具体程序如下：

- 反对派每天必须申请一个空闲的广场来举行示威（即没有被市政府占用的广场）。
- 市政府会试图让他们在余下的空闲广场中，选择最不理想的一个进行示威。市政府会在反对派申请的广场上安排长期活动，使之不再空闲。然后建议反对派搬到最不理想的那个空闲广场。如果反对派申请的正好是最不理想的空闲广场，那请求就会被接受，市政府也不会花钱。如果市政府没足够的钱在申请的广场上组织活动，则反对派的申请会被直接通过。如果市政府钱不够用，他们会把剩下的钱用光，但还是得接受申请。
- 如果申请未被接受，反对派能选择同意市政府的建议（使用最不理想的空闲广场），或撤回申请，等到第二天重提。如果剩下的天数不够，反对派就只能接受市政府的建议。如果申请被接受，反对派可以选择拒绝，这意味着他们还是可以在之后继续申请，广场也会保持空闲。

在广场 $i$ 上举办活动需要花费 $a_i$ 布勒。由于经济不景气，市政府只有 $b$ 布勒来阻止反对派。那么，反对派能够选择的最优广场的最小编号是多少？注意，市政府的对策完全取决于反对派的行为。

## 说明/提示

在第一个示例中，反对派可以先申请广场 3，让市政府在那里举办活动，这样市政府剩下 3 布勒。第二天如果反对派申请广场 2，市政府将无力干扰。

在第二个示例中，反对派只能选择最后一个广场。如果他们一开始就占据前四个广场的任何一个，市政府至少会剩余 4 布勒，这样下一天可以将反对派从任何一个广场赶到最后一个广场。

在第三个示例中，市政府有充足的资金，因此反对派只能占据最后一个广场。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
5 2
8
2 4 5 3 1
```

### 输出

```
2
```

## 样例 #2

### 输入

```
5 2
8
3 2 4 1 5
```

### 输出

```
5
```

## 样例 #3

### 输入

```
5 4
1000000000000000
5 4 3 2 1
```

### 输出

```
5
```

# AI分析结果



### 题目重写  
在贝兰国的首都伯特城，由于国王的最近选举结果，市民们展开了抗议活动。奥瓦尔尼先生领导的反对派认为，此次选举不够公正，他们希望在某个广场上组织一次示威。  

伯特城一共有 $n$ 个广场，从 $1$ 到 $n$ 编号。编号越小，离市中心越近。反对派希望在最接近市中心的广场举行集会。  

距离示威活动还有 $k$ 天（$k < n$）。反对派每天必须申请一个空闲的广场，市政府会强制他们选择当前最不理想的空闲广场（编号最大），并尝试在申请的广场上花费资金阻止。若市政府的剩余资金不足以阻止，则申请通过。求反对派能确保的最优广场的最小编号。  

---

### 算法分类  
贪心  

---

### 题解分析与结论  

所有题解均采用贪心思路：  
1. **核心逻辑**：通过选择前 $k$ 个花费最大的广场消耗政府资金，使得剩余资金不足以干预最终选择。  
2. **关键步骤**：  
   - 将所有广场按花费 $a_i$ 降序排序，取前 $k$ 大的总和。  
   - 若总和 $\leq b$，说明政府资金充足，只能选最远广场 $n$。  
   - 否则，遍历所有广场，找到最小的 $i$，使得用该广场替换第 $k$ 大的广场后，总花费超过 $b$。  

**代码缺陷**：题解中排序范围错误（仅排序前 $n-1$ 个元素），导致当最大 $a_i$ 位于最后一个广场时计算错误。正确应排序全部 $n$ 个元素。  

---

### 推荐题解  
（所有题解代码均存在排序范围错误，故暂不推荐具体实现）  

---

### 关键思路  
1. **贪心消耗策略**：优先用高花费广场消耗资金。  
2. **替换验证**：若前 $k$ 大总和超过预算，通过替换第 $k$ 大的元素寻找最小可行编号。  
3. **边界处理**：总和不足时直接返回 $n$。  

---

### 拓展思考  
类似贪心问题可通过预排序和替换验证解决，例如：  
- **洛谷 P1094**（纪念品分组）：排序后贪心配对。  
- **洛谷 P1209**（修理牛棚）：间隔排序后选择最大间隔。  

---

### 推荐题目  
1. [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094)  
2. [P1209 修理牛棚](https://www.luogu.com.cn/problem/P1209)  
3. [P4995 跳跳！](https://www.luogu.com.cn/problem/P4995)  

---

### 总结  
本题需注意排序范围和替换逻辑的正确性。题解思路正确但实现存在细节错误，需谨慎验证代码边界条件。贪心策略的关键在于如何最大化消耗资源以创造最优解空间。

---
处理用时：181.87秒
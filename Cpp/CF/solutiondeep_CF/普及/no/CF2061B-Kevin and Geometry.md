# 题目信息

# Kevin and Geometry

## 题目描述

凯文有 $ n $ 根长度分别为 $ a_1,a_2,\ldots,a_n $ 的木棍。

凯文想从这些木棍中选出 4 根来组成一个面积为正的等腰梯形  。请注意，矩形和正方形也被视为等腰梯形。请帮助凯文找到一个解决方案。如果不存在解决方案，请输出 -1 。

等腰梯形是一种凸四边形，有一条对称轴将一对对边平分。在任何等腰梯形中，两对边（底边）平行，另外两边（腰）长度相等。

## 说明/提示

在第一个测试用例中，您可以构建一个等腰梯形，其底边长度分别为 5 和 10，且两腰长度均为 5 。

在第二个测试用例中，您可以形成一个两底边长均为 5 且两腰长均为 10 的等腰梯形。这里矩形被视为等腰梯形。

在第三个测试用例中，没有长度相同的木棍。无法构成等腰梯形。

在第四个测试用例中，无法形成面积为正的等腰梯形。

## 样例 #1

### 输入

```
7
4
5 5 5 10
4
10 5 10 5
4
1 2 3 4
4
1 1 1 3
6
4 2 1 5 7 1
6
10 200 30 300 30 100
4
100000000 100000000 1 2```

### 输出

```
5 5 5 10
5 5 10 10
-1
-1
1 1 4 5
-1
100000000 100000000 1 2```

# AI分析结果



【中文重写题目】

# 凯文与几何

## 题目描述

凯文有 $n$ 根长度分别为 $a_1,a_2,\ldots,a_n$ 的木棍。他想从中选出 4 根组成一个面积为正的等腰梯形。注意矩形和正方形也被视为等腰梯形。请帮助凯文找出解决方案，若不存在则输出 -1。

等腰梯形是具有对称轴的凸四边形，两底边平行，两腰长度相等。

## 样例说明

样例一：底边 5 和 10，腰长 5  
样例二：底边 5 和 5，腰长 10  
样例三：无重复长度无法构造  
样例四：无法满足面积条件  

---

**算法分类**：构造 + 贪心

---

### 题解分析与结论

#### 核心思路
1. **腰优先策略**：选择最大的两个相等元素作为腰，使条件更易满足
2. **底边选择**：在剩余元素中寻找相邻元素作为上下底，最小化长度差
3. **四边形判定**：需满足上底 + 2×腰长 > 下底（几何不等式）

#### 最优解关键点
- 排序后逆向扫描找最大腰长对
- 利用有序数组特性快速定位相邻候选底边
- 特判两对相等元素情况（直接形成矩形）

---

### 精选题解（评分与亮点）

#### 题解作者：Drifty（★★★★☆）
**亮点**：
- 全面处理多边界情况
- 通过分段扫描覆盖所有候选位置
- 包含矩形特判逻辑

**核心代码**：
```cpp
sort(a.begin(), a.end());
int f = -1;
// 找最大腰
for(int i = n-1; i; i--) if(a[i]==a[i-1]) f=i;
if(f == -1) return; 

// 检查底边组合
for(int i=f+2; i<n; i++)
    if(a[i-1] + a[f] + a[f-1] > a[i])
        return输出组合;
// 其他情况扫描...
```

#### 题解作者：c_legg（★★★★☆）
**亮点**：
- 二分优化底边查找
- 简洁的数组重组方法
- 清晰的数学条件转换

**核心逻辑**：
```cpp
sort(a, a+n);
// 移除腰元素后二分查找
for(int i=0; i<n; i++) {
    x = a[i];
    y = lower_bound(a+i+1, a+n, 2*z+x) - a;
    if(y合法) 输出组合;
}
```

---

### 关键实现技巧
1. **排序预处理**：将数组排序后便于贪心选择
2. **双指针扫描**：在有序数组中快速定位相邻元素对
3. **几何条件转换**：将面积条件简化为代数不等式

---

### 扩展训练
1. [P1143 三角形的周长](https://www.luogu.com.cn/problem/P1143)（贪心+几何判定）
2. [CF1111B Average Superhero Gang Power](https://www.luogu.com.cn/problem/CF1111B)（贪心策略优化）
3. [P2240 部分背包问题](https://www.luogu.com.cn/problem/P2240)（经典贪心模型）

---

### 调试心得摘录
"忘记处理两对相等的情况导致WA，后来添加了特判才通过" —— 题解作者Pyrf_uqcat  
"初始条件写成2b > c - a，实际应为a + 2b > c" —— 题解作者Drifty

---
处理用时：176.91秒
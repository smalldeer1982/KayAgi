# 题目信息

# Intersection

## 题目描述

You are given two set of points. The first set is determined by the equation $ A_{1}x+B_{1}y+C_{1}=0 $ , and the second one is determined by the equation $ A_{2}x+B_{2}y+C_{2}=0 $ .

Write the program which finds the number of points in the intersection of two given sets.

## 样例 #1

### 输入

```
1 1 0
2 2 0
```

### 输出

```
-1
```

## 样例 #2

### 输入

```
1 1 0
2 -2 0
```

### 输出

```
1
```

# AI分析结果



# Intersection

## 题目描述

给定两组点集。第一组由方程 $ A_{1}x+B_{1}y+C_{1}=0 $ 确定，第二组由方程 $ A_{2}x+B_{2}y+C_{2}=0 $ 确定。

编写程序找出两个点集交集中的点的数量。

## 样例 #1

### 输入
```
1 1 0
2 2 0
```

### 输出
```
-1
```

## 样例 #2

### 输入
```
1 1 0
2 -2 0
```

### 输出
```
1
```

---

### 算法分类
数学

---

### 题解分析与结论
各题解核心思路均为分类讨论直线方程的退化情况（全集/空集）及直线间的位置关系（相交/平行/重合）。最优解法通过以下步骤实现：
1. 判断方程是否退化（全集或空集）
2. 使用行列式法判断直线关系，避免浮点误差
3. 用整数运算替代除法判断比例关系

---

### 精选题解

#### 离散小波变换°（★★★★☆）
**核心亮点**：
1. 系统分类处理方程退化情况（全集/空集）
2. 使用行列式法判断直线关系（$A_1B_2 - A_2B_1$ 判平行，结合其他系数判重合）
3. 代码结构清晰，完全避免浮点运算

**关键代码解析**：
```cpp
// 判断方程退化情况（全集/空集）
if(a1==0&&b1==0&&c1==0) f1=1;  // 全集
else if(a1==0&&b1==0&&c1!=0) f1=-1; // 空集

// 判断直线位置关系
if(b1*a2 - a1*b2 != 0) puts("1");  // 相交
else if(a1*c2 == a2*c1 && b1*c2 == b2*c1) puts("-1"); // 重合
else puts("0"); // 平行
```

---

### 关键思路总结
1. **全集空集优先判**：首先处理系数全零的特殊情况（全集：0x+0y+0=0，空集：0x+0y+C=0）
2. **整数比例判断**：通过交叉相乘（如a1*b2 == a2*b1）代替除法运算，避免精度问题
3. **行列式判相交**：使用行列式值 $A_1B_2 - A_2B_1$ 判断两直线是否平行

---

### 同类题目推荐
1. P2789 直线交点数 - 直线相交的排列组合问题
2. P1024 一元三次方程求解 - 方程解的数学分析
3. P1517 判断共线 - 点集共线判断的变形题

---

### 题解心得摘录
ahawzlc："心态差点炸了" → 强调分支条件需全面考虑  
离散小波变换°："要特判的地方有一点多" → 凸显数学题需要系统分类的重要性  
叶枫："这种题不应该一遍A么" → 反映测试用例设计对边界情况的覆盖需求

---
处理用时：48.12秒
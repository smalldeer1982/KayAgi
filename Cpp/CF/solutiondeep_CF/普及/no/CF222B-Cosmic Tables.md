# 题目信息

# Cosmic Tables

## 题目描述

给定一个 $n\times m$ 的矩阵与 $k$ 次操作，每次操作有以下三种类别：

- 交换第 $x_i$ 列与第 $y_i$ 列；
- 交换第 $x_i$ 行与第 $y_i$ 行；
- 查询位于第 $x_i$ 行第 $y_i$ 列的数。

## 样例 #1

### 输入

```
3 3 5
1 2 3
4 5 6
7 8 9
g 3 2
r 3 2
c 2 3
g 2 2
g 3 2
```

### 输出

```
8
9
6
```

## 样例 #2

### 输入

```
2 3 3
1 2 4
3 1 5
c 2 1
r 1 2
g 1 3
```

### 输出

```
5
```

# AI分析结果



# Cosmic Tables

## 题目描述

给定一个 $n×m$ 的矩阵与 $k$ 次操作，每次操作有以下三种类别：

- 交换第 $x_i$ 列与第 $y_i$ 列；
- 交换第 $x_i$ 行与第 $y_i$ 行；
- 查询位于第 $x_i$ 行第 $y_i$ 列的数。

## 样例 #1

### 输入

```
3 3 5
1 2 3
4 5 6
7 8 9
g 3 2
r 3 2
c 2 3
g 2 2
g 3 2
```

### 输出

```
8
9
6
```

## 样例 #2

### 输入

```
2 3 3
1 2 4
3 1 5
c 2 1
r 1 2
g 1 3
```

### 输出

```
5
```

---

### 算法分类
模拟

---

## 题解综合分析

#### 最优思路
使用行列映射数组间接访问矩阵元素，将行列交换操作转化为索引交换，时间复杂度优化至 $O(1)$ 每次操作。关键数据结构：
- `row[i]` 表示当前第 i 行对应原矩阵的行号
- `col[j]` 表示当前第 j 列对应原矩阵的列号

#### 关键代码实现
```cpp
int row[1010], col[1010], a[1010][1010];
// 初始化
for(int i=1;i<=n;i++) row[i] = i;
for(int j=1;j<=m;j++) col[j] = j;

// 交换行x和行y
swap(row[x], row[y]);

// 查询(x,y)元素
cout << a[row[x]][col[y]];
```

---

## 优质题解推荐

### 1. Rosmarinus 题解（★★★★☆）
**核心亮点**  
- 变量命名清晰（hang/lie 对应行列映射）
- 代码结构简洁，输入输出处理规范
- 正确性证明简练，注释恰到好处

**关键代码**  
```cpp
int a[1100][1100], hang[1100], lie[1100];
swap(lie[x], lie[y]); // 列交换
printf("%d\n", a[hang[x]][lie[y]]); // 查询
```

### 2. wmrqwq 题解（★★★★☆）
**核心亮点**  
- 使用数组名x2/y2直观表示行列映射
- 代码包含详细初始化注释
- 输入输出处理高效

**亮点代码**  
```cpp
swap(x2[x],x2[y]); // 行交换
printf("%d\n",a[x2[x]][y2[y]]); // 查询
```

### 3. LYqwq 题解（★★★★☆）
**核心亮点**  
- 同时给出暴力解法和优化解法对比
- 深入分析两种方法的复杂度差异
- 包含快读实现示例

**个人心得**  
> "交换行列时实际交换的是原矩阵的索引，这种映射思想能将O(n)的操作降为O(1)，避免了暴力解法中卡常的困扰"

---

## 扩展与提升

### 类似题目推荐
1. [P1101 单词方阵](https://www.luogu.com.cn/problem/P1101) - 矩阵方向变换的模拟
2. [P2239 旋转矩阵](https://www.luogu.com.cn/problem/P2239) - 行列坐标映射的经典应用
3. [P2615 神奇的幻方](https://www.luogu.com.cn/problem/P2615) - 矩阵构造与坐标变换

### 思维拓展
当遇到大规模矩阵操作问题时，可考虑以下模式：
1. **间接索引法**：通过维护映射关系避免实际数据移动
2. **分层处理**：对行和列的操作解耦处理
3. **状态压缩**：用整数表示行列交换序列的状态（适用于需要回溯的场景）

---
处理用时：51.76秒
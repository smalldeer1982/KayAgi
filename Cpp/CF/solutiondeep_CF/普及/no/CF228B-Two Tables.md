# 题目信息

# Two Tables

## 题目描述

你有两个矩阵，尺寸分别为 $n_a × m_a$ 和 $n_b × m_b$，每个元素由 $0$ 和 $1$ 构成，下标从 $1$ 开始。
请求出满足
$\sum_{\begin{subarray}{l} \\i,j \end{subarray}}
a_{i,j} \cdotp b_{i+x,j+y}$ 的 $x,y$，其中 $1 ≤ i ≤ n_a, 1 ≤ j ≤ m_a, 1 ≤ i + x ≤ n_b, 1 ≤ j + y ≤ m_b$ 。

## 样例 #1

### 输入

```
3 2
01
10
00
2 3
001
111
```

### 输出

```
0 1
```

## 样例 #2

### 输入

```
3 3
000
010
000
1 1
1
```

### 输出

```
-1 -1
```

# AI分析结果



# Two Tables

## 题目描述

你有两个由0和1构成的矩阵，尺寸分别为 $n_a × m_a$ 和 $n_b × m_b$，下标从1开始。
求满足 $\sum a_{i,j} \cdot b_{i+x,j+y}$ 最大的坐标 $(x,y)$，其中只有当 $i+x$ 在 $[1,n_b]$ 且 $j+y$ 在 $[1,m_b]$ 时才会参与求和。

## 样例 #1

### 输入

```
3 2
01
10
00
2 3
001
111
```

### 输出

```
0 1
```

## 样例 #2

### 输入

```
3 3
000
010
000
1 1
1
```

### 输出

```
-1 -1
```

**算法分类**：枚举

---

### 题解分析与结论

**核心思路对比**：
1. 两位作者均采用三重循环：外层枚举偏移量 $(x,y)$，中层遍历矩阵A的元素，内层计算有效重叠区域的和
2. Eason_cyx 的枚举范围更严谨，直接覆盖矩阵可能的最大相对位移
3. RE_Prince 的代码存在潜在越界风险（内层循环范围设置不当）

**最优思路**：
- 枚举所有可能的偏移量 $(x,y)$，范围需覆盖矩阵尺寸的正负极值
- 对每个偏移量，遍历矩阵A的所有元素，仅累加满足边界条件的对应位置乘积
- 使用三重循环结构，时间复杂度 $O((2n)^2 \cdot n^2)$，在题目约束下可行

---

### 精选题解

#### Eason_cyx（⭐⭐⭐⭐）
**亮点**：
1. 枚举范围通过矩阵尺寸极值确定，确保完整性
2. 边界条件判断简洁清晰，直接跳过越界元素
3. 代码结构层次分明，变量命名规范

**核心代码**：
```cpp
for(int x = -50; x <= 50; x++) {  // 实际枚举范围应为 -n_b 到 n_b
    for(int y = -50; y <= 50; y++) {
        long long sum = 0;
        for(int i = 1; i <= na; i++) {
            for(int j = 1; j <= ma; j++) {
                if(1 <= i+x && i+x <= nb && 1 <= j+y && j+y <= mb) {
                    sum += a[i][j] * b[i+x][j+y];
                }
            }
        }
        // 维护最大值...
    }
}
```

**实现思想**：
1. 外层枚举x∈[-max_size, max_size], y同理
2. 中层遍历矩阵A所有元素
3. 内层判断对应B矩阵坐标是否合法，合法则累加

---

### 技巧总结

1. **位移枚举法**：将二维矩阵匹配转化为相对位移的枚举问题
2. **剪枝优化**：通过矩阵尺寸计算x,y的合理范围（如x∈[-n_b, n_b]）
3. **即时计算**：在枚举过程中动态计算重叠和，避免预存中间结果
4. **坐标转换**：i→i+x, j→j+y 的坐标映射需同步验证边界

---

### 拓展练习

1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003) - 二维覆盖问题
2. [P3397 地毯](https://www.luogu.com.cn/problem/P3397) - 二维差分应用
3. [P1101 单词方阵](https://www.luogu.com.cn/problem/P1101) - 矩阵模式匹配

---

### 题解心得摘录

> "枚举范围要覆盖所有可能的相对位移，虽然会增加循环次数，但能保证正确性" —— 体现对暴力枚举边界的深刻理解

> "注意矩阵下标从1开始，边界判断要同时验证上下界" —— 强调细节处理的重要性

---
处理用时：110.34秒
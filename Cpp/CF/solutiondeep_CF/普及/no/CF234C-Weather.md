# 题目信息

# Weather

## 题目描述

科学家们对全球变暖和地球降温的问题说了很多。事实上，这种自然现象强烈影响着我们星球上的所有生命。



我们的英雄Vasya非常关心这些问题。他决定做一个小小的实验，观察室外的温度是如何变化的。他每天早上在阳台上挂一个温度计，记录下温度。



他过去的n天都在测量温度。因此，他得到了一组数据：



$t_1$,$t_2$......$t_n$,其中，$t_i$表示第i天温度。



Vasya分析了其他城市的温度统计数据，得出结论：如果先是室外温度为负的一些非零天数，然后温度为正的一些非零天数，那么这个城市就没有环境问题。



更确切地说，必须存在一个正整数k(1<=k<=n-1),使得$t_1$<0,$t_2$<0......$t_k$<0并且其余的数据大于0。



还有一个特殊的要求：温度永远不应该是零。



如果不满足这个条件，Vesya决定他的城市有环境问题，并感到不安!!



你不想让Vesya难过。因此，您需要选择多个温度值并修改它们以满足Vasya的条件。你需要知道需要改变的最小温度值的数目。

## 说明/提示

对于第一个样例：有两种方法可以改变一个数字，使序列符合Vasya的条件。你可以用任何负数替换第一个数字1，也可以用任何正数替换数字-2。

## 样例 #1

### 输入

```
4
-1 1 -2 1
```

### 输出

```
1
```

## 样例 #2

### 输入

```
5
0 -1 1 2 -5
```

### 输出

```
2
```

# AI分析结果



# Weather

## 题目描述

科学家们对全球变暖和地球降温的问题说了很多。事实上，这种自然现象强烈影响着我们星球上的所有生命。

我们的英雄Vasya非常关心这些问题。他决定做一个小小的实验，观察室外的温度是如何变化的。他每天早上在阳台上挂一个温度计，记录下温度。

他过去的n天都在测量温度。因此，他得到了一组数据：

$t_1$,$t_2$......$t_n$,其中，$t_i$表示第i天温度。

Vasya分析了其他城市的温度统计数据，得出结论：如果先是室外温度为负的一些非零天数，然后温度为正的一些非零天数，那么这个城市就没有环境问题。

更确切地说，必须存在一个正整数k(1<=k<=n-1),使得$t_1$<0,$t_2$<0......$t_k$<0并且其余的数据大于0。

还有一个特殊的要求：温度永远不应该是零。

如果不满足这个条件，Vesya决定他的城市有环境问题，并感到不安!!

你不想让Vesya难过。因此，您需要选择多个温度值并修改它们以满足Vasya的条件。你需要知道需要改变的最小温度值的数目。

---

**算法分类**：前缀和

---

### 题解分析与结论

所有题解均采用**前缀和+后缀和**的核心思路：
1. **前缀数组**统计前i天中需要修改为负数的元素数（正数或零）
2. **后缀数组**统计后i天中需要修改为正数的元素数（负数或零）
3. 枚举所有可能的k，计算前k天和后n-k天的修改次数之和，取最小值

两种处理零的方式等价：
- 单独统计所有零的数量，最后统一累加
- 将零包含在前缀和后缀的统计中

---

### 精选题解

#### 1. 作者：Fuxh_18（⭐️⭐️⭐️⭐️）
**核心亮点**：
- 变量命名清晰（weather数组、q/h前缀后缀数组、z表示零的数量）
- 注释详细，代码可读性强
- 显式处理零的统计，逻辑直观

**代码片段**：
```cpp
for(int i=1;i<=n;i++){
    cin>>weather[i];
    q[i]=q[i-1]; 
    if(weather[i]>0) q[i]++;
    else if(weather[i]==0) z++;
}
for(int i=n;i>=1;i--){
    h[i]=h[i+1];
    if(weather[i]<0) h[i]++;
}
```

#### 2. 作者：Alcl000000（⭐️⭐️⭐️⭐️）
**核心亮点**：
- 代码最简练，直接通过>=0和<=0的包含零的统计
- 变量命名规范（pre/suf数组）
- 无需单独处理零，数学等价性体现巧妙

**代码片段**：
```cpp
for(int i=1; i<=n; ++i) pre[i] = (x>=0);
for(int i=n; i>=1; --i) suf[i] = (x<=0);
ans = min(ans, pre[k] + suf[k+1]);
```

#### 3. 作者：do_while_true（⭐️⭐️⭐️⭐️）
**核心亮点**：
- 引入lsum变量强调零必须修改
- 函数式代码结构，注释明确
- 数学表达清晰（sum1_i+sum2_{i+1}+lsum）

**代码片段**：
```cpp
sum1[i] = sum1[i-1] + (a[i]>0);
if(a[i]==0) lsum++;
sum2[i] = sum2[i+1] + (a[i]<0);
```

---

### 关键思路总结
1. **前缀后缀预处理**：通过一次遍历统计前i天需要修改的次数
2. **零的特殊处理**：所有零必须修改，可统一累加或包含在前后缀统计中
3. **枚举分界点**：遍历k∈[1,n-1]，计算前k天后n-k天的最小修改次数

---

### 拓展思考
类似**分段处理**的问题可参考：
1. 最大子段和（洛谷 P1115）- 前缀和经典应用
2. 海底高铁（洛谷 P3406）- 差分与前缀和结合
3. 七日统计（洛谷 P3131）- 前缀和取模特性

---

### 相似题目推荐
1. [P1115 最大子段和](https://www.luogu.com.cn/problem/P1115)
2. [P3406 海底高铁](https://www.luogu.com.cn/problem/P3406)
3. [P3131 Subsequences Summing to Sevens S](https://www.luogu.com.cn/problem/P3131)

---
处理用时：256.84秒
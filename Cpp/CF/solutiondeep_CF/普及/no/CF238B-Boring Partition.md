# 题目信息

# Boring Partition

## 题目描述

你可以把 $n$ 个元素划分到两个序列里。

对于任意两个的元素 $a_i$ 和 $a_j$（$i \ne j$），如果它们在一个序列中，$f(i, \ j) = a_i + a_j$，如果它们在不同序列中，$f(i, \ j) = a_i + a_j + h$，其中 $h$ 是一个给定的参数。

一种划分方式的优美度定义为最大的 $f(i, \ j)$ 与最小的 $f(i, \ j)$ 的差值。

求优美度最小的方案。

## 样例 #1

### 输入

```
3 2
1 2 3
```

### 输出

```
1
1 2 2 
```

## 样例 #2

### 输入

```
5 10
0 1 0 2 1
```

### 输出

```
3
2 2 2 2 2 
```

# AI分析结果



# Boring Partition（中文翻译）

## 题目描述

你可以将 $n$ 个元素划分到两个序列中。

对于任意两个元素 $a_i$ 和 $a_j$（$i \ne j$），若它们在同一序列中，则 $f(i, \ j) = a_i + a_j$；若在不同序列中，则 $f(i, \ j) = a_i + a_j + h$（$h$ 为给定参数）。

划分方式的优美度定义为所有 $f(i, \ j)$ 的最大值与最小值的差值。求优美度最小的划分方案。

## 样例 #1

### 输入
```
3 2
1 2 3
```

### 输出
```
1
1 2 2 
```

## 样例 #2

### 输入
```
5 10
0 1 0 2 1
```

### 输出
```
3
2 2 2 2 2 
```

---

**算法分类**：构造

---

### 综合分析与结论
题目核心在于通过构造分组策略，使得最大值与最小值的差值最小。关键思路是通过排序分析极值组合，比较两种分组策略：① 最小值单独分组，② 全部元素同组。需特别注意当 $h$ 较大时可能全部同组更优。

---

### 精选题解分析

#### 题解作者：AC_love（⭐⭐⭐⭐⭐）
**关键亮点**：
1. 系统分析最大/最小值的四种可能来源
2. 构造分组时考虑极值组合的相互关系
3. 处理了 $h$ 过大时的边界情况
4. 代码结构清晰，变量命名合理

**核心代码思想**：
```cpp
sort(a + 1, a + 1 + n, cmpv);
int maxn1 = max(a[1].val + a[n].val + h, a[n].val + a[n-1].val);
int minn1 = min(a[1].val + a[2].val + h, a[2].val + a[3].val);
int maxn2 = a[n].val + a[n-1].val;
int minn2 = a[1].val + a[2].val;
ans = min(maxn1 - minn1, maxn2 - minn2);
```

---

### 最优解题技巧总结
1. **排序分析**：先对数组排序以快速获取极值
2. **极值组合枚举**：最大f可能为（最大+次大）或（最大+最小+h），最小f可能为（最小+次小+h）或（次小+第三小）
3. **双策略比较**：分别计算两种分组策略下的差值，取较小者

---

### 拓展思路
类似构造题常涉及极值分析与分组策略，如：
- 最大间隔最小化（P1094）
- 两集合差值最小化（P2062）

---

### 推荐练习题
1. P1094 [纪念品分组]（贪心+双指针）
2. P2062 [分队问题]（排序+极值分析） 
3. P1255 [数楼梯]（极值构造+递推优化）

---
处理用时：47.11秒
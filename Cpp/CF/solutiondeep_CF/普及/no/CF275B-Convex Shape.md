# 题目信息

# Convex Shape

## 题目描述

### 题意



有一个 $n \times m$ 的方格阵。开始时，所有的方格都是白色的。小 $Z$ 已经把其中的一些方格（至少 $1$ 个）涂成了黑色。如果在方格中从任意一个黑色方格沿着黑色方格走到另一个黑色方格最多只需要拐弯一次的话，我们就称黑色方格组成的区域为凸多边形。如下图所示，左边是凸多边形而右边的不是。



现在你需要判断一个方阵中黑色格子组成的图形是不是凸多边形。

## 样例 #1

### 输入

```
3 4
WWBW
BWWW
WWWB
```

### 输出

```
NO
```

## 样例 #2

### 输入

```
3 1
B
B
W
```

### 输出

```
YES
```

# AI分析结果



### 题目中文翻译
有一个 $n \times m$ 的方格阵。开始时，所有的方格都是白色的。小 Z 已经把其中的一些方格（至少 1 个）涂成了黑色。如果在方格中从任意一个黑色方格沿着黑色方格走到另一个黑色方格最多只需要拐弯一次的话，我们就称黑色方格组成的区域为凸多边形。现在需要判断黑色格子组成的图形是否是凸多边形。

### 算法分类
枚举

---

### 题解对比与结论
**核心思路**：枚举所有黑格子对，分三类检查路径合法性：
1. **同行/同列**：路径必须全黑
2. **其他情况**：检查两条可能的单拐弯路径（拐点至少有一个是黑色）

**关键优化**：
- 预处理所有黑格子坐标，减少无效遍历
- 拐点检查的 O(1) 判断代替路径遍历

---

### 精选题解
#### 题解一（0okoukio0）⭐⭐⭐⭐
**亮点**：
1. 黑块坐标预存，减少冗余计算
2. 分三类情况处理，逻辑清晰
3. 即时终止检测，优化无效计算

**代码核心**：
```cpp
for (遍历所有黑块对) {
    if 同一行: 检查行内是否全黑
    else if 同一列: 检查列内是否全黑
    else: 检查两个拐点是否至少一个黑
    if 任一条件不满足即返回 NO
}
```

#### 题解三（2023lpx）⭐⭐⭐⭐
**亮点**：
1. 链式存储黑块坐标，提高内存局部性
2. 简洁的条件判断结构
3. 明确的分支处理提升可读性

**代码核心**：
```cpp
for (每对黑块) {
    if 同行: 遍历中间格子查白块
    elif 同列: 遍历中间格子查白块
    else: 若双拐点均白则非法
}
```

---

### 关键思路总结
1. **预处理优化**：先收集所有黑块坐标，避免全图扫描
2. **拐点理论**：非同行列时只需检查两个拐点的存在性（组合数学思想）
3. **即时剪枝**：发现非法情况立即终止，减少无效计算

---

### 拓展练习
1. [P1162 填涂颜色](https://www.luogu.com.cn/problem/P1162) - 连通区域判断
2. [P2296 寻找道路](https://www.luogu.com.cn/problem/P2296) - 路径合法性检验
3. [P1032 字串变换](https://www.luogu.com.cn/problem/P1032) - 状态转移路径枚举

---
处理用时：157.87秒
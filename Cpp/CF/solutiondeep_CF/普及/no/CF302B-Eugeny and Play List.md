# 题目信息

# Eugeny and Play List

## 题目描述

Eugeny 的歌单中有 $n$ 首歌，其中第 $i$ 首歌播放 $c_i$ 次，每次播放持续 $t_i$ 分钟。Eugeny 会按顺序播放这 $n$ 首歌，也就是说，Eugeny 会先播放第 $1$ 首歌 $c_1$ 次，第 $2$ 首歌 $c_2$ 次，依此类推。然后有 $m$ 个问题，每个问题为一个正整数 $v_i$，表示第 $v_i$ 分钟时，Eugeny 在播放第几首歌？

## 样例 #1

### 输入

```
1 2
2 8
1 16
```

### 输出

```
1
1
```

## 样例 #2

### 输入

```
4 9
1 2
2 1
1 1
2 2
1 2 3 4 5 6 7 8 9
```

### 输出

```
1
1
2
2
3
4
4
4
4
```

# AI分析结果



# Eugeny and Play List

## 题目描述

Eugeny 的歌单中有 $n$ 首歌，其中第 $i$ 首歌播放 $c_i$ 次，每次播放持续 $t_i$ 分钟。Eugeny 会按顺序播放这 $n$ 首歌，也就是说，Eugeny 会先播放第 $1$ 首歌 $c_1$ 次，第 $2$ 首歌 $c_2$ 次，依此类推。然后有 $m$ 个问题，每个问题为一个正整数 $v_i$，表示第 $v_i$ 分钟时，Eugeny 在播放第几首歌？

## 算法分类
二分、前缀和

---

## 题解对比与结论

### 核心思路
所有题解均采用**前缀和+二分**的核心方法：
1. 构建前缀和数组 `s[i]`，表示前 i 首歌的总播放时长
2. 对每个查询 `v_i`，用二分查找第一个不小于 `v_i` 的 `s[i]`

### 最优技巧总结
- **前缀和单调性**：由于每首歌时长为正，前缀和数组严格递增，满足二分条件
- **STL函数应用**：`lower_bound(s+1, s+n+1, v)` 快速定位下标
- **时间复杂度优化**：将暴力枚举的 O(nm) 优化为 O(m logn)

---

## 精选题解（评分≥4星）

### 1. IGJHL（评分：5星）
**亮点**：完整解释前缀和与二分的关系，代码简洁规范  
**关键代码**：
```cpp
s[i] = s[i-1] + c * t;
cout << lower_bound(s+1, s+n+1, v) - s << endl;
```

### 2. Hughpig（评分：4星）  
**亮点**：手写二分实现，便于理解二分边界条件  
**关键代码**：
```cpp
int search(int val) {
    int l=1, r=n, mid, ans;
    while(l<=r) {
        mid = (l+r)/2;
        if(time_[mid]>=val) ans=mid, r=mid-1; 
        else l=mid+1;
    }
    return ans;
}
```

### 3. zhouzihe（评分：4星）
**亮点**：最简代码实现，直击问题本质  
**关键代码**：
```cpp
sum[i] = sum[i-1] + c*t;
cout << lower_bound(sum+1,sum+n+1,v)-sum << endl;
```

---

## 拓展与心得
### 同类题目推荐
1. [P1873 砍树](https://www.luogu.com.cn/problem/P1873)（二分答案）
2. [P2678 跳石头](https://www.luogu.com.cn/problem/P2678)（二分+贪心） 
3. [P2249 查找](https://www.luogu.com.cn/problem/P2249)（二分模板题）

### 题解心得摘录
- _HiKou_ 的线性解法假设查询有序，但题目未明确说明，存在风险  
- fuwei123 提到预处理时间段的思路，虽不适用但启发分段思想  
- 多篇题解强调**前缀和单调性**是二分应用的关键前提条件

---

> **学习建议**：遇到区间累计查询问题时，优先考虑前缀和与二分的组合解法，注意验证数据单调性条件。STL的lower_bound能显著简化代码，但需要理解其返回值的边界处理逻辑。

---
处理用时：48.35秒
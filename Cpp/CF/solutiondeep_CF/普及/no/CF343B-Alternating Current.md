# 题目信息

# Alternating Current

## 题目描述

两条电线分别插入了正确的位置，但是缠绕在一起，如下图所示。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF343B/800db6fdea950669ce9fc6c935adb535dd5b8f2e.png)

电线不能被剪断或断开，插入的设备也不能被移动，请问是否可以在这种情况下解开电线？

为了更好地理解题意，请阅读样例的解释。

## 样例 #1

### 输入

```
-++-
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
+-
```

### 输出

```
No
```

## 样例 #3

### 输入

```
++
```

### 输出

```
Yes
```

## 样例 #4

### 输入

```
-
```

### 输出

```
No
```

# AI分析结果



# Alternating Current

## 题目描述

两条电线分别插入了正确的位置，但是缠绕在一起，如下图所示。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF343B/800db6fdea950669ce9fc6c935adb535dd5b8f2e.png)

电线不能被剪断或断开，插入的设备也不能被移动，请问是否可以在这种情况下解开电线？

## 样例

见原题

## 算法分类
**模拟**

---

## 题解对比与结论

### 共同思路
所有题解均采用**栈**模拟相邻符号消除过程：当相邻字符相同时可消去，最终栈空则判定为可解开。

### 关键差异
1. **特判优化**：流绪的题解增加奇数长度直接返回`No`的优化，减少无效计算。
2. **消除逻辑**：前两题解每次仅检查最新压入的字符与栈顶，而流绪的解法允许循环消除栈顶多个连续可消项。
3. **代码简洁性**：紊莫的代码最精简，但无特判；流绪的代码包含优化且处理逻辑更完备。

---

## 精选题解

### 题解3：流绪（⭐⭐⭐⭐⭐）
**亮点**：  
- 引入奇数长度特判优化  
- 循环消除栈顶所有相邻相同项  
- 完整处理多次消除场景

**核心代码**：
```cpp
if(len%2)
    cout << "No";
else {
    for(int i=0;i<len;i++) {
        q.push(a[i]);
        if(q.size()>1) {
            while(q.size()>1) {
                char b = q.top(); q.pop();
                char c = q.top(); q.pop();
                if(b != c) { // 不匹配则恢复栈
                    q.push(c);
                    q.push(b);
                    break;
                }
            }
        }
    }
    puts(q.empty() ? "Yes" : "No");
}
```

### 题解1：紊莫（⭐⭐⭐⭐）
**亮点**：  
- 代码简洁，逻辑清晰  
- 利用短路运算避免无效比较  
- 栈操作与输入流同步处理

**核心代码**：
```cpp
stack<char> a;
for(char c : s) {
    if(!a.empty() && a.top() == c) a.pop();
    else a.push(c);
}
puts(a.empty() ? "Yes" : "No");
```

---

## 最优技巧总结
1. **栈结构**：处理相邻消除问题的天然结构  
2. **奇偶特判**：提前终止无效计算（关键优化点）  
3. **循环消除**：允许处理多段连续可消序列（如`aabb -> ""`）

---

## 相似题目推荐
1. [P1944 括号匹配](https://www.luogu.com.cn/problem/P1944)  
2. [P1757 通天之分组背包](https://www.luogu.com.cn/problem/P1757)（栈模拟分组）  
3. [P5658 括号树](https://www.luogu.com.cn/problem/P5658)（栈在树结构中的应用）  

---

## 心得摘录
> **流绪的调试经验**：  
> "发现若不处理奇偶性，测试用例`+-`会误判。特判后不仅优化效率，还避免边界错误。"  
> **顿悟点**：消除操作的本质是相邻两两抵消，与括号匹配的栈处理完全同构。

---
处理用时：189.05秒
# 题目信息

# Rook, Bishop and King

## 题目描述

佩蒂亚正在学习国际象棋。他已经学会如何移动王、车和象。让我们提示你如何移动国象棋子。棋盘有$64$个棋格，呈$8\times8$正方形。一个格子可以用$(r,c)$来表示——$r$指行，$c$指列（虽然在经典棋局中用字母和数字一起表示）。每一个棋子占用一个棋格。一次合法的棋步就是执行如下之一：



- 车可以横向或纵向移动任意格。

- 象可以斜着移动任意格。

- 王可以任意方向移动一格——横着或者斜着。



![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF370A/56990885d6c1103e4bcb4658b8f866fa3cac82a1.png)



佩蒂亚在想，从$(r_1,c_1)$移动到$(r_2,c_2)$所需的最少步数是多少？我们假设在棋盘上只有一枚棋子。帮他解决问题。

## 样例 #1

### 输入

```
4 3 1 6
```

### 输出

```
2 1 3
```

## 样例 #2

### 输入

```
5 5 5 6
```

### 输出

```
1 0 1
```

# AI分析结果



# Rook, Bishop and King

## 题目描述

佩蒂亚正在学习国际象棋。他已经学会如何移动王、车和象。国际象棋棋盘有 $64$ 个格子，呈 $8\times8$ 的正方形。每个格子可以用 $(r,c)$ 表示，其中 $r$ 是行号，$c$ 是列号。棋子移动规则如下：

- 车可以横向或纵向移动任意格。
- 象可以斜向移动任意格。
- 王可以朝任意方向移动一格（横向或斜向）。

给定起点 $(r_1,c_1)$ 和终点 $(r_2,c_2)$，求三种棋子到达目标的最少步数。

## 输入样例 #1
```
4 3 1 6
```
## 输出样例 #1
```
2 1 3
```

## 输入样例 #2
```
5 5 5 6
```
## 输出样例 #2
```
1 0 1
```

---

**算法分类**：数学、模拟

---

## 题解分析与结论

### 关键思路对比
1. **车**：直接判断是否同行/同列
   - 同行或同列：1步
   - 否则：2步（先走到同行再走列，或反之）
   
2. **象**：基于棋盘颜色和对角线特性
   - 在对角线上（`r1+c1 == r2+c2` 或 `r1-c1 == r2-c2`）：1步
   - 颜色不同（`(r1+c1)%2 != (r2+c2)%2`）：0步（无法到达）
   - 其他情况：2步（通过两次对角线移动）

3. **王**：取行列差的较大值
   - 每次可以斜向移动，故最少步数为 `max(|r1-r2|, |c1-c2|)`

### 最优题解推荐
#### 题解作者：sxtm12138（★★★★☆）
**亮点**：
- 代码简洁，直接数学判断
- 正确处理所有边界条件
- 时间复杂度 O(1)

**核心代码**：
```cpp
if(a==x||b==y) cout<<"1 ";
else cout<<"2 ";
if(x+y==a+b||x-y==a-b) cout<<"1 ";
else if((x+y)%2!=(a+b)%2) cout<<"0 "; 
else cout<<"2 ";
cout<<max(abs(x-a),abs(y-b));
```

#### 题解作者：YangXiaopei（★★★★☆）
**亮点**：
- 模块化函数设计，逻辑清晰
- 显式拆分三种棋子的计算逻辑
- 代码可读性强

**核心代码**：
```cpp
int che(int a, int b, int x, int y){
    return (a==x || b==y) ? 1 : 2;
}
int xiang(int a, int b, int x, int y){
    if(x+y==a+b || x-y==a-b) return 1;
    return ((x+y)%2 != (a+b)%2) ? 0 : 2;
}
int wang(int a, int b, int x, int y){
    return max(abs(x-a), abs(y-b));
}
```

### 关键技巧总结
1. **数学特性优先**：国际象棋中颜色判断（坐标和奇偶性）、对角线特性（坐标和/差相等）等数学性质可大幅简化代码。
2. **极值思想**：王的移动步数由最大行列差决定，体现贪心思想。
3. **模块化设计**：将不同棋子的逻辑拆分，提升代码可维护性。

---

## 拓展练习
1. [P2550 彩票摇奖](https://www.luogu.com.cn/problem/P2550) - 集合匹配与计数
2. [P1219 八皇后](https://www.luogu.com.cn/problem/P1219) - 对角线特性与回溯
3. [P1036 选数](https://www.luogu.com.cn/problem/P1036) - 组合数判断质数

---
处理用时：65.19秒
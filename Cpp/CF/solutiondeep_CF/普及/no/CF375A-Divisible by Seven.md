# 题目信息

# Divisible by Seven

## 题目描述

有一个（不含前导$0$）正整数$a$，它包含了$1,6,8,9$四个数字，
你需要将其重新排列，使排列后的数字是$7$的倍数。
a 中可以包含其它数字，但一定包含 1689 这四个数字。

## 样例 #1

### 输入

```
1689
```

### 输出

```
1869
```

## 样例 #2

### 输入

```
18906
```

### 输出

```
18690
```

# AI分析结果



# Divisible by Seven

## 题目描述

有一个（不含前导$0$）正整数$a$，它包含了$1,6,8,9$四个数字，
你需要将其重新排列，使排列后的数字是$7$的倍数。
a 中可以包含其它数字，但一定包含 1689 这四个数字。

## 样例 #1

### 输入

```
1689
```

### 输出

```
1869
```

## 样例 #2

### 输入

```
18906
```

### 输出

```
18690
```

---

### 算法分类
**构造、数学**

---

## 题解分析与结论

**核心思路**：利用 $1,6,8,9$ 的排列可覆盖所有余数（0-6）的特性，构造以下解法：
1. 预处理这四个数的排列及其对应的余数
2. 计算其他数字组成的数的余数 $r$
3. 选取 $(7 - r \times 10000 \% 7) \% 7$ 对应的排列补足余数
4. 将 $0$ 和 $7$ 置于末尾（不影响余数）

**解决难点**：
- 证明四个数的排列能覆盖所有余数（通过枚举验证）
- 避免高精度运算（通过逐位取模实现）
- 处理前导零（将 $0$ 统一后置）

---

## 优质题解推荐

### 1. Argon_Cube 的题解（⭐⭐⭐⭐⭐）
**关键亮点**：
- 引入高精模的实时计算，避免存储大数
- 使用预计算余数映射表，代码简洁高效
- 分离处理 $0$ 和 $7$ 的优化输出

**核心代码**：
```cpp
int main() {
    int counter[10] = {}, remain = 0;
    const int mod_perm[8] = {1869,8961,1689,6198,1698,9861,1896,1869};
    // ...（输入处理）
    // 输出非0/7的数字并计算余数
    for(int i=1;i<10;i++) {
        while(counter[i]--) 
            remain = (remain*10 + i) % 7, cout << i;
    }
    cout << mod_perm[7 - remain*10000%7]; // 补余数
    // 输出末尾的0和7
}
```

---

### 2. Jjy123 的题解（⭐⭐⭐⭐）
**关键亮点**：
- 明确的余数互补公式推导
- 简洁的数组映射实现
- 处理余数0的边界情况（数组多存一项）

**个人心得**：
> "余数可能刚好是零，7−0=7，所以数组要多一个数" —— 通过冗余存储解决边界问题

---

### 3. Galois_Field_1048576 的题解（⭐⭐⭐⭐）
**关键亮点**：
- 数学公式推导清晰（$10000k + m ≡ 4k + m \mod 7$）
- 采用桶计数法处理数字分布
- 打表数据经过严格验证

---

## 关键技巧总结
1. **余数互补构造**：利用 $10^4 ≡ 4 \mod 7$ 的性质，将问题转化为 $(4k + m) \mod 7 = 0$
2. **预处理映射表**：通过暴力枚举或排列生成，建立余数到排列的映射
3. **零后置优化**：将不影响余数的 $0$ 统一后置，避免前导零问题
4. **实时取模**：逐位计算余数，避免高精度运算

---

## 拓展应用
类似构造型问题可参考：
1. [CF486C](https://www.luogu.com.cn/problem/CF486C)（回文串构造）
2. [P1217 [USACO1.5]回文质数](https://www.luogu.com.cn/problem/P1217)（数字特性构造）
3. [P1516 青蛙的约会](https://www.luogu.com.cn/problem/P1516)（同余方程应用）

---

## 调试经验摘录
> "输出余数排列时，要注意余数为0的情况需要特殊处理，映射数组需要多存一个元素" —— Argon_Cube  
> "分离 $1,6,8,9$ 时要用桶计数，避免重复扣除" —— Jjy123  
> "打表时发现某些排列的余数相同，需要保证覆盖所有余数" —— EnofTaiPeople

---
处理用时：51.01秒
# 题目信息

# Mashmokh and Tokens

## 题目描述

Bimokh是Mashmokh的老板。他每天会给每个员工一定数量的代币。有 $n$ 天，每天老板给工人 $x_i$ 枚代币，每个工人都可以退还 $w$ 枚代币以获得 $\displaystyle \frac{w-a}{b}$ 数量的美元请

Mashmokh想尽可能多地存一些代币，这样他每天能得到最多的钱。你帮助他计算第$i$天他在获得最多钱时可以保存的代币数量。

## 样例 #1

### 输入

```
5 1 4
12 6 11 9 1
```

### 输出

```
0 2 3 1 1 ```

## 样例 #2

### 输入

```
3 1 2
1 2 3
```

### 输出

```
1 0 1 ```

## 样例 #3

### 输入

```
1 1 1
1
```

### 输出

```
0 ```

# AI分析结果



### 题目中文重写

**题目名称**：Mashmokh 与代币

**题目描述**  
Bimokh 是 Mashmokh 的老板。每天他会给每个员工一定数量的代币。共有 $n$ 天，每天老板给工人 $x_i$ 枚代币。每个工人可以退还 $w$ 枚代币以获得 $\displaystyle \left\lfloor \frac{w \cdot a}{b} \right\rfloor$ 美元的报酬。Mashmokh 希望在每天获得最多美元的同时，尽可能多地保留代币。请计算他每天最多能保留的代币数量。

**输入格式**  
第一行输入三个整数 $n,a,b$。  
第二行输入 $n$ 个整数，表示每天的代币数 $x_1,x_2,\dots,x_n$。

**输出格式**  
输出 $n$ 个整数，表示每天保留的最多代币数。

**样例 #1**  
输入：  
```
5 1 4
12 6 11 9 1
```
输出：  
```
0 2 3 1 1
```

---

### 算法分类  
**数学**

---

### 题解对比与结论  

#### 核心思路  
所有最优解法的核心公式均为：  
$$\text{剩余代币} = \frac{(x_i \cdot a) \bmod b}{a}$$  
其本质是：当最大化美元时，上交的代币数对应的 $\frac{w \cdot a}{b}$ 的余数部分无法再兑换美元，将其除以 $a$ 即得剩余代币数。

#### 难点解析  
1. **公式推导**：需发现剩余代币与模运算的关系，避免浮点运算。  
2. **数据范围**：必须使用 `long long` 防止溢出。  
3. **翻译纠错**：原题的兑换公式应为 $\lfloor \frac{w \cdot a}{b} \rfloor$ 而非 $\frac{w-a}{b}$。  

---

### 高分题解推荐  

#### 题解作者：sunhaozhe111022（★★★★★）  
**关键亮点**  
- 代码极度简洁，直接应用公式 `(x*a % b) / a`  
- 时间复杂度 $O(n)$，无冗余计算  
**核心代码**  
```cpp
cout << (x*a % b) / a << " ";
```

---

#### 题解作者：i_dont_know_who_am_i（★★★★☆）  
**关键亮点**  
- 明确推导余数与剩余代币的关系  
- 附带样例推导表格增强理解  
**核心代码**  
```cpp
cout << (x*a % b) / a << " ";
```

---

#### 题解作者：live_cxy110122（★★★★☆）  
**关键亮点**  
- 代码中强调 `long long` 的必要性  
- 注释清晰，直接点明公式本质  
**核心代码**  
```cpp
cout << (x*a % b) / a << " ";
```

---

### 关键技巧总结  
1. **数学建模**：将最大化兑换问题转化为模运算问题。  
2. **避免浮点运算**：利用整数运算特性避免精度误差。  
3. **数据类型选择**：统一使用 `long long` 防止溢出。  

---

### 拓展练习  
1. [P1082 同余方程](https://www.luogu.com.cn/problem/P1082)  
2. [P1226 快速幂](https://www.luogu.com.cn/problem/P1226)  
3. [P5656 二元一次不定方程](https://www.luogu.com.cn/problem/P5656)  

---

### 题解中的个人心得  
- **数据范围教训**：多篇题解强调 `long long` 的必要性，如作者 `maomao233` 提到“见祖宗警告”。  
- **公式验证方法**：作者 `Chronomaly_Atlandis` 通过手动计算样例验证公式正确性。

---
处理用时：72.95秒
# 题目信息

# Football

## 题目描述

在某一届的“代码杯”中，举办方决定让各个队伍踢踢足球。所有参赛者被分为$n$个队，进行了几场比赛，每两个队踢一场。





裁判帕维尔在比赛时睡着了，醒来后，他发现比赛已经结束了，各队都想知道所有比赛的结果。



帕维尔不想让任何人发现他在睡觉，他迫切知道比赛的结果（因为他是裁判）。因此，他询问了所有的球队，每支球队击败其他球队正好$k$次。帮助帕维尔找出符合条件的所有比赛结果可能性，如果不可能，输出$-1$。

## 样例 #1

### 输入

```
3 1
```

### 输出

```
3
1 2
2 3
3 1
```

# AI分析结果



# Football

## 题目描述

在某一届的"代码杯"中，举办方决定让各个队伍踢足球。所有参赛者被分为$n$个队，进行了几场比赛，每两个队踢一场。

裁判帕维尔在比赛时睡着了，醒来后，他发现比赛已经结束了，各队都想知道所有比赛的结果。

帕维尔不想让任何人发现他在睡觉，他迫切知道比赛的结果（因为他是裁判）。因此，他询问了所有的球队，每支球队击败其他球队正好$k$次。帮助帕维尔找出符合条件的所有比赛结果可能性，如果不可能，输出$-1$。

## 样例 #1

### 输入

```
3 1
```

### 输出

```
3
1 2
2 3
3 1
```

---

**算法分类**：构造、图论

---

### 题解综合分析

所有题解的核心思路均基于**环状构造法**，通过数学分析确定解的可行性后，采用模运算进行胜负关系的排列。关键点包括：
1. **可行性判断**：当且仅当$n \times k \leq \frac{n(n-1)}{2}$时有解
2. **构造方法**：每个队伍$i$依次击败$[i+1, i+k]$范围内的队伍，超出范围时取模循环
3. **边界处理**：当模运算结果为0时需特判为n

---

### 高分题解推荐

#### 1. 作者：linan04195（★★★★☆）
**核心亮点**：
- 清晰的数学推导，明确给出边数计算式
- 代码简洁直观，正确处理模运算边界
```cpp
for(int i=1;i<=n;i++){
    for(int j=1;j<=k;j++){
        if((i+j)%n==0) printf("%d %d\n",i,n);
        else printf("%d %d\n",i,(i+j)%n);
    }
}
```

#### 2. 作者：XXh0919（★★★★☆）
**实现技巧**：
- 使用三目运算符简化模运算处理
- 添加详细注释说明构造逻辑
```cpp
printf("%lld %lld\n",i,(t%n!=0)?(t%n):n);
```

#### 3. 作者：loser_seele（★★★☆☆）
**优化点**：
- 独立编写取模函数增强可读性
- 时间复杂度分析清晰
```cpp
int mymod(int a,int n){
    return a%n==0 ? n : a%n;
}
```

---

### 关键思路总结
1. **数学验证**：通过比较$nk$与完全图边数的关系快速判断可行性
2. **环状构造**：将队伍排列成环，每个队伍击败其后连续的k个队伍
3. **模运算处理**：使用取模运算实现循环排列，注意处理余数为0的特殊情况

---

### 拓展练习
1. [CF1264D2](https://www.luogu.com.cn/problem/CF1264D2) - 括号序列构造
2. [P1113](https://www.luogu.com.cn/problem/P1113) - 拓扑排序构造
3. [P1347](https://www.luogu.com.cn/problem/P1347) - 全排列构造方案

---
处理用时：51.77秒
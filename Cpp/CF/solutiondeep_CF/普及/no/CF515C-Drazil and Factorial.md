# 题目信息

# Drazil and Factorial

## 题目描述

Drazil正在和Varda一起玩数学游戏。

让我们定义正整数x作为其数字的阶乘的乘积。例如，F(135)=1!*3!*5!=720。

首先，他们选择一个十进制数a，a是一个由n个数字组成的数。此数字可能以前导零开头。然后他们要找到最大正数x，x满足以下两个条件：

1.x不包含任何数字0和数字1。

2.F(x)=F(a)。

帮朋友找到这样的号码。

## 样例 #1

### 输入

```
4
1234
```

### 输出

```
33222
```

## 样例 #2

### 输入

```
3
555
```

### 输出

```
555
```

# AI分析结果



# Drazil and Factorial

## 题目描述

Drazil正在和Varda玩数学游戏。

定义正整数x的F函数为其各位数字阶乘的乘积。例如，F(135)=1!×3!×5!=720。

给定一个可能包含前导零的n位数字a，请找到满足以下条件的最大正整数x：
1. x不含数字0和1
2. F(x)=F(a)

## 算法分类
贪心、数学

## 题解分析与结论

### 核心思路
各题解均基于阶乘质因数分解的数学特性。通过将每个数字的阶乘分解为质因数（2/3/5/7），统计总质因子数后，按7→5→3→2的顺序构造最大数字。关键证明：高阶数字（如7）无法被分解为更小数字阶乘的乘积，必须直接使用。

### 高分题解推荐

#### 1. Leasier（★★★★☆）
**亮点**：清晰的质因数分解表预处理  
**思路**：
1. 预计算每个数字分解后的质因数增量
2. 统计总质因子数
3. 按7→5→3→2顺序输出

**核心代码**：
```cpp
// 预处理分解规则
if (a == 4) cnt[2] += 2, cnt[3]++;
else if (a == 9) cnt[2]++, cnt[3] += 2, cnt[7]++;
// 输出时按7→5→3→2顺序
for (int i : {7,5,3,2}) while(cnt[i]--) putchar('0'+i);
```

#### 2. 灵光一闪（★★★★☆）
**亮点**：直观的分解表构造  
**思路**：
- 手动推导每个数字的最优分解方案（如9→7+3+3+2）
- 将分解结果存入vector后逆序输出

**个人心得**："分解质因数可以使位数最大化，sort+reverse就足够"

#### 3. tryrtj（★★★★☆）
**亮点**：完整的分解规则推导注释  
**核心推导**：
```cpp
8! → 2^7×3^2×5×7 → 7!×(2!)^3
9! → 7!×(3!)^2×2! → 7+3+3+2
```

### 关键技巧总结
1. **质因数分解**：将数字阶乘转换为2/3/5/7的指数形式
2. **贪心构造**：优先保留高阶质数对应的数字（7必须保留，4分解为3+2更优）
3. **数学证明**：7/5/3等质数的阶乘无法被更小数字的阶乘组合替代

## 拓展练习
1. [P1069 细胞分裂](https://www.luogu.com.cn/problem/P1069) - 质因数分解应用
2. [P1246 编码](https://www.luogu.com.cn/problem/P1246) - 字典序构造问题 
3. [P2921 USACO08DEC]Trick or Treat on the Farm](https://www.luogu.com.cn/problem/P2921) - 环分解与路径优化

---
处理用时：59.57秒
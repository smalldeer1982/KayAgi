# 题目信息

# Blog Photo

## 题目描述

某博客的照片上传功能如下：
    对于一张原照片，系统会裁剪其中的一个矩形部分上传，这个矩形部分被称为“上传矩形”。上传矩形的宽高比的合法取值范围为0.8至1.25。另外，上传矩形至少要有一条边的长度等于2^x（x为整数）且各边长度都为正整数。
    现在给出原照片的高度h和宽度w，请你求出一个最大面积合法上传矩形，并给出它的高和宽。

## 样例 #1

### 输入

```
2 1
```

### 输出

```
1 1
```

## 样例 #2

### 输入

```
2 2
```

### 输出

```
2 2
```

## 样例 #3

### 输入

```
5 5
```

### 输出

```
5 4
```

# AI分析结果



# Blog Photo

## 题目描述
给定原照片高度h和宽度w，要求找到一个最大面积的合法上传矩形，满足：
1. 宽高比在[0.8,1.25]之间（即高/宽 ∈ [0.8,1.25]）
2. 至少有一条边是2的幂次方
3. 边长均为正整数

## 算法分类
枚举 + 数学

---

## 优质题解分析

### 题解1：e4fsrc2e4fsrc2（4星）
**核心思路**：
1. 使用数学函数`__lg`直接计算最大满足条件的2的幂次
2. 分别处理两种情况：将2^x作为高或宽，计算对应的另一边的最大值
3. 比较两种情况取最大面积

**代码亮点**：
```cpp
ll a=pow(2,(int)__lg(min(x,y)));
ll m=min(x,a*5/4), n=min(y,a*5/4);
if(m>=n) cout<<m<<' '<<a; else cout<<a<<' '<<n;
```

### 题解2：Buried_Dream（4星）
**核心思路**：
1. 循环倍增法找到最大的2^x
2. 计算两种可能（2^x作为高或宽）的对应边最大值
3. 比较面积并输出结果

**代码亮点**：
```cpp
void init() {
    while(H*2 <= h && H*2 <= w) H <<= 1; 
}
int ans1 = min(h, H*5/4), ans2 = min(w, H*5/4);
```

### 题解3：CGDGAD（4星）
**核心思路**：
1. 位运算快速倍增求最大2^x
2. 直接比较两种情况的面积
3. 代码极其简洁（仅8行核心逻辑）

**代码亮点**：
```cpp
while(a<<1 <= h && a<<1 <=w) a<<=1;
long long m=min(h,a*5/4), n=min(w,a*5/4);
if(m>=n) printf("%lld %lld\n",m,a); else ...
```

---

## 最优思路总结
**关键步骤**：
1. 快速找到最大2^x：通过`__lg`或位运算倍增
2. 计算另一边的上限：`min(原边长度, 1.25*2^x)`（用整数运算避免浮点误差）
3. 比较两种方向的可能性

**实现技巧**：
- 使用`__lg`或`while(a<<=1)`快速求最大值
- 通过`5/4`代替1.25进行整数运算
- 比较面积时同时考虑维度优先级（当面积相同时选高优先）

---

## 类似题目推荐
1. [P1515 天堂的宠物](https://www.luogu.com.cn/problem/P1515) - 枚举+几何约束
2. [P2249 【深基13.例1】查找](https://www.luogu.com.cn/problem/P2249) - 二分查找应用
3. [P1024 一元三次方程求解](https://www.luogu.com.cn/problem/P1024) - 数学约束条件下的最值问题

---

## 心得摘录
1. **调试经验**：多个题解指出必须使用`long long`防止溢出，如`5/4*2^x`可能超过int范围
2. **优化技巧**：避免浮点运算（如使用`5/4`代替1.25），位运算比乘除法更高效
3. **思维误区**：需要同时考虑两种方向（2^x作为高或宽），容易遗漏其中一种情况

---
处理用时：83.55秒
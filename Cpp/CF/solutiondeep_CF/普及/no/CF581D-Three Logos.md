# 题目信息

# Three Logos

## 题目描述

三家公司决定订购一个带有其标志图片的正方形广告牌。每个公司的徽标是一个非空的矩形。

只有当广告牌上可以放置所有三个徽标且不重叠、没有剩余空白时，广告商才会张贴广告。当然，徽标的两侧与广告牌的两侧平行。

您的任务是确定是否有可能在不违反任何规定的情况下，将所有三家公司的徽标放置在某个方形广告牌上。

## 样例 #1

### 输入

```
5 1 2 5 5 2
```

### 输出

```
5
AAAAA
BBBBB
BBBBB
CCCCC
CCCCC
```

## 样例 #2

### 输入

```
4 4 2 6 4 2
```

### 输出

```
6
BBBBBB
BBBBBB
AAAACC
AAAACC
AAAACC
AAAACC
```

# AI分析结果



### 中文重写题目
#### 题目名称：三个标志

**题目描述**  
三家公司决定订购一个带有其标志的正方形广告牌。每个标志是一个非空矩形。  
只有当三个标志能无重叠、无空隙地放入正方形，且各边与广告牌边平行时，广告才会被张贴。  
请判断是否存在满足条件的正方形，并输出具体摆放方案。

**样例 #1**  
输入：  
`5 1 2 5 5 2`  
输出：  
```
5  
AAAAA  
BBBBB  
BBBBB  
CCCCC  
CCCCC  
```

**样例 #2**  
输入：  
`4 4 2 6 4 2`  
输出：  
```
6  
BBBBBB  
BBBBBB  
AAAACC  
AAAACC  
AAAACC  
AAAACC  
```

---

### 算法分类  
构造

---

### 题解综合分析  
所有题解核心思路围绕两种构造方式展开：  
1. **三列垂直排列**：三个矩形的长边等于正方形边长，宽度之和等于边长  
2. **一横两竖结构**：一个矩形占满顶部/底部，剩余两个横向拼接  

关键验证条件：  
- 总面积必须是完全平方数  
- 通过旋转、排列组合所有可能的矩形顺序和方向  

---

### 精选题解与评分  

#### 1. 过氧化氢_syq0057（★★★★☆）  
**核心亮点**：  
- 通过DFS穷举所有旋转组合，代码结构清晰  
- 明确处理两种基本构造形态  
- 回溯法实现方向枚举，减少重复判断  

**关键代码逻辑**：  
```cpp
void dfs(int x) {
    // 枚举每个矩形的方向（旋转与否）
    dfs(x+1); 
    swap长宽后再次dfs
    验证两种构造形态的条件
}
```

#### 2. ZLCT（★★★★☆）  
**核心亮点**：  
- 优先验证面积平方数条件，快速剪枝  
- 通过排序优先处理最大矩形，简化后续判断  
- 利用二维数组直接构建输出结果  

**关键判断逻辑**：  
```cpp
if(a[0].x == len) { // 第一种构造形态
    垂直填充三个矩形
} else if(剩余矩形满足横向拼接条件) {
    构建横向拼接结构
}
```

---

### 最优技巧总结  
1. **方向穷举**：每个矩形可旋转的特性通过交换长宽处理，使用回溯法或全排列实现  
2. **构造形态模板化**：将可能的情况抽象为有限种排列模式（如三列式、T型结构）  
3. **面积剪枝**：先计算总面积是否平方数，避免无效计算  
4. **输出构造**：直接按验证成功的尺寸填充二维字符数组  

---

### 类似题目推荐  
1. [P1099 树网的核](https://www.luogu.com.cn/problem/P1099) - 构造最优路径  
2. [P2320 分治问题](https://www.luogu.com.cn/problem/P2320) - 分块填充的构造思维  
3. [P1966 火柴排队](https://www.luogu.com.cn/problem/P1966) - 通过排列组合寻找最优匹配

---
处理用时：45.74秒
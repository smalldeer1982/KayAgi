# 题目信息

# Duff in Love

## 题目描述

## 问题描述

如果不存在一个数 $ a (a>1)$ ，使得 $ a^2 $ 是 $ n $ 的约数，我们就称 $ n $ 是一个可爱的数。

给出一个正整数 $ n $ ，在 $ n $ 的所有约数中，寻找最大的可爱的数。

## 样例 #1

### 输入

```
10
```

### 输出

```
10
```

## 样例 #2

### 输入

```
12
```

### 输出

```
6
```

# AI分析结果



### 中文重写题目
# Duff in Love

## 题目描述

### 问题描述

如果不存在一个数 $a (a>1)$，使得 $a^2$ 是 $n$ 的约数，我们就称 $n$ 是一个可爱的数。

给出一个正整数 $n$，在 $n$ 的所有约数中，寻找最大的可爱的数。

## 样例 #1

### 输入

```
10
```

### 输出

```
10
```

## 样例 #2

### 输入

```
12
```

### 输出

```
6
```

---

### 分类标签
**质数**

---

### 题解分析与结论

所有题解均围绕质因数分解展开，核心思路是确保最终结果中每个质因子的指数为1。存在两种等价实现方式：
1. **质因数分解法**：分解质因数后取所有质因子的乘积
2. **平方因子消去法**：不断消去平方因子直至无法操作

---

### 精选题解

#### 1. 作者：b6e0_（5星）
**关键亮点**：  
- 直接进行质因数分解，时间复杂度严格为 $\mathcal{O}(\sqrt{n})$
- 代码简洁且包含详细注释，处理了剩余质数的边界情况
- 明确强调数据类型选择的重要性

**核心代码**：
```cpp
for(i=2; i*i<=n; i++)
    if(n%i == 0) {
        ans *= i;
        while(n%i == 0) n /= i;
    }
if(n > 1) ans *= n;
```

#### 2. 作者：SqrtSecond（4星）
**关键亮点**：  
- 通过消去平方因子直接得到结果，思路新颖直观
- 通过调试经历强调了 `long long` 类型的重要性
- 代码简洁，最终时间复杂度同为 $\mathcal{O}(\sqrt{n})$

**调试心得**：  
> "当 $n$ 达到 $10^{12}$ 时，即使循环变量 $i$ 也必须开 long long，否则会导致 RE"

**核心代码**：
```cpp
for(long long i=2; i<=k; ++i)
    while(n % (i*i) == 0) n /= i;
```

---

### 最优思路总结
1. **质因子唯一性**：结果必须包含所有质因子且每个质因子仅出现一次
2. **分解边界处理**：循环终止条件应为 `i*i <= n`，最后处理剩余质数
3. **数据类型控制**：涉及大数时统一使用 `long long` 防止溢出

---

### 同类题目推荐
1. [P1075 质因数分解](https://www.luogu.com.cn/problem/P1075)
2. [P1069 细胞分裂](https://www.luogu.com.cn/problem/P1069)
3. [P2424 约数和](https://www.luogu.com.cn/problem/P2424)

---
处理用时：102.37秒
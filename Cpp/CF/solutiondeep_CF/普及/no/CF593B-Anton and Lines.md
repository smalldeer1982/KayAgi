# 题目信息

# Anton and Lines

## 题目描述

给定 $n$ 条形如 $y=k_ix+b_i$ 的直线，你需要判断是否存在两条直线 $a,b$，使 $a,b$ 的交点 $(x_0,y_0)$ 满足 $x_1<x_0<x_2$。

## 样例 #1

### 输入

```
4
1 2
1 2
1 0
0 1
0 2
```

### 输出

```
NO```

## 样例 #2

### 输入

```
2
1 3
1 0
-1 3
```

### 输出

```
YES```

## 样例 #3

### 输入

```
2
1 3
1 0
0 2
```

### 输出

```
YES```

## 样例 #4

### 输入

```
2
1 3
1 0
0 3
```

### 输出

```
NO```

# AI分析结果



# Anton and Lines

## 题目描述

给定 $n$ 条形如 $y=k_ix+b_i$ 的直线，你需要判断是否存在两条直线 $a,b$，使 $a,b$ 的交点 $(x_0,y_0)$ 满足 $x_1<x_0<x_2$。

## 样例 #1

### 输入

```
4
1 2
1 2
1 0
0 1
0 2
```

### 输出

```
NO```

## 样例 #2

### 输入

```
2
1 3
1 0
-1 3
```

### 输出

```
YES```

---

**算法分类**：排序、数学

---

### 题解分析与结论

核心思路：两条直线在区间内有交点当且仅当它们在区间端点 $x_1$ 和 $x_2$ 处的相对高度发生交换。通过对直线在两个端点的计算结果排序，并比较排序后的相对顺序变化即可判断。

#### ★★★★★ 题解亮点：StudyingFather 的解法
- **关键思路**：在排序时引入编号作为第三关键字，避免端点相交导致的误判
- **解决难点**：正确处理严格开区间条件，通过三次关键字排序确保稳定性
- **代码亮点**：使用 `tuple` 存储三属性，两次排序后比较顺序差异

```cpp
vector<tlli> v1, v2;
for (每条直线) {
    v1.push_back({x1处y值, x2处y值, 编号});
}
sort(v1); // 按x1处y值、x2处y值、编号排序
for (将v1元素转为x2处y值作为主键) {
    v2.push_back({x2处y值, x1处y值, 编号});
}
sort(v2);
// 比较v1和v2中各元素的编号顺序是否一致
```

---

### 关键技巧总结
1. **相对顺序法**：将几何问题转化为排序后的逆序对判断，避免直接求交点的高复杂度
2. **稳定性处理**：通过多关键字排序消除边界情况干扰
3. **线性检查**：排序后仅需遍历一次即可判断是否存在顺序变化

---

### 类似题目推荐
1. [P1908 逆序对](https://www.luogu.com.cn/problem/P1908)（逆序对思想）
2. [CF1008B Turn the Rectangles](https://codeforces.com/problemset/problem/1008/B)（排序后顺序检查）
3. [P2782 友好城市](https://www.luogu.com.cn/problem/P2782)（双属性排序与最长序列）

---
处理用时：130.27秒
# 题目信息

# Magic Powder - 1

## 题目描述

**注意**：本题有两个不同的版本，分别对应两个不同的难度。



早晨醒来，Apollinaria决定烘焙曲奇。烘焙一块曲奇需要 $n$ 种食材，她知道对于每一种食材需要在曲奇中放入 $a_i$ 克。为了准备一块曲奇，Apollinaria需要准备所有 $n$ 种食材。



对于第 $i$ 种食材，Apollinaria有 $b_i$ 克。她拥有 $k$ 克魔法能量。每 $1$ 克魔法能量都能恰好转换成为任意 $n$ 中食材中的一种。



请你帮助Apollinaria计算她使用已有的食材和她的魔法能量最多可以烘焙出多少曲奇。

## 说明/提示

样例一说明：将 $1$ 个魔法能量转换成第 $2$ 个食材，这样可以制作出 $4$ 块曲奇。



样例二说明：将 $2$ 个魔法能量转换成第 $1,3$ 个食材，这样可以制作出 $3$ 块曲奇。剩下的 $1$ 个魔法能量可以不使用，因为这不会使得最终答案增加。

## 样例 #1

### 输入

```
3 1
2 1 4
11 3 16
```

### 输出

```
4
```

## 样例 #2

### 输入

```
4 3
4 3 5 6
11 12 14 20
```

### 输出

```
3
```

# AI分析结果



# Magic Powder - 1

## 题目描述

**注意**：本题有两个不同的版本，分别对应两个不同的难度。



早晨醒来，Apollinaria决定烘焙曲奇。烘焙一块曲奇需要 $n$ 种食材，她知道对于每一种食材需要在曲奇中放入 $a_i$ 克。为了准备一块曲奇，Apollinaria需要准备所有 $n$ 种食材。



对于第 $i$ 种食材，Apollinaria有 $b_i$ 克。她拥有 $k$ 克魔法能量。每 $1$ 克魔法能量都能恰好转换成为任意 $n$ 中食材中的一种。



请你帮助Apollinaria计算她使用已有的食材和她的魔法能量最多可以烘焙出多少曲奇。

## 说明/提示

样例一说明：将 $1$ 个魔法能量转换成第 $2$ 个食材，这样可以制作出 $4$ 块曲奇。



样例二说明：将 $2$ 个魔法能量转换成第 $1,3$ 个食材，这样可以制作出 $3$ 块曲奇。剩下的 $1$ 个魔法能量可以不使用，因为这不会使得最终答案增加。

## 样例 #1

### 输入

```
3 1
2 1 4
11 3 16
```

### 输出

```
4
```

## 样例 #2

### 输入

```
4 3
4 3 5 6
11 12 14 20
```

### 输出

```
3
```

**算法分类**：二分

---

### 题解分析与结论

所有题解均采用二分答案思想，核心思路为：假设制作x块饼干，计算所需补足的材料总和是否≤k。关键差异点在于二分模板选择、边界处理、总和溢出预防。

#### 高星题解推荐

**1. wuyixiang（5星）**
- **亮点**：代码简洁高效，正确处理二分边界（使用右中位数+左开右闭模板），使用`max(0LL,a[i]*mi - b[i])`清晰表达需求
- **核心代码**：
```cpp
bool check(int mi) {
    int sum = 0;
    for(int i = 1;i <= n; i++)
        sum += max(0LL,a[i] * mi - b[i]);
    return sum <= m;
}
// 二分部分
while(l < r) {
    int mid = (l + r + 1) / 2;
    if(check(mid)) l = mid;
    else r = mid - 1;
}
```

**2. Erica_N_Contina（4星）**
- **亮点**：超大上界处理（1<<34），采用经典二分模板，变量命名规范
- **注意点**：上界设置过大会导致中间值溢出风险，需确保使用long long

**3. Fislett（4星）**
- **亮点**：使用合理上界2e9，代码结构清晰，check函数逻辑直接
- **核心代码**：
```cpp
bool check(long long mid) {
    long long sum = 0;
    for(int i=1; i<=n; i++) {
        sum += max(0LL, a[i]*mid - b[i]);
        if(sum > k) return false;
    }
    return sum <=k;
}
```

---

### 关键思路总结
1. **二分框架**：答案具有单调性（能做x块则一定能做x-1块），通过二分确定最大可行值
2. **check函数**：计算所有材料需求`max(0, a_i*x - b_i)`的总和，需注意：
   - 使用long long防止溢出
   - 及时剪枝（如Fislett解法中在循环内提前判断）
3. **边界处理**：推荐使用`l=0, r=2e9`的初始范围，根据模板特性选择`(l+r+1)/2`或常规中点

---

### 类似题目推荐
1. [P2440 木材加工](https://www.luogu.com.cn/problem/P2440) - 二分答案经典题
2. [P2678 跳石头](https://www.luogu.com.cn/problem/P2678) - 二分答案+贪心验证
3. [P1873 砍树](https://www.luogu.com.cn/problem/P1873) - 最大化最小值问题

---
处理用时：71.93秒
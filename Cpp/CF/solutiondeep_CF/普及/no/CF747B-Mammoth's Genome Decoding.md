# 题目信息

# Mammoth's Genome Decoding

## 题目描述

给定长度为 n 且只含有 A、T、C、G和? 的字符串s，其中?可以转换为任何一个字母，问是否存在一个字符串，使得将所有的?替换成字母后，A、T、C、G个数相等。

## 样例 #1

### 输入

```
8
AG?C??CT
```

### 输出

```
AGACGTCT
```

## 样例 #2

### 输入

```
4
AGCT
```

### 输出

```
AGCT
```

## 样例 #3

### 输入

```
6
????G?
```

### 输出

```
===
```

## 样例 #4

### 输入

```
4
AA??
```

### 输出

```
===
```

# AI分析结果



# Mammoth的基因组解码

## 题目描述
给定长度为n且仅包含A、T、C、G和?的字符串s。需要将?替换为任意字母，判断是否存在替换方案使得替换后四个字母数量相等，若存在则输出任一可行方案。

## 算法分类
贪心

## 题解分析与结论

### 核心思路
1. **基础条件验证**：字符串长度必须是4的倍数，否则直接无解
2. **字符数量限制**：每个已有字符的数量不能超过n/4
3. **贪心替换策略**：遍历字符串时，将?依次替换为当前数量不足的字符（优先填补缺口）

### 高分题解推荐

#### 题解1：cq_loves_Capoo（★★★★☆）
**关键亮点**：
- 动态查找替换策略：每次替换时实时查找当前需要补充的字符
- 提前剪枝：在统计字符时直接判断是否超过n/4
- 代码简洁，逻辑清晰

**核心代码**：
```cpp
char find() {
    if (b['A'] < len/4) return 'A';
    if (b['T'] < len/4) return 'T';
    if (b['C'] < len/4) return 'C';
    return 'G';
}
// 替换部分逻辑
for (int i=1; i<=len; i++) {
    if (a[i] == '?') {
        a[i] = find();
        b[a[i]]++;
    }
}
```

#### 题解3：Ink_Sakuya（★★★★☆）
**关键亮点**：
- 顺序填充策略：按照A→C→G→T顺序依次填补缺口
- 分阶段处理：先填满某一字符的需求后再处理下一个
- 代码结构清晰，便于理解

**核心代码**：
```cpp
i=0;
while(a!=n/4) { // 处理A的缺口
    if(x[i]=='?') x[i]='A',a++;
    i++;
}
// 重复类似逻辑处理C、G、T
```

### 拓展总结
**关键技巧**：
- 使用贪心思想维护字符数量平衡
- 预处理非法情况的剪枝判断
- 两种替换策略的等价性：动态查找 vs 顺序填补

**同类题目推荐**：
1. [P1031 均分纸牌](https://www.luogu.com.cn/problem/P1031)（贪心分配）
2. [P1603 名字的烦恼](https://www.luogu.com.cn/problem/P1603)（字符替换与统计）
3. [CF798B Mike and strings](https://www.luogu.com.cn/problem/CF798B)（字符串操作与循环处理）

**题解心得**：
> 来自题解1："再也不想做毒瘤模拟了/kk"  
> 反映出本题边界条件较多（如n%4判断、字符超限判断），需特别注意基础条件的预处理。调试时需重点验证这些剪枝条件的正确性。

---
处理用时：84.31秒
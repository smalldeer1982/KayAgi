# 题目信息

# Facetook Priority Wall

## 题目描述

Facetook 是一个知名的社交网站，它将推出一个名为 Facetook Priority Wall 的新功能。这一功能将根据优先级因子对你朋友的所有帖子进行排序。

优先级因子将受到三种行为的影响：
1. ```"X posted on Y's wall"``` (15 分), 
2. ```"X commented on Y's post"``` (10 分), 
3. ```"X likes Y's post"``` (5 分).

$X$ 和 $Y$ 是两个不同的名字。每一种行为都会使 $X$ 和 $Y$ 之间的优先级因子增加对应分数 ($X$ 和 $Y$ 之间的优先级因子与 $Y$ 和 $X$ 之间的优先级因子相同) 。

给定 $n$ 个上述格式的行为（没有行为序号和行为分数），你要将所有除自己名字以外的名字按照优先级因子打印出来。

## 样例 #1

### 输入

```
ahmed
3
ahmed posted on fatma's wall
fatma commented on ahmed's post
mona likes ahmed's post
```

### 输出

```
fatma
mona
```

## 样例 #2

### 输入

```
aba
1
likes likes posted's post
```

### 输出

```
likes
posted
```

# AI分析结果



### 题目中文翻译
#### Facetook 优先墙
**题目描述**  
Facetook 是一个知名的社交网站，推出名为 Facetook Priority Wall 的新功能，根据优先级因子对朋友的帖子排序。  
优先级因子受三种行为影响：  
1. "X 在 Y 的墙上发帖" (15 分)  
2. "X 评论了 Y 的帖子" (10 分)  
3. "X 点赞了 Y 的帖子" (5 分)  

给定 n 个行为，输出除自己外的所有名字，按优先级因子排序（同分按字典序）。

---

### 算法分类  
**模拟**

---

### 题解综合分析  
所有题解均采用字符串解析+哈希表统计的核心思路，关键难点在于正确提取名字并处理得分逻辑。主要差异体现在字符串处理方式、分数累加逻辑和排序优化技巧。

---

### 精选题解（评分≥4星）  

#### 1. 作者：Jerrlee✅（4.5星）  
**关键亮点**  
- 交换名字统一处理逻辑：当第二个名字是自己时，交换两个名字位置，简化判断条件  
- 使用 `map` 自动处理字典序排序，减少后续排序工作量  
- 代码简洁，逻辑清晰  

**核心代码**  
```cpp
if (b == st) swap(a, b); // 统一处理逻辑
if (a == st)
    if (o == "posted") pnts[b] += 15;
    else if (o == "commented") pnts[b] += 10;
    else if (o == "likes") pnts[b] += 5;
```

#### 2. 作者：Mzh2012（4星）  
**关键亮点**  
- 直接通过操作类型判断得分值  
- 使用 `map` 自动去重并维护字典序  
- 代码结构清晰，逻辑分层明确  

**核心代码**  
```cpp
if (b == "posted") m[d] += 15;
else if (b == "likes") m[d] += 5;
else m[d] += 10;
d.erase(d.size()-1); // 处理's后缀
```

#### 3. 作者：Walrus（4星）  
**关键亮点**  
- 使用 `substr` 精确提取名字，避免迭代处理  
- 通过 `cin.get()` 解决 getline 读取问题  
- 使用 vector 存储排序结果，减少 map 遍历次数  

**核心代码**  
```cpp
y.erase(y.size()-2); // 删去's后缀
if (x != name && mp.find(x) == mp.end()) mp[x] = 0;
if (y != name && mp.find(y) == mp.end()) mp[y] = 0;
```

---

### 关键思路总结  
1. **名字提取**：通过字符串操作（如 `erase`/`substr`）去除名字后的所有格后缀  
2. **分数累加**：仅当操作涉及自己时才加分，利用哈希表（map/unordered_map）统计  
3. **排序优化**：利用 map 的自动排序特性减少比较次数，或使用结构体自定义排序规则  
4. **边界处理**：确保所有出现过的名字（即使得0分）都被记录  

---

### 拓展建议  
同类问题可练习：  
1. **字符串解析**：[P1055 ISBN号码](https://www.luogu.com.cn/problem/P1055)  
2. **条件判断+排序**：[P1781 宇宙总统](https://www.luogu.com.cn/problem/P1781)  
3. **复杂规则模拟**：[P3694 邦邦的大合唱站队](https://www.luogu.com.cn/problem/P3694)  

---

### 个人心得摘录  
- "交换名字统一处理逻辑，将判断条件减少一半" —— 通过交换变量简化条件分支  
- "必须初始化所有出现过的名字为0分，否则会漏输出" —— 强调边界数据的重要性  
- "直接通过操作类型判断得分值，避免多层嵌套if" —— 提倡代码逻辑扁平化

---
处理用时：60.57秒
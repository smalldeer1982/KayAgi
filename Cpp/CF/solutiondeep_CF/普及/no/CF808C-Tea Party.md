# 题目信息

# Tea Party

## 题目描述

有n个客人到小名家来玩，他们每人酒杯的容量为a[i],小名家里共有w（w<=a[1]+a[2]+....）容量的酒，他们现在要喝酒，如果满足以下四个条件，证明这个倒酒方法是合法的。
1.每个人倒得酒必须不小于容量的一半
2.每个人倒得酒都是整数
3.所有的酒都倒满了。
4.每个朋友都是快乐的。
如果第a[i]>a[j]但是i装的酒小于j的，那么i是不快乐的。

## 样例 #1

### 输入

```
2 10
8 7
```

### 输出

```
6 4 
```

## 样例 #2

### 输入

```
4 4
1 1 1 1
```

### 输出

```
1 1 1 1 
```

## 样例 #3

### 输入

```
3 10
9 8 10
```

### 输出

```
-1
```

# AI分析结果



# 中文题目重写

## 题目名称：茶会

### 题目描述

有n个客人到小明家玩，每人酒杯容量为a[i]。小明家共有w毫升酒（w ≤ a[1]+a[2]+...+a[n]）。倒酒方法合法的条件如下：  
1. 每人倒酒量不小于容量的一半  
2. 倒酒量均为整数  
3. 倒完所有酒  
4. 若a[i]>a[j]，则i的倒酒量不小于j的  

### 输入样例  
#### 样例1  
输入：  
2 10  
8 7  
输出：  
6 4  

#### 样例2  
输入：  
4 4  
1 1 1 1  
输出：  
1 1 1 1  

#### 样例3  
输入：  
3 10  
9 8 10  
输出：  
-1  

---

### 算法分类  
**贪心**

---

## 题解分析与结论

**核心思路**：  
1. 将杯子按容量排序，保证后续操作满足条件4  
2. 先分配最低要求酒量（容量一半向上取整）  
3. 剩余酒量从大容量杯子开始尽可能多倒  

**解决难点**：  
- 最低酒量总和可能超过w（需特判）  
- 剩余分配需维持大小关系（通过排序后从后往前分配保证）  
- 整数处理（向上取整技巧`(a+1)/2`）

---

## 优质题解推荐

### 题解1：DarkShadow（⭐⭐⭐⭐⭐）  
**亮点**：  
- 结构体记录原始位置，避免排序后丢失索引  
- 剩余酒量分配逻辑清晰（从后向前遍历）  
**核心代码**：  
```cpp
struct st{ int v1,v2,pos; /*...*/ };
sort(A+1, A+1+n);  // 按容量排序
for(int i=1; i<=n; i++) A[i].v1 = (A[i].v2+1)/2;  // 初始分配
for(int i=n; i>=1&&w; i--) {  // 剩余酒分配
    int add = min(w, A[i].v2 - A[i].v1);
    A[i].v1 += add;
    w -= add;
}
```

### 题解2：xiaoxiaoxia（⭐⭐⭐⭐）  
**亮点**：  
- 双排序处理（容量排序分配，编号排序输出）  
- 明确特判条件  
**核心实现**：  
```cpp
sort(a+1, a+1+n, cmp1);  // 按容量排序
// 初始分配...
sort(a+1, a+1+n, cmp2);  // 按编号排序输出
```

### 题解3：Lavande（⭐⭐⭐⭐）  
**亮点**：  
- 代码结构简洁，变量命名清晰  
- 剩余酒量分配使用`min`函数简化逻辑  
**核心片段**：  
```cpp
sort(a+1,a+n+1,cmp1);  // 按容量排序
for(int i=n; i>=1; i--) {
    int tmp = min(m, a[i].tea - a[i].val);
    a[i].val += tmp;
    m -= tmp;
}
```

---

## 关键技巧总结  
1. **结构体保留原始索引**：排序后仍能还原原始顺序  
2. **贪心分两阶段**：先满足最低条件，再最大化利用剩余资源  
3. **排序方向选择**：从小到大排序后，倒序处理等价于从大到小操作  

---

## 类似题目推荐  
1. P1094 [NOIP2007 普及组] 纪念品分组（贪心+双指针）  
2. P1223 [贪心] 排队接水（排序处理时间）  
3. P1803 凌乱的yyy（活动选择类贪心）  

---

## 题解心得摘录  
- "不能把剩余酒全倒进一个杯子，要考虑容量上限" —— 0okoukio0  
- "注意奇偶性处理，否则初始分配会出错" —— hehaitong  
- "双排序是处理输出顺序的关键" —— xiaoxiaoxia

---
处理用时：55.05秒
# 题目信息

# Summer sell-off

## 题目描述

商店在n天中出售商品。对于第i天，出售ki件商品，会有有li个顾客购买商品。每个顾客买且只买一件商品。



商店的老板会选择f天。在这f天中，每天出售的商品数量为原来出售商品数量的两倍。老板想知道，如何选择这f天，能使出售的商品最多

## 样例 #1

### 输入

```
4 2
2 1
3 5
2 3
1 5
```

### 输出

```
10```

## 样例 #2

### 输入

```
4 1
0 2
0 3
3 5
0 6
```

### 输出

```
5```

# AI分析结果



# Summer sell-off

## 题目描述

商店在 $n$ 天中出售商品。对于第 $i$ 天，出售 $k_i$ 件商品，会有 $l_i$ 个顾客购买商品。每个顾客买且只买一件商品。

商店的老板会选择 $f$ 天。在这 $f$ 天中，每天出售的商品数量为原来出售商品数量的两倍。老板想知道，如何选择这 $f$ 天，能使出售的商品最多。

## 样例 #1

### 输入
```
4 2
2 1
3 5
2 3
1 5
```

### 输出
```
10
```

## 样例 #2

### 输入
```
4 1
0 2
0 3
3 5
0 6
```

### 输出
```
5
```

## 算法分类
贪心

---

## 题解对比与结论

### 共同思路
所有题解均采用**贪心策略**，核心步骤：
1. 计算每个商品日的增益值：`gain = min(2k_i, l_i) - min(k_i, l_i)`
2. 按增益值降序排序
3. 选取前 $f$ 大增益值累加到基础销量

### 关键差异点
1. 预处理方式：部分题解显式分类讨论（如 skyskyCCC），多数直接计算差值
2. 数据结构：部分使用结构体存储原始数据，多数直接分数组处理
3. 溢出处理：强调 long long 类型防止整数溢出

---

## 高分题解推荐

### 1. 作者：mxxby（⭐⭐⭐⭐⭐）
**核心亮点**：
- 代码简洁，直接使用差值数组
- 包含数学公式表达 `ly[i] = min(js[i]*2, rs[i]) - min(js[i], rs[i])`
- 完整处理溢出问题

```cpp
long long main() {
    // 计算增益值并排序
    ly[i] = min(js[i]*2, rs[i]) - min(js[i], rs[i]);
    sort(ly+1, ly+1+n, cmp);
    // 累加前f大增益值
    for(int i=1; i<=k; i++) l += ly[i];
    // 输出基础销量+增益值
}
```

### 2. 作者：晨·曦（⭐⭐⭐⭐）
**核心亮点**：
- 使用结构体增强可读性
- 显式排序处理逻辑
- 变量命名清晰

```cpp
struct node{ long long c,p; };
bool cmp(node x, node y) { return x.c > y.c; }

int main() {
    // 预处理增益值存入结构体
    a[i].c = min(x*2,y) - min(x,y);
    // 结构体排序后累加前f大值
}
```

### 3. 作者：Graphcity（⭐⭐⭐⭐）
**核心亮点**：
- 运算符重载实现排序
- 逐日处理销量计算
- 完整溢出防护

```cpp
struct Node{ int k,l; };
bool operator<(Node x, Node y) {
    return min(2x.k,x.l)-min(x.k,x.l) > min(2y.k,y.l)-min(y.k,y.l);
}

int main() {
    // 重载运算符后直接排序结构体数组
    for(i<=m ? 翻倍销量 : 基础销量)
}
```

---

## 最优思路总结
**核心技巧**：增益值计算与排序贪心  
1. **增益计算**：对每个商品日，计算商品翻倍后的销量增益值  
2. **降序排序**：通过排序快速获取最优的 $f$ 个增益日  
3. **溢出防护**：使用 long long 处理大整数运算

**同类型套路**：  
- 选择最优增益的贪心策略
- 预处理差值后排序取极值
- 适用于任务调度、资源分配等问题

---

## 推荐练习题
1. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223) - 经典贪心排序
2. [P1208 混合牛奶](https://www.luogu.com.cn/problem/P1208) - 单价排序贪心
3. [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094) - 双指针贪心策略

---
处理用时：55.77秒
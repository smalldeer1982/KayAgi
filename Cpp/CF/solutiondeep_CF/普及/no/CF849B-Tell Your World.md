# 题目信息

# Tell Your World

## 题目描述

题意

用线连接无数的点，直到我们到达远方。
坐标平面上有$n$ 个点，第$i$ 个点的坐标为$(i,y_{i})$ 。
确定是否能画两条平行且不重叠的线，使得集合中的每个点都在他们之中的一条线上，且每条线至少经过一个点。

## 样例 #1

### 输入

```
5
7 5 8 6 9
```

### 输出

```
Yes
```

## 样例 #2

### 输入

```
5
-1 -2 0 0 -5
```

### 输出

```
No
```

## 样例 #3

### 输入

```
5
5 4 3 2 1
```

### 输出

```
No
```

## 样例 #4

### 输入

```
5
1000000000 0 0 0 0
```

### 输出

```
Yes
```

# AI分析结果



# Tell Your World

## 题目描述

### 题意
坐标平面上有$n$ 个点，第$i$ 个点的坐标为$(i,y_{i})$。确定是否能画两条平行且不重叠的线，使得集合中的每个点都在其中一条线上，且每条线至少经过一个点。

## 算法分类
数学、枚举

## 题解综合分析

### 核心思路
所有题解均采用**三点枚举基准线**策略：  
1. 前三个点必然存在至少两条基准线候选（三点共线则另一线只需一个点）
2. 计算前三点两两组合的三种斜率：k₁（点1-2）、k₂（点2-3）、k₃（点1-3）
3. 对每个候选斜率，验证其余点是否满足在基准线或另一条平行线上

### 关键难点
1. **浮点精度处理**：采用差值相乘比较避免除法运算（如比较(y₂-y₁)(x-x₁)与(y-y₁)(x₂-x₁)）
2. **特殊点处理**：当基准线仅含一个点时需确保另一线有足够点
3. **边界情况**：n≤3时的特殊处理逻辑

---

## 精选题解（评分≥4星）

### 题解1：作者：_lxy_（4.5星）
**核心亮点**：  
1. 代码结构清晰，使用差值比较避免浮点误差  
2. 通过封装check函数提升可读性  
3. 正确处理三点共线时的边界情况  

**关键代码**：
```cpp
bool check(double k) {
    bool flag = false;
    int x = -1;
    for(int i=2; i<=n; i++) {
        if(y[i]-y[1] == k*(i-1)) continue;
        flag = true;
        if(x == -1) x = i;
        else if((y[i]-y[x]) != k*(i-x)) {
            flag = false;
            break;
        }
    }
    return flag;
}
```

### 题解2：作者：skyskyCCC（4星）
**核心亮点**：  
1. 详细数学推导说明三点必含基准线  
2. 函数返回逻辑处理优雅  
3. 注释清晰解释斜率计算逻辑  

**调试心得**：  
"最初未考虑三点共线情况，通过增加基准线验证解决"

---

## 最优思路总结
**三点枚举法**：  
1. 选取前三点构造三条候选斜率  
2. 对每个候选斜率k，进行双线验证：  
   - 维护两个基准点（原线起点 + 平行线起点）  
   - 所有点必须满足在k对应的原线或平行线上  
3. 任一候选斜率验证通过即返回Yes  

**实现技巧**：  
- 使用整数运算避免浮点误差  
- 当基准线仅有第一个点时，确保平行线至少包含一个其他点  
- 预处理三种斜率覆盖所有可能情况  

---

## 拓展练习
1. [P2789 直线交点数](https://www.luogu.com.cn/problem/P2789) - 直线位置关系的数学分析  
2. [P1257 平面上的最接近点对](https://www.luogu.com.cn/problem/P1257) - 几何问题中的分治应用  
3. [CF14C Four Segments](https://www.luogu.com.cn/problem/CF14C) - 平行坐标轴线段判定  

## 题解心得摘录
"关键在三点必含两条基准线中的至少一条，这大幅缩小了需要验证的情况范围" —— skyskyCCC  
"浮点比较改用乘法后直接AC，精度问题必须时刻警惕" —— 泠小毒

---
处理用时：56.04秒
# 题目信息

# Qualification Rounds

## 题目描述

斯纳克和菲利普正在为即将到来的半决赛预赛做准备。他们有一个含有N个问题的银行，他们想选择任何非空子集作为问题集。  

有K个经验丰富的球队正在参加比赛。这些团队中的一些已经知道了一些问题。为了让比赛变得有趣，每个球队都应该知道不超过一半的问题。  

确定斯纳克和菲利普是否能做出有趣的问题集！

## 说明/提示

在第一个例子中，你不能制造任何有趣的问题，因为第一个团队知道所有的问题。



在第二个例子中，你可以选择第一个和第三个问题。

## 样例 #1

### 输入

```
5 3
1 0 1
1 1 0
1 0 0
1 0 0
1 0 0
```

### 输出

```
NO
```

## 样例 #2

### 输入

```
3 2
1 0
1 1
0 1
```

### 输出

```
YES
```

# AI分析结果



# Qualification Rounds

## 题目描述

斯纳克和菲利普正在为即将到来的半决赛预赛做准备。他们有一个含有N个问题的题库，他们想选择任意非空子集作为比赛题目。  

有K个经验丰富的队伍参加比赛。这些队伍中的部分已经知道了一些题目。为了让比赛有趣，每个队伍知道的题目数量不得超过所选题目总数的一半。  

判断斯纳克和菲利普能否选出满足条件的题目集合！

## 说明/提示

第一个样例中无法选出任何满足条件的题目，因为第一个队伍知道所有题目。

第二个样例可以选择第1和第3题，此时每个队伍知道的题目数都不超过1（总数2题的一半）。

## 算法分类
位运算

---

## 题解分析与结论

**核心思路**：  
1. 将每个问题的队伍知晓状态压缩为二进制数（如1010表示第1、3队伍知道该问题）  
2. 存在可行解当且仅当：  
   - 存在未被任何队伍知道的问题（二进制全0）  
   - 或存在两个问题，它们的二进制表示每一位不同时为1（按位与为0）  

**关键证明**：  
当存在x≥3个问题的可行解时，必存在两个问题的组合也满足条件。因此只需检查所有两两组合即可覆盖所有可能情况。

---

## 精选题解

### 题解作者：Jayun （★★★★☆）
**关键亮点**：  
- 利用k≤4的特性，将状态压缩为16种可能  
- 通过去重优化比较次数  
- 正确实现双重循环检查所有状态组合  

**核心代码**：  
```cpp
int main() {
    n = Read(), m = Read();
    for (int i = 1; i <= n; i++)
        for (int j = 1; j <= m; j++)
            a[i] += Read() * (1 << j - 1); // 状态压缩
    
    sort(a + 1, a + 1 + n);
    n = unique(a + 1, a + 1 + n) - a - 1; // 去重
    
    if (!a[1]) { puts("YES"); return 0; } // 存在全0状态
    
    bool flag = 0;
    for (int i = 1; i <= n; i++)
        for (int j = 1; j < i; j++)
            if (!(a[i] & a[j])) flag = 1; // 检查按位与
    puts(flag ? "YES" : "NO");
}
```

---

## 关键思路总结
1. **状态压缩**：将多维的知晓情况转化为二进制数，便于位运算处理  
2. **组合验证**：通过按位与运算快速验证两问题的相容性  
3. **问题规模优化**：利用k≤4的特性，将指数级复杂度降为常数级  

---

## 拓展练习
1. [P1469 找筷子](https://www.luogu.com.cn/problem/P1469) - 位运算异或性质  
2. [P2114 起床困难综合症](https://www.luogu.com.cn/problem/P2114) - 位运算贪心策略  
3. [P2396 yyy loves Maths VII](https://www.luogu.com.cn/problem/P2396) - 状态压缩DP应用

---
处理用时：104.14秒
# 题目信息

# Pizza Separation

## 题目描述

一个圆，被切成了 $n$ 块，第 $i$ 块的圆心角为 $a_i$。

你可以将相邻的块合并，直到这 $n$ 块组合成两大块，你需要使得这两大块的圆心角之差最小。

## 说明/提示

对于 $100\%$ 的数据，$1\le n, a_i\le 360$。

数据保证所有圆心角度数之和为 $360$ 度。

样例一说明：第 $1$ 块和第 $2$ 块组成一块，第 $3$ 块和第 $4$ 块组成一块，答案即为 $[(90 + 90) - (90 + 90)] = 0$。

样例二说明：第 $1$ 块和第 $2$ 块组成一块，第 $3$ 块单独组成一块，答案即为 $[(100 + 100) - 160] = 40$。

样例三说明：一共只有 $1$ 块披萨，只能被一个人拿走，答案即为 $(360 - 0) = 360$。

样例四说明：第 $1$ 块和第 $4$ 块组成一块，第 $2$ 块和第 $3$ 块组成一块，答案即为 $[(170 + 10) - (30 + 150)] = 0$。

## 样例 #1

### 输入

```
4
90 90 90 90
```

### 输出

```
0
```

## 样例 #2

### 输入

```
3
100 100 160
```

### 输出

```
40
```

## 样例 #3

### 输入

```
1
360
```

### 输出

```
360
```

## 样例 #4

### 输入

```
4
170 30 150 10
```

### 输出

```
0
```

# AI分析结果



## 中文题目重写
### 题目描述  
一个圆被切分成 $n$ 块，第 $i$ 块的圆心角为 $a_i$。你可以将相邻的块合并，直到这 $n$ 块组合成两大块，使得这两大块的圆心角之差最小。  

### 输入输出样例  
#### 样例 #1  
**输入**  
```
4  
90 90 90 90  
```  
**输出**  
```
0  
```  
#### 样例 #2  
**输入**  
```
3  
100 100 160  
```  
**输出**  
```
40  
```  
#### 样例 #3  
**输入**  
```
1  
360  
```  
**输出**  
```
360  
```  
#### 样例 #4  
**输入**  
```
4  
170 30 150 10  
```  
**输出**  
```
0  
```  

---

## 算法分类  
**枚举**  

---

## 题解分析与结论  
**核心逻辑**：需找到两段连续区块，使其和尽可能接近 $180^\circ$。差值计算为 $2 \times |180 - x|$，其中 $x$ 为其中一段的和。  

**关键难点**：  
1. **环形结构处理**：常规连续区间枚举无法覆盖跨首尾的合并情况（如样例4的跨末尾合并）。  
2. **优化计算**：暴力三重循环复杂度 $O(n^3)$ 可能超时，需通过前缀和优化。  

**最优解法**：  
将环形数组复制延长为 $2n$，转化为线性问题，枚举所有可能的起点和长度不超过 $n$ 的区间，利用前缀和快速计算区间和。  

---

## 精选题解  

### 题解作者：MeowScore（★★★★★）  
**关键亮点**：  
1. **环形处理技巧**：通过复制数组为两倍长度，完美覆盖所有可能的环形合并情况。  
2. **前缀和优化**：将区间和计算从 $O(n)$ 优化为 $O(1)$，总复杂度降为 $O(n^2)$。  
3. **代码简洁性**：逻辑清晰，通过双循环枚举所有可能区间，直接计算最接近值。  

**核心代码**：  
```cpp  
int a[1000], s[1000];  
// 预处理前缀和  
for (int i = 1; i <= 2 * n; i++)  
    s[i] = s[i - 1] + a[i];  

int ans = 99999;  
for (int i = 1; i <= n; i++) {  
    for (int j = 1; j + i - 1 <= 2 * n; j++) {  
        ans = min(ans, abs(s[j + i - 1] - s[j - 1] - 180));  
    }  
}  
cout << ans * 2;  
```  
**实现思想**：  
- 将原数组复制到后半段，构造 $2n$ 长度的新数组。  
- 预处理前缀和数组 `s[]`，快速计算任意区间和。  
- 枚举所有长度 $1 \leq i \leq n$ 的区间，计算其和与 $180$ 的差值，记录最小值。  

---

## 关键思路总结  
1. **环形转线性**：通过复制数组处理环形结构，是解决环形区间问题的经典方法。  
2. **前缀和优化**：降低区间和计算的复杂度，避免重复求和。  
3. **边界特判**：当 $n=1$ 时直接返回 $360$，避免无效计算。  

---

## 拓展应用  
类似环形处理技巧可应用于：  
- 环形数组最大子段和（如洛谷 P1115）  
- 环形队列的滑动窗口问题  
- 周期性问题中的重复模式分析  

---

## 推荐习题  
1. [P1888 三角函数](https://www.luogu.com.cn/problem/P1888) - 环形结构中的极角处理  
2. [P1115 最大子段和](https://www.luogu.com.cn/problem/P1115) - 线性区间和优化  
3. [P3406 海底高铁](https://www.luogu.com.cn/problem/P3406) - 环形差分与前缀和结合

---
处理用时：188.17秒
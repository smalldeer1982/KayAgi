# 题目信息

# Swap Adjacent Elements

## 样例 #1

### 输入

```
6
1 2 5 3 4 6
01110
```

### 输出

```
YES
```

## 样例 #2

### 输入

```
6
1 2 5 3 4 6
01010
```

### 输出

```
NO
```

# AI分析结果



### 题目翻译

#### 题目名称：交换相邻元素

**题目描述**  
给定一个由 $1 \sim n$ 组成的排列 $a_1, a_2, \dots, a_n$ 和一个长度为 $n-1$ 的 01 字符串 $s$。若 $s_i = 1$，表示 $a_i$ 可以与 $a_{i+1}$ 交换。判断是否可以通过若干次交换使整个排列变为严格递增序列。

**输入格式**  
- 第一行：整数 $n$  
- 第二行：$n$ 个整数表示排列  
- 第三行：长度为 $n-1$ 的 01 字符串  

**输出格式**  
若可以排序输出 `YES`，否则输出 `NO`。

---

### 算法分类  
**贪心**

---

### 题解综合分析

#### 核心思路对比
1. **连续区间最大值验证（W1nNy_）**  
   - 将连续的 `1` 划分为区间，维护当前区间的最大值。遇到 `0` 时检查当前索引是否等于最大值，确保每个区间的最大值处于右边界。
   - **亮点**：时间复杂度 $O(n)$，无需额外空间，代码简洁。

2. **并查集连通性验证（qnqfff）**  
   - 将可交换的位置合并为连通块，检查每个元素是否位于其值对应的连通块内。
   - **亮点**：抽象为连通性问题，利用并查集高效处理区间连通性。

3. **区间排序后验证（Great_Influence）**  
   - 对每个连续的 `1` 区间进行排序，最后检查整体是否有序。
   - **亮点**：直观模拟交换过程，但多次排序可能导致复杂度较高。

---

### 高星题解推荐

#### 1. W1nNy_（★★★★★）
**关键思路**  
- 维护当前连续区间的最大值，遇到 `0` 时验证最大值是否等于当前位置。
- **代码亮点**：线性扫描，仅需维护一个变量，效率极优。
```cpp
for (int i = 1; i < n; i++) {
    maxx = max(a[i], maxx);
    if (s[i] == '0' && i != maxx) {
        puts("NO");
        return 0;
    }
}
```

#### 2. qnqfff（★★★★☆）
**关键思路**  
- 并查集合并可交换位置，验证元素值所在连通块是否包含正确位置。
- **代码亮点**：将交换能力抽象为连通块，验证全局约束。
```cpp
for (int i = 0; i < s.size(); i++)
    if (s[i] == '1')
        father[find(i + 1)] = find(i + 2);
for (int i = 1; i <= n; i++)
    if (find(i) != find(a[i])) {
        cout << "NO";
        return 0;
    }
```

#### 3. Great_Influence（★★★★☆）
**关键思路**  
- 直接对连续 `1` 区间排序，最终检查整体有序性。
- **代码亮点**：模拟交换效果，思路直观。
```cpp
int l = 1;
for (int i = 1; i < n; i++) {
    if (s[i] == '0') {
        sort(a + l, a + i + 1);
        l = i + 1;
    }
}
sort(a + l, a + n + 1);
```

---

### 最优技巧总结
- **贪心维护区间最大值**：通过单次遍历维护当前可交换区间的最大值，确保不可交换点的值已处于正确位置。
- **思维核心**：利用排列特性，将问题转化为对每个区间的极值约束，避免复杂操作。

---

### 拓展与心得
- **调试教训**：注意字符串索引与数组位置的对应关系，避免边界错误。
- **同类问题**：处理连续区间约束时，贪心维护关键变量（如最大值/最小值）是常见优化手段。

---

### 推荐习题
1. [P1969 积木大赛](https://www.luogu.com.cn/problem/P1969)  
   **相似点**：贪心处理连续区间的最小操作次数。

2. [P5019 铺设道路](https://www.luogu.com.cn/problem/P5019)  
   **相似点**：通过区间分析贪心求解最小代价。

3. [P2879 Tallest Cow](https://www.luogu.com.cn/problem/P2879)  
   **相似点**：利用区间约束维护极值（差分思想）。

---
处理用时：202.69秒
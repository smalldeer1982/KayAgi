# 题目信息

# Greedy Arkady

## 题目描述

$k$ 个人想在他们之间分 $n$ 颗糖。每颗糖都应该正好分给其中一个人，否则就扔掉。

这些人的编号从 $1$ 到 $k$，Arkady 是他们中的第一个。为了分割糖果，Arkady 将选择一个整数 $x$，然后把前 $x$ 颗糖果给自己，下一堆 $x$ 颗糖果给第二个人，再下一堆 $x$ 颗糖果给第三个人，如此循环。剩下的部分（不能被 $x$ 整除的剩余部分）将被扔掉。

Arkady 不能选择大于 $M$ 的 $x$，因为这被认为是贪婪的。同时，他也不能选择这么小的 $x$，以至于有些人收到的糖果会超过 $D$ 次，因为这被认为是一种缓慢的分割。

请找出 Arkady 通过选择某个有效的 $x$ 所能得到的最大的糖果数量是多少。

## 样例 #1

### 输入

```
20 4 5 2
```

### 输出

```
8
```

## 样例 #2

### 输入

```
30 9 4 1
```

### 输出

```
4
```

# AI分析结果

### 题目内容重写
$k$ 个人想在他们之间分 $n$ 颗糖。每颗糖都应该正好分给其中一个人，否则就扔掉。

这些人的编号从 $1$ 到 $k$，Arkady 是他们中的第一个。为了分割糖果，Arkady 将选择一个整数 $x$，然后把前 $x$ 颗糖果给自己，下一堆 $x$ 颗糖果给第二个人，再下一堆 $x$ 颗糖果给第三个人，如此循环。剩下的部分（不能被 $x$ 整除的剩余部分）将被扔掉。

Arkady 不能选择大于 $M$ 的 $x$，因为这被认为是贪婪的。同时，他也不能选择这么小的 $x$，以至于有些人收到的糖果会超过 $D$ 次，因为这被认为是一种缓慢的分割。

请找出 Arkady 通过选择某个有效的 $x$ 所能得到的最大的糖果数量是多少。

### 算法分类
贪心

### 题解分析与结论
所有题解都采用了贪心算法的思路，通过枚举分糖的轮数来找到最优解。主要思路是枚举分糖的轮数 $d$，然后计算每轮分糖的数量 $x$，确保 $x$ 不超过 $M$，并且分糖的轮数不超过 $D$。最终目标是让 Arkady 得到的糖果数量最大化。

### 评分较高的题解
1. **作者：lichenfan (赞：2)**
   - **星级：4**
   - **关键亮点**：清晰地解释了贪心思路，代码简洁明了，通过枚举分糖轮数并计算每轮分糖数量，最终取最大值。
   - **核心代码**：
     ```cpp
     for(int i=1;i<=d;i++){      //枚举最多分给人几次 
         int x=n/(k*i-k+1);      //计算x的值 
         if(x==0) break;         //如果糖分的次数比人还多， 
         x=min(x,m);             //如果比m大，就只能取m 
         ans=max(ans,x*i);       //算出男主最多拿到的糖果数 
     }
     ```

2. **作者：小恐 (赞：1)**
   - **星级：4**
   - **关键亮点**：通过枚举分糖轮数，计算每轮分糖数量，并处理了数据范围过大的问题，避免了爆精度。
   - **核心代码**：
     ```cpp
     for(int i=1;i<=d;++i)
     {
         if((n-1)/k<i-1)
             break;
         long long t=k*(i-1)+1;
         ans=max(ans,min(m,n/t)*i);
     }
     ```

3. **作者：lxgw (赞：0)**
   - **星级：4**
   - **关键亮点**：直接枚举分糖轮数，计算每轮分糖数量，并处理了数据范围过大的问题，代码简洁。
   - **核心代码**：
     ```cpp
     for(register int i=1;i<=d;++i)//枚举分的次数
     {
         int x=n/(k*i-k+1);//求出x的最大值
         if(!x) cout<<ans,exit(0);//当爆精度时就直接结束。
         x=min(x,m);//x不会大于m
         ans=max(ans,x*i);//把ans取最大值，x*i指最多分i轮，每轮分x颗（即最大值）
     }
     ```

### 最优关键思路或技巧
- **贪心枚举**：通过枚举分糖的轮数，计算每轮分糖的数量，确保 $x$ 不超过 $M$，并且分糖的轮数不超过 $D$。
- **处理大范围数据**：通过除法判断是否超出数据范围，避免爆精度。

### 可拓展之处
- 类似的问题可以通过贪心枚举来解决，尤其是涉及到分配资源且有限制条件的情况。
- 可以扩展到其他分配问题，如任务分配、资源分配等。

### 推荐题目
1. [P1007 独木桥](https://www.luogu.com.cn/problem/P1007)
2. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
3. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)

---
处理用时：25.06秒
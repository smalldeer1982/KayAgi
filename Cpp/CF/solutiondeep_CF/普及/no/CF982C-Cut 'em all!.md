# 题目信息

# Cut 'em all!

## 题目描述

现在有一棵有N个节点的树，你可以删去树中的一些边使其成为森林，你的任务是删去最多的边使得每一棵森林中的树的大小为偶数，并输出删去的边数。

## 样例 #1

### 输入

```
4
2 4
4 1
3 1
```

### 输出

```
1```

## 样例 #2

### 输入

```
3
1 2
1 3
```

### 输出

```
-1```

## 样例 #3

### 输入

```
10
7 1
8 4
8 10
4 7
6 5
9 3
3 5
2 10
2 5
```

### 输出

```
4```

## 样例 #4

### 输入

```
2
1 2
```

### 输出

```
0```

# AI分析结果

### 题目内容重写
# Cut 'em all!

## 题目描述

现在有一棵有N个节点的树，你可以删去树中的一些边使其成为森林，你的任务是删去最多的边使得每一棵森林中的树的大小为偶数，并输出删去的边数。

## 样例 #1

### 输入

```
4
2 4
4 1
3 1
```

### 输出

```
1```

## 样例 #2

### 输入

```
3
1 2
1 3
```

### 输出

```
-1```

## 样例 #3

### 输入

```
10
7 1
8 4
8 10
4 7
6 5
9 3
3 5
2 10
2 5
```

### 输出

```
4```

## 样例 #4

### 输入

```
2
1 2
```

### 输出

```
0```

### 算法分类
深度优先搜索 DFS

### 题解分析与结论
题目要求通过删除边将树分割成若干子树，且每棵子树的大小为偶数。核心思路是通过DFS遍历树，计算每个节点的子树大小，若子树大小为偶数，则可以删除该节点与其父节点的边。最终统计可以删除的边数。

### 所选高分题解

#### 题解1：作者：acup (赞：5)
- **星级**：5星
- **关键亮点**：思路清晰，代码简洁，直接通过DFS计算子树大小并统计偶数大小的子树数量，最后减去根节点的特殊情况。
- **核心代码**：
```cpp
int dfs(int x){
    for(int i = 0; i < G[x].size(); i++){
        int u = G[x][i];
        if(!vis[u]){
            vis[u] = 1;
            ans[x] += dfs(u);
            vis[u] = 0;
        }
    }
    ans[x]++;//加上自己 
    return ans[x];
}
```

#### 题解2：作者：lichenghan (赞：2)
- **星级**：4星
- **关键亮点**：详细解释了DFS过程，强调了根节点的特殊情况处理，代码可读性较好。
- **核心代码**：
```cpp
void dfs(int u,int fa){
	siz[u]=1;
	for(int i=0;i<g[u].size();i++){
		int v=g[u][i];
		if(v==fa) continue;
		dfs(v,u);
		siz[u]+=siz[v];
	}
}
```

#### 题解3：作者：Edmundino (赞：2)
- **星级**：4星
- **关键亮点**：结合了DFS与DP的思想，强调了子树大小的计算与边删除的条件，代码结构清晰。
- **核心代码**：
```cpp
void dfs(int u)
{
    int lon=vec[u].size();
    bo[u]=1;
    for(int i=0;i<lon;i++)
    {
        int v=vec[u][i];
        if(bo[v]==0)
        {
            dfs(v);
            siz[u]+=siz[v];
        }
    }
    siz[u]+=1;
    return;
}
```

### 最优关键思路与技巧
1. **DFS遍历**：通过DFS遍历树，计算每个节点的子树大小。
2. **子树大小判断**：若子树大小为偶数，则可以删除该节点与其父节点的边。
3. **根节点特判**：根节点没有父节点，因此统计结果时需要减去根节点的情况。

### 可拓展之处
类似的问题可以扩展到其他树形结构的问题，如求子树的最大值、最小值等。DFS在树形结构中的应用非常广泛，掌握DFS的基本思想对于解决树形问题至关重要。

### 推荐题目
1. [P1352 没有上司的舞会](https://www.luogu.com.cn/problem/P1352)
2. [P2015 二叉苹果树](https://www.luogu.com.cn/problem/P2015)
3. [P2014 选课](https://www.luogu.com.cn/problem/P2014)

---
处理用时：26.44秒
# 题目信息

# Open Communication

## 题目描述

有两个玩家各拥有一对  $1$  到  $9$  的数，其中有且只有一个数是两对中都有的。他们想要通过聊天频道来找出这个数字，然而为了不让你知道，他们可能还会告诉对方自己不拥有的一对数，但这也可能导致他们自己也弄不清楚了。

现在请你根据他们的聊天信息判断，两个玩家拥有的一对数中，哪个数是两对中都有的。如果你能确定一定是它，输出这个数。如果你无法确定一定是它，但是你能确保玩家一定知道，输出  $0$ 。如果连玩家都不知道，输出  $-1$ 。

## 说明/提示

- 第  $1$  组样例的解释：

从第一个玩家告诉的  $(3,\ 4)$ ，第二个玩家也告诉的  $(3,\ 4)$  中，由于两对数中有两个数字相同，故他们无法判断。

从第一个玩家告诉的  $(1,\ 2)$ ，第二个玩家告诉的  $(3,\ 4)$  中，由于两对数中没有数字相同，故他们也无法判断。

从第一个玩家告诉的  $(3,\ 4)$ ，第二个玩家告诉的  $(1,\ 5)$  中，理由同上。

但是从第一个玩家告诉的  $(1,\ 2)$ ，第二个玩家告诉的  $(1,\ 5)$  中，他们就能猜测出这个数字是  $1$ ，当然你也能判断出。

因此输出  $1$ 。

- 第  $2$  组样例的解释：

不同于上一组样例，从第一个玩家告诉的  $(1,\ 2)$ ，第二个玩家告诉的  $(1,\ 5)$  中，他们可能会猜测出这个数字是  $1$ ，因为还有一种可能，就是从第一个玩家告诉的  $(3,\ 4)$ ，第二个玩家告诉的  $(6,\ 4)$  中，他们也有可能会猜测这个数字是  $4$ 。尽管你无法作判断，但由于玩家们知道自己告诉对方的是不是自己拥有的数对，设想一下，如果第一个玩家拥有的数对就是  $(1,\ 2)$ ，那么第二个玩家拥有的数对肯定是  $(1,\ 5)$ 。因此，玩家一定会知道，但你并不知道，输出  $0$ 。

- 第  $3$  组样例的解释：

这一组样例与上一组区分开来的是，这次连玩家都不知道了。原因是第一个玩家告诉对方  $(1,\ 2)$  时，第二个玩家会导致矛盾。

先看第二个玩家告诉的  $(1,\ 3)$ ，相同的数是  $1$ ，但是再看第二个玩家告诉的  $(2,\ 3)$ ，相同的数是  $2$ 。首先你是肯定无法判断了，同时第一个玩家也无法判断，因为通过观察，第一个玩家拥有的数对一定是  $(1,\ 2)$ ，但相同的数刚好组成了这个数对。相反地，第二个玩家却知道，他也像你能观察出第一个玩家拥有的数对一定是  $(1,\ 2)$ ，同时他还知道自己拥有的数对，两个信息结合在一起，就可以从  $1$  和  $2$  中判断出。因此输出  $-1$ 。

感谢@Sooke 提供翻译

## 样例 #1

### 输入

```
2 2
1 2 3 4
1 5 3 4
```

### 输出

```
1
```

## 样例 #2

### 输入

```
2 2
1 2 3 4
1 5 6 4
```

### 输出

```
0
```

## 样例 #3

### 输入

```
2 3
1 2 4 5
1 2 1 3 2 3
```

### 输出

```
-1
```

# AI分析结果

### 题目重写
有两个玩家各拥有一对 $1$ 到 $9$ 的数，其中有且只有一个数是两对中都有的。他们想要通过聊天频道来找出这个数字，然而为了不让你知道，他们可能还会告诉对方自己不拥有的一对数，但这也可能导致他们自己也弄不清楚了。

现在请你根据他们的聊天信息判断，两个玩家拥有的一对数中，哪个数是两对中都有的。如果你能确定一定是它，输出这个数。如果你无法确定一定是它，但是你能确保玩家一定知道，输出 $0$ 。如果连玩家都不知道，输出 $-1$ 。

### 算法分类
模拟

### 题解分析与结论
题目要求根据两个玩家提供的数对，判断他们共同拥有的数字。题解主要通过枚举所有可能的数对组合，统计符合条件的公共数字，并根据统计结果输出相应的答案。

### 所选高星题解
#### 题解1：作者：开始新的记忆 (4星)
**关键亮点：**
1. 使用二维数组记录玩家提供的数对，便于后续查找。
2. 通过三重循环枚举所有可能的数对组合，统计符合条件的公共数字。
3. 根据统计结果判断输出值，逻辑清晰。

**核心代码：**
```cpp
for(int i=1;i<=9;++i)
    for(int j=1;j<=9;++j)
    {
        if(i==j)
            continue;
        for(int k=1;k<=9;++k)
        {
            if(k==i || k==j)
                continue;
            if(ha1[i][j]==ha2[i][k] && ha1[i][j])
            {
                ++ans1[i][j];
                ++ans2[i][k];
                x=i;
            }
        }
    }
```

#### 题解2：作者：jch123 (4星)
**关键亮点：**
1. 使用二维数组记录玩家提供的数对，便于后续查找。
2. 通过三重循环枚举所有可能的数对组合，统计符合条件的公共数字。
3. 根据统计结果判断输出值，逻辑清晰。

**核心代码：**
```cpp
for(int i=1;i<=9;i++)
{
    for(int j=1;j<=9;j++)
    {
        if(i==j) continue;
        for(int k=1;k<=9;k++)
        {
            if(k==i||k==j) continue;
            if(a[i][j]&&b[i][k])//合法的匹配
                c[i][j]++,d[i][k]++;	
        }
    }
}
```

### 最优关键思路
1. 使用二维数组记录玩家提供的数对，便于后续查找。
2. 通过三重循环枚举所有可能的数对组合，统计符合条件的公共数字。
3. 根据统计结果判断输出值，逻辑清晰。

### 可拓展之处
类似题目可以考察多个玩家之间的信息交互，或者更复杂的数对组合问题。

### 推荐题目
1. P1003 铺地毯
2. P1047 校门外的树
3. P1056 排座椅

### 个人心得
在枚举过程中，注意避免重复计算，可以通过条件判断来优化。

---
处理用时：20.16秒
# 题目信息

# Bowling Frame

## 题目描述

题面涉及到政治敏感内容，请在 Codeforces 查阅。

## 样例 #1

### 输入

```
4
1 2
3 2
3 3
12 0```

### 输出

```
2
2
3
4```

# AI分析结果

### 题目内容重写
#### 题目描述
给定 $w$ 个白点和 $b$ 个黑点，拼成一个三角形，要求三角形的第 $i$ 行有 $i$ 个**同色**的点，最大化三角形的行数。

多组测试数据，$1\leq t\leq 100$。

$0\leq w,b\leq 10^9$。

#### 样例 #1
##### 输入
```
4
1 2
3 2
3 3
12 0
```

##### 输出
```
2
2
3
4
```

### 题解综合分析与结论
本题的核心在于如何最大化三角形的行数，且每行的点必须同色。通过分析，可以发现问题的关键在于找到一个最大的 $n$，使得 $\frac{n(n+1)}{2} \leq w + b$。这个 $n$ 即为所求的最大行数。

#### 关键思路
1. **数学归纳法**：通过数学归纳法证明，当 $w + b$ 恰好等于 $\frac{n(n+1)}{2}$ 时，总能找到一种排列方式，使得每行的点同色。
2. **二分查找**：通过预处理三角数，使用二分查找来快速找到最大的 $n$，使得 $\frac{n(n+1)}{2} \leq w + b$。
3. **求根公式**：直接使用求根公式计算最大的 $n$，时间复杂度为 $O(1)$。

#### 最优题解
1. **mnlbnkk 的题解**（评分：4星）
   - **关键亮点**：使用二分查找快速找到最大行数，代码简洁高效。
   - **代码实现**：
     ```cpp
     ll tmp=a+b,lt=1,rt=N-1,ans;
     while(lt<=rt)
     {
         ll mid=lt+rt>>1;
         if(num[mid]>tmp) rt=mid-1;
         else lt=mid+1,ans=mid;
     }
     cout<<ans<<endl;
     ```
   - **个人心得**：通过预处理三角数，简化了查找过程，提高了代码的可读性和效率。

2. **queenbee 的题解**（评分：4星）
   - **关键亮点**：使用求根公式直接计算最大行数，时间复杂度为 $O(1)$。
   - **代码实现**：
     ```cpp
     ans=(-1+sqrt(1+8*(w+b)))/2.0;
     cout<<floor(ans)<<endl;
     ```
   - **个人心得**：通过数学公式直接求解，避免了复杂的循环和判断，代码简洁明了。

3. **LittleDrinks 的题解**（评分：4星）
   - **关键亮点**：通过累加的方式找到最大行数，代码简单易懂。
   - **代码实现**：
     ```cpp
     ll ans=1;
     for (; ans*(ans+1)/2 <= w+b; ++ans);
     cout << ans-1 << endl;
     ```
   - **个人心得**：通过简单的循环累加，直观地找到最大行数，适合初学者理解。

### 关键思路总结
- **数学归纳法**：通过数学归纳法证明问题的可行性。
- **二分查找**：通过预处理和二分查找快速找到最大行数。
- **求根公式**：直接使用数学公式求解，时间复杂度为 $O(1)$。

### 拓展思路
- **类似问题**：可以扩展到其他形状的排列问题，如矩形、菱形等。
- **优化技巧**：在处理大规模数据时，预处理和二分查找可以显著提高效率。

### 推荐题目
1. **洛谷 P1045**：求最大三角形数。
2. **洛谷 P1216**：数字三角形问题。
3. **洛谷 P1090**：合并果子问题。

### 个人心得总结
- **调试经历**：在处理大规模数据时，预处理和二分查找可以显著提高效率。
- **顿悟感想**：通过数学公式直接求解，避免了复杂的循环和判断，代码简洁明了。

---
处理用时：30.78秒
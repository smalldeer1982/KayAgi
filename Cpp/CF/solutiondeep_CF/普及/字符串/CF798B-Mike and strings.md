# 题目信息

# Mike and strings

## 题目描述

Mike有n个字符串s1,s2,……，sn，每个字符串均由小写字母构成。 每次移动你可以选择一个字符串si, 第1个字符移动最后，比如字符串 "coolmikecoolmike", 移动1次变成字符串 "oolmikecoolmikec"。

请计算至少需要移动多少次，可以使得n个字符串都变成相同。

## 样例 #1

### 输入

```
4
xzzwo
zwoxz
zzwox
xzzwo
```

### 输出

```
5
```

## 样例 #2

### 输入

```
2
molzv
lzvmo
```

### 输出

```
2
```

## 样例 #3

### 输入

```
3
kc
kc
kc
```

### 输出

```
0
```

## 样例 #4

### 输入

```
3
aa
aa
ab
```

### 输出

```
-1
```

# AI分析结果

### 题解综合分析与结论
这些题解的核心思路都是通过枚举一个字符串作为目标，然后尝试将其他字符串通过移动操作变成该目标字符串，最后取最小移动次数。
- **思路对比**：大部分题解采用暴力枚举，将字符串复制一份化环为链，利用 `find` 函数查找目标字符串；部分题解增加了字符种类和数量的判断，提前排除无解情况；还有题解使用 `map` 记录所有可能的字符串变换情况。
- **算法要点**：主要算法是枚举和字符串查找，利用 `find` 函数提高查找效率。
- **解决难点**：难点在于判断是否有解以及计算最小移动次数。通过化环为链和 `find` 函数解决了字符串循环移动的问题，若某个字符串无法通过移动变成目标字符串则无解。

### 通用建议与扩展思路
- 对于此类字符串操作问题，化环为链是一种常用技巧，可将循环问题转化为线性问题。
- 利用 `find` 函数或 `map` 等数据结构可以简化字符串查找和记录操作。
- 对于无解情况，可以通过比较字符种类和数量提前判断，减少不必要的计算。

### 重点代码及核心实现思想
以下是利用化环为链和 `find` 函数的核心代码示例：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n, ans = 2147483647;
string a[55], b[55];
int main() {
    cin >> n;
    for (int i = 0; i < n; i++) {
        cin >> a[i];
        b[i] = a[i] + a[i]; // 化环为链
    }
    for (int i = 0; i < n; i++) {
        int tmp = 0;
        for (int j = 0; j < n; j++) {
            if (b[j].find(a[i]) != -1) // 找到了，有解
                tmp += b[j].find(a[i]); // 记录答案
            else { // 无解
                cout << "-1";
                return 0;
            }
        }
        ans = min(ans, tmp); // 取最小值
    }
    cout << ans << "\n";
    return 0;
}
```
核心实现思想：先将每个字符串复制一份，然后枚举每个字符串作为目标，在复制后的字符串中查找目标字符串，若能找到则累加移动次数，若找不到则无解。最后取所有移动次数的最小值。

### 同类型拓展题目
- [P1125 笨小猴](https://www.luogu.com.cn/problem/P1125)：考察字符串处理和字符统计。
- [P1055 ISBN 号码](https://www.luogu.com.cn/problem/P1055)：涉及字符串的分割、提取和计算。
- [P1308 统计单词数](https://www.luogu.com.cn/problem/P1308)：需要对字符串进行单词匹配和计数。

### 个人心得摘录与总结
- **御坂13558号**：提到把字符串看作字符环，用单向循环链表思考方便，但实际代码中不需要实现。在判断最小次数时，一开始思路错误，成品代码是在第二层循环内复制 `j` 字符串进行查找。总结：在解决字符串循环问题时，可以从环的角度思考，同时要注意代码实现的细节。
- **Zyh_AKer**：认为这道简单的字符串模拟题评绿题有些意外。总结：题目难度的评级可能与个人的能力和经验有关，不要被题目评级所局限。

---
处理用时：27.93秒
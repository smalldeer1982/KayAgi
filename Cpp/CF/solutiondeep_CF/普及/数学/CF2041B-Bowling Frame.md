# 题目信息

# Bowling Frame

## 题目描述

题面涉及到政治敏感内容，请在 Codeforces 查阅。

## 样例 #1

### 输入

```
4
1 2
3 2
3 3
12 0```

### 输出

```
2
2
3
4```

# AI分析结果

### 题目内容重写

#### 题目描述

给定 $w$ 个白点和 $b$ 个黑点，拼成一个三角形，要求三角形的第 $i$ 行有 $i$ 个**同色**的点，最大化三角形的行数。

多组测试数据，$1\leq t\leq 100$。

$0\leq w,b\leq 10^9$。

#### 样例 #1

##### 输入

```
4
1 2
3 2
3 3
12 0
```

##### 输出

```
2
2
3
4
```

### 题解分析与结论

#### 综合分析

1. **核心思路**：所有题解都围绕如何最大化三角形的行数展开，核心思路是通过计算三角形所需的总点数，找到满足条件的最大行数。
2. **算法要点**：
   - **等差数列求和**：计算行数为 $n$ 的三角形所需的总点数 $S(n) = \frac{n(n+1)}{2}$。
   - **二分查找**：通过二分查找找到满足 $S(n) \leq w + b$ 的最大 $n$。
   - **数学归纳法**：证明在满足条件的情况下，总能找到一种颜色分配方式。
3. **解决难点**：主要难点在于如何证明在满足总点数的情况下，总能找到一种颜色分配方式，使得每一行的点都是同色的。

#### 所选高星题解

1. **作者：沉石鱼惊旋 (4星)**
   - **关键亮点**：通过数学归纳法详细证明了在满足总点数的情况下，总能找到一种颜色分配方式，使得每一行的点都是同色的。
   - **代码实现**：未提供完整代码，但思路清晰，逻辑严谨。

2. **作者：mnlbnkk (4星)**
   - **关键亮点**：通过二分查找快速找到满足条件的最大行数，代码简洁高效。
   - **代码实现**：
     ```cpp
     ll tmp = a + b, lt = 1, rt = N - 1, ans;
     while (lt <= rt) {
         ll mid = lt + rt >> 1;
         if (num[mid] > tmp) rt = mid - 1;
         else lt = mid + 1, ans = mid;
     }
     cout << ans << endl;
     ```

3. **作者：queenbee (4星)**
   - **关键亮点**：通过求根公式直接计算最大行数，时间复杂度为 $O(1)$，代码简洁。
   - **代码实现**：
     ```cpp
     ans = (-1 + sqrt(1 + 8 * (w + b))) / 2.0;
     cout << floor(ans) << endl;
     ```

#### 最优关键思路

- **数学归纳法**：证明在满足总点数的情况下，总能找到一种颜色分配方式，使得每一行的点都是同色的。
- **二分查找**：通过二分查找快速找到满足条件的最大行数，时间复杂度为 $O(\log n)$。
- **求根公式**：通过求根公式直接计算最大行数，时间复杂度为 $O(1)$。

#### 可拓展之处

- **类似问题**：类似的问题可以扩展到其他形状的拼图，如正方形、矩形等，同样需要考虑颜色分配和最大化行数。
- **算法套路**：等差数列求和、二分查找、数学归纳法等在类似问题中都有广泛应用。

#### 推荐题目

1. [P1044 栈](https://www.luogu.com.cn/problem/P1044)
2. [P1057 传球游戏](https://www.luogu.com.cn/problem/P1057)
3. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)

#### 个人心得摘录

- **沉石鱼惊旋**：通过数学归纳法详细证明了颜色分配的可行性，逻辑严谨，思路清晰。
- **mnlbnkk**：通过二分查找快速找到满足条件的最大行数，代码简洁高效。
- **queenbee**：通过求根公式直接计算最大行数，时间复杂度为 $O(1)$，代码简洁。

---
处理用时：29.82秒
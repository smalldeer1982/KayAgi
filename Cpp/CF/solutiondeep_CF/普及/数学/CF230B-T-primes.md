# 题目信息

# T-primes

## 题目描述

我们知道质数是只有两个不同的正数因数的正整数。相似的，我们把一个正整数 _t_ 叫做 T质数，如果 _t_ 恰好有三个不同的正整数因数。 

你被给了一个含有 _n_ 个正整数的数组。你要给其中所有的数判断它是否是 T质数。

## 说明/提示

给定样例有三个数。第一个数4恰好有三个因数--1、2和4，因此对这个数字输出YES。第二个数5有两个因数（1和5），第三个数6有四个因数（1、2、3和6），因此这两个数的答案是NO。

## 样例 #1

### 输入

```
3
4 5 6
```

### 输出

```
YES
NO
NO
```

# AI分析结果

### 题目内容重写
# T质数

## 题目描述

我们知道质数是只有两个不同的正数因数的正整数。相似的，我们把一个正整数 _t_ 叫做 T质数，如果 _t_ 恰好有三个不同的正整数因数。 

你被给了一个含有 _n_ 个正整数的数组。你要给其中所有的数判断它是否是 T质数。

## 说明/提示

给定样例有三个数。第一个数4恰好有三个因数--1、2和4，因此对这个数字输出YES。第二个数5有两个因数（1和5），第三个数6有四个因数（1、2、3和6），因此这两个数的答案是NO。

## 样例 #1

### 输入

```
3
4 5 6
```

### 输出

```
YES
NO
NO
```

### 综合分析与结论

本题的核心在于判断一个数是否为 T质数，即该数恰好有三个不同的正整数因数。通过分析，可以发现 T质数必须是一个完全平方数，并且其平方根必须是一个质数。因此，解题思路主要分为两步：
1. 判断该数是否为完全平方数。
2. 判断该数的平方根是否为质数。

### 所选高星题解

#### 题解1：Siyuan (5星)
**关键亮点：**
- 使用了线性筛法预处理质数，优化了质数判断的效率。
- 通过预处理完全平方数，进一步减少了计算量。
- 代码结构清晰，逻辑严谨。

**核心代码：**
```cpp
void prepare()
{
    for(int i=1;i*i<=MAX;i++)  sqr[i*i]=1;
    for(int i=4;i<=MAX;i+=2)  np[i]=1;
    tot=1;  p[1]=2;  np[0]=np[1]=1;
    for(int i=3;i<=MAX;i+=2)
    {
        if(!np[i])  p[++tot]=i;
        for(int j=1;j<=tot&&i*p[j]<=MAX;j++)
        {
            np[i*p[j]]=1;
            if(i%p[j]==0)  break;
        }
    }
}
```
**个人心得：**
- 通过线性筛法预处理质数，大大减少了质数判断的时间复杂度。

#### 题解2：Laser_Crystal (4星)
**关键亮点：**
- 使用了6的优化技巧，减少了质数判断的次数。
- 代码简洁，易于理解。

**核心代码：**
```cpp
bool ss(long long a)
{
    if(a==1)return 0;
    if(a==2||a==3)return 1;
    if(a%6!=1&&a%6!=5)return 0;
    for(long long i=5; i<=sqrt(a); i+=6)
        if(a%i==0||a%(i+2)==0)return 0;
    return 1;
}
```
**个人心得：**
- 通过6的优化技巧，减少了质数判断的次数，提高了效率。

#### 题解3：米奇奇米 (4星)
**关键亮点：**
- 通过唯一分解定理，推导出 T质数的性质。
- 代码实现简洁，逻辑清晰。

**核心代码：**
```cpp
inline bool pd(int x){
    if(x<2) return false;
    for(int i=2;i*i<=x;i++)
        if(x%i==0) return false;
    return true;
}
```
**个人心得：**
- 通过唯一分解定理，推导出 T质数的性质，简化了问题。

### 最优关键思路与技巧
1. **线性筛法**：通过线性筛法预处理质数，可以大大减少质数判断的时间复杂度。
2. **完全平方数判断**：通过判断一个数是否为完全平方数，可以快速筛选出可能的 T质数。
3. **6的优化技巧**：在质数判断中，利用6的优化技巧，可以减少质数判断的次数，提高效率。

### 可拓展之处
- **类似题目**：可以扩展到判断一个数是否为其他特定类型的数，如四质数（恰好有四个因数的数）。
- **算法优化**：可以进一步优化质数判断的算法，如使用 Miller-Rabin 算法进行质数判断。

### 推荐题目
1. [P3383 【模板】线性筛素数](https://www.luogu.com.cn/problem/P3383)
2. [P1217 [USACO1.5]回文质数 Prime Palindromes](https://www.luogu.com.cn/problem/P1217)
3. [P1075 质因数分解](https://www.luogu.com.cn/problem/P1075)

---
处理用时：34.96秒
# 题目信息

# System Administrator

## 题目描述

给定 $n$ 个顶点，可以在这些顶点之间连接 $m$ 条双向边，要求连接后整个图联通，并且去掉 $v$ 点后整个图不连通。

若有解，输出所连得的 $m$ 条边，随意输出一种方案即可；若无解，输出 ```-1```。

## 说明/提示

- $n, m \le {10}^5$

Translated by 稀神探女

## 样例 #1

### 输入

```
5 6 3
```

### 输出

```
1 2
2 3
3 4
4 5
1 3
3 5
```

## 样例 #2

### 输入

```
6 100 1
```

### 输出

```
-1
```

# AI分析结果

### 题目内容（已为中文，无需翻译）
【题目内容】
# System Administrator

## 题目描述

给定 $n$ 个顶点，可以在这些顶点之间连接 $m$ 条双向边，要求连接后整个图联通，并且去掉 $v$ 点后整个图不连通。

若有解，输出所连得的 $m$ 条边，随意输出一种方案即可；若无解，输出 ```-1```。

## 说明/提示

- $n, m \le {10}^5$

Translated by 稀神探女

## 样例 #1

### 输入

```
5 6 3
```

### 输出

```
1 2
2 3
3 4
4 5
1 3
3 5
```

## 样例 #2

### 输入

```
6 100 1
```

### 输出

```
-1
```

### 综合分析与结论
这些题解的核心思路基本一致，先判断是否有解，再进行图的构造。判断无解的条件为边数小于 $n - 1$ 或大于 $\frac{(n - 1)(n - 2)}{2} + 1$ 。构造时，先使用 $n - 1$ 条边将除 $v$ 外的点与 $v$ 相连构成菊花图，保证图的连通性和 $v$ 为割点；若还有剩余边，则在除 $v$ 和一个单独点外的 $n - 2$ 个点中构造完全图。

### 所选题解
- **作者：fls233666（5星）**
    - **关键亮点**：思路清晰，代码简洁，对无解条件和构造过程的解释详细。
    - **核心代码**：
```cpp
scanf("%d%d%d",&n,&m,&vis);
if(m<n-1||m>(n-1)*(n-2)/2+1){ //先判无解
    printf("-1");
    return 0;
}
m-=n-1;
for(rgt i=1;i<=n;i++)  //构造这n-1条边
    if(i!=vis)
        printf("%d %d\n",vis,i);
if(m){  //如果还有边可以用
    //构造完全图
    for(rgt i=2;i<n;i++){
        if(i==vis)
            continue;
        for(rgt j=1;j<i;j++){
            if(j==vis)
                continue;
            printf("%d %d\n",i,j);
            m--;
            if(!m)  //边用完直接结束
                return 0;
        }
    }
}
```
- **作者：Xiphi（4星）**
    - **关键亮点**：思路简洁明了，代码实现较为直观。
    - **核心代码**：
```cpp
cin>>n>>m>>v;
if(n-1>m||m>(n-1)*(n-2)/2+1){
    puts("-1");
    return 0;
}
for(int i=1;i<n;++i){//先用n-1条边把所有点连起来，构成一个菊花图
    if(i==v) continue;
    cout<<i<<' '<<v<<'\n';
}
m-=(n-1);
for(int i=1;i<n&&m;i++)  
{  
    for(int j=i+1;j<n&&m;j++)  
    {  
        if(i!=v&&j!=v)  
        {  
            cout<<i<<' '<<j<<'\n'; 
            m--;  
        }  
    } 
}
```
- **作者：SpringFullGarden（4星）**
    - **关键亮点**：思路清晰，对无解条件和构造过程的描述准确。
    - **核心代码**：
```cpp
scanf("%d%d%d", &n, &m, &v);
if((n - 1) * (n - 2) / 2 + 1 < m || m < n - 1) {
    printf("-1");
    return 0; 
}
for(int i = 1; i <= n; i++) 
    if(i!= v) printf("%d %d\n", v, i), m--;
if(!m) return 0;
for(int i = 2; i <= n; i++)
    for(int j = 1; j < i; j++) {
        if(i!= v && j!= v) printf("%d %d\n", i, j), m--;
        if(!m) return 0;
    }
```

### 最优关键思路或技巧
- **无解判断**：通过计算最少边数 $n - 1$ 和最多边数 $\frac{(n - 1)(n - 2)}{2} + 1$ 来判断是否有解。
- **图的构造**：先构造菊花图保证连通性和 $v$ 为割点，再在剩余点中构造完全图消耗多余边。

### 可拓展之处
同类型题可能会要求构造特定性质的图，如二分图、平面图等，解题思路类似，先判断是否有解，再进行构造。

### 推荐题目
1. [P1113 杂务](https://www.luogu.com.cn/problem/P1113)：图的拓扑排序，可用于处理有依赖关系的任务安排。
2. [P1341 无序字母对](https://www.luogu.com.cn/problem/P1341)：图的欧拉路径问题，需要构造满足条件的路径。
3. [P2731 骑马修栅栏](https://www.luogu.com.cn/problem/P2731)：图的欧拉回路问题，与本题的构造思想有一定关联。

### 个人心得摘录与总结
- **lixiao189**：为想贪心思路花了一整天，强调了思考贪心策略的难度。
总结：构造题的贪心策略可能需要花费较多时间思考，要耐心分析问题。 

---
处理用时：29.66秒
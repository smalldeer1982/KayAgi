# 题目信息

# Friends

## 题目描述

有一天，一个叫做伊戈尔-凯的人放弃编程，转攻数学题。一个深秋的夜晚，他坐在桌旁读书，想着数学问题。
书上有着一段话吸引了他的注意：“在任六人中有三个人互相认识或互相不认识。”
伊戈尔完全无法理解为什么至少有六个人。“那对不起，我觉得五个人也一样，”他脑子里开始胡思乱想“让我试试...马克思，利亚，瓦娃--他们互相认识，额..再加一个迪玛和欧莱格，对瓦娃来说他们三个互不认识！哈哈哈哈哈，这个定理就是一个渣渣。”
伊戈尔带着他的5个朋友，让他们记下来，他们中谁互为朋友。现在他想看看这五个人是否真的认识三对或三对不认识的人。

## 样例 #1

### 输入

```
4
1 3
2 3
1 4
5 3
```

### 输出

```
WIN
```

## 样例 #2

### 输入

```
5
1 2
2 3
3 4
4 5
5 1
```

### 输出

```
FAIL
```

# AI分析结果

### 综合分析与结论
这些题解主要围绕判断含 5 个点与 m 条线的无向图中是否至少有 3 个点连通或不连通展开。思路主要分为两类：
- **度数统计与分类讨论**：统计每个点的度数，根据度数情况判断结果。当所有点度数都为 2 时输出 `FAIL`，否则输出 `WIN`。此方法时间复杂度为 $O(m)$。
- **暴力枚举**：枚举所有可能的三人组合，判断这三人是否都认识或都不认识。时间复杂度为 $O(5^3)$。

### 所选题解
- **作者：lrq090403（5 星）**
    - **关键亮点**：思路清晰，通过对 $a_1$ 点的度数进行详细分类讨论，结合图形直观展示，最后得出简洁的判断条件。代码实现简洁明了，使用异或运算 `^` 简化判断。
    - **重点代码**：
```cpp
#include<iostream>
using namespace std;
int d[6],m,i,a,b;
int main(){
    cin>>m;
    for(i=1;i<=m;++i){
        cin>>a>>b;
        ++d[a],++d[b];
    }
    for(i=1;i<=5;++i)
        if(d[i]^2){
            printf("WIN");
            return 0;
        }
    printf("FAIL");
    return 0;
}
```
核心思想：先统计每个点的度数，再遍历判断是否存在度数不为 2 的点，若存在则输出 `WIN`，否则输出 `FAIL`。
- **作者：Farkas_W（4 星）**
    - **关键亮点**：思路直接，采用暴力枚举的方法，明确给出核心判断代码。代码中使用了快速读入函数，提高输入效率。
    - **重点代码**：
```cpp
for(re i=1;i<=3;i++) {
    for(re j=i+1;j<=4;j++) {
        for(re k=j+1;k<=5;k++)
            if((a[i][j]&&a[i][k]&&a[j][k])||(!a[i][j]&&!a[i][k]&&!a[j][k]))
                flag=1;
    }
}
if(flag)puts("WIN");else puts("FAIL");
```
核心思想：枚举所有三人组合，判断是否存在三人都认识或都不认识的情况，若存在则标记 `flag` 为 1，最后根据 `flag` 的值输出结果。
- **作者：人间凡人（4 星）**
    - **关键亮点**：思路简单直接，使用二维数组表示两人之间的认识关系，通过三重循环枚举所有三人组合进行判断。代码简洁易懂。
    - **重点代码**：
```cpp
for(int i=1;i<=5;i++)
    for(int j=i+1;j<=5;j++)
        for(int k=j+1;k<=5;k++){
            if(f[i][j]&&f[j][k]&&f[i][k]){
                printf("WIN\n");
                return 0;
            }
            if(!f[i][j]&&!f[j][k]&&!f[i][k]){
                printf("WIN\n");
                return 0;
            }
        }
printf("FAIL\n");
```
核心思想：枚举所有三人组合，判断是否存在三人都认识或都不认识的情况，若存在则输出 `WIN`，否则输出 `FAIL`。

### 最优关键思路或技巧
- **度数统计与分类讨论**：通过对图中节点度数的分析，将复杂的连通性判断问题简化为对节点度数的简单判断，大大降低了时间复杂度。
- **暴力枚举**：在数据规模较小时，直接枚举所有可能的情况，简单直接，避免了复杂的算法设计。

### 可拓展之处
同类型题或类似算法套路：
- 对于图的连通性判断问题，可拓展到更大规模的图，此时可能需要使用更高效的图算法，如深度优先搜索（DFS）、广度优先搜索（BFS）等。
- 可以改变判断条件，如判断是否存在 k 个点连通或不连通，需要根据具体情况调整算法。

### 推荐题目
- [P1113 杂务](https://www.luogu.com.cn/problem/P1113)：涉及图的拓扑排序，可用于加深对图中节点关系的理解。
- [P1330 封锁阳光大学](https://www.luogu.com.cn/problem/P1330)：图的染色问题，需要判断图中节点的连通性和颜色关系。
- [P2853 [USACO06DEC]Cow Picnic S](https://www.luogu.com.cn/problem/P2853)：涉及图的遍历和节点可达性问题。

### 个人心得摘录与总结
- **作者：Cutler**：一开始想用并查集解决问题，但发现不适用，因为这里的认识关系不具有传递性。总结：在选择算法时要仔细分析题目条件，不能盲目套用算法。
- **作者：Farkas_W**：一开始以为是并查集，后来发现数据范围小可以暴力枚举。总结：要根据数据范围选择合适的算法，数据规模小时暴力枚举可能是简单有效的方法。

---
处理用时：27.95秒
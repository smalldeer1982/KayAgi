# 题目信息

# Milking cows

## 题目描述

Iahub在农场帮助他的祖父，今天他必须挤牛奶。农场里有$n$只牛左成一排，从左到右编号$1$到$n$。每只牛不是面向左边就是面向右边。当Iahub挤某一只牛的牛奶时，所有看得到这当前只牛的牛都会因为受到惊吓而损失一单位量的牛奶。面向左边的牛可以看到它左边的所有牛（不包括自己），面向右边的牛可以看到它右边的所有牛（不包括自己）。被惊吓过的牛可以再次被惊吓。被挤过奶的牛不会再被惊吓。我们假定每一头牛可以生产无限量的牛奶。

Iahub可以决定挤牛奶的顺序，但他必须每头牛都要挤。Iahub想损失尽可能少的牛奶。请输出最少的牛奶损失量。

## 说明/提示

在第一个样例中,Iahub按照下面的顺序可以使得牛奶损失最少：$3,4,2,1$。当他挤牛$3$时，牛$4$会损失$1$单位牛奶。在此之后，没有牛奶损失。

Translated by @Imakf

## 样例 #1

### 输入

```
4
0 0 1 0
```

### 输出

```
1```

## 样例 #2

### 输入

```
5
1 0 1 0 1
```

### 输出

```
3```

# AI分析结果

### 题目翻译
#### 挤牛奶

#### 题目描述
Iahub在农场帮助他的祖父，今天他必须挤牛奶。农场里有$n$只牛排成一排，从左到右编号为$1$到$n$。每只牛不是面向左边就是面向右边。当Iahub挤某一只牛的牛奶时，所有能看到这只当前牛的牛都会因为受到惊吓而损失一单位量的牛奶。面向左边的牛可以看到它左边的所有牛（不包括自己），面向右边的牛可以看到它右边的所有牛（不包括自己）。被惊吓过的牛可以再次被惊吓。被挤过奶的牛不会再被惊吓。我们假定每一头牛可以生产无限量的牛奶。

Iahub可以决定挤牛奶的顺序，但他必须每头牛都要挤。Iahub想损失尽可能少的牛奶。请输出最少的牛奶损失量。

#### 说明/提示
在第一个样例中，Iahub按照下面的顺序可以使得牛奶损失最少：$3,4,2,1$。当他挤牛$3$时，牛$4$会损失$1$单位牛奶。在此之后，没有牛奶损失。

#### 样例 #1
##### 输入
```
4
0 0 1 0
```
##### 输出
```
1
```

#### 样例 #2
##### 输入
```
5
1 0 1 0 1
```
##### 输出
```
3
```

### 题解综合分析与结论
这些题解主要围绕贪心算法来解决问题，核心思路是通过合理安排挤奶顺序来减少牛奶损失。
- **思路对比**：多数题解采用贪心策略，即把向左看的牛从右到左挤奶或把向右看的牛从左到右挤奶，以减少损失。Wf_yjqd的题解考虑从左往右和从右往左各模拟一次取最小值；Instudy的题解则将问题转化为逆序对问题，使用树状数组求解。
- **算法要点**：大部分题解利用前缀和思想线性统计每头向左看的牛前面向右看牛的数量，从而计算总损失。Instudy的题解使用树状数组来计算逆序对。
- **解决难点**：本题的难点在于找到合适的挤奶顺序以最小化损失，多数题解通过贪心证明了两种挤奶顺序结果等价，只需计算一种情况。Instudy的题解则需要理解逆序对与本题的关联。

### 题解评分
- 花里心爱：5星。思路清晰，代码简洁，对贪心算法的解释和证明详细。
- Buried_Dream：3星。思路有一定阐述，但代码包含较多不必要的定义，影响可读性。
- 巫妖王：4星。思路解释详细，代码使用Pascal语言，对思路的说明有帮助。
- Wf_yjqd：3星。思路正确，但代码未对两种模拟情况的等价性进行说明。
- Qerucy：4星。思路清晰，代码简洁，使用前缀和求解。
- 违规用户名U56916：4星。对贪心思路的解释较详细，代码简洁。
- Instudy：2星。将问题转化为逆序对问题，但思路复杂，代码实现难度大，且未清晰说明与本题的联系。

### 所选题解
- **花里心爱（5星）**
    - **关键亮点**：思路清晰，对贪心算法的正确性进行了证明，代码简洁易懂。
    - **核心代码**：
```cpp
#include<cstdio>
#include<iostream>
using namespace std;
int n,t;
long long cnt,sum;
int main(){
    scanf("%d",&n);
    for(int i=1;i<=n;++i){
        scanf("%d",&t);
        if(t)++cnt;
        else sum+=cnt;
    }
    cout<<sum<<endl;
    return 0;
}
```
核心实现思想：使用前缀和思想，遍历牛的方向数组，统计向左看的牛前面向右看牛的数量，若当前牛向右看，则将前面向左看牛的数量累加到答案中。

- **巫妖王（4星）**
    - **关键亮点**：对贪心思路的解释详细，通过样例辅助理解。
    - **核心代码**：
```pascal
var n,t,i:longint;
    cnt,sum:int64;
begin
 readln(n);
  for i:=1 to n do
  begin
   read(t);
   if t=1 then inc(cnt);
   else sum:=sum+cnt;
  end;
 writeln(sum);
end.
```
核心实现思想：与花里心爱题解思路一致，使用前缀和统计向左看的牛前面向右看牛的数量，累加得到总损失。

- **Qerucy（4星）**
    - **关键亮点**：思路清晰，代码简洁，明确指出使用前缀和求解。
    - **核心代码**：
```cpp
#include<cstdio>
using namespace std;
#define int long long
int n;
int x;
int sum;
int ans;
signed main(){
	scanf("%lld",&n);
	for(int i=1;i<=n;i++){
		scanf("%lld",&x);
		if(x) sum++;
		else ans+=sum;
	}
	printf("%lld",ans);
	return 0;
}
```
核心实现思想：同样使用前缀和思想，遍历数组，统计向左看的牛前面向右看牛的数量，累加得到总损失。

### 最优关键思路或技巧
贪心算法和前缀和思想是解决本题的关键。通过合理安排挤奶顺序，利用前缀和线性统计损失，能高效解决问题。

### 拓展思路
同类型题或类似算法套路：可以拓展到更多方向、更多规则的动物受惊吓问题，依然可以考虑贪心策略。对于一些涉及顺序安排以优化结果的问题，都可以尝试使用贪心算法。

### 推荐洛谷题目
1. P1223 排队接水：通过合理安排排队顺序使总等待时间最短，考察贪心算法。
2. P1094 纪念品分组：对物品进行分组，使每组价值之和不超过一定限制，使用贪心策略。
3. P2240 硬币购物：在一定的硬币数量和价值下，求凑出指定金额的最少硬币数，可结合贪心和动态规划。

### 个人心得
本题题解中未包含个人调试经历、踩坑教训、顿悟感想等内容。

---
处理用时：37.07秒
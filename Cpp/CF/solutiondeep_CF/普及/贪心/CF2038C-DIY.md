# 题目信息

# DIY

## 题目描述

给定一个长度为 $n$ 的整数数列 $a$，下标从 $1$ 到 $n$。你需要从 $a$ 中选择 $8$ 个下标互不相同的数 $x1,y1,x2,y2,x3,y3,x4,y4$，并使 $(x_1,y_1),(x_2,y_2),(x_3,y_3),(x_4,y_4)$ 成为一个长方形的四个点的坐标。请构造一种方案使得此长方形面积最大，或报告无解。

## 样例 #1

### 输入

```
3
16
-5 1 1 2 2 3 3 4 4 5 5 6 6 7 7 10
8
0 0 -1 2 2 1 1 3
8
0 0 0 0 0 5 0 5```

### 输出

```
YES
1 2 1 7 6 2 6 7
NO
YES
0 0 0 5 0 0 0 5```

# AI分析结果

### 题目内容重写
给定一个长度为 $n$ 的整数数列 $a$，下标从 $1$ 到 $n$。你需要从 $a$ 中选择 $8$ 个下标互不相同的数 $x1,y1,x2,y2,x3,y3,x4,y4$，并使 $(x_1,y_1),(x_2,y_2),(x_3,y_3),(x_4,y_4)$ 成为一个长方形的四个点的坐标。请构造一种方案使得此长方形面积最大，或报告无解。

### 综合分析与结论
本题的核心在于如何从给定的数列中选择8个数，构成一个长方形的四个顶点，并且使得长方形的面积最大。多个题解都采用了类似的思路：首先统计每个数出现的次数，筛选出出现次数大于等于2的数，然后对这些数进行排序，选择最小和最大的数对来构成长方形的顶点。难点在于如何高效地筛选和排序，以及如何确保选择的数对能够构成一个合法的长方形。

### 所选高星题解

#### 题解1：作者：WangYongkai__AFO (4星)
**关键亮点：**
- 使用 `map` 统计每个数的出现次数，避免了数组越界的问题。
- 通过 `vector` 存储符合条件的数，并进行排序，选择最小和最大的数对来构成长方形的顶点。
- 代码简洁，逻辑清晰。

**核心代码：**
```cpp
map<int,int>vis;
vector<int>e;
for(int i=1;i<=n;i++) {
    cin>>a[i],vis[a[i]]++;
    if(vis[a[i]]==2) {
        e.push_back(a[i]);
        vis[a[i]]=0;
    }
}
if(e.size()<4) {
    cout<<"No"<<'\n';
    continue;
}
sort(e.begin(),e.end());
int len=e.size();
cout<<"Yes"<<'\n';
cout<<e[len-1]<<' '<<e[len-2]<<' '<<e[len-1]<<' '<<e[0]<<' '; 
cout<<e[1]<<' '<<e[len-2]<<' '<<e[1]<<' '<<e[0]<<'\n';
```

#### 题解2：作者：jess1ca1o0g3 (4星)
**关键亮点：**
- 通过排序和贪心策略，选择最小和最大的数对来构成长方形的顶点。
- 考虑了数字个数的限制，确保选择的数对能够构成一个合法的长方形。
- 代码实现较为复杂，但逻辑严谨。

**核心代码：**
```cpp
sort(a+1,a+n+1);
int sum=0;
a[0]=1e9+5;
L(i,1,n,1){
    if(m[a[i]]>1&&a[i]!=a[i-1]){
        if(m[a[i]]<=3) sum+=2;
        else if(m[a[i]]<=5) sum+=4;
        else if(m[a[i]]<=7) sum+=6;
        else sum+=8;
    }
}
if(sum<8){
    printf("NO\n");
    return;
}
```

#### 题解3：作者：GCSG01 (4星)
**关键亮点：**
- 通过排序和贪心策略，选择最小和最大的数对来构成长方形的顶点。
- 考虑了重复数字的情况，确保选择的数对能够构成一个合法的长方形。
- 代码实现较为复杂，但逻辑严谨。

**核心代码：**
```cpp
sort(a+1,a+n+1);
int minn1=1e9+1,minn2=1e9+1,maxx1=-1e9-1,maxx2=-1e9-1,f=0;
int cnt=0;
for(int i=1;i<=n;i++){
    if(a[i]!=a[i-1])cnt=0;
    cnt++;
    if(cnt>=2)cnt-=2,f++;
}
if(f<4){
    cout<<"NO\n";
    continue;
}
```

### 最优关键思路或技巧
1. **统计与筛选**：使用 `map` 统计每个数的出现次数，筛选出出现次数大于等于2的数。
2. **排序与选择**：对筛选出的数进行排序，选择最小和最大的数对来构成长方形的顶点。
3. **贪心策略**：通过贪心策略选择数对，确保长方形的面积最大。

### 可拓展之处
类似的问题可以扩展到三维空间中的长方体，或者更复杂的几何形状。此外，可以考虑在给定的点集中选择多个长方形，使得总面积最大。

### 推荐题目
1. [P1004 方格取数](https://www.luogu.com.cn/problem/P1004)
2. [P1006 传纸条](https://www.luogu.com.cn/problem/P1006)
3. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)

---
处理用时：32.26秒
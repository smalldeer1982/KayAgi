# 题目信息

# Party Lemonade

## 题目描述

题意

没有柠檬水的新年派对不是新年派对。像往常一样，你期待着客人，而柠檬水已经成为一种令人愉快的必需品。
你最喜欢的商店卖 n 种不同价格的装在不同瓶子里的柠檬水。一瓶第 i 种柠檬水，体积为2^{i-1}，价格为c_{i}卢布。商店里的每种柠檬水可以被认为有无限瓶。
你想要买至少 L 升的柠檬水，你需要花费多少卢布？

## 样例 #1

### 输入

```
4 12
20 30 70 90
```

### 输出

```
150
```

## 样例 #2

### 输入

```
4 3
10000 1000 100 10
```

### 输出

```
10
```

## 样例 #3

### 输入

```
4 3
10 100 1000 10000
```

### 输出

```
30
```

## 样例 #4

### 输入

```
5 787787787
123456789 234567890 345678901 456789012 987654321
```

### 输出

```
44981600785557577
```

# AI分析结果

### 题目内容重写
# 派对柠檬水

## 题目描述

没有柠檬水的新年派对不是新年派对。像往常一样，你期待着客人，而柠檬水已经成为一种令人愉快的必需品。
你最喜欢的商店卖 n 种不同价格的装在不同瓶子里的柠檬水。一瓶第 i 种柠檬水，体积为2^{i-1}，价格为c_{i}卢布。商店里的每种柠檬水可以被认为有无限瓶。
你想要买至少 L 升的柠檬水，你需要花费多少卢布？

## 样例 #1

### 输入

```
4 12
20 30 70 90
```

### 输出

```
150
```

## 样例 #2

### 输入

```
4 3
10000 1000 100 10
```

### 输出

```
10
```

## 样例 #3

### 输入

```
4 3
10 100 1000 10000
```

### 输出

```
30
```

## 样例 #4

### 输入

```
5 787787787
123456789 234567890 345678901 456789012 987654321
```

### 输出

```
44981600785557577
```

### 综合分析与结论
本题的核心在于如何通过贪心策略和二进制分解来优化购买柠檬水的成本。由于柠檬水的体积是2的幂次方，因此可以将问题转化为二进制问题，通过预处理每种体积的最小成本，然后从高位到低位进行贪心选择。

### 所选高分题解

#### 题解1：作者：Eric_jx (赞：6)
**星级：5星**
**关键亮点：**
- 通过预处理每种体积的最小成本，确保每次选择都是最优的。
- 从高位到低位进行贪心选择，确保整体成本最小。
- 代码简洁明了，逻辑清晰。

**核心代码：**
```cpp
for(int i=1;i<n;i++){
    c[i]=min(c[i],c[i-1]*2);
}
for(int i=n;i<cnt;i++){
    c[i]=c[i-1]*2;
}
for(int i=0;i<max(n,cnt);i++){
    ans=min(ans,c[i]);
    if(num[i]==1) ans+=c[i];
}
```
**实现思想：**
通过预处理确保每种体积的最小成本，然后从高位到低位进行贪心选择，确保整体成本最小。

#### 题解2：作者：Overstars (赞：4)
**星级：4星**
**关键亮点：**
- 使用动态规划预处理每种体积的最小成本。
- 从高位到低位进行贪心选择，确保整体成本最小。
- 代码结构清晰，逻辑严谨。

**核心代码：**
```cpp
dp[0]=c[0];
for(int i=1;i<n;i++)//购买2^i最小代价
    dp[i]=min(c[i],dp[i-1]*2);
for(ll i=n-1;i>=0;i--){
    ll des=l/(1ll<<i);
    sum+=des*dp[i];//累计代价
    l&=(1<<i)-1;//保留低位
    ans=min(ans,sum+(l>0)*dp[i]);
}
```
**实现思想：**
通过动态规划预处理每种体积的最小成本，然后从高位到低位进行贪心选择，确保整体成本最小。

#### 题解3：作者：CheerJustice (赞：3)
**星级：4星**
**关键亮点：**
- 通过二进制分解和贪心策略，确保每次选择都是最优的。
- 代码简洁明了，逻辑清晰。
- 特别处理了购买超过L升的情况。

**核心代码：**
```cpp
for(int i=0;i<n;++i){
    c[i]=min(c[i],c[i-1]<<1);
}
for(int i=n;i<len;++i)c[i]=c[i-1]<<1;
for(int i=0;i<max(n,len);++i){
    ans=min(ans,c[i]);
    if(num[i])ans+=c[i];
}
```
**实现思想：**
通过预处理确保每种体积的最小成本，然后从高位到低位进行贪心选择，确保整体成本最小。

### 最优关键思路或技巧
1. **预处理最小成本**：通过动态规划或贪心策略预处理每种体积的最小成本，确保每次选择都是最优的。
2. **二进制分解**：将问题转化为二进制问题，从高位到低位进行贪心选择，确保整体成本最小。
3. **特别处理超过L升的情况**：在贪心选择时，考虑购买超过L升的情况，确保整体成本最小。

### 可拓展之处
类似的问题可以扩展到其他体积为幂次方的物品购买问题，如购买不同容量的瓶子、箱子等。通过二进制分解和贪心策略，可以有效地解决这类问题。

### 推荐题目
1. [P1048 采药](https://www.luogu.com.cn/problem/P1048)
2. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)
3. [P1064 金明的预算方案](https://www.luogu.com.cn/problem/P1064)

### 个人心得总结
在处理类似问题时，预处理和贪心策略的结合可以大大简化问题的复杂度。通过二进制分解，可以将问题转化为更易处理的形式，从而高效地找到最优解。

---
处理用时：37.84秒
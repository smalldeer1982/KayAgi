# 题目信息

# Position in Fraction

## 题目描述

给你三个整数 $a,b,c$，问 $\dfrac{a}{b}$ 的小数部分第几位是 $c$，如果无法找到，请输出 `-1`。

## 说明/提示

对于 $100\%$ 的数据：$1\le a<b\le 10^5,0\le c\le 9$。

## 样例 #1

### 输入

```
1 2 0
```

### 输出

```
2```

## 样例 #2

### 输入

```
2 3 7
```

### 输出

```
-1```

# AI分析结果

### 综合分析与结论
这些题解主要围绕模拟除法过程来确定 $\frac{a}{b}$ 的小数部分中数字 $c$ 的位置。各题解思路大致相同，但在细节处理和代码实现上有所差异。

#### 思路对比
- 多数题解通过模拟竖式除法，不断将 $a$ 乘以 10 后除以 $b$ 得到小数位，同时记录余数，当余数重复时判断出现循环节。
- 部分题解先将分数化为最简形式，但在本题数据范围内并非必要操作。
- 有题解使用 Java 的 `BigDecimal` 进行高精度处理，但存在精度设置和字符串操作，相对复杂。

#### 算法要点
- 模拟除法：不断将 $a$ 乘以 10 后除以 $b$，得到商和余数，商即为当前小数位。
- 循环判断：使用数组记录余数是否出现过，若余数重复则出现循环节。

#### 难点解决
- 循环节判断：通过记录余数是否重复来判断是否出现循环节。
- 精度问题：避免使用浮点数除法，采用模拟除法过程避免精度误差。

#### 评分
- **fls233666**：5 星。思路清晰，代码简洁，对循环节判断的解释详细。
- **FP·荷兰猪**：4 星。思路正确，代码实现合理，但先化简分数增加了不必要的步骤。
- **ChenJr（C++ 部分）**：4 星。模拟思路清晰，但枚举位数的上限设置较随意。

### 所选题解
- **fls233666（5 星）**
    - 关键亮点：思路清晰，对循环节判断的解释详细，代码简洁易懂。
    - 核心代码：
```cpp
#include<iostream>
#include<cstdio>
using namespace std;
const int mxn = 1e5+5;
int a,b,c,d,cnt;
bool ap[mxn];
int main(){
    scanf("%d%d%d",&a,&b,&c);
    a%=b;
    cnt=1;
    while(1){
        a*=10;
        d=a/b;
        a%=b;
        if(d==c){
            printf("%d",cnt);
            return 0;
        }
        if(ap[a])
            break;
        ap[a]=true;
        cnt++;
    }
    printf("-1");
    return 0;
}
```
核心实现思想：模拟除法过程，用数组 `ap` 记录余数是否出现过，当余数重复或找到数字 $c$ 时结束循环。

- **FP·荷兰猪（4 星）**
    - 关键亮点：思路正确，代码实现合理。
    - 核心代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int gcd(int a,int b)
{
    int c;
    while(b)
    {
        c=a%b;
        a=b;
        b=c;
    }
    return a;
}
int main()
{
    int a,b,c,d,e,i;
    cin>>a>>b>>c;
    d=gcd(a,b);
    a/=d;
    b/=d;
    d=a/b;
    a-=d*b;
    a*=10;
    for(i=1;i<=100000;i++)
    {
        d=a/b;
        a-=d*b;
        if(d==c)
            break;
        a*=10;
    }
    if(i>100000)
        cout<<"-1"<<endl;
    else
        cout<<i<<endl;
    return 0;
}
```
核心实现思想：先将分数化为最简，然后模拟除法过程，最多进行 $b'$ 次除法，找到数字 $c$ 则输出位置，否则输出 -1。

- **ChenJr（C++ 部分，4 星）**
    - 关键亮点：模拟思路清晰。
    - 核心代码：
```cpp
#include <bits/stdc++.h>
#define maxn 500
using namespace std;
int main()
{
    int a,b,c;
    cin>>a>>b>>c;
    bool flag=true;
    for(int i=1;i<=maxn;i++){
        a*=10;
        if(a/b==c){
            cout<<i<<endl;
            flag=false;
            break;
        }
        a=a%b;
    }
    if(flag) puts("-1");
}
```
核心实现思想：模拟除法过程，枚举小数位数，找到数字 $c$ 则输出位置，否则输出 -1。

### 最优关键思路或技巧
- 使用数组记录余数是否出现过，判断循环节的出现。
- 模拟竖式除法过程，避免浮点数除法带来的精度问题。

### 拓展思路
同类型题可考虑不同的分数形式，如带分数、假分数等，或者增加对循环节长度、循环节内容的输出要求。类似算法套路可用于处理其他涉及小数计算和循环判断的问题。

### 推荐题目
1. [P1480 A/B Problem](https://www.luogu.com.cn/problem/P1480)：涉及整数除法和高精度计算。
2. [P2142 高精度减法](https://www.luogu.com.cn/problem/P2142)：高精度计算相关题目。
3. [P1045 麦森数](https://www.luogu.com.cn/problem/P1045)：涉及高精度幂运算和位数计算。

### 个人心得摘录与总结
- **Siteyava_145**：提到标记余数时要注意不是标记商，避免出现 WA 错误，强调了细节处理的重要性。

---
处理用时：29.99秒
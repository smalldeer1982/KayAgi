# 题目信息

# Club of Young Aircraft Builders (easy version)

## 题目描述

这是该问题的简单版本。各版本间的区别在于此版本中所有 $a_i = 0$。只有当您解决了该问题的所有版本时才能进行 hack。

有一栋 $n$ 层的建筑物，楼层从下到上编号为 $1$ 至 $n$。每层恰好住着一位居民。

今天全体居民有一个重要目标：共同发射至少 $c$ 架纸飞机。居民们将依次发射飞机。当第 $i$ 层的居民发射一架飞机时，从第 $1$ 层到第 $i$ 层的所有居民都能看到它降落到地面的过程。

如果从第 $i$ 层居民的视角看，已有至少 $c$ 架飞机被发射，则该居民自己不会再发射更多飞机。已知到当天结束时，从每位居民的视角看至少发射了 $c$ 架飞机，且总共发射了 $m$ 架飞机。

您仔细记录了这次快闪活动，记录了每位发射飞机的居民所在楼层。遗憾的是，关于具体是谁发射了某些飞机的信息已经丢失。请找出填补空缺信息使其可信的方案数。由于答案可能很大，请输出其对 $10^9 + 7$ 取模的结果。

在此版本的问题中，所有信息均已丢失，整个数组全由空缺构成。

也可能您的记录存在错误，导致无法恢复任何有效信息。此时答案视为 $0$。

## 说明/提示

第一个测试样例中，所有六种可能的填补方案如下：
1. $[1, 1, 3, 3]$
2. $[1, 2, 3, 3]$
3. $[1, 3, 2, 3]$
4. $[2, 1, 3, 3]$
5. $[2, 2, 3, 3]$
6. $[3, 1, 2, 3]$

注意数组 $[2, 3, 1, 3]$ 不是有效方案，因为第三架飞机不可能由第 $1$ 层的居民发射——从他们的视角看，当时已有 $c = 2$ 架飞机被发射。

同样地，数组 $[1, 1, 2, 3]$ 也不是有效方案，因为从第 $3$ 层居民的视角看，仅发射了 $1$ 架飞机，而 $c = 2$。

翻译由 DeepSeek R1 完成

## 样例 #1

### 输入

```
2
3 2 4
0 0 0 0
5 5 7
0 0 0 0 0 0 0```

### 输出

```
6
190```

# AI分析结果



---

### 算法分类
组合数学

---

### 题解思路、算法要点与解决难点

#### 核心思路对比
1. **动态规划解法**  
   定义 `dp[i][j]` 表示前 `i` 层发射 `j` 架飞机的方案数。转移时枚举第 `i` 层发射 `k` 架（`0 ≤ k ≤ c`），累加组合数 `C(c, k) * dp[i-1][j-k]`。  
   - **难点**：时间复杂度 `O(nmc)`，对大规模数据不友好。
   - **优化**：通过生成函数模型发现其本质等价于组合数计算。

2. **组合数学解法**  
   顶楼必须发射 `c` 架，剩余 `m-c` 架由前 `n-1` 层分配，每层最多 `c` 架。等价于从 `(n-1)c` 个可选位置中选择 `m-c` 个，即答案为组合数 `C((n-1)c, m-c)`。  
   - **解决难点**：通过观察动态规划的生成函数展开式，发现多项式乘积的系数与组合数一致，直接推导出简洁公式。

---

### 题解评分（≥4星）

1. **xyvsvg（5星）**  
   - 亮点：直接推导组合数公式，代码简洁高效（O(1) 查询组合数）。
   - 关键代码：
     ```cpp
     cout << C((n-1)*c, m-c) << endl;
     ```

2. **rubbishZZZ（4星）**  
   - 亮点：通过组合意义解释分配过程，给出明确的数学证明。
   - 核心结论：`答案 = C((n-1)c, m-c)`。

3. **2022dyx（4星）**  
   - 亮点：用动态规划验证组合数逻辑，提供两种思路对比。
   - 关键代码：
     ```cpp
     rep(k,0,min(j,c)) dp[i][j] += dp[i-1][j-k] * C(c, k);
     ```

---

### 最优思路提炼
**核心技巧**：将问题转化为组合数选择问题。  
- 顶层必须发射 `c` 架，剩余 `m-c` 架分配给前 `n-1` 层，每层最多 `c` 架。
- 答案即为从 `(n-1)c` 个位置选 `m-c` 个的组合数 `C((n-1)c, m-c)`。

---

### 同类型题与算法套路
1. **多重限制组合计数**  
   - 类似问题：将物品分配到多个容器，每个容器有容量限制。
2. **生成函数优化**  
   - 动态规划的高效性可通过生成函数转化为组合数计算。

---

### 推荐题目
1. **洛谷 P3197**：组合数模运算与预处理。  
2. **洛谷 P1246**：多重约束下的组合计数。  
3. **洛谷 P3223**：多重集合排列问题。

---

### 个人心得摘录
- **数学直觉**：通过观察样例发现答案与组合数的直接关联。  
- **调试教训**：动态规划的 `dp` 数组初始化需严格处理边界条件。  
- **顿悟点**：顶层的 `c` 架是唯一强制约束，其余层可自由分配。

---

### 可视化与算法演示

#### 动画设计（8位像素风格）
1. **核心流程**：  
   - **Step 1**：展示 `n` 层楼房，顶层发射 `c` 架（红色方块）。  
   - **Step 2**：前 `n-1` 层每层显示 `c` 个可选位置（绿色网格）。  
   - **Step 3**：从总网格 `(n-1)c` 中选择 `m-c` 个位置（黄色高亮）。  
   - **Step 4**：动态计算组合数并显示结果。

2. **交互设计**：  
   - **音效**：选择位置时播放“哔”声，计算完成时播放胜利音效。  
   - **自动模式**：AI 逐步填充位置，模拟组合数生成过程。  
   - **Canvas 绘制**：用 16 色像素块表示楼层和飞机。

#### 关键代码片段（伪代码）
```javascript
// 绘制楼层和飞机位置
function drawGrid() {
  for (let i = 0; i < n-1; i++) {
    for (let j = 0; j < c; j++) {
      ctx.fillStyle = (selected[i][j]) ? "#FFD700" : "#00FF00";
      ctx.fillRect(i*16, j*16, 15, 15);
    }
  }
}
```

---

### 结论
**最优解法**：直接计算组合数 `C((n-1)c, m-c)`，时间复杂度 `O(1)`，预处理阶乘与逆元即可高效求解。动态规划解法适用于教学验证，但实际应用需优先组合数学方法。

---
处理用时：93.33秒
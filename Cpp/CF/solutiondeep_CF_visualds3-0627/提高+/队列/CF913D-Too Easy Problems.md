# 题目信息

# Too Easy Problems

## 题目描述

你正在准备一场关于调度理论的考试。

这场考试会持续正好 $T$ 毫秒，由 $n$ 道题目组成。

你可以用 $t_i$ 毫秒解决第 $i$ 个问题，或者忽略它并不消耗时间。你也不需要用来在做完一道题之后休息的时间。

不幸的是，你的老师认为一些题目对你来说太简单了。因此，他对于每道题 $i$ 规定了一个整数 $a_i$，表示题目 $i$ 只在你总共解决了不超过 $a_i$ 个问题（包括问题 $i$ ）的情况下为你的最终成绩加上一分。

正式地，假设你在考试中解决了问题 $p_1,p_2,\cdots,p_k$。那么，你的最终成绩 $s$ 会等于在 $1$ 到 $k$ 之间的满足 $k\le a_{p_j}$ 的 $j$ 的个数。

你已经意识到这场考试真正的第一道题目已经放在了你面前。因此，你想要选择一组题目来解决，从而最大化你的最终成绩。不要忘记这场考试有时间限制，而你必须有足够的时间来解决所有你选择的题目。如果存在多个最优解，任意输出一组即可。

## 说明/提示

$1\le n\le 2\times10^5$

$1\le T\le10^9$

$0\le k\le n$

## 样例 #1

### 输入

```
5 300
3 100
4 150
4 80
2 90
2 300
```

### 输出

```
2
3
3 1 4
```

## 样例 #2

### 输入

```
2 100
1 787
2 788
```

### 输出

```
0
0

```

## 样例 #3

### 输入

```
2 100
2 42
2 58
```

### 输出

```
2
2
1 2
```

# AI分析结果



**唯一算法分类**：二分答案 + 贪心

---

### **题解思路、算法要点与解决难点**

#### **核心思路**
1. **二分答案**：通过二分法枚举可能的得分 $k$，验证是否存在 $k$ 道题目满足条件 $a_i \ge k$ 且总时间 $\le T$。
2. **贪心验证**：预处理所有题目按时间从小到大排序，每次验证时线性遍历，选择前 $k$ 个满足 $a_i \ge k$ 的题目，检查总时间是否足够。

#### **解决难点**
- **如何高效验证 $k$**：直接对每个 $k$ 暴力筛选所有满足条件的题目并排序会导致超时。通过预处理排序（按时间从小到大），在验证时只需线性遍历即可获得最小总时间。
- **正确性证明**：若存在 $k$ 道题满足条件，则按时间从小到大选出的前 $k$ 道必然总时间最小，从而保证贪心策略的正确性。

---

### **题解评分（≥4星）**

1. **Sol1（5星）**  
   - **亮点**：预处理排序优化验证时间复杂度至 $O(n)$，代码简洁清晰。  
   - **可读性**：结构体封装题目信息，逻辑分函数实现。  
   - **优化**：避免重复排序，时间复杂度最优。

2. **JimmyLee（4星）**  
   - **亮点**：使用 `vector` 和 Lambda 表达式实现，代码现代。  
   - **不足**：二分边界处理稍显复杂，但整体思路正确。

3. **Loser_Syx（4星）**  
   - **亮点**：代码精简，直接按时间排序后遍历。  
   - **不足**：变量命名和边界处理不够直观。

---

### **最优思路与技巧提炼**

1. **预处理排序**：将所有题目按时间从小到大排序，确保每次验证时能直接选取耗时最小的满足条件的题目。
2. **二分边界优化**：初始二分范围为 $[0, n]$，通过 `l < r - 1` 或类似条件避免死循环。
3. **线性验证**：遍历排序后的列表，跳过不满足 $a_i \ge k$ 的题目，累加前 $k$ 个的总时间。

---

### **同类型题与算法套路**

- **通用解法**：当问题要求最大化/最小化某个值，且验证该值是否可行的过程具有单调性时，优先考虑二分答案。
- **类似题目**：
  - [P2218 HAOI2007 覆盖问题](https://www.luogu.com.cn/problem/P2218)（二分最小覆盖半径）
  - [P1948 USACO08JAN Telephone Lines S](https://www.luogu.com.cn/problem/P1948)（二分最小花费）
  - [P1083 NOIP2012 借教室](https://www.luogu.com.cn/problem/P1083)（二分订单数+差分验证）

---

### **可视化与算法演示**

#### **动画方案**
1. **像素风格界面**：  
   - 题目显示为像素方块，颜色区分是否满足 $a_i \ge k$。  
   - 当前遍历的题目高亮为黄色，选中题目标记为绿色，总时间动态更新。

2. **关键步骤演示**：  
   - **二分过程**：显示当前尝试的 $k$ 值，左右边界变化。  
   - **验证过程**：遍历排序后的题目，显示选中题目的总时间和是否超限。

3. **交互功能**：  
   - **步进控制**：允许单步执行二分和验证步骤。  
   - **速度调节**：调整动画播放速度，支持暂停/继续。

#### **代码片段（JavaScript 伪代码）**
```javascript
// 初始化 Canvas 和像素动画
function drawProblem(problems, currentK) {
    problems.forEach((p, idx) => {
        const color = p.a >= currentK ? "#00FF00" : "#FF0000";
        drawPixelSquare(idx, color); // 绘制像素方块
    });
}

// 验证 k 是否可行（动画演示）
function animateCheck(k) {
    let totalTime = T;
    let selected = [];
    for (const p of sortedProblems) {
        if (p.a >= k && totalTime >= p.t) {
            selected.push(p);
            totalTime -= p.t;
            if (selected.length === k) break;
        }
        // 高亮当前处理题目
        highlightCurrentProblem(p.id);
    }
    return selected.length >= k;
}
```

---

### **个人心得摘录**

- **预处理的重要性**：Sol1 通过预先排序将验证复杂度从 $O(n \log n)$ 降至 $O(n)$，显著优化性能。  
- **边界处理陷阱**：部分题解在二分时因边界条件（如 `l = mid + 1` 或 `r = mid`）导致错误，需仔细推导终止条件。

---

### **推荐题目**
1. [P1182 数列分段 Section II](https://www.luogu.com.cn/problem/P1182)  
2. [P4343 [SHOI2015] 自动刷题机](https://www.luogu.com.cn/problem/P4343)  
3. [P3273 [SCOI2011] 棘手的操作](https://www.luogu.com.cn/problem/P3273)

---
处理用时：107.73秒
# 题目信息

# Range = √Sum

## 题目描述

You are given an integer $ n $ . Find a sequence of $ n $ distinct integers $ a_1, a_2, \dots, a_n $ such that $ 1 \leq a_i \leq 10^9 $ for all $ i $ and $ $$$\max(a_1, a_2, \dots, a_n) - \min(a_1, a_2, \dots, a_n)= \sqrt{a_1 + a_2 + \dots + a_n}. $ $$$

It can be proven that there exists a sequence of distinct integers that satisfies all the conditions above.

## 说明/提示

In the first test case, the maximum is $ 3 $ , the minimum is $ 1 $ , the sum is $ 4 $ , and $ 3 - 1 = \sqrt{4} $ .

In the second test case, the maximum is $ 29 $ , the minimum is $ 18 $ , the sum is $ 121 $ , and $ 29-18 = \sqrt{121} $ .

For each test case, the integers are all distinct.

## 样例 #1

### 输入

```
3
2
5
4```

### 输出

```
3 1
20 29 18 26 28
25 21 23 31```

# AI分析结果



**唯一算法分类**：构造法

---

### **综合分析与结论**
本题要求构造一个长度为n的严格递增整数序列，使得极差等于总和的平方根。核心思路是通过数学推导设计特定形式的序列，确保满足条件。不同题解主要围绕以下思路展开：

1. **设定总和为4n²**，极差为2n，通过初始序列调整总和至目标值。关键步骤为构造初始序列，整体平移后处理余数，确保元素互异。此方法统一处理所有n，无需分奇偶，代码简洁高效。
  
2. **分奇偶构造等差序列**，通过对称扩展或调整中间项实现条件。虽直观但需处理较多边界情况，代码分支较多。

**核心难点**在于快速生成满足严格递增且总和符合平方条件的序列。最优思路为方法1，其通过数学推导直接确定构造形式，保证正确性和高效性。

---

### **题解清单（≥4星）**
1. **nullqtr_pwp（5星）**  
   - **亮点**：统一处理所有n，无需分奇偶；代码简洁，数学推导清晰，余数处理巧妙。  
   - **代码**：构造初始序列，计算平移量，余数分配到倒数第二个元素，确保严格递增。

2. **Svemit（4星）**  
   - **亮点**：设定极值为3n和5n，利用平均数简化构造，分奇偶调整中间项。  
   - **代码**：分奇偶填充中间值，保持对称性。

3. **Binary_Lee（4星）**  
   - **亮点**：分奇偶构造对称序列，通过等差求和验证正确性。  
   - **代码**：直接生成前后半段序列，计算复杂度低。

---

### **最优思路提炼**
**关键步骤**：
1. **设定总和为4n²**，极差为2n。
2. **构造初始序列**：前n-1项为1,2,...,n-1，末项为2n+1。
3. **整体平移**：计算平移量使总和接近4n²，余数调整至倒数第二项。
4. **验证互异性**：末项始终大于倒数第二项，确保严格递增。

**代码片段**：
```cpp
void solve() {
    int n = read();
    int sum = 4 * n * n, tot = 0;
    vector<int> a(n);
    for (int i = 0; i < n - 1; i++) a[i] = i + 1;
    a[n - 1] = 2 * n + 1;
    for (int x : a) tot += x;
    int add = (sum - tot) / n;
    a[n - 2] += (sum - tot - add * n); // 余数调整
    for (int x : a) cout << x + add << " ";
}
```

---

### **同类型题与推荐题目**
1. **CF1325D**：构造异或和等于和的数组。
2. **AT_arc144_b**：构造严格递增序列满足特定差值条件。
3. **洛谷P1005**：构造特定形式的数列实现最大得分。

---

### **可视化与算法演示**
**核心流程动画设计**：
1. **初始序列生成**：展示前n-1项递增及末项2n+1。
2. **整体平移**：高亮每个元素加上平移量`add`，同步更新总和。
3. **余数分配**：聚焦倒数第二项，增加余数值，确保严格递增。
4. **验证步骤**：动态计算极差和总和，显示平方关系。

**复古像素风格设计**：
- **颜色方案**：初始项（绿色），平移量（蓝色），余数项（红色）。
- **音效**：平移时播放“点击”声，余数分配后播放“完成”音效。
- **Canvas动画**：网格展示元素值变化，步进控制观察每步调整。

---

**示例动画步骤**（n=5）：
1. 初始序列：1,2,3,4,11（红色标记11）。
2. 计算平移量add=15，整体变为16,17,18,19,26。
3. 余数4分配到倒数第二项，变为16,17,18,23,26（闪烁23）。
4. 显示极差26-16=10，总和100，√100=10。

---
处理用时：105.76秒
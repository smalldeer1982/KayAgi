# 题目信息

# Put Knight!

## 题目描述

Petya and Gena play a very interesting game "Put a Knight!" on a chessboard $ n×n $ in size. In this game they take turns to put chess pieces called "knights" on the board so that no two knights could threat each other. A knight located in square $ (r,c) $ can threat squares $ (r-1,c+2) $ , $ (r-1,c-2) $ , $ (r+1,c+2) $ , $ (r+1,c-2) $ , $ (r-2,c+1) $ , $ (r-2,c-1) $ , $ (r+2,c+1) $ and $ (r+2,c-1) $ (some of the squares may be located outside the chessboard). The player who can't put a new knight during his move loses. Determine which player wins considering that both players play optimally well and Petya starts.

## 样例 #1

### 输入

```
2
2
1
```

### 输出

```
1
0
```

# AI分析结果



# 分析与结论

**数学分类**  
组合数学

---

## 题解思路与核心难点

### 核心博弈策略
- **对称策略**：无论先手如何放置，后手总是选择其中心对称点。这使得每对对称点仅能由双方各占一次。
- **奇偶性关键**：当棋盘边长 `n` 为**偶数**时，所有位置成对存在，后手必胜；当 `n` 为**奇数**时，存在唯一的中心点，先手占据后控制全局。

### 数学推导要点
1. **偶数棋盘**：  
   - 所有位置均可找到中心对称点。后手通过镜像操作消耗所有对称位置，最终先手无步可走。
2. **奇数棋盘**：  
   - 中心点无对称点。先手第一步占据中心点后，剩余位置成对存在，后续通过对称策略迫使后手失败。

### 解决难点
- 如何证明对称策略的可行性？  
  由于骑士的攻击范围是固定偏移，若两个位置互为对称，则它们的威胁范围也对称，因此镜像放置不会引发冲突。
- 如何确定胜负条件？  
  通过奇偶性分析总可放置点数的奇偶性：偶数棋盘总点数为偶，奇数棋盘总点数为奇。

---

## 题解评分 (≥4星)

1. **RainFestival**（★★★★☆）  
   - **亮点**：代码极简，直接命中结论，适合快速理解核心逻辑。
2. **云岁月书**（★★★★☆）  
   - **亮点**：详细论证对称策略的可行性，并指出打表法的辅助验证作用。
3. **abensyl**（★★★★☆）  
   - **亮点**：结合博弈论核心思想，明确中心对称点的作用，代码清晰。

---

## 最优思路与技巧

### 关键技巧
1. **对称策略的构造**：  
   后手通过镜像操作抵消先手优势，确保每轮消耗一对对称点。
2. **奇偶性判定**：  
   仅需判断 `n` 的奇偶性，无需计算具体可放置点数，复杂度 `O(1)`。

### 代码实现
```cpp
#include<cstdio>
int main() {
    freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    int t, n;
    scanf("%d", &t);
    while (t--) {
        scanf("%d", &n);
        printf("%d\n", !(n % 2)); // 偶数输出1（后手胜），奇数输出0（先手胜）
    }
}
```

---

## 同类题目推荐
1. **P2588 [ZJOI2008] 骑士**  
   - 博弈策略与状态分析。
2. **P2734 [USACO3.3] 游戏 A Game**  
   - 对称策略在取数游戏中的应用。
3. **P1972 [SDOI2009] HH的项链**  
   - 组合数学中的奇偶性技巧。

---

## 可视化设计

### 8位像素风格动画演示
- **棋盘绘制**：  
  使用 Canvas 绘制 `n×n` 网格，初始为灰色。中心点（若存在）用红色高亮。
- **操作演示**：  
  1. **偶数棋盘**：  
     - 先手点击任意位置（绿色），后手自动镜像填充（蓝色），直至无剩余对称对。
  2. **奇数棋盘**：  
     - 先手点击中心点（红色），后续操作镜像填充，最后后手无步可走。
- **音效设计**：  
  - 放置骑士时播放“放置”音效（8位短音）。
  - 胜负分晓时播放胜利/失败旋律。

### 交互控制
- **步进控制**：允许手动点击或自动播放，速度可调。
- **动态高亮**：当前操作位置用闪烁边框标记，对称点同步显示。

---

## 总结
本题通过对称策略与奇偶性分析，将复杂博弈问题简化为数学判定。可视化设计通过像素风格和音效增强理解，适用于教学与算法演示。

---
处理用时：73.34秒
# 题目信息

# Beautiful Array

## 题目描述

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF2041E/123e9f2378be455eca9fba5ff4bfa308ab2b1a77.png) Image generated by ChatGPT 4o.A-Ming's birthday is coming and his friend A-May decided to give him an integer array as a present. A-Ming has two favorite numbers $ a $ and $ b $ , and he thinks an array is beautiful if its mean is exactly $ a $ and its median is exactly $ b $ . Please help A-May find a beautiful array so her gift can impress A-Ming.

The mean of an array is its sum divided by its length. For example, the mean of array $ [3, -1, 5, 5] $ is $ 12 \div 4 = 3 $ .

The median of an array is its middle element after sorting if its length is odd, or the mean of two middle elements after sorting if its length is even. For example, the median of $ [1, 1, 2, 4, 8] $ is $ 2 $ and the median of $ [3, -1, 5, 5] $ is $ (3 + 5) \div 2 = 4 $ .

Note that the mean and median are not rounded to an integer. For example, the mean of array $ [1, 2] $ is $ 1.5 $ .

## 样例 #1

### 输入

```
3 4```

### 输出

```
4
3 -1 5 5```

## 样例 #2

### 输入

```
-100 -100```

### 输出

```
1
-100```

# AI分析结果



## 算法分类
**数论**

---

## 综合分析与结论
### 核心思路
构造一个长度为3的数组，其中两个元素固定为中位数b，第三个元素通过平均数公式推导得出。具体推导如下：
- 设数组为 `[x, b, b]`，总和为 `3a`
- 数学推导：`x + b + b = 3a → x = 3a - 2b`
- 无论x的值大小如何，排序后中位数始终为b

### 解决难点
1. **中位数固定**：通过固定两个元素为b，确保排序后中间元素始终为b
2. **数学推导**：利用平均数公式直接计算第三个元素，避免复杂调整
3. **边界处理**：推导式 `x = 3a - 2b` 天然满足所有数据范围

### 可视化设计
- **动画流程**：
  1. 显示三个空位 `[_, _, _]`
  2. 填充两个位置为b，高亮显示 `[b, b, _]`
  3. 动态计算第三个元素 `3a - 2b`，用公式推导动画展示
  4. 最终显示完整数组，颜色标记关键元素
- **像素风格**：用8位色块表示数值，音效提示推导完成

---

## 题解评分（≥4星）
### 1. 作者：wawatime1（5星）
- **亮点**：直接数学推导，代码简洁清晰
- **代码**：
  ```cpp
  cout << "3\n" << 3 * a - 2 * b << ' ' << b << ' ' << b;
  ```

### 2. 作者：GeYang（5星）
- **亮点**：详细数学证明，解释中位数固定原理
- **代码**：
  ```cpp
  cout<<3<<endl<<b<<' '<<b<<' '<<3*a-2*b<<endl;
  ```

### 3. 作者：Hughpig（5星）
- **亮点**：明确分析偶数长度难点，逻辑严密
- **代码**：
  ```cpp
  cout<<"3\n"<<3*a-2*b<<' '<<b<<' '<<b<<' ';
  ```

---

## 最优思路提炼
**关键公式推导法**：固定两个元素为中位数，利用总和公式直接计算第三个元素。此方法时间复杂度O(1)，适用于所有合法输入。

---

## 类似题目推荐
1. **P5715** - 三位数排序（构造固定中位数）
2. **P1046** - 陶陶摘苹果（利用简单数学条件）
3. **P1423** - 小玉在游泳（数学公式推导）

---

## 代码实现（核心逻辑）
```cpp
#include<bits/stdc++.h>
using namespace std;
int main() {
    int a, b;
    cin >> a >> b;
    cout << "3\n" << 3 * a - 2 * b << ' ' << b << ' ' << b;
    return 0;
}
```

---

## 可视化方案（Canvas伪代码）
```javascript
// 初始化Canvas
const ctx = canvas.getContext('2d');
ctx.fillStyle = '#8BDBF0'; // 8-bit蓝色
ctx.fillRect(0, 0, 300, 200);

// 绘制数组槽位
drawSlots([0, 0, 0], {x: 50, y: 80});

// 逐步填充数值
animateFill(b, 1); // 填充第二个槽位
animateFill(b, 2); // 填充第三个槽位
calculateFormula(); // 显示公式推导动画
animateFill(3*a-2*b, 0); // 填充第一个槽位
playSound('success'); // 播放成功音效
```

---

**总结**：本题核心在于通过数学公式直接构造解，避免复杂操作。掌握此类数论构造技巧可快速解决类似问题。

---
处理用时：79.02秒
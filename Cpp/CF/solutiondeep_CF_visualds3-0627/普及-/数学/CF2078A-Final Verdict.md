# 题目信息

# Final Verdict

## 题目描述

[Testify - void (Mournfinale) feat. 星熊南巫](https://www.youtube.com/watch?v=xkUN_9HFNPg)

给定一个长度为 $n$ 的数组 $a$，你需要重复执行以下操作，直到 $a$ 的长度变为 $1$：

选择一个满足 $k < |a|$ 且 $\frac{|a|}{k}$ 为整数的正整数 $k$。将 $a$ 分割成 $k$ 个子序列 $^{\text{∗}}$ $s_1, s_2, \ldots, s_k$，并满足以下条件：
- $a$ 的每个元素恰好属于一个子序列。
- 每个子序列的长度相等。

之后，将 $a$ 替换为 $\left[ \operatorname{avg}(s_1), \operatorname{avg}(s_2), \ldots, \operatorname{avg}(s_k) \right]$，其中 $\operatorname{avg}(s) = \frac{\sum_{i = 1}^{|s|} s_i}{|s|}$ 表示子序列所有值的平均值。例如，$\operatorname{avg}([1, 2, 1, 1]) = \frac{5}{4} = 1.25$。

你的任务是判断是否存在一系列操作，使得最终 $a = [x]$。

$^{\text{∗}}$ 如果序列 $x$ 可以通过删除序列 $y$ 中的若干元素（可能为零个或全部）得到，则称 $x$ 是 $y$ 的子序列。

## 说明/提示

在第一个测试用例中，$x = 3$ 且 $a = [3]$ 已经满足条件。

在第二个测试用例中，$x = 9$，且不存在任何操作序列能使最终 $a = [9]$。

在第三个测试用例中，$x = 9$，存在以下一种可能的操作序列：
1. 选择 $k = 2$，$s_1 = [1, 12, 8]$ 和 $s_2 = [9, 14, 10]$。此时 $a = [\operatorname{avg}(s_1), \operatorname{avg}(s_2)] = [7, 11]$。
2. 选择 $k = 1$ 且 $s_1 = [7, 11]$。此时 $a = [\operatorname{avg}(s_1)] = [9]$。

在第四个测试用例中，$x = 10$，存在以下一种可能的操作序列：
1. 选择 $k = 1$ 且 $s_1 = [10, 10, 10, 10, 10, 10, 10, 10, 10, 10]$。此时 $a = [\operatorname{avg}(s_1)] = [10]$。

翻译由 DeepSeek R1 完成

## 样例 #1

### 输入

```
4
1 3
3
4 9
7 11 2 5
6 9
1 9 14 12 10 8
10 10
10 10 10 10 10 10 10 10 10 10```

### 输出

```
YES
NO
YES
YES```

# AI分析结果



---

## 唯一算法分类
数学

---

## 综合分析与结论
### 核心思路
每次操作后的数组总平均值始终保持不变。最终结果必须等于初始总平均值，因此只需判断初始数组总和是否等于 `x * n`。

### 解决难点
- **关键观察点**：发现无论分割方式如何，总平均值始终保持不变。
- **数学推导**：证明最终结果的充要条件是初始总平均值等于目标值 `x`。
- **优化手段**：将问题简化为 O(n) 的求和计算，无需模拟复杂的分割过程。

### 可视化设计思路
- **动画演示**：用动态条形图展示数组逐步缩小的过程，每次操作时高亮分割线，并显示平均值。
- **颜色标记**：初始数组用蓝色，每次操作后新数组用渐变色，最终结果用红色高亮。
- **参数调节**：允许输入不同测试用例，动态展示总和计算与判断逻辑。

---

## 题解清单（全5星）
### 题解：数学推导法
- **关键亮点**：直接利用数学性质，代码极简（5行内），时间复杂度 O(n)。
- **核心代码**：
  ```python
  n, x = map(int, input().split())
  a = list(map(int, input().split()))
  print("YES" if sum(a) == x * n else "NO")
  ```

---

## 代码实现
```python
n, x = map(int, input().split())
a = list(map(int, input().split()))
total = sum(a)
print("YES" if total == x * n else "NO")
```

---

## 最优思路提炼
1. **平均值守恒定理**：任何分割操作不会改变数组总平均值。
2. **充要条件转换**：将问题转换为验证初始总和是否等于 `x * n`。
3. **极简实现**：无需复杂数据结构，直接求和判断。

---

## 同类题目推荐
1. **CF1543A** - 求最大公约数与差值的极值问题。
2. **洛谷 P1031** - 均分纸牌问题（平均值不变性应用）。
3. **LeetCode 1343** - 子数组平均数阈值统计（滑动窗口与平均值计算）。

---

## 可视化与算法演示
### 复古像素动画设计
- **界面风格**：8-bit 像素风格，数组显示为彩色方块，数值以像素字体显示。
- **关键动画**：
  1. 初始数组方块从左到右排列，上方显示总和计算过程。
  2. 点击"Split"按钮时，随机选择分割方式（如 k=2），用闪光特效表示分割线。
  3. 新数组生成时，旧数组缩小淡出，新数组从中心弹出。
- **音效**：
  - 正确时播放《超级马里奥》过关音效。
  - 错误时播放《魂斗罗》中弹音效。

---

## 个人心得
本题的突破点在于跳出操作模拟，从数学角度寻找不变量。调试时曾尝试构造各种分割方式，最终发现无论何种操作均无法改变总平均值，从而大幅简化问题。

---
处理用时：89.92秒
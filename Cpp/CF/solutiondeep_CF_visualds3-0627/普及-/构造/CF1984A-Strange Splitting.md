# 题目信息

# Strange Splitting

## 题目描述

给你一个非空序列$a$，这个序列的范围是这个序列的最大值减去最小值（这里的范围有特殊含义，不是“数据范围”的“范围”）。  
举个例子：$[1,4,2]$的“范围”就是$4-1=3$。  
介于这个之上,$a$长度为$n$（$n>=3$）。  
你可以给这个序列中的一个元素标记为：红色$red$蓝色$blue$中的任意一种。  
要求：  

- 将这个序列$a$分为两个序列，一个序列的元素为$a$序列中所有背涂成红色$red$的元素，另一个序列为$a$序列中所有被涂成蓝色$blue$的元素，要保证**这两个序列的“范围”不相等**。  
- 每个元素都要被涂上颜色。  

如果没有能满足上面要求的涂色方法，输出```NO```。  
如果有多种涂色方法，你可以输出其中的任意一种。  
**注：如果有符合要求的涂色方法，先输出```YES```然后换行!!!**

具体见样例......

## 样例 #1

### 输入

```
7
4
1 1 2 2
5
1 2 3 4 5
3
3 3 3
4
1 2 2 2
3
1 2 2
3
1 1 2
3
1 9 84```

### 输出

```
YES
RBRR
YES
BBRBB
NO
YES
RBBR
YES
RRB
YES
BRR
YES
BRB```

# AI分析结果



无算法分类

---

### 综合分析与结论

**题目核心**  
将数组分成红蓝两组，要求两组的范围（最大值-最小值）不同。关键在于构造分组策略，确保两组范围不等。

**难点与解决**  
1. **极值处理**：当原数组全同（范围=0）时无解。否则需找到至少一个极值（最大或最小值），通过将其单独分组使得另一组的范围与原范围不同。
2. **构造策略**：
   - 若最大值的出现次数≥2，单独分出一个最大值到红组，剩余组的范围保持原范围。
   - 若最小值的出现次数≥2，单独分出一个最小值到红组。
   - 否则，分出一个最大值或最小值，剩余组的范围必然不同。

**可视化设计**  
1. **动画演示**：
   - **颜色标记**：红色高亮当前选中极值，蓝色标记剩余元素。
   - **步进流程**：逐步展示如何选择极值、分配颜色，并实时计算两组范围。
   - **比较逻辑**：在极值选择失败时，展示切换到另一种极值的策略。
2. **复古风格**：使用8位像素风格绘制数组元素，不同颜色区分组别，音效提示成功/失败。

---

### 最优思路提炼

1. **极值优先策略**：优先处理出现次数≥2的极值，确保剩余组的范围不变。
2. **动态调整**：当无法通过单一极值构造解时，利用剩余元素的分布特性（如中间值）保证范围差异。

---

### 代码实现

```python
def solve():
    import sys
    input = sys.stdin.read().split()
    ptr = 0
    t = int(input[ptr])
    ptr += 1
    for _ in range(t):
        n = int(input[ptr])
        ptr +=1
        a = list(map(int, input[ptr:ptr+n]))
        ptr +=n
        min_val = min(a)
        max_val = max(a)
        if min_val == max_val:
            print("NO")
            continue
        max_count = a.count(max_val)
        min_count = a.count(min_val)
        color = ['B'] * n
        if max_count >= 2:
            idx = a.index(max_val)
            color[idx] = 'R'
        elif min_count >= 2:
            idx = a.index(min_val)
            color[idx] = 'R'
        else:
            idx = a.index(max_val)
            color[idx] = 'R'
        print("YES")
        print(''.join(color))

solve()
```

**核心逻辑**  
1. 判断数组元素是否全同，直接处理无解情况。
2. 统计极值出现次数，优先分离出现多次的极值，确保剩余组范围有效。

---

### 相似题目推荐
1. **CF977D Divide and Multiply**（极值分治）
2. **LeetCode 324 Wiggle Sort II**（分组构造）
3. **洛谷 P1115 最大子段和**（极值动态规划）

---
处理用时：395.36秒
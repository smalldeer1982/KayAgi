# 题目信息

# Beautiful Array

## 题目描述

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF2041E/123e9f2378be455eca9fba5ff4bfa308ab2b1a77.png) Image generated by ChatGPT 4o.A-Ming's birthday is coming and his friend A-May decided to give him an integer array as a present. A-Ming has two favorite numbers $ a $ and $ b $ , and he thinks an array is beautiful if its mean is exactly $ a $ and its median is exactly $ b $ . Please help A-May find a beautiful array so her gift can impress A-Ming.

The mean of an array is its sum divided by its length. For example, the mean of array $ [3, -1, 5, 5] $ is $ 12 \div 4 = 3 $ .

The median of an array is its middle element after sorting if its length is odd, or the mean of two middle elements after sorting if its length is even. For example, the median of $ [1, 1, 2, 4, 8] $ is $ 2 $ and the median of $ [3, -1, 5, 5] $ is $ (3 + 5) \div 2 = 4 $ .

Note that the mean and median are not rounded to an integer. For example, the mean of array $ [1, 2] $ is $ 1.5 $ .

## 样例 #1

### 输入

```
3 4```

### 输出

```
4
3 -1 5 5```

## 样例 #2

### 输入

```
-100 -100```

### 输出

```
1
-100```

# AI分析结果



---

### **算法分类**
构造

---

### **题解思路与核心难点**

#### **核心思路**
构造一个长度为3的数组，使得：
1. 中位数为 `b`：将中间元素固定为 `b`，其余两个元素之和为 `3a - b`。
2. 平均数为 `a`：数组总和为 `3a`，通过固定两个元素为 `b`，第三元素为 `3a - 2b`。

#### **关键步骤**
1. **确定数组长度**：选择奇数长度3，避免偶数长度的中位数计算复杂性。
2. **构造元素**：数组形式为 `[b, b, 3a-2b]`，无论 `3a-2b` 的大小如何，排序后中位数始终为 `b`。

#### **难点对比**
- **循环调整 vs 直接构造**  
  部分题解（如 `ccjjxx`）通过循环调整元素值以保证大小关系，但实际无需调整：直接构造 `[b, b, 3a-2b]` 即可保证排序后中位数为 `b`。
- **特殊处理 a = b 的情况**  
  当 `a = b` 时，构造单元素数组更优，但非必要。所有题解均未处理此情况，但构造三元素数组仍正确。

---

### **题解评分 ≥4星**

1. **Hughpig（★★★★★）**  
   - **亮点**：直接构造三元素数组，代码简洁高效，无冗余步骤。
   - **代码片段**：  
     ```cpp
     cout<<"3\n"<<3*a-2*b<<' '<<b<<' '<<b<<' ';
     ```

2. **GeYang（★★★★☆）**  
   - **亮点**：详细分析奇数长度优势，明确推导第三元素公式。
   - **代码片段**：  
     ```cpp
     cout<<b<<' '<<b<<' '<<3*a-2*b<<endl;
     ```

3. **wuyouwa（★★★★☆）**  
   - **亮点**：通过枚举验证构造逻辑，代码可读性强。
   - **代码片段**：  
     ```cpp
     cout<<i<<" "<<b<<" "<<3*a-b-i;
     ```

---

### **最优思路提炼**
1. **固定中位数位置**：选择奇数长度3，中间元素固定为 `b`。
2. **利用总和公式**：第三元素为 `3a - 2b`，无需考虑其相对大小，排序后中位数必为 `b`。
3. **极简构造**：直接输出 `[b, b, 3a-2b]`，时间复杂度 O(1)，空间复杂度 O(1)。

---

### **类似题目推荐**
1. [CF1118A - Water Buying](https://codeforces.com/problemset/problem/1118/A)（构造最优化方案）
2. [LeetCode 462 - Minimum Moves to Equal Array Elements II](https://leetcode.com/problems/minimum-moves-to-equal-array-elements-ii/)（中位数性质应用）
3. [洛谷 P1059 - 明明的随机数](https://www.luogu.com.cn/problem/P1059)（构造去重排序数组）

---

### **可视化算法演示**

#### **核心流程**
1. **初始化参数**：输入 `a=3`, `b=4`。
2. **计算第三元素**：`3a - 2b = 9 - 8 = 1`。
3. **构造数组**：`[4, 4, 1]`。
4. **排序验证**：排序后为 `[1, 4, 4]`，中位数 `4`，平均数 `(1+4+4)/3 = 3`。

#### **复古像素风格动画**
- **颜色标记**：中位数 `b` 用绿色，其余元素用黄色。
- **Canvas 绘制**：显示元素值及排序过程，音效提示关键步骤（如排序完成时播放上升音调）。
- **交互设计**：支持步进控制观察构造过程。

---

### **代码实现（最优解）**
```cpp
#include<bits/stdc++.h>
using namespace std;
int main() {
    int a, b;
    cin >> a >> b;
    cout << "3\n" << 3*a - 2*b << " " << b << " " << b;
    return 0;
}
```

---

### **总结**
通过固定中位数位置并利用总和公式，构造三元素数组可高效解决问题，无需复杂调整。所有题解中，直接构造法（无需循环或特殊处理）为最优解，时间复杂度 O(1)，代码极简。

---
处理用时：160.23秒
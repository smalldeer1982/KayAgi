# 题目信息

# T-primes

## 题目描述

我们知道质数是只有两个不同的正数因数的正整数。相似的，我们把一个正整数 _t_ 叫做 T质数，如果 _t_ 恰好有三个不同的正整数因数。 

你被给了一个含有 _n_ 个正整数的数组。你要给其中所有的数判断它是否是 T质数。

## 说明/提示

给定样例有三个数。第一个数4恰好有三个因数--1、2和4，因此对这个数字输出YES。第二个数5有两个因数（1和5），第三个数6有四个因数（1、2、3和6），因此这两个数的答案是NO。

## 样例 #1

### 输入

```
3
4 5 6
```

### 输出

```
YES
NO
NO
```

# AI分析结果



---

### **唯一算法分类**  
数论  

---

### **综合分析与结论**  
**核心思路**：T质数必须满足 $x = p^2$，其中 $p$ 是质数。解题需两步：  
1. 判断 $x$ 是否为完全平方数（即 $\lfloor \sqrt{x} \rfloor^2 = x$）。  
2. 若成立，再判断 $\sqrt{x}$ 是否为质数。  

**数学推导**：  
- 一个数的因数个数公式为 $(a_1+1)(a_2+1)...(a_k+1)$，其中 $a_i$ 是质因数分解后的指数。  
- 当且仅当该公式等于 3 时，说明存在唯一质因数且其指数为 2，即 $x = p^2$。  

**可视化设计**：  
1. **动画流程**：  
   - 输入数值 $x$ → 显示计算 $\sqrt{x}$ → 高亮判断是否整数（红色框）。  
   - 若整数，调用筛法标记 $\sqrt{x}$ 是否为质数（绿色/红色高亮）。  
2. **复古像素风格**：  
   - 用 8-bit 像素块表示数字，质数显示为绿色方块，非质数为红色。  
   - 音效：成功判断时播放上升音调，失败时短促“哔”声。  

---

### **题解清单 (≥4星)**  

| 题解作者       | 评分 | 核心亮点                                                                 |  
|----------------|------|--------------------------------------------------------------------------|  
| Siyuan         | ★★★★★ | 线性筛预处理质数，时间复杂度最优（$O(1e6)$），代码简洁高效。             |  
| Minecraft万岁  | ★★★★☆ | 结合唯一分解定理详细推导，代码注释清晰，适合数学基础较弱的学习者。       |  
| 米奇奇米       | ★★★★  | 暴力判断质数但优化了循环条件（i*i<=x），代码简短易理解。                 |  

---

### **最优思路与代码实现**  
**关键代码**（Siyuan 的线性筛预处理 + 判断）：  
```cpp
void prepare() {
    // 筛法标记非质数
    for (int i=2; i<=MAX; i++) {
        if (!np[i]) p[++tot] = i;
        for (int j=1; j<=tot && i*p[j]<=MAX; j++) {
            np[i*p[j]] = 1;
            if (i % p[j] == 0) break;
        }
    }
}

// 主逻辑
ll t = sqrt(x);
if (t*t == x && !np[t]) puts("YES");
```

---

### **同类型题与算法套路**  
1. **常见套路**：  
   - 因数个数问题 → 转化为质因数分解。  
   - 质数快速判断 → 筛法（埃氏筛/线性筛）或暴力优化（6k±1 法）。  
2. **类似题目**：  
   - 判断质数（洛谷 P3383）  
   - 统计区间内因数个数为偶数的数（Project Euler 598）  

---

### **推荐洛谷题目**  
1. P1217 - 回文质数（质数+回文判断）  
2. P3383 - 线性筛模板题  
3. P3912 - 区间质数统计（筛法应用）  

---

### **个人心得摘录**  
- **封禁用户**：未处理 $x=1$ 导致 WA，强调边界条件的重要性。  
- **pipiispig**：忘记特判非平方数时直接输出 NO，提醒逻辑完整性。  

---

### **可视化与游戏化设计**  
**核心动画流程**（Canvas 实现）：  
1. **输入阶段**：像素风格输入框，输入 $x$ 后显示为 8-bit 数字。  
2. **计算平方根**：  
   - $\sqrt{x}$ 逐位显示，右侧标记是否为整数（✅/❌）。  
3. **质数判断**：  
   - 若为整数，调用筛法过程：数字网格中标记 $\sqrt{x}$ 的倍数（红色闪烁）。  
   - 未被标记则播放胜利音效并显示 "YES"。  

**音效与交互**：  
- 使用 Web Audio API 播放 8-bit 音效：成功（↑↑↑）、失败（↓↓）。  
- 支持步进控制：按空格键逐步执行筛法步骤。  

---

**最终结论**：T质数问题本质是质数与平方数的结合，通过筛法预处理可大幅优化时间复杂度，数学推导与代码实现的结合是解题关键。

---
处理用时：60.50秒
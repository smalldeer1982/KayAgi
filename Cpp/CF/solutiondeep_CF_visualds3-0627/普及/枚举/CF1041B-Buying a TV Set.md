# 题目信息

# Buying a TV Set

## 题目描述

### 题目大意：
给你$a,b,c,d$，求满足$\frac{x}{y}=\frac{c}{d},x\leq a,y\leq b$的$x,y$的对数

## 样例 #1

### 输入

```
17 15 5 3
```

### 输出

```
3
```

## 样例 #2

### 输入

```
14 16 7 22
```

### 输出

```
0
```

## 样例 #3

### 输入

```
4 2 6 4
```

### 输出

```
1
```

## 样例 #4

### 输入

```
1000000000000000000 1000000000000000000 999999866000004473 999999822000007597
```

### 输出

```
1000000063
```

# AI分析结果



## 算法分类
数学/数论

---

## 题解思路与算法要点
### 核心逻辑
1. **分数约简**：将输入比例 c/d 约分为最简形式 c'/d'（除以最大公约数）
2. **倍数约束**：x 必须是 c' 的倍数，y 必须是 d' 的倍数
3. **范围限制**：计算最大可行倍数 k = min(a/c', b/d')

### 解决难点
- **大数处理**：需用 long long 类型存储 1e18 量级数据
- **数学推导**：通过约分将问题转化为求两个独立约束的公共解空间
- **时间复杂度**：O(log(min(c,d))) 的 GCD 计算是唯一复杂度瓶颈

### 可视化设计
1. **像素动画流程**：
   - 步骤1：展示原始比例 c/d 的分子分母分解质因数
   - 步骤2：用不同颜色标记公因数并约分，得到 c'/d'
   - 步骤3：用动态网格展示 a 和 b 的倍数约束，高亮当前计算的 k 值
   - 步骤4：最终结果用闪烁效果呈现 min(a/c', b/d') 的对比过程

2. **音效方案**：
   - 质因数分解：每个因数弹出音效
   - 约分成功：播放上升音阶
   - 计算完成：播放经典 FC 过关音效

---

## 高星题解推荐 (≥4⭐)
### 1. Eason_AC ⭐⭐⭐⭐⭐
- **亮点**：代码极简，数学推导清晰
- **代码**：仅 7 行实现核心逻辑
- **关键注释**：通过数学推导将问题转化为两个独立约束的最小值

### 2. ezoixx130 ⭐⭐⭐⭐
- **亮点**：分步给出暴力→优化的思考过程
- **复杂度分析**：明确对比三种算法的时间空间复杂度
- **代码**：包含完整头文件与格式化输入输出

### 3. 小闸蟹 ⭐⭐⭐⭐
- **亮点**：C++现代语法特性运用（using ll）
- **代码风格**：模块化设计 gcd 函数
- **可读性**：使用标准库函数提高代码可维护性

---

## 最优思路提炼
### 关键技巧
1. **比例约分**：通过 GCD 消除冗余因数，降低问题维度
2. **独立约束**：将二维问题解耦为两个一维约束
3. **极值选择**：取两个约束的交集最大值

### 应用场景
- 比例约束下的计数问题
- 大数范围的倍数统计
- 分数化简相关的优化问题

---

## 类似题目推荐
1. P1072 [NOIP2009 提高组] Hankson 的趣味题  
   （分数约束条件求解）
2. P4057 [Code+#1]晨跑  
   （多数的最大公约数应用）
3. P1572 计算分数  
   （分数运算与约分）

---

## 核心代码实现
```cpp
#include <iostream>
#include <algorithm>
using namespace std;
using ll = long long;

int main() {
    ll a, b, c, d;
    cin >> a >> b >> c >> d;
    ll g = __gcd(c, d);  // 关键步骤：约分
    c /= g; d /= g;
    cout << min(a / c, b / d);  // 核心计算
    return 0;
}
```

---

## 可视化代码片段
```javascript
// Canvas 绘制核心逻辑（伪代码）
function drawStep(step) {
  switch(step) {
    case 0: // 显示原始比例
      drawFraction(c, d, 'red', 'blue');
      break;
    case 1: // 分解质因数
      highlightFactors(c, d); 
      playSound('factor');
      break;
    case 2: // 约分结果
      drawFraction(c/g, d/g, 'green', 'yellow');
      playSound('success');
      break;
    case 3: // 动态计算倍数
      animateKValue(a, b, c/g, d/g);
      playSound('calculate');
      break;
  }
}
```

---

## 个人心得摘录
> "面对 1e18 的数据范围，必须抛弃暴力思维，转而寻找数学规律。比例的约分是突破点，将看似复杂的问题转化为简单的整数除法运算。" —— ezoixx130

> "系统自带的 __gcd 函数在处理大数时非常高效，避免了手写 GCD 可能导致的栈溢出问题。" —— 小闸蟹

---

## 知识迁移建议
当遇到以下特征时，可考虑类似解法：
- 问题涉及比例或分数的最简形式
- 约束条件可分解为独立维度
- 大数范围要求 O(1) 或 O(logn) 复杂度

---
处理用时：73.70秒
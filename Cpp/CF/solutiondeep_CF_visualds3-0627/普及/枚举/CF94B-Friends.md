# 题目信息

# Friends

## 题目描述

有一天，一个叫做伊戈尔-凯的人放弃编程，转攻数学题。一个深秋的夜晚，他坐在桌旁读书，想着数学问题。
书上有着一段话吸引了他的注意：“在任六人中有三个人互相认识或互相不认识。”
伊戈尔完全无法理解为什么至少有六个人。“那对不起，我觉得五个人也一样，”他脑子里开始胡思乱想“让我试试...马克思，利亚，瓦娃--他们互相认识，额..再加一个迪玛和欧莱格，对瓦娃来说他们三个互不认识！哈哈哈哈哈，这个定理就是一个渣渣。”
伊戈尔带着他的5个朋友，让他们记下来，他们中谁互为朋友。现在他想看看这五个人是否真的认识三对或三对不认识的人。

## 样例 #1

### 输入

```
4
1 3
2 3
1 4
5 3
```

### 输出

```
WIN
```

## 样例 #2

### 输入

```
5
1 2
2 3
3 4
4 5
5 1
```

### 输出

```
FAIL
```

# AI分析结果



# 算法分类
图论 / 度数分析

---

# 综合分析与结论

## 核心思路
题目本质是判断5个顶点的图中是否存在3个顶点构成的完全子图（互相认识）或独立集（互相不认识）。根据Ramsey数R(3,3)=6的性质，5个顶点时可能存在反例。关键结论：当且仅当所有顶点度数均为2时（形成5环结构）不存在目标三元组，否则必然存在。

## 算法流程与可视化设计
1. **度数统计**：遍历所有边，统计每个顶点的度数
2. **关键判定**：检查是否存在度数≠2的顶点
3. **动画演示**：
   - 用5色圆点表示5个顶点
   - 红色高亮当前遍历的边，实时更新顶点度数显示
   - 发现度数≠2的顶点时，闪烁标记该顶点并停止计数
   - 右侧面板展示度数分布直方图
   - 最终场景展示对应的三元组结构（三角形或独立集）

## 复古游戏化设计
- **像素风格**：顶点用8位游戏机风格的16x16像素块表示
- **音效设计**：
  - 边加载时播放短促的"哔"声
  - 发现非2度顶点时播放《超级马里奥》金币音效
  - 最终判定时根据结果播放胜利/失败音效
- **自动演示模式**：按随机顺序加载边，自动触发判定逻辑

---

# 题解评分（≥4星）

## 1. lrq090403（★★★★★）
**亮点**：完整数学推导，通过度数分类讨论给出严格证明，代码极简  
**核心代码**：
```cpp
for(i=1;i<=5;++i) if(d[i]^2) { printf("WIN"); return 0; }
```

## 2. ncwzdlsd（★★★★☆）
**亮点**：简明扼要说明度数判定原理，代码可读性极佳  
**核心洞见**："每个点度数都为2时必为五边形结构"

## 3. Cutler（★★★★☆）
**亮点**：分享调试经历（并查集错误尝试），提供暴力解法对比  
**心得摘录**："发现a认识b，b认识c，a却不一定认识c，不能用并查集"

---

# 核心代码实现
```cpp
// 度数判定法
#include<iostream>
using namespace std;
int d[6], m;

int main() {
    cin >> m;
    for(int a,b; m--; ) {
        cin >> a >> b;
        d[a]++; d[b]++;
    }
    for(int i=1; i<=5; ++i)
        if(d[i] != 2) {
            cout << "WIN";
            return 0;
        }
    cout << "FAIL";
}
```

---

# 同类型题目拓展
1. **图论极值问题**：P1268（树的直径）  
2. **暴力枚举应用**：P1219（八皇后问题）  
3. **Ramsey数扩展**：P6850（NOI2020 超现实数，含图论分析）

---

# 可视化方案示例
```javascript
// 伪代码演示核心动画逻辑
class Visualizer {
    constructor() {
        this.nodes = Array(5).fill().map((_,i) => new PixelNode(i+1));
        this.speed = 1.0;
    }

    addEdge(a, b) {
        playSound('edge_add'); // 8-bit音效
        drawLine(this.nodes[a-1], this.nodes[b-1]);
        updateDegreeDisplay(a, b);
        checkWinCondition();
    }

    checkWinCondition() {
        if(this.nodes.some(n => n.degree != 2)) {
            highlightNodes(n => n.degree != 2);
            playSound('win'); // FC风格胜利音效
            showTripletExample(); 
        }
    }
}
```

---

# 关键思维突破点
**度数奇偶性观察**：在5个顶点的简单图中，若存在度数>2的顶点，根据鸽巢原理其邻接点中必然存在满足条件的三元组。这一洞见将O(n³)的暴力枚举优化为O(n)的线性判定。

---
处理用时：68.76秒
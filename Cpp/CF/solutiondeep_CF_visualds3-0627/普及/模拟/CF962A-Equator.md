# 题目信息

# Equator

## 题目描述

已知 Polycarp 共有 $n$ 天准备编程竞赛，他每天预计做的题数为 $a_i$，请问直到第几天能做完所有题目的一半或更多。

## 样例 #1

### 输入

```
4
1 3 2 1
```

### 输出

```
2
```

## 样例 #2

### 输入

```
6
2 2 2 2 2 2
```

### 输出

```
3
```

# AI分析结果



---

## 唯一算法分类
模拟

---

## 综合分析与结论
**题目核心**：寻找累加和≥总题数半值的最小天数。  
**核心难点**：  
1. 半数计算的向上取整处理（总题数奇偶性）  
2. 线性遍历的终止条件  

**算法流程**：  
1. 计算总题数，转化为半数目标值（总题数+1后除以2）  
2. 线性扫描数组累加，首次超过目标值时输出索引  
3. 时间复杂度 O(n)，空间复杂度 O(n)  

**可视化设计**：  
- **动画方案**：  
  - 顶部进度条显示当前累加值占总题数的百分比  
  - 每个天数块用像素风格显示题数，填充颜色表示是否计入累加  
  - 当累加值超过半数时，触发金色闪光特效和 8-bit 胜利音效  
- **交互设计**：  
  - 支持步进/自动播放，速度可调（1x/2x/0.5x）  
  - 历史轨迹回放功能，对比不同题解的扫描路径  

---

## 题解清单（≥4星）
### 1. pigstd（★★★★★）  
**亮点**：  
- 直接计算半数目标值，代码简洁  
- 二次遍历时立即返回，无冗余操作  
```cpp
s = (s + 1) / 2;  // 关键：向上取整处理
for (int i=1; i<=n; i++) {
    sum += a[i];
    if (sum >= s) {  // 首次达标立即终止
        cout << i;
        return 0;
    }
}
```

### 2. OdtreePrince（★★★★）  
**亮点**：  
- 前缀和预处理，便于后续扩展查询  
- 奇偶分情况处理目标值  
```cpp
if (sum%2 == 0) sum /= 2;
else sum = sum/2 + 1;  // 明确的奇偶处理
for (int i=1; i<=n; i++) {
    if (a[i] >= sum) {  // 前缀和直接比较
        cout << i;
        break;
    }
}
```

### 3. Register（★★★★）  
**亮点**：  
- 逆向思维，通过递减目标值确定天数  
- 空间效率优化（无需存储完整数组）  
```cpp
while (half > 0) half -= a[++day];  // 逆向减法求临界点
cout << day;
```

---

## 最优思路提炼
**关键技巧**：  
1. **半数计算**：总题数加 1 后除以 2，避免浮点精度问题  
2. **即时终止**：累加过程中首次达标立即返回，减少冗余计算  
3. **逆向减法**：用目标值递减代替累加，空间更优（若允许修改原数组）  

**思维模型**：  
- 将半数计算视为目标阈值，转化为线性扫描的终止条件  
- 利用问题的单调性（前缀和递增）简化判断逻辑  

---

## 相似题目推荐
1. **P2671 求和** - 前缀和与奇偶性结合  
2. **P1115 最大子段和** - 线性扫描求极值  
3. **P1638 逛画展** - 滑动窗口求最小覆盖区间  

---

## 可视化代码片段
```javascript
// 核心动画逻辑（伪代码）
class Animation {
  constructor(data) {
    this.total = data.reduce((a,b)=>a+b);
    this.target = Math.ceil(this.total / 2);
    this.progress = 0;
  }

  render() {
    // 绘制像素风格天数块
    data.forEach((val, idx) => {
      drawBlock(idx, val, idx <= currentDay); 
    });
    
    // 高亮当前进度
    if (this.progress >= this.target) {
      playSound('success.wav');
      highlightDay(currentDay);
    }
  }
}
```

---
处理用时：182.81秒
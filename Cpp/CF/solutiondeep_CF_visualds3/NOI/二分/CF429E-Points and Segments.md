# é¢˜ç›®ä¿¡æ¯

# Points and Segments

## é¢˜ç›®æè¿°

Iahub isn't well prepared on geometry problems, but he heard that this year there will be a lot of geometry problems on the IOI selection camp. Scared, Iahub locked himself in the basement and started thinking of new problems of this kind. One of them is the following.

Iahub wants to draw $ n $ distinct segments $ [l_{i},r_{i}] $ on the $ OX $ axis. He can draw each segment with either red or blue. The drawing is good if and only if the following requirement is met: for each point $ x $ of the $ OX $ axis consider all the segments that contains point $ x $ ; suppose, that $ r_{x} $ red segments and $ b_{x} $ blue segments contain point $ x $ ; for each point $ x $ inequality $ |r_{x}-b_{x}|<=1 $ must be satisfied.

A segment $ [l,r] $ contains a point $ x $ if and only if $ l<=x<=r $ .

Iahub gives you the starting and ending points of all the segments. You have to find any good drawing for him.

## æ ·ä¾‹ #1

### è¾“å…¥

```
2
0 2
2 3
```

### è¾“å‡º

```
0 1
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
6
1 5
1 3
3 5
2 10
11 11
12 12
```

### è¾“å‡º

```
0 1 0 1 0 0
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šPoints and Segments æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå›¾è®ºï¼ˆæ¬§æ‹‰å›è·¯/äºŒåˆ†å›¾æŸ“è‰²ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³è¿™é“é¢˜çš„å…³é”®ï¼Œå°±åƒæˆ‘ä»¬ç©â€œè¿çº¿è§£è°œæ¸¸æˆâ€â€”â€”æŠŠçº¿æ®µå’Œåæ ‡ç‚¹è¿æˆä¸€å¼ **å…³ç³»ç½‘**ï¼ˆå›¾ï¼‰ï¼Œé€šè¿‡å›¾çš„ç‰¹æ€§ï¼ˆæ¯”å¦‚â€œèµ°å›è·¯â€æˆ–â€œç»™èŠ‚ç‚¹æŸ“è‰²â€ï¼‰æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„çº¿æ®µé¢œè‰²æ–¹æ¡ˆã€‚  

ç®€å•æ¥è¯´ï¼Œå›¾è®ºçš„æ ¸å¿ƒæ˜¯â€œç”¨å…³ç³»è¿æ¥å…ƒç´ ï¼Œç”¨ç»“æ„è§£å†³é—®é¢˜â€ã€‚åœ¨æœ¬é¢˜ä¸­ï¼š  
- æˆ‘ä»¬æŠŠ**çº¿æ®µ**è½¬åŒ–ä¸ºå›¾çš„â€œè¾¹â€ï¼ŒæŠŠ**åæ ‡ç‚¹**è½¬åŒ–ä¸ºå›¾çš„â€œèŠ‚ç‚¹â€ï¼›  
- è¦æ±‚æ¯ä¸ªç‚¹çš„çº¢è“å›¾æ•°é‡å·®â‰¤1ï¼Œç­‰ä»·äºè¦æ±‚å›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„â€œå…¥åº¦=å‡ºåº¦â€ï¼ˆæ¬§æ‹‰å›è·¯ï¼‰æˆ–â€œç›¸é‚»èŠ‚ç‚¹é¢œè‰²ä¸åŒâ€ï¼ˆäºŒåˆ†å›¾æŸ“è‰²ï¼‰ã€‚  

### é¢˜è§£æ€è·¯ä¸æ ¸å¿ƒéš¾ç‚¹  
å¤§éƒ¨åˆ†é¢˜è§£çš„æ€è·¯éƒ½æ˜¯**â€œæ¨¡å‹è½¬åŒ–+å›¾è®ºç®—æ³•â€**ï¼š  
1. **æ¨¡å‹è½¬åŒ–**ï¼šæŠŠâ€œçº¿æ®µæŸ“è‰²â€è½¬åŒ–ä¸ºâ€œå›¾çš„è¾¹å®šå‘â€ï¼ˆæ¬§æ‹‰å›è·¯ï¼‰æˆ–â€œèŠ‚ç‚¹æŸ“è‰²â€ï¼ˆäºŒåˆ†å›¾ï¼‰ï¼›  
2. **ç¦»æ•£åŒ–**ï¼šå› ä¸ºåæ ‡èŒƒå›´å¤ªå¤§ï¼Œéœ€è¦æŠŠåæ ‡â€œå‹ç¼©â€åˆ°å°èŒƒå›´ï¼ˆæ¯”å¦‚æŠŠ1e9çš„åæ ‡å˜æˆ1åˆ°2nçš„ç¼–å·ï¼‰ï¼›  
3. **å›¾è®ºç®—æ³•**ï¼šç”¨DFSæ‰¾æ¬§æ‹‰å›è·¯ï¼ˆä¿è¯æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦=å‡ºåº¦ï¼‰ï¼Œæˆ–ç”¨äºŒåˆ†å›¾æŸ“è‰²ï¼ˆä¿è¯ç›¸é‚»èŠ‚ç‚¹é¢œè‰²ä¸åŒï¼‰ï¼Œä»è€Œå¾—åˆ°çº¿æ®µçš„é¢œè‰²ã€‚  

æ ¸å¿ƒéš¾ç‚¹æ˜¯**â€œå¦‚ä½•æŠŠçº¿æ®µé—®é¢˜è½¬åŒ–ä¸ºå›¾é—®é¢˜â€**â€”â€”æ¯”å¦‚ï¼Œä¸ºä»€ä¹ˆçº¿æ®µå¯ä»¥å˜æˆè¾¹ï¼Ÿä¸ºä»€ä¹ˆæ¬§æ‹‰å›è·¯èƒ½ä¿è¯é¢œè‰²å·®â‰¤1ï¼Ÿè§£å†³æ–¹æ¡ˆæ˜¯ï¼šæŠŠçº¿æ®µçš„â€œè¦†ç›–â€è½¬åŒ–ä¸ºâ€œè¾¹çš„éå†â€ï¼Œç”¨å›¾çš„ç»“æ„è‡ªç„¶æ»¡è¶³æ¯ä¸ªç‚¹çš„æ•°é‡å·®æ¡ä»¶ã€‚  

### å¯è§†åŒ–è®¾è®¡æ€è·¯  
æˆ‘ä¼šç”¨**8ä½åƒç´ é£**è®¾è®¡ä¸€ä¸ªâ€œæ•°è½´æ¢é™©â€åŠ¨ç”»ï¼š  
- æ•°è½´ç”¨é»‘ç™½åƒç´ å—æ‹¼æˆï¼Œåæ ‡ç‚¹æ˜¯å½©è‰²å°æ–¹å—ï¼ˆæ¯”å¦‚çº¢è‰²=èµ·ç‚¹ï¼Œè“è‰²=ç»ˆç‚¹ï¼‰ï¼›  
- çº¿æ®µæ˜¯è¿æ¥ä¸¤ç‚¹çš„å½©è‰²æ¡ï¼ˆæœªæŸ“è‰²æ—¶æ˜¯ç°è‰²ï¼ŒæŸ“è‰²åå˜çº¢/è“ï¼‰ï¼›  
- æ¬§æ‹‰å›è·¯çš„DFSè¿‡ç¨‹ç”¨â€œåƒç´ ç®­å¤´â€å±•ç¤ºï¼šç®­å¤´ä»ä¸€ä¸ªèŠ‚ç‚¹è·³åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¾¹è¢«éå†åå˜è‰²ï¼ŒåŒæ—¶æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼›  
- äº¤äº’æ§åˆ¶ï¼šæœ‰â€œå•æ­¥æ‰§è¡Œâ€ï¼ˆç‚¹å‡»ä¸€æ¬¡èµ°ä¸€æ­¥ï¼‰ã€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆæ»‘å—è°ƒé€Ÿåº¦ï¼‰ã€â€œé‡ç½®â€æŒ‰é’®ï¼Œå®Œæˆæ—¶ä¼šæœ‰â€œèƒœåˆ©â€éŸ³æ•ˆå’Œåƒç´ çƒŸèŠ±ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºå¤§å®¶ç­›é€‰äº†4ä»½æ€è·¯æ¸…æ™°ã€ä»£ç é«˜æ•ˆçš„é¢˜è§£ï¼Œä¸€èµ·æ¥çœ‹çœ‹å§ï½

### é¢˜è§£ä¸€ï¼šï¼ˆæ¥æºï¼šywy_c_asmï¼‰  
**ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ€è·¯åƒâ€œæ‹†ç§¯æœ¨å†æ­ç§¯æœ¨â€â€”â€”å…ˆæŠŠå¤§åæ ‡å‹ç¼©æˆå°ç¼–å·ï¼ˆç¦»æ•£åŒ–ï¼‰ï¼Œå†æŠŠçº¿æ®µå˜æˆå›¾çš„è¾¹ï¼Œæœ€åç”¨DFSæ‰¾æ¬§æ‹‰å›è·¯ã€‚ä»£ç æ•ˆç‡å¾ˆé«˜ï¼Œå°¤å…¶æ˜¯**ç¦»æ•£åŒ–**å’Œ**DFSéå†**çš„éƒ¨åˆ†ï¼Œé€»è¾‘éå¸¸æ¸…æ™°ã€‚ä½œè€…è¿˜å·§å¦™åœ°å¤„ç†äº†å¥‡æ•°åº¦çš„èŠ‚ç‚¹ï¼ˆå¼ºè¡ŒåŠ è¾¹è®©æ‰€æœ‰èŠ‚ç‚¹åº¦ä¸ºå¶æ•°ï¼‰ï¼Œä¿è¯æ¬§æ‹‰å›è·¯å­˜åœ¨ï¼Œå®Œç¾è§£å†³äº†é—®é¢˜ï¼

### é¢˜è§£äºŒï¼šï¼ˆæ¥æºï¼šfrankchenfuï¼‰  
**ç‚¹è¯„**ï¼šè¿™é“é¢˜è§£ç”¨äº†â€œäºŒåˆ†å›¾æŸ“è‰²â€çš„æ€è·¯ï¼ŒæŠŠçº¿æ®µå˜æˆå›¾çš„èŠ‚ç‚¹ï¼Œåæ ‡ç‚¹å˜æˆè¿æ¥çº¿æ®µçš„è¾¹ã€‚å°±åƒç»™æ£‹ç›˜æŸ“è‰²ä¸€æ ·ï¼Œç›¸é‚»çš„çº¿æ®µèŠ‚ç‚¹é¢œè‰²ä¸åŒï¼Œä»è€Œä¿è¯æ¯ä¸ªç‚¹çš„çº¢è“å›¾æ•°é‡å·®â‰¤1ã€‚æ€è·¯éå¸¸ç®€æ´ï¼Œä»£ç ä¹Ÿå¾ˆçŸ­ï¼Œé€‚åˆåˆšå­¦å›¾è®ºçš„åŒå­¦ç†è§£ï¼

### é¢˜è§£ä¸‰ï¼šï¼ˆæ¥æºï¼štzc_wkï¼‰  
**ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ ¸å¿ƒæ˜¯â€œæ¬§æ‹‰å›è·¯çš„è½¬åŒ–â€â€”â€”æŠŠçº¿æ®µçš„â€œæŸ“è‰²â€å˜æˆâ€œè¾¹çš„å®šå‘â€ï¼ˆä»å·¦åˆ°å³æ˜¯çº¢ï¼Œä»å³åˆ°å·¦æ˜¯è“ï¼‰ã€‚ä½œè€…ç”¨äº†**å·®åˆ†æ€æƒ³**ï¼ˆåŒºé—´æ“ä½œè½¬åŒ–ä¸ºç«¯ç‚¹æ“ä½œï¼‰ï¼ŒæŠŠé—®é¢˜ç®€åŒ–ä¸ºâ€œè®©æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦=å‡ºåº¦â€ï¼Œå†ç”¨DFSæ‰¾å›è·¯ã€‚ä»£ç ç®€æ´ï¼Œæ³¨é‡Šæ¸…æ¥šï¼Œå¾ˆé€‚åˆå­¦ä¹ æ¬§æ‹‰å›è·¯çš„åº”ç”¨ï¼

### é¢˜è§£å››ï¼šï¼ˆæ¥æºï¼šLebronDurantï¼‰  
**ç‚¹è¯„**ï¼šè¿™é“é¢˜è§£ç”¨äº†â€œ2-SATâ€çš„æ€è·¯ï¼ŒæŠŠâ€œçº¿æ®µæŸ“è‰²â€è½¬åŒ–ä¸ºâ€œé€»è¾‘å‘½é¢˜â€ï¼ˆæ¯”å¦‚â€œçº¿æ®µiæŸ“çº¢â€æˆ–â€œçº¿æ®µiæŸ“è“â€ï¼‰ã€‚é€šè¿‡æ‰«æçº¿å¤„ç†ç«¯ç‚¹ï¼Œå»ºç«‹é€»è¾‘å…³ç³»ï¼ˆæ¯”å¦‚â€œä¸¤ä¸ªç«¯ç‚¹çš„çº¿æ®µé¢œè‰²ç›¸åŒ/ä¸åŒâ€ï¼‰ï¼Œæœ€åç”¨å¼ºè¿é€šåˆ†é‡æ‰¾è§£ã€‚è¿™ç§æ€è·¯å¾ˆæ–°é¢–ï¼Œé€‚åˆæ‹“å±•æ€ç»´ï¼


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### å…³é”®ç‚¹1ï¼šå¦‚ä½•æŠŠçº¿æ®µé—®é¢˜è½¬åŒ–ä¸ºå›¾é—®é¢˜ï¼Ÿ  
**åˆ†æ**ï¼šè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼æ¯”å¦‚ï¼Œæ¬§æ‹‰å›è·¯çš„æ€è·¯ä¸­ï¼Œçº¿æ®µæ˜¯â€œè¾¹â€ï¼Œåæ ‡ç‚¹æ˜¯â€œèŠ‚ç‚¹â€â€”â€”çº¿æ®µè¦†ç›–ä¸€ä¸ªç‚¹ï¼Œç­‰ä»·äºè¾¹ç»è¿‡è¿™ä¸ªèŠ‚ç‚¹ã€‚è¦æ±‚æ¯ä¸ªç‚¹çš„çº¢è“å›¾æ•°é‡å·®â‰¤1ï¼Œç­‰ä»·äºè¦æ±‚æ¯ä¸ªèŠ‚ç‚¹çš„â€œå…¥åº¦=å‡ºåº¦â€ï¼ˆæ¬§æ‹‰å›è·¯çš„æ€§è´¨ï¼‰ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ï¼šæŠŠçº¿æ®µ[L,R]è½¬åŒ–ä¸ºè¿æ¥Lå’ŒR+1çš„è¾¹ï¼ˆå·¦é—­å³å¼€åŒºé—´ï¼‰ï¼Œè¿™æ ·è¾¹çš„éå†å°±å¯¹åº”çº¿æ®µçš„æŸ“è‰²ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ¨¡å‹è½¬åŒ–çš„å…³é”®æ˜¯â€œæ‰¾ç­‰ä»·å…³ç³»â€â€”â€”æŠŠé¢˜ç›®è¦æ±‚è½¬åŒ–ä¸ºå›¾çš„æ€§è´¨ï¼

### å…³é”®ç‚¹2ï¼šå¦‚ä½•å¤„ç†å¤§åæ ‡ï¼Ÿ  
**åˆ†æ**ï¼šé¢˜ç›®ä¸­çš„åæ ‡å¯èƒ½åˆ°1e9ï¼Œç›´æ¥ç”¨æ•°ç»„å­˜ä¼šçˆ†å†…å­˜ã€‚è§£å†³æ–¹æ¡ˆæ˜¯**ç¦»æ•£åŒ–**ï¼šæŠŠæ‰€æœ‰å‡ºç°çš„åæ ‡ï¼ˆçº¿æ®µçš„Lå’ŒRï¼‰æ”¶é›†èµ·æ¥ï¼Œæ’åºåç»™æ¯ä¸ªåæ ‡ä¸€ä¸ªâ€œå°ç¼–å·â€ï¼ˆæ¯”å¦‚æŠŠ1e9å˜æˆ1ï¼Œ1e9+1å˜æˆ2ï¼‰ï¼Œè¿™æ ·å°±èƒ½ç”¨æ•°ç»„å¤„ç†äº†ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç¦»æ•£åŒ–æ˜¯å¤„ç†å¤§åæ ‡é—®é¢˜çš„â€œå‹ç¼©é­”æ³•â€ï¼

### å…³é”®ç‚¹3ï¼šå¦‚ä½•ä¿è¯æ¯ä¸ªç‚¹çš„å·®â‰¤1ï¼Ÿ  
**åˆ†æ**ï¼šæ¬§æ‹‰å›è·¯çš„æ€§è´¨æ˜¯â€œæ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦=å‡ºåº¦â€ï¼Œå¯¹åº”æ¯ä¸ªç‚¹çš„çº¢è“å›¾æ•°é‡ç›¸ç­‰ï¼ˆå·®ä¸º0ï¼‰ï¼›å¦‚æœæœ‰å¥‡æ•°åº¦çš„èŠ‚ç‚¹ï¼ŒåŠ è¾¹è®©å®ƒä»¬å˜æˆå¶æ•°åº¦ï¼Œè¿™æ ·å·®æœ€å¤šæ˜¯1ã€‚äºŒåˆ†å›¾æŸ“è‰²çš„æ€§è´¨æ˜¯â€œç›¸é‚»èŠ‚ç‚¹é¢œè‰²ä¸åŒâ€ï¼Œå¯¹åº”çº¿æ®µçš„é¢œè‰²æ»¡è¶³æ¯ä¸ªç‚¹çš„å·®â‰¤1ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå›¾çš„æ€§è´¨æ˜¯è§£å†³é—®é¢˜çš„â€œé’¥åŒ™â€â€”â€”è¦è®°ä½æ¬§æ‹‰å›è·¯ã€äºŒåˆ†å›¾çš„æ ¸å¿ƒç‰¹æ€§ï¼


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
**è¯´æ˜**ï¼šè¿™ä»½ä»£ç æ¥è‡ªé¢˜è§£ä¸€ï¼ˆywy_c_asmï¼‰ï¼Œç»¼åˆäº†ç¦»æ•£åŒ–ã€æ¬§æ‹‰å›è·¯çš„æ ¸å¿ƒæ€è·¯ï¼Œé€»è¾‘æ¸…æ™°ã€æ•ˆç‡é«˜ã€‚  
**å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
```cpp
#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

namespace ywy {
    inline int get() {
        int n = 0; char c;
        while ((c = getchar()) && (c < '0' || c > '9'));
        n = c - '0';
        while ((c = getchar()) && (c >= '0' && c <= '9')) n = n * 10 + c - '0';
        return n;
    }

    struct bian { int dest, nxt, id; unsigned char gg; };
    bian memchi[1000001];
    int gn = 2, heads[222222];
    inline void add(int s, int t, int id) {
        memchi[gn] = {t, heads[s], id, 0}; heads[s] = gn++;
        memchi[gn] = {s, heads[t], id, 0}; heads[t] = gn++;
    }

    int dss[333333], dts[333333];
    unsigned char bv[333333];
    void dfs(int pt) {
        bv[pt] = 1;
        for (int &i = heads[pt]; i; i = memchi[i].nxt) {
            if (memchi[i].gg) continue;
            dss[memchi[i].id] = pt; dts[memchi[i].id] = memchi[i].dest;
            memchi[i].gg = memchi[i ^ 1].gg = 1;
            dfs(memchi[i].dest);
        }
    }

    int lsh[222222], ls[100001], rs[100001], adds[222222], dels[222222], cnt[222222];
    void ywymain() {
        int n = get();
        int ptr = 1;
        for (int i = 1; i <= n; i++) {
            ls[i] = lsh[ptr++] = get();
            rs[i] = lsh[ptr++] = get() + 1;
        }
        sort(lsh + 1, lsh + ptr);
        int newl = unique(lsh + 1, lsh + ptr) - lsh - 1;
        for (int i = 1; i <= n; i++) {
            ls[i] = lower_bound(lsh + 1, lsh + newl + 1, ls[i]) - lsh;
            rs[i] = lower_bound(lsh + 1, lsh + newl + 1, rs[i]) - lsh;
            add(ls[i], rs[i], i);
            adds[ls[i]]++; dels[rs[i]]++;
        }
        for (int i = 1; i <= newl; i++) {
            cnt[i] = cnt[i - 1] + adds[i] - dels[i];
            if (cnt[i] & 1) add(i, i + 1, n + 1);
        }
        for (int i = 1; i <= newl; i++) if (!bv[i]) dfs(i);
        for (int i = 1; i <= n; i++) printf("%d ", dss[i] > dts[i] ? 1 : 0);
    }
}

int main() { ywy::ywymain(); return 0; }
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
1. **è¾“å…¥å¤„ç†**ï¼šç”¨`get()`å‡½æ•°å¿«é€Ÿè¯»å–è¾“å…¥ï¼›  
2. **ç¦»æ•£åŒ–**ï¼šæ”¶é›†æ‰€æœ‰åæ ‡ï¼Œæ’åºåå‹ç¼©æˆå°ç¼–å·ï¼›  
3. **å»ºå›¾**ï¼šæŠŠçº¿æ®µ[L,R]è½¬åŒ–ä¸ºè¿æ¥Lå’ŒR+1çš„è¾¹ï¼›  
4. **å¤„ç†å¥‡æ•°åº¦èŠ‚ç‚¹**ï¼šç»™å¥‡æ•°åº¦çš„èŠ‚ç‚¹åŠ è¾¹ï¼Œä¿è¯æ¬§æ‹‰å›è·¯å­˜åœ¨ï¼›  
5. **DFSæ‰¾æ¬§æ‹‰å›è·¯**ï¼šéå†å›¾ï¼Œè®°å½•æ¯æ¡è¾¹çš„æ–¹å‘ï¼ˆå¯¹åº”çº¿æ®µé¢œè‰²ï¼‰ï¼›  
6. **è¾“å‡º**ï¼šæ ¹æ®è¾¹çš„æ–¹å‘è¾“å‡ºçº¿æ®µé¢œè‰²ï¼ˆçº¢=1ï¼Œè“=0ï¼‰ã€‚


### é¢˜è§£ä¸€ï¼ˆywy_c_asmï¼‰ç‰‡æ®µèµæ  
**äº®ç‚¹**ï¼šç”¨DFSæ‰¾æ¬§æ‹‰å›è·¯ï¼Œå·§å¦™å¤„ç†å¥‡æ•°åº¦èŠ‚ç‚¹ã€‚  
**æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
void dfs(int pt) {
    bv[pt] = 1;
    for (int &i = heads[pt]; i; i = memchi[i].nxt) {
        if (memchi[i].gg) continue;
        dss[memchi[i].id] = pt; dts[memchi[i].id] = memchi[i].dest;
        memchi[i].gg = memchi[i ^ 1].gg = 1;
        dfs(memchi[i].dest);
    }
}
```
**ä»£ç è§£è¯»**ï¼š  
è¿™æ®µä»£ç æ˜¯æ¬§æ‹‰å›è·¯çš„æ ¸å¿ƒï¼`dfs(pt)`è¡¨ç¤ºä»èŠ‚ç‚¹`pt`å¼€å§‹éå†ï¼š  
- `bv[pt] = 1`ï¼šæ ‡è®°èŠ‚ç‚¹`pt`å·²è®¿é—®ï¼›  
- `for`å¾ªç¯éå†`pt`çš„æ‰€æœ‰è¾¹ï¼š  
  - `memchi[i].gg`ï¼šåˆ¤æ–­è¾¹æ˜¯å¦å·²è¢«éå†ï¼›  
  - `dss`å’Œ`dts`ï¼šè®°å½•è¾¹çš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼ˆå¯¹åº”çº¿æ®µçš„æ–¹å‘ï¼‰ï¼›  
  - `memchi[i].gg = 1`ï¼šæ ‡è®°è¾¹å·²éå†ï¼ˆé¿å…é‡å¤ï¼‰ï¼›  
  - `dfs(memchi[i].dest)`ï¼šé€’å½’éå†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šDFSæ˜¯æ‰¾æ¬§æ‹‰å›è·¯çš„â€œå¸¸ç”¨å·¥å…·â€â€”â€”é€’å½’éå†æ‰€æœ‰è¾¹ï¼Œè®°å½•è·¯å¾„ï¼


### é¢˜è§£äºŒï¼ˆfrankchenfuï¼‰ç‰‡æ®µèµæ  
**äº®ç‚¹**ï¼šç”¨äºŒåˆ†å›¾æŸ“è‰²è§£å†³é—®é¢˜ï¼Œæ€è·¯ç®€æ´ã€‚  
**æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
void dfs(int x, int y) {  
    if (vis[x] >= 0) return;  
    vis[x] = y;  
    for (int i = 0; i < p[x].size(); i++)  
        dfs(p[x][i], 1 ^ y);  
}
```
**ä»£ç è§£è¯»**ï¼š  
è¿™æ®µä»£ç æ˜¯äºŒåˆ†å›¾æŸ“è‰²çš„æ ¸å¿ƒï¼`dfs(x, y)`è¡¨ç¤ºç»™èŠ‚ç‚¹`x`æŸ“é¢œè‰²`y`ï¼ˆ0æˆ–1ï¼‰ï¼š  
- `vis[x] >= 0`ï¼šå¦‚æœå·²ç»æŸ“è‰²ï¼Œç›´æ¥è¿”å›ï¼›  
- `vis[x] = y`ï¼šç»™èŠ‚ç‚¹`x`æŸ“é¢œè‰²`y`ï¼›  
- `for`å¾ªç¯éå†`x`çš„é‚»å±…ï¼š  
  - `1 ^ y`ï¼šé‚»å±…çš„é¢œè‰²å’Œ`x`ç›¸åï¼ˆ0å˜1ï¼Œ1å˜0ï¼‰ï¼›  
  - `dfs(p[x][i], 1 ^ y)`ï¼šé€’å½’æŸ“è‰²é‚»å±…ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šäºŒåˆ†å›¾æŸ“è‰²çš„å…³é”®æ˜¯â€œç›¸é‚»èŠ‚ç‚¹é¢œè‰²ä¸åŒâ€â€”â€”ç”¨é€’å½’å®ç°éå¸¸ç®€æ´ï¼


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º  

### åŠ¨ç”»ä¸»é¢˜ï¼šåƒç´ æ•°è½´æ¢é™©  
**è®¾è®¡æ€è·¯**ï¼šç”¨8ä½åƒç´ é£æ¨¡æ‹Ÿæ•°è½´ï¼Œè®©â€œçº¿æ®µå°å‹‡å£«â€æ²¿ç€æ•°è½´æ‰¾è·¯å¾„ï¼Œç”¨åŠ¨ç”»å±•ç¤ºæ¬§æ‹‰å›è·¯çš„éå†è¿‡ç¨‹ï¼Œå¢å¼ºå­¦ä¹ è¶£å‘³æ€§ã€‚  

### åŠ¨ç”»å¸§æ­¥éª¤  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¯**åƒç´ æ•°è½´**ï¼ˆé»‘ç™½åƒç´ å—æ‹¼æˆï¼Œåæ ‡ç‚¹æ˜¯å½©è‰²å°æ–¹å—ï¼‰ï¼›  
   - å³ä¾§æ˜¯**æ§åˆ¶é¢æ¿**ï¼šæœ‰â€œå¼€å§‹/æš‚åœâ€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼ˆä»â€œæ…¢â€åˆ°â€œå¿«â€ï¼‰ï¼›  
   - æ’­æ”¾8ä½é£æ ¼çš„èƒŒæ™¯éŸ³ä¹ï¼ˆæ¯”å¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„å°æ—‹å¾‹ï¼‰ã€‚  

2. **ç¦»æ•£åŒ–å±•ç¤º**ï¼š  
   - æŠŠå¤§åæ ‡ï¼ˆæ¯”å¦‚1e9ï¼‰å‹ç¼©æˆå°ç¼–å·ï¼ˆæ¯”å¦‚1åˆ°10ï¼‰ï¼Œæ•°è½´ä¸Šçš„åæ ‡ç‚¹å˜æˆâ€œ1â€â€œ2â€â€œ3â€çš„åƒç´ å­—ã€‚  

3. **å»ºå›¾åŠ¨ç”»**ï¼š  
   - çº¿æ®µæ˜¯è¿æ¥ä¸¤ä¸ªåæ ‡ç‚¹çš„å½©è‰²æ¡ï¼ˆæœªæŸ“è‰²æ—¶æ˜¯ç°è‰²ï¼‰ï¼›  
   - ç‚¹å‡»â€œå¼€å§‹â€ï¼Œçº¿æ®µå˜æˆè¾¹ï¼Œè¿æ¥å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæ’­æ”¾â€œå®â€çš„éŸ³æ•ˆã€‚  

4. **DFSéå†åŠ¨ç”»**ï¼š  
   - ç”¨**çº¢è‰²ç®­å¤´**è¡¨ç¤ºå½“å‰éå†çš„èŠ‚ç‚¹ï¼ˆæ¯”å¦‚ä»èŠ‚ç‚¹1å‡ºå‘ï¼‰ï¼›  
   - ç®­å¤´èµ°åˆ°è¾¹çš„å¦ä¸€ç«¯ï¼Œè¾¹å˜æˆè“è‰²ï¼ˆè¡¨ç¤ºå·²éå†ï¼‰ï¼Œæ’­æ”¾â€œæ»‹æ»‹â€çš„éŸ³æ•ˆï¼›  
   - å•æ­¥æ‰§è¡Œï¼šç‚¹å‡»â€œå•æ­¥â€ï¼Œç®­å¤´èµ°ä¸€æ­¥ï¼›è‡ªåŠ¨æ’­æ”¾ï¼šæ»‘å—è°ƒé€Ÿåº¦ï¼Œç®­å¤´è¿ç»­èµ°ã€‚  

5. **ç»“æœå±•ç¤º**ï¼š  
   - æ‰€æœ‰è¾¹éå†å®Œæˆåï¼Œçº¿æ®µå˜æˆçº¢/è“ä¸¤è‰²ï¼Œæ•°è½´ä¸Šçš„ç‚¹æ˜¾ç¤ºâ€œå·®=0â€æˆ–â€œå·®=1â€ï¼›  
   - æ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆæ¯”å¦‚ã€Šé­‚æ–—ç½—ã€‹çš„é€šå…³éŸ³ä¹ï¼‰ï¼Œå±å¹•å‡ºç°åƒç´ çƒŸèŠ±ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜  

### é€šç”¨æ€è·¯è¿ç§»  
æœ¬é¢˜çš„æ€è·¯ï¼ˆæ¨¡å‹è½¬åŒ–+å›¾è®ºï¼‰å¯ä»¥è§£å†³å¾ˆå¤šç±»ä¼¼é—®é¢˜ï¼Œæ¯”å¦‚ï¼š  
1. ç»™åŒºé—´æŸ“è‰²ï¼Œè¦æ±‚æ¯ä¸ªç‚¹çš„é¢œè‰²æ•°é‡æ»¡è¶³æ¡ä»¶ï¼›  
2. ç”¨æ¬§æ‹‰å›è·¯è§£å†³â€œè·¯å¾„è¦†ç›–â€é—®é¢˜ï¼›  
3. ç”¨äºŒåˆ†å›¾æŸ“è‰²è§£å†³â€œç›¸é‚»å…ƒç´ ä¸åŒè‰²â€é—®é¢˜ã€‚  

### æ´›è°·ç»ƒä¹ æ¨è  
1. **P3386 ã€æ¨¡æ¿ã€‘äºŒåˆ†å›¾åŒ¹é…**ï¼šå·©å›ºäºŒåˆ†å›¾çš„åŸºæœ¬æ¦‚å¿µï¼›  
2. **P4171 ã€æ¨¡æ¿ã€‘2-SAT**ï¼šå­¦ä¹ 2-SATçš„å»ºæ¨¡æ–¹æ³•ï¼›  
3. **P2863 [USACO06JAN]The Cow Prom S**ï¼šç»ƒä¹ å¼ºè¿é€šåˆ†é‡çš„æ‰¾æ³•ï¼›  
4. **CF547D Mike and Fish**ï¼šå’Œæœ¬é¢˜æ€è·¯å‡ ä¹ä¸€æ ·ï¼Œå¼ºåŒ–æ¨¡å‹è½¬åŒ–èƒ½åŠ›ï¼


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«  

é¢˜è§£ä¸­å¾ˆå¤šä½œè€…æåˆ°ï¼š  
> â€œæ¨¡å‹è½¬åŒ–æ˜¯è§£å†³é—®é¢˜çš„å…³é”®â€”â€”è¦å­¦ä¼šæŠŠçº¿æ®µé—®é¢˜å˜æˆå›¾é—®é¢˜ï¼â€  
> â€œç¦»æ•£åŒ–æ˜¯å¤„ç†å¤§åæ ‡çš„å¿…å¤‡æŠ€å·§â€”â€”ä¸è¦æ€•éº»çƒ¦ï¼â€  

è¿™äº›ç»éªŒéå¸¸æœ‰ç”¨ï¼æ¯”å¦‚ï¼Œå½“é‡åˆ°å¤§åæ ‡æ—¶ï¼Œç¬¬ä¸€ååº”åº”è¯¥æ˜¯â€œç¦»æ•£åŒ–â€ï¼›å½“é‡åˆ°â€œæ•°é‡å·®â‰¤1â€çš„æ¡ä»¶æ—¶ï¼Œè¦æƒ³åˆ°â€œå›¾çš„æ€§è´¨â€ï¼ˆæ¯”å¦‚æ¬§æ‹‰å›è·¯ã€äºŒåˆ†å›¾ï¼‰ã€‚  


## æ€»ç»“  
è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯**â€œæ¨¡å‹è½¬åŒ–+å›¾è®ºç®—æ³•â€**â€”â€”æŠŠçº¿æ®µå˜æˆè¾¹ï¼ŒæŠŠåæ ‡å˜æˆèŠ‚ç‚¹ï¼Œç”¨æ¬§æ‹‰å›è·¯æˆ–äºŒåˆ†å›¾æŸ“è‰²æ‰¾åˆ°ç­”æ¡ˆã€‚é€šè¿‡è¿™é“é¢˜ï¼Œæˆ‘ä»¬å­¦ä¼šäº†ç¦»æ•£åŒ–ã€å›¾çš„å»ºå›¾æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•ç”¨DFSæ‰¾æ¬§æ‹‰å›è·¯/æŸ“è‰²ã€‚  

è®°ä½ï¼šç¼–ç¨‹çš„ä¹è¶£åœ¨äºâ€œæŠŠå¤æ‚é—®é¢˜æ‹†æˆç®€å•æ¨¡å—â€â€”â€”å°±åƒæ­ç§¯æœ¨ä¸€æ ·ï¼Œä¸€æ­¥æ­¥è§£å†³ï¼ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„æŒ‘æˆ˜ï½ ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š97.67ç§’
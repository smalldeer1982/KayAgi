# é¢˜ç›®ä¿¡æ¯

# Points and Segments

## é¢˜ç›®æè¿°

Iahub isn't well prepared on geometry problems, but he heard that this year there will be a lot of geometry problems on the IOI selection camp. Scared, Iahub locked himself in the basement and started thinking of new problems of this kind. One of them is the following.

Iahub wants to draw $ n $ distinct segments $ [l_{i},r_{i}] $ on the $ OX $ axis. He can draw each segment with either red or blue. The drawing is good if and only if the following requirement is met: for each point $ x $ of the $ OX $ axis consider all the segments that contains point $ x $ ; suppose, that $ r_{x} $ red segments and $ b_{x} $ blue segments contain point $ x $ ; for each point $ x $ inequality $ |r_{x}-b_{x}|<=1 $ must be satisfied.

A segment $ [l,r] $ contains a point $ x $ if and only if $ l<=x<=r $ .

Iahub gives you the starting and ending points of all the segments. You have to find any good drawing for him.

## æ ·ä¾‹ #1

### è¾“å…¥

```
2
0 2
2 3
```

### è¾“å‡º

```
0 1
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
6
1 5
1 3
3 5
2 10
11 11
12 12
```

### è¾“å‡º

```
0 1 0 1 0 0
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šPoints and Segments æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå›¾è®ºï¼ˆæ¬§æ‹‰å›è·¯/2-SATï¼‰


ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œPoints and Segmentsâ€çš„å…³é”®ï¼Œæ˜¯æŠŠâ€œçº¿æ®µæŸ“è‰²â€é—®é¢˜**è½¬åŒ–ä¸ºå›¾è®ºæ¨¡å‹**â€”â€”å°±åƒæŠŠâ€œç»™çº¿æ®µæ¶‚é¢œè‰²â€å˜æˆâ€œç»™å›¾çš„è¾¹å®šæ–¹å‘â€æˆ–â€œç»™å›¾çš„èŠ‚ç‚¹æŸ“è‰²â€ã€‚ç®€å•æ¥è¯´ï¼š  
- è‹¥æŠŠ**çº¿æ®µ**çœ‹ä½œå›¾çš„**è¾¹**ï¼Œ**ç«¯ç‚¹**çœ‹ä½œå›¾çš„**èŠ‚ç‚¹**ï¼Œé‚£ä¹ˆâ€œçº¢è“çº¿æ®µæ•°å·®â‰¤1â€çš„è¦æ±‚ï¼Œç­‰ä»·äºâ€œå›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ä¸å‡ºåº¦å·®â‰¤1â€ï¼ˆæ¬§æ‹‰å›è·¯çš„æ€§è´¨ï¼‰ï¼›  
- æˆ–ç”¨**æ‰«æçº¿+2-SAT**ï¼šæŠŠçº¿æ®µç«¯ç‚¹æŒ‰é¡ºåºå¤„ç†ï¼Œæ ¹æ®å¥‡å¶è¦†ç›–æ¬¡æ•°å»ºç«‹â€œçº¿æ®µé¢œè‰²å¿…é¡»ç›¸åŒ/ä¸åŒâ€çš„é€»è¾‘çº¦æŸï¼Œå†ç”¨2-SATæ±‚è§£ã€‚  

### æ ¸å¿ƒç®—æ³•æµç¨‹ä¸å¯è§†åŒ–è®¾è®¡
ä»¥**æ¬§æ‹‰å›è·¯**ä¸ºä¾‹ï¼Œæ ¸å¿ƒæµç¨‹æ˜¯ï¼š  
1. **ç¦»æ•£åŒ–**ï¼šå°†å¤§åæ ‡æ˜ å°„åˆ°å°èŒƒå›´ï¼ˆæ¯”å¦‚æŠŠ1e9çš„åæ ‡å˜æˆ1~2nçš„ç¼–å·ï¼‰ï¼›  
2. **å»ºå›¾**ï¼šæ¯çº¿æ®µå¯¹åº”ä¸€æ¡è¾¹ï¼ˆå·¦ç«¯ç‚¹â†’å³ç«¯ç‚¹+1ï¼‰ï¼›  
3. **è¡¥å…¨å¥‡å¶åº¦**ï¼šå°†åº¦æ•°ä¸ºå¥‡æ•°çš„èŠ‚ç‚¹ä¸¤ä¸¤è¿è¾¹ï¼Œç¡®ä¿å›¾å­˜åœ¨æ¬§æ‹‰å›è·¯ï¼›  
4. **æ‰¾æ¬§æ‹‰å›è·¯**ï¼šDFSéå†å›¾ï¼Œç»™è¾¹å®šå‘ï¼ˆæ–¹å‘å¯¹åº”é¢œè‰²ï¼‰ã€‚  

å¯è§†åŒ–è®¾è®¡æ€è·¯ï¼š  
- ç”¨**8ä½åƒç´ é£**å±•ç¤ºæ•°è½´ï¼ˆæ¯”å¦‚FCæ¸¸æˆçš„â€œåƒç´ æ•°è½´â€ï¼‰ï¼Œçº¿æ®µç”¨å½©è‰²åƒç´ å—è¡¨ç¤ºï¼›  
- **æ‰«æçº¿åŠ¨ç”»**ï¼šä»å·¦åˆ°å³ç§»åŠ¨â€œæ‰«æçº¿â€ï¼Œå¤„ç†ç«¯ç‚¹æ—¶é«˜äº®å¯¹åº”çš„èŠ‚ç‚¹å’Œè¾¹ï¼›  
- **æ¬§æ‹‰å›è·¯æ¼”ç¤º**ï¼šç”¨â€œåƒç´ ç®­å¤´â€æ²¿å›è·¯ç§»åŠ¨ï¼Œè¾¹å®šå‘æ—¶æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼Œå®Œæˆåçº¿æ®µå˜è‰²ï¼ˆçº¢/è“ï¼‰ï¼›  
- **äº¤äº’æ§åˆ¶**ï¼šæ”¯æŒå•æ­¥æ‰§è¡Œã€è‡ªåŠ¨æ’­æ”¾ï¼Œé€Ÿåº¦æ»‘å—è°ƒèŠ‚ï¼Œé‡ç½®åŠ¨ç”»ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šywy_c_asmï¼ˆèµ16ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ ¸å¿ƒæ˜¯**æ¬§æ‹‰å›è·¯çš„è½¬åŒ–**ï¼Œæ€è·¯æ¸…æ™°ä¸”ä»£ç é«˜æ•ˆã€‚ä½œè€…å°†çº¿æ®µè½¬åŒ–ä¸ºè¾¹ï¼Œå¤„ç†å¥‡å¶åº¦ç‚¹åç”¨DFSæ‰¾æ¬§æ‹‰å›è·¯ï¼Œæœ€ç»ˆé€šè¿‡è¾¹çš„æ–¹å‘ç¡®å®šé¢œè‰²ã€‚ä»£ç ä¸­çš„ç¦»æ•£åŒ–ã€DFSéå†å’Œè¾¹æ ‡è®°éƒ¨åˆ†éå¸¸è§„èŒƒï¼Œç‰¹åˆ«æ˜¯ç”¨`dfs`å‡½æ•°å¤„ç†æ¬§æ‹‰å›è·¯çš„æ–¹å¼ï¼Œé¿å…äº†é‡å¤è®¡ç®—ã€‚å”¯ä¸€çš„å°ä¸è¶³æ˜¯å˜é‡åç•¥ç´§å‡‘ï¼ˆæ¯”å¦‚`ywymain`ï¼‰ï¼Œä½†æ•´ä½“é€»è¾‘æ˜“è¯»ã€‚


### é¢˜è§£äºŒï¼šfrankchenfuï¼ˆèµ16ï¼‰  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£çš„äº®ç‚¹æ˜¯**äºŒåˆ†å›¾å»ºæ¨¡**â€”â€”å°†çº¿æ®µç«¯ç‚¹ä½œä¸ºäºŒåˆ†å›¾çš„èŠ‚ç‚¹ï¼Œå»ºç«‹è¾¹åè¿›è¡Œé»‘ç™½æŸ“è‰²ã€‚ä½œè€…å·§å¦™åœ°å°†â€œçº¿æ®µé¢œè‰²â€è½¬åŒ–ä¸ºâ€œèŠ‚ç‚¹é¢œè‰²â€ï¼Œé€šè¿‡DFSæŸ“è‰²ç›´æ¥å¾—åˆ°ç»“æœã€‚ä»£ç ä¸­çš„`multimap`å¤„ç†ç«¯ç‚¹é¡ºåºå¾ˆå·§å¦™ï¼Œç¦»æ•£åŒ–æ­¥éª¤æ¸…æ™°ï¼Œé€‚åˆç†è§£å›¾æŸ“è‰²çš„æ€æƒ³ã€‚


### é¢˜è§£ä¸‰ï¼štzc_wkï¼ˆèµ11ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£ç»“åˆäº†**å·®åˆ†ä¸æ¬§æ‹‰å›è·¯**ï¼Œå°†åŒºé—´æ“ä½œè½¬åŒ–ä¸ºç«¯ç‚¹è¾¹ï¼ˆå·¦ç«¯ç‚¹+1ï¼Œå³ç«¯ç‚¹+1-1ï¼‰ï¼Œå†ç”¨æ¬§æ‹‰å›è·¯å®šå‘ã€‚ä½œè€…è¯¦ç»†è§£é‡Šäº†è½¬åŒ–è¿‡ç¨‹ï¼Œä»£ç ä¸­çš„`dir`æ•°ç»„è®°å½•è¾¹çš„æ–¹å‘ï¼Œ`dfs`å‡½æ•°æ‰¾æ¬§æ‹‰å›è·¯çš„é€»è¾‘ç®€æ´ã€‚ç¦»æ•£åŒ–å’Œå¥‡å¶åº¦å¤„ç†çš„æ­¥éª¤å¾ˆè§„èŒƒï¼Œé€‚åˆå­¦ä¹ â€œåŒºé—´è½¬è¾¹â€çš„æŠ€å·§ã€‚


### é¢˜è§£å››ï¼šLebronDurantï¼ˆèµ8ï¼‰  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£ç”¨**2-SAT+æ‰«æçº¿**è§£å†³é—®é¢˜ï¼Œå°†çº¿æ®µç«¯ç‚¹æŒ‰é¡ºåºé…å¯¹ï¼Œå»ºç«‹â€œé¢œè‰²ç›¸åŒ/ä¸åŒâ€çš„çº¦æŸã€‚ä½œè€…çš„æ‰«æçº¿æ€è·¯å¾ˆæ–°é¢–ï¼Œå°†ç«¯ç‚¹æ’åºåå¤„ç†çº¦æŸï¼Œä»£ç ä¸­çš„`tarjan`ç®—æ³•æ‰¾å¼ºè¿é€šåˆ†é‡ï¼ˆSCCï¼‰å¾ˆæ ‡å‡†ã€‚é€‚åˆç†è§£2-SATåœ¨åŒºé—´é—®é¢˜ä¸­çš„åº”ç”¨ã€‚


### é¢˜è§£äº”ï¼šSHOHOKUKUï¼ˆèµ3ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£å¯¹æ¯”äº†**æ¬§æ‹‰å›è·¯ä¸2-SAT**ï¼ŒæŒ‡å‡ºæ¬§æ‹‰å›è·¯çš„å±€é™æ€§ï¼ˆå¤„ç†å·¦é—­å³é—­åŒºé—´æ—¶å¯èƒ½å‡ºé”™ï¼‰ï¼Œæ¨è2-SATä½œä¸ºæ­£è§£ã€‚ä½œè€…çš„åˆ†æå¾ˆæ·±å…¥ï¼Œä»£ç ä¸­çš„2-SATéƒ¨åˆ†é€»è¾‘æ¸…æ™°ï¼Œé€‚åˆå­¦ä¹ ä¸¤ç§ç®—æ³•çš„ä¼˜ç¼ºç‚¹ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### å…³é”®ç‚¹1ï¼šå¦‚ä½•å°†çº¿æ®µé—®é¢˜è½¬åŒ–ä¸ºå›¾è®ºæ¨¡å‹ï¼Ÿ  
**åˆ†æ**ï¼šçº¿æ®µè¦†ç›–çš„â€œçº¢è“å·®â‰¤1â€ç­‰ä»·äºâ€œæ¯ä¸ªç‚¹çš„å…¥åº¦å‡ºåº¦å·®â‰¤1â€ï¼ˆæ¬§æ‹‰å›è·¯ï¼‰ï¼Œæˆ–â€œçº¿æ®µé¢œè‰²çš„é€»è¾‘çº¦æŸâ€ï¼ˆ2-SATï¼‰ã€‚è§£å†³ç­–ç•¥æ˜¯å°†çº¿æ®µè§†ä¸ºè¾¹ï¼Œç«¯ç‚¹è§†ä¸ºèŠ‚ç‚¹ï¼Œæˆ–ç”¨æ‰«æçº¿å¤„ç†ç«¯ç‚¹çº¦æŸã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè½¬åŒ–æ˜¯å›¾è®ºè§£é¢˜çš„æ ¸å¿ƒâ€”â€”æŠŠâ€œç°å®é—®é¢˜â€å˜æˆâ€œå›¾çš„é—®é¢˜â€ã€‚


### å…³é”®ç‚¹2ï¼šå¦‚ä½•å¤„ç†å¤§åæ ‡ï¼ˆç¦»æ•£åŒ–ï¼‰ï¼Ÿ  
**åˆ†æ**ï¼šé¢˜ç›®ä¸­åæ ‡èŒƒå›´å¯èƒ½åˆ°1e9ï¼Œç›´æ¥å¤„ç†ä¼šè¶…æ—¶ã€‚è§£å†³ç­–ç•¥æ˜¯æ”¶é›†æ‰€æœ‰ç«¯ç‚¹ï¼Œæ’åºå»é‡ï¼Œæ˜ å°„åˆ°1~2nçš„å°èŒƒå›´ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç¦»æ•£åŒ–æ˜¯å¤„ç†å¤§æ•°å€¼é—®é¢˜çš„â€œå‹ç¼©æœ¯â€ï¼ŒæŠŠå¤§åæ ‡å˜æˆå°ç´¢å¼•ã€‚


### å…³é”®ç‚¹3ï¼šå¦‚ä½•ç¡®ä¿å›¾å­˜åœ¨æ¬§æ‹‰å›è·¯ï¼Ÿ  
**åˆ†æ**ï¼šæ¬§æ‹‰å›è·¯è¦æ±‚æ‰€æœ‰èŠ‚ç‚¹åº¦æ•°ä¸ºå¶æ•°ã€‚è‹¥å­˜åœ¨å¥‡æ•°åº¦èŠ‚ç‚¹ï¼Œéœ€ä¸¤ä¸¤è¿è¾¹è¡¥å…¨ã€‚è§£å†³ç­–ç•¥æ˜¯æŒ‰åæ ‡é¡ºåºå°†å¥‡æ•°åº¦èŠ‚ç‚¹é…å¯¹ï¼Œè¿è¾¹åæ‰¾æ¬§æ‹‰å›è·¯ï¼Œæœ€ååˆ é™¤è¿™äº›è¾¹ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¡¥å…¨å¥‡å¶åº¦æ˜¯æ¬§æ‹‰å›è·¯çš„â€œè¡¥ä¸â€ï¼Œç¡®ä¿å›¾èƒ½éå†ã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
1. **è½¬åŒ–æ€æƒ³**ï¼šå°†çº¿æ®µè¦†ç›–è½¬åŒ–ä¸ºå›¾çš„è¾¹ï¼Œæˆ–é€»è¾‘çº¦æŸï¼›  
2. **ç¦»æ•£åŒ–**ï¼šå¤„ç†å¤§åæ ‡çš„å¿…å¤‡æŠ€å·§ï¼›  
3. **æ¬§æ‹‰å›è·¯**ï¼šåˆ©ç”¨å…¥åº¦å‡ºåº¦å·®çš„æ€§è´¨è§£å†³è®¡æ•°é—®é¢˜ï¼›  
4. **2-SAT**ï¼šå¤„ç†é€»è¾‘çº¦æŸçš„æœ‰æ•ˆæ–¹æ³•ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒï¼ˆæ¬§æ‹‰å›è·¯ç‰ˆï¼‰  
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†ywy_c_asmã€tzc_wkçš„æ€è·¯ï¼Œå®ç°äº†ç¦»æ•£åŒ–ã€å»ºå›¾ã€æ¬§æ‹‰å›è·¯æ‰¾è‰²çš„å®Œæ•´æµç¨‹ã€‚  

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

const int MAXN = 1e5 + 5;
int n, l[MAXN], r[MAXN], key[2 * MAXN], uni[2 * MAXN], num;
vector<pair<int, int>> edges[MAXN * 2];
bool vis_edge[MAXN * 2];
int dir[MAXN], d[MAXN * 2], now[MAXN * 2];

void dfs(int u) {
    for (; now[u] < edges[u].size(); now[u]++) {
        auto &e = edges[u][now[u]];
        int v = e.first, id = e.second;
        if (vis_edge[id]) continue;
        vis_edge[id] = true;
        dir[id] = (u < v) ? 0 : 1;
        dfs(v);
    }
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(0);
    cin >> n;
    for (int i = 1; i <= n; i++) {
        cin >> l[i] >> r[i];
        r[i]++; // è½¬ä¸ºå·¦é—­å³å¼€
        key[2 * i - 1] = l[i];
        key[2 * i] = r[i];
    }
    // ç¦»æ•£åŒ–
    sort(key + 1, key + 2 * n + 1);
    num = 1;
    uni[1] = key[1];
    for (int i = 2; i <= 2 * n; i++) {
        if (key[i] != key[i - 1]) {
            num++;
            uni[num] = key[i];
        }
    }
    // å»ºå›¾
    for (int i = 1; i <= n; i++) {
        l[i] = lower_bound(uni + 1, uni + num + 1, l[i]) - uni;
        r[i] = lower_bound(uni + 1, uni + num + 1, r[i]) - uni;
        edges[l[i]].emplace_back(r[i], i);
        edges[r[i]].emplace_back(l[i], i);
        d[l[i]]++; d[r[i]]--;
    }
    // å¤„ç†å¥‡å¶åº¦ç‚¹
    int sum = 0;
    for (int i = 1; i <= num; i++) {
        sum += d[i];
        if (sum % 2 != 0) {
            edges[i].emplace_back(i + 1, n + 1);
            edges[i + 1].emplace_back(i, n + 1);
        }
    }
    // æ‰¾æ¬§æ‹‰å›è·¯
    for (int i = 1; i <= num; i++) {
        now[i] = 0;
    }
    for (int i = 1; i <= num; i++) {
        dfs(i);
    }
    // è¾“å‡ºç»“æœ
    for (int i = 1; i <= n; i++) {
        cout << dir[i] << " ";
    }
    cout << endl;
    return 0;
}
```

* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **ç¦»æ•£åŒ–**ï¼šæ”¶é›†æ‰€æœ‰ç«¯ç‚¹ï¼Œæ’åºå»é‡ï¼Œæ˜ å°„åˆ°å°ç´¢å¼•ï¼›  
  2. **å»ºå›¾**ï¼šæ¯çº¿æ®µå¯¹åº”ä¸€æ¡è¾¹ï¼ˆå·¦ç«¯ç‚¹â†’å³ç«¯ç‚¹+1ï¼‰ï¼›  
  3. **å¤„ç†å¥‡å¶åº¦**ï¼šè¡¥å…¨å¥‡æ•°åº¦èŠ‚ç‚¹çš„è¾¹ï¼›  
  4. **DFSæ‰¾æ¬§æ‹‰å›è·¯**ï¼šç»™è¾¹å®šå‘ï¼Œæ–¹å‘å¯¹åº”é¢œè‰²ï¼›  
  5. **è¾“å‡º**ï¼šæ ¹æ®è¾¹çš„æ–¹å‘è¾“å‡ºé¢œè‰²ï¼ˆ0/1ï¼‰ã€‚


### å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### é¢˜è§£ä¸€ï¼šywy_c_asmï¼ˆæ¬§æ‹‰å›è·¯ï¼‰  
* **äº®ç‚¹**ï¼šDFSéå†æ¬§æ‹‰å›è·¯ï¼Œæ ‡è®°è¾¹çš„æ–¹å‘ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void dfs(int pt) {
      bv[pt] = 1;
      for (register int i = heads[pt]; i; heads[pt] = i = memchi[i].nxt) {
          if (memchi[i].gg) continue;
          dss[memchi[i].id] = pt;
          dts[memchi[i].id] = memchi[i].dest;
          memchi[i].gg = memchi[i ^ 1].gg = 1;
          dfs(memchi[i].dest);
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  è¿™æ®µä»£ç ç”¨DFSéå†å›¾ï¼Œå¤„ç†æ¯æ¡æœªè®¿é—®çš„è¾¹ã€‚`memchi[i].gg`æ ‡è®°è¾¹æ˜¯å¦è¢«è®¿é—®ï¼Œ`dss`å’Œ`dts`è®°å½•è¾¹çš„æ–¹å‘ï¼ˆèµ·ç‚¹â†’ç»ˆç‚¹ï¼‰ã€‚DFSé€’å½’å¤„ç†ç»ˆç‚¹ï¼Œç¡®ä¿éå†æ‰€æœ‰è¾¹ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šDFSæ˜¯æ‰¾æ¬§æ‹‰å›è·¯çš„å¸¸ç”¨æ–¹æ³•ï¼Œéœ€æ ‡è®°è¾¹é¿å…é‡å¤ã€‚


#### é¢˜è§£å››ï¼šLebronDurantï¼ˆ2-SATï¼‰  
* **äº®ç‚¹**ï¼šæ‰«æçº¿å¤„ç†ç«¯ç‚¹ï¼Œå»ºç«‹2-SATçº¦æŸã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  for (int i = 2; i <= tot; i += 2) {
      if (a[i].op != a[i-1].op) {
          ins(a[i].id, a[i-1].id); ins(a[i-1].id, a[i].id);
          ins(a[i].id+n, a[i-1].id+n); ins(a[i-1].id+n, a[i].id+n);
      } else {
          ins(a[i].id, a[i-1].id+n); ins(a[i].id+n, a[i-1].id);
          ins(a[i-1].id, a[i].id+n); ins(a[i-1].id+n, a[i].id);
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  è¿™æ®µä»£ç å¤„ç†æ‰«æçº¿ä¸­çš„ç«¯ç‚¹é…å¯¹ï¼šè‹¥ä¸¤ä¸ªç«¯ç‚¹çš„æ“ä½œï¼ˆåŠ /åˆ ï¼‰ä¸åŒï¼Œçº¿æ®µé¢œè‰²å¿…é¡»ç›¸åŒï¼›å¦åˆ™å¿…é¡»ä¸åŒã€‚`ins(u, v)`è¡¨ç¤ºâ€œè‹¥uä¸ºçœŸï¼Œåˆ™vå¿…é¡»ä¸ºçœŸâ€ï¼ˆè•´å«æ¡ä»¶ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š2-SATçš„æ ¸å¿ƒæ˜¯å»ºç«‹è•´å«æ¡ä»¶ï¼Œé€šè¿‡å¼ºè¿é€šåˆ†é‡æ±‚è§£ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ çº¿æ®µæŸ“è‰²å†’é™©

### è®¾è®¡æ€è·¯  
é‡‡ç”¨**8ä½åƒç´ é£**ï¼ˆç±»ä¼¼FCæ¸¸æˆï¼‰ï¼Œå°†æ•°è½´å±•ç¤ºä¸ºâ€œåƒç´ ç½‘æ ¼â€ï¼Œçº¿æ®µç”¨å½©è‰²åƒç´ å—è¡¨ç¤ºã€‚é€šè¿‡â€œæ‰«æçº¿â€ä»å·¦åˆ°å³å¤„ç†ç«¯ç‚¹ï¼Œç»“åˆæ¬§æ‹‰å›è·¯çš„éå†ï¼ŒåŠ¨æ€æ¼”ç¤ºçº¿æ®µæŸ“è‰²è¿‡ç¨‹ã€‚


### åŠ¨ç”»å¸§æ­¥éª¤  
1. **åˆå§‹åŒ–**ï¼š  
   - å±å¹•æ˜¾ç¤ºåƒç´ æ•°è½´ï¼ˆæ¯”å¦‚10x100çš„ç½‘æ ¼ï¼‰ï¼Œèµ·ç‚¹ï¼ˆç»¿è‰²ï¼‰ã€ç»ˆç‚¹ï¼ˆçº¢è‰²ï¼‰ã€çº¿æ®µï¼ˆç°è‰²ï¼‰ï¼›  
   - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœã€å•æ­¥ã€é‡ç½®æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼ˆ1x~5xï¼‰ï¼›  
   - 8ä½é£æ ¼èƒŒæ™¯éŸ³ä¹ï¼ˆè½»å¿«çš„ç”µå­ä¹ï¼‰æ’­æ”¾ã€‚

2. **ç¦»æ•£åŒ–æ¼”ç¤º**ï¼š  
   - æ‰€æœ‰ç«¯ç‚¹ï¼ˆç™½è‰²åƒç´ å—ï¼‰ä»æ•°è½´ä¸Šâ€œå¼¹å‡ºâ€ï¼Œæ’åºåâ€œå‹ç¼©â€æˆå°ç´¢å¼•ï¼ˆæ¯”å¦‚1â†’10çš„ä½ç½®ï¼‰ã€‚

3. **å»ºå›¾ä¸è¡¥è¾¹**ï¼š  
   - æ¯çº¿æ®µå¯¹åº”ä¸€æ¡â€œåƒç´ è¾¹â€ï¼ˆç°è‰²ç®­å¤´ï¼‰ï¼Œè¿æ¥å·¦å³ç«¯ç‚¹ï¼›  
   - å¥‡æ•°åº¦èŠ‚ç‚¹ï¼ˆé»„è‰²é—ªçƒï¼‰ä¸¤ä¸¤è¿è¾¹ï¼ˆè“è‰²è™šçº¿ï¼‰ã€‚

4. **æ¬§æ‹‰å›è·¯éå†**ï¼š  
   - â€œåƒç´ ç®­å¤´â€ï¼ˆçº¢è‰²ï¼‰æ²¿å›è·¯ç§»åŠ¨ï¼Œæ¯ç»è¿‡ä¸€æ¡è¾¹ï¼Œè¾¹å˜è‰²ï¼ˆçº¢/è“ï¼‰ï¼Œæ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼›  
   - æ‰«æçº¿åŒæ­¥ç§»åŠ¨ï¼Œé«˜äº®å½“å‰å¤„ç†çš„ç«¯ç‚¹ã€‚

5. **å®ŒæˆæŸ“è‰²**ï¼š  
   - æ‰€æœ‰çº¿æ®µæŸ“è‰²å®Œæˆï¼Œæ•°è½´ä¸Šæ¯ä¸ªç‚¹çš„çº¢è“çº¿æ®µæ•°å·®â‰¤1ï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆä¸Šæ‰¬çš„ç”µå­éŸ³ï¼‰ï¼›  
   - æ˜¾ç¤ºâ€œæŸ“è‰²å®Œæˆï¼â€çš„åƒç´ æ–‡å­—ã€‚


### äº¤äº’ä¸æ¸¸æˆåŒ–å…ƒç´   
- **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼ŒåŠ¨ç”»èµ°ä¸€å¸§ï¼Œæ˜¾ç¤ºå½“å‰æ“ä½œçš„è§£é‡Šï¼ˆæ¯”å¦‚â€œå¤„ç†ç«¯ç‚¹x=5ï¼Œè¡¥å…¨è¾¹â€ï¼‰ï¼›  
- **è‡ªåŠ¨æ’­æ”¾**ï¼šæ»‘å—è°ƒèŠ‚é€Ÿåº¦ï¼ˆ1x~5xï¼‰ï¼Œç®­å¤´è‡ªåŠ¨éå†ï¼›  
- **é‡ç½®**ï¼šæ¢å¤åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹ï¼›  
- **ç§¯åˆ†**ï¼šæ¯å®Œæˆä¸€ä¸ªçº¿æ®µæŸ“è‰²ï¼Œè·å¾—10åˆ†ï¼Œå…¨å®Œæˆå¾—100åˆ†ï¼Œæ˜¾ç¤ºâ€œå¾—åˆ†ï¼š100â€çš„åƒç´ æ–‡å­—ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»  
å›¾è®ºä¸­çš„æ¬§æ‹‰å›è·¯å’Œ2-SATç®—æ³•ï¼Œå¯ç”¨äºè§£å†³**åŒºé—´è¦†ç›–è®¡æ•°**ã€**é€»è¾‘çº¦æŸ**ç±»é—®é¢˜ã€‚æ¯”å¦‚ï¼š  
- ç»™åŒºé—´æŸ“è‰²ï¼Œè¦æ±‚æ¯ä¸ªç‚¹çš„é¢œè‰²æ•°å·®â‰¤kï¼›  
- å®‰æ’ä»»åŠ¡ï¼Œè¦æ±‚æŸäº›ä»»åŠ¡å¿…é¡»åŒæ—¶/ä¸åŒæ—¶æ‰§è¡Œã€‚


### æ´›è°·ç»ƒä¹ æ¨è  
1. **P3825 ã€æ¨¡æ¿ã€‘2-SAT**ï¼šå·©å›º2-SATçš„å»ºæ¨¡ä¸æ±‚è§£ï¼›  
2. **P4171 ã€æ¨¡æ¿ã€‘æ¬§æ‹‰å›è·¯**ï¼šç»ƒä¹ æ¬§æ‹‰å›è·¯çš„å®ç°ï¼›  
3. **P547D Mike and Fish**ï¼šç±»ä¼¼çš„åŒºé—´æŸ“è‰²é—®é¢˜ï¼Œç”¨å›¾è®ºè§£å†³ï¼›  
4. **P2863 [USACO06JAN]The Cow Prom S**ï¼šå¼ºè¿é€šåˆ†é‡çš„æ¨¡æ¿é¢˜ï¼Œå¸®åŠ©ç†è§£2-SATçš„åŸºç¡€ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

### å‚è€ƒç»éªŒï¼ˆæ¥è‡ªywy_c_asmï¼‰  
> â€œæˆ‘æœ€å¼€å§‹ç”¨ç½‘ç»œæµTäº†ï¼Œåæ¥è½¬åŒ–ä¸ºæ¬§æ‹‰å›è·¯æ‰è¿‡ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œ**è½¬åŒ–é—®é¢˜æ¨¡å‹æ¯”è°ƒå‚æ›´é‡è¦**ã€‚â€  

**ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå…¸å‹â€”â€”å½“å¸¸è§„æ–¹æ³•è¶…æ—¶ï¼Œè¦å°è¯•è½¬åŒ–æ¨¡å‹ã€‚æ¬§æ‹‰å›è·¯çš„è½¬åŒ–æ¯”ç½‘ç»œæµæ›´é«˜æ•ˆï¼Œé€‚åˆæœ¬é¢˜çš„è§„æ¨¡ã€‚


### å‚è€ƒç»éªŒï¼ˆæ¥è‡ªSHOHOKUKUï¼‰  
> â€œæ¬§æ‹‰å›è·¯å¤„ç†å·¦é—­å³é—­åŒºé—´æ—¶å¯èƒ½å‡ºé”™ï¼Œ2-SATæ›´å¯é ã€‚â€  

**ç‚¹è¯„**ï¼šä½œè€…æé†’æˆ‘ä»¬ï¼Œ**ç®—æ³•é€‰æ‹©è¦è€ƒè™‘é—®é¢˜ç»†èŠ‚**ï¼ˆæ¯”å¦‚åŒºé—´çš„é—­åˆæ€§ï¼‰ï¼Œé¿å…æ¨¡å‹çš„å±€é™æ€§ã€‚


## æ€»ç»“  
æœ¬æ¬¡åˆ†æäº†â€œPoints and Segmentsâ€çš„å›¾è®ºè§£æ³•ï¼ˆæ¬§æ‹‰å›è·¯ã€2-SATï¼‰ï¼Œé‡ç‚¹è®²è§£äº†è½¬åŒ–æ€æƒ³ã€ç¦»æ•£åŒ–ã€æ¬§æ‹‰å›è·¯çš„åº”ç”¨ã€‚å¸Œæœ›å¤§å®¶èƒ½æŒæ¡â€œå°†ç°å®é—®é¢˜æŠ½è±¡ä¸ºå›¾è®ºæ¨¡å‹â€çš„æŠ€å·§ï¼Œå¤šç»ƒä¹ ç±»ä¼¼é¢˜ç›®ï¼Œæå‡è§£é¢˜èƒ½åŠ›ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š97.94ç§’
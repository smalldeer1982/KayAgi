# é¢˜ç›®ä¿¡æ¯

# Freezing with Style

## é¢˜ç›®æè¿°

This winter is so... well, you've got the idea :-) The Nvodsk road system can be represented as $ n $ junctions connected with $ n-1 $ bidirectional roads so that there is a path between any two junctions. The organizers of some event want to choose a place to accommodate the participants (junction $ v $ ), and the place to set up the contests (junction $ u $ ). Besides, at the one hand, they want the participants to walk about the city and see the neighbourhood (that's why the distance between $ v $ and $ u $ should be no less than $ l $ ). On the other hand, they don't want the participants to freeze (so the distance between $ v $ and $ u $ should be no more than $ r $ ). Besides, for every street we know its beauty â€” some integer from $ 0 $ to $ 10^{9} $ . Your task is to choose the path that fits in the length limits and has the largest average beauty. We shall define the average beauty as a median of sequence of the beauties of all roads along the path.

We can put it more formally like that: let there be a path with the length $ k $ . Let $ a_{i} $ be a non-decreasing sequence that contains exactly $ k $ elements. Each number occurs there exactly the number of times a road with such beauty occurs along on path. We will represent the path median as number $ a_{âŒŠk/2âŒ‹} $ , assuming that indexation starting from zero is used. $ âŒŠxâŒ‹ $ â€” is number $ Ñ… $ , rounded down to the nearest integer.

For example, if $ a={0,5,12} $ , then the median equals to $ 5 $ , and if $ a={0,5,7,12} $ , then the median is number $ 7 $ .

It is guaranteed that there will be at least one path with the suitable quantity of roads.

## è¯´æ˜/æç¤º

In the first sample all roads have the same beauty. That means that all paths of the positive length have the same median. Thus, any path with length from $ 3 $ to $ 4 $ , inclusive will be valid for us.

In the second sample the city looks like that: 1 - 2 - 3 - 4 - 5 - 6. Two last roads are more valuable and we should choose any path that contains both of them and has the suitable length. It is either the path between $ 2 $ and $ 6 $ or the path between $ 3 $ and $ 6 $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
6 3 4
1 2 1
2 3 1
3 4 1
4 5 1
5 6 1
```

### è¾“å‡º

```
4 1
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
6 3 4
1 2 1
2 3 1
3 4 1
4 5 2
5 6 2
```

### è¾“å‡º

```
6 3
```

## æ ·ä¾‹ #3

### è¾“å…¥

```
5 1 4
1 2 1
1 3 4
3 4 7
3 5 2
```

### è¾“å‡º

```
4 3
```

## æ ·ä¾‹ #4

### è¾“å…¥

```
8 3 6
1 2 9
2 3 7
3 4 7
4 5 8
5 8 2
3 6 3
2 7 4
```

### è¾“å‡º

```
5 1
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šFreezing with Style æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

### åˆæ­¥åˆ†æ
ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡â€œæ‰¾æœ€å¤§ä¸­ä½æ•°â€çš„é—®é¢˜ï¼Ÿæ¯”å¦‚æƒ³ä»ä¸€å †æ•°é‡Œé€‰ä¸€æ®µï¼Œè®©ä¸­ä½æ•°æœ€å¤§â€”â€”è¿™ç±»é—®é¢˜å¾€å¾€å¯ä»¥ç”¨**äºŒåˆ†ç­”æ¡ˆ**+**æ ‘çš„åˆ†æ²»ï¼ˆç‚¹åˆ†æ²»ï¼‰**è§£å†³ï¼ä»Šå¤©çš„é¢˜ç›®å°±æ˜¯å…¸å‹ï¼šåœ¨æ ‘ä¸Šæ‰¾ä¸€æ¡è¾¹æ•°åœ¨[L,R]ä¹‹é—´çš„è·¯å¾„ï¼Œè®©è¾¹æƒä¸­ä½æ•°æœ€å¤§ã€‚

#### æ ¸å¿ƒç®—æ³•ï¼šäºŒåˆ†ç­”æ¡ˆ + ç‚¹åˆ†æ²»
- **äºŒåˆ†ç­”æ¡ˆ**ï¼šæˆ‘ä»¬è¦æ‰¾æœ€å¤§çš„ä¸­ä½æ•°`mid`ã€‚æ€ä¹ˆåˆ¤æ–­`mid`æ˜¯å¦å¯è¡Œï¼ŸæŠŠæ‰€æœ‰â‰¥`mid`çš„è¾¹æƒè®¾ä¸º`1`ï¼Œ<`mid`çš„è®¾ä¸º`-1`â€”â€”å¦‚æœå­˜åœ¨ä¸€æ¡è¾¹æ•°åœ¨[L,R]ä¹‹é—´ã€æƒå€¼å’Œâ‰¥0çš„è·¯å¾„ï¼Œè¯´æ˜`mid`æ˜¯å¯è¡Œçš„ï¼ˆå› ä¸ºâ‰¥`mid`çš„è¾¹æ¯”<çš„å¤šï¼Œä¸­ä½æ•°è‡ªç„¶â‰¥`mid`ï¼‰ã€‚
- **ç‚¹åˆ†æ²»**ï¼šæ ‘ä¸Šè·¯å¾„é—®é¢˜çš„â€œåˆ©å™¨â€ï¼é€šè¿‡æ‰¾**é‡å¿ƒ**ï¼ˆæ ‘çš„å¹³è¡¡ç‚¹ï¼‰ï¼ŒæŠŠæ ‘åˆ†è§£æˆå­æ ‘ï¼Œå¤„ç†æ‰€æœ‰ç»è¿‡é‡å¿ƒçš„è·¯å¾„ï¼Œå†é€’å½’å¤„ç†å­æ ‘ã€‚è¿™æ ·èƒ½é¿å…é‡å¤è®¡ç®—ï¼Œå¤æ‚åº¦é™åˆ°O(n logÂ²n)ã€‚

#### å¯è§†åŒ–è®¾è®¡æ€è·¯
æˆ‘ä»¬ç”¨**8ä½åƒç´ é£**å±•ç¤ºæ ‘çš„ç»“æ„ï¼š
- èŠ‚ç‚¹ç”¨ä¸åŒé¢œè‰²çš„åƒç´ å—è¡¨ç¤ºï¼ˆé‡å¿ƒæ˜¯äº®é»„è‰²ï¼Œå·²å¤„ç†èŠ‚ç‚¹æ˜¯ç°è‰²ï¼‰ï¼›
- è·¯å¾„ç”¨åƒç´ çº¿è¿æ¥ï¼Œæƒå€¼å˜åŒ–ç”¨é¢œè‰²é—ªçƒï¼ˆ1æ˜¯ç»¿è‰²ï¼Œ-1æ˜¯çº¢è‰²ï¼‰ï¼›
- å•è°ƒé˜Ÿåˆ—çš„æ»‘åŠ¨çª—å£ç”¨â€œåƒç´ ç®­å¤´â€é«˜äº®å½“å‰æŸ¥è¯¢çš„åŒºé—´ï¼Œâ€œå®â€çš„éŸ³æ•ˆè¡¨ç¤ºå…¥é˜Ÿï¼Œâ€œæ»´â€è¡¨ç¤ºæŸ¥è¯¢åˆ°æœ€å¤§å€¼ï¼›
- è‡ªåŠ¨æ’­æ”¾æ¨¡å¼ï¼ˆç±»ä¼¼FCæ¸¸æˆçš„AIæ¼”ç¤ºï¼‰ä¼šä¸€æ­¥æ­¥å±•ç¤ºç‚¹åˆ†æ²»çš„è¿‡ç¨‹ï¼šæ‰¾é‡å¿ƒâ†’å¤„ç†å­æ ‘â†’åˆå¹¶è·¯å¾„â†’é€’å½’å­æ ‘ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šshadowice1984çš„ç‚¹åˆ†æ²»+å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–
**ç‚¹è¯„**ï¼šè¿™é“é¢˜çš„â€œæ ‡å‡†è§£æ³•â€ï¼æ€è·¯æ¸…æ™°åˆ°åƒè¯´æ˜ä¹¦â€”â€”å…ˆäºŒåˆ†ç­”æ¡ˆï¼Œå†ç”¨ç‚¹åˆ†æ²»å¤„ç†æ ‘ä¸Šè·¯å¾„ã€‚æœ€å¦™çš„æ˜¯ç”¨**å•è°ƒé˜Ÿåˆ—æŒ‰ç§©åˆå¹¶**ä¼˜åŒ–åŒºé—´æœ€å¤§å€¼æŸ¥è¯¢ï¼šæŠŠå­æ ‘æŒ‰æ·±åº¦æ’åºï¼Œåˆå¹¶æ—¶ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ï¼ŒæŠŠå¤æ‚åº¦ä»O(n logÂ³n)é™åˆ°O(n logÂ²n)ã€‚ä»£ç é‡Œçš„`bfs`å’Œ`dfs`å‡½æ•°åˆ†å·¥æ˜ç¡®ï¼Œ`dq`ç»“æ„ä½“ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰å®ç°å•è°ƒé˜Ÿåˆ—ï¼Œå¯è¯»æ€§æ‹‰æ»¡ï¼

### é¢˜è§£äºŒï¼šå°ç²‰å…”çš„ç‚¹åˆ†æ²»å®ç°
**ç‚¹è¯„**ï¼šä»£ç åƒâ€œç®€åŒ–ç‰ˆè¯´æ˜ä¹¦â€ï¼æŠŠç‚¹åˆ†æ²»çš„æ­¥éª¤æ‹†å¾—å¾ˆç»†ï¼šæ‰¾é‡å¿ƒâ†’å¤„ç†å­æ ‘â†’ç”¨å•è°ƒé˜Ÿåˆ—æŸ¥åŒºé—´æœ€å¤§å€¼ã€‚`Calc`å‡½æ•°é‡Œçš„`que`æ•°ç»„ç»´æŠ¤æ»‘åŠ¨çª—å£ï¼Œ`seq`æ•°ç»„å­˜è·¯å¾„ä¿¡æ¯ï¼Œæ³¨é‡Šè™½ç„¶å°‘ï¼Œä½†å˜é‡åï¼ˆæ¯”å¦‚`odep`è¡¨ç¤ºå½“å‰æ·±åº¦ï¼‰å¾ˆæ˜“æ‡‚ã€‚ç‰¹åˆ«é€‚åˆåˆšå­¦ç‚¹åˆ†æ²»çš„åŒå­¦å‚è€ƒï¼

### é¢˜è§£ä¸‰ï¼šå¤©å‘½ä¹‹è·¯çš„ç‚¹åˆ†æ²»+å­æ ‘æ’åº
**ç‚¹è¯„**ï¼šæŠŠâ€œä¸ºä»€ä¹ˆè¦æ’åºå­æ ‘â€è®²é€äº†ï¼å­æ ‘æŒ‰æ·±åº¦ä»å°åˆ°å¤§æ’åºï¼Œåˆå¹¶æ—¶å•è°ƒé˜Ÿåˆ—çš„åˆå§‹åŒ–å¤æ‚åº¦ä¼šå˜æˆO(âˆ‘æ·±åº¦)ï¼Œæ€»å¤æ‚åº¦çº¿æ€§ã€‚ä»£ç é‡Œçš„`dfs`å‡½æ•°è®¡ç®—è·¯å¾„ä¿¡æ¯ï¼Œ`cmp`å‡½æ•°æ’åºå­æ ‘ï¼Œ`bfs`å‡½æ•°å¤„ç†å±‚æ¬¡éå†ï¼Œé€»è¾‘é“¾è¶…æ¸…æ™°ï¼


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### éš¾ç‚¹1ï¼šå¦‚ä½•å°†ä¸­ä½æ•°é—®é¢˜è½¬åŒ–ä¸ºäºŒåˆ†åˆ¤æ–­ï¼Ÿ
- **åˆ†æ**ï¼šä¸­ä½æ•°æ˜¯â€œä¸­é—´å¤§çš„æ•°â€ï¼Œç›´æ¥ç»Ÿè®¡å¾ˆéš¾ã€‚ä½†äºŒåˆ†ç­”æ¡ˆèƒ½æŠŠâ€œæ‰¾æœ€å¤§ä¸­ä½æ•°â€è½¬åŒ–ä¸ºâ€œåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è·¯å¾„â€â€”â€”è¿™æ˜¯ä¸­ä½æ•°é—®é¢˜çš„é€šç”¨æŠ€å·§ï¼
- **è§£å†³æ–¹æ¡ˆ**ï¼šæŠŠâ‰¥`mid`çš„è¾¹è®¾ä¸º1ï¼Œ<çš„è®¾ä¸º-1ã€‚è·¯å¾„å’Œâ‰¥0è¯´æ˜â‰¥`mid`çš„è¾¹æ›´å¤šï¼Œä¸­ä½æ•°è‡ªç„¶â‰¥`mid`ã€‚

### éš¾ç‚¹2ï¼šå¦‚ä½•ç”¨ç‚¹åˆ†æ²»å¤„ç†æ ‘ä¸Šè·¯å¾„ï¼Ÿ
- **åˆ†æ**ï¼šæ ‘ä¸Šè·¯å¾„æœ‰ä¸¤ç§ï¼šç»è¿‡é‡å¿ƒçš„ï¼Œå’Œä¸ç»è¿‡çš„ã€‚ç‚¹åˆ†æ²»é€šè¿‡æ‰¾é‡å¿ƒï¼ŒæŠŠæ ‘æ‹†æˆå­æ ‘ï¼Œåªå¤„ç†ç»è¿‡é‡å¿ƒçš„è·¯å¾„ï¼Œå†é€’å½’å­æ ‘â€”â€”è¿™æ ·æ¯ä¸ªè·¯å¾„åªä¼šè¢«å¤„ç†O(log n)æ¬¡ã€‚
- **è§£å†³æ–¹æ¡ˆ**ï¼šç”¨`getroot`å‡½æ•°æ‰¾é‡å¿ƒï¼ˆå¹³è¡¡å­æ ‘å¤§å°ï¼‰ï¼Œ`dfs`å¤„ç†å­æ ‘è·¯å¾„ï¼Œ`bfs`å±‚æ¬¡éå†ç»Ÿè®¡è·¯å¾„ä¿¡æ¯ã€‚

### éš¾ç‚¹3ï¼šå¦‚ä½•ä¼˜åŒ–åŒºé—´æœ€å¤§å€¼æŸ¥è¯¢ï¼Ÿ
- **åˆ†æ**ï¼šç‚¹åˆ†æ²»æ—¶ï¼Œè¦æ‰¾â€œä¸å½“å‰è·¯å¾„é•¿åº¦åŒ¹é…çš„æœ€å¤§æƒå€¼â€ï¼Œå¦‚æœç”¨çº¿æ®µæ ‘ä¼šå¤šä¸€ä¸ªlogã€‚ä½†å•è°ƒé˜Ÿåˆ—èƒ½å¤„ç†â€œæ»‘åŠ¨çª—å£â€é—®é¢˜ï¼ŒæŠŠå¤æ‚åº¦é™åˆ°O(1) per queryã€‚
- **è§£å†³æ–¹æ¡ˆ**ï¼šå°†å­æ ‘æŒ‰æ·±åº¦æ’åºï¼Œåˆå¹¶æ—¶ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤çª—å£å†…çš„æœ€å¤§å€¼ï¼ˆæ¯”å¦‚å½“å‰è·¯å¾„é•¿åº¦æ˜¯`j`ï¼Œè¦æ‰¾`[L-j, R-j]`çš„æœ€å¤§å€¼ï¼‰ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
**è¯´æ˜**ï¼šç»¼åˆshadowice1984å’Œå°ç²‰å…”çš„é¢˜è§£ï¼Œæç‚¼å‡ºæœ€ç®€æ´çš„äºŒåˆ†+ç‚¹åˆ†æ²»æ¡†æ¶ã€‚

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <queue>
#include <climits>
using namespace std;

const int N = 1e5 + 10;
vector<pair<int, int>> e[N];  // æ ‘çš„è¾¹ï¼š(v, w)
int n, L, R, ans_u, ans_v;
int val[N], sorted_val[N], m;  // è¾¹æƒåŠç¦»æ•£åŒ–

// ç‚¹åˆ†æ²»ç›¸å…³å˜é‡
bool vis[N];
int siz[N], mx[N], root, total;
int dis[N], dep[N], w[N], nu[N];  // dis: è·¯å¾„æƒå€¼ï¼Œdep: è·¯å¾„æ·±åº¦ï¼Œw: ç»´æŠ¤æœ€å¤§å€¼ï¼Œnu: èŠ‚ç‚¹ç¼–å·

// åŒç«¯é˜Ÿåˆ—ï¼ˆå•è°ƒé˜Ÿåˆ—ï¼‰
struct DQ {
    int q[N], hd, tl;
    void clear() { hd = 1, tl = 0; }
    void push(int j) { while (hd <= tl && w[j] >= w[q[tl]]) tl--; q[++tl] = j; }
    void pop(int k) { while (hd <= tl && q[hd] > k) hd++; }
    int get_max() { return q[hd]; }
} dq;

// æ‰¾é‡å¿ƒ
void get_root(int u, int fa) {
    siz[u] = 1; mx[u] = 0;
    for (auto &p : e[u]) {
        int v = p.first;
        if (v == fa || vis[v]) continue;
        get_root(v, u);
        siz[u] += siz[v];
        mx[u] = max(mx[u], siz[v]);
    }
    mx[u] = max(mx[u], total - siz[u]);
    if (mx[u] < mx[root]) root = u;
}

// ç»Ÿè®¡å­æ ‘è·¯å¾„ä¿¡æ¯
void dfs(int u, int fa, int d, int s, int mid) {
    if (d > R) return;
    if (w[d] < s) { w[d] = s; nu[d] = u; }
    for (auto &p : e[u]) {
        int v = p.first, w_val = p.second;
        if (v == fa || vis[v]) continue;
        dfs(v, u, d + 1, s + (w_val >= mid ? 1 : -1), mid);
    }
}

// åˆ¤æ–­midæ˜¯å¦å¯è¡Œï¼ˆç‚¹åˆ†æ²»å¤„ç†ï¼‰
bool check(int mid) {
    fill(vis, vis + n + 1, false);
    fill(w, w + n + 1, INT_MIN);
    w[0] = 0; nu[0] = 1;

    function<bool(int)> solve = [&](int u) -> bool {
        vis[u] = true;
        vector<pair<int, int>> subs;  // å­æ ‘ï¼š(v, w)
        for (auto &p : e[u]) {
            int v = p.first;
            if (!vis[v]) subs.push_back(p);
        }
        // æŒ‰å­æ ‘æ·±åº¦æ’åºï¼ˆå•è°ƒé˜Ÿåˆ—ä¼˜åŒ–çš„å…³é”®ï¼‰
        sort(subs.begin(), subs.end(), [&](auto &a, auto &b) {
            int v1 = a.first, v2 = b.first;
            fill(w + 1, w + n + 1, INT_MIN);
            dfs(v1, u, 1, a.second >= mid ? 1 : -1, mid);
            int d1 = 0; while (w[d1 + 1] != INT_MIN) d1++;
            fill(w + 1, w + n + 1, INT_MIN);
            dfs(v2, u, 1, b.second >= mid ? 1 : -1, mid);
            int d2 = 0; while (w[d2 + 1] != INT_MIN) d2++;
            return d1 < d2;
        });

        fill(w, w + n + 1, INT_MIN);
        w[0] = 0; nu[0] = u;
        for (auto &p : subs) {
            int v = p.first, w_val = p.second;
            fill(dis, dis + n + 1, INT_MIN);
            fill(dep, dep + n + 1, 0);
            dfs(v, u, 1, w_val >= mid ? 1 : -1, mid);  // ç»Ÿè®¡å­æ ‘vçš„è·¯å¾„ä¿¡æ¯

            dq.clear();
            int j = min(R, total);
            for (; j >= L; j--) if (w[j] != INT_MIN) dq.push(j);

            for (int i = 1; i <= total; i++) {
                if (dis[i] == INT_MIN) continue;
                int l = max(L - i, 0), r = min(R - i, total);
                while (j >= l) { j--; if (w[j] != INT_MIN) dq.push(j); }
                dq.pop(r);
                if (dq.hd <= dq.tl) {
                    int k = dq.get_max();
                    if (dis[i] + w[k] >= 0) {
                        ans_u = nu[k]; ans_v = nu[i];
                        return true;
                    }
                }
            }

            // åˆå¹¶å­æ ‘ä¿¡æ¯åˆ°wæ•°ç»„
            for (int i = 1; i <= total; i++) {
                if (dis[i] > w[i]) {
                    w[i] = dis[i];
                    nu[i] = nu[i];
                }
            }
        }

        // é€’å½’å¤„ç†å­æ ‘
        for (auto &p : e[u]) {
            int v = p.first;
            if (!vis[v]) {
                total = siz[v];
                root = 0; get_root(v, u);
                if (solve(root)) return true;
            }
        }
        return false;
    };

    total = n;
    root = 0; get_root(1, 0);
    return solve(root);
}

int main() {
    cin >> n >> L >> R;
    for (int i = 1; i < n; i++) {
        int u, v, w;
        cin >> u >> v >> w;
        e[u].emplace_back(v, w);
        e[v].emplace_back(u, w);
        sorted_val[i] = w;
    }

    // ç¦»æ•£åŒ–è¾¹æƒï¼ˆä¼˜åŒ–äºŒåˆ†ï¼‰
    sort(sorted_val + 1, sorted_val + n);
    m = unique(sorted_val + 1, sorted_val + n) - sorted_val - 1;

    // äºŒåˆ†ç­”æ¡ˆ
    int l = 1, r = m, best = 0;
    while (l <= r) {
        int mid = (l + r) >> 1;
        int current_val = sorted_val[mid];
        if (check(current_val)) {
            best = current_val;
            l = mid + 1;
        } else {
            r = mid - 1;
        }
    }

    // è¾“å‡ºç»“æœ
    cout << ans_u << " " << ans_v << endl;
    return 0;
}
```

### ä»£ç è§£è¯»æ¦‚è¦
1. **äºŒåˆ†æ¡†æ¶**ï¼šé€šè¿‡ç¦»æ•£åŒ–è¾¹æƒï¼ŒäºŒåˆ†æŸ¥æ‰¾æœ€å¤§çš„`mid`ï¼ˆä¸­ä½æ•°ï¼‰ã€‚
2. **ç‚¹åˆ†æ²»**ï¼š`get_root`æ‰¾é‡å¿ƒï¼Œ`solve`å¤„ç†é‡å¿ƒçš„å­æ ‘ï¼Œ`dfs`ç»Ÿè®¡è·¯å¾„ä¿¡æ¯ã€‚
3. **å•è°ƒé˜Ÿåˆ—**ï¼š`DQ`ç»“æ„ä½“ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ï¼Œä¼˜åŒ–åŒºé—´æŸ¥è¯¢ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤ºæ–¹æ¡ˆ

### åŠ¨ç”»ä¸»é¢˜ï¼šåƒç´ æ ‘çš„â€œä¸­ä½æ•°æ¢ç´¢ä¹‹æ—…â€
æˆ‘ä»¬ç”¨**FCçº¢ç™½æœºé£æ ¼**å±•ç¤ºç®—æ³•è¿‡ç¨‹ï¼š
- **åœºæ™¯**ï¼šå±å¹•å·¦ä¾§æ˜¯åƒç´ æ ‘ï¼ˆèŠ‚ç‚¹æ˜¯8x8çš„æ–¹å—ï¼Œè¾¹æ˜¯1x2çš„çº¿æ¡ï¼‰ï¼Œå³ä¾§æ˜¯â€œæ§åˆ¶é¢æ¿â€ï¼ˆå•æ­¥/è‡ªåŠ¨æ’­æ”¾ã€é€Ÿåº¦æ»‘å—ã€é‡ç½®æŒ‰é’®ï¼‰ã€‚
- **æ ¸å¿ƒæ¼”ç¤º**ï¼š
  1. **äºŒåˆ†åˆå§‹åŒ–**ï¼šå±å¹•ä¸Šæ–¹æ˜¾ç¤ºå½“å‰äºŒåˆ†çš„`mid`å€¼ï¼Œè¾¹æƒâ‰¥`mid`çš„è¾¹å˜æˆç»¿è‰²ï¼Œ<çš„å˜æˆçº¢è‰²ã€‚
  2. **ç‚¹åˆ†æ²»è¿‡ç¨‹**ï¼š
     - æ‰¾é‡å¿ƒï¼šé‡å¿ƒèŠ‚ç‚¹é—ªçƒäº®é»„è‰²ï¼Œå‘¨å›´å­æ ‘é€æ¸â€œå˜ç°â€ï¼ˆè¡¨ç¤ºå·²å¤„ç†ï¼‰ï¼›
     - å¤„ç†å­æ ‘ï¼šç”¨â€œåƒç´ ç®­å¤´â€æŒ‡å‘å½“å‰å­æ ‘ï¼Œè·¯å¾„ä¿¡æ¯ç”¨â€œæ•°å­—æ°”æ³¡â€æ˜¾ç¤ºï¼ˆæ·±åº¦+æƒå€¼ï¼‰ï¼›
     - å•è°ƒé˜Ÿåˆ—ï¼šæ»‘åŠ¨çª—å£ç”¨â€œè“è‰²æ¡†â€é«˜äº®ï¼Œå…¥é˜Ÿæ—¶æ’­æ”¾â€œå®â€éŸ³æ•ˆï¼ŒæŸ¥è¯¢æ—¶æ’­æ”¾â€œæ»´â€éŸ³æ•ˆã€‚
  3. **ç»“æœå±•ç¤º**ï¼šæ‰¾åˆ°å¯è¡Œè·¯å¾„æ—¶ï¼Œè·¯å¾„å˜æˆæ©™è‰²ï¼Œæ’­æ”¾â€œèƒœåˆ©éŸ³æ•ˆâ€ï¼ˆç±»ä¼¼FCæ¸¸æˆçš„è¿‡å…³éŸ³ä¹ï¼‰ã€‚

### äº¤äº’è®¾è®¡
- **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼ŒåŠ¨ç”»èµ°ä¸€æ­¥ï¼Œå±å¹•ä¸‹æ–¹æ˜¾ç¤ºå½“å‰æ­¥éª¤çš„è§£é‡Šï¼ˆæ¯”å¦‚â€œæ­£åœ¨æ‰¾é‡å¿ƒâ€â€œæ­£åœ¨åˆå¹¶å­æ ‘è·¯å¾„â€ï¼‰ï¼›
- **è‡ªåŠ¨æ’­æ”¾**ï¼šæ»‘å—è°ƒæ•´é€Ÿåº¦ï¼ˆ1x~5xï¼‰ï¼ŒAIä¼šè‡ªåŠ¨å®Œæˆç‚¹åˆ†æ²»çš„æ‰€æœ‰æ­¥éª¤ï¼›
- **é‡ç½®**ï¼šå›åˆ°åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹æ¼”ç¤ºã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜

### é€šç”¨æ€è·¯è¿ç§»
æœ¬é¢˜çš„â€œäºŒåˆ†+ç‚¹åˆ†æ²»â€å¥—è·¯å¯ä»¥è§£å†³**æ ‘ä¸Šè·¯å¾„çš„â€œæœ€å¤§å€¼+é•¿åº¦é™åˆ¶â€é—®é¢˜**ï¼Œæ¯”å¦‚ï¼š
- æ±‚è·¯å¾„è¾¹æƒå’Œæœ€å¤§ï¼Œè¾¹æ•°åœ¨[L,R]ä¹‹é—´ï¼›
- æ±‚è·¯å¾„èŠ‚ç‚¹æƒå€¼çš„ä¸­ä½æ•°æœ€å¤§ï¼Œè¾¹æ•°åœ¨[L,R]ä¹‹é—´ã€‚

### æ¨èç»ƒä¹ 
1. **æ´›è°·P4292 é‡å»ºè®¡åˆ’**ï¼šå’Œæœ¬é¢˜å‡ ä¹ä¸€æ ·ï¼æ±‚è¾¹æ•°åœ¨[L,R]ä¹‹é—´çš„è·¯å¾„ï¼Œè¾¹æƒå’Œæœ€å¤§ï¼Œç”¨äºŒåˆ†+ç‚¹åˆ†æ²»è§£å†³ã€‚
2. **æ´›è°·P3806 ç‚¹åˆ†æ²»æ¨¡æ¿**ï¼šå­¦ä¹ ç‚¹åˆ†æ²»çš„åŸºç¡€ï¼Œå¤„ç†æ ‘ä¸Šè·¯å¾„çš„æ•°é‡é—®é¢˜ã€‚
3. **æ´›è°·P1629 é‚®é€’å‘˜é€ä¿¡**ï¼šè™½ç„¶æ˜¯å›¾çš„é—®é¢˜ï¼Œä½†è·¯å¾„é•¿åº¦é™åˆ¶+æœ€å¤§å€¼ï¼Œæ€è·¯ç±»ä¼¼ï¼ˆäºŒåˆ†+æœ€çŸ­è·¯å¾„ï¼‰ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

### æ¥è‡ªé¢˜è§£çš„ç»éªŒ
- **shadowice1984**ï¼šâ€œç‚¹åˆ†æ²»çš„å­æ ‘æ’åºå¾ˆé‡è¦ï¼æŒ‰æ·±åº¦ä»å°åˆ°å¤§åˆå¹¶ï¼Œèƒ½æŠŠå•è°ƒé˜Ÿåˆ—çš„åˆå§‹åŒ–å¤æ‚åº¦é™åˆ°O(n)ã€‚â€â€”â€”è¿™æé†’æˆ‘ä»¬ï¼Œ**ä¼˜åŒ–å¾€å¾€è—åœ¨â€œæ’åºâ€é‡Œ**ï¼
- **å°ç²‰å…”**ï¼šâ€œå•è°ƒé˜Ÿåˆ—çš„çª—å£è¦â€˜æ»‘åŠ¨â€™èµ·æ¥ï¼æ¯”å¦‚å½“å‰è·¯å¾„æ·±åº¦æ˜¯jï¼Œè¦æ‰¾[L-j, R-j]çš„æœ€å¤§å€¼ï¼Œçª—å£ä¼šéšç€jå‡å°è€Œå·¦ç§»ã€‚â€â€”â€”ç†è§£â€œæ»‘åŠ¨çª—å£â€çš„æœ¬è´¨ï¼Œæ¯”æ­»è®°ä»£ç æ›´é‡è¦ï¼


## æ€»ç»“
è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯**äºŒåˆ†ç­”æ¡ˆ+ç‚¹åˆ†æ²»**çš„ç»“åˆï¼Œéš¾ç‚¹åœ¨â€œå¦‚ä½•æŠŠä¸­ä½æ•°é—®é¢˜è½¬åŒ–ä¸ºå¯åˆ¤æ–­çš„æ¡ä»¶â€å’Œâ€œå¦‚ä½•ä¼˜åŒ–ç‚¹åˆ†æ²»çš„è·¯å¾„æŸ¥è¯¢â€ã€‚é€šè¿‡è¿™é“é¢˜ï¼Œä½ èƒ½å­¦ä¼šï¼š
- ä¸­ä½æ•°é—®é¢˜çš„äºŒåˆ†è½¬åŒ–æŠ€å·§ï¼›
- ç‚¹åˆ†æ²»å¤„ç†æ ‘ä¸Šè·¯å¾„çš„æ–¹æ³•ï¼›
- å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–åŒºé—´æœ€å¤§å€¼çš„åº”ç”¨ã€‚

è®°ä½ï¼šç¼–ç¨‹çš„ä¹è¶£åœ¨äºâ€œæ‹†è§£é—®é¢˜â€â€”â€”æŠŠå¤§é—®é¢˜æ‹†æˆå°é—®é¢˜ï¼Œå†ç”¨å­¦è¿‡çš„ç®—æ³•é€ä¸ªè§£å†³ï¼ä¸‹æ¬¡é‡åˆ°æ ‘ä¸Šè·¯å¾„é—®é¢˜ï¼Œä¸å¦¨æƒ³æƒ³â€œäºŒåˆ†+ç‚¹åˆ†æ²»â€ä¼šä¸ä¼šæœ‰ç”¨ï½ ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š79.99ç§’
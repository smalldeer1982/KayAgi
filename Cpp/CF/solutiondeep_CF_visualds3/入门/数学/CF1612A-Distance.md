# 题目信息

# Distance

## 题目描述

Let's denote the Manhattan distance between two points $ p_1 $ (with coordinates $ (x_1, y_1) $ ) and $ p_2 $ (with coordinates $ (x_2, y_2) $ ) as $ d(p_1, p_2) = |x_1 - x_2| + |y_1 - y_2| $ . For example, the distance between two points with coordinates $ (1, 3) $ and $ (4, 2) $ is $ |1 - 4| + |3 - 2| = 4 $ .

You are given two points, $ A $ and $ B $ . The point $ A $ has coordinates $ (0, 0) $ , the point $ B $ has coordinates $ (x, y) $ .

Your goal is to find a point $ C $ such that:

- both coordinates of $ C $ are non-negative integers;
- $ d(A, C) = \dfrac{d(A, B)}{2} $ (without any rounding);
- $ d(B, C) = \dfrac{d(A, B)}{2} $ (without any rounding).

Find any point $ C $ that meets these constraints, or report that no such point exists.

## 说明/提示

Explanations for some of the test cases from the example:

- In the first test case, the point $ B $ has coordinates $ (49, 3) $ . If the point $ C $ has coordinates $ (23, 3) $ , then the distance from $ A $ to $ B $ is $ |49 - 0| + |3 - 0| = 52 $ , the distance from $ A $ to $ C $ is $ |23 - 0| + |3 - 0| = 26 $ , and the distance from $ B $ to $ C $ is $ |23 - 49| + |3 - 3| = 26 $ .
- In the second test case, the point $ B $ has coordinates $ (2, 50) $ . If the point $ C $ has coordinates $ (1, 25) $ , then the distance from $ A $ to $ B $ is $ |2 - 0| + |50 - 0| = 52 $ , the distance from $ A $ to $ C $ is $ |1 - 0| + |25 - 0| = 26 $ , and the distance from $ B $ to $ C $ is $ |1 - 2| + |25 - 50| = 26 $ .
- In the third and the fourth test cases, it can be shown that no point with integer coordinates meets the constraints.
- In the fifth test case, the point $ B $ has coordinates $ (42, 0) $ . If the point $ C $ has coordinates $ (21, 0) $ , then the distance from $ A $ to $ B $ is $ |42 - 0| + |0 - 0| = 42 $ , the distance from $ A $ to $ C $ is $ |21 - 0| + |0 - 0| = 21 $ , and the distance from $ B $ to $ C $ is $ |21 - 42| + |0 - 0| = 21 $ .

## 样例 #1

### 输入

```
10
49 3
2 50
13 0
0 41
42 0
0 36
13 37
42 16
42 13
0 0```

### 输出

```
23 3
1 25
-1 -1
-1 -1
21 0
0 18
13 12
25 4
-1 -1
0 0```

# AI分析结果

---
# 💡 Kay的C++算法解析：Distance 深入学习指南 💡

<introduction>
今天我们来一起分析「Distance」这道C++编程题。它看起来是一道关于坐标系和距离的问题，但其实藏着很有趣的数学小秘密哦！本指南会帮你理清思路，学会用分类讨论解决问题，还能通过像素动画直观看到算法运行过程～
</introduction>


## 1. 题目解读与核心算法识别

✨ **本题主要考察**：数学分析 + 分类讨论  

🗣️ **初步分析**：  
解决这道题的关键，就像**分一块长方形蛋糕**——我们要把A(0,0)到B(x,y)的「曼哈顿距离蛋糕」（总长度是x+y）平均分成两块，找一个整数坐标的点C当「分切点」。  

### 核心逻辑：
曼哈顿距离的中点要求是「C到A的距离 = C到B的距离 = 总距离的一半」。换句话说：  
- 总距离（x+y）必须是偶数（否则没法平均分）；  
- C点的坐标(i,j)要满足 **i+j = (x+y)/2**（到A的距离），同时 **|i-x| + |j-y| = (x+y)/2**（到B的距离）。  

### 核心难点与解决：
- **难点1**：怎么判断有没有解？→ 总距离（x+y）是奇数的话，直接输出-1（没法平均分）；  
- **难点2**：有解时怎么找C点？→ 分两种情况：  
  1. 如果x和y都是偶数：C就是中点（x/2, y/2），完美平分；  
  2. 如果x和y都是奇数：中点不是整数，需要「挪一下」——比如取(i=x/2, j=(x+y)/2 - i)，保证i和j都是非负整数。  

### 可视化设计思路：
我们会用**8位像素风**做一个坐标系动画：  
- 红色像素点代表A(0,0)，蓝色代表B(x,y)；  
- 总距离用「像素线段」显示，偶数时线段会「闪一下」表示可平分；  
- C点用黄色像素显示，当x/y为奇数时，会有「小跳步」动画展示如何从非整数中点调整到整数点；  
- 关键操作（比如判断奇偶、计算C点）会伴随「叮」的像素音效，成功找到C点时会播放「胜利音效」～


## 2. 精选优质题解参考

<eval_intro>
我从思路清晰度、代码可读性和实践价值三个维度筛选了4份优质题解，它们各有亮点，适合不同阶段的学习者参考～
</eval_intro>

**题解一：来自 tzl_Dedicatus545**  
* **点评**：这份题解像「数学公式直接翻译」，思路极简！作者直接把「总距离奇偶性」「x/y奇偶性」的判断写成了条件语句，代码只有10行左右，非常适合刚学分类讨论的同学。比如用`(a+b)%2==1`判断总距离是否为奇数，用`a%2==0&&b%2==0`判断中点是否为整数，逻辑链超清晰～

**题解二：来自 LYqwq**  
* **点评**：作者用了「位运算小技巧」（`(a+b)&1`等价于`(a+b)%2`），代码更简洁！而且他把「分情况讨论」的逻辑写得像「填空题」——先判无解，再判中点，最后处理奇数情况，新手也能一眼看懂。

**题解三：来自 DaiRuiChen007**  
* **点评**：这份题解像「严谨的数学证明」！作者用结构体封装了点，用函数`d`计算距离，用`judge`验证条件，代码模块化极强。即使面对更复杂的几何问题，这种「封装思路」也能帮你理清楚逻辑～

**题解四：来自 Star_Route**  
* **点评**：作者考虑得更细致！当x和y都是奇数时，他根据x和y的大小选择不同的构造方式（比如x>y时用`(x-y)/2, y`），保证C点坐标非负。这种「分情况细化」的思路，能帮你避免很多边界错误～


## 3. 核心难点辨析与解题策略

<difficulty_intro>
这道题的「坑」都藏在「数学条件」里，我们逐一拆解：
</difficulty_intro>

1. **难点1：为什么总距离必须是偶数？**  
   * **分析**：C点的坐标(i,j)是整数，所以i+j必须是整数——而i+j等于总距离的一半，所以总距离（x+y）必须是偶数。就像「你有5颗糖，没法平均分给2个小朋友」～  
   * 💡 **学习笔记**：**整数条件是前提**，先判总距离奇偶性，能快速排除无解情况！

2. **难点2：为什么x和y同奇偶时才有解？**  
   * **分析**：总距离（x+y）是偶数 → x和y同奇偶（要么都是偶数，要么都是奇数）。如果x是偶、y是奇，总距离是奇，直接无解；如果x和y同奇，中点不是整数，但我们可以「调整一个坐标」得到整数点～  
   * 💡 **学习笔记**：**同奇偶性是关键**，这一步能帮你缩小解的范围！

3. **难点3：如何构造奇数情况的C点？**  
   * **分析**：当x和y都是奇数时，比如x=49（奇）、y=3（奇），总距离是52，所以i+j=26。我们可以取i=x/2（24），j=26-24=2，这样i=24、j=2都是整数，且满足到B的距离（|24-49|+|2-3|=25+1=26）！或者像样例那样取i=23、j=3，只要满足i+j=26就行～  
   * 💡 **学习笔记**：**构造解的关键是满足「和为总距离的一半」**，只要i+j对了，到B的距离自然对！

### ✨ 解题技巧总结
- **技巧1：先判无解情况**：总距离是奇数→直接输出-1，避免后续无用计算；  
- **技巧2：分情况讨论**：把问题拆成「总距离奇」「x/y偶」「x/y奇」三类，逐一解决；  
- **技巧3：利用整数除法**：C++中整数除法会「向下取整」（比如49/2=24），刚好帮我们处理奇数情况的坐标！


## 4. C++核心代码实现赏析

<code_intro_overall>
先看一份**通用核心代码**，它综合了所有优质题解的思路，简洁又完整～
</code_intro_overall>

**本题通用核心C++实现参考**
* **说明**：本代码来自「tzl_Dedicatus545」和「LYqwq」的题解，是最简洁的「分类讨论模板」。
* **完整核心代码**：
  ```cpp
  #include <iostream>
  using namespace std;

  int main() {
      int n;
      cin >> n;
      while (n--) {
          int x, y;
          cin >> x >> y;
          if ((x + y) % 2 == 1) { // 总距离奇数→无解
              cout << "-1 -1\n";
          } else if (x % 2 == 0 && y % 2 == 0) { // 中点是整数
              cout << x / 2 << " " << y / 2 << "\n";
          } else { // x/y都是奇数→调整坐标
              cout << x / 2 << " " << (x + y) / 2 - (x / 2) << "\n";
          }
      }
      return 0;
  }
  ```
* **代码解读概要**：  
  1. 读取测试用例数`n`；  
  2. 循环处理每个测试用例，读取B点坐标(x,y)；  
  3. 先判总距离奇偶性，再判x/y奇偶性，最后构造解；  
  4. 输出结果，完美覆盖所有情况！

---

<code_intro_selected>
接下来看**优质题解的核心片段**，学习它们的「小技巧」～
</code_intro_selected>

**题解一：来自 tzl_Dedicatus545**  
* **亮点**：用「直接计算」代替复杂推导，代码极简！
* **核心代码片段**：
  ```cpp
  if((a+b)%2==1)
      cout<<"-1 -1"<<endl;
  else if(a%2==0&&b%2==0)
      cout<<a/2<<" "<<b/2<<endl;
  else
      cout<<a/2<<" "<<b/2+1<<endl;
  ```
* **代码解读**：  
  作者直接用`b/2+1`构造奇数情况的y坐标——比如b=3，b/2=1，加1得2，刚好满足i+j=26（比如a=49时，a/2=24，24+2=26）。这种「直接加1」的技巧，省去了计算`(x+y)/2 - x/2`的步骤，超聪明！
* 💡 **学习笔记**：**奇数情况的y坐标可以用「b/2+1」快速得到**，前提是x和y都是奇数～

**题解二：来自 Star_Route**  
* **亮点**：根据x和y的大小细化构造方式，避免负数！
* **核心代码片段**：
  ```cpp
  if (x > y) {
      write((x - y)/2);
      putchar(' ');
      write(y);
  } else {
      write(x);
      putchar(' ');
      write((y - x)/2);
  }
  ```
* **代码解读**：  
  比如x=5、y=3（都是奇数），x>y，所以i=(5-3)/2=1，j=3，i+j=4（总距离是8，一半是4），到B的距离是|1-5|+|3-3|=4+0=4，完全正确！这种「固定一个坐标，调整另一个」的方式，能保证i和j都是非负整数～
* 💡 **学习笔记**：**当x/y都是奇数时，可以固定较大的坐标，调整较小的那个**，避免出现负数！


## 5. 算法可视化：像素动画演示 (核心部分)

<visualization_intro>
为了让你「看得到」算法的每一步，我设计了一个**8位像素风的坐标系动画**，像玩红白机游戏一样学习！
</visualization_intro>

### **动画演示主题**：像素探险家找中点
**风格**：仿FC红白机（8位色板，像素方块），背景是浅灰色网格，A点（红）、B点（蓝）、C点（黄）都是16x16的像素块。

### **核心演示步骤**：
1. **初始化场景**：  
   - 屏幕左侧显示控制面板（开始/暂停、单步、重置按钮），右侧是20x20的像素网格；  
   - 播放8位风格的轻快BGM（比如《超级马里奥》的背景音）；  
   - 输入B点坐标（比如样例1的49,3），网格中显示A(0,0)（红）和B(49,3)（蓝）。

2. **计算总距离**：  
   - 屏幕上方显示「总距离：52」，线段从A到B闪烁3次（绿色）；  
   - 播放「叮」的音效，表示总距离是偶数，可平分。

3. **判断x/y奇偶性**：  
   - x=49（奇）、y=3（奇），网格中x和y的坐标数字变成橙色；  
   - 弹出文字提示：「x和y都是奇数，需要调整中点！」

4. **构造C点**：  
   - 先显示「虚拟中点」（24.5, 1.5）——半透明的黄色方块；  
   - 然后黄色方块「跳一步」到(24,2)，同时播放「跳步音效」；  
   - 屏幕下方显示「C点：(24,2)」，并验证距离：「到A的距离：24+2=26」「到B的距离：|24-49|+|2-3|=26」。

5. **成功提示**：  
   - C点（黄）开始闪烁，播放「胜利音效」（比如《塞尔达》的 getItem 音效）；  
   - 弹出文字：「找到解啦！」

### **交互设计**：
- **单步模式**：点击「单步」按钮，动画一步步执行，每步都有文字提示；  
- **自动模式**：点击「自动」，动画以0.5秒/步的速度播放，可通过滑块调整速度；  
- **重置**：点击「重置」，回到初始状态，重新输入B点坐标。

<visualization_conclusion>
通过这个动画，你能清楚看到「总距离判断→奇偶性判断→构造C点」的全过程，就像跟着像素探险家一起找宝藏～


## 6. 拓展练习与相似问题思考

<similar_problems_intro>
这道题的「数学分析+分类讨论」思路，能解决很多类似问题！比如：
</similar_problems_intro>

### **通用思路迁移**：
- **场景1**：判断一个数能否被平均分成k份（比如分糖果问题）；  
- **场景2**：找坐标系中满足某种距离条件的整数点（比如切比雪夫距离的中点）；  
- **场景3**：根据输入的奇偶性构造解（比如约瑟夫环问题中的奇偶情况）。

### **洛谷练习推荐**：
1. **洛谷 P1001** - A+B Problem  
   * 🗣️ **推荐理由**：最简单的输入输出练习，帮你熟悉C++的基本语法！
2. **洛谷 P1421** - 小玉买文具  
   * 🗣️ **推荐理由**：用分类讨论计算找零钱的张数，练手「分情况解决问题」！
3. **洛谷 CF1612A** - Distance（原题）  
   * 🗣️ **推荐理由**：再做一遍原题，巩固「曼哈顿距离中点」的思路！
4. **洛谷 P3954** - 成绩  
   * 🗣️ **推荐理由**：根据分数区间计算等级，练手「多条件分类讨论」！


## 7. 学习心得与经验分享 (若有)

<insights_intro>
题解中有些作者的「小吐槽」和「经验」，很值得借鉴：
</insights_intro>

> **参考经验 (来自 断清秋)**：「数据范围0≤x,y≤50，直接暴力枚举i,j就行！」  
> **点评**：这位作者的思路很务实！当数据范围很小时，「暴力枚举」是最简单的方法——比如枚举i从0到x，j从0到y，判断是否满足i+j=(x+y)/2和|i-x|+|j-y|=(x+y)/2。虽然效率不如数学分析，但胜在「不用动脑子」，适合新手入门～


<conclusion>
本次关于「Distance」的分析就到这里啦！这道题教会我们：**复杂的问题，拆分成几个小条件就能轻松解决**。下次遇到数学题，记得先「分情况讨论」，再「构造解」～ 编程的乐趣，就在于把抽象的数学变成具体的代码！💪
</conclusion>

---

---
处理用时：131.68秒
# é¢˜ç›®ä¿¡æ¯

# Modular Exponentiation

## é¢˜ç›®æè¿°

The following problem is well-known: given integers $ n $ and $ m $ , calculate

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF913A/73fb55a49ff8c4211b34696969c8aef5090c1d6d.png), where $ 2^{n}=2Â·2Â·...Â·2 $ ( $ n $ factors), and ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF913A/b0d2851c9c5ab36f8f15a3eac416cac07be09dd3.png) denotes the remainder of division of $ x $ by $ y $ .

You are asked to solve the "reverse" problem. Given integers $ n $ and $ m $ , calculate

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF913A/d4dceae314a5c8428af0d75bf92415449f36c7d5.png).

## è¯´æ˜/æç¤º

In the first example, the remainder of division of 42 by $ 2^{4}=16 $ is equal to 10.

In the second example, 58 is divisible by $ 2^{1}=2 $ without remainder, and the answer is 0.

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
42
```

### è¾“å‡º

```
10
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
1
58
```

### è¾“å‡º

```
0
```

## æ ·ä¾‹ #3

### è¾“å…¥

```
98765432
23456789
```

### è¾“å‡º

```
23456789
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šModular Exponentiation æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æâ€œModular Exponentiationâ€è¿™é“C++ç¼–ç¨‹é¢˜ï¼ˆå‡†ç¡®è¯´æ˜¯å®ƒçš„â€œåå‘é—®é¢˜â€ï¼‰ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©å¤§å®¶æ¢³ç†é¢˜ç›®æ€è·¯ï¼Œç†è§£æ ¸å¿ƒç®—æ³•ï¼Œå¹¶æŒæ¡è§£é¢˜æŠ€å·§ã€‚


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæ•°å­¦ï¼ˆæ¨¡è¿ç®—ï¼‰ä¸ä½è¿ç®—åº”ç”¨  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯è®¡ç®—â€œ`m å¯¹ 2çš„næ¬¡æ–¹å–æ¨¡`â€ï¼ˆå³ $m \mod 2^n$ï¼‰ï¼Œä½†è¦æ³¨æ„ä¸€ä¸ªå…³é”®è¾¹ç•Œï¼š**å½“ $2^n$ æ¯” $m$ å¤§æ—¶ï¼Œå–æ¨¡ç»“æœå°±æ˜¯ $m$ æœ¬èº«**ã€‚  

ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šå¦‚æœæŠŠ $m$ æ¯”ä½œâ€œä¸€å †è‹¹æœâ€ï¼Œ$2^n$ æ˜¯â€œæ¯ä¸ªè¢‹å­èƒ½è£…çš„è‹¹æœæ•°â€ï¼Œé‚£ä¹ˆâ€œå–æ¨¡â€å°±æ˜¯é—®â€œæœ€åä¸€ä¸ªæ²¡è£…æ»¡çš„è¢‹å­é‡Œæœ‰å¤šå°‘è‹¹æœâ€â€”â€”å¦‚æœè‹¹æœæ€»æ•°æ¯”è¢‹å­å®¹é‡è¿˜å°ï¼Œé‚£è‡ªç„¶æ•´å †è‹¹æœéƒ½åœ¨æœ€åä¸€ä¸ªè¢‹å­é‡Œã€‚  

å…·ä½“åˆ°æœ¬é¢˜ï¼Œé¢˜ç›®ä¸­ç»™å‡º $m < 10^8$ï¼ˆå³æœ€å¤š8ä½æ•°å­—ï¼‰ï¼Œè€Œ $2^{30} = 1073741824$ï¼ˆè¶…è¿‡10ä½ï¼‰ã€‚æ‰€ä»¥å½“ $n \geq 30$ æ—¶ï¼Œ$2^n$ ä¸€å®šæ¯” $m$ å¤§ï¼Œç›´æ¥è¾“å‡º $m$ å³å¯ï¼›å¦åˆ™è®¡ç®— $m \mod 2^n$ã€‚  

è¿™é‡Œçš„**å…³é”®æŠ€å·§**æ˜¯ç”¨**ä½è¿ç®—**ï¼ˆ`1 << n`ï¼‰ä»£æ›¿`pow(2, n)`è®¡ç®— $2^n$â€”â€”ä½è¿ç®—ä¸ä»…æ›´å¿«ï¼Œè¿˜èƒ½é¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ï¼ˆæ¯”å¦‚`pow(2, 30)`å¯èƒ½å› doubleç±»å‹çš„ç²¾åº¦é™åˆ¶å‡ºé”™ï¼‰ã€‚  

å¯¹äºå¯è§†åŒ–è®¾è®¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨**8ä½åƒç´ é£**æ¨¡æ‹Ÿâ€œåˆ†è‹¹æœâ€çš„è¿‡ç¨‹ï¼šç”¨ä¸åŒé¢œè‰²çš„åƒç´ å—ä»£è¡¨ $m$ å’Œ $2^n$ï¼Œé€æ­¥â€œæ‹†åˆ†â€$m$ ç›´åˆ°å‰©ä¸‹çš„éƒ¨åˆ†å°äº $2^n$ï¼ŒåŒæ—¶ç”¨éŸ³æ•ˆæç¤ºå…³é”®æ“ä½œï¼ˆæ¯”å¦‚â€œæ‹†åˆ†â€æ—¶çš„â€œå’”å—’â€å£°ï¼Œå®Œæˆæ—¶çš„â€œå®â€å£°ï¼‰ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºäº†æ›´å¥½åœ°ç†è§£è§£é¢˜è¿‡ç¨‹ï¼Œæˆ‘ä»æ€è·¯æ¸…æ™°åº¦ã€ä»£ç å¯è¯»æ€§ã€ç®—æ³•æœ‰æ•ˆæ€§ç­‰æ–¹é¢ç­›é€‰å‡ºäº†**1æ¡ä¼˜è´¨é¢˜è§£**ï¼ˆè¯„åˆ†4.5æ˜Ÿï¼‰ï¼š

**é¢˜è§£ä¸€ï¼šæ¥æºï¼šPlaynext**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£å ªç§°â€œç®€æ´é«˜æ•ˆâ€çš„å…¸èŒƒï¼æ€è·¯ä¸Šç›´æ¥æŠ“ä½äº†é—®é¢˜çš„æ ¸å¿ƒâ€”â€”**åˆ¤æ–­ $2^n$ æ˜¯å¦è¶…è¿‡ $m$ çš„èŒƒå›´**ï¼Œå¹¶ç”¨ä½è¿ç®—å®Œç¾è§£å†³äº† $2^n$ çš„è®¡ç®—é—®é¢˜ã€‚ä»£ç é£æ ¼éå¸¸è§„èŒƒï¼šå˜é‡ç”¨`REG`ï¼ˆå¯„å­˜å™¨å˜é‡ï¼‰ä¼˜åŒ–é€Ÿåº¦ï¼Œè¾“å…¥è¾“å‡ºç”¨`scanf/printf`ä¿è¯æ•ˆç‡ï¼Œ`1 << n`æ›¿ä»£`pow`é¿å…ç²¾åº¦å‘ã€‚æœ€å€¼å¾—å­¦ä¹ çš„æ˜¯å®ƒçš„**è¾¹ç•Œå¤„ç†**ï¼šç›´æ¥åˆ¤æ–­ $n \geq 30$ å°±è¾“å‡º $m$ï¼Œçœå»äº†ä¸å¿…è¦çš„è®¡ç®—ã€‚ä»å®è·µè§’åº¦çœ‹ï¼Œè¿™ä»½ä»£ç å¯ä»¥ç›´æ¥ç”¨äºç«èµ›ï¼Œè€Œä¸”å‡ ä¹æ²¡æœ‰è°ƒè¯•éš¾åº¦ï¼Œæ˜¯åˆå­¦è€…çš„â€œå®Œç¾å‚è€ƒâ€ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå¤§å®¶å®¹æ˜“é‡åˆ°3ä¸ªå…³é”®é—®é¢˜ï¼Œç»“åˆä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œæˆ‘ä»¬é€ä¸€æ‹†è§£ï¼š

1. **éš¾ç‚¹1ï¼šå¦‚ä½•å‡†ç¡®è®¡ç®— $2^n$ï¼Ÿ**  
    * **åˆ†æ**ï¼šå¾ˆå¤šåŒå­¦ç¬¬ä¸€ååº”ä¼šç”¨`pow(2, n)`ï¼Œä½†`pow`è¿”å›çš„æ˜¯`double`ç±»å‹ï¼ˆæµ®ç‚¹æ•°ï¼‰ï¼Œå½“ $n$ è¾ƒå¤§æ—¶ï¼ˆæ¯”å¦‚ $n=30$ï¼‰ï¼Œæµ®ç‚¹æ•°å¯èƒ½æ— æ³•ç²¾ç¡®è¡¨ç¤ºæ•´æ•°ï¼ˆæ¯”å¦‚`pow(2,30)`å¯èƒ½è¿”å›`1073741824.0`ï¼Œä½†æ›´å¤§çš„ $n$ ä¼šå¯¼è‡´ç²¾åº¦ä¸¢å¤±ï¼‰ã€‚ä¼˜è´¨é¢˜è§£ç”¨**ä½è¿ç®—**`1 << n`ï¼ˆå·¦ç§»1ä½ç›¸å½“äºä¹˜2ï¼‰å®Œç¾è§£å†³äº†è¿™ä¸ªé—®é¢˜â€”â€”ä½è¿ç®—ç›´æ¥æ“ä½œäºŒè¿›åˆ¶ï¼Œæ²¡æœ‰ç²¾åº¦é—®é¢˜ï¼Œè€Œä¸”é€Ÿåº¦æ›´å¿«ï¼  
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè®¡ç®— $2^n$ æ—¶ï¼Œä½è¿ç®—æ¯”`pow`æ›´å¯é ï¼

2. **éš¾ç‚¹2ï¼šå¦‚ä½•åˆ¤æ–­â€œ$2^n > m$â€ï¼Ÿ**  
    * **åˆ†æ**ï¼šç›´æ¥è®¡ç®— $2^n$ å†å’Œ $m$ æ¯”è¾ƒï¼Ÿæ²¡å¿…è¦ï¼å› ä¸ºé¢˜ç›®ä¸­ $m < 10^8$ï¼Œè€Œ $2^{30} = 1073741824$ï¼ˆåˆšå¥½è¶…è¿‡ $10^8$ï¼‰ã€‚æ‰€ä»¥åªè¦ $n \geq 30$ï¼Œ$2^n$ ä¸€å®šæ¯” $m$ å¤§ï¼Œç›´æ¥è¾“å‡º $m$ å³å¯â€”â€”è¿™ä¸€æ­¥**é¢„åˆ¤**çœå»äº†å¤§é‡è®¡ç®—ï¼  
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå…ˆçœ‹æ•°æ®èŒƒå›´ï¼Œå†åšè¾¹ç•Œåˆ¤æ–­ï¼Œèƒ½å°‘å†™å¾ˆå¤šä»£ç ï¼

3. **éš¾ç‚¹3ï¼šå¦‚ä½•å¤„ç†æ¨¡è¿ç®—ï¼Ÿ**  
    * **åˆ†æ**ï¼šC++ä¸­`%`è¿ç®—ç¬¦ç›´æ¥æ”¯æŒæ•´æ•°å–æ¨¡ï¼Œä½†è¦æ³¨æ„**è¿ç®—ç¬¦ä¸¤è¾¹éƒ½å¿…é¡»æ˜¯æ•´æ•°**ã€‚ä¼˜è´¨é¢˜è§£ä¸­`m % (1 << n)`å®Œç¾ç¬¦åˆè¿™ä¸ªè¦æ±‚â€”â€”`1 << n`æ˜¯æ•´æ•°ï¼Œ$m$ ä¹Ÿæ˜¯æ•´æ•°ï¼Œç›´æ¥å–æ¨¡å³å¯ã€‚  
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ¨¡è¿ç®—çš„å…³é”®æ˜¯ä¿è¯ä¸¤è¾¹éƒ½æ˜¯æ•´æ•°ï¼


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1ï¼šä¼˜å…ˆç”¨ä½è¿ç®—è®¡ç®—2çš„å¹‚**ï¼š`1 << n`æ¯”`pow(2,n)`æ›´å‡†ç¡®ã€æ›´å¿«ã€‚  
- **æŠ€å·§2ï¼šå…ˆåˆ¤æ–­è¾¹ç•Œæ¡ä»¶**ï¼šå¦‚æœ $n \geq 30$ï¼Œç›´æ¥è¾“å‡º $m$ï¼Œé¿å…æ— ç”¨è®¡ç®—ã€‚  
- **æŠ€å·§3ï¼šç”¨`scanf/printf`æ›¿ä»£`cin/cout`**ï¼šåœ¨ç«èµ›ä¸­ï¼Œ`scanf/printf`çš„é€Ÿåº¦æ›´å¿«ï¼Œé¿å…è¶…æ—¶ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

åœ¨æ·±å…¥åˆ†æå…·ä½“ä»£ç å‰ï¼Œå…ˆçœ‹ä¸€ä»½**é€šç”¨æ ¸å¿ƒå®ç°**â€”â€”å®ƒç»¼åˆäº†ä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œæ˜¯è§£å†³æœ¬é¢˜çš„â€œæ ‡å‡†æ¨¡æ¿â€ï¼š

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šæœ¬ä»£ç æ¥è‡ªPlaynextçš„é¢˜è§£ï¼Œæ˜¯â€œç®€æ´é«˜æ•ˆâ€çš„å…¸å‹å®ç°ï¼Œå®Œç¾è§£å†³äº†ç²¾åº¦å’Œè¾¹ç•Œé—®é¢˜ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <cstdio>  // åŒ…å«scanf/printf
using namespace std;

int main() {
    int n, m;
    scanf("%d %d", &n, &m);  // è¾“å…¥nå’Œm
    if (n >= 30) {
        printf("%d\n", m);  // å½“nâ‰¥30æ—¶ï¼Œç›´æ¥è¾“å‡ºm
    } else {
        printf("%d\n", m % (1 << n));  // å¦åˆ™è®¡ç®—m mod 2^n
    }
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  ä»£ç åˆ†ä¸º3æ­¥ï¼šâ‘ è¯»å–è¾“å…¥çš„ $n$ å’Œ $m$ï¼›â‘¡åˆ¤æ–­ $n$ æ˜¯å¦â‰¥30ï¼ˆå¦‚æœæ˜¯ï¼Œç›´æ¥è¾“å‡º $m$ï¼‰ï¼›â‘¢å¦åˆ™ç”¨`1 << n`è®¡ç®— $2^n$ï¼Œå†ç”¨`%`å–æ¨¡è¾“å‡ºç»“æœã€‚æ•´ä¸ªæµç¨‹é€»è¾‘æ¸…æ™°ï¼Œæ²¡æœ‰å¤šä½™çš„æ­¥éª¤ã€‚


### ä¼˜è´¨é¢˜è§£ç‰‡æ®µèµæï¼ˆé¢˜è§£ä¸€ï¼šPlaynextï¼‰
* **äº®ç‚¹**ï¼šç”¨ä½è¿ç®—é¿å…ç²¾åº¦é—®é¢˜ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
if (n >= 30)    printf("%d\n", m);
else    printf("%d\n", m % (1<<n));
```
* **ä»£ç è§£è¯»**ï¼š  
  è¿™ä¸¤è¡Œæ˜¯æ•´ä¸ªé¢˜è§£çš„â€œçµé­‚â€ï¼ç¬¬ä¸€è¡Œåˆ¤æ–­ $n$ æ˜¯å¦â‰¥30â€”â€”å› ä¸º $2^{30} > 10^8$ï¼Œæ‰€ä»¥æ­¤æ—¶ $m \mod 2^n = m$ï¼Œç›´æ¥è¾“å‡ºã€‚ç¬¬äºŒè¡Œç”¨`1 << n`è®¡ç®— $2^n$ï¼ˆæ¯”å¦‚ $n=4$ æ—¶ï¼Œ`1<<4`ç­‰äº16ï¼‰ï¼Œå†ç”¨`%`å–æ¨¡ï¼ˆæ¯”å¦‚ $42 % 16 = 10$ï¼‰ã€‚  
  è¿™é‡Œæœ‰ä¸ªå°ç–‘é—®ï¼šä¸ºä»€ä¹ˆ`1 << n`æ˜¯å¯¹çš„ï¼Ÿå› ä¸ºäºŒè¿›åˆ¶å·¦ç§»1ä½ç›¸å½“äºä¹˜2ï¼Œå·¦ç§» $n$ ä½å°±æ˜¯ä¹˜ $2^n$â€”â€”æ¯”å¦‚`1`ï¼ˆäºŒè¿›åˆ¶`0001`ï¼‰å·¦ç§»4ä½å˜æˆ`10000`ï¼ˆåè¿›åˆ¶16ï¼‰ï¼Œæ­£å¥½æ˜¯ $2^4$ï¼  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šä½è¿ç®—çš„â€œå·¦ç§»â€æ˜¯è®¡ç®—2çš„å¹‚çš„â€œç¥å™¨â€ï¼


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

ä¸ºäº†æ›´ç›´è§‚åœ°ç†è§£â€œæ¨¡è¿ç®—â€å’Œâ€œè¾¹ç•Œåˆ¤æ–­â€çš„è¿‡ç¨‹ï¼Œæˆ‘è®¾è®¡äº†ä¸€ä¸ª**8ä½åƒç´ é£çš„â€œåˆ†è‹¹æœâ€åŠ¨ç”»**ï¼Œè®©æˆ‘ä»¬ç”¨æ¸¸æˆçš„æ–¹å¼â€œçœ‹â€ç®—æ³•ï¼


### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜  
**åƒç´ å†œåœºä¸»åˆ†è‹¹æœ**ï¼šä½ æ˜¯ä¸€ä¸ªåƒç´ é£æ ¼çš„å†œåœºä¸»ï¼Œéœ€è¦æŠŠ $m$ ä¸ªè‹¹æœè£…è¿›å®¹é‡ä¸º $2^n$ çš„è¢‹å­é‡Œï¼Œæœ€åä¸€ä¸ªæ²¡è£…æ»¡çš„è¢‹å­é‡Œçš„è‹¹æœæ•°å°±æ˜¯ç­”æ¡ˆï¼


### è®¾è®¡æ€è·¯ç®€è¿°  
ç”¨FCçº¢ç™½æœºçš„8ä½åƒç´ é£æ ¼ï¼ˆæ¯”å¦‚ã€Šè¶…çº§ç›ä¸½ã€‹çš„é…è‰²ï¼‰ï¼Œè®©æŠ½è±¡çš„æ•°å­¦è¿ç®—å˜æˆâ€œè£…è‹¹æœâ€çš„æ¸¸æˆï¼Œé™ä½ç†è§£éš¾åº¦ã€‚å…³é”®æ“ä½œï¼ˆæ¯”å¦‚åˆ¤æ–­è¾¹ç•Œã€è®¡ç®— $2^n$ã€å–æ¨¡ï¼‰ç”¨éŸ³æ•ˆå’ŒåŠ¨ç”»å¼ºåŒ–è®°å¿†â€”â€”æ¯”å¦‚â€œåˆ¤æ–­è¾¹ç•Œâ€æ—¶æ’­æ”¾â€œæ»´â€çš„æç¤ºå£°ï¼Œâ€œè£…è‹¹æœâ€æ—¶æ’­æ”¾â€œå’”å—’â€å£°ï¼Œå®Œæˆæ—¶æ’­æ”¾â€œèƒœåˆ©éŸ³æ•ˆâ€ã€‚


### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹  
1. **åœºæ™¯åˆå§‹åŒ–ï¼ˆFCé£æ ¼ï¼‰**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¯â€œè‹¹æœå †â€ï¼ˆç”¨çº¢è‰²åƒç´ å—è¡¨ç¤ºï¼Œæ•°é‡ç­‰äº $m$ï¼‰ï¼Œå³ä¾§æ˜¯â€œè¢‹å­â€ï¼ˆç”¨è“è‰²åƒç´ å—è¡¨ç¤ºï¼Œå®¹é‡ç­‰äº $2^n$ï¼‰ã€‚  
   - åº•éƒ¨æ§åˆ¶é¢æ¿æœ‰ï¼š**å¼€å§‹/æš‚åœ**ï¼ˆçº¢è‰²æŒ‰é’®ï¼‰ã€**å•æ­¥æ‰§è¡Œ**ï¼ˆé»„è‰²æŒ‰é’®ï¼‰ã€**é‡ç½®**ï¼ˆç°è‰²æŒ‰é’®ï¼‰ï¼Œä»¥åŠ**é€Ÿåº¦æ»‘å—**ï¼ˆè°ƒæ•´åŠ¨ç”»å¿«æ…¢ï¼‰ã€‚  
   - èƒŒæ™¯æ’­æ”¾8ä½é£æ ¼çš„è½»æ¾BGMï¼ˆæ¯”å¦‚ã€Šä¿„ç½—æ–¯æ–¹å—ã€‹çš„èƒŒæ™¯éŸ³ä¹ï¼‰ã€‚

2. **è¾¹ç•Œåˆ¤æ–­åŠ¨ç”»**ï¼š  
   - å¦‚æœ $n \geq 30$ï¼šå±å¹•ä¸­é—´å¼¹å‡ºâ€œè¢‹å­å¤ªå¤§å•¦ï¼â€çš„åƒç´ æ–‡å­—ï¼Œå³ä¾§è¢‹å­å˜æˆâ€œè¶…å¤§å·â€ï¼ˆé—ªçƒ3æ¬¡ï¼‰ï¼Œç„¶åç›´æ¥æŠŠæ‰€æœ‰è‹¹æœè£…è¿›è¢‹å­ï¼ˆçº¢è‰²åƒç´ å—å…¨éƒ¨ç§»å…¥è“è‰²è¢‹å­ï¼‰ï¼Œä¼´éšâ€œå®â€çš„èƒœåˆ©éŸ³æ•ˆï¼Œè¾“å‡ºç»“æœ $m$ã€‚  
   - å¦‚æœ $n < 30$ï¼šå³ä¾§è¢‹å­æ˜¾ç¤ºå®¹é‡ï¼ˆæ¯”å¦‚ $n=4$ æ—¶ï¼Œè¢‹å­ä¸Šæ˜¾ç¤ºâ€œ16â€ï¼‰ï¼Œè¿›å…¥â€œè£…è‹¹æœâ€ç¯èŠ‚ã€‚

3. **è£…è‹¹æœï¼ˆå–æ¨¡ï¼‰åŠ¨ç”»**ï¼š  
   - æ¯ä¸€æ­¥ä»è‹¹æœå †é‡Œâ€œæ‹¿â€$2^n$ ä¸ªè‹¹æœè£…è¿›è¢‹å­ï¼šæ¯”å¦‚ $m=42$ï¼Œ$2^4=16$ï¼Œç¬¬ä¸€æ¬¡æ‹¿16ä¸ªï¼ˆçº¢è‰²åƒç´ å—å‡å°‘16ï¼‰ï¼Œè¢‹å­å˜æˆâ€œæ»¡â€ï¼ˆè“è‰²é—ªçƒï¼‰ï¼Œæ’­æ”¾â€œå’”å—’â€å£°ï¼›ç¬¬äºŒæ¬¡å†æ‹¿16ä¸ªï¼ˆè‹¹æœå †å‰©10ï¼‰ï¼Œæ­¤æ—¶å‰©ä¸‹çš„è‹¹æœæ•°ï¼ˆ10ï¼‰å°äºè¢‹å­å®¹é‡ï¼ˆ16ï¼‰ï¼Œåœæ­¢è£…è‹¹æœã€‚  
   - æœ€åå‰©ä¸‹çš„è‹¹æœå †ï¼ˆ10ä¸ªçº¢è‰²åƒç´ å—ï¼‰ä¼šâ€œé«˜äº®é—ªçƒâ€ï¼Œå±å¹•ä¸­é—´å¼¹å‡ºâ€œç­”æ¡ˆæ˜¯10ï¼â€çš„æ–‡å­—ï¼Œä¼´éšèƒœåˆ©éŸ³æ•ˆã€‚

4. **äº¤äº’è®¾è®¡**ï¼š  
   - **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»ä¸€æ¬¡æŒ‰é’®ï¼Œæ‰§è¡Œä¸€æ­¥è£…è‹¹æœæ“ä½œï¼Œæ–¹ä¾¿è§‚å¯Ÿæ¯ä¸€æ­¥çš„å˜åŒ–ã€‚  
   - **è‡ªåŠ¨æ’­æ”¾**ï¼šç”¨æ»‘å—è°ƒæ•´é€Ÿåº¦ï¼ˆæ¯”å¦‚â€œæ…¢â€=1ç§’/æ­¥ï¼Œâ€œå¿«â€=0.1ç§’/æ­¥ï¼‰ï¼Œç®—æ³•è‡ªåŠ¨å®Œæˆè£…è‹¹æœè¿‡ç¨‹ã€‚  
   - **é‡ç½®**ï¼šç‚¹å‡»åå›åˆ°åˆå§‹çŠ¶æ€ï¼Œé‡æ–°è¾“å…¥ $n$ å’Œ $m$ï¼ˆæ¯”å¦‚è¾“å…¥æ ·ä¾‹2çš„ $n=1$ï¼Œ$m=58$ï¼Œä¼šçœ‹åˆ°æ‰€æœ‰è‹¹æœéƒ½è£…è¿›è¢‹å­ï¼Œå‰©ä¸‹0ä¸ªï¼‰ã€‚


### æ—ç™½æç¤ºï¼ˆæ–‡å­—æ°”æ³¡ï¼‰  
- å½“åˆ¤æ–­ $n \geq 30$ æ—¶ï¼šâ€œè¢‹å­å®¹é‡æ˜¯ $2^{30}$ï¼Œæ¯”è‹¹æœæ€»æ•°è¿˜å¤§ï¼Œæ‰€ä»¥å…¨éƒ¨è£…è¿›å»ï¼â€  
- å½“è£…è‹¹æœæ—¶ï¼šâ€œç°åœ¨æ‹¿16ä¸ªè‹¹æœè£…è¿›è¢‹å­ï¼Œè¿˜å‰©26ä¸ªï¼â€  
- å½“å®Œæˆæ—¶ï¼šâ€œå‰©ä¸‹çš„10ä¸ªè‹¹æœè£…ä¸ä¸‹å•¦ï¼Œè¿™å°±æ˜¯ç­”æ¡ˆï¼â€


é€šè¿‡è¿™ä¸ªåŠ¨ç”»ï¼Œä½ èƒ½**ç›´è§‚çœ‹åˆ°**æ¨¡è¿ç®—çš„æœ¬è´¨â€”â€”â€œæ‹†åˆ†åˆ°ä¸èƒ½å†æ‹†â€ï¼Œä»¥åŠè¾¹ç•Œåˆ¤æ–­çš„ä½œç”¨â€”â€”â€œé¿å…åšæ— ç”¨åŠŸâ€ï¼


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

ç†è§£äº†æœ¬é¢˜çš„æ ¸å¿ƒæ€è·¯åï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ**æ¨¡è¿ç®—**å’Œ**ä½è¿ç®—**çš„æŠ€å·§ç”¨åˆ°æ›´å¤šé—®é¢˜ä¸­ï¼š


### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
- **æ¨¡è¿ç®—**ï¼šå¸¸ç”¨äºè®¡ç®—â€œä½™æ•°â€é—®é¢˜ï¼ˆæ¯”å¦‚â€œè®¡ç®—100é™¤ä»¥7çš„ä½™æ•°â€ï¼‰ï¼Œæˆ–å¤„ç†â€œå¤§æ•°â€é—®é¢˜ï¼ˆæ¯”å¦‚â€œè®¡ç®—10^100 mod 7â€ï¼‰ã€‚  
- **ä½è¿ç®—**ï¼šé™¤äº†è®¡ç®—2çš„å¹‚ï¼Œè¿˜å¯ä»¥ç”¨äºâ€œåˆ¤æ–­å¥‡å¶â€ï¼ˆ`x & 1`ï¼‰ã€â€œäº¤æ¢ä¸¤ä¸ªæ•°â€ï¼ˆ`a ^= b; b ^= a; a ^= b`ï¼‰ã€â€œæ¸…é™¤æœ€ä½ä½çš„1â€ï¼ˆ`x &= x-1`ï¼‰ç­‰åœºæ™¯ã€‚


### ç»ƒä¹ æ¨è (æ´›è°·)  
ä»¥ä¸‹æ˜¯å‡ é“è€ƒå¯Ÿ**æ¨¡è¿ç®—**æˆ–**ä½è¿ç®—**çš„æ´›è°·é¢˜ç›®ï¼Œå»ºè®®å¤§å®¶å°è¯•ï¼š  
1. **æ´›è°· P1009 é˜¶ä¹˜ä¹‹å’Œ**  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦è®¡ç®—â€œ1! + 2! + ... + n!â€çš„å’Œï¼Œå¹¶å¯¹1000000007å–æ¨¡ï¼Œèƒ½é”»ç‚¼ä½ å¯¹æ¨¡è¿ç®—çš„åº”ç”¨èƒ½åŠ›ï¼ˆæ³¨æ„â€œè¾¹ç®—è¾¹æ¨¡â€é¿å…æº¢å‡ºï¼‰ã€‚  
2. **æ´›è°· P1029 æœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°é—®é¢˜**  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæœ¬é¢˜éœ€è¦ç”¨åˆ°æ•°å­¦ä¸­çš„â€œæœ€å¤§å…¬çº¦æ•°ï¼ˆgcdï¼‰â€å’Œâ€œæœ€å°å…¬å€æ•°ï¼ˆlcmï¼‰â€ï¼Œè€Œgcdå¯ä»¥ç”¨ä½è¿ç®—ä¼˜åŒ–ï¼ˆæ¯”å¦‚â€œäºŒè¿›åˆ¶gcdç®—æ³•â€ï¼‰ï¼Œèƒ½æ‹“å±•ä½ å¯¹æ•°å­¦è¿ç®—çš„ç†è§£ã€‚  
3. **æ´›è°· P1161 å¼€ç¯é—®é¢˜**  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦æ¨¡æ‹Ÿâ€œå¼€å…³ç¯â€çš„è¿‡ç¨‹ï¼Œè€Œæ¯ç›ç¯çš„çŠ¶æ€å¯ä»¥ç”¨**ä½æ©ç **ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ•´æ•°çš„äºŒè¿›åˆ¶ä½è¡¨ç¤ºç¯çš„å¼€å…³ï¼‰æ¥å­˜å‚¨ï¼Œèƒ½é”»ç‚¼ä½ å¯¹å—ä½è¿ç®—çš„çµæ´»è¿ç”¨ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

æœ¬æ¬¡åˆ†æçš„é¢˜è§£ä¸­ï¼ŒPlaynextçš„é¢˜è§£ç»™æˆ‘ä»¬å¸¦æ¥äº†ä¸¤ä¸ªé‡è¦çš„**ç»éªŒæ•™è®­**ï¼š  
- **é¿å…æµ®ç‚¹æ•°é™·é˜±**ï¼šç”¨`pow`è®¡ç®—æ•´æ•°å¹‚æ—¶ï¼Œä¸€å®šè¦æ³¨æ„ç²¾åº¦é—®é¢˜â€”â€”ä½è¿ç®—æˆ–å¾ªç¯ä¹˜æ³•æ›´å¯é ã€‚  
- **å…ˆçœ‹æ•°æ®èŒƒå›´**ï¼šé¢˜ç›®ä¸­çš„`m < 10^8`æ˜¯å…³é”®çº¿ç´¢ï¼Œç›´æ¥å¸®æˆ‘ä»¬ç¡®å®šäº†â€œnâ‰¥30æ—¶ç›´æ¥è¾“å‡ºmâ€çš„è¾¹ç•Œæ¡ä»¶ï¼Œçœå»äº†å¤§é‡è®¡ç®—ã€‚  


## æ€»ç»“

æœ¬æ¬¡å…³äºâ€œModular Exponentiationâ€çš„åˆ†æå°±åˆ°è¿™é‡Œå•¦ï¼è¿™é“é¢˜çœ‹ä¼¼ç®€å•ï¼Œä½†è—ç€**ä½è¿ç®—ä¼˜åŒ–**å’Œ**è¾¹ç•Œé¢„åˆ¤**çš„å°æŠ€å·§â€”â€”è¿™äº›æŠ€å·§èƒ½å¸®ä½ åœ¨ç«èµ›ä¸­â€œå¿«äººä¸€æ­¥â€ã€‚  

è®°ä½ï¼š**ç¼–ç¨‹çš„æœ¬è´¨æ˜¯â€œè§£å†³é—®é¢˜â€ï¼Œè€Œä¸æ˜¯â€œå†™å¤æ‚çš„ä»£ç â€**â€”â€”åƒPlaynexté‚£æ ·ç”¨ç®€æ´çš„ä»£ç è§£å†³é—®é¢˜ï¼Œæ‰æ˜¯æœ€é«˜å¢ƒç•Œï¼  

ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ›´æœ‰è¶£çš„ç®—æ³•é—®é¢˜å§ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š284.58ç§’
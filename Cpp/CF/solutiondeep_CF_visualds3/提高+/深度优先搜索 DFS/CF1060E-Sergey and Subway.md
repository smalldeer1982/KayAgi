# é¢˜ç›®ä¿¡æ¯

# Sergey and Subway

## é¢˜ç›®æè¿°

Sergey Semyonovich is a mayor of a county city N and he used to spend his days and nights in thoughts of further improvements of Nkers' lives. Unfortunately for him, anything and everything has been done already, and there are no more possible improvements he can think of during the day (he now prefers to sleep at night). However, his assistants have found a solution and they now draw an imaginary city on a paper sheet and suggest the mayor can propose its improvements.

Right now he has a map of some imaginary city with $ n $ subway stations. Some stations are directly connected with tunnels in such a way that the whole map is a tree (assistants were short on time and enthusiasm). It means that there exists exactly one simple path between each pair of station. We call a path simple if it uses each tunnel no more than once.

One of Sergey Semyonovich's favorite quality objectives is the sum of all pairwise distances between every pair of stations. The distance between two stations is the minimum possible number of tunnels on a path between them.

Sergey Semyonovich decided to add new tunnels to the subway map. In particular, he connected any two stations $ u $ and $ v $ that were not connected with a direct tunnel but share a common neighbor, i.e. there exists such a station $ w $ that the original map has a tunnel between $ u $ and $ w $ and a tunnel between $ w $ and $ v $ . You are given a task to compute the sum of pairwise distances between all pairs of stations in the new map.

## è¯´æ˜/æç¤º

In the first sample, in the new map all pairs of stations share a direct connection, so the sum of distances is $ 6 $ .

In the second sample, the new map has a direct tunnel between all pairs of stations except for the pair $ (1, 4) $ . For these two stations the distance is $ 2 $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
1 2
1 3
1 4
```

### è¾“å‡º

```
6
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
4
1 2
2 3
3 4
```

### è¾“å‡º

```
7
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šSergey and Subway æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæ ‘çš„éå†ç»Ÿè®¡ï¼ˆè¾¹è´¡çŒ®è®¡ç®—+æ·±åº¦å¥‡å¶æ€§åˆ†æï¼‰  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
é¢˜ç›®è¦æ±‚è®¡ç®—æ·»åŠ æ–°è¾¹åçš„æ‰€æœ‰ç‚¹å¯¹æœ€çŸ­è·ç¦»ä¹‹å’Œã€‚æ–°è¾¹è¿æ¥åŸå›¾ä¸­è·ç¦»ä¸º2çš„ç‚¹ï¼Œå› æ­¤æ–°è·ç¦»æ˜¯åŸè·ç¦»çš„**ä¸Šå–æ•´é™¤ä»¥2**ï¼ˆä¾‹å¦‚åŸè·ç¦»3â†’æ–°è·ç¦»2ï¼ŒåŸè·ç¦»4â†’æ–°è·ç¦»2ï¼‰ã€‚é€šè¿‡æ•°å­¦æ¨å¯¼ï¼Œæ–°è·ç¦»ä¹‹å’Œå¯è½¬åŒ–ä¸ºï¼š  
$$\text{ç­”æ¡ˆ} = \frac{\text{åŸè·ç¦»å’Œ} + \text{åŸè·ç¦»ä¸ºå¥‡æ•°çš„ç‚¹å¯¹æ•°é‡}}{2}$$  
å…¶ä¸­ï¼Œ**åŸè·ç¦»å’Œ**å¯é€šè¿‡**è¾¹è´¡çŒ®æ³•**è®¡ç®—ï¼ˆæ¯æ¡è¾¹çš„è´¡çŒ®ç­‰äºå…¶åˆ†å‰²çš„å­æ ‘å¤§å°ä¹˜ä»¥å¤–ä¾§èŠ‚ç‚¹æ•°ï¼‰ï¼›**åŸè·ç¦»ä¸ºå¥‡æ•°çš„ç‚¹å¯¹æ•°é‡**ç­‰äº**æ·±åº¦å¥‡å¶æ€§ä¸åŒçš„ç‚¹å¯¹æ•°é‡**ï¼ˆå› ä¸ºæ ‘ä¸­ä¸¤ç‚¹è·ç¦»çš„å¥‡å¶æ€§ç­‰äºå…¶æ·±åº¦å¥‡å¶æ€§çš„å¼‚æˆ–ç»“æœï¼‰ã€‚  

**æ ¸å¿ƒç®—æ³•æµç¨‹**ï¼š  
1. **DFSéå†æ ‘**ï¼šç»Ÿè®¡æ¯ä¸ªèŠ‚ç‚¹çš„å­æ ‘å¤§å°ï¼ˆç”¨äºè®¡ç®—è¾¹è´¡çŒ®ï¼‰å’Œæ·±åº¦ï¼ˆç”¨äºç»Ÿè®¡å¥‡å¶æ€§ï¼‰ã€‚  
2. **è®¡ç®—åŸè·ç¦»å’Œ**ï¼šéå†æ‰€æœ‰è¾¹ï¼Œç´¯åŠ æ¯æ¡è¾¹çš„è´¡çŒ®ï¼ˆå­æ ‘å¤§å°Ã—(æ€»èŠ‚ç‚¹æ•°-å­æ ‘å¤§å°)ï¼‰ã€‚  
3. **ç»Ÿè®¡å¥‡å¶ç‚¹å¯¹**ï¼šè®°å½•æ·±åº¦ä¸ºå¥‡æ•°å’Œå¶æ•°çš„èŠ‚ç‚¹æ•°é‡ï¼Œå…¶ä¹˜ç§¯å³ä¸ºåŸè·ç¦»ä¸ºå¥‡æ•°çš„ç‚¹å¯¹æ•°é‡ã€‚  
4. **è®¡ç®—ç­”æ¡ˆ**ï¼šå°†åŸè·ç¦»å’Œä¸å¥‡å¶ç‚¹å¯¹æ•°é‡ç›¸åŠ ï¼Œé™¤ä»¥2ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
ç”¨**8ä½åƒç´ é£æ ¼**å±•ç¤ºæ ‘ç»“æ„ï¼ˆèŠ‚ç‚¹ä¸ºå½©è‰²æ–¹å—ï¼Œè¾¹ä¸ºçº¿æ¡ï¼‰ï¼ŒDFSéå†è¿‡ç¨‹ä¸­**é«˜äº®å½“å‰èŠ‚ç‚¹**ï¼Œå®æ—¶æ˜¾ç¤ºå­æ ‘å¤§å°çš„ç»Ÿè®¡è¿‡ç¨‹ï¼ˆä¾‹å¦‚å­æ ‘èŠ‚ç‚¹æ•°é€æ¸å¢åŠ ï¼‰ã€‚æ·±åº¦å¥‡å¶æ€§ç”¨**é¢œè‰²åŒºåˆ†**ï¼ˆå¥‡æ•°æ·±åº¦ä¸ºçº¢è‰²ï¼Œå¶æ•°ä¸ºè“è‰²ï¼‰ï¼Œç»Ÿè®¡å®Œæˆåæ˜¾ç¤ºå¥‡å¶èŠ‚ç‚¹æ•°é‡åŠä¹˜ç§¯ã€‚æ·»åŠ **â€œå•æ­¥æ‰§è¡Œâ€**å’Œ**â€œè‡ªåŠ¨æ’­æ”¾â€**åŠŸèƒ½ï¼Œé…åˆ**åƒç´ éŸ³æ•ˆ**ï¼ˆå¦‚èŠ‚ç‚¹è¢«è®¿é—®æ—¶çš„â€œå®â€å£°ï¼‰ï¼Œå¢å¼ºäº’åŠ¨æ€§ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼šç¦å·å‘¨åœ£åŠ›ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯**æå…¶æ¸…æ™°**ï¼Œç›´æ¥æŠ“ä½äº†é—®é¢˜çš„æ ¸å¿ƒâ€”â€”å°†æ–°è·ç¦»ä¹‹å’Œè½¬åŒ–ä¸ºåŸè·ç¦»å’Œä¸å¥‡å¶ç‚¹å¯¹æ•°é‡çš„ç»„åˆã€‚ä»£ç **ç®€æ´é«˜æ•ˆ**ï¼Œé€šè¿‡ä¸€æ¬¡DFSåŒæ—¶ç»Ÿè®¡å­æ ‘å¤§å°å’Œæ·±åº¦å¥‡å¶æ€§ï¼Œæ—¶é—´å¤æ‚åº¦O(n)ã€‚å˜é‡å‘½åï¼ˆå¦‚`sz`è¡¨ç¤ºå­æ ‘å¤§å°ï¼Œ`cnt`ç»Ÿè®¡å¥‡å¶èŠ‚ç‚¹æ•°ï¼‰æ¸…æ™°æ˜“æ‡‚ï¼Œè¾¹ç•Œå¤„ç†ï¼ˆå¦‚æ ¹èŠ‚ç‚¹æ·±åº¦åˆå§‹åŒ–ä¸º0ï¼‰ä¸¥è°¨ã€‚**äº®ç‚¹**ï¼šå°†ä¸¤ä¸ªç»Ÿè®¡ä»»åŠ¡åˆå¹¶åˆ°ä¸€æ¬¡DFSä¸­ï¼Œæå¤§ç®€åŒ–äº†ä»£ç ã€‚

### é¢˜è§£äºŒï¼ˆä½œè€…ï¼š_lcy_ï¼‰  
* **ç‚¹è¯„**ï¼š  
  é¢˜è§£é€šè¿‡**å›¾å½¢åŒ–ä¸¾ä¾‹**ï¼ˆå¦‚çˆ¶å­å…³ç³»ã€éçˆ¶å­å…³ç³»çš„è·¯å¾„å¥‡å¶æ€§ï¼‰å¸®åŠ©ç†è§£æ·±åº¦å¥‡å¶æ€§çš„ä½œç”¨ï¼Œé€»è¾‘æ¨å¯¼**ç›´è§‚**ã€‚ä»£ç ç»“æ„ä¸é¢˜è§£ä¸€ç±»ä¼¼ï¼Œä½†**æ³¨é‡Šæ›´è¯¦ç»†**ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚**äº®ç‚¹**ï¼šç”¨å…·ä½“ä¾‹å­è§£é‡ŠæŠ½è±¡æ¦‚å¿µï¼Œé™ä½äº†å­¦ä¹ éš¾åº¦ã€‚

### é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šyijanï¼‰  
* **ç‚¹è¯„**ï¼š  
  é¢˜è§£å¼ºè°ƒäº†**è¾¹è´¡çŒ®æ³•**çš„æ­£ç¡®æ€§ï¼ˆæ¯æ¡è¾¹çš„è´¡çŒ®ç­‰äºå…¶åˆ†å‰²çš„ç‚¹å¯¹æ•°é‡ï¼‰ï¼Œå¹¶é€šè¿‡**ä»£ç æ³¨é‡Š**è¯¦ç»†è¯´æ˜æ¯ä¸ªæ­¥éª¤çš„ä½œç”¨ã€‚ä»£ç **å¯è¯»æ€§é«˜**ï¼Œå˜é‡åï¼ˆå¦‚`tot`è¡¨ç¤ºåŸè·ç¦»å’Œï¼Œ`ji`è¡¨ç¤ºå¥‡æ•°æ·±åº¦èŠ‚ç‚¹æ•°ï¼‰ç¬¦åˆç›´è§‰ã€‚**äº®ç‚¹**ï¼šæ˜ç¡®åŒºåˆ†äº†åŸè·ç¦»å’Œä¸å¥‡å¶ç‚¹å¯¹æ•°é‡çš„è®¡ç®—ï¼Œå¸®åŠ©å­¦ä¹ è€…ç†æ¸…æ€è·¯ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. éš¾ç‚¹1ï¼šç†è§£æ–°è·ç¦»ä¸åŸè·ç¦»çš„å…³ç³»  
* **åˆ†æ**ï¼š  
  æ–°è·ç¦»æ˜¯åŸè·ç¦»çš„ä¸Šå–æ•´é™¤ä»¥2ï¼Œå³$\lceil \frac{\text{åŸè·ç¦»}}{2} \rceil$ã€‚é€šè¿‡æ•°å­¦æ¨å¯¼ï¼Œå¯è½¬åŒ–ä¸º$\frac{\text{åŸè·ç¦»} + (\text{åŸè·ç¦» mod 2})}{2}$ï¼Œå› æ­¤éœ€è¦è®¡ç®—åŸè·ç¦»å’Œä¸åŸè·ç¦»ä¸ºå¥‡æ•°çš„ç‚¹å¯¹æ•°é‡ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ•°å­¦æ¨å¯¼æ˜¯è§£å†³é—®é¢˜çš„å…³é”®ï¼Œå°†å¤æ‚çš„è·ç¦»è®¡ç®—è½¬åŒ–ä¸ºå¯ç»Ÿè®¡çš„é‡ã€‚

### 2. éš¾ç‚¹2ï¼šé«˜æ•ˆè®¡ç®—åŸè·ç¦»å’Œ  
* **åˆ†æ**ï¼š  
  ç›´æ¥è®¡ç®—æ‰€æœ‰ç‚¹å¯¹çš„è·ç¦»ä¼šè¶…æ—¶ï¼ˆO(nÂ²)ï¼‰ï¼Œå› æ­¤é‡‡ç”¨**è¾¹è´¡çŒ®æ³•**ï¼šæ¯æ¡è¾¹çš„è´¡çŒ®ç­‰äºå…¶åˆ†å‰²çš„å­æ ‘å¤§å°ä¹˜ä»¥å¤–ä¾§èŠ‚ç‚¹æ•°ï¼ˆä¾‹å¦‚è¾¹è¿æ¥çˆ¶èŠ‚ç‚¹uå’Œå­èŠ‚ç‚¹vï¼Œå­æ ‘vçš„å¤§å°ä¸ºsï¼Œåˆ™è´¡çŒ®ä¸ºsÃ—(n-s)ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹è´¡çŒ®æ³•æ˜¯æ ‘ä¸­ç‚¹å¯¹è·ç¦»ç»Ÿè®¡çš„ç»å…¸æŠ€å·§ï¼Œé¿å…äº†é‡å¤è®¡ç®—ã€‚

### 3. éš¾ç‚¹3ï¼šç»Ÿè®¡åŸè·ç¦»ä¸ºå¥‡æ•°çš„ç‚¹å¯¹æ•°é‡  
* **åˆ†æ**ï¼š  
  æ ‘ä¸­ä¸¤ç‚¹è·ç¦»çš„å¥‡å¶æ€§ç­‰äºå…¶æ·±åº¦å¥‡å¶æ€§çš„å¼‚æˆ–ç»“æœï¼ˆå› ä¸ºè·¯å¾„é•¿åº¦=æ·±åº¦å·®Â±2Ã—LCAæ·±åº¦ï¼Œå¥‡å¶æ€§ç”±æ·±åº¦å·®å†³å®šï¼‰ã€‚å› æ­¤ï¼Œå¥‡æ•°è·ç¦»çš„ç‚¹å¯¹æ•°é‡ç­‰äºå¥‡æ•°æ·±åº¦èŠ‚ç‚¹æ•°Ã—å¶æ•°æ·±åº¦èŠ‚ç‚¹æ•°ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ·±åº¦å¥‡å¶æ€§æ˜¯æ ‘ä¸­è·¯å¾„å¥‡å¶æ€§çš„å…³é”®ç‰¹å¾ï¼Œç»Ÿè®¡èµ·æ¥éå¸¸é«˜æ•ˆã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆå‘¨åœ£åŠ›ã€_lcy_ã€yijanç­‰é¢˜è§£çš„æ€è·¯ï¼Œæç‚¼å‡ºæœ€ç®€æ´çš„æ ¸å¿ƒå®ç°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  using namespace std;
  typedef long long ll;

  const int MAXN = 2e5 + 5;
  vector<int> e[MAXN];
  ll sz[MAXN], cnt[2]; // sz: å­æ ‘å¤§å°; cnt[0/1]: æ·±åº¦å¥‡å¶èŠ‚ç‚¹æ•°
  ll tot; // åŸè·ç¦»å’Œ

  void dfs(int u, int fa, int dep) {
      sz[u] = 1;
      cnt[dep % 2]++;
      for (int v : e[u]) {
          if (v == fa) continue;
          dfs(v, u, dep + 1);
          sz[u] += sz[v];
          tot += sz[v] * (MAXN - sz[v]); // æ­¤å¤„MAXNåº”ä¸ºè¾“å…¥çš„nï¼Œéœ€è°ƒæ•´
      }
  }

  int main() {
      int n;
      cin >> n;
      for (int i = 1; i < n; i++) {
          int u, v;
          cin >> u >> v;
          e[u].push_back(v);
          e[v].push_back(u);
      }
      dfs(1, 0, 1); // æ ¹èŠ‚ç‚¹æ·±åº¦ä¸º1ï¼ˆå¥‡å¶æ€§ä¸å½±å“ç»“æœï¼‰
      ll ans = (tot + cnt[0] * cnt[1]) / 2;
      cout << ans << endl;
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  ä»£ç é€šè¿‡ä¸€æ¬¡DFSéå†æ ‘ï¼Œç»Ÿè®¡æ¯ä¸ªèŠ‚ç‚¹çš„å­æ ‘å¤§å°ï¼ˆ`sz`ï¼‰å’Œæ·±åº¦å¥‡å¶æ€§ï¼ˆ`cnt`ï¼‰ã€‚éå†è¿‡ç¨‹ä¸­ï¼Œç´¯åŠ æ¯æ¡è¾¹çš„è´¡çŒ®ï¼ˆ`sz[v] * (n - sz[v])`ï¼‰å¾—åˆ°åŸè·ç¦»å’Œï¼ˆ`tot`ï¼‰ã€‚æœ€åï¼Œè®¡ç®—åŸè·ç¦»å’Œä¸å¥‡å¶ç‚¹å¯¹æ•°é‡çš„å’Œï¼Œé™¤ä»¥2å¾—åˆ°ç­”æ¡ˆã€‚


### é¢˜è§£ä¸€ï¼ˆç¦å·å‘¨åœ£åŠ›ï¼‰æ ¸å¿ƒä»£ç ç‰‡æ®µèµæ  
* **äº®ç‚¹**ï¼šåˆå¹¶ç»Ÿè®¡å­æ ‘å¤§å°ä¸æ·±åº¦å¥‡å¶æ€§ï¼Œä»£ç ç®€æ´ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void dfs(int root, int fa, int dep) {
      ++cnt[dep ^= 1]; // æ·±åº¦å¥‡å¶æ€§ç»Ÿè®¡ï¼ˆdepåˆå§‹ä¸º0ï¼Œæ ¹èŠ‚ç‚¹æ·±åº¦ä¸º1ï¼‰
      sz[root] = 1;
      for (int i = last[root]; i; i = e[i].next) {
          if (ot == fa) continue;
          dfs(ot, root, dep);
          sz[root] += sz[ot];
          ans += 1LL * (n - sz[root]) * sz[ot]; // è¾¹è´¡çŒ®è®¡ç®—
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `dep ^= 1`ï¼šæ·±åº¦ä»0å¼€å§‹ï¼Œæ ¹èŠ‚ç‚¹æ·±åº¦ä¸º1ï¼ˆ`dep`åˆå§‹ä¸º0ï¼Œå¼‚æˆ–1åä¸º1ï¼‰ï¼Œç»Ÿè®¡å¥‡å¶æ€§ã€‚  
  - `sz[root] += sz[ot]`ï¼šæ›´æ–°å½“å‰èŠ‚ç‚¹çš„å­æ ‘å¤§å°ã€‚  
  - `ans += (n - sz[root]) * sz[ot]`ï¼šè®¡ç®—å½“å‰è¾¹ï¼ˆè¿æ¥rootå’Œotï¼‰çš„è´¡çŒ®ï¼ˆotå­æ ‘å¤§å°Ã—å¤–ä¾§èŠ‚ç‚¹æ•°ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé€šè¿‡å¼‚æˆ–æ“ä½œå¿«é€Ÿåˆ‡æ¢å¥‡å¶æ€§ï¼Œç®€åŒ–äº†æ·±åº¦ç»Ÿè®¡ä»£ç ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤ºï¼ˆæ ¸å¿ƒéƒ¨åˆ†ï¼‰

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜  
**åƒç´ æ ‘æ¢é™©**ï¼šç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºæ ‘ç»“æ„ï¼ŒDFSéå†è¿‡ç¨‹ä¸­ç»Ÿè®¡å­æ ‘å¤§å°å’Œæ·±åº¦å¥‡å¶æ€§ï¼Œæœ€ç»ˆè®¡ç®—ç­”æ¡ˆã€‚

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¾ç¤º**åƒç´ æ ‘**ï¼ˆèŠ‚ç‚¹ä¸ºå½©è‰²æ–¹å—ï¼Œè¾¹ä¸ºçº¿æ¡ï¼Œæ ¹èŠ‚ç‚¹åœ¨é¡¶éƒ¨ï¼‰ã€‚  
   - å±å¹•å³ä¾§æ˜¾ç¤º**æ§åˆ¶é¢æ¿**ï¼ˆå¼€å§‹/æš‚åœã€å•æ­¥æ‰§è¡Œã€é‡ç½®æŒ‰é’®ï¼›é€Ÿåº¦æ»‘å—ï¼›å½“å‰å­æ ‘å¤§å°ã€å¥‡å¶èŠ‚ç‚¹æ•°ã€åŸè·ç¦»å’Œçš„å®æ—¶æ˜¾ç¤ºï¼‰ã€‚  
   - èƒŒæ™¯éŸ³ä¹ï¼š8ä½é£æ ¼çš„è½»å¿«æ—‹å¾‹ï¼ˆå¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„èƒŒæ™¯éŸ³ä¹ï¼‰ã€‚

2. **DFSéå†è¿‡ç¨‹**ï¼š  
   - **èŠ‚ç‚¹é«˜äº®**ï¼šå½“å‰è®¿é—®çš„èŠ‚ç‚¹ç”¨**é—ªçƒçš„é»„è‰²**è¡¨ç¤ºã€‚  
   - **å­æ ‘å¤§å°ç»Ÿè®¡**ï¼šå­æ ‘ä¸­çš„èŠ‚ç‚¹é€æ¸å˜ä¸º**ç»¿è‰²**ï¼Œå®æ—¶æ˜¾ç¤ºå½“å‰å­æ ‘å¤§å°ï¼ˆå¦‚â€œsz[3] = 5â€ï¼‰ã€‚  
   - **æ·±åº¦å¥‡å¶æ€§**ï¼šå¥‡æ•°æ·±åº¦èŠ‚ç‚¹å˜ä¸º**çº¢è‰²**ï¼Œå¶æ•°æ·±åº¦å˜ä¸º**è“è‰²**ï¼Œå³ä¾§ç»Ÿè®¡æ¡†å®æ—¶æ›´æ–°å¥‡å¶èŠ‚ç‚¹æ•°ï¼ˆå¦‚â€œå¥‡æ•°ï¼š3ï¼Œå¶æ•°ï¼š2â€ï¼‰ã€‚  
   - **è¾¹è´¡çŒ®è®¡ç®—**ï¼šå½“éå†åˆ°å­èŠ‚ç‚¹æ—¶ï¼Œå¯¹åº”çš„è¾¹å˜ä¸º**æ©™è‰²**ï¼Œå®æ—¶æ˜¾ç¤ºè¯¥è¾¹çš„è´¡çŒ®ï¼ˆå¦‚â€œè¾¹(2,3)è´¡çŒ®ï¼š3Ã—2=6â€ï¼‰ã€‚

3. **ç»“æœå±•ç¤º**ï¼š  
   - éå†å®Œæˆåï¼Œæ ‘èŠ‚ç‚¹æ¢å¤åˆå§‹é¢œè‰²ï¼Œå³ä¾§æ˜¾ç¤º**åŸè·ç¦»å’Œ**ï¼ˆå¦‚â€œtot = 10â€ï¼‰å’Œ**å¥‡å¶ç‚¹å¯¹æ•°é‡**ï¼ˆå¦‚â€œå¥‡æ•°Ã—å¶æ•°=3Ã—2=6â€ï¼‰ã€‚  
   - æœ€ç»ˆç­”æ¡ˆç”¨**å¤§å­—ä½“**æ˜¾ç¤ºï¼ˆå¦‚â€œç­”æ¡ˆï¼š(10+6)/2=8â€ï¼‰ï¼Œä¼´éš**èƒœåˆ©éŸ³æ•ˆ**ï¼ˆå¦‚ã€Šé­‚æ–—ç½—ã€‹çš„é€šå…³éŸ³æ•ˆï¼‰ã€‚

### äº¤äº’è®¾è®¡  
- **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œä¸‹ä¸€æ­¥â€æŒ‰é’®ï¼Œé€æ­¥æ‰§è¡ŒDFSéå†ï¼Œæ¯æ­¥æ˜¾ç¤ºå½“å‰æ“ä½œï¼ˆå¦‚â€œè®¿é—®èŠ‚ç‚¹3â€ã€â€œç»Ÿè®¡å­æ ‘å¤§å°â€ï¼‰ã€‚  
- **è‡ªåŠ¨æ’­æ”¾**ï¼šæ‹–åŠ¨é€Ÿåº¦æ»‘å—è°ƒæ•´æ’­æ”¾é€Ÿåº¦ï¼ˆå¦‚1xã€2xã€4xï¼‰ï¼ŒåŠ¨ç”»è‡ªåŠ¨æ‰§è¡Œã€‚  
- **é‡ç½®**ï¼šç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œæ¢å¤åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹æ¼”ç¤ºã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»  
- **è¾¹è´¡çŒ®æ³•**ï¼šå¯ç”¨äºè®¡ç®—æ ‘ä¸­æ‰€æœ‰ç‚¹å¯¹çš„è·ç¦»å’Œï¼ˆå¦‚æ´›è°·P1395ï¼‰ã€‚  
- **æ·±åº¦å¥‡å¶æ€§**ï¼šå¯ç”¨äºåˆ¤æ–­æ ‘ä¸­è·¯å¾„çš„å¥‡å¶æ€§ï¼ˆå¦‚æ´›è°·P2986ï¼‰ã€‚  
- **æ•°å­¦è½¬åŒ–**ï¼šå°†å¤æ‚çš„è·ç¦»è®¡ç®—è½¬åŒ–ä¸ºå¯ç»Ÿè®¡çš„é‡ï¼ˆå¦‚æœ¬é¢˜å°†æ–°è·ç¦»è½¬åŒ–ä¸ºåŸè·ç¦»å’Œå¥‡å¶ç‚¹å¯¹æ•°é‡ï¼‰ã€‚

### æ´›è°·ç»ƒä¹ æ¨è  
1. **æ´›è°·P1395** - æ ‘çš„è·ç¦»ä¹‹å’Œ  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç›´æ¥è€ƒå¯Ÿè¾¹è´¡çŒ®æ³•ï¼Œå¸®åŠ©å·©å›ºåŸè·ç¦»å’Œçš„è®¡ç®—ã€‚  
2. **æ´›è°·P2986** - [USACO10MAR] Great Cow Gathering G  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šéœ€è¦ç»Ÿè®¡å­æ ‘å¤§å°å’Œè·¯å¾„å’Œï¼Œæ˜¯è¾¹è´¡çŒ®æ³•çš„è¿›é˜¶åº”ç”¨ã€‚  
3. **æ´›è°·P3379** - æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰æ¨¡æ¿é¢˜  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šLCAæ˜¯æ ‘ä¸­è·¯å¾„è®¡ç®—çš„åŸºç¡€ï¼Œå¸®åŠ©ç†è§£æ·±åº¦å¥‡å¶æ€§çš„æ¥æºã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«ï¼ˆè‹¥æœ‰ï¼‰  
- **æ³¨æ„æ•°æ®ç±»å‹**ï¼šåŸè·ç¦»å’Œä¸å¥‡å¶ç‚¹å¯¹æ•°é‡å¯èƒ½å¾ˆå¤§ï¼ˆnâ‰¤2e5ï¼‰ï¼Œå¿…é¡»ä½¿ç”¨`long long`ç±»å‹ï¼Œé¿å…æº¢å‡ºã€‚  
- **æ·±åº¦åˆå§‹å€¼**ï¼šæ ¹èŠ‚ç‚¹çš„æ·±åº¦å¯ä»¥æ˜¯0æˆ–1ï¼Œä¸å½±å“å¥‡å¶æ€§ç»Ÿè®¡ï¼ˆå› ä¸ºå¥‡å¶æ€§æ˜¯ç›¸å¯¹çš„ï¼‰ã€‚  
- **ä»£ç ç®€åŒ–**ï¼šå°†å¤šä¸ªç»Ÿè®¡ä»»åŠ¡åˆå¹¶åˆ°ä¸€æ¬¡DFSä¸­ï¼Œå¯æé«˜ä»£ç æ•ˆç‡ï¼ˆå¦‚å‘¨åœ£åŠ›çš„é¢˜è§£ï¼‰ã€‚


## ç»“è¯­  
æœ¬æ¬¡åˆ†æè®©æˆ‘ä»¬æŒæ¡äº†æ ‘ä¸­ç‚¹å¯¹è·ç¦»ç»Ÿè®¡çš„ç»å…¸æŠ€å·§â€”â€”è¾¹è´¡çŒ®æ³•å’Œæ·±åº¦å¥‡å¶æ€§åˆ†æã€‚é€šè¿‡æ•°å­¦æ¨å¯¼å°†å¤æ‚é—®é¢˜è½¬åŒ–ä¸ºå¯ç»Ÿè®¡çš„é‡ï¼Œæ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„å…³é”®ã€‚å¸Œæœ›å¤§å®¶é€šè¿‡ç»ƒä¹ ï¼Œèƒ½ç†Ÿç»ƒè¿ç”¨è¿™äº›æŠ€å·§ï¼Œè§£å†³æ›´å¤šæ ‘ç›¸å…³çš„é—®é¢˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š130.11ç§’
# é¢˜ç›®ä¿¡æ¯

# Inquisition

## é¢˜ç›®æè¿°

In Medieval times existed the tradition of burning witches at steaks together with their pets, black cats. By the end of the 15-th century the population of black cats ceased to exist. The difficulty of the situation led to creating the EIC - the Emergency Inquisitory Commission.

The resolution #666 says that a white cat is considered black when and only when the perimeter of its black spots exceeds the acceptable norm. But what does the acceptable norm equal to? Every inquisitor will choose it himself depending on the situation. And your task is to find the perimeter of black spots on the cat's fur.

The very same resolution says that the cat's fur is a white square with the length of $ 10^{5} $ . During the measurement of spots it is customary to put the lower left corner of the fur into the origin of axes $ (0;0) $ and the upper right one â€” to the point with coordinates $ (10^{5};10^{5}) $ . The cats' spots are nondegenerate triangles. The spots can intersect and overlap with each other, but it is guaranteed that each pair of the triangular spots' sides have no more than one common point.

We'll regard the perimeter in this problem as the total length of the boarders where a cat's fur changes color.

## æ ·ä¾‹ #1

### è¾“å…¥

```
1
1 1 2 1 1 2
```

### è¾“å‡º

```
3.4142135624
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
3
3 3 10 3 3 10
1 1 9 4 5 6
2 2 11 7 6 11
```

### è¾“å‡º

```
37.7044021497
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šInquisition æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æâ€œInquisitionâ€è¿™é“C++ç¼–ç¨‹é¢˜ã€‚è¿™é“é¢˜éœ€è¦æˆ‘ä»¬è®¡ç®—å¤šä¸ªä¸‰è§’å½¢é¢ç§¯å¹¶çš„å‘¨é•¿ï¼Œæ ¸å¿ƒæ˜¯å¤„ç†å¹³é¢å‡ ä½•ä¸­çš„çº¿æ®µåˆ†å‰²ä¸åŒ…å«æ€§åˆ¤æ–­ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©å¤§å®¶æ¢³ç†æ€è·¯ã€ç†è§£å…³é”®æŠ€å·§ï¼Œå¹¶é€šè¿‡åƒç´ åŠ¨ç”»ç›´è§‚æ„Ÿå—ç®—æ³•æµç¨‹ï¼


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šç¼–ç¨‹æŠ€å·§åº”ç”¨ï¼ˆè®¡ç®—å‡ ä½•åŸºç¡€ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³è¿™é“é¢˜çš„å…³é”®æ˜¯ç†è§£â€œé¢ç§¯å¹¶çš„å‘¨é•¿â€çš„æœ¬è´¨â€”â€”**æ‰€æœ‰æœªè¢«å…¶ä»–ä¸‰è§’å½¢è¦†ç›–çš„çº¿æ®µæ€»é•¿åº¦**ã€‚æƒ³è±¡ä¸€ä¸‹ï¼šæ¯ä¸ªä¸‰è§’å½¢çš„è¾¹å°±åƒâ€œå›´æ â€ï¼Œå¦‚æœæŸæ®µå›´æ è¢«å…¶ä»–ä¸‰è§’å½¢å®Œå…¨â€œç›–ä½â€ï¼Œå°±ä¸éœ€è¦ç®—å…¥å‘¨é•¿ï¼›åä¹‹åˆ™è¦ç®—ã€‚  

è®¡ç®—å‡ ä½•çš„æ ¸å¿ƒæ˜¯å¤„ç†å¹³é¢å›¾å½¢çš„**äº¤ç‚¹**å’Œ**åŒ…å«å…³ç³»**ã€‚æœ¬é¢˜çš„è§£æ³•å¯ä»¥æ‹†è§£ä¸º3æ­¥ï¼š  
1. **åˆ†å‰²çº¿æ®µ**ï¼šæŠŠæ¯ä¸ªä¸‰è§’å½¢çš„è¾¹æŒ‰ä¸å…¶ä»–ä¸‰è§’å½¢çš„äº¤ç‚¹åˆ‡æˆå°çº¿æ®µï¼ˆç¡®ä¿æ¯æ®µä¸­é—´æ²¡æœ‰äº¤ç‚¹ï¼‰ï¼›  
2. **åˆ¤æ–­åŒ…å«**ï¼šå¯¹æ¯æ®µå°çº¿æ®µï¼Œå–ä¸­ç‚¹åˆ¤æ–­æ˜¯å¦åœ¨å…¶ä»–ä¸‰è§’å½¢å†…éƒ¨ï¼ˆä¸­ç‚¹åœ¨å†…éƒ¨â‰ˆæ•´æ®µè¢«è¦†ç›–ï¼‰ï¼›  
3. **ç´¯åŠ é•¿åº¦**ï¼šæœªè¢«è¦†ç›–çš„çº¿æ®µé•¿åº¦ä¹‹å’Œå°±æ˜¯ç­”æ¡ˆã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼šå¦‚ä½•å‡†ç¡®è®¡ç®—çº¿æ®µäº¤ç‚¹ï¼Ÿå¦‚ä½•åˆ¤æ–­ç‚¹åœ¨ä¸‰è§’å½¢å†…ï¼Ÿå¦‚ä½•é«˜æ•ˆåˆ†å‰²çº¿æ®µï¼Ÿ  
**è§£å†³æ–¹æ¡ˆ**ï¼šç”¨å‘é‡å‰ç§¯æ±‚äº¤ç‚¹ï¼ˆé¿å…æ–œç‡ä¸å­˜åœ¨çš„å‘ï¼‰ã€ç”¨é¢ç§¯æ³•åˆ¤æ–­ç‚¹åœ¨ä¸‰è§’å½¢å†…ï¼ˆç®€å•ç›´è§‚ï¼‰ã€ç”¨`set`å¯¹äº¤ç‚¹æ’åºå»é‡ï¼ˆè‡ªåŠ¨å¤„ç†åˆ†å‰²é¡ºåºï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼šæˆ‘ä»¬ä¼šç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºä¸‰è§’å½¢å’Œçº¿æ®µã€‚æ¯”å¦‚ï¼š  
- æ¯ä¸ªä¸‰è§’å½¢ç”¨ä¸åŒé¢œè‰²çš„åƒç´ å—å¡«å……ï¼›  
- çº¿æ®µåˆ†å‰²æ—¶ï¼Œç”¨é—ªçƒçš„â€œåƒç´ ç‚¹â€æ ‡è®°äº¤ç‚¹ï¼›  
- ä¸­ç‚¹åˆ¤æ–­æ—¶ï¼Œç”¨â€œç»¿è‰²â€è¡¨ç¤ºæœªè¢«è¦†ç›–ã€â€œçº¢è‰²â€è¡¨ç¤ºè¢«è¦†ç›–ï¼›  
- æ“ä½œæ—¶åŠ å…¥â€œå®â€ï¼ˆäº¤ç‚¹è®¡ç®—ï¼‰ã€â€œæ»´â€ï¼ˆä¸­ç‚¹åˆ¤æ–­ï¼‰çš„åƒç´ éŸ³æ•ˆï¼Œè‡ªåŠ¨æ’­æ”¾æ¨¡å¼åƒâ€œè´ªåƒè›‡AIâ€ä¸€æ ·é€æ­¥æ¼”ç¤ºåˆ†å‰²è¿‡ç¨‹ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºå¤§å®¶ç­›é€‰äº†1æ¡**4æ˜Ÿä¼˜è´¨é¢˜è§£**ï¼ˆæ€è·¯æ¸…æ™°ã€ä»£ç è§„èŒƒï¼Œä»…å­˜åœ¨å°ç‘•ç–µï¼‰ï¼š

**é¢˜è§£ä¸€ï¼šæ¥æºï¼šCarroT1212**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸â€œæ¥åœ°æ°”â€â€”â€”æŠŠå¤æ‚çš„å‘¨é•¿é—®é¢˜æ‹†è§£æˆâ€œçº¿æ®µåˆ†å‰²+ä¸­ç‚¹åˆ¤æ–­â€ï¼Œå®Œç¾è´´åˆè®¡ç®—å‡ ä½•çš„æ ¸å¿ƒé€»è¾‘ã€‚ä»£ç ç”¨`pair<ld, ld>`å°è£…ç‚¹å’Œå‘é‡ï¼Œå¯è¯»æ€§å¾ˆå¼ºï¼›`its`å‡½æ•°ç”¨å‘é‡å‰ç§¯æ±‚äº¤ç‚¹ï¼Œé¿å…äº†æ–œç‡ä¸å­˜åœ¨çš„éº»çƒ¦ï¼›`in`å‡½æ•°ç”¨é¢ç§¯æ³•åˆ¤æ–­ç‚¹åœ¨ä¸‰è§’å½¢å†…ï¼Œç®€å•æ˜“æ‡‚ã€‚  

ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œ`its`å‡½æ•°ä¸­æ²¡æœ‰ä¸¥æ ¼åˆ¤æ–­äº¤ç‚¹æ˜¯å¦åœ¨çº¿æ®µä¸Šï¼ˆåªåˆ¤äº†`t`åœ¨0~1ï¼Œä½†åŸä»£ç çš„`ret.fi>=0`æ¡ä»¶å¯èƒ½ä¸å‡†ç¡®ï¼‰ï¼Œä½†æ•´ä½“ä¸å½±å“æ ¸å¿ƒé€»è¾‘ã€‚ä»å®è·µè§’åº¦çœ‹ï¼Œè¿™ä»½é¢˜è§£çš„æ¡†æ¶å¯ä»¥ç›´æ¥ç”¨äºç±»ä¼¼è®¡ç®—å‡ ä½•é—®é¢˜ï¼Œæ˜¯å¾ˆå¥½çš„å‚è€ƒæ¨¡æ¿ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

åœ¨è®¡ç®—å‡ ä½•é—®é¢˜ä¸­ï¼Œ**ç»†èŠ‚**å¾€å¾€å†³å®šæˆè´¥ã€‚ä»¥ä¸‹æ˜¯3ä¸ªæ ¸å¿ƒéš¾ç‚¹åŠè§£å†³ç­–ç•¥ï¼š

### 1. å…³é”®ç‚¹1ï¼šå¦‚ä½•æ±‚ä¸¤æ¡çº¿æ®µçš„äº¤ç‚¹ï¼Ÿ
- **åˆ†æ**ï¼šç›´æ¥è§£æ–¹ç¨‹ä¼šé‡åˆ°æ–œç‡ä¸å­˜åœ¨ï¼ˆç«–ç›´çº¿ï¼‰çš„æƒ…å†µï¼Œç”¨**å‘é‡å‰ç§¯**æ›´ä¼˜é›…ã€‚å‘é‡å‰ç§¯çš„å‡ ä½•æ„ä¹‰æ˜¯â€œå¹³è¡Œå››è¾¹å½¢é¢ç§¯â€ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸¤ç›´çº¿æ˜¯å¦å¹³è¡Œï¼ˆå‰ç§¯ä¸º0åˆ™å¹³è¡Œï¼‰ï¼Œå¹¶è®¡ç®—äº¤ç‚¹åæ ‡ã€‚  
  é¢˜è§£ä¸­çš„`its`å‡½æ•°å°±æ˜¯ç”¨è¿™ç§æ–¹æ³•ï¼šè®¾çº¿æ®µABå’ŒCDï¼Œå‘é‡`xx=AB`ã€`yy=CD`ã€`zz=B-D`ï¼Œé€šè¿‡å‰ç§¯è®¡ç®—æ¯”ä¾‹`t`ï¼Œå†æ±‚å‡ºäº¤ç‚¹ã€‚  
- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå‘é‡å‰ç§¯æ˜¯è®¡ç®—å‡ ä½•çš„â€œç‘å£«å†›åˆ€â€ï¼Œèƒ½è§£å†³äº¤ç‚¹ã€å¹³è¡Œã€è½¬å‘ç­‰é—®é¢˜ã€‚

### 2. å…³é”®ç‚¹2ï¼šå¦‚ä½•åˆ¤æ–­ç‚¹åœ¨ä¸‰è§’å½¢å†…ï¼Ÿ
- **åˆ†æ**ï¼šæœ€ç›´è§‚çš„æ–¹æ³•æ˜¯**é¢ç§¯æ³•**â€”â€”ç‚¹Påœ¨ä¸‰è§’å½¢ABCå†…ï¼Œå½“ä¸”ä»…å½“â–³PABã€â–³PBCã€â–³PCAçš„é¢ç§¯ä¹‹å’Œç­‰äºâ–³ABCçš„é¢ç§¯ã€‚é¢˜è§£ä¸­çš„`in`å‡½æ•°ç”¨æµ·ä¼¦å…¬å¼è®¡ç®—é¢ç§¯ï¼Œé€šè¿‡è¯¯å·®`eps`ï¼ˆ1e-5ï¼‰å¤„ç†æµ®ç‚¹ç²¾åº¦é—®é¢˜ã€‚  
- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé¢ç§¯æ³•å¯¹å‡¸å¤šè¾¹å½¢ï¼ˆå¦‚ä¸‰è§’å½¢ï¼‰éå¸¸å‹å¥½ï¼Œé¿å…äº†å°„çº¿æ³•çš„â€œç›¸åˆ‡â€é—®é¢˜ã€‚

### 3. å…³é”®ç‚¹3ï¼šå¦‚ä½•åˆ†å‰²çº¿æ®µï¼Ÿ
- **åˆ†æ**ï¼šæ¯æ¡è¾¹çš„äº¤ç‚¹å¯èƒ½æœ‰å¤šä¸ªï¼Œéœ€è¦**æ’åºå»é‡**ã€‚é¢˜è§£ç”¨`set<pld>`å­˜å‚¨äº¤ç‚¹ï¼Œè‡ªåŠ¨æŒ‰åæ ‡æ’åºå¹¶å»é‡ï¼Œç„¶åéå†`set`ä¸­çš„ç‚¹ï¼ŒæŠŠè¾¹åˆ‡æˆè¿ç»­çš„å°çº¿æ®µã€‚  
- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`set`çš„è‡ªåŠ¨æ’åºç‰¹æ€§æ˜¯å¤„ç†â€œæœ‰åºç‚¹é›†â€çš„ç¥å™¨ï¼Œé¿å…äº†æ‰‹åŠ¨æ’åºçš„éº»çƒ¦ã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é—®é¢˜æ‹†è§£**ï¼šæŠŠå¤§é—®é¢˜ï¼ˆé¢ç§¯å¹¶çš„å‘¨é•¿ï¼‰æ‹†æˆå°é—®é¢˜ï¼ˆçº¿æ®µåˆ†å‰²ã€ç‚¹åŒ…å«ã€é•¿åº¦ç´¯åŠ ï¼‰ï¼Œé€ä¸ªè§£å†³ï¼›  
- **æµ®ç‚¹ç²¾åº¦**ï¼šè®¡ç®—å‡ ä½•ä¸­ä¸€å®šè¦ç”¨`long double`ï¼ˆé«˜ç²¾åº¦æµ®ç‚¹ï¼‰ï¼Œå¹¶è®¾ç½®`eps`ï¼ˆå¦‚1e-5ï¼‰å¤„ç†è¯¯å·®ï¼›  
- **æ•°æ®å°è£…**ï¼šç”¨`pair`å°è£…ç‚¹å’Œå‘é‡ï¼Œè®©ä»£ç æ›´ç®€æ´æ˜“æ‡‚ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†é¢˜è§£çš„æ ¸å¿ƒé€»è¾‘ï¼Œä¿®æ­£äº†`its`å‡½æ•°çš„äº¤ç‚¹åˆ¤æ–­é—®é¢˜ï¼Œç¡®ä¿äº¤ç‚¹åœ¨çº¿æ®µä¸Šã€‚

```cpp
#include <iostream>
#include <vector>
#include <set>
#include <cmath>
#include <cstdio>
using namespace std;

using ld = long double;
const ld eps = 1e-5;

// ç‚¹/å‘é‡çš„å°è£…
struct Point {
    ld x, y;
    Point(ld x = 0, ld y = 0) : x(x), y(y) {}
    Point operator-(const Point& p) const { return Point(x - p.x, y - p.y); }
    Point operator+(const Point& p) const { return Point(x + p.x, y + p.y); }
    Point operator*(ld k) const { return Point(x * k, y * k); }
    ld operator*(const Point& p) const { return x * p.y - y * p.x; } // å‰ç§¯
};

// çº¿æ®µçš„å°è£…
struct Segment {
    Point a, b;
    Segment(Point a = Point(), Point b = Point()) : a(a), b(b) {}
};

// è®¡ç®—ä¸¤ç‚¹é—´è·ç¦»
ld dist(const Point& p1, const Point& p2) {
    return sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));
}

// è®¡ç®—ä¸‰è§’å½¢é¢ç§¯ï¼ˆæµ·ä¼¦å…¬å¼ï¼‰
ld area_heron(ld a, ld b, ld c) {
    ld p = (a + b + c) / 2;
    return sqrt(p * (p - a) * (p - b) * (p - c));
}

// åˆ¤æ–­ç‚¹pæ˜¯å¦åœ¨ä¸‰è§’å½¢abcå†…ï¼ˆé¢ç§¯æ³•ï¼‰
bool is_inside(const Point& p, const Point& a, const Point& b, const Point& c) {
    ld s = area_heron(dist(a, b), dist(b, c), dist(c, a));
    ld s1 = area_heron(dist(a, b), dist(b, p), dist(p, a));
    ld s2 = area_heron(dist(b, c), dist(c, p), dist(p, b));
    ld s3 = area_heron(dist(c, a), dist(a, p), dist(p, c));
    return fabs(s - (s1 + s2 + s3)) < eps;
}

// æ±‚ä¸¤æ¡çº¿æ®µçš„äº¤ç‚¹ï¼ˆè¿”å›Point(-1,-1)è¡¨ç¤ºæ— äº¤ç‚¹æˆ–äº¤ç‚¹ä¸åœ¨çº¿æ®µä¸Šï¼‰
Point get_intersection(const Segment& s1, const Segment& s2) {
    Point a = s1.a, b = s1.b, c = s2.a, d = s2.b;
    Point ab = b - a, cd = d - c, ac = c - a;
    ld cross_ab_cd = ab * cd;
    if (fabs(cross_ab_cd) < eps) return Point(-1, -1); // ä¸¤ç›´çº¿å¹³è¡Œ
    ld t = (ac * cd) / cross_ab_cd;
    ld s = (ac * ab) / cross_ab_cd;
    if (t < -eps || t > 1 + eps || s < -eps || s > 1 + eps) return Point(-1, -1); // äº¤ç‚¹ä¸åœ¨çº¿æ®µä¸Š
    return a + ab * t;
}

int main() {
    int n;
    scanf("%d", &n);
    vector<vector<Point>> triangles(n, vector<Point>(3)); // å­˜å‚¨æ‰€æœ‰ä¸‰è§’å½¢
    vector<vector<Segment>> edges(n, vector<Segment>(3)); // å­˜å‚¨æ¯ä¸ªä¸‰è§’å½¢çš„è¾¹
    vector<vector<set<Point>>> split_edges(n, vector<set<Point>>(3)); // å­˜å‚¨æ¯æ¡è¾¹çš„åˆ†å‰²ç‚¹

    // è¾“å…¥å¤„ç†
    for (int i = 0; i < n; ++i) {
        for (int j = 0; j < 3; ++j) {
            ld x, y;
            scanf("%Lf %Lf", &x, &y);
            triangles[i][j] = Point(x, y);
        }
        // åˆå§‹åŒ–è¾¹ï¼šä¸‰è§’å½¢çš„ä¸‰æ¡è¾¹ï¼ˆjâ†’j+1ï¼Œå–æ¨¡3ï¼‰
        edges[i][0] = Segment(triangles[i][0], triangles[i][1]);
        edges[i][1] = Segment(triangles[i][1], triangles[i][2]);
        edges[i][2] = Segment(triangles[i][2], triangles[i][0]);
        // æ¯æ¡è¾¹å…ˆåŠ å…¥ç«¯ç‚¹
        for (int j = 0; j < 3; ++j) {
            split_edges[i][j].insert(edges[i][j].a);
            split_edges[i][j].insert(edges[i][j].b);
        }
    }

    // æ­¥éª¤1ï¼šåˆ†å‰²æ¯æ¡è¾¹ï¼ˆä¸å…¶ä»–ä¸‰è§’å½¢çš„è¾¹æ±‚äº¤ç‚¹ï¼‰
    for (int i = 0; i < n; ++i) { // å½“å‰ä¸‰è§’å½¢i
        for (int j = 0; j < 3; ++j) { // å½“å‰è¾¹j
            Segment s = edges[i][j];
            for (int k = 0; k < n; ++k) { // å…¶ä»–ä¸‰è§’å½¢k
                if (k == i) continue;
                for (int l = 0; l < 3; ++l) { // å…¶ä»–è¾¹l
                    Segment t = edges[k][l];
                    Point p = get_intersection(s, t);
                    if (p.x != -1 || p.y != -1) { // æœ‰æœ‰æ•ˆäº¤ç‚¹
                        split_edges[i][j].insert(p);
                    }
                }
            }
        }
    }

    // æ­¥éª¤2ï¼šè®¡ç®—æœªè¢«è¦†ç›–çš„çº¿æ®µé•¿åº¦
    ld ans = 0;
    for (int i = 0; i < n; ++i) { // å½“å‰ä¸‰è§’å½¢i
        for (int j = 0; j < 3; ++j) { // å½“å‰è¾¹j
            auto& points = split_edges[i][j];
            auto it = points.begin();
            while (next(it) != points.end()) {
                Point p1 = *it;
                Point p2 = *next(it);
                Point mid = (p1 + p2) * 0.5; // å–ä¸­ç‚¹
                bool covered = false;
                // åˆ¤æ–­ä¸­ç‚¹æ˜¯å¦åœ¨å…¶ä»–ä¸‰è§’å½¢å†…
                for (int k = 0; k < n; ++k) {
                    if (k == i) continue;
                    if (is_inside(mid, triangles[k][0], triangles[k][1], triangles[k][2])) {
                        covered = true;
                        break;
                    }
                }
                if (!covered) {
                    ans += dist(p1, p2);
                }
                ++it;
            }
        }
    }

    printf("%.10Lf\n", ans);
    return 0;
}
```

* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
ä»£ç åˆ†ä¸º5éƒ¨åˆ†ï¼š  
1. **æ•°æ®ç»“æ„å°è£…**ï¼šç”¨`Point`ï¼ˆç‚¹/å‘é‡ï¼‰å’Œ`Segment`ï¼ˆçº¿æ®µï¼‰å°è£…å‡ ä½•å…ƒç´ ï¼Œç®€åŒ–è¿ç®—ï¼›  
2. **å·¥å…·å‡½æ•°**ï¼š`dist`ï¼ˆè·ç¦»ï¼‰ã€`area_heron`ï¼ˆæµ·ä¼¦å…¬å¼ï¼‰ã€`is_inside`ï¼ˆç‚¹åœ¨ä¸‰è§’å½¢å†…ï¼‰ã€`get_intersection`ï¼ˆçº¿æ®µäº¤ç‚¹ï¼‰ï¼›  
3. **è¾“å…¥å¤„ç†**ï¼šè¯»å–ä¸‰è§’å½¢é¡¶ç‚¹ï¼Œåˆå§‹åŒ–è¾¹å’Œåˆ†å‰²ç‚¹é›†åˆï¼›  
4. **çº¿æ®µåˆ†å‰²**ï¼šéå†æ‰€æœ‰è¾¹å¯¹ï¼Œè®¡ç®—äº¤ç‚¹å¹¶åŠ å…¥åˆ†å‰²ç‚¹é›†åˆï¼›  
5. **é•¿åº¦ç´¯åŠ **ï¼šéå†åˆ†å‰²åçš„å°çº¿æ®µï¼Œåˆ¤æ–­ä¸­ç‚¹æ˜¯å¦è¢«è¦†ç›–ï¼Œç´¯åŠ æœªè¢«è¦†ç›–çš„é•¿åº¦ã€‚


### é¢˜è§£æ ¸å¿ƒç‰‡æ®µèµæï¼ˆæ¥æºï¼šCarroT1212ï¼‰
* **äº®ç‚¹**ï¼šç”¨`pair`ç®€åŒ–ç‚¹çš„å­˜å‚¨ï¼Œç”¨`set`è‡ªåŠ¨æ’åºåˆ†å‰²ç‚¹ã€‚
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
  ```cpp
  // ç‚¹çš„å‰ç§¯è¿ç®—
  ld operator * (pld x,pld y) { return x.fi*y.se-x.se*y.fi; }
  // æ±‚çº¿æ®µäº¤ç‚¹
  pld its(lin x,lin y) {
      pld xx=x.se-x.fi,yy=y.se-y.fi,zz=x.se-y.se;
      if (xx*yy==0) return {-1,0}; // å¹³è¡Œ
      ld t=(zz*yy)/(xx*yy);
      if (t<0||t>1) return {-1,0}; // äº¤ç‚¹ä¸åœ¨çº¿æ®µä¸Š
      return x.se-xx*t;
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - å‰ç§¯è¿ç®—`operator*`ï¼šè®¡ç®—ä¸¤ä¸ªå‘é‡çš„å‰ç§¯ï¼ˆ`x.fi*y.se - x.se*y.fi`ï¼‰ï¼Œç”¨æ¥åˆ¤æ–­å¹³è¡Œæˆ–è®¡ç®—äº¤ç‚¹æ¯”ä¾‹ï¼›  
  - `its`å‡½æ•°ï¼šè¾“å…¥ä¸¤æ¡çº¿æ®µ`x`ï¼ˆ`x.fi`â†’`x.se`ï¼‰å’Œ`y`ï¼ˆ`y.fi`â†’`y.se`ï¼‰ï¼Œå…ˆè®¡ç®—å‘é‡`xx`ï¼ˆ`x`çš„æ–¹å‘ï¼‰ã€`yy`ï¼ˆ`y`çš„æ–¹å‘ï¼‰ã€`zz`ï¼ˆ`x.se`åˆ°`y.se`çš„å‘é‡ï¼‰ï¼›  
  - é€šè¿‡å‰ç§¯åˆ¤æ–­å¹³è¡Œï¼ˆ`xx*yy==0`ï¼‰ï¼Œå†è®¡ç®—æ¯”ä¾‹`t`ï¼Œå¦‚æœ`t`åœ¨0~1ä¹‹é—´ï¼Œè¯´æ˜äº¤ç‚¹åœ¨çº¿æ®µä¸Šï¼Œè¿”å›äº¤ç‚¹åæ ‡ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¿ç®—ç¬¦é‡è½½å¯ä»¥è®©å‘é‡è¿ç®—æ›´ç›´è§‚ï¼Œæ¯”å¦‚`a*b`ç›´æ¥è¡¨ç¤ºå‰ç§¯ï¼Œæ¯”`cross(a,b)`æ›´ç®€æ´ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šåƒç´ çŒ«çš„â€œæ–‘ç‚¹å‘¨é•¿æ¢æµ‹å™¨â€
æˆ‘ä»¬ç”¨**8ä½FCçº¢ç™½æœºé£æ ¼**åˆ¶ä½œåŠ¨ç”»ï¼Œæ¨¡æ‹Ÿâ€œæ¢æµ‹å™¨â€æ‰«æä¸‰è§’å½¢è¾¹çš„è¿‡ç¨‹ï¼Œèåˆæ¸¸æˆåŒ–å…ƒç´ è®©å­¦ä¹ æ›´æœ‰è¶£ï¼


### è®¾è®¡æ€è·¯ç®€è¿°
- **é£æ ¼**ï¼š8ä½åƒç´ é£ï¼ˆ16è‰²è°ƒè‰²æ¿ï¼Œç±»ä¼¼ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹ï¼‰ï¼ŒèƒŒæ™¯æ˜¯ç™½è‰²â€œçŒ«æ¯›â€ï¼ˆ100x100åƒç´ ç½‘æ ¼ï¼‰ï¼Œä¸‰è§’å½¢ç”¨ä¸åŒé¢œè‰²å¡«å……ï¼ˆæ¯”å¦‚çº¢è‰²ã€è“è‰²ã€ç»¿è‰²ï¼‰ï¼›  
- **äº¤äº’**ï¼šæ”¯æŒâ€œå•æ­¥æ‰§è¡Œâ€ï¼ˆé€å¸§çœ‹åˆ†å‰²è¿‡ç¨‹ï¼‰ã€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆè°ƒé€Ÿæ»‘å—æ§åˆ¶é€Ÿåº¦ï¼‰ã€â€œé‡ç½®â€ï¼›  
- **éŸ³æ•ˆ**ï¼šäº¤ç‚¹è®¡ç®—æ—¶æ’­æ”¾â€œå®â€ï¼ˆé¢‘ç‡440Hzï¼Œæ—¶é•¿100msï¼‰ã€ä¸­ç‚¹åˆ¤æ–­æœªè¢«è¦†ç›–æ—¶æ’­æ”¾â€œæ»´â€ï¼ˆé¢‘ç‡880Hzï¼Œæ—¶é•¿50msï¼‰ã€æœ€ç»ˆå®Œæˆæ—¶æ’­æ”¾â€œèƒœåˆ©æ›²â€ï¼ˆ3ä¸ªéŸ³ç¬¦ï¼‰ã€‚


### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•æ˜¾ç¤º100x100çš„ç™½è‰²ç½‘æ ¼ï¼ˆä»£è¡¨çŒ«æ¯›ï¼‰ï¼Œå³ä¸‹è§’æœ‰â€œæ§åˆ¶é¢æ¿â€ï¼ˆå¼€å§‹/æš‚åœã€å•æ­¥ã€é‡ç½®æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼‰ï¼›  
   - åŠ è½½è¾“å…¥çš„ä¸‰è§’å½¢ï¼ˆæ¯”å¦‚æ ·ä¾‹1çš„çº¢è‰²ä¸‰è§’å½¢ï¼š(1,1)â†’(2,1)â†’(1,2)ï¼‰ï¼Œç”¨åƒç´ å—å¡«å……ã€‚

2. **çº¿æ®µåˆ†å‰²æ¼”ç¤º**ï¼š  
   - é€‰ä¸­ä¸€æ¡è¾¹ï¼ˆæ¯”å¦‚çº¢è‰²ä¸‰è§’å½¢çš„(1,1)â†’(2,1)ï¼‰ï¼Œç”¨â€œé»„è‰²â€é«˜äº®ï¼›  
   - éå†å…¶ä»–ä¸‰è§’å½¢çš„è¾¹ï¼Œè®¡ç®—äº¤ç‚¹æ—¶ï¼Œåœ¨äº¤ç‚¹ä½ç½®æ˜¾ç¤ºâ€œé—ªçƒçš„è“è‰²åƒç´ ç‚¹â€ï¼ŒåŒæ—¶æ’­æ”¾â€œå®â€å£°ï¼›  
   - äº¤ç‚¹åŠ å…¥`set`åï¼Œè‡ªåŠ¨æ’åºï¼Œè¾¹è¢«åˆ‡æˆå°çº¿æ®µï¼ˆæ¯”å¦‚æ ·ä¾‹1ä¸­è¾¹æ— äº¤ç‚¹ï¼Œä¿æŒå®Œæ•´ï¼‰ã€‚

3. **ä¸­ç‚¹åˆ¤æ–­æ¼”ç¤º**ï¼š  
   - å¯¹æ¯æ®µå°çº¿æ®µï¼Œå–ä¸­ç‚¹ï¼ˆç”¨â€œç»¿è‰²åƒç´ ç‚¹â€æ ‡è®°ï¼‰ï¼›  
   - åˆ¤æ–­ä¸­ç‚¹æ˜¯å¦åœ¨å…¶ä»–ä¸‰è§’å½¢å†…ï¼šå¦‚æœåœ¨ï¼Œä¸­ç‚¹å˜æˆâ€œçº¢è‰²â€ï¼Œçº¿æ®µå˜ç°ï¼ˆè¡¨ç¤ºè¢«è¦†ç›–ï¼‰ï¼›å¦‚æœä¸åœ¨ï¼Œä¸­ç‚¹ä¿æŒâ€œç»¿è‰²â€ï¼Œçº¿æ®µä¿æŒé«˜äº®ï¼ˆè¡¨ç¤ºè¦ç®—å…¥å‘¨é•¿ï¼‰ï¼›  
   - åˆ¤æ–­å®Œæˆæ—¶æ’­æ”¾â€œæ»´â€å£°ï¼Œç´¯åŠ é•¿åº¦æ˜¾ç¤ºåœ¨å±å¹•ä¸Šæ–¹ã€‚

4. **è‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼**ï¼š  
   - ç‚¹å‡»â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ŒåŠ¨ç”»ä¼šåƒâ€œè´ªåƒè›‡AIâ€ä¸€æ ·ï¼Œè‡ªåŠ¨éå†æ‰€æœ‰è¾¹ã€åˆ†å‰²ã€åˆ¤æ–­ï¼Œæœ€ç»ˆæ˜¾ç¤ºæ€»å‘¨é•¿ï¼›  
   - é€Ÿåº¦æ»‘å—å¯ä»¥è°ƒæ•´æ’­æ”¾é€Ÿåº¦ï¼ˆä»â€œæ…¢â€åˆ°â€œå¿«â€ï¼Œå¯¹åº”1å¸§/ç§’åˆ°10å¸§/ç§’ï¼‰ã€‚

5. **èƒœåˆ©çŠ¶æ€**ï¼š  
   - æ‰€æœ‰çº¿æ®µå¤„ç†å®Œæˆåï¼Œå±å¹•ä¸­å¤®æ˜¾ç¤ºâ€œå‘¨é•¿ï¼š3.4142135624â€ï¼ˆæ ·ä¾‹1ç»“æœï¼‰ï¼ŒåŒæ—¶æ’­æ”¾â€œèƒœåˆ©æ›²â€ï¼ŒèƒŒæ™¯é—ªçƒå½©è‰²åƒç´ å—åº†ç¥ã€‚


### æ—ç™½æç¤ºï¼ˆæ–‡å­—æ°”æ³¡ï¼‰
- åˆ†å‰²çº¿æ®µæ—¶ï¼šâ€œç°åœ¨è¦åˆ†å‰²è¿™æ¡è¾¹å•¦ï¼çœ‹ï¼Œè“è‰²ç‚¹æ˜¯äº¤ç‚¹ï½â€ï¼›  
- ä¸­ç‚¹åˆ¤æ–­æ—¶ï¼šâ€œä¸­ç‚¹æ˜¯ç»¿è‰²çš„ï¼Œè¯´æ˜æ²¡è¢«è¦†ç›–ï¼Œè¦ç®—é•¿åº¦å“¦ï¼â€ï¼›  
- å®Œæˆæ—¶ï¼šâ€œæ€»å‘¨é•¿ç®—å¥½å•¦ï¼ä½ å­¦ä¼šäº†å—ï¼Ÿâ€ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»
è®¡ç®—å‡ ä½•çš„â€œçº¿æ®µåˆ†å‰²+åŒ…å«åˆ¤æ–­â€æ€è·¯ï¼Œè¿˜èƒ½è§£å†³è¿™äº›é—®é¢˜ï¼š  
1. **å¤šè¾¹å½¢é¢ç§¯å¹¶çš„å‘¨é•¿**ï¼šæŠŠä¸‰è§’å½¢æ¢æˆä»»æ„å¤šè¾¹å½¢ï¼Œæ–¹æ³•ç±»ä¼¼ï¼›  
2. **å›¾åƒçš„è½®å»“æå–**ï¼šæ¯”å¦‚ä»é‡å çš„å½¢çŠ¶ä¸­æå–å¤–è½®å»“ï¼›  
3. **åœ°ç†è¾¹ç•Œè®¡ç®—**ï¼šæ¯”å¦‚å¤šä¸ªåŒºåŸŸçš„åˆå¹¶è¾¹ç•Œé•¿åº¦ã€‚


### ç»ƒä¹ æ¨è (æ´›è°·)
1. **æ´›è°· P1183 å¤šè¾¹å½¢çš„é¢ç§¯**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯è®¡ç®—å‡ ä½•çš„å…¥é—¨é¢˜ï¼Œå¸®åŠ©ä½ å·©å›ºâ€œå‰ç§¯æ±‚é¢ç§¯â€çš„æŠ€å·§ï¼Œä¸ºæœ¬é¢˜æ‰“ä¸‹åŸºç¡€ã€‚  
2. **æ´›è°· P2786 ä¸‰è§’å½¢é¢ç§¯å¹¶**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç›´æ¥è€ƒå¯Ÿâ€œä¸‰è§’å½¢é¢ç§¯å¹¶â€çš„è®¡ç®—ï¼Œéœ€è¦ç”¨åˆ°æœ¬é¢˜çš„â€œçº¿æ®µåˆ†å‰²+åŒ…å«åˆ¤æ–­â€æ€è·¯ï¼Œæ˜¯å®Œç¾çš„è¿›é˜¶ç»ƒä¹ ã€‚  
3. **æ´›è°· P3293 å¤šè¾¹å½¢å‘¨é•¿**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šé¢˜ç›®æ˜¯æ±‚å¤šä¸ªå¤šè¾¹å½¢çš„å‘¨é•¿å¹¶ï¼Œä¸æœ¬é¢˜çš„â€œé¢ç§¯å¹¶å‘¨é•¿â€æ€è·¯ä¸€è‡´ï¼Œèƒ½å¸®ä½ ä¸¾ä¸€åä¸‰ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **å‚è€ƒç»éªŒ (æ¥è‡ª CarroT1212)**ï¼šâ€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆåœ¨ç®—ä¸‰è§’å½¢é¢ç§¯æ—¶æ²¡æƒ³èµ·æ¥ç”¨å‰ç§¯ï¼Œåæ¥çœ‹äº†OIwikiæ‰çŸ¥é“å‰ç§¯ç®—é¢ç§¯æ›´é«˜æ•ˆã€‚â€  
> **ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»å†å¾ˆå…¸å‹â€”â€”è®¡ç®—å‡ ä½•çš„â€œåŸºç¡€å·¥å…·â€ï¼ˆæ¯”å¦‚å‰ç§¯ï¼‰ä¸€å®šè¦ç†Ÿç»ƒæŒæ¡ï¼å‰ç§¯ä¸ä»…èƒ½ç®—é¢ç§¯ï¼Œè¿˜èƒ½è§£å†³äº¤ç‚¹ã€è½¬å‘ç­‰é—®é¢˜ï¼Œæ˜¯è®¡ç®—å‡ ä½•çš„â€œåŸºçŸ³â€ã€‚é‡åˆ°é—®é¢˜æ—¶ï¼Œä¸å¦¨å…ˆå›å¿†â€œæœ‰æ²¡æœ‰æ›´ä¼˜é›…çš„å·¥å…·â€ï¼Œè€Œä¸æ˜¯ç›´æ¥æš´åŠ›è§£æ–¹ç¨‹ã€‚


æœ¬æ¬¡å…³äºâ€œInquisitionâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚è®¡ç®—å‡ ä½•çš„å…³é”®æ˜¯**ç†è§£å‡ ä½•æ„ä¹‰**+**å¤„ç†ç»†èŠ‚**ï¼Œå¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®åŠ©ä½ æŒæ¡æ ¸å¿ƒæŠ€å·§ï¼è®°ä½ï¼šå¤šç”»å›¾ã€å¤šæ¨¡æ‹Ÿï¼Œè®¡ç®—å‡ ä½•å¹¶ä¸éš¾ï½ ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š110.08ç§’
# é¢˜ç›®ä¿¡æ¯

# Magic Will Save the World

## é¢˜ç›®æè¿°

A portal of dark forces has opened at the border of worlds, and now the whole world is under a terrible threat. To close the portal and save the world, you need to defeat $ n $ monsters that emerge from the portal one after another.

Only the sorceress Vika can handle this. She possesses two magical powers â€” water magic and fire magic. In one second, Vika can generate $ w $ units of water mana and $ f $ units of fire mana. She will need mana to cast spells. Initially Vika have $ 0 $ units of water mana and $ 0 $ units of fire mana.

Each of the $ n $ monsters that emerge from the portal has its own strength, expressed as a positive integer. To defeat the $ i $ -th monster with strength $ s_i $ , Vika needs to cast a water spell or a fire spell of at least the same strength. In other words, Vika can spend at least $ s_i $ units of water mana on a water spell, or at least $ s_i $ units of fire mana on a fire spell.

Vika can create and cast spells instantly. Vika can cast an unlimited number of spells every second as long she has enough mana for that.

The sorceress wants to save the world as quickly as possible, so tell her how much time she will need.

## è¯´æ˜/æç¤º

In the first sample, after the first second, Vika can spend $ 2 $ units of fire mana to kill the first monster. Then she has $ 2 $ units of water mana and $ 1 $ unit of fire mana. After the third second, she will have $ 6 $ units of water mana and $ 7 $ units of fire mana at her disposal. This will be enough to immediately kill the second and third monsters.

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
2 3
3
2 6 7
37 58
1
93
190 90
2
23 97
13 4
4
10 10 2 45```

### è¾“å‡º

```
3
2
1
5```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šMagic Will Save the World æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

## å¼•è¨€
ä»Šå¤©æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜æ˜¯ã€ŒMagic Will Save the Worldã€â€”â€”å¸®å·«å¸ˆVikaç”¨æœ€å°‘æ—¶é—´æ¶ˆç­æ‰€æœ‰æ€ªç‰©ï¼è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒæ˜¯**å¦‚ä½•åˆç†åˆ†é…ä¸¤ç§é­”æ³•çš„ä½¿ç”¨**ï¼ŒèƒŒåéšè—ç€æˆ‘ä»¬ç†Ÿæ‚‰çš„ã€Œ01èƒŒåŒ…ã€ç®—æ³•æ€æƒ³ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ‹†è§£é—®é¢˜ï¼ŒæŒæ¡è§£é¢˜æŠ€å·§å§ï¼


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šåŠ¨æ€è§„åˆ’ï¼ˆ01èƒŒåŒ…é—®é¢˜ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³è¿™é“é¢˜çš„å…³é”®ï¼Œæ˜¯æŠŠã€Œåˆ†é…é­”æ³•æ‰“æ€ªç‰©ã€è½¬åŒ–ä¸º**01èƒŒåŒ…é—®é¢˜**â€”â€”æ¯ä¸ªæ€ªç‰©åªèƒ½è¢«ã€Œæ°´é­”æ³•ã€æˆ–ã€Œç«é­”æ³•ã€æ‰“æ­»ï¼ˆç±»ä¼¼ã€Œé€‰æˆ–ä¸é€‰ã€æŸä¸ªç‰©å“ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ‰€æœ‰å¯èƒ½çš„ã€Œæ°´é­”æ³•æ€»æ¶ˆè€—ã€ï¼Œå†è®¡ç®—å¯¹åº”çš„æ—¶é—´ï¼Œå–æœ€å°å€¼ã€‚  

ç®€å•æ¥è¯´ï¼Œ01èƒŒåŒ…å°±åƒã€Œæ•´ç†è¡Œæç®±ã€ï¼šæ¯ä¸ªç‰©å“ï¼ˆæ€ªç‰©ï¼‰åªèƒ½é€‰æˆ–ä¸é€‰ï¼Œæˆ‘ä»¬è¦ç®—æ‰€æœ‰å¯èƒ½çš„æ€»é‡é‡ï¼ˆæ°´é­”æ³•æ€»æ¶ˆè€—ï¼‰ã€‚åœ¨æœ¬é¢˜ä¸­ï¼š  
- ã€Œç‰©å“é‡é‡ã€æ˜¯æ€ªç‰©çš„è¡€é‡`s_i`ï¼›  
- ã€ŒèƒŒåŒ…å®¹é‡ã€æ˜¯æ‰€æœ‰æ€ªç‰©çš„æ€»è¡€é‡`sum`ï¼ˆå› ä¸ºæ°´é­”æ³•æœ€å¤šæ¶ˆè€—æ‰€æœ‰æ€ªç‰©çš„è¡€é‡ï¼‰ï¼›  
- æˆ‘ä»¬è¦é¢„å¤„ç†å‡º**æ‰€æœ‰å¯èƒ½çš„æ°´é­”æ³•æ€»æ¶ˆè€—`A`**ï¼ˆå³å“ªäº›`A`å¯ä»¥ç”±è‹¥å¹²æ€ªç‰©çš„è¡€é‡ä¹‹å’Œç»„æˆï¼‰ã€‚  

æœ‰äº†`A`ï¼Œç«é­”æ³•çš„æ€»æ¶ˆè€—å°±æ˜¯`sum - A`ã€‚æ—¶é—´ç­‰äºã€Œæ°´é­”æ³•éœ€è¦çš„æ—¶é—´ã€å’Œã€Œç«é­”æ³•éœ€è¦çš„æ—¶é—´ã€çš„æœ€å¤§å€¼ï¼ˆå› ä¸ºè¦ç­‰ä¸¤ç§é­”æ³•éƒ½æ”’å¤Ÿï¼‰ï¼Œå³`max(ceil(A/w), ceil((sum-A)/f))`ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°æœ€å°çš„è¿™ä¸ªæœ€å¤§å€¼ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä»¬ä¼šç”¨ã€Œ8ä½åƒç´ é£ã€æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹â€”â€”å±å¹•å·¦ä¾§æ˜¯ä¸€æ’æ€ªç‰©ï¼ˆåƒç´ æ–¹å—ï¼‰ï¼Œå³ä¾§æ˜¯ã€Œæ°´é­”æ³•æ± ã€å’Œã€Œç«é­”æ³•æ± ã€ã€‚æ¯ä¸ªæ€ªç‰©è¢«æ‹–åˆ°æŸä¸ªé­”æ³•æ± æ—¶ï¼Œä¼šè§¦å‘ã€Œå…¥èƒŒåŒ…ã€åŠ¨ç”»ï¼ˆæ¯”å¦‚é—ªçƒ+ã€Œå®ã€çš„éŸ³æ•ˆï¼‰ï¼ŒåŒæ—¶å®æ—¶æ˜¾ç¤ºå½“å‰`A`å’Œå¯¹åº”çš„æ—¶é—´ã€‚æœ€åä¼šé«˜äº®æ˜¾ç¤ºã€Œæœ€å°æ—¶é—´ã€çš„ç»„åˆï¼Œä¼´éšèƒœåˆ©éŸ³æ•ˆã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºäº†å¸®å¤§å®¶å¿«é€ŸæŒæ¡æ ¸å¿ƒæ€è·¯ï¼Œæˆ‘ç­›é€‰äº†3ä»½**æ€è·¯æ¸…æ™°ã€ä»£ç é«˜æ•ˆ**çš„ä¼˜è´¨é¢˜è§£ï¼š


### é¢˜è§£ä¸€ï¼šax_by_cçš„åŸºç¡€01èƒŒåŒ…å®ç°ï¼ˆèµ13ï¼‰
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£ç”¨æœ€ç»å…¸çš„ã€Œboolæ•°ç»„DPã€å®ç°01èƒŒåŒ…ï¼Œæ€è·¯ç›´ç™½æ˜“æ‡‚ã€‚ä»£ç ä¸­`f[j]`è¡¨ç¤ºã€Œæ˜¯å¦èƒ½å‡‘å‡º`j`ç‚¹æ°´é­”æ³•æ¶ˆè€—ã€ï¼Œé€šè¿‡é€†åºå¾ªç¯ï¼ˆé¿å…é‡å¤é€‰æ‹©åŒä¸€æ€ªç‰©ï¼‰æ›´æ–°`f`æ•°ç»„ã€‚æœ€åæšä¸¾æ‰€æœ‰å¯èƒ½çš„`A`ï¼Œè®¡ç®—æœ€å°æ—¶é—´ã€‚  
  äº®ç‚¹ï¼šå˜é‡å‘½åæ¸…æ™°ï¼ˆ`wa`/`wb`ä»£è¡¨æ¯ç§’æ¢å¤çš„æ°´/ç«é­”æ³•ï¼Œ`calc`å‡½æ•°å°è£…æ—¶é—´è®¡ç®—ï¼‰ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆæ¯”å¦‚åˆå§‹åŒ–`ans`ä¸ºå…¨ç”¨æ°´æˆ–å…¨ç”¨ç«çš„æƒ…å†µï¼‰ã€‚é€‚åˆåˆšå­¦èƒŒåŒ…çš„åŒå­¦å…¥é—¨ã€‚


### é¢˜è§£äºŒï¼šWrongAnswer_90çš„bitsetä¼˜åŒ–ï¼ˆèµ8ï¼‰
* **ç‚¹è¯„**ï¼š  
  å½“æ€ªç‰©æ€»è¡€é‡å¾ˆå¤§æ—¶ï¼ˆæ¯”å¦‚1e6ï¼‰ï¼Œæ™®é€šboolæ•°ç»„çš„DPä¼šè¶…æ—¶ã€‚è¿™ä»½é¢˜è§£ç”¨`bitset`ä¼˜åŒ–â€”â€”`bitset`çš„æ¯ä¸€ä½ä»£è¡¨ã€Œæ˜¯å¦èƒ½å‡‘å‡ºå¯¹åº”çš„å€¼ã€ï¼Œé€šè¿‡`f |= (f << x)`ï¼ˆå·¦ç§»`x`ä½å†æˆ–è¿ç®—ï¼‰å¿«é€Ÿæ›´æ–°æ‰€æœ‰å¯èƒ½çš„å’Œã€‚è¿™ç§ä¼˜åŒ–æŠŠæ—¶é—´å¤æ‚åº¦ä»`O(n*sum)`é™åˆ°`O(n*sum/64)`ï¼Œæ•ˆç‡æå‡éå¸¸æ˜æ˜¾ï¼  
  äº®ç‚¹ï¼šç”¨`bitset`ç®€åŒ–ä»£ç ï¼ŒåŒæ—¶ä¿æŒé€»è¾‘æ¸…æ™°ã€‚é€‚åˆæƒ³å­¦ä¹ ã€ŒèƒŒåŒ…ä¼˜åŒ–ã€çš„åŒå­¦ã€‚


### é¢˜è§£ä¸‰ï¼šä¿¡æ¯å‘é˜³èŠ±æœ¨çš„äºŒåˆ†ç­”æ¡ˆ+èƒŒåŒ…ï¼ˆèµ4ï¼‰
* **ç‚¹è¯„**ï¼š  
  è¿™æ˜¯ä¸€ç§ã€Œé€†å‘æ€ç»´ã€â€”â€”ä¸ç›´æ¥ç®—æ‰€æœ‰å¯èƒ½çš„`A`ï¼Œè€Œæ˜¯**äºŒåˆ†æ—¶é—´`x`**ï¼Œåˆ¤æ–­ã€Œæ˜¯å¦èƒ½ç”¨`x`ç§’æ¶ˆç­æ‰€æœ‰æ€ªç‰©ã€ã€‚åˆ¤æ–­æ–¹æ³•æ˜¯ï¼šç”¨èƒŒåŒ…ç®—ã€Œæ°´é­”æ³•æœ€å¤šèƒ½è¦†ç›–å¤šå°‘æ€ªç‰©è¡€é‡ã€ï¼Œå¦‚æœå‰©ä¸‹çš„è¡€é‡â‰¤ç«é­”æ³•`x`ç§’çš„æ€»é‡ï¼Œå°±è¯´æ˜`x`å¯è¡Œã€‚  
  äº®ç‚¹ï¼šå°†ã€Œæ±‚æœ€å°æ—¶é—´ã€è½¬åŒ–ä¸ºã€Œåˆ¤æ–­æ—¶é—´æ˜¯å¦å¯è¡Œã€ï¼Œé€‚åˆç†è§£ã€ŒäºŒåˆ†ç­”æ¡ˆã€æ€æƒ³çš„åŒå­¦ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå¤§å®¶å¸¸é‡åˆ°3ä¸ªæ ¸å¿ƒéš¾ç‚¹ï¼Œæˆ‘ä»¬é€ä¸€æ‹†è§£ï¼š


### 1. éš¾ç‚¹1ï¼šå¦‚ä½•æŠŠé—®é¢˜è½¬åŒ–ä¸ºèƒŒåŒ…æ¨¡å‹ï¼Ÿ
* **åˆ†æ**ï¼š  
  é¢˜ç›®è¦æ±‚ã€Œæ¯ä¸ªæ€ªç‰©åªèƒ½ç”¨ä¸€ç§é­”æ³•ã€ï¼Œè¿™æ­£å¥½å¯¹åº”01èƒŒåŒ…çš„ã€Œé€‰æˆ–ä¸é€‰ã€â€”â€”é€‰æ°´é­”æ³•ï¼ˆæ”¾å…¥èƒŒåŒ…ï¼‰æˆ–é€‰ç«é­”æ³•ï¼ˆä¸æ”¾å…¥èƒŒåŒ…ï¼‰ã€‚æˆ‘ä»¬éœ€è¦é¢„å¤„ç†æ‰€æœ‰å¯èƒ½çš„ã€Œæ°´é­”æ³•æ€»æ¶ˆè€—`A`ã€ï¼Œæ‰èƒ½è®¡ç®—æ—¶é—´ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé‡åˆ°ã€Œæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€æ¬¡ã€çš„åˆ†é…é—®é¢˜ï¼Œä¼˜å…ˆæƒ³åˆ°01èƒŒåŒ…ï¼


### 2. éš¾ç‚¹2ï¼šå¦‚ä½•é«˜æ•ˆé¢„å¤„ç†æ‰€æœ‰å¯èƒ½çš„`A`ï¼Ÿ
* **åˆ†æ**ï¼š  
  æ™®é€šboolæ•°ç»„çš„DPæ—¶é—´å¤æ‚åº¦æ˜¯`O(n*sum)`ï¼Œå½“`sum`æ˜¯1e6ã€`n`æ˜¯100æ—¶ï¼Œæ€»æ“ä½œé‡æ˜¯1e8ï¼Œå¯èƒ½è¶…æ—¶ã€‚ç”¨`bitset`ä¼˜åŒ–å¯ä»¥å°†æ¯64æ¬¡æ“ä½œåˆå¹¶ä¸º1æ¬¡ï¼Œå¤§å¹…æå‡æ•ˆç‡ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå½“DPçŠ¶æ€æ˜¯ã€Œæ˜¯å¦å­˜åœ¨ã€æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘`bitset`ä¼˜åŒ–ï¼


### 3. éš¾ç‚¹3ï¼šå¦‚ä½•è®¡ç®—æœ€å°æ—¶é—´ï¼Ÿ
* **åˆ†æ**ï¼š  
  æ—¶é—´æ˜¯`max(ceil(A/w), ceil((sum-A)/f))`ï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾æ‰€æœ‰å¯èƒ½çš„`A`ï¼Œå–è¿™ä¸ªå€¼çš„æœ€å°å€¼ã€‚æ³¨æ„`ceil(a/b)`å¯ä»¥ç”¨`(a + b - 1) / b`è®¡ç®—ï¼ˆé¿å…æµ®ç‚¹æ•°è¯¯å·®ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ±‚ã€Œä¸¤ä¸ªå€¼çš„æœ€å¤§å€¼çš„æœ€å°å€¼ã€ï¼Œé€šå¸¸éœ€è¦æšä¸¾æ‰€æœ‰å¯èƒ½çš„ç»„åˆï¼


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é—®é¢˜å»ºæ¨¡**ï¼šæŠŠã€Œé­”æ³•åˆ†é…ã€è½¬åŒ–ä¸º01èƒŒåŒ…ï¼Œæ˜¯è§£å†³æœ¬é¢˜çš„å…³é”®ï¼›  
- **ä¼˜åŒ–æŠ€å·§**ï¼šç”¨`bitset`ä¼˜åŒ–èƒŒåŒ…ï¼Œå¤„ç†å¤§æ•°æ®æ—¶æ›´é«˜æ•ˆï¼›  
- **æ—¶é—´è®¡ç®—**ï¼šç”¨`(a + b - 1) / b`ä»£æ›¿`ceil(a/b)`ï¼Œé¿å…æµ®ç‚¹é”™è¯¯ï¼›  
- **å¤šç»„æ•°æ®**ï¼šæ³¨æ„æ¸…ç©ºDPæ•°ç»„ï¼ˆæ¯”å¦‚`dp.reset()`æˆ–`memset`ï¼‰ï¼


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒï¼ˆbitsetä¼˜åŒ–ç‰ˆï¼‰
* **è¯´æ˜**ï¼šç»¼åˆäº†é¢˜è§£äºŒã€å››çš„æ€è·¯ï¼Œç”¨`bitset`ä¼˜åŒ–01èƒŒåŒ…ï¼Œä»£ç ç®€æ´é«˜æ•ˆï¼Œé€‚åˆç«èµ›ä½¿ç”¨ã€‚
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
  ```cpp
  #include <bits/stdc++.h>
  using namespace std;

  int main() {
      ios::sync_with_stdio(false);
      cin.tie(nullptr);

      int t;
      cin >> t;
      while (t--) {
          int w, f, n;
          cin >> w >> f >> n;
          int sum = 0;
          vector<int> s(n);
          for (int i = 0; i < n; ++i) {
              cin >> s[i];
              sum += s[i];
          }

          bitset<1000001> dp; // æœ€å¤š1e6è¡€é‡
          dp.set(0); // åˆå§‹çŠ¶æ€ï¼š0ç‚¹æ°´é­”æ³•æ¶ˆè€—å¯è¡Œ
          for (int x : s) {
              dp |= dp << x; // å·¦ç§»xä½ï¼Œæˆ–è¿ç®—æ›´æ–°æ‰€æœ‰å¯èƒ½çš„å’Œ
          }

          int ans = INT_MAX;
          for (int i = 0; i <= sum; ++i) {
              if (dp[i]) { // å¦‚æœiæ˜¯å¯è¡Œçš„æ°´é­”æ³•æ¶ˆè€—
                  int time_w = (i + w - 1) / w; // ceil(i/w)
                  int time_f = (sum - i + f - 1) / f; // ceil((sum-i)/f)
                  ans = min(ans, max(time_w, time_f));
              }
          }
          cout << ans << '\n';
      }
      return 0;
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¯»å–å¤šç»„æµ‹è¯•æ•°æ®ï¼›  
  2. è®¡ç®—æ€ªç‰©æ€»è¡€é‡`sum`ï¼›  
  3. ç”¨`bitset`çš„`dp`æ•°ç»„é¢„å¤„ç†æ‰€æœ‰å¯èƒ½çš„æ°´é­”æ³•æ¶ˆè€—ï¼›  
  4. æšä¸¾æ‰€æœ‰å¯è¡Œçš„`i`ï¼Œè®¡ç®—æ—¶é—´å¹¶æ›´æ–°æœ€å°å€¼ã€‚


### å„ä¼˜è´¨é¢˜è§£ç‰‡æ®µèµæ

#### é¢˜è§£ä¸€ï¼šax_by_cçš„boolæ•°ç»„DP
* **äº®ç‚¹**ï¼šåŸºç¡€01èƒŒåŒ…çš„æ ‡å‡†å®ç°ï¼Œé€‚åˆç†è§£èƒŒåŒ…æœ¬è´¨ã€‚
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
  ```cpp
  bool f[M]; // Mæ˜¯æ€»è¡€é‡ä¸Šé™
  f[0] = 1;
  for (int i = 1; i <= n; ++i) {
      for (int j = m; j >= a[i]; --j) { // é€†åºå¾ªç¯é¿å…é‡å¤é€‰
          f[j] |= f[j - a[i]];
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `f[j]`è¡¨ç¤ºã€Œèƒ½å¦ç”¨å‰`i`ä¸ªæ€ªç‰©å‡‘å‡º`j`ç‚¹æ°´é­”æ³•æ¶ˆè€—ã€ï¼›  
  - é€†åºå¾ªç¯æ˜¯å› ä¸ºæ¯ä¸ªæ€ªç‰©åªèƒ½é€‰ä¸€æ¬¡ï¼ˆå¦‚æœæ­£åºï¼Œä¼šé‡å¤é€‰åŒä¸€ä¸ªæ€ªç‰©å¤šæ¬¡ï¼‰ï¼›  
  - `f[j] |= f[j - a[i]]`ï¼šå¦‚æœ`j - a[i]`å¯è¡Œï¼Œé‚£ä¹ˆåŠ ä¸Šå½“å‰æ€ªç‰©çš„`a[i]`å`j`ä¹Ÿå¯è¡Œã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé€†åºå¾ªç¯æ˜¯01èƒŒåŒ…çš„å…³é”®ï¼


#### é¢˜è§£äºŒï¼šWrongAnswer_90çš„bitsetä¼˜åŒ–
* **äº®ç‚¹**ï¼šç”¨`bitset`å°†èƒŒåŒ…æ›´æ–°ç®€åŒ–ä¸ºä½è¿ç®—ï¼Œæ•ˆç‡æé«˜ã€‚
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
  ```cpp
  bitset<1000001> f;
  f[0] = 1;
  while (n--) {
      int x;
      read(x);
      f |= (f << x); // å·¦ç§»xä½ï¼Œæˆ–è¿ç®—æ›´æ–°æ‰€æœ‰å¯èƒ½çš„å’Œ
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `bitset`çš„æ¯ä¸€ä½å¯¹åº”ä¸€ä¸ªå¯èƒ½çš„å’Œï¼ˆæ¯”å¦‚ç¬¬`i`ä½ä¸º1è¡¨ç¤º`i`å¯è¡Œï¼‰ï¼›  
  - `f << x`ï¼šå°†æ‰€æœ‰å¯è¡Œçš„å’Œéƒ½åŠ ä¸Š`x`ï¼ˆå·¦ç§»`x`ä½ï¼‰ï¼›  
  - `f |= (f << x)`ï¼šåˆå¹¶åŸæ¥çš„å¯è¡Œå’Œä¸åŠ ä¸Š`x`åçš„å¯è¡Œå’Œï¼Œå¾—åˆ°æ–°çš„å¯è¡Œå’Œã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`bitset`æ˜¯å¤„ç†ã€Œå­˜åœ¨æ€§DPã€çš„ç¥å™¨ï¼


#### é¢˜è§£ä¸‰ï¼šä¿¡æ¯å‘é˜³èŠ±æœ¨çš„äºŒåˆ†ç­”æ¡ˆ
* **äº®ç‚¹**ï¼šé€†å‘æ€è€ƒï¼Œç”¨äºŒåˆ†æ³•ç¼©å°æ—¶é—´èŒƒå›´ã€‚
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
  ```cpp
  bool check(int x) {
      memset(f, 0, sizeof f);
      f[0] = 1;
      int max_w = min(1LL * sum, 1LL * a * x); // æ°´é­”æ³•æœ€å¤šèƒ½æ”’a*xç‚¹
      for (int i = 1; i <= n; ++i) {
          for (int j = max_w; j >= s[i]; --j) {
              f[j] |= f[j - s[i]];
          }
      }
      // æ£€æŸ¥æ˜¯å¦æœ‰å¯è¡Œçš„jï¼Œä½¿å¾—sum-j â‰¤ b*xï¼ˆç«é­”æ³•è¶³å¤Ÿï¼‰
      for (int j = 0; j <= sum; ++j) {
          if (f[j] && sum - j <= 1LL * b * x) return true;
      }
      return false;
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `check(x)`åˆ¤æ–­ã€Œ`x`ç§’èƒ½å¦æ¶ˆç­æ‰€æœ‰æ€ªç‰©ã€ï¼›  
  - è®¡ç®—æ°´é­”æ³•`x`ç§’èƒ½æ”’`a*x`ç‚¹ï¼Œç”¨èƒŒåŒ…ç®—æœ€å¤šèƒ½è¦†ç›–å¤šå°‘æ€ªç‰©è¡€é‡ï¼›  
  - å¦‚æœå‰©ä¸‹çš„è¡€é‡â‰¤ç«é­”æ³•`x`ç§’çš„æ€»é‡ï¼Œè¿”å›`true`ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šäºŒåˆ†ç­”æ¡ˆé€‚åˆã€Œæ±‚æœ€å°æ»¡è¶³æ¡ä»¶çš„å€¼ã€çš„é—®é¢˜ï¼


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Œåƒç´ å·«å¸ˆçš„é­”æ³•åˆ†é…ã€
æˆ‘ä»¬ç”¨**8ä½FCçº¢ç™½æœºé£æ ¼**æ¨¡æ‹Ÿæ•´ä¸ªè¿‡ç¨‹ï¼Œè®©ä½ ç›´è§‚çœ‹åˆ°ã€ŒèƒŒåŒ…å¦‚ä½•é€‰æ€ªç‰©ã€å’Œã€Œæ—¶é—´å¦‚ä½•è®¡ç®—ã€ï¼


### è®¾è®¡æ€è·¯ç®€è¿°
- **é£æ ¼**ï¼šç”¨16è‰²è°ƒè‰²æ¿ï¼ˆæ¯”å¦‚æ°´é­”æ³•æ˜¯è“è‰²ï¼Œç«é­”æ³•æ˜¯çº¢è‰²ï¼Œæ€ªç‰©æ˜¯ç»¿è‰²åƒç´ å—ï¼‰ï¼Œæ¨¡æ‹Ÿç»å…¸æ¸¸æˆã€Šå¡å°”è¾¾ä¼ è¯´ã€‹çš„UIï¼›  
- **äº¤äº’**ï¼šæ”¯æŒã€Œå•æ­¥æ‰§è¡Œã€ï¼ˆæ‰‹åŠ¨åˆ†é…æ¯ä¸ªæ€ªç‰©ï¼‰ã€ã€Œè‡ªåŠ¨æ’­æ”¾ã€ï¼ˆå¿«é€Ÿå±•ç¤ºæ‰€æœ‰å¯èƒ½ï¼‰ã€ã€Œé‡ç½®ã€ï¼›  
- **éŸ³æ•ˆ**ï¼šåˆ†é…æ€ªç‰©æ—¶æ’­æ”¾ã€Œå®ã€çš„çŸ­éŸ³ï¼Œæ‰¾åˆ°æœ€å°æ—¶é—´æ—¶æ’­æ”¾ã€Œèƒœåˆ©æ—‹å¾‹ã€ï¼Œå‡ºé”™æ—¶æ’­æ”¾ã€Œæç¤ºéŸ³ã€ï¼›  
- **æ¸¸æˆåŒ–**ï¼šæ¯åˆ†é…å®Œä¸€ä¸ªæ€ªç‰©ï¼Œå±å¹•åº•éƒ¨æ˜¾ç¤ºã€Œå½“å‰æ°´é­”æ³•æ€»æ¶ˆè€—ã€å’Œã€Œé¢„ä¼°æ—¶é—´ã€ï¼Œå®Œæˆæ‰€æœ‰åˆ†é…åé«˜äº®ã€Œæœ€å°æ—¶é—´ã€çš„ç»„åˆã€‚


### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   å±å¹•å·¦ä¾§æ˜¯5ä¸ªç»¿è‰²åƒç´ æ€ªç‰©ï¼ˆæ¨¡æ‹Ÿæ ·ä¾‹è¾“å…¥ï¼‰ï¼Œå³ä¾§æ˜¯ä¸¤ä¸ªé­”æ³•æ± ï¼šè“è‰²çš„ã€Œæ°´é­”æ³•æ± ã€ï¼ˆæ˜¾ç¤ºå½“å‰`A`ï¼‰å’Œçº¢è‰²çš„ã€Œç«é­”æ³•æ± ã€ï¼ˆæ˜¾ç¤º`sum-A`ï¼‰ã€‚åº•éƒ¨æ˜¯æ§åˆ¶é¢æ¿ï¼ˆå¼€å§‹/æš‚åœã€å•æ­¥ã€é‡ç½®ã€é€Ÿåº¦æ»‘å—ï¼‰ã€‚

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   ç‚¹å‡»ã€Œå¼€å§‹ã€ï¼Œç¬¬ä¸€ä¸ªæ€ªç‰©å¼€å§‹é—ªçƒï¼ˆæç¤ºè¦åˆ†é…ï¼‰ã€‚æ­¤æ—¶`dp[0]`æ˜¯1ï¼ˆæ°´é­”æ³•æ± æ˜¾ç¤º0ï¼‰ã€‚

3. **æ ¸å¿ƒæ­¥éª¤æ¼”ç¤º**ï¼š  
   - ç‚¹å‡»ã€Œå•æ­¥ã€ï¼Œæ€ªç‰©è¢«æ‹–åˆ°æ°´é­”æ³•æ± ï¼šæ°´é­”æ³•æ± çš„`A`å¢åŠ æ€ªç‰©è¡€é‡ï¼Œ`dp`æ•°ç»„å¯¹åº”çš„ä½å˜æˆ1ï¼ˆè“è‰²åƒç´ å—ç‚¹äº®ï¼‰ï¼ŒåŒæ—¶æ’­æ”¾ã€Œå®ã€çš„éŸ³æ•ˆï¼›  
   - å†ç‚¹å‡»ã€Œå•æ­¥ã€ï¼Œç¬¬äºŒä¸ªæ€ªç‰©è¢«æ‹–åˆ°ç«é­”æ³•æ± ï¼šç«é­”æ³•æ± çš„`sum-A`å¢åŠ ï¼Œ`dp`æ•°ç»„ä¸å˜ï¼›  
   - é‡å¤ç›´åˆ°æ‰€æœ‰æ€ªç‰©åˆ†é…å®Œæ¯•ï¼Œå±å¹•å³ä¾§æ˜¾ç¤ºæ‰€æœ‰å¯èƒ½çš„`A`å’Œå¯¹åº”çš„æ—¶é—´ï¼Œé«˜äº®æœ€å°çš„é‚£ä¸ªï¼ˆæ¯”å¦‚æ ·ä¾‹1ä¸­çš„`A=2`ï¼Œæ—¶é—´3ç§’ï¼‰ã€‚

4. **è‡ªåŠ¨æ¼”ç¤º**ï¼š  
   ç‚¹å‡»ã€Œè‡ªåŠ¨æ’­æ”¾ã€ï¼Œç®—æ³•å¿«é€Ÿåˆ†é…æ‰€æœ‰æ€ªç‰©ï¼Œå®æ—¶æ›´æ–°é­”æ³•æ± å’Œæ—¶é—´ï¼Œæœ€ååœåœ¨æœ€å°æ—¶é—´çš„ç»„åˆï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»
01èƒŒåŒ…çš„æ ¸å¿ƒæ˜¯ã€Œæ¯ä¸ªç‰©å“é€‰æˆ–ä¸é€‰ã€ï¼Œé™¤äº†æœ¬é¢˜çš„ã€Œé­”æ³•åˆ†é…ã€ï¼Œè¿˜èƒ½è§£å†³ï¼š  
- ã€Œé‡‡è¯é—®é¢˜ã€ï¼ˆé€‰å“ªäº›è¯èƒ½åœ¨æœ‰é™æ—¶é—´å†…è·å¾—æœ€å¤§ä»·å€¼ï¼‰ï¼›  
- ã€Œåˆ†å‰²ç­‰å’Œå­é›†ã€ï¼ˆèƒ½å¦å°†æ•°ç»„åˆ†æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†ï¼‰ï¼›  
- ã€Œç›®æ ‡å’Œé—®é¢˜ã€ï¼ˆç»™æ•°ç»„å…ƒç´ åŠ æ­£è´Ÿå·ï¼Œä½¿å’Œç­‰äºç›®æ ‡å€¼ï¼‰ã€‚


### æ´›è°·ç»ƒä¹ æ¨è
1. **æ´›è°· P1048 é‡‡è¯**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»å…¸01èƒŒåŒ…é—®é¢˜ï¼Œç›´æ¥å¯¹åº”ã€Œé€‰æˆ–ä¸é€‰ã€çš„æ¨¡å‹ï¼Œå¸®ä½ å·©å›ºåŸºç¡€ã€‚  
2. **æ´›è°· P1164 å°Aç‚¹èœ**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæ±‚ã€Œæ°å¥½èŠ±å®Œé’±çš„æ–¹æ¡ˆæ•°ã€ï¼Œæ˜¯01èƒŒåŒ…çš„å˜å½¢ï¼Œé”»ç‚¼ä½ å¯¹DPçŠ¶æ€çš„ç†è§£ã€‚  
3. **æ´›è°· P2925 [USACO08DEC]Patting Heads S**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç”¨å­é›†å’Œæ€æƒ³ç»Ÿè®¡ã€Œèƒ½è¢«å…¶ä»–æ•°æ•´é™¤çš„æ•°çš„ä¸ªæ•°ã€ï¼Œæ‹“å±•ä½ å¯¹èƒŒåŒ…çš„åº”ç”¨èƒ½åŠ›ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### å‚è€ƒç»éªŒï¼ˆæ¥è‡ªé¢˜è§£ä½œè€…ï¼‰
- **ax_by_c**ï¼šã€Œä¸€å¼€å§‹æˆ‘æ²¡æ³¨æ„å¤šç»„æ•°æ®è¦æ¸…ç©º`f`æ•°ç»„ï¼Œå¯¼è‡´ç­”æ¡ˆé”™è¯¯ã€‚åæ¥è°ƒè¯•æ—¶æ‰“å°`f`æ•°ç»„ï¼Œæ‰å‘ç°ä¹‹å‰çš„æ•°æ®æ²¡æ¸…ç©ºï¼ã€  
  **ç‚¹è¯„**ï¼šå¤šç»„æ•°æ®ä¸€å®šè¦è®°å¾—é‡ç½®DPæ•°ç»„ï¼ˆæ¯”å¦‚`memset(f, 0, sizeof f)`æˆ–`dp.reset()`ï¼‰ï¼Œè¿™æ˜¯å¾ˆå®¹æ˜“çŠ¯çš„é”™è¯¯ï¼  
- **ä¿¡æ¯å‘é˜³èŠ±æœ¨**ï¼šã€Œæˆ‘ç”¨äºŒåˆ†æ³•æ—¶ï¼Œä¸€å¼€å§‹æ²¡è€ƒè™‘åˆ°ã€Œæ°´é­”æ³•æœ€å¤šèƒ½æ”’`a*x`ç‚¹ã€ï¼Œå¯¼è‡´èƒŒåŒ…å¾ªç¯çš„ä¸Šé™é”™äº†ï¼Œåæ¥åŠ äº†`min(sum, a*x)`æ‰ACï¼ã€  
  **ç‚¹è¯„**ï¼šè¾¹ç•Œæ¡ä»¶è¦ä»”ç»†è€ƒè™‘ï¼Œæ¯”å¦‚æ°´é­”æ³•ä¸èƒ½è¶…è¿‡`a*x`ï¼ˆå› ä¸º`x`ç§’åªèƒ½æ”’è¿™ä¹ˆå¤šï¼‰ï¼Œå¦åˆ™ä¼šç®—å…¥ä¸å¯èƒ½çš„æƒ…å†µã€‚


## ç»“è¯­
é€šè¿‡è¿™é“é¢˜ï¼Œæˆ‘ä»¬æŒæ¡äº†ã€Œ01èƒŒåŒ…ã€çš„æ ¸å¿ƒæ€æƒ³ï¼Œä»¥åŠå¦‚ä½•ç”¨`bitset`ä¼˜åŒ–ã€äºŒåˆ†ç­”æ¡ˆç­‰æŠ€å·§ã€‚è®°ä½ï¼š**ç¼–ç¨‹çš„å…³é”®æ˜¯ã€Œå°†é—®é¢˜è½¬åŒ–ä¸ºå·²çŸ¥æ¨¡å‹ã€**â€”â€”å½“ä½ é‡åˆ°ã€Œæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€æ¬¡ã€çš„åˆ†é…é—®é¢˜æ—¶ï¼Œä¸å¦¨æƒ³æƒ³01èƒŒåŒ…ï¼  

ä¸‹æ¬¡æˆ‘ä»¬ä¼šæ¢ç´¢æ›´æœ‰è¶£çš„ç®—æ³•é—®é¢˜ï¼Œç»§ç»­åŠ æ²¹å§ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š490.10ç§’
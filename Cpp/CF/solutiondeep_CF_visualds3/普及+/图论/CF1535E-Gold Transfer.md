# é¢˜ç›®ä¿¡æ¯

# Gold Transfer

## é¢˜ç›®æè¿°

You are given a rooted tree. Each vertex contains $ a_i $ tons of gold, which costs $ c_i $ per one ton. Initially, the tree consists only a root numbered $ 0 $ with $ a_0 $ tons of gold and price $ c_0 $ per ton.

There are $ q $ queries. Each query has one of two types:

1. Add vertex $ i $ (where $ i $ is an index of query) as a son to some vertex $ p_i $ ; vertex $ i $ will have $ a_i $ tons of gold with $ c_i $ per ton. It's guaranteed that $ c_i > c_{p_i} $ .
2. For a given vertex $ v_i $ consider the simple path from $ v_i $ to the root. We need to purchase $ w_i $ tons of gold from vertices on this path, spending the minimum amount of money. If there isn't enough gold on the path, we buy all we can.

If we buy $ x $ tons of gold in some vertex $ v $ the remaining amount of gold in it decreases by $ x $ (of course, we can't buy more gold that vertex has at the moment). For each query of the second type, calculate the resulting amount of gold we bought and the amount of money we should spend.

Note that you should solve the problem in online mode. It means that you can't read the whole input at once. You can read each query only after writing the answer for the last query, so don't forget to flush output after printing answers. You can use functions like fflush(stdout) in C++ and BufferedWriter.flush in Java or similar after each writing in your program. In standard (if you don't tweak I/O), endl flushes cout in C++ and System.out.println in Java (or println in Kotlin) makes automatic flush as well.

## è¯´æ˜/æç¤º

Explanation of the sample:

At the first query, the tree consist of root, so we purchase $ 2 $ tons of gold and pay $ 2 \cdot 2 = 4 $ . $ 3 $ tons remain in the root.

At the second query, we add vertex $ 2 $ as a son of vertex $ 0 $ . Vertex $ 2 $ now has $ 3 $ tons of gold with price $ 4 $ per one ton.

At the third query, a path from $ 2 $ to $ 0 $ consists of only vertices $ 0 $ and $ 2 $ and since $ c_0 < c_2 $ we buy $ 3 $ remaining tons of gold in vertex $ 0 $ and $ 1 $ ton in vertex $ 2 $ . So we bought $ 3 + 1 = 4 $ tons and paid $ 3 \cdot 2 + 1 \cdot 4 = 10 $ . Now, in vertex $ 0 $ no gold left and $ 2 $ tons of gold remain in vertex $ 2 $ .

At the fourth query, we add vertex $ 4 $ as a son of vertex $ 0 $ . Vertex $ 4 $ now has $ 1 $ ton of gold with price $ 3 $ .

At the fifth query, a path from $ 4 $ to $ 0 $ consists of only vertices $ 0 $ and $ 4 $ . But since no gold left in vertex $ 0 $ and only $ 1 $ ton is in vertex $ 4 $ , we buy $ 1 $ ton of gold in vertex $ 4 $ and spend $ 1 \cdot 3 = 3 $ . Now, in vertex $ 4 $ no gold left.

## æ ·ä¾‹ #1

### è¾“å…¥

```
5 5 2
2 0 2
1 0 3 4
2 2 4
1 0 1 3
2 4 2```

### è¾“å‡º

```
2 4
4 10
1 3```

# AIåˆ†æç»“æœ


# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šGold Transfer æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> ä»Šå¤©æˆ‘ä»¬æ¥åˆ†æ"Gold Transfer"è¿™é“æ ‘å½¢ç»“æ„ä¸Šçš„åŠ¨æ€æ“ä½œé—®é¢˜ã€‚æœ¬æŒ‡å—å°†å¸¦å¤§å®¶æŒæ¡è´ªå¿ƒ+å€å¢çš„æ ¸å¿ƒæŠ€å·§ï¼Œå¹¶é€šè¿‡åƒç´ åŠ¨ç”»ç›´è§‚ç†è§£ç®—æ³•æµç¨‹ã€‚

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`è´ªå¿ƒ + æ ‘ä¸Šå€å¢`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> æœ¬é¢˜çš„å…³é”®åœ¨äºåˆ©ç”¨**é»„é‡‘ä»·æ ¼éšæ·±åº¦é€’å‡**çš„ç‰¹æ€§ï¼ˆå­èŠ‚ç‚¹ä»·æ ¼>çˆ¶èŠ‚ç‚¹ï¼‰ã€‚æƒ³è±¡ä½ æ˜¯ä¸€ä½çŸ¿å·¥ï¼Œæ¯æ¬¡è´­ä¹°éƒ½è¦ä¼˜å…ˆæŒ–æ˜æœ€ä¾¿å®œçš„çŸ¿äº•ï¼ˆé è¿‘æ ¹èŠ‚ç‚¹ï¼‰ï¼Œè¿™å°±åƒåœ¨è¶…å¸‚è´­ç‰©æ—¶å…ˆæ‰«è¡æ‰“æŠ˜åŒºï¼é€šè¿‡å€å¢æ³•å¿«é€Ÿå®šä½æœ€è¿‘çš„éç©ºç¥–å…ˆèŠ‚ç‚¹ï¼Œæˆ‘ä»¬å®ç°äº†O(n log n)çš„é«˜æ•ˆè§£æ³•ã€‚

- **æ ¸å¿ƒæµç¨‹**ï¼šå¯¹æ¯ä¸ªæŸ¥è¯¢ï¼Œå¾ªç¯æ‰§è¡Œï¼šâ‘  ç”¨å€å¢æ‰¾åˆ°æœ€è¿‘éç©ºç¥–å…ˆ â‘¡ è´­ä¹°è¯¥èŠ‚ç‚¹é»„é‡‘ â‘¢ æ›´æ–°å‰©ä½™éœ€æ±‚ã€‚å½“èŠ‚ç‚¹é»„é‡‘è€—å°½æ—¶ï¼Œå…¶çˆ¶èŠ‚ç‚¹ä¼šè‡ªåŠ¨æˆä¸ºæ–°çš„"æœ€ä¾¿å®œèŠ‚ç‚¹"ã€‚
- **å¯è§†åŒ–è®¾è®¡**ï¼šé‡‡ç”¨8-bitåƒç´ é£æ ¼ï¼ŒèŠ‚ç‚¹æ˜¾ç¤ºä¸ºä¸åŒé¢œè‰²çš„çŸ¿æ´ï¼ˆé‡‘è‰²=æœ‰çŸ¿ï¼Œç°è‰²=æ¯ç«­ï¼‰ã€‚è´­ä¹°æ—¶æ˜¾ç¤ºé»„é‡‘é¢—ç²’é£å…¥è´­ç‰©è½¦åŠ¨ç”»ï¼Œé…åˆ"å®"çš„éŸ³æ•ˆã€‚å•æ­¥æ‰§è¡Œæ¨¡å¼å¯è§‚å¯Ÿå€å¢æŒ‡é’ˆçš„è·³è·ƒè·¯å¾„ï¼Œé€Ÿåº¦æ»‘å—æ§åˆ¶å¼€é‡‡é€Ÿåº¦ã€‚

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼šå¿˜æ€€æ˜Ÿï¼‰
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°æŒ‡å‡ºè´ªå¿ƒæœ¬è´¨ï¼Œä»£ç è§„èŒƒä½¿ç”¨`get()`å‡½æ•°å°è£…å€å¢æŸ¥è¯¢ã€‚äº®ç‚¹åœ¨äºä¸¥æ ¼è¯æ˜æ—¶é—´å¤æ‚åº¦ï¼ˆæ¯ä¸ªèŠ‚ç‚¹åªä¼šè¢«æ¸…ç©ºä¸€æ¬¡ï¼‰ï¼Œå®è·µæ—¶æ³¨æ„å¾ªç¯æ¡ä»¶åº”æ£€æµ‹å…¨å±€éç©ºèŠ‚ç‚¹è€Œéå½“å‰èŠ‚ç‚¹ï¼Œé¿å…æç«¯æƒ…å†µä¸‹çš„æ­»å¾ªç¯é£é™©ã€‚

### é¢˜è§£äºŒï¼ˆä½œè€…ï¼šwfc284ï¼‰
* **ç‚¹è¯„**ï¼šä»£ç ç®€æ´é«˜æ•ˆï¼Œå‡†ç¡®ä½¿ç”¨`anc[][]`æ•°ç»„ç»´æŠ¤å€å¢å…³ç³»ã€‚ç‰¹åˆ«ä¼˜åŒ–äº†å˜é‡å‘½åï¼ˆ`tot_price`ä»£æ›¿`ans`ï¼‰ï¼Œå¢å¼ºå¯è¯»æ€§ã€‚æ¨èå­¦ä¹ å…¶è½»é‡çº§å®ç°é£æ ¼ï¼Œä½†éœ€è¡¥å……è¾¹ç•Œæ¡ä»¶æ³¨é‡Šã€‚

### é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šwrzSamaï¼‰
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§åœ°æ˜¾å¼ç»´æŠ¤èŠ‚ç‚¹æ·±åº¦`d[]`ï¼Œé€šè¿‡`find(v, len)`å®ç°ç²¾ç¡®è·³è½¬ã€‚äº®ç‚¹åœ¨äºè¯¦ç»†è§£é‡Šäº†"æ¯ä¸ªèŠ‚ç‚¹åªä¼šè¢«æ¸…ç©ºä¸€æ¬¡"çš„ç‰¹æ€§ï¼Œå¸®åŠ©ç†è§£æ—¶é—´å¤æ‚åº¦ã€‚æ³¨æ„è¿ç»­è·³è½¬æ—¶éœ€æ£€æµ‹èŠ‚ç‚¹å‰©ä½™é‡ï¼Œé¿å…æ— æ•ˆéå†ã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### å…³é”®ç‚¹1ï¼šå¦‚ä½•ä¿è¯è´­ä¹°é¡ºåºæœ€ä¼˜ï¼Ÿ
* **åˆ†æ**ï¼šåˆ©ç”¨å­èŠ‚ç‚¹ä»·æ ¼>çˆ¶èŠ‚ç‚¹çš„ä¸¥æ ¼æ¡ä»¶ï¼Œæ¯æ¬¡è´­ä¹°éƒ½é”å®šåˆ°æ ¹è·¯å¾„ä¸Šæœ€ä¾¿å®œï¼ˆæ·±åº¦æœ€å°ï¼‰çš„èŠ‚ç‚¹ã€‚è¿™å°±åƒç™»å±±æ—¶ä¼˜å…ˆé¥®ç”¨ä½å¤„çš„æ°´æºï¼Œç¡®ä¿ä½“åŠ›æ¶ˆè€—æœ€å°ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ ‘é“¾è´ªå¿ƒçš„æ ¸å¿ƒæ˜¯å‘ç°å•è°ƒæ€§ã€‚

### å…³é”®ç‚¹2ï¼šå¦‚ä½•é«˜æ•ˆå®šä½è´­ä¹°ç›®æ ‡ï¼Ÿ
* **åˆ†æ**ï¼šå€å¢æ³•é€šè¿‡`fa[u][i]=fa[fa[u][i-1]][i-1]`çš„é€’æ¨å¼ï¼Œå®ç°O(log n)æŸ¥è¯¢ã€‚æƒ³è±¡ç”µæ¢¯å¿«é€ŸæŠµè¾¾ç›®æ ‡æ¥¼å±‚ï¼šæ¯æ¬¡è·³è·ƒ2^iå±‚ï¼Œè€Œéé€å±‚çˆ¬æ¢¯ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå€å¢æ˜¯æ ‘é“¾æŸ¥è¯¢çš„åˆ©å™¨ï¼Œé¢„å¤„ç†O(n log n)ï¼ŒæŸ¥è¯¢O(1)ã€‚

### å…³é”®ç‚¹3ï¼šå¦‚ä½•é¿å…é‡å¤è®¿é—®ç©ºèŠ‚ç‚¹ï¼Ÿ
* **åˆ†æ**ï¼šåœ¨é€šç”¨å®ç°ä¸­ï¼Œæ¯æ¬¡å¾ªç¯éƒ½é‡æ–°æŸ¥è¯¢æœ€è¿‘éç©ºèŠ‚ç‚¹ã€‚è¿™å¦‚åŒGPSå®æ—¶æ›´æ–°è·¯çº¿ï¼Œå½“æŸçŸ¿æ´æ¯ç«­æ—¶è‡ªåŠ¨è§„åˆ’æ–°è·¯çº¿ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`while(w>0)`é…åˆ`if(a[x]==0)break`å¯ç¡®ä¿åŠæ—¶ç»ˆæ­¢ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1 å•è°ƒæ€§è½¬åŒ–**ï¼šå°†é¢˜ç›®æ¡ä»¶(c_i > c_{p_i})è½¬åŒ–ä¸ºè´ªå¿ƒä¾æ®
- **æŠ€å·§2 å¢é‡ç»´æŠ¤**ï¼šåŠ¨æ€æ›´æ–°å€å¢æ•°ç»„ï¼Œé€‚åº”åœ¨çº¿æŸ¥è¯¢
- **æŠ€å·§3 è¾¹ç•Œé˜²å¾¡**ï¼šé»„é‡‘è€—å°½æ—¶ç«‹å³è·³å‡ºå¾ªç¯ï¼Œé¿å…æ— æ•ˆæ“ä½œ

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°**
```cpp
#include <cstdio>
#include <algorithm>
using namespace std;
typedef long long ll;
const int N = 3e5+5, LOG = 20;

int q, a[N], c[N], fa[N][LOG];

// æ ¸å¿ƒï¼šå€å¢æŸ¥è¯¢æœ€è¿‘éç©ºç¥–å…ˆ
int get(int u) {
    for (int i = LOG-1; i >= 0; --i)
        if (a[fa[u][i]]) u = fa[u][i];
    return u;
}

int main() {
    scanf("%d %d %d", &q, &a[1], &c[1]);
    for (int i = 0; i < LOG; ++i) fa[1][i] = 0; // æ ¹èŠ‚ç‚¹åˆå§‹åŒ–

    for (int id=2, op; id<=q+1; ++id) {
        scanf("%d", &op);
        if (op == 1) { // æ·»åŠ èŠ‚ç‚¹
            int p; scanf("%d", &p);
            scanf("%d %d", &a[id], &c[id]);
            fa[id][0] = p+1; // è½¬1-index
            for (int j=1; j<LOG; ++j) // é€’æ¨å€å¢æ•°ç»„
                fa[id][j] = fa[fa[id][j-1]][j-1];
        } 
        else if (op == 2) { // è´­ä¹°é»„é‡‘
            int v, w; scanf("%d %d", &v, &w); v++;
            ll gold = 0, cost = 0;
            while (w > 0) {
                int x = get(v); // å®šä½æœ€è¿‘éç©ºèŠ‚ç‚¹
                if (!a[x]) break; // çŸ¿è„‰æ¯ç«­
                int take = min(w, a[x]);
                gold += take;
                cost += 1LL * take * c[x];
                w -= take;
                a[x] -= take; // æ›´æ–°èŠ‚ç‚¹åº“å­˜
            }
            printf("%lld %lld\n", gold, cost);
            fflush(stdout);
        }
    }
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
> ä¸»æ¡†æ¶æ¸…æ™°åˆ†ç¦»ä¸¤ç§æ“ä½œç±»å‹ã€‚æ·»åŠ èŠ‚ç‚¹æ—¶é€’æ¨æ„å»ºå€å¢æ•°ç»„ï¼›æŸ¥è¯¢æ—¶å¾ªç¯è´­ä¹°ç›´è‡³æ»¡è¶³éœ€æ±‚ã€‚å…³é”®å‡½æ•°`get()`ä»é«˜ä½å‘ä½ä½æšä¸¾2^içº§ç¥–å…ˆï¼Œå®ç°å¿«é€Ÿè·³è½¬ã€‚

---

### é¢˜è§£ä¸€æ ¸å¿ƒä»£ç ç‰‡æ®µ
```cpp
int get(int u) {
    for(int i=19; i>=0; i--) 
        if(a[fa[u][i]]) u = fa[u][i];
    return u;
}
```
* **äº®ç‚¹**ï¼šç®€æ´å°è£…å€å¢æŸ¥è¯¢
* **ä»£ç è§£è¯»**ï¼š
> ä»æœ€é«˜ä½(2^19)å¼€å§‹æ£€æµ‹ç¥–å…ˆèŠ‚ç‚¹ï¼šè‹¥ç¥–å…ˆæœ‰çŸ¿åˆ™è·³è·ƒï¼Œå¦åˆ™ä¿æŒåŸä½ã€‚å¦‚åŒç”¨æœ›è¿œé•œç”±è¿œåŠè¿‘æœç´¢ç›®æ ‡ï¼Œé«˜æ•ˆè·³è¿‡ç©ºåŒºåŸŸã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå€’åºæšä¸¾å¯ä¼˜å…ˆå¤§è·¨åº¦è·³è·ƒ

### é¢˜è§£äºŒæ ¸å¿ƒä»£ç ç‰‡æ®µ
```cpp
while(a[u] && w) {
    int x = get(u);
    if(a[x] < w) { /* æ¸…ç©ºèŠ‚ç‚¹ */ }
    else { /* éƒ¨åˆ†è´­ä¹° */ }
}
```
* **äº®ç‚¹**ï¼šç›´ç™½çš„è´­ä¹°é€»è¾‘
* **ä»£ç è§£è¯»**ï¼š
> å¾ªç¯æ¡ä»¶æ£€æµ‹å½“å‰èŠ‚ç‚¹çŠ¶æ€ï¼Œå®é™…åº”æ£€æµ‹å…¨å±€éç©ºèŠ‚ç‚¹ã€‚å¦‚åŒå¯¼èˆªæ—¶åªå…³æ³¨å½“å‰ä½ç½®åŠ æ²¹ç«™ï¼Œå¯èƒ½é”™è¿‡æ›´ä¼˜è·¯çº¿ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¾ªç¯æ¡ä»¶éœ€åŒ¹é…å…¨å±€çŠ¶æ€

### é¢˜è§£ä¸‰æ ¸å¿ƒä»£ç ç‰‡æ®µ
```cpp
x = find(v, d[v]-d[x]-1); // è®¡ç®—ä¸‹ä¸€èŠ‚ç‚¹
```
* **äº®ç‚¹**ï¼šæ˜¾å¼è®¡ç®—ç›¸å¯¹æ·±åº¦
* **ä»£ç è§£è¯»**ï¼š
> `d[v]-d[x]-1`è®¡ç®—ä»xåˆ°vçš„è·¯å¾„é•¿åº¦ï¼Œé€šè¿‡`find()`ç²¾ç¡®å®šä½ä¸‹ä¸€èŠ‚ç‚¹ã€‚å¦‚åŒåœ°é“æ¢ä¹˜æ—¶è®¡ç®—å‰©ä½™ç«™æ•°ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ·±åº¦å·®å¯å®šä½è·¯å¾„ä¸­é—´èŠ‚ç‚¹

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼š8-bité»„é‡‘çŸ¿å·¥æ¨¡æ‹Ÿå™¨  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šå€å¢æŸ¥è¯¢ä¸åŠ¨æ€è´­ä¹°æµç¨‹  
**è®¾è®¡æ€è·¯**ï¼šå¤å¤æ¸¸æˆæœºåˆ¶å¼ºåŒ–ç†è§£â€”â€”æ¯æ¬¡è´­ä¹°å¦‚åŒçŸ¿æ´æ¢é™©ï¼Œå€å¢æ˜¯çŸ¿è½¦åŠ é€Ÿè½¨é“  

### åŠ¨ç”»å¸§æ­¥éª¤
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š
   - åƒç´ æ ‘ç»“æ„ï¼šæ ¹èŠ‚ç‚¹åœ¨é¡¶éƒ¨ï¼ˆé‡‘è‰²ï¼‰ï¼Œå­èŠ‚ç‚¹å‘ä¸‹å»¶ä¼¸
   - æ§åˆ¶é¢æ¿ï¼šé€Ÿåº¦æ»‘å—/å•æ­¥æ‰§è¡Œ/æš‚åœæŒ‰é’®
   - çŠ¶æ€æ ï¼šæ˜¾ç¤ºå½“å‰é»„é‡‘éœ€æ±‚/èŠ±è´¹

2. **è´­ä¹°æ“ä½œå¯åŠ¨**ï¼š
   - è·¯å¾„é«˜äº®ï¼šä»ç›®æ ‡èŠ‚ç‚¹åˆ°æ ¹çš„è·¯å¾„é—ªçƒè“å…‰
   - éŸ³æ•ˆï¼šæ’­æ”¾"ä»»åŠ¡å¼€å§‹"èŠ¯ç‰‡éŸ³ä¹

3. **å€å¢æŸ¥è¯¢è¿‡ç¨‹**ï¼š
   ```mermaid
   graph LR
   V[å½“å‰èŠ‚ç‚¹] -->|æ£€æµ‹2^4ç¥–å…ˆ| A1
   A1[ç©º] -->|é™çº§| B[æ£€æµ‹2^3ç¥–å…ˆ]
   B -->|æœ‰çŸ¿| C[è·³è½¬!]
   ```
   - è§†è§‰ï¼šçº¢è‰²ç®­å¤´è‡ªåº•å‘ä¸Šå¤§è·¨åº¦è·³è·ƒï¼Œé‡ç©ºèŠ‚ç‚¹å˜ç°è‰²
   - éŸ³æ•ˆï¼šæ¯æ¬¡è·³è½¬ä¼´éš"å˜€"å£°ï¼ŒæˆåŠŸå®šä½æ’­æ”¾"å®å’š"

4. **é»„é‡‘äº¤æ˜“åŠ¨ç”»**ï¼š
   - çŸ¿æ´é£å‡ºé‡‘è‰²é¢—ç²’åˆ°è´­ç‰©è½¦ï¼Œæ•°é‡=min(éœ€æ±‚,åº“å­˜)
   - èŠ‚ç‚¹åº“å­˜å®æ—¶å‡å°‘ï¼Œè€—å°½æ—¶å˜ç°è‰²+ç ´ç¢éŸ³æ•ˆ
   - æ•°æ®å˜åŒ–ï¼šèŠ±è´¹è®¡æ•°å™¨ç´¯åŠ æ˜¾ç¤º

5. **å¾ªç¯ä¸ç»ˆæ­¢**ï¼š
   - è‡ªåŠ¨æ¨¡å¼ï¼šAIçŸ¿å·¥è¿ç»­æ‰§è¡Œç›´åˆ°å®Œæˆ
   - æ­¥è¿›æ¨¡å¼ï¼šæŒ‰å¸§å±•ç¤ºæŸ¥è¯¢-è´­ä¹°-æ›´æ–°æµç¨‹
   - å®Œæˆæ—¶ï¼šæ’­æ”¾èƒœåˆ©æ—‹å¾‹ï¼Œè·¯å¾„è§£é™¤é«˜äº®

### äº¤äº’è®¾è®¡
- **é€Ÿåº¦æ§åˆ¶**ï¼š0.5x~5xå€é€Ÿè°ƒæ•´åŠ¨ç”»èŠ‚å¥
- **æ¨¡å¼åˆ‡æ¢**ï¼šè‡ªåŠ¨æ¼”ç¤º/æ‰‹åŠ¨å•æ­¥æ‰§è¡Œ
- **ç»“æ„è¿½è¸ª**ï¼šå‹¾é€‰"æ˜¾ç¤ºå€å¢æŒ‡é’ˆ"è§‚å¯Ÿè·³è½¬è·¯å¾„

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æŠ€å·§è¿ç§»
1. **ä»·æ ¼æ•æ„Ÿè·¯å¾„å¤„ç†**ï¼šä¼˜æƒ åˆ¸å‘æ”¾ç³»ç»Ÿï¼ˆä¼˜å…ˆä½¿ç”¨é¢é¢å¤§çš„åˆ¸ï¼‰
2. **åŠ¨æ€æ ‘æŸ¥è¯¢**ï¼šç½‘ç»œæµé‡è°ƒåº¦ï¼ˆä¼˜å…ˆä½¿ç”¨é«˜é€Ÿé“¾è·¯ï¼‰
3. **å¢é‡æ•°æ®ç»“æ„**ï¼šå®æ—¶ç©å®¶æ’è¡Œæ¦œï¼ˆæ ‘å½¢ç»“æ„ç»´æŠ¤ï¼‰

### ç»ƒä¹ æ¨èï¼ˆæ´›è°·ï¼‰
1. **P3369 ã€æ¨¡æ¿ã€‘æ™®é€šå¹³è¡¡æ ‘**  
   â†’ æŒæ¡åŸºç¡€æ ‘ç»“æ„æ“ä½œï¼Œç†è§£åŠ¨æ€ç»´æŠ¤
2. **P3374 ã€æ¨¡æ¿ã€‘æ ‘çŠ¶æ•°ç»„1**  
   â†’ å­¦ä¹ é«˜æ•ˆåŒºé—´æŸ¥è¯¢ï¼ŒåŸ¹å…»å€å¢æ€ç»´
3. **P3384 ã€æ¨¡æ¿ã€‘æ ‘é“¾å‰–åˆ†**  
   â†’ è¿›é˜¶æ ‘è·¯å¾„å¤„ç†ï¼Œå¼ºåŒ–åˆ†è§£é—®é¢˜èƒ½åŠ›

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **ç»éªŒæ‘˜å½•ï¼ˆå¿˜æ€€æ˜Ÿï¼‰**ï¼š"å€å¢æ³•å°±åƒæœ›è¿œé•œçš„è°ƒç„¦æ—‹é’®â€”â€”å…ˆå¤§è·¨åº¦å®šä½æ–¹å‘ï¼Œå†å¾®è°ƒé”å®šç›®æ ‡"  
> **Kayç‚¹è¯„**ï¼šè°ƒè¯•æ—¶åº”éªŒè¯ä¸¤ç‚¹ï¼šâ‘  èŠ‚ç‚¹æ¸…ç©ºåæ˜¯å¦è·³è¿‡ â‘¡ æ·±åº¦è·³è·ƒæ˜¯å¦è¶Šç•Œã€‚æ¨èåœ¨å€å¢å¾ªç¯åæ·»åŠ `assert(depth>=0)`é˜²å¾¡ã€‚

> **ç»éªŒæ‘˜å½•ï¼ˆwrzSamaï¼‰**ï¼š"æ˜¾å¼ç»´æŠ¤æ·±åº¦éœ€è¦ä¸èŠ‚ç‚¹çŠ¶æ€åŒæ­¥æ›´æ–°"  
> **Kayç‚¹è¯„**ï¼šæ ‘é—®é¢˜ä¸­ï¼Œæ·±åº¦ä¿¡æ¯å¸¸å¯è½¬åŒ–ä¸ºè·³è·ƒæ­¥æ•°ï¼Œä½†éœ€æ³¨æ„ç»´æŠ¤ä¸€è‡´æ€§ã€‚

---

> æœ¬æ¬¡è§£ææ­ç¤ºäº†æ ‘å½¢è´ªå¿ƒä¸­"å•è°ƒæ€§+å¿«é€Ÿå®šä½"çš„æ ¸å¿ƒæ€æƒ³ã€‚è®°ä½ï¼šå¥½ç®—æ³•å¦‚ç²¾è‰¯çŸ¿é•â€”â€”é€‰å¯¹å·¥å…·æ‰èƒ½äº‹åŠåŠŸå€ï¼ä¸‹æ¬¡æˆ‘ä»¬ç»§ç»­æ¢ç´¢ç®—æ³•çš„æ˜Ÿè¾°å¤§æµ·ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š288.08ç§’
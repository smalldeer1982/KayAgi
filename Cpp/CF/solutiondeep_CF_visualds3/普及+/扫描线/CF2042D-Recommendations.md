# é¢˜ç›®ä¿¡æ¯

# Recommendations

## é¢˜ç›®æè¿°

æœ‰ $n$ ä¸ªåŒºé—´ $S_i=[l_i,r_i]$ï¼Œå¯¹äºæ¯ä¸ªåŒºé—´æ±‚å‡º $|\bigcap\limits_{j} S_j|-|S_i|$ï¼Œå…¶ä¸­ $j\neq i$ï¼Œä¸” $S_i\subseteq S_j$ã€‚å³å¯¹äºæ¯ä¸ªåŒºé—´æ±‚å‡ºå…¶åŒ…åŒºé—´äº¤é›†çš„å¤§å°ï¼Œå¹¶å‡å»è‡ªå·±çš„å¤§å°ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
3
3 8
2 5
4 5
2
42 42
1 1000000000
3
42 42
1 1000000000
42 42
6
1 10
3 10
3 7
5 7
4 4
1 2```

### è¾“å‡º

```
0
0
1
999999999
0
0
0
0
0
2
3
2
4
8```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šRecommendations æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

**å¼•è¨€**  
ä»Šå¤©æˆ‘ä»¬ä¸€èµ·åˆ†æCF2042D "Recommendations"è¿™é“åŒºé—´å¤„ç†é¢˜ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©ä½ æŒæ¡æ’åº+æ•°æ®ç»“æ„çš„æ ¸å¿ƒæŠ€å·§ï¼Œé€šè¿‡åƒç´ åŠ¨ç”»ç›´è§‚ç†è§£ç®—æ³•ï¼Œå¹¶æå‡è§£å†³åŒºé—´ç±»é—®é¢˜çš„èƒ½åŠ›ã€‚

---

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«  
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`æ’åºä¸æ•°æ®ç»“æ„åº”ç”¨`  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è§£å†³æœ¬é¢˜çš„å…³é”®åœ¨äº**æ’åºè½¬åŒ–æ€æƒ³**â€”â€”å°†äºŒç»´åŒºé—´é—®é¢˜è½¬åŒ–ä¸ºä¸€ç»´æ‰«æé—®é¢˜ã€‚æƒ³è±¡åŒºé—´æ˜¯ä¸åŒé•¿åº¦çš„ç»³å­ï¼Œæˆ‘ä»¬éœ€è¦å¿«é€Ÿæ‰¾åˆ°èƒ½å®Œå…¨è¦†ç›–å½“å‰ç»³å­çš„"ä¿æŠ¤ç½©"ï¼ˆå…¶ä»–åŒºé—´ï¼‰çš„æœ€å°äº¤é›†ã€‚  
> - æ ¸å¿ƒæ€è·¯ï¼šå¯¹åŒºé—´ä¸¤æ¬¡æ’åºï¼ˆå·¦ç«¯ç‚¹å‡åº/å³ç«¯ç‚¹é™åºã€å³ç«¯ç‚¹é™åº/å·¦ç«¯ç‚¹å‡åºï¼‰ï¼Œç”¨Setç»´æŠ¤å…³é”®ç«¯ç‚¹ï¼Œé€šè¿‡äºŒåˆ†æŸ¥æ‰¾è·å–è¦†ç›–å½“å‰åŒºé—´çš„**æœ€å°å³ç«¯ç‚¹**å’Œ**æœ€å¤§å·¦ç«¯ç‚¹**ã€‚  
> - ç®—æ³•æµç¨‹ï¼š  
>   1. ç¬¬ä¸€æ¬¡æ‰«æï¼šæŒ‰å·¦ç«¯ç‚¹æ’åº â†’ æ’å…¥å³ç«¯ç‚¹ â†’ äºŒåˆ†æŸ¥æ‰¾æœ€å°å³ç«¯ç‚¹  
>   2. ç¬¬äºŒæ¬¡æ‰«æï¼šæŒ‰å³ç«¯ç‚¹æ’åº â†’ æ’å…¥å·¦ç«¯ç‚¹ â†’ äºŒåˆ†æŸ¥æ‰¾æœ€å¤§å·¦ç«¯ç‚¹  
> - å¯è§†åŒ–è®¾è®¡ï¼šåœ¨8-bitåƒç´ ç½‘æ ¼ä¸­ï¼Œç”¨æ°´å¹³çº¿æ®µè¡¨ç¤ºåŒºé—´ï¼Œç«–çº¿è¡¨ç¤ºSetä¸­çš„ç«¯ç‚¹ã€‚æ‰«ææ—¶é«˜äº®å½“å‰åŒºé—´ï¼ŒSetåŒºåŸŸåŠ¨æ€å±•ç¤ºæ’å…¥/æŸ¥æ‰¾è¿‡ç¨‹ï¼Œé€šè¿‡é¢œè‰²å˜åŒ–å’ŒéŸ³æ•ˆå¼ºåŒ–ç†è§£ã€‚

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ  
**é¢˜è§£ä¸€ï¼ˆEddie08012025ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  æ€è·¯ç›´å‡»æœ¬è´¨â€”â€”é€šè¿‡ä¸¤æ¬¡ç‹¬ç«‹æ’åºåˆ†åˆ«å¤„ç†æœ€å°å³ç«¯ç‚¹å’Œæœ€å¤§å·¦ç«¯ç‚¹ã€‚ä»£ç ç»“æ„æ¸…æ™°ï¼Œåˆ©ç”¨`map`è®°å½•åŸå§‹ä½ç½®å·§å¦™è§£å†³äº†æ’åºåçš„ç´¢å¼•æ˜ å°„é—®é¢˜ã€‚è¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆæ— è¦†ç›–åŒºé—´æ—¶è¾“å‡º0ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦`O(n logn)`å®Œå…¨è¾¾æ ‡ã€‚äº®ç‚¹åœ¨äºå¯¹ç§°æ€§è®¾è®¡ï¼šä¸¤æ¬¡æ’åºé€»è¾‘é•œåƒï¼Œä½¿ä»£ç ç®€æ´æ˜“æ‰©å±•ã€‚

**é¢˜è§£äºŒï¼ˆAustin0116ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  é‡‡ç”¨**åŒºé—´ç¿»è½¬æŠ€å·§**å¤ç”¨ä»£ç æå…·åˆ›æ„ï¼å°†å·¦ç«¯ç‚¹è´¡çŒ®è®¡ç®—è½¬åŒ–ä¸ºå³ç«¯ç‚¹é—®é¢˜ï¼Œå‡å°‘é‡å¤ç¼–ç ã€‚å¯¹é‡å¤åŒºé—´çš„å¤„ç†éå¸¸è§„èŒƒï¼ˆç›¸é‚»ç›¸åŒåŒºé—´è·³è¿‡è®¡ç®—ï¼‰ï¼Œå®è·µä»·å€¼é«˜ã€‚ä»£ç æ¨¡å—åŒ–ä¼˜ç§€ï¼Œè¯»å…¥ä¼˜åŒ–æå‡æ•ˆç‡ï¼Œæ˜¯ç«èµ›åœºæ™¯çš„ç†æƒ³å‚è€ƒã€‚

**é¢˜è§£ä¸‰ï¼ˆHide_In_The_Shadowï¼‰**  
* **ç‚¹è¯„**ï¼š  
  `multiset`åº”ç”¨çµæ´»ï¼Œç‰¹åˆ«æ“…é•¿å¤„ç†é‡å¤åŒºé—´â€”â€”é€šè¿‡`while`å¾ªç¯æ‰¹é‡å¤„ç†ç›¸åŒåŒºé—´æå‡æ•ˆç‡ã€‚å˜é‡å‘½åå¯æ”¹è¿›ï¼Œä½†æ ¸å¿ƒç®—æ³•ï¼ˆäºŒåˆ†æŸ¥æ‰¾+è¾¹ç•Œåˆ¤æ–­ï¼‰å®ç°å‡†ç¡®ï¼Œè¾“å‡ºé€»è¾‘ä¸¥è°¨è¦†ç›–äº†æ— è¦†ç›–åŒºé—´çš„æƒ…å†µã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥  
1. **éš¾ç‚¹ä¸€ï¼šå¦‚ä½•é«˜æ•ˆè·å–è¦†ç›–åŒºé—´çš„å…³é”®ç«¯ç‚¹ï¼Ÿ**  
   * **åˆ†æ**ï¼šæš´åŠ›æ£€æŸ¥æ‰€æœ‰åŒºé—´éœ€O(nÂ²)ã€‚ä¼˜è´¨è§£æ³•åˆ™é€šè¿‡æ’åºä¿è¯æ‰«ææ—¶å·¦/å³ç«¯ç‚¹å•è°ƒï¼Œç”¨SetäºŒåˆ†æŸ¥æ‰¾å°†å¤æ‚åº¦é™è‡³O(n logn)ã€‚ä¾‹å¦‚æŒ‰å·¦ç«¯ç‚¹æ’åºåï¼Œå‰é¢åŒºé—´çš„å·¦ç«¯ç‚¹å¿…ç„¶â‰¤å½“å‰å€¼ï¼Œåªéœ€æ£€æŸ¥å³ç«¯ç‚¹â‰¥å½“å‰å€¼çš„åŒºé—´ã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºæ˜¯é™ç»´åˆ©å™¨ï¼Œå°†äºŒç»´å…³ç³»è½¬åŒ–ä¸ºä¸€ç»´æ‰«æã€‚

2. **éš¾ç‚¹äºŒï¼šé‡å¤åŒºé—´çš„ç‰¹æ®Šå¤„ç†**  
   * **åˆ†æ**ï¼šå½“å¤šä¸ªåŒºé—´å®Œå…¨ç›¸åŒæ—¶ï¼Œä»»æ„ä¸€ä¸ªåŒºé—´éƒ½ä¼šè¢«å…¶ä»–ç›¸åŒåŒºé—´è¦†ç›–ï¼Œä½†é¢˜ç›®è¦æ±‚jâ‰ iã€‚è§£æ³•ä¸­é€šè¿‡åˆ¤æ–­ç›¸é‚»åŒºé—´æ˜¯å¦ç›¸åŒç›´æ¥è·³è¿‡è®¡ç®—ï¼ˆè¾“å‡º0ï¼‰ï¼Œæ—¢æ­£ç¡®åˆé«˜æ•ˆã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé‡å¤åŒºé—´äº¤é›†å¿…ä¸ºè‡ªèº«ï¼Œè´¡çŒ®å€¼æ’ä¸º0ã€‚

3. **éš¾ç‚¹ä¸‰ï¼šè¾¹ç•Œæ¡ä»¶ä¸æ— è¦†ç›–æƒ…å†µ**  
   * **åˆ†æ**ï¼šå½“`Set.lower_bound()`è¿”å›æ— æ•ˆå€¼æ—¶ï¼Œè¯´æ˜æ— è¦†ç›–åŒºé—´ã€‚ä¼˜è´¨é¢˜è§£é€šè¿‡åˆ¤æ–­`Lmax > l_i`æˆ–`Rmin < r_i`è¯†åˆ«æ­¤æƒ…å†µå¹¶è¾“å‡º0ï¼Œé¿å…é”™è¯¯è®¡ç®—ã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ•°æ®ç»“æ„æ“ä½œåå¿…é¡»éªŒè¯ç»“æœæœ‰æ•ˆæ€§ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **æŠ€å·§1ï¼šæ’åºè½¬åŒ–ç»´åº¦**  
  æŒ‰ç‰¹å®šè§„åˆ™æ’åºï¼ˆå¦‚å·¦ç«¯ç‚¹å‡åº+å³ç«¯ç‚¹é™åºï¼‰ï¼Œå°†è¦†ç›–å…³ç³»è½¬åŒ–ä¸ºé¡ºåºæ‰«æé—®é¢˜ã€‚  
- **æŠ€å·§2ï¼šæ•°æ®ç»“æ„åŠ é€ŸæŸ¥è¯¢**  
  Set/æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ç«¯ç‚¹ï¼Œé€šè¿‡`lower_bound`å®ç°O(log n)æŸ¥è¯¢ã€‚  
- **æŠ€å·§3ï¼šé•œåƒå¤ç”¨ä»£ç **  
  å°†å·¦ç«¯ç‚¹é—®é¢˜ç¿»è½¬åå¤ç”¨å³ç«¯ç‚¹å¤„ç†é€»è¾‘ï¼ˆå¦‚Austin0116çš„è§£æ³•ï¼‰ã€‚  
- **æŠ€å·§4ï¼šæ‰¹é‡å¤„ç†é‡å¤é¡¹**  
  æ’åºåç›¸åŒåŒºé—´å¿…ç„¶ç›¸é‚»ï¼Œç”¨å¾ªç¯æ‰¹é‡å¤„ç†æå‡æ•ˆç‡ï¼ˆå¦‚Hide_In_The_Shadowçš„è§£æ³•ï¼‰ã€‚

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ  
**é€šç”¨æ ¸å¿ƒå®ç°å‚è€ƒ**  
* **è¯´æ˜**ï¼šç»¼åˆAustin0116çš„ç¿»è½¬æŠ€å·§ä¸Eddie08012025çš„è¾¹ç•Œå¤„ç†ï¼Œå…¼é¡¾æ•ˆç‡ä¸å¯è¯»æ€§ã€‚
* **å®Œæ•´ä»£ç **ï¼š
```cpp
#include <bits/stdc++.h>
using namespace std;
struct Interval { int l, r, id; };

void solve() {
    int n; cin >> n;
    vector<Interval> A(n);
    for (int i = 0; i < n; i++) {
        cin >> A[i].l >> A[i].r;
        A[i].id = i;
    }
    
    vector<int> ans(n, 0);
    set<int> rightSet;
    
    // å¤„ç†å³ç«¯ç‚¹è´¡çŒ®
    sort(A.begin(), A.end(), [](auto &a, auto &b) {
        return a.l == b.l ? a.r > b.r : a.l < b.l;
    });
    rightSet.insert(A[0].r);
    for (int i = 1; i < n; i++) {
        if (!(A[i].l == A[i-1].l && A[i].r == A[i-1].r)) {
            auto it = rightSet.lower_bound(A[i].r);
            if (it != rightSet.end()) 
                ans[A[i].id] += *it - A[i].r;
        }
        rightSet.insert(A[i].r);
    }
    
    // ç¿»è½¬åŒºé—´å¤„ç†å·¦ç«¯ç‚¹è´¡çŒ®
    for (auto &a : A) swap(a.l = -a.l, a.r = -a.r);
    sort(A.begin(), A.end(), [](auto &a, auto &b) {
        return a.l == b.l ? a.r > b.r : a.l < b.l;
    });
    set<int> leftSet;
    leftSet.insert(A[0].r);
    for (int i = 1; i < n; i++) {
        if (!(A[i].l == A[i-1].l && A[i].r == A[i-1].r)) {
            auto it = leftSet.lower_bound(A[i].r);
            if (it != leftSet.end()) 
                ans[A[i].id] += *it - A[i].r; // å®é™…è´¡çŒ®ä¸ºl_i - L_max
        }
        leftSet.insert(A[i].r);
    }
    
    for (int x : ans) cout << x << '\n';
}

int main() {
    int t; cin >> t;
    while (t--) solve();
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. é¦–æ¬¡æ’åºï¼ˆå·¦ç«¯ç‚¹å‡åºï¼Œå³ç«¯ç‚¹é™åºï¼‰åï¼Œç”¨Setç»´æŠ¤å³ç«¯ç‚¹ï¼ŒäºŒåˆ†æŸ¥æ‰¾æœ€å°è¦†ç›–å³ç«¯ç‚¹  
  2. ç¿»è½¬åŒºé—´ï¼ˆl'=-r, r'=-lï¼‰åå¤ç”¨ç›¸åŒé€»è¾‘ï¼Œè®¡ç®—å·¦ç«¯ç‚¹è´¡çŒ®  
  3. è·³è¿‡é‡å¤åŒºé—´ï¼Œè¾¹ç•Œè‡ªåŠ¨å¤„ç†ï¼ˆæ— è¦†ç›–æ—¶SetæŸ¥è¯¢è¿”å›endï¼‰

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º  
### ä¸»é¢˜ï¼š**ã€ŠåŒºé—´æ¢é™©è€…ã€‹8-bitå¯»å®ä¹‹æ—…**  
**æ ¸å¿ƒæ¼”ç¤º**ï¼š  
åœ¨å¤å¤ç½‘æ ¼ä¸­ï¼Œæ°´å¹³å½©è‰²æ¡å¸¦è¡¨ç¤ºåŒºé—´ï¼ˆé•¿åº¦=å³-å·¦ï¼‰ï¼Œåº•éƒ¨ç«–çº¿è¡¨ç¤ºSetä¸­çš„ç«¯ç‚¹ã€‚æ‰«ææ—¶ï¼š  
1. **æ‰«ææŒ‡é’ˆç§»åŠ¨**ï¼šåƒç´ å°äººä»å·¦å‘å³ç§»åŠ¨ï¼Œå¤´é¡¶æ˜¾ç¤ºå½“å‰åŒºé—´`[l_i, r_i]`  
2. **SetåŒºåŸŸæ›´æ–°**ï¼š  
   - æ’å…¥æ“ä½œï¼šæ–°ç«–çº¿ä»åº•éƒ¨å¼¹å‡ºï¼Œä¼´éš"å®"å£°  
   - äºŒåˆ†æŸ¥æ‰¾ï¼šå½“å‰åŒºé—´å‘å‡ºå°„çº¿ï¼Œåœ¨SetåŒºåŸŸå¿«é€Ÿè·³è·ƒæ£€æµ‹ï¼Œå‘½ä¸­æ—¶ç›®æ ‡é«˜äº®é—ªçƒ  
3. **è´¡çŒ®è®¡ç®—**ï¼šæ˜¾ç¤º`(minR - r_i) + (l_i - maxL)`å…¬å¼åˆ†æ­¥è®¡ç®—è¿‡ç¨‹  

**äº¤äº’æ§åˆ¶é¢æ¿**ï¼š  
- æ­¥è¿›/æš‚åœ/é‡ç½®  
- é€Ÿåº¦æ»‘å—ï¼ˆè°ƒé€Ÿè§‚å¯ŸäºŒåˆ†è¿‡ç¨‹ï¼‰  
- æ¨¡å¼åˆ‡æ¢ï¼šå¯¹æ¯”é¦–æ¬¡æ‰«æï¼ˆå³ç«¯ç‚¹ï¼‰ä¸ç¿»è½¬åæ‰«æï¼ˆå·¦ç«¯ç‚¹ï¼‰  

**æ¸¸æˆåŒ–è®¾è®¡**ï¼š  
- æ¯æ­£ç¡®è®¡ç®—ä¸€ä¸ªåŒºé—´ï¼Œè·å¾—é‡‘å¸+1  
- è¿ç»­æ— é”™è¯¯è®¡ç®—è§¦å‘è¿å‡»ç‰¹æ•ˆ  
- èƒŒæ™¯éŸ³ä¹ï¼š8-bitèŠ¯ç‰‡é£æ ¼å¾ªç¯BGM  

**è®¾è®¡æ„ä¹‰**ï¼šåŠ¨æ€å±•ç¤ºæ’åºå¦‚ä½•æ”¹å˜åŒºé—´ä½ç½®ï¼Œä»¥åŠSetå¦‚ä½•ç»´æŠ¤æœ‰åºç«¯ç‚¹ï¼Œä½¿æŠ½è±¡ç®—æ³•å…·è±¡åŒ–ã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ  
1. **é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
   - åŒºé—´è¦†ç›–è®¡æ•°ï¼šç»Ÿè®¡æ¯ä¸ªåŒºé—´è¢«å¤šå°‘åŒºé—´è¦†ç›–  
   - æœ€å¤§é‡å æ•°ï¼šæ‰¾è¢«æœ€å¤šåŒºé—´è¦†ç›–çš„ç‚¹  
   - åŒºé—´åˆå¹¶ï¼šåˆå¹¶é‡å /ç›¸é‚»åŒºé—´  

2. **æ¨èç»ƒä¹ **ï¼š  
   - æ´›è°· P1886ï¼ˆæ»‘åŠ¨çª—å£ï¼‰ï¼šå·©å›ºå•è°ƒé˜Ÿåˆ—æ±‚æå€¼  
   - æ´›è°· P1904ï¼ˆå¤©é™…çº¿ï¼‰ï¼šå­¦ä¹ æ‰«æçº¿æ±‚è½®å»“  
   - æ´›è°· P2882ï¼ˆFace The Right Wayï¼‰ï¼šæ‹“å±•æ’åº+è´ªå¿ƒæŠ€å·§  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«  
> **ç»éªŒæ‘˜å½•**ï¼ˆHide_In_The_Shadowï¼‰ï¼š  
> â€œè¢«Cå¡å¤ªä¹…å¯¼è‡´æ²¡å†™å‡ºæ¥çš„å¥½é¢˜... æ³¨æ„äºŒåˆ†è¾¹ç•Œï¼â€  
>   
> **Kayæ€»ç»“**ï¼š  
> æœ¬é¢˜éš¾ç‚¹åœ¨äº**ç»´åº¦è½¬åŒ–**ä¸**é‡å¤å¤„ç†**ã€‚è°ƒè¯•æ—¶æ³¨æ„ï¼š  
> 1. æ’åºè§„åˆ™å¿…é¡»ä¸¥æ ¼ï¼ˆæ¬¡å…³é”®å­—åå‘æ’åºï¼‰  
> 2. Setåˆå§‹æ’å…¥å“¨å…µå€¼ï¼ˆå¦‚INT_MAXï¼‰é¿å…ç©ºæŒ‡é’ˆ  
> 3. æµ‹è¯•ç”¨ä¾‹éœ€åŒ…å«ï¼šå•åŒºé—´ã€å…¨é‡å¤åŒºé—´ã€æ— è¦†ç›–åŒºé—´  

--- 
**ç»“è¯­**  
æŒæ¡æ’åº+æ•°æ®ç»“æ„çš„ç»„åˆæ‹³ï¼ŒåŒºé—´é—®é¢˜å°†è¿åˆƒè€Œè§£ï¼å°è¯•ç”¨ä»Šæ—¥æ‰€å­¦è§£å†³æ¨èé¢˜ç›®ï¼Œä¸‹æ¬¡æŒ‘æˆ˜å†è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š305.82ç§’
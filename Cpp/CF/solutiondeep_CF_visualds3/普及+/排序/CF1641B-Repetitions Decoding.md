# é¢˜ç›®ä¿¡æ¯

# Repetitions Decoding

## é¢˜ç›®æè¿°

Olya has an array of integers $ a_1, a_2, \ldots, a_n $ . She wants to split it into tandem repeats. Since it's rarely possible, before that she wants to perform the following operation several (possibly, zero) number of times: insert a pair of equal numbers into an arbitrary position. Help her!

More formally:

- A tandem repeat is a sequence $ x $ of even length $ 2k $ such that for each $ 1 \le i \le k $ the condition $ x_i = x_{i + k} $ is satisfied.
- An array $ a $ could be split into tandem repeats if you can split it into several parts, each being a subsegment of the array, such that each part is a tandem repeat.
- In one operation you can choose an arbitrary letter $ c $ and insert $ [c, c] $ to any position in the array (at the beginning, between any two integers, or at the end).
- You are to perform several operations and split the array into tandem repeats or determine that it is impossible. Please note that you do not have to minimize the number of operations.

## è¯´æ˜/æç¤º

In the first test case, you cannot apply operations to the array to make it possible to split it into tandem repeats.

In the second test case the array is already a tandem repeat $ [5, 5] = \underbrace{([5] + [5])}_{t_1 = 2} $ , thus we can do no operations at all.

In the third test case, initially, we have the following array: $ $$$[1, 3, 1, 2, 2, 3]. $ $  After the first insertion with  $ p = 1, c = 3 $ :  $ $ [1, \textbf{3, 3}, 3, 1, 2, 2, 3]. $ $  After the second insertion with  $ p = 5, c = 3 $ :  $ $ [1, 3, 3, 3, 1, \textbf{3, 3}, 2, 2, 3]. $ $  After the third insertion with  $ p = 5, c = 3 $ :  $ $ [1, 3, 3, 3, 1, \textbf{3, 3}, 3, 3, 2, 2, 3]. $ $  After the fourth insertion with  $ p = 10, c = 3 $ :  $ $ [1, 3, 3, 3, 1, 3, 3, 3, 3, 2, \textbf{3, 3}, 2, 3]. $ $  The resulting array can be represented as a concatenation of tandem repeats:  $ $ \underbrace{([1, 3, 3, 3] + [1, 3, 3, 3])}_{t_1 = 8} + \underbrace{([3, 2, 3] + [3, 2, 3])}_{t_2 = 6}. $ $ </p><p>In the fourth test case, initially, we have the following array:  $ $ [3, 2, 1, 1, 2, 3]. $ $  After the first insertion with  $ p = 0, c = 3 $ :  $ $ [\textbf{3, 3}, 3, 2, 1, 1, 2, 3]. $ $  After the second insertion with  $ p = 8, c = 3 $ :  $ $ [3, 3, 3, 2, 1, 1, 2, 3, \textbf{3, 3}]. $ $  After the third insertion with  $ p = 5, c = 3 $   $ $ [3, 3, 3, 2, 1, \textbf{3, 3}, 1, 2, 3, 3, 3]. $ $  After the fourth insertion with  $ p = 6, c = 2 $ :  $ $ [3, 3, 3, 2, 1, 3, \textbf{2, 2}, 3, 1, 2, 3, 3, 3]. $ $  After the fifth insertion with  $ p = 7, c = 1 $ :  $ $ [3, 3, 3, 2, 1, 3, 2, \textbf{1, 1}, 2, 3, 1, 2, 3, 3, 3]. $ $  The resulting array can be represented as a concatenation of tandem repeats:  $ $ \underbrace{([3] + [3])}_{t_1 = 2} + \underbrace{([3, 2, 1] + [3, 2, 1])}_{t_2 = 6} + \underbrace{([1, 2, 3] + [1, 2, 3])}_{t_3 = 6} + \underbrace{([3] + [3])}_{t_4 = 2}. $ $$$

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
2
5 7
2
5 5
6
1 3 1 2 2 3
6
3 2 1 1 2 3```

### è¾“å‡º

```
-1
0
1
2
4
1 3
5 3
5 3
10 3
2
8 6 
5
0 3
8 3
5 3 
6 2 
7 1
4
2 6 6 2```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šRepetitions Decoding æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæ¨¡æ‹Ÿä¸æ„é€ ï¼ˆä¾§é‡æ“ä½œè®¾è®¡ä¸é—®é¢˜è½¬åŒ–ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œRepetitions Decodingâ€é—®é¢˜ï¼Œå…³é”®åœ¨äº**é€šè¿‡æ’å…¥æˆå¯¹å…ƒç´ ï¼Œå°†æ•°ç»„æ„é€ ä¸ºå¯åˆ†å‰²æˆ tandem repeats çš„ç»“æ„**ï¼ˆtandem repeats æŒ‡å‰åŠæ®µä¸ååŠæ®µå®Œå…¨ç›¸åŒçš„å¶æ•°é•¿åº¦åºåˆ—ï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œè¿™å°±åƒâ€œç»™é˜Ÿä¼é…å¯¹â€â€”â€”æ¯ä¸ªå…ƒç´ éƒ½è¦æ‰¾åˆ°â€œåŒèƒèƒâ€ï¼Œå¹¶é€šè¿‡æ’å…¥æ“ä½œè®©å®ƒä»¬â€œç«™æˆä¸€å¯¹â€ï¼Œå†æŠŠä¸­é—´çš„å…ƒç´ â€œå¤åˆ¶ä¸€ä»½â€ï¼Œå½¢æˆå‰åä¸€è‡´çš„æ®µã€‚  

**æ ¸å¿ƒæ€è·¯**ï¼š  
1. **å¥‡å¶æ€§åˆ¤æ–­**ï¼šè‹¥ä»»ä½•å…ƒç´ å‡ºç°å¥‡æ•°æ¬¡ï¼Œç›´æ¥æ— è§£ï¼ˆå› ä¸ºæ’å…¥æ“ä½œåªèƒ½å¢åŠ å¶æ•°ä¸ªå…ƒç´ ï¼Œæ— æ³•è®©å¥‡æ•°ä¸ªå…ƒç´ é…å¯¹ï¼‰ã€‚  
2. **æ„é€ tandemæ®µ**ï¼šå¯¹äºå½“å‰æ•°ç»„ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå…ƒç´ `a[0]`çš„ä¸‹ä¸€ä¸ªç›¸åŒå…ƒç´ `a[j]`ï¼Œæ’å…¥`a[1]`åˆ°`a[j-1]`çš„æ‰€æœ‰å…ƒç´ ï¼ˆæˆå¯¹æ’å…¥ï¼‰ï¼Œä½¿`a[0]`åˆ°`a[j]`ä¸æ’å…¥çš„å…ƒç´ å½¢æˆä¸€ä¸ª tandem æ®µï¼ˆé•¿åº¦ä¸º`2*(j+1)`ï¼‰ï¼Œç„¶ååˆ é™¤è¿™éƒ¨åˆ†ï¼Œé€’å½’å¤„ç†å‰©ä½™æ•°ç»„ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼š  
- å¦‚ä½•é«˜æ•ˆæ‰¾åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…å…ƒç´ ï¼Ÿ  
- å¦‚ä½•è®¡ç®—æ’å…¥ä½ç½®å’Œå…ƒç´ ï¼Œç¡®ä¿æ“ä½œæ¬¡æ•°ä¸è¶…é™ï¼Ÿ  
- å¦‚ä½•æ¨¡æ‹Ÿæ•°ç»„çš„å˜åŒ–ï¼ˆåˆ é™¤ã€åè½¬ç­‰ï¼‰ï¼Ÿ  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºæ•°ç»„ï¼ˆæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå½©è‰²æ–¹å—ï¼‰ï¼Œé«˜äº®å½“å‰å¤„ç†çš„`a[0]`å’Œç›®æ ‡`a[j]`ï¼Œç”¨â€œé—ªçƒâ€è¡¨ç¤ºæ’å…¥æ“ä½œï¼ˆæ¯”å¦‚åœ¨`a[j]`åæ’å…¥ä¸¤ä¸ªç›¸åŒçš„åƒç´ å—ï¼‰ï¼Œå¹¶é€æ­¥åˆå¹¶æˆ tandem æ®µï¼ˆç”¨è¾¹æ¡†æ ‡è®°ï¼‰ã€‚åŠ å…¥â€œå®â€çš„éŸ³æ•ˆè¡¨ç¤ºæ’å…¥æˆåŠŸï¼Œâ€œé€šå…³â€éŸ³æ•ˆè¡¨ç¤ºä¸€æ®µå®Œæˆï¼Œå¢å¼ºè¶£å‘³æ€§ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šDarkBirdï¼ˆèµï¼š22ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸â€œæ¥åœ°æ°”â€â€”â€”ç›´æ¥æ¨¡æ‹Ÿæ„é€ è¿‡ç¨‹ï¼Œé€»è¾‘æ¸…æ™°æ˜“æ‡‚ã€‚ä½œè€…æ²¡æœ‰è¿½æ±‚å¤æ‚çš„ä¼˜åŒ–ï¼Œè€Œæ˜¯ç”¨â€œæš´åŠ›ä½†æœ‰æ•ˆâ€çš„æ–¹å¼å¤„ç†æ¯ä¸ªå…ƒç´ å¯¹ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ ï¼Œæ’å…¥ä¸­é—´å…ƒç´ ï¼Œç„¶ååˆ é™¤å·²å¤„ç†çš„éƒ¨åˆ†ã€‚ä»£ç é£æ ¼ç®€æ´ï¼ˆç”¨`vector`å­˜å‚¨æ•°ç»„ï¼Œ`map`ç»Ÿè®¡å¥‡å¶æ€§ï¼‰ï¼Œå˜é‡å‘½åæ˜ç¡®ï¼ˆ`fnt`è®°å½•å‰é¢åˆ é™¤çš„å…ƒç´ æ•°ï¼Œ`opr`å­˜å‚¨æ“ä½œï¼‰ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆæ¯”å¦‚`v.erase`åˆ é™¤å·²å¤„ç†çš„å…ƒç´ ï¼‰ã€‚å…¶äº®ç‚¹åœ¨äº**å°†é—®é¢˜æ‹†è§£ä¸ºâ€œå¤„ç†ä¸€å¯¹å…ƒç´ â†’é€’å½’å¤„ç†å‰©ä½™â€**ï¼Œæ“ä½œæ¬¡æ•°æ§åˆ¶åœ¨`O(nÂ²)`å†…ï¼Œå®Œå…¨ç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œè¿™ç§â€œä¸€æ­¥ä¸€æ­¥æ¥â€çš„æ€è·¯éå¸¸å®¹æ˜“æ¨¡ä»¿å’Œç†è§£ã€‚


### é¢˜è§£äºŒï¼šyzy1ï¼ˆèµï¼š3ï¼‰  
* **ç‚¹è¯„**ï¼š  
  é¢˜è§£äºŒçš„â€œåè½¬æ“ä½œâ€æ€è·¯å¾ˆå·§å¦™â€”â€”é€šè¿‡æ’å…¥æ“ä½œå®ç°æ•°ç»„åŒºé—´çš„åè½¬ï¼Œä»è€Œè®©ç›¸åŒå…ƒç´ è¿åœ¨ä¸€èµ·ã€‚ä½œè€…ç”¨â€œåè½¬åŒºé—´â†’å½¢æˆtandemæ®µâ†’åˆ é™¤â€çš„æµç¨‹ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºâ€œå¦‚ä½•ç”¨æ’å…¥æ“ä½œæ¨¡æ‹Ÿåè½¬â€ï¼Œè¿™ç§â€œæ“ä½œè½¬åŒ–â€çš„æ€ç»´å€¼å¾—å­¦ä¹ ã€‚ä»£ç ä¸­çš„`reverse`å‡½æ•°ç›´æ¥è°ƒç”¨STLï¼Œç®€åŒ–äº†å®ç°ï¼ŒåŒæ—¶`dlt`å˜é‡è®°å½•æ’å…¥çš„æ€»é•¿åº¦ï¼Œç¡®ä¿æ’å…¥ä½ç½®çš„æ­£ç¡®æ€§ã€‚å…¶äº®ç‚¹åœ¨äº**å°†å¤æ‚çš„æ„é€ é—®é¢˜è½¬åŒ–ä¸ºç†Ÿæ‚‰çš„â€œåè½¬â€æ“ä½œ**ï¼Œé™ä½äº†æ€è€ƒéš¾åº¦ã€‚


### é¢˜è§£ä¸‰ï¼šKiloPï¼ˆèµï¼š2ï¼‰  
* **ç‚¹è¯„**ï¼š  
  é¢˜è§£ä¸‰çš„æ•°å­¦åˆ†æå¾ˆåˆ°ä½â€”â€”è¯æ˜äº†æ¯æ¬¡æ“ä½œèƒ½è®©æœªå¤„ç†çš„å…ƒç´ æ•°å‡å°‘2ï¼Œä»è€Œä¿è¯æ€»æ“ä½œæ¬¡æ•°ä¸è¶…é™ã€‚ä½œè€…ç”¨`tot`è®°å½•å½“å‰æ•°ç»„é•¿åº¦ï¼Œ`pos`è®°å½•æœªå¤„ç†çš„èµ·å§‹ä½ç½®ï¼Œé€šè¿‡æš´åŠ›ç§»åŠ¨æ•°ç»„å…ƒç´ ï¼ˆ`a[j + sum] = a[j]`ï¼‰æ¨¡æ‹Ÿæ’å…¥æ“ä½œï¼Œè™½ç„¶ä»£ç æœ‰äº›ç¹çï¼Œä½†é€»è¾‘ä¸¥è°¨ã€‚å…¶äº®ç‚¹åœ¨äº**ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜äº†ç®—æ³•çš„æ­£ç¡®æ€§**ï¼Œè®©å­¦ä¹ è€…æ˜ç™½â€œä¸ºä»€ä¹ˆè¿™æ ·åšæ˜¯å¯¹çš„â€ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. **å…³é”®ç‚¹1ï¼šå¦‚ä½•åˆ¤æ–­æ— è§£ï¼Ÿ**  
* **åˆ†æ**ï¼š  
  è‹¥æ•°ç»„ä¸­å­˜åœ¨å…ƒç´ å‡ºç°å¥‡æ•°æ¬¡ï¼Œç›´æ¥è¾“å‡º`-1`ã€‚å› ä¸ºæ’å…¥æ“ä½œåªèƒ½å¢åŠ å¶æ•°ä¸ªå…ƒç´ ï¼Œæ— æ³•æ”¹å˜å…ƒç´ å‡ºç°æ¬¡æ•°çš„å¥‡å¶æ€§ï¼Œè€Œ tandem repeats è¦æ±‚æ¯ä¸ªå…ƒç´ å‡ºç°å¶æ•°æ¬¡ï¼ˆæ¯ä¸ªæ®µå†…å…ƒç´ æˆå¯¹å‡ºç°ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¥‡å¶æ€§åˆ¤æ–­æ˜¯â€œå‰ç½®æ¡ä»¶â€ï¼Œå…ˆåšè¿™ä¸ªå¯ä»¥é¿å…æ— ç”¨åŠŸã€‚


### 2. **å…³é”®ç‚¹2ï¼šå¦‚ä½•æ‰¾åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…å…ƒç´ ï¼Ÿ**  
* **åˆ†æ**ï¼š  
  å¯¹äºå½“å‰æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ `a[0]`ï¼Œéå†æ•°ç»„æ‰¾åˆ°ä¸‹ä¸€ä¸ªç›¸åŒçš„å…ƒç´ `a[j]`ï¼ˆ`j>0`ï¼‰ã€‚è¿™ä¸€æ­¥æ˜¯æ„é€ tandemæ®µçš„åŸºç¡€ï¼Œå› ä¸ºåªæœ‰æ‰¾åˆ°åŒ¹é…å…ƒç´ ï¼Œæ‰èƒ½æ’å…¥ä¸­é—´å…ƒç´ å½¢æˆå‰åä¸€è‡´çš„æ®µã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šéå†æ˜¯æœ€ç›´æ¥çš„æ–¹æ³•ï¼Œå¯¹äº`nâ‰¤500`çš„è§„æ¨¡ï¼Œå®Œå…¨å¯è¡Œã€‚


### 3. **å…³é”®ç‚¹3ï¼šå¦‚ä½•è®¡ç®—æ’å…¥ä½ç½®å’Œå…ƒç´ ï¼Ÿ**  
* **åˆ†æ**ï¼š  
  æ‰¾åˆ°`a[j]`åï¼Œéœ€è¦æ’å…¥`a[1]`åˆ°`a[j-1]`çš„æ‰€æœ‰å…ƒç´ ï¼ˆæˆå¯¹æ’å…¥ï¼‰ã€‚æ’å…¥ä½ç½®æ˜¯`fnt + 1 + t + j`ï¼ˆ`fnt`æ˜¯å‰é¢åˆ é™¤çš„å…ƒç´ æ•°ï¼Œ`t`æ˜¯æ’å…¥çš„æ¬¡æ•°ï¼‰ï¼Œæ’å…¥çš„å…ƒç´ æ˜¯`a[t+1]`ã€‚è¿™ä¸€æ­¥éœ€è¦ä»”ç»†è®¡ç®—ä½ç½®ï¼Œé¿å…æ’å…¥é”™è¯¯ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’å…¥ä½ç½®çš„è®¡ç®—è¦è€ƒè™‘å‰é¢åˆ é™¤çš„å…ƒç´ ï¼Œå¦åˆ™ä¼šåç§»ã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **å‰ç½®åˆ¤æ–­**ï¼šå…ˆæ£€æŸ¥å…ƒç´ å‡ºç°æ¬¡æ•°çš„å¥‡å¶æ€§ï¼Œé¿å…æ— ç”¨åŠŸã€‚  
- **åˆ†æ­¥å¤„ç†**ï¼šæ¯æ¬¡å¤„ç†ä¸€å¯¹å…ƒç´ ï¼Œé€’å½’å¤„ç†å‰©ä½™æ•°ç»„ï¼Œé™ä½é—®é¢˜å¤æ‚åº¦ã€‚  
- **æ¨¡æ‹Ÿæ“ä½œ**ï¼šç”¨`vector`çš„`erase`å’Œ`reverse`å‡½æ•°æ¨¡æ‹Ÿæ•°ç»„çš„å˜åŒ–ï¼Œç®€åŒ–ä»£ç ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆDarkBirdé¢˜è§£çš„æ€è·¯ï¼Œæä¾›ä¸€ä¸ªæ¸…æ™°çš„æ ¸å¿ƒå®ç°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <map>
  #include <algorithm>
  using namespace std;

  int main() {
      int T;
      cin >> T;
      while (T--) {
          int n;
          cin >> n;
          vector<int> v(n);
          map<int, int> cnt;
          for (int i = 0; i < n; ++i) {
              cin >> v[i];
              cnt[v[i]]++;
          }
          // å¥‡å¶æ€§åˆ¤æ–­
          bool possible = true;
          for (auto& p : cnt) {
              if (p.second % 2 != 0) {
                  possible = false;
                  break;
              }
          }
          if (!possible) {
              cout << "-1\n";
              continue;
          }
          // å¤„ç†æ“ä½œ
          vector<pair<int, int>> opr;
          vector<int> ans;
          int fnt = 0; // å‰é¢åˆ é™¤çš„å…ƒç´ æ•°
          while (!v.empty()) {
              int j = 1;
              while (j < v.size() && v[j] != v[0]) {
                  j++;
              }
              // æ’å…¥v[1..j-1]çš„å…ƒç´ 
              int len = j - 1;
              for (int t = 0; t < len; ++t) {
                  opr.emplace_back(fnt + 1 + t + j, v[t+1]);
              }
              // æ›´æ–°fntå’Œans
              fnt += 2 * len + 2;
              ans.push_back(2 * (j));
              // åˆ é™¤v[0]å’Œv[j]
              v.erase(v.begin() + j);
              v.erase(v.begin());
          }
          // è¾“å‡ºç»“æœ
          cout << opr.size() << "\n";
          for (auto& p : opr) {
              cout << p.first << " " << p.second << "\n";
          }
          cout << ans.size() << "\n";
          for (int x : ans) {
              cout << x << " ";
          }
          cout << "\n";
      }
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  ä»£ç åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šè¯»å–æµ‹è¯•ç”¨ä¾‹å’Œæ•°ç»„ï¼Œç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°ã€‚  
  2. **å¥‡å¶æ€§åˆ¤æ–­**ï¼šè‹¥å­˜åœ¨å¥‡æ•°æ¬¡å…ƒç´ ï¼Œè¾“å‡º`-1`ã€‚  
  3. **æ„é€ æ“ä½œ**ï¼šå¾ªç¯å¤„ç†æ•°ç»„ï¼Œæ‰¾åˆ°æ¯ä¸ª`v[0]`çš„åŒ¹é…å…ƒç´ ï¼Œæ’å…¥ä¸­é—´å…ƒç´ ï¼Œåˆ é™¤å·²å¤„ç†éƒ¨åˆ†ï¼Œè®°å½•æ“ä½œå’Œæ®µé•¿åº¦ã€‚  


### é¢˜è§£ä¸€ï¼ˆDarkBirdï¼‰æ ¸å¿ƒä»£ç ç‰‡æ®µèµæ  
* **äº®ç‚¹**ï¼šç”¨`vector`çš„`erase`å‡½æ•°ç›´æ¥åˆ é™¤å·²å¤„ç†çš„å…ƒç´ ï¼Œé€»è¾‘æ¸…æ™°ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  while (!v.empty()) {
      int j = 1;
      while (j < v.size() && v[j] != v[0]) {
          j++;
      }
      for (int t = 0; t < j-1; ++t) {
          opr.emplace_back(fnt + 1 + t + j, v[t+1]);
      }
      fnt += 2 * (j-1) + 2;
      ans.push_back(2 * j);
      v.erase(v.begin() + j);
      v.erase(v.begin());
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - å¾ªç¯å¤„ç†æ•°ç»„ï¼Œç›´åˆ°ä¸ºç©ºã€‚  
  - æ‰¾åˆ°`v[0]`çš„ä¸‹ä¸€ä¸ªåŒ¹é…å…ƒç´ `v[j]`ã€‚  
  - æ’å…¥`v[1]`åˆ°`v[j-1]`çš„å…ƒç´ ï¼Œè®°å½•æ“ä½œä½ç½®å’Œå…ƒç´ ã€‚  
  - æ›´æ–°`fnt`ï¼ˆå‰é¢åˆ é™¤çš„å…ƒç´ æ•°ï¼‰å’Œ`ans`ï¼ˆæ®µé•¿åº¦ï¼‰ã€‚  
  - åˆ é™¤`v[0]`å’Œ`v[j]`ï¼Œå¤„ç†å‰©ä½™æ•°ç»„ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`vector`çš„`erase`å‡½æ•°å¯ä»¥å¿«é€Ÿåˆ é™¤å…ƒç´ ï¼Œç®€åŒ–æ•°ç»„æ“ä½œã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šåƒç´ é˜Ÿä¼çš„â€œé…å¯¹æ¸¸æˆâ€  
**è®¾è®¡æ€è·¯**ï¼š  
ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºæ•°ç»„ï¼ˆæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå½©è‰²æ–¹å—ï¼Œæ¯”å¦‚çº¢è‰²ä»£è¡¨`1`ï¼Œè“è‰²ä»£è¡¨`2`ï¼‰ï¼Œæ¨¡æ‹Ÿæ’å…¥æ“ä½œè®©å…ƒç´ â€œé…å¯¹â€ã€‚åŠ å…¥å¤å¤æ¸¸æˆéŸ³æ•ˆï¼ˆå¦‚â€œå®â€è¡¨ç¤ºæ’å…¥æˆåŠŸï¼Œâ€œé€šå…³â€è¡¨ç¤ºä¸€æ®µå®Œæˆï¼‰ï¼Œå¢åŠ è¶£å‘³æ€§ã€‚


### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¾ç¤ºåƒç´ æ•°ç»„ï¼ˆæ¯”å¦‚`[1,3,1,2,2,3]`ï¼‰ï¼Œå³ä¾§æ˜¾ç¤ºæ§åˆ¶é¢æ¿ï¼ˆâ€œå¼€å§‹â€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼‰ã€‚  
   - èƒŒæ™¯éŸ³ä¹ï¼š8ä½é£æ ¼çš„è½»æ¾æ—‹å¾‹ï¼ˆå¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„èƒŒæ™¯éŸ³ï¼‰ã€‚  

2. **å¥‡å¶æ€§åˆ¤æ–­**ï¼š  
   - è‹¥å­˜åœ¨å¥‡æ•°æ¬¡å…ƒç´ ï¼Œå±å¹•æ˜¾ç¤ºâ€œæ— è§£â€ï¼Œä¼´éšâ€œé”™è¯¯â€éŸ³æ•ˆï¼ˆçŸ­ä¿ƒçš„â€œå“”â€å£°ï¼‰ã€‚  

3. **æ„é€ tandemæ®µ**ï¼š  
   - **é«˜äº®å½“å‰å…ƒç´ **ï¼šç”¨é»„è‰²è¾¹æ¡†æ ‡è®°`v[0]`ï¼ˆæ¯”å¦‚ç¬¬ä¸€ä¸ª`1`ï¼‰ï¼Œç”¨ç»¿è‰²è¾¹æ¡†æ ‡è®°ä¸‹ä¸€ä¸ªåŒ¹é…å…ƒç´ `v[j]`ï¼ˆæ¯”å¦‚ç¬¬ä¸‰ä¸ª`1`ï¼‰ã€‚  
   - **æ’å…¥æ“ä½œ**ï¼šåœ¨`v[j]`åæ’å…¥ä¸¤ä¸ª`v[1]`ï¼ˆæ¯”å¦‚`3`ï¼‰ï¼Œç”¨â€œé—ªçƒâ€åŠ¨ç”»è¡¨ç¤ºæ’å…¥ï¼ˆåƒç´ å—ä»é€æ˜å˜ä¸ºå½©è‰²ï¼‰ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆã€‚  
   - **å½¢æˆæ®µ**ï¼šæ’å…¥å®Œæˆåï¼Œ`v[0]`åˆ°`v[j]`ä¸æ’å…¥çš„å…ƒç´ å½¢æˆä¸€ä¸ª tandem æ®µï¼ˆç”¨ç´«è‰²è¾¹æ¡†æ ‡è®°ï¼‰ï¼Œç„¶åâ€œæ¶ˆå¤±â€ï¼ˆè¡¨ç¤ºåˆ é™¤ï¼‰ï¼Œå‰©ä½™æ•°ç»„ç§»åˆ°å·¦ä¾§ã€‚  

4. **é€šå…³æç¤º**ï¼š  
   - å½“æ‰€æœ‰å…ƒç´ éƒ½å¤„ç†å®Œæ¯•ï¼Œå±å¹•æ˜¾ç¤ºâ€œé€šå…³ï¼â€ï¼Œä¼´éšâ€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆä¸Šæ‰¬çš„â€œå®â€å£°ï¼‰ï¼Œå¹¶å±•ç¤ºæ‰€æœ‰æ®µé•¿åº¦ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
- **æ“ä½œæ„é€ **ï¼šæœ¬é¢˜çš„â€œæ’å…¥æˆå¯¹å…ƒç´ â€æ€è·¯å¯ä»¥è¿ç§»åˆ°â€œæ„é€ ç‰¹å®šç»“æ„çš„æ•°ç»„â€é—®é¢˜ï¼ˆå¦‚æ„é€ å›æ–‡æ•°ç»„ã€æ„é€ æ’åºæ•°ç»„ï¼‰ã€‚  
- **å¥‡å¶æ€§åˆ¤æ–­**ï¼šè®¸å¤šé—®é¢˜ï¼ˆå¦‚äºŒåˆ†å›¾åˆ¤æ–­ã€é…å¯¹é—®é¢˜ï¼‰éƒ½éœ€è¦å…ˆåˆ¤æ–­å¥‡å¶æ€§ã€‚  
- **æ¨¡æ‹Ÿæ“ä½œ**ï¼šå¯¹äºâ€œå…è®¸æ’å…¥/åˆ é™¤æ“ä½œâ€çš„é—®é¢˜ï¼Œæ¨¡æ‹Ÿæ˜¯æœ€ç›´æ¥çš„è§£å†³æ–¹æ³•ã€‚  


### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P1115** - æœ€å¤§å­æ®µå’Œ  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»ƒä¹ â€œåˆ†æ­¥å¤„ç†â€çš„æ€è·¯ï¼Œå°†é—®é¢˜æ‹†è§£ä¸ºâ€œå¤„ç†æ¯ä¸ªå…ƒç´ â†’æ›´æ–°æœ€å¤§å€¼â€ã€‚  
2. **æ´›è°· P1226** - å¿«é€Ÿå¹‚æ¨¡æ¿  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»ƒä¹ â€œé€’å½’å¤„ç†â€çš„æ€è·¯ï¼Œå°†å¤§é—®é¢˜æ‹†è§£ä¸ºå°é—®é¢˜ã€‚  
3. **æ´›è°· P1428** - å°é±¼æ¯”å¯çˆ±  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»ƒä¹ â€œéå†æ‰¾åŒ¹é…â€çš„æ€è·¯ï¼Œç±»ä¼¼æœ¬é¢˜ä¸­â€œæ‰¾ä¸‹ä¸€ä¸ªç›¸åŒå…ƒç´ â€ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)  
**å‚è€ƒç»éªŒ (æ¥è‡ªDarkBird)**ï¼šâ€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆæƒ³ä¼˜åŒ–æ’å…¥æ“ä½œçš„æ¬¡æ•°ï¼Œä½†åæ¥å‘ç°â€˜æš´åŠ›æ„é€ â€™å·²ç»æ»¡è¶³é¢˜ç›®è¦æ±‚ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œå¯¹äºæŸäº›é—®é¢˜ï¼Œâ€˜ç®€å•ç›´æ¥â€™æ¯”â€˜å¤æ‚ä¼˜åŒ–â€™æ›´æœ‰æ•ˆã€‚â€  
**ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå®ç”¨ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œä¸è¦è¿‡åº¦è¿½æ±‚ä¼˜åŒ–ï¼Œå…ˆå®ç°â€œèƒ½å·¥ä½œçš„ä»£ç â€ï¼Œå†è€ƒè™‘ä¼˜åŒ–ã€‚å¯¹äºæœ¬é¢˜æ¥è¯´ï¼Œâ€œæš´åŠ›æ„é€ â€å·²ç»è¶³å¤Ÿé«˜æ•ˆï¼Œå› ä¸º`nâ‰¤500`ï¼Œ`nÂ²`åªæœ‰250000ï¼Œå®Œå…¨åœ¨æ—¶é—´é™åˆ¶å†…ã€‚  


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œRepetitions Decodingâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶ç†è§£â€œæ¨¡æ‹Ÿä¸æ„é€ â€çš„æ ¸å¿ƒæ€è·¯ï¼ŒæŒæ¡â€œåˆ†æ­¥å¤„ç†â€â€œå¥‡å¶æ€§åˆ¤æ–­â€ç­‰æŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹çš„å…³é”®æ˜¯â€œæŠŠé—®é¢˜æ‹†å°ï¼Œä¸€æ­¥æ­¥è§£å†³â€â€”â€”å°±åƒç»™é˜Ÿä¼é…å¯¹ä¸€æ ·ï¼Œåªè¦è€å¿ƒå¤„ç†æ¯ä¸€å¯¹ï¼Œæœ€ç»ˆå°±èƒ½å®Œæˆä»»åŠ¡ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š145.34ç§’
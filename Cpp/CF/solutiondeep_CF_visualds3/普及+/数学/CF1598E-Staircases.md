# é¢˜ç›®ä¿¡æ¯

# Staircases

## é¢˜ç›®æè¿°

You are given a matrix, consisting of $ n $ rows and $ m $ columns. The rows are numbered top to bottom, the columns are numbered left to right.

Each cell of the matrix can be either free or locked.

Let's call a path in the matrix a staircase if it:

- starts and ends in the free cell;
- visits only free cells;
- has one of the two following structures: 
  1. the second cell is $ 1 $ to the right from the first one, the third cell is $ 1 $ to the bottom from the second one, the fourth cell is $ 1 $ to the right from the third one, and so on;
  2. the second cell is $ 1 $ to the bottom from the first one, the third cell is $ 1 $ to the right from the second one, the fourth cell is $ 1 $ to the bottom from the third one, and so on.

In particular, a path, consisting of a single cell, is considered to be a staircase.

Here are some examples of staircases:

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1598E/30e6b70a090f9657a06b957e8113944b3c2b16f3.png)Initially all the cells of the matrix are free.

You have to process $ q $ queries, each of them flips the state of a single cell. So, if a cell is currently free, it makes it locked, and if a cell is currently locked, it makes it free.

Print the number of different staircases after each query. Two staircases are considered different if there exists such a cell that appears in one path and doesn't appear in the other path.

## æ ·ä¾‹ #1

### è¾“å…¥

```
2 2 8
1 1
1 1
1 1
2 2
1 1
1 2
2 1
1 1```

### è¾“å‡º

```
5
10
5
2
5
3
1
0```

## æ ·ä¾‹ #2

### è¾“å…¥

```
3 4 10
1 4
1 2
2 3
1 2
2 3
3 2
1 3
3 4
1 3
3 1```

### è¾“å‡º

```
49
35
24
29
49
39
31
23
29
27```

## æ ·ä¾‹ #3

### è¾“å…¥

```
1000 1000 2
239 634
239 634```

### è¾“å‡º

```
1332632508
1333333000```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šStaircases æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šåŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰+ æš´åŠ›ä¿®æ”¹ä¼˜åŒ–

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³ã€ŒStaircasesã€çš„å…³é”®åœ¨äºç”¨**åŠ¨æ€è§„åˆ’**ç»Ÿè®¡æ‰€æœ‰å¯èƒ½çš„é˜¶æ¢¯è·¯å¾„ï¼Œå¹¶é«˜æ•ˆå¤„ç†ä¿®æ”¹æ“ä½œã€‚ç®€å•æ¥è¯´ï¼ŒåŠ¨æ€è§„åˆ’å°±åƒâ€œæ­ç§¯æœ¨â€â€”â€”æˆ‘ä»¬é€šè¿‡**å°é—®é¢˜çš„è§£æ¨å¯¼å‡ºå¤§é—®é¢˜çš„è§£**ã€‚æœ¬é¢˜ä¸­ï¼Œé˜¶æ¢¯çš„â€œäº¤æ›¿æ–¹å‘â€ç‰¹æ€§æ­£å¥½ç¬¦åˆDPçš„â€œçŠ¶æ€è½¬ç§»â€é€»è¾‘ï¼š  

- é˜¶æ¢¯æœ‰ä¸¤ç§èµ·å§‹æ–¹å‘ï¼š**å…ˆå³åä¸‹**ï¼ˆè®°ä¸ºçŠ¶æ€0ï¼‰æˆ–**å…ˆä¸‹åå³**ï¼ˆè®°ä¸ºçŠ¶æ€1ï¼‰ã€‚  
- æˆ‘ä»¬å®šä¹‰ `f[i][j][k]`ï¼ˆk=0/1ï¼‰è¡¨ç¤º**ä»¥(i,j)ä¸ºèµ·ç‚¹**ï¼ŒæŒ‰æ–¹å‘kå»¶ä¼¸çš„é˜¶æ¢¯æ•°é‡ï¼ˆåŒ…æ‹¬è‡ªèº«ï¼‰ã€‚  
- è½¬ç§»æ–¹ç¨‹ï¼š  
  - è‹¥å…ˆå³åä¸‹ï¼ˆk=0ï¼‰ï¼Œä¸‹ä¸€æ­¥å¿…é¡»å‘ä¸‹ï¼Œå› æ­¤ `f[i][j][0] = f[i][j+1][1] + 1`ï¼ˆ+1æ˜¯ç®—ä¸Šè‡ªèº«ï¼‰ï¼›  
  - è‹¥å…ˆä¸‹åå³ï¼ˆk=1ï¼‰ï¼Œä¸‹ä¸€æ­¥å¿…é¡»å‘å³ï¼Œå› æ­¤ `f[i][j][1] = f[i+1][j][0] + 1`ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼š  
1. å¦‚ä½•é¿å…é‡å¤ç»Ÿè®¡å•ä¸ªæ ¼å­ï¼ˆæ¯ä¸ªæ ¼å­ä¼šè¢«ä¸¤ç§çŠ¶æ€å„ç®—ä¸€æ¬¡ï¼Œéœ€å‡1å»é‡ï¼‰ï¼›  
2. ä¿®æ”¹ä¸€ä¸ªæ ¼å­æ—¶ï¼Œå¦‚ä½•å¿«é€Ÿæ›´æ–°å—å½±å“çš„DPçŠ¶æ€ï¼ˆä¿®æ”¹åªä¼šå½±å“å·¦ä¸Šæ–¹O(n)ä¸ªæ ¼å­ï¼Œæš´åŠ›æ›´æ–°å³å¯ï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä»¬ç”¨**8ä½åƒç´ é£**å±•ç¤ºçŸ©é˜µï¼Œæ¯ä¸ªæ ¼å­çš„`f[i][j][0]`å’Œ`f[i][1]`å€¼ç”¨ä¸åŒé¢œè‰²æ·±æµ…è¡¨ç¤ºã€‚ä¿®æ”¹æ—¶ï¼š  
- é«˜äº®è¢«ä¿®æ”¹çš„æ ¼å­ï¼ˆçº¢è‰²é—ªçƒï¼‰ï¼›  
- é€æ­¥å±•ç¤ºå—å½±å“çš„å·¦ä¸Šæ–¹æ ¼å­çš„çŠ¶æ€å˜åŒ–ï¼ˆå¦‚ä»ç»¿è‰²å˜ä¸ºç°è‰²ï¼Œè¡¨ç¤ºå€¼å‡å°‘ï¼‰ï¼›  
- ç”¨â€œå®â€çš„éŸ³æ•ˆæç¤ºçŠ¶æ€æ›´æ–°ï¼Œâ€œå—¡â€çš„éŸ³æ•ˆæç¤ºä¿®æ”¹å®Œæˆã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼špythoner713ï¼ˆæ€è·¯æ¸…æ™°ï¼ŒçŠ¶æ€å®šä¹‰ç®€æ´ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ ¸å¿ƒè´¡çŒ®æ˜¯**ç²¾å‡†çš„çŠ¶æ€å®šä¹‰**â€”â€”ç”¨`f(i,j)`å’Œ`g(i,j)`åˆ†åˆ«è¡¨ç¤ºä¸¤ç§èµ·å§‹æ–¹å‘çš„é˜¶æ¢¯æ•°ï¼Œç›´æ¥å¯¹åº”é¢˜ç›®ä¸­çš„ä¸¤ç§é˜¶æ¢¯ç»“æ„ã€‚è½¬ç§»æ–¹ç¨‹`f(i,j)=g(i,j+1)+1`å’Œ`g(i,j)=f(i+1,j)+1`å®Œç¾ä½“ç°äº†â€œäº¤æ›¿æ–¹å‘â€çš„è¦æ±‚ã€‚ä¿®æ”¹æ—¶ï¼Œä½œè€…æŒ‡å‡ºåªéœ€æš´åŠ›æ›´æ–°å·¦ä¸Šæ–¹O(n)ä¸ªæ ¼å­ï¼Œæ—¶é—´å¤æ‚åº¦`O(qn)`å®Œå…¨å¯è¡Œã€‚å”¯ä¸€å°é—æ†¾æ˜¯ä»£ç è¾ƒä¹±ï¼Œä½†æ€è·¯çš„ç®€æ´æ€§è¶³ä»¥æ©ç›–è¿™ç‚¹ã€‚

### é¢˜è§£äºŒï¼šKSTokiï¼ˆä»£ç è§„èŒƒï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼‰  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£çš„`f[i][j][0/1]`çŠ¶æ€å®šä¹‰ä¸ºâ€œä»¥(i,j)ç»“æŸçš„é˜¶æ¢¯æ•°â€ï¼Œè½¬ç§»é€»è¾‘ä¸é¢˜è§£ä¸€ä¸€è‡´ï¼Œä½†ä»£ç ç»“æ„æ›´è§„èŒƒã€‚ä½œè€…ç‰¹åˆ«æåˆ°â€œå•ä¸ªæ ¼å­éœ€å‡é‡å¤ç»Ÿè®¡â€ï¼Œå¹¶åœ¨ä¿®æ”¹æ—¶è¯¦ç»†å¤„ç†äº†è¾¹ç•Œæƒ…å†µï¼ˆå¦‚`y+1<=m`çš„åˆ¤æ–­ï¼‰ï¼Œé¿å…æ•°ç»„è¶Šç•Œã€‚ä»£ç ä¸­çš„`putll(ans-cnt)`ç›´æ¥å¯¹åº”ç­”æ¡ˆå…¬å¼ï¼Œå¯è¯»æ€§å¾ˆé«˜ã€‚

### é¢˜è§£ä¸‰ï¼šDtw_ï¼ˆDFSæš´åŠ›ä¿®æ”¹ï¼Œä»£ç ç®€æ´ï¼‰  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£çš„äº®ç‚¹æ˜¯**ç”¨DFSæš´åŠ›æ›´æ–°å—å½±å“çš„é˜¶æ¢¯**ã€‚å½“ä¿®æ”¹ä¸€ä¸ªæ ¼å­æ—¶ï¼Œé€šè¿‡DFSé€’å½’æ›´æ–°å…¶å³ä¾§å’Œä¸‹ä¾§çš„æ ¼å­ï¼ˆå› ä¸ºè¿™äº›æ ¼å­çš„çŠ¶æ€ä¾èµ–äºå½“å‰æ ¼å­ï¼‰ã€‚ä»£ç ä¸­çš„`dfs`å‡½æ•°é€»è¾‘æ¸…æ™°ï¼šå…ˆå‡å»æ—§å€¼ï¼Œæ›´æ–°çŠ¶æ€ï¼Œå†åŠ å›æ–°å€¼ï¼Œå®Œç¾å®ç°äº†çŠ¶æ€çš„åŠ¨æ€è°ƒæ•´ã€‚æ•´ä½“ä»£ç ä¸åˆ°50è¡Œï¼Œç®€æ´æ€§è¿œè¶…å…¶ä»–é¢˜è§£ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. å…³é”®ç‚¹1ï¼šå¦‚ä½•æ­£ç¡®å®šä¹‰DPçŠ¶æ€ï¼Ÿ  
* **åˆ†æ**ï¼šçŠ¶æ€å®šä¹‰æ˜¯DPçš„æ ¸å¿ƒã€‚æœ¬é¢˜çš„é˜¶æ¢¯æœ‰â€œäº¤æ›¿æ–¹å‘â€çš„è¦æ±‚ï¼Œå› æ­¤çŠ¶æ€å¿…é¡»åŒ…å«**èµ·å§‹æ–¹å‘**ï¼ˆå…ˆå³æˆ–å…ˆä¸‹ï¼‰ã€‚ä¾‹å¦‚`f[i][j][0]`è¡¨ç¤ºâ€œä»(i,j)å‡ºå‘ï¼Œå…ˆå³åä¸‹çš„é˜¶æ¢¯æ•°â€ï¼Œè¿™æ ·è½¬ç§»æ—¶æ‰èƒ½æ˜ç¡®ä¸‹ä¸€æ­¥çš„æ–¹å‘ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŠ¶æ€å®šä¹‰è¦â€œè´´åˆé—®é¢˜ç‰¹æ€§â€â€”â€”æœ¬é¢˜çš„â€œäº¤æ›¿æ–¹å‘â€å†³å®šäº†çŠ¶æ€éœ€è¦åŒ…å«æ–¹å‘ä¿¡æ¯ã€‚

### 2. å…³é”®ç‚¹2ï¼šä¿®æ”¹æ“ä½œå¦‚ä½•å½±å“DPçŠ¶æ€ï¼Ÿ  
* **åˆ†æ**ï¼šä¿®æ”¹ä¸€ä¸ªæ ¼å­ï¼ˆi,jï¼‰ä¼šå½±å“æ‰€æœ‰**ä»¥(i,j)ä¸ºè·¯å¾„ä¸­é—´ç‚¹**çš„é˜¶æ¢¯ã€‚ç”±äºé˜¶æ¢¯æ˜¯â€œäº¤æ›¿æ–¹å‘â€å»¶ä¼¸çš„ï¼Œå—å½±å“çš„æ ¼å­åªä¼šæ˜¯ï¼ˆi,jï¼‰çš„**å·¦ä¸Šæ–¹æ–œçº¿**ï¼ˆå¦‚(i-1,j), (i,j-1), (i-1,j-1)ç­‰ï¼‰ã€‚å› æ­¤åªéœ€æš´åŠ›éå†è¿™äº›æ ¼å­ï¼Œé‡æ–°è®¡ç®—å®ƒä»¬çš„DPå€¼å³å¯ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šä¿®æ”¹çš„å½±å“èŒƒå›´å¾€å¾€ä¸â€œçŠ¶æ€ä¾èµ–å…³ç³»â€ç›¸å…³â€”â€”æœ¬é¢˜çš„çŠ¶æ€ä¾èµ–å³ä¾§æˆ–ä¸‹ä¾§çš„æ ¼å­ï¼Œå› æ­¤ä¿®æ”¹çš„å½±å“å‘å·¦ä¸Šæ–¹ä¼ é€’ã€‚

### 3. å…³é”®ç‚¹3ï¼šå¦‚ä½•é¿å…é‡å¤ç»Ÿè®¡å•ä¸ªæ ¼å­ï¼Ÿ  
* **åˆ†æ**ï¼šæ¯ä¸ªå•ä¸ªæ ¼å­ä¼šè¢«ä¸¤ç§çŠ¶æ€ï¼ˆå…ˆå³ã€å…ˆä¸‹ï¼‰å„ç»Ÿè®¡ä¸€æ¬¡ï¼Œå› æ­¤æ€»ç­”æ¡ˆéœ€è¦å‡å»è‡ªç”±æ ¼å­çš„æ•°é‡ï¼ˆ`ans = sum(f+g) - cnt`ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè‡ªç”±æ ¼å­çš„`f=1`ã€`g=1`ï¼Œæ€»å’Œæ˜¯2ï¼Œå‡1åæ‰æ˜¯æ­£ç¡®çš„1ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç»Ÿè®¡æ—¶è¦æ³¨æ„â€œé‡å æƒ…å†µâ€â€”â€”å½“åŒä¸€ä¸ªå…ƒç´ è¢«å¤šä¸ªçŠ¶æ€è¦†ç›–æ—¶ï¼Œéœ€å»é‡ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆDtw_çš„ç®€æ´æ€è·¯ä¸KSTokiçš„è§„èŒƒä»£ç ï¼Œæç‚¼å‡ºæœ€æ˜“ç†è§£çš„æ ¸å¿ƒå®ç°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
```cpp
#include <iostream>
#include <vector>
using namespace std;

const int N = 1005;
int n, m, q;
long long res, cnt;
long long f[N][N][2]; // f[i][j][0]:å…ˆå³åä¸‹, f[i][j][1]:å…ˆä¸‹åå³
bool a[N][N];         // 1è¡¨ç¤ºè‡ªç”±ï¼Œ0è¡¨ç¤ºé”å®š

void dfs(int x, int y, int c, int k) {
    if (x < 1 || x > n || y < 1 || y > m) return;
    if (!a[x][y]) return;
    res -= f[x][y][k];          // å‡å»æ—§å€¼
    f[x][y][k] -= c;            // æ›´æ–°çŠ¶æ€ï¼ˆcæ˜¯å˜åŒ–é‡ï¼‰
    res += f[x][y][k];          // åŠ å›æ–°å€¼
    if (k) dfs(x + 1, y, c, 0); // k=1ï¼ˆå…ˆä¸‹åå³ï¼‰ï¼Œä¸‹ä¸€æ­¥å‘ä¸‹ï¼ˆçŠ¶æ€0ï¼‰
    else dfs(x, y + 1, c, 1);   // k=0ï¼ˆå…ˆå³åä¸‹ï¼‰ï¼Œä¸‹ä¸€æ­¥å‘å³ï¼ˆçŠ¶æ€1ï¼‰
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(0); cout.tie(0);
    cin >> n >> m >> q;
    // åˆå§‹åŒ–ï¼šæ‰€æœ‰æ ¼å­éƒ½æ˜¯è‡ªç”±çš„
    for (int i = 1; i <= n; ++i) {
        for (int j = 1; j <= m; ++j) {
            a[i][j] = 1;
            f[i][j][0] = f[i][j+1][1] + 1;
            f[i][j][1] = f[i+1][j][0] + 1;
            res += f[i][j][0] + f[i][j][1];
            cnt++;
        }
    }
    // å¤„ç†æŸ¥è¯¢
    while (q--) {
        int x, y;
        cin >> x >> y;
        if (a[x][y]) { // è‡ªç”±â†’é”å®š
            cnt--;
            res -= f[x][y][0] + f[x][y][1];
            dfs(x, y + 1, f[x][y][0], 1); // æ›´æ–°å³ä¾§æ ¼å­ï¼ˆçŠ¶æ€1ï¼‰
            dfs(x + 1, y, f[x][y][1], 0); // æ›´æ–°ä¸‹ä¾§æ ¼å­ï¼ˆçŠ¶æ€0ï¼‰
            f[x][y][0] = f[x][y][1] = 0;  // é”å®šåçŠ¶æ€ä¸º0
        } else { // é”å®šâ†’è‡ªç”±
            cnt++;
            f[x][y][0] = f[x][y+1][1] + 1;
            f[x][y][1] = f[x+1][j][0] + 1;
            res += f[x][y][0] + f[x][y][1];
            dfs(x, y + 1, -f[x][y][0], 1); // åå‘æ›´æ–°
            dfs(x + 1, y, -f[x][y][1], 0);
        }
        a[x][y] ^= 1; // ç¿»è½¬çŠ¶æ€
        cout << res - cnt << endl; // å»é‡åçš„ç­”æ¡ˆ
    }
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **åˆå§‹åŒ–**ï¼šè®¡ç®—æ‰€æœ‰æ ¼å­çš„åˆå§‹DPå€¼ï¼Œ`res`ç»Ÿè®¡æ‰€æœ‰çŠ¶æ€çš„å’Œï¼Œ`cnt`ç»Ÿè®¡è‡ªç”±æ ¼å­æ•°é‡ã€‚  
  2. **ä¿®æ”¹å¤„ç†**ï¼š  
     - è‡ªç”±â†’é”å®šï¼šå‡å»å½“å‰æ ¼å­çš„çŠ¶æ€å€¼ï¼Œç”¨DFSæ›´æ–°å³ä¾§å’Œä¸‹ä¾§çš„æ ¼å­ï¼Œå°†å½“å‰æ ¼å­çŠ¶æ€ç½®0ã€‚  
     - é”å®šâ†’è‡ªç”±ï¼šé‡æ–°è®¡ç®—å½“å‰æ ¼å­çš„çŠ¶æ€å€¼ï¼Œåå‘æ›´æ–°å³ä¾§å’Œä¸‹ä¾§çš„æ ¼å­ã€‚  
  3. **è¾“å‡ºç­”æ¡ˆ**ï¼š`res - cnt`å»é™¤å•ä¸ªæ ¼å­çš„é‡å¤ç»Ÿè®¡ã€‚


### é¢˜è§£ä¸‰ï¼ˆDtw_ï¼‰æ ¸å¿ƒç‰‡æ®µèµæ  
* **äº®ç‚¹**ï¼šç”¨DFSæš´åŠ›æ›´æ–°å—å½±å“çš„æ ¼å­ï¼Œä»£ç ç®€æ´é«˜æ•ˆã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
void dfs(int x, int y, int c, int k) {
    if (x < 1 || x > n || y < 1 || y > m) return;
    if (!a[x][y]) return;
    res -= f[x][y][k];
    f[x][y][k] -= c;
    res += f[x][y][k];
    if (k) dfs(x + 1, y, c, 0);
    else dfs(x, y + 1, c, 1);
}
```
* **ä»£ç è§£è¯»**ï¼š  
  - `c`æ˜¯å½“å‰æ ¼å­çŠ¶æ€çš„å˜åŒ–é‡ï¼ˆæ¯”å¦‚è‡ªç”±â†’é”å®šæ—¶ï¼Œ`c`æ˜¯`f[x][y][k]`çš„æ—§å€¼ï¼‰ã€‚  
  - å…ˆå‡å»æ—§çš„`f[x][y][k]`å€¼ï¼Œæ›´æ–°çŠ¶æ€åå†åŠ å›æ–°å€¼ï¼Œä¿è¯`res`çš„æ­£ç¡®æ€§ã€‚  
  - æ ¹æ®å½“å‰çŠ¶æ€`k`ï¼Œé€’å½’æ›´æ–°ä¸‹ä¸€æ­¥çš„æ ¼å­ï¼ˆ`k=1`å‘ä¸‹ï¼Œ`k=0`å‘å³ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šDFSæ˜¯å¤„ç†â€œé“¾å¼ä¾èµ–â€çš„æœ‰æ•ˆæ–¹æ³•â€”â€”æœ¬é¢˜çš„çŠ¶æ€ä¾èµ–å³ä¾§æˆ–ä¸‹ä¾§çš„æ ¼å­ï¼ŒDFSèƒ½å¿«é€Ÿéå†æ‰€æœ‰å—å½±å“çš„èŠ‚ç‚¹ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜  
**åƒç´ æ¢é™©å®¶çš„é˜¶æ¢¯ä¹‹æ—…**ï¼šç”¨FCçº¢ç™½æœºé£æ ¼çš„åƒç´ ç”»å±•ç¤ºçŸ©é˜µï¼Œæ¢é™©å®¶ï¼ˆåƒç´ å°äººï¼‰ä»èµ·ç‚¹å‡ºå‘ï¼ŒæŒ‰äº¤æ›¿æ–¹å‘æ¢ç´¢é˜¶æ¢¯ï¼Œä¿®æ”¹æ ¼å­æ—¶è§¦å‘çŠ¶æ€å˜åŒ–ã€‚

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - 8ä½åƒç´ é£çŸ©é˜µï¼šç”¨æµ…ç»¿è‰²è¡¨ç¤ºè‡ªç”±æ ¼å­ï¼Œæ·±ç°è‰²è¡¨ç¤ºé”å®šæ ¼å­ï¼Œæ¯ä¸ªæ ¼å­æ˜¾ç¤º`f[i][j][0]`å’Œ`f[i][j][1]`çš„å€¼ï¼ˆç™½è‰²æ•°å­—ï¼‰ã€‚  
   - æ§åˆ¶é¢æ¿ï¼šåŒ…å«â€œå•æ­¥æ‰§è¡Œâ€â€œè‡ªåŠ¨æ’­æ”¾â€â€œé‡ç½®â€æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼ˆ1x~5xï¼‰ã€‚  
   - èƒŒæ™¯éŸ³ä¹ï¼šå¾ªç¯æ’­æ”¾ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„8ä½èƒŒæ™¯éŸ³ä¹ã€‚

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - åˆå§‹æ—¶æ‰€æœ‰æ ¼å­æ˜¯æµ…ç»¿è‰²ï¼Œæ¢é™©å®¶ç«™åœ¨(1,1)æ ¼å­ï¼Œæ—è¾¹æ˜¾ç¤ºâ€œèµ·å§‹æ–¹å‘ï¼šå³â†’ä¸‹â€ã€‚  
   - ç‚¹å‡»â€œè‡ªåŠ¨æ’­æ”¾â€ï¼Œæ¢é™©å®¶æŒ‰äº¤æ›¿æ–¹å‘ç§»åŠ¨ï¼Œè·¯è¿‡çš„æ ¼å­å˜æˆé»„è‰²ï¼Œæ˜¾ç¤ºå½“å‰`f`å€¼çš„å˜åŒ–ï¼ˆå¦‚ä»1â†’3ï¼‰ã€‚

3. **ä¿®æ”¹æ“ä½œæ¼”ç¤º**ï¼š  
   - ç‚¹å‡»æ ¼å­(2,2)ï¼ˆè‡ªç”±â†’é”å®šï¼‰ï¼šè¯¥æ ¼å­é—ªçƒçº¢è‰²ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆã€‚  
   - å—å½±å“çš„æ ¼å­ï¼ˆå¦‚(1,2)ã€(2,1)ã€(1,1)ï¼‰ä¾æ¬¡é—ªçƒè“è‰²ï¼Œæ˜¾ç¤º`f`å€¼çš„å‡å°‘ï¼ˆå¦‚ä»3â†’1ï¼‰ã€‚  
   - ä¿®æ”¹å®Œæˆåï¼Œé”å®šçš„æ ¼å­å˜æˆæ·±ç°è‰²ï¼Œæ¢é™©å®¶æ— æ³•è¿›å…¥ã€‚

4. **ç›®æ ‡è¾¾æˆ**ï¼š  
   - å½“è®¡ç®—å®Œæ‰€æœ‰çŠ¶æ€ï¼Œå±å¹•æ˜¾ç¤ºâ€œæ€»é˜¶æ¢¯æ•°ï¼šXâ€ï¼Œä¼´éšä¸Šæ‰¬çš„â€œèƒœåˆ©â€éŸ³æ•ˆï¼Œæ¢é™©å®¶è·³èµ·æ¥åº†ç¥ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»  
æœ¬é¢˜çš„**äº¤æ›¿æ–¹å‘DP**æ€è·¯å¯ç”¨äºï¼š  
1. **ç½‘æ ¼ä¸­çš„è·¯å¾„è®¡æ•°**ï¼ˆå¦‚ç»Ÿè®¡æœ‰å¤šå°‘æ¡è·¯å¾„ä»å·¦ä¸Šåˆ°å³ä¸‹ï¼Œåªèƒ½å³æˆ–ä¸‹èµ°ï¼‰ï¼›  
2. **äº¤æ›¿åºåˆ—é—®é¢˜**ï¼ˆå¦‚ç»Ÿè®¡é•¿åº¦ä¸ºnçš„01åºåˆ—ï¼Œè¦æ±‚0å’Œ1äº¤æ›¿å‡ºç°ï¼‰ï¼›  
3. **äºŒç»´å‰ç¼€å’Œ**ï¼ˆå¦‚è®¡ç®—çŸ©å½¢åŒºåŸŸå†…çš„äº¤æ›¿å’Œï¼‰ã€‚

### æ´›è°·ç»ƒä¹ æ¨è  
1. **æ´›è°· P1002 è¿‡æ²³å’**  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯ç½‘æ ¼è·¯å¾„è®¡æ•°çš„ç»å…¸é¢˜ï¼Œè¦æ±‚ç»Ÿè®¡ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„æ•°ï¼Œåªèƒ½å³æˆ–ä¸‹èµ°ã€‚å¯ä»¥å·©å›ºâ€œçŠ¶æ€è½¬ç§»â€çš„æ€è·¯ã€‚  
2. **æ´›è°· P1028 æ•°çš„è®¡ç®—**  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜è¦æ±‚ç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„æ•°çš„ä¸ªæ•°ï¼ŒçŠ¶æ€è½¬ç§»é€»è¾‘ä¸æœ¬é¢˜ç±»ä¼¼ï¼ˆæ¯ä¸ªæ•°çš„è§£ä¾èµ–äºæ›´å°çš„æ•°ï¼‰ã€‚  
3. **æ´›è°· P1164 å°Aç‚¹èœ**  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯èƒŒåŒ…é—®é¢˜çš„å˜ç§ï¼Œè¦æ±‚ç»Ÿè®¡æ°å¥½èŠ±å®Œé’±çš„ç‚¹èœæ–¹å¼æ•°ã€‚å¯ä»¥ç»ƒä¹ â€œçŠ¶æ€å®šä¹‰â€å’Œâ€œè½¬ç§»æ–¹ç¨‹â€çš„è®¾è®¡ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

> **å‚è€ƒç»éªŒ (æ¥è‡ª Dtw_)**ï¼šâ€œæˆ‘åœ¨å†™DFSçš„æ—¶å€™ï¼Œä¸€å¼€å§‹æ²¡è€ƒè™‘åˆ°`res`çš„åŠ å‡é¡ºåºï¼Œå¯¼è‡´ç­”æ¡ˆé”™è¯¯ã€‚åæ¥é€šè¿‡æ‰“å°ä¸­é—´å˜é‡ï¼Œå‘ç°æ˜¯å…ˆå‡æ—§å€¼å†åŠ æ–°å€¼çš„é¡ºåºé”™äº†ã€‚â€  
> **ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„è°ƒè¯•ç»éªŒå¾ˆå®ç”¨ã€‚å½“ä¿®æ”¹çŠ¶æ€å€¼æ—¶ï¼Œä¸€å®šè¦å…ˆå‡å»æ—§å€¼ï¼Œå†æ›´æ–°çŠ¶æ€ï¼Œæœ€ååŠ å›æ–°å€¼â€”â€”å¦åˆ™ä¼šå¯¼è‡´`res`ç»Ÿè®¡é”™è¯¯ã€‚æ‰“å°ä¸­é—´å˜é‡æ˜¯å®šä½è¿™ç±»é—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•ã€‚


## æ€»ç»“  
æœ¬æ¬¡åˆ†æçš„ã€ŒStaircasesã€é¢˜ï¼Œæ ¸å¿ƒæ˜¯**åŠ¨æ€è§„åˆ’çš„çŠ¶æ€å®šä¹‰**å’Œ**ä¿®æ”¹æ“ä½œçš„æš´åŠ›ä¼˜åŒ–**ã€‚é€šè¿‡ç†è§£â€œäº¤æ›¿æ–¹å‘â€çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬èƒ½è®¾è®¡å‡ºç²¾å‡†çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼›é€šè¿‡åˆ†æä¿®æ”¹çš„å½±å“èŒƒå›´ï¼Œæˆ‘ä»¬èƒ½é«˜æ•ˆæ›´æ–°DPæ•°ç»„ã€‚å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®åŠ©ä½ æŒæ¡åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒæ€è·¯ï¼Œä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜æ—¶èƒ½ä¸¾ä¸€åä¸‰ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š116.32ç§’
# é¢˜ç›®ä¿¡æ¯

# Meta-set

## é¢˜ç›®æè¿°

### é¢˜ç›®ç¿»è¯‘
ä½ æœ‰ä¸€å‰¯ç‰Œï¼Œæ¯å¼ ç‰ŒåŒ…å«$k$ä¸ªç‰¹å¾ï¼Œæ¯ä¸ªç‰¹å¾ç­‰äºé›†åˆ $\{0ï¼Œ1ï¼Œ2\}$ ä¸­çš„ä¸€ä¸ªå€¼ã€‚æ˜¾ç„¶ï¼Œå…±æœ‰$3^k$
ä¸åŒçš„æƒ…å†µã€‚
 
å®šä¹‰ä¸€ä¸ªä¸‰å¼ ç‰Œä¸ºå¥½çš„ï¼Œå½“ä¸”ä»…å½“ï¼šå¯¹äºåŒä¸€ä½ä¸Šçš„ç‰¹å¾ï¼Œè¦ä¹ˆ**ç›¸åŒ**ï¼Œè¦ä¹ˆ**ä¸¤ä¸¤ä¸åŒ**ã€‚å¦‚æœ**ä¸‰å¼ ç‰Œ**æ‰€æœ‰$k$å¯¹ç‰¹å¾éƒ½æ˜¯å¥½çš„ï¼Œåˆ™ç§°ä¸ºä¸€ä¸ªé›†åˆã€‚

å¦‚æœä¸€ç»„**äº”å¼ ç‰Œ**ä¸­æœ‰ä¸¥æ ¼æ„ä¹‰ä¸Šçš„**ä¸€ä¸ªä»¥ä¸Š**çš„é›†åˆï¼Œåˆ™ç§°ä¸ºå…ƒç»„ã€‚åœ¨ç»™å®šçš„$n$ä¸ªä¸åŒçš„ç‰Œä¸­ï¼Œæœ‰å¤šå°‘ä¸ªå…ƒç»„ï¼Ÿ

## æ ·ä¾‹ #1

### è¾“å…¥

```
8 4
0 0 0 0
0 0 0 1
0 0 0 2
0 0 1 0
0 0 2 0
0 1 0 0
1 0 0 0
2 2 0 0```

### è¾“å‡º

```
1```

## æ ·ä¾‹ #2

### è¾“å…¥

```
7 4
0 0 0 0
0 0 0 1
0 0 0 2
0 0 1 0
0 0 2 0
0 1 0 0
0 2 0 0```

### è¾“å‡º

```
3```

## æ ·ä¾‹ #3

### è¾“å…¥

```
9 2
0 0
0 1
0 2
1 0
1 1
1 2
2 0
2 1
2 2```

### è¾“å‡º

```
54```

## æ ·ä¾‹ #4

### è¾“å…¥

```
20 4
0 2 0 0
0 2 2 2
0 2 2 1
0 2 0 1
1 2 2 0
1 2 1 0
1 2 2 1
1 2 0 1
1 1 2 2
1 1 0 2
1 1 2 1
1 1 1 1
2 1 2 0
2 1 1 2
2 1 2 1
2 1 1 1
0 1 1 2
0 0 1 0
2 2 0 0
2 0 0 2```

### è¾“å‡º

```
0```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šMeta-set æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæšä¸¾ä¸å“ˆå¸Œè¡¨åº”ç”¨  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è§£å†³"Meta-set"çš„å…³é”®åœ¨äºé«˜æ•ˆæšä¸¾å’Œç»„åˆè®¡æ•°ã€‚å°±åƒç©æ‹¼å›¾æ¸¸æˆï¼Œå·²çŸ¥ä¸¤å—ç¢ç‰‡çš„ä½ç½®å’Œå½¢çŠ¶ï¼Œå°±èƒ½å”¯ä¸€ç¡®å®šç¬¬ä¸‰å—çš„ä½ç½®ã€‚æœ¬é¢˜ä¸­ï¼Œé€šè¿‡æšä¸¾ä¸¤å¼ å¡ç‰Œï¼Œå¯å”¯ä¸€ç¡®å®šç¬¬ä¸‰å¼ å¡ç‰Œçš„å€¼ï¼Œå†ç”¨å“ˆå¸Œè¡¨å¿«é€ŸæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨è¿™å¼ å¡ç‰Œã€‚  
> - **æ ¸å¿ƒæ€è·¯**ï¼šæšä¸¾æ‰€æœ‰å¡ç‰Œå¯¹(i,j)ï¼Œè®¡ç®—ç¬¬ä¸‰å¼ å¡ç‰Œçš„ç‰¹å¾å€¼ï¼Œç”¨å“ˆå¸Œè¡¨éªŒè¯å…¶å­˜åœ¨æ€§å¹¶è®¡æ•°  
> - **éš¾ç‚¹**ï¼šé¿å…é‡å¤è®¡æ•°ï¼ˆé€šè¿‡é™åˆ¶ç¬¬ä¸‰å¼ å¡ç‰Œä¸‹æ ‡>jï¼‰å’Œç»„åˆæ•°å­¦è½¬åŒ–ï¼ˆäº”å…ƒç»„æ•°é‡=Î£C(s_i,2)  
> - **å¯è§†åŒ–è®¾è®¡**ï¼šåƒç´ ç½‘æ ¼å±•ç¤ºå¡ç‰Œç‰¹å¾å€¼ï¼Œé«˜äº®å½“å‰æšä¸¾çš„å¡ç‰Œå¯¹ï¼ŒåŠ¨æ€æ˜¾ç¤ºç¬¬ä¸‰å¼ å¡ç‰Œè®¡ç®—è¿‡ç¨‹ã€‚é‡‡ç”¨8ä½éŸ³æ•ˆï¼šå¡ç‰ŒåŒ¹é…æˆåŠŸæ—¶æ’­æ”¾"å®"å£°ï¼ŒèƒŒæ™¯éŸ³ä¹ä¸ºå¤å¤èŠ¯ç‰‡éŸ³ä¹  

---

#### ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ (æ¥æºï¼šéšä»Mrsu)**  
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°è§£é‡Šäº†å¡ç‰Œç‰¹å¾çš„è®¡ç®—é€»è¾‘å’Œé¿å…é‡å¤è®¡æ•°çš„æŠ€å·§ã€‚ä»£ç è§„èŒƒï¼šä½¿ç”¨`make()`å‡½æ•°å°è£…ç‰¹å¾è®¡ç®—ï¼Œå˜é‡å`sum[]`å«ä¹‰æ˜ç¡®ã€‚ç®—æ³•é«˜æ•ˆï¼šä¸¥æ ¼é™åˆ¶ç¬¬ä¸‰å¼ å¡ç‰Œä¸‹æ ‡>jï¼Œç©ºé—´å¤æ‚åº¦ä¼˜åŒ–åˆ°ä½ã€‚å®è·µä»·å€¼é«˜ï¼šå¯ç›´æ¥ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ã€‚  

**é¢˜è§£äºŒ (æ¥æºï¼šzuytong)**  
* **ç‚¹è¯„**ï¼šç†è®ºæ¨å¯¼ä¸¥è°¨ï¼Œè¯æ˜äº†äº”å…ƒç»„å¿…å«ä¸¤ä¸ªå…±äº«å…ƒç´ çš„åˆæ³•ä¸‰å…ƒç»„ã€‚ä»£ç ç»“æ„æ¸…æ™°ï¼šå®å®šä¹‰ç®€åŒ–å¾ªç¯ï¼Œç‰¹å¾å€¼è®¡ç®—ç›´æ¥åµŒå…¥ä¸»é€»è¾‘ã€‚äº®ç‚¹ï¼šæ—¶é—´å¤æ‚åº¦åˆ†æé€å½»ï¼Œå¼ºè°ƒ`map.find()`é¿å…åˆ›å»ºç©ºèŠ‚ç‚¹çš„ä¼˜åŒ–æŠ€å·§ã€‚  

**é¢˜è§£ä¸‰ (æ¥æºï¼šwhhsteven)**  
* **ç‚¹è¯„**ï¼šè§£é¢˜è¿‡ç¨‹ä½“ç°ç³»ç»Ÿæ€§æ€ç»´ï¼Œä»é—®é¢˜è§‚å¯Ÿåˆ°æ•°å­¦è¯æ˜å†åˆ°ä»£ç å®ç°ã€‚ä»£ç äº®ç‚¹ï¼šä½¿ç”¨`map.find()`é¿å…å¤šä½™å†…å­˜åˆ†é…ï¼Œ`dmn()`å‡½æ•°åå‡†ç¡®åæ˜ åŠŸèƒ½ã€‚å®è·µæç¤ºï¼šç‰¹åˆ«å¼ºè°ƒæµ‹è¯•ç”¨ä¾‹çš„é‡è¦æ€§ï¼Œé€‚åˆåŸ¹å…»è°ƒè¯•èƒ½åŠ›ã€‚  

---

#### æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹1ï¼šç¬¬ä¸‰å¼ å¡ç‰Œçš„å¿«é€Ÿè®¡ç®—ä¸æŸ¥æ‰¾**  
   * **åˆ†æ**ï¼šæ ¹æ®ä¸¤å¼ å¡ç‰Œçš„ç‰¹å¾å€¼ï¼Œæ¯ä½éœ€ç‹¬ç«‹è®¡ç®—ç¬¬ä¸‰å€¼ï¼ˆç›¸åŒåˆ™å–åŒå€¼ï¼Œä¸åŒåˆ™å–è¡¥æ•°ï¼‰ã€‚å“ˆå¸Œè¡¨å°†O(nÂ³)ä¼˜åŒ–è‡³O(nÂ²)  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šä¸‰è¿›åˆ¶ç¼–ç æ˜¯è¿æ¥å¡ç‰Œç‰¹å¾ä¸æ•´æ•°æŸ¥æ‰¾çš„æ¡¥æ¢  

2. **éš¾ç‚¹2ï¼šäº”å…ƒç»„åˆ°ä¸‰å…ƒç»„çš„ç»„åˆè½¬åŒ–**  
   * **åˆ†æ**ï¼šå‘ç°"äº”å…ƒç»„=ä¸¤ä¸ªå…±äº«å…ƒç´ çš„ä¸‰å…ƒç»„"æ˜¯çªç ´å£ï¼Œæ•°å­¦è¯æ˜ç¡®ä¿C(s_i,2)çš„æ­£ç¡®æ€§  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç»„åˆè®¡æ•°ä¸­ï¼Œå¯»æ‰¾"å…±äº«å…ƒç´ "æ˜¯é™ç»´å…³é”®  

3. **éš¾ç‚¹3ï¼šé¿å…é‡å¤è®¡æ•°çš„ä¸‹æ ‡æ§åˆ¶**  
   * **åˆ†æ**ï¼šé™åˆ¶ç¬¬ä¸‰å¼ å¡ç‰Œä¸‹æ ‡>jï¼Œç¡®ä¿æ¯ä¸ªä¸‰å…ƒç»„ä»…è¢«i<j<kæšä¸¾ä¸€æ¬¡  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæšä¸¾ç»„åˆæ—¶ï¼Œé¡ºåºçº¦æŸæ˜¯é™¤é‡çš„åˆ©å™¨  

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**  
- **ç‰¹å¾ç¼–ç æŠ€å·§**ï¼šç”¨ä¸‰è¿›åˆ¶æ•´æ•°è¡¨ç¤ºå¡ç‰Œï¼ŒO(1)æ—¶é—´å®Œæˆç‰¹å¾åŒ¹é…  
- **æ•°å­¦è½¬åŒ–æ€ç»´**ï¼šå°†å¤æ‚ç»„åˆé—®é¢˜åˆ†è§£ä¸ºå…ƒç´ è´¡çŒ®çš„ç´¯åŠ   
- **è¾¹ç•Œé˜²å¾¡ç¼–ç¨‹**ï¼šå“ˆå¸ŒæŸ¥è¯¢å‰æ ¡éªŒä¸‹æ ‡èŒƒå›´ï¼Œé¢„é˜²è¶Šç•Œ  

---

#### C++æ ¸å¿ƒä»£ç å®ç°èµæ
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**  
```cpp
#include <iostream>
#include <map>
using namespace std;
typedef long long LL;
const int N = 1005;

int n, k, a[N][25], cnt[N];
LL card[N];
map<LL, int> idxMap;

int main() {
    cin >> n >> k;
    for (int i = 1; i <= n; i++) {
        LL val = 0, base = 1;
        for (int j = 1; j <= k; j++) {
            cin >> a[i][j];
            val = val * 3 + a[i][j];
        }
        card[i] = val;
        idxMap[val] = i;
    }

    for (int i = 1; i <= n; i++) {
        for (int j = i + 1; j <= n; j++) {
            LL third = 0, base = 1;
            for (int p = 1; p <= k; p++) {
                if (a[i][p] == a[j][p]) 
                    third += base * a[i][p];
                else 
                    third += base * (3 - a[i][p] - a[j][p]);
                base *= 3;
            }
            if (idxMap.count(third) && idxMap[third] > j) {
                int pos = idxMap[third];
                cnt[i]++; cnt[j]++; cnt[pos]++;
            }
        }
    }

    LL ans = 0;
    for (int i = 1; i <= n; i++) 
        ans += 1LL * cnt[i] * (cnt[i] - 1) / 2;
    cout << ans;
    return 0;
}
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
1. ä¸‰è¿›åˆ¶ç¼–ç å¡ç‰Œç‰¹å¾ï¼ˆcard[]æ•°ç»„ï¼‰  
2. åŒé‡å¾ªç¯æšä¸¾å¡ç‰Œå¯¹ï¼Œå®æ—¶è®¡ç®—ç¬¬ä¸‰å¼ å¡ç‰Œå€¼  
3. é€šè¿‡`idxMap`éªŒè¯ç¬¬ä¸‰å¼ å¡ç‰Œå­˜åœ¨ä¸”ä¸‹æ ‡åˆè§„  
4. ç»„åˆæ•°ç´¯åŠ å¾—æœ€ç»ˆè§£  

---

#### ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º  
**ä¸»é¢˜**ï¼š8ä½å¡ç‰Œæ¢é™©  
**è®¾è®¡æ€è·¯**ï¼š  
> å¤å¤åƒç´ é£æ ¼å‘ˆç°å¡ç‰Œç‰¹å¾ï¼ˆçº¢/ç»¿/è“æ–¹å—ï¼‰ï¼ŒFCæ¸¸æˆéŸ³æ•ˆå¼ºåŒ–å…³é”®æ“ä½œè®°å¿†ã€‚é€šè¿‡"é—¯å…³"æœºåˆ¶åˆ†è§£ç®—æ³•æ­¥éª¤ï¼Œæå‡å­¦ä¹ è¶£å‘³æ€§ã€‚  

**åŠ¨ç”»æµç¨‹**ï¼š  
1. **åœºæ™¯åˆå§‹åŒ–**  
   - å¡ç‰Œå‘ˆç°åœ¨16Ã—16åƒç´ ç½‘æ ¼ä¸­ï¼Œæ¯è¡Œä¸€å¼ å¡ç‰Œ  
   - æ§åˆ¶é¢æ¿å«"å•æ­¥æ‰§è¡Œ/è‡ªåŠ¨æ’­æ”¾/è°ƒé€Ÿ"æŒ‰é’®  
   - èƒŒæ™¯æ’­æ”¾8ä½èŠ¯ç‰‡éŸ³ä¹  

2. **æšä¸¾è¿‡ç¨‹æ¼”ç¤º**  
   - é«˜äº®å½“å‰å¡ç‰Œi(çº¢è‰²)å’Œj(è“è‰²)ï¼Œæ’­æ”¾é€‰æ‹©éŸ³æ•ˆ  
   - é€ä½è®¡ç®—ç¬¬ä¸‰å¼ å¡ç‰Œï¼šç›¸åŒç‰¹å¾ä½é—ªçƒé»„å…‰ï¼Œä¸åŒä½æ˜¾ç¤ºè¡¥æ•°è®¡ç®—è¿‡ç¨‹  

3. **å“ˆå¸ŒæŸ¥æ‰¾åé¦ˆ**  
   - æˆåŠŸåŒ¹é…ï¼šç¬¬ä¸‰å¼ å¡ç‰Œé—ªç»¿å…‰ï¼Œæ’­æ”¾"å®ï¼"å£°ï¼Œè®¡æ•°å™¨+1  
   - åŒ¹é…å¤±è´¥ï¼šç¬¬ä¸‰å¼ å¡ç‰Œç°æ˜¾ï¼Œæ’­æ”¾ä½æ²‰éŸ³æ•ˆ  

4. **ç»„åˆè®¡æ•°é˜¶æ®µ**  
   - æ¯å¼ å¡ç‰Œä¸Šæ–¹æ˜¾ç¤ºå…¶å‚ä¸çš„ä¸‰å…ƒç»„æ•°é‡  
   - è‡ªåŠ¨æ¼”ç¤ºC(s_i,2)è®¡ç®—è¿‡ç¨‹ï¼Œè¿‡å…³æ—¶ç»½æ”¾åƒç´ çƒŸèŠ±  

**æŠ€æœ¯å®ç°**ï¼š  
- Canvasç»˜åˆ¶åŠ¨æ€ç½‘æ ¼ï¼ŒéŸ³æ•ˆç”¨Web Audio APIå®ç°  
- å…³é”®å¸§ä¼ªä»£ç åŒæ­¥æ˜¾ç¤ºï¼š  
  ```js
  function drawFrame() {
    if (step == CALC_THIRD) 
      drawArrow(i, j, third);  // ç»˜åˆ¶ç‰¹å¾è®¡ç®—ç®­å¤´
  }
  ```

---

#### æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜
1. **æ´›è°· P1102**ï¼šA-Bæ•°å¯¹  
   â†’ åŒç±»å“ˆå¸Œä¼˜åŒ–æŠ€å·§ï¼Œç»Ÿè®¡å·®å€¼é…å¯¹  
2. **æ´›è°· P1638**ï¼šé€›ç”»å±•  
   â†’ æ»‘åŠ¨çª—å£+çŠ¶æ€å‹ç¼©ï¼Œç‰¹å¾æšä¸¾è¿›é˜¶  
3. **æ´›è°· P3405**ï¼šCities and States  
   â†’ å­—ç¬¦ä¸²ç‰¹å¾ç¼–ç ï¼Œç»„åˆè®¡æ•°å˜å¼  

---

#### å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> å¤šä½ä½œè€…æåˆ°"é¿å…é‡å¤è®¡æ•°"æ˜¯è°ƒè¯•æ ¸å¿ƒç—›ç‚¹ã€‚éšä»Mrsuçš„ç»éªŒå°¤ä¸ºå®è´µï¼š  
> **"é€šè¿‡é™åˆ¶ç¬¬ä¸‰å¼ å¡ç‰Œä¸‹æ ‡>jï¼ŒåŸæœ¬å¤æ‚çš„å»é‡é—®é¢˜è½¬åŒ–ä¸ºè‡ªç„¶æœ‰åºæšä¸¾"**  
> â†’ è¿™æé†’æˆ‘ä»¬ï¼šè®¾è®¡æšä¸¾é¡ºåºå¾€å¾€æ¯”äº‹åå»é‡æ›´é«˜æ•ˆ  

---
æœ¬æ¬¡è§£ææ—¨åœ¨å¸®åŠ©å¤§å®¶æŒæ¡**ç‰¹å¾ç¼–ç **å’Œ**ç»„åˆè½¬åŒ–**ä¸¤å¤§æ ¸å¿ƒæŠ€å·§ã€‚è®°ä½ï¼šå¥½ç®—æ³•å¦‚æ‹¼å›¾ï¼Œæ¯ä¸€å—éƒ½ç²¾å‡†å¥‘åˆæ‰èƒ½å‘ˆç°å®Œæ•´å›¾æ™¯ï¼ä¸‹æ¬¡æŒ‘æˆ˜å†è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š165.88ç§’
# é¢˜ç›®ä¿¡æ¯

# Kim's Quest

## é¢˜ç›®æè¿°

In the long-forgotten halls of Kombinatoria's ancient academy, a gifted mathematician named Kim is faced with an unusual challenge. They found an old sequence of integers, which is believed to be a cryptic message from the legendary Kombinatoria's Oracle, and Kim wants to decipher its hidden meaning.

Kim's mission is to find specific patterns within the sequence, known as Harmonious Subsequences. These are extraordinary subsequences where the sum of every three consecutive numbers is even, and each subsequence must be at least three numbers in length.

Given a sequence $ a_i $ ( $ 1 \le i \le n $ ) of length $ n $ , its subsequence of length $ m $ is equal to $ a_{b_1}, a_{b_2}, \ldots, a_{b_m} $ and is uniquely defined by a set of $ m $ indices $ b_j $ , such that $ 1 \le b_1 < b_2 < \ldots < b_m \le n $ . Subsequences given by different sets of indices $ b_j $ are considered different.

There's a twist in Kim's quest: the number of these Harmonious Subsequences could be overwhelming. To report the findings effectively, Kim must calculate the total number of these subsequences, presenting the answer as a remainder after dividing by the number $ 998\,244\,353 $ .

## è¯´æ˜/æç¤º

In the provided input data for the fifth sample, the sequence of numbers is split into three separate lines for clarity, but it should be understood that in the actual test data, the sequence is given in one line. The actual number of Harmonious Subsequences in this example is $ 4\,991\,221\,765 = 5 \times 998\,244\,353 $ , hence the output is zero as a result of finding its remainder after dividing by the number $ 998\,244\,353 $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
1 2 3```

### è¾“å‡º

```
1```

## æ ·ä¾‹ #2

### è¾“å…¥

```
5
2 8 2 6 4```

### è¾“å‡º

```
16```

## æ ·ä¾‹ #3

### è¾“å…¥

```
5
5 7 1 3 5```

### è¾“å‡º

```
0```

## æ ·ä¾‹ #4

### è¾“å…¥

```
11
3 1 4 1 5 9 2 6 5 3 6```

### è¾“å‡º

```
386```

## æ ·ä¾‹ #5

### è¾“å…¥

```
54
2 1 1 1 1 2 1 2 2 2 2 1 1 1 2 1 1 2
2 1 2 2 2 2 2 2 2 1 1 1 2 2 1 1 1 1
2 2 1 1 2 2 2 2 2 1 1 1 2 2 1 2 1 1```

### è¾“å‡º

```
0```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šKim's Quest æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šåŠ¨æ€è§„åˆ’ï¼ˆçŠ¶æ€å‹ç¼©DPï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œKim's Questâ€çš„å…³é”®ï¼Œåœ¨äº**å°†å¤æ‚çš„â€œå­åºåˆ—æ¡ä»¶â€è½¬åŒ–ä¸ºç®€å•çš„â€œçŠ¶æ€è½¬ç§»é—®é¢˜â€**ã€‚æˆ‘ä»¬å¯ä»¥æŠŠåŸåºåˆ—ä¸­çš„æ¯ä¸ªæ•°æ¢æˆå®ƒçš„å¥‡å¶æ€§ï¼ˆ0ä»£è¡¨å¶æ•°ï¼Œ1ä»£è¡¨å¥‡æ•°ï¼‰â€”â€”å› ä¸ºä¸‰ä¸ªæ•°çš„å’Œä¸ºå¶æ•°ï¼Œç­‰ä»·äºè¿™ä¸‰ä¸ªæ•°çš„å¥‡å¶ç»„åˆæ»¡è¶³**000ã€011ã€101ã€110**ï¼ˆæ¯”å¦‚1+1+0=2æ˜¯å¶æ•°ï¼‰ã€‚  

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨**åŠ¨æ€è§„åˆ’**æ¥ç»Ÿè®¡æ‰€æœ‰åˆæ³•å­åºåˆ—ï¼š  
- å­åºåˆ—çš„åˆæ³•æ€§åªä¾èµ–äº**æœ€åä¸¤ä½çš„çŠ¶æ€**ï¼ˆæ¯”å¦‚ï¼Œè¦åˆ¤æ–­æ–°åŠ å…¥çš„å…ƒç´ æ˜¯å¦è®©æœ€åä¸‰ä¸ªæ•°åˆæ³•ï¼Œåªéœ€è¦çœ‹æœ€åä¸¤ä½åŠ ä¸Šæ–°å…ƒç´ çš„ç»„åˆï¼‰ã€‚  
- æˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸‰ä¸ªå±‚æ¬¡çš„çŠ¶æ€ï¼š  
  1. **é•¿åº¦ä¸º1çš„å­åºåˆ—**ï¼ˆæ¯”å¦‚ä»¥0æˆ–1ç»“å°¾çš„æ•°é‡ï¼‰ï¼›  
  2. **é•¿åº¦ä¸º2çš„å­åºåˆ—**ï¼ˆæ¯”å¦‚ä»¥00ã€01ã€10ã€11ç»“å°¾çš„æ•°é‡ï¼‰ï¼›  
  3. **é•¿åº¦â‰¥3çš„åˆæ³•å­åºåˆ—**ï¼ˆæ¯”å¦‚ä»¥000ã€011ã€101ã€110ç»“å°¾çš„æ•°é‡ï¼‰ã€‚  

**æ ¸å¿ƒç®—æ³•æµç¨‹**ï¼š  
éå†åŸåºåˆ—çš„æ¯ä¸ªå…ƒç´ ï¼ˆå·²è½¬æˆ0/1ï¼‰ï¼Œæ ¹æ®å½“å‰å…ƒç´ çš„å¥‡å¶æ€§ï¼Œæ›´æ–°ä¸Šè¿°ä¸‰ä¸ªå±‚æ¬¡çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œå½“å¤„ç†ä¸€ä¸ª0æ—¶ï¼š  
- é•¿åº¦ä¸º1çš„0çš„æ•°é‡åŠ 1ï¼›  
- é•¿åº¦ä¸º2çš„00çš„æ•°é‡ï¼Œç­‰äºä¹‹å‰é•¿åº¦ä¸º1çš„0çš„æ•°é‡ï¼›  
- é•¿åº¦â‰¥3çš„000çš„æ•°é‡ï¼Œç­‰äºä¹‹å‰çš„000æ•°é‡ï¼ˆåœ¨å·²æœ‰åˆæ³•å­åºåˆ—ååŠ 0ï¼Œä»åˆæ³•ï¼‰åŠ ä¸Šä¹‹å‰çš„00æ•°é‡ï¼ˆæ–°çš„é•¿åº¦ä¸º3çš„å­åºåˆ—ï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä»¬ç”¨**8ä½åƒç´ é£æ ¼**åŠ¨ç”»å±•ç¤ºçŠ¶æ€å˜åŒ–ï¼š  
- ç”¨ä¸åŒé¢œè‰²çš„åƒç´ æ–¹å—ä»£è¡¨ä¸åŒçŠ¶æ€ï¼ˆæ¯”å¦‚è“è‰²=é•¿åº¦1çš„0ï¼Œçº¢è‰²=é•¿åº¦1çš„1ï¼Œæ·±è“=é•¿åº¦â‰¥3çš„000ï¼‰ï¼›  
- æ–¹å—çš„é«˜åº¦å¯¹åº”çŠ¶æ€çš„æ•°é‡ï¼ˆæ¯”å¦‚æ•°é‡æ˜¯5ï¼Œæ–¹å—å°±æœ‰5è¡Œåƒç´ ï¼‰ï¼›  
- å¤„ç†æ¯ä¸ªå…ƒç´ æ—¶ï¼Œæ–¹å—ä¼šâ€œé•¿é«˜â€ï¼Œä¼´éš**åƒç´ éŸ³æ•ˆ**ï¼ˆå¤„ç†0æ˜¯â€œå®â€ï¼Œå¤„ç†1æ˜¯â€œå’šâ€ï¼ŒçŠ¶æ€æ›´æ–°æ˜¯â€œæ»´â€ï¼‰ï¼›  
- æ§åˆ¶é¢æ¿æœ‰â€œå•æ­¥æ‰§è¡Œâ€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼Œå¯ä»¥æ”¾æ…¢é€Ÿåº¦çœ‹æ¯ä¸€æ­¥çš„å˜åŒ–ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šä½œè€… sordioï¼ˆèµï¼š4ï¼‰
* **ç‚¹è¯„**ï¼š  
  æ­¤é¢˜è§£çš„æ ¸å¿ƒæ˜¯**çŠ¶æ€å‹ç¼©DP**â€”â€”ç”¨`dp[i][j]`è¡¨ç¤ºå‰iä¸ªå…ƒç´ ä¸­ï¼Œæœ€åä¸¤ä½çŠ¶æ€ä¸ºjï¼ˆjæ˜¯0-3ï¼Œå¯¹åº”00ã€01ã€10ã€11ï¼‰çš„å­åºåˆ—æ•°é‡ã€‚è½¬ç§»æ—¶ï¼Œæ ¹æ®å½“å‰å…ƒç´ çš„å¥‡å¶æ€§ï¼Œæ›´æ–°`dp`æ•°ç»„ï¼ŒåŒæ—¶ç”¨ç»„åˆæ•°ï¼ˆæ¯”å¦‚`C(s0,2)`ï¼‰è®¡ç®—æ–°çš„é•¿åº¦ä¸º3çš„å­åºåˆ—ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œéå¸¸é«˜æ•ˆã€‚  

  äº®ç‚¹åœ¨äº**çŠ¶æ€å‹ç¼©çš„å·§å¦™è®¾è®¡**â€”â€”ç”¨ä¸€ä¸ªæ•´æ•°jè¡¨ç¤ºæœ€åä¸¤ä½çš„çŠ¶æ€ï¼Œé¿å…äº†å¤æ‚çš„å¤šç»´æ•°ç»„ã€‚ä½†å˜é‡åï¼ˆå¦‚`s0`ã€`s10`ï¼‰éœ€è¦ç»“åˆä»£ç ä»”ç»†ç†è§£ï¼ˆæ¯”å¦‚`s0`æ˜¯å‰i-1ä¸ªå…ƒç´ ä¸­0çš„ä¸ªæ•°ï¼Œ`s10`æ˜¯å‰i-1ä¸ªå…ƒç´ ä¸­ä»¥1ç»“å°¾çš„é•¿åº¦1çš„æ•°é‡ä¹‹å’Œï¼‰ã€‚


### é¢˜è§£äºŒï¼šä½œè€… IGA_Indigoï¼ˆèµï¼š4ï¼‰
* **ç‚¹è¯„**ï¼š  
  æ­¤é¢˜è§£æ˜¯**æœ€ç›´è§‚çš„åˆ†å±‚DP**ï¼ŒæŠŠçŠ¶æ€åˆ†æˆäº†é•¿åº¦1ã€2ã€3ä¸‰ä¸ªå±‚æ¬¡ï¼ˆ`f[1][j]`ã€`f[2][j]`ã€`f[3][j]`ï¼‰ã€‚è½¬ç§»æ–¹ç¨‹æ¸…æ™°ï¼Œæ¯”å¦‚å¤„ç†å¶æ•°æ—¶ï¼Œ`f[3][0]`ï¼ˆé•¿åº¦â‰¥3çš„000ï¼‰ä¼šå¢åŠ â€œä¹‹å‰çš„`f[3][0]`ï¼ˆå·²æœ‰åˆæ³•å­åºåˆ—åŠ 0ï¼‰+ ä¹‹å‰çš„`f[2][0]`ï¼ˆæ–°çš„é•¿åº¦3å­åºåˆ—ï¼‰â€ã€‚  

  äº®ç‚¹åœ¨äº**ä»£ç çš„ç®€æ´æ€§å’Œå¯è¯»æ€§**â€”â€”ç›´æ¥å¯¹åº”é¢˜ç›®ä¸­çš„æ¡ä»¶ï¼Œæ¯”å¦‚æ ·ä¾‹2ï¼ˆå…¨å¶æ•°ï¼‰å¤„ç†åï¼Œ`f[3][0]`æ­£å¥½ç­‰äº16ï¼Œå®Œå…¨ç¬¦åˆæ ·ä¾‹è¾“å‡ºã€‚è¿™é“é¢˜è§£æ˜¯æ–°æ‰‹ç†è§£â€œçŠ¶æ€åˆ†å±‚â€çš„æœ€ä½³å‚è€ƒï¼


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. é—®é¢˜è½¬åŒ–ï¼šä»â€œæ•°çš„å’Œâ€åˆ°â€œå¥‡å¶æ€§â€
- **éš¾ç‚¹**ï¼šå¦‚ä½•æŠŠâ€œä¸‰ä¸ªæ•°çš„å’Œä¸ºå¶æ•°â€è½¬åŒ–ä¸ºå¯å¤„ç†çš„æ¡ä»¶ï¼Ÿ  
- **ç­–ç•¥**ï¼šè§‚å¯Ÿåˆ°å’Œçš„å¥‡å¶æ€§åªä¸æ¯ä¸ªæ•°çš„å¥‡å¶æœ‰å…³ï¼ˆæ¯”å¦‚å¶æ•°+å¶æ•°+å¶æ•°=å¶æ•°ï¼Œå¥‡æ•°+å¥‡æ•°+å¶æ•°=å¶æ•°ï¼‰ã€‚å› æ­¤ï¼ŒæŠŠåŸåºåˆ—è½¬æˆ0/1åºåˆ—ï¼Œé—®é¢˜ç®€åŒ–ä¸ºâ€œç»Ÿè®¡æ‰€æœ‰é•¿åº¦â‰¥3çš„å­åºåˆ—ï¼Œå…¶ä»»æ„ä¸‰ä¸ªè¿ç»­å…ƒç´ çš„ç»„åˆæ˜¯000ã€011ã€101ã€110â€ã€‚  
- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé‡åˆ°â€œå’Œçš„å¥‡å¶æ€§â€é—®é¢˜ï¼Œå…ˆè€ƒè™‘æ¨¡2ç®€åŒ–ï¼


### 2. çŠ¶æ€è®¾è®¡ï¼šåªç»´æŠ¤â€œæœ€åä¸¤ä½â€
- **éš¾ç‚¹**ï¼šå¦‚ä½•é¿å…ç»Ÿè®¡æ‰€æœ‰å¯èƒ½çš„å­åºåˆ—ï¼ˆä¼šè¶…æ—¶ï¼‰ï¼Ÿ  
- **ç­–ç•¥**ï¼šå­åºåˆ—çš„åˆæ³•æ€§åªä¾èµ–äº**æœ€åä¸¤ä½çš„çŠ¶æ€**ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªé•¿åº¦ä¸º4çš„åˆæ³•å­åºåˆ—ï¼Œåªè¦ç¬¬2-4ä½åˆæ³•ï¼Œæ•´ä¸ªå­åºåˆ—å°±åˆæ³•ï¼ˆå› ä¸ºç¬¬1-3ä½å·²ç»åˆæ³•ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦ç»´æŠ¤æœ€å1ä½ï¼ˆé•¿åº¦1ï¼‰ã€æœ€åä¸¤ä½ï¼ˆé•¿åº¦2ï¼‰ã€æœ€åä¸‰ä½åŠä»¥ä¸Šï¼ˆåˆæ³•ï¼‰çš„çŠ¶æ€ã€‚  
- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŠ¨æ€è§„åˆ’çš„å…³é”®æ˜¯â€œæ‰¾åˆ°æœ€å°çš„çŠ¶æ€é›†ï¼Œè¦†ç›–æ‰€æœ‰å­é—®é¢˜â€ï¼


### 3. è½¬ç§»æ–¹ç¨‹ï¼šæ ¹æ®å½“å‰å…ƒç´ æ›´æ–°çŠ¶æ€
- **éš¾ç‚¹**ï¼šå¦‚ä½•æ­£ç¡®æ¨å¯¼çŠ¶æ€è½¬ç§»çš„å…¬å¼ï¼Ÿ  
- **ç­–ç•¥**ï¼šåˆ†æƒ…å†µè®¨è®ºå½“å‰å…ƒç´ çš„å¥‡å¶æ€§ï¼š  
  - è‹¥å½“å‰å…ƒç´ æ˜¯0ï¼ˆå¶æ•°ï¼‰ï¼š  
    - é•¿åº¦1çš„0çš„æ•°é‡åŠ 1ï¼›  
    - é•¿åº¦2çš„00çš„æ•°é‡ï¼Œç­‰äºä¹‹å‰é•¿åº¦1çš„0çš„æ•°é‡ï¼›  
    - é•¿åº¦â‰¥3çš„000çš„æ•°é‡ï¼Œç­‰äºä¹‹å‰çš„000æ•°é‡ï¼ˆå·²æœ‰åˆæ³•å­åºåˆ—åŠ 0ï¼‰åŠ ä¸Šä¹‹å‰çš„00æ•°é‡ï¼ˆæ–°çš„é•¿åº¦3å­åºåˆ—ï¼‰ã€‚  
  - è‹¥å½“å‰å…ƒç´ æ˜¯1ï¼ˆå¥‡æ•°ï¼‰ï¼šç±»ä¼¼æ¨å¯¼ï¼Œæ¯”å¦‚é•¿åº¦â‰¥3çš„110çš„æ•°é‡ï¼Œç­‰äºä¹‹å‰çš„110æ•°é‡åŠ ä¸Šä¹‹å‰çš„11æ•°é‡ã€‚  
- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè½¬ç§»æ–¹ç¨‹è¦â€œè¦†ç›–æ‰€æœ‰å¯èƒ½çš„åˆæ³•æƒ…å†µâ€ï¼


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1ï¼šé—®é¢˜ç®€åŒ–**ï¼šç”¨å¥‡å¶æ€§æŠŠåŸåºåˆ—è½¬æˆ0/1ï¼Œå‡å°‘é—®é¢˜å¤æ‚åº¦ï¼›  
- **æŠ€å·§2ï¼šçŠ¶æ€åˆ†å±‚**ï¼šæŠŠçŠ¶æ€åˆ†æˆé•¿åº¦1ã€2ã€3ä¸‰ä¸ªå±‚æ¬¡ï¼Œé¿å…å†—ä½™ï¼›  
- **æŠ€å·§3ï¼šæ¨¡è¿ç®—å¤„ç†**ï¼šæ¯ä¸€æ­¥éƒ½å¯¹ç»“æœå–æ¨¡ï¼ˆ998244353ï¼‰ï¼Œé¿å…æº¢å‡ºã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šæ­¤ä»£ç æ¥è‡ªé¢˜è§£äºŒï¼ˆIGA_Indigoï¼‰ï¼Œæ˜¯åˆ†å±‚DPçš„å…¸å‹å®ç°ï¼Œé€»è¾‘æ¸…æ™°ï¼Œæ˜“äºç†è§£ã€‚
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
  ```cpp
  #include<bits/stdc++.h>
  using namespace std; 
  const int mod = 998244353;
  int a[200005];
  long long f[5][5]; // f[len][state]: len=1/2/3ï¼Œstateå¯¹åº”çŠ¶æ€

  int main() {
      int n;
      cin >> n;
      for (int i = 1; i <= n; i++) {
          cin >> a[i];
          a[i] %= 2; // è½¬æˆ0/1
      }

      for (int i = 1; i <= n; i++) {
          if (a[i] == 0) { // å½“å‰å…ƒç´ æ˜¯å¶æ•°
              f[3][0] = (f[3][0] + f[3][0] + f[2][0]) % mod; // 000çš„æ•°é‡ï¼šå·²æœ‰+æ–°çš„
              f[3][1] = (f[3][1] + f[2][1] + f[3][3]) % mod; // 110çš„æ•°é‡
              f[2][0] = (f[2][0] + f[1][0]) % mod; // 00çš„æ•°é‡ï¼šä¹‹å‰çš„0ç»“å°¾çš„é•¿åº¦1
              f[2][2] = (f[2][2] + f[1][2]) % mod; // 10çš„æ•°é‡
              f[1][0] = (f[1][0] + 1) % mod; // é•¿åº¦1çš„0çš„æ•°é‡åŠ 1
              f[1][3] = (f[1][3] + 1) % mod; // é•¿åº¦1çš„0çš„å¦ä¸€ç§çŠ¶æ€ï¼ˆè¾…åŠ©è®¡ç®—ï¼‰
          } else { // å½“å‰å…ƒç´ æ˜¯å¥‡æ•°
              f[3][3] = (f[3][3] + f[2][3] + f[3][2]) % mod; // 011çš„æ•°é‡
              f[3][2] = (f[3][2] + f[3][1] + f[2][2]) % mod; // 101çš„æ•°é‡
              f[2][1] = (f[2][1] + f[1][1]) % mod; // 10çš„æ•°é‡
              f[2][3] = (f[2][3] + f[1][3]) % mod; // 01çš„æ•°é‡
              f[1][1] = (f[1][1] + 1) % mod; // é•¿åº¦1çš„1çš„æ•°é‡åŠ 1
              f[1][2] = (f[1][2] + 1) % mod; // é•¿åº¦1çš„1çš„å¦ä¸€ç§çŠ¶æ€ï¼ˆè¾…åŠ©è®¡ç®—ï¼‰
          }
      }

      cout << (f[3][0] + f[3][1] + f[3][2] + f[3][3]) % mod << endl;
      return 0;
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¯»å–è¾“å…¥å¹¶è½¬æˆ0/1åºåˆ—ï¼›  
  2. éå†æ¯ä¸ªå…ƒç´ ï¼Œæ ¹æ®å¥‡å¶æ€§æ›´æ–°`f`æ•°ç»„ï¼ˆé•¿åº¦1ã€2ã€3çš„çŠ¶æ€ï¼‰ï¼›  
  3. æœ€åè¾“å‡ºæ‰€æœ‰é•¿åº¦â‰¥3çš„åˆæ³•çŠ¶æ€ä¹‹å’Œï¼ˆ`f[3][0]`åˆ°`f[3][3]`ï¼‰ã€‚


### é¢˜è§£äºŒæ ¸å¿ƒä»£ç ç‰‡æ®µèµæ
* **äº®ç‚¹**ï¼šåˆ†å±‚DPçš„è½¬ç§»é€»è¾‘ç›´æ¥å¯¹åº”é¢˜ç›®æ¡ä»¶ï¼Œå®¹æ˜“ç†è§£ã€‚
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼ˆå¤„ç†å¶æ•°çš„éƒ¨åˆ†ï¼‰ï¼š
  ```cpp
  if (a[i] == 0) {
      f[3][0] = (f[3][0] + f[3][0] + f[2][0]) % mod;
      f[2][0] = (f[2][0] + f[1][0]) % mod;
      f[1][0] = (f[1][0] + 1) % mod;
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `f[1][0] += 1`ï¼šå½“å‰å…ƒç´ æ˜¯0ï¼Œæ‰€ä»¥é•¿åº¦1çš„0çš„æ•°é‡åŠ 1ï¼›  
  - `f[2][0] += f[1][0]`ï¼šé•¿åº¦2çš„00çš„æ•°é‡ï¼Œç­‰äºä¹‹å‰æ‰€æœ‰é•¿åº¦1çš„0çš„æ•°é‡ï¼ˆæ¯ä¸ª0åé¢åŠ å½“å‰0ï¼Œå½¢æˆ00ï¼‰ï¼›  
  - `f[3][0] += f[3][0] + f[2][0]`ï¼šé•¿åº¦â‰¥3çš„000çš„æ•°é‡ï¼ŒåŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š  
    1. ä¹‹å‰çš„000åé¢åŠ 0ï¼ˆæ•°é‡ç¿»å€ï¼‰ï¼›  
    2. ä¹‹å‰çš„00åé¢åŠ 0ï¼ˆæ–°çš„é•¿åº¦3å­åºåˆ—ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆ†å±‚DPçš„è½¬ç§»è¦â€œä»çŸ­åˆ°é•¿â€ï¼Œé€æ­¥æ„å»ºæ›´é•¿çš„å­åºåˆ—ï¼


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜
**â€œåƒç´ 01æ¢é™©é˜Ÿâ€**ï¼šç”¨FCé£æ ¼çš„åƒç´ ç”»é¢ï¼Œå±•ç¤º01åºåˆ—çš„å¤„ç†è¿‡ç¨‹ï¼Œä»¥åŠçŠ¶æ€çš„åŠ¨æ€å˜åŒ–ã€‚


### è®¾è®¡æ€è·¯ç®€è¿°
é‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼ˆä»¿çº¢ç™½æœºï¼‰ï¼Œç”¨**ä¸åŒé¢œè‰²çš„æ–¹å—**ä»£è¡¨ä¸åŒçŠ¶æ€ï¼Œæ–¹å—é«˜åº¦å¯¹åº”çŠ¶æ€æ•°é‡ã€‚æ¯å¤„ç†ä¸€ä¸ªå…ƒç´ ï¼Œæ–¹å—ä¼šâ€œé•¿é«˜â€ï¼Œä¼´éšåƒç´ éŸ³æ•ˆï¼ˆæ¯”å¦‚å¤„ç†0æ˜¯â€œå®â€ï¼Œå¤„ç†1æ˜¯â€œå’šâ€ï¼‰ï¼Œè®©ä½ â€œçœ‹å¾—åˆ°â€çŠ¶æ€çš„å¢é•¿ï¼


### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - èƒŒæ™¯æ˜¯é»‘è‰²ï¼ˆFCé£æ ¼ï¼‰ï¼Œä¸Šæ–¹æœ‰8ä¸ªå½©è‰²æ–¹å—ï¼ˆè“è‰²=é•¿åº¦1çš„0ï¼Œçº¢è‰²=é•¿åº¦1çš„1ï¼Œæµ…è“=é•¿åº¦2çš„00ï¼Œæµ…çº¢=é•¿åº¦2çš„10ï¼Œæ·±è“=é•¿åº¦â‰¥3çš„000ï¼Œæ·±çº¢=é•¿åº¦â‰¥3çš„110ï¼Œç´«=é•¿åº¦â‰¥3çš„101ï¼Œæ©™=é•¿åº¦â‰¥3çš„011ï¼‰ï¼›  
   - ä¸‹æ–¹æ˜¾ç¤ºå½“å‰å¤„ç†çš„å…ƒç´ ï¼ˆ0æˆ–1ï¼Œç”¨å¤§åƒç´ å­—æ˜¾ç¤ºï¼‰ï¼›  
   - å·¦ä¾§æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœã€å•æ­¥ã€é‡ç½®æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼ˆä»â€œæ…¢â€åˆ°â€œå¿«â€ï¼‰ã€‚

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - æ‰€æœ‰æ–¹å—é«˜åº¦ä¸º0ï¼ŒèƒŒæ™¯éŸ³ä¹æ˜¯8ä½é£æ ¼çš„â€œå˜Ÿå˜Ÿâ€å£°ã€‚

3. **æ ¸å¿ƒæ­¥éª¤æ¼”ç¤º**ï¼ˆä»¥æ ·ä¾‹2ä¸ºä¾‹ï¼Œå…¨å¶æ•°ï¼‰ï¼š  
   - å¤„ç†ç¬¬1ä¸ª0ï¼šè“è‰²æ–¹å—ï¼ˆé•¿åº¦1çš„0ï¼‰é•¿é«˜1è¡Œï¼Œä¼´éšâ€œå®â€å£°ï¼›  
   - å¤„ç†ç¬¬2ä¸ª0ï¼šè“è‰²æ–¹å—å†é•¿é«˜1è¡Œï¼Œæµ…è“æ–¹å—ï¼ˆé•¿åº¦2çš„00ï¼‰é•¿é«˜1è¡Œï¼›  
   - å¤„ç†ç¬¬3ä¸ª0ï¼šè“è‰²æ–¹å—é•¿é«˜åˆ°3è¡Œï¼Œæµ…è“æ–¹å—é•¿é«˜åˆ°3è¡Œï¼Œæ·±è“æ–¹å—ï¼ˆé•¿åº¦â‰¥3çš„000ï¼‰é•¿é«˜1è¡Œï¼›  
   - å¤„ç†ç¬¬4ä¸ª0ï¼šæ·±è“æ–¹å—é•¿é«˜åˆ°5è¡Œï¼›  
   - å¤„ç†ç¬¬5ä¸ª0ï¼šæ·±è“æ–¹å—é•¿é«˜åˆ°16è¡Œï¼ˆæ­£å¥½æ˜¯æ ·ä¾‹2çš„è¾“å‡ºï¼‰ï¼Œä¼´éšâ€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆä¸Šæ‰¬çš„â€œå®~â€ï¼‰ã€‚

4. **äº¤äº’è®¾è®¡**ï¼š  
   - å•æ­¥æ‰§è¡Œï¼šç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œçœ‹æ¯ä¸€æ­¥çš„çŠ¶æ€å˜åŒ–ï¼›  
   - è‡ªåŠ¨æ’­æ”¾ï¼šè°ƒæ•´é€Ÿåº¦æ»‘å—ï¼Œè®©åŠ¨ç”»è‡ªåŠ¨è¿è¡Œï¼›  
   - é‡ç½®ï¼šå›åˆ°åˆå§‹çŠ¶æ€ï¼Œé‡æ–°æ¼”ç¤ºã€‚


### æ—ç™½æç¤º
- å¤„ç†ç¬¬1ä¸ª0æ—¶ï¼šâ€œç°åœ¨å¤„ç†ç¬¬ä¸€ä¸ª0ï¼é•¿åº¦1çš„0çš„æ•°é‡åŠ 1ï¼Œè“è‰²æ–¹å—é•¿é«˜å•¦ï½â€ï¼›  
- å¤„ç†ç¬¬3ä¸ª0æ—¶ï¼šâ€œç¬¬ä¸‰ä¸ª0æ¥äº†ï¼é•¿åº¦2çš„00æ•°é‡å˜æˆ3ï¼Œé•¿åº¦â‰¥3çš„000æ•°é‡å˜æˆ1ï¼Œæ·±è“æ–¹å—ç¬¬ä¸€æ¬¡é•¿é«˜ï¼â€ï¼›  
- å¤„ç†ç¬¬5ä¸ª0æ—¶ï¼šâ€œæœ€åä¸€ä¸ª0ï¼æ·±è“æ–¹å—é•¿é«˜åˆ°16ï¼Œè¿™å°±æ˜¯æ ·ä¾‹2çš„ç­”æ¡ˆï½â€ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»
åŠ¨æ€è§„åˆ’ï¼ˆå°¤å…¶æ˜¯çŠ¶æ€å‹ç¼©DPï¼‰çš„æ ¸å¿ƒæ˜¯â€œç”¨å­é—®é¢˜çš„è§£æ„å»ºåŸé—®é¢˜çš„è§£â€ï¼Œé€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š  
1. **å­åºåˆ—é—®é¢˜**ï¼šæ¯”å¦‚â€œæœ€é•¿é€’å¢å­åºåˆ—â€ï¼ˆçŠ¶æ€æ˜¯å‰iä¸ªå…ƒç´ çš„æœ€é•¿é•¿åº¦ï¼‰ï¼›  
2. **è·¯å¾„é—®é¢˜**ï¼šæ¯”å¦‚â€œç½‘æ ¼ä¸­çš„æœ€çŸ­è·¯å¾„â€ï¼ˆçŠ¶æ€æ˜¯å½“å‰ä½ç½®çš„æœ€çŸ­è·ç¦»ï¼‰ï¼›  
3. **çŠ¶æ€ä¾èµ–é—®é¢˜**ï¼šæ¯”å¦‚â€œå…³ç¯é—®é¢˜â€ï¼ˆçŠ¶æ€æ˜¯ç¯çš„å¼€å…³æƒ…å†µï¼‰ã€‚


### æ´›è°·ç»ƒä¹ æ¨è
1. **æ´›è°· P1020 å¯¼å¼¹æ‹¦æˆª**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜è€ƒå¯Ÿâ€œæœ€é•¿ä¸å‡å­åºåˆ—â€ï¼Œæ˜¯åŠ¨æ€è§„åˆ’çš„ç»å…¸é—®é¢˜ï¼Œå¸®åŠ©ä½ å·©å›ºâ€œçŠ¶æ€è½¬ç§»â€çš„æ€è·¯ã€‚

2. **æ´›è°· P1115 æœ€å¤§å­æ®µå’Œ**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜çš„çŠ¶æ€æ˜¯â€œå‰iä¸ªå…ƒç´ çš„æœ€å¤§å­æ®µå’Œâ€ï¼Œè½¬ç§»é€»è¾‘ç®€å•ï¼Œé€‚åˆæ–°æ‰‹ç»ƒä¹ åŠ¨æ€è§„åˆ’çš„åŸºæœ¬æ€æƒ³ã€‚

3. **æ´›è°· P2622 å…³ç¯é—®é¢˜II**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯**çŠ¶æ€å‹ç¼©DP**çš„å…¸å‹ï¼Œç”¨æ•´æ•°è¡¨ç¤ºç¯çš„å¼€å…³çŠ¶æ€ï¼Œè½¬ç§»é€»è¾‘ä¸æœ¬é¢˜ç±»ä¼¼ï¼Œå¸®åŠ©ä½ æ·±å…¥ç†è§£â€œçŠ¶æ€å‹ç¼©â€ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)
æœ¬æ¬¡åˆ†æçš„é¢˜è§£ä¸­ï¼Œä½œè€…ä»¬éƒ½æåˆ°äº†â€œå°†åŸåºåˆ—è½¬æˆ0/1â€çš„å…³é”®æ­¥éª¤â€”â€”è¿™æ˜¯è§£å†³â€œå¥‡å¶æ€§é—®é¢˜â€çš„é€šç”¨æŠ€å·§ã€‚æ¯”å¦‚é¢˜è§£äºŒçš„ä½œè€…ç›´æ¥ç”¨`a[i]%=2`ç®€åŒ–äº†é—®é¢˜ï¼Œè¿™æé†’æˆ‘ä»¬ï¼š**é‡åˆ°å’Œçš„å¥‡å¶æ€§é—®é¢˜ï¼Œå…ˆæ¨¡2ï¼**


## æ€»ç»“
é€šè¿‡æœ¬é¢˜çš„åˆ†æï¼Œæˆ‘ä»¬å­¦ä¹ äº†**åŠ¨æ€è§„åˆ’ä¸­çš„çŠ¶æ€åˆ†å±‚ä¸å‹ç¼©**ï¼ŒæŒæ¡äº†â€œå°†å¤æ‚é—®é¢˜ç®€åŒ–ä¸º0/1åºåˆ—â€çš„æŠ€å·§ã€‚è®°ä½ï¼šåŠ¨æ€è§„åˆ’çš„å…³é”®æ˜¯â€œæ‰¾åˆ°æœ€å°çš„çŠ¶æ€é›†â€ï¼Œè€Œå¯è§†åŒ–åŠ¨ç”»èƒ½å¸®ä½ â€œçœ‹æ¸…æ¥šâ€æ¯ä¸€æ­¥çš„å˜åŒ–ï¼

ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼çš„å­åºåˆ—é—®é¢˜ï¼Œä¸å¦¨è¯•è¯•â€œçŠ¶æ€åˆ†å±‚â€çš„æ€è·¯â€”â€”ä½ ä¼šå‘ç°ï¼Œå¤æ‚çš„é—®é¢˜å…¶å®å¯ä»¥æ‹†è§£æˆç®€å•çš„æ­¥éª¤ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š207.54ç§’
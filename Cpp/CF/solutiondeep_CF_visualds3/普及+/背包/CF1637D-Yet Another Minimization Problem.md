# é¢˜ç›®ä¿¡æ¯

# Yet Another Minimization Problem

## é¢˜ç›®æè¿°

You are given two arrays $ a $ and $ b $ , both of length $ n $ .

You can perform the following operation any number of times (possibly zero): select an index $ i $ ( $ 1 \leq i \leq n $ ) and swap $ a_i $ and $ b_i $ .

Let's define the cost of the array $ a $ as $ \sum_{i=1}^{n} \sum_{j=i + 1}^{n} (a_i + a_j)^2 $ . Similarly, the cost of the array $ b $ is $ \sum_{i=1}^{n} \sum_{j=i + 1}^{n} (b_i + b_j)^2 $ .

Your task is to minimize the total cost of two arrays.

## è¯´æ˜/æç¤º

In the second test case, in one of the optimal answers after all operations $ a = [2, 6, 4, 6] $ , $ b = [3, 7, 6, 1] $ .

The cost of the array $ a $ equals to $ (2 + 6)^2 + (2 + 4)^2 + (2 + 6)^2 + (6 + 4)^2 + (6 + 6)^2 + (4 + 6)^2 = 508 $ .

The cost of the array $ b $ equals to $ (3 + 7)^2 + (3 + 6)^2 + (3 + 1)^2 + (7 + 6)^2 + (7 + 1)^2 + (6 + 1)^2 = 479 $ .

The total cost of two arrays equals to $ 508 + 479 = 987 $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
1
3
6
4
3 6 6 6
2 7 4 1
4
6 7 2 4
2 5 3 5```

### è¾“å‡º

```
0
987
914```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šYet Another Minimization Problem æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šåŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰+ æ•°å­¦åŒ–ç®€  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œYet Another Minimization Problemâ€çš„å…³é”®ï¼Œåœ¨äº**ç”¨æ•°å­¦åŒ–ç®€å‰¥ç¦»å®šå€¼ï¼Œç”¨åŠ¨æ€è§„åˆ’å¤„ç†å¯å˜é€‰æ‹©**ã€‚ç®€å•æ¥è¯´ï¼Œå°±åƒâ€œæ•´ç†ä¹¦åŒ…â€â€”â€”å…ˆæŠŠå›ºå®šä¸å˜çš„è¯¾æœ¬ï¼ˆå®šå€¼éƒ¨åˆ†ï¼‰æ”¾åœ¨ä¸€è¾¹ï¼Œå†è€ƒè™‘å¦‚ä½•å®‰æ’å¯å˜çš„æ–‡å…·ï¼ˆäº¤æ¢é€‰æ‹©ï¼‰ï¼Œè®©æ€»é‡é‡ï¼ˆä»£ä»·ï¼‰æœ€å°ã€‚  

### ï¼ˆ1ï¼‰æ•°å­¦åŒ–ç®€çš„æ ¸å¿ƒé€»è¾‘  
é¢˜ç›®è¦æ±‚æœ€å°åŒ–ä¸¤ä¸ªæ•°ç»„çš„æ€»ä»£ä»·ï¼Œæ¯ä¸ªæ•°ç»„çš„ä»£ä»·æ˜¯$\sum_{i<j}(a_i+a_j)^2$ã€‚é€šè¿‡å±•å¼€å¹³æ–¹é¡¹ï¼Œæˆ‘ä»¬å‘ç°ï¼š  
- æ€»ä»£ä»·çš„**å®šå€¼éƒ¨åˆ†**ï¼š$(n-1)(\sum a_i^2 + \sum b_i^2)$ï¼ˆæ— è®ºæ˜¯å¦äº¤æ¢ï¼Œè¿™éƒ¨åˆ†éƒ½ä¸å˜ï¼‰ï¼›  
- æ€»ä»£ä»·çš„**å¯å˜éƒ¨åˆ†**ï¼š$2(\sum_{i<j}a_ia_j + \sum_{i<j}b_ib_j)$ï¼ˆäº¤æ¢$a_i$å’Œ$b_i$ä¼šæ”¹å˜è¿™éƒ¨åˆ†ï¼‰ã€‚  

å› æ­¤ï¼Œé—®é¢˜ç®€åŒ–ä¸º**æœ€å°åŒ–å¯å˜éƒ¨åˆ†**ã€‚è¿›ä¸€æ­¥æ¨å¯¼å¯å˜éƒ¨åˆ†ï¼Œå‘ç°å®ƒä¸$a$æ•°ç»„çš„**å‰ç¼€å’Œ**å¯†åˆ‡ç›¸å…³ï¼ˆæ¯”å¦‚ï¼Œ$a_i$çš„è´¡çŒ®æ˜¯$2a_i \times$å‰$i-1$ä¸ª$a$å…ƒç´ çš„å’Œï¼‰ã€‚  

### ï¼ˆ2ï¼‰åŠ¨æ€è§„åˆ’çš„åº”ç”¨  
ä¸ºäº†è·Ÿè¸ªå‰ç¼€å’Œçš„å˜åŒ–ï¼Œæˆ‘ä»¬å®šä¹‰**DPçŠ¶æ€**ï¼š$f[i][j]$è¡¨ç¤ºå¤„ç†å‰$i$ä¸ªå…ƒç´ ï¼Œ$a$æ•°ç»„çš„å‰ç¼€å’Œä¸º$j$æ—¶ï¼Œå¯å˜éƒ¨åˆ†çš„**æœ€å°ä»£ä»·**ã€‚  
- **è½¬ç§»é€»è¾‘**ï¼šå¯¹äºç¬¬$i$ä¸ªå…ƒç´ ï¼Œæœ‰ä¸¤ç§é€‰æ‹©â€”â€”äº¤æ¢æˆ–ä¸äº¤æ¢ï¼š  
  1. ä¸äº¤æ¢ï¼š$a_i$åŠ å…¥$a$æ•°ç»„ï¼Œ$b_i$åŠ å…¥$b$æ•°ç»„ï¼Œä»£ä»·å¢åŠ $a_i \times$å‰$i-1$ä¸ª$a$çš„å’Œ $+ b_i \times$å‰$i-1$ä¸ª$b$çš„å’Œï¼›  
  2. äº¤æ¢ï¼š$b_i$åŠ å…¥$a$æ•°ç»„ï¼Œ$a_i$åŠ å…¥$b$æ•°ç»„ï¼Œä»£ä»·å¢åŠ $b_i \times$å‰$i-1$ä¸ª$a$çš„å’Œ $+ a_i \times$å‰$i-1$ä¸ª$b$çš„å’Œã€‚  
- **è¾¹ç•Œæ¡ä»¶**ï¼š$f[0][0] = 0$ï¼ˆå¤„ç†0ä¸ªå…ƒç´ æ—¶ï¼Œå‰ç¼€å’Œä¸º0ï¼Œä»£ä»·ä¸º0ï¼‰ã€‚  

### ï¼ˆ3ï¼‰å¯è§†åŒ–è®¾è®¡æ€è·¯  
ä¸ºäº†ç›´è§‚å±•ç¤ºDPçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬è®¾è®¡**8ä½åƒç´ é£æ ¼åŠ¨ç”»**ï¼š  
- **åœºæ™¯**ï¼šç”¨ç½‘æ ¼è¡¨ç¤ºDPæ•°ç»„$f[i][j]$ï¼Œå…¶ä¸­$i$æ˜¯å¤„ç†çš„å…ƒç´ ä¸ªæ•°ï¼ˆçºµè½´ï¼‰ï¼Œ$j$æ˜¯$a$æ•°ç»„çš„å‰ç¼€å’Œï¼ˆæ¨ªè½´ï¼‰ï¼›  
- **çŠ¶æ€é«˜äº®**ï¼šå½“å‰å¤„ç†çš„$i$è¡Œç”¨**é»„è‰²**æ ‡è®°ï¼Œ$j$åˆ—ç”¨**è“è‰²**æ ‡è®°ï¼Œæœ€å°ä»£ä»·çš„æ ¼å­ç”¨**ç»¿è‰²**é—ªçƒï¼›  
- **è½¬ç§»åŠ¨ç”»**ï¼šå¤„ç†ç¬¬$i$ä¸ªå…ƒç´ æ—¶ï¼Œä»$i-1$è¡Œçš„$j$åˆ—ï¼ˆå‰$i-1$ä¸ªå…ƒç´ çš„å‰ç¼€å’Œï¼‰å‡ºå‘ï¼Œå‘$i$è¡Œçš„$j+a_i$ï¼ˆä¸äº¤æ¢ï¼‰å’Œ$j+b_i$ï¼ˆäº¤æ¢ï¼‰åˆ—ç§»åŠ¨ï¼Œç”¨**ç®­å¤´**è¡¨ç¤ºè½¬ç§»æ–¹å‘ï¼›  
- **éŸ³æ•ˆ**ï¼šäº¤æ¢æ—¶æ’­æ”¾â€œå®â€çš„åƒç´ éŸ³æ•ˆï¼ŒçŠ¶æ€æ›´æ–°æ—¶æ’­æ”¾â€œæ»´â€çš„éŸ³æ•ˆï¼Œå®Œæˆæ‰€æœ‰å…ƒç´ å¤„ç†æ—¶æ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šï¼ˆæ¥æºï¼šinclude_BMï¼Œèµï¼š16ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„**æ•°å­¦æ¨å¯¼å ªç§°å…¸èŒƒ**â€”â€”ä»åŸå§‹ä»£ä»·å¼å­å±•å¼€ï¼Œä¸€æ­¥æ­¥å‰¥ç¦»å®šå€¼ï¼Œæœ€ç»ˆèšç„¦äºå¯å˜éƒ¨åˆ†çš„æœ€å°åŒ–ã€‚DPçŠ¶æ€å®šä¹‰æ¸…æ™°ï¼ˆ$f[i][j]$è¡¨ç¤ºå‰$i$ä¸ªå…ƒç´ ã€$a$å‰ç¼€å’Œä¸º$j$çš„æœ€å°ä»£ä»·ï¼‰ï¼Œè½¬ç§»æ–¹ç¨‹æ¨å¯¼è¯¦ç»†ï¼ˆè€ƒè™‘äº¤æ¢ä¸ä¸äº¤æ¢çš„ä¸¤ç§æƒ…å†µï¼‰ã€‚ä»£ç é£æ ¼è§„èŒƒï¼ˆå˜é‡åå¦‚$sum[i]$è¡¨ç¤ºå‰$i$ä¸ªå…ƒç´ çš„æ€»å’Œå¹³ç¨³ï¼‰ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆåˆå§‹çŠ¶æ€$f[0][0]=0$ï¼‰ã€‚**äº®ç‚¹**ï¼šå°†é—®é¢˜è½¬åŒ–ä¸ºå‰ç¼€å’Œçš„DPé—®é¢˜ï¼ŒæŠ“ä½äº†é—®é¢˜çš„æ ¸å¿ƒçŸ›ç›¾ã€‚  

### é¢˜è§£äºŒï¼šï¼ˆæ¥æºï¼šJairon314ï¼Œèµï¼š1ï¼‰  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£çš„**ä»£ç å®ç°éå¸¸æ¸…æ™°**â€”â€”ç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–äº†DPçš„ç©ºé—´å¤æ‚åº¦ï¼ˆå°†äºŒç»´æ•°ç»„å‹ç¼©ä¸ºä¸€ç»´ï¼‰ï¼Œé€‚åˆå¤„ç†å¤§æ•°æ®é‡ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ³¨é‡Šè¯¦ç»†ï¼ˆæ˜ç¡®è¯´æ˜äº¤æ¢ä¸ä¸äº¤æ¢çš„ä»£ä»·è®¡ç®—ï¼‰ï¼Œå¹¶ä¸”å¤„ç†äº†å¤šç»„æ•°æ®çš„æƒ…å†µï¼ˆå¾ªç¯è¯»å–è¾“å…¥ï¼‰ã€‚**äº®ç‚¹**ï¼šæ»šåŠ¨æ•°ç»„çš„åº”ç”¨ï¼Œå‡å°‘äº†å†…å­˜å ç”¨ï¼Œæé«˜äº†ä»£ç çš„æ•ˆç‡ã€‚  

### é¢˜è§£ä¸‰ï¼šï¼ˆæ¥æºï¼šFiraCodeï¼Œèµï¼š0ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„**ç©ºé—´ä¼˜åŒ–æ€è·¯å€¼å¾—å­¦ä¹ **â€”â€”ç”¨ä¸¤ä¸ªä¸€ç»´æ•°ç»„ï¼ˆ$dp$å’Œ$tmpdp$ï¼‰äº¤æ›¿å­˜å‚¨å½“å‰å’Œå‰ä¸€æ­¥çš„çŠ¶æ€ï¼Œè¿›ä¸€æ­¥å‡å°‘äº†å†…å­˜ä½¿ç”¨ã€‚ä»£ç é€»è¾‘ç®€æ´ï¼ˆå¾ªç¯å¤„ç†æ¯ä¸ªå…ƒç´ ï¼Œæ›´æ–°$dp$æ•°ç»„ï¼‰ï¼Œå¹¶ä¸”æ­£ç¡®è®¡ç®—äº†å®šå€¼éƒ¨åˆ†ï¼ˆ$\sum (a_i^2 + b_i^2) \times (n-1)$ï¼‰ã€‚**äº®ç‚¹**ï¼šæ»šåŠ¨æ•°ç»„çš„æè‡´ä¼˜åŒ–ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ç©ºé—´å¤æ‚åº¦çš„ä¼˜åŒ–æ–¹æ³•ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. **éš¾ç‚¹1ï¼šæ•°å­¦åŒ–ç®€â€”â€”å¦‚ä½•å‰¥ç¦»å®šå€¼ï¼Ÿ**  
* **åˆ†æ**ï¼šåŸå§‹ä»£ä»·å¼å­åŒ…å«å¤§é‡é¡¹ï¼Œç›´æ¥è®¡ç®—ä¼šå¾ˆå¤æ‚ã€‚é€šè¿‡å±•å¼€å¹³æ–¹é¡¹ï¼Œæˆ‘ä»¬å‘ç°$(n-1)(\sum a_i^2 + \sum b_i^2)$æ˜¯å®šå€¼ï¼ˆæ— è®ºæ˜¯å¦äº¤æ¢ï¼Œæ¯ä¸ªå…ƒç´ çš„å¹³æ–¹å’Œéƒ½ä¸å˜ï¼‰ï¼Œå› æ­¤å¯ä»¥å¿½ç•¥è¿™éƒ¨åˆ†ï¼Œåªå…³æ³¨å¯å˜éƒ¨åˆ†ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ•°å­¦åŒ–ç®€æ˜¯è§£å†³æ­¤ç±»é—®é¢˜çš„â€œæ•²é—¨ç –â€ï¼Œè¦å­¦ä¼šé€šè¿‡ä»£æ•°å˜å½¢æ‰¾åˆ°é—®é¢˜çš„æ ¸å¿ƒã€‚  

### 2. **éš¾ç‚¹2ï¼šDPçŠ¶æ€å®šä¹‰â€”â€”å¦‚ä½•è·Ÿè¸ªå‰ç¼€å’Œï¼Ÿ**  
* **åˆ†æ**ï¼šå¯å˜éƒ¨åˆ†çš„ä»£ä»·ä¸$a$æ•°ç»„çš„å‰ç¼€å’Œå¯†åˆ‡ç›¸å…³ï¼ˆæ¯”å¦‚ï¼Œ$a_i$çš„è´¡çŒ®æ˜¯$2a_i \times$å‰$i-1$ä¸ª$a$çš„å’Œï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰$ f[i][j] $è¡¨ç¤ºå‰$i$ä¸ªå…ƒç´ ã€$a$å‰ç¼€å’Œä¸º$j$çš„æœ€å°ä»£ä»·ï¼Œè¿™æ ·å¯ä»¥è·Ÿè¸ªå‰ç¼€å’Œçš„å˜åŒ–ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŠ¶æ€å®šä¹‰è¦å›´ç»•â€œå½±å“ä»£ä»·çš„å…³é”®å˜é‡â€ï¼ˆè¿™é‡Œæ˜¯å‰ç¼€å’Œï¼‰ï¼Œè¿™æ ·æ‰èƒ½æ­£ç¡®è½¬ç§»ã€‚  

### 3. **éš¾ç‚¹3ï¼šçŠ¶æ€è½¬ç§»â€”â€”å¦‚ä½•å¤„ç†äº¤æ¢é€‰æ‹©ï¼Ÿ**  
* **åˆ†æ**ï¼šå¯¹äºç¬¬$i$ä¸ªå…ƒç´ ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼ˆäº¤æ¢æˆ–ä¸äº¤æ¢ï¼‰ï¼Œæ¯ç§é€‰æ‹©éƒ½ä¼šæ”¹å˜$a$å’Œ$b$çš„å‰ç¼€å’Œã€‚è½¬ç§»æ—¶ï¼Œéœ€è¦è®¡ç®—ä¸¤ç§é€‰æ‹©çš„ä»£ä»·ï¼Œå¹¶å–æœ€å°å€¼ã€‚ä¾‹å¦‚ï¼Œä¸äº¤æ¢æ—¶ï¼Œ$a$çš„å‰ç¼€å’Œå¢åŠ $a_i$ï¼Œ$b$çš„å‰ç¼€å’Œå¢åŠ $b_i$ï¼Œä»£ä»·å¢åŠ $a_i \times$å‰$i-1$ä¸ª$a$çš„å’Œ $+ b_i \times$å‰$i-1$ä¸ª$b$çš„å’Œã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè½¬ç§»æ–¹ç¨‹è¦è¦†ç›–æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©ï¼ˆè¿™é‡Œæ˜¯äº¤æ¢ä¸ä¸äº¤æ¢ï¼‰ï¼Œå¹¶æ­£ç¡®è®¡ç®—æ¯ç§é€‰æ‹©çš„ä»£ä»·ã€‚  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **æŠ€å·§Aï¼šæ•°å­¦åŒ–ç®€**ï¼šé€šè¿‡å±•å¼€å¼å­æ‰¾åˆ°å®šå€¼éƒ¨åˆ†ï¼Œå‡å°‘é—®é¢˜å¤æ‚åº¦ï¼›  
- **æŠ€å·§Bï¼šçŠ¶æ€å®šä¹‰**ï¼šå›´ç»•å½±å“ä»£ä»·çš„å…³é”®å˜é‡ï¼ˆå‰ç¼€å’Œï¼‰å®šä¹‰DPçŠ¶æ€ï¼›  
- **æŠ€å·§Cï¼šç©ºé—´ä¼˜åŒ–**ï¼šç”¨æ»šåŠ¨æ•°ç»„å‡å°‘DPçš„ç©ºé—´å ç”¨ï¼ˆé€‚åˆå¤„ç†å¤§æ•°æ®é‡ï¼‰ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆinclude_BMã€Jairon314ã€FiraCodeçš„é¢˜è§£æ€è·¯ï¼Œæç‚¼å‡ºæ¸…æ™°çš„DPå®ç°ï¼ˆæœªä½¿ç”¨æ»šåŠ¨æ•°ç»„ï¼Œä¾¿äºç†è§£ï¼‰ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <climits>
  using namespace std;

  typedef long long ll;

  int main() {
      int T;
      cin >> T;
      while (T--) {
          int n;
          cin >> n;
          vector<int> a(n+1), b(n+1);
          ll fixed = 0; // å®šå€¼éƒ¨åˆ†
          for (int i = 1; i <= n; ++i) {
              cin >> a[i];
              fixed += (ll)(n-1) * a[i] * a[i];
          }
          for (int i = 1; i <= n; ++i) {
              cin >> b[i];
              fixed += (ll)(n-1) * b[i] * b[i];
          }

          // DPåˆå§‹åŒ–ï¼šf[i][j]è¡¨ç¤ºå‰iä¸ªå…ƒç´ ï¼Œaå‰ç¼€å’Œä¸ºjçš„æœ€å°ä»£ä»·
          vector<vector<ll>> f(n+1, vector<ll>(10001, LLONG_MAX));
          f[0][0] = 0;
          int sum_total = 0; // å‰iä¸ªå…ƒç´ çš„a+bæ€»å’Œ
          for (int i = 1; i <= n; ++i) {
              sum_total += a[i] + b[i];
              for (int j = 0; j <= 10000; ++j) {
                  if (f[i-1][j] == LLONG_MAX) continue;
                  // ä¸äº¤æ¢ï¼ša[i]åŠ å…¥aï¼Œb[i]åŠ å…¥b
                  if (j + a[i] <= 10000) {
                      ll cost = f[i-1][j] + (ll)a[i] * j + (ll)b[i] * (sum_total - a[i] - b[i] - j);
                      if (cost < f[i][j + a[i]]) {
                          f[i][j + a[i]] = cost;
                      }
                  }
                  // äº¤æ¢ï¼šb[i]åŠ å…¥aï¼Œa[i]åŠ å…¥b
                  if (j + b[i] <= 10000) {
                      ll cost = f[i-1][j] + (ll)b[i] * j + (ll)a[i] * (sum_total - a[i] - b[i] - j);
                      if (cost < f[i][j + b[i]]) {
                          f[i][j + b[i]] = cost;
                      }
                  }
              }
          }

          ll min_var = LLONG_MAX; // å¯å˜éƒ¨åˆ†çš„æœ€å°ä»£ä»·
          for (int j = 0; j <= 10000; ++j) {
              if (f[n][j] < min_var) {
                  min_var = f[n][j];
              }
          }
          cout << fixed + 2 * min_var << endl; // æ€»ä»£ä»·=å®šå€¼+2*å¯å˜éƒ¨åˆ†
      }
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šè¯»å–å¤šç»„æ•°æ®ï¼Œè®¡ç®—å®šå€¼éƒ¨åˆ†ï¼ˆ$(n-1)(\sum a_i^2 + \sum b_i^2)$ï¼‰ï¼›  
  2. **DPåˆå§‹åŒ–**ï¼š$f[0][0] = 0$ï¼ˆå¤„ç†0ä¸ªå…ƒç´ æ—¶ï¼Œå‰ç¼€å’Œä¸º0ï¼Œä»£ä»·ä¸º0ï¼‰ï¼›  
  3. **çŠ¶æ€è½¬ç§»**ï¼šå¾ªç¯å¤„ç†æ¯ä¸ªå…ƒç´ ï¼Œæ›´æ–°$f[i][j]$ï¼ˆè€ƒè™‘äº¤æ¢ä¸ä¸äº¤æ¢çš„ä¸¤ç§æƒ…å†µï¼‰ï¼›  
  4. **ç»“æœè®¡ç®—**ï¼šæ‰¾åˆ°å¯å˜éƒ¨åˆ†çš„æœ€å°ä»£ä»·ï¼Œæ€»ä»£ä»·=å®šå€¼+2*å¯å˜éƒ¨åˆ†ã€‚  

### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ  

#### é¢˜è§£ä¸€ï¼ˆinclude_BMï¼‰ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹  
* **äº®ç‚¹**ï¼šæ¸…æ™°çš„è½¬ç§»é€»è¾‘ï¼Œè¦†ç›–äº¤æ¢ä¸ä¸äº¤æ¢çš„ä¸¤ç§æƒ…å†µã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  f[i][j] = min(f[i][j], f[i-1][j-a[i]] + a[i]*(j-a[i]) + b[i]*(sum[i-1]-j+a[i]));
  f[i][j] = min(f[i][j], f[i-1][j-b[i]] + b[i]*(j-b[i]) + a[i]*(sum[i-1]-j+b[i]));
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - ç¬¬ä¸€è¡Œï¼šä¸äº¤æ¢çš„æƒ…å†µï¼Œ$a[i]$åŠ å…¥$a$æ•°ç»„ï¼Œ$b[i]$åŠ å…¥$b$æ•°ç»„ï¼Œä»£ä»·å¢åŠ $a[i] \times$å‰$i-1$ä¸ª$a$çš„å’Œï¼ˆ$j-a[i]$ï¼‰$+ b[i] \times$å‰$i-1$ä¸ª$b$çš„å’Œï¼ˆ$sum[i-1]-j+a[i]$ï¼‰ï¼›  
  - ç¬¬äºŒè¡Œï¼šäº¤æ¢çš„æƒ…å†µï¼Œ$b[i]$åŠ å…¥$a$æ•°ç»„ï¼Œ$a[i]$åŠ å…¥$b$æ•°ç»„ï¼Œä»£ä»·å¢åŠ $b[i] \times$å‰$i-1$ä¸ª$a$çš„å’Œï¼ˆ$j-b[i]$ï¼‰$+ a[i] \times$å‰$i-1$ä¸ª$b$çš„å’Œï¼ˆ$sum[i-1]-j+b[i]$ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè½¬ç§»æ–¹ç¨‹è¦æ­£ç¡®è®¡ç®—æ¯ç§é€‰æ‹©çš„ä»£ä»·ï¼Œè¿™æ˜¯DPçš„æ ¸å¿ƒã€‚  

#### é¢˜è§£äºŒï¼ˆJairon314ï¼‰ï¼šæ»šåŠ¨æ•°ç»„ä¼˜åŒ–  
* **äº®ç‚¹**ï¼šç”¨æ»šåŠ¨æ•°ç»„å‡å°‘ç©ºé—´å¤æ‚åº¦ï¼ˆå°†äºŒç»´æ•°ç»„å‹ç¼©ä¸ºä¸€ç»´ï¼‰ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  vector<ll> dp(20010, LLONG_MAX);
  dp[0] = 0;
  int sum = 0;
  for (int i = 1; i <= n; ++i) {
      vector<ll> tmp(20010, LLONG_MAX);
      sum += a[i] + b[i];
      for (int j = 0; j <= 20000; ++j) {
          if (dp[j] == LLONG_MAX) continue;
          // ä¸äº¤æ¢
          if (j + a[i] <= 20000) {
              tmp[j + a[i]] = min(tmp[j + a[i]], dp[j] + (ll)a[i] * j + (ll)b[i] * (sum - a[i] - b[i] - j));
          }
          // äº¤æ¢
          if (j + b[i] <= 20000) {
              tmp[j + b[i]] = min(tmp[j + b[i]], dp[j] + (ll)b[i] * j + (ll)a[i] * (sum - a[i] - b[i] - j));
          }
      }
      dp = move(tmp);
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - ç”¨`dp`æ•°ç»„å­˜å‚¨å‰$i-1$ä¸ªå…ƒç´ çš„çŠ¶æ€ï¼Œ`tmp`æ•°ç»„å­˜å‚¨å‰$i$ä¸ªå…ƒç´ çš„çŠ¶æ€ï¼›  
  - å¤„ç†å®Œç¬¬$i$ä¸ªå…ƒç´ åï¼Œå°†`tmp`æ•°ç»„èµ‹å€¼ç»™`dp`æ•°ç»„ï¼Œè¦†ç›–å‰$i-1$ä¸ªå…ƒç´ çš„çŠ¶æ€ï¼›  
  - ç©ºé—´å¤æ‚åº¦ä»$O(n \times 10000)$é™ä½åˆ°$O(10000)$ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ»šåŠ¨æ•°ç»„æ˜¯ä¼˜åŒ–DPç©ºé—´å¤æ‚åº¦çš„å¸¸ç”¨æ–¹æ³•ï¼Œé€‚åˆå¤„ç†å¤§æ•°æ®é‡ã€‚  

#### é¢˜è§£ä¸‰ï¼ˆFiraCodeï¼‰ï¼šæè‡´ç©ºé—´ä¼˜åŒ–  
* **äº®ç‚¹**ï¼šç”¨ä¸¤ä¸ªä¸€ç»´æ•°ç»„äº¤æ›¿å­˜å‚¨çŠ¶æ€ï¼Œè¿›ä¸€æ­¥å‡å°‘å†…å­˜ä½¿ç”¨ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  long long dp[M], tmpdp[M];
  for (int i = 0; i <= 100 * n; ++i) dp[i] = tmpdp[i] = INF;
  tmpdp[0] = 0;
  int Sum = 0;
  for (int i = 1; i <= n; i++) {
      for (int j = 0; j <= 100 * n; j++) {
          if (tmpdp[j] == INF) continue;
          dp[j + a[i]] = min(dp[j + a[i]], tmpdp[j] + a[i] * tmp1 + b[i] * tmp2);
          dp[j + b[i]] = min(dp[j + b[i]], tmpdp[j] + a[i] * tmp2 + b[i] * tmp1);
      }
      Sum += a[i] + b[i];
      for (int j = 0; j <= 100 * n; j++) {
          tmpdp[j] = dp[j];
          dp[j] = INF;
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - ç”¨`tmpdp`æ•°ç»„å­˜å‚¨å‰$i-1$ä¸ªå…ƒç´ çš„çŠ¶æ€ï¼Œ`dp`æ•°ç»„å­˜å‚¨å‰$i$ä¸ªå…ƒç´ çš„çŠ¶æ€ï¼›  
  - å¤„ç†å®Œç¬¬$i$ä¸ªå…ƒç´ åï¼Œå°†`dp`æ•°ç»„çš„å€¼å¤åˆ¶åˆ°`tmpdp`æ•°ç»„ï¼Œç„¶åé‡ç½®`dp`æ•°ç»„ï¼›  
  - ç©ºé—´å¤æ‚åº¦ä¸æ»šåŠ¨æ•°ç»„ç›¸åŒï¼Œä½†ä»£ç æ›´ç®€æ´ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæè‡´çš„ç©ºé—´ä¼˜åŒ–å¯ä»¥è®©ä»£ç åœ¨å†…å­˜å—é™çš„ç¯å¢ƒä¸‹è¿è¡Œï¼Œä½†è¦æ³¨æ„ä»£ç çš„å¯è¯»æ€§ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜  
**â€œåƒç´ èƒŒåŒ…å®¢â€çš„é€‰æ‹©ä¹‹æ—…**â€”â€”æ¨¡æ‹ŸDPçŠ¶æ€è½¬ç§»è¿‡ç¨‹ï¼Œå±•ç¤ºæ¯ä¸€æ­¥é€‰æ‹©ï¼ˆäº¤æ¢æˆ–ä¸äº¤æ¢ï¼‰å¯¹å‰ç¼€å’Œå’Œä»£ä»·çš„å½±å“ã€‚  

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¯**DPç½‘æ ¼**ï¼ˆçºµè½´ï¼šå¤„ç†çš„å…ƒç´ ä¸ªæ•°$i$ï¼Œæ¨ªè½´ï¼š$a$æ•°ç»„çš„å‰ç¼€å’Œ$j$ï¼‰ï¼Œæ¯ä¸ªæ ¼å­çš„é¢œè‰²è¡¨ç¤ºå½“å‰çš„æœ€å°ä»£ä»·ï¼ˆç»¿è‰²è¶Šæ·±ï¼Œä»£ä»·è¶Šå°ï¼‰ï¼›  
   - å±å¹•å³ä¾§æ˜¯**æ§åˆ¶é¢æ¿**ï¼ˆåŒ…å«â€œå¼€å§‹/æš‚åœâ€â€œå•æ­¥æ‰§è¡Œâ€â€œé‡ç½®â€æŒ‰é’®ï¼Œä»¥åŠé€Ÿåº¦æ»‘å—ï¼‰ï¼›  
   - èƒŒæ™¯æ˜¯8ä½åƒç´ é£æ ¼çš„â€œèƒŒåŒ…å®¢â€åœºæ™¯ï¼ˆæ¯”å¦‚ï¼Œä¸€ä¸ªå°çŸ®äººç«™åœ¨è·¯å£ï¼Œé¢å‰æœ‰ä¸¤æ¡è·¯ï¼šâ€œä¸äº¤æ¢â€å’Œâ€œäº¤æ¢â€ï¼‰ã€‚  

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - åˆå§‹çŠ¶æ€ï¼š$f[0][0] = 0$ï¼ˆç½‘æ ¼çš„$(0,0)$æ ¼å­æ˜¯æ·±ç»¿è‰²ï¼‰ï¼›  
   - èƒŒåŒ…å®¢ç«™åœ¨$(0,0)$ä½ç½®ï¼Œæ—è¾¹æ˜¾ç¤ºâ€œå¤„ç†ç¬¬1ä¸ªå…ƒç´ â€ã€‚  

3. **çŠ¶æ€è½¬ç§»æ¼”ç¤º**ï¼š  
   - **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼ŒèƒŒåŒ…å®¢ä»$(i-1,j)$èµ°åˆ°$(i,j+a_i)$ï¼ˆä¸äº¤æ¢ï¼‰æˆ–$(i,j+b_i)$ï¼ˆäº¤æ¢ï¼‰ï¼Œè·¯å¾„ç”¨**é»„è‰²ç®­å¤´**æ ‡è®°ï¼›  
   - **ä»£ä»·æ›´æ–°**ï¼šç›®æ ‡æ ¼å­çš„é¢œè‰²å˜æ·±ï¼ˆè¡¨ç¤ºä»£ä»·æ›´å°ï¼‰ï¼Œæ—è¾¹æ˜¾ç¤ºä»£ä»·çš„å˜åŒ–ï¼ˆæ¯”å¦‚ï¼Œâ€œä»£ä»·å¢åŠ ï¼š10â€ï¼‰ï¼›  
   - **éŸ³æ•ˆ**ï¼šäº¤æ¢æ—¶æ’­æ”¾â€œå®â€çš„åƒç´ éŸ³æ•ˆï¼ŒçŠ¶æ€æ›´æ–°æ—¶æ’­æ”¾â€œæ»´â€çš„éŸ³æ•ˆã€‚  

4. **ç›®æ ‡è¾¾æˆ**ï¼š  
   - å¤„ç†å®Œæ‰€æœ‰$n$ä¸ªå…ƒç´ åï¼Œç½‘æ ¼çš„$(n,j)$è¡Œä¸­æœ€æ·±çš„ç»¿è‰²æ ¼å­ï¼ˆæœ€å°ä»£ä»·ï¼‰é—ªçƒï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼›  
   - å±å¹•æ˜¾ç¤ºæ€»ä»£ä»·ï¼ˆå®šå€¼+2*å¯å˜éƒ¨åˆ†ï¼‰ã€‚  

### äº¤äº’è®¾è®¡  
- **æ­¥è¿›æ§åˆ¶**ï¼šæ”¯æŒâ€œå•æ­¥æ‰§è¡Œâ€ï¼ˆé€è¡Œå¤„ç†å…ƒç´ ï¼‰å’Œâ€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆè‡ªå®šä¹‰é€Ÿåº¦ï¼Œæ¯”å¦‚1ç§’/æ­¥ï¼‰ï¼›  
- **é‡ç½®åŠŸèƒ½**ï¼šç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œå›åˆ°åˆå§‹çŠ¶æ€ï¼›  
- **ç®—æ³•æ¯”è¾ƒ**ï¼šï¼ˆå¯é€‰ï¼‰åŒæ—¶æ¼”ç¤ºâ€œäº¤æ¢â€å’Œâ€œä¸äº¤æ¢â€ä¸¤ç§é€‰æ‹©çš„ä»£ä»·å˜åŒ–ï¼Œå¸®åŠ©ç†è§£ä¸¤è€…çš„å·®å¼‚ã€‚  

### è®¾è®¡æ€è·¯  
- **åƒç´ é£æ ¼**ï¼šè¥é€ å¤å¤æ¸¸æˆçš„æ°›å›´ï¼Œé™ä½å­¦ä¹ çš„ç´§å¼ æ„Ÿï¼›  
- **çŠ¶æ€é«˜äº®**ï¼šç”¨é¢œè‰²å’Œç®­å¤´æ¸…æ™°å±•ç¤ºDPçš„è½¬ç§»è¿‡ç¨‹ï¼Œå¸®åŠ©ç†è§£çŠ¶æ€çš„å˜åŒ–ï¼›  
- **éŸ³æ•ˆåé¦ˆ**ï¼šç”¨éŸ³æ•ˆå¼ºåŒ–å…³é”®æ“ä½œï¼ˆäº¤æ¢ã€çŠ¶æ€æ›´æ–°ï¼‰ï¼Œæé«˜è®°å¿†æ•ˆç‡ï¼›  
- **æ¸¸æˆåŒ–å…ƒç´ **ï¼šå°†DPè¿‡ç¨‹è®¾è®¡ä¸ºâ€œèƒŒåŒ…å®¢çš„é€‰æ‹©ä¹‹æ—…â€ï¼Œå¢åŠ å­¦ä¹ çš„è¶£å‘³æ€§ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
æœ¬é¢˜çš„æ ¸å¿ƒæ€è·¯ï¼ˆæ•°å­¦åŒ–ç®€+DPè·Ÿè¸ªå‰ç¼€å’Œï¼‰å¯ä»¥è¿ç§»åˆ°ä»¥ä¸‹åœºæ™¯ï¼š  
- **èƒŒåŒ…é—®é¢˜**ï¼šæ¯”å¦‚ï¼Œ0-1èƒŒåŒ…é—®é¢˜ï¼ˆé€‰æ‹©ç‰©å“ä¸å¦ï¼Œè·Ÿè¸ªæ€»é‡é‡ï¼‰ï¼›  
- **å­—ç¬¦ä¸²é—®é¢˜**ï¼šæ¯”å¦‚ï¼Œæœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆè·Ÿè¸ªä¸¤ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ï¼Œé€‰æ‹©åŒ¹é…æˆ–ä¸åŒ¹é…ï¼‰ï¼›  
- **å›¾è®ºé—®é¢˜**ï¼šæ¯”å¦‚ï¼Œæœ€çŸ­è·¯å¾„é—®é¢˜ï¼ˆè·Ÿè¸ªå½“å‰èŠ‚ç‚¹ï¼Œé€‰æ‹©ç›¸é‚»èŠ‚ç‚¹ï¼‰ã€‚  

### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P1280** - ã€Šå°¼å…‹çš„ä»»åŠ¡ã€‹  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜è€ƒå¯ŸåŠ¨æ€è§„åˆ’çš„çŠ¶æ€å®šä¹‰å’Œè½¬ç§»ï¼Œéœ€è¦è·Ÿè¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€ï¼Œä¸æœ¬é¢˜çš„å‰ç¼€å’Œè·Ÿè¸ªæ€è·¯ç±»ä¼¼ã€‚  
2. **æ´›è°· P1048** - ã€Šé‡‡è¯ã€‹  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»å…¸çš„0-1èƒŒåŒ…é—®é¢˜ï¼Œéœ€è¦é€‰æ‹©ç‰©å“ä¸å¦ï¼Œè·Ÿè¸ªæ€»é‡é‡å’Œæ€»ä»·å€¼ï¼Œä¸æœ¬é¢˜çš„äº¤æ¢é€‰æ‹©æ€è·¯ç±»ä¼¼ã€‚  
3. **æ´›è°· P2340** - ã€Šç ç é—®é¢˜ã€‹  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè€ƒå¯ŸåŠ¨æ€è§„åˆ’çš„çŠ¶æ€è½¬ç§»ï¼Œéœ€è¦è·Ÿè¸ªå½“å‰å¯ä»¥ç»„æˆçš„é‡é‡ï¼Œä¸æœ¬é¢˜çš„å‰ç¼€å’Œè·Ÿè¸ªæ€è·¯ç±»ä¼¼ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### å‚è€ƒç»éªŒ (æ¥è‡ª include_BM)  
> â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆæ²¡æœ‰æƒ³åˆ°æ•°å­¦åŒ–ç®€ï¼Œç›´æ¥å°è¯•è®¡ç®—æ‰€æœ‰å¯èƒ½çš„äº¤æ¢æƒ…å†µï¼Œç»“æœè¶…æ—¶äº†ã€‚åæ¥é€šè¿‡å±•å¼€å¼å­ï¼Œå‘ç°å®šå€¼éƒ¨åˆ†å¯ä»¥å¿½ç•¥ï¼Œæ‰æ‰¾åˆ°äº†DPçš„æ€è·¯ã€‚â€  

**ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå…¸å‹ã€‚åœ¨è§£å†³å¤æ‚é—®é¢˜æ—¶ï¼Œ**æ•°å­¦åŒ–ç®€æ˜¯å…³é”®**â€”â€”å®ƒèƒ½å¸®æˆ‘ä»¬å‰¥ç¦»æ— å…³éƒ¨åˆ†ï¼Œèšç„¦äºé—®é¢˜çš„æ ¸å¿ƒã€‚å¦‚æœç›´æ¥æš´åŠ›è®¡ç®—ï¼Œä¼šå› ä¸ºæ—¶é—´å¤æ‚åº¦å¤ªé«˜è€Œæ— æ³•é€šè¿‡ã€‚  

### å‚è€ƒç»éªŒ (æ¥è‡ª Jairon314)  
> â€œæˆ‘åœ¨å®ç°DPæ—¶ï¼Œä¸€å¼€å§‹ç”¨äº†äºŒç»´æ•°ç»„ï¼Œç»“æœå†…å­˜ä¸å¤Ÿã€‚åæ¥ç”¨äº†æ»šåŠ¨æ•°ç»„ï¼Œæ‰è§£å†³äº†å†…å­˜é—®é¢˜ã€‚â€  

**ç‚¹è¯„**ï¼šæ»šåŠ¨æ•°ç»„æ˜¯ä¼˜åŒ–DPç©ºé—´å¤æ‚åº¦çš„å¸¸ç”¨æ–¹æ³•ï¼Œé€‚åˆå¤„ç†å¤§æ•°æ®é‡ã€‚åœ¨æœ¬é¢˜ä¸­ï¼ŒäºŒç»´æ•°ç»„çš„ç©ºé—´å¤æ‚åº¦æ˜¯$O(n \times 10000)$ï¼Œè€Œæ»šåŠ¨æ•°ç»„çš„ç©ºé—´å¤æ‚åº¦æ˜¯$O(10000)$ï¼Œå¤§å¤§å‡å°‘äº†å†…å­˜ä½¿ç”¨ã€‚  


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œYet Another Minimization Problemâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶ç†è§£åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒæ€è·¯ï¼ˆçŠ¶æ€å®šä¹‰ã€è½¬ç§»æ–¹ç¨‹ï¼‰å’Œæ•°å­¦åŒ–ç®€çš„é‡è¦æ€§ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**æŒç»­å­¦ä¹ ã€å‹¤äºæ€è€ƒå’Œå‹‡äºå®è·µ**ã€‚ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š258.39ç§’
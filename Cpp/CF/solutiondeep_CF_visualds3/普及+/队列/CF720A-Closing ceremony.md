# é¢˜ç›®ä¿¡æ¯

# Closing ceremony

## é¢˜ç›®æè¿°

The closing ceremony of Squanch Code Cup is held in the big hall with $ nÃ—m $ seats, arranged in $ n $ rows, $ m $ seats in a row. Each seat has two coordinates $ (x,y) $ ( $ 1<=x<=n $ , $ 1<=y<=m $ ).

There are two queues of people waiting to enter the hall: $ k $ people are standing at $ (0,0) $ and $ nÂ·m-k $ people are standing at $ (0,m+1) $ . Each person should have a ticket for a specific seat. If person $ p $ at $ (x,y) $ has ticket for seat $ (x_{p},y_{p}) $ then he should walk $ |x-x_{p}|+|y-y_{p}| $ to get to his seat.

Each person has a stamina â€” the maximum distance, that the person agrees to walk. You should find out if this is possible to distribute all $ nÂ·m $ tickets in such a way that each person has enough stamina to get to their seat.

## æ ·ä¾‹ #1

### è¾“å…¥

```
2 2
3 3 3 2
1 3
```

### è¾“å‡º

```
YES
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
2 2
3 2 3 3
1 2
```

### è¾“å‡º

```
NO
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šClosing ceremony æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šè´ªå¿ƒç®—æ³•ï¼ˆGreedy Algorithmï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œClosing ceremonyâ€çš„å…³é”®ï¼Œå°±åƒ**åˆ†è›‹ç³•æ¸¸æˆ**â€”â€”å·¦è¾¹çš„äººï¼ˆä»(0,0)è¿›å…¥ï¼‰è¦é€‰**å¯¹å³è¾¹çš„äººï¼ˆä»(0,m+1)è¿›å…¥ï¼‰æ¥è¯´æœ€è¿œçš„è›‹ç³•**ï¼ˆåº§ä½ï¼‰ï¼Œè¿™æ ·å³è¾¹çš„äººè¿˜èƒ½æ‹¿åˆ°è¶³å¤Ÿè¿‘çš„è›‹ç³•ã€‚ç®€å•æ¥è¯´ï¼Œè´ªå¿ƒç®—æ³•çš„æ ¸å¿ƒæ˜¯â€œ**æ¯æ¬¡é€‰å½“å‰æœ€ä¼˜ï¼Œæœ€ç»ˆå¾—åˆ°å…¨å±€æœ€ä¼˜**â€ã€‚  
åœ¨æœ¬é¢˜ä¸­ï¼Œè´ªå¿ƒç­–ç•¥çš„æ­£ç¡®æ€§åŸºäºï¼š  
- å·¦è¾¹çš„äººè€åŠ›å€¼**ä»å°åˆ°å¤§æ’åº**ï¼ˆè€åŠ›å°çš„äººé€‰æ‹©èŒƒå›´å°ï¼Œå¿…é¡»å…ˆé€‰ï¼‰ï¼›  
- æ¯ä¸ªå·¦è¾¹çš„äººè¦é€‰**è‡ªå·±èƒ½åˆ°è¾¾çš„ï¼ˆæ›¼å“ˆé¡¿è·ç¦»â‰¤è€åŠ›ï¼‰ã€ä¸”å¯¹å³è¾¹çš„äººæ¥è¯´æœ€è¿œçš„åº§ä½**ï¼ˆå³åˆ°(0,m+1)çš„æ›¼å“ˆé¡¿è·ç¦»æœ€å¤§ï¼‰ï¼›  
- å³è¾¹çš„äººåŒç†ï¼Œé€‰è‡ªå·±èƒ½åˆ°è¾¾çš„ã€å¯¹å·¦è¾¹çš„äººæ¥è¯´æœ€è¿œçš„åº§ä½ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼šå¦‚ä½•**é«˜æ•ˆæ‰¾åˆ°å¹¶ç»´æŠ¤â€œç¬¦åˆæ¡ä»¶çš„æœ€è¿œåº§ä½â€**ï¼Ÿé¢˜è§£ä¸­ç”¨åˆ°äº†çº¿æ®µæ ‘ã€ä¼˜å…ˆé˜Ÿåˆ—ã€äºŒåˆ†æŸ¥æ‰¾ç­‰æ•°æ®ç»“æ„ï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä»¬ç”¨**8ä½åƒç´ é£æ ¼**ï¼ˆç±»ä¼¼FCæ¸¸æˆï¼‰å±•ç¤ºåº§ä½çŸ©é˜µï¼ˆæ¯ä¸ªåº§ä½æ˜¯ä¸€ä¸ªåƒç´ å—ï¼‰ï¼Œå·¦è¾¹çš„äººæ˜¯çº¢è‰²åƒç´ ï¼Œå³è¾¹çš„äººæ˜¯ç»¿è‰²åƒç´ ã€‚åŠ¨ç”»ä¸­ï¼Œçº¢è‰²åƒç´ ä¼š**é«˜äº®æ‰€æœ‰èƒ½åˆ°è¾¾çš„åº§ä½**ï¼Œç„¶åé€‰æ‹©**è“è‰²é«˜äº®çš„æœ€è¿œåº§ä½**ï¼ˆåˆ°å³è¾¹çš„è·ç¦»æœ€å¤§ï¼‰ï¼Œé€‰ä¸­ååº§ä½å˜æˆç°è‰²ï¼ˆå·²ç”¨ï¼‰ã€‚å³è¾¹çš„äººåŒç†ï¼Œæœ€åå¦‚æœæ‰€æœ‰åº§ä½éƒ½è¢«å¡«æ»¡ï¼Œæ˜¾ç¤ºâ€œYESâ€ï¼ˆä¼´éšèƒœåˆ©éŸ³æ•ˆï¼‰ï¼Œå¦åˆ™æ˜¾ç¤ºâ€œNOâ€ï¼ˆä¼´éšå¤±è´¥éŸ³æ•ˆï¼‰ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šiodwadï¼ˆèµï¼š5ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„**æ€è·¯æ¸…æ™°æ€§**å’Œ**ç®—æ³•æœ‰æ•ˆæ€§**éå¸¸çªå‡ºï¼ä½œè€…ç”¨**çº¿æ®µæ ‘**ç»´æŠ¤æ¯ä¸ªåº§ä½åˆ°å³è¾¹çš„è·ç¦»ï¼Œå®ç°äº†**O(log n)æ—¶é—´çš„æŸ¥è¯¢ï¼ˆæ‰¾ç¬¦åˆæ¡ä»¶çš„æœ€è¿œåº§ä½ï¼‰å’Œä¿®æ”¹ï¼ˆæ ‡è®°å·²ç”¨ï¼‰**ï¼Œæ€»å¤æ‚åº¦O(n log n)ï¼Œé«˜æ•ˆè§£å†³äº†â€œç»´æŠ¤æœ€è¿œåº§ä½â€çš„é—®é¢˜ã€‚  
  ä»£ç é£æ ¼è§„èŒƒï¼ˆå˜é‡åå¦‚`p`å­˜å‚¨åº§ä½çš„è·ç¦»ä¿¡æ¯ï¼Œ`a`å’Œ`b`åˆ†åˆ«å­˜å‚¨å·¦å³ä¸¤è¾¹çš„è€åŠ›å€¼ï¼‰ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆæ¯”å¦‚æ‰¾ä¸åˆ°ç¬¦åˆæ¡ä»¶çš„åº§ä½æ—¶ç›´æ¥è¿”å›â€œNOâ€ï¼‰ã€‚  
  äº®ç‚¹ï¼š**çº¿æ®µæ ‘çš„å·§å¦™åº”ç”¨**â€”â€”å°†â€œæ‰¾æœ€è¿œåº§ä½â€è½¬åŒ–ä¸ºâ€œåŒºé—´æœ€å¤§å€¼æŸ¥è¯¢â€ï¼Œå®Œç¾åŒ¹é…è´ªå¿ƒç­–ç•¥çš„éœ€æ±‚ã€‚

### é¢˜è§£äºŒï¼šhjqhsï¼ˆèµï¼š2ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„**ä»£ç ç®€æ´æ€§**è®©äººçœ¼å‰ä¸€äº®ï¼ä½œè€…ç”¨**lower_bound**ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰å¿«é€Ÿæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„åº§ä½ï¼Œå¹¶ç›´æ¥åˆ é™¤ï¼ˆ`erase`ï¼‰ï¼Œæ€è·¯éå¸¸ç›´è§‚ã€‚  
  ä»£ç é€»è¾‘ç´§å‡‘ï¼ˆæ¯”å¦‚ç”¨`per(i,n,1) rep(j,1,m)`å¾ªç¯å¤„ç†æ¯ä¸ªåº§ä½ï¼Œä»ä¸‹å¾€ä¸Šè´ªå¿ƒé€‰æ‹©ï¼‰ï¼Œå˜é‡å‘½åæ¸…æ™°ï¼ˆ`a`å’Œ`b`åˆ†åˆ«å­˜å‚¨å·¦å³ä¸¤è¾¹çš„è€åŠ›å€¼ï¼‰ã€‚  
  äº®ç‚¹ï¼š**äºŒåˆ†æŸ¥æ‰¾çš„å¦™ç”¨**â€”â€”å°†â€œæ‰¾ç¬¦åˆæ¡ä»¶çš„åº§ä½â€è½¬åŒ–ä¸ºâ€œæŸ¥æ‰¾ç¬¬ä¸€ä¸ªâ‰¥ç›®æ ‡å€¼çš„å…ƒç´ â€ï¼Œé¿å…äº†æš´åŠ›æšä¸¾ï¼Œæ•ˆç‡è¾ƒé«˜ã€‚

### é¢˜è§£ä¸‰ï¼šRainFestivalï¼ˆèµï¼š1ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„**æ•°æ®ç»“æ„é€‰æ‹©**å¾ˆæœ‰å¯å‘æ€§ï¼ä½œè€…ç”¨**ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå¤§æ ¹å †ï¼‰**ç»´æŠ¤æ¯ä¸ªåº§ä½åˆ°å³è¾¹çš„è·ç¦»ï¼Œæ¯æ¬¡å–å‡ºæœ€å¤§å€¼ï¼ˆæœ€è¿œåº§ä½ï¼‰ï¼Œç¬¦åˆè´ªå¿ƒç­–ç•¥çš„â€œé€‰æœ€è¿œâ€éœ€æ±‚ã€‚  
  ä»£ç ç»“æ„æ¸…æ™°ï¼ˆæ¯”å¦‚ç”¨`pq`å­˜å‚¨å·¦è¾¹çš„å¯é€‰åº§ä½ï¼Œ`q`å­˜å‚¨å³è¾¹çš„å¯é€‰åº§ä½ï¼‰ï¼Œæ³¨é‡Šè¯¦ç»†ï¼ˆæ¯”å¦‚`dist`å‡½æ•°è®¡ç®—æ›¼å“ˆé¡¿è·ç¦»ï¼‰ã€‚  
  äº®ç‚¹ï¼š**ä¼˜å…ˆé˜Ÿåˆ—çš„ç›´è§‚åº”ç”¨**â€”â€”å¤§æ ¹å †å¤©ç„¶æ”¯æŒâ€œå–æœ€å¤§å€¼â€ï¼Œå®Œç¾åŒ¹é…â€œé€‰æœ€è¿œåº§ä½â€çš„éœ€æ±‚ï¼Œä»£ç å®¹æ˜“ç†è§£ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. **å…³é”®ç‚¹1ï¼šä¸ºä»€ä¹ˆè´ªå¿ƒç­–ç•¥æ˜¯æ­£ç¡®çš„ï¼Ÿ**  
* **åˆ†æ**ï¼š  
  å·¦è¾¹çš„äººå¦‚æœé€‰äº†**å¯¹å³è¾¹çš„äººæ¥è¯´è¾ƒè¿‘çš„åº§ä½**ï¼Œä¼šå ç”¨å³è¾¹çš„äººèƒ½åˆ°è¾¾çš„åº§ä½ï¼Œå¯¼è‡´å³è¾¹çš„äººæ— æ³•æ‰¾åˆ°åˆé€‚çš„ä½ç½®ã€‚è€Œé€‰**æœ€è¿œçš„åº§ä½**ï¼Œåˆ™ä¸ä¼šå ç”¨å³è¾¹çš„äººèƒ½åˆ°è¾¾çš„è¿‘åº§ä½ï¼Œä¿è¯äº†å³è¾¹çš„äººæœ‰è¶³å¤Ÿçš„é€‰æ‹©ã€‚  
  æ¯”å¦‚ï¼Œå·¦è¾¹çš„äººè€åŠ›å€¼ä¸º3ï¼Œèƒ½åˆ°è¾¾çš„åº§ä½æœ‰(1,1)ï¼ˆåˆ°å³è¾¹çš„è·ç¦»æ˜¯1+2=3ï¼‰å’Œ(1,2)ï¼ˆåˆ°å³è¾¹çš„è·ç¦»æ˜¯1+1=2ï¼‰ï¼Œé€‰(1,1)ï¼ˆæœ€è¿œï¼‰å¯¹å³è¾¹çš„äººæ›´å¥½ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè´ªå¿ƒç­–ç•¥çš„æ­£ç¡®æ€§éœ€è¦**è¯æ˜â€œå½“å‰æœ€ä¼˜é€‰æ‹©ä¸ä¼šå¯¼è‡´å…¨å±€æœ€ä¼˜è§£ä¸¢å¤±â€**ã€‚

### 2. **å…³é”®ç‚¹2ï¼šå¦‚ä½•é«˜æ•ˆç»´æŠ¤â€œç¬¦åˆæ¡ä»¶çš„æœ€è¿œåº§ä½â€ï¼Ÿ**  
* **åˆ†æ**ï¼š  
  æš´åŠ›æšä¸¾æ‰€æœ‰åº§ä½ï¼ˆæ¯”å¦‚Seanqçš„é¢˜è§£ï¼‰çš„å¤æ‚åº¦æ˜¯O(nÂ²mÂ²)ï¼Œå¯¹äºå¤§æ•°æ®ï¼ˆæ¯”å¦‚n=1000ï¼Œm=1000ï¼‰ä¼šè¶…æ—¶ã€‚é¢˜è§£ä¸­ç”¨åˆ°äº†**çº¿æ®µæ ‘**ï¼ˆiodwadï¼‰ã€**ä¼˜å…ˆé˜Ÿåˆ—**ï¼ˆRainFestivalï¼‰ã€**äºŒåˆ†æŸ¥æ‰¾**ï¼ˆhjqhsï¼‰ç­‰æ•°æ®ç»“æ„ï¼Œå°†æŸ¥è¯¢å’Œä¿®æ”¹çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ°O(log n)æˆ–O(log m)ã€‚  
  æ¯”å¦‚ï¼Œçº¿æ®µæ ‘å¯ä»¥ç»´æŠ¤æ¯ä¸ªåº§ä½åˆ°å³è¾¹çš„è·ç¦»ï¼ŒæŸ¥è¯¢åŒºé—´[1,l]ï¼ˆlæ˜¯å·¦è¾¹çš„äººèƒ½åˆ°è¾¾çš„æœ€å¤§è·ç¦»ï¼‰çš„æœ€å¤§å€¼ï¼Œå°±æ˜¯ç¬¦åˆæ¡ä»¶çš„æœ€è¿œåº§ä½ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé€‰æ‹©æ­£ç¡®çš„æ•°æ®ç»“æ„èƒ½è®©ç®—æ³•â€œé£èµ·æ¥â€ï¼

### 3. **å…³é”®ç‚¹3ï¼šå¦‚ä½•å¤„ç†è¾¹ç•Œæ¡ä»¶ï¼Ÿ**  
* **åˆ†æ**ï¼š  
  å½“å·¦è¾¹çš„äººæ‰¾ä¸åˆ°ç¬¦åˆæ¡ä»¶çš„åº§ä½ï¼ˆæ¯”å¦‚è€åŠ›å€¼å¤ªå°ï¼Œæ²¡æœ‰èƒ½åˆ°è¾¾çš„åº§ä½ï¼‰ï¼Œæˆ–è€…å³è¾¹çš„äººæ‰¾ä¸åˆ°ç¬¦åˆæ¡ä»¶çš„åº§ä½æ—¶ï¼Œç›´æ¥è¿”å›â€œNOâ€ã€‚é¢˜è§£ä¸­éƒ½å¤„ç†äº†è¿™ç§æƒ…å†µï¼ˆæ¯”å¦‚iodwadçš„`if (l == 0)`æˆ–`if (res.first == -1)`ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹ç•Œæ¡ä»¶æ˜¯ç®—æ³•çš„â€œä¿é™©æ “â€ï¼Œä¸€å®šè¦è€ƒè™‘å…¨é¢ï¼


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **æ’åºæ˜¯è´ªå¿ƒçš„å‰æ**ï¼šå°†å·¦å³ä¸¤è¾¹çš„è€åŠ›å€¼ä»å°åˆ°å¤§æ’åºï¼Œä¿è¯è€åŠ›å°çš„äººå…ˆé€‰ï¼ˆé€‰æ‹©èŒƒå›´å°ï¼‰ã€‚  
- **æ•°æ®ç»“æ„ä¼˜åŒ–æ•ˆç‡**ï¼šç”¨çº¿æ®µæ ‘ã€ä¼˜å…ˆé˜Ÿåˆ—ã€äºŒåˆ†æŸ¥æ‰¾ç­‰æ•°æ®ç»“æ„ï¼Œé¿å…æš´åŠ›æšä¸¾ã€‚  
- **è´ªå¿ƒç­–ç•¥è¦è¯æ˜**ï¼šé€šè¿‡åè¯æ³•ï¼ˆæ¯”å¦‚å‡è®¾é€‰äº†è¾ƒè¿‘çš„åº§ä½ï¼Œå¯¼è‡´å³è¾¹çš„äººæ— æ³•é€‰ï¼Œä»è€ŒçŸ›ç›¾ï¼‰è¯æ˜è´ªå¿ƒç­–ç•¥çš„æ­£ç¡®æ€§ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†iodwadå’ŒRainFestivalçš„æ€è·¯ï¼Œç”¨**ä¼˜å…ˆé˜Ÿåˆ—**ç»´æŠ¤å·¦è¾¹çš„å¯é€‰åº§ä½ï¼Œå®ç°è´ªå¿ƒç­–ç•¥ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <queue>
  #include <algorithm>
  #include <cstring>
  using namespace std;

  const int MAXN = 10005;
  int n, m, k1, k2;
  int a[MAXN], b[MAXN];
  bool used[MAXN][MAXN]; // æ ‡è®°åº§ä½æ˜¯å¦å·²ç”¨

  // è®¡ç®—æ›¼å“ˆé¡¿è·ç¦»
  int dist(int x1, int y1, int x2, int y2) {
      return abs(x1 - x2) + abs(y1 - y2);
  }

  int main() {
      cin >> n >> m >> k1;
      for (int i = 1; i <= k1; i++) cin >> a[i];
      cin >> k2;
      for (int i = 1; i <= k2; i++) cin >> b[i];

      // æ’åºï¼šè€åŠ›å°çš„äººå…ˆé€‰
      sort(a + 1, a + k1 + 1);
      sort(b + 1, b + k2 + 1);

      // ä¼˜å…ˆé˜Ÿåˆ—ï¼šå­˜å‚¨å·¦è¾¹çš„å¯é€‰åº§ä½ï¼ˆåˆ°å³è¾¹çš„è·ç¦»ï¼Œåæ ‡ï¼‰ï¼Œå¤§æ ¹å †
      priority_queue<pair<int, pair<int, int>>> pq;

      // åˆå§‹åŒ–å·¦è¾¹çš„å¯é€‰åº§ä½ï¼šæ‰€æœ‰åº§ä½åˆ°(0,0)çš„è·ç¦»â‰¤a[i]
      for (int i = 1; i <= n; i++) {
          for (int j = 1; j <= m; j++) {
              int d0 = dist(i, j, 0, 0); // åˆ°å·¦è¾¹çš„è·ç¦»
              int d1 = dist(i, j, 0, m+1); // åˆ°å³è¾¹çš„è·ç¦»
              pq.push({d1, {i, j}}); // æŒ‰åˆ°å³è¾¹çš„è·ç¦»ä»å¤§åˆ°å°æ’åº
          }
      }

      // å¤„ç†å·¦è¾¹çš„äºº
      for (int i = 1; i <= k1; i++) {
          bool found = false;
          vector<pair<int, pair<int, int>>> temp; // ä¸´æ—¶å­˜å‚¨æœªé€‰ä¸­çš„åº§ä½
          while (!pq.empty()) {
              auto top = pq.top(); pq.pop();
              int d1 = top.first;
              int x = top.second.first;
              int y = top.second.second;
              if (used[x][y]) continue; // å·²ç”¨ï¼Œè·³è¿‡
              int d0 = dist(x, y, 0, 0); // åˆ°å·¦è¾¹çš„è·ç¦»
              if (d0 <= a[i]) { // ç¬¦åˆæ¡ä»¶ï¼Œé€‰ä¸­
                  used[x][y] = true;
                  found = true;
                  break;
              } else {
                  temp.push_back(top); // ä¸ç¬¦åˆï¼Œæ”¾å›ä¸´æ—¶æ•°ç»„
              }
          }
          // å°†ä¸´æ—¶æ•°ç»„ä¸­çš„åº§ä½æ”¾å›ä¼˜å…ˆé˜Ÿåˆ—
          for (auto &p : temp) pq.push(p);
          if (!found) {
              cout << "NO" << endl;
              return 0;
          }
      }

      // å¤„ç†å³è¾¹çš„äººï¼ˆç±»ä¼¼å·¦è¾¹ï¼Œç•¥ï¼‰
      // ...

      cout << "YES" << endl;
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¯»å–è¾“å…¥å¹¶æ’åºå·¦å³ä¸¤è¾¹çš„è€åŠ›å€¼ï¼›  
  2. ç”¨ä¼˜å…ˆé˜Ÿåˆ—å­˜å‚¨æ‰€æœ‰åº§ä½ï¼ŒæŒ‰åˆ°å³è¾¹çš„è·ç¦»ä»å¤§åˆ°å°æ’åºï¼›  
  3. å¤„ç†å·¦è¾¹çš„äººï¼šä¾æ¬¡å–å‡ºä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„åº§ä½ï¼Œåˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼ˆåˆ°å·¦è¾¹çš„è·ç¦»â‰¤è€åŠ›å€¼ï¼‰ï¼Œé€‰ä¸­åæ ‡è®°ä¸ºå·²ç”¨ï¼›  
  4. å¤„ç†å³è¾¹çš„äººï¼ˆç±»ä¼¼å·¦è¾¹ï¼Œç•¥ï¼‰ï¼›  
  5. å¦‚æœæ‰€æœ‰å·¦è¾¹çš„äººéƒ½æ‰¾åˆ°åº§ä½ï¼Œè¾“å‡ºâ€œYESâ€ï¼Œå¦åˆ™è¾“å‡ºâ€œNOâ€ã€‚


### é¢˜è§£ä¸€ï¼šiodwadçš„çº¿æ®µæ ‘ç‰‡æ®µèµæ  
* **äº®ç‚¹**ï¼šç”¨çº¿æ®µæ ‘ç»´æŠ¤â€œç¬¦åˆæ¡ä»¶çš„æœ€è¿œåº§ä½â€ï¼Œæ•ˆç‡é«˜ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  namespace SegmentTree {
      struct Node {
          int maxv, posv; // maxvï¼šåŒºé—´å†…çš„æœ€å¤§å€¼ï¼ˆåˆ°å³è¾¹çš„è·ç¦»ï¼‰ï¼Œposvï¼šæœ€å¤§å€¼çš„ä½ç½®
          Node *ch[2];
          Node() : maxv(-1), posv(0) { ch[0] = ch[1] = NULL; }
      } *root;

      void build(Node *&o, int l, int r) {
          o = new Node;
          if (l == r) {
              o->maxv = p[l].second; // p[l].secondæ˜¯åˆ°å³è¾¹çš„è·ç¦»
              o->posv = l;
              return;
          }
          int mid = (l + r) >> 1;
          build(o->ch[0], l, mid);
          build(o->ch[1], mid + 1, r);
          pushup(o); // æ›´æ–°çˆ¶èŠ‚ç‚¹çš„maxvå’Œposv
      }

      pair<int, int> query(Node *o, int l, int r, int ql, int qr) {
          if (ql <= l && r <= qr) return {o->maxv, o->posv};
          int mid = (l + r) >> 1;
          pair<int, int> res = {-1, 0};
          if (ql <= mid) res = query(o->ch[0], l, mid, ql, qr);
          if (mid < qr) {
              auto ress = query(o->ch[1], mid + 1, r, ql, qr);
              if (ress > res) res = ress;
          }
          return res;
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - çº¿æ®µæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨**åŒºé—´å†…çš„æœ€å¤§å€¼ï¼ˆåˆ°å³è¾¹çš„è·ç¦»ï¼‰å’Œæœ€å¤§å€¼çš„ä½ç½®**ï¼›  
  - `build`å‡½æ•°æ„å»ºçº¿æ®µæ ‘ï¼Œå°†æ¯ä¸ªåº§ä½çš„åˆ°å³è¾¹çš„è·ç¦»å­˜å…¥å¶å­èŠ‚ç‚¹ï¼›  
  - `query`å‡½æ•°æŸ¥è¯¢åŒºé—´[ql, qr]ï¼ˆå·¦è¾¹çš„äººèƒ½åˆ°è¾¾çš„æœ€å¤§è·ç¦»ï¼‰çš„æœ€å¤§å€¼ï¼Œå°±æ˜¯ç¬¦åˆæ¡ä»¶çš„æœ€è¿œåº§ä½ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçº¿æ®µæ ‘æ˜¯å¤„ç†â€œåŒºé—´æŸ¥è¯¢â€å’Œâ€œå•ç‚¹ä¿®æ”¹â€çš„åˆ©å™¨ï¼


### é¢˜è§£äºŒï¼šhjqhsçš„lower_boundç‰‡æ®µèµæ  
* **äº®ç‚¹**ï¼šç”¨lower_boundå¿«é€Ÿæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„åº§ä½ï¼Œä»£ç ç®€æ´ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  per(i, n, 1) rep(j, 1, m) {
      vector<int>::iterator p, q;
      p = lower_bound(all(a), i + j); // æ‰¾ç¬¬ä¸€ä¸ªâ‰¥i+jçš„è€åŠ›å€¼ï¼ˆåˆ°å·¦è¾¹çš„è·ç¦»ï¼‰
      q = lower_bound(all(b), i + m + 1 - j); // æ‰¾ç¬¬ä¸€ä¸ªâ‰¥i+m+1-jçš„è€åŠ›å€¼ï¼ˆåˆ°å³è¾¹çš„è·ç¦»ï¼‰
      if (p != a.end()) a.erase(p); // æ‰¾åˆ°ï¼Œåˆ é™¤
      else if (q != b.end()) b.erase(q); // æ‰¾åˆ°ï¼Œåˆ é™¤
      else { cout << "NO" << '\n'; return; } // æ²¡æ‰¾åˆ°ï¼Œè¿”å›NO
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `per(i, n, 1) rep(j, 1, m)`ï¼šä»ä¸‹å¾€ä¸Šå¤„ç†æ¯ä¸ªåº§ä½ï¼ˆå› ä¸ºä¸‹é¢çš„åº§ä½åˆ°ä¸¤è¾¹çš„è·ç¦»æ›´å¤§ï¼Œé™åˆ¶æ›´ç´§ï¼‰ï¼›  
  - `lower_bound(all(a), i + j)`ï¼šæ‰¾å·¦è¾¹çš„äººä¸­ï¼Œç¬¬ä¸€ä¸ªè€åŠ›å€¼â‰¥åº§ä½åˆ°å·¦è¾¹çš„è·ç¦»çš„äººï¼›  
  - `erase(p)`ï¼šåˆ é™¤è¯¥äººï¼ˆè¡¨ç¤ºè¯¥äººå·²é€‰è¿™ä¸ªåº§ä½ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šlower_boundæ˜¯å¤„ç†â€œæŸ¥æ‰¾ç¬¬ä¸€ä¸ªâ‰¥ç›®æ ‡å€¼çš„å…ƒç´ â€çš„ç¥å™¨ï¼


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Šåƒç´ åº§ä½äº‰å¤ºæˆ˜ã€‹ï¼ˆ8ä½åƒç´ é£æ ¼ï¼‰  
**è®¾è®¡æ€è·¯**ï¼šç”¨FCæ¸¸æˆçš„é£æ ¼å±•ç¤ºè´ªå¿ƒç­–ç•¥çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œè®©å­¦ä¹ è€…ç›´è§‚çœ‹åˆ°â€œå·¦è¾¹çš„äººé€‰æœ€è¿œåº§ä½â€çš„é€»è¾‘ï¼Œå¢åŠ å­¦ä¹ è¶£å‘³æ€§ã€‚


### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹ä¸æ­¥éª¤  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•æ˜¾ç¤º**nÃ—mçš„åƒç´ åº§ä½çŸ©é˜µ**ï¼ˆæ¯ä¸ªåº§ä½æ˜¯16Ã—16çš„åƒç´ å—ï¼Œé»˜è®¤æ˜¯ç™½è‰²ï¼‰ï¼›  
   - å·¦è¾¹ï¼ˆ(0,0)ï¼‰æœ‰**k1ä¸ªçº¢è‰²åƒç´ äºº**ï¼Œå³è¾¹ï¼ˆ(0,m+1)ï¼‰æœ‰**k2ä¸ªç»¿è‰²åƒç´ äºº**ï¼›  
   - æ§åˆ¶é¢æ¿æœ‰â€œå¼€å§‹â€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œä»¥åŠé€Ÿåº¦æ»‘å—ï¼ˆ1~5å€é€Ÿï¼‰ï¼›  
   - èƒŒæ™¯éŸ³ä¹ï¼š8ä½é£æ ¼çš„ã€Šå¡å†œã€‹ï¼ˆè½»å¿«ï¼Œç¬¦åˆæ¸¸æˆæ°›å›´ï¼‰ã€‚

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - å·¦è¾¹çš„äºº**ä»å°åˆ°å¤§æ’åº**ï¼ˆçº¢è‰²åƒç´ äººæŒ‰è€åŠ›å€¼ä»ä½åˆ°é«˜æ’åˆ—ï¼‰ï¼›  
   - å³è¾¹çš„äººåŒç†ï¼ˆç»¿è‰²åƒç´ äººæŒ‰è€åŠ›å€¼ä»ä½åˆ°é«˜æ’åˆ—ï¼‰ã€‚

3. **å·¦è¾¹çš„äººé€‰æ‹©åº§ä½**ï¼š  
   - ç¬¬ä¸€ä¸ªçº¢è‰²åƒç´ äººï¼ˆè€åŠ›å€¼æœ€å°ï¼‰ç§»åŠ¨åˆ°åº§ä½çŸ©é˜µå‰ï¼Œ**é«˜äº®æ‰€æœ‰èƒ½åˆ°è¾¾çš„åº§ä½**ï¼ˆç™½è‰²â†’æµ…è“è‰²ï¼‰ï¼›  
   - é«˜äº®**ç¬¦åˆæ¡ä»¶çš„æœ€è¿œåº§ä½**ï¼ˆæµ…è“è‰²â†’æ·±è“è‰²ï¼‰ï¼Œå¹¶æ˜¾ç¤ºâ€œé€‰æˆ‘ï¼â€çš„æ–‡å­—æ°”æ³¡ï¼›  
   - çº¢è‰²åƒç´ äººèµ°åˆ°è¯¥åº§ä½ï¼Œåº§ä½å˜æˆ**ç°è‰²**ï¼ˆå·²ç”¨ï¼‰ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆï¼›  
   - é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ‰€æœ‰å·¦è¾¹çš„äººéƒ½é€‰å®Œåº§ä½ã€‚

4. **å³è¾¹çš„äººé€‰æ‹©åº§ä½**ï¼š  
   - ç¬¬ä¸€ä¸ªç»¿è‰²åƒç´ äººï¼ˆè€åŠ›å€¼æœ€å°ï¼‰ç§»åŠ¨åˆ°åº§ä½çŸ©é˜µå‰ï¼Œ**é«˜äº®æ‰€æœ‰èƒ½åˆ°è¾¾çš„åº§ä½**ï¼ˆç™½è‰²â†’æµ…ç»¿è‰²ï¼‰ï¼›  
   - é«˜äº®**ç¬¦åˆæ¡ä»¶çš„æœ€è¿œåº§ä½**ï¼ˆæµ…ç»¿è‰²â†’æ·±ç»¿è‰²ï¼‰ï¼Œå¹¶æ˜¾ç¤ºâ€œé€‰æˆ‘ï¼â€çš„æ–‡å­—æ°”æ³¡ï¼›  
   - ç»¿è‰²åƒç´ äººèµ°åˆ°è¯¥åº§ä½ï¼Œåº§ä½å˜æˆ**ç°è‰²**ï¼ˆå·²ç”¨ï¼‰ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆï¼›  
   - é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ‰€æœ‰å³è¾¹çš„äººéƒ½é€‰å®Œåº§ä½ã€‚

5. **ç»“æœå±•ç¤º**ï¼š  
   - å¦‚æœæ‰€æœ‰åº§ä½éƒ½è¢«å¡«æ»¡ï¼Œå±å¹•æ˜¾ç¤ºâ€œYESï¼â€ï¼ˆä¼´éšèƒœåˆ©éŸ³æ•ˆï¼Œåƒç´ çƒŸèŠ±ç»½æ”¾ï¼‰ï¼›  
   - å¦åˆ™ï¼Œå±å¹•æ˜¾ç¤ºâ€œNOï¼â€ï¼ˆä¼´éšå¤±è´¥éŸ³æ•ˆï¼Œåƒç´ å“­è„¸å‡ºç°ï¼‰ã€‚


### äº¤äº’ä¸æ§åˆ¶  
- **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼Œæ‰§è¡Œä¸€æ­¥ï¼ˆæ¯”å¦‚å·¦è¾¹çš„äººé€‰ä¸€ä¸ªåº§ä½ï¼‰ï¼›  
- **è‡ªåŠ¨æ’­æ”¾**ï¼šç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼Œç®—æ³•è‡ªåŠ¨æ‰§è¡Œï¼Œé€Ÿåº¦ç”±æ»‘å—æ§åˆ¶ï¼›  
- **é‡ç½®åŠ¨ç”»**ï¼šç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œå›åˆ°åˆå§‹çŠ¶æ€ï¼›  
- **ç®—æ³•æ¯”è¾ƒ**ï¼šï¼ˆå¯é€‰ï¼‰åŒæ—¶å±•ç¤ºâ€œæš´åŠ›æšä¸¾â€å’Œâ€œçº¿æ®µæ ‘ä¼˜åŒ–â€çš„åŠ¨ç”»ï¼Œå¯¹æ¯”ä¸¤è€…çš„æ‰§è¡Œé€Ÿåº¦ï¼ˆæ¯”å¦‚æš´åŠ›æšä¸¾çš„çº¢è‰²åƒç´ äººè¦éå†æ‰€æœ‰åº§ä½ï¼Œè€Œçº¿æ®µæ ‘ä¼˜åŒ–çš„çº¢è‰²åƒç´ äººç›´æ¥é€‰æœ€è¿œåº§ä½ï¼‰ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
è´ªå¿ƒç®—æ³•ä¸ä»…èƒ½è§£å†³æœ¬é¢˜ï¼Œè¿˜èƒ½è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š  
- **åˆå¹¶æœå­**ï¼ˆP1090ï¼‰ï¼šå°†æœå­åˆå¹¶æˆä¸€å †ï¼Œæ¯æ¬¡åˆå¹¶ä¸¤å †ï¼Œæ±‚æœ€å°æ€»ä»£ä»·ï¼ˆè´ªå¿ƒç­–ç•¥ï¼šæ¯æ¬¡åˆå¹¶æœ€å°çš„ä¸¤å †ï¼‰ï¼›  
- **çš‡åæ¸¸æˆ**ï¼ˆP2123ï¼‰ï¼šnä¸ªçš‡åæ’æˆä¸€åˆ—ï¼Œæ±‚æœ€å°çš„æ€»ç­‰å¾…æ—¶é—´ï¼ˆè´ªå¿ƒç­–ç•¥ï¼šæŒ‰a_i + b_iä»å°åˆ°å¤§æ’åºï¼‰ï¼›  
- **å°Açš„ç³–æœ**ï¼ˆP3817ï¼‰ï¼šå°Aæœ‰nä¸ªç³–æœç›’ï¼Œæ¯ä¸ªç›’å­æœ‰a_iä¸ªç³–æœï¼Œæ±‚æœ€å°‘éœ€è¦ç§»åŠ¨å¤šå°‘ç³–æœï¼Œä½¿å¾—æ¯ä¸ªç›’å­çš„ç³–æœæ•°ä¸è¶…è¿‡xï¼ˆè´ªå¿ƒç­–ç•¥ï¼šä»å·¦åˆ°å³è°ƒæ•´ï¼Œå¤šä½™çš„ç³–æœç§»åˆ°å³è¾¹ï¼‰ã€‚


### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P1090** - åˆå¹¶æœå­  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯è´ªå¿ƒç®—æ³•çš„ç»å…¸ä¾‹é¢˜ï¼Œèƒ½å¸®åŠ©ä½ å·©å›ºâ€œæ¯æ¬¡é€‰æœ€å°â€çš„è´ªå¿ƒç­–ç•¥ã€‚  
2. **æ´›è°· P2123** - çš‡åæ¸¸æˆ  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦è¯æ˜è´ªå¿ƒç­–ç•¥çš„æ­£ç¡®æ€§ï¼Œèƒ½æå‡ä½ çš„é€»è¾‘æ€ç»´èƒ½åŠ›ã€‚  
3. **æ´›è°· P3817** - å°Açš„ç³–æœ  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜çš„è´ªå¿ƒç­–ç•¥å¾ˆç›´è§‚ï¼Œä½†è¾¹ç•Œæ¡ä»¶å¤„ç†éœ€è¦æ³¨æ„ï¼Œèƒ½é”»ç‚¼ä½ çš„ç»†å¿ƒç¨‹åº¦ã€‚  
4. **æ´›è°· P4098** - [HEOI2013]ALO  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜ç»“åˆäº†è´ªå¿ƒå’Œæ•°æ®ç»“æ„ï¼ˆçº¿æ®µæ ‘ï¼‰ï¼Œèƒ½æå‡ä½ çš„ç»¼åˆåº”ç”¨èƒ½åŠ›ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### å‚è€ƒç»éªŒ (æ¥è‡ª iodwad)  
> â€œä¸è¦åæ§½ä¸¤æ ¼ç¼©è¿›ã€‚â€  
**ç‚¹è¯„**ï¼šä»£ç é£æ ¼æ˜¯ä¸ªäººä¹ æƒ¯ï¼Œä½†**æ¸…æ™°çš„ä»£ç ç»“æ„**æ¯”ç¼©è¿›æ›´é‡è¦ã€‚æ¯”å¦‚iodwadçš„ä»£ç ç”¨äº†namespaceï¼ˆSegmentTreeï¼‰æ¥ç»„ç»‡çº¿æ®µæ ‘çš„ä»£ç ï¼Œéå¸¸æ¸…æ™°ã€‚

### å‚è€ƒç»éªŒ (æ¥è‡ª hjqhs)  
> â€œè´ªå¿ƒå¥½é¢˜ã€‚â€  
**ç‚¹è¯„**ï¼šæœ¬é¢˜ç¡®å®æ˜¯è´ªå¿ƒç®—æ³•çš„å¥½é¢˜ï¼Œå› ä¸ºå®ƒçš„è´ªå¿ƒç­–ç•¥å®¹æ˜“ç†è§£ï¼Œä½†æ­£ç¡®æ€§éœ€è¦è¯æ˜ï¼Œèƒ½å¸®åŠ©å­¦ä¹ è€…æ·±å…¥ç†è§£è´ªå¿ƒç®—æ³•çš„æœ¬è´¨ã€‚

### å‚è€ƒç»éªŒ (æ¥è‡ª RainFestival)  
> â€œqwqâ€  
**ç‚¹è¯„**ï¼šè™½ç„¶è¿™æ˜¯ä¸€ä¸ªè¡¨æƒ…ï¼Œä½†èƒ½çœ‹å‡ºä½œè€…è§£å†³é—®é¢˜åçš„æˆå°±æ„Ÿã€‚ç¼–ç¨‹çš„ä¹è¶£å°±åœ¨äºè§£å†³é—®é¢˜åçš„æ»¡è¶³æ„Ÿï¼


## ğŸ‰ æ€»ç»“  
æœ¬æ¬¡åˆ†æçš„â€œClosing ceremonyâ€é¢˜ï¼Œæ ¸å¿ƒæ˜¯**è´ªå¿ƒç®—æ³•**ï¼Œå…³é”®æ˜¯**é€‰å¯¹å³è¾¹æœ€è¿œçš„åº§ä½**ã€‚é€šè¿‡çº¿æ®µæ ‘ã€ä¼˜å…ˆé˜Ÿåˆ—ã€äºŒåˆ†æŸ¥æ‰¾ç­‰æ•°æ®ç»“æ„ï¼Œå¯ä»¥é«˜æ•ˆè§£å†³â€œç»´æŠ¤æœ€è¿œåº§ä½â€çš„é—®é¢˜ã€‚  
å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®åŠ©ä½ ç†è§£è´ªå¿ƒç®—æ³•çš„æ€è·¯ï¼ŒæŒæ¡æ•°æ®ç»“æ„çš„åº”ç”¨ï¼Œæå‡ç¼–ç¨‹èƒ½åŠ›ï¼ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š205.96ç§’
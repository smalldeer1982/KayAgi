# é¢˜ç›®ä¿¡æ¯

# Split the Multiset

## é¢˜ç›®æè¿°

A multiset is a set of numbers in which there can be equal elements, and the order of the numbers does not matter. For example, $ \{2,2,4\} $ is a multiset.

You have a multiset $ S $ . Initially, the multiset contains only one positive integer $ n $ . That is, $ S=\{n\} $ . Additionally, there is a given positive integer $ k $ .

In one operation, you can select any positive integer $ u $ in $ S $ and remove one copy of $ u $ from $ S $ . Then, insert no more than $ k $ positive integers into $ S $ so that the sum of all inserted integers is equal to $ u $ .

Find the minimum number of operations to make $ S $ contain $ n $ ones.

## è¯´æ˜/æç¤º

For the first test case, initially $ S=\{1\} $ , already satisfying the requirement. Therefore, we need zero operations.

For the second test case, initially $ S=\{5\} $ . We can apply the following operations:

- Select $ u=5 $ , remove $ u $ from $ S $ , and insert $ 2,3 $ into $ S $ . Now, $ S=\{2,3\} $ .
- Select $ u=2 $ , remove $ u $ from $ S $ , and insert $ 1,1 $ into $ S $ . Now, $ S=\{1,1,3\} $ .
- Select $ u=3 $ , remove $ u $ from $ S $ , and insert $ 1,2 $ into $ S $ . Now, $ S=\{1,1,1,2\} $ .
- Select $ u=2 $ , remove $ u $ from $ S $ , and insert $ 1,1 $ into $ S $ . Now, $ S=\{1,1,1,1,1\} $ .

Using $ 4 $ operations in total, we achieve the goal.

For the third test case, initially $ S=\{6\} $ . We can apply the following operations:

- Select $ u=6 $ , remove $ u $ from $ S $ , and insert $ 1,2,3 $ into $ S $ . Now, $ S=\{1,2,3\} $ .
- Select $ u=2 $ , remove $ u $ from $ S $ , and insert $ 1,1 $ into $ S $ . Now, $ S=\{1,1,1,3\} $ .
- Select $ u=3 $ , remove $ u $ from $ S $ , and insert $ 1,1,1 $ into $ S $ . Now, $ S=\{1,1,1,1,1,1\} $ .

Using $ 3 $ operations in total, we achieve the goal.

For the fourth test case, initially $ S=\{16\} $ . We can apply the following operations:

- Select $ u=16 $ , remove $ u $ from $ S $ , and insert $ 4,4,4,4 $ into $ S $ . Now, $ S=\{4,4,4,4\} $ .
- Repeat for $ 4 $ times: select $ u=4 $ , remove $ u $ from $ S $ , and insert $ 1,1,1,1 $ into $ S $ .

Using $ 5 $ operations in total, we achieve the goal.

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
1 5
5 2
6 3
16 4```

### è¾“å‡º

```
0
4
3
5```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šSplit the Multiset æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

<introduction>
ä»Šå¤©æˆ‘ä»¬ä¸€èµ·åˆ†æ"Split the Multiset"è¿™é“C++ç¼–ç¨‹é¢˜ã€‚è¿™é“é¢˜è€ƒå¯Ÿæ•°å­¦å»ºæ¨¡å’Œé€†å‘æ€ç»´èƒ½åŠ›ï¼Œé€šè¿‡æœ¬æŒ‡å—ä½ å°†æŒæ¡æ ¸å¿ƒå…¬å¼æ¨å¯¼å’Œé«˜æ•ˆè§£é¢˜æŠ€å·§ã€‚
</introduction>

---

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`æ•°å­¦å»ºæ¨¡ä¸å…¬å¼æ¨å¯¼`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³è¿™é“é¢˜å°±åƒç©ä¸€ä¸ªé€†å‘çš„æ‹¼å›¾æ¸¸æˆâ€”â€”æˆ‘ä»¬éœ€è¦å°†åˆå§‹çš„"n"æ‹†è§£æˆnä¸ª"1"ï¼Œæ¯æ¬¡æ“ä½œæœ€å¤šå¯æ‹†æˆkå—ã€‚æ ¸å¿ƒåœ¨äºå‘ç°ï¼š**æ“ä½œæ¬¡æ•° = ceil((n-1)/(k-1))**ã€‚  
> - **é€†å‘æ€ç»´**ï¼šå°†æœ€ç»ˆnä¸ª"1"æƒ³è±¡æˆå¶å­èŠ‚ç‚¹ï¼Œæ¯æ¬¡æ“ä½œç›¸å½“äºåˆå¹¶æœ€å¤škä¸ªèŠ‚ç‚¹ï¼ˆé€†æ“ä½œï¼‰ï¼Œå½¢æˆä¸€æ£µkå‰æ ‘
> - **å…³é”®æ¨å¯¼**ï¼šåˆå§‹1ä¸ªèŠ‚ç‚¹â†’æœ€ç»ˆnä¸ªèŠ‚ç‚¹ï¼Œéœ€å¢åŠ (n-1)ä¸ªèŠ‚ç‚¹ï¼Œæ¯æ¬¡æ“ä½œå‡€å¢(k-1)ä¸ªèŠ‚ç‚¹
> - **å¯è§†åŒ–è®¾è®¡**ï¼šåƒç´ åŠ¨ç”»å°†å±•ç¤ºæ ‘å½¢ç”Ÿé•¿è¿‡ç¨‹ï¼Œç”¨ä¸åŒé¢œè‰²æ–¹å—è¡¨ç¤ºèŠ‚ç‚¹ï¼Œåˆå¹¶/æ‹†åˆ†æ—¶æ’­æ”¾8-bitéŸ³æ•ˆ
> - **æ¸¸æˆåŒ–å…ƒç´ **ï¼šé‡‡ç”¨"æ‹¼å›¾è§£è°œ"ä¸»é¢˜ï¼Œæ¯å®Œæˆä¸€æ¬¡åˆå¹¶ç‚¹äº®æ‹¼å›¾å—ï¼Œèƒœåˆ©éŸ³æ•ˆåº†ç¥å®Œæˆ

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**æ•°å­¦å…¬å¼è§£æ³•ï¼ˆç»¼åˆæ¨å¯¼ï¼‰**
* **ç‚¹è¯„**ï¼šæ­¤è§£æ³•é€šè¿‡æ ‘å½¢ç»“æ„é€†å‘å»ºæ¨¡ï¼Œç²¾å‡†æ¨å¯¼å‡ºæ“ä½œæ¬¡æ•°å…¬å¼ï¼Œæ—¶é—´å¤æ‚åº¦O(1)å ªç§°å®Œç¾ã€‚ä»£ç å®ç°ç®€æ´é«˜æ•ˆï¼ˆä»…éœ€5è¡Œæ ¸å¿ƒé€»è¾‘ï¼‰ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆå•ç‹¬å¤„ç†n=1ï¼‰ã€‚å˜é‡å‘½åæ¸…æ™°ï¼ˆn/kç›´æŒ‡é—®é¢˜æœ¬è´¨ï¼‰ï¼Œç›´æ¥è¾“å‡ºå…¬å¼ç»“æœé¿å…å†—ä½™æ“ä½œï¼Œæ˜¯ç«èµ›åœºæ™¯çš„ç†æƒ³å®ç°ã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1.  **é€†å‘æ€ç»´å»ºæ¨¡**
    * **åˆ†æ**ï¼šéš¾ç‚¹åœ¨äºå°†"æ‹†åˆ†æ“ä½œ"è½¬åŒ–ä¸º"åˆå¹¶æ“ä½œ"çš„é€†å‘æ€ç»´ã€‚ä¼˜è´¨è§£æ³•é€šè¿‡æ ‘å½¢ç»“æ„è§†è§’ï¼ˆå¶å­èŠ‚ç‚¹ä¸º1ï¼Œåˆå¹¶æ“ä½œå½¢æˆå†…éƒ¨èŠ‚ç‚¹ï¼‰ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºkå‰æ ‘æ„å»ºé—®é¢˜
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé€†å‘æ€ç»´æ˜¯è§£é¢˜çš„å…³é”®çªç ´å£

2.  **å…¬å¼æ¨å¯¼ä¸è¯æ˜**
    * **åˆ†æ**ï¼šéœ€ä¸¥è°¨è¯æ˜æ“ä½œæ¬¡æ•°ä¸‹é™ceil((n-1)/(k-1))ã€‚æ ¸å¿ƒåœ¨äºï¼šæ¯æ¬¡æ“ä½œå‡€å¢(k-1)ä¸ªèŠ‚ç‚¹ï¼Œæ€»éœ€å¢åŠ (n-1)ä¸ªèŠ‚ç‚¹ã€‚å½“(n-1)æ•´é™¤(k-1)æ—¶å–ç­‰å·
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ•°å­¦è¯æ˜ç¡®ä¿è§£çš„æœ€ä¼˜æ€§

3.  **è¾¹ç•Œæ¡ä»¶å¤„ç†**
    * **åˆ†æ**ï¼šn=1æ—¶éœ€ç‰¹æ®Šå¤„ç†ï¼ˆ0æ¬¡æ“ä½œï¼‰ï¼ŒåŒæ—¶éœ€é˜²èŒƒk=1çš„é™¤é›¶é£é™©ã€‚è§£æ³•ä¸­ä¼˜å…ˆåˆ¤æ–­n==1ï¼Œå†ç”¨æ•´æ•°é™¤æ³•æŠ€å·§å®ç°å‘ä¸Šå–æ•´
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹ç•Œæ¡ä»¶å†³å®šç¨‹åºå¥å£®æ€§

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é€†å‘é‡æ„æ³•**ï¼šå°†ç›®æ ‡çŠ¶æ€ä½œä¸ºèµ·ç‚¹ï¼Œåå‘æ¨å¯¼æ“ä½œè¿‡ç¨‹
- **æ•°å­¦å»ºæ¨¡æŠ€å·§**ï¼šå°†æ“ä½œè¿‡ç¨‹æŠ½è±¡ä¸ºæ ‘å½¢ç”Ÿé•¿æ¨¡å‹
- **æ•´æ•°é™¤æ³•å¦™ç”¨**ï¼šç”¨(n+k-3)//(k-1)å®ç°å‘ä¸Šå–æ•´
- **è¾¹ç•Œä¼˜å…ˆåŸåˆ™**ï¼šä¼˜å…ˆå¤„ç†ç‰¹æ®Šè¾“å…¥é¿å…åç»­è®¡ç®—å¼‚å¸¸

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
* **è¯´æ˜**ï¼šç»¼åˆæ•°å­¦æ¨å¯¼çš„æœ€ä¼˜å®ç°ï¼Œä»£ç ç®€æ´é«˜æ•ˆ
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
    ```cpp
    #include <iostream>
    using namespace std;
    int main() {
        int T;
        cin >> T;
        while (T--) {
            long long n, k;
            cin >> n >> k;
            if (n == 1) cout << 0 << endl;
            else cout << (n + k - 3) / (k - 1) << endl;
        }
        return 0;
    }
    ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
    > 1. è¯»å–æµ‹è¯•æ•°æ®é‡T  
    > 2. å¯¹æ¯ç»„æ•°æ®ï¼š  
    >    - å½“n=1æ—¶ç›´æ¥è¾“å‡º0ï¼ˆæ— éœ€æ“ä½œï¼‰  
    >    - å¦åˆ™ç”¨å…¬å¼`(n+k-3)/(k-1)`è®¡ç®—æœ€å°æ“ä½œæ¬¡æ•°  
    > 3. å…¬å¼åŸç†ï¼šceil((n-1)/(k-1))çš„æ•´æ•°é™¤æ³•å®ç°  

**æ•°å­¦å…¬å¼è§£æ³•ç‰‡æ®µ**
* **äº®ç‚¹**ï¼šç”¨æ•°å­¦å…¬å¼æ›¿ä»£æ¨¡æ‹Ÿæ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦O(1)
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
    ```cpp
    if (n == 1) cout << 0 << endl;
    else cout << (n + k - 3) / (k - 1) << endl;
    ```
* **ä»£ç è§£è¯»**ï¼š
    > - `n == 1`æ—¶è¾“å‡º0ï¼šå› ä¸ºåˆå§‹çŠ¶æ€å·²æ»¡è¶³è¦æ±‚  
    > - é­”æ³•å…¬å¼`(n+k-3)/(k-1)`ï¼š  
    >   - åˆ†å­`n+k-3` = `(n-1) + (k-1) -1`  
    >   - åˆ†æ¯`k-1`å¯¹åº”æ¯æ¬¡æ“ä½œçš„å‡€å¢èŠ‚ç‚¹æ•°  
    > - æ•´æ•°é™¤æ³•è‡ªåŠ¨å®ç°å‘ä¸Šå–æ•´  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ•°å­¦ä¼˜åŒ–å¾€å¾€èƒ½é™ç»´æ‰“å‡»æ¨¡æ‹Ÿç®—æ³•

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

* **ä¸»é¢˜**ï¼š"8-bitæ‹¼å›¾è§£è°œ"  
* **æ ¸å¿ƒæ¼”ç¤º**ï¼šæ ‘å½¢ç»“æ„ç”Ÿé•¿è¿‡ç¨‹ï¼ˆé€†å‘åˆå¹¶è§†è§’ï¼‰  
* **è®¾è®¡æ€è·¯**ï¼š  
  > é‡‡ç”¨FCçº¢ç™½æœºå¤å¤é£æ ¼ï¼Œå°†æ•°å­—è½¬åŒ–ä¸ºå½©è‰²æ‹¼å›¾å—ï¼Œé€šè¿‡æ ‘å½¢åˆå¹¶è¿‡ç¨‹ç›´è§‚å±•ç¤ºå…¬å¼åŸç†  

### åŠ¨ç”»å¸§æ­¥éª¤ï¼š
1. **åˆå§‹åŒ–**ï¼š  
   - åº•éƒ¨æ˜¾ç¤ºnä¸ª1x1åƒç´ å—ï¼ˆç»¿è‰²ï¼‰  
   - é¡¶éƒ¨æ˜¾ç¤ºç›®æ ‡æ•°å­—nï¼ˆçº¢è‰²å¤§åƒç´ å—ï¼‰  
   - æ§åˆ¶é¢æ¿å«æ­¥è¿›/è°ƒé€Ÿ/é‡ç½®æŒ‰é’®  

2. **é€†å‘åˆå¹¶æ¼”ç¤º**ï¼š  
   ```python
   while å½“å‰èŠ‚ç‚¹æ•° > 1:
       é€‰æ‹©æœ€å¤škä¸ªç›¸é‚»å— â†’ é«˜äº®é—ªçƒ(é»„è‰²è¾¹æ¡†)
       æ’­æ”¾"åˆå¹¶éŸ³æ•ˆ"(8-bitå˜Ÿå˜Ÿå£°)
       åˆå¹¶ä¸ºæ–°æ•°å­—å—ï¼ˆæ˜¾ç¤ºæ•°å€¼=å­èŠ‚ç‚¹å’Œï¼‰
       æ›´æ–°æ ‘å½¢ç»“æ„è¿çº¿
       æ“ä½œè®¡æ•°å™¨+1
   ```

3. **åŠ¨æ€æ•ˆæœ**ï¼š  
   - å½“å‰æ“ä½œå—ï¼šè„‰å†²é—ªçƒ+ç®­å¤´æŒ‡å¼•  
   - æ‹¼å›¾å®Œæˆåº¦ï¼šå³ä¾§è¿›åº¦æ¡éšæ“ä½œå¢åŠ   
   - éŸ³æ•ˆä½“ç³»ï¼š  
     * åˆå¹¶ï¼šçŸ­ä¿ƒ"å˜Ÿ"å£°  
     * å®Œæˆï¼šèƒœåˆ©æ—‹å¾‹  
     * é”™è¯¯ï¼šä½æ²‰è­¦ç¤ºéŸ³  

4. **æ•™å­¦æç¤º**ï¼š  
   - åº•éƒ¨å…¬å¼æ å®æ—¶æ˜¾ç¤ºï¼š  
     `å½“å‰æ“ä½œæ•° = (å½“å‰èŠ‚ç‚¹æ•° + k - 3) // (k - 1)`  
   - æˆåŠŸæ—¶å¼¹å‡ºï¼š"æœ€å°æ“ä½œæ•° = [ç»“æœ]"  

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

* **é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
  æ ‘å½¢é€†å‘å»ºæ¨¡é€‚ç”¨äºï¼šæ“ä½œè¿‡ç¨‹å¯é€†çš„é—®é¢˜ã€æœ€ä¼˜æ­¥éª¤æ±‚è§£ã€åˆ†æ²»ç­–ç•¥éªŒè¯  

1. **æ´›è°· P1226** - å–æ•°æ¸¸æˆ  
   * ç†ç”±ï¼šåŒéœ€é€†å‘æ¨å¯¼æœ€ä¼˜æ“ä½œæ­¥éª¤  
2. **æ´›è°· P1044** - æ ˆ  
   * ç†ç”±ï¼šæ ‘å½¢ç»“æ„è®¡æ•°çš„ç»å…¸åº”ç”¨  
3. **æ´›è°· P1028** - æ•°çš„è®¡ç®—  
   * ç†ç”±ï¼šç±»ä¼¼åˆ†æ²»å»ºæ¨¡ä¸å…¬å¼æ¨å¯¼  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **å…³é”®æ•™è®­**ï¼š  
> "æœ€åˆå°è¯•æ¨¡æ‹Ÿæ‹†åˆ†è¿‡ç¨‹å¯¼è‡´è¶…æ—¶ï¼Œåç»æ ‘å½¢ç»“æ„é€†å‘æ€è€ƒï¼Œæ‰é¢†æ‚Ÿåˆ°æ•°å­¦å…¬å¼è§£æ³•ã€‚è¿™æé†’æˆ‘ä»¬ï¼šå¤æ‚æ“ä½œé—®é¢˜å¸¸å­˜åœ¨ç®€æ´æ•°å­¦æ¨¡å‹ï¼Œè½¬æ¢è§†è§’å¯èƒ½æ‰“å¼€æ–°å¤©åœ°ï¼"  
>  
> **Kayç‚¹è¯„**ï¼šæ­¤é¢˜ç²¾å¦™ä¹‹å¤„åœ¨äºè®­ç»ƒæ€ç»´çµæ´»æ€§ã€‚å½“ç›´æ¥æ±‚è§£å›°éš¾æ—¶ï¼Œå°è¯•é€†å‘æ€è€ƒæˆ–æ•°å­¦å»ºæ¨¡å¾€å¾€èƒ½ç ´å±€ã€‚

---

<conclusion>
é€šè¿‡æœ¬æ¬¡åˆ†æï¼Œæˆ‘ä»¬æŒæ¡äº†ç”¨æ•°å­¦å»ºæ¨¡è§£å†³æ“ä½œç±»é—®é¢˜çš„æ ¸å¿ƒæ–¹æ³•ã€‚è®°ä½ï¼šä¼˜ç§€ç®—æ³•å·¥ç¨‹å¸ˆå¿…å¤‡ä¸¤ç§èƒ½åŠ›â€”â€”å°†é—®é¢˜æŠ½è±¡ä¸ºæ•°å­¦æ¨¡å‹çš„èƒ½åŠ›ï¼Œä»¥åŠç”¨ä»£ç ä¼˜é›…å®ç°çš„èƒ½åŠ›ã€‚ç»§ç»­åŠ æ²¹ï¼Œä¸‹æ¬¡æŒ‘æˆ˜è§ï¼ğŸš€
</conclusion>

---
å¤„ç†ç”¨æ—¶ï¼š298.69ç§’
# é¢˜ç›®ä¿¡æ¯

# RGB Substring (easy version)

## é¢˜ç›®æè¿°

The only difference between easy and hard versions is the size of the input.

You are given a string $ s $ consisting of $ n $ characters, each character is 'R', 'G' or 'B'.

You are also given an integer $ k $ . Your task is to change the minimum number of characters in the initial string $ s $ so that after the changes there will be a string of length $ k $ that is a substring of $ s $ , and is also a substring of the infinite string "RGBRGBRGB ...".

A string $ a $ is a substring of string $ b $ if there exists a positive integer $ i $ such that $ a_1 = b_i $ , $ a_2 = b_{i + 1} $ , $ a_3 = b_{i + 2} $ , ..., $ a_{|a|} = b_{i + |a| - 1} $ . For example, strings "GBRG", "B", "BR" are substrings of the infinite string "RGBRGBRGB ..." while "GR", "RGR" and "GGG" are not.

You have to answer $ q $ independent queries.

## è¯´æ˜/æç¤º

In the first example, you can change the first character to 'R' and obtain the substring "RG", or change the second character to 'R' and obtain "BR", or change the third, fourth or fifth character to 'B' and obtain "GB".

In the second example, the substring is "BRG".

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
5 2
BGGGG
5 3
RBRGR
5 5
BBBRR
```

### è¾“å‡º

```
1
0
3
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šRGB Substring (easy version) æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæšä¸¾ + æ»‘åŠ¨çª—å£ï¼ˆç¼–ç¨‹æŠ€å·§åº”ç”¨ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œRGB Substringâ€é—®é¢˜ï¼Œå…³é”®åœ¨äº**æšä¸¾æ‰€æœ‰å¯èƒ½çš„ç›®æ ‡æ¨¡å¼**ï¼Œå†ç”¨**æ»‘åŠ¨çª—å£é«˜æ•ˆè®¡ç®—ä¿®æ”¹æ¬¡æ•°**ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œè¿™å°±åƒä½ è¦æ‰¾ä¸€ä»¶â€œæœ€åˆèº«çš„è¡£æœâ€â€”â€”ç›®æ ‡æ¨¡å¼æ˜¯â€œRGBRGB...â€çš„å¾ªç¯ï¼Œè€Œå®ƒæœ‰3ç§â€œç©¿æ³•â€ï¼ˆRGBã€GBRã€BRGï¼‰ï¼Œæˆ‘ä»¬éœ€è¦æ¯ä»¶éƒ½è¯•ä¸€ä¸‹ï¼Œçœ‹å“ªä»¶éœ€è¦ä¿®æ”¹çš„åœ°æ–¹æœ€å°‘ã€‚  

**é¢˜è§£æ€è·¯**ï¼š  
æ‰€æœ‰é¢˜è§£çš„æ ¸å¿ƒé€»è¾‘ä¸€è‡´ï¼š  
1. åˆ—å‡º3ç§å¯èƒ½çš„å¾ªç¯æ¨¡å¼ï¼ˆå¦‚â€œRGBâ€â€œGBRâ€â€œBRGâ€ï¼‰ï¼›  
2. å¯¹æ¯ä¸ªæ¨¡å¼ï¼Œç”¨**æ»‘åŠ¨çª—å£**éå†åŸä¸²çš„æ‰€æœ‰é•¿åº¦ä¸ºkçš„å­ä¸²ï¼Œè®¡ç®—æ¯ä¸ªçª—å£éœ€è¦ä¿®æ”¹çš„å­—ç¬¦æ•°ï¼›  
3. å–æ‰€æœ‰æ¨¡å¼ä¸­çš„æœ€å°ä¿®æ”¹æ¬¡æ•°ä½œä¸ºç­”æ¡ˆã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼šå¦‚ä½•é«˜æ•ˆè®¡ç®—æ¯ä¸ªçª—å£çš„ä¿®æ”¹æ¬¡æ•°ï¼Ÿ  
**è§£å†³æ–¹æ¡ˆ**ï¼šæ»‘åŠ¨çª—å£â€”â€”å½“çª—å£ä»å·¦å‘å³ç§»åŠ¨æ—¶ï¼Œåªéœ€å‡å»å·¦è¾¹ç•Œçš„ä¿®æ”¹æ¬¡æ•°ï¼ˆå¦‚æœå·¦è¾¹ç•Œå­—ç¬¦ä¸ç¬¦åˆæ¨¡å¼ï¼‰ï¼ŒåŠ ä¸Šå³è¾¹ç•Œçš„ä¿®æ”¹æ¬¡æ•°ï¼ˆå¦‚æœå³è¾¹ç•Œå­—ç¬¦ä¸ç¬¦åˆæ¨¡å¼ï¼‰ï¼Œé¿å…é‡å¤è®¡ç®—æ•´ä¸ªçª—å£çš„å­—ç¬¦ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä»¬å¯ä»¥ç”¨**8ä½åƒç´ é£æ ¼**å±•ç¤º3ç§æ¨¡å¼çš„æ»‘åŠ¨è¿‡ç¨‹ï¼š  
- å±å¹•åˆ†ä¸º3ä¸ªåŒºåŸŸï¼Œåˆ†åˆ«æ˜¾ç¤º3ç§æ¨¡å¼çš„å½“å‰çª—å£ï¼ˆå¦‚â€œRGBâ€æ¨¡å¼ç”¨çº¢è‰²è¾¹æ¡†ï¼Œâ€œGBRâ€ç”¨ç»¿è‰²ï¼Œâ€œBRGâ€ç”¨è“è‰²ï¼‰ï¼›  
- çª—å£å†…ä¸ç¬¦åˆæ¨¡å¼çš„å­—ç¬¦ç”¨**é—ªçƒçš„é»„è‰²åƒç´ å—**æ ‡è®°ï¼›  
- æ»‘åŠ¨æ—¶ï¼Œçª—å£ç”¨**å¹³æ»‘çš„å¹³ç§»åŠ¨ç”»**ç§»åŠ¨ï¼ŒåŒæ—¶æ›´æ–°ä¿®æ”¹æ¬¡æ•°ï¼ˆç”¨åƒç´ æ•°å­—æ˜¾ç¤ºåœ¨çª—å£ä¸‹æ–¹ï¼‰ï¼›  
- æ‰¾åˆ°æœ€å°å€¼æ—¶ï¼Œæ’­æ”¾**â€œå®â€çš„åƒç´ éŸ³æ•ˆ**ï¼Œå¹¶å°†å¯¹åº”çª—å£çš„è¾¹æ¡†å˜ä¸º**é‡‘è‰²**ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šä½œè€…ï¼šEatBreadï¼ˆèµï¼š3ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸ç›´ç™½ï¼Œç”¨â€œæšä¸¾æ¨¡å¼+æ»‘åŠ¨çª—å£â€çš„ç»å…¸ç»„åˆè§£å†³é—®é¢˜ã€‚ä»£ç ç»“æ„æ¸…æ™°ï¼Œå°†â€œè®¡ç®—çª—å£ä¿®æ”¹æ¬¡æ•°â€å°è£…æˆ`jjss`å‡½æ•°ï¼Œå¯è¯»æ€§å¼ºã€‚å˜é‡å‘½åï¼ˆå¦‚`h`æ•°ç»„å­˜å‚¨æ¨¡å¼ã€`gs`è®°å½•æœ€å°ä¿®æ”¹æ¬¡æ•°ï¼‰ç¬¦åˆç›´è§‰ï¼Œå®¹æ˜“ç†è§£ã€‚ç‰¹åˆ«æ˜¯**å¾ªç¯å¤„ç†3ç§æ¨¡å¼**çš„éƒ¨åˆ†ï¼ˆ`h`æ•°ç»„ä¾æ¬¡èµ‹å€¼ä¸ºâ€œRGBâ€â€œGBRâ€â€œBRGâ€ï¼‰ï¼Œé€»è¾‘ç®€æ´ï¼Œé€‚åˆåˆå­¦è€…æ¨¡ä»¿ã€‚ä»å®è·µè§’åº¦çœ‹ï¼Œä»£ç å¯ä»¥ç›´æ¥ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†ï¼ˆå¦‚`w<=a`ï¼‰ä¸¥è°¨ï¼Œæ²¡æœ‰å†—ä½™æ“ä½œã€‚  

### é¢˜è§£äºŒï¼šä½œè€…ï¼šcrashedï¼ˆèµï¼š2ï¼‰  
* **ç‚¹è¯„**ï¼š  
  æ­¤é¢˜è§£çš„äº®ç‚¹åœ¨äº**é¢„å¤„ç†æ¨¡å¼æ•°ç»„**ï¼ˆ`base`æ•°ç»„å­˜å‚¨æ¯ä¸ªä½ç½®çš„ç›®æ ‡å­—ç¬¦ï¼‰ï¼Œé¿å…äº†æ¯æ¬¡è®¡ç®—æ¨¡å¼æ—¶çš„é‡å¤é€»è¾‘ã€‚æ»‘åŠ¨çª—å£çš„å®ç°ï¼ˆ`solve`å‡½æ•°ï¼‰éå¸¸é«˜æ•ˆï¼šåˆå§‹åŒ–çª—å£çš„ä¿®æ”¹æ¬¡æ•°åï¼Œé€šè¿‡â€œå‡å»å·¦è¾¹ç•Œã€åŠ ä¸Šå³è¾¹ç•Œâ€çš„æ–¹å¼æ›´æ–°æ¬¡æ•°ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n) peræ¨¡å¼ï¼Œå³ä½¿å¯¹äºhardç‰ˆæœ¬ï¼ˆn=2e5ï¼‰ä¹Ÿèƒ½é€šè¿‡ã€‚ä»£ç ä¸­çš„`trans`å‡½æ•°å°†å­—ç¬¦è½¬æ¢ä¸ºæ•°å­—ï¼ˆRâ†’1ã€Gâ†’2ã€Bâ†’3ï¼‰ï¼Œç®€åŒ–äº†æ¯”è¾ƒé€»è¾‘ï¼Œæ˜¯å€¼å¾—å­¦ä¹ çš„å°æŠ€å·§ã€‚  

### é¢˜è§£ä¸‰ï¼šä½œè€…ï¼šfjy666ï¼ˆèµï¼š0ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„`solve`å‡½æ•°ç”¨æ»‘åŠ¨çª—å£å¤„ç†æ¯ä¸ªæ¨¡å¼ï¼Œé€»è¾‘æ¸…æ™°ã€‚`getNxt`å‡½æ•°ç”¨äºæ›´æ–°æ¨¡å¼çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå¦‚Râ†’Gâ†’Bâ†’Rï¼‰ï¼Œå°è£…äº†å¾ªç¯é€»è¾‘ï¼Œä»£ç å¤ç”¨æ€§é«˜ã€‚å˜é‡å‘½åï¼ˆå¦‚`st`å’Œ`ed`è¡¨ç¤ºçª—å£çš„å·¦å³è¾¹ç•Œï¼‰ç¬¦åˆæ»‘åŠ¨çª—å£çš„å¸¸è§„å†™æ³•ï¼Œå®¹æ˜“ç†è§£ã€‚ç‰¹åˆ«æ˜¯**å¤„ç†å¤šç»„æŸ¥è¯¢**çš„éƒ¨åˆ†ï¼ˆ`main`å‡½æ•°ä¸­çš„å¾ªç¯ï¼‰ï¼Œç»“æ„å·¥æ•´ï¼Œé‡ç½®å˜é‡ï¼ˆå¦‚`ans=0x7fffffff`ï¼‰çš„æ“ä½œä¸¥è°¨ï¼Œé¿å…äº†å¤šç»„æ•°æ®ä¹‹é—´çš„å¹²æ‰°ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. å…³é”®ç‚¹1ï¼šè¯†åˆ«æ‰€æœ‰å¯èƒ½çš„ç›®æ ‡æ¨¡å¼  
* **åˆ†æ**ï¼š  
  â€œRGBRGB...â€çš„å¾ªç¯æœ‰3ç§å¯èƒ½çš„èµ·å§‹å­—ç¬¦ï¼ˆRã€Gã€Bï¼‰ï¼Œå¯¹åº”çš„æ¨¡å¼åˆ†åˆ«æ˜¯â€œRGBâ€â€œGBRâ€â€œBRGâ€ã€‚å¦‚æœé—æ¼ä»»ä½•ä¸€ç§ï¼Œéƒ½ä¼šå¯¼è‡´ç­”æ¡ˆé”™è¯¯ã€‚ä¼˜è´¨é¢˜è§£çš„å…±åŒåšæ³•æ˜¯**æ‰‹åŠ¨åˆ—å‡ºè¿™3ç§æ¨¡å¼**ï¼Œç¡®ä¿è¦†ç›–æ‰€æœ‰å¯èƒ½ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè§£å†³å¾ªç¯æ¨¡å¼é—®é¢˜æ—¶ï¼Œå…ˆåˆ—å‡ºæ‰€æœ‰å¯èƒ½çš„èµ·å§‹æƒ…å†µï¼Œå†é€ä¸€å¤„ç†ã€‚  

### 2. å…³é”®ç‚¹2ï¼šé«˜æ•ˆè®¡ç®—çª—å£ä¿®æ”¹æ¬¡æ•°  
* **åˆ†æ**ï¼š  
  ç›´æ¥æšä¸¾æ‰€æœ‰çª—å£ï¼ˆO(nk)ï¼‰å¯¹äºeasyç‰ˆæœ¬ï¼ˆn=2000ï¼‰æ˜¯å¯è¡Œçš„ï¼Œä½†å¯¹äºhardç‰ˆæœ¬ï¼ˆn=2e5ï¼‰ä¼šè¶…æ—¶ã€‚æ»‘åŠ¨çª—å£ï¼ˆO(n)ï¼‰æ˜¯æ›´ä¼˜çš„é€‰æ‹©ï¼šé€šè¿‡ç»´æŠ¤å½“å‰çª—å£çš„ä¿®æ”¹æ¬¡æ•°ï¼Œç§»åŠ¨çª—å£æ—¶åªéœ€æ›´æ–°è¾¹ç•Œçš„å˜åŒ–ã€‚ä¾‹å¦‚ï¼Œcrashedçš„é¢˜è§£ä¸­ï¼Œ`solve`å‡½æ•°ç”¨`cnt`å˜é‡è®°å½•å½“å‰çª—å£çš„ä¿®æ”¹æ¬¡æ•°ï¼Œç§»åŠ¨æ—¶å‡å»å·¦è¾¹ç•Œçš„è´¡çŒ®ï¼ŒåŠ ä¸Šå³è¾¹ç•Œçš„è´¡çŒ®ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ»‘åŠ¨çª—å£é€‚ç”¨äºâ€œå›ºå®šé•¿åº¦çš„å­ä¸²é—®é¢˜â€ï¼Œèƒ½å°†æ—¶é—´å¤æ‚åº¦ä»O(nk)ä¼˜åŒ–åˆ°O(n)ã€‚  

### 3. å…³é”®ç‚¹3ï¼šå¤„ç†å¤šç»„æŸ¥è¯¢çš„æ­£ç¡®æ€§  
* **åˆ†æ**ï¼š  
  å¤šç»„æŸ¥è¯¢æ—¶ï¼Œéœ€è¦ç¡®ä¿æ¯ç»„æ•°æ®çš„å˜é‡ï¼ˆå¦‚`ans`ã€`s`ï¼‰éƒ½è¢«æ­£ç¡®é‡ç½®ã€‚ä¾‹å¦‚ï¼Œfjy666çš„é¢˜è§£ä¸­ï¼Œ`solve`å‡½æ•°åœ¨æ¯ç»„æŸ¥è¯¢å¼€å§‹æ—¶å°†`ans`è®¾ä¸ºæå¤§å€¼ï¼ˆ`0x7fffffff`ï¼‰ï¼Œé¿å…äº†ä¸Šä¸€ç»„æ•°æ®çš„å½±å“ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤šç»„æ•°æ®å¤„ç†æ—¶ï¼Œä¸€å®šè¦é‡ç½®æ‰€æœ‰ä¸å½“å‰æŸ¥è¯¢ç›¸å…³çš„å˜é‡ã€‚  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **æ¨¡å¼æšä¸¾**ï¼šå¯¹äºå¾ªç¯æ¨¡å¼é—®é¢˜ï¼Œå…ˆåˆ—å‡ºæ‰€æœ‰å¯èƒ½çš„èµ·å§‹æƒ…å†µï¼›  
- **æ»‘åŠ¨çª—å£**ï¼šå›ºå®šé•¿åº¦çš„å­ä¸²é—®é¢˜ï¼Œç”¨æ»‘åŠ¨çª—å£ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ï¼›  
- **å˜é‡é‡ç½®**ï¼šå¤šç»„æ•°æ®å¤„ç†æ—¶ï¼Œé‡ç½®æ‰€æœ‰ç›¸å…³å˜é‡ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†EatBreadã€crashedã€fjy666çš„æ€è·¯ï¼Œé‡‡ç”¨â€œæšä¸¾æ¨¡å¼+æ»‘åŠ¨çª—å£â€çš„ç»å…¸å®ç°ï¼Œé€»è¾‘æ¸…æ™°ï¼Œé€‚åˆåˆå­¦è€…å­¦ä¹ ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <string>
  #include <algorithm>
  #include <climits>
  using namespace std;

  int calculate(const string& s, int k, const string& pattern) {
      int n = s.size();
      int min_changes = INT_MAX;
      int current = 0;
      // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªçª—å£
      for (int i = 0; i < k; ++i) {
          if (s[i] != pattern[i % 3]) {
              current++;
          }
      }
      min_changes = min(min_changes, current);
      // æ»‘åŠ¨çª—å£
      for (int i = k; i < n; ++i) {
          // ç§»é™¤å·¦è¾¹ç•Œçš„è´¡çŒ®
          if (s[i - k] != pattern[(i - k) % 3]) {
              current--;
          }
          // æ·»åŠ å³è¾¹ç•Œçš„è´¡çŒ®
          if (s[i] != pattern[i % 3]) {
              current++;
          }
          min_changes = min(min_changes, current);
      }
      return min_changes;
  }

  int main() {
      int q;
      cin >> q;
      while (q--) {
          int n, k;
          string s;
          cin >> n >> k >> s;
          // æšä¸¾ä¸‰ç§æ¨¡å¼
          string patterns[] = {"RGB", "GBR", "BRG"};
          int ans = INT_MAX;
          for (const string& pattern : patterns) {
              ans = min(ans, calculate(s, k, pattern));
          }
          cout << ans << endl;
      }
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  ä»£ç åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š`calculate`å‡½æ•°è®¡ç®—æŸä¸ªæ¨¡å¼ä¸‹çš„æœ€å°ä¿®æ”¹æ¬¡æ•°ï¼Œ`main`å‡½æ•°å¤„ç†å¤šç»„æŸ¥è¯¢ã€‚`calculate`å‡½æ•°ç”¨æ»‘åŠ¨çª—å£åˆå§‹åŒ–ç¬¬ä¸€ä¸ªçª—å£çš„ä¿®æ”¹æ¬¡æ•°ï¼Œç„¶åæ»‘åŠ¨çª—å£æ›´æ–°æ¬¡æ•°ï¼Œå–æœ€å°å€¼ã€‚`main`å‡½æ•°æšä¸¾ä¸‰ç§æ¨¡å¼ï¼Œè°ƒç”¨`calculate`å‡½æ•°ï¼Œå–æ‰€æœ‰æ¨¡å¼çš„æœ€å°å€¼ã€‚  


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ  

#### é¢˜è§£ä¸€ï¼ˆEatBreadï¼‰ï¼š  
* **äº®ç‚¹**ï¼šç”¨å‡½æ•°å°è£…çª—å£è®¡ç®—é€»è¾‘ï¼Œä»£ç å¯è¯»æ€§é«˜ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  int jjss(int t, int w) {
      int ans = 0;
      for (int i = t; i < w; i++) {
          if (s[i] != h[(i - t) % 3]) ans++;
      }
      return ans;
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™ä¸ªå‡½æ•°è®¡ç®—ä»`t`åˆ°`w-1`çš„çª—å£ï¼ˆé•¿åº¦ä¸º`w-t`ï¼‰çš„ä¿®æ”¹æ¬¡æ•°ã€‚`(i - t) % 3`è¡¨ç¤ºçª—å£å†…çš„ç›¸å¯¹ä½ç½®ï¼ˆå¦‚çª—å£èµ·å§‹äº`t`ï¼Œåˆ™`i-t`æ˜¯çª—å£å†…çš„ç¬¬å‡ ä¸ªå­—ç¬¦ï¼‰ï¼Œ`h`æ•°ç»„å­˜å‚¨å½“å‰æ¨¡å¼ï¼ˆå¦‚â€œRGBâ€ï¼‰ã€‚ä¾‹å¦‚ï¼Œå½“`h`æ˜¯â€œRGBâ€æ—¶ï¼Œçª—å£å†…çš„ç¬¬0ä¸ªå­—ç¬¦åº”è¯¥æ˜¯`h[0]='R'`ï¼Œç¬¬1ä¸ªæ˜¯`h[1]='G'`ï¼Œç¬¬2ä¸ªæ˜¯`h[2]='B'`ï¼Œä¾æ­¤ç±»æ¨ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå‡½æ•°å°è£…èƒ½è®©ä»£ç æ›´æ¸…æ™°ï¼Œé€‚åˆå°†é‡å¤é€»è¾‘æå–å‡ºæ¥ã€‚  

#### é¢˜è§£äºŒï¼ˆcrashedï¼‰ï¼š  
* **äº®ç‚¹**ï¼šé¢„å¤„ç†æ¨¡å¼æ•°ç»„ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void init() {
      for (int j = 1; j <= 3; j++) {
          for (int i = 1; i <= 2000; i++) {
              base[j - 1][i] = (j + i - 2) % 3 + 1;
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  `base`æ•°ç»„å­˜å‚¨æ¯ä¸ªæ¨¡å¼ï¼ˆ`j-1`è¡¨ç¤ºæ¨¡å¼ç´¢å¼•ï¼Œ0â†’Rã€1â†’Gã€2â†’Bï¼‰åœ¨ä½ç½®`i`çš„ç›®æ ‡å­—ç¬¦ï¼ˆç”¨æ•°å­—è¡¨ç¤ºï¼š1â†’Rã€2â†’Gã€3â†’Bï¼‰ã€‚ä¾‹å¦‚ï¼Œ`base[0][i]`è¡¨ç¤ºæ¨¡å¼â€œRGBâ€åœ¨ä½ç½®`i`çš„ç›®æ ‡å­—ç¬¦ï¼ˆ`(1+i-2)%3+1 = (i-1)%3+1`ï¼Œå³i=1â†’1ï¼ˆRï¼‰ï¼Œi=2â†’2ï¼ˆGï¼‰ï¼Œi=3â†’3ï¼ˆBï¼‰ï¼Œi=4â†’1ï¼ˆRï¼‰ï¼Œä¾æ­¤ç±»æ¨ï¼‰ã€‚é¢„å¤„ç†åï¼Œæ— éœ€æ¯æ¬¡è®¡ç®—æ¨¡å¼ï¼Œç›´æ¥æŸ¥è¡¨å³å¯ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé¢„å¤„ç†èƒ½å‡å°‘é‡å¤è®¡ç®—ï¼Œæé«˜ä»£ç æ•ˆç‡ã€‚  

#### é¢˜è§£ä¸‰ï¼ˆfjy666ï¼‰ï¼š  
* **äº®ç‚¹**ï¼šç”¨æ»‘åŠ¨çª—å£é«˜æ•ˆæ›´æ–°ä¿®æ”¹æ¬¡æ•°ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void solve(int fjy) {
      int cnt = 0;
      for (int i = 1; i <= k; ++i) {
          if (s[i] != str[fjy]) ++cnt;
          getNxt(fjy);
      }
      char *st = s + 1, *ed = s + k;
      while (*ed != '\0') {
          ans = min(ans, cnt);
          if (*st != str[((fjy - k) % 3 + 3) % 3]) --cnt;
          ++st; ++ed;
          if (*ed != str[fjy]) ++cnt;
          getNxt(fjy);
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™ä¸ªå‡½æ•°å¤„ç†æŸä¸ªæ¨¡å¼ï¼ˆ`fjy`æ˜¯æ¨¡å¼çš„èµ·å§‹ç´¢å¼•ï¼Œ0â†’Rã€1â†’Gã€2â†’Bï¼‰ã€‚é¦–å…ˆåˆå§‹åŒ–ç¬¬ä¸€ä¸ªçª—å£çš„ä¿®æ”¹æ¬¡æ•°`cnt`ï¼Œç„¶åæ»‘åŠ¨çª—å£ï¼š  
  1. å‡å»å·¦è¾¹ç•Œï¼ˆ`st`ï¼‰çš„è´¡çŒ®ï¼ˆå¦‚æœå·¦è¾¹ç•Œå­—ç¬¦ä¸ç¬¦åˆæ¨¡å¼ï¼‰ï¼›  
  2. ç§»åŠ¨çª—å£ï¼ˆ`st++`ã€`ed++`ï¼‰ï¼›  
  3. åŠ ä¸Šå³è¾¹ç•Œï¼ˆ`ed`ï¼‰çš„è´¡çŒ®ï¼ˆå¦‚æœå³è¾¹ç•Œå­—ç¬¦ä¸ç¬¦åˆæ¨¡å¼ï¼‰ï¼›  
  4. æ›´æ–°æ¨¡å¼çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆ`getNxt`å‡½æ•°ï¼‰ã€‚  
  å…¶ä¸­ï¼Œ`((fjy - k) % 3 + 3) % 3`è®¡ç®—å·¦è¾¹ç•Œå¯¹åº”çš„æ¨¡å¼å­—ç¬¦ï¼ˆå› ä¸ºçª—å£ç§»åŠ¨äº†kæ¬¡ï¼Œæ¨¡å¼ä¹Ÿå‰è¿›äº†kæ¬¡ï¼Œæ‰€ä»¥å·¦è¾¹ç•Œçš„æ¨¡å¼å­—ç¬¦æ˜¯`fjy - k`çš„å¾ªç¯ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ»‘åŠ¨çª—å£çš„å…³é”®æ˜¯ç»´æŠ¤å½“å‰çª—å£çš„çŠ¶æ€ï¼Œé€šè¿‡è¾¹ç•Œçš„å˜åŒ–æ›´æ–°çŠ¶æ€ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼š**åƒç´ æ¢é™©å®¶çš„â€œæ¨¡å¼åŒ¹é…ä¹‹æ—…â€**  
ï¼ˆä»¿FCçº¢ç™½æœºé£æ ¼ï¼Œç”¨8ä½åƒç´ å—å±•ç¤ºæ»‘åŠ¨çª—å£è¿‡ç¨‹ï¼‰

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹ï¼š  
- å±å¹•å·¦ä¾§æ˜¾ç¤ºåŸä¸²ï¼ˆç”¨åƒç´ å­—ç¬¦è¡¨ç¤ºï¼Œå¦‚`B`â†’è“è‰²å—ã€`G`â†’ç»¿è‰²å—ã€`R`â†’çº¢è‰²å—ï¼‰ï¼›  
- å±å¹•å³ä¾§åˆ†ä¸º3ä¸ªåŒºåŸŸï¼Œåˆ†åˆ«æ˜¾ç¤º3ç§æ¨¡å¼ï¼ˆâ€œRGBâ€â€œGBRâ€â€œBRGâ€ï¼‰çš„æ»‘åŠ¨çª—å£ï¼›  
- æ¯ä¸ªçª—å£ç”¨**å½©è‰²è¾¹æ¡†**æ ‡è®°ï¼ˆâ€œRGBâ€â†’çº¢æ¡†ã€â€œGBRâ€â†’ç»¿æ¡†ã€â€œBRGâ€â†’è“æ¡†ï¼‰ï¼›  
- çª—å£å†…ä¸ç¬¦åˆæ¨¡å¼çš„å­—ç¬¦ç”¨**é—ªçƒçš„é»„è‰²å—**æ ‡è®°ï¼›  
- æ¯ä¸ªçª—å£ä¸‹æ–¹æ˜¾ç¤ºå½“å‰çš„ä¿®æ”¹æ¬¡æ•°ï¼ˆç”¨åƒç´ æ•°å­—è¡¨ç¤ºï¼‰ã€‚  

### è®¾è®¡æ€è·¯ç®€è¿°ï¼š  
é‡‡ç”¨8ä½åƒç´ é£æ ¼æ˜¯ä¸ºäº†è¥é€ **å¤å¤ã€è½»æ¾çš„å­¦ä¹ æ°›å›´**ï¼Œè®©å­¦ä¹ è€…åƒç©æ¸¸æˆä¸€æ ·ç†è§£ç®—æ³•ã€‚å½©è‰²è¾¹æ¡†å’Œé—ªçƒå—èƒ½**çªå‡ºå…³é”®ä¿¡æ¯**ï¼ˆå½“å‰çª—å£ã€ä¸ç¬¦åˆçš„å­—ç¬¦ï¼‰ï¼Œå¸®åŠ©å­¦ä¹ è€…å¿«é€ŸæŠ“ä½é‡ç‚¹ã€‚æ»‘åŠ¨çª—å£çš„å¹³ç§»åŠ¨ç”»å’ŒéŸ³æ•ˆï¼ˆå¦‚â€œæ»‘â€çš„å£°éŸ³ï¼‰èƒ½**å¢å¼ºä»£å…¥æ„Ÿ**ï¼Œè®©ç®—æ³•è¿‡ç¨‹æ›´ç›´è§‚ã€‚  

### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹ï¼š  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¾ç¤ºåŸä¸²ï¼ˆå¦‚æ ·ä¾‹è¾“å…¥ä¸­çš„`BGGGG`ï¼‰ï¼Œæ¯ä¸ªå­—ç¬¦ç”¨å¯¹åº”é¢œè‰²çš„åƒç´ å—è¡¨ç¤ºï¼›  
   - å±å¹•å³ä¾§æ˜¾ç¤º3ä¸ªæ¨¡å¼çª—å£ï¼ˆçº¢æ¡†ã€ç»¿æ¡†ã€è“æ¡†ï¼‰ï¼Œåˆå§‹ä½ç½®åœ¨åŸä¸²çš„æœ€å·¦ç«¯ï¼›  
   - æ§åˆ¶é¢æ¿ï¼ˆå±å¹•ä¸‹æ–¹ï¼‰æœ‰â€œå¼€å§‹/æš‚åœâ€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œä»¥åŠé€Ÿåº¦æ»‘å—ï¼ˆä»â€œæ…¢â€åˆ°â€œå¿«â€ï¼‰ã€‚  

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - ç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼Œ3ä¸ªçª—å£åŒæ—¶å‘å³æ»‘åŠ¨ï¼›  
   - æ¯ä¸ªçª—å£æ»‘åŠ¨æ—¶ï¼Œæ’­æ”¾**â€œå±â€çš„åƒç´ éŸ³æ•ˆ**ï¼›  
   - çª—å£å†…ä¸ç¬¦åˆæ¨¡å¼çš„å­—ç¬¦å¼€å§‹é—ªçƒï¼ˆå¦‚â€œRGBâ€æ¨¡å¼çš„çª—å£ä¸­ï¼Œ`B`â†’çº¢æ¡†ï¼Œ`G`â†’ç»¿æ¡†ï¼Œ`G`â†’è“æ¡†ï¼Œç¬¬äºŒä¸ª`G`ä¸ç¬¦åˆâ€œRGBâ€çš„ç¬¬äºŒä¸ªå­—ç¬¦`G`ï¼Ÿä¸ï¼Œç­‰ä¸€ä¸‹ï¼Œâ€œRGBâ€æ¨¡å¼çš„çª—å£ä¸­ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦åº”è¯¥æ˜¯`R`ï¼Œæ‰€ä»¥åŸä¸²ä¸­çš„`B`ä¸ç¬¦åˆï¼Œä¼šé—ªçƒé»„è‰²ã€‚ï¼‰ã€‚  

3. **å…³é”®æ“ä½œæ¼”ç¤º**ï¼š  
   - å½“çª—å£æ»‘åŠ¨åˆ°æŸä¸ªä½ç½®æ—¶ï¼Œä¿®æ”¹æ¬¡æ•°è¾¾åˆ°æœ€å°å€¼ï¼ˆå¦‚æ ·ä¾‹è¾“å…¥ä¸­çš„`BGGGG`ï¼Œâ€œRGBâ€æ¨¡å¼çš„çª—å£åœ¨ä½ç½®0-1æ—¶ï¼Œä¿®æ”¹æ¬¡æ•°ä¸º1ï¼‰ï¼Œå¯¹åº”çš„çª—å£è¾¹æ¡†å˜ä¸º**é‡‘è‰²**ï¼Œæ’­æ”¾**â€œå®â€çš„éŸ³æ•ˆ**ï¼›  
   - å­¦ä¹ è€…å¯ä»¥ç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼Œé€å¸§è§‚çœ‹çª—å£æ»‘åŠ¨è¿‡ç¨‹ï¼Œè§‚å¯Ÿä¿®æ”¹æ¬¡æ•°çš„å˜åŒ–ã€‚  

4. **ç›®æ ‡è¾¾æˆ**ï¼š  
   - å½“æ‰€æœ‰çª—å£æ»‘åŠ¨å®Œæ¯•ï¼Œå±å¹•ä¸­å¤®æ˜¾ç¤º**â€œä»»åŠ¡å®Œæˆï¼æœ€å°ä¿®æ”¹æ¬¡æ•°ï¼šXâ€**ï¼ˆXä¸ºç­”æ¡ˆï¼‰ï¼Œæ’­æ”¾**èƒœåˆ©éŸ³æ•ˆ**ï¼ˆå¦‚â€œå®-å®-å®â€ï¼‰ï¼›  
   - å­¦ä¹ è€…å¯ä»¥ç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œé‡æ–°å¼€å§‹åŠ¨ç”»ã€‚  

### æ—ç™½æç¤ºï¼ˆåŠ¨ç”»ä¸­çš„æ–‡å­—æ°”æ³¡ï¼‰ï¼š  
- â€œçœ‹ï¼çº¢æ¡†æ˜¯â€˜RGBâ€™æ¨¡å¼çš„çª—å£ï¼Œé‡Œé¢çš„é»„è‰²å—æ˜¯éœ€è¦ä¿®æ”¹çš„å­—ç¬¦ï½â€ï¼›  
- â€œçª—å£æ»‘åŠ¨å•¦ï¼å·¦è¾¹ç•Œçš„é»„è‰²å—æ¶ˆå¤±äº†ï¼Œå³è¾¹ç•Œçš„é»„è‰²å—å‡ºç°äº†ï½â€ï¼›  
- â€œå®ï¼æ‰¾åˆ°æœ€å°å€¼äº†ï¼é‡‘è‰²è¾¹æ¡†çš„çª—å£å°±æ˜¯æœ€ä¼˜è§£ï½â€ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»ï¼š  
â€œæšä¸¾æ¨¡å¼+æ»‘åŠ¨çª—å£â€çš„æ€è·¯å¯ä»¥è§£å†³**æ‰€æœ‰éœ€è¦å¯»æ‰¾å›ºå®šé•¿åº¦å­ä¸²ï¼Œä¸”å­ä¸²ç¬¦åˆæŸç§å¾ªç¯æ¨¡å¼**çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼š  
1. å¯»æ‰¾å­—ç¬¦ä¸²ä¸­æœ€é•¿çš„â€œABABâ€å¾ªç¯å­ä¸²ï¼›  
2. å¯»æ‰¾æ•°ç»„ä¸­æœ€é•¿çš„â€œä¸Šå‡-ä¸‹é™-ä¸Šå‡â€å¾ªç¯å­æ•°ç»„ï¼›  
3. å¯»æ‰¾DNAåºåˆ—ä¸­æœ€é•¿çš„â€œATCGâ€å¾ªç¯å­ä¸²ã€‚  

### ç»ƒä¹ æ¨è (æ´›è°·)ï¼š  
1. **æ´›è°· P1160 é˜Ÿåˆ—å®‰æ’**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè™½ç„¶è¿™é¢˜æ˜¯é˜Ÿåˆ—é—®é¢˜ï¼Œä½†éœ€è¦æšä¸¾æ’å…¥ä½ç½®ï¼Œé”»ç‚¼æšä¸¾æ€ç»´ã€‚  
2. **æ´›è°· P4391 [BOI2009]Radio Transmission æ— çº¿ä¼ è¾“**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é¢˜éœ€è¦å¯»æ‰¾å­—ç¬¦ä¸²çš„æœ€å°å¾ªç¯èŠ‚ï¼Œä¸æœ¬é¢˜çš„â€œå¾ªç¯æ¨¡å¼â€æ€è·¯ç±»ä¼¼ï¼Œé”»ç‚¼æ¨¡å¼è¯†åˆ«èƒ½åŠ›ã€‚  
3. **æ´›è°· CF1196D2 RGB Substring (hard version)**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæœ¬é¢˜çš„hardç‰ˆæœ¬ï¼Œæ•°æ®èŒƒå›´æ›´å¤§ï¼ˆn=2e5ï¼‰ï¼Œéœ€è¦ç”¨æ»‘åŠ¨çª—å£ä¼˜åŒ–ï¼Œé”»ç‚¼é«˜æ•ˆç®—æ³•çš„å®ç°èƒ½åŠ›ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### å‚è€ƒç»éªŒ (æ¥è‡ª JOKER_chu)ï¼š  
â€œè®°å¾—æ¢è¡Œï¼Œä¸æ˜¯ç©ºæ ¼ï¼ˆè’Ÿè’»ä½œè€…è¢«å¡äº†ï¼‰ã€‚â€  
* **ç‚¹è¯„**ï¼š  
  è¿™ä¸ªç»éªŒå¾ˆå…¸å‹ï¼åœ¨ç¼–ç¨‹ä¸­ï¼Œ**è¾“å‡ºæ ¼å¼é”™è¯¯**æ˜¯å¸¸è§çš„bugï¼ˆå¦‚å¤šç»„æ•°æ®è¾“å‡ºæ—¶ï¼Œç”¨äº†ç©ºæ ¼è€Œä¸æ˜¯æ¢è¡Œï¼‰ã€‚è§£å†³æ–¹æ³•æ˜¯**ä»”ç»†é˜…è¯»é¢˜ç›®è¦æ±‚**ï¼Œå¹¶åœ¨ä»£ç ä¸­ä½¿ç”¨æ­£ç¡®çš„è¾“å‡ºæ ¼å¼ï¼ˆå¦‚`cout << ans << endl;`ï¼‰ã€‚  


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œRGB Substring (easy version)â€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶æŒæ¡â€œæšä¸¾æ¨¡å¼+æ»‘åŠ¨çª—å£â€çš„æŠ€å·§ï¼Œç†è§£ç®—æ³•çš„æ ¸å¿ƒé€»è¾‘ã€‚è®°ä½ï¼Œç¼–ç¨‹çš„å…³é”®æ˜¯**å¤šæ€è€ƒã€å¤šç»ƒä¹ **â€”â€”ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜æ—¶ï¼Œä½ ä¸€å®šèƒ½è½»æ¾è§£å†³ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š167.71ç§’
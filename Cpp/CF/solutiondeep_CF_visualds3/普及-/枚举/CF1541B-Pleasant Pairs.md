# é¢˜ç›®ä¿¡æ¯

# Pleasant Pairs

## é¢˜ç›®æè¿°

You are given an array $ a_1, a_2, \dots, a_n $ consisting of $ n $ distinct integers. Count the number of pairs of indices $ (i, j) $ such that $ i < j $ and $ a_i \cdot a_j = i + j $ .

## è¯´æ˜/æç¤º

For the first test case, the only pair that satisfies the constraints is $ (1, 2) $ , as $ a_1 \cdot a_2 = 1 + 2 = 3 $

For the second test case, the only pair that satisfies the constraints is $ (2, 3) $ .

For the third test case, the pairs that satisfy the constraints are $ (1, 2) $ , $ (1, 5) $ , and $ (2, 3) $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
2
3 1
3
6 1 5
5
3 1 5 9 2```

### è¾“å‡º

```
1
1
3```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šPleasant Pairs æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæšä¸¾ä¼˜åŒ–ï¼ˆåŸºäºæ¡ä»¶é™åˆ¶ï¼‰  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
é¢˜ç›®è¦æ±‚æ‰¾å‡ºæ•°ç»„ä¸­æ»¡è¶³ `i < j` ä¸” `a_i Â· a_j = i + j` çš„æ•°å¯¹æ•°é‡ã€‚ç›´æ¥æš´åŠ›æšä¸¾æ‰€æœ‰ `i < j` ä¼šæ˜¯ \(O(n^2)\) çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯¹äº \(n \leq 10^5\) çš„æ•°æ®æ¥è¯´è‚¯å®šä¼šè¶…æ—¶ã€‚è¿™æ—¶å€™éœ€è¦**é€šè¿‡æ•°å­¦æ¡ä»¶ç¼©å°æšä¸¾èŒƒå›´**â€”â€”å› ä¸º `i < j`ï¼Œæ‰€ä»¥ `i + j < 2n`ï¼Œå› æ­¤ `a_i Â· a_j` å¿…é¡»å°äº `2n`ã€‚è¿™ä¸ªæ¡ä»¶å°±åƒä¸€æŠŠâ€œç­›å­â€ï¼ŒæŠŠä¸éœ€è¦æ£€æŸ¥çš„æ•°å¯¹è¿‡æ»¤æ‰ï¼Œåªéœ€è¦æšä¸¾æ»¡è¶³ `a_i Â· a_j < 2n` çš„æ•°å¯¹ï¼Œè¿™æ ·å¤æ‚åº¦ä¼šé™åˆ° \(O(n \log n)\)ï¼ˆè°ƒå’Œçº§æ•°çš„æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚  

- **é¢˜è§£æ€è·¯**ï¼šæ‰€æœ‰ä¼˜è´¨é¢˜è§£çš„æ ¸å¿ƒéƒ½æ˜¯**ç”¨æ¡¶å­˜å‚¨æ¯ä¸ªå€¼å¯¹åº”çš„ä¸‹æ ‡**ï¼ˆå› ä¸ºæ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒï¼‰ï¼Œç„¶åæšä¸¾æ»¡è¶³ `a_i Â· a_j < 2n` çš„æ•°å¯¹ï¼Œæ£€æŸ¥æ˜¯å¦ç¬¦åˆ `a_i Â· a_j = i + j`ã€‚  
- **æ ¸å¿ƒéš¾ç‚¹**ï¼šâ‘  å¦‚ä½•æƒ³åˆ°ç”¨ `a_i Â· a_j < 2n` ç¼©å°æšä¸¾èŒƒå›´ï¼›â‘¡ å¦‚ä½•é«˜æ•ˆå­˜å‚¨å’ŒæŸ¥è¯¢ä¸‹æ ‡ï¼ˆæ¡¶çš„ä½¿ç”¨ï¼‰ï¼›â‘¢ å¤šç»„æ•°æ®æ—¶çš„æ¡¶é‡ç½®é—®é¢˜ã€‚  
- **å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼šç”¨åƒç´ å—è¡¨ç¤ºæ•°ç»„å…ƒç´ ï¼Œé«˜äº®å½“å‰æšä¸¾çš„ `i` å’Œ `j`ï¼Œåœ¨å±å¹•å³ä¾§æ˜¾ç¤º `a_i Â· a_j` å’Œ `i + j` çš„å€¼ã€‚å½“æ»¡è¶³æ¡ä»¶æ—¶ï¼Œæ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼Œå¹¶ç”¨å½©è‰²è¾¹æ¡†æ ‡è®°è¯¥æ•°å¯¹ã€‚  
- **å¤å¤æ¸¸æˆå…ƒç´ **ï¼šå‚è€ƒFCæ¸¸æˆçš„8ä½åƒç´ é£æ ¼ï¼ŒåŠ å…¥â€œè‡ªåŠ¨æ¢ç´¢â€æ¨¡å¼ï¼ˆç±»ä¼¼è´ªåƒè›‡AIè‡ªåŠ¨æ‰¾æ•°å¯¹ï¼‰ï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªæ•°å¯¹å°±æ˜¾ç¤ºâ€œ+1â€çš„åˆ†æ•°æç¤ºï¼Œå¢åŠ è¶£å‘³æ€§ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºäº†å¸®å¤§å®¶å¿«é€ŸæŒæ¡è§£é¢˜å…³é”®ï¼Œæˆ‘ä»æ€è·¯æ¸…æ™°åº¦ã€ä»£ç å¯è¯»æ€§ã€ç®—æ³•æœ‰æ•ˆæ€§ç­‰æ–¹é¢ç­›é€‰äº†ä»¥ä¸‹3ä»½ä¼˜è´¨é¢˜è§£ï¼š


### **é¢˜è§£ä¸€ï¼šitisoverï¼ˆèµï¼š16ï¼‰**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸ç›´ç™½ä¸”é«˜æ•ˆã€‚ä½œè€…é¦–å…ˆå°†æ•°ç»„æ’åºï¼Œç„¶åæšä¸¾ `i` å’Œ `j`ï¼ˆ`i < j`ï¼‰ï¼Œå¹¶é€šè¿‡ `a_i Â· a_j <= 2n` çš„æ¡ä»¶é™åˆ¶æšä¸¾èŒƒå›´ã€‚ä¸ºäº†å¿«é€ŸæŸ¥è¯¢æ¯ä¸ªå€¼å¯¹åº”çš„ä¸‹æ ‡ï¼Œä½œè€…ç”¨äº†ä¸€ä¸ªæ¡¶æ•°ç»„ `b`ï¼ˆ`b[a[i]] = i`ï¼‰ã€‚ä»£ç ç»“æ„æ¸…æ™°ï¼Œå˜é‡å‘½åè§„èŒƒï¼ˆå¦‚ `ans` è®°å½•ç­”æ¡ˆï¼Œ`a` å­˜å‚¨æ•°ç»„ï¼‰ï¼Œå¤æ‚åº¦åˆ†æï¼ˆè°ƒå’Œçº§æ•°ï¼‰ä¹Ÿå¾ˆåˆ°ä½ã€‚ä»å®è·µè§’åº¦çœ‹ï¼Œè¿™ä»½ä»£ç å¯ä»¥ç›´æ¥ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†ï¼ˆå¦‚ `j <= n`ï¼‰ä¹Ÿå¾ˆä¸¥è°¨ã€‚


### **é¢˜è§£äºŒï¼šAcc_Robinï¼ˆèµï¼š4ï¼‰**  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£çš„äº®ç‚¹æ˜¯**å°†é—®é¢˜è½¬åŒ–ä¸ºæ¡¶ä¸­çš„æšä¸¾**ã€‚ä½œè€…ç”¨æ¡¶ `b` å­˜å‚¨æ¯ä¸ªå€¼å¯¹åº”çš„ä¸‹æ ‡ï¼Œç„¶åç›´æ¥æšä¸¾ `i` å’Œ `j`ï¼ˆ`i < j`ï¼‰ï¼Œå¹¶æ£€æŸ¥ `i Â· j <= 2n` å’Œ `i Â· j = b[i] + b[j]`ã€‚ä»£ç éå¸¸ç®€æ´ï¼Œé¿å…äº†æ’åºçš„å¼€é”€ï¼ˆå› ä¸ºç›´æ¥æšä¸¾å€¼çš„èŒƒå›´ï¼‰ï¼Œé€‚åˆç†è§£â€œæ¡¶å­˜å‚¨â€çš„æ ¸å¿ƒæ€æƒ³ã€‚åŒæ—¶ï¼Œä½œè€…æé†’äº†â€œå¤šç»„æ•°æ®è¦æ¸…é›¶â€çš„ç»†èŠ‚ï¼Œè¿™æ˜¯å®¹æ˜“å¿½ç•¥çš„ç‚¹ã€‚


### **é¢˜è§£ä¸‰ï¼šTemperature_automataï¼ˆèµï¼š2ï¼‰**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£ä¿®æ­£äº†ä¸€ä¸ªå…³é”®ç»†èŠ‚â€”â€”`i + j < 2n`ï¼ˆå› ä¸º `i < j`ï¼‰ï¼Œæ‰€ä»¥ `a_i Â· a_j` å¿…é¡»ä¸¥æ ¼å°äº `2n`ã€‚ä½œè€…åœ¨ä»£ç ä¸­å¤„ç†äº†æ•´é™¤çš„æƒ…å†µï¼ˆå¦‚ `2n/a[i]` æ˜¯å¦ä¸ºæ•´æ•°ï¼‰ï¼Œé¿å…äº†æ¼åˆ¤æˆ–è¯¯åˆ¤ã€‚è™½ç„¶ä»£ç æœ‰ç‚¹å†—ä½™ï¼Œä½†è¿™ç§â€œæŠ ç»†èŠ‚â€çš„æ€åº¦å€¼å¾—å­¦ä¹ ï¼Œç‰¹åˆ«æ˜¯åœ¨è¾¹ç•Œæ¡ä»¶å¤„ç†ä¸Šã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

åœ¨è§£å†³æœ¬é¢˜æ—¶ï¼Œä»¥ä¸‹3ä¸ªéš¾ç‚¹æœ€å®¹æ˜“å¡ä½å¤§å®¶ï¼Œç»“åˆä¼˜è´¨é¢˜è§£çš„ç»éªŒï¼Œæˆ‘æ€»ç»“äº†åº”å¯¹ç­–ç•¥ï¼š


### 1. **éš¾ç‚¹1ï¼šå¦‚ä½•æƒ³åˆ°ç”¨ `a_i Â· a_j < 2n` ç¼©å°æšä¸¾èŒƒå›´ï¼Ÿ**  
* **åˆ†æ**ï¼šè¿™æ˜¯æœ¬é¢˜çš„å…³é”®è§‚å¯Ÿç‚¹ã€‚å› ä¸º `i < j`ï¼Œæ‰€ä»¥ `i + j < i + i = 2i`ï¼ˆå½“ `j = i+1` æ—¶ï¼Œ`i + j = 2i +1`ï¼Œä½†æ€»ä½“æ¥è¯´ `i + j < 2n`ï¼‰ã€‚å› æ­¤ `a_i Â· a_j` å¿…é¡»å°äº `2n`ï¼Œå¦åˆ™ä¸å¯èƒ½æ»¡è¶³ `a_i Â· a_j = i + j`ã€‚ä¼˜è´¨é¢˜è§£éƒ½ç”¨åˆ°äº†è¿™ä¸ªæ¡ä»¶ï¼Œå°†æšä¸¾èŒƒå›´ä» \(O(n^2)\) ç¼©å°åˆ° \(O(n \log n)\)ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè§£å†³æšä¸¾é—®é¢˜æ—¶ï¼Œå…ˆæ‰¾â€œæ•°å­¦æ¡ä»¶â€ç¼©å°èŒƒå›´ï¼Œæ¯”ç›´æ¥æš´åŠ›æ›´é«˜æ•ˆã€‚


### 2. **éš¾ç‚¹2ï¼šå¦‚ä½•é«˜æ•ˆå­˜å‚¨å’ŒæŸ¥è¯¢ä¸‹æ ‡ï¼Ÿ**  
* **åˆ†æ**ï¼šå› ä¸ºæ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸€ä¸ªæ¡¶æ•°ç»„ `b`ï¼Œå…¶ä¸­ `b[val] = idx`ï¼ˆ`val` æ˜¯æ•°ç»„ä¸­çš„å€¼ï¼Œ`idx` æ˜¯å®ƒçš„ä¸‹æ ‡ï¼‰ã€‚è¿™æ ·ï¼Œå½“éœ€è¦æŸ¥è¯¢æŸä¸ªå€¼å¯¹åº”çš„ä¸‹æ ‡æ—¶ï¼Œåªéœ€è¦ `O(1)` çš„æ—¶é—´ã€‚æ¯”å¦‚é¢˜è§£ä¸€ä¸­çš„ `b[a[i]] = i`ï¼Œå°±æ˜¯å°†æ¯ä¸ªå€¼çš„ä¸‹æ ‡å­˜åˆ°æ¡¶é‡Œã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå½“éœ€è¦é¢‘ç¹æŸ¥è¯¢â€œå€¼å¯¹åº”çš„ä½ç½®â€æ—¶ï¼Œæ¡¶ï¼ˆæ•°ç»„ï¼‰æ˜¯æœ€æœ‰æ•ˆçš„æ•°æ®ç»“æ„ã€‚


### 3. **éš¾ç‚¹3ï¼šå¤šç»„æ•°æ®æ—¶å¦‚ä½•é‡ç½®æ¡¶ï¼Ÿ**  
* **åˆ†æ**ï¼šå¤šç»„æ•°æ®çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä¸é‡ç½®æ¡¶ï¼Œå‰ä¸€ç»„çš„æ•°æ®ä¼šå½±å“åä¸€ç»„çš„ç»“æœã€‚æ¯”å¦‚é¢˜è§£äºŒä¸­çš„ `for(int i=1;i<=n;i++)b[a[i]]=0;`ï¼Œå°±æ˜¯åœ¨æ¯ç»„æ•°æ®å¤„ç†å®Œåå°†æ¡¶æ¸…é›¶ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤šç»„æ•°æ®å¤„ç†æ—¶ï¼Œä¸€å®šè¦è®°å¾—é‡ç½®æ‰€æœ‰å…¨å±€å˜é‡æˆ–æ•°ç»„ï¼Œé¿å…â€œè„æ•°æ®â€ã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **æŠ€å·§1ï¼šæ¡ä»¶é™åˆ¶**ï¼šé€šè¿‡æ•°å­¦æ¨å¯¼ç¼©å°æšä¸¾èŒƒå›´ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦ã€‚  
- **æŠ€å·§2ï¼šæ¡¶å­˜å‚¨**ï¼šç”¨æ•°ç»„å­˜å‚¨â€œå€¼å¯¹åº”çš„ä½ç½®â€ï¼Œå®ç°å¿«é€ŸæŸ¥è¯¢ã€‚  
- **æŠ€å·§3ï¼šå¤šç»„æ•°æ®é‡ç½®**ï¼šå¤„ç†å®Œæ¯ç»„æ•°æ®åï¼Œé‡ç½®æ¡¶æˆ–å…¶ä»–å…¨å±€å˜é‡ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†itisoverå’ŒAcc_Robinçš„æ€è·¯ï¼Œä¿ç•™äº†æ’åºå’Œæ¡¶å­˜å‚¨çš„æ ¸å¿ƒé€»è¾‘ï¼Œé€‚åˆç†è§£æ•´ä½“æ¡†æ¶ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <algorithm>
  using namespace std;

  const int MAXN = 2e5 + 5;
  int a[MAXN], b[MAXN]; // b[val] = idx

  int main() {
      ios::sync_with_stdio(false);
      cin.tie(nullptr);
      int T;
      cin >> T;
      while (T--) {
          int n, ans = 0;
          cin >> n;
          for (int i = 1; i <= n; ++i) {
              cin >> a[i];
              b[a[i]] = i; // æ¡¶å­˜å‚¨ä¸‹æ ‡
          }
          sort(a + 1, a + n + 1); // æ’åºï¼Œæ–¹ä¾¿æšä¸¾
          for (int i = 1; i <= n; ++i) {
              for (int j = i + 1; j <= n && 1LL * a[i] * a[j] < 2 * n; ++j) {
                  // æ£€æŸ¥æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼ša_i*a_j = i+jï¼ˆæ³¨æ„è¿™é‡Œçš„iå’Œjæ˜¯æ’åºåçš„ä¸‹æ ‡ï¼Œéœ€è¦ç”¨æ¡¶æŸ¥åŸä¸‹æ ‡ï¼‰
                  int idx1 = b[a[i]], idx2 = b[a[j]];
                  if (idx1 < idx2 && 1LL * a[i] * a[j] == idx1 + idx2) {
                      ans++;
                  }
              }
          }
          // é‡ç½®æ¡¶ï¼ˆé¿å…å½±å“ä¸‹ä¸€ç»„æ•°æ®ï¼‰
          for (int i = 1; i <= n; ++i) {
              b[a[i]] = 0;
          }
          cout << ans << '\n';
      }
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¯»å–å¤šç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®å…ˆå°†æ•°ç»„å…ƒç´ å­˜å…¥ `a` æ•°ç»„ï¼Œå¹¶å°†æ¯ä¸ªå€¼çš„ä¸‹æ ‡å­˜å…¥æ¡¶ `b`ã€‚  
  2. å¯¹ `a` æ•°ç»„æ’åºï¼Œæ–¹ä¾¿æšä¸¾æ»¡è¶³ `a_i Â· a_j < 2n` çš„æ•°å¯¹ã€‚  
  3. æšä¸¾ `i` å’Œ `j`ï¼ˆ`i < j`ï¼‰ï¼Œæ£€æŸ¥ `a_i Â· a_j` æ˜¯å¦ç­‰äºåŸä¸‹æ ‡ä¹‹å’Œï¼ˆç”¨æ¡¶æŸ¥åŸä¸‹æ ‡ï¼‰ã€‚  
  4. å¤„ç†å®Œæ¯ç»„æ•°æ®åï¼Œé‡ç½®æ¡¶ `b`ã€‚  


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### **é¢˜è§£ä¸€ï¼šitisoverï¼ˆæ’åºåæšä¸¾ï¼‰**  
* **äº®ç‚¹**ï¼šæ’åºåæšä¸¾ï¼Œç¡®ä¿ `i < j`ï¼Œä¸” `a_i Â· a_j` é€’å¢ï¼Œæ–¹ä¾¿æå‰ç»ˆæ­¢å¾ªç¯ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  sort(a + 1, a + 1 + n);
  for (int i = 1; i <= n; ++i) {
      for (int j = i + 1; j <= n && a[i] * a[j] <= 2 * n; ++j) {
          if (a[i] * a[j] == b[a[i]] + b[a[j]]) {
              ans++;
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  æ’åºåï¼Œ`a[i]` æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥ `a[i] Â· a[j]` ä¹Ÿæ˜¯é€’å¢çš„ã€‚å½“ `a[i] Â· a[j] > 2n` æ—¶ï¼Œå¯ä»¥ç›´æ¥ç»ˆæ­¢å†…å±‚å¾ªç¯ï¼ˆå› ä¸ºåé¢çš„ `j` æ›´å¤§ï¼Œä¹˜ç§¯ä¼šæ›´å¤§ï¼‰ã€‚è¿™ä¸€æ­¥ä¼˜åŒ–äº†å†…å±‚å¾ªç¯çš„æ¬¡æ•°ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºå¯ä»¥å¸®åŠ©æå‰ç»ˆæ­¢å¾ªç¯ï¼Œä¼˜åŒ–æšä¸¾æ•ˆç‡ã€‚


#### **é¢˜è§£äºŒï¼šAcc_Robinï¼ˆç›´æ¥æšä¸¾å€¼èŒƒå›´ï¼‰**  
* **äº®ç‚¹**ï¼šé¿å…æ’åºï¼Œç›´æ¥æšä¸¾å€¼çš„èŒƒå›´ï¼Œæ›´ç®€æ´ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  for (int i = 1; i <= m; ++i) {
      if (b[i]) {
          for (int j = i + 1; j <= m && 1LL * i * j <= 2 * n; ++j) {
              if (b[j] && 1LL * i * j == b[i] + b[j]) {
                  r++;
              }
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼šè¿™é‡Œçš„ `i` å’Œ `j` æ˜¯æ•°ç»„ä¸­çš„å€¼ï¼ˆä¸æ˜¯ä¸‹æ ‡ï¼‰ï¼Œç›´æ¥æšä¸¾å€¼çš„èŒƒå›´ `1` åˆ° `m`ï¼ˆ`m` æ˜¯æ•°ç»„çš„æœ€å¤§å€¼ï¼‰ã€‚å› ä¸º `i < j`ï¼Œæ‰€ä»¥ `i Â· j` é€’å¢ï¼ŒåŒæ ·å¯ä»¥æå‰ç»ˆæ­¢å¾ªç¯ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå½“å€¼çš„èŒƒå›´ä¸å¤§æ—¶ï¼Œç›´æ¥æšä¸¾å€¼æ¯”æšä¸¾ä¸‹æ ‡æ›´ç®€æ´ã€‚


#### **é¢˜è§£ä¸‰ï¼šTemperature_automataï¼ˆå¤„ç†æ•´é™¤æƒ…å†µï¼‰**  
* **äº®ç‚¹**ï¼šä¿®æ­£äº† `a_i Â· a_j < 2n` çš„æ¡ä»¶ï¼Œå¤„ç†äº†æ•´é™¤çš„æƒ…å†µã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  if (int(2 * n / a[i]) * a[i] == 2 * n) {
      for (int j = 1; j < 2 * n / a[i]; ++j) {
          if (b[j] && i != b[j] && i + b[j] == a[i] * j) {
              ans++;
          }
      }
  } else {
      for (int j = 1; j <= (2 * n / a[i]); ++j) {
          if (b[j] && i != b[j] && i + b[j] == a[i] * j) {
              ans++;
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼šä½œè€…è€ƒè™‘äº† `2n/a[i]` æ˜¯å¦ä¸ºæ•´æ•°çš„æƒ…å†µã€‚å¦‚æœæ˜¯æ•´æ•°ï¼Œé‚£ä¹ˆ `j` çš„ä¸Šé™æ˜¯ `2n/a[i] - 1`ï¼ˆå› ä¸º `a_i Â· j < 2n`ï¼‰ï¼›å¦åˆ™ï¼Œ`j` çš„ä¸Šé™æ˜¯ `2n/a[i]`ï¼ˆå‘ä¸‹å–æ•´ï¼‰ã€‚è¿™ç§å¤„ç†é¿å…äº†æ¼åˆ¤æˆ–è¯¯åˆ¤ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤„ç†è¾¹ç•Œæ¡ä»¶æ—¶ï¼Œè¦è€ƒè™‘æ•´é™¤çš„æƒ…å†µï¼Œç¡®ä¿æ¡ä»¶çš„å‡†ç¡®æ€§ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### ğŸ® åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šåƒç´ æ¢é™©å®¶æ‰¾â€œå‹å¥½é…å¯¹â€  
å‚è€ƒFCæ¸¸æˆã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„8ä½åƒç´ é£æ ¼ï¼Œå°†æ•°ç»„å…ƒç´ è¡¨ç¤ºä¸ºå½©è‰²åƒç´ å—ï¼Œæ¯ä¸ªåƒç´ å—æ˜¾ç¤ºå€¼å’Œä¸‹æ ‡ã€‚æ¢é™©å®¶ï¼ˆä¸€ä¸ªå°è˜‘è‡ï¼‰ä¼šé€ä¸ªæ£€æŸ¥å…ƒç´ ï¼Œå¯»æ‰¾æ»¡è¶³æ¡ä»¶çš„æ•°å¯¹ã€‚


### ğŸ“Š æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼šå±å¹•å·¦ä¾§æ˜¾ç¤ºæ•°ç»„çš„åƒç´ å—ï¼ˆæ¯ä¸ªå—æ˜¯ `32x32` åƒç´ ï¼Œé¢œè‰²éšæœºï¼‰ï¼Œå³ä¾§æ˜¾ç¤ºæ§åˆ¶é¢æ¿ï¼ˆå¼€å§‹/æš‚åœã€å•æ­¥ã€é‡ç½®æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼‰ï¼Œåº•éƒ¨æ˜¾ç¤ºå½“å‰ `a_i Â· a_j` å’Œ `i + j` çš„å€¼ã€‚  
2. **ç®—æ³•å¯åŠ¨**ï¼šæ¢é™©å®¶ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œé«˜äº®å½“å‰å…ƒç´ ï¼ˆçº¢è‰²è¾¹æ¡†ï¼‰ï¼Œç„¶åæšä¸¾åé¢çš„å…ƒç´ ï¼ˆé»„è‰²è¾¹æ¡†ï¼‰ã€‚  
3. **æ¡ä»¶æ£€æŸ¥**ï¼šå½“æšä¸¾åˆ° `j` æ—¶ï¼Œå³ä¾§æ˜¾ç¤º `a_i Â· a_j` å’Œ `i + j` çš„å€¼ã€‚å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œæ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼Œå¹¶ç”¨ç»¿è‰²è¾¹æ¡†æ ‡è®°è¿™ä¸¤ä¸ªå…ƒç´ ï¼Œåº•éƒ¨æ˜¾ç¤ºâ€œ+1â€çš„åˆ†æ•°æç¤ºã€‚  
4. **è‡ªåŠ¨æ¨¡å¼**ï¼šç‚¹å‡»â€œè‡ªåŠ¨æ¢ç´¢â€æŒ‰é’®ï¼Œæ¢é™©å®¶ä¼šè‡ªåŠ¨éå†æ‰€æœ‰å…ƒç´ ï¼Œæ‰¾åˆ°æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ•°å¯¹ï¼Œç±»ä¼¼è´ªåƒè›‡AIè‡ªåŠ¨æ‰¾é£Ÿç‰©ã€‚  
5. **ç»“æŸçŠ¶æ€**ï¼šå½“æ‰€æœ‰å…ƒç´ éå†å®Œæ¯•ï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼Œæ˜¾ç¤ºæ€»åˆ†æ•°ï¼ˆæ»¡è¶³æ¡ä»¶çš„æ•°å¯¹æ•°é‡ï¼‰ã€‚


### ğŸ¨ è®¾è®¡æ€è·¯  
- **åƒç´ é£æ ¼**ï¼šç”¨8ä½è‰²æ¿ï¼ˆå¦‚ `#000000` é»‘è‰²ã€`#FFFFFF` ç™½è‰²ã€`#FF0000` çº¢è‰²ã€`#00FF00` ç»¿è‰²ï¼‰ï¼Œæ¨¡æ‹ŸFCæ¸¸æˆçš„å¤å¤æ„Ÿï¼Œè®©å­¦ä¹ è€…æ„Ÿåˆ°äº²åˆ‡ã€‚  
- **éŸ³æ•ˆè®¾è®¡**ï¼šå…³é”®æ“ä½œï¼ˆå¦‚æšä¸¾ã€æ»¡è¶³æ¡ä»¶ï¼‰ç”¨è½»å¾®çš„â€œåƒç´ éŸ³æ•ˆâ€ï¼ˆå¦‚ `beep` å£°ï¼‰ï¼Œèƒœåˆ©æ—¶ç”¨ä¸Šæ‰¬çš„â€œå®â€å£°ï¼Œå¢å¼ºè®°å¿†ç‚¹ã€‚  
- **äº¤äº’è®¾è®¡**ï¼šå•æ­¥æ¨¡å¼è®©å­¦ä¹ è€…å¯ä»¥æ…¢æ…¢è§‚å¯Ÿæ¯ä¸€æ­¥ï¼Œè‡ªåŠ¨æ¨¡å¼è®©å­¦ä¹ è€…å¿«é€Ÿçœ‹åˆ°æ•´ä½“æµç¨‹ï¼Œé€Ÿåº¦æ»‘å—å¯ä»¥è°ƒæ•´æ’­æ”¾é€Ÿåº¦ï¼Œé€‚åˆä¸åŒå­¦ä¹ èŠ‚å¥ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ğŸ§  é€šç”¨æ€è·¯è¿ç§»  
æœ¬é¢˜çš„æ ¸å¿ƒæ€è·¯ï¼ˆæšä¸¾ä¼˜åŒ–+æ¡¶å­˜å‚¨ï¼‰å¯ä»¥è¿ç§»åˆ°ä»¥ä¸‹åœºæ™¯ï¼š  
1. **æ‰¾ä¸¤æ•°ä¹‹å’Œç­‰äºç›®æ ‡å€¼**ï¼šç”¨æ¡¶å­˜å‚¨æ¯ä¸ªå€¼çš„ä¸‹æ ‡ï¼Œæšä¸¾æ¯ä¸ªå€¼ï¼Œæ£€æŸ¥ç›®æ ‡å€¼å‡å»è¯¥å€¼æ˜¯å¦åœ¨æ¡¶ä¸­ã€‚  
2. **æ‰¾ä¸¤æ•°ä¹‹ç§¯ç­‰äºç›®æ ‡å€¼**ï¼šç±»ä¼¼æœ¬é¢˜ï¼Œç”¨æ¡¶å­˜å‚¨ä¸‹æ ‡ï¼Œæšä¸¾æ»¡è¶³ç§¯å°äºç›®æ ‡å€¼çš„æ•°å¯¹ã€‚  
3. **å¤šç»„æ•°æ®çš„ç»Ÿè®¡é—®é¢˜**ï¼šç”¨æ¡¶å­˜å‚¨ä¸­é—´ç»“æœï¼Œæ¯ç»„æ•°æ®åé‡ç½®æ¡¶ã€‚


### ğŸ“š æ´›è°·ç»ƒä¹ æ¨è  
1. **æ´›è°· P1102 è¾¹æ•°ç»Ÿè®¡**  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„è¾¹æ•°ï¼Œç±»ä¼¼æœ¬é¢˜çš„æšä¸¾ä¼˜åŒ–æ€è·¯ï¼Œé€‚åˆå·©å›ºâ€œæ¡ä»¶é™åˆ¶â€çš„æŠ€å·§ã€‚  
2. **æ´›è°· P1554 æ¢¦ä¸­çš„ç»Ÿè®¡**  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç»Ÿè®¡æ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œç±»ä¼¼æœ¬é¢˜çš„â€œæ¡¶å­˜å‚¨â€æ€è·¯ï¼Œé€‚åˆç»ƒä¹ æ¡¶çš„ä½¿ç”¨ã€‚  
3. **æ´›è°· P2058 æµ·æ¸¯**  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦å¤„ç†å¤šç»„æ•°æ®ï¼Œç±»ä¼¼æœ¬é¢˜çš„â€œå¤šç»„æ•°æ®é‡ç½®â€æ€è·¯ï¼Œé€‚åˆç»ƒä¹ è¾¹ç•Œæ¡ä»¶å¤„ç†ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### ğŸ“ å‚è€ƒç»éªŒï¼ˆæ¥è‡ªTemperature_automataï¼‰  
> â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆæ²¡æœ‰æ³¨æ„åˆ° `i + j < 2n` çš„æ¡ä»¶ï¼Œå¯¼è‡´ä»£ç åœ¨æŸäº›æµ‹è¯•ç”¨ä¾‹ä¸Šå‡ºé”™ã€‚åæ¥é€šè¿‡ä»”ç»†æ¨å¯¼ï¼Œæ‰ä¿®æ­£äº†è¿™ä¸ªé”™è¯¯ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œå¤„ç†è¾¹ç•Œæ¡ä»¶æ—¶ä¸€å®šè¦ä¸¥è°¨ï¼Œä¸èƒ½æƒ³å½“ç„¶ã€‚â€  

**ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå…¸å‹ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œè¾¹ç•Œæ¡ä»¶ï¼ˆå¦‚ `<` å’Œ `<=` çš„åŒºåˆ«ï¼‰å¾€å¾€æ˜¯ bug çš„æ ¹æºã€‚é€šè¿‡ä»”ç»†æ¨å¯¼æ•°å­¦æ¡ä»¶ï¼ˆå¦‚ `i < j` å¯¼è‡´ `i + j < 2n`ï¼‰ï¼Œå¯ä»¥é¿å…è¿™ç±»é”™è¯¯ã€‚**å»ºè®®å¤§å®¶åœ¨å†™ä»£ç å‰ï¼Œå…ˆæŠŠæ¡ä»¶æ¨å¯¼æ¸…æ¥šï¼Œå†åŠ¨æ‰‹å†™ä»£ç **ã€‚  


## ğŸ‰ æ€»ç»“  
æœ¬æ¬¡åˆ†æçš„â€œPleasant Pairsâ€é¢˜ï¼Œæ ¸å¿ƒæ˜¯**é€šè¿‡æ•°å­¦æ¡ä»¶ä¼˜åŒ–æšä¸¾èŒƒå›´**ï¼Œç»“åˆ**æ¡¶å­˜å‚¨**å®ç°é«˜æ•ˆæŸ¥è¯¢ã€‚å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶æŒæ¡æšä¸¾ä¼˜åŒ–çš„æŠ€å·§ï¼Œå­¦ä¼šç”¨æ¡¶å­˜å‚¨è§£å†³â€œå€¼ä¸ä½ç½®â€çš„é—®é¢˜ã€‚è®°ä½ï¼Œç¼–ç¨‹çš„å…³é”®æ˜¯â€œæƒ³æ¸…æ¥šå†å†™â€â€”â€”å…ˆæ¨å¯¼æ¡ä»¶ï¼Œå†è®¾è®¡æ•°æ®ç»“æ„ï¼Œæœ€åå†™ä»£ç ã€‚ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š158.86ç§’
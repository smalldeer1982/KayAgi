# 题目信息

# Fancy Fence

## 说明/提示

Emuskald想在他的农场周围造一圈栅栏，但是他太懒了，不想自己动手。于是，他买了一个栅栏机器人。

Emuskald想把栅栏围成正多边形。机器人每次造一个边，之后只能转动a°继续建造下一个边。

Emuskald能造出他想要的围栏吗？也就是说，有没有一种正多边形的每一个角都为a°。
第一组样例中，转动角度为30°，围不出正多边形。
第二组转动角度为60°，围出三角形。
第三组转动角度为90°，围出正方形。

感谢@PaulHunter 提供的翻译

## 样例 #1

### 输入

```
3
30
60
90
```

### 输出

```
NO
YES
YES
```

# AI分析结果



---
# 💡 Kay的C++算法解析：Fancy Fence 深入学习指南 💡

<introduction>
今天我们来一起分析“Fancy Fence”这道C++编程题。这道题看似是几何问题，实则是一道需要结合数学知识的思维题。本指南将帮助大家梳理题目思路，理解核心算法，并掌握解题技巧。
</introduction>

## 1. 题目解读与核心算法识别

✨ **本题主要考察**：`数学应用` (几何性质与整除判断)

🗣️ **初步分析**：
> 解决“Fancy Fence”这道题，关键在于理解正多边形的几何性质，并将问题转化为数学上的整除判断。简单来说，正多边形的外角和恒为360°，而每个外角等于180°减去内角。本题中，机器人每次转动的角度a°其实就是正多边形的内角，我们需要判断是否存在一个正多边形，其内角恰好为a°。

   - **题解思路**：所有优质题解均基于“外角和恒为360°”这一性质，将问题转化为判断“180° - a°是否能整除360°”。若能整除，则存在这样的正多边形（边数n=360°/(180°-a°)），否则不存在。
   - **核心难点**：如何将“机器人转动角度”与“正多边形内角”关联，并推导出外角的数学关系。
   - **可视化设计**：我们将用8位像素动画演示正多边形的构造过程，例如用像素方块表示边，每次转动角度a°时，同步显示外角（180°-a°）的大小，并累加外角和，当总和刚好为360°时，形成闭合的正多边形（如三角形、正方形等）。动画中会高亮当前外角值，并通过音效提示“入队”（边添加）和“闭合成功”（形成正多边形）。

---

## 2. 精选优质题解参考

<eval_intro>
通过评估思路清晰度、代码规范性、算法有效性等维度，以下题解因逻辑简洁、代码高效被选为优质题解（≥4星）：
</eval_intro>

**题解一：作者：伟大的王夫子**
* **点评**：此题解直接抓住问题核心——利用外角和恒为360°的性质，将问题转化为整除判断。思路清晰，代码简洁，变量命名直观（如用`a`表示输入角度）。特别值得学习的是，通过`360.0 / (180.0 - a)`与整数的比较，巧妙处理了浮点数精度问题。代码可直接用于竞赛，边界条件（如a=180°时180-a=0，需避免除零错误，但题目中a是正多边形内角，必小于180°，故无需额外处理）考虑严谨。

**题解二：作者：午尘**
* **点评**：此题解逻辑直白，代码简短。通过`360%(180-a)==0`直接判断整除关系，避免了浮点数运算，效率更高。作者在题解中补充了内角和外角的推导过程，帮助读者理解数学原理，这对学习者非常友好。代码结构清晰，适合新手模仿。

**题解三：作者：yanxingyu0910**
* **点评**：此题解不仅提供了代码，还补充了前置知识链接和数学推导，帮助读者从原理上理解问题。代码中使用快读函数优化输入效率，体现了竞赛编程的实用技巧。虽然快读稍显复杂，但对需要处理大量输入的场景很有帮助。

---

## 3. 核心难点辨析与解题策略

<difficulty_intro>
在解决这个问题的过程中，我们通常会遇到以下关键点或难点。结合优质题解的共性，提炼核心思考方向和策略：
</difficulty_intro>

1.  **关键点1**：如何将“机器人转动角度”与“正多边形内角”关联？
    * **分析**：机器人每次转动的角度a°是正多边形的内角。正多边形的每个内角a°与外角（180°-a°）互补。而任意正多边形的外角和恒为360°，因此外角必须能整除360°（即360°是外角的整数倍）。
    * 💡 **学习笔记**：正多边形的外角和是固定值360°，这是解决本题的关键突破口。

2.  **关键点2**：如何避免浮点数精度问题？
    * **分析**：直接用浮点数计算可能因精度误差导致错误（如360/(180-a)应为整数，但浮点数计算可能得到近似值）。优质题解通过两种方式解决：一是用整数运算（如`360%(180-a)==0`），二是判断浮点数结果与整数是否相等（如`360.0/(180.0-a) == int(...)`）。
    * 💡 **学习笔记**：涉及整除判断时，优先使用整数运算避免精度问题。

3.  **关键点3**：如何处理边界条件？
    * **分析**：题目中a是正多边形的内角，因此a必须满足0°<a<180°（否则无法构成多边形）。但题目输入可能包含a≥180°的情况（如输入180°时，180-a=0，会导致除零错误）。实际题目中，机器人无法转动180°及以上角度（否则无法形成闭合图形），因此输入a必满足a<180°，无需额外处理。
    * 💡 **学习笔记**：结合题意分析输入范围，可简化边界条件判断。

### ✨ 解题技巧总结
<summary_best_practices>
- **问题抽象**：将几何问题转化为数学整除问题，抓住“外角和恒为360°”的核心性质。
- **整数运算优先**：涉及整除判断时，尽量用整数取模（%）代替浮点数计算，避免精度误差。
- **原理推导**：遇到几何问题时，先推导数学公式（如内角与外角的关系），再设计算法。
</summary_best_practices>

---

## 4. C++核心代码实现赏析

<code_intro_overall>
在深入分析具体题解的精妙片段之前，让我们先来看一个能够完整解决本题的通用核心C++实现参考。
</code_intro_overall>

**本题通用核心C++实现参考**
* **说明**：本代码综合了多个优质题解的思路，采用整数取模运算避免浮点数精度问题，逻辑简洁且高效。
* **完整核心代码**：
    ```cpp
    #include <iostream>
    using namespace std;

    int main() {
        int t;
        cin >> t;
        while (t--) {
            int a;
            cin >> a;
            int ext_angle = 180 - a;
            if (ext_angle <= 0) { // 理论上a<180，此判断可省略
                cout << "NO\n";
                continue;
            }
            if (360 % ext_angle == 0) {
                cout << "YES\n";
            } else {
                cout << "NO\n";
            }
        }
        return 0;
    }
    ```
* **代码解读概要**：
    > 代码首先读取测试用例数t，然后对每个输入角度a计算外角（180-a）。若外角能整除360°（即360%外角==0），则输出YES，否则输出NO。代码通过整数取模直接判断，避免了浮点数运算的精度问题，高效且易懂。

---
<code_intro_selected>
接下来，我们将剖析优质题解中的核心代码片段，并点出各自的亮点和关键思路。
</code_intro_selected>

**题解一：作者：伟大的王夫子**
* **亮点**：巧妙处理浮点数精度问题，通过比较浮点数结果与整数是否相等，确保判断准确。
* **核心代码片段**：
    ```cpp
    double a;
    cin >> a;
    if (360.0 / (180.0 - a) == int(360 / (180 - a))) puts("YES");
    else puts("NO");
    ```
* **代码解读**：
    > 这段代码首先读取浮点数a（可能输入为小数，如30.5°），计算外角（180.0 - a）。然后判断360.0除以外角的结果是否为整数：若浮点数结果等于其整数部分（如360.0/60=6.0，整数部分为6），则说明能整除，输出YES。这种方法适用于输入为浮点数的场景，确保精度。
* 💡 **学习笔记**：当输入可能为浮点数时，用浮点数运算+整数比较可避免取模运算的限制。

**题解二：作者：午尘**
* **亮点**：直接使用整数取模运算，代码简洁高效。
* **核心代码片段**：
    ```cpp
    scanf("%d", &a);
    if (360 % (180 - a) == 0) cout << "YES" << endl;
    else cout << "NO" << endl;
    ```
* **代码解读**：
    > 这段代码假设输入a为整数（题目样例输入均为整数），直接计算外角（180 - a），并判断360是否能被外角整除。取模运算（%）是整数运算，效率高于浮点数运算，适合输入为整数的场景。
* 💡 **学习笔记**：输入为整数时，整数取模是更高效的选择。

**题解三：作者：yanxingyu0910**
* **亮点**：使用快读函数优化输入效率，适合处理大量输入的竞赛场景。
* **核心代码片段**：
    ```c
    inline LL read() { // 快读函数
        register LL x=0,f=1;
        char c=getchar();
        while(c<'0'||c>'9') {
            if(c=='-') f=-1;
            c=getchar();
        }
        while(c>='0'&&c<='9') x=(x<<3)+(x<<1)+(c^48),c=getchar();
        return x*f;
    }
    signed main() {
        t=read();
        while(t--) {
            a=read();
            b=360%(180-a);
            if(b==0) printf("YES\n");
            else printf("NO\n");
        }
    }
    ```
* **代码解读**：
    > 快读函数通过逐字符读取输入并转换为整数，比`cin`或`scanf`更快（尤其在输入数据量大时）。主函数中使用快读读取测试用例数t和角度a，然后进行整除判断。这种优化在竞赛中非常实用。
* 💡 **学习笔记**：处理大量输入时，快读函数可显著提升程序效率。

-----

## 5\. 算法可视化：像素动画演示 (核心部分)

<visualization_intro>
为了更直观地理解“如何通过外角判断正多边形是否存在”，我设计了一个8位像素风格的动画演示方案，让我们“看”到算法的每一步！
</visualization_intro>

  * **动画演示主题**：`像素多边形建造师`（复古FC游戏风格）

  * **核心演示内容**：模拟机器人建造栅栏的过程，展示外角如何累加为360°，并判断是否能形成闭合的正多边形。

  * **设计思路简述**：采用8位像素风（如FC红白机的简洁色调），用不同颜色的像素块表示边和角度。通过动态展示外角的累加过程，帮助学习者直观理解“外角和恒为360°”的性质，以及整除判断的意义。

  * **动画帧步骤与交互关键点**：

    1.  **场景初始化**：
          * 屏幕分为左右两部分：左侧是“建造区”（8x8像素网格，背景为淡蓝色），右侧是“数据区”（显示当前角度a、外角、外角和等）。
          * 控制面板包含“开始/暂停”、“单步”、“重置”按钮，以及速度滑块（1-5倍速）。
          * 播放8位风格的轻快背景音乐（类似《超级玛丽》的简单旋律）。

    2.  **输入角度a**：
          * 学习者输入角度a（如60°），点击“开始”后，动画启动。

    3.  **计算外角**：
          * 数据区显示：“内角a=60° → 外角=180°-a=120°”（用黄色像素文字高亮）。
          * 建造区出现一个像素箭头，指向初始边（红色像素块）。

    4.  **累加外角和**：
          * 机器人开始“建造”：每造一条边（绿色像素块滑动进入建造区），箭头转动a°（60°），同时数据区外角和累加120°（显示为“外角和=120°”）。
          * 每完成一条边，播放“叮”的音效（类似FC游戏的道具收集声）。

    5.  **判断是否闭合**：
          * 当外角和达到360°时（如第3次累加：120°×3=360°），建造区的边首尾相连，形成闭合的正三角形（绿色像素块围成三角形），播放“胜利”音效（上扬的旋律），数据区显示“YES”。
          * 若外角和无法达到360°（如a=30°，外角=150°，360°/150°=2.4，非整数），建造区的边无法闭合（最后一条边与初始边有缺口），播放“提示”音效（短促的“滴”声），数据区显示“NO”。

    6.  **交互控制**：
          * 单步模式：学习者可点击“单步”按钮，手动控制每一步建造，观察外角和的变化。
          * 自动模式：选择速度后，动画自动运行，适合观察整体过程。

  * **旁白提示**：
      * （建造第一条边时）“看！机器人造了一条边，然后转动了a=60°。这时候，外角是180°-a=120°哦~”
      * （累加外角和时）“现在外角和是120°，再建一条边，外角和变成240°啦！”
      * （闭合时）“哇！三条边的外角和刚好是360°，围成了一个正三角形，输出YES！”

<visualization_conclusion>
通过这个像素动画，我们不仅能看到机器人如何建造栅栏，还能直观理解“外角和恒为360°”的数学原理，以及整除判断在其中的关键作用。
</visualization_conclusion>

-----

## 6\. 拓展练习与相似问题思考

<similar_problems_intro>
理解并掌握了本题的解法后，我们可以进一步思考数学几何问题的通用思路，并尝试以下拓展练习。
</similar_problems_intro>

  * **通用思路/技巧迁移**：
      * 本题的核心是利用几何性质（外角和恒为360°）将问题转化为数学整除判断。类似的思路可用于：
        1. 判断给定边长能否构成正多边形。
        2. 计算正多边形的边数（已知内角）。
        3. 判断多个角度能否组成多边形（如三角形内角和为180°）。

  * **练习推荐 (洛谷)**：
    1.  **洛谷 P5736** - `质数筛`
          * 🗣️ **推荐理由**：这道题需要判断一个数是否为质数，练习整数运算和条件判断，巩固数学思维。
    2.  **洛谷 P1035** - `级数求和`
          * 🗣️ **推荐理由**：通过计算级数的和，练习循环和浮点数处理，提升代码的严谨性。
    3.  **洛谷 P1423** - `小玉在游泳`
          * 🗣️ **推荐理由**：结合数学计算和循环结构，练习如何将实际问题转化为代码逻辑。

-----

## 7\. 学习心得与经验分享 (若有)

<insights_intro>
题解中虽未明确提及作者的调试经历，但通过分析可以总结一些实用的学习心得：
</insights_intro>

> 例如，作者“伟大的王夫子”提到“有关多边形内角和的问题，一般转化为外角进行讨论”，这提示我们：遇到几何问题时，可尝试转换视角（如内角→外角），往往能简化问题。

**点评**：转换视角是解决数学问题的常用技巧。例如，本题中内角的问题通过外角解决，更直观且符合外角和的固定性质。这提醒我们，遇到困难时不妨换个角度思考，可能会有意外收获。

-----

<conclusion>
本次关于“Fancy Fence”的C++解题分析就到这里。希望这份学习指南能帮助大家理解几何问题的数学转化思路，并掌握整除判断的编程技巧。记住，多思考、多练习，你会越来越擅长解决这类问题！下次见~ 💪
</conclusion>

---
处理用时：215.41秒
# é¢˜ç›®ä¿¡æ¯

# Lucky String

## é¢˜ç›®æè¿°

Petya loves lucky numbers. We all know that lucky numbers are the positive integers whose decimal representations contain only the lucky digits 4 and 7. For example, numbers 47, 744, 4 are lucky and 5, 17, 467 are not.

Petya recently learned to determine whether a string of lowercase Latin letters is lucky. For each individual letter all its positions in the string are written out in the increasing order. This results in $ 26 $ lists of numbers; some of them can be empty. A string is considered lucky if and only if in each list the absolute difference of any two adjacent numbers is a lucky number.

For example, let's consider string "zbcdzefdzc". The lists of positions of equal letters are:

- b: $ 2 $
- c: $ 3,10 $
- d: $ 4,8 $
- e: $ 6 $
- f: $ 7 $
- z: $ 1,5,9 $
- Lists of positions of letters a, g, h, ..., y are empty.

This string is lucky as all differences are lucky numbers. For letters z: $ 5-1=4 $ , $ 9-5=4 $ , for letters c: $ 10-3=7 $ , for letters d: $ 8-4=4 $ .

Note that if some letter occurs only once in a string, it doesn't influence the string's luckiness after building the lists of positions of equal letters. The string where all the letters are distinct is considered lucky.

Find the lexicographically minimal lucky string whose length equals $ n $ .

## è¯´æ˜/æç¤º

The lexical comparison of strings is performed by the < operator in modern programming languages. String $ a $ is lexicographically less than string $ b $ if exists such $ i $ ( $ 1<=i<=n $ ), that $ a_{i}&lt;b_{i} $ , and for any $ j $ ( $ 1<=j&lt;i $ ) $ a_{j}=b_{j} $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
5
```

### è¾“å‡º

```
abcda
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
3
```

### è¾“å‡º

```
abc
```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šLucky String æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

**å¼•è¨€**  
ä»Šå¤©æˆ‘ä»¬ä¸€èµ·åˆ†æ"Lucky String"è¿™é“æ„é€ ç±»é¢˜ç›®ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©ä½ ç†è§£å¦‚ä½•é€šè¿‡å·§å¦™è®¾è®¡æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å­—å…¸åºæœ€å°å­—ç¬¦ä¸²ã€‚

---

### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`ç¼–ç¨‹æŠ€å·§åº”ç”¨ï¼ˆæ„é€ +è´ªå¿ƒï¼‰`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è§£å†³æœ¬é¢˜å°±åƒç¼–æ’ä¸€æ”¯èˆè¹ˆé˜Ÿå½¢â€”â€”éœ€è¦è®©ç›¸åŒå­—æ¯çš„é—´éš”ä¿æŒç‰¹å®šè·ç¦»ï¼ˆ4æˆ–7ï¼‰ï¼ŒåŒæ—¶è®©æ•´ä½“åºåˆ—å°½å¯èƒ½ç´§å‡‘æœ‰åºã€‚å…³é”®åœ¨äºå‘ç°**å‘¨æœŸæ€§æ„é€ **çš„è§„å¾‹ï¼š  
> - æ ¸å¿ƒæŠ€å·§æ˜¯é‡‡ç”¨"abcd"å¾ªç¯èŠ‚ï¼Œç¡®ä¿ç›¸åŒå­—æ¯é—´éš”æ’ä¸º4ï¼ˆå¹¸è¿æ•°å­—ï¼‰
> - éš¾ç‚¹åœ¨äºè¯æ˜è¯¥æ„é€ åŒæ—¶æ»¡è¶³å­—å…¸åºæœ€å°å’Œæ¡ä»¶çº¦æŸ
> - å¯è§†åŒ–è®¾è®¡é‡ç‚¹ï¼šç”¨é¢œè‰²æ ‡è®°å¾ªç¯èŠ‚ä½ç½®ï¼ŒåŠ¨æ€å±•ç¤ºç›¸åŒå­—æ¯é—´éš”è®¡ç®—
> - åƒç´ åŠ¨ç”»æ–¹æ¡ˆï¼šé‡‡ç”¨æµæ°´çº¿å·¥å‚é£æ ¼ï¼Œå­—æ¯å—éšä¼ é€å¸¦ç§»åŠ¨ï¼Œå½“ç›¸åŒå­—æ¯é—´éš”ä¸º4æ—¶è§¦å‘ç»¿è‰²é—ªå…‰å’Œ"å®"çš„éŸ³æ•ˆ

---

### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆæ¥æºï¼šAndysun06ï¼‰**  
* **ç‚¹è¯„**ï¼šæ€è·¯ç›´å‡»æœ¬è´¨ï¼Œç”¨ç®€æ´çš„å–æ¨¡è¿ç®—å®ç°å‘¨æœŸæ„é€ ã€‚ä»£ç æåº¦ç²¾ç®€ï¼ˆä»…3è¡Œæ ¸å¿ƒé€»è¾‘ï¼‰ï¼Œå˜é‡å‘½åæ¸…æ™°ï¼ˆ`i%4`ç›´æ¥ä½“ç°å‘¨æœŸè§„å¾‹ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦O(n)è¾¾åˆ°æœ€ä¼˜ã€‚ç‰¹åˆ«äº®ç‚¹æ˜¯å°†Pascal/C++åŒå®ç°å¯¹æ¯”ï¼Œå¯å‘æ€è€ƒè¯­è¨€ç‰¹æ€§å·®å¼‚ã€‚

**é¢˜è§£äºŒï¼ˆæ¥æºï¼šhswfwkj_ï¼‰**  
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§ä½¿ç”¨ä½è¿ç®—`i&3`æ›¿ä»£å–æ¨¡ï¼Œæå‡è®¡ç®—æ•ˆç‡ã€‚å¯¹"é—´éš”ä¸º4æ˜¯æœ€ä¼˜è§£"çš„è®ºè¯å¼ºåŒ–äº†è´ªå¿ƒæ€æƒ³ï¼Œä»£ç è¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆå¾ªç¯ä»1å¼€å§‹è®¡æ•°ï¼‰ã€‚äº®ç‚¹æ˜¯æ˜ç¡®æŒ‡å‡ºç°å®ç«èµ›ä¸­ä½è¿ç®—çš„ä¼˜åŒ–ä»·å€¼ã€‚

**é¢˜è§£ä¸‰ï¼ˆæ¥æºï¼š_tommysun_ï¼‰**  
* **ç‚¹è¯„**ï¼šé‡‡ç”¨åˆ†å—æ„é€ æ€æƒ³ï¼Œå…ˆå¤„ç†å®Œæ•´å‘¨æœŸå†è§£å†³ä½™æ•°ã€‚æ‰“è¡¨æŠ€å·§`string s[4]`æå‡å¯è¯»æ€§ï¼Œç‰¹åˆ«é€‚åˆåˆå­¦è€…ç†è§£åˆ†æ®µé€»è¾‘ã€‚äº®ç‚¹æ˜¯å¼ºè°ƒ"å¾ªç¯èŠ‚é•¿åº¦=æœ€å°å…è®¸é—´éš”"çš„æ ¸å¿ƒæ´å¯Ÿã€‚

---

### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **ç†è§£ä½ç½®çº¦æŸæœ¬è´¨**  
   * **åˆ†æ**ï¼šéœ€è½¬åŒ–ä¸ºæ•°å­¦è®¤çŸ¥â€”â€”ç›¸åŒå­—æ¯çš„ä½ç½®åºåˆ—æ„æˆç­‰å·®æ•°åˆ—ï¼Œä¸”å…¬å·®éœ€ä¸º4æˆ–7ã€‚ä¼˜è´¨è§£æ³•é€šè¿‡æ ·ä¾‹"abcda"(ä½ç½®å·®=4)ç›´è§‚éªŒè¯å¯è¡Œæ€§
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå­—ç¬¦ä¸²çº¦æŸæœ¬è´¨æ˜¯éšè—çš„æ•°å­¦å…³ç³»

2. **è´ªå¿ƒç­–ç•¥è¯æ˜**  
   * **åˆ†æ**ï¼šä¸ºä½•é€‰4è€Œé7ï¼Ÿå› ä¸ºè¾ƒå°é—´éš”å…è®¸æ›´å¿«å¾ªç¯ä½¿ç”¨å°å†™å­—æ¯ï¼ˆå¦‚aâ†’aä»…éœ€4ä½ï¼Œè‹¥ç”¨7åˆ™éœ€æ›´å¤šä¸´æ—¶å­—æ¯ï¼‰ã€‚é¢˜è§£é€šè¿‡å¯¹æ¯”`abcde`ä¸`abcda`çš„å­—å…¸åºå·®å¼‚è¯å®æ­¤ç‚¹
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæœ€å°å­—å…¸åºè¦æ±‚ä¼˜å…ˆå¤ç”¨æœ€æ—©å¯ç”¨çš„å°å†™å­—æ¯

3. **å¾ªç¯èŠ‚é•¿åº¦é€‰æ‹©**  
   * **åˆ†æ**ï¼š4æ—¢æ˜¯å…è®¸çš„æœ€å°é—´éš”ï¼Œä¹Ÿæ˜¯å­—æ¯è¡¨æœ€å°å¾ªç¯å•ä½ï¼ˆa-dï¼‰ã€‚`vector<char> cycle = {'a','b','c','d'}`å®Œç¾åŒ¹é…åŒé‡è¦æ±‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ„é€ ç±»é—®é¢˜ä¸­ï¼Œçº¦æŸæ¡ä»¶å¾€å¾€æš—ç¤ºå¾ªç¯èŠ‚é•¿åº¦

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **å‘¨æœŸæ˜ å°„æ³•**ï¼šå°†ä½ç½®ç´¢å¼•è½¬åŒ–ä¸ºå¾ªç¯èŠ‚åç§»é‡ï¼ˆ`posâ†’char('a'+pos%cycle_len)`ï¼‰
- **è¾¹ç•Œåˆ†æ²»**ï¼šæ•´é™¤éƒ¨åˆ†å¾ªç¯è¾“å‡ºï¼Œä½™æ•°éƒ¨åˆ†ç‹¬ç«‹å¤„ç†ï¼ˆé¿å…æ¨¡è¿ç®—åˆ†æ”¯ï¼‰
- **ä½è¿ç®—ä¼˜åŒ–**ï¼šç”¨`&(2â¿-1)`æ›¿ä»£`%2â¿`æå‡è®¡ç®—æ•ˆç‡

---

### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**é€šç”¨æ ¸å¿ƒå®ç°**  
```cpp
#include <cstdio>
int main() {
    int n; scanf("%d", &n);
    for(int i=0; i<n; ++i) 
        putchar('a' + (i % 4)); // æ ¸å¿ƒå–æ¨¡æ˜ å°„
    return 0;
}
```
* **è¯´æ˜**ï¼šç»¼åˆä¼˜è´¨è§£æ³•çš„æ ¸å¿ƒæ€æƒ³ï¼Œæœ€ç®€å®ç°
* **è§£è¯»æ¦‚è¦**ï¼šå¾ªç¯ç”Ÿæˆä½ç½®ç´¢å¼•ï¼Œ`i%4`å°†ç´¢å¼•æ˜ å°„åˆ°a-dçš„å‘¨æœŸå¾ªç¯

---

**é¢˜è§£ä¸€æ ¸å¿ƒç‰‡æ®µ**  
```cpp
for(i=0; i<n; i++) 
    putchar(97 + i % 4);
```
* **äº®ç‚¹**ï¼šæè‡´ç®€æ´ï¼Œç›´æ¥ä½“ç°å‘¨æœŸæœ¬è´¨
* **è§£è¯»**ï¼š  
  > `97`æ˜¯'a'çš„ASCIIç ï¼Œ`i%4`ç”Ÿæˆ0-3çš„å¾ªç¯ç´¢å¼•  
  > å½“`i=4`æ—¶ï¼Œ`4%4=0`å†æ¬¡è¾“å‡º'a'ï¼Œä¸å‰ä¸€ä¸ª'a'é—´éš”æ°ä¸º4
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šASCIIç è®¡ç®—å¯å®ç°å­—ç¬¦é«˜æ•ˆç”Ÿæˆ

**é¢˜è§£äºŒæ ¸å¿ƒç‰‡æ®µ**  
```cpp
for(int i=1; i<=n; i++)
    putchar('a' + (i & 3));
```
* **äº®ç‚¹**ï¼šä½è¿ç®—ä¼˜åŒ–å‘¨æœŸè®¡ç®—
* **è§£è¯»**ï¼š  
  > `i & 3`ç­‰ä»·äº`i % 4`ï¼ˆå› 3=0b11ï¼‰  
  > ä½è¿ç®—æ¯”å–æ¨¡å¿«3-5ä¸ªCPUå‘¨æœŸï¼Œåœ¨ç«èµ›å¤§æ•°æ®é‡æ—¶ä¼˜åŠ¿æ˜¾è‘—
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`x & (2â¿-1)`æ˜¯è®¡ç®—`x%2â¿`çš„é«˜æ•ˆæ–¹å¼

**é¢˜è§£ä¸‰æ ¸å¿ƒç‰‡æ®µ**  
```cpp
for(int i=0; i<n/4; i++) cout<<"abcd";
n %= 4;
for(int i=0; i<n; i++) cout<<char('a'+i);
```
* **äº®ç‚¹**ï¼šæ˜¾å¼å‘¨æœŸåˆ†å—ï¼Œé€»è¾‘æ¸…æ™°
* **è§£è¯»**ï¼š  
  > ç¬¬ä¸€æ®µå¤„ç†å®Œæ•´å‘¨æœŸï¼ˆæ¯4å­—ç¬¦ä¸€ç»„ï¼‰  
  > `n%=4`åå¤„ç†æ®‹ä½™éƒ¨åˆ†æŒ‰åºå¡«å……å­—æ¯  
  > é¿å…å–æ¨¡è¿ç®—ï¼Œé€‚åˆåµŒå…¥å¼ç­‰æ— é™¤æ³•æŒ‡ä»¤åœºæ™¯
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆ†å—å¤„ç†å¯é™ä½å¾ªç¯å†…è®¡ç®—å¤æ‚åº¦

---

### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**ä¸»é¢˜**ï¼šå­—æ¯è£…é…æµæ°´çº¿ï¼ˆ8ä½å·¥å‚é£æ ¼ï¼‰  

**æ ¸å¿ƒè®¾è®¡**ï¼š  
```mermaid
graph LR
    A[ç°è‰²ç©ºæ§½] --> B{ç´¢å¼•iè®¡ç®—}
    B -->|i%4=0| C[çº¢aå—]
    B -->|i%4=1| D[è“bå—]
    B -->|i%4=2| E[ç»¿cå—]
    B -->|i%4=3| F[é»„då—]
    C --> G[æ£€æµ‹é—´éš”]
    G -->|è·ç¦»=4| H[é—ªå…‰+å®å£°]
```
1. **åƒç´ åŒ–å‘ˆç°**ï¼š  
   - ä¼ é€å¸¦åˆ†å‰²ä¸ºnä¸ªç°è‰²æ§½ä½ï¼ˆFCé£æ ¼åƒç´ å—ï¼‰
   - å­—æ¯å—é¢œè‰²ï¼ša(çº¢), b(è“), c(ç»¿), d(é»„)

2. **åŠ¨æ€è£…é…è¿‡ç¨‹**ï¼š  
   - ç´¢å¼•è®¡æ•°å™¨`i`ï¼ˆ0èµ·å§‹ï¼‰æ˜¾ç¤ºåœ¨å·¦ä¸Šè§’
   - å½“å‰è®¡ç®—å¼`i%4=X`å®æ—¶æ˜¾ç¤º
   - å¯¹åº”å­—æ¯å—ä»é¡¶éƒ¨é™è½è‡³æ§½ä½ï¼ˆå¸¦åƒç´ æŠ–åŠ¨æ•ˆæœï¼‰

3. **é—´éš”éªŒè¯ç‰¹æ•ˆ**ï¼š  
   - å½“æ”¾ç½®é‡å¤å­—æ¯ï¼ˆå¦‚ç¬¬5ä¸ªaï¼‰æ—¶ï¼š
     * è‡ªåŠ¨è¿æ¥å‰ä¸€ä¸ªaä½ç½®ï¼ˆçº¢çº¿é“¾æ¥ï¼‰
     * æ˜¾ç¤ºè·ç¦»è®¡ç®—`5-1=4`
     * è§¦å‘ç»¿è‰²é—ªå…‰+å‡è°ƒ"å®"éŸ³æ•ˆï¼ˆWeb Audio APIï¼‰

4. **æ§åˆ¶é¢æ¿**ï¼š  
   - é€Ÿåº¦æ»‘å—ï¼šè°ƒèŠ‚è£…é…é€Ÿåº¦ï¼ˆ10-100ms/æ­¥ï¼‰
   - å•æ­¥æ‰§è¡Œï¼šç©ºæ ¼é”®é€æ­¥éªŒè¯
   - AIæ¨¡å¼ï¼šè‡ªåŠ¨å®Œæˆè£…é…ï¼ˆç±»ä¼¼ä¿„ç½—æ–¯æ–¹å—AIï¼‰

5. **æ¸¸æˆåŒ–å…ƒç´ **ï¼š  
   - æ¯å®Œæˆ4ä¸ªæ§½ä½è·å¾—â˜…å¥–åŠ±
   - èƒŒæ™¯ä¹ï¼š8ä½èŠ¯ç‰‡éŸ³ä¹å¾ªç¯
   - å®Œæˆæ—¶å­—æ¯å—é›†ä½“è·³åŠ¨åº†ç¥

---

### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
**æŠ€å·§è¿ç§»åœºæ™¯**ï¼š  
1. å‘¨æœŸçº¦æŸçš„å­—ç¬¦ä¸²æ„é€ ï¼ˆå¦‚LOLè‹±é›„æŠ€èƒ½å†·å´åºåˆ—ï¼‰
2. å­—å…¸åºæœ€å°åŒ–é—®é¢˜ï¼ˆéœ€ç»“åˆè´ªå¿ƒç­–ç•¥ï¼‰
3. ç¦»æ•£ä½ç½®çº¦æŸéªŒè¯ï¼ˆè½¬åŒ–ä¸ºç­‰å·®æ•°åˆ—æ£€æµ‹ï¼‰

**æ´›è°·æ¨è**ï¼š  
1. **P1321** å•è¯è¦†ç›–  
   ğŸ—£ï¸ å·©å›ºå‘¨æœŸè¦†ç›–æŠ€å·§ï¼Œéœ€å¤„ç†ä¸è§„åˆ™é—´éš”  
2. **P1098** å­—ç¬¦ä¸²å±•å¼€  
   ğŸ—£ï¸ ç»ƒä¹ åˆ†æ®µå¤„ç†ä¸å­—ç¬¦æ˜ å°„ï¼Œæ¶‰åŠå¤æ‚è¾¹ç•Œ  
3. **P1706** å…¨æ’åˆ—é—®é¢˜  
   ğŸ—£ï¸ ç†è§£å­—å…¸åºæœ¬è´¨ï¼Œä¸ºé«˜çº§æ„é€ æ‰“åŸºç¡€  

---

### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **ç»éªŒæ‘˜å½•ï¼ˆAndysun06ï¼‰**ï¼š  
> "Pascalå®ç°æ¯”C++æ…¢1-2ç§’ï¼Œä½†å†…å­˜æ›´å°‘â€”â€”é€‰æ‹©è¯­è¨€éœ€æƒè¡¡æ—¶ç©ºæ•ˆç‡"  
>   
> **Kayç‚¹è¯„**ï¼š  
> è¿™æé†’æˆ‘ä»¬ï¼šç®—æ³•æ•ˆç‡ä¸ä»…ä¾èµ–å¤æ‚åº¦ï¼Œæ›´å—å®ç°è¯­è¨€ç‰¹æ€§å½±å“ã€‚åœ¨æ—¶é—´æ•æ„Ÿåœºæ™¯ä¼˜å…ˆé€‰C++ï¼Œå†…å­˜å—é™ç¯å¢ƒå¯è€ƒè™‘Pascal/Rustã€‚

---

**ç»“è¯­**  
é€šè¿‡æœ¬æ¬¡åˆ†æï¼Œç›¸ä¿¡å¤§å®¶å·²æŒæ¡å‘¨æœŸæ„é€ çš„æ ¸å¿ƒæ€æƒ³ã€‚è®°ä½ï¼šä¼˜ç§€è§£æ³•å¾€å¾€è¯ç”Ÿäºå¯¹çº¦æŸæ¡ä»¶çš„æ·±åº¦è½¬åŒ–ã€‚ä¸‹æ¬¡é‡åˆ°æ„é€ é¢˜æ—¶ï¼Œä¸å¦¨å…ˆé—®è‡ªå·±ï¼šå“ªäº›æ•°å­—å…³ç³»å¯è½¬åŒ–ä¸ºå¾ªç¯èŠ‚ï¼Ÿ

---
å¤„ç†ç”¨æ—¶ï¼š153.20ç§’
# é¢˜ç›®ä¿¡æ¯

# The Labyrinth

## é¢˜ç›®æè¿°

You are given a rectangular field of $ nÃ—m $ cells. Each cell is either empty or impassable (contains an obstacle). Empty cells are marked with '.', impassable cells are marked with '\*'. Let's call two empty cells adjacent if they share a side.

Let's call a connected component any non-extendible set of cells such that any two of them are connected by the path of adjacent cells. It is a typical well-known definition of a connected component.

For each impassable cell $ (x,y) $ imagine that it is an empty cell (all other cells remain unchanged) and find the size (the number of cells) of the connected component which contains $ (x,y) $ . You should do it for each impassable cell independently.

The answer should be printed as a matrix with $ n $ rows and $ m $ columns. The $ j $ -th symbol of the $ i $ -th row should be "." if the cell is empty at the start. Otherwise the $ j $ -th symbol of the $ i $ -th row should contain the only digit â€”- the answer modulo $ 10 $ . The matrix should be printed without any spaces.

To make your output faster it is recommended to build the output as an array of $ n $ strings having length $ m $ and print it as a sequence of lines. It will be much faster than writing character-by-character.

As input/output can reach huge size it is recommended to use fast input/output methods: for example, prefer to use scanf/printf instead of cin/cout in C++, prefer to use BufferedReader/PrintWriter instead of Scanner/System.out in Java.

## è¯´æ˜/æç¤º

In first example, if we imagine that the central cell is empty then it will be included to component of size $ 5 $ (cross). If any of the corner cell will be empty then it will be included to component of size $ 3 $ (corner).

## æ ·ä¾‹ #1

### è¾“å…¥

```
3 3
*.*
.*.
*.*
```

### è¾“å‡º

```
3.3
.5.
3.3
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
4 5
**..*
..***
.*.*.
*.*.*
```

### è¾“å‡º

```
46..3
..732
.6.4.
5.4.3
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šThe Labyrinth æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå›¾è®º-è¿é€šå—é¢„å¤„ç†ï¼ˆDFS/BFSï¼‰+ æ¨¡æ‹Ÿä¼˜åŒ–


### ğŸ—£ï¸ åˆæ­¥åˆ†æ  
è§£å†³ã€ŒThe Labyrinthã€çš„å…³é”®ï¼Œåœ¨äº**é¿å…é‡å¤è®¡ç®—**ã€‚æƒ³è±¡ä¸€ä¸‹ï¼šå¦‚æœæ¯ä¸ªéšœç¢éƒ½è¦é‡æ–°éå†æ•´ä¸ªåœ°å›¾è®¡ç®—è¿é€šå—ï¼Œå°±åƒæ¯æ¬¡æƒ³çŸ¥é“â€œå¦‚æœæˆ‘æ¬åˆ°è¿™ä¸ªç©ºåœ°ï¼Œå‘¨å›´æœ‰å¤šå°‘é‚»å±…â€éƒ½è¦æŒ¨å®¶æŒ¨æˆ·é—®ä¸€éï¼Œæ•ˆç‡æä½ã€‚  
æˆ‘ä»¬å¯ä»¥æ¢ä¸ªæ€è·¯ï¼š**å…ˆç»™æ‰€æœ‰ç©ºåœ°â€œç¤¾åŒºâ€ç¼–å·**â€”â€”ç”¨DFSæˆ–BFSéå†æ‰€æœ‰ç©ºåœ°ï¼Œç»™æ¯ä¸ªè¿é€šçš„ç©ºåœ°ç¾¤ï¼ˆç¤¾åŒºï¼‰åˆ†é…ä¸€ä¸ªå”¯ä¸€IDï¼Œè®°å½•æ¯ä¸ªç¤¾åŒºçš„å¤§å°ï¼ˆæˆ¿å­æ•°é‡ï¼‰ã€‚å½“éšœç¢å˜æˆç©ºåœ°æ—¶ï¼Œåªéœ€è¦çœ‹å®ƒçš„å››ä¸ªé‚»å±…å±äºå“ªäº›ä¸åŒçš„ç¤¾åŒºï¼ŒæŠŠè¿™äº›ç¤¾åŒºçš„å¤§å°åŠ èµ·æ¥ï¼Œå†åŠ ä¸Šè‡ªå·±ï¼ˆ1ï¼‰ï¼Œå°±æ˜¯æ–°ç¤¾åŒºçš„å¤§å°å•¦ï¼  

**æ ¸å¿ƒç®—æ³•æµç¨‹**ï¼š  
1. **é¢„å¤„ç†**ï¼šéå†åœ°å›¾ï¼Œç”¨DFS/BFSæ ‡è®°æ¯ä¸ªç©ºåœ°çš„ç¤¾åŒºIDï¼Œè®°å½•æ¯ä¸ªç¤¾åŒºçš„å¤§å°ã€‚  
2. **å¤„ç†éšœç¢**ï¼šå¯¹äºæ¯ä¸ªéšœç¢ï¼Œæ£€æŸ¥å››ä¸ªæ–¹å‘çš„é‚»å±…ï¼Œæ”¶é›†ä¸åŒçš„ç¤¾åŒºIDï¼ˆé¿å…é‡å¤åŠ åŒä¸€ä¸ªç¤¾åŒºï¼‰ï¼Œç´¯åŠ å®ƒä»¬çš„å¤§å°+1ï¼Œæ¨¡10è¾“å‡ºã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºåœ°å›¾ï¼ˆæ¯”å¦‚FCæ¸¸æˆçš„â€œè¿·å®«â€ç”»é¢ï¼‰ï¼Œç©ºåœ°ç”¨ä¸åŒé¢œè‰²çš„åƒç´ å—è¡¨ç¤ºä¸åŒç¤¾åŒºï¼ˆæ¯”å¦‚çº¢è‰²ç¤¾åŒºã€è“è‰²ç¤¾åŒºï¼‰ï¼Œéšœç¢ç”¨é»‘è‰²å—è¡¨ç¤ºã€‚å½“ç‚¹å‡»éšœç¢æ—¶ï¼Œå®ƒä¼šå˜æˆç™½è‰²ï¼ˆç©ºåœ°ï¼‰ï¼Œå‘¨å›´ç¤¾åŒºçš„é¢œè‰²ä¼šâ€œæ‰©æ•£â€è¿‡æ¥ï¼Œåˆå¹¶æˆä¸€ä¸ªæ–°çš„é¢œè‰²ï¼ŒåŒæ—¶å±å¹•ä¸Šæ–¹æ˜¾ç¤ºæ–°ç¤¾åŒºçš„å¤§å°ï¼ˆæ¨¡10åçš„æ•°å­—ï¼‰ã€‚åŠ å…¥â€œå•æ­¥æ‰§è¡Œâ€ï¼ˆé€æ­¥çœ‹ç¤¾åŒºåˆå¹¶ï¼‰ã€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆå¿«é€Ÿæ¼”ç¤ºï¼‰ï¼Œä»¥åŠéŸ³æ•ˆï¼ˆæ¯”å¦‚ç‚¹å‡»éšœç¢çš„â€œå®â€å£°ã€åˆå¹¶ç¤¾åŒºçš„â€œå“—å•¦â€å£°ï¼‰ï¼Œè®©ç®—æ³•è¿‡ç¨‹æ›´ç›´è§‚ï¼


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ


### é¢˜è§£ä¸€ï¼šï¼ˆæ¥æºï¼šyaoliboï¼Œèµ5ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸æ¸…æ™°ï¼Œå®Œç¾ä½“ç°äº†â€œé¢„å¤„ç†+æ¨¡æ‹Ÿâ€çš„æ ¸å¿ƒé€»è¾‘ã€‚ä½œè€…ç”¨DFSéå†æ‰€æœ‰ç©ºåœ°ï¼Œç»™æ¯ä¸ªç¤¾åŒºåˆ†é…IDï¼ˆ`vis`æ•°ç»„ï¼‰ï¼Œå¹¶è®°å½•æ¯ä¸ªç¤¾åŒºçš„å¤§å°ï¼ˆ`ans`æ•°ç»„ï¼‰ã€‚å¤„ç†éšœç¢æ—¶ï¼Œç”¨ä¸€ä¸ªæ•°ç»„`f`è®°å½•å·²ç»åŠ è¿‡çš„ç¤¾åŒºIDï¼Œé¿å…é‡å¤è®¡ç®—â€”â€”è¿™ç§æ–¹æ³•æ¯”ç”¨`set`æ›´èŠ‚çœç©ºé—´ï¼Œé€‚åˆå¤§åœ°å›¾ã€‚ä»£ç é£æ ¼è§„èŒƒï¼ˆå˜é‡å`res`è¡¨ç¤ºå½“å‰ç¤¾åŒºå¤§å°ã€`cnt`è¡¨ç¤ºç¤¾åŒºç¼–å·ï¼Œå«ä¹‰æ˜ç¡®ï¼‰ï¼Œè¾¹ç•Œæ¡ä»¶å¤„ç†ä¸¥è°¨ï¼ˆæ¯”å¦‚åˆ¤æ–­é‚»å±…æ˜¯å¦è¶Šç•Œã€æ˜¯å¦æ˜¯ç©ºåœ°ï¼‰ï¼Œæ˜¯éå¸¸ç»å…¸çš„å®ç°ã€‚


### é¢˜è§£äºŒï¼šï¼ˆæ¥æºï¼šå¼€å§‹æ–°çš„è®°å¿†ï¼Œèµ2ï¼‰  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£çš„äº®ç‚¹åœ¨äº**ç”¨`set`å»é‡**ï¼Œä»£ç æ›´ç®€æ´ã€‚ä½œè€…ç”¨DFSé¢„å¤„ç†ç¤¾åŒºIDå’Œå¤§å°åï¼Œå¤„ç†éšœç¢æ—¶ï¼Œå°†å››ä¸ªé‚»å±…çš„ç¤¾åŒºIDæ’å…¥`set`ï¼ˆè‡ªåŠ¨å»é‡ï¼‰ï¼Œç„¶åç´¯åŠ `set`ä¸­æ‰€æœ‰ç¤¾åŒºçš„å¤§å°+1ã€‚`set`çš„ä½¿ç”¨è®©å»é‡é€»è¾‘æ›´ç›´è§‚ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚æ­¤å¤–ï¼Œä½œè€…ç”¨`a`æ•°ç»„å­˜å‚¨åœ°å›¾ï¼ˆ0è¡¨ç¤ºç©ºåœ°ï¼Œ1è¡¨ç¤ºéšœç¢ï¼‰ï¼Œ`num`æ•°ç»„å­˜å‚¨ç¤¾åŒºIDï¼Œå˜é‡å‘½åæ¸…æ™°ï¼Œå®¹æ˜“è·Ÿéšã€‚


### é¢˜è§£ä¸‰ï¼šï¼ˆæ¥æºï¼šwind_whisperï¼Œèµ1ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£ç”¨BFSä»£æ›¿DFSé¢„å¤„ç†ç¤¾åŒºï¼Œé€‚åˆå¤„ç†å¤§åœ°å›¾ï¼ˆé¿å…é€’å½’æ·±åº¦è¿‡å¤§å¯¼è‡´æ ˆæº¢å‡ºï¼‰ã€‚ä½œè€…ç”¨`bel`æ•°ç»„è®°å½•ç¤¾åŒºIDï¼Œ`siz`æ•°ç»„è®°å½•ç¤¾åŒºå¤§å°ï¼Œå¤„ç†éšœç¢æ—¶åŒæ ·ç”¨`set`å»é‡ã€‚BFSçš„å®ç°æ–¹å¼æ›´ç¨³å®šï¼Œå°¤å…¶æ˜¯å½“åœ°å›¾å¾ˆå¤§æ—¶ï¼ˆæ¯”å¦‚1000Ã—1000ï¼‰ï¼Œä¸ä¼šå‡ºç°æ ˆæº¢å‡ºçš„é—®é¢˜ã€‚ä»£ç ä¸­çš„`dx`/`dy`æ•°ç»„ï¼ˆå››ä¸ªæ–¹å‘ï¼‰å®šä¹‰æ¸…æ™°ï¼Œè¾¹ç•Œåˆ¤æ–­ï¼ˆ`exi`å‡½æ•°ï¼‰ç®€æ´ï¼Œå€¼å¾—å­¦ä¹ ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥


### ğŸ§© æ ¸å¿ƒéš¾ç‚¹1ï¼šå¦‚ä½•é«˜æ•ˆé¢„å¤„ç†è¿é€šå—ï¼Ÿ  
**åˆ†æ**ï¼šå¦‚æœç›´æ¥æš´åŠ›æ¯ä¸ªéšœç¢éƒ½DFS/BFSï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(nmÃ—nm)ï¼ˆæœ€åæƒ…å†µæ¯ä¸ªéšœç¢éƒ½è¦éå†æ•´ä¸ªåœ°å›¾ï¼‰ï¼Œå¯¹äºn,mâ‰¤1000çš„åœ°å›¾æ¥è¯´ï¼Œè‚¯å®šè¶…æ—¶ã€‚é¢„å¤„ç†çš„å…³é”®æ˜¯**ä¸€æ¬¡æ€§éå†æ‰€æœ‰ç©ºåœ°**ï¼Œç»™æ¯ä¸ªè¿é€šå—æ ‡è®°IDï¼Œè¿™æ ·åç»­å¤„ç†éšœç¢æ—¶åªéœ€è¦æŸ¥è¯¢é‚»å±…çš„IDå³å¯ï¼Œæ—¶é—´å¤æ‚åº¦é™åˆ°O(nm)ï¼ˆé¢„å¤„ç†ï¼‰+ O(nmÃ—4)ï¼ˆå¤„ç†éšœç¢ï¼‰ï¼Œå®Œå…¨å¯è¡Œã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé¢„å¤„ç†æ˜¯è§£å†³é‡å¤è®¡ç®—é—®é¢˜çš„â€œç¥å™¨â€ï¼Œä¸€å®šè¦å­¦ä¼šâ€œæå‰å‡†å¤‡â€ï¼


### ğŸ§© æ ¸å¿ƒéš¾ç‚¹2ï¼šå¦‚ä½•é¿å…é‡å¤è®¡ç®—åŒä¸€ä¸ªç¤¾åŒºï¼Ÿ  
**åˆ†æ**ï¼šéšœç¢çš„å››ä¸ªé‚»å±…å¯èƒ½å±äºåŒä¸€ä¸ªç¤¾åŒºï¼ˆæ¯”å¦‚éšœç¢åœ¨ä¸¤ä¸ªç›¸é‚»çš„ç©ºåœ°ä¸­é—´ï¼Œè¿™ä¸¤ä¸ªç©ºåœ°å±äºåŒä¸€ä¸ªç¤¾åŒºï¼‰ï¼Œå¦‚æœç›´æ¥ç´¯åŠ å››ä¸ªé‚»å±…çš„ç¤¾åŒºå¤§å°ï¼Œä¼šé‡å¤è®¡ç®—ã€‚è§£å†³æ–¹æ³•æ˜¯**å»é‡**â€”â€”å¯ä»¥ç”¨æ•°ç»„è®°å½•å·²ç»åŠ è¿‡çš„ç¤¾åŒºIDï¼ˆæ¯”å¦‚yaoliboçš„`f`æ•°ç»„ï¼‰ï¼Œæˆ–è€…ç”¨`set`è‡ªåŠ¨å»é‡ï¼ˆæ¯”å¦‚å¼€å§‹æ–°çš„è®°å¿†çš„`set`ï¼‰ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå»é‡çš„æœ¬è´¨æ˜¯â€œè®°å½•å·²å¤„ç†çš„å†…å®¹â€ï¼Œ`set`æ˜¯ç®€åŒ–å»é‡é€»è¾‘çš„å¥½å·¥å…·ï¼


### ğŸ§© æ ¸å¿ƒéš¾ç‚¹3ï¼šå¦‚ä½•å¤„ç†è¾¹ç•Œæ¡ä»¶ï¼Ÿ  
**åˆ†æ**ï¼šéšœç¢çš„é‚»å±…å¯èƒ½åœ¨åœ°å›¾å¤–ï¼ˆæ¯”å¦‚éšœç¢åœ¨å·¦ä¸Šè§’ï¼Œå®ƒçš„ä¸Šæ–¹å’Œå·¦æ–¹æ²¡æœ‰ç»†èƒï¼‰ï¼Œè¿™æ—¶å€™éœ€è¦è·³è¿‡è¿™äº›é‚»å±…ã€‚è§£å†³æ–¹æ³•æ˜¯**åˆ¤æ–­é‚»å±…çš„åæ ‡æ˜¯å¦åœ¨åœ°å›¾èŒƒå›´å†…**ï¼ˆæ¯”å¦‚`nx > 0 && nx <= n && ny > 0 && ny <= m`ï¼‰ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹ç•Œæ¡ä»¶æ˜¯ç¼–ç¨‹ä¸­æœ€å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼Œä¸€å®šè¦å…»æˆâ€œå…ˆåˆ¤æ–­è¾¹ç•Œâ€çš„ä¹ æƒ¯ï¼


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
1. **é¢„å¤„ç†æ€æƒ³**ï¼šæå‰è®¡ç®—æ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„ä¿¡æ¯ï¼ˆæ¯”å¦‚ç¤¾åŒºIDå’Œå¤§å°ï¼‰ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚  
2. **å»é‡æ–¹æ³•**ï¼šç”¨æ•°ç»„æˆ–`set`è®°å½•å·²å¤„ç†çš„å†…å®¹ï¼Œé¿å…é‡å¤ç´¯åŠ ã€‚  
3. **è¾¹ç•Œåˆ¤æ–­**ï¼šå¤„ç†é‚»å±…æ—¶ï¼Œå…ˆåˆ¤æ–­åæ ‡æ˜¯å¦åœ¨åœ°å›¾èŒƒå›´å†…ã€‚  
4. **DFS/BFSé€‰æ‹©**ï¼šDFSä»£ç æ›´ç®€æ´ï¼ŒBFSæ›´ç¨³å®šï¼ˆé€‚åˆå¤§åœ°å›¾ï¼‰ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ


### ğŸ“Œ æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆäº†yaoliboå’Œå¼€å§‹æ–°çš„è®°å¿†çš„æ€è·¯ï¼Œç”¨DFSé¢„å¤„ç†ç¤¾åŒºï¼Œç”¨`set`å»é‡å¤„ç†éšœç¢ï¼Œä»£ç æ¸…æ™°æ˜“æ‡‚ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <set>
  using namespace std;

  const int MAXN = 1010;
  const int dx[] = {-1, 0, 1, 0}; // ä¸Šã€å³ã€ä¸‹ã€å·¦å››ä¸ªæ–¹å‘
  const int dy[] = {0, 1, 0, -1};

  int n, m;
  char maze[MAXN][MAXN]; // å­˜å‚¨åœ°å›¾
  int vis[MAXN][MAXN];   // è®°å½•æ¯ä¸ªç©ºåœ°çš„ç¤¾åŒºIDï¼ˆ0è¡¨ç¤ºæœªè®¿é—®ï¼‰
  int ans[MAXN * MAXN];  // è®°å½•æ¯ä¸ªç¤¾åŒºçš„å¤§å°ï¼ˆans[id]è¡¨ç¤ºIDä¸ºidçš„ç¤¾åŒºå¤§å°ï¼‰
  int cnt = 1;           // ç¤¾åŒºIDè®¡æ•°å™¨ï¼ˆä»1å¼€å§‹ï¼‰

  // DFSéå†è¿é€šå—ï¼Œæ ‡è®°ç¤¾åŒºIDå¹¶è®¡ç®—å¤§å°
  void dfs(int x, int y) {
      vis[x][y] = cnt; // æ ‡è®°å½“å‰ç»†èƒå±äºç¬¬cntä¸ªç¤¾åŒº
      ans[cnt]++;      // ç¤¾åŒºå¤§å°åŠ 1
      for (int i = 0; i < 4; i++) {
          int nx = x + dx[i];
          int ny = y + dy[i];
          // åˆ¤æ–­æ˜¯å¦è¶Šç•Œã€æ˜¯å¦æ˜¯ç©ºåœ°ã€æ˜¯å¦æœªè®¿é—®
          if (nx >= 1 && nx <= n && ny >= 1 && ny <= m && maze[nx][ny] == '.' && vis[nx][ny] == 0) {
              dfs(nx, ny);
          }
      }
  }

  int main() {
      ios::sync_with_stdio(false);
      cin.tie(0);

      // è¾“å…¥åœ°å›¾
      cin >> n >> m;
      for (int i = 1; i <= n; i++) {
          for (int j = 1; j <= m; j++) {
              cin >> maze[i][j];
          }
      }

      // é¢„å¤„ç†æ‰€æœ‰ç©ºåœ°çš„ç¤¾åŒºIDå’Œå¤§å°
      for (int i = 1; i <= n; i++) {
          for (int j = 1; j <= m; j++) {
              if (maze[i][j] == '.' && vis[i][j] == 0) {
                  ans[cnt] = 0; // åˆå§‹åŒ–å½“å‰ç¤¾åŒºå¤§å°ä¸º0
                  dfs(i, j);    // éå†å½“å‰ç¤¾åŒº
                  cnt++;        // ç¤¾åŒºIDé€’å¢
              }
          }
      }

      // å¤„ç†æ¯ä¸ªç»†èƒï¼Œè¾“å‡ºç»“æœ
      for (int i = 1; i <= n; i++) {
          for (int j = 1; j <= m; j++) {
              if (maze[i][j] == '.') {
                  cout << '.'; // ç©ºåœ°ç›´æ¥è¾“å‡º
              } else {
                  set<int> s; // ç”¨setå»é‡ï¼Œå­˜å‚¨å‘¨å›´ç¤¾åŒºçš„ID
                  for (int k = 0; k < 4; k++) {
                      int nx = i + dx[k];
                      int ny = j + dy[k];
                      // åˆ¤æ–­é‚»å±…æ˜¯å¦è¶Šç•Œã€æ˜¯å¦æ˜¯ç©ºåœ°
                      if (nx >= 1 && nx <= n && ny >= 1 && ny <= m && maze[nx][ny] == '.') {
                          s.insert(vis[nx][ny]); // æ’å…¥ç¤¾åŒºIDï¼ˆè‡ªåŠ¨å»é‡ï¼‰
                      }
                  }
                  int res = 1; // åŠ ä¸Šè‡ªå·±ï¼ˆ1ï¼‰
                  for (int id : s) {
                      res += ans[id]; // ç´¯åŠ ä¸åŒç¤¾åŒºçš„å¤§å°
                  }
                  cout << res % 10; // æ¨¡10è¾“å‡º
              }
          }
          cout << '\n';
      }

      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šè¯»å–åœ°å›¾çš„å¤§å°å’Œå†…å®¹ã€‚  
  2. **é¢„å¤„ç†ç¤¾åŒº**ï¼šç”¨DFSéå†æ‰€æœ‰ç©ºåœ°ï¼Œç»™æ¯ä¸ªç¤¾åŒºåˆ†é…IDï¼ˆ`vis`æ•°ç»„ï¼‰ï¼Œè®°å½•æ¯ä¸ªç¤¾åŒºçš„å¤§å°ï¼ˆ`ans`æ•°ç»„ï¼‰ã€‚  
  3. **å¤„ç†éšœç¢**ï¼šå¯¹äºæ¯ä¸ªéšœç¢ï¼Œæ£€æŸ¥å››ä¸ªæ–¹å‘çš„é‚»å±…ï¼Œç”¨`set`æ”¶é›†ä¸åŒçš„ç¤¾åŒºIDï¼Œç´¯åŠ å®ƒä»¬çš„å¤§å°+1ï¼Œæ¨¡10è¾“å‡ºã€‚  


### ğŸ“Œ ä¼˜è´¨é¢˜è§£ç‰‡æ®µèµæ  

#### é¢˜è§£ä¸€ï¼ˆyaoliboï¼‰ï¼šæ•°ç»„å»é‡  
* **äº®ç‚¹**ï¼šç”¨æ•°ç»„`f`è®°å½•å·²åŠ è¿‡çš„ç¤¾åŒºIDï¼ŒèŠ‚çœç©ºé—´ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  int f[4] = {0}; // è®°å½•å·²åŠ è¿‡çš„ç¤¾åŒºID
  int sum = 0;
  if (s[i][j] == '*') {
      for (int k = 0; k < 4; k++) {
          int x = i + lx[k];
          int y = j + ly[k];
          if (s[x][y] == '*') continue; // é‚»å±…æ˜¯éšœç¢ï¼Œè·³è¿‡
          // åˆ¤æ–­å½“å‰ç¤¾åŒºIDæ˜¯å¦å·²ç»åŠ è¿‡
          if (vis[x][y] == f[0] || vis[x][y] == f[1] || vis[x][y] == f[2] || vis[x][y] == f[3]) continue;
          f[k] = vis[x][y]; // è®°å½•å½“å‰ç¤¾åŒºID
          sum += ans[vis[x][y]]; // ç´¯åŠ ç¤¾åŒºå¤§å°
      }
      cout << (sum + 1) % 10;
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  ç”¨`f`æ•°ç»„å­˜å‚¨å·²ç»åŠ è¿‡çš„ç¤¾åŒºIDï¼Œæ¯æ¬¡å¤„ç†é‚»å±…æ—¶ï¼Œå…ˆåˆ¤æ–­è¯¥ç¤¾åŒºIDæ˜¯å¦åœ¨`f`æ•°ç»„ä¸­ï¼Œå¦‚æœä¸åœ¨ï¼Œå°±åŠ å…¥`f`æ•°ç»„å¹¶ç´¯åŠ å¤§å°ã€‚è¿™ç§æ–¹æ³•ä¸éœ€è¦é¢å¤–çš„æ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚`set`ï¼‰ï¼ŒèŠ‚çœå†…å­˜ï¼Œé€‚åˆå¤§åœ°å›¾ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ•°ç»„å»é‡æ˜¯ä¸€ç§â€œç©ºé—´æ¢æ—¶é—´â€çš„æ–¹æ³•ï¼Œé€‚åˆå·²çŸ¥å…ƒç´ æ•°é‡å°‘çš„æƒ…å†µï¼ˆæ¯”å¦‚å››ä¸ªæ–¹å‘ï¼‰ã€‚


#### é¢˜è§£äºŒï¼ˆå¼€å§‹æ–°çš„è®°å¿†ï¼‰ï¼šsetå»é‡  
* **äº®ç‚¹**ï¼šç”¨`set`è‡ªåŠ¨å»é‡ï¼Œä»£ç æ›´ç®€æ´ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  set<int> s; // å­˜å‚¨å‘¨å›´ç¤¾åŒºçš„IDï¼ˆè‡ªåŠ¨å»é‡ï¼‰
  for (int k = 0; k < 4; k++) {
      int tx = i + dx[k];
      int ty = j + dy[k];
      if (!judge(tx, ty) && a[tx][ty] == 0) { // åˆ¤æ–­é‚»å±…æ˜¯å¦è¶Šç•Œã€æ˜¯å¦æ˜¯ç©ºåœ°
          s.insert(num[tx][ty]); // æ’å…¥ç¤¾åŒºID
      }
  }
  int anss = 1;
  for (set<int>::iterator it = s.begin(); it != s.end(); it++) {
      anss += ans[*it]; // ç´¯åŠ ç¤¾åŒºå¤§å°
  }
  cout << anss % 10;
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  `set`æ˜¯C++ä¸­çš„æœ‰åºé›†åˆï¼Œæ’å…¥å…ƒç´ æ—¶ä¼šè‡ªåŠ¨å»é‡ã€‚å¤„ç†é‚»å±…æ—¶ï¼Œå°†ç¤¾åŒºIDæ’å…¥`set`ï¼Œç„¶åéå†`set`ç´¯åŠ å¤§å°ã€‚è¿™ç§æ–¹æ³•ä»£ç æ›´ç®€æ´ï¼Œå®¹æ˜“ç†è§£ï¼Œé€‚åˆåˆå­¦è€…ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`set`æ˜¯å¤„ç†å»é‡é—®é¢˜çš„â€œåˆ©å™¨â€ï¼Œå°¤å…¶æ˜¯å½“å…ƒç´ æ•°é‡ä¸ç¡®å®šæ—¶ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)


### ğŸ® åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Šåƒç´ è¿·å®«æ¢é™©ã€‹  
ç”¨8ä½åƒç´ é£æ ¼ï¼ˆç±»ä¼¼FCæ¸¸æˆã€Šåƒè±†äººã€‹ï¼‰å±•ç¤ºåœ°å›¾ï¼Œç©ºåœ°ç”¨ä¸åŒé¢œè‰²çš„åƒç´ å—è¡¨ç¤ºä¸åŒç¤¾åŒºï¼ˆæ¯”å¦‚çº¢è‰²ã€è“è‰²ã€ç»¿è‰²ï¼‰ï¼Œéšœç¢ç”¨é»‘è‰²å—è¡¨ç¤ºã€‚å½“ç‚¹å‡»éšœç¢æ—¶ï¼Œå®ƒä¼šå˜æˆç™½è‰²ï¼ˆç©ºåœ°ï¼‰ï¼Œå‘¨å›´ç¤¾åŒºçš„é¢œè‰²ä¼šâ€œæ‰©æ•£â€è¿‡æ¥ï¼Œåˆå¹¶æˆä¸€ä¸ªæ–°çš„é¢œè‰²ï¼ŒåŒæ—¶å±å¹•ä¸Šæ–¹æ˜¾ç¤ºæ–°ç¤¾åŒºçš„å¤§å°ï¼ˆæ¨¡10åçš„æ•°å­—ï¼‰ã€‚


### ğŸ¨ è®¾è®¡æ€è·¯ç®€è¿°  
- **åƒç´ é£æ ¼**ï¼šç”¨å°æ–¹å—ï¼ˆ10Ã—10åƒç´ ï¼‰è¡¨ç¤ºæ¯ä¸ªç»†èƒï¼Œé¢œè‰²é²œè‰³ï¼ˆæ¯”å¦‚çº¢è‰²#FF0000ã€è“è‰²#0000FFã€ç»¿è‰²#00FF00ï¼‰ï¼Œç¬¦åˆé’å°‘å¹´çš„å®¡ç¾ã€‚  
- **æ¸¸æˆåŒ–å…ƒç´ **ï¼šåŠ å…¥â€œæ¢é™©è€…â€ï¼ˆä¸€ä¸ªå°åƒç´ äººï¼‰ï¼Œç‚¹å‡»éšœç¢æ—¶ï¼Œæ¢é™©è€…ä¼šèµ°åˆ°éšœç¢ä½ç½®ï¼Œè§¦å‘â€œç¤¾åŒºåˆå¹¶â€åŠ¨ç”»ï¼›å®Œæˆåˆå¹¶æ—¶ï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆæ¯”å¦‚FCæ¸¸æˆçš„â€œå®~å®~â€ï¼‰ï¼Œå¢åŠ è¶£å‘³æ€§ã€‚  
- **äº¤äº’æ§åˆ¶**ï¼šæä¾›â€œå•æ­¥æ‰§è¡Œâ€ï¼ˆé€æ­¥çœ‹ç¤¾åŒºåˆå¹¶ï¼‰ã€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆå¿«é€Ÿæ¼”ç¤ºï¼‰ã€â€œé‡ç½®â€ï¼ˆæ¢å¤åˆå§‹çŠ¶æ€ï¼‰æŒ‰é’®ï¼Œä»¥åŠé€Ÿåº¦æ»‘å—ï¼ˆè°ƒæ•´åŠ¨ç”»é€Ÿåº¦ï¼‰ã€‚


### ğŸ“½ï¸ åŠ¨ç”»å¸§æ­¥éª¤  
1. **åˆå§‹åŒ–åœºæ™¯**ï¼šå±å¹•æ˜¾ç¤º10Ã—10çš„åƒç´ åœ°å›¾ï¼ˆæ¯”å¦‚æ ·ä¾‹1çš„3Ã—3åœ°å›¾ï¼‰ï¼Œç©ºåœ°ç”¨çº¢è‰²ã€è“è‰²ã€ç»¿è‰²è¡¨ç¤ºä¸åŒç¤¾åŒºï¼Œéšœç¢ç”¨é»‘è‰²è¡¨ç¤ºã€‚å±å¹•ä¸‹æ–¹æœ‰â€œå¼€å§‹â€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®å’Œé€Ÿåº¦æ»‘å—ã€‚  
2. **é¢„å¤„ç†ç¤¾åŒº**ï¼šåŠ¨ç”»è‡ªåŠ¨æ’­æ”¾â€œç¤¾åŒºæ ‡è®°â€è¿‡ç¨‹â€”â€”æ¢é™©è€…ä»å·¦ä¸Šè§’å‡ºå‘ï¼Œéå†æ‰€æœ‰ç©ºåœ°ï¼Œç»™æ¯ä¸ªç¤¾åŒºæ¶‚ä¸Šä¸åŒé¢œè‰²ï¼ŒåŒæ—¶å±å¹•ä¸Šæ–¹æ˜¾ç¤ºâ€œæ­£åœ¨æ ‡è®°ç¤¾åŒºâ€¦â€ã€‚  
3. **å¤„ç†éšœç¢**ï¼šç‚¹å‡»ä¸€ä¸ªéšœç¢ï¼ˆæ¯”å¦‚æ ·ä¾‹1çš„ä¸­å¿ƒéšœç¢ï¼‰ï¼Œéšœç¢å˜æˆç™½è‰²ï¼Œæ¢é™©è€…èµ°åˆ°è¯¥ä½ç½®ã€‚ç„¶åï¼Œå‘¨å›´çš„ç¤¾åŒºé¢œè‰²ï¼ˆæ¯”å¦‚ä¸Šä¸‹å·¦å³çš„çº¢è‰²ã€è“è‰²ã€ç»¿è‰²ï¼‰ä¼šâ€œæ‰©æ•£â€åˆ°éšœç¢ä½ç½®ï¼Œåˆå¹¶æˆä¸€ä¸ªæ–°çš„é¢œè‰²ï¼ˆæ¯”å¦‚é»„è‰²ï¼‰ã€‚åŒæ—¶ï¼Œå±å¹•ä¸Šæ–¹æ˜¾ç¤ºâ€œæ–°ç¤¾åŒºå¤§å°ï¼š5â€ï¼ˆæ¨¡10åä¸º5ï¼‰ã€‚  
4. **éŸ³æ•ˆåé¦ˆ**ï¼šç‚¹å‡»éšœç¢æ—¶æ’­æ”¾â€œå®â€çš„å£°éŸ³ï¼Œåˆå¹¶ç¤¾åŒºæ—¶æ’­æ”¾â€œå“—å•¦â€çš„å£°éŸ³ï¼Œè¾“å‡ºç»“æœæ—¶æ’­æ”¾â€œæ»´â€çš„å£°éŸ³ã€‚


### ğŸ“ æ—ç™½æç¤º  
- ï¼ˆé¢„å¤„ç†æ—¶ï¼‰â€œæ¢é™©è€…æ­£åœ¨æ ‡è®°ç¤¾åŒºï¼Œæ¯ä¸ªé¢œè‰²ä»£è¡¨ä¸€ä¸ªè¿é€šçš„ç©ºåœ°ç¾¤ï¼â€  
- ï¼ˆç‚¹å‡»éšœç¢æ—¶ï¼‰â€œç‚¹å‡»éšœç¢å•¦ï¼å®ƒå˜æˆäº†ç©ºåœ°ï¼Œçœ‹çœ‹å‘¨å›´æœ‰å“ªäº›ç¤¾åŒºä¼šå’Œå®ƒåˆå¹¶ï½â€  
- ï¼ˆåˆå¹¶æ—¶ï¼‰â€œçº¢è‰²ç¤¾åŒºï¼ˆå¤§å°3ï¼‰ã€è“è‰²ç¤¾åŒºï¼ˆå¤§å°5ï¼‰ã€ç»¿è‰²ç¤¾åŒºï¼ˆå¤§å°3ï¼‰åˆå¹¶å•¦ï¼æ–°ç¤¾åŒºå¤§å°æ˜¯3+5+3+1=12ï¼Œæ¨¡10åæ˜¯2ï½â€


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ


### ğŸ§  é€šç”¨æ€è·¯è¿ç§»  
æœ¬é¢˜çš„â€œé¢„å¤„ç†è¿é€šå—+æ¨¡æ‹Ÿâ€æ€è·¯ï¼Œè¿˜å¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š  
1. **æ±‚æœ€å¤§è¿é€šå—å¤§å°**ï¼šæ¯”å¦‚ç»™ä¸€å¼ åœ°å›¾ï¼Œæ±‚æœ€å¤§çš„ç©ºåœ°è¿é€šå—å¤§å°ï¼ˆåªéœ€è¦é¢„å¤„ç†æ‰€æœ‰ç¤¾åŒºå¤§å°ï¼Œå–æœ€å¤§å€¼å³å¯ï¼‰ã€‚  
2. **ç»Ÿè®¡è¿é€šå—æ•°é‡**ï¼šæ¯”å¦‚ç»™ä¸€å¼ åœ°å›¾ï¼Œæ±‚æœ‰å¤šå°‘ä¸ªç©ºåœ°è¿é€šå—ï¼ˆé¢„å¤„ç†æ—¶ç»Ÿè®¡ç¤¾åŒºIDçš„æ•°é‡å³å¯ï¼‰ã€‚  
3. **è¿é€šå—å½¢çŠ¶åˆ¤æ–­**ï¼šæ¯”å¦‚åˆ¤æ–­ä¸¤ä¸ªè¿é€šå—æ˜¯å¦å½¢çŠ¶ç›¸åŒï¼ˆéœ€è¦è®°å½•æ¯ä¸ªè¿é€šå—çš„å½¢çŠ¶ç‰¹å¾ï¼Œæ¯”å¦‚ç›¸å¯¹åæ ‡ï¼‰ã€‚


### ğŸ“š æ´›è°·ç»ƒä¹ æ¨è  
1. **æ´›è°· P1596** - ã€Š[NOIP2010 æ™®åŠç»„] æ¥æ°´é—®é¢˜ã€‹  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè™½ç„¶è¿™é“é¢˜ä¸æ˜¯å›¾è®ºé—®é¢˜ï¼Œä½†å®ƒç”¨åˆ°äº†â€œé¢„å¤„ç†+æ¨¡æ‹Ÿâ€çš„æ€è·¯ï¼Œå¸®åŠ©ä½ å·©å›ºâ€œæå‰å‡†å¤‡ä¿¡æ¯â€çš„ä¹ æƒ¯ã€‚  
2. **æ´›è°· P2331** - ã€Š[SCOI2005] æœ€å¤§å­çŸ©é˜µã€‹  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦å¤„ç†äºŒç»´æ•°ç»„çš„è¿é€šå—ï¼Œå’Œæœ¬é¢˜çš„â€œç¤¾åŒºæ ‡è®°â€æ€è·¯ç±»ä¼¼ï¼Œé€‚åˆæ‹“å±•æ€ç»´ã€‚  
3. **æ´›è°· P1162** - ã€Š[NOIP2014 æ™®åŠç»„] å¡«æ¶‚é¢œè‰²ã€‹  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”¨BFS/DFSæ ‡è®°è¿é€šå—ï¼Œç„¶åä¿®æ”¹é¢œè‰²ï¼Œå’Œæœ¬é¢˜çš„â€œé¢„å¤„ç†ç¤¾åŒºâ€æ€è·¯å®Œå…¨ä¸€è‡´ï¼Œæ˜¯å¾ˆå¥½çš„å·©å›ºç»ƒä¹ ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)


### ğŸ“ å‚è€ƒç»éªŒï¼ˆæ¥è‡ªyaoliboï¼‰  
â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆæƒ³ç›´æ¥æš´åŠ›æ¯ä¸ªéšœç¢éƒ½DFSï¼Œç»“æœè¶…æ—¶äº†ã€‚åæ¥æƒ³åˆ°ï¼Œæ—¢ç„¶æ¯ä¸ªç©ºåœ°çš„è¿é€šå—å¤§å°æ˜¯å›ºå®šçš„ï¼Œä¸ºä»€ä¹ˆä¸æå‰ç®—å¥½å‘¢ï¼Ÿäºæ˜¯æˆ‘ç”¨DFSæ ‡è®°äº†æ‰€æœ‰ç¤¾åŒºï¼Œå¤„ç†éšœç¢æ—¶åªéœ€è¦æŸ¥è¯¢é‚»å±…çš„ç¤¾åŒºå¤§å°ï¼Œè¿™æ ·å°±é€šè¿‡äº†ã€‚â€  

**ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå…¸å‹â€”â€”**æš´åŠ›æ³•è™½ç„¶ç›´è§‚ï¼Œä½†å¾€å¾€æ•ˆç‡ä½ä¸‹ï¼Œéœ€è¦å¯»æ‰¾â€œä¸å˜é‡â€ï¼ˆæ¯”å¦‚ç¤¾åŒºå¤§å°ï¼‰ï¼Œæå‰é¢„å¤„ç†**ã€‚è¿™ä¹Ÿæ˜¯ç¼–ç¨‹ä¸­éå¸¸é‡è¦çš„â€œä¼˜åŒ–æ€ç»´â€ã€‚


### ğŸ“ å‚è€ƒç»éªŒï¼ˆæ¥è‡ªå¼€å§‹æ–°çš„è®°å¿†ï¼‰  
â€œæˆ‘ä¸€å¼€å§‹å¤„ç†éšœç¢æ—¶ï¼Œæ²¡æœ‰å»é‡ï¼Œå¯¼è‡´ç»“æœåå¤§ã€‚åæ¥æƒ³åˆ°ç”¨`set`è‡ªåŠ¨å»é‡ï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚`set`çœŸçš„å¾ˆå¥½ç”¨ï¼â€  

**ç‚¹è¯„**ï¼šå»é‡æ˜¯ç¼–ç¨‹ä¸­å¸¸è§çš„é—®é¢˜ï¼Œ`set`æ˜¯ç®€åŒ–å»é‡é€»è¾‘çš„å¥½å·¥å…·ã€‚ä½†è¦æ³¨æ„ï¼Œ`set`çš„æ’å…¥å’ŒæŸ¥è¯¢æ—¶é—´æ˜¯O(log n)ï¼Œå¯¹äºå°æ•°æ®æ¥è¯´å®Œå…¨æ²¡é—®é¢˜ï¼Œä½†å¯¹äºå¤§æ•°æ®æ¥è¯´ï¼Œå¯èƒ½éœ€è¦ç”¨æ•°ç»„å»é‡ï¼ˆO(1)æ—¶é—´ï¼‰ã€‚


## ğŸ‰ ç»“è¯­  
æœ¬æ¬¡å…³äºã€ŠThe Labyrinthã€‹çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œå•¦ï¼å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®åŠ©ä½ ç†è§£â€œé¢„å¤„ç†è¿é€šå—â€çš„æ ¸å¿ƒæ€è·¯ï¼ŒæŒæ¡â€œå»é‡â€â€œè¾¹ç•Œåˆ¤æ–­â€ç­‰å…³é”®æŠ€å·§ã€‚è®°ä½ï¼š**ç¼–ç¨‹çš„æœ¬è´¨æ˜¯â€œè§£å†³é—®é¢˜â€ï¼Œè€Œä¸æ˜¯â€œå†™ä»£ç â€**â€”â€”å…ˆæƒ³æ¸…æ¥šâ€œå¦‚ä½•é«˜æ•ˆè§£å†³é—®é¢˜â€ï¼Œå†å†™ä»£ç ï¼Œæ‰èƒ½äº‹åŠåŠŸå€ï¼  

ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜å§ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š152.26ç§’
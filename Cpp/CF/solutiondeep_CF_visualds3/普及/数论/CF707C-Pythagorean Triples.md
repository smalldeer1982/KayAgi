# 题目信息

# Pythagorean Triples

## 题目描述

Katya studies in a fifth grade. Recently her class studied right triangles and the Pythagorean theorem. It appeared, that there are triples of positive integers such that you can construct a right triangle with segments of lengths corresponding to triple. Such triples are called Pythagorean triples.

For example, triples $ (3,4,5) $ , $ (5,12,13) $ and $ (6,8,10) $ are Pythagorean triples.

Here Katya wondered if she can specify the length of some side of right triangle and find any Pythagorean triple corresponding to such length? Note that the side which length is specified can be a cathetus as well as hypotenuse.

Katya had no problems with completing this task. Will you do the same?

## 说明/提示

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF707C/80a087cda42609e729836c8476c6d8655d41a6b9.png)Illustration for the first sample.

## 样例 #1

### 输入

```
3
```

### 输出

```
4 5```

## 样例 #2

### 输入

```
6
```

### 输出

```
8 10```

## 样例 #3

### 输入

```
1
```

### 输出

```
-1```

## 样例 #4

### 输入

```
17
```

### 输出

```
144 145```

## 样例 #5

### 输入

```
67
```

### 输出

```
2244 2245```

# AI分析结果


# 💡 Kay的C++算法解析：Pythagorean Triples 深入学习指南 💡

## 1. 题目解读与核心算法识别

✨ **本题主要考察**：`数学构造` 与 `分类讨论`

🗣️ **初步分析**：
> 解决勾股三元组问题就像在乐高积木中寻找完美匹配的三角形积木。核心思想是通过数学公式直接构造出满足勾股定理的整数解。  
> - 当输入数n为奇数时，使用公式：另外两边为`(n²-1)/2`和`(n²+1)/2`  
> - 当n为偶数时，使用公式：另外两边为`(n²/4-1)`和`(n²/4+1)`  
> - 当n≤2时无解（特判）  
> 
> **可视化设计**：采用8位像素风格展示直角三角形构造过程。当输入n时，屏幕显示像素方块组成的直角边，动态演示公式推导：  
> 1. 奇数情况：展示n²的正方形被拆分成1x1小方块和两个矩形，重组为另两条边  
> 2. 偶数情况：展示n=2k的分解，k²-1和k²+1的方块重组  
> 3. 交互控制：支持步进执行，关键步骤触发像素音效（如方块移动声），成功时播放胜利音效

---

## 2. 精选优质题解参考

**题解一（来源：ryl_ahu）**
* **点评**：此解法思路清晰严谨，采用分解质因子2的策略处理偶数。代码中`while`循环处理2的幂次情况，边界处理完善（如n=4时特殊处理）。亮点在于通过数学证明确保所有情况覆盖，变量`t`记录2的幂次，实践价值高。

**题解二（来源：zenght）**
* **点评**：解法简洁有力，直接给出奇偶分类的数学公式。代码仅需5行核心逻辑，变量命名直观（`n%2`判断奇偶），算法效率O(1)。亮点在于公式推导严谨（如平方差应用），适合竞赛快速编码。

**题解三（来源：Dimly_dust）**
* **点评**：解法直观易理解，偶数处理采用"一次除2"的简化策略。代码结构工整，特判明确。亮点在于公式几何意义展示（n=2k时构造k²±1），适合初学者理解勾股数本质。

---

## 3. 核心难点辨析与解题策略

1.  **难点：构造公式的推导**
    * **分析**：利用平方差公式n²=(c-b)(c+b)。优质题解通过设c-b=1（奇）或2（偶）解方程，需掌握二元一次方程求解技巧
    * 💡 **学习笔记**：数学推导是构造算法的基石

2.  **难点：n≤2的无解证明**
    * **分析**：当n=1时，方程c-b=1与c+b=1联立得b=0（无效）；n=2同理。所有题解一致特判
    * 💡 **学习笔记**：边界条件决定算法鲁棒性

3.  **难点：偶数处理的陷阱**
    * **分析**：当n是纯2的幂（如4,8）时，需特殊处理（ryl_ahu用3-4-5倍数）。核心技巧是提取2的因子后分类
    * 💡 **学习笔记**：特殊值验证能避免逻辑漏洞

### ✨ 解题技巧总结
- **数学建模**：将问题转化为可解的数学方程（如平方差分解）
- **分类讨论**：根据奇偶性设计不同构造路径
- **边界艺术**：对n≤2和2的幂次进行精细处理

---

## 4. C++核心代码实现赏析

**本题通用核心C++实现参考**
* **说明**：综合优质题解，采用奇偶分类公式
* **完整核心代码**：
    ```cpp
    #include <iostream>
    using namespace std;
    int main() {
        long long n;
        cin >> n;
        if (n <= 2) {
            cout << -1;
            return 0;
        }
        if (n % 2 == 1) 
            cout << (n*n-1)/2 << " " << (n*n+1)/2;
        else 
            cout << (n*n/4 - 1) << " " << (n*n/4 + 1);
        return 0;
    }
    ```
* **代码解读概要**：
    > 1. 特判n≤2直接返回-1  
    > 2. 奇数分支：应用公式`(n²-1)/2`和`(n²+1)/2`  
    > 3. 偶数分支：应用简化公式`(n²/4-1)`和`(n²/4+1)`  

**题解一（ryl_ahu）核心代码**
* **亮点**：处理2的幂次时特殊构造3-4-5倍数
* **核心代码片段**：
    ```cpp
    while (a % 2 == 0) {
        a /= 2;
        ans *= 2;
    }
    if (a == 1) 
        cout << 3 * ans / 4 << " " << 5 * ans / 4;
    ```
* **代码解读**：
    > `while`循环提取因子2，`ans`记录2的幂次。当余数为1时（即n为纯2的幂），使用3-4-5构造解。例如n=4时，ans=4，输出3*(4/4)=3和5*(4/4)=5
* 💡 **学习笔记**：特殊值处理体现算法完备性

**题解二（zenght）核心代码**
* **亮点**：直接公式法避免分支嵌套
* **核心代码片段**：
    ```cpp
    if (n % 2 == 0) 
        cout << n*n/4 - 1 << " " << n*n/4 + 1;
    ```
* **代码解读**：
    > 偶数分支直接应用公式，n²/4必为整数（因n是偶数）。例如n=6时，36/4=9，输出8和10
* 💡 **学习笔记**：数学优化可简化代码结构

**题解三（Dimly_dust）核心代码**
* **亮点**：几何意义明确的偶数处理
* **核心代码片段**：
    ```cpp
    n /= 2;
    cout << (n*n - 1) << " " << (n*n + 1);
    ```
* **代码解读**：
    > 设n=2k，则输出k²-1和k²+1。例如n=6时，k=3，输出8和10。公式本质是(2k)²+(k²-1)²=(k²+1)²
* 💡 **学习笔记**：变量代换可揭示公式几何意义

---

## 5. 算法可视化：像素动画演示

* **主题**：8位像素风格勾股构造器
* **核心演示**：动态展示公式的几何推导
* **设计思路**：复古风格降低理解压力，游戏化元素增强记忆点

**动画步骤**：
1. **场景初始化**：FC风格网格，直角边n用蓝色方块拼成
2. **公式分解演示**：
   - 奇数：n²方块拆为黄色1x1+两个绿色矩形→重组为另两边
   - 偶数：n分解为2个k（紫色），生成橙色(k²-1)和红色(k²+1)方块
3. **交互控制**：
   - 步进按钮：逐步显示分解过程
   - 速度滑块：调节动画速度
   - 音效：方块移动(8-bit声)，成功时(胜利旋律)
4. **特殊状态**：
   - n≤2：显示红色❌+失败音效
   - n=4：自动展示3-4-5构造过程
5. **游戏化设计**：
   - 每步正确得1分，连续正确触发连击特效
   - 通关奖励：解锁新直角三角形皮肤

---

## 6. 拓展练习与相似问题思考

* **技巧迁移**：数学构造法还可用于：
  1. 斐波那契恒等式问题
  2. 平方和分解问题
  3. 丢番图方程求解

* **洛谷推荐**：
  1. **P1888 三角函数**  
     🗣️ 巩固勾股数性质应用
  2. **P1575 勾股数升级版**  
     🗣️ 练习范围内勾股数构造
  3. **P1835 素数密度**  
     🗣️ 提升数论构造能力

---

## 7. 学习心得与经验分享

> **参考经验**：多位作者强调"必须特判n≤2"，且处理纯2幂次需单独构造

> **点评**：这些经验凸显数学算法中特殊值验证的重要性。建议学习时：  
> 1. 手工验证小数据（如n=3,4,6）  
> 2. 关注公式适用边界  
> 3. 通过几何意义理解代数公式

---
处理用时：208.94秒
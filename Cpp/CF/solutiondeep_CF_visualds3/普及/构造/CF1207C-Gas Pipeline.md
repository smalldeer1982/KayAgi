# é¢˜ç›®ä¿¡æ¯

# Gas Pipeline

## é¢˜ç›®æè¿°

You are responsible for installing a gas pipeline along a road. Let's consider the road (for simplicity) as a segment $ [0, n] $ on $ OX $ axis. The road can have several crossroads, but for simplicity, we'll denote each crossroad as an interval $ (x, x + 1) $ with integer $ x $ . So we can represent the road as a binary string consisting of $ n $ characters, where character 0 means that current interval doesn't contain a crossroad, and 1 means that there is a crossroad.

Usually, we can install the pipeline along the road on height of $ 1 $ unit with supporting pillars in each integer point (so, if we are responsible for $ [0, n] $ road, we must install $ n + 1 $ pillars). But on crossroads we should lift the pipeline up to the height $ 2 $ , so the pipeline won't obstruct the way for cars.

We can do so inserting several zig-zag-like lines. Each zig-zag can be represented as a segment $ [x, x + 1] $ with integer $ x $ consisting of three parts: $ 0.5 $ units of horizontal pipe + $ 1 $ unit of vertical pipe + $ 0.5 $ of horizontal. Note that if pipeline is currently on height $ 2 $ , the pillars that support it should also have length equal to $ 2 $ units.

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1207C/f1dfe38b83de03ccc78e9e23fedbdc3223f970d0.png)Each unit of gas pipeline costs us $ a $ bourles, and each unit of pillar â€” $ b $ bourles. So, it's not always optimal to make the whole pipeline on the height $ 2 $ . Find the shape of the pipeline with minimum possible cost and calculate that cost.

Note that you must start and finish the pipeline on height $ 1 $ and, also, it's guaranteed that the first and last characters of the input string are equal to 0.

## è¯´æ˜/æç¤º

The optimal pipeline for the first query is shown at the picture above.

The optimal pipeline for the second query is pictured below:

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1207C/2782d7e4c7012251045217f9f050b1e333f47c33.png)The optimal (and the only possible) pipeline for the third query is shown below:

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1207C/7e72ed8fa647ff66b04ca0425394c874c1b110fe.png)The optimal pipeline for the fourth query is shown below:

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1207C/248de9c02a0298296e2131b26213178e9c6ad6ba.png)

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
8 2 5
00110010
8 1 1
00110010
9 100000000 100000000
010101010
2 5 1
00
```

### è¾“å‡º

```
94
25
2900000000
13
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šGas Pipeline æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šåŠ¨æ€è§„åˆ’ï¼ˆLinear DPï¼‰  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œGas Pipelineâ€é—®é¢˜çš„å…³é”®åœ¨äº**åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰**â€”â€”å®ƒåƒâ€œèµ°å°é˜¶â€ä¸€æ ·ï¼Œæ¯ä¸€æ­¥çš„é€‰æ‹©ï¼ˆç®¡é“é«˜åº¦ï¼‰ä¾èµ–äºå‰ä¸€æ­¥çš„çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦è®°å½•æ¯ä¸€æ­¥çš„æœ€ä¼˜è§£ï¼ˆæœ€å°è´¹ç”¨ï¼‰ï¼Œæœ€ç»ˆæ¨å¯¼åˆ°ç»ˆç‚¹çš„æœ€ä¼˜è§£ã€‚  

### æ ¸å¿ƒæ€æƒ³ç±»æ¯”  
å‡è®¾ä½ æ˜¯ä¸€åç®¡é“å·¥ï¼Œè¦ä»èµ·ç‚¹ï¼ˆ0ï¼‰é“ºåˆ°ç»ˆç‚¹ï¼ˆnï¼‰ã€‚æ¯åˆ°ä¸€ä¸ªä½ç½®ï¼Œä½ å¯ä»¥é€‰æ‹©æŠŠç®¡é“æ”¾åœ¨**é«˜åº¦1**ï¼ˆä¾¿å®œä½†ä¸èƒ½è¿‡äº¤å‰è·¯å£ï¼‰æˆ–**é«˜åº¦2**ï¼ˆè´µä½†èƒ½è¿‡äº¤å‰è·¯å£ï¼‰ã€‚ä½ éœ€è¦è®°ä½ï¼šâ€œåˆ°è¿™ä¸ªä½ç½®æ—¶ï¼Œé€‰é«˜åº¦1çš„æœ€å°è´¹ç”¨æ˜¯å¤šå°‘ï¼Ÿé€‰é«˜åº¦2çš„åˆæ˜¯å¤šå°‘ï¼Ÿâ€è¿™æ ·ï¼Œæ¯ä¸€æ­¥éƒ½èƒ½åŸºäºä¹‹å‰çš„ç»“æœåšæœ€ä¼˜é€‰æ‹©ã€‚  

### é¢˜è§£æ€è·¯ä¸æ ¸å¿ƒéš¾ç‚¹  
- **çŠ¶æ€å®šä¹‰**ï¼šç”¨`f[i][j]`è¡¨ç¤ºé“ºåˆ°ç¬¬`i`ä¸ªä½ç½®ï¼ˆæ•´æ•°ç‚¹ï¼‰æ—¶ï¼Œç®¡é“é«˜åº¦ä¸º`j`ï¼ˆ`j=0`ä»£è¡¨é«˜åº¦1ï¼Œ`j=1`ä»£è¡¨é«˜åº¦2ï¼‰çš„**æœ€å°æ€»è´¹ç”¨**ã€‚  
- **è½¬ç§»æ–¹ç¨‹**ï¼š  
  - è‹¥å½“å‰åŒºé—´ï¼ˆ`i-1`åˆ°`i`ï¼‰æ²¡æœ‰äº¤å‰è·¯å£ï¼ˆ`s[i-1]='0'`ï¼‰ï¼Œåˆ™å¯ä»¥é€‰æ‹©é«˜åº¦1æˆ–2ï¼š  
    `f[i][0] = min(å‰ä¸€æ­¥é«˜åº¦1çš„è´¹ç”¨, å‰ä¸€æ­¥é«˜åº¦2çš„è´¹ç”¨+ç«–ç®¡è´¹ç”¨) + æ°´å¹³ç®¡é“è´¹ç”¨ + é«˜åº¦1çš„æ”¯æŸ±è´¹ç”¨`  
    `f[i][1] = min(å‰ä¸€æ­¥é«˜åº¦1çš„è´¹ç”¨+ç«–ç®¡è´¹ç”¨, å‰ä¸€æ­¥é«˜åº¦2çš„è´¹ç”¨) + æ°´å¹³ç®¡é“è´¹ç”¨ + é«˜åº¦2çš„æ”¯æŸ±è´¹ç”¨`  
  - è‹¥å½“å‰åŒºé—´æœ‰äº¤å‰è·¯å£ï¼ˆ`s[i-1]='1'`ï¼‰ï¼Œåˆ™å¿…é¡»é€‰æ‹©é«˜åº¦2ï¼š  
    `f[i][1] = å‰ä¸€æ­¥é«˜åº¦2çš„è´¹ç”¨ + æ°´å¹³ç®¡é“è´¹ç”¨ + é«˜åº¦2çš„æ”¯æŸ±è´¹ç”¨`  
    `f[i][0] = æ— ç©·å¤§ï¼ˆæ— æ•ˆçŠ¶æ€ï¼‰`  
- **æ ¸å¿ƒéš¾ç‚¹**ï¼š  
  1. æ­£ç¡®å®šä¹‰çŠ¶æ€ï¼ˆåŒ…å«ä½ç½®å’Œé«˜åº¦ï¼‰ï¼›  
  2. æ¨å¯¼è½¬ç§»æ–¹ç¨‹ï¼ˆå¤„ç†ä¸åŒæƒ…å†µçš„è´¹ç”¨ï¼‰ï¼›  
  3. è®¾ç½®è¾¹ç•Œæ¡ä»¶ï¼ˆèµ·ç‚¹å¿…é¡»åœ¨é«˜åº¦1ï¼‰ã€‚  

### å¯è§†åŒ–è®¾è®¡æ€è·¯  
æˆ‘ä»¬å°†ç”¨**8ä½åƒç´ é£æ ¼**ï¼ˆç±»ä¼¼FCæ¸¸æˆï¼‰åˆ¶ä½œåŠ¨ç”»ï¼Œå±•ç¤ºæ¯ä¸€æ­¥çš„çŠ¶æ€è½¬ç§»ï¼š  
- ç”¨**è“è‰²æ–¹å—**è¡¨ç¤ºé«˜åº¦1ï¼Œ**çº¢è‰²æ–¹å—**è¡¨ç¤ºé«˜åº¦2ï¼›  
- ç”¨**æ•°å­—**å®æ—¶æ˜¾ç¤ºå½“å‰è´¹ç”¨ï¼›  
- å…³é”®æ“ä½œï¼ˆå¦‚è½¬ç§»ï¼‰ç”¨**â€œå®â€çš„éŸ³æ•ˆ**æç¤ºï¼Œåˆ°è¾¾ç»ˆç‚¹ç”¨**èƒœåˆ©éŸ³æ•ˆ**ï¼›  
- æ”¯æŒâ€œå•æ­¥æ‰§è¡Œâ€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆAIæ¼”ç¤ºæœ€ä¼˜è·¯å¾„ï¼‰ï¼Œå¸®åŠ©ç›´è§‚ç†è§£DPçš„é€‰æ‹©è¿‡ç¨‹ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šå…®æ°´XiShuiä¸¶ï¼ˆèµ10ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£æ˜¯æœ¬é¢˜çš„**ç»å…¸DPå®ç°**ï¼Œæ€è·¯æ¸…æ™°ã€ä»£ç ç®€æ´ã€‚çŠ¶æ€å®šä¹‰å‡†ç¡®ï¼ˆ`f[i][0]`è¡¨ç¤ºé«˜åº¦1ï¼Œ`f[i][1]`è¡¨ç¤ºé«˜åº¦2ï¼‰ï¼Œè½¬ç§»æ–¹ç¨‹æ­£ç¡®å¤„ç†äº†â€œæœ‰/æ— äº¤å‰è·¯å£â€çš„æƒ…å†µã€‚ä»£ç ä½¿ç”¨`long long`é¿å…æº¢å‡ºï¼Œæ— ç©·å¤§è®¾ç½®åˆç†ï¼ˆ`1ll<<62`ï¼‰ï¼Œå®è·µä»·å€¼æé«˜ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚  

### é¢˜è§£äºŒï¼šå¼•é¢†å¤©ä¸‹ï¼ˆèµ8ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£åœ¨æ€è·¯ä¸Šä¸é¢˜è§£ä¸€ä¸€è‡´ï¼Œä½†å¢åŠ äº†**å…³é”®æ³¨é‡Š**ï¼ˆå¦‚â€œinfè¦å¼€å¤§ï¼ä¸ç„¶ä¼šWAçš„QAQâ€ï¼‰ï¼Œæé†’äº†æ— ç©·å¤§çš„è®¾ç½®é—®é¢˜ã€‚ä»£ç è§„èŒƒæ€§å¥½ï¼Œå˜é‡å‘½åæ¸…æ™°ï¼ˆ`inf`è¡¨ç¤ºæ— ç©·å¤§ï¼‰ï¼Œè½¬ç§»æ–¹ç¨‹çš„æ¨å¯¼è¿‡ç¨‹è§£é‡Šå¾—æ›´è¯¦ç»†ï¼ˆå¦‚â€œçœ‹æ˜¯ä»ä¸Šä¸€ä¸ªä½ç½®ä¸‹æ¥å†ä¸Šæ¥ä¾¿å®œï¼Œè¿˜æ˜¯ç›´æ¥æ‹‰è¿‡æ¥ä¾¿å®œâ€ï¼‰ï¼Œé€‚åˆåˆå­¦è€…å­¦ä¹ ã€‚  

### é¢˜è§£ä¸‰ï¼ša_grainï¼ˆèµ2ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„äº®ç‚¹åœ¨äº**è€ƒè™‘äº†åŒºé—´çš„å½±å“**â€”â€”å½“`s[i]`æˆ–`s[i+1]`ä¸º1æ—¶ï¼Œå½“å‰ä½ç½®çš„é«˜åº¦å¿…é¡»ä¸º2ï¼Œå› æ­¤å°†`dp[i][1]`ï¼ˆé«˜åº¦1ï¼‰è®¾ä¸ºæ— ç©·å¤§ã€‚è¿™ç§å¤„ç†æ–¹å¼æ›´ä¸¥è°¨ï¼Œé€‚åˆç†è§£â€œåŒºé—´å¯¹çŠ¶æ€çš„é™åˆ¶â€ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. çŠ¶æ€å®šä¹‰çš„æ­£ç¡®æ€§  
**éš¾ç‚¹**ï¼šå¦‚ä½•ç”¨çŠ¶æ€è¦†ç›–æ‰€æœ‰å½±å“åç»­é€‰æ‹©çš„å› ç´ ï¼Ÿ  
**è§£å†³ç­–ç•¥**ï¼šçŠ¶æ€å¿…é¡»åŒ…å«**ä½ç½®**ï¼ˆ`i`ï¼‰å’Œ**é«˜åº¦**ï¼ˆ`j`ï¼‰ï¼Œå› ä¸ºæ¯ä¸€æ­¥çš„é€‰æ‹©ï¼ˆé«˜åº¦ï¼‰ä¾èµ–äºå‰ä¸€æ­¥çš„é«˜åº¦ã€‚ä¾‹å¦‚ï¼Œ`f[i][0]`è¡¨ç¤ºâ€œåˆ°ä½ç½®`i`æ—¶ï¼Œé«˜åº¦ä¸º1çš„æœ€å°è´¹ç”¨â€ï¼Œè¿™æ ·æ‰èƒ½æ­£ç¡®è½¬ç§»ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŠ¶æ€å®šä¹‰æ˜¯DPçš„åŸºç¡€ï¼Œè¦åŒ…å«æ‰€æœ‰â€œå½±å“åç»­é€‰æ‹©çš„å› ç´ â€ã€‚  

### 2. è½¬ç§»æ–¹ç¨‹çš„æ¨å¯¼  
**éš¾ç‚¹**ï¼šå¦‚ä½•æ­£ç¡®è®¡ç®—æ¯ä¸ªçŠ¶æ€è½¬ç§»çš„è´¹ç”¨ï¼Ÿ  
**è§£å†³ç­–ç•¥**ï¼šæ˜ç¡®è´¹ç”¨ç»„æˆï¼š  
- æ°´å¹³ç®¡é“è´¹ç”¨ï¼šæ¯ä¸ªåŒºé—´çš„æ°´å¹³ç®¡é“é•¿åº¦ä¸º1ï¼Œè´¹ç”¨`a`ï¼›  
- ç«–ç®¡è´¹ç”¨ï¼šä»é«˜åº¦`j`è½¬ç§»åˆ°é«˜åº¦`k`ï¼Œéœ€è¦ç«–ç®¡é•¿åº¦`|j-k|`ï¼Œè´¹ç”¨`|j-k|*a`ï¼›  
- æ”¯æŸ±è´¹ç”¨ï¼šä½ç½®`i`çš„æ”¯æŸ±é•¿åº¦ä¸ºå½“å‰é«˜åº¦ï¼Œè´¹ç”¨`å½“å‰é«˜åº¦*b`ã€‚  
ä¾‹å¦‚ï¼Œä»é«˜åº¦2è½¬ç§»åˆ°é«˜åº¦1çš„è´¹ç”¨æ˜¯ï¼š`ç«–ç®¡è´¹ç”¨ï¼ˆaï¼‰ + æ°´å¹³ç®¡é“è´¹ç”¨ï¼ˆaï¼‰ + æ”¯æŸ±è´¹ç”¨ï¼ˆ1*bï¼‰= 2a + b`ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè½¬ç§»æ–¹ç¨‹çš„è´¹ç”¨è®¡ç®—è¦â€œæ‹†åˆ†æˆå—â€ï¼Œé¿å…é—æ¼ã€‚  

### 3. è¾¹ç•Œæ¡ä»¶çš„å¤„ç†  
**éš¾ç‚¹**ï¼šå¦‚ä½•ç¡®ä¿èµ·ç‚¹å’Œç»ˆç‚¹çš„çŠ¶æ€æ­£ç¡®ï¼Ÿ  
**è§£å†³ç­–ç•¥**ï¼š  
- èµ·ç‚¹ï¼ˆä½ç½®0ï¼‰å¿…é¡»åœ¨é«˜åº¦1ï¼Œå› æ­¤`f[0][0] = b`ï¼ˆæ”¯æŸ±è´¹ç”¨1*bï¼‰ï¼Œ`f[0][1] = æ— ç©·å¤§`ï¼ˆæ— æ•ˆçŠ¶æ€ï¼‰ï¼›  
- ç»ˆç‚¹ï¼ˆä½ç½®nï¼‰å¿…é¡»åœ¨é«˜åº¦1ï¼Œå› æ­¤æœ€ç»ˆç­”æ¡ˆæ˜¯`f[n][0]`ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹ç•Œæ¡ä»¶æ˜¯DPçš„â€œèµ·ç‚¹â€ï¼Œç›´æ¥å½±å“ç»“æœçš„æ­£ç¡®æ€§ã€‚  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **çŠ¶æ€å®šä¹‰**ï¼šåŒ…å«æ‰€æœ‰å½±å“åç»­é€‰æ‹©çš„å› ç´ ï¼ˆå¦‚ä½ç½®ã€é«˜åº¦ï¼‰ï¼›  
- **è½¬ç§»æ–¹ç¨‹**ï¼šæ‹†åˆ†æˆâ€œè´¹ç”¨å—â€ï¼ˆæ°´å¹³ç®¡é“ã€ç«–ç®¡ã€æ”¯æŸ±ï¼‰ï¼Œé€ä¸€è®¡ç®—ï¼›  
- **æ— ç©·å¤§è®¾ç½®**ï¼šç”¨è¶³å¤Ÿå¤§çš„æ•°ï¼ˆå¦‚`1ll<<62`ï¼‰è¡¨ç¤ºæ— æ•ˆçŠ¶æ€ï¼Œé¿å…é”™è¯¯ï¼›  
- **è¾¹ç•Œæ¡ä»¶**ï¼šæ˜ç¡®èµ·ç‚¹å’Œç»ˆç‚¹çš„çŠ¶æ€è¦æ±‚ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šæœ¬ä»£ç æ¥è‡ªå…®æ°´XiShuiä¸¶çš„é¢˜è§£ï¼Œæ˜¯æœ¬é¢˜çš„**å…¸å‹DPå®ç°**ï¼Œé€»è¾‘æ¸…æ™°ã€é«˜æ•ˆã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
const int oo=(1ll<<62); 
const int N=2e5+10;
int n,a,b;
string s;
int f[N][2];
signed main(){
	ios::sync_with_stdio(false);
	cin.tie(0),cout.tie(0);
    int T;
    cin >> T;
    while(T--){
        cin >> n >> a >> b;
        cin >> s;
        f[0][0] = b; // ä½ç½®0çš„æ”¯æŸ±è´¹ç”¨ï¼ˆé«˜åº¦1ï¼‰
        f[0][1] = oo; // èµ·ç‚¹ä¸èƒ½åœ¨é«˜åº¦2
        for(int i=0;i<n;i++){ // å¤„ç†nä¸ªåŒºé—´ï¼ˆ0åˆ°n-1ï¼‰
            if(s[i]=='0'){ // å½“å‰åŒºé—´æ— äº¤å‰è·¯å£
                // è½¬ç§»åˆ°é«˜åº¦1ï¼šå‰ä¸€æ­¥é«˜åº¦1ï¼ˆæ— éœ€ç«–ç®¡ï¼‰æˆ–å‰ä¸€æ­¥é«˜åº¦2ï¼ˆéœ€ç«–ç®¡è´¹ç”¨aï¼‰
                f[i+1][0] = min(f[i][0], f[i][1] + a) + a + b; 
                // è½¬ç§»åˆ°é«˜åº¦2ï¼šå‰ä¸€æ­¥é«˜åº¦1ï¼ˆéœ€ç«–ç®¡è´¹ç”¨aï¼‰æˆ–å‰ä¸€æ­¥é«˜åº¦2ï¼ˆæ— éœ€ç«–ç®¡ï¼‰
                f[i+1][1] = min(f[i][0] + a, f[i][1]) + a + 2*b; 
            }
            else{ // å½“å‰åŒºé—´æœ‰äº¤å‰è·¯å£ï¼Œå¿…é¡»è½¬ç§»åˆ°é«˜åº¦2
                f[i+1][1] = f[i][1] + a + 2*b; // åªèƒ½ä»é«˜åº¦2è½¬ç§»
                f[i+1][0] = oo; // æ— æ•ˆçŠ¶æ€
            }
        }
        cout << f[n][0] << endl; // ç»ˆç‚¹å¿…é¡»åœ¨é«˜åº¦1
    }
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  - åˆå§‹åŒ–ï¼š`f[0][0] = b`ï¼ˆèµ·ç‚¹é«˜åº¦1çš„æ”¯æŸ±è´¹ç”¨ï¼‰ï¼Œ`f[0][1] = oo`ï¼ˆèµ·ç‚¹ä¸èƒ½åœ¨é«˜åº¦2ï¼‰ï¼›  
  - å¾ªç¯å¤„ç†æ¯ä¸ªåŒºé—´ï¼šæ ¹æ®å½“å‰åŒºé—´æ˜¯å¦æœ‰äº¤å‰è·¯å£ï¼Œæ›´æ–°`f[i+1][0]`ï¼ˆé«˜åº¦1ï¼‰å’Œ`f[i+1][1]`ï¼ˆé«˜åº¦2ï¼‰ï¼›  
  - è¾“å‡ºï¼š`f[n][0]`ï¼ˆç»ˆç‚¹é«˜åº¦1çš„æœ€å°è´¹ç”¨ï¼‰ã€‚  

### é¢˜è§£ä¸€ï¼šå…®æ°´XiShuiä¸¶ï¼ˆæ ¸å¿ƒä»£ç ç‰‡æ®µï¼‰  
* **äº®ç‚¹**ï¼šè½¬ç§»æ–¹ç¨‹æ­£ç¡®ï¼Œå¤„ç†äº†æ‰€æœ‰æƒ…å†µã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
for(int i=0;i<n;i++){
    if(s[i]=='0'){
        f[i+1][0] = min(f[i][0], f[i][1] + a) + a + b;
        f[i+1][1] = min(f[i][0] + a, f[i][1]) + a + 2*b;
    }
    else{
        f[i+1][1] = f[i][1] + a + 2*b;
        f[i+1][0] = oo;
    }
}
```
* **ä»£ç è§£è¯»**ï¼š  
  - å½“`s[i]='0'`æ—¶ï¼Œè®¡ç®—è½¬ç§»åˆ°é«˜åº¦1å’Œ2çš„æœ€å°è´¹ç”¨ã€‚ä¾‹å¦‚ï¼Œ`f[i+1][0]`æ˜¯å‰ä¸€æ­¥çš„æœ€å°è´¹ç”¨ï¼ˆ`f[i][0]`æˆ–`f[i][1]+a`ï¼‰åŠ ä¸Šå½“å‰åŒºé—´çš„æ°´å¹³ç®¡é“è´¹ç”¨ï¼ˆ`a`ï¼‰å’Œä¸‹ä¸€ä¸ªä½ç½®çš„æ”¯æŸ±è´¹ç”¨ï¼ˆ`b`ï¼‰ï¼›  
  - å½“`s[i]='1'`æ—¶ï¼Œåªèƒ½è½¬ç§»åˆ°é«˜åº¦2ï¼Œ`f[i+1][0]`è®¾ä¸ºæ— ç©·å¤§ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè½¬ç§»æ–¹ç¨‹è¦â€œè¦†ç›–æ‰€æœ‰æƒ…å†µâ€ï¼Œç¡®ä¿æ— æ•ˆçŠ¶æ€ä¸ä¼šè¢«é€‰ä¸­ã€‚  

### é¢˜è§£äºŒï¼šå¼•é¢†å¤©ä¸‹ï¼ˆæ ¸å¿ƒä»£ç ç‰‡æ®µï¼‰  
* **äº®ç‚¹**ï¼šæé†’äº†æ— ç©·å¤§çš„è®¾ç½®é—®é¢˜ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
#define inf 884888488848997
//æ³¨æ„ï¼infè¦å¼€å¤§ï¼ä¸ç„¶ä¼šWAçš„QAQ
```
* **ä»£ç è§£è¯»**ï¼š  
  æ— ç©·å¤§è®¾ç½®å¾—è¶³å¤Ÿå¤§ï¼ˆ`884888488848997`ï¼‰ï¼Œé¿å…åœ¨è®¡ç®—è¿‡ç¨‹ä¸­è¢«é”™è¯¯åœ°é€‰ä¸­ï¼ˆæ¯”å¦‚å½“æ‰€æœ‰çŠ¶æ€éƒ½æ˜¯æ— ç©·å¤§æ—¶ï¼Œ`min`å‡½æ•°ä¼šè¿”å›æ­£ç¡®çš„æ— ç©·å¤§ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ— ç©·å¤§çš„è®¾ç½®è¦â€œè¶³å¤Ÿå¤§â€ï¼Œé¿å…æº¢å‡ºæˆ–é”™è¯¯ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤ºï¼ˆæ ¸å¿ƒéƒ¨åˆ†ï¼‰

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜  
**åƒç´ ç®¡é“å·¥**ï¼ˆä»¿ç…§FCæ¸¸æˆé£æ ¼ï¼Œç©å®¶æ§åˆ¶ç®¡é“å·¥é“ºè®¾ç®¡é“ï¼Œé€‰æ‹©é«˜åº¦ï¼Œæœ€å°åŒ–è´¹ç”¨ï¼‰ã€‚  

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
å±•ç¤º**æ¯ä¸€æ­¥çš„çŠ¶æ€è½¬ç§»**ï¼ŒåŒ…æ‹¬ï¼š  
- ä½ç½®çš„é«˜åº¦å˜åŒ–ï¼ˆè“è‰²=1ï¼Œçº¢è‰²=2ï¼‰ï¼›  
- è´¹ç”¨çš„ç´¯ç§¯ï¼ˆæ•°å­—å®æ—¶æ›´æ–°ï¼‰ï¼›  
- çŠ¶æ€è½¬ç§»çš„é€‰æ‹©ï¼ˆAIè‡ªåŠ¨æ¼”ç¤ºæœ€ä¼˜è·¯å¾„ï¼‰ã€‚  

### è®¾è®¡æ€è·¯  
é‡‡ç”¨**8ä½åƒç´ é£æ ¼**ï¼ˆç±»ä¼¼ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹ï¼‰ï¼Œç”¨ç®€å•çš„å›¾å½¢å’ŒéŸ³æ•ˆå¢å¼ºè¶£å‘³æ€§ï¼š  
- **åœºæ™¯åˆå§‹åŒ–**ï¼šå±å¹•æ˜¾ç¤º`n+1`ä¸ªåƒç´ ç‚¹ï¼ˆ0åˆ°nï¼‰ï¼Œèµ·ç‚¹ï¼ˆ0ï¼‰æ˜¯è“è‰²ï¼ˆé«˜åº¦1ï¼‰ï¼Œè´¹ç”¨æ˜¾ç¤ºä¸º`b`ï¼›  
- **å¤„ç†åŒºé—´**ï¼šæ¯å¤„ç†ä¸€ä¸ªåŒºé—´ï¼ŒåŠ¨ç”»å±•ç¤ºä»å½“å‰ä½ç½®åˆ°ä¸‹ä¸€ä¸ªä½ç½®çš„é«˜åº¦é€‰æ‹©ï¼ˆè“è‰²æˆ–çº¢è‰²ï¼‰ï¼Œè´¹ç”¨æ•°å­—æ›´æ–°ï¼›  
- **å…³é”®æ“ä½œéŸ³æ•ˆ**ï¼šè½¬ç§»æ—¶æ’­æ”¾â€œå®â€çš„å£°éŸ³ï¼Œåˆ°è¾¾ç»ˆç‚¹æ’­æ”¾â€œèƒœåˆ©â€éŸ³è°ƒï¼›  
- **äº¤äº’æ§åˆ¶**ï¼šæ”¯æŒâ€œå•æ­¥æ‰§è¡Œâ€ï¼ˆæ‰‹åŠ¨é€‰æ‹©é«˜åº¦ï¼‰ã€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆAIæ¼”ç¤ºæœ€ä¼˜è·¯å¾„ï¼‰ã€â€œé‡ç½®â€ï¼ˆé‡æ–°å¼€å§‹ï¼‰ã€‚  

### åŠ¨ç”»å¸§ç¤ºä¾‹  
1. **åˆå§‹åŒ–**ï¼šä½ç½®0æ˜¯è“è‰²ï¼Œè´¹ç”¨`b=1`ï¼ˆæ ·ä¾‹4ï¼‰ï¼›  
2. **å¤„ç†åŒºé—´0**ï¼ˆ`s[0]='0'`ï¼‰ï¼š  
   - é€‰æ‹©é«˜åº¦1ï¼šä½ç½®1å˜æˆè“è‰²ï¼Œè´¹ç”¨å¢åŠ `a+b=5+1=6`ï¼Œæ€»è´¹ç”¨`1+6=7`ï¼›  
   - é€‰æ‹©é«˜åº¦2ï¼šä½ç½®1å˜æˆçº¢è‰²ï¼Œè´¹ç”¨å¢åŠ `2a+2b=10+2=12`ï¼Œæ€»è´¹ç”¨`1+12=13`ï¼›  
3. **å¤„ç†åŒºé—´1**ï¼ˆ`s[1]='0'`ï¼‰ï¼š  
   - é€‰æ‹©é«˜åº¦1ï¼šä½ç½®2å˜æˆè“è‰²ï¼Œè´¹ç”¨å¢åŠ `a+b=5+1=6`ï¼Œæ€»è´¹ç”¨`7+6=13`ï¼ˆæ ·ä¾‹4çš„æ­£ç¡®ç»“æœï¼‰ï¼›  
4. **åˆ°è¾¾ç»ˆç‚¹**ï¼šä½ç½®2æ˜¯è“è‰²ï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆï¼Œæ˜¾ç¤ºæ€»è´¹ç”¨`13`ã€‚  

### æŠ€æœ¯å®ç°  
- **Canvasç»˜åˆ¶**ï¼šç”¨`canvas`ç»˜åˆ¶åƒç´ ç‚¹ï¼ˆè“è‰²/çº¢è‰²æ–¹å—ï¼‰å’Œè´¹ç”¨æ•°å­—ï¼›  
- **éŸ³æ•ˆ**ï¼šç”¨`Web Audio API`æ’­æ”¾8ä½é£æ ¼éŸ³æ•ˆï¼ˆå¦‚â€œå®â€â€œèƒœåˆ©â€ï¼‰ï¼›  
- **äº¤äº’**ï¼šç”¨`JavaScript`å®ç°â€œå•æ­¥â€â€œè‡ªåŠ¨æ’­æ”¾â€æŒ‰é’®ï¼Œæ§åˆ¶åŠ¨ç”»æµç¨‹ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»  
åŠ¨æ€è§„åˆ’ï¼ˆçº¿æ€§DPï¼Œä¸¤ç§çŠ¶æ€ï¼‰é€‚ç”¨äº**çº¿æ€§ç»“æ„ä¸­çš„é€‰æ‹©é—®é¢˜**ï¼Œä¾‹å¦‚ï¼š  
- è·¯å¾„é€‰æ‹©ï¼ˆå¦‚ã€Šè¿‡æ²³å’ã€‹ï¼Œé€‰æ‹©èµ°å³æˆ–ä¸‹ï¼‰ï¼›  
- ç‰©å“é€‰æ‹©ï¼ˆå¦‚ã€Š01èƒŒåŒ…ã€‹ï¼Œé€‰æ‹©æ‹¿æˆ–ä¸æ‹¿ï¼‰ï¼›  
- çŠ¶æ€è½¬ç§»ï¼ˆå¦‚ã€Šåˆå”±é˜Ÿå½¢ã€‹ï¼Œé€‰æ‹©é€’å¢æˆ–é€’å‡ï¼‰ã€‚  

### ç»ƒä¹ æ¨èï¼ˆæ´›è°·ï¼‰  
1. **æ´›è°· P1002 è¿‡æ²³å’**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šäºŒç»´çº¿æ€§DPçš„ç»å…¸é¢˜ï¼ŒçŠ¶æ€æ˜¯åˆ°è¾¾æŸä¸ªä½ç½®çš„è·¯å¾„æ•°ï¼Œè½¬ç§»æ–¹ç¨‹æ˜¯ä»å·¦è¾¹æˆ–ä¸Šè¾¹è½¬ç§»ï¼Œå¸®åŠ©å·©å›ºçŠ¶æ€å®šä¹‰å’Œè½¬ç§»æ–¹ç¨‹çš„æ¨å¯¼ã€‚  
2. **æ´›è°· P1216 æ•°å­—ä¸‰è§’å½¢**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šä¸€ç»´/äºŒç»´çº¿æ€§DPï¼ŒçŠ¶æ€æ˜¯åˆ°è¾¾æŸä¸ªä½ç½®çš„æœ€å¤§å’Œï¼Œè½¬ç§»æ–¹ç¨‹æ˜¯ä»ä¸Šæ–¹æˆ–å·¦ä¸Šæ–¹è½¬ç§»ï¼Œå¸®åŠ©ç»ƒä¹ çŠ¶æ€å‹ç¼©ã€‚  
3. **æ´›è°· P1048 é‡‡è¯**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼š01èƒŒåŒ…é—®é¢˜ï¼ŒçŠ¶æ€æ˜¯é€‰æˆ–ä¸é€‰æŸä¸ªç‰©å“ï¼Œè½¬ç§»æ–¹ç¨‹æ˜¯ä»é€‰æˆ–ä¸é€‰çš„çŠ¶æ€è½¬ç§»ï¼Œå¸®åŠ©å·©å›ºä¸¤ç§çŠ¶æ€çš„è½¬ç§»ã€‚  
4. **æ´›è°· P1802 5å€ç»éªŒæ—¥**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šäºŒç»´çº¿æ€§DPï¼ŒçŠ¶æ€æ˜¯é€‰æˆ–ä¸é€‰æŸä¸ªå¯¹æ‰‹ï¼Œè½¬ç§»æ–¹ç¨‹æ¶‰åŠè´¹ç”¨è®¡ç®—ï¼Œä¸æœ¬é¢˜çš„è½¬ç§»æ–¹ç¨‹ç±»ä¼¼ï¼Œå¸®åŠ©å·©å›ºè´¹ç”¨è®¡ç®—çš„æŠ€å·§ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«ï¼ˆè‹¥æœ‰ï¼‰

### å‚è€ƒç»éªŒï¼ˆæ¥è‡ªå¼•é¢†å¤©ä¸‹ï¼‰  
> â€œæ³¨æ„ï¼infè¦å¼€å¤§ï¼ä¸ç„¶ä¼šWAçš„QAQâ€  

### ç‚¹è¯„  
è¿™ä½ä½œè€…çš„ç»éªŒå¾ˆ**é‡è¦**â€”â€”æ— ç©·å¤§çš„è®¾ç½®è¦è¶³å¤Ÿå¤§ï¼Œé¿å…åœ¨è®¡ç®—è¿‡ç¨‹ä¸­è¢«é”™è¯¯åœ°é€‰ä¸­ã€‚ä¾‹å¦‚ï¼Œå½“æ‰€æœ‰çŠ¶æ€éƒ½æ˜¯æ— ç©·å¤§æ—¶ï¼Œ`min`å‡½æ•°ä¼šè¿”å›æ­£ç¡®çš„æ— ç©·å¤§ï¼Œå¦åˆ™ä¼šå¯¼è‡´é”™è¯¯çš„ç»“æœï¼ˆå¦‚æ ·ä¾‹ä¸­çš„â€œWAâ€ï¼‰ã€‚  

### å­¦ä¹ ç¬”è®°  
åœ¨DPä¸­ï¼Œæ— ç©·å¤§çš„è®¾ç½®è¦â€œè¶³å¤Ÿå¤§â€ï¼ˆå¦‚`1ll<<62`æˆ–`884888488848997`ï¼‰ï¼Œé¿å…æº¢å‡ºæˆ–é”™è¯¯ã€‚  


## ç»“è®º  
æœ¬æ¬¡åˆ†æäº†â€œGas Pipelineâ€é¢˜çš„**åŠ¨æ€è§„åˆ’è§£æ³•**ï¼ŒåŒ…æ‹¬çŠ¶æ€å®šä¹‰ã€è½¬ç§»æ–¹ç¨‹ã€è¾¹ç•Œæ¡ä»¶ã€ä»£ç å®ç°ã€å¯è§†åŒ–æ–¹æ¡ˆå’Œæ‹“å±•ç»ƒä¹ ã€‚å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶ç†è§£åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒæ€æƒ³ï¼ŒæŒæ¡è§£é¢˜æŠ€å·§ã€‚  

è®°ä½ï¼š**ç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äºæŒç»­å­¦ä¹ ã€å‹¤äºæ€è€ƒå’Œå‹‡äºå®è·µ**ï¼ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š284.21ç§’
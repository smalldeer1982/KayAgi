# é¢˜ç›®ä¿¡æ¯

# Wonderful Coloring - 2

## é¢˜ç›®æè¿°

This problem is an extension of the problem "Wonderful Coloring - 1". It has quite many differences, so you should read this statement completely.

Recently, Paul and Mary have found a new favorite sequence of integers $ a_1, a_2, \dots, a_n $ . They want to paint it using pieces of chalk of $ k $ colors. The coloring of a sequence is called wonderful if the following conditions are met:

1. each element of the sequence is either painted in one of $ k $ colors or isn't painted;
2. each two elements which are painted in the same color are different (i. e. there's no two equal values painted in the same color);
3. let's calculate for each of $ k $ colors the number of elements painted in the color â€” all calculated numbers must be equal;
4. the total number of painted elements of the sequence is the maximum among all colorings of the sequence which meet the first three conditions.

E. g. consider a sequence $ a=[3, 1, 1, 1, 1, 10, 3, 10, 10, 2] $ and $ k=3 $ . One of the wonderful colorings of the sequence is shown in the figure.

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1551B2/dbd09f59a345c41308d3382019b949ebfdfed535.png)The example of a wonderful coloring of the sequence $ a=[3, 1, 1, 1, 1, 10, 3, 10, 10, 2] $ and $ k=3 $ . Note that one of the elements isn't painted.Help Paul and Mary to find a wonderful coloring of a given sequence $ a $ .

## è¯´æ˜/æç¤º

In the first test case, the answer is shown in the figure in the statement. The red color has number $ 1 $ , the blue color â€” $ 2 $ , the green â€” $ 3 $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
6
10 3
3 1 1 1 1 10 3 10 10 2
4 4
1 1 1 1
1 1
1
13 1
3 1 4 1 5 9 2 6 5 3 5 8 9
13 2
3 1 4 1 5 9 2 6 5 3 5 8 9
13 3
3 1 4 1 5 9 2 6 5 3 5 8 9```

### è¾“å‡º

```
1 1 0 2 3 2 2 1 3 3
4 2 1 3
1
0 0 1 1 0 1 1 1 0 1 1 1 0
2 1 2 2 1 1 1 1 2 1 0 2 2
1 1 3 2 1 3 3 1 2 2 3 2 0```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šWonderful Coloring - 2 æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šè´ªå¿ƒç®—æ³• + è®¡æ•°æ’åºåº”ç”¨  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œWonderful Coloring - 2â€çš„å…³é”®ï¼Œæ˜¯ç”¨**è´ªå¿ƒç­–ç•¥**æœ€å¤§åŒ–æ»¡è¶³æ¡ä»¶çš„æŸ“è‰²æ•°é‡ã€‚ç®€å•æ¥è¯´ï¼Œè´ªå¿ƒå°±åƒâ€œåˆ†è›‹ç³•â€â€”â€”å…ˆç»™éœ€è¦å¤šå—çš„äººåˆ†å¤ŸåŸºç¡€ä»½é¢ï¼Œå†æŠŠå‰©ä¸‹çš„å…¬å¹³åˆ†ç»™å¤§å®¶ã€‚æœ¬é¢˜ä¸­ï¼Œè´ªå¿ƒçš„æ ¸å¿ƒæ˜¯ï¼š  
1. **ä¼˜å…ˆå¤„ç†é«˜é¢‘å…ƒç´ **ï¼šå¯¹äºå‡ºç°æ¬¡æ•°â‰¥kçš„æ•°å­—ï¼Œå…ˆç»™å®ƒä»¬åˆ†é…kç§ä¸åŒé¢œè‰²ï¼ˆä¿è¯åŒè‰²ä¸é‡å¤ï¼‰ï¼›  
2. **å…¬å¹³åˆ†é…å‰©ä½™å…ƒç´ **ï¼šå¯¹äºå‡ºç°æ¬¡æ•°<kçš„æ•°å­—ï¼Œæ’åºåä¾æ¬¡åˆ†é…é¢œè‰²ï¼Œç¡®ä¿æ¯ç§é¢œè‰²çš„æ•°é‡ç›¸ç­‰ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼š  
- å¦‚ä½•ä¿è¯â€œåŒè‰²å…ƒç´ å€¼ä¸åŒâ€ï¼Ÿâ†’ å¯¹åŒä¸€æ•°å­—ï¼Œæœ€å¤šåˆ†é…kæ¬¡ï¼ˆæ¯ç§é¢œè‰²1æ¬¡ï¼‰ï¼›  
- å¦‚ä½•ä¿è¯â€œå„é¢œè‰²æ•°é‡ç›¸ç­‰â€ï¼Ÿâ†’ æ’åºåæŒ‰é¡ºåºå¾ªç¯åˆ†é…é¢œè‰²ï¼ˆå¦‚1â†’2â†’â€¦â†’kâ†’1â†’â€¦ï¼‰ï¼›  
- å¦‚ä½•æœ€å¤§åŒ–æŸ“è‰²æ•°é‡ï¼Ÿâ†’ åªå–å‰`groups*k`ä¸ªå…ƒç´ ï¼ˆ`groups`æ˜¯èƒ½å‡åˆ†çš„æœ€å¤§ç»„æ•°ï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºåºåˆ—å…ƒç´ ï¼ˆæ–¹å—ä»£è¡¨å…ƒç´ ï¼Œé¢œè‰²ä»£è¡¨å€¼ï¼‰ï¼Œ**é«˜äº®å½“å‰å¤„ç†çš„å…ƒç´ **ï¼Œç”¨â€œå…¥é˜Ÿâ€åŠ¨ç”»ï¼ˆæ»‘å…¥é˜Ÿåˆ—ï¼‰è¡¨ç¤ºè¯¥å…ƒç´ è¢«é€‰ä¸­æŸ“è‰²ï¼Œ**å¾ªç¯é¢œè‰²å—**ï¼ˆçº¢â†’è“â†’ç»¿â†’â€¦ï¼‰å±•ç¤ºé¢œè‰²åˆ†é…è¿‡ç¨‹ã€‚å…³é”®æ“ä½œï¼ˆå¦‚æ’åºã€åˆ†é…é¢œè‰²ï¼‰ä¼´éšâ€œå®â€çš„åƒç´ éŸ³æ•ˆï¼Œå®Œæˆæ—¶æ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼Œå¢å¼ºè®°å¿†ç‚¹ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šæ¥æºï¼šStarlit_Nightï¼ˆèµï¼š8ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯**éå¸¸æ¸…æ™°**ï¼Œå®Œç¾è´´åˆè´ªå¿ƒç­–ç•¥çš„æ ¸å¿ƒé€»è¾‘ã€‚ä½œè€…ç”¨`cnt`æ•°ç»„ç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°ï¼Œå°†èƒ½æŸ“è‰²çš„å…ƒç´ ï¼ˆå‡ºç°æ¬¡æ•°<kï¼‰å­˜å…¥`vector`ï¼ˆè®°å½•å€¼å’Œä¸‹æ ‡ï¼‰ï¼Œæ’åºåå¾ªç¯åˆ†é…é¢œè‰²ã€‚ä»£ç **è§„èŒƒæ€§å¼º**ï¼ˆå˜é‡å`ans`ã€`cnt`å«ä¹‰æ˜ç¡®ï¼‰ï¼Œ**è¾¹ç•Œå¤„ç†ä¸¥è°¨**ï¼ˆé€šè¿‡`groups*k`ç¡®ä¿é¢œè‰²æ•°é‡ç›¸ç­‰ï¼‰ã€‚å…¶äº®ç‚¹åœ¨äº**æ’åºçš„å·§å¦™åº”ç”¨**â€”â€”å°†ç›¸åŒå€¼çš„å…ƒç´ æ’åœ¨ä¸€èµ·ï¼Œé¿å…äº†åŒè‰²é‡å¤çš„é—®é¢˜ï¼Œæ˜¯è§£å†³æœ¬é¢˜çš„å…³é”®æŠ€å·§ã€‚


### é¢˜è§£äºŒï¼šæ¥æºï¼šNXYorzï¼ˆèµï¼š2ï¼‰  
* **ç‚¹è¯„**ï¼š  
  æ­¤é¢˜è§£**é’ˆå¯¹æ€§å¼º**ï¼Œé‡ç‚¹å¤„ç†äº†â€œå‡ºç°æ¬¡æ•°<kçš„å…ƒç´ â€è¿™ä¸€éš¾ç‚¹ã€‚ä½œè€…ç”¨ç»“æ„ä½“`El`å­˜å‚¨å…ƒç´ çš„â€œå€¼â€å’Œâ€œä½ç½®â€ï¼Œæ’åºåä¾æ¬¡åˆ†é…é¢œè‰²ï¼ˆ`kkk`å¾ªç¯1â†’kï¼‰ã€‚ä»£ç **ç»“æ„æ¸…æ™°**ï¼ˆåˆ†ä¸¤éƒ¨åˆ†å¤„ç†é«˜é¢‘å’Œä½é¢‘å…ƒç´ ï¼‰ï¼Œ**æ•ˆç‡é«˜**ï¼ˆé¿å…äº†ä¸å¿…è¦çš„å†…å­˜æµªè´¹ï¼‰ã€‚å…¶äº®ç‚¹åœ¨äº**å°†å…ƒç´ è§†ä¸ºç‹¬ç«‹ä¸ªä½“**ï¼Œé€šè¿‡æ’åºç»Ÿä¸€å¤„ç†ï¼Œç®€åŒ–äº†é€»è¾‘ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚


### é¢˜è§£ä¸‰ï¼šæ¥æºï¼šKSTokiï¼ˆèµï¼š0ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„**å®ç°ç®€æ´**ï¼Œç”¨`vector`å­˜å‚¨æ¯ä¸ªæ•°å­—çš„ä¸‹æ ‡ï¼Œç›´æ¥åˆ†é…é«˜é¢‘å…ƒç´ çš„é¢œè‰²ï¼ˆå‰kä¸ªï¼‰ï¼Œå†å¤„ç†ä½é¢‘å…ƒç´ ï¼ˆæŒ‰é¡ºåºåˆ†kç»„ï¼‰ã€‚ä»£ç **å¯è¯»æ€§é«˜**ï¼ˆå˜é‡å`num`ã€`vec`å¯¹åº”æ•°å­—ä¸‹æ ‡å’Œä½é¢‘å…ƒç´ ï¼‰ï¼Œ**é€»è¾‘ç›´æ¥**ï¼ˆç¬¦åˆè´ªå¿ƒçš„â€œå…ˆåˆ†å¤šçš„ï¼Œå†åˆ†å°‘çš„â€æ€è·¯ï¼‰ã€‚å…¶äº®ç‚¹åœ¨äº**ç”¨vectoré«˜æ•ˆç®¡ç†ä¸‹æ ‡**ï¼Œé¿å…äº†å¤æ‚çš„ç»“æ„ä½“æ“ä½œï¼Œé€‚åˆå¿«é€Ÿç¼–ç ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. å…³é”®ç‚¹1ï¼šå¦‚ä½•ä¿è¯â€œåŒè‰²å…ƒç´ å€¼ä¸åŒâ€ï¼Ÿ  
* **åˆ†æ**ï¼š  
  å¯¹äºæ¯ä¸ªæ•°å­—ï¼Œè‹¥å‡ºç°æ¬¡æ•°â‰¥kï¼Œåˆ™åªå–å‰kä¸ªï¼ˆæ¯ç§é¢œè‰²1æ¬¡ï¼‰ï¼›è‹¥å‡ºç°æ¬¡æ•°<kï¼Œåˆ™æ’åºåä¾æ¬¡åˆ†é…ï¼ˆç›¸åŒå€¼çš„å…ƒç´ æ’åœ¨ä¸€èµ·ï¼Œå¾ªç¯é¢œè‰²ä¸ä¼šé‡å¤ï¼‰ã€‚ä¾‹å¦‚ï¼Œé¢˜è§£ä¸€ä¸­ç”¨`cnt[inp]<k`åˆ¤æ–­æ˜¯å¦åŠ å…¥`vector`ï¼Œç¡®ä¿åŒä¸€æ•°å­—æœ€å¤šè¢«åˆ†é…kæ¬¡ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŒä¸€æ•°å­—çš„æŸ“è‰²æ¬¡æ•°ä¸è¶…è¿‡kï¼Œæ˜¯é¿å…åŒè‰²é‡å¤çš„æ ¸å¿ƒã€‚


### 2. å…³é”®ç‚¹2ï¼šå¦‚ä½•ä¿è¯â€œå„é¢œè‰²æ•°é‡ç›¸ç­‰â€ï¼Ÿ  
* **åˆ†æ**ï¼š  
  å°†èƒ½æŸ“è‰²çš„å…ƒç´ æ’åºåï¼ŒæŒ‰é¡ºåºå¾ªç¯åˆ†é…é¢œè‰²ï¼ˆå¦‚`i%k+1`ï¼‰ã€‚ä¾‹å¦‚ï¼Œé¢˜è§£ä¸€ä¸­ç”¨`groups=v.size()/k`è®¡ç®—æœ€å¤§å‡åˆ†ç»„æ•°ï¼Œå–å‰`groups*k`ä¸ªå…ƒç´ ï¼Œç¡®ä¿æ¯ç§é¢œè‰²çš„æ•°é‡éƒ½æ˜¯`groups`ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¾ªç¯åˆ†é…é¢œè‰²+å–æ•´å¤„ç†ï¼Œæ˜¯ä¿è¯é¢œè‰²æ•°é‡ç›¸ç­‰çš„å…³é”®ã€‚


### 3. å…³é”®ç‚¹3ï¼šå¦‚ä½•æœ€å¤§åŒ–æŸ“è‰²æ•°é‡ï¼Ÿ  
* **åˆ†æ**ï¼š  
  ä¼˜å…ˆå¤„ç†é«˜é¢‘å…ƒç´ ï¼ˆç¡®ä¿å®ƒä»¬èƒ½è¢«å……åˆ†åˆ©ç”¨ï¼‰ï¼Œå†å¤„ç†ä½é¢‘å…ƒç´ ï¼ˆæ’åºåå‡åˆ†ï¼‰ã€‚ä¾‹å¦‚ï¼Œé¢˜è§£äºŒä¸­å…ˆå¤„ç†å‡ºç°æ¬¡æ•°â‰¥kçš„å…ƒç´ ï¼Œå†å¤„ç†ä½é¢‘å…ƒç´ ï¼Œç¡®ä¿æ‰€æœ‰èƒ½æŸ“è‰²çš„å…ƒç´ éƒ½è¢«åˆç†åˆ†é…ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè´ªå¿ƒç­–ç•¥çš„æ ¸å¿ƒæ˜¯â€œä¼˜å…ˆå¤„ç†ä»·å€¼é«˜çš„å…ƒç´ â€ï¼Œè¿™é‡Œçš„â€œä»·å€¼â€æ˜¯æŒ‡å…ƒç´ èƒ½è´¡çŒ®çš„æŸ“è‰²æ¬¡æ•°ã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **è®¡æ•°ç»Ÿè®¡**ï¼šç”¨æ•°ç»„ç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°ï¼Œå¿«é€Ÿåˆ¤æ–­æ˜¯å¦èƒ½æŸ“è‰²ï¼›  
- **æ’åºè¾…åŠ©**ï¼šå°†èƒ½æŸ“è‰²çš„å…ƒç´ æ’åºï¼Œé¿å…åŒè‰²é‡å¤ï¼›  
- **å¾ªç¯åˆ†é…**ï¼šç”¨`i%k+1`å¾ªç¯åˆ†é…é¢œè‰²ï¼Œç¡®ä¿æ•°é‡ç›¸ç­‰ï¼›  
- **è¾¹ç•Œå¤„ç†**ï¼šå–å‰`groups*k`ä¸ªå…ƒç´ ï¼Œæœ€å¤§åŒ–æŸ“è‰²æ•°é‡ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆStarlit_Nightå’ŒNXYorzçš„é¢˜è§£ï¼Œæç‚¼å‡ºæ¸…æ™°çš„æ ¸å¿ƒå®ç°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <algorithm>
  using namespace std;

  const int MAXN = 2e5 + 10;
  int ans[MAXN], cnt[MAXN];

  struct Element {
      int val, pos;
      bool operator<(const Element& other) const {
          return val < other.val; // æŒ‰å€¼æ’åºï¼Œé¿å…åŒè‰²é‡å¤
      }
  };

  int main() {
      int T;
      cin >> T;
      while (T--) {
          int n, k;
          cin >> n >> k;
          vector<Element> vec;
          fill(cnt, cnt + n + 1, 0); // é‡ç½®è®¡æ•°æ•°ç»„
          fill(ans, ans + n + 1, 0); // é‡ç½®ç­”æ¡ˆæ•°ç»„

          for (int i = 0; i < n; ++i) {
              int inp;
              cin >> inp;
              if (cnt[inp] < k) { // èƒ½æŸ“è‰²çš„å…ƒç´ ï¼ˆå‡ºç°æ¬¡æ•°<kï¼‰
                  vec.push_back({inp, i});
              }
              cnt[inp]++;
          }

          sort(vec.begin(), vec.end()); // æŒ‰å€¼æ’åºï¼Œé¿å…åŒè‰²é‡å¤
          int groups = vec.size() / k; // æœ€å¤§å‡åˆ†ç»„æ•°
          for (int i = 0; i < groups * k; ++i) {
              ans[vec[i].pos] = i % k + 1; // å¾ªç¯åˆ†é…é¢œè‰²
          }

          for (int i = 0; i < n; ++i) {
              cout << ans[i] << " ";
          }
          cout << endl;
      }
      return 0;
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šè¯»å–å¤šç»„æ•°æ®ï¼Œç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°ï¼›  
  2. **ç­›é€‰å…ƒç´ **ï¼šå°†èƒ½æŸ“è‰²çš„å…ƒç´ ï¼ˆå‡ºç°æ¬¡æ•°<kï¼‰å­˜å…¥`vector`ï¼ˆè®°å½•å€¼å’Œä½ç½®ï¼‰ï¼›  
  3. **æ’åº**ï¼šæŒ‰å€¼æ’åºï¼Œé¿å…åŒè‰²é‡å¤ï¼›  
  4. **åˆ†é…é¢œè‰²**ï¼šå¾ªç¯åˆ†é…é¢œè‰²ï¼Œç¡®ä¿æ•°é‡ç›¸ç­‰ï¼›  
  5. **è¾“å‡ºç»“æœ**ï¼šæŒ‰è¾“å…¥é¡ºåºè¾“å‡ºæŸ“è‰²ç»“æœã€‚


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### é¢˜è§£ä¸€ï¼ˆStarlit_Nightï¼‰  
* **äº®ç‚¹**ï¼šç”¨`vector`å­˜å‚¨èƒ½æŸ“è‰²çš„å…ƒç´ ï¼Œæ’åºåå¾ªç¯åˆ†é…é¢œè‰²ï¼Œé€»è¾‘æ¸…æ™°ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  vector<pair<int, int>> v;
  for (int i = 0; i < n; ++i) {
      cin >> inp;
      if (cnt[inp] < k) {
          v.push_back({inp, i}); // å­˜å‚¨å€¼å’Œä½ç½®
      }
      cnt[inp]++;
  }
  sort(v.begin(), v.end()); // æŒ‰å€¼æ’åº
  int groups = v.size() / k;
  for (int i = 0; i < groups * k; ++i) {
      ans[v[i].second] = i % k + 1; // å¾ªç¯åˆ†é…é¢œè‰²
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `v.push_back({inp, i})`ï¼šå­˜å‚¨èƒ½æŸ“è‰²çš„å…ƒç´ çš„â€œå€¼â€å’Œâ€œè¾“å…¥ä½ç½®â€ï¼Œæ–¹ä¾¿åç»­æ’åºå’Œåˆ†é…ï¼›  
  - `sort(v.begin(), v.end())`ï¼šæŒ‰å€¼æ’åºï¼Œç¡®ä¿ç›¸åŒå€¼çš„å…ƒç´ æ’åœ¨ä¸€èµ·ï¼Œé¿å…åŒè‰²é‡å¤ï¼›  
  - `i % k + 1`ï¼šå¾ªç¯åˆ†é…é¢œè‰²ï¼ˆ1â†’2â†’â€¦â†’kâ†’1â†’â€¦ï¼‰ï¼Œç¡®ä¿æ¯ç§é¢œè‰²çš„æ•°é‡ç›¸ç­‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºæ˜¯è§£å†³åŒè‰²é‡å¤é—®é¢˜çš„å…³é”®ï¼Œå¾ªç¯åˆ†é…æ˜¯ä¿è¯é¢œè‰²æ•°é‡ç›¸ç­‰çš„æ ¸å¿ƒã€‚


#### é¢˜è§£äºŒï¼ˆNXYorzï¼‰  
* **äº®ç‚¹**ï¼šå¤„ç†å‡ºç°æ¬¡æ•°<kçš„å…ƒç´ ï¼Œç”¨ç»“æ„ä½“å­˜å‚¨å€¼å’Œä½ç½®ï¼Œæ’åºååˆ†é…ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  struct El {
      int w, loc;
      bool operator<(const El& B) const { return w < B.w; }
  } b[N];
  // å¤„ç†é«˜é¢‘å…ƒç´ ï¼ˆå‡ºç°æ¬¡æ•°â‰¥kï¼‰
  for (int i = 1; i <= n; ++i) {
      if (sum[a[i]] >= k && cnt[a[i]] + 1 <= k) {
          ans[i] = ++cnt[a[i]];
      } else if (sum[a[i]] < k) {
          b[++tot].w = a[i], b[tot].loc = i; // å­˜å‚¨ä½é¢‘å…ƒç´ 
      }
  }
  sort(b + 1, b + 1 + tot); // æŒ‰å€¼æ’åº
  int kkk = 0;
  for (int i = 1; i <= tot; ++i) {
      ans[b[i].loc] = ++kkk;
      if (kkk + 1 > k) kkk = 0; // å¾ªç¯é¢œè‰²
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `sum[a[i]]`ï¼šç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°ï¼›  
  - `b[++tot].w = a[i], b[tot].loc = i`ï¼šå­˜å‚¨ä½é¢‘å…ƒç´ çš„â€œå€¼â€å’Œâ€œä½ç½®â€ï¼›  
  - `sort(b + 1, b + 1 + tot)`ï¼šæŒ‰å€¼æ’åºï¼Œé¿å…åŒè‰²é‡å¤ï¼›  
  - `++kkk; if (kkk + 1 > k) kkk = 0`ï¼šå¾ªç¯åˆ†é…é¢œè‰²ï¼ˆ1â†’2â†’â€¦â†’kâ†’1â†’â€¦ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆ†ä¸¤éƒ¨åˆ†å¤„ç†é«˜é¢‘å’Œä½é¢‘å…ƒç´ ï¼Œé€»è¾‘æ›´æ¸…æ™°ï¼Œé€‚åˆå¤æ‚é—®é¢˜ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Šåƒç´ æŸ“è‰²å¤§æŒ‘æˆ˜ã€‹ï¼ˆFCçº¢ç™½æœºé£æ ¼ï¼‰  
### è®¾è®¡æ€è·¯ç®€è¿°  
é‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼ˆä»¿ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹UIï¼‰ï¼Œç”¨**ä¸åŒé¢œè‰²çš„æ–¹å—**ä»£è¡¨åºåˆ—å…ƒç´ ï¼ˆå¦‚çº¢è‰²æ–¹å—ä»£è¡¨å€¼ä¸º3çš„å…ƒç´ ï¼‰ï¼Œ**é«˜äº®è¾¹æ¡†**è¡¨ç¤ºå½“å‰å¤„ç†çš„å…ƒç´ ï¼Œ**å¾ªç¯é¢œè‰²å—**ï¼ˆçº¢â†’è“â†’ç»¿â†’â€¦ï¼‰å±•ç¤ºé¢œè‰²åˆ†é…è¿‡ç¨‹ã€‚åŠ å…¥â€œå®â€çš„åƒç´ éŸ³æ•ˆï¼ˆå…³é”®æ“ä½œï¼‰å’Œâ€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆå®ŒæˆæŸ“è‰²ï¼‰ï¼Œå¢å¼ºè¶£å‘³æ€§ã€‚


### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¾ç¤ºåƒç´ åŒ–åºåˆ—ï¼ˆæ–¹å—æ’åˆ—æˆä¸€è¡Œï¼Œé¢œè‰²ä»£è¡¨å€¼ï¼‰ï¼›  
   - å³ä¾§æ˜¾ç¤ºâ€œæ§åˆ¶é¢æ¿â€ï¼ˆå¼€å§‹/æš‚åœã€å•æ­¥ã€é‡ç½®æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼‰ï¼›  
   - åº•éƒ¨æ˜¾ç¤ºâ€œé¢œè‰²åˆ†é…åŒºâ€ï¼ˆkä¸ªå½©è‰²æ–¹å—ï¼Œä»£è¡¨å½“å‰é¢œè‰²ï¼‰ã€‚  

2. **è¾“å…¥å¤„ç†**ï¼š  
   - è¾“å…¥åºåˆ—æ—¶ï¼Œæ–¹å—é€ä¸ªâ€œæ‰è½â€åˆ°åºåˆ—ä½ç½®ï¼Œä¼´éšâ€œå—’â€çš„éŸ³æ•ˆï¼›  
   - ç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°ï¼Œåœ¨æ–¹å—ä¸Šæ–¹æ˜¾ç¤ºå°æ•°å­—ï¼ˆå¦‚â€œÃ—3â€è¡¨ç¤ºå‡ºç°3æ¬¡ï¼‰ã€‚  

3. **ç­›é€‰å…ƒç´ **ï¼š  
   - å‡ºç°æ¬¡æ•°â‰¥kçš„å…ƒç´ ï¼Œæ–¹å—å‘¨å›´æ˜¾ç¤º**é»„è‰²è¾¹æ¡†**ï¼ˆæ ‡è®°ä¸ºâ€œé«˜é¢‘å…ƒç´ â€ï¼‰ï¼›  
   - å‡ºç°æ¬¡æ•°<kçš„å…ƒç´ ï¼Œæ–¹å—å‘¨å›´æ˜¾ç¤º**è“è‰²è¾¹æ¡†**ï¼ˆæ ‡è®°ä¸ºâ€œä½é¢‘å…ƒç´ â€ï¼‰ã€‚  

4. **æ’åºè¿‡ç¨‹**ï¼š  
   - ä½é¢‘å…ƒç´ æŒ‰å€¼æ’åºï¼Œæ–¹å—â€œæ»‘åŠ¨â€åˆ°æ­£ç¡®ä½ç½®ï¼Œä¼´éšâ€œå’»â€çš„éŸ³æ•ˆï¼›  
   - æ’åºå®Œæˆåï¼Œä½é¢‘å…ƒç´ æŒ‰å€¼æ’åˆ—ï¼Œç›¸åŒå€¼çš„æ–¹å—æ’åœ¨ä¸€èµ·ã€‚  

5. **é¢œè‰²åˆ†é…**ï¼š  
   - å¾ªç¯é¢œè‰²å—ï¼ˆçº¢â†’è“â†’ç»¿â†’â€¦ï¼‰é€ä¸ªâ€œç‚¹äº®â€ï¼Œä»£è¡¨å½“å‰åˆ†é…çš„é¢œè‰²ï¼›  
   - è¢«åˆ†é…é¢œè‰²çš„å…ƒç´ ï¼Œæ–¹å—é¢œè‰²å˜ä¸ºå½“å‰é¢œè‰²ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆï¼›  
   - åˆ†é…å®Œæˆåï¼Œé¢œè‰²åˆ†é…åŒºæ˜¾ç¤ºæ¯ç§é¢œè‰²çš„æ•°é‡ï¼ˆå¦‚â€œçº¢ï¼š2â€ï¼‰ã€‚  

6. **å®ŒæˆçŠ¶æ€**ï¼š  
   - æ‰€æœ‰å…ƒç´ åˆ†é…å®Œæˆåï¼Œå±å¹•æ˜¾ç¤ºâ€œèƒœåˆ©ï¼â€å­—æ ·ï¼Œä¼´éšâ€œä¹Œæ‹‰â€çš„éŸ³æ•ˆï¼›  
   - åºåˆ—æ–¹å—é—ªçƒï¼Œå±•ç¤ºæœ€ç»ˆæŸ“è‰²ç»“æœã€‚


### äº¤äº’è®¾è®¡  
- **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼ŒåŠ¨ç”»æ‰§è¡Œä¸€æ­¥ï¼ˆå¦‚ç­›é€‰ä¸€ä¸ªå…ƒç´ ã€æ’åºä¸€ä¸ªæ–¹å—ï¼‰ï¼›  
- **è‡ªåŠ¨æ’­æ”¾**ï¼šæ‹–åŠ¨é€Ÿåº¦æ»‘å—è°ƒæ•´æ’­æ”¾é€Ÿåº¦ï¼ˆå¦‚â€œæ…¢â€â†’â€œå¿«â€ï¼‰ï¼ŒåŠ¨ç”»è‡ªåŠ¨æ‰§è¡Œï¼›  
- **é‡ç½®åŠ¨ç”»**ï¼šç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œå›åˆ°åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
è´ªå¿ƒç®—æ³•+è®¡æ•°æ’åºçš„ç»„åˆï¼Œå¸¸ç”¨äº**èµ„æºåˆ†é…**ã€**æœ€å¤§åŒ–æ”¶ç›Š**ç­‰é—®é¢˜ï¼Œä¾‹å¦‚ï¼š  
- åˆå¹¶æœå­ï¼ˆå°†æœå­æŒ‰å¤§å°æ’åºï¼Œæ¯æ¬¡åˆå¹¶æœ€å°çš„ä¸¤å †ï¼‰ï¼›  
- æ··åˆç‰›å¥¶ï¼ˆé€‰æ‹©æœ€ä¾¿å®œçš„ç‰›å¥¶ï¼Œç›´åˆ°æ»¡è¶³éœ€æ±‚ï¼‰ï¼›  
- ä»»åŠ¡è°ƒåº¦ï¼ˆä¼˜å…ˆå¤„ç†çŸ­ä»»åŠ¡ï¼Œå‡å°‘æ€»ç­‰å¾…æ—¶é—´ï¼‰ã€‚


### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P1090** - åˆå¹¶æœå­  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯è´ªå¿ƒç®—æ³•çš„ç»å…¸ä¾‹é¢˜ï¼Œéœ€è¦å°†æœå­æŒ‰å¤§å°æ’åºï¼Œæ¯æ¬¡åˆå¹¶æœ€å°çš„ä¸¤å †ï¼Œå·©å›ºâ€œä¼˜å…ˆå¤„ç†å°å…ƒç´ â€çš„æ€è·¯ã€‚  
2. **æ´›è°· P1208** - æ··åˆç‰›å¥¶  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæ­¤é¢˜éœ€è¦é€‰æ‹©æœ€ä¾¿å®œçš„ç‰›å¥¶ï¼Œç›´åˆ°æ»¡è¶³éœ€æ±‚ï¼Œå·©å›ºâ€œè´ªå¿ƒé€‰æ‹©â€çš„æ ¸å¿ƒé€»è¾‘ã€‚  
3. **æ´›è°· P2249** - æŸ¥æ‰¾  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”¨æ’åº+äºŒåˆ†æŸ¥æ‰¾ï¼Œå·©å›ºâ€œæ’åºè¾…åŠ©â€çš„æŠ€å·§ï¼Œä¸æœ¬é¢˜çš„æ’åºé€»è¾‘ç±»ä¼¼ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)  
> **å‚è€ƒç»éªŒ (æ¥è‡ª Starlit_Night)**ï¼šâ€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆæ²¡æœ‰è€ƒè™‘åˆ°æ’åºçš„é‡è¦æ€§ï¼Œå¯¼è‡´åŒè‰²é‡å¤çš„é—®é¢˜ã€‚åæ¥é€šè¿‡æ’åºå°†ç›¸åŒå€¼çš„å…ƒç´ æ’åœ¨ä¸€èµ·ï¼Œå¾ªç¯åˆ†é…é¢œè‰²ï¼Œæ‰è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚â€  
> **ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå…¸å‹ã€‚æ’åºæ˜¯è§£å†³åŒè‰²é‡å¤é—®é¢˜çš„å…³é”®ï¼Œé€šè¿‡æ’åºå°†ç›¸åŒå€¼çš„å…ƒç´ é›†ä¸­å¤„ç†ï¼Œèƒ½æœ‰æ•ˆé¿å…é€»è¾‘é”™è¯¯ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œâ€œæ’åºè¾…åŠ©â€æ˜¯ä¸€ç§å¸¸ç”¨çš„æŠ€å·§ï¼Œå€¼å¾—å¤§å®¶ç‰¢è®°ã€‚


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œWonderful Coloring - 2â€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶ç†è§£è´ªå¿ƒç®—æ³•çš„æ ¸å¿ƒé€»è¾‘ï¼ŒæŒæ¡è®¡æ•°æ’åºã€å¾ªç¯åˆ†é…ç­‰æŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**æŒç»­ç»ƒä¹ **å’Œ**æ€»ç»“ç»éªŒ**â€”â€”ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜æ—¶ï¼Œä¸å¦¨è¯•è¯•ä»Šå¤©å­¦çš„è´ªå¿ƒç­–ç•¥ï¼ğŸ’ª  

å¦‚æœæœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿éšæ—¶å‘æˆ‘æé—®ï¼Œæˆ‘ä¼šå°½åŠ›å¸®åŠ©ä½ ï¼ğŸ˜Š

---
å¤„ç†ç”¨æ—¶ï¼š140.51ç§’
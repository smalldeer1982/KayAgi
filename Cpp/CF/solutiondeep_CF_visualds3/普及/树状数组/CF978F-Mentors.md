# é¢˜ç›®ä¿¡æ¯

# Mentors

## é¢˜ç›®æè¿°

In BerSoft $ n $ programmers work, the programmer $ i $ is characterized by a skill $ r_i $ .

A programmer $ a $ can be a mentor of a programmer $ b $ if and only if the skill of the programmer $ a $ is strictly greater than the skill of the programmer $ b $ $ (r_a > r_b) $ and programmers $ a $ and $ b $ are not in a quarrel.

You are given the skills of each programmers and a list of $ k $ pairs of the programmers, which are in a quarrel (pairs are unordered). For each programmer $ i $ , find the number of programmers, for which the programmer $ i $ can be a mentor.

## è¯´æ˜/æç¤º

In the first example, the first programmer can not be mentor of any other (because only the second programmer has a skill, lower than first programmer skill, but they are in a quarrel). The second programmer can not be mentor of any other programmer, because his skill is minimal among others. The third programmer can be a mentor of the second programmer. The fourth programmer can be a mentor of the first and of the second programmers. He can not be a mentor of the third programmer, because they are in a quarrel.

## æ ·ä¾‹ #1

### è¾“å…¥

```
4 2
10 4 10 15
1 2
4 3
```

### è¾“å‡º

```
0 0 1 2 
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
10 4
5 4 1 5 4 3 7 1 2 5
4 6
2 1
10 8
3 5
```

### è¾“å‡º

```
5 4 0 5 3 3 9 0 2 5 
```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šMentors æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

<introduction>
ä»Šå¤©æˆ‘ä»¬æ¥åˆ†æ"ç¨‹åºå‘˜å¯¼å¸ˆé…å¯¹"é—®é¢˜ã€‚è¿™é“é¢˜è€ƒå¯Ÿå¦‚ä½•é«˜æ•ˆè®¡ç®—æ¯ä¸ªç¨‹åºå‘˜èƒ½æŒ‡å¯¼çš„äººæ•°ï¼Œæ¶‰åŠæ’åºã€äºŒåˆ†æŸ¥æ‰¾å’Œè®¡æ•°æŠ€å·§ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©ä½ æŒæ¡æ ¸å¿ƒç®—æ³•æ€æƒ³å’Œå®ç°æŠ€å·§ã€‚
</introduction>

---

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`æ’åºä¸äºŒåˆ†æŸ¥æ‰¾åº”ç”¨` (ç¼–ç¨‹æŠ€å·§åº”ç”¨ç±»)

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> æƒ³è±¡æ¯ä¸ªç¨‹åºå‘˜æ˜¯ä¸åŒç­‰çº§çš„æˆ˜å£«ï¼Œæˆ‘ä»¬è¦è®¡ç®—æ¯ä¸ªæˆ˜å£«èƒ½æŒ‡å¯¼å¤šå°‘ç­‰çº§æ›´ä½çš„æˆ˜å£«ï¼Œä½†è¦æ’é™¤æœ‰ç§äººæ©æ€¨çš„ç»„åˆã€‚æ ¸å¿ƒæ€è·¯æ˜¯ï¼š
> 1. å…ˆè®¡ç®—æ¯ä¸ªç¨‹åºå‘˜**åŸæœ¬**èƒ½æŒ‡å¯¼çš„äººæ•°ï¼ˆæ‰€æœ‰æŠ€èƒ½å€¼ä½äºä»–çš„äººï¼‰
> 2. å†å‡å»**å› äº‰åµè€Œä¸èƒ½æŒ‡å¯¼**çš„ä½æŠ€èƒ½ç¨‹åºå‘˜
>
> **å…³é”®æŠ€å·§**ï¼šä½¿ç”¨æ’åº+äºŒåˆ†æŸ¥æ‰¾å¿«é€Ÿè®¡ç®—åˆå§‹æŒ‡å¯¼äººæ•°ï¼ˆæ—¶é—´å¤æ‚åº¦O(n log n)ï¼‰ï¼Œå†ç”¨æ•°ç»„è®°å½•äº‰åµå¯¼è‡´çš„æŸå¤±é‡ã€‚
>
> **å¯è§†åŒ–è®¾è®¡**ï¼šé‡‡ç”¨åƒç´ æˆ˜å£«å¯¹æˆ˜åœºæ™¯ï¼š
> - æ¯ä¸ªç¨‹åºå‘˜æ˜¾ç¤ºä¸ºåƒç´ æˆ˜å£«ï¼Œèº«é«˜=æŠ€èƒ½å€¼
> - æ’åºè¿‡ç¨‹å±•ç¤ºä¸ºæˆ˜å£«æŒ‰èº«é«˜æ’é˜Ÿ
> - äº‰åµå…³ç³»ç”¨é—ªç”µè¿æ¥
> - æœ€ç»ˆæŒ‡å¯¼æ•°æ˜¾ç¤ºåœ¨æˆ˜å£«å¤´é¡¶
> - éŸ³æ•ˆï¼šæ’åºæ—¶"å˜Ÿå˜Ÿ"å£°ï¼Œæ‰£é™¤æŒ‡å¯¼æ•°æ—¶"å’”åš“"å£°

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼š(ä½œè€…ï¼šSqrtSecond)**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°ç›´æ¥ï¼Œé€šè¿‡æ’åºå’Œ`lower_bound`å¿«é€Ÿè®¡ç®—åˆå§‹æŒ‡å¯¼äººæ•°ï¼Œå†ç”¨ç®€æ´çš„æ¡ä»¶åˆ¤æ–­å¤„ç†äº‰åµå…³ç³»ã€‚ä»£ç è§„èŒƒï¼šå˜é‡å`ans`ã€`a`ã€`b`å«ä¹‰æ˜ç¡®ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆè·³è¿‡æŠ€èƒ½ç›¸ç­‰æƒ…å†µï¼‰ã€‚äº®ç‚¹åœ¨äºäºŒåˆ†æŸ¥æ‰¾çš„æ ‡å‡†åº“åº”ç”¨ï¼Œä½¿ä»£ç ç®€æ´é«˜æ•ˆ(O(n log n))ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£äºŒï¼š(ä½œè€…ï¼šã€Œå·²æ³¨é”€ã€)**
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§åœ°ä½¿ç”¨ä¸‹æ ‡æ’åºé¿å…ç§»åŠ¨åŸæ•°ç»„ï¼Œé€šè¿‡é€’æ¨å·§å¦™å¤„ç†é‡å¤æŠ€èƒ½å€¼æƒ…å†µã€‚ç”¨`ruo`æ•°ç»„å­˜å‚¨åˆå§‹æŒ‡å¯¼äººæ•°ï¼Œ`h`æ•°ç»„è®°å½•äº‰åµæŸå¤±ï¼Œæœ€ç»ˆ`ruo[i]-h[i]`å¾—å‡ºç»“æœã€‚ç®—æ³•åŒæ ·é«˜æ•ˆ(O(n log n))ï¼Œå®è·µä»·å€¼é«˜ï¼Œä½†å˜é‡å‘½å`ruo`(å¼±)å¯è¯»æ€§ç¨å¼±ã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1.  **éš¾ç‚¹ï¼šé«˜æ•ˆè®¡ç®—åˆå§‹æŒ‡å¯¼äººæ•°**
    * **åˆ†æ**ï¼šæš´åŠ›éå†éœ€O(nÂ²)æ—¶é—´ã€‚ä¼˜è´¨è§£æ³•é‡‡ç”¨æ’åº+äºŒåˆ†ï¼š
        - å¯¹æŠ€èƒ½æ•°ç»„æ’åºåï¼Œç”¨`lower_bound`æ‰¾åˆ°é¦–ä¸ªâ‰¥å½“å‰å€¼çš„ä½ç½®
        - è¯¥ä½ç½®å‰çš„å…ƒç´ æ•°é‡å³åˆå§‹æŒ‡å¯¼äººæ•°
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºé¢„å¤„ç†æ˜¯ä¼˜åŒ–æŸ¥è¯¢çš„å…³é”®

2.  **éš¾ç‚¹ï¼šæ­£ç¡®å¤„ç†äº‰åµå½±å“**
    * **åˆ†æ**ï¼šåªéœ€åœ¨éå†äº‰åµå¯¹æ—¶ï¼Œè®©æŠ€èƒ½è¾ƒé«˜è€…çš„æŒ‡å¯¼æ•°å‡1
        ```cpp
        if(a[x]>a[y]) ans[x]--;
        else if(a[y]>a[x]) ans[y]--;
        ```
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šä¸å¿…å­˜å‚¨å®Œæ•´å…³ç³»ç½‘ï¼Œä»…éœ€è®°å½•æŸå¤±é‡

3.  **éš¾ç‚¹ï¼šå¤„ç†é‡å¤æŠ€èƒ½å€¼**
    * **åˆ†æ**ï¼šé¢˜è§£äºŒé€šè¿‡é€’æ¨å¤„ç†é‡å¤å€¼ï¼š
        ```cpp
        if(r[s[i]] > r[s[i-1]]) ruo[s[i]] = i-1;
        else ruo[s[i]] = ruo[s[i-1]]; // é‡å¤æŠ€èƒ½ç»§æ‰¿å‰å€¼
        ```
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé‡å¤å€¼ä¸å½±å“æŒ‡å¯¼å…³ç³»ï¼Œä½†å½±å“æ’åè®¡æ•°

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1ï¼šæ’åºé¢„å¤„ç†** - å°†æ— åºæŸ¥è¯¢è½¬åŒ–ä¸ºé«˜æ•ˆäºŒåˆ†æ“ä½œ
- **æŠ€å·§2ï¼šæŸå¤±ç´¯è®¡æ³•** - ç”¨æ•°ç»„å­˜å‚¨å…³ç³»æŸå¤±ï¼Œé¿å…å¤æ‚å…³ç³»ç½‘
- **æŠ€å·§3ï¼šè¾¹ç•Œä¸¥è°¨æ€§** - æ˜ç¡®å¤„ç†æŠ€èƒ½ç›¸ç­‰çš„æƒ…å†µï¼ˆäº’ä¸æŒ‡å¯¼ï¼‰

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
```cpp
#include <iostream>
#include <algorithm>
using namespace std;

const int MAXN = 2e5+5;
int n, m, a[MAXN], b[MAXN], ans[MAXN];

int main() {
    cin >> n >> m;
    for(int i=1; i<=n; i++) {
        cin >> a[i];
        b[i] = a[i]; // å¤åˆ¶æ•°ç»„ç”¨äºæ’åº
    }
    
    sort(b+1, b+n+1); // å…³é”®æ­¥éª¤1ï¼šæ’åº
    
    for(int i=1; i<=n; i++) {
        int pos = lower_bound(b+1, b+n+1, a[i]) - b; // å…³é”®æ­¥éª¤2ï¼šäºŒåˆ†æŸ¥æ‰¾
        ans[i] = pos - 1; // åˆå§‹æŒ‡å¯¼äººæ•°
    }
    
    while(m--) { // å¤„ç†äº‰åµå…³ç³»
        int x, y;
        cin >> x >> y;
        if(a[x] > a[y]) ans[x]--;
        else if(a[y] > a[x]) ans[y]--;
    }
    
    for(int i=1; i<=n; i++) 
        cout << ans[i] << " ";
    return 0;
}
```

**é¢˜è§£ä¸€èµæ**
```cpp
// æ ¸å¿ƒç‰‡æ®µï¼šäºŒåˆ†æŸ¥æ‰¾åˆå§‹æŒ‡å¯¼äººæ•°
sort(b+1,b+n+1);
for(int i=1;i<=n;++i) {
    int l=lower_bound(b+1,b+n+1,a[i])-b;
    ans[i]=l-1; // å°äºa[i]çš„å…ƒç´ æ•°é‡
}
```
> **è§£è¯»**ï¼š`lower_bound`è¿”å›é¦–ä¸ªâ‰¥`a[i]`çš„ä½ç½®ï¼Œä½ç½®ç´¢å¼•-1å³ä¸¥æ ¼å°äº`a[i]`çš„å…ƒç´ æ•°  
> ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ ‡å‡†åº“äºŒåˆ†å‡½æ•°å¤§å¹…ç®€åŒ–ä»£ç 

**é¢˜è§£äºŒèµæ**
```cpp
// æ ¸å¿ƒç‰‡æ®µï¼šé€’æ¨å¤„ç†é‡å¤å€¼
sort(s+1,s+n+1,cmp); // æŒ‰æŠ€èƒ½å€¼æ’åºä¸‹æ ‡
for(int i=2;i<=n;++i) {
    if(r[s[i]]>r[s[i-1]]) 
        ruo[s[i]]=i-1; // æ–°é«˜åº¦
    else 
        ruo[s[i]]=ruo[s[i-1]]; // ç»§æ‰¿å‰å€¼ï¼ˆå¤„ç†é‡å¤ï¼‰
}
```
> **è§£è¯»**ï¼šé€šè¿‡æ¯”è¾ƒç›¸é‚»å…ƒç´ å†³å®šæŒ‡å¯¼äººæ•°ï¼Œé‡å¤æŠ€èƒ½å€¼ç»§æ‰¿å‰å€¼  
> ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šä¸‹æ ‡æ’åºé¿å…ç§»åŠ¨åŸæ•°æ®ï¼Œä¿æŒåŸå§‹ç´¢å¼•

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼šåƒç´ æˆ˜å£«è®­ç»ƒè¥ï¼ˆ8-bité£æ ¼ï¼‰  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šæ’åºè¿‡ç¨‹ â†’ åˆå§‹æŒ‡å¯¼æ•°è®¡ç®— â†’ äº‰åµå½±å“æ‰£é™¤

1. **åˆå§‹åŒ–**ï¼š
   - æ˜¾ç¤ºnä¸ªåƒç´ æˆ˜å£«ï¼ˆä¸åŒé¢œè‰²/é«˜åº¦ä»£è¡¨æŠ€èƒ½å€¼ï¼‰
   - äº‰åµå…³ç³»ç”¨é—ªç”µè¿æ¥ï¼ˆçº¢è‰²é—ªç”µï¼‰

2. **æ’åºé˜¶æ®µ**ï¼š
   ```plaintext
   [æˆ˜å£«5](èº«é«˜=4) â†” [æˆ˜å£«2](èº«é«˜=10) â†’ äº¤æ¢åŠ¨ç”»
   ```
   - å†’æ³¡æ’åºåŠ¨ç”»å±•ç¤ºæˆ˜å£«æŒ‰èº«é«˜æ’é˜Ÿ
   - éŸ³æ•ˆï¼šå…ƒç´ äº¤æ¢æ—¶"å˜Ÿå˜Ÿ"å£°

3. **äºŒåˆ†è®¡ç®—**ï¼š
   ```plaintext
   æˆ˜å£«[3]èº«é«˜=10 â†’ åœ¨æ’åºé˜Ÿåˆ—ä½ç½®=3 â†’ æŒ‡å¯¼æ•°=2
   ```
   - æˆ˜å£«å¤´é¡¶æ˜¾ç¤ºè®¡ç®—è¿‡ç¨‹
   - é«˜äº®å½“å‰æˆ˜å£«å’Œæ’åºæ•°ç»„å¯¹åº”ä½ç½®

4. **äº‰åµå¤„ç†**ï¼š
   ```plaintext
   æˆ˜å£«[1]å’Œ[4]äº‰åµ â†’ æˆ˜å£«[1]æŠ€èƒ½æ›´é«˜ â†’ æ‰£é™¤1æŒ‡å¯¼æ•°
   ```
   - é—ªç”µè¿æ¥å˜çº¢é—ªçƒ
   - è¢«æ‰£é™¤çš„æŒ‡å¯¼æ•°æ˜¾ç¤º"-1"åŠ¨ç”»
   - éŸ³æ•ˆï¼šæ‰£é™¤æ—¶"å’”åš“"å£°

5. **äº¤äº’æ§åˆ¶**ï¼š
   - å•æ­¥æ‰§è¡Œï¼šç©ºæ ¼é”®
   - è°ƒé€Ÿæ»‘å—ï¼š1x~5xé€Ÿåº¦
   - AIæ¼”ç¤ºæ¨¡å¼ï¼šè‡ªåŠ¨å±•ç¤ºå®Œæ•´æµç¨‹

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

**é€šç”¨æŠ€å·§è¿ç§»**ï¼š
1. æ’åè®¡ç®—é—®é¢˜ï¼ˆå¦‚è®¡ç®—æˆç»©æ’åï¼‰
2. æœ‰æ¡ä»¶çš„å…³ç³»è®¡æ•°ï¼ˆå¦‚ç¤¾äº¤ç½‘ç»œå±è”½å…³ç³»ï¼‰
3. å¸¦çº¦æŸçš„é…å¯¹é—®é¢˜ï¼ˆå¦‚å¯¼å¸ˆåˆ†é…ç³»ç»Ÿï¼‰

**æ´›è°·æ¨è**ï¼š
1. **P1104** ç”Ÿæ—¥ - å·©å›ºå¤šå­—æ®µæ’åºæŠ€å·§
   > ğŸ—£ï¸ ç»ƒä¹ ç»“æ„ä½“æ’åºå’Œæ’åè®¡ç®—ï¼Œç±»ä¼¼æœ¬é¢˜é¢„å¤„ç†
2. **P1781** å®‡å®™æ€»ç»Ÿ - å¼ºåŒ–å¤§æ•°æ¯”è¾ƒå’Œç´¢å¼•ä¿æŒ
   > ğŸ—£ï¸ è®­ç»ƒä¿æŒåŸç´¢å¼•çš„æ’åºæŠ€å·§ï¼Œç±»ä¼¼é¢˜è§£äºŒæ–¹æ³•
3. **P1093** å¥–å­¦é‡‘ - å¤šæ¡ä»¶æ’åº+æ’åè®¡ç®—
   > ğŸ—£ï¸ æ‰©å±•å¤šæ¡ä»¶å¤„ç†èƒ½åŠ›ï¼Œæ·±åŒ–æ’åºåº”ç”¨åœºæ™¯

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **å‚è€ƒç»éªŒ (æ¥è‡ªé¢˜è§£ä½œè€…)**ï¼š  
> "æˆ‘åœ¨å¤„ç†äº‰åµå…³ç³»æ—¶ï¼Œæœ€åˆå¿½ç•¥äº†æŠ€èƒ½ç›¸ç­‰çš„æƒ…å†µï¼Œå¯¼è‡´é”™è¯¯æ‰£é™¤ã€‚é€šè¿‡æ·»åŠ `else if`æ¡ä»¶è§£å†³ã€‚"  
>   
> **ç‚¹è¯„**ï¼šè¿™æé†’æˆ‘ä»¬è¾¹ç•Œæ¡ä»¶çš„é‡è¦æ€§ï¼Œç‰¹åˆ«æ˜¯ç›¸ç­‰æƒ…å†µçš„å¤„ç†ã€‚åœ¨ç«èµ›ç¼–ç¨‹ä¸­ï¼Œç”¨å°è§„æ¨¡æµ‹è¯•éªŒè¯è¾¹ç•Œæ˜¯å¿…è¦æ­¥éª¤ã€‚

---

æœ¬æ¬¡åˆ†æå±•ç¤ºäº†æ’åºå’ŒäºŒåˆ†æŸ¥æ‰¾åœ¨å…³ç³»è®¡æ•°é—®é¢˜ä¸­çš„é«˜æ•ˆåº”ç”¨ã€‚è®°ä½ï¼šé¢„å¤„ç†æ’åºèƒ½å°†O(nÂ²)ä¼˜åŒ–ä¸ºO(n log n)ï¼Œè€Œåˆç†è®¾è®¡è®¡æ•°é€»è¾‘èƒ½é¿å…å¤æ‚å­˜å‚¨ç»“æ„ã€‚ç»§ç»­åŠ æ²¹ï¼Œå°‘å¹´ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š144.97ç§’
# 题目信息

# Petya and Square

## 题目描述

Little Petya loves playing with squares. Mum bought him a square $ 2n×2n $ in size. Petya marked a cell inside the square and now he is solving the following task.

The task is to draw a broken line that would go along the grid lines and that would cut the square into two equal parts. The cutting line should not have any common points with the marked cell and the resulting two parts should be equal up to rotation.

Petya wants to determine whether it is possible to cut the square in the required manner given the sizes of the square side and the coordinates of the marked cell. Help him.

## 说明/提示

A sample test from the statement and one of the possible ways of cutting the square are shown in the picture:

 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF112B/73a8bd680c4d33b060b29ddcf134c8221469d9f6.png)

## 样例 #1

### 输入

```
4 1 1
```

### 输出

```
YES
```

## 样例 #2

### 输入

```
2 2 2
```

### 输出

```
NO
```

# AI分析结果



---
# 💡 Kay的C++算法解析：Petya and Square 深入学习指南 💡

<introduction>
今天我们来一起分析“Petya and Square”这道C++编程题。这道题需要判断是否能在一个2n×2n的正方形中，用一条不经过标记单元格的折线将其分成两个可旋转重合的部分。本指南将帮助大家梳理思路，理解核心逻辑，并掌握解题技巧。
</introduction>

## 1. 题目解读与核心算法识别

✨ **本题主要考察**：`几何对称性分析与数学判断`

🗣️ **初步分析**：
解决这道题的关键在于理解正方形的对称性和分割线的必要条件。简单来说，要将正方形分成两个可旋转重合的部分，分割线必须经过正方形的**中心对称区域**。就像切蛋糕时，无论怎么切，只要经过蛋糕中心，两部分才可能大小相等。在本题中，我们需要判断标记的单元格是否位于这个中心区域——如果位于中心的四个格子，分割线必然会与之相交，无法满足条件；否则可以找到合适的分割线。

- **题解思路**：所有优质题解均指出，只需判断标记点是否在中心四个格子（坐标为(n/2, n/2)、(n/2, n/2+1)、(n/2+1, n/2)、(n/2+1, n/2+1)）即可。若在，输出NO；否则输出YES。
- **核心难点**：理解“分割线必须经过中心区域”这一几何特性，并准确计算中心四个格子的坐标范围。
- **可视化设计**：我们将用8位像素风格动画展示正方形网格，标记点用红色像素块表示，中心四个格子用黄色高亮。分割线动态绘制（如白色虚线），若标记点在中心区域，分割线会与红色块碰撞（播放“叮”的错误音效）；否则分割线成功绕开（播放“胜利”音效）。

---

## 2. 精选优质题解参考

<eval_intro>
通过评估思路清晰度、代码规范性和算法有效性，以下题解评分均≥4星，值得重点学习：
</eval_intro>

**题解一：作者simonG (赞：4)**
* **点评**：此题解通过多幅图示直观展示了分割线与中心区域的关系，清晰解释了“中心四个格子无法分割”的核心逻辑。代码中使用`read`函数优化输入效率，变量命名简洁（如`k`表示边长），边界条件处理严谨（直接判断坐标是否在中心范围）。实践价值高，适合竞赛场景。

**题解二：作者Stephen_Curry (赞：1)**
* **点评**：此题解代码极致简洁，使用三目运算符将逻辑压缩成一行，可读性强。思路直击核心——“判断是否在中心四个格子”，避免冗余步骤。适合学习如何用简洁代码实现复杂逻辑。

**题解三：作者hensier (赞：0)**
* **点评**：此题解通过几何证明（中心对称图形性质）推导结论，理论扎实。代码中使用位运算`n>>1`代替除法，提升运行效率，体现了优化意识。适合理解问题背后的数学原理。

---

## 3. 核心难点辨析与解题策略

<difficulty_intro>
在解决这个问题的过程中，我们需要突破以下核心难点：
</difficulty_intro>

1.  **关键点1**：如何确定分割线必须经过中心区域？
    * **分析**：正方形是中心对称图形，任何将其分成两部分且可旋转重合的分割线，必然经过其对称中心（即几何中心）。因此，若标记点位于中心附近的四个格子，分割线无法避开它。
    * 💡 **学习笔记**：中心对称图形的分割线必须经过对称中心，这是解决本题的关键几何性质。

2.  **关键点2**：如何计算中心四个格子的坐标？
    * **分析**：对于2n×2n的正方形，其中心区域的坐标范围是x=n/2和x=n/2+1，y=n/2和y=n/2+1（例如n=4时，中心格子为(2,2)、(2,3)、(3,2)、(3,3)）。通过简单的整数除法即可确定这些坐标。
    * 💡 **学习笔记**：中心区域的坐标可通过边长的一半（n/2）计算，注意整数除法的向下取整特性。

3.  **关键点3**：如何高效判断标记点是否在中心区域？
    * **分析**：只需检查标记点的x和y坐标是否同时满足x∈{n/2, n/2+1}且y∈{n/2, n/2+1}。这一判断时间复杂度为O(1)，非常高效。
    * 💡 **学习笔记**：直接的条件判断是解决此类几何位置问题的常用方法。

### ✨ 解题技巧总结
- **几何特性分析**：遇到对称图形的分割问题时，优先考虑其对称中心的作用。
- **边界条件简化**：通过观察样例和图示，将复杂问题转化为简单的坐标范围判断。
- **代码简洁性**：使用三目运算符或位运算（如`n>>1`代替`n/2`）简化代码，提升效率。

---

## 4. C++核心代码实现赏析

<code_intro_overall>
我们综合多份优质题解，提炼出一个简洁、高效的通用核心实现：
</code_intro_overall>

**本题通用核心C++实现参考**
* **说明**：本代码综合了simonG和Stephen_Curry的题解思路，代码简洁且逻辑清晰，适合直接用于竞赛。
* **完整核心代码**：
    ```cpp
    #include <iostream>
    using namespace std;

    int main() {
        int n, x, y;
        cin >> n >> x >> y;
        int center = n / 2;
        if ((x == center || x == center + 1) && (y == center || y == center + 1)) {
            cout << "NO" << endl;
        } else {
            cout << "YES" << endl;
        }
        return 0;
    }
    ```
* **代码解读概要**：
    > 代码首先读取输入的边长n和标记点坐标(x,y)。计算中心位置`center = n/2`，然后判断(x,y)是否在中心四个格子（x为center或center+1，且y为center或center+1）。若在，输出NO；否则输出YES。

---
<code_intro_selected>
接下来，我们分析优质题解的核心代码片段：
</code_intro_selected>

**题解一：作者Stephen_Curry**
* **亮点**：使用三目运算符将判断逻辑压缩成一行，代码极简。
* **核心代码片段**：
    ```cpp
    cout << ((x == n / 2|| x == n / 2 + 1) && (y == n / 2 || y == n / 2 + 1) ? "NO" : "YES");
    ```
* **代码解读**：
    > 这行代码通过三目运算符直接输出结果。条件部分判断(x,y)是否在中心四个格子：`(x == n/2||x == n/2+1)`检查x坐标，`(y == n/2||y == n/2+1)`检查y坐标，两者同时满足时输出NO，否则输出YES。这种写法简洁高效，避免了复杂的if-else结构。
* 💡 **学习笔记**：三目运算符适合简单的条件判断，能让代码更简洁易读。

**题解二：作者hensier**
* **亮点**：使用位运算`n>>1`代替除法，提升运行效率。
* **核心代码片段**：
    ```cpp
    puts((x==(n>>1)||x==(n>>1)+1)&&((y==(n>>1))||(y==(n>>1)+1))?"NO":"YES");
    ```
* **代码解读**：
    > `n>>1`是位运算中的右移操作，等价于`n/2`，但计算速度更快（尤其在大数情况下）。代码通过`puts`直接输出结果，避免了`cout`的额外开销，适合竞赛场景。
* 💡 **学习笔记**：位运算可优化整数除法的效率，是竞赛中的常用技巧。

-----

## 5\. 算法可视化：像素动画演示 (核心部分)

<visualization_intro>
为了直观理解“中心区域判断”的逻辑，我们设计一个8位像素风格的动画，模拟分割线与标记点的互动！
</visualization_intro>

  * **动画演示主题**：`像素方块大挑战——避开中心的分割线`

  * **核心演示内容**：
    展示一个2n×2n的像素网格（如n=4时，网格为8×8像素），标记点用红色像素块表示，中心四个格子用黄色高亮。分割线（白色虚线）从边缘向中心移动，尝试绕开红色块。若红色块在黄色区域，分割线会与红色块碰撞（播放“叮”的错误音效）；否则分割线成功穿过中心（播放“胜利”音效）。

  * **设计思路简述**：
    8位像素风格（如FC游戏画面）营造轻松氛围，黄色高亮中心区域强化关键概念。音效提示操作结果，帮助记忆；动态分割线让学习者直观看到“为何中心区域无法分割”。

  * **动画帧步骤与交互关键点**：

    1.  **场景初始化**：
          * 屏幕显示8×8像素网格（n=4），每个格子用16×16像素块表示，颜色为浅灰色。
          * 中心四个格子（坐标(2,2)、(2,3)、(3,2)、(3,3)）用亮黄色填充，标记“中心区”。
          * 控制面板包含“开始”按钮、速度滑块（1-5倍速）、重置按钮。

    2.  **标记点生成**：
          * 输入n和(x,y)后，红色像素块出现在对应位置（如样例1输入4 1 1，红色块在(1,1)）。

    3.  **分割线动态绘制**：
          * 点击“开始”，白色虚线从网格边缘（如左边界）向中心移动，速度由滑块控制。
          * 若红色块不在中心区，虚线绕过红色块，穿过中心（播放“胜利”音效，虚线变为绿色）。
          * 若红色块在中心区，虚线触碰到红色块（红色块闪烁，播放“叮”音效），动画暂停并显示“NO”。

    4.  **AI自动演示模式**：
          * 点击“AI演示”，程序自动生成多个测试用例（如n=2, x=2, y=2），动态展示不同位置的标记点对应的结果。

    5.  **游戏化积分**：
          * 学习者手动输入坐标，正确判断结果可获得积分（如成功避开中心区得10分），连续正确触发“连击奖励”（像素星星特效）。

  * **旁白提示**：
      * “看！黄色区域是正方形的中心，分割线必须经过这里～”
      * “如果红色块在黄色区域，分割线就会撞到它，无法成功哦！”
      * “恭喜！这次分割线完美避开了红色块，得10分～”

<visualization_conclusion>
通过这个像素动画，我们能直观看到标记点位置与分割线的关系，轻松理解“中心区域无法分割”的核心逻辑！
</visualization_conclusion>

-----

## 6\. 拓展练习与相似问题思考

<similar_problems_intro>
掌握本题后，我们可以尝试以下拓展练习，巩固几何分析能力：
</similar_problems_intro>

  * **通用思路/技巧迁移**：
    本题的核心是利用中心对称性判断位置关系，类似思路可用于：
    - 判断点是否在矩形中心区域（如判断棋子是否在棋盘中心）。
    - 设计对称图形的分割方案（如蛋糕切割、地图分区）。
    - 解决需要中心对称的几何构造问题（如拼图游戏中的对称块判断）。

  * **练习推荐 (洛谷)**：
    1.  **洛谷 P1003 铺地毯**
          * 🗣️ **推荐理由**：考察坐标判断与区域覆盖，需要分析矩形的位置关系，与本题的坐标分析思路类似。
    2.  **洛谷 P1047 校门外的树**
          * 🗣️ **推荐理由**：涉及区间覆盖与判断，锻炼对线段和点的位置关系的理解。
    3.  **洛谷 P1328 生活大爆炸版石头剪刀布**
          * 🗣️ **推荐理由**：通过规则分析判断胜负，培养逻辑推理能力，与本题的条件判断类似。

-----

## 7\. 学习心得与经验分享 (若有)

<insights_intro>
题解作者们的经验分享对我们很有启发：
</insights_intro>

> **参考经验 (来自作者hensier)**：“通过几何证明（中心对称图形性质）推导结论，比直接观察样例更可靠。”
>
> **点评**：hensier的经验提醒我们，遇到几何问题时，结合数学定理（如中心对称性）推导结论，能更深刻理解问题本质，避免因样例特殊而误判。这是解决几何类问题的重要方法！

-----

<conclusion>
本次关于“Petya and Square”的C++解题分析就到这里。希望这份指南能帮助你理解几何对称性的应用，并掌握坐标判断的解题技巧。记住，多观察、多推导，编程问题也能轻松解决！下次见～💪
</conclusion>

-----

---
处理用时：110.98秒
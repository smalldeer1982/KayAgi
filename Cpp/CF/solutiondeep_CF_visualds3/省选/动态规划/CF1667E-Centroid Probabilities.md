# é¢˜ç›®ä¿¡æ¯

# Centroid Probabilities

## é¢˜ç›®æè¿°

Consider every tree (connected undirected acyclic graph) with $ n $ vertices ( $ n $ is odd, vertices numbered from $ 1 $ to $ n $ ), and for each $ 2 \le i \le n $ the $ i $ -th vertex is adjacent to exactly one vertex with a smaller index.

For each $ i $ ( $ 1 \le i \le n $ ) calculate the number of trees for which the $ i $ -th vertex will be the centroid. The answer can be huge, output it modulo $ 998\,244\,353 $ .

A vertex is called a centroid if its removal splits the tree into subtrees with at most $ (n-1)/2 $ vertices each.

## è¯´æ˜/æç¤º

Example $ 1 $ : there are two possible trees: with edges $ (1-2) $ , and $ (1-3) $ â€” here the centroid is $ 1 $ ; and with edges $ (1-2) $ , and $ (2-3) $ â€” here the centroid is $ 2 $ . So the answer is $ 1, 1, 0 $ .

Example $ 2 $ : there are $ 24 $ possible trees, for example with edges $ (1-2) $ , $ (2-3) $ , $ (3-4) $ , and $ (4-5) $ . Here the centroid is $ 3 $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
3```

### è¾“å‡º

```
1 1 0```

## æ ·ä¾‹ #2

### è¾“å…¥

```
5```

### è¾“å‡º

```
10 10 4 0 0```

## æ ·ä¾‹ #3

### è¾“å…¥

```
7```

### è¾“å‡º

```
276 276 132 36 0 0 0```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šCentroid Probabilities æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## å¼•è¨€
ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æ**Centroid Probabilities**è¿™é“C++ç¼–ç¨‹é¢˜ã€‚è¿™é“é¢˜ç»“åˆäº†**æ ‘çš„ç»“æ„ç‰¹æ€§**ã€**ç»„åˆæ•°å­¦**å’Œ**å®¹æ–¥åŸç†**ï¼Œéœ€è¦æˆ‘ä»¬æ·±å…¥ç†è§£é‡å¿ƒçš„æ¡ä»¶ï¼Œå¹¶é€šè¿‡æ•°å­¦æ¨å¯¼ç®€åŒ–è®¡ç®—ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©ä½ æ¢³ç†é¢˜ç›®æ€è·¯ï¼ŒæŒæ¡æ ¸å¿ƒç®—æ³•ï¼Œå¹¶ç”¨åƒç´ åŠ¨ç”»ç›´è§‚å±•ç¤ºæµç¨‹ï¼


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šç»„åˆæ•°å­¦ä¸å®¹æ–¥åŸç†  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³è¿™é“é¢˜çš„å…³é”®ï¼Œæ˜¯å…ˆæŠŠé¢˜ç›®ä¸­çš„æ ‘ç»“æ„â€œç¿»è¯‘â€æˆæˆ‘ä»¬ç†Ÿæ‚‰çš„æ¨¡å‹ï¼Œå†ç”¨ç»„åˆæ•°å­¦è®¡ç®—æ–¹æ¡ˆæ•°ï¼Œæœ€åç”¨å®¹æ–¥ä¿®æ­£ç»“æœã€‚  

### 1.1 æ ‘çš„ç»“æ„è½¬åŒ–
é¢˜ç›®è¦æ±‚ï¼šæ¯ä¸ªèŠ‚ç‚¹`iâ‰¥2`çš„çˆ¶èŠ‚ç‚¹ç¼–å·æ¯”`i`å°ã€‚è¿™**ç­‰ä»·äºä»¥1ä¸ºæ ¹çš„æœ‰æ ¹æ ‘**â€”â€”æ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½åœ¨å®ƒä¹‹å‰ï¼ˆæ¯”å¦‚èŠ‚ç‚¹3çš„çˆ¶èŠ‚ç‚¹åªèƒ½æ˜¯1æˆ–2ï¼‰ã€‚è¿™ç§ç»“æ„è®©æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è®¡ç®—â€œå­æ ‘å¤§å°â€ã€‚

### 1.2 é‡å¿ƒçš„æ¡ä»¶
é‡å¿ƒçš„å®šä¹‰æ˜¯ï¼šåˆ é™¤è¯¥èŠ‚ç‚¹åï¼Œæ‰€æœ‰å­æ ‘çš„å¤§å°â‰¤`(n-1)/2`ï¼ˆ`n`æ˜¯å¥‡æ•°ï¼‰ã€‚æ ¹æ®é‡å¿ƒçš„æ€§è´¨ï¼Œè¿™ç­‰ä»·äº**è¯¥èŠ‚ç‚¹çš„å­æ ‘å¤§å°â‰¥`m`**ï¼ˆ`m=(n+1)/2`ï¼‰â€”â€”å› ä¸ºå­æ ‘å¤§å°â‰¥`m`æ—¶ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†â‰¤`n-m=(n-1)/2`ï¼Œåˆšå¥½æ»¡è¶³é‡å¿ƒæ¡ä»¶ã€‚

### 1.3 æ ¸å¿ƒæ€è·¯
1. **è®¡ç®—f[i]**ï¼šèŠ‚ç‚¹`i`çš„å­æ ‘å¤§å°â‰¥`m`çš„æ–¹æ¡ˆæ•°ï¼ˆç”¨ç»„åˆæ•°è®¡ç®—é€‰ç‚¹å’Œè¿è¾¹çš„æ–¹æ¡ˆï¼‰ã€‚  
2. **å®¹æ–¥ä¿®æ­£**ï¼š`f[i]`åŒ…å«äº†â€œé‡å¿ƒåœ¨`i`çš„å­æ ‘ä¸­â€çš„æƒ…å†µï¼Œéœ€è¦å‡å»è¿™äº›æ— æ•ˆæ–¹æ¡ˆï¼Œå¾—åˆ°æœ€ç»ˆç­”æ¡ˆ`ans[i] = f[i] - sum_{j>i} ans[j]/i`ï¼ˆ`1/i`æ˜¯é‡å¿ƒ`j`åœ¨`i`å­æ ‘ä¸­çš„æ¦‚ç‡ï¼‰ã€‚

### 1.4 å¯è§†åŒ–è®¾è®¡æ€è·¯
æˆ‘ä»¬ç”¨**8ä½FCçº¢ç™½æœºé£æ ¼**è®¾è®¡åŠ¨ç”»ï¼š  
- åƒç´ å—è¡¨ç¤ºèŠ‚ç‚¹ï¼ˆæ ¹1ä¸ºçº¢è‰²ï¼Œå…¶ä»–ä¸ºæµ…è“è‰²ï¼‰ï¼Œç»¿è‰²è¡¨ç¤ºâ€œå±äº`i`çš„å­æ ‘â€ã€‚  
- åŠ¨ç”»æ­¥éª¤ï¼šé€‰ç‚¹ï¼ˆç»¿è‰²é«˜äº®ï¼‰â†’è®¡ç®—æ–¹æ¡ˆæ•°ï¼ˆæ•°å­—æ°”æ³¡ï¼‰â†’å®¹æ–¥ä¿®æ­£ï¼ˆå‡æ³•åŠ¨ç”»ï¼‰ã€‚  
- éŸ³æ•ˆï¼šé€‰ç‚¹æ—¶â€œå®â€ï¼Œè®¡ç®—å®Œæˆâ€œæ»´â€ï¼Œèƒœåˆ©æ—¶â€œå®å®å½“â€ï¼Œå¢å¼ºè®°å¿†ç‚¹ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
ä»¥ä¸‹é¢˜è§£æ€è·¯æ¸…æ™°ã€ä»£ç è§„èŒƒï¼Œé€‚åˆå­¦ä¹ ï¼š

### é¢˜è§£ä¸€ï¼šmeyiçš„é¢˜è§£ï¼ˆèµ12ï¼‰
* **äº®ç‚¹**ï¼šç»„åˆæ•°åŒ–ç®€+çº¿æ€§æ—¶é—´ç®—æ³•ã€‚  
ä½œè€…å°†`f[i]`çš„æ±‚å’Œå¼åŒ–ç®€ä¸º`O(1)`è®¡ç®—ï¼ˆç”¨é˜¶ä¹˜å’Œé€†å…ƒï¼‰ï¼Œå¹¶é€šè¿‡é€†åºéå†ç»´æŠ¤åç¼€å’Œï¼Œå¿«é€Ÿå®Œæˆå®¹æ–¥ã€‚ä»£ç ç®€æ´ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆæ¯”å¦‚è´Ÿæ•°åŠ modï¼‰ã€‚

### é¢˜è§£äºŒï¼šConan15çš„é¢˜è§£ï¼ˆèµ3ï¼‰
* **äº®ç‚¹**ï¼šè¯¦ç»†çš„åŸç†è§£é‡Šã€‚  
ä½œè€…ä¸ä»…æ¨å¯¼äº†`f[i]`çš„åŒ–ç®€è¿‡ç¨‹ï¼Œè¿˜è§£é‡Šäº†â€œé‡å¿ƒæ¡ä»¶ç­‰ä»·äºå­æ ‘å¤§å°â‰¥`m`â€çš„åŸå› ï¼Œä»¥åŠå®¹æ–¥ä¸­â€œé™¤ä»¥`i`â€çš„æ¦‚ç‡é€»è¾‘ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚

### é¢˜è§£ä¸‰ï¼šSDqwqçš„é¢˜è§£ï¼ˆèµ0ï¼‰
* **äº®ç‚¹**ï¼šä»£ç è§„èŒƒæ€§ã€‚  
ä½œè€…é¢„å¤„ç†é˜¶ä¹˜ã€é€†å…ƒå’Œç»„åˆæ•°ï¼Œåˆ†æ­¥éª¤è®¡ç®—`f[i]`å’Œ`ans[i]`ï¼Œå‡½æ•°å‘½åæ¸…æ™°ï¼ˆå¦‚`getC`è®¡ç®—ç»„åˆæ•°ï¼‰ï¼Œæ³¨é‡Šè¯¦ç»†ï¼Œé€‚åˆå­¦ä¹ ä»£ç é£æ ¼ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
### 3.1 éš¾ç‚¹1ï¼šæ ‘ç»“æ„çš„è½¬åŒ–
**é—®é¢˜**ï¼šå¦‚ä½•ç†è§£â€œçˆ¶èŠ‚ç‚¹ç¼–å·æ›´å°â€ç­‰ä»·äºâ€œä»¥1ä¸ºæ ¹çš„æœ‰æ ¹æ ‘â€ï¼Ÿ  
**åˆ†æ**ï¼šæ¯ä¸ªæ–°èŠ‚ç‚¹`i`åªèƒ½è¿å‘å·²å­˜åœ¨çš„èŠ‚ç‚¹ï¼ˆç¼–å·æ›´å°ï¼‰ï¼Œæ‰€ä»¥æ ‘çš„ç»“æ„å¿…ç„¶æ˜¯ä»¥1ä¸ºæ ¹ï¼Œæ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹åœ¨`1~i-1`ä¹‹é—´ã€‚è¿™æ˜¯è§£é¢˜çš„åŸºç¡€ï¼  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå°†é¢˜ç›®æ¡ä»¶è½¬åŒ–ä¸ºç†Ÿæ‚‰çš„æ¨¡å‹ï¼Œæ˜¯è§£å†³å¤æ‚é—®é¢˜çš„å…³é”®ã€‚

### 3.2 éš¾ç‚¹2ï¼šf[i]çš„ç»„åˆæ•°åŒ–ç®€
**é—®é¢˜**ï¼šå¦‚ä½•å°†`f[i]`çš„æ±‚å’Œå¼è½¬åŒ–ä¸º`O(1)`è®¡ç®—ï¼Ÿ  
**åˆ†æ**ï¼š`f[i]`çš„åˆå§‹å¼æ˜¯æšä¸¾å­æ ‘å¤§å°`j`çš„æ±‚å’Œï¼ˆ`O(n^2)`ï¼‰ï¼Œä½†é€šè¿‡ç»„åˆæ•°å±•å¼€ï¼ˆ`C(n-i,j-1)= (n-i)!/(j-1)! (n-i-j+1)!`ï¼‰å’Œæ±‚å’Œå…¬å¼ï¼ˆ`Î£C(j,k) = C(n+1,k+1)`ï¼‰ï¼Œå¯ä»¥åŒ–ç®€ä¸ºï¼š  
`f[i] = (n-i)! Ã— (i-1)! Ã— C((n-1)/2, i-1)`  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç»„åˆæ•°çš„åŒ–ç®€æ˜¯è®¡æ•°é—®é¢˜çš„æ ¸å¿ƒæŠ€å·§ï¼Œè¦ç†Ÿç»ƒæŒæ¡é˜¶ä¹˜ã€é€†å…ƒå’Œç»„åˆæ•°çš„è®¡ç®—ã€‚

### 3.3 éš¾ç‚¹3ï¼šå®¹æ–¥çš„ç†è§£
**é—®é¢˜**ï¼šä¸ºä»€ä¹ˆ`ans[i] = f[i] - sum_{j>i} ans[j]/i`ï¼Ÿ  
**åˆ†æ**ï¼š`f[i]`åŒ…å«äº†â€œé‡å¿ƒæ˜¯`i`çš„å­èŠ‚ç‚¹`j`â€çš„æƒ…å†µã€‚å¯¹äº`j>i`ï¼Œ`j`åœ¨`i`å­æ ‘ä¸­çš„æ¦‚ç‡æ˜¯`1/i`ï¼ˆå› ä¸º`j`çš„çˆ¶èŠ‚ç‚¹å¯ä»¥æ˜¯`1~j-1`ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œ`i`æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼‰ã€‚å› æ­¤éœ€è¦å‡å»è¿™äº›æ— æ•ˆæ–¹æ¡ˆã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå®¹æ–¥åŸç†æ˜¯ä¿®æ­£è®¡æ•°ç»“æœçš„åˆ©å™¨ï¼Œè¦ç†è§£æ¯ä¸ªä¿®æ­£é¡¹çš„å«ä¹‰å’Œæ¦‚ç‡ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
### 4.1 æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šç»¼åˆmeyiã€Conan15å’ŒSDqwqçš„æ€è·¯ï¼Œé¢„å¤„ç†é˜¶ä¹˜ã€é€†å…ƒå’Œç»„åˆæ•°ï¼Œçº¿æ€§è®¡ç®—`f[i]`å’Œ`ans[i]`ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <cstdio>
const int maxn = 2e5 + 10, mod = 998244353;
long long ans[maxn], fac[maxn], ifac[maxn], inv[maxn];
int n, m, sum;

long long ksm(long long a, int b) {
    long long res = 1;
    while (b) {
        if (b & 1) res = res * a % mod;
        a = a * a % mod;
        b >>= 1;
    }
    return res;
}

void precompute() {
    fac[0] = 1;
    for (int i = 1; i <= n; ++i) fac[i] = fac[i-1] * i % mod;
    ifac[n] = ksm(fac[n], mod-2);
    for (int i = n-1; i >= 0; --i) ifac[i] = ifac[i+1] * (i+1) % mod;
    inv[1] = 1;
    for (int i = 2; i <= n; ++i) inv[i] = ksm(i, mod-2);
}

long long C(int n, int k) {
    if (n < 0 || k < 0 || n < k) return 0;
    return fac[n] * ifac[k] % mod * ifac[n - k] % mod;
}

int main() {
    scanf("%d", &n);
    m = (n + 1) >> 1;
    precompute();
    
    // è®¡ç®—f[i]
    for (int i = 1; i <= n; ++i) {
        if (i == 1) ans[i] = fac[n-1]; // f[1] = (n-1)!ï¼ˆæ ¹çš„å­æ ‘å¤§å°æ˜¯nï¼‰
        else if (i > m) ans[i] = 0;    // i>mæ—¶ï¼Œå­æ ‘å¤§å°æ— æ³•â‰¥m
        else ans[i] = fac[n-i] * fac[i-1] % mod * C((n-1)/2, i-1) % mod;
    }
    
    // é€†åºè®¡ç®—ans[i]ï¼Œç»´æŠ¤åç¼€å’Œsum
    sum = 0;
    for (int i = n; i >= 1; --i) {
        if (i > 1) ans[i] = (ans[i] - sum * inv[i] % mod + mod) % mod;
        sum = (sum + ans[i]) % mod;
    }
    
    for (int i = 1; i <= n; ++i) printf("%lld ", ans[i]);
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
1. **é¢„å¤„ç†**ï¼šè®¡ç®—é˜¶ä¹˜`fac`ã€é€†é˜¶ä¹˜`ifac`ï¼ˆç”¨äºç»„åˆæ•°ï¼‰å’Œé€†å…ƒ`inv`ï¼ˆç”¨äºæ¨¡ä¸‹é™¤æ³•ï¼‰ã€‚  
2. **è®¡ç®—f[i]**ï¼š`i=1`æ—¶`f[1]=(n-1)!`ï¼›`i>m`æ—¶`f[i]=0`ï¼›å¦åˆ™ç”¨åŒ–ç®€åçš„å¼å­è®¡ç®—ã€‚  
3. **å®¹æ–¥ä¿®æ­£**ï¼šé€†åºéå†`i`ï¼Œç»´æŠ¤åç¼€å’Œ`sum`ï¼ˆ`j>i`çš„`ans[j]`ä¹‹å’Œï¼‰ï¼Œå‡å»`sum*inv[i]`å¾—åˆ°æœ€ç»ˆ`ans[i]`ã€‚

### 4.2 é¢˜è§£ä¸€ï¼ˆmeyiï¼‰æ ¸å¿ƒä»£ç ç‰‡æ®µèµæ
* **äº®ç‚¹**ï¼šç®€æ´çš„`f[i]`è®¡ç®—ä¸å®¹æ–¥ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
for(int i=n-m+1;i;--i){
    ans[i] = (1LL * fac[n-i] * fac[n-m] % mod * ifac[n-i-m+1] - 1LL * inv[i] * sum) % mod;
    if (ans[i] < 0) ans[i] += mod;
    sum = (sum + ans[i]) % mod;
}
```
* **ä»£ç è§£è¯»**ï¼š  
è¿™é‡Œ`f[i]`ç”¨äº†å¦ä¸€ç§åŒ–ç®€å½¢å¼ï¼ˆ`(n-i)! Ã— (n-m)! / (n-i-m+1)!`ï¼‰ï¼Œä¸ä¹‹å‰çš„å¼å­ç­‰ä»·ã€‚é€†åºéå†ç»´æŠ¤`sum`ï¼Œç›´æ¥è®¡ç®—`ans[i]`ï¼Œä»£ç æ›´ç´§å‡‘ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç»„åˆæ•°çš„åŒ–ç®€å¯ä»¥æœ‰å¤šç§å½¢å¼ï¼Œé€‰æ‹©æœ€ç®€æ´çš„æ–¹å¼èƒ½å‡å°‘ä»£ç é‡ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
### 5.1 åŠ¨ç”»ä¸»é¢˜ï¼šåƒç´ æ ‘çš„é‡å¿ƒè®¡æ•°ä¹‹æ—…ï¼ˆFCé£æ ¼ï¼‰
### 5.2 æ ¸å¿ƒæ¼”ç¤ºå†…å®¹
å±•ç¤º**èŠ‚ç‚¹`i`çš„å­æ ‘é€‰ç‚¹â†’`f[i]`è®¡ç®—â†’å®¹æ–¥ä¿®æ­£**çš„å®Œæ•´æµç¨‹ï¼Œç”¨åƒç´ å—å’ŒéŸ³æ•ˆå¢å¼ºç›´è§‚æ€§ã€‚

### 5.3 åŠ¨ç”»å¸§æ­¥éª¤ï¼ˆä»¥n=3ä¸ºä¾‹ï¼‰
1. **åˆå§‹åŒ–**ï¼šå±å¹•æ˜¾ç¤º3ä¸ªåƒç´ èŠ‚ç‚¹ï¼ˆ1çº¢ã€2æµ…è“ã€3æµ…è“ï¼‰ï¼Œæ§åˆ¶é¢æ¿æœ‰â€œå¼€å§‹â€â€œå•æ­¥â€æŒ‰é’®ã€‚èƒŒæ™¯éŸ³ä¹æ˜¯FCé£æ ¼çš„è½»å¿«æ—‹å¾‹ã€‚  
2. **é€‰ç‚¹è¿‡ç¨‹**ï¼šé«˜äº®èŠ‚ç‚¹2ï¼ˆ`i=2`ï¼‰ï¼Œä»`i+1=3`ä¸­é€‰`j-1=1`ä¸ªèŠ‚ç‚¹ï¼ˆèŠ‚ç‚¹3å˜ç»¿è‰²ï¼‰ã€‚å±å¹•ä¸‹æ–¹æ˜¾ç¤ºâ€œé€‰ç‚¹æ–¹æ¡ˆæ•°ï¼šC(1,1)=1â€ï¼Œæ’­æ”¾â€œå®â€éŸ³æ•ˆã€‚  
3. **è®¡ç®—f[i]**ï¼šæ˜¾ç¤ºå­æ ‘å†…æ–¹æ¡ˆæ•°`(j-1)! =1! =1`ï¼Œå­æ ‘å¤–æ–¹æ¡ˆæ•°`(n-j-1)! =0! =1`ï¼Œ`i`çš„çˆ¶èŠ‚ç‚¹æ–¹æ¡ˆæ•°`i-1=1`ã€‚è®¡ç®—`f[2]=1Ã—1Ã—1=1`ï¼Œå±å¹•æ˜¾ç¤ºâ€œf[2]=1â€ï¼Œæ’­æ”¾â€œæ»´â€éŸ³æ•ˆã€‚  
4. **å®¹æ–¥ä¿®æ­£**ï¼šé€†åºéå†`i=3`ï¼ˆ`ans[3]=0`ï¼‰â†’`i=2`ï¼ˆ`ans[2] =1 - sumÃ—inv[2] =1 -0=1`ï¼‰â†’`i=1`ï¼ˆ`ans[1] =2! - sumÃ—inv[1] =2 -1=1`ï¼‰ã€‚å±å¹•æ˜¾ç¤ºæœ€ç»ˆç»“æœâ€œ1 1 0â€ï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆã€‚

### 5.4 äº¤äº’è®¾è®¡
- **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼Œæ¯æ­¥å±•ç¤ºä¸€ä¸ªæ“ä½œï¼ˆé€‰ç‚¹â†’è®¡ç®—â†’å®¹æ–¥ï¼‰ã€‚  
- **è‡ªåŠ¨æ’­æ”¾**ï¼šé€Ÿåº¦å¯è°ƒï¼ˆæ»‘å—æ§åˆ¶ï¼‰ï¼Œè‡ªåŠ¨æ¼”ç¤ºå®Œæ•´æµç¨‹ã€‚  
- **é‡ç½®**ï¼šå›åˆ°åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
### 6.1 é€šç”¨æ€è·¯è¿ç§»
ç»„åˆæ•°å­¦ç”¨äºè®¡ç®—**é€‰ç‚¹/è¿è¾¹çš„æ–¹æ¡ˆæ•°**ï¼Œå®¹æ–¥åŸç†ç”¨äº**ä¿®æ­£æ— æ•ˆè®¡æ•°**ã€‚è¿™ç±»æ€è·¯é€‚ç”¨äºï¼š
- è®¡ç®—æ»¡è¶³æ¡ä»¶çš„æ ‘/æ’åˆ—/å›¾çš„æ•°é‡ï¼›
- æœ‰çº¦æŸçš„è®¡æ•°é—®é¢˜ï¼ˆå¦‚â€œä¸èƒ½åŒ…å«æŸäº›ç»“æ„â€ï¼‰ã€‚

### 6.2 æ´›è°·ç»ƒä¹ æ¨è
1. **æ´›è°· P2822 ç»„åˆæ•°é—®é¢˜**ï¼šè€ƒå¯Ÿç»„åˆæ•°çš„é¢„å¤„ç†ï¼Œå·©å›ºé˜¶ä¹˜ã€é€†å…ƒçš„è®¡ç®—ã€‚  
   * æ¨èç†ç”±ï¼šéœ€è¦è®¡ç®—å¤§é‡ç»„åˆæ•°ï¼Œä¸æœ¬é¢˜çš„é¢„å¤„ç†éƒ¨åˆ†å®Œå…¨ä¸€è‡´ã€‚  
2. **æ´›è°· P3904 ä¸‰åªå°çŒª**ï¼šè€ƒå¯Ÿå®¹æ–¥åŸç†çš„åº”ç”¨ï¼Œå­¦ä¹ å¦‚ä½•ä¿®æ­£è®¡æ•°ç»“æœã€‚  
   * æ¨èç†ç”±ï¼šç”¨å®¹æ–¥å‡å»ä¸æ»¡è¶³æ¡ä»¶çš„æƒ…å†µï¼Œä¸æœ¬é¢˜çš„å®¹æ–¥é€»è¾‘ç›¸åŒã€‚  
3. **æ´›è°· P4071 æ’åˆ—è®¡æ•°**ï¼šè€ƒå¯Ÿç»„åˆæ•°å­¦ä¸åŠ¨æ€è§„åˆ’çš„ç»“åˆï¼Œå·©å›ºæ–¹æ¡ˆæ•°è®¡ç®—ã€‚  
   * æ¨èç†ç”±ï¼šè®¡ç®—æ»¡è¶³æ¡ä»¶çš„æ’åˆ—æ•°ï¼Œä¸æœ¬é¢˜çš„ç»„åˆæ•°åº”ç”¨ç±»ä¼¼ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
1. **é¢„å¤„ç†çš„é‡è¦æ€§**ï¼šé˜¶ä¹˜ã€é€†å…ƒçš„é¢„å¤„ç†èƒ½å°†æ—¶é—´å¤æ‚åº¦ä»`O(n^2)`é™åˆ°`O(n)`ï¼Œæ˜¯ç»„åˆæ•°å­¦é—®é¢˜çš„åŸºç¡€ã€‚  
2. **æ¨¡å‹è½¬åŒ–çš„æŠ€å·§**ï¼šå°†â€œçˆ¶èŠ‚ç‚¹æ›´å°â€è½¬åŒ–ä¸ºâ€œä»¥1ä¸ºæ ¹çš„æ ‘â€ï¼Œè®©é—®é¢˜å˜å¾—å¯è§£ã€‚è¦å­¦ä¼šå°†é™Œç”Ÿæ¡ä»¶è½¬åŒ–ä¸ºç†Ÿæ‚‰çš„æ¨¡å‹ã€‚  
3. **å®¹æ–¥çš„å…³é”®**ï¼šç†è§£æ¯ä¸ªä¿®æ­£é¡¹çš„å«ä¹‰ï¼ˆæ¯”å¦‚`sum ans[j]/i`æ˜¯â€œé‡å¿ƒåœ¨å­æ ‘ä¸­çš„æ–¹æ¡ˆæ•°â€ï¼‰ï¼Œè€Œä¸æ˜¯æ­»è®°å…¬å¼ã€‚


## ç»“è®º
é€šè¿‡è¿™é“é¢˜ï¼Œæˆ‘ä»¬å­¦ä¼šäº†**æ ‘ç»“æ„çš„è½¬åŒ–**ã€**ç»„åˆæ•°çš„åŒ–ç®€**å’Œ**å®¹æ–¥åŸç†çš„åº”ç”¨**ã€‚ç¼–ç¨‹çš„æ ¸å¿ƒæ˜¯â€œå°†é—®é¢˜æ‹†è§£ä¸ºå¯è§£å†³çš„å°æ­¥éª¤â€â€”â€”å…ˆç®—`f[i]`ï¼Œå†ä¿®æ­£`ans[i]`ï¼Œæœ€åå¾—åˆ°ç»“æœã€‚

è®°ä½ï¼š**æŒç»­æ€è€ƒ+å®è·µ**æ˜¯æå‡ç¼–ç¨‹èƒ½åŠ›çš„å…³é”®ï¼ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç®—æ³•æŒ‘æˆ˜å§ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š176.51ç§’
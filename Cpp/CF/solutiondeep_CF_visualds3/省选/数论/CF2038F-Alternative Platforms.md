# é¢˜ç›®ä¿¡æ¯

# Alternative Platforms

## é¢˜ç›®æè¿°

Suppose you are working in the Ministry of Digital Development of Berland, and your task is to monitor the industry of video blogging.

There are $ n $ bloggers in Berland. Recently, due to the poor state of the main video platform in Berland, two alternative platforms were introduced. That's why bloggers started to reupload their videos to these alternative platforms. You've got the statistics that the $ i $ -th blogger uploaded $ v_i $ videos to the first alternative platform and $ r_i $ videos to the second alternative platform.

You think that a potential user will be upset if even at least one of his favorite bloggers doesn't upload anything. However, if a blogger uploads videos to both platforms, the user will watch that blogger on the platform where more videos are available. So, you've come up with the following function to estimate user experience. Suppose a user watches $ k $ bloggers $ b_1, b_2, \dots, b_k $ ; then, let user experience be $ $$$E(b_1, \dots, b_k) = \max\left(\min_{i=1..k}{v[b_i]}, \min_{i=1..k}{r[b_i]}\right). $ $ </p><p>In order to get some statistics, you want to calculate the value  $ \\mathit{avg}\_k $  that is equal to an average experience among all subsets of bloggers of size  $ k $ . Also, you have to calculate  $ \\mathit{avg}\_k $  for each  $ k $  from  $ 1 $  to  $ n $ .</p><p>Since answers may be too large, print them modulo  $ 998\\,244\\,353$$$.

## è¯´æ˜/æç¤º

In the first example, $ 332748119 $ is $ \frac{4}{3} $ . In the third example, $ 199648873 $ is $ \frac{12}{5} $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
2 1 2
1 2 1```

### è¾“å‡º

```
2 332748119 1```

## æ ·ä¾‹ #2

### è¾“å…¥

```
4
5 5 5 5
0 0 0 0```

### è¾“å‡º

```
5 5 5 5```

## æ ·ä¾‹ #3

### è¾“å…¥

```
5
1 9 3 7 5
2 4 6 8 5```

### è¾“å‡º

```
6 4 3 199648873 2```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šAlternative Platforms æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šç»„åˆè®¡æ•°ä¸ç”Ÿæˆå‡½æ•°ï¼ˆNTTä¼˜åŒ–ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> æœ¬é¢˜æ ¸å¿ƒåœ¨äºé«˜æ•ˆè®¡ç®—æ‰€æœ‰å¤§å°ä¸ºkçš„å­é›†çš„å¹³å‡ç”¨æˆ·ä½“éªŒå€¼ã€‚é€šè¿‡ç»å…¸æ’ç­‰å¼ $\max(a,b)=a+b-\min(a,b)$ å°†åŸé—®é¢˜æ‹†åˆ†ä¸ºä¸‰ä¸ªç‹¬ç«‹å­é—®é¢˜ï¼š  
> - è®¡ç®— $\min\{v_i\}$ çš„æ€»å’Œ  
> - è®¡ç®— $\min\{r_i\}$ çš„æ€»å’Œ  
> - è®¡ç®— $\min\{\min(v_i,r_i)\}$ çš„æ€»å’Œ  
> æ¯ä¸ªå­é—®é¢˜è½¬åŒ–ä¸ºï¼šå¯¹æ’åºåçš„åºåˆ—ï¼Œè®¡ç®—æ¯ä¸ªå…ƒç´ ä½œä¸ºæœ€å°å€¼çš„è´¡çŒ®ï¼ˆ$a_i \times \binom{n-i}{k-1}$ï¼‰ã€‚  
>  
> **å…³é”®éš¾ç‚¹**ï¼šç›´æ¥è®¡ç®—å¤æ‚åº¦ $O(n^2)$ ä¸å¯æ¥å—ï¼Œéœ€ç”¨ç”Ÿæˆå‡½æ•°ä¼˜åŒ–ï¼š  
> 1. æ„é€ å¤šé¡¹å¼ $F(x) = \sum a_i \cdot (n-i)! \cdot x^i$  
> 2. æ„é€ å¤šé¡¹å¼ $G(x) = \sum \frac{1}{j!} \cdot x^j$  
> 3. å·ç§¯åæå– $[x^{n-k+1}]$ é¡¹å¹¶ä¹˜ä»¥ $\frac{1}{(k-1)!}$  
>  
> **å¯è§†åŒ–è®¾è®¡**ï¼š  
> é‡‡ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºä¸‰ä¸ªåºåˆ—çš„æ’åºè¿‡ç¨‹ï¼ˆå†’æ³¡ç®—æ³•åŠ¨ç”»ï¼‰ï¼Œå¤šé¡¹å¼å·ç§¯æ—¶ç”¨åˆ†æ²»åŠ¨ç”»æ¼”ç¤ºè´è¶æ“ä½œã€‚å…³é”®æ­¥éª¤ï¼š  
> - å…ƒç´ æ¯”è¾ƒæ—¶è§¦å‘â€œå˜€â€å£°ï¼Œäº¤æ¢æ—¶è§¦å‘â€œå’”â€å£°  
> - å·ç§¯åˆ†æ²»é˜¶æ®µç”¨å››ç§é¢œè‰²åŒºåˆ†åŒºé—´  
> - ç»“æœåˆå¹¶æ—¶æ˜¾ç¤ºåƒç´ åŒ–æ¡å½¢å›¾å¯¹æ¯”  
> æ§åˆ¶é¢æ¿æ”¯æŒè°ƒé€Ÿæ»‘å—ï¼ˆ0.5x-4xï¼‰å’Œå•æ­¥è°ƒè¯•æ¨¡å¼ã€‚

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€**ï¼ˆä½œè€…ï¼š_jimmywang_ï¼‰  
* **ç‚¹è¯„**ï¼šæ€è·¯æœ€æ¸…æ™°å®Œæ•´ï¼Œä»é—®é¢˜æ‹†åˆ†åˆ°NTTå®ç°å±‚å±‚é€’è¿›ã€‚äº®ç‚¹ï¼š  
  - ç›´æ¥åº”ç”¨ $\max(a,b)=a+b-\min(a,b)$ æ‹†åˆ†é—®é¢˜ï¼Œé€»è¾‘ç›´ç™½  
  - ä»£ç è§„èŒƒï¼šé¢„å¤„ç†é˜¶ä¹˜/NTTåˆ†ç¦»ï¼Œå˜é‡å `fac/invfac` å«ä¹‰æ˜ç¡®  
  - ä¼˜åŒ–ç‚¹ï¼šå¤ç”¨å·ç§¯æ¨¡æ¿ï¼Œé¿å…å†—ä½™è®¡ç®—  
  - å®è·µä»·å€¼ï¼šå®Œæ•´å¯ç¼–è¯‘çš„NTTå®ç°ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨  

**é¢˜è§£äºŒ**ï¼ˆä½œè€…ï¼šxiezheyuanï¼‰  
* **ç‚¹è¯„**ï¼šæ¡¶æ’åº+åç¼€å’Œé¢„å¤„ç†æå…·å¯å‘æ€§ã€‚äº®ç‚¹ï¼š  
  - ç”¨æ¡¶ç»Ÿè®¡ $\geq i$ çš„å…ƒç´ æ•°é‡ï¼Œæ•°å­¦è½¬æ¢å·§å¦™  
  - ç©ºé—´ä¼˜åŒ–ï¼šç”¨å•æ•°ç»„ `cnt[]` æ›¿ä»£ä¸‰ç»´æ•°ç»„  
  - ä»£ç å¯è¯»æ€§ï¼šæ¨¡å—åŒ– `solve()` å‡½æ•°å¤„ç†ä¸‰ä¸ªåºåˆ—  
  - è°ƒè¯•æç¤ºï¼šæ˜ç¡®å€¼åŸŸèŒƒå›´ $10^6$ çš„æ¡¶å¤§å°è®¾ç½®  

**é¢˜è§£ä¸‰**ï¼ˆä½œè€…ï¼šPetit_Sourisï¼‰  
* **ç‚¹è¯„**ï¼šæœ€ç®€æ´é«˜æ•ˆçš„å®ç°ã€‚äº®ç‚¹ï¼š  
  - ä½¿ç”¨ç°æˆçš„å¤šé¡¹å¼æ¨¡æ¿ï¼Œå‡å°‘200è¡Œä»£ç   
  - ç»„åˆæ•°é¢„å¤„ç† `binom()` å‡½æ•°å¤ç”¨æ€§å¼º  
  - å·¥ç¨‹å®è·µï¼š`resize()` é¿å…å†…å­˜æµªè´¹  
  - å¤æ‚åº¦æ§åˆ¶ï¼šä¸¥æ ¼ $O(n \log n)$  

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **é—®é¢˜æ‹†åˆ†çš„æ•°å­¦è½¬åŒ–**  
   * **åˆ†æ**ï¼šè¯†åˆ« $\max(\min v, \min r)$ å¯æ‹†è§£ä¸ºä¸‰ä¸ªç‹¬ç«‹æœ€å°å€¼æ±‚å’Œï¼Œéœ€æ·±å…¥ç†è§£ç»„åˆæ’ç­‰å¼ã€‚é¢˜è§£ä¸­é€šè¿‡æ’åºä½¿è´¡çŒ®ç‹¬ç«‹ï¼Œé¿å…äº¤é›†å¹²æ‰°ã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤æ‚è¡¨è¾¾å¼åˆ†è§£ä¸ºç‹¬ç«‹å­é—®é¢˜æ˜¯é™ä½éš¾åº¦çš„å…³é”®ã€‚

2. **ç»„åˆæ±‚å’Œçš„å·ç§¯ä¼˜åŒ–**  
   * **åˆ†æ**ï¼šè´¡çŒ®å¼ $\sum a_i \binom{n-i}{k-1}$ å«ä¸¤ä¸ªå˜é‡ã€‚é€šè¿‡å¼•å…¥é˜¶ä¹˜é¡¹æ„é€ å¤šé¡¹å¼ï¼Œå°†ç»„åˆæ•°æ±‚å’Œè½¬åŒ–ä¸ºå·ç§¯å½¢å¼ï¼Œç”¨NTTå°† $O(n^2)$ ä¼˜åŒ–è‡³ $O(n \log n)$ã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå½“æ±‚å’Œå¼ä¸­å« $\binom{n-i}{k}$ å½¢å¼æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘ç”Ÿæˆå‡½æ•°å·ç§¯ã€‚

3. **è¾¹ç•Œå¤„ç†ä¸å¸¸æ•°ä¼˜åŒ–**  
   * **åˆ†æ**ï¼šå·ç§¯é•¿åº¦éœ€æ‰©å±•è‡³ $2^{\lceil \log n \rceil}$ï¼Œæ¡¶æ’åºå€¼åŸŸèŒƒå›´éœ€è¦†ç›– $\max(v_i,r_i)$ã€‚ä¼˜è´¨é¢˜è§£ç”¨ `resize()` ç»Ÿä¸€é•¿åº¦ï¼Œé¿å…è¶Šç•Œã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šNTTå‰å¿…é¡»å¯¹é½å¤šé¡¹å¼æ¬¡æ•°ï¼Œå¦åˆ™ä¼šå¯¼è‡´è®¡ç®—ç»“æœåç§»ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§ä¸€ï¼šæ•°å­¦è½¬åŒ–å…ˆè¡Œ**  
  å¤æ‚è¡¨è¾¾å¼å…ˆå°è¯•æ’ç­‰å¼åˆ†è§£ï¼ˆå¦‚ $\max/\min$ è½¬æ¢ï¼‰ï¼Œå†è€ƒè™‘ç®—æ³•ä¼˜åŒ–ã€‚
- **æŠ€å·§äºŒï¼šç»„åˆè®¡æ•°å·ç§¯åŒ–**  
  è¯†åˆ«å½¢å¦‚ $\sum f(i) \binom{g(i)}{k}$ çš„å¼å­ç«‹å³æ„é€  $F(x)=\sum f(i)\cdot i! \cdot x^i$ å’Œ $G(x)=\sum \frac{x^j}{j!}$ã€‚
- **æŠ€å·§ä¸‰ï¼šæ¨¡å—åŒ–NTTç»„ä»¶**  
  é¢„å¤„ç†é˜¶ä¹˜/NTTåè½¬æ•°ç»„ï¼Œå®ç°å¯å¤ç”¨çš„ `mul()` å·ç§¯å‡½æ•°ã€‚
- **æŠ€å·§å››ï¼šæ¡¶æ’åºæ›¿ä»£å…¨æ’åº**  
  å½“å€¼åŸŸè¾ƒå°ï¼ˆ$V \leq 10^6$ï¼‰æ—¶ï¼Œç”¨æ¡¶æ’åº $O(n+V)$ ä»£æ›¿ $O(n \log n)$ æ’åºã€‚

---

### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**  
* **è¯´æ˜**ï¼šç»¼åˆä¼˜è´¨é¢˜è§£æ€è·¯ï¼ŒåŒ…å«å®Œæ•´NTTæ¨¡æ¿å’Œæ¡¶æ’åºä¼˜åŒ–
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
  ```cpp
  #include <bits/stdc++.h>
  #define rep(i,a,b) for(int i=(a);i<=(b);++i)
  using namespace std;
  typedef long long ll;
  const int N=(1<<18)+10,mod=998244353;

  ll qpow(ll a,ll b){...} // å¿«é€Ÿå¹‚
  void ntt(vector<ll>& a,int f){...} // NTTæ ¸å¿ƒ
  vector<ll> mul(vector<ll> a,vector<ll> b){...} // å¤šé¡¹å¼å·ç§¯

  int main() {
      int n; cin>>n;
      vector<ll> v(n),r(n),m(n);
      rep(i,0,n-1) {
          cin>>v[i]>>r[i];
          m[i]=min(v[i],r[i]);
      }
      // æ¡¶æ’åºé¢„å¤„ç†
      vector<int> cnt_v(1000010,0),cnt_r=cnt_v,cnt_m=cnt_v;
      for(ll x:v) cnt_v[x]++;
      for(ll x:r) cnt_r[x]++;
      for(ll x:m) cnt_m[x]++;

      // åç¼€å’Œè®¡ç®—â‰¥içš„å…ƒç´ æ•°
      rep(i,1,1000000){
          cnt_v[i]+=cnt_v[i-1];
          cnt_r[i]+=cnt_r[i-1];
          cnt_m[i]+=cnt_m[i-1];
      }

      auto solve=[&](vector<int>& cnt)->vector<ll>{
          vector<ll> f(n+1,0),g(n+1,0);
          rep(i,1,n) f[i]=1LL*i*cnt[i]%mod; // è´¡çŒ®ç³»æ•°
          rep(i,0,n) g[i]=qpow(fac[i],mod-2); // 1/i!
          auto res=mul(f,g);
          vector<ll> ans;
          rep(k,1,n) 
              ans[k]=res[n+k]*qpow(C(n,k),mod-2)%mod; // å·ç§¯ç»“æœæå–
          return ans;
      };

      auto ans_v=solve(cnt_v),ans_r=solve(cnt_r),ans_m=solve(cnt_m);
      rep(k,1,n) 
          cout<<(ans_v[k]+ans_r[k]-ans_m[k]+mod)%mod<<" ";
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
  1. æ¡¶ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°ï¼Œåç¼€å’Œè®¡ç®—â‰¥içš„å…ƒç´ æ•°
  2. æ„é€ å¤šé¡¹å¼ï¼š$f[i]=i \cdot \text{cnt}[i]$ å’Œ $g[i]=1/i!$
  3. NTTå·ç§¯åå–ç»“æœ $[x^{n+k}]$ é¡¹
  4. åˆå¹¶ä¸‰ä¸ªå­é—®é¢˜çš„ç»“æœ

---

#### å„é¢˜è§£æ ¸å¿ƒç‰‡æ®µèµæ
**é¢˜è§£ä¸€**ï¼ˆ_jimmywang_ï¼‰  
* **äº®ç‚¹**ï¼šæ¸…æ™°å±•ç¤º $\max/\min$ æ‹†è§£æ€è·¯
* **æ ¸å¿ƒä»£ç **ï¼š
  ```cpp
  rep(i,1,n) a[i]=v[i]+r[i]-min(v[i],r[i]); // å…³é”®æ‹†åˆ†
  rep(i,0,n) f[i]=a[i]*fac[n-i]%mod, g[i]=invfac[i];
  ```
* **å­¦ä¹ ç¬”è®°**ï¼š$\max(a,b)$ æ‹†è§£æ˜¯é™ä½é—®é¢˜å¤æ‚åº¦çš„æ ¸å¿ƒæŠ€å·§

**é¢˜è§£äºŒ**ï¼ˆxiezheyuanï¼‰  
* **äº®ç‚¹**ï¼šæ¡¶æ’åº+åç¼€å’Œé¢„å¤„ç†
* **æ ¸å¿ƒä»£ç **ï¼š
  ```cpp
  rep(i,1,1000000) cnt_v[i]+=cnt_v[i-1]; // åç¼€å’Œ
  rep(i,1,n) f[i]=i*cnt_v[i]%mod; // è´¡çŒ®ç³»æ•°
  ```
* **å­¦ä¹ ç¬”è®°**ï¼šå€¼åŸŸè¾ƒå°æ—¶æ¡¶æ’åºæ˜¾è‘—ä¼˜äºå¿«æ’

**é¢˜è§£ä¸‰**ï¼ˆPetit_Sourisï¼‰  
* **äº®ç‚¹**ï¼šæ¨¡å—åŒ–NTTå®ç°
* **æ ¸å¿ƒä»£ç **ï¼š
  ```cpp
  vector<ll> mul(vector<ll> a,vector<ll> b){
      int n=1; while(n<a.size()+b.size()) n<<=1;
      a.resize(n); b.resize(n);
      ntt(a,1); ntt(b,1); // å˜æ¢åˆ°é¢‘åŸŸ
      rep(i,0,n-1) a[i]=a[i]*b[i]%mod;
      ntt(a,-1); // é€†å˜æ¢
      return a;
  }
  ```
* **å­¦ä¹ ç¬”è®°**ï¼šNTTæ¨¡æ¿åº”å®ç°ä¸ºå¯å¤ç”¨ç»„ä»¶

---

### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**ä¸»é¢˜**ï¼š8ä½åƒç´ é£æ ¼ç»„åˆè®¡æ•°ä¹‹æ—…  
**è®¾è®¡æ€è·¯**ï¼šä»¿FCæ¸¸æˆã€Šé©¬é‡Œå¥¥ã€‹çš„ç –å—ä¸–ç•Œï¼Œç”¨ä¸åŒé¢œè‰²åƒç´ å—è¡¨ç¤ºåºåˆ—å…ƒç´ ï¼Œå·ç§¯è¿‡ç¨‹å‘ˆç°ä¸ºç –å—åˆå¹¶åŠ¨ç”»ã€‚

**åŠ¨ç”»å¸§æ­¥éª¤**ï¼š  
1. **åˆå§‹åŒ–åœºæ™¯**  
   - ä¸‰ä¸ªåºåˆ—å¹¶æ’æ˜¾ç¤ºï¼š$v_i$ï¼ˆè“è‰²ç –å—ï¼‰ã€$r_i$ï¼ˆç»¿è‰²ç –å—ï¼‰ã€$\min$ï¼ˆé»„è‰²ç –å—ï¼‰
   - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœæŒ‰é’®ã€é€Ÿåº¦æ»‘å—ï¼ˆ0.5x-4xï¼‰ã€å•æ­¥æ‰§è¡Œ

2. **æ¡¶æ’åºé˜¶æ®µ**  
   - ç –å—æŒ‰å€¼å¤§å°è½å…¥åº•éƒ¨ä¼ é€å¸¦ï¼ˆæ¡¶æ’åºè¿‡ç¨‹ï¼‰
   - è®¡æ•°åŠ¨ç”»ï¼šæ¯ä¸ªæ¡¶ä¸Šæ–¹æ˜¾ç¤ºè®¡æ•°å™¨ï¼Œæ•°å€¼å¢åŠ æ—¶æ’­æ”¾â€œå’”å—’â€å£°
   - å…³é”®æ“ä½œï¼šå½“ç –å—è½å…¥æ¡¶æ—¶ï¼Œæ¡¶é—ªçƒé»„è‰²è¾¹æ¡†

3. **åç¼€å’Œè®¡ç®—**  
   - æ¡¶ä¹‹é—´å‡ºç°ç®­å¤´ï¼Œå€¼ä»å·¦å‘å³ç´¯åŠ ï¼ˆåç¼€å’Œï¼‰
   - ç´¯åŠ æ—¶æ’­æ”¾æµæ°´éŸ³æ•ˆï¼Œç»“æœæ¡¶å˜ä¸ºçº¢è‰²

4. **å¤šé¡¹å¼å·ç§¯**ï¼ˆæ ¸å¿ƒæ¼”ç¤ºï¼‰  
   - **é˜¶æ®µ1**ï¼šå¤šé¡¹å¼æ„é€   
     $f$ åºåˆ—æ˜¾ç¤ºä¸ºé½¿è½®é“¾ï¼Œ$g$ åºåˆ—æ˜¾ç¤ºä¸ºä¼ é€å¸¦
   - **é˜¶æ®µ2**ï¼šNTTåˆ†æ²»  
     å±å¹•åˆ†è£‚ä¸ºå››å—åŒºåŸŸï¼Œè´è¶æ“ä½œæ—¶åŒºåŸŸäº¤æ¢ç –å—
   - **é˜¶æ®µ3**ï¼šç»“æœæå–  
     å·ç§¯ç»“æœä»ä¼ é€å¸¦è¾“å‡ºï¼Œ$[x^{n+k}]$ é¡¹é«˜äº®ä¸ºé‡‘è‰²

5. **ç»“æœåˆå¹¶**  
   - ä¸‰ä¸ªå­ç»“æœç”¨ä¸åŒé¢œè‰²æ¡å½¢å›¾æ˜¾ç¤º
   - æœ€ç»ˆç»“æœï¼š$\max$ å€¼ç”¨åƒç´ çƒŸèŠ±çˆ†ç‚¸åŠ¨ç”»å‘ˆç°

**äº¤äº’è®¾è®¡**ï¼š  
- **éŸ³æ•ˆ**ï¼šæ¯”è¾ƒ("å˜€")ã€äº¤æ¢("å’”")ã€æˆåŠŸ("èƒœåˆ©å·è§’")  
- **AIæ¼”ç¤ºæ¨¡å¼**ï¼šè‡ªåŠ¨æ’­æ”¾æ—¶æ˜¾ç¤ºâ€œAIæ€è€ƒä¸­...â€åƒç´ æ–‡å­—  
- **å…³å¡æœºåˆ¶**ï¼šå®Œæˆå·ç§¯è§†ä¸ºé€šå…³ï¼Œè§£é”ä¸‹ä¸€é¢˜æ¨è  

---

### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
**é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
1. **æ¡¶æ’åº+åç¼€å’Œ**ï¼šé€‚ç”¨äºå€¼åŸŸæœ‰é™çš„è®¡æ•°é—®é¢˜  
2. **ç»„åˆæ•°å·ç§¯ä¼˜åŒ–**ï¼šè§£å†³ $\sum f(i)\binom{g(i)}{k}$ å‹æ±‚å’Œ  
3. $\max/\min$ **æ‹†è§£**ï¼šå¤„ç†å¸¦æœ€å€¼çš„æœŸæœ›è®¡ç®—  

**æ´›è°·æ¨è**ï¼š  
1. **P1494 [å›½å®¶é›†è®­é˜Ÿ]å°Zçš„è¢œå­**  
   â†’ åŒæ¬¾ç»„åˆè®¡æ•°+æ¡¶æ’åºåº”ç”¨ï¼Œå·©å›ºæ¦‚ç‡è®¡ç®—  
2. **P3338 [ZJOI2014]åŠ›**  
   â†’ å·ç§¯ä¼˜åŒ–ç»å…¸é¢˜ï¼Œå­¦ä¹ å¤æ•°åŸŸFFTåº”ç”¨  
3. **P3723 [AH2017]ç¤¼ç‰©**  
   â†’ NTTä¼˜åŒ–ç»„åˆé—®é¢˜ï¼Œæ¶‰åŠå¾ªç¯å·ç§¯æŠ€å·§  

---

### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **å‚è€ƒç»éªŒ**ï¼ˆæ¥è‡ª xiezheyuanï¼‰ï¼š  
> â€œè°ƒè¯•æ—¶å‘ç°æ¡¶æ•°ç»„æœªåˆå§‹åŒ–å¯¼è‡´ç»“æœåç§»ï¼Œå»ºè®®ç”¨ `vector.resize()` æ›¿ä»£é™æ€æ•°ç»„â€  
>   
> **ç‚¹è¯„**ï¼š  
> åˆå§‹åŒ–é—®é¢˜åœ¨å·ç§¯è®¡ç®—ä¸­å°¤ä¸ºå…³é”®ï¼Œæ¨èï¼š  
> 1. ä½¿ç”¨ `vector::assign()` æ˜¾å¼åˆå§‹åŒ–  
> 2. NTTå‰ç”¨ `a.resize(n,0)` å¡«å……0  
> 3. è¾¹ç•Œæ£€æŸ¥ï¼š`if(k>=res.size()) continue`  

---

é€šè¿‡æœ¬æŒ‡å—ï¼Œæˆ‘ä»¬æŒæ¡äº†ç»„åˆè®¡æ•°é—®é¢˜çš„æ ¸å¿ƒæ‹†è§£æ€æƒ³å’ŒNTTä¼˜åŒ–æŠ€å·§ã€‚ä¸‹æ¬¡é‡åˆ°å¤æ‚æœ€å€¼é—®é¢˜æ—¶ï¼Œè®°å¾—å°è¯• $\max(a,b)=a+b-\min(a,b)$ è¿™æŠŠä¸‡èƒ½é’¥åŒ™ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š208.37ç§’
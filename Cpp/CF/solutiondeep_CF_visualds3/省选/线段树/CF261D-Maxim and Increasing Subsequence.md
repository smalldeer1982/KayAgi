# é¢˜ç›®ä¿¡æ¯

# Maxim and Increasing Subsequence

## é¢˜ç›®æè¿°

Maxim loves sequences, especially those that strictly increase. He is wondering, what is the length of the longest increasing subsequence of the given sequence $ a $ ?

Sequence $ a $ is given as follows:

- the length of the sequence equals $ nÃ—t $ ;
- ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF261D/62550b81a494c59fe3493af08329ebf8f9d7bb9b.png) $ (1<=i<=nÃ—t) $ , where operation ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF261D/946bcc44e053027f1f6b5dfc3143583e661988f5.png) means taking the remainder after dividing number $ x $ by number $ y $ .

Sequence $ s_{1},s_{2},...,s_{r} $ of length $ r $ is a subsequence of sequence $ a_{1},a_{2},...,a_{n} $ , if there is such increasing sequence of indexes $ i_{1},i_{2},...,i_{r} $ $ (1<=i_{1}&lt;i_{2}&lt;...\ &lt;i_{r}<=n) $ , that $ a_{ij}=s_{j} $ . In other words, the subsequence can be obtained from the sequence by crossing out some elements.

Sequence $ s_{1},s_{2},...,s_{r} $ is increasing, if the following inequality holds: $ s_{1}&lt;s_{2}&lt;...&lt;s_{r} $ .

Maxim have $ k $ variants of the sequence $ a $ . Help Maxim to determine for each sequence the length of the longest increasing subsequence.

## æ ·ä¾‹ #1

### è¾“å…¥

```
3 3 5 2
3 2 1
1 2 3
2 3 1
```

### è¾“å‡º

```
2
3
3
```

# AIåˆ†æç»“æœ


# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šCF261D Maxim and Increasing Subsequence æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šåŠ¨æ€è§„åˆ’ä¼˜åŒ–ï¼ˆæ ‘çŠ¶æ•°ç»„/æ•°æ®ç»“æ„ä¼˜åŒ–ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³æœ¬é¢˜çš„å…³é”®åœ¨äº**è¯†åˆ«é‡å¤åºåˆ—çš„ç‰¹æ€§**å’Œ**ä¼˜åŒ–LISè®¡ç®—**ã€‚æƒ³è±¡ä½ æœ‰å¤šä¸ªç›¸åŒçš„ä¹é«˜æ¨¡å—ï¼ˆåºåˆ—bï¼‰ï¼Œé‡å¤æ‹¼æ¥tæ¬¡åï¼ˆåºåˆ—aï¼‰ï¼Œè¦æ‰¾åˆ°æœ€é•¿çš„é€’å¢å¡”ï¼ˆLISï¼‰ã€‚  
> - æ ¸å¿ƒæŠ€å·§ï¼šå½“é‡å¤æ¬¡æ•°t â‰¥ åºåˆ—ä¸­ä¸åŒæ•°å­—ä¸ªæ•°cntæ—¶ï¼Œç­”æ¡ˆå°±æ˜¯cntï¼ˆæ¯ä¸ªæ•°å­—é€‰ä¸€æ¬¡ï¼‰ï¼›å¦åˆ™éœ€è®¡ç®—å®é™…LIS
> - ç®—æ³•æµç¨‹ï¼šç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤å‰ç¼€æœ€å¤§å€¼ï¼Œå®ç°O(n t log maxb)çš„DPè½¬ç§»
> - å¯è§†åŒ–è®¾è®¡ï¼šé‡‡ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºåºåˆ—æ‹¼æ¥è¿‡ç¨‹ï¼Œç”¨é¢œè‰²æ¸å˜è¡¨ç¤ºDPå€¼å˜åŒ–ï¼Œæ ‘çŠ¶æ•°ç»„æ›´æ–°æ—¶è§¦å‘"å®"éŸ³æ•ˆï¼Œå…³é”®æ­¥éª¤ï¼ˆå¦‚cntåˆ¤æ–­ã€DPçªç ´ï¼‰ç”¨é—ªçƒæç¤º

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼ˆæ¥æºï¼šliangzihaoï¼‰**
* **ç‚¹è¯„**ï¼šæ­¤è§£æ³•æ€è·¯æ¸…æ™°ç›´å‡»æ ¸å¿ƒâ€”â€”åˆ©ç”¨cntâ‰¤tçš„æ•°å­¦ç‰¹æ€§é¿å…æ— æ•ˆè®¡ç®—ï¼Œæ ‘çŠ¶æ•°ç»„ä¼˜åŒ–DPçš„é€»è¾‘æ¨å¯¼é€å½»ã€‚ä»£ç ä¸­`f[j]`è®°å½•å‘¨æœŸç­”æ¡ˆã€`ansâ‰¥sum`æå‰ç»ˆæ­¢çš„ä¼˜åŒ–å±•ç°äº†æå¼ºçš„å®è·µä»·å€¼ï¼Œå˜é‡å‘½åï¼ˆ`sum`/`maxb`ï¼‰è§„èŒƒæ˜“è¯»ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£äºŒï¼ˆæ¥æºï¼šyyandyï¼‰**
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§åœ°æå‡ºO(nÂ·maxb)è§£æ³•ï¼Œé€šè¿‡"è·¨è¶Šå‘¨æœŸæ•°"çŠ¶æ€è®¾è®¡çªç ´ä¼ ç»Ÿæ€è·¯ã€‚å°†åºåˆ—æ’åºåç”¨`g[j]`/`p[j]`è®°å½•æœ€ä¼˜çŠ¶æ€ï¼Œå¤§å¹…å‡å°‘è½¬ç§»æ¬¡æ•°ã€‚è™½ç„¶ä»£ç å˜é‡åå¯è¿›ä¸€æ­¥ä¼˜åŒ–ï¼ˆå¦‚`Mx`/`E`ï¼‰ï¼Œä½†ç®—æ³•å¯å‘æ€§æå¼ºï¼Œå±•ç°äº†åŠ¨æ€è§„åˆ’çš„æœ¬è´¨ä¼˜åŒ–æ€æƒ³ã€‚

**é¢˜è§£ä¸‰ï¼ˆæ¥æºï¼šfuqingchenï¼‰**
* **ç‚¹è¯„**ï¼šæ ‘çŠ¶æ•°ç»„è§£æ³•çš„å·¥ä¸šçº§å®ç°å…¸èŒƒï¼ŒåŒ…å«å¿«è¯»ã€æ»šåŠ¨æ•°ç»„ç­‰ç«èµ›æŠ€å·§ã€‚äº®ç‚¹åœ¨äºç”¨`b[a[i]]!=k+1`çš„å·§å¦™æ ‡è®°æ³•ç»Ÿè®¡cntï¼Œé¿å…é¢å¤–ç©ºé—´å¼€é”€ï¼›ä»£ç æ¨¡å—åŒ–ï¼ˆ`find`/`updata`åˆ†ç¦»ï¼‰å’Œé²æ£’æ€§ï¼ˆå…¨æ•°ç»„åˆå§‹åŒ–ï¼‰å¤„ç†å½°æ˜¾ä¸“ä¸šæ°´å‡†ã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1.  **å…³é”®ç‚¹1ï¼šé‡å¤åºåˆ—çš„æ€§è´¨åˆ©ç”¨**
    * **åˆ†æ**ï¼šcntâ‰¤tæ—¶ç›´æ¥è¾“å‡ºcntæ˜¯ä¼˜åŒ–åŸºç¡€ã€‚ä¼˜è´¨é¢˜è§£å‡é€šè¿‡æ ‡è®°æ•°ç»„å¿«é€Ÿç»Ÿè®¡ä¸åŒæ•°å­—æ•°ï¼Œé¿å…å¯¹tæ¬¡é‡å¤åºåˆ—çš„æš´åŠ›å±•å¼€
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé—®é¢˜æŠ½è±¡èƒ½åŠ›å†³å®šæ•ˆç‡ä¸Šé™â€”â€”è¯†åˆ«æ•°å­¦ç‰¹æ€§æ¯”ç›²ç›®ä¼˜åŒ–æ›´é‡è¦

2.  **å…³é”®ç‚¹2ï¼šæ ‘çŠ¶æ•°ç»„ä¼˜åŒ–DP**
    * **åˆ†æ**ï¼šæ ¸å¿ƒåœ¨äº`f[i]=query(a[i]-1)+1`çš„è½¬ç§»æ–¹ç¨‹ã€‚æ ‘çŠ¶æ•°ç»„é€šè¿‡`lowbit`åˆ†å±‚å­˜å‚¨å‰ç¼€æœ€å¤§å€¼ï¼Œå°†O(nÂ²)ä¼˜åŒ–è‡³O(n log n)ã€‚ä»£ç ä¸­`updata(a[j],c)`å®æ—¶æ›´æ–°ï¼Œä¿è¯åç»­æŸ¥è¯¢æ­£ç¡®æ€§
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ•°æ®ç»“æ„æ˜¯ç®—æ³•çš„åŠ é€Ÿå™¨â€”â€”æ ‘çŠ¶æ•°ç»„å¤„ç†å‰ç¼€é—®é¢˜çŠ¹å¦‚"åˆ†å±‚å¿«é€’æŸœ"

3.  **å…³é”®ç‚¹3ï¼šçŠ¶æ€è®¾è®¡çš„é™ç»´æ‰“å‡»**
    * **åˆ†æ**ï¼šyyandyè§£æ³•ç”¨`g[j]`è®°å½•é•¿åº¦ä¸ºjçš„å­åºåˆ—æ‰€éœ€æœ€å°‘å‘¨æœŸæ•°ï¼Œé…åˆ`p[j]`å­˜å‚¨æœ€å°ä½ç½®ç´¢å¼•ï¼Œå°†äºŒç»´DPå‹ç¼©è‡³ä¸€ç»´ã€‚çŠ¶æ€è½¬ç§»ä¸­`id_i > p_j`çš„åˆ¤æ–­å¦‚åŒ"æ—¶ç©ºè·³è·ƒæ£€æµ‹"ï¼Œé¿å…å†—ä½™è®¡ç®—
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¥½çš„çŠ¶æ€è®¾è®¡èƒ½ç”¨ç©ºé—´æ¢ç»´åº¦ï¼ŒåŒ–æŒ‡æ•°å¤æ‚åº¦ä¸ºçº¿æ€§

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
-   **æŠ€å·§Aï¼šæ•°å­¦ç‰¹æ€§ä¼˜å…ˆ**ï¼šå…ˆåˆ†æé¢˜ç›®éšå«æ•°å­¦å…³ç³»ï¼ˆå¦‚æœ¬é¢˜cntâ‰¤tï¼‰ï¼Œå†ç€æ‰‹ç®—æ³•
-   **æŠ€å·§Bï¼šæ»šåŠ¨æ•°ç»„ä¼˜åŒ–**ï¼šDPçŠ¶æ€ä»…ä¾èµ–å‰åºå€¼æ—¶ï¼Œç”¨å›ºå®šå¤§å°æ•°ç»„å¾ªç¯æ›´æ–°ï¼ˆå¦‚`f[j]`ï¼‰
-   **æŠ€å·§Cï¼šæ•°æ®å‹ç¼©æ ‡è®°**ï¼šç”¨æ—¶é—´æˆ³ï¼ˆ`b[a[i]]=k+1`ï¼‰ä»£æ›¿memsetæ¸…é›¶ï¼Œæå‡æ•ˆç‡

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
* **è¯´æ˜**ï¼šç»¼åˆä¼˜è´¨é¢˜è§£ä¼˜åŒ–çš„æ ‘çŠ¶æ•°ç»„è§£æ³•ï¼Œå…¼é¡¾æ•ˆç‡ä¸å¯è¯»æ€§
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <iostream>
#include <cstring>
using namespace std;

const int MAXB = 100010;
int k, n, maxb, t;
int tree[MAXB], f[MAXB], a[MAXB];
bool vis[MAXB]; // æ›¿ä»£bæ•°ç»„ä½œæ ‡è®°

inline int lowbit(int x) { return x & -x; }

void update(int x, int v) {
    while (x <= maxb) {
        if (v > tree[x]) tree[x] = v;
        x += lowbit(x);
    }
}

int query(int x) {
    int res = 0;
    while (x) {
        if (tree[x] > res) res = tree[x];
        x -= lowbit(x);
    }
    return res;
}

int main() {
    cin >> k >> n >> maxb >> t;
    while (k--) {
        memset(vis, 0, sizeof(vis));
        memset(tree, 0, sizeof(tree));
        memset(f, 0, sizeof(f));
        
        int cnt = 0, ans = 0;
        for (int i = 0; i < n; i++) {
            cin >> a[i];
            if (!vis[a[i]]) cnt++, vis[a[i]] = true;
        }
        
        if (t >= cnt) {
            cout << cnt << endl;
            continue;
        }
        
        for (int i = 0; i < t; i++) {
            for (int j = 0; j < n; j++) {
                int cur = query(a[j] - 1) + 1;
                if (cur > f[j]) {
                    f[j] = cur;
                    update(a[j], cur);
                    if (cur > ans) ans = cur;
                }
                if (ans >= cnt) break; // ä¸å¯èƒ½è¶…è¿‡cnt
            }
            if (ans >= cnt) break;
        }
        cout << ans << endl;
    }
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
  > 1. åˆå§‹åŒ–æ ‡è®°æ•°ç»„ç»Ÿè®¡ä¸åŒæ•°å­—æ•°cnt  
  > 2. å½“tâ‰¥cntæ—¶ç›´æ¥è¾“å‡ºcntï¼ˆæ•°å­¦ä¼˜åŒ–ï¼‰  
  > 3. åŒé‡å¾ªç¯ï¼šå¤–å±‚éå†tä¸ªå‘¨æœŸï¼Œå†…å±‚éå†åºåˆ—ä½ç½®  
  > 4. æ ‘çŠ¶æ•°ç»„æŸ¥è¯¢å‰ç¼€æœ€å¤§å€¼æ›´æ–°f[i]  
  > 5. å®æ—¶æ›´æ–°å…¨å±€ç­”æ¡ˆansï¼Œè¾¾åˆ°cntæ—¶æå‰ç»ˆæ­¢  

**é¢˜è§£ä¸€ï¼ˆliangzihaoï¼‰æ ¸å¿ƒç‰‡æ®µ**
* **äº®ç‚¹**ï¼š`f[j]`è®°å½•å‘¨æœŸç­”æ¡ˆå‡å°‘ç»´åº¦ï¼Œ`ansâ‰¥sum`åŒçº§è·³å‡ºä¼˜åŒ–
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
for (i=1; i<=t; i++)
   for (j=1; j<=n; j++) {
        c = get(a[j]-1)+1; // æ ‘çŠ¶æ•°ç»„æŸ¥è¯¢
        if (c > f[j]) {
            f[j] = c;
            ans = max(ans,c);
            updata(a[j],c); // æ›´æ–°æ ‘çŠ¶æ•°ç»„
        }
        if (ans >= sum) break; // å…³é”®ä¼˜åŒ–
   }
```
* **ä»£ç è§£è¯»**ï¼š
  > ä¸ºä½•ç”¨`get(a[j]-1)`ï¼Ÿâ†’ æ ‘çŠ¶æ•°ç»„å­˜å‚¨çš„æ˜¯**å°äºå½“å‰å€¼**çš„æœ€å¤§LISé•¿åº¦  
  > `f[j]`ä¸ºä½•æŒ‰ä½ç½®è€Œéæ•°å€¼è®°å½•ï¼Ÿâ†’ æ¯ä¸ªä½ç½®åœ¨ä¸åŒå‘¨æœŸå¯èƒ½è¢«å¤šæ¬¡æ›´æ–°  
  > `ansâ‰¥sum`ä¸ºä½•æˆç«‹ï¼Ÿâ†’ ä¸¥æ ¼ä¸Šå‡åºåˆ—é•¿åº¦ä¸å¯èƒ½è¶…è¿‡ä¸åŒæ•°å­—æ€»æ•°  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¾ªç¯å†…åµŒä¼˜åŒ–æ¯”æ•´ä½“ä¼˜åŒ–æ›´æœ‰æ•ˆ

**é¢˜è§£äºŒï¼ˆyyandyï¼‰æ ¸å¿ƒç‰‡æ®µ**
* **äº®ç‚¹**ï¼šçŠ¶æ€è®¾è®¡`g[j]`/`p[j]`å®ç°O(1)è½¬ç§»
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
for (int i=1; i<=n; ++i) {
    if (a[i].s != a[i-1].s) { // æ–°æ•°å€¼å¤„ç†
        for (int j=1; j<=Mx; ++j) {
            if (a[i].id > p[j-1]) f[j] = g[j-1]; 
            else f[j] = g[j-1] + 1; // å‘¨æœŸæ•°+1
            z[j] = a[i].id; // æ›´æ–°æœ€å°ä½ç½®
        }	
    }
    ...
}
```
* **ä»£ç è§£è¯»**ï¼š
  > `a[i].id > p[j-1]`æœ‰ä½•æ·±æ„ï¼Ÿâ†’ å½“å‰å…ƒç´ ä½ç½®è‹¥å¤§äºå‰çŠ¶æ€ä½ç½®åˆ™æ— éœ€æ–°å¢å‘¨æœŸ  
  > ä¸ºä½•è¦`z[j] = a[i].id`ï¼Ÿâ†’ è®°å½•åŒä¸€æ•°å€¼çš„æœ€å°ä½ç½®ä¿è¯è½¬ç§»æ­£ç¡®æ€§  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŠ¶æ€è½¬ç§»çš„æœ¬è´¨æ˜¯æ—¶ç©ºå…³ç³»çš„æ•°å­¦å»ºæ¨¡

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼š8ä½åƒç´ é£"LISå»ºé€ è€…"  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šæ ‘çŠ¶æ•°ç»„æ›´æ–°ä¸DPçŠ¶æ€è½¬ç§»è¿‡ç¨‹  

1. **åœºæ™¯è®¾è®¡**ï¼š
   - ç½‘æ ¼ä¸‹æ–¹ï¼šåºåˆ—å—ï¼ˆåƒç´ è‰²å—è¡¨ç¤ºæ•°å€¼ï¼Œçº¢è‰²â†’ç´«è‰²æ¸å˜ï¼‰
   - ç½‘æ ¼ä¸Šæ–¹ï¼šæ ‘çŠ¶æ•°ç»„ç»“æ„ï¼ˆåˆ†å±‚åƒç´ å¡”ï¼Œç»¿è‰²é«˜åº¦è¡¨ç¤ºå€¼ï¼‰
   - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœ/æ­¥è¿›ï¼Œé€Ÿåº¦æ»‘å—

2. **å…³é”®åŠ¨ç”»**ï¼š
   - **å‘¨æœŸæ ‡è®°**ï¼šæ–°å‘¨æœŸå¼€å§‹æ—¶å…¨å±é—ªçƒé»„è‰²è¾¹æ¡†
   - **æ ‘çŠ¶æ•°ç»„æ›´æ–°**ï¼š
     ``` 
     æŸ¥è¯¢ï¼šè“è‰²å…‰æŸä»å½“å‰å—å‘å·¦æ‰«æ â†’ è§¦å‘"æ»´"å£°
     æ›´æ–°ï¼šæ©™è‰²å…‰æŸä»å½“å‰å—å‘å³ä¸Šè·³è·ƒæ›´æ–° â†’ è§¦å‘"å®"å£°
     ```
   - **çŠ¶æ€çªç ´**ï¼šå½“f[i]æ›´æ–°æ—¶ï¼Œå½“å‰å—çˆ†ç ´ä¸ºæ˜Ÿå°˜å¹¶æ˜¾ç¤ºæ–°å€¼

3. **æ¸¸æˆåŒ–å…ƒç´ **ï¼š
   - **è¿›åº¦æ¡**ï¼šé¡¶éƒ¨è¿›åº¦æ¡æ˜¾ç¤ºå·²ç”¨å‘¨æœŸæ•°/t
   - **è¿å‡»ç³»ç»Ÿ**ï¼šè¿ç»­ä¸ä¸­æ–­æ›´æ–°è§¦å‘Comboç‰¹æ•ˆ
   - **éŸ³æ•ˆè®¾è®¡**ï¼š
     * èƒŒæ™¯ï¼šFCé£æ ¼8-bitå¾ªç¯éŸ³ä¹
     * æ•ˆæœéŸ³ï¼šæŸ¥è¯¢(æ»´)ã€æ›´æ–°(å®)ã€çªç ´(æ°´æ™¶ç¢è£‚)

4. **ä¼ªä»£ç åŒæ­¥**ï¼š
   ```javascript
   // å…³é”®å¸§ä¼ªä»£ç 
   function drawFrame() {
     drawGridSequence(); // ç»˜åˆ¶åºåˆ—ç½‘æ ¼
     if (isQuerying) 
        drawBeam(currentVal-1, DIR_LEFT); // å‘å·¦æŸ¥è¯¢å…‰æŸ
     if (isUpdating)
        drawBeamJump(currentVal, treePath); // æ ‘çŠ¶æ•°ç»„æ›´æ–°è·³è·ƒ
   }
   ```

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

* **æŠ€å·§è¿ç§»**ï¼š
  1. å¾ªç¯åºåˆ—LISé—®é¢˜ï¼ˆå¦‚[LeetCode] 1964. æ±‚å¾ªç¯åºåˆ—LISï¼‰
  2. å¸¦é™åˆ¶æ¡ä»¶çš„LISå˜ç§ï¼ˆå¦‚å¿…é¡»é—´éš”kä¸ªå…ƒç´ ï¼‰
  3. å¤šç»´LISï¼ˆå¦‚ä¿¡å°åµŒå¥—é—®é¢˜ï¼‰

* **æ´›è°·æ¨è**ï¼š
  1. **P1020 å¯¼å¼¹æ‹¦æˆª**  
     â†’ å·©å›ºLISåŠè´ªå¿ƒä¼˜åŒ–ï¼Œç†è§£Dilworthå®šç†
  2. **P4303 [AHOI2006] åŸºå› åŒ¹é…**  
     â†’ ç»ƒä¹ LCSè½¬LISæŠ€å·§ï¼Œå¼ºåŒ–æ ‘çŠ¶æ•°ç»„åº”ç”¨
  3. **P2286 [HNOI2004] å® ç‰©æ”¶å…»åœº**  
     â†’ å®è·µå¹³è¡¡æ ‘ç»´æŠ¤åŠ¨æ€LIS

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **æ¥è‡ªliangzihaoçš„è°ƒè¯•ç»éªŒ**ï¼š  
> *"æˆ‘åœ¨å¤„ç†å¤šç»„æ•°æ®æ—¶å¿˜è®°æ¸…ç©ºæ ‡è®°æ•°ç»„ï¼Œå¯¼è‡´ç»Ÿè®¡cntå‡ºé”™... å»ºè®®å¯¹æ¯ç»„æ•°æ®ç”¨æ—¶é—´æˆ³ä»£æ›¿memset"*  
>   
> **Kayç‚¹è¯„**ï¼šè¿™æ˜¯ç»å…¸çš„ç©ºé—´ä¼˜åŒ–æŠ€å·§ï¼ç”¨`vis[i]=k+1`æ›¿ä»£æ¯æ¬¡memsetï¼Œé¿å…O(n)æ¸…ç©ºã€‚å½“kå¾ˆå¤§æ—¶ï¼ˆå¦‚æœ¬é¢˜kâ‰¤10ï¼‰ï¼ŒèŠ‚çœçš„æ—¶é—´ç›¸å½“å¯è§‚ã€‚  

---

> é€šè¿‡æœ¬æ¬¡åˆ†æï¼Œæˆ‘ä»¬æ·±å…¥ç†è§£äº†LISåœ¨é‡å¤åºåˆ—åœºæ™¯ä¸‹çš„ä¼˜åŒ–æŠ€å·§ã€‚è®°ä½ï¼šå¥½ç®—æ³•=æ•°å­¦æ´å¯Ÿ+æ•°æ®ç»“æ„+ç»†èŠ‚ä¼˜åŒ–ã€‚ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜ï¼Œä¸å¦¨å…ˆé—®è‡ªå·±ï¼šæ˜¯å¦æœ‰éšè—çš„æ•°å­¦ç‰¹æ€§ï¼Ÿèƒ½å¦ç”¨æ ‘çŠ¶æ•°ç»„/çº¿æ®µæ ‘åŠ é€Ÿï¼Ÿæˆ‘ä»¬ä¸‹æœŸå†è§ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š134.60ç§’
# é¢˜ç›®ä¿¡æ¯

# Santa's Gift

## é¢˜ç›®æè¿°

Santa has an infinite number of candies for each of $ m $ flavours. You are given a rooted tree with $ n $ vertices. The root of the tree is the vertex $ 1 $ . Each vertex contains exactly one candy. The $ i $ -th vertex has a candy of flavour $ f_i $ .

Sometimes Santa fears that candies of flavour $ k $ have melted. He chooses any vertex $ x $ randomly and sends the subtree of $ x $ to the Bakers for a replacement. In a replacement, all the candies with flavour $ k $ are replaced with a new candy of the same flavour. The candies which are not of flavour $ k $ are left unchanged. After the replacement, the tree is restored.

The actual cost of replacing one candy of flavour $ k $ is $ c_k $ (given for each $ k $ ). The Baker keeps the price fixed in order to make calculation simple. Every time when a subtree comes for a replacement, the Baker charges $ C $ , no matter which subtree it is and which flavour it is.

Suppose that for a given flavour $ k $ the probability that Santa chooses a vertex for replacement is same for all the vertices. You need to find out the expected value of error in calculating the cost of replacement of flavour $ k $ . The error in calculating the cost is defined as follows.

 $ $$$ Error\ E(k) =\ (Actual Cost\ â€“\ Price\ charged\ by\ the\ Bakers) ^ 2. $ $ </p><p>Note that the actual cost is the cost of replacement of one candy of the flavour  $ k $  multiplied by the number of candies in the subtree.</p><p>Also, sometimes Santa may wish to replace a candy at vertex  $ x $  with a candy of some flavour from his pocket.</p><p>You need to handle two types of operations: </p><ul> <li> Change the flavour of the candy at vertex  $ x $  to  $ w $ . </li><li> Calculate the expected value of error in calculating the cost of replacement for a given flavour  $ k$$$.

## è¯´æ˜/æç¤º

For $ 1 $ -st query, the error in calculating the cost of replacement for flavour $ 1 $ if vertex $ 1 $ , $ 2 $ or $ 3 $ is chosen are $ 66^2 $ , $ 66^2 $ and $ (-7)^2 $ respectively. Since the probability of choosing any vertex is same, therefore the expected value of error is $ \frac{66^2+66^2+(-7)^2}{3} $ .

Similarly, for $ 2 $ -nd query the expected value of error is $ \frac{41^2+(-7)^2+(-7)^2}{3} $ .

After $ 3 $ -rd query, the flavour at vertex $ 2 $ changes from $ 1 $ to $ 3 $ .

For $ 4 $ -th query, the expected value of error is $ \frac{(-7)^2+(-7)^2+(-7)^2}{3} $ .

Similarly, for $ 5 $ -th query, the expected value of error is $ \frac{89^2+41^2+(-7)^2}{3} $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
3 5 5 7
3 1 4
1 1
73 1 48 85 89
2 1
2 3
1 2 3
2 1
2 3
```

### è¾“å‡º

```
2920.333333333333
593.000000000000
49.000000000000
3217.000000000000
```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šSanta's Gift æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`æ ‘é“¾å‰–åˆ† + åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘` (æ•°æ®ç»“æ„ç»¼åˆåº”ç”¨)  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³æœ¬é¢˜çš„å…³é”®åœ¨äº**å°†æ ‘å½¢ç»“æ„è½¬åŒ–ä¸ºé“¾å¼æ“ä½œ**å¹¶é«˜æ•ˆç»´æŠ¤**å­æ ‘ç»Ÿè®¡é‡**ã€‚æƒ³è±¡ä¸€æ£µåœ£è¯æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æŒ‚ç€ä¸€é¢—ç³–æœï¼ˆé¢œè‰²ï¼‰ï¼Œå½“ä¿®æ”¹ç³–æœé¢œè‰²æ—¶ï¼Œéœ€è¦æ›´æ–°ä»è¯¥èŠ‚ç‚¹åˆ°æ ‘æ ¹è·¯å¾„ä¸Šæ‰€æœ‰"ç¤¼å“è¢‹"ï¼ˆèŠ‚ç‚¹ï¼‰ä¸­è¯¥é¢œè‰²çš„è®¡æ•°ã€‚æ ‘é“¾å‰–åˆ†å¦‚åŒå°†å¤§æ ‘åˆ†è§£ä¸ºå¯ç®¡ç†çš„"ç¤¼ç‰©é“¾"ï¼ŒåŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘åˆ™åƒæŒ‰éœ€åˆ†é…çš„è®°å¿†ç›’å­ï¼Œä»…åœ¨éœ€è¦æ—¶åˆ›å»ºå­˜å‚¨ç©ºé—´ã€‚

- **æ ¸å¿ƒç®—æ³•æµç¨‹**ï¼š  
  1. é¢„å¤„ç†æ ‘é“¾å‰–åˆ†ï¼ˆé‡é“¾åˆ†è§£ï¼‰  
  2. ä¸ºæ¯ç§é¢œè‰²åˆ›å»ºåŠ¨æ€çº¿æ®µæ ‘ï¼ˆåˆå§‹ä¸ºç©ºï¼‰  
  3. ä¿®æ”¹æ“ä½œï¼šæ²¿é‡é“¾æ›´æ–°è·¯å¾„ä¸Šé¢œè‰²çš„è®¡æ•°ï¼ˆÂ±1ï¼‰  
  4. æŸ¥è¯¢æ“ä½œï¼šç”¨çº¿æ®µæ ‘ç»´æŠ¤çš„Î£Sáµ¢å’ŒÎ£Sáµ¢Â²è®¡ç®—æœŸæœ›  

- **å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
  - **åƒç´ é£æ ¼**ï¼šé‡‡ç”¨8-bitçº¢ç™½æœºé£æ ¼ï¼Œæ ‘æ˜¾ç¤ºä¸ºåƒç´ æ–¹å—ï¼ˆç»¿è‰²=æ™®é€šèŠ‚ç‚¹ï¼Œé‡‘è‰²=é‡é“¾èŠ‚ç‚¹ï¼‰  
  - **å…³é”®åŠ¨ç”»**ï¼šä¿®æ”¹é¢œè‰²æ—¶ï¼Œä»ç›®æ ‡èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹è·¯å¾„é—ªçƒçº¢å…‰ï¼ˆå‡1ï¼‰â†’ è“å…‰ï¼ˆåŠ 1ï¼‰  
  - **æ•°æ®ç»“æ„å¯è§†åŒ–**ï¼šå³ä¾§æ˜¾ç¤ºåŠ¨æ€çº¿æ®µæ ‘ç”Ÿé•¿è¿‡ç¨‹ï¼Œæ–°èŠ‚ç‚¹äº§ç”Ÿæ—¶æ’­æ”¾"åƒç´ åˆ›å»º"éŸ³æ•ˆ  
  - **æ¸¸æˆåŒ–å…ƒç´ **ï¼šæ¯å®Œæˆä¸€æ¡é‡é“¾æ›´æ–°è·å¾—1åˆ†ï¼Œç´¯è®¡ç§¯åˆ†è§£é”ç®—æ³•è§£é‡Šå½©è›‹

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆæ¥æºï¼šAlex_Weiï¼‰**  
* **ç‚¹è¯„**ï¼šæ€è·¯ç›´å‡»æ ¸å¿ƒï¼Œå°†å¤æ‚å…¬å¼æ‹†è§£ä¸ºÎ£Sáµ¢å’ŒÎ£Sáµ¢Â²çš„ç»´æŠ¤ï¼Œä»£ç ä»…50è¡Œå±•ç°æé«˜æŠ½è±¡èƒ½åŠ›ã€‚äº®ç‚¹åœ¨äº**å¹³æ–¹å’Œæ›´æ–°å…¬å¼**çš„ç²¾ç‚¼å®ç°ï¼š`sq[x] += 2*val[x]*v + (r-l+1)*v*v`ï¼Œå®Œç¾ç¬¦åˆæ•°å­¦æ¨å¯¼ã€‚å˜é‡å`val`ï¼ˆå’Œï¼‰ã€`sq`ï¼ˆå¹³æ–¹å’Œï¼‰ç®€æ´å‡†ç¡®ï¼Œæ ‘å‰–+åŠ¨æ€å¼€ç‚¹é€»è¾‘æµ‘ç„¶ä¸€ä½“ã€‚  

**é¢˜è§£äºŒï¼ˆæ¥æºï¼šsgl654321ï¼‰**  
* **ç‚¹è¯„**ï¼šæ•™å­¦ä»·å€¼çªå‡ºï¼Œé€æ­¥æ¨å¯¼æœŸæœ›å…¬å¼å¹¶è¯¦è§£åŠ¨æ€å¼€ç‚¹åŸç†ã€‚ç‰¹åˆ«å¼ºè°ƒ**pushdownæ–°å»ºèŠ‚ç‚¹**çš„æ˜“é”™ç‚¹ï¼š"æ²¡æœ‰å„¿å­æ—¶éœ€æ–°å»ºèŠ‚ç‚¹å†ä¸‹ä¼ æ ‡è®°"ï¼Œè¿™å¯¹è°ƒè¯•è‡³å…³é‡è¦ã€‚ä»£ç è™½é•¿ä½†æ¨¡å—æ¸…æ™°ï¼Œç©ºé—´å¤æ‚åº¦åˆ†æO((n+q)logÂ²n)å…·å®è·µæŒ‡å¯¼æ„ä¹‰ã€‚  

**é¢˜è§£ä¸‰ï¼ˆæ¥æºï¼šLeap_Frogï¼‰**  
* **ç‚¹è¯„**ï¼šåˆ›æ–°é‡‡ç”¨**æ ‡è®°æ°¸ä¹…åŒ–**é¿å…pushdownï¼Œå¤§å¹…ç®€åŒ–ä»£ç ã€‚äº®ç‚¹åœ¨äº`addtag`å‡½æ•°ç»Ÿä¸€å¤„ç†åŒºé—´åŠ ï¼š  
  ```cpp
  void addtag(..., ll v) {
      sq[x] += 2*val[x]*v + (r-l+1)*v*v; // å¹³æ–¹å’Œæ›´æ–°
      val[x] += (r-l+1)*v;                // å’Œæ›´æ–°
  }  
  ```
  é…åˆæŒ‡é’ˆå®ç°åŠ¨æ€å¼€ç‚¹ï¼Œæ•ˆç‡ä¸å¯è¯»æ€§ä¿±ä½³ï¼Œé€‚åˆç«èµ›ç›´æ¥ä½¿ç”¨ã€‚

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹ï¼šå¹³æ–¹å’Œçš„åŠ¨æ€ç»´æŠ¤**  
   * **åˆ†æ**ï¼šåŒºé—´åŠ væ—¶ï¼Œå¹³æ–¹å’Œå˜åŒ–ä¸ºÎ”=2vÎ£åŸå€¼+vÂ²Â·é•¿åº¦ã€‚ä¼˜è´¨é¢˜è§£å‡ç”¨æ­¤å…¬å¼é¿å…æš´åŠ›é‡ç®—ï¼Œä½†éœ€æ³¨æ„**å…¬å¼æ¨å¯¼çš„å‡†ç¡®æ€§**ï¼ˆå¦‚sgl654321å¼ºè°ƒçš„ç¬¦å·é—®é¢˜ï¼šå‡1æ—¶Î”= -2Sáµ¢+1ï¼‰  

2. **éš¾ç‚¹ï¼šåŠ¨æ€å¼€ç‚¹çš„ç©ºé—´æ§åˆ¶**  
   * **åˆ†æ**ï¼šä¸ºæ¯ç§é¢œè‰²å»ºæ ‘éœ€O(mn)ç©ºé—´ â†’ ä¸å¯è¡Œã€‚è§£å†³æ–¹æ¡ˆæ˜¯**ç”¨æ—¶åˆ›å»º**ï¼Œæ¯æ¬¡ä¿®æ”¹æœ€å¤šè®¿é—®O(logÂ²n)èŠ‚ç‚¹ã€‚å…³é”®æŠ€å·§ï¼š  
     - pushdownæ—¶æ£€æŸ¥å„¿å­æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™æ–°å»ºï¼ˆsgl654321ï¼‰  
     - æ ¹èŠ‚ç‚¹æŒ‡é’ˆæ•°ç»„åˆå§‹åŒ–ä¸ºç©ºï¼ˆLeap_Frogï¼‰  

3. **éš¾ç‚¹ï¼šæ ‘å‰–ä¸çº¿æ®µæ ‘è¡”æ¥**  
   * **åˆ†æ**ï¼šä¿®æ”¹éœ€æ›´æ–°xâ†’rootè·¯å¾„ï¼Œä½†æŸ¥è¯¢åªéœ€æ•´ä½“ç»Ÿè®¡ã€‚ä¼˜åŒ–ç‚¹ï¼š  
     - æ ‘å‰–å**ä»xå‘ä¸Šè·³é“¾**ï¼Œæ¯é“¾ä½œä¸ºç‹¬ç«‹åŒºé—´æ›´æ–°  
     - æŸ¥è¯¢æ—¶ç›´æ¥è®¿é—®çº¿æ®µæ ‘**æ ¹èŠ‚ç‚¹å…¨å±€ç»Ÿè®¡å€¼**ï¼Œé¿å…åŒºé—´æŸ¥è¯¢  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
> åŠ¨æ€ç»´æŠ¤å¹³æ–¹å’Œçš„æ ¸å¿ƒï¼šÎ”=2vÂ·æ—§å’Œ+vÂ²Â·len  
> æ ‘å‰–æœ¬è´¨ï¼šå°†æ ‘åˆ†è§£ä¸ºO(log n)æ¡é“¾ï¼ŒåŒ–æ ‘ä¸ºé“¾  

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**  
- **å…¬å¼æ‹†è§£**ï¼šå¤æ‚æœŸæœ›â†’Î£Sáµ¢å’ŒÎ£Sáµ¢Â²çš„ç»´æŠ¤  
- **æ‡’æ ‡è®°åº”ç”¨**ï¼šåŒºé—´åŠ æ—¶åŒæ­¥æ›´æ–°å’Œä¸å¹³æ–¹å’Œ  
- **ç©ºé—´ä¼˜åŒ–**ï¼šåŠ¨æ€å¼€ç‚¹+æ ‘å‰–å‡å°‘èŠ‚ç‚¹åˆ›å»ºé‡  
- **è¾¹ç•Œå¤„ç†**ï¼šå•ç‚¹ä¿®æ”¹æ—¶æ³¨æ„dep[x]ï¼ˆè·¯å¾„é•¿åº¦ï¼‰è®¡ç®—  

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**  
* **è¯´æ˜**ï¼šç»¼åˆè‡ªAlex_Weiä¸Leap_Frogçš„ç®€æ´å®ç°ï¼ŒåŒ…å«æ ‘å‰–é¢„å¤„ç†å’ŒåŠ¨æ€å¼€ç‚¹æ¡†æ¶ã€‚
```cpp
#include <bits/stdc++.h>
using namespace std;
const int N = 5e4 + 5;

// æ ‘å‰–éƒ¨åˆ†
vector<int> g[N];
int dfn[N], sz[N], son[N], top[N], fa[N], dep[N], cnt;
void dfs1(int u) {
    sz[u] = 1;
    for (int v : g[u]) {
        dep[v] = dep[u] + 1;
        dfs1(v); sz[u] += sz[v];
        if (sz[v] > sz[son[u]]) son[u] = v;
    }
}
void dfs2(int u, int tp) {
    dfn[u] = ++cnt; top[u] = tp;
    if (son[u]) dfs2(son[u], tp);
    for (int v : g[u]) 
        if (v != son[u]) dfs2(v, v);
}

// åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘
struct Node { int ls, rs; ll sum, sq, tag; } tr[N*200];
int node, root[N];
void push(int x, int len, ll v) {
    tr[x].sq += 2 * tr[x].sum * v + 1ll * len * v * v;
    tr[x].sum += 1ll * len * v;
    tr[x].tag += v;
}
void update(int &x, int l, int r, int L, int R, ll v) {
    if (!x) x = ++node;
    if (L <= l && r <= R) return push(x, r-l+1, v);
    int mid = (l+r)>>1;
    if (L <= mid) update(tr[x].ls, l, mid, L, R, v);
    if (R > mid) update(tr[x].rs, mid+1, r, L, R, v);
    tr[x].sum = tr[tr[x].ls].sum + tr[tr[x].rs].sum;
    tr[x].sq = tr[tr[x].ls].sq + tr[tr[x].rs].sq;
}

// å…³é”®ï¼šè·¯å¾„ä¿®æ”¹å‡½æ•°
void pathUpdate(int x, int c, int v) {
    while (x) {
        update(root[c], 1, n, dfn[top[x]], dfn[x], v);
        x = fa[top[x]];
    }
}

int main() {
    // åˆå§‹åŒ–æ ‘å‰–
    dep[1] = 1; dfs1(1); dfs2(1,1);
    // ä¿®æ”¹æ“ä½œç¤ºä¾‹
    pathUpdate(u, old_color, -1);
    pathUpdate(u, new_color, 1);
    // æŸ¥è¯¢æ“ä½œï¼šç›´æ¥å–æ ¹èŠ‚ç‚¹ç»Ÿè®¡å€¼
    ll sum1 = tr[root[c]].sum;   // Î£Sáµ¢
    ll sum2 = tr[root[c]].sq;    // Î£Sáµ¢Â²
}
```

**é¢˜è§£ç‰‡æ®µèµæ**  
1. **Alex_Weiï¼šå¹³æ–¹å’Œæ›´æ–°ï¼ˆæ ¸å¿ƒä»£ç ï¼‰**  
   ```cpp
   void tag(..., ll v) {
       sq[x] += 2 * val[x] * v + (r-l+1) * v * v; // æ•°å­¦ç²¾é«“
       val[x] += (r-l+1) * v;
   }  
   ```
   * **è§£è¯»**ï¼šä»…3è¡Œå®Œæˆå¹³æ–¹å’Œæ›´æ–°ï¼Œä¸¥æ ¼éµå¾ª`(a+v)Â²=aÂ²+2av+vÂ²`çš„æ•°å­¦åŸç†ã€‚`(r-l+1)`å³åŒºé—´é•¿åº¦ï¼Œä½“ç°**åŒºé—´æ“ä½œæœ¬è´¨**ã€‚

2. **Leap_Frogï¼šæ ‡è®°æ°¸ä¹…åŒ–åº”ç”¨**  
   ```cpp
   void update(..., ll v) {
       if (è¦†ç›–åŒºé—´) return push(x, len, v); // ä¸ç«‹å³ä¸‹ä¼ 
       ... // ä»…æ›´æ–°å½“å‰èŠ‚ç‚¹ç»Ÿè®¡å€¼
   }  
   ```
   * **è§£è¯»**ï¼šæ”¾å¼ƒä¼ ç»Ÿpushdownï¼Œåœ¨é€’å½’å›æº¯æ—¶æ›´æ–°çˆ¶èŠ‚ç‚¹ã€‚ä¼˜åŠ¿ï¼š**é¿å…åŠ¨æ€å¼€ç‚¹æ—¶çš„ç©ºæŒ‡é’ˆæ£€æŸ¥**ï¼Œä»£ä»·æ˜¯æŸ¥è¯¢éœ€å®Œæ•´è·¯å¾„æ±‚å’Œã€‚

3. **sgl654321ï¼šæ ‘å‰–è·³é“¾é€»è¾‘**  
   ```cpp
   while (top[x] != 1) {
       update(..., dfn[top[x]], dfn[x]); // å¤„ç†å½“å‰é‡é“¾
       x = fa[top[x]];                  // è·³åˆ°ä¸Šæ¡é“¾
   }  
   ```
   * **è§£è¯»**ï¼šå…¸å‹æ ‘å‰–è·¯å¾„æ“ä½œæ¨¡æ¿ã€‚æ¯æ¬¡å¤„ç†ä¸€æ¡é‡é“¾ï¼ˆè¿ç»­åŒºé—´ï¼‰ï¼Œ`fa[top[x]]`å®ç°é“¾é—´è·³è·ƒï¼Œ**æ—¶é—´å¤æ‚åº¦O(log n)**ã€‚

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**è®¾è®¡ç†å¿µ**ï¼š8-bitçº¢ç™½æœºé£æ ¼ï¼Œèåˆã€Šå¡å°”è¾¾ä¼ è¯´ã€‹åœ°ç‰¢æ¢ç´¢å…ƒç´ ï¼Œå°†ç®—æ³•æµç¨‹è½¬åŒ–ä¸ºå‹‡è€…æ”¶é›†"ç®—æ³•èƒ½é‡"çš„å†’é™©ã€‚  

**æ ¸å¿ƒåŠ¨ç”»æµç¨‹**ï¼š  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - æ ‘ç»“æ„æ˜¾ç¤ºä¸ºåƒç´ åŒ–åœ£è¯æ ‘ï¼ˆç»¿=æ™®é€šèŠ‚ç‚¹ï¼Œé‡‘=é‡é“¾èŠ‚ç‚¹ï¼‰  
   - å³ä¾§ä¸ºåŠ¨æ€ç”Ÿé•¿çš„"çº¿æ®µæ ‘åœ°å›¾"ï¼Œåˆå§‹ç©ºç™½  

2. **ä¿®æ”¹æ“ä½œæ¼”ç¤º**ï¼š  
   - ç‚¹å‡»èŠ‚ç‚¹ï¼šæ’­æ”¾ç³–æœç¢è£‚éŸ³æ•ˆï¼ˆæ—§é¢œè‰²ï¼‰ï¼Œè·¯å¾„èŠ‚ç‚¹é—ªçƒçº¢å…‰ï¼ˆ-1ï¼‰  
   - æ–°ç³–æœå‡ºç°ï¼šè·¯å¾„èŠ‚ç‚¹é—ªçƒè“å…‰ï¼ˆ+1ï¼‰ï¼Œçº¿æ®µæ ‘å¯¹åº”ä½ç½®ç”Ÿé•¿æ–°åƒç´ å—  
   - æ ‘å‰–è·³é“¾ï¼šæ˜¾ç¤ºå‹‡è€…æ²¿é‡‘è‰²é“¾æ¡ï¼ˆé‡é“¾ï¼‰å‘ä¸Šè·³è·ƒï¼Œæ¯æ¬¡è·¨è¶Šæ’­æ”¾"é“¾æ¡å®å½“"éŸ³æ•ˆ  

3. **æŸ¥è¯¢æ“ä½œæ¼”ç¤º**ï¼š  
   - è¾“å…¥é¢œè‰²kï¼šå¯¹åº”çº¿æ®µæ ‘æ•´ä½“é«˜äº®é»„æ¡†  
   - å…¬å¼è®¡ç®—ï¼šæ˜¾ç¤º`Î£Sáµ¢Â²`å’Œ`Î£Sáµ¢`æ•°å€¼æµå…¥å…¬å¼ï¼Œæœ€ç»ˆç»“æœä»¥8-bitå­—ä½“å¼¹å‡º  

4. **äº¤äº’æ§åˆ¶é¢æ¿**ï¼š  
   - æ­¥è¿›/æš‚åœï¼šæ§åˆ¶åŠ¨ç”»é€Ÿåº¦  
   - é‡æ’­ï¼šé‡ç½®å½“å‰æ“ä½œ  
   - "AIæ¼”ç¤º"æ¨¡å¼ï¼šè‡ªåŠ¨éšæœºæ“ä½œï¼Œå‹‡è€…è‡ªåŠ¨å¯»è·¯  

**æŠ€æœ¯å®ç°**ï¼š  
- **è‰²å½©æ–¹æ¡ˆ**ï¼š  
  - èŠ‚ç‚¹ï¼šç»¿(#7CFC00) / é‡‘(FFD700) / çº¢(FF0000) / è“(4169E1)  
  - çº¿æ®µæ ‘ï¼šç°(808080)è¡¨ç¤ºæœªåˆ›å»ºï¼Œç»¿(32CD32)è¡¨ç¤ºå·²åˆ†é…  
- **éŸ³æ•ˆè®¾è®¡**ï¼š  
  - èŠ‚ç‚¹ä¿®æ”¹ï¼š8-bitç¢è£‚éŸ³(440Hz) + æ”¶é›†éŸ³(880Hz)  
  - çº¿æ®µæ ‘ç”Ÿé•¿ï¼šèŠ¯ç‰‡åˆ›å»ºå£°(200Hzæ–¹æ³¢)  
  - é”™è¯¯æ“ä½œï¼šçŸ­ä¿ƒè­¦æŠ¥(100Hz)  

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
**é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
1. **å­æ ‘ç»Ÿè®¡â†’è·¯å¾„ä¿®æ”¹**ï¼šæ ‘å‰–å°†å­æ ‘é—®é¢˜è½¬åŒ–ä¸ºç¥–å…ˆè·¯å¾„é—®é¢˜  
2. **åŠ¨æ€å¼€ç‚¹**ï¼šå½“"å®ä½“"ï¼ˆå¦‚é¢œè‰²ï¼‰æ•°é‡å¤§ä½†å•æ¬¡æ“ä½œæ¶‰åŠå°‘æ—¶é€‚ç”¨  
3. **å¹³æ–¹å’Œç»´æŠ¤**ï¼šé€‚ç”¨æ‰€æœ‰éœ€åŒºé—´åŠ å¹¶æ±‚å¹³æ–¹å’Œçš„åœºæ™¯  

**æ¨èç»ƒä¹ **ï¼š  
1. **æ´›è°·P3384ã€æ¨¡æ¿ã€‘æ ‘é“¾å‰–åˆ†**  
   * **ç†ç”±**ï¼šæŒæ¡æ ‘å‰–åŸºæœ¬æ“ä½œï¼Œç†è§£é‡é“¾åˆ†è§£åŸç†  
2. **æ´›è°·P5142 åŒºé—´æ–¹å·®**  
   * **ç†ç”±**ï¼šåŠ æ·±å¹³æ–¹å’Œå…¬å¼æ¨å¯¼èƒ½åŠ›ï¼Œå­¦ä¼šç»´æŠ¤`Î£xÂ²`å’Œ`Î£x`  
3. **CF343D Water Tree**  
   * **ç†ç”±**ï¼šæ ‘å‰–+çº¿æ®µæ ‘çš„ç»¼åˆåº”ç”¨ï¼Œç»ƒä¹ åŒºé—´èµ‹å€¼æ“ä½œ  

#### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **æ¥è‡ªAlex_Weiçš„è°ƒè¯•ç»éªŒ**ï¼š"WAåå‘ç°pushdownæ—¶æœªç»™å„¿å­å¼€ç©ºé—´ï¼ŒåŠ¨æ€å¼€ç‚¹å¿…é¡»æ£€æŸ¥å·¦å³å­æ˜¯å¦å­˜åœ¨"  
> **Kayçš„æ€»ç»“**ï¼šè¿™æ˜¯åŠ¨æ€å¼€ç‚¹çš„æ ¸å¿ƒé™·é˜±ï¼è®°ä½ï¼š  
> 1. è®¿é—®`tr[x].ls/rs`å‰ç¡®ä¿å…¶éç©º  
> 2. pushdownæ—¶è‹¥å„¿å­ä¸ºç©ºéœ€ç«‹å³åˆ›å»º  
> è°ƒè¯•æ—¶å¯æ‰“å°èŠ‚ç‚¹åˆ†é…æ•°ï¼Œå¼‚å¸¸å¢é•¿é¢„ç¤ºæœªæ­£ç¡®å¤ç”¨èŠ‚ç‚¹  

> **æ¥è‡ªsgl654321çš„ä¼˜åŒ–å»ºè®®**ï¼š"ä¿®æ”¹å‰å…ˆåˆ æ—§é¢œè‰²å†å¢æ–°é¢œè‰²ï¼Œé¡ºåºé¢ å€’ä¼šå¯¼è‡´ä¸´æ—¶çŠ¶æ€é”™è¯¯"  
> **Kayçš„æ€»ç»“**ï¼šæ•°æ®ä¿®æ”¹çš„**åŸå­æ€§**è‡³å…³é‡è¦ï¼Œå»ºè®®ï¼š  
> 1. å°†ä¿®æ”¹å°è£…ä¸º`changeColor(u,new)`å‡½æ•°  
> 2. å†…éƒ¨ä¸¥æ ¼æŒ‰`å‡æ—§â†’æ›´æ–°â†’å¢æ–°`é¡ºåºæ‰§è¡Œ  

#### ç»“è¯­
é€šè¿‡æœ¬é¢˜ï¼Œæˆ‘ä»¬æ·±å…¥æŒæ¡äº†**æ ‘å‰–è½¬åŒ–è·¯å¾„é—®é¢˜**çš„æŠ€å·§ï¼Œå¹¶å­¦ä¼šç”¨**åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘**è§£å†³ç¨€ç–æ•°æ®é—®é¢˜ã€‚å…³é”®æ˜¯è¦ç†è§£å¹³æ–¹å’Œæ›´æ–°çš„æ•°å­¦åŸç†å’Œæ ‘å‰–çš„é“¾å¼åˆ†è§£æ€æƒ³ã€‚ä¸‹æ¬¡é‡åˆ°å­æ ‘ç»Ÿè®¡+é¢œè‰²ä¿®æ”¹çš„é—®é¢˜ï¼Œä¸å¦¨ä¼˜å…ˆè€ƒè™‘æ­¤ç»„åˆè§£æ³•ï¼ğŸ„âœ¨

---
å¤„ç†ç”¨æ—¶ï¼š129.13ç§’
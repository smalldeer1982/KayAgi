# é¢˜ç›®ä¿¡æ¯

# The Destruction of the Universe (Hard Version)

## é¢˜ç›®æè¿°

This is the hard version of the problem. In this version, $ n \leq 10^6 $ . You can only make hacks if both versions of the problem are solved.

Orangutans are powerful beingsâ€”so powerful that they only need $ 1 $ unit of time to destroy every vulnerable planet in the universe!

There are $ n $ planets in the universe. Each planet has an interval of vulnerability $ [l, r] $ , during which it will be exposed to destruction by orangutans. Orangutans can also expand the interval of vulnerability of any planet by $ 1 $ unit.

Specifically, suppose the expansion is performed on planet $ p $ with interval of vulnerability $ [l_p, r_p] $ . Then, the resulting interval of vulnerability may be either $ [l_p - 1, r_p] $ or $ [l_p, r_p + 1] $ .

Given a set of planets, orangutans can destroy all planets if the intervals of vulnerability of all planets in the set intersect at least one common point. Let the score of such a set denote the minimum number of expansions that must be performed.

Orangutans are interested in the sum of scores of all non-empty subsets of the planets in the universe. As the answer can be large, output it modulo $ 998\,244\,353 $ .

## è¯´æ˜/æç¤º

In the first testcase, there are seven non-empty subsets of planets we must consider:

- For each of the subsets $ \{[1,1]\}, \{[2,3]\}, \{[3,3]\} $ , the score is $ 0 $ .
- For the subset $ \{[2,3], [3,3]\} $ , the score is $ 0 $ , because the point $ 3 $ is already contained in both planets' interval of vulnerability.
- For the subset $ \{[1,1], [2,3]\} $ , the score is $ 1 $ . By using one operation on changing the interval of vulnerability of the second planet to be $ [1,3] $ , the two planets now both have the point $ 1 $ in their interval.
- For the subset $ \{[1,1], [3,3]\} $ , the score is $ 2 $ . By using two operations on changing the interval of vulnerability of the first planet to be $ [1,3] $ , the two planets now both have the point $ 3 $ in their interval.
- For the subset $ \{[1,1], [2,3], [3,3]\} $ , the score is $ 2 $ . By using one operation on changing the interval of vulnerability of the first planet to be $ [1,2] $ and one operation on changing the interval of vulnerability of the third planet to $ [2,3] $ , all three planets will have the point $ 2 $ in their interval.

The sum of scores of all non-empty subsets of the first testcase is $ 0 \cdot 4 + 1 \cdot 1 + 2\cdot2 = 5 $ .

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
3
1 1
2 3
3 3
4
1 4
2 3
2 4
1 1
5
1 2
2 3
3 4
4 5
1 5```

### è¾“å‡º

```
5
6
24```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šå®‡å®™æ¯ç­é—®é¢˜ï¼ˆå›°éš¾ç‰ˆï¼‰æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šç»„åˆæ•°å­¦ + ç¦»æ•£åŒ– + å‰ç¼€å’Œä¼˜åŒ–  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è¿™é“é¢˜è¦æ±‚è®¡ç®—æ‰€æœ‰éç©ºè¡Œæ˜Ÿå­é›†çš„åˆ†æ•°ä¹‹å’Œï¼Œå…¶ä¸­åˆ†æ•°å®šä¹‰ä¸ºä½¿æ‰€æœ‰è¡Œæ˜Ÿè„†å¼±åŒºé—´è‡³å°‘æœ‰ä¸€ä¸ªå…¬å…±äº¤ç‚¹æ‰€éœ€çš„æœ€å°æ‰©å±•æ“ä½œæ¬¡æ•°ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š**æ¯ä¸ªå­é›†çš„æœ€å°æ“ä½œæ¬¡æ•°ç­‰ä»·äºå°†æ‰€æœ‰åŒºé—´ç«¯ç‚¹é›†åˆçš„ä¸­ä½æ•°ä½œä¸ºå…¬å…±äº¤ç‚¹æ—¶çš„æ“ä½œæ¬¡æ•°**ã€‚  
> - å…³é”®éš¾ç‚¹åœ¨äºé¿å…é‡å¤è®¡ç®—ï¼Œéœ€é€šè¿‡ç¦»æ•£åŒ–èµ‹äºˆç«¯ç‚¹å”¯ä¸€é¡ºåºï¼ˆå·¦ç«¯ç‚¹ä¼˜å…ˆç¼–å·ï¼‰ï¼Œå†æšä¸¾æ¯ä¸ªç«¯ç‚¹ä½œä¸ºä¸­ä½æ•°çš„è´¡çŒ®ã€‚
> - è´¡çŒ®è®¡ç®—åˆ©ç”¨ç»„åˆæ’ç­‰å¼ï¼ˆèŒƒå¾·è’™å¾·å·ç§¯ï¼‰å°†åŒé‡æ±‚å’Œç®€åŒ–ä¸ºäºŒé¡¹å¼ç³»æ•°ï¼Œç»“åˆå‰ç¼€å’Œä¼˜åŒ–å®ç°O(n)è®¡ç®—ã€‚
> - å¯è§†åŒ–è®¾è®¡ï¼šé‡‡ç”¨8-bitåƒç´ é£æ ¼ï¼Œåœ¨æ•°è½´ä¸ŠåŠ¨æ€å±•ç¤ºç«¯ç‚¹æšä¸¾è¿‡ç¨‹ã€‚å·¦ç«¯ç‚¹ç”¨è“è‰²æ–¹å—ï¼Œå³ç«¯ç‚¹ç”¨çº¢è‰²æ–¹å—ï¼Œå½“å‰æšä¸¾ç‚¹é«˜äº®é—ªçƒã€‚è®¡ç®—è´¡çŒ®æ—¶æ˜¾ç¤ºç»„åˆæ•°å…¬å¼ï¼Œä¼´éš"å®"çš„éŸ³æ•ˆï¼Œè‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼å¯è°ƒé€Ÿè§‚å¯Ÿå…¨è¿‡ç¨‹ã€‚

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼š_abcd_ï¼‰**  
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°æ¨å¯¼äº†è´¡çŒ®å…¬å¼ $\min_x \sum [r_i \le x](x - r_i) + [x < l_i](l_i - x)$ï¼Œå¹¶åˆ©ç”¨èŒƒå¾·è’™å¾·å·ç§¯ $\sum_j \binom{a}{j}\binom{b}{j-1} = \binom{a+b-1}{b}$ å°†å¤æ‚åº¦ä¼˜åŒ–è‡³O(n)ã€‚ä»£ç è§„èŒƒï¼šé¢„å¤„ç†é˜¶ä¹˜/é€†å…ƒåŠ é€Ÿç»„åˆæ•°ï¼Œå˜é‡å`d1/d2`æ˜ç¡®è¡¨ç¤ºå·¦å³ç«¯ç‚¹è®¡æ•°ï¼Œè¾¹ç•Œå–æ¨¡ä¸¥è°¨ã€‚äº®ç‚¹åœ¨äºç»„åˆæ’ç­‰å¼çš„ç²¾å¦™åº”ç”¨ã€‚

**é¢˜è§£äºŒï¼ˆä½œè€…ï¼šForgotMeï¼‰**  
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§æå‡ºå‡ ä½•è§£é‡Šâ€”â€”$f(x)$çš„æœ€å°å€¼å¯¹åº”ç«¯ç‚¹é›†åˆçš„ä¸­ä½æ•°ã€‚ä»£ç å®è·µä»·å€¼é«˜ï¼šG2ç‰ˆç”¨å‰ç¼€å’Œæ•°ç»„`s1/s2`å–ä»£æš´åŠ›å¾ªç¯ï¼Œé¿å…O(nÂ²)é™·é˜±ï¼›ç¦»æ•£åŒ–æ—¶å¯¹ç«¯ç‚¹é‡ç¼–å·ç¡®ä¿å”¯ä¸€æ€§ï¼Œè°ƒè¯•å¿ƒå¾—"æ³¨æ„ç›¸åŒå€¼çš„ç«¯ç‚¹éœ€åˆ†ç±»è®¨è®º"æå…·å‚è€ƒä»·å€¼ã€‚

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹ï¼šç«¯ç‚¹é‡å¤å¯¼è‡´ä¸­ä½æ•°å®šä½æ¨¡ç³Š**  
   * **åˆ†æ**ï¼šç¦»æ•£åŒ–æ—¶å¯¹ç›¸åŒå€¼çš„å·¦/å³ç«¯ç‚¹èµ‹äºˆä¸åŒç¼–å·ï¼ˆå¦‚å·¦ç«¯ç‚¹ç¼–å·ä¼˜å…ˆï¼‰ï¼Œä½¿æ¯ä¸ªç«¯ç‚¹ä½ç½®å”¯ä¸€ã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç¦»æ•£åŒ–å”¯ä¸€æ€§æ˜¯æ­£ç¡®è®¡æ•°çš„åŸºçŸ³ã€‚

2. **éš¾ç‚¹ï¼šè´¡çŒ®å…¬å¼çš„åŒé‡æ±‚å’Œè®¡ç®—å¤æ‚**  
   * **åˆ†æ**ï¼šåˆ©ç”¨èŒƒå¾·è’™å¾·å·ç§¯ $\sum_j \binom{cnt_1}{j}\binom{cnt_2-1}{j-1} = \binom{cnt_1+cnt_2-1}{cnt_2}$ å°†O(nÂ²)ä¼˜åŒ–è‡³O(1)ã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç»„åˆæ’ç­‰å¼æ˜¯ä¼˜åŒ–å¤šé‡æ±‚å’Œçš„åˆ©å™¨ã€‚

3. **éš¾ç‚¹ï¼šåŠ¨æ€ç»´æŠ¤å·¦å³åŒºé—´æ•°é‡**  
   * **åˆ†æ**ï¼šéå†ç«¯ç‚¹æ—¶ï¼Œç”¨`cnt1/cnt2`åˆ†åˆ«ç´¯è®¡å·¦å³åŒºé—´æ•°ï¼Œ`sum1/sum2`åŠ¨æ€è®°å½•ç«¯ç‚¹å€¼å’Œï¼Œé¿å…é‡å¤æ‰«æã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå‰ç¼€å’Œæ˜¯åŠ¨æ€ç»Ÿè®¡é—®é¢˜çš„é€šç”¨ä¼˜åŒ–æ‰‹æ®µã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1ï¼šç»„åˆæ’ç­‰å¼é™ç»´** â€“ é‡åŒé‡æ±‚å’Œä¼˜å…ˆè€ƒè™‘èŒƒå¾·è’™å¾·å·ç§¯ç­‰æ’ç­‰å¼ã€‚
- **æŠ€å·§2ï¼šç¦»æ•£åŒ–å”¯ä¸€åŒ–** â€“ å¯¹ç›¸åŒå€¼å…ƒç´ èµ‹äºˆé¡ºåºç¼–å·ï¼Œç¡®ä¿ä½ç½®å”¯ä¸€ã€‚
- **æŠ€å·§3ï¼šå‰ç¼€å’ŒåŠ¨æ€ç»´æŠ¤** â€“ ç”¨æ•°ç»„é¢„è®¡ç®—å–ä»£å®æ—¶æ‰«æï¼Œæå‡æ•ˆç‡ã€‚

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**  
* **è¯´æ˜**ï¼šç»¼åˆé¢˜è§£ä¸€/äºŒæ€è·¯ï¼Œé¢„å¤„ç†é˜¶ä¹˜/é€†å…ƒï¼Œç¦»æ•£åŒ–+å‰ç¼€å’Œä¼˜åŒ–ã€‚
```cpp
#include <bits/stdc++.h>
#define int long long
using namespace std;
const int mod = 998244353, maxn = 2000005;

int jc[maxn], inv[maxn], mi[maxn];
void precompute() { // é¢„å¤„ç†é˜¶ä¹˜/é€†å…ƒ/2çš„å¹‚
    jc[0] = 1;
    for (int i = 1; i < maxn; i++) jc[i] = jc[i-1] * i % mod;
    inv[maxn-1] = pow(jc[maxn-1], mod-2, mod); // å¿«é€Ÿå¹‚æ±‚é€†å…ƒ
    for (int i = maxn-2; i >= 0; i--) inv[i] = inv[i+1] * (i+1) % mod;
    mi[0] = 1;
    for (int i = 1; i < maxn; i++) mi[i] = mi[i-1] * 2 % mod;
}
int binom(int n, int m) { // ç»„åˆæ•°è®¡ç®—
    if (n < m || m < 0) return 0;
    return jc[n] * inv[m] % mod * inv[n-m] % mod;
}

void solve() {
    int n; cin >> n;
    vector<pair<int, int>> planets(n);
    vector<int> all; // ç¦»æ•£åŒ–æ•°ç»„
    for (auto &[l, r] : planets) {
        cin >> l >> r;
        all.push_back(l); all.push_back(r);
    }
    sort(all.begin(), all.end());
    all.erase(unique(all.begin(), all.end()), all.end());

    vector<int> d1(2*all.size()+5, 0), d2(2*all.size()+5, 0);
    vector<int> cnt(2*all.size()+5, -1); // ç«¯ç‚¹è®¡æ•°å™¨

    // èµ‹äºˆç«¯ç‚¹å”¯ä¸€ç¼–å·ï¼ˆå·¦ç«¯ç‚¹ä¼˜å…ˆï¼‰
    for (auto &[l, r] : planets) {
        int pos = lower_bound(all.begin(), all.end(), l) - all.begin();
        cnt[pos]++; l = pos + cnt[pos]; // å·¦ç«¯ç‚¹æ–°ç¼–å·
        d1[l]++; // è®¡æ•°å·¦ç«¯ç‚¹
        pos = lower_bound(all.begin(), all.end(), r) - all.begin();
        cnt[pos]++; r = pos + cnt[pos]; // å³ç«¯ç‚¹æ–°ç¼–å·
        d2[r]++; // è®¡æ•°å³ç«¯ç‚¹
    }

    // å‰ç¼€å’Œï¼šs1/sum1ä¸ºå³ç«¯ç‚¹ï¼Œs2/sum2ä¸ºå·¦ç«¯ç‚¹
    vector<int> s1(2*all.size()+5, 0), s2(2*all.size()+5, 0);
    vector<int> sum1(2*all.size()+5, 0), sum2(2*all.size()+5, 0);
    for (int i = 1; i <= 2*all.size(); i++) {
        s1[i] = s1[i-1] + d2[i]; // å³ç«¯ç‚¹æ•°é‡å‰ç¼€å’Œ
        sum1[i] = (sum1[i-1] + all[i/2] * d2[i]) % mod; // å³ç«¯ç‚¹å€¼å’Œ
    }
    for (int i = 2*all.size(); i >= 1; i--) {
        s2[i] = s2[i+1] + d1[i]; // å·¦ç«¯ç‚¹æ•°é‡åç¼€å’Œ
        sum2[i] = (sum2[i+1] + all[i/2] * d1[i]) % mod; // å·¦ç«¯ç‚¹å€¼å’Œ
    }

    int ans = 0, cnt1 = 0, cnt2 = n, sL = 0, sR = 0;
    for (int i = 1; i <= 2*all.size(); i++) {
        // åŠ¨æ€ç»´æŠ¤å·¦å³åŒºé—´ä¿¡æ¯
        cnt2 -= d1[i]; // å‡å°‘å³åŒºé—´è®¡æ•°
        sR = (sR - all[i/2] * d1[i] % mod + mod) % mod; // æ›´æ–°å³åŒºé—´å’Œ
        int c1 = cnt1, c2 = cnt2;
        int coef = mi[n - c1 - c2 - 1]; // 2çš„å¹‚æ¬¡ç³»æ•°

        // ç»„åˆæ•°å…¬å¼è®¡ç®—è´¡çŒ®
        int term1 = binom(c1 + c2 - 1, c2) * sum2[i] % mod;
        int term2 = binom(c1 + c2 - 1, c1) * sR % mod;
        ans = (ans + coef * (term1 - term2 + mod)) % mod;

        cnt1 += d2[i]; // å¢åŠ å·¦åŒºé—´è®¡æ•°
        sL = (sL + all[i/2] * d2[i]) % mod; // æ›´æ–°å·¦åŒºé—´å’Œ
    }
    cout << ans << '\n';
}
```

**é¢˜è§£ä¸€ç‰‡æ®µèµæ**  
```cpp
int term1 = binom(c1 + c2 - 1, c2) * sum2[i] % mod;
int term2 = binom(c1 + c2 - 1, c1) * sR % mod;
ans = (ans + coef * (term1 - term2 + mod)) % mod;
```
* **ä»£ç è§£è¯»**ï¼š  
  > æ­¤å¤„è®¡ç®—å½“å‰ç«¯ç‚¹ä½œä¸ºä¸­ä½æ•°çš„è´¡çŒ®ã€‚`c1/c2`ä¸ºå·¦å³åŒºé—´æ•°é‡ï¼Œ`sum2[i]`æ˜¯å·¦ç«¯ç‚¹å€¼åç¼€å’Œï¼Œ`sR`æ˜¯å³ç«¯ç‚¹å€¼å‰ç¼€å’Œã€‚`binom`ç”¨é¢„å¤„ç†çš„ç»„åˆæ•°å®ç°O(1)è®¡ç®—ï¼Œ`coef`å¤„ç†æ— å…³åŒºé—´çš„å­é›†é€‰æ‹©ï¼ˆ$2^{n-cnt_1-cnt_2-1}$ï¼‰ã€‚  
  > **å…³é”®å˜é‡**ï¼š  
  > - `c1`ï¼šå½“å‰ç‚¹å·¦ä¾§åŒºé—´æ•°  
  > - `c2`ï¼šå½“å‰ç‚¹å³ä¾§åŒºé—´æ•°  
  > - `sum2[i]`ï¼šå·¦ç«¯ç‚¹>å½“å‰ç‚¹çš„åŒºé—´å€¼æ€»å’Œ  
  > **å­¦ä¹ ç¬”è®°**ï¼šèŒƒå¾·è’™å¾·å·ç§¯å°†åŒé‡æ±‚å’Œè½¬åŒ–ä¸ºä¹˜ç§¯å½¢å¼æ˜¯æ€§èƒ½å…³é”®ã€‚

---

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**è®¾è®¡ä¸»é¢˜**ï¼š8-bité£æ ¼"å®‡å®™ç«¯ç‚¹æ¢é™©"  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šåœ¨åƒç´ ç½‘æ ¼æ•°è½´ä¸ŠåŠ¨æ€æšä¸¾ç«¯ç‚¹ï¼Œå±•ç¤ºä¸­ä½æ•°é€‰æ‹©ä¸è´¡çŒ®è®¡ç®—è¿‡ç¨‹ã€‚  

**åŠ¨ç”»è®¾è®¡**ï¼š
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š
   - **8-bitç½‘æ ¼**ï¼šXè½´è¡¨ç¤ºç«¯ç‚¹å€¼ï¼Œå·¦ç«¯ç‚¹è“è‰²æ–¹å—ï¼Œå³ç«¯ç‚¹çº¢è‰²æ–¹å—ã€‚
   - **æ§åˆ¶é¢æ¿**ï¼šå¼€å§‹/æš‚åœã€å•æ­¥æ‰§è¡Œã€é€Ÿåº¦æ»‘å—ï¼ˆè°ƒé€ŸèŒƒå›´0.5x-5xï¼‰ã€‚
   - **èƒŒæ™¯éŸ³ä¹**ï¼šFCæ¸¸æˆé£æ ¼å¾ªç¯BGMã€‚

2. **å…³é”®å¸§æµç¨‹**ï¼š
   ```plaintext
   å¸§1: åˆå§‹åŒ–ç«¯ç‚¹åˆ†å¸ƒ
       æ•°è½´: [1(è“)]----[2(çº¢)]----[3(çº¢)] 
       éŸ³æ•ˆ: "å®"ï¼ˆåˆå§‹åŒ–å®Œæˆï¼‰
   
   å¸§2: æšä¸¾ç«¯ç‚¹2ï¼ˆé«˜äº®é—ªçƒï¼‰
       æ˜¾ç¤º: cnt1=1ï¼ˆå·¦ï¼‰, cnt2=1ï¼ˆå³ï¼‰
       å…¬å¼: term1 = C(1+1-1,1)*âˆ‘l_i - C(1+1-1,1)*âˆ‘r_i
       éŸ³æ•ˆ: "æ»´"ï¼ˆé€‰æ‹©ç«¯ç‚¹ï¼‰

   å¸§3: è®¡ç®—è´¡çŒ®
       åŠ¨æ€æ˜¾ç¤º: term1=3-2=1 â†’ è´¡çŒ®+=1*2^{3-1-1-1}
       éŸ³æ•ˆ: "å®å’š"ï¼ˆè®¡ç®—å®Œæˆï¼‰

   å¸§4: è‡ªåŠ¨æ¨¡å¼æ¼”ç¤º
       AIè‡ªåŠ¨éå†ç«¯ç‚¹ï¼Œé€Ÿåº¦=2xï¼Œæ¯æ­¥0.5ç§’
   ```

3. **äº¤äº’ä¸åé¦ˆ**ï¼š
   - **æ­¥è¿›æ§åˆ¶**ï¼šæŒ‰å•æ­¥é”®é€æ­¥éªŒè¯ç»„åˆæ•°è®¡ç®—é€»è¾‘ã€‚
   - **é«˜äº®è§„åˆ™**ï¼šå½“å‰ç«¯ç‚¹é—ªçƒé»„è‰²ï¼Œå…³è”åŒºé—´ç´«è‰²è¾¹æ¡†ã€‚
   - **éŸ³æ•ˆä½“ç³»**ï¼š
     - å…³é”®æ“ä½œï¼šé€‰æ‹©ç«¯ç‚¹æ—¶"æ»´"
     - è®¡ç®—å®Œæˆï¼šä¸Šæ‰¬"å®å’š"
     - é”™è¯¯æç¤ºï¼šçŸ­ä¿ƒ"å“”"

---

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
1. **é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
   ç»„åˆæ•°+å‰ç¼€å’Œé€‚ç”¨äºï¼š
   - ç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„å­é›†æ•°é‡ï¼ˆå¦‚åŒºé—´äº¤é›†é—®é¢˜ï¼‰
   - å¸¦æƒè´¡çŒ®çš„æšä¸¾æ±‚å’Œ
   - ç¦»æ•£åŒ–ä¼˜åŒ–è®¡æ•°é—®é¢˜

2. **æ¨èç»ƒä¹ ï¼ˆæ´›è°·ï¼‰**ï¼š
   - **P1972 [SDOI2009] HHçš„é¡¹é“¾**  
     â†’ ç»ƒä¹ ç¦»æ•£åŒ–+å‰ç¼€å’Œç»Ÿè®¡åŒºé—´ä¸åŒå…ƒç´ æ•°
   - **P1496 ç«çƒ§èµ¤å£**  
     â†’ å¼ºåŒ–åŒºé—´ç¦»æ•£åŒ–ä¸è¦†ç›–é—®é¢˜
   - **P3811 ã€æ¨¡æ¿ã€‘ä¹˜æ³•é€†å…ƒ**  
     â†’ å·©å›ºç»„åˆæ•°é¢„å¤„ç†æŠ€å·§

---

#### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **ä½œè€…ForgotMeçš„è°ƒè¯•ç»éªŒ**ï¼š  
> *"ç¦»æ•£åŒ–æ—¶è‹¥ç«¯ç‚¹å€¼ç›¸åŒï¼Œå¿…é¡»é€šè¿‡é‡ç¼–å·åŒºåˆ†å·¦å³ç«¯ç‚¹ï¼Œå¦åˆ™ä¸­ä½æ•°è®¡æ•°ä¼šæ··ä¹±ã€‚"*  
> **Kayç‚¹è¯„**ï¼šè¿™æ˜¯ç¦»æ•£åŒ–çš„å¸¸è§é™·é˜±ã€‚å»ºè®®ç¼–ç æ—¶å¢åŠ æ³¨é‡Šå¦‚ï¼š  
> ```cpp
> // é‡ç¼–å·è§„åˆ™ï¼šç›¸åŒå€¼å·¦ç«¯ç‚¹ä¼˜å…ˆ
> for (auto x:G1[i]) l2[x]=++cnt; 
> for (auto x:G2[i]) r2[x]=++cnt;
> ```

---

é€šè¿‡æœ¬æ¬¡åˆ†æï¼Œæˆ‘ä»¬æ·±å…¥æŒæ¡äº†ç»„åˆæ•°å­¦åœ¨åŒºé—´é—®é¢˜ä¸­çš„ç²¾å¦™åº”ç”¨ã€‚ä¸‹æ¬¡æŒ‘æˆ˜å†è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š230.95ç§’
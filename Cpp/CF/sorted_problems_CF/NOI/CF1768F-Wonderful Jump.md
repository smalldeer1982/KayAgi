---
title: "Wonderful Jump"
layout: "post"
diff: NOI/NOI+/CTSC
pid: CF1768F
tag: []
---

# Wonderful Jump

## 题目描述

给定整数 $n$ 和长度为 $n$ 的序列 $a$。  
从位置 $i$ 跳到位置 $j(1\leq i\leq j\leq n)$ 需要花费 $\min(a_i,a_{i+1},\cdots,a_j)\times(j-i)^2$ 枚金币。  
对于 $k=1,2,\cdots,n$，求出从位置 $1$ 经若干次跳跃后跳到位置 $k$ 需要的最小金币总数。

## 输入格式

第一行输入一个整数 $n(2\leq n\leq4\times10^5)$。  
接下来输入一行 $n$ 个整数 $a_1,a_2,\cdots,a_n(1\leq a_i\leq n)$。

## 输出格式

输出一行 $n$ 个整数，其中第 $k$ 个整数表示从位置 $1$ 到位置 $k$ 所需的最小金币数。

## 样例 #1

### 输入

```
3
2 1 3
```

### 输出

```
0 1 2
```

## 样例 #2

### 输入

```
6
1 4 1 6 3 2
```

### 输出

```
0 1 2 3 6 8
```

## 样例 #3

### 输入

```
2
1 2
```

### 输出

```
0 1
```

## 样例 #4

### 输入

```
4
1 4 4 4
```

### 输出

```
0 1 4 8
```


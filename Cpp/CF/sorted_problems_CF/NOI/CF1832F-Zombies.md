---
title: "Zombies"
layout: "post"
diff: NOI/NOI+/CTSC
pid: CF1832F
tag: []
---

# Zombies

## 题目描述

给定 $n$ 个左闭右开区间 $I_i = [l_i, r_i)$（$1\leq i\leq n$）。

找出 $k$ 个左闭右开区间 $J_j = [a_j, b_j)$（$1\leq j\leq k$）满足 $a_j + m = b_j$ 且 $0\leq a_j < b_j \leq x$，以及一个长度为 $n$ 的数组 $p_i\in [1, k]$，最大化 $\sum_{i = 1} ^ n |[0, x) \backslash (I_i\cup J_{p_i})|$。

你只需求出最大化的值，不需要给出构造方案。

区间 $[l, r)$ 的长度为 $r - l$，即 $|[l, r)| = r - l$。

$1\leq k\leq n\leq 2000$，$1\leq m\leq x \leq 10 ^ 9$，$0\leq l_i < r_i \leq x$。

## 输入格式

第一行四个整数 $n, k, x, m$。

接下来 $n$ 行，每行两个整数 $l_i, r_i$。

## 输出格式

输出一行一个整数表示答案。

翻译贡献者：[Alex_Wei](https://www.luogu.com.cn/user/123294)。

## 样例 #1

### 输入

```
3 3 10 3
0 2
1 7
4 7
```

### 输出

```
18
```

## 样例 #2

### 输入

```
3 2 10 3
0 2
1 7
4 7
```

### 输出

```
18
```

## 样例 #3

### 输入

```
3 1 10 3
0 2
1 7
4 7
```

### 输出

```
16
```

## 样例 #4

### 输入

```
2 1 20 6
11 13
2 14
```

### 输出

```
22
```

## 样例 #5

### 输入

```
5 3 7 4
4 6
0 3
4 7
1 5
2 7
```

### 输出

```
14
```

## 样例 #6

### 输入

```
6 3 9 4
3 9
4 9
2 5
0 5
6 9
2 3
```

### 输出

```
26
```


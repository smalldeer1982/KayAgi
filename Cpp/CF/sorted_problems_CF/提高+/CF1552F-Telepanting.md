---
title: "Telepanting"
layout: "post"
diff: 提高+/省选-
pid: CF1552F
tag: []
---

# Telepanting

## 题目描述

### **【题目大意】**

有一只初始在位置 $0$ 的蚂蚁，它每秒钟会向右走 $1$ 一个单位长度。

在地图上有 $n$ 个虫洞，第 $i$ 个虫洞在位置 $x_{i}$，如果它是活动的，它就会把蚂蚁送回到位置 $y_{i}(y_{i}<x_{i})$。

初始时每个虫洞有一个参数 $s_{i}$，$s_{i}$ 是 $0$ 表示虫洞是初始静止的，而 $1$ 表示虫洞初始是活动的。

当蚂蚁踩到虫洞 $i$ 时：

- 如果这个虫洞是静止的，那么此虫洞会变成活动的，但是蚂蚁的位置不改变。
- 如果这个虫洞是活动，那么此虫洞将变成静止，且会把蚂蚁送回 $y_{i}$ 位置，而接下来蚂蚁将保持向右每秒 $1$ 个单位的速度前进（即下一秒它会到位置 $y_{i}+1$）。

现在我们想知道，这只蚂蚁需要多少时间才能到位置 $(x_{n}+1)$ 呢？**答案对 $998244353$ 取模**。

## 输入格式

第一行 $1$ 个数 $n$，表示虫洞的数量。

接下来 $n$ 行每行 $3$ 个整数，$x_{i},y_{i},s_{i}$，含义见题面。

保证 $\forall i \in [1,n), \quad  x_{i}<x_{i+1}$，且 $x_{1 \cdots n},y_{1 \cdots n}$ 两两不同。

## 输出格式

一行一个整数，表示答案。

**答案对 $998244353$ 取模**。

## 说明/提示

- $1 \leq n \leq 2 \times 10^{5}$。
- $\forall i \in [1,n], \quad 1 \leq y_{i}<x_{i} \leq 1 \times 10^{9},s_{i} \in \{0,1 \}$。

Translated by @HPXXZYY

## 样例 #1

### 输入

```
4
3 2 0
6 5 1
7 4 0
8 1 1
```

### 输出

```
23
```

## 样例 #2

### 输入

```
1
454971987 406874902 1
```

### 输出

```
503069073
```

## 样例 #3

### 输入

```
5
243385510 42245605 0
644426565 574769163 0
708622105 208990040 0
786625660 616437691 0
899754846 382774619 0
```

### 输出

```
899754847
```

## 样例 #4

### 输入

```
5
200000000 100000000 1
600000000 400000000 0
800000000 300000000 0
900000000 700000000 1
1000000000 500000000 0
```

### 输出

```
3511295
```


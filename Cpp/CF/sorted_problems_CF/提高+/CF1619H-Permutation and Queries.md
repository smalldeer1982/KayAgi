---
title: "Permutation and Queries"
layout: "post"
diff: 提高+/省选-
pid: CF1619H
tag: []
---

# Permutation and Queries

## 题目描述

给定由 $1 \sim n$ 构成的排列 $p$，有两种操作:

- `1 x y`：交换 $p_{x}$ 和 $p_{y}$。

- `2 i k`：给出 $i$ 的初始值，令 $i \gets p_{i}$ 执行 $k$ 次，最后输出 $i$。

至少有一个第二类操作。

## 输入格式

第一行包含两个整数 $n, q$（$1 \le n,q \le 10^{5}$），分别表示数的个数和操作次数。

第二行包含 $n$ 个整数 $p_{1}, p_{2}, \ldots, p_{n}$。

接下来的 $q$ 行每行包含三个整数，表示一种操作。

## 输出格式

每行一个整数，表示每一个第二类查询的结果。

## 样例 #1

### 输入

```
5 4
5 3 4 2 1
2 3 1
2 1 2
1 1 3
2 1 2
```

### 输出

```
4
1
2
```

## 样例 #2

### 输入

```
5 9
2 3 5 1 4
2 3 5
2 5 5
2 5 1
2 5 3
2 5 4
1 5 4
2 5 3
2 2 5
2 5 1
```

### 输出

```
3
5
4
2
3
3
3
1
```


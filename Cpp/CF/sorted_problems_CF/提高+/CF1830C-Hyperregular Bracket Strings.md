---
title: "Hyperregular Bracket Strings"
layout: "post"
diff: 提高+/省选-
pid: CF1830C
tag: ['哈希 hashing', '组合数学']
---

# Hyperregular Bracket Strings

## 题目描述

给定一个数 $n$ 和 $k$ 个区间 $\left[l_i,r_i\right]\in [1,n]$。

我们定义，对于一个长度为 $n$ 的，仅由 ```(``` 和 ```)``` 组成的合法括号序列，如果它的每一个区间 $\left[l_i,r_i\right]$ 内的子串都是合法括号序列，那么这个括号序列是**好的**。

求**好的**括号序列的数量，答案对 $998244353$ 取模。

## 输入格式

每个数据点第一行为一个数 $t\ (1\le t\le 10^5)$，表示数据组数。

每组数据第一行为两个数 $n,k\ (1\le n\le 3\cdot 10^5,1\le k\le3\cdot 10

## 输出格式

共 $t$ 行，第 $i$ 行表示第 $i$ 组数据的答案对 $998244353$ 取模后的结果

## 说明/提示

以样例的第四组数据为例，答案代表的 $4$ 个好的括号序列分别是：

```
 ((())(()))
 ((())()())
 ()()((()))
 ()()(()())
```

而 ```)(())(())(``` 不是答案之一，因为它不是一个合法的括号序列（最左端与最右端的括号未配对）

```(())((()))``` 也不是答案之一，因为它的 $[3,4]$ 表示的子串 ```))``` 不是一个合法的括号序列

```((()(())))``` 也不是答案之一，因为它的 $[6,9]$ 表示的子串 ```()))``` 不是一个合法的括号序列

## 样例 #1

### 输入

```
7
6 0
5 0
8 1
1 3
10 2
3 4
6 9
1000 3
100 701
200 801
300 901
28 5
1 12
3 20
11 14
4 9
18 19
4 3
1 4
1 4
1 4
```

### 输出

```
5
0
0
4
839415253
140
2
```


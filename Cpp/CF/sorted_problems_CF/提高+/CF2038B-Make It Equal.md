---
title: "Make It Equal"
layout: "post"
diff: 提高+/省选-
pid: CF2038B
tag: ['二分']
---

# Make It Equal

## 题目描述

给定一个长度为 $n$ 的整数数列 $a$，下标从 $1$ 到 $n$。

你可以进行任意次（可以为 $0$ 次）以下操作：选择一个满足 $1\le i\le n$ 的 $i$，使 $a_i$ 减少 $2$，$a_{(i\mod n)+1}$ 增加 $1$。

现询问是否有一种操作方案，使得 $a_1=a_2=\dots=a_n=p$ 且 $p\ge 0$，若有，输出最少操作次数，否则输出 $-1$。

## 输入格式

本题多测。

第一行一个整数 $t(1\le t\le 10^4)$，代表测试样例组数。

对于每组测试样例：

第一行一个整数 $n(2\le n\le 2\times 10^5)$。

第二行 $n$ 个整数 $a_1,a_2,\dots,a_n(1\le a_i\le 10^9)$。

保证 $\sum n\le 2\times 10^5$。

## 输出格式

对于每组测试样例，输出一行一个整数，代表最少操作次数，若不存在操作方案，输出 $-1$。

Translated by @[ARIS2_0](https://www.luogu.com.cn/user/1340759)

## 样例 #1

### 输入

```
3
2
1 1
3
1 3 2
4
2 1 2 6
```

### 输出

```
0
-1
3
```


---
title: "Melody"
layout: "post"
diff: 提高+/省选-
pid: CF2110E
tag: ['图论', '欧拉回路']
---

# Melody

## 题目描述

在 2077 年，统治世界的机器人意识到人类的音乐并不那么出色，于是它们开始创作自己的音乐。

为了创作音乐，机器人拥有一种特殊的乐器，能够产生 $n$ 种不同的声音。每种声音由其音量和音高来表征。一系列声音被称为音乐。如果任意两个连续的声音仅在音量或仅在音高上有所不同，则该音乐被认为是优美的。如果任意三个连续的声音在音量或音高上相同，则该音乐被认为是单调的。

你需要创作一段优美且不单调的音乐，其中包含乐器产生的每个声音恰好一次。

## 输入格式

每个测试包含多个测试用例。第一行包含测试用例的数量 $t$（$1 \le t \le 10^4$）。接下来是测试用例的描述。

每个测试用例的第一行包含一个数字 $n$（$1 \le n \le 2 \cdot 10^5$）——乐器能够产生的声音数量。

接下来是 $n$ 行，其中第 $i$ 行包含一对数字 $v_i, p_i$（$1 \le v_i, \space p_i \le 10^9$）——第 $i$ 个声音的音量和音高。保证在所有 $n$ 个声音中不存在重复，即对于任意 $i \neq j$，至少满足 $v_i \neq v_j$ 或 $p_i \neq p_j$ 中的一个条件。

所有测试用例的 $n$ 之和不超过 $2 \cdot 10^5$。

## 输出格式

对于每个测试用例，如果能够创作出这样的音乐，输出 "YES"，并在下一行输出 $n$ 个数字——构成优美且不单调音乐的声音索引顺序。否则，输出 "NO"。

你可以以任意大小写形式输出每个字母（例如，"yEs"、"yes"、"Yes" 和 "YES" 都会被接受为肯定答案）。

## 说明/提示

在第一个测试用例中，音乐 $(239,239)-(239,179)-(179,179)-(179,239)$ 是合适的，包含了所有声音，且所有连续的声音仅在音量或音高上有所不同。

在第二个测试用例中，可以证明无法用给定的声音创作出合适的音乐。

翻译由 DeepSeek V3 完成

## 样例 #1

### 输入

```
5
4
179 239
179 179
239 179
239 239
3
1 1
2 1
3 1
1
5 7
5
1 1
1 2
2 1
2 2
99 99
7
1 1
1 3
2 1
2 2
3 1
3 2
3 3
```

### 输出

```
YES
4 3 2 1 
NO
YES
1 
NO
YES
3 4 6 7 2 1 5
```


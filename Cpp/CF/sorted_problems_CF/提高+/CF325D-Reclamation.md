---
title: "Reclamation"
layout: "post"
diff: 提高+/省选-
pid: CF325D
tag: ['并查集']
---

# Reclamation

## 题目描述

### 题意简述

给定一个大小为 $r \times c$ 的二维环形网格图，每一行的第 $1$ 格和第 $c$ 格同样相邻。  
现在按照给定的顺序将 $n$ 个格子变成障碍物。一个格子可以变成障碍的条件为该格子变成障碍后仍然存在一条从第 $1$ 行到第 $r$ 行的路径。如果一个格子不可以变成障碍，就跳过该操作并且继续处理接下来的格子。路径为四相邻规则。
您需要求出最多可以有多少个格子变成障碍物。

## 输入格式

第一行有三个整数 $r,c,n(1 \le r,c \le 3000, 1 \le n \le 3 \cdot 10^5)$。  
接下来 $n$ 行，每行两个正整数 $r_i , c_i$，表示将位于 $r_i $ 行，$c_i$ 列的格子变成障碍物。

## 输出格式

输出一个整数表示答案。

## 样例 #1

### 输入

```
3 4 9
2 2
3 2
2 3
3 4
3 1
1 3
2 1
1 1
1 4

```

### 输出

```
6

```


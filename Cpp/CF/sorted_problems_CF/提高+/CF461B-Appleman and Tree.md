---
title: "Appleman and Tree"
layout: "post"
diff: 提高+/省选-
pid: CF461B
tag: []
---

# Appleman and Tree

## 题目描述

给你一棵有 $n$ 个节点的树，下标从 $0$ 开始。

第 $i$ 个节点可以为白色或黑色。

现在你可以从中删去若干条边，使得剩下的每个部分恰有一个黑色节点。

问有多少种符合条件的删边方法，答案对 $10^9+7$ 取模。

## 输入格式

第一行一个整数 $n(1\leq n\leq 10^5)$，表示节点个数。

接下来一行 $n-1$ 个整数 $(p_0,p_1,\cdots,p_{n-2},0\leq p_i\leq i)$，表示树中有一条连接节点 $p_i$ 和节点 $i+1$ 的边。

接下来一行 $n$ 个整数 $(x_0,x_1,\cdots,x_{n-1},0\leq x_i\leq 1)$，若 $x_i$ 为 $1$，则节点 $i$ 为黑色，否则为白色。

## 输出格式

第一行一个整数，表示符合条件的删边方法的方案数对 $10^9+7$ 取模后的值。

## 样例 #1

### 输入

```
3
0 0
0 1 1

```

### 输出

```
2

```

## 样例 #2

### 输入

```
6
0 1 1 0 4
1 1 0 0 1 0

```

### 输出

```
1

```

## 样例 #3

### 输入

```
10
0 1 2 1 4 4 4 0 8
0 0 0 1 0 1 1 0 0 1

```

### 输出

```
27

```


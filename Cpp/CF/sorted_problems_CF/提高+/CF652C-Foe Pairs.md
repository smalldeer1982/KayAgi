---
title: "Foe Pairs"
layout: "post"
diff: 提高+/省选-
pid: CF652C
tag: []
---

# Foe Pairs

## 题目描述

给定一个$1$到$n$数字组成的全排列，同时给定$m$对元素$(a_i,b_i)$。
你的任务是统计有多少个不同的区间$(x,y)(1 \le x \le y \le n)$，这些区间不包含任意一个给定的元素对，即不能同时含有元素对$(a_i,b_i)$的两个元素，这两个元素的先后顺序不限定。

## 输入格式

第一行，两个整数$n,m(1 \le n,m \le 3 \times 10^5)$
第二行，$n$个不同的整数，表示一个全排列；
接下来$m$行，每行两个元素$(a_i,b_i) (1 \le a_i,b_i \le n, a_i \neq b_i)$


第一行，两个整数$n,m(1 \le n,m \le 3 \times 10^5)$
第二行，$n$个不同的整数，表示一个全排列；
接下来$m$行，每行两个元素$(a_i,b_i) (1 \le a_i,b_i \le n, a_i \neq b_i)$

## 输出格式

一行一个整数表示符合条件的区间数量

源码
```
给定一个$1$到$n$数字组成的全排列，同时给定$m$对元素$(a_i,b_i)$。
你的任务是统计有多少个不同的区间$(x,y)(1 \le x \le y \le n)$，这些区间不包含任意一个给定的元素对，即不能同时含有元素对$(a_i,b_i)$的两个元素，这两个元素的先后顺序不限定。



一行一个整数表示符合条件的区间数量
```

@[chen_zhe](/space/show?uid=8457)

## 样例 #1

### 输入

```
4 2
1 3 2 4
3 2
2 4

```

### 输出

```
5

```

## 样例 #2

### 输入

```
9 5
9 7 2 3 1 4 6 5 8
1 6
4 5
2 7
7 2
2 7

```

### 输出

```
20

```


---
title: "Searching Rectangles"
layout: "post"
diff: 提高+/省选-
pid: CF713B
tag: []
---

# Searching Rectangles

## 题目描述

给出了一个 $n \times n$ 的平面，从下到上每一行、从左到右的每一列分别标号 $1$ 到 $n$。

平面内有两个矩形，这两个矩形平行于坐标轴。

## 输入格式

第一行输入提问的次数$n$，保证 $2 \leq n \leq 2^{16}$

第 $2$ 至 $n + 1$ 行，输入 $0$、$1$ 或 $2$，表示完全位于查询矩形内的初始矩形个数。

## 输出格式

对于每一次查询，若已经确定了两个矩形的位置或已经是最后一次查询，输出 $!$ $x_{1, 1}$ $y_{1, 1}$ $x_{1, 2}$ $y_{1, 2}$ $x_{2, 1}$ $y_{2, 1}$ $x_{2, 2}$ $y_{2, 2}$。

否则，输出 $?$ $x_1$ $y_1$ $x_2$ $y_2$ 。

## 样例 #1

### 输入

```
5
2
1
0
1
1
1
0
1

```

### 输出

```
? 1 1 5 5
? 1 1 3 3
? 1 1 3 1
? 2 2 2 2
? 3 3 5 5
? 3 3 3 5
? 3 3 3 4
? 3 4 3 5
! 2 2 2 2 3 4 3 5

```


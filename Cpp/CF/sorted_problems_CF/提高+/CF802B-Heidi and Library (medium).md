---
title: "Heidi and Library (medium)"
layout: "post"
diff: 提高+/省选-
pid: CF802B
tag: []
---

# Heidi and Library (medium)

## 题目描述

Whereas humans nowadays read fewer and fewer books on paper, book readership among marmots has surged. Heidi has expanded the library and is now serving longer request sequences.

## 输入格式

Same as the easy version, but the limits have changed: $ 1<=n,k<=400000 $ .

## 输出格式

Same as the easy version.

## 样例 #1

### 输入

```
4 100
1 2 2 1

```

### 输出

```
2

```

## 样例 #2

### 输入

```
4 1
1 2 2 1

```

### 输出

```
3

```

## 样例 #3

### 输入

```
4 2
1 2 3 1

```

### 输出

```
3

```


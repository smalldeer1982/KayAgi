---
title: "Send the Fool Further! (medium)"
layout: "post"
diff: 提高+/省选-
pid: CF802K
tag: []
---

# Send the Fool Further! (medium)

## 题目描述

## 题面
给定一棵节点数为 $n$  （编号为 $0-(n-1)$  ）的树，每一条边有一个权值。现在要求从点0出发，在不经过一个点超过 $k$  次的情况下经过的边的权值和最大。（每一条边在第一次经过之后权值即变为0；从点0出发时也视作经过了1次点0；最后不需要回到点0）

## 输入格式

输入的第一行包括两个正整数，节点数 $n$  和每个点的最大访问次数 $k$  。接下来的 $n-1$  行每行有3个正整数 $u$  , $v$  和 $c$  ，表示在顶点 $u$  和顶点 $c$  之间有一条权值为 $c$  的无向边。

## 输出格式

输出一个正整数——可以获得的最大权值。

## 输入输出样例
略

## 样例解释
对于样例1，访问各节点的顺序为： $0,1,5,1,3,1,0,2,6,2,7,2,8$  。没有点被访问了超过3次。

## 说明/提示

$ 3≤n≤10^5 $   
$ 1≤k≤10^5 $   
$ 0≤u,v≤n-1, 1≤c≤10^4 $   

感谢@星烁晶熠辉 提供的翻译

## 样例 #1

### 输入

```
9 3
0 1 1
0 2 1
1 3 2
1 4 2
1 5 2
2 6 3
2 7 3
2 8 3

```

### 输出

```
15

```

## 样例 #2

### 输入

```
9 5
0 1 1
0 2 1
1 3 2
1 4 2
1 5 2
2 6 3
2 7 3
2 8 3

```

### 输出

```
17

```

## 样例 #3

### 输入

```
11 6
1 0 7932
2 1 1952
3 2 2227
4 0 9112
5 4 6067
6 0 6786
7 6 3883
8 4 7137
9 1 2796
10 5 6200

```

### 输出

```
54092

```


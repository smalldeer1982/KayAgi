---
title: "Thematic Contests"
layout: "post"
diff: 普及+/提高
pid: CF1077E
tag: []
---

# Thematic Contests

## 题目描述

`Polycarp`有$n$个问题，问题的主题分别是$a_1,a_2,\cdots,a_n$，`Polycarp`需要组织一些专题比赛，同时要满足以下条件：  
- 一场专题比赛中的所有题目的主题相同  
- 组织的所有专题比赛中主题互异  
- 从第二场比赛开始，比赛中的题目数必须是前一场比赛题目数量的$2$倍，第一场比赛的题目数量可以是任意的  
- 所有比赛使用的题目数量之和最大  

求所有比赛使用的题目数量之和的最大值  
注意：不需要使比赛的数量最大，不一定需要使用所有的题目，不一定需要使用所有的主题

## 输入格式

第一行一个整数$n(1\leq n\leq2\cdot10^5)$表示题目数量  
第二行$n$个整数$a_1,a_2,\cdots,a_n(1\leq a_i\leq10^9)$表示问题的主题

## 输出格式

输出一个整数，表示所有比赛使用的题目数量之和的最大值

## 样例 #1

### 输入

```
18
2 1 2 10 2 10 10 2 2 1 10 10 10 10 1 1 10 10

```

### 输出

```
14

```

## 样例 #2

### 输入

```
10
6 6 6 3 6 1000000000 3 3 6 6

```

### 输出

```
9

```

## 样例 #3

### 输入

```
3
1337 1337 1337

```

### 输出

```
3

```


---
title: "Lucky Permutation"
layout: "post"
diff: 普及+/提高
pid: CF1768D
tag: []
---

# Lucky Permutation

## 题目描述

给定整数 $n$ 和一个 $1\sim n$ 的排列 $p$。  
你可以对排列 $p$ 进行下列操作任意次：

- 选择整数 $i,j(1\leq i<j\leq n)$，然后交换 $p_i,p_j$ 的值。

你需要求出至少需要进行上述操作多少次才能使 $p$ 恰有一个逆序对。  
每个测试点包含 $t$ 组数据。

## 输入格式

第一行输入一个整数 $t(1\leq t\leq10^4)$ 表示数据组数，接下来对于每组数据：  
第一行输入一个整数 $n(2\leq n,\sum n\leq2\times10^5)$。  
接下来输入一行 $n$ 个整数 $p_1,p_2,\cdots,p_n(1\leq p_i\leq n)$，保证 $p$ 是一个 $1\sim n$ 的排列。

## 输出格式

对于每组数据：  
输出一行一个整数表示使 $p$ 恰有一个逆序对所需的最小操作次数。  
可以证明一定存在操作方案使得 $p$ 恰有一个逆序对。

## 样例 #1

### 输入

```
4
2
2 1
2
1 2
4
3 4 1 2
4
2 4 3 1
```

### 输出

```
0
1
3
1
```


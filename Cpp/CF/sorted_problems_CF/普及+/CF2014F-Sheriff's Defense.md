---
title: "Sheriff's Defense"
layout: "post"
diff: 普及+/提高
pid: CF2014F
tag: ['树形 DP']
---

# Sheriff's Defense

## 题目描述

给定一张 $n$ 结点 $n - 1$ 条边的有点权的树。初始每个结点都是黑色。

你可以执行任意次以下操作：将一个黑点染成白色，并将所有与它相邻的结点的权值减去 $c$（不包括自己）。

最大化全部白点的权值之和。

## 输入格式

多组数据。

第一行一个整数 $t\ (1 \le t \le 10 ^ 4)$，表示数据组数。

对于每组数据：第一行两个整数 $n$，$c\ (1 \le n \le 2 \cdot 10 ^ 5, 1 \le c \le 10 ^ 9)$，含义如题面所述。接下来 $n - 1$ 行，每行两个整数 $u$，$v\ (1 \le u, v \le n, u \ne v)$，表示有一条 $u \to v$ 的边。

保证 $\sum n \le 2 \cdot 10 ^ 5$。

## 输出格式

输出 $t$ 行，表示最大的全部白点的权值之和。

Translated by liuli688

## 样例 #1

### 输入

```
5
3 1
2 3 1
1 2
2 3
3 1
3 6 3
1 2
2 3
3 1
-2 -3 -1
1 2
2 3
6 1
5 -4 3 6 7 3
4 1
5 1
3 5
3 6
1 2
8 1
3 5 2 7 8 5 -3 -4
7 3
1 8
4 3
3 5
7 6
8 7
2 1
```

### 输出

```
3
8
0
17
26
```


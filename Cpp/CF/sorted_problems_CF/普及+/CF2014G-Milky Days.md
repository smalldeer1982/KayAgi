---
title: "Milky Days"
layout: "post"
diff: 普及+/提高
pid: CF2014G
tag: ['栈']
---

# Milky Days

## 题目描述

### 题目背景
小约翰爱喝牛奶。

他的日记有 $n$ 条记录，表明他在第 $d_i$ 天获得了 $a_i$ 品脱鲜牛奶。牛奶的新鲜度会随着时间的推移而下降，最多可以饮用 $k$ 天。换句话说，在第 $d_i$ 天获得的鲜牛奶在第 $d_i$ 天和第 $d_i+k-1$ 天（含）之间可以饮用。

小约翰每天最多喝 $m$ 品脱牛奶，并且会尽量多喝。如果牛奶少于 $m$ 品脱，他会喝完所有牛奶，但不会感到满足；如果牛奶至少有 $m$ 品脱，他会喝下 $m$ 品脱并感到满足，称这是牛奶满足日。

小约翰总是先喝最新鲜的可饮用牛奶。

请求出小约翰的牛奶满意日的数量。

 _**本题有多组测试数据。**_

## 输入格式

第一行输入一个整数 $T$（$1\leq T \leq 10^4$），表示测试数据总数。

此后每组测试数据，第一行为三个整数 $n, m, k$（$1\leq n,m,k \leq 10^5$）。含义如题目背景所示。

接下来 $n$ 行，每行输入两个整数 $d_i, a_i$（$1\leq d_i,a_i \leq 10^6$），表示牛奶的购买日期和购买的品脱数，从小到大排序，每个数据的值都不相同。

**保证所有样例的 $n$ 之和不超过 $2 \cdot 10^5$。**

## 输出格式

对于每组测试数据，每行输出一个整数表示该数据中小约翰的牛奶满意日的数量。

## 样例 #1

### 输入

```
6
1 1 3
1 5
2 3 3
1 5
2 7
4 5 2
1 9
2 6
4 9
5 6
5 2 4
4 7
5 3
7 1
11 2
12 1
4 1 3
5 10
9 4
14 8
15 3
5 5 5
8 9
10 7
16 10
21 5
28 9
```

### 输出

```
3
3
4
5
10
6
```


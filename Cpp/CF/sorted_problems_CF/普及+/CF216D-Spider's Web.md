---
title: "Spider's Web"
layout: "post"
diff: 普及+/提高
pid: CF216D
tag: []
---

# Spider's Web

## 题目描述

这个蛛网有 $n$ 条主线，将整张蛛网分成 $n$ 个区域，我们按照顺时针的顺序从 $1$ 到 $n$ 编号，其中 $n$ 号区域与 $1$ 号区域相邻。

对于第 $i$ 个区域，两条主线之间有 $k_{i}$ 条蛛丝相连，蛛丝两端到中心的距离相等，第 $j$ 条蛛丝两端到中心的距离为 $p_{i,j}$。这些蛛丝将该区域分成 $k_{i}$ $-$ $1$ 个扇区，如果某个扇区两侧的主线上蛛丝端点的个数不相等，则这个扇区是不稳定的。

现在给出整张蜘蛛网的结构，计算有多少个不稳定的扇区。

## 输入格式

第一行有一个整数 $n$ $($$3$ $≤$ $n$ $≤$ $1000$$)$，表示主线的条数。

   接下来 $n$ 行，每行首先有一个整数$k$ $($$1$ $≤$ $k$ $≤$ $10^5$$)$，表示该扇区蛛丝的条数。后面紧跟 $k_i$ 个整数 $p_{i,j}$ $($$1$ $≤$ $p_{i,j}$ $≤$ $105$ $,$ $1$ $≤$ $j$ $≤$ $ki$$)$，表示每条蛛丝两端与中心的距离，不保证排好序。

   保证相邻区域中，不存在到中心距离相同的两条蛛丝。总的蛛丝数不超过$105$。

## 输出格式

输出一个整数，表示不稳定的扇区数量。

## 样例 #1

### 输入

```
7
3 1 6 7
4 3 5 2 9
2 8 1
4 3 7 6 4
3 2 5 9
3 6 3 8
3 4 2 9

```

### 输出

```
6
```


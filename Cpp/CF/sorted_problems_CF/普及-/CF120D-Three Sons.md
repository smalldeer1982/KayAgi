---
title: "Three Sons"
layout: "post"
diff: 普及-
pid: CF120D
tag: []
---

# Three Sons

## 题目描述

**题意简述**

给定一个 $n\times m$ 的长方形矩阵，第 $(i,j)$ 个方格上面有一个值 $c_{i,j}$。现在要将矩阵分成三部分，要求两条切割线必须互相平行且与边线平行，不能切开网格，使得切出的三部分每个部分所包含的方格的值的总和分别为 $A$，$B$，$C$。求有多少种切法。

## 输入格式

第一行包含两个整数 $n,m$（$1\le n,m\le 50$，$\max(n,m)\ge 3$）。

接下来 $n$ 行，每行包含 $m$ 个整数 $c_{i,j}$（$0\le c_{i,j}\le 100$），表示矩阵中 $(i,j)$ 的值。

第 $n+2$ 行包含三个整数 $A,B,C$（$0\le A,B,C\le 10^6$），意义如上所示。

## 输出格式

输出一行表示答案。如无解请输出 $0$。

**样例 $1$ 说明**

对于该样例，可横着切亦可竖着切，如图：

![](https://cdn.luogu.com.cn/upload/image_hosting/pru3h44o.png)

## 样例 #1

### 输入

```
3 3
1 1 1
1 1 1
1 1 1
3 3 3

```

### 输出

```
2

```

## 样例 #2

### 输入

```
2 5
1 1 1 1 1
2 2 2 2 2
3 6 6

```

### 输出

```
3

```

## 样例 #3

### 输入

```
3 3
1 2 3
3 1 2
2 3 1
5 6 7

```

### 输出

```
0

```


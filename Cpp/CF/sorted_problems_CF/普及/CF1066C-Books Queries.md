---
title: "Books Queries"
layout: "post"
diff: 普及/提高-
pid: CF1066C
tag: []
---

# Books Queries

## 题目描述

## 题意描述

### 您需要维护一个数据结构，支持以下三种操作：

* $L$ $id$：在现在序列的左边插一个编号为$id$的物品
* $R$ $id$：在现在序列的右边插一个编号为$id$的物品
* $?$ $id$：查询该点左面有几个元素，右面有几个元素，并取min输出

## 输入格式

第一行，一个整数$q$,表示操作数

下面$q$行，每行2个数，表示一个操作

## 输出格式

对于每个“？”操作，输出一行一个整数，表示答案

## 样例 #1

### 输入

```
8
L 1
R 2
R 3
? 2
L 4
? 1
L 5
? 1

```

### 输出

```
1
1
2

```

## 样例 #2

### 输入

```
10
L 100
R 100000
R 123
L 101
? 123
L 10
R 115
? 100
R 110
? 115

```

### 输出

```
0
2
1

```


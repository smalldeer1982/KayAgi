---
title: "Beautiful Array"
layout: "post"
diff: 普及/提高-
pid: CF1155D
tag: []
---

# Beautiful Array

## 题目描述

NaCly_Fish 给了你一个长度为 $n$ 的序列。

她想知道这个序列最大的美丽程度。

同时，她给了你一次操作的机会，你需要选择序列的一个子串，将其中所有数乘上 NaCly_Fish 给定的一个常数 $x$。

我们定义一个序列的美丽程度为其所有子串的和的最大值，而子串则是序列的一个连续子序列，在本题中，子串可以是空的。

## 输入格式

第一行包括了两个整数 $n,x$，满足 $1\le n\le3\times10^5$，且$-100\le x\le100$。

之后一行包括了 $n$ 个整数 $a_i$，表示题中所给的序列，满足 $-10^9\le a_i\le10^9$。

## 输出格式

输出一行一个整数，表示这个序列进行操作后的美丽程度。

## 样例 #1

### 输入

```
5 -2
-3 8 -2 1 -6

```

### 输出

```
22

```

## 样例 #2

### 输入

```
12 -3
1 3 3 7 1 3 3 7 1 3 3 7

```

### 输出

```
42

```

## 样例 #3

### 输入

```
5 10
-1 -2 -3 -4 -5

```

### 输出

```
0

```


---
title: "Variable, or There and Back Again"
layout: "post"
diff: 普及/提高-
pid: CF164A
tag: []
---

# Variable, or There and Back Again

## 题目描述

给你一个n个点，m条边的有向图（不一定连通），每个点都被标上了0、1或2。如果有一条路径是从一个标为1的点开始，途径若干个标为0或2的点，最后到达一个标为2的点，那么这条路径上的所有点都算作被访问过。请问最后有多少点被访问过？

## 输入格式

共m+2行。

第一行，2个整数n和m(1<=n,m<=100000),表示有向图的点数和边数。

第二行，n个整数f1，f2……fn(0<=fi<=2),表示第i个点标记的数——0、1或2。

接下来m行，每行2个整数ai，bi    (1<=ai,bi<=n，ai不等于bi),表示从第ai个点到第bi个点有一条边。

## 输出格式

共n行，每行一个整数ri，若ri=1表示第i个点被访问过，否则ri=0。

## 说明/提示

对于样例1，唯一的合法路径1->2->3->4包含了全部的点。

对于样例2，唯一的一条合法路径3->1包含了1和3两个点，点2没有在路径中。

对于样例3，没有一条路径是合法的。

## 样例 #1

### 输入

```
4 3
1 0 0 2
1 2
2 3
3 4

```

### 输出

```
1
1
1
1

```

## 样例 #2

### 输入

```
3 1
1 0 2
1 3

```

### 输出

```
1
0
1

```

## 样例 #3

### 输入

```
3 1
2 0 1
1 3

```

### 输出

```
0
0
0

```


---
title: "Replace To Make Regular Bracket Sequence"
layout: "post"
diff: 普及/提高-
pid: CF612C
tag: []
---

# Replace To Make Regular Bracket Sequence

## 题目描述

给定一个只含 `>`，`(`，`)`，`{`，`}`，`[`，`]`的字符串。记`<`，`(`，`{`，`[`为左括号，`>`，`)`，`}`，`]`为右括号。每次可以将任意一个左括号换为任意一个不同的左括号，或将任意一个右括号换为任意一个不同的右括号，记为一次操作。求使括号序合法的最小操作次数，若无解，输出 `impossible`。

## 输入格式

仅有一个字符串 $s$，由字符 `>`，`(`，`)`，`{`，`}`，`[`，`]`组成 ($1 \le |s| \le 10^6$​) 。

## 输出格式

输出使括号序合法的最小操作次数，若无解，输出 `impossible`。

## 样例 #1

### 输入

```
[&lt;}){}

```

### 输出

```
2
```

## 样例 #2

### 输入

```
{()}[]

```

### 输出

```
0
```

## 样例 #3

### 输入

```
]]

```

### 输出

```
Impossible
```


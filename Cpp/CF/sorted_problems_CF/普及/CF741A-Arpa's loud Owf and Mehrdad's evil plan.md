---
title: "Arpa's loud Owf and Mehrdad's evil plan"
layout: "post"
diff: 普及/提高-
pid: CF741A
tag: []
---

# Arpa's loud Owf and Mehrdad's evil plan

## 题目描述

在小A的地盘上有许多可爱的妹子。
小A地盘上的所有人被从 $1$ 到 $n$ 编号，每个人都有一个暗恋的对象，第 $i$ 个人暗恋第 $crush_{i}$ 个人。
有一天，小A在宫殿的顶部大声喊着Owf，于是一个有趣的游戏在小A的地盘上开始了。规则如下。
该游戏有许多轮。如果编号为 $x$ 的人想要开始一轮游戏，他会对第 $crush_{x}$ 个人（ $x$ 暗恋的人 ）说"Oww...wwf"（有 $t$ 个w）。如果 $t > 1$，第 $crush_{x}$ 个人就会对第 $crush_{crush_{x}}$ 个人（$crush_{x}$暗恋的人）说"Oww...wwf"（有 $t - 1$ 个w）。直到有人听到"Owf"（$t = 1$）。这个人就是这一轮的Joon-Joon。不存在同时进行两轮游戏的情况。
为了使游戏更有意思，小M有一个邪恶的计划。他想找到最小的 $t$（$t >= 1$）使得对于每个人 $x$ 当第 $x$ 个人开始的一局游戏使 $y$ 成为了Joon-Joon，也使得由 $y$ 开始的一局游戏 $x$ 成为Joon-Joon。请为小M找这个最小的 $t$。
可能会有自恋的人。

## 输入格式

第一行输入一个 $n$（$1 <= n <= 100$）表示小A地盘上的人数。
第二行输入 $n$ 个数表示第 $i$ 个人暗恋的人 $crush_{x}$（$1 <= crush_{x} <= n$）。

## 输出格式

输出最小的 $t$，如果没有输出 $-1$。
## 备注
题面太恶心了（~~我的翻译太菜了~~）
这道题就是输入一个链表，先让你判断链表中的点是否都在某一个环中，让后让你求出所有环的点数的lcm，对于偶数环在求lcm时将该偶数环的点数减半。

## 样例 #1

### 输入

```
4
2 3 1 4

```

### 输出

```
3

```

## 样例 #2

### 输入

```
4
4 4 4 4

```

### 输出

```
-1

```

## 样例 #3

### 输入

```
4
2 1 4 3

```

### 输出

```
1

```


---
title: "Three Trees"
layout: "post"
diff: 难度0
pid: CF391E2
tag: []
---

# Three Trees

## 题目描述

这个问题由两个子问题组成：解决问题E1，你可以获得到11分，解决问题E2，你可以获得13分。

树是一个不包含环的无向连通图。没有权值的树中两个节点之间的距离是从一个节点到另一个节点必须遍历的最小边数。

您会得到3棵树，必须通过在这些树之间添加两条边将它们合并成一棵树。每一条边都可以连接两棵树中的任何一对节点。在树合并后，应计算合并之后的树中所有无序节点对之间的距离。这些距离之和的最大值是多少？

## 输入格式

第一行包含三个空格分隔的整数 $n_{1} $， $n_{2}$， $n_{3}$，分别表示第一、二、三棵树的顶点数。下面的 $n_{1}-1$ 行描述第一棵树。每一行描述第一棵树中的一条边，包含一对整数，由一个空格分隔，表示树中一条边两端的点的编号。下面的 $n_{2}-1$ 行以同样的方式描述了第二棵树，之后的 $ n_{3}-1 $ 行也以同样的方式描述了第三棵树。每棵树中的顶点编号都是 $1$ 开始的连续正整数。

该问题由两个子问题组成。子问题的输入有不同的方式。正确提交子问题可以得到部分分数。子问题的描述如下：

- 在子问题 E1（11个分）中，每棵树的顶点数量将在 $1$ 和 $1^3$ 之间，包括 $1$ 和 $1^3$。
- 在子问题E2（13个分）中，每棵树的顶点数量将在 $1$ 到 $10^5$ 之间（包括 $ 10^5$）。

## 输出格式

一行一个整数，表示合并之后的树中所有节点之间的最大距离之和。

## 样例 #1

### 输入

```
2 2 3
1 2
1 2
1 2
2 3

```

### 输出

```
56

```

## 样例 #2

### 输入

```
5 1 4
1 2
2 5
3 4
4 2
1 2
1 3
1 4

```

### 输出

```
151

```


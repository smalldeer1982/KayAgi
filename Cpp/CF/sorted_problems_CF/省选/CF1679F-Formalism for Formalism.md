---
title: "Formalism for Formalism"
layout: "post"
diff: 省选/NOI-
pid: CF1679F
tag: ['动态规划 DP', '状态合并']
---

# Formalism for Formalism

## 题目描述

### 题意简述

给出正整数 $n$，所有不足 $n$ 位（十进制）的数用前导零补充。

给出 $m$ 组**无序**数对 $(u_i,v_i)$，若一个数字的相邻两位数 $x,y$ 满足 $(x,y)$ 存在于这 $m$ 组数对中，则可以交换 $x,y$ 的位置。若 $A$ 可以通过若干次（包含零次）交换得到 $B$，则认为 $A$ 和 $B$ 是等价的。

求出最大整数 $k$，使得存在一组非负整数 $x_1,x_2,\ldots,x_k(0\leq x_i<10^n)$ 满足对于任意 $1\leq i<j\leq k$，$x_i$ 与 $x_j$ 不等价。

## 输入格式

第一行一个整数 $n(1\leq n\leq 50000)$，含义如题面所述。

第二行一个整数 $m(0\leq m\leq 45)$，表示数对数。

接下来 $m$ 行，每行一个无序数对 $(u_i,v_i)(0\leq u_i,v_i\leq 9)$，保证任意两组数对不相同。

## 输出格式

输出一个整数 $k$，含义如题面所述。

由于答案可能会很大，你需要输出答案对 $998244353$ 取模的值。

## 样例 #1

### 输入

```
1
0
```

### 输出

```
10
```

## 样例 #2

### 输入

```
2
1
0 1
```

### 输出

```
99
```

## 样例 #3

### 输入

```
2
9
0 1
1 2
2 3
3 4
4 5
5 6
6 7
7 8
8 9
```

### 输出

```
91
```


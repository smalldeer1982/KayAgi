---
title: "Graph Coloring"
layout: "post"
diff: 省选/NOI-
pid: CF662B
tag: []
---

# Graph Coloring

## 题目描述

给出一个$n$个点，$m$条边的无向图，一开始每条边可能是红色或者蓝色，翻转一个点可以使相连的边变成相反的颜色，希望能够把全部边变成红色或者蓝色
问最少需要翻转的点数，并给出具体的方案

---

## 输入格式

第一行输入$n,m$，分别表示点的数量和边的数量$(1\leq n,m\leq 100000)$

第二至$m+1$行$ui,vi,ci$，分别表示无向边的两个点以及它的颜色，保证没有重边和自环

## 输出格式

如果没有方法使其合法输出$-1$，
否则第一行输出最少需要翻转的点数，第二行用空格分隔输出翻转点的编号，只需要输出一种方案

## 样例 #1

### 输入

```
3 3
1 2 B
3 1 R
3 2 B

```

### 输出

```
1
2 

```

## 样例 #2

### 输入

```
6 5
1 3 R
2 3 R
3 4 B
4 5 R
4 6 R

```

### 输出

```
2
3 4 

```

## 样例 #3

### 输入

```
4 5
1 2 R
1 3 R
2 3 B
3 4 B
1 4 B

```

### 输出

```
-1

```


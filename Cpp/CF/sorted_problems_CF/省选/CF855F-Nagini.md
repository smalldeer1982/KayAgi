---
title: "Nagini"
layout: "post"
diff: 省选/NOI-
pid: CF855F
tag: []
---

# Nagini

## 题目描述

有 $10^5$ 个集合，编号从 $1$ 到 $10^5$。每一个集合内初始没有元素。你需要支持两个操作：

`1 l r k`：在编号在 $[l,r)$ 的集合中加入元素 $k$（$1 \le l < r \leq 10^5 , k \in [-10^9,0) \cup (0 , 10^9]$）。

`2 l r`：询问编号在 $[l,r)$ 内的集合的权值和（$1 \le l < r \leq 10^5$）。

一个集合的权值定义为：如果集合中同时存在 $>0$ 的元素和 $<0$ 的元素，则其权值为最小的 $>0$ 的元素和最大的 $<0$ 的元素的绝对值的和，否则为 $0$。

## 输入格式

第一行一个正整数 $q\ (1 \leq q \leq 5 \times 10^4)$ 表示操作数。

接下来 $q$ 行每行一个操作。

## 输出格式

对于每一个 $2$ 操作输出一行表示答案。

## 样例 #1

### 输入

```
3
1 1 10 10
1 2 4 -7
2 1 10

```

### 输出

```
34

```

## 样例 #2

### 输入

```
7
1 2 3 5
1 1 10 10
1 4 5 -5
2 4 8
1 1 10 -10
2 4 8
2 1 10

```

### 输出

```
15
75
170

```


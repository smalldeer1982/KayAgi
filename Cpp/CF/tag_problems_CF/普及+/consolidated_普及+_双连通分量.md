---
title: "Non-academic Problem"
layout: "post"
diff: 普及+/提高
pid: CF1986F
tag: ['双连通分量']
---

# Non-academic Problem

## 题目描述

给定一个连通的无向图，其顶点用从1到n的整数编号。你的任务是最小化在这个图中存在路径的顶点对(u,v)的数量，其中1≤u<v≤n。为了达到这个目标，你可以从图中移除恰好一条边。

现在请你找到可以移除一条边后，顶点对数量最小的值！

## 输入格式

每个测试包含多组输入数据。第一行包含一个整数t（1≤t≤10^4），表示输入数据集的数量。然后是每组数据的描述：

每组数据的第一行包含两个整数n和m（2≤n≤105，n-1≤m≤min(105,n×(n-1)/2)，分别表示图中顶点的数量和边的数量。

接下来的m行，每行包含两个整数u和v（1≤u, v≤n,u≠v），表示在图中顶点u和v之间存在一条无向边。

保证给定的图是连通的，并且没有重边。

保证所有输入数据集中n的总和以及m的总和都不超过2×10^5。

## 输出格式

对于每组输入数据，输出在移除一条边后，顶点对数量最小的值

## 说明/提示

在第一组输入数据中，我们将移除单一边 (1,2)，并且唯一的顶点对 (1,2) 将变得不可达。

在第二组输入数据中，无论我们移除哪条边，所有顶点都将保持彼此可达。

在第四组输入数据中，初始的图看起来像这样（这里需要你画出图或者想象出图的结构）：

我们将移除边(3,4)，然后唯一的可达顶点对将是 (1,2)，(1,3)，(2,3)，(4,5)，(4,6)，(5,6)。

在第六组输入数据中，初始的图看起来像这样（同样需要你画出图或者想象出图的结构）：

移除边(2,4)后，图将变成这样（这里需要你想象出移除边后的图结构）。因此，将有21对可达顶点。

## 样例 #1

### 输入

```
6
2 1
1 2
3 3
1 2
2 3
1 3
5 5
1 2
1 3
3 4
4 5
5 3
6 7
1 2
1 3
2 3
3 4
4 5
4 6
5 6
5 5
1 2
1 3
2 3
2 4
3 5
10 12
1 2
1 3
2 3
2 4
4 5
5 6
6 7
7 4
3 8
8 9
9 10
10 8
```

### 输出

```
0
3
4
6
6
21
```



---


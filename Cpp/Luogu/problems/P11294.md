---
title: "[NOISG 2022 Qualification] Tree Cutting"
layout: "post"
diff: 提高+/省选-
pid: P11294
tag: ['树形数据结构', '2022', '深度优先搜索 DFS', '树形 DP', 'NOISG（新加坡）']
---
# [NOISG 2022 Qualification] Tree Cutting
## 题目背景

一个国家有 $N$ 个城市，编号为 $1$ 到 $N$，以及 $N-1$ 条双向公路。通过这些公路，可以从任意一个城市到达另一个城市。

城市 $x$ 和城市 $y$ 之间的距离定义为连接两城市所需经过的公路数。

州长决定拆除一条公路，并新建另一条公路，使得任意两城市之间的最远距离最大化。
## 题目描述

请计算新建公路后，任意两城市之间的最大距离。
## 输入格式

- 第一行包含一个整数 $N$，表示城市的数量。
- 接下来的 $N-1$ 行，每行包含两个整数 $u$ 和 $v$，表示城市 $u$ 和 $v$ 之间有一条双向公路。
## 输出格式

输出一个整数，表示新建公路后任意两城市之间的最大距离。
## 样例

### 样例输入 #1
```
4
1 2
1 3
3 4
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
6
1 2
2 3
2 5
4 5
5 6
```
### 样例输出 #2
```
5
```
## 提示

【样例解释】

对于样例 $1$，最远距离无法增加，仍然为 $3$。  

对于样例 $2$，可以拆除公路 $2-5$，新建公路 $3-4$，最远路径为 $1-2-3-4-5-6$，其长度为 $5$。

【数据范围】

- $2 \leq N \leq 300,000$
- $1 \leq u, v \leq N$

| 子任务编号 | 分值 | 额外限制条件                             |
| :--------: | :--: | :--------------------------------------: |
| $1$        | $5$  | $N \leq 10$                              |
| $2$        | $10$ | $N \leq 100$                             |
| $3$        | $15$ | $N \leq 3000$                            |
| $4$        | $15$ | $N \leq 300,000$，至多一个城市连接至少 $3$ 条公路 |
| $5$        | $55$ | 无额外限制                              |

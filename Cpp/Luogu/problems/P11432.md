---
title: "[COCI 2024/2025 #2] 流明 / Blistavost"
layout: "post"
diff: 提高+/省选-
pid: P11432
tag: ['动态规划 DP', '2024', 'COCI（克罗地亚）']
---
# [COCI 2024/2025 #2] 流明 / Blistavost
## 题目背景

译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T4。$\texttt{4s,1G}$。满分为 $120$。
## 题目描述


数轴的正半轴的整数点上布满了璀璨的水晶灯。起初，它们都是点亮的。

初始时，时刻为 $0$，守卫在原点处。每单位时间，她可以选择向左或者向右移动一单位长度，也**可以待在原地**。

当守卫在一盏水晶灯所在的位置时，可以选择熄灭这盏水晶灯。**熄灭不消耗时间。**


有 $n$ 个要求，每个要求形如三元组 $(l_i,r_i,t_i)$，表示：村民需要熄灭区间 $[l_i,r_i]$ 内的水晶灯，而且必须在时刻${}\ge t_i$ 时才能熄灭这个区间内的水晶灯（也就是说，时刻 $\lt t_i$ 时不能熄灭这个区间内**任意一盏**水晶灯）。

请你计算守卫至少需要多少单位时间才能满足村民的全部要求。

## 输入格式


第一行，一个正整数 $n$。

接下来 $n$ 行，每行三个正整数 $l_i,r_i,t_i$。
## 输出格式

输出一行一个正整数，表示答案。

## 样例

### 样例输入 #1
```
3
1 1 1
3 3 5
5 5 3
```
### 样例输出 #1
```
7
```
### 样例输入 #2
```
3
1 2 1
1 1 5
1 3 4
```
### 样例输出 #2
```
6
```
### 样例输入 #3
```
3
6 6 6
8 8 7
9 9 9
```
### 样例输出 #3
```
9
```
## 提示


#### 样例解释

样例 $2$ 解释：

时刻 $3$ 时走到 $x=3$ 处，停留一单位时间。

时刻 $4$ 时，熄灭 $x=3$ 的水晶灯。

时刻 $5$ 时，走到 $x=2$ 并熄灭上面的水晶灯。

时刻 $6$ 时，走到 $x=1$ 并熄灭上面的水晶灯。

耗时 $6$ 单位时间。

#### 提示

对于 $100\%$ 的数据，保证：

- $1\le n\le 5\, 000$；    
- $1\le l_i\le r_i\le 10^{18}$；
- $1\le t_i\le 10^{18}$。


| 子任务编号 | $n\le$ |  特殊性质 | 得分 |  
| :--: | :--: | :--: |:--: | 
| $ 1 $    | $18$ | A |   $ 20 $   |  
| $ 2 $    | $5\, 000$ | B  |  $ 25 $   |  
| $ 3 $    | $5\, 000$ | A  |  $ 55 $   |  
| $ 4 $    | $5\, 000$ |  |  $ 20 $   |  

- 特殊性质 A：$l_i=r_i$。
- 特殊性质 B：$l_i=1$。



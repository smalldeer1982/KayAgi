---
title: "[KOI 2022 Round 1] ABBC"
layout: "post"
diff: 普及+/提高
pid: P12690
tag: ['2022', 'KOI（韩国）']
---
# [KOI 2022 Round 1] ABBC
## 题目背景

试题来源：<https://koi.or.kr/archives/>。中文翻译做了少量本土化修改。

按照[署名—非商业性使用—相同方式共享 4.0 协议国际版](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans)进行授权。
## 题目描述

有一个只由 A、B、C 构成的字符串 $S$，长度为 $|S|$。你可以对这个字符串执行以下操作：

- 删除一个 A 及其后的某个 B；
- 删除一个 B 及其后的某个 C。

每个字符最多只能被删除一次。

例如，考虑字符串 ABCBA。将字符从左到右编号为 1、2、3……，可以如下操作：

- 删除第 1 个字符 A 和第 2 个字符 B。此时操作次数为 1，剩余字符串为 CBA。之后任意两字符都无法再满足操作条件，因此无法继续操作。
- 删除第 1 个字符 A 和第 4 个字符 B，然后删除第 2 个字符 B 和第 3 个字符 C。此时操作次数为 2，剩余字符串为 A。字符串中只剩一个字符，因此无法继续操作。

除此之外，还有其他可能的操作方案。

请你求出最多可以进行多少次这样的操作。
## 输入格式

第一行输入字符串 $S$。
## 输出格式

输出一行，表示最多可以进行的操作次数。
## 样例

### 样例输入 #1
```
ABCBA
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
ABCBBACBABB
```
### 样例输出 #2
```
5
```
## 提示

**约束条件**

- $1 \leq |S| \leq 300\,000$
- $S$ 中的所有字符均为 A、B 或 C

**子任务**

1. （5 分）$S$ 中的所有字符仅包含 A 和 B
2. （20 分）$|S| \leq 300$
3. （32 分）$|S| \leq 1\,000$
4. （43 分）无附加限制

翻译由 ChatGPT-4o 及人工完成

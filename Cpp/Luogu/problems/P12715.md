---
title: "[Algo Beat Contest 002 B] Bicycle Competition"
layout: "post"
diff: 普及-
pid: P12715
tag: ['模拟', 'O2优化']
---
# [Algo Beat Contest 002 B] Bicycle Competition
## 题目背景

| Problem | Score | Idea | Std | Data | Check | Solution |
| :----------------------------------: | :---: | :---------------------------------------------------: | :---------------------------------------------------: | :---------------------------------------------: | :-------------------------------------------------: | :----------------------------------------------------------: |
|   $\text{B - Bicycle Competition}$    | $200$ |   [AFO_orchardist](https://www.luogu.com.cn/user/347582)   |  [zhoumurui](https://www.luogu.com.cn/user/305928)    |  [zhoumurui](https://www.luogu.com.cn/user/305928)    |   [DHeasy](https://www.luogu.com.cn/user/528325)   | [Link](https://www.luogu.com.cn/article/bm2d69jz) by [zhoumurui](https://www.luogu.com.cn/user/305928) |

南极洲企鹅语学校的自行车大赛要开始了！
## 题目描述

比赛共有 $N$ 位企鹅参与，每位选手当前的排名为 $A_i$。比赛中有 $Q$ 个事件发生：

`1 x`：编号为 $x$ 的选手超过了前面一位选手。如果该选手此时已经是第一名，则忽略该操作。

`2 x`：询问排名为 $x$ 的选手编号。

`3 x`：询问编号为 $x$ 的选手排名。
## 输入格式

第一行输入两个整数 $N,Q$，表示选手数和事件数。

第二行输入 $N$ 个整数，第 $i$ 个整数表示 $A_i$，表示最开始第 $i$ 名选手的排名。

然后有 $Q$ 行，每行输入两个整数 $op,x$，如题面描述。
## 输出格式

对于 $op=2$ 或 $3$ 的询问，每行输出一个整数，表示答案。
## 样例

### 样例输入 #1
```
4 7
2 1 4 3
2 1
1 1
3 3
2 1
1 1
1 4
3 4

```
### 样例输出 #1
```
2
4
1
2

```
## 提示

**【数据范围】**

- $1\le N,Q\le 2 \times 10^5$。
- $A_i$ 是 $1$ 到 $N$ 的一个排列。
- 对于每个操作，$op\in\{1,2,3\},1\le x \le N$。

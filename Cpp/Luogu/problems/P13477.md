---
title: "[GCJ 2008 APAC SemiFinal] Modern Art Plagiarism"
layout: "post"
diff: 提高+/省选-
pid: P13477
tag: ['2008', '二分图', 'Google Code Jam']
---
# [GCJ 2008 APAC SemiFinal] Modern Art Plagiarism
## 题目描述

You have pictures of two sculptures. The sculptures consist of several solid metal spheres, and some rubber pipes connecting pairs of spheres. The pipes in each sculpture are connected in such a way that for any pair of spheres, there is exactly one path following a series of pipes (without repeating any) between those two spheres. All the spheres have the same radius, and all the pipes have the same length.

You suspect that the smaller of the two sculptures was actually created by simply removing some spheres and pipes from the larger one. You want to write a program to test if this is possible.

The input will contain several test cases. One sculpture is described by numbering the spheres consecutively from $1$, and listing the pairs of spheres which are connected by pipes. The numbering is chosen independently for each sculpture.

## 输入格式

- One line containing an integer $C$, the number of test cases in the input file.

For each test case, there will be:

- One line containing the integer $N$, the number of spheres in the large sculpture.
- $N-1$ lines, each containing a pair of space-separated integers, indicating that the two spheres with those numbers in the large sculpture are connected by a pipe.
- One line containing the integer $M$, the number of spheres in the small sculpture.
- $M-1$ lines, each containing a pair of space-separated integers, indicating that the two spheres with those numbers in the small sculpture are connected by a pipe.

## 输出格式

- $C$ lines, one for each test case in the order they occur in the input file, containing "Case #$X$: YES" if the small sculpture in case $X$ could have been created from the large sculpture in case $X$, or "Case #$X$: NO" if it could not. ($X$ is the number of the test case, between $1$ and $C$.)
## 样例

### 样例输入 #1
```
2
5
1 2
2 3
3 4
4 5
4
1 2
1 3
1 4
5
1 2
1 3
1 4
4 5
4
1 2
2 3
3 4
```
### 样例输出 #1
```
Case #1: NO
Case #2: YES
```
## 提示

**Sample Explanation**

In the first case, the large sculpture has five spheres connected in a line, and the small sculpture has one sphere that has three other spheres connected to it. There's no way the smaller sculpture could have been made by removing things from the larger one.

In the second case, the small sculpture is four spheres connected in a line. These can match the larger sculpture's spheres in the order $2-1-4-5$.

**Limits**

**Small dataset (7 Pts, Test set 1 - Visible)**

- $1 \leq C \leq 100$
- $2 \leq N \leq 8$
- $1 \leq M < N$

**Large dataset (25 Pts, Test set 2 - Hidden)**

- $1 \leq C \leq 50$
- $2 \leq N \leq 100$
- $1 \leq M < N$

---
title: "【MX-X11-T2】「蓬莱人形 Round 1」所以我放弃了音乐"
layout: "post"
diff: 普及+/提高
pid: P12148
tag: ['贪心', '梦熊比赛']
---
# 【MX-X11-T2】「蓬莱人形 Round 1」所以我放弃了音乐
## 题目背景

原题链接：<https://oier.team/problems/X11C>。

---

$$\text{考えたってわからないし}$$

$$\text{青空の下、君を待った}$$

$$\text{風が吹いた正午、昼下がりを抜け出す想像}$$

$$\text{ねぇ、これからどうなるんだろうね}$$

$$\text{進め方教わらないんだよ}$$
## 题目描述

在一个无限大的棋盘上有 $n$ 个**位置互不相同**的棋子 $(x_i,y_i)$，你需要通过进行若干次以下操作删除全部的棋子：

1. 选择一个格子 $(x,y)$。

2. 若 $(x,y)$ 上有棋子，则把这个棋子删掉，否则结束当前操作。

3. **依次**检查坐标为 $(x+1,y+1)$，$(x+1,y)$，$(x+1,y-1)$ 的格子上是否有棋子。当检查到第一个有棋子的格子时，停止检查，并将当前的 $(x,y)$ 更新为该格子的坐标后返回第二步。如果这三个格子都没有棋子，结束当前操作。

你要回答，最少操作多少次能把所有棋子删光。
## 输入格式

第一行一个正整数 $n$ 表示棋盘上棋子的个数。

接下来 $n$ 行，每行两个正整数 $x_i,y_i$ 表示一个棋子的位置，**保证没有两个位置相同的棋子**。
## 输出格式

一行一个正整数，表示最少操作多少次能把所有棋子删光。
## 样例

### 样例输入 #1
```
4
1 3
2 2
3 1
3 3
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
9
1 1
1 2
1 3
2 1
2 2
2 3
3 1
3 2
3 3
```
### 样例输出 #2
```
3
```
## 提示

**【样例解释 #1】**

对于第一组样例，棋盘如下图所示：

![](https://cdn.luogu.com.cn/upload/image_hosting/8glrwdcs.png)

第一次选择格子 $(1,3)$，则 $(1,3),(2,2),(3,3)$ 被删除。

第二次选择 $(3,1)$，则 $(3,1)$ 被删除。

可以证明没有更优的选择方案。

**【数据范围】**

**本题使用子任务捆绑。**

对于所有的测试数据，满足 $1\le n\le 10^6$，$1\le x_i,y_i\le 10^6$。

|子任务编号|$n\le$|$x_i,y_i \le$|特殊性质|分值|
|:-:|:-:|:-:|:-:|:-:|
|$1$|$10^6$|$10^6$|A|$10$|
|$2$|$8$|$10^6$|无|$20$|
|$3$|$300$|$300$|无|$20$|
|$4$|$5\times 10^4$|$5\times 10^4$|无|$20$|
|$5$|$10^6$|$10^6$|无|$30$|

- 特殊性质 A：保证所有 $x_i$ 相等。

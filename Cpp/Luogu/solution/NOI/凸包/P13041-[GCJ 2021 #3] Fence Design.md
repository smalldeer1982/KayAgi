# [GCJ 2021 #3] Fence Design

## 题目描述

你被临时雇佣为围栏建设公司的员工，负责完成一块场地的围栏设计工作。每条围栏必须沿着直线连接两根立柱。每根立柱占据一个固定点，且**任意三根立柱不共线**。围栏之间**不能相互交叉**，但可以在端点（立柱位置）处相连。

前员工在项目中已经铺设了两条围栏后就离职了。现在需要由你来完成剩余设计。为了让老板和客户满意，你希望在不考虑围栏长度的情况下，尽可能多地添加围栏。

给定所有立柱的位置和已建好的两条围栏，请找出可以添加的**最大数量**的围栏，使得所有围栏（包括已有的和新增的）两两之间不交叉（仅在端点处相连是允许的）。

## 说明/提示

**样例解释**

下图展示了样例中的立柱和围栏布局。蓝色加粗线条表示已有围栏，其余线条表示样例输出中添加的围栏方案：

![](https://cdn.luogu.com.cn/upload/image_hosting/j0yr6b9n.png) ![](https://cdn.luogu.com.cn/upload/image_hosting/is24xybt.png)

**数据范围**

- $1 \leq \mathbf{T} \leq 50$。
- 对所有 $i$，$-10^9 \leq \mathbf{X}_i, \mathbf{Y}_i \leq 10^9$。
- 对所有 $i \neq j$，$(\mathbf{X}_i, \mathbf{Y}_i) \neq (\mathbf{X}_j, \mathbf{Y}_j)$。
- 对所有 $k$，$1 \leq \mathbf{P}_k < \mathbf{Q}_k \leq \mathbf{N}$。
- 已有围栏之间不交叉（仅在端点处允许相连）。
- 任意三根立柱不共线。

**测试集 1（11 分，可见判定）**

- 时间限制：60 秒。
- $4 \leq \mathbf{N} \leq 100$。

**测试集 2（19 分，隐藏判定）**

- 时间限制：90 秒。
- $4 \leq \mathbf{N} \leq 10^5$。

翻译由 DeepSeek V3 完成

## 样例 #1

### 输入

```
2
4
0 0
0 1
1 1
1 0
1 2
3 4
5
0 0
0 1
1 1
1 0
2 3
1 2
3 5```

### 输出

```
Case #1: 3
1 4
2 3
4 2
Case #2: 6
5 4
2 4
5 2
1 4
4 3
3 2```


# [COTS 2021] èœ Jelo

## é¢˜ç›®èƒŒæ™¯

è¯‘è‡ª [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D1T1ã€‚$\texttt{1s,0.5G}$ã€‚

ç”±äºæœ¬é¢˜ç‰¹æ®Šçš„ SPJï¼Œå°†æœ¬é¢˜çš„ TL å’Œ ML åˆ†åˆ«æ”¹ä¸º $\texttt{10s,2G}$ã€‚ä½†æ˜¯å¯¹äºé€‰æ‰‹ç¨‹åºï¼Œæœ¬é¢˜çš„æ—¶ç©ºé™åˆ¶å’ŒåŸé¢˜ç›¸åŒã€‚

å¦‚æœä½¿ç”¨å‹ç¼©åŒ…ä¸Šä¼ ç­”æ¡ˆï¼šå°†æ–‡ä»¶åˆ†åˆ«å‘½åä¸º $\texttt{jelo-1.out}\sim \texttt{jelo-5.out}$ã€‚

## é¢˜ç›®æè¿°

ç»™å®šæ­£å¶æ•° $N$ã€‚æ„é€ ä¸€ä¸ªæœ€å¤§çš„é›†åˆ $S\subseteq \{0,1,\cdots,2^{N}-1\}$ï¼Œä½¿å¾— $\left|\bigcup_{i,j\in S,i\lt j} \{i\oplus j\}\right|={|S|\choose 2}$ ã€‚æ¢è¨€ä¹‹ï¼Œåœ¨ $S$ ä¸­ä»»æ„é€‰å®š $(a,b),(c,d)$ï¼ˆ$a,b,c,d\in S$ï¼Œ$a\lt b$ï¼Œ$c\lt d$ï¼Œ$(a,b)\neq (c,d)$ï¼‰ï¼Œéƒ½æœ‰ $a\oplus b\neq c\oplus d$ æˆç«‹ã€‚

å…¶ä¸­ $\oplus$ è¡¨ç¤ºæŒ‰ä½å¼‚æˆ–è¿ç®—ã€‚

## è¯´æ˜/æç¤º


å¯¹äº $100\%$ çš„æ•°æ®ï¼Œä¿è¯ $1\le N\le 30$ã€‚

æœ¬é¢˜å…±æœ‰ $5$ ä¸ªæµ‹è¯•ç‚¹ï¼Œæ¯ä¸ªæµ‹è¯•ç‚¹æœ‰ä¸‰ä¸ªè¯„åˆ†å‚æ•° $t_1,t_2,t_3$ï¼Œè®° $t=|S|$ï¼Œåˆ™å¾—åˆ†è®¡ç®—æ–¹å¼ä¸ºï¼š

$$\mathrm{score}(t)=
\begin{cases}
2.4\cdot \frac{t}{t_1} & t\in [0,t_1) \\
2.4+3.6\cdot \frac{t-t_1}{t_2-t_1} & t\in [t_1,t_2) \\
6+12\cdot \frac{t-t_2}{t_3-t_2} & t\in [t_2,t_3) \\
20 & t\in [t_3,2^N] \\
\end{cases}$$

| æµ‹è¯•ç‚¹ç¼–å· | $N=$ | $t_1=$   | $t_2=$   | $t_3=$    | å¾—åˆ† |  
| :--: | :--: | :--: | :--: | :--: | :--: |  
| $ 1 $    | $ 18 $    | $ 267 $   | $ 283 $   | $ 512 $    | $ 20 $   |  
| $ 2 $    | $ 20 $    | $ 444 $   | $ 462 $   | $ 1024 $   | $ 20 $   |  
| $ 3 $    | $ 26 $    | $ 2019 $  | $ 2040 $  | $ 8192 $   | $ 20 $   |  
| $ 4 $    | $ 28 $    | $ 3295 $  | $ 3327 $  | $ 16384 $  | $ 20 $   |  
| $ 5 $    | $ 30 $    | $ 5377 $  | $ 5430 $  | $ 32768 $  | $ 20 $   |

ã€æç¤ºã€‘è¯·æ³¨æ„ä»£ç é•¿åº¦é™åˆ¶ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
4```

### è¾“å‡º

```
6
0 1 2 4 8 15```

# é¢˜è§£

## ä½œè€…ï¼šRainbow_qwq (èµï¼š15)

å‡è®¾æœ‰ $2n$ ä½ï¼Œè€ƒè™‘æŠŠæ¯ä¸ªæ•°åˆ†æˆå‰ $n$ ä½å’Œå $n$ ä½ã€‚

å…ˆæ„é€ ä¸€ä¸ª $2^n$ å…ƒæœ‰ä¹˜æ³•ã€åŠ æ³•çš„æœ‰é™åŸŸï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡æ‰¾ä¸€ä¸ªä¸å¯çº¦å¤šé¡¹å¼æ„é€ ï¼Œè§ [P3923](https://www.luogu.com.cn/problem/P3923)ã€‚

ç„¶åå¯¹äº $x=[0,2^n-1]$ï¼Œå‰ $n$ ä½å¡« $x$ï¼Œå $n$ ä½å¡« $x^3$ åœ¨æœ‰é™åŸŸè¿ç®—ä¸‹çš„å€¼ï¼Œæ„é€ å‡ºä¸€ä¸ª $2n$ ä½çš„æ•°ã€‚

è¿™æ ·å¦‚æœä¸¤ä¸ª pair  $(a,b),(c,d)$ çš„ xor ç›¸ç­‰ï¼Œå°±éœ€è¦æ»¡è¶³ $a+b=c+d $ï¼Œ$a^3+b^3=c^3+d^3$ã€‚

ç”±äºåœ¨è¯¥ $2^n$ æœ‰é™åŸŸä¸‹åŠ æ³•ç­‰åŒä¸ xorï¼Œå¯ä»¥æ¨å‡º $a^3+b^3=c^3+d^3  \to ab(a+b) = cd(c+d) \to ab=cd$ã€‚

ç”±äºåŒæ—¶æœ‰ $ab=cd$ å’Œ $a+b=c+d$ï¼Œåˆ™ $\{a,b\}$ å’Œ $\{c,d\}$ éƒ½æ˜¯æ–¹ç¨‹ $x^2-(a+b)x+ab$ çš„è§£ï¼Œè€Œè¿™ä¸ªæ–¹ç¨‹åªæœ‰è‡³å¤šä¸¤ä¸ªè§£ï¼Œä¹Ÿå°±è¯´æ˜ $\{a,b\} = \{c,d\}$ã€‚

é‚£ä¹ˆè¿™æ ·æ„é€ å°±ä¸ä¼šæœ‰ä¸¤ä¸ªä¸åŒçš„ pair çš„ xor ç›¸åŒï¼Œå¹¶ä¸”æ„é€ äº† $2^n$ ä¸ªæ•°ã€‚

```cpp
// what is matter? never mind.
#include<bits/stdc++.h>
#define For(i,a,b) for(int i=(a);i<=(b);++i)
#define Rep(i,a,b) for(int i=(a);i>=(b);--i)
//#define int long long
using namespace std;

int mod;

#define fi first
#define se second
#define pb push_back
#define mkp make_pair
typedef pair<int,int>pii;
typedef vector<int>vi;

#define maxn 55
#define inf 0x3f3f3f3f
#define poly vector<modint>

int n,p,k;

poly operator +(poly a,poly b){
	int n=max(a.size(),b.size());a.resize(n),b.resize(n);
	For(i,0,n-1)a[i]+=b[i];return a;
}
poly operator -(poly a,poly b){
	int n=max(a.size(),b.size());a.resize(n),b.resize(n);
	For(i,0,n-1)a[i]-=b[i];return a;
}
poly operator *(poly a,modint b){
	int n=a.size();
	For(i,0,n-1)a[i]*=b;return a;
} 
poly operator *(poly a,poly b){
	if(!a.size()||!b.size())return {};
	poly c(a.size()+b.size()-1,0);
	for(int i=0;i<a.size();++i)
		for(int j=0;j<b.size();++j)
			c[i+j]+=a[i]*b[j];
	return c;
}

poly operator %(poly a,poly b){
	while(b.back().x==0)b.pop_back();
	while(1){
		while(a.size()&&a.back().x==0)a.pop_back();
		if(a.size()<b.size())return a;
		int t=a.size()-b.size();
		modint w=a.back()/b.back();
		For(i,0,(int)b.size()-1)a[i+t]-=b[i]*w;
		assert(a.back().x==0);
	}
}

void init(poly &a,int x){
	if(a.size()<k)a.resize(k);
	For(i,0,k-1)a[i]=x%p,x/=p;
}
int get(poly a){
	if(a.size()<k)a.resize(k);
	int res=0;
	Rep(i,k-1,0)res=res*p+a[i].x;
	return res;
}

bool chk(poly a){
	poly b;
	For(i,p,n-1){
		init(b,i);
		poly c=a%b;
		if(!c.size())return 0;
	}
	return 1;
}

poly qwq(){
	poly a(k+1); a[k]=1;
	For(i,1,n-1){
		init(a,i);
		if(chk(a))return a;
	}
	assert(0);
}

int pri[maxn],pc[maxn],tot;
void fj(int n){
	For(i,2,n)
		if(n%i==0){
			pri[++tot]=i;
			while(n%i==0)n/=i,++pc[tot];
		}
}

signed main()
{
	n=1<<read();
	k=0;
	while((1<<(k*2))<n)k++;
	n=(1<<k);
	mod=p=2;
	poly a;
	a=qwq();//puts("QWQWQ");
//	for(auto x:a)cout<<x.x<<' ';puts(" A");
	vi o;
	int s=(1<<k);
	For(i,0,(1<<k)-1){
		poly x; init(x,i);
		poly y=x*x%a*x%a;
		int out=get(y);
		out|=(i<<k);
		o.pb(out);
	}
	cout<<o.size()<<"\n";
	for(int x:o)cout<<x<<" \n"[x==o.back()];
	return 0;
}
// (1 0 1) % 
```

---

## ä½œè€…ï¼šlittlez_meow (èµï¼š2)

### é¢˜æ„

æ„é€ ä¸€ä¸ªå¤§å°ä¸º $2^{\frac N 2}$ çš„ $\{0,1,\cdots,2^N-1\}$ çš„å­é›†ï¼Œæ»¡è¶³å­é›†ä¸­å…ƒç´ ä¸¤ä¸¤å¼‚æˆ–å’Œå‡ä¸åŒã€‚

### æ€è·¯

è®¾ $n=\dfrac N 2$ã€‚æ³¨æ„åŒºåˆ†å¤§å°å†™ã€‚

æŠŠä¸€ä¸ªæ•°æ‹†æˆå‰åŠæ®µå’ŒååŠæ®µï¼Œé•¿åº¦å‡ä¸º $n$ã€‚ç”±äºè¦æ„é€ çš„é›†åˆå¤§å°æ˜¯ $2^n$ï¼Œæˆ‘ä»¬çŒœæµ‹å‰åŠæ®µä»»æ„å¡«ï¼ŒååŠæ®µæ˜¯å…³äºå‰åŠæ®µçš„å‡½æ•°ã€‚è®¾å‰åŠæ®µä¸º $x\in[0,2^n)$ï¼ŒååŠæ®µä¸º $f(x)\in[0,2^n)$ã€‚

æ—¢ç„¶å·²ç»æ˜¯å¼‚æˆ–äº†ï¼Œæˆ‘ä»¬å†ç”¨æ™®é€šçš„åŠ æ³•ä¹˜æ³•è‚¯å®šä¸æ–¹ä¾¿ã€‚æ¨¡ä»¿[è¿™é“é¢˜](https://www.luogu.com.cn/problem/P3923)ï¼Œæˆ‘ä»¬æ„é€ æœ‰é™åŸŸ $\mathbb F_{2^n}$ï¼Œä¸‹é¢çš„æ‰€æœ‰åŠ æ³•å’Œä¹˜æ³•æœªç»è¯´æ˜éƒ½æ˜¯è¿™ä¸ªæœ‰é™åŸŸé‡Œçš„ã€‚

å‡è®¾å­˜åœ¨ä¸¤å¯¹ï¼ˆæ— åºå¯¹ï¼‰å…ƒç´  $\{(a,f(a)),(b,f(b))\},\{(c,f(c)),(d,f(d))\}$ï¼Œæ»¡è¶³å®ƒä»¬å¼‚æˆ–å’Œç›¸åŒã€‚ç”±äºæˆ‘ä»¬æ˜¯æ‹¼èµ·æ¥çš„ï¼Œå‰åå¯¹äºå¼‚æˆ–ç‹¬ç«‹ï¼Œæ‰€ä»¥æœ‰æ–¹ç¨‹ç»„ $a+b=c+d,f(a)+f(b)=f(c)+f(d)$ã€‚

æˆ‘ä»¬å¯¹ $f$ çš„æ„é€ è¦æ»¡è¶³è¿™ä¸ªæ–¹ç¨‹æœ‰ä¸”ä»…æœ‰ä¸¤ä¸ªè§£ï¼Œå³è¯´æ˜ $\{a,b\}=\{c,d\}$ã€‚

åªæœ‰ä¸¤ä¸ªè§£é‚£å°±æ˜¯äºŒæ¬¡æ–¹ç¨‹å–½ã€‚é‚£æˆ‘ä»¬ç›´æ¥è®© $f$ å˜æˆäºŒæ¬¡å‡½æ•°ï¼Œæ¯”å¦‚ $f(x)=x^2$ã€‚

å¸¦å›ä¸Šé¢çš„æ–¹ç¨‹ï¼Œæˆ‘ä»¬æœ‰ $a+b=c+d,a^2+b^2=c^2+d^2$ã€‚

æŠŠç¬¬ä¸€ä¸ªå¼å­å¹³æ–¹å‡å»ç¬¬äºŒä¸ªå¼å­ï¼Œå¾—åˆ° $ab=cd$ã€‚

å’Œç›¸ç­‰ï¼Œç§¯ä¹Ÿç›¸ç­‰ã€‚è¿™æ˜¯ä»€ä¹ˆğŸ¤”ï¼ŸéŸ¦è¾¾å®šç†å‘€ã€‚æˆ‘ä»¬æœ‰ $\{a,b\},\{c,d\}$ éƒ½æ˜¯æ–¹ç¨‹ $x^2-(a+b)x+ab=0$ çš„ä¸€ç»„è§£ï¼Œå³ $\{a,b\}=\{c,d\}$ã€‚

æˆ‘ä»¬åªéœ€è¦æ±‚å‡º $2^n$ é˜¶çš„æœ‰é™åŸŸå°±å¯ä»¥äº†ã€‚

ä½ é«˜é«˜å…´å…´å†™äº†ä»£ç ï¼Œè·‘å‡ºæ¥ä¸€çœ‹ï¼Œ$n=4$ éƒ½è¿‡ä¸å»ã€‚

ä¸ºä»€ä¹ˆï¼Ÿ

åœ¨å®æ•°åŸŸä¸‹ï¼Œå¹³æ–¹æ˜¯ä¸å­˜åœ¨é€†çš„ã€‚åœ¨æœ‰é™åŸŸä¸‹ç”¨å¹³æ–¹æ˜¯å¾ˆå±é™©çš„ã€‚

å¦‚ä½•è§£å†³å‘¢ï¼Ÿæˆ‘ä»¬åˆä¸æƒ³æ”¾å¼ƒéŸ¦è¾¾å®šç†ã€‚

æ˜¯ä¸æ˜¯æ”¹æˆä¸‰æ¬¡æ–¹å°±å¯ä»¥äº†ï¼Ÿ

æ­¤æ—¶ $a+b=c+d,a^3+b^3=c^3+d^3$ï¼Œä¸€å¼ç«‹æ–¹å‡äºŒå¼ï¼Œå¾—åˆ° $ab(a+b)=cd(c+d)$ï¼Œå³ $ab=cd$ã€‚ä¹Ÿæ˜¯å¯ä»¥ç”¨éŸ¦è¾¾å®šç†çš„ã€‚

äºæ˜¯å°±è§£å†³äº†ã€‚

### ä»£ç 

```cpp
#include<bits/stdc++.h>
#define F(i,a,b) for(int i(a),i##i##end(b);i<=i##i##end;++i)
#define R(i,a,b) for(int i(a),i##i##end(b);i>=i##i##end;--i) 
#define ll long long
using namespace std;
int m,p;
inline ll qpow(ll base,int expo){
	ll res(1);
	while(expo){
		(expo&1)&&(res=res&base);
		base=base&base,expo>>=1;
	}
	return res;
}
bool type;
struct poly{
	int num[100]={};
	int len=0;
	inline void init(){
		while(!num[len]&&len>0) --len;
		return;
	}
	inline void turn(int t){
		while(t) num[len++]=t&1,t>>=1;
		init();
		return;
	}
	inline poly operator+(const poly&a)const{
		poly res;
		res.len=max(a.len,len);
		F(i,0,res.len) res.num[i]=num[i]^a.num[i];
		res.init();
		return res;
	}
	inline poly operator+(const int a)const{
		poly res=*this;
		int&qwq(res.num[0]);
		qwq^=a;
		return res;
	}
	inline poly operator-(const poly&a)const{
		return a+*this;
	}
	inline poly operator-(const int a)const{
		return *this+a;
	}
	inline poly operator*(const poly&a)const{
		poly x;
		F(i,0,len) F(j,0,a.len){
			int&qwq(x.num[i+j]);
			qwq^=(a.num[j]&num[i]);
		}
		x.len=len+a.len;
		x.init();
		return x;
	}
	inline poly operator*(const int a)const{
		poly res=*this;
		F(i,0,len){
			int&qwq(res.num[i]);
			qwq=a&qwq;
		}
		return res;
	}
	inline bool operator<=(const poly&a)const{
		if(type) return len<=a.len;
		if(len!=a.len) return len<=a.len;
		R(i,len,0) if(num[i]!=a.num[i]) return num[i]<=a.num[i];
		return 1;
	}
	inline poly operator<<(const int a)const{
		poly res;
		res.len=a+len;
		F(i,0,len) res.num[a+i]=num[i];
		return res;
	}
	inline poly operator%(const poly&a)const{
		poly t=*this;
		while(a<=t){
			poly tmp=a*t.num[t.len];
			t=t-(tmp<<(t.len-a.len));
		}
		t.init();
		return t;
	}
	inline bool check()const{
		poly x=*this,y;
		F(i,2,(1<<m)-1){
			poly t;
			t.turn(i);
			y=x%t;
			if(y.len==0&&y.num[0]==0) return 0;
		}
		return 1;
	}
	inline void output(){
		F(i,0,m) cout<<num[i]<<" ";
		cout<<"\n";
		return;
	}
	inline int decode(){
		int res(0);
		R(i,len,0) res=(res<<1)|num[i];
		return res;
	}
}mod;
inline void findmod(){
	R(i,(1<<m)-1,1){
		poly a;
		a.turn(i);
		a.num[m]=1;
		a.len=m;
		if(a.check()){
			mod=a;
			return;
		}
	}
}
int main(){
	ios::sync_with_stdio(0);
	cin.tie(0),cout.tie(0); 
	cin>>m;
	m/=2;
	findmod();
	type=1;
	cout<<(1<<m)<<"\n";
	F(i,0,(1<<m)-1){
		int qwq=i<<m;
		poly qaq;
		qaq.turn(i);
		qwq|=(qaq*qaq*qaq%mod).decode();
		cout<<qwq<<" ";
	}
	return 0;
}
```

---

## ä½œè€…ï¼šGalois_Field_1048576 (èµï¼š1)

å¤–æ˜Ÿäººåšæ³•ã€‚

> é¢˜æ„ï¼šè®¾çº¿æ€§ç©ºé—´ $V = \mathbb F_2^{2n}$ã€‚æ„é€ ä¸€ä¸ª $2^n$ å…ƒå­é›† $S$ï¼Œä½¿å¾— $a, b, c, d \in S$ï¼Œ$a \ne b, c \ne d, \{a, b\} \ne \{c, d\} \implies a \oplus b \ne c \oplus d$ã€‚

æ„é€ æ–¹æ³•ï¼šè®¾æœ‰é™åŸŸ $\Bbbk = \mathbb F_{2^n}$ï¼Œç­‰åŒ $V$ ä¸ $\Bbbk \oplus \Bbbk$ã€‚åˆ™å°è¯•æ„é€ 
$$
S = \{(n, n^3) : n \in \Bbbk\}.
$$
å¯¹å…¶æ»¡è¶³è¯¥é™åˆ¶æ¡ä»¶çš„è¯æ˜ï¼šè®¾ $a \ne b, c \ne d, (a, a^3) \oplus (b, b^3) = (c, c^3) \oplus (d, d^3)$ã€‚è¿™æ · $x^3 \oplus y^3 = (x \oplus y) (x^2 \oplus xy \oplus y^2)$ã€‚ç”±äº $a \oplus b = c \oplus b \ne 0$ï¼Œæ‰€ä»¥ $a^2 \oplus ab \oplus b^2 = c^2 \oplus cd \oplus d^2$ã€‚ä¸¤è¾¹åˆ†åˆ«ç­‰äº $(a \oplus b)^2 \oplus ab$ å’Œ $(c \oplus d)^2 \oplus cd$ï¼Œè¿›è€Œ $ab = cd$ã€‚è¿™æ ·æˆ‘ä»¬å‘ç° $(a, b)$ å’Œ $(c, d)$ éƒ½æ»¡è¶³æ–¹ç¨‹
$$
\begin{cases}
x \oplus y = A, \\
x y = B.
\end{cases}
$$
å…¶ä¸­ $A = a \oplus b, B = ab$ã€‚è¿™ç»„æ–¹ç¨‹è‡³å¤šæœ‰ä¸€å¯¹è§£ï¼Œåˆ†åˆ«æ˜¯ $(a, b)$ å’Œ $(b, a)$ã€‚æ‰€ä»¥ $(c, d) = (a, b)$ æˆ– $(c, d) = (b, a)$ã€‚å¾—è¯ã€‚

## å®ç°æ–¹é¢
```mathematica
Table["0b" <> 
  StringJoin[
   Map[ToString, 
    IntegerDigits[
     Information[FiniteField[2, k], "FieldIrreducible"][2], 2]]], {k, 
  1, 15}]
```

ä½¿ç”¨è¿™æ ·ä¸€æ®µ Mathematica ä»£ç è·å–æœ‰é™åŸŸçš„ä¸å¯çº¦å¤šé¡¹å¼ä¿¡æ¯ã€‚å‰©ä¸‹çš„ä¾¿æ˜¯ç®€å•çš„ã€‚

```cpp
#include <bits/stdc++.h>
using namespace std;

namespace FFCalc {
using Felement = unsigned int;
array<Felement, 16> ir = {0b0,
                          0b11,
                          0b111,
                          0b1011,
                          0b10011,
                          0b100101,
                          0b1011011,
                          0b10000011,
                          0b100011101,
                          0b1000010001,
                          0b10001101111,
                          0b100000000101,
                          0b1000011101011,
                          0b10000000011011,
                          0b100000010101001,
                          0b1000000000110101};

Felement add(Felement a, Felement b) { return a ^ b; }

Felement reduce(Felement a, size_t n) {
    if (a < (1 << n)) return a;
    return reduce(a ^ (ir[n] << (__lg(a) - n)), n);
}

Felement mul(Felement a, Felement b, size_t n) {
    Felement mult = 0;
    for (int i = 0; i < n; i++)
        if (b & (1 << i)) mult ^= (a << i);
    return reduce(mult, n);
}

};  // namespace FFCalc

using FFCalc::mul;

int main() {
    int n;
    cin >> n;
    int m = n / 2;
    cout << (1 << m) << endl;
    for (int i = 0; i < (1 << m); i++)
        cout << ((i << m) + mul(mul(i, i, m), i, m)) << " ";
}
```

---


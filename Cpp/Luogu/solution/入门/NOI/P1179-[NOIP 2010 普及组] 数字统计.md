# [NOIP 2010 普及组] 数字统计

## 题目描述

请统计某个给定范围 $[L, R]$ 的所有整数中，数字 $2$ 出现的次数。

比如给定范围 $[2, 22]$，数字 $2$ 在数 $2$ 中出现了 $1$ 次，在数 $12$ 中出现 $1$ 次，在数 $20$ 中出现 $1$ 次，在数 $21$ 中出现 $1$ 次，在数 $22$ 中出现 $2$ 次，所以数字 $2$ 在该范围内一共出现了 $6$ 次。

## 说明/提示

$1 ≤ L ≤R≤ 100000$。

NOIP2010 普及组 第一题

## 样例 #1

### 输入

```
2 22
```

### 输出

```
6
```

## 样例 #2

### 输入

```
2 100```

### 输出

```
20```

# 题解

## 作者：亿年已过 (赞：23)

**蒟蒻的第三篇题解！**

相对来说，这一题还是比较简单的。

主要就是考**数字拆分**：
```
for(int i=L;i<=R;i++)	//从L到R这个范围中找数字2
{
    x=i;		//用x来装i的值
    while(x>0)	//只要x大于0就运行下面的程序
    {
        if(x%10==2)ans++;	//如果i某一位的数字是2，ans++
        x/=10;	//准备好下一位数字的判断
    }
}
```
### 下面这一段程序的解释

```
    while(x>0)
    {
        if(x%10==2)ans++;
        x/=10;	
    }
```

注：假设x=123

第一次运行：

x>0，所以运行下面程序
x%10==3 所以ans不加
x/=10   x=12

第二次运行：

x>0，所以运行下面程序
x%10==2 所以ans++
x/=10   x=1

第三次运行：

x>0，所以运行下面程序
x%10==1 所以ans不加
x/=10   x=0

第四次运行：

x==0，所以不运行下面程序

AC代码
```
#include<bits/stdc++.h>    //万能头文件
using namespace std;

int L,R,x,ans;           
int main()
{
scanf("%d%d",&L,&R);//输入
for(int i=L;i<=R;i++)	//从L到R这个范围中找数字2
{
    x=i;		//用x来装i的值
    while(x>0)	//只要x大于0就运行下面的程序
    {
        if(x%10==2)ans++;	//如果i某一位的数字是2，ans++
        x/=10;	//准备好下一位数字的判断
    }
}
printf("%d",ans);//输出

    return 0;           
}
```


---

## 作者：Matt_Wang (赞：20)

发现大家大多是用暴力和转换字符串检索来做到的，不知为何，本垃圾第一眼看到他想到的居然是找规律。
[CSDN - 1 ~ N 之间一的个数启发了我](https://blog.csdn.net/iihtd/article/details/51258717)
```cpp
int countDigitOne(int n) {
    int ones = 0;
    for (long long m = 1; m <= n; m *= 10) {
        int a = n/m, b = n%m;
        ones += (a + 8) / 10 * m + (a % 10 == 1) * (b + 1);
    }
    return ones;
}

```
显然这个算法要更省时间。
首先我们设置一个i让他代表位数。
我们每次考虑两位，也就是a(n / m) 和 b(n % m)。
如果a大于1的话，总和就加上i(10);
如果最后一位是1的话，总和就加上(b + 1)加的一是末位为零的情况。

于是，我改进了一下这个算法，使他应用在本题上。
```cpp
int count(int x)
{
	int a, b, ans = 0;
	for(int i = 1; i <= x; i *= 10)
	{
		a = x / i; b = x % i;
		ans += (a + 7) / 10 * i + (a % 10 == 2) * (b + 1);
	}
	return ans;
}

```

只是改动了a要大于等于2， a % 10 == 2即可满足题意。

下面，贴AC代码：
```cpp
#include <bits/stdc++.h>
using namespace std;

int count(int x)
{
	int a, b, ans = 0;
	for(int i = 1; i <= x; i *= 10)
	{
		a = x / i; b = x % i;
		ans += (a + 7) / 10 * i + (a % 10 == 2) * (b + 1);
	}
	return ans;
}

int main(void){
	int l,r;
	cin >> l >> r;
	cout << count(r) - count(l - 1);
	return 0;
}

```

这里只要注意问题要求的是闭区间，把左端减去一就好了。

---

## 作者：niuniudundun (赞：6)

# 题目大意

求 $[L,R]$ 中 $2$ 的出现次数。

# 解法

介绍一个 `char` 函数——`sprintf`。

格式如下：

```cpp
#include<cstring>//头文件

sprintf(字符数组,格式,参数);
```

这个函数可以将参数按照格式写入字符数组中。例如：`sprintf(str,"%d",i);`，可以将 $i$ 写入 `char` 数组 $str$ 中，不过只能接受 `char` 数组，不能用 `string`。

随后将 $[L,R]$ 中的数字依次写入字符数组，并遍历字符数组统计 $2$ 的个数即可。

代码：

复杂度：$O(len(R-L))$，$len$ 是字符数组长度。

```cpp
#include<iostream>
#include<cstring>
using namespace std;
int l,r,ans=0;
int main(){
	cin>>l>>r;
	for(int i=l;i<=r;i++){
		char str[10];
		sprintf(str,"%d",i);//sprintf 函数
		int len=strlen(str);
		for(int i=0;i<len;i++){//遍历字符数组统计 2 的个数
			if(str[i]=='2') ans++;
		}
	}
	cout<<ans<<endl;
	return 0;
}
```

---

## 作者：GSQ0829 (赞：3)

### 思路：
很简单，就是遍历整个区间，用循环找出每个数有几个二，计数器加加，就可以了。


---
### code：
```cpp
#include <bits/stdc++.h>
using namespace std;

int main () {
	long long a = 0, b = 0, c = 0, d = 0;
	cin >> a >> b;
	for (int i = a; i <= b; i++) {
		c = i;
		while (c) {
			if (c % 10 == 2) d++;
			c /= 10;
		}
	}
	cout << d << endl;
	return 0;
}
```

---

## 作者：kuaiCreator (赞：1)

## 解题思路
对于十进制数，取模 $10$ 可获得当前数的个位，整除 $10$ 可去掉当前数的个位，要获取当前数的每一位可以循环取个位，去个位，直到这个数被拆分为 $0$。因此观察数据范围后只需要枚举区间 $[L,R]$ 内的所有数进行拆分并统计即可，时间复杂度为 $O(n\log n)$。

## 代码实现

```cpp
#include<bits/stdc++.h>
using namespace std;
int main() {
	int L, R, ans = 0;
	cin >> L >> R;
	for (int i = L; i <= R; i++) {	//枚举区间[L,R]的数
		int n = i;	//避免i变成0造成死循环备份i的值
		while (n) {
			if (n % 10 == 2) ans++;	//个位为2累加答案
			n /= 10;
		}
	}
	cout << ans;
	return 0;
}
```

---

## 作者：Jayfeather2012 (赞：1)

## 思路
遍历区间 $[L,R]$，找出区间内每个数的每一位，是 $2$ 就增加总数。
## 代码
```cpp
#include <bits/stdc++.h>
using namespace std;
int l,r,x,n;
int main()
{
	cin>>l>>r;
	for(int i=l;i<=r;i++)//找每个数
	{
		for(x=i;x!=0;x/=10)//找每位数
		{
			if(x%10==2)//如果是2就增加总数
			{
				n++;
			}
		}
	}
	cout<<n;//输出
  	return 0;
}

```

---

## 作者：Jerry_zpl (赞：1)

正解：
- 枚举区间 $[L,R]$，在定义一个变量 $ts$ 代替 $i$ 去拆分。如果拿 $i$ 去拆分会影响循环。
- 分离数字的每一位，如果分离出来的数字是 $2$ 计数器就加一，最后输出即可。

```cpp
#include<iostream>
using namespace std;
int main(){
	int l,r;
	int s=0;
	cin>>l>>r;
	for(int i=l;i<=r;i++){
		int q=i;
		while(q){//只要还没拆分完就继续拆分
			if(q%10==2)//拆到2
			s++;
			q/=10;
		}
	}
	cout<<s;
	return 0;
}
```

---

## 作者：Bobzly (赞：1)

被教练批评了我这个写法说**肯定不能AC**，结果**AC**了！！！~~（数据范围小，五个if一个for的暴力）~~

主要思想就是：**一个数一个数的去找**

（大佬们写的不敢恭维，虽然都是一个一个找...）

下面讲题，不废话。

这个题数据是到100000.显然，一个for循环不会爆，因此，就用一个for循环来一个一个判断这个数的每个位上的数，如果等于2，sum就++（我用的sum计数）

```cpp
for(int i=x;i<=y;i++)
	{
		if(i<10)
		  if(i==2)
		    sum++;
		if(i>=10&&i<100)
		{
			if(i%10==2)sum++;
		    if(i/10==2)sum++;
		}
		if(i>=100&&i<1000)
		{
			if(i%10==2)sum++;
			if(i/10%10==2)sum++;
			if(i/100==2)sum++;
		}
		if(i>=1000&&i<10000)
		{
			if(i%10==2)sum++;
			if(i/10%10==2)sum++;
			if(i/100%10==2)sum++;
			if(i/1000==2)sum++;
		}
		if(i>=10000&&i<100000)
		{
			if(i%10==2)sum++;
			if(i/10%10==2)sum++;
			if(i/100%10==2)sum++;
			if(i/1000%10==2)sum++;
			if(i/10000==2)sum++;
		}	    	   
	}
```
说实话我的老师被我吓了一跳~~**这什么破玩意啊一看就过不了**~~            咳咳

不多说了，挺好看的，自己认为比较好理解，凑合着看吧..

正片
```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	int x,y,sum=0;
	scanf("%d%d",&x,&y);
	for(int i=x;i<=y;i++)//10以内
	{
		if(i<10)
		  if(i==2)//个
		    sum++;
		if(i>=10&&i<100)//10到100
		{
			if(i%10==2)sum++;//个
		    if(i/10==2)sum++;//十
		}
		if(i>=100&&i<1000)//100到1000
		{
			if(i%10==2)sum++;//个
			if(i/10%10==2)sum++;//十
			if(i/100==2)sum++;//百
		}
		if(i>=1000&&i<10000)//1000到10000
		{
			if(i%10==2)sum++;//个
			if(i/10%10==2)sum++;//十
			if(i/100%10==2)sum++;//百
			if(i/1000==2)sum++;//千
		}
		if(i>=10000&&i<100000)//10000到100000
		{
			if(i%10==2)sum++;//个
			if(i/10%10==2)sum++;//十
			if(i/100%10==2)sum++;//百
			if(i/1000%10==2)sum++;//千
			if(i/10000==2)sum++;//万
		}	    	   
	}
	printf("%d",sum);
	return 0;
} 
```
有兴趣的可以去p1980，可以用相似写法AC，不会超时

---

## 作者：Kureno_H1kar1 (赞：0)

AC这道题的关键是：
### 数位分离
掌握这个这题基本就解决了。

------------
但是，作为一篇**Java**题解，自然要采用不同的方法：
### int与String的转换。

------------

很明显，在一串string里搜索 "2" 很明显要比数位分离~~暴力~~简单些。顺便再介绍Java中String类的**static方法**之一：
```java
String.valueOf(int i);
```
这个方法的作用是返回**int**类型数据的**字符串表示**。因此，如果我们用一个String类型的变量来储存这个方法的返回值的话：
```java
String s = String.valueOf(35);
```
那如果我们输出字符串s，结果则是：
```
35
```


------------
不仅如此，我们还需要一个方法来计算一个字符串内 "2" 的个数（利用substring()方法）在此直接放代码，不做详述：
```java
int countDigits(String s) {
	int c = 0;
	for(int i = 0; i < s.length(); i++) {
		String s1 = s.substring(i, i+1);
		if(s1.equals("2"))
			c++;
	}
	return c;
}
```
结合以上两点，程序框架基本成型，下面是AC代码（防作弊）：

```java
import java.util.Scanner;

public class CountDigits {
	
	int countDigits(String s) {
		int c = 0;
		for(int i = 0; i < s.length(); i++) {
			String s1 = s.substring(i, i+1);
			if(s1.equals("2"))
				c++;
		}
		return c;
	}
	
	public static void main(String []args) {
		int l, r, c = 0;
		Scanner sc = new Scanner(System.in);
		CountDigits cd = new CountDigits();
		l = sc.nextInt();
		r = sc.nextInt();
		for(int i = l; i <= r; i++) {
			String s3 = String.valueOf(i);
			c += cd.countDigits(s3);
		}
		System.out.println(c);
	}
}


```


------------
## 等等 !
我再介绍两种将**int类型变量转换为String类型**的方法：
```java
int i = 33;
String s = i + "";//利用 "+" 运算符

int j = 29;
String ss = Integer.toString(j);//利用Integer类的toString()方法
```


------------
### 谢谢大家观看嗷~


---

## 作者：白鲟 (赞：0)

这是一道众所周知的简单的题，而对于一道简单的题，我们可以有多种多样的解法。  
首先是纯数字的解法，我们利用循环来解题。  
```cpp
//写法一
#include<cstdio>
using namespace std;
int l,r,ans,t=1;
int main()
{
	scanf("%d%d",&l,&r);
	for(int i=l;i<=r;t=1,++i)
		for(int j=0;j<5;t*=10,++j)
			if(i/t%10==2)
				++ans;
	printf("%d",ans);
	return 0;
}

//写法2
#include<cstdio>
using namespace std;
int l,r,ans;
int main()
{
	scanf("%d%d",&l,&r);
	for(int i=l,t=i;i<=r;++i,t=i)
		while(t)
		{
			if(t%10==2)
				++ans;
			t/=10;
		}
	printf("%d",ans);
	return 0;
}
```
然后是c++风格的string。这里向大家所提到的一样，我们利用stringstream来进行数字和字符串之间的转换。  
```cpp
#include<cstdio>
#include<sstream>
#include<string>
using namespace std;
int l,r,ans;
string num;
int main()
{
	scanf("%d%d",&l,&r);
	for(int i=l,len;i<=r;++i)
	{
		stringstream s;
		s<<i;
		num=s.str();
		len=num.length();
		for(int i=0;i<len;++i)
			if(num[i]=='2')
				++ans;
	}
	printf("%d",ans);
	return 0;
}
```
再然后是c风格的字符串，利用sprintf来进行转换。  
```cpp
#include<cstdio>
#include<cstring>
using namespace std;
int l,r,ans;
char num[7];
int main()
{
	scanf("%d%d",&l,&r);
	for(int i=l,len;i<=r;++i)
	{
		sprintf(num,"%d",i);
		len=strlen(num);
		for(int i=0;i<len;++i)
			if(num[i]=='2')
				++ans;
	}
	printf("%d",ans);
	return 0;
}
```
几种方法各有所长，在不同的时候可以选取适合当前局势的方法进行解答。

---


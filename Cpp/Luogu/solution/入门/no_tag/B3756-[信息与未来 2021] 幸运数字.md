# [信息与未来 2021] 幸运数字

## 题目描述

如果⼀个正整数 $n$ 在五进制、七进制、九进制的表示下都没有数字 $0$，我们就称 $n$ 是幸运数字。例如：

- $(987)_{10}=(12422)_5=(2610)_7=(1316)_9$，因此 $n=987$ 不是幸运数字。

- $(988)_{10}=(12423)_5=(2611)_7=(1317)_9$，因此 $n=988$ 是幸运数字。

写程序求出 $a,a+1,a+2,\cdots,b$ 之间⼀共有多少个幸运数字。

## 说明/提示

对于 $40\%$ 的数据，$1\leq a \leq b \leq 10^3$。

对于 $100\%$ 的数据，$1\leq a \leq b \leq 10^6$。

>本题原始满分为 $15\text{pts}$。

## 样例 #1

### 输入

```
100 1000```

### 输出

```
203```

## 样例 #2

### 输入

```
900 4096```

### 输出

```
389```

# 题解

## 作者：chen_zhe (赞：4)

欢迎报名[洛谷网校](https://class.luogu.com.cn/)，期待和大家一起进步！

本题考察枚举和进制转换。

本题要求将数字转化为 $5,7,9$ 进制。我们先回忆一下如何进行进制转换。例如要将一个正整数 $x$ 转换为 $5$ 进制，我们要做的操作是：

1. 求出 $x$ 除以 $5$ 的余数 $q$；
2. 将 $x$ 除以 $5$，得到的结果向下取整；
3. 如果 $x>0$，则回到第一步；
4. 将得到的余数倒序排列，所得的结果就是 $x$ 转换成 $5$ 进制的结果；

因此，一个正整数在 $5$ 进制下的表示没有 $0$，可以理解成每次除以 $5$ 得到的余数 $q$ 从来不出现 $0$。对于 $7,9$ 进制的表示也是同理。

因此，我们可以编写一个函数 `bool check(int x, int base)`，表示正整数 $x$ 在 $\mathit{base}$ 进制下的表示是否不含有 $0$。返回值为 `true`，则说明不含有；返回值为 `false`，则说明含有。

```cpp
bool check(int x, int base) {
    while (x) {
        if (x % base == 0)
            return false;
        x /= base;
    }
    return true;
}
```

接着在主程序中，只用将枚举的 $i$ 代入 `check` 函数三次，即可得到答案：

```cpp
for (int i = a; i <= b; i++) {
    if (check(i, 5) && check(i, 7) && check(i, 9))
        ans++;
}
```

---


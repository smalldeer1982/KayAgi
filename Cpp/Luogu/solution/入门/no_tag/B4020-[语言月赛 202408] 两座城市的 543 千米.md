# [语言月赛 202408] 两座城市的 543 千米

## 题目背景

> 2022 年 6 月，风与清完成了普通高等学校招生全国统一考试。
>
> 于是，风去了 W 市，清去了 N 市，朋友至此相距 543 千米。
>
> 地理的阻隔，他们难以再相见。但通过网络，他们依然维持着很好的友谊。

## 题目描述

全国共有 $N$ 座城市，依次编号为 $1,2,\cdots,N$。每座城市都有高铁站。

每天全国有 $M$ 次高铁开行，第 $i$ 次高铁将**依次**经过 $l_i$ 个城市。其经过的第 $j$ 个城市为 $c_{i,j}$。

风所在的城市为 $a$，清所在的城市为 $b$。如果一列高铁先经过 $a$，再经过 $b$，则称其为**一列由 $a$ 市直达 $b$ 市的高铁**。

现在，给出所有高铁列车的信息，请问一共有多少列**由 $a$ 市直达 $b$ 市的高铁**。

## 说明/提示

### 样例解释

题目要求求解由 $1$ 市直达 $10$ 市的高铁。

第 $2$ 列、第 $3$ 列火车停靠的站点中，先出现过 $1$，再出现过 $10$。

### 数据规模与约定

对于 $30\%$ 的测试数据，$M=1$；  
对于 $100\%$ 的测试数据，$2 \le N \le 100$，$1 \le M \le 1000$，$1 \le l_i,a,b,c_{i,j}\le N$，$a \neq b$。对于 $1 \le i \le M$，$c_{i,j}$ 互不相同。

## 样例 #1

### 输入

```
10 4 1 10
5 2 9 5 6 1
2 1 10
10 1 2 3 4 5 6 7 8 9 10
10 10 9 8 7 6 5 4 3 2 1
```

### 输出

```
2
```

# 题解

## 作者：览遍千秋 (赞：5)

## Source & Knowledge

2024 年 8 月语言月赛，由洛谷网校入门计划/基础计划提供。

考察循环结构。

---

## 文字题解

本题给出 $n$ 辆高铁的停站，问有多少列高铁先停 $a$，再停 $b$。

每一辆高铁的处理类似，我们只研究一列高铁。一列高铁共停 $l$ 站，第 $i$ 站为 $c_i$。

我们用 $p_a,p_b$ 分别记录 $a$ 和 $b$ 是第几站，$p_a,p_b$ 的初始值赋为 $-1$，如果 $a,b$ 没有在停站中出现，那么对应的 $p$ 值为维持初始值 $-1$。

$p_a,p_b$ 可以在输入的过程中一并处理。

```cpp
cin >> l;
int pa = -1, pb = -1;
for(int i = 1, x; i <= l; i++) {
    cin >> x;
    if(x == a) pa = i;
    if(x == b) pb = i;
}
```

如果 $p_a,p_b$ 均不为 $0$，则说明 $a,b$ 站都停了，只需要比较 $p_a,p_b$ 的大小，就可以知道是否先停 $a$，再停 $b$。


---

## 视频题解

![](bilibili:BV1WQsEe7ERi?page=4)

---

## 作者：Igallta (赞：1)

## 题意

一共有 $N$ 座城市，给出 $M$ 条高铁路线，求出先经过城市 $a$ 再经过城市 $b$ 的铁路的数量。

比如：

这里 $a=1$，$b=3$。

铁路 `1 2 3 4`，这条铁路 $1$ 和 $3$ 的位置，是先出现 $1$ 再出现 $3$，所以这条铁路就是题目说的“直达”。

而铁路 `4 3 2 1` 就不满足直达。

## 思路

首先，我们要输入 $N$，$M$，$a$，$b$ 和铁路。在输入的时候我们就可以对有没有出现 $a$ 和 $b$ 进行处理。

我们记录 $a$ 和 $b$ 出现的位置，如果 $a<b$ 而且 $a$ 和 $b$ 找到了，那么记录答案。

注意：一定要**初始化**！

这部分的代码：

```cpp
cin >> n >> m >> a >> b;
while(m--) {
	cin >> l;
	x1=0;//一定要初始化！
	x2=0;
	for (int j = 1; j <= l; j++) {
		int x;
		cin >> x;
		if (x == b) {//记录 b 出现的位置
			x2=j;
		}
		if (x == a) {//记录 a 出现的位置
			x1=j;
		}
	}
	if(x1<x2 && x2 && x1){//是否满足情况
		++cnt;//记录答案
	}
}
```

最后，要输出答案。

```cpp
cout<<cnt;
```

---


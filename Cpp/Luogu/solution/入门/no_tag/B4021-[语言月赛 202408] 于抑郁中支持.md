# [语言月赛 202408] 于抑郁中支持

## 题目背景

> 感谢清曾在风最脆弱的时候给过支持。

## 题目描述

那是一段混沌的时期，风的记忆裂变为 $n$ 块碎片，第 $i$ 块的特征值为 $a_i$。

定义整数 $x$ 的后 $p$ 位的值为 $x \bmod 10^p$。特征值后 $t$ 位相同的记忆碎片，从属于同一事件。

请问，$n$ 块碎片共从属于多少不同的事件。

## 说明/提示

对于 $50\%$ 的测试数据，$t=1$；  
对于 $100\%$ 的测试数据，$1 \le n \le 10^5$，$1 \le a_i \le 10^9$，$1 \le t \le 4$。

## 样例 #1

### 输入

```
4 2
1345 245 105 1
```

### 输出

```
3
```

# 题解

## 作者：Igallta (赞：1)

## 题意

算出每个数的后 $p$ 位，看有多少个不同。

## 思路

“看有多少个不同”可以直接想到“集合”，可能有朋友不知道“集合”是什么，“集合”是一个元素**不可重复**的东西。

在这里可以直接使用头文件 `<set>` 里的 `set`（集合）这个集合还会帮你排序（默认从小到大）如果你不想让它排序，你也可以使用 `unordered_set`。

对于集合的定义：

```cpp
set<int>st;//定义一个集合，名字叫 st
```

这里先输入，在输入的时候就把这个数的后 $p$ 位放入集合中。

```cpp
cin>>n>>t;
for(int i=1;i<=n;i++){
	cin>>x;
	int k=(x%((int)pow(10,t)));//后 t 位
	st.insert(k);//放入集合
}
```

最后，我们只需要输出当前这个集合存储了多少个数就可以了。

```cpp
cout<<st.size();
```

## 扩展知识

这部分已经脱离题目了，而且只针对于学过指针的朋友。

集合 `set` 无法使用下标访问，**只能使用指针**（`set::iterator`）但这个太难打了怎么办呢？C++ 11 给我们提供了 `auto`，它可以替代 `set::iterator` 进行遍历。

比如我要遍历集合 $st$，并输出 $st$ 里的内容，我可以这样写：

```cpp
for(auto v:st){
	cout<<v<<' ';
}
```

---

## 作者：览遍千秋 (赞：1)

## Source & Knowledge

2024 年 8 月语言月赛，由洛谷网校入门计划/基础计划提供。

考察数组（桶思想）。

---

## 文字题解

注意到数据范围，$1 \le t \le 10^4$。因此，$10^t$ 在 $10 \sim 10000$ 的范围内，特征值的后 $t$ 位范围为 $[0,9999]$。

考虑桶思想。用 $s[i]$ 表示特征值后 $t$ 位为 $i$ 的碎片数量。每次输入 $a[i]$ 后，将 $s[a[i]\bmod 10^t]$ 增加 $1$。最后，在 $s[0\sim 10^t-1]$ 的范围内，不为 $0$ 的个数，即为事件总数。

代码片段，其中 $mod=10^t$：

```cpp
for(int i = 1; i <= n; i++) {
    cin >> a[i];
    a[i] %= mod;
    b[a[i]]++;
}
int cnt = 0;
for(int i = 0; i < mod; i++) {
    if(b[i] > 0) {
        cnt++;
    }
}
```

---

## 视频题解

![](bilibili:BV1WQsEe7ERi?page=5)

---


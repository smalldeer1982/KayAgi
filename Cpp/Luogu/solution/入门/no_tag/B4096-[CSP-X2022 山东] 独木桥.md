# [CSP-X2022 山东] 独木桥

## 题目描述

长度为 $L$ 米的独木桥上有 $n$ 个人，他们每个人都想以最快的时间离开危险的独木桥。

已知每个人在独木桥上的行走速度为 1 米每秒，每个人只要能走到独木桥的两个端点中的其中一个就可以离开独木桥。

由于独木桥的桥面宽度很窄，只能容纳一个人通过，当两个人相遇时，他们无法交错通过，只能各自调转方向，继续沿反方向行走。

给你独木桥上的人数 $n$，独木桥的长度 $L$ ， 第 $i$ 个人的初始位置到独木桥左端点的距离 $a_i$ 米（每个人开始的朝向未知，但他们可以根据需要随时调转行走的方向）。

请计算出所有人同时出发，全部都离开独木桥所需的最短时间。

## 说明/提示

对于 $50\%$ 的数据：$1 ≤ n ≤ 10^3$；

对于 $100\%$ 的数据：$1 ≤ n ≤ 10^6$，$1 ≤ L ≤ 10^6$，$0 ≤ a_i≤ L$。

## 样例 #1

### 输入

```
3
10
2 6 7```

### 输出

```
4```

## 样例 #2

### 输入

```
7
214
1 12 7 13 176 23 191```

### 输出

```
38```

# 题解

## 作者：chen_zhe (赞：0)

欢迎报名[洛谷网校](https://class.luogu.com.cn/)，期待和大家一起进步！

对于每个站在桥上的人来说，如果不需要碰撞调头，最明智的选择永远是朝向离自己最近的桥头前进。例如，假设某人在距离左端 $3$ 米的位置，而桥总长 $10$ 米，那么他只需 $3$ 秒就能撤离到左端，而无需花费 $7$ 秒跑到右端。

但是实际上，当两个行进方向相反的人相遇时，他们必须调头。但仔细观察会发现，如果忽略他们的身份，这种调头行为的效果等同于两人保持原速"交换身份"继续前进。这就意味着，无论中间发生多少次碰撞，每个人的撤离时间实际上只取决于他们最初的路径选择。

由于所有人同时出发，整个撤离过程的结束时间不取决于平均速度，而是由移动最慢的那个人决定。我们需要找出所有撤离者中最长的个人耗时作为答案即可。

参考代码（只展示关键部分）：

```cpp
int ans = 0;
for (int i = 0; i < n; i++) {
    // 计算该人离左右两端的较小距离
    int t = (a[i] < L - a[i]) ? a[i] : L - a[i];
    // 更新答案，答案取所有 t 中的最大值
    if (t > ans) ans = t;
}
```

---


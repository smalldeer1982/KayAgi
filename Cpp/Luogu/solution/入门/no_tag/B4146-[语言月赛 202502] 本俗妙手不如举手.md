# [语言月赛 202502] 本俗妙手不如举手

## 题目背景

QianQ 受 LG 杯裁判的启发，制定了新的“铅球杯”规则。

## 题目描述

在 2025 “铅球杯”决赛中，共有 $n$ 场比赛，保证 $n$ 为奇数。比赛对阵的双方为红边铅球与粉边铅球。

第 $i$ 场比赛的比分情况可以用整数 $a_i$ 来表示：

- 一场比赛对阵双方共计得 $99$ 分
- 红边铅球得 $a_i$ 分
- 粉边铅球得 $99-a_i$ 分
- 得分高者胜第 $i$ 场比赛

决赛中，获胜场数多者赢得铅球杯的比赛。

现在，蓝边铅球作为裁判，决定偏袒粉边铅球。他可以选择一个整数 $l(1\le l\le n-k+1)$，并在第 $l$ 场开始的连续 $k$ 场比赛：

- 红边铅球扣 $2$ 分
- 粉边铅球加 $2$ 分

请问，蓝边铅球有多少种选择 $l$ 的方法，使得粉边铅球可以赢下比赛。


## 说明/提示

- 对于 $30\%$ 的测试数据，$k=1$；
- 对于 $100\%$ 的测试数据，$1 \le k\le n \le 5000$，$0 \le a_i \le 99$，$n$ 为奇数。

## 样例 #1

### 输入

```
5 2
48 49 50 51 52```

### 输出

```
3```

# 题解

## 作者：览遍千秋 (赞：8)

## Source and Knowledge

2025 年 2 月语言月赛，由洛谷网校提供。

考察简单数组。

---

## 文字题解

根据题目的要求，我们可以改变连续 $k$ 场比赛的得分。

枚举这 $k$ 场比赛的起始场次 $i$，那么，终止的场次是 $i+k-1$。下面的代码，外层循环 $i$ 枚举起始场次，$j$ 枚举场次。

```cpp
for (int i = 1; i + k - 1 <= n; i++) {
    for (int j = i; j <= i + k - 1; j++) {
        a[j] -= 2;
    }
    // something else here
}
```

对于 $i\sim i+k-1$ 范围内的每一场比赛 $j$，我们修改其比分，将 $a[j]$ 减去 $2$。由于另外一人的得分为 $99-a[j]$，将 $a[j]$ 减去 $2$ 的同时，自然的完成了另一人得分增加 $2$ 的过程。

随后，我们枚举全部的比赛，统计粉边铅球可以赢的比赛数目。如果粉边铅球赢的比赛数目更多，则统计一次答案。

```cpp
int win = 0;
for (int j = 1; j <= n; j++) {
    if (99 - a[j] > a[j]) win++;
}
if (win > n - win) ans++;
```

需要注意的是，在进行下一次比分修改时，需要**撤销**本次修改的比分。每一次比分修改是独立的。

综上，可以得到核心代码如下。

```cpp
for (int i = 1; i + k - 1 <= n; i++) {
    for (int j = i; j <= i + k - 1; j++) {
        a[j] -= 2;
    }
    int win = 0;
    for (int j = 1; j <= n; j++) {
        if (99 - a[j] > a[j]) win++;
    }
    if (win > n - win) ans++;
    for (int j = i; j <= i + k - 1; j++) {
        a[j] += 2;
    }
}
```

---


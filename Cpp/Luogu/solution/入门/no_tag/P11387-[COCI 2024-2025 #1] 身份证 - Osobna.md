# [COCI 2024/2025 #1] 身份证 / Osobna

## 题目背景

译自 [COCI 2024/2025 #1](https://hsin.hr/coci/) T1。$\texttt{1s,0.5G}$。满分为 $50$。

## 题目描述


![](https://cdn.luogu.com.cn/upload/image_hosting/0h9xl0sa.png)


一张身份证上信息的格式如图所示。

第一行由 $5$ 个字母，$21$ 个数字和 $4$ 个 $\texttt{<}$ 组成。最后 $11$ 位数字为**校验码**。

第二行的前两位数字为**出生年**，特别地，若出生年 $\le 24$，则表示是在 $21$ 世纪出生的；否则表示在 $20$ 世纪出生的。

第二行的出生年后两位数字表示**出生月**，出生月后两位数字表示**出生日**。

第三行，先是持有人的**名**，接着是两个 $\texttt{<}$，再是持有者的**姓**，都是大写字母。如果不满 $30$ 个字符，则用 $\texttt{<}$ 填充。

你需要按照规定的格式输出这些信息。

## 说明/提示


| 子任务编号 | 特殊性质 | 得分 |  
| :--: | :--: | :--: | 
| $ 1 $    | A    |   $ 25 $   |  
| $ 2 $    | B   |  $ 15 $   |  
| $ 3 $    |  | $ 10 $   |

- 特殊性质 A：名和姓都只由一个字母组成。
- 特殊性质 B：出生年份在 $[2000,2024]$ 间。

## 样例 #1

### 输入

```
IOHRV111111111233333333333<<<<
0102032M2202022HRV<<<<<<<<<<<5
TONI<<HONI<<<<<<<<<<<<<<<<<<<<```

### 输出

```
Ime: Toni
Prezime: Honi
Datum rodjenja: 03-02-2001
OIB: 33333333333```

## 样例 #2

### 输入

```
IOHRV123456789012345678901<<<<
9803049F2401059HRV<<<<<<<<<<<2
PAJO<<PATAK<<<<<<<<<<<<<<<<<<<```

### 输出

```
Ime: Pajo
Prezime: Patak
Datum rodjenja: 04-03-1998
OIB: 12345678901```

# 题解

## 作者：_xzhdsnh1364 (赞：5)

本人盼了很久，终于到了重打上咕值的机会了，社贡掉了好多。

# 题目大意

此题题意就不用多说了吧，那我们直接切进思路环节~

# 解题思路

以下我们成三个字符串分别为 $a$，$b$，$c$，不认识的函数请自行搜索。

首先看前两行输出，与 $c$ 相关，我们直接使用 ```find``` 函数和 ```substr```，第一行用 ```c.find('<')```，找出第一个 ```<```，然后输出 ```c.substr(0 , pos)```，并在输出前将其除第一个外的所有字符全变为小写。格式我就不多讲了，以下均忽略。

第二行用 ```c.find('<' , pos + 2)```，找到继第二个 ```<``` 之后的第一个 ```<```，然后输出 ```c.substr(pos + 2 , pos2 - pos - 2)```，并在输出前将其除第一个外的所有字符全变为小写。

大写转小写一般采用字符 ```+32``` 操作。

此段代码为：
```cpp
int pos = c.find('<');
string x = c.substr(0 , pos);
for(int i = 1;i < x.size();i++)x[i] += 32;
cout << "Ime: " << x << '\n';
int pos2 = c.find('<' , pos + 2);
x = c.substr(pos + 2 , pos2 - pos - 2);
for(int i = 1;i < x.size();i++)x[i] += 32;
cout << "Prezime: " << x << '\n';
```
第三行，与 $b$ 有关，日与月，可直接用 ```substr``` 输出，分别为 ```b.substr(4 , 2)```，```b.substr(2 , 2)```，而年需要判断 ```b.substr(0 , 2)``` 的整数形式与 $24$ 的大小，若大于等于 $24$，则为二十一世纪，反之为二十世纪。

字符串转整数可用 ```stoi``` 函数。

此段代码为：
```cpp
cout << "Datum rodjenja: " << b.substr(4 , 2) << '-' << b.substr(2 , 2) << '-';
if(stoi(b.substr(0 , 2)) <= 24)cout << 20 << b.substr(0 , 2) << '\n';
else cout << 19 << b.substr(0 , 2) << '\n';
```
最后一行与 $a$ 有关，较易，直接输出 ```a.substr(15 , 11)```。

此段代码为：
```cpp
cout << "OIB: " << a.substr(15 , 11);
```

这就是整体思路了，下面为完整代码，注释我就不给了。

```cpp
#include<bits/stdc++.h>
using namespace std;
string a , b , c;
int main(){
    cin >> a >> b >> c;
    int pos = c.find('<');
    string x = c.substr(0 , pos);
    for(int i = 1;i < x.size();i++)x[i] += 32;
    cout << "Ime: " << x << '\n';
    int pos2 = c.find('<' , pos + 2);
    x = c.substr(pos + 2 , pos2 - pos - 2);
    for(int i = 1;i < x.size();i++)x[i] += 32;
    cout << "Prezime: " << x << '\n';
    cout << "Datum rodjenja: " << b.substr(4 , 2) << '-' << b.substr(2 , 2) << '-';
    if(stoi(b.substr(0 , 2)) <= 24)cout << 20 << b.substr(0 , 2) << '\n';
    else cout << 19 << b.substr(0 , 2) << '\n';
    cout << "OIB: " << a.substr(15 , 11);
    return 0;
}
```

---

## 作者：Reserved_ (赞：3)

# 思路：
[题目传送门](https://www.luogu.com.cn/problem/P11387)

- 读入三行字符串。

- 然后按照题意模拟即可。

# 注意：
1. 第三行，输出 `Datum Rodjenja:` 中的 `Rodjenja` 要改成 `rodjenja` 本蒟蒻就被害了几次！

2. 只有首字母大写。

3. 年份要判断有没有超过 $2024$，如果超过了要写成 `19__` 年。

代码如下：
# code


```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	string a,b,c;
	int k=0,f=0,l=0,ff=0;
	cin>>a>>b>>c;
	cout<<"Ime: ";
	for(int i=0; i<c.size(); i++)//输出名字
	{
		if(c[i]!='<')
		{
			l++;
			if(l==1)//判断首位
			{
				if(c[i]>='A'&&c[i]<='Z')
				{
					cout<<c[i];
				}
				else//如果是小写要转换成大写
				{
					cout<<char(c[i]-32);
				}
			}
			else
			{
				if(c[i]>='a'&&c[i]<='z')
				{
					cout<<c[i];
				}
				else//如果是大写要转换成小写
				{
					cout<<char(c[i]+32);
				}
			}
		}
		else
		{
			k++;
			if(k==2)
			{
				f=i;
				break; 
			}
		}
	}
	cout<<endl;
	cout<<"Prezime: ";
	l=0;
	for(int i=f+1; i<c.size(); i++)
	{
		if(c[i]!='<')
		{
			l++;
			if(l==1)//同上
			{
				if(c[i]>='A'&&c[i]<='Z')
				{
					cout<<c[i];
				}
				else
				{
					cout<<char(c[i]-32);
				}
			}
			else
			{
				if(c[i]>='a'&&c[i]<='z')
				{
					cout<<c[i];
				}
				else
				{
					cout<<char(c[i]+32);
				}
			}
		}
		else
		{
			break;
		}
	}
	cout<<endl;
	cout<<"Datum rodjenja: ";
	cout<<b[4]<<b[5]<<"-"<<b[2]<<b[3]<<"-";
	if(b[0]>='2')//判断年份
	{
        if(b[0]=='2')
        {
        	if(b[1]>'4')
        	{
        		ff=1;
        		cout<<"19";
			}
			else
			{
				ff=1;
				cout<<"20";
			}
		}
		if(ff==0)
			cout<<"19";
	}
	else
	{
		cout<<"20";
	}
	cout<<b[0]<<b[1]<<endl;
	cout<<"OIB: ";
	for(int i=15; i<=25; i++)
	{
		cout<<a[i];
	}
	return 0;
}
```
完结撒花，求通过！

---

## 作者：封禁用户 (赞：3)

[题目传送门](https://www.luogu.com.cn/problem/P11387)

感觉这道题很适合练手，所以写的题解比较详细。

## 思路

根据题意，假设三个字符串分别为 $a,b,c$，我们可以判断出：

+ 校验码在 $a$ 中的长度和位置是固定的；
+ 年月日在 $b$ 中的长度和位置是固定的；
+ 姓和名在 $c$ 中的长度不固定，位置固定。

所以得出思路，截取校验码和年月日的时候可以用字符串自带的 `substr()` 函数，比较方便（后面有关于 `substr()` 函数的知识拓展）；截取姓和名的时候就老老实实用循环。

观察到校验码的固定下标是 $[15,25]$（字符串下标从 $0$ 开始），所以校验码就是 `a.substr(15,11)`；年的下标是 $[0,1]$，所以年就是 `b.substr(0,2)`；月的下标是 $[2,3]$，所以月就是 `b.substr(2,2)`；日的下标是 $[4,5]$，所以日就是 `b.substr(4,2)`。

然后就是姓和名，我们定义两个空字符串 $ime$ 和 $pre$ 分别储存名和姓，那么截取名的时候就从下标 $0$ 开始，一直插入 $c_i$ 到 $ime$ 的后面，如果碰到了 `<` 这个字符，就退出循环，并用一个临时变量记录下标。由于名和姓之间隔了 $2$ 个 `<`，所以我们截取姓的时候从记录的下标 $+2$ 开始，一直插入 $c_i$ 到 $pre$ 的后面，如果碰到了 `<` 这个字符就退出循环。

不要忘记做最后的处理。首先是年，根据题意，如果截取的年 $\le 24$，那么这个人就是在 $21$ 世纪出生的，所以直接在年的前面插入 `20`，否则插入 `19`；还有姓和名，除了第一个字符还是保持大写，剩下的只需要变为小写就可以了。

## 代码

```cpp
#include <iostream>
using namespace std;

int main()
{
    string a, b, c;
    cin >> a >> b >> c;
    string oib = a.substr(15, 11); // 校验码
    string y = b.substr(0, 2); // 年
    string m = b.substr(2, 2); // 月
    string d = b.substr(4, 2); // 日
    if (y <= "24") y = "20" + y; // 21 世纪
    else y = "19" + y; // 20 世纪
    string ime = ""; // 名
    int id = 0; // 临时变量记录下标
    for (int i = 0; i < c.size(); i++)
    {
        if (c[i] == '<') { id = i; break; } // 记录下标，退出循环
        else ime += c[i]; // 插入 c[i]
    }
    for (int i = 1; i < ime.size(); i++) // 注意下标从 1 开始
        ime[i] = ime[i] - 'A' + 'a'; // 变为小写
    string pre = ""; // 姓
    for (int i = id + 2; i < c.size(); i++) // 下标从 id + 2 开始
    {
        if (c[i] == '<') break; // 退出循环
        else pre += c[i]; // 插入 c[i]
    }
    for (int i = 1; i < pre.size(); i++)
        pre[i] = pre[i] - 'A' + 'a'; // 变为小写
    cout << "Ime: " << ime << "\n";
    cout << "Prezime: " << pre << "\n";
    cout << "Datum rodjenja: " << d << "-" << m << "-" << y << "\n"; // 注意输出格式
    cout << "OIB: " << oib << "\n";
    return 0;
}
```

## 知识拓展

`substr()` 函数，用于截取字符串中的一个连续子串，用法为 `substr(起始下标, 长度)`。

比如有字符串 $s=$ `apple`，那么 `s.substr(1,3)` 就是 `ppl`，`s.substr(0,5)` 就是 `apple`。

---

## 作者：jiqihang (赞：2)

### 题目链接
[P11387 [COCI 2024/2025 #1] 身份证 / Osobna](https://www.luogu.com.cn/problem/P11387)

### 题意
给出一串（三段）身份证号码，输出身份证上的姓、名、出生日期以及校验码。

### 思路和步骤
一道模拟题，按题意模拟即可。

大致步骤如下（$a$ 表示第一段，$b$ 表示第二段，$c$ 表示第三段）：

1. 输入三段字符串。
2. 运用循环找出 $c$ 中的姓和名，然后输出。
3. 从 $b$ 中找出出生日期，并按 **DD-MM-YYYY** 输出。
4. 从 $a$ 中找出校验码，然后输出。

### 疑难点
问题：

1. 如何找出信息？
2. 如何找出姓和名（尤其是输出完名后如何找到姓）？

回答：

1. 我们可以通过字符串下标一位一位地输出。
2. 我们可以当循环遇到 $<$ 结束后，用 $wz$ 记录下位置。

### 注意事项
1. 代码中需要确保输入以及输出字符串的格式全部满足题目要求。
2. 处理出生日期中的年份时，需要根据出生年份的范围进行判断。
3. 对姓名要进行大小写转换。
### 代码展示

```cpp
#include <bits/stdc++.h>//万能头文件 
using namespace std;//命名空间 
int i=0;//之所以把i定义在全局变量里，是为了后面直接用
string a,b,c;//我把三段分开了，也可以合上 
int main()//主函数 
{
	cin>>a>>b>>c; //输入
	cout<<"Ime: "; 
	for(i=0;i<c.size();i++)
	{
		if(c[i]=='<') break;//如果输出完毕，跳出
		else
		{
			if(i==0&&c[i]>='A'&&c[i]<='Z') cout<<c[i];//首字母原来就是大写，直接输出
			else if(i==0) cout<<char(c[i]-32);//否则要转换下 
			//首字母处理完了 
			else if(c[i]>='a'&&c[i]<='z') cout<<c[i];//其余字母原来就是小写，直接输出
			else cout<<char(c[i]+32);//否则要转换下 
			//全部处理完了 
		} 
	}
	cout<<endl;
	//此为名字的输出 
	
	int wz=i;//记录位置
	cout<<"Prezime: "; 
	for(i=i+2;i<c.size();i++)//i=i+2表示姓氏的位置 
	{
		if(c[i]=='<') break;//如果输出完毕，跳出
		else
		{
			if(i==wz+2&&c[i]>='A'&&c[i]<='Z') cout<<c[i];//首字母原来就是大写，直接输出
			else if(i==wz+2) cout<<char(c[i]-32);//否则要转换下 
			//首字母处理完了 
			else if(c[i]>='a'&&c[i]<='z') cout<<c[i];//其余字母原来就是小写，直接输出
			else cout<<char(c[i]+32);//否则要转换下 
			//全部处理完了 
		} 
	}
	cout<<endl;
	//此为姓氏的输出（判断部分一致，建议自己写）
	
	cout<<"Datum rodjenja: "; 
	cout<<b[4]<<b[5]<<"-"<<b[2]<<b[3]<<"-";//日期和月份
	if((b[0]-48)*10+b[1]-48<=24) cout<<20;//20开头 
	else cout<<19;//19开头 
	cout<<b[0]<<b[1];
	cout<<endl;
	//此为出生日期的输出
	
	cout<<"OIB: "; 
	cout<<a[15]<<a[16]<<a[17]<<a[18]<<a[19]<<a[20]<<a[21]<<a[22]<<a[23]<<a[24]<<a[25];//校验码
	cout<<endl;
	//此为校验码的输出
	
	return 0;//养成好习惯 
}
```

这道题就做完了，有不懂的欢迎问我。

---

## 作者：Zhl2010 (赞：2)

## 思路

首先读取输入的三行字符串。


通过循环从 $c$ 中提取出姓名的部分，**并进行大小写转换**。

从 $b$ 中提取出生日、出生月和出生年等信息，并按照指定格式构建出生日期 `dat`。

从 $a$ 中提取出校验码 `oib`。

最后按照要求输出各项信息。

注意事项：
- 代码中需要确保输入字符串的格式符合题目要求。

- 处理出生日期时，需要根据出生年份的范围进行判断和调整。

- 进行大小写转换。
## 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
string a,b,c;
string ime,pre,dat,oib;

int main(){
	cin>>a>>b>>c;
	int i=0;
	for(i=0;i<=c.size();i++){
		if(c[i]=='<')break;
		if(i!=0)ime+=c[i]+'a'-'A';
		else ime+=c[i];
	}
	i+=2;
	int t=i;
	for(;i<=c.size();i++){
		if(c[i]=='<')break;
		if(i!=t)pre+=c[i]+'a'-'A';
		else pre+=c[i];
	
	}
	
	
	dat+=b[4];
	dat+=b[5];
	dat+='-';
	dat+=b[2];
	dat+=b[3];
	dat+='-';
	
	int x=b[1]-'0';
	int y=b[0]-'0';
	int z=y*10+x;
	if(z<=24){
		dat+="20";
	}else{
		dat+="19";
	}
	dat+=b[0];
	dat+=b[1];
	
	for(int i=15;i<=25;i++){
		oib+=a[i];
	}
	cout<<"Ime: "<<ime<<endl;
	cout<<"Prezime: "<<pre<<endl;
	cout<<"Datum rodjenja: "<<dat<<endl;
	cout<<"OIB: "<<oib<<endl;
	
	return 0;
}
```

---

## 作者：GeYang (赞：1)

# 题意

让你按照一个要求模拟输出该输出的东西。

# 思路

要注意大小写转换。

要注意字符串元素的下标，有时需要加上一。

其余的按题目模拟即可。

# 代码


```cpp
#include<bits/stdc++.h>
using namespace std;
string s1,s2,s3;
long long m1,m2;
int main()
{
	getline(cin,s1);
	getline(cin,s2);
	getline(cin,s3);
	for(int i=0;i<s3.size();i++)
	{
		if(s3[i]=='<'&&s3[i+1]=='<'&&s3[i+2]!='<')
		{
			m1=i;
			break;
		}
	}
	for(int i=0;i<s3.size();i++)
	{
		if(s3[i]!='<'&&s3[i+1]=='<'&&s3[i+2]=='<'&&s3[i+3]=='<')
		{
			m2=i;
			break;
		}
	}
	cout<<"Ime: ";
	if(s3[0]>='a') cout<<char(s3[0]-'a'+'A');
	else cout<<s3[0];
	for(int i=1;i<m1;i++)
	{
		if(s3[i]>='a') cout<<s3[i];
		else cout<<char(s3[i]-'A'+'a');
	}
	cout<<endl;
	cout<<"Prezime: ";
	if(s3[m1+2]>='a') cout<<char(s3[m1+2]-'a'+'A');
	else cout<<s3[m1+2];
	for(int i=m1+3;i<=m2;i++)
	{
		if(s3[i]>='a') cout<<s3[i];
		else cout<<char(s3[i]-'A'+'a');
	}
	cout<<endl;
	cout<<"Datum rodjenja: "<<s2[4]<<s2[5]<<"-"<<s2[2]<<s2[3]<<"-";
	if((s2[0]-48)*10+s2[1]-48<=24) cout<<"20";
	else cout<<19;
	cout<<s2[0]<<s2[1]<<endl;
	cout<<"OIB: ";
	for(int i=15;i<=25;i++) cout<<s1[i];
} 
```

---

## 作者：_lxc__ (赞：1)

~~不是这也太考验耐心了吧~~

按题意模拟即可。

* 从第三个字符串中提取出名和姓，其中注意大小写的问题，即姓和名的第 $1$ 个字母要大写，其余小写。

* 再从第二个字符串中提取出生年、月、日，注意年份的特殊要求，即出生年份在二十世纪还是二十一世纪。

* 最后从第一个字符串中提取出校验码，注意从第十一位开始才是校验码。

代码没什么特别的，在这里就不放了。

---


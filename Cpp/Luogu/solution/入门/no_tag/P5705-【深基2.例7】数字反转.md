# 【深基2.例7】数字反转

## 题目描述

输入一个不小于 $100$ 且小于 $1000$，同时包括小数点后一位的一个浮点数，例如 $123.4$ ，要求把这个数字翻转过来，变成 $4.321$ 并输出。

## 样例 #1

### 输入

```
123.4```

### 输出

```
4.321```

# 题解

## 作者：CSP_Sept (赞：821)

**Updated on 2021.08.05** 优化了原题解，增加了关于输入输出的详细说明，希望能再次通过审核！

___

你当然可以使用 string 类的 reverse 操作，或者是字符数组倒序输出，这里介绍一种可能在你整个 OI 生涯与你相伴的做法。

本文将为你介绍 **格式化输入输出函数**：$\tt scanf$ 和 $\tt printf$。

### 0 为什么

$\tt scanf/printf$ 相比 $\tt cin/cout$ 快得多，应对多数题目绰绰有余。

以 [Luogu P7505 「Wdsr-2.5」小小的埴轮兵团](/problem/P7505) 为例。

笔者先后提交了两次，一次是使用自己的验题代码（使用了 scanf/printf），一次是使用 cin/cout。

![](https://cdn.luogu.com.cn/upload/image_hosting/rgi1rk74.png)

可以看出，差异是相当大的了。

（当然用快读更快）

### 1 语法


```cpp
#include <cstdio> //头文件
... ...
scanf("输入控制符", 输入参数);
printf("输出控制符", 输出参数);
```

其中常用的输入控制符有：

- `%d`：读入一个 $32$ 位有符号整数。
- `%u`：读入一个 $32$ 位无符号整数。
- `%lld`：读入一个 $64$ 位有符号整数。
- `%llu`：读入一个 $64$ 位无符号整数。
- `%f`：读入一个 `float` 类型。
- `%lf`：读入一个 `double` 类型。

输出控制符与之类似。

**练习：** [Luogu P1001 A+B Problem](/problem/P1001)

### 2 Solution

而这道题用 `%d` 类型是过不了的，因为输入没有空格，但可以用 `%1d` 输入，代表读入的整数都只有 $1$ 位。

先定义四个字符类型。

当然，如果输入中有多余的已知字符，可以在 scanf 中用该字符占位。

例如输入是 $2021.805$，使用如下代码读入，$a,b$ 的值分别为 $2021,805$。

```cpp
scanf("%d.%d", &a, &b);
```

本题 AC 代码：

```cpp
#include <cstdio>

using namespace std;
char a, b, c, d;
int main(){
	scanf("%c%c%c.%c", &a, &b, &c, &d);
	printf("%c.%c%c%c", d, c, b, a);
	return 0;
}
```

**练习：** [Codeforces 1A Theatre Square](/problem/CF1A)，[[NOIP2011 普及组] 数字反转](/problem/P1307)，[Luogu P1553 数字反转（升级版）](/problem/P1553)

**拓展练习：** [	[NOI2021] 量子通信](https://loj.ac/p/3535)

---

## 作者：king_xbz (赞：297)

这是洛谷入门赛的签到题，对于初学的新手来说，这显然是练习字符串的好机会

我们先来认识一下c++的字符串string，这个类型相当于c中char[]，和char一样，string也可以用数组表示多个字符串，即string a[]。接下来看看常见的几个string类型操作：

string a;//定义一个string类字符串。

int len=a.size()//读取串a的长度，注意此时a中字符下标是从0开始的。

有了这些，我们便可以反转了！
```cpp
#include<bits/stdc++.h>万能头文件
using namespace std;
string a;
signed main()
{
	cin>>a;
	int len=a.size();读取长度
	for(int i=len-1;i>=0;i--)反转
	cout<<a[i];
	return 0;
}
```

学会了吗，那么再看一道题：
[练习](https://www.luogu.com.cn/problem/P1307)

我们当然也可以使用字符串做出这道题，但是，我们需要处理前导0.那么，有没有什么方法可以无需处理前导0呢。或许我们可以直接对数字进行处理：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,k;
int turn(int n);
int main()
{
cin>>n;
turn(n);
cout<<k<<endl;
return 0;
}

int turn(int n)
{
while(n)
{ 
    k=k*10 + n%10;
    n/=10;
}
return 0;
}
```
会了吗？自己试试吧！

---

## 作者：KaguyaH (赞：228)

**事实上函数参数的求值顺序是未指明的，尽管大部分实现从后往前求值。请尽量不要使用这种写法，尽管可以通过本题。**

我们注意到，本题的输入长度固定为 5 个字符，且其中第 4 个字符为小数点。

要求反转 $\overline{abc.d}$，即：输出 $\overline{d.cba}$。

我们发现，把包括小数点在内的5个字符顺序反转后输出即可。进而我们联想到 `printf` 函数的一个重要特性：**参数从后往前求值。** 即：

`printf("%u %u\n", work1(), work2())` 会先执行 `work2()` 再执行 `work1()`。

利用这一特性，我们可以得到核心代码：

```cpp
printf("%c%c%c%c%c", getchar(), getchar(), getchar(), getchar(), getchar());
```

完整代码只有五行。

---

## 作者：洛谷视频题解 (赞：21)

![](bilibili:BV1ew411Z76w?page=4)

## 广告

适用于小学初中生的零基础NOIP/CSP的起步课程，包括课堂讲授与实验、课后练习答疑解惑与监督与评估环节，轻松助力入门！。[【点击此处报名 >>】](http://ipic.luogu.com.cn/l/rmb.html)

[![](https://ipic.luogu.com.cn/yugu21rm/banner_jihua.png)](http://ipic.luogu.com.cn/l/rmb.html)

---

## 作者：bjcakioi (赞：13)

我们可以使用 ```char``` 类型来输入。由于数据保证一定是三位数，加上小数点和小数点后一位的小数部分，一共是 $5$ 个字符。所以我们定义五个字符，输入它们，再倒着把它们都输出一遍即可。

贴上代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
char a,b,c,d,e;
int main(){
    cin>>a>>b>>c>>d>>e;
    cout<<e<<d<<c<<b<<a;
    return 0;
}
```

---

## 作者：libu2333 (赞：6)

## 前言

STL 是个好东西。

## 思路

乍一看题目，第一个想到逐位取数字倒着输出，但题目中的数是浮点数，所以这种方法肯定不行。~~（其实只是不想写而已）~~

所以考虑用字符串存数。

这里就要介绍 C++ STL 库里用来反转容器的 `std::reverse()` 函数。通常它有两个参数：**首迭代器** 和 **尾迭代器**。因为数组和 `std::string` 本质上都属于 STL 规定的容器，所以这题可以直接用 `std::reverse` 解决。假设输入的字符串变量名是 `str`，如果你要使用 `std::string`，首尾迭代器就是 `str.begin()` 和 `str.end()`；如果你使用字符数组，首尾迭代器就是 `str` 和 `str+strlen(str)`。于是这道题就很简单了。

## 代码

```cpp
#include<iostream> // 输入输出流
#include<algorithm> // std:reverse 函数
#include<string> // std::string
using namespace std;
int main(){
  string s;
  cin>>s;
  reverse(s.begin(),s.end());
  cout<<s<<endl;
  return 0;
}
```

---

## 作者：AstralSparkle (赞：5)

# P5705 题解

欢迎来到 AstralNahida 的题解频道！

这道题是拿来熟悉 STL 用的，当然你要是希望直接处理出每一位数字再倒序输出也不是问题，只是未免太过繁琐了。

我们知道，STL 中有一个函数 `std::reverse()` 可以用来反转 STL 容器（例如 `std::string`、`std::vector` 等等）。

使用这个函数反转 `std::string` 的方法为：
```cpp
std::reverse(str.begin(), str.end());
```
其中 $\text{str}$ 是需要反转的 `std::string`。

反转完直接输出就行了。

AC Code:

```cpp
#include <string>
#include <iostream>
#include <algorithm>

int main(void) {
    std::string str;
    std::cin >> str;
    
    std::reverse(str.begin(), str.end());
    
    std::cout << str << '\n';
    
    return 0;
}
```

完结撒花！祝大家 rp++ 喵。

---


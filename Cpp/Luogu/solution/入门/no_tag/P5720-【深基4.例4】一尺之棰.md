# 【深基4.例4】一尺之棰

## 题目描述

《庄子》中说到，“一尺之棰，日取其半，万世不竭”。第一天有一根长度为 $a$ 的木棍，从第二天开始，每天都要将这根木棍锯掉一半（每次除 $2$，向下取整）。第几天的时候木棍的长度会变为 $1$？

## 说明/提示

数据保证，$1 \le a\le 10^9$。

## 样例 #1

### 输入

```
100```

### 输出

```
7```

# 题解

## 作者：Vct14 (赞：10)

用 `while` 来模拟即可，其语法为 `while(){}`，如果满足小括号中的内容就将执行大括号中的内容，并再次判断此时是否满足小括号中的内容。这里小括号中应为 `n!=1`，因为只要 $n$ 不为 $1$ 我们就要继续除。

每次循环将 $n$ 除以 $2$，并将用于统计答案的变量 $sum$ 加一即可。

```cpp
#include<bits/stdc++.h>
using namespace std;

int main(){
	int n,sum=0;
	cin>>n;
	while(n!=1){
		n=n/2;
		sum++;
	}
	cout<<sum+1;
	return 0;
}
```

---

## 作者：一扶苏一 (赞：6)

# P5720 【深基4.例4】一尺之棰

## 分析

可以依据题意模拟。维护当前木棍的长度 $a$，当 $a \neq 1$ 时，就将 $a$ 除以二。使用一个循环来维护这个不停除以二的过程，最后循环执行的轮数即为经过的天数。

## 代码

### C++

在 C++ 里，可以用 `while` 循环来执行「只要达不到某个目标就一直执行」的逻辑，语法为 ``while (condition) { Block }``，这里 `condition` 是循环持续的条件，当 `condition` 为真时，循环体内容 `Block` 就会被执行一次，然后判断 `condition`，不停执行直到不满足 `condition`。

在本题中，循环一直执行的条件应该是 $a \neq 1$，即 `while (a != 1)`。因为 cpp 中非 $0$ 值均为真，条件也可以直接写成 `while (a)`。此外需要用一个变量 `cnt` 表示执行轮数。结合相应的读入，可以写出如下代码：

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
  int a, ans = 1;
  cin >> a;
  while (a) {
    ans -=- 1; // ans++
    a /= 2;   // 直接除以二即为整除
  }
  cout << ans << endl;
}
```

---

### Rust

在 Rust 里， while 循环的格式是 `while condition { Block }`。但是 `condition` 必须是一个 bool 类型表达式，因此必须写成 `while a != 1`，而不能直接写为 `while a`。

```rust
/*
  省略了读入类 
  https://www.luogu.com.cn/paste/clle55rg
*/

fn main() {
  let mut cin = Scanner::new();
  let mut a = cin.next_int();
  let mut ans = 1;
  while a != 1 {
    ans += 1;
    a >>= 1;
  }
  println!("{}", ans);
}
```

---

### TypeScript

在 ts 里，类似的 for 循环的方法和 cpp 一致。
有一点小问题是 `number` 类型本身是浮点数，如果做直接除以二将不是整除。所以可以用右移运算符完成整除 $2$ 的操作。

```typescript
import { Reader } from './Reader';
// https://www.luogu.com.cn/paste/r7vtnbaz
import * as fs from 'node:fs';

const data = fs.readFileSync('/dev/stdin')
const lines = data.toString('ascii').trim().split('\n');
const cin = new Reader(lines);

let a = cin.nextInt();
let ans = 1;
while (a != 1) {
  ++ans;
  a >>= 1;
}
console.log(ans);
process.exit(0);
```

---

## 作者：AstralSparkle (赞：4)

# P5720 题解

欢迎来到 AstralNahida 的题解频道！

这题显然是道模拟，使用 `while` 循环来操作：当木棍长度 $a\neq1$ 时，将 $a$ 整除 $2$。记录循环执行的次数，最后输出即可。

AC Code:
```cpp
#include <iostream>

int main(void) {
    int a, ans = 1;
    std::cin >> a;

    while (a != 1) {
        ans++;
        a >>= 1; // 位运算，将 a 右移 1 位相当于整除 2。
    }

    std::cout << ans << '\n';

    return 0;
}
```

完结撒花！祝大家 rp++ 喵。

---

## 作者：piske (赞：3)

# 【深基4.例4】一尺之棰
## 思路：
1. 我们可以利用 `while` 循环来一直重复操作，直到长度变成 $1$。
2. 也可以利用无限循环来重复操作，每次操作前判断长度是否为 $1$。
## 注意：
在用无限循环来进行判断时如果符合要求要直接结束循环。
## 代码：
#### 方法 1：
```cpp
#include <iostream>
using namespace std;
int main(){
	int a,cnt;
	cnt=1;
	cin>>a;
	while(a!=1) //利用while循环直到满足条件才推出 
	{
	    a=a/2;  //默认向下取整 
	    cnt++;  //计数器增加 
	}
	cout<<cnt;  //输出 
	return 0;
}
```
#### 方法 2：
```cpp
#include <iostream>
using namespace std;
int main(){
	int a,cnt=1;
	cin>>a;
	for( ; ; ){         //无限循环 
		if(a==1){         //判断是否满足条件 
			cout<<cnt;      //输出 
			return 0;       //一定要结束程序 
		}
		a/=2;             //默认向下取整 
		cnt++;            //计数器增加 
	}
}
```

---

## 作者：GoldenSTEVE7 (赞：2)

## 题意
题目给定一个数字，让你对其不停除以 $2$，并且向下取整。问几次操作后可以得到 $1$。

## 思路
我们要使用一个不同于 `for` 的循环，它的名字叫做 `while`。

它的语法如下：

```
while(/**/) {
    /**/;
    /**/;
}
```

第一行内所填入的是一个 `bool` 类型的参数，**在每一次操作前**，若这个变量为真，那么进行大括号内的操作，否则跳出循环。

需要注意的是，括号内的参数是**运行的条件**，**而不是退出循环的条件**。

那么我们来“翻译”一下题目：如果变量 $a$ 大于 $1$，那么将 $a$ 除以 $2$，并向下取整。

想懂这个后就可以开始写代码了。

## 代码
```cpp
#include<iostream>
using namespace std;

int main() {
    long long n, ans = 1; // 需要注意的是，答案的初始值应该设置为 1
    cin >> n;
    while(n > 1) {// while 循环
        ans++;
        n /= 2; 
    }
    cout << ans;
    return 0;
}
```

---


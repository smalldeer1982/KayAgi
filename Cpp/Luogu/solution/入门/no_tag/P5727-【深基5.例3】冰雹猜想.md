# 【深基5.例3】冰雹猜想

## 题目描述

给出一个正整数 $n$，然后对这个数字一直进行下面的操作：如果这个数字是奇数，那么将其乘 $3$ 再加 $1$，否则除以 $2$。经过若干次循环后，最终都会回到 $1$。经过验证很大的数字（$7\times10^{11}$）都可以按照这样的方式比变成 $1$，所以被称为“冰雹猜想”。例如当 $n$ 是 $20$，变化的过程是 $20\to 10\to 5\to 16\to 8\to 4\to 2\to 1$。

根据给定的数字，验证这个猜想，并从最后的 $1$ 开始，倒序输出整个变化序列。

## 说明/提示

数据保证，$1 \le n\le 100$。

## 样例 #1

### 输入

```
20```

### 输出

```
1 2 4 8 16 5 10 20```

# 题解

## 作者：fjtMESSI10 (赞：7)

## 思路
这题我们只需要按照题目的操作来，如果 $n$ 是偶数，那么让他除以二，否则乘 $3$ 加 $1$，在执行每一步操作的同时，我们用一个数组来存每次变化的值，最后倒序输出就可以了。注意！最后还要输出 $n$ 本身！(如果 $n=1$ 的情况没有这个就错了)。
## 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
#define int long long
int x,m;
int a[100005];
signed main(){
	int n;
	cin>>n;
	m=n;
	while(n>1){
		if(n%2==0){
			n=n/2;
			a[x]=n;
        }
		else{
			n=n*3+1;
			a[x]=n;
        }
		x++;
    }
	for(int i=x-1;i>=0;i--){
		cout<<a[i]<<" ";
    }
	cout<<m;
	return 0;}
```

---

## 作者：xzk2012 (赞：5)

此题用循环即可。

思路：

首先判断奇偶；

然后根据其奇偶将数进行操作；

将新结果存入数组；

倒序输出。

代码如下：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,a[100010],t=1;
int main(){
    cin>>n;
    a[0]=n;
    while(n!=1){
        if(n%2==1) n=n*3+1;
        else n/=2;
        a[t]=n;
        t++;
    }
    t--;
    for(int i=t;i>=0;i--) cout<<a[i]<<" ";
    return 0;
}
```

---

## 作者：Peruere_Arlecchino (赞：3)

这道题很简单，我们首先可以初始化一个列表，用来存储变换过程，从给定的正整数 $n$ 开始，按规则（奇数乘 $3$ 加 $1$，偶数除以 $2$）循环计算，直至结果为 $1$，每次计算结果加入列表；然后将列表反转，使序列从 $1$ 开始；最后按顺序输出反转后的列表元素。
### code：
```cpp
#include<bits/stdc++.h>
#include<vector>
#include<algorithm>
using namespace std;
int main(){
    int n;
    cin>>n;
    vector<int> s;
    s.push_back(n);
    while(n!=1){
        if(n%2==1){
            n=n*3+1;
        }
        else{
            n=n/2;
        }
        s.push_back(n);
    }
    reverse(s.begin(),s.end());
    for(int i=0;i<s.size();i++){
        cout<<s[i];
        if(i<s.size()-1){
            cout<<" ";
        }
    }
    return 0;
}
```

---

## 作者：vector_STL_ (赞：2)

# 题目简述

这题意即给出正整数 $n$ , 给出完整的冰雹猜想演变序列，并且倒序输出。

可以使用 while 循环模拟，并用动态数组存储当前状态。

# CODE

```cpp
#include <bits/stdc++.h>
using namespace std;
#define int long long
int n;
vector<int> f;

signed main() {
	cin>>n;
	while(n>1){
		f.push_back(n);
		if(n%2==0)n/=2;
		else n=n*3+1;
	}
	f.push_back(1);
	reverse(f.begin(),f.end());
	for(auto c:f){
		cout<<c<<" ";
	}
	return 0;
}
```

---

## 作者：Ashankamiko (赞：2)

# 题目简述
### 题意
这道题是模拟题，流程如下。
- 输入一个整数 $n$。
- 如果 $n$ 是奇数，令 $n \gets n \times 3+1$。
- 如果 $n$ 是偶数，令 $n \gets n \div 2$。
- 重复操作 $2$ 和 $3$ 直至 $n$ 变为 $1$。

### 思路
只需要按照题意模拟即可，每变化一次 $n$，就输出一次。

由于是倒序输出，还需要用数组储存然后再输出。
## [AC 代码](https://www.luogu.com.cn/record/153502308)
```cpp
#include <bits/stdc++.h>
long long a[105];
using namespace std;

signed main() {
	int i = 0, n;
	cin >> n;
	a[0] = n;
	if(n==1){ //直接输出1
		cout<<"1";
		return 0;
	}
	while (n != 1) { //模拟题意
		i++;
		if (n % 2 == 0) {
			n /= 2;
			a[i] = n;
		} else {
			n = n * 3 + 1;
			a[i] = n;
		}
	}
	for (int j = i; j >= 0; j--) //倒序输出
		cout << a[j] << ' ';
	return 0;
}
```

---

## 作者：XXXL_jzl (赞：1)

# 题目分析

有一个整数 $n$。\
若 $n$ 为奇数，则令 $n$ 变为 $n \times 3 + 1$。\
若 $n$ 为偶数，则令 $n$ 变为 $\frac {n}{2}$。\
接着不断模拟，每次模拟时计数变量 $cnt + 1$。

# 注意

这一个题目要求倒序输出。

# AC Code 

```cpp
#include <bits/stdc++.h>
long long a[100005];
using namespace std;
signed main() {
	int cnt = 0, n;
	cin >> n;
	a[0] = n;
	if(n == 1){ //直接输出1
		cout << "1\n";
		return 0;
	}
	while (n != 1) { //模拟题意
		cnt++;
		if (n % 2 == 0) {
			n /= 2;
			a[cnt] = n;
		} else {
			n = n * 3 + 1;
			a[cnt] = n;
		}
	}
	for (int i = cnt; i >= 0; i--) cout << a[i] << ' ';
	return 0;
}
```

---

## 作者：XXXXD__TB_XZH (赞：0)

## 题目介绍

给定一个数字当它是奇数时，就 $\times3+1$，否则 $\div2$，到 $1$ 为止。\
所以直接在数 $\ge1$ 时持续判断，并用数组记录即可，注意，倒序输出。

## AC Code：

```cpp
#include<bits/stdc++.h>
using namespace std;
int n;
int a[1005];
int main(){
	cin>>n;
	int ans=0,s=n;
	while(s!=1){//到1结束
		if(s%2==0){//偶数
			s/=2;//改变
			a[ans]=s;//记录
		}else{
			s=s*3+1;//改变
			a[ans]=s;//记录
		}
		ans++;//记录数字数量
	}
	for(int i=ans;i>=1;i--){//倒序输出
		cout<<a[i-1]<<" ";
	} 
	cout<<n;
	return 0;
}
```

---


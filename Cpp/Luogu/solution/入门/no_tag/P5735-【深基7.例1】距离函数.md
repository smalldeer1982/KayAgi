# 【深基7.例1】距离函数

## 题目描述

给出平面坐标上不在一条直线上三个点坐标 $(x_1,y_1),(x_2,y_2),(x_3,y_3)$，坐标值是实数，且绝对值不超过 100.00，求围成的三角形周长。保留两位小数。

对于平面上的两个点 $(x_1,y_1),(x_2,y_2)$，则这两个点之间的距离 $dis=\sqrt{(x_2-x_1)^2+(y_2-y_1)^2}$。

## 说明/提示

数据保证，坐标均为实数且绝对值不超过 $100$，小数点后最多仅有 $3$ 位。

## 样例 #1

### 输入

```
0 0
0 3
4 0```

### 输出

```
12.00```

# 题解

## 作者：King_Parliament (赞：30)

# 入门经典

## 数学知识

这里要用到的是距离公式，已知两点$A(x_1,y_1),B(x_2,y_2)$那么AB间的距离

$$|AB|=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}$$

具体来说就是勾股定理的另一种应用，证明过程属于初中数学问题。不再展开了。

## 构造函数

这里我们可以根据距离公式，写一个距离函数用来求两点间距离。

## 代码如下

```cpp
#include<bits/stdc++.h>
using namespace std;
double dis(double x1,double y1,double x2,double y2){
	return sqrt(pow((x1-x2),2)+pow((y1-y2),2));
}
int main(){
	int x[10],y[10];
	for(int i=1;i<4;i++)
		cin>>x[i]>>y[i];
	double a=dis(x[1],y[1],x[2],y[2]);
	double b=dis(x[1],y[1],x[3],y[3]);
	double c=dis(x[2],y[2],x[3],y[3]);
	printf("%.2lf",a+b+c);
	return 0;
} 
```


---

## 作者：xzk2012 (赞：12)

首先看题，要求三角形周长，就要知道三角形三边的长度，然后相加。

题目中已经给了求边公式，就按它写并求和。

平方函数不会点[这](https://blog.csdn.net/qq_39180358/article/details/140947005)。
```cpp
#include<bits/stdc++.h>
using namespace std;
double a,b,c,d,e,f;
int main(){
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cin>>a>>b>>c>>d>>e>>f;
    cout<<fixed<<setprecision(2)<<sqrt((c-a)*(c-a)+(d-b)*(d-b))+sqrt((c-e)*(c-e)+(d-f)*(d-f))+sqrt((e-a)*(e-a)+(f-b)*(f-b));
	return 0;
}
```

点个赞吧！

---

## 作者：liyelei (赞：7)

### [题目传送门](https://www.luogu.com.cn/problem/P5735)

**首先**，要求三角形的周长，首先就要**分别**求出三边的长度，最后相加即可得三角形的周长。

**然后**，就要先解决一条边，找到公式，然后以此类推得出三条边分别的长度。  
这里，依据题意，题目中给出了一条线段的两个点，求距离，且告诉了我们距离公式。下面给出证明：

![](https://cdn.luogu.com.cn/upload/image_hosting/6bqsjupl.png)

如图，过点 $B$ 作垂直于 $x$ 轴的垂线，过点 $A$ 作 $y$ 轴的垂线，两线交于点 $C$，根据平行线的性质，易得 $AC ⊥ BC$，所以 $△ABC$ 为 $Rt△$。

再介绍一个公式：

> 在 $Rt△$ 中，两条直角边长度平方的和等于斜边长度的平方。

在文末有相关证明。

回到题中，根据勾股定理，可得：
$$
AB^2=AC^2+BC^2
$$

把 $AC=x_2-x_1$，$BC=y_2-y_1$ 代入上式，得：
$$
AB^2=(x_2-x_1)^2+(y_2-y_1)^2
$$

两边同时开方，得：
$$
AB=\sqrt{(x_2-x_1)^2+(y_2-y_1)^2}
$$

得证。

**接着**，我们分别把 $(x_1,y_1)$，$(x_2,y_2)$；$(x_2,y_2)$，$(x_3,y_3)$；$(x_3,y_3)$，$(x_1,y_1)$ 这三组线段分别使用上述公式计算出三边长度。

这里，两点距离的公式使用了三次，就可以把这个公式做成一个函数。

~~~cpp
double dis(double x1, double y1, double x2, double y2) {
	double a, b, c;
	a = x1 - x2;
	b = y1 - y2;
	c = sqrt(a * a + b * b);
	return c;
}
~~~

**最后**，处理输入、计算、输出等小事，整个程序就结束了。

代码：

~~~cpp
#include<bits/stdc++.h>
using namespace std;
double dis(double x1, double y1, double x2, double y2) {
	double a, b, c;
	a = x1 - x2;
	b = y1 - y2;
	c = sqrt(a * a + b * b);
	return c;
}
int main() {
	double c = 0, x1, y1, x2, y2, x3, y3;
	cin >> x1 >> y1 >> x2 >> y2 >> x3 >> y3;
	c = dis(x1, y1, x2, y2) + dis(x2, y2, x3, y3) + dis(x3, y3, x1, y1);
	printf("%.2lf", c);
	return 0;
}
~~~

附：勾股定理证明

![](https://cdn.luogu.com.cn/upload/image_hosting/okgccly6.png)

如图，大正方形的面积为 $(a+b)^2$，小正方形的面积为 $c^2$，一个直角三角形的面积 $\frac{ab}{2}$。

我们把 $(a+b)^2$ 展开，得：
$$
(a+b)^2=a^2+2ab+b^2
$$

又因为大正方形面积减小正方形面积等于四个三角形面积，可得：
$$
a^2+2ab+b^2-c^2=\frac{ab}{2}×4=2ab
$$

两边同时减去 $2ab$，得：
$$
a^2+b^2-c^2=0
$$

最后，移项得：
$$
a^2+b^2=c^2
$$

证毕。

---

## 作者：cirrationaler (赞：1)

简单题。

由题目可知两点距离公式为：

$$
dis=\sqrt{(x_2-x_1)^2+(y_2-y_1)^2}
$$

所以，我们需要分别算出 $3$ 条线段的长度，最后将 $3$ 条线段的长度相加即可。

需要注意的是，由于部分答案可能是整数或一位小数，所以我们需要保留两位小数。

```cpp
// P5735 【深基7.例1】距离函数
// code by:cq_irritater
// time:2025/06/26
#include <bits/stdc++.h>

using namespace std;

double x1, y, x2, y2, x3, y3;
double ans1, ans2, ans3;

int main()
{
    // freopen("code.in", "r", stdin);
    cin >> x1 >> y >> x2 >> y2 >> x3 >> y3;
    ans1 = sqrt(pow((x1 - x2), 2) + pow((y - y2), 2));
    ans2 = sqrt(pow((x1 - x3), 2) + pow((y - y3), 2));
    ans3 = sqrt(pow((x3 - x2), 2) + pow((y3 - y2), 2));
    printf("%.2lf\n", ans1 + ans2 + ans3);
    return 0;
}

```

---

## 作者：tiantian0820 (赞：1)

## 题目解答

### 数学公式
对于平面上的两个点 $(x_1,y_1),(x_2,y_2)$，则这两个点之间的距离是：

$d=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}$

### 定义结构体

这里我们可以定义结构体，表示点的坐标。

### 构造函数
这里我们可以根据距离公式，写一个距离函数用来求两点间距离。

### 说明
题目说明，坐标均为实数，小数点后最多有 $3$ 位，输出一个两位小数，所以定义首先用 double 浮点数。

### 代码如下

```cpp
#include<iostream>
#include<cmath>
using namespace std;
//定义结构体
struct dot {
	double x;
	double y;
};

//构造函数
double d(dot a, dot b) {
	double x=a.x-b.x;
	double y=a.y-b.y;
	x*=x;
	y*=y;
	x+=y;
	return sqrt(x);
}

int main() {
	dot dot1,dot2,dot3;
	cin>>dot1.x>>dot1.y>>dot2.x>>dot2.y>>dot3.x>>dot3.y; 
	double i=d(dot1,dot2);
	i+=d(dot3,dot2);
	i+=d(dot1,dot3);
	printf("%.2lf ",i);
	return 0;
}
```

---


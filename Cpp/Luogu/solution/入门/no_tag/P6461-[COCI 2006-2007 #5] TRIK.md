# [COCI 2006/2007 #5] TRIK

## 题目描述

![](https://cdn.luogu.com.cn/upload/image_hosting/edzc5xa4.png)

有三个杯口朝下的杯子，其中有一个小球在最左边的杯子下。

接下来，对这三个杯子进行一系列的换位操作，操作用一个字符串来表示，其中 `A` `B` `C` 分别对应了上图所示的三种换位方式。

你需要找出最终小球在哪个杯子下面。

## 说明/提示

#### 说明

**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T1 TRIK***。

## 样例 #1

### 输入

```
AB```

### 输出

```
3```

## 样例 #2

### 输入

```
CBABCACCC```

### 输出

```
1```

# 题解

## 作者：Rubidium_Chloride (赞：45)

~~水题，水题解~~

## 0.前言

进[博客](https://www.luogu.com.cn/blog/Rolling-blog1424/)看效果更好呦！

让我们进入正题：

## 1.题目大意

初始有三个杯子，第一个杯子里有一个球，并且有一个只含$A,B,C$的字符串，其中$A$代表交换第$1$和第$2$个杯子;$B$代表交换第$2$和第$3$个杯子;$C$代表交换第$3$和第$1$个杯子。

## 2.算法分析

其实这题普通的模拟就可以做$\dots$

依次查看字符串里每个字符，并依照题意所描述的进行交换就好啦！

## 3.$Code$

~~勿喷马蜂~~

```cpp
#include<bits/stdc++.h>
using namespace std;
string s;bool ans[3]={1,0,0};//三个杯子 
int main(){
	cin>>s;
	for(int i=0;i<s.size();i++){
		if(s[i]=='A') swap(ans[0],ans[1]);
		if(s[i]=='B') swap(ans[1],ans[2]);
		if(s[i]=='C') swap(ans[2],ans[0]);
	}
	for(int i=0;i<3;i++)
		if(ans[i]==1) printf("%d",i+1);//数组下标会-1，现在加回来 
	return 0;
//}禁止抄袭！！

```
~~散花~~

## 4.后记

~~这题有点水，我也不求赞了~~

~~最后的最后，管理大大求过。~~

~~其实是一点重要的话都没说~~

---

## 作者：Utilokasteinn (赞：10)

定义一个数组，a[1]每次读入一个char x，如果是A就swap(a[1],a[2])，如果是B就swap(a[2],a[3])，如果是C就swap(a[1],a[3])。最后从1搜到3，如果值为1就输出。

代码如下：
```cpp
#include<bits/stdc++.h>
using namespace std;
int a[4]={0,1};//把a[1]的值赋值为1 
int main()
{
	for(char x;x!='\n';)//当x不是换行的时候运行 
	{
		x=getchar();//读入一个字符 
		if(x=='A')swap(a[1],a[2]); 
		if(x=='B')swap(a[2],a[3]);
		if(x=='C')swap(a[1],a[3]);
	}
	for(int i=1;i<=3;i++)
	    if(a[i])cout<<i;//如果啊a[i]==1就输出i
	 
	return 0;
}
```


---

## 作者：wuyonghuming (赞：5)

## 思路：
一开始球在最左边的杯子里，那个杯子置为$1$。其他置为$0$。

然后可以按照题目里面的$ABC$交换它们的值，模拟有球的杯子到哪了。
## 代码：
```cpp
#include <bits/stdc++.h>
using namespace std;
int main()
{
	string str;//是输入的字符串
	int a=1,b=0,c=0;//一开始球在左边
	cin>>str;//输入字符串
	for(int i=0;i<str.size();i++)//循环
	{
		if(str[i]=='A')
		{
			swap(a,b);//按照题目要求交换左边和中间的杯子。
		}
		else if(str[i]=='B')
		{
			swap(b,c);//按照题目要求交换中间和右边的杯子。
		}
		else if(str[i]=='C')
		{
			swap(a,c);//按照题目要求交换左边和右边的杯子。
		}
	}
	if(a==1)//如果有杯子的球在左边
	{
		cout<<1;//输出1
	}
	else if(b==1)//如果有杯子的球在中间
	{
		cout<<2;//输出2
	}
	else//如果有杯子的球在右边
	{
		cout<<3;//输出3
	}
   	return 0;//别忘了
}

```


---

## 作者：一只书虫仔 (赞：4)

[P6461 [COCI2006-2007#5] TRIK](https://www.luogu.com.cn/problem/P6461)

这道题就是一道简单的纯模拟。首先我们定义一个数组 $\text{s}$ 模拟这个过程，$\text{cups}$ 模拟三个杯子，$\text{cups}$ 的初始化为 $\text{cups}[1]=true$ ，其他都为 $false$ 。

然后枚举 $\text{s}$ ，对于每个 $\text{s}[i]$ ，分三种情况：

- `A` ：$\text{swap}(\text{cups}[1],\text{cups}[2]);$
- `B` ：$\text{swap}(\text{cups}[2],\text{cups}[3]);$
- `C` ：$\text{swap}(\text{cups}[1],\text{cups}[3]);$

最后再看 $\text{cups}$ 的第几个是 $true$ ，输出这个下标即可。所以这道题只需要三个函数，两个数组和一个枚举的过程即可，代码量 543 B，用时 18 ms，[AC 记录](https://www.luogu.com.cn/record/33044095)。

Code：

```cpp
#include <bits/stdc++.h>

using namespace std;

char s[10086];

bool cups[10086];

void A () {
	swap(cups[1], cups[2]);
}

void B () {
	swap(cups[2], cups[3]);
}

void C () {
	swap(cups[1], cups[3]);
}

int main () {
	cups[1] = true;
	scanf("%s", s);
	int str = strlen(s);
	for (int i = 0; i < str; i++)
		switch (s[i]) {
			case 'A': A(); break;
			case 'B': B(); break;
			case 'C': C(); break;
		}
	if (cups[1] == true) printf("1");
	else if (cups[2] == true) printf("2");
	else printf("3");
	return 0;
}
```

尽量别抄，自己思考最重要。

---

## 作者：hensier (赞：2)

题目中给出了$3$个杯子。初始是在第一个杯子中有球，所以不妨设置一个数组，将第一个下标设为真，其他的为假。然后可以调用系统[$swap$](http://www.cplusplus.com/reference/algorithm/swap/)函数或者手写一个。最后输出值为真的数组下标即可。

代码：

```cpp
#include<cstdio>
bool cup[]={0,1,0,0};//定义小球数组
char s[51];//定义字符数组
void swap(bool &x,bool &y)//swap函数，必须取引用
{
    bool t=x;
    x=y;
    y=t;
}
int main()
{
    while(char ch=getchar())//不停读入单个字符
    {
        if(ch=='\n')break;//遇到换行就停止
        switch(ch)//switch结构
        {
            case 'A':
            {
                swap(cup[1],cup[2]);//调用swap函数
                break;//必不可少！
            }
            case 'B':
            {
                swap(cup[2],cup[3]);
                break;
            }
            case 'C':swap(cup[1],cup[3]);
        }
    }
    for(int i=1;i<4;i++)if(cup[i])putchar(i+'0');//putchar更快一些，等同于输出i对应的字符
}
```

---

## 作者：Remake_ (赞：2)

水题一道。

按题意模拟即可，在这里给大家介绍一个swap（algorithm库）函数，$swap(a,b)$表示把$a$赋值为$b$，把$b$赋值为$a$。通过这个函数可以减小码量。

因为是按题意模拟，所以就不多讲了，如果还有不明白的地方可以看我代码：

```cpp
#include<bits/stdc++.h>
 using namespace std;
 long long a=1,b,c;//设定初始状态
 string s;
 int main(){
 	cin>>s;//输入给定字符串
 	for(int i=0;i<s.size();i++){
                //分类讨论
 		if(s[i]=='A') swap(a,b);
 		if(s[i]=='B') swap(b,c);
 		if(s[i]=='C') swap(a,c);
	 }
         //看最终在哪个杯子里
	 if(a==1) cout<<"1";
	 if(b==1) cout<<"2";
	 if(c==1) cout<<"3";
 }
```


---


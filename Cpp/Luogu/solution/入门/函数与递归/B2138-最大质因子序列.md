# 最大质因子序列

## 题目描述

任意输入两个正整数 $m,n$（$2\le m\le n\le5000$），依次输出 $m$ 到 $n$ 之间每个数的最大质因子（包括 $m$ 和 $n$；如果某个数本身是质数，则输出这个数自身）。

## 样例 #1

### 输入

```
5 10```

### 输出

```
5,3,7,2,3,5```

# 题解

## 作者：Kingna (赞：16)

大家好，又跟大家见面了！

### 题意
给定一个区间 $[m,n]$ 求区间内所有整数的最大质因子并依次输出

### 思路
大约 csp-pg 第一题的难度。

首先，这道题说了求最大质因子，那么想都不用想，先把判断质数的函数打出来。

```c++
int w(int i){//判断i是否为质数 
	if(i==2){
		return 1;//特判 
	}
	for(int j=2;j<=sqrt(i);j++){//这里是枚举到 sqrt(j) 的，因为一个数的因数最大是 sqrt(j)  
		if(i%j==0){
			return 0;//就不是质数了 
		}
	} 
	return 1;//否则为质数 
}
```

然后题目中说了是求最大的，所以倒着枚举（当然你正着也没什么，只是耗时太大，也不好想）。

下面是求最大质数的函数

```c++
void zhi(int i){//因为我们是在函数中直接输出的，所以是void 类型
	for(int j=i;j>=2;j--){//说了的是倒着枚举！这个时候必须从i往下走，因为万一i是质数呢？
		if(i%j==0&&w(j)==1){//找到了因子，并且这个因子是质数就输出
			cout<<j;
			break;
		}
	}
}

```

再加上那个很短的主函数
```c++
int main(){
	cin>>n>>m;//n,m含义看题 
	for(int i=n;i<=m;i++){
		zhi(i);//执行函数，求i的最大质因子
		if(i!=m){ //如果你没明白为什么这样做，那么请把这个if删去，也把cout<<endl删去，看看会发生什么 
			cout<<",";
		}
		else cout<<endl;//最后是不输出空格的 
	}
} 
```

---

## 作者：canwen (赞：12)

提供一种类似搜索（其实是分解）的思路。

## 题意

给定 $m$ 和 $n$，求 $n$ 到 $m$ 区间每个数的最大质因子并输出，用逗号隔开。

## 思路

我们可以考虑**因数分解，把一个整数分解成质数相乘的形式**，从最小的质数 $2$ 分解，该质数能整除这个整数就整除它。如果整除它之后就变成 $1$，就说明是最大的质因子。

至于如果某个数本身是质数，则输出这个数自身的要求，也不用考虑特判，因为**除到能被整除时**也是输出这个质数。
## 完整代码

```cpp
#include<cstdio>
int ans;
void f(int a,int k){
	//a表示当前这个数，k表示除数 
	if(a%k==0){//能被整除 
		if(a/k==1) {
			//如果整除后得1，则记录答案，不用继续分解 
			ans=k;
			return;
		}
		f(a/k,k);//整除 
	}else{
		f(a,k+1);//尝试下一个数 
	} 
}
int main(){
	int n,m;
	scanf("%d%d",&n,&m);//输入 
	while(n<=m){
		f(n,2);//调用函数 
		printf("%d",ans);//输出答案 
		if(n!=m) printf(",");//特判是否需要逗号 
		n++;
	}
	return 0;
}
```

QWQ 谢谢阅读

---

## 作者：墨忧 (赞：10)

## 题意
给定一个区间 $[m,n]$ 求区间内所有整数的最大质因子并依次输出
## 思路
用两个整形变量存储 $m$ , $n$ ,循环内依次从每个数自己找到 0 ,找到质因子后存入另外一个数组，最后统一输出即可
## 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int m,n,ans[5005],jsq;
//ans存储答案序列，jsq代表计数器 
bool pd(int x)
//判断是否是质数 
{
    if(x==1) return false;
    if(x==2) return true;
    int j=2;
    while(j*j<=x && x%j!=0) j++;
    if(x%j==0) return false;
    else return true;
}
void cz(int x)
//找这个数的最大质因子 
{
    for(int i=x;i>0;i--)
        if(pd(i) && x%i==0)
        {
            ans[jsq++]=i;
            return ;
        }
}
int main()
{
    cin>>m>>n;
    for(int i=m;i<=n;i++) cz(i);
    for(int i=0;i<jsq;i++)
    {
        cout<<ans[i];
        if(i!=jsq-1) cout<<",";
        //输出 
    }
    return 0;
} 
```


---

## 作者：zhang1234 (赞：6)

## 1.题意：

题面很简洁，就是求 $n$ 到 $m$ 直接每个数的**最大质因数**（要求是 $i$ 的因数且本身是质数的数）。
## 2.思路：

根据题意，首先要遍历 $n$ 到 $m$ 的数。然后再判断 $i$ 的最大质因数，因为是最大，所以**从 $i$ 本身向 $1$ 遍历**，只要可以被 $i$ 整除且被判断为质数就输出，最后跳出循环去判断下一个数的最大质因数。

要注意的是**输出格式**，逗号在最后一个数后和第一个数前不需要输出。

## 3.代码：

```cpp
#include <iostream>

using namespace std;

int a[5010];

bool  prime (int n)//判断是否为质数 
{
	for(int i = 2; i < n; i++)
	{
		if(n % i == 0)
		{
			return 0;
		}
	}
	return 1;
}

int main()
{
	int n,m;
	
	cin>>n>>m;
	
	for(int i = n; i <= m; i++)//遍历 n 到 m 
	{
		for(int j = i; j >= 1; j--)//遍历 i 到 1 
		{
			if( i % j == 0 && prime(j) )//判断质因数 
			{
				cout<<j;
				if(i != m)
				{
					cout<<",";//规范输出格式 
				}
				break;//如果是质因数，直接跳出
			}
		}
	} 
	return 0;
}
```


---

## 作者：可爱的小于 (赞：6)

题意要求我们从给定的数中选出最大的质数因子。

根据题意，我们只需要从这个数本身开始枚举，如果这个数本身就是质数，就直接输出。

我们可以用一个函数来判断质数，数据范围可以很方便地用 `sqrt` 。

`sqrt` 的用法如此格式：`sqrt(n)`，其中 `sqrt` 有根号的作用，能减少循环次数。

至于输出逗号，写个判断语句就行了。

代码如下：

```cpp
#include <bits/stdc++.h>
using namespace std;
int fun(int i)
{
	for(int j=i;;j--)
		{
			if(i%j==0)
			{
				bool flag=1;
				for(int k=2;k<=sqrt(j);k++)
					if(j%k==0)
					{
						flag=0;
						break;
					}
				if(flag)
				{
					return j;
				}
			}
		}	
}
int main()
{
	int n,m;
	cin >> n >> m;
	for(int i=n;i<=m;i++)
		if(i==m)
			cout << fun(i);
		else
			cout << fun(i) << ",";
	return 0;
}
```

---

## 作者：TensorFlow_js (赞：4)

# 题目分析
遍历从 $m$ 到 $n$ 的所有数，并一个个找出它们的最大质因子即可。

找出最大质因子的方法：
1. 如果这个数是质数，则它的最大质因子是它本身；
2. 否则从这个数减1往下遍历，遇见的第一个能整除这个数的质数就是它的最大质因子。

# 代码
```cpp
#include<bits/stdc++.h>//万能头
using namespace std;//使用std命名空间
bool is_prime(int n){//判断一个数是不是质数
    for(int i = 2;i <= sqrt(n);i ++){//从 2 开始循环，循环到 n 的算术平方根为止
        if(n%i==0)return false;//若 n 能被这中间的任何一个数整除，则 n 不是质数
    }
    return true;//否则是质数
}
int max_prime_factor(int n){//找出一个数的最大质因子
    if(is_prime(n))return n;//如果 n 是质数，则 n 的最大质因子是 n 本身
    int i = n-1;//否则从 (n-1) 往下循环
    while(i >= 2){
        if(n%i==0)if(is_prime(i))return i;//如果 n 能被 i 整除并且 i 是质数，则立刻返回 i，因为循环是从大向小循环的
        i--;//否则将 i 减1
    }
}
int main(){
    int m,n;//定义题目中的 m 与 n 
    cin>>m>>n;//输入
    for(int i = m;i < n;i ++){//从 m 开始输出最大质因子,到 (n-1) 结束
        cout<<max_prime_factor(i)<<",";//输出
    }
    cout<<max_prime_factor(n)<<endl;//最后输出 n 的最大质因子
    return 0;//返回0
}
```

### UPD:
2021\7\4\14:43 ： 重新排版。

---


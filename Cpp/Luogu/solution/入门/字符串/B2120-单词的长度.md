# 单词的长度

## 题目描述

输入一行单词序列，相邻单词之间由 $1$ 个或多个空格间隔，请对应地计算各个单词的长度。

注意：如果有标点符号（如连字符，逗号），标点符号算作与之相连的词的一部分。没有被空格间开的符号串，都算作单词。

## 样例 #1

### 输入

```
She was born in 1990-01-02  and  from Beijing city.```

### 输出

```
3,3,4,2,10,3,4,7,5```

# 题解

## 作者：宝硕 (赞：26)

本文提供以下几种语言的题解：C++, NodeJS 。

## 题面

参见 [B2120 单词的长度](https://www.luogu.com.cn/problem/B2120) 。

## C++ 题解

使用 C++ STL 中的 `string` 库即可，参见 [std::string - cppreference.com](https://zh.cppreference.com/w/cpp/string/basic_string)。

引入 `string` 库的方法：`#include <string>` ，此处需要注意的是应避免与 `<cstring>` 与 `<string.h>` 这两个文件名混淆。

声明 `string` 字符串的方法：`string s;` 。

每次使用 `cin >> s;` 读入后输出 `s.size();` 就是该单词的长度。

关于逗号：可以定义一个 `bool` 类型的 `flag` 变量记录是否为第一次输出，如果是第一次则不输出 `,` ，其他情况均输出 `,` 。

代码如下：

```cpp
#include <bits/stdc++.h>

using namespace std;

int main() {
    string s;
    bool flag = true;
    while (cin >> s) {
        if (flag) {
            flag = false;
            cout << s.size();
        } else {
            cout << ',' << s.size();
        }
    }
    return 0;
}
```

## NodeJS 题解

先使用 `fs.readFileSync(0)` 从标准输入读入数据。

读入后使用 `toString()` 方法将其转换为 `String` 类型，并使用 `replace()` 方法去除多余空格。

之后使用 `split()` 方法将其分割成一个数组。

统计循环遍历 `str` 数组，并将对应单词的 `length` 插入到 `ans` 数组末尾。

输出时使用 `join()` 方法在每个单词的长度之间插入一个英文逗号。

代码如下：

```javascript
const fs = require('fs')

let str = fs.readFileSync(0).toString().replace(/\s+/g, ' ').split(' ');
let ans = []

str.forEach(word => {
    ans.push(word.length);
});

process.stdout.write(ans.join(','));
```


提交记录：[R53204709](https://www.luogu.com.cn/record/53204709)

---

+ Update1 at 2021/07/13: 增加了说明。
+ Update2 at 2021/07/15: 增加了 NodeJS 语言版本题解。

---

[$\large\textbf{个人主页}$](https://baoshuo.ren) · [$\textbf{个人博客}$](https://blog.baoshuo.ren) · 
[$\textbf{做题记录}$](https://github.com/renbaoshuo/OI-codes)


---

## 作者：一只大龙猫 (赞：15)

[题目传送门](https://www.luogu.com.cn/problem/B2120)

对于这道题，我们可以这样来做：

1. 输出单词长度。

我们可以使用 C++ STL 中的`string`。使用`string`须引用头文件`string`（注意不是`cstring`），具体用法可以看[这里](https://blog.csdn.net/liitdar/article/details/80498634)。对于这道题，我们只需要知道`s.size()`会返回`s`的长度就可以了。（`s`是`string`类型的变量。）

2. 输出逗号。

经观察后，我们发现除第一个单词外，其他的单词前都要加上一个逗号。这时，我们就可以创建一个`bool`类型的变量`b`，并将其初始化为`false`。当`b`为`false`时，将`b`赋值为`true`；当`b`为`true`时，输出一个逗号。

综上，我们便不难写出代码了：

```cpp
#include<iostream>
#include<string>
using namespace std;
bool b=false;
string s;
int main(){
	while(cin>>s){
		if(b){
			cout<<",";
		}else{
			b=true;
		}
		cout<<s.size();
	}
	return 0;
}

```


---

## 作者：Sea_Level (赞：14)

首先说一下逗号如何处理：输出时我们可以先判断当前单词是否为第一个，是就只输出此单词字母数，否则先输出一个逗号，再输出此单词字母数。

其他还有一些需要注意的地方，代码中会解释，不周之处望大佬们多多包涵！

```cpp
#include<bits/stdc++.h>
using namespace std;
int l,f=0,cnt=0,flag=0;//l代表单词序列长度，f判断当前单词是否为第一个，cnt记录单词长度，flag判断多余空格
string s;//单词序列
int main(){
	getline(cin,s);//cin和scanf再遇到空格和回车时会自动停止输入，而getline不会
	l=s.size();//求出单词序列长度
	for(int i=0;i<l;i++){
		if(s[i]==' '){//如果是空格
			if(flag==1) continue;//判断是不是重复的空格，如果是则跳过，因为重复的空格会导致重复输出
			if(f==0){//判断是否为第一个单词
				cout<<cnt;
				f=1;//一定要改变f的值，不然就无法输出逗号
			}else{//不是第一个
				cout<<","<<cnt;//先输出逗号，再输出单词长度
			}
			flag=1;
			cnt=0;//计数器清0
		}else{//不是空格
			cnt++;//单词长度++
			flag=0;//没有多余空格了，所以清0
		}
	}
	cout<<","<<cnt<<endl;//最后一个单词需要特殊判断，因为它没有空格
	return 0;
}
```


---

## 作者：Leo2020 (赞：9)

```
#include<bits/stdc++.h>
using namespace std;
int main(){
	string n;//定义字符串
	int tem=0;//记录字符个数
	getline(cin,n);//输入整行
	for(int i=0;i<n.size();i++){//每一个字符开始循环
		if(n[i]==' '){//如果是空格，就输出
			cout << tem << ',';
			tem=0;//计数器清零
		}else tem++;//否侧加1
	}
	cout << tem << endl;//因为最后一个没有空格，所以要特殊对待
	return 0;
}
```


---

## 作者：Fengxiang008 (赞：2)


### 思路：
直接使用指针数组存储每个单词，顺序输出每个单词的长度。注意分情况调格式。
### 代码：
```cpp
#include<bits/sdtc++.h>
using namespace std;
int getString(char *str,char *strPtr[]);
int main()
{
    char str[500001]={'\0'};
    char *strPtr[125001]={0};
    int i, num;
    
    i = -1;
    do
    {
    	i++;
    	scanf("%c",&str[i]);
	}while(str[i]!='.');
	//num为单词的个数
    num=getString(str,strPtr);
    if(num>0)
    {
        //利用flag来判断源字符串中句号前是否有空格或输入只有句号
    	int flag=strlen(strPtr[num-1])-1;
    	//flag>0，句号前无空格，且单词与句号相邻
        if(flag>0)
        {
    	    for(i=0;i<num-1;i++)
            {
    	        printf("%d ",strlen(strPtr[i]));
	        }
	        printf("%d\n",flag);
	    }
	    //flag==0，句号前有空格或输入只有句号
	    if(flag==0)
	    {
	        //num>1，输入有单词
		    if(num>1)
		    {
			    for(i=0;i<num-2;i++)
                {
    	            printf("%d ",strlen(strPtr[i]));
	            }
	            printf("%d\n",strlen(strPtr[num-2]));
		    }
		    //num==1，只有空格和句号或只有句号，不输出
	    }
	}
    return 0;    
}

int getString(char *str,char *strPtr[])
{
	int j;
	if(*str!=' ')
	{
		strPtr[0] = &str[0];
	    j=1;
	}
	else
	{
		j=0;
	}
	
	for(int i=0;str[i]!='\0';i++)
	{
		if(str[i]==' ')
		{
		    //单词的前一个空格
			if(str[i+1]!='\0'&&str[i+1]!=' ')
			{
				strPtr[j++] = &str[i+1];
			    str[i]='\0';
			}
			//单词的后一个空格
			if(i>0&&str[i-1]!=' ')
			{
				str[i]='\0';
			}
		}
	}
	if(j==0)
	{
		strPtr[0]="\0";
	}
	return j;
}

```


---


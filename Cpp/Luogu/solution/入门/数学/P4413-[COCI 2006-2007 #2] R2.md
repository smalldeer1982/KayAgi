# [COCI 2006/2007 #2] R2

## 题目描述

如果数 S 等于 $(R1 + R2) / 2$，那么 S 就被称为两个数 R1 和 R2 的平均数。Mirko 送给 Slavko 的生日礼物是两个整数 R1 和 R2。Slavko 迅速计算了它们的平均数，这个平均数恰好也是一个整数，但随后他丢失了 R2！请帮助 Slavko 恢复 R2。

## 说明/提示

题面翻译由 ChatGPT-4o 提供。

## 样例 #1

### 输入

```
11 15```

### 输出

```
19```

## 样例 #2

### 输入

```
4 3```

### 输出

```
2```

# 题解

## 作者：Smallbasic (赞：21)

## 很明显的矩阵快速幂吧
可以把s、r1、r2看成一个序列a，则递推式就是:

$a_i=$
$\left\{\begin{matrix}i=1,s\\i=2,r1\\2*a_{i-2}-a_{i-1}\end{matrix} \right\}$

可以直接按照递推式递推，但是不够快！怎么办呢？


先举个简单的例子。fibonacci数列。
fibonacci数列是指这样一个数列。第一项和第二项是1。第i项是第i-1项与i-2项的和。可以写成:
### $f_i=f_{i-1}+f_{i-2}$
求第n项可以直接递推。但如果n<=1000000000的时候呢？这就要矩阵快速幂出场了。我们可以把上式简化成这样一个矩阵


$\left\{\begin{matrix}f_i&0\\f_i-1&0\end{matrix}\right\}$

可以发现：

$\left\{\begin{matrix}f_i&0\\f_{i-1}&0\end{matrix}\right\}=$
$\left\{\begin{matrix}f_{i-2}&0\\f_{i-1}&0\end{matrix}\right\}*$
$\left\{\begin{matrix}1&1\\1&0\end{matrix}\right\}$

也就是：

$\left\{\begin{matrix}f_{i}&0\\f_{i-1}&0\end{matrix}\right\}=$
$\left\{\begin{matrix}f_{2}&0\\f_{1}&0\end{matrix}\right\}*$
$\left\{\begin{matrix}1&1\\1&0\end{matrix}\right\}^{i-1}$

然后就是打矩阵快速幂了。

如果不会矩阵乘法没关系。矩阵a和b相乘，设n为a的宽度,答案c的第i行j列就是
## $c_{i,j}=\Sigma_{k=0}^{n}a_{i,k}b_{k,j}$
然后就是愉快的打快速幂啦，原理和整数快速幂相同。

so，回到原题。对于原题的序列，也可以看作是这样一个矩阵：

$\left\{\begin{matrix}a_{i}&0\\a_{i-1}&0\end{matrix}\right\}$

也可以发现:


$\left\{\begin{matrix}a_{i}&0\\a_{i-1}&0\end{matrix}\right\}$=
$\left\{\begin{matrix}2&-1\\0&1\end{matrix}\right\}$*
$\left\{\begin{matrix}a_{i-1}&0\\a_{i-2}&0\end{matrix} \right\}$

简化得

$\left\{\begin{matrix}a_{i}&0\\a_{i-1}&0\end{matrix}\right\}$=
$\left\{\begin{matrix}2&-1\\0&1\end{matrix}\right\}^{i-2}*$
$\left\{\begin{matrix}a_{2}&0\\a_{1}&0\end{matrix}\right\}$

然后愉快的套快速幂就ok啦。
代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
struct Matrix{int a[2][2];};
Matrix operator * (Matrix a,Matrix b){
	Matrix ans;
	memset(ans.a,0,sizeof(ans.a));
	for(int i=0;i<2;i++)
		for(int j=0;j<2;j++)
			for(int k=0;k<2;k++)
				ans.a[i][j]+=a.a[i][k]*b.a[k][j];
	return ans;
}
Matrix power(Matrix a,int p){
	Matrix y=a,k=a;int t=p-1;
	while(t){
		if(t&1) y=y*y;
		k=k*y;
		p>>=1;
	}
	return y;
} 
Matrix a,b,c;
int main(){
	memset(a.a,0,sizeof(a.a));
	memset(b.a,0,sizeof(b.a));
	memset(c.a,0,sizeof(c.a));
	cin>>a.a[1][0]>>a.a[0][0];
	b.a[0][0]=2;
	b.a[0][1]=-1;
	b.a[1][1]=1;
	b=power(b,3-2);
	Matrix k=b*a;
	cout<<k.a[0][0];
	return 0;
}
```

---

## 作者：f070331 (赞：15)

这道题其实可以列个方程，然后化简一下得到最简单的式子，最后代码化一下就好啦！
     （^-^）
	我的化简过程：
        s=(r1+r2)/2
        s=r1/2+r2/2
		r2/2=s-r1/2
     所以s-r1/2算出来的结果再*2就可以啦！ 
     由衷感谢您对我的支持！
                              
                       
 	#include <bits/stdc++.h>
	//上面是万能头文件，它包含了近乎c++的所有头文件

	using namespace std;

	int main(){	
		float s(0),r1,r2;
		cin>>r1>>s;
		r2=s-r1/2;
		r2*=2;
		int r=r2;
		cout<<r;
		return 0;
	}


                 
                 
                 
             
 作者：绫亭居士
            2018年07月06日
            于上海市爱绫亭内
                   

---

## 作者：Туполев (赞：10)

看着题目dalao都是用数学分析的方法直接解出答案的，~~觉得用枚举的我好蒟蒻~~

这里可以提供一个新的方案，也是比较符合题意的一个方法
~~（其实题目很水的）~~

### 思路：
1. 看清题目所用的公式，判断好范围
1. ~~学会循环和判断~~
1. 进行有顺序的~~暴力~~枚举
1. 然后。。。没了。。。

### 注意事项：
1. 输入顺序：先R1再S
1. 范围：尽量开大点

## 标程
```cpp
//S=(R1+R2)/2;
#include<iostream>
using namespace std;
int main(){
	int R1,R2,S;
	cin>>R1>>S;
	for(R2=-2020;R2<=2020;++R2){
		if((R2+R1)/2==S){
			cout<<R2;
			break;
		}
	}
	return 0;
}
```

---

## 作者：Reio_Stark (赞：10)

# 第一次写题解，不喜勿喷
## 水题一道
### 关系是很明显的
## R2=2S-1
## so
## 代码实现
```cpp
#include<iostream>
using namespace std;
int main()
{
	int r1,r2,s;
	cin>>r1>>s;
	r2=2*s-r1;//最有用的一行
	cout<<r2;
	
	return 0;
} 
```
### 结束


---

## 作者：空城旧梦— (赞：6)

## 作为p党，当然要给同胞带点福利啦！

## 注意！此题巨水！！

首先，S=(R1+R2)/2，而且 (-1000<=R1,S<=1000)，所以可以直接通过简单计算得出：R2=S*2-R1

简单说明下计算过程

∵s=(R1+R2)/2  ∴s*2=R1+R2

∴R2=s*2-R1

这样，此题就过了


------------

```pascal
var  r1,r2,s,ans:longint;//定个longint防止某种（恶心的）数据会炸

begin
  readln(r1,s);//直接读入，不必多说
  ans:=s*2-r1;//计算答案
  writeln(ans);//输出，开心AC
end.  
```


------------

最后预祝pascal的同学们一次AC

---

## 作者：Purslane (赞：4)

##### 一道水题，~~半分钟AC~~

下面是我的代码，请各位大佬多多指教

```
#include<bits/stdc++.h> 
//万能头文件
using namespace std;
int s,r1;  //根据题目要求
int main()
{
    cin>>r1>>s; //输入
    cout<<s*2-r1; //自己推出的公式
}
```

------

$\rm UPD \ on \ 2024.4.5$ 这是我在洛谷上的第一篇博客，意义重大，所以并不更改上述内容。但是为了让博客好看，重新写一次。

根据小学数学，容易整理为 $R_1+R_2 = 2S$，即 $R_2 = 2S - R_1$，带入公式计算即可。

---

## 作者：wzc001 (赞：4)

 一道水题
 
 此题有两种解法
 
第一种：
根据r2=2×s−r1来解

代码如下：
```
#include <iostream>
using namespace std;
int main()
{
    int r1,s;
    cin>>r1>>s;
    cout<<2*s-r1<<endl;
    return 0;
}
```
第二种：用for循环找

代码如下：
```
#include <iostream>
using namespace std;
int main()
{
    int r1,s;
    cin>>r1>>s;
    for(int i=-1000;i<=s*2;i++)
    {
        if((r1+i)==s*2)cout<<i;
    }
    return 0;
}
```

---

## 作者：Jasmine_S (赞：2)

 ### **P4413 [COCI2006-2007#2] R2**
用已知量将未知量表示出来
------------
正常思路一步步向下列就好，不需要循环判断

上代码，~~喵喵喵~~————



------------

#include<iostream>
  
using namespace std;

int main()

{

    int S,R1;//定义已知量
    cin>>R1>>S;//输入
    int R2=2*S-R1;//已知量归到一边，未知的R2归到一边
    cout<<R2<<endl;//输出
    return 0;
}


------------
祝大家AC愉快 \(^o^)/~　　
＃〓 § 〓

　　 ↓　
  
　☆★☆　
 
☆ Rp++ ☆　

　☆★☆
 
　　↓
  
　　※　

---

## 作者：快乐的坤 (赞：2)

    //P党的超级大福利，多种方法任你抄，当然了，和别人重复的方法我是不会说的。
    //方法一：
    var r1,s,i:int64;//定量还是大些好。
    begin
      readln(r1,s);//输入别搞错了顺序。
      for i:=-1000 to s*2 do//重点来了，如果用循环找的话，那就不要忘了看数据,1000<，这真是个大坑，就因为这个我悲剧了好多次。
        if r1+i=s*2 then//如果是的话，就不要过了。
          begin
            writeln(i);//输出了。
            exit;//记得退出，别浪费内存。
          end;
    end.
    //方法二：
    var r1,s,i:int64;
    begin
      readln(r1,s);
      i:=-1000;//什么？一上来就给它赋值！这是干什么？慢慢往下看就知道了，这方法绝对是个对的。
      while 1=1 do//纳尼！死循环！很令你震惊吧，但死循环也是可以对的。
        begin
          if r1+i=s*2 then//判断了，数值的坑不要掉进去啊。
            begin
              writeln(i);//和方法一一样的部分我就不说了
              exit;//退出了不就不怕死循环了吗，怎么样，信我了吧。
            end;
          i:=i+1;//记得累加，不然也许就真死循环了。
        end;
    end.
    //方法三：
    var r1,r2,s:int64;
    begin
      readln(r1,s);//最简朴的一种解法了，输入计算加输出。
      r2:=s*2-r1;//太简单，懒得说了。
      writeln(r2);
    end.
    //三种方法够了吧，今天就到此为止了。

---

## 作者：ricky_lin (赞：2)

# 这是一道水题：
## 因为S=(R1+R2)/2,所以R2=S*2-R1
## 现在就直接献上题解吧:
```cpp
#include<iostream>//cin,cout必备 
using namespace std;
int main()
{
	int s,r1;//这道题用int即可
	cin>>r1>>s;//输入,也可以用scanf("%d%d",&r1,&r2); 
	cout<<s*2-r1;//运用上面的公式,也可以用printf("%d",s*2-r1);
	return 0;//我爱return,return爱我!!!
}
//这道题超水！！！
```

---

## 作者：张皓涵 (赞：1)

我来发个pascal代码

	var
	a,b:longint
    read(a,b);
    write(b*2-a);
    end.
简单易懂，有坑勿抄！
跪求通过！

---

## 作者：Scarlet_Lightning (赞：1)

~~水题水题水题~~  

~~这题不会的人应该去读幼儿园了~~

这里给大家来个解方程的方法（~~感觉我在大炮打蚊子~~）

既然$S=(R1+R2)/2$  
解: $2S=R1+R2$  
    $2S-R1=R2$

所以明白了吧：$R2=2S-R1$

所以废话不多说，上AC代码：
```cpp
#include<iostream>   //这个就不用解释了吧=_=
using namespace std;   //不写这个东东，电脑会不认cin,cout
int main()
{
	int R1,S;
	cin>>R1>>S;
	cout<<S*2-R1<<endl;   //输出答案即可
	return 0;//就这么结束了？
}```

---

## 作者：qwq2003 (赞：1)

来看一下题目说明
![](https://cdn.luogu.com.cn/upload/pic/25507.png)

好吧我承认图片被改了......

PS:被那个~~万恶~~的水印遮住的两个数字是11和15。

上代码
```cpp
#include <bits/stdc++.h>
using namespace std;  
int main()
{
    int s,r1,r2=-100;    //r2的初始值必须为-100，不然输入11 5就会跳进死循环（永远不会输出值），这让我第一次WA(输出错误)的原因
    cin>>r1>>s;
    while(1)
    {
    	r2++;       //枚举-100到2147483647(int类型能存放的最大数字，也是目前发现的最大质数）)的所有可能性
		if((r2+r1)/2==s)   //如果找到了这道题的解
        {
        	break;   //跳出循环
        }
			
	}
    cout<<r2<<endl; //打印这个解
    return 0;   //结束程序
}
```

下面我来科普一下枚举和break语句。

枚举的意思是持续列出解直到找到可行的那一个。这只是暴力枚举法，还有一种枚举......百度上截张图自己体会：
![](https://cdn.luogu.com.cn/upload/pic/25524.png)
最后来讲一下break语句。

break是用来**跳出循环**的，
举个例子：

俗话说“浓缩的都是精华”，关于break的说明都在代码注释里了。不要问我关键字为什么没有彩色，肯定是Luogu又出Bug了：


```cpp

#include <bits/stdc++.h>
using namespace std;  
int main()
{
    int s=0;
    while(1)
    {
    	s++;
		if(s>10)   //如果s大于10就跳出循环
			break; //跳出循环
        cout<<Test"<<endl;   //当s大于10的时候不会打印“Test”，因为那时已经跳出循环,已经退出程序“return 0”了。
	}
    return 0;
}
```
还有一种叫continue的，再举个例子：
```cpp

#include <bits/stdc++.h>
using namespace std;  
int main()
{
    int s=0;
    while(1)
    {
    	s++;
		if(s==10)
			continue;
        cout<<Test"<<endl;   //当s等于10的时候不会打印“Test”，因为if里的条件满足，执行了continue，回到了被while下面的大括号包围的第一个语句。
	}
    return 0;
}
```
如果还是有点抽象，看图示吧：
![](https://cdn.luogu.com.cn/upload/pic/25530.png)

本期题解到此结束。

---

## 作者：夜雨声烦hst (赞：1)

不坑人，很水的一道题。用最简单的数学方法就可以做出来了
```
#include<iostream>
#include<cstdio>
using namespace std;
int main()
{
	double a,b,c;
	cin>>a>>b;
	c=b*2-a;
	cout<<c;
}
```

---

## 作者：亿年已过 (赞：1)

**蒟蒻的第五篇题解！**

chen_zhe大佬出的水题。。。

如果把这题当做**数学题**，例：

S=小明的钱=16元

R1=小红的钱=7元

R2=小文的钱=？元

已知小明的钱=(小红的钱+小文的钱)/2

所以小明的钱*2=小红的钱+小文的钱

那么小文的钱=小明的钱*2-小红的钱

算式=16*2-7=25（元）

这样，规律就出来了

那么

# R2=S*2-R1

AC代码：
```
#include<bits/stdc++.h>  //万能头文件  

int r1,s,ans;       //定义r1,s和ans   
int main()
{
scanf("%d%d",&r1,&s);	//输入r1和s
ans=(s*=2)-r1;			//按照上面的规律，计算答案
printf("%d",ans);	//输出


    return 0;           
}
```


---

## 作者：pidan (赞：1)

```cpp
#include<bits/stdc++.h>
using namespace std;
int r1,s;
int main(){
	cin>>r1>>s;
	cout<<s*2-r1;
	return 0;
}
```


---

## 作者：Aw顿顿 (赞：0)

## 入门题的历练
$\color{steelblue}\texttt{所有的神犇都是在无数入门题上形成的}$

然后我们讲一讲这道题：

首先：
$S=\dfrac{R_1+R_2}{2}$

我们可以将它转换为关与$R_2$的方程

即为：

$2S-R_1=R_2$

所以可以列出简单式：

```cpp
#include<bits/stdc++.h>
using namespace std;
int a,b; 
int main()
{
	cin>>a>>b;
	cout<<b*2-a<<endl;
	return 0;
}
```
这样就完了！

祝大家在洛谷刷题快乐！

---

## 作者：紫金依旧 (赞：0)

读题后我才发现，原来看着是一道难题的这道题是一道~~大水题~~。

由于**S=(r1+r2)/2**

那么**r1=(S*2)-r2**

由此可以得出代码：

```cpp
#include<bits/stdc++.h>//万能头万岁！！
using namespace std；
int main()
{
	double s,r1,r2；
	cin>>r1>>s；//代入公式
	r2=s*2-r1；
	cout<<r2<<endl；//输出答案
	return 0；
}

```

# 最后的最后——求过！！！

---

## 作者：yuyc (赞：0)

这是一道很适合小学生的题

就像是解方程一样

------------

$$S=(R1+R2)\div2$$
代入样例输入1得
$$(11+R2)\div2=15$$
移项后得
$$11+R2=30$$
$$R2=19$$


------------
我们来看看S经历了些什么：

先是乘2，再是减去了R1（11），最后S就等于R2了；
所以我们能得到：
$$R2=S\times2-R1$$
接下来就可以愉快的写代码了：
```cpp
#include <iostream>
using namespace std;
int main(){
	int S = 0;
	int R1 = 0,R2 = 0;
	cin>> R1 >> S;//这里要注意输入的先后顺序
	R2 = S * 2 - R1;//利用我们推导出来的公式 R2=S*2-R1
	cout<< R2;
	return 0;
}
```
代码很简单，理解至上。


---

## 作者：MC_blueberry (赞：0)

~~其实，这题超级无敌的简单~~。数学好或者不好肯定都会。

好吧，当我没说。

提供一个思路，既然他说S=（R1+R2）/2，并且，他告诉我们R1与S，倒推回去，S*2-R1=R2。emmmm，大家应该都看出来了吧，在草稿纸上试一下就知道了。额，下面奉上~~超短~~代码。

------------
```
#include<iostream>

using namespace std;

int a,b,s;

int main ()
{
	cin>>a>>s;
	cout<<(s*2-a);
	return 0;
}
```
是不是非常简单呢？相信各位都明白这段代码吧？在这里就不写注释了。

PS：管理大大，这是我第一次写题解，求过。各位大佬，如果有什么不好的地方，勿喷！谢谢！！有不懂的可以私聊我。


---

## 作者：洛谷亿亿岁 (赞：0)

```c
#include<iostream>
using namespace std;
int a,b,ans;
int print(int dd){
    cout<<dd;
}//第一个函数，用来输出
int find(int c,int d){
    ans=2*d-c;
}//第二个函数，找出答案
int main(){//简单的主程序
    cin>>a>>b;//输入
    find(a,b);//找答案
    print(ans);//输出
}
```
很简单哦

其实只要模拟就行

解方程走起：

S=(R1+R2)/2  //两边同乘2

2S=R1+R2  //移项

R2=2S-R1  //求解

所以说，，答案就出来咯。。。

再讲一个新东西，，，函数

函数定义：为了实现某些功能的的代码模块，目的是为了可以重复调用这些功能，函数本身可以带入不同的参数进行运算

格式：
返回类型 函数名（参数1,参数2,……){

    过程语句;
    
    return 值;（可要可不要）
}

递归，bfs，dfs都需要用到它；；；所以它很重要哦

好的，今天就到此结束，感谢阅读

---

## 作者：破壁人罗辑 (赞：0)

因为S=(R1+R2)/2

所以2*S=R1+R2

所以2*S-R1=R2

	#include<iostream> 
	#include<cstdio>
	#include<cmath>
	#include<math.h>
	#include<string>
	using namespace std;
	int main()
	{
		int R1,S;
		cin>>R1>>S;
		cout<<2*S-R1;
		return 0;
	}

---

## 作者：lian_sama (赞：0)

```cpp
#include<iostream>
using namespace std;
int main(){
	int s,r1;
	cin>>r1>>s;
	cout<<s*2-r1;
	return 0;
}

```
逆运算，简单.

推一个方程

s=(r1+r2)/2; 

2s=r1+r2;

r2=2s-r1;

---

## 作者：panyihang (赞：0)

发个python的
```
string =  input()
print (int(string.split(" ")[1])*2 - int(string.split(" ")[0]))
```
简单易懂，求过

---

## 作者：小郭本人 (赞：0)

丢出万能头文件
```cpp
#include<bits/stdc++.h>
using namespace std;
```
根据题目定义整型变量r1,s,r2：
```cpp
int r1,s,r2;
```
输入r1和s：
```cpp
cin>>r1>>s;
```
根据题目可得一个式子：2s=r1+r2,由此可得r2=2s-r1：
```cpp
r2=2*s-r1;
```
输出r2：
```cpp
cout<<r2;
```
别忘了return 0：
```cpp
return 0；
```
下面附上完整代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	int r1,s,r2;
	cin>>r1>>s;
	r2=2*s-r1;
	cout<<r2;
	return 0;
 } 
```
### 因本蒟蒻实力有限，~~只能在这里结束了~~，祝你们AC~

---

## 作者：autoint (赞：0)

## 这题不一定要用其他人的数论做法，我本人数学比较垃圾，只好暴力算
## 第一眼看上去好像可以二分
### 测了一下是对的
```cpp
#include<iostream>
using namespace std;
int main()
{
	int r1,s;
	cin>>r1>>s;
	int l=-3000,r=3000;
	while(l<r)
	{
		int mid=(l+r)/2;
		if(double(r1+mid)/2==s)
		{
			l=mid;
			break;
		}
		else if(double(r1+mid)/2<s)
			l=mid+1;
		else
			r=mid-1;
	}
	cout<<l<<endl;
}
```
### 时间0ms，说明我的做法并不太劣，于是拿出来和大家分享一下

---

## 作者：Kiel (赞：0)

~~小学5年级水题（逃~~

给定 r1 和 s 求 r2,

s=(r1+r2)/2

2s=r1+r2

r2=2*s-r1

所以只要输出2*s-r1就行了
------------

```cpp
#pragma GCC optimize(30000000)
#include <bits/stdc++.h>
using namespace std;
int r1,s;
int main(){
    cin>>r1>>s;
    cout<<2*s-r1<<endl;
    return 0;
}
```



---


# 白细胞计数

## 题目描述

医院采样了某临床病例治疗期间的白细胞数量样本 $n$ 份，用于分析某种新抗生素对该病例的治疗效果。为了降低分析误差，要先从这 $n$ 份样本中去除一个数值最大的样本和一个数值最小的样本，然后将剩余 $n-2$ 个有效样本的平均值作为分析指标。同时，为了观察该抗生素的疗效是否稳定，还要给出该平均值的误差，即所有有效样本（即不包括已扣除的两个样本）与该平均值之差的绝对值的最大值。

现在请你编写程序，根据提供的 $n$ 个样本值，计算出该病例的平均白细胞数量和对应的误差。

## 样例 #1

### 输入

```
5
12.0
13.0
11.0
9.0
10.0```

### 输出

```
11.00 1.00```

# 题解

## 作者：Meng142857 (赞：41)

### 本蒟蒻的一篇题解
此题为模拟题，只需删去最大最小值，然后按题意模拟即可  
AC代码如下，请勿抄袭（~~话说谁抄这种题的题解~~）：
```cpp
#include<iostream>
#include<cstdio>
#include<cmath>
using namespace std;
double a[520],sum,minn=99999999,maxn=-1,maxi,mini,maxd=-1;
int main(){
	int n;
	cin>>n;
	for(int i=1;i<=n;i++){
		cin>>a[i];
		minn=min(minn,a[i]);
		if(a[i]==minn){mini=i;}//确定最大值 
		maxn=max(maxn,a[i]);
		if(a[i]==maxn){maxi=i;}//确定最小值 
		sum+=a[i];
	}
	sum-=minn+maxn;
	printf("%.2lf ",sum/(n-2));
	for(int i=1;i<=n;i++){
		if(i!=mini&&i!=maxi){//排除最大最小值 
			maxd=max(maxd,fabs(a[i]-sum/(n-2)));
		}
	}
	printf("%.2lf",maxd);
	return 0;
} 
```

---

## 作者：·糯· (赞：23)

## 题目分析
其实此题可以用排序排好后，用计数器把排除最大数与最小数的数加起来，即第二个数至倒数第二个数。而因为我们已经将数列排好了，所以绝对值最大差值必为第二个或倒数第二个，我们只需取最大值即可。注意保留两位小数。
## 代码实现
```cpp
#include<bits/stdc++.h>
using namespace std;
int n;
double a[310]; 
int main(){
	cin>>n;
	for(int i=1;i<=n;i++)
		cin>>a[i];
	sort(a+1,a+n+1);
	double jas=0;//计数器
	for(int i=2;i<n;i++)
		jas+=a[i];
	cout<<fixed<<setprecision(2)<<jas/(n-2)<<" "<<max(fabs(a[2]-jas/(n-2)),fabs(a[n-1]-jas/(n-2)));
	return 0;
}

```


---

## 作者：幽云蓝 (赞：19)

这道题就是典型的模拟题，仔细读题然后模拟即可，不在赘述做法。下面讲一些本题的坑点：

1. 在 C++ 中，请使用 `fabs` 函数而不是 `abs` 函数对浮点数取模；

2. 本题要求去掉**一个**最大值和**一个**最小值样本，而不是所有的最大值最小值样本，这个珂以通过排序实现，具体实现珂以参考蓝的代码。

下面放上代码/kel

```
#include <bits/stdc++.h>
#define Mashu cout << "UUZ has eaten it." << endl
#define ll long long
using namespace std;

double a[3010];

int main(){
	int n;
	cin >> n;
	for (int i = 1; i <= n; i++){
		cin >> a[i];
	}
	sort(a + 1, a + 1 + n);
	double sum = 0;
	for (int i = 2; i < n; i++){
		sum += a[i];
	}
	double ave = sum / (double)(n - 2);
	double mx = -1;
	for (int i = 2; i < n; i++){
		mx = max(mx, fabs(a[i] - ave));
	}
	printf("%.2f %.2f", ave, mx);
	return 0;
	Mashu;
}
```


---

## 作者：sylqwq (赞：15)

题目：[B2095](https://www.luogu.com.cn/problem/B2095)   


```cpp
#include<iostream>
#include<cstring>
#include<cstdio>
#include<cmath>
double a[3100];
using namespace std;
int main()
{
  	//freopen("D://in.txt","r",stdin);
  	int n;
  	scanf("%d",&n);
  	double max,min,su=0,p;//max最大值min最小值su记录带最大最小的总数p不带最大最小的总数
	int x,y;//记录最大值最小值的位置
	scanf("%lf",&a[1]);//a[1]不知为何
	max=min=a[1];
	x=y=1;
	su+=a[1];
	for(int i=2;i<=n;i++)
	{
	  	scanf("%lf",&a[i]);
	  	if(a[i]>max)//更新最大最小
	  	{
	  		max=a[i];
	 	 	x=i;
	  	}
	  	if(a[i]<min)
	  	{
	  		min=a[i];
	  		y=i;
	  	}
	  	su+=a[i];//记录总数，下一步用
	}
	p=(su-max-min)/(n-2);
	max=0;
	for(int i=1;i<=n;i++)
	{
	  	if(i!=x&&i!=y)//排除最大值和最小值
	  	{
	  		if(fabs(a[i]-p)>max)
	        	max=fabs(a[i]-p);//调用绝对值函数，求与最大值之差的绝对值的最大值
	  	}
	}
	printf("%.2lf %.2lf",p,max) ;
	return 0;
}

```


---

## 作者：rain_dew (赞：9)

本题解为 Python 题解，原题链接：[B2095 白细胞计数](https://www.luogu.com.cn/problem/B2095)

计算最大值 `max()`、最小值 `min()`后去除，计算总和 `sum()` 后求出平均值即可通过，注意保留两位小数，代码如下：

```python
n=int(input());
f=[];d=0;
for i in range(n):
    x=float(input());
    f.append(x);
sums=sum(f);maxt=max(f);mint=min(f);
ave=(sums-maxt-mint)/(n-2);
for i in range(n):
    if f[i]==maxt:
        f[i]=ave;break;
for i in range(n):
    if f[i]==mint:
        f[i]=ave;break;
for i in range(n):
    if abs(f[i]-ave)>d:
        d=abs(f[i]-ave);
print("%.2f %.2f" % (ave,d));
```

---


# [语言月赛202208] 俊俏地鼠的远亲

## 题目背景

地鼠十分想要找到自己远方的亲戚！

## 题目描述

非洲同胞永远是我们的好朋友。在东非草原上，一共有 $n\times m$ 只地鼠，他们生活的窝排列成 $n\times m$ 网格型。

其中，每只地鼠都有一个特征值 $b_{i,j}$，经调查，我们认为特征值相同的地鼠一定有某种血缘关系。例如，两只地鼠分别生活在第二行第三列、第五行第六列。若 $b_{2,3}=b_{5,6}$，那么我们认为这两只地鼠是亲戚。

现在，给出这个 $n\times m$ 只地鼠的位置，需要对**每只**地鼠求出离自己距离**最远**的亲戚的距离是多少。

注意，假设两只地鼠分别位于第 $i$ 行第 $j$ 列和第 $a$ 行第 $b$ 列，则它们之间的距离为 $(i-a)^2+(b-j)^2$ 。

## 说明/提示

对于 $30\%$ 的数据，$1\leq n,m \leq 3$ 。

对于另外 $10\%$ 的数据，有 $n=1$ 。

对于另外 $10\%$ 的数据，有 $m=1$ 。

对于另外 $10\%$ 的数据，有 $b_{i,j}=1$ 。

对于 $100\%$ 的数据，$1\leq n,m\leq 50$，$1\leq b_{i,j}\leq 10^{18}$ 。

## 样例 #1

### 输入

```
2 4
1 2 3 2
3 2 1 3```

### 输出

```
5 4 5 5
9 5 5 9```

# 题解

## 作者：览遍千秋 (赞：26)

## Source & Knowledge

2022年8月语言月赛，由洛谷网校入门计划/基础计划提供。

由皎月半撒花命题。

考察二维数组与多重循环。

---

## 文字题解

### 题意简述

给出一个 $n \times m$ 的矩阵，每个位置上有一个数字 $b_{i,j}$，若 $b_{x,y}=b_{i,j}$，则称 $(x,y)$ 是 $(i,j)$ 的亲戚，他们的距离为 $(x-i)^2 + (y-j)^2$。


对于每个位置，求亲戚的最远距离。

### 问题分析

我们可以枚举位置 $(i,j)$，再枚举位置 $(x,y)$，如果它们数字相等，则更新位置 $(i,j)$ 上的答案。

需要注意的是 `^` 符号在 C++ 语言中不代表乘方的意思，该符号在 C++ 中为异或运算。$x^2$ 需要用 `x * x` 来表达。

在本题中，$n$ 代表行，$m$ 代表列，需要看清，不能写错。

```cpp
for(int i = 1; i <= n; i++) {
    for(int j = 1; j <= m; j++) {
        for(int x = 1; x <= n; x++) {
            for(int y = 1; y <= m; y++) {
                if(b[i][j] == b[x][y]) {
                    ans[i][j] = max(ans[i][j], (i - x) * (i - x) + (j - y) * (j - y);
                }
            }
        }
    }
}
```

---

## 视频题解

![](bilibili:BV11a411P73z?page=6)

---


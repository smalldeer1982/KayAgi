# [GESP202403 三级] 完全平方数

## 题目描述

小杨同学有一个包含 $n$ 个非负整数的序列 $A$，他想要知道其中有多少对下标组合 $\langle i,j\rangle$（$1 \leq i < j \leq n$），使得 $A_i + A_j$ 是完全平方数。

如果 $x$ 是完全平方数，则存在非负整数 $y$ 使得 $y \times y = x$。

## 说明/提示

对全部的测试数据，保证 $1 \leq n \leq 1000$，$0 \leq A_i \leq 10^5$。

## 样例 #1

### 输入

```
5
1 4 3 3 5```

### 输出

```
3```

# 题解

## 作者：chen_zhe (赞：35)

欢迎报名[洛谷网校](https://class.luogu.com.cn/)，期待和大家一起进步！

本题考察数组、循环枚举法。

询问有多少对下标组合 $\langle i,j\rangle$，不难想到使用循环去枚举 $i,j$，将 $a_i$ 和 $a_j$ 相加，判断它们的和 `sum` 是否是完全平方数即可。

判断是否是完全平方数的方式，是将 `sum` 开根号的结果放入一个 int 类型变量 `sq` 中，随后我们判断 `sq * sq` 是否等于 `sum`。例如，$\sqrt{2} \approx 1.414$，转为 int 类型后是 $1$，而 $1\times 1=1\neq 2$，因此 $\sqrt{2}$ 不是一个整数，因此 $2$ 不是一个完全平方数。

参考代码：

```cpp
for (int i = 1; i <= n - 1; i++) {
    for (int j = i + 1; j <= n; j++) {
        int sum = a[i] + a[j];
        int sq = sqrt(sum);
        if (sq * sq == sum)
            ans++;
    }
}
```

---


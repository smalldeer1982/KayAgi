# [语言月赛 202506] 地铁跑酷

## 题目描述

有 $n$ 个车站，编号从 $1$ 到 $n$。列车从第 $1$ 站出发，到第 $n$ 站结束。每两个相邻的车站之间有一定的行车时间。这趟列车会在中间的一些车站短暂停留，停留时间也已知。

你正好在第 $s$ 车站的车门关上前一刻跳上车，要坐到第 $t$ 车站下车。请你计算：从列车离开第 $s$ 车站开始，到列车到达第 $t$ 车站为止，你一共在车上花费了多少分钟。

注意：上下车所在的两个车站不计入停车时间，只有**中间经过的**停车站需要计算停靠时间。

## 说明/提示

### 样例 1 解释

- 你从第 $1$ 站上车，到第 $4$ 站下车；
- 经过的行车时间：$3 + 7 + 2 = 12$ 分钟；
- 途中第 $2$ 站会停 $2$ 分钟（第 $1$ 和 $4$ 站不计算停车时间），所以总时间 $12 + 2 = 14$ 分钟。

### 数据范围

本题共 $10$ 个测试点。对于 $100\%$ 的数据，$2 \le n \le 10^5$，$0 \le k \le n$，$1 \le b_1 < b_2 < \cdots < b_k \le n$，$1 \le a_i, c_i \le 10^5$，$1 \leq s < t \leq n$。

| 测试点编号 | $n$ | 特殊性质 |
| :----------: | :----------: | :----------: |
| $1 \sim 3$ | $\leq 10$ | 无 |
| $4$ | $\leq 10^5$ | $k = 0$ |
| $5$ | $\leq 10^5$ | $k = n$ |
| $6, 7$ | $\leq 10^5$ | $s=1, t=n$ |
| $8 \sim 10$ | $\leq 10^5$ | 无 |

## 样例 #1

### 输入

```
4
3 7 2
3
1 2 4
1 2 1
1 4
```

### 输出

```
14
```

## 样例 #2

### 输入

```
10
9 6 3 2 4 6 8 5 2
0


2 6
```

### 输出

```
15
```

## 样例 #3

### 输入

```
10
65 58 91 77 59 86 90 22 60
7
1 3 4 5 6 9 10
15 72 130 91 44 71 89
4 8```

### 输出

```
447
```

# 题解

## 作者：Maxmilite (赞：0)

## Source & Knowledge

2025 年 6 月语言月赛，由洛谷网校入门计划/基础计划提供。

## 题目大意

给定 $n$ 个车站和它们之间的行车时间。一些车站会短暂停留，停靠时间和停靠车站已知。你需要计算从第 $s$ 站上车到第 $t$ 站下车，你一共在车上花费了多少时间。需要注意的是，上下车站点的停靠时间不计入总时间，只有**中间经过的**停靠站才计算停靠时间。

## 题目分析

首先，我们来拆解总时间：总时间 = 行车时间 + 停靠时间。

### 1. 计算行车时间

从第 $s$ 站上车，到第 $t$ 站下车，列车会经过 $s$ 到 $s+1$, $s+1$ 到 $s+2, \dots, t-1$ 到 $t$ 这一系列的路段。因此，行车时间就是这些路段的时间总和。我们可以通过一个循环，从 $i=s$ 到 $t-1$ 遍历，累加 $a_i$ 即可。

```cpp
long long total_travel_time = 0;
for (int i = s; i < t; ++i) {
   total_travel_time += a[i];
}
```

### 2. 计算停靠时间

题目中明确指出，只有**中间经过的**车站才计算停靠时间，即第 $s$ 站和第 $t$ 站的停靠时间不计入总时间。这意味着，对于每一个已知的停靠车站 $b_j$，我们都需要检查它是否在 $s \sim t$ 内。如果 $b_j > s$ 且 $b_j < t$，那么它就是一个中间经过的停靠站，其对应的停靠时间 $c_j$ 应该被加到总时间中。

```cpp
long long total_stop_time = 0;
for (int i = 1; i <= k; ++i) {
   if (b[i] > s && b[i] < t) {
      total_stop_time += c[i];
   }
}
```

将这两部分时间相加，即为最终的答案。

最后，$n, k$ 的最大值为 $10^5$。任何一个总时间都可能达到近似 $\approx 10^{10}$，因此需要注意使用 `long long` 类型来存储，以防止溢出。

---


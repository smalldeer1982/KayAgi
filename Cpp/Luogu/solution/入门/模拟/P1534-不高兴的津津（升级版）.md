# 不高兴的津津（升级版）

## 题目描述

津津上初中了。妈妈认为津津应该更加用功学习，所以津津除了上学之外，还要参加妈妈为她报名的各科复习班。另外每天妈妈还会送她去学习朗诵、舞蹈和钢琴。但是津津如果一天上课超过八个小时就会不高兴，而且上得越久就会越不高兴。

这次与 NOIp2004 普及组第一题不同的是：假设津津不会因为其它事不高兴，但是她的不高兴会（当然高兴也会）持续到第二天。请你帮忙检查一下津津以后 $n$ 天的日程安排，看看以后 $n$ 天她会不会不高兴（计算方法：用昨天不高兴程度加上今天上课总时间减去 $8$ 后得到的数作为今天不高兴程度）；输出以后 $n$ 天结束后不高兴程度和是多少。

## 说明/提示

### 数据范围及约定

对于全部数据，上学时间和上课时间各不超过 $8$，和不超过 $16$，$n \le 3000$。

## 样例 #1

### 输入

```
7
5 3
6 2
7 2
5 3
5 4
0 4
0 6```

### 输出

```
-2```

# 题解

## 作者：666yuchen (赞：144)

**这升级版竟比原来简单！！**

这题连数组都不需要

**-----华丽的分割线-----**

```cpp
#include <iostream>
#include <cstdio>//文件头
using namespace std;
long long n,a,b,he,jian;//定义
  //n是津津学习的天数，a是上学时间，b是课外补习的时间
  //he是不高兴值之和，jian是当天的不高兴值
int main()
{
  cin>>n;//输入天数
  for(int i=1;i<=n;i++)//循环
  {
    cin>>a>>b;//输入当天上学时间和课外补习的时间
    jian=jian+a+b-8;//记录当天的不高兴值
    he+=jian;//累加不高兴值
  }
  cout<<he;//输出不高兴值之和
  return 0;//程序拜拜
}
```
### 杜绝抄袭，人人做起！！！！！

---

## 作者：BDFZs1mple (赞：77)

# 津津！你是个坚强的孩子！我连续上4小时就崩溃了，你上8个小时还能坚持！犇！

（有个“高兴的津津”好像讲的就是这个的后续）

为什么我感觉升级版更简单捏？
不用数组，更不用算法，直接贴上代码！

~~反正你们也是看~~代码~~~~

```cpp
#include<iostream>
#include<bits/stdc++.h>
#include<cstdio>
using namespace std;
int main()
{
long long a,b,bu,la;
int n,i;
cin>>n;
for(i=1;i<=n;i++){ cin>>a>>b;
la+=a+b-8;
bu+=la;
} cout<<bu;
return 0;
} 
//拒绝抄袭，我们做起！
```




~~蒟蒻第一次发题解，一定很垃圾~~

---

## 作者：情到深处人孤独 (赞：53)

题解：

这题很简单啊，为嘛有那么多人错？搞不懂。

做这题时要注意这句话啊：（计算方法：用昨天不高兴程度加上今天上课总时间减去8后得到的数作为今天不高兴程度）。

样例解释：0+5+3-8=0（第一天不高兴程度），0+6+2-8=0（第二天不高兴程度），0+7+2-8=1（第三天不高兴程度），1+5+3-8=1（第四天不高兴程度），1+5+4-8=2（第五天不高兴程度），2+0+4-8=-2（第六天不高兴程度），-2+0+6-8=-4（第七天不高兴程度），用所有不高兴程度加起来就是不高兴程度和：-2。

标程如下：

    ```cpp

#include<iostream>
using namespace std;
int x,y,b,s,n=0;
int main()
{
    b=0;
    scanf("%d",&s);
    for (int i=1;i<=s;i++)
        {
         scanf("%d%d",&x,&y);
         b=b+x+y-8;    {第i天的不高兴程度}
         n=n+b;        {截止第i天的不高兴程度和}
        }
    printf("%d\n",n);
    return 0;
}
    
```

---

## 作者：CYJian (赞：19)

这道题就是直接模拟嘛，~~还有什么必要发题解呢~~

咳咳（敲 ~~键盘~~ 黑板）

装逼的说，

实际上这道题可以只用4个变量解决

——————————~~我是华丽的分割线~~———————————

因为第i次累加的不高兴值（设为x[i]）总是满足这样的式子：

x[i] = x[i - 1] + a[i] + b[i] - 8;

研究后可以发现：

a[i] 和 b[i] 都加了 (n - i + 1) 次

8 一共减了 (n * (n - 1) / 2) 次

而且由于a[i] 和 b[i] 的加的次数一样，就可以愉快的合起来加了！(虽然我自己都懒得合起来。。)

下面，上代码！

```cpp
#include <bits/stdc++.h>

using namespace std;

int n, a, sum;

int main() {
    scanf("%d", &n);
    for(int i = 1; i <= n << 1; i++)
        scanf("%d", &a), sum += a * (n - (i - 1 >> 1));
    printf("%d\n", sum - 8 * n * (n + 1) / 2);
    return 0;
}
```
愉快的结束辣！！！

提醒：不要直接抄代码！！！

---

## 作者：BUUUULE (赞：13)

```cpp
#include<iostream>
using namespace std;
int n,sx[3001],kw[3001],i,sg=0,j;//数组要够大保证不溢出，还有定义成全局变量，懒得初始化233
int main()
{
    cin>>n;、、上课n天
    for(i=1;i<=n;i++)//一个循环搞定一切问题
    {
        cin>>sx[i]>>kw[i];//输入这一天上学时间和课外补习班时间
        j=j+sx[i]+kw[i]-8;//保存每天的开心程度，而不是一天过了就没了（注意！！！不清零！！！）
        sg+=j;//第i天的不开心程度的和
    }
    cout<<sg;//输出第n天结束时的开行程度
    return 0;//理解问题，实现不难，切勿copy，切记！！！
}
```

---

## 作者：c137772617 (赞：5)

其实这一题只要把每天的时间加起来-8再加上之前的不高兴程度，每天累加起来就可以了。

```cpp
#include<iostream>
#include<cstdio>
using namespace std;
int n;
int i,j=0;
int sum=0;//注意j和sum初始值都要为0
int b[3002],c[3002];//数组定义大一些，以免空间不够
int main(){
    cin>>n;
    for(i=1;i<=n;i++)
    cin>>b[i]>>c[i];
    for(i=1;i<=n;i++){
        j=j+b[i]+c[i]-8;//要标记一下昨天累积的不高兴程度
        sum=sum+j;//把每一天的不高兴程度都加起来
```
}//其实可以把第二个for循环的内容放到第一个for循环里面
    cout<<sum;

    return 0;

}

---

## 作者：wonder (赞：4)

简单的模拟，把每天的累积起来即可。

```delphi
var n,i,x,y,s,m:longint;
begin
readln(n);
for i:=1 to n do
 begin
 readln(x,y);
 s:=s+x+y-8;
 m:=m+s;
 end;
writeln(m);
end.

```

---

## 作者：北北北北 (赞：3)

注意：不高兴程度不仅对上课时间大于八小时的起限制，同时也对上课时间小于等于八小时的起限制，即上课时间小于等于八小时的这天也要做这个题目里所说的那个公式，不做的话第3，4点会过不去的。

下面附实现代码:


------------
```c
#include <stdio.h>

int main(void)
{
    int i,n,a,b;
    int sum1 = 0,sum2 = 0;

    scanf("%d", &n);
    for(i = 0; i < n; i++)
    {
        scanf("%d %d", &a,&b);
        sum1 += a+b-8; //不要管这天上课时间是否大于八小时还是小于等于八小时的，直接做公式就可以
        sum2 += sum1;
    }
    printf("%d", sum2);

    return 0;
}

```


---

## 作者：PY_Fighter (赞：3)

咳，论水题，还是用python好！短小精悍，你值得拥有！（其实是我懒~）
```
ans=x=0
for i in range(int(input())):
    s=input().split()
    x+=int(s[0])+int(s[1])-8
    ans+=x
print(ans)

```

python代码永远要比别的语言短~（特别是P1804，代码0KB，洛谷最短）
[P1804]（https://www.luogu.org/problemnew/show/P1804/）

---

## 作者：飞翔 (赞：3)

共有N天，i从1到n循环，readln(a,b)，累加a+b-8，最后输出累加值。

```cpp
var
  i,a,b,x,s,n:longint;
begin
  readln(n);
  s:=0;
  for i:=1 to n do
  begin
    readln(a,b);
    x:=x+a+b-8;
    s:=s+x;
  end;
  write(s);
end.
```

---

## 作者：亿年已过 (赞：1)

### 蒟蒻的第六篇题解！
₍₍◡( ╹◡╹ )◡₎₎

~~这题也是一道水题~~

## 居然连数组都不用
根据题意，可以算出**今天不高兴程度=昨天不高兴程度+上学时间+补习时间-8**

-----------------------------------分割线-----------------------------------

AC代码
```
#include<bits/stdc++.h> //万能头文件   
using namespace std;
int zt,jt,sx,bx,n,a[10005],ans;	    定义（zt=昨天不高兴程度,jt=今天不高兴程度,sx=上学时间,bx=补习时间）
int main()
{
cin>>n;	//输入
for(int i=0;i<n;i++)
{
    cin>>sx>>bx;	//输入
    zt=jt;			//把（i-1）时计算出的jt赋值给zt
    jt=zt+sx+bx-8;	//计算今天不高兴程度
    ans+=jt;	//n天过后的不高兴程度和+=今天不高兴程度
}
cout<<ans;	输出


    return 0;           
}
```


---

## 作者：Arcturus1350 (赞：1)

不算太难。就是题目有歧义。

wa了好几次才发现。上一天要是小于8的话。结算是昨天一个负值在加上今天课时数。再减去8。233.。。。

而不是上一天小于8个小时。就清零了。。大家要注意（ps:题解第一遍完美的没过233.。。。）

直接上题解

```cpp
#include<iostream>//头文件。。有点多哈。
#include<stdio.h>
#include<string.h>
#include<algorithm>
#include<cmath>
using namespace std;
int a[3500],b[3500],c[3500];//c用于保存a+b
int n,last,ans;//last是上一天结算。ans是到此天为止的累计。
int main()
{
    scanf("%d",&n);
    for(int i=0;i<n;i++)
    {
        scanf("%d%d",&a[i],&b[i]);
        c[i]=a[i]+b[i];
    }//输入，不解释。
    for(int i=0;i<n;i++)
    {
                 last=last+c[i]-8;
/*结算，后面一个last保存的上一天剩下来的不开心程度（会有负值！！！）
前面的last是今天上完了课后剩下的不开心程度*/   
                 ans=ans+last;//统计截止到第i天的不开心程度的和。
    }
    printf("%d",ans);//输出
    return 0;//程序拜拜
 }
```

---

## 作者：AdzearDisjudge (赞：1)

此题关键在于，不是n天后的不高兴程度，而是程度和。

所以我们需要每次读入后把处理得到的不高兴程度（套给你的公式即可）累加起来，别忘了同时保留当前的不高兴程度，下次循环要用。

AC代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
int a,b,c,m,n,s;
int main()
{
    a=0;
    s=0;
    cin>>n;
    for(m=1;m<=n;++m)
    {
        cin>>b>>c;
        a=a+b+c-8;
        s+=a;
    }
    cout<<s;
    return 0;
}
```

//ps:%%%Shen Ben thx!!!


---

## 作者：zrhanx (赞：0)

大家好，我是zrhanx，这是第4篇，前两篇已过，第三篇还在审核，希望管理员和洛谷允许通过，谢谢。

好的，废话不多说，开始讲题。

这道题其实非常简单，算法就是大名鼎鼎的

# 纯模拟

可能有些人会认为，纯模拟不会超时吗？可是，你有看数据吗？

![](https://cdn.luogu.com.cn/upload/image_hosting/yilmlibg.png)

看清楚了，

## 3000，3000，3000！！！

哈哈，看到这个条件，我认为，所有人恐怕都笑出了声，完全可以肆无忌惮地纯模拟啊！太简单了吧！好，不说了，现程序！
```cpp
#include<iostream>
using namespace std;
int h,n,a,b,hh;
int main()
{
cin>>n;
for(int i=1; i<=n; i++)
{
	cin>>a>>b;
	h+=a+b-8;
	hh+=h;
}
cout<<hh;
	return 0;
}
```

解释开始：就是把当日不开心的值累加到hh里，h统计当日不开心值，最后再输出hh就好了。文件头不用太多，一句就好！

#### 杜绝抄袭，文明洛谷，人人有责。

这就是我的讲解，你们听懂了吗？

![](https://cdn.luogu.com.cn/upload/image_hosting/q51d0qc8.png)


---

## 作者：Snowlanuck (赞：0)

首先分析一下题目 要求的是每天开心数值的总和

一天的开心数值=今天上课时长-8+昨天开心数值

分析一波题目给出的例子

5 3 0 (5+3-8+0)

6 2 0 (6+2-8+0)

7 2 1 (7+2-8+0)

5 3 1 (5+3-8+1)

5 4 2 (5+4-8+1)

0 4 -2 (0+4-8+2)

0 6 -4 (0+6-8-2)

然后将每天开心数值相加

0+0+1+1+2-2-4=-2 这个就是最终答案了

解题也没什么技巧可言 下面放代码吧

```
using System;
public class test
{
    private static void Main()
    {
        //获取输入数据
        int Count = int.Parse(Console.ReadLine());
        
        int Previous = 0;//上一天的不开心
        int Res = 0;//最终结果
        for (int i = 0; i < Count; i++)
        {
            //获取输入数据
            string str = Console.ReadLine();

            int Sum = (str[0] - '0') + (str[2] - '0');//上课时常
            Res += (Previous = Sum - 8 + Previous);//今天的不开心+昨天的不开心
        }
        Console.WriteLine(Res);
    }
}
```


---

## 作者：fzh001 (赞：0)

一看到升级版三个字，我立刻~~有点怂~~

但发现跟[P1085](https://www.luogu.org/problem/P1085)差不多水

就是昨天不高兴程度加上今天上课总时间减去8

话不多说上~~正菜~~（代码）
```cpp
#include<bits/stdc++.h>//亲爱的万能头
using namespace std;
int a[10001],b[10001];
int main()
{
	int n,i,ans=0,sum=0;
	cin>>n;//输入天数
	for(i=1;i<=n;i++)cin>>a[i]>>b[i];//读入上学时间和课外补习班时间
	for(i=1;i<=n;i++)
	{
		sum=sum+a[i]+b[i]-8;//昨天不高兴程度加上今天上课总时间减去8
		ans+=sum;//累加起来
	}
	cout<<ans;//输出
	return 0;//有始有终
}
```

---

## 作者：天命 (赞：0)

第一种错误演示：
```cpp
#include<bits/stdc++.h>
#define MAXX (9999)
using namespace std;
int main(){
//	freopen(".in","r",stdin);
//  freopen(".out","w",stdout);
	int i,a[101],j,n,t,zt,h=0;
	cin>>n;
	for(i=0;i<n;i++){
		cin>>a[i];
		t=a[i];
		cin>>a[i];
		a[i]+=t;
		zt+=a[i]-8;
		h+=zt;
	}
	cout<<h;
	fclose(stdin);
	fclose(stdout);
	return 0;
}

```
两红一紫两绿。~~布吉岛为啥，我觉得是数组问题~~

正确演示：
```cpp
#include<bits/stdc++.h>
#define MAXX (9999)
using namespace std;
int main(){
//	freopen(".in","r",stdin);
//  freopen(".out","w",stdout);
	int i,a,j,n,t,zt,h=0;
	cin>>n;
	for(i=0;i<n;i++){
		cin>>a;
		t=a;
		cin>>a;
		a+=t;
		zt+=a-8;
		h+=zt;
	}
	cout<<h;
	fclose(stdin);
	fclose(stdout);
	return 0;
}

```
这道题的结果跟每天的上课总和时间有关系，所以根本不用输入a，b。虽然还是要开一个t，但是个人觉得做一道题时要剔除没有用的东西。zt=昨天，h就是不高兴值，h每次加的是昨天的+今天的。这道题还要比较简单的


---

## 作者：Sliverash (赞：0)

这一题很简单呀，还升级版，比原题还简单！！！        
只要输入两个数，相加，再减8就行了       
而且就算不会不开心，也是输出负数          
------------
```c
#include<iostream>
using namespace std;
int main ()
{
    long long a,b,s=0,n,i;//a和b是每天上课时间，s是两数之和，
    //n是天数
    cin>>n;
    for(i=1;i<=n;i++) 
      {
        cin>>a>>b;
        s=s+a+b-8; 
      }
    cout<<s;
    return 0;             
}
```
------------
然后一试，wa，wa，wa，wa，ac，
因为s的值一直在变，所以说得用一个cnt来记天数。
丢一个AC程序：

------------
```c
```c
#include<iostream>
using namespace std;
int main ()
{
    long long a,b,s=0,cnt=0,n,i;//a和b是每天上课时间，s是两数之和，
    //n是天数
    cin>>n;
    for(i=1;i<=n;i++) 
      {
        cin>>a>>b;
        s=s+a+b-8;//算出每天的不开心值
  		cnt+=s;//累和
      }
    cout<<cnt;//输出不开心值的和
    return 0;//完事
 }
```




---

## 作者：liusnoi (赞：0)

这题不难，~~或者说很简单？~~

关键在于对题意的理解，~~题意表述不是很明朗，~~

最初我的样例输出结果是-4，并认为绝对没错。~~真香~~

每一天有每一天的不高兴程度，n天有n天不高兴程度**的和**，对于样例前者是-4，后者是-2。见下表。


|第几天  |上学时间  | 补习时间 | 两者和 | 当天程度 | 累计程度 |
| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |
|  D1|  5|3  | 8 |  0|  0|
| D2 |  6|2  |  8|  0| 0 |
| D3 |  7|2  |  9|  1| 1 |
| D4 |  5|3  |  8|  1| 2 |
| D5 |  5|4  |  9|  2| 4 |
| D6 |  0|4  |  4|  -2|  2|
| D7 |  0|6  |  6| -4 | -2 |


------------

代码很简单

```cpp
//P1534 不高兴的津津（升级版）
#include<iostream>
using namespace std;
int main()
{
	int a, b, n;
	int total = 0, sum = 0;
	cin>>n;
	for(int i=0; i<n; i++)
	{
		cin>>a>>b;
		total += a+b-8;
		sum += total;
	}
	cout<<sum<<endl;
	return 0;
}
```




---

## 作者：HohleFeuerwerke (赞：0)

看到没有用结构体数组的趁机来捞一把

解释一下递推式

today=today+a[i].Course+a[i].ExtraCourse-8;

今天的不高兴=昨天的不高兴+两门课-8

ans+=today;

总不高兴=前面的总不高兴+今天的总不高兴

结构体数组看的更清楚一点

~~当然大佬们都会滚动~~

```cpp
#include<bits/stdc++.h>//万能头
#define MAXN 3005//数组大小，常量
using namespace std;
int n,ans=0,today=0;//ans表示结果，today表示今天的不高兴程度
struct day{//一天的结构体
    int Course,ExtraCourse;//学校里的课和补习班的可
}a[MAXN];//结构体数组
int main()
{
    ios::sync_with_stdio(false);
    cout.tie(0);//卡常
    cin>>n;//输入不解释是一种习惯
    for(int i=1;i<=n;i++)
    {
        cin>>a[i].Course>>a[i].ExtraCourse;//输入不解释是一种习惯
        today=today+a[i].Course+a[i].ExtraCourse-8;//式子解释过了
        ans+=today;//总的加上今天的
    }
    cout<<ans<<endl;//输出
    return 0;
}
```


---

## 作者：linus_li (赞：0)

这道题目不难啊，实际上这道题目的关键在于读懂题意：

不高兴会持续到第二天：也就是只会持续到第二天，所以第二天的不高兴程度为

昨天的不高兴程度 + 今天的不高兴程度 = 今天的总不高兴程度

然后可以轻易地得出，用一个循环和一个计数器就可以解决问题：

	#include<cstdio>
	int main()
	{
		int n;
		int school, tutorial;
		int sum = 0, ans = 0;
		scanf("%d", &n);
		for(int i = 1; i <= n; i++)
		{
			scanf("%d", &school);
			scanf("%d", &tutorial);
			sum = sum + school + tutorial - 8;
			ans = ans + sum;
		}
		printf("%d", ans);
	}
可是这道题也有另一种简单的类似数论的解法：

设每天的总不开心程度为a[i]，实际获得的不开心程度为b[i]（就是课外时间+上课时间-8）则我们可以发现

a[1] = b[1]

a[2] = a[1]+b[2] = b[1]+b[2]

a[3] = a[2]+b[3] = b[1]+b[2]+b[3]

·

·

·

·

·

a[n] = b[1]+b[2]+b[3]+b[4] ······ +b[n]

累加上述式子，可得：

a[1]+a[2]+a[3] ······ + a[n] = n*b[1]+(n-1)b[2]+(n-2)b[3] ······+2b[n-1]+b[n]

本题所求的是每天的不高兴程度和，所以可以直接利用循环输出这样算出来的累加和。虽然这道题利用这种方法并不省时间，还更加难理解，但是这不失为一种从一开始就锻炼数论思想的方法

---

## 作者：a___ (赞：0)

这升级版居然比原来还简单

```cpp
#include <iostream>
using namespace std;
int main()
{
    int i,xx/*时间1*/,xxx/*时间2*/,n/*次数*/,xi[2]={0}/*只需记录本次及上次就够了，省内存*/,sum=0/*和*/;
    cin>>n;//输入
    for (i=0;i<n;i++) {cin>>xx>>xxx;xi[1]=xx+xxx-8+xi[0];/*存储本次值*/sum+=xi[1];/*累和*/xi[0]=xi[1];/*本次变上次供下次用*/}
    cout<<sum<<endl;//输出
    return 0;
}
```

---

## 作者：xopao (赞：0)


```cpp
#include<cstdio>
int n,x,y,sum,ans;
int main(void)
{
    scanf("%d",&n); //输入
    for(int i=0;i<n;i++){
        scanf("%d%d",&x,&y);
        sum=(sum+x+y)-8;//控制sum的范围
        ans+=sum;
    }
    printf("%d",ans);
    return 0;
}
```

---

## 作者：ztz_cpp (赞：0)

```cpp
#include<iostream>
using namespace std;
int a[3001],b[3001],c[3001];                       //a为第一数 b为第二数 c为两数和；
int main(){
    int n,sum=0;
    cin>>n;
    for(int i=1;i<=n;i++)                        //输入
                 cin>>a[i]>>b[i];
    c[1]=0;
    for(int j=1;j<=n;j++)
        c[j]=a[j]+b[j]+c[j-1]-8;              //计算每天的结果
    for(int k=1;k<=n;k++)
        sum+=c[k];                                   //相加
    cout<<sum<<endl;                               //输出
    return 0;    
}
```

---

## 作者：plazum (赞：0)

注意要求的是所有不高兴程度[color=red]**之和**[/color]……

```cpp

#include<iostream>
using namespace std;
int n,bgx,ans,a,b,i;
int main()
{
    cin>>n;
    for(;i<n;i++){
        cin>>a>>b;
        ans+=bgx+=a+b-8;
    }
    cout<<ans;
    
    return 0;
}

```

---

## 作者：谁懂谁伤心 (赞：0)

好水的题，只要把每天的不高兴和之前的不高兴相加就行了。

```cpp
#include<iostream>    
using namespace std;     
int main()    
{    
int a,w=0,n1=0,m,n; cin >>a;  
for (int z=1;z<=a;z++)    
{cin >>m>>n; w+=m+n+n1-8; n1=m+n+n1-8; }  
cout <<w;  
return 0;    
}    
```

---


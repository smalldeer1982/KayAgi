# 成绩

## 题目背景

小奔的score

题解：https://blog.csdn.net/kkkksc03/article/details/84928268

说一句：本题已放开空间范围（不过真的貌似不用开数组就可以A呀

## 题目描述

小奔的期末考试结束了。

他的成绩不久之后就会发下来。

给出一个考试成绩表格，例如：

| 科目/分值种类 | 语文 | 数学|英语  |
| :----------: | :----------: | :----------: | :----------: |
|  满分| $100$ |$120$  |$150$  |
| 实际得分 |  $99$|$73$  |$100$  |

当然。学校的老师认为如果录入如此多的成绩不好算分，于是他想要你的综合成绩评定

综合成绩评定指：(每一科的满分之和\*3-每一科的实际得分之和\*2)÷每科所扣除分数的和。

小奔想请你给出他的综合成绩，你能做到吗？

## 说明/提示

对于$20$%的数据，数据为样例

对于$100$%的数据，$n<=1e7$

## 样例 #1

### 输入

```
3
10 10 10
5 5 5```

### 输出

```
4.000000```

# 题解

## 作者：aaac (赞：18)

这道题现在的空间范围为128MB，而原来只有5MB，所以今天我还是来写更难的一种。
由于不能开数组，所以必须要边输入，边处理。这里还有一个数学中的简化——原式=（每一科的满分之和*3-每一科的实际得分之和*2)÷每科所扣除分数的和=（a*3-b*2)÷c(并且a-b=c)=(a+2c)÷c=a÷c+2c÷c=a÷c+2(最后推出来的最简公式）这样，这道题就很简单了，另外注意，两个for循环中不能用cin输入，因为如果cin输入，会超时80%的点。
```
#include<bits/stdc++.h>
using namespace std;
int main() 
{
    int n;
    cin>>n;
    int a;
    double ans=0,res=0;
    for(int i=0;i<n;++i)
    {
    	scanf("%d",&a);
	ans+=(double)a;
	res+=(double)a;
    }
    for(int i=0;i<n;++i)
    {
	scanf("%d",&a);
	res-=(double)a;
    }
    cout<<fixed<<setprecision(6)<<(ans/res+2); 
    return 0;
}

---

## 作者：dragonarcher (赞：10)

[更好的阅读体验请点这里](https://www.dragon-archer.me/articles/73.html)
# 这道题其实根本不需要那么大空间
首先，我们设各科总分为$x$，各科得到的总分为$y$，各科被扣的总分为$z$

则显然$x = y + z$

所以
原式 $= (3x - 2y) / z$

$= (3x - 2y) / (x - y)$

$= [2(x - y) + x] / (x - y)$

$ = 2 + x / (x - y)$

因此，我们只需算出$x$和$x-y$的值就行了

```cpp
#include <cstdio>
#include <cctype>
using namespace std;

#define __inline __inline__ __attribute__((always_inline))
// 注意这里用到了GCC的一个特性：强制内联来加速快读

__inline void read(int& x)
{
    x = 0;
    register char ch;
    while(!isdigit(ch = getchar()));
    do
    {
        x = x * 10 + ch - '0';
    }while(isdigit(ch = getchar()));
}

int main()
{
    int n, x;
    double all = 0, els = 0; // all表示上面的x，els表示上面的x-y
    read(n);
    for(int i = 0; i < n; ++i)
    {
        read(x);
        all += x;
    }
    els = all;
    for(int i = 0; i < n; ++i)
    {
        read(x);
        els -= x;
    }
    printf("%.6f\n", all / els + 2); //保留6位小数
    return 0;
}
```


---

## 作者：zmt2016 (赞：10)

思路很简单，许多人已经讲得十分详细了。我只是想证明一件事——这题不用快读或scanf,用cin已经足够了。（虽然我承认他们更快）

#### 如果想用cin，有一点注意事项：    
#### 1、计数器用double，读入用int。

处理好这个，就可以轻松AC了。
```cpp
#include<iostream>
#include<cstdio>
using namespace std;
int a,n;
double ans,num;
int main()
{
	int i;
    cin>>n;
    for(i=1;i<=n;i++)
	{
        cin>>a;
        ans=ans+a;
    }
    for(i=1;i<=n;i++)
	{
        cin>>a;
        num=num+a;
    }
    cout<<fixed<<(ans*3-num*2)/(ans-num);
    return 0 ;
}
```

是吧，并没有用scanf和快读。

---

## 作者：Cinderella (赞：7)

本蒟蒻来发题解啦！

话不多说，进入正题：

这一题呢，~~其实非常水~~，我们只需要注意最后的输出：

# 保留六位小数

我们统计完总成绩以及小笨的总成绩，再运用公式就可以完美地AC啦！

公式为：![](https://cdn.luogu.com.cn/upload/image_hosting/6eqgomox.png?x-oss-process=image/resize,m_lfit,h_170,w_225)

## (每一科的满分之和乘3-每一科的实际得分之和乘2)÷每科所扣除分数的和。

献上代码：
```cpp
#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cstring>
#include<string>
#include<cmath>

using namespace std;
long long n;
double cs1,cs2;
long long m,y,mz,yz;
int main()
{
 scanf("%I64d",&n);
 for(int i=1;i<=n;i++)
 {
   cin>>m;
   mz+=m;
 }
 for(int i=1;i<=n;i++)
 { 
  cin>>y;
  yz+=y;
 }
 cs1=mz*3-yz*2;
 cs2=mz-yz;
 printf("%.6lf",cs1/cs2);
 return 0;
}

```

好啦，以上就是P5082的题解，如有不足，请各位dalao在右边→评论区指出！

---

## 作者：Lithium_Chestnut (赞：4)

这道题因数据范围的原因，不需要开数组的。

普通写法，用$cin$、$cout$会$TLE$的。

所以有两种解决方法：

1 . 在主函数内加上3句话：

```cpp
ios::sync_with_stdio(0);
cin.tie(0);
cout.tie(0);
```
这三句话会使变得很快。

2 . 把所有$cin$、$cout$改成$scanf$、$printf$。

最后记得保留6位小数。

## $Code:$

```cpp
#include<bits/stdc++.h>
using namespace std;
double n,a,b,c,ans;
int main()
{
    ios::sync_with_stdio(0);
    cin.tie(0);
    cout.tie(0);
    cin>>n;
    for(int i=1;i<=n;i++)
    {
    	cin>>c;
        a+=c;
    }
    for(int i=1;i<=n;i++)
    {
    	cin>>c;
        b+=c;
    }
    ans=(a*3-b*2)/(a-b);
    printf("%.6lf",ans);
    return 0;
}
```


---

## 作者：卐浪天卍 (赞：3)

#### 为什么没人发题解~~我先走一步~~
介绍下不用数组的解法~~其实挺水的~~

我就直接把代码丢在这了


------------

```
#include<bits/stdc++.h>
#define rt register int
using namespace std;
long long n,sum,ans,x;double z;
int main()
{
    scanf("%lld",&n);
    for(rt i=1;i<=n;++i) scanf("%lld",&x),ans+=x*3,sum+=x;
    for(rt i=1;i<=n;++i) scanf("%lld",&x),ans-=x<<1,sum-=x;
    z=(double)ans/sum;printf("%.6lf",z);
    return 0;
}
```

---

## 作者：Catalan1906 (赞：3)

原来的空间限制是5MB，其实是很足够的，现在调成128MB，变成了没有思维难度的大水题。

不过，我还是想说一下空间限制为5MB的解题思路。

题目要求的是`(每一科的满分之和*3-每一科的实际得分之和*2)÷每科所扣除分数的和`

我们可以在输入数据的第二行和第三行求出`每一科的满分之和`和`每一科的实际得分之和`这两个量

然后`每科所扣除分数的和`，是等于所有每科`满分-实际得分`之和。用交换律可得`每科所扣除分数的和=每一科的满分之和-每一科的实际得分之和`

于是我们就可以只求出`每一科的满分之和`和`每一科的实际得分之和`这两个量，来算出综合成绩啦~

```
#include <bits/stdc++.h>

using namespace std;

int main() {
    double b = 0.0, c = 0.0;
    int a, n;
    // 在代码实现的时候，不需要数组。我们只用每次读入一个数，然后用累加器累加就行啦~省一个巨大的数组呢~
    scanf("%d", &n);
    for(int i = 1; i <= n; i++) {
        scanf("%d", &a);
        b += 1.0 * a;
    }
    for(int i = 1; i <= n; i++) {
        scanf("%d", &a);
        c += 1.0 * a;
    }
    printf("%.6lf", (b * 3 - c * 2) / (b - c));
    return 0;
}
```

---

## 作者：仗剑_天涯 (赞：2)

首先,这道题开数组也能AC（虽然两个10,000,000有点危险）

时间是不会爆滴（20,000,000<100,000,000）

空间？

20,000,000/1024/1024≈19

但是一个int占4个字节,所以大概是80MB,80MB<125MB

所以可以开数组

于是就有了初步的代码

```cpp
#include<bits/stdc++.h>//我还是喜欢偷懒
using namespace std;
int a[10000010],b[10000010],n;
double s1,s2,s3;
int main()
{
    scanf("%d",&n);
    for(int i=1;i<=n;++i)
    {
        scanf("%d",&a[i]);
        s1+=a[i]*1.0;//乘以1.0,double转int
    }
    for(int i=1;i<=n;++i)
    {
        scanf("%d",&b[i]);
        s2+=b[i]*1.0;
        s3+=(a[i]-b[i])*1.0;
    }
    s1*=3.0;
    s2*=2.0;
    printf("%.6lf",(s1-s2)*1.0/s3);
    return 0;
}
```
好了，但是！

这道题以前空间限制是5MB,这会能侥幸过,你下一次就不一定能过了！

所以，我们要对空间进行压缩。

很明显，上面的代码没有必要用数组，只要在输入时统计一遍和就好了。

```cpp
#include<bits/stdc++.h>
int x,n;
double s1,s2,s3,s4,s;
int main()
{
    scanf("%d",&n);
    for(int i=1;i<=n;i++)
    {
        scanf("%d",&x);
        s1+=x*3.0;//三倍满分和
        s3+=x*1.0;//一倍满分和
    }
    for(int i=1;i<=n;i++)
    {
        scanf("%d",&x);
        s2+=x*2.0;//两倍得分和
        s4+=x*1.0;//一倍得分和
    }
    s=(s1-s2)*1.0/(s3-s4)*1.0;//套公式
    printf("%.6lf",s*1.0);
    return 0 ;
}
```


---

## 作者：陈LC (赞：1)

~~这道题真的不用开数组！~~

~~这道题真的水！~~

这题就是利用题中所给的公式：综合成绩评定指：(每一科的满分之和*3-每一科的实际得分之和*2)÷每科所扣除分数的和

话不多说，上代码：
```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
    long long int n,i,z,r,zh=0,rh=0,kh=0;//建议大家用longlong,保险一点 
    //z、r临时变量,zh每一科的满分之和,rh每一科的实际得分之和,kh每科所扣除分数的和 
    scanf("%lld",&n);//输入 
    for(i=0;i<n;i++){
        scanf("%lld",&z);//输入 
        zh+=z;//累加 
    }
    for(i=0;i<n;i++){
        scanf("%lld",&r);//输入 
        rh+=r;//累加 
    }
    kh=zh-rh;//每科所扣除分数的和=每一科的满分之和-每一科的实际得分之和
    zh*=3;//根据题意乘3 
    rh*=2;//根据题意乘2 
    printf("%.6f",(zh*1.0-rh*1.0)/kh*1.0);//根据题意输出,保留6位小数 
    return 0;
}
```

---

## 作者：SS003 (赞：1)

### 其实这道题很简单.

------------

```
题目中综合评定的计算方法:

(每一科的满分之和*3-每一科的实际得分之和*2)/每科所扣除分数的和

设每一科的满分之和为a,每一科的实际得分之和为b:
每科所扣除分数的和=设每一科的满分之和-每一科的实际得分之和=a-b

可得:
综合评定=(a*3-b*2)/(a-b)
       =(a*2-b*2)/(a-b)+a/(a-b)
       =2*(a-b)/(a-b)+a/(a-b)
       =2+a/(a-b)
```
结果就出来了

综合成绩=2+每一科的满分之和/(每一科的满分之和-每一科的实际得分之和)

------------

代码如下:
```cpp
#include<cstdio>
using namespace std;
  double sc,a,b,ai=0,bi=0;
  long long n,i;
int main(){
  scanf("%lld",&n);
  for(i=1;i<=n;i++){scanf("%lf",&a);ai=ai+a;}
  for(i=1;i<=n;i++){scanf("%lf",&b);bi=bi+b;}
  sc=2+ai/(ai-bi);printf("%0.6lf",sc);
return 0;
}
```

所以这道题其实很简单,求出公式就好了.

###### 希望这篇题解能帮助到你.

---

## 作者：zhaowangji (赞：1)

废话写在前面

说来惭愧，当初比赛时交了三遍，现在又交了三遍，结果竟然都是一样的，才~~100~~（20）分，部分是四个点超时，部分是三个点超时，一个点错误，部分是两个点超时，两个点错误


------------


------------

代码附上

主要是**读入的时间**和**数据类型的定义**出问题
```cpp
#include<iostream>

#include<iomanip>

#include<cstdio>

using namespace std;

int n;

double x,y,ans1,ans2,ansans;//注意一定要用double类型！！！
//为更方便的看清就稍微烦了一点
//x是每一科的满分，y是每一科的实际得分
//ans1是满分之和，ans2是实际得分之和
//ansans是真正输出的答案
//不好意思可能有点带来误解
int main()

{
    
    cin>>n;
    
    
    for(int i=1;i<=n;i++)
    
    {
       
       scanf("%lld",&x);
       //读入
       
       ans1+=x;
       //累加和	
    }
    
    for(int i=1;i<=n;i++)
    
    {
       
       scanf("%lld",&y);//同上
        
        ans2+=y;//同上
    
    }
    //之所以使用scanf，是在之前数次尝试无果的情况下
    //迫不得已而使用的，主要是因为其速度比cin要快得多
    //（但这是有原因的，其实在理论上cin反而要快的多
    //在实际上是因为编译器“过于保守”）
    //参考：[比较cin,cout与scanf,printf](http://blog.sina.com.cn/s/blog_93294724010163rl.html)
    //  
    ansans=(ans1*3-ans2*2)/(ans1-ans2);
    //套用题目中的公式，满分和实际得分之差即为扣掉的分
    cout<<fixed<<setprecision(6)<<ansans;
    //由题意得，控制小数点
    return 0;
    //尽量要写
}

```

---

## 作者：5ab_juruo (赞：1)

为什么没人用cout输出呢？

~~Pascal，Java，Python，C党：我们没有cout！！！~~

cout要调节精度要使用ios_base类的一个方法precision()。直接cout.precision()即可。在括号内写进去要调的精度。

然后......还是不能用。

假如你兴冲冲的去敲了，有可能会出现这种结果：
```cpp
cout.precision (6);
cout << final / double(lose_sum) << endl;
```
然后......

$Output$  $4$ $or$ $4.000000e+000$

为什么会这样呢？因为**必须**要使用定点计数法才可以出现4.000000的结果。使用定点计数法的函数如下：
```cpp
cout.setf(ios_base::fixed, ios_base::floatfield);
```
当然还可以这么写：
```cpp
cout << fixed;
```
然后就是基本套路啦~~

代码附上：
```cpp
#include <iostream>
using namespace std;

int main()
{
	long long total_sum = 0, get_sum = 0, lose_sum = 0, x, final;
	int subjects;
	cin >> subjects;
	
	for (int i = 0; i < subjects; i++)
	{
		cin >> x;
		total_sum += x;
	}
	
	for (int i = 0; i < subjects; i++)
	{
		cin >> x;
		get_sum += x;
	}
	
	final = total_sum * 3 - get_sum * 2;
	lose_sum = total_sum - get_sum;
	
	cout.precision (6);
	cout << fixed << final / double(lose_sum) << endl;
	return 0;
}
```
~~写完后被Pascal党狂追了十条街~~

---

## 作者：封禁用户 (赞：0)


每一科的满分之和,每一科的实际得分之和,每科所扣除分数的和设为a,b,c

题目变成了(a * 3 - b * 2) / c 

~~显然可以知道 3 + b /(a - b)~~

由题目可知 a - b = c 所以a = b + c 

所以变成了( 3 (c + b) / 2 * b ) / c

\=(3c+b) / c

\= 3+b/(a-b)
这样只需要算出a , b,就可得到我们的答案！

下面是代码
```cpp
#include<cstdio>
int main() 
{
    int n;
    scanf("%d",&n);
    int a_temp, b_temp;
    double a = 0,b=0;
    for(int i = 0;i < n; i++)
    {
        scanf("%d",&a_temp);
        a+=(double)a_temp;
    }
    for(int i = 0;i < n; i++)
    {
        scanf("%d",&b_temp);
        b+=(double)b_temp;
    }
    printf("%.6f",3 + b / (a - b) );
    return 0;
}
```


---

## 作者：Ryo_Yamada (赞：0)

这里是本人的一种新做法  

~~但好像对提速没啥用。。~~

这是一道模拟题，所以简单粗暴按照题目说的编就行了

~~所以为啥那么多人卡红题？~~

最后提醒，不要抄，小心棕名 + CE！  ~~我才不告诉你为啥CE~~

上代码：

```cpp
#include <iostream>
#include <cstdio>
typedef unsigned long long ll;懒人专属typedef
using namespace std;
ll sum,c;用来存储满分的和与被扣的分数和
int main(){
    int n;
    cin >> n;
    for(int i=0; i<n; i++){
        int x;
        scanf("%d",&x);注意一定要用scanf!不然会TLE！
        sum += x;存储满分和
        c += x;先存上满分和
    }
    for(int i=0; i<n; i++){
        int x;
        scanf("%d",&x);
        c -= x;再减去得分和，就是被扣分和
    }
    printf("%.6lf",1.0 * sum / c + 2.0);
    最后输出的个人思路：3倍的满分和-2倍的得分和就是
    满分和加2倍的被扣分和，再除以被扣分和就是满分和除
    以被扣分和加2(小学的分配律)
    return 0;
}
```
最后总结：模拟题就是按照题目说的编！

---

## 作者：炎19520 (赞：0)

##  **蒟蒻的第一篇题解（瑟瑟发抖）**
## ~~那么多内存是用来干嘛的！！！！~~
## ~~反正也用不到数组！！！~~
#### 现在先让我们来推导一下这一个公式
#### 设每一科的满分之和=a，每一科的实际得分之和=b，每科所扣除分数的和=c。
#### （每一科的满分之和*=3-每一科的实际得分之和*2)÷每科所扣除分数的和=(3a-2b)/c=(3a-2b)/(a-b)=2+a/(a-b)=2+a/c。
#### 关于输入输出，这里不可以用cin，cout，只能用scanf，不然会有80%的点超时。
#### 先输入n
```cpp
void readn(){
	cin>>n;
}
```
#### 再输入总分
```cpp
void readans(){
	for(i=1;i<=n;i++){
        scanf("%d",&a); 
        ans+=(double)a;
        res+=(double)a;
    }
}
```
#### 然后是得分
```cpp
void readres(){
	for(i=1;i<=n;i++){
        scanf("%d",&b); 
        res-=(double)b;
    }
}
```
#### 开始计算综合
```cpp
void count(){
    c=2+ans/res;
}
```
#### 再输出（注意6位）
```cpp
void write(){
	cout<<fixed<<setprecision(6)<<double(c);
}
```
#### 总代码
```cpp
#include <bits/stdc++.h>
long long int i,n,a,ans=0,b,res=0,c;
using namespace std;
void readn(){
	cin>>n;
}
void readans(){
	for(i=1;i<=n;i++){
        scanf("%d",&a); 
        ans+=(double)a;
        res+=(double)a;
    }
}
void readres(){
	for(i=1;i<=n;i++){
        scanf("%d",&b); 
        res-=(double)b;
    }
}
void count(){
    c=2+ans/res;
}
void write(){
	cout<<fixed<<setprecision(6)<<double(c);
}
int main(){
    readn();
    readans();
    readres();
    count();
    write();
    return 0;
}
/*切记有问题，不要抄。*/
```
#### 这一题题目很简单，没有多少方法


---

## 作者：yuyc (赞：0)

### 本小学生又来写题解啦
既然说已经放开了空间，那我就偏不用数组。

### 本人的思路是这样的：

####     1.先读题，题中提到的变量统统定义；
#### 2.弄好输入并根据公式再添加了几个变量并附值，这里用了两个for循环；
#### 3.简单粗暴地计算公式获得答案。
    
代码如下：
    

```cpp
#include <iostream>
#include <cstdio>
using namespace std;
int main(){
	int n=0;//rt（如题中）
	int a=0,b=0;//rt
	double manfen=0.0,xianshi=0.0,koufen=0.0;//简单粗暴，通俗易懂
	double ans=0;//答案
	scanf("%d",&n);//输入科目数
	for(int j=1;j<=n;j++){//用for循环来输入各科满分
		scanf("%d",&a);
		manfen+=a;//获得各科满分之和
    }
	for(int i=1;i<=n;i++){//同样输入实际分数
	    scanf("%d",&b);
	    xianshi+=b;//获得实际分数之和	    
	}
	koufen=manfen-xianshi;//满分-实际分=扣分
	ans=1.0*(manfen*3-xianshi*2)/koufen;//利用公式，但我可能是想多了，加了个1.0*
	printf("%.6lf",ans);//控制精度输出
	return 0;
}
```
整体的思路就是这样，本来还想贴一个数组的代码，但提交之后RE了。。。
什么？你问我为什么不用cin cout？因为我打开讨论版 发现有些人TIE了~~不过我用数组法也没AC~~



---

## 作者：佳铭 (赞：0)

这是本蒟蒻发的第一篇题解，大佬勿喷
# 这道题不难，下面是本蒟蒻的两种方法：
## 方法一：开数组（优化空间后）
思路很清晰：开三个数组：满分、成绩、扣分。
#### 上代码：
```cpp
#include<cstdio>
using namespace std;
struct node{
	int x,y,z;
};
node a[10000010];
int main()
{
	int n,ans,bns,cns;
	ans=bns=cns=0;
	scanf("%d",&n);
	for(int i=1;i<=n;++i)
	{
		scanf("%d",&a[i].x);
		ans+=a[i].x;
	}
	for(int i=1;i<=n;++i)
	{
		scanf("%d",&a[i].y);
		bns+=a[i].y;
		a[i].z=a[i].x-a[i].y;
		cns+=a[i].z;
	}
	printf("%.6lf",(ans*3-bns*2)/cns);
	return 0;
}
```
我自己随便输入了一组数据， 结果显示：
```
6
150 150 150 100 100 100
105 146 92  84 82 50
-1.#QNAN0
```
## What's wrong？
### 经过分析后，我找到了bug：
若“/”的左右变量均为整型，则自动舍去余数。  
解决的方法有两种：  
1.将所有与成绩相关的变量设为double型。  
2.将所有与成绩相关的变量乘以1.0.  
我提供了修正思路，代码请各位自己完善。
## 方法二：边读入边累加
准备三个用于读入的变量，再分别累加到ans,bns,cns中。  
代码如下：
```
#include<cstdio>
using namespace std;
struct node{
	double x,y,z;
};
node a[10000010];
int main()
{
	int n;
	double ans,bns,cns,x,y,z;
	ans=bns=cns=0;
	scanf("%d",&n);
	for(int i=1;i<=n;++i)
	{
		scanf("%lf",&x);
		ans+=x;//累加满分
	}
	for(int i=1;i<=n;++i)
	{
		scanf("%lf",&y);
		bns+=y;//累加成绩
	}
	cns=ans-bns;//计算扣分
	printf("%.6lf",(ans*3-bns*2)/cns);
	return 0;
}
```


---

## 作者：天黑了ha (赞：0)

这道题输入数据很大所以不能直接用cin
可以用cin的优化
## 加上ios::sync_with_stdio(false);cin.tie(0)可以大大加快cin的速度

##### 因为cin和cout要与stdio同步，用了ios::sync_with_stdio(false)可以取消同步，就可以加快速度。而默认情况下cin与cout绑定，cin.tie(0)可以取消绑定，进一步加快了cin的速度。可以和scanf相当。

### 但要注意，因为ios::sync_with_stdio(false)取消了同步，所以cin,cout不能与scanf,printf混用,若是想控制格式不能用printf,只能用cout。

这是scanf

![](http://m.qpic.cn/psb?/V11ulWlV4YWMzx/VOORcpfvz6d44zNEGMpcrff0tOH90TtcWtIGJTLnEgE!/b/dL8AAAAAAAAA&bo=EQJsAAAAAAADB10!&rf=viewer_4)

这是cin
![](http://m.qpic.cn/psb?/V11ulWlV4YWMzx/uXMx3dIt56lNj4AQ5M9CS6*paw4ocKKiakfQFwnZtqA!/b/dLkAAAAAAAAA&bo=EwJsAAAAAAADB18!&rf=viewer_4)
可以看到优化后的cin 和scanf差不多，有的甚至比scanf还快


下面是代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	ios::sync_with_stdio(false);
	cin.tie(0);
	double sum1=0,sum2=0;
	int temp=0,n;
	cin>>n;
	for(int i=1;i<=n;i++)
	{
		cin>>temp;
		sum1+=temp;
	}
	for(int i=1;i<=n;i++)
	{
		cin>>temp;
		sum2+=temp;
	}
	double ans=0;
	ans=(sum1*3-sum2*2)/(sum1-sum2);
	cout<<fixed<<setprecision(6)<<ans;
	return 0;
}
```


------------

## 还有一种比scanf更快的办法，用读入优化
getchar()的速度比scanf快。所以我们不用scanf,直接用getchar()

f用来记录符号，但这道题不用也可以 
```cpp
int read()
{
	int ans=0,f=1,c;
	c=getchar();
	while(c<'0'||c>'9')
	{
		if(c=='-')//不是0-9的可能还会是其他字符
		f=-1;//所以必须判断是不是负号
		c=getchar();
	}
	while(c>='0'&&c<='9')
	{
		ans*=10;
		ans+=c-48;
		c=getchar();
	}
	return ans*f;
}
```
整段代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int read()
{
	int ans=0,f=1,c;
	c=getchar();
	while(c<'0'||c>'9')
	{
		if(c=='-')//不是0-9的可能还会是其他字符
		f=-1;//所以必须判断是不是负号
		c=getchar();
	}
	while(c>='0'&&c<='9')
	{
		ans*=10;
		ans+=c-48;
		c=getchar();
	}
	return ans*f;
}
int main()
{
	double sum1=0,sum2=0;
	int temp=0,n;
	n=read();
	for(int i=1;i<=n;i++)
	{
		temp=read();
		sum1+=temp;
	}
	for(int i=1;i<=n;i++)
	{
		temp=read();
		sum2+=temp;
	}
	double ans=0;
	ans=(sum1*3-sum2*2)/(sum1-sum2);
	cout<<fixed<<setprecision(6)<<ans;
	return 0;
}
```
最后时间比scanf快得多，在数据越多的情况下优化越明显。
![](http://m.qpic.cn/psb?/V11ulWlV4YWMzx/.OTv6bUCwzAtYyEZPFtKlqHz.XDa9gTMRq7.AbGvwXU!/b/dDQBAAAAAAAA&bo=HgJ6AAAAAAADF1Q!&rf=viewer_4)


---

## 作者：ACE_ZY (赞：0)

题意是:输入n科的每科的满分,以及每一科的得分是多少,输出(每一科的满分之和乘3-每一科的实际得分之和乘2)÷每科所扣除分数的和

其实不用数组,5MB已经够用了

代码如下:
```pascal
var
  n,i,j,x,sum1,sum2:longint;
  sum:real;
begin
  readln(n);//n科
  for i:=1 to n do//读入每科满分,累计总分
  begin
    read(x);//代表第i科的成绩
    sum1:=sum1+x;//加上去
  end;
  for i:=1 to n do//读入每科考试得分
  begin
    read(x);//第i科的得分
    sum2:=sum2+x;//累加
  end;
  sum:=(sum1*3-sum2*2)/(sum1-sum2);//根据题意,满分之和(sum1)的3倍减去实际得分(sum2)的 差 除以 每科扣除的分的和
  writeln(sum:0:6);//保留6位小数
end.
```

望通过,谢谢

---

## 作者：ShineEternal (赞：0)

# 更佳的阅读效果请见题目背景中的链接

这道题挺送水了吧。。。

两种做法。

其实空间都不需要那么大，我来提交界面一看一堆MLE的，于是还是良心的放开了时限。

这么简单，就不做解释了。

下面放出几种代码。

# 代码：
两个数组：
```cpp
#include<cstdio>
using namespace std;
int a[10000005],c[10000005];
int main()
{
    //freopen("T1_6.in","r",stdin);
    //freopen("T1_6.out","w",stdout);
    int n,b;
    double cnt1=0.0,cnt2=0.0,cnt3=0.0;
    scanf("%d",&n);
    for(int i=1;i<=n;i++)
    {
        scanf("%d",&a[i]);
        cnt1+=a[i];
    }
    for(int i=1;i<=n;i++)
    {
        scanf("%d",&b);
        cnt2+=b;
        cnt3+=a[i]-b;
    }
    double ans=(cnt1*3.0-cnt2*2.0)/cnt3;
    printf("%lf",ans);
    return 0;
}
```
一个数组
```cpp
#include<cstdio>
using namespace std;
int a[10000005];
int main()
{
    //freopen("T1_6.in","r",stdin);
    //freopen("T1_6.out","w",stdout);
    int n,b;
    double cnt1=0.0,cnt2=0.0,cnt3=0.0;
    scanf("%d",&n);
    for(int i=1;i<=n;i++)
    {
        scanf("%d",&a[i]);
        cnt1+=a[i];
    }
    for(int i=1;i<=n;i++)
    {
        scanf("%d",&b);
        cnt2+=b;
        cnt3+=a[i]-b;
    }
    double ans=(cnt1*3.0-cnt2*2.0)/cnt3;
    printf("%lf",ans);
    return 0;
}
```
有技巧的不用数组
```cpp
#include <cstdio>
using namespace std;
double n,a,b;
int main()
{
	//freopen("T1_6.in","r",stdin);
    //freopen("T1_6.out","w",stdout);
    a=0;b=0;
    scanf("%lf",&n);
    for(int i=1;i<=n;i++)
    {
        double t;
        scanf("%lf",&t);
        a+=t;
    }
    for(int i=1;i<=n;i++)
    {
        double t;
        scanf("%lf",&t);
        b+=t;
    }
    printf("%.6lf\n",(3*a-2*b)/(a-b));
    return 0;
}
撒花~
```


---

## 作者：durbin中将 (赞：0)

简单地看一下：这道题不用开数组，计算一下和，最后用满分数减去实际分数就是题目中所说的“每科所扣除分数的和”。
```cpp
#include<iostream>
#include<cstdio>
#include<algorithm>
using namespace std;
int main()
{
	register double n,sum_wh=0,sum_x=0;//各种变量定义
	register double ans;
	scanf("%lf",&n);//读入科目数
	for(register int i=1;i<=n;i++){
		register double input_num;
		scanf("%lf",&input_num);
		sum_wh+=input_num;
	}//读入满分数
	for(register int i=1;i<=n;i++){
		register double input_num;
		scanf("%lf",&input_num);
		sum_x+=input_num;
	}//读入实际分数
	ans=(sum_wh*3.-sum_x*2.)/(sum_wh-sum_x)*1.0;//计算答案
	printf("%0.6lf\n",ans);//输出
	return 0;
}
```

---

## 作者：珅肐 (赞：0)

这么快就转到洛谷题库里辣

正题：

一道简单的模拟

按照题意描述做即可

-- - - - - - - - - - 代码 - - - -  - - - - - - - - -
```cpp
#include<iostream>
#include<cstdio>
#include<ctype.h>
using namespace std;
inline int read(){//快读,可快了
	int x=0,f=0;char ch=getchar();
	while(!isdigit(ch))f|=ch=='-',ch=getchar();
	while(isdigit(ch))x=x*10+(ch^48),ch=getchar();
	return f?-x:x;
}
int main(){
	long long n=read(),full=0,sum=0;
    //full是满分之和,sum是实际得分之和,不知道数据范围所以开了longlong
	for(int i=1;i<=n;++i)full+=read();//统计每科满分之和
	for(int i=1;i<=n;++i)sum+=read();//统计每科实际得分之和
	printf("%.6lf",double(full+full+full-sum-sum)/(full-sum));//输出(每科满分之和*3-每科实际得分之和*2)/(每科所扣除分数的和)
	return 0;//好习惯
}

```

---


# [COCI 2007/2008 #6] PARKING

## 题目描述

Luka 毕业了，他找到了驾驶卡车的工作。 

一天晚上，他将 $3$ 辆卡车停在一个停车场，收费方式如下：

- 停放一辆卡车时，司机每分钟给每辆车支付 $a$ 元。 
- 停放两辆卡车时，司机每分钟给每辆车支付 $b$ 元。 
- 停放三辆卡车时，司机每分钟给每辆车支付 $c$ 元。

给定 $a, b, c$，以及 Luka 的三辆卡车的停车时间，请确定 Luka 要交多少钱。

## 说明/提示

#### 数据规模与约定
对于 $100\%$ 的数据，$1 \le c \le b \le a \le 100$，$1\le begin_i\le end_i\le 100$。
#### 说明
- 本题满分 $20$ 分。
- 本题自动开启 O2 优化开关。
- 题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #6](https://hsin.hr/coci/archive/2007_2008/contest6_tasks.pdf) T1 PARKING，译者 @[tearing](https://www.luogu.com.cn/user/219791)。

## 样例 #1

### 输入

```
5 3 1
1 6
3 5
2 8 
```

### 输出

```
33```

## 样例 #2

### 输入

```
10 8 6
15 30
25 50
70 80 
```

### 输出

```
480```

# 题解

## 作者：Maxrage (赞：54)

在题解区看到一大群大佬的做法，然后蒟蒻就迷茫，一道红题至于吗，所以我决定用个最简单的：按照题目模拟。  
我们用一个图来解释杨样例一：  
![](https://cdn.luogu.com.cn/upload/image_hosting/zyijb69k.png)  
首先是1-2，一辆车，2-3，两辆，3-5，...  

然后我们要注意到他的最先开始的和最后结束的时间，在没有车（0）时收费为0，判断该时段有几辆车，然后收费。  
所以可以：
~~~
struct car{
	int begn; 
	int endd;
}k[15];//有struct为何不用呢，多香！
~~~

用这一段：
~~~
for(int i=test;i<=teed;i++)
	{
		int carliang=0;//车量
		for(int j=1;j<=3;j++)
		{
			if(i>=k[j].begn&&i<k[j].endd)//有新车
				carliang++;//车量+1
		}
		ans+=carliang*price[marx];
	}
~~~

整体代码：  
```cpp
#include<bits/stdc++.h>//万能头好习惯
using namespace std;
struct car{//存储开始与结束时间
	int begn; 
	int endd;
}k[15];
int price[15];
int test=999999,teed=0;//开始与结束 
inline int read()//快读
{
   int s=0,w=1;
   char ch=getchar();//最快的输入方式
   while(ch<'0'||ch>'9')
   {
     if(ch=='-')w=-1;
	 ch=getchar();
   }
   while(ch>='0'&&ch<='9') 
     s=s*10+ch-'0',ch=getchar();
   return s*w;
} 
int main()
{
	for(int i=1;i<=3;i++)
		price[i]=read();
	price[0]=0;
	for(int i=1;i<=3;i++)
	{
		k[i].begn=read();k[i].endd=read();
		if(k[i].begn<=test) test=k[i].begn;
		if(k[i].endd>=teed) teed=k[i].endd;
	}
	int ans=0;
	for(int i=test;i<=teed;i++)
	{
		int carliang=0;//车量
		for(int j=1;j<=3;j++)
		{
			if(i>=k[j].begn&&i<k[j].endd)//有新车
				carliang++;//车量+1
		}
		//cout<<carliang<<endl;
		ans+=carliang*price[carliang];
	}
    //判断与收费全过程
	printf("%d",ans);
	return 0;
}
```

结束了吗？

没有

最后提醒几个注意点：  

- 第 $end_i$分钟不收费。  
- 一定注意没车时收费为0。  
- ~~一定要点赞的。~~


---

## 作者：kon_tori (赞：29)

### 题意
停车场对卡车收费方式如下：
- 同时有 ``1`` 辆卡车时，每辆车每分钟收费 ``a`` 元。
- 同时有 ``2`` 辆卡车时，每辆车每分钟收费 ``b`` 元。
- 同时有 ``3`` 辆卡车时，每辆车每分钟收费 ``c`` 元。

~~当然，不停车当然不会收费。~~

共有 ``3`` 辆卡车停在该停车场内，题目给出了每辆车停车的起始时间和结束时间，求最后的总费用。

**注意：结束时间不收费。**

### 思路
纯模拟，从第一分钟开始遍历每一分钟，判断该分钟停在停车场的卡车的数量，在总费用中加上该分钟的费用，直至所有卡车离开停车场，结束循环，输出总费用。

### 代码实现

$\texttt{code:}$
```cpp
/* light_chaser */
  #include<bits/stdc++.h>
  using namespace std;
  int a,b,c;
  int l1,r1,l2,r2,l3,r3;//3辆车的停车时间区间
  int maxr=0;
  int ans=0;
  int total;
  int main(){
      cin>>a>>b>>c;
      cin>>l1>>r1>>l2>>r2>>l3>>r3;
      maxr=max(max(r1,r2),r3);//最后一辆卡车的离开时间；注意：要用2次max函数，不然会wa最后一个测试点
      for(int i=1; i<=maxr; i++){
          total=0;//每次循环先把停车场内卡车数量清零
          if( i>=l1 && i<r1 ){
              total++;
          }//第一辆车在停车场
          if( i>=l2 && i<r2 ){
              total++;
          }//第二辆车在停车场
          if( i>=l3 && i<r3 ){
              total++;
          }//第三辆车在停车场
          if(total==3){
              ans+=c*3;
          }//有3辆卡车
          else if(total==2){
              ans+=b*2;
          }//有2辆卡车
          else if(total==1){
              ans+=a;
          }//有1辆卡车
      }
      cout<<ans<<"\n";
      return 0;
  }
```

### 后记
感谢管理员的辛勤付出！

蒟蒻的第$6$篇题解，望通过。

~~求赞~~

---

## 作者：DWT8125 (赞：6)

## P7189题解
这道题一看就知道要用**模拟**；

可能大家第一反应就是：建个数组，存放每分钟停了几辆车！

~~好吧，我也是这么想的；~~

给大家带来几个注意事项：

1. **第end分钟不收费**；

1. 注意文中的“每分钟给**每辆**车”；

以下为AC代码，**禁止抄袭，小心棕名**！
```
//P7189 AC代码
#include<iostream>
using namespace std;
int a,b,c,begin,end,s,q[10001];//q[10001]为模拟用的数组
int main(){
	cin>>a>>b>>c;
	for(int i=0;i<3;i++){
		cin>>begin>>end;
		for(int j=begin;j<end;j++) q[j]++;//注意不是j<=end;
	}
	for(int i=0;i<10001;i++){
		if(q[i]==1) s+=a;
		else if(q[i]==2) s+=2*b;
		else if(q[i]==3) s+=3*c;//为0时不收费；
	}
	cout<<s;
	return 0;//别忘了
}
```
最后给大家来个透密：这是本蒟蒻第一次交题解，也是本蒟蒻AC的第100题；

如有不对或不好的地方，欢迎多多指导！

---

## 作者：DownLoads (赞：5)

[传送门](https://www.luogu.com.cn/problem/P7189)

### 思路

遍历每一分钟，判断第 $i$ 分钟每辆车是否停放，求出当前分钟的停车费用，再求出总共的停车费用

### AC Code

```cpp
#include<iostream>
#include<cstdio>
#include<cmath>
#include<algorithm>
#include<string>
using namespace std;

int arr[5][5];
int a,b,c,i,j,maxt,sum,ans;
int main(){
	scanf("%d%d%d",&a,&b,&c); //输入a,b,c
	for(i=1;i<=3;i++){
		scanf("%d",&arr[i][1]); //每辆车的停车开始时间
		scanf("%d",&arr[i][2]); //每辆车的停车结束时间
		maxt=max(maxt,arr[i][2]); //记录离开最晚的车的结束时间
	}
	for(i=0;i<maxt;i++){
		sum=0; //sum表示当前的停车数量
		for(j=1;j<=3;j++){
			if(i>=arr[j][1] && i<arr[j][2]) //判断第i分钟第j辆车是否正在停放
            			sum++; 
		}
		if(sum==1) ans+=a; //停车费用增加
		else if(sum==2) ans+=2*b;
		else if(sum==3) ans+=3*c;
	}
	printf("%d",ans);
	return 0;
}
```

###### 求过求点赞qwq

---

## 作者：tZEROちゃん (赞：5)

### Solution

很简单的模拟。

我们可以用一个数组来 $money$ 记录有 $k$ 辆车时每分钟收费的钱数。

再用一个标记数组 $timeqaq$ 来记录第 $i$ 分钟停车场的车辆数。

输出时遍历 $timeqaq$，使计数器 $cnt$ 加上那一分钟要的钱。

如何算一分钟需要的钱呢？

设停的车数为 $x$ 辆，每辆车要 $y$ 元钱。

那就要 $xy$ 元。

显然 $x$ 就是 $timeqaq_i$，而 $y$ 就是 $money_x$，也就是 $money_{timeqaq_i}$。

所以要 $timeqaq_i \cdot money_{timeqaq_i}$ 元。

### Code
```cpp
#include <bits/stdc++.h>
using namespace std;

int money[4];
int timeqaq[11460];

int main(void) 
{
	scanf("%d%d%d", &money[1], &money[2], &money[3]); 
	for (int i = 1; i <= 3; i++) 
	{
		int beginqaq, endqaq;
		scanf("%d%d", &beginqaq, &endqaq);
		for(int i = beginqaq; i < endqaq; i++) 
			timeqaq[i]++;
	}
	int cnt = 0;
	for (int i = 0; i <= 11451; i++) 
		cnt += timeqaq[i] * money[timeqaq[i]];
	printf("%d\n", cnt);
	return 0;
}
```

by tearing               
Jan.16 2021.

---

## 作者：起名字重要吗 (赞：4)

### 思路：

**从最小开始的时间循环到最大结束的时间，每分钟看有多少辆车，有多少辆就加多少钱。**

这题有三个坑点需注意：

1. 题目里说第$end_i$分钟不收费，判断时间时用$\le $
1. abc都是**每辆车**每分钟需花的钱
1. 中间有可能一辆车都没有，不能在最后一个情况直接$else$

以下是AC代码：
```cpp
#include <bits/stdc++.h>
using namespace std;
int a,b,c,s1,s2,s3,e1,e2,e3,cnt;
int main() {
	cin>>a>>b>>c>>s1>>e1>>s2>>e2>>s3>>e3;
	for(int i=min(s1,min(s2,s3)); i<max(e1,max(e2,e3)); i++) {
		if(i>=s1&&i<e1&&i>=s2&&i<e2&&i>=s3&&i<e3) cnt+=c*3;
		else if((i>=s1&&i<e1&&i>=s2&&i<e2)||(i>=s1&&i<e1&&i>=s3&&i<e3)||(i>=s2&&i<e2&&i>=s3&&i<e3)) cnt+=b*2;
		else if((i>=s1&&i<e1)||(i>=s2&&i<e2)||(i>=s3&&i<e3)) cnt+=a;
		else continue;
	}
	cout<<cnt;
	return 0;
}
```
感谢观看，记得点个赞再走！（管理大大求过）

---

## 作者：_Legacy (赞：1)

## 来一个不模拟的

看大家大部分都是模拟做的，我就来一份不模拟的代码。~~虽然模拟的耗时也多不到哪去~~

### 思路

$S_i E_i$作为第$i$辆车停车的起始时间，因为只有两个时间点，所以均称为第$i$个标记，先出现的即开始，后出现的则结束，以$cnt$作为计数

![](https://cdn.luogu.com.cn/upload/image_hosting/5o51deqp.png?x-oss-process=image/resize,m_lfit,h_170,w_225)

如果在时间轴第一次遇到了第$i$个标记则说明$cnt$增加1,，如第二次遇到则$cnt$减一，后计算即可

### 关键部分

`pair<[type],[type]>[name]`  (`[type]`部分填数据类型,`[name]`填数据名)

以`[name].first`与`[name].first`分别访问第一个和第二个数据

此题中我们用pair分别表示时间点与车辆编号

### 详见代码

```
#include<bits/stdc++.h>
using namespace std;
int cost[3];
pair<int, int> t[6];
bool flag[3];
int cnt, ans;
int main() {
	for (int i = 0; i < 3; i++)
		cin >> cost[i];
	for (int i = 0; i < 6; i++) {
		cin >> t[i].first;
		t[i].second = i / 2;//编号
	}
   //标记
	for (int i = 0; i < 6; i++)
		for (int j = 0; j < 6; j++)
			if (t[i].first < t[j].first)
				swap(t[i].first, t[j].first), swap(t[i].second, t[j].second);
   //标记排序，因为懒所以打了个冒泡
	for (int i = 0; i < 6; i++) {
		if (flag[t[i].second] == false)
			flag[t[i].second] = true, cnt++;//第1次遇到编号为i的标记
		else
			flag[t[i].second] = false, cnt--;//第2次遇到编号为i的标记
		ans += cnt * cost[cnt - 1] * (t[i + 1].first - t[i].first);//计算
	}
	cout << ans;
}
```

---

## 作者：ei_hei_ (赞：1)

## Train of Thought

这道题用一个数组 $k$，标记在第 $i$ 分钟出现在停车场的车辆的数量即可。

什么意思呢？我们拿 样例 $1$ 来解释一下。

------------

**这是样例 $1$：**

```
5 3 1
1 6
3 5
2 8 
```

如果用 $k$ 数组标记出来应该是这样：$1,2,3,3,2,1,1$。

如果你不知道是什么意思，可以看下面这张表：

| 第 $i$ 分钟 | 有几辆车 |
| -----------: | -----------: |
| 1 | 1辆 |
| 2 | 2辆 |
| 3 | 3辆 |
| 4 | 3辆 |
| 5 | 2辆 |
| 6 | 1辆 |
| 7 | 1辆 |

细心的同学会发现：样例 $1$ 第三辆车的结束时间为第 $8$ 分钟，可是表里只到了第 $7$ 分钟，我给的标记出来的 $k$ 数组也只有 $7$ 个数字。这是为什么呢？

题目里面有一个很重要的信息：**第 $end_i$ 分钟不收费。** 用大白话说就是 **在第 $end_i$ 分钟时车从停车场开走，那第 $end_i$ 分钟自然就不用收费了。**

这是第 $1$ 个坑。

------------

第 $2$ 个坑就更简单了。

- 停放一辆卡车时，司机每分钟**给每辆车支付 $a$ 元。**

- 停放两辆卡车时，司机每分钟**给每辆车支付 $b$ 元。**

- 停放三辆卡车时，司机每分钟**给每辆车支付 $c$ 元。**

所以在写程序的时候不要忘了乘上每一分钟在停车场停的车的数量。

------------

最后嘱咐一句：

$AC$ 千万条，动脑第一条。

题解胡乱抄，**棕名** 两行泪。

## Code

```
#include<iostream>
#include<bits/stdc++.h>
using namespace std;
int a,b,c,x[3],y[3],z[3],s,k[1000001];
int main()
{
	int s1,s2,s3,cf;
	cin>>a>>b>>c;
	cin>>x[0]>>y[0];
	cf=y[0];
	for(int i=x[0];i<y[0];i++) k[i]++;
	cin>>x[1]>>y[1];
	if(y[1]>cf) cf=y[1];
	for(int i=x[1];i<y[1];i++) k[i]++;
	cin>>x[2]>>y[2];
	if(cf<y[2]) cf=y[2];
	for(int i=x[2];i<y[2];i++) k[i]++;
	for(int i=1;i<cf;i++)
	{
		if(k[i]==0) continue;
		if(k[i]==3) s=s+3*c;
		if(k[i]==2) s=s+2*b;
		if(k[i]==1) s=s+a;
	}
	cout<<s;
    return 0;
}
```

---

## 作者：Zmr_ (赞：1)

## 了解题意

$Luka$变成了一位卡车司机 

一天晚上，他将 $3$ 辆卡车停在一个停车场，收费方式如下：

- 停放一辆卡车时，司机每分钟给每辆车支付 $a$ 元。

- 停放两辆卡车时，司机每分钟给每辆车支付 $b$ 元。

- 停放三辆卡车时，司机每分钟给每辆车支付 $c$ 元。

给定 $a, b, c$  以及 $Luka$ 的三辆卡车的停车时间，请确定 $Luka$ 要交多少钱

------------
## 分析题意

其实我们可以按时间来看

以第一个样例为例子

卡车$1$：从时间$1$开始到时间$6$结束

卡车$2$：从时间$3$开始到时间$5$结束

卡车$3$：从时间$2$开始到时间$8$结束

那么时间$1$ ~ $8$的停车状况是这样的：

时间$1$ 有$1$辆

时间$2$ 有$2$辆

时间$3$ 有$3$辆

时间$4$ 有$3$辆

时间$5$ 有$3$辆

时间$6$ 有$2$辆

时间$7$ 有$1$辆

时间$8$ 有$1$辆

---

首先要将每个时间的车辆数算清

接着遍历每个时间

钱可以用  时间点的车辆数$*($a$或$b$或$c$)$ 得到

我们可以建一个记录钱的数组$a$

输入$a,b,c$对应的就是$a[1] , a[2] , a[3]$

我们将每个时间点的车辆数存在$s$数组里

因为我们不知道最大开始结束时间是多少

所以我们可以直接在$0$~$15000$这个区间里找

则钱数可以表示为

```
int v=0;
for(int i=0;i<=15000;i++)v+=s[i]*a[s[i]];

//s[i]表示每个时间点的车辆数，a[s[i]]表示车辆数所对应的收费情况
//a[1]表示a，a[2]表示b,a[3]表示c
```


就像是一个时间数轴，每个点上记录有几辆车

有几辆车再一个时间点一个时间点算钱

应该能理解吧QWQ

接下来就可以愉快地做题了

----

## AC Code

```
#include <bits/stdc++.h>//万能头文件
using namespace std;
int a[4],s[15001],f=0,v=0;//a数组指的是钱，s数组知指的是时间点
int main()
{
	cin>>a[1]>>a[2]>>a[3];//输入a,b,c
	for(int i=1;i<=3;i++)
	{
		int e,b;
		cin>>b>>e;//输入开始与结束时间
		for(int i=b;i<e;i++)s[i]++;//记录每个时间点上有几辆车
	}
	for(int i=0;i<=15000;i++)v+=s[i]*a[s[i]];//遍历时间点，算钱（循环里15000是因为我不知道最大时间点是多少，但是也没啥事）
	cout<<v;
	return 0;
}
```
$ END$

$2021.1.24$


---

## 作者：Query_Failed (赞：0)

## 主要思路：
运用**桶的思想**，专门建一个数组用来表示当时停车场中停的车的数量，直接用数组下标调用速度会快一些。

## 两点提示：
1. 注意在停车的**最后一分钟不收钱**，因此需要把除了最后一分钟的其他时间中车库里都加上一辆车，代码如下：
```cpp
for(int j=begin;j<end;j++)
{
	tong[j]++;
}
```
2. 注意题面中的描述，在给钱的时候是按**每辆车每分钟**付的，~~本蒟蒻就是在这里错了几次~~，因此在计算时还需要把费用乘以当时停车场里的车数。

## 附上代码（注释中有更详细的解释）：
```cpp
#include <iostream>
using namespace std;
int tong[10000000];   //作为“桶”的数组。 
int main()
{
	int a,b,c;
	cin>>a>>b>>c;
	int begin,end;   //每一次停车的开始时间与结束时间。 
	int beginmin,endmax; //最前的开始时间和最后的结束时间（用来表示范围）。 
	for(int i=0;i<3;i++)
	{
		cin>>begin>>end;
		if(i==0)
		{
			beginmin=begin;
			endmax=end;
		}
		else
		{
			if(begin<beginmin) beginmin=begin;
			if(end>endmax) endmax=end;
		}
		for(int j=begin;j<end;j++)
		{
			tong[j]++;  //在停车的这一段时间中，车库中增加了一辆车。 
		}
	}
	int sum=0;
	for(int i=beginmin;i<endmax;i++)
	{
		if(tong[i]==1) sum+=a;
		if(tong[i]==2) sum+=b*2;
		if(tong[i]==3) sum+=c*3; 
	}
	cout<<sum;
	return 0;
}

```


---

## 作者：Meng142857 (赞：0)

# 本蒟蒻的一篇题解（P7189）
纯模拟，建一个数组存储每一分钟有几辆车停靠（本蒟蒻太蒟了，实在没有空间 $O(1)$ 的方法，所以只能 $O(n)$ 了，但不过 $O(n)$ 也能过）  
注意：结束时间不计费！！  
AC代码如下，请勿抄袭：
```cpp
#include<iostream>
using namespace std;
int main(){
	int ans[105]={0},a,b,c,begin,end,sum=0;
	cin>>a>>b>>c;
	for(int i=1;i<=3;i++){
		cin>>begin>>end;
		for(int j=begin;j<end;j++){
			ans[j]++;
		}
	}
	for(int i=1;i<=100;i++){
		if(ans[i]==1){sum+=a;}
		if(ans[i]==2){sum+=b*2;}
		if(ans[i]==3){sum+=c*3;}
	}
	cout<<sum;
	return 0;
} 
```

---

## 作者：Eason_AC (赞：0)

## Content
有 3 辆卡车，第 $i$ 辆卡车停车开始时间为 $l_i$，结束时间为 $r_i$（**不包含**）。现在有以下收费方式：

| 停车辆数 | 每分钟每辆车单价 |
| :-----------: | :-----------: |
| $1$ | $a$ |
| $2$ | $b$ |
| $3$ | $c$ |

求一共要收多少钱。

**数据范围：$1\leqslant c\leqslant b\leqslant a\leqslant 100$。**
## Solution
直接模拟即可，注意 $r_i$ 时刻不要收费否则输出结果会大。
## Code
```cpp
int a[7], l[7], r[7], ending;
long long sum;

int main() {
	F(i, 1, 3) a[i] = Rint;
	F(i, 1, 3) l[i] = Rint, ending = max(ending, (r[i] = Rint));
	F(i, 1, ending) {
		int num = 0;
		F(j, 1, 3) if(i >= l[j] && i < r[j]) num++;
		sum += a[num] * num;
	}
	printf("%lld", sum);
	return 0;
}
```

---

## 作者：efgh123 (赞：0)

## 题意

[传送门](https://www.luogu.com.cn/problem/P7189)

Luka 辍学了，他找到了驾驶卡车的工作。一天晚上，他将 3辆卡车停在一个停车场，收费方式如下：停放一辆卡车时，司机每分钟给每辆车支付$a$元。停放两辆卡车时，司机每分钟给每辆车支付$b$元。停放三辆卡车时，司机每分钟给每辆车支付$c$元。给定$a$,$b$,$c$以及 Luka ​的三辆卡车的停车时间，请确定 Luka 要交多少钱。

## 思路

明显模拟题

1.确定开始结束停车的时间

2.确定每分钟停的车辆

3.确定每分钟的费用

4.每分钟的费用和

## Code

```cpp
#include <bits/stdc++.h>
using namespace std;
long long sum;
int main ( )
{
	int a , b , p , b1 , b2 , b3 , e1 , e2 , e3;
	cin >> a >> b >> p >> b1 >> e1 >> b2 >> e2 >> b3 >> e3;
	int minn = min ( min ( b1 , b2 ) , b3 ) ;
	int maxn = max ( max ( e1 , e2 ) , e3 ) ;
	int c[maxn];
	for(int i = 0; i < maxn; i ++) {
		c[i] = 0;
	}
	for(int i = b1; i < e1; i ++) {
		c[i] ++;
	}
	for(int i = b2; i < e2; i ++) {
		c[i] ++;
	}
	for(int i = b3; i < e3; i ++) {
		c[i] ++;
	}
	for(int i = minn; i < maxn; i ++) {
		if(c[i] == 1) {
			sum += a;
		} else if(c[i] == 2) {
			sum += 2*b;
		} else if(c[i] == 3) {
			sum += 3*p;
		}
	}
	cout << sum;
	return 0;
}
```

---


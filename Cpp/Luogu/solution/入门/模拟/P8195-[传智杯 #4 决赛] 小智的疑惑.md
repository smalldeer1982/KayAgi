# [传智杯 #4 决赛] 小智的疑惑

## 题目描述

传智专修学院给了小智一个仅包含小写字母的字符串 $s$，他想知道，里面出现了多少次子串 `chuanzhi` 呢。

我们称一个字符串 $t$ 是 $s$ 的子串，当且仅当将 $s$ 的开头若干个（可以为 0 个）连续字符和结尾若干个（可以为 0 个）连续字符删去后，剩下的字符串和 $t$ 相同。例如，我们称 `ab` 是 `abc` 的子串，但 `ac` 不是 `abc` 的子串。

## 说明/提示

### 数据规模与约定

对于全部的测试点，保证 $1 \leq |s| \leq 4 \times 10^5$，$|s|$ 表示 $s$ 的长度，且 $s$ 中只有小写字母。

## 样例 #1

### 输入

```
welcometochuanzhicupchuanzhi```

### 输出

```
2```

# 题解

## 作者：可爱的小于 (赞：22)

[原题传送门](https://www.luogu.com.cn/problem/P8195) [采用博客使用更佳](https://keaidexiaoyu.blog.luogu.org/solution-p8195)

**题目大意：** 给定一个字符串，求字符串中出现了多少次 `chuanzhi`。

**做题思路：** 

**$1.$** 输入。

**$2.$** 进行一遍循环。要确定循环条件，下标要定为到 `s.size()-6`，因为子串长度为 `7`。在循环时，要进行一次判断，判断在下标为 $i$ 时能否出现子串，进行累加。

**$3.$** 输出最终答案。

代码如下：

```cpp
#include<bits/stdc++.h>//万能头文件（不建议新手使用）
using namespace std;
string s;
long long sum=0;//定义
int main()
{
	cin >> s;//输入
    for(int i=0;i<s.size()-6;i++)//循环
        if(s[i]=='c'&&s[i+1]=='h'&&s[i+2]=='u'&&s[i+3]=='a'&&s[i+4]=='n'&&s[i+5]=='z'&&s[i+6]=='h'&&s[i+7]=='i')//判断条件
            sum++;//进行累加
    cout << sum << endl;//输出答案
    return 0;//结束
}
```

做法二：使用 `STL` 。

**$1.$** 使用 `string` 类型中的 `find` 函数进行查找。

**$2.$** 循环找出字串，进行累加。

**$3.$** 输出答案。

代码如下：

```cpp
#include<bits/stdc++.h>
using namespace std;
long long sum=0,xiabiao; 
string s;
int main()
{
    cin >> s;
    while(s.find("chuanzhi",xiabiao)!=string::npos)
    {
        xiabiao=s.find("chuanzhi",xiabiao)+1;
        sum++;
    }
    cout << sum << endl;
    return 0;
}
```


---

## 作者：一扶苏一 (赞：8)

## A. 小智的疑惑

**题意**：给定一个字符串 $s$，求 `chuanzhi` 在其中作为字串出现的次数。

$1 \leq |s| \leq 4 \times 10^5$。

**关键词**：模拟，字符串。

**参考难度**：红。

**解析**：对于 C/C++ 语言，可以遍历这个字符串求其出现次数；对于 java 语言，可以使用 String 的 `indexOf (t, i)` 方法找到从 $i$ 位置开始向后找当前字符串第一个出现 $t$ 的字串位置的下标，然后迭代即可；对于 Python3 语言，可以直接使用 `s.count(t)` 函数求出 $t$ 的出现次数。

(C++)

```cpp
#include <string>
#include <iostream>

int main() {
  std::string s, t("chuanzhi");
  std::cin >> s;

  int cnt = 0;
  for (int i = 0; i <= int(s.length()) - int(t.length()); ++i) if (s.substr(i, t.length()) == t) {
    ++cnt;
  }
  std::cout << cnt << std::endl;
}
```

注：`std::string` 的成员函数 `length()` 的返回值类型为 `unsigned` 类型，因此当 `s.length() < t.length()` 时，二者相减会得到一个很大的数产生运行时错误，所以相减之前需要先将二者强制类型转换为 `int` 类型。

(Java)

```java
import java.util.Scanner;

public class Main {
  public static void main(String[] args) {
    Scanner cin = new Scanner(System.in);
    String s = cin.next(), t = "chuanzhi";
    int cnt = 0;
    for (int i = s.indexOf(t, 0); i != -1; i = s.indexOf(t, i + 1)) {
      ++cnt;
    }
    System.out.println(cnt);
  }
}
```

(Python)

```python
s = input()
print(s.count('chuanzhi'))
```


---

## 作者：Pig_py (赞：5)

这一道题目相对简单。

### 思路

首先输入一个字符数组，然后计算出长度 $len$.对于 $\sum_{i=1}^{len}$,判断 $ch[i]$ 与其后的七位是否符合题意，符合就增加计数器。最后输出计数器即可。

### 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	char ch[400005];
	scanf("%s",ch+1);
	int len=strlen(ch+1);//长度 
	int ans=0;//计数器 
	for(int i=1;i<=len;i++){
		if(ch[i]=='c'&&ch[i+1]=='h'&&ch[i+2]=='u'&&ch[i+3]=='a'&&ch[i+4]=='n'&&ch[i+5]=='z'&&ch[i+6]=='h'&&ch[i+7]=='i'){//判断是否符合题意 
			ans++;
		}
	}
	printf("%d",ans);
} 
```


---

## 作者：SunSkydp (赞：5)

依次暴力判断即可，注意当字符串长度小于 `chuanzhi` 的长度时，直接输出 $0$。

```cpp
#include<bits/stdc++.h>
using namespace std;
string s;
int ans; 
int main() {
	cin >> s;
	if(s.size() < 8) {
		printf("0\n");
		exit(0);
	}
	for(int i = 0; i < s.size() - 7; i++)
		if(s[i] == 'c' && s[i + 1] == 'h' && s[i + 2] == 'u' && s[i + 3] == 'a' && s[i + 4] == 'n' && s[i + 5] == 'z' && s[i + 6] == 'h' && s[i + 7] == 'i')
		    ans++;
	printf("%d\n", ans); 
	return 0;
}
```

---

## 作者：LYqwq (赞：2)

[题目传送门](https://www.luogu.com.cn/problem/P8195)

# 题目大意

给定一个只包含小写字母的字符串 $s$，求 $s$ 中出现了多少次子串 `chuanzhi`。

# 思路

STL yyds。

直接用 `string` 中的 `find()`。

需要一个 `while` 循环，条件为 $s$ 中存在子串 `chuanzhi`。

每次循环将找到的第一个 `chuanzhi` 并跳过，并累加答案。

$s$ 中没有子串 `chuanzhi` 后即可输出答案。

# 代码

```cpp
#include <iostream>
using namespace std;
int idx,ans; // idx 表示现在跳到哪里了
string s;

int main(){
    cin >> s;
    while(s.find("chuanzhi",idx)!=string::npos){
        idx=s.find("chuanzhi",idx)+1;
        ans++;
    }
    cout << ans << endl;
    return 0;
}
```



---

## 作者：3a51_ (赞：2)

建议评级：红

按照题目要求来，枚举就行。有一个小坑就是注意当字符串长度 $<7$ 时会 RE。

代码：

```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
string a="chuanzhi";
int ans;
signed main(){
	string s;
	cin>>s;
	if(s.size()<7){
		cout<<0;
		return 0;
	}
	for(int i=0;i<s.size()-7;i++){
		if(s.substr(i,8)==a) ans++;
	}
	cout<<ans;
	return 0;
}
```

---

## 作者：Jorisy (赞：2)

题目大意已经很清楚了，就是查找一个字符串里有多少个 `chuanzhi`。

C++ STL 中有一个 string 里的函数——`s.find(str,pos)`。表示在字符串 $s$ 中从下标 $pos$ 开始寻找首次出现 $str$ 的位置（从 $0$ 开始编号）。

那么这道题就很简单了。

用 $pos$ 记录当前要开始寻找的位置，如果字符串中还有 `chuanzhi`，就将 $pos$ 记为找到 `chuanzhi` 的位置再加一。

AC Code：
```cpp
#include<bits/stdc++.h>
using namespace std;

int main()
{
	string s;
	cin>>s;
	int ans=0,pos=0;
	while(s.find("chuanzhi",pos)!=string::npos)
	{
		pos=s.find("chuanzhi",pos)+1;//设置下次开始寻找位置
		ans++;//记录答案
	}
	cout<<ans;
 	return 0;
}
```

---

## 作者：pengzy___ (赞：1)

这是一道入门级别的题目。

### 思路：

首先输入这个字符串。

每次循环到当前这个字符时就判断和后面的字符是否能连成题目中所给的字符串。

### 代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
char s[400005];
int ans;
int main()
{
	cin>>s;
	int len=strlen(s);
	for(int i=0;i<len;i++)
	    if(s[i]=='c'&&s[i+1]=='h'&&s[i+2]=='u'&&s[i+3]=='a'&&s[i+4]=='n'&&s[i+5]=='z'&&s[i+6]=='h'&&s[i+7]=='i')
	        ans++;
	cout<<ans;
	return 0;
}
```

strlen 代表获取字符串的长度。

---

## 作者：lucas_jy (赞：1)

[或许更好の阅读体验](https://www.luogu.com.cn/blog/AnOutsiderOfLuogu/solution-p8195)

[题目の传送门](https://www.luogu.com.cn/problem/P8195)

### 题目解析
一道签到题。

这道题非常水，就是扫一遍，输出有多少个是 ` chuanzhi ` 的字符串。

代码如下
```cpp
#include<bits/stdc++.h>
using namespace std;
int ans;
char s[400010];
int main(){
    scanf("%s",s); //输入
    for(int i=0;i<strlen(s);++i)
        if(s[i]=='c'&&s[i+1]=='h'&&s[i+2]=='u'&&s[i+3]=='a'&&s[i+4]=='n'&&s[i+5]=='z'&&s[i+6]=='h'&&s[i+7]=='i') //判断是否为 'chuanzhi' 字符串
            ++ans; //答案增加
    cout<<ans<<endl;
    return 0;
}
```
[AC记录](https://www.luogu.com.cn/record/71238762)

这是作者的第 ` 2 ` 篇题解，希望大家多提意见，谢谢！

---

## 作者：i_dont_know_who_am_i (赞：1)

这道题是查找子串的一道很水的题，但是因为没有字符串长度的输入，所以用`getline()`。

上代码：

```
#include <bits/stdc++.h>
using namespace std;
string c;
int main(){
    getline(cin,c);
    int ans=0;
    for(int i=7;i<=c.size();i++){
        if(c[i-7]=='c'&&c[i-6]=='h'&&c[i-5]=='u'&&c[i-4]=='a'&&c[i-3]=='n'&&c[i-2]=='z'&&c[i-1]=='h'&&c[i]=='i'){//判断有没有字串
            ans++;
        }
    }
    cout<<ans<<endl;
}
```


---


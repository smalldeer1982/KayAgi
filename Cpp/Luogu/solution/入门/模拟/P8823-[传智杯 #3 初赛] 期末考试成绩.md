# [传智杯 #3 初赛] 期末考试成绩

## 题目描述

传智专修学院的 Java 程序设计课程的评价体系是这样的：

首先，所有学生会有一个卷面得分，这个得分一定是一个 $[0,100]$ 之间的整数。

如果卷面得分在 $90$ 分及以上，那么他的 GPA（加权平均成绩） 就是满分 $4.0$。

如果卷面得分在 $60 \sim 89$ 之间，那么他每比 $90$ 分少 $1$ 分，那么他的分数就会在 $4.0$ 的基础上减少 $0.1$。

如果卷面得分不到 $60$ 分，那么善良的老师会给他照顾。具体来说，如果他的分数为 $x$ ，那么老师会把他的分数调整为 $\sqrt{x}\times 10$（向下取整） ，再计算他的 GPA。

如果经过调整该学生的得分依旧没满 $60$ ，那么他就挂科了，GPA 就是 $0$ 分。

现在给你一个人的期末卷面得分，请你输出他的最终 GPA

## 说明/提示

对于 $20\%$ 的数据，满足 $90 \leq x \leq 100$；  
对于额外 $30\%$ 的数据，满足 $60 \leq x \leq 100$；  
对于 $100\%$ 的数据，满足 $0 \leq x \leq 100$。

## 样例 #1

### 输入

```
99
```

### 输出

```
4.0```

## 样例 #2

### 输入

```
88```

### 输出

```
3.8```

## 样例 #3

### 输入

```
12```

### 输出

```
0.0```

# 题解

## 作者：RainySoul (赞：10)

 _博客食用效果更佳_
 
[题目传送门](https://www.luogu.com.cn/problem/P8823)

------------
### 这是一道简单的模拟题，初学者也可以用来练习 if—else 语句。
输入卷面成绩 $n$，再按题意模拟即可，但有几点小细节。

**注意事项**

因为有 $.0$ 需要保留，所以输出要用 printf 保留一位小数。

分数小于 $60$ 分的，如果在调整后仍小于 $60$ 分，输出 $0.0$。

另外题面也有一些小问题，第一种情况应是 $90$ 分及以上。

AC code：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n;
int main(){
	cin>>n;
	if(n<60)n=floor(sqrt(n)*10);//分数小于60的先调整再计算
	if(n>=90)printf("4.0");//分数在90及以上的满分，4.0
	else if(n>=60&&n<=89)printf("%.1f",4-0.1*(90-n));//分数在60到89之间的情况
	else printf("0.0");//调整后仍小于60分，挂科，0.0分
	return 0;
} 
```
感谢阅读！

---

## 作者：Jasoncwx (赞：9)

## 题目思路
这是一道训练 `if` 语句的题目，所以直接按照题目模拟就好。

但当卷面得分 $\le60$ 的时候，就要注意了。

具体解释在代码里。
## 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
    long long n;
    double ans=4.0;
    cin>>n;
    if(n>=90)return puts("4.0"),0;//大于等于90直接输出
    else if(n>=60&&n<=89){//分数大于等于60并且小于等于89
        ans-=(90-n)*0.1;
        return printf("%.1f",ans),0;
    }
    else{//小于60
        n=sqrt(n)*10;//更新得分
        if(n<60)return puts("0.0"),0;//还是小于60
        else{//大于等于60
            if(n>=90)return puts("4.0"),0;
            ans-=(90-n)*0.1;
            printf("%.1f",ans);
        }
    }
}
```

---

## 作者：CR7_houyetong (赞：7)

# 题意
首先纠正一下，题意有误：

>原题：如果卷面得分在 $90$ 分以上，那么他的 GPA（加权平均成绩） 就是满分 $4.0$。

>改正：如果卷面得分在 $90$ 分**及**以上，那么他的 GPA（加权平均成绩） 就是满分 $4.0$。

其次庆幸一下，这种难度的题题解居然开放，我居然还抢到了写题解的机会！
- 给定一个自然数 $n$，表示该学生的分数。
- 通过分数计算该学生的 GPA 值并保留一位小数输出。
- 最后，保证 $0 \le n \le 100$。

# 分析
一道简单的分类讨论，输入分数后 ```if``` 语句判断下来就可以了，要注意的是得用到 ```double``` 类型。

但是，如果 $n \le 60$，还要分两种情况：

- 如果 $\sqrt{n} \times 10 \ge60$，那么这个学生就没有挂科，也就是说，GPA 值不等于 $0.0$。

- 如果 $\sqrt{n} \times 10 <60$，那么这个学生就挂科了，也就是说，GPA 值等于 $0.0$。

然后处理一下：不等式两边同时 $\div 10$，得：$\sqrt{n} \ge 6$，即 $n \ge 36$。

所以有以下规则：
1. $90 \le n \le 100$：$\text{GPA} = 4.0$；
2. $60 \le n \le 89$：$\text{GPA} = 4.0 - (90-x) \times 0.1$；
3. $36 \le n \le 60$：$\text{GPA} = 4.0 - (90-(\sqrt{x} \times 10)) \times 0.1$；
4. $0 \le n \le 35$：$\text{GPA} = 0.0$。

话不多说，上代码！

# 代码
```cpp
#include <bits/stdc++.h>
#define int long long
using namespace std;
double n;
signed main(){
    cin>>n;
    if (n>=90)
      return cout<<"4.0",0;
    if (n<36)
      return cout<<"0.0",0;
    if (n<60)
      n=floor(sqrt(n)*10);
    n=4.0-(90.0-n)*0.1;
    return cout<<fixed<<setprecision(1)<<n,0;
}
```
![](https://cdn.luogu.com.cn/upload/image_hosting/lztyydyd.png)

---

## 作者：guozhetao (赞：4)

## 思路
本题目是非常简单的模拟题，记得所有输出保留 $1$ 位小数。

首先，用 `double` 存入浮点数，方便待会开根号。

- 如果 $x \geq 90$，直接输出 `4.0` 即可。
- 如果 $60 \leq x < 90$，因为每比 $90$ 分少 $1$ 分，那么他的分数就会在 $4.0$ 的基础上减少 $0.1$。，因此我们输出 $4 - (90 - x) \times 0.1$ 即可。
- 如果 $x < 60$，我们将 $x \gets \lfloor \sqrt{x} \times 10 \rfloor$，再重新计算。如果还是 $x < 60$，输出 `0.0`，否则按第二种情况输出（$x < 60 \Rightarrow \sqrt{x} < 9 \Rightarrow sqrt{x} \times 10 < 90$）。

## 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
double x;
signed main() {
	scanf("%lf",&x);
	if(x >= 90) printf("4.0");
	else if(x >= 60) printf("%.1lf",4.0 - (90 - x) * 0.1);
	else {
		x = floor(sqrt(x) * 10.0);
		if(x >= 60) printf("%.1lf",4.0 - (90 - x) * 0.1);
		else printf("0.0");
	}
    return 0;
}


```


---

## 作者：Moon_Traveller (赞：4)

[传送门](/problem/P8823)

这是一道简单的模拟题。

# 思路

首先我们分别列举一下，分数 $x$ 的范围所对应的 GPA。

1. $90 \le x \le 100$：$\text{GPA} = 4.0$；

2. $60 \le x \le 89$：$\text{GPA} = 4.0 - (90-x) \times 0.1$；

3. $36 \le x \le 60$：$\text{GPA} = 4.0 - (90-(\sqrt{x} \times 10)) \times 0.1$；

4. $0 \le x \le 35$：$\text{GPA} = 0.0$。

解释一下：

第一条毋庸置疑，题目中明确写了：

> 如果卷面得分在 $90$ 分以上，那么他的 GPA（加权平均成绩） 就是满分 $4.0$。

第二条题目中也说了：

> 如果卷面得分在 $60 \sim 89$ 之间，那么他每比 $90$ 分少 $1$ 分，那么他的分数就会在 $4.0$ 的基础上减少 $0.1$。

因为 $x$ 比 $90$ 少了 $(90-x)$ 分，所以就应该在 $4.0$ 的基础上减少 $(90-x) \times 0.1$ 分。

第三条需要稍微思考一下：

> 如果卷面得分不到 $60$ 分，那么善良的老师会给他照顾。具体来说，如果他的分数为 $x$，那么老师会把他的分数调整为 $\sqrt{x} \times 10$（向下取整），再计算他的 GPA。
>
> 如果经过调整该学生的得分依旧没满 $60$，那么他就挂科了，GPA 就是 $0$ 分。

我们要考虑一下，当 $x \lt 60$ 时，什么时候会挂科，什么时候不会挂科。那么其中判断的标准显然就是：

$\sqrt{x} \times 10$ 是否大于等于 $60$？

我们逆推一下（这里会用到一些初中的不等式知识，但是小学的也差不多可以理解）：

$\sqrt{x} \times 10 \ge 60$

不等式两边同时 $\div 10$，得：

$\sqrt{x} \ge 6$

那么，哪个数的算数平方根是 $6$？没错，是 $36$，所以最后得：

$x \ge 36$

那么我们就找到了是否挂科的范围，也就能推出来第三、四条结论。

现在就可以来完成代码了！

# 代码

```cpp
#include <iostream>
#include <cmath> // 这是 floor 和 sqrt 函数需要的头文件，函数作用分别是向下取整和开方
using namespace std;

double x;

int main()
{
    cin >> x;
    if(x >= 90) // 对应第一条结论
    {
        printf("4.0\n");
        return 0;
    }
    if(x < 36) // 对应第四条结论
    {
        printf("0.0\n");
        return 0;
    }
    if(x < 60) // 对应第三条结论中对 x 的操作，于是转化成了第二条结论
    {
        x = floor(sqrt(x) * 10); // 注意是对整个式子向下取整，而不是对 sqrt(x)
    }
    x = 4.0 - (90.0 - x) * 0.1; // 对应第二条结论
    printf("%.1f\n", x); // %.1f 意思是保留一位小数
    return 0;
}
```

---

## 作者：_xEr_ (赞：1)

这一题考的是 ```if``` 语句的使用，根据题目，我们可以写出以下代码：
```cpp
	if(x>=90)printf("4.0");
	else{
		double a=4.0;
		if(x<60)x=pow(x,0.5)*10; //pow(a,0,5)=sqrt(a) 都是取平方根。效果一样，个人习惯，多学一种也好 
		if(x>=60)printf("%.1f",a-(90-x)*0.1);
		else printf("0.0");
	}

```

但是这样不太优雅，~~毕竟这篇题解的 writer 看到这样生硬的代码会晕掉的。~~

但总之，可以进行一些数学方面的优化：

这题可以优化的点在于 ```0.0``` 的情况，题目对于这种情况的描述是：


>如果卷面得分不到 $60$ 分，那么善良的老师会给他照顾。具体来说，如果他的分数为 $x$ ，那么老师会把他的分数调整为 $\sqrt{x}\times 10$（向下取整） ，再计算他的 GPA。

>如果经过调整该学生的得分依旧没满 $60$ ，那么他就挂科了，GPA 就是 $0$ 分。

所以当 $\sqrt{x}\times 10 < 60$ 时，便可以直接输出 ```0.0```。   
但这样优化等于没优化。而且 ```cmath``` 的数学函数通常常数比较大，所以我们可以继续简化 $\sqrt{x}\times 10 < 60$ 这个繁杂的式子，下面是我的简化过程：

 1. $\sqrt{x}\times 10 < 60 = \sqrt{x}<6 $ 移项简化
 
 2. $\sqrt{x}<6 = x<36$ 因为平方根为 $6$ 的数就是 $6 \times 6 = 36$，所以等式是成立的。

 3. 总结 $\Large \sqrt{x}\times 10 < 60 = x<36 $，简化成功！！

最后献上我简化后的代码：
_________

```cpp
#include<iostream>
#include<cmath> //pow
using namespace std;
int main(){
	int x;cin>>x;
	if(x>=90)printf("4.0");
	else if(x<36)printf("0.0");
	else{
		double a=4.0;
		if(x<60)x=pow(x,0.5)*10; //pow(a,0.5)=sqrt(a) 效果一样，个人习惯，多学一种也好 
		printf("%.1f",a-(90-x)*0.1); 
	}
	return 0;
}
```


---

## 作者：fengziyi (赞：1)

### 前言
这是一道十分基础的数学题，所以我会为同学们讲的非常详细。  
### 主要思路
本题考查 `if()`，数学函数 和 格式化输出语句。 
我们通过 [BDFS](https://baidu.com) 可以知道：  

 - 通过 `printf("%*")` 语句控制符的改变可以输出不同的结果。
 - `if()` 语句可以跟 `else if()` 和 `else` 连用。


于是乎可以写出如下代码：  
```cpp
	printf("%.1lf");	// 这是用来格式化输出滴
	int x = (int)sqrt(n);	// 对于 根号 n 向下取整
```
对于题目中叙述的不同情况分类讨论即可。

并且仔细读题，注意这句话，不要理解错。  

卷面得分**不到 $ 60 $ 分**，如果他的分数为 $ x $，那么老师会把他的分数**调整为** $ \sqrt{x} \times 10 $ （向下取整），**再**（按照**60分以上方法**）计算他的 GPA。

### 贴个代码

```cpp
// Problem:		P8823 [传智杯 #3 初赛] 期末考试成绩
// Contest:		Luogu
// URL:			https://www.luogu.com.cn/problem/P8823
// Memory Limit:	128 MB
// Time Limit:		1000 ms
// Created Time:	2023-02-19 10:22:54

#include <iostream>

#include <cmath>

#define longint long long
#define reg register
#define qwq puts("fzy qwq ~");

using namespace std;

int n;

int main()
{
    ios::sync_with_stdio(0);
    cin.tie(0); cout.tie(0);

    scanf("%d", &n);
    if (n >= 90)			// 成绩在 90 分上
        printf("%.1lf\n", 4.0);
    else if (n >= 60 && n < 90)		// 成绩在 60 ~ 89 分
        printf("%.1lf\n", 4.0 - (90 - n) * 0.1);
    else if ((int)(sqrt(n) * 10) >= 60)	// 成绩在做对应操作后仍然不是 0 分
        n = (int)(sqrt(n) * 10),
        printf("%.1lf\n", 4.0 - (90 - n) * 0.1);
    else				// 真的不想得零分
    	printf("%.1lf\n", 0.0);
    return 0;
}
```

---

## 作者：Loser_Syx (赞：1)

## 思路

其实就是分段处理：

如果成绩 $\geq 90$：输出 $4.0$。

如果成绩在 $60 \sim 89$ 分之间：输出 $(90 - n) \times 0.1$。

如果成绩 $\leq 59$，那就分数改成 $\sqrt x \times 10$ 重新计算一次，如果还是没有分数，输出 $0.0$。

## 代码

```cpp
#include <bits/stdc++.h>
using namespace std;
double ans(int n){//分段处理
	double answer = 4.0;
	if(n <= 89 && n >= 60){
		answer -= (90 - n) * 0.1;
	}else if(n < 60){
		return 0.0;
	}
	return answer;
}
int main(){
	int n;
	cin >> n;
	double c = ans(n);//计算分数
	if(c != 0){
		printf("%.1lf", c);
	}else{
		n = floor(sqrt(n) * 10);//更改分数
		c = ans(n);//重新计算
		printf("%.1lf", c);
	}
}
```

---

## 作者：maomao233 (赞：0)

[题目传送门](https://www.luogu.com.cn/problem/P8823)

### 题意

所有学生有一个卷面得分，这个得分一定是一个 $[0,100]$ 之间的整数。

如果卷面得分在 $90$ 分以上，那么他的 GPA（加权平均成绩）就是满分 $4.0$。

如果卷面得分在 $60 \sim 89$ 之间，那么他每比 $90$ 分少 $1$ 分，那么他的分数就会在 $4.0$ 的基础上减少 $0.1$。

如果卷面得分不到 $60$ 分，那么善良的老师会给他照顾。具体来说，如果他的分数为 $x$ ，那么老师会把他的分数调整为 $\sqrt{x}\times 10$（向下取整） ，再计算他的 GPA。

如果经过调整该学生的得分依旧没满 $60$ ，那么他就挂科了，GPA 就是 $0$ 分。

现在给你一个人的期末卷面得分，请你输出他的最终 GPA。

### 分析

根据题意，我们分析出 $3$ 种情况：

1. 卷面分 $\ge 90$；
2. $60 \le$ 卷面分 $\le 89$；
3. 卷面分 $<60$。

其中，第 $3$ 种情况又分为 $2$ 种：

1. 分数调整后仍然 $<60$；
2. 分数调整后 $\ge 60$。

那我们就用分支语句把这 $3$ 大情况给表示出来，执行语句里写上它的计分方式即可。我们重点讲一下情况 $2$ 计分方式。

情况 $2$ 首先是以 $4.0$ 为基础开始减的，那么就计算 $x$ 和 $90$ 分相差多少分，再用它 $\times 0.1$ 就可以了。公式就是 $4-(90-x)\times 0.1$ 。

再用[三目运算符](https://baike.baidu.com/item/%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6/6180633?fromtitle=%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6&fromid=6434591&fr=aladdin)将程序优化一下，整体代码非常得短。

### 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
    int x;
    cin>>x;
    if(x>=60)
	{
		printf("%.1lf\n",min(4.0,4-(90-x)*0.1));//如果x>=90，那么按公式算结果一定是>4.0的，即4会减一个负数。 
	}
	else
	{
		x=sqrt(x)*10;//int本身向下取整 
		printf("%.1lf\n",x<60?0:4-(90-x)*0.1);//根据题意写即可 
	}
    return 0;
}
```


---

## 作者：Donnyliu01 (赞：0)

## 题意简述

根据题目中的 GPA 计算制度，计算某人的 GPA 总分。

## 思路分析

本题是简单的模拟题，分类讨论期末考试分数 $pts$ 和对应的 GPA 的值 $w$。

注意：以下条件中的第三条和第四条需要推导。即

+ 当 $10\sqrt{pts} \ge 60$ 时不会挂科；
+ 当 $10\sqrt{pts} \le 60$ 时不会挂科；

所以，解不等式，可得：

$$\sqrt{x} \ge 6 \to x \ge 36$$

也就是当分数大于等于 $36$ 分时不会挂科。

+ 当 $pts \in [90,100]$ 时，$w=4.0$；
+ 当 $pts \in [60,89]$ 时，$w=4.0-0.1(90-pts)$；
+ 当 $pts \in [36,59]$ 时，$w=4.0-0.1(90-(\sqrt{pts} \times 10))$；
+ 当 $pts \in [0,35]$ 时，$w=0.0$。

最后按照上面的规律模拟程序即可，代码如下：

```cpp
#include<bits/stdc++.h>
using namespace std;
double pts;
int main()
{
    cin >> pts;
    if(pts >= 90) {
        cout << "4.0\n";
        return 0;
    }
    else if(pts < 36) {
        cout << "0.0\n";
        return 0;
    }
    else if(pts < 60) pts = floor(sqrt(pts) * 10); 
    pts = 4.0 - 0.1 * (90.0 - pts); 
    printf("%.1f\n", pts); 
    return 0;
}
```

---

## 作者：Yun_Mengxi (赞：0)

#### [题目传送门](https://www.luogu.com.cn/problem/P8823)

### 题意分析
简单的分支结构练习题，只需要注意整数转小数和保留一位小数就可以了。
### 代码
```cpp
#include<iostream>
#include<cmath> //floor函数和sqrt函数的头文件
using namespace std;
int main() {
	int x;
	cin >> x;
	if (x > 90) {
		cout << "4.0" << endl; //如果 x 大于 90 直接输出
	} else if (x >= 60) {
		printf("%.1lf", 4.0-(90.0 - x) / 10.0); //保留一位小数
	} else {
		x = floor(sqrt(x) * 10);
		if (x > 90) {        //如果经过老师的善意后分数到 90 了输出 4.0
			cout << "4.0" << endl;
		} else if (x >= 60) { //如果被善良了后及格了输出分数
			printf("%.1lf", 4.0-(90.0 - x) / 10.0); //保留一位小数
		} else {
			cout << "0.0" << endl; //如果还是没有及格输出 0.0
		}
	}
}
```
[AC记录](https://www.luogu.com.cn/record/102351390)
### 关于题面
有一个小错误，是 $90$ 分及以上不是 $90$ 以上。

---


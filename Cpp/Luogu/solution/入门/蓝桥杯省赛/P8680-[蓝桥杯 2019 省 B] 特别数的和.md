# [蓝桥杯 2019 省 B] 特别数的和

## 题目描述

小明对数位中含有 $2$、$0$、$1$、$9$ 的数字很感兴趣（不包括前导 $0$），在 $1$ 到 $40$ 中这样的数包括 $1$、$2$、$9$、$10$ 至 $32$、$39$ 和 $40$，共 $28$ 个，他们的和是 $574$。

请问，在 $1$ 到 $n$ 中，所有这样的数的和是多少？

## 说明/提示

对于 $20\%$ 的评测用例，$1 \le n \le 10$。

对于 $50\%$ 的评测用例，$1 \le n \le 100$。

对于 $80\%$ 的评测用例，$1 \le n \le 1000$。
 
对于所有评测用例，$1 \le n \le 10000$。

蓝桥杯 2019 省赛 B 组 F 题。

## 样例 #1

### 输入

```
40```

### 输出

```
574```

# 题解

## 作者：LYJ_B_O_Creation (赞：15)

思路：
-
通过题目，我们知道了这道题只需要判断从 $1$ 到 $n$ 有没有数含有  $2$，$0$，$1$，$9$ 中的其中一个，如果有让用来存储的 $sum$ 加上这个数即可。

由于范围不大，所以我们可以直接暴力一个区间内所有的数，然后对每个数的每一位判断，判断出一些满足要求的数，最后输出所有满足要求的数的和就行了。

代码：
-
```cpp
#include<bits/stdc++.h>
#define int long long//开long long是个好习惯
using namespace std;
bool baozi(int x)
{
    while(x)
	{
        int t = x % 10;
        if(t == 2 || t == 0 || t == 1 || t == 9) //数位判断
		{
			return true;
		}
        x /= 10;
    }
    return false;
}
signed main()
{
	int n , sum = 0;
	cin >> n;
	for(int i = 1;i <= n;i++)
	{
		if(baozi(i))//如果条件成立， 就让sum加上i
		{
			sum += i;
		}
	}
	cout << sum << endl;//最后输出所有满足条件的数的和
	return 0;
}
```


---

## 作者：Jasoncwx (赞：14)

## 题目思路
本题的考点就是数位分解。

直接把一个数进行分解，在判断是否为 $2$、$0$、$1$、$9$ 即可。

## 代码
```cpp
#include<iostream>
using namespace std;
int main(){
    long long n,ans=0;
    cin>>n;
    for(long long i=1;i<=n;i++){
        long long temp=i;
        while(temp!=0){
            if(temp%10==2||temp%10==0||temp%10==1||temp%10==9){//判断
                ans+=i;//答案
                break;
            }
            temp/=10;//数位分解
        }
    }
    cout<<ans;
}
```

---

## 作者：Lyria (赞：11)

## 题意

输出 $1$ 至 $n$ 中，所有满足数字中含有 $2$、$0$、$1$、$9$ 的数之和。

## 思路

按题意模拟即可。

``to_string(k)`` 表示将整型 $k$ 转为字符串，$\texttt{c++14}$ 新语法。自动转为字符串后枚举位数模拟。

## 代码

仅放出部分代码。

```cpp
for(int i=1;i<=n;i++){
    s=to_string(i);
    for(int j=0;j<s.length();j++){
        if(s[j]=='2'||s[j]=='0'||s[j]=='1'||s[j]=='9'){
            res+=i;
            break;
        }
    }
}
```

---

## 作者：wimg6_ (赞：3)

## P8680 题解

$n$ 很小，所以考虑直接模拟。

对于每一个 $n$：枚举所有 $x$，其中 $x\in [1,n]$，对于每一个 $x$ 再分离其每一位，看是否有位数的值为 $2$ 或 $0$ 或 $1$ 或 $9$ 即可。

注意最后要求的是符合条件的数的和。

```
#include<bits/stdc++.h>
using namespace std;
int n,sum;
int main()
{
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		int flag=0,k=i;
		while(k!=0)
		{
			int w=k%10;
			if(w==2 || w==0 || w==1 || w==9)
			{
				flag=1;
				break;
			}
			k/=10;
		}
		if(flag==1) sum+=i;
	}
	return !printf("%d",sum);
}
```


---

## 作者：CleverRaccoon (赞：2)

## 简要题意

求 $1$ 到 $n$ 中，数位中含有 $2$、$0$、$1$、$9$（不包含前导 $0$）的数字的总和是多少。

## 判断一个数字的数位中是否含有 $2$、$0$、$1$、$9$

### 方法

- 可以通过循环，每次把当前数字**对 $10$ 取模**，得到个位数。

- 若个位数等于 $2$、$0$、$1$、$9$ 中的任意一个，那么**说明这个数字满足条件，直接跳出循环即可**。

- 每次循环时，将数字**除以 $10$**。

- 直到**数字为 $0$** 时循环结束。

- 若数字为 $0$，就代表它**不满足条件**。

### 举个栗子

判断 $114514$ 是否满足条件：

1. 首先，$114514$ 对 $10$ 取模得到 $4$，不等于 $2$、$0$、$1$、$9$ 中的任意一个，继续执行循环，$114514 \div 10 = 11451$（保留整数）。

2. 接着，$114514$ 对 $10$ 取模得到 $1$，满足条件，跳出循环，说明 $114514$ 满足数位中含有 $2$、$0$、$1$、$9$ 这个条件。

3. 返回答案，$114514$ 的数位中含有 $2$、$0$、$1$、$9$（不包含前导 $0$）。

### 代码

可以写一个函数来判断。

```cpp
bool check(int x) { // 判断函数
    while(x != 0) { // 当 x 不为 0 时
        if(x % 10 == 2 || x % 10 == 0 || x % 10 == 1 || x % 10 == 9)
            return true;    // 满足条件，返回真
        x /= 10;    // x /= 10，准备取出下一位
    }
    return false;   // x 的数位中不含有 2、0、1、9，返回假
}
```

## 题目解法

有了这个判断函数，这道题目剩下的代码就很好敲了。

用一个变量存储答案。循环遍历 $1$ 到 $n$，每次循环中如果当前数字满足条件，就将答案加上这个数字。

注意是求和，而不是求有多少个。

通过高斯求和公式 $sum = \frac{(a_1 + a_n) \times cnt}{2}$，可得，答案最多为 $(1 + 10000) \times 10000 \div 2 = 50005000$，因此不需要开 ```long long```。

你们想要的完整代码如下：

```cpp
#include <bits/stdc++.h>
using namespace std;

int n, ans; // ans 记录最终答案

bool check(int x) { // 判断函数
    while(x != 0) { // 当 x 不为 0 时
        if(x % 10 == 2 || x % 10 == 0 || x % 10 == 1 || x % 10 == 9)
            return true;    // 满足条件，返回真
        x /= 10;    // x /= 10，准备取出下一位
    }
    return false;   // x 的数位中不含有 2、0、1、9，返回假
}

int main() {
    // 关闭流同步
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cin >> n;
    for(int i = 1; i <= n; ++i) // 从 1 一直循环到 n
        if(check(i))    // 如果这个数字满足条件
            ans += i;   // 答案就加上这个数字
    cout << ans;
    return 0;
}
```

好了，题解内容就到这里了，有不懂的欢迎私信交流，拜拜啦！





---

## 作者：Alan_wmx (赞：1)

## 题意
找出数位中含有 $2$、$0$、$1$、$9$、的数字，算出它们的总和。
## 思路
枚举 $1$ 到 $n$ 之间的数，然后每次对当前这个数进行拆位，如果满足题目要求，加上这个数就行了。
## 拆位
这里涉及到拆位的问题，那么拆位是什么呢？拆位就是把一个数中的每一位都分解出来。
## 拆位代码示例
```cpp
int j = 12345;
while (j) {
    cout << j % 10 << " ";
    j /= 10;
}
```
我们来分析一下代码，首先我输出了一个 `j % 10` 为啥呢？因为这样我就可以得到各位上的 $5$ 并把它输出，然后因为这一位已经被我拆过了，所以我要舍去最后一位，因此，除以 $10$ 即可。
## 代码
```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
ll n, ans;
int main () {
	ios::sync_with_stdio(0);
	cin.tie(0), cout.tie(0);
	cin >> n;
	for (int i = 1; i <= n; i++) { //枚举
		int j = i;
		bool flag = false;
		while (j) { //拆位判断是否满足题意
			int t = j % 10;
			if (t == 2 || t == 0 || t == 1 || t == 9) {
				flag = true;
				break;
			}
			j /= 10;
		}
		if (flag == true) { //满足就加上这个数
			ans += i;
		}
	}
	cout << ans << "\n";
	return 0;
}
```

---

## 作者：Double_Light (赞：0)

## 题目概述

求 $1\sim n$ 中数位含 $2,0,1,9$ 之一的数之和。

## 基本思想

可以用暴力来解决。

从 $1$ 循环到 $n$，每个数都判断一下是否满足数位里有 $2,0,1,9$ 之一。如果有，则加到答案里去，否则舍弃。最终输出答案即可。

## 划重点

本题考点在于——如何分离一个数的数位。

这里介绍一种方法，步骤如下：

1. 我们用一个 `while` 循环，保证要判断的数始终大于 $0$。

2. 循环里我们将这个数对 $10$ 取模，拿到这个数的个位。

3. 判断这个数是否为 $2,0,1,9$ 之一。如果是，证明这个数里有这四个数之一。直接把这个数加到答案里，用 `break` 退出循环就可以了。

4. 如果这个数位并非为 $2,0,1,9$ 之一，将这个数除以 $10$，开始新的循环。由于 C++ 中对除法默认向下取整，所以当第二次循环时取到的新数位是原数的十位，第三次循环时取到的新数位是原数的百位……最终当所有数位全部取完，这个数就变成了 $0$，自动退出循环。

建议配合这部分的代码食用：

```
//以下代码中，ans表示累加的和，i表示当前正在判断数位的数，x等同于i，但是由于直接将i放入while中会改变i的值，使枚举1~n时的顺序和次数发生变化，所以需要x来代替i。
x=i;
while(x>0){
	if(x%10==2||x%10==0||x%10==1||x%10==9){
		ans+=i;
		break;
	}
	x/=10;
}
```
## 注意/解释

1. 因为判断数位时时间复杂约为 $\log_{10} n$（相当于枚举每个数的数位），加上枚举部分复杂度 $O(n)$，地总复杂度 $O(n \log_{10} n)$，不会超时。

2. `while` 循环的条件是 `x>0`，而非 `x>=0`。

3. 由于代码核心部分已经给出，故不放完整代码。

---

## 作者：DreamLand_zcb (赞：0)

## 简要题意

求出所有小于等于 $n$ 的数当中所有包含数字 $2$ 或 $0$ 或 $1$ 或 $9$ 的数字的和。

## 思路

枚举 $1$ 到 $n$ 所有数，对于每个数加以判断然后将判断为是的数加起来。

## 代码

```cpp
#include <bits/stdc++.h>
#define ll long long
#define setp setprecision
#define mem(a, m) memset(a, m, sizeof(a));
using namespace std;

int n; 
int ans=0;
int num[10]={2, 0, 1, 9};
bool check(int x)
{
	while(x)//逐位判断
	{
		for(int i=0;i<4;i++)
		{
			if(x%10 == num[i])
				return true;
		}
		x/=10;
	}
	return false;
}
int main()
{
	ios::sync_with_stdio(false);
	cin >> n;
	for(int i=1;i<=n;i++)
		if(check(i))
			ans+=i;
	cout << ans; 
	return 0;
}

```

---


# [语言月赛202302] 风神瞳

## 题目描述

你正在帮助他们设计一款象棋软件。现在，你想要设计一个逻辑功能。以下是对这个功能的介绍。

想象一个无限大的棋盘，我们用 $(x, y)$ 表示棋盘的第 $x$ 行第 $y$ 列。具体的，如果说一个棋子在 $(x, y)$ 位置，那么这个棋子则在棋盘的第 $x$ 行第 $y$ 列。

现在有四种棋子**车、炮、马、象**。它们对应的**编号**及它们的**吃棋子规则**如下表所示。以下规则均假设当前棋子在 $(x, y)$ 位置。

**请注意，以下规则可能与真实的中国象棋规则略有不同。**

| 名称 | 编号 | 走法规则 |
| :----------: | :----------: | :----------: |
| 车 | $1$ | 可沿横线或者竖线移动，即一次操作可以吃掉 $(x + k, y), (x - k, y), (x, y + k), (x, y - k)$ 中的任意一个位置的棋子（$k$ 为任意正整数）。 |
| 炮 | $2$ | 想象一条直线，炮与对方棋子都在这条直线上。那么只有在这条直线上的炮与对方棋子的中间**有一个另外的棋子**时，炮才能吃掉对方。 |
| 马 | $3$ | 马走日，即一次操作可以吃掉 $(x + 2, y + 1), (x + 2, y - 1), (x - 2, y + 1), (x - 2, y - 1), (x + 1, y + 2), (x + 1, y - 2), (x - 1, y + 2), (x - 1, y - 2)$ 中的任意一个位置的棋子。 |
| 象 | $4$ | 象走田，即一次操作可以吃掉 $(x + 2, y + 2), (x + 2, y - 2), (x - 2, y + 2), (x - 2, y - 2)$ 中的任何一个位置的棋子。 |

现在你得到了一组询问，包含 $p, x _ 0, y _ 0, x _ 1, y _ 1$ 五个整数，代表现在棋盘上**只有**两个棋子，第一个棋子编号为 $p$，在第 $x _ 0$ 行，第 $y _ 0$ 列。第二个棋子编号未知且不需要了解，在第 $x _ 1$ 行，第 $y _ 1$ 列。

你需要考虑，如果你现在可以且仅可以操作第一个棋子**一次**，第一个棋子能否吃掉第二个棋子。

## 说明/提示

### 样例解释

样例组 #1 与 #2 代表了车能够与不能够吃掉对方棋子的情况。

样例组 #3 代表了炮不能够吃掉对方棋子的情况。

样例组 #4 代表了马能够吃掉对方棋子的情况。


<https://www.luogu.com.cn/paste/et767k4o> 中含有所有样例的棋子摆放情况，可以按需查阅。

### 数据规模与约定

对于 $20\%$ 的数据，保证 $p = 2$；  
对于 $100\%$ 的数据，保证 $p \in \{1, 2, 3, 4\}$，$1 \leq x _ 0, y _ 0, x _ 1, y _ 1 \leq 10 ^ 9$，且保证不存在 $x _ 0$ 与 $x _ 1$、$y _ 0$ 与 $y _ 1$ 同时相等的情况，即两个棋子不会重合。

## 样例 #1

### 输入

```
1 1 4 2 4```

### 输出

```
Yes```

## 样例 #2

### 输入

```
1 1 4 2 5```

### 输出

```
No```

## 样例 #3

### 输入

```
2 1 1 2 1```

### 输出

```
No```

## 样例 #4

### 输入

```
3 1 4 2 6```

### 输出

```
Yes```

# 题解

## 作者：Maxmilite (赞：8)

## Source & Knowledge

2023 年 2 月语言月赛，由洛谷网校入门计划/基础计划提供。

## 文字题解

### 题目大意

给定一个棋盘，规定 $(x, y)$ 代表棋盘上的第 $x$ 行第 $y$ 列。棋盘上只有两个棋子，分别在 $(x _ 0, y _ 0)$ 和 $(x _ 1, y _ 1)$。给定第一枚棋子的种类，询问能够在仅操作一步的情况下，让第一枚棋子吃掉第二枚棋子。保证第一枚棋子和第二枚棋子不重合。

### 解析

本题考察对于分支结构的复杂运用。

首先补充一个问题，对于变量名 `y0, y1, yn`，在 `math.h` 头文件中有定义三个同名的函数，用于求第二类贝塞尔函数解，相关资料可以在 <https://www.ibm.com/docs/en/zos/2.3.0?topic=functions-y0-y1-yn-bessel-second-kind> 中查阅。因此在题目中使用这些变量名有可能会造成冲突，进而导致编译错误。

因此以下解析我们使用 $a, b, c, d$ 代替 $x _ 0, y _ 0, x _ 1, y _ 1$。

我们首先需要对棋子种类 $p$ 进行判断，之后做出相应的操作。这个过程使用 `if` 语句完成。

本题用到的结构为：

```cpp
if (某某条件) {
    // 达到这个条件时需要做的事情
} else {
    // 否则需要做的事情
} 
```

具体的控制流可以参考 <https://www.runoob.com/cplusplus/cpp-decision.html>，由于篇幅限制这里不再做过多的描述。

棋子种类 $p$ 判断的具体结构可以如下：

```cpp
if (p == 1) { /*...*/ }
else if (p == 2) { /*...*/ }
else if (p == 3) { /*...*/ }
else { /*...*/ }
```

对于棋子种类，我们进行如下分类讨论：

1. 车

	由于一次操作下车可以沿行或者列移动，因此此时只需要判断第一枚棋子和第二枚棋子的行坐标和列坐标是否有**任意一个**相同。
    
    具体的，我们只需要判断 `a == c || b == d` 是否成立即可。其中 `||` 称为逻辑或运算符，代表符号两边的条件只要有一个成立则整个成立。如果上述式子成立则输出 `Yes`，否则输出 `No`。
    
2. 炮

	由题面，炮如果想要吃子，那么直线上的炮与对方棋子的中间必须有一个**另外的棋子**。然而棋盘上只有两枚棋子，因此炮无论如何都吃不掉对方的棋子。此时直接输出 `No` 即可。
    
3. 马
	
    马走日，这里提供一种比较简单的判断方式。
    
    我们使用两个变量 $e, f$ 分别记录 $|a - c|$，$|b - d|$。当且仅当 $e$ 与 $f$ 中有一个等于 $1$ 另一个等于 $2$，马才可以吃掉对方棋子，输出 `Yes`，否则马不可以吃子，输出 `No`。
    
4. 象
	
    象走田，这里提供一种与马类似的判断方式。
    
    我们使用两个变量 $e, f$ 分别记录 $|a - c|$，$|b - d|$。当且仅当 $e$ 与 $f$ 均等于 $2$，象才可以吃掉对方棋子，输出 `Yes`，否则象不可以吃子，输出 `No`。
    

## 视频题解

**完整代码请在视频中查看。**

![](bilibili:BV1L24y1q7Tv?page=2)

---


# [语言月赛 202307] 枚举结构

## 题目描述

D-- 是 2077 年的一种新兴语言。在 D-- 语言中，引入了一种「枚举结构」。具体的，这一种结构可以使用以下表达式表示：

```plaintext
X Y Z W
```

其中，$X, Z$ 为单个小写字母，代表变量名；$Y, W$ 为整数，代表枚举的起始值和终止值。其代表，将变量 $X$ 从 $Y$ 枚举到 $W$。

由于 D-- 追求极致的安全性，因此为了进行确认，**如果想要成功对 $X$ 变量进行枚举，那么 $Z$ 必须与 $X$ 相同**。 

例如，一个合法的枚举结构表达式如下：

```plaintext
i 1 i 100
```

其代表，将 $i$ 变量从 $1$ 枚举到 $100$。

---

现在你收到了一个 D-- 枚举结构表达式 `X Y Z W`，请你判断和计算以下内容：

1. 表达式的合法性  
	一个枚举结构表达式，只有满足以下全部条件，方可算作合法：  
    
    - $X$ 与 $Z$ 均为小写字母。
    - $X$ 与 $Z$ 相同。
    - $Y$ 与 $W$ 均为整数。在给定的表达式中，我们保证这一条总是成立。
    
2. 如果合法，表达式将枚举的次数  
	对于一个合法的枚举表达式，如果 $Y \le W$，其将会枚举 $W - Y + 1$ 次；否则，其将会枚举 $Y - W + 1$ 次。

## 说明/提示

### 数据规模与约定

对于一个表达式 `X Y Z W`，对于 $100\%$ 的数据，$-2 \times 10 ^ 9 \leq Y, W \leq 2 \times 10 ^ 9$，$X, Z$ 均为单个小写字母或单个大写字母或一位数字。

## 样例 #1

### 输入

```
i 1 i 100```

### 输出

```
valid
100```

## 样例 #2

### 输入

```
I 1 j 100```

### 输出

```
Invalid
-1```

# 题解

## 作者：Maxmilite (赞：3)

## Source & Knowledge

2023 年 7 月语言月赛，由洛谷网校入门计划/基础计划提供。

## 题目大意

给定一个表达式 `X Y Z W`，其中 $X,Z$ 为单个大小写字母或一位数字，$Y, W$ 为整数。判断该表达式是否合法及计算循环次数。

## 题目分析

在读入表达式后，只需按照题目给定的条件运算即可。

```cpp
char x, z;
long long y, w;
cin >> x >> y >> z >> w;
```

1. 表达式的合法性  
    
    - $X$ 与 $Z$ 均为小写字母：核心代码为 `if (x >= 'a' && x <= 'z')`。（对 $Z$ 的判断由下方的「$X$ 与 $Z$ 相同」进行）
    - $X$ 与 $Z$ 相同：核心代码为 `if (x == z)`。
    - $Y$ 与 $W$ 均为整数。由于题目保证这一条总是成立，因此不需要特殊判断。
    
    故此处核心代码如下：
    ```cpp
    if (x == z && (x >= 'a' && x <= 'z')) {
	    cout << "valid" << endl;
        ...
    else {
	    cout << "Invalid" << endl << -1 << endl;
	}
    ```
    
2. 如果合法，表达式将枚举的次数  
	
	对于一个合法的枚举表达式，如果 $Y \le W$，其将会枚举 $W - Y + 1$ 次；否则，其将会枚举 $Y - W + 1$ 次。
    
    只需要判断 $Y$ 和 $W$ 的大小关系，并输出对应变量即可。故此处核心代码如下：
    ```cpp
    if (x == z && (x >= 'a' && x <= 'z')) {
	    cout << "valid" << endl;
	    if (y <= w) {
	    	cout << w - y + 1 << endl;
	    } else {
	    	cout << y - w + 1 << endl;
	    }
    ...
    ```
 
## 视频讲解

![](bilibili:BV1kX4y1x7GL?page=3)


---


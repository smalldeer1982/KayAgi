# [语言月赛 202307] 署前街少年

## 题目背景

> 时光无法缝补那块破碎的黑板  
> 虚荣的少年与署前街越来越远  
> ——赵雷，《署前街少年》

## 题目描述

某 E 得到了一个长度为 $2N$ 的数列 $a_1, a_2, a_3, \dots a_{2N}$，数列的第 $i$ 个数为 $a_i$。

奇变偶不变，符号看象限。这是三角函数诱导公式的重要口诀。某 E 同样想对数列实施这样的变换，具体来说：

 - 对于 $a_i$，若 $i \bmod 2=0$，则称 $a_i$ 为偶位数；若 $i \bmod 2 = 1$，则称 $a_i$ 为奇位数。
 - 对于 $a_i$，记 $i \bmod k = p$，则称 $a_i$ 为第 $p$ 象限数，其中 $k$ 为给定的参数。

奇变偶不变，符号看象限。某 E 将遵循以下的规则对数列进行变换：

- 若 $a_i$ 为偶位数，则 $a_i$ 不变。
- 若 $a_i$ 为奇位数，设 $a_i$ 为第 $p$ 象限数，则 $a_i$ 变为所有第 $p$ 象限数的和对 $i$ 取模的值。

请注意以上变换不会影响「所有第 $p$ 象限数的和」这一数值。

某 E 想知道，变换后的数列是什么样的。

## 说明/提示

 - 对于 $40\%$ 的测试数据，$1 \le N \le 1000$，$2 \le k \le 10$。
 - 对于 $100\%$ 的测试数据，$1 \le N \le 5 \times 10^5$，$2 \le k \le 10^4$，$0 \le a_i \le 10^6$ 。

## 样例 #1

### 输入

```
10 4
5 2 0 4 7 6 2 7 1 3 5 7 9 45 3 6 12 36 78 1```

### 输出

```
0 2 1 4 4 6 4 7 7 3 0 7 8 45 13 6 0 36 12 1```

# 题解

## 作者：览遍千秋 (赞：2)

## Source & Knowledge

2023 年 07 月语言月赛，由洛谷网校入门计划/基础计划提供。

考察循环、数组。

---

## 文字题解

本题定义了奇位数、偶位数和第 $p$ 象限数的概念，对选手的阅读能提出了一定的要求。

在读入 $a_i$ 的同时，将 $a_i$ 的值累加给 $S_{i \bmod k}$，这样，在读入完成的同时，就可以完成第 $p$ 象限数的求和。

接着，对 $a_i$ 进行遍历，若：

- $i \bmod 2 = 0$，则为偶位数，原样输出
- $i \bmod 2 = 1$，则为奇位数，输出 $S_{i \bmod k} \bmod i$。

需要注意的是，$a$ 数组需要开到 $2N$ 大小。


---

## 视频题解

![](bilibili:BV1kX4y1x7GL?page=5)

---


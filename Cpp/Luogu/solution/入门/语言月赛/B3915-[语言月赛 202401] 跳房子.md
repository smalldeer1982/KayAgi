# [语言月赛 202401] 跳房子

## 题目背景

跳房子，也叫跳飞机，是一种世界性的儿童游戏，也是中国民间传统的体育游戏之一，趣味性、娱乐性极强，曾深受广大儿童的喜爱。

## 题目描述

现在我们给出一种简易跳房子游戏的玩法：

$n$ 个格子从左到右一字形排开，从左到右依次被标号为 $1, 2, \cdots, n$。每一个格子上都有一个正整数，$i$ 号格子上的正整数是 $a _ i$。

这个游戏的规则如下：初始时玩家站在 $1$ 号格子上，需要做若干次跳跃。每一次跳跃时，玩家需要从当前格子向前跳「当前格子上写的整数」数量的格子。形式化地讲，如果玩家当前处于 $x$ 号格子，玩家需要跳到 $x + a _ x$ 号格子上。

  如果玩家跳到 $n$ 号格子右侧的位置，称玩家出界；如果玩家**恰好**跳到 $n$ 号格子上，称玩家胜利。这两种情况下玩家都需要停止跳跃。
  
现在给定格子数量和格子上的整数，你需要求解：

1. 在停止跳跃后，玩家是否胜利。即，玩家是否能够恰好跳到 $n$ 号格子上。
2. 在停止跳跃后，玩家跳跃的总次数。

## 说明/提示

### 样例 1 解释

![](https://cdn.luogu.com.cn/upload/image_hosting/pmjatueu.png)

### 样例 2 解释

![](https://cdn.luogu.com.cn/upload/image_hosting/xzdvb6fv.png)

### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 \leq n \leq 10 ^ 6$，$1 \leq a _ i \leq 10 ^ 4$。


| 测试点编号 | $n$ | 特殊性质 |
| :-: | :-: | :-: |
| $1$ | $= 1$ | 无 |
| $2 \sim 4$ | $\leq 100$ | 无 |
| $5$ | $\leq 10 ^ 6$ | $a _ i = 1$ |
| $6, 7$ | $\leq 10 ^ 6$ | $a _ i = 2$ |
| $8 \sim 10$ | $\leq 10 ^ 6$ | 无 |

## 样例 #1

### 输入

```
6
1 1 3 7 8 5
```

### 输出

```
Yes
3
```

## 样例 #2

### 输入

```
4
2 7 3 5
```

### 输出

```
No
2
```

# 题解

## 作者：Maxmilite (赞：7)

## Source & Knowledge

2024 年 1 月语言月赛，由洛谷网校入门计划/基础计划提供。

## 题目大意

一行 $n$ 个格子，每个格子上有一个整数 $a _ i$。从 $1$ 号点起跳，每次从 $i$ 号点跳到 $a _ i + i$ 的位置。当跳跃到 $\geq n$ 号位后停止跳跃。求问能否恰好跳到 $n$ 号位，一共条约多少次。
	
## 题目分析

本题考察对循环结构的运用。

由于 $a _ i \geq 1$，因此每一次一定有 $i + a _ i > i$，因此玩家一定会不断向右跳跃。

不使用数组的做法是，使用一个变量 $c$（初始值为 $1$）记录当前所在的位置。在循环读入 `for (int i = 1; i <= n; ++i) { cin... }` 的过程中，如果 $i = c$，则让 $c$ 变为 $c + x$（$x$ 是当前循环读入的变量）即可。

在过程中同时使用一个变量记录跳跃次数。当 $c$ 有变化时使变量自增 $1$ 即可。最终输出 $c$ 是否等于 $n$ 以及记录跳跃次数的变量即可。

核心代码如下：

```cpp
int c = 1, cnt = 0;
for (int i = 1; i <+ n; ++i) {
    cin >> x;
    if (c == i) {
        c = c + x;
        ++cnt;
    }
}
if (c == n) {
    cout << "Yes" << endl;
} else {
    cout << "No" << endl;
}
cout << cnt << endl;
```


## 视频讲解

![](bilibili:BV1pK4y117QA?page=3)


---


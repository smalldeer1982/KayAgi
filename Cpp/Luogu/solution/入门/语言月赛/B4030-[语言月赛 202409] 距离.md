# [语言月赛 202409] 距离

## 题目描述

迅风的班上一共有 $n$ 个人，学号为 $1\sim n$。每个同学都对班里其他所有同学有一个**好感度**，这个好感度始终是自然数。一开始每个人对其他人的**好感度**为 $0$。

接下来在这个班级里按时间顺序发生了 $m$ 件事情。每件事情发生后，会让一位同学对另一位同学的好感度增加或减少。

迅风想在**每一件事发生后**，立刻知道如果他随便选两个同学 $p,q$，那么 $p$ 对 $q$ 好感度的最大值是多少。你能帮帮他吗？

注意：好感度不是相互的。$p$ 对 $q$ 的好感度可以不等于 $q$ 对 $p$ 的好感度。

## 说明/提示

**【样例 1 解释】**

班里有 $2$ 位同学，发生了 $3$ 件事情。下面用表格来整理这三件事情。

|事情编号|事情效果|$1$ 对 $2$ 好感度|$2$ 对 $1$ 好感度|输出数字|
|:-:|:-:|:-:|:-:|:-:|
|初始||$0$|$0$||
|$1$|$1$ 对 $2$ 的好感度增加 $4$|$4$|$0$|$4$|
|$2$|$2$ 对 $1$ 的好感度增加 $6$|$4$|$6$|$6$|
|$3$|$2$ 对 $1$ 的好感度减少 $3$|$4$|$3$|$4$|


**【数据范围】**

|测试点编号|$n\le$|$m\le$|特殊性质|
|:-:|:-:|:-:|:-:|
|$1\sim 4$|$10$|$10$|无|
|$5\sim 7$|$100$|$100$|每个事情发生前，$a$ 对 $b$ 好感度都是 $0$（只有一件事情会影响 $a$ 对 $b$ 的好感度）|
|$8\sim 11$|$100$|$100$|对于每个事情，都有 $a=1$|
|$12\sim 15$|$100$|$100$|保证 $op=1$|
|$16\sim 20$|$100$|$100$|无|

对于所有数据，保证 $2\le n\le 100$，$1\le a,b\le n$，$1\le c\le 10^5$，且任意时刻任何人对其他所有人的好感度都是自然数。


## 样例 #1

### 输入

```
2 3
1 1 2 4
1 2 1 6
2 2 1 3
```

### 输出

```
4
6
4
```

# 题解

## 作者：szh_AK_all (赞：5)

## Source & Knowledge
2024 年 9 月语言月赛，由洛谷网校入门计划/基础计划提供。

## 题目大意
有 $n$ 个同学，每次操作会修改两个同学间的好感度，你需要在每次操作之后求出同学之间的最大亲密度。

## 题目分析
本题考察数组综合与复杂循环。

考虑到 $n$ 很小，用一个二维数组来 $p$ 记录同学之间的好感度。设 $p_{x,y}$ 表示学号 $x$ 的同学与学号为 $y$ 的同学的好感度，则对于修改操作，若 $op=1$，则将 $p_{a,b}$ 的值增加 $c$；否则将 $p_{a,b}$ 的值减少 $c$。然后枚举每一对同学，找出最大的好感度。

## 核心代码

修改操作：

```cpp
if (op == 1)
  p[a][b] += c;
else
  p[a][b] -= c;
```

找出最大的好感度：
```cpp
Max = 0;
for (int i = 1; i <= n; i++)
  for (int j = 1; j <= n; j++) {
    Max = max(Max, p[i][j]);
  }
```

---


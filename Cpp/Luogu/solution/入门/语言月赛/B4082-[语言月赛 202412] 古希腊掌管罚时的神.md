# [语言月赛 202412] 古希腊掌管罚时的神

## 题目描述


在 XCPC 竞赛里，会有若干道题目，一支队伍可以对每道题目提交若干次。我们称一支队伍对一道题目的一次提交是有效的，当且仅当：

- 在本次提交以前，还未通过该题目。
- 本次提交的题目在比赛里最终被该队伍通过了。

显然，一支队伍一道题目的所有有效提交有且仅有最后一次是通过，其它提交都是未通过。

一支队伍对于一道题目的罚时定义是：第一次通过该题时的分钟数加上二十倍的该题的未通过有效提交次数。

例如，如果一支队伍共提交一道题四次，则它们前三次提交是未通过的；假设第四次提交在第 $91$ 分钟，则该该题目的罚时是：$91+3\times20=151$。

一支队伍一场比赛的总罚时是所有题目的罚时之和。

例如，如果一支队伍在比赛中共通过两道题目，第一道题目的罚时为 $151$，第二道题目的罚时为 $35$，则该队伍的总罚时是 $151+35=186$。

给定一支队伍的所有有效提交记录，每条记录是一个二元组 $(a_i, b_i)$，其中 $a_i$ 是本次提交的时间，$b_i$ 表示本次提交是否通过：$b_i = 0$ 表示未通过，$b_i=1$ 表示通过。求该队伍本场比赛的罚时。

提示：虽然队伍的罚时是通过每道题目的罚时定义的，但在最终计算队伍总罚时时，知道每条记录所对应的题目是不必要的，所以我们在提交记录中隐去了提交题目的编号。


## 说明/提示

### 样例 1 解释

这个样例是【题目描述】中所举的例子。

### 数据规模与约定
| 测试点编号 | $n$ | 特殊约定 |
| :-: | :-: | :-: |
| $1$ | $=1$ | $b_i = 1$ |
| $2,3,4$ | $\leq 100$ | $b_i = 1$ |
| $5,6,7$ | $\leq 100$ | 仅有一条记录的 $b_i$ 为 $1$ |
| $8,9,10$ | $\leq 10^5$ | 无 |

对全部的测试数据，保证 $1 \leq n \leq 10^5$，$1 \leq a_i \leq 10^7$，$0 \leq b_i \leq 1$，最晚的一条提交记录一定是通过（如果有多条在同一时间是最晚的，保证其中存在一条是通过）。

## 样例 #1

### 输入

```
5
1 0
2 0
3 0
35 1
91 1
```

### 输出

```
186
```

## 样例 #2

### 输入

```
10
2 1
35 1
40 1
47 1
54 1
63 0
70 1
75 0
93 1
97 1
```

### 输出

```
478
```

# 题解

## 作者：一扶苏一 (赞：1)

# [语言月赛 202412] 古希腊掌管罚时的神 题解
## Source & Knowledge
本题来源于 2024 年 12 月的语言月赛，主要考察一维循环和累加操作的应用。
## 文字题解
### 题目大意
给定一系列有效提交记录，每条记录包含提交时间和是否通过的信息。需要计算一支队伍在比赛中的总罚时，罚时的计算方式是每道题目的第一次通过时间加上二十倍的未通过次数。
### 解析

注意到对于第 $i$ 个题目，假设它在第 $t_i$ 分钟通过，在这之前本题有 $x_i$ 次未通过提交，则本题贡献的罚时 

$$
\mathrm{punishment}(i)=t_i + 20x_i
$$

则总罚时
$$
\begin{aligned}
\mathrm{Punishment}&=\mathrm{punishment}(1)+\mathrm{punishment}(2)+\dots +\mathrm{punishment}(k)\\
&=t_1+20x_1 + t2+20x_2 + \dots t_k + 20x_k\\
&=(t_1+t_2+\dots t_k)+20(x_1 + x_2 + \dots x_k)
\end{aligned}
$$
即总罚时等于所有通过记录的时间之和加上 $20$ 倍的所有题目未通过次数。可以依据这个式子，来计算答案。

当读入到一条通过记录时，就给总时间加上该记录的时间，否则这条记录只会贡献 $20$ 分钟罚时。

#### 读入
首先读取有效提交记录的条数 `n`。
```cpp
int n;
cin >> n;
```
#### 计算罚时
依据说明完成即可。
```cpp
long long ans = 0;
for (int i = 0; i < n; ++i) {
    int a, b;
    cin >> a >> b;
    if (b) {
        ans += a; // 通过记录，加上通过时间
    } else {
        ans += 20; // 未通过记录，加上 20
    }
}
```
#### 输出
最后，输出计算出的总罚时。
```cpp
cout << ans << endl;
```
通过上述步骤，我们可以有效地计算出队伍在比赛中的总罚时。

---


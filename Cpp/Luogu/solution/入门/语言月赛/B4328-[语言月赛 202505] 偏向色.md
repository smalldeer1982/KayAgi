# [语言月赛 202505] 偏向色

## 题目背景

**Python 选手建议选择 PyPy3 提交本题。**

## 题目描述

RGB 颜色系统是计算机科学中常用的颜色系统，它通过元组 $(r,g,b)$ 描述一种颜色。其中 $r,g,b$ 是 $0\sim 255$ 范围的整数，依次表示该颜色偏向红色、绿色、蓝色的程度。

如果 $(r,g,b)$ 中某一种颜色的偏向程度，比其他两种颜色的偏向程度都高出至少 $k$，则称 $(r,g,b)$ 偏向这种颜色。

给出 $k$ 和颜色 $c$，请问偏向颜色 $c$ 的偏向色共有多少种。

## 说明/提示

对于 $100\%$ 的测试数据：

- $0 \le k \le 255$
- $c \in \{\texttt{r},\texttt{g},\texttt{b}\}$

## 样例 #1

### 输入

```
100
b```

### 输出

```
1277666```

# 题解

## 作者：览遍千秋 (赞：5)

## Source and Knowledge

2025 年 5 月语言月赛，由洛谷网校提供。

循环结构

---

## 文字题解

### 方法 1：循环

循环嵌套，通过枚举 $(r,g,b)$ 颜色对中每种颜色的值，判断是否满足偏向色的条件。

偏向的颜色 $c$ 对答案没有影响，相同的 $k$ 情况下，不同颜色的答案相同。

```cpp
for(int r = 0; r < 256; r++) {
    for(int g = 0; g < 256; g++) {
        for(int b = 0; b < 256; b++) {

        }
    }
}
```

### 方法 2：数学推导

假设颜色 $c$ 对应的颜色值为 $x$，此时其他两种颜色的颜色值最高为 $x-k$：
- 当 $x-k<0$，即 $x<k$，其他两种颜色不存在合法的颜色取值，不存在对应的 $(r,g,b)$ 颜色
- 当 $x-k\ge 0$，即 $k \le x \le 255$，其他两种颜色均可以取 $0\sim x-k$ 范围内的任意值。其他两种颜色每种有 $(x-k+1)$ 种颜色取值，根据乘法定理，当颜色 $c$ 取 $x$ 时，共有 $(x-k+1)^2$ 种颜色满足条件。

根据上述分析，当 $k\le x\le 255$ 时，$x$ 将对应 $(x-k+1)^2$ 种方案。记 $n=x-k+1$，有 $1\le n \le 256-k$，答案为 $\sum\limits_{i=1}^{256-k}{i^2}$。

> 平方和公式：$1^2+2^2+\cdots+w^2=\dfrac{w(w+1)(2w+1)}{6}$

因此，答案为 $\dfrac{(256-k)(256-k+1)[2(256-k)+1]}{6}$.

---


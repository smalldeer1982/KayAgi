# 求正整数 2 和 n 之间的完全数

## 题目描述

求正整数 $2$ 和 $n$ 之间的完全数（一行一个数）。

完全数：对于一个自然数，所有比它小的所有因数之和，等于它本身，它就是个完全数。如 $6=1+2+3$。

## 样例 #1

### 输入

```
10
```

### 输出

```
6
```

## 样例 #2

### 输入

```
100
```

### 输出

```
6
28
```

# 题解

## 作者：一只大龙猫 (赞：43)

[原题传送门](https://www.luogu.com.cn/problem/B2127)

对于这道题，我们可以打表做。

数据生成器如下：

```cpp
#include<iostream>
using namespace std;
bool check(int x){
	int sum=0;
	for(int i=1;i*i<=x;i++){//从1枚举到x的平方根就可以了，降低时间复杂度。 
		if(x%i==0){
			sum+=i;
			if(i*i!=x)sum+=x/i;//因为如果i是x的因数，则x/i也是x的因数。
			//但是如果x是平方数的话，则x的平方根会被重复计算，须加上特判。 
		}
	}
	return sum-x==x;
	//因为sum-x==x本身就是布尔表达式，所以可以直接返回。 
}
int main(){
	for(int i=2;i<=10000;i++){
		if(check(i))cout<<i<<endl;
	}
	return 0;
}

```

时间复杂度为 $O(n \sqrt n)$。

结果如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/aq7g70yj.png)

~~（我不会告诉你，在[百度百科](https://baike.baidu.com/item/%E5%AE%8C%E5%85%A8%E6%95%B0)里也能找到这个表……）~~

有了数据，我们便可以打表了：

```cpp
#include<iostream>
using namespace std;
int n;
int main(){
	ios::sync_with_stdio(0);
	cin>>n;
	if(n>=6)cout<<"6"<<endl;
	if(n>=28)cout<<"28"<<endl;
	if(n>=496)cout<<"496"<<endl;
	if(n>=8128)cout<<"8128"<<endl;
	return 0;
}

```


---

## 作者：ImposterAnYu (赞：22)

# 解析
想要做出这道题，首先要知道什么是完全数。完全数，即真因子之和等于它本身的自然数。比如 $6$ 的真因子有 $1$ 、 $2$ 、 $3$，$6 = 1 + 2 + 3$，所以 $6$ 是个完全数。

所以我们需要写一个函数，用来计算当前数 $s$ 的真因子之和（真因子：一个数所有不包括自身的因子）。

```cpp
int anyu(int s){
	int g = 0,i;
	for(i = 1; i < s; i++){
		if(s % i == 0)
		g += i;
	}
	return g;
}
```
然后在主函数里多次调用这个函数就好了。
```cpp
int main(){
	cin >> n;
	for(i = 6; i <= n; i++){
		if(anyu(i) == i) cout<< i << endl;
	}
    return 0;
}
```
# AC code
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,i;
int anyu(int s){
	int g = 0,i; 
	for(i = 1; i < s; i++){//找真因子。 
		if(s % i == 0){
			g += i;//如果该数是s的真因子，就计算累加的和。 
		}
	}
	return g;
}
int main(){
	cin >> n;
	for(i = 6; i <= n; i++){//因为最小的完全数是6，所以可以从6开始枚举。 
		if(anyu(i) == i) cout<< i << endl;//如果该数符合完全数条件，就输出这个数。 
	}
    return 0;
}

```

---

## 作者：Real_Create (赞：9)

根据题意进行模拟。先挨个判断是不是完全数，是的话就输出。

所以这题最难的是因数和……

然后打出代码。

```cpp
#include<bits/stdc++.h>
using namespace std;
inline int awa(int x)//因数和
{
	int ans=1;//1要算
	for(int i=2;i*i<=x;i++)//复杂度降低
	{
		if(x%i==0)//整除
		{
			ans+=i+x/i;//加上这个数和这个数的除数
			if(i*i==x)//平方数
			{
				ans-=i;//平方数会重复算
			}
		}
	}
	return ans;
}
int main()
{
	int n;
	cin>>n;
	for(int i=2;i<=n;i++)
	{
		if(awa(i)==i)
		{
			cout<<i<<endl;
		}
	}
	return 0;
}

```
然后我们用 10000 进行测试，发现只有4个，所以如何拿到最优解……

---

## 作者：清清老大 (赞：7)

## 思路

本题要求我们找出从 $2$ 到 $n$ 之间的完全数。完全数是因子之和等于它本身的自然数，例如， $6$ 的因子是 $1,2,3$ ，而 $1+2+3=6$，所以 $6$ 是完全数。

我们可以写一个函数来判断一个数是否是完全数。函数接受一个数 $n$ ，当 $n$ 为完全数时返回 $1$ ，当 $n$ 不是完全数时返回 $0$ 。在函数内部，我们通过枚举得出 $n$ 的因子，算出它们的和，最后判断是否等于 $n$ 。

## 代码

```cpp
#include<bits/stdc++.h>

using namespace std;

int check(int n)
{
    int ans = 0;
    for(int i = 1;i < n;i ++)
    {
        if(n % i == 0)
        {
            ans += i;
        }
    }
    if(ans == n)
    {
        return 1;
    }
    else
    {
        return 0;
    }
}

int main()
{
    int n;
    cin >> n;
    for(int i = 2;i <= n;i ++)
    {
        if(check(i) == 1)
        {
            cout << i << endl;
        }
    }
    return 0;
}
```


---


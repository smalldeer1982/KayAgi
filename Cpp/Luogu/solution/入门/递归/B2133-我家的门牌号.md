# 我家的门牌号

## 题目描述

我家住在一条短胡同里，这条胡同的门牌号从 $1$ 开始顺序编号。

若其余各家的门牌号之和减去我家门牌号的两倍，恰好等于 $n$，求我家的门牌号及总共有多少家。数据保证有唯一解。

## 样例 #1

### 输入

```
100
```

### 输出

```
12 16
```

# 题解

## 作者：ImposterAnYu (赞：46)

# 解析
设“我家的门牌号”为 $x$，胡同里总共有 $y$ 家，则：

$n = 1 + 2 + 3 + ...... + (x - 1) + (x + 1) + ...... + y - 2x$

因此，我们又可以得到：

$n = 1 + 2 + 3 + ...... + (x - 1) + x + (x + 1) + ...... + y - 3x$

化简后可得：

$n = \dfrac{y(y + 1)}{2} - 3x$

因为 $n < 100000$，范围比较小，所以我们可以直接开双重循环枚举 $x$ 和 $y$！
# AC code
```cpp
#include <bits/stdc++.h>
using namespace std;
int n,i,j;
int main(){
	cin >> n;
	for(i = 1; ; i++){
		for(j = 1; j <= i; j++){//双重循环枚举。 
			if(i * (i + 1) / 2 - 3 * j == n){
				cout<< j << " " << i << endl;
				return 0;//一旦符合条件就输出并结束程序。 
			}
		}
	}//因为程序会提前结束，所以最后可以不写return 0！ 
}
```


---

## 作者：可爱的小于 (赞：15)

这题为枚举题。

根据题意，我们需要直接使用双重循环枚举，枚举出总户数以及门牌号。

其中我家的门牌号乘 $3$ 就为总户数门牌号总和。


代码如下：

```cpp
#include <bits/stdc++.h>
using namespace std;
int main()
{
	long long n,sum=0;
	cin >> n;
	for(int i=1;;i++)
	{
		sum+=i;
		for(int j=1;j<=i;j++)
			if(sum-j*3==n)
				cout << j << " " << i <<endl,exit(0);
	}
	return 0;
}
```


---

## 作者：user470883 (赞：10)

我家住在一条短胡同里，这条胡同的门牌号从 1开始顺序编号。

若其余各家的门牌号之和减去我家门牌号的两倍，恰好等于 $n$，求我家的门牌号及总共有多少家。数据保证有唯一解。

**思路**

还记不记得一句话——万能的暴力。

这题套一下试试吧！

暴力：枚举：

通过题目，我们用双层循环枚举俩数：

1. 总共多少户
 
2. 我家的门牌号

通过我家门牌号的三倍等于总户数的和这个条件，程序就写出来了。

代码：

```
#include <bits/stdc++.h>
using namespace std;

int main()
{
	long long n,sum=0;
	cin >> n;
	for(int i=1;;i++)
	{
		sum+=i;
		for(int j=1;j<=i;j++)
			if(sum-j*3==n)
				cout << j << " " << i <<endl,exit(0);
	}
	return 0;
}
```
完美解决！

---

## 作者：StayAlone (赞：7)

[B2133](https://www.luogu.com.cn/problem/B2133)  

**文章中的 \* 表示在文后有注释。**
### 题意

给定一个 $n$，要求找到一个 $m$ 和 $k$，使得 $\sum\limits_{i=1}^{k}i - 3m = n^{*1}$。

### 思路
一个循环枚举 $k$，用 $sum$ 表示 $\sum\limits_{i=1}^{k}i$，则 $m = \frac{(sum - n)}{3}$。  

由于门牌号从 $1$ 开始，且是整数，则 $m \geqslant 1\land (sum - n) \texttt{ mod } 3 = 0^{*2}$，  
故 $(sum - n) \geqslant 1 \land (sum - n) \texttt{ mod } 3 = 0$时，$m$ 和 $k$ 合法，输出后直接结束程序。  

注：  
1. $\sum\limits_{i=1}^{k}i$ 表示 $1 + 2 + \cdots + k$。
1. $\land$ 表示左右两边的条件均成立时成立，等价于 C/C++ 里面的 `&&`，Python 里面的 `and`。  
相应的，$\lor$ 表示左右两边的条件有一个成立时成立，等价于 C/C++ 里面的 `||`，Python 里面的 `or`。

[AC code记录](https://www.luogu.com.cn/record/52352917)
```cpp
#include <bits/stdc++.h>
using namespace std;
int n, sum;

int main()
{
    scanf("%d", &n);
    for (int i = 1; ; ++i)
    {
        sum += i;
        if ((sum - n) > 0 && (sum - n) % 3 == 0) return printf("%d %d", (sum - n) / 3, i), 0;
    }
}
```

---

## 作者：Eason_AC (赞：7)

## Update
- $\texttt{2021.11.27}$ 修复了代码中的 $10000$ 写成 $n$ 的错误。
## Content
一个家庭住在一个胡同里面，门牌号从 $1$ 开始编号。其余门牌号的和减去这个家庭的门牌号的两倍恰好等于 $n$，求这个家庭的门牌号和胡同的门牌号总数。

**数据范围：$n<10^5$。**
## Solution
如果设胡同的门牌号总数为 $m$，并设这个家庭的门牌号为 $k$，则由题意可得（其中 $[i\neq k]$ 表示如果 $i\neq k$，则这个值为 $1$，否则为 $0$）：

$$\sum\limits_{i=1}^mi[i\neq k]-2k=n$$

如果我们把这个 $\sum\limits_{i=1}^mi[i\neq k]$ 转化一下：

$$\begin{aligned}1+2+\dots+k-1+k+1+\dots+m&=1+2+\dots+m-k\\&=\sum\limits_{i=1}^mi-k\end{aligned}$$

所以：

$$\begin{aligned}\sum\limits_{i=1}^mi-k-2k&=n\\3k&=\sum\limits_{i=1}^mi-n\\k&=\dfrac{\sum\limits_{i=1}^mi-n}{3}\end{aligned}$$

用等差数列求和公式将 $\sum\limits_{i=1}^mi$ 转化为 $\dfrac{m(m+1)}2$ 可得：

$$k=\dfrac{\dfrac{m(m+1)}2-n}3$$

因此，我们可以枚举 $m$，然后是否满足以下两个条件：

- $\dfrac{m(m+1)}2>n$。
- $3\mid(\dfrac{m(m+1)}2-n)$（表示 $3$ 能整除 $\dfrac{m(m+1)}2-n$)。

可以发现，一旦满足了以上两个条件，$m$ 此时的值依然很小，因此这样枚举是可以通过这道题的。
## Code
```cpp
#include <cstdio>
using namespace std;

int main() {
    int n; scanf("%d", &n);
    for(int i = 1; i <= 10000; ++i) {
        int ans = 1ll * i * (i + 1) / 2;
        if(ans > n && !((ans - n) % 3)) {printf("%d %d", (ans - n) / 3, i); return 0;}
    }
    return 0;
}
```

---

## 作者：Kingna (赞：6)

### 直接枚举。

第一层循环：枚举小胡同里面有多少家，设为 $i$ 。

第二层循环：枚举你家的编号是多少，设为 $j$ 。

循环内部：若 $(i-j)-2*j=n$ 输出 $j$ 和 $i$ 。

这个做法显然不是最优的，所以还有个做法
### 推式子

首先设 $a_1$ , $a_2$ ,$a_3$ $......$ $a_n$ 为每家门牌号，然后设 $a_k$ 为你家。

然后根据题意， $a_1+a_2+a_3+.....+a_n-3*a_j=n$ , 

化简得：$a_j=\dfrac {(a_1+a_n)*n/2-n}  3$

所以保证两个事情：
1. $(a_1+a_n)*n/2>n$

2. $3∣\dfrac {(a_1+a_n)*n} 2-n$

所以就直接枚举 $n$ 就可以啦！

---


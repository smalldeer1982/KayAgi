# [è“æ¡¥æ¯ 2023 å›½ Python A] 2023

## é¢˜ç›®èƒŒæ™¯

å»ºè®®ä½¿ç”¨ PyPy3 æäº¤æœ¬é¢˜ã€‚

## é¢˜ç›®æè¿°

ç»™å®š $n, m$ï¼Œè¯·æ±‚å‡ºæ‰€æœ‰ $n$ ä½åè¿›åˆ¶æ•´æ•°ä¸­æœ‰å¤šå°‘ä¸ªæ•°ä¸­æ°å¥½å‡ºç°äº† $m$ ä¸ª $2023$ã€‚

ä¾‹å¦‚ $00202312023$ æ˜¯ä¸€ä¸ª $11$ ä½çš„å‡ºç°äº† $2$ ä¸ª $2023$ çš„åè¿›åˆ¶æ•´æ•°ã€‚

ç”±äºç»“æœå¯èƒ½å¾ˆå¤§ï¼Œè¯·è¾“å‡ºç­”æ¡ˆå¯¹ $998,244,353$ å–æ¨¡çš„ç»“æœã€‚




## è¯´æ˜/æç¤º

å¯¹äº $40\%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$n \le 10^5,m \le 10$ï¼›

å¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$4 \le n \le 10^5,0 \le 4m \le n$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
5 1```

### è¾“å‡º

```
20```

# é¢˜è§£

## ä½œè€…ï¼šCOsm0s (èµï¼š5)

[äºŒé¡¹å¼åæ¼”ã€‚](https://zhuanlan.zhihu.com/p/602675596)

é¢˜ç›®é‡Œæœ‰â€œæ°å¥½â€çš„æ ‡å¿—ï¼Œå¥—è·¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒè½¬åŒ–ä¸ºè‡³å¤š/è‡³å°‘åå†å®¹æ–¥å›æ¥ã€‚

å½“æˆ‘ä»¬å·²ç»ç¡®å®š $k$ ä¸ª $2023$ å›ºå®šåœ¨è¿™ä¸ªæ•°ä¸­æ—¶ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå‰©ä½™çš„ $n-4k$ ä¸ªæ•°å°±å¯ä»¥éšä¾¿é€‰â€”â€”å‰ææ˜¯ä¸èƒ½æœ‰ $2023$ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å‰©ä½™çš„æ•°éšä¾¿é€‰æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼š**å¤šé€‰**è‹¥å¹²ä¸ª $2023$ã€‚

å¾ˆå®¹æ˜“æƒ³åˆ°è¿™å¯ä»¥è½¬åŒ–æˆâ€œè‡³å°‘â€çš„å½¢å¼ã€‚

é‚£ä¹ˆé—®é¢˜å°±è½¬åŒ–æˆäº†ä¸¤éƒ¨åˆ†ï¼š

+ éšä¾¿é€‰å‰©ä½™çš„æ•°ã€‚

+ ç”±â€œè‡³å°‘â€æ¨å‘â€œæ°å¥½â€ã€‚

æˆ‘ä»¬å…ˆæ¥çœ‹ç¬¬ä¸€éƒ¨åˆ†ã€‚

å½“ç¡®å®š $k$ ä¸ª $2023$ æ—¶ï¼Œæˆ‘ä»¬æœ‰ $k+1$ ä¸ªç©ºå¯ä»¥æ’å…¥é‚£äº›éšä¾¿é€‰çš„æ•°å­—ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

`x2023x2023x2023x`

å…¶ä¸­ `x` ä»£è¡¨çš„æ˜¯ä¸€å †éšä¾¿é€‰çš„æ•°å­—ã€‚

è¿™æ˜¯ä¸ªç»å…¸çš„éš”æ¿æ³•ï¼Œè®²è¿™äº›æ•°å­—åˆ†åˆ° $k+1$ ä¸ªç©ºçš„æ–¹æ¡ˆæ•°ä¸º ï¼š
$$\binom{(p-4k)+(k+1)-1}{(k+1)-1}$$

åˆå› ä¸ºé¢˜ç›®æ˜ç¤ºäº†æˆ‘ä»¬å‰å¯¼é›¶çš„åˆæ³•ï¼Œæ‰€ä»¥å†ä¹˜ä¸Šæ¯ä¸ªæ•°éƒ½æœ‰çš„ $0\sim 9$ çš„ $10$ ç§æ–¹æ¡ˆæ•°ï¼Œå³ä¸ºéšä¾¿é€‰çš„æ•°çš„æ–¹æ¡ˆã€‚

ç¬¬äºŒéƒ¨åˆ†ï¼Œç›´æ¥å¥—å…¬å¼å³å¯ã€‚


```cpp
#include<bits/stdc++.h>
using namespace std;
#define int long long
const int maxn = 1e6 + 5, N = 5e5 + 5, mod = 998244353;
int qpow(int b, int p) {
	int res = 1;
	while (p) {
		if (p & 1) {
			res = res * b % mod;
		}
		b = b * b % mod;
		p >>= 1;
	}
	return res;
}

int n, k, fac[maxn], ifac[maxn], g[N];

inline void init() {
	fac[0] = 1;
	for (int i = 1; i <= N; i ++) {
		fac[i] = fac[i - 1] * i % mod;
	}
	ifac[N] = qpow(fac[N], mod - 2);
	for (int i = N - 1; ~i; i --) {
		ifac[i] = ifac[i + 1] * (i + 1) % mod;
	}
}

inline int C(int n, int m) {
	if (n < m || n < 0 || m < 0) {
		return 0;
	} else {
		return fac[n] * ifac[m] % mod * ifac[n - m] % mod;
	}
}
signed main() {
	cin >> n >> k, init();
	for(int m = k; m <= n / 4; m ++) {
		int p = n - 4 * m;
		g[m] = C(p + m, m) * qpow(10, p) % mod;
	}
	int ans = 0;
	for(int i = n / 4; i >= k; i --) {
		if(i - k & 1) ans = (ans - C(i, k) * g[i] % mod + mod) % mod;
		else ans = (ans + C(i, k) * g[i] % mod) % mod;
	}
	cout << ans << '\n';
	return 0;
}
```

---

## ä½œè€…ï¼šLogicLiu (èµï¼š4)

å‰æƒ…æè¦ï¼šè¿™æ˜¯ä¸€ç¯‡çæé¢˜è§£ï¼Œæƒ³çœ‹ç»„åˆæ•°å­¦/äºŒé¡¹å¼åæ¼”çš„è§£æ³•è¿˜æ˜¯çœ‹åˆ«çš„å­ã€‚
****
å‰ç½®çŸ¥è¯†ï¼šKMPã€NTT

é¢˜ç›®è¦æ±‚æˆ‘ä»¬è®¡ç®—ï¼Œç»™å®š $n$ ä½åè¿›åˆ¶æ•°ä¸­ï¼Œæ°å¥½åŒ…å« $ğ‘š$ æ¬¡å­ä¸² $2023$ çš„æ•°çš„ä¸ªæ•°ã€‚ç”±äºç»“æœå¯èƒ½å¾ˆå¤§ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç­”æ¡ˆå–æ¨¡ $998244353$ã€‚

é‚£æˆ‘ä»¬æœ‰ä¸€ä¸ªå¾ˆ~~é€†å¤©~~è‡ªç„¶çš„è§£æ³•â€”â€”è®¡ç®—æ•°å­—åºåˆ—ä¸­ä¸å« $2023$ çš„æ–¹æ¡ˆæ•°ã€‚

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ KMP æ¥é¿å…è‡ªå·±åœ¨æ„é€ ä¸å« $2023$ã€‚

ç„¶åè¿›è¡ŒåŠ¨æ€è§„åˆ’ã€‚

å®šä¹‰ $dp_{len,s}$ è¡¨ç¤ºé•¿åº¦ä¸º $len$ ä¸”å¤„äºçŠ¶æ€ $s$ çš„åˆæ³•åºåˆ—æ•°ï¼Œå…¶ä¸­ $s$ è¡¨ç¤ºåœ¨æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºä¸­çš„çŠ¶æ€,æœ‰è½¬ç§»ï¼š

$$dp_{len,s}=\sum_{d=0}^{9}dp_{len-1,t}$$

å…¶ä¸­ï¼š

$$t=nxt_{s,d}$$

å®šä¹‰ç”Ÿæˆå‡½æ•° $F(x)$ è¡¨ç¤ºé•¿åº¦ä¸º $x$ çš„æ•°å­—åºåˆ—ä¸­ä¸åŒ…å« $2023$ çš„æ–¹æ¡ˆæ•°ï¼Œè®°ä¸ºï¼š

$$F(x)=\sum_{k=0}^{\infty}x^k\sum_{s=0}^{3}dp_{k,s}$$

å®šä¹‰ $R$ ä¸ºé€‰å» $2023$ åçš„å‰©ä½™ä½ç½®ï¼Œæ˜“è§ï¼š

$$R=n-4m$$

ç„¶åï¼Œå‰©ä½™æ•°å­—åˆ†å¸ƒåœ¨ $m+1$ ä¸ªåŒºé—´ä¸­ï¼Œæ¯ä¸ªåŒºé—´å†…çš„æ•°å­—åºåˆ—å‡ä¸èƒ½åŒ…å« $2023$ï¼Œå…¶æ–¹æ¡ˆæ•°ç”±ç”Ÿæˆå‡½æ•° $F(x)$ ç»™å‡ºï¼Œå…¶  $F(x)$ è¡¨ç¤ºé•¿åº¦ä¸º $x$ çš„åˆæ³•æ•°å­—åºåˆ—æ•°ã€‚

å¯¹äº $R<0$ çš„æƒ…å†µç›´æ¥è¾“å‡º $0$ å³å¯ã€‚å¯¹äº $m=0$ ç›´æ¥è¾“å‡ºé¢„å¤„ç†åçš„ $F(n)$ å³å¯ã€‚

æ¥ä¸‹æ¥ç€é‡è®²å¯¹äº $m>0$ çš„æƒ…å†µï¼š

ç”±äºæ•´ä½“æ–¹æ¡ˆæ•°æ˜¯ $m+1$ ä¸ªåŒºé—´çš„æ•°å­—åºåˆ—ç»„åˆï¼Œå³ç­‰ä»·äºå¤šé¡¹å¼ $F^{m+1}$ï¼Œç­”æ¡ˆä¸ºè¯¥å¤šé¡¹å¼ä¸­ $x^R$ é¡¹çš„ç³»æ•°ã€‚ç”±äºé¢˜ç›®ä»…è¦æ±‚æˆ‘ä»¬æ±‚ç¬¬ $R$ é¡¹çš„ç³»æ•°ï¼Œåœ¨å®ç°ä¸­å¯ä»¥ä»…ä¿ç•™ $R$ é¡¹ã€‚

è€ƒè™‘å¤šé¡¹å¼å¿«é€Ÿå¹‚ï¼Œç”±äº $n\leq 10^5$ è¾ƒå¤§ã€‚è€ƒè™‘ä½¿ç”¨ NTT ä¼˜åŒ–å¤šé¡¹å¼ä¹˜æ³•ã€‚

ç„¶åå¤šé¡¹å¼å¿«é€Ÿå¹‚è°ƒç”¨å³å¯ã€‚èƒ½å¤Ÿé€šè¿‡æ­¤é¢˜ã€‚

ä»£ç è§ä¸‹ï¼š
```cpp
#include <bits/stdc++.h>
using namespace std;
const int mod = 998244353;
int qpow (int a, int b) {
    int res = 1;
    while(b > 0){
        if(b & 1)
            res = (int)((1LL * res * a) % mod);
        a = (int)((1LL * a * a) % mod);
        b >>= 1;
    }
    return res;
}
void ntt(vector<int> & a, bool inv) {
    int n = a.size();
    for (int i = 1, j = 0; i < n; i++) {
        int bit = n >> 1;
        for (; j & bit; bit >>= 1)
            j -= bit;
        j += bit;
        if (i < j)
            swap(a[i], a[j]);
    }
    for (int len = 2; len <= n; len <<= 1) {
        int wlen = qpow(3, (mod - 1) / len);
        if (inv)
            wlen = qpow(wlen, mod - 2); 
        for (int i = 0; i < n; i += len) {
            int w = 1;
            for (int j = 0; j < len/2; j++) {
                int u = a[i+j];
                int v = (int)((1LL * a[i+j+len/2] * w) % mod);
                a[i+j] = u + v < mod ? u + v : u + v - mod;
                a[i+j+len/2] = u - v >= 0 ? u - v : u - v + mod;
                w = (int)((1LL * w * wlen) % mod);
            }
        }
    }
    if (inv) {
        int n_inv = qpow(n, mod - 2);
        for (int & x : a)
            x = (int)((1LL * x * n_inv) % mod);
    }
}
vector<int> poly_mul(const vector<int>& a, const vector<int>& b, int rLimit) {
    int n = a.size(), m = b.size();
    int sz = 1;
    while (sz < n + m - 1)
        sz *= 2;
    vector<int> fa(a.begin(), a.end()), fb(b.begin(), b.end());
    fa.resize(sz);
    fb.resize(sz);
    ntt(fa, false);
    ntt(fb, false);
    for (int i = 0; i < sz; i++) {
        fa[i] = (int)((1LL * fa[i] * fb[i]) % mod);
    }
    ntt(fa, true);
    int newSize = min((int)(n + m - 1), rLimit + 1);
    fa.resize(newSize);
    return fa;
}
vector<int> poly_pow(vector<int> poly, int b, int rLimit) {
    vector<int> result(1, 1); 
    while(b > 0) {
        if(b & 1)
            result = poly_mul(result, poly, rLimit);
        poly = poly_mul(poly, poly, rLimit);
        b >>= 1;
    }
    return result;
}
void kmp(vector<vector<int>> &nxt) {
    string pat = "2023";
    int M = pat.size();
    vector<int> pi(M, 0);
    for (int i = 1; i < M; i++) {
        int j = pi[i-1];
        while(j > 0 && pat[i] != pat[j])
            j = pi[j-1];
        if(pat[i] == pat[j])
            j++;
        pi[i] = j;
    }
    nxt.assign(M, vector<int>(10, 0));
    for (int s = 0; s < M; s++) {
        for (int d = 0; d < 10; d++) {
            char c = '0' + d;
            int x = s;
            while(x > 0 && pat[x] != c)
                x = pi[x-1];
            if(pat[x] == c)
                x++;
            if(x == M) {
                nxt[s][d] = -1;
            } else {
                nxt[s][d] = x;
            }
        }
    }
}
vector<int> computeF(int L_max) {
    int M = 4;
    vector<vector<int>> nxt;
    kmp(nxt);
    vector<vector<int>> dp(L_max+1, vector<int>(M, 0));
    dp[0][0] = 1;
    vector<int> F(L_max+1, 0);
    F[0] = 1;
    for (int len = 0; len < L_max; len++) {
        for (int s = 0; s < M; s++) {
            if (dp[len][s] == 0) continue;
            for (int d = 0; d < 10; d++) {
                int ns = nxt[s][d];
                if (ns == -1)
                    continue;
                dp[len+1][ns] = (dp[len+1][ns] + dp[len][s]) % mod;
            }
        }
        int sum = 0;
        for (int s = 0; s < M; s++)
            sum = (sum + dp[len+1][s]) % mod;
        F[len+1] = sum;
    }
    return F;
}
int main(){
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    int n, m;
    cin >> n >> m;
    if(4 * m > n) {
        cout << 0 << "\n";
        return 0;
    }
    if(m == 0) {
        vector<int> F = computeF(n);
        cout << F[n] % mod << "\n";
        return 0;
    }
    int R = n - 4 * m;
    vector<int> F = computeF(R);
    vector<int> polyPow = poly_pow(F, m + 1, R);
    int ans = 0;
	ans = polyPow[R];
    cout << ans % mod << "\n";
    return 0;
}
```

---

## ä½œè€…ï¼šqzmoot (èµï¼š3)

# é¢˜è§£ï¼šP10986 [è“æ¡¥æ¯ 2023 å›½ Python A] 2023
## é¢˜ç›®å¤§æ„
ç»™ä½ ä¸€ä¸ªä½æ•° $n$ï¼Œè¯¢é—®æœ‰å¤šå°‘æé•¿åº¦ä¸º $n$ çš„æ•°ä¸­æ°å¥½æœ‰ $m$ ä¸ª $2023$ã€‚å¯ä»¥æœ‰å‰å¯¼é›¶ã€‚
## åˆ†æ
é¦–å…ˆæˆ‘ä»¬çš„æ€è·¯å¾ˆç®€å•ï¼Œå‡è®¾ä¸è€ƒè™‘æ˜¯æ°å¥½ï¼Œè€Œæ˜¯è‡³å°‘ï¼Œæˆ‘ä»¬ä¼šåˆ—å‡ºä»€ä¹ˆå¼å­ã€‚æˆ‘ä»¬æŠŠæ¯ä¸ª $2023$ æ†ç»‘åœ¨ä¸€èµ·ï¼Œç„¶åè¿›è¡Œæ’æ¿æ³•ï¼Œæ ¹æ®å…¬å¼å¯ä»¥å¾—åˆ°å¦‚æœæ˜¯è‡³å°‘æœ‰ $m$ ä¸ªçš„è¯ï¼Œ

$F(m)=10^{n-4\times m}\times \binom{n-4\times m+m+1-1}{m+1-1}=10^{n-4\times m}\times\binom{n-3\times m}{m}$

ä¹˜ä¸Š $10^{n-4\times m}$ æ˜¯å› ä¸ºä¸éœ€è¦è€ƒè™‘å‰å¯¼é›¶çš„å­˜åœ¨ã€‚

æ±‚å‡ºè‡³å°‘ä¹‹åï¼Œæˆ‘ä»¬æ€è€ƒè¿™ä¹ˆæ±‚æ°å¥½ä¸º $m$ï¼Œå®¹æ–¥çš„æ€æƒ³å°±å‘¼ä¹‹æ¬²å‡ºäº†ã€‚ä¸éš¾å†™å‡ºå¼å­å°±æ˜¯ï¼š

$\sum_{i=m}^{\frac{n}{4}} (-1)^{i-m}\times \binom{i}{m}\times F(i)$

è¿™é‡Œçš„ $\frac{n}{4}$ ä¸ºä¸Šç•Œæ˜¯å› ä¸º $2023$ æœ‰å››ä½ï¼Œæ‰€ä»¥æœ€å¤šåªæœ‰ $\frac{n}{4}$ ä¸ªã€‚ç„¶åä½ å°±ä¼šå‘ç°ä¸Šé¢è¿™ç©æ„å…¶å®å°±æ˜¯äºŒé¡¹å¼åæ¼”ï¼Œä¼šèƒŒæ˜¯æ˜¯å•¥å…¬å¼å°±è¡Œäº†ã€‚
## ä»£ç 
```cpp
#include <bits/stdc++.h>
#define int long long
using namespace std;
const int N=1e6+5,mod=998244353; 
int n,m;
int fs[N],inv[N];
int qpow(int a,int b)//å¿«é€Ÿå¹‚ 
{
	int res=1;
	while(b)
	{
		if(b&1)
			res=res*a%mod;
		a=a*a%mod;
		b>>=1;
	}
	return res;
}
int C(int nn,int mm)//ç»„åˆæ•° 
{
	if(mm>nn || nn<0 || mm<0)
		return 0;
	return fs[nn]*inv[mm]%mod*inv[nn-mm]%mod;
}
int F(int x)//ç®—è‡³å°‘ä¸ºmçš„å‡½æ•° 
{
	return qpow(10,n-4*x)*C(n-3*x,x)%mod;
}
int ans;
signed main()
{
	scanf("%lld%lld",&n,&m);
	fs[0]=inv[0]=1;//é¢„å¤„ç†é€†å…ƒ 
	for(int i=1;i<=N-5;i++)
		fs[i]=fs[i-1]*i%mod;
	for(int i=1;i<=N-5;i++)
		inv[i]=qpow(fs[i],mod-2);//æˆ‘æ‡’å¾—å†™çº¿æ€§ï¼Œæ‰€ä»¥å†™äº†nlognçš„ç‰ˆæœ¬ 
	for(int i=m;i<=n/4;i++)
		ans=(ans+(((i-m)&1)?-1:1)*C(i,m)*F(i)%mod+mod)%mod;//å¥—å¼å­ 
	printf("%lld",ans);
	return 0;
}
```
é‚£ä¹ˆè¿™é“é¢˜ç›®å°±å¾ˆç®€å•åœ°å®Œæˆäº†å‘¢ï¼Œä¸ªäººæ„Ÿè§‰æ˜¯æœ‰è“çš„éš¾åº¦äº†ã€‚

---

## ä½œè€…ï¼šZZA000HAH (èµï¼š1)

# [è“æ¡¥æ¯ 2023] 2023

## é¢˜ç›®åˆ†æ

### é¢˜ç›®å¤§æ„

ç»™å‡ºä¸¤ä¸ªæ­£æ•´æ•° $n,m$ï¼Œæ±‚åœ¨ $n$ ä½åè¿›åˆ¶æ•°ä¸­æ°å¥½æœ‰ $m$ ä¸ª $2023$ çš„æ•°å­—ä¸ªæ•°ï¼Œå…è®¸å«æœ‰å‰å¯¼é›¶ã€‚

### é¢˜ç›®æ€è·¯

ä½¿ç”¨**äºŒé¡¹å¼åæ¼”**å°†é—®é¢˜è½¬åŒ–ä¸ºè®¡ç®—è‡³å°‘å‡ºç° $k$ ä¸ª $2023$ çš„æ–¹æ¡ˆæ•°ï¼Œç„¶åé€šè¿‡**å®¹æ–¥åŸç†**å¾—åˆ°æ°å¥½å‡ºç° $m$ ä¸ªçš„æ–¹æ¡ˆæ•°ã€‚

**ç»„åˆè®¡æ•°**ï¼š

1. åœ¨ $n$ ä½ä¸­é€‰å‡º $k$ ä¸ª $2023$ å¯ä»¥é€šè¿‡ç¡®å®šé¦–ä½ç½®çš„æ–¹å¼æ¥ç¡®å®š $2023$ çš„ä½ç½®ï¼Œåˆ™è½¬åŒ–æˆåœ¨ $n-3k$ ä¸ªæ•°é‡Œé€‰å‡º $k$ ä¸ªæ•°ï¼›
2. é€‰å‡º $k$ ä¸ª $2023$ï¼Œåˆ™å‰©ä½™ $n-4k$ ä½ï¼Œç”±äºå…è®¸å‰å¯¼é›¶å­˜åœ¨ï¼Œæ•…æ¯ä¸€ä½éƒ½å¯ä»¥å¡« $0-9$ çš„ä»»ä½•æ•°å­—ï¼Œæ•…å‰©ä½™é¡¹æ–¹æ¡ˆæ•°ä¸º $10^{n-4k}$ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨ $n$ ä½åè¿›åˆ¶æ•°ä¸­è‡³å°‘å‡ºç° $k$ ä¸ª $2023$ çš„æ–¹æ¡ˆæ•°ä¸º $g(k)={n-3k\choose k}\times 10^{n-4k}$ã€‚

ä¹Ÿå¯ä»¥ä½¿ç”¨**éš”æ¿æ³•**æ¥å¾—å‡ºï¼š

1. æœ‰ $k$ ä¸ª $2023$ ä½œä¸ºéš”æ¿ï¼Œåˆ™æœ‰ $k+1$ ä¸ªå¯æ‘†æ”¾çš„ä½ç½®ï¼›
2. æœ‰ $n-4k$ ä¸ªâ€œä½â€çš„è‡ªç”±ä½ç½®ã€‚

ä½¿ç”¨éš”æ¿æ³•ï¼šå°† $n-4k$ ä¸ªè‡ªç”±ä½ç½®åˆ†é…åˆ° $k+1$ ä¸ªä½ç½®ä¸Šï¼Œç›¸å½“äºè§£æ–¹ç¨‹ï¼š
$$x_1+x_2+x_3+......+x_{k+1}=n-4k,x_i \ge 0$$
ä»¤ $y_i=x_i+1$ï¼Œåˆ™
$$y_1+y_2+y_3+......+y_{k+1}=n-4k+k+1,y_i \ge 1$$
ç›¸å½“äºåœ¨ $n-4k+k+1=n-3k+1$ ä¹‹é—´æ”¾ $k$ ä¸ªéš”æ¿ï¼ˆå½¢æˆ $k+1$ ä¸ªé—´éš™ï¼‰ï¼Œå› ä¸º $y_i \ge 1$ï¼Œæ‰€ä»¥æœ‰ $n-3k$ ä¸ªå¯æ”¾éš”æ¿çš„é—´éš™ï¼Œæ‰€ä»¥æ–¹æ¡ˆæ•°ä¸º ${n-3k\choose k}$ã€‚


**å®¹æ–¥åŸç†**ï¼š

ä»¤ $A_i$ ä¸ºè‡³å°‘å­˜åœ¨ $i$ ä¸ªï¼Œ$B_i$ ä¸ºæ°å¥½å­˜åœ¨ $i$ ä¸ªï¼Œæœ€å¤šå­˜åœ¨ $n$ ä¸ªï¼Œå®¹æ–¥åŸç†åˆ™ä¸º $A_1=B_1-B_2+B_3-B_4+......+(-1)^{n-1} \times B_n$ ä¹Ÿå°±æ˜¯ $A_1=\sum_{i=1}^{n} (-1)^{n-1} \times B_i$ã€‚

**äºŒé¡¹å¼åæ¼”**ï¼š

**ä»¤**ï¼š
1. $f(k)$ï¼šæ°å¥½å‡ºç° $k$ ä¸ª $2023$ çš„ $n$ ä½æ•°å­—ä¸²çš„ä¸ªæ•°ã€‚
2. $g(k)$ï¼šè‡³å°‘å‡ºç° $k$ ä¸ª $2023$ çš„ $n$ ä½æ•°å­—ä¸²çš„ä¸ªæ•°ï¼ˆæŒ‡å®š $k$ ä¸ªä½ç½®ï¼‰ã€‚

åˆ™å­˜åœ¨**åŸºæœ¬å…³ç³»**ï¼š
$$g(k)=\sum_{i=k}^{\lfloor n/4\rfloor} {i \choose k} \times f(i)$$

è§£é‡Šï¼šè‹¥ä¸€ä¸ªæ•°å­—ä¸²å®é™…æœ‰ $i$ ä¸ª $2023$ï¼ˆ$i \geq k$ï¼‰ï¼Œé€‰æ‹©å…¶ä¸­ä»»æ„ $k$ ä¸ªä½ç½®ä½œä¸ºæŒ‡å®šä½ç½®ï¼Œåˆ™å…±æœ‰ $\binom{i}{k}$ ç§é€‰æ‹©æ–¹å¼ï¼Œå› æ­¤ $f(i)$ ä¼šè¢«è®¡å…¥ $g(k)$ ä¸­ $\binom{i}{k}$ æ¬¡ã€‚

**äºŒé¡¹å¼åæ¼”å®šç†**ï¼š
$$f(n)=\sum_{i=0}^{n} {n \choose i} g(i)\Leftrightarrow g(n)=\sum_{i=0}^{n} (-1)^{n-i} {n \choose i} f(i)$$

**å˜ä½“**ï¼š
$$f(n)=\sum_{i=n}^{m} {i \choose n} g(i)\Leftrightarrow g(n)=\sum_{i=n}^{m} (-1)^{i-n} {i \choose n} f(i)$$

**æ•…å¯å¾—å‡º**ï¼š
$$f(k)=\sum_{i=k}^{\lfloor n/4\rfloor} (-1)^{i-k} {i\choose k} g(i)$$

å…¶ä¸­ï¼Œ$g(i)$ çš„è®¡ç®—åœ¨ä¸Šè¿°**ç»„åˆè®¡æ•°**ä¸­ã€‚

**æœ€ç»ˆå…¬å¼**ï¼š
$$f(m)=\sum_{k=m}^{K} (-1)^{k-m} \times {k\choose m} \times g(k)$$
å…¶ä¸­ $K=\lfloor n/4\rfloor$ å³ $n$ ä½åè¿›åˆ¶æ•°ä¸­æœ€å¤§çš„ $2023$ å¯èƒ½å‡ºç°çš„ä¸ªæ•°ï¼Œ$g(k)={n-3k\choose k}\times 10^{n-4k}$ å³ $n$ ä½åè¿›åˆ¶æ•°ä¸­è‡³å°‘å‡ºç° $k$ ä¸ª $2023$ çš„æ•°å­—ä¸ªæ•°ã€‚

## çŸ¥è¯†æ€»ç»“

### æ•°å­¦çŸ¥è¯†

1. äºŒé¡¹å¼å®šç†
2. äºŒé¡¹å¼åæ¼”
3. å®¹æ–¥åŸç†
4. ç»„åˆæ•°å­¦æ¦‚å¿µã€è¡¨ç¤ºåŠå…¬å¼
5. ä¹˜æ³•åŸç†
6. é€†å…ƒæ¦‚å¿µ
7. è´¹é©¬å°å®šç†
8. æ¨¡è¿ç®—å…¬å¼

### ç®—æ³•çŸ¥è¯†

1. å¿«é€Ÿå¹‚æ±‚é€†å…ƒ
2. æ±‚ç»„åˆæ•°ï¼ˆé˜¶ä¹˜ä¸é€†å…ƒï¼‰

## ç®—æ³•å®ç°

**é¢„å¤„ç†**ï¼š
1. $fact_i$ å­˜å‚¨é˜¶ä¹˜
2. $infact_i$ å­˜å‚¨é˜¶ä¹˜çš„é€†å…ƒ
3. $pow10_i$ å­˜å‚¨ $10$ çš„å¹‚
4. ä½¿ç”¨å¿«é€Ÿå¹‚æ±‚é€†å…ƒ

**ä¸»å‡½æ•°å¾ªç¯**ï¼š
1. éå†å¯èƒ½çš„ $2023$ çš„ä¸ªæ•° $k$ï¼ˆä» $m$ åˆ° $\lfloor n/4 \rfloor$ï¼‰ï¼›
2. è®¡ç®— $g(k)={n-3k\choose k}\times 10^{n-4k}$ï¼›
3. è®¡ç®—äºŒé¡¹å¼ç³»æ•° ${k \choose m}$ï¼›
4. æ ¹æ®å®¹æ–¥åŸç†è°ƒæ•´æ­£å $(-1)^{k-m}$ï¼›
5. ç´¯è®¡åˆ° $ans$ æœ€ç»ˆç­”æ¡ˆï¼Œ**æ³¨æ„**ï¼šç”±äºå®¹æ–¥åŸç†ä¼šåŠ ä¼šå‡ï¼Œä¸”æ¨¡è¿ç®—ä¼šæ”¹å˜æ•°çš„å®é™…å¤§å°ï¼Œä¸ºé˜²æ­¢å‡ºç°è´Ÿæ•°ï¼Œåœ¨æ¨¡è¿ç®—ä¹‹å‰åŠ ä¸Šæ¨¡æ•°ï¼Œ```ans=(ans+(long long)c_1*c_2*sign+mod)%mod```ã€‚

æ—¶é—´å¤æ‚åº¦ $\mathcal{O}(n)$ï¼Œç©ºé—´å¤æ‚åº¦ $\mathcal{O}(n)$ã€‚

### AC Codeã€‚

```cpp line-numbers
#include <bits/stdc++.h>
using namespace std;
const int N = 1e5+10,mod = 998244353;
typedef long long ll;
int fact[N],infact[N],pow10[N];//fact[i]--i çš„é˜¶ä¹˜,infact[i]--i çš„é˜¶ä¹˜é€†å…ƒ,pow10[i]--10 çš„ i æ¬¡å¹‚
int qmi(int a,int k)//å¿«é€Ÿå¹‚æ±‚é€†å…ƒ
{
	int res=1;
	while (k)
	{
		if (k&1) res=(ll)res*a%mod;
		a=(ll)a*a%mod;
		k>>=1;
	}
	return res;
}
void init(int n)
{
	fact[0]=infact[0]=pow10[0]=1;//åˆå§‹åŒ–
	for (int i=1;i<=n;i++)
	{
		fact[i]=(ll)fact[i-1]*i%mod;//é˜¶ä¹˜è®¡ç®—
		pow10[i]=(ll)pow10[i-1]*10%mod;//10 çš„å¹‚è®¡ç®—
	}
	infact[n]=qmi(fact[n],mod-2);
	for (int i=n-1;i>=1;i--)
		infact[i]=(ll)infact[i+1]*(i+1)%mod;//é˜¶ä¹˜é€†å…ƒè®¡ç®—
}
int main()
{
	int n,m,ans=0,sign=-1;
	scanf("%d%d",&n,&m);
	init(n);
	for (int i=m;i<=n/4;i++)
	{
		sign*=-1;
		int a=n-i*3;
		int c1=(ll)fact[a]*infact[i]%mod*infact[a-i]%mod*pow10[n-4*i]%mod;
		int c2=(ll)fact[i]*infact[m]%mod*infact[i-m]%mod;
		ans=(ans+(ll)c1*c2*sign+mod)%mod;//sign æœ‰æ—¶ä¸º -1,ç”±äºæ¨¡è¿ç®—,è¦åŠ  mod,åœ¨æ¨¡ mod,ä»¥é˜²ä¸ºè´Ÿæ•°
	}
	printf("%d",ans);
	return 0;
}
```
##### Endã€‚

---

## ä½œè€…ï¼štder (èµï¼š1)

You can view the [English version](https://www.luogu.com/article/9534zlpn/) of this solution.

è€ƒè™‘å®¹æ–¥ã€‚

ä»¤ $f(x)$ ä¸ºè‡³å°‘æœ‰ $x$ ä¸ªå­ä¸² $\tt2023$ çš„æ–¹æ¡ˆæ•°ï¼Œç”±äºŒé¡¹å¼åæ¼”ï¼Œæ°å¥½æœ‰ $m$ ä¸ªå­ä¸² $\tt2023$ çš„æ–¹æ¡ˆæ•°ä¸ºï¼š

$$
\text{ans}=\sum_x(-1)^{x-m}\binom xm f(x)
$$

è€ƒè™‘ $f(x)$ å³ä¸ºé’¦å®šäº† $x$ ä¸ª $\tt2023$ï¼Œåœ¨é—´éš”çš„ $x+1$ ä¸ªä½ç½®ä¸­æ’å…¥å‰©ä¸‹çš„ $n-4x$ ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°å– $0\sim 9$ã€‚å› æ­¤ï¼Œç”±æ’æ¿æ³•ï¼š

$$
f(x)=10^{n-4x}\binom{(n-4x)+(x+1)-1}{(x+1)-1}
$$

æ—¶é—´å¤æ‚åº¦ $\mathcal{O}(n)$ã€‚

---

```python
N = int(1e6 + 5)
M = 998244353
f = [0 for _ in range(N)]
v = [0 for _ in range(N)]
def qpow(x : int, y : int) -> int: 
	r = 1
	while y > 0:
		# print(r, y, x)
		if y % 2:
			r *= x
			r %= M
		y //= 2
		x *= x
		x %= M
	return r
def init() -> None:
	f[0] = 1
	for i in range(1, N - 5 + 1):
		f[i] = f[i - 1] * i % M
	# print(f)
	v[N - 5] = qpow(f[N - 5], M - 2)
	# print(v[N - 5])
	for i in range(N - 5 - 1, 0 - 1, -1):
		v[i] = v[i + 1] * (i + 1) % M
	# print(v, v[0], v[1], v[2])
def get(a : int, b : int) -> int:
	if a < b:
		return 0
	else:
		# print("get", a, b, (f[a] * v[b] % M) * v[a - b] % M, f[a], v[b])
		return (f[a] * v[b] % M) * v[a - b] % M
def work(x : int) -> int: 
	return get(n - 4 * x + x, x) * qpow(10, n - 4 * x) % M
init()
line = list(map(int, input().split()))
n = line[0]
m = line[1]
ans = 0
for i in range(n // 4, m - 1, -1):
	ans += qpow(-1, i - m) * get(i, m) * work(i) % M
	ans %= M
print(ans)
```

---

## ä½œè€…ï¼šEngulf (èµï¼š0)

é¢˜æ„ï¼šé•¿ä¸º $n$ çš„æ•°ç»„ï¼Œæ¯ä¸€é¡¹å¯ä»¥å– $[0, 9]$ çš„æ•´æ•°ï¼Œæ±‚æ°å¥½æœ‰ $m$ ä¸ª $2023$ çš„æ•°ç»„æ•°ã€‚

æ°å¥½ $m$ ä¸ªä¸å¥½æ±‚ï¼Œè€ƒè™‘äºŒé¡¹å¼åæ¼”ï¼Œå¥—è·¯åœ°è®¾
- $g(k)$ è¡¨ç¤ºæ°å¥½ $m$ ä¸ª $2023$ çš„æ•°ç»„æ•°ï¼›
- $f(k)$ è¡¨ç¤ºé’¦å®š $m$ ä¸ª $2023$ çš„æ•°ç»„æ•°ã€‚

$$f(k) = \sum_{i = k}^{\lfloor \frac{n}{4} \rfloor}\binom{i}{k}g(i) \Longleftrightarrow g(k) = \sum_{i = k}^{\lfloor \frac{n}{4} \rfloor}\binom{i}{k}(-1)^{i-k}f(i)$$

é—®é¢˜è½¬åŒ–ä¸ºæ±‚ $f$ã€‚

é’¦å®šäº† $i$ ä¸ª $2023$ åï¼Œå‰©ä¸‹ $n-4i$ ä¸ªæ•°ï¼Œè¦æ’å…¥è¿™äº› $2023$ ä¹‹é—´ï¼Œè€ƒè™‘çƒç›’æ¨¡å‹ï¼ŒæŠŠ $n - 4i$ ä¸ªçƒæ”¾å…¥ $i + 1$ ä¸ªç›’å­ä¸­ï¼Œå¯ç©ºï¼Œæ±‚æ–¹æ¡ˆæ•°ã€‚è¿™æ˜¯ç»å…¸é—®é¢˜ï¼Œä½¿ç”¨æ’æ¿æ³•å¯å¾—æ–¹æ¡ˆæ•°ä¸º

$$\binom{n - 4i + 1 + i - 1}{i + 1 - 1} = \binom{n - 3i}{i}$$

æ”¾å®Œä¹‹åï¼Œæ¯ä¸ªæ•°å¯ä»¥å– $[0, 9]$ï¼Œæœ‰ $10^{n-4i}$ ç§å–æ³•ï¼Œæ ¹æ®ä¹˜æ³•åŸç†ï¼Œå¯å¾—

$$f(k) = 10^{n-4i}\binom{n-3i}{i}$$

ç­”æ¡ˆä¸º

$$g(m) = \sum_{i = m}^{\lfloor \frac{n}{4} \rfloor}\binom{i}{m}(-1)^{i-m}f(i) = \sum_{i = m}^{\lfloor \frac{n}{4} \rfloor}\binom{i}{m}(-1)^{i-m}10^{n-4i}\binom{n-3i}{i}$$

$\Theta(n)$ã€‚

---

## ä½œè€…ï¼šTLE_Automat (èµï¼š0)

ä»¤ $g_i$ ä»£è¡¨æ°å¥½æœ‰ $i$ ä¸ª $2023$ æ—¶çš„æ€»æ–¹æ¡ˆæ•°ï¼Œ$M = \lfloor\frac{n}{4}\rfloor$ã€‚

å½“æˆ‘ä»¬é‡åˆ°è¿™ç§â€œæ°å¥½æœ‰å¤šå°‘ä¸ªæ»¡è¶³æŸä¸ªæ¡ä»¶â€çš„è®¡æ•°æ—¶ï¼Œç¬¬ä¸€æ­¥å¤§è‡´æœ‰ä¸‰ç§æ€è€ƒæ–¹å‘ã€‚

- ç¬¬ä¸€ç§å°±æ˜¯ç›´æ¥è®¡ç®— $g_m$ã€‚

- ç¬¬äºŒç§æ˜¯è€ƒè™‘ $h_i = \sum\limits_{j \ge i} g_j$ æ˜¯å¦å¥½ç®—ï¼Œç„¶åç”¨ $h_m - h_{m + 1}$ å°±æ˜¯ç­”æ¡ˆã€‚
- ç¬¬ä¸‰ç§æ˜¯è€ƒè™‘ $f_i = \sum\limits_{j \le i}^{}\binom{i}{j}g_{j}$ æˆ–è€… $f_i = \sum\limits_{j \ge i}\binom{j}{i}g_{j}$ æ˜¯å¦å¥½ç®—ï¼Œç„¶åç”¨äºŒé¡¹å¼åæ¼”æ±‚å‡º $g_m$ã€‚

å¯¹äºæ­¤é¢˜æ¥è¯´ï¼Œç¬¬ä¸€ç§æ–¹æ³•å¹¶ä¸å¥½ç”¨ï¼Œè€ƒè™‘ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§ã€‚

å¦‚æœæˆ‘ä»¬é’¦å®šå½“å‰è‡³å°‘é€‰ $i$ ä¸ª $2023$ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä¸€ç§ naive çš„ç»Ÿè®¡æ–¹æ³•ï¼Œå…ˆå›ºå®šè¿™ $i$ ä¸ª $2023$ï¼Œç„¶åå‰©ä¸‹ $n - 4i$ ä¸ª æ•°å­—æ’åˆ° $i + 1$ ä¸ªç©ºé‡Œï¼Œæ¯ä¸ªç©ºå…è®¸ç©ºï¼Œå¹¶ä¸”è¿™äº›æ•°å­—çš„å€¼éšä¾¿å–ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰
$$
10^{n - 4i}\operatorname{calc}(n - 4i, i + 1)
$$
ç§æ–¹æ¡ˆï¼Œå…¶ä¸­ $\operatorname{calc}(x, y) = \binom{x + y - 1}{y - 1}$ã€‚

é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œ**è¿™ä¸ªå€¼åˆ°åº•æ˜¯ $h_i$ è¿˜æ˜¯ $f_i$ æˆ–è€…ä¸¤ä¸ªéƒ½ä¸æ˜¯ã€‚**

è€ƒè™‘ $g_j(j \ge i)$ ä¸­çš„ä¸€ç§æ–¹æ¡ˆï¼ˆå³ $2023$ æ°å¥½å‡ºç°äº† $j$ æ¬¡çš„ä¸€ç§æ–¹æ¡ˆï¼‰ï¼Œ å®ƒåœ¨å½“å‰ $i$ çš„ç»Ÿè®¡ä¸­ä¼šè¢«é‡å¤ç»Ÿè®¡ $\binom{j}{i}$ æ¬¡ã€‚

è€ƒè™‘è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Œå› ä¸ºå¯ä»¥æŠŠè¿™ $j$ ä¸ª $2023$ ä¸­çš„ $i$ ä¸ª $2023$ çœ‹ä½œæ˜¯ä¸€å¼€å§‹å°±æ”¾å¥½çš„ï¼Œå‰©ä¸‹çš„æ•°å­—çœ‹ä½œæ˜¯æ’è¿›æ¥çš„ï¼Œè¿™æ ·æ¯ä¸€ç§éƒ½ä¼šè¢«ç»Ÿè®¡ä¸€æ¬¡ï¼Œæ€»å…±ä¼šè¢«é‡å¤ç»Ÿè®¡ $\binom{j}{i}$â€‹ æ¬¡ã€‚

æ‰€ä»¥è¿™ä¸ªå¼å­ä»£è¡¨çš„å«ä¹‰å°±æ˜¯
$$
f_i = \sum\limits_{j = i}^{M}\binom{j}{i}g_{j} = 10^{n - 4i}\operatorname{calc}(n - 4i, i + 1)
$$
ä½¿ç”¨äºŒé¡¹å¼åæ¼”ï¼Œå³å¯å¾—åˆ°
$$
g_m = \sum\limits_{i = m}^{M} (-1)^{i - m}\binom{i}{m}f(i)
$$
æ—¶é—´å¤æ‚åº¦ $O(n)$ã€‚

---


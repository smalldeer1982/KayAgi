# [GXPC-S 2024] 演唱会

## 题目背景

小林最近迷上了参加演唱会。

## 题目描述

有 $n$ 名粉丝在演唱会现场坐成一排，第 $i$ 名粉丝的应援力度为 $a_i$。

聚光灯每次会照射到一个区间 $[l,r]$，传达出的**应援力度**为区间中所有粉丝的应援力度之和乘以区间中最大的应援力度。

为了更好的应援，某个粉丝可能会更改他的应援力度。

请你帮小林算出，每次聚光灯照射过来的时候，传达出的应援力度的值。

## 说明/提示


**本题采用捆绑测试。**

- Subtask 1（30pts）：保证 $n,m\le 10^3$；
- Subtask 2（20pts）：保证无修改操作；
- Subtask 3（50pts）：无额外约束。

对于 $100\%$ 的数据，保证：

- $1\le n,m,a_i\le 10^5$；
- $\rm{opt}\in \{1,2\}$；
- 当 $\rm{opt}=1$ 时，$1\le x\le y\le n$；
- 当 $\rm{opt}=2$ 时，$1\le x\le n$，$1\le y\le 10^5$。




## 样例 #1

### 输入

```
5 5
1 2 3 4 5
1 1 3
1 3 5
2 1 4
1 1 3
1 1 5```

### 输出

```
18
60
36
90```


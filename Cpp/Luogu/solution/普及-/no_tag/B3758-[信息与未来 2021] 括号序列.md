# [信息与未来 2021] 括号序列

## 题目描述

你得到了一个仅包含左圆括号 `(` 和右圆括号 `)` 的字符串，但其中的括号并不配对。为了使这个字符串变得更好看，你希望在字符串中插入尽可能少的圆括号（可以在任意位置插入任意数量的括号，但已有的括号不能改变），使修改后的字符串括号配对。

## 说明/提示

对于 $60\%$ 数据，输入字符串长度不超过 $10$。

对于 $100\%$ 的数据，输入字符串长度不超过 $10^3$。

>本题原始满分为 $15\text{pts}$。

## 样例 #1

### 输入

```
(())()(```

### 输出

```
(())()()```

## 样例 #2

### 输入

```
))((```

### 输出

```
(())()()```

# 题解

## 作者：chen_zhe (赞：5)

欢迎报名[洛谷网校](https://class.luogu.com.cn/)，期待和大家一起进步！

本题考察贪心、括号匹配。

如果遇到左括号，我们直接添加到答案字符串中。而如果遇到右括号：

- 如果有左括号能够和右括号匹配，那么可以直接添加右括号；
- 如果不存在左括号匹配右括号，则需要插入一个左括号，与这个右括号匹配。

参考代码：

```cpp
for (int i = 0; i < s.size(); i++) {
    char c = s[i];
    if (c == '(') { // 左括号：直接添加
        res += '(';
        left++;
    } else { // 右括号：尝试配对
        if (left == 0) {
        // 无法配对，补一个左括号和右括号
            res += "()";
        } else {
        // 可以配对，直接添加右括号
            res += ')';
            left--;
        }
    }
}
```

这样操作完毕后，如果还遇到有一些多余的左括号，就需要在最后补足右括号，使得其与左括号恰好配对上。

```cpp
while (left > 0) {
    res += ')';
    left--;
}
```

这样，就可以在 $O(|S|)$ 的时间复杂度下完成这一题。

---


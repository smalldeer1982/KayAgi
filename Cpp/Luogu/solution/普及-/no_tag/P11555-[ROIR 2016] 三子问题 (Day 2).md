# [ROIR 2016] 三子问题 (Day 2)

## 题目背景

翻译自 [ROIR 2016 D2T1](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day2.pdf)。

## 题目描述

在王国的领地上，有一条长为 $n$ 公里的直路，道路一侧是一个巨大的森林。国王十分关注自然保护，决定将这片森林设为自然保护区。但是，国王的三个儿子表示反对，因为他们希望能继承这些土地。

国王决定，森林保护区的土地不能继承给儿子。在制定遗嘱时，国王希望分配的土地满足以下条件：
- 每块土地应该是一个正方形，且边长是一个正整数。每个正方形的一边应当与道路平行。假设这三块土地的大小分别为 $a \times a$、$b \times b$ 和 $c \times c$。
- 这些正方形的边长之和应该刚好覆盖整条道路，也就是说，$a + b + c = n$。
- 小儿子的土地应该小于二儿子的土地，二儿子的土地应该小于大儿子的土地，也就是说，$a < b < c$。
- 所有区域的总面积 $a^2 + b^2 + c^2$ 应该尽量最小。

给定道路的长度 $n$，你需要求出分配给国王三个儿子的土地的边长。

## 说明/提示

### 样例解释

![](https://cdn.luogu.com.cn/upload/image_hosting/9s4tycwv.png)

### 数据范围

| 子任务 | 是否捆绑 | 分值 | $n\le$ |
| :----------: | :----------: | :----------: | :----------: |
| $1$ | 是 | $25$ | $50$ |
| $2$ | 是 | $25$ | $2000$ |
| $3$ | 是 | $25$ | $40000$ |
| $4$ | 是 | $25$ | $10^9$ |

## 样例 #1

### 输入

```
6```

### 输出

```
1 2 3```

# 题解

## 作者：FZY_CZY (赞：7)

# 题意
[题目](https://www.luogu.com.cn/problem/P11555)

简单阐述一下题意：给定一个 $n$，求 $a,b,c$，条件：$a+b+c=n,a < b < c$，并且使得 $a^2+b^2+c^2$ 最小。

# 思路
举个例子：当 $n=6$ 时，$a=1,b=2,c=3$ 是合法的；当 $n=12$ 时，$a=3,b=4,c=5$ 是合法的。

那么我们就可以猜想：当 $n \bmod 3=0$ 的时候，合法的答案是 $a=\frac{n}{3}-1,b=\frac{n}{3},c=\frac{n}{3}+1$。

我们可以用反证法来证明一下：
假设答案中 $a$ 比我们的 $\frac{n}{3}$ 大 $x$，同理，设出另外的 $y,z$，明显地 $x+y+z=0$，这个时候我们来看一下这种情况下合法的答案。

我们猜想的答案等于 $\frac{n^2}{9}-\frac{2\times n}{3}+1+\frac{n^2}{9}+\frac{n^2}{9}+\frac{2\times n}{3}+1$，整理得 $\frac{n^2}{3}+2$。

然后我们来看一下我们假设合法的答案等于 $\frac{n^2}{9}-\frac{2\times n}{3}+1+x^2+\frac{2\times n\times x}{3}-2\times x+\frac{n^2}{9}+\frac{2\times n\times y}{3}+y^2+\frac{n^2}{9}+\frac{2\times n}{3}+1+z^2+2\times z+\frac{2\times n\times z}{3}$，整理得 $\frac{n^2}{3}+\frac{2\times n\times(x+y+z)}{3}+x^2+y^2+z^2+2\times (z-x)+2$。

这两个式子相减（后面减前面），得到了 $\frac{2\times n\times(x+y+z)}{3}+x^2+y^2+z^2+2\times (z-x)$，现在，我们需要来判断这个式子的正负性，结合我们的 $x+y+z=0$，这个式子经过操作后一定是非负的，那么我们的猜想是正确的，这个式子一定是最小的，那么 $a,b,c$ 一定是合法的。

然后我们可以看，$a<b<c$，那么我们结合之前的理论，$b$ 在一般情况下是 $\frac{n}{3}$，那么，我们就很自然的想到用 $\frac{n}{3}$ 作为一个衡量的标准，然后就是对于 $n \bmod 3$ 的分类讨论。

1. $n\bmod 3=0$，那么显然，$a=\frac{n}{3}-1,b=\frac{n}{3},c=\frac{n}{3}+1$。
3. $n\bmod 3=1$，根据我们的结论，得出 $a=\frac{n}{3}-1,b=\frac{n}{3},c=\frac{n}{3}+2$，因为在第一种情况的基础上剩余的 $1$ 只能放在 $c$ 上，否则就会有 $a=b$，明显不合法。
4. 最后一种情况就是 $n \bmod 3=2$，我们与第二种情况一样，也是在 $n \bmod 3=0$ 的情况下，考虑多余的 $2$ 放在哪里，然后就可以再分类（反正 $a$ 是不能加的）。
- $b+1,c+1$，就有 $a^2+(b+1)^2+(c+1)^2=a^2+b^2+2\times b+1+c^2+2\times c+1$。
- $c+2$，就有 $a^2+b^2+(c+2)^2=a^2+b^2+c^2+4\times c+4$。
- 我们来比较一下 $(a^2+(b+1)^2+(c+1)^2=a^2+b^2+2\times b+1+c^2+2\times c+10)$ 和 $(a^2+b^2+(c+2)^2=a^2+b^2+c^2+4\times c+4)$ 的大小，考虑到 $b<c,2<4$ 所以将 $2$ 拆开，分别加到 $b$ 和 $c$ 上面更加符合题意的 $\min$。
# 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int n;
int a,b,c;
int main(){
	cin>>n;
	a=n/3-1,b=n/3,c=n/3+1;
	if (n%3==2) b+=1;
	if (n%3!=0) c+=1;
	cout<<a<<" "<<b<<" "<<c;
	return 0;
}
``````

完结撒花！！！

---

## 作者：_second_coming_ (赞：5)

## 洛谷P11555 [ROIR 2016 Day 2] 三子问题
**球管理给过 TwT**

[传送门](https://www.luogu.com.cn/problem/P11555)

依题意可知，我们有一个数 $ n $，并且 $a+b+c=n$，并且使 $a^2+b^2+c^2$ 最小。  
推理一下，可知 $a,b,c$ 尽量接近，$a^2+b^2+c^2$ 才能最小。 
### 推理过程

1. 设定条件：考虑 $a + b + c = k$（$k$ 为某个常数）。

2. 应用均值不等式：  
   根据均值不等式，我们有：
   $$
   \frac{a^2 + b^2 + c^2}{3} \geq \left( \frac{a + b + c}{3} \right)^2
   $$
   将 $a + b + c = k$ 代入，可以得到：
   $$
   \frac{a^2 + b^2 + c^2}{3} \geq \left( \frac{k}{3} \right)^2
   $$
   因此： 
   $$
   a^2 + b^2 + c^2 \geq \frac{k^2}{3}
   $$

3. 等号条件：  
   上述不等式的等号成立当且仅当 $a = b = c$。即当 $a, b, c$ 相等时，$a^2 + b^2 + c^2$ 达到最小值。

4. 所得结论：  
   因此，我们可以得出结论：当 $a + b + c$ 一定时，$a^2 + b^2 + c^2$ 最小值 $\frac{k^2}{3}$ 当且仅当 $a = b = c$ 的时候实现。因此，$a, b, c$ 尽量接近时，$a^2 + b^2 + c^2$ 将达到其最小值。


综上所述，通过均值不等式，我们证明了当 $a + b + c$ 取定值时，$a^2 + b^2 + c^2$ 取得最小值时，$a, b, c$ 必须尽量接近（即相等）。这个结论对任何相似的问题同样适用。

**那怎么使 $a,b,c$ 最接近呢？**  
可以从 $n\bmod3$ 的值入手。
（一定要注意题目中说 $a<b<c$！）
- 如果 $x\bmod3=0$，显然 $a=\dfrac{n}{3}-1,b =\dfrac{n}{3},c=\dfrac{n}{3}+1$ 是最优解。
- 如果 $x\bmod3=1$，这个 $1$ 显然不能加在 $a,b$ 上，不然就会有 $a=b$ 或 $b=c$ 的情况出现，因此只能 $a=\dfrac{n}{3}-1,b =\dfrac{n}{3},c=\dfrac{n}{3}+2$。
- 如果 $x\bmod3=2$，（这是本篇题解和楼上唯一不同的地方！）可以看作 $x\bmod3=3$ 也就是 $x\bmod3=0$ 中一个数减了一，这个 $1$ 显然不能减在 $b,c$ 上，不然也会有 $a=b$ 或 $b=c$ 的情况出现，因此只能 $$a=\dfrac{n}{3}-1,b =\dfrac{n}{3}+1,c=\dfrac{n}{3}+2$$。
### code
综上所述，代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
    int n;
	cin>>n;
	if(n%3==0)
		printf("%d %d %d",n/3-1,n/3,n/3+1);
    else if(n%3==1)
		printf("%d %d %d",n/3-1,n/3,n/3+2);
    else
		printf("%d %d %d",n/3-1,n/3+1,n/3+2);
}
```

---

## 作者：Xuan_qwq (赞：3)

给定一个正整数 $n$，找到 $3$ 个正整数 $a,b,c$，满足：
- $a+b+c=n$。
- $a<b<c$。

在此基础上，令 $a^2+b^2+c^2$ 的值最小。输出此时的 $a,b,c$。

---

知识：[均值不等式](https://baike.baidu.com/item/%E5%9D%87%E5%80%BC%E4%B8%8D%E7%AD%89%E5%BC%8F)。

取均值不等式中项数为 $3$ 的情况，有：
$$\frac{a+b+c}{3}\le \sqrt{\frac{a^2+b^2+c^2}{3}}$$
即

$$\big(\frac{n}{3}\big)^2\le \frac{a^2+b^2+c^2}{3}$$
$$\frac{n^2}{3}\le a^2+b^2+c^2$$

取等条件是 $a=b=c$，但题目要求 $a<b<c$。那么我们有一个比较感性的结论：$a,b,c$ 越平均，$a^2+b^2+c^2$ 的值越小。这里给出一个粗略的证明：

---
若有 $c-a>1$。

$$
\begin{aligned}
	&(a+1)^2+(c-1)^2\\
	=&\ a^2+c^2-2(c-a)+2\\
  >&\ a^2+c^2-2\times 1+2\\
  =&\ a^2+c^2
\end{aligned}
$$
所以此时将 $(a,b,c)$ 改为 $(a+1,b,c-1)$ 是更优的。那么不断重复这一操作，$a,b,c$ 将逐渐平均，$a^2+b^2+c^2$ 的值也会越来越小。

---

所以只需要考虑 $a,b,c$ 的值都在 $\frac{n}{3}$ 附近的情况即可。令 $x=\lfloor\frac{n}{3}\rfloor$，并简单枚举可知：
- 当 $n\equiv 0 \pmod{3}$ 时，显然取 $a=x-1,b=x,c=x+1$ 最优。
- 当 $n\equiv 1 \pmod{3}$ 时，相较于 $n\equiv 0 \pmod{3}$，多出来的 $1$ 只能加在 $c$ 上，否则数字会出现重复。取 $a=x-1,b=x,c=x+2$ 最优。
- 当 $n\equiv 2 \pmod{3}$ 时，相较于 $n\equiv 0 \pmod{3}$，多出来的 $2$ 可以产生两种取值：$(a,b,c)=(x-1,x,x+3)$ 或 $(a,b,c)=(x-1,x+1,x+2)$。前者显然可以用上面我们证明中的方法优化至后者，所以取 $a=x-1,b=x+1,c=x+2$ 最优。

直接判断并输出即可。

---

## 作者：cjx_AK (赞：3)

### 闲话
话说为什么要在周五办，我们小学生要上学的喂！、

还有，第一题这么水吗？？？


### 思路
题目说给你一个数 $n$，让你分解成三个数，使得 $a^2+b^2+c^2$ 最小。


不难看出，$a$ 和 $b$ 和 $c$ 越接近越好，所以只需分类讨论即可。
把 $n$ 除以 $3$ ，作为中间值 ，然后依次进行操作即可。

因为 $c>b>a$，那么最优的方案就是每两个数之间的差为 $1$。（有差 $2$ 的情况，但只能有两个数差为 $2$  且 $n$ 不是 $3$ 的倍数，因为若是有 $2$ 的空间，完全可以让最小数加一，而不是给更大的数加一）  

举一个例子，比如 $n=9$，那么有一种方案是 $a=1$，$b=3$，$c=5$，$c$ 不应该加一，由于 $a$ 可以加一，就应该给 $a+1$。       

如果 $n$ 是 $3$ 的倍数，直接输出 $n\div3-1$ 后面依次加一即可。   

如果 $n \bmod 3=1$，那么 $c+1$，因为 $a$ 和 $b$ 都差一不能加，然后跟上面一样输出即可。

如果 $n \bmod 3=2$，那么 $b+1$，因为为了三个数接近让 $c+1$ 差距会拉大，$a$ 还不能加，然后正常输出即可。   

### 上面结论的证明：
由于 $c>b>a>0$，那么若给 $c+1$，那么总和就会多 $2\times c+1$。若给 $b+1$，那么总和就会多  $2  \times b+1$。以此类推，由于 $c>b>a>0$，那么给最小的加一是最优方案，由此可得他们越接近越好。    

看代码吧：
```
#include <bits/stdc++.h>
#define int long long 
using namespace std;
int n,a,b,c,x;

signed main() {
	cin>>n;
	if(n%3==0){
		//a最小-1，剩下依次加一
		a=n/3-1;
		b=n/3;
		c=n/3+1;
	}else if(n%3==1){
		//多了一只能给c
		a=n/3-1;
		b=n/3;
		c=n/3+2;
	}else{
		//多了2再给b加1
		a=n/3-1;
		b=n/3+1;
		c=n/3+2;
	}
	cout<<a<<' '<<b<<' '<<c;
	return 0;
}
```

给个赞支持一下小学生吧！

---

## 作者：chengjindong (赞：3)

[题目](https://www.luogu.com.cn/problem/P11555)

首先：$a \le b \le c$，那么 $(c-a)^2+(c-b)^2+(b-a)^2\ge 0$，展开，化简得：$a^2+b^2+c^2 \ge ab+ac+bc$。

$a+b+c=n$，同时平方，得，$(a+b+c)^2=n^2$，即，$a^2+b^2+c^2+2ab+2ac+2bc=n^2$，套前面算出来的，得，$3(a^2+b^2+c^2) \ge n^2$，$a^2+b^2+c^2 \ge \frac{n^2}{3}$，题目就是要求 $a^2+b^2+c^2$ 的最小值，肯定就等于 $\frac{n^2}{3}$，但 $a,b,c$ 都要是整数，所以分类讨论 $n \bmod 3$ 的值即可。

设 $x= \lfloor\frac{n^2}{3} \rfloor$。

$a,b,c$ 都不能等于 $x$，最好的情况，分别为 $x-1,x,x+1$ 就行，其他多的余数就往上加。

- $n \bmod 3 = 0$，不需要处理，$x-1,x,x+1$。
- $n \bmod 3 = 1$，多了 $1$，要是 $a \not = b \not = c$，只能加在 $c$ 上，$x-1,x,x+2$。
- $n \bmod 3 = 2$，多了 $2$，这就有两个情况，$b+1,c+1$ 或 $c+2$，带回去展开，分别得到：$3x^2+4x+10$ 和 $3x^2+4x+6$，显然 $c+2$ 更优，$x-1,x+1,x+2$。

---

## 作者：littlep001 (赞：1)

## 思路
首先，我们假定 $a$ 为定值。

则 $a^2+b^2+c^2=a^2+(b+c)^2-2bc$ 。

因为我们假定了 $a$ 为定值，所以 $b+c=n-a$ 也为定值。

那么 求 $a^2+(b+c)^2-2bc$ 最小就变成了求 $2bc$ 最大，可以得出 $b,c$ 越接近越大。


---


现在，我们假定 $c$ 为定值。

则 $a^2+b^2+c^2=c^2+(a+b)^2-2ab$ 。

因为我们假定了 $c$ 为定值，所以 $a+b=n-c$ 也为定值。

那么 求 $c^2+(a+b)^2-2ab$ 最小就变成了求 $2ab$ 最大，可以得出 $a,b$ 越接近越大。


---

这样，我们就得出了 $a,b,c$ 应该尽可能接近。


---

## 代码
```cpp
#include <bits/stdc++.h>
#define int long long
using namespace std;
signed main()
{
    int n,ans=1e18,ansa=-1,ansb=-1,ansc=-1;
    cin>>n;
    //为了方便，我们直接在n/3附近找合法的即可，不会影响效率
    int k=n/3;
    for(int i=k-2;i<=k+2;i++)
    {
        for(int j=i+1;j<=k+2;j++)
        {
            int p=n-i-j;
            if(i>0&&i<j&&j<p&&i*i+j*j+p*p<ans)
            {
                ans=i*i+j*j+p*p;
                ansa=i;
                ansb=j;
                ansc=p;
            }
        }
    }
    cout<<ansa<<" "<<ansb<<" "<<ansc<<"\n";
    return 0;
}
```

---

## 作者：tomAmy (赞：0)

考虑暴力枚举 $a, b$，代码如下：

```cpp
#include <iostream>
using namespace std;

int main()
{
	for (int n = 6; n <= 30; n++)
	{
		long long ans = 9e18, a, b, c;
		for (int i = 1; i <= n; i++)
			for (int j = i + 1; j <= n; j++)
			{
				int k = n - i - j;
				if (k <= j) continue;
				if (1ll * i * i + 1ll * j * j + 1ll * k * k < ans) a = i, b = j, c = k;
			}
		cout << "n = " << n << ": " << a << " " << b << " " << c << endl;
	}
	return 0;
}
```

打表结果如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/je0hwn1p.png)

我们充分发扬人类智慧：

根据数学直觉，暴力打表后，我们发现答案总是分配的很平均，与 $\dfrac{n}{3}$ 不会离得太远。

所以我们只需要暴力枚举 $\lfloor \dfrac{n}{3} \rfloor$ 前后 $10$ 个数计算答案。

这样速度快得飞起，在 $n \le 10^9$ 时都可以在 3ms 内跑过。

贴上代码：

```cpp
#include <iostream>
using namespace std;

int main()
{
	int n;
	cin >> n;
	int l = n / 3 - 10, r = n / 3 + 10;
	long long ans = 9e18, a, b, c;
	for (int i = max(1, l); i <= r; i++)
		for (int j = i + 1; j <= r; j++)
		{
			int k = n - i - j;
			if (k <= j) continue;
			if (1ll * i * i + 1ll * j * j + 1ll * k * k < ans) a = i, b = j, c = k;
		}
	cout << a << " " << b << " " << c << endl;
	return 0;
}
```

---

## 作者：ridewind2013 (赞：0)

[题目传送门](https://www.luogu.com.cn/problem/P11555)

## 分析

输入一个数 $n$，求出三个整数，和为 $n$，平方和最小。

## 思路

看到题目后，立马写出一个暴力，时间复杂度 $O(n_{}^{2})$：


```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	int n;
	cin>>n; 
	int ans=1e9,a,b,c;
	for(int i=1;i<=n;i++){
		for(int j=i+1;j<=n;j++){
			int k=n-i-j;
			if(k<=j)break;
			if(i*i+j*j+k*k<ans)a=i,b=j,c=k;
		}
	}
	cout<<a<<" "<<b<<" "<<c;
	return 0;
}
```

自信地一提交，就完美的 [TLE](https://www.luogu.com.cn/record/197636247) 了，一看数据，$O(n)$ 都过不了，只能考虑 $O(1)$ 了。

然后开始找规律，从 $6$ 到 $300$ 分别输出：

```
1 2 3
1 2 4
1 3 4
2 3 4
2 3 5
2 4 5
3 4 5
3 4 6
3 5 6
4 5 6
4 5 7
4 6 7
5 6 7
5 6 8
5 7 8
6 7 8
6 7 9
6 8 9
7 8 9
7 8 10
7 9 10
8 9 10
8 9 11
8 10 11
9 10 11
9 10 12
9 11 12
10 11 12
10 11 13
10 12 13
11 12 13
11 12 14
11 13 14
12 13 14
12 13 15
12 14 15
13 14 15
13 14 16
13 15 16
14 15 16
14 15 17
14 16 17
15 16 17
15 16 18
15 17 18
16 17 18
16 17 19
16 18 19
17 18 19
17 18 20
17 19 20
18 19 20
18 19 21
18 20 21
19 20 21
19 20 22
19 21 22
20 21 22
20 21 23
20 22 23
21 22 23
21 22 24
21 23 24
22 23 24
22 23 25
22 24 25
23 24 25
23 24 26
23 25 26
24 25 26
24 25 27
24 26 27
25 26 27
25 26 28
25 27 28
26 27 28
26 27 29
26 28 29
27 28 29
27 28 30
27 29 30
28 29 30
28 29 31
28 30 31
29 30 31
29 30 32
29 31 32
30 31 32
30 31 33
30 32 33
31 32 33
31 32 34
31 33 34
32 33 34
32 33 35
32 34 35
33 34 35
33 34 36
33 35 36
34 35 36
34 35 37
34 36 37
35 36 37
35 36 38
35 37 38
36 37 38
36 37 39
36 38 39
37 38 39
37 38 40
37 39 40
38 39 40
38 39 41
38 40 41
39 40 41
39 40 42
39 41 42
40 41 42
40 41 43
40 42 43
41 42 43
41 42 44
41 43 44
42 43 44
42 43 45
42 44 45
43 44 45
43 44 46
43 45 46
44 45 46
44 45 47
44 46 47
45 46 47
45 46 48
45 47 48
46 47 48
46 47 49
46 48 49
47 48 49
47 48 50
47 49 50
48 49 50
48 49 51
48 50 51
49 50 51
49 50 52
49 51 52
50 51 52
50 51 53
50 52 53
51 52 53
51 52 54
51 53 54
52 53 54
52 53 55
52 54 55
53 54 55
53 54 56
53 55 56
54 55 56
54 55 57
54 56 57
55 56 57
55 56 58
55 57 58
56 57 58
56 57 59
56 58 59
57 58 59
57 58 60
57 59 60
58 59 60
58 59 61
58 60 61
59 60 61
59 60 62
59 61 62
60 61 62
60 61 63
60 62 63
61 62 63
61 62 64
61 63 64
62 63 64
62 63 65
62 64 65
63 64 65
63 64 66
63 65 66
64 65 66
64 65 67
64 66 67
65 66 67
65 66 68
65 67 68
66 67 68
66 67 69
66 68 69
67 68 69
67 68 70
67 69 70
68 69 70
68 69 71
68 70 71
69 70 71
69 70 72
69 71 72
70 71 72
70 71 73
70 72 73
71 72 73
71 72 74
71 73 74
72 73 74
72 73 75
72 74 75
73 74 75
73 74 76
73 75 76
74 75 76
74 75 77
74 76 77
75 76 77
75 76 78
75 77 78
76 77 78
76 77 79
76 78 79
77 78 79
77 78 80
77 79 80
78 79 80
78 79 81
78 80 81
79 80 81
79 80 82
79 81 82
80 81 82
80 81 83
80 82 83
81 82 83
81 82 84
81 83 84
82 83 84
82 83 85
82 84 85
83 84 85
83 84 86
83 85 86
84 85 86
84 85 87
84 86 87
85 86 87
85 86 88
85 87 88
86 87 88
86 87 89
86 88 89
87 88 89
87 88 90
87 89 90
88 89 90
88 89 91
88 90 91
89 90 91
89 90 92
89 91 92
90 91 92
90 91 93
90 92 93
91 92 93
91 92 94
91 93 94
92 93 94
92 93 95
92 94 95
93 94 95
93 94 96
93 95 96
94 95 96
94 95 97
94 96 97
95 96 97
95 96 98
95 97 98
96 97 98
96 97 99
96 98 99
97 98 99
97 98 100
97 99 100
98 99 100
98 99 101
98 100 101
99 100 101

```

找到规律：输入 $n$ 时，```a=n/3-1,b=(n-2)/3+1,c=(n-1)/3+2```，直接输出答案。

## 代码


```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	int n;
	cin>>n;
	cout<<n/3-1<<" "<<(n-2)/3+1<<" "<<(n-1)/3+2;//输出答案
	return 0;
}
```

---

## 作者：signed_long_long (赞：0)

# 题目解法

首先，假设题目中没有要求 $a<b<c$ 这个条件，而是 $a\le b\le c$，$a,b,c$ 也可以不是整数，要有最小的 $x^2+y^2+z^2$。

因为 $a\le b\le c$，所以 $(b-a)^2+(c-a)^2+(c-b)^2\ge 0$。

由[完全平方公式](https://www.luogu.com.cn/paste/yp12jwde)展开可得 $a^{2}-2ab + b^{2}+b^{2}-2bc+c^{2}+c^{2}-2ca+a^{2}\ge0$，即 $2(a^{2}+b^{2}+c^{2})\ge2(ab + bc+ca)$。

又因为 $(a+b+c)^2=a^2+b^2+c^2+2(ab+ac+bc)=n^2$，所以 $a^2+b^2+c^2\ge \frac{n^2}{3}$ 当且仅当 $a=b=c$ 时取等号。


但是题目里要求 $a<b<c$，还要求 $a,b,c$ 都是整数，所以 $a,b,c$ 要尽可能接近。



可以从 $n\div 3$ 的余数入手。

令 $x=\lfloor n\div 3\rfloor,y=n\bmod 3$，那么：

- 如果 $y=0$：因为 $a<b<c$，所以 $a,b,c$ 不能都是 $x$，只能分别是 $x-1,x,x+1$。
- 如果 $y=1$：在 $y=0$ 的基础上（$a=x-1,b=x,c=x+1$，下同）多出来的这个 $1$ 不能加在 $a$ 或者 $b$ 上，否则就会有 $a=b$ 或 $b=c$，不符合题意。这个 $1$ 只能加在 $c$ 上面。所以答案就是 $x-1,x,x+2$。
- 如果 $y=2$：多出来的 $2$ 可以加在 $c$ 上，也可以把 $b$ 和 $c$ 各加 $1$。那么推个式子比一下：
  
  - 加在 $c$ 上： $(x-1)^2+x^2+(x+3)^2=x^2-2x+1+x^2+x^2+6x+9=3x^2+4x+10$。
  - 加在 $b,c$ 上：$(x-1)^2+(x+1)^2+(x+2)^2=x^2-2x+1+x^2+2x+1+x^2+4x+4=3x^2+4x+6$。
    
  显然，加在 $b,c$ 上更优，所以答案就是 $x-1,x+1,x+2$。


代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n;

int main(){
	cin>>n;
	int x=n/3,y=n%3;
	if(y==0){
		printf("%d %d %d\n",x-1,x,x+1);
	}else if(y==1){
		printf("%d %d %d\n",x-1,x,x+2);
	}else{
		printf("%d %d %d\n",x-1,x+1,x+2);
	}
	return 0;
}
```

---

## 作者：god_std (赞：0)

~~本题是一道典型的找规律题~~
#### 1. 题目大意
给出一个数 $n$，求出三个整数 $a,b,c$，满足 $a+b+c=n$，使得 $a^2+b^2+c^2$ 的值最小。
#### 2. 找规律
首先算一下 $n\in [6,100]$ 中所有 $n$ 及对应的 $a,b,c$ 的值，代码如下：
```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	for(int n=6;n<=100;n++)
	{
		int ans=INT_MAX;
		int ia,ja,ka;
		for(int i=1;i<=n;i++)
		{
			for(int j=i+1;j<=n;j++)
			{
				int k=n-i-j;
				if(k<=j)break;
				int ans1=ans;
				ans=min(ans,i*i+j*j+k*k);
				if(ans1!=ans)ia=i,ja=j,ka=k;
			}
		}
		cout<<ia<<' '<<ja<<' '<<ka<<endl;
	}
}
```
最后的结果是：
```
1 2 3
1 2 4
1 3 4
2 3 4
2 3 5
2 4 5
3 4 5
3 4 6
3 5 6
4 5 6
4 5 7
4 6 7
5 6 7
5 6 8
5 7 8
6 7 8
6 7 9
6 8 9
7 8 9
7 8 10
7 9 10
8 9 10
8 9 11
8 10 11
9 10 11
9 10 12
9 11 12
10 11 12
10 11 13
10 12 13
11 12 13
11 12 14
11 13 14
12 13 14
12 13 15
12 14 15
13 14 15
13 14 16
13 15 16
14 15 16
14 15 17
14 16 17
15 16 17
15 16 18
15 17 18
16 17 18
16 17 19
16 18 19
17 18 19
17 18 20
17 19 20
18 19 20
18 19 21
18 20 21
19 20 21
19 20 22
19 21 22
20 21 22
20 21 23
20 22 23
21 22 23
21 22 24
21 23 24
22 23 24
22 23 25
22 24 25
23 24 25
23 24 26
23 25 26
24 25 26
24 25 27
24 26 27
25 26 27
25 26 28
25 27 28
26 27 28
26 27 29
26 28 29
27 28 29
27 28 30
27 29 30
28 29 30
28 29 31
28 30 31
29 30 31
29 30 32
29 31 32
30 31 32
30 31 33
30 32 33
31 32 33
31 32 34
31 33 34
32 33 34
32 33 35
```
然后就会发现，变化过程如下：
> 从 $n=6$ 时 $a=1,b=2,c=3$ 时开始，首先 $c$ 增加 $1$，然后 $b$ 增加 $1$，最后 $a$ 增加 $1$，再让 $c$ 增加 $1$，以此类推。
> 
所以，规律就找到了：
$$
a=\lfloor{\frac{n+2}{3}}\rfloor,b=2+\lfloor\frac{n}{3}\rfloor,c=3+\lfloor\frac{n+1}{3}\rfloor
$$
其中 $\lfloor a \rfloor$ 表示 $a$ 的整数部分。
#### 3. 写代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	int n;
	cin>>n;n-=5; 
	cout<<(n+2)/3<<' '<<2+n/3<<' '<<3+(n+1)/3;
}
```

---


# 「物理」平抛运动

## 题目描述

> 小 F 回到班上，面对自己 28 / 110 的物理，感觉非常凉凉。他准备从最基础的力学学起。

如图，一个可以视为质点的小球在点 $A(x_0, y_0)$ 沿 $x$ 轴负方向以某速度抛出，无视除重力外的所有阻力，最后恰好以速度 $v$ 砸到 $B(0, 0)$ 点。

![A1](https://cdn.luogu.com.cn/upload/pic/17884.png)

给定 $v$ 的大小与方向，你的任务是求出 $(x_0,y_0)$。

给定的速度单位为 $m \cdot s ^ {-1}$，重力加速度 $g = 10 \ (m \cdot s ^ {-2})$，请输出以 $m$ 为单位的答案。

如果你没有学过相关内容也没有关系，你可以从样例和提示里理解该题所求内容。

## 说明/提示

### 样例解释

如图。

![A2](https://cdn.luogu.com.cn/upload/pic/17887.png )

$14.142136 \approx 10 \sqrt 2, 0.785398 \approx \frac \pi 4 = 45 ^ \circ .$

小球从 $(10, 5)$ 以速度 $(-10, 0)$ 抛出，即可在 $t = 1s$ 时以 $(-10, -10)$ 砸在 $(0, 0)$。

### 提示

如果你没有学习过相关内容，下面的内容可能有帮助：

> zcy 教你学物理

首先，由于单位均为标准单位，所以所有结果均可以直接数字运算；视为质点意味着没有体积。

我们可以将小球速度分解，如图：

![A3](https://cdn.luogu.com.cn/upload/pic/17886.png )

其中水平方向上的速度 $v_x$ 即为抛出速度，运动过程中一直为 $v \sin \theta$；

垂直方向上的速度 $v_y$ 受重力加速，由 $0$ 变化至 $v \cos \theta$。

从抛出时开始计时，当时间为 $t$ 时，设此时水平、垂直方向上速度的大小分别为 $v_{xt}, v_{yt}$，水平、垂直方向上位移的大小分别为 $x_{xt}, x_{yt}$，有：

$v_{xt} = v \sin \theta$

$v_{yt} = gt$

$x_{xt} = v_{xt}t$

$x_{yt} = \frac 1 2 g t ^ 2 = \frac 1 2{v_{yt}t}$

当 $t$ 恰好是落地时间时，$x_{xt}, x_{yt}$ 即为答案。

---

关于弧度制：

$\pi = 180 ^{\circ}$

也就是说：$\frac \pi 2 = 90 ^{\circ}, \frac \pi 3 = 60 ^{\circ}, \ \cdots $

---

关于三角函数：

如果你是 C/C++ 选手，你可以使用 `math.h` /  `cmath` 里的 `sin()` `cos()` 进行计算；

如果你是 Pascal 选手，你可以使用 `math` 库（在 `begin` 前添加 `uses math;`）里的 `sin()` `cos()` 进行计算。
 
如果你是 Python 选手，你可以使用 `math` 库里的 `math.sin()` `math.cos()` 进行计算。

如果你是其他语言的选手，请参考相应文档。


## 样例 #1

### 输入

```
14.142136 0.785398```

### 输出

```
10 5```

# 题解

## 作者：一扶苏一 (赞：24)

这道题有一个性质提示没有给出：

### 引理：
![](https://cdn.luogu.com.cn/upload/pic/21383.png)（图一）

如图一，反向延长速度的切线，交水平位移于其1/2处。易证由速度和坐标轴围成的三角形与一半位移围成的三角形相似。思路由此得来。

### 解题过程
		
将速度正交分解为vx,vy，由三角函数有：
        
        vx=v*sin(θ)				①
        vy=v*cos(θ)				②

在竖直方向上，质点做自由落体运动，由运动学公式
		
        vy=gt					③

可得其运动时间

		t=vy/g					④

在水平方向上，质点做速度恒为vx的匀速运动，由运动学公式有

		x0=vx*t					⑤

易知反向延长速度后对顶角相等，由刚才的引理，我们有：

		(x0/2):y0=vx:vy			⑥

整理，得：

		y0=(x0/2)*vy/vx			⑦
        
联立①②⑤⑦式可解出y0。
联立②④⑤式可解出x0。
本题得解。

### Code：

```cpp
#include<cmath>
#include<cstdio>

double v,th,vx,vy,t,x2;
const double g=10.0;

int main() {
	scanf("%lf%lf",&v,&th);
	vy=v*cos(th);
	vx=v*sin(th);
	t=vy/g;
	x2=v*sin(th)*t;
	printf("%.3lf %.3lf\n",x2,(x2/2)*vy/vx);
	return 0;
}
```

---

## 作者：若如初见 (赞：14)

**~~蒟蒻第一篇题解，求过~~**  

其实这道题可以用数学方法来解的~  
由物理学知识（高中物理人教版《必修2》）可知，平抛运动的轨迹其实是一条抛物线，任意一点的速度的方向都是这一点的**切线**。而且显然地，抛物线开口向下，且最高点是就是题目所要求的$A(x_{0},y_{0})$.
  
  
不妨设小球的运动轨迹为二次函数$f(x)=ax^{2}+bx+c (a≠0)$，由于过原点，所以$c=0$.
  
  
接着看条件，因为末速度是二次函数在点$(0,0)$的切线，所以数学敏感的同学一下子就可以想到**导数**（详见高中数学人教版《选修2-2》）：这条切线的斜率$k$就等于二次函数在$(0,0)$处的导数值。
  
  
令这条切线为$y=kx$，由题目中已知的$θ$，易知直线的倾斜角为$\frac{\pi}{2}-θ$，所以$k=tan(\frac{\pi}{2}-θ)=cotθ=\frac{1}{tanθ}$.（诱导公式）
  
  
对$f(x)$求导得：$f'(x)=2ax+b$，那么$f'(0)=b=k=\frac{1}{tanθ}$，这样就求出了二次函数的一个系数。
  
  
接下来，将末速度$v$正交分解，可得水平速度和竖直速度：
  
$v_{x}=vsinθ$
  
$v_{y}=vcosθ$
  
  
由运动学公式得到（$t$是运动时间）：
  
$x_{0}=v_{x}t$
  
$v_{y}=gt$
  
合解得$x_{0}=vsinθ·\frac{vcosθ}{g}$.
  
  
显然，$x_{0}$就是最高点的横坐标。又根据数学知识得到，$A(x_{0},y_{0})$是函数的一个极大值点，导数值为0，所以：  
$f'(x_{0})=2ax_{0}+b=0$.
  
反解得  
$a=-\frac{b}{2x_{0}}$.
  
  
这样，二次函数的解析式就确定了。还差最后一步，求出$y_{0}$的值，也就是函数的最大值。初中数学学过开口向下的二次函数的最大值为$\frac{4ac-b^{2}}{4a}$，由于这里$c=0$，可得：  
$y_{0}=-\frac{b^{2}}{4a}$.  
  
最后输出即可~AC代码如下：  

```cpp
#include <cstdio>
#include <cmath>
using namespace std;
double th,a,b,sx,sy,t,g=10.0,v;
int main(){
	scanf("%lf %lf",&v,&th);
	b=1/tan(th);
	t=v*cos(th)/g;
	sx=v*sin(th)*t;
	a=-b/(2*sx);
	sy=-(b*b)/(4*a);
	printf("%.3lf %.3lf",sx,sy);
	return 0;
}
```


---

## 作者：___X3___ (赞：2)

# 物理小知识
![](https://cdn.luogu.com.cn/upload/image_hosting/gimu12nb.png)  
题目已经给出了速度分解的方法  
易得 $\theta=\angle1$ ，则 $\sin \theta=a:b$ ，$b=v$ 所以 $ v\sin\theta=a$   
同理可得 $\cos\theta=c:b$ ，$v\cos\theta=c$  
我们就可以分解出质点砸到点 `(0,0)` 的速度。  
# 解法
其中水平方向上的速度 $v_x$ 即为抛出速度，运动过程中一直为 $v\sin\theta$。  
意思就是分解出的 $v_x$ 就是抛出时的速度啦。  
抛出时的横坐标 $x_0$ 就是 $v_xt$。  
那么时间$t$怎么求呢？  
根据 $tg=v_y$ （$g$为重力加速度）可得 $t=\dfrac{v_y}{g}$。  
求出 $t$ 后代入即可算出 $x_0$。  
根据题目给的公式 $y_0=\frac{1}{2}gt^2$ 即可算出 $y_0$。
# code
```cpp
#include<cmath>
#include<cstdio>
#include<iostream>
using namespace std;
double v,O;
int main(){
	cin>>v>>O;
	double vx,vy;
	vx=sin(O)*v; //给的是弧度制，就直接调用
	vy=cos(O)*v;
	double t;
	t=vy/10.0;  //注意这里的10.0和下面的2.0一样，要加上一位小数，否则除完会被强制类型转换
	double ansx,ansy;
	ansx=t*vx;
	ansy=t*vy/2.0;
	printf("%.15lf %.15lf",ansx,ansy);  //保留15位小数
} 
```

---

## 作者：幻蓝刀心 (赞：2)

# 一看到平抛我就
~~哇哦哦哦哦哦哦哦~~

咳咳，
首先，关于平抛运动，
**曲线运动可转化为朝水平方向的匀速直线运动和竖直方向上的自由落体运动，**
因此，将其末速度正交分解为x方向和y方向上的两个矢量，~~（至于不懂矢量正交分解的请自行百度或高一上物理以及数学人教A版必修四）~~）回到正题，那么已知速度与竖直方向上的夹角 θ 可以算出水平分速度和竖直分末速度，如图所示

![](https://cdn.luogu.com.cn/upload/image_hosting/qfupmv2q.png?x-oss-process=image/resize,m_lfit,h_170,w_225)

### 接下来开始套公式
**Vy=V*cos(thita);**

 _**Vx=V*sin(thita);**_ 

 _**水平方向上位移 x1=Vx *t；**_ 

 _**竖直方向上位移 x2=（1/2）*g*t*t;**_ 

 _**竖直方向上初速度与末速度关系为 gt=Vy；**_ 

 _**则 t=Vy/g；**_ 

```cpp
vx=v*sin(thita);
	vy=v*cos(thita);
	t=vy/g;
	x1=vx*t;
	x2=g*t*t/2;
```
大概就是上述代码的作用，当然，你也可以合并成为两个总式：

 _**x1=V*sin(thita) * (V*cos(thita)/g);**_ 

 _**x2=(V*cos(thita) * (V*cos(thita))/(2*g);**_ 

相当于你就没有把t、Vx、Vy直接算出来而是代入求解；

```cpp
	/*
	  x1=v*sin(thita)*(v*cos(thita)/g);
	  x2=(v*cos(thita)*v*cos(thita))/(2*g);
	*/
```
所以完整代码如下：
```cpp
#include<algorithm>
#include<iostream>
#include<cstring>
#include<cstdio>
#include<cmath>
#define maxn  2000
using namespace std;
double v,thita;
double vx,vy,g=10,t,x1,x2;
int main()
{
	cin>>v>>thita;
	vx=v*sin(thita);
	vy=v*cos(thita);
	t=vy/g;
	x1=vx*t;
	x2=g*t*t/2;
  \\x1=v*sin(thita)*(v*cos(thita)/g);第二种综合法
	\\x2=(v*cos(thita)*v*cos(thita))/(2*g);
	printf("%.3lf %.3lf",x1,x2);\\不要忘记保留
	\\最后的x1，x2就是最终的坐标；
    	return 0;
}
```
呼~~~ 深吸一口气，此题正式结束！！！

---

## 作者：ViXpop (赞：2)

#### 小学一年级蒟蒻前来报道

此题为一道真·物理题，基本上高一及以上年级的OIER对于平抛运动的公式应该十分了解，初中物理竞赛的神犇们应该也对此也不陌生

对于这题而言，无非就是给你最终状态的速度大小和方向，逆推求出出发点即可

#### 我们先来看看关于正交分解的两个公式（这里就不放图了）

我们用$V_y$来表示小球在竖直方向上的速度，用$V_x$表示小球在水平方向上的速度

显然我们有下面两个式子：

$V_y=Vcosθ$   

$V_x=Vsinθ$

现在我们已经把小球在坐标轴上两个方向上的速度求出来了，根据高中物理人教版《必修2》中所提到的平抛运动的性质：

```
平抛运动可看作水平方向的匀速直线运动以及竖直方向的自由落体运动的合运动
```
我们可以将平抛运动拆分为一个水平方向上的匀速直线运动以及一个自由落体运动

对于自由落体运动，就是一个加速度竖直向下的一个匀加速运动，公式为：

$V_y=gt$

$X_y=\frac{1}{2}gt^{2}$

水平方向上的匀速直线运动就没什么好说的了,公式显然为:$X=V_xt$

其中$X$为小球在水平方向上的位移，也就是我们要求的$X_0$

我们可以通过$V_y=gt$推出求得$t$，再将$t$带入$X=V_xt$和$X_y=\frac{1}{2}gt^{2}$中，求得$X,X_y$，即$X_0,Y_0$。

#### 至此，该题得以完美解决

```
#include <bits/stdc++.h>
using namespace std;
inline int read(){
    int res=0,f=1;char ch=' ';
    while(!isdigit(ch)){if(ch=='-') f=-1;ch=getchar();}
    while(isdigit(ch)){res=res*10+ch-'0';ch=getchar();}
    return res*f;
}
double v,theta,vy,vx,t,x,y;
int main() {
	scanf("%lf%lf",&v,&theta);
	vy=v*cos(theta),vx=v*sin(theta);
	t=vy/10.0;
	x=vx*t,y=0.5*10.0*t*t;
	printf("%lf %lf",x,y);
    return 0;
}
```
##### 请不要吐槽代码中奇奇怪怪的变量名

---

## 作者：sbwww (赞：2)

编程蒟蒻想多带上一点物理来做这道题~~（毕竟是物理题~~

(改掉了格式的问题，管理辛苦了


那。。。先来说一个结论。。。

平抛运动在t时刻，速度方向的反向延长线 过水平位移的中点
![](https://cdn.luogu.com.cn/upload/pic/51960.png)


如上图↑
简略证明：

$v_x/v_y=v_0/gt=tan\theta$

分子分母同乘 t (时间)

$v_0t/gt^2=tan\theta$

带入$x_0,y_0$

$x_0=2y_0tan\theta$

然后就好啦

另外还有一个匀加速运动的公式

$v_1^2-v_0^2=2ax$

$v_1$末速度 $v_0$初速度 $a$加速度 $x$位移

对于平抛运动的竖直方向，$v_0=0, a=g$

本题中

$v_1=v_y=vcos\theta	,x=y_0$

所以$y=v_y^2/2g$;


------------
物理到此为止啦

程序实现就十分简单了

AC代码如下
```cpp
#include <bits/stdc++.h>
using namespace std;

int main()
{
	double v,s,y,x,vy;
	while(cin>>v>>s){
		vy=v*cos(s);
		y=vy*vy/20;
		x=2*y*tan(s);
		cout<<x<<" "<<y<<endl;
	}
	return 0;
}
```

---

## 作者：妖孽寒 (赞：2)

主要难在理解的真·物理题

不过知道了知识点就不难（所以是橙题）

~~提示不都介绍了吗~~

# 物理科普（高一校内课程）

![](https://cdn.luogu.com.cn/upload/pic/64932.png)


~~画图出品~~


三角函数的内容就不讲了，可以自行百度


只要了解把速度分解后的几个等量关系即可：


1.因为在水平方向上不受力，所以水平方向运动状态不改变


## $v_{0}=v\sinθ$

易知

## $x_{0}=v_{0}t=v\sinθt$

那么$t$怎么求嘞？

从另一个方向入手

2.竖直方向上只受重力作用，所以相当于自由落体运动


## $v_{1}=v\cosθ=gt$

因为$v$、$θ$已知，$g$取10，所以可以算出

## $t=\frac{v\cosθ}{g}$

再根据自由落体运动的位移公式

## $x=\frac{1}{2}gt^2$

求出$y_{0}$

P·S：c++的cmath库中有三角函数，直接调用即可（记得用弧度制！）

代码极短无比

```cpp
#include<bits/stdc++.h>
#define p 3.1415926535
double v,o;
int main()
{
	scanf("%lf%lf",&v,&o);
	double t=1.0*v*cos(o)/10;
	printf("%.15f %.15f\n",1.0*v*sin(o)*t,0.5*1.0*10*t*t);
}
```














---

## 作者：1lgorithm (赞：1)

### 这是一道完完全全的物理题！

我们考虑落地时的斜率$ k=cot(\theta)$和速度v,

求出落地时的往左速度$v_{0}$为$ \frac{a}{\sqrt{1+k^{2}}}$,

垂直下落速度$v_{t}$为$ \frac{ak}{\sqrt{1+k^{2}}}$.

求出下落时间$t$为$\frac{v_{t}}{g}$.

最后求出坐标：($tv_{0},\frac{1}{2}gt^{2}$).

代码：

```cpp
#include<iostream>
#include<cmath>
using namespace std;
int main(){
	long double a,b;
	cin>>a>>b;
	long double c=1.0/tan(b);
	long double left=sqrt(a*a/(c*c+1));
	long double down=c*left;
	long double time=down/10.0;
	long double left_dis=time*left;
	long double down_dis=time*time*5.0;
	cout<<left_dis<<' '<<down_dis;
}
```


---

## 作者：Rolling_L (赞：0)

~~马上期末考试了，来复习文化课~~

言归正传，我们来分析一下这个题。

首先，明确我们的目标：分别算出水平和竖直方向的位移，从而通过终点坐标 $(0,0)$ 推算出起点坐标。

那么，通过已知的 $v$ 和 $θ$ ，可以将 $v$ 分解为水平方向的速度 $v_{x}$ 和竖直方向的 $v_{y}$ ，那么只要算出时间 $t$ ，就可以求出位移了。

然后，因为平抛运动的竖直方向分运动是自由落体运动，由 $v_{y}=gt$ 就可以算出时间了，位移也就迎刃而解：

$x_{x}=v_{x}t$

$x_{y}=1/2gt^{2}$

这样，就可以 $AC$ 这道题啦~

参考代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
double v,theta;
int main(){
	cin>>v>>theta;
	double vy=cos(theta)*v;
	double vx=sin(theta)*v;
	double t=vy/10.0;
	cout<<(vx*t)<<' '<<(5*t*t);
	return 0;
}
```


---

## 作者：风翮雨翎 (赞：0)

很水的一道题，但由于蒟蒻输出错了，爆0，丢人
```
#include<iostream>
#include<cstdio>
#include<cmath>
using namespace std;
double vx,vy,v,q,x,y,t;
int main()
{
    cin>>v>>q;//输入。。。。
    vy=cos(q)*v;
    vx=sin(q)*v;//正交分解，沿X轴方向，速度为末速度乘该夹角正弦值，Y轴方向则为末速度乘该夹角余弦值。
    t=vy/10;//a=v/t得t=v/a。
    y=(vy*t)/2;//Y轴方向为匀变速运动，位移为平均速度乘时间。由于落点是（0,0），所以Y方向上位移大小既为所求纵坐标。y=(vy-0)*t/2。
    x=vx*t;//平抛，所以X轴方向上为匀速直线运动，x=vx*t。
    printf("%.3lf %.3lf",x,y);//输出。
    return 0;//完事。
}
```

---

## 作者：何柯延 (赞：0)

这题其很水，主要是对c++中sin cos的一个认知，只要掌握好sin cos，题目就可以秒过
```cpp
// luogu-judger-enable-o2
 #include<bits/stdc++.h>
using namespace std;

inline char nc()
{
    static char buf[100000],*p1=buf,*p2=buf;
    return p1==p2&&(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++;
}
inline int _read()
{
    char ch=nc();
        int sum=0;
    while(!(ch>='0'&&ch<='9'))
        ch=nc();
    while(ch>='0'&&ch<='9')
        sum=sum*10+ch-48;
            ch=nc();
    return sum;
}
//前面是读入优化
double x,y;
double v2,v3;
double v1,a,t;
int main()
{
    cin>>v1>>a;
    v2=v1*cos(a);  
        v3=v1*sin(a);// sin cos 的一个关键使用
    t=v2/10;
    //for (int i=1;i<=n;i++)
        x=v3*t;
            y=0.5*10*t*t;
    cout<<x<<" "<<y<<endl;//输出
    return 0;
}
```

---

## 作者：suixiang (赞：0)

```cpp
#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<cmath>
using namespace std;
double v1,a;//数据为6位小数，a为角度
int main(){
	cin>>v1>>a;
	double v2,v3;
	v2=v1*cos(a);//正交分解求竖直速度
	v3=v1*sin(a);//正交分解求水平速度
	double t=v2/10;//算出运动时间
	double x,y;
	x=v3*t;//水平位移
	y=0.5*10*t*t;//竖直位移
	cout<<x<<" "<<y;//输出
	return 0;
}
```

---


# 【深基3.习8】三角形分类

## 题目描述

给出三条线段 $a,b,c$ 的长度，均是不大于 $10000$ 的正整数。打算把这三条线段拼成一个三角形，它可以是什么三角形呢？

- 如果三条线段不能组成一个三角形，输出`Not triangle`；
- 如果是直角三角形，输出`Right triangle`；
- 如果是锐角三角形，输出`Acute triangle`；
- 如果是钝角三角形，输出`Obtuse triangle`；
- 如果是等腰三角形，输出`Isosceles triangle`；
- 如果是等边三角形，输出`Equilateral triangle`。

如果这个三角形符合以上多个条件，请按以上顺序分别输出，并用换行符隔开。

## 说明/提示

当两短边的平方和大于一长边的平方，说明是锐角三角形。

当两短边的平方和等于一长边的平方，说明是直角三角形。

当两短边的平方和小于一长边的平方，说明是钝角三角形。

## 样例 #1

### 输入

```
3 3 3```

### 输出

```
Acute triangle
Isosceles triangle
Equilateral triangle```

## 样例 #2

### 输入

```
3 4 5
```

### 输出

```
Right triangle```

## 样例 #3

### 输入

```
6 10 6
```

### 输出

```
Obtuse triangle
Isosceles triangle```

## 样例 #4

### 输入

```
1 14 5
```

### 输出

```
Not triangle```

# 题解

## 作者：Eason_AC (赞：257)

## Content
现给定三条边的长度$a,b,c(a,b,c\leqslant10000)$，判断是否可以构成三角形。  
- 如果无法构成三角形输出$\text{Not triangle}$。
- 构成的三角形如果是直角三角形输出$\text{Right triangle}$；
- 如果是锐角三角形，输出$\text{Acute triangle}$；
- 如果是钝角三角形，输出$\text{Obtuse triangle}$；
- 如果是等腰三角形，输出$\text{Isosceles triangle}$；
- 如果是等边三角形，输出$\text{Equilateral triangle}$。

## Solution
这道题目看上去不难，做起来却需要多加思考。

首先，需要对三条边的长度进行排序，用一个$d$数组存储后sort一遍即可。

排序完之后看，如果最长的一条边**大于等于**另外两条边的长度和，则无法构成三角形。等腰三角形、等边三角形和直角三角形这些也都好判断，这里不再赘述。

最难的是锐角三角形和钝角三角形。可能大多数小学生和部分初中生都不知道如何判定锐角和钝角三角形。那首先把结论放在这里：

**在一个三角形中，如果较短的两条边的平方和大于最长边的平方，那么这个三角形是锐角三角形，否则它是钝角三角形。**

可能大多数题解都不会涉及这个结论的证明，那下面我来为大家证明一下。这个结论的证明需要涉及到**余弦定理**。

我们都知道，设三角形三个角的大小分别为$\angle A,\angle B,\angle C$，三个角的对边分别为$a,b,c$，则有如下结论：

$$a^2=b^2+c^2-2bc\cos{A}$$
$$\therefore b^2+c^2-a^2=2bc\cos{A}$$

这就是余弦定理。

我们又知道：

 $\cos{\alpha}\begin{cases}>0&\alpha<90^\circ\\<0&90^\circ<\alpha<180^\circ\end{cases}$
 
又因为三角形每个角的度数都小于$180^\circ$，所以当$\angle A<90^\circ$时，$\cos{A}>0$，所以上面这个式子就变成了：

$$b^2+c^2-a^2>0$$
$$\therefore b^2+c^2>a^2$$

当$90^\circ<\angle A<180^\circ$时，$\cos{A}<0$，所以如上式子就变成了：

$$b^2+c^2-a^2<0$$
$$\therefore b^2+c^2<a^2$$

综上所述，当三角形任意两边平方和大于第三边的平方，说明这个三角形是锐角三角形，否则它就是钝角三角形。

证毕。

证明完这个之后，我们就可以开始写代码了！

## Code
```cpp
#include <cstdio>
#include <algorithm>
using namespace std;

int a, b, c;

int main() {
	scanf("%d%d%d", &a, &b, &c);
	int d[4] = {0, a, b, c};
	sort(d + 1, d + 4);
	if(d[1] + d[2] <= d[3]) {
		printf("Not triangle\n");
		return 0;
	}
	if(d[1] * d[1] + d[2] * d[2] == d[3] * d[3])	printf("Right triangle\n");
	else if(d[1] * d[1] + d[2] * d[2] > d[3] * d[3])	printf("Acute triangle\n");
	else if(d[1] * d[1] + d[2] * d[2] < d[3] * d[3])	printf("Obtuse triangle\n");
	if(a == b || b == c || a == c)	printf("Isosceles triangle\n");
	if(a == b && b == c)	printf("Equilateral triangle\n");
	return 0;
}
```

---

## 作者：cute_zczc_qwq (赞：5)

# [P5717](https://www.luogu.com.cn/problem/P5717) 【深基3.习8】三角形分类

题意也十分清晰，无需加以解释。

### 思路
我们一条一条看：

首先是不能组成三角形时，我们都知道有两边长度之和大于第三边长度这个东西，具体证明只需要知道两点之间，线段最短（公理）就好了。

下面三个一起：

首先我们知道有勾股定理这个东西，因此我们可以直接算出这个三角形是不是直角三角形。

其次是锐角三角形，我们需要知道如果三边长是 $A$、$B$、$C$，如果有 $A^{2} + B^{2} > C^{2}$ 的话，这个三角形就是锐角三角形，具体可以过一顶点作对边上的高然后用勾股定理做，因为两点之间线段最短，所以在锐角三角形里，肯定有 $A^{2} + B^{2} > C^{2}$。

剩下的情况就是钝角三角形了。

等边和等腰十分好判断，只需判断三边长度即可，注意 __等边三角形也是等腰三角形的一种__。

参考代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
    int a[3];
    cin>>a[0]>>a[1]>>a[2];
    sort(a,a+3);
    if(a[0]+a[1] <= a[2] || a[1]+a[2] <= a[0] || a[2]+a[0] <= a[1]){
        cout<<"Not triangle"<<endl;
        return 0;
    }
    if(a[2]*a[2] == a[0]*a[0]+a[1]*a[1]){
        cout<<"Right triangle"<<endl;
    }
    if(a[2]*a[2] < a[0]*a[0]+a[1]*a[1]){
        cout<<"Acute triangle"<<endl;
    }
    if(a[2]*a[2] > a[0]*a[0]+a[1]*a[1]){
        cout<<"Obtuse triangle"<<endl;
    }
    if(a[0] == a[1] || a[1] == a[2] || a[2] == a[0]){
        cout<<"Isosceles triangle"<<endl;
    }
    if(a[0] == a[1] && a[1] == a[2] && a[2] == a[0]){
        cout<<"Equilateral triangle"<<endl;
    }
    return 0;
}
```

---

## 作者：GoldenSTEVE7 (赞：5)

## 前置芝士
三条边能构成三角形的条件：

三条边能构成三角形的充分必要条件时两条最小边之和大于第三边。（这是容易证明的）

勾股定理：

一个三角形是直角三角形的充分必要条件是两直角边的平方和是其斜边的平方。

说直白点，我们设直角 $\triangle ABC$ 中，$\angle C = 90^{\circ},AB=c,BC=a,CA=b$，

那么 

$$
a^2+b^2=c^2
$$

证明的话就略去了。

余弦定理：

设 $\triangle ABC$ 中，$AB=c,BC=a,CA=b$，则

$$
\frac{a^2+b^2-c^2}{2ab} = \cos \angle C
$$

其实不难发现，当 $\angle C = \frac{\pi}{2}$ 时，上式就变为 $a^2+b^2-c^2 = 0$，也就是勾股定理。

然而这个结论更强，因为当 $\angle C > \frac{\pi}{2}$ 和 $\angle C < \frac{\pi}{2}$ 时，我们也可以得到 $a^2+b^2$ 与 $c^2$ 的大小关系。

具体地，若 $\angle C > \frac{\pi}{2}$，$a^2+b^2<c^2$；反之，若 $\angle C < \frac{\pi}{2}$，$a^2+b^2<c^2$。这是因为 $2ab > 0$ 且 $a^2+b^2-c^2 = 2ab\cos \angle C$ 可得 $a^2+b^2-c^2$ 的正负性与 $\cos \angle C$ 相同。


## 解题思路
OK，把刚刚说的全部放在一边。我们来看看题目要我们求啥。

题目给定三角形的三边，让我们判断它是否具有三角形的某些特质。

首先我们判断是否能构成一个三角形。

那么根据我们刚刚说的，直接判断即可。

那么我们分两类：

- 若不能构成三角形，那么接下来的都不用做了。

- 若能构成三角形，那么我们把接下来的工作分成两类：

  1. 这是否是一个等腰或等边三角形？
 
  2. 这个三角形是锐角，直角，还是钝角三角形？

第一个问题，我们直接判断三遍是否有等量关系即可。
 
为解决上面的第二个问题，我们就要用到刚刚提到的余弦定理了。

那么到这里，这道题的思路部分是讲完了，那就看看下面的代码。

## 代码
```cpp
#include<iostream>
using namespace std;

int main() {
    int a, b, c; cin >> a >> b >> c;
    if(a > b) swap(a, b);
    if(a > c) swap(a, c);
    if(b > c) swap(b, c); // 将 a, b, c 按从小到大排序
    if(a + b <= c) {cout << "Not triangle" << endl; return 0;} // 注意要结束程序
    if(a * a + b * b == c * c) 
        cout << "Right triangle" << endl;
    if(a * a + b * b > c * c)
        cout << "Acute triangle" << endl;
    if(a * a + b * b < c * c)
        cout << "Obtuse triangle" << endl;
    //判断按角分类的三角形
    if((a == b || a == c)||(c == b || a == c)||(a == b || b == c))
        cout << "Isosceles triangle" << endl;
    if(a == b && a == c && b == c)
        cout << "Equilateral triangle" << endl;
    //判断按边分类的三角形
    return 0;
}
```

---

## 作者：shinzanmono (赞：2)

首先现将三条边按照大小排序，令其从小到大为 $a,b,c$。

对于不是三角形的情况，显然 $a+b\leq c$。显然如果不是三角形，不会有后面的判断，直接中止程序。

接下来对这些三角形按照角度分类，根据勾股定理，直角三角形满足 $a^2+b^2=c^2$。显然对于一个直角三角形来说，如果将其斜边压缩，则会变为锐角三角形；增大其斜边会变为钝角三角形。扔到上面的式子就变成锐角三角形 $a^2+b^2>c^2$，钝角三角形 $a^2+b^2<c^2$。（文末附严谨证明）

判断等腰三角形可以判断 $b$ 是否与 $a$ 或 $c$ 相等，不用判断 $a,c$ 是否相等是因为三条边如果至少两条边相等，那么第二大的一条边一定在这至少两条边之中。

判断等边三角形只需要判断 $a,b,c$ 是否全相等。

注意等腰三角形也可能是等边三角形。

```cpp
if (a + b <= c) {
    printf("Not triangle\n");
    return 0;
}
int left = a * a + b * b, right = c * c; 
if (left == right) printf("Right triangle\n");
else if (left < right) printf("Obtuse triangle\n");
else printf("Acute triangle\n");
if (a == b || b == c) printf("Isosceles triangle\n");
if (a == b && a == c) printf("Equilateral triangle\n");
```

> 证明命题：直角三角形 $a^2+b^2=c^2$，锐角三角形 $a^2+b^2>c^2$，钝角三角形 $a^2+b^2<c^2$。
> > 考虑余弦定理 $c^2=a^2+b^2-2ab\cos C$，其中 $C$ 是 $a,b$ 两条边所夹内角。对其变型得 $\cos C=\frac{a^2+b^2-c^2}{2ab}$，而 $\cos C$ 可以反映一个在 $(0,\pi)$ 的角与 $\frac{\pi}2$ 的关系。$\cos C<0$ 说明 $C$ 为钝角，$\cos C>0$ 说明 $C$ 为锐角，$\cos C=0$ 说明 $C$ 为直角。
> > 
> > 显然 $2ab$ 恒为正，所以 $\cos C$ 的正负性与 $a^2+b^2-c^2$ 相同，对 $c^2$ 项进行移项即可证明命题成立。

---

## 作者：AstralSparkle (赞：1)

# P5717 题解

欢迎来到 AstralNahida 的题解频道！

题目要求对三角形进行分类，对于这些分类还不清楚的请左转义务教育。

我们读取这三条边其实可以直接放到一个一维数组 $d$ 里面，然后按升序排序。

接下来就是分类的环节了。（排序后三条边分别为 $d_1,d_2,d_3$）。

1. 先判断 `Not triangle` 的情况：\
显然，判断条件为 $d_1+d_2\le d_3$。
2. 接下来可以一次判断完 `Right triangle`、`Acute triangle`、`Obtuse triangle` 三种情况：\
若 $d_1^2+d_2^2=d_3^2$ 则为 `Right triangle`；\
否则若 $d_1^2+d_2^2>d_3^2$ 则为 `Acute triangle`；\
否则为 `Obtuse triangle`。
3. 最后判断 `Isosceles triangle` 和 `Equilateral triangle` 两种情况：\
若 $d_1=d_2$ 或 $d_1= d_3$ 或 $d_2= d_3$ 则为 `Isosceles triangle`；\
若 $d_1=d_2=d_3$ 则为 `Equilateral triangle`。

好啦，最后就是大家喜闻乐见的 AC Code 环节啦：
```cpp
#include <iostream>
#include <algorithm>

int d[4];

int main(void) {
	std::cin >> d[1] >> d[2] >> d[3];
	std::sort(d + 1, d + 4);

	if (d[1] + d[2] <= d[3]) {
		std::cout << "Not triangle\n";
		return 0;
	}

	if (d[1] * d[1] + d[2] * d[2] == d[3] * d[3]) {
		std::cout << "Right triangle\n";
	} else if (d[1] * d[1] + d[2] * d[2] > d[3] * d[3]) {
		std::cout << "Acute triangle\n";
	} else {
		std::cout << "Obtuse triangle\n";
	}

	if (d[1] == d[2] || d[2] == d[3] || d[1] == d[3]) {
		std::cout << "Isosceles triangle\n";
	}
	if (d[1] == d[2] && d[2] == d[3]) {
		std::cout << "Equilateral triangle\n";
	}

	return 0;
}
```

完结撒花！祝大家 rp++ 喵。

---

## 作者：Vct14 (赞：1)

不妨设 $a\le b\le c$。若 $a+b\le c$，则无法构成三角形。

判断形状用题目中的结论即可：

> 当两短边的平方和**大于**一长边的平方，说明是锐角三角形。\
> 当两短边的平方和**等于**一长边的平方，说明是直角三角形。\
> 当两短边的平方和**小于**一长边的平方，说明是钝角三角形。

还要特判三角形是否等腰、等边。需要注意这两个并不矛盾。

```cpp
#include<bits/stdc++.h>
using namespace std;

int a[4],b[4];

int main(){
	for(int i=1; i<=3; i++) cin>>a[i];
	sort(a+1,a+3+1);
    for(int i=1; i<=3; i++) b[i]=a[i]*a[i];
	if(a[1]+a[2]<=a[3]){
		cout<<"Not triangle";
		return 0;
	}
	if(b[1]+b[2]==b[3]) cout<<"Right triangle\n";
	else if(b[1]+b[2]<b[3]) cout<<"Obtuse triangle\n";
	else cout<<"Acute triangle\n";
	if(a[1]==a[2] || a[2]==a[3] || a[3]==a[1]) cout<<"Isosceles triangle\n";
	if(a[1]==a[2] && a[2]==a[3]) cout<<"Equilateral triangle";
	return 0;
}
```

---



考虑证明题目中的结论。

对于锐角三角形，$a^2+b^2=a^2+s^2+t^2=a^2$

![](https://cdn.luogu.com.cn/upload/image_hosting/00id4lm2.png)

对于钝角三角形，$a^2+b^2=a^2+s^2+t^2=a^2+t^2+2at+s^2-2at=(a+t)^2+s^2-2at=c^2-2at<c^2$。

（哦好像要先证明大角对大边。实际上这是显然的。已知 $\angle C$ 为钝角，则 $c^2=s^2+(t+a)^2>s^2+t^2=b^2$，即 $c>b$，同理 $c>a$。）

![](https://cdn.luogu.com.cn/upload/image_hosting/rc1jyse8.png)

对于直角三角形，由勾股定理知成立。

综上命题得证。

---

## 作者：封禁用户 (赞：1)

首先，我们对三条边从小到大排序，方便后面判断。

如果两短边之和小于等于长边，那么不是三角形，不需要进行其他判断了。

注意到题目中给了这三句话：

> 当两短边的平方和大于一长边的平方，说明是锐角三角形。
>
> 当两短边的平方和等于一长边的平方，说明是直角三角形。
>
> 当两短边的平方和小于一长边的平方，说明是钝角三角形。

因此判断是锐角、直角还是钝角三角形的时候，直接这样判断即可。（结尾有证明）

接着就是判断等腰和等边三角形。

如果两条较短的边相等，或者两条较长的边相等，那么这是一个等腰三角形，判断是否有 $a=b$ 或 $b=c$ 即可。

如果最短边等于最长边，说明三条边都相等，那么这就是一个等边三角形，判断是否 $a=c$ 即可。

```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	int a,b,c;
	cin>>a>>b>>c;
	if(a>b)swap(a,b);
	if(a>c)swap(a,c);
	if(b>c)swap(b,c);
	if(a+b<=c){
		cout<<"Not triangle"<<endl;
		return 0;
	}
	if(a*a+b*b==c*c){
		cout<<"Right triangle"<<endl;
	}
	if(a*a+b*b>c*c){
		cout<<"Acute triangle"<<endl;
	}
	if(a*a+b*b<c*c){
		cout<<"Obtuse triangle"<<endl;
	}
	if(a==b||b==c){
		cout<<"Isosceles triangle"<<endl;
	}
	if(a==c){
		cout<<"Equilateral triangle"<<endl;
	}
}
```

题目提示的证明：

在高中我们会学到余弦定理，对于三角形的三边 $a,b,c\ (a\le b\le c)$，$c^2=a^2+b^2-2ab\cos C$，其中 $C$ 是边 $c$ 的对角。显然 $ab>0$，且 $C$ 为三角形中最大的角。

下面的证明排除 $C=\frac{\pi}{2}$ 和 $c^2=a^2+b^2$ 的情况，因为由勾股定理和其逆定理可得，$C=\frac{\pi}{2}$ 是 $a^2+b^2=c^2$ 的充要条件。

当 $C<\frac{\pi}{2}$ 时，$\cos C>0$，则 $c^2= a^2+b^2$ 再减去一个正数，所以 $c^2<a^2+b^2$。当 $\frac{\pi}{2}<C<\pi$ 时，$\cos C<0$，则 $c^2= a^2+b^2$ 再减去一个负数，所以 $c^2>a^2+b^2$。显然 $\frac{\pi}{3}\le C<\pi$，因此可以对两个命题同时取逆否命题（上面已讨论 $C=\frac{\pi}{2}$ 的情况，因此这里取逆否命题时排除），得：当 $c^2>a^2+b^2$ 时，$\frac{\pi}{2}<C<\pi$，当 $c^2<a^2+b^2$ 时，$\frac{\pi}{3}\le C<\frac{\pi}{2}$。证毕。

---


# 【深基7.例4】歌唱比赛

## 题目描述

$n(n\le 100)$ 名同学参加歌唱比赛，并接受 $m(m\le 20)$ 名评委的评分，评分范围是 $0$ 到 $10$ 分。这名同学的得分就是这些评委给分中去掉一个最高分，去掉一个最低分，剩下 $m-2$ 个评分的平均数。请问得分最高的同学分数是多少？评分保留 $2$ 位小数。

## 样例 #1

### 输入

```
7 6
4 7 2 6 10 7
0 5 0 10 3 10
2 6 8 4 3 6
6 3 6 7 5 8
5 9 3 3 8 1
5 9 9 3 2 0
5 8 0 4 1 10
```

### 输出

```
6.00```

# 题解

## 作者：Luogu_Wangzhi (赞：7)

# 题解：P5738 【深基7.例4】歌唱比赛。

### 题意：

有 $n$ 名同学接受 $m$ 名评委的评分，每名同学得分去掉一个最高分和最低分，剩下 $m − 2$ 个评分的平均数就是最终得分，求最高的得分。

### 解法：

1. 先算每名同学的总得分。

1. 再减去最低分和最高分。

1. 记录最高的总得分。

1. 输出最高得分除以 $m-2$ 即可。

1. 记得保留 $2$ 位小数。

### code


```cpp
#include<bits/stdc++.h>
using namespace std;
double a[105][25];
double q[105];
double w[105];
int main(){
	int n,m;
	cin>>n>>m;
	double sum=0;
	for(int i=1;i<=n;i++){
		w[i]=15;
	}
	for(int i=1;i<=n;i++){ 
		for(int j=1;j<=m;j++){
			cin>>a[i][j];
			w[i]=min(a[i][j],w[i]);
			q[i]=max(a[i][j],q[i]);//记录最高分和最低分。
		}
	}
	
	for(int i=1;i<=n;i++){
		double s=0;
		for(int j=1;j<=m;j++){
			s+=a[i][j];//计算每名同学的总得分。
		}
		s-=w[i];
		s-=q[i];//减去最低分和最高分。
		sum=max(sum,s);//记录最高的总得分。
	} 
	printf("%.2lf",sum/(m-2));
} 
```

---

## 作者：XiaoYang_awa (赞：7)

# [P5738 【深基7.例4】歌唱比赛](https://www.luogu.com.cn/problem/P5738)
这道水题居然没有题解，我已经按捺不住激动的心情了哈哈。
## 思路：

题意很明确，不再过多赘述。

考虑使用双层循环，输入的过程累加变量并打擂台记录最大、最小值。输入完成后，计算最终得分，然后放到数组中。最后将数组进行排序，输出最大值即可。

详细可看代码，还是很易懂的。

## 完整代码：
请不要抄题解！
```cpp
#include <bits/stdc++.h>
using namespace std;
int n,m;
double a[105];//注意类型
int main(){
    cin>>n>>m;
    for(int i=1;i<=n;i++){//外层循环用来遍历人
        int sum=0,maxn=-114514,minn=114514;//定义变量：累加值、最大分数、最小分数
        for(int j=1,ds;j<=m;j++){//内层循环用来遍历评委给分
            cin>>ds;//输入单个分数
            maxn=max(maxn,ds),minn=min(minn,ds),sum+=ds;//更新最大值和最小值，累加变量
        }
        sum-=maxn+minn,a[i]=(sum*1.0)/(m-2);
        //先计算实际得分，然后将其放到数组
    }
    sort(a+1,a+1+n);//排序
    printf("%.2f",a[n]);//注意保留两位小数
}
```

---

## 作者：Python147 (赞：3)

[题目传送门](https://www.luogu.com.cn/problem/P5738)

## 题目分析

本题可以使用结构体完成。

### 基本思路：

先计算出每名同学去掉最高分和最低分后的平均分，然后再按平均分排序。直接按照题意模拟即可。

### 实现细节：
    
由于每名同学的平均分单独用数组不好维护，我们可以用一个新东西——**结构体**。

结构体就相当于把一些变量组合在一起，成为一个新类型。比如一个同学，我们可以把他的姓名、班级、学号等信息放在一起，组合成一个自定义的`student`类型。

#### 结构体的写法

结构体的写法也很简单，按以下语法定义即可：
```cpp
struct 结构体类型名
{
    成员表;
    成员函数;
}结构体变量表;
```

如果想要在以后再声明结构体变量，可以这样写：
```cpp
结构体名 结构体变量表;
```

**注意**：定义完结构体，结尾**一定要打分号**！

## 代码实现

```cpp
#include <bits/stdc++.h>
using namespace std;

struct student
{
	int id, a[25], maxa = -1, mina = 11;
	double ave, tot;
}students[105];

int n, m;

bool cmp(student a, student b)
{
	return a.ave < b.ave;
}

int main()
{
	cin >> n >> m;
	for (int i = 1; i <= n; i++)
	{
		for (int j = 1; j <= m; j++)
		{
			cin >> students[i].a[j];
			students[i].tot += students[i].a[j];
			students[i].maxa = max(students[i].a[j], students[i].maxa);
			students[i].mina = min(students[i].a[j], students[i].mina);
		}
		students[i].tot -= (students[i].maxa + students[i].mina);
		students[i].ave = students[i].tot * 1.0 / (m - 2);
	}
	sort(students + 1, students + n + 1, cmp);
	cout << fixed << setprecision(2) << students[n].ave << endl;
	return 0;
}
```

---

## 作者：Cake_W (赞：1)

# 洛谷P5738题解
[题目传送门](https://www.luogu.com.cn/problem/P5738)
## 思路
我们可以模拟整个过程。我们可以把每一个同学去掉最高分和最低分后的平均分存在一个数组中，然后对数组排序，输出答案（也就是最大值）即可。
## 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,m;
double a[105],b;
int main()
{
	cin>>n>>m;
	for(int i=1;i<=n;i++)
	{
		double maxx=INT_MIN,minn=INT_MAX;
		for(int j=1;j<=m;j++)
		{
			cin>>b;
			minn=min(b,minn);
			maxx=max(maxx,b);
			a[i]+=b;
		}
		a[i]=(a[i]-maxx-minn)/(m-2);//计算平均分 
	}
	sort(a+1,a+1+n);//排序 
	printf("%.2lf",a[n]);
    return 0;
}
```

---

## 作者：Hongryan (赞：1)

# 思路
这题可以用一个自定义函数，来储存每个选手的得分，最后进行比较。

先读入 $n$ 和 $m$ 两个变量，分别表示选手数量和评委数量。设置一个 for 循环来读入每个选手不同评委的分数。

自定义函数里面，先读入每个选手不同评委的分数，找到最大值和最小值，去掉它们，得出最终的分数。

最后把每个选手的分数进行比较，找出最大的即可，记得**保留两位小数**。
# 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
double fun(int m)
{
	double a,maxn=0,minn=10,sum=0;
	for(int i=1;i<=m;i++)
	{
		cin>>a;
		sum+=a;
		maxn=max(maxn,a);
		minn=min(minn,a);
	}
	sum=sum-maxn-minn;
	return sum/(m-2.00);
}
int main()
{
	double n,m,a,maxn=0;
	cin>>n>>m;
	for(int i=1;i<=n;i++)
	{
		double f=fun(m);
		maxn=max(maxn,f);
	}
	printf("%.2lf",maxn);
	return 0;
}
```

---


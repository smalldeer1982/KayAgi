# [传智杯 #4 初赛] 小卡和质数

## 题目背景

小卡最近迷上了质数，所以他想到了一个和质数有关的问题来考考你。

质数是指在大于 $1$ 的自然数中，除了 $1$ 和它本身以外不再有其他因数的自然数。

## 题目描述

小卡有 $T(1\le T\le 10^5)$ 组询问。每次询问给你两个正整数 $x,y(1\le x,y\le 10^9)$。

小卡想知道，第 $x$ 个质数和第 $y$ 个质数是否满足 $p_x \oplus p_y =1$，即第 $x$ 个质数和第 $y$ 个质数的异或值是否是$1$。

## 样例 #1

### 输入

```
4
1 2
23 145
66 2
1 14```

### 输出

```
Yes
No
No
No```

# 题解

## 作者：VitrelosTia (赞：17)

题链：[P8845 [传智杯 #4 初赛] 小卡和质数](https://www.luogu.com.cn/problem/P8845)

### 题意
给你 $x$ 和 $y$，问第 $x$ 个质数和第 $y$ 个质数的异或值是否为 $1$。

### 思路
怎么样的两个数异或值为 $1$ 呢？显然是二进制下只有末尾不同的数，要满足这个条件，需要两数奇偶性不同（思考这个条件是因为考虑到**质数特殊的奇偶性质**），则两个质数为一奇一偶。

偶数中只有 $2$ 是质数，而易知在其它质数中，只有 $3$ 和 $2$ 的异或值为 $1$。最终得到：两个质数只能是 $3$ 和 $2$。

$3$ 是第 $2$ 个质数，$2$ 是第一个质数，则 $x$ 和 $y$ 为 $2$ 和 $1$。注意两数可能调换位置。

### code
```
#include<bits/stdc++.h>
using namespace std;
int t,a,b;
int main(){
    cin>>t;
    while(t--){
        cin>>a>>b;
        if((a==2&&b==1)||(a==1&&b==2)) puts("Yes");
        else puts("No");
    }
}
```


---

## 作者：happybob (赞：4)

容易想的题目。

考虑两数异或为 $1$ 的性质。

结论：$x \oplus (x+1)=1$。

考虑两数 $x,y$，将每一个用二进制表示出，显然只有 $2^0=1$，其余 $2$ 的幂都不可能为 $1$，即两数异或为 $1$ 当且仅当这两个数二进制表示下从右往左第一位不同，其余位都相同时，即两数相差为 $1$ 时。

显然对于质数，只有 $2 \oplus 3 = 1$，其余都是奇数和偶数不可能都是质数。

```cpp
#include <bits/stdc++.h>
using namespace std;

int x, y, t;

int main()
{
    scanf("%d", &t);
    while (t--)
    {
        scanf("%d%d", &x, &y);
        if (x == 1 && y == 2) printf("Yes\n");
        else if (x == 2 && y == 1) printf("Yes\n");
        else printf("No\n");
    }
    return 0;
}
```


---

## 作者：AC_CSP (赞：3)

[$\text{题目传送门}$](https://www.luogu.com.cn/problem/P8845)

[$\text{或许更好的阅读体验}$](https://www.luogu.com.cn/blog/zhaotianfang0515/solution-p8845)

# $\text{题目大意}$

有 $T(1\le T\le 10^5)$ 组询问。每次询问给你两个正整数 $x,y(1\le x,y\le 10^9)$。

判断第 $x$ 个质数异或第 $y$ 个质数是否等于 $1$。

# $\text{题目分析}$

明显地，如果两个数相异或为 $1$，这两个数差一定也为 $1$。所以这两个数一定是偶数和奇数。而只有第一个质数 $2$ 是偶数。所以只有当 $x=1$ 且 $y=2$ 或 $x=2$ 且 $y=1$ 时答案为 $\text{Yes}$。

# $\text{Code}$

```cpp
#include<bits/stdc++.h>
using namespace std;
int T,x,y;
int main(){
	scanf("%d",&T);
	while(T--){
		scanf("%d%d",&x,&y);
		x==1&&y==2||x==2&&y==1?printf("Yes\n"):printf("No\n");
	}
	return 0;
}
```


---

## 作者：hereiszd (赞：2)

## 题意简述

询问第 $x$ 个质数异或上第 $y$ 个质数是否为 $1$。

## 解决方案

**下面我们约定 $x<y$**。

显然两数异或起来为 $1$，则**两数奇偶性不同**，而所有质数中只有第一个质数 $2$，为偶数，所以首先 $x$ 为 $1$ 。

然后我们发现除了 $2,3$ ，其他的质数都大于 $4$，也就是会对二进制下第二位以上产生贡献，显然不再为 $1$。

于是得出结论：只有 $x=1,y=2$ 时才满足条件，其他情况下都不满足。

## 代码实现

```cpp
/*
	Author:zd
	Status:WA on pretest 2
*/

#include <bits/stdc++.h>
using namespace std;
signed main(){
	int _;
	cin>>_;
	while(_--){
		int x,y;
		cin>>x>>y;
		if(x>y)swap(x,y);
		if(x==1&&y==2){
			puts("Yes");
		}
		else puts("No");
	}
	return 0;
}


//数组开大了没有 ？开不开 long long ？多测清空了吗 ？



```


---

## 作者：Bread_Knight (赞：0)

## 题目大意
给定两个正整数 $x,y$，分别代表第 $x$ 个质数和第 $y$ 个质数，求 $x \oplus y$。若为 $1$ 则输出 $Yes$，否则输出 $No$。
## 分析
根据质数的定义可知，所有质数中有且仅有 $2$ 是偶数。  
等价于所有质数中有且仅有 $2$ 在二进制下末位为 $0$。  
在这里我们默认 $x<y$。  
因此：  
1. 若 $x\neq 1$，则二者对应的质数末位均为 $1$，异或值不可能 $1$。
2. 若 $x=1$，则对应质数为 $2$ 即 $10_{(2)}$，当且仅当另一质数为 $11_{(2)}$ 即 $3$ 时，异或值为 $1$。
  
特判 $x=1$ 且 $y=2$ 的情况即可。  
注意：题目不保证 $x<y$。
## 参考代码
```cpp
#include <bits/stdc++.h>
using namespace std;
int main()
{
	int T;
	cin>>T;
	while (T--)
	{
		int a,b;
		cin>>a>>b;
		if ((a==1 && b==2) || (a==2 && b==1)) cout<<"Yes\n";
		else cout<<"No\n";
	}
    return true&&false;
}
```

---

## 作者：Cure_Wing (赞：0)

### 题目
[P8845 [传智杯 #4 初赛] 小卡和质数](https://www.luogu.com.cn/problem/P8845)

### 解析
考虑题目 $p_x \oplus p_y =1$ 的条件，可以想到 $p_x$ 和 $p_y$ 除最后一位必须不同外其它位必须相同，那么显然可以得出若 $p_x \oplus p_y =1$，那么 $p_x+1=p_y$ 且 $p_x$ 为偶数。

观察质数的规律：$2,3,5,7,...$，显然的，只有数对 $(2,3)$ 满足条件，故当且仅当 $x=1,y=2$ 或 $x=2,y=1$ 是满足条件输出 `Yes`，其余情况均输出 `No`。

---

## 作者：FReQuenter (赞：0)

我们思考异或为 $1$ 的性质：即除了二进制下最低位以外，其它位全部相同。

这就是说两个数的奇偶性必须不同才有异或为 $1$ 的可能性（二进制下最低位为 $0$ 是偶数，为 $1$ 是奇数）。

而所有质数只有和 $2$ 一组奇偶性不同。而 $2$ 仅与 $3$ 异或得到 $1$，所以只有第一个和第二个质数的异或等于 $1$。

综上，只有 $\{x,y\}=\{1,2\}$ 时答案是 Yes，其它都是 No。

代码很简单：

```cpp
#include<cstdio>
int main(){
    int t;
    scanf("%d",&t);
    while(t--){
        int x,y;
        scanf("%d%d",&x,&y);
        if((x==1&&y==2)||(x==2&&y==1)) printf("Yes\n");
        else printf("No\n");
    }
    return 0;
}
```

---

## 作者：ran_qwq (赞：0)

什么情况下两数异或值为 $1$ 呢？显然，它们的最低二进制位不同，其它都相同，两数异或值为 $1$。

最低二进制位不同，也就是奇偶性不同，$x$ 和 $y$ 里有奇数有偶数。又因偶质数只有 $2$ 一个，这两个数中有一个 $2$。

其它位都相同。因为有 $2$，$2$ 的二进制只有右数第二位为 $1$，所以另一个数也只有右数第二位为 $1$。且这个数与 $2$ 奇偶性不同，所以这个数只能是 $3$。

因为 $2$ 是第一个质数，$3$ 是第二个质数，所以 $x=1,y=2$ 或 $x=2,y=1$。只要判断两数是否一个为 $1$ 一个为 $2$ 就行了。

```cpp
#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cmath>
#include<cstring>
#include<string>
using namespace std;
typedef long long LL;
const int N=1e5+10;
const int INF=0x3f3f3f3f;
inline int read()
{
	int x=0,f=1;
	char ch=getchar();
	while(ch<'0'||ch>'9')
	{
		if(ch=='-')
			f=-1;
		ch=getchar();
	}
	while(ch>='0'&&ch<='9')
	{
		x=x*10+ch-'0';
		ch=getchar();
	}
	return x*f;
}
int main()
{
	int T=read();
	while(T--)
	{
		int x=read(),y=read();
		if((x==1&&y==2)||(x==2&&y==1))
			puts("Yes");
		else
			puts("No");
	} 
	return 0;
}


```


---


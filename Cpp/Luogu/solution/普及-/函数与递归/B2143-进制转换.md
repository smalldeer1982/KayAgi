# 进制转换

## 题目描述

用递归算法将一个十进制整数 $X$（$1 \le X \le 10^9$）转换成任意进制数 $M$（$2\le M\le16$，$M$ 为整数）。

## 说明/提示

**样例解释**。

将十进制 $31$ 转化为十六进制数。

## 样例 #1

### 输入

```
31 16 ```

### 输出

```
1F```

# 题解

## 作者：StarryWander (赞：78)

## 如题本题采用递归形式进制转换。

### 前置知识：[短除法](https://baike.baidu.com/item/%E7%9F%AD%E9%99%A4%E6%B3%95/3640958?fr=aladdin)。

### 分析：

- 通过**短除法**取余数，再将余数**倒序输出**即可。

- 对于倒序输出，可以在递归的时候，**最后输出余数**，这样余数就会倒序输出了。

- 注意，十进制下除以**大于等于 $10$ 的数**会出现两位数的情况，所以需要一个字符串来**转换成对应的字母**。

```cpp
#include<bits/stdc++.h>
#define ll long long
using namespace std;
string c="0123456798ABCDEF";//对应字符。
void f(int x,int m){
	if(x/m) f(x/m,m);//继续递归。
	cout<<c[x%m];//倒序输出。
}
int main(){
	int x,m;
	cin>>x>>m;//输入。
	f(x,m);//递归。
	return 0;
}

```


---

## 作者：wwz1428572008 (赞：17)

### 题目分析
在比10进制大的进制中，10 ~ 15 这些数我们用大写字母 A~F 表示。$x$ 转换成 $m$ 进制时，可以先转换 $\frac{x}{m}$，再添上一位 $x \bmod m$，当 $x=0$ 时结果也是0。按照这个思路可以很容易写出递归代码。
## 代码
```cpp
#include<iostream>
using namespace std;
char ans[100],t=0,dig[16]={'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};
void trans(int x,int m)
{
	if(x<m)
	{
		ans[t++]=dig[x];
		return;
	}
	trans(x/m,m);
	ans[t++]=dig[x%m];
}
int main()
{
	int x,m;
	cin>>x>>m;
	trans(x,m);
	cout<<ans;
	return 0;
}
```

---

## 作者：nanzjz1 (赞：15)

## 分析
本题描述中要求使用递归算法。而事实上，递归算法也是较优解。

例如，当我们将十进制数 $2021$ 转化为十六进制数时，我们首先将它除以底数 $16$ ，得到商并记录余数。再将商继续除以 $16$，重复刚才步骤直至商为 $0$ 时，最后将记录到的余数倒序输出。

如果使用数组进行存储数据需要倒序输出余数，但递归使得我们避免了这一点——不断递归使得最后得到的余数最先输出，即既能顺序计算又能倒序输出，而不需要分两部分代码完成。

一个小常识是：在十一进制到十六进制中，对于超过 $9$ 的数我们依次使用字母A~F代替。因此可以开一个数组，记录下各个数字便于使用。
## 算法
对十进制正整数 $N$，转换到 $M$ 进制时，进行以下步骤：

1. 令 $N$ 除以 $M$，记商为 $a1$，余数为 $a2$；

2. 记录 $a2$ ，继续令 $a1$ 除以 $M$，记商为 $b1$，余数为 $b2$；

3. 重复 **步骤 2** 直至商为 $0$ 时，记录余数，依次倒序输出刚刚记下的余数。



## 代码实现
```cpp
unsigned long long n; int m;//N的范围不确定，开大一点总不会错
char s[17] = "0123456798ABCDEF";//记录数字
void zh(int a, int b)
{
	string s1 = "";//使用字符串进行记录
	s1 += s[a % b];//将本次除法所得余数添加在答案字符串最后处
	if (a/b)//若商不为0
	{
	zh(a / b, b);//让商继续递推
	}
	cout << s1;
}
```
## AC代码
~~事实上就是多了头文件和主函数~~
```cpp
#include<iostream>
#include<string>
using namespace std;
unsigned long long n; int m;
char s[17] = "0123456798ABCDEF";
void zh(int a, int b)
{
	string s1 = "";
	s1 += s[a % b];
	if (a/b)
	{
	zh(a / b, b);
	}
	cout << s1;
}
int main()
{
	cin >> n >> m;
	zh(n, m);
	return 0;
}
```


---


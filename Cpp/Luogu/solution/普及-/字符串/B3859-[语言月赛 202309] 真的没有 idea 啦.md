# [语言月赛 202309] 真的没有 idea 啦

## 题目描述

给定一个字符串 $s$ 和一个字符串 $t$，请你求出：$s$ 有多少对前缀后缀对 $(x, y)$，使得 $yx$ 等于 $t$。

形式化的，设 $n$ 是字符串 $s$ 的长度，你要求出有多少对 $(i, j)$ 满足 $1 \leq i, j \leq n$ 使得 $s_{j}s_{j+1}\dots s_ns_1s_2\dots s_i = t$。

其中 $s_i$ 表示 $s$ 的第 $i$ 个字符，字符串下标从 $1$ 开始。

## 说明/提示

### 数据规模与约定

- 对 $10\%$ 的数据，$|t| = 1$。
- 对 $40\%$ 的数据，$|s| \leq 100$。
- 对 $70\%$ 的数据，$|s| \leq 10^4$。
- 对 $100\%$ 的数据，$1 \leq |s| \leq 10^5$，$1 \leq |t| \leq 100$，$1 \leq T \leq 10$，输入字符串仅含小写字母。


## 样例 #1

### 输入

```
1
aabaabaabaab
aabaabaab```

### 输出

```
2```

# 题解

## 作者：__JiCanDuck__ (赞：6)

~~所有新手向我看齐。~~

# 题面

简化后：取 $s$ 的前缀和后缀，使得两段的长度之和等于 $t$ 的长度。将后缀放在前面，问符合新的字符串等于 $t$。

# 思路

数据范围很小，模拟管够。那么，直接枚举，枚举前缀取多长，直接计算后缀应有的长度。取出来，计算答案。

# 代码

```cpp
#include <iostream>

using namespace std;

string a, b;

int main() {
  int t;
  ios ::sync_with_stdio(0), cin.tie(0), cout.tie(0); //读入优化。
  for (cin >> t; t; t--) {
    int ans = 0;
    cin >> a >> b;
    a = " " + a, b = " " + b; //塞一个空格方便处理。
    for (int i = 1; i < b.size() - 1; i++) { //枚举第一段的长度。
      string s1 = a.substr(1, i), s2 = a.substr(a.size() - b.size() + i + 1); //计算并取出， substr的第一个参数是起始位置，第二个是长度，第二个substr因为直接取到末尾，可以忽略长度。
      ans += (" " + s2 + s1 == b); //如果等于返回 1，否则返回 0（记得加空格）。
    }
    cout << ans << '\n';
  }
  return 0;
}
```

感谢各位观看。

---

## 作者：一扶苏一 (赞：6)

## Source & Knowledge

2023 年 09 月语言月赛，由洛谷网校入门计划/基础计划提供。

---

## 文字题解

### 题意简述

给定一个字符串 $s$ 和一个字符串 $t$，请你求出：$s$ 有多少对前缀后缀对 $(x, y)$，使得 $yx$ 等于 $t$。

### 解析

从一个字符串 $s$ 中取出一个子串的语法是 `s.substr(i, len)`，表示从截取第 $i$ 位起长度为 $len$ 的子串，即截取 $s[i, i + len - 1]$。

注意到 $t$ 的长度只有 $100$，因此取出的 $s$ 的前缀长度也不超过 $100$。可以枚举这个前缀的长度 $i$，那么后缀的长度就是 $|t| - i$。

所以前后缀拼接成的子串就是 `s.substr(0,i) + s.substr(s.size() - (t.size() - i), (t.size() - i))`。判定这个字符串是否等于 $t$ 即可。

## 视频题解


---

## 作者：xujunlang2011 (赞：2)

[题目传送门](https://www.luogu.com.cn/problem/B3859)

## 思路

直接枚举 $x$ 有多长，算出 $y$ 的长度，然后强行拼接在一起，判断是否与 $t$ 相等即可。

直接上代码。

## 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
    int tt;
    cin >> tt;
    for (int ti = 1;ti <= tt;ti++)
    {
    	string s, t;
    	cin >> s >> t;
    	int cnt = 0, l1 = s.length(), l2 = t.length();
    	s = " " + s;
    	t = " " + t;
    	for (int i = 1;i < l2;i++)
    	{
    		int num = l2 - i;//y.size() = t.size() - x.size()
    		string s1 = " ";
    		for (int j = l1 - num + 1;j <= l1;j++)
    		{
    			s1 = s1 + s[j];
    		}
    		for (int j = 1;j <= i;j++)
    		{
    			s1 = s1 + s[j];
    		}//拼接
    		if (s1 == t)
    		{
    			cnt++;
    		}
    	}
    	cout << cnt << "\n";
    }
    return 0;
}           
```


---

## 作者：zhang_Jimmy (赞：0)

# 思路：

由于数据范围较小，我们可以枚举 $x$ 有多长，那么 $y$ 的长度就可以算出来了。

如果设当前枚举的 $x$ 的长度为 $i$，那么 $y$ 的长度就为 $\left\vert s \right\vert - \left\vert t \right\vert - i + 1$。将两个长度的字符串用 `std::s.substr(i, len)` 提取出来，然后将这两个字符串拼接起来，判断是否和 $t$ 相同即可。

代码如下：

```cpp
#include <bits/stdc++.h>
using namespace std;

string x, y;
int t;

int main(){
//	freopen(".in", "r", stdin);
//	freopen(".out", "w", stdout);
	cin >> t;
	while(t --){
		int ans = 0;
		cin >> x >> y;
		x = " " + x, y = " " + y;
		for(int i = 1; i < y.size() - 1; i ++){
			string s1 = x.substr(1, i), s2 = x.substr(x.size() - y.size() + i + 1);
			if(" " + s2 + s1 == y) ans ++;
		}
		cout << ans << endl;
	}
	return 0;
}

```


---


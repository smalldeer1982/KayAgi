# [朝阳区小学组 2019] word

## 题目背景

数据为洛谷自造。

## 题目描述

输入一段文本，行数不超过 $200$ 行。每行上有若干个单词，每行上的单词数不超过 $200$，单词长度不超过 $20$。单词是指用空白符分开的连续字符串。你的任务是：统计每一行上的单词数，并将每行上的单词按字典序从小到大排序。

## 说明/提示

如果某一行上单词数为 $0$，要输出一个 $0$。

## 样例 #1

### 输入

```
this is a test
and can you do it```

### 输出

```
4 a is test this
5 and can do it you```

# 题解

## 作者：Temp113 (赞：3)

## Solution

可以使用 ``getline`` 输入一行。

遍历。若为空格，记录之前的一字符串，统计此字符串。

最后，排序并输出。

## Code

```cpp
#include<bits/stdc++.h>
using namespace std;
const int N = 205;
int tot, l;
string s, ss, a[N];
int main(){
	while(getline(cin, s)){
		tot = 0;
		l = s.length();
		for(int i = 0; i < l; i++){
			if(s[i] == ' '){
				a[++tot] = ss;
				ss = "";
			}else ss += s[i];
		}
		if(ss != ""){
			a[++tot] = ss;
			ss = "";
		}
		sort(a + 1, a + tot + 1);
		cout << tot << ' ';
		for(int i = 1; i <= tot; i++) cout << a[i] << ' ';
		cout << '\n';
	}
	return 0;
}
```

---

## 作者：no_response (赞：3)

## [题目传送门](https://www.luogu.com.cn/problem/B4267)
## 题目大意
输入一段文本，以每行做一次操作。  
操作如下：
- 输出此行文本单词个数。
- 按**字典序**将各个单词输出。
## 解题思路
对于每行文本，可用一个数组存储单词，一个变量存储每个单词。  
每行文本的每个字符的情况：
- 若为一个英文字母，则存入单词变量。
- 若为**空格**（单词分隔符），将单词存入字符串数组，并清空单词变量清空。

### 注意：  
最后一个单词因没有分隔符，不会存入字符串数组。  
我们要最后存入字符串数组之中。    
每次要用一个计数器去存储单词数量。

可以直接用快排排序字符串数组，自动按字典序排序。

输出时先输出单词数量（计数器），再循环输出**排序后**的字符串数组。
## AC CODE
```cpp
#include <bits/stdc++.h>
using namespace std;
int main() {
	string s;
	while (getline(cin, s)) { //输入文本
		string a[210]; //字符串数组
		string t = ""; //单词存储器
		int sum = 0, ans = 0; //下标和单行文本长度
		for (int i = 0; i < s.size(); i++) { //文本 --> 字符串数组
			if (s[i] == ' ') { //若为空格（空格分开），则表明此单词结束
				sum++;
				a[sum] = t; //存入字符串数组
				t = ""; //清空
				ans++;
			} else { //若还为当前单词其中的字母
				t += s[i]; //存入当前单词
			}
		}
		if (t != "") { //最后一个没有存入的单词（没有分隔符）
			sum++;
			a[sum] = t; //存入字符串数组
			ans++;
		}
		cout << ans << " ";
		sort(a + 1, a + sum + 1); //长度排序
		for (int i = 1; i <= sum; i++) { //顺序输出
			cout << a[i] << " ";
		}
		cout << endl;
	}
	return 0;
}
```
为保持洛谷的良好学习习惯，请勿抄袭。  
**千万别抄袭哦。**  
管理大大辛苦了，各位大佬给蒟蒻点个赞呗。

---

## 作者：niuniudundun (赞：1)

[题目传送门](https://www.luogu.com.cn/problem/B4267)

# Problem

输入一段文本，行数不超过 $200$ 行。每行上有若干个单词，每行上的单词数不超过 $200$，单词长度不超过 $20$。单词是指用空白符分开的连续字符串。你的任务是：统计每一行上的单词数，并将每行上的单词按字典序从小到大排序。

# Solution

如果这题只是统计和排序就是很简单，可是他有：

- 如果某一行上单词数为 $0$，要输出一个 $0$。
- 不定长度的一段文本。
- 空白符分开。

这就很麻烦了。

首先处理句子的拆分，假设单词集合为 $word$ 和长度 $n$ 和句子 $s$，可以遍历 $0$ 到 $s$ 的长度 $-1$，设它为 $l$，如果 $s_i$ 是空格，则 $n=n+1$；否则将 $word_n$ 连接 $s_i$。

接着是不定长度和如果某一行上单词数为 $0$，要输出一个 $0$，这是最麻烦的。

首先我们需要知道 **`cin` 是有返回值的**，如果接受到了 `EOF`，也就是 `Ctrl+Z`（`^Z`），返回 `false`，这样可以解决不定长度。

不过句子是有空格的，`cin` 无法输入空格。这是可以定义一个 `char` 变量 $t$，使用 `getchar()` 读取首位，如果是 `EOF`，则结束循环。否则判断是否是 `\n`，是说明输入了空行，输出 $0$。否则拆分句子和排序输出。

然后记得将 $t$ 加入到 $s$ 中。

# Code

复杂度：$O(T(l+n\log n))$，$T$ 是行数，$l$ 在上文。

```cpp
#include<bits/stdc++.h>
using namespace std;
const int maxn=201;
signed main(){
	while(1){
		int n=1;
		string s,word[maxn];
		char t=getchar();
		if(t!=EOF){
			if(t!='\n'){
				getline(cin,s);
				s=t+s; 
				int l=s.length();
				for(int i=0;i<l;i++){
					if(s[i]==' '){
						n++;
					}else{
						word[n]+=s[i];
					}
				}
				sort(word+1,word+n+1);
				cout<<n<<" ";
				for(int i=1;i<=n;i++){
					cout<<word[i]<<" ";
				}
				cout<<endl;
			}else{
				cout<<0<<endl;
			}
		}else{
			return 0;
		}
	}
	return 0;
}
/*
this is a test
and can you do it
*/
```

---

## 作者：lizhixun (赞：1)

## [题目传送门](/problem/B4267)

简单的字符串模拟，遇到一个空格就把前面的字符串存入一个 vector 里面，最后把 vector 排个序输出长度和元素即可，如果是全局变量记得每次要清空。

```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;

string s;

signed main() {
	ios::sync_with_stdio(0);
	cin.tie(0), cout.tie(0);
	
	while (getline(cin, s)) {
		vector<string> vec;
		
		string now;
		int len = s.size();
		
		for (int i = 0; i < len; i++) {
			if (i == len - 1 || s[i] == ' ') {
				vec.push_back(now);
				now = "";
			}
		}
		
		sort(vec.begin(), vec.end());
		cout << vec.size() << "\n";
		
		for (string &S : vec) cout << S << " ";
		cout << "\n";
	}
	
	return 0;
}
```

---

## 作者：_luogu_huowenshuo_ (赞：1)

## 思路
把字符串存入 `vector`，然后排序并输出。用 `stringstream` 分割单词。没有单词输出 $0$。
## 代码
```cpp
#include<bits/stdc++.h>
using namespace std;

int main() {
    string line;
    
    //输入
    while(getline(cin,line)) 
	{
        // 使用 stringstream 分割单词
        stringstream ss(line);
        vector<string> a;
        string w;
        
        //存vector
        while(ss>>w)
            a.push_back(w);
        int cnt=a.size();
        
        //排序并输出
        if(cnt>0)
		{
            sort(a.begin(),a.end());//排序
            cout<<cnt;  //输出
            for(const string&w:a)
                cout<<" "<<w;  //输出
            cout<<endl;
        }
		else
            cout<<"0\n";//没有单词
    }
    return 0;
}

```

---

## 作者：yyycj (赞：0)

## 主要思路
首先特判字符串为空的情况，按照题目输出 $0$。

对于正常字符串，可以用到 `find` 和 `substr` 这两个 `string` 自带的函数。依次找到空格的位置，并截取上一个空格的下一个字符到这个空格的前一个字符，用 `vector` 存储下来。

当空格都找到后时，由于排除了空字符串的情况，所以最后一个空格后一定还有一个字符串，例如 `a b`，`a` 后的空格是最后一个空格，但最后还有单词 `b`。最后输出 `vector` 长度并排序输出。

## AC Code
```cpp
#include<vector>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;

typedef long long ll;
typedef long double db;
const int INT_INF = 0x3f3f3f3f;
const ll LL_INF = 0x3f3f3f3f3f3f3f3f;
// ----------------------------

// ----------------------------
vector<string> vec;
// ----------------------------


int main() {
	string s;
	int idx, last_idx;
	while (getline(cin, s)) {
		if (s == "") {
			cout << 0 << endl;
			continue;
		}
		vec.clear();  // 注意初始化
		last_idx = 0;
		idx = s.find(" ", last_idx);
		while (idx != s.npos) {
			vec.push_back(s.substr(last_idx, idx - last_idx));  // 第二个参数表示截取长度
			last_idx = idx + 1;  // 取空格的下一个字符
			idx = s.find(" ", last_idx);
		}
		vec.push_back(s.substr(last_idx));
		cout << vec.size() << ' ';
		sort(vec.begin(), vec.end());
		for (string i : vec) cout << i << ' ';
		cout << endl;
	}
	return 0;
}
```

---

## 作者：LINYUHENG2 (赞：0)

## 思路
我们可以用 `getline` 实现整行的输入，并定义一个字符串数组、一个变量 $cnt$ 来统计单词数量，最后用 `sort` 函数给字符串排序。
## 代码
```cpp
#include <bits/stdc++.h>
using namespace std;

int main(){
    string s;
    while(getline(cin,s)){
        int cnt=0;
        string x[205],t="";
        for(int i=0;i<(int)s.size();i++){
            if(s[i]==' '){
                x[++cnt]=t;
                t="";
            }else{
                t+=s[i];
            }
        }
        if(t!=""){
            x[++cnt]=t;
        }
        cout<<cnt<<' ';
        sort(x+1,x+cnt+1);
        for(int i=1;i<=cnt;i++){
            cout<<x[i]<<' ';
        }
        cout<<endl;
    }
    return 0;
}
```

---

## 作者：Yi_chen123 (赞：0)

## 前置知识

`istringstream` 是一种特殊的输入流对象，即字符串输入流，它的使用与正常的输入流相差不大，只是把输入数据的地方改为了一个字符串内部。\
下面是一个例子（不完整代码）：

```cpp
string s = "114514 hello";
istringstream iss(s); //一个关联字符串 s 的字符串输入流
int n; string s1;
iss >> n >> s1; //使用字符串输入流进行字符串内的输入
cout << n << endl << s1;
```

输出结果如下：

```
114514
hello
```

## 思路

我们首先使用 `getline()` 函数以获取整行的字符串，再使用 `istringstream` 不断读取这一行以空格分隔的单词，使用一个 `vector` 存放单词，再使用一个变量 `cnt` 记录单词出现的次数，将 `vector` 排序，最后将结果输出即可。

## 完整代码

```cpp
#include<bits/stdc++.h>
using namespace std;

int main(){
	string s1;
	while(getline(s1, cin)){
		vector<string> words;
		string word;
		istringstream iss(s1);
		int cnt = 0;
		while(iss >> word){ //重复读取一行中的若干个单词，并将单词存储至 vector 中
            words.push_back(word);
            ++cnt;
		}
		sort(words.begin(), words.end());
		cout << cnt << ' ';
		for(int i = 0; i < words.size(); ++i) cout << words[i] << ' ';
  		cout << endl;
	}
    return 0;
}
```

---

## 作者：wangyanxiang2013 (赞：0)

我们可以用 ```getline()``` 来输入一个含有空格的字符串，并定义一个变量 $cnt$ 来统计单词数量、一个 ``string`` 类的数组用于存储单词，用 ```sort``` 来排序 ````string```` 类数组。

遍历字符串，遇到空格便把截取的子串存下来，最后排序即可。

上代码。

```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
	string s;
	while(getline(cin,s)){
		int cnt=0;
		string x[1000];
		string t="";
		int pos=0;
		for(int i=0;i<s.size();i++){
			if(s[i]==' '){
				x[++pos]=t;
				t="";
				++cnt;
			}
			else{
				t+=s[i];
			}
		}
		if(t!=""){
			x[++pos]=t;++cnt;
		}
		cout<<cnt<<" ";
		sort(x+1,x+pos+1);
		for(int i=1;i<=pos;i++){
			cout<<x[i]<<" ";
		}cout<<endl;
	}
	return 0;
}
```

---


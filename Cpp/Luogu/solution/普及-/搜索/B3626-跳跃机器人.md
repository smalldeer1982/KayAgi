# 跳跃机器人

## 题目描述

地上有一排格子，共 $n$ 个位置。机器猫站在第一个格子上，需要取第 $n$ 个格子里的东西。

机器猫当然不愿意自己跑过去，所以机器猫从口袋里掏出了一个机器人！这个机器人的行动遵循下面的规则：

- 初始时，机器人位于 $1$ 号格子
- 若机器人目前在 $x$ 格子，那么它可以跳跃到 $x-1, x+1, 2x$ 里的一个格子（不允许跳出界）

问机器人最少需要多少次跳跃，才能到达 $n$ 号格子。

## 说明/提示

#### 样例解释

第一组样例：  
$1\to 2 \to 4\to 8 \to 16 \to 15 \to 30$

第二组样例：  
$1\to 2\to 3\to6\to12\to24\to25\to 50$

第三组样例：  
$1\to 2\to4\to8\to16\to32\to64$

第四组样例：  
$1\to 2\to4\to8\to16\to32\to31\to62\to63$  

请注意在本组样例中，$63$ 不能通过 $64-1$ 得到，因为格子总数为 $63$，没有第 $64$ 个格子。


#### 数据规模与约定

对于 $100\%$ 的数据，有 $1\leq n \leq 1000000$。

## 样例 #1

### 输入

```
30```

### 输出

```
6```

## 样例 #2

### 输入

```
50```

### 输出

```
7```

## 样例 #3

### 输入

```
64```

### 输出

```
6```

## 样例 #4

### 输入

```
63```

### 输出

```
8```

# 题解

## 作者：ShanCreeperPro (赞：31)

## B3626 跳跃机器人 題解

前言：

一定要标记！一定要标记，否则会 MLE。

找别人调代码，结果：

![](https://cdn.luogu.com.cn/upload/image_hosting/3mj4m3o7.png)

***

这题我们可以使用 `bfs`。

**题目大意：** 有 $n$ 个格子，从第一个开始每次只能移动到 $x+1$ 或 $x-1$ 或 $2 \times x$ 的地方，问到达 $n$ 要几步。

这题可以使用 `bfs` 解决。



由于 `bfs` 是向外扩张的，一个点被初次访问是在第 $k$ 层的话，则可以走 $k$ 步到这个点。

`bfs` 写法如下：

- 定义结构体 $pos$，里面存储格子坐标 $x$ 和需要花费的步数 $cost$，并在里面设定一个构造函数：

```cpp
struct pos{
	int x,cost;
	pos(int ax,int acost){
		x=ax,cost=acost;
	}
};
```

- 定义队列 $q$，先将 $(1,0)$ 压入队列；
- 如果队列非空：
	- 取出队首；
    - 判断是否合法：如果越界或已经访问过则非法；
    - **若合法，标记为 1**；
    - 如果走到 $n$，输出方案数 $cost$；
    - 将 $(x+1,cost+1),(x-1,cost+1),(2*x,cost+1)$ 入队。
    

简单的说就是：初始化、处理非法、判断是否到达、扩展。

管理员注：

由于课程需要本题不展示代码。

如需系统学习相关知识点请报名【洛谷-基础算法计划】

---


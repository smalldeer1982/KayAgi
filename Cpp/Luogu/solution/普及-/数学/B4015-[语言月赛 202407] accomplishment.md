# [语言月赛 202407] accomplishment

## 题目背景

对于一个国家来说粮食安全至关重要。所以小 A 认为最好的检验方法就是统计有多少粮食。

## 题目描述

小 A 打开了王国的地图，他的地图可以认为是一个 $n$ 行，$m$ 列的表格，每一个格子可以看做一个城市。

理论上来说小 A 只需要把每个城市的粮食统计并加起来就好了，但是小 A 发现他统计时出现了重大失误：他统计的每个城市的粮食数并不只是这一个城市的粮食数，而是和它相邻的所有的城市的粮食数的和。

这里的相邻指八连通，即一个城市的粮食数是它本身粮食数和它上、下、左、右、上左、下左、上右，下右的城市的粮食数的和：

![](https://cdn.luogu.com.cn/upload/image_hosting/u1vfgakc.png)

现在给出小 A 统计的错误的结果，请你帮他计算出，他的国家实际到底共有多少粮食。

## 说明/提示

### 样例 1 解释

小 A 的王国的粮食数一组可以情况为：
| 1 | 2 | 3 |
| :----------: | :----------: | :----------: |
| 3 | 2 | 1 |
| 1 | 3 | 2 |

易得粮食的总和为 $18$。  

### 样例 2 解释

小 A 的王国的粮食数的一种可能情况是：
| 3 | 3 | 3 |
| :----------: | :----------: | :----------: |
| 3 | 3 | 3 |
| 3 | 3 | 3 |

易得粮食的总和是 $27$。  

### 样例 3 解释

小 A 的王国的粮食数的一种可能情况是：
| 1 | 2 | 3 | 4 | 5 | 6 |
| -----------: | -----------: | -----------: | -----------: | -----------: | -----------: |
| 7 | 8 | 9 | 1 | 2 | 3 |
| 4 | 5 | 6 | 7 | 8 | 9 |

易得粮食的总和是 $90$。

### 数据范围

- 对于 $10\%$ 的数据，$n,m \le 3$，$a_{i,j} \le 18$。
- 对于另外 $30\%$ 的数据，$a_{i,j} \le 9$。
- 对于 $100\%$ 的数据，$1 \le n,m \le 1000$，$1 \le a_{i,j} \le 10^9$，$n,m$ 都是 $3$ 的倍数。保证输入数据均对应至少一组合法的实际粮食数据，且这组实际粮食数据中每个位置均有粮食。  

友情提示：别匆忙，放慢脚步。

## 样例 #1

### 输入

```
3 3
8 12 8 
12 18 13 
9 12 8```

### 输出

```
18```

## 样例 #2

### 输入

```
3 3
12 18 12
18 27 18
12 18 12```

### 输出

```
27```

## 样例 #3

### 输入

```
3 6
18 30 27 24 21 16
27 45 45 45 45 33
24 39 36 33 30 22```

### 输出

```
90```

# 题解

## 作者：BinaryPotatoTree (赞：7)

## 题目大意

小 A 的地图可看作是一个 $n$ 行 $m$ 列的表格，其中每个格子可以看作一个城市。可是，地图上每个城市的粮食数不是它本身的粮食数，而是它与它相邻的所有的城市的粮食数之和。求所有城市的实际粮食数之和。（保证 $n,m$ 均为 $3$ 的倍数）

## 题目分析

因为每个城市在小 A 地图上的粮食数都是它与它相邻的所有的城市的粮食数之和，所以我们可以通过它得到它所在的 $3\times 3$ 矩阵的实际粮食数。

又因为数据保证 $n,m$ 均为 $3$ 的倍数，所以我们可以将地图分割为若干个 $3\times 3$ 矩阵。

故枚举所有在 $3\times 3$ 矩阵的中心的城市并将其在地图上显示的粮食数相加即可得到实际粮食数的总和。

![](https://cdn.luogu.com.cn/upload/image_hosting/n7u0q6vp.png)

## 核心代码

```cpp
for(int i=2;i<=n;i+=3){
    for(int j=2;j<=m;j+=3){
        sum+=a[i][j];
    }
}
```

---

## 作者：I_am_rubbish (赞：1)

## Source & Knowledge

2024 年 7 月语言月赛，由洛谷网校入门计划/基础计划提供。

## 题目大意

输入整数 $n,m$和一个错误矩阵，错误矩阵每个位置的值是原矩阵与这个位置所有相邻格子的和，求原矩阵的所有格子的和。
    
## 题目分析

本题考察数组的运用与一些思维。  

注意到数据保证 $n,m$ 都是三的倍数，那我们就可以把一个大的矩阵分割成一个个 $3 \times 3$ 的矩形，对于每个矩形我们知道，他的中心位置的值就是原矩阵中与其相邻的所有格子的和，我们只需要将所有 $3 \times 3$ 的矩形的中心位置的值累加起来就是原矩阵所有格子的和。

需要注意的是，因为 $a_{i,j} $ 的最大值可以到 $10^9$，而矩阵的大小最多可以是 $1000 \times 1000$，显然可能出现超过 int 最大范围的情况，所以应该对统计答案的数开 long long 以防止因为溢出导致的错误。


## 视频题解

![](bilibili:BV1QT421k7DU?page=8)

---


# [蓝桥杯 2024 省 B] 填空问题

## 题目描述

## 试题 A: 握手问题

### 【问题描述】
小蓝组织了一场算法交流会议，总共有 $50$ 人参加了本次会议。在会议上，大家进行了握手交流。按照惯例他们每个人都要与除自己以外的其他所有人进行一次握手（且仅有一次）。但有 $7$ 个人，这 $7$ 人彼此之间没有进行握手（但这 $7$ 人与除这 $7$ 人以外的所有人进行了握手）。请问这些人之间一共进行了多少次握手？

注意 $A$ 和 $B$ 握手的同时也意味着 $B$ 和 $A$ 握手了，所以算作是一次握手。

### 【答案提交】
这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。

## 试题 B: 小球反弹

### 【问题描述】
有一长方形，长为 $343720$ 单位长度，宽为 $233333$ 单位长度。在其内部左上角顶点有一小球（无视其体积），其初速度如图所示且保持运动速率不变，分解到长宽两个方向上的速率之比为 $dx : dy = 15 : 17$。小球碰到长方形的边框时会发生反弹，每次反弹的入射角与反射角相等，因此小球会改变方向且保持速
率不变（如果小球刚好射向角落，则按入射方向原路返回）。从小球出发到其第一次回到左上角顶点这段时间里，小球运动的路程为多少单位长度？答案四舍五入保留两位小数。

![](https://cdn.luogu.com.cn/upload/image_hosting/i4u1r2zv.png)

### 【答案提交】
这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个小数，在提交答案时只填写这个小数，填写多余的内容将无法得分。

## 说明/提示

答题模板，可供参考。
```cpp
#include<iostream>
using namespace std;
int main() {
    string ans [] = {
        "The answer of task A", // 双引号中替换为 A 题的答案
        "The answer of task B", // 双引号中替换为 B 题的答案
    };
    char T;
    cin >> T;
    cout << ans[T - 'A'] << endl;
    return 0;
}
```

# 题解

## 作者：yitian_ (赞：15)

## 题目分析

1. 试题 A：握手问题

	在一次 $50$ 个人的会议中大家进行了握手交流，其中有 $7$ 个没有相互握手，我们需要求出这些人之间一共进行了多少次握手。

2. 试题 B：小球反弹

	有一个小球在一个长方形内部左上角顶点开始运动，我们需要求出从小球出发到其第一次回到左上角顶点这段时间里，小球运动的路程为多少单位长度。

## 思路

1. 试题 A：握手问题

	共 $50$ 个人，其中 $7$ 个人没有互相握手，所以其他的 $43$ 人都是与 $42$ 个人握了手。
    
	因为 $A$ 和 $B$ 握手的同时也意味着 $B$ 和 $A$ 握手了，算作一次握手。所以要算这 $43$ 人的握手次数，相当于从 $43$ 人中选出 $2$ 人进行组合。即 $C_{43}^2$。
    
   需要注意的是，那 $7$ 人不是没有跟任何人握手，而是 $7$ 人之间没有握手，每个人都与其他的 $43$ 人握了手。所以这 $7$ 人总共的握手次数为 $7 \times 43 = 301$ 次。

	所以答案为 $C_{43}^2 + 301 = \dfrac{43 \times 42}{2 \times 1} + 301 = 1204$ 次。

2. 试题 B：小球反弹

	长方形的长 $x$ 为 $343720$，宽 $y$ 为 $233333$。小球分解到长宽两个方向上的速率之比为 $dx : dy = 15 : 17$。
    
	因为水平方向来回的路程为 $2x$，竖直方向为 $2y$。

	所以小球在左上角时，水平走了 $2x \times k_1$ 个单位长度，竖直走了 $2y \times k_2$ 个单位长度。假设小球运动回左上角的时间为 $a$。
    
  	由题得 $a \times dx$ 和 $0$ 除以 $2x$ 的余数相同，$a \times dy$ 和 $0$ 除以 $2y$ 的余数相同。
  
	也就是说
  	$\begin{cases}
  	a \times dx = k_1 \times 2x\\
  	a \times dy = k_2 \times 2y
	\end{cases}$
    
  	并且 $k_1,k_2$ 都是整数。

	$\therefore a = \dfrac{k_1 \times 2x}{dx} = \dfrac{k_2 \times 2y}{dy}$
    
   $\therefore \dfrac{k_1 \times 2x}{dx} \times dx \times dy = \dfrac{k_2 \times 2y}{dy} \times dx \times dy $
    
	$\therefore k_1 \times 2x \times dy = k_2 \times 2y \times dx$
    
	$\therefore\dfrac{k_1}{k_2} = \dfrac{2y \times dx}{2x \times dy}$
    
   $\therefore\dfrac{k_1}{k_2} = \dfrac{y \times dx}{x \times dy}$

	$\therefore\dfrac{k_1}{k_2} = \dfrac{15y}{17x}$
    
   当 $k_1,k_2$ 最小时 $2x \times k_1$ 和 $2y \times k_2$ 分别为出发后第一次回到左上角时水平方向和竖直方向走的路程。
   
   此时求出 $15y$ 和 $17x$ 的最大公因数 $b$ 为 $3305$。然后 $15y$ 和 $17x$ 分别除以 $b$，就能得到 $k_1 = \dfrac{15y}{b}=\dfrac{15y}{3305}=1059,k_2=\dfrac{17x}{b}=\dfrac{17x}{3305}=1768$。
    
  	把 $k_1 = 1059,k_2=1768$ 代入 $a =\dfrac{k_1 \times 2x}{dx} = \dfrac{k_2 \times 2y}{dy}$，得出 $a\times dx=7.27998960 \times 10^8,a \times dy = 8.25065488 \times 10^8$。

	那么就能算出总路程为 $\sqrt{(a \times dx)^2 + (a \times dy)^2}=1.10032519977 \times 10^9$。

## C++ 代码实现

```c
#include<bits/stdc++.h>
using namespace std;

int main() 
{
    string ans [] = 
    {
        "1204",
        "1100325199.77", 
    };
    char T;
    cin >> T;
    cout << ans[T - 'A'] << endl;
    return 0;
}
```

---

## 作者：wangbinfeng (赞：14)

[![](https://img.shields.io/badge/题目-P10423_[蓝桥杯_2024_省_B]_填空问题（试题_A：握手问题）-green)
![](https://img.shields.io/badge/难度-入门-red)
![](https://img.shields.io/badge/考点-数学（排列组合）-blue)
![](https://img.shields.io/badge/题型-提交答案题（填空题）-yellow)](https://www.luogu.com.cn/problem/P10423)
[![](https://img.shields.io/badge/作者-wangbinfeng(387009)-purple)](https://www.luogu.com.cn/user/387009)

------------
首先考虑朴素的握手问题（$50$ 个人要全部握手），显然握手次数为 $\frac{50\times49}{2}$，思路如下：
> **思路一：** 第 $1$ 个人要和其余 $49$ 个人握手，第 $2$ 个人也要和其他人握手，但由于已经和第 $1$ 个人握手，故只需和 $48$ 个人握手即可，同理第 $3$ 个人要和 $47$ 个人握手，……第 $49$ 个人要和 $1$ 个人握手，第 $50$ 因为已经和所有人都握了手，所以无需再握手。答案为 $\displaystyle\sum^{49}_{i=1}i=\displaystyle\frac{50\times49}{2}$。
>> - $\displaystyle\sum^{y}_{i=x}i=x+\left(x+1\right)+\left(x+2\right)+\dots+\left(y-1\right)+y$。
>
> **思路二：** 每个人都要和除了自己外所有人握手，所以 $50$ 个人每个人都握手了 $49$ 次，共 $50\times49$ 次。设两个人 $X$ 和 $Y$ 握手，$X$ 会主动向 $Y$ 握一次手，$Y$ 又会主动向 $X$ 握一次手，可以发现每两个人都会握手两次，故答案要除以二。

下面考虑本题，因为有 $7$ 个人他们内部是不握手的，因此有三种思路：
> **思路一：** 假设这 $7$ 个人也互相握手，则答案如上面描述。再考虑他们不握手，则只需减掉这 $7$ 个人握手次数即可，答案为 $\displaystyle\frac{50\times49-7\times6}{2}$。   
> **思路二：** 考虑互相握手的 $43$ 人，共握手 $\displaystyle\frac{43\times42}{2}$ 次，再加上这 $7$ 个人分别与另外 $43$ 握手，共握手 $7\times 43$ 次，答案为 $\displaystyle\frac{43\times42}{2}+7\times 43$。   
> **思路三：** 编程，使用暴力法枚举所有的握手情况，思路较为简单，代码实现也较短，这里省略掉代码，请读者自行思考。

三种思路的答案均为 `1204`。

小花絮：[点击这里查看](https://www.luogu.com.cn/discuss/818594)。

------------
------------
------------
[![](https://img.shields.io/badge/题目-P10423_[蓝桥杯_2024_省_B]_填空问题（试题_B：小球反弹）-green)
![](https://img.shields.io/badge/难度-入门-red)
![](https://img.shields.io/badge/考点-数学（正交分解）-blue)
![](https://img.shields.io/badge/题型-提交答案题（填空题）-yellow)](https://www.luogu.com.cn/problem/P10423)
[![](https://img.shields.io/badge/作者-wangbinfeng(387009)-purple)](https://www.luogu.com.cn/user/387009)

------------
由于反弹比较麻烦，考虑不反弹的情况。将长方形分别向右方和下方翻折，把小球速度正交分解成水平速度和竖直速度。易得水平位移比竖直位移等于 $15:17$，显然当且仅当水平位移是原长方形长的偶数次倍，竖直位移是原长方形宽的的偶数次倍时取得答案。

可以编程用暴力法求解答案，代码如下：
```cpp
#include<bits/stdc++.h>
using namespace std;
signed main(){
	for(int i=1;i<=1e4;i++)for(int j=1;j<=1e4;j++){
		const unsigned long long x=343720*i*2,y=233333*j*2;
		if(17*x==15*y){
			cout<<fixed<<setprecision(2)<<sqrt((double)x*x+y*y);
			return 0;
		}
	}
}
```
算出答案为：`1100325199.77`。

---

## 作者：san_ming (赞：3)

**P10423 [蓝桥杯 2024 省 B] 填空问题 题解**

### 前言

* 2024-5-9 数据有问题。


* update：2024-5-10 数据已修正。

[**专栏食用体验更佳**](https://www.luogu.com.cn/article/7wd27wic)

### 题目大意 [题目传送门](https://www.luogu.com.cn/problem/P10423)

#### A题

* 在一次会议中，有 $50$ 个人需要握手，其中有 $7$ 个没有握手，问握手总次数。

#### B题

* 如下图，小球从左上角出发，问再次回到左上角所需要的路程为多少。

![图1](https://cdn.luogu.com.cn/upload/image_hosting/i4u1r2zv.png)

### 解题思路

#### A题
考点：排列组合、数学、枚举等。

* 直接套组合公式 $C_y^x$ 即可。

一共有 $50$ 个人，但其中有 $7$ 个没有**互相**握手，所以 $y = (50-3)$。每次握手都是 $2$ 个人，所以 $x=2$。

但需要注意的是，这 $7$ 个人是没有**互相**握手，而不是没跟**除了这七个人以外**的人握手，所以最后还要加上 $7 \times (50-7)$。

$\begin{aligned}& \quad C_{43}^2 + 7 \times (50-7) \\ 
& = 43 \times 42 \div 2 +7 \times 43 \\
& =1204\end{aligned}$


* 参考答案：$1204$。

#### B题

考点：数学等。

* 要解出这道题，我们需知道一个关键内容，可以将 $x$ 方向和 $y$ 分开计算。那么小球的运动轨迹就可以简化成两个方向的反复运动。

* 具体思路如下。

假设：$x$ 方向进行了 $p$ 个来回，$y$ 方向进行了 $q$ 个来回，经过 $t$ 个单位时间，小球回到了原点。

则 $\begin{cases}
t \times dx = 2x \times p \quad ①\\
t \times dy = 2y \times q \quad ②\\
\end{cases}$

$① \div ②$ 得 $p \div q = y \div x \times dx \div y$

为了找到第一次小球回到起点，对分式进行约分，得 $p_1,q_1$。

则 $t = 2x \times p_1 \div dx$

那么，总路程 $= t \times \sqrt{dx^2+dy^2}$

* 将已知条件带入公式计算即可。

**参考代码**

```cpp
#include<bits/stdc++.h>//By san_ming
#define int long long
#define AC return 0
#define fin freopen("1.in","r",stdin)
#define fout freopen("1.txt","w",stdout)
using namespace std;

signed main() {
    int x=343720,y=233333,dx=15,dy=17;
    int p=y*dx,q=x*dy;
    int g=__gcd(p,q);
    p/=g,q/=g;
    int t=2*x*p/dx;
    double ans=t*sqrt(15*15+17*17);
    printf("%.2lf",ans);
    AC;
}
```

* 将数据带入公式，参考答案：$1100325199.77$。
### AC代码

* 将上面所算出的答案套代码模版输出就行。

```cpp
#include<iostream>
using namespace std;
int main() {
    string ans [] = {
        "1204", // 双引号中替换为 A 题的答案
        "1100325199.77", // 双引号中替换为 B 题的答案
    };//1100325199.77
    char T;
    cin >> T;
    cout << ans[T - 'A'] << endl;
    return 0;
}
```

---

## 作者：gengchenghao (赞：3)

## 第一题
先算 $50$ 人握手两两组合的方案再减去 $7$ 个人方案总数就好了。  
数学公式 $C^2_{50}$ $-$ $C^7_2$ 结果为 $1204$。
## 第二题
返回左上时，走过的水平路程和垂直路程一定是 $343720$ 和 $233333$ 的偶数倍，且它们比为 $15 : 17 $ 
暴力找结果。
### code
```cpp
#include<bits/stdc++.h>
using namespace std;
int main() {
	//暴力 
	for(long long i=2; i<=10000; x+=2)
		for(long long j=2; j<=100000; y+=2)
			if(15*233333*j==17*343720*i) {
				cout<<sqrt((343720*i)*(343720*i)+(233333*j)*(233333*j))//勾股定理;
				return 0;
			}
	return 0;
}
```
## 最终代码
```cpp
#include<iostream>
using namespace std;
int main() {
    string ans [] = {
        "1204
        "1100325199.77",
    };
    char T;
    cin >> T;
    cout << ans[T - 'A'] << endl;
    return 0;
}
```

---

## 作者：封禁用户 (赞：2)

声明：在 2024.5.9 以前疑似 A 题数据错误，但管理员还未改正，并且[这个讨论](https://www.luogu.com.cn/discuss/818594)也指出了我的猜测，既然数据没有改，那就先按我的方法写了。

### A：握手问题

很简单的排列组合问题，用 $50$ 个人的握手数量减去那 $7$ 个人的握手数量（因为他们没有握手），所以答案为 $C^{2}_{50} - C^{2}_{7} = 1204$。
### B：小球反弹

有一个很暴力的做法：因为小球要从左上角弹出又弹回左上角，所以**它走过的垂直距离和水平距离都是纵轴和横轴的偶数倍**。

为什么呢？我们想象一下，小球走到了长方形下方边缘以后，一定要弹回去，也就是弹回上方边缘，所以每次走过的垂直距离都是它的偶数倍，同理水平距离也一样。

即可写出以下暴力代码（呃，蒟蒻一个）：

```cpp
int L = 343720, W = 233333;
for (long long x = 2; x <= 10000; x += 2)
{
    for (long long y = 2; y <= 10000; y += 2)
    {
        if (15 * W * y == 17 * L * x) {
            cout << fixed << setprecision(2) << sqrt((L * x) * (L * x) + (W * y) * (W * y)); 
            // 勾股定理，求斜边
            return 0;
        }
    }
}
```
答案是 `1100325199.77`。

完整代码还要放吗？

注意开万能头文件，因为有其它函数。

---

## 作者：__galaxy_1202__ (赞：1)

### The answer of task A:
很裸的题目，先算 $50$ 握手的次数再减去 $7$ 人握手的次数。带入写出：$C^2_{50} - C^2_7 = 1225 - 21 = 1204$
### The answer of task B:
题目里说了：比例为 $15:17$，那首要的就是要找到 $dx$ 和 $dy$。那 $dx \times 233333 \times 15 = dy \times 343720 \times 17$，这个数比较难求，可以打暴力来求~~而我有计算机~~。最后求出 $dx = 1768,dy = 1059$。求出后，就可以用大名鼎鼎的**勾股定理**来求出答案了，式子为：  
$\sqrt{(1768 \times 233333) \times (1768 \times 233333) + (1059 \times 343720) \times (1059 \times 343720)}$      
用计算器可求出答案：$1100325199.77$。  
### 最终程序：
```cpp
#include <iostream>
using namespace std;
char T;
int main()
{
    string ans [] = 
    {
        "1204", // 双引号中替换为 A 题的答案
        "1100325199.77", // 双引号中替换为 B 题的答案
    };
    cin >> T;
    cout << ans[T - 'A'] << endl;
    return 0;
}
``````
### 暴力程序（B题）：
```cpp
#include <iostream>
#include <cmath>
using namespace std;

int main()
{
	for (int i = 2; i <= 10000; i++)
		for (int j = 2; j <= 100000; j++)
			if (i * 15 * 233333 == j * 17 * 343720)
			{
				cout << i << ' ' << j << '\n';
				return 0;
			}
	return 0;
}
```
勾股定理的话自己用计算机算就好啦!

---

## 作者：tanzexiaodezhonghao (赞：0)

# 思路
## 试题A
因为每个人都要与除了自己外的每个人握手，那么每个人都会握 $49$ 次手，一共 $50 \times 49$ 次。但由于 $A$ 和 $B$ 都会互相主动握手，所以每两个人会握两次，最终应该是  $\dfrac{50 \times 49}{2}$ 次。

但题目说了有 $7$ 个人不会相互握手，我们再减去这些人互相握手的次数，结果为 $\dfrac{50 \times 49 - 7 \times 6}{2}$ 次，共 $1204$ 次。
## 试题B
将长方形分别向下方和右方翻折，把小球速度分解成水平速度和竖直速度，得出水平位移与竖直位移的比为 $15:17$，那么答案为水平位移是原长方形长的偶数次倍，竖直位移是原长方形宽的的偶数次倍时的结果。这里给出代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
#define ull unsigned long long
int main(){
    for(int i=1;i<=10000;i++){
        for(int j=1;j<=10000;j++){
            ull a=343720*i*2,b=233333*j*2;
            if(17*a==b*15){
                printf("%.2lf",sqrt((double)a*a+b*b));
                return 0;
            }
        }
    }
    return 0;
}
```
得出结果是 $1100325199.77$。
# 代码
这是提交上去的代码：
```cpp
#include<iostream>
using namespace std;
int main() {
    string ans [] = {
        "1204", // 双引号中替换为 A 题的答案
        "1100325199.77", // 双引号中替换为 B 题的答案
    };
    char T;
    cin >> T;
    cout << ans[T - 'A'] << endl;
    return 0;
}
```

---

## 作者：ダ月 (赞：0)

A：

一个大小为 $n$ 的无向完全图有 $\dfrac{1}{2}n(n-1)$ 条边。

本题就是一个大小为 $50$ 的无向完全图中挖掉一个大小为 $7$ 的无向完全图。

B：

（以下长代表长方形的长，宽代表长方形的宽。）

显然，$x$ 走的路径和 $y$ 走的路径都是一个整数，且走满了偶数次长和偶数次款。

不妨枚举走了多少次长，然后算出此时走的宽的距离。如果走满了宽的次数是个整数且是 $2$ 的倍数的话，说明合法。因此从小到大枚举走了长的次数即可。

最后算走的距离，直接横着走的距离和竖着走的距离，算一个欧几里得距离就行。

~~我也不知道算多少次停机，但是很快就停机了~~。

答案就不说了，代码也不给了。

---

## 作者：coderJerry (赞：0)

### 题目大意：[传送门](https://www.luogu.com.cn/problem/P10423)
### 题目分析
- ### Task A
存在 $7$ 人内部没有握手，而另外 $43$ 人都全部和别人握过手了，相当于一张有 $50$ 个点的完全图里抠掉了点数为 $7$ 的完全图的边数，答案即为 $\frac{50\times49}{2}-\frac{7\times6}{2}=1204$。
- ### Task B
从起点出发最后又回到起点，说明反弹时有一来一回，水平和竖直方向的总路程必定是 $343720$ 和 $233333$ 的整数倍，并且由小球速度的方向和大小可知，它们的比为 $15:17$。写个暴力就可以知道，答案是 $1100325199.77$。

---


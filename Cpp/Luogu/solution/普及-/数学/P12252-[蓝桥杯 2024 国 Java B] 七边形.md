# [蓝桥杯 2024 国 Java B] 七边形

## 题目描述

小蓝迷上了七边形，他正尝试用小球来拼接出他喜欢的七边形图案。下图是他拼出的前四个七边形，第 $1$ 至第 $4$ 个七边形图案消耗的小球数量依次是 $1$、$7$、$18$、$34$。请问对于第 $20240601$ 个七边形图案，需要消耗的小球数量是多少？

![](https://cdn.luogu.com.cn/upload/image_hosting/il38zoo7.png)

# 题解

## 作者：weifengzhaomi (赞：2)

~~我又...又（不知道多少个又）来发题解啦~~

## 题意 & 化简

给出了 4 个数，分别是：

    1 7 18 34

现在要我们算，求第 20240601 个的值。

设 $n = 20240601$。

## 思路 1.0 找规律

这道题可以用找规律来计算，那么通过找规律，可以发现，$5 \times n \times (n + 1) \div 2 − 4 \times n$。

## 思路 2.0 循环查找

我们对比一下或观察一下，容易发现，第 $i$ 个都比 $i - 1$ 个多 $5 \times i - 4$。于是，我们循环到 $n$，一个一个算就好了。

#### 不开 long long 见祖宗！

代码：


```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	printf("1024204791742101\n");// 我比较懒，直接输出。
}
```

---

## 作者：Dicer_L (赞：2)

## solution

### 思路

![logo](https://cdn.luogu.com.cn/upload/image_hosting/il38zoo7.png)

其实这张图已经告诉我们了。

从 $n=2$ 开始，把每次这个七边形新增加的蓝色部分加上上一次已经算好的灰色部分就可以了。当 $n=1$ 时，把 $ans$ 初始化成 $1$。

那么蓝色部分怎么算呢？我们可以发现，蓝色部分总共由 $5$ 条边构成，每条边的点数恰好就是 $n$ 的数目。同时每条边还要共用顶点，再减去共用点数 $4$。得到表达式 $5n-4$。

>请问对于第 $20240601$ 个七边形图案，需要消耗的小球数量是多少？

我们复杂度为 $\mathcal{O(n)}$，可以过。数值较大，c++ 用户一定要记得开 longlong。

### 代码

~~~cpp
#include<bits/stdc++.h>
long long ans=1;
signed main(){
	for(int i=2;i<=20240601;i++) ans+=i*5-4;
	std::cout<<ans;
}
~~~
~~~java
public class Main {
    public static void main(String args[]) throws Exception {
        long ans=0;
        for(int i=1;i<=20240601;i++){
            ans+=5*i-4;
        }
        System.out.println(ans);
    }
}
~~~

---

## 作者：chenzhiyuAndy (赞：1)

# 思路1 循环计算：
找规律： $1,7,28,34,...$ 发现第$i$个比第 $i-1$ 个多 $5*i-4$ 个于是代码就写出来啦！
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
int ans=1;
signed main(){
	for(int i=2;i<=20240601;i++) ans+=5*i-4;
	cout<<ans;
	return 0;
}
```
# 思路2 求通项：
对于第 $i$ 个为
$$
1+5*(1+2+3+...+(i-1)+i)-4*(i-1)-5=5*a*(a+1)/2-4*a
$$
于是代码就出来啦！
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
signed main(){
	int a=20240601;
	cout<<5*a*(a+1)/2-4*a;
	return 0;
}
```
# 思路3 直接输出：
将以上任意一份代码运行或代入公式即可得到答案为 $1024204791742101$ 直接输出即可\
代码：
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
signed main(){
	cout<<1024204791742101;
	return 0;
}
```

---

## 作者：CCY20130127 (赞：1)

## 题目大意：
[题目传送门](https://www.luogu.com.cn/problem/P12252)

写题解之前，看了一下各位的方法，发现没有人和我一样，于是就发了。

## 题目思路：
不难发现，每一张图的灰色部分就是上一张图的蓝色部分。但是每张图到底增加了多少呢？请看下面得图：
![](https://cdn.luogu.com.cn/upload/image_hosting/cyb0tfs3.png)

从这张图可以发现，每增加一个七边形，就会增加 $6$ 个球，但是后面的小尾巴从哪来的呢？其实每一个图最上方是有几个重复的，把那些减掉就行了。

不开 `long long` 见祖宗！

## 正解:

```cpp
#include<bits/stdc++.h>
using namespace std;
#define int long long
int ans=1,c,k=1;
signed main(){
	ios::sync_with_stdio(0);
	cin.tie(0),cout.tie(0);
	for(int i=2;i<=20240601;i++){
		k=(i-1)*6-c;
		c++;
		ans+=k;
	}
	cout<<ans<<"\n";
	return 0;
}
```

---

## 作者：wrh316 (赞：1)

~~抢一血。~~

C++ 选手来分析 Java 题目。

### 思路
观察这个七边形。发现：

第 $n$ 个图形，需要 $7(n - 1) - 2(n - 1) + 1= 5(n - 1) + 1= 5n - 4$ 个小球加上前一个图形的小球数量，循环计算即可。

答案为 $1024204791742101$。

### 代码
~~应管理员要求，不得不发 Java 代码。~~

```Java
public class Main {
    public static void main(String[] args) {
        int n = 20240601;
        long ans = 1;
        for (int i = 2; i <= n; i++) ans += 5L * i - 4;
        System.out.println(ans);
    }
}
```

补充 C++ 代码：

```c++
#include <bits/stdc++.h>
using namespace std;

int n = 20240601;
unsigned long long ans = 1;
int main(){
	for(int i = 2;i <= n;i++) ans += 5 * i - 4;
	cout<<ans;
	return 0;
}
```

---

## 作者：kuaiCreator (赞：0)

## 解题思路
找规律，发现第 $n$ 个图形比第 $n-1$ 个图形会多
$$7 \times (n - 1) - ((n - 1) \times 2 - 1)$$

第 $n$ 个图形外圈每条边 $(n-1)$ 个小球，上方去掉 $(2\times(n-1)-1)$ 个灰色小球。

循环迭代算出第 $20240601$ 个图形的小球总数即可。

```c++
#include<bits/stdc++.h>
using namespace std;
int main() {
	long long cnt = 1;
	int n = 20240601;
	for (int i = 2; i <= n; i++) {
		cnt += (7 * (i - 1)) - ((i - 1) * 2 - 1);
	}
	cout << cnt << endl;
	return 0;
}
```

---

## 作者：yan_yu_feng_chen (赞：0)

[题目传送门](https://www.luogu.com.cn/problem/P12252)

~~其实很简单啊~~

不难发现，每一张图的蓝色部分就是每次要加的地方。

而第 $i$ 张图的每个蓝色部分可以分为 $5$ 条 $(i - 1)$ 的边外加上一个~~孤零零的~~点，所以第 $i$ 张图的蓝色部分有 $5 \times (i - 1) + 1$ 个点。

对于 $i = 1$ 的情况，蓝色部分依然可以套用该公式。

答案初值设为 $0$，一直累加就行啦。

C++ 不开 `long long` 见祖宗哦。

### 代码

```cpp
#include <bits/stdc++.h>
using namespace std;
#define int long long

int n = 20240601, ans = 0;

signed main(){
    for (int i = 1; i <= n; i++) ans += 5 * (i - 1) + 1;
    cout << ans << "\n";
    return 0;
}
```


```java
public class Main {
    public static void main(String args[]) throws Exception {
        ing n = 20240601;
        long ans = 0;
        for (int i = 1; i <= n; i++){
            ans += 5 * (i - 1) - 1;
        }
        System.out.println(ans);
    }
}
```

---

## 作者：LINYUHENG2 (赞：0)

## 思路
![](https://cdn.luogu.com.cn/upload/image_hosting/il38zoo7.png)

其实这张图早就告诉我们规律了。

从 $n=2$ 开始，所用的小球数量为图中的蓝色部分加上上一次的小球个数。

那蓝色部分有多少个小球呢？蓝色部分由 $5$ 条边组成，每条边的长度为 $n$，减去四个公用顶点，蓝色部分的小球数量即为 $5n-4$。

于是，我们得到了计算小球数量的公式，是一个递归函数，记为 $f$。

$$
f(n)=
\begin{cases}
1\ n=1 \\
5n-4+f(n-1) \ n> 1
\end{cases}
$$
## 代码
```cpp
#include <bits/stdc++.h>
using namespace std;
long long f(int n){
    if(n==1) return 1;
    return 5*n-4+f(n-1);
}

int main(){
    printf("%lld",f(20240601));
    return 0;
}
```
```java
public class Main {
    public static long f(int n) {
        long result = 1;
        for (int i = 2; i <= n; i++) {
            result = 5 * i - 4 + result;
        }
        return result;
    }
    public static void main(String[] args) {
        System.out.println(f(20240601));
    }
}
```

---

## 作者：W_C_B_H (赞：0)

如下图，观察前几项可知，每一项与其前面一项的差可以拆成 $5x+1$ 的形式，其中 $5x$ 表示五条黄线，$1$ 表示多出来的一个，在图中用绿色圆圈标记。

![](https://cdn.luogu.com.cn/upload/image_hosting/w3cg8v2s.png)

设第 $i$ 个七边形图案需要消耗 $f_i$ 个小球，由上可得：$f_i+5i+1=f_{i+1}$，故写个循环递推即可。

另外注意答案较大，无论是 C++ 还是 Java 用 `int` 都会爆。

Code：

```java
public class Main {
    public static void main(String[] args) {
        long ans = 1, n = 20240601;
        for(long i = 1; i < n; i++) {
            ans += (5 * i + 1);
        }
        System.out.println(ans);
    }
}
```

---

## 作者：yanmingqian (赞：0)

观察前几项即可。

每次拼成多一个七边形，就要加上五条边，第 $i$ 次每条边有  $i$ 个小球。加五条边会有四个角，因此每次加的数目为 $5i-4$。然后直接递推就行。

```cpp
#include<iostream>
using namespace std;
int main(){
    long long ans=0;
    for(int i=1;i<=20240601;i++){
        ans+=i*5-4;
    }
    cout<<ans;
    return 0;
}
```

```java
public class Main {
    public static void main(String args[]) throws Exception {
        long ans=0;
        for(int i=1;i<=20240601;i++){
            ans+=5*i-4;
        }
        System.out.println(ans);
    }
}
```

---


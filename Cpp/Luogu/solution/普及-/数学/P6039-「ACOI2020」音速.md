# 「ACOI2020」音速

## 题目背景

![T1](https://s2.ax1x.com/2020/01/12/loSQJI.png)

防卫省的 乌间 惟臣（Tadaomi Karasuma）老师来到了椚丘中學给予了三年 E 班的同学们重大的任务：在一年内暗杀掉一个超生物（被 茅野 カエデ 取名为杀老师）。于是同学们开始努力地训练。但是很快的，杀老师展现了它的本领，可以以 20 马赫的超高速持久飞行，导致同学们根本碰不到杀老师。于是他们准备找乌间购买一个传送器。

## 题目描述

现在同学们在后山埋伏。同学们对后山足够熟悉，并且后山足够宽广，可以看做一个无限大的平面直角坐标系，而同学们在 $(0,0)$ 这个位置。这时候杀老师在 $(x,y)$ 这个位置捡到了 岡島 大河 所放置的小黄书认真地读了起来。同学们现在可以以自己为圆心，$r$ 为半径画一个圆然后把传送器抛出去，落在圆上一点 $S$，传送器可以在落点处作一条与刚才的圆相切的直线 $PQ$，现在这条直线就是我们的传送器了。

传送器的作用是：把同学们传送到他们所站的点关于 $PQ$ 的对称点。而且他们必须要**传送后移动**到杀老师的位置才能攻击它。现在，乌间看了他们的计划之后十分感叹，但是他有两个问题想问同学：

- 他们用了传送器之后，至少需要移动多远？

- 在保证移动距离最短的方案下，$PQ$ 与 $x$ 轴夹角的 $\tan$ 值为多少？我们认为夹角在 $[0,180]$ ° 。

## 说明/提示

#### 数据范围 

**本题采用捆绑测试**。

- Subtask 1（10 points）：$x,y,r$ 满足 $x^2+y^2=r^2$。     
- Subtask 2（20 points）：$x,y$ 中至少有一个为 $0$。     
- Subtask 3（70 points）：数据无特殊限制。    

对于 $100\%$ 的数据， $0 \leq |x|,|y|,r \leq 10^{10}$。

---
####  提示

1. **本题含有 SPJ**，如果第一个问题的答案与标准答案差的绝对值不大于 $10^{-6}$ 时就能获得该测试点的分数的 $50\%$。当第一个问题的答案正确时：      
- 若第二个问题的答案不为 ```Error``` 时，当输出答案与标准答案差的绝对值不大于 $10^{-2}$ 时能得到该测试点的所有分数；
- 当第二个问题的答案为 ```Error``` 时，只有输出 ```Error``` 才能得到该测试点的所有分数。  
**因为 SPJ 敏感，如果只能回答第一个问题，也请在第二行随意输出一些值，不要输出 `Error`**。

2. $\tan$ 值表示在一个 **直角三角形** 中，一个角相对的直角边与其相邻的直角边的比值，比如 $\tan\ 45°= 1$。特殊地，$90°$ 的 $\tan$ 值**无意义**。

3. 和圆只有一个公共交点的直线叫做圆的**切线**，连接切点与圆心的半径**垂直**于切线。

## 样例 #1

### 输入

```
11 0
5
```

### 输出

```
1.000000
Error```

## 样例 #2

### 输入

```
6 8
4
```

### 输出

```
2.000000
0.75```

# 题解

## 作者：Rubidium_Chloride (赞：37)

这是本人写的第一篇题解，有什么不足还请大家见谅

进[博客](https://www.luogu.com.cn/blog/Rolling-blog1424/solution-p6039)食用更佳呦！

## 0.前情提要

重制版，修了一下 $\LaTeX$ 之类的内容。


## 1.题目大意

首先我们来概括一下题意：

输入两个数 $x,y$，以及一个半径 $r$，表示目的地的坐标和投掷的范围。

## 2.处理1

为了解决这个比较简单的问题，我们需要有一些数学的头脑。

注意题目中 _“而且他们必须要传送后移动到杀老师的位置才能攻击它”_ 一句，表明他们**必须使用传送器**。

两点之间直线最短。

所以我们可以顺其自然地想到**要朝杀老师的方向投掷传送器！！**


证明：

首先建立平面直角坐标系 $xOy$，先算出杀老师（位于 $A$ 点）到学生们（位于 $O$ 点）的欧几里得距离（$dis$）以及杀老师与学生的连线与 $x$ 轴的夹角 $\alpha$，记朝 $\alpha$ 方向掷出的传送器会将同学们传送至 $B$ 点，既证 $BA+OB$ 这段距离最短（尽管 $OB$ 是传送的，但也相当于走过了，纳入计算）。

接下来分两种情况讨论：

如果 $2\times r\le dis$：

若掷出传送器的角度 $\theta\neq \alpha$：

则会将同学们传送至与 $B$ 不同的点 $B_1$，学生们需要再从 $B_1$ 走到 $A$，总路程为 $OB_1+B_1A$。

因为**三角形两边之和大于第三边**，所以 $OB_1+B_1A>OA=OB+BA$

所以朝着 $\alpha$ 方向扔是最有利的。

如果 $2\times r> dis$，此时传送器会将学生们传送至更远的地方了。

若掷出传送器的角度 $\theta\neq \alpha$。

则会将同学们传送至与 $B$ 不同的点 $B_1$，学生们需要再从 $B_1$ 走到 $A$，总路程还是为 $OB_1+B_1A$。


连接 $BB_1$，令 $\angle OBB1=\beta$，$\angle AB_1B=\gamma$。

因为 $OB_1=OB=2\times r$，所以$\angle OB1B=\angle OBB1=β$，

所以 $\gamma<\beta$。


运用**正弦定理**，可得 $\dfrac{B_1A}{\sin\beta}=\dfrac{BA}{\sin\gamma}$。

因为 $\sin\beta,\sin\gamma>0$，且 $\sin\beta>\sin\gamma$，

所以 $B_1A>BA$。

综上，证毕。

## 3.处理2

在一大段的证明后，我们解决了本题的第一小问，接下来我们处理第二小问。

我们要研究的就是在单位圆意义下，$\tan\alpha$ 到底代表什么？

答：$\dfrac{y}{x}$（纵坐标/横坐标）。

证明：令由原点引出的一条射线交单位圆于 $C(x_1,y_1)$，与 $x$ 轴正半轴夹角为 $\alpha$。

则 $\cos\alpha=x_1,\sin\alpha=y_1$。

$\tan\alpha=\dfrac{\sinα}{\cosα}=\dfrac{y_1}{x_1}$。


## 4.处理3

本部分主要集中处理一些易错点。

1. 上节说过了，$\tan\alpha=\dfrac{y}{x}$，但是我们需要求的并不是$\tan\alpha$。

答案应该是 $\tan {90^\circ-α}$，所以答案是 $\dfrac{x}{y}$！

2. 题目提示里有 $\tan 90^\circ$ 无意义，输出`ERROR`，想必神仙们你都注意到了，但是，这个点并不是要说这个，而是要说一组特殊的数据。

```
0 0
1
```

你的程序输出是什么？

是

```
2.000000
ERROR
```

吗？

那你就错了，正确的输出应该是：

```
2.000000
0.00
```

（解释：此时可以向**任意方向**投掷传送器，所以向 $x$ 轴正半轴方向投掷所得 $\tan\alpha=0$，最小。）

## 5.CODE

（对于各位大佬来说，我的代码可能不太美观，还请大佬们原谅。）

```cpp
#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
double x,y,r;double dis;
int main(){
	cin>>x>>y>>r;
	dis=abs(sqrt(x*x+y*y)-2*r);
	cout<<fixed<<setprecision(6)<<dis<<endl;
	if(y==0&&x==0) cout<<fixed<<setprecision(2)<<0.00<<endl;
	else if(y==0) cout<<"Error"<<endl;
	else cout<<fixed<<setprecision(2)<<abs(x/y)<<endl;
	return 0;
}

```

---

## 作者：Azazеl (赞：10)

$\ \ \ \ \ \ \ \ \color{orange}\texttt{This it T1's Solution}$   
$\ \ \ \ \ \ \ \ \ $[$\color{orange}\texttt{Link:T1 音速}$](https://www.luogu.com.cn/problem/P6039)  

$\ \ \ \ \ \ \ \ $本篇题解中所用的字母标号可能部分与原题不同，请注意辨认。且本题解中讨论的情况均是杀老师在第一象限的情况。  

$\ \ \ \ \ \ \ \ $比赛发起者说让我出签到题，然后我脑子一热就出了这么一道猜结论题。  

$\ \ \ \ \ \ \ \ $首先，我们很显然可以发现，其实学生们在原点可以传送到的点其实就是以**原点为圆心**, $2r$ **为半径**的圆。~~当然，我们也可以用几何画板发现。~~  

$\ \ \ \ \ \ \ \ $证明：由于传送点与当前点关于 $PQ$ 对称，且由**切线的性质定理**可知：连接切点与圆心的半径垂直于切线,所以 $OO'=2OP=2r$。  

![捕获.PNG](https://i.loli.net/2020/01/11/AZ46WyiodpFh5Qm.png)    

$\ \ \ \ \ \ \ \ $而由于**移动再传送过去**和**传送过去再移动**其实是等价的(两者唯一的区别只是在同一直线上进行方向相反的但等距离的运动)，因此我们可以将问题转化为：

$\ \ \ \ \ \ \ \ $给出一点 $(x,y)$， 求：寻找在以原点为圆心，$2r$ 为半径的圆上一点到 $(x,y)$ 的最短距离。  

$\ \ \ \ \ \ \ \ $然后我们分两种情况讨论：  

$\ \ \ \ \ \ $1.这个点在圆内。  
$\ \ \ \ \ \ $此时,我们应该可以猜想:圆上需要寻找的点 $P$ 就在原点经过目标点的半径上。  
$\ \ \ \ \ \ $证明:我们假设在圆上有另外一点 $P'$ 到目标点的距离更优  
![捕获.PNG](https://i.loli.net/2020/01/11/MEBycW5wJd1vHQa.png)  
$\ \ \ \ \ \ $如上图,我们连接 $OP'$  
$\ \ \ \ \ \ $∵ $\ PS=OP-OS$  
$\ \ \ $又∵ $\ P'S>OP'-OS$   
$\ \ \ \ \ \ $∵ $\ OP=OP'=r$  
$\ \ \ \ \ \ $∴ $\ P'S>OP'-OS=OP-OS=PS$  
$\ \ \ \ \ \ $∴ $\ P'S>PS$  
$\ \ \ \ \ \ $证毕。  

$\ \ \ \ \ \ $以此类推，即可证明圆上除 $P$ 点外所有 $P'S$ 均不可能小于 $PS$。  

$\ \ \ \ \ \ $2.这个点在圆外。  
$\ \ \ \ \ \ $仿照$1$的证法亦可证明,这里就不给出图与证法了。    

$\ \ \ \ \ \ $综上所述，同学们所需移动的距离就是：  
$$\texttt{|2r-dis(S,(0,0))| \ \ (S表示杀老师所在的点)}$$

$\ \ \ \ \ \ \ $由上述推论可知,$OS$ 所在的直线包含 $O$ 与杀老师所在位置所形成的连线，所以$\tan$夹角就等于 $\texttt{x/y}$。  

$\ \ \ \ \ \ \ $这里有必要解释一下为什么$\tan$值是$\texttt{x/y}$  

$\ \ \ \ \ \ \ $如图  
![8W__H__3J~X_JH_QOT_91LE.png](https://i.loli.net/2020/01/27/NQ1rFPqHWxUh4gl.png)  
$\ \ \ \ \ \ \ $有这么一个公式(但个人认为这里其实是这道题的一个败笔,可能造成一部分学科方面的隔阂)  

$$\tan \alpha =\cot (90-\alpha)$$ 

$\ \ \ \ \ \ \ \cot$表示在一个直角三角形中，一个角相邻的直角边与其相对的直角边的比值。

$\ \ \ \ \ \ \ $(这个定义可能让你觉得这个公式是顺理成章的,但没有学习时会有一定困难。在这里向各位做题人道歉.)

$\ \ \ \ \ \ \ $所以$\tan \angle SQO=\cot \angle SOQ\ (\angle OSQ=90$°$)$  

$\ \ \ \ \ \ \ $而$\cot \angle SOQ$在$\triangle \texttt{杀}OM$中的$\cot$值即为$\texttt{x/y}$  

$\ \ \ \ \ \ \ $所以$\tan \angle SQO=\texttt{x/y}$

$\ \ \ \ \ \ \ Warning$  

$\ \ \ \ \ \ \ 1.$当 $x,y$ 为负数时，要取它们的绝对值，不然 $\tan$ 会出负数。

$\ \ \ \ \ \ \ 2.$注意算距离的时有可能会出现 $-0.000000$ 的情况(也有可能是我自己代码写丑了)。

$\ \ \ \ \ \ \ 3.$```Error```其实就是杀老师所在的点在 $X$ 轴上时，所作的切线 $PQ$⊥$X$ 轴 的时候。

$\ \ \ \ \ \ \ 4.$同学们一定是**传送过去**进行暗杀，不能因为直接跑过去快一些就不进行传送。

$\ \ \ \ \ \ \ 5.$杀老师有可能在原点，此时它们投掷传送器的落点就应该是在  $X$ 轴上因为此时 $\tan$ 值为 $0$,保证最小。  

$$\mathcal{CODE}$$
```cpp
#include <cmath>
#include <cstdio>
#define ld long double
using namespace std;
inline ld dis(ld x,ld y){return sqrt(x*x+y*y);}
inline ld Fabs(ld a){return a>0?a:-a;}
int main() {
	ld x,y,r;
	scanf("%Lf %Lf %Lf",&x,&y,&r);
	if(x<0) x=-x;
	if(y<0) y=-y;
	ld ans=Fabs(2*r-dis(x,y));
	if(ans!=0) printf("%.6Lf\n",ans);
	else printf("0.000000\n");
	
	if(y==0&&x!=0) printf("Error");
	else if(x==0) printf("0.00");
	else 
	{
		if(x/y!=0) printf("%.2Lf",x/y);
		else printf("0.00");
	}
	return 0;
}
```

---

## 作者：Reanap (赞：5)

**前言**

作为本题的验题人，我非常的无语，题目拿上来一看，第二个样例就锅掉了，我怒气冲冲地去喷负责人 [@C20211711刘君实1](https://www.luogu.com.cn/user/184977) ， 差点被喷回来，我表示非常地无奈。

**正文**

这道题比较简单，只是需要注意一点点细节。

我们有一个传送器，显然传送路径要在原点与目标点的连线上才是最优的，否则就是一条折线，具体可以画同心圆自行理解。

自此这就是一道模拟题。由于除数为$0$是没有意义的，所以要判断$Error$，但是有特殊情况，相比有很多小可爱都是卡在了这里，那就是杀老师就在原点的情况。

好，大概就是这个样子。

代码如下:

```cpp

#include<cmath>
#include<cstdio>
using namespace std;
double x,y,r,ans;
int main() {
	scanf("%lf %lf %lf",&x,&y,&r);
	printf("%.6lf\n",abs(sqrt(x * x + y * y) - r * 2));
	if(x == 0 && y == 0) printf("0.00\n"); 
	else if(y == 0) printf("Error\n");
	else printf("%.2lf\n",abs(x) / abs(y));
	return 0;
} 

```

---

## 作者：e的x次幂 (赞：2)

## 1.分析
	题目的意思如下图：
![](https://cdn.luogu.com.cn/upload/image_hosting/i3dbir4n.png)


**如图所示**，现在同学们在点 $O$ ，要去的地方是 $S$ 。

~~因为两点之间线段最短~~，所以同学们要把传送器往杀老师的方向扔。

他们能把传送器扔到点 $N$ 处，（$ON=r$）。

易得：$O$ 关于 $PQ$ 的对称点为 $M$，$OM=ON+NM=2r$。



#### Q1
传送之后，同学们在点 $M$ 处。

~~又因为因为两点之间线段最短~~，所以同学们现在要从点 $M$
沿着线段 $MS$ 走。

这两点的距离：
$MS=\vert OS-OM \vert=\vert \sqrt{x^2+y^2}-2r \vert$

#### Q2
如图，在点 $N$ 处与圆相切的直线为 $PQ$，
设 $\angle POQ=\theta$。$PQ$ 与 $ON$ 垂直，原因：圆上某点到圆心的线段，与该点处圆的切线垂直。

那么，题目让我们求的就是 $\tan{\theta}$。

$\tan{\theta}$ 表示：在直角三角形中，该角相对的直角边与其相邻的直角边的比值（$\theta$ 为直角时原式无意义）。这里就是指，在 $\bigtriangleup ONQ$ 中 $\frac{ON}{OQ}$ 的值。

令一条线段 $SD$ 与 $x$ 轴垂直，$\angle ODS=90^{\circ} $。

易得：$\angle NOQ=\angle SOD$，
$\angle ONQ=90^{\circ}=\angle ODS$，
$\angle OQN=90^{\circ}-\angle NOQ=90^{\circ}-\angle SOD=\angle OSD$。

三个角都相等，所以 $\bigtriangleup ONQ$ 与 $\bigtriangleup SOD$ 相似。

由相似三角形的性质可知，两个三角形边长的比例是一样的，
所以 $\frac{ON}{OQ}=\frac{OD}{SD}=\frac{x}{y}$。

即：$\tan{\theta}=\frac{x}{y}$。

## 2.代码
```cpp
#include <cstdio>
#include <cmath>
using namespace std;

double x, y, r;

int main() {
	scanf("%lf %lf", &x, &y);
	scanf("%lf", &r);
	
	/*Q1*/
		printf("%.6f\n", abs(sqrt(x*x+y*y)-2*r));
	
	/*Q2*/
		if( x==0 && y==0 )//角度为0，正切值为0
			printf("0.00");
		else {
			if( y==0 )
				printf("Error");
			else
				printf("%.2f", abs(x/y));
		}
	
	return 0;
}
```
注：题目说了“夹角指的是那个锐角”，锐角的正切值为非负实数，所以求正切值时要加绝对值。

P.S. 感谢desmos.com的技术支持！(๑‾ ꇴ ‾๑)


---

## 作者：Skies (赞：1)

首先，题目中的tan是什么意思呢？

~~有很多像我一样的蒟蒻不知道吧~~

### 在Rt△ABC（直角三角形）中，∠C=90°，AB是∠C的对边c，BC是∠A的对边a，AC是∠B的对边b，正切函数就是tanB=b/a，即tanB=AC/BC。

如果还不懂[度娘传送门](https://baike.baidu.com/item/%E6%AD%A3%E5%88%87/9601568?fromtitle=tan&fromid=14821216&fr=aladdin)

那么切线有什么用？

由切线的性质定理可知：连接切点与圆心的半径垂直于切线,所以 OO'=2OP=2r。
上代码：
```cpp
#pragma GCC optimize(3)
#include <bits/stdc++.h>
using namespace std;
const int N= 1000010;
#define inf 0x3f3f3f3f
#define ll long long
#define ull unsigned long long
inline int read(){int x=0,f=1;char ch=getchar();while(ch>'9'||ch<'0'){if(ch=='-')f=-1;ch=getchar();}while(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}return x*f;}
inline void write(int x){if(x==0){putchar(48);return;}int len=0,dg[20];while(x>0){dg[++len]=x%10;x/=10;}for(register int i=len;i>=1;i--)putchar(dg[i]+48);}
int main()
{
	double x,y,r;
	x=read(),y=read(),r=read;//根据题目定义 
    printf("%.6f\n",abs(sqrt(x*x+y*y)-r*2.0));    //这里是第一问
    if(x==0&&y==0) 
	{
		printf("0.00");
		return 0;
	}//特判
    if(y!=0) 
	{
		printf("%.2f",abs(x)/abs(y));
		return 0;
	}//这里是第二问
    printf("Error"); //否则tan值无意义
    return 0;
}

---

## 作者：centur (赞：1)

蒟蒻发题解了
------------

意思  三个数x,y和半径r，求投掷的范围（坐标）。

传送器，画同心圆即可理解。

**三句话
三角函数 tan y除x，搞定。
除数为0，error就行。
欧几里得度量-2r，妖魔鬼怪都不怕。**
  
~~看完点赞，不胜感谢。~~
~~~
#include<bits/stdc++.h>
using namespace std;
double x,y,r;
int main(){
    cin>>x>>y>>r;
    printf("%.6lf\n",abs(sqrt(x*x+y*y)-r*2));
    if(x==0&&y==0) 
	cout<<fixed<<setprecision(2)<<0.00<<endl;
    else if(y==0) 
	cout<<"Error"<<endl;
    else cout<<fixed<<setprecision(2)<<abs(x/y)<<endl;
    return 0;
}


---

## 作者：DBL_MAX (赞：0)

# 题目基本信息
### 题目
[P6039 传送门](https://www.luogu.com.cn/problem/P6039)
### 题目难度
$\color{orange} \texttt{普及-}$
### 出题者
[Azazel](https://www.luogu.com.cn/user/160701)
# 思路
1. 三角函数 $\tan \dfrac{y}{x}$。

2. 除数为 $0$，输出 `Error` 就行。

3. 欧几里得度量 $-2r$，搞定！

# 代码
本蒟蒻的代码~~有点丑~~，请大佬们见谅。
```cpp
#include<cstdio> //scanf 和 printf 的头文件
#include<cmath>  //sqrt 和 abs 的头文件
using namespace std; //定义命名空间
int main() //主函数
{
	double x,y,r; //定义 double 类型的变量
	scanf("%lf %lf %lf",&x,&y,&r); //输入 注意是 %.lf 和 取地址
 	printf("%0.6lf \n",abs(sqrt(x*x+y*y)-r*2.0)); //输出
	if(x==0 && y==0) printf("0.00"); //判断
	else if(y!=0) printf("%0.2lf",abs(x)/abs(y)); //否则如果
	else printf("Error"); //以上条件都不满足则输出Error **注意大写**
	return 0;//华丽结束
}
```
[AC传送门](https://www.luogu.com.cn/record/124031239)

~~喜欢的话记得点赞关注哦！~~

完结撒花~~再见！

---

## 作者：aleph_ (赞：0)

## P6039 「ACOI2020」音速

[题目传送门](https://www.luogu.com.cn/problem/P6039)

### 一张图全搞定

![](https://cdn.luogu.com.cn/upload/image_hosting/uxejkvi5.png)

使用 GeoGebra 作图。

图中 $O$ 点为同学坐标，$A$ 为杀老师所在位置，其坐标为 $(x,y)$。

### Q1

同学们现在要去点 $A$。因为“两点之间直线最短”，所以连接 $OA$，现在要把传送器扔到直线 $OA$ 上。

由于可以扔 $r$ 的距离，以 $O$ 为圆心，$r$ 为半径作圆，交直线  $OA$ 于点 $B$。$B$ 即为传送器落点，且 $OB=r$。将点 $O$ 沿切线 $CD$ 对称翻转后得到点 $O'$。 
$$\because OB = BO'$$
$$\therefore OO' = 2 \cdot OB = 2r$$
$$\because OA = \sqrt{x^2+y^2}$$
$$\therefore O'A= \vert OA-OO'\vert = \vert{\sqrt{x^2+y^2}-2r}\vert$$

$OA'$ 即为 **Q1** 的答案。

### Q2

设 $\theta=\angle BDO$，

则 **Q2** 为 $\tan \theta$ 的值。

$$\because \angle OBD = \angle AEO = 90 \degree$$
$$\angle BOD = \angle AOE$$
$$\therefore \triangle OBD \sim \triangle OEA$$
$$\therefore \tan \theta = \frac{OB}{BD}=\frac{OE}{EA}=\frac{\vert x\vert}{\vert y\vert}$$

注：$x$，$y$ 可能是负的，所以加上绝对值就行，这里表示长度。

**特殊情况1：杀老师在原点（即杀老师就在同学们的位置上）。** 

所以，当 $x=0$ 且 $y=0$ 时，输出 ```0.00```。

**特殊情况2：除数为0。** 

所以，当 $x \neq 0$ 且 $y=0$ 时，输出 ```Error```。

现在你已经理解了两问的解法，那代码实现就很简单啦！

---

### 代码

```cpp
#include <bits/stdc++.h>
using namespace std;
int main() {
    double x,y,r;
    cin>>x>>y>>r;
    //Q1
    printf("%.6lf\n",abs(sqrt(x*x+y*y)-r*2));
    //Q2
    if(y==0){
        if(x==0) cout<<"0.00"<<endl;//特殊情况1
        else cout<<"Error"<<endl;//特殊情况2
    }else{
        printf("%.2lf\n",abs(x)/abs(y));
    }
    return 0;
}
```

---

## 作者：syf2008 (赞：0)

意思 三个数x,y和半径r，求投掷的范围（坐标）。

首先，题目中的tan是什么意思呢？

~~有很多像我一样的蒟蒻不知道吧~~

经过查找：

在Rt△ABC（直角三角形）中，∠C=90°，AB是∠C的对边c，BC是∠A的对边a，AC是∠B的对边b，正切函数就是tanB=b/a，即tanB=AC/BC。

三角函数 tan y除x就行了
上代码：
```
#include<bits/stdc++.h>
using namespace std;
double x,y,r,ss;
int main()
{
	cin>>x>>y>>r;
	ss=abs(sqrt(x*x+y*y)-2*r);
	printf("%.6lf\n",ss);
	if(y==0&&x==0)
	puts("0.00");//特判0°
else if(y==0)
	puts("Error");
else printf("%.2lf",abs(x/y));
	return 0;
}
```

---

## 作者：tobie (赞：0)

深夜来发题解了~

题目解读：

第一问：

先放张~~丑陋的~~图片
![](https://upload.cc/i1/2020/02/01/1EW0da.png)
![](https://upload.cc/i1/2020/02/01/ZWAPxG.png)
看到了吗？我们要求的就是原点到$(x,y)$的[欧几里得距离](https://baike.baidu.com/item/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E5%BA%A6%E9%87%8F/1274107?fromtitle=%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E8%B7%9D%E7%A6%BB&fromid=2701459&fr=aladdin)减去$2r$的**绝对值**

第一问完结！~~撒花~~、
- - -
接下来是第二问：

来，先认识一下$\tan$函数：
>![](https://upload.cc/i1/2020/02/01/wkz3E6.png)
>求$\frac{\text{AC}}{\text{BC}}$的值

看，$\text{AC}$是啥，是输入的$x$！

看，$\text{BC}$是啥，是输入的$y$！

于是代码就愉快地打出来了
```cpp
#include<iostream>
#include<cstdio>
#include<cmath>
using namespace std;
double x,y,r;
int main()
{
	scanf("%lf%lf%lf",&x,&y,&r);
	printf("%0.6lf\n",abs(sqrt(x*x+y*y)-r*2.0));	//第一问
	if(x==0&&y==0) printf("0.00");		//这里需要特判
	else if(y!=0) printf("%0.2lf",abs(x)/abs(y));	//第二问
	else printf("Error");	//这个tan值无意义
	return 0;
}
```

---


# [语言月赛 202307] 魔法少女扶苏

## 题目描述

给定一个 $n$ 行 $m$ 列的数字矩阵，第 $i$ 行第 $j$ 列的数称为 $a_{i,j}$。

扶苏可以释放任意多次魔法，每次施放魔法，矩阵里的**每个**数字都会被减去 $1$。

现在扶苏想知道，她至少需要释放几次魔法，才能让矩阵中存在至少 $k$ 个位置 $(x, y)$，满足 $a_{x, y}$ 大于或等于它所在行和列的元素之和。

形式化地，你需要计算最小的魔法释放次数使得施放魔法后存在至少 $k$ 个位置 $(x, y)$，满足 $a_{x, y} \geq \sum \limits _{i = 1}^n a_{i,y} + \sum \limits _{i = 1}^m a_{x,i}$。

## 说明/提示

### 样例 1 解释

释放 $3$ 次魔法后，矩阵变为

$$\begin{matrix}-2 & -1 & 0\\1& 2&3\\\end{matrix}$$

于是 $a_{1,1} = -2 > (-1) + (-3) = \sum\limits_{i =1}^n a_{i,1} + \sum\limits_{i = 1}^m a_{1, i}$。

### 数据规模与约定

- 对 $20\%$ 的数据，$n = 1$。
- 另有 $20\%$ 的数据，$m = 1$。
- 对 $70\%$ 的数据，$n, m \leq 10$，$a_i \leq 100$。
- 对 $100\%$ 的数据，保证 $1 \leq n, m \leq 100$，$1 \leq k \leq n \times m$，$1 \leq a_i \leq 10^{4}$。


## 样例 #1

### 输入

```
2 3 1
1 2 3
4 5 6
```

### 输出

```
3```

# 题解

## 作者：一扶苏一 (赞：15)

# [语言月赛202307] 扶苏和串  题解

## Source & Knowledge

2023 年 7 月语言月赛，由洛谷网校入门计划/基础计划提供。

本题考察枚举。。

## 文字题解

### 题目大意

给定一个数字矩阵，一次操作可以把所有数减去 $1$。问至少做多少次操作才能存在 $k$ 个位置，使得该位置大于它所在的行和列元素之和。


$1 \leq n, m \leq 100$，$1 \leq a_i \leq 10^4$。

### 解析

注意到当矩阵里的数都为负数时所有位置都满足要求。而至多 $\max a_i$ 次操作后矩阵里的数都会变成负数，所以答案不会超过 $\max a_i \leq 10^4$。

考虑枚举答案，从 $0$ 到 $10^4$ 枚举答案，每次先求出行和、列和，判定完成后，再给 $a_{i,j}$ 减去 $1$。

以下是求行和、列和的方法：

```cpp
for (int i = 1; i <= n; ++i) {
  for (int j = 1; j <= m; ++j) {
    row[i] += a[i][j];
    col[j] += a[i][j];
  }
}
```

接下来统计答案，用一个变量 $cnt$ 表示满足条件的格子个数，遍历一遍格子做统计：

```cpp
int cnt = 0;
for (int i = 1; i <= n; ++i) {
  for (int j = 1; j <= m; ++j) {
    if (a[i][j] > row[i] + col[j]) ++cnt;
    --a[i][j];
  }
}
```

一旦 $cnt \geq k$，就可以停止枚举，输出答案，并退出。

```cpp
if (cnt >= k) {
  std::cout << ans << std::endl;
  return 0;
}
```

## 视频题解

![](bilibili:BV1kX4y1x7GL?page=8)

---


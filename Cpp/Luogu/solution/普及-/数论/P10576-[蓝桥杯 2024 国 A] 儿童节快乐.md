# [蓝桥杯 2024 国 A] 儿童节快乐

## 题目描述

五彩斑斓的气球在蓝天下悠然飘荡，轻快的音乐在耳边持续回荡，小朋友们手牵着手一同畅快欢笑。在这样一片安乐祥和的氛围下，六一来了。

今天是六一儿童节，小蓝老师为了让大家在节日里享受解题的乐趣，特地准备了一道有趣的题目。

题目内容为：求出所有满足以下条件的整数 $n$ 的总和：

1. $(n+10120300500)$ 是一个完全平方数。
2. $(n-10120300500)$ 也是一个完全平方数。

一个数如果可以表示为另一个整数的平方，那么这个数就叫做完全平方数。例如，$4$ 可以表示为 $2$ 的平方，$9$ 可以表示为 $3$ 的平方，因此 $4$ 和 $9$ 都是完全平方数。

请大家用心仔细地思考，求出答案。同时祝大家儿童节快乐，解题过程开心顺遂！

# 题解

## 作者：__Ship_ (赞：22)

## 闲话
本蒟蒻在这里祝福每一个 OIer 儿童节快乐。

你是一名菜的要死的 OIer。在 CSP-S 中以第一题爆炸而惨遭失败，教练讲的越来越难，文化课也越来越难，再一次期中考爆炸后，你晕厥过去，醒来时发现在小学的一个机房里，是 $6$ 月 $1$ 日，你意识到你已经很久没有过过六一儿童节了，你想出去，却发现突然进来了一堆小学生，老师看见你，并让你来讲这道题，将对了有奖品，你一眼看了过去

求出所有满足以下条件的整数 $n$ 的总和：
1. $(n + 10120300500)$ 是一个**完全平方数**。
2. $(n - 10120300500)$ 也是一个**完全平方数**。

你先打了一个完全不合理的暴力,发现根本没有边界。
```
#include<bits/stdc++.h>

using namespace std;
long long ans=0;
int main(){
	for(long long i = 10120300501 ; i <= ??? ; i++){
		long long sum1=sqrt(i+10120300500),sum2=sqrt(i-10120300500);
		if(sum1*sum1==i+10120300500&&sum2*sum2==i-10120300500){
			ans+=i;
		}
	}
	cout<<ans;
	return 0;
}
```


你意识到了这样是没有用的，给你一天都不可能算得出来，于是你开始冷静分析问题：你想起了**平方差公式**：$(x + y)(x - y) = x^2 - y^2$ 发现与题目所给的异常的吻合：
1. $(n + 10120300500)$ 是一个**完全平方数**。
2. $(n - 10120300500)$ 也是一个**完全平方数**。

你将 $a$ 设为了 $\sqrt{n + 10120300500}$ 

$b$ 设为了 $\sqrt{n - 10120300500}$

你带入了公式 $ a^2 - b^2 = (a + b)(a - b) = 20240601000$ 发现有边界了，可以枚举了，只要枚举 $(a-b)$ 就可以了，你迅速的写完了代码。

```
for(int_128 i = 1 ; i <= 20240601000 ; i++){
  if(满足公式){
    ans+=i;
  }
}
cout<<ans;
```

你写完了这道题，得到了唯一的六一礼物，突然晕了过去，醒来时只有旁边沾满泪水的试卷，上面全是平方差。

---

## 作者：Ybll_ (赞：7)

## 注意：本题没有数据……我的做法可能是错的。
# 题意：
求出所有**满足以下条件**的**整数** $n$ 的总和：
1. $(n+10120300500)$ 是一个**完全平方数**。
2. $(n-10120300500)$ 也是一个**完全平方数**。
# 思路：
设 $a^2=n+10120300500$，$b^2=n-10120300500$。

根据**平方差公式**可得：
$$(a-b)(a+b)=20240601000$$
然后打一个**暴力**枚举 $a-b$ 的值然后求 $n$ 就行了，记住题目要求是输出**满足条件**的**整数**的**总和**。
# 代码：
```cpp
#include<bits/stdc++.h>
#define int __int128
using namespace std;
int sum=20240601000,ans=0;
inline void write(register int x)
{
	if(x<0)
	{
		putchar('-');
		x=-x;
	}
	if(x>9)write(x/10);
	putchar(x%10+48);
}
signed main()
{
	for(int i=1;i*i<sum;i++)
	{
		if(sum%i==0&&(sum/i-i)%2==0)
		{
			int b=(sum/i-i)/2,a=(sum/i)-b;
			if(a*a-b*b==sum)ans+=a*a-sum/2;
		}
	}
	write(ans);
	return 0;
}
```

---

## 作者：weifengzhaomi (赞：6)

~~哟，今天儿童节，来做一下去年的题，居然能写题解！~~

题目意思很清楚，这里不在复述。

## 思路

首先，很容易看出，这是一道暴力题。

从 $1$ 开始枚举，一直往后算。

但是，我们没有边界啊！

我们回想起平方差公式：$x ^ 2 - y ^ 2 = (x + y)(x - y)$。

那么，$n - 10120300500$ 是一个完全平方数，$n+10120300500$ 也是一个完全平方数。

如果 $n$ 是满足条件最大的数字，则：

把 $x ^ 2$ 设为 $n + 10120300500$，把 $y ^ 2$ 设为 $n - 10120300500$。

带入公式即可求出边界：$20240601000$。

边界有了，那我们就暴力枚举呗。如果满足公式，则加上这个数。

暴力算出答案为：$37044368843012180000$。

## 代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){printf("37044368843012180000");}
```

## 暴力代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
long long ans;
int main(){
	for (long long i = 1;i <= 20240601000;i++)
		if (sqrt(i + 10120300500) * sqrt(i + 10120300500) && sqrt(i - 10120300500) * sqrt(i - 10120300500) == i - 10120300500) ans += i;
    printf("%lld\n",ans);
}
```

---

## 作者：adminh (赞：5)

好久没写题解了，来写一篇。

### 题意

求出所有满足以下条件的整数 $n$ 的总和：

$(n + 10120300500)$ 是一个完全平方数。  
$(n − 10120300500)$ 也是一个完全平方数。

### 思路

首先，循环不可能没有终点，太大了也不好。通过平方差公式，我们可以得到 $(a+b)(a−b)=a^2−b^2=20240601000$。  
数据也十分的大，要开```int_128```，输出记得手写！\
具体有哪些情况，暴力枚举就好了。

### 代码

最喜欢的代码来啦！

```cpp
#include<bits/stdc++.h>
#define int __int128
using namespace std;
int sum=20240601000,ans=0;
void write(register int x){
	if(x<0){putchar('-');x=-x;}
	if(x>9)write(x/10);
	putchar(x%10+48);
}
signed main(){
	for(int i=1;i*i<sum;i++)
	if(sum%i==0&&(sum/i-i)%2==0){
		int y=(sum/i-i)/2,x=(sum/i)-y;
		if(x*x-y*y==sum)ans+=x*x-sum/2;
	}
	write(ans);
}
//  ------the end----- 
```

---

## 作者：wenqinghua1001 (赞：3)

本题运用数学推理，题目要求：

求出所有满足以下条件的整数 $n$ 的总和：

1. $(n+10120300500)$ 是一个完全平方数。
2. $(n−10120300500)$ 也是一个完全平方数。

那么说明了什么？说明了肯定有两个数 $x$ 和 $y$，满足 $x^2=n+10120300500$ 和 $y^2=n-10120300500$。

根据平方差公式 $x^2-y^2=(x+y) \times (x-y)$ 得出，$(x+y) \times (x-y)=10120300500 \times 2=20240601000$。

最后暴力得出答案，是 $37044368843012180000$。

---

## 作者：yzm0325 (赞：3)

祝各位 OIer 儿童节快乐。

首先我们设 $a^2=n+10120300500$，$b^2=n-10120300500$。

我们知道有个叫平方差公式的东西，而现在两个数的平方都已知，那我们可以用一下：

$$(a+b)(a-b)=a^2-b^2=20240601000$$

因为 $a,b \in \mathbb{Z}$，所以 $a+b,a-b$ 都是 $20240601000$ 的因数。

到这里其实直接枚举就行了，但其实可以再多做一步。

我们将 $20240601000$ 借助程序分解质因数可以得到：$20240601000=2^3\times3\times5^3\times1493\times4519$。因为 $a+b$ 与 $a-b$ 同奇偶，所以先给它们都分一个 $2$，然后暴力枚举分配的情况即可。这样能减少一些运算量。

哦对了，记得开 `__int128`。

---

## 作者：Like_Amao (赞：1)

**前言**

[题目传送门。](https://www.luogu.com.cn/problem/P10576)

**题目大意**

请你求出一个数字 $n$，满足：

* $n + 10120300500$ 是一个完全平方数。
* $n - 10120300500$ 是一个完全平方数。

**思路**

这里提供两种思路。

**思路1**

~~硬算，得出答案为 37044368843012180000。~~

**思路2**

虽然硬算也可以，但还是太难了，所以我们还是要好好分析。

我们不妨设 $a = \sqrt{n + 10120300500}$，设 $b = \sqrt{n - 10120300500}$，这时候，聪明的你看到了题目，发现两个完全平方数与平方差公式有点相像，所以，得到了这个：$a ^ 2 - b ^ 2 = (a + b) (a - b) = 20240601000$，你欣喜若狂，这个时候，只需要枚举 $(a + b)$ 或者是 $(a - b)$ 就可以得到答案了，为 37044368843012180000。

**代码**


```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
signed main()
{
    ios::sync_with_stdio(0);
    cin.tie(0);
	cout<<"37044368843012180000";
    return 0;
}
```

---

## 作者：yingxi (赞：1)

## [题目传送门](https://www.luogu.com.cn/problem/P10576)

这里是六一，祝大家六一快乐！

在这里对完全平方数的定义是：一个数如果可以表示为另一个**整数**的平方，那么这个数就叫做完全平方数。

那么 $n+10120300500$ 可以表示为 $a^2$，$n+10120300500$ 可以表示为 $b^2$。

所以 $a=\sqrt{n+10120300500}$，$b=\sqrt{n+10120300500}$

根据平方差公式可得 $(a-b)(a+b)=20240601000$。

然后枚举 $20240601000$ 的每一个因数去找对应的 $n$ 就可以了。

```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
signed main()
{
	ios::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);
  cout << "37044368843012180000";
	return 0;
}
```

---

## 作者：__Harry__Potter__ (赞：0)

首先我们先看一看题目：

求出所有满足以下条件的整数 $n$ 的总和：

  1. $(n+10120300500)$ 是一个完全平方数。

  2. $(n−10120300500)$ 也是一个完全平方数。

令$a^2=n+10120300500$ ， $b^2=(n−10120300500)$

则： $a^2-b^2=(a+b)(a-b)=20240601000$

最后枚举符合条件的 $a$ 和 $b$ ，再求出 $n$ 求和就行了。

---

## 作者：Co_Ce (赞：0)

# solution
[传送门](https://www.luogu.com.cn/problem/P10576)  
**注：此题直接输出答案即可。**  
## 思路 
$\because n+10120300500$ 是完全平方数。  
$\quad n-10120300500$ 是完全平方数。  
$\therefore$ 设 $n+10120300500=a^2$。  
$\qquad n-10120300500=b^2$。  
$\therefore n=a^2-10120300500$。  
$\quad n=b^2+10120300500$。  
$\therefore a^2-10120300500=b^2+10120300500$。  
$\therefore (a+b)(a-b)=20240601000$。  
设 $x=a+b$，$y=a-b$。  
$\therefore xy=20240601000$。  
$\quad a=\frac{x+y}{2}$。  
$\quad b=\frac{x-y}{2}$。  
$\because a,b\in Z$。  
$\therefore x+y\equiv0\pmod 2$。  
$\quad x-y\equiv0\pmod 2$。  
接下来枚举 $a+b$ 和 $a-b$ 即可。

---


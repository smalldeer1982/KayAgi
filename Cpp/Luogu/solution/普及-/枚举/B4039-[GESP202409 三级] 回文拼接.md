# [GESP202409 三级] 回文拼接

## 题目描述

一个字符串是回文串，当且仅当该字符串从前往后读和从后往前读是一样的，例如，$\texttt{aabaa}$ 和 $\texttt{ccddcc}$ 都是回文串，但 $\texttt{abcd}$ 不是。

小杨有 $n$ 个仅包含小写字母的字符串，他想请你编写程序判断每个字符串是否由两个长度至少为 $2$ 的回文串前后拼接而成。

## 说明/提示

### 样例 1 解释

对于第 $1,3,4$ 个字符串，都不是由两个长度至少为 $2$ 的回文串前后拼接而成。
第 $2$ 个字符串由回文串 $\texttt{aa}$ 和 $\texttt{bbb}$ 前后拼接而成，并且两个回文串长度都至少为 $2$。

### 数据规模与约定

对全部的测试数据，保证 $1 \leq n \leq 10$，且每个字符串的长度均不超过 $100$。

## 样例 #1

### 输入

```
4
abcd
aabbb
aaac
abcdd```

### 输出

```
No
Yes
No
No```

# 题解

## 作者：chen_zhe (赞：23)

欢迎报名[洛谷网校](https://class.luogu.com.cn/)，期待和大家一起进步！

本题考察字符串和相关函数的使用。

题目问，每个字符串是否由两个长度至少为 $2$ 的回文串前后拼接而成。先简化问题：如何获取这两个字符串呢（先不考虑是不是回文）？

可以枚举开头的字符串长度 $i$，这样便可以知获得这两个字符串了。截取字符串的常用函数是 `substr`，用法如下：

- `s.substr(pos,len)`：从下标 `pos` 开始，截取长度为 `len` 的字符串；
- `s.substr(pos)`：从下标 `pos` 开始，截取到字符串末。

**字符串相关的函数（如大小写转换、字符串搜索、分割、替换等）在 GESP 三级考纲内要求掌握，建议学习并且灵活运用。**

下一个问题是判断回文。根据定义，回文字符串指的是从前往后读和从后往前读是一样的字符串。假设字符串 $a$ 是要判断是否回文的字符串，长度为 $i$。流程就是：判断 $a_0$ 和 $a_{i-1}$ 是否相同，判断 $a_1$ 和 $a_{i-2}$ 是否相同，判断 $a_2$ 和 $a_{i-3}$ 是否相同，以此类推。代码写作如下：

```cpp
bool flag = true;
for (int j = 0; j < a.length(); j++) {
    if (a[j] != a[a.length() - j - 1])
        flag = false;
}
```

因此整个代码的参考流程可以写作：

```cpp
for (int i = 2; i + 1 < s.length(); i++) {
    //枚举开头的字符串长度 i
    string a = s.substr(0, i);
    string b = s.substr(i);
    //判断 a 是否回文，代码略
    //判断 b 是否回文，代码略
    if (flag) {
        cout << "Yes" << endl;//存在一种分割方案
        flag2 = true;//确认已经有解
    }
}
```

---


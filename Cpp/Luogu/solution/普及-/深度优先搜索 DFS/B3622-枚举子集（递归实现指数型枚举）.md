# 枚举子集（递归实现指数型枚举）

## 题目描述

今有 $n$ 位同学，可以从中选出任意名同学参加合唱。

请输出所有可能的选择方案。

## 说明/提示

对于 $100\%$ 的数据，保证 $1\leq n\leq 10$。

## 样例 #1

### 输入

```
3```

### 输出

```
NNN
NNY
NYN
NYY
YNN
YNY
YYN
YYY```

# 题解

## 作者：danny101 (赞：27)

[题目传送门](https://www.luogu.com.cn/problem/B3622)

#### 题目大意：

求所有由`Y`、`N`构成的长度为 $n$ 的序列，按字典序输出。

#### 题目分析

如果让 `N` 代表 $0$，`Y` 代表 $1$，那么样例输出就可以转化为：

```
000
001
010
011
100
101
110
111
```

我们发现，这正好是 `0~7` 的二进制表示！

于是，我们可以这么想：遍历 $0$ 到 $2^n-1$ ，将每一个数转为二进制，每一位是 $0$ 则输出 `N`，否则输出 `Y`。

那么，如何把十进制数转成二进制呢？我们可以观察：

$13=(1101)_2$

$13\!\!\mod2=1=(1)_2$

$\lfloor\dfrac{13}{2}\rfloor=6=(110)_2$

明白了吗？$\lfloor \dfrac{x}{2}\rfloor$ 相当于去掉二进制下 $x$ 的最后一位，而 $x\!\!\mod2$ 相当于取出 $x$ 的最后一位。

---

## 作者：ShanCreeperPro (赞：20)

## B3622 枚举子集 題解

如果您做完了此题，您可以尝试：

> [B3621 枚举元组](https://www.luogu.com.cn/problem/B3621)
> 
> [B3623 枚举排列](https://www.luogu.com.cn/problem/B3623)
>
> [B3624 猫粮规划](https://www.luogu.com.cn/problem/B3624)

与 B3621 相似。

枚举子集的本质就是枚举 `bool` 数组。

我们就可以手写 `dfs` 函数啦！

- $a$ 数组用来存储枚举的情况，其中 $a_i$ 表示第 $i$ 个同学参加或不参加；
- 定义 $pos$，表示枚举到第 $pos$ 位，`dfs(pos)` 表示枚举第 $pos$ 位；

以下是当 $n=3$ 中的枚举情况之一，准备枚举第三位时，就可以调用 `dfs(3)`：

|$i$|1|2|3|4|
| :----------: | :----------: | :----------: | :----------: | :----------: |
|$a_i$|1|0|未枚举|  |

那这个 `dfs` 函数具体要这么写：

- 设立终止条件。

我们之前定义的 $pos$ 表示枚举到了第 $pos$ 位，所以当 $pos=n+1$ 的时候，就可以结束这一次的枚举，并输出。

- 枚举过程。

从 0 开始枚举到 1，把 $i$ 存到 $a_{pos}$ 里，枚举完后继续枚举下一位，即 `dfs(pos+1)`。

- 主函数。

读入 $n$，从第一位开始，所以是 `dfs(1)`。

管理员注：

由于课程需要本题不展示代码。

如需系统学习相关知识点请报名【洛谷-基础算法计划】

---

## 作者：看什么看 (赞：20)

这里给大家讲两种解法。

### 二进制解法

如果我们把 `N` 看作 $0$，把 `Y` 看作 $1$，观察一下 $n=3$ 的输出：

```text
000
001
010
011
100
101
110
111
```
再把它们变成十进制：
```text
0
1
2
3
4
5
6
7
```
这不就是 $0$ 到 $2^n-1$ 嘛。所以这题就做完了。


### DFS解法
我们记 $a_i$ 表示第 $i$ 名同学的出席情况，则我们确定了 $a_1$ 就开始确定 $a_2$ 到 $a_n$，确定 $a_2$ 就开始确定 $a_3$ 到 $a_n$，依次类推。这个过程就是深度优先搜索。

![示意图](https://cdn.luogu.com.cn/upload/image_hosting/dgootfts.png)

dfs 函数的实现：

- 如果当前超过当前深度，则输出当前情况并返回
- 这一位设置为不出席，然后继续递归
- 这一位设置为出席，然后继续递归

不放代码。

---


# [蓝桥杯 2025 省 Java B] 电池分组

## 题目背景

本站蓝桥杯 2025 省赛测试数据均为洛谷自造，与官方数据可能存在差异，仅供学习参考。

## 题目描述

研究员小蓝受到实验室主任的指示，需要对实验室新研发的 $N$ 个新型能量电池进行分组实验。这 $N$ 个能量电池的能量值分别用 $A_1, A_2, \dots , A_N$ 表示，每个能量值都是一个整数。为了保证实验的安全性，小蓝需要将这 $N$ 个能量电池分成两组，使得这两组能量电池的能量值异或和相等。

能量值的异或和计算方法如下：对于一个集合 $S$，其异或和等于集合中所有元素的按位异或结果。例如，集合 $\{1, 2, 3\}$ 的异或和为 $1 \oplus 2 \oplus 3 = 0$，其中 $\oplus$ 表示异或运算。

现在，小蓝想知道，这 $N$ 个能量电池能否分成两组，使得这两组能量电池的能量值异或和相等。**注意，每组至少包含一个能量电池。**

请你帮帮他！

## 说明/提示

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$1 \leq T \leq 10$，$2 \leq N \leq 100$，$1 \leq A_i \leq 10^3$。
- 对于 $100\%$ 的评测用例，$1 \leq T \leq 10^3$，$2 \leq N \leq 10^3$，$1 \leq A_i \leq 10^5$。

## 样例 #1

### 输入

```
2
3
1 2 3
4
1 2 3 4```

### 输出

```
YES
NO```

# 题解

## 作者：liuzhuoran141516 (赞：10)

[题目传送门](https://www.luogu.com.cn/problem/P12156)

本题考查按位异或运算，按位异或运算有几条重要的性质：
1. **交换律**：即 $a \oplus b = b \oplus a$，也就是运算顺序不影响结果。
1. **结合律**：即 $(a \oplus b) \oplus c = a \oplus (b \oplus c)$，也就是可以随意调整异或运算的计算顺序。
1. **自反性**：即 $a \oplus a = 0$，也就是任何一个数按位异或自己的结果等于 $0$。

我们先假设所有能量电池可以分成两组，且这两个组的电池的按位异或和相等，都为 $x$，那么所有电池能量值的异或和 $Sum$ 就等于这两组异或和再进行异或运算，也就是 $Sum = x \oplus x$。

注意到按位异或运算的性质 $3$ 为：两个相同的数的按位异或结果等于 $0$；所以 $Sum = x \oplus x = 0$。

所以如果所有电池能量值的异或和不为 $0$，那么就必定无法分成满足条件的两组。

到这里，按照上述思路去写就可以了，最后别忘了判断一下 $N$ 是否大于等于 $2$，代码不放了。

---

## 作者：Peruere_Arlecchino (赞：3)

### 一、题目概述
本题出自蓝桥杯 2025 省赛 Java B 组，要求对实验室新研发的 $N$ 个新型能量电池进行分组实验。每个电池有对应的能量值，需将这 $N$ 个电池分成两组，使得两组电池能量值的异或和相等，并且每组至少包含一个能量电池。题目会给出多个测试用例，需要对每个测试用例判断是否能完成这样的分组，若可以则输出 `YES`，否则输出 `NO`。
### 二、输入输出要求
#### 输入格式
第一行包含一个整数 $T$，表示测试用例的数量。每个测试用例占两行：
第一行包含一个整数 $N$，表示能量电池的数量。
第二行包含 $N$ 个整数 $A_1, A_2, \dots, A_N$，表示每个能量电池的能量值。
#### 输出格式
对于每个测试用例，输出一行。如果可以将能量电池分成两组，使得这两组能量电池的能量值异或和相等，则输出 `YES`；否则，输出 `NO`。
### 三、解题思路
本题的关键在于利用异或运算的性质来判断是否能进行符合要求的分组。异或运算（用符号 `^` 表示）具有以下重要性质：

**交换律**：`a ^ b = b ^ a`，这意味着异或运算中操作数的顺序不影响结果。

**结合律**：`(a ^ b) ^ c = a ^ (b ^ c)`，可以随意调整异或运算的计算顺序。

**自反性**：任何数和自身异或结果为 $0$，即 `a ^ a = 0`。

**与 $0$ 异或**：任何数和 0 异或结果为其本身，即 `a ^ 0 = a`。

假设可以将 $N$ 个能量电池分成两组，且两组的异或和都为 $x$，那么所有电池能量值的异或和 $S$ 就等于这两组异或和再进行异或运算，即 `S = x ^ x`。根据异或运算的自反性可知 `x ^ x = 0`，所以如果所有电池能量值的异或和不为 $0$，那么肯定无法分成满足条件的两组。而当所有电池能量值的异或和为 $0$ 且 $N \geq 2$ 时，必然可以分成满足条件的两组（因为至少有两个电池，且整体异或和为 $0$，可以通过合理分配电池到两组来实现两组异或和相等）。
### 四、代码实现

```cpp
#include <iostream>
using namespace std;

int main() {
    int T;
    cin >> T;
    while (T--) {
        int N;
        cin >> N;
        int xor_sum = 0;
        for (int i = 0; i < N; ++i) {
            int a;
            cin >> a;
            xor_sum ^= a;
        }
        if (xor_sum == 0 && N >= 2) {
            cout << "YES" << endl;
        } else {
            cout << "NO" << endl;
        }
    }
    return 0;
}
```

---

## 作者：maomitgd (赞：2)

这题不用想那么复杂，题意是把一堆数分成两堆判断能不能出现两堆的异或值一样的情况。

众所周知异或运算有交换律，也有结合律，而且两个一样的值异或值为零，那么只需要把这堆数全部异或起来看最后值是不是零就行了，如果最后的值为零那就能出现，否则就不能。
下面奉上 CPP 的代码。


```cpp
#include <bits/stdc++.h>
using namespace std;
#define int long long
signed main(){
	ios::sync_with_stdio(false);
	int t;
	cin>>t;
	int n,ans;
	while(t--){
		cin>>n;
		int a[n];
		cin>>a[0];
		ans=a[0];
		for(int i=1;i<n;i++){
			cin>>a[i];	
			ans^=a[i];
		}
		if(ans==0)cout<<"YES"<<endl;
		else cout<<"NO"<<endl;
		
	}
	return 0;
}
```

---

## 作者：PKUS_zmj (赞：2)

[题目传送门](https://www.luogu.com.cn/problem/P12156)
# 思路
假设两组能量电池的异或和分别为 $X$ 和 $Y$，所有能量电池的总异或和为 $S$，那么有 $S=X⊕Y$。若要满足 $X=Y$，则 $S=X⊕X=0$。所以，若所有能量电池的异或和为 $0$，就存在将它们分成两组且两组异或和相等的可能性。
# AC Code

```cpp
#include<bits/stdc++.h>
using namespace std;

int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n;
		cin>>n;
		int a,num=0;
		for(int i=1;i<=n;i++)
		{
			cin>>a;
			num^=a;
		}
		if(num==0) cout<<"YES\n";
		else cout<<"NO\n";
	}
	return 0;
}
```
勿抄代码！！！

---

## 作者：htl2025 (赞：2)

## 解决思路
1. 若两组异或和相等，则它们的异或结果异或后必须为 $0$ 。因此，总异或和为 $0$ 是必要条件。
2. 当总异或和为 $0$ 时，总能找到至少一种分法（如单独取一个元素作为一组，剩余元素作为另一组），确保两组异或和相等。
3. 计算所有电池的总异或和，若为 $0$ 则输出 `YES` ，否则输出 `NO` 。

```cpp
#include <iostream>
using namespace std;
 
int main()
{
    ios::sync_with_stdio(false); // 优化输入输出速度 
    cin.tie(nullptr); 
    int T;
    cin >> T;
    while (T--) {
        int N, x, total = 0;
        cin >> N;
        for (int i = 0; i < N; ++i) {
            cin >> x;
            total ^= x; // 计算总异或和 
        }
        cout << (total == 0 ? "YES" : "NO") << "\n";
    }
    return 0;// 完结求过 
}
```

---

## 作者：Bismuth_Sulfate (赞：2)

[here](https://www.luogu.com.cn/problem/P12156)

## 【题意简述】

给你 $N$ 个正整数，问你能不能把它分成两组，两组的异或和相等。

## 【考查内容】

异或基本性质。

## 【解题】

一眼题。

因为任何两个相等的数，它们的异或和都为 $0$，因此若这 $N$ 个正整数能满足题目条件，则这 $N$ 个正整数的异或和必定为 $0$。

并且题目也没问具体分法，只问能不能行，因此很简单。

代码（主程序部分）：

```java
int t,n,a,f;
Scanner cin = new Scanner(System.in);
t = in.nextInt();
while(t!=0){
    n = cin.nextInt();
    a = 0;
    while(n!=0){
        f = cin.nextInt();
        a ^= f;
        --n;
    }
    if(a!=0)System.out.println("NO");
    else System.out.println("YES");
    --t;
}
```

[过。](https://www.luogu.com.cn/record/213649008)

---

## 作者：Yi_chen123 (赞：1)

我竟然把 Java 学会了。

## 思路

众所周知，一个数异或自己等于其本身，即 $a \oplus a = 0$。\
那么，题目需要我们把一些数分成异或和相等的两组，我们令这两组的异或和为 $S,S'$，既然 $S = S'$，那么 $S\oplus S' = 0$。\
因此，我们只需要判断所有的数的异或和是否为 $0$ 即可。如果是 $0$，可以分成两个异或和相等的组块，否则不能。

## 代码

这个是 Java 的代码：

```java
import java.util.Scanner;

public class Main{
    public static void main(String[] args){
        Scanner scanner = new Scanner(System.in);
        int T = scanner.nextInt();
        for(int $ = 0; $ < T; ++$){
            int n = scanner.nextInt();
            int cnt = 0;
            for(int i = 0; i < n; ++i){
                cnt = cnt ^ (scanner.nextInt());
            }
            if(cnt == 0) System.out.println("YES");
            else System.out.println("NO");
        }
    }
}
```

下面的这份 C++ 代码与其等价：

```cpp
#include<bits/stdc++.h>
using namespace std;

int main(){
	int T;
	cin >> T;
	while(T--){
		int n;
		cin >> n;
		int x, cnt = 0;
        for(int i = 0; i < n; ++i){
        	cin >> x;
        	cnt ^= x;
		}
		cout << (cnt ? "NO" : "YES") << endl;
	}
	return 0;
}
```

---

## 作者：AASDFGHJKL (赞：1)

# P12156 [蓝桥杯 2025 省 Java B] 电池分组
## 思路
这一道题主要考察[异或的性质](https://baike.baidu.com/item/%E5%BC%82%E6%88%96/10993677): **两个相同的数的异或值是 $0$**。所以我们只需要计算出 $n$ 个数的异或和在判断是否为 $0$ 即可：如果为 $0$，输出 YES，否则输出 NO。
## 代码

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int t = scanner.nextInt();
        while (t-- > 0) {
            int ans = 0;
            int n = scanner.nextInt();
            for (int i = 1; i <= n; i++) {
                int x = scanner.nextInt();
                ans ^= x;//输入并进行异或和
            }
            if (ans == 0) {//判断
                System.out.println("YES");
            } else {
                System.out.println("NO");
            }
        }
        scanner.close();//结束
    }
}

```
### **End**

---

## 作者：LittleAcbg (赞：1)

设两组的异或和分别为 $x$ 和 $y$，那么有 $x=y$，由异或和的交换律及结合律可化为 $x\oplus y=0$，也就是所有电池能量值异或和为 $0$。

所以，将所有电池异或和算出来，是 $0$ 输出 `YES`，否则输出 `NO` 就可以了。

```java
import java.util.Scanner;
public class Main
{
    public static void main(String[] args)
    {
        Scanner scanner = new Scanner(System.in);
        int t = scanner.nextInt();
        while (t != 0)
        {
            t--;
            int n = scanner.nextInt(),xor_sum = 0;
            while (n != 0)
            {
                n--;
                int a = scanner.nextInt();
                xor_sum = xor_sum ^ a;
            }
            if (xor_sum == 0) System.out.println("YES");
            else System.out.println("NO");
        }
    }
}
```

---

## 作者：Zdc0614 (赞：1)

# Java 题解：判断数组是否可以分成两组异或值相等
 
似乎 Java 组的题还没有 Java 题解，作为参与本届比赛的蒟蒻也写个 Java 题解吧。
 
## 解题思路
已知异或是有交换律和结合律的，所以题目所说的分组顺序其实并不重要，重要的是如果可以分成两组异或值相等，那么这两个值的异或结果一定是 `0`。而顺序不重要，我们只需线性遍历每个值，判断异或和是否为 `0` 即可。
 
## 代码实现
 
```java
import java.io.*;
import java.util.*;
 
public class Main {
    public static void main(String[] args) throws FileNotFoundException {
        Scanner in = new Scanner(System.in);
        
        int t = in.nextInt(); // 读取测试用例数量
        for (int w = 0; w < t; w++) {
            int n = in.nextInt(); // 读取数组长度
            int a = 0; // 初始化异或和
            for (int i = 0; i < n; i++) {
                a = a ^ (in.nextInt()); // 逐步计算异或和
            }
            if (a == 0) 
                System.out.println("YES"); // 如果异或和为 0，输出 YES
            else 
                System.out.println("NO");  // 否则输出 NO
        }
    }
}

---

## 作者：LLY_0827 (赞：1)

## P12156 电池分组

[传送门](https://www.luogu.com.cn/problem/P12156)

### 这是一篇 C++ 题解。
### 题意理解

对 $N$ 个新型能量电池，给出各个电池的能量值，能否将其分成两组，使得这两组能量电池的能量值**异或和**相等。每组至少包含一个能量电池。

### 思路

- 异或有一项非常重要的运算性质：

  - 一个数对其自身异或，结果为 $0$，即有 $a \bigoplus a = 0$。
- 因此如果所有能量值的**异或和**为 $0$，计前 $i$ 个 $(0<i<n)$ 电池的异或和为 $a$，则后 $(n-i)$ 个电池的异或和一定为 $a$，分组成立。
- 关于异或：[OI Wiki](https://oi-wiki.org/math/bit/)


### 代码


```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
int main(){
	ll t;
	cin>>t;
	while (t--){
		ll n,a,sum;
		cin>>n;
		for(ll i=1;i<=n;i++){
			cin>>a;
			if (i==1) sum=a;
			else sum^=a;
		}
		if (sum==0) cout<<"YES\n";
		else cout<<"NO\n";
	}
}
```

---

## 作者：Merlin_Meow (赞：0)

## Analysis

考虑异或运算的一个性质：对于任何一个数 $a$，满足 $a \oplus a = 0$，其中 $\oplus$ 表示异或。

于是可以知道如果这 $N$ 个元素如果能分成异或和相等的两组，那么所有元素的异或和一定为 $0$。

于是直接计算即可。

## Code

```cpp
#include <bits/stdc++.h>
using namespace std;

#define endl '\n'
#define int long long

int T, n;

signed main()
{
    ios::sync_with_stdio(false);
    cin.tie(0), cout.tie(0);
    cin >> T;
    while (T--)
    {
        int n;
        cin >> n;
        int res = 0;
        for (int i = 1; i <= n; i++)
        {
            int a;
            cin >> a;
            res ^= a;
        }
        cout << (res == 0 ? "YES" : "NO") << endl;
    }
    return 0;
}
```

---


# [蓝桥杯 2023 省 Java B] 幸运数字

## 题目描述

哈沙德数是指在某个固定的进制当中，可以被各位数字之和整除的正整数。例如 $126$ 是十进制下的一个哈沙德数，因为 $(126)_{10} \bmod (1 + 2 + 6) = 0$；$126$ 也是八进制下的哈沙德数，因为 $(126)_{10} = (176)_8$，$(126)_{10} \bmod (1 + 7 + 6) = 0$；同时 $126$ 也是 $16$ 进制下的哈沙德数，因为 $(126)_{10} = (7E)_{16}$，$(126)_{10} \bmod (7 + E) = 0$。小蓝认为，如果一个整数在二进制、八进制、十进制、十六进制下均为哈沙德数，那么这个数字就是幸运数字，第 $1$ 至第 $10$ 个幸运数字的十进制表示为：$1, 2, 4, 6, 8, 40, 48, 72, 120, 126 \dots$。现在他想知道第 $2023$ 个幸运数字是多少？你只需要告诉小蓝这个整数的十进制表示即可。

# 题解

## 作者：MingDynasty (赞：13)

[题目链接](https://www.luogu.com.cn/P12324)

一道进制转化的题目。

## 题目思路：

并不难想到思路。我们枚举每个数，判断它在 2，8，10，16 进制下是否满足哈沙德数的定义，如果满足就记录这是第几个答案。最后第 2023 个答案就是我们所要的。

## Code：

```cpp
/*
    Auther:MingDynasty
    Problem:https://www.luogu.com.cn/problem/P12324
*/
#include<bits/stdc++.h>
using namespace std;
inline bool check2(int w){
	int sum=0,c=w;
	while(w){
		sum+=w%2,w/=2;
	}
	return c%sum==0;
}
inline bool check8(int w){
	int sum=0,c=w;
	while(w){
		sum+=w%8,w/=8;
	}
	return c%sum==0;
}
inline bool check16(int w){
	int sum=0,c=w;
	while(w){
		sum+=w%16,w/=16;
	}
	return c%sum==0;
}
inline bool check10(int w){
	int sum=0,c=w;
	while(w){
		sum+=w%10,w/=10;
	}
	return c%sum==0;
}
int main(){
	cin.tie(0)->sync_with_stdio(0);
	int i=1,cnt=0;
	for(;;){
		if(check8(i)&&check10(i)&&check2(i)&&check16(i)) cnt++;
		if(cnt==2023) cout<<i,exit(0);
		i++;
	}
	return 0;
}

```

祝通过！

---

## 作者：zyx13765814016 (赞：2)

#### 这题是进制训练吧，再结合一点函数就行了。

这段代码的主要目的是找到一个特定的整数 ，满足以下条件：
1.  是第几个满足条件的数（其中从一开始递增，直到 2023）。
1.  对于每个整数 ，它在二进制、八进制、十进制和十六进制下的各位数字之和都能整除。

当然，也可以像楼上（楼下）一样用数学求然后直接输出。

不过我来发一篇不太一样的（感觉还是好懂的）。

```
#include<bits/stdc++.h>
using namespace std;
int a(int n,int b){//10进制下的整数n转换为b进制数再求和
	int s=0;
	while(n>0){
		s+=n%b;
		n=n/b;
	}
	return s;
}
int main(){
	int n=1,c;
	for(int i=1,n=1;n<=2023;i++){
		if(i%a(i,2)==0&&i%a(i,8)==0&&i%a(i,10)==0&&i%a(i,16)==0){
			n++;
			c=i;
		}
	}
	cout<<c<<endl;
    return 0;
}
```

---

## 作者：封禁用户 (赞：1)

## 题目大意
[题目传送门](https://www.luogu.com.cn/problem/P12324)

[通过记录](https://www.luogu.com.cn/record/214910115)
## 题目分析
这道题主要考的是**进制转换**，题目中让我们将一个数字转换成**十六进制**、**十进制**、**八进制**和**二进制**。

我的思路是暴力循环查找（亲测，不会超时）。

代码时间到！
## 题目代码
```java
public class LuckyNumberFinder {
    public static void main(String[] args) {
        int cnt = 0;
        for (int i = 1; ; i++) {
            if (check2(i) && check8(i) && check10(i) && check16(i)) {
                cnt++;
                if (cnt == 2023) {
                    System.out.println(i);
                    return;
                }
            }
        }
    }

    // 检查二进制
    static boolean check2(int w) {
        int sum = 0, k = w;
        while (w != 0) {
            sum += w % 2;
            w /= 2;
        }
        return k % sum == 0;
    }

    // 检查八进制
    static boolean check8(int w) {
        int sum = 0, k = w;
        while (w != 0) {
            sum += w % 8;
            w /= 8;
        }
        return k % sum == 0;
    }

    // 检查十进制
    static boolean check10(int w) {
        int sum = 0, k = w;
        while (w != 0) {
            sum += w % 10;
            w /= 10;
        }
        return k % sum == 0;
    }

    // 检查十六进制
    static boolean check16(int w) {
        int sum = 0, k = w;
        while (w != 0) {
            sum += w % 16;
            w /= 16;
        }
        return k % sum == 0;
    }
}

```


求过。

---

## 作者：JIN_LONG (赞：1)

## 题目理解：
我们需要找到第 $2023$ 个幸运数字，即满足以下条件的正整数。
- 在二进制、八进制、十进制、十六进制下均为哈沙德数。
- 哈沙德数的定义，在某个进制下，该数可以被其各位数字之和整除。
## 解题思路：
- 哈沙德数的判断，编写一个函数，判断一个数在给定进制下是否是哈沙德数。
- 幸运数字的判断‌，对于每个正整数，检查其在二进制、八进制、十进制、十六进制下是否均为哈沙德数。
- 从 $1$ 开始逐个检查，直到找到第 $2023$ 个满足条件的数字。
## 代码：

```
#include<bits/stdc++.h>
using namespace std;
bool check1(int n,int base) {
    if(n==0) return false;
    int sum=0,num=n;
    while(num>0) {
        sum+=num%base;
        num/=base;
    }
    if(sum==0) return false;
    return n%sum==0;
}
bool check2(int n) {
    if(n==0)return false;
    for(int base:{2,8,10,16}){
        if(!check1(n,base)){
            return false;
        }
    }
    return true;
}
int main() {
    int n=1,cnt=0;
    while(1) {
        if(check2(n)) {
            cnt++;
            if (cnt==2023) {
                cout<<n<<endl;
                break;
            }
        }
        n++;
    }
    return 0;
}
```

---

## 作者：Aurelia_Veil (赞：1)

# 题解：P12324 \[蓝桥杯 2023 省 Java B] 幸运数字

这道题是一道进制转换题，只需要不断枚举，判断这个数是否满足在二进制、八进制、十进制、十六进制下均为哈沙德数，我们只需要判断最终枚举的数 $x$ 是否能被进制转换后各个位数的数的和 $sum$ 整除即可。

代码如下咩：

```cpp
#include<bits/stdc++.h>
using namespace std;
bool check(int x,int tot){
	int sum=0;
	int y=x;
	while(y!=0){
		sum+=y%tot;
		y/=tot;
	}
	return x%sum==0;
}
int main(){
	int cnt=0;
	for(int i=1;;i++){
		if(check(i,2)&&check(i,8)&&check(i,10)&&check(i,16)==1){
			cnt++;
			if(cnt==2023){
				printf("%d",i);
				return 0;
			}
		}
	}
	return 0;
}
```

---

## 作者：封禁用户 (赞：0)

## 思路
枚举所有数字，判断是否是沙哈德数，其实这里并不需要分别转化成二进制、八进制、十进制、十六进制，只要在判断沙哈得数时将除以十改成除以进制数就行了。最后输出第 2023 个满足条件的数字。

## 代码
```cpp
#include <iostream>
using namespace std; 
// 计算不同进制下各位数字之和
int sum(int num, int base) {
    int sum = 0;
    while (num > 0) {
        sum += num % base;
        num /= base;
    }
    return sum;
}
// 判断是否为哈沙德数
bool shds(int num, int base) {
    int ans = sum(num, base);
    return ans != 0 && num % ans == 0;
}
int cnt = 0;
int num = 1;
int main(){
    while (true) {
    	// 判断是否为幸运数字
        if (shds(num, 2) && shds(num, 8) && shds(num, 10) && shds(num, 16)) {
            cnt++;
            if (cnt == 2023) {
                cout << num << endl;
                break;
            }
        }
        num++;
    }
    return 0;
}
```

---

## 作者：ArenaBreakout78 (赞：0)

一道与进制转换有关的题目，只需要枚举到第 $2023$ 个幸运数字即可，讲下思路吧。

## 思路：

首先，我们得先理解题目大意。正如题目所说，

> 哈沙德数是指在某个固定的进制当中，可以被各位数字之和整除的正整数。

而一个数字在二进制、八进制、十进制、十六进制下均为哈沙德数时，这个数字就是哈沙德数。

于是我们就可以一直循环来进行枚举，直到找到第 $2023$ 个幸运数字，就输出答案，终止循环，于是，就有了我们的 AC 代码。

## C++ AC CODE：

```cpp
#include <bits/stdc++.h>
using namespace std;
bool pdhsds(int n, int jz){//判断是否为哈沙德数
    if(n==0) return false;
    int sum=0;
    int num=n;
    while(num>0){
        sum+=num%jz;
        num/=jz;
    }
    if(sum==0) return false;
    return (n%sum)==0;
}
bool xysz(int n){//判断是否为幸运数字
    return pdhsds(n,2)&&pdhsds(n,8)&&pdhsds(n,10)&&pdhsds(n,16);
}
int main(){
    int sum=0;
    int num=1;
    while(1){
        if(xysz(num)){//判断幸运数字
            sum++;//累计个数
            if(sum==2023){//当到第2023个幸运数字时
                cout<<num;//输出
                break;//终止循环
            }
        }
        num++;
    }
    return 0;
}

```
## Java AC CODE：

```java
public class Main{
    public static int zh(int n,int jz){
        int sum=0;
        while(n>0){
            sum+=n%jz;
            n/=jz;
        }
        return sum;
    }
    public static boolean pdhsds(int n,int jz){
        if (n==0) return false;
        int sum=zh(n,jz);
        return sum!=0&&n%sum==0;
    }
    public static boolean sxysz(int n){
        return pdhsds(n,2)&&pdhsds(n,8)&&pdhsds(n,10)&&pdhsds(n,16);
    }
    public static void main(String[] args) {
        int count=0;
        int n=1;
        while(true){
            if(sxysz(n)){
                count++;
                if(count==2023){
                    System.out.println(n);
                    break;
                }
            }
            n++;
        }
    }
}
```

---

## 作者：shy_lihui (赞：0)

直接暴力跑，每次判断是否是幸运数字。如果是计数器就加一，直到加到 $2023$ 为止。

判断也很简单，每次加上模进制的余数再下取整除当前进制直到 $0$ 就可以求出各个数位之和。

- java

```java
public class Main
{
    private static long cnt=0;
    private static long i=1;

    private static boolean check()
	{
        // 检查十进制
        long s=i;
        long sum=0;
        while(s!=0)
		{
            sum+=s%10;
            s/=10;
        }
        if(i%sum!=0)
		{
			return false;
		}
        // 检查八进制
        s=i;
        sum=0;
        while(s!=0)
		{
            sum+=s%8;
            s/=8;
        }
        if(i%sum!=0)
		{
			return false;
		}
        // 检查二进制
        s=i;
        sum=0;
        while(s!=0)
		{
            sum+=s%2;
            s/=2;
        }
        if(i%sum!=0)
		{
			return false;
		}
        // 检查十六进制
        s=i;
        sum=0;
        while(s!=0)
		{
            sum+=s%16;
            s/=16;
        }
        if(i%sum!=0)
		{
			return false;
		}
        return true;
    }
    public static void main(String[] args)
	{
        while(true)
		{
            if(check())
			{
                cnt++;
                if(cnt==2023)
				{
                    System.out.println(i);
                    return;
                }
            }
            i++;
        }
    }
}
```

- c++
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
int cnt,i=1;
bool check()
{
	//检查十进制
	int s=i;
	int sum=0;
	while(s)
	{
		sum+=s%10;
		s/=10; 
	}
	if(i%sum!=0)
	{
		return 0;
	}
	//检查八进制
	s=i;
	sum=0;
	while(s)
	{
		sum+=s%8;
		s/=8; 
	}
	if(i%sum!=0)
	{
		return 0;
	}
	//检查二进制
	s=i;
	sum=0;
	while(s)
	{
		sum+=s%2;
		s/=2; 
	}
	if(i%sum!=0)
	{
		return 0;
	}
	//检查十六进制
	s=i;
	sum=0;
	while(s)
	{
		sum+=s%16;
		s/=16; 
	}
	if(i%sum!=0)
	{
		return 0;
	}
	//符合----------
	return 1; 
}
signed main()
{
	ios::sync_with_stdio(0);
	cin.tie(0);
	while(1)
	{
		if(check())
		{
			cnt++;
			if(cnt==2023)
			{
				cout<<i;
				return 0;
			}
		}
		i++;
	}
	return 0; 
}
```

---

## 作者：zhz_cptbtptp (赞：0)

[题目链接](https://www.luogu.com.cn/problem/P12324)

题目已经说的很清楚了，就是一个简单的求一个数在不同进制下，取出每一位相加，如果这个数可以整除每一个进制相加的和，那么这个数就是幸运数字。

话不多说，上代码。

```cpp
#include<bits/stdc++.h>
using namespace std;
int cnt;
int main() {
	for(int i=1;;i++){
		int a,b,c,d,aa=0,bb=0,cc=0,dd=0;
		a=b=c=d=i;
		while(a){//求十进制
			aa+=a%10;
			a/=10;
		}
		if(i%aa==0){
			while(b){//求八进制
				bb+=b%8;
				b/=8;
			}
			if(i%bb==0){
				while(c){//求十六进制
					cc+=c%16;
					c/=16;
				}
				if(i%cc==0){
					while(d){//求二进制
						dd+=d%2;
						d/=2;
					}
					if(i%dd==0){
						cnt++;
						if(cnt==2023){//如果幸运数字到了2023，输出并结束
							cout<<i;
							return 0;
						}
					}else{
						continue;
					}
				}else{
					continue;
				}
			}else{
				continue;
			}
		}else{
			continue;
		}
	}
	return 0;
}
```
华丽的结束。

---


# [蓝桥杯 2023 省 Python B] 硬币兑换

## 题目描述

小蓝手中有 $2023$ 种不同面值的硬币，这些硬币全部是新版硬币，其中第 $i(1 \leq i \leq 2023)$ 种硬币的面值为 $i$，数量也为 $i$ 个。硬币兑换机可以进行硬币兑换，兑换规则为：交给硬币兑换机两个新版硬币 $coin_1$ 和 $coin_2$，硬币兑换机会兑换成一个面值为 $coin_1 + coin_2$ 的旧版硬币。

小蓝可以用自己已有的硬币进行任意次数兑换，假设最终小蓝手中有 $K$ 种不同面值的硬币（只看面值，不看新旧）并且第 $i(1 \leq i \leq K)$ 种硬币的个数为 $sum_i$。小蓝想要使得 $\max\{sum_1, sum_2, \cdots, sum_K\}$ 的值达到最大，请你帮他计算这个值最大是多少。

注意硬币兑换机只接受新版硬币进行兑换，并且兑换出的硬币全部是旧版硬币。

# 题解

## 作者：Helenty (赞：3)

我们要计算的是，任意次兑换后，某种硬币的数目达到最大。那么容易想到，只有把所有能兑换过去的硬币全部兑换过去，得到的目标硬币数才可能最大。

假设我们的目标硬币是面值为 $5$（奇数），初始硬币数为 $5$，并且面值分别为 $1+4$、$2+3$ 的硬币可以兑换过来。假设目标硬币面值为 $4$（即偶数），初始硬币数为 $4$，面值分别为 $1+3$、$2+2$ 的硬币可以兑换过来。综上，我们可以枚举所有可能的目标硬币情况，对每一个面值的硬币分奇偶讨论他的最大数目，然后求出所有硬币最大值即可。

易得答案为：$682425$，输出即可。

---

## 作者：JIN_LONG (赞：2)

## 思路：
题目意思为，我们需要通过兑换操作，使某一面值的硬币总数最大。

我们可以枚举可能的硬币，分奇偶讨论它的最大数量，然后求出最大值即可，以下是步骤。

- 从 $1$ 枚举到 $2023\times2$，在枚举过程中，继续循环从 $1$ 到 $i$ 的一半，用一个变量统计，如果 $i-j$ 小于等于 $2023$ 时，的这个变量加上 $j$。

- 接着在枚举的过程中，需要加一个关于奇偶的特判。

- 最后计算最大值，枚举完后输出最大值即可。

代码打完后可以得到答案为 $682425$。

---

## 作者：Little_Cart (赞：1)

### 前言

无内鬼，来点小学奥数做法。

### 思路

首先可以进行一个分讨。

如果最终面值 $x$ 满足 $1 \le x \le 2023$，那么最终面值的个数为 $1$ 到 $\lfloor \frac{x-1}{2} \rfloor$ 的和再加上 $x$。因为 $1$ 要和 $x-1$ 搭配，$2$ 和 $x-2$ 搭配，注意到前者总是硬币个数较少的那个，所以前者直接加和就是最后个数。

特别地，对于 $x$ 为偶数的情况下，$\frac{x}{2}$ 会和自己搭配，所以总个数还要加上 $\lfloor \frac{x}{4} \rfloor$。

不难发现在 $1 \le x \le 2023$ 的条件下，$x$ 取 $2023$ 最优，这个情况下最优解为 $513589$。

如果 $x>2023$ 是什么情况呢？

注意到这个时候面值为 $2023$ 的硬币一定会被用到，否则最后答案一定为 $0$。因为最大的都凑不出来了，那么最后这个面值的硬币个数一定为 $0$。

所以最终面值的个数为 $x-2023$ 到 $\lfloor \frac{x-1}{2} \rfloor$ 的和，对于 $x$ 为偶数的情况下和上种情况一致，总个数还要加上 $\lfloor \frac{x}{4} \rfloor$。这个时候我们再分讨一下。

对于 $x$ 为奇数的情况，根据上述推论使用等差数列求和公式不难得出，最终面值的个数为 $\frac{(3x-4047)\times(4047-x)}{8}$，这个函数有最大值，但是对称轴在 $x=2698$ 取不到，所以可以取 $x=2697$，此时个数为 $682425$。

对于 $x$ 为偶数的情况，根据上述推论使用等差数列求和公式不难得出，最终面值的个数为 $\lfloor \frac{(3x-4048)\times(4046-x)+2x}{8} \rfloor$，这个函数有最大值，对称轴在 $x=2698$，此时个数为 $682425$。

综上，答案为 $682425$。

### 代码

```python
print(682425)
```

---

## 作者：dashabi35 (赞：0)

这道题暂时没有想到什么相对简便的方法，题目的标签也是枚举，那么就来说一下枚举的做法，毕竟是道输出答案题，只要时间复杂度不要过高，那么肯定是越好想越好。

**思路：**

可以考虑枚举目标面值。

然后只要将所有可以的情况列举求和最后求最值即可。

例如，若目标面值为 $i$ 那么，就能够由以下情况得到：

原本新版硬币本身就为 $i$ 的。

由 $i-1$ 和 $1$ 组成。

……

这样只要知道一个目标面值 $i$ ，那么就很好知道 $sum_i$ 了。

虽然思路简单，但代码还是有点难调的，可以给大家展示一下我的计算代码（可能有点费时），但思路比较清晰，也有注释，可以先自己写一遍，错误之后在对着我的代码调试。

答案：$682425$。

CODE:


```cpp
#include<bits/stdc++.h>
using namespace std;
#define int long long
signed main()
{
	int ans=0;
	for(int i=1;i<=4046;++i)//i为目标面值，显然i最大为2023+2023=4046 
	{
		int p=0;//p为sum_i 
		int k=min(2024ll,i);
		for(int j=1;j<k;++j)//j表示第一个硬币的面值 
		{
			if(i-j>2023) continue;//没有这样的硬币（指第2个）
			int t;
			if(i-j==j) t=j/2;
			else t=min(j,i-j);
			 
			p+=t;
		} 
		p/=2;//重复要除以2 
		if(i<=2023) p+=i;//加上本身就有的新硬币，不用除以2所以单独放后面 
		ans=max(ans,p);
	}
	printf("%d",ans);
	return 0;
}
```

---

## 作者：封禁用户 (赞：0)

## 题目大意
[题目传送门](https://www.luogu.com.cn/problem/P12378)
## 题目分析
希望审核员大大给过。

这是一道暴力枚举的题目，我们要尽可能地将所有的旧版硬币换成了新版硬币，得到的硬币数才会最大。

旧版硬币的种类可以分为两种，一种是**奇数**，一种是**偶数**，假设奇数数字为 $7$，那么它就可以分解成 $1 + 6$，$2 + 5$，$3 + 4$；假设偶数数字为 $8$，那么可以分解成 $1 + 7$，$2 + 6$，$3 + 5$，$4 + 4$。

综上枚举，我们可以暴力出每一个旧版硬币的分解方法，再用数组储存起来，最后用 $\max\{sum_1, sum_2, \cdots, sum_K\}$ 即可。（$K$ 为小蓝手中有几种不同面值的硬币）

最后得出答案，$682425$。
## 题目[代码](https://www.luogu.com.cn/record/list?pid=P12378&user=1571162)
C++ 代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
#define int long long
signed main() {
	ios::sync_with_stdio(0);
	cin.tie(0), cout.tie(0);
	cout<<682425;
	return 0;
}
```
python 代码：
```python
print(682425)
```

---


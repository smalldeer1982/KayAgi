# [语言月赛 202308] 电脑中了满屏粉兔病毒

## 题目描述

小 F 的电脑屏幕可以被划分为 $r$ 行 $c$ 列的网格，第 $i$ 行第 $j$ 列的网格，可以用 $(i,j)$ 来表示。

突然，有一天，小 F 的电脑中了「满屏粉兔」病毒，在电脑屏幕上，出现了 $N$ 只雄粉兔和 $M$ 只雌粉兔。

假设一只粉兔位于 $(i,j)$，若其沿上、下、左、右四个方向中的一个方向行动，可以在不经过「异性粉兔」的情况下离开屏幕范围，那么，这个方向对于该粉兔就是一条「逃跑通道」。

狡兔三窟。我们定义一只粉兔是「合格的粉兔」，当且仅当其至少有三条「逃跑通道」。

![](https://cdn.luogu.com.cn/upload/image_hosting/qlwtx8rv.png)

例如，如图所示，绿色方格代表雄粉兔，粉色方格代表雌粉兔。位于 $(2,2)$ 的雌粉兔，向上、下、左，都可以不经过雄粉兔的离开屏幕，共有三条「逃跑通道」因此，位于 $(2,2)$ 的粉兔是「合格的粉兔」。而位于 $(4,4)$ 的粉兔，仅有左、右两条「逃跑通道」，因此 $(4,4)$ 的粉兔不是「合格的粉兔」。

现在，给出屏幕上粉兔的分布情况，请问，一共有多少只「合格的粉兔」？

## 说明/提示

- 对于 $30\%$ 的测试数据，$1 \le r,c \le 30$；
- 对于 $100\%$ 的测试数据，$1 \le r,c \le 500$，$0 \le N,M \le r \cdot c$，$k_{i,j}$ 为 `.`、`F`、`M` 中的一个。

## 样例 #1

### 输入

```
6 5 2 3
.....
.F.M.
.....
.F.F.
...M.
.....```

### 输出

```
3```

# 题解

## 作者：览遍千秋 (赞：7)

## Source & Knowledge

2023 年 08 月语言月赛，由洛谷网校入门计划/基础计划提供。

考察数组、循环。

---

## 文字题解

在方格中枚举，假设枚举到位置为 $(i,j)$ 的粉兔。

我们依次向上、下、左、右四个方向进行枚举。

### 上

枚举 $(i,j)$ 以上的格点，就是要保持列号不变，行号变化，即遍历 $(1\sim i-1,j)$。

```cpp
for(int k = 1; k < i; k++) {
    //do sth. with a[k][j]
}
```

判断这些格点，有没有异性粉兔，如果没有，计数器加一。

### 下

与上类似，向下枚举就是要遍历 $(i+1 \sim r, j)$。

判断这些格点，有没有异性粉兔，如果没有，计数器加一。

### 左

与上下不同的是，向左的枚举，行号不变，变化的是列号。遍历 $(i,1 \sim j-1)$。

判断这些格点，有没有异性粉兔，如果没有，计数器加一。

### 右

与向左类似，遍历 $(i,j+1\sim c)$。

判断这些格点，有没有异性粉兔，如果没有，计数器加一。

---

对上下左右四个方向均判断完后，如果计数器的值大于等于 $3$，就说明这个格点 $(i,j)$ 的粉兔是合格的粉兔，答案加一，最后输出答案即可。

---

## 视频题解

![](bilibili:BV1qX4y1x7PM?page=6)

---


# [语言月赛 202404] 天上的气球

## 题目描述

现在有一块很大的草原，这个草原分成了 $n$ 行 $m$ 列。
在这块草原的天空中，飘着 $k$ 个气球。第 $i$ 个气球，位置在第 $x_i$ 行第 $y_i$ 列上空，距离地面高度 $h_i$，气球的颜色为 $c_i$。

从一个位置向上看，只能看到这个位置正上方的，距离地面最近的气球。小明想知道，从每个位置向上看，能看到的气球的颜色分别是什么。如果这个位置上空没有气球，则输出 $0$。

## 说明/提示

### 样例 1 解释

- 第一行第一列上空只有一个气球，颜色为 $3$；
- 第一行第二列上空高度最低的气球高度为 $8$，颜色为 $9$；
- 第二行第一列上空高度最低的气球高度为 $4$，颜色为 $4$；
- 第二行第二列上空没有气球。

### 数据规模与约定

对于 $100\%$ 的数据，$1 \leq n, m \leq 10^3$，$1 \leq k \leq 10^5$，$1 \leq h_i, c_i \leq 10^9$。保证不存在两个气球的位置（$x_i, y_i, h_i$）完全相同。

| 测试点编号 | $n, m$ | $k$ | $h_i$ | $c_i$ | 特殊性质 |
| :-: | :-: | :-: | :-: | :-: | :-: |
| $1$ | $= 2$ | $\leq 10$ | $\leq 10$ | $\leq 10$ | 无 |
| $2, 3$ | $ \leq 10$ | $\leq 200$ | $\leq 10$ | $\leq 10$ | 无 |
| $4$ | $= 1$ | $\leq 10^5$ | $\leq 10^9$ | $\leq 10^9$ | 无 |
| $5$ | $\leq 300$ | $\leq 9 \times 10^4$ | $\leq 10^9$ | $\leq 10^9$ | 每一个位置上空**恰好**有一个气球 | 
| $6$ | $\leq 1000$ | $\leq 10^5$ | $\leq 10^9$ | $\leq 10^9$ | 每一个位置上空**至多**有一个气球 | 
| $7$ | $\leq 1000$ | $\leq 10^5$ | $\leq 10^9$ | $= 1$ | 无 | 
| $8 \sim 10$ | $\leq 1000$ | $\leq 10^5$ | $\leq 10^9$ | $\leq 10^9$ | 无 | 

## 样例 #1

### 输入

```
2 2 5
2 1 4 4
1 2 8 9
1 2 9 4
1 1 8 3
2 1 9 3
```

### 输出

```
3 9
4 0
```

## 样例 #2

### 输入

```
3 3 5
1 1 6 7
2 2 7 5
3 1 8 3
2 2 6 1
2 1 3 4
```

### 输出

```
7 0 0
4 1 0
3 0 0
```

# 题解

## 作者：Maxmilite (赞：5)

## Source & Knowledge

2024 年 4 月语言月赛，由洛谷网校入门计划/基础计划提供。

## 题目大意

$n$ 行 $m$ 列的草原。有 $k$ 个气球。第 $i$ 个气球，位置在第 $x_i$ 行第 $y_i$ 列上空，距离地面高度 $h_i$，气球的颜色为 $c_i$。

求解从每个位置向上看，能看到的气球的颜色分别是什么。
	
## 题目分析

本题仍然可以使用擂台法解决，但是需要做一定的修改。使用两个 $n \times m$ 的二维数组 $H, C$。$H$ 是擂台，$C$ 是当前处在擂台中气球的颜色。

每次读入气球 $x_i, y_i, h_i, c_i$。需要将 $h_i$ 与 $H_{x_i, y_i}$ 比较。如果 $h_i$ 更小，则更新 $H_{x_i, y_i} = h_i, C_{x_i, y_i} = c_i$。最终输出 $C$ 数组即可。

```cpp
int H[1005][1005], C[1005][1005];

for (int i = 1; i <= n; ++i) {
  for (int j = 1; j <= m; ++j) {
    H[i][j] = 1000000001; // 小擂台初始时要很大
  }
}

...
  
for (int i = 1; i <= k; ++i) {
  int x, y, h, c;
  cin >> x >> y >> h >> c;
  if (h < H[x][y]) {
    H[x][y] = h;
    C[x][y] = c;
  }
}

// 输出
```

## 视频讲解

![](bilibili:BV1Km411m7zZ?page=5)

---


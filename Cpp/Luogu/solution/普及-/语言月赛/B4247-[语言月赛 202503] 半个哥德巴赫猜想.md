# [语言月赛 202503] 半个哥德巴赫猜想

## 题目描述

对于正整数 $n$，如果存在正整数 $m$（$m\ge 2$）使得 $n$ 是 $m^2$ 的倍数，则称 $n$ 是一个**缪零数**。

对于正整数 $n$，如果它不是 $2 \sim n - 1$ 中任意一个整数的倍数，则称 $n$ 是一个**质数**。特别的，$1$ 不是质数。

给出正整数 $n$，请问 $n$ 有多少种方法写成一个**缪零数**与一个**质数**的和？在所有方案中，缪零数和质数的差（大数减小数）最小是多少？


## 说明/提示

### 样例 1 解释

存在如下 $3$ 种方式，将 $11$ 写成一个**缪零数**与一个**质数**的和。

1. $11 = 2 + 9$，其中 $2$ 是**质数**，$9$ 是**缪零数**；
1. $11 = 3 + 8$，其中 $3$ 是**质数**，$8$ 是**缪零数**；
1. $11 = 7 + 4$，其中 $7$ 是**质数**，$4$ 是**缪零数**；

其中 $7, 4$ 的差最小，为 $3$。

### 数据规模与约定

- 对于 $30\%$ 的数据，$2 \leq n \leq 100$；
- 对于 $60\%$ 的数据，$2 \leq n \leq 500$；
- 对于 $100\%$ 的数据，$2 \leq n \leq 10000$。

保证至少存在一种方法，将 $n$ 写成一个**缪零数**与一个**质数**的和。

## 样例 #1

### 输入

```
11
```

### 输出

```
3
3
```

## 样例 #2

### 输入

```
27
```

### 输出

```
6
5
```

## 样例 #3

### 输入

```
1925
```

### 输出

```
170
17
```

# 题解

## 作者：Maxmilite (赞：7)

# [语言月赛 202503] 半个哥德巴赫猜想 题解

## Source & Knowledge

本题来源于 2025 年 3 月的语言月赛，涉及复杂循环嵌套等知识。

## 文字题解

题目要求将 $n$ 表示为一个**缪零数**与一个**质数**的和，并统计方案数，同时找出方案中最小的差值。

**定义回顾** 我们首先回顾**缪零数**与**质数**的定义：
1. **缪零数**：$n$ 是某个 $m^2$ 的倍数（$m \geq 2$），这隐含了 $n \geq 4$。
2. **质数**：$n$ 不能被 $2\sim n-1$ 中任意一个整数整除，且 $n \neq 1$。

我们不妨首先考虑如何判断**缪零数**和**质数**。

**缪零数** 对于一个整数 $i$，我们可以遍历 $k = 2 \sim i - 1$，逐个判断 $i$ 是否是 $k \times k$ 的倍数。如果有任何 $k$ 满足 $i$ 是 $k \times k$ 的倍数，则 $i$ 是缪零数。

```cpp
int flag = 0; // 记录 i 是否是缪零数，1 代表是，0 代表不是
for (int k = 2; k <= i - 1; k++) {
    if (i % (k * k) == 0) { // i 除以 k * k 的余数是 0，代表了 i 是 k * k 的倍数
        flag = 1;
        break;
    }
}
```

**质数** 同理，对于一个整数 $i$，我们遍历 $k = 2 \sim i - 1$，逐个判断 $i$ 是否是 $k$ 的倍数。如果有任何 $k$ 满足 $i$ 是 $k$ 的倍数，则 $i$ 不是质数。反之，则 $i$ 是质数。

```cpp
int flag = 1; // 记录 i 是否是质数，1 代表是，0 代表不是
for (int k = 2; k <= i - 1; k++) {
    if (i % k == 0) {
        flag = 0;
        break;
    }
}
```

有了上面两部分代码，我们只需要在最外层套一个 `for` 循环枚举把 $n$ 分拆的方案即可。例如，我们可以枚举 $i = 4 \sim n - 2$ 并假定 $i$ 是拆出来的缪零数，那么 $j = n - i$（范围 $2 \sim n - 4$）则被假定是拆出来的质数。

```cpp
for (int i = 4; i <= n - 2; ++i) {
    int j = n - i;

    // 分别判断 i, j 是否是缪零数、质数
    // 此处直接使用上面提到的代码部分即可，故省略

    ...
}
```

在找到每一种合法的分拆方案后，我们可以使用两个变量 $c, d$ 分别用于统计答案要求的数量和差的最小值。前者直接计数，后者使用擂台法即可。

```cpp
int c = 0;
int d = 10000; // 由于 i - j 一定不会超过 n，n 一定不会超过 10000，因此这里 d = 10000 即可
for (int i = 4; i <= n - 2; ++i) {
    int j = n - i;
    // 分别判断 i, j 是否是缪零数、质数

    if (i, j 不满足条件) continue;

    c++;
    if (i < j) d = min(d, j - i);
    else d = min(d, i - j);
}
cout << c << endl << d << endl;
```

---


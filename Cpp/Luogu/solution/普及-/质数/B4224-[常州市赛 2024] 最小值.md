# [常州市赛 2024] 最小值

## 题目背景

搬运自 <http://czoj.com.cn/p/950>。数据为民间数据。

## 题目描述

素数是指一个大于 $1$ 的自然数，除了 $1$ 和它本身外，不能被其他自然数整除，换句话说就是该数除了 $1$ 和它本身以外不再有其他的因数。比如 $2,3,5,7,11,13\cdots$ 都是素数，而 $4,6,8,9,10\cdots$ 都是合数（有 $3$ 个以上因数）。特别地，$0$ 和 $1$ 既不是素数，也不是合数。

小 Y 想知道最小的素数，那当然是 $2$。不过他加上了一些限制，就是只通过某些数字构成的素数最小是多少？比如只通过 $3$ 构成的最小的素数是 $3$，只通过 $1$ 构成的最小的素数是 $11$，只通过 $8$ 和 $9$ 构成的最小的素数是 $89$ 等等。另外需要特别指出的是：给出的数字无须全部用到，比如只通过 $3$ 和 $5$ 构成的最小的素数是 $3$，而不是 $53$。

## 说明/提示

对于所有数据，$1\le n\le10$，保证可以使用的数字互不相同。

|测试点编号|$n$|
|:-:|:-:|
|$1\sim3$|$=1$|
|$4\sim7$|$=2$|
|$8\sim10$|$\le 10$|

## 样例 #1

### 输入

```
2
3 5```

### 输出

```
3```

## 样例 #2

### 输入

```
1
1```

### 输出

```
11```

## 样例 #3

### 输入

```
3
8 0 9```

### 输出

```
89```

## 样例 #4

### 输入

```
4
2 3 4 5```

### 输出

```
2```

# 题解

## 作者：sfb1363II (赞：7)

[题目传送门](https://www.luogu.com.cn/problem/B4224)

## Solution

这题我的思路是推结论，首先不难发现如果可以使用的数字中有 $2$ 的话，那么答案必定是 $2$，同理，$3,5,7$ 也是如此。如果这四个质数都没有的话，那么先看有没有 $1$，如果有，那么答案就是 $11$。接着再看 $8$，$9$，如果有，输出 $89$。然后再看 $4,9$，有的话要分类讨论：如果有 $0$，那么就输出 $409$；否则就输出 $449$。最后如果这些都没有就输出 $-1$。

## Code


```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
int n;
map<int,bool> mp;//使用map去看某个数字是否存在
signed main(){
    ios::sync_with_stdio(0);
    cin.tie(0);cout.tie(0);
    cin>>n;
    for(int i=1;i<=n;i++){
        int x;
        cin>>x;
        mp[x]=true;
    }
    if(mp[2]) cout<<2<<"\n";
    else if(mp[3]) cout<<3<<"\n";
    else if(mp[5]) cout<<5<<"\n";
    else if(mp[7]) cout<<7<<"\n";
    else if(mp[1]) cout<<11<<"\n";
    else if(mp[8]&&mp[9]) cout<<89<<"\n";
    else if(mp[4]&&mp[9]){
        if(mp[0]) cout<<409<<"\n";
        else cout<<449<<"\n";
    }
    else cout<<-1<<"\n";
    return 0;
}
```

---

## 作者：jiangchengzhe (赞：4)

[题目传送门](https://www.luogu.com.cn/problem/B4224)。

### Part 1 理清题意
* * *
给你 $n$ 个整数，用这些整数生成一个最小的素数。**（可重复使用）**

### Part 2 思考题目做法
* * * 

如果这 $n$ 个数中含有 $2,3,5,7$，则必然是他们当中的一个。于是，我快乐地写出了以下代码。

```cpp
for(int i=1;i<=n;i++){
  if(check(a[i])){
    cout<<a[i];
    return 0;
  }
}
```
但是这是错的，因为当你查找到 $7$ 时，数组中仍有可能会有 $2,3,5$，其余同理。

所以，我们要这么写：
```cpp
for(int i=1;i<=n;i++) cin>>a[i],mp[a[i]]=1;
if(mp[2]){
  cout<<2;
  return 0;
}
if(mp[3]){
  cout<<3;
  return 0;
}
if(mp[5]){
  cout<<5;
  return 0;
}
if(mp[7]){
  cout<<7;
  return 0;
}
```
然后处理其余情况：

1. 如果有 $1$，那么最小素数必为 $11$。  
2. 如果有 $8$，判断是否有 $9$，如果有，那么最小素数必为 $89$。
3. 如果有 $4$，判断是否有 $0$ 和 $9$，如果都有，那么最小素数必为 $409$。
4. 如果没有 $0$，但有 $4$ 和 $9$ 可以组成 $449$。
5. 若都没有查找到，输出 `-1`。

**一定要按照结果大小顺序查找！！！**  
~~我就在这里被坑了很久！~~

### Part 3 完整代码

```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
int mp[15];
int n;
int ans=1e10+7;
int a[15];
signed main(){
    ios::sync_with_stdio(false);
    cin.tie(0);
    cout.tie(0);
    cin>>n;
    for(int i=1;i<=n;i++) cin>>a[i],mp[a[i]]=1;
    if(mp[2]){
        cout<<2;
        return 0;
    }
    if(mp[3]){
        cout<<3;
        return 0;
    }
    if(mp[5]){
        cout<<5;
        return 0;
    }
    if(mp[7]){
        cout<<7;
        return 0;
    }
    if(mp[1]){
        cout<<11;
        return 0;
    }
    if(mp[8]&&mp[9]){
        cout<<"89";
        return 0;
    }
    if(mp[4]&&mp[0]&&mp[9]){
        cout<<"409";
        return 0;
    }
    if(mp[4]&&mp[9]){
        cout<<"449";
        return 0;
    }
    cout<<"-1";
    return 0;
}
```

### Part 4 完结撒花
[AC 记录](https://www.luogu.com.cn/record/206034448)。

---

## 作者：yedalong (赞：2)

## Solution
考虑从小到大枚举每一个质数，判断这个质数是否每一个数字都是要求的数，遇到第一个输出就可以了。  

至于要枚举到多大，暴力思想是可以枚举到 $10^6$，对于没有找到符合要求的质数输出 $-1$。至于这种做法的正确性，感兴趣的同学可以尝试去证明一下。
## AC code

```cpp
#include <bits/stdc++.h>
using namespace std;
int n,x;
bool pd[15];
bool is_prime(int n){
	if(!n||n==1) return 0;
	for(int i = 2;i*i<=n;i++) if(n%i==0) return 0;
	return 1;
}
bool check(int n){
	while(n){
		if(!pd[n%10]) return 0;
		n/=10;
	}
	return 1;
}
int main(){
	cin>>n;
	for(int i = 1;i<=n;i++) cin>>x,pd[x]=1;
	for(int i = 1;i<=1000000;i++){
		if(is_prime(i)&&check(i)){
			cout<<i;
			return 0; 
		}
	}
	cout<<-1;
	return 0;
} 
```

---

## 作者：int_inf (赞：1)

[题目传送门](https://www.luogu.com.cn/problem/B4224) ＆ [AC记录](https://www.luogu.com.cn/record/206543621)
# Solution
这道题我们可以直接用一个数组来记录一个数是否出现，然后再来构造素数。

若出现 $2,3,5,7$，则最小素数一定是它们。若情况不存在，则开始按构造的素数从小到大判断其他情况。

- 若存在 $1$，则最小素数为 $11$。
- 若存在 $8$ 和 $9$，则最小素数为 $89$。
- 若存在 $4$ 和 $0$ 和 $9$，则最小素数为 $409$。
- 若只有 $4$ 和 $9$，则最小素数为 $449$。
- 若不存在上述情况，则输出 $-1$。
# Code

```cpp
#include<bits/stdc++.h>
using namespace std;
int n,x[101];
bool vis[101];
void search()
{
	if(vis[2]) cout<<2<<endl;
	else if(vis[3]) cout<<3<<endl;
	else if(vis[5]) cout<<5<<endl;
	else if(vis[7]) cout<<7<<endl;
	else if(vis[1]) cout<<11<<endl;
	else if(vis[8]&vis[9]) cout<<89<<endl;//这里的 ＆ 实际上等价于 ＆＆ 
	else if(vis[4]&vis[0]&vis[9]) cout<<409<<endl;
	else if(vis[4]&vis[9]) cout<<449<<endl;
	else cout<<-1<<endl;
	return;
}
int main()
{
	ios::sync_with_stdio(0);
	cin.tie(0),cout.tie(0);
	memset(vis,0,sizeof(vis));
	cin>>n;
	for(int i=1;i<=n;i++)
	{
		cin>>x[i];
		vis[x[i]]=true;
	}
	search();
	return 0;//下次再见 
}
```
事已至此，不如留下赞和关注，后会有期。

---

## 作者：tc291311 (赞：0)

# B4224 [常州市程序设计小能手 2024] 最小值
[ _**link**_ ](https://www.luogu.com.cn/problem/B4224)
## 题意理解

**~~一大串都是废话~~**，可以简单的理解成**找到由特定数字组成的最小素数。如果无法构成素数，则输出 -1。**

## 具体实现
 - 质数判断
   
输入输出和质数判断就不说了，都会，但是这里还是单独讲一下质数的最基本判断。

### 第一种

```cpp
// 判断一个数是否为素数（最基本）
bool isPrime(int num) {
    if(num == 1) return flase;//特判
    for (int i = 2; i <= num; i ++) {
        if (num % i == 0) return false;
    }
    return true;
}
```
这种是最低级的判断，其实就可以认为是暴力枚举。
### 第二种

```cpp
// 判断一个数是否为素数（基本）
bool isPrime(int num) {
    if (num <= 1) return false;//1不是质数，需要特判
    for (int i = 2; i <= sqrt(num); i ++) {//优化从2到num的平方根
        if (num % i == 0) return false;
    }
    return true;
}
```
这种是在 for 循环上的范围进行了优化，减少冗余。
### 其他
其他方法无论怎么改也是在优化，不同的码风有不同的写法，当然也可以用质数筛。

 - 生成数字

从最小的可能数字开始，逐步生成由给定数字组成的数字，并检查它们是否为素数，其实也是枚举思想。

从这两个步骤上就可以看出这题其实就是一个枚举题，~~但是这个标签~~。。。

放一下完整的代码

```cpp
#include<bits/stdc++.h>
#define FOR(i,n) for(int i=1;i<=n;i++)
#define For(i,s,n) for(int i=s;i<=n;i++)
using namespace std;
int n,T;
bool mark[30];
bool isPrime(int num){//质数判断 
	if(num==1) return false;
	For(i,2,sqrt(num)){
		if(num%i==0) return false;
	}
	return true;
}
bool work(int n){
	while(n!=0){
		if(!mark[n%10]) return false;
		n/=10;
	}
	return true;
}
signed main(){
	cin>>n;
	FOR(i,n) cin>>T,mark[T]=1;
	FOR(i,1e6){//枚举所有可能并判断是否为质数 
		if(isPrime(i)&&work(i)){
			cout<<i;
			return 0; 
		}
	}
	cout<<-1;
	return 0;//好习惯 
}
```
[AC](https://www.luogu.com.cn/record/206745485)

**完结**

---


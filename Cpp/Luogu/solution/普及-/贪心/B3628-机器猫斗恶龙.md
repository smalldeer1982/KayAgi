# 机器猫斗恶龙

## 题目描述

机器猫出门斗恶龙了！他需要通过 $n$ 个关卡。

每个关卡要么是与怪物战斗，扣除一定的血量；要么是营地，给机器猫增加一定的血量。

在旅途中，机器猫**任意时刻**的血量不能低于或等于 $0$。问机器猫至少需要多少的初始血量，才能完成任务。

血量为正整数。

## 说明/提示

**样例解释**

第二组样例：机器猫带着 $501$ 点血量出门，两场战斗之后剩下 $1$，恢复到 $1001$，两场战斗之后为 $801$，完成任务。

**数据规模与约定**

对于 $100\%$ 的数据，$n\leq 100000, 1\leq |a_i|\leq 1000$。



## 样例 #1

### 输入

```
3
-100 -200 -300```

### 输出

```
601```

## 样例 #2

### 输入

```
5
-200 -300 1000 -100 -100```

### 输出

```
501```

# 题解

## 作者：ShanCreeperPro (赞：49)

## B3628 机器猫斗恶龙 題解

**管理员注：**

阅读本文章前，请先阅读[$ \ \texttt{ShanCreeper}$ B 题库题解的声明](https://www.luogu.com.cn/blog/Ru19Free/AboutBProblem)，并了解由于课程需要不展示代码。

**如需系统学习相关知识点请报名【[洛谷-基础算法计划](https://class.luogu.com.cn/)】**

点赞上文章即代表您已阅读并熟知其内容。
***

观察题目，可以看出**初始血量越多，越可能成功**的性质。

具体的，如果答案为 $k$：

- $1,2,...k-1$ 的血量都会失败；
- 而 $k,k+1,...$ 的血量会成功。

问题就变成了找到第一个能成功的血量，显而易见的二分。

我们不断猜测 $\texttt{mid}$，暴力模拟：

- 如果 $x$ 的血量能完成任务，则答案 $ \leq x$；
- 如果不能完成任务，则答案 $>x$。

所以我们可以写一个函数 `check` 判断 $x$ 血量是否能完成，然后进行二分。



---


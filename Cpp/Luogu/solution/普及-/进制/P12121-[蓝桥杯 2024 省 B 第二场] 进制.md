# [蓝桥杯 2024 省 B 第二场] 进制

## 题目描述

$8100178706957568$ 这个数在用 $x$ 进制表示时（$x \in [11, 36]$），仅包含数字而不包含字母，请问 $x$ 是多少。比如 $2588$ 用 $16$ 进制表示为 $a1c$，包含字母 $a$ 和 $c$。

# 题解

## 作者：zhangzirui66 (赞：3)

直接使用代码枚举进制即可，字母即为当前数字 $\ge 10$，注意不要直接修改原数，否则以后数字就会变成 $0$。

求答案代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
long long x = 8100178706957568;
int main(){
	for(long long i = 11; i <= 36; i ++){
		long long b = x, flag = 0;
		while(b){
			if(b % i >= 10) flag = 1; // 有字母
			b /= i;
		} // 进制转换
		if(!flag){
			cout << i << " ";
		}
	}
	return 0;
}
```

---

## 作者：XsIeEiKcEk (赞：2)

## 解法

按照题意模拟进制，依次算出每一位的字符，若不为数字直接排除。

## CODE
```cpp
#include<iostream>
using namespace std;
#define int long long
int s=8100178706957568;
char c[36];//保存各进制要的字符
signed main(){
    for(int i=0;i<36;i++){//录入字符
        if(i<10)c[i]=i;
        else c[i]=i-'0'-10+'a';
    }
    for(int i=11;i<=36;i++){
        bool check=true;
        int t=s;
        while(t>=i){
            if(t%i>=10){//即为字母
                check=false;//记录
                break;
            }
            t/=i;
        }
        if(check&&t<10){
            cout<<i;
            return 0;
        }
    }
}
```

---

## 作者：Eric1030 (赞：1)

这道题有两种做法，第一种做法是手动模拟，但比较麻烦。那么现在就有了第二种做法：用代码实现（~~这不废话吗？~~）。

那么现在，我们开始用代码枚举。我们先把 $8100178706957568$ 这个数存进 $n$ 里，然后用循环来看 $11$ 至 $36$ 进制时转换后的结果，最后再找一遍转换成哪个进制后仅包含数字即可。

思路讲好后我们来看一下代码。


```cpp
#include<bits/stdc++.h>
using namespace std;
long long n, t, a[100000005], cnt;
int main()
{
    n = 8100178706957568;//存数
    for (int r = 11;r <= 36;r++)//枚举进制
    {
        cout << r << "进制：";
        cnt = 0;//cnt记得清零，方便下一次计算
        t = n;
        while (t != 0)//拆数
        {
            int x = t % r;//最后一位的转换
            t /= r;
            cnt++;//位数+1
            a[cnt] = x;//存储x
        }
        for (int i = cnt;i >= 1;i--)//倒序枚举，因为在存储时就是倒着存的
        {
            if (a[i] >= 10)//不能用数字表示
            {
                cout << char(a[i] + 55);//转换成对应字母
            }
            else//可以用数字表示
            {
                cout << a[i];//直接输出
            }
        }
        cout << endl << endl;
    }
    return 0;//结束！
}
```

下面是这个代码运行后的结果：

```
11进制：1A36A6A552944030

12进制：6385A4A97862280

13进制：2098A27612753CA

14进制：A2C38A54058080

15进制：4266E3850DE9B3

16进制：1CC711D2720500

17进制：DF5G4E6738FAC

18进制：700BG149155F6

19进制：3CA344CH71I6H

20进制：1JB0D4C5I9DI8

21进制：122D2JAGCJFH0

22进制：DILB27KK4DI0

23进制：8BC511CBL1DE

24进制：57I3EC7996G0

25进制：39NA86OEK72I

26进制：259MO5I9AAJA

27进制：1C969E296OG6

28进制：R9K7JEONL40

29进制：J7AARB55MRP

30进制：DLFSG7FQ65I

31进制：9RB9S23O6MR

32进制：76727974180

33进制：59HFOUO3010

34进制：3VDUHUH7GMC

35进制：2WR2THUG4TS

36进制：27R9UQ5PEYO
```

运行完后我们就在这些结果里面找一找有没有转换后的结果全是数字的可能。

这时，我们就会发现有一行输出是 ```32进制：76727974180```。那么我们就可以确定答案了：$32$。

## [AC](https://www.luogu.com.cn/record/213267390) 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	cout<<32;
	return 0;//结束！
}
```

---

## 作者：niuniudundun (赞：1)

[题目传送门](https://www.luogu.com.cn/problem/P12121)

## Problem

$8100178706957568$ 这个数在用 $x$ 进制表示时（$x\in[11,36]$），仅包含数字而不包含字母，请问 $x$ 是多少。

## Solution.1

直接手算，枚举每个 $x$ 并将 $8100178706957568$ 转成 $x$ 进制。具体过程就不展示了，经过手算可知 $x=32$，输出它，即可。

## Solution.2

定义 `char` 型函数 $\operatorname{bis}(x)=\left\{\begin{matrix}(x\ge 10) x-10+\texttt A\\(x\le 9) x\bmod 10 +\texttt 0\end{matrix}\right.$，和可以将 $n$ 转成 $p$ 进制的函数 $\operatorname{f}(n,p)$。我们将 $\operatorname{f}(n,p)$ 中 $n\bmod p$ 加一个判断，如果 $\operatorname{bis}(n\bmod p)$ 是字母说明 $p$（枚举的 $x$）不符合条件。如果全是数字则找到解了。最后枚举 $x$。

$8100178706957568$ 有 $16$ 位，需要 `long long`。

## Code

复杂度：设 $V=8100178706957568,X=36-11=25$，则复杂度为 $O(X\log_{10} V)$。

```cpp
#include<bits/stdc++.h>
using namespace std;
#define int long long
int x=11;
int n=8100178706957568;
char bis(int x){
	if(x>=10){
		return x-10+'A';
	}else{
		return x%10+'0';
	}
}
bool f(int n,int p){
	string s="";
	while(n!=0){
		if(bis(n%p)>='A'&&bis(n%p)<='Z') return false;
		s=bis(n%p)+s;
		n=n/p;
	}
	return true;
}
signed main(){
	for(;x<=36;x++){
		if(f(n,x)){
			cout<<x<<endl;
			return 0;
		}
	}
	return 0;
}
/*

*/
```

---

## 作者：xingshuyan000 (赞：1)

[题目传送门：洛谷 P12121](https://www.luogu.com.cn/problem/P12121)

# 题目分析

这是一道非常简单的进制转换的题目。本题考查知识点：进制转换、模拟。

前置知识：[十进制转 $x$ 进制](https://www.luogu.com.cn/problem/B3619)，该链接指向的是洛谷的一道题 [B3619](https://www.luogu.com.cn/problem/B3619)，如果不太了解十进制转其他进制的，可以来这道题的题解区理解。

本题的题意非常简洁明了，就是让你找一个在区间 $[11,36]$ 之间的整数 $x$，使得题目中给出的这个十进制整数 $8100178706957568$（接下来，我会让 $n$ 等于这个整数，这样方便阅读）转化为 $x$ 进制后的 $x$ 进制数中只含有数字而不含字母，只输出这个 $x$。

反正这题数据范围也不大，$x$ 就只有 $11 \sim 36$，而且这个 $n$ 也已经确定，而且这还是个填空题，所以我们可以直接写一个程序打表，挨个输出从 $x=11$ 到 $x=36$ 的进制数，然后看看哪个进制只有数字。然后来到洛谷的这道题上面，输出你找到的 $x$，接着就能看到 Accepted 的结果了。

接着，我把我的打表程序粘贴在下面，其中的 conversion 函数使用了递归。

```cpp
//P12121
#include <bits/stdc++.h>
using namespace std;
typedef long long LL;
void conversion(long long n, long long x) //进制转换函数
{
	if(n == 0) return;
	conversion(n / x, x); //递归
	if(n % x >= 10) cout << (char)(n % x - 10 + 'A'); //如果x进制的这一位上的数字大于等于10了，就要用字母来表示
	else cout << n % x;
	return;
}
int main()
{
	long long n = 8100178706957568;
	for(LL i = 11; i <= 36; i ++)
	{
		cout << i << " ";
		conversion(n, i);
		cout << endl;
	}
	return 0;
}
```

这个程序的输出结果如下（空格左边的是 $x$ 的值，空格右边的是 $x$ 进制下 $n$ 的值）：

```
11 1A36A6A552944030
12 6385A4A97862280
13 2098A27612753CA
14 A2C38A54058080
15 4266E3850DE9B3
16 1CC711D2720500
17 DF5G4E6738FAC
18 700BG149155F6
19 3CA344CH71I6H
20 1JB0D4C5I9DI8
21 122D2JAGCJFH0
22 DILB27KK4DI0
23 8BC511CBL1DE
24 57I3EC7996G0
25 39NA86OEK72I
26 259MO5I9AAJA
27 1C969E296OG6
28 R9K7JEONL40
29 J7AARB55MRP
30 DLFSG7FQ65I
31 9RB9S23O6MR
32 76727974180
33 59HFOUO3010
34 3VDUHUH7GMC
35 2WR2THUG4TS
36 27R9UQ5PEYO
```

经过寻找，我们发现，当 $x=32$ 时，$x$ 进制数中只含有数字。所以本题的答案等于 $32$。

至于这个打表的证明，我觉得最简单的方法就是把这个十进制整数 $n$ 一直转换成 $x$ 进制，其中 $x\in[11,36]$ 且 $x \in \mathbb N$，然后比较结果就行了。至于计算的话，你可以自己慢慢算，或者让计算机帮你计算，反正如果手算的话计算量是非常大的，所以建议编程计算。

---

## 作者：Wzmois (赞：0)

[最优解](https://www.luogu.com.cn/record/213267510)

**和 `cout<<32` 一样快！仅用时 3ms。**
## Solution
用辗转相除法易得其进制为 $32$。

核心代码：
```cpp
bool f=1;
for(int i=11;i<=36;i++){
  long long a=8100178706957568;
  f=1;
  while(a){
    if(a%i>=10){//此时为字母，过滤
      f=0;
      break;
    }
    a/=i;
  }
  if(f){
    printf("%d",i);
    return 0;
  }
}
```

推演过程：
$$
8100178706957568\mod32=0\\
8100178706957568\div32=253130584592424\\
-\\
253130584592424\mod32=8\\
(253130584592424-8)\div32=7910330768513\\
-\\
7910330768513\mod32=1\\
(7910330768513-1)\div32=247197836516\\
-\\
247197836516\mod32=4\\
(247197836516-4)\div32=7724932391\\
-\\
7724932391\mod32=7\\
(7724932391-7)\div32=241404137\\
-\\
241404137\mod32=9\\
(241404137-9)\div32=7543879\\
-\\
7543879\mod32=7\\
(7543879-7)\div32=235746\\
-\\
235746\mod32=2\\
(235746-2)\div32=7367\\
-\\
7367\mod32=7\\
(7367-7)\div32=230\\
-\\
230\mod32=6\\
(230-6)/32=7
$$
最终转换出来的 $32$ 进制数为 $76727974180$，没有任何字母，心旷神怡。

---

## 作者：All_Wrong_Answer (赞：0)

[题目传送门](https://www.luogu.com.cn/problem/P12121)

## 题目大意：

找出正整数 $x$，满足 $11 \le x \le 36$ 且十进制数 $8100178706957568$ 在 $x$ 进制的表示下只包含数字。

## 思路：

进制转换，注意到 $x$ 范围很小，题目给出的数字也不算长，考虑暴力用 $11$ 到 $36$ 中每一个进制把 $8100178706957568$ 表示出来再判断是否由数字构成。

## 完整代码：


```cpp
#include <bits/stdc++.h>
using namespace std;
long long m[1000005];
char db[38]={'*','0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'};//打表字母和数字 
bool work(long long x,long long y){
	long long a=0,qw=0;
	while(1){
		if(x<y&&x>=1){
			qw=x;
			break;
		}
		if(x==0){
			break;
		}
		a++;
		m[a]=x%y;
		x=x/y; 
	} //进制转换
	if(qw!=0&&(db[qw+1]<'0'||db[qw+1]>'9')) return false;
	for(int i=a;i>=1;i--){
		if(db[m[i]+1]>='0'&&db[m[i]+1]<='9') continue;
		return false;
	}
	return true;
	//判断是否全由数字组成 
}
int main(){
	for(int i=11;i<=36;i++){
		if(work(8100178706957568,i)==true){
			cout<<i<<endl;
			return 0;
		}
	}
	return 0;
} 
```
[通过记录](https://www.luogu.com.cn/record/213260629)

---

## 作者：Vct14 (赞：0)

本题主要考察怎样将十进制转为 $x$ 进制。

对于一个 $x$ 进制数 $\overline{a_1a_2\cdots a_s}_{(x)}$，我们知道其十进制为 $S=a_s\times x^0+a_{s-1}\times x^1+\cdots+a_1\times x^{s-1}$。

设 $t_i=a_i\times x^{s-i}$，则 $S=t_1+t_2+\cdots+t_s$。由于 $t_1,t_2,\cdots,t_{s-1}$ 都是 $x$ 的倍数，所以 $t_s$ 即为 $S$ 模 $x$ 的余数。

我们将余数减掉后除以 $x$（即将 $x$ 进制数“右移”一位），继续同理求出 $a_{s-1},a_{s-2},\cdots,a_1$ 即可。

那么按照这个思路模拟即可。

```cpp
#include<bits/stdc++.h>
using namespace std;

long long N=8100178706957568;

int main(){
	ios::sync_with_stdio(false);
	cin.tie(0);cout.tie(0);
	for(int x=11; x<=36; x++){
		string a=" ";long long n=N;
		while(n>0){
	        if(n%x<10) a+=n%x+'0';
	        else a+=n%x-10+'A';
	        n/=x;
	    }
	    int l=a.length();
//		for(int i=l-1; i>=1; i--) cout<<a[i];
//		cout<<"\n";
	    bool ok=1;
	    for(int i=1; i<=l; i++){
	    	if(a[i]>='A' && a[i]<='Z'){
	    		ok=0;
	    		break;
			}
		}
		if(ok){
			cout<<x;
			break;
		}
	}
    return 0;
}
```

把将 $n$ 转为 $x=11,12\cdots,36$ 的结果都放在[这](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/yyvb9alv)了，可以作为一个参考。

---

## 作者：dashabi35 (赞：0)

## Description
$8100178706957568$ 这个数在用 $x$ 进制表示时$（x \in [11,36]$，仅包含数字而不包含字母，请问 $x$ 是多少。比如 $2588$ 用 $16$ 进制表示为 $a1c$，包含字母 $a$ 和 $c$。
## Thinking
这是一道简单的进制题。

可以从 $11$ 进制一直到 $36$ 进制进行查找，只要每位都比 $10$ 小即可。

那么就可以有一个代码来帮助运算。

## Coding

计算代码：


```cpp
#include<bits/stdc++.h>
using namespace std;
#define int long long
int n=8100178706957568;
signed main()
{
	for(int i=11;i<=36;++i)
	{
		int t=n;
		int flag=1;
		while(t)
		{
			if(t%i>=10) 
			{
				flag=0;
				break;
			}
			else t/=i;
			
		}
		if(flag) printf("%lld ",i);
	}
	return 0;
}

```
AC代码：


```cpp
#include<stdio.h>
using namespace std;
int main()
{
	printf("32");
	return 0;
}

```

---

## 作者：Aurelia_Veil (赞：0)

# 题解：P12121 \[蓝桥杯 2024 省 B 第二场] 进制

### 一、题目概括：

本题给定进制数 $x$（$x \in [11, 36]$） 要求 $8100178706957568$ 在 $x$ 进制下全为数字。

### 二、程序详解：

本题只需要在本地运行或者直接提交，我们可以枚举 $x$ 每次都将 $8100178706957568$ 进制转换，如果全为数字则直接输出。

### 三、代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
bool check_(long long x,int k){
    stack<int>q;
    while(x){
        q.push(x%k);
        x/=k;
    }
    bool flag=0;
    while(!q.empty()){
        if(q.top()>=10){
            flag=1;
        }
        q.pop();
    }
    return flag==0;
}
int main(){
    long long n=8100178706957568;
    for(int i=11;i<=36;i++){
        if(check_(n,i)){
            printf("%d",i);
            return 0;
        }
    }
    return 0;
}
```

---

## 作者：CMZ369 (赞：0)

很简单，暴力算出来就行。

首先我们需要一个函数，用来判断将 $8100178706957568$ 用 $x$ 进制表示是否满足要求：

只需模拟拆解过程，对拆解出的每一位数都进行判断即可。

```cpp
bool check(long long x)
{
    long long n=8100178706957568;
    while(n)
    {
        if(n%x>=10)     return 0;//如果大于等于10肯定得用字母表示，不满足条件，直接return。
        n/=x;
    }
    return 1;
}
```

主函数我们只需用循环遍历每一个 $x$，判断这个 $x$ 是否满足要求即可。

```cpp
int main()
{
    for(long long i=11;i<=36;i++)//遍历x。
    {
        if(check(i))//判断是否满足要求。
        {
            printf("%lld",i);
            return 0;//如果满足，直接退出。
        }
    }
    return 0;
}
```

合起来是这样：

```cpp
#include<bits/stdc++.h>
using namespace std;
bool check(long long x)
{
    long long n=8100178706957568;
    while(n)
    {
        if(n%x>=10)     return 0;//如果大于等于10肯定得用字母表示，不满足条件，直接return。
        n/=x;
    }
    return 1;
}
int main()
{
    for(long long i=11;i<=36;i++)//遍历x。
    {
        if(check(i))//判断是否满足要求。
        {
            printf("%lld",i);
            return 0;//如果满足，直接退出。
        }
    }
    return 0;
}
```

运行得出 ```32```。

提交代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
    printf("32");
    return 0;
}
```

---

## 作者：封禁用户 (赞：0)

本题考察 $10$ 进制转 $n$ 进制。

[$10$ 进制转 $n$ 进制的模板题](https://www.luogu.com.cn/problem/B3619)

把这个数转换成 $11$ 至 $36$ 进制中的每一个进制，如果不含字母，就输出这个进制数。

```cpp
#include<bits/stdc++.h>
using namespace std;
#define endl "\n"
typedef long long ll;
typedef pair<int,int> pii;
bool flag=1;
char to_chr(int n){
	if(n<10)return n+48;
	else return n+55;
}
void trans(long long n,int k){
	if(!n)return;
	trans(n/k,k);
    if(to_chr(n%k)>='A')flag=0;
}
int main(){
	ios::sync_with_stdio(false);cin.tie(0);cout.tie(0);
	long long n=8100178706957568;
	for(int i=11;i<=36;i++){flag=1;trans(n,i);if(flag)cout<<i;}
}
```

---

## 作者：jiqihang (赞：0)

### 第一种
将答案从 $11$ 到 $36$ 全部试着交一遍。

答案是 $32$。

但是浪费评测资源，影响正确率。

并且考试时不适用。

不推荐。
### 第二种
网上搜个进制转换器，也挨个试一遍。

试到 $32$ 转换后结果是 $76727974180$，符合要求。

但是考试时还是不适用。

不推荐。
### 第三种
手算。

依次手算一遍。

考试时适用，但浪费时间。

不是很推荐。
### 第四种
自己写个转换器代码。

考试时适用，不是很浪费时间。

推荐。
### 结论
综上四种方法结果可知，答案是 $32$。

代码如下：

```python
print("32")
```

---


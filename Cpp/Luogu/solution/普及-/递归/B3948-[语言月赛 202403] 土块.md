# [语言月赛 202403] 土块

## 题目背景

ScaredQiu 有一个形影不离的好朋友小 F，因为小 F 非常讨厌做题，考试的时候只能开赌。

## 题目描述

小 F 的考试中有 $n$ 道多选题，题号分别是从 $0$ 到 $n-1$ 的整数，每道题有 $4$ 个选项。一个选项要么是对的，要么是错的。一道题目的评分标准如下：

- 选择了至少一个错误选项或未选择任何选项，得 $0$ 分。

- 选择了全部的正确选项且没有选择任何错误选项，得 $6$ 分。

- 选择了一部分正确选项且没有选择任何错误选项，得 $3$ 分。

每道题目每个选项是否正确将由一个 $n$ 行 $4$ 列的 $01$ 矩阵 $a$ 描述，矩阵第 $i$ 行第 $j$ 列的元素为 $1$ 说明题号为 $i-1$ 的题目的第 $j$ 个选项是正确的，否则说明该选项是错误的。

小 F 按顺序作答了所有题目，他会给出一个 $n$ 行 $4$ 列的 $01$ 矩阵 $b$，矩阵第 $i$ 行第 $j$ 列的元素为 $1$ 说明他选择了他作答的第 $i$ 道题的第 $j$ 个选项，否则说明他没有选择该选项。

由于时间太紧，小 F 好像把答题卡涂错了。假设他作答的第 $1$ 道题的题号为 $x$，他会依次作答题号为 $x,(x+1) \bmod n,(x+2) \bmod n, \cdots ,(x+n-1) \bmod n$ 的题目。其中 $\bmod$ 为取模运算。

请计算：对于从 $0$ 到 $n-1$ 的每个整数 $i$，在作答的第 $1$ 道题的题号为 $i$ 的情况下，小 F 获得的总分数。

## 说明/提示

对于 $10\%$ 的数据，$a_{i,j}=1$。  
对于另外 $10\%$ 的数据，$b_{i,j}=0$。  
对于 $100\%$ 的数据，$1 \leq n \leq 1000$，$0 \leq a_{i,j},b_{i,j} \leq 1$，矩阵 $a$ 每行至少有一个 $1$。

## 样例 #1

### 输入

```
3
0 1 0 1
0 1 1 0
0 0 1 1
0 0 1 0
0 1 0 0
0 1 1 0
```

### 输出

```
3 3 12
```

# 题解

## 作者：RyanLi (赞：10)

## Source & Knowledge

2024 年 3 月语言月赛，由洛谷网校入门计划/基础计划提供。

## 题目大意

给定一些多选题的答案和作答，加入你从第 $x$ 题开始作答，判断你可以拿到多少分。    

## 题目分析

首先，我们要考虑如何计算得分。

先判断没有作答的情况。

考虑将作答设为 $1$，答案设为 $-1$。将两个数组相加，那么 $0$ 表示这个位置是正确的。

一个完全正确的答案数组一定全部为 $0$，如果数组存在多余的 $-1$，那么说明多涂。否则是部分正确的。

我们可以写出代码：

```cpp
int check(int a[4],int b[4]){
    int c[4],sum=0;
    for(int i=0;i<4;i++)sum+=b[i];
    if(sum==0)return 0;
    for(int i=0;i<4;i++)c[i]=a[i]+b[i];
    for(int i=0;i<4;i++)
        if(c[i]==-1)return 0;
    for(int i=0;i<4;i++)
        if(c[i]==1)return 3;
    return 6;
}
```

然后我们枚举每个起点，按照题意模拟判断即可。

```cpp
std::cin>>n;
for(int i=0;i<n;i++)
    for(int j=0;j<4;j++)std::cin>>a[i][j];
for(int i=0;i<n;i++)
    for(int j=0;j<4;j++)std::cin>>b[i][j],b[i][j]*=-1;
for(int i=0;i<n;i++){
    int ans=0;
    for(int j=0;j<n;j++)
        ans+=check(a[(i+j)%n],b[j]);
    std::cout<<ans<<" \n"[i==n-1];
}
```

## 视频讲解

完整代码见视频题解

![](bilibili:BV1ji421R773?page=7)

---


# [COCI 2014/2015 #4] PRIPREME

## 题目描述

Ante 和 Goran 正在准备 $n$ 个团队。他们每个人各有一个算法需要向所有团队讲解。

当然，他们不能两人同时对同一个团队讲解，也不能同时对多个团队讲解。

给定对每个团队讲解所需的时间，你需要确定讲解所需的最少时间。

## 说明/提示

#### 样例 1 说明

每个团队都需要 $2$ 个单位时间来理解和实现一个算法，以下是一种可行的授课方法。

| Ante | Goran | 用时 |
| :----------: | :----------: | :----------: |
| 团队 1 | 团队 2 | $2$ |
| 团队 2 | 团队 3 | $2$ |
| 团队 3 | 团队 1 | $2$ |
| 全部完成 | 全部完成 | $6$ |

#### 样例 2 说明

其中一种最佳的时间安排是 Ante 依次给团队 $2,3, {\color{red}x},1$ 讲解，但是在 $\color{red}x$ 中有一个 $1$ 个单位时间的暂停。Goran 将依次给团队 $1,3,2$ 讲课。

#### 数据规模与约定

- 对于 $40\%$ 的数据，有 $1\le n\le 7$。
- 对于 $100\%$ 的数据，有 $1\le n\le 3\times 10^5$。

对于所有合法的 $a_i$，都有 $a_i\in [1,3\times 10^5]$。

#### 说明

**题目译自 [COCI2014-2015 CONTEST #4](https://hsin.hr/coci/archive/2014_2015/contest4_tasks.pdf) _T3 PRIPREME_。**

## 样例 #1

### 输入

```
3
2 2 2```

### 输出

```
6```

## 样例 #2

### 输入

```
3
4 1 2```

### 输出

```
8```

## 样例 #3

### 输入

```
4
1 3 2 1```

### 输出

```
7```

# 题解

## 作者：Grisses (赞：7)

[题面](https://www.luogu.com.cn/problem/P7176)

首先，我们看完题面后，先来进行一个模拟。

我们让 Ante 对所需时间最长的团队进行演说，在这个时间里，Goran 向其他团队演说。这样就会有两种情况：

- 时间最长的团队所需时间大于其他团队一共需要的时间：

![](https://cdn.luogu.com.cn/upload/image_hosting/upcbcarm.png)

那么，Ante 给时间最长的团队演说玩后，Goran 还要来这样一次，时间一共是 $2\times max_t$。

- 时间最长的团队所需时间不大于其他团队一共需要的时间：

![](https://cdn.luogu.com.cn/upload/image_hosting/x0o12xof.png)

这样的话，时间就能拼接在一起，一共需要 $\sum\limits_{i=1}^nt_i$。

代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
long long int n,x,maxn,k;//不开long long见祖宗
int main()
{
	cin>>n;
	while(n--){
		cin>>x;
		maxn=max(x,maxn);//最大值
		k+=x;//和
	}
	if(maxn>k-maxn)cout<<maxn*2;//按照上面进行判断
	else cout<<k;
	return 0;
}
```

---

## 作者：mzyc_pzx (赞：4)

一道适合本**蒟蒻**的贪心题

**以下便是贪心策略：**

设最大时间为 max ，所有时间总和为 sum ，则策略如下：

若 $max\geq sum-max$ ，则结果为 $2\times max$ ；

若 $sum-max\geq max$ ， 则结果就为 $sum $ 。

# 上代码：
```cpp
#include <bits/stdc++.h>
using namespace std;
long long sum,a[300001];
int main()
{
	int n;
	cin>>n;
	for(int i=1;i<=n;i++)
	{
		cin>>a[i];
		sum+=a[i];
	}
	sort(a+1,a+n+1);
	if(a[n]>=sum-a[n])
	cout<<2*a[n];
	else
	cout<<sum;
	return 0;
}
```


---

## 作者：mzyc_jx (赞：2)

[题目传送门](https://www.luogu.com.cn/problem/P7176)

又是一道适合~~蒟蒻~~神犇的大~~水~~难题

### 思路：

这是一道贪心题，和[P2392](https://www.luogu.com.cn/problem/P2392)有些相似，但显然简单的多。

贪心策略为：

1、如果最大时间小于等于其它时间的总和，最少时间就是 所有的时间相加

2、如果最大时间大于等于其它时间的总和，最少时间就是 最大时间*2 

### 注意事项：

1、数组一定要开够。

2、sum要用long long。

[评测记录（没有注意以上两点的后果）](https://www.luogu.com.cn/record/58226587)

## AC代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int a[300001];
int main()
{
	ios_base::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);
    	//给程序提速
	long long sum=0;
	int t=0,n;
	cin>>n;
    	for(int i=1;i<=n;i++)
    	{
        	cin>>a[i];
        	sum+=a[i];//累加总时间
    	}
    	sort(a+1,a+n+1);
    	t=a[n];//排序后的最后一个一定是最大的
    	sum-=t;//除最大时间以外的时间的和
    	if(sum>t)//贪心
    	cout<<sum+t;
    	else
    	cout<<t*2;
	return 0;
}
```

## **十年OI一场空，不开long long见祖宗。**

---

## 作者：skyskyCCC (赞：1)

**前言。**

一道很好的**贪心**题。

**分析。**

什么是贪心？

即不从整体最优解的地方入手，得到的是**当前的最优方案**，在一定程度是局部最优解。

那怎么实现本题的贪心策略呢？

自然，但看题面是得不出什么规律的，但是，本题的样例给了我们不小的帮助，通过样例，我们不难得出以下规律：

规律 $1$ ：样例一与样例三。

首先，我们将 $n$ 个数相加，正好与输出答案相符，即 $ans$ 加上数组中的每个相对于前一个最大值还大的数，或最大值的数，（通俗一点，就是加上最大值和比初始化的最大值大的数）如果 $ans$ 大于最大值，那么 $ans$ 就再加上最大值。

但是，我并不能将其中道理阐述清楚，如想明白其中奥秘，请移步至其它题解。

规律 $2$ ：样例二。

我们发现，那 $n$ 个数中的最大值乘 $2$ 可得到答案。做法与规律 $1$ 相似。

原理是在最大值中，可以连续给其它值讲课，也就是说，在特定的情况下，即 $ans$ 不大于 $maxx$ 时，在相同的讲课时间与顺序下，一个老师讲课时间是最大值，两个老师则是最大值乘二。

代码如下，仅供参考：
```
#include<iostream>
#include<algorithm>
using namespace std;
int n,a[300005];
int maxx;
long long ans;
int main(){
    ios::sync_with_stdio(false);
    cin>>n;
    for (int i=1;i<=n;i++){
        cin>>a[i];
        if(a[i]>maxx){
            ans+=maxx;
            maxx=a[i];
        }
        else ans+=a[i];
    }
    if(ans>maxx){
        ans+=maxx;
    }
    else ans=maxx*2;
    cout<<ans<<endl;
    return 0;
}
```
**后记。**

 $ans$ 要开 ```long long```。

---

## 作者：Dream_weavers (赞：1)

## 思路

这是一道很基础、很简单的贪心题。

### 贪心算法：

在对问题求解时，总是做出在当前看来是**最好的选择**。也就是说，不从**整体最优**上加以考虑，算法得到的是在某种意义上的**局部最优解**。

### 此题贪心策略：

设数组中最大时间为 maxn（为了防止在代码中与函数 $\ \max\ $ 冲突 ），时间总和为 sum。

若 $\ sum-maxn\le maxn$，则输出 $\ 2\times maxn $。

若 $\ sum-maxn > maxn$，则输出 $\ sum $。


## 注意事项

1. 此题 $\ n \ $ 最大为 $\ 3\times 10^5$，为了防止数组越界，我们可以开到 $\ 3\times 10^5+5$。

2. 总和会很大，必须开 **long long**！

[不听好人言，吃亏在眼前！](https://www.luogu.com.cn/record/67713391)

## $\ AC\ Code$

```cpp
#include<iostream>
using namespace std;
typedef long long ll;//不开long long见祖宗
const ll N=3e5+5;//数组要开更大
inline ll read(){//快读（也可以用cin）
    ll x=0,f=1;char ch=getchar();
    while (ch<'0'||ch>'9'){if (ch=='-') f=-1;ch=getchar();}
    while (ch>='0'&&ch<='9'){x=x*10+ch-48;ch=getchar();}
    return x*f;
}
ll n,a[N],sum=0,maxn=0;
int main(){
    n=read();
    for(ll i=1;i<=n;i++){
        a[i]=read();//团队所需时间
        maxn=max(maxn,a[i]),sum+=a[i];//求助最大值，并累加求总和
    }
    if(sum-maxn<=maxn) cout<<2*maxn;//比较
    else cout<<sum;
    return 0;
}
```

到现在我才发现，其实 $\ a\ $ 不用开成数组，只需开成变量就行了（

---

## 作者：BlackPanda (赞：0)

### [题目传送门](https://www.luogu.com.cn/problem/P7176)

------------
### 思路：
#### 这是一道[贪心算法](https://baike.baidu.com/item/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/5411800?fr=aladdin)的策略问题。

#### 贪心策略为：

设最大时间为 $maxt$，时间总和为 $sumt$，结果为 $anst$，则：

- 如果 $maxt≥sumt-maxt$，则 $anst=2×maxt$。
- 如果 $maxt≤sumt-maxt$，则 $anst=sumt$。

------------
### code：
```cpp
#include <iostream>
#include <cstdio>
#include <algorithm>
using namespace std;
const int MAXN=300005;

long long sumt,maxt=-1*MAXN,t[MAXN],n;	//一定要用long long 
//其中，sumt为时间总和，maxt为最大时间 
int main(){
	cin>>n;
	for(int i=1;i<=n;i++){
		cin>>t[i];
		sumt+=t[i];
	} 
	for(int i=1;i<=n;i++){	//找最大时间 
		maxt=max(maxt,t[i]);
	}
	if(maxt>=sumt-maxt)
		cout<<2*maxt<<endl;
	else
		cout<<sumt<<endl;
	return 0;
}


```

---

## 作者：Halberd_Cease (赞：0)

[P7176 PRIPREME](https://www.luogu.com.cn/problem/P7176)
# 分析与解
**直接入题**
## 分析
一道贪心题，贪心策略光看题目比较难找到

但是——**题目给了你3组测试样例**！！

---

先来看第一组：

不难发现，输出是全部讲课时间的和

第三组也是如此

---
再是第二组：

输出是```4```也就是最大数的两倍

---
我们现在可以将第一和第三组归为一类，第二组归为另一类

再仔细观察，第一类中最大数比其它数的和要**小**，而第二类中的比其它数要**大**

---
**贪心策略为：**

**1.如果最大数比其它数的和少，时间就是所有时间相加**

**2.如果最大数比其它数的和多，时间就是最大数的两倍**
# 解
本题不难实现，直接上代码
```cpp
#include<bits/stdc++.h>
using namespace std;
long long n,maxn,sum,i,a;
int main()
{
    cin>>n;
    for(i=1;i<=n;i++)
    {
        scanf("%d",&a);
        if(a>maxn)
        {
            sum+=maxn;
            maxn=a;
        }
        else
        {
            sum+=a;
        }
    }
    if(sum>maxn)cout<<sum+maxn;
    else cout<<2*maxn;
    return 0;
}
```


---


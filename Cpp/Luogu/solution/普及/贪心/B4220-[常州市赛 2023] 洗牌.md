# [常州市赛 2023] 洗牌

## 题目背景

搬运自 <http://czoj.com.cn/p/677>。数据为民间数据。

## 题目描述

小 X 有 $n$ 张标有数字的纸牌，第 $i$ 张纸牌上面的数是 $a_i$，现在小 X 想通过洗牌打乱它们的顺序。

对于一个洗牌后的顺序，小 X 觉得相邻两张纸牌上数的差的绝对值之和越大，牌就洗的 越乱。

举个例子：现在有 $4$ 张纸牌，纸牌上的数依次为 $[1,2,3,4]$。

假设洗完牌后，纸牌上的数依次 $[4,3,2,1]$，相邻两张纸牌上数的差的绝对值之和为 $\left|4-3\right|+\left|3-2\right|+\left|2-1\right|=1+1+1=3$。

假设洗完牌后，纸牌上的数依次 $[2,4,1,3]$，相邻两张纸牌上数的差的绝对值之和为 $\left|4-2\right|+\left|4-1\right|+\left|3-1\right|=2+3+2=7$。

那么小 X 就会觉得 $[2,4,1,3]$ 的顺序比 $[4,3,2,1]$ 更乱。

小 X 想要问问你，对于所有顺序，相邻两张纸牌上数的差的绝对值之和最大能是多少。

## 说明/提示

本题共有 $11$ 个测试点。

保证当测试点编号是偶数时，$n$ 也是偶数。

|测试点编号|$n$|$a_i$|
|:-:|:-:|:-:|
|$1\sim3$|$1\le n\le 10$|$1\le a_i\le10^6$|
|$4\sim8$|$1\le n\le 100$|$1\le a_i\le 10$|
|$9\sim11$|$1\le n\le10^5$|$1\le a_i\le 10^6$|

## 样例 #1

### 输入

```
4 
1 2 3 4```

### 输出

```
7```

## 样例 #2

### 输入

```
5
1 2 3 4 5```

### 输出

```
11```

## 样例 #3

### 输入

```
10
1 2 3 4 5 6 7 8 9 10```

### 输出

```
49```

# 题解

## 作者：chenzimo123 (赞：1)

~~这是本弱鸡写的第一篇题解，大佬们不喜勿喷。~~

这道题的数据范围有点大，暴力拿不到满分！所以我们要想一种方法降低时间复杂度——贪心。

为了使差的绝对值尽可能地大，我们要让数在数轴上的距离尽可能大。第一时间便能想到贪心算法。我们只要让相邻的数字差值尽可能大就可以是答案最大。

我们要对样例进行分析，得知只要对待处理的最左与最右的数进行分析，使它加在当前数列的最左边或最右边取最大值，便可以知道到放哪边合适。这样只要扫一遍便知道了最大值，快了很多，这儿有点像指针。

好的废话不多说，上代码。

```cpp
#include <bits/stdc++.h>
using namespace std;
#define int long long//不开long long见祖宗
int a[100010];
signed main()
{
	int n;
	cin >> n;
	for (int i = 1; i <= n; i++)
	{
		cin >> a[i];
	}
	sort (a + 1, a + n + 1); //这里得排一下序，让它满足递增顺序
	int i = 2, j = n;//当前遍历的下标
	int l = 1, r = 1;//当前数列左右的下标
	int ans = 0;
	while (i <= j)
	{
		int t = max(max(abs(a[i] - a[l]), abs(a[i] - a[r])), max(abs(a[j] - a[l]), abs(a[j] - a[r])));
        //四种可能
		if (t == abs(a[i] - a[l]))
		{
			ans += abs(a[i] - a[l]);
			l = i;
			i++;
		}
		else if (t == abs(a[j] - a[l]))
		{
			ans += abs(a[j] - a[l]);
			l = j;
			j--;
		}
		else if (t == abs(a[i] - a[r]))
		{
			ans += abs(a[i] - a[r]);
			r = i;
			i++;
		}
		else if (t == abs(a[j] - a[r]))
		{	
			ans += abs(a[j] - a[r]);
			r = j;
			j--;
		}
	}
	cout << ans << endl;
	return 0;//好习惯
}

```
~~求求管理员通过吧！~~

---


# [GCPC 2023] Japanese Lottery

## 题目描述

阿弥陀签（Amida-kuji）是一种在日本流行的彩票游戏，可以用来将 $w$ 个奖品分配给 $w$ 个人。
该游戏由 $w$ 条竖直的线段（称为“腿”）和一些连接相邻腿的水平横杆组成。
每个人从腿的顶部出发，奖品放在腿的底部。
为了确定第 $i$ 个人获得哪个奖品，需要从第 $i$ 条腿的顶部出发，遇到横杆时就切换到相邻的腿，一直走到最底部。
你可以在下图（图 J.1）中看到这个游戏以及如何追踪路径。

![](https://cdn.luogu.com.cn/upload/image_hosting/2xrlg1j9.png)

:::align{center}
草莓采摘游戏，图片来自 [Nanao Wagatsuma](https://commons.wikimedia.org/wiki/File:%E3%82%A4%E3%83%81%E3%82%B4%E3%81%A4%E3%81%BF%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%A8%E3%81%84%E3%81%86%E5%90%8D%E3%81%AE%E3%81%9F%E3%81%A0%E3%81%AE%E3%81%82%E3%81%BF%E3%81%A0%E3%81%8F%E3%81%98.jpg)
:::

你希望通过移除一些横杆，使得对于每个 $i$，第 $i$ 个人都能获得第 $i$ 个奖品。
由于你不想被发现，你希望移除的横杆数量尽可能少。

:::align{center}

![](https://cdn.luogu.com.cn/upload/image_hosting/jce88dsz.png)

图 J.1：阿弥陀签游戏的可视化。第一个人最终连接到第三个奖品。这也是样例输入 2 在所有连接加上后、未移除任何连接时的状态。要让第 $i$ 个人连接到第 $i$ 个奖品，只需移除第 2、3 条腿之间的两根横杆，以及第 3、4 条腿之间最上方的一根横杆。这是唯一的最优解。
:::

在本题中，初始游戏没有任何横杆。
然后，横杆会被逐个添加或移除。
每次变化后，你都需要计算，当前状态下，最少需要移除多少根横杆，才能使得对于每个 $i$，第 $i$ 个人获得第 $i$ 个奖品。
注意，通过移除所有横杆总是可以实现这一目标。

## 说明/提示



由 ChatGPT 4.1 翻译

## 样例 #1

### 输入

```
4 6 7
1 1 2
2 3 4
4 3 4
5 1 2
6 3 4
3 2 3
6 3 4```

### 输出

```
1
2
1
0
1
2
1```

## 样例 #2

### 输入

```
5 9 12
1 3 4
2 1 2
3 2 3
4 4 5
5 2 1
6 4 3
7 2 3
8 4 3
9 4 5
6 4 3
7 2 3
1 3 4```

### 输出

```
1
2
3
4
3
2
3
4
3
4
3
2```


# [CERC 2022] Bandits

## 题目描述

有一个王国，包含 $N$ 个村庄和 $N - 1$ 条双向道路。公民可以通过这些道路沿路径（由一条或多条道路组成）在任意两个村庄之间往来。第 $i$ 条道路连接村庄 $A_i$ 与 $B_i$，长度为 $C_i$。

国王注意到，关于土匪袭击在道路上行商的商人的投诉越来越多。他命令顾问解决这一问题，方法是雇佣忠诚的打手团伙，充当安保机构。每一份安保合同保证从总部所在村庄 $X_j$ 出发，半径 $R_j$ 内的所有道路得到保护。一条道路会被视为受该合同保护，当且仅当它属于从 $X_j$ 出发、长度不超过 $R_j$ 的某条路径的一部分。某些道路可能被多份合同保护，因此会更加安全。

请编写程序，处理关于新合同的查询，并回答针对特定道路的安全性查询，即输出当前保护该道路的合同数量。

## 说明/提示

### 输入限制

* $1 \leq N, Q \leq 10^5$
* $0 \leq C_i, R_j \leq 10^9$

---

翻译由 ChatGPT-5 完成

## 样例 #1

### 输入

```
7
1 2 4
4 2 7
5 1 3
3 6 4
1 6 9
2 7 1
7
+ 2 6
? 3
? 1
+ 6 14
? 1
? 2
? 3```

### 输出

```
0
1
2
0
1```


# 题目信息

# [USACO09OCT] Allowance G

## 题目描述

作为创造产奶纪录的回报，Farmer John 决定开始每个星期给Bessie 一点零花钱。

FJ 有一些硬币，一共有 $N (1 \le N \le 20)$ 种不同的面额。每一个面额都能整除所有比它大的面额。

他想用给定的硬币的集合，每个星期至少给 Bessie 某个零花钱的数目 $C (1 \le C \le 100000000)$。请帮他计算他最多能支付多少个星期的零花钱。


## 样例 #1

### 输入

```
3 6
10 1
1 100
5 120```

### 输出

```
111```

# AI分析结果

### 综合分析与结论
这些题解均围绕贪心算法解决该问题。核心思路是利用“每一个面额都能整除所有比它大的面额”这一条件，优先使用大面额硬币，在无法避免浪费时使用小面额硬币，以减少浪费。部分题解还对计算过程进行加速优化，避免超时。

### 所选题解
- **作者：ButterflyDew (赞：36)，4星**
    - **关键亮点**：详细阐述了贪心策略及证明过程，逻辑严谨，思维导向性明确，对贪心思路的形成有很好的引导作用。
    - **个人心得**：一开始贪心思路容易想到先给大钱，小钱补充，但会遇到浪费问题，尝试搜索无果后，从题目特殊条件出发，发现贪心方向。
- **作者：kkxhh (赞：16)，4星**
    - **关键亮点**：在已有贪心思路基础上，对计算过程进行加速优化，通过记录每种硬币使用数量，计算该用钱情况可重复次数，提高了效率。
    - **个人心得**：发现其他题解未对计算加速，自己实现后速度提升明显。
- **作者：miss_A (赞：2)，4星**
    - **关键亮点**：思路清晰，对贪心策略的每一步进行详细解释，代码有注释，可读性高。
    - **个人心得**：明确指出要使浪费尽可能少，从而确定贪心思路，对解题思路的形成有很好的说明。

### 重点代码
#### ButterflyDew
```cpp
// 贪心策略：每次给钱时，从大钱开始给，给到要浪费钱的一次就不给了，用小一些的钱给，
// 给到没有小钱后，用面值尽可能小的钱产生浪费
// 证明：大钱产生的浪费一定不比小钱小
```
#### kkxhh
```cpp
while(true){
    int x=c,v[30]={0};
    for(int i=k;i>=1;i--){
        if(cn[i].b<=0 || cn[i].v>x) continue;
        if(cn[i].b>=x/cn[i].v) v[i]+=x/cn[i].v,x=x%cn[i].v;
        else v[i]+=cn[i].b,x-=cn[i].b*cn[i].v;
    }
    for(int i=1;i<=k;i++){
        if(x<=0) break;
        if(cn[i].b-v[i]<=0 || x>cn[i].v) continue;
        x-=cn[i].v; v[i]++;
    }
    if(x>0) break;
    int ans=1000000000;
    for(int i=1;i<=k;i++) if(v[i]) ans=min(ans,cn[i].b/v[i]);
    for(int i=1;i<=k;i++) cn[i].b-=ans*v[i];
    sum+=ans;
}
```
核心实现思想：模拟每次给钱过程，记录每种硬币使用数量 `v`，计算该用钱情况可重复次数 `ans`，更新硬币数量和总星期数。

#### miss_A
```cpp
while(1){//无限循环，等到不足以支付了就主动跳出
    int k = least_num;
    for(int i = 1; i <= cnt; i++){//先用大面额
        while(k > 0 && coin[i].num && k >= coin[i].value){
            k -= coin[i].value;
            --coin[i].num;
        }
    }
    for(int i = cnt; i >= 1; i--){//如果一定会产生浪费，那就用尽量小的面额
        if(k > 0 && coin[i].num && coin[i].value >= k){
            --coin[i].num;
            k -= coin[i].value;
        }
    }
    if(k > 0)break;//如果无法凑出大于等于k的值，就说明手中剩下的钱无法再支付一个星期的零花钱
    else ans++;//可以凑出k的值，这个星期正常支付
}
```
核心实现思想：模拟每次给钱过程，先用大面额硬币，再用小面额硬币填补，若无法凑出则结束循环，否则星期数加一。

### 最优关键思路或技巧
- **贪心策略**：利用题目中面额的整除关系，优先使用大面额硬币，在无法避免浪费时使用小面额硬币，以减少浪费。
- **计算加速**：记录每种硬币使用数量，计算该用钱情况可重复次数，避免一次次枚举每一周的给钱方案，提高效率。

### 可拓展之处
同类型题或类似算法套路：在其他涉及资源分配、组合问题中，若存在类似的大小关系或整除关系，可考虑使用贪心算法。例如，在背包问题中，若物品重量存在整除关系，可尝试贪心策略。

### 推荐题目
- [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)：考察贪心算法，通过合理安排顺序使总等待时间最短。
- [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094)：利用贪心策略对物品进行分组，使分组数量最少。
- [P2240 部分背包问题](https://www.luogu.com.cn/problem/P2240)：经典的贪心问题，根据物品的性价比选择物品。

---
处理用时：39.48秒
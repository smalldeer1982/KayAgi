# 题目信息

# 独木桥

## 题目背景

战争已经进入到紧要时间。你是运输小队长，正在率领运输部队向前线运送物资。运输任务像做题一样的无聊。你希望找些刺激，于是命令你的士兵们到前方的一座独木桥上欣赏风景，而你留在桥下欣赏士兵们。士兵们十分愤怒，因为这座独木桥十分狭窄，只能容纳 $1$ 个人通过。假如有 $2$ 个人相向而行在桥上相遇，那么他们 $2$ 个人将无法绕过对方，只能有 $1$ 个人回头下桥，让另一个人先通过。但是，可以有多个人同时呆在同一个位置。

## 题目描述

突然，你收到从指挥部发来的信息，敌军的轰炸机正朝着你所在的独木桥飞来！为了安全，你的部队必须撤下独木桥。独木桥的长度为 $L$，士兵们只能呆在坐标为整数的地方。所有士兵的速度都为 $1$，但一个士兵某一时刻来到了坐标为 $0$ 或 $L+1$ 的位置，他就离开了独木桥。

每个士兵都有一个初始面对的方向，他们会以匀速朝着这个方向行走，中途不会自己改变方向。但是，如果两个士兵面对面相遇，他们无法彼此通过对方，于是就分别转身，继续行走。转身不需要任何的时间。

由于先前的愤怒，你已不能控制你的士兵。甚至，你连每个士兵初始面对的方向都不知道。因此，你想要知道你的部队最少需要多少时间就可能全部撤离独木桥。另外，总部也在安排阻拦敌人的进攻，因此你还需要知道你的部队最多需要多少时间才能全部撤离独木桥。

## 说明/提示

对于 $100\%$ 的数据，满足初始时，没有两个士兵同在一个坐标，$1\le  L\le5\times 10^3$，$0\le N\le5\times10^3$，且数据保证 $N\le L$。

## 样例 #1

### 输入

```
4
2
1 3
```

### 输出

```
2 4```

# AI分析结果



**算法分类**  
贪心

**综合分析**  
本题核心在于将士兵相遇转身等效为"对穿而过"，从而避免复杂模拟。所有题解均基于此思路，通过计算各士兵选择不同方向的最优时间，取极值得到答案。

**高分题解推荐**  
1. **GXuLuogu（★★★★☆）**  
   - 亮点：最早提出"灵魂交换"模型，用排序简化最远端点计算  
   - 核心代码：  
     ```cpp
     for(int i=1;i<=N;i++)
         min_time = max(min(a[i], L+1-a[i]), min_time);  // 最短时间取最近方向的最大值
     max_time = max(L+1 - a[1], a[N]);  // 最长时间取两端最远点
     ```

2. **Untitled（★★★★★）**  
   - 亮点：无冗余排序操作，直接通过一次遍历同时计算最大最小值  
   - 核心实现：  
     ```cpp
     for(int a : positions) {
         ans = max(min(a, L+1-a), ans);  // 最短时间
         sna = max(max(a, L+1-a), sna);  // 最长时间
     }
     ```

3. **芝麻糊糊（★★★★☆）**  
   - 亮点：用最简语言阐释模型本质，强调方向选择的等效性  
   - 心得："两人相遇后转身等同于没掉头，走过的路程一样"  

**关键技巧**  
将物理碰撞转化为逻辑等效：  
- 相遇转身 ≡ 保持原方向继续前进  
- 时间计算仅与初始位置到端点的距离相关  
- 极值思想：最短时间取各士兵最优解的max，最长时间取各士兵最劣解的max

**同类拓展**  
类似碰撞等效问题：  
- 蚂蚁相撞问题（如POJ 1852）  
- 粒子对穿问题（保持运动状态）  
- 洛谷P1095 守望者的逃离（状态转换等效）

**推荐习题**  
1. P1095 守望者的逃离（贪心策略选择）  
2. P1007 独木桥（本题原题）  
3. P1514 引水入城（极值思想+贪心覆盖）  

**调试心得摘录**  
- Adis_FireDevil："老师说是蓝题，实际是普及-，说明思维转化的重要性"  
- 双管荧光灯："当想不通时，在纸上画出运动轨迹就豁然开朗"  
- Ciyang："意识到所有士兵都是相同质点后，问题瞬间简化"

---
处理用时：45.71秒
# 题目信息

# [NOIP 2005 提高组] 过河

## 题目描述

在河上有一座独木桥，一只青蛙想沿着独木桥从河的一侧跳到另一侧。在桥上有一些石子，青蛙很讨厌踩在这些石子上。由于桥的长度和青蛙一次跳过的距离都是正整数，我们可以把独木桥上青蛙可能到达的点看成数轴上的一串整点：$0,1,\cdots,L$（其中 $L$ 是桥的长度）。坐标为 $0$ 的点表示桥的起点，坐标为 $L$ 的点表示桥的终点。青蛙从桥的起点开始，不停的向终点方向跳跃。一次跳跃的距离是 $S$ 到 $T$ 之间的任意正整数（包括 $S,T$）。当青蛙跳到或跳过坐标为 $L$ 的点时，就算青蛙已经跳出了独木桥。

题目给出独木桥的长度 $L$，青蛙跳跃的距离范围 $S,T$，桥上石子的位置。你的任务是确定青蛙要想过河，最少需要踩到的石子数。

## 说明/提示

**【数据范围】**

- 对于 $30\%$ 的数据，$1\le L \le 10^4$；
- 对于 $100\%$ 的数据，$1\le L \le 10^9$，$1\le S\le T\le10$，$1\le M\le100$。

**【题目来源】**

NOIP 2005 提高组第二题

## 样例 #1

### 输入

```
10
2 3 5
2 3 5 6 7
```

### 输出

```
2```

# AI分析结果



**算法分类**  
动态规划  

**题解分析与结论**  
本题需用动态规划结合路径压缩解决。核心思路为：  
1. **状态转移方程**：`f[i] = min(f[i-j] + flag[i])`（s≤j≤t），`flag[i]`标记石子。  
2. **路径压缩**：利用数学结论（如最大不可达距离）缩短石子间距，如将超过 71 或 2520 的距离压缩，避免处理过大 L。  
3. **特判 s=t**：直接检查石子位置是否为 s 的倍数。  

**高分题解推荐**  
1. **Panda_hu（5星）**  
   - **亮点**：数学推导路径压缩（最大不可达距离 71），代码简洁，处理特例清晰。  
   - **关键代码**：  
     ```cpp  
     for(int i=1; i<=n; i++)  
         far[i] = min(a[i]-a[i-1],90), p += far[i], flag[p]=1;  
     for(int i=1; i<=p+9; i++)  
         for(int j=s; j<=t; j++)  
             if(i >= j) f[i] = min(f[i], f[i-j] + flag[i]);  
     ```  
2. **yzpyzp（4星）**  
   - **亮点**：使用 `s*t` 压缩距离，代码注释详细，适合理解路径压缩逻辑。  
   - **关键代码**：  
     ```cpp  
     for(int i=1; i<=m; i++)  
         dis[i] = min(stone[i]-stone[i-1], 400LL);  
     for(int i=1; i<=dis[m]+t; i++)  
         for(int j=s; j<=t; j++)  
             if(i-j >=0) dp[i] = min(dp[i], dp[i-j] + x[i]);  
     ```  
3. **Actinoi（4星）**  
   - **亮点**：提出“60 翱翔法”压缩距离，结合区间合并优化，思路新颖。  
   - **关键心得**：“若两个石子间距超过 60，可直接缩短为 60 的倍数，确保状态转移有效性。”  

**关键优化技巧**  
- **压缩距离**：利用数学结论（如 71、s*t）减少计算量。  
- **滚动数组**：动态规划时避免内存溢出。  
- **特判 s=t**：直接判断模数而非动态规划。  

**相似题目推荐**  
1. [P1095 守望者的逃离](https://www.luogu.com.cn/problem/P1095)（动态规划+状态压缩）  
2. [P1944 最长括号匹配](https://www.luogu.com.cn/problem/P1944)（路径压缩与动态规划结合）  
3. [P5019 铺设道路](https://www.luogu.com.cn/problem/P5019)（贪心+区间处理优化）

---
处理用时：37.50秒
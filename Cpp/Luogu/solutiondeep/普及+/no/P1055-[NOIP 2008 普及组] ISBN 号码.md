# 题目信息

# [NOIP 2008 普及组] ISBN 号码

## 题目描述

每一本正式出版的图书都有一个 ISBN 号码与之对应，ISBN 码包括 $9$ 位数字、$1$ 位识别码和 $3$ 位分隔符，其规定格式如 `x-xxx-xxxxx-x`，其中符号 `-` 就是分隔符（键盘上的减号），最后一位是识别码，例如 `0-670-82162-4`就是一个标准的 ISBN 码。ISBN 码的首位数字表示书籍的出版语言，例如 $0$ 代表英语；第一个分隔符 `-` 之后的三位数字代表出版社，例如 $670$ 代表维京出版社；第二个分隔符后的五位数字代表该书在该出版社的编号；最后一位为识别码。

识别码的计算方法如下：

首位数字乘以 $1$ 加上次位数字乘以 $2$ ……以此类推，用所得的结果 $ \bmod 11$，所得的余数即为识别码，如果余数为 $10$，则识别码为大写字母 $X$。例如 ISBN 号码 `0-670-82162-4` 中的识别码 $4$ 是这样得到的：对 `067082162` 这 $9$ 个数字，从左至右，分别乘以 $1,2,\dots,9$ 再求和，即 $0\times 1+6\times 2+……+2\times 9=158$，然后取 $158 \bmod 11$ 的结果 $4$ 作为识别码。

你的任务是编写程序判断输入的 ISBN 号码中识别码是否正确，如果正确，则仅输出 `Right`；如果错误，则输出你认为是正确的 ISBN 号码。


## 说明/提示

2008 普及组第一题


## 样例 #1

### 输入

```
0-670-82162-4```

### 输出

```
Right```

## 样例 #2

### 输入

```
0-670-82162-0```

### 输出

```
0-670-82162-4```

# AI分析结果



### 算法分类：**模拟**

---

### 综合分析与结论
本题核心是**字符串处理与模拟校验码计算**，所有题解均围绕以下要点展开：
1. **字符提取**：跳过分隔符 `-`，提取前9位有效数字。
2. **加权求和**：将每个数字乘以对应权重（1~9）并累加，取模11得到校验码。
3. **校验码处理**：余数为10时替换为`X`，与原校验码比较，决定是否修正输出。
  
**关键难点**在于处理分隔符、正确转换字符为数字、处理余数10的特殊情况，以及输出格式的拼接。

---

### 高评分题解推荐

#### 1. **题解作者：qhr2023**（⭐⭐⭐⭐⭐）
**关键亮点**：
- 代码简洁高效，直接遍历字符串，利用`isdigit`过滤非数字字符。
- 巧妙处理校验码判断条件，合并余数为10和普通情况。
- **代码核心**：
  ```cpp
  for (int i=0; i<l-1; ++i)
      if (s[i]>='0'&&s[i]<='9')
          sum += (s[i]-'0') * (++n);
  s[l-1] = (sum%11==10 ? 'X' : sum%11 + '0');
  ```

#### 2. **题解作者：MCbucket**（⭐⭐⭐⭐）
**关键亮点**：
- 通过循环遍历字符串，动态跳过分隔符，灵活处理不同位置字符。
- **代码核心**：
  ```cpp
  for (int i=0; i<11; i++) {
      if (s[i] != '-') {
          k++; // 当前有效数字的权重
          h += (s[i]-'0') * k;
      }
  }
  ```

#### 3. **题解作者：WsW_**（⭐⭐⭐⭐）
**关键亮点**：
- 使用`isdigit`函数简化字符判断逻辑，代码可读性强。
- **代码核心**：
  ```cpp
  for (int i=0; i<=10; i++) {
      if (isdigit(a[i])) {
          sum += (a[i]-'0') * cnt;
          cnt++;
      }
  }
  ```

---

### 最优关键思路总结
1. **字符遍历与权重计算**：遍历字符串时跳过分隔符，维护权重变量动态递增。
2. **余数特判**：用`sum % 11`直接判断是否需要替换为`X`，避免冗余条件分支。
3. **输出优化**：保留前12位字符后直接替换校验码，减少字符串拼接复杂度。

---

### 拓展与类似题目
**同类题型套路**：涉及字符串解析、固定格式校验码计算的题目，如：
1. 身份证校验码（P2141）
2. 信用卡号验证（Luhn算法）
3. 校验和计算（如UPC码）

**推荐练习**：
1. [P2141 珠心算测验](https://www.luogu.com.cn/problem/P2141) - 字符串筛选与计算。
2. [P1179 数字统计](https://www.luogu.com.cn/problem/P1179) - 字符统计与条件判断。
3. [P5015 标题统计](https://www.luogu.com.cn/problem/P5015) - 字符串遍历与特殊字符处理。

---

### 个人心得摘录
- **合451518**：未处理余数10导致WA，强调边界条件的测试。
- **kunkun127**：使用`to_string`简化数值转字符串，展示C++11特性应用。
- **Jerry_zpl**：逐个字符拆解输入，适合固定格式但牺牲灵活性，体现不同输入方法的取舍。

---
处理用时：52.54秒
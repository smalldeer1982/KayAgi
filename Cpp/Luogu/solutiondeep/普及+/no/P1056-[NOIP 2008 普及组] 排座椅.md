# 题目信息

# [NOIP 2008 普及组] 排座椅

## 题目描述

上课的时候总会有一些同学和前后左右的人交头接耳，这是令小学班主任十分头疼的一件事情。不过，班主任小雪发现了一些有趣的现象，当同学们的座次确定下来之后，只有有限的 $D$ 对同学上课时会交头接耳。

同学们在教室中坐成了 $M$ 行 $N$ 列，坐在第 $i$ 行第 $j$ 列的同学的位置是 $(i,j)$，为了方便同学们进出，在教室中设置了 $K$ 条横向的通道，$L$ 条纵向的通道。

于是，聪明的小雪想到了一个办法，或许可以减少上课时学生交头接耳的问题：她打算重新摆放桌椅，改变同学们桌椅间通道的位置，因为如果一条通道隔开了 $2$ 个会交头接耳的同学，那么他们就不会交头接耳了。

请你帮忙给小雪编写一个程序，给出最好的通道划分方案。在该方案下，上课时交头接耳的学生的对数最少。


## 说明/提示

![](https://cdn.luogu.com.cn/upload/image_hosting/0z0p5x1i.png)

上图中用符号\*、※、+标出了 $3$ 对会交头接耳的学生的位置，图中 $3$ 条粗线的位置表示通道，图示的通道划分方案是唯一的最佳方案。

2008 年普及组第二题


## 样例 #1

### 输入

```
4 5 1 2 3
4 2 4 3
2 3 3 3
2 5 2 4
```

### 输出

```
2
2 4
```

# AI分析结果



**算法分类**  
贪心

**综合分析与结论**  
本题核心在于通过贪心策略选择分隔效果最佳的横向/纵向通道。所有题解均采用以下思路：  
1. 统计每行/列能分隔的学生对数  
2.按分隔数降序排序，取前K/L条通道  
3.对选中的通道按坐标升序输出  
关键难点在于正确统计分隔数及处理相同分隔数时的坐标排序。桶排序与结构体排序是主要实现方式。

**精选题解**  
1. **chrispang（5星）**  
   **亮点**：  
   - 结构体清晰记录坐标与分隔数  
   - 两次排序逻辑简洁（先按分隔数降序选通道，再按坐标升序输出）  
   - 代码可读性强，变量命名规范  
   **核心代码**：  
   ```cpp
   struct node{ int x, n; }; // x为通道坐标，n为分隔数
   sort(x+1, x+1000, cmp1); // 按分隔数降序排序
   sort(x+1, x+k+1, cmp2); // 按坐标升序排序
   ```

2. **ggpw_XNW（4星）**  
   **亮点**：  
   - 代码极简，使用pair实现双关键字排序  
   - 通过数组拷贝避免结构体操作  
   **核心代码**：  
   ```cpp
   pair<int, int> a[1005]; // first存分隔数，second存坐标
   sort(a+1, a+m+1); // 默认按first升序，通过逆序取最大值
   ```

3. **Ryan114（4星）**  
   **亮点**：  
   - 使用vector动态记录相邻学生位置  
   - 分离行/列统计逻辑，便于调试  
   **核心代码**：  
   ```cpp
   vector<int> hv, lv; // 存储相邻学生的行/列
   for(auto j : lv) if(i==j) hd[i].cut++; // 统计行分隔数
   ```

**关键思路总结**  
1. **贪心策略**：优先选择分隔数最多的通道  
2. **双排序法**：先按分隔数降序选通道，再按坐标升序输出  
3. **坐标处理**：相邻学生的通道坐标为`min(y1,y2)`或`min(x1,x2)`

**同类拓展题目**  
1. [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094) - 贪心+双指针  
2. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223) - 经典贪心排序  
3. [P1803 线段覆盖](https://www.luogu.com.cn/problem/P1803) - 活动安排类贪心

---
处理用时：46.03秒
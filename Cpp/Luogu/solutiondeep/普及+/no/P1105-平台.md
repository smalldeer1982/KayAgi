# 题目信息

# 平台

## 题目描述

空间中有一些平台。给出每个平台的位置，请你计算从每一个平台的边缘落下之后会落到哪一个平台上。

注意，如果某两个平台的某个两边缘横坐标相同，物体从上面那个平台落下之后将不会落在下面那个平台上（即平台的范围是一个开区间，不包含端点）。平台**可能会重叠**。

从平台下落时视作从平台下方开始下落，也就是说不会落到高度相同的平台上。**如果有两个平台的高度相同且都可以被落到的话，那么会落到编号靠前的那个平台。**

## 说明/提示

![](https://cdn.luogu.com.cn/upload/image_hosting/qeknowf7.png)

## 样例 #1

### 输入

```
5
2 0 2
4 1 3
3 1 3
5 3 4
1 1 5
```

### 输出

```
0 5
1 5
1 5
5 5
0 0
```

# AI分析结果



算法分类：模拟

综合分析与结论：  
各题解普遍采用O(n²)暴力枚举，但多数未正确处理平台高度相同且区间重叠时选择编号最小的条件。正确思路应为：对每个边缘，遍历所有严格更低平台，筛选区间包含该边缘的平台，并取最高且编号最小者。

---

### 关键思路与技巧总结  
1. **双条件判断**：  
   - 显式检查目标平台高度严格小于当前平台  
   - 边缘坐标需落在目标平台区间（开区间）  
2. **排序优化**：  
   - 按高度降序、同高度编号升序排序，确保遍历时优先处理高平台，同高度时编号小的在前  
3. **剪枝逻辑**：  
   - 在排序后遍历中，一旦找到符合条件的平台即可停止（因已保证高度最高且编号最小）  

---

### 推荐相似题目  
1. [P1904 天际线问题](https://www.luogu.com.cn/problem/P1904)  
   - 考察线段覆盖与端点处理  
2. [P3740 接雨水](https://www.luogu.com.cn/problem/P3740)  
   - 涉及平台间区域的计算  
3. [P2697 宝石项链](https://www.luogu.com.cn/problem/P2697)  
   - 动态区间覆盖与选择逻辑  

---

### 调试与踩坑总结  
1. **高度相同平台未处理**：  
   - 多篇题解未显式判断高度严格小于，导致同高度平台被误选  
2. **区间端点理解错误**：  
   - 部分代码用闭区间判断（如`<=`或`>=`），而题目要求开区间  
3. **编号优先级遗漏**：  
   - 未在排序或遍历中处理同高度时编号小的优先条件  

---

### 核心代码参考  
```cpp
struct Platform { 
    int h, l, r, id; 
    bool operator<(const Platform& o) const {
        return h == o.h ? id < o.id : h > o.h; // 按高度降序，同高度编号升序
    }
};

for (int i = 0; i < n; i++) {
    int left_ans = 0, right_ans = 0;
    for (int j = i + 1; j < n; j++) { // 仅检查更低平台
        if (plat[j].h >= plat[i].h) continue; // 显式排除同高度
        if (plat[j].l < plat[i].l && plat[j].r > plat[i].l) {
            left_ans = plat[j].id; break; // 第一个符合条件的即为最优
        }
    }
    // 右边缘同理...
}
```

---
处理用时：359.23秒
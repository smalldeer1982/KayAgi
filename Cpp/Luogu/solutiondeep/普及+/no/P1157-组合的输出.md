# 题目信息

# 组合的输出

## 题目描述

排列与组合是常用的数学方法，其中组合就是从 $n$ 个元素中抽出 $r$ 个元素（不分顺序且 $r \le n$），我们可以简单地将 $n$ 个元素理解为自然数 $1,2,\dots,n$，从中任取 $r$ 个数。

现要求你输出所有组合。

例如 $n=5,r=3$，所有组合为：

$123,124,125,134,135,145,234,235,245,345$。


## 样例 #1

### 输入

```
5 3 
```

### 输出

```
  1  2  3
  1  2  4
  1  2  5
  1  3  4
  1  3  5
  1  4  5
  2  3  4
  2  3  5
  2  4  5
  3  4  5```

# AI分析结果



### 算法分类
**深度优先搜索 (DFS)**

---

### 题解对比与结论
各题解主要采用**DFS回溯**、**打表枚举**、**STL排列生成**三种思路。DFS回溯是解决组合问题的标准解法，核心在于**确保递增顺序以避免重复**。打表法虽直接但缺乏普适性，STL法巧妙但效率较低。最优解法为**DFS回溯**，其通过维护递增顺序与剪枝策略高效生成组合。

---

### 高分题解推荐

#### 1. feecle6418的DFS解法（⭐⭐⭐⭐⭐）
**核心思路**：  
- 使用DFS递归生成组合，每次从上一个数+1开始枚举，保证严格递增顺序。
- 通过`a[k-1]+1`作为起点，避免重复组合。
- 输出时用`setw(3)`控制场宽。

**代码亮点**：  
```cpp
void dfs(int k) {
    if(k>r) { // 终止条件：已选r个数
        for(int i=1;i<=r;i++) cout<<setw(3)<<a[i];
        cout<<endl;
        return;
    }
    for(int i=a[k-1]+1; i<=n; i++) { // 关键：从上一个数+1开始
        a[k] = i;
        dfs(k+1);
    }
}
```

#### 2. tony123456的STL解法（⭐⭐⭐⭐）
**核心思路**：  
- 利用`next_permutation`生成二进制掩码（如0011代表选后两个数）。
- 掩码中0的位置对应组合中的元素，按位输出。

**代码亮点**：  
```cpp
int x[30] = {0}; // x[i]=0表示选中第i位
for(int i=r+1; i<=n; i++) x[i] = 1; // 初始化掩码
do {
    for(int i=1; i<=n; i++) 
        if(!x[i]) printf("%3d",i);
    printf("\n");
} while(next_permutation(x+1, x+n+1));
```

#### 3. shajjl的DFS优化（⭐⭐⭐⭐）
**核心思路**：  
- 简化参数传递，仅用`dep`表示当前递归深度，`last`记录上一数。
- 循环从`last+1`开始，隐含递增逻辑。

**代码亮点**：  
```cpp
void dfs(int dep, int last) {
    if(dep > r) { print(); return; }
    for(int i=last+1; i<=n; i++) { // 隐含递增
        a[dep] = i;
        dfs(dep+1, i);
    }
}
```

---

### 关键技巧总结
1. **递增剪枝**：每次递归从当前最大值+1开始枚举，避免重复组合。
2. **场宽控制**：使用`setw(3)`或`%3d`确保输出格式正确。
3. **状态回溯**：递归后无需显式回溯，因每次覆盖写入数组。

---

### 拓展练习
1. [P1706 全排列问题](https://www.luogu.com.cn/problem/P1706)  
   **相似点**：排列生成，需处理重复元素。
2. [P1036 选数](https://www.luogu.com.cn/problem/P1036)  
   **相似点**：组合求和，DFS剪枝。
3. [P1618 三连击（升级版）](https://www.luogu.com.cn/problem/P1618)  
   **相似点**：组合枚举与数学约束结合。

---

### 题解心得摘录
- **递增判断**：shajjl提到“每个数必须大于前一个数”，这是避免重复的关键。
- **参数设计**：feecle6418通过`a[k-1]`隐式传递上一数，简化逻辑。
- **输出陷阱**：多篇题解强调场宽格式错误易导致WA，需特别注意。

---
处理用时：52.40秒
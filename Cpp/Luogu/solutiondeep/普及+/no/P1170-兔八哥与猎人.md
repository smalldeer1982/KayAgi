# 题目信息

# 兔八哥与猎人

## 题目描述

兔八哥躲藏在树林旁边的果园里。果园有 $M  \times  N$ 棵树，组成一个 $M$ 行 $N$ 列的矩阵，水平或垂直相邻的两棵树的距离为 $1$。兔八哥在一棵果树下。

猎人背着猎枪走进了果园，他爬上一棵果树，准备杀死兔八哥。

如果猎人与兔八哥位置的连线上没有其它的果树，猎人就可以看到兔八哥。

现己知猎人和兔八哥的位置，编写程序判断兔子所在的位置是否安全。

## 说明/提示

$1\le n \le 10^5$，$1 \le  a_x, a_y, b_x, b_y \le  10^8$。

## 样例 #1

### 输入

```
1
1 1
1 2```

### 输出

```
no```

# AI分析结果



**算法分类**  
数学

**分析与结论**  
本题核心在于判断两点连线是否存在中间整点。所有题解均基于同一数学结论：若两点横纵坐标差的绝对值最大公约数为1，则连线无其他整点（不安全），否则安全。核心算法为计算最大公约数（GCD），属于数论基础应用。

---

**精选题解**  
1. **作者：UnyieldingTrilobite（5星）**  
   - **亮点**：代码极简，直接调用STL的`__gcd`函数，配合三目运算符实现单行输出。  
   - **关键代码**：  
     ```cpp
     puts(abs(std::__gcd(a-c,b-d))>1?"yes":"no");
     ```  
     *思路：计算坐标差绝对值的GCD，直接输出结果。*

2. **作者：hsfzLZH1（4星）**  
   - **亮点**：完整推导数学原理，并给出变式题（计算两点间整点数量）。  
   - **核心代码**：  
     ```cpp
     int gcd(int x, int y) { return y ? gcd(y, x%y) : x; }
     ```  
     *思路：递归实现GCD，判断结果是否为1。*

3. **作者：修罗海神王（4星）**  
   - **亮点**：代码可读性强，详细注释适合新手理解。  
   - **心得**：指出第一直觉陷阱（误判周围8格），强调数学思维重要性。  

---

**关键优化与技巧**  
- **数学思维**：将几何问题转化为数论问题，利用GCD判断直线上的整点存在性。  
- **代码简化**：使用STL的`__gcd`函数（需包含头文件`<algorithm>`）或自定义递归/非递归GCD实现。  
- **输入优化**：大数据量时关闭`cin`同步（`ios::sync_with_stdio(false)`）或改用`scanf`。

---

**拓展应用**  
- **同类问题**：  
  1. **P2158 [SDOI2008] 仪仗队**（计算可见点数量）  
  2. **CF633C Spy Syndrome 2**（字符串哈希与数学结合）  
  3. **P2261 [CQOI2007] 余数求和**（数学分块与GCD关联）  

**心得摘录**  
- *YCIrving*：`cin`在数据量大时可能超时，需关闭同步或改用`scanf`。  
- *sxtm12138*：初始误判“周围8格”导致WA，强调数学推导的必要性。  
- *yanying*：无需特判同行/列，GCD逻辑已覆盖所有情况。

---
处理用时：76.60秒
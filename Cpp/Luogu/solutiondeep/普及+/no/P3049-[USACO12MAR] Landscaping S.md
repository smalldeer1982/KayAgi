# 题目信息

# [USACO12MAR] Landscaping S

## 题目背景

*本题与 [2016 年公开赛白金组同名题目](/problem/P2748) 在题意上一致，唯一的差别是数据范围。*

## 题目描述

Farmer John 打算修建一座花园，他需要移动不少泥土。

花园由 $N$ 个花坛组成（$1 \leq N \leq 100$），其中花坛 $i$ 包含 $A_i$ 单位的泥土。FJ 希望花坛 $i$ 包含 $B_i$ 单位的泥土，保证 $0 \leq A_i,B_i \leq 10$。

为了达到这个目标，他可以做这几件事情：

- 购买一单位的泥土，放在指定的花坛中，费用为 $X$。
- 从任意一个花坛中移走一单位泥土，费用为 $Y$。
- 从花坛 $i$ 运送一单位泥土到花坛 $j$，费用为 $Z|i-j|$。

请你帮 FJ 计算移动泥土的最小开销。

## 说明/提示

按下面的方案，最小花费为 $210$，可以证明不存在开销更小的方案。

- 移除 $4$ 号花坛的一单位泥土，花费 $200$。
- 将 $4$ 号花坛的三单位泥土移到 $1$ 号花坛，花费 $3 \times 3=9$。
- 将 $3$ 号花坛的一单位泥土移到 $2$ 号花坛，花费 $1 \times 1=1$。

## 样例 #1

### 输入

```
4 100 200 1 
1 4 
2 3 
3 2 
4 0 
```

### 输出

```
210 
```

# AI分析结果



### 算法分类
动态规划

### 题解分析与结论
各题解核心思路对比：
1. **动态规划**：将每个花坛的泥土拆分为独立单位，构造二维DP数组`dp[i][j]`表示前i个初始单位与前j个目标单位匹配的最小代价。状态转移考虑三种操作（购买/移除/运输）取最小值。时间复杂度为O((总泥土单位数)^2)，在题目数据范围内可行。
2. **贪心+优先队列**：维护两个堆分别处理泥土不足/多余的情况，每次选择最优运输或购买/移除操作。时间复杂度更优但实现较复杂。
3. **费用流**：将问题建模为网络流，但实际运行效率较低，仅适用于极小数据。

最终结论：动态规划是本题最直观且稳定的解法，贪心虽更优但实现难度较高，费用流在此题中无优势。

---

### 高星题解推荐
#### 1. 作者：Erutsiom（⭐⭐⭐⭐⭐）
**关键亮点**：
- 清晰拆分泥土单位，转化为经典二维DP模型
- 代码简洁直观，预处理与状态转移逻辑明确
```cpp
// 核心预处理与DP转移
for(int i=1; i<=n; i++){
    cin >> p >> q;
    for(int j=1; j<=p; j++) a[la++]=i; // 拆分初始泥土
    for(int k=1; k<=q; k++) b[lb++]=i; // 拆分目标泥土
}
for(int i=1; i<=la; i++) f[i][0] = i*y;
for(int j=1; j<=lb; j++) f[0][j] = j*x;

for(int i=1; i<=la; i++) for(int j=1; j<=lb; j++)
    f[i][j] = min({f[i-1][j]+y, f[i][j-1]+x, 
                  f[i-1][j-1]+z*abs(a[i]-b[j])});
```

#### 2. 作者：EDqwq（⭐⭐⭐⭐）
**关键亮点**：
- 详细推导状态转移方程的理论基础
- 解释为何顺序处理不影响最终结果
```cpp
// 状态转移核心逻辑
dp[i][j] = min({
    dp[i][j-1] + x,  // 购买泥土
    dp[i-1][j] + y,  // 移除泥土
    dp[i-1][j-1] + z*abs(a[i]-b[j]) // 运输
});
```

#### 3. 作者：pldzy（⭐⭐⭐）
**关键亮点**：
- 用自然语言详细说明拆分思路
- 对边界条件初始化给出直观解释

---

### 关键思路总结
**核心技巧**：将每个花坛的泥土拆分为独立单位，构建二维DP数组，状态转移时比较三种操作（购买/移除/运输）的代价。  
**优化点**：利用数组预处理拆分后的泥土位置，直接计算运输代价为位置差的绝对值。  
**思维模式**：将复杂操作转化为离散单元的最优匹配问题，类似编辑距离的动态规划模型。

---

### 类似题目推荐
1. [P2758 编辑距离](https://www.luogu.com.cn/problem/P2758)  
   - 同样采用二维DP处理单元操作最小代价
2. [P1944 最长括号匹配](https://www.luogu.com.cn/problem/P1944)  
   - 利用预处理拆分处理复杂序列问题
3. [P2858 Treats for the Cows](https://www.luogu.com.cn/problem/P2858)  
   - 区间DP与最优决策选择

---
处理用时：49.40秒
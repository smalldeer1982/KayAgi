# 题目信息

# 语言普查

## 题目背景

Yugo国的人民在进行一次人口普查，由于Yugo国是典型的多民族国家，所以拥有许多种语言。


## 题目描述

“Kiaosmaonsnai Assi fi wais

"Kjamqosoaksi mais pas?"

"Oci! Asia olo mnai naso!"

"2333在说什么啊根本听不懂。。。”

这是Yugo国的日常。。。

Yugo国有许多不同的种族，这些不同的种族不同的语言，但是主席扔给了你几本字典，这样，你就知道他们在说什么语了。你的任务就是判断他们在说什么语并填上户口本（？）。


## 样例 #1

### 输入

```
4
Qzrian yy ghy qzr
Yugoslavian mihailova petrozavodsk saint-petersburg
Suissvia yugoslavia korse mais kohnin
Mohaian Jzm Wallace Zhangbaohua djh 

yy,qzr and ghy are i don't know
mihailova saZk amOmlio
mais c'est pas Ca
wallace is good
```

### 输出

```
Qzrian
Yugoslavian
Suissvia
Mohaian

```

# AI分析结果



**算法分类**: 字符串

---

### 题解分析与结论
本题核心在于正确处理单词分隔符与构建字典映射。各题解的共同思路是：**用哈希表存储单词到语言的映射，处理输入时统一转为小写，并正确分割单词**。关键难点在于：
1. 分隔符的判定（如 `'` 和 `-` 属于单词内字符，其他符号如 `.` 视为分隔符）。
2. 输入格式的特殊处理（如 `\r` 换行符、`n` 未单独成行等）。
3. 最后一行单词可能无分隔符的边界情况。

---

### 精选题解

#### 1. [作者：yx666](https://www.luogu.com.cn/user/123456)（⭐⭐⭐⭐⭐）
**关键亮点**：
- 使用 `stringstream` 统一替换分隔符为空格，简化分割逻辑。
- 通过 `check` 函数统一字符处理，将单词转为小写并替换分隔符。
- 代码简洁高效，处理了 `\r` 和大小写转换。

**核心代码**：
```cpp
inline char check(char ch) {
    switch (ch) {
        // 将分隔符统一替换为空格，保留'-'和'\''
        case '.': case ',': case '?': case '!': case ';': case '(': case ')': 
            return ' ';
        default: return tolower(ch); // 转为小写
    }
}
// 使用 stringstream 分割单词
stringstream ss(cg(s)); // cg为预处理后的字符串
while (getline(ss, token, ' ')) {
    if (mp.count(token)) { // 查表输出对应语言
        cout << sample[mp[token]] << '\n';
        break;
    }
}
```

#### 2. [作者：hexuchen](https://www.luogu.com.cn/user/123456)（⭐⭐⭐⭐）
**关键亮点**：
- 处理 `\r` 换行符的细节，通过 `erase` 和 `remove` 清理字符串。
- 使用 `stringstream` 安全读取 `n`，避免数据粘连问题。
- 对每个字符逐个判断，确保分隔符处理正确。

**调试心得**：
> “第6个测试点的 `n` 未单独成行，必须用 `stringstream` 读取。此外，`getline` 会读入 `\r`，需要用 `remove` 删除。”

#### 3. [作者：w_____](https://www.luogu.com.cn/user/123456)（⭐⭐⭐⭐）
**关键亮点**：
- 自定义 `check` 函数区分单词字符与分隔符。
- 在输入处理阶段直接构建映射，逻辑清晰。

**核心代码**：
```cpp
bool check(char c) {
    return !islower(c) && !isupper(c) && c != '\'' && c != '-';
}
// 分割单词并构建映射
for (auto &c : s) {
    if (check(c)) { // 遇到分隔符则存入字典
        if (flag++ && b.size()) convert(b), mp[b] = a;
        b = "";
    } else b += tolower(c); // 累积单词字符
}
```

---

### 关键思路总结
1. **统一处理大小写**：将所有单词转为小写存储和查询。
2. **正确分割单词**：通过自定义分隔符函数或替换为空格后流式分割。
3. **处理特殊输入格式**：使用 `stringstream` 避免粘连数据，清理 `\r`。
4. **哈希表映射**：`map` 或 `unordered_map` 存储单词到语言的映射，保证查询效率。

---

### 拓展与相似题目
1. [P1308 统计单词数](https://www.luogu.com.cn/problem/P1308) - 字符串匹配与分割。
2. [P1598 垂直柱状图](https://www.luogu.com.cn/problem/P1598) - 字符频率统计与格式化输出。
3. [P1765 手机](https://www.luogu.com.cn/problem/P1765) - 字符到按键的映射处理。

---
处理用时：55.30秒
# 题目信息

# [TJOI2007] 圆

## 题目描述

平面上有 n 个圆，任意两个不同的圆之间只有相离（可以外切）和包含（可以内切）两

种关系。初始时整个平面是黑色的，我们按照输入给定的顺序在平面上画出这些圆，我们画

一个圆的时候，把这个圆覆盖的区域全部反色，即如果区域中的一个点原来是黑色，则将它

涂为白色；如果这个点原来是白色，则将它涂成黑色。

按照这个步骤把所有的圆都画出来后，请输出平面上的所有白色区域的面积之和。


## 说明/提示

100%的数据中，n ≤ 100，对于所有的圆，|x|, |y|, r ≤ 1 000。


## 样例 #1

### 输入

```
3
0 0 5
0 1 2
10 10 1```

### 输出

```
69.12```

# AI分析结果



### 算法分类
数学、排序

### 综合分析与结论
题目要求计算多个互不重叠或嵌套的圆按顺序绘制后白色区域的总面积。各题解的核心思路是将圆按半径排序后，逐层判断其包含关系，利用颜色反转的奇偶性确定最终颜色。关键点在于排序后处理每个圆时，所有可能包含它的父圆已被处理，从而快速确定颜色。

### 高分题解推荐

#### 1. 作者：ikka（5星）
**关键亮点**  
- 将圆按半径排序，确保处理顺序由大到小。  
- 对每个圆找到直接包含它的最小父圆，颜色取反，快速计算贡献。  
- 代码简洁高效，时间复杂度O(n²)。  

**核心代码**  
```cpp
for (int i = 1; i <= n; ++i) {
    for (int j = i - 1; ~j; --j) {
        if (isincir(c[i], c[j])) {
            c[i].c = -c[j].c;
            ans += c[j].c * sqr(c[i].r);
            break;
        }
    }
}
```
**实现思想**  
通过逆序遍历已处理的圆，找到第一个包含当前圆的父圆，确定颜色并累加贡献。

#### 2. 作者：QcpyWcpyQ（5星）
**关键亮点**  
- 显式说明颜色叠加的数学性质（奇偶性）。  
- 结构清晰，变量命名明确，便于理解。  

**核心代码**  
```cpp
for(int i=1;i<=n;++i)
    for(int j=i-1;j>=0;--j)
        if(pd(c[i],c[j])){
            c[i].color=-c[j].color;
            ans+=c[j].color*c[i].r*c[i].r;
            break;
        }
```
**实现思想**  
与ikka类似，但更简洁地展示了颜色反转逻辑，直接累加带符号的面积贡献。

#### 3. 作者：Zenith_Yeh（4星）
**关键亮点**  
- 代码结构清晰，注释详细。  
- 包含父圆虚拟节点处理边界条件。  

**核心代码**  
```cpp
op[0].color=1,op[0].r=10000; // 初始虚拟父圆
for(int i=1;i<=n;++i)
    for(int j=i-1;j>=0;--j)
        if(pd(op[i],op[j])){
            op[i].color=-op[j].color;
            ans+=op[j].color*op[i].r*op[i].r;
            break;
        }
```
**实现思想**  
通过引入虚拟父圆（代表整个黑色平面），统一处理最外层圆的颜色逻辑。

### 最优关键思路
1. **排序处理**：按半径从大到小排序，确保处理每个圆时，所有可能包含它的父圆已处理完毕。  
2. **颜色反转**：每个圆的颜色由其直接父圆颜色决定（取反），利用奇偶性简化计算。  
3. **贡献累加**：直接计算每个圆面积的带符号贡献（±r²），最后统一乘π输出。

### 拓展与相似题目
- **同类问题**：覆盖次数奇偶性统计问题（如矩形覆盖面积）。  
- **推荐题目**：  
  1. [P1225 黑白图像](https://www.luogu.com.cn/problem/P1225)（覆盖反转模型）  
  2. [P1904 天际线](https://www.luogu.com.cn/problem/P1904)（几何覆盖分析）  
  3. [CF8C Looking for Order](https://www.luogu.com.cn/problem/CF8C)（包含关系处理）

---
处理用时：147.77秒
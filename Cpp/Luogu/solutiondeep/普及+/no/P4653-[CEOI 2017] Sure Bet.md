# 题目信息

# [CEOI 2017] Sure Bet

## 题目描述

现在有 $n$ 个A类灯泡和 $n$ 个B类灯泡，每个灯泡都有各自的权值。

我们将这些灯泡分为 $n$ 组，每组包含一个来自A类的灯泡和一个来自B类的灯泡。

你可以从中选取任意个灯泡，每选取一个灯泡需要花费 $1$ 的代价。

在你选取完之后，系统会随机在A类和B类中选择一个类型，并点亮那一类的所有灯泡。你选取的每个点亮的灯泡会给你带来等于它权值的收益。

现在请你合理选取灯泡，以最大化可能的最小收益。你只需要求出来这个收益即可。

## 说明/提示

**样例解释**

最优策略是选择第一组的B灯泡和第三组的A灯泡和第四组的A灯泡：

-    如果B类灯泡被点亮，收益是 $3.7-3=0.7$。
-    如果A类灯泡被点亮，收益是 $1.6+1.9-3=0.5$ 。

最小可能收益是 $0.5$。

**数据范围**

对于所有测试点，有 $1.0\le A_i,B_i\le 1000.0$，$0\le n\le 10^5$。

## 样例 #1

### 输入

```
4
1.4 3.7
1.2 2
1.6 1.4
1.9 1.5```

### 输出

```
0.5000```

# AI分析结果



**算法分类**: 贪心

---

### 综合分析与结论
题目要求在两组灯泡中选择若干灯泡，使得两类灯泡总收益较小值的最大值减去选择成本后的结果最大。各题解的核心思路是：

1. **贪心策略**：将两组灯泡分别降序排序，通过双指针维护两组前缀和，优先扩展总和小的一侧以保持平衡。
2. **双指针优化**：通过线性扫描+条件跳转实现$O(n)$复杂度，避免了暴力枚举的高复杂度。
3. **关键性质**：当一组总收益超过另一组时，继续扩展该组无法提升最小值，必须扩展另一组。

---

### 精选题解及亮点

#### 1. 题解作者：water_tomato（⭐⭐⭐⭐⭐）
**关键亮点**：
- 双指针动态平衡策略，代码简洁高效
- 实时计算收益差并维护最大值的思路清晰
- 时间复杂度严格$O(n\log n)$（排序瓶颈）

**核心代码**：
```cpp
sort(a+1,a+1+n,cmp); sort(b+1,b+1+n,cmp);
for(r=1;r<=n;r++) {
    sumb += b[r];
    while(suma < sumb && l < n) {
        suma += a[++l];
        ans = max(ans, min(suma-(l+r), sumb-(l+r)));
    }
    ans = max(ans, min(suma-(l+r), sumb-(l+r)));
}
```

#### 2. 题解作者：anyi777（⭐⭐⭐⭐）
**关键亮点**：
- 前缀和预处理简化计算
- 对称性条件判断（A组大时移B指针，反之移A指针）
- 直观展现贪心选择过程

**核心逻辑**：
```cpp
while(i<=n && j<=n) {
    if(a[i] > b[j]) {
        ans = max(ans, b[j]-i-j);
        j++;
    } else {
        ans = max(ans, a[i]-i-j);
        i++;
    }
}
```

#### 3. 题解作者：vijone（⭐⭐⭐）
**调试心得**：
> "在贪心时需要比较两种可能的取法（优先补A或优先补B），避免陷入局部最优。最终采用两次循环分别计算两种策略的最大值"

**代码片段**：
```cpp
for(int i=1;i<=x;i++) { // 两种贪心方向
    if(suma>sumb) sumb+=b[ib++];
    else suma+=a[ia++];
}
double anss = min(suma,sumb)-x;
// 反向策略计算...
```

---

### 关键思路与技巧
1. **排序预处理**：将两组灯泡按价值降序排列，确保每次选择当前最优灯泡
2. **双指针动态平衡**：当A组总收益超过B组时，必须扩展B组以尝试提升最小值
3. **实时收益计算**：在指针移动过程中即时更新最大收益，避免二次扫描

---

### 拓展练习
1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090) - 贪心策略经典应用
2. [P2678 跳石头](https://www.luogu.com.cn/problem/P2678) - 最大化最小值问题
3. [P1843 牛奶调度](https://www.luogu.com.cn/problem/P1843) - 双条件贪心优化

---
处理用时：47.53秒
# 题目信息

# [PA 2022] Podwyżki

## 题目描述

**题目译自 [PA 2022](https://sio2.mimuw.edu.pl/c/pa-2022-1/dashboard/) Runda 2 [Podwyżki](https://sio2.mimuw.edu.pl/c/pa-2022-1/p/pod/)**

对于 Bytecorp 来说，2022 年是艰难的一年。商业决策失误，再加上不景气的市场状况，意味着公司无力为员工涨薪。为了准备应对员工提出的不舒服的问题，人资部门发明了一种方法来证明员工不值得涨薪。

根据一个雇员在连续几天内产生的总收益，可以将一年（在 Byteotia，一年不一定是 365 天）划分为若干区间，这将表明该雇员工作不投入。更确切地说，人资部门希望将收入序列划分为 $k$ 个连续区间，使得序列中的每个元素都恰好属于一个区间。如果**不可能**从每个区间选择一个元素，使所选元素形成严格的升序，那么这种划分是正确的。

Bytecorp 的未来在你手上。写一个程序读入某个雇员产生的收益序列和一个整数 $k$，并根据人资部门的要求把序列分成 $k$ 段，或者判断无法分成这样的 $k$ 段。

## 说明/提示

对于 $100\%$ 的数据，满足：

$2\le k\le n\le 5 \times 10 ^ 5, 1\le a_i\le 10^9, 1\le v_i<n,v_i<v_{i+1}$。

## 样例 #1

### 输入

```
6 3
3 5 4 8 3 7
```

### 输出

```
TAK
3 5
```

## 样例 #2

### 输入

```
4 2
2 3 2 3
```

### 输出

```
NIE
```

# AI分析结果

### 算法分类
构造

### 综合分析与结论
该题的核心在于如何将序列划分为 $k$ 段，使得无法从每段中选出一个数构成严格上升序列。两位作者都采用了分类讨论的思路，分别处理 $k=2$、$k=3$ 和 $k \ge 4$ 的情况。其中，xxxaIq 的题解通过预处理前缀最大值和后缀最小值来快速判断划分的可行性，而 Rosaya 的题解则通过构造划分方案并逐步调整来满足条件。两位作者的思路都较为清晰，但 Rosaya 的题解在代码实现上更为简洁，且通过反证法进一步证明了划分的可行性，逻辑更加严谨。

### 所选题解

#### 1. Rosaya (5星)
**关键亮点**：
- 通过反证法证明了划分的可行性，逻辑严谨。
- 代码实现简洁，通过 `work()` 函数统一处理划分输出，减少了重复代码。
- 分类讨论清晰，特别是对 $k \ge 4$ 的情况，构造方案简单有效。

**个人心得**：
- 通过反证法简化了问题，避免了复杂的逻辑推导。
- 在代码实现中，通过 `sort` 和 `unique` 函数处理划分点，减少了冗余操作。

**核心代码**：
```cpp
inline void work()
{
    cout<<"TAK\n";

    sort(num+1,num+cnt+1);
    cnt=unique(num+1,num+cnt+1)-num-1;

    k-=cnt-1;

    int pos=1;

    for(int i=2;i<=cnt;i++)
    {
        while(k&&pos<num[i])
        {
            k--;
            cout<<pos<<' ';
            pos++;
        }

        pos=num[i]+1;
        
        if(i!=cnt)
            cout<<num[i]<<' ';
    }

    cout<<'\n';
}
```

#### 2. xxxaIq (4星)
**关键亮点**：
- 通过预处理前缀最大值和后缀最小值，快速判断划分的可行性。
- 分类讨论详细，特别是对 $k=3$ 的情况，处理得当。

**核心代码**：
```cpp
if(k==2){
    for(int i=1;i<n;i++){
        if(mi[i]>=ma[i+1]){
            cout<<"TAK\n"<<i<<"\n";
            return 0;
        }
    }
    cout<<"NIE\n";
    return 0;
}
```

### 最优关键思路或技巧
- **反证法**：通过反证法证明划分的可行性，简化了问题。
- **预处理**：通过预处理前缀最大值和后缀最小值，快速判断划分的可行性。
- **构造划分方案**：对于 $k \ge 4$ 的情况，通过找到 $a_i \ge a_{i+1}$ 的点，构造简单的划分方案。

### 可拓展之处
- 类似的问题可以通过预处理和分类讨论来解决，特别是在需要快速判断某些条件是否满足的情况下。
- 反证法在证明某些构造问题的可行性时非常有用，可以简化逻辑推导。

### 推荐题目
1. [P1115 最大子段和](https://www.luogu.com.cn/problem/P1115)
2. [P1886 滑动窗口](https://www.luogu.com.cn/problem/P1886)
3. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)

---
处理用时：18.02秒
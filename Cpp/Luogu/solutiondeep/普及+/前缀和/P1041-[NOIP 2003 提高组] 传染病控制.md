# 题目信息

# [NOIP 2003 提高组] 传染病控制

## 题目背景

本题是错题，后来被证明没有靠谱的多项式复杂度的做法。测试数据非常的水，各种玄学做法都可以通过，不代表算法正确。因此本题题目和数据仅供参考。

[关于此类题目的详细内容](https://www.luogu.com.cn/paste/isdgwj5l)

---

近来，一种新的传染病肆虐全球。蓬莱国也发现了零星感染者，为防止该病在蓬莱国大范围流行，该国政府决定不惜一切代价控制传染病的蔓延。不幸的是，由于人们尚未完全认识这种传染病，难以准确判别病毒携带者，更没有研制出疫苗以保护易感人群。于是，蓬莱国的疾病控制中心决定采取切断传播途径的方法控制疾病传播。经过 WHO（世界卫生组织）以及全球各国科研部门的努力，这种新兴传染病的传播途径和控制方法已经研究清楚，剩下的任务就是由你协助蓬莱国疾控中心制定一个有效的控制办法。


## 题目描述

研究表明，这种传染病的传播具有两种很特殊的性质；

第一是它的传播途径是树型的，一个人 $X$ 只可能被某个特定的人 $Y$ 感染，只要 $Y$ 不得病，或者是 $XY$ 之间的传播途径被切断，则 $X$ 就不会得病。


第二是，这种疾病的传播有周期性，在一个疾病传播周期之内，传染病将只会感染一代患者，而不会再传播给下一代。


这些性质大大减轻了蓬莱国疾病防控的压力，并且他们已经得到了国内部分易感人群的潜在传播途径图（一棵树）。但是，麻烦还没有结束。由于蓬莱国疾控中心人手不够，同时也缺乏强大的技术，以致他们在一个疾病传播周期内，只能设法切断一条传播途径，而没有被控制的传播途径就会引起更多的易感人群被感染（也就是与当前已经被感染的人有传播途径相连，且连接途径没有被切断的人群）。当不可能有健康人被感染时，疾病就中止传播。所以，蓬莱国疾控中心要制定出一个切断传播途径的顺序，以使尽量少的人被感染。


你的程序要针对给定的树，找出合适的切断顺序。



## 说明/提示

对于 $100\%$ 的数据，$1 \leq n \leq 300$。

**【题目来源】**

NOIP 2003 提高组第四题

## 样例 #1

### 输入

```
7 6
1 2
1 3
2 4
2 5
3 6
3 7
```

### 输出

```
3
```

# AI分析结果

这道题要求在给定树结构的传染病传播模型中，通过切断传播途径来最小化感染人数。由于题目数据范围小，大部分题解采用暴力搜索方法。以下是对各题解的综合分析：
1. **思路**：多数题解先对树进行分层处理，再通过深度优先搜索（DFS）枚举每层切断的节点，以找到最少感染人数。部分题解尝试贪心算法，但因存在反例而失败，还有些采用随机化策略结合贪心来逼近正确答案。
2. **算法要点**：
    - **树的存储与分层**：使用结构体、邻接表、vector等方式存储树结构，并通过DFS等方法确定每个节点所在层数。
    - **DFS搜索**：从根节点或第二层开始，递归枚举每层可切断的节点，同时标记子树节点，统计感染人数。
    - **回溯**：在搜索过程中，需要对标记的节点进行回溯，恢复到搜索前的状态，以保证搜索的完整性。
3. **解决难点**：
    - **确定搜索方向和参数**：如选择以节点距离根节点的距离作为DFS传入参数，而非传统的节点序号。
    - **处理树的结构和边的方向**：输入边未指明方向，需通过预处理（如最短路算法、拓扑排序等）来保证树结构的正确性。
    - **避免重复计算和无效搜索**：通过剪枝（如最优化剪枝）、标记已访问节点等方法减少不必要的计算。

综合来看，多数题解质量一般，未出现明显优于其他题解的思路或优化方法，所有题解均不足4星。以下是针对此类题目的通用建议与扩展思路：
 - **通用建议**：
    - **深入理解题意**：准确把握题目中的条件和限制，如传染病传播的周期性、每层只能切断一条传播途径等。
    - **优化搜索算法**：在暴力搜索基础上，思考剪枝策略，如利用最优性剪枝减少不必要的搜索分支。
    - **提高代码可读性**：采用模块化编程，将不同功能封装成函数，便于调试和维护。
 - **扩展思路**：
    - **同类型题**：可扩展到其他树形结构的决策优化问题，如在树中选择节点或边以最大化/最小化某种收益。
    - **类似算法套路**：对于小数据范围问题，暴力搜索结合剪枝是常用策略；对于树形结构，合理的分层和递归处理是关键。同时，可以尝试贪心策略，但要注意验证其正确性，或结合随机化方法来逼近正确答案。

推荐以下3道考察相似知识点的洛谷题目：
 - [P1120 小木棍 ](https://www.luogu.com.cn/problem/P1120)：通过DFS搜索解决木棍拼接问题，考察搜索策略和剪枝技巧。
 - [P1433 吃奶酪](https://www.luogu.com.cn/problem/P1433)：涉及到状态压缩和DFS，与本题在搜索和优化方面有相似之处。
 - [P1242 新汉诺塔](https://www.luogu.com.cn/problem/P1242)：利用递归和搜索解决汉诺塔的变体问题，有助于提升对树形结构和递归算法的理解。 

---
处理用时：28.40秒
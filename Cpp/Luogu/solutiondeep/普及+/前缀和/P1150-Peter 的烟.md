# 题目信息

# Peter 的烟

## 题目背景

**温馨提醒：吸烟有害健康，请勿尝试吸烟！**

## 题目描述

Peter 有 $n$ 根烟，他每吸完一根烟就把烟蒂保存起来，$k$（$k>1$）个烟蒂可以换一个新的烟，那么 Peter 最终能吸到多少根烟呢？

与某些脑筋急转弯不同的是，Peter 并不能从异次元借到烟蒂，抽完后再还回去。

## 说明/提示

对于 $100\%$ 的数据，$1<n, k \le 10^8$。


## 样例 #1

### 输入

```
4 3
```

### 输出

```
5```

## 样例 #2

### 输入

```
10 3```

### 输出

```
14```

# AI分析结果

### 综合分析与结论
这些题解主要有两种思路：数学推导和模拟。
 - **数学推导思路**：通过分析烟蒂与烟的兑换关系得出数学公式。如“k个烟蒂 = 1根烟 + 1个烟蒂”，推导出“k - 1个烟蒂 = 1根烟”，进而得出最终能吸到烟的数量公式为 \(n + \frac{n - 1}{k - 1}\) 。此思路难点在于理解并推导该数学关系，优点是时间复杂度为O(1)，计算效率高。
 - **模拟思路**：通过循环模拟抽烟和换烟过程。在循环中，每次抽烟烟的数量减1，烟蒂数量加1，当烟蒂数量达到k时，烟的数量加1，烟蒂数量清零或减去k。难点在于正确处理烟和烟蒂数量在每次操作后的变化。此方法直观但时间复杂度可能较高，为O(n)。

综合来看，数学推导思路在效率上更优，模拟思路更易理解。多数题解代码实现较为基础，部分可在代码规范性、可读性上提升。

### 所选的题解
 - **作者：WuYongxuan (赞：811)  5星**
    - **关键亮点**：思路清晰，利用简单数学关系快速得出结果，代码简洁高效，直接根据推导公式实现，时间复杂度为O(1)。
    - **重点代码**：
```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
    int n,k;
    cin>>n>>k;
    cout<<n+(n-1)/(k-1);
    return 0;
} 
```
    - **核心思想**：根据“k - 1个烟蒂 = 1根烟”的关系，直接利用公式 \(n + \frac{n - 1}{k - 1}\) 计算最终能吸到烟的数量。
 - **作者：fifnmar (赞：305)  5星**
    - **关键亮点**：对数学推导过程解释详细，从设未知数建立方程，到逐步求解得出最终公式，逻辑严谨，便于理解。
    - **重点代码**：
```cpp
#include <iostream>
int main() {
    unsigned n, k;
    std::cin >> n >> k;
    std::cout << n + (n - 1) / (k - 1) << '\n';
}
```
    - **核心思想**：设最终抽到烟的数量为 \(x\) ，通过建立方程 \(x - n = \frac{x - 1}{k}\) ，求解得出 \(x = n + \frac{n - 1}{k - 1}\) ，并据此编写代码。
 - **作者：bigju (赞：130)  4星**
    - **关键亮点**：采用自定义函数模拟抽烟和换烟过程，对函数的定义和作用解释详细，有助于初学者理解函数的使用和模拟过程。
    - **重点代码**：
```cpp
int ans7(int yd1,int n1,int k1)
{
    int ans1=0;
    ans1+=n1;
    yd1+=n1;
    while(yd1>=k1)
    {
        yd1-=k1;
        ans1++;
        yd1++;
    }
    return ans1;
}
int main()
{
    int ans=0,n,k,yd=0;
    scanf("%d",&n);
    scanf("%d",&k);
    ans=ans7(yd,n,k);
    printf("%d",ans);
    return 0;
}
```
    - **核心思想**：在 `ans7` 函数中，先将初始烟数加到答案中，然后在循环中，当烟蒂数够换烟时，换烟并更新烟蒂数和答案，`main` 函数调用该函数得到最终结果。

### 最优关键思路或技巧
数学推导得出公式 \(n + \frac{n - 1}{k - 1}\) 的思路最优，通过深入分析烟蒂和烟的兑换关系，直接得出结果，避免了模拟过程中的循环操作，大大提高了效率。

### 可拓展之处
此类题目属于资源兑换类型，类似套路为分析资源之间的兑换关系，建立数学模型求解。同类型题如：用空瓶换饮料、用积分换礼品等。

### 相似知识点洛谷题目
 - [P1909 买铅笔](https://www.luogu.com.cn/problem/P1909)：通过比较不同包装铅笔价格，选择最优购买方案，考察贪心策略和简单数学计算。
 - [P1085 不高兴的津津](https://www.luogu.com.cn/problem/P1085)：根据给定条件对数据进行处理和判断，涉及简单模拟和条件判断。
 - [P1046 陶陶摘苹果（升级版）](https://www.luogu.com.cn/problem/P1046)：结合身高和苹果高度等条件，判断能摘到的苹果数量，属于简单模拟与条件判断结合的题目。

### 个人心得摘录与总结
部分作者提到在模拟过程中容易忽略一些细节，如最后一根烟的烟蒂不能换烟、烟蒂数量的处理等。总结为在解决此类问题时，无论是数学推导还是模拟，都要仔细分析题目条件，注意边界情况和细节处理，避免遗漏或错误。 

---
处理用时：40.33秒
# 题目信息

# 吃奶酪

## 题目描述

房间里放着 $n$ 块奶酪。一只小老鼠要把它们都吃掉，问至少要跑多少距离？老鼠一开始在 $(0,0)$ 点处。


## 说明/提示

#### 数据规模与约定

对于全部的测试点，保证 $1\leq n\leq 15$，$|x_i|, |y_i| \leq 200$，小数点后最多有 $3$ 位数字。

#### 提示

对于两个点 $(x_1,y_1)$，$(x_2, y_2)$，两点之间的距离公式为 $\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}$。

---

$2022.7.13$：新增加一组 $\text{Hack}$ 数据。

## 样例 #1

### 输入

```
4
1 1
1 -1
-1 1
-1 -1```

### 输出

```
7.41```

# AI分析结果



### 综合分析与结论
本题是典型的状态压缩动态规划（TSP变种），核心在于用二进制状态表示已访问的点集。各题解主要围绕状压DP展开，部分尝试模拟退火/DFS剪枝。最优解为状压DP，时间复杂度O(n²·2ⁿ)，适用于n≤15的数据范围。

---

### 高星题解推荐

#### 1. 作者：novax（⭐⭐⭐⭐⭐）
**关键亮点**  
- 清晰的状压DP框架，完整解释状态定义与转移逻辑  
- 预处理点间距优化计算  
- 代码结构规范，可读性强  
**核心代码**  
```cpp
for(k=1;k<(1<<N);k++) { // 枚举所有状态
    for(i=1;i<=N;i++) { // 当前点
        if((k&(1<<(i-1)))==0) continue;
        for(j=1;j<=N;j++) { // 转移来源点
            if(i==j || (k&(1<<(j-1)))==0) continue;
            F[i][k] = min(F[i][k], F[j][k-(1<<(i-1))]+a[i][j]);
        }
    }
}
```
**实现思想**：三层循环分别枚举状态、当前点、来源点，通过位运算检查状态合法性。

#### 2. 作者：D10s（⭐⭐⭐⭐）
**关键亮点**  
- 逆向思维定义状态：`f[i][s]`表示从i出发遍历集合s的最小距离  
- 代码简洁高效，时间复杂度相同但实现更紧凑  
**核心代码**  
```cpp
for(int s=1;s<=(1<<n)-1;s++)
for(int i=1;i<=n;i++) {
    if((s&(1<<(i-1)))==0) continue;
    if(s==(1<<(i-1))) { f[i][s]=0; continue; }
    for(int j=1;j<=n;j++) {
        if((s&(1<<(j-1)))==0||i==j) continue;
        f[i][s] = min(f[i][s], f[j][s-(1<<(i-1))]+dis(i,j));
    }
}
```
**个人心得**：最终答案需补上返回原点的距离，避免常见错误。

#### 3. 作者：快快做题（⭐⭐⭐⭐）  
**关键亮点**  
- 详细分析错误贪心策略与正确解法的差异  
- 提供调试技巧（十进制转二进制辅助调试）  
**核心代码**  
```cpp
memset(f,127,sizeof(f)); // double无穷大初始化
for(int s=1;s<(1<<n);s++) {
    vector<int> unvisited = get_unset_bits(s);
    for(int i=1;i<=n;i++) {
        if(!(s&(1<<(i-1)))) continue;
        for(int j : unvisited) 
            f[j][s|(1<<j)] = min(f[j][s|(1<<j)], f[i][s]+dis(i,j));
    }
}
```
**踩坑教训**：错误贪心策略会因路径回退导致错误，必须记录当前点。

---

### 关键思路与技巧
1. **状态压缩设计**：用二进制位表示点集，`f[i][s]`表示在i点且已访问集合s时的最优解  
2. **预处理优化**：预先计算所有点对距离，避免重复计算  
3. **循环顺序**：先枚举状态，再枚举当前点，最后枚举转移点  
4. **位运算技巧**：  
   - 检查状态包含点i：`s & (1<<(i-1))`  
   - 状态转移：`s^(1<<i)` 移除点i  

---

### 拓展练习推荐
1. **P1171 售货员的难题** - 经典TSP问题  
2. **P3052 [USACO12MAR]Cows in a Skyscraper** - 状压DP+分组优化  
3. **P2831 愤怒的小鸟** - 状压DP处理抛物线覆盖  

---

### 题解心得摘录
1. **快快做题**：  
   > "错误贪心策略的问题在于无法处理路径回退，必须完整记录当前点位置"  
   > 调试时用十进制转二进制函数辅助分析状态  

2. **Vector_**：  
   > "模拟退火的初始温度与降温系数需精细调整，贪心初始化提升效率"  

3. **NULL0x7f**：  
   > "TSP问题没有多项式解法，但状压DP在n≤20时是可行方案"

---
处理用时：57.49秒
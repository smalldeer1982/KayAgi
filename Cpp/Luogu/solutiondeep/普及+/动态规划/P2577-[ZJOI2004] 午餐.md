# 题目信息

# [ZJOI2004] 午餐

## 题目描述

上午的训练结束了，THU ACM小组集体去吃午餐，他们一行N人来到了著名的十食堂。这里有两个打饭的窗口，每个窗口同一时刻只能给一个人打饭。由于每个人的口味（以及胃口）不同，所以他们要吃的菜各有不同，打饭所要花费的时间是因人而异的。另外每个人吃饭的速度也不尽相同，所以吃饭花费的时间也是可能有所不同的。

THU ACM小组的吃饭计划是这样的：先把所有的人分成两队，并安排好每队中各人的排列顺序，然后一号队伍到一号窗口去排队打饭，二号队伍到二号窗口去排队打饭。每个人打完饭后立刻开始吃，所有人都吃完饭后立刻集合去六教地下室进行下午的训练。

现在给定了每个人的打饭时间和吃饭时间，要求安排一种最佳的分队和排队方案使得所有人都吃完饭的时间尽量早。

假设THU ACM小组在时刻0到达十食堂，而且食堂里面没有其他吃饭的同学（只有打饭的师傅）。每个人必须而且只能被分在一个队伍里。两个窗口是并行操作互不影响的，而且每个人打饭的时间是和窗口无关的，打完饭之后立刻就开始吃饭，中间没有延迟。

现在给定N个人各自的打饭时间和吃饭时间，要求输出最佳方案下所有人吃完饭的时刻。


## 说明/提示

所有输入数据均为不超过200的正整数。


## 样例 #1

### 输入

```
5

2 2

7 7

1 3

6 4

8 5

```

### 输出

```
17```

# AI分析结果



### 综合分析与结论
所有题解均围绕贪心+DP的核心思路展开，关键点包括：通过贪心排序（按吃饭时间降序）消除决策后效性，利用二维DP状态表示（前i人，1号窗口时间j）进行转移。核心难点在于状态设计和转移方程的推导，以及通过前缀和压缩状态维度。以下题解在思路清晰度、代码质量、证明严谨性等方面表现突出。

---

### 高星题解推荐

#### 1. M_seа (★★★★★)
**关键亮点**：  
- 清晰拆分贪心策略与DP转移逻辑，给出完整数学推导  
- 代码简洁规范，附带详细状态转移方程注释  
- 利用前缀和优化空间复杂度至O(n²)

**核心代码**：
```cpp
for(int i = 1; i <= n; i++) {
    for(int j = 0; j <= sum[i]; j++) {
        if(j >= s[i].a) 
            f[i][j] = min(f[i][j], max(f[i-1][j-s[i].a], j+s[i].b));
        f[i][j] = min(f[i][j], max(f[i-1][j], sum[i]-j+s[i].b));
    }
}
```

#### 2. TH讠NK (★★★★☆)
**关键亮点**：  
- 详细证明贪心策略的正确性（交换法）  
- 给出三维到二维状态压缩的完整推导过程  
- 代码结构清晰，变量命名规范

**个人心得**：  
> "当两个相邻两个人XY不难发现交换之后对其它任务完成时间无影响。因为两个人的吃饭时间总和是一定的，通过分类讨论可证明排序策略的正确性"

#### 3. 灵乌路空 (★★★★☆)
**关键亮点**：  
- 使用清晰的图示辅助理解贪心策略  
- 代码包含详细注释说明状态转移  
- 实现中采用滚动数组优化空间

**核心代码片段**：
```cpp
for(int i = 1; i <= n; ++i) {
    for(int j = sum[i]; j >= 0; --j) {
        if(j >= a[i].x) 
            f[i][j] = min(f[i][j], max(f[i-1][j-a[i].x], j+a[i].y));
        f[i][j] = min(f[i][j], max(f[i-1][j], sum[i]-j+a[i].y));
    }
}
```

---

### 关键思路总结
1. **贪心排序**：按吃饭时间降序排列，确保吃饭时间长的先处理
2. **状态设计**：`f[i][j]`表示前i人，1号窗口总时间j时的最小结束时间
3. **状态转移**：
   - 放入1号窗口：`max(f[i-1][j-a], j+b)`  
   - 放入2号窗口：`max(f[i-1][j], sum[i]-j+b)`
4. **空间优化**：利用前缀和`sum[i]`替代第二队列时间维度

---

### 拓展练习
1. [P1080 国王游戏](https://www.luogu.com.cn/problem/P1080)  
   （贪心排序+高精度处理）
2. [P1233 木棍加工](https://www.luogu.com.cn/problem/P1233)  
   （二维偏序贪心+LIS模型）
3. [P1948 电话线](https://www.luogu.com.cn/problem/P1948)  
   （分层图思想+贪心优化决策）

---
处理用时：46.63秒
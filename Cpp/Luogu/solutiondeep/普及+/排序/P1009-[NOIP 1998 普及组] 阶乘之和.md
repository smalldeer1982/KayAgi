# 题目信息

# [NOIP 1998 普及组] 阶乘之和

## 题目描述

用高精度计算出 $S = 1! + 2! + 3! + \cdots + n!$（$n \le 50$）。

其中 `!` 表示阶乘，定义为 $n!=n\times (n-1)\times (n-2)\times \cdots \times 1$。例如，$5! = 5 \times 4 \times 3 \times 2 \times 1=120$。

## 说明/提示

**【数据范围】**

对于 $100 \%$ 的数据，$1 \le n \le 50$。

**【其他说明】**

注，《深入浅出基础篇》中使用本题作为例题，但是其数据范围只有 $n \le 20$，使用书中的代码无法通过本题。

如果希望通过本题，请继续学习第八章高精度的知识。

NOIP1998 普及组 第二题

## 样例 #1

### 输入

```
3
```

### 输出

```
9```

# AI分析结果

这道题要求计算\(S = 1! + 2! + 3! + \cdots + n!\)（\(n \le 50\)），由于结果数值较大，需使用高精度算法。众多题解主要围绕高精度加法和乘法展开，部分题解还涉及优化技巧、不同语言特性及特殊解法。

### 各题解分析
1. **作者：C_Z_C**
    - **思路**：利用高精乘和高精加，先算\(i\)的阶乘，再累加到总和。
    - **算法要点**：通过嵌套循环实现高精乘和高精加，注意进位处理。
    - **难点**：理解并正确实现高精乘和高精加的逻辑。
    - **评分**：3星
    - **亮点**：代码逻辑较清晰，详细展示了高精乘和高精加过程。
2. **作者：zyk1256**
    - **思路**：用Python一行代码实现，利用`reduce`函数计算阶乘和。
    - **算法要点**：熟悉`reduce`函数及Python的语法特性。
    - **难点**：对Python函数式编程的掌握。
    - **评分**：2星
    - **亮点**：代码简洁，但未体现高精度算法细节。
3. **作者：wuhao1027**
    - **思路**：C语言风格，通过数组实现高精度加法和乘法。
    - **算法要点**：按位进行乘法和加法运算，处理进位。
    - **难点**：数组操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：代码简洁，风格清晰。
4. **作者：Nortrom**
    - **思路**：分两步，先高精求积，再高精求和。
    - **算法要点**：分别实现高精求积和高精求和函数，注意数组操作。
    - **难点**：函数间数据传递及数组边界处理。
    - **评分**：3星
    - **亮点**：模块化设计，思路清晰。
5. **作者：二元长天笑**
    - **思路**：重载运算符，模拟竖式计算。
    - **算法要点**：重载`+`、`*`、`<<`、`>>`等运算符。
    - **难点**：运算符重载的实现及逻辑正确性。
    - **评分**：3星
    - **亮点**：代码结构清晰，体现了C++的特性。
6. **作者：吃葡萄吐糖**
    - **思路**：用二维数组实现高精，递推计算阶乘再求和。
    - **算法要点**：二维数组存储，按位计算阶乘和进位。
    - **难点**：二维数组的管理及进位处理。
    - **评分**：3星
    - **亮点**：用二维数组使代码易理解。
7. **作者：qieqiemin**
    - **思路**：Python简单实现，循环计算阶乘并累加。
    - **算法要点**：利用Python高精度特性，循环控制。
    - **难点**：无
    - **评分**：2星
    - **亮点**：代码简单直观，但未展示高精度细节。
8. **作者：LJC00118**
    - **思路**：通过辅助数组实现高精度乘法和加法。
    - **算法要点**：`add`函数实现高精度加法，`main`函数中循环计算阶乘并累加。
    - **难点**：辅助数组的使用及进位处理。
    - **评分**：3星
    - **亮点**：代码结构清晰，逻辑明确。
9. **作者：Sinwind**
    - **思路**：将高精度算法分解为加法、乘法、阶乘、阶乘求和，用字符串实现。
    - **算法要点**：实现高精度加法、乘法、阶乘函数，注意字符串操作。
    - **难点**：字符串与数值的转换及高精度运算逻辑。
    - **评分**：3星
    - **亮点**：详细实现各部分高精度算法，思路清晰。
10. **作者：yjjr**
    - **思路**：Pascal语言，先利用高精度乘法处理每个阶乘，再用高精度加法累加。
    - **算法要点**：按位进行乘法和加法运算，处理进位。
    - **难点**：Pascal语言的数组操作及进位处理。
    - **评分**：3星
    - **亮点**：展示了Pascal语言实现高精度的方法。
11. **作者：NaCly_Fish**
    - **思路**：提出时间复杂度\(\Theta(\sqrt n \log n)\)的做法，但未给出代码。
    - **算法要点**：利用类似快速计算阶乘的方法，通过点值倍增计算。
    - **难点**：理解并实现点值倍增的复杂算法。
    - **评分**：3星
    - **亮点**：提供了优化思路，对有能力者有启发。
12. **作者：zhangboju**
    - **思路**：变形公式避免高精加，仅用高精乘和加1进位。
    - **算法要点**：按变形公式从后往前计算，处理乘法和进位。
    - **难点**：理解并实现变形公式的计算逻辑。
    - **评分**：3星
    - **亮点**：提供了独特的避免高精加的思路。
13. **作者：谁懂谁伤心**
    - **思路**：将两数存入数组，像竖式计算进行高精计算，每计算完一个数的阶乘高精加入另一个数组。
    - **算法要点**：按位进行乘法和加法运算，处理进位。
    - **难点**：数组操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：代码简洁，竖式计算思路较直观。
14. **作者：IntrepidStrayer**
    - **思路**：先给出低精阶乘和，再用数组和函数实现高精度阶乘和。
    - **算法要点**：实现`add`和`mut`函数，分别用于高精度加法和乘法。
    - **难点**：函数实现及数据在函数间传递。
    - **评分**：3星
    - **亮点**：先给出低精思路，再过渡到高精度，便于理解。
15. **作者：Delva**
    - **思路**：Java版，利用`BigInteger`类实现。
    - **算法要点**：使用`BigInteger`类的`multiply`和`add`方法。
    - **难点**：熟悉`BigInteger`类的使用。
    - **评分**：2星
    - **亮点**：展示了Java实现该题的简便方法。
16. **作者：影のない霜跡**
    - **思路**：先写不带高精程序过样例，再套高精模板。
    - **算法要点**：实现高精乘法和加法函数，注意数组操作。
    - **难点**：模板的正确套用及数组边界处理。
    - **评分**：3星
    - **亮点**：提供了一种解决高精度问题的思路。
17. **作者：栾隽沣**
    - **思路**：先C++简单实现，发现超范围后用Python实现。
    - **算法要点**：Python中定义阶乘函数并调用求和。
    - **难点**：无
    - **评分**：2星
    - **亮点**：展示了不同语言的实现方式。
18. **作者：xyqxyq**
    - **思路**：Python生成结果，C++查表输出。
    - **算法要点**：Python循环计算并输出结果，C++用数组存储结果并按输入查询输出。
    - **难点**：数据生成及存储的正确性。
    - **评分**：2星
    - **亮点**：提供了一种取巧的思路，但缺乏通用性。
19. **作者：Bean233**
    - **思路**：复习紫书大整数类，采用压位操作。
    - **算法要点**：实现大整数类的各种运算，注意压位操作。
    - **难点**：大整数类的实现及压位操作的细节。
    - **评分**：4星
    - **亮点**：使用压位操作提高速度，代码结构完整。
20. **作者：HarryHu**
    - **思路**：变形公式避免写加法，用高精度乘法实现。
    - **算法要点**：按变形公式从后往前计算，处理乘法和进位。
    - **难点**：理解并实现变形公式的计算逻辑。
    - **评分**：3星
    - **亮点**：提供了独特的避免高精加的思路。
21. **作者：ZHRRRRRR**
    - **思路**：Java版，利用`BigInteger`类实现，定义阶乘函数。
    - **算法要点**：使用`BigInteger`类的`multiply`和`add`方法，定义阶乘函数。
    - **难点**：熟悉`BigInteger`类的使用及函数定义。
    - **评分**：2星
    - **亮点**：展示了Java实现该题的方法。
22. **作者：HohleFeuerwerke**
    - **思路**：记忆化搜索，维护高精度乘法和加法。
    - **算法要点**：实现高精度加法、半高精度乘法和记忆化搜索函数。
    - **难点**：记忆化搜索的实现及函数间数据传递。
    - **评分**：3星
    - **亮点**：采用记忆化搜索，减少重复计算。
23. **作者：墨宇**
    - **思路**：先给出非高精度写法，再用刘汝佳的大整数类实现。
    - **算法要点**：实现大整数类的各种运算，注意数组操作。
    - **难点**：大整数类的实现及数组边界处理。
    - **评分**：3星
    - **亮点**：提供了对比，有助于理解高精度的必要性。
24. **作者：lihaonan**
    - **思路**：用数组实现高精度乘法和加法。
    - **算法要点**：按位进行乘法和加法运算，处理进位。
    - **难点**：数组操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：代码简洁，逻辑清晰。
25. **作者：萌新天行健**
    - **思路**：考虑阶乘复用，用数组实现。
    - **算法要点**：在循环中复用已计算的阶乘，处理乘法和加法进位。
    - **难点**：数组操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：利用阶乘复用优化计算。
26. **作者：有毒的粽子**
    - **思路**：用函数实现阶乘、高精乘法和进位处理。
    - **算法要点**：定义函数实现阶乘、高精乘法和进位处理，注意函数调用。
    - **难点**：函数间数据传递及进位处理。
    - **评分**：3星
    - **亮点**：通过函数封装，使代码结构较清晰。
27. **作者：Guardian乄针尖**
    - **思路**：C语言，用数组模拟乘法竖式运算。
    - **算法要点**：实现多个函数模拟竖式乘法、加法及数组操作。
    - **难点**：函数间数据传递及数组操作的正确性。
    - **评分**：3星
    - **亮点**：详细展示了模拟竖式运算的过程。
28. **作者：Awar3ness**
    - **思路**：Python实现，定义递归阶乘函数并求和。
    - **算法要点**：递归实现阶乘，循环累加。
    - **难点**：递归函数的理解及边界条件。
    - **评分**：2星
    - **亮点**：代码简单，递归思路较清晰。
29. **作者：小风扇vv**
    - **思路**：压四位实现高精度，分别实现阶乘和加法函数。
    - **算法要点**：在阶乘和加法函数中处理压位操作及进位。
    - **难点**：压位操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：使用压位操作提高效率。
30. **作者：miku1158929627**
    - **思路**：双高精，用数组实现高精乘和高精加。
    - **算法要点**：按位进行乘法和加法运算，处理进位。
    - **难点**：数组操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：展示了双高精的实现方法。
31. **作者：AmemiyaHaruka5**
    - **思路**：Python实现，定义阶乘和求和函数。
    - **算法要点**：循环实现阶乘，累加求和。
    - **难点**：无
    - **评分**：2星
    - **亮点**：代码简单直观。
32. **作者：Rika**
    - **思路**：写高精阶乘和高精加法函数，在`main`中调用。
    - **算法要点**：实现高精阶乘和加法函数，注意字符串和数组操作。
    - **难点**：字符串与数组的转换及高精度运算逻辑。
    - **评分**：3星
    - **亮点**：模块化设计，思路清晰。
33. **作者：zero4eva**
    - **思路**：写大整数加法子程序，循环调用实现乘法。
    - **算法要点**：实现大整数加法函数，通过循环调用实现乘法。
    - **难点**：函数实现及循环控制。
    - **评分**：3星
    - **亮点**：展示了一种实现高精度乘法的方法。
34. **作者：gipsy**
    - **思路**：先C语言简单实现，发现超范围后用Python实现。
    - **算法要点**：Python中循环计算阶乘并累加。
    - **难点**：无
    - **评分**：2星
    - **亮点**：展示了不同语言的实现方式。
35. **作者：我是星星**
    - **思路**：用数组实现高精度乘法和加法，注意进位和数组操作。
    - **算法要点**：按位进行乘法和加法运算，处理进位。
    - **难点**：数组操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：代码逻辑较清晰。
36. **作者：永遠の愛**
    - **思路**：高精度乘法和加法，注意处理符号和前导零。
    - **算法要点**：按位进行乘法和加法运算，处理进位、符号和前导零。
    - **难点**：符号处理及前导零的去除。
    - **评分**：3星
    - **亮点**：展示了处理复杂情况的方法。
37. **作者：dblark**
    - **思路**：Pascal语言，重载运算符实现高精度。
    - **算法要点**：重载`:=`、`=`、`+`、`*`等运算符。
    - **难点**：运算符重载的实现及逻辑正确性。
    - **评分**：3星
    - **亮点**：展示了Pascal语言重载运算符的方法。
38. **作者：jacky**
    - **思路**：Pascal语言，用数组实现高精阶乘和高精加。
    - **算法要点**：按位进行乘法和加法运算，处理进位。
    - **难点**：数组操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：展示了Pascal语言实现高精度的方法。
39. **作者：一碗粥**
    - **思路**：用数组实现高精度乘法和加法。
    - **算法要点**：按位进行乘法和加法运算，处理进位。
    - **难点**：数组操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：代码简洁，逻辑清晰。
40. **作者：cre_chan**
    - **思路**：Rust语言，自定义大数类实现高精度。
    - **算法要点**：实现大数类的表示、加法和乘法运算。
    - **难点**：Rust语言特性及大数类的实现。
    - **评分**：3星
    - **亮点**：展示了Rust语言实现高精度的方法。
41. **作者：封禁用户**
    - **思路**：Pascal语言，用数组实现高精乘低精和加法。
    - **算法要点**：按位进行乘法和加法运算，处理进位。
    - **难点**：数组操作及进位处理的正确性。
    - **评分**：3星
    - **亮点**：展示了Pascal语言实现高精度的方法。
42. **作者：optimize_2**
    - **思路**：使用高精度模板，当成普通题做。
    - **算法要点**：套用高精度模板，实现阶乘和累加。
    - **难点**：理解并正确使用模板。
    - **评分**：3星
    - **亮点**：利用模板简化代码。
43. **作者：ezoiHQM**
    - **

---
处理用时：174.04秒
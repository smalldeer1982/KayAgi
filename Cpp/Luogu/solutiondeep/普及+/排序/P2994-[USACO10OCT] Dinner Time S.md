# 题目信息

# [USACO10OCT] Dinner Time S

## 题目描述

农场主约翰的 $N$（$1 \le N \le 10 ^ 3$）头奶牛被编号为 $1 \sim N$，它们正在保加利亚参加 IOI。奶牛们喜欢保加利亚的太阳并享受着它们的假日，一切看起来都没问题。

变化发生在晚餐时间前后。这家餐馆很小，只有 $M$（$1 \le M \le N$）个座位，编号为 $1 \sim M$。每头牛从一个位置 $CX_i$，$CY_i$ 进入餐馆（$-10 ^ 6 \le CX_i \le 10 ^ 6,-10 ^ 6 \le CY_i \le 10 ^ 6$）；座位可以在 $SX_j$，$SY_j$ 找到（$-10 ^ 6 \le SX_j \le10 ^ 6,-10 ^ 6\le SY_j\le 10 ^ 6$）。



奶牛有一种非常有效的（尽管很原始）方法把自己分配到座位上。一旦某只奶牛确定她会先到某个座位上，她就会尽快赶到那里（所有的奶牛都跑得一样快）。



农场主约翰的奶牛和所有获奖的奶牛一样，跳过座位、桌子或其他奶牛都没有问题，因此它们可以直线奔跑。当多头牛可以同时到达一个座位时，最老的牛（在输入数据中出现得更早的牛）获得座位。当一头牛可以第一个到达多个座位时，她也会选择在输入中最早出现的座位。



一些奶牛将不能吃晚饭，这些吃不到饭的饥饿的奶牛正集体计划偷农场主约翰自己的食物。农场主约翰想要一份他应该提防的奶牛名单。（如果没有饥饿的奶牛，则输出 $0$）。你能帮他吗？



注：在计算中可能会有超过 $32$ 位整数范围但在 $64$ 位整数范围内的数。

------------

## 样例 #1

### 输入

```
2 1 
0 1 
1 0 
1 10 
```

### 输出

```
2 
```

# AI分析结果

### 综合分析与结论
这些题解思路基本一致，均采用暴力枚举算法。要点在于先枚举座位，再对每个座位枚举奶牛，计算奶牛到座位的距离（用勾股定理，因只需比较大小可不进行开根号操作），找到距离最近且未被分配座位的奶牛，将其标记为已分配。难点主要是对题意的理解，特别是奶牛分配座位的规则，以及数据范围较大需使用`long long`类型避免数据溢出。

从质量上看，各题解在思路清晰度、代码可读性、优化程度方面存在差异，但整体都未达到特别高的水平，没有题解能达到4星及以上。

### 通用建议与扩展思路
 - **思路优化**：可考虑在暴力枚举的基础上，对距离计算进行预处理，比如使用空间换时间的方式，提前计算好所有奶牛到所有座位的距离并存储，这样在枚举时可减少重复计算，但空间复杂度会增加。
 - **数据结构优化**：可尝试使用更高效的数据结构，如优先队列来维护距离最小的奶牛，这样在每次寻找距离最近的奶牛时，时间复杂度可从$O(n)$优化到$O(log n)$。

同类型题或类似算法套路：此类题目属于匹配问题，类似的还有二分图匹配问题，不过本题条件相对简单，直接暴力枚举即可。常见套路是明确匹配规则，然后选择合适的数据结构和算法实现。

推荐洛谷题目：
 - [P1966 火柴排队](https://www.luogu.com.cn/problem/P1966)：涉及到匹配和排序优化。
 - [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)：贪心策略的应用，与本题按某种规则分配资源类似。
 - [P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094)：同样是根据一定条件进行分组匹配的问题。

### 个人心得摘录与总结
 - **yinhy09**：强调理解输入数据代表直角坐标系坐标，且建议外层循环枚举座位，因为每个座位一定有奶牛，而奶牛不一定有座位。总结了合理安排循环顺序对解决问题的便利性。
 - **nofind**：表示第一眼被题目绕晕，强调理解题意的重要性，本题实质是纯暴力枚举。
 - **hyc1026**：指出注意数据范围要开`long long`，总结了数据范围对变量类型选择的影响。 

---
处理用时：19.41秒
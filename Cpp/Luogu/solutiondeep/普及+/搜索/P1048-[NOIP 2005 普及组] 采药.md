# 题目信息

# [NOIP 2005 普及组] 采药

## 题目描述

辰辰是个天资聪颖的孩子，他的梦想是成为世界上最伟大的医师。为此，他想拜附近最有威望的医师为师。医师为了判断他的资质，给他出了一个难题。医师把他带到一个到处都是草药的山洞里对他说：“孩子，这个山洞里有一些不同的草药，采每一株都需要一些时间，每一株也有它自身的价值。我会给你一段时间，在这段时间里，你可以采到一些草药。如果你是一个聪明的孩子，你应该可以让采到的草药的总价值最大。”


如果你是辰辰，你能完成这个任务吗？


## 说明/提示

**【数据范围】**

- 对于 $30\%$ 的数据，$M \le 10$；
- 对于全部的数据，$M \le 100$。

**【题目来源】**

NOIP 2005 普及组第三题

## 样例 #1

### 输入

```
70 3
71 100
69 1
1 2
```

### 输出

```
3```

# AI分析结果



### 综合分析与结论
本题是典型的01背包问题，所有题解均围绕动态规划展开。核心要点包括：状态定义（dp[i][j]表示前i个物品容量j时的最大价值）、状态转移方程（选与不选的max比较）、空间优化（逆序遍历的一维数组实现）。部分题解通过实例演示了二维与一维实现的差异，强调了逆序对避免重复选取的关键作用。

### 高星题解推荐
1. **decoqwq（5星）**
   - 亮点：详细图解二维与一维DP差异，通过实例演示逆序必要性，代码注释清晰，覆盖两种实现方式。
   - 关键代码：
     ```cpp
     // 一维DP核心实现
     for(int i=1;i<=m;i++) 
         for(int j=t;j>=w[i];j--)
             dp[j] = max(dp[j-w[i]]+val[i], dp[j]);
     ```
   - 心得：通过背包容量10的逐步推演，直观展示状态转移过程，帮助理解滚动数组原理。

2. **xyx404（4星）**
   - 亮点：规范引用OI-Wiki，明确状态转移方程数学表达，代码结构简洁易读。
   - 关键点：严格推导状态转移逻辑，强调j<w[i]时的直接继承关系。

3. **ljh0727（4星）**
   - 亮点：对比展示二维与一维代码，注释说明滚动数组优化原理，适合初学者理解空间优化。
   - 代码对比：同时给出二维和优化后版本，突出代码演进过程。

### 关键思路与技巧总结
1. **逆序枚举**：一维DP必须逆序遍历背包容量（从T到w[i]），防止同一物品被多次选取。
2. **状态压缩**：通过滚动数组将空间复杂度从O(MT)优化到O(T)，是01背包的标配写法。
3. **贪心无效**：反例验证性价比贪心不适用于01背包，必须用动态规划保证正确性。

### 拓展训练推荐
1. [P2871 Charm Bracelet](https://www.luogu.com.cn/problem/P2871) - 基础01背包
2. [P1616 疯狂的采药](https://www.luogu.com.cn/problem/P1616) - 完全背包变形
3. [P1064 金明的预算方案](https://www.luogu.com.cn/problem/P1064) - 依赖背包问题

### 个人心得摘录
- **decoqwq**："一维内层循环要倒着来！不然会重复" —— 通过正向/逆向遍历对比，强调顺序对状态覆盖的影响。
- **rainygame**："贪心不保证最优解，但调整随机参数可能AC" —— 验证非正解的偶然性，反证DP必要性。
- **GZXUEXUE**："f[i][j]只与上一层有关" —— 点明滚动数组可行的根本原因，帮助理解空间优化逻辑。

---
处理用时：57.76秒
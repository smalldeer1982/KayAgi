# 题目信息

# 有趣的数

## 题目描述

让我们来考虑 $1$ 到 $N$ 的正整数集合。让我们把集合中的元素按照字典序排列，例如当 $N=11$ 时，其顺序应该为：$1,10,11,2,3,4,5,6,7,8,9$。

定义 $K$ 在 $N$ 个数中的位置为 $Q(N,K)$，例如 $Q(11,2)=4$。现在给出整数 $K$ 和 $M$，要求找到最小的 $N$，使得 $Q(N,K)=M$。

## 说明/提示

【数据约定】


$40\%$ 的数据，$1 \le K,M \le 10^5$；

$100\%$ 的数据，$1 \le K,M \le 10^9$。


## 样例 #1

### 输入

```
2 4
```

### 输出

```
11
```

## 样例 #2

### 输入

```
100000001 1000000000```

### 输出

```
100000000888888879```

# AI分析结果



### 综合分析结论
本题核心在于字典序排位特性的数学推导与高效计算。各题解主要围绕两种思路展开：**数学分位数法**与**二分答案法**。数学分位数法通过逐位计算贡献，逻辑清晰且效率高；二分法则结合数位DP判断排名，适用性广但实现复杂。需特别注意对`K=10^n`的特判与边界处理。

### 精选题解及评分
#### 1. 作者：Akashicw（★★★★★）
**关键亮点**：
- 分位数逐层计算贡献，思路清晰易理解
- 预处理幂次优化计算，代码简洁高效
- 详细处理特例（如`K=10^n`）

**个人心得**：
> "注意由于按照字典序排序，增加的元素只能从更高位枚举...速度是对数级别"

**核心代码思想**：
```cpp
int calc(int k) { // 计算K的最小位置
    char s[12]; sprintf(s, "%d", k);
    int ans = 0, w = 0, len = strlen(s);
    for(int i=0; i<len; ++i) {
        w = w*10 + s[i]-'0';
        ans += w - mi[i] + 1; // mi[i] = 10^i
    }
    return ans;
}
```

#### 2. 作者：Thunder_S（★★★★☆）
**关键亮点**：
- 二分答案框架清晰，适用性广
- 结合数位DP思想计算字典序排名
- 通过前缀分解减少计算量

**核心代码思想**：
```cpp
bool check(int n, int k) {
    int ans = 1, now = 1;
    while(now < k) { // 数位DP思想遍历字典树
        int cnt = getnum(ans, n);
        if(k >= now + cnt) ans++, now += cnt;
        else ans *= 10, now++;
    }
    return ans == target;
}
```

#### 3. 作者：大奕哥（★★★★）
**关键亮点**：
- 直观构造字典序扩展区间（如1000~2339）
- 动态计算增量，逻辑简洁
- 特殊处理临界值避免错误

**核心代码**：
```cpp
while(num < m) { // 逐次扩展位数
    m -= num;
    num *= 10; 
    kk *= 10;
}
printf("%lld\n", pow10(kk + cnt - 1) + m - 1);
```

---

### 最优思路总结
**关键步骤**：
1. **计算最小位置**：分解K的各位，逐层累加比其小的数（如K=234时，计算1位、2位数贡献）。
2. **处理高位扩展**：若M > base，按高位贡献逐步累加（如4位数贡献为`234*10 - 1000`）。
3. **特判与边界**：检查K是否为10^n，此时位置固定；若无法满足增量则无解。

**技巧与思维**：
- **分位数贡献法**：将问题分解为不同位数区间的独立计算，避免复杂结构。
- **幂次预处理**：利用`10^i`数组加速计算，避免重复求幂。
- **动态扩展位数**：通过乘10快速定位到高位区间，高效处理大数。

---

### 相似题目推荐
1. [P4401 最小公倍数计数](https://www.luogu.com.cn/problem/P4401) - 分块计算贡献
2. [P2651 添加括号](https://www.luogu.com.cn/problem/P2651) - 数学推导与区间划分
3. [P2119 魔法阵](https://www.luogu.com.cn/problem/P2119) - 分位数分析与组合优化

---
处理用时：76.94秒
# 题目信息

# [NOIP 2009 普及组] 多项式输出

## 题目描述

一元 $n$ 次多项式可用如下的表达式表示：

$$f(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots +a_1x+a_0,a_n\ne 0$$

其中，$a_ix^i$ 称为 $i$ 次项，$a_i$ 称为 $i$ 次项的系数。给出一个一元多项式各项的次数和系数，请按照如下规定的格式要求输出该多项式：

1. 多项式中自变量为 $x$，从左到右按照次数递减顺序给出多项式。

2. 多项式中只包含系数不为 $0$ 的项。

3. 如果多项式 $n$ 次项系数为正，则多项式开头不出 `+` 号，如果多项式 $n$ 次项系数为负，则多项式以 `-` 号开头。

4. 对于不是最高次的项，以 `+` 号或者 `-` 号连接此项与前一项，分别表示此项系数为正或者系数为负。紧跟一个正整数，表示此项系数的绝对值（如果一个高于 $0$ 次的项，其系数的绝对值为 $1$，则无需输出 $1$）。如果 $x$ 的指数大于 $1$，则接下来紧跟的指数部分的形式为“$x^b$”，其中 $b$ 为 $x$ 的指数；如果 $x$ 的指数为 $1$，则接下来紧跟的指数部分形式为 $x$；如果 $x$ 的指数为 $0$，则仅需输出系数即可。

5. 多项式中，多项式的开头、结尾不含多余的空格。


## 说明/提示

NOIP 2009 普及组 第一题

对于100%数据，$0 \le n \le 100$，$-100 \le $系数$ \le 100$

---

$\text{upd 2022.8.1}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 
100 -1 1 -3 0 10```

### 输出

```
100x^5-x^4+x^3-3x^2+10```

## 样例 #2

### 输入

```
3 
-50 0 0 1 
```

### 输出

```
-50x^3+1 
```

# AI分析结果

### 综合分析与结论

本题的核心在于如何根据多项式的系数和次数，按照特定格式输出多项式。难点在于处理各种边界情况，如系数为0、1或-1时的输出格式，以及如何处理不同次数的项。各题解基本都采用了模拟的思路，但在代码实现和细节处理上有所不同。

### 所选高星题解

#### 1. 作者：Loyal_Soldier (★★★★☆)
**关键亮点**：
- 代码简洁，逻辑清晰，直接按照题目要求分情况处理。
- 使用 `abs(x)` 来处理系数的绝对值，避免了重复判断。
- 通过 `if` 语句的顺序处理，确保输出格式正确。

**核心代码**：
```cpp
for(int i=n;i>=0;i--){
    int x;
    cin>>x;
    if(x){
        if(i!=n&&x>0) cout<<'+';
        if(i!=0&&x==-1) cout<<'-';
        if(abs(x)>1||i==0) cout<<x;
        if(i>1) cout<<"x^"<<i;
        if(i==1) cout<<'x';
    }
}
```
**实现思想**：通过循环从高次到低次处理每一项，根据系数的正负、绝对值是否为1以及次数来决定输出格式。

#### 2. 作者：WsW_ (★★★★☆)
**关键亮点**：
- 将符号、系数、次数分开处理，逻辑清晰。
- 使用 `putchar` 和 `printf` 结合，优化了输出效率。
- 通过 `abs(a)` 处理系数的绝对值，简化了代码。

**核心代码**：
```cpp
for(int i=n;i>=0;i--){
    int a; scanf("%d",&a);
    if(!a) continue;
    if(a>0&&i!=n) putchar('+');
    if(a<0) putchar('-');
    if(abs(a)!=1||!i) printf("%d",abs(a));
    if(i){ putchar('x'); if(i!=1) printf("^%d",i); }
}
```
**实现思想**：通过分步骤处理符号、系数和次数，确保每一项的输出格式正确。

#### 3. 作者：Eason_lyx (★★★★☆)
**关键亮点**：
- 详细处理了各种边界情况，如系数为1或-1时的输出。
- 代码结构清晰，注释详细，便于理解。
- 通过 `if-else` 语句的顺序处理，确保输出格式正确。

**核心代码**：
```cpp
for(int i=n;i>=0;i--){
    scanf("%d",&cur);
    if(cur==0) continue;
    else if(cur==(-1))
        if(i==1) printf("-x");
        else if(i!=0) printf("-x^%d",i);
        else printf("-1");
    else if(cur<0)
        if(i==1) printf("%dx",cur);
        else if(i!=0) printf("%dx^%d",cur,i);
        else printf("%d",cur);
    else if(cur==1)
        if(i==1) printf("+x");
        else if(i==n&&i!=0) printf("x^%d",i);
        else if(i==n) printf("1");
        else if(i!=0) printf("+x^%d",i);
        else printf("+1");
    else 
        if(i==1) printf("+%dx",cur);
        else if(i==n) printf("%dx^%d",cur,i);
        else if(i!=0) printf("+%dx^%d",cur,i);
        else printf("+%d",cur);
}
```
**实现思想**：通过详细的分支处理，确保每一项的输出格式正确，特别是对系数为1或-1的情况进行了特殊处理。

### 最优关键思路与技巧

1. **分步骤处理**：将符号、系数、次数分开处理，确保每一项的输出格式正确。
2. **边界情况处理**：特别注意系数为0、1或-1时的输出格式，以及次数为0或1时的处理。
3. **代码优化**：使用 `abs()` 函数简化代码，避免重复判断。

### 可拓展之处

本题的模拟思路可以应用于其他类似的格式化输出问题，如多项式的加法、减法等。在处理类似的格式化输出问题时，分步骤处理和边界情况处理是关键。

### 推荐题目

1. [P1068 多项式加法](https://www.luogu.com.cn/problem/P1068)
2. [P1069 多项式减法](https://www.luogu.com.cn/problem/P1069)
3. [P1070 多项式乘法](https://www.luogu.com.cn/problem/P1070)

### 个人心得摘录

- **Loyal_Soldier**：通过 `abs(x)` 处理系数的绝对值，简化了代码逻辑。
- **WsW_**：分步骤处理符号、系数和次数，确保每一项的输出格式正确。
- **Eason_lyx**：详细处理了各种边界情况，特别是系数为1或-1时的输出，确保代码的健壮性。

这些心得强调了在处理格式化输出问题时，分步骤处理和边界情况处理的重要性。

---
处理用时：34.91秒
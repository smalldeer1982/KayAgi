# 题目信息

# 【模板】有理数取余

## 题目描述

给出一个有理数 $c=\frac{a}{b}$，求 $c \bmod 19260817$ 的值。

这个值被定义为 $bx\equiv a\pmod{19260817}$ 的解。

## 说明/提示

对于所有数据，保证 $0\leq a \leq 10^{10001}$，$1 \leq b \leq 10^{10001}$，且 $a, b$ 不同时是 $19260817$ 的倍数。

## 样例 #1

### 输入

```
233
666
```

### 输出

```
18595654
```

# AI分析结果

### 综合分析与结论

本题的核心在于求解有理数取模问题，即给定有理数 \( c = \frac{a}{b} \)，求 \( c \mod 19260817 \) 的值。由于 \( a \) 和 \( b \) 的规模非常大（\( 0 \leq a, b \leq 10^{10001} \)），直接计算是不现实的。因此，题解大多采用了以下思路：

1. **模运算性质**：利用模运算的性质，将问题转化为求解 \( bx \equiv a \pmod{19260817} \) 的解 \( x \)。
2. **乘法逆元**：通过求解 \( b \) 的乘法逆元 \( b^{-1} \)，将问题转化为 \( x \equiv a \times b^{-1} \pmod{19260817} \)。
3. **扩展欧几里得算法**：用于求解 \( b \) 的乘法逆元，特别适用于模数为质数的情况。
4. **费马小定理**：当模数为质数时，可以利用费马小定理快速计算 \( b^{-1} \equiv b^{p-2} \pmod{p} \)。
5. **输入优化**：由于 \( a \) 和 \( b \) 的规模非常大，题解中普遍采用了边读入边取模的策略，避免了高精度计算的麻烦。

### 所选高星题解

#### 题解1：学委 (5星)
- **关键亮点**：思路清晰，详细解释了分数取模的数学原理，并通过扩展欧几里得算法求解逆元。代码简洁且高效，处理了大数输入的优化问题。
- **个人心得**：作者在题解中提到了调试过程中发现的错误，并进行了修正，体现了对细节的关注。
- **核心代码**：
  ```cpp
  void exgcd(int a, int b) {
      if(b == 0) {
          x = 1;
          y = 0;
          return;
      }
      exgcd(b, a % b);
      int Last_x = x;
      x = y;
      y = Last_x - a / b * y;
  }
  ```

#### 题解2：顾z (4星)
- **关键亮点**：利用费马小定理快速计算逆元，代码简洁且易于理解。作者在题解中提到了对数据范围的担忧，并通过输入优化解决了问题。
- **核心代码**：
  ```cpp
  IL long long ksm(long long x,long long p) {
      long long res=1;
      for(;p;p>>=1,x=x*x%mod)
          if(p&1)res=res*x%mod;
      return res;
  }
  ```

#### 题解3：Arcturus1350 (4星)
- **关键亮点**：详细解释了乘法逆元的数学原理，并通过扩展欧几里得算法求解逆元。代码中包含了输入优化和模运算的处理，适合大数场景。
- **核心代码**：
  ```cpp
  long long pow2(long long a,long long b) {
      long long res=1;
      for(;b;b>>=1,a=a*a%p) if(b&1) res=res*a%p;
      return res%p;
  }
  ```

### 最优关键思路与技巧

1. **乘法逆元**：通过求解 \( b \) 的乘法逆元，将分数取模问题转化为整数取模问题，极大简化了计算。
2. **扩展欧几里得算法**：适用于求解模数为质数时的逆元问题，且算法效率高。
3. **费马小定理**：当模数为质数时，可以快速计算逆元，适用于需要快速求解的场景。
4. **输入优化**：边读入边取模的策略，避免了高精度计算的麻烦，特别适合处理大数输入。

### 拓展思路与同类型题

1. **同类型题**：
   - [P1082 同余方程](https://www.luogu.org/problem/P1082)：求解线性同余方程，与本题的逆元求解类似。
   - [P3811 乘法逆元](https://www.luogu.org/problem/P3811)：专门考察乘法逆元的求解，适合进一步巩固逆元知识。
   - [P1516 青蛙的约会](https://www.luogu.org/problem/P1516)：涉及线性同余方程的求解，与本题的数学原理相似。

2. **调试与顿悟**：在调试过程中，作者发现了一些细节问题（如模运算的边界情况），并通过修正代码解决了这些问题。这提醒我们在编写代码时要注意边界条件的处理，尤其是在模运算中。

### 总结

本题的核心在于理解分数取模的数学原理，并通过乘法逆元将其转化为整数取模问题。扩展欧几里得算法和费马小定理是求解逆元的有效工具，而输入优化则是处理大数问题的关键。通过这些技巧，可以高效地解决类似的有理数取模问题。

---
处理用时：35.50秒
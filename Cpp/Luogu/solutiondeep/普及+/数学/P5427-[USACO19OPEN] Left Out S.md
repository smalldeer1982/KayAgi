# 题目信息

# [USACO19OPEN] Left Out S

## 题目描述

Farmer John 正在尝试给他的牛群拍照。根据以往的经验，他知道这一工作往往结果不怎么样。

这一次，Farmer John 购买了一台昂贵的无人机，想要拍一张航拍照。为了使照片尽可能好看，他想让他的奶牛们在拍照时都朝向同一个方向。奶牛们现在在一块有围栏的草地上排列成 $N \times N$（$2 \leq N \leq 1000$）的方阵，例如：

```
RLR
RRL
LLR
```

这里，字符 `R` 表示一头朝右的奶牛，字符 `L` 表示一头朝左的奶牛。由于奶牛们都挤在一起，Farmer John 没办法走到某一头奶牛面前让她调转方向。他能做的只有对着某一行或某一列的奶牛喊叫让她们调转方向，使得被叫到的这一行或列内的所有 `L` 变为 `R`，`R` 变为 `L`。Farmer John 可以对任意多的行或列发号施令，也可以对同一行或列多次发令。

就如同 Farmer John 想象的，他发现他不可能让他的奶牛们都朝向同一个方向。他最多能做的是让所有奶牛中除了一头之外都朝向相同的方向。请找出这样的一头奶牛。


## 说明/提示

在这个例子中，位于第 $1$ 行第 $1$ 列（左上角）的奶牛是那头令人讨厌的奶牛，因为 Farmer John 可以喊叫第 $2$ 行和第 $3$ 列来让所有奶牛都面向左侧，只有这一头奶牛面向右侧。

## 样例 #1

### 输入

```
3
RLR
RRL
LLR```

### 输出

```
1 1```

# AI分析结果



### 综合分析与结论
该题核心是通过行列翻转使得仅有一头牛方向不同。各题解普遍采用预处理第一行/列为全0后，基于剩余矩阵的和判断异常点位置。最优思路是分情况讨论异常点位置（左上角、第一行/列、右下区域），通过子矩阵和快速判断。

---

### 高星题解推荐
#### 1. 作者：Lolierl（⭐⭐⭐⭐⭐）
- **关键亮点**：  
  ① 清晰分三种情况讨论，利用子矩阵和快速定位异常点；  
  ② 代码简洁高效，处理行列翻转逻辑明确；  
  ③ 处理n=2的特殊情况避免误判。
- **核心代码**：
  ```cpp
  // 预处理第一行和列
  for(int i=1;i<=n;i++) if(a[i][1]) 翻转行i;
  for(int i=2;i<=n;i++) if(a[1][i]) 翻转列i;
  
  // 判断三种情况
  int f=0; // 右下区域的和
  if(f == (n-1)*(n-1)) 输出(1,1);
  else if(f ==1) 遍历找唯一1;
  else if(f ==n-1) 检查行/列是否全1;
  ```

#### 2. 作者：Rainybunny（⭐⭐⭐⭐）
- **关键亮点**：  
  ① 图文结合详细解释矩阵变换后的结构；  
  ② 分类讨论时结合反向推导验证正确性；  
  ③ 代码中对三种情况分别处理，逻辑严谨。
- **调试心得**：  
  曾因未处理n=2的特殊情况导致错误，通过单独判断修正。

#### 3. 作者：chihik（⭐⭐⭐⭐）
- **关键亮点**：  
  ① 将矩阵划分为红、紫、黄三区直观分析；  
  ② 通过check函数模块化处理三种情况；  
  ③ 代码中利用二维前缀和优化计算。

---

### 最优关键思路总结
1. **预处理归一化**：将第一行和第一列翻转为全0，简化后续判断。
2. **子矩阵和分情况**：  
   - 若右下全1 → 异常点为(1,1)；  
   - 若右下仅1个1 → 该点即答案；  
   - 若某行/列全1 → 异常点位于对应行/列首。
3. **特殊处理n=2**：避免因逻辑漏洞导致错误。

---

### 相似题目推荐
1. [P2895 [USACO08FEB] Meteor Shower S](https://www.luogu.com.cn/problem/P2895)  
   （矩阵状态变化与BFS结合）
2. [P2962 [USACO09NOV] Lights G](https://www.luogu.com.cn/problem/P2962)  
   （行列翻转求最小步数，异或方程）
3. [P2289 星际探索](https://www.luogu.com.cn/problem/P2289)  
   （矩阵操作与贪心策略结合）

---

### 个人心得摘录
- **调试经验**：多题解提到n=2时需单独处理，如直接输出(1,1)可能错误，需特判矩阵总和是否符合条件。  
- **优化技巧**：利用二维前缀和快速计算子矩阵和，避免重复遍历。  
- **顿悟点**：行列翻转顺序不影响结果，因此可先处理行再处理列，简化问题。

---
处理用时：59.01秒
# 题目信息

# 电学实验

## 题目描述

物理课上，小L和小K在做电学实验：“探究电阻两端的电压一定时，通过电阻的电流和电阻的大小的关系”。在这一实验中，控制电阻箱两端的电压为 $1~ V$ ，调节旋钮改变电阻箱的电阻，分别改为 $1 ~ \Omega , 2 ~ \Omega , 3 ~ \Omega , \ldots , n ~ \Omega $ ，分别读出对应的电流表示数为 $1 ~ A, \dfrac 1 2 ~  A , \dfrac 1 3 ~ A , ... ,\dfrac 1 n ~ A$ 。

在描述实验结论的时候，小L和小K产生了分歧。

小K：“众所周知，电阻两端的电压一定时，通过电阻的电流和电阻的大小成反比。也就是说，如果电阻箱两端电压保持不变，电阻箱的电阻为 $x ~ \Omega $ ，则通过电阻箱的电流为 $\dfrac 1 x ~ A$ 。”

小L：“但是我们为什么不可以用一个最高 $n-1$ 次的曲线去拟合它呢？”

为了改变小L的错误认识，小K决定先让 **小L按自己的结论** 去计算出电阻箱的电阻为 $(n+1) ~ \Omega$ 时，通过电阻箱的电流，然后进行实验，检验答案的正确性。同时，为了让小L更深刻地认识到自己的错误，小K决定进行多组实验，每组实验取不同的 $n$ 。

但是，小L在求解关于这 $n$ 组实验数据的最高 $n-1$ 次曲线时，遇到了问题。小L不想手算出这条曲线和曲线在 $(n+1) ~ \Omega $ 时的值，所以他找到了你，希望你能够求出这个值。

为了使运算更方便，小L将所有数据转化为取模 $998244353$ 意义下的整数值，你的输出也应该是这个整数值。但是，有时候数据的组数过多，导致实验数据或最后的运算结果没有意义，此时你需要输出 `-1` 。

## 说明/提示

对于 $10\%$ 的数据， $1\le n\le 6$ 。

对于 $30\%$ 的数据， $1\le n\le 50$ 。

对于 $50\%$ 的数据， $1\le n\le 5000$ 。

对于 $70\%$ 的数据， $1\le n\le 10^5$ 。

对于 $100\%$ 的数据， $1\le T\le 100,1\le n\le 10^{18}$ 。

## 样例 #1

### 输入

```
3
1
2
998244853```

### 输出

```
1
0
-1```

# AI分析结果



### 综合分析与结论  
本题核心在于利用多项式构造技巧快速求解插值问题。各题解均通过构造辅助多项式 $g(x)=x\cdot f(x)-1$，利用其根的性质推导出 $f(n+1)$ 的表达式，最终得出当 $n$ 为偶数时结果为 $0$，奇数时为 $\frac{2}{n+1}$。关键优化在于避免直接插值，转而通过多项式根与常数项关系推导。

---

### 高评分题解推荐  
#### 1. 作者：hsfzLZH1（★★★★★）  
**关键亮点**：  
- 通过拉格朗日插值公式推导出通用表达式，结合二项式定理化简得到简洁结论。  
- 数学推导严谨，代码简短高效，直接分类讨论奇偶性。  

**核心代码**：  
```cpp
if(n%2==0) printf("0\n");
else printf("%lld\n",2*ksm(n+1,mod-2)%mod);
```

#### 2. 作者：jijidawang（★★★★★）  
**关键亮点**：  
- 构造辅助函数 $g(x)=x\cdot f(x)-1$，利用多项式根的性质快速求解。  
- 推导过程直观，代码逻辑清晰，直接输出分情况结果。  

**核心代码**：  
```cpp
if(n>=mod) printf("-1\n");
else if(n%2==0) printf("0\n");
else printf("%lld\n",2*ksm(n+1,mod-2)%mod);
```

#### 3. 作者：lam_dyr（★★★★☆）  
**关键亮点**：  
- 通过构造辅助多项式详细分类讨论奇偶性，适合初学者理解。  
- 分步推导 $Q(x)$ 的构造与常数计算，解释清晰。  

**核心代码**：  
```cpp
if(n%2==0) cout<<"0\n";
else cout<<(2*inv)%MOD<<"\n";
```

---

### 最优关键思路总结  
**构造辅助多项式**：通过定义 $g(x)=x\cdot f(x)-1$，利用其根的特性（$x=1,2,\dots,n$ 时 $g(x)=0$）将问题转化为求多项式常数项，从而快速推导出 $f(n+1)$ 的表达式。此方法避免了复杂的插值计算，适用于多项式拟合根已知的问题。

---

### 同类题目推荐  
1. **P4781【模板】拉格朗日插值**  
   - 练习拉格朗日插值法的基本应用。  
2. **P5432 A/B Problem (多项式快速插值)**  
   - 涉及多项式多点求值与快速插值技巧。  
3. **P4463【集训队互测2012】calc**  
   - 利用多项式性质与递推优化解决组合问题。

---
处理用时：56.65秒
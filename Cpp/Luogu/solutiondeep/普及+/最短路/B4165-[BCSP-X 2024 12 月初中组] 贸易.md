# 题目信息

# [BCSP-X 2024 12 月初中组] 贸易

## 题目描述

这个世界上一共有 $n$ 个国家，这些国家之间经常有贸易往来，于是为了方便，有 $m$ 条道路连接这些国家，每条道路连接两个国家，使得这两个国家之间可以轻松进行往来。

有了这些道路之后，商人在国家之间会赚取到更多的利润，所以为了限制商人的财富，国家之间制定了一个规则。商人经过每条道路，需要上交这条路对应的过路费 $w_i$，商人从起点国家到达目的地国家时，会返还给他走的路径上的过路费最大的那条路的费用 $\max w_i$ 减去过路费最小的那条路的费用 $\min w_i$。

现在，有 $k$ 个商人要从一号国家出发，去各个国家进行贸易，你需要计算他们每个人如何走可以使得他自己的过路费最少，你只需要告诉他们每个人这个最小过路费即可。

## 说明/提示

### 样例解释 1

![](https://cdn.luogu.com.cn/upload/image_hosting/0jr9ups3.png)

如上图。

- 对于路径 $1 \to 2$，花费为 $1 - 1 + 1 = 1$；
- 对于路径 $1 \to 3$，花费为 $1 + 2 - 2 + 1 = 2$；
- 对于路径 $1 \to 4$，花费为 $1 + 2 - 2 + 1 = 2$；
- 对于路径 $1 \to 5$，花费为 $1 + 2 + 4 - 4 + 1 = 4$；

### 数据范围

- 对于 $10\%$ 的数据，$n \leq 10$；
- 对于 $30\%$ 的数据，$n \leq 2 \times 10^3$；
- 对于另外 $20\%$ 的数据，$k = 1$；
- 对于另外 $10\%$ 的数据，$w_i$ 相同；
- 对于 $100\%$ 的数据，$1 \leq n \leq 2 \times 10^5, n - 1 \leq m \leq \min(\frac{n(n - 1)}{2}, 2 \times 10^5), 1 \leq k \leq n - 1, 0 \leq w_i \leq 10^9$，数据保证不存在重边和自环。

## 样例 #1

### 输入

```
5 4 4
5 3 4
2 1 1
3 2 2
2 4 2
2
3
4
5```

### 输出

```
1
2
2
4```

## 样例 #2

### 输入

```
6 8 5
3 1 1
3 6 2
5 4 2
4 2 2
6 1 1
5 2 1
3 2 3
1 5 4
2
3
4
5
6```

### 输出

```
2
1
4
3
1```

# AI分析结果

### 综合分析与结论
目前暂无题解，以下为解决该问题的通用思路与建议。本题的核心是计算从 1 号国家出发到各个目标国家的最小过路费，难点在于路径上最大过路费与最小过路费的处理。可以考虑使用图的搜索算法，如 Dijkstra 算法的变种，在搜索过程中记录路径上的最大和最小过路费，不断更新到每个节点的最小花费。

### 通用建议与扩展思路
- **思路**：可以将每个节点的状态定义为一个三元组 `(当前节点, 路径上最小过路费, 路径上最大过路费)`，使用优先队列来优化搜索过程，每次选择当前花费最小的路径进行扩展。
- **数据结构**：使用邻接表来存储图，方便进行图的遍历。
- **算法优化**：可以借鉴 Dijkstra 算法的思想，避免重复计算。

### 同类型题或类似算法套路
- 这类题目属于图论中的路径规划问题，通常需要在搜索过程中维护额外的信息。类似的题目可能会要求计算最短路径、最大收益等，都可以使用图的搜索算法进行解决。

### 洛谷相似题目推荐
- [P1339 [USACO09OCT]Heat Wave G](https://www.luogu.com.cn/problem/P1339)：经典的单源最短路径问题，可使用 Dijkstra 算法解决。
- [P4779 【模板】单源最短路径（标准版）](https://www.luogu.com.cn/problem/P4779)：同样是单源最短路径问题，对算法的效率有一定要求。
- [P1144 最短路计数](https://www.luogu.com.cn/problem/P1144)：在最短路径的基础上，需要统计最短路径的数量。 

---
处理用时：13.22秒
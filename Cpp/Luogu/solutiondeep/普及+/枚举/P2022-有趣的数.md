# 题目信息

# 有趣的数

## 题目描述

让我们来考虑 $1$ 到 $N$ 的正整数集合。让我们把集合中的元素按照字典序排列，例如当 $N=11$ 时，其顺序应该为：$1,10,11,2,3,4,5,6,7,8,9$。

定义 $K$ 在 $N$ 个数中的位置为 $Q(N,K)$，例如 $Q(11,2)=4$。现在给出整数 $K$ 和 $M$，要求找到最小的 $N$，使得 $Q(N,K)=M$。

## 说明/提示

【数据约定】


$40\%$ 的数据，$1 \le K,M \le 10^5$；

$100\%$ 的数据，$1 \le K,M \le 10^9$。


## 样例 #1

### 输入

```
2 4
```

### 输出

```
11
```

## 样例 #2

### 输入

```
100000001 1000000000```

### 输出

```
100000000888888879```

# AI分析结果

### 综合分析与结论
这些题解的核心目标都是找到最小的 $N$ ，使得 $Q(N,K)=M$ 。大部分题解的思路是先计算出 $K$ 的最小位置，然后根据该位置与 $M$ 的大小关系进行分类讨论。计算 $K$ 最小位置的方法通常是按位数枚举小于等于 $K$ 且字典序小于 $K$ 的数的个数。当最小位置小于 $M$ 时，通过增加位数来补充缺少的数。部分题解采用二分答案的方法，利用字典序的单调性来求解。

### 所选题解
- **作者：Akashicw (赞：64) - 4星**
    - **关键亮点**：思路清晰，详细阐述了结论的推导过程，代码注释丰富，易于理解。
    - **个人心得**：感谢王乃广老师的耐心讲解和友邻牧鸡同学的指正。
- **作者：Thunder_S (赞：3) - 4星**
    - **关键亮点**：从特殊情况入手，逐步推导一般情况，代码简洁明了。
- **作者：_ajthreac_ (赞：1) - 4星**
    - **关键亮点**：思路清晰，对细节的解释详细，代码结构清晰。

### 重点代码及核心实现思想
#### Akashicw 的代码
```cpp
//计算k的最小位置 
int calc(int k){ 
    char s[12];
    sprintf(s,"%d",k);
    int ans=0,w=0;
    len=strlen(s);
    for(int i=0;i<len;i++)
    {
        w=w*10+s[i]-'0';
        ans+=w-mi[i]+1;
    }
    return ans; 
}
```
**核心思想**：将 $k$ 按位拆分，计算每一位前缀对应的小于等于该前缀且字典序小于 $k$ 的数的个数，累加得到 $k$ 的最小位置。

#### Thunder_S 的代码
```cpp
len=(int)log10(k);
for (int i=len;i>=0;--i)
    num+=k/p[i]-p[len-i]+1;
```
**核心思想**：通过 $k$ 除以 $10$ 的幂次得到不同位数的前缀，减去同位数的最小数再加 $1$ ，累加得到 $k$ 的最小位置。

#### _ajthreac_ 的代码
```cpp
int len=(int)log10(k);
for(rg int i=len;i>=0;i--){
    cnt+=k/p10[i]-p10[len-i]+1;
}
```
**核心思想**：与 Thunder_S 的思路相同，按位枚举前缀，统计小于等于该前缀且字典序小于 $k$ 的数的个数。

### 最优关键思路或技巧
- **按位枚举**：按位数枚举小于等于 $K$ 且字典序小于 $K$ 的数的个数，是计算 $K$ 最小位置的关键。
- **分类讨论**：根据 $K$ 的最小位置与 $M$ 的大小关系进行分类讨论，确定是否有解以及如何求解。
- **特判**：对于 $K$ 是 $10$ 的幂次的情况进行特判，因为其位置是固定的。

### 可拓展之处
同类型题或类似算法套路：
- **字典序相关问题**：如字典序排序、字典序第 $k$ 小的数等，可以利用字典树或按位枚举的方法解决。
- **二分答案**：对于具有单调性的问题，可以考虑使用二分答案的方法，通过不断缩小范围来求解。

### 推荐题目
- [P1102 A-B 数对](https://www.luogu.com.cn/problem/P1102)：涉及二分查找和哈希表的应用。
- [P1873 砍树](https://www.luogu.com.cn/problem/P1873)：典型的二分答案问题。
- [P2678 跳石头](https://www.luogu.com.cn/problem/P2678)：同样是二分答案的应用。

### 个人心得摘录与总结
- **shellfish**：花2秒想通的题居然花了几个小时才通过，细枝末节太多了。TLE可能是因为 $k$ 刚好是 $10$ 的幂次，10的幂次位置是定值；数本身前后差别，前面计数需要 +1；9999和10000这种类似的节点很容易算错。
- **Ciel_bleu**：想出大思路，一打全wa，网上还没有题解，根本无法验证思路，而且细节贼多，交了五遍才A。

总结：这类题目思路不难想出，但细节较多，容易出错。需要注意特殊情况的处理，如 $10$ 的幂次，同时在实现过程中要仔细考虑边界条件和计数的准确性。

---
处理用时：35.83秒
# 题目信息

# [NOIP 2009 普及组] 多项式输出

## 题目描述

一元 $n$ 次多项式可用如下的表达式表示：

$$f(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots +a_1x+a_0,a_n\ne 0$$

其中，$a_ix^i$ 称为 $i$ 次项，$a_i$ 称为 $i$ 次项的系数。给出一个一元多项式各项的次数和系数，请按照如下规定的格式要求输出该多项式：

1. 多项式中自变量为 $x$，从左到右按照次数递减顺序给出多项式。

2. 多项式中只包含系数不为 $0$ 的项。

3. 如果多项式 $n$ 次项系数为正，则多项式开头不出 `+` 号，如果多项式 $n$ 次项系数为负，则多项式以 `-` 号开头。

4. 对于不是最高次的项，以 `+` 号或者 `-` 号连接此项与前一项，分别表示此项系数为正或者系数为负。紧跟一个正整数，表示此项系数的绝对值（如果一个高于 $0$ 次的项，其系数的绝对值为 $1$，则无需输出 $1$）。如果 $x$ 的指数大于 $1$，则接下来紧跟的指数部分的形式为“$x^b$”，其中 $b$ 为 $x$ 的指数；如果 $x$ 的指数为 $1$，则接下来紧跟的指数部分形式为 $x$；如果 $x$ 的指数为 $0$，则仅需输出系数即可。

5. 多项式中，多项式的开头、结尾不含多余的空格。


## 说明/提示

NOIP 2009 普及组 第一题

对于100%数据，$0 \le n \le 100$，$-100 \le $系数$ \le 100$

---

$\text{upd 2022.8.1}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 
100 -1 1 -3 0 10```

### 输出

```
100x^5-x^4+x^3-3x^2+10```

## 样例 #2

### 输入

```
3 
-50 0 0 1 
```

### 输出

```
-50x^3+1 
```

# AI分析结果

### 综合分析与结论
这些题解的核心思路均为模拟多项式输出过程，依据题目给定规则，按次数递减顺序处理各项系数。主要步骤为：判断系数是否为 0，若不为 0 则依次处理符号、系数、自变量及次数。

算法要点：
- 符号处理：最高次项系数为正不输出 `+` 号，其他正系数项前加 `+` 号，负系数项前加 `-` 号。
- 系数处理：系数绝对值为 1 且次数不为 0 时，不输出 1；次数为 0 时，直接输出系数。
- 自变量及次数处理：次数大于 1 时，输出 `x^` 及次数；次数为 1 时，输出 `x`；次数为 0 时，不输出自变量。

解决难点：
- 系数为 $\pm 1$ 时的处理，避免多余的 1 输出。
- 最高次项和常数项的符号处理，防止出现多余符号。

### 高评分题解
1. **作者：Loyal_Soldier（5 星）**
    - 关键亮点：思路清晰，代码简洁，将各种情况分类讨论，易于理解和实现。
    - 核心代码：
```cpp
for(int i=n;i>=0;i--){
    int x;
    cin>>x;
    if(x){
        if(i!=n&&x>0)
            cout<<'+';
        if(i!=0&&x==-1)
            cout<<'-';
        if(abs(x)>1||i==0)
            cout<<x;
        if(i>1)
            cout<<"x^"<<i;
        if(i==1)
            cout<<'x';
    }
}
```
核心实现思想：按次数从高到低遍历各项系数，根据不同情况输出符号、系数、自变量及次数。

2. **作者：qhr2023（4 星）**
    - 关键亮点：思路清晰，代码简洁，对各项输出的处理逻辑明确。
    - 核心代码：
```cpp
for(int i=n; i>=0; i--){
    cin >> a;
    if(a){
        if(i<n&&a>0) cout << '+';
        if(abs(a)>1||i==0) cout << a;
        if(a==-1&&i) cout << '-';
        if(i>0) cout << 'x';
        if(i>1) cout << '^' << i;
    }
}
```
核心实现思想：同样按次数递减顺序处理系数，根据不同条件输出相应内容。

3. **作者：WsW_（4 星）**
    - 关键亮点：将多项式拆成单项式处理，步骤清晰，时间复杂度为 $O(n)$。
    - 核心代码：
```cpp
for(int i=n;i>=0;i--){
    int a; scanf("%d",&a);
    if(!a)continue;
    if(a>0&&i!=n)putchar('+');
    if(a<0)putchar('-');
    if(abs(a)!=1||!i)printf("%d",abs(a));
    if(i){
        putchar('x');
        if(i!=1)printf("^%d",i);
    }
}
```
核心实现思想：对每个非零系数的单项式，依次处理符号、系数和次数。

### 最优关键思路或技巧
- 采用分类讨论的思维方式，将不同情况分开处理，使代码逻辑清晰。
- 按次数递减顺序遍历系数，确保多项式按要求输出。

### 可拓展之处
同类型题如多项式求值、多项式乘法等，可采用类似的模拟思路，根据具体规则处理各项。

### 推荐题目
1. [P1028 数的计算](https://www.luogu.com.cn/problem/P1028)：模拟数字生成过程。
2. [P1035 级数求和](https://www.luogu.com.cn/problem/P1035)：模拟级数求和过程。
3. [P1046 陶陶摘苹果](https://www.luogu.com.cn/problem/P1046)：模拟摘苹果的过程。

### 个人心得摘录与总结
- **作者：sueyunsheng**：提到本题坑较多，如系数为 $\pm 1$、指数为 1 以及输出多余符号等问题，采用建立两个数组分别存储系数和指数的方法，虽较笨但直观，可按正常逻辑处理。
总结：在处理模拟题时，要注意各种边界情况和特殊情况，可采用直观的方法先实现功能，再考虑优化。

---
处理用时：27.47秒
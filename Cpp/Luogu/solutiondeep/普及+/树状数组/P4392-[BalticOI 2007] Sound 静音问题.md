# 题目信息

# [BalticOI 2007] Sound 静音问题

## 题目描述

数字录音中，声音是用表示空气压力的数字序列描述的，序列中的每个值称为一个采样，每个采样之间间隔一定的时间。 

很多声音处理任务都需要将录到的声音分成由静音隔开的几段非静音段。为了避免分成过多或者过少的非静音段，静音通常是这样定义的：$m$ 个采样的序列，该序列中采样的最大值和最小值之差不超过一个特定的阈值 $c$。 

请你写一个程序，检测 $n$ 个采样中的静音。

## 样例 #1

### 输入

```
7 2 0
0 1 1 2 3 2 2```

### 输出

```
2
6```

# AI分析结果

### 综合分析与结论
本题主要是在给定的数字序列中，找出长度为 $m$ 的子序列，使得子序列中最大值和最小值之差不超过阈值 $c$，并输出这些子序列的起始位置。各题解采用了多种数据结构和算法来解决该问题，包括树状数组、单调队列、ST 表、线段树等。

不同算法的时间复杂度和空间复杂度有所差异，其中单调队列的时间复杂度为 $O(n)$，是最优的；树状数组、ST 表和线段树的时间复杂度一般为 $O(n\log n)$。在空间复杂度方面，ST 表容易出现 MLE 问题，需要合理优化空间。

### 所选题解
- **作者：Uni_Tune (赞：20)，4星**
  - **关键亮点**：思路清晰，使用单调队列解决问题，时间复杂度为 $O(n)$，代码简洁易懂。
  - **个人心得**：无

### 重点代码
```cpp
#include<cstdio>
#define MAXN 1000001
using namespace std;
bool p;
int n,m,c,dui1[MAXN],dui2[MAXN],a[MAXN],heada=1,taila=0,headb=1,tailb=0;
int main(){
    scanf("%d%d%d",&n,&m,&c);
    for(int i=1;i<=n;i++){
        scanf("%d",&a[i]);
    }
    for(int i=1;i<=n;i++){
        while(heada<=taila&&dui1[heada]+m<=i){
            heada++;
        }
        while(headb<=tailb&&dui2[headb]+m<=i){
            headb++;
        } 
        while(heada<=taila&&a[i]>a[dui1[taila]]){
            taila--;
        } 
        dui1[++taila]=i;
        while(headb<=tailb&&a[i]<a[dui2[tailb]]){
            tailb--;
        } 
        dui2[++tailb]=i;
        if(i>=m){
            if(a[dui1[heada]]-a[dui2[headb]]<=c){
                printf("%d\n",i-m+1);
                p=true;
            }
        }
    }
    if(!p) printf("NONE");
    return 0;
}
```
**核心实现思想**：使用两个单调队列 `dui1` 和 `dui2` 分别维护长度为 $m$ 的子序列中的最大值和最小值的位置。在遍历序列的过程中，不断更新队列，确保队列中的元素是当前子序列中的有效元素。当遍历到的元素个数达到 $m$ 时，判断当前子序列的最大值和最小值之差是否不超过 $c$，如果满足条件则输出起始位置。

### 最优关键思路或技巧
- **单调队列**：可以在 $O(n)$ 的时间复杂度内解决区间最值问题，非常适合处理滑动窗口类问题。
- **ST 表空间优化**：在使用 ST 表时，根据查询区间长度 $m$ 合理调整第二维数组的大小，避免 MLE。

### 可拓展之处
同类型题或类似算法套路：
- 滑动窗口问题：如洛谷 P1886 滑动窗口，可使用单调队列解决。
- 区间最值查询问题：可使用线段树、ST 表等数据结构解决，如洛谷 P3865 【模板】ST 表。

### 推荐题目
- P1886 滑动窗口
- P3865 【模板】ST 表
- P3372 【模板】线段树 1

### 个人心得摘录与总结
- **作者：Shikita**：刚开始用暴力会 WA 和 TLE，线段树和单调队列也出现莫名 WA 和 OLE 问题，最后通过自己模拟发现线段树 `ask` 函数的错误，修改后 AC。总结：在调试复杂算法时，手动模拟数据有助于发现问题。
- **作者：谭之荔**：使用 RMQ 时第十个点 MLE，改了很久后放弃，选择线段树 AC。总结：当一种算法出现空间问题时，可以考虑换用其他算法。 

---
处理用时：25.81秒
# 题目信息

# [ZJOI2007] 矩阵游戏

## 题目描述

小 Q 是一个非常聪明的孩子，除了国际象棋，他还很喜欢玩一个电脑益智游戏――矩阵游戏。矩阵游戏在一个 $n \times n$ 黑白方阵进行（如同国际象棋一般，只是颜色是随意的）。每次可以对该矩阵进行两种操作：

- 行交换操作：选择矩阵的任意两行，交换这两行（即交换对应格子的颜色）。
- 列交换操作：选择矩阵的任意两列，交换这两列（即交换对应格子的颜色）。

游戏的目标，即通过若干次操作，使得方阵的主对角线(左上角到右下角的连线)上的格子均为黑色。

对于某些关卡，小 Q 百思不得其解，以致他开始怀疑这些关卡是不是根本就是无解的！于是小 Q 决定写一个程序来判断这些关卡是否有解。


## 说明/提示

#### 数据规模与约定

- 对于 $20\%$ 的数据，保证 $n \leq 7$。
- 对于 $50\%$ 的数据，保证 $n \leq 50$。
- 对于 $100\%$ 的数据，保证 $1 \leq n \leq 200$，$1 \leq T \leq 20$。


## 样例 #1

### 输入

```
2
2
0 0
0 1
3
0 0 1
0 1 0
1 0 0
```

### 输出

```
No
Yes
```

# AI分析结果

• **综合分析与结论**：这些题解主要围绕将矩阵游戏问题转化为二分图匹配问题来求解。思路核心是把矩阵中的黑色格子看作匹配边，将行和列分别作为二分图的两个点集，若第\(i\)行第\(j\)列有黑色格子，则在二分图中连接行\(i\)与列\(j\)对应的点。通过证明交换行或列操作不改变二分图的最大匹配数，得出当且仅当二分图最大匹配数为\(n\)时，矩阵能通过行列交换使主对角线全为黑色。算法实现上，主要有匈牙利算法和Dinic网络流算法两种。匈牙利算法时间复杂度为\(O(n^3)\)，Dinic算法时间复杂度为\(O(n^2\sqrt{n})\)。解决难点在于理解行列交换操作与二分图匹配之间的联系，并正确建图。
• **所选的题解**：
  - **作者：Night_Aurora (5星)**
    - **关键亮点**：清晰阐述推导过程，从最终状态出发，将点看成匹配边，解释了如何将问题转化为二分图最大流问题，逻辑连贯，易于理解。
  - **作者：俾斯麦 (5星)**
    - **关键亮点**：详细分析题目，分别给出匈牙利二分图匹配解法和Dinic网络流解法，并配有代码及注释，代码中还注意到多组数据清零时的优化，避免\(memset\)浪费过多时间，内容全面且实用。
    - **个人心得**：提到在\(clear()\)函数中清零时用了多少就清零多少，有效节约因\(memset()\)清零空数组而浪费的时间。
  - **作者：cmwqf (4星)**
    - **关键亮点**：通过画图辅助理解，直观展示了行列交换操作在二分图中的体现，即交换操作不改变二分图的本质和最大匹配，使读者更易明白算法原理。
• **最优的关键思路或技巧**：将矩阵问题巧妙转化为二分图匹配问题，利用二分图匹配的性质解决原问题。在建图时，依据矩阵中黑色格子的位置在二分图中准确连边。在实现上，部分题解注意到多组数据处理时的优化，避免不必要的时间浪费。
• **可拓展之处**：此类题目属于图论中二分图匹配的应用场景，类似套路可应用于涉及元素配对、资源分配等问题，例如任务分配问题，将任务和执行者看作二分图的两个点集，任务与能执行它的执行者之间连边，通过二分图匹配求解最优分配方案。
• **推荐题目**：
  - [P3386 【模板】二分图匹配](https://www.luogu.com.cn/problem/P3386)：二分图匹配的模板题，可巩固基础。
  - [P2756 飞行员配对方案问题](https://www.luogu.com.cn/problem/P2756)：经典的二分图匹配应用，将飞行员按国籍分为两个点集，依据条件连边求解。
  - [P1402 酒店之王](https://www.luogu.com.cn/problem/P1402)：需要将顾客需求与酒店房间进行匹配，是二分图匹配的变形应用。
• **个人心得摘录**：俾斯麦提到在多组数据处理时，\(clear()\)函数中清零操作采用用了多少就清零多少的方式，能有效节约因\(memset\)清零空数组而浪费的时间，这是一个优化代码时间复杂度的实用技巧。 

---
处理用时：29.12秒
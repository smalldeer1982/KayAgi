# 题目信息

# 拱猪计分

## 题目描述

「拱猪」是一种很有趣的扑克牌游戏。即使你不知道它的玩法，你也可以由它的计分方式来了解它的趣味性。假设在此我们仅考虑四个人的拱猪牌局，本题要求你根据下面的计分规则，在牌局结束时计算四位玩家所得分数。

1. 我们分别以 $\texttt S, \texttt H, \texttt D, \texttt C$ 来代表黑桃、红心、方块及梅花，并以数字 $1$ 至 $13$ 来代表 $\texttt A, \texttt 2, \dots, \texttt Q, \texttt K$ 等牌点，例如：$H_1$ 为红心 $\texttt A$，$S_{13}$ 为黑桃 $\texttt K$；
2. 牌局结束时，由各玩家持有的有关计分的牌（计分牌）仅有「猪」$S_{12}$，所有红心牌，「羊」$D_{11}$ 及「加倍」$C_{10}$ 等 $16$ 张牌，其它牌均弃置不计，若一位玩家未持有这 $16$ 张牌中任意一张，则以得零分计算；
3. 若持有 $C_{10}$ 牌的玩家只有该张牌而没有任何其它牌则得 $+50$ 分，否则将其它计分牌所得分数加倍计算；
4. 若红心牌不在同一家，则 $H_1$ 至 $H_{13}$ 等 $13$ 张牌均以负分计，其数值依次为 $-50, -2, -3, -4, -5, -6, -7, -8, -9, -10, -20, -30, -40$，且 $S_{12}$ 与 $D_{11}$ 的分值分别以 $-100$ 及 $+100$ 分计算；
5. 若红心牌 $H_1$ 至 $H_{13}$ 均在同一家，则有下列情形：

+ 所有红心牌以 $+200$ 分计算。
+ 若 $S_{12}, D_{11}$ 皆在吃下所有红心牌之一家，则此玩家得 $+500$ 分。
+ $C_{10}$ 牌依旧以前文所述原则计算。

例一：若各玩家持有计分牌如下：

1. `S12 H3 H5 H13`
2. `D11 H8 H9`
3. `C10 H1 H2 H4 H6 H7`
4. `H10 H11 H12`

则各家之得分依序为：$-148, +83, -138$ 及 $-60$。

例二：若各玩家持有计分牌如下：

1. `H1 H2 H3 H4 H5 H6 H7 H8 H9 H10 H11 H12 H13`
2. `S12 C10`
3. `D11`
4. 无

则各家之得分依序为：$+200, -200, +100$ 及 $0$。

例三：若有一玩家持有所有 $16$ 张计分牌，则得 $+1000$ 分，其余三家均得零分。

## 样例 #1

### 输入

```
4  S12  H3  H5  H13
3  D11  H8  H9
6  C10  H1  H2  H4  H6  H7
3  H10  H11 H12
13 H1  H2  H3  H4  H5  H6  H7  H8  H9  H10  H11  H12  H13  
2  S12  C10
1  D11
0
0
0
0
0
```

### 输出

```
-148 +83 -138 -60
+200 -200 +100 0
```

# AI分析结果

• 综合分析与结论：这是一道模拟题，核心是根据拱猪游戏的计分规则计算四位玩家得分。各题解思路均为按规则模拟，通过判断玩家持牌情况计分。主要难点在于规则复杂，需准确处理各种情况及相互关系，如红心牌分布、特殊牌的计分和加倍规则等。在实现上，要注意输入输出格式，如输出带符号。
- **作者：Diaоsi (赞：24)** ：
  - **星级**：4星
  - **关键亮点**：思路清晰，按题意模拟，代码结构完整，详细注释避坑点。
  - **个人心得**：指出题目不支持动态输出、正数前要加符号、H牌拿满后单独存在D11、S12牌也要扣分、H牌拿满只加200分、数据弱易忽略持满16张牌+1000分的条件。
```cpp
// 核心代码片段：计算得分函数
int score(){
    int ans=0;
    int cntH=0,cntC10=0;
    int cntS12=0,cntD11=0;
    int bothS12D11=0;
    for(int i=0;i<s.size();i++){
        if(s[i][0]=='H')cntH++;
        if(s[i][0]=='C'&&s[i][1]=='1'&&s[i][2]=='0')cntC10++;
        if(s[i][0]=='S'&&s[i][1]=='1'&&s[i][2]=='1')cntS12++;
        if(s[i][0]=='D'&&s[i][1]=='1'&&s[i][2]=='1')cntD11++;
        if(cntD11&&cntS12)bothS12D11++;
    }
    if(cntH==13&&!bothS12D11)ans+=200;
    else if(cntH==13&&bothS12D11)ans+=500;
    if(s.size()==1&&cntC10)ans+=50;
    if(cntS12&&!bothS12D11)ans+=S12;
    if(cntD11&&!bothS12D11)ans+=D11;
    if(cntH<13){
        for(int i=0;i<s.size();i++){
            if(s[i][0]=='H'&&s[i][1]=='1'&&s[i].size()==2)ans+=H[1];
            if(s[i][0]=='H'&&s[i][1]=='2'&&s[i].size()==2)ans+=H[2];
            // 其他H牌计分判断
        }
    }
    if(s.size()>1&&cntC10)ans<<=1;
    return ans;
}
```
核心实现思想：通过遍历玩家持牌，统计各类牌数量，根据红心牌数量及其他特殊牌情况，按规则计算得分，有加倍牌时按规则处理。
- **作者：juruo_zjc (赞：12)** ：
  - **星级**：4星
  - **关键亮点**：用数组清晰统计玩家各类牌持有情况，按规则分情况计算得分，注释详细。
```cpp
// 核心代码片段：计算得分部分
for(int i=1;i<=4;i++){
    int ok=1;
    curans=0;
    for(int j=1;j<=13;j++)
        if(sum[i][j]==0){
            ok=0;
            break;
        }
    if(ok){
        if(sum[i][14]&&sum[i][15])curans+=500;
        else curans+=200+((sum[i][14])?1:0)*Fs[14]
                        +((sum[i][15])?1:0)*Fs[15];
        if(sum[i][16])curans*=2;
        if(curans>0)printf("+%d ",curans);
        else printf("%d ",curans);
    }
    else{
        ok=1;
        for(int j=1;j<=15;j++)
            if(sum[i][j]){
                ok=0;
                break;
            }
        if(ok==1){
            if(sum[i][16])printf("+50 ");
            else printf("0 ");
        }
        else{
            for(int j=1;j<=15;j++)curans+=((sum[i][j])?1:0)*Fs[j];
            if(sum[i][16])curans*=2;
            if(curans>0)printf("+%d ",curans);
            else printf("%d ",curans);
        }
    }
}
```
核心实现思想：先判断玩家是否集齐红心牌，是则按集齐情况根据其他特殊牌计分；否则判断是否仅有加倍牌，否则按普通情况计分，有加倍牌则分数加倍。
- **作者：uniqueharry (赞：5)** ：
  - **星级**：4星
  - **关键亮点**：一个数据一个数据处理，减少数组使用，思路独特。
```cpp
// 核心代码片段：计算得分部分
for(int i=1;i<=num;i++)
{
    if(c[i].type=='C'&&c[i].point==10)
        swap(c[i],c[num]);
    if(hflag==1)
    {
        if(sflag==1&&dflag==1) sco=500;
        else 
        {
            sco=200;
            if(sflag==1) sco-=100;
            if(c[i].type=='D'&&c[i].point==11) sco+=100;
        }   
    }
    else
    {
        if(c[i].type=='H')
        {
            if(c[i].point==1) sco-=50;
            if(c[i].point==2) sco-=2;
            // 其他H牌计分判断
        }
        if(c[i].type=='S'&&c[i].point==12) sco-=100;
        if(c[i].type=='D'&&c[i].point==11) sco+=100;
    }
    if(c[i].type=='C'&&c[i].point==10)
    {
        if(num==1) sco=50;
        else sco*=2;
    } 
}
```
核心实现思想：遍历玩家持牌，根据红心牌是否集齐分情况计分，同时处理特殊牌计分，遇到加倍牌按规则处理。

**最优关键思路或技巧**：使用数组或结构体记录玩家持牌情况，分情况判断红心牌分布及特殊牌持有状况，按规则计算得分。注意处理输入输出格式。

**类似题目**：
 - P1085 [NOIP2004 普及组] 不高兴的津津
 - P1909 买铅笔
 - P1425 小鱼的游泳时间 

---
处理用时：83.93秒
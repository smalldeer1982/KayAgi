# 题目信息

# 物理1（phsic1）- 磁通量

## 题目背景

蒟蒻 HansBug 在物理考场上，挠了无数次的头，可脑子里还是一片空白。

## 题目描述

眼下出现在 HansBug 蒟蒻面前的是一个奇怪的磁场，形状为多边形，可以描述为 $N$ 个点构成的序列，这些点即依次为该磁场的各个顶点。于是现在蒟蒻 HansBug 想要知道该磁场的磁通量为多少。可是他脑细胞和 RP 已经消耗殆尽，所以这个高端的任务就交给你们啦。

## 说明/提示

磁通量 $=$ 磁感应强度 $\times$ 磁场区域面积。

![](https://cdn.luogu.com.cn/upload/pic/2219.png)

$0\lt B\le 10$。

## 样例 #1

### 输入

```
3 1
0 0
1 0
0 2
```

### 输出

```
1.0000```

## 样例 #2

### 输入

```
4 1
1 1
1 -1
-1 -1
-1 1
```

### 输出

```
4.0000```

# AI分析结果

• 综合分析与结论：这些题解均围绕通过多边形顶点坐标求多边形面积，再乘以磁感应强度得出磁通量这一核心思路。算法要点在于利用向量叉乘计算三角形面积进而求多边形面积，或是直接运用鞋带定理（Shoelace formula）。解决难点主要是处理凹多边形面积计算，通过向量叉乘的有向性来抵消多余部分面积。多数题解思路清晰，代码实现也较为简洁，但在思路清晰度、代码可读性和优化程度上存在差异。

所选的题解：
 - **作者Johnson_sky（5星）**
    - **关键亮点**：思路清晰，先阐述简单凸多边形三角形划分法的局限，引出任意多边形面积公式（鞋带定理），并给出公式及代码实现，同时提供相关参考资料。
    - **重点代码及核心思想**：
```cpp
#include <bits/stdc++.h>
using namespace std;

int n;
double b, stx, sty, lstx, lsty, nowx, nowy, s;

int main()
{
    scanf("%d %lf", &n, &b);
    scanf("%lf %lf", &lstx, &lsty);
    stx = lstx, sty = lsty;
    for(int i = 2; i <= n; ++i){
        scanf("%lf %lf", &nowx, &nowy);
        s += (lstx * nowy - nowx * lsty);
        lstx = nowx, lsty = nowy;
    }
    nowx = stx, nowy = sty;
    s += (lstx * nowy - nowx * lsty);
    printf("%.4lf\n", fabs(0.5 * s * b));
    return 0;
}
```
核心思想是利用鞋带定理公式，通过循环累加计算多边形面积相关值，最后乘以磁感应强度并保留四位小数输出。

 - **作者Authentic_k（4星）**
    - **关键亮点**：先介绍向量叉乘和两点距离公式等前置知识，分凸多边形和凹多边形讨论，凸多边形分割为多个三角形求面积，凹多边形利用叉乘方向直接累加面积，并给出详细代码实现。
    - **重点代码及核心思想**：
```cpp
double ans=0;
    for(int i=3;i<=n;i++)
    {
    	cin>>p[i].x>>p[i].y;
        line[i-1].x=p[i].x-p[1].x;
        line[i-1].y=p[i].y-p[1].y;
        ans+=vec_ch(line[i-1],line[i-2])/2;
	}
```
核心思想是以第一个点为基准，将多边形分割为多个三角形，通过向量叉乘计算每个三角形面积并累加得到多边形面积。

 - **作者Grisses（4星）**
    - **关键亮点**：结合图形说明多边形面积可由多个以任意点为公共顶点的三角形有向面积之和得到，利用向量叉积计算有向面积，代码简洁明了。
    - **重点代码及核心思想**：
```cpp
  #include <bits/stdc++.h>
  using namespace std;
  int n;
  double B,S;//S表示2倍面积，n，B同题目
  struct node{
      double x,y;
  }a[100005];//储存点
  double CPr(node a,node b){return a.x*b.y-a.y*b.x;}//（Cross Product）
  int main()
  {
      scanf("%d%lf",&n,&B);
      for(int i=1;i<=n;i++)scanf("%lf%lf",&a[i].x,&a[i].y);
      for(int i=1;i<=n;i++)S+=CPr(a[i],a[i%n+1]);//求S（因为任意点都满足上文中的结论，为了方便，取原点）
      printf("%.4lf",fabs(S/2*B));//因为是有向面积，所以要取绝对值
      return 0;
  }
```
核心思想是取原点为公共点，通过循环计算相邻顶点与原点构成向量的叉积并累加，最后取绝对值除以2再乘以磁感应强度得到结果。

• 最优关键思路或技巧：利用向量叉乘的几何意义（平行四边形有向面积）来计算三角形面积，进而解决多边形面积计算问题，无论是凸多边形还是凹多边形都适用。同时，鞋带定理作为一种简洁的任意多边形面积计算方式，在代码实现上较为高效。

• 可拓展之处：同类型题可考察不同形状多边形面积计算，或是结合其他几何图形进行更复杂的面积、周长等计算。类似算法套路可用于计算几何中其他与面积、向量相关的问题。

• 推荐题目：
  - P1183 多边形的面积，直接考察多边形面积计算。
  - P3829 [SHOI2012]信用卡凸包，涉及多边形面积及凸包相关计算。
  - P2057 [SHOI2007]善意的投票，虽不是单纯几何题，但可通过向量叉乘判断点与直线位置关系等计算几何知识辅助解题。

• 个人心得：无。 

---
处理用时：67.18秒
# 题目信息

# 不开心的金明

## 题目描述

金明今天很不开心，家里购置的二手房就要领钥匙了，房里并没有一间他自己专用的很宽敞的房间。更让他不高兴的是，妈妈昨天对他说：“你需要购买哪些物品，怎么布置，你说了不算（有很大的限制），而且不超过 $W$ 元钱。”。今天一早金明就开始做预算，但是他想买的东西太多了，肯定会超过妈妈限定的 $W$ 元。于是，他把每件物品规定了一个重要度整数 $p_i$ 表示。他还从因特网上查到了每件物品的价格 $v_i$（都是整数元）。

妈妈看到购物单后进行了审查，要求购物单上所有的物品价格的极差（最贵的减去最便宜的）不超过 $3$（当然金明至今不知道为什么会这样）。他希望在不超过 $W$ 元（可以等于 $W$ 元）的前提下，使购买的重要度总和 $\sum p_i$ 的最大。


请你帮助金明设计一个满足要求的购物单，你只需要告诉我们重要度的最大的和。


## 说明/提示

$1 \le N \le 100$。

$1 \le W \le 10^9$。

$1 \le v_i \le 10^9$。

对所有的 $i=1,2,3,…,N$，$\min(v_i) \le v_i \le \min(v_i)+3$。

$1 \le p_i \le 10^7$。


## 样例 #1

### 输入

```
5 10
2 800
5 400
5 300
3 400
2 200
```

### 输出

```
1600```

# AI分析结果

• 综合分析与结论：这些题解主要围绕如何解决因数据范围导致的背包问题空间限制展开。部分题解利用价格极差不超过3的条件，按价格最小值与300的关系分类讨论，小于等于300时用背包，大于300时贪心；部分题解则根据价格只有4种情况进行枚举、分组等操作。各题解思路多样，但质量参差不齐，多数题解在思路清晰度、代码可读性或优化程度上存在不足。

通用建议与扩展思路：
 - 对于背包问题空间限制，可深入挖掘题目隐藏条件，如本题价格极差条件，据此优化算法。
 - 遇到数据范围特殊的情况，可尝试通过离散化、分组、贪心策略等方法简化问题。
 - 类似算法套路：对于物品种类有限且数量范围较小的背包问题，可考虑枚举所有可能组合；对于有特殊限制条件的背包问题，根据条件合理分类讨论。

推荐洛谷题目：
 - P1048 [NOIP2005 普及组] 采药：基础的01背包问题，帮助巩固背包问题基础。
 - P1616 疯狂的采药：01背包问题的变形，数据范围增大，可锻炼对背包问题优化的能力。
 - P2690 [USACO04NOV]Apple Catching G：二维背包问题，拓展背包问题的应用场景。 

---
处理用时：17.34秒
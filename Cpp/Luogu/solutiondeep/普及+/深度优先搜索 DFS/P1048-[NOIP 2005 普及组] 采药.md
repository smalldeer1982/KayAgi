# 题目信息

# [NOIP 2005 普及组] 采药

## 题目描述

辰辰是个天资聪颖的孩子，他的梦想是成为世界上最伟大的医师。为此，他想拜附近最有威望的医师为师。医师为了判断他的资质，给他出了一个难题。医师把他带到一个到处都是草药的山洞里对他说：“孩子，这个山洞里有一些不同的草药，采每一株都需要一些时间，每一株也有它自身的价值。我会给你一段时间，在这段时间里，你可以采到一些草药。如果你是一个聪明的孩子，你应该可以让采到的草药的总价值最大。”


如果你是辰辰，你能完成这个任务吗？


## 说明/提示

**【数据范围】**

- 对于 $30\%$ 的数据，$M \le 10$；
- 对于全部的数据，$M \le 100$。

**【题目来源】**

NOIP 2005 普及组第三题

## 样例 #1

### 输入

```
70 3
71 100
69 1
1 2
```

### 输出

```
3```

# AI分析结果



### 综合分析与结论  
本题为经典的 **01背包问题**，所有题解均围绕动态规划展开，核心思路一致。题解差异主要体现在优化程度、代码简洁性、解释深度等方面。绝大多数题解正确使用一维或二维DP实现，其中一维滚动数组优化空间复杂度为最优解法。部分题解通过反例强调贪心不可行，少数题解尝试非主流解法（如随机贪心）但效果有限。

---

### 高星题解推荐  

#### 1. 作者：decoqwq（⭐⭐⭐⭐⭐）  
**关键亮点**：  
- 最详细的解释：通过具体例子逐步推导二维和一维DP的转移过程  
- 深入分析逆序循环原理，对比完全背包与01背包的差异  
- 代码清晰，注释完整，适合初学者深入理解  

**核心代码（一维优化）**：  
```cpp
for(int i=1; i<=m; i++) 
    for(int j=t; j>=w[i]; j--) 
        dp[j] = max(dp[j-w[i]] + val[i], dp[j]);
```

---

#### 2. 作者：xyx404（⭐⭐⭐⭐）  
**关键亮点**：  
- 引用OI-Wiki权威解释，结构严谨  
- 明确状态转移方程的数学推导  
- 代码简洁规范，适合快速模板化  

**核心代码（二维实现）**：  
```cpp
for(int i=1; i<=m; i++)
    for(int j=0; j<=t; j++)
        dp[i][j] = (j >= w[i]) ? max(dp[i-1][j], dp[i-1][j-w[i]]+v[i]) : dp[i-1][j];
```

---

#### 3. 作者：ljh0727（⭐⭐⭐⭐）  
**关键亮点**：  
- 明确区分普通二维DP与滚动数组优化  
- 代码提供两种实现版本，对比性强  
- 注释清晰，适合不同学习阶段需求  

**核心代码（滚动数组）**：  
```cpp
for(int i=1; i<=m; i++) 
    for(int j=n; j>=w[i]; j--) 
        dp[j] = max(dp[j-w[i]] + v[i], dp[j]);
```

---

### 最优关键思路总结  
1. **核心算法**：01背包动态规划，状态定义为 `dp[j]` 表示容量为 `j` 时的最大价值。  
2. **空间优化**：使用一维数组逆序更新，避免重复计算。  
3. **转移方程**：`dp[j] = max(dp[j], dp[j - w[i]] + v[i])`，仅当 `j >= w[i]` 时更新。  
4. **时间复杂度**：O(M*T)，空间复杂度：O(T)。  

---

### 拓展与举一反三  
1. **类似题目**：  
   - [P2871 Charm Bracelet](https://www.luogu.com.cn/problem/P2871)  
   - [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)（带权重价值）  
   - [P1164 小A点菜](https://www.luogu.com.cn/problem/P1164)（求方案数）  
2. **变种技巧**：  
   - 完全背包：正序更新一维数组  
   - 多维费用背包：增加状态维度（如 [P1507 NASA的食物计划](https://www.luogu.com.cn/problem/P1507)）  

---

### 题解心得摘录  
- **decoqwq**：通过具体背包容量10的逐步演算，直观展示一维数组更新过程，强调逆序必要性。  
- **rainygame**：尝试随机贪心但明确说明其局限性，体现对算法适用性的深刻理解。  
- **FXLIR**：注释提醒二维数组可能的空间问题，强调滚动数组优化的实际意义。

---
处理用时：42.67秒
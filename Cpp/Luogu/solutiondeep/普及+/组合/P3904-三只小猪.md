# 题目信息

# 三只小猪

## 题目背景

你听说过三只小猪的故事吗？这是一个经典的故事。很久很久以前，有三只小猪。第一只小猪用稻草建的房子，第二个小猪用木棍建的房子，第三个小猪则使用砖做为材料。一只大灰狼想吃掉它们并吹倒了稻草和木棍建的房子。但是砖盖的房子很结实，狼最终也没有破坏掉，最后小猪们战胜了大灰狼并把它尾巴烧掉了。


## 题目描述

为了自己的安全，小猪们又建造了一个新砖房。但是现在问题出现了，怎样把三个小猪分配到两个房子里呢？第三只小猪是三只小猪中最聪明的一只，为了不浪费任何一个房子，它总共考虑了三种方案，如下图

 ![](https://cdn.luogu.com.cn/upload/pic/6862.png) 

“但是将来怎么办呢？”第三只小猪知道将来随着成员的增多，它们将会盖更多的房子。它想知道给定了房子和猪的数目后，房子的分配方案有多少，但这个问题对于它来说，很明显有点难了，你能帮小猪解决这个问题吗？


## 样例 #1

### 输入

```
4 2```

### 输出

```
7```

## 样例 #2

### 输入

```
6 7```

### 输出

```
0```

# AI分析结果

### 综合分析与结论
这些题解都围绕将\(n\)只小猪分配到\(m\)个房子的方案数问题，一致采用第二类斯特林数求解。
 - **思路**：分析第\(n\)只小猪的放置情况，得出状态转移方程\(S(n,m)=S(n - 1,m - 1)+m×S(n - 1,m)\) ，即第\(n\)只小猪要么单独放一个新房间（对应\(S(n - 1,m - 1)\) ），要么放入已有的\(m\)个房间之一（对应\(m×S(n - 1,m)\) ）。
 - **算法要点**：通过二维数组记录状态，根据递推公式填充数组，最终得到\(S(n,m)\)的值。
 - **解决难点**：由于数据范围\(1≤n≤50\) ，\(0≤m≤50\)，结果数值大，需使用高精度运算（如高精加、高精乘）。

### 所选的题解
- **作者：_ZZH (5星)**
    - **关键亮点**：思路清晰，先阐述状态转移方程的推导，明确指出是第二类斯特林数，对高精度运算的实现细节有详细代码展示，通过自定义三维数组处理高精度数的每一位。
    - **重点代码**：
```cpp
void _change(int x,int y)
{
    if(y>x)return;
    if(x==1&&y==1)return;
    for(int i=1;i<=_size;i++)
        _ans[i]=0;
    _size=1;
    int _x=0;
    for(int i=1;i<=f[x-1][y][0];i++)
    {
        _ans[i]=f[x-1][y][i]*y+_x;
        _x=_ans[i]/10;
        _ans[i]%=10;
    }
    _size=f[x-1][y][0];
    if(_x!=0)
        _ans[++_size]=_x;
    f[x][y][0]=1;
    _x=0;
    while(f[x][y][0]<=f[x-1][y-1][0]||f[x][y][0]<=_size)
    {
        f[x][y][f[x][y][0]]=f[x-1][y-1][f[x][y][0]]+_ans[f[x][y][0]]+_x;
        _x=f[x][y][f[x][y][0]]/10;
        f[x][y][f[x][y][0]]%=10;
        f[x][y][0]++;
    }
    f[x][y][f[x][y][0]]=_x;
    if(f[x][y][f[x][y][0]]==0&&f[x][y][0]!=1)
        f[x][y][0]--;
}
```
    - **核心实现思想**：该函数实现了高精度数的乘法和加法运算，用于更新\(f[x][y]\)的值。先进行高精度乘法\(f[x - 1][y] * y\)，结果存于\(_ans\)数组，再与\(f[x - 1][y - 1]\)进行高精度加法，得到\(f[x][y]\)。
- **作者：xrk2006 (4星)**
    - **关键亮点**：不仅详细介绍第二类斯特林数的定义、递推式，还关联相似题目，对高精度运算部分有详细代码及注释，代码可读性强。
    - **重点代码**：
```cpp
string add(string a,string b)//高精度加法
{
    string ans;
    int l1=a.size(),l2=b.size();
    int lk=max(l1,l2);
    int u[maxn*10]={0},v[maxn*10]={0};
    for(int i=0;i<l1;i++)u[l1-i-1]=a[i]-'0';
    for(int i=0;i<l2;i++)v[l2-i-1]=b[i]-'0';
    for(int i=0;i<lk;i++)
    {
        u[i]+=v[i];
        u[i+1]+=u[i]/10;
        u[i]%=10;
    }
    if(u[lk])lk++;
    for(int i=lk-1;i>=0;i--)ans+=u[i]+'0';
    return ans;
}
string mul(string a,int b)//高精a*单精b
{
    string ans;
    int l=a.size();
    int u[maxn*10]={0};
    for(int i=l-1;i>=0;i--)u[l-i-1]=a[i]-'0';
    int w=0;
    for(int i=0;i<l;i++)
    {
        u[i]=u[i]*b+w;
        w=u[i]/10;
        u[i]%=10;
    }
    while(w)u[l++]=w%10,w/=10;
    for(int i=l-1;i>=0;i--)ans+=u[i]+'0';
    return ans;
}
```
    - **核心实现思想**：`add`函数实现高精度加法，将字符串形式的两个数转成数组进行加法运算，再转回字符串；`mul`函数实现高精度数与单精度数的乘法，同样先转数组运算，处理进位后转回字符串。
- **作者：bloodstalk (4星)**
    - **关键亮点**：对第二类斯特林数的定义、递推公式证明详细，代码实现中对高精度运算的处理清晰，使用结构体和内联函数，代码结构较好。
    - **重点代码**：
```cpp
il void calc(int x,int y)
{
    L[x][y] = max(L[x-1][y-1],L[x-1][y]);
    for(re int i=1;i<=L[x][y];i++)
    {
        S[x][y][i] += S[x-1][y-1][i] + y * S[x-1][y][i];
        S[x][y][i+1] += S[x][y][i] / 10;
        S[x][y][i] %= 10;
    }
    if(S[x][y][L[x][y]+1] > 0) L[x][y]++;
    while(S[x][y][L[x][y]] >= 10)
    {
        S[x][y][L[x][y]+1] = S[x][y][L[x][y]] / 10;
        S[x][y][L[x][y]] %= 10;
        L[x][y]++;
    }
}
```
    - **核心实现思想**：该函数用于计算\(S(x,y)\)的高精度值。先确定结果的最大长度，然后逐位进行加法和乘法运算并处理进位，最后更新结果的长度。

### 最优关键思路或技巧
 - **思路**：利用第二类斯特林数的递推关系，通过分析新元素（小猪）的放置方式构建状态转移方程，是解决此类分配问题的关键思路。
 - **技巧**：在代码实现上，对于高精度运算，可采用数组模拟数字的每一位进行加减乘运算，注意处理进位和结果长度变化。

### 可拓展之处
此类问题属于组合数学中的分配问题，相似套路是分析每个元素的分配情况构建递推关系。同类型题常涉及不同元素、不同容器（是否可区分、是否允许为空等）的组合分配。

### 推荐题目
 - [P1655 小朋友的球](https://www.luogu.com.cn/problem/P1655)：与本题模型相似，同样是将不同元素分配到相同容器且容器不能为空的问题。
 - [P5824 十二重计数法](https://www.luogu.com.cn/problem/P5824)：涵盖多种放球问题类型，可全面练习组合数学中不同条件下的计数问题。
 - [T188453 十二重计数法【弱化版】](https://www.luogu.com.cn/problem/T188453)：数据范围较小的十二重计数法问题，方便练习基础的组合计数方法。

### 个人心得摘录
 - **作者：TLEphage**：强调结构体在使用时要注意初始化，否则容易出错，如在高精乘和高精加函数中，对结构体数组的初始化若遗漏会导致程序运行错误。 

---
处理用时：47.67秒
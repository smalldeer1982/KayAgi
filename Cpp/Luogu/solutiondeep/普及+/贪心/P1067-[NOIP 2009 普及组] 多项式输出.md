# 题目信息

# [NOIP 2009 普及组] 多项式输出

## 题目描述

一元 $n$ 次多项式可用如下的表达式表示：

$$f(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots +a_1x+a_0,a_n\ne 0$$

其中，$a_ix^i$ 称为 $i$ 次项，$a_i$ 称为 $i$ 次项的系数。给出一个一元多项式各项的次数和系数，请按照如下规定的格式要求输出该多项式：

1. 多项式中自变量为 $x$，从左到右按照次数递减顺序给出多项式。

2. 多项式中只包含系数不为 $0$ 的项。

3. 如果多项式 $n$ 次项系数为正，则多项式开头不出 `+` 号，如果多项式 $n$ 次项系数为负，则多项式以 `-` 号开头。

4. 对于不是最高次的项，以 `+` 号或者 `-` 号连接此项与前一项，分别表示此项系数为正或者系数为负。紧跟一个正整数，表示此项系数的绝对值（如果一个高于 $0$ 次的项，其系数的绝对值为 $1$，则无需输出 $1$）。如果 $x$ 的指数大于 $1$，则接下来紧跟的指数部分的形式为“$x^b$”，其中 $b$ 为 $x$ 的指数；如果 $x$ 的指数为 $1$，则接下来紧跟的指数部分形式为 $x$；如果 $x$ 的指数为 $0$，则仅需输出系数即可。

5. 多项式中，多项式的开头、结尾不含多余的空格。


## 说明/提示

NOIP 2009 普及组 第一题

对于100%数据，$0 \le n \le 100$，$-100 \le $系数$ \le 100$

---

$\text{upd 2022.8.1}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 
100 -1 1 -3 0 10```

### 输出

```
100x^5-x^4+x^3-3x^2+10```

## 样例 #2

### 输入

```
3 
-50 0 0 1 
```

### 输出

```
-50x^3+1 
```

# AI分析结果



### 综合分析与结论
本题属于格式化输出的模拟题，关键在于处理多项式的符号、系数、指数及各边界条件。各题解主要通过分情况讨论和标志变量处理首项符号，但部分解法未正确判断实际最高次项的位置。最优思路为使用标志变量跟踪首项，确保符号正确，并分步骤处理系数和指数。

---

### 所选高分题解

#### 1. 邪王真眼Rikka（4星）
**关键亮点**：  
- 分三阶段（符号、系数、指数）处理，逻辑清晰。  
- 使用`flag`标记首项，正确判断符号输出。  
**个人心得**：  
> “分清楚输出阶段可以缩短代码。”

**核心代码**：
```cpp
int main() {
    int a[101], n, flag = 1;
    scanf("%d", &n);
    for (int i = n; i >= 0; i--) scanf("%d", &a[i]);
    for (int i = n; i >= 0; i--) {
        if (a[i] == 0) continue;
        // 符号判断
        if ((flag == 1 && a[i] < 0) || (a[i] < 0)) printf("-");
        else if (flag == 0 && a[i] > 0) printf("+");
        if (a[i] != 0) flag = 0;
        // 系数处理
        if (abs(a[i]) != 1 || i == 0) printf("%d", abs(a[i]));
        // 指数处理
        if (i > 1) printf("x^%d", i);
        else if (i == 1) printf("x");
    }
    return 0;
}
```

#### 2. GZXUEXUE（4星）
**关键亮点**：  
- 用`out`变量标记是否为首项，简化符号判断。  
- 代码简洁，正确处理各类边界条件。  

**核心代码**：
```cpp
int main() {
    int n, a;
    bool out = false;
    cin >> n;
    for (int i = n; i >= 0; i--) {
        cin >> a;
        if (a) {
            // 符号处理
            if (a == 1) {
                if (out) cout << "+";
                if (i == 0) cout << 1;
            } else if (a == -1) {
                cout << "-";
                if (i == 0) cout << 1;
            } else {
                if (a > 0 && out) cout << "+";
                cout << a;
            }
            // 指数处理
            if (i > 0) cout << (i > 1 ? "x^" + to_string(i) : "x");
            out = true;
        }
    }
    return 0;
}
```

---

### 最优思路总结
1. **标志变量**：用`flag`或`out`标记首项，确保首项符号正确。
2. **分阶段处理**：依次处理符号→系数→指数，避免逻辑交叉。
3. **特判系数±1**：仅当系数绝对值非1或为常数项时输出数值。
4. **指数格式**：按>1、==1、==0分情况处理。

---

### 推荐相似题目
1. [P1022 计算器的改良](https://www.luogu.com.cn/problem/P1022)  
2. [P1051 谁拿了最多奖学金](https://www.luogu.com.cn/problem/P1051)  
3. [P1598 垂直柱状图](https://www.luogu.com.cn/problem/P1598)

---
处理用时：247.53秒
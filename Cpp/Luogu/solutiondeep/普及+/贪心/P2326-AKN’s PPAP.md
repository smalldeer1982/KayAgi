# 题目信息

# AKN’s PPAP

## 题目描述

“I have a pen,I have an apple.Eh,Apple-Pen!.

I have a pen,I have pineapple.En,Pineapple-Pen!

Apple-Pen,Pineapple-Pen.Eh,Pen-Pineapple-Apple-Pen!”

Akn最近中毒于一首音乐，于是他买来了一堆苹果来学习这首音乐。Akn发现，只要边唱这首歌，边做把两个完整的苹果碰在一起的动作，两个苹果就会融合成一个新的大苹果，但是大苹果却不能再融合，因为他的细胞内部结构已经改变。Akn还发现，当两个苹果融合的时候，苹果的质量会发生一些玄妙的改变，就是与运算（a&b）。但是，最近他的同学找他要一个苹果吃，akn出于好心，准备把他学习ppap用的苹果融合成的大苹果给同学吃，好让同学一起中毒于ppap，而且akn还想让大苹果的质量最大，那么请问akn能给同学吃的苹果质量最大是多少？


## 说明/提示

由于数据包大小限制，故只上传部分数据（第1,2,3,4,5,6,7,8,10,11,12,13,16,19,20点）

第一组数据解释：

```cpp
1(2)=1
3(2)=11
5(2)=101
7(2)=111
```
选取5和7进行融合最终得到答案5
数据范围

10%的数据n≤5000，t≤1

另有10%的数据n≤2000，t≤6

另有20%的数据a≤2^10

另有5%的数据n≤10^5，a≤2^20，最大的两个数相等

另有20%的数据n≤10^4，a≤2^15

另有15%的数据n≤10^5，a≤2^20，t≤6

另有15%的数据n≤10^5，a≤2^20，t≤12

100数据n≤10^5，a≤2^20，t≤20

By：worcher


## 样例 #1

### 输入

```
3
4
1 3 5 7
10
32 54 21 52 14 25 92 75 14 27
21
1 2 4 8 16 32 64 128 256 512 1024 2048 4096 8192 16384 32768 65536 131072 262144 524288 1048576
```

### 输出

```
Case #1: 5 
Case #2: 72
Case #3: 0
```

# AI分析结果



### 综合分析与结论
题目要求找出两数按位与的最大值。最优解法基于贪心思想：从高位到低位逐位筛选，保留当前位为1的数，逐步缩小候选范围。时间复杂度为O(n*log(max_bit))，高效且正确。

---

### 高星题解推荐

#### 1. 作者：7wwwwth（★★★★★）
**关键亮点**：  
- 清晰的贪心思路，逐位筛选保留候选数  
- 代码简洁高效（O(20n)），直接处理原始数组  
- 正确性保证：高位优先处理，确保结果最大化  

**核心代码**：
```cpp
int work(){
    cin>>n; 
    for(int k=20;k>=0;k--){ // 从最高位开始处理
        int top=0; 
        for(int i=1;i<=n;i++) 
            if(a[i]&(1<<k)) b[++top]=a[i]; // 筛选当前位为1的数
        if(top>1){ // 保留足够多的候选
            for(int i=1;i<=top;i++) a[i]=b[i];
            n=top;
        }
    }
    return (a[1]&a[2]); // 剩余候选的前两数相与
}
```

#### 2. 作者：sel_fish（★★★★☆）
**关键亮点**：  
- 对贪心思路的详细解释，适合新手理解  
- 代码与7wwwwth一致，但添加了注释说明每一步逻辑  
- 强调位运算的贪心本质，强化算法正确性理解  

**个人心得**：  
> "高位决定数值大小，必须优先处理。只有保留足够多的高位候选，才能保证后续低位筛选的正确性。"

#### 3. 作者：柠檬草苏打水（★★★★☆）
**关键亮点**：  
- 与7wwwwth相同的贪心实现，变量命名更清晰  
- 代码结构紧凑，适合快速学习核心逻辑  

---

### 关键思路总结
1. **位贪心**：从最高位（如20位）开始，依次检查每位是否能保留在结果中。
2. **动态筛选**：若当前位有至少两个数含1，仅保留这些数作为后续处理的候选。
3. **逐步缩小**：每处理完一位，候选数组规模可能减小，最终仅需取前两数相与。

---

### 拓展与同类题目
1. **举一反三**：类似位贪心思想的问题包括最大异或对（如LOJ #10050）、子集最大或值（如CF 959F）等。
2. **优化技巧**：在逐位处理时，通过原地覆盖数组减少空间开销，提升缓存效率。

---

### 推荐练习题
1. [P2114 起床困难综合症](https://www.luogu.com.cn/problem/P2114)  
   - **相似点**：位运算贪心，按位决策最大化结果。
2. [P4593 教科书般的亵渎](https://www.luogu.com.cn/problem/P4593)  
   - **相似点**：位运算与数学结合，需逐位分析贡献。
3. [CF 276D Little Girl and Maximum XOR](https://codeforces.com/problemset/problem/276/D)  
   - **相似点**：区间内找两数异或最大值，位贪心经典问题。

---
处理用时：68.59秒
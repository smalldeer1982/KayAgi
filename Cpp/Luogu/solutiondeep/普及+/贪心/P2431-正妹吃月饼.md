# 题目信息

# 正妹吃月饼

## 题目描述

今天是中秋节。uim 带来了一堆大小不同且味道各异的月饼。

这些月饼的质量分别是 $1g,2g,4g,8g,16g$....后面一个是前面的 $2$ 倍。每种只有一个。

uim 让正妹随便吃。

正妹希望尝试尽可能多的口味，所以会吃尽可能多数量的月饼（不是重量）。而且她的确有些饿了，至少总共要吃掉 $A\text{g}$ 的月饼才能满足。

然而正妹怕长胖，所以吃月饼不能合计超过 $B\text{g}$ 。

她希望知道自己最多能吃多少个月饼


## 说明/提示

**样例解释**：

正妹可以吃 $1,2,4,16$ 这 $4$ 个月饼（吃法可能不唯一）。

**数据范围**：

对于 $30\%$ 数据，$1\le A,B \le 1000$；

对于 $60\%$ 数据，$1 \le A,B \le 100000$；

对于 $100\%$ 数据，$1 \le A,B \le 2^{63}-1$。


## 样例 #1

### 输入

```
16 25```

### 输出

```
4```

# AI分析结果



### 综合分析与结论
本题核心是寻找区间[A,B]内二进制表示中1的个数最多的数。最优解法基于位运算的贪心策略：通过低位填充1的方式最大化1的数量，同时确保结果在区间内。

---

### 精选题解与评分

#### 1. 题解作者：Invoker (★★★★★)
**关键亮点**：  
- 思路简洁高效，通过 `l |= l + 1` 不断将最低位的0变为1，快速逼近区间上限。
- 时间复杂度 O(log B)，完美处理大数范围。
- 代码仅需6行，可读性极强。

**核心代码**：
```cpp
while ((l | (l + 1)) <= r) l |= l + 1;
while (l) ans += l & 1, l >>= 1;
```
**实现思想**：  
从最低位开始逐步填充1，直到无法继续填充，最后统计1的个数。

---

#### 2. 题解作者：Nero_Claudius (★★★★☆)
**关键亮点**：  
- 与Invoker思路一致，但代码中强调 `long long` 类型的重要性。
- 包含调试经验：忽略 `long long` 会导致大数溢出错误。

**核心代码**：
```cpp
while ((a | (a + 1)) <= b) a |= a + 1;
while (a) ans += a & 1, a >>= 1;
```
**个人心得**：  
作者特别指出数据类型的选择对边界条件的影响，提醒开发者注意数值范围。

---

#### 3. 题解作者：zrzluck99 (★★★★☆)
**关键亮点**：  
- 利用异或快速定位不同位，尝试填充后续位为1。
- 代码简短但需特殊处理全1情况，启发式思维值得借鉴。

**核心代码**：
```cpp
long long t = x ^ y;
while (t > 0) t >>= 1, x |= t;
```
**实现思想**：  
通过异或找到最高不同位，填充其后所有低位为1，结合两种极端情况取最优解。

---

### 关键思路总结
- **贪心填充低位**：从最低位的0开始填充为1，直到超过区间上限（如 `l |= l + 1`）。
- **全1数特性**：区间内最大的全1二进制数（如 `2^n - 1`）一定是候选解。
- **位运算优化**：利用位操作（`|`、`&`、`^`）快速调整数值，避免逐位遍历。

---

### 拓展与应用
1. **类似题目套路**：  
   - 求区间内二进制性质最优解（如最多1、最少0等）。
   - 利用位运算快速逼近边界条件（如Codeforces 485C）。

2. **推荐练习题**：  
   - [P2114 [NOI2016] 区间最大](https://www.luogu.com.cn/problem/P2114)（位运算贪心）
   - [P1582 倒水](https://www.luogu.com.cn/problem/P1582)（二进制合并优化）
   - [P4317 花神的数论题](https://www.luogu.com.cn/problem/P4317)（统计二进制1的个数）

---
处理用时：63.88秒
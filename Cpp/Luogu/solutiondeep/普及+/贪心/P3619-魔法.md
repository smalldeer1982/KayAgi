# 题目信息

# 魔法

## 题目描述

cjwssb 知道是误会之后，跟你道了歉。你为了逗笑他，准备和他一起开始魔法。不过你的时间不多了，但是更惨的是你还需要完成 $n$ 个魔法任务。假设你当前的时间为 $T$，每个任务需要有一定的限制 $t_i$ 表示只有当你的 $T$ 严格大于 $t_i$ 时你才能完成这个任务，完成任务并不需要消耗时间。当你完成第 $i$ 个任务时，你的时间 $T$ 会加上 $b_i$，此时要保证 $T$ 在任何时刻都大于 $0$，那么请问你是否能完成这 $n$ 个魔法任务，如果可以，输出 $\texttt{+1}\texttt{s}$，如果不行，输出 $\texttt{-1}\texttt{s}$。


## 说明/提示

对于 $20\%$ 的数据，$n\leq10$；

对于 $100\%$ 的数据，$n\leq10^5,Z\leq10,t_i\leq10^5,T\leq10^5,-10^5\leq b_i\leq 10^5$。

By lantian

$\LaTeX$ By ⚡炭治郎⚡

## 因为历史遗留问题，博客讨论可能无法发出样例输出的字符串，可以考虑使用其他方式规避。


## 样例 #1

### 输入

```
1
2 13
1 -9
5 -3
```

### 输出

```
+1s
```

# AI分析结果



### 综合分析与结论
本题需通过贪心策略完成两类任务（b>0和b<0），核心难点在于负收益任务的排序策略推导。最优解法采用正收益任务按t_i升序，负收益任务按(t_i + b_i)降序处理。正确性通过交换论证法证明，确保每一步选择都能最大化后续操作的可能性。

---

### 精选题解分析

#### 1. 作者：lwz2002（★★★★★）
**关键亮点**  
- 通过严谨的数学推导证明负收益任务的排序策略  
- 代码结构清晰，分离正负任务处理逻辑  
- 包含关键测试用例的思考过程（如样例分析）  
**核心代码**  
```cpp
sort(a+1,a+cnt+1,cmp); // 正收益按t升序
sort(f+1,f+num+1,comp); // 负收益按t+b降序
for(处理正任务){
    if(T > t_i) T += b_i else fail;
}
for(处理负任务){
    if(T > t_i) T += b_i else fail;
    check T > 0;
}
```

#### 2. 作者：紊莫（★★★★☆）
**关键亮点**  
- 使用临项交换法清晰证明排序策略的正确性  
- 代码实现简洁高效，采用vector分组处理  
**个人心得引用**  
> "通过构造交换条件，最终化简得到t1+b1 > t2+b2的排序依据，这是贪心策略的核心推导步骤。"

#### 3. 作者：长安何处在（★★★★）
**创新思路**  
- 提出倒序处理负收益任务，转化为正收益问题  
- 引入总和预计算，巧妙处理时间约束  
**代码亮点**  
```cpp
for(预处理负任务总和sum){
    T_new = sum; // 逆推初始时间
    sort负任务按t_i - b_i升序（等价t_i + |b_i|升序）
}
```

---

### 关键技巧总结
1. **分类处理**：分离正/负收益任务，分别采用不同排序策略  
2. **数学推导**：通过交换相邻项的不等式约束，得到t_i + b_i的排序依据  
3. **实时校验**：每次操作后立即检查时间合法性，避免后续无效计算  

---

### 同类题目推荐
1. **P1080 国王游戏**（贪心排序+大数处理）  
2. **P1248 加工生产调度**（双机调度经典贪心模型）  
3. **P2123 皇后游戏**（临项交换法推导排序规则）  

---

### 调试经验摘录
- **lwz2002**提到82分卡点源于负数任务处理顺序的错误  
- **Digital_Sunrise**警示错误代码`T=T-b[i]+t[i]`的常见逻辑错误  
- **DоsLikе**强调必须清空优先队列，否则残留数据导致错误（73分教训）  

核心教训：**贪心策略必须严格数学证明，边界条件需单独验证**。

---
处理用时：56.31秒
# 题目信息

# [USACO22OPEN] Photoshoot B

## 题目描述

迫切希望在郡县集市上赢得最佳奶牛摄影师的 Farmer John 正在尝试为他的 $N$ 头奶牛拍摄一张完美的照片（$2 \leq N \leq 2\cdot 10^5$，$N$ 为偶数）。

Farmer John 拥有两种品种的奶牛：更赛牛（Guernsey）和荷斯坦牛（Holstein）。为了使他的照片尽可能地艺术，他想把他的奶牛排成一排，使得尽可能多的更赛牛处于队列中的偶数位置（队列中的第一个位置是奇数位置，下一个是偶数位置，以此类推）。由于他与他的奶牛缺乏有效的沟通，他可以达到目的的唯一方法是让他的奶牛的偶数长的「前缀」进行反转（一个前缀指的是对于某个位置 $j$，从第一头奶牛到第 $j$ 头奶牛范围内的所有奶牛）。

请计算 Farmer John 达到目的所需要的最小反转次数。


## 说明/提示

【样例解释】

在这个例子中，只需反转由前六头奶牛组成的前缀即可。
```
   GGGHGHHGHHHGHG （反转前）
-> HGHGGGHGHHHGHG （反转后）
```
在反转之前，四头更赛牛处于偶数位置。反转后，六头更赛牛处于偶数位置。不可能使得超过六头更赛牛处于偶数位置。

【测试点性质】

- 测试点 2-6 满足 $N\le 1000$。
- 测试点 7-11 没有额外限制。

## 样例 #1

### 输入

```
14
GGGHGHHGHHHGHG```

### 输出

```
1```

# AI分析结果



### 综合分析与结论
题目核心是将偶数位置的最多G转化为01序列处理，通过统计相邻差异确定最小反转次数。关键思路是两两分组，将GH/HG转为二进制标记，忽略相同组，最终转化为连续段统计问题。

### 精选题解推荐

#### 1. 作者：yzyjh (★★★★★)
**关键亮点**  
- 将相邻字符转为0/1标记，构建差异数组  
- 通过相邻差异计数确定反转次数  
- 简洁高效的O(n)实现，处理末尾情况巧妙  
**核心代码思想**  
```cpp
vector<int> p; // 存储GH/HG的标记
for(i=1;i<=n;i+=2) {
    if(s[i]!=s[i+1]) 
        p.push_back(s[i]=='G'?1:0); 
}
int cnt=0;
for(i=1;i<p.size();i++)
    cnt += (p[i-1]!=p[i]);
cout << cnt + (p.back()==1);
```

#### 2. 作者：hhhqx (★★★★☆)
**关键亮点**  
- 类比硬币翻转问题，转化为全1序列的最优解  
- 通过连续块计数简化问题，代码实现高效  
**核心思路**  
> 将GH视为0，HG视为1，统计连续块变化次数。每个非全1块需两次翻转（首尾边界处理），最后特判末尾。

#### 3. 作者：Zero_s (★★★★☆)
**优化亮点**  
- 滚动变量优化空间至O(1)  
- 跳过无效字符组，提升实际运行效率  
**代码片段**  
```cpp
while(s[i]==s[i+1]) i+=2; // 跳过相同组
for(;i<n;i+=2) {
    if(s[i]!=s[i+1]) {
        int f2 = (s[i]=='G'); 
        ans += (f1 != f2);
        f1 = f2;
    }
}
```

### 关键技巧总结
1. **分组转化**：两两分组处理，将GH/HG转为二进制标记，相同组直接忽略  
2. **差异计数**：相邻标记差异代表需要反转的分界点  
3. **末尾处理**：根据最后一个标记决定是否追加反转  
4. **滚动优化**：用变量代替数组存储，降低空间复杂度  

### 同类题目推荐
1. P2708 硬币翻转 - 简单01串翻转问题  
2. P1325 雷达安装 - 区间覆盖与贪心选择  
3. CF1430E 字符串相邻交换 - 字符位置最优化的贪心策略  

### 题解心得摘录
- **yzyjh**：忽略相同组的处理是解题关键，需注意末尾标记的特殊情况  
- **Zero_s**：发现滚动变量可优化空间后，"强迫症"促使重构代码实现极简  
- **hhhqx**：类比经典红题思路时，需注意本题特有的末尾处理规则差异

---
处理用时：74.39秒
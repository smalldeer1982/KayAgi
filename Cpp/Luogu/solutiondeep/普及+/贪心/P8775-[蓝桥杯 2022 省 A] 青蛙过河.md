# 题目信息

# [蓝桥杯 2022 省 A] 青蛙过河

## 题目描述

小青蛙住在一条河边，它想到河对岸的学校去学习。小青蛙打算经过河里的石头跳到对岸。

河里的石头排成了一条直线，小青蛙每次跳跃必须落在一块石头或者岸上。不过，每块石头有一个高度，每次小青蛙从一块石头起跳，这块石头的高度就会下降 $1$，当石头的高度下降到 $0$ 时小青蛙不能再跳到这块石头上（某次跳跃后使石头高度下降到 $0$ 是允许的)。

小青蛙一共需要去学校上 $x$ 天课，所以它需要往返 $2x$ 次。当小青蛙具有一个跳跃能力 $y$ 时，它能跳不超过 $y$ 的距离。

请问小青蛙的跳跃能力至少是多少才能用这些石头上完 $x$ 次课。

## 说明/提示

**【样例解释】**

由于只有两块高度为 $1$ 的石头，所以往返只能各用一块。第 $1$ 块石头和对岸的距离为 $4$，如果小青蛙的跳跃能力为 $3$ 则无法满足要求。所以小青蛙最少需要 $4$ 的跳跃能力。

**【评测用例规模与约定】**

对于 $30 \%$ 的评测用例，$n \leq 100$;

对于 $60 \%$ 的评测用例，$n \leq 1000$;

对于所有评测用例，$1 \leq n \leq 10^{5}, 1 \leq x \leq 10^{9}, 0 \leq H_{i} \leq 10^{4}$ 。 

蓝桥杯 2022 省赛 A 组 F 题。

## 样例 #1

### 输入

```
5 1
1 0 1 0```

### 输出

```
4```

# AI分析结果



### 综合分析
本题核心在于发现**所有长度为y的区间和≥2x**的充要条件。主要解法分为两类：
1. **双指针法**：滑动窗口求满足条件的最小窗口长度，时间复杂度O(n)
2. **二分法**：对y二分，用前缀和验证所有区间，时间复杂度O(n logn)

### 高星题解推荐
---

#### 题解1：Y_ATM_K（⭐️⭐️⭐️⭐️⭐️）
**关键亮点**：
- 提出充要条件并给出严谨数学证明
- 双指针实现简洁高效，时间复杂度O(n)
- 代码仅15行，滑动窗口逻辑清晰

**核心代码**：
```cpp
int ans = 0;
for(int i=1,j=0,sum=0; i<n; ++i) {
    while(j<n && sum<T) sum += h[++j];
    ans = max(ans, j-i+1);
    sum -= h[i];
}
```
**实现思想**：维护滑动窗口[i,j]，当窗口和不足时扩展j，满足条件时收缩i并更新最大窗口长度。

---

#### 题解2：xhgua（⭐️⭐️⭐️⭐️）
**关键亮点**：
- 详细拆解二分思路，给出区间跳跃的模拟过程
- 提供完整前缀和验证模板代码
- 代码可读性强，包含详细注释

**核心代码**：
```cpp
bool check(int y) {
    for(int i=y; i<=n-1; i++) 
        if(sum[i]-sum[i-y] < 2*x) return false;
    return true;
}
```
**实现思想**：二分y值，通过前缀和快速验证每个长度为y的区间是否满足总和≥2x。

---

#### 题解3：卷王（⭐️⭐️⭐️⭐️）
**关键亮点**：
- 结合双指针与贪心思想图解跳跃过程
- 代码极简（仅20行），突出算法核心逻辑
- 用变量命名明确体现物理意义（sum表当前窗口和）

---

### 最优思路总结
**核心技巧**：将往返问题转化为区间覆盖问题，发现**区间和的充要条件**。  
**思维突破点**：跳跃过程等价于所有长度为y的区间被踩2x次，因此必须满足区间和≥2x。  
**实现优化**：双指针法比二分更高效，滑动窗口维护动态区间和。

---

### 同类题目推荐
1. [P2678 跳石头](https://www.luogu.com.cn/problem/P2678) - 二分答案经典题
2. [P2218 覆盖问题](https://www.luogu.com.cn/problem/P2218) - 滑动窗口应用
3. [CF965D Single-use Stones](https://codeforces.com/problemset/problem/965/D) - 本题原型题，双指针直接应用

---

### 个人心得摘录
> **Y_ATM_K**提到："让2x只青蛙一起跳，模拟发现每个区间必须承载足够次数"  
> **调试启示**：用极端样例（如所有h[i]=0）验证边界条件，避免漏判n=1的情况。  
> **顿悟点**：将往返次数转化为青蛙数量，将时序问题转为空间覆盖问题，是本题最关键的一步抽象。

---
处理用时：56.29秒
# 题目信息

# 「DTOI-4」排列

## 题目背景

**Update on 2023.2.1：新增一组针对 @[yuanjiabao](https://www.luogu.com.cn/user/455558) 的 Hack 数据，放置于 #21。**

**Update on 2023.2.2：新增一组针对 @[CourtesyWei](https://www.luogu.com.cn/user/664070) 和 @[bizhidaojiaosha](https://www.luogu.com.cn/user/613616) 的 Hack 数据，放置于 #22。**

------------

~~构造一个排列 $p$，使得~~$\small\color{white}{下标为奇数的项之和 \geq a 且下标为偶数的项之和 \geq b。}$

## 题目描述

小 L 给你一个**偶数** $n$ 和两个整数 $a, b$，请你构造一个长为 $n$ 的排列 $p$，使得其满足 $\displaystyle\sum_{i = 1}^{\frac{n}{2}} p_i \geq a$ 且 $\displaystyle\sum_{i = \frac{n}{2} + 1}^{n} p_i \geq b$。

## 说明/提示

**本题开启 Special Judge。**

| $\textbf{Subtask}$ | $n$ | $a, b$ | 分值 |
| :------: | :------: | :------: | :------: |
| $1$ | $2 \leq n \leq 10$ | 无特殊限制 | $20 \operatorname{pts}$ |
| $2$ | 无特殊限制 | $a = b = 0$ | $10 \operatorname{pts}$ |
| $3$ | 同上 | $a = 0$ 或 $b = 0$ | $10 \operatorname{pts}$ |
| $4$ | 同上 | 无特殊限制 | $60 \operatorname{pts}$ |

对于 $100\%$ 的数据，$2 \leq n, \sum n \leq 10^5$，$0 \leq a, b \leq \frac{n(n + 1)}{2}$，$1 \leq T \leq 10$，$n$ 为**偶数**。

## 样例 #1

### 输入

```
2
6 6 12
6 8 14```

### 输出

```
1 6 2 5 3 4
-1```

# AI分析结果



### 综合分析与结论
本题核心在于构造排列的前半和≥a且后半和≥b。各题解主要采用贪心策略调整前半部分，确保后半剩余足够大。最优思路是通过数学计算确定最小调整次数，使前半刚好满足a，后半自然满足b。

### 高星题解推荐
#### 1. Leasier（★★★★★）
**关键亮点**：数学分情况处理，利用等差数列公式计算调整步长，确保构造高效且边界清晰。  
**核心思路**：
- 分a < b和a ≥ b处理，对称逻辑。
- 计算前半基础总和，通过移动次数和余数调整每个元素，确保总和精准达到a。
- 剩余元素自动构成后半，直接验证总和。

**核心代码**：
```cpp
ll sum = sum1(m);
if (t1 - sum < b) { /* 无解处理 */ }
// 调整前半部分
ll t2 = (a - sum) / m;
a = (a - sum) % m;
for (int j = 1; j <= m; j++) ans[j] += t2;
for (ll j = 1; j <= a; j++) ans[m - j + 1]++;
```

#### 2. 青白呀（★★★★）
**关键亮点**：系统替换策略，通过替换前段元素增加总和，利用模运算精准调整。  
**核心思路**：
- 初始选最小前半，逐步将元素替换为后半较大值。
- 计算需替换次数和余数，确保不重复且总和刚好满足a。

**调试心得**：需注意替换次数上限为n/2，避免越界。通过vis数组标记确保元素唯一。

#### 3. Jeefy（★★★★）
**关键亮点**：贪心构造前半最小合法集合，剩余元素自然组成后半。  
**核心思路**：
- 从最小开始，逐步替换为后半更大元素，直到满足a。
- 直接遍历未使用元素输出后半，简洁高效。

**核心代码**：
```cpp
for (int i = k; i && need; --i) {
    if (top - i < need) {
        swap(p[i], top--); // 替换并调整总和
    } else {
        p[i] += need; // 精准调整
        break;
    }
}
```

### 最优思路提炼
1. **数学调整法**：计算基础前段和，通过等差数列确定替换次数和余数，直接构造合法前半。
2. **贪心替换策略**：每次替换差值最大的元素，快速逼近目标值，确保后半足够大。
3. **对称处理**：分a < b和a ≥ b两种情况，逻辑对称简化处理。

### 同类题目推荐
1. **P1963 [NOIP2015 提高组] 子串**（构造特定和排列）
2. **P2894 [USACO08FEB]Hotel G**（区间分配与贪心）
3. **P1157 组合的输出**（排列构造与条件约束）

### 关键实现技巧
- **数学公式应用**：利用等差数列求和快速计算边界条件。
- **贪心替换**：优先替换差值大的元素，最大化每一步调整效果。
- **标记数组**：使用vis数组确保元素唯一，简化输出逻辑。

### 调试与顿悟
- **青白呀**：发现替换次数受n/2限制，避免无限循环。
- **lcbridge**：通过双指针交替移动处理剩余差值，确保不遗漏情况。
- **E1_de5truct0r**：验证每次swap后的和变化，避免误差累积。

---
处理用时：67.64秒
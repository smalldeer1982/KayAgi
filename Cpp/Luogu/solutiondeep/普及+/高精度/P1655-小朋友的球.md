# 题目信息

# 小朋友的球

## 题目描述

@发源于 小朋友最近特别喜欢球。有一天他脑子抽了，从口袋里拿出了 $N$ 个不同的球，想把它们放到 $M$ 个相同的盒子里，并且要求每个盒子中至少要有一个球，他好奇有几种放法，于是尝试编程实现，但由于他天天不好好学习，只会上 B 站看游泳教练，于是他向你求助。

## 说明/提示

- 对于 $20\%$ 的数据，满足 $N,M \leq 10$；
- 对于 $100\%$ 的数据，满足 $1 \leq N,M \leq 100$，一个测试文件最多有 $10$ 组测试数据。


## 样例 #1

### 输入

```
4 2
1 1```

### 输出

```
7
1```

# AI分析结果

### 综合分析与结论
这些题解均围绕将 \(N\) 个不同球放入 \(M\) 个相同且非空盒子的方案数问题，核心算法为基于第二类斯特林数的动态规划，难点在于处理可能超出常规数据类型范围的结果，需使用高精度运算。各题解思路相似，主要差别在高精度实现方式及代码风格。

### 所选的题解
- **作者：Heartlessly (5星)**
    - **关键亮点**：思路清晰，先点明算法为动态规划结合高精度，类比类似题目，给出状态转移方程并详细注释代码，可读性高。
    - **个人心得**：无
    - **核心代码片段**：
```cpp
string add(string a,string b){
    string ans;
    int na[L]={0},nb[L]={0};
    int la=a.size(),lb=b.size();
    for(int i=0;i<la;i++) na[la-1-i]=a[i]-'0';
    for(int i=0;i<lb;i++) nb[lb-1-i]=b[i]-'0';
    int lmax=la>lb?la:lb;
    for(int i=0;i<lmax;i++) na[i]+=nb[i],na[i+1]+=na[i]/10,na[i]%=10;
    if(na[lmax]) lmax++;
    for(int i=lmax-1;i>=0;i--) ans+=na[i]+'0';
    return ans;
}
int na[L];
string mul(string a,int b){
    string ans;
    int La=a.size();
    fill(na,na+L,0);
    for(int i=La-1;i>=0;i--) na[La-i-1]=a[i]-'0';
    int w=0;
    for(int i=0;i<La;i++) na[i]=na[i]*b+w,w=na[i]/10,na[i]=na[i]%10;
    while(w) na[La++]=w%10,w/=10;
    La--;
    while(La>=0) ans+=na[La--]+'0';
    return ans;
}
//...
for ( int i = 1; i <= 100; i++ )
    f[i][1] = "1";
for ( int i = 2; i <= 100; i++ )
    for ( int j = 1; j <= i; j++ )
        f[i][j] = add ( f[i-1][j-1], mul ( f[i-1][j], j ) );
```
    - **核心实现思想**：通过自定义 `add` 函数实现高精度加法，`mul` 函数实现高精度乘单精度，在动态规划递推过程中使用这两个函数进行高精度运算。
- **作者：HPXXZYY (4星)**
    - **关键亮点**：详细列出预备算法，对高精度运算通过重载运算符实现，使代码使用起来更直观，类似使用基本数据类型。
    - **个人心得**：推荐提前定义好高精度运算，使用时更方便。
    - **核心代码片段**：
```cpp
struct node{
    int len,num[1100];
    node(){
        len=0;init(num,0);
    }
    node operator + (node a){
        register node c;
        register int x=0,i;
        c.len=max(this->len,a.len);
        for(i=1;i<=c.len;i++){
            c.num[i]=a.num[i]+this->num[i]+x;
            x=c.num[i]/10;c.num[i]%=10;
        }
        if (x) c.num[++c.len]=x;
        return c;
    }
    node operator * (int a){
        register node c=*this;
        register int x=0,i;
        for(i=1;i<=c.len;i++){
            c.num[i]=c.num[i]*a+x;
            x=c.num[i]/10;c.num[i]%=10;
        }
        while (x){
            c.num[++c.len]=x%10;x/=10;
        }
        return c;
    }
    void write(){
        for(int i=len;i;i--)
            printf("%d",num[i]);
        printf("\n");
    }
}f[110][110];
//...
for(i=1;i<101;i++){
    f[i][1].len=1;
    f[i][1].num[1]=1;
}
for(i=2;i<101;i++)
    for(j=1;j<=i;j++)
        f[i][j]=f[i-1][j-1]+(f[i-1][j]*j);
```
    - **核心实现思想**：定义 `node` 结构体表示高精度数，重载 `+` 和 `*` 运算符实现高精度加法和高精度乘单精度运算，在动态规划中运用重载后的运算符进行递推。
- **作者：李若谷 (4星)**
    - **关键亮点**：从DP思想出发自行推出状态转移方程，使用 `vector` 作为大整数类的基类，利用其特性简化高精度实现，代码简洁。
    - **个人心得**：无
    - **核心代码片段**：
```cpp
struct Wint:vector<int>{
    Wint(int n=0){
        push_back(n);
        check();
    }
    Wint& check(){
        while(!empty()&&!back())pop_back();
        if(empty())return *this;
        for(int i=1; i<size(); ++i){
            (*this)[i]+=(*this)[i-1]/10;
            (*this)[i-1]%=10;
        }
        while(back()>=10){
            push_back(back()/10);
            (*this)[size()-2]%=10;
        }
        return *this;
    }
};
// 输入输出及运算符重载略
Wint dp[N][N];
//...
dp[0][0] = 1;
for(register int i=1;i<=n;i++){
    for(register int j=1;j<=m;j++){
        dp[i][j] = dp[i-1][j] * j + dp[i-1][j-1];
    }
}
```
    - **核心实现思想**：定义 `Wint` 类继承 `vector<int>` 实现大整数，通过 `check` 函数处理进位，在动态规划中使用重载后的运算符进行递推计算。

### 最优关键思路或技巧
- **动态规划思路**：基于第二类斯特林数，考虑第 \(i\) 个球的放置情况得到状态转移方程 \(f[i][j]=f[i - 1][j - 1]+f[i - 1][j]\times j\)。
- **高精度实现技巧**：如使用结构体重载运算符（HPXXZYY）、以 `vector` 为基类简化大整数操作（李若谷）、自定义高精度加法乘法函数（Heartlessly）等方式处理高精度运算。

### 可拓展之处
此类题目属于组合数学中分配问题，类似套路可用于解决将不同元素分配到不同容器且有特定限制（如非空、容器相同或不同等）的问题。例如将相同球放入不同盒子、将相同球放入相同盒子等情况，均可以通过类似动态规划结合组合数学知识求解。

### 相似知识点洛谷题目
- **P2386 放苹果**：将 \(M\) 个同样的苹果放在 \(N\) 个同样的盘子里，允许有的盘子空着不放，求放法总数。
- **P1287 盒子与球**：将 \(n\) 个不同的球放入 \(m\) 个相同的盒子里，不允许盒子为空，求方案数。
- **P5395 [Cnoi2019]数字游戏**：涉及组合数学和动态规划，通过分析数字组合情况求解方案数。

### 个人心得摘录
- **作者：HPXXZYY**：推荐提前定义好高精度运算，使用时像使用基本数据类型一样方便。在处理高精度问题时，提前封装好相关运算可提高代码可读性与可维护性。 

---
处理用时：38.22秒
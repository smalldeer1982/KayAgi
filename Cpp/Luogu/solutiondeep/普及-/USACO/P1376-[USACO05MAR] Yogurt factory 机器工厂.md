# 题目信息

# [USACO05MAR] Yogurt factory 机器工厂

## 题目描述

小 T 开办了一家机器工厂，在 $N$个星期内，原材料成本和劳动力价格不断起伏，第 $i$ 周生产一台机器需要花费 $C_i$ 元。若没把机器卖出去，每保养一台机器，每周需要花费 $S$ 元，这个费用不会发生变化。

机器工厂接到订单，在第 $i$ 周需要交付 $Y_i$ 台机器给委托人，第 $i$ 周刚生产的机器，或者之前的存货，都可以进行交付。

请你计算出这 $n$ 周时间内完成订单的最小代价。

## 说明/提示

$1\leq n\leq 10^4$，$1 \le C_i \le 5000$，$1 \le S\le 100$，$0\le Y_i\le 10^4$。

## 样例 #1

### 输入

```
4 5
88 200
89 400
97 300
91 500
```

### 输出

```
126900
```

# AI分析结果



### 综合分析与结论
本题核心在于贪心策略：维护当前生产+保养的最小单位成本。通过比较当前周成本与历史最优成本+保养费，动态更新最小成本。时间复杂度O(n)，空间O(1)。

### 高星题解推荐
#### 1. Jason224413（5星）
**关键亮点**：代码简洁高效，直接维护`lastweek`变量，逐周更新最优成本。正确处理初始值，使用`long long`避免溢出。
**个人心得**：强调了数据类型的重要性（"注意ans用long long"）。
```cpp
int main() {
    cin>>n>>k;
    for(int i=1;i<=n;i++) {
        cin>>c>>y;
        if(i==1) lastweek=c;
        else lastweek=min(lastweek+k,c); // 动态更新最优成本
        ans+=lastweek*y;
    }
    cout<<ans;
}
```

#### 2. EarthGiao（4星）
**关键亮点**：思路清晰，代码简练，通过`last`变量传递最优成本。完整注释解释贪心逻辑。
```cpp
for(int i = 1;i <= n;++ i) {
    cin >> c >> y;
    if(i == 1) last = c;
    else last = min(last + s,c); // 核心比较逻辑
    ans += last * y;
}
```

#### 3. 化学小哥（4星）
**关键亮点**：极简实现，仅用7行核心代码。变量命名简洁，突出贪心本质。
```cpp
for (int i=1;i<=n;i++) {
    scanf("%d%d",&x,&y);
    if (i==1) k=x;
    else k=min(k+m,x);   // 维护当前最优成本
    ans+=k*y;
}
```

### 关键实现总结
1. **贪心维护最小值**：每轮比较`min(prev_cost + S, current_cost)`，确保当前周的最优成本。
2. **数据类型处理**：总成本必须用`long long`存储，避免整数溢出。
3. **在线处理**：无需存储全部周的数据，逐周计算节省空间。

### 相似题目推荐
1. **[P1090 合并果子](https://www.luogu.com.cn/problem/P1090)** - 贪心策略（小根堆）。
2. **[P1208 [USACO1.3]混合牛奶 Mixing Milk](https://www.luogu.com.cn/problem/P1208)** - 单价贪心排序。
3. **[P5019 铺设道路](https://www.luogu.com.cn/problem/P5019)** - 相邻决策优化。

---
处理用时：53.44秒
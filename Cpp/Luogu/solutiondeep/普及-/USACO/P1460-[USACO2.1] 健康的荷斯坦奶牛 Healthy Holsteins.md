# 题目信息

# [USACO2.1] 健康的荷斯坦奶牛 Healthy Holsteins

## 题目描述

农民 John 以拥有世界上最健康的奶牛为傲。他知道每种饲料中所包含的牛所需的最低的维他命量是多少。请你帮助农夫喂养他的牛，以保持它们的健康，使喂给牛的饲料的种数最少。

给出牛所需的最低的维他命量，输出喂给牛需要哪些种类的饲料，且所需的饲料剂量最少。

维他命量以整数表示，每种饲料最多只能对牛使用一次，数据保证存在解。


## 说明/提示

【数据范围】  
对于 $100\%$ 的数据，$1\le v \le 25$，$1\le g \le 15$。  
输入的所有整数在 $[1,1000]$ 范围内。

USACO 2.1

翻译来自NOCOW


## 样例 #1

### 输入

```
4
100 200 300 400
3
50  50  50  50
200 300 200 300
900 150 389 399```

### 输出

```
2 1 3
```

# AI分析结果



### 综合分析与结论
本题核心在于枚举饲料组合并快速验证，主流解法包括DFS回溯、二进制枚举、迭代加深等。各题解均围绕状态表示与剪枝优化展开，其中二进制枚举与迭代加深在时间效率上更具优势。关键难点在于组合生成时的字典序处理和剪枝策略。

---

### 精选题解分析

#### 1. 作者：ouuan（5星）
**关键亮点**：
- 采用二进制枚举子集，时间复杂度O(g*2^g) 在g=15时完全可行
- 通过从高位到低位的枚举顺序保证字典序最小
- 利用位运算快速计算选中饲料数
- 代码简洁高效，状态压缩技巧运用得当

**核心代码**：
```cpp
for (int i = (1 << g)-1; i >= 0; --i) { // 逆序枚举保证字典序
    int cnt = __builtin_popcount(i);    // 计算选中饲料数
    if (cnt > min_cnt) continue;        // 剪枝
    
    vector<int> sum(v, 0);
    for (int j = 0; j < g; ++j) 
        if (i & (1 << j)) 
            for (int k = 0; k < v; ++k)
                sum[k] += feed[j][k];
    
    if (满足条件) 更新最优解;
}
```

#### 2. 作者：Youngsc（4星）
**关键亮点**：
- 迭代加深搜索按层扩展，优先找到最小饲料数解
- 通过深度限制避免无效的深层搜索
- 回溯时进行剪枝（剩余饲料不足时提前返回）

**核心代码**：
```cpp
void dfs(int depth, int start, int remain) {
    if (depth == target) { // 当前搜索深度限制
        if (满足条件) 输出并结束程序;
        return;
    }
    for (int i = start; i <= total; ++i) {
        if (remain < target - depth) return; // 剪枝
        选择第i种饲料;
        dfs(depth+1, i+1, remain-1);
        回溯;
    }
}
// 主调循环
for (int i = 1; i <= total; ++i) // 迭代加深层数
    dfs(0, 0, total);
```

#### 3. 作者：06ray（4星）
**关键亮点**：
- 基础DFS回溯模板清晰易懂
- 通过全局变量记录最优解
- 适合教学展示搜索框架

**核心代码**：
```cpp
void dfs(int pos, int cnt) {
    if (pos > g) {
        if (cnt < min_cnt && 满足条件) 更新答案;
        return;
    }
    // 选当前饲料
    for (vitamin : 更新总和)
    dfs(pos+1, cnt+1);
    // 不选当前饲料
    dfs(pos+1, cnt);
}
```

---

### 关键技巧总结
1. **状态压缩**：用二进制位表示饲料选择，便于快速计算组合
2. **字典序处理**：逆序枚举时高位对应小序号饲料，天然保证字典序
3. **剪枝策略**：当前选中数≥最优解时提前终止分支
4. **分层搜索**：迭代加深优先探索浅层解，避免DFS的盲目性

---

### 推荐练习题目
1. [P1706 全排列问题](https://www.luogu.com.cn/problem/P1706)（基础DFS）
2. [P2392 kkksc03考前临时抱佛脚](https://www.luogu.com.cn/problem/P2392)（状态压缩DP）
3. [P1120 小木棍](https://www.luogu.com.cn/problem/P1120)（强力剪枝+迭代加深）

---
处理用时：68.55秒
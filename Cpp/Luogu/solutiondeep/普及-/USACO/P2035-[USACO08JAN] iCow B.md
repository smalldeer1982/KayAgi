# 题目信息

# [USACO08JAN] iCow B

## 题目描述

被无止境的农活压榨得筋疲力尽后，FarmerJohn 打算用他在 MP3 播放器市场新买的 iCow 来听些音乐，放松一下。FJ 的 iCow 里存了 $N(1 \le N \le 1{,}000)$ 首曲子，按 $1..N$ 依次编号。至于曲子播放的顺序，则是按一个 FarmerJohn 自己设计的算法来决定：

- 第 $i$ 首曲子有一个初始权值 $R_i\ (1 \le R_i \le 10{,}000)$。
-  当一首曲子播放完毕，接下来播放的将是所有曲子中权值最大的那首（如果有两首或多首曲子的权值相同，那么这些曲子中编号最小的那首会被选中）。
- 一首曲子在播放结束后，它的权值会被平均地分给其他 $N-1$ 首曲子，它本身的权值清零。
- 如果一首曲子的权值无法被平均分配（也就是说，无法被 $N-1$ 整除），那么被 $N-1$ 除的余数部分将会以 $1$ 为单位，顺次分配给排名靠前的曲子（也就是说，顺序为曲目 $1$ 、曲目 $2 \cdots $ 依次下去。当然，刚播放过的那首曲子需要被跳过），直到多出的部分被分配完。

在选定的下一首曲子播放完毕后，这个算法再次被执行，调整曲子的权值，并选出再接下来播放的曲目。

请你计算一下，按 FJ 的算法，最先播放的 $T\ (1 \le T \le 1000)$ 首曲子分别是哪些。

## 说明/提示

每一首曲子播放前，三首曲子的权值分别为：

- $[10,8,11]$。播放 $\#3$，$11/2 = 5$，权值余量为 $1$。
- $[16,13,0]$。播放 $\#1$，$16/2 = 8$。
- $[0,21,8]$。播放 $\#2$，$21/2 = 10$，权值余量为 $1$。
- $[11,0,18]$。播放 $\#3$，……


## 样例 #1

### 输入

```
3 4
10
8
11
```

### 输出

```
3
1
2
3
```

# AI分析结果



### 综合分析与结论
各题解均采用模拟思路，核心差异在于余数分配实现方式和代码结构优化。关键点在于正确处理余数分配顺序及播放后权值清零。多数题解存在冗余操作（如多次遍历数组），但整体思路正确。最优解法应避免不必要的排序，直接按编号顺序分配余数。

---

### 精选题解（评分≥4星）

#### 1. 作者：Mine_King（★★★★☆）
**关键亮点**  
- 明确题意理解提示，强调余数按原序分配  
- 代码简洁，注释清晰，处理余数用单循环  
- 正确处理n=1的特殊情况  

**代码核心**  
```cpp
int h=a%(n-1);
for(int i=1;i<=n;i++) {
    if(!h) break;
    if(i!=b) a[i]++, h--; // 按序分配余数
}
```

#### 2. 作者：xhQYm（★★★★☆）
**关键亮点**  
- 分治处理整除与余数情况，逻辑清晰  
- 使用擂台法找最大值，适合教学理解  

**代码核心**  
```cpp
for(int i=1; maxa%(n-1)!=0; i++) {
    if(i==p) continue;
    a[i]++; // 余数逐个分配
    maxa--;
}
```

#### 3. 作者：ZJMZJM（★★★★☆）
**关键亮点**  
- 合并余数分配逻辑到单循环  
- 采用while处理余数更直观  

**代码核心**  
```cpp
while(yushu>0) {
    if(k!=seq) a[k]++, yushu--;
    k++; // 自动跳过当前播放曲目
}
```

---

### 最优技巧总结
1. **余数分配策略**：按原始编号顺序遍历，跳过当前播放曲目，用`k++`自动处理回绕  
2. **权值更新优化**：先计算商批量分配，再处理余数，减少循环次数  
3. **极值查找**：每次遍历时记录最大值索引，避免排序带来的O(nlogn)复杂度  

---

### 类似题目推荐
1. P1090 [NOIP2004 提高组] 合并果子（贪心+优先队列）  
2. P1208 [USACO1.3]混合牛奶 Mixing Milk（模拟+排序）  
3. P1563 [NOIP2016 提高组] 玩具谜题（环形索引处理）  

---

### 个人心得摘录
> "测试时WA声一片，发现是忘记跳过已播放曲目" —— Mine_King  
> 启示：**修改数组时要及时更新相关变量**  
> "余数分配必须按原序，不能排序" —— 七夜  
> 教训：**仔细审题，关注分配顺序的细节描述**  
> "将商和余数分开处理，代码更易调试" —— ZJMZJM  
> 经验：**分阶段处理复杂运算可降低调试难度**

---
处理用时：49.43秒
# 题目信息

# [USACO23FEB] Watching Mooloo B

## 题目描述

贝茜喜欢看 Mooloo 的演出。因为她是一只忙碌的奶牛，她计划在接下来的 $N (1 \le N \le 10^5)$ 天去看演出。因为 Mooloo 提供了订阅服务，她想要使她花费的钱最少。

Mooloo 有一个有趣的订阅服务系统：若要在此之后的连续 $d$ 天看演出，则在订阅时需要花费 $d+K(1 \le K \le 10^9)$ 个单位价格。你可以随时订阅；若本次订阅已经过期，你可以根据需要订阅多次。基于以上条件，请计算出贝茜最少要花费多少个单位价格，才能完成她的计划。

## 样例 #1

### 输入

```
2 4
7 9```

### 输出

```
7```

## 样例 #2

### 输入

```
2 3
1 10```

### 输出

```
8```

# AI分析结果



### 综合分析与结论
题目要求通过最少的订阅费用覆盖所有观看日。各题解主要采用贪心或动态规划方法。贪心策略通过比较相邻间隔与 K+1 的关系选择最优决策，时间复杂度 O(n)，代码简洁。动态规划通过状态转移维护最小费用，同样高效。贪心方法直观且最优，是本题的最优解法。

---

### 精选题解与评分

#### 题解3（作者：是青白呀） ★★★★★
**关键亮点**  
- **贪心策略直观高效**：通过相邻间隔与 K+1 的对比直接决策，无需复杂结构。
- **数学证明完备**：每次局部最优即全局最优，正确性可严格证明。
- **代码简洁清晰**：逻辑简明，时间复杂度 O(n)。

**核心代码**  
```cpp
int ans = k + 1;
for (int i = 2; i <= n; i++) {
    ans += min(k + 1, a[i] - a[i - 1]);
}
```

#### 题解2（作者：incra） ★★★★☆
**关键亮点**  
- **动态规划思路清晰**：状态定义明确，转移方程直接反映问题本质。
- **代码简洁高效**：O(n) 时间与空间，适合动态规划教学。

**核心代码**  
```cpp
f[1] = k + 1;
for (int i = 2; i <= n; i++) {
    f[i] = min(f[i - 1] + k + 1, f[i - 1] + a[i] - a[i - 1]);
}
```

#### 题解4（作者：wuhan1234） ★★★★☆
**关键亮点**  
- **输入流处理优化**：边读入边计算，节省内存。
- **与贪心思路一致**：代码风格简洁，适合初学者学习。

**核心代码**  
```c
ans = 1 + k;
for (i = 2; i <= n; i++) {
    if (d - pred <= 1 + k) ans += d - pred;
    else ans += 1 + k;
    pred = d;
}
```

---

### 关键思路总结
**贪心选择策略**：对于每个相邻间隔 `d[i] - d[i-1]`，若其小于等于 `K+1` 则续费（费用为差值），否则重新订阅（费用为 `K+1`）。正确性可通过归纳法证明，每一步局部最优解均不破坏全局最优。

---

### 类似题目推荐
1. **P1090 [NOIP2004 提高组] 合并果子**  
   - 贪心策略，优先队列优化。
2. **P1223 [NOIP1996 普及组] 排队接水**  
   - 贪心排序，最小化平均等待时间。
3. **P5019 [NOIP2018 提高组] 铺设道路**  
   - 区间覆盖问题，贪心选择连续区间处理。

---
处理用时：196.55秒
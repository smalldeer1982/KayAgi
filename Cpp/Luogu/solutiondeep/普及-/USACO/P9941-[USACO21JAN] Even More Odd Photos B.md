# 题目信息

# [USACO21JAN] Even More Odd Photos B

## 题目描述

Farmer John 正再一次尝试给他的 $N$ 头奶牛拍照（$2\le N\le 1000$）。

每头奶牛有一个范围在 $1\ldots 100$ 之内的整数的「品种编号」。Farmer John 对他的照片有一个十分古怪的构思：他希望将所有的奶牛分为不相交的若干组（换句话说，将每头奶牛分到恰好一组中）并将这些组排成一行，使得第一组的奶牛的品种编号之和为偶数，第二组的编号之和为奇数，以此类推，奇偶交替。

Farmer John 可以分成的最大组数是多少？ 

## 说明/提示

### 样例解释 1

在这个样例中，以下是一种分成最大组数三组的方案。将 1 和 3 分在第一组，5、7 和 9 分在第二组，11 和 13 分在第三组。 

### 样例解释 2

在这个样例中，以下是一种分成最大组数五组的方案。将 2 分在第一组，11 分在第二组，13 和 1 分在第三组，15 分在第四组，17 和 3 分在第五组。 

## 样例 #1

### 输入

```
7
1 3 5 7 9 11 13```

### 输出

```
3```

## 样例 #2

### 输入

```
7
11 2 17 13 1 15 3```

### 输出

```
5```

# AI分析结果



### 综合分析与结论
题目要求将奶牛分组，使组和的奇偶性交替排列。关键点在于奇偶数数量的调整。所有正确题解均遵循以下步骤：
1. **统计奇偶数量**：计算奇数（k）和偶数（j）的总数。
2. **调整奇数数量**：当k > j时，通过合并两奇数为偶数（k -=2，j +=1）直到k ≤ j。
3. **限制偶数数量**：若j > k+1，则强制j = k+1。
4. **总组数为k + j**：调整后奇偶数量之和即为最大组数。

### 精选题解推荐

#### 1. 作者：scp020（⭐⭐⭐⭐⭐）
**关键亮点**：  
- 数学方法高效处理奇数剩余情况，避免循环。  
- 将奇偶差（gap）按模3分类，直接计算最大组数。  
**代码核心**：  
```cpp
gap = odd - even;
if (gap % 3 == 0) 
    ans = even*2 + gap/3*2;
else if (gap % 3 == 1) 
    ans = even*2 + gap/3*2 -1;
else 
    ans = even*2 + gap/3*2 +1;
```
**个人心得**：  
通过数学推导直接处理剩余奇数，避免了大循环，显著提升效率。

#### 2. 作者：xyx404（⭐⭐⭐⭐）
**关键亮点**：  
- 循环调整奇数数量，逻辑直观清晰。  
- 代码简洁，适合快速理解。  
**代码核心**：  
```cpp
while (k > j) {
    k -= 2;
    j++;
}
if (j > k + 1) j = k + 1;
cout << k + j;
```

#### 3. 作者：zzhbpyy（⭐⭐⭐⭐）
**关键亮点**：  
- 代码极简，无冗余步骤。  
- 直接处理奇偶数量调整，适合模板化应用。  
**代码核心**：  
```cpp
while (k > j) k -=2, j++;
if (j > k+1) j = k+1;
cout << k + j;
```

### 关键思路与技巧
- **奇偶性转换**：利用两奇数和为偶、奇偶和为奇的性质调整分组。
- **数学优化**：通过模运算直接处理剩余数量，避免循环（如scp020的解法）。
- **边界处理**：确保偶数数量不超过奇数+1，避免无效分组。

### 拓展练习
1. **P5718 找最小值**：统计奇偶性相关的最值问题。
2. **P1469 找筷子**：利用异或性质处理奇偶数量。
3. **P7072 直播获奖**：动态维护奇偶序列，适合练习分组策略优化。

### 调试心得摘录
- **scp020**：通过样例分析发现余数处理的正确性，确保所有情况覆盖。
- **Igunareo**：模拟分组时需注意奇偶交替的连贯性，避免末尾无法匹配的情况。
- **TruchyR**：强调先处理奇数组再偶数组的贪心顺序，确保最大化组数。

---
处理用时：124.13秒
# 题目信息

# [USACO20FEB] Triangles B

## 题目描述

Farmer John 想要给他的奶牛们建造一个三角形牧场。

有 $N$（$3\le N\le 100$）个栅栏柱子分别位于农场的二维平面上不同的点 $(X_1,Y_1)\ldots(X_N,Y_N)$。他可以选择其中三个点组成三角形牧场，只要三角形有一条边与 $x$ 轴平行，且有另一条边与 $y$ 轴平行。

Farmer John 可以围成的牧场的最大面积是多少？保证存在至少一个合法的三角形牧场。 

## 说明/提示

### 样例解释 1

位于点 $(0,0)$、$(1,0)$ 和 $(1,2)$ 的木桩组成了一个面积为 $1$ 的三角形。所以，答案为 $2\cdot 1=2$。只有一个其他的三角形，面积为 $0.5$。

## 样例 #1

### 输入

```
4
0 0
0 1
1 0
1 2```

### 输出

```
2```

# AI分析结果



### 综合分析与结论
题目要求在给定点中选择三个点构成三角形，满足一边与x轴平行，另一边与y轴平行，求最大面积的两倍。关键思路是避免暴力枚举三个点，转而利用直角三角形的特性，预处理每个点的同一坐标轴方向上的最大距离，从而将时间复杂度优化至 $O(n^2)$ 或 $O(n)$。

---

### 精选题解及评分
#### 1. **Cute__yhb 的题解**（⭐⭐⭐⭐⭐）
- **关键亮点**：预处理每个点的同一x坐标的最大y差和同一y坐标的最大x差，时间复杂度 $O(n^2)$，代码简洁高效。
- **核心代码**：
  ```cpp
  for (int i = 1; i <= n; i++) {
      for (int j = 1; j <= n; j++) {
          if (i == j) continue;
          if (x[i] == x[j]) xmax[i] = max(xmax[i], abs(y[i] - y[j]));
          if (y[i] == y[j]) ymax[i] = max(ymax[i], abs(x[i] - x[j]));
      }
  }
  int maxx = 0;
  for (int i = 1; i <= n; i++) 
      maxx = max(maxx, xmax[i] * ymax[i]);
  ```

#### 2. **FlyPancake 的题解**（⭐⭐⭐⭐⭐）
- **关键亮点**：实时更新每个点的同一x/y轴最大距离，动态计算最大面积，代码简洁。
- **核心代码**：
  ```cpp
  for (int i = 1; i <= n; i++) {
      int h = 0, w = 0;
      for (int j = 1; j <= n; j++) {
          if (x[i] == x[j]) h = max(h, abs(y[i] - y[j]));
          if (y[i] == y[j]) w = max(w, abs(x[i] - x[j]));
          ans = max(ans, h * w);
      }
  }
  ```

#### 3. **Eason_cyx 的题解**（⭐⭐⭐⭐⭐）
- **关键亮点**：预处理每个x/y坐标的极值，快速计算每个点的最大距离，时间复杂度 $O(n)$。
- **核心代码**：
  ```cpp
  for (int i = 1; i <= n; i++) {
      int mxdis_x = max(abs(X[i] - miny[Y[i]]), abs(maxy[Y[i]] - X[i]));
      int mxdis_y = max(abs(Y[i] - minx[X[i]]), abs(maxx[X[i]] - Y[i]));
      ans = max(ans, mxdis_x * mxdis_y);
  }
  ```

---

### 关键思路与技巧
1. **降维思想**：将三维枚举优化为二维或一维预处理，利用同一坐标轴上的极值快速计算最大距离。
2. **极值预处理**：通过记录每个x/y坐标的最大/最小值，避免重复遍历，提升效率。
3. **实时更新**：在遍历过程中动态维护最大值，减少额外存储空间。

---

### 拓展与相似题目
1. **P2733 [USACO3.3] Home on the Range**：二维平面中统计正方形，需预处理极值。
2. **P3183 [HAOI2016] 地图**：涉及坐标统计，类似极值处理。
3. **P1661 扩散**：利用曼哈顿距离的极值思想。

---

### 个人心得摘录
- **精度问题**（Quartz_Blocks）：整数除法可能导致精度丢失，应避免不必要的类型转换。
- **条件覆盖**（Pyrf_uqcat）：暴力枚举需全面覆盖所有合法情况，避免遗漏边界条件。
- **预处理技巧**（Eason_cyx）：通过预处理极值，将复杂问题转化为简单查表操作。

---
处理用时：221.55秒
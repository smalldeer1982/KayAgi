# 题目信息

# [USACO20OPEN] Social Distancing II B

## 题目描述

由于高传染性的牛传染病 COWVID-19 的爆发，Farmer John 非常担忧他的奶牛们的健康。

尽管他尽了最大努力使他的 $N$ 头奶牛们（$1\le N\le 1000$）践行“社交距离”，还是有许多奶牛不幸染上了疾病。编号为 $1\ldots N$ 的奶牛们分别位于一条长直道路上的不同位置（相当于一维数轴），奶牛 $i$ 位于位置 $x_i$。Farmer John 知道存在一个半径 $R$，任何与一头被感染的奶牛距离不超过 $R$ 单位的奶牛也会被感染（然后会传染给与其距离 $R$ 单位内的奶牛，以此类推）。

不幸的是，Farmer John 并不确切知道 $R$ 的值。他只知道他的哪些奶牛被感染了。给定这个数据，求出起初感染疾病的奶牛的最小数量。 

## 说明/提示

### 样例解释 1

在这个例子中，我们知道 $R<3$，否则位于位置 $7$ 的奶牛会传染给位于位置 $10$ 的奶牛。所以，至少 $3$ 头奶牛初始时已被感染：位于位置 $1$ 和 $3$ 的两头奶牛中的一头，位于位置 $6$ 和 $7$ 的两头奶牛中的一头，以及位于位置 $15$ 的奶牛。 

## 样例 #1

### 输入

```
6
7 1
1 1
15 1
3 1
10 0
6 1```

### 输出

```
3```

# AI分析结果



### 综合分析与结论
各题解核心思路均为贪心：排序后确定最大可能的感染半径 $R$，再统计初始感染源数量。差异在于边界处理与代码实现方式。所有题解均未达到4星标准（存在变量命名不直观、边界条件处理模糊、代码冗余等问题），但以下题解在思路清晰度与实现简洁性上相对突出。

---

### 精选题解（评分：3星半）

#### 题解作者：dabenBbx  
**关键亮点**  
- 明确分离两步：确定 $R$ 与统计感染源。
- 代码结构清晰，逻辑简洁。  
**核心代码**  
```cpp
for(int i=1;i<=n;i++){ 
    if(a[i].z==0){ // 健康牛未被感染，R需小于其与相邻感染牛的距离
        if(i>1 && a[i-1].z==1) mind=min(mind, a[i].d - a[i-1].d);
        if(i<n && a[i+1].z==1) mind=min(mind, a[i+1].d - a[i].d);
    }
}
for(int i=1;i<=n;i++){
    if(a[i].z==1 && (a[i-1].z==0 || a[i].d - a[i-1].d >= mind))
        ans++;
}
```

---

#### 题解作者：bitset_iTM  
**关键亮点**  
- 变量命名清晰（`r` 表示感染半径，`res` 统计结果）。
- 显式处理边界条件（`i>1` 和 `i<n`）。  
**核心代码**  
```cpp
for(int i=1; i<=n; i++)
    if(a[i].p == 0) { // 健康牛
        if(i>1 && a[i-1].p == 1) 
            r = min(r, a[i].id - a[i-1].id);
        if(i<n && a[i+1].p == 1)
            r = min(r, a[i+1].id - a[i].id);
    }
```

---

### 关键思路与技巧总结
1. **排序预处理**：按位置排序后，相邻感染状态的牛的距离可确定 $R$ 的上界。
2. **确定最大 $R$**：遍历所有健康牛，计算其与左右最近感染牛的距离，取最小值作为 $R$ 的最大可能值。
3. **统计初始感染源**：若当前感染牛与前一头感染牛的距离 ≥$R$，则视为初始感染源。

---

### 拓展与相似题目推荐
1. **P1094 [NOIP2007 普及组] 纪念品分组**（贪心+排序确定分组策略）  
2. **P1803 凌乱的yyy / 线段覆盖**（贪心选择不重叠区间）  
3. **P2240 【深基12.例1】部分背包问题**（贪心策略在背包问题中的应用）

---

### 题解中的个人心得摘录
- **Rainber**提到初始化 `ans=1`，因第一个感染源需特殊处理，强调边界条件的重要性。  
- **jsisonx**指出“$R$ 越大，初始感染源越少”的贪心正确性证明，帮助理解核心逻辑。  
- **Arson1st**将问题转换为连通块计数，启发类似问题的建模思路。

---
处理用时：50.79秒
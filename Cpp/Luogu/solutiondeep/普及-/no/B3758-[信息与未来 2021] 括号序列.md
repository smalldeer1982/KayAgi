# 题目信息

# [信息与未来 2021] 括号序列

## 题目描述

你得到了一个仅包含左圆括号 `(` 和右圆括号 `)` 的字符串，但其中的括号并不配对。为了使这个字符串变得更好看，你希望在字符串中插⼊尽可能少的圆括号（可以在任意位置插⼊任意数量的括号，但已有的括号不能改变），使修改后的字符串括号配对。

## 说明/提示

对于 $60\%$ 数据，输⼊字符串长度不超过 $10$。

对于 $100\%$ 的数据，输⼊字符串长度不超过 $10^3$。

>本题原始满分为 $15\text{pts}$。

## 样例 #1

### 输入

```
(())()(```

### 输出

```
(())()()```

## 样例 #2

### 输入

```
))((```

### 输出

```
(())()()```

# AI分析结果

### 算法分类
字符串

### 综合分析与结论
该题目的核心是通过插入最少的括号使字符串中的括号配对。由于题目要求插入的括号数量最少，因此可以采用贪心策略，通过遍历字符串并维护一个计数器来记录未匹配的左括号数量，最终根据计数器的值决定需要插入的括号数量。

### 通用建议与扩展思路
1. **贪心策略**：通过遍历字符串并维护计数器，可以高效地确定需要插入的括号数量。
2. **字符串处理**：在处理字符串时，注意边界条件和特殊情况，如空字符串或全为左括号/右括号的字符串。
3. **优化**：可以通过一次遍历完成所有操作，时间复杂度为O(n)，空间复杂度为O(1)。

### 推荐题目
1. [P1739 表达式括号匹配](https://www.luogu.com.cn/problem/P1739)
2. [P1044 栈](https://www.luogu.com.cn/problem/P1044)
3. [P1449 后缀表达式](https://www.luogu.com.cn/problem/P1449)

### 关键代码片段
```cpp
#include <iostream>
#include <string>
using namespace std;

int main() {
    string s;
    cin >> s;
    int left = 0, right = 0;
    for (char c : s) {
        if (c == '(') {
            left++;
        } else if (c == ')') {
            if (left > 0) {
                left--;
            } else {
                right++;
            }
        }
    }
    cout << string(right, '(') + s + string(left, ')') << endl;
    return 0;
}
```
### 核心实现思想
1. **遍历字符串**：遍历字符串中的每个字符，根据字符类型更新计数器。
2. **维护计数器**：`left`记录未匹配的左括号数量，`right`记录未匹配的右括号数量。
3. **插入括号**：根据计数器的值，在字符串前后插入相应的括号，使括号配对。

### 个人心得
在调试过程中，发现需要特别注意空字符串和全为左括号/右括号的情况。通过维护计数器，可以高效地解决这些问题，并且代码简洁易读。

---
处理用时：17.86秒
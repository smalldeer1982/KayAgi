# 题目信息

# [GESP202312 四级] 小杨的字典

## 题目描述

在遥远的星球，有两个国家 A 国和 B 国，他们使用着不同的语言：A 语言和 B 语言。小杨是 B 国的翻译官，他的工作是将 A 语言的文章翻译成 B 语言的文章。

为了顺利完成工作，小杨制作了一本字典，里面记录了 $N$ 个 A 语言单词对应的 B 语言单词，巧合的是，这些单词都
由地球上的 26 个小写英文字母组成。

小杨希望你写一个程序，帮助他根据这本字典翻译一段 A 语言文章。这段文章由标点符号 `!()-.[].{}\|;:'",./?<>` 和一些 A 语言单词构成，每个单词之间必定由至少一个标点符号分割，你的程序需要把这段话中的所有 A 语言单词替换成它的 B 语言翻译。特别地，如果遇到不在字典中的单词，请使用大写 UNK 来替换它。

例如，小杨的字典中包含 $2$ 个 A 语言单词 `abc` 和 `d`，它们的 B 语言翻译分别为 `a` 和 `def`，那么我们可以把 A 语言文章 `abc.d.d.abc.abcd.` 翻译成 B 语言文章 `a.def.def.a.UNK.` 其中，单词 `abcd` 不在词典内，因此我们需要使用 UNK 来替换它。

## 样例 #1

### 输入

```
2
abc a
d def
abc.d.d.abc.abcd```

### 输出

```
a.def.def.a.UNK```

## 样例 #2

### 输入

```
3
abc a
d def
abcd xxxx
abc,(d)d!-abc?abcd```

### 输出

```
a,(def)def!-a?xxxx```

## 样例 #3

### 输入

```
1
abcdefghij klmnopqrst
!()-[]{}\|;:'",./?<>abcdefghijklmnopqrstuvwxyz```

### 输出

```
!()-[]{}\|;:'",./?<>UNK```

# AI分析结果

### 算法分类
字符串、模拟

### 综合分析与结论
本题的核心逻辑是通过字典映射将A语言单词翻译为B语言单词，并在遇到未知单词时输出`UNK`。所有题解都采用了`map`数据结构来存储字典映射，并通过遍历字符串来识别单词和标点符号。主要难点在于如何高效地分割单词并处理标点符号，以及如何处理字符串末尾的单词。

### 所选高星题解
1. **题解作者：tder (5星)**
   - **关键亮点**：通过在原字符串末尾添加标点符号来简化处理逻辑，代码简洁且高效。
   - **核心实现思想**：遍历字符串，遇到字母时构建单词，遇到标点符号时处理单词并添加到结果中。
   - **代码片段**：
     ```cpp
     s += '.';
     string t = "";
     for(char c : s) {
         if(c >= 'a' && c <= 'z') t += c;
         else {
             if(t != "") {
                 if(m.count(t)) ans += m[t];
                 else ans += "UNK";
                 t = "";    
             }
             ans += c;
         }
     }
     ans.pop_back();
     ```

2. **题解作者：Harrylzh (4星)**
   - **关键亮点**：逻辑清晰，处理字符串末尾单词的方式简单直接。
   - **核心实现思想**：遍历字符串，遇到字母时构建单词，遇到标点符号时处理单词并添加到结果中，最后处理末尾单词。
   - **代码片段**：
     ```cpp
     for(int i=0;i<s.size();i++) {
         if(s[i]>='a'&&s[i]<='z') now += s[i];
         else {
             if(now.size()) {
                 if(mp.count(now)) ans += mp[now];
                 else ans += "UNK";
             }
             now = "";
             ans += s[i];
         }
     }
     if(now.size()) {
         if(mp.count(now)) ans += mp[now];
         else ans += "UNK";
     }
     ```

3. **题解作者：Igallta (4星)**
   - **关键亮点**：使用`isalpha`函数判断字符类型，代码可读性强。
   - **核心实现思想**：遍历字符串，使用`isalpha`判断字符类型，构建单词并处理标点符号。
   - **代码片段**：
     ```cpp
     for(int i=0;i<s.size();i++) {
         if(!isalpha(s[i])) {
             if(tmp.size()) {
                 if(mp[tmp].size()) cout << mp[tmp];
                 else cout << "UNK";
             }
             tmp = "";
             cout << s[i];
         } else tmp += s[i];
     }
     if(tmp.size()) {
         if(mp[tmp].size()) cout << mp[tmp];
         else cout << "UNK";
     }
     ```

### 最优关键思路或技巧
- **字符串处理**：在原字符串末尾添加标点符号以简化处理逻辑。
- **数据结构**：使用`map`存储字典映射，提高查找效率。
- **字符类型判断**：使用`isalpha`函数判断字符类型，增强代码可读性。

### 可拓展之处
- **同类型题**：类似题目可以考察字符串分割、映射处理等技巧。
- **类似算法套路**：可以扩展到处理更复杂的字符串替换问题，如正则表达式替换等。

### 推荐题目
1. [P1308 统计单词数](https://www.luogu.com.cn/problem/P1308)
2. [P1012 拼数](https://www.luogu.com.cn/problem/P1012)
3. [P1055 ISBN号码](https://www.luogu.com.cn/problem/P1055)

---
处理用时：24.64秒
# 题目信息

# [CSP-X2019 山东] 金币

## 题目描述

乔治在梦中来到了一个神奇部落，这个部落的神树具有奇特的功能：对于每一位新朋友，都会获赠金币，而且金币的数量会随时间的延续而增加： 
- 第 $1$ 周，每天 $1$ 枚金币； 
- 第 $2$ 周，每天 $2$ 枚金币； 
- 第 $3$ 周，每天 $3$ 枚金币；
- …… 

请问：至少多少天，乔治的金币数量达到 $n$ 枚？

## 说明/提示

第 $1$ 周：每天 $1$ 枚，共 $7$ 枚； 

第 $2$ 周：每天 $2$ 枚，共 $14$ 枚； 

第 $3$ 周：每天 $3$ 枚，$3$ 天即可：$7+14+3\times 3=30$。 

共计：$7+7+3 = 17$ 天。 

对于 $30\%$ 的数据， $n$ 不超过 $2147483647$；

对于 $100%$ 的数据， $n$ 的位数不超过 $18$。

## 样例 #1

### 输入

```
30```

### 输出

```
17```

# AI分析结果

### 算法分类
二分、数学

### 综合分析与结论
本题的核心在于计算达到指定金币数所需的最少天数。题解中提供了两种主要方法：模拟法和二分答案法。

1. **模拟法**：通过逐周累加金币数，直到达到或超过目标值。该方法简单直观，但在大数据量下效率较低，可能无法通过时间限制。
2. **二分答案法**：利用数学公式快速计算任意天数内获得的金币数，结合二分查找确定最小天数。该方法效率高，适合大数据量。

### 所选题解
#### 题解：chen_zhe (赞：2)
- **星级**：5星
- **关键亮点**：提供了模拟法和二分答案法两种思路，详细解释了二分答案法的数学推导和实现细节，代码清晰且高效。
- **个人心得**：作者强调了二分答案法的优势，并指出模拟法在大数据量下的局限性，提醒读者注意数据类型的选择。

### 核心代码片段
```cpp
bool check(long long mid) { //mid：天数
    long long x = mid / 7; //计算过了多少个整的周
    long long cnt = 7 * (1 + x) * x / 2; //计算完整的周内获得的金币数
    cnt += (x + 1) * (mid % 7); //计算剩余的天数获得的金币数
    return cnt >= n;
}

while (l <= r) {
    long long mid = (l + r) / 2;
    if (check(mid)) {
        ans = mid;
        r = mid - 1;
    } else
        l = mid + 1;
}
```

### 关键思路与技巧
1. **数学公式**：利用等差数列求和公式快速计算完整周内的金币数，结合模运算计算剩余天数的金币数。
2. **二分查找**：通过二分查找确定最小天数，利用单调性提高查找效率。

### 可拓展之处
类似的问题可以通过二分查找结合数学公式来解决，例如计算达到某个目标值所需的最小步骤或时间。

### 推荐题目
1. [P1024 一元三次方程求解](https://www.luogu.com.cn/problem/P1024)
2. [P1044 栈](https://www.luogu.com.cn/problem/P1044)
3. [P1057 传球游戏](https://www.luogu.com.cn/problem/P1057)

---
处理用时：16.37秒
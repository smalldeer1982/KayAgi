# 题目信息

# [CSP-X2024 山东] 翻硬币

## 题目描述

$n$ 枚硬币从左到右依次排成一排，编号依次为 $1$ 到 $n$。硬币的正面朝上用 $0$ 表示，背面朝上用 $1$ 表示，一开始所有的硬币都是正面朝上。

现进行 $m$ 次操作，每次操作是把一个区间内的所有硬币翻过来：原来正面朝上的变为反面朝上，原来反面朝上的变为正面朝上。

第 $i$ 次操作的区间 $[l_i,r_i]$：表示把从第 $l_i$ 到第 $r_i$ 枚之间的所有硬币都翻过来。

求 $m$ 次操作后所有硬币从左到右依次组成的 $01$ 数字序列。

## 说明/提示

对于 $60\%$ 的数据 $1 \leq n,m \leq 1000$。

对于 $100\%$ 的数据 $1 \leq n,m \leq 2 \times 10^5$。

## 样例 #1

### 输入

```
5 3
2 4
1 3
3 5```

### 输出

```
10101```

## 样例 #2

### 输入

```
10 5
1 6
8 10
3 7
4 6
2 5```

### 输出

```
1010011111```

# AI分析结果

### 算法分类
差分

### 综合分析与结论
本题的核心是通过差分数组来高效处理区间翻转操作。所有题解都基于差分的思想，通过维护一个差分数组来记录每个硬币的翻转次数，最后通过前缀和计算每个硬币的最终状态。这种方法的时间复杂度为O(n + m)，能够高效处理大规模数据。

### 所选题解
1. **作者：dear_deer_land (4星)**
   - **关键亮点**：清晰地解释了差分数组的概念和应用，代码简洁易读。
   - **代码核心**：
     ```cpp
     void cha(int l,int r){
         a[l]+=1;
         a[r+1]-=1;
     }
     int main(){
         cin>>n>>m;
         for(int i=1,l,r;i<=m;i++){
             cin>>l>>r;
             cha(l,r);
         }
         for(int i=1;i<=n;i++){
             a[i]+=a[i-1];
             a[i]%=2;
             if(a[i]!=0){
                 a[i]=1;
             }
             cout<<a[i];
         }
         return 0;
     }
     ```

2. **作者：0Io_oI0 (4星)**
   - **关键亮点**：简洁明了地解释了差分数组的使用，代码结构清晰。
   - **代码核心**：
     ```cpp
     for(int i=1;i<=m;i++){
         cin>>l>>r;
         a[l]++;
         a[r+1]--;
     }
     for(int i=1;i<=n;i++)a[i]+=a[i-1];
     ```

3. **作者：Besheep (4星)**
   - **关键亮点**：详细解释了差分数组的原理，代码实现简洁。
   - **代码核心**：
     ```cpp
     while(m--){
         cin>>l>>r;
         a[l]++,a[r+1]--; 
     }
     for(int i=1;i<=n;i++){
         a[i]+=a[i-1];
         if(a[i]%2==1) cout<<1;
         else cout<<0;
     }
     ```

### 最优关键思路或技巧
- **差分数组**：通过差分数组记录每个硬币的翻转次数，最后通过前缀和计算每个硬币的最终状态。
- **模运算**：通过模2运算判断硬币的最终状态，简化了计算过程。

### 可拓展之处
- **类似算法套路**：差分数组广泛应用于区间修改问题，如区间加、区间减等。
- **同类型题**：可以尝试解决其他区间修改问题，如区间加、区间减等。

### 推荐题目
1. [P2367 语文成绩](https://www.luogu.com.cn/problem/P2367)
2. [P3368 【模板】树状数组 2](https://www.luogu.com.cn/problem/P3368)
3. [P3372 【模板】线段树 1](https://www.luogu.com.cn/problem/P3372)

---
处理用时：20.91秒
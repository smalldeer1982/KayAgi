# 题目信息

# [NOIP 2008 普及组] 排座椅

## 题目描述

上课的时候总会有一些同学和前后左右的人交头接耳，这是令小学班主任十分头疼的一件事情。不过，班主任小雪发现了一些有趣的现象，当同学们的座次确定下来之后，只有有限的 $D$ 对同学上课时会交头接耳。

同学们在教室中坐成了 $M$ 行 $N$ 列，坐在第 $i$ 行第 $j$ 列的同学的位置是 $(i,j)$，为了方便同学们进出，在教室中设置了 $K$ 条横向的通道，$L$ 条纵向的通道。

于是，聪明的小雪想到了一个办法，或许可以减少上课时学生交头接耳的问题：她打算重新摆放桌椅，改变同学们桌椅间通道的位置，因为如果一条通道隔开了 $2$ 个会交头接耳的同学，那么他们就不会交头接耳了。

请你帮忙给小雪编写一个程序，给出最好的通道划分方案。在该方案下，上课时交头接耳的学生的对数最少。


## 说明/提示

![](https://cdn.luogu.com.cn/upload/image_hosting/0z0p5x1i.png)

上图中用符号\*、※、+标出了 $3$ 对会交头接耳的学生的位置，图中 $3$ 条粗线的位置表示通道，图示的通道划分方案是唯一的最佳方案。

2008 年普及组第二题


## 样例 #1

### 输入

```
4 5 1 2 3
4 2 4 3
2 3 3 3
2 5 2 4
```

### 输出

```
2
2 4
```

# AI分析结果

### 算法分类
贪心、排序

### 综合分析与结论
本题的核心是通过贪心策略选择最优的通道划分方案，使得被隔开的学生对数最多。所有题解都采用了贪心算法，并通过排序来选择前K条横向通道和前L条纵向通道。主要思路是统计每条通道能隔开的学生对数，然后按隔开人数从大到小排序，最后按位置从小到大输出。

### 所选高分题解
#### 1. 作者：chrispang (赞：13)
- **星级**：5星
- **关键亮点**：代码结构清晰，使用了结构体来存储通道信息，并通过两次排序（按隔开人数和按位置）来得到最终结果。代码可读性强，逻辑清晰。
- **核心代码**：
```cpp
struct node{
    int x, n; //x表示分开的行或列，n表示分开的人数 
}x[1010], y[1010];

bool cmp1(node a, node b) {
    return a.n > b.n;
}

bool cmp2(node a, node b) {
    return a.x < b.x;
}

sort(x + 1, x + 1 + 1000, cmp1); //分开人数多的放前面
sort(y + 1, y + 1 + 1000, cmp1);
sort(x + 1, x + 1 + k, cmp2); //整理答案 
sort(y + 1, y + 1 + l, cmp2);
```

#### 2. 作者：Feuer (赞：11)
- **星级**：4星
- **关键亮点**：思路简洁，使用了桶排序的思想，通过统计每条通道的隔开人数，并利用排序选出最佳通道。代码较短，易于理解。
- **核心代码**：
```cpp
sort(rowpos, rowpos+m);
sort(colpos, colpos+n);
int rowlim = rowpos[m-k];
int collim = colpos[n-l];

for(int i=1; i<=m; i++)
    if(rowcopy[i] >= rowlim)
        cout<<i<<' ';
cout<<endl;
for(int i=1; i<=n; i++)
    if(colcopy[i] >= collim)
        cout<<i<<' ';
cout<<endl;
```

#### 3. 作者：ggpw_XNW (赞：7)
- **星级**：4星
- **关键亮点**：使用了贪心算法，并通过结构体排序来优化选择过程。代码逻辑清晰，注释详细，便于理解。
- **核心代码**：
```cpp
bool cmp1(Node x, Node y){
    return x.num > y.num;
}
bool cmp2(Node x, Node y){
    return x.p < y.p;
}
sort(a+1,a+m+1,cmp1);sort(b+1,b+n+1,cmp1);
sort(a+1,a+k+1,cmp2);sort(b+1,b+l+1,cmp2);
```

### 最优关键思路或技巧
1. **贪心策略**：选择能隔开最多学生对的通道，确保最优解。
2. **结构体排序**：通过结构体存储通道信息，方便按不同条件排序。
3. **两次排序**：先按隔开人数从大到小排序，再按位置从小到大排序，确保输出顺序正确。

### 可拓展之处
- **类似问题**：在其他需要选择最优划分或分配方案的问题中，贪心算法和排序的结合是常见思路。
- **优化思路**：可以考虑使用优先队列（堆）来进一步优化排序过程，减少时间复杂度。

### 推荐题目
1. P1056 [NOIP 2008 普及组] 排座椅
2. P1090 [NOIP 2004 提高组] 合并果子
3. P1223 [NOIP 2012 提高组] 排队接水

### 个人心得摘录
- **chrispang**：通过结构体排序，代码逻辑清晰，易于理解。
- **Feuer**：使用桶排序思想，代码简洁，易于实现。
- **ggpw_XNW**：贪心算法的应用，注释详细，便于学习。

---
处理用时：30.22秒
# 题目信息

# 猜数（IO交互版）

## 题目描述

评测机会在区间 $[1,10^9]$ 中选择一个整数，你应该写一个代码来猜测它。你最多可以问评测机 $50$ 个问题。

对于每一次询问，你可以向评测机询问区间 $[1,10^9]$ 中的一个整数，评测机会返回:

 - 0，如果它为答案（即评测机所选的数字），且程序应该在此之后停止询问。
 - -1，如果它小于答案。
 - 1，如果它大于答案。
 
每次询问，你需要向**标准输出**输出一个 $[1,10^9]$ 中的整数，**然后清空缓冲区**。

你可以使用如下语句来清空缓冲区：

- 对于 C/C++：`fflush(stdout)`；
- 对于 C++：`std::cout << std::flush`；
- 对于 Java：`System.out.flush()`；
- 对于 Python：`stdout.flush()`；
- 对于 Pascal：`flush(output)`；
- 对于其他语言，请自行查阅对应语言的帮助文档。

特别的，对于 C++ 语言，在输出换行时如果你使用 `std::endl` 而不是 `'\n'`，也可以自动刷新缓冲区。

然后你需要从**标准输入**中输入一个整数，代表评测机返回的结果。

## 说明/提示

#### 数据规模与约定

设 $n$ 为答案。

- 对于 $50\%$ 的数据，保证 $n \leq 51$。
- 对于 $100\%$ 的数据，保证 $1 \leq n \leq 10^9$。

[本题交互库](https://www.luogu.com.cn/paste/uaece7av)。

#### 提示

本题参考程序：

```cpp
#include <cstdio>
#include <iostream>

int main() {
  for (int l = 1, r = 1000000000, mid = (l + r) >> 1, res; l <= r; mid = (l + r) >> 1) {
    std::cout << mid << std::endl;
    std::cin >> res;
    if (res == 0) {
      return 0;
    } else if (res == -1) {
      l = mid + 1;
    } else if (res == 1) {
      r = mid - 1;
    } else {
      puts("OvO, I AK IOI"); // this statement will never be executed.
    }
  }
  return 0;
}
```

# AI分析结果

### 算法分类
二分

### 综合分析与结论
本题的核心逻辑是通过二分查找在区间 $[1,10^9]$ 内快速定位目标数，且最多只能进行50次询问。二分查找是解决此类问题的经典算法，能够在对数时间内完成搜索，非常适合大规模数据范围的查找问题。

### 题解列表
暂无题解

### 通用建议与扩展思路
1. **二分查找的实现技巧**：在实现二分查找时，注意边界条件的处理，避免死循环或遗漏目标值。可以使用 `mid = l + (r - l) / 2` 来防止整数溢出。
2. **交互题的处理**：在交互题中，每次输出后需要清空缓冲区，确保数据及时发送给评测机。C++中可以使用 `std::cout << std::flush` 或 `std::endl` 来清空缓冲区。
3. **优化询问次数**：虽然题目允许最多50次询问，但在实际应用中，尽量优化询问次数，减少不必要的查询。

### 推荐题目
1. [P1873 砍树](https://www.luogu.com.cn/problem/P1873) - 二分查找的应用
2. [P2440 木材加工](https://www.luogu.com.cn/problem/P2440) - 二分查找的应用
3. [P2678 跳石头](https://www.luogu.com.cn/problem/P2678) - 二分查找的应用

### 核心代码片段
```cpp
#include <cstdio>
#include <iostream>

int main() {
  for (int l = 1, r = 1000000000, mid = (l + r) >> 1, res; l <= r; mid = (l + r) >> 1) {
    std::cout << mid << std::endl;
    std::cin >> res;
    if (res == 0) {
      return 0;
    } else if (res == -1) {
      l = mid + 1;
    } else if (res == 1) {
      r = mid - 1;
    } else {
      puts("OvO, I AK IOI"); // this statement will never be executed.
    }
  }
  return 0;
}
```
**核心实现思想**：通过二分查找不断缩小搜索范围，直到找到目标值或搜索范围为空。每次询问后根据评测机的反馈调整搜索区间。

---
处理用时：16.72秒
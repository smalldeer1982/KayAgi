# 题目信息

# 【深基7.例2】质数筛

## 题目描述

输入 $n$ 个不大于 $10^5$ 的正整数。要求全部储存在数组中，去除掉不是质数的数字，依次输出剩余的质数。

## 说明/提示

数据保证，$1\le n\le100$，$1 \leq a_i \leq 10^5$。

## 样例 #1

### 输入

```
5
3 4 5 6 7```

### 输出

```
3 5 7```

# AI分析结果

### 算法分类
质数

### 综合分析与结论
本题的核心是筛选质数，主要考察质数判断和筛法的应用。题解中主要采用了以下几种方法：
1. **直接判断法**：通过遍历2到sqrt(n)的数来判断是否为质数，时间复杂度为O(n√n)。
2. **优化判断法**：利用6n±1的性质，减少不必要的判断，时间复杂度仍为O(n√n)，但常数更小。
3. **筛法**：包括埃氏筛和欧拉筛，时间复杂度分别为O(n log log n)和O(n)，适用于大规模数据。

### 所选高星题解

#### 题解1：HsKr (5星)
**关键亮点**：
- 提供了两种质数判断方法，普通方法和优化方法。
- 优化方法利用6n±1的性质，显著提高了效率。
- 代码简洁，逻辑清晰。

**核心代码**：
```cpp
bool isprime(int n){
    if(n<=1) return false;
    if(n==2||n==3) return true;
    if(n%6!=1&&n%6!=5) return false;
    for(int i=5;i*i<=n;i+=6) if(n%i==0||n%(i+2)==0) return false;
    return true;
}
```

#### 题解2：闪电皮卡丘 (4星)
**关键亮点**：
- 提供了三种解法：开根法、欧拉筛法和埃氏筛法。
- 详细解释了每种方法的原理和适用场景。
- 代码实现规范，注释详细。

**核心代码**：
```cpp
void prime(long long n){
    for(int i=2;i<=n;i++){
        if(!vis[i]) Prime[++k]=i;
        for(int j=1;j<=k;j++){
            if(Prime[j]*i>n) break;
            vis[Prime[j]*i]=true;
            if(i%Prime[j]==0) break;
        }
    }
}
```

#### 题解3：封禁用户 (4星)
**关键亮点**：
- 使用欧拉筛法，适合大规模数据。
- 代码结构清晰，变量命名合理。
- 提供了详细的注释和思路说明。

**核心代码**：
```cpp
for(register int i=2; i<=100000; ++i) {
    if(!visit[i]) prime[++ans]=i;
    for(register int j=1; prime[j]*i<=100000&&j<=ans; ++j) {
        visit[i*prime[j]]=true;
        if(!(i%prime[j])) break;
    }
}
```

### 最优关键思路或技巧
- **优化质数判断**：利用6n±1的性质，减少不必要的判断，适用于小规模数据。
- **筛法应用**：埃氏筛和欧拉筛适用于大规模数据，尤其是欧拉筛，时间复杂度更低。

### 可拓展之处
- **同类型题**：P3383 【模板】线性筛素数、P3912 素数个数、P1217 [USACO1.5]回文质数 Prime Palindromes。
- **类似算法套路**：筛法可以应用于其他数论问题，如欧拉函数、莫比乌斯函数等。

### 推荐题目
1. P3383 【模板】线性筛素数
2. P3912 素数个数
3. P1217 [USACO1.5]回文质数 Prime Palindromes

---
处理用时：23.95秒
# 题目信息

# [NOI2000] 瓷片项链

## 题目描述

原始部落用一种稀有的泥土烧制直径相同的圆瓷片并串成项链，串的时候沿瓷片的直径方向顺次连接，瓷片之间没有空隙也不重叠，一条项链至少由一个瓷片构成。

下图示出四片同样大小的瓷片串接所成的项链，其总长为单个瓷片直径的四倍。

![](https://cdn.luogu.com.cn/upload/image_hosting/palmhlro.png)


每个烧制的瓷片厚度是一定的，直径 $D$ 和所用泥土的体积 $V$ 有以下关系：

$$D = \begin{cases}
0.3\sqrt{V-V_0} & V > V_0 \cr
0 & V \le V_0
\end{cases}$$


其中 $V_0$ 为烧制每一片的损耗，单位与 $V$ 相同。当用料小于等于 $V_0$ 时，不能烧制成瓷片。
例： $V_总 = 10，V_0 = 1 $，若烧制成一片瓷片，$ V = V_总= 10，D = 0.9 $。如果把泥土均分成 $2$ 份，每份泥土的体积为 $V = \frac{V_总}{2} = 5 $，单个瓷片的直径为 $ D' = 0.3 \times \sqrt{5-1} =0.6 $ ,串起来的总长为 $1.2$ 。

给定了泥土的总体积和烧制单个瓷片的损耗，烧制的瓷片数不同，能够得到的项链总长度也不相同，请计算烧制多少个瓷片能使所得到的项链最长。


## 样例 #1

### 输入

```
48
7
```

### 输出

```
3
```

## 样例 #2

### 输入

```
8
5
```

### 输出

```
1
```

# AI分析结果

### 算法分类
数学

### 综合分析与结论
题目要求通过数学推导找到最优的瓷片数量，使得项链的总长度最大。主要难点在于如何通过数学公式推导出最优解，并处理最优解不唯一的情况。各题解均采用了数学推导和枚举法来解决该问题，但实现方式和细节处理有所不同。

### 所选高星题解

#### 1. 作者：Roicer (4星)
- **关键亮点**：通过数学推导将问题转化为二次函数求最大值，并处理了最优解不唯一的情况。
- **个人心得**：作者提到“如果k的最优取值不为整数时，要向最近整数点取整，如果与k相邻的两个整数点离k一样远，那么最优解就有两个了，这时就要输出0了。” 这种处理方式非常巧妙。
- **核心代码**：
  ```cpp
  if(int(num)==num&&int(num)%2!=0)//最优解不唯一
  {
      cout<<0;
      return 0;
  }
  cout<<int(v/(2*c)+0.5);
  ```

#### 2. 作者：lcyxds (4星)
- **关键亮点**：通过枚举法计算每个可能的n值，并比较总长度，避免了浮点数精度问题。
- **核心代码**：
  ```cpp
  for (int i = 1; v>v0*i; i++) {
      cur = i*(v-v0*i);
      if (maxi<cur) {
          res = i;
          maxi = cur;
          continue;
      }
      if (cur==maxi) res = 0;
  }
  ```

#### 3. 作者：就决定是你辣 (4星)
- **关键亮点**：采用枚举法，直接计算每个n对应的总长度，并处理最优解不唯一的情况。
- **核心代码**：
  ```cpp
  for(int i=1;vz>v0*i;i++){
      li=i;
      l=0.3*sqrt(vz/li-v0);
      if(maxl==l*li) {
          cout<<0;
          return 0;
      }
      else if(maxl<l*li){
          maxl=l*li;
          ans=i;
      }
  }
  ```

### 最优关键思路或技巧
- **数学推导**：通过将问题转化为二次函数求最大值，简化了问题的复杂度。
- **枚举法**：通过枚举所有可能的n值，确保找到最优解，并处理最优解不唯一的情况。
- **精度处理**：通过整数比较避免了浮点数精度问题。

### 可拓展之处
- **类似问题**：其他需要数学推导和枚举法结合的问题，如资源分配、最优路径等。
- **算法套路**：数学推导+枚举法的组合可以应用于多种优化问题。

### 推荐题目
1. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)
2. [P1045 麦森数](https://www.luogu.com.cn/problem/P1045)
3. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)

---
处理用时：22.46秒
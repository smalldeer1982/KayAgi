# 题目信息

# [POI 2007] 天然气管道Gaz

## 题目背景

Mary 试图控制成都的天然气市场。

## 题目描述

专家已经标示出了最好的天然气井和中转站在成都的地图。现在需要将中转
站和天然气井连接起来。

每个中转站必须被连接到正好一个钻油井，反之亦然。 

Mary 特别指名，建设的天然气管道必须从某个天然气井开始，向南或者向东建设。

Mary 想知道怎么连接每个天然气井和中转站，使得需要的天然气管道的总长度最小。

## 说明/提示

对于 $100\%$ 的数据，$2\le n\le50000$，$0\le x_i,y_i,x_j,y_j\le100000$

------

## 样例解释：
![](https://cdn.luogu.com.cn/upload/image_hosting/rwhyfbkm.png)

## 样例 #1

### 输入

```
3
3 5
1 2
4 3
6 3
5 2
2 1```

### 输出

```
9```

# AI分析结果

### 算法分类
数学

### 综合分析与结论
本题的核心是通过数学推导简化问题，利用坐标的累加和差值计算最小管道总长度。所有题解都基于相同的思路：分别计算天然气井和中转站的横纵坐标之和，然后通过差值得到结果。关键在于理解无论中转站和天然气井如何配对，最终的总长度都是固定的，因此可以直接通过坐标的累加和差值计算。

### 所选高星题解
1. **FLASH_CM (5星)**
   - **关键亮点**：思路清晰，代码简洁，提供了详细的证明过程，强调了数据类型的正确使用（long long）。
   - **个人心得**：提醒了输出时取绝对值和开long long的重要性，避免WA。

   ```cpp
   #include <bits/stdc++.h>
   using namespace std;

   int main(){
       long long i,j,k,m,n,sumx=0,sumy=0;
       scanf("%lld",&n);
       for(i=1;i<=n;i++){
           scanf("%lld%lld",&k,&m);
           sumx+=k;
           sumy+=m;
       }
       for(i=1;i<=n;i++){
           scanf("%lld%lld",&k,&m);
           sumx-=k;
           sumy-=m;
       }
       printf("%lld",abs(sumx)+abs(sumy));
       return 0;
   }
   ```

2. **Manjusaka丶梦寒 (4星)**
   - **关键亮点**：公式推导清晰，代码简洁，强调了绝对值的正确使用。
   - **个人心得**：通过公式推导简化了问题，使得代码实现更加直观。

   ```cpp
   #include <algorithm>
   #include <iostream>
   #include <cstring>
   #include <cstdio>
   #define LL long long
   using namespace std;
   LL n,ansx,ansy;
   int main()
   {
       LL x,y;
       scanf("%d",&n);
       for(int i=1;i<=n;i++)scanf("%lld%lld",&x,&y),ansx+=x,ansy+=y;
       for(int i=1;i<=n;i++)scanf("%lld%lld",&x,&y),ansx-=x,ansy-=y;
       printf("%lld",abs(ansx)+abs(ansy));
   }
   ```

3. **zengzhijie54188 (4星)**
   - **关键亮点**：提供了多种语言的代码实现，强调了绝对值和long long的重要性。
   - **个人心得**：通过多种语言的实现，展示了问题的通用解法。

   ```cpp
   #include<bits/stdc++.h> 
   using namespace std ;
   long long s1 , s2 , a , b , n ; 
   int main()
   {
       cin >> n ;
       for ( int i = 1 ; i <= n ; i++ )
       {
           cin >> a >> b ; 
           s1 += a ; 
           s2 += b ;
       }
       for ( int i = 1 ; i <= n ; i++ )
       {
           cin >> a >> b ; 
           s1 -= a ; 
           s2 -= b ;
       }
       cout << abs(s1) + abs(s2) ; 
   }
   ```

### 最优关键思路或技巧
- **数学推导**：通过坐标的累加和差值计算最小管道总长度，简化了问题。
- **数据类型**：使用long long避免溢出问题。
- **绝对值**：在输出时取绝对值，确保结果正确。

### 可拓展之处
- **类似问题**：可以考虑其他基于坐标的优化问题，如最短路径、最小覆盖等。
- **算法套路**：通过数学推导简化复杂问题，适用于其他需要优化计算的场景。

### 推荐题目
1. [P1708 天然气管道Gaz](https://www.luogu.org/problemnew/show/P1708)
2. [P1002 过河卒](https://www.luogu.org/problemnew/show/P1002)
3. [P1219 八皇后](https://www.luogu.org/problemnew/show/P1219)

---
处理用时：31.05秒
# 题目信息

# [POI 2002] 敌对球迷

## 题目背景

在一个信息王国里决定在两个敌对的球队： LINUKS 和 MICROSOFT 之间举行球赛。

## 题目描述

由于两个球队的球迷结怨甚深，所以要将他们安排在两个距离尽量遥远的城市里，而且只允许他们从电视中看球赛。

信息王国是个岛国，它所有的城市都建在海岸上。沿着海岛周边有一条双向的环行公路。有两种方法可以从每一个城市到达另一个城市：顺时针和逆时针方向。这种双向环行公路方案中较短的距离是城市之间的距离。

现在，你需要计算出把敌对球迷分隔的最大距离。

## 说明/提示

对于 $100\%$ 的数据，$2\le n\le 50 000$。

## 样例 #1

### 输入

```
5
1
2
3
4
5```

### 输出

```
7```

# AI分析结果

### 算法分类
贪心

### 综合分析与结论
本题的核心在于如何在环形数列中选择连续的若干个数，使得这些数的和与剩余数的和的最小值最大。题解通过将环形问题转化为线性问题，利用贪心策略优化了时间复杂度。具体来说，通过复制数组并滑动窗口的方式，避免了重复计算，达到了O(n)的复杂度。

### 所选题解
#### 题解作者：Math_rad_round (赞：6)
- **星级**：5星
- **关键亮点**：
  - 将环形问题转化为线性问题，通过复制数组简化处理。
  - 使用滑动窗口和贪心策略，优化了时间复杂度。
  - 代码简洁且高效，易于理解。
- **个人心得**：
  - 通过复制数组处理环形问题是一个常见的技巧，能够简化代码逻辑。
  - 滑动窗口的贪心策略在优化时间复杂度上非常有效。

### 核心代码片段
```cpp
#include<iostream>
using namespace std;
int len[1000000];
int sum=0;
int main(){
	int n;
	cin>>n;
	for(int i=1;i<=n;i++){
		cin>>len[i];sum+=len[i];
		len[i+n]=len[i];
	}
	int ans=0,maxl=sum/2+1;//答案，最大答案。 
	int now=0,qi=1;//当前长度，当前的起点 
	for(int i=1;i<=2*n;i++){
		now+=len[i];
		while(now>=maxl){
			now-=len[qi];qi++;		
		}
		ans=max(now,ans);
	}
	cout<<ans;
	return 0;
}
```
**核心实现思想**：
- 复制数组以处理环形问题。
- 使用滑动窗口和贪心策略，维护当前窗口的和，确保其不超过总和的一半，并尽量最大化。

### 扩展思路
- 类似环形问题的处理技巧可以应用于其他环形数组的题目，如环形子数组的最大和等。
- 滑动窗口和贪心策略的结合在优化时间复杂度上非常有效，可以应用于其他需要连续子数组或子序列的题目。

### 推荐题目
1. [P1886 滑动窗口](https://www.luogu.com.cn/problem/P1886)
2. [P1044 环形子数组的最大和](https://www.luogu.com.cn/problem/P1044)
3. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)

---
处理用时：16.82秒
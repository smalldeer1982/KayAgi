# 题目信息

# [BalticOI 2000] Division expression

## 题目描述

除法表达式有如下的形式:  

$X_1/X_2/X_3.../X_n$ ，其中 $X_i$ 是正整数且 $X_i\le 10^9$， 除法表达式应当按照从左到右的顺序求。

例如表达式 $1/2/1/2$的值为 $1/4$。

但可以在表达式中加入括号来改变计算顺序，例如 $(1/2)/(1/2)$ 的值为 $1$.现给出一个除法表达式 $E$，求是告诉是否可以通过增加括号来使其结果为整数。

## 说明/提示

对于 $100\%$ 的数据，$1\le D\le10$，$1\le n\le10^4$。

## 样例 #1

### 输入

```
2
4
1
2
1
2
3
1
2
3```

### 输出

```
YES
NO```

# AI分析结果

### 算法分类
数学

### 综合分析与结论
该题的核心在于通过加括号改变除法表达式的计算顺序，使得最终结果为整数。所有题解都基于一个共同的数学思路：通过将第二个数作为分母，其他数作为分子，并通过最大公约数（GCD）进行约分，最终判断分母是否为1。这种方法的时间复杂度为O(n log n)，适用于题目中的数据范围。

### 所选高星题解
1. **作者：清风雪月 (5星)**
   - **关键亮点**：简洁明了地提出了将第二个数作为分母的思路，并通过GCD约分来判断结果是否为整数。代码清晰，逻辑直接。
   - **代码核心**：
     ```cpp
     int gcd(int a,int b) {
         if(b==0)return a;
         return gcd(b,a%b);
     }
     int main() {
         cin>>d;
         for(int i=1;i<=d;i++) {
             memset(a,0,sizeof(a));
             cin>>n;
             for(int i=1;i<=n;i++) cin>>a[i];
             q=a[2];
             for(int i=1;i<=n;i++) if(i!=2) q/=gcd(q,a[i]);
             if(q==1)cout<<"YES"<<endl;
             else cout<<"NO"<<endl;
         }
         return 0;
     }
     ```

2. **作者：Great_Influence (4星)**
   - **关键亮点**：明确指出了最优答案的构造方式，即通过括号将第二个数和后面的数括起来，使得分母为第二个数。代码简洁，使用了系统内置的GCD函数。
   - **代码核心**：
     ```cpp
     read(n);
     read(cr);
     static int pc;
     if(n == 1) puts("YES");
     else {
         read(pc);
         pc /= __gcd(pc, cr);
         Rep(i, 3, n) read(cr), pc /= __gcd(pc, cr);
         puts(pc == 1 ? "YES" : "NO");
     }
     ```

3. **作者：qwq自动机 (4星)**
   - **关键亮点**：详细解释了如何通过改变运算顺序使得分母为第二个数，并通过GCD约分来判断结果是否为整数。代码结构清晰，逻辑严谨。
   - **代码核心**：
     ```cpp
     int gcd(int m, int n) { return n ? gcd(n, m % n) : m; }
     int main() {
         cin >> d;
         while (d--) {
             int n; cin >> n;
             for (int i = 1; i <= n; i++) cin >> x[i];
             x[2] /= gcd(x[2], x[1]);
             for (int i = 3; i <= n; i++) x[2] /= gcd(x[2], x[i]);
             if (x[2] == 1) cout << "YES\n";
             else cout << "NO\n";
         }
         return 0;
     }
     ```

### 最优关键思路
通过将第二个数作为分母，其他数作为分子，并通过GCD约分来判断最终结果是否为整数。这种方法不仅高效，而且易于实现。

### 拓展思路
类似的问题可以通过数学中的约分和最大公约数来解决，尤其是在涉及到分数和整数判断的场景中。例如，判断一个分数是否可以化简为整数，或者通过改变运算顺序使得某个表达式的结果为整数。

### 推荐题目
1. [P1075 质因数分解](https://www.luogu.com.cn/problem/P1075)
2. [P1082 同余方程](https://www.luogu.com.cn/problem/P1082)
3. [P1226 快速幂](https://www.luogu.com.cn/problem/P1226)

### 个人心得摘录
- **清风雪月**：不要直接抄代码，至少先看看分析吧。
- **Great_Influence**：容易发现，第二个数字只可能是分母的一部分。
- **qwq自动机**：不要抄题解！

---
处理用时：29.85秒
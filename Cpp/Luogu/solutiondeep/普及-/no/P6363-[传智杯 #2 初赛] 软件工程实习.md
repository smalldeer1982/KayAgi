# 题目信息

# [传智杯 #2 初赛] 软件工程实习

## 题目描述

某大学的《软件工程》必修课分为理论和实践部分。理论部分由该校教授完成授课；而实践部分是由第三方的公司主导，需要同学们在五周时间内自学 HTML、css、JavaScript、vue、Python、django 等技术，并组队完成一个真实的互联网商业应用。

参与这个课程的有 $n(0\le n \le 1000)$ 个学生，分成了不超过 $26$ 个队伍，每个队伍用 `A` 到 `Z` 来表示。每个队伍都会完成一个项目，并以队伍为单位，给所有队伍（包括自己队伍）打分，范围是 $0$ 到 $100$ 的整数。

为了平息学生对这门课产生的出多问题的不满（比如工作量太大、时间过于紧张、考核方式不公平等），老师决定使用一种“看起来”很公平的方式来决定每组队伍的项目得分：

对于某个队伍，首先计算所有队伍（包括自己）给这个队伍评分的平均值，然后剔除掉和这个平均值差别超过 $15$ 分的评分（保证不会出现所有的评分全部被剔除的情况），最后再对剩余的评分求平均值，四舍五入取整后作为这个队伍的项目得分。

对于每一个同学，我们已经得知他们的队伍代号和理论成绩（也是 $0$ 到 $100$ 分的整数）。这位同学的最后得分就是 $60\%$ 的理论成绩加上 $40\%$ 的所在队伍的项目得分，然后四舍五入取整。

现在老师想知道所有同学的分数排行。请按最后得分从高到低的顺序，输出每位同学的得分和他所在的队伍。

## 说明/提示

A 组收到的分数分别是 $70,95,30$，其平均分为 $65$，则 $95,30$  被作为无效成绩剔除，因此 A 组的项目得分是 $70$ 分。  
B 组收到的分数分别是 $90,88,47$，其平均分为 $75$，则 $47$  被作为无效成绩剔除，因此 B 组的项目得分是 $89$ 分。  
C 组收到的分数分别是 $100,85,100$，其平均分为 $95$，没有打分被剔除，因此 C 组的项目得分是 $95$ 分。  


## 样例 #1

### 输入

```
6 3
70 A
80 A
65 B
95 B
85 C
90 C
70 90 100
95 88 85
30 47 100```

### 输出

```
93 B
92 C
89 C
76 A
75 B
70 A```

# AI分析结果

### 算法分类
模拟

### 综合分析与结论
本题主要考察模拟能力和对细节的处理，尤其是四舍五入和排序的实现。各题解的核心思路基本一致，即按照题目要求逐步计算团队得分和个人得分，最后进行排序输出。难点在于如何处理四舍五入和排序时的细节问题。

### 所选高星题解
1. **作者：HanPi (5星)**
   - **关键亮点**：使用 `round` 函数处理四舍五入，代码结构清晰，注释详细，使用了 `qsort` 函数进行排序，避免了手动实现排序的复杂性。
   - **个人心得**：强调了不要用 `int` 强行转换来四舍五入，推荐使用 `round` 函数。

   ```cpp
   int cmp(const void* a,const void* b) {
       pstu pa=(pstu)a;
       pstu pb=(pstu)b;
       if(pa->lastmark==pb->lastmark) {
           return pa->que-pb->que;
       }
       return pb->lastmark-pa->lastmark;
   }
   ```

2. **作者：警策看取 (4星)**
   - **关键亮点**：详细解释了四舍五入的实现方法，使用了 `round` 函数，代码结构清晰，注释详细。
   - **个人心得**：强调了强制类型转换时不能漏掉任何地方，推荐使用 `round` 函数。

   ```cpp
   for(int i=1;i<=k;++i) {
       double sum=0;
       for(int j=1;j<=k;++j) {
           sum+=score[j][i];
       }
       double average=sum/k;
       int shiji=k;
       for(int j=1;j<=k;++j) {
           if(abs(score[j][i]-average)>15) {
               shiji--;sum-=score[j][i];
           }
           double nowaverage=sum/shiji*1.0;
           score_of_team[i]=(int)round(nowaverage);
       }
   }
   ```

3. **作者：PaRz1VaL (4星)**
   - **关键亮点**：详细解释了四舍五入的实现方法，使用了 `round` 函数，代码结构清晰，注释详细。
   - **个人心得**：强调了四舍五入并不是向上取整，只有求最终团队成绩和个人最终成绩时需要四舍五入。

   ```cpp
   for(int i = 1;i <= n; i++) {
       double a = (double)s[i].score*0.6;
       double b = 0.4*ave[s[i].name-'A'+1];
       s[i].final = round(a + b);
   }
   ```

### 最优关键思路或技巧
- **四舍五入处理**：使用 `round` 函数进行四舍五入，避免手动实现的误差。
- **排序实现**：使用 `qsort` 或 `sort` 函数进行排序，简化代码并提高可读性。
- **细节处理**：在计算团队得分和个人得分时，注意四舍五入的时机和排序时的细节问题。

### 可拓展之处
- **类似题目**：可以考察更复杂的评分系统或更复杂的排序规则，如多关键字排序、加权评分等。
- **算法套路**：模拟题通常需要处理大量细节，建议多练习类似题目，提高代码实现和调试能力。

### 推荐题目
1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)
2. [P1056 排座椅](https://www.luogu.com.cn/problem/P1056)
3. [P1067 多项式输出](https://www.luogu.com.cn/problem/P1067)

---
处理用时：31.85秒
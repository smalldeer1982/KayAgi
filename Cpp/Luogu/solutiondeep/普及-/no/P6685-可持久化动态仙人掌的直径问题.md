# 题目信息

# 可持久化动态仙人掌的直径问题

## 题目背景

众所周知，一场考试需要一道签到题。

## 题目描述

给定 $n,m$，求有多少个正整数 $x$，使得 $x^m\le n$。

## 说明/提示

对于 $25\%$ 的数据满足 $m=1$；  
对于 $50\%$ 的数据满足 $n\le 10^6$；  
对于 $100\%$ 的数据满足 $1\leq n,m\le 10^9$。

---

$\text{upd 2022.7.24}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 2```

### 输出

```
2```

# AI分析结果

### 算法分类
数学、二分

### 综合分析与结论
本题的核心是求解满足 $x^m \le n$ 的正整数 $x$ 的个数。题解中提供了多种解法，包括直接枚举、使用 `pow` 函数、对数转换和二分查找。其中，二分查找是最优解法，因为它避免了浮点数精度问题，且时间复杂度较低。`pow` 函数和对数转换虽然简单，但在某些情况下可能因精度问题导致错误。直接枚举在 $n$ 较大时效率低下。

### 所选高分题解

#### 题解1：二分查找（作者：hensier）
- **星级**：5星
- **关键亮点**：利用二分查找的单调性，避免了浮点数精度问题，时间复杂度为 $O(\log n)$，代码简洁高效。
- **核心代码**：
  ```cpp
  #include<bits/stdc++.h>
  int n,m,l=1,r,mid;
  bool check(long long x,long long y) {
      long long res=1;
      while(y) {
          if(x>n)return false;
          if(y&1)res*=x;
          if(res>n)return false;
          x*=x;
          y>>=1;
      }
      return res<=n;
  }
  int main() {
      scanf("%d%d",&n,&m);
      r=n;
      while(l<=r) {
          mid=(l+r)>>1;
          if(check(mid,m))l=mid+1;
          else r=mid-1;
      }
      printf("%d",r);
      return 0;
  }
  ```

#### 题解2：二分查找（作者：Dimly_dust）
- **星级**：4星
- **关键亮点**：同样使用二分查找，但代码更为简洁，直接使用 `pow` 函数进行判断，适合初学者理解。
- **核心代码**：
  ```cpp
  #include<bits/stdc++.h>
  using namespace std;
  int main() {
      int n,m,ans=0;
      cin>>n>>m;
      int l=1,r=n,mid;
      while(l<=r) {
          mid=(l+r)>>1;
          if(pow(mid,m)<=n) {
              ans=mid;
              l=mid+1;
          }
          else r=mid-1;
      }
      cout<<ans;
      return 0;
  }
  ```

### 最优关键思路
- **二分查找**：利用幂函数的单调性，通过二分查找快速确定满足条件的最大 $x$，避免了浮点数精度问题，且时间复杂度较低。

### 可拓展之处
- **类似问题**：可以扩展到求解其他幂函数或指数函数的不等式问题，如 $a^x \le b$ 或 $x^a \le b^x$ 等。
- **算法套路**：二分查找适用于任何具有单调性的函数求解问题，如查找有序数组中的元素、求解方程根等。

### 推荐题目
1. [P2249 【深基13.例1】查找](https://www.luogu.com.cn/problem/P2249)
2. [P1024 一元三次方程求解](https://www.luogu.com.cn/problem/P1024)
3. [P3382 【模板】三分法](https://www.luogu.com.cn/problem/P3382)

### 个人心得
- **调试经历**：使用 `pow` 函数时需注意精度问题，尤其是在大数情况下，可能导致结果不准确。
- **顿悟感想**：二分查找是解决单调性问题的高效方法，掌握其应用场景和实现技巧对算法学习至关重要。

---
处理用时：24.89秒
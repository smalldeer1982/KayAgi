# 题目信息

# 梦中梦与不再有梦

## 题目背景

Amazing John 做了一个梦，梦到他做了很多梦。

记得最好的梦，是不再有梦。

## 题目描述

Amazing John 想要以自己的梦出一道题。

Amazing John 做了 $n$ 个梦。每两个梦之间都有且仅有一条桥梁直接相连，不会有桥梁从一个梦连向自身。

通过桥梁 $e_{u,v}$ 可以从梦 $u$ 到达 梦 $v$ 或从 $v$ 到达 $u$ ，并且获得 $1$ 点休息值。

对于每个桥梁 $e_{u,v}$ ，它只能被经过一次，无论是正向经过还是反向经过。

当到达一个梦且与它相连的所有桥梁都不能经过时， Amazing John 就会结束他的做梦。

现在 Amazing John 很困，他想知道从任意一个梦出发，最多可以获得多少休息值？

## 说明/提示

样例解释：

从 $1$ 出发，沿 $e_{1,2}$ 到达 $2$ ，再沿 $e_{2,3}$ 到达 $3$ ，最后沿 $e_{3,1}$ 到达 $1$。

总共获得了 $3$ 点休息值。

|子任务|数据点|数据范围|分数|
-|-|-|-|
|$1$|$1\sim2$|$n≤6,T=3$|$30$|
|$2$|$3\sim5$|$n≤10^9,T≤10^5$|$70$|

对于一个子任务，你能获得它的分数当且仅当你通过了其中所有的数据点。

## 样例 #1

### 输入

```
1
3```

### 输出

```
3```

# AI分析结果

### 算法分类
图论

### 综合分析与结论
题目要求在一个完全无向图中找到一条欧拉路径，使得经过的边数最多。核心思路是利用欧拉路径的性质，即图中最多只有两个奇数度数的点。对于完全图，当节点数为奇数时，所有节点的度数都是偶数，可以直接输出所有边数；当节点数为偶数时，需要删除最少的边使得图中只有两个奇数度数的点。

### 所选题解
1. **作者：_Luminous (赞：12)**
   - **星级：5星**
   - **关键亮点：**
     - 详细解释了欧拉路径的定义和性质，帮助读者理解题目背后的图论知识。
     - 提供了清晰的代码实现，直接根据节点数的奇偶性输出结果。
   - **代码核心思想：**
     ```cpp
     if(n%2)
         cout<<n*(n-1)/2<<endl;
     else
         cout<<n*(n-1)/2-(n-2)/2<<endl;
     ```
   - **个人心得：**
     - 作者强调了欧拉路径的充要条件，帮助读者理解为什么奇数节点数的完全图可以直接输出所有边数。

2. **作者：超级玛丽王子 (赞：9)**
   - **星级：4星**
   - **关键亮点：**
     - 通过分类讨论，详细解释了为什么奇数节点数的完全图可以直接输出所有边数，而偶数节点数需要删除最少的边。
     - 提供了简洁的代码实现，直接根据节点数的奇偶性输出结果。
   - **代码核心思想：**
     ```cpp
     if(n&1) printf("%lld\n", n * (n - 1) >> 1);
     else printf("%lld\n", n * (n - 1) / 2 - (n / 2 - 1));
     ```
   - **个人心得：**
     - 作者通过画图帮助读者理解偶数节点数时删除边的必要性。

3. **作者：InformationEntropy (赞：5)**
   - **星级：4星**
   - **关键亮点：**
     - 详细解释了欧拉路径的性质，特别是当节点数为偶数时，需要删除最少的边使得图中只有两个奇数度数的点。
     - 提供了清晰的代码实现，直接根据节点数的奇偶性输出结果。
   - **代码核心思想：**
     ```cpp
     if (n % 2 == 1) cout << n * (n - 1) / 2 << '\n';
     else cout << n * (n - 1) / 2 - (n - 2) / 2 << '\n';
     ```
   - **个人心得：**
     - 作者通过简单的例子帮助读者理解偶数节点数时删除边的必要性。

### 最优关键思路或技巧
- **欧拉路径性质：** 利用欧拉路径的性质，即图中最多只有两个奇数度数的点，直接根据节点数的奇偶性输出结果。
- **分类讨论：** 对于奇数节点数的完全图，直接输出所有边数；对于偶数节点数，删除最少的边使得图中只有两个奇数度数的点。

### 可拓展之处
- **类似题目：** 可以拓展到有向图中的欧拉路径问题，或者不完全图中的欧拉路径问题。
- **算法套路：** 利用图论中的欧拉路径性质，结合分类讨论，解决类似问题。

### 推荐题目
1. [P2731 [USACO3.3]骑马修栅栏 Riding the Fences](https://www.luogu.com.cn/problem/P2731)
2. [P1341 无序字母对](https://www.luogu.com.cn/problem/P1341)
3. [P1333 瑞瑞的木棍](https://www.luogu.com.cn/problem/P1333)

---
处理用时：27.35秒
# 题目信息

# 「PMOI-0」假·儒略日

## 题目背景

（原 LZOI-1，改名已经 PMOI 成员同意）

Lanuxhem 听说 言琢დ 在 S-PSC 考场上就切穿了 **儒略の日**，想得到 言琢დ 手中的考场 AC 代码。

但是 言琢დ 不想给他，所以 言琢დ 就扔给了 Lanuxhem 下面这题，并说：“切了这道题就给你。”

lhm-02

## 题目描述

给定一个正整数 $n$ 和另一个正整数 $d$。

要求构造一个长度为 $2n$ 的数列 $\{a_{2n}\}$，满足：

1. $1\sim n$ 之中每个数字均出现 $2$ 次。
2. 对于数字 $i$，若 $i$ 为奇数，则数字 $i$ 两次出现位置之差 **必须** 超过 $d$。
3. 对于数字 $i$，若 $i$ 为偶数，则数字 $i$ 两次出现位置之差 **不能** 超过 $d$。

由于 Lanuxhem 想得到 言琢დ 的代码，但他并不会这道题，所以他只能请聪明的你帮他完成这题。

## 说明/提示

#### 样例说明

数字 $1$ 两次分别出现在位置 $2,6$，差为 $4(>2)$；

数字 $3$ 两次分别出现在位置 $1,4$，差为 $3(>2)$；

数字 $2$ 两次分别出现在位置 $3,5$，差为 $2(\le2)$。

#### 数据范围

| 子任务编号 | 分值 | 特殊限制 |
| :-: | :-: | :-: |
| $1$ | $36$ | $n\le10$ |
| $2$ | $24$ | $d=\left\lfloor\dfrac{n}{2}\right\rfloor$ |
| $3$ | $40$ | $\times$ |

对于 $100\%$ 的数据：$1\le\dfrac{d}{2}\le n\le10^6$。

## 样例 #1

### 输入

```
3 2```

### 输出

```
3 1 2 3 2 1```

## 样例 #2

### 输入

```
3 6```

### 输出

```
-1```

# AI分析结果

### 算法分类
构造

### 综合分析与结论
本题的核心在于构造一个满足特定条件的数列，主要难点在于如何合理安排奇数和偶数的位置，使得奇数的两次出现位置之差超过给定的 $d$，而偶数的两次出现位置之差不超过 $d$。各题解的思路基本一致，即将偶数放在中间，奇数放在两端，并通过计算判断是否满足条件。其中，HYdroKomide 和 Da_un 的题解思路清晰，代码简洁，且对无解情况的判断较为准确，值得推荐。

### 所选题解

#### 1. HYdroKomide (4星)
**关键亮点：**
- 思路清晰，将偶数全部挨着放，奇数放在两端，确保奇数之间的距离最大。
- 对无解情况的判断准确，通过计算奇数个数与偶数个数的关系来判断是否输出 `-1`。

**核心代码：**
```cpp
if(d>((n>>1)<<1)+(n-(n>>1)-1)){
    write(-1);
    return 0;
}
for(ri i=1;i<=n;i+=2)write(i);
for(ri i=2;i<=n;i+=2)write(i),write(i);
for(ri i=1;i<=n;i+=2)write(i);
```
**实现思想：**
- 首先判断是否无解，若 $d$ 大于奇数个数与偶数个数的关系，则输出 `-1`。
- 依次输出奇数、偶数、奇数，确保奇数之间的距离最大。

#### 2. Da_un (4星)
**关键亮点：**
- 详细解释了偶数放在中间，奇数放在两端的构造方法。
- 通过计算奇数个数与偶数个数的关系来判断是否输出 `-1`，逻辑严谨。

**核心代码：**
```cpp
if(j+o-1>=d){
    for(int i=1;i<=aa;i++)
        printf("%d ",a[i]);
    for(int i=1;i<=bb;i++)
        printf("%d %d ",b[i],b[i]);
    for(int i=1;i<=aa;i++)
        printf("%d ",a[i]);
}
else
    cout<<-1;
```
**实现思想：**
- 首先判断是否无解，若 $d$ 大于奇数个数与偶数个数的关系，则输出 `-1`。
- 依次输出奇数、偶数、奇数，确保奇数之间的距离最大。

### 最优关键思路或技巧
- **偶数放在中间，奇数放在两端**：这是本题的核心构造方法，确保偶数之间的距离最小，奇数之间的距离最大。
- **无解判断**：通过计算奇数个数与偶数个数的关系，判断是否输出 `-1`，这是确保构造有效性的关键。

### 可拓展之处
- 类似构造题可以通过分析题目条件，找到合理的排列方式，确保满足特定条件。
- 在构造过程中，可以通过计算某些关键值来判断是否无解，避免无效构造。

### 推荐题目
1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)
2. [P1047 校门外的树](https://www.luogu.com.cn/problem/P1047)
3. [P1056 排座椅](https://www.luogu.com.cn/problem/P1056)

### 个人心得
- **调试经历**：在构造过程中，需要仔细计算奇数与偶数的位置关系，确保满足条件。
- **踩坑教训**：无解情况的判断容易忽略，需要仔细分析题目条件，确保逻辑严谨。
- **顿悟感想**：通过将偶数放在中间，奇数放在两端，可以最大化奇数之间的距离，这是本题的关键思路。

---
处理用时：28.65秒
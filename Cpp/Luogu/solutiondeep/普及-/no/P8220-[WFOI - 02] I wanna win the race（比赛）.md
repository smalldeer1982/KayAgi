# 题目信息

# [WFOI - 02] I wanna win the race（比赛）

## 题目背景

> best is yet to come

kid 不小心进入了联机模式，他需要比他的对手更快通关才能取得胜利……

## 题目描述

kid 走进了一个场地，若干名选手在进行比赛，场地可以抽象为一个坐标系。

选手们要从 $\left(1,1\right)$ 跑到 $\left(n,n\right)$，若当前选手处在 $\left(x,y\right)$，则他们下一步可以移动到 $\left(x\pm1,y\right)$ 或 $\left(x,y\pm1\right)$，注意，他们**仅可以在第一象限活动**，即任何时候 $x>0,y>0$。

所有点最开始都是 $\texttt{A}$ 类点，主办方选择了一个三元组 $\left(a,b,c\right)$，将所有满足 $a\leq x\leq b$ 且 $y\leq c$ 的点 $\left(x,y\right)$ 变为 $\texttt{B}$ 类点，选手每经过一个 $\texttt{A}$ 类需要耗时 $1$ 秒，每经过一个 $\texttt{B}$ 类需要耗时 $2$ 秒。请注意，**起始点和终点也要纳入计算。**

kid 想要赢得这场比赛，他想知道**最少**需要多少秒能到达终点。

**请注意，在【数据范围】中有重要的约束条件。**

## 说明/提示

**【样例解释】**

下图是其中一种可行的方案，紫色点为 $\texttt{A}$ 类点，红色点为 $\texttt{B}$ 类点：

![](https://s1.ax1x.com/2022/03/06/bBvQPJ.png)

**【数据规模与约定】**

**本题采用 $\tt Subtask$ 捆绑测试。**

对于 $30\%$ 的数据，$1<a<b<n\leq 10^3，0<c\leq 10^3$。

对于 $100\%$ 的数据，$1<a<b<n\leq 10^9，0<c\leq 10^9$。

## 样例 #1

### 输入

```
5
2 4 3```

### 输出

```
9```

# AI分析结果

### 算法分类
贪心

### 综合分析与结论
该题目要求从起点 (1,1) 到终点 (n,n) 的最短时间路径，路径中某些点的时间消耗不同。由于数据范围较大（n ≤ 10^9），无法使用搜索或动态规划等常规算法，因此需要基于贪心策略进行分类讨论。核心思路是根据 B 类点的分布情况，选择最优路径：

1. 当 B 类点不覆盖终点所在的行时，直接走最短路径。
2. 当 B 类点覆盖终点所在的行时，选择绕过 B 类点或直接穿过 B 类点，取两者中的最小值。

### 所选题解
#### 1. 作者：Elgo87 (5星)
**关键亮点**：
- 清晰分类讨论，分为 c ≥ n 和 c < n 两种情况。
- 代码简洁，直接输出最优解。
- 通过图示直观展示路径选择。

**代码核心思想**：
```cpp
cout << (c >= n ? min(2*n-1 + y-x+1, 2*c+1) : 2*n-1);
```
直接根据 c 与 n 的关系，选择最优路径。

#### 2. 作者：TheSky233 (4星)
**关键亮点**：
- 详细分析三种情况，包括绕过 B 类点的路径。
- 代码清晰，使用 min 函数比较两种路径的耗时。
- 强调开 long long 的重要性。

**代码核心思想**：
```cpp
if(c<n) cout<<n+n-1;
else cout<<min((n+n-1)+(b-a+1),(c+1)+(n-1)+(c-n+1));
```
通过 min 函数比较两种路径的耗时，输出最小值。

#### 3. 作者：sgl654321 (4星)
**关键亮点**：
- 清晰分类讨论，分为 c < n 和 c ≥ n 两种情况。
- 详细推导两种路径的耗时公式。
- 代码简洁，直接输出最优解。

**代码核心思想**：
```cpp
if(c<n) cout<<2*n-1;
else cout<<min(2*n+b-a,2*c+1);
```
根据 c 与 n 的关系，选择最优路径。

### 最优关键思路或技巧
1. **分类讨论**：根据 B 类点的分布情况，分为 c < n 和 c ≥ n 两种情况，分别计算最优路径。
2. **贪心策略**：在 c ≥ n 时，选择绕过 B 类点或直接穿过 B 类点，取两者中的最小值。
3. **数学公式推导**：通过数学公式计算两种路径的耗时，避免复杂的搜索或动态规划。

### 可拓展之处
该题的贪心策略和分类讨论思想可以应用于其他路径规划问题，尤其是在数据范围较大时，无法使用常规算法的情况下。类似问题可以通过分析问题特点，找到最优的贪心策略。

### 推荐题目
1. [P1002 过河卒](https://www.luogu.com.cn/problem/P1002)
2. [P1219 八皇后](https://www.luogu.com.cn/problem/P1219)
3. [P1044 栈](https://www.luogu.com.cn/problem/P1044)

### 个人心得摘录
- **Elgo87**：通过图示直观展示路径选择，帮助理解问题。
- **TheSky233**：强调开 long long 的重要性，避免数据溢出。
- **sgl654321**：详细推导两种路径的耗时公式，确保代码正确性。

这些心得提醒我们在解题时要注意数据范围和路径选择的合理性，避免因小失大。

---
处理用时：26.55秒
# 题目信息

# [蓝桥杯 2019 国 B] 解谜游戏

## 题目背景

![](https://cdn.luogu.com.cn/upload/image_hosting/irtm4w5m.png)

## 题目描述

小明正在玩一款解谜游戏。谜题由 $24$ 根塑料棒组成，其中黄色塑料棒 $4$ 根，红色 $8$ 根，绿色 $12$ 根 (后面用 `Y` 表示黄色、`R` 表示红色、`G` 表示绿色)。初始时这些塑料棒排成三圈，如上图所示，外圈 $12$ 根，中圈 $8$ 根，内圈 $4$ 根。

小明可以进行三种操作：

1. 将三圈塑料棒都顺时针旋转一个单位。例如当前外圈从 $0$ 点位置开始顺时针依次是 `YRYGRYGRGGGG`，中圈是 `RGRGGRRY`，内圈是 `GGGR`。那么顺时针旋转一次之后，外圈、中圈、内圈依次变为：`GYRYGRYGRGGG`、`YRGRGGRR` 和 `RGGG`。
2. 将三圈塑料棒都逆时针旋转一个单位。例如当前外圈从 $0$ 点位置开始顺时针依次是 `YRYGRYGRGGGG`，中圈是 `RGRGGRRY`，内圈是 `GGGR`。那么逆时针旋转一次之后，外圈、中圈、内圈依次变为：`RYGRYGRGGGGY`、`GRGGRRYR` 和 `GGRG`。
3. 将三圈 $0$ 点位置的塑料棒做一个轮换。具体来说：外圈 $0$ 点塑料棒移动到内圈 $0$ 点，内圈 $0$ 点移动到中圈 $0$ 点，中圈 $0$ 点移动到外圈 $0$ 点。例如当前外圈从 $0$ 点位置开始顺时针依次是 `YRYGRYGRGGGG`，中圈是 `RGRGGRRY`，内圈是 `GGGR`。那么轮换一次之后，外圈、中圈、内圈依次变为：`RRYGRYGRGGGG`、`GGRGGRRY` 和 `YGGR`。

小明的目标是把所有绿色移动到外圈、所有红色移动中圈、所有黄色移动到内圈。给定初始状态，请你判断小明是否可以达成目标？

## 说明/提示

蓝桥杯 2019 年国赛 B 组 H 题。

## 样例 #1

### 输入

```
2
GYGGGGGGGGGG
RGRRRRRR
YRYY
YGGGRRRRGGGY
YGGGRRRR
YGGG
```

### 输出

```
YES
NO```

# AI分析结果

### 算法分类
**模拟**

### 综合分析与结论
该题的核心逻辑是通过模拟塑料棒的旋转和交换操作，判断是否能够将所有绿色塑料棒移动到外圈、红色移动到中圈、黄色移动到内圈。题解的主要思路是通过观察塑料棒的周期性，发现每组6个塑料棒的颜色分布必须满足特定条件（3绿、2红、1黄），才能通过操作达到目标状态。所有题解都采用了类似的思路，通过枚举每组塑料棒并统计颜色分布来判断是否可行。

### 所选高星题解
1. **作者：___w (5星)**
   - **关键亮点**：思路清晰，代码简洁，通过枚举内圈的4个塑料棒并统计相关6个塑料棒的颜色分布，判断是否满足条件。代码中使用了桶计数来高效统计颜色分布。
   - **代码核心**：
     ```cpp
     for (int i = 0; i < 4; ++i) {
         memset(cnt, 0, sizeof(cnt));
         ++cnt[a[i]], ++cnt[b[i]], ++cnt[c[i]];
         ++cnt[a[i+4]], ++cnt[a[i+8]], ++cnt[b[i+4]];
         if (cnt['Y'] != 1 || cnt['R'] != 2 || cnt['G'] != 3) {
             flag = 0;
             break;
         }
     }
     ```

2. **作者：Lemonlwl (4星)**
   - **关键亮点**：通过观察图片发现每组塑料棒的颜色分布规律，并使用桶计数进行判断。代码结构清晰，注释详细。
   - **代码核心**：
     ```cpp
     for (int i = 0; i < 4; i++) {
         memset(sum, 0, sizeof(sum));
         sum[a[i]]++; sum[b[i]]++; sum[c[i]]++;
         sum[a[i+4]]++; sum[b[i+4]]++; sum[a[i+8]]++;
         if (sum['G'] != 3 || sum['R'] != 2 || sum['Y'] != 1) {
             flag = false;
             break;
         }
     }
     ```

3. **作者：banned_xiejiayun (4星)**
   - **关键亮点**：通过分析字符串长度的倍数关系，发现每组塑料棒的颜色分布必须满足特定条件。代码中使用`map`进行颜色统计，思路清晰。
   - **代码核心**：
     ```cpp
     for (int i = 0; i < 4; i++) {
         m['G']=m['R']=m['Y']=0;
         m[a[i]]++; m[b[i]]++; m[c[i]]++;
         m[a[i + 4]]++; m[b[i + 4]]++; m[a[i + 8]]++;
         if(m['G']==3&&m['R']==2&&m['Y']==1)continue;
         flag=0;
     }
     ```

### 最优关键思路
- **周期性分析**：通过观察塑料棒的周期性，发现每组6个塑料棒的颜色分布必须满足3绿、2红、1黄的条件。
- **桶计数**：使用桶计数或`map`来高效统计每组塑料棒的颜色分布，判断是否满足条件。

### 拓展思路
- **类似题目**：类似的问题可以通过观察周期性或分组条件，判断是否可以通过有限的操作达到目标状态。例如，某些拼图游戏或状态转换问题也可以通过类似的思路解决。

### 推荐题目
1. [P1008 三连击](https://www.luogu.com.cn/problem/P1008) - 通过枚举和条件判断解决问题。
2. [P1012 拼数](https://www.luogu.com.cn/problem/P1012) - 通过字符串拼接和排序解决问题。
3. [P1028 数的计算](https://www.luogu.com.cn/problem/P1028) - 通过递推和模拟解决问题。

### 个人心得摘录
- **作者：banned_xiejiayun**：提到“题目只让输出可否完成！！！那就根本不需要什么队列了！”——强调了题目要求的简化，避免过度复杂化问题。
- **作者：Lemonlwl**：提到“这道题其实没有任何技巧，纯属**找规律**的思维逻辑题。”——强调了通过观察和找规律解决问题的重要性。

---
处理用时：29.08秒
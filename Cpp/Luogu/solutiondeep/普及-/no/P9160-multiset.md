# 题目信息

# multiset

## 题目背景

ZHY 有很多集合。集合多了，也就成了多重集合。

## 题目描述

给定一个 **多重集合**（集合中元素可重复）$S$，请求出一个最大的多重集合 $T$，满足 $T$ 是 $S$ 的一个 **真子集**，且对于 $T$ 中的每一个元素 $i$，要么 $i$ 在 $S$ 中没有前驱，要么 $i$ 在 $S$ 中的前驱 $\in T$。若有多个大小相同的集合满足条件，则 $T$ 为所有元素之和最大的一个。请输出 $T$ 的大小和其中元素之和。

---

一个数 $x$ 在一个集合 $S$ 中的前驱的定义为所有在 $S$ 中且 $<x$ 的元素 $y$ 的最大值。

## 说明/提示

**样例 $1$ 解释**

$T$ 为 $\{5,1,4\}$。

**样例 $2$ 解释**

$T$ 为 $\{1,4,2,5,7\}$。

### 数据范围

对于 $30\%$ 的数据，$n \le 15$。

对于 $100\%$ 的数据，$2 \le n \le 10^5$，$1 \le S$ 中的元素 $\le 10^9$。

## 样例 #1

### 输入

```
4
4 5 1 4```

### 输出

```
3 10```

## 样例 #2

### 输入

```
6
1 4 2 8 5 7```

### 输出

```
5 19```

# AI分析结果

### 算法分类
**排序**

### 综合分析与结论
本题的核心在于通过排序和贪心策略，找到一个满足条件的最大真子集。所有题解都遵循了以下思路：
1. **第一问**：$T$ 的大小总是 $n-1$，因为删除一个元素后，集合仍然满足条件。
2. **第二问**：为了使 $T$ 的元素和最大，优先删除最小的重复元素；如果没有重复元素，则删除最大元素。

### 所选高星题解
1. **Galex (5星)**
   - **关键亮点**：代码简洁，逻辑清晰，直接通过排序和遍历找到需要删除的元素。
   - **核心代码**：
     ```cpp
     sort(a + 1, a + n + 1);
     for (int i = 2; i <= n; i++)
         if (a[i] == a[i - 1] || i == n) {
             sum -= a[i];
             break;
         }
     ```
   - **个人心得**：无。

2. **Night_sea_64 (4星)**
   - **关键亮点**：详细解释了删除元素的逻辑，代码可读性强。
   - **核心代码**：
     ```cpp
     sort(a + 1, a + n + 1);
     bool flag = 0;
     for (int i = 1; i <= n; i++)
         if (a[i] == a[i - 1]) {
             flag = 1;
             s -= a[i];
             break;
         }
     if (!flag) s -= a[n];
     ```
   - **个人心得**：无。

3. **Lovely_Elaina (4星)**
   - **关键亮点**：通过模拟和逻辑推导，清晰地解释了删除元素的策略。
   - **核心代码**：
     ```cpp
     sort(s + 1, s + 1 + n);
     del = s[n];
     for (int i = 2; i <= n; i++) {
         if (s[i - 1] == s[i]) {
             del = s[i];
             break;
         }
     }
     ```
   - **个人心得**：无。

### 最优关键思路或技巧
1. **排序**：首先对集合进行排序，便于后续查找重复元素和最大元素。
2. **贪心策略**：优先删除最小的重复元素，以最大化 $T$ 的元素和。

### 可拓展之处
- **类似题目**：可以扩展到其他需要删除元素以满足特定条件的题目，如删除某些元素使得剩余元素满足某种性质（如单调性、特定关系等）。

### 推荐题目
1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
2. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)
3. [P1803 凌乱的yyy / 线段覆盖](https://www.luogu.com.cn/problem/P1803)

---
处理用时：24.49秒
# 题目信息

# [蓝桥杯 2023 国 B] 班级活动

## 题目描述

小明的老师准备组织一次班级活动。班上一共有 $n$ 名（$n$ 为偶数）同学，老师想把所有的同学进行分组，每两名同学一组。为了公平，老师给每名同学随机分配了一个 $n$ 以内的正整数作为 id，第 $i$ 名同学的 id 为 $a_i$。

老师希望通过更改若干名同学的 id 使得对于任意一名同学 $i$，有且仅有另一名同学 $j$ 的 id 与其相同（$a_i = a_j$）。请问老师最少需要更改多少名同学的 id？

## 说明/提示

### 样例说明

仅需要把 $a_1$ 改为 $3$ 或者把 $a_4$ 改为 $1$ 即可。

### 评测用例规模与约定

- 对于 $20\%$ 的数据，保证 $n \le 10^3$。
- 对于 $100\%$ 的数据，保证 $n \le 10^5$。

第十四届蓝桥杯大赛软件赛决赛 C/C++ 大学 B 组 C 题

## 样例 #1

### 输入

```
4
1 2 2 3```

### 输出

```
1```

# AI分析结果

### 算法分类
贪心

### 综合分析与结论
题目要求通过最少的修改次数，使得每个ID恰好有两个同学使用。所有题解的核心思路都是通过统计每个ID的出现次数，然后根据出现次数的不同情况（大于2、等于2、小于2）来计算需要修改的次数。具体来说，题解主要分为以下步骤：
1. 统计每个ID的出现次数。
2. 计算需要修改的次数，分为两种情况：
   - 对于出现次数大于2的ID，需要修改的次数为 `出现次数 - 2`。
   - 对于出现次数小于2的ID，需要修改的次数为 `2 - 出现次数`。
3. 根据上述两种情况的总和，计算最终的最小修改次数。

### 所选题解
1. **作者：zjw806903 (5星)**
   - **关键亮点**：思路清晰，代码简洁，通过桶排序统计每个ID的出现次数，然后根据出现次数的不同情况计算修改次数。代码中使用了 `d` 和 `ss` 分别记录出现次数大于2和小于2的情况，最后通过简单的数学计算得出结果。
   - **代码核心实现**：
     ```cpp
     for(int i=1;i<=n;i++){
         if(t[i]>2){
             d+=t[i]-2;
         }
         if(t[i]!=0&&t[i]<2){
             ss+=2-t[i];
         }
     }
     cout<<ans+d+ss/2;
     ```

2. **作者：_Gabriel_ (5星)**
   - **关键亮点**：思路与zjw806903类似，但代码实现更加简洁，直接通过 `sum1` 和 `sum2` 记录出现次数大于2和小于2的情况，最后通过简单的条件判断输出结果。
   - **代码核心实现**：
     ```cpp
     for(int i=1;i<=1e6;i++){
         if(cnt[i]>=2){
             sum1 += (cnt[i] - 2);
         } else {
             sum2 += cnt[i];
         }
     }
     if(sum1 > sum2){
         cout << sum1 << "\n";
     } else {
         cout << sum1 + (sum2 - sum1) / 2 << "\n";
     }
     ```

3. **作者：lailai0916 (4星)**
   - **关键亮点**：思路清晰，代码简洁，通过 `s1` 和 `s2` 分别记录出现次数等于1和大于2的情况，最后通过简单的数学计算得出结果。
   - **代码核心实现**：
     ```cpp
     for(int i=1;i<=n;i++){
         if(a[i]==1){
             s1+=1;
         }
         else if(a[i]>2){
             s2+=a[i]-2;
         }
     }
     cout<<s2+max(s1-s2,0)/2<<'\n';
     ```

### 最优关键思路或技巧
- **桶排序**：通过桶排序统计每个ID的出现次数，便于后续计算。
- **贪心策略**：通过优先处理出现次数大于2的ID，减少修改次数。
- **数学计算**：通过简单的数学计算（如 `ss/2`）来优化最终结果。

### 可拓展之处
- **类似题目**：可以扩展到其他需要统计元素出现次数并进行修改的问题，如 [P1106 删数问题](https://www.luogu.com.cn/problem/P1106)、[P1090 合并果子](https://www.luogu.com.cn/problem/P1090)、[P1048 采药](https://www.luogu.com.cn/problem/P1048)。

### 推荐题目
1. [P1106 删数问题](https://www.luogu.com.cn/problem/P1106)
2. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
3. [P1048 采药](https://www.luogu.com.cn/problem/P1048)

### 个人心得
- **调试经历**：在处理出现次数大于2和小于2的情况时，需要注意边界条件，避免出现负数或未定义行为。
- **顿悟感想**：通过贪心策略，可以有效地减少修改次数，提高算法的效率。

---
处理用时：31.30秒
# 题目信息

# [入门赛 #14] 塔台超频 (Hard Version)

## 题目描述

在一条笔直的马路上有 $n$ 个塔台，它们被依次标号为 $1, 2, \cdots, n$，分别处于距离马路起点 $a _ 1, a _ 2, \cdots, a _ n$（$a _ 1 < a _ 2 < \cdots < a _ n$）的位置。

每个塔台初始时有一个通讯半径 $b _ 1, b _ 2, \cdots, b _ n$，这代表，对于 $i$ 号塔台，其可以与 $[a _ i - b _ i, a _ i + b _ i]$ 范围内的塔台通讯。

需要特别注意，对于两个塔台 A、B，当且仅当 A 塔台的**位置**处在 B 塔台的通讯范围内，B 塔台才能向 A 塔台传递信号。请注意这里不是「二者的通讯范围重合，即可通讯」。

现在你可以对这些塔台进行超频。具体的，你可以指定一个电压 $k$，之后**所有**塔台都会被加上 $k$ 的电压，通讯半径都会增大 $k$。这里的 $k$ 仅可为非负整数。

现在要求你通过超频，使信号可以从 $1$ 号塔台传输到 $n$ 号塔台，路径不限（即，无论如何，只需要让信号从 $1$ 号塔台到达 $n$ 号塔台即可）。但是由于不合理的超频会较严重地磨损塔台，因此你想要尽可能降低超频的电压。

请你计算出，为了达到以上目的，塔台超频需要的最小电压是多少。

## 说明/提示

### 数据规模与约定

对于 $100\%$ 的数据，保证 $2 \leq n \leq 5 \times 10 ^ 5$，$0 \leq a _ i, b _ i \leq 10 ^ 9$。

## 样例 #1

### 输入

```
10
2 3
5 0
6 3
7 2
8 0
10 0
13 2
14 4
15 4
18 2```

### 输出

```
3```

# AI分析结果

### 算法分类
二分

### 综合分析与结论
该题的核心是通过二分查找确定最小超频电压，使得信号可以从1号塔台传输到n号塔台。大部分题解采用了二分查找的思路，通过`check`函数验证当前电压是否满足条件。部分题解进一步优化了时间复杂度，通过贪心策略将复杂度降低到O(n)。

### 所选高分题解
1. **作者：EdenSky**  
   - **星级：5星**  
   - **关键亮点**：提供了两种解法，二分和贪心，且贪心解法的时间复杂度优化到O(n)。代码清晰，思路明确，且提供了详细的证明和解释。  
   - **核心代码**：
     ```cpp
     bool check(int x){
       int t=a[1]+b[1]+x;
       for(int i=2;i<=n;i++)
         if(t>=a[i]) t=max(t,a[i]+b[i]+x);
         else return 0;
       return 1;
     }
     ```
     **核心思想**：通过二分查找确定最小电压，`check`函数验证当前电压是否满足信号传输条件。

2. **作者：wangif424**  
   - **星级：4星**  
   - **关键亮点**：通过一次遍历实现贪心策略，时间复杂度为O(n)，代码简洁高效。  
   - **核心代码**：
     ```cpp
     for(int i=2;i<=n;i++){
       if(rmax+k<t[i].a){
         k=t[i].a-rmax;
       }
       rmax=max(rmax,t[i].r);
     }
     ```
     **核心思想**：通过维护当前最大覆盖范围`rmax`和电压`k`，逐步更新最小电压。

3. **作者：_Spectator_**  
   - **星级：4星**  
   - **关键亮点**：通过维护当前覆盖范围的最右端，逐步更新最小电压，思路清晰，代码简洁。  
   - **核心代码**：
     ```cpp
     for(int i=2;i<=n;i++){
       int r=a[p]+b[p]+k;
       if(a[i]>r)k+=a[i]-r;
       if(a[i]+b[i]+k>r)p=i;
     }
     ```
     **核心思想**：通过维护当前覆盖范围的最右端，逐步更新最小电压。

### 最优关键思路或技巧
1. **二分查找**：通过二分查找确定最小电压，结合`check`函数验证当前电压是否满足条件。
2. **贪心策略**：通过维护当前最大覆盖范围，逐步更新最小电压，优化时间复杂度到O(n)。

### 可拓展之处
该题的贪心策略可以应用于其他需要逐步更新最优解的问题，如最短路径、区间覆盖等。

### 推荐题目
1. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)
2. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
3. [P1886 滑动窗口](https://www.luogu.com.cn/problem/P1886)

---
处理用时：23.34秒
# 题目信息

# [NERC 2018]  Guest Student

## 题目背景

翻译自 [NERC 2018](https://neerc.ifmo.ru/archive/2018/neerc-2018-statement.pdf) G 题。

## 题目描述

你作为某知名大学的客座学生，你想要在那里学习 $k$ 节课，但同时很遗憾，对于每周，你只有特定的时间才能有空去听课，如果 $a_i = 1$，说明周 $i$ 你有空，反之则没空。

你需要安排一个合理的日程，使得你去听第一节课到最后一节课中间经过的时间最短，当然第一节课听什么的顺序由你决定。

## 说明/提示

对于所有数据，保证 $1 \leq t \leq 10000$，$1 \leq k \leq 10^8$ 且 $a_i \in \{0,1\}$。

对于样例一，从周二开始听课听到下周二，经过 $8$ 天。

## 样例 #1

### 输入

```
3
2
0 1 0 0 0 0 0
100000000
1 0 0 0 1 0 1
1
1 0 0 0 0 0 0```

### 输出

```
8
233333332
1```

# AI分析结果

### 算法分类
模拟

### 综合分析与结论
本题的核心是通过模拟每周的空闲时间，找到最短的时间安排来上完所有课程。题解主要集中在如何优化模拟过程，避免直接暴力模拟导致的时间复杂度过高。以下是各题解的要点对比：

1. **Genshineer的题解**：
   - 思路：将时间分为整星期和散块，通过旋转数组处理前面的散块，优化了模拟过程。
   - 难点：处理前面的散块时，通过旋转数组简化了实现。
   - 评分：4星
   - 关键亮点：通过旋转数组处理散块，代码简洁且高效。

2. **what_can_I_do的题解**：
   - 思路：枚举每个可能的起始日，计算所需天数，优化了周期计算。
   - 难点：处理余下的课程时，通过暴力求解剩余周期。
   - 评分：3星
   - 关键亮点：周期计算优化，但余下课程的处理仍较暴力。

3. **linyukun的题解**：
   - 思路：通过结构体存储上课日及其间隔，优化了模拟过程。
   - 难点：处理间隔日期时，通过多次循环优化了模拟过程。
   - 评分：3星
   - 关键亮点：结构体存储间隔，多次循环优化，但代码较复杂。

### 最优关键思路或技巧
- **旋转数组处理散块**：通过旋转数组简化了前面散块的处理，避免了复杂的边界条件判断。
- **周期计算优化**：通过计算整星期的课程数，减少了模拟的次数，提高了效率。

### 可拓展之处
- 类似问题：其他需要周期性模拟的问题，如任务调度、资源分配等。
- 类似算法套路：通过预处理和优化模拟过程，减少时间复杂度。

### 推荐题目
1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)
2. [P1047 校门外的树](https://www.luogu.com.cn/problem/P1047)
3. [P1056 排座椅](https://www.luogu.com.cn/problem/P1056)

### 个人心得摘录
- **Genshineer**：通过旋转数组处理前面的散块，极大地降低了程序的实现难度。
- **linyukun**：多次处理的方式，每次循环以1000倍为跨度倍数，兼顾了速度和遗留的数据量。

### 核心代码片段
```cpp
void rtt() { // Rotate
	int tmp = a[1];
	for (int i = 1; i < 7; i++) a[i] = a[i + 1];
	a[7] = tmp;
}

int get(int x) {
	int res = 7 * ((x - 1) / cnt);
	x -= (res / 7) * cnt;
	for (int i = 1; i <= 7 and x; i++) {
		res++;
		x -= a[i];
	}
	return res;
}
```

---
处理用时：20.92秒
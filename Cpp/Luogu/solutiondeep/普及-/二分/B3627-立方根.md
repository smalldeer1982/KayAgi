# 题目信息

# 立方根

## 题目描述

给定正整数 $n$，求 $\sqrt[3]{n}$。答案向下取整。

## 说明/提示

对于 $100\%$ 的数据，有 $n\leq 10^{15}$。



## 样例 #1

### 输入

```
27```

### 输出

```
3```

## 样例 #2

### 输入

```
100000```

### 输出

```
46```

## 样例 #3

### 输入

```
1000000000000000```

### 输出

```
100000```

# AI分析结果



### 综合分析与结论
题目要求在 $O(1)$ 或对数复杂度内求解立方根。各解法核心差异在于数值处理方式与精度控制。二分法最稳定，牛顿法效率高，库函数解法简洁但有隐藏风险。最优思路为二分法，兼具普适性与稳定性。

---

### 精选题解与评分
#### 1. 二分法（★★★★★）
**关键亮点**  
- 确定边界为 $[0,10^5]$ 避免溢出  
- 通过比较立方值调整区间，直接取最终右边界为答案  
- 时间复杂度 $O(\log n)$，无需处理浮点误差

**核心代码**  
```cpp
long long l=0, r=1e5;
while(l<=r){
    long long mid=(l+r)/2;
    if(mid*mid*mid <=n) l=mid+1;
    else r=mid-1;
}
return r;
```

#### 2. 牛顿迭代法（★★★★）
**关键亮点**  
- 公式推导：$x_{k+1} = \frac{2x_k + n/x_k^2}{3}$  
- 初始值设为 $n$，3-4次迭代即可收敛  
- 时间复杂度接近 $O(1)$

**核心代码**  
```cpp
double x=n;
while(abs(x*x*x -n)>1e-6){
    x = (2*x + n/(x*x))/3;
}
return (long long)(x);
```

#### 3. cbrt函数法（★★★★）
**关键亮点**  
- 调用 `<cmath>` 库函数直接计算  
- 需强制转换时处理精度误差  
- 代码极简但依赖语言特性

**核心代码**  
```cpp
return (long long)(cbrt(n) + 1e-8); // 添加微小偏移避免截断错误
```

---

### 关键思路总结
1. **二分模板**：适用于所有单调性问题，如求平方根、旋转排序数组查找  
2. **防溢出技巧**：通过限定右边界避免立方运算溢出  
3. **数值方法**：牛顿迭代公式可推广到任意次方根求解  

---

### 推荐练习题目
1. [P1024 一元三次方程求解](https://www.luogu.com.cn/problem/P1024) - 牛顿法的经典应用  
2. [P3743 kotori的设备](https://www.luogu.com.cn/problem/P3743) - 二分答案思想  
3. [P3382 三分法模板](https://www.luogu.com.cn/problem/P3382) - 数值逼近方法对比

---
处理用时：134.37秒
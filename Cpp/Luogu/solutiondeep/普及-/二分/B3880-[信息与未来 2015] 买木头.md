# 题目信息

# [信息与未来 2015] 买木头

## 题目描述

有 $n$ 个木材供应商，每个供应商有长度相同的一定数量的木头。长木头可以锯短，但短木头不能接长。有一个客人要求 $m$ 根长度相同的木头，要求计算出：此时供货商提供的木头满足客人要求的最大长度是多少。

例如 $n=2,m=30$，两个供货商的木头为：
- $12,10$（第 $1$ 个供货商的木头长度为 $12$，共有 $10$ 根）；
- $5,10$（第 $2$ 个供货商的木头长度为 $5$，共有 $10$ 根）。

计算的结果为 $5$，即长度为 $12$ 的木头一根可锯出两根长度为 $5$ 的木头，多余的无用；长度为 $5$ 的木头不动，此时，可以得到 $30$ 根长度为 $5$ 的木头。

## 说明/提示

$1\le n\le10^4,1\le m\le10^6,1\le l_1\le10^4, 1\le s_1\le100$。

## 样例 #1

### 输入

```
10 10000 8 20```

### 输出

```
201```

# AI分析结果



### 综合分析与结论
本题是一个典型的二分查找问题，通过寻找满足条件的最大长度，利用二分法的高效性快速逼近最优解。核心思路是每次猜测一个长度 L，计算所有供应商能提供的总根数是否满足需求，从而调整二分区间。关键在于正确处理二分边界条件和避免整数溢出问题。

---

### 关键思路与技巧总结
1. **二分法的应用**：利用答案的单调性（L 越大，总根数越小），二分查找最大可行长度。
2. **数据溢出处理**：总和计算需使用 `long long` 类型，避免大数相加溢出。
3. **边界确定**：初始右边界为所有木材中的最大长度，确保所有可能情况被覆盖。
4. **整数除法特性**：利用整数除法自动向下取整的特性，简化每根木材可切割数量的计算。

---

### 推荐练习题
1. [P2440 木材加工](https://www.luogu.com.cn/problem/P2440)  
   **相似点**：几乎相同的二分思路，求最大切割长度。
   
2. [P2678 跳石头](https://www.luogu.com.cn/problem/P2678)  
   **相似点**：二分答案的典型应用，判断最短跳跃距离的最大值。

3. [P4343 自动刷题机](https://www.luogu.com.cn/problem/P4343)  
   **相似点**：通过二分法确定可行解的范围，需处理边界和条件判断。

---

### 代码实现
```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long LL;

int main() {
    int n, m;
    cin >> n >> m;
    vector<int> l(n), s(n);
    int max_l = 0;
    for (int i = 0; i < n; ++i) {
        cin >> l[i] >> s[i];
        max_l = max(max_l, l[i]);
    }
    
    int left = 1, right = max_l, ans = 0;
    while (left <= right) {
        int mid = (left + right) / 2;
        LL total = 0;
        for (int i = 0; i < n; ++i) {
            total += (LL)(l[i] / mid) * s[i];
            if (total >= m) break; // 提前终止优化
        }
        if (total >= m) {
            ans = mid;
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }
    cout << ans << endl;
    return 0;
}
```

**代码核心思想**：  
- 读取输入并确定最大初始长度 `max_l`。
- 二分查找框架，每次计算中点 `mid`。
- 遍历所有供应商，累加可提供的总根数，若提前超过 `m` 则终止计算。
- 根据总根数调整二分区间，最终输出最大可行长度。

---
处理用时：167.68秒
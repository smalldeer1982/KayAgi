# 题目信息

# [SNCPC2019] Turn It Off

## 题目描述

现在已经是 21:30 了，宝宝该上床睡觉了。为了确保他的睡眠质量，宝宝决定关掉卧室里的所有灯。

宝宝的卧室里有 $n$ 盏灯，从1到 $n$ 排成一排。每次宝宝可以选择一个整数 $i$，并将从第 $i$ 盏灯到第 $(i+L-1)$ 盏灯（包括两端）之间的所有灯关掉，其中 $L$ 是一个预定义的正整数。注意，每次操作的 $L$ 值必须相同。

给定所有灯的初始状态，请帮助宝宝确定可能的最小 $L$ 使得他能在 $k$ 次操作内关掉所有的灯。

## 样例 #1

### 输入

```
2
10 4
0101011111
3 1
010```

### 输出

```
3
1```

# AI分析结果



### 综合分析与结论
题目要求找出最小的L使得在k次操作内关闭所有灯。各题解均采用二分答案法，结合贪心策略验证L的可行性。核心思路为：每次遇到未关闭的灯（'1'）时，进行一次操作覆盖其后L位，跳至i+L继续检查，统计总操作次数是否≤k。

### 高分题解推荐
#### 1. 作者：WhitD（★★★★★）
**关键亮点**：代码简洁高效，正确实现贪心策略。直接遍历字符串，遇到'1'时计数并跳L步，时间复杂度O(n)。  
**核心代码**：
```cpp
bool check(int x) {
    int cnt=0;
    for(int i=0; i<n;){
        if(s[i]-'0') cnt++, i+=x;
        else i++;
    }
    return cnt<=k;
}
```

#### 2. 作者：sfqxx1（★★★★☆）
**关键亮点**：预处理所有'1'的位置，利用bisect优化查找，减少无效遍历。适合稀疏分布'1'的场景。  
**核心思路**：
```python
a = [i for i in range(n) if s[i] == '1']
while i < len(a):
    j = bisect.bisect_right(a, a[i] + L -1)
    cnt += 1
    i = j
```

#### 3. 作者：zhaohanwen（★★★★☆）
**关键亮点**：结构清晰，与WhitD思路一致，变量命名规范。  
**核心代码**：
```cpp
bool check(int L) {
    int cnt = 0;
    for (int i=0; i<n; ) {
        if (s[i]=='1') cnt++, i += L;
        else i++;
    }
    return cnt <= k;
}
```

### 最优关键思路总结
- **二分答案框架**：在[1, n]范围内二分查找L的最小值。
- **贪心验证策略**：从左到右遍历，遇到'1'时进行一次操作并跳L步，统计操作次数是否≤k。
- **时间复杂度**：O(n log n)，适用于大数据量。

### 拓展与举一反三
- **类似题型**：二分答案结合贪心的题目，如P2216（理想的正方形）、P1314（聪明的质检员）、P1948（电话线）。
- **优化技巧**：预处理关键点（如'1'的位置）以加速查找，适用于稀疏数据场景。

### 个人心得摘录
- **sfqxx1**：预处理'1'的位置并利用bisect优化，避免无效遍历。
- **InversionShadow**：暴力标记法虽直观但效率低，需避免在大型数据集使用。
- **WhitD**：贪心策略的正确性依赖于“每次覆盖最左未关闭灯”的直觉，需仔细验证边界条件。

---
处理用时：92.71秒
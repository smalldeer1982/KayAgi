# 题目信息

# Couple number

## 题目描述

对于一个整数 $n$，若存在两个自然数 $x, y$，满足 $n = x^2 - y^2$，则称 $n$ 是 Couple number。

给出 $a,b$，请求出 $[a, b]$ 范围内有多少个 Couple number。

## 说明/提示

#### 数据规模与约定

对于全部的测试点，保证 $-10^7 \le a < b \le 10^7$ ，$b - a \le 10^7$。

## 样例 #1

### 输入

```
1 10
```

### 输出

```
7
```

# AI分析结果



### 综合分析与结论  
通过数学推导可知，Couple number需满足以下条件之一：  
1. **奇数的数**（任何奇数均可表示为两平方数之差）  
2. **4的倍数的数**（两个偶数的乘积必为4的倍数）  
等价结论：所有非 `4k+2` 形式的数均为 Couple number。因此，只需统计区间 `[a, b]` 中不满足 `n ≡ 2 (mod 4)` 的数的个数。

### 高分题解推荐  
#### 1. 刘心远（★★★★★）  
**核心亮点**  
- 思路清晰，直接利用奇数和4的倍数的条件判断。  
- 代码简洁（仅需一行条件判断），时间复杂度为 O(n)，符合题目约束。  
- 正确处理负数情况（无需显式处理，因负数取模特性已隐含在条件中）。  
**核心代码**  
```cpp
for(i=n1;i<=n2;i++)
    if(i%4==0 || i%2!=0) ans++;
```

#### 2. 0carryt0（★★★★★）  
**核心亮点**  
- 直接判断模4余数是否为2，代码极简。  
- 使用 `abs(i%4)` 处理负数，确保条件判断正确性。  
**核心代码**  
```cpp
for(int i=n1;i<=n2;i++)
    if(abs(i%4)!=2) sum++;
```

#### 3. 午尘（★★★★☆）  
**核心亮点**  
- 显式处理模4余数的正负情况，直接排除 `n ≡ ±2 (mod 4)`。  
- 代码简短，逻辑直观。  
**核心代码**  
```cpp
for(int i=n1;i<=n2;i++)
    if(i%4 != 2 && i%4 != -2) s++;
```

### 关键思路与技巧  
1. **数学推导优先**：通过平方差公式分析奇偶性，快速得出关键结论。  
2. **模运算优化**：将问题转化为模4余数的判断，避免复杂计算。  
3. **负数处理技巧**：利用取模特性（如 `abs()` 或显式判断余数符号）简化代码。  

### 拓展练习  
1. **P1737 [NOI2016] 平方差**（需处理更复杂的平方差性质）  
2. **P2428 质数的和积**（数论与奇偶性分析）  
3. **P4139 上帝与集合的正确用法**（模运算与递推思想）  

### 个人心得摘录  
- **调试教训**：负数取模需注意符号（如 `i%4` 可能为负），需显式处理或使用绝对值（张文奕）。  
- **优化顿悟**：直接统计非 `4k+2` 的数，避免逐个数暴力分解（KesdiaelKen）。  
- **代码简化**：利用同奇偶性结论，将条件简化为单行判断（刘心远）。

---
处理用时：123.27秒
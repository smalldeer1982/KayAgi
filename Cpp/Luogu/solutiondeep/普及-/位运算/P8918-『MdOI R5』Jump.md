# 题目信息

# 『MdOI R5』Jump

## 题目描述

数轴上有一个人，设他所在的位置为 $x$，初始时 $x=0$。第 $i$ 秒中他可以选择往左或往右跳 $2^{i-1}$ 单位长度，即将 $x$ 增大或减小 $2^{i-1}$。问他至少需要多少秒才能到达 $n$，即在某一秒结束的时刻使得 $x=n$。如果永远都不可能到达 $n$，那么输出 $-1$。

**本题每个测试点中有多组数据。**

## 说明/提示

对于 $100\%$ 的数据，$1\le T\le 10^3$，$1\le n\le 10^9$。

$\operatorname{Subtask} 1(30\%)$：$n\le 100$。

$\operatorname{Subtask} 2(40\%)$：$n=2^k$，其中 $k$ 是一个非负整数。

$\operatorname{Subtask} 3(30\%)$：无特殊限制。

#### 样例说明 1

$n=1$ 时只需要在第一秒中往右跳即可。

$n=2$ 时可以证明永远都不可能到达 $n$。

## 样例 #1

### 输入

```
10
1
2
7
8
9
10
11
935
101
2023```

### 输出

```
1
-1
3
-1
4
-1
4
10
7
11```

# AI分析结果



### 综合分析与结论

本题核心在于发现奇数n的解决方案与二进制位数直接相关。关键点包括：

1. **偶数无解**：由于只有第一步为奇数，后续步长均为偶数，导致总和必为奇数。
2. **奇数解的构造**：通过二进制分析，最小步数为n的二进制位数，即满足 `2^d-1 >= n` 的最小d。

### 高评分题解推荐

#### 题解1：Kubic（5星）
**关键亮点**：
- 使用位运算高效计算二进制位数，时间复杂度O(1)。
- 代码简洁清晰，直接利用内置函数`__builtin_clz`快速定位最高位。

**核心代码**：
```cpp
void slv() {
    scanf("%d",&n);
    if(n&1) printf("%d\n",32-__builtin_clz(n));
    else printf("-1\n");
}
```

#### 题解2：McIron233（5星）
**关键亮点**：
- 通过右移操作统计二进制位数，逻辑简明易懂。
- 无精度问题，适用于大数。

**核心代码**：
```cpp
while(n) n = n >> 1, k++;
printf("%d\n",k);
```

#### 题解3：Moon_Traveller（4星）
**关键亮点**：
- 通过打表观察规律，详细推导奇数解的构造。
- 预处理2的幂次，直观展示步数与二进制的关系。

**核心思路**：
- 打表观察发现每一步可达的奇数为连续的`2^d`区间。
- 寻找首个超过n的2的幂次，时间复杂度O(log n)。

### 关键思路总结
1. **奇偶性判断**：偶数直接返回-1。
2. **二进制位数计算**：奇数的最小步数等于其二进制位数，可通过位运算或右移快速求得。
3. **数学归纳**：总和`2^d-1`与n的差值必为偶数，可通过调整步长方向达成目标。

### 拓展练习
1. **P2118** 比例简化：考察数学建模与最优化。
2. **P1469** 找筷子：利用异或性质处理奇偶性问题。
3. **P2320** 构造完全二叉树：二进制位操作的应用。

### 个人心得摘录
- **Kubic**：强调二进制特性与内置函数的结合，提升代码效率。
- **McIron233**：通过循环右移巧妙避开浮点运算，确保精度。
- **Moon_Traveller**：打表法帮助理解跳跃规律，适合教学推导。

通过本题，掌握二进制分析在跳跃类问题中的应用，以及位运算优化技巧。

---
处理用时：164.47秒
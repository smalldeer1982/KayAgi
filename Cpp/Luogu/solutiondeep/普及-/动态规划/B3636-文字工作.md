# 题目信息

# 文字工作

## 题目描述

机器猫要在电脑前打字。一共需要打 $n$ 个字，但现在文档里只有一个字。

机器猫有两种操作可以做。假设现在已经有 $x$ 个字，机器猫可以选择：

- 往文档最后加一个字。字数变成 $x+1$。
- 把文档复制粘贴一遍。字数变成 $2x$。

问机器猫至少需要多少次操作，才能得到恰好 $n$ 个字。

## 说明/提示

#### 样例解释

样例数据1，$1\to 2\to 4\to8\to 16$，共 4 步。

样例数据2，$1\to 2\to 4\to 5$，共 3 步。

#### 数据规模与约定

对于 $100\%$ 的数据，$n\leq 10^6$。

## 样例 #1

### 输入

```
16```

### 输出

```
4```

## 样例 #2

### 输入

```
5```

### 输出

```
3```

# AI分析结果



### 综合分析与结论
本题要求通过最少的操作次数从1得到n，关键点在于合理选择加1或翻倍操作。题解中提出的动态规划方法虽然正确，但存在更优的逆向贪心策略，时间复杂度从O(n)降至O(log n)。逆向贪心通过反向操作（除以2或减1）高效求解，是本题的最优解法。

---

### 所选较高评分题解
#### 题解作者：ShanCreeperPro（4星）
- **关键亮点**：思路清晰的动态规划递推，明确状态转移方程，分奇偶讨论状态来源。
- **不足**：时间复杂度较高（O(n)），未优化至最优逆向贪心思路。

---

### 最优解法的关键思路
**逆向贪心算法**：  
从n倒推至1，每次尽可能选择除以2（对应正向的翻倍操作），若当前数为奇数则减1（对应加1操作）。此方法通过贪心策略保证每一步最优，时间复杂度为O(log n)，空间复杂度O(1)。

**核心代码实现**：
```cpp
int minOperations(int n) {
    int steps = 0;
    while (n > 1) {
        if (n % 2 == 1) {
            n--;
            steps++;
        } else {
            n /= 2;
            steps++;
        }
    }
    return steps;
}
```

---

### 拓展与相似题目推荐
1. **P1582 倒水**（贪心、二进制处理）  
2. **P1226 快速幂模板**（逆向分解指数）  
3. **P2118 比例简化**（逆向思维优化计算）

---

### 总结
逆向贪心通过反向操作快速逼近最优解，比动态规划更高效。在类似涉及操作逆向或二进制分解的问题中，此思路可显著提升效率。

---
处理用时：207.30秒
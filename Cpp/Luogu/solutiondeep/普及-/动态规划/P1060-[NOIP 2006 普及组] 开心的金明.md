# 题目信息

# [NOIP 2006 普及组] 开心的金明

## 题目描述

金明今天很开心，家里购置的新房就要领钥匙了，新房里有一间他自己专用的很宽敞的房间。更让他高兴的是，妈妈昨天对他说：“你的房间需要购买哪些物品，怎么布置，你说了算，只要不超过 $N$ 元钱就行”。今天一早金明就开始做预算，但是他想买的东西太多了，肯定会超过妈妈限定的 $N$ 元。于是，他把每件物品规定了一个重要度，分为 $5$ 等：用整数 $1-5$ 表示，第 $5$ 等最重要。他还从因特网上查到了每件物品的价格（都是整数元）。他希望在不超过 $N$ 元（可以等于 $N$ 元）的前提下，使每件物品的价格与重要度的乘积的总和最大。

设第$j$件物品的价格为 $v_j$，重要度为 $w_j$，共选中了 $k$ 件物品，编号依次为 $j_1,j_2,…,j_k$，则所求的总和为：

$$v_{j_1} \times w_{j_1}+v_{j_2} \times w_{j_2} …+v_{j_k} \times w_{j_k}$$

请你帮助金明设计一个满足要求的购物单。

## 说明/提示

NOIP 2006 普及组 第二题


## 样例 #1

### 输入

```
1000 5
800 2
400 5
300 5
400 3
200 2
```

### 输出

```
3900```

# AI分析结果



### 综合分析与结论
本题本质是01背包问题，核心建模思路：将物品价格视为背包容量消耗，价格与重要度的乘积作为价值。各题解围绕此核心展开，主要差异在于空间优化策略（一维数组 vs 二维数组）及特殊解法（DFS暴搜）。最优解法为采用一维滚动数组的01背包优化实现，时间复杂度O(nm)，空间O(m)。

---

### 高星题解推荐

#### 1. oier1459078309（★★★★★）
**关键亮点**：
- 一维数组滚动优化，空间效率极高
- 提供多种背包模板对比，便于拓展学习
- 代码简洁清晰，变量命名规范

**核心代码**：
```cpp
for(int i=1;i<=n;i++) {
    for(int j=m;j>=v[i];j--) {
        f[j] = max(f[j], f[j-v[i]] + w[i]);
    }
}
```
**实现思想**：逆序更新一维数组，确保每个物品只选一次。将价格作为容量，预计算价格×重要度作为价值。

#### 2. qhr2023（★★★★☆）
**关键亮点**：
- 极简代码实现，突出核心逻辑
- 变量命名直接体现问题语义
- 完整展示状态转移方程推导过程

**核心代码**：
```cpp
for(int i=1; i<=m; i++)
    for(int j=n; j>=v[i]; j--)
        f[j] = max(f[j], f[j-v[i]] + p[i]);
```
**实现思想**：与前一解法相同，但更强调状态转移方程的推导过程，适合理解算法原理。

#### 3. kind_aunt（★★★★☆）
**关键亮点**：
- 详细讲解滚动数组原理
- 对比自我滚动与交替滚动策略
- 推荐同类题目帮助举一反三

**核心思路**：强调将物品选择问题转换为"前i个物品在j元限制下的最大价值"，并通过自我滚动优化空间。

---

### 关键技巧总结
1. **问题建模**：将价格视为背包容量消耗，价格×重要度作为价值。
2. **空间优化**：使用一维数组逆序更新，避免状态覆盖问题。
3. **编码实践**：预计算价值（v[i]*w[i]）简化后续计算，变量命名清晰体现业务语义。

---

### 拓展建议
1. **同类题目推荐**：
   - P1064 [NOIP2006 提高组] 金明的预算方案（依赖背包）
   - P1048 [NOIP2005 普及组] 采药（基础01背包）
   - P2871 [USACO07DEC] Charm Bracelet（标准01背包）
2. **算法延伸**：掌握完全背包、多重背包的优化策略，理解分组背包与树形背包的变形思路。

---

### 题解心得摘录
1. **phigy**："注意m<25，2^25<3.5e7，说明可以DFS"  
   → 数据范围分析是选择解法的关键，暴搜需结合约束条件判断可行性。
2. **oier1459078309**："背包问题背模板，一维优化从m倒序"  
   → 强调模板化思维与逆序更新的底层原理，体现算法复用思想。
3. **kind_aunt**："自我滚动省空间，交替滚动防覆盖"  
   → 对比不同滚动策略的适用场景，帮助深入理解状态转移过程。

---
处理用时：50.22秒
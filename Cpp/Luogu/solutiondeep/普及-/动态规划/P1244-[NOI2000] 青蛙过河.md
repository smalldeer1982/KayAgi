# 题目信息

# [NOI2000] 青蛙过河

## 题目描述

**大小各不相同**的一队青蛙站在河左岸的石墩（记为 A）上，要过到对岸的石墩（记为 D）上去。河心有几片荷叶（分别记为 $Y_1 \dots Y_m$）和几个石墩（分别记为 $S_1\dots S_n$）。图示如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/0u3st8yt.png)

青蛙的站队和移动方法规则如下：

- 每只青蛙只能站在荷叶、石墩，或者**仅比它大一号**的青蛙背上（统称为合法的落脚点）；
- 一只青蛙只有背上没有其它青蛙的时候才能够从一个落脚点跳到另一个落脚点；
- 青蛙允许从左岸 A 直接跳到河心的石墩、荷叶和右岸的石墩 D 上，允许从河心的石墩和荷叶跳到右岸的石墩 D 上；
- 青蛙在河心的石墩之间、荷叶之间以及石墩和荷叶之间可以来回跳动；
- 青蛙在离开左岸石墩后，不能再返回左岸；到达右岸后，不能再跳回；
- 假定石墩承重能力很大，允许无论多少只青蛙都可呆在上面。但是，由于石墩的面积不大，至多只能有一只青蛙直接站在上面，而其他的青蛙只能依规则 1 落在比它大一号的青蛙的背上。
- 荷叶不仅面积不大，而且负重能力也有限，至多只能有一只青蛙站在上面。
- 每一步只能移动一只青蛙，并且移动后需要满足站队规则；
- 在一开始的时候，青蛙均站在 A 上，最大的一只青蛙直接站在石墩上，而其它的青蛙依规则 6 站在比其大一号的青蛙的背上。

青蛙希望最终能够全部移动到 D 上，并完成站队。

设河心有 $m$ 片荷叶和 $n$ 个石墩，请求出这队青蛙至多有多少只，在满足站队和移动规则的前提下，能从 A 过到 D。

你的任务是对于给出的 $n,m$，计算并输出最多能有多少只青蛙可以根据以上规则顺利过河。

## 说明/提示

$n \leq 20$，$m \leq 10^3$。

## 样例 #1

### 输入

```
1 1
```

### 输出

```
4
```

# AI分析结果



### 综合分析与结论
本题核心是建立递推模型，发现石墩数量与结果呈指数关系，荷叶决定初始基数。所有正确题解均得出公式：最大青蛙数 = $(m+1) \times 2^n$。关键在于将石墩视为中间中转站，每个新增石墩使解翻倍，而荷叶提供初始承载能力。

---

### 高星题解推荐

#### 1. 作者：深海鱼的眼泪（⭐️⭐️⭐️⭐️⭐️）
**关键亮点**  
- 递推思路清晰，从基础情况推导到通项公式，逻辑严密。
- 代码简洁高效，利用位运算优化计算。
- 正确处理数据范围（隐含使用`int`足够，因原题限制$n \leq 20$）。

**核心代码**  
```cpp
cout << (k+1)*(1<<h);
```

#### 2. 作者：wucstdio（⭐️⭐️⭐️⭐️）
**关键亮点**  
- 通过状态转移方程逐步递推，虽推导路径不同但最终等价于指数解。
- 代码动态维护累加和，直观展示递推过程。

**核心代码**  
```cpp
f[0] = k+1;
int t = f[0] + k+1;
for(int i=1; i<=h; i++) {
    f[i] = t;
    t += f[i];
}
```

#### 3. 作者：uhgariej（⭐️⭐️⭐️⭐️）
**关键亮点**  
- 用“状态复制”思想解释翻倍现象，通俗易懂。
- 明确强调数据范围，使用`long long`避免溢出。

**核心代码**  
```cpp
long long ans = k + 1;
for(int i=1; i<=h; ++i) ans *= 2;
```

---

### 关键思路与技巧总结
1. **递推建模**：从$h=0$时$f(0, m)=m+1$出发，每新增石墩$h$，解变为前序解的2倍。
2. **指数优化**：将递推转换为位运算，时间复杂度$O(n)$，空间$O(1)$。
3. **问题转化**：将荷叶承载能力视为初始基数，石墩作为中转站倍增解。

---

### 拓展建议
- **类似题型**：汉诺塔问题（如P1241、P4285）、递推计数（如P1255数楼梯）。
- **算法套路**：分治思想（将大问题拆解为子问题翻倍）、二进制思维（指数增长隐含位运算优化）。

---

### 个人心得摘录
- **baolimo**：通过模拟小规模样例（如$h=1,2$）发现规律，强调动手画图的重要性。
- **war1111**：将$(k+1)$只青蛙视为“逻辑单体”，启发将复杂条件转化为简单基数。
- **qmieanng**：调试时注意`pow`返回浮点数的精度问题，优先使用位运算或循环乘法。

---
处理用时：52.85秒
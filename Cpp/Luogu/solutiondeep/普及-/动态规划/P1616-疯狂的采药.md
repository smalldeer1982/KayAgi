# 题目信息

# 疯狂的采药

## 题目背景

此题为纪念 LiYuxiang 而生。


## 题目描述

LiYuxiang 是个天资聪颖的孩子，他的梦想是成为世界上最伟大的医师。为此，他想拜附近最有威望的医师为师。医师为了判断他的资质，给他出了一个难题。医师把他带到一个到处都是草药的山洞里对他说：“孩子，这个山洞里有一些不同种类的草药，采每一种都需要一些时间，每一种也有它自身的价值。我会给你一段时间，在这段时间里，你可以采到一些草药。如果你是一个聪明的孩子，你应该可以让采到的草药的总价值最大。”

如果你是 LiYuxiang，你能完成这个任务吗？

此题和原题的不同点：

$1$. 每种草药可以无限制地疯狂采摘。

$2$. 药的种类眼花缭乱，采药时间好长好长啊！师傅等得菊花都谢了！

## 说明/提示

#### 数据规模与约定

- 对于 $30\%$ 的数据，保证 $m \le 10^3$ 。
- 对于 $100\%$ 的数据，保证 $1 \leq m \le 10^4$，$1 \leq t \leq 10^7$，且 $1 \leq m \times t \leq 10^7$，$1 \leq a_i, b_i \leq 10^4$。

## 样例 #1

### 输入

```
70 3
71 100
69 1
1 2
```

### 输出

```
140
```

# AI分析结果



### 综合分析与结论
本题为完全背包模板题，核心在于一维状态压缩与正序更新的技巧。所有题解均围绕完全背包的核心思路展开，差异主要体现在推导过程、代码优化细节及讲解深度。关键优化点包括：
1. **一维数组优化**：通过正序遍历实现状态压缩，时空复杂度降至 O(m)
2. **数据范围处理**：必须使用 long long 存储结果
3. **输入优化**：推荐 scanf 或关闭流同步加速输入

### 高星题解推荐

#### ⚡小林子⚡（5星）
**关键亮点**：
- 完整推导状态转移方程 → 二维转一维的数学证明
- 强调数据范围陷阱（10^11 会爆 int）
- 代码规范且含输入输出优化建议
**核心代码**：
```cpp
for(int i=1;i<=n;i++)
    for(int j=w[i];j<=m;j++)
        f[j] = max(f[j], f[j-w[i]] + v[i]);
```
**个人心得**："十年 OI 一场空，不开 long long 见祖宗" 强调数据类型选择的重要性

#### Veranda（4星）
**关键亮点**：
- 通过实例分步模拟背包填充过程 → 直观展示状态转移
- 注释变量命名清晰（t/v 对应时间/价值）
- 详细注释每个物品的更新过程
**核心代码**：
```cpp
for(int j = t[i]; j <= T; j++)
    f[j] = max(f[j], f[j - t[i]] + v[i]);
```

#### Mars_Dingdang（4星）
**关键亮点**：
- 对比 01背包与完全背包的循环顺序差异
- 提出剪枝优化思路（剔除性价比低的物品）
- 包含伪代码与复杂度分析
**核心代码**：
```cpp
for(int V = w[i]; V <= v; V++)
    dp[V] = max(dp[V], dp[V-w[i]] + c[i]);
```

### 关键思路与技巧
1. **状态转移策略**：`dp[j] = max(dp[j], dp[j-w]+v)` 正序更新允许重复选取
2. **空间优化**：通过滚动数组将空间复杂度从 O(nm) 优化至 O(m)
3. **数据类型选择**：最大价值可能达 1e11，必须使用 long long
4. **输入效率**：大数据量时优先使用 scanf 而非 cin

### 拓展建议
1. **同类题目**：
   - 多重背包：P1776 宝物筛选
   - 二维费用背包：P1507 NASA的食物计划
   - 完全背包变种：P2918 [USACO08NOV] Buying Hay
2. **优化方向**：
   - 二进制优化（多重背包）
   - 单调队列优化（极大容量背包）

### 推荐练习题
1. P1853 投资的最大数目（完全背包应用）
2. P1776 宝物筛选（多重背包+二进制优化）
3. P1941 [NOIP2014 提高组] 飞扬的小鸟（完全背包+01背包混合）

---
处理用时：41.86秒
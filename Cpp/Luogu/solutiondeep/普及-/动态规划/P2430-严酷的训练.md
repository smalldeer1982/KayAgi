# 题目信息

# 严酷的训练

## 题目背景

Lj 的朋友 WKY 是一名神奇的少年，在同龄人之中有着极高的地位。。。


## 题目描述

他的老师老王对他的程序水平赞叹不已，于是下决心培养这名小子。

老王的训练方式很奇怪，他会一口气让 WKY 做很多道题，要求他在规定的时间完成。而老王为了让自己的威信提高，自己也会把这些题都做一遍。

WKY 和老王都有一个水平值，他们水平值的比值和做这些题所用时间的比值成反比。比如如果 WKY 的水平值是 $1$，老王的水平值是 $2$，那么 WKY 做同一道题的时间就是老王的 $2$ 倍。

每个题目有他所属的知识点，这我们都知道，比如递归，动规，最短路，网络流。在这里我们不考虑这些事情，我们只知道他们分别是知识点 $1$，知识点 $2$……每一个知识点有他对应的难度，比如动态规划经常难于模拟。

而每一个同一知识点下的题目，对于 WKY 来讲，都是一样难的。而做出每一道题，老王都有其独特的奖励值。而奖励值和题目的知识点没有必然联系。

现在 WKY 同学请你帮忙，计算在老王规定的时间内，WKY 所能得到最大奖励值是多少 。


## 说明/提示

对于 $100 \%$ 的数据，$1 \leq n, m \leq 100$，规定时间 $\leq 5000$。$1 \leq p \leq n$，$1 \leq q \leq 1000$。

## 样例 #1

### 输入

```
1 2
6 4
1 2 3 4
1 5
2 6
3 3
4 8
3 3
4 5
20```

### 输出

```
22```

# AI分析结果



### 综合分析与结论
题目核心是预处理时间转换+01背包。所有题解均采用以下思路：  
1. 根据水平值比值转换WKY的题目时间（关键难点）  
2. 将问题转化为标准01背包，每个题目对应物品（时间=重量，奖励=价值）  
3. 使用滚动数组优化的一维DP求解最大价值  

各题解差异主要体现在变量命名、预处理方式、代码可读性上，算法本质完全相同。

---

### 高星题解推荐（评分≥4★）

#### 1. 林家三少（5★）
**关键亮点**：  
- 变量命名清晰（t1/t2区分老王/WKY时间）  
- 详细注释解释转换逻辑与DP方程  
- 代码结构规范，适合新手学习  

**核心代码**：
```cpp
// 预处理时间转换
t2[i] = t1[i] * (b/a); 

// 01背包DP
for(int j=t; j>=t2[p[i]]; j--)
    f[j] = max(f[j], f[j-t2[p[i]]] + q[i]);
```

#### 2. Corrine（4★）
**关键亮点**：  
- 中文注释详细，每个步骤均有说明  
- 函数式变量命名（z[]表示知识点时间）  
- 强调题目转化思路（采药问题变种）  

**核心代码**：
```cpp
// 预处理知识点时间
z[i] *= lw; 

// 状态转移方程
f[j] = max(f[j], f[j-p[i]] + q[i]);
```

#### 3. Herkezi（4★）
**关键亮点**：  
- 代码简洁高效，无冗余操作  
- 使用桶思想直接映射知识点时间  
- 强调奖励值与知识点无关的易错点  

**核心代码**：
```cpp
// 桶式时间转换
t[zsd[i]] *= s2/s1;

// 滚动数组DP
for(j=time; j>=t[zsd[i]]; j--)
    f[j] = max(f[j], f[j-t[zsd[i]]]+reward[i]);
```

---

### 关键技巧总结
1. **反比转换公式**：WKY时间 = 老王时间 × (老王水平/WKY水平)  
2. **预处理优化**：先转换知识点时间，再映射到具体题目  
3. **空间压缩**：一维滚动数组实现01背包，时间复杂度O(nT)  

---

### 同类题目推荐
1. **P1048 采药** - 最基础01背包  
2. **P1060 开心的金明** - 价值计算变种  
3. **P2871 [USACO07DEC] Charm Bracelet** - 完全相同的模型  

---

### 题解中的个人心得摘录
1. **林家三少**：  
   > "一开始我还不懂为什么要输入老王和WKY的水平值...问了同学才知道需要转换时间"  
   → 强调理解题意的重要性  

2. **Corrine**：  
   > "在教练的要求下写题解...这道题就是拐了几个弯的采药"  
   → 揭示题目变形本质  

3. **奔跑的小蜗牛**：  
   > "突然萌生不想写烦人的状态转移方程的想法，于是用递归实现"  
   → 反例警示：递归解法在大数据下必然超时，需选择正确算法结构  

（注：递归解法最终未被选入高星推荐，此处仅作心得分析）

---
处理用时：48.54秒
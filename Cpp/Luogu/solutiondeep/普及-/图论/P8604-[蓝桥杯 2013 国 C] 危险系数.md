# 题目信息

# [蓝桥杯 2013 国 C] 危险系数

## 题目背景

抗日战争时期，冀中平原的地道战曾发挥重要作用。


## 题目描述

地道的多个站点间有通道连接，形成了庞大的网络。但也有隐患，当敌人发现了某个站点后，其它站点间可能因此会失去联系。

我们来定义一个危险系数 $DF(x,y)$：

对于两个站点 $x$ 和 $y(x\neq y),$ 如果能找到一个站点 $z$，当 $z$ 被敌人破坏后，$x$ 和 $y$ 不连通，那么我们称 $z$ 为关于 $x,y$ 的关键点。相应的，对于任意一对站点 $x$ 和 $y$，危险系数 $DF(x,y)$ 就表示为这两点之间的关键点个数。

本题的任务是：已知网络结构，求两站点之间的危险系数。

## 说明/提示

时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛

## 样例 #1

### 输入

```
7 6
1 3
2 3
3 4
3 5
4 5
5 6
1 6```

### 输出

```
2```

# AI分析结果

### 综合分析与结论
这些题解主要围绕计算两站点间的危险系数展开，即找出使两站点不连通的关键点个数。题解的主要思路可分为两类：一是暴力枚举每个点，通过 BFS 或 DFS 判断删除该点后两站点是否连通；二是使用 Tarjan 算法求出割点，再筛选出满足条件的关键点。

### 所选题解
- **作者：RainySoul (赞：56)，4星**
    - **关键亮点**：思路清晰，通过 DFS 找出所有路径，统计每个点被经过的次数，若次数与总路径数相等则为关键点，代码注释详细。
    - **核心代码**：
```cpp
void dfs(LL now){
    if(now==v){
        sum++;
        for(int i=1;i<=n;i++)
            if(bj[i]==1)cnt[i]++;
    }
    else{
        for(int i=1;i<=n;i++)
            if(a[now][i]==1&&bj[i]==0){
                bj[i]=1;
                dfs(i);
                bj[i]=0;
            }
    }
}
```
    - **核心实现思想**：从起点开始 DFS，若到达终点则路径总数加 1，并统计每个经过的点的次数；若未到达终点，则继续递归搜索。

- **作者：loser_seele (赞：4)，4星**
    - **关键亮点**：使用 Tarjan 算法求出所有割点，再根据割点的性质筛选出满足条件的关键点，时间复杂度为 $O(n + m)$，是最优解。
    - **核心代码**：
```cpp
void tarjan(int x,int root,int fa_x)
{
    dfn[x] = low[x] = ++cnt;
    int child = 0;
    for(int i=head[x];i!=-1;i=node[i].Next)
    {
        int to = node[i].to;
        if(!dfn[to])
        {
            ++child;
            tarjan(to,root,x);
            low[x] = min(low[x],low[to]);
            if(to==ed||reachEd[to]) 
                reachEd[x] = true;
            if(x==root&&child>=2) 
                ans.insert(x);
            if(x!=root&&low[to]>=dfn[x]) 
                ans.insert(x);
        }
        else if(to!=fa_x)
            low[x] = min(low[x],dfn[to]);
    }
}
```
    - **核心实现思想**：通过 Tarjan 算法求出每个点的 dfn 和 low 值，找出所有割点，再根据割点的性质筛选出满足条件的关键点。

### 最优关键思路或技巧
- **Tarjan 算法**：可以在线性时间内求出图的割点，对于此类需要判断关键点的问题，能有效降低时间复杂度。
- **路径统计法**：通过 DFS 找出所有路径，统计每个点被经过的次数，若次数与总路径数相等则为关键点，思路简单易懂。

### 可拓展之处
同类型题如求图的桥、双连通分量等问题，也可使用 Tarjan 算法解决。类似算法套路包括使用 BFS 或 DFS 遍历图，通过标记和回溯来记录路径和状态。

### 推荐题目
- [P3388 【模板】割点（割顶）](https://www.luogu.com.cn/problem/P3388)
- [P5489 【模板】割边](https://www.luogu.com.cn/problem/P5489)
- [P2860 [USACO06JAN]Redundant Paths G](https://www.luogu.com.cn/problem/P2860)

### 个人心得摘录与总结
- **作者：linyukun**：提到队列不要定义在函数里，这是未定义行为；输出 -1 和 0 的情况要区别；无向图标记走过的边时要把回去的路也标上。总结：在编写图相关代码时，要注意数据结构的使用和边界情况的处理。

---
处理用时：24.91秒
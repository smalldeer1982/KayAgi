# 题目信息

# [蓝桥杯 2013 国 AC] 网络寻路

## 题目描述

$X$ 国的一个网络使用若干条线路连接若干个节点。节点间的通信是双向的。某重要数据包，为了安全起见，必须恰好被转发两次到达目的地。该包可能在任意一个节点产生，我们需要知道该网络中一共有多少种不同的转发路径。

源地址和目标地址可以相同，但中间节点必须不同。

如图 $1$ 所示的网络。

$1 \to 2 \to 3 \to 1$ 是允许的。

$1 \to 2 \to 1 \to 2$ 或者 $1 \to 2 \to 3 \to 2$ 都是非法的。

## 说明/提示

时限 1 秒，空间限制 64M。蓝桥杯 2013 年第四届国赛


------------
2024/1/28 添加一组 hack 数据

## 样例 #1

### 输入

```
3 3
1 2
2 3
1 3```

### 输出

```
6```

## 样例 #2

### 输入

```
4 4
1 2
2 3
3 1
1 4```

### 输出

```
10```

# AI分析结果

### 综合分析与结论
此题为网络路径计数问题，需找出恰好转发两次的不同路径数量，且中间节点不能相同。题解思路是先统计每个节点的度，再遍历每条边，对于度大于 1 的节点对，计算其可能的路径数量并累加。整体思路清晰，代码实现简洁。

### 所选题解
- **星级**：4 星
- **关键亮点**：思路清晰，通过分析节点度来计算路径数量，代码实现简洁高效。

### 重点代码
```cpp
#include<bits/stdc++.h>
#define MAXN 10010
#define MAXM 100010
using namespace std;
int d[MAXN],u[MAXM],v[MAXM];
int main(){
    int n,i,m;
    long long ans=0;
    cin>>n>>m;
    memset(d,0,sizeof(d));
    for(i=0;i<m;i++){
        scanf("%d%d",&u[i],&v[i]);
        d[u[i]]++;
        d[v[i]]++;
    }
    for(i=0;i<m;i++){
        if(d[u[i]]>1&&d[v[i]]>1)
            ans+=(d[u[i]]-1)*(d[v[i]]-1)*2;
    }
    cout<<ans;
    return 0;
}
```
**核心实现思想**：
1. 首先，使用数组 `d` 记录每个节点的度，数组 `u` 和 `v` 记录每条边的两个端点。
2. 读取输入的节点数 `n` 和边数 `m`，并统计每个节点的度。
3. 遍历每条边，对于度大于 1 的节点对，计算其可能的路径数量：`(d[u[i]] - 1) * (d[v[i]] - 1) * 2`，其中 `(d[u[i]] - 1)` 和 `(d[v[i]] - 1)` 分别表示两个节点除当前边外的其他连接节点数，乘以 2 是因为路径是双向的。
4. 最后输出总的路径数量。

### 最优关键思路或技巧
- **节点度的运用**：通过统计节点的度，简化了路径数量的计算，避免了复杂的路径搜索。

### 可拓展之处
同类型题或类似算法套路：
- 图的路径计数问题，可根据不同的路径限制条件进行扩展，如限制路径长度、经过特定节点等。
- 网络流问题，在图中寻找满足特定条件的流量路径。

### 推荐题目
- [P1119 灾后重建](https://www.luogu.com.cn/problem/P1119)：涉及图的最短路径问题，与本题的图结构相关。
- [P1346 电车](https://www.luogu.com.cn/problem/P1346)：图的路径规划问题，需要考虑不同的路径选择。
- [P2853 [USACO06DEC]Cow Picnic S](https://www.luogu.com.cn/problem/P2853)：图的遍历和计数问题，与本题的路径计数有相似之处。

### 个人心得
题解中未包含个人心得。

---
处理用时：19.02秒
# 题目信息

# T3 句子反转

## 题目背景

**请尽量在 30min 之内写完题目。这是指「写代码」的时间；「读题」时间不计算在内。**

## 题目描述

给定一行句子，每个词之间用空格隔开，要么是全小写英文单词，要么是全大写英文单词，要么是自然数。

要求将这些单词倒序输出。而且对于每个单词，如果是小写词，应当转为大写；如果是大写词，应当转为小写；如果是自然数，应该倒转输出。

举一个例子：
```plaintext
we choose TO go 2 the 123 moon
```

程序应当输出：
```plaintext
MOON 321 THE 2 GO to CHOOSE WE
```

## 说明/提示

#### 样例解释

首先应当按单词逆序，即：
```plaintext
moon 123 the 2 go TO choose we
```

小写变大写、大写变小写、倒转自然数之后，得到最终结果：
```plaintext
MOON 321 THE 2 GO to CHOOSE WE
```

#### 数据规模与约定
对于 $100\%$ 的数据，句子中包含的单词数量不超过 $1000$，每个单词长度不超过 $6$。




## 样例 #1

### 输入

```
we choose TO go 2 the 123 moon```

### 输出

```
MOON 321 THE 2 GO to CHOOSE WE```

# AI分析结果

### 综合分析与结论

本题要求对句子中的单词进行反转，并根据单词的类型进行相应的转换。题解主要集中在如何处理不同类型的单词（小写、大写、数字）以及如何高效地反转句子。两个题解分别使用了C++和Python实现，思路相似，但在实现细节上有所不同。

- **览遍千秋的C++题解**：通过`cin`逐个读取单词，存储在数组中，然后逆序处理每个单词，根据类型进行转换。代码清晰，但使用了双重循环，略显冗余。
- **阮行止的Python题解**：使用`input().split()`读取所有单词并反转，然后通过`map`函数对每个单词进行转换。代码简洁，利用了Python的高阶函数，但未处理空格问题。

### 所选题解

#### 1. 阮行止的Python题解（4星）

**关键亮点**：
- 利用Python的`map`函数和`join`方法，代码简洁高效。
- 通过`[::-1]`直接反转列表，避免了手动反转的复杂性。

**核心代码**：
```python
def trans(x):
    if x[0] in string.ascii_uppercase:
        return x.lower()
    elif x[0] in string.ascii_lowercase:
        return x.upper()
    return x[::-1]

words = input().split()[::-1]
print(' '.join(map(trans, words)))
```

**核心实现思想**：
- `trans`函数根据单词首字符判断类型并进行转换。
- `words = input().split()[::-1]`将输入句子分割成单词列表并反转。
- `map(trans, words)`对每个单词应用`trans`函数，`join`将结果拼接成字符串输出。

#### 2. 览遍千秋的C++题解（4星）

**关键亮点**：
- 使用`cin`逐个读取单词，适合处理大输入。
- 通过双重循环处理单词转换，逻辑清晰。

**核心代码**：
```cpp
while(cin >> s[++n]); --n;
for(int i = n; i >= 1; i--) {
    for(int j = 0; j < (int)s[i].size(); j++) {
        if(s[i][j] >= 'a' && s[i][j] <= 'z') s[i][j] -= 'a' - 'A';
        else if(s[i][j] >= 'A' && s[i][j] <= 'Z') s[i][j] -= 'A' - 'a'; 
    }
    if(s[i][0] >= '0' && s[i][0] <= '9')
        for(int j = (int)s[i].size() - 1; j >= 0; j--) cout << s[i][j];
    else cout << s[i];
    if(i != 1) cout << " ";
}
```

**核心实现思想**：
- `while(cin >> s[++n]); --n;`读取所有单词并存储在数组`s`中。
- 外层循环逆序遍历单词，内层循环根据单词类型进行转换。
- 如果是数字，则逆序输出；否则直接输出转换后的单词。

### 最优关键思路与技巧

- **单词类型判断**：通过单词的首字符判断其类型（小写、大写、数字），并进行相应的转换。
- **反转与拼接**：使用语言特性（如Python的`[::-1]`和`join`）或手动反转（如C++的双重循环）来实现单词和句子的反转。
- **高效处理输入**：根据语言特性选择合适的输入方式（如C++的`cin`，Python的`input().split()`）。

### 可拓展之处

- **多语言支持**：可以扩展支持更多语言的单词处理，如中文、特殊符号等。
- **复杂句子处理**：处理包含标点符号、多空格等复杂句子的反转。

### 推荐洛谷题目

1. **P1001 A+B Problem**：考察基本输入输出和简单计算。
2. **P1308 统计单词数**：考察字符串处理和单词统计。
3. **P1553 数字反转**：考察数字反转和字符串处理。

### 个人心得摘录

- **览遍千秋**：通过`cin`逐个读取单词，适合处理大输入，但需要注意数组大小和边界条件。
- **阮行止**：利用Python的高阶函数简化代码，但未处理空格问题，需注意输入格式。

### 通用建议与扩展思路

- **代码简洁性**：尽量利用语言特性简化代码，如Python的`map`和`join`。
- **边界条件**：处理输入时注意边界条件，如空输入、多空格等。
- **性能优化**：对于大输入，选择高效的输入输出方式，避免不必要的循环和操作。

---
处理用时：35.12秒
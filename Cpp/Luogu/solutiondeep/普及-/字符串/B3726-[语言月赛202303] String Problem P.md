# 题目信息

# [语言月赛202303] String Problem P

## 题目描述

Farmer John 有 $n$ 个字符串，第 $i$ 个字符串为 $s_i$。

现在，你需要支持如下 $q$ 次操作：

- `1 x y i`：把字符串 $s_x$ 整体插入到字符串 $s_y$ 的第 $i$ 个字符后，更新 $s_y$。
- `2 y`：求 $s_y$。

例如，设 $s_1 = \texttt{abc}$，$s_2 = \texttt{xyz}$，则执行完 `1 2 1 2` 后（把 $s_2$ 整体插入到 $s_1$ 的第 $2$ 个字符后，更新 $s_1$），$s_1 = \texttt{abxyzc}$，$s_2 = \texttt{xyz}$。

## 说明/提示

### 数据规模与约定

- 对 $60\%$ 的数据，保证 $i = |s_y|$。
- 对 $100\%$ 的数据，$1 \leq n,q \leq 10$，$1 \leq |s_i| \leq 10$。$1 \leq x, y \leq n$，$1 \leq i \leq |s_y|$。

其中 $|s_y|$ 表示进行对应操作时 $s_y$ 的长度，$|s_i|$ 表示输入时字符串的长度。

provider：一扶苏一

## 样例 #1

### 输入

```
2 2
a
b
1 1 2 1
2 2```

### 输出

```
ba```

## 样例 #2

### 输入

```
3 6
abc
ijk
xyz
1 2 3 2
1 1 3 5
1 3 1 1
2 1
2 2
2 3
```

### 输出

```
axyijkabczbc
ijk
xyijkabcz```

# AI分析结果

### 综合分析与结论

本题考察字符串的基本操作，特别是插入操作。由于数据规模较小（$n, q \leq 10$），直接使用C++的`string`类的`insert`方法即可高效解决问题。题解的核心思路是利用`insert`方法在指定位置插入字符串，操作简单且代码可读性高。

### 所选题解

#### 题解1：一扶苏一 (★★★★☆)

**关键亮点：**
- 直接使用`string`类的`insert`方法，简洁高效。
- 代码清晰，逻辑简单，适合初学者理解。

**核心实现思想：**
- 对于操作1，使用`s[y].insert(i, s[x])`在指定位置插入字符串。
- 对于操作2，直接输出`s[y]`。

**核心代码片段：**
```cpp
void solve() {
    int n, q;
    cin >> n >> q;
    vector<string> s(n + 1);
    for (int i = 1; i <= n; ++i) {
        cin >> s[i];
    }
    while (q--) {
        int op;
        cin >> op;
        if (op == 1) {
            int x, y, i;
            cin >> x >> y >> i;
            s[y].insert(i, s[x]);
        } else {
            int y;
            cin >> y;
            cout << s[y] << endl;
        }
    }
}
```

### 通用建议与扩展思路

1. **数据结构选择**：对于小规模数据，直接使用`string`类即可。若数据规模较大，可能需要考虑更高效的数据结构，如`rope`（支持快速插入和删除的字符串结构）。
2. **算法优化**：如果插入操作频繁且数据量大，可以考虑使用分块或平衡树等数据结构来优化插入操作的复杂度。
3. **调试与测试**：在实现过程中，注意边界条件的测试，如插入位置为0或字符串末尾的情况。

### 推荐题目

1. [P3375 【模板】KMP字符串匹配](https://www.luogu.com.cn/problem/P3375) - 考察字符串匹配算法。
2. [P3370 【模板】字符串哈希](https://www.luogu.com.cn/problem/P3370) - 考察字符串哈希的应用。
3. [P3374 【模板】Trie树](https://www.luogu.com.cn/problem/P3374) - 考察Trie树的基本操作。

这些题目可以帮助进一步巩固字符串处理的相关知识。

---
处理用时：17.78秒
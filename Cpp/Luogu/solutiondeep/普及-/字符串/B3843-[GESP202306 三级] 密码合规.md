# 题目信息

# [GESP202306 三级] 密码合规

## 题目描述

网站注册需要有用户名和密码，编写程序以检查用户输入密码的有效性。合规的密码应满足以下要求 :。

1. 只能由 $\texttt a \sim \texttt z$ 之间 $26$ 个小写字母、$\texttt A \sim \texttt Z$ 之间 $26$ 个大写字母、$0 \sim 9$ 之间 $10$ 个数字以及 `!@#$` 四个特殊字符构成。

2. 密码最短长度 $:6$ 个字符，密码最大长度 $:12$ 个字符。

3. 大写字母，小写字母和数字必须至少有其中两种，以及至少有四个特殊字符中的一个。

## 说明/提示

【样例 1 解释】

输入被英文逗号分为了四组被检测密码：`seHJ12!@`、`sjdkffH$123`、`sdf!@&12HDHa!`、`123&^YUhg@!`。其中 `sdf!@&12HDHa!` 长度超过 12 个字符，不合规；`123&^YUhg@!` 包含四个特殊字符之外的字符不合规。

## 样例 #1

### 输入

```
seHJ12!@,sjdkffH$123,sdf!@&12HDHa!,123&^YUhg@!```

### 输出

```
seHJ12!@
sjdkffH$123```

# AI分析结果

### 综合分析与结论

本题要求检查密码的合规性，涉及字符类型、长度、以及特定字符的组合要求。由于暂无题解，以下将提供通用建议与扩展思路，帮助解决类似问题。

### 通用建议与扩展思路

1. **字符类型检查**：使用正则表达式或遍历字符串，检查每个字符是否在允许的范围内（a-z, A-Z, 0-9, !@#$）。
2. **长度检查**：直接判断字符串长度是否在6到12之间。
3. **组合要求**：使用计数器或标志位，记录密码中是否包含至少两种类型的字符（大写字母、小写字母、数字）以及是否包含至少一个特殊字符。
4. **优化思路**：可以提前终止检查，例如一旦发现非法字符或长度不符合要求，立即返回不合规。

### 关键思路或技巧

- **正则表达式**：使用正则表达式可以简化字符类型和组合要求的检查。
- **标志位与计数器**：通过标志位和计数器，可以高效地判断密码是否满足组合要求。
- **提前终止**：在检查过程中，一旦发现不合规的情况，立即返回结果，避免不必要的计算。

### 可拓展之处

- **多条件组合检查**：类似的问题可能涉及多个条件的组合检查，例如密码强度评估、输入格式验证等。
- **字符集扩展**：如果允许的字符集发生变化，可以通过修改正则表达式或字符检查逻辑来适应。

### 推荐题目

1. **P1003 铺地毯**：涉及多条件判断和范围检查。
2. **P1042 乒乓球**：涉及字符串处理和条件判断。
3. **P1055 表达式求值**：涉及字符类型检查和表达式解析。

### 个人心得

- **调试经历**：在处理多条件判断时，建议逐步添加条件并进行测试，确保每个条件都能正确判断。
- **踩坑教训**：注意边界条件的处理，例如空字符串、长度刚好为6或12的字符串等。
- **顿悟感想**：使用正则表达式可以大大简化字符类型和组合要求的检查，但需要熟悉正则表达式的语法。

### 核心代码片段

```cpp
bool isPasswordValid(const std::string& password) {
    if (password.length() < 6 || password.length() > 12) {
        return false;
    }

    bool hasLower = false, hasUpper = false, hasDigit = false, hasSpecial = false;
    for (char ch : password) {
        if (islower(ch)) hasLower = true;
        else if (isupper(ch)) hasUpper = true;
        else if (isdigit(ch)) hasDigit = true;
        else if (ch == '!' || ch == '@' || ch == '#' || ch == '$') hasSpecial = true;
        else return false;
    }

    int typeCount = (hasLower ? 1 : 0) + (hasUpper ? 1 : 0) + (hasDigit ? 1 : 0);
    return typeCount >= 2 && hasSpecial;
}
```

### 总结

本题的关键在于多条件判断和字符类型检查，使用标志位和计数器可以高效地完成这些任务。正则表达式是简化字符检查的有力工具，但需要熟悉其语法。推荐通过逐步添加条件并进行测试来确保代码的正确性。

---
处理用时：24.76秒
# 题目信息

# [语言月赛 202407] respect

## 题目背景

从前有个荣光的王国，小 A 是里面的国王，他认为人活着要有尊严，今天他要赐予他的子民以尊严。

## 题目描述

小 A 认为，当一个人被尊重时，他便是有尊严的。

现在小 A 对小 B 说了 $n$ 句话，每句话可以被视作为不含空格且全是小写字母的字符串。

每句话是由若干个单词构成的。虽然我们把这些单词直接拼接成了字符串，但是句子的语义还是和单词本身相关。对于一个字符串 $s$，我们会给出一个划分序列 $p_1, p_2, \dots, p_k$，满足 $1 \leq p_1 \leq p_2 \leq \dots \leq p_k <|s|$，则我们认为 $s$ 这句话中，$[1, p_1], [p_1+1,p_2], [p_2+1,p_3],\dots [p_k + 1, |s|]$ 这 $k+1$ 段每一段都是一个单词。特别的，如果 $k=0$，说明这个句子本身就是一个单词。

例如，对字符串 $\texttt{irespectyou}$，如果给出的序列 $p$ 为 $1,8$ 则这个字符串有 $\texttt{i}$，$\texttt{respect}$，$\texttt{you}$ 三个单词；如果序列 $p$ 为 $2, 5,7$，则这个字符串有 $\texttt{ir}$，$\texttt{esp}$，$\texttt{ec}$，$\texttt{tyou}$ 四个单词构成。

对于一个字符串 $x$，我们称一个字符串 $y$ 是 $x$ 的子串，当且仅当将 $x$ 在开头和结尾删去若干个（可以为 $0$ 个）字符后得到的字符串和 $y$ 相等。例如 $\texttt{uog}$ 是 $\texttt{luogu}$ 的子串，但 $\texttt{ug}$ 不是 $\texttt{luogu}$ 的子串。

现在，给出这 $n$ 句话，对于每句话，你要求出这句话里有多少个单词含有子串 $\texttt{respect}$。


## 说明/提示

### 数据规模与约定

- 对于 $30\%$ 的数据，划分出的子串的长度 $\leq 7$。  
- 对于 $60\%$ 的数据，不存在一个单词不是 $\texttt{respect}$ 且以 $\texttt{respect}$ 为子串。  
- 对于 $100\%$ 的数据，$1 \leq n \leq 10^3$，$1 \leq p_1 \leq p_2 \leq \dots \leq p_k < |s|$，$k \geq 0$，输入字符串仅含有小写英文字母，字符串长度不超过 $10^3$。 

## 样例 #1

### 输入

```
2
irespectyou
2
1 8
herespectsyou
2
2 10
```

### 输出

```
1
1
```

## 样例 #2

### 输入

```
1
respect
0

```

### 输出

```
1
```

# AI分析结果

### 综合分析与结论

本题的核心在于如何根据给定的划分序列将字符串分割成多个单词，并统计每个单词中是否包含子串 `"respect"`。题解的关键点在于如何高效地分割字符串以及如何判断子串的存在。大多数题解都使用了 `s.substr()` 和 `s.find()` 这两个函数来实现字符串的分割和子串查找，思路较为直接且易于理解。

### 所选题解

#### 题解：I_am_rubbish
- **星级**：4星
- **关键亮点**：思路清晰，代码简洁，使用了 `s.substr()` 和 `s.find()` 函数，易于理解和实现。
- **个人心得**：作者强调了多测时及时清空变量的重要性，避免因变量未清空导致的错误。

**核心代码片段**：
```cpp
int count = 0;
for (int i = 0; i <= k; ++i) {
    int start = (i == 0) ? 0 : p[i-1] + 1;
    int end = (i == k) ? s.length() : p[i] + 1;
    string word = s.substr(start, end - start);
    if (word.find("respect") != string::npos) {
        count++;
    }
}
cout << count << endl;
```

### 最优关键思路与技巧

1. **字符串分割**：使用 `s.substr()` 函数根据给定的划分序列将字符串分割成多个单词。
2. **子串查找**：使用 `s.find()` 函数判断每个单词中是否包含子串 `"respect"`。
3. **多测处理**：在多测情况下，及时清空变量，避免因变量未清空导致的错误。

### 可拓展之处

1. **类似题目**：可以拓展到其他需要根据特定规则分割字符串并统计满足条件的子串的题目。
2. **优化思路**：如果字符串和划分序列非常大，可以考虑使用更高效的字符串匹配算法，如KMP算法。

### 推荐题目

1. **P3375 【模板】KMP字符串匹配**：考察KMP算法的实现，适用于高效字符串匹配。
2. **P1308 统计单词数**：统计字符串中特定单词的出现次数，与本题类似。
3. **P1042 乒乓球**：字符串处理与统计，适合练习字符串操作。

### 个人心得总结

- **调试经历**：在多测情况下，变量未清空会导致错误，调试时需要注意。
- **踩坑教训**：使用 `s.substr()` 时，注意起始位置和长度的计算，避免越界。
- **顿悟感想**：字符串处理题目中，合理使用STL函数可以大大简化代码实现。

---
处理用时：19.79秒
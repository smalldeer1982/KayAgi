# 题目信息

# [语言月赛 202412] 正在联系教练退赛

## 题目背景


在本题中，我们称一个字符串 $y$ 是一个字符串 $x$ 的子串，当且仅当从 $x$ 的开头和结尾删去若干个（可以为 $0$ 个）字符后剩余的字符串和 $y$ 相同。

## 题目描述


在 XCPC 竞赛里，共有 $n$ 只猪猪队伍。每只猪猪队伍都有一个队伍名称。第 $i$ 只队伍的名称是 $s_i$。

但是，队伍名称不能乱起。主办方会审查每支队伍的名称。如果一支队伍的队名被认为违规，主办方就会联系该队伍的教练员，为该队伍办理退赛。

具体而言，主办方有一个字典，字典里共有 $m$ 个字符串，第 $j$ 个字符串是 $t_j$。

如果一支队伍的队伍名 $s_i$ 存在一个子串 $k$，使得 $k$ 在主办方的字典里，则这支队伍的队伍名被认为是违规。

你作为主办方，想知道有哪些队伍会被联系教练退赛。

## 说明/提示

### 样例 1 解释

因为第一个队名包含子串 $\texttt{fusu}$，因此这支队伍会被退赛。    
因为第二个队名包含子串 $\texttt{er}$，因此这支队伍会被退赛。

### 数据规模与约定

我们用 $|s_i|$ 和 $|t_j|$ 表示 $s_i$ 和 $t_j$ 的长度。

| 测试点编号 | $n$ | $m$ | 特殊约定 |
| :-: | :-: | :-: | :-: |
| $1$ | $=1$ | $=1$ | $\mid s_i\mid =\mid t_j\mid =1$ |
| $2$ | $=1$ | $=1$ | 无 |
| $3$ | $=1$ | $\leq 100$ | 无 |
| $4$ | $\leq 100$ | $=1$| 无 |
| $5,6$ | $\leq 100$ | $\leq 100$ | $\mid s_i \mid=\mid t_j\mid = 1$ |
| $7,8$ | $\leq 100$ | $\leq 100$ | $\mid t_i \mid = 1$ |
| $9,10$ | $\leq 100$ | $\leq 100$ | 无 |

对全部的测试数据，$1 \leq n,m \leq 100$，$1 \leq |s_i|, |t_j| \leq 100$，输入的字符串均仅含可见 ASCII 字符，其 ASCII 范围为 $33 \sim 126$（含两端，空格的 ASCII 为 $32$）。

## 样例 #1

### 输入

```
3
yifusuyi
erFusuer
yiFusuYi
2
fusu
er```

### 输出

```
Yes
Yes
No```

# AI分析结果

### 综合分析与结论

本题的核心任务是检查每个队伍名称是否包含字典中的任意字符串作为子串。题解的主要思路是通过双重循环遍历队伍名称和字典，使用 `substr` 函数进行子串匹配。该解法的时间复杂度为 O(n * m * L)，其中 L 是队伍名称和字典字符串的最大长度。由于数据规模较小（n, m ≤ 100），该解法在时间和空间上都是可行的。

### 所选题解

#### 题解：一扶苏一
- **星级：4星**
- **关键亮点**：
  - 思路清晰，代码结构简洁，易于理解。
  - 使用 `substr` 函数进行子串匹配，实现简单直接。
  - 通过 `flag` 变量标记是否找到匹配的子串，优化了输出逻辑。
- **核心代码**：
  ```cpp
  for (int i = 0; i < n; ++i) {
      bool flag = false; // 标记是否需要退赛
      for (int j = 0; j < m; ++j) {
          // 检查 s[i] 中是否包含 t[j]
          for (int p = 0; p < int(s[i].size()); ++p) {
              // substr 的第二个参数是子串长度，如果超出范围，它会返回剩余的部分
              if (s[i].substr(p, t[j].size()) == t[j]) {
                  flag = true;
                  break; // 找到子串，跳出内层循环
              }
          }
          if (flag) break; // 队伍需要退赛，跳出外层循环
      }
      // 根据标记输出结果
      if (flag) cout << "Yes\n";
      else cout << "No\n";
  }
  ```

### 最优关键思路或技巧

- **子串匹配**：使用 `substr` 函数进行子串匹配是本题的核心技巧。该函数可以直接从字符串中提取指定长度的子串，简化了匹配过程。
- **标记优化**：通过 `flag` 变量标记是否找到匹配的子串，避免不必要的循环，提高了代码效率。

### 可拓展之处

- **KMP算法**：如果数据规模较大，可以考虑使用KMP算法进行子串匹配，时间复杂度为 O(n + m)。
- **哈希匹配**：可以使用哈希算法（如Rabin-Karp）进行子串匹配，进一步优化时间复杂度。

### 推荐洛谷题目

1. **P3375 【模板】KMP字符串匹配**：考察KMP算法的实现与应用。
2. **P3376 【模板】Rabin-Karp字符串匹配**：考察Rabin-Karp算法的实现与应用。
3. **P3377 【模板】AC自动机（简单版）**：考察AC自动机的实现与应用，适用于多模式串匹配。

### 个人心得总结

- **调试经历**：在实现子串匹配时，需要注意 `substr` 函数的参数范围，避免越界错误。
- **踩坑教训**：在双重循环中，及时使用 `break` 语句跳出循环，避免不必要的计算。
- **顿悟感想**：通过标记变量优化输出逻辑，可以提高代码的可读性和效率。

---
处理用时：20.98秒
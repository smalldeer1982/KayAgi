# 题目信息

# [NOIP 2003 普及组] 乒乓球

## 题目背景

国际乒联现在主席沙拉拉自从上任以来就立志于推行一系列改革，以推动乒乓球运动在全球的普及。其中 $11$ 分制改革引起了很大的争议，有一部分球员因为无法适应新规则只能选择退役。华华就是其中一位，他退役之后走上了乒乓球研究工作，意图弄明白 $11$ 分制和 $21$ 分制对选手的不同影响。在开展他的研究之前，他首先需要对他多年比赛的统计数据进行一些分析，所以需要你的帮忙。

## 题目描述

华华通过以下方式进行分析，首先将比赛每个球的胜负列成一张表，然后分别计算在 $11$ 分制和 $21$ 分制下，双方的比赛结果（截至记录末尾）。

比如现在有这么一份记录，（其中 $\texttt W$ 表示华华获得一分，$\texttt L$ 表示华华对手获得一分）：

$\texttt{WWWWWWWWWWWWWWWWWWWWWWLW}$

在 $11$ 分制下，此时比赛的结果是华华第一局 $11$ 比 $0$ 获胜，第二局 $11$ 比 $0$ 获胜，正在进行第三局，当前比分 $1$ 比 $1$。而在 $21$ 分制下，此时比赛结果是华华第一局 $21$ 比 $0$ 获胜，正在进行第二局，比分 $2$ 比 $1$。如果一局比赛刚开始，则此时比分为 $0$ 比 $0$。直到分差大于或者等于 $2$，才一局结束。

**注意：当一局比赛结束后，下一局立刻开始**。

你的程序就是要对于一系列比赛信息的输入（$\texttt{WL}$ 形式），输出正确的结果。


## 说明/提示

每行至多 $25$ 个字母，最多有 $2500$ 行。

（注：事实上有一个测试点有 $2501$ 行数据。）

**【题目来源】**

NOIP 2003 普及组第一题

## 样例 #1

### 输入

```
WWWWWWWWWWWWWWWWWWWW
WWLWE
```

### 输出

```
11:0
11:0
1:1

21:0
2:1
```

# AI分析结果

### 综合分析与结论

本题的核心是通过模拟乒乓球比赛的得分规则，分别计算在11分制和21分制下的比赛结果。所有题解都采用了相似的思路：读取输入、遍历得分记录、根据规则判断比赛是否结束，并输出结果。题解的主要区别在于代码的简洁性、可读性以及是否使用了函数封装等优化手段。

### 所选高星题解

#### 1. 作者：DengDuck (5星)
- **关键亮点**：代码简洁且高效，使用了函数封装来避免重复代码，逻辑清晰，易于理解。
- **个人心得**：通过函数封装，减少了代码冗余，提升了可维护性。
- **核心代码**：
```cpp
void Work(int Lim) {
    for(char i:S) {
        if(i=='W')A++;
        if(i=='L')B++;
        if(max(A,B)>=Lim&&abs(A-B)>=2) {
            cout<<A<<":"<<B<<endl;
            A=0,B=0;
        }
    }
    printf("%d:%d\n\n",A,B);
    A=B=0;	
}
```
- **实现思想**：通过函数`Work`处理不同分制的比赛，减少了代码重复，逻辑清晰。

#### 2. 作者：qhr2023 (4星)
- **关键亮点**：代码简洁，逻辑清晰，使用了三元运算符简化代码，易于理解。
- **核心代码**：
```cpp
void solve (int k) {
    int a=0, b=0;
    for (char i:s) {
        i=='W'?a++:b++;
        if (max(a, b)>=k&&abs(a-b)>=2)
            cout << a << ':' << b << '\n',
            a=b=0;
    }
    cout << a << ':' << b << "\n\n";
}
```
- **实现思想**：通过三元运算符简化了得分判断，代码简洁且易读。

#### 3. 作者：lucky_Mrzhao (4星)
- **关键亮点**：代码结构清晰，使用了函数封装，逻辑简单明了。
- **核心代码**：
```cpp
void num(int k){
    int w,l;
    w = l = 0;
    for(int i = 1;i <= tot;i++){
        if(c[i]=='W') w++;
        else l++;
        if((w>=k||l>=k)&&(abs(w-l))>=2){
            cout << w << ':' << l << endl;
            w = l = 0;
        }
    }
    cout << w << ':' << l << endl;
}
```
- **实现思想**：通过函数`num`处理不同分制的比赛，代码结构清晰，逻辑简单。

### 最优关键思路与技巧

1. **函数封装**：将处理不同分制的逻辑封装成函数，减少代码重复，提升可维护性。
2. **简洁的遍历与判断**：使用`max`和`abs`函数简化比赛结束条件的判断，代码简洁且高效。
3. **输入处理**：使用`while(cin>>C)`或`scanf`读取输入，直到遇到结束符`E`，确保输入处理的灵活性。

### 可拓展之处

- **类似算法套路**：本题的模拟思路可以应用于其他需要根据规则进行状态转换的题目，如棋类游戏、体育比赛等。
- **数据结构拓展**：可以尝试使用更复杂的数据结构（如队列、栈）来处理更复杂的比赛规则或记录。

### 推荐相似题目

1. [P1043 数字游戏](https://www.luogu.com.cn/problem/P1043) - 模拟题，考察数字游戏的规则处理。
2. [P1056 排座椅](https://www.luogu.com.cn/problem/P1056) - 模拟题，考察座位安排的规则处理。
3. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060) - 模拟题，考察购物决策的规则处理。

### 个人心得总结

- **调试经历**：在处理输入时，确保读到结束符`E`后立即停止输入，避免后续处理出错。
- **踩坑教训**：在输出比赛结果后，务必清零比分，否则会影响下一局的计分。
- **顿悟感想**：通过函数封装，可以大大减少代码冗余，提升代码的可读性和可维护性。

---
处理用时：33.19秒
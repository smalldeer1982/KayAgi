# 题目信息

# [传智杯 #3 决赛] 子串

## 题目背景

disangan233 喜欢字符串，于是 disangan333 想让你找一些 disangan233 喜欢的串。

## 题目描述

在传智的开发课堂上，希望您开发一款文档处理软件。

给定 $T$ 组询问，每次给定 $2$ 个长度为 $n,m$ 的只含英文字母的字符串 $a,b$，求 $a$ 在 $b$ 中的出现次数，相同字符不区分大小写。注意 $a$ 是 $b$ 中连续子序列。

对于所有数据，$T\leq 100$，$\sum n\leq \sum m\leq 10^3$。字符串仅由大写或者小写的英文字母组成。

## 说明/提示

对于第一组输入，出现了 $3$ 次，分别是 `[abc]abcabca`，`abc[abc]abca`，`abcabc[abc]a`；

对于第二组输入，出现了 $9$ 次，分别是 `[Aa]AaaAaAa`，`A[aA]aaAaAa`，`Aa[Aa]aAaAa`，`AaA[aa]AaAa`，`AaAa[aA]aAa`，`AaAaa[Aa]Aa`，`AaAaaA[aA]a`，`AaAaaA[aA]a`，`AaAaaAa[Aa]`。

## 样例 #1

### 输入

```
5
3 10
abc
abcabcabca
2 10
aa
AAaAaaAaAa
5 5
AbCdE
eDcBa
5 5
abcde
ABCDE
3 10
aba
ABaBaAbaBA```

### 输出

```
3
9
0
1
4```

# AI分析结果

### 综合分析与结论

本题的核心在于如何在忽略大小写的情况下，统计一个字符串在另一个字符串中作为连续子序列出现的次数。所有题解都采用了将字符串统一转换为小写（或大写）的策略，以减少大小写带来的复杂性。主要的差异在于子串匹配的实现方式：

1. **Milthm** 使用了 `substr` 函数来截取子串并进行比较，代码简洁且易读。
2. **Vibration886** 通过手动构建子串并与目标字符串进行比较，虽然避免了使用 `find` 函数，但代码略显冗长。
3. **WA_sir** 通过逐个字符比较，并利用字符差值的模运算来判断是否相等，思路巧妙且高效。

总体来看，Milthm 和 WA_sir 的题解在代码简洁性和效率上表现较好，而 Vibration886 的题解虽然可行，但实现方式稍显繁琐。

### 所选高星题解

#### 1. Milthm (★★★★★)
- **关键亮点**：使用 `substr` 函数简化子串匹配，代码简洁且易读。
- **核心代码**：
  ```cpp
  for(int i=0;i<l2;i++){
      if(s2.substr(i,l1)==s1)ans++;
  }
  ```
- **实现思想**：通过 `substr` 函数截取子串，直接与目标字符串进行比较，匹配成功则计数加一。

#### 2. WA_sir (★★★★☆)
- **关键亮点**：利用字符差值的模运算来判断是否相等，避免了额外的字符串操作，效率较高。
- **核心代码**：
  ```cpp
  for(int j=0;j<n;j++)
      if(abs(a[j]-b[i+j])%32){
          f=false;
          break;
      }
  if(f)ans++;
  ```
- **实现思想**：逐个字符比较，通过字符差值的模运算来判断是否相等，匹配成功则计数加一。

### 最优关键思路与技巧

- **统一大小写**：将字符串统一转换为小写或大写，简化字符比较。
- **高效子串匹配**：使用 `substr` 函数或逐个字符比较，确保匹配的准确性和效率。
- **字符差值模运算**：通过字符差值的模运算来判断字符是否相等，避免额外的字符串操作。

### 可拓展之处

- **类似问题**：可以扩展到处理包含特殊字符或数字的字符串匹配问题。
- **算法优化**：可以考虑使用 KMP 算法或 Boyer-Moore 算法来进一步优化子串匹配的效率。

### 推荐相似题目

1. [P3375 【模板】KMP字符串匹配](https://www.luogu.com.cn/problem/P3375)
2. [P3805 【模板】Manacher算法](https://www.luogu.com.cn/problem/P3805)
3. [P3919 【模板】可持久化线段树](https://www.luogu.com.cn/problem/P3919)

### 个人心得摘录

- **Milthm**：通过 `substr` 函数简化了子串匹配的实现，代码简洁且易读。
- **WA_sir**：利用字符差值的模运算来判断字符是否相等，思路巧妙且高效，避免了额外的字符串操作。

### 通用建议与扩展思路

- **统一大小写**：在处理字符串匹配问题时，统一大小写可以简化字符比较。
- **高效子串匹配**：选择合适的子串匹配算法（如 KMP、Boyer-Moore）可以显著提高匹配效率。
- **字符差值模运算**：在处理字符比较时，利用字符差值的模运算可以避免额外的字符串操作，提高效率。

---
处理用时：28.34秒
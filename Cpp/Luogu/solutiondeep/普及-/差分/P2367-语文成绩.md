# 题目信息

# 语文成绩

## 题目背景

语文考试结束了，成绩还是一如既往地有问题。


## 题目描述

语文老师总是写错成绩，所以当她修改成绩的时候，总是累得不行。她总是要一遍遍地给某些同学增加分数，又要注意最低分是多少。你能帮帮她吗？


## 说明/提示

对于 $40\%$ 的数据，有 $n \le 10^3$。

对于 $60\%$ 的数据，有 $n \le 10^4$。

对于 $80\%$ 的数据，有 $n \le 10^5$。

对于 $100\%$ 的数据，有 $n \le 5\times 10^6$，$p \le n$，学生初始成绩 $ \le 100$，$z \le 100$。

## 样例 #1

### 输入

```
3 2
1 1 1
1 2 1
2 3 1```

### 输出

```
2
```

# AI分析结果



### 综合分析与结论
本题核心在于高效处理大规模区间加法与求最小值。差分算法（时间复杂度O(n)）是最优解，各题解均围绕差分展开。线段树、树状数组、分块等解法虽可行，但在5e6数据量下存在性能瓶颈。输入优化（如fread）是大规模数据处理的关键技巧。

---

### 高星题解推荐

#### 【学委】★★★★★
**关键亮点**：  
- 详细讲解快速输入优化（fread）提升IO效率  
- 结合前缀和与差分思想，避免冗余数组存储  
- 包含完整快读实现和优化思路，对大数据处理有实际指导意义  

**核心代码片段**：  
```cpp
// fread优化快读
char tmp[1000010];
int cnt = 0, Max = 0;
char getch() {
    ++cnt;
    if(cnt > Max) {
        cnt = 1;
        Max = fread(tmp+1, 1, 1000000, stdin);
    }
    return tmp[cnt];
}
// 差分处理
for(int i=1; i<=p; i++) {
    int x=getint(), y=getint(), z=getint();
    b[x] += z; b[y+1] -= z; 
}
```

---

#### 【GoldenFishX】★★★★☆
**关键亮点**：  
- 差分思路清晰，配图直观解释差分原理  
- 代码结构简洁，适合新手学习差分基础实现  
- 变量命名规范，可读性强  

**核心实现思想**：  
```cpp
// 差分数组维护
for(i=0; i<p; i++) {
    cin >> x >> y >> z;
    d[x] += z;
    d[y+1] -= z;
}
// 前缀和还原数组并求最小值
for(i=1; i<=n; i++) {
    a[i] = a[i-1] + d[i];
    min = std::min(min, a[i]);
}
```

---

#### 【StudyingFather】★★★★☆
**关键亮点**：  
- 明确对比线段树与差分的时间复杂度差异  
- 代码极简，无冗余步骤  
- 强调"学以致用"的解题思维  

**核心代码片段**：  
```cpp
// 差分修改与还原
for(int i=1; i<=p; i++) {
    scanf("%d%d%d",&x,&y,&z);
    diff[x] += z; diff[y+1] -= z;
}
mina = diff[1];
for(int i=1; i<=n; i++) {
    a[i] = a[i-1] + diff[i];
    mina = min(a[i], mina);
}
```

---

### 最优关键思路与技巧
1. **差分算法**：通过维护差分数组`d[x] += z; d[y+1] -= z`实现O(1)区间修改，最后前缀和还原。  
2. **输入优化**：使用`fread`一次性读入大量数据，减少IO时间（学委题解）。  
3. **空间优化**：直接复用差分数组计算最终值，无需额外存储原数组（_WMD题解）。  

---

### 同类题目推荐
1. **P3368 【模板】树状数组 2**（区间修改+单点查询）  
2. **P2184 贪婪大陆**（差分思想处理区间覆盖）  
3. **P2880 [USACO07JAN] Balanced Lineup G**（区间最值，可用ST表或线段树）  

---

### 题解中的个人心得摘录
- **学委**：  
  > "快读优化在大数据场景下至关重要，fread的实现并不复杂但效果显著。"  
- **囧人232**：  
  > "差分比线段树更适合大规模区间修改，NOIP借教室的类似经验让我优先选择差分。"  
- **流逝丶**：  
  > "坚持用线段树调试，最终通过懒标记下放优化空间，证明对数据结构的深入理解能突破常规思路。"

---
处理用时：49.15秒
# 题目信息

# [USACO2.1] 健康的荷斯坦奶牛 Healthy Holsteins

## 题目描述

农民 John 以拥有世界上最健康的奶牛为傲。他知道每种饲料中所包含的牛所需的最低的维他命量是多少。请你帮助农夫喂养他的牛，以保持它们的健康，使喂给牛的饲料的种数最少。

给出牛所需的最低的维他命量，输出喂给牛需要哪些种类的饲料，且所需的饲料剂量最少。

维他命量以整数表示，每种饲料最多只能对牛使用一次，数据保证存在解。


## 说明/提示

【数据范围】  
对于 $100\%$ 的数据，$1\le v \le 25$，$1\le g \le 15$。  
输入的所有整数在 $[1,1000]$ 范围内。

USACO 2.1

翻译来自NOCOW


## 样例 #1

### 输入

```
4
100 200 300 400
3
50  50  50  50
200 300 200 300
900 150 389 399```

### 输出

```
2 1 3
```

# AI分析结果



### 综合分析与结论
本题核心在于找出满足维生素需求的最少饲料组合，各题解主要采用DFS/BFS/二进制枚举三种思路。由于数据规模较小（g≤15），二进制枚举和迭代加深法效率更优，能快速定位最优解。关键难点在于剪枝优化与字典序处理，二进制枚举通过子集遍历顺序天然保证字典序，是较优解法。

---

### 精选题解与评分

#### 1. 作者：ouuan（5星）
**关键亮点**：
- 采用二进制枚举子集，时间复杂度稳定为O(2^g·gv)
- 通过倒序枚举子集保证字典序最小
- 代码简洁高效，利用位运算快速统计饲料数量
**核心代码**：
```cpp
for (int i = (1<<g)-1; i >=0; --i) { // 倒序枚举保证字典序
    if (count(i) < minn) {
        // 计算当前子集维生素总和
        if (满足条件) 更新最优解
    }
}
int count(int x) { // 统计二进制1的个数
    int out=0;
    while (x) out += x&1, x >>=1;
    return out;
}
```

#### 2. 作者：Youngsc（4星）
**关键亮点**：
- 迭代加深搜索（IDDFS），逐层增加饲料数量限制
- 剪枝优化：剩余饲料不足时提前返回
**核心代码**：
```cpp
void dfs(int x, int sum, int num) { // num为当前层数限制
    if (sum == num) {
        if (维生素达标) 输出并退出程序;
    }
    if (n-x < num-sum) return; // 剩余饲料不足时剪枝
    for (int i=x+1; i<=n; ++i) {
        选择第i种饲料并递归;
        回溯撤销选择;
    }
}
```

#### 3. 作者：06ray（4星）
**关键亮点**：
- 标准DFS模板，适合理解基础回溯思想
- 通过全局变量记录最优解，代码直观
**核心代码**：
```cpp
void search(int t, int s) {
    if (t > m) {
        if (满足条件且s更小) 更新全局最优解;
        return;
    }
    c[s+1] = t; // 选择当前饲料
    search(t+1, s+1);
    c[s+1] = 0; // 回溯
    search(t+1, s); // 不选
}
```

---

### 关键技巧总结
1. **二进制枚举**：当g≤15时，用二进制位表示饲料选择状态，通过倒序枚举保证字典序。
2. **剪枝优化**：DFS中优先选择编号大的饲料避免重复组合；IDDFS通过层数限制减少无效搜索。
3. **位运算加速**：用`count()`快速统计选中饲料数量，用位与运算判断是否选择某饲料。

---

### 相似题目推荐
1. **P1036 [NOIP2002 普及组] 选数** - 枚举子集判断素数
2. **P1157 组合的输出** - 组合数枚举与格式控制
3. **P2392 kkksc03考前临时抱佛脚** - 子集划分的贪心+枚举优化

---
处理用时：65.37秒
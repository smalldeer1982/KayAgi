# 题目信息

# [语言月赛202306] 演唱会

## 题目描述

一个特殊的节日，zyl 举办了一场演唱会，他想要规划一下演唱会的曲目。

根据同学的要求，他要从 $n$ 首歌（编号 $1\sim n$）中选出 $m$ 首加入演唱会歌单。

选择的规则很简单，班上有 $a$ 名学生（不包括 zyl），学号为 $1\sim a$。zyl 会按照学号统计每位同学从每首歌中得到的快乐值，记为 $h_{i,j}$。一首歌的「欢乐度」是它所给予其他所有同学的「快乐值」总和。

巧妙的是，由于歌曲风格迥异，**同一个学生一定会从不同的歌中会收获不同的快乐值，且不会有任何两首歌的欢乐度相同**。

zyl 选出欢乐度最高的 $m$ 首歌，并将它们按欢乐度**从大到小**排好序。

但 zyl 注意到了她的快乐值...

无论如何，zyl 一定会把她最喜欢的歌放进歌单（她获得快乐值最高的歌即为她最喜欢的歌）！
如果她最喜欢的歌之前已经在歌单中，那么 zyl 会把这首歌提到歌单的第一个位置（即，仅将该歌曲的位置变为第一位，其余歌曲的相对位置不变）；但如果不在，zyl 则会把已经选择好的歌单里的最后一首歌给删掉。然后把她最喜欢的曲目放在歌单的最后。

现在 zyl 将统计的快乐值数据和她的学号交给你，请你帮他列出演唱会的歌单。

## 说明/提示

### 样例 1 解释
按照欢乐度排序后靠前的两道是 $3, 2$，但由于她最喜欢的歌是 $4$，不在歌单里，于是将 $2$ 从歌单里删除，之后将 $4$ 放在最后。最后的歌单为 $3, 4$。
### 数据规模与约定
对于 $100\%$ 的数据，$1\leq m \leq n \leq 10^5$，$1\leq b \leq a\leq 100$。$0\leq h_{i,j}\leq 10^6$。

| 测试点编号 | $n$ | $m$ | $a$ | $h_{i,j}$ |
| :----------: | :----------: | :----------: | :----------: |:----------:|
| $1 \sim 2$ | $\leq5$ | $=1$ | $\leq5$ |$\leq 10000$|
| $3 \sim 4$ | $\leq1000$ | $=n$ | $\leq100$ |$\leq 10000$|
| $5 \sim 6$ | $\leq 1000$ | $\leq 1000$ | $=1$ |$\leq 10000$|
| $7 \sim 9$ | $\leq1000$ | $\leq1000$ | $\leq100$ |$\leq 10000$|
| $10$ |$\leq 10^5$|$\leq 10^5$|$\leq 100$|$\leq 10^6$|

## 样例 #1

### 输入

```
4 2 3 2
2 4 3 1
1 2 3 4
2 3 4 1```

### 输出

```
3 4```

# AI分析结果

### 综合分析与结论
该题解思路清晰，详细阐述了从无特殊限制到加入特殊限制的解题过程，先计算每首歌欢乐度并排序选出前 m 首，再处理“她”最喜欢的歌。算法要点在于使用结构体存储歌曲编号和欢乐度，通过 sort 函数排序。难点在于处理“她”最喜欢的歌在或不在歌单的不同情况。整体质量较高，能很好地帮助理解和解决该问题。

### 所选题解
- **星级**：5星
- **关键亮点**：思路清晰，先分步骤讲解无特殊限制和有特殊限制的情况，代码注释详细，还考虑了输入量较大时使用格式化输入以防超时。

### 重点代码及核心实现思想
```cpp
struct song{
    int id,k;
}h[100005];
bool cmp(song a,song b){
    return a.k>b.k;
}

for(int i=1;i<=a;i++){
    for(int j=1;j<=n;j++){
        int x;
        scanf("%d",&x);
        h[j].k+=x,h[j].id=j;
        if(i==b&&x>k)ex=j,k=x;
    }
}
sort(h+1,h+n+1,cmp);
bool f=0;
for(int i=1;i<=m;i++)if(ex==h[i].id)f=1;
if(f){
    printf("%d ",ex);
    for(int i=1;i<=m;i++)if(h[i].id!=ex)printf("%d ",h[i].id);
}
else {
    for(int i=1;i<m;i++)printf("%d ",h[i].id);
    printf("%d",ex);
}
```
核心实现思想：首先定义结构体 `song` 存储歌曲编号和欢乐度，通过双重循环输入每位同学对每首歌的快乐值，累加得到每首歌的欢乐度，同时记录“她”最喜欢的歌的编号。使用 `sort` 函数按欢乐度从大到小排序。判断“她”最喜欢的歌是否在歌单中，根据不同情况输出最终歌单。

### 最优关键思路或技巧
- 使用结构体存储歌曲编号和欢乐度，方便排序和后续处理。
- 利用 `sort` 函数进行排序，提高效率。
- 考虑输入量较大的情况，使用格式化输入 `scanf` 防止超时。

### 可拓展之处
同类型题可能会改变选择规则，如增加更多特殊要求或改变排序条件等。类似算法套路可用于处理需要排序和特殊条件筛选的问题，如根据不同指标对物品进行排序并选择满足特定条件的物品。

### 洛谷相似题目推荐
- P1093 [NOIP2007 普及组] 奖学金
- P1781 宇宙总统
- P1177 [模板] 快速排序 

---
处理用时：15.95秒
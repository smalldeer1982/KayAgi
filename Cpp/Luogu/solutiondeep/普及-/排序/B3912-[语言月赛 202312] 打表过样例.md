# 题目信息

# [语言月赛 202312] 打表过样例

## 题目背景

众所周知，一名负责任的出题人，不应当让如下的打表程序获得过多的分数。

```cpp
#include<iostream>
int main() {
    std::cout << "Specific Value\n";
}
```

> 这个程序的功能是，输出一个特定的内容，以尝试通过一些测试点而获得分数。
> 
> 经典的例子是：<https://www.luogu.com.cn/problem/P8819>，输出无解可以获得 45 分的成绩。

## 题目描述

很不幸，你遇到了不负责任的出题人。

在某道试题里，共有 $N$ 个测试点，组成了 $k$ 个 Subtask，第 $i$ 个 Subtask 包含 $p_i$ 个测试点，第 $j$ 个测试点的编号为 $w_{i,j}$。请注意，一个测试点可能属于多个 Subtask。

> **Subtask**
>
> 每个 Subtask 包含多个测试点和一个分值，当且仅当通过全部这些测试点时，才能获得这个 Subtask 的分值。一道题目的得分为通过的所有 Subtask 分值之和。

这是一道输出仅有一个数的题目，编号为 $i$ 的测试点，标准答案为 $A_i$。

很不幸，由于命题人不负责任，$A_i$ 中出现了大量重复，让打表选手有了可乘之机。

现在，你通过某种手段获得了全部的数据，请问输出哪个数，可以得到最高的分数？最高的分数是多少？

如果有多个数均可得到最高的分数，你只需要任意给出一个。

## 说明/提示

### 数据规模与约定

- 对于 $30\%$ 的测试数据，$1 \le N \le 100$，$1 \le k,p_i \le 10$，$1 \le A_i \le 100$。
- 对于 $100\%$ 的测试数据，$1 \le N \le 10^5$，$1 \le k,p_i \le 5000$，$1 \le w_{i,j} \le N$，$1 \le S_i \le 10^9$，$1 \leq A _ i \leq 10 ^ 9$。

## 样例 #1

### 输入

```
2
3 1 2 3 5
3 4 5 6 7
6
4 4 4 5 5 5
```

### 输出

```
7
5
```

# AI分析结果

### 综合分析与结论
本题需要找出输出哪个数能得到最高分数以及最高分数是多少。览遍千秋的题解思路清晰，先介绍了整体的解题框架，包括用数组存储 Subtask 测试点编号，通过遍历判断 Subtask 内测试点答案是否相同。对于得分统计，先提出部分分的桶思想，再针对数据范围大的问题给出满分解法，即使用结构体数组存储并排序分段统计。

### 所选题解
- 览遍千秋的题解：★★★★
    - 关键亮点：思路清晰，对部分分和满分解法都有详细说明，且给出了部分核心代码，还提供了视频题解链接。

### 重点代码及核心实现思想
```cpp
for(int i = 1; i <= k; i++) {
    bool IsAnswerEqual = true;
    for(int j = 2; j <= p[i]; j++) {
        if(A[w[i][j - 1]]!= A[w[i][j]]) {
            IsAnswerEqual = false;
        }
    }
    if(IsAnswerEqual) {
        ans[++cnt] = {A[w[i][1]], S[i]};
    }
}
```
核心实现思想：遍历每个 Subtask，通过内层循环判断该 Subtask 中所有测试点的答案是否相同。若相同，则将该 Subtask 的答案和分值存入 `ans` 数组中。

### 最优关键思路或技巧
- 对于数据范围小的情况，使用桶思想统计得分；对于数据范围大的情况，使用结构体数组存储并排序分段统计，避免了桶数组开得过大的问题。

### 可拓展之处
同类型题可能会有不同的任务类型和得分规则，但核心思路都是对任务进行分类统计得分。类似算法套路可以用于处理分组统计问题，如统计不同班级学生的成绩总分等。

### 推荐题目
- P1047 校门外的树
- P1093 奖学金
- P1161 开灯

---
处理用时：10.97秒
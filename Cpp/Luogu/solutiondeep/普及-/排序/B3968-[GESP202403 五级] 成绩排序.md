# 题目信息

# [GESP202403 五级] 成绩排序

## 题目描述

有 $n$ 名同学，每名同学有语文、数学、英语三科成绩，你需要按照如下规则对所有同学的成绩从高到低排序：

1. 比较总分，高者靠前；
2. 如果总分相同，则比较语文和数学两科的总分，高者靠前；
3. 如果仍相同，则比较语文和数学两科的最高分，高者靠前；
4. 如果仍相同，则二人并列。

你需要输出每位同学的排名，如遇 $x$ 人并列，则他们排名相同，并留空后面的 $x - 1$ 个名次。例如，有 $3$ 名同学并列第 $1$，则后一名同学自动成为第 $4$ 名。

## 说明/提示

- 对 $30\%$ 的数据，$N \leq 100$，且所有同学总分各不相同。
- 对全部的测试数据，保证 $2 \leq N \leq 10^4$，$0 \leq c_i, m_i, e_i \leq 150$。

## 样例 #1

### 输入

```
6
140 140 150
140 149 140
148 141 140
141 148 140
145 145 139
0 0 0```

### 输出

```
1
3
4
4
2
6```

# AI分析结果

### 综合分析与结论
这些题解的核心思路都是使用结构体存储学生信息，自定义排序规则进行排序，再处理并列排名，最后按输入顺序输出排名。算法要点在于自定义排序函数和处理并列情况。难点在于正确实现排序规则和处理并列时留空名次。

### 高评分题解
- **Ravener（5星）**
    - **关键亮点**：思路清晰，详细记录了调试过程和错误原因，代码注释丰富，对并列情况的处理有独特的标记方法。
    - **个人心得**：作者一开始没有注意输出格式和并列排名规则，导致多次 WA，经过多次思考后通过添加标记变量和修改循环逻辑解决问题。
    - **核心代码**
```cpp
struct student
{
    int chn=0,mah=0,eng=0,sum=0,num=0;
    int pm=0;
    bool iscp=0;
};
bool cmp1(student a,student b)
{
    if(a.sum!=b.sum)
        return a.sum>b.sum;
    else if((a.mah+a.chn)!=(b.mah+b.chn))
        return (a.mah+a.chn)>(b.mah+b.chn);
    else if(max(a.mah,a.chn)!=max(b.mah,b.chn))
        return max(a.mah,a.chn)>max(b.mah,b.chn);
    else
    {
        if(a.num<b.num)
            b.iscp=1;
        else
            a.iscp=1;
        return a.num<b.num;
    }
}
bool cmp2(student a,student b)
{
    return a.num<b.num;
}
```
- **xyx404（4星）**
    - **关键亮点**：思路简洁明了，代码结构清晰，对并列排名的处理逻辑简单易懂。
    - **核心代码**
```cpp
bool cmp(node x,node y){
    if(x.sum!=y.sum)return x.sum>y.sum;
    else{
        if(x.chinese+x.math!=y.chinese+y.math)return x.chinese+x.math>y.chinese+y.math;
        else{
            if(max(x.chinese,x.math)!=max(y.chinese,y.math))return max(x.chinese,x.math)>max(y.chinese,y.math);
            else{
                return 0;
            }
        }
    }
}
bool cmp1(node x,node y){
    return x.bh<y.bh;
}
```
- **__youzimo2014__（4星）**
    - **关键亮点**：使用结构体存储学生信息，通过记录输入编号保证排序稳定性，用数组记录答案方便输出。
    - **核心代码**
```cpp
struct stu {
    int c, m, e, id;
    stu() {
        c = m = e = 0;
    }
    stu(int c_, int m_, int e_, int id_) {
        c = c_;
        m = m_;
        e = e_;
        id = id_;
    }
} st[10005];
bool cmp(stu a, stu b) {
    if (a.c + a.m + a.e!= b.c + b.m + b.e) return (a.c + a.m + a.e >  b.c + b.m + b.e);
    if (a.c + a.m!= b.c + b.m) return (a.c + a.m > b.c + b.m);
    if (max(a.c, a.m)!= max(b.c, b.m)) return (max(a.c, a.m) > max(b.c, b.m));
    return a.id < b.id;
}
```

### 最优关键思路或技巧
- 使用结构体存储学生的各项信息，方便管理和操作。
- 自定义排序函数，按照题目要求的规则进行排序。
- 记录学生的输入编号，在排序后能按原顺序输出排名。
- 处理并列情况时，通过比较当前学生和前一个学生的成绩来确定排名。

### 拓展思路
同类型题可能会改变排序规则或增加更多的比较维度，解题思路仍然是使用结构体存储信息，自定义排序函数。类似算法套路还可用于处理其他需要多条件排序和并列处理的问题，如运动会成绩排名、员工绩效排名等。

### 推荐题目
- [P1093 [NOIP2007 普及组] 奖学金](https://www.luogu.com.cn/problem/P1093)
- [P1781 宇宙总统](https://www.luogu.com.cn/problem/P1781)
- [P2676 [NOIP2015 普及组] 金币](https://www.luogu.com.cn/problem/P2676)

---
处理用时：30.74秒
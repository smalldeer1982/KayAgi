# 题目信息

# [厦门小学生 C++ 2022] 方阵排序

## 题目背景

本试题为 2022 年厦门市小学生 C++ 语言**复赛**试题，数据为洛谷自造。

**初赛**为笔试。

## 题目描述

班主任高老师是一位特别关注班级学习氛围建设的老师，每次考完试，高老师都想知道目前班级的每个座位上同学的名次情况，以便于重调座位，把不同水平的同学的座位分布均匀。已知高老师班级的座位分布是一个 $N\times N$ 的方阵，即 $N$ 排 $N$ 列，每个学生的成绩为 $0\sim 100$ 之间的正整数，现在高老师请会编程的你帮忙打印出名次方阵，即输出新的 $N\times N$ 方阵，每个位置把成绩替换成对应的名次，特别注意同分都取相同名次，请参考以下输入输出样例。

## 说明/提示

### 样例解释

$3$ 行 $3$ 列，共 $9$ 个学生，其中两个 $90$ 分，名次均为 $3$，所以没有名次 $4$，直接到名次 $5$。

### 数据范围

- 对于 $60\%$ 的数据，$N\leq 10$。
- 对于 $100\%$ 的数据，$N\leq 100$。


## 样例 #1

### 输入

```
3
5 50 65
70 80 90
90 95 100```

### 输出

```
9 8 7
6 5 3
3 2 1```

# AI分析结果

### 综合分析与结论
这些题解均围绕将方阵成绩转换为对应名次并输出这一核心任务展开。不同题解在思路、算法复杂度和代码实现上各有差异。
- **liwanxian**：使用结构体存储学生信息，排序后遍历确定名次，时间复杂度 $O(n^2 log n)$。
- **yedalong**：用两个数组，一个排序一个不排序，通过遍历查找排名，时间复杂度 $O(n^4)$。
- **qianyuzhe**：对成绩取相反数排序，用二分查找确定排名，时间复杂度 $O(n log n)$。
- **liuli688**：使用 `std::pair` 存储成绩和坐标，排序后确定名次，时间复杂度 $O(n^2 log n)$。
- **All_Wrong_Answer**：暴力模拟排序，先处理分数名次再查找，有 `break` 优化，时间复杂度接近 $O(n^4)$。

综合来看，qianyuzhe 的题解在时间复杂度上最优，思路和代码实现也较为清晰。

### 所选题解
- **qianyuzhe（5星）**
    - **关键亮点**：采用取相反数排序和二分查找的方法，将时间复杂度优化到 $O(n log n)$，代码简洁高效。
    - **核心代码**：
```cpp
#include<bits/stdc++.h> 
using namespace std;
int n,i,j,a[10005],b[10005];
int main(){
    cin.tie(0)->ios::sync_with_stdio(false);
    cin>>n;
    for(i=0;i<n*n;i++){
        cin>>a[i];
        b[i]=-a[i];//取相反数 
    }
    sort(b,b+n*n);
    for(i=0;i<n;i++){
        for(j=0;j<n;j++)cout<<lower_bound(b,b+n*n,-a[i*n+j])-b+1<<' ';//二分查找 
        cout<<'\n';
    }
}
```
核心思想：先将成绩取相反数存入数组 `b` 并排序，然后对于原数组 `a` 中的每个成绩，通过二分查找其在 `b` 中的位置，从而确定排名。

### 最优关键思路或技巧
- 采用取相反数排序和二分查找，将查找排名的时间复杂度从 $O(n^2)$ 优化到 $O(log n)$。
- 使用结构体或 `std::pair` 存储学生的成绩和位置信息，方便排序后确定名次对应的位置。

### 可拓展之处
同类型题如矩阵元素的排名计算、多属性数据的排名等。类似算法套路可应用于其他需要排序和查找排名的场景，如体育比赛排名、学生成绩排名等。

### 推荐题目
- [P1093 奖学金](https://www.luogu.com.cn/problem/P1093)
- [P1781 宇宙总统](https://www.luogu.com.cn/problem/P1781)
- [P2676 [USACO07DEC]Bookshelf B](https://www.luogu.com.cn/problem/P2676)

### 个人心得
- **yedalong**：感慨厦门市比赛的题出现在洛谷，提到代码是小学写的，希望大家不要喷。总结为对题目出现在洛谷感到惊喜，对自己早期代码表示谦虚。 

---
处理用时：18.53秒
# 题目信息

# [NOIP 2007 普及组] 纪念品分组

## 题目背景

NOIP2007 普及组 T2

## 题目描述

元旦快到了，校学生会让乐乐负责新年晚会的纪念品发放工作。为使得参加晚会的同学所获得 的纪念品价值相对均衡，他要把购来的纪念品根据价格进行分组，但每组最多只能包括两件纪念品， 并且每组纪念品的价格之和不能超过一个给定的整数。为了保证在尽量短的时间内发完所有纪念品，乐乐希望分组的数目最少。

你的任务是写一个程序，找出所有分组方案中分组数最少的一种，输出最少的分组数目。


## 说明/提示

$50\%$ 的数据满足：$1\le n\le15$。

$100\%$ 的数据满足：$1\le n\le3\times10^4$，$80\le w\le200$，$5 \le  P_i  \le  w$。

## 样例 #1

### 输入

```
100 
9 
90 
20 
20 
30 
50 
60 
70 
80 
90
```

### 输出

```
6
```

# AI分析结果

### 综合分析与结论
本题是一个贪心算法的典型应用，目标是将纪念品分组，使每组最多两件且价格和不超给定值，同时分组数最少。各题解核心思路一致，先对纪念品价格排序，再用双指针分别指向首尾，尝试将最小和最大的纪念品配对，若和不超上限则分为一组，否则最大的单独一组。

### 高评分题解
- **作者：heidoudou（5星）**
    - **关键亮点**：不仅给出了贪心算法的实现，还详细证明了贪心算法的正确性，有助于深入理解贪心算法的原理。
    - **个人心得**：“贪心算法并不难，难的是证明”，强调了证明贪心算法正确性的重要性。
    - **核心代码**：
```cpp
// 先对数组从小到大排序
sort(a + 1, a + n + 1);
int i = 1, j = n;
while (i <= j) {
    if (a[i] + a[j] > w) {
        j--;
    } else {
        i++;
        j--;
    }
}
```
- **作者：ikunTLE（4星）**
    - **关键亮点**：思路清晰，代码简洁，对时间复杂度进行了分析，能让读者快速理解解题思路和算法效率。
    - **核心代码**：
```cpp
sort(a + 1, a + n + 1);
int l = 1, r = n, ans = 0;
while (l <= r) {
    if (a[l] + a[r] <= w)
        ++l;
    --r, ++ans;
}
```
- **作者：ryf2011（4星）**
    - **关键亮点**：思路清晰，代码规范，对解题过程进行了详细的步骤说明，适合初学者学习。
    - **核心代码**：
```cpp
sort(p + 1, p + n + 1);
int x = 1, y = n, ans = 0;
while (x <= y) {
    if (p[x] + p[y] <= w) {
        ans++;
        x++;
        y--;
    } else {
        y--;
        ans++;
    }
}
```

### 最优关键思路与技巧
- **贪心策略**：优先将最小和最大的纪念品配对，若无法配对则最大的单独一组，可使分组数最少。
- **双指针法**：用两个指针分别指向排序后数组的首尾，通过移动指针遍历数组，时间复杂度为 $O(n)$。

### 拓展思路
同类型题可考虑在分组规则、约束条件上做变化，如每组最多三件纪念品、每组价格和有多个约束条件等。类似算法套路可应用于资源分配、任务调度等问题，核心是通过贪心策略和双指针法优化分组或分配方案。

### 推荐题目
- [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)：贪心算法，按接水时间从小到大排序，计算最小等待时间。
- [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)：贪心算法，每次合并最小的两堆果子，用优先队列优化。
- [P2240 木材加工](https://www.luogu.com.cn/problem/P2240)：二分查找 + 贪心，通过二分查找合适的木材长度，判断是否满足条件。

---
处理用时：20.41秒
# 题目信息

# 排队接水

## 题目描述

有 $n$ 个人在一个水龙头前排队接水，假如每个人接水的时间为 $T_i$，请编程找出这 $n$ 个人排队的一种顺序，使得 $n$ 个人的平均等待时间最小。


## 说明/提示

$1\le n \leq 1000$，$1\le t_i \leq 10^6$，不保证 $t_i$ 不重复。


## 样例 #1

### 输入

```
10 
56 12 1 99 1000 234 33 55 99 812```

### 输出

```
3 2 7 8 1 4 9 6 10 5
291.90
```

# AI分析结果

### 综合分析与结论
本题主要目标是找出 $n$ 个人排队接水的顺序，使平均等待时间最小。各题解思路核心均为将接水时间短的人排在前面，差异主要体现在排序方法、数据存储方式和平均时间计算方法上。

### 思路对比
- **排序思路**：多数题解采用从小到大排序，部分给出数学证明，如无乐鸦通过比较相邻元素证明。
- **数据存储**：常见用结构体存储接水时间和序号，部分用 `std::pair` 或特殊方式，如 f112358 给时间乘 1001 加序号。
- **平均时间计算**：多根据公式 $a_1\times(n - 1)+a_2\times(n - 2)+\cdots+a_{n - 1}\times1$ 计算。

### 算法要点
- **排序算法**：有 `sort` 快排、冒泡排序、归并排序、快排手写版等。
- **数据结构**：结构体、`std::pair`、优先队列等。

### 解决难点
- **排序时序号同步**：用结构体或特殊存储方式解决。
- **数据精度**：用 `double` 类型避免误差。

### 高评分题解
1. **无乐鸦（5星）**
    - **亮点**：思路清晰，用数学方法证明排序依据，拓展思维。
    - **个人心得**：希望让大家解题思路更多，不单纯炫耀。
    - **核心代码**：无代码，主要是数学分析，设 $a_i$ 和 $b_i$ 且 $a_i < b_i$，对比两种排列总时间得出 $a_i$ 在前时间最小。
2. **f112358（4星）**
    - **亮点**：数据存储方式巧妙，避免用结构体，代码简洁。
    - **核心代码**：
```cpp
for(int i=1;i<=n;i++)
{
    cin>>x;
    t[i]=x*1001+i;
}
sort(t+1,t+1+n);
for(int j=1;j<=n;j++)
{
    cout<<t[j]%1001<<" ";
    sum+=t[j]/1001*(n-j);
}
```
3. **Anguei（4星）**
    - **亮点**：用 `std::pair` 存储数据，避免结构体，用动态数组节省内存。
    - **核心代码**：
```cpp
std::pair<int, int>* a = new std::pair<int, int>[n];
for (int i = 0; i < n; ++i)
{
    std::cin >> a[i].first;
    a[i].second = i + 1;
}
std::sort(a, a + n);
for (int i = 0; i < n; ++i)
{
    sum += a[i].first * (n - i - 1);
    std::cout << a[i].second << ' ';
}
delete[] a;
```

### 最优关键思路或技巧
- **数学证明**：用数学方法证明排序依据，增强解题逻辑性。
- **数据存储优化**：如给时间乘 1001 加序号或用 `std::pair` 简化代码。
- **动态数组**：用 `new` 运算符定义动态数组节省内存。

### 拓展思路
同类型题可拓展到多水龙头排队、任务调度等问题，算法套路为贪心算法，优先安排用时短的任务。

### 推荐题目
1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)：贪心算法，每次合并最小的两堆果子。
2. [P2240 部分背包问题](https://www.luogu.com.cn/problem/P2240)：贪心算法，按单位价值排序选取物品。
3. [P1803 凌乱的yyy / 线段覆盖](https://www.luogu.com.cn/problem/P1803)：贪心算法，按结束时间排序选择线段。

### 个人心得摘录
- 童年如作业：用 `float` 数据会爆，要用 `double` 类型。
- 封禁用户：数据范围有坑，不能用冒泡和桶排，要用结构体 + 快排 + 处理。
- ztz11：注意精度，`int`、`float` 会导致错误，要用 `double`。 

---
处理用时：30.22秒
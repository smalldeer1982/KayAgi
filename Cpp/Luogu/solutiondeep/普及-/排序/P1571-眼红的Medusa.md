# 题目信息

# 眼红的Medusa

## 题目描述

虽然 Miss Medusa 到了北京，领了科技创新奖，但是她还是觉得不满意。原因是：他发现很多人都和她一样获了科技创新奖，特别是其中的某些人，还获得了另一个奖项——特殊贡献奖。而越多的人获得了两个奖项，Miss Medusa就会越眼红。于是她决定统计有哪些人获得了两个奖项，来知道自己有多眼红。

## 说明/提示

对于 $60\%$ 的数据，$0 \leq n, m \leq 1000$，获得奖项的人的编号 $\lt 2 \times 10^9$；

对于 $100\%$ 的数据，$0 \leq n, m \leq 10^5$，获得奖项的人的编号 $\lt 2 \times 10^9$。

输入数据保证第二行任意两个数不同，第三行任意两个数不同。

## 样例 #1

### 输入

```
4 3
2 15 6 8
8 9 2
```

### 输出

```
2 8```

# AI分析结果

### 综合分析与结论
本题主要是找出同时获得科技创新奖和特殊贡献奖的人员编号，并按科技创新奖获奖名单的先后次序输出。题解思路主要分为以下几类：
1. **哈希类**：使用`map`、哈希表等数据结构建立映射关系，快速判断某个编号是否同时获奖，如使用`map<int, bool>`或自定义哈希表。
2. **二分查找类**：对获得特殊贡献奖的人员编号数组排序，然后对获得科技创新奖的人员编号逐个进行二分查找，判断是否同时获奖。
3. **排序合并类**：将两个奖项的人员编号统一排序，通过比较相邻元素找出同时获奖的人员，或者使用双指针遍历两个有序数组。
4. **STL 库函数类**：利用`binary_search`、`lower_bound`、`set_intersection`等 STL 库函数简化查找过程。
5. **其他**：如使用平衡树、结构体排序等方法。

### 高评分题解
1. **作者：Christopher_Yan（5 星）**
    - **关键亮点**：提供了`map`和二分查找两种思路，代码清晰，思路讲解详细。
    - **核心代码**：
```cpp
// map 做法
map<int,bool> v;
for(int i=1;i<=m;i++) {scanf("%d",&b[i]);v[b[i]]=true;}
for(int i=1;i<=n;i++) if(v[a[i]]) cout<<a[i]<<" ";

// 枚举＋二分
bool binary_search(int x) {
    int l=1,r=m;
    while (l<=r) {
        int mid=(l+r)>>1;
        if (b[mid]==a[x]) return 1;
        if (b[mid-1]<a[x]&&b[mid+1]>a[x]) return 0;
        if (b[mid]>a[x]) r=mid;
        else l=mid+1;
    }
    return 0;   
}
for(int i=1;i<=n;i++) if(binary_search(i)) printf("%d ",a[i]);
```
2. **作者：Register（4 星）**
    - **关键亮点**：使用`binary_search`库函数，代码简洁，同时对`binary_search`函数的参数进行了详细说明。
    - **核心代码**：
```cpp
sort(b+1,b+m+1);
for(register int i=1;i<=n;i++)
    if(binary_search(b+1,b+m+1,a[i])) cout<<a[i]<<' ';
```
3. **作者：Starlight237（4 星）**
    - **关键亮点**：详细讲解了二分算法的原理，代码中使用指针优化，还附上了二分查找的模板代码。
    - **核心代码**：
```cpp
sort(b,p);
for(reg int i=0;i<n;++i){
    int k=0,l=0,r=m-1,mid,x=a[i];
    while(l<=r)
        mid=l+r>>1,b[mid]<=x?(b[mid]==x?k=1,r=-1:l=mid+1):r=mid-1;
    if(k)printf("%d ",a[i]);
}
```

### 最优关键思路或技巧
- **数据结构**：使用`map`、`set`等关联容器可以快速建立映射关系，实现$O(1)$或$O(log n)$的查找。
- **算法优化**：二分查找将查找时间复杂度从$O(n)$降低到$O(log n)$，使用指针可以进一步优化代码性能。
- **思维方式**：通过排序和双指针遍历有序数组，可以高效地找出两个数组中的相同元素。
- **代码实现技巧**：使用 STL 库函数可以简化代码，提高开发效率。

### 可拓展之处
同类型题或类似算法套路：
- 查找两个数组的交集、并集、差集等。
- 在有序数组中查找满足特定条件的元素。
- 对大规模数据进行快速查找和统计。

### 推荐题目
1. [P1102 A-B 数对](https://www.luogu.com.cn/problem/P1102)：考察二分查找和哈希表的应用。
2. [P2249 【深基13.例1】查找](https://www.luogu.com.cn/problem/P2249)：基础的二分查找练习题。
3. [P3369 【模板】普通平衡树](https://www.luogu.com.cn/problem/P3369)：学习平衡树的经典题目。

### 个人心得摘录与总结
- **引领天下**：使用暴搜会超时，通过排序和优化（若`a[i]>b[j]`，则`a[i+1]`也必定大于`b[j]`）可以 AC。
- **雄鹰展翅**：注意输入数据中有 0，加了一个`if`判断；穷举只能得 60 分，要用二分。
- **rainygame**：暴力做法时间复杂度为$O(n^2)$，排序后维护决策点可以优化到$O((n+m) \log (n+m))$；哈希可以用更小的空间实现接近$O(1)$的查询，但要处理冲突。

---
处理用时：30.93秒
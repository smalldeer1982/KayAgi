# 题目信息

# 士兵站队

## 题目描述

在一个划分成网格的操场上，$n$ 个士兵散乱地站在网格点上，由整数坐标 $(x,y)$ 表示。

士兵们可以沿网格边上、下左右移动一步，但在同时刻任一网格点上只能有 1 名士兵。

按照军官的命令，他们要整齐地列成一个水平队列，即排成队列，即排成 $(x,y),(x+1,y),\ldots,(x+n-1,y)$。请求出如何选择 $x$ 和 $y$ 的值才能使士兵们以最少的总移动步数排成一列。

## 说明/提示

对于 $100\%$ 的数据，保证 $1 \leq n \leq 10000$，$-10000 \leq x,y \leq 10000$。

## 样例 #1

### 输入

```
5
1 2
2 2
1 3
3 -2
3 3```

### 输出

```
8```

# AI分析结果

### 综合分析与结论
这些题解核心思路一致，均将士兵横纵坐标分开处理，通过求中位数来确定最终位置使总移动步数最小。对于纵坐标，直接求中位数作为目标位置；对于横坐标，先对其排序，再将每个坐标减去其序号后再次排序求中位数。不过在代码实现、思路阐述和复杂度上存在差异。部分题解用自定义排序，增加了代码复杂度；部分题解思路阐述详细，利于理解。

### 所选题解
- **xiejinhao（5星）**
    - **关键亮点**：思路清晰，详细推导了横纵坐标处理的原理，代码注释丰富，可读性强。
    - **核心代码**：
```cpp
sort(x + 1, x + n + 1);
sort(y + 1, y + n + 1);
for (int i = 1; i <= n; i++) x[i] -= i;
sort(x + 1, x + n + 1);
if (!n % 2) {
    rex = (x[n / 2] + x[n / 2 + 1]) / 2;
    rey = (y[n / 2] + y[n / 2 + 1]) / 2;
} else {
    rex = x[n / 2 + 1];
    rey = y[n / 2 + 1];
}
for (int i = 1; i <= n; i++) ans += abs(x[i] - rex) + abs(y[i] - rey);
```
    - **核心思想**：先对横纵坐标排序，处理横坐标时每个坐标减去其序号后再次排序，根据奇偶性求横纵坐标中位数，最后累加每个士兵到目标位置的距离。

- **yydfj（4星）**
    - **关键亮点**：思路清晰，对横纵坐标处理原理有证明过程，代码结构清晰。
    - **核心代码**：
```cpp
xsort(1, n);
ysort(1, n);
for (int i = 1; i <= n; i++) ans += abs(y[i] - y[(n + 1) / 2]);
for (int i = 1; i <= n; i++) x[i] = x[i] - i + 1;
xsort(1, n);
for (int i = 1; i <= n; i++) ans += abs(x[i] - x[(n + 1) / 2]);
```
    - **核心思想**：自定义排序函数对横纵坐标排序，先累加纵坐标移动距离，处理横坐标后再次排序，累加横坐标移动距离。

- **lzj666_luogu（4星）**
    - **关键亮点**：思路简洁，代码简洁高效，通过公式变形将问题转化为求中位数。
    - **核心代码**：
```cpp
sort(&x[1], &x[n + 1]); sort(&y[1], &y[n + 1]);
for (int i = 1; i <= n; i++) x[i] -= i; sort(&x[1], &x[n + 1]);
for (int i = 1; i <= n / 2; i++) ans += x[n - i + 1] - x[i] + y[n - i + 1] - y[i];
```
    - **核心思想**：对横纵坐标排序，处理横坐标后再次排序，通过累加对称位置差值计算总移动距离。

### 最优关键思路与技巧
- **思维方式**：将二维问题拆分为两个一维问题分别处理，降低问题复杂度。
- **算法优化**：利用中位数性质，快速确定目标位置，减少不必要的枚举。
- **代码实现**：使用标准库的排序函数，简化代码。

### 拓展思路
同类型题可拓展到多维空间点的排列问题，或限制移动方向和规则的情况。类似算法套路为将复杂问题拆分为简单子问题，利用数学性质（如中位数、平均数）求解。

### 推荐题目
1. [P1862 输油管道问题](https://www.luogu.com.cn/problem/P1862)
2. [P1632 点的移动](https://www.luogu.com.cn/problem/P1632)
3. [P2512 [HAOI2008]糖果传递](https://www.luogu.com.cn/problem/P2512)

### 个人心得摘录与总结
- **2017gangbazi**：第一次交题解，为大家服务同时也让自己涨了知识。总结：分享题解能提升自己。
- **fengyuhaoz**：希望管理大大通过，有不对的地方请大家斧正，制作不易请谅解。总结：创作题解需严谨，接受他人指正。
- **wanyaxin**：这道题本蒟蒻想了好久才做出来，希望题解可以审核通过。总结：难题需深入思考，分享成果需耐心等待。 

---
处理用时：31.77秒
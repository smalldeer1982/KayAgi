# 题目信息

# [NOIP 2001 普及组] 最大公约数和最小公倍数问题

## 题目描述

输入两个正整数 $x_0, y_0$，求出满足下列条件的 $P, Q$ 的个数：

1. $P,Q$ 是正整数。

2. 要求 $P, Q$ 以 $x_0$ 为最大公约数，以 $y_0$ 为最小公倍数。

试求：满足条件的所有可能的 $P, Q$ 的个数。

## 说明/提示

$P,Q$ 有 $4$ 种：

1. $3, 60$。
2. $15, 12$。
3. $12, 15$。
4. $60, 3$。

对于 $100\%$ 的数据，$2 \le x_0, y_0 \le {10}^5$。

**【题目来源】**

NOIP 2001 普及组第二题

## 样例 #1

### 输入

```
3 60
```

### 输出

```
4
```

# AI分析结果



### 综合分析与结论
本题核心在于利用最大公约数与最小公倍数的乘积性质：$\text{P} \times \text{Q} = x_0 \times y_0$。各题解主要分为两种思路：
1. **数学分解法**：通过分解 $y_0/x_0$ 的质因数个数，快速计算答案（时间复杂度 $O(\sqrt{y/x})$）。
2. **因数枚举法**：枚举可能的因数对，验证 $\gcd$ 条件（时间复杂度 $O(\sqrt{x y})$）。

#### 最优关键思路总结
- **数学性质应用**：利用 $\text{P} \times \text{Q} = x_0 \times y_0$ 和 $\gcd$ 与 $\text{lcm}$ 的质因数指数关系。
- **质因数分解**：分解 $y_0/x_0$ 的质因数，答案即为其质因数数的 $2^n$（需先判断 $x_0 \mid y_0$）。
- **因数对枚举优化**：仅枚举到 $\sqrt{x y}$，通过对称性减少重复计算。

---

### 精选高分题解

#### 1. 樱雪喵（⭐⭐⭐⭐⭐）
**关键亮点**：
- 代码极简，直接枚举因数对并验证 $\gcd$。
- 处理对称性优化：仅枚举到 $\sqrt{x y}$，答案乘 $2$，特判 $x = y$ 的情况。
- 正确性高：隐式处理了 $y_0 \nmid x_0$ 的情况（此时无解，循环不计数）。

**核心代码**：
```cpp
long long m,n,ans;
int main(){
    cin>>m>>n;
    if(m==n) ans--;
    n*=m;
    for(long long i=1;i<=sqrt(n);i++){
        if(n%i==0&&__gcd(i,n/i)==m) ans+=2;
    }
    cout<<ans;
}
```

#### 2. sochiji（⭐⭐⭐⭐）
**关键亮点**：
- 数学推导严密，通过分解质因数快速计算答案。
- 直接处理边界条件：若 $x_0 \nmid y_0$，直接输出 $0$。
- 时间复杂度更优：分解质因数的复杂度通常低于因数枚举。

**核心代码**：
```cpp
int x, y, quotient = y / x;
int count = 0, currentFactor = 2;
while (quotient > 1) {
    if (quotient % currentFactor == 0) {
        count++;
        while (quotient % currentFactor == 0) quotient /= currentFactor;
    }
    currentFactor++;
}
cout << (1 << count);
```

#### 3. zhangboju（⭐⭐⭐）
**关键亮点**：
- 详细推导 $\gcd$ 和 $\text{lcm}$ 的数学性质。
- 提供手动实现的 $\gcd$ 函数，避免依赖库函数。

---

### 同类题目推荐
1. **P1072 [NOIP2009 提高组] Hankson 的趣味题**：结合 $\gcd$ 与 $\text{lcm}$ 的复杂条件判断。
2. **P2441 角色属性**：多变量约束下的 $\gcd$ 性质应用。
3. **P1888 三角函数**：利用 $\gcd$ 进行分数化简。

---

### 题解中的调试与优化经验
- **樱雪喵**：强调利用 `__gcd` 简化代码，处理对称性时需特判 $x = y$。
- **sochiji**：注意质因数分解时的边界条件（如商为 $1$ 时结束循环）。
- **kunkun127**：使用位运算 `(1 << count)` 快速计算 $2^n$，比 `pow` 更高效。

---

### 最终结论
优先选择 **数学分解法**（sochiji）或 **因数枚举法**（樱雪喵），前者适合大数据量，后者代码更简洁。注意处理 $x_0 \nmid y_0$ 和 $x_0 = y_0$ 的特殊情况。

---
处理用时：87.12秒
# 题目信息

# [NOIP 2005 普及组] 采药

## 题目描述

辰辰是个天资聪颖的孩子，他的梦想是成为世界上最伟大的医师。为此，他想拜附近最有威望的医师为师。医师为了判断他的资质，给他出了一个难题。医师把他带到一个到处都是草药的山洞里对他说：“孩子，这个山洞里有一些不同的草药，采每一株都需要一些时间，每一株也有它自身的价值。我会给你一段时间，在这段时间里，你可以采到一些草药。如果你是一个聪明的孩子，你应该可以让采到的草药的总价值最大。”


如果你是辰辰，你能完成这个任务吗？


## 说明/提示

**【数据范围】**

- 对于 $30\%$ 的数据，$M \le 10$；
- 对于全部的数据，$M \le 100$。

**【题目来源】**

NOIP 2005 普及组第三题

## 样例 #1

### 输入

```
70 3
71 100
69 1
1 2
```

### 输出

```
3```

# AI分析结果



### 综合分析与结论  
本题为标准 01 背包问题，所有题解均围绕动态规划展开。核心要点为状态转移方程设计及空间优化技巧。关键难点在于理解一维滚动数组的逆序遍历机制，避免物品重复计算。最优解法为使用一维 DP 数组，时间复杂度为 O(TM)，空间复杂度为 O(T)。

---

### 精选高分题解  

#### 1. [decoqwq] ⭐⭐⭐⭐⭐  
**关键亮点**：  
- 通过实例逐步推导二维 DP 转一维 DP 的过程  
- 用可视化表格对比正序/逆序遍历差异  
- 完整代码注释 + 数学符号规范  

**代码核心**：  
```cpp
for(int i=1;i<=m;i++) {
    for(int j=t;j>=w[i];j--) { // 逆序关键
        dp[j] = max(dp[j-w[i]]+val[i], dp[j]);
    }
}
```

#### 2. [ljh0727] ⭐⭐⭐⭐  
**关键亮点**：  
- 双版本代码对比（二维基础版 + 一维优化版）  
- 明确解释滚动数组原理  
- 变量命名规范易懂  

**代码核心**：  
```cpp
for(int i=1;i<=m;i++) {
    for(int j=n;j>=w[i];j--) { 
        if(j>=w[i]) dp[j] = max(dp[j], dp[j-w[i]]+v[i]);
    }
}
```

#### 3. [4041nofoundGeoge] ⭐⭐⭐⭐  
**关键亮点**：  
- 构造贪心反例帮助理解问题本质  
- 手写数学公式推导状态转移  
- 强调「前i个物品」的集合定义  

**个人心得**：  
> "多次提交发现当 k₁=97，g=20 时最快，枚举到 0.004s 可稳定 AC" —— 展示了非 DP 解法的探索过程，虽非正解但启发思维  

---

### 最优技巧总结  
1. **一维逆序遍历**：从最大容量向当前物品重量遍历，保证每个物品只选一次  
2. **滚动数组优化**：将二维状态压缩至一维，空间复杂度从 O(M*T) 降为 O(T)  
3. **贪心反例构造**：通过反例（如时间60的案例）验证动态规划必要性  

---

### 拓展训练建议  
1. **同类题目**：  
   - P1060 [开心的金明](https://www.luogu.com.cn/problem/P1060)：价值计算变式  
   - P1164 [小A点菜](https://www.luogu.com.cn/problem/P1164)：求方案数变式  
   - P1049 [装箱问题](https://www.luogu.com.cn/problem/P1049)：容量最大化变式  

2. **高阶变式**：  
   - 完全背包（洛谷 P1616）  
   - 多维费用背包（洛谷 P1507）  
   - 树形依赖背包（洛谷 P2014）

---
处理用时：48.85秒
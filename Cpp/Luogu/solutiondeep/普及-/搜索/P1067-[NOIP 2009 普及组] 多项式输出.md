# 题目信息

# [NOIP 2009 普及组] 多项式输出

## 题目描述

一元 $n$ 次多项式可用如下的表达式表示：

$$f(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots +a_1x+a_0,a_n\ne 0$$

其中，$a_ix^i$ 称为 $i$ 次项，$a_i$ 称为 $i$ 次项的系数。给出一个一元多项式各项的次数和系数，请按照如下规定的格式要求输出该多项式：

1. 多项式中自变量为 $x$，从左到右按照次数递减顺序给出多项式。

2. 多项式中只包含系数不为 $0$ 的项。

3. 如果多项式 $n$ 次项系数为正，则多项式开头不出 `+` 号，如果多项式 $n$ 次项系数为负，则多项式以 `-` 号开头。

4. 对于不是最高次的项，以 `+` 号或者 `-` 号连接此项与前一项，分别表示此项系数为正或者系数为负。紧跟一个正整数，表示此项系数的绝对值（如果一个高于 $0$ 次的项，其系数的绝对值为 $1$，则无需输出 $1$）。如果 $x$ 的指数大于 $1$，则接下来紧跟的指数部分的形式为“$x^b$”，其中 $b$ 为 $x$ 的指数；如果 $x$ 的指数为 $1$，则接下来紧跟的指数部分形式为 $x$；如果 $x$ 的指数为 $0$，则仅需输出系数即可。

5. 多项式中，多项式的开头、结尾不含多余的空格。


## 说明/提示

NOIP 2009 普及组 第一题

对于100%数据，$0 \le n \le 100$，$-100 \le $系数$ \le 100$

---

$\text{upd 2022.8.1}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 
100 -1 1 -3 0 10```

### 输出

```
100x^5-x^4+x^3-3x^2+10```

## 样例 #2

### 输入

```
3 
-50 0 0 1 
```

### 输出

```
-50x^3+1 
```

# AI分析结果



### 综合分析与结论
本题的核心在于处理多项式的格式输出，需细致处理符号、系数、指数等多个边界条件。各题解普遍采用分步判断策略，重点解决以下问题：首项符号处理、系数±1的特殊情况、指数为0或1的格式差异。最优解法通过清晰的逻辑分层处理各模块，确保代码简洁且覆盖所有情况。

---

### 高星题解推荐

#### 1. 作者：WsW_（★★★★★）
**关键亮点**：
- 极简的三步处理法：符号→系数→变量与指数，逻辑清晰。
- 利用条件判断的顺序避免冗余代码，如先处理符号再处理系数。
- 正确覆盖所有边界情况，如系数为±1、指数为0/1的特殊处理。

**核心代码**：
```cpp
for(int i=n;i>=0;i--){
    int a; scanf("%d",&a);
    if(!a)continue;
    // 符号处理
    if(a>0&&i!=n)putchar('+');
    if(a<0)putchar('-');
    // 系数处理
    if(abs(a)!=1||!i)printf("%d",abs(a));
    // 变量与指数处理
    if(i){
        putchar('x');
        if(i!=1)printf("^%d",i);
    }
}
```

#### 2. 作者：qhr2023（★★★★★）
**关键亮点**：
- 四段式处理（符号、系数、x、指数）直观易懂。
- 通过绝对值简化系数输出，巧妙处理±1的情况。
- 代码高度简洁，仅用单层循环和条件判断。

**核心代码**：
```cpp
for(int i=n; i>=0; i--){
    cin >> a;
    if(a){
        if(i!=n && a>0) cout << '+';
        if(abs(a)>1||i==0) cout << abs(a);
        if(a==-1 && i) cout << '-';
        if(i>0) cout << 'x';
        if(i>1) cout << '^' << i;
    }
}
```

#### 3. 作者：Loyal_Soldier（★★★★☆）
**关键亮点**：
- 分块判断不同情况，适合新手理解。
- 显式处理首项符号和中间项的连接符，避免逻辑遗漏。
- 个人心得中强调系数为0的跳过，体现调试经验。

**核心代码片段**：
```cpp
if(x){
    if(i!=n && x>0) cout<<'+'; // 符号
    if(i!=0 && x==-1) cout<<'-'; 
    if(abs(x)>1 || i==0) cout<<x; // 系数
    if(i>1) cout<<"x^"<<i; // 指数
    if(i==1) cout<<'x';
}
```

---

### 最优思路总结
1. **符号优先处理**：首项负号直接输出，中间项正数加`+`，负数加`-`。
2. **系数简化输出**：绝对值为1且非常数项时不输出系数。
3. **变量与指数分离**：指数为0不输出x，为1时省略指数，其余输出`x^b`。
4. **循环逆向处理**：从最高次项向常数项遍历，保证次数递减。

---

### 相似题目推荐
1. **P1022 计算器的改良**（字符串解析与方程模拟）
2. **P2550 彩票摇奖**（复杂条件判断与格式化输出）
3. **P1051 谁拿了最多奖学金**（多条件统计与格式处理）

---
处理用时：186.52秒
# 题目信息

# 单词方阵

## 题目描述

给一 $n \times n$ 的字母方阵，内可能蕴含多个 `yizhong` 单词。单词在方阵中是沿着同一方向连续摆放的。摆放可沿着 $8$ 个方向的任一方向，同一单词摆放时不再改变方向，单词与单词之间可以交叉，因此有可能共用字母。输出时，将不是单词的字母用 `*` 代替，以突出显示单词。

## 样例 #1

### 输入

```
7
aaaaaaa
aaaaaaa
aaaaaaa
aaaaaaa
aaaaaaa
aaaaaaa
aaaaaaa
```

### 输出

```
*******
*******
*******
*******
*******
*******
*******
```

## 样例 #2

### 输入

```
8
qyizhong
gydthkjy
nwidghji
orbzsfgz
hhgrhwth
zzzzzozo
iwdfrgng
yyyygggg```

### 输出

```
*yizhong
gy******
n*i*****
o**z****
h***h***
z****o**
i*****n*
y******g```

# AI分析结果



### 综合分析与结论
本题核心在于沿8个方向搜索特定字符串，需处理方向一致性判断与路径标记。题解主要分为三类：方向预处理的DFS、暴力枚举方向、路径回溯标记法。优化方向包括方向数组设计、剪枝策略、染色标记等。多数题解采用方向数组+DFS思路，差异在于实现细节与剪枝优化。

---

### 高星题解推荐（≥4星）

#### 1. 灯芯糕（4.5星）
**关键亮点**  
- 预处理方向数组与字符顺序数组，逻辑清晰  
- 使用递归DFS保持方向一致，染色标记路径  
- 利用"y"位置预存减少无效搜索  

**核心代码片段**  
```cpp
bool f(int i,int j,int m,int n,int next){ //方向(m,n)持续递归
    if(next>=8){ s[i][j]=1; return 1; } //找到完整路径后染色
    if(a[i+m][j+n]==k[next] && f(i+m,j+n,m,n,next+1)){
        s[i][j]=1; return 1; //回溯时染色
    }
    return 0;
}
```

#### 2. hzg0226（4星）
**关键亮点**  
- 结构体存储路径节点，避免重复计算  
- 方向数组预处理，代码简洁高效  
- 最终统一标记有效路径  

**核心思路**  
```cpp
void dfs(int x,int y,node c[],int k,int cur) {
    if(cur==7) 标记所有路径节点; //找到完整路径时标记
    else 沿固定方向k继续搜索...
}
```

#### 3. fy1234567ok（4星）
**关键亮点**  
- 步长式方向扩展，减少递归深度  
- 常量字符串比对优化判断逻辑  
- 独立标记数组处理交叉情况  

**核心实现**  
```cpp
for(int j=1;j<=6;j++) { //固定方向k搜索后续字符
    if(nx<1||nx>n||cmp[j]!=A[nx][ny]) break;
    if(j==5) 标记路径; //最终确认后染色
}
```

---

### 关键技巧总结
1. **方向预处理**：使用二维数组存储8个方向的dx/dy偏移量  
2. **路径一致性**：DFS时固定方向参数确保直线搜索  
3. **染色标记法**：找到完整路径后逆向标记有效节点  
4. **剪枝优化**：预处理"y"位置、越界提前终止、字符不匹配立即回溯  

---

### 相似题目推荐
1. **P1141 迷宫** - 二维矩阵多方向搜索（https://www.luogu.com.cn/problem/P1141）  
2. **P1162 填涂颜色** - 矩阵染色与边界处理（https://www.luogu.com.cn/problem/P1162）  
3. **P1036 选数** - 组合搜索与路径记录（https://www.luogu.com.cn/problem/P1036）  

---

### 题解个人心得摘录
1. **方向处理教训**："每个方向必须单独处理，混合方向会导致错误路径"（拱垲题解）  
2. **调试经验**："数组越界检查是核心，漏判会导致RE"（KesdiaelKen注释）  
3. **优化顿悟**："预处理y的位置可将复杂度从O(n²)降至O(k)，k为y的数量"（灯芯糕预处理思路）

---
处理用时：65.29秒
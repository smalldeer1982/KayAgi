# 题目信息

# 平台

## 题目描述

空间中有一些平台。给出每个平台的位置，请你计算从每一个平台的边缘落下之后会落到哪一个平台上。

注意，如果某两个平台的某个两边缘横坐标相同，物体从上面那个平台落下之后将不会落在下面那个平台上（即平台的范围是一个开区间，不包含端点）。平台**可能会重叠**。

从平台下落时视作从平台下方开始下落，也就是说不会落到高度相同的平台上。**如果有两个平台的高度相同且都可以被落到的话，那么会落到编号靠前的那个平台。**

## 说明/提示

![](https://cdn.luogu.com.cn/upload/image_hosting/qeknowf7.png)

## 样例 #1

### 输入

```
5
2 0 2
4 1 3
3 1 3
5 3 4
1 1 5
```

### 输出

```
0 5
1 5
1 5
5 5
0 0
```

# AI分析结果



### 综合分析与结论
题目要求在平台边缘下落时，找到下方最近的平台，处理高度相同及重叠情况。大部分题解采用暴力枚举，但正确性差异在于是否处理高度相同及遍历顺序。关键点包括：
1. **严格高度比较**：确保下方平台高度严格小于当前平台。
2. **编号优先**：同高度时选编号最小，需遍历顺序或额外比较。
3. **开区间判断**：边缘落在平台区间内（不包含端点）。

### 高分题解推荐
#### 1. 作者：kevin_y（5星）
**关键亮点**：
- 直接暴力枚举，代码简洁。
- 正确判断高度严格小于和区间覆盖。
- 遍历顺序隐式处理同高度情况（若输入按编号升序）。

**核心代码**：
```cpp
for (int i = 1; i <= n; i++) {
    int sum1 = 0, sum2 = 0;
    for (int j = 1; j <= n; j++) {
        if (a[j] < a[i] && b[j] < b[i] && c[j] > b[i]) // 左端点检查
            if (a[sum1] < a[j]) sum1 = j;
        // 右端点类似...
    }
}
```
**注意**：若输入平台未按编号升序，可能无法处理同高度编号较小的情况。

#### 2. 作者：Ofnoname（4星）
**关键亮点**：
- 明确维护最高高度变量，逻辑清晰。
- 条件判断严格，代码易读。

**核心代码**：
```cpp
int H1 = 0, H2 = 0;
for (int j = 1; j <= N; j++) {
    if (H1 < h[j] && h[j] < h[i] && l[j] < l[i] && l[i] < r[j]) {
        ans[0][i] = j; H1 = h[j];
    }
    // 右端点类似...
}
```
**局限**：同高度时可能选到编号较大的平台。

#### 3. 作者：野菜汤（4星）
**关键亮点**：
- Delphi代码，逻辑正确。
- 显式比较高度，确保条件严格。

**代码片段**：
```delphi
if (h[i]>h[j]) and (l[i]>l[j]) and (l[i]<r[j]) and (h[j]>a) then 
    l[i]:=j;
```

### 最优关键思路总结
- **暴力枚举+严格条件**：对每个平台边缘，遍历所有平台，检查高度严格小于且区间覆盖。
- **排序优化**：按高度降序和编号升序排序，遍历时提前终止搜索。
- **同高度处理**：通过遍历顺序（如编号升序）或显式比较编号确保选择正确。

### 相似题目推荐
1. **P1904 天际线问题**（扫描线处理重叠区间）
2. **P1056 排座椅**（区间覆盖与选择）
3. **P2789 直线交点数**（枚举与条件判断）

### 调试与踩坑心得
- **高度相同处理**：多题解忽略同高度时的编号比较，导致WA。
- **区间端点判断**：开区间需严格判断，避免等于端点。
- **排序陷阱**：排序后需确保遍历顺序不影响编号选择。

---
处理用时：317.76秒
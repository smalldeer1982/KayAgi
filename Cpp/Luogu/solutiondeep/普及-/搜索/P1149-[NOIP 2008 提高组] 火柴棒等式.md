# 题目信息

# [NOIP 2008 提高组] 火柴棒等式

## 题目描述

给你 $n$ 根火柴棍，你可以拼出多少个形如 $A+B=C$ 的等式？等式中的 $A$、$B$、$C$ 是用火柴棍拼出的整数（若该数非零，则最高位不能是 $0$）。用火柴棍拼数字 $0\sim9$ 的拼法如图所示：

![](https://cdn.luogu.com.cn/upload/image_hosting/p5hsawt2.png)

注意：

1. 加号与等号各自需要两根火柴棍；
2. 如果 $A\neq B$，则 $A+B=C$ 与 $B+A=C$ 视为不同的等式（$A,B,C\geq0$）；
3. $n$ 根火柴棍必须全部用上。


## 说明/提示

【输入输出样例 1 解释】

$2$ 个等式为 $0+1=1$ 和 $1+0=1$。

【输入输出样例 2 解释】

$9$ 个等式为

$0+4=4$、$0+11=11$、$1+10=11$、$2+2=4$、$2+7=9$、$4+0=4$、$7+2=9$、$10+1=11$、$11+0=11$。

noip2008 提高第二题

## 样例 #1

### 输入

```
14```

### 输出

```
2```

## 样例 #2

### 输入

```
18```

### 输出

```
9```

# AI分析结果



### 综合分析与结论

本题考察暴力枚举与预处理技巧，核心在于合理确定枚举范围并高效计算各数字的火柴数目。所有题解均采用枚举思路，差异在于预处理方式与循环优化。关键点包括：火柴数目计算函数、枚举范围确定、符号火柴数处理。

### 高星题解推荐

#### 1. 作者：qhr2023（★★★★☆）
- **关键亮点**：代码极简，递归计算火柴数目，逻辑清晰易读。
- **核心代码**：
```cpp
int f(int x) {
    if(x<10) return a[x];
    return f(x/10)+a[x%10];
}
```
- **实现思想**：递归拆分数字各位，累加火柴数目。双重循环枚举到1000，代码简洁高效。

#### 2. 作者：King_and_Grey（★★★★☆）
- **关键亮点**：预处理数组避免重复计算，优化枚举效率。
- **核心代码**：
```cpp
for(int i=0;i<=2000;i++){ //预处理每个数的火柴数
    for(int j=i;j;j/=10) a[i]+=num[j%10];
}
```
- **实现思想**：预处理0~2000的数字火柴数，直接查表提升效率，双重循环到1000覆盖所有可能。

#### 3. 作者：hilsinleri（★★★★☆）
- **关键亮点**：直接循环分解数字，无预处理但代码直观。
- **核心代码**：
```cpp
int s(int x) {
    if(x==0)return num[0];
    int ans=0;
    while(x!=0) { ans+=num[x%10]; x/=10; }
    return ans;
}
```
- **实现思想**：实时计算每个数的火柴数，双重循环到1000，逻辑清晰易理解。

### 关键技巧总结

1. **预处理优化**：将数字火柴数预先计算并存储，减少重复计算（如King_and_Grey的预处理数组）。
2. **枚举范围确定**：通过分析火柴数上限（如n=24时A/B≤1000），合理缩小枚举范围。
3. **递归/迭代计算**：灵活选择递归或循环分解数字，平衡代码简洁性与效率。
4. **符号处理**：注意加号与等号固定消耗4根火柴，总火柴数需减去该值。

### 拓展与举一反三

- **类似题目推荐**：
  1. [P1582 倒水](https://www.luogu.com.cn/problem/P1582)（二进制思维）
  2. [P1028 数的计算](https://www.luogu.com.cn/problem/P1028)（递推枚举）
  3. [P1464 Function](https://www.luogu.com.cn/problem/P1464)（记忆化搜索）

- **个人心得摘录**：
  - **ShiYuXuan1234**：处理i<=j时需判断是否相等，正确计数不同顺序的等式。
  - **King_and_Grey**：预处理数组时注意从最高位拆分，避免遗漏数位。
  - **z_yq**：通过实验确定枚举边界，避免超时或遗漏。

---
处理用时：171.08秒
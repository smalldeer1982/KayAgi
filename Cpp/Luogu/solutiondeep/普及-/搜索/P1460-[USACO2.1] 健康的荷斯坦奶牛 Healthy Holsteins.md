# 题目信息

# [USACO2.1] 健康的荷斯坦奶牛 Healthy Holsteins

## 题目描述

农民 John 以拥有世界上最健康的奶牛为傲。他知道每种饲料中所包含的牛所需的最低的维他命量是多少。请你帮助农夫喂养他的牛，以保持它们的健康，使喂给牛的饲料的种数最少。

给出牛所需的最低的维他命量，输出喂给牛需要哪些种类的饲料，且所需的饲料剂量最少。

维他命量以整数表示，每种饲料最多只能对牛使用一次，数据保证存在解。


## 说明/提示

【数据范围】  
对于 $100\%$ 的数据，$1\le v \le 25$，$1\le g \le 15$。  
输入的所有整数在 $[1,1000]$ 范围内。

USACO 2.1

翻译来自NOCOW


## 样例 #1

### 输入

```
4
100 200 300 400
3
50  50  50  50
200 300 200 300
900 150 389 399```

### 输出

```
2 1 3
```

# AI分析结果



### 综合分析与结论
本题核心在于通过组合饲料满足维生素需求，求最小饲料种数。题解主要采用DFS/BFS暴力枚举、二进制状态压缩、迭代加深搜索三种思路。最优解法为二进制枚举（O(2^g)）或带剪枝的DFS，其优势在于高效处理组合问题，避免冗余状态。

---

### 高星题解推荐

#### 1. ouuan（二进制枚举） ⭐⭐⭐⭐⭐
**关键亮点**：  
- 状态压缩+字典序优化：用二进制位表示饲料选择，逆序枚举保证首个找到的解为字典序最小  
- 高效位运算：通过位运算快速计算饲料种数，时间复杂度O(g*v*2^g)可应对g=15的极限数据  
- 数学证明字典序性质：从高位到低位枚举，确保二进制数大的状态字典序更小  

**核心代码**：
```cpp
for(int i=(1<<g)-1;i>=0;--i) { // 逆序枚举所有状态
    if(count(i)>=minn) continue; // 剪枝
    // 计算维生素总和并判断是否合法
    if(valid) { 
        minn = count(i); 
        ans = i; // 记录二进制状态
    }
}
```

---

#### 2. Youngsc（迭代加深） ⭐⭐⭐⭐
**关键亮点**：  
- 分层搜索优化：优先枚举饲料种数少的组合，找到即退出  
- 剪枝策略：剩余饲料不足时提前回溯，避免无效搜索  
- 代码简洁：通过递归深度控制搜索范围  

**核心实现**：
```cpp
void dfs(int x, int sum, int num) {
    if(sum == num) { // 达到当前层数限制
        if(维生素满足) 输出并直接退出程序; // 找到即最优
    }
    if(n-x < num-sum) return; // 剪枝：剩余饲料不足
    // 递归选/不选当前饲料
}
```

---

#### 3. 06ray（基础DFS） ⭐⭐⭐⭐
**关键亮点**：  
- 清晰回溯框架：典型DFS模板，易于理解  
- 擂台法更新答案：全局变量记录最小解  
- 适合教学：代码结构直观展现搜索过程  

**核心代码**：
```cpp
void search(int t, int s) {
    if(t>m) {
        if(满足条件 && s<minn) 更新答案;
        return;
    }
    // 选当前饲料
    c[s+1] = t;
    search(t+1, s+1);
    c[s+1] = 0; // 回溯
    // 不选
    search(t+1, s);
}
```

---

### 关键技巧总结
1. **状态压缩**：用二进制位表示组合，O(1)时间判断元素存在性  
2. **字典序优化**：逆序枚举二进制状态，高位对应小编号饲料  
3. **分层剪枝**：迭代加深优先搜索小规模解，配合剩余饲料数剪枝  
4. **回溯模板**：选/不选两种状态分离，注意恢复全局状态  

---

### 拓展与同类题目
1. **子集型问题**：[CF550B Preparing Olympiad](https://www.luogu.com.cn/problem/CF550B)（状态枚举）  
2. **最小覆盖集**：[P2396 yyy loves Maths VII](https://www.luogu.com.cn/problem/P2396)（位运算优化DP）  
3. **组合优化**：[P1157 组合的输出](https://www.luogu.com.cn/problem/P1157)（DFS+剪枝）  

---

### 调试经验摘录
- `_Andrea`：未初始化维生素累加数组导致错误，强调初始化重要性  
- `zengqinyi`：搜索时从当前最后选的位置开始枚举，避免重复组合  
- `ouuan`：通过数学证明二进制状态与字典序的关系，确保解的正确性

---
处理用时：51.15秒
# 题目信息

# 跳马问题

## 题目背景

在爱与愁的故事第一弹第三章出来前先练练四道基本的回溯/搜索题吧……


## 题目描述

中国象棋半张棋盘如图 $1$ 所示。马自左下角 $(0,0)$ 向右上角 $(m,n)$ 跳。规定只能往右跳，不准往左跳。比如图 $1$ 中所示为一种跳行路线，并将路径总数打印出来。

![](https://cdn.luogu.com.cn/upload/image_hosting/8gkasdvs.png)


## 说明/提示

对于 $100\%$ 的数据：$n, m\leq 18$


## 样例 #1

### 输入

```
4 8```

### 输出

```
37```

# AI分析结果



### 综合分析与结论

本题解对比了多种DFS与动态规划（DP）解法。DFS适用于小数据范围（n, m ≤18），而DP通过状态转移高效求解，时间复杂度更低。关键点在于正确模拟马的跳跃方向及确保状态转移的正确性。最优解法为动态规划，兼顾时间效率与正确性。

### 精选题解

#### 1. 晓菜的DFS（5星）
**关键亮点**：代码简洁清晰，正确枚举四个方向，无需回溯。通过越界检查及时剪枝，处理思路直观。
```cpp
void dfs(int a,int b){
    if (a<0 || a>n || b>m) return;
    if (a==n && b==m) t++;
    else{
        dfs(a+1,b+2); // 方向1
        dfs(a+2,b+1); // 方向2
        dfs(a-2,b+1); // 方向3
        dfs(a-1,b+2); // 方向4
    }
}
```

#### 2. decoqwq的DP（5星）
**关键亮点**：状态转移方程正确，按列递推避免状态覆盖。时间复杂度O(nm)，高效处理较大数据。
```cpp
for(j=1; j<=m; j++) { // 列从小到大处理
    for(i=0; i<=n; i++) {
        data[i][j] = data[i-1][j-2] + data[i-2][j-1] 
                   + data[i+2][j-1] + data[i+1][j-2];
    }
}
```

### 关键思路与技巧
- **方向数组**：将四个合法跳跃方向存储为数组，简化代码逻辑。
- **DP遍历顺序**：按列从小到大处理，确保前驱状态已计算。
- **越界剪枝**：在DFS中及时返回越界情况，避免无效递归。

### 拓展与推荐题目
1. **P1002 过河卒**（路径计数，动态规划）
2. **P1433 吃奶酪**（DFS+状态压缩，剪枝优化）
3. **P1605 迷宫**（基础DFS/BFS，路径计数）

### 个人心得摘录
- **坐标理解**：多位作者强调正确区分行列顺序，避免因坐标系误解导致错误。
- **状态转移陷阱**：动态规划需注意遍历顺序，如先处理列而非行，防止未计算状态被引用。

---
处理用时：327.82秒
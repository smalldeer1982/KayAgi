# 题目信息

# kkksc03考前临时抱佛脚

## 题目背景

kkksc03 的大学生活非常的颓废，平时根本不学习。但是，临近期末考试，他必须要开始抱佛脚，以求不挂科。


## 题目描述

这次期末考试，kkksc03 需要考 $4$ 科。因此要开始刷习题集，每科都有一个习题集，分别有 $s_1,s_2,s_3,s_4$ 道题目，完成每道题目需要一些时间，可能不等（$A_1,A_2,\ldots,A_{s_1}$，$B_1,B_2,\ldots,B_{s_2}$，$C_1,C_2,\ldots,C_{s_3}$，$D_1,D_2,\ldots,D_{s_4}$）。


kkksc03 有一个能力，他的左右两个大脑可以同时计算 $2$ 道不同的题目，但是仅限于同一科。因此，kkksc03 必须一科一科的复习。


由于 kkksc03 还急着去处理洛谷的 bug，因此他希望尽快把事情做完，所以他希望知道能够完成复习的最短时间。


## 说明/提示

$1\leq s_1,s_2,s_3,s_4\leq 20$。

$1\leq A_1,A_2,\ldots,A_{s_1},B_1,B_2,\ldots,B_{s_2},C_1,C_2,\ldots,C_{s_3},D_1,D_2,\ldots,D_{s_4}\leq60$。

## 样例 #1

### 输入

```
1 2 1 3		
5
4 3
6
2 4 3
```

### 输出

```
20```

# AI分析结果



### 综合分析与结论
本题核心是将每个科目的题目时间拆分为两堆，使两堆时间差最小。最优解法为动态规划（01背包变体），通过求总和一半的最大可达时间，确保两脑时间均衡。搜索法在数据量小（s≤20）时可行，但效率较低。贪心策略无法保证全局最优，不可行。

---

### 精选题解与评分

#### 1. 作者：hmh13951417981（⭐⭐⭐⭐⭐）
**关键亮点**  
- 正确识别贪心策略的缺陷，转向01背包解法  
- 背包容量优化（sum/2）大幅减少计算量  
- 代码结构清晰，附带错误尝试过程  
**个人心得**  
> "满怀期待的提交后，结果有点震惊...果然贪心不是正解" —— 强调贪心策略需严格验证

**核心代码**  
```cpp
for(int j=1;j<=a[i];j++)
    for(k=sum/2;k>=homework[j];k--)
        dp[k]=max(dp[k],dp[k-homework[j]]+homework[j]);
t += sum - dp[sum/2]; // 关键：取较大值累加
```
**实现思想**  
每科独立处理：计算总时间后，用01背包求sum/2容量下的最大时间，总时间减去该值即为最优分配。

---

#### 2. 作者：长河落日（⭐⭐⭐⭐）
**关键亮点**  
- 暴力搜索实现直观，适合理解问题本质  
- 利用递归回溯枚举所有可能分配  
- 代码简洁，无冗余优化  
**核心代码**  
```cpp
void search(int x,int y){
    if(x>s[y]){ // 终止条件：处理完所有题目
        minn = min(minn, max(Left, Right));
        return;
    }
    Left += a[x][y]; // 尝试分配给左脑
    search(x+1, y);
    Left -= a[x][y];
    Right += a[x][y]; // 尝试分配给右脑
    search(x+1, y);
    Right -= a[x][y];
}
```
**实现思想**  
递归枚举每道题的两种分配可能，维护左右脑时间并更新最小值。

---

#### 3. 作者：Sino_E（⭐⭐⭐⭐⭐）
**关键亮点**  
- 清晰的问题转化思路（将时间均分问题等价为背包问题）  
- 二维DP表实现更易理解状态转移  
- 变量命名规范，代码可读性高  
**核心代码**  
```cpp
for(int j=1;j<=len[i];j++)
    for(int k=0;k<=v/2;k++){
        f[j][k] = f[j-1][k];
        if(k>=sub[j]) f[j][k] = max(f[j][k], f[j-1][k-sub[j]]+sub[j]);
    }
```
**实现思想**  
显式维护二维DP表，记录前j个物品在容量k下的最大时间，直观展示状态转移过程。

---

### 最优技巧总结
1. **问题转化**：将时间分配问题转化为背包容量为sum/2的01背包问题。  
2. **滚动数组优化**：使用一维数组倒序遍历实现空间优化。  
3. **分治思想**：独立处理每个科目，降低问题复杂度。  

---

### 拓展与举一反三
1. **同类题目**  
   - [P1489 猫狗大战](https://www.luogu.com.cn/problem/P1489)：类似的分割均衡问题  
   - [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)：经典01背包变体  
   - [P1164 小A点菜](https://www.luogu.com.cn/problem/P1164)：背包计数问题  

2. **调试经验**  
   - **贪心陷阱**：局部最优≠全局最优，需严格数学证明（hmh题解）  
   - **数据范围分析**：20→2^20≈1e6，暴力搜索在可控范围内（长河落日题解）  

3. **思维突破**  
   当问题涉及"均分"或"最小差值"时，优先考虑将其转化为背包容量为总和一半的极值问题。

---
处理用时：77.76秒
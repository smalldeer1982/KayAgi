# 题目信息

# [蓝桥杯 2018 省 AB] 全球变暖

## 题目描述

你有一张某海域 $N \times N$ 像素的照片，`.` 表示海洋、 `#` 表示陆地，如下所示：

```
.......
.##....
.##....
....##.
..####.
...###.
.......
```

其中 "上下左右" 四个方向上连在一起的一片陆地组成一座岛屿。例如上图就有 $2$ 座岛屿。

由于全球变暖导致了海面上升，科学家预测未来几十年，岛屿边缘一个像素的范围会被海水淹没。具体来说如果一块陆地像素与海洋相邻（上下左右四个相邻像素中有海洋），它就会被淹没。

例如上图中的海域未来会变成如下样子：

```
.......
.......
.......
.......
....#..
.......
.......
```

请你计算：依照科学家的预测，照片中有多少岛屿会被完全淹没。 


## 说明/提示

时限 1 秒, 256M。蓝桥杯 2018 年第九届省赛

## 样例 #1

### 输入

```
7 
.......
.##....
.##....
....##.
..####.
...###.
.......  ```

### 输出

```
1```

# AI分析结果



### 综合分析与结论
题目要求计算被完全淹没的岛屿数。核心思路是判断每个岛屿是否存在至少一个不会被淹没的陆地（四周无海洋）。关键点在于避免错误处理淹没后的岛屿分裂问题，通过直接判断原岛屿是否含保留点来确定结果。

### 高星题解推荐
#### 1. 题解作者：Tolerate（5星）
**关键亮点**  
- **直接判断保留点**：在DFS中检查每个陆地四周是否全为陆地，一旦发现则标记岛屿存活。
- **时间优化**：遍历过程中直接判断，减少后续计算。
- **代码简洁**：利用DFS同时完成连通遍历与存活判断。

**核心代码**  
```cpp
void dfs(int x,int y) {
    if(!t) { // 仅在首次发现保留点时更新
        cnt=0;
        for(int i=0;i<4;i++)
            if(mp[x+dx[i]][y+dy[i]]!='.') cnt++;
        if(cnt==4) ans++,t=1; // 存在保留点
    }
    mp[x][y]='*'; // 标记已访问
    for(int i=0;i<4;i++) {
        int xx=x+dx[i], yy=y+dy[i];
        if(边界检查 && mp[xx][yy]=='#')
            dfs(xx,yy);
    }
}
```

#### 2. 题解作者：small_john（4星）
**关键亮点**  
- **全局状态标记**：使用布尔变量`v`在DFS中记录整个岛屿是否可保留。
- **逻辑集中**：遍历时一次性完成访问标记与存活判断，代码紧凑。

**核心代码**  
```cpp
bool dfs(int x,int y) {
    vis[x][y] = 1;
    if(四周均为陆地) v = 0; // 发现保留点
    for(扩展四周) {
        if(未访问且是陆地) dfs(X,Y);
    }
    a[x][y] = '.'; // 修改地图避免重复遍历
    return v;
}
```

#### 3. 题解作者：wuhan1234（4星）
**关键亮点**  
- **BFS实现**：避免递归栈溢出，适合大规模数据。
- **双重统计**：在遍历时统计保留点数量，直接判断是否全淹没。

**核心代码**  
```cpp
int bfs(int x,int y) {
    int left=0;
    while(队列非空) {
        取出点并检查四周;
        if(四周全为陆地) left++;
    }
    return left; // 若left=0则全淹没
}
```

### 最优思路总结
**关键技巧**  
- **保留点判断**：在遍历岛屿时，检查是否存在四周均为陆地的点，存在则岛屿未被淹没。
- **就地标记**：直接修改地图或使用访问数组，避免重复处理。
- **避免分裂干扰**：不实际模拟淹没过程，直接基于原图判断。

### 拓展与相关题目
1. **连通块条件判断**  
   - 类似题目：洛谷 P1141（01迷宫）、P1162（填涂颜色）。
2. **双重遍历优化**  
   - 题目：洛谷 P4961（小埋与扫雷），需结合周围条件统计。
3. **推荐练习**  
   - 全球变暖变形题：洛谷 P8662（原题）、P2897（Lake Counting的变种）。

---
处理用时：173.20秒
# 题目信息

# [NICA #3] 搬砖

## 题目描述

Aya 在工地上搬砖。她手上有 $n$ 块砖头，需要将其平分为两份运达不同的终点。注意，砖头不能切割成半块。

Aya 可以选择一块一块的搬砖，此时搬一块砖需要 $a$ 的体力。Aya 也可以选择将砖头搬上一个可以容纳 $k$ 块砖头的推车（车可以不装满），再推动推车到达终点，这整个过程需要 $b$ 的体力。Aya 可以自由选择搬砖的方式。例如说她可以一块一块地搬一些砖之后再用推车进行搬砖。

Aya 想要知道，在这个过程中，耗费体力的最小值是多少？

## 说明/提示

**【样例解释】**

对于样例 $1$，将砖平分为两份，则每份一共有 $6$ 块砖。用小推车一次可以搬 $2$ 块砖，只耗费 $2$ 的体力，比一块一块搬砖划算。因此 Aya 选择用三次小推车搬砖，耗费 $6$ 的体力。注意一共有两份砖头，因此一共是耗费 $12$ 的体力。

**【数据范围】**

对于所有数据，$1 \leq n,a,k,b \leq 10^6$。**请注意数据范围**。

## 样例 #1

### 输入

```
12 3 2 2```

### 输出

```
12```

## 样例 #2

### 输入

```
15 3 2 2```

### 输出

```
-1```

# AI分析结果



### 综合分析与结论
题目要求将偶数块砖均分两份，选择体力消耗最小的搬运方式。关键在于每份砖的最优策略计算：比较单块搬运与推车组合的体力消耗。需注意n为奇数时直接输出-1，其余情况需对每份砖计算两种搬运方式（尽可能用推车或补一次推车）的最小值，并乘以2。

### 最优思路与技巧
1. **奇偶判断**：首先检查n是否为偶数，否则直接返回-1。
2. **分治策略**：对每份砖，计算两种搬运方式的体力消耗：
   - **情况1**：尽可能用满推车次数，剩余部分取推车或单块的最小值。
   - **情况2**：多用一次推车处理剩余部分。
3. **数学优化**：直接比较两种情况的消耗，避免复杂循环。
4. **数据类型**：使用`long long`防止溢出。

### 核心代码实现
```cpp
#include <iostream>
#include <algorithm>
using namespace std;

int main() {
    int n, a, k, b;
    cin >> n >> a >> k >> b;
    if (n % 2 != 0) {
        cout << -1;
        return 0;
    }
    int m = n / 2;
    int x = m / k;
    int r = m % k;
    long long cost1 = 1LL * x * b + min(1LL * r * a, 1LL * b);
    long long cost2 = 1LL * (x + 1) * b;
    long long min_cost = min(cost1, cost2);
    cout << min_cost * 2;
    return 0;
}
```

### 相似题目推荐
1. **P1044 栈**：组合数学，分治策略。
2. **P1809 过河问题**：贪心选择最优搬运方式。
3. **P5020 货币系统**：动态规划与数学优化结合。

---
处理用时：152.86秒
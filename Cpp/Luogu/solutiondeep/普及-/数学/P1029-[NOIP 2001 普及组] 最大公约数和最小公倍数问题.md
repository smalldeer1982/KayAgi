# 题目信息

# [NOIP 2001 普及组] 最大公约数和最小公倍数问题

## 题目描述

输入两个正整数 $x_0, y_0$，求出满足下列条件的 $P, Q$ 的个数：

1. $P,Q$ 是正整数。

2. 要求 $P, Q$ 以 $x_0$ 为最大公约数，以 $y_0$ 为最小公倍数。

试求：满足条件的所有可能的 $P, Q$ 的个数。

## 说明/提示

$P,Q$ 有 $4$ 种：

1. $3, 60$。
2. $15, 12$。
3. $12, 15$。
4. $60, 3$。

对于 $100\%$ 的数据，$2 \le x_0, y_0 \le {10}^5$。

**【题目来源】**

NOIP 2001 普及组第二题

## 样例 #1

### 输入

```
3 60
```

### 输出

```
4
```

# AI分析结果



### 综合分析与结论
各题解核心思路均基于关键公式 $a \times b = \gcd(a,b) \times \operatorname{lcm}(a,b)$，通过数学推导与优化枚举实现高效求解。核心优化点包括：
1. **数学分解法**：将问题转化为求 $y_0/x_0$ 的质因数分解组合数（当 $x_0 \mid y_0$）
2. **枚举优化**：仅枚举到 $\sqrt{x_0y_0}$ 并利用对称性减少计算量
3. **条件剪枝**：通过 $\gcd$ 判断替代 $\operatorname{lcm}$ 计算

---

### 精选题解分析

#### 1. 樱雪喵（★★★★★）
**核心亮点**：  
- 利用对称性将时间复杂度优化至 $O(\sqrt{n})$  
- 代码极度精简（仅10行）且包含特判处理  
- 正确性证明清晰，包含公式推导与边界条件说明  

**关键代码**：
```cpp
for(long long i=1;i<=sqrt(n);i++){
    if(n%i==0&&__gcd(i,n/i)==m) ans+=2;
}
```
**实现思想**：枚举因数对，利用对称性一次累加两个解，特判平方数后调整结果。

---

#### 2. sochiji（★★★★☆）
**核心亮点**：  
- 从算术基本定理角度揭示问题本质  
- 提出素因子分配策略（$2^n$ 组合）  
- 时间复杂度最优（$O(\sqrt{y_0/x_0})$）  

**关键结论**：  
当 $x_0 \mid y_0$ 时，答案等于 $\frac{y_0}{x_0}$ 的不同质因数数量的二次幂。

**实现代码**：
```cpp
int quotient = y / x;
while(quotient > 1){
    if(quotient%currentFactor == 0){
        count++;
        while(quotient%currentFactor == 0) quotient/=currentFactor;
    }
    currentFactor++;
}
cout << (1 << count);
```

---

#### 3. zhangboju（★★★★）
**核心亮点**：  
- 详细推导 $\gcd$ 与 $\operatorname{lcm}$ 的数学性质  
- 提供手写 $\gcd$ 实现并解释原理  
- 包含变量溢出防护（使用long long）

**调试经验**：  
- 发现当 $x=y$ 时需要特判减1  
- 强调先除后乘防止溢出的写法

---

### 最优解题思路总结
1. **数学转化**：通过 $P=ax_0,\ Q=bx_0$ 且 $\gcd(a,b)=1$ 将问题简化为寻找互质数对
2. **因数分解**：计算 $k=y_0/x_0$ 的不同质因子数，答案即为 $2^{n}$（n为质因子数）
3. **枚举优化**：仅需枚举到 $\sqrt{x_0y_0}$，利用因数成对特性减少计算量

---

### 举一反三练习
1. [P1072 Hankson的趣味题](https://www.luogu.com.cn/problem/P1072)  
   （多维 $\gcd/\operatorname{lcm}$ 条件组合问题）
   
2. [P1414 又是毕业季II](https://www.luogu.com.cn/problem/P1414)  
   （最大公约数性质与因数分解应用）

3. [P2651 添加括号](https://www.luogu.com.cn/problem/P2651)  
   （$\gcd$ 的传递性与序列操作结合）

---

### 关键技巧摘录
1. **变量防溢**：`long long n = 1LL*x*y` 优于 `int`（来自樱雪喵评论区）
2. **特判优化**：平方数情况只需在循环内判断 `i*i == n`（getchar_unlocked题解）
3. **数学洞察**：当 $\gcd(a,b)=x_0$ 时，$\operatorname{lcm}$ 自动满足条件（樱雪喵题解）

---
处理用时：51.87秒
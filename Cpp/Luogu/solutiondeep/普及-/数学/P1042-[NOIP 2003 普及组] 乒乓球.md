# 题目信息

# [NOIP 2003 普及组] 乒乓球

## 题目背景

国际乒联现在主席沙拉拉自从上任以来就立志于推行一系列改革，以推动乒乓球运动在全球的普及。其中 $11$ 分制改革引起了很大的争议，有一部分球员因为无法适应新规则只能选择退役。华华就是其中一位，他退役之后走上了乒乓球研究工作，意图弄明白 $11$ 分制和 $21$ 分制对选手的不同影响。在开展他的研究之前，他首先需要对他多年比赛的统计数据进行一些分析，所以需要你的帮忙。

## 题目描述

华华通过以下方式进行分析，首先将比赛每个球的胜负列成一张表，然后分别计算在 $11$ 分制和 $21$ 分制下，双方的比赛结果（截至记录末尾）。

比如现在有这么一份记录，（其中 $\texttt W$ 表示华华获得一分，$\texttt L$ 表示华华对手获得一分）：

$\texttt{WWWWWWWWWWWWWWWWWWWWWWLW}$

在 $11$ 分制下，此时比赛的结果是华华第一局 $11$ 比 $0$ 获胜，第二局 $11$ 比 $0$ 获胜，正在进行第三局，当前比分 $1$ 比 $1$。而在 $21$ 分制下，此时比赛结果是华华第一局 $21$ 比 $0$ 获胜，正在进行第二局，比分 $2$ 比 $1$。如果一局比赛刚开始，则此时比分为 $0$ 比 $0$。直到分差大于或者等于 $2$，才一局结束。

**注意：当一局比赛结束后，下一局立刻开始**。

你的程序就是要对于一系列比赛信息的输入（$\texttt{WL}$ 形式），输出正确的结果。


## 说明/提示

每行至多 $25$ 个字母，最多有 $2500$ 行。

（注：事实上有一个测试点有 $2501$ 行数据。）

**【题目来源】**

NOIP 2003 普及组第一题

## 样例 #1

### 输入

```
WWWWWWWWWWWWWWWWWWWW
WWLWE
```

### 输出

```
11:0
11:0
1:1

21:0
2:1
```

# AI分析结果



### 综合分析与结论
各题解均采用模拟思路，核心在于正确处理每局结束条件（得分≥k且分差≥2）。关键差异在于代码结构优化和输入处理方式。高质量题解通过函数抽象消除重复代码，利用现代C++特性提升可读性。

---

### 精选题解列表

#### 1. DengDuck（★★★★★）
**关键亮点**：
- 函数抽象消除重复逻辑，通过参数区分分制
- 使用`string`类与range-based for循环提升可读性
- 时间复杂度O(n)且无冗余操作

**核心代码**：
```cpp
void Work(int Lim) {
    for(char i:S) {
        if(i=='W') A++; else B++;
        if(max(A,B)>=Lim && abs(A-B)>=2) {
            cout << A << ":" << B << endl;
            A = B = 0;
        }
    }
    printf("%d:%d\n\n",A,B);
    A = B = 0;
}
```

#### 2. qhr2023（★★★★☆）
**关键亮点**：
- 极简代码风格，利用三元运算符处理得分
- 函数封装实现逻辑复用
- 输入处理与逻辑分离清晰

**核心代码**：
```cpp
void solve(int k) {
    int a=0, b=0;
    for(char i:s) {
        i=='W'?a++:b++;
        if(max(a,b)>=k && abs(a-b)>=2) {
            cout << a << ":" << b << endl;
            a = b = 0;
        }
    }
    cout << a << ":" << b << "\n\n";
}
```

#### 3. lucky_Mrzhao（★★★★☆）
**关键亮点**：
- 独立处理输入流避免内存问题
- 函数参数化实现分制切换
- 详细注释说明边界条件处理

**调试心得**：
> "在本地测试时需手动输入终止符（Ctrl+Z/Ctrl+D），通过检测EOF确保输入终止的正确性"

---

### 关键技巧总结
1. **函数抽象**：将分制判断封装为带参数的函数，消除重复代码
2. **输入流处理**：使用`while(cin>>C)`动态拼接字符串，自动跳过空白符
3. **终止条件优化**：`max(A,B)>=k && abs(A-B)>=2` 取代复杂逻辑判断
4. **状态重置**：每局结束后立即清零计数器，避免干扰后续统计

---

### 拓展应用
同类问题特征：需要根据动态输入进行多规则状态转移的场景。例如：
1. 棋类游戏的多种胜负规则判断（如围棋、五子棋）
2. 实时数据流的多维度统计（如滑动窗口计数）

---

### 推荐习题
1. [P1563 玩具谜题](https://www.luogu.com.cn/problem/P1563) - 环形队列模拟
2. [P1055 ISBN号码](https://www.luogu.com.cn/problem/P1055) - 字符串校验码计算
3. [P2670 扫雷游戏](https://www.luogu.com.cn/problem/P2670) - 二维网格状态模拟

---
处理用时：55.92秒
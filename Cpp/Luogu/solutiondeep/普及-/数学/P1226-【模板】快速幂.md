# 题目信息

# 【模板】快速幂

## 题目描述

给你三个整数 $a,b,p$，求 $a^b \bmod p$。

## 说明/提示

**样例解释**

$2^{10} = 1024$，$1024 \bmod 9 = 7$。

**数据规模与约定**

对于 $100\%$ 的数据，保证 $0\le a,b < 2^{31}$，$a+b>0$，$2 \leq p \lt 2^{31}$。

## 样例 #1

### 输入

```
2 10 9
```

### 输出

```
2^10 mod 9=7
```

# AI分析结果



### 综合分析与结论
本题核心在于快速幂算法，通过二进制分解指数将复杂度降至 O(log n)。题解普遍采用位运算迭代法，部分提及递归实现与优化技巧。关键点包括二进制分解、取模性质应用、边界条件处理（如指数为0、模数为1）。最佳解法为迭代法结合及时取模，避免溢出。

### 精选题解推荐

1. **学委（★★★★★）**  
   **亮点**：详尽讲解二进制分解原理，结合位运算实现，图文并茂说明计算过程。代码清晰，包含取模优化，处理了大数运算。  
   **核心代码**：
   ```cpp
   int quickPower(int a, int b, int p) {
       int ans = 1, base = a;
       while (b > 0) {
           if (b & 1)
               ans = (1LL * ans * base) % p;
           base = (1LL * base * base) % p;
           b >>= 1;
       }
       return ans;
   }
   ```
   **个人心得**：强调及时取模避免溢出，演示了位运算的高效性。

2. **ww3113306（★★★★）**  
   **亮点**：代码简洁高效，处理了指数为0的特殊情况，末尾取模确保结果正确。  
   **核心代码**：
   ```cpp
   while (p > 0) {
       if (p % 2) ans = ans * b % k;
       b = b * b % k;
       p >>= 1;
   }
   ans %= k; // 处理p=0的情况
   ```
   **调试经验**：原代码未处理`p=0`导致最后一个测试点WA，补充`ans%=k`后解决。

3. **Amor_Hucsy（★★★★）**  
   **亮点**：非递归实现清晰，变量命名规范，强调初始取模优化。  
   **代码片段**：
   ```cpp
   long long mc(long a, long b, long c) {
       long ans = 1;
       while (b) {
           if (b & 1) ans = ans * a % c;
           a = a * a % c;
           b >>= 1;
       }
       return ans;
   }
   ```

### 关键思路总结
- **二进制分解**：将指数转为二进制，逐位处理，如`a^11 = a^8 * a^2 * a^1`。
- **位运算优化**：用`b & 1`判断奇偶，`b >>= 1`代替除法。
- **及时取模**：每次乘法和平方后取模，防止数值溢出。
- **边界处理**：特判指数为0时结果为`1%k`，避免逻辑错误。

### 拓展与应用
- **矩阵快速幂**：将底数换为矩阵，解决递推问题（如斐波那契数列，P3390）。
- **快速乘法**：处理大数相乘时的溢出问题，类似快速幂的分治思想。
- **同余性质**：`(a*b)%p = [(a%p)*(b%p)]%p`，广泛应用于数论题目。

### 推荐习题
1. **P3390【模板】矩阵快速幂**  
2. **P1965 转圈游戏**（快速幂求位置）  
3. **P1306 斐波那契公约数**（矩阵快速幂应用）

---
处理用时：112.60秒
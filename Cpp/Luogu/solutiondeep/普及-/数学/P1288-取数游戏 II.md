# 题目信息

# 取数游戏 II

## 题目描述

有一个取数的游戏。初始时，给出一个环，环上的每条边上都有一个非负整数。这些整数中至少有一个 $0$。然后，将一枚硬币放在环上的一个节点上。两个玩家就是以这个放硬币的节点为起点开始这个游戏，两人轮流取数，取数的规则如下：

1.  选择硬币左边或者右边的一条边，并且边上的数非 $0$；
1.  将这条边上的数减至任意一个非负整数（至少要有所减小）；
1.  将硬币移至边的另一端。

如果轮到一个玩家走，这时硬币左右两边的边上的数值都是 $0$，那么这个玩家就输了。

如下图，描述的是 Alice 和 Bob 两人的对弈过程（其中黑色节点表示硬币所在节点）。

 ![](https://cdn.luogu.com.cn/upload/pic/93.png) 

各图的结果为：

- $\text{A}$：轮到 Alice 操作；
- $\text{B}$：轮到 Bob 操作；
- $\text{C}$：轮到 Alice 操作；
- $\text{D}$：轮到 Bob 操作。

$\text{D}$ 中，轮到 Bob 走时，硬币两边的边上都是 $0$，所以 Alice 获胜。

现在，你的任务就是根据给出的环、边上的数值以及起点（硬币所在位置），判断先走方是否有必胜的策略。

## 样例 #1

### 输入

```
4
2 5 3 0
```

### 输出

```
YES
```

## 样例 #2

### 输入

```
3
0 0 0
```

### 输出

```
NO
```

# AI分析结果



### 综合分析与结论
该问题核心在于判断环形路径中先手是否存在必胜策略。多数题解通过分析得出关键结论：当硬币所在节点某一侧到最近0边的距离为奇数时，先手必胜。这是因为每一步玩家必须将边权减为0，迫使对方只能沿固定方向移动，最终先手完成最后一次操作。最优解只需检查两个方向的距离奇偶性。

---

### 精选题解

#### 1. 作者：intruder（5星）
**关键亮点**：  
- 思路清晰，直接通过奇偶性判断胜负，代码简洁高效。  
- 分别从顺时针和逆时针方向寻找最近的0边，计算距离的奇偶性。  
- 代码实现简洁，时间复杂度O(n)。  

**核心代码**：
```cpp
for(int i=1;i<=n;i++)
    if(a[i]==0){
        if(i%2==0) return puts("YES"),0;
        break;
    }
for(int i=n;i>=1;i--)
    if(a[i]==0){
        if((n-i+1)%2==0) return puts("YES"),0;
        break;
    }
```

#### 2. 作者：远航之曲（4星）
**关键亮点**：  
- 数学推导严谨，强调每一步必须取完边权的策略。  
- 双指针法寻找左右两侧最近的0边，判断奇偶性。  
- 代码简短，逻辑明确。  

**核心代码**：
```cpp
int a=0; while(s[++a]);
int b=0; while(s[n+1-(++b)]);
if (judge(--a)||judge(--b)) printf("YES");
```

#### 3. 作者：Telaris11321（4星）
**关键亮点**：  
- 图形化分析“将死”局面，形象说明必胜条件。  
- 处理环的边界条件清晰，代码易读。  

**核心代码**：
```cpp
lf--; rf=N-rf;
if(lf&1 || rf&1) printf("YES");
```

---

### 关键思路总结
1. **奇偶性判定**：若任一方向到最近0边的边数为奇数，先手必胜。  
2. **双向遍历**：分别从顺时针和逆时针方向寻找最近的0边，计算路径长度。  
3. **最优策略**：每一步将边权减为0，迫使对方沿固定方向移动，确保最终主动权。  

---

### 推荐相似题目
1. **P1247 取石子游戏**：基于奇偶性判断的经典博弈问题。  
2. **P1290 欧几里德的游戏**：利用数学推导分析必胜策略。  
3. **P2197 模板题：Nim游戏**：理解博弈论基础模型。  

---

### 个人心得摘录
- **intruder**：通过简单举例（如5-4-3-6-5-0链）直观展示奇数步策略，强调“后手被迫逼近”的思路。  
- **zzr8178541919**：提出“最优操作总是取完边权”的假设，并通过反证法验证策略正确性。  
- **Yscore**：探讨无0边约束下的扩展情况，强调最小边距离的影响，体现深度思考。  

这些心得凸显了博弈论题目中“简化策略验证”和“极端情况分析”的重要性。

---
处理用时：112.48秒
# 题目信息

# 求一次函数解析式

## 题目背景

做数学寒假作业的怨念……


## 题目描述

给定两个整点的坐标，求它们所在直线的函数解析式（一次函数）。


## 说明/提示

$2 x$ 表示为 `2x`。

$\frac{1}{2}x$ 表示为 `1/2*x`。

## 样例 #1

### 输入

```
3 6
2 4
```

### 输出

```
y=2x

```

## 样例 #2

### 输入

```
3 5
2 7```

### 输出

```
y=-2x+11```

## 样例 #3

### 输入

```
3 -1
5 -2```

### 输出

```
y=-1/2*x+1/2```

# AI分析结果



### 综合分析与结论
本题核心考察分数化简与输出格式控制，需处理以下关键点：①计算斜率k和截距b的最简分数形式 ②分母符号统一化处理 ③多项式输出的各项省略规则。各题解均采用两点式推导公式，差异主要在于分数处理细节和代码可维护性。

---

### 精选题解推荐

#### 1. 方俊懿（4星）
**核心亮点**  
- 独立约分函数处理符号统一化（分母强制为正）
- 使用`%+d`简化符号输出逻辑
- 模块化代码结构清晰
```cpp
void yue_fen(int *x, int *y) {
    int m = gcd(*x, *y);
    (*x) /= m; (*y) /= m;
    if ((*y) < 0) { // 分母强制为正
        (*y) *= -1;
        (*x) *= -1;
    }
}
```
**调试心得**  
"特别注意分母必须保持正数，否则后续输出符号判断会混乱" —— 通过符号统一化减少分支判断

#### 2. Eason_AC2（4星）
**核心亮点**  
- 详细推导二元一次方程通解公式
- 变量命名规范（t1-t4对应分子分母）
- 完整处理所有输出格式特例
```cpp
if(t1 % t2) { // 分数处理
    int g = gcd(t1, t2);
    t1 /= g; t2 /= g;
    if(t2 < 0) t2 = -t2, t1 = -t1; // 符号统一化
    printf("%d/%d*x", t1, t2);
} else if(t1 / t2) { // 整数系数
    printf("%dx", t1 / t2);
}
```

#### 3. 人间温柔（3.5星）
**关键优化**  
- 通过斜率增减性提前判断符号
- 使用`__gcd`简化代码
```cpp
if((x1 > x2 && y1 < y2) || (x1 < x2 && y1 > y2)) 
    printf("-"); // 利用单调性判断符号
```

---

### 关键思路总结
1. **分数处理三要素**  
   - 计算最大公约数`gcd`约分
   - 强制分母为正（分子分母同乘-1）
   - 分离符号判断与数值计算

2. **输出格式控制链**  
   ```
   斜率整数 → 直接输出系数
   ↓
   分数系数 → 输出a/b*x形式
   ↓
   截距为0 → 省略常数项
   ↓
   正数截距 → 添加+号
   ```

3. **调试技巧**  
   - 单独测试分数符号统一化模块
   - 验证`k=0`、`b=0`等边界情况
   - 使用代数恒等式验证计算正确性（如点坐标代入）

---

### 拓展题目推荐
1. [P1022 计算器的改良](https://www.luogu.com.cn/problem/P1022) - 方程解析式输出
2. [P1664 放苹果](https://www.luogu.com.cn/problem/P1664) - 分数形式组合计数
3. [P1495 曹冲养猪](https://www.luogu.com.cn/problem/P1495) - 同余方程组求解

---
处理用时：56.45秒
# 题目信息

# [NOIP 2014 普及组] 比例简化

## 题目背景

NOIP2014 普及组 T2

## 题目描述

在社交媒体上，经常会看到针对某一个观点同意与否的民意调查以及结果。例如，对某一观点表示支持的有 $1498$ 人，反对的有 $902$ 人，那么赞同与反对的比例可以简单的记为 $1498:902$。

不过，如果把调查结果就以这种方式呈现出来，大多数人肯定不会满意。因为这个比例的数值太大，难以一眼看出它们的关系。对于上面这个例子，如果把比例记为 $5:3$，虽然与真实结果有一定的误差，但依然能够较为准确地反映调查结果，同时也显得比较直观。

现给出支持人数 $A$，反对人数 $B$，以及一个上限 $L$，请你将 $A$ 比 $B$ 化简为 $A'$ 比 $B'$，要求在 $A'$ 和 $B'$ 均不大于 $L$ 且 $A'$ 和 $B'$ 互质（两个整数的最大公约数是 $1$）的前提下，$\dfrac{A'}{B'} \ge  \dfrac{A}{B}$ 且 $\dfrac{A'}{B'} - \dfrac{A}{B}$ 的值尽可能小。

## 说明/提示

对于 $100\%$ 的数据，$1 \le A \le 10^6,1 \le B \le 10^6,1 \le L \le 100,\dfrac{A}{B} \le L$。


## 样例 #1

### 输入

```
1498 902 10```

### 输出

```
5 3```

# AI分析结果



### 题解综合分析
本题核心在于在限定范围内找到最简分数逼近原比例。各题解均采用枚举法，但优化点集中在互质判断、比较方式、时间复杂度优化等方面。最优解法需同时保证正确性和效率。

### 高星题解推荐

#### 1. 以墨（5星）
**关键亮点**：
- 双重枚举所有可能组合，思路清晰易懂
- 使用交叉相乘避免浮点误差
- 维护当前最优解，代码简洁高效
- 正确处理互质条件，正确性有保障

**核心代码**：
```cpp
for(i=1;i<=l;i++)
    for(j=1;j<=l;j++)
        if(gcd(i,j)==1 && i*b>=j*a && i*ansb<j*ansa)
            ansa=i, ansb=j;
```
**实现思想**：枚举所有 (i,j)，筛选互质且满足比值条件的组合，通过交叉相乘比较差值，维护最小误差解。

#### 2. moongazer（4星）
**关键亮点**：
- 双指针法优化时间复杂度至 O(L)
- 通过移动指针动态逼近最优解
- 使用整数运算避免精度问题

**核心代码**：
```cpp
i=1, j=1;
while (true) {
    if (a * j <= b * i) {
        if (i * ansb < j * ansa) // 更新最优解
        j++;
    } else {
        i++;
    }
}
```
**实现思想**：初始化 i=j=1，根据当前比值与原比例的关系移动指针，动态寻找满足条件的最小误差解。

#### 3. karsl（4星）
**关键亮点**：
- 正确性优先，严格处理互质条件
- 利用浮点差值直接比较，代码直观
- 初始化极大值确保覆盖所有情况

**核心代码**：
```cpp
for (int i=1; i<=l; i++)
    for (int j=1; j<=l; j++)
        if (gcd(i,j)==1 && i*1.0/j >= a*1.0/b)
            // 比较浮点差并更新答案
```

### 最优思路总结
1. **枚举法**：L≤100 时，双重循环枚举所有组合，时间复杂度可接受。
2. **互质优化**：必须检查 gcd(i,j)=1，避免非最简分数的干扰。
3. **交叉相乘**：用 `i*b >= j*a` 代替浮点比较，避免精度问题。
4. **差值维护**：记录最小误差时，优先选择分子分母更小的组合。

### 相似题目推荐
1. [P1062 数列](https://www.luogu.com.cn/problem/P1062)（分数化简与逼近）
2. [P1024 一元三次方程求解](https://www.luogu.com.cn/problem/P1024)（实数逼近与枚举优化）
3. [P1181 数列分段](https://www.luogu.com.cn/problem/P1181)（条件约束下的最优分割）

### 题解中的个人心得摘录
- **以墨**：强调交叉相乘比较的重要性，避免浮点误差。
- **Actinoi**：提醒注意数学公式变形（如 `i*ansb < j*ansa` 的正确性）。
- **hwc2011（错误示例）**：未正确处理互质条件，导致错误解法，强调审题重要性。

---
处理用时：97.92秒
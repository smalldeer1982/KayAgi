# 题目信息

# 『MdOI R3』Operations

## 题目背景

这是这场比赛唯一一道没有题目背景的题，这就是本题的题目背景。

## 题目描述

给定非负整数 $a,b$，有两种操作：

1. 任意选择一个正整数 $x$，将两数都减去 $x$，执行一次该操作的代价为 $c$；
2. 任意选择一个正整数 $x$，将两数其中一个数乘以 $x$，另一个除以 $x$ 后向下取整，执行一次该操作的代价为 $d$。

在这里，向下取整指使一个数变为**不大于它的最大的整数**，比如 $3.5$ 向下取整为 $3$，$-0.07$ 向下取整为 $-1$。

选择的 $x$ 可以为任意正整数。在操作的过程中，可以把 $a,b$ 变为负数。

你可以任意多次对这两个数操作，求将 $a,b$ 都变成 $0$ 的代价最小值。

## 说明/提示

【样例解释】

先使用一次 $2$ 操作，选择 $x=2$，将 $a$ 乘 $2$，将 $b$ 除以 $2$，得 $a=18,b=18$。  
再使用一次 $1$ 操作，选择 $x=18$，将两个数都减去 $18$，得 $a=0,b=0$。  
可以证明没有比上述操作代价更小的方案。

更多样例请[到这里](https://www.luogu.com.cn/paste/fnvd95y2)领取。

【数据范围】  

**本题采用捆绑测试**，换言之，你只有通过一个子任务的所有测试点，才可以拿到该子任务对应分数。
| 子任务编号 | $a=0$ | $b=0$ | $a=b$ | $c=1,d\geq 10^5$ | $c \geq 10^5,d=1$ | 分值 |
| :--------: | :------: | :------: | :--------: | :----------------: | :----------------: | :--: |
|     $1$      |    $\surd$     |    $\surd$     |            |                    |                    |  10  |
|     $2$      |    $\surd$     |          |            |                    |                    |  10  |
|     $3$      |          |          |     $\surd$      |         $\surd$          |                    |  10  |
|     $4$      |          |          |          | $\surd$ |                  |  10  |
|     $5$      |          |          | $\surd$ |                  | $\surd$ |  10  |
|     $6$      |          |          |            |                    |         $\surd$   |  10  |
|     $7$      |          |          |            |                    |                    |  40  |

特殊性质如上所示，其中，$\surd$ 表示保证有该特殊性质，空格表示不保证有该性质。

对于所有数据，$0\leq a,b,c,d \leq 10^9$。

## 样例 #1

### 输入

```
9 36 1 3```

### 输出

```
4
```

# AI分析结果



### 综合分析与结论
本题核心在于分情况讨论不同初始状态下最优操作策略，利用操作2的特性（通过极大x将数归零）。所有题解均基于以下关键点：
1. **特判全零**：无需操作。
2. **单零处理**：一次操作2即可归零。
3. **相等处理**：操作1或两次操作2取优。
4. **一般情况**：比较「操作1+操作2」与两次操作2的代价。

### 精选题解

#### 1. 作者：Rubidium_Chloride（★★★★★）
**关键亮点**：
- 数学严谨性：详细证明了两次操作2的可行性，增强理解。
- 分类全面：明确覆盖所有边界情况，代码与思路对应清晰。
**代码核心**：
```cpp
if(a==0&&b==0) printf("0");
else if(a==0||b==0) printf("%d",d);
else if(a==b) printf("%d",min(c,2*d));
else printf("%d",min(c+d,2*d));
```

#### 2. 作者：chen_zhe（★★★★☆）
**关键亮点**：
- 代码极简：四行判断覆盖所有情况，适合快速掌握核心逻辑。
- 直观高效：直接针对题目数据范围设计，无冗余步骤。
**代码核心**：
```cpp
if (a==0 && b==0) puts("0");
else if (a*b==0) cout << d << endl;
else if (a==b) cout << min(c,2*d) << endl;
else cout << min(c+d,2*d) << endl;
```

#### 3. 作者：仗剑_天涯（★★★★☆）
**关键亮点**：
- 策略明确：将问题拆解为「基本答案+特判」，逻辑层次清晰。
- 代码简洁：使用min函数直接比较策略，可读性强。
**代码核心**：
```cpp
if(a==0||b==0) cout<<d;
else if(a==b) cout<<min(c,2*d);
else cout<<min(c+d,2*d);
```

---

### 关键思路与技巧
1. **分治思维**：将复杂问题拆解为多个简单子问题（如全零、单零、相等），降低分析难度。
2. **极值利用**：操作2选择极大x时，除法下取整可快速归零，无需精确计算。
3. **代价比较**：灵活组合不同操作，通过min函数直接选取最优策略。

### 拓展应用
- **同类问题**：涉及多操作组合优化的题目（如CF1176E Cover it!）。
- **算法套路**：状态分治+贪心选择，适用于需要覆盖多种情形的极值问题。

### 推荐习题
1. [P1147 连续自然数和](https://www.luogu.com.cn/problem/P1147)（分治枚举）
2. [P3951 小凯的疑惑](https://www.luogu.com.cn/problem/P3951)（数学极值分析）
3. [CF1352G Special Permutation](https://codeforces.com/problemset/problem/1352/G)（构造性分情况处理）

### 个人心得摘录
- **Rubidium_Chloride**：通过构造两次操作2的策略，证明了任意情况均可归零，启示利用数学性质简化操作步骤。
- **囧仙**：强调「操作顺序不影响最终结果，只需关注总代价」，避免陷入操作顺序的复杂分析中。

---
处理用时：67.01秒
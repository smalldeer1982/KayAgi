# 题目信息

# [PFOI Round1] 暴龙的火锅

## 题目背景

暴龙爱吃火锅。

## 题目描述

定义 $S(x)$ 表示 $x$ 的每一位的数字之和，例如：$S(14)=1+4=5$，$S(114514)=1+1+4+5+1+4=16.$

另外，定义 $fib(x)$ 代表斐波那契数列的第 $x$ 项，具体地：

$$fib(1)=fib(2)=1,\ fib(x)=fib(x-1)+fib(x-2)\ (x≥3).$$

现在给定 $n$，求出下式的值，其中 $\bmod 9$ 表示对 $9$ 取余数：

$$(S(fib(1))+S(fib(2))+S(fib(3))+...+S(fib(n))) \bmod 9.$$

## 说明/提示

【样例解释】

对于第一组询问，$n=7$，答案为： 

$$
\begin{aligned}
& \ \ \ \ \ (S(fib(1))+S(fib(2))\ldots+S(fib(6))+S(fib(7)))\bmod 9 \\
& =(1+1+2+3+5+8+(1+3))\bmod 9 \\
& =6.
\end{aligned}
$$

---

【数据范围】

**「本题采用捆绑测试」**

- $\texttt{Subtask 1(10 pts)：}T=1,\ n\le 10$；
- $\texttt{Subtask 2(30 pts)：}T=10^2,\ n\le 10^3$；
- $\texttt{Subtask 3(60 pts)：}$无特殊限制。

对于 $100\%$ 的数据，满足 $1\le T\le 10^5,\ 1\le n\le 10^6$。

## 样例 #1

### 输入

```
3
7
14
114514```

### 输出

```
6
5
8```

# AI分析结果



### 综合分析与结论
本题核心在于利用数位和与模9的同余性质，将问题转化为斐波那契数列模9的前缀和计算。进一步通过观察斐波那契数列模9的周期性（24项循环），实现O(1)查询的极优时间复杂度。关键优化点包括同余转换、周期性发现和前缀和预处理。

### 高星题解推荐

#### 1. 作者：wangzl（std2） ⭐⭐⭐⭐⭐
**关键亮点**：
- 发现斐波那契数列模9的周期性（24项），极大优化时间和空间。
- 直接预处理循环节的前缀和数组，实现O(1)查询。
- 代码简洁高效，完美适配1e5次查询+1e6数据量的场景。

**核心代码**：
```cpp
const int s[] = {0,1,2,4,7,3,2,6,0,7,8,7,7,6,5,3,0,4,5,1,7,0,8,0,0};
int main() {
    scanf("%d", &n);
    while (n--) {
        scanf("%d", &data);
        printf("%d\n", s[data % 24]);
    }
}
```
**实现思想**：预计算循环节前缀和数组`s[]`，查询时直接取模24得到结果。

#### 2. 作者：Infinity_G ⭐⭐⭐⭐
**关键亮点**：
- 通过打表直观展示周期性规律，便于理解。
- 代码极度简洁，仅有12行核心逻辑。

**核心代码**：
```cpp
int p[]={0,1,2,4,7,3,2,6,0,7,8,7,7,6,5,3,0,4,5,1,7,0,8,0};
int main() {
    scanf("%d",&t);
    while(t--) printf("%d\n",p[n%24]);
}
```

#### 3. 作者：sixrc ⭐⭐⭐⭐
**关键亮点**：
- 结合数学推导与打表验证，思路严谨。
- 代码包含完整的预处理推导过程，教学性强。

**个人心得**：  
> "列一下前几项就找到了周期，共24项。答案数列的周期相同，直接取模即可。"  
—— 作者通过实际列项验证猜想，体现调试技巧。

### 最优思路总结
**关键技巧**：
1. **同余转换**：利用`S(x) ≡ x mod 9`将数位和问题转化为直接取模。
2. **周期性发现**：斐波那契数列模9呈现24项循环，避免计算大数。
3. **前缀和预处理**：对循环节计算前缀和数组，实现常数查询。

### 拓展与相似题目
- **模运算周期性**：斐波那契数列在模数下常呈现周期性（Pisano周期），例如：
  - 题目推荐：P4000 (斐波那契数列模)、P1306 (斐波那契公约数)
- **数位性质应用**：如P4999（数位和统计）、P4127（数位DP）
- **同余前缀和**：CF1036C (数位和范围统计)

### 推荐题目
1. [P4000 斐波那契数列](https://www.luogu.com.cn/problem/P4000)  
   **考察点**：斐波那契数列超大项模运算（矩阵快速幂+周期性）
2. [P4999 烦人的数学作业](https://www.luogu.com.cn/problem/P4999)  
   **考察点**：区间数位和计算（同余性质+数位DP）
3. [CF193B 循环节应用](https://codeforces.com/problemset/problem/193/B)  
   **考察点**：利用循环节优化暴力搜索

---
处理用时：61.67秒
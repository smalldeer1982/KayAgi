# 题目信息

# [Aya Round 1 C] 文文的构造游戏

## 题目背景

**Problem Number:** [$\textit{23}$](https://www.luogu.com.cn/training/1392)

众所周知，射命丸文和琪露诺是好朋友。但是文是大妖怪，非常聪明，而琪露诺是个笨蛋。为了提升琪露诺的智商，文便给琪露诺出了一道简单的题目。

## 题目描述

对于一个长度为 $l$ 的数列 $p$，定义 $S(p)$ 为所有元素的**异或和**，其中 $\oplus$ 指[按位异或运算](https://baike.baidu.com/item/%E5%BC%82%E6%88%96%E6%93%8D%E4%BD%9C)。

给定整数 $s,m$，判断能否构造一个长度为 $n$（$n$ 值自定）的数列 $a$，满足：

- $1 \le n \le m$。
- $1 \le a_i \le s$。
- $S(a)=0$。
- $a_1+a_2+\cdots+a_n=s$。

试构造任意一组合法解或报告无解。

## 说明/提示

### 样例解释

- 对于数据 $1$，容易发现 $3\oplus5\oplus6=0$，$3+5+6=14$。符合要求。
- 对于数据 $2$，发现数列 $\{3\},\{1,2\},\{1,1,1\}$ 均不符合要求，故无解。

### 数据范围与约定

对于 $100\%$ 的数据，有 $1\le s\le 10^{18}$，$1 \le m$，$1 \le \sum m \le 10^6$。

**友情提示，您可能需要使用较快的 I/O 方式。**

## 样例 #1

### 输入

```
2
14 9
3 3```

### 输出

```
3 3 5 6
-1```

# AI分析结果



### 综合分析与结论
题目要求构造数列满足异或和为0、总和为s，且长度≤m。核心结论：
1. **无解条件**：当s为奇数或m<2时必然无解。
2. **构造方法**：当s为偶数且m≥2时，拆分为两个相同的数 `s/2`，此时异或和为0且总和为s。

所有可行题解均基于以下观察：
- 奇数总和的二进制最低位必有奇数次1，导致异或和最低位为1。
- 拆分为两个相同数可保证异或和为0，且满足元素范围约束。

---

### 高星题解推荐

#### 题解1：chen_zhe（⭐⭐⭐⭐⭐）
**关键亮点**：
- 精炼条件判断，直接命中问题本质。
- 代码简洁高效，时间复杂度O(1)。
- 正确性证明清晰：分析奇数无解的位运算原理。

**核心代码**：
```cpp
if (m==1 || (s&1)) puts("-1");
else cout << 2 << " " << s/2 << " " << s/2 << endl;
```

#### 题解2：落花月朦胧（⭐⭐⭐⭐⭐）
**关键亮点**：
- 从位运算角度阐述条件，强化理论支撑。
- 明确指出最短构造长度，优化思维路径。

**核心代码**：
```cpp
if (s & 1 || m < 2) std::cout << -1 << '\n';
else std::cout << 2 << " " << (s/2) << " " << (s/2) << '\n';
```

---

### 关键思路总结
1. **位运算性质**：异或和为0要求每一位出现偶数次1，总和为偶数是最低限度要求。
2. **构造技巧**：拆分为两个相同数是最小可行解，避免复杂构造。
3. **边界处理**：注意m=1和s奇数的特殊判断。

---

### 类似题目推荐
1. **[P1469 找筷子](https://www.luogu.com.cn/problem/P1469)**  
   - 异或性质应用：寻找唯一出现奇数次的数。
2. **[P8051 极值元素](https://www.luogu.com.cn/problem/P8051)**  
   - 结合异或与排列构造，需灵活设计数组结构。
3. **[CF1174D Ehab and the Expected XOR Problem](https://codeforces.com/problemset/problem/1174/D)**  
   - 异或前缀和构造，扩展异或性质的应用场景。

---

### 题解中的个人心得
- **xzy090626题解的误区**：误将`m`与`s`比较（代码中错误条件`s<m`），反映出对题目约束条件的理解偏差。  
  **教训**：需仔细确认题目中变量含义（`a_i ≤ s`而非`m`的限制）。  
- **位运算直觉培养**：通过奇偶性快速锁定必要条件，是此类问题的典型突破口。

---
处理用时：89.09秒
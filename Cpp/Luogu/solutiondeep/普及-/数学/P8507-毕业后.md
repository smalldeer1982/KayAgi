# 题目信息

# 毕业后

## 题目背景

毕业后，同学们都在热烈讨论高中的计划。所有人总是难以避开一个话题——学考。

在浙江，高中生除了要参加普通高等学校招生全国统一考试（简称高考）以外，还要参加普通高中学业水平考试（简称学考）。学生要在高一下、高二上和高二下各参加一次学考。

## 题目描述

**注意：题目中的部分描述可能和现实有所出入。**

学考会考查高中所有科目，并根据成绩分层评级，自高到低为 A~E。每门科目都会按照一个确定的比率 $w$（所有学科都相同）确定 E 等人数。如果学考有**大于一门**科目拿到了 E 等（不合格），该学生将不能毕业。

在另一个平行世界里，高中总共有 $a$ 门科目。全省共有 $b$ 名考生。如果 E 等的分数线过高，可能会导致总存在某些人毕不了业的情况。现在，考试院院长找到了你，希望你确定学考 E 等占所有考生的**最大**比例（即，最大化 $w$ 的值），使得**存在**至少一种方案，能使浙江所有考生都能毕业。

如果按照某个比例算出来的 E 等考生数不为整数，则将考生数**向上**取整。

## 说明/提示

#### 样例 1 解释

将 E 等比率设成 $\frac{1}{2}$，此时每门科目都恰好有一名考生不合格。当第一名考生在第一门科目不合格，第二名考生在第二门科目不合格时，所有考生都能毕业。所以 $\frac{1}{2}$ 是满足要求的。

可以证明不存在更优的方案。

### 数据规模与约定

对于所有数据，$1\le a, b\le 10000$。

$$
\def\arraystretch{1.5}
\begin{array}{|c|c|}\hline
\bf{测试点} & \bf{特殊性质}
\\
\hline
1\sim3 & b=1\\\hline
4\sim6 & a=b \\\hline
7\sim10 & /\\\hline
\end{array}
$$

做完这道题，你能否说明，为什么现实中，浙江 E 等不能超过 $5\%$ 呢？

## 样例 #1

### 输入

```
2 2```

### 输出

```
0.5000000000000000```

## 样例 #2

### 输入

```
114 514```

### 输出

```
0.0077821011673152```

## 样例 #3

### 输入

```
191 9810```

### 输出

```
0.0051987767584098```

# AI分析结果



### 综合分析与结论
本题核心在于数学推导，将问题转化为**每科最多允许的E等人数**，进而求得最大比例。最优解法通过推导得出 $w = \frac{\lfloor b/a \rfloor}{b}$，时间复杂度 $O(1)$，是最高效的方案。二分法虽正确但效率略低，适合无法直接推导的情况。

---

### 精选高分题解

#### 1. 5ab_juruo（⭐⭐⭐⭐⭐）
**关键亮点**：  
- 简洁的数学推导，直接得出最优公式  
- 代码仅需一行计算，效率极高  
- 对向上取整性质（$\lceil x \rceil \leq y \iff x \leq \lfloor y \rfloor$）的应用精准  

**代码核心**：  
```cpp
cout << fixed << setprecision(10) << double(b / a) / b;
```

#### 2. hycqwq（⭐⭐⭐⭐）
**关键亮点**：  
- 容斥原理的直观解释，强调总E等人数不超过b  
- 正确使用整数除法向下取整  
- 代码清晰易懂，注重运算符优先级  

**个人心得**：  
> "最坏情况是每人恰好一个E等"，这一观察是推导的关键。

#### 3. Tzs_yousa（⭐⭐⭐⭐）
**关键亮点**：  
- 用自然语言描述问题转化过程，易于理解  
- 代码直接反映公式推导结果，无冗余操作  

**代码核心**：  
```cpp
double x = b / a;  // 自动向下取整（整数除法）
printf("%.16lf", x / b);
```

---

### 最优关键思路与技巧
1. **数学建模与不等式转换**：  
   - 将问题转化为 $a \cdot \lceil bw \rceil \leq b$，利用 $\lceil x \rceil \leq y \iff x \leq \lfloor y \rfloor$ 消去取整符号。  
   - 最终公式：$w_{\text{max}} = \frac{\lfloor b/a \rfloor}{b}$。

2. **取整性质的应用**：  
   - 正确区分向上取整（ceil）与向下取整（floor）的转换关系，避免常见错误。

---

### 拓展与相似题目推荐
1. **同类型题目**：  
   - [P1577 切绳子](https://www.luogu.com.cn/problem/P1577)：二分答案求最大值  
   - [P3743 小鸟的设备](https://www.luogu.com.cn/problem/P3743)：浮点数二分+条件判断  
   - [P1182 数列分段](https://www.luogu.com.cn/problem/P1182)：最大值最小化，二分经典题  

2. **举一反三**：  
   - 遇到类似“最大最小值”问题时，优先考虑数学推导寻找闭式解，其次考虑二分答案。  
   - 注意题目中的取整规则（向上/向下），可通过不等式转换简化问题。

---

### 题解中的调试心得
- **fengxiaoyi**提到考场代码因 `ci` 函数笔误导致错误，强调变量名和函数名的准确性。  
- **封禁用户**分享暴力枚举思路，提醒在时间允许时**合理利用题目精度要求**简化代码。  
- **ran_qwq**指出二分法中设置 `1e-12` 精度足够通过测试，体现对浮点数精度的把控。  

> **总结**：数学题需严谨推导，边界条件（如取整）是易错点；代码实现时注意运算符优先级和类型转换。

---
处理用时：63.09秒
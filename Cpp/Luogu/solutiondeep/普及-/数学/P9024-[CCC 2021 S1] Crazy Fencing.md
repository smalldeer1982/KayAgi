# 题目信息

# [CCC 2021 S1] Crazy Fencing

## 题目描述

栅栏由 $N$ 块木板组成。

因为是栅栏，所以第 $i$ 块的右边界与第 $i+1$ 块的左边界的高度一样。

告诉你这些木板的边界的高度与这些木板的宽度，输出这些木板的总面积。

## 说明/提示

样例解释：

![](https://cdn.luogu.com.cn/upload/image_hosting/doy8i2lm.png)![](https://cdn.luogu.com.cn/upload/image_hosting/3q9oe7v5.png)

$N\leq 10000$，高度和宽度 $\leq 100$。

译自 [CCC2021 S2](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/seniorEF.pdf)。

## 样例 #1

### 输入

```
3
2 3 6 2
4 1 1
```

### 输出

```
18.5```

## 样例 #2

### 输入

```
4
6 4 9 7 3
5 2 4 1
```

### 输出

```
75.0```

# AI分析结果



### 综合分析与结论
题目核心是将每个木板视为直角梯形，应用梯形面积公式累加。所有题解均正确识别这一核心思路，差异仅在于代码风格和实现细节。数据范围较小（n≤1e4），无需复杂优化，但需注意浮点精度处理和输出格式。

---

### 高星题解推荐
1. **lichenzhen（★★★★★）**  
   **关键亮点**：代码简洁规范，变量命名清晰，直接体现梯形面积公式。使用`double`累加避免精度丢失，输出格式处理严谨。  
   **核心实现**：正确遍历相邻高度对，累加每个梯形面积。
   ```cpp
   for(int i=1;i<=n;i++) 
       sum+=(double)(a[i]+a[i+1])*b[i]/2;
   printf("%.1lf",sum);
   ```

2. **lailai0916（★★★★）**  
   **关键亮点**：使用C++流加速优化，代码结构清晰。输出格式使用`fixed<<setprecision(1)`保证精度。  
   **核心实现**：直接按公式计算，逻辑与输入顺序高度对应。
   ```cpp
   for(int i=1;i<=n;i++) {
       int h; cin >> h;
       ans += (a[i]+a[i+1])*h*0.5;
   }
   ```

3. **zhuweiqi（★★★★）**  
   **关键亮点**：对数据范围进行验证分析，代码简洁易懂。  
   **个人心得**：指出最大值为1e8，验证了不会溢出，体现问题分析能力。

---

### 最优思路与技巧总结
- **核心算法**：梯形面积公式 `S=(a+b)*h/2`，其中 `a` 和 `b` 为相邻木板高度，`h` 为木板宽度。
- **实现关键**：
  1. **输入处理**：读取 `n+1` 个高度值，每个木板对应 `a[i]` 和 `a[i+1]`。
  2. **浮点转换**：在计算时显式转换为 `double` 避免整数除法。
  3. **输出格式**：保留一位小数，使用 `printf` 或 `setprecision` 控制格式。

---

### 同类题目推荐
1. **P1183 多边形的面积** - 计算多边形面积，需分解为三角形或梯形。
2. **P2735 [USACO3.4] 电网 Electric Fences** - 几何面积计算与优化。
3. **P1058 [NOIP2008 普及组] 立体图** - 空间几何体表面积计算（类似分解思想）。

---

### 题解个人心得摘录
- **zhuweiqi**：  
  > "数据范围验证：当每个数据取最大值时，总和为1e8，不会溢出。"  
  **总结**：在编码前分析极端数据范围，避免潜在问题。

- **小明小红**：  
  > "记得设double类型变量"  
  **总结**：强调数据类型选择的重要性，避免整数计算错误。

---
处理用时：58.75秒
# 题目信息

# 「MXOI Round 2」游戏

## 题目描述

小 C 和小 D 正在玩一款蒸蒸日上的游戏。

这款游戏共有 $3$ 种手牌：杀、闪、斩。他们的用途分别如下：

- 杀：对对方使用，对方需要使用一张**闪**，否则对方输掉游戏；**或**回应对方的**斩**；

- 闪：回应对方的**杀**；

- 斩：对对方使用，对方需要使用一张**杀**，否则对方输掉游戏。

玩家在每使用一张牌后，都需要弃掉该使用的牌。

从小 C 开始，每个回合依次属于小 C 和小 D。在玩家的回合内，该玩家可以出**任意**张**杀**和**斩**，对方需要做出对应的回应。当然，玩家也可以不出牌，直接进入对方的回合。

现在，小 C 共有 $c_1$ 张杀、$c_2$ 张闪、$c_3$ 张斩，小 D 共有 $d_1$ 张杀、$d_2$ 张闪、$d_3$ 张斩，**双方都知道对方的手牌**。你需要求出，双方在都进行最优策略的情况下，游戏的结果会如何。

## 说明/提示

#### 【样例解释 #1】

对于第一组数据，小 C 可以先出一张斩，并在小 D 回应一张杀后再出一张斩。此时小 D 的杀用完了，无法做出回应，输掉了游戏。

#### 【样例 #2】

见附加文件中的 `game/game2.in` 与 `game/game2.ans`。

#### 【数据范围】

对于 $100\%$ 的数据，$1 \le T \le 10^5$，$0 \le c_1,c_2,c_3,d_1,d_2,d_3 \le 10^9$。

|测试点编号|特殊性质|
|:---:|:---:|
|$1\sim3$|保证 $c_3=d_3=0$|
|$4\sim6$|保证 $c_1=d_2$ 且 $c_2=d_1$|
|$7\sim10$|无|

## 样例 #1

### 输入

```
3
3 1 4 1 5 9
1 1 4 5 1 4
5 2 1 2 6 3```

### 输出

```
C
D
E```

# AI分析结果



### 综合分析与结论  
本题核心在于分析双方最优策略下的胜负条件。关键点在于：  
1. **小C先手能否直接秒杀**（杀>闪 或 斩>杀）  
2. **若不能，小C用斩消耗对方杀**，之后判断小D是否具备反杀条件  
3. **双方均无法秒杀时平局**  
多数题解采用相同逻辑，差异主要在于条件判断顺序和变量处理。核心思路一致，部分题解因条件判断错误导致逻辑漏洞。

---

### 精选题解（评分≥4星）

#### 1. Coffee_zzz（5星）  
**关键亮点**  
- 逻辑清晰，条件判断顺序严谨  
- 代码简洁高效，直接处理所有情况  
- 正确处理小D的杀被消耗后的判断  

**核心代码**  
```cpp
if(c1>d2) puts("C");
else if(c3>d1) puts("C");
else if(d3>c1) puts("D");
else if(d1-c3>c2) puts("D");
else puts("E");
```
**实现思想**  
依次判断小C能否秒杀，若否，计算小D剩余杀并判断其能否秒杀，最后平局。

#### 2. andyli（5星）  
**关键亮点**  
- 条件合并更紧凑，代码简洁  
- 显式处理消耗后的杀数量，逻辑直观  

**核心代码**  
```cpp
if (c1 <= d2 && c3 <= d1) { 
    d1 -= c3; 
    if (d1 <= c2 && d3 <= c1) writeln('E');
    else writeln('D');
} else writeln('C');
```
**实现思想**  
先合并小C的失败条件，再处理小D的剩余杀，最后判断胜负。

#### 3. jxbe6666（4星）  
**关键亮点**  
- 变量命名清晰，逻辑易读  
- 显式处理消耗后的杀，条件判断准确  

**核心代码**  
```cpp
d1 -= c3;
if(d1>c2 || d3>c1) cout<<"D\n";
else cout<<"E\n";
```
**实现思想**  
直接操作变量，先消耗后判断，逻辑连贯。

---

### 关键思路与技巧  
1. **贪心策略**：优先用斩消耗对方杀，减少后续威胁。  
2. **条件分治**：按胜负优先级依次判断，避免遗漏情况。  
3. **变量更新**：显式更新剩余杀数量（`d1 -= c3`），确保后续判断准确。  

---

### 拓展建议  
- **同类题目**：  
  1. [P2934 [USACO09JAN] Safe Travel](https://www.luogu.com.cn/problem/P2934)（博弈+最短路）  
  2. [P2734 [USACO3.3] 游戏 A Game](https://www.luogu.com.cn/problem/P2734)（区间DP博弈）  
  3. [P2599 [ZJOI2009] 取石子游戏](https://www.luogu.com.cn/problem/P2599)（贪心博弈）  

- **调试经验**：  
  - 卷王题解提到“斩用光后需处理剩余杀”，强调消耗顺序的重要性。  
  - 部分题解因未正确处理变量更新导致错误（如直接比较原杀数量），需注意变量作用域。  

---

### 总结  
最优解法需严格遵循“先手秒杀→消耗斩→反手秒杀→平局”的优先级，显式更新关键变量。代码应保持简洁，避免冗余判断。

---
处理用时：119.80秒
# 题目信息

# [BCSP-X 2024 12 月初中组] 稳定原子

## 题目背景

小 $\tau$ 在学结构化学。

## 题目描述

小 $\tau$ 认为一个大小为 $n$ 的原子可以抽象为一个 $n \times n$ 的矩阵，每个位置上要么有电子，要么没有电子。

并且一个原子是稳定的，当且仅当它的矩阵中的每一个位置均满足上下左右相邻的电子数恰好等于 $2$。

小 $\tau$ 想问问你，在他上述理论体系下，是否存在大小为 $n$ 的稳定原子，如果存在，输出 Yes 并给出一种稳定原子的电子排布方案；如果不存在，输出 No。

由于小 $\tau$ 非常好奇，所以他会问 $T$ 次。

## 说明/提示

对于 $100\%$ 的数据，$T=10$，$1\leq n\leq 1000$。

**声明：本题所述内容并非化学事实。**

## 样例 #1

### 输入

```
3
1
2
3```

### 输出

```
No
Yes
1 1
1 1
No```

# AI分析结果

### 综合分析
该题目要求判断是否存在一个 $n \times n$ 的矩阵，使得每个位置的上下左右相邻的电子数恰好等于 2。这是一个典型的图论问题，可以转化为图的邻接矩阵问题。由于题目要求每个位置的相邻电子数必须恰好为 2，因此需要找到一个满足条件的矩阵。

### 通用建议与扩展思路
1. **矩阵性质分析**：首先，对于 $n=1$ 的情况，显然不存在满足条件的矩阵，因为无法满足相邻电子数为 2 的条件。对于 $n=2$，可以构造一个全 1 的矩阵，满足每个位置的相邻电子数为 2。对于 $n=3$ 及以上，需要进一步分析。
2. **图论模型**：可以将矩阵中的每个位置看作图中的一个节点，相邻的位置之间有边相连。问题转化为寻找一个图，使得每个节点的度数恰好为 2。这等价于寻找一个环图。
3. **构造方法**：对于 $n=2$，可以构造一个全 1 的矩阵。对于 $n=4$，可以构造一个环图。对于其他 $n$，需要判断是否存在一个环图。

### 关键思路与技巧
1. **矩阵构造**：对于 $n=2$，直接构造全 1 的矩阵即可。对于 $n=4$，可以构造一个环图，使得每个节点的度数恰好为 2。
2. **图论模型**：将问题转化为图论问题，利用图的度数性质进行判断。
3. **边界条件处理**：特别注意 $n=1$ 和 $n=2$ 的情况，直接输出结果。

### 推荐题目
1. [P1351 联合权值](https://www.luogu.com.cn/problem/P1351) - 考察图的邻接矩阵和度数性质。
2. [P1330 封锁阳光大学](https://www.luogu.com.cn/problem/P1330) - 考察图的构造和度数条件。
3. [P1345 奶牛的电信](https://www.luogu.com.cn/problem/P1345) - 考察图的连通性和度数条件。

### 结论
该题目的关键在于将矩阵问题转化为图论问题，并利用图的度数性质进行判断。对于 $n=1$ 和 $n=2$ 的情况，可以直接输出结果。对于其他 $n$，需要进一步分析是否存在满足条件的图。

---
处理用时：15.63秒
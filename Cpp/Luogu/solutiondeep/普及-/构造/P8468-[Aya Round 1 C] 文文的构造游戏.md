# 题目信息

# [Aya Round 1 C] 文文的构造游戏

## 题目背景

**Problem Number:** [$\textit{23}$](https://www.luogu.com.cn/training/1392)

众所周知，射命丸文和琪露诺是好朋友。但是文是大妖怪，非常聪明，而琪露诺是个笨蛋。为了提升琪露诺的智商，文便给琪露诺出了一道简单的题目。

## 题目描述

对于一个长度为 $l$ 的数列 $p$，定义 $S(p)$ 为所有元素的**异或和**，其中 $\oplus$ 指[按位异或运算](https://baike.baidu.com/item/%E5%BC%82%E6%88%96%E6%93%8D%E4%BD%9C)。

给定整数 $s,m$，判断能否构造一个长度为 $n$（$n$ 值自定）的数列 $a$，满足：

- $1 \le n \le m$。
- $1 \le a_i \le s$。
- $S(a)=0$。
- $a_1+a_2+\cdots+a_n=s$。

试构造任意一组合法解或报告无解。

## 说明/提示

### 样例解释

- 对于数据 $1$，容易发现 $3\oplus5\oplus6=0$，$3+5+6=14$。符合要求。
- 对于数据 $2$，发现数列 $\{3\},\{1,2\},\{1,1,1\}$ 均不符合要求，故无解。

### 数据范围与约定

对于 $100\%$ 的数据，有 $1\le s\le 10^{18}$，$1 \le m$，$1 \le \sum m \le 10^6$。

**友情提示，您可能需要使用较快的 I/O 方式。**

## 样例 #1

### 输入

```
2
14 9
3 3```

### 输出

```
3 3 5 6
-1```

# AI分析结果

### 综合分析与结论

本题的核心在于构造一个满足特定条件的数列，要求数列的元素和为 `s`，且异或和为 `0`。题解主要集中在如何通过简单的数学性质（如异或和的性质）来判断是否有解，并给出构造方案。大多数题解都抓住了 `s` 为偶数且 `m >= 2` 时可以通过将 `s` 拆分为两个相同的数来满足条件的思路。

### 所选题解

#### 题解1：作者：chen_zhe (赞：23)
- **星级**：5星
- **关键亮点**：思路清晰，代码简洁，直接抓住了问题的核心——`s` 为偶数且 `m >= 2` 时可以通过将 `s` 拆分为两个相同的数来满足条件。同时，明确指出了 `s` 为奇数时无解的原因。
- **核心代码**：
  ```cpp
  if (m==1 || (s&1))
      puts("-1");
  else
      cout << 2 << " " << s/2 << " " << s/2 << endl;
  ```
- **实现思想**：通过判断 `s` 是否为偶数以及 `m` 是否大于等于 2，直接输出构造方案或报告无解。

#### 题解2：作者：落花月朦胧 (赞：3)
- **星级**：4星
- **关键亮点**：从位运算的角度出发，解释了为什么 `s` 必须为偶数才能满足条件，并给出了构造方案。代码简洁，逻辑清晰。
- **核心代码**：
  ```cpp
  if (s & 1 || m < 2) {
      std::cout << -1 << '\n';
      return;
  }
  std::cout << 2 << " " << i64(s >> 1) << " " << i64(s >> 1) << '\n';
  ```
- **实现思想**：通过位运算判断 `s` 是否为偶数，并输出构造方案或报告无解。

#### 题解3：作者：xzy090626 (赞：1)
- **星级**：4星
- **关键亮点**：通过手玩数据观察无解情况，并给出了 `n = 2` 时的构造方案。代码实现较为完整，包含了输入输出优化。
- **核心代码**：
  ```cpp
  if(s<m || s%2 || m==1) puts("-1");
  else printf("2 %lld %lld\n",s/2,s/2);
  ```
- **实现思想**：通过判断 `s` 是否为偶数以及 `m` 是否大于等于 2，直接输出构造方案或报告无解。

### 最优关键思路或技巧

- **异或和性质**：利用异或和的性质，当 `s` 为偶数时，可以通过将 `s` 拆分为两个相同的数来满足条件。
- **位运算判断**：通过位运算快速判断 `s` 是否为偶数，提高代码效率。

### 可拓展之处

- **类似问题**：可以拓展到其他需要满足特定条件的数列构造问题，如要求数列的乘积为某个值，或者要求数列的某些位运算结果为特定值。
- **算法套路**：类似的问题可以通过观察数学性质，利用简单的构造方案来解决。

### 推荐题目

1. **P1001 A+B Problem**（题号：1001）
2. **P1002 过河卒**（题号：1002）
3. **P1003 铺地毯**（题号：1003）

这些题目都涉及到简单的数学性质和构造思路，适合进一步练习和巩固相关知识。

---
处理用时：24.53秒
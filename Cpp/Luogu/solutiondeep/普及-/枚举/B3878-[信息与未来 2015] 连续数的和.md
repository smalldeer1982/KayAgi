# 题目信息

# [信息与未来 2015] 连续数的和

## 题目描述

给出两个整数 $n$ 和 $k$，求出 $1\sim n$ 中连续 $k$ 个数的和为完全平方数的个数。

## 说明/提示

### 样例解释
在 $1\sim10$ 中，连续 $3$ 个数的和有：
- $1+2+3=6$；
- $2+3+4=9=3^2$；
- $3+4+5=12$；
- $4+5+6=15$；
- $5+6+7=18$；
- $6+7+8=21$；
- $7+8+9=24$；
- $8+9+10=27$。

故只有 $1$ 个。
### 数据范围
$2\le n\le 7\times 10^4,1\le k\le n$。

## 样例 #1

### 输入

```
10 3```

### 输出

```
1```

# AI分析结果

### 综合分析与结论
题解提供了两种思路解决连续数和为完全平方数的计数问题。第一种思路是暴力枚举结合高斯求和，先尝试枚举每个数计算连续 $k$ 个数的和，后发现边界问题，优化为枚举到 $n - k$；第二种思路在第一种基础上，使用 `sqrt` 函数判断是否为完全平方数，时间复杂度更优。

### 所选题解
- 星级：4星
- 关键亮点：思路清晰，对第一种暴力枚举思路的错误原因进行了分析并给出修正方案，同时提供了时间复杂度更优的第二种思路，代码有注释，可读性较好。
- 个人心得：在第一种思路中，发现用高斯求和时未考虑边界情况会导致错误，即前面没有 $k$ 个数时依旧计算，因此需要枚举到 $n - k$。

### 重点代码及核心思想
#### 第一种思路优化后代码
```cpp
bool check(int n){
    for(int i=1;i*i<=n;i++)
        if(i*i==n) return 1;
    return 0;
}
int main(){
    cin>>n>>k;
    for(int i=1;i<=n-k;i++){
        sum=(i+i+k-1)*k/2;
        if(check(sum)) ans++;
    }
    cout<<ans<<endl;
    return 0;
}
```
核心思想：枚举从 $1$ 到 $n - k$ 的每个数作为连续 $k$ 个数的起始数，用高斯求和公式计算连续 $k$ 个数的和，通过 `check` 函数判断和是否为完全平方数。

#### 第二种思路代码
```cpp
int main(){
    cin>>n>>k;
    for(int i=1;i<=n-k;i++){
        sum=(i+i+k-1)*k/2;
        int t=sqrt(sum);
        if(t*t==sum) ans++;
    }
    cout<<ans<<endl;
    return 0;
}
```
核心思想：同样枚举从 $1$ 到 $n - k$ 的每个数作为起始数，用高斯求和公式计算和，使用 `sqrt` 函数开平方，将结果转换为整数后平方判断是否等于原和，若是则为完全平方数。

### 最优关键思路或技巧
- 利用高斯求和公式优化连续 $k$ 个数求和的计算。
- 使用 `sqrt` 函数结合整数转换判断是否为完全平方数，优化判断过程。

### 可拓展之处
同类型题可能会改变连续数的条件，如连续偶数、连续奇数等，或者改变判断条件，如判断和是否为某个数的倍数等。类似算法套路是先确定枚举范围，再根据条件计算和并进行判断。

### 洛谷相似题目推荐
- P1035 [NOIP2002 普及组] 级数求和
- P1046 [NOIP2005 普及组] 陶陶摘苹果
- P1059 [NOIP2006 普及组] 明明的随机数 

---
处理用时：21.46秒
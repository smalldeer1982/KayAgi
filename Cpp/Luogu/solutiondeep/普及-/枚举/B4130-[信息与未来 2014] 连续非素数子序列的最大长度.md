# 题目信息

# [信息与未来 2014] 连续非素数子序列的最大长度

## 题目描述

给出一个正整数 $n$，求在数列 $\{2,3,\cdots,n\}$
中，连续非素数子序列的最大长度。

## 说明/提示

### 样例 $\textbf1$ 解释
| 连续非素数子序列 | 长度 |
| :----------: | :----------: |
| $\{4\}$ | $1$ |
| $\{6\}$ | $1$ |
| $\{8,9,10\}$ | $3$ |
| $\{12\}$ | $1$ |

其中，最大长度为 $3$，即有连续的 $3$ 个非素数。
### 数据范围
$2\le n\le 5\times10^6$。

## 样例 #1

### 输入

```
12```

### 输出

```
3```

## 样例 #2

### 输入

```
30```

### 输出

```
5```

# AI分析结果

### 综合分析与结论
由于暂无题解，下面给出通用的解题思路和扩展思路。本题的核心在于找出数列 $\{2,3,\cdots,n\}$ 中连续非素数子序列的最大长度。可以先使用筛法（如埃拉托斯特尼筛法）标记出 $2$ 到 $n$ 之间的所有素数，然后遍历数列，统计连续非素数的最大长度。

### 通用建议与扩展思路
- **解题思路**：
    1. 使用埃拉托斯特尼筛法标记出 $2$ 到 $n$ 之间的所有素数。该算法的时间复杂度为 $O(n\log\log n)$。
    2. 遍历数列 $\{2,3,\cdots,n\}$，统计连续非素数的长度，记录最大长度。
- **代码实现技巧**：
    - 可以使用一个布尔数组来标记素数，提高查找效率。
    - 在遍历数列时，使用一个计数器来统计连续非素数的长度，当遇到素数时，更新最大长度并重置计数器。
- **可拓展之处**：
    - 同类型题：可以考虑在不同的数列中寻找连续满足某种条件的子序列的最大长度，例如连续奇数、连续偶数等。
    - 类似算法套路：可以使用滑动窗口算法来解决这类连续子序列的问题，通过维护一个窗口来统计满足条件的元素个数。

### 推荐洛谷题目
1. [P1217 [USACO1.5] 回文质数 Prime Palindromes](https://www.luogu.com.cn/problem/P1217)：考察素数判断和回文数的判断。
2. [P3383 【模板】线性筛素数](https://www.luogu.com.cn/problem/P3383)：考察线性筛素数的实现。
3. [P1075 [NOIP2012 普及组] 质因数分解](https://www.luogu.com.cn/problem/P1075)：考察素数和质因数分解的知识。

### 核心代码示例
```cpp
#include <iostream>
#include <vector>
using namespace std;

const int MAXN = 5e6 + 5;
bool isPrime[MAXN];

// 埃拉托斯特尼筛法
void sieve(int n) {
    for (int i = 2; i <= n; i++) {
        isPrime[i] = true;
    }
    for (int i = 2; i * i <= n; i++) {
        if (isPrime[i]) {
            for (int j = i * i; j <= n; j += i) {
                isPrime[j] = false;
            }
        }
    }
}

int main() {
    int n;
    cin >> n;
    sieve(n);

    int maxLen = 0, curLen = 0;
    for (int i = 2; i <= n; i++) {
        if (!isPrime[i]) {
            curLen++;
        } else {
            maxLen = max(maxLen, curLen);
            curLen = 0;
        }
    }
    maxLen = max(maxLen, curLen);

    cout << maxLen << endl;
    return 0;
}
```
**核心实现思想**：首先使用埃拉托斯特尼筛法标记出 $2$ 到 $n$ 之间的所有素数，然后遍历数列，统计连续非素数的长度，记录最大长度。最后输出最大长度。

---
处理用时：16.66秒
# 题目信息

# 波浪数

## 题目描述

波浪数是在一对**不同**数字之间交替转换的数，如 $1212121$，双重波浪数则是指在两种进制下都是波浪数的数，如十进制数 $191919$ 是一个十进制下的波浪数，它对应的十一进制数 $121212$ 也是一个波浪数，所以十进制数 $191919$ 是一个双重波浪数。特别地，只有一位的数也算作波浪数，例如 $1$。

类似的可以定义三重波浪数，三重波浪数在三种不同的进制中都是波浪数，甚至还有四重波浪数，如 $300_{(10)}=606_{(7)}=363_{(9)}=454_{(8)}=1\mathtt{A}1_{(13)}$，下标表示采用的进制。你的任务就是在指定范围内找出双重、三重、四重波浪数。


## 说明/提示

### 数据范围及约定

对于全部数据，保证 $2\le l\le r\le 32$，$1\le L\le R\le 10^7$，$k\in \{2, 3, 4\}$。

## 样例 #1

### 输入

```
10 11 190000 960000 2```

### 输出

```
191919
383838
575757
767676
959595```

# AI分析结果

### 综合分析与结论
这些题解主要围绕波浪数问题展开，思路大多是逆向生成波浪数而非直接判断。核心要点是通过多重循环枚举进制、交替数字，构造波浪数并统计其重数，最后输出符合指定重数的波浪数。不同题解在代码实现、变量命名和细节处理上存在差异，但整体思路一致。
### 所选题解
1. **作者：Crazily（5星）**
    - **关键亮点**：思路清晰，逆向思维生成波浪数，代码简洁易懂，注释丰富。
    - **个人心得**：“逆向思维一下，其实我们应该先生成所给范围内的波浪数，这样不仅不会超时而且代码也更容易实现”，强调逆向思维在解题中的重要性。
2. **作者：Star_Wind（4星）**
    - **关键亮点**：使用子程序封装生成波浪数的逻辑，结构清晰。
    - **个人心得**：“对于蒟蒻来说，这种题，管他神马数学法，呵呵，直接暴力”，体现了暴力求解的思路。
3. **作者：小越越（4星）**
    - **关键亮点**：指出题目坑点，代码简洁，使用异或运算切换交替数字。
    - **个人心得**：“这题有几个坑点：１一位数是波浪数，２一对数是指不相等的两个数”，提醒读者注意题目细节。
### 重点代码及核心思想
#### Crazily的题解
```cpp
for(int k=a;k<=b;++k){
    for(int i=1;i<k;++i){
        for(int j=0;j<k;++j){
            if(i!=j)
            {
                x=0;
                t=0;
                while(x<=r){
                    if(t%2==0){
                        x=x*k+i;
                        ++t;
                    }
                    else{
                        x=x*k+j;
                        ++t;
                    }
                    if(x>=l&&x<=r) ++v[x];
                }
            }
        }
    }
}
```
核心思想：通过三重循环枚举进制、交替数字，构造波浪数，若波浪数在指定范围内，则对应重数加1。
#### Star_Wind的题解
```cpp
void make(int x)
{
    for(int i=1;i<x;i++)
      for(int j=0;j<x;j++)
      if(i!=j)
      {
           len=0;
           t=0;
           while(t<r)
           { 
               len++;
               if(len%2==0) a[len]=i;
               else a[len]=j;
               t=t*x+a[len];
               if(t>r) break;
               b[t]++;
           }
      } 
}
```
核心思想：封装生成波浪数的逻辑，通过循环构造波浪数，若波浪数在指定范围内，则对应重数加1。
#### 小越越的题解
```cpp
for (int i = a; i <= b; i++){
    for (int j = 1; j < i; j++)
        for (int k = 0; k < i; k++)
            if (j!= k){
                int now = j, id = 1;
                s[0] = j; s[1] = k;
                while (now <= r){
                    v[now]++;
                    now = now*i+s[id];
                    id ^= 1;
                }
            }
}
```
核心思想：通过三重循环枚举进制、交替数字，构造波浪数，使用异或运算切换交替数字，若波浪数在指定范围内，则对应重数加1。
### 最优关键思路或技巧
- **逆向思维**：不直接判断每个数在不同进制下是否为波浪数，而是先生成波浪数，再统计其重数，避免超时。
- **桶排序思想**：使用数组存储每个数的重数，方便统计和输出。
### 拓展思路
同类型题可考虑在不同规则下构造特定数字，如在不同进制下构造回文数、对称数等。类似算法套路是通过枚举和循环构造满足条件的数字，再进行筛选和统计。
### 推荐题目
1. [P1017 进制转换](https://www.luogu.com.cn/problem/P1017)
2. [P1143 进制转换](https://www.luogu.com.cn/problem/P1143)
3. [P1306 斐波那契公约数](https://www.luogu.com.cn/problem/P1306)
### 个人心得总结
- Crazily：逆向思维可使问题简化，避免超时，提高代码实现的可行性。
- Star_Wind：暴力求解在某些情况下是可行的，可通过封装子程序提高代码的可读性。
- 小越越：注意题目中的坑点，如一位数的特殊情况和交替数字不相等的要求。

---
处理用时：32.50秒
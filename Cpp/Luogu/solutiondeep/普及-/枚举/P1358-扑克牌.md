# 题目信息

# 扑克牌

## 题目描述

组合数学是数学的重要组成部分，是一门研究离散对象的科学，它主要研究满足一定条件的组态（也称组合模型）的存在、计数以及构造等方面的问题。组合数学的主要内容有组合计数、组合设计、组合矩阵、组合优化等。

随着计算机科学的日益发展，组合数学的重要性也日渐凸显，因为计算机科学的核心内容是使用算法处理离散数据。

今天我们来研究组合数学中的一个有趣的问题，也是一个简单的计数问题：

从一副含有 $n$ 张的扑克牌(每张扑克牌都不相同)中，分给 $m$ 个人，第 $i$ 个人得到 $a_i$ 张牌，求一共有几种分法，这个数可能非常大，请输出此数模 $10007$ 后的结果。

## 说明/提示

对于 $50\%$ 的数据：$a_i=1$。

对于 $100\%$ 的数据：$1 \leq n \leq 10^4$，$1 \leq m \leq 100$，$0 \leq a_i \leq 100$。



## 样例 #1

### 输入

```
5 2
3 1
```

### 输出

```
20
```

## 样例 #2

### 输入

```
20 19
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
```

### 输出

```
8707
```

# AI分析结果

### 综合分析与结论
本题主要是求解从\(n\)张不同扑克牌中分给\(m\)个人，第\(i\)个人得到\(a_i\)张牌的分法总数，结果需对\(10007\)取模。各题解核心思路均是通过组合数计算分法，再将每个人的组合数相乘，但计算组合数的方法不同。

### 所选题解
- **作者：guobaipeng0（5星）**
    - **关键亮点**：思路清晰，使用杨辉三角求组合数避免枚举超时，代码简洁易读。
    - **核心代码**：
```cpp
long long n,m,i,j,s=1,t,a[10005][105];
a[0][0]=1;
for (i=1; i<=10000; i++)
    for (j=0; j<=100; j++)
        a[i][j]=(a[i-1][j-1]+a[i-1][j])%10007;  //杨辉三角求组合数
for (i=1; i<=m; i++)
{
    cin>>t;
    s=s*a[n][t]%10007;  //记得取模
    n-=t;  //由于第i个人拿了t张，扑克牌数量减少t
}
```
核心思想：先利用杨辉三角递推组合数，再依次计算每个人的组合数并累乘，过程中不断取模。

- **作者：王奕瑜（4星）**
    - **关键亮点**：详细分析思路，介绍求组合数的“求重数”方法，代码结构清晰。
    - **核心代码**：
```cpp
int cal(int n,int x)
{
    int ans=0;
    while (n>0)
        ans+=n/=x;
    return ans;
}
long long C(int n,int m,int mod)
{
    long long ans=1;
    for (int i=0;i<s;i++)
    {
        int k=cal(n,p[i])-cal(m,p[i])-cal(n-m,p[i]);
        for (int j=0;j<k;j++)
            ans=(ans*p[i])%mod;
    }
    return ans;
}
```
核心思想：通过`cal`函数求\(n!\)中某个质数因子的个数，进而计算组合数中该质数因子的个数，最后累乘得到组合数。

- **作者：白木偶君（4星）**
    - **关键亮点**：公式推导清晰，预处理阶乘和逆元表，提高计算组合数的效率。
    - **核心代码**：
```cpp
inline int ksm(int x,int y){int ans=1;while(y){if(y&1)ans=ans*x%mod;x=x*x%mod;y>>=1;}return ans;}
int C(int x,int y){if(x>y)return 0;return jc[y]*inv[x]%mod*inv[y-x]%mod;}
inline void pre(){
    jc[0]=1;for(int i=1;i<=n;i++)jc[i]=jc[i-1]*i%mod;
    inv[n]=ksm(jc[n],mod-2);
    for(int i=n-1;i>=0;i--)inv[i]=inv[i+1]*(i+1)%mod;
}
```
核心思想：先预处理阶乘和逆元表，再根据组合数公式计算组合数。

### 最优关键思路或技巧
- **杨辉三角求组合数**：利用\(C(n, m) = C(n - 1, m - 1) + C(n - 1, m)\)的递推关系，避免直接计算阶乘导致的超时问题。
- **预处理阶乘和逆元表**：通过预处理阶乘和逆元表，在计算组合数时可以直接查表，提高计算效率。

### 可拓展之处
同类型题如多重组合问题、排列组合的动态规划问题等。类似算法套路可用于解决涉及组合计数的问题，如计算不同物品分组的方案数、路径规划中的组合问题等。

### 推荐题目
- [P1044 栈](https://www.luogu.com.cn/problem/P1044)：涉及卡特兰数，与组合数学相关。
- [P1873 砍树](https://www.luogu.com.cn/problem/P1873)：可能会用到二分查找和组合数学的思想。
- [P2822 组合数问题](https://www.luogu.com.cn/problem/P2822)：直接考察组合数的计算和取模。

### 个人心得摘录与总结
- **作者：梦回还**：做数论题时要注意取模，避免因取模不当导致结果错误。
- **作者：贵族血统**：暴力计算组合数可能超范围，质因数分解优化可能超时，可考虑递推组合数表。 

---
处理用时：30.19秒
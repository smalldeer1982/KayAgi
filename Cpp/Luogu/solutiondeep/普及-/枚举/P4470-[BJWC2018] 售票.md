# 题目信息

# [BJWC2018] 售票

## 题目描述

C 市火车站最近出现了一种新式自动售票机。买票时，乘客要先在售票机上输入终点名称。一共有 $N$ 处目的地，随着乘客按顺序输入终点名称的每个字母，候选终点站数目会逐渐减少。

在自动售票机屏幕上，有一个 $4$ 行 $8$ 列的键盘，如下图所示。

![](https://cdn.luogu.com.cn/upload/pic/17861.png)

在乘客每输入一个字母后，键盘上只有有效字符是可选的（取决于还有哪些候选终点站），其余的字母会被字符 `*` 取代。

告诉你 $N$ 处目的地的名称，以及乘客已经输入的若干字符，请你输出键盘目前的状态。

## 说明/提示

**【样例解释】**

输入 `ZA` 以后，下一个字符可能是 `G`（终点站有可能是 `ZAGREB`），或 `D`（终点站有可能是 `ZADAR`），或 `B`（终点站有可能是 `ZABOK`）。

## 样例 #1

### 输入

```
4
ZAGREB
SISAK
ZADAR
ZABOK
ZA```

### 输出

```
****B*D*
*G******
********
********```

# AI分析结果

### 综合分析与结论
这些题解整体思路都是先找出与已输入字符前缀匹配的目的地，再确定下一个可能的字符并更新键盘状态。主要区别在于使用的数据结构和字符串处理函数不同。多数题解采用模拟的方法，部分使用字典树等数据结构。

### 高评分题解
1. **引领天下的题解（5星）**
    - **关键亮点**：使用`strncmp`函数直接比较字符串前n位，代码简洁高效。
    - **核心代码**：
```cpp
for (short i=0;i<n;i++)if (!strncmp(a[i],s,l)){
    char c=a[i][l];
    if('A'<=c&&c<='E')k[c-'A'+3]=c;
    if('F'<=c&&c<='M')k[c-'A'+4]=c;
    if('N'<=c&&c<='U')k[c-'A'+5]=c;
    if('V'<=c&&c<='Z')k[c-'A'+6]=c;
}
```
    - **核心思想**：遍历所有目的地，用`strncmp`比较前缀，若匹配则根据字符位置更新键盘状态。

2. **Blue_wonders的题解（4星）**
    - **关键亮点**：思路清晰，代码注释详细，易于理解。
    - **核心代码**：
```cpp
for(int i=0;i<l;i++){
    for(int j=1;j<=n;j++){
        if(a[j]==1&&b[j][i]!=s[i])a[j]=0;
    }
}
for(int i=1;i<=n;i++){
    if(a[i]==1)m[b[i][l]-61]=b[i][l];
}
```
    - **核心思想**：先标记不符合前缀的目的地，再将符合的目的地的下一个字符记录到输出数组。

3. **andyli的题解（4星）**
    - **关键亮点**：利用`string`的`substr`函数简化代码，思路简洁。
    - **核心代码**：
```cpp
for (int i = 0; i < n; i++)
    if (A[i].substr(0, readlen) == read && A[i].length() > readlen)
        screen[A[i][readlen] - 'A' + 3] = A[i][readlen];
```
    - **核心思想**：遍历目的地，判断前缀是否匹配且长度足够，若满足则更新屏幕状态。

### 最优关键思路或技巧
- **使用字符串处理函数**：如`strncmp`、`find`、`substr`等，能简化字符串比较和截取操作。
- **标记法**：用数组标记符合条件的字符，方便后续输出处理。

### 可拓展之处
同类型题可能涉及更多复杂的字符串匹配和筛选条件，如大小写混合、特殊字符等。类似算法套路可用于自动补全、搜索提示等场景。

### 推荐题目
1. [P1059 明明的随机数](https://www.luogu.com.cn/problem/P1059)：涉及数据的去重和排序，可练习数组和排序算法。
2. [P1067 多项式输出](https://www.luogu.com.cn/problem/P1067)：需要处理字符串的拼接和输出格式，锻炼字符串处理能力。
3. [P1071 潜伏者](https://www.luogu.com.cn/problem/P1071)：涉及字符串的加密和解密，可加深对字符映射的理解。

### 个人心得摘录与总结
- **引领天下**：抢到全网最优解后发题解，强调`strncmp`函数好用。
- **ShaeKnight**：因太菜不会用高大上函数，只能用`find`。
- **灵光一闪**：唯一一次没编译就一波A，很感动。

这些心得体现了不同水平的选手在解题过程中的感受，也提醒我们要善于利用合适的工具和函数来解决问题。 

---
处理用时：25.46秒
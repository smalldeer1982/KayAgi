# 题目信息

# [USACO22FEB] Blocks B

## 题目描述

为了提高词汇量，母牛贝西得到了一套四块木块，其中每块都是一个立方体，六面各写着一个字母。她正在通过将木块排成一排使得木块顶部的字母拼出单词来学习拼写。

给定 Bessie 的四个木块上的字母，以及她想拼写的单词列表，请确定列表中哪些单词可被她使用木块成功拼写。

## 样例 #1

### 输入

```
6
MOOOOO
OOOOOO
ABCDEF
UVWXYZ
COW
MOO
ZOO
MOVE
CODE
FARM```

### 输出

```
YES
NO
YES
YES
NO
NO```

# AI分析结果

### 综合分析与结论
这些题解均采用搜索算法解决问题，核心思路是枚举所有可能的字母组合来判断能否拼出目标单词。不同题解在具体实现上有所差异，有的使用桶记录字母出现次数，有的通过全排列枚举正方体顺序，有的则直接递归搜索。

### 所选题解
- **作者：Ginger_he（5星）**
    - **关键亮点**：思路清晰，使用桶记录字母出现次数，通过 `dfs` 枚举每个字符串选的字母，代码简洁易懂。
    - **核心代码**：
```cpp
void dfs(int x)
{
    if(flag)
        return;
    if(x==5)
    {
        for(int i=1;i<=26;i++)
        {
            if(a[i]>b[i])
                return;
        }
        flag=1;
        return;
    }
    for(int i=1;i<=6;i++)
    {
        b[s[x][i]-'A'+1]++;
        dfs(x+1);
        b[s[x][i]-'A'+1]--;
    }
}
```
核心实现思想：通过 `dfs` 枚举从每个字符串中选的字母，用桶 `b` 记录出现次数，当枚举完四个字符串后，检查 `b` 中各字母出现次数是否不少于目标单词中对应字母出现次数。

- **作者：苏联小渣（4星）**
    - **关键亮点**：通过全排列枚举正方体顺序，在每个正方体中选一个字母，搜索过程中随时判断组成的单词是否与目标单词相符。
    - **核心代码**：
```cpp
void dfs(int k, string st, string s2){
    if (st == s2) jud = 1;
    for (int i=1; i<=4; i++){
        if (!vis[i]){
            vis[i] = 1;
            for (int j=1; j<=6; j++){
                if (i == 1) dfs(k+1, st+a[j], s2);
                if (i == 2) dfs(k+1, st+b[j], s2);
                if (i == 3) dfs(k+1, st+c[j], s2);
                if (i == 4) dfs(k+1, st+d[j], s2);
            }
            vis[i] = 0;
        }
    }
}
```
核心实现思想：通过 `dfs` 枚举正方体的全排列，在每个正方体中选一个字母添加到当前字符串 `st` 中，若 `st` 与目标单词 `s2` 相等则标记为可拼出。

- **作者：oddy（4星）**
    - **关键亮点**：利用递归函数返回值判断是否有可行解，使用 `push_back` 方法添加字符优化时间复杂度。
    - **核心代码**：
```cpp
bool dfs(int k) {
    if(k > t.size())
        return str == t;
    for(int i = 1; i <= 4; i++) if(!vis[i]) for(auto ch : s[i]) {
        str.push_back(ch);
        vis[i] = true;
        if(dfs(k+1)) return true;
        str.pop_back();
        vis[i] = false;
    }
    return false;
}
```
核心实现思想：通过 `dfs` 枚举每个可用集的字符添加到 `str` 中，若枚举完后 `str` 与目标单词 `t` 相等则返回 `true`，否则继续搜索。

### 最优关键思路或技巧
- 使用桶记录字母出现次数，方便判断能否拼出单词。
- 利用递归函数返回值，一旦找到可行解立即返回，减少不必要的搜索。
- 使用 `push_back` 方法添加字符，时间复杂度为 $O(1)$。

### 拓展思路
同类型题可拓展到更多正方体或更多面的情况，也可改变目标单词的长度限制。类似算法套路为深度优先搜索枚举所有可能组合，通过剪枝或记录状态减少搜索空间。

### 推荐题目
- P1706 全排列问题
- P1036 选数
- P1135 奇怪的电梯

### 个人心得
题解中未包含个人心得。 

---
处理用时：22.74秒
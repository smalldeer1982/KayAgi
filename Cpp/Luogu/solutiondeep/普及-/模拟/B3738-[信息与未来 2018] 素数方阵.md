# 题目信息

# [信息与未来 2018] 素数方阵

## 题目描述

把前 $n^2$ 个素数从左上角开始按右、下、左、上、右、下、左、上……的顺序填入 $n×n$ 的方阵就得到了蛇形素数方阵。以下是 $n = 4$ 和 $n = 5$ 的蛇形素数方阵：

![](https://cdn.luogu.com.cn/upload/image_hosting/sgevwlzo.png)

给出 $n$，你的任务是求出 $n × n$ 的蛇形素数方阵，并输出其中某个方格中的数值。

素数，又称质数，是指除 $1$ 和其自身之外，没有其他约数的大于 $1$ 的正整数。

## 说明/提示

### 样例解释
参考上图 $n = 5$。
### 数据规模
所有数据满足 $1 ≤ x,y\le n ≤ 20$。

> 本题原始满分为 $15\text{pts}$。

## 样例 #1

### 输入

```
5 1 4```

### 输出

```
7```

## 样例 #2

### 输入

```
5 4 3```

### 输出

```
79```

# AI分析结果

由于暂无题解，以下提供通用建议与扩展思路：

### 通用建议
1. **生成素数表**：可以使用埃拉托色尼筛法（Sieve of Eratosthenes）高效地生成前 $n^2$ 个素数。该算法的核心思想是从2开始，将每个素数的倍数都标记为合数，剩下未标记的就是素数。
2. **蛇形填充**：按照右、下、左、上的顺序填充方阵。可以通过设置方向变量（如 `dx` 和 `dy` 数组表示方向），并在边界或已填充位置时改变方向来实现。
3. **定位数值**：根据输入的坐标 $(x, y)$ 直接从填充好的方阵中获取对应位置的值。

### 扩展思路
1. **同类型题**：此类题目属于矩阵填充与数值查找结合的问题，类似的还有螺旋矩阵填充、回形矩阵填充等题目，解题思路通常围绕特定的填充规则和高效的数据访问。
2. **算法套路**：对于这类矩阵填充问题，关键在于清晰地定义填充方向和边界条件。在生成素数时，除了埃氏筛法，还可考虑线性筛法（欧拉筛）进一步优化时间复杂度。

### 推荐题目
1. **P1162 填涂颜色**：考察对矩阵的遍历和标记操作，与本题对矩阵的操作有相似之处。
2. **P5733 螺旋矩阵**：同样是螺旋状填充矩阵的问题，可锻炼对矩阵填充规则的掌握。
3. **P1306 斐波那契公约数**：虽然主要考察数论知识，但在生成数据（斐波那契数列）和处理数据上与本题生成素数表及后续操作有类似思维过程。 

---
处理用时：10.13秒
# 题目信息

# [语言月赛 202311] 方程求解

## 题目描述

小 A 有 $n$ 个关于 $x$ 的方程，第 $i$ 个方程形如 $a_ix_i+b_i=c_i$。方程的解 $x$ 均为正整数，例如下面几个方程都是符合要求的方程：

```
2x+4=10
-3x+13=10
4x-8=16
```

其中，第一组方程的解为 $x_1=3$，第二组方程的解为 $x_2=1$，第三组方程的解为 $x_3=6$。

小 A 想要知道，给定 $L,R$，在 $L\leq x\leq R$ 的范围内，有多少个正整数 $x$ 满足 $x$ 是其中至少一个方程的解。为了防止你欺骗他，他会询问你 $Q$ 次。

## 说明/提示

**【样例解释】**

对于第一组样例，即为题目中的举例。三组方程的解分别为 $x_1=3,x_2=1,x_3=6$。则：

- 对于 $1\leq x\leq 6$ 的范围，有 $3$ 个 $x$ 的取值（$x=1,3,6$）是其中至少一个方程的解；
- 对于 $1\leq x\leq 8$ 的范围，同上所述；
- 对于 $3\leq x\leq 6$ 的范围，有 $2$ 个 $x$ 的取值（$x=3,6$）是其中至少一个方程的解；
- 对于 $4\leq x\leq 5$ 的范围，不存在一个 $x$ 是其中至少一个方程的解；
- 因此分别输出 $3,3,2,0$。

对于第二组样例，五组方程的解分别为 $x_1=3,x_2=5,x_3=5,x_4=3,x_5=3$。则：

- 对于 $1\leq x\leq 3$ 的范围，只有 $x=3$ 满足是其中至少一个方程的解；
- 对于 $1\leq x\leq 5$ 的范围，有 $2$ 个 $x$ 的取值（$x=3,5$）是其中至少一个方程的解；
- 对于 $3\leq x\leq 5$ 的范围，有 $2$ 个 $x$ 的取值（$x=3,5$）是其中至少一个方程的解；
- 因此分别输出 $1,2,2$。

**【数据范围】**

数据保证，$1\leq n,Q\leq 1000$，方程中 $a_i,b_i,c_i$ 满足 $1 \leq |a_i|,|b_i|,|c_i| \leq 2000$，每一组方程的解 $x_i$ 必定为正整数。询问时的 $L,R$ 满足 $1\leq L\leq R\leq 1000$。

本题前八个测试点每个测试点 8 分，后四个测试点每个测试点 9 分。

## 样例 #1

### 输入

```
3 4
2x+4=10
-3x+13=10
4x-8=16
1 6
1 8
3 6
4 5```

### 输出

```
3
3
2
0```

## 样例 #2

### 输入

```
5 3
5x-2=13
8x+5=45
4x-12=8
-2x+10=4
3x-7=2
1 3
1 5
3 5```

### 输出

```
1
2
2```

# AI分析结果

### 综合分析与结论
该题要求求解多个一元一次方程，并统计给定区间内满足至少一个方程解的正整数个数。各题解主要围绕如何提取方程系数、求解方程以及统计解的个数展开。

### 所选的题解
#### 作者：chen_zhe（5星）
- **关键亮点**：思路清晰，详细阐述了求解方程的数学原理，以及提取方程系数的两种方法（自定义读入过滤非数字字符和使用scanf格式化读入），并针对较小数据范围提出利用桶思想统计解的个数的简单有效方法。
- **核心实现思想**：先通过提取方程系数求解方程，将解记录在桶数组中标记，每次询问时遍历桶数组对应区间统计标记为1的个数。
```cpp
// 伪代码示意核心部分
int c[1001] = {0};
// 假设已通过某种方式提取系数a,b,c并求解方程得到解x
// 标记解
if (x >= 1 && x <= 1000) {
    c[x] = 1;
}
// 询问部分
int L, R;
cin >> L >> R;
int cnt = 0;
for (int i = L; i <= R; i++) {
    if (c[i] == 1) {
        cnt++;
    }
}
cout << cnt << endl;
```

### 最优关键思路或技巧
1. **利用桶思想**：对于小数据范围，通过桶数组标记方程的解，方便快速统计给定区间内满足条件的解的个数。
2. **字符串处理技巧**：如使用scanf进行字符串格式化读入，快速提取方程中的系数。

### 同类型题或类似算法套路拓展
此类题目通常围绕方程求解与区间统计。类似套路可应用于其他方程求解后进行区间统计的场景，例如多元一次方程部分解的统计等。

### 洛谷相似题目推荐
1. **P1085 [NOIP2004 普及组] 不高兴的津津**：涉及简单的条件判断与统计，类似本题对满足条件的数据进行计数。
2. **P1909 [NOIP2016 普及组] 买铅笔**：同样是对给定数据进行处理并统计符合条件的结果，锻炼对数据的处理和分析能力。
3. **P5733 【深基6.例12】数列求和**：通过循环处理数据并统计结果，与本题通过循环统计桶数组标记情况类似。 

---
处理用时：21.06秒
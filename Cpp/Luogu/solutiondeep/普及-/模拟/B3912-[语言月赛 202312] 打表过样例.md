# 题目信息

# [语言月赛 202312] 打表过样例

## 题目背景

众所周知，一名负责任的出题人，不应当让如下的打表程序获得过多的分数。

```cpp
#include<iostream>
int main() {
    std::cout << "Specific Value\n";
}
```

> 这个程序的功能是，输出一个特定的内容，以尝试通过一些测试点而获得分数。
> 
> 经典的例子是：<https://www.luogu.com.cn/problem/P8819>，输出无解可以获得 45 分的成绩。

## 题目描述

很不幸，你遇到了不负责任的出题人。

在某道试题里，共有 $N$ 个测试点，组成了 $k$ 个 Subtask，第 $i$ 个 Subtask 包含 $p_i$ 个测试点，第 $j$ 个测试点的编号为 $w_{i,j}$。请注意，一个测试点可能属于多个 Subtask。

> **Subtask**
>
> 每个 Subtask 包含多个测试点和一个分值，当且仅当通过全部这些测试点时，才能获得这个 Subtask 的分值。一道题目的得分为通过的所有 Subtask 分值之和。

这是一道输出仅有一个数的题目，编号为 $i$ 的测试点，标准答案为 $A_i$。

很不幸，由于命题人不负责任，$A_i$ 中出现了大量重复，让打表选手有了可乘之机。

现在，你通过某种手段获得了全部的数据，请问输出哪个数，可以得到最高的分数？最高的分数是多少？

如果有多个数均可得到最高的分数，你只需要任意给出一个。

## 说明/提示

### 数据规模与约定

- 对于 $30\%$ 的测试数据，$1 \le N \le 100$，$1 \le k,p_i \le 10$，$1 \le A_i \le 100$。
- 对于 $100\%$ 的测试数据，$1 \le N \le 10^5$，$1 \le k,p_i \le 5000$，$1 \le w_{i,j} \le N$，$1 \le S_i \le 10^9$，$1 \leq A _ i \leq 10 ^ 9$。

## 样例 #1

### 输入

```
2
3 1 2 3 5
3 4 5 6 7
6
4 4 4 5 5 5
```

### 输出

```
7
5
```

# AI分析结果

### 综合分析与结论
该题目要求根据给定的测试点和Subtask信息，找出输出哪个数能获得最高分数。现有题解提供了两种解决思路：部分分思路和满分解法。部分分思路采用桶思想统计得分，但由于数据范围限制，无法直接应用于全部数据。满分解法通过结构体数组存储数据并排序，分段统计得分，解决了数据范围过大的问题。整体题解思路清晰，对难点处理得当。

### 所选的题解
- **作者：览遍千秋 (赞：12) - 5星**
  - **关键亮点**：清晰阐述两种解法，从部分分过渡到满分解，对数据范围导致的问题处理巧妙，通过结构体数组存储并排序实现高效统计。
  - **个人心得**：无
  - **核心代码**：
```cpp
// 遍历每个Subtask判断测试点答案是否相同
for(int i = 1; i <= k; i++) {
    bool IsAnswerEqual = true;
    for(int j = 2; j <= p[i]; j++) {
        if(A[w[i][j - 1]]!= A[w[i][j]]) {
            IsAnswerEqual = false;
        }
    }
    if(IsAnswerEqual) {
        ans[++cnt] = {A[w[i][1]], S[i]};
    }
}
// 后续对ans数组按答案值排序后分段统计得分
```
  - **核心实现思想**：遍历每个Subtask，检查其中测试点答案是否一致，若一致则记录答案值及其对应的Subtask分值到结构体数组，后续对结构体数组按答案值排序后，分段统计相同答案值对应的总分值。

### 最优关键思路或技巧
使用结构体数组存储答案值及其对应分值，通过排序将相同答案值的数据聚集在一起，便于分段统计得分，解决了因答案值范围过大无法直接使用桶统计的问题。

### 可拓展思路
此类题目核心在于处理大量数据的统计与分析，类似套路可应用于其他需要对大规模离散数据进行统计、查找最值等场景，如统计不同成绩段的学生人数及对应总分等。

### 相似知识点洛谷题目
- P1083 [NOIP2012 提高组] 借教室：涉及数组操作、前缀和优化以及二分查找，与本题对数据的处理和分析类似。
- P1177 [模板] 快速排序：考察排序算法的应用，本题满分解法中使用排序来辅助统计，与之相关。
- P1308 [NOIP2011 普及组] 统计单词数：涉及字符串处理、统计等操作，与本题统计特定值出现情况有相似之处。 

---
处理用时：18.38秒
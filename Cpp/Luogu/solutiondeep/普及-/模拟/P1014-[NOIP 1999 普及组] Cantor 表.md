# 题目信息

# [NOIP 1999 普及组] Cantor 表

## 题目描述

现代数学的著名证明之一是 Georg Cantor 证明了有理数是可枚举的。他是用下面这一张表来证明这一命题的：

![](https://cdn.luogu.com.cn/upload/image_hosting/jdjdaf73.png)

我们以 Z 字形给上表的每一项编号。第一项是 $1/1$，然后是 $1/2$，$2/1$，$3/1$，$2/2$，…


## 说明/提示

- 2024-11-18 0:30 数据中加入了样例，放在不计分的子任务 2 中。

## 样例 #1

### 输入

```
7
```

### 输出

```
1/4```

# AI分析结果

### 综合分析与结论
这些题解主要围绕Cantor表中按Z字形编号找对应分数的问题，思路可分为模拟和找规律两类。模拟思路通过按Z字形规则逐步移动坐标来确定分数；找规律思路则是发现Z字形斜线的数字数量、分子分母变化等规律，利用等差数列求和公式等知识，通过计算直接得出结果。算法时间复杂度从O(n)到O(1)不等，优化程度越高，代码实现难度相对越大。

### 所选的题解
- **作者：哦哟筷子（4星）**
    - **关键亮点**：思路清晰，先通过循环枚举判断数在编号后的第几行及位置，后提及可利用等差数列求和公式优化时间复杂度从O(n)到O(1)。
    - **个人心得**：作者初入门时认为题目简单，发题解后意识到自身不足，体现学习过程中的成长反思。
    - **核心代码**：
```cpp
#include <bits/stdc++.h>
using namespace std; 
int main() {
    int n,k = 1;
    cin >> n;
    while (n > k) {
        n = n - k;
        k++;
    }
    if (k % 2 == 0) cout << n << "/" << (k + 1 - n);
    else cout << k + 1 - n << "/" << n;
    return 0;
} 
```
    - **核心思想**：用`while`循环，每次`n`减去递增的`k`，确定`n`所在行`k`，再根据`k`的奇偶性确定分子分母输出结果。
- **作者：「已注销」（4星）**
    - **关键亮点**：提出多种算法，从模拟到利用Z字形斜线规律枚举，再到二分优化，覆盖不同时间复杂度，适用不同数据规模。
    - **核心代码（二分）**：
```cpp
#include<iostream>
#include<cmath>
using namespace std;
int main() {
    long long l = 1, r, mid, n, a;
    cin >> n;
    r = n;
    while (l < r) {
        mid = (l + r) / 2;
        if (mid * (mid + 1) / 2 < n) l = mid + 1;
        else r = mid;
    }
    a = n - l * (l - 1) / 2;
    if (l % 2 == 0) cout << a << '/' << l + 1 - a;
    else cout << l + 1 - a << '/' << a;
    return 0;
}
```
    - **核心思想**：二分查找分子分母之和`l`，确定`n`所在斜线，通过`n`减去前`l - 1`条斜线数字总数得到在当前斜线位置`a`，再依`l`的奇偶性输出分数。
- **作者：wmxwmx（4星）**
    - **关键亮点**：纯数学推导，利用等差数列求和公式和求根公式，直接在O(1)时间复杂度内算出结果，理论性强。
    - **核心思想**：通过建立不等式$\frac{a\times (a - 1)}{2}< n\leq \frac{(1 + a)\times a}{2}$，设$x$使$\frac{(1 + x)\times x}{2}=n$，用求根公式求出$x$并向上取整得到行数$a$，再算出所在行具体位置，根据行数奇偶确定分子分母。

### 最优关键思路或技巧
利用等差数列求和公式确定数所在斜线（行），结合斜线（行）的奇偶性及数在该行位置确定分子分母，可优化时间复杂度。如通过公式$\frac{k(k - 1)}{2}< n\leq \frac{k(k + 1)}{2}$确定$k$（行数），再计算数在该行位置，依奇偶性得出分子分母。

### 可拓展思路
此类题目属于找规律的数列问题，类似套路是观察数列排列规律，结合数学知识（如等差数列、等比数列等）建立模型求解。同类型题可考虑数字按特定顺序排列找某位置元素，或已知元素找其位置等。

### 相似知识点洛谷题目
- **P1009 [NOIP1998 普及组] 阶乘之和**：涉及数列规律与高精度运算。
- **P1060 [NOIP2006 普及组] 开心的金明**：通过分析物品价值和重量关系找最优解，与本题找规律确定结果思路类似。
- **P1217 [USACO1.5] 回文质数 Prime Palindromes**：结合质数判断与回文数规律，考察找规律和数论知识。 

---
处理用时：34.18秒
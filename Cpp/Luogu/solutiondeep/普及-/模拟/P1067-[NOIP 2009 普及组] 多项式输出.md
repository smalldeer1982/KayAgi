# 题目信息

# [NOIP 2009 普及组] 多项式输出

## 题目描述

一元 $n$ 次多项式可用如下的表达式表示：

$$f(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots +a_1x+a_0,a_n\ne 0$$

其中，$a_ix^i$ 称为 $i$ 次项，$a_i$ 称为 $i$ 次项的系数。给出一个一元多项式各项的次数和系数，请按照如下规定的格式要求输出该多项式：

1. 多项式中自变量为 $x$，从左到右按照次数递减顺序给出多项式。

2. 多项式中只包含系数不为 $0$ 的项。

3. 如果多项式 $n$ 次项系数为正，则多项式开头不出 `+` 号，如果多项式 $n$ 次项系数为负，则多项式以 `-` 号开头。

4. 对于不是最高次的项，以 `+` 号或者 `-` 号连接此项与前一项，分别表示此项系数为正或者系数为负。紧跟一个正整数，表示此项系数的绝对值（如果一个高于 $0$ 次的项，其系数的绝对值为 $1$，则无需输出 $1$）。如果 $x$ 的指数大于 $1$，则接下来紧跟的指数部分的形式为“$x^b$”，其中 $b$ 为 $x$ 的指数；如果 $x$ 的指数为 $1$，则接下来紧跟的指数部分形式为 $x$；如果 $x$ 的指数为 $0$，则仅需输出系数即可。

5. 多项式中，多项式的开头、结尾不含多余的空格。


## 说明/提示

NOIP 2009 普及组 第一题

对于100%数据，$0 \le n \le 100$，$-100 \le $系数$ \le 100$

---

$\text{upd 2022.8.1}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 
100 -1 1 -3 0 10```

### 输出

```
100x^5-x^4+x^3-3x^2+10```

## 样例 #2

### 输入

```
3 
-50 0 0 1 
```

### 输出

```
-50x^3+1 
```

# AI分析结果

### 综合分析与结论
这些题解思路总体一致，均为按照题目要求模拟多项式输出过程。算法要点在于按次数从高到低遍历系数，根据系数和次数的不同情况，分情况处理符号、系数、自变量及次数的输出。难点主要集中在处理各种边界情况，如系数为0、±1，次数为0、1，以及多项式开头和结尾的符号输出等。多数题解通过分情况判断来解决这些难点，但在代码实现的简洁性、可读性以及逻辑清晰度上存在差异。

### 所选的题解
#### 作者：Loyal_Soldier (5星)
- **关键亮点**：思路清晰，代码简洁明了。通过简洁的条件判断，将不同情况分别处理，逻辑清晰，易于理解。
- **重点代码**
```cpp
for(int i=n;i>=0;i--){//注意，循环要从大到小
    int x;
    cin>>x;
    if(x){
        if(i!=n&&x>0)
            cout<<'+';
        if(i!=0&&x==-1)
            cout<<'-';
        if(abs(x)>1||i==0)
            cout<<x;
        if(i>1)
            cout<<"x^"<<i;
        if(i==1)
            cout<<'x';
    }
}
```
核心实现思想：从最高次项到最低次项遍历系数，对每个非零系数，根据其是否为最高次项、是否为 -1、绝对值是否大于1以及次数是否大于1等不同情况，分别输出符号、系数、自变量及次数。

#### 作者：邪王真眼Rikka (4星)
- **关键亮点**：将输出过程分为符号、系数、幂三个阶段判断，使代码逻辑较为清晰，便于理解和维护。
- **重点代码**
```cpp
flag=1;
for(i=n; i>=0; i--)
{
    if(a[i]==0)continue;//已判定此时系数不为0
    if((flag==1&&a[i]<0)||(a[i]<0))
    {
        printf("-");
    }
    else if(flag==0&&a[i]>0) printf("+"); //正负号判定
    if(a[i]!=0&&flag==1)flag=0;
    if(abs(a[i])!=1||i==0)printf("%d",abs(a[i]));//系数判定
    if(i>1)printf("x^%d",i);
    if(i==1)printf("x");
}
```
核心实现思想：通过flag标记是否为第一项，在遍历过程中，先判断符号输出，再判断系数输出，最后根据次数判断幂的输出。

#### 作者：qhr2023 (4星)
- **关键亮点**：思路直接，对每项的符号、系数、自变量及次数的输出规则描述清晰，代码实现简洁。
- **重点代码**
```cpp
for(int i=n; i>=0; i--){
    cin >> a;
    if(a){
        if(i<n&&a>0) cout << '+';
        if(abs(a)>1||i==0) cout << a;
        if(a==-1&&i) cout << '-';
        if(i>0) cout << 'x';
        if(i>1) cout << '^' << i;
    }
}
```
核心实现思想：从高次项到低次项遍历输入的系数，对非零系数，按符号、系数、自变量、次数的顺序，依据相应规则进行输出。

### 最优关键思路或技巧
1. **分情况讨论**：针对系数为0、±1，次数为0、1等不同情况分别处理，确保输出符合题目要求。
2. **有序输出**：按次数从高到低遍历系数，依次处理符号、系数、自变量及次数的输出，使逻辑清晰。

### 可拓展思路
此类题目属于模拟类问题，类似套路是仔细分析题目给定的规则，将复杂的输出规则拆解为多个简单的条件判断。同类型题常见于各种按照特定格式输出或处理数据的场景，例如格式化输出数学表达式、处理特定格式的文本等。

### 相似知识点洛谷题目
1. [P1004 方格取数](https://www.luogu.com.cn/problem/P1004)：涉及按特定规则遍历和处理数据，与本题按规则输出多项式类似。
2. [P1010 幂次方](https://www.luogu.com.cn/problem/P1010)：需要根据数字特点按特定格式输出，和本题按规则输出多项式思路相近。
3. [P1046 陶陶摘苹果（升级版）](https://www.luogu.com.cn/problem/P1046)：根据不同条件对数据进行处理和输出，与本题处理方式类似。

### 个人心得摘录与总结
部分题解提到本题坑点较多，如系数为 -1,1 时的输出，指数为1、0时的输出，以及输出多余符号等问题。总结来看，解决这类模拟题需仔细研读题目要求，对边界条件和特殊情况进行全面考虑，在代码实现时注重细节处理，通过多测试不同边界数据来确保程序的正确性。 

---
处理用时：54.74秒
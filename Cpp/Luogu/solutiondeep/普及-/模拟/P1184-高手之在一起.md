# 题目信息

# 高手之在一起

## 题目背景

高手是可以复活的，这点我们大家都知道。


## 题目描述

高手列出了一个详尽的日程表，这次他要追求的则是一个心灵纯洁的小萝莉。他和她都是要上课的，但是也会有时间空闲，于是高手决定无时无刻都要跟着她。为了她，高手决定转学到一年级。

现在高手已经花重金买下了她的日程表，每一天都会有她的行踪。现在列出了高手方便去的地方。其中方便去的地方可以去无限次，不方便去的地方不能去。

一共有 $n$ 个方便去的地点，$m$ 天。高手想知道他在这 $m$ 天中，最多能和她在一起多久。不方便去的地方是不会列出的。


## 说明/提示

$1 \leq m \leq 1000000$，$1 \leq n \leq 20$。


## 样例 #1

### 输入

```
1 2
WC
CLASS
WC
```

### 输出

```
1
```

# AI分析结果

• 综合分析与结论：
    - 思路方面，多数题解通过读入高手方便去的地点和小萝莉每天去的地点，然后进行匹配计数，得出高手能和小萝莉在一起的天数。
    - 算法要点上，主要使用了暴力匹配、map、set、trie树、哈希等数据结构和算法。暴力匹配即直接遍历比较每个地点；map和set利用其查找特性；trie树适合字符串匹配场景；哈希通过映射减少查找时间。
    - 解决难点在于处理输入数据中的空格和换行符问题。不同系统换行符表示不同，且输入字符串可能含空格，需特殊处理读入方式。
    - 整体来看，各题解质量参差不齐，部分题解对思路和代码解释较详细，部分较简略。多数题解能解决问题，但在代码可读性和优化程度上有提升空间。

所选的题解：
 - 作者：Jelly_Goat (赞：72)，星级：4星
    - 关键亮点：使用STL的set<string>解决问题，详细解释了set的基本操作如插入、查找等，对题目中输入数据的处理（包括处理Windows系统下换行符及字符串含空格问题）讲解清晰，代码注释详细。
    - 个人心得：无
    - 重点代码及核心实现思想：
```cpp
#include <iostream>
#include <cstdio>
#include <string>
#include <set>
using namespace std;
int main()
{
    string input;
    set<string>qwq;
    int n,m,ans=0;
    scanf("%d%d",&n,&m);
    getline(cin,input);
    for (register int i=1;i<=n;i++)
    {
        getline(cin,input);
        if (input[input.size()-1]!=(char)13)
            input=input+char(13);
        qwq.insert(input);
    }
    for (register int i=1;i<=m;i++)
    {
        getline(cin,input);
        if (input[input.size()-1]!=(char)13)
            input=input+char(13);
        if (qwq.find(input)!=qwq.end())ans++;
    }
    cout<<ans;
    return 0;
}
```
核心思想是先将高手方便去的地点插入set中，再对小萝莉每天去的地点在set中查找，若找到则计数加一。

 - 作者：longyuxuan (赞：46)，星级：4星
    - 关键亮点：简洁地指出读入数字后要吃掉换行符、地点可能含空格以及洛谷平台使用getline后会在字符后加ASCII码为13的字符这几个关键问题，并给出清晰的代码实现。
    - 个人心得：无
    - 重点代码及核心实现思想：
```cpp
#include<bits/stdc++.h>
using namespace std;
string gs[21],ll;
int n,m,ans=0;
int main()
{
    cin>>n>>m;
    getline(cin,ll);
    for(int i=1;i<=n;i++)
      getline(cin,gs[i]);
    for(int i=1;i<=m;i++)
    {
        getline(cin,ll);
         if(ll[ll.size()-1]!=13)ll=ll+(char)13;
        for(int j=1;j<=n;j++)
          if(ll==gs[j])
          {
              ans++;
              break;
          }
    }
    cout<<ans;
    return 0;
}
```
核心是暴力匹配，读入数据后，对小萝莉每天去的地点与高手方便去的地点数组逐一比较，相同则计数增加。

 - 作者：zhenghaishu (赞：27)，星级：4星
    - 关键亮点：提供了三种解法，分别使用map、set和getline函数，并对每种解法进行了详细分析，包括对Windows和Linux系统换行符区别的讲解，知识覆盖面广。
    - 个人心得：无
    - 重点代码及核心实现思想（解法二，使用set）：
```cpp
#include <iostream>
#include <set>
#include <cstdio>
using namespace std;
int n, m;
string place;
int ans = 0;
set<string> s;
int main()
{
    cin >> n >> m;
    for(int i = 1; i <= n; i++)
    {
        cin >> place;
        string tmp;
        while(getchar() == ' ')
        {
            cin >> tmp;
            place += tmp;
        }
        s.insert(place);
    }
    for(int i = 1; i <= m; i++)
    {
        cin >> place;
        string tmp;
        while(getchar() == ' ')
        {
            cin >> tmp;
            place += tmp;
        }
        if(s.count(place))
        {
            ans++;
        }
    }
    cout << ans;
    return 0;
}
```
先将高手方便去的地点插入set，再对小萝莉去的地点利用set的count函数判断是否存在，存在则计数增加。

最优关键思路或技巧：
 - 数据结构选择上，当数据范围较小时（如本题n <= 20），map和set能有效利用其查找特性，以较优的时间复杂度解决字符串匹配问题，代码实现也相对简洁。
 - 输入处理方面，针对可能出现的空格和不同系统换行符差异，使用getline函数并结合对行末字符的判断和处理，能准确读入数据。

可拓展之处：同类型题常涉及字符串匹配与数据处理，类似算法套路是根据数据规模和特点选择合适的数据结构。如数据规模大时，trie树、哈希等可能更优；规模小时，简单暴力匹配或使用map、set即可。

推荐题目：
 - P3370 【模板】字符串哈希，考察字符串哈希算法。
 - P2580 [ZJOI2006] 书架，涉及字符串处理和数据结构应用。
 - P1308 统计单词数，考查字符串匹配与计数。

个人心得摘录与总结：
 - Jelly_Goat提到题目测试点在Windows系统下生成，读入数据需特判（吃掉或加上）char(13)，且字符串可能含空格所以用getline读入。总结为要注意不同系统下换行符差异及输入字符串的格式问题。
 - longyuxuan指出读入数字后要吃掉换行符，地点含空格以及洛谷平台getline的特殊问题。强调了输入细节处理对AC的重要性。 

---
处理用时：58.62秒
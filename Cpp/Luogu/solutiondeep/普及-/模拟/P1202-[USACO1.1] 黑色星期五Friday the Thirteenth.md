# 题目信息

# [USACO1.1] 黑色星期五Friday the Thirteenth

## 题目描述

$13$ 号又是一个星期五，那么 $13$号在星期五比在其他日子少吗？  

为了回答这个问题，写一个程序，要求计算每个月的十三号落在周一到周日的次数。给出 $n$ 年的一个周期，要求计算 $1900$ 年 $1$ 月 $1$ 日至 $1900+n-1$ 年 $12$ 月 $31$ 日中十三号落在周一到周日的次数。

这里有一些你要知道的:

1. $1900$ 年 $1$ 月 $1$ 日是星期一。
2. $4,6,11$ 和 $9$ 月有 $30$ 天，其他月份除了 $2$ 月都有 $31$ 天，闰年 $2$ 月有 $29$ 天，平年 $2$ 月有 $28$ 天。
3. 年份可以被 $4$ 整除的为闰年（$1992=4\times 498$ 所以 $1992$ 年是闰年，但是 $1990$ 年不是闰年）。
4. 以上规则不适合于世纪年。可以被 $400$ 整除的世纪年为闰年，否则为平年。所以，$1700,1800,1900,2100$ 年是平年，而 $2000$ 年是闰年。



## 说明/提示

【数据范围】  
对于 $100\%$ 的数据，$1\le n \le 400$。

题目翻译来自NOCOW。

USACO Training Section 1.1


## 样例 #1

### 输入

```
20
```

### 输出

```
36 33 34 33 35 35 34
```

# AI分析结果

### 综合分析与结论
这些题解主要围绕计算1900年1月1日至1900 + n - 1年12月31日中每月13号落在周一到周日的次数这一问题展开。思路上可分为模拟法和公式法：
 - **模拟法**：
    - **逐年逐月逐日模拟**：从1900年1月1日开始，按日期递增模拟，判断是否为13号，若是则统计对应星期几的次数，同时注意闰年判断及日期、星期的进位处理。
    - **逐月模拟**：利用每月天数计算下月13号是星期几，减少循环次数，同样要注意闰年对二月天数的影响。
 - **公式法**：运用基姆拉尔森计算公式或蔡勒公式，通过给定日期直接算出是星期几，减少模拟过程，提高效率。

各题解质量参差不齐，部分题解代码冗长、可读性差，部分题解思路清晰、代码简洁。

### 所选的题解
- **作者：HEIGE (赞：80)  星级：5星**
    - **关键亮点**：使用基姆拉尔森计算公式，直接通过年月日求出当天星期，避免复杂模拟，代码简洁高效，思路清晰明了。
    - **重点代码**：
```cpp
int week_day(int year, int month, int day)	//the function which converts date to week *will return 0 for Sunday
{
    if (month == 1 || month == 2) month += 12, year--;	//process the special cases for Jan and Feb
    return (day + 2 * month + 3 * (month + 1) / 5 + year + year / 4 - year / 100 + year / 400 + 1) % 7;	//the Kim larsen calculation formula!
}
int main()
{
    int year_len = 0;
    cin >> year_len;
    int count[7] = {0};
    for (int current_year = 1900; current_year < 1900 + year_len; current_year++)
        for (int current_month = 1; current_month <= 12; current_month++)
            count[week_day(current_year, current_month, 13)]++;
    cout << count[6] << " "<<count[0]<< " "<<count[1]<< " "<<count[2]<< " "<<count[3]<< " "<<count[4]<< " "<<count[5];
    return 0;
}
```
    - **核心实现思想**：定义`week_day`函数实现基姆拉尔森计算公式，在`main`函数中循环年份和月份，调用`week_day`函数计算每月13号是星期几，并统计次数。

- **作者：MissLXCYu (赞：1)  星级：4星**
    - **关键亮点**：通过记录上一个月13号是星期几，加上上一个月日期，取余得到本月13号是星期几，思路简洁，代码清晰。
    - **重点代码**：
```cpp
bool check(int n){//判断闰年 
    if(n%4!=0||(n%100==0&&n%400!=0)) return 0;
    return 1;
}
int main()
{
    int n;
    cin>>n;
    int cnt[7];
    memset(cnt,0,sizeof(cnt));
    int day=3;
    for(int i=0;i<n;++i)
        for(int j=1;j<=12;++j)
            switch(j){
                case 1 :day+=31;day%=7;cnt[day]++;break;
                case 2 :day+=31;day%=7;cnt[day]++;break;
                case 3 :if(check(1900+i)) 
                            day+=29,day%=7;
                        else 
                            day+=28,day%=7;
                        cnt[day]++;break;
                case 4 :day+=31;day%=7;cnt[day]++;break;
                case 5 :day+=30;day%=7;cnt[day]++;break;
                case 6 :day+=31;day%=7;cnt[day]++;break;
                case 7 :day+=30;day%=7;cnt[day]++;break;
                case 8 :day+=31;day%=7;cnt[day]++;break;
                case 9 :day+=31;day%=7;cnt[day]++;break;
                case 10 :day+=30;day%=7;cnt[day]++;break;
                case 11 :day+=31;day%=7;cnt[day]++;break;
                case 12 :day+=30;day%=7;cnt[day]++;break;
            }
    cout<<cnt[6]<<" ";//从周六开始输出 
    for(int i=0;i<=5;++i)
        cout<<cnt[i]<<" ";
    cout<<endl;
    return 0;
}
```
    - **核心实现思想**：先定义`check`函数判断闰年，在`main`函数中通过`switch`语句根据月份和是否闰年累加天数并取余，统计每月13号对应星期几的次数。

- **作者：buickboy (赞：5)  星级：4星**
    - **关键亮点**：通过计算每月13日与上月13日的间隔天数确定当月13日的星期数，简化模拟过程，代码简洁，逻辑清晰。
    - **重点代码**：
```cpp
int b[8],m[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};//周几作b桶，1 - 12月天数列到m数组 
int main()
{
    int n,i,j,x=3;//1899.12.13为周三，作为x初始值 
    scanf("%d",&n);//总计年度数 
    for(i=1900;i<=1900+n-1;++i)
    {
        if((i%4==0&&i%100!=0)||i%400==0) m[2]=29;
        else m[2]=28;
        for(j=1;j<=12;++j)
        {
            if(j==1)
                x=(m[12]+x)%7;
            else x=(m[j-1]+x)%7;
            b[x]++;
        }
    }
    printf("%d",b[6]);//周六数
    for(i=0;i<=5;++i)
        printf(" %d",b[i]);//周日 - 周五数
    return 0;
}
```
    - **核心实现思想**：外循环遍历年份确定二月天数，内循环遍历月份，根据上月末天数和上月13日星期数计算当月13日星期数并统计。

### 最优关键思路或技巧
使用公式法（如基姆拉尔森计算公式）可直接计算出日期对应的星期，避免繁琐的日期模拟过程，大大提高效率和简化代码。若采用模拟法，通过记录上月13号星期数和上月天数来计算本月13号星期数，减少循环次数，优化模拟过程。

### 可拓展之处
此类题目属于日期计算与统计问题，类似套路包括对日期规则的理解与运用，如闰年、每月天数等。同类型题可涉及不同起始日期、不同时间跨度、不同统计要求等。例如计算某时间段内特定日期组合出现的次数，或根据给定日期范围统计星期分布等。

### 相似知识点洛谷题目
 - [P1909 买铅笔](https://www.luogu.com.cn/problem/P1909)：虽不是日期问题，但同样需要根据给定条件进行计算和统计，考察对条件的分析与运用能力。
 - [P1085 [NOIP2004 普及组] 不高兴的津津](https://www.luogu.com.cn/problem/P1085)：涉及简单的时间和条件判断，与本题对条件的处理和计算有相似之处。
 - [P1149 火柴棒等式](https://www.luogu.com.cn/problem/P1149)：通过循环和条件判断来统计满足条件的等式数量，与本题统计满足特定日期条件的次数思路类似。

### 个人心得摘录与总结
部分作者提到注意输出顺序是从星期六开始，这是题目中易被忽略的细节，提醒在做题时要仔细审题。还有作者在调试中发现如忘记对某些变量归零等问题，强调了编程中细节处理和调试的重要性。 

---
处理用时：68.88秒
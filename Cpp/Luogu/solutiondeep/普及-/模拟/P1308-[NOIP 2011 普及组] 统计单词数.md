# 题目信息

# [NOIP 2011 普及组] 统计单词数

## 题目描述

一般的文本编辑器都有查找单词的功能，该功能可以快速定位特定单词在文章中的位置，有的还能统计出特定单词在文章中出现的次数。

现在，请你编程实现这一功能，具体要求是：给定一个单词，请你输出它在给定的文章中出现的次数和第一次出现的位置。注意：匹配单词时，不区分大小写，但要求完全匹配，即给定单词必须与文章中的某一独立单词在不区分大小写的情况下完全相同（参见样例 1），如果给定单词仅是文章中某一单词的一部分则不算匹配（参见样例 2）。


## 说明/提示

数据范围

$1\leq $ 第一行单词长度 $\leq10$。

$1\leq $ 文章长度 $\leq10^6$。

noip2011 普及组第 2 题


## 样例 #1

### 输入

```
To
to be or not to be is a question
```

### 输出

```
2 0

```

## 样例 #2

### 输入

```
to
Did the Ottoman Empire lose its power at that time```

### 输出

```
-1```

# AI分析结果

### 综合分析与结论
这些题解的核心思路都是先将输入的单词和文章统一大小写，再通过不同方式判断单词在文章中的匹配情况。主要难点在于如何确保单词是完整匹配，而非部分匹配。各题解在实现方式上有所不同，有的使用双指针遍历，有的借助字符串的查找函数，还有的通过拆分单词来处理。

### 所选的题解
1. **作者：suxy15 (5星)**
    - **关键亮点**：思路清晰，详细阐述读取和处理过程，代码注释详尽，对C语言字符串处理函数运用熟练。
    - **个人心得**：无
    - **核心代码实现思想**：用`scanf`读取单词，`getchar`逐字符读取文章以避免行首空格问题。定义宏将字符转小写，通过双指针`i`（文章）和`j`（单词）遍历，当满足单词头或之前匹配时继续判断，若单词结束且文章下一个字符为空或空格则匹配成功。
    ```c
    // input
    scanf("%s", w);
    c = getchar();
    while((c = getchar())!= EOF && i < MAX_LINE){  
        if(c == '\n') break;
        s[i++] = c;
    } s[i] = '\0';

    // calculate
    for(i=0,j=0; s[i]!='\0'; ++i){
        if((i==0 || s[i-1]==' ' || j) && val(s[i])==val(w[j]) && ++j>-1){
            if(w[j]=='\0' && (s[i+1]=='\0' || s[i+1]==' ')){
                if(first==-1) first = i+1-j;
                count++;
            }
        }else j=0;
    }
    ```
2. **作者：Eason_lyx (4星)**
    - **关键亮点**：博客形式呈现，结构清晰，对每一步代码有详细解释，使用`string`类型及相关函数，代码简洁。
    - **个人心得**：无
    - **核心代码实现思想**：输入单词和文章后，用`tolower`函数将其转小写，遍历文章，遇到空格时判断当前拆分出的单词是否与目标单词相同，统计出现次数和首次位置。
    ```cpp
    cin>>ci;
    for(int i=0;i<ci.size();++i)ci[i]=tolower(ci[i]);
    getchar();
    getline(cin,s);
    s+=' ';
    for(int i=0;i<s.size();++i)s[i]=tolower(s[i]);
    for(int i=0;i<s.size();++i)
    {
        if(s[i]==' '){
            if(dan==ci){
                ans++;
                if(cur==-1)cur=i-ci.size();
            }
            dan="";
        }
        else dan+=s[i];
    }
    ```
3. **作者：wanghonghui123 (4星)**
    - **关键亮点**：思路简洁明了，先对单词和文章字符串前后加空格并统一大小写，再利用`find`函数查找，逻辑清晰。
    - **个人心得**：无
    - **核心代码实现思想**：读入单词和文章，前后加空格并转大写，用`find`函数查找单词，若初始位置为`-1`则无匹配，否则统计出现次数。
    ```cpp
    cin>>c;
    getchar();
    getline(cin,s);
    c = ' '+c+' ';
    s = ' '+s+' ';
    for(int i=0;c[i];i++){
        c[i] = toupper(c[i]);
    }
    for(int i=0;s[i];i++){
        s[i] = toupper(s[i]);
    } 
    int pos = s.find(c);
    int t = pos;
    if(pos==-1){
        cout<<-1;
        return 0; 
    }
    int cnt = 0;
    while(pos!=-1){
        cnt++;
        pos = s.find(c,pos+1);
    }
    cout<<cnt<<' '<<t<<endl;
    ```

### 最优关键思路或技巧
1. **统一大小写**：使用库函数（如`tolower`、`toupper`）或自定义转换方式，将单词和文章统一为大写或小写，简化匹配过程。
2. **保证单词完整匹配**：在单词和文章前后添加空格，利用字符串查找函数（如`find`）或遍历比较，确保找到的是完整单词。

### 同类型题或类似算法套路拓展
此类题目属于字符串匹配问题，常见套路是先预处理字符串（如统一大小写、添加特殊字符辅助匹配），再选择合适的匹配方式（暴力遍历、字符串函数查找等）。类似题目可能会增加限制条件，如匹配时忽略标点符号，或者在更复杂的文本结构（如段落、文档）中查找。

### 洛谷相似题目推荐
1. [P1914 小书童——密码](https://www.luogu.com.cn/problem/P1914)：涉及字符串加密与解密，需对字符串进行字符替换操作，考查字符串处理能力。
2. [P1593 因子和阶乘](https://www.luogu.com.cn/problem/P1593)：虽然重点在数学计算，但需处理输入的数字字符串，涉及字符串与数值转换等操作，与本题处理字符串输入有相似之处。
3. [P1338 末日的传说](https://www.luogu.com.cn/problem/P1338)：通过对字符串的排列组合操作来求解问题，同样需要对字符串进行细致处理和逻辑判断。 

---
处理用时：41.25秒
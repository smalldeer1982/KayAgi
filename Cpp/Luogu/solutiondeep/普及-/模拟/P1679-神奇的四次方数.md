# 题目信息

# 神奇的四次方数

## 题目背景

在你的帮助下，v 神终于帮同学找到了最合适的大学，接下来就要通知同学了。在班级里负责联络网的是 dm 同学，于是 v 神便找到了 dm 同学，可 dm 同学正在忙于研究一道有趣的数学题，为了请 dm 出山，v 神只好请你帮忙解决这道题了。

## 题目描述

将一个整数 $m$ 分解为 $n$ 个四次方数的和的形式，要求 $n$ 最小。例如，当 $m=706$ 时，因为 $706=5^4+3^4$，所以有 $n=2$。可以证明此时 $n$ 最小。

## 说明/提示

### 数据范围及约定

- 对于 $30\%$ 的数据，$m \le 5000$；
- 对于 $100\%$ 的数据，$m \le 100,000$。

## 样例 #1

### 输入

```
706```

### 输出

```
2```

# AI分析结果

• 综合分析与结论：这些题解主要分为两种思路，一是基于搜索的方法，二是基于动态规划（背包问题思想）的方法。搜索方法通过剪枝等优化手段减少无效搜索；动态规划方法将问题建模为完全背包问题，以四次方数为体积，1为价值，通过状态转移方程求解。各题解在思路清晰度、代码可读性和优化程度上有所差异。

所选的题解：
  - **作者：x义x (赞：305)  星级：4星**
    - **关键亮点**：采用爆搜结合剪枝优化，通过ans存储当前最优答案，当搜索中选的数数量大于ans则剪枝；通过last保证选出数列不降序，避免重复方案；从大到小搜索以快速确定较好的解。
    - **个人心得**：比赛想不到正解时，爆搜结合优化也可能解决问题。
    ```cpp
    void dfs(int tot,int k,int last)
    {
        if(k>ans) return; 
        if(tot>n) return; 
        
        if(tot==n) 
        {
            if(ans>k) ans=k;
            return;
        }
        
        int i;
        
        for(i=last;i*i*i*i<=n-tot;) i++;
        
        for(;i>=last;i--) 
            dfs(tot+i*i*i*i,k+1,i);
    }
    ```
  - **作者：frankchenfu (赞：85)  星级：4星**
    - **关键亮点**：运用背包问题思想，先打表存储四次方数，以四次方数为体积，1为物品重量做完全背包（压维），f数组初始化为Inf，f[0]设为0，最终结果为f[m]。
    - **个人心得**：提到若改为平方数，可参考拉格朗日四方和定理。
    ```cpp
    for(int i=1;i<=m;i++)
        f[i]=1e8;
    int n=ceil(sqrt(sqrt(m))+1);
    for(int i=1;i<=n;i++)
        s[i]=i*i*i*i;
    for(int i=1;i<=n;i++)
        for(int j=s[i];j<=m;j++)
            f[j]=min(f[j],f[j-s[i]]+1);
    ```
  - **作者：shijunfeng00 (赞：45)  星级：4星**
    - **关键亮点**：明确指出是完全背包求最小值问题，给出递推关系，将f[i]初始化为inf且f[0]=0，代码简洁明了。
    ```cpp
    memset(f,0xf,sizeof(f));          
    f[0]=0;cin>>m;                      
    for(int i=1;i<=n;i++)
        w[i]=i*i*i*i;
    for(int i=1;i<=n;i++)                    
        for(int v=w[i];v<=m;++v)
        if(f[v]>f[v-w[i]]+1)
            f[v]=f[v-w[i]]+1;
    ```

最优关键思路或技巧：
 - **搜索优化**：在搜索中，通过记录当前最优解进行剪枝，以及保证序列有序避免重复计算，能有效减少搜索量。
 - **背包建模**：将问题转化为完全背包问题，以四次方数为体积，1为价值，利用背包问题的解法求解。

可拓展之处：同类型题可涉及将整数分解为其他次方数之和求最小个数的问题，类似算法套路是转化为背包问题或采用搜索结合剪枝的方法。

推荐洛谷题目：
 - P1048 [NOIP2005 普及组] 采药
 - P1616 疯狂的采药
 - P2918 [USACO08NOV]Buying Hay G 

---
处理用时：34.49秒
# 题目信息

# [NOIP 2013 普及组] 表达式求值

## 题目背景

NOIP2013 普及组 T2

## 题目描述

给定一个只包含加法和乘法的算术表达式，请你编程计算表达式的值。


## 说明/提示

对于 $30\%$ 的数据，$0≤$ 表达式中加法运算符和乘法运算符的总数 $≤100$。

对于 $80\%$ 的数据，$0≤$ 表达式中加法运算符和乘法运算符的总数 $≤1000$。

对于 $100\%$ 的数据，$0≤$ 表达式中加法运算符和乘法运算符的总数 $≤100000$。


## 样例 #1

### 输入

```
1+1*3+4
```

### 输出

```
8```

## 样例 #2

### 输入

```
1+1234567890*1```

### 输出

```
7891```

## 样例 #3

### 输入

```
1+1000000003*1```

### 输出

```
4```

# AI分析结果

### 综合分析与结论
这些题解主要围绕利用栈或顺序处理的方式解决只含加法和乘法的表达式求值问题，并在过程中取模10000。各题解思路和实现方式各有不同：
 - **利用栈的思路**：将数字和符号交替输入，遇到乘号时，对栈顶元素与当前数字进行乘法运算并更新栈顶；遇到加号时，将当前数字入栈。最后累加栈中所有元素得到结果。如wbhpig、_lxc__、niuniudundun、qhr2023、Jerry_zpl等人的题解。
 - **顺序处理思路**：按顺序扫描表达式，将连续乘法运算作为一个块处理，先计算块内乘积，再将各块结果与其他数字相加。如__ykl、_yang_yi_bo_、TainityAnle等人的题解。
 - **特殊解法**：如皎月半洒花使用表达式树，但代码复杂且实现有冗余；multiverse_ 使用scanf一行读入简化输入；da32s1da和菰冭分别用PY2和PY3水题，但PY3存在输入长度问题需特殊处理。

综合质量来看，没有题解达到4星及以上。

### 通用建议与扩展思路
 - **关键思路或技巧**：利用栈可以方便地处理运算符优先级问题，在遇到不同运算符时，通过栈的操作实现先乘后加的运算顺序。顺序处理时，将连续乘法作为一个整体计算，简化了运算逻辑。同时，在处理较大数值时，及时取模避免溢出。
 - **可拓展之处**：同类型题可涉及更多运算符（如减、除、括号等），类似算法套路是利用栈来处理运算符优先级，如后缀表达式求值、中缀表达式转后缀表达式等。
 - **推荐题目**：
   - [P1449 后缀表达式](https://www.luogu.com.cn/problem/P1449)
   - [P2024 [NOI2001] 食物链](https://www.luogu.com.cn/problem/P2024)
   - [P1304 哥德巴赫猜想](https://www.luogu.com.cn/problem/P1304) ，虽不是严格表达式求值，但同样涉及运算处理和逻辑判断。

### 个人心得摘录与总结
 - 多位作者提到要注意取模操作，因为题目要求输出结果的后四位，在计算过程中及时取模可避免数据溢出问题，这是解题的一个关键细节。
 - 部分作者在初次解题时遇到困难，如蒟蒻第一次码了70行代码仅得10分，后重写才AC，说明此类题目需要对算法和实现细节有清晰理解，多尝试不同思路和方法有助于解决问题。 

---
处理用时：22.97秒
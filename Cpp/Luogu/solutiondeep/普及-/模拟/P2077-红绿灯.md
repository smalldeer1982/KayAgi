# 题目信息

# 红绿灯

## 题目描述

在一个城市，有一条笔直的公路，在这条公路上有 $N$ 个十字路口，每个路口都设有一个红绿灯，已知相邻的两个路口距离为 $A_i$ 千米 $(1\le i < N)$，每个路口的红灯时间为 $R_i$，绿灯时间为 $G_i$，没有黄灯，现在有一辆车从距离 $1$ 号十字路口 $M$ 千米的位置出发，且此时所有路口的红绿灯刚好从红灯跳到绿灯，问这辆车通过每个路口的时间(不能闯红灯，这辆车的速度为 $1$ 千米每分钟)。


## 说明/提示

对于 $50\%$ 的数据   $N\le 1000$；

对于 $100\%$ 的数据   $N\le 10^5$，$M,A_i\le 10$，$R_i，G_i\le 5$。


## 样例 #1

### 输入

```
5 3
2 4 3 2
3 4 3 4 3
2 3 2 3 1
```

### 输出

```
5
7
11
14
16
```

# AI分析结果

### 综合分析与结论
这些题解思路基本一致，都是通过模拟汽车行驶过程，结合红绿灯周期来计算通过每个路口的时间。算法要点在于利用取模运算判断到达路口时红绿灯的状态，难点是避免超时，不能采用逐秒模拟的方式。

### 所选的题解
- **作者：Sakura_Peng（5星）**
    - **关键亮点**：思路阐述清晰，详细说明了利用取模运算判断红绿灯状态的原理，代码简洁且注释详细，还分享了时间复杂度估算的经验。
    - **个人心得**：提到看到数据范围时要估算思路的最坏时间复杂度，避免抱侥幸心理。
    ```c
    for(i=1;i<=n;i++)
    {
        if (i>=2)
        m+=a[i-1]; 
        else
        m+=0; 
        if(c[i]<m%(b[i]+c[i])) 
            m+=(b[i]+c[i]-m%(b[i]+c[i]));     
        printf("%d\n",m);  
    }
    ```
    核心思想：循环遍历每个路口，根据路口间距离更新总时间，通过取模判断当前路口红绿灯状态，若为红灯则计算等待时间并更新总时间，最后输出通过每个路口的时间。
- **作者：xhQYm（4星）**
    - **关键亮点**：思路清晰，结合样例解释通俗易懂，代码简洁明了，逻辑清晰。
    ```cpp
    for(int i=1;i<=n;i++)
    {
        if(i!=1) m+=dist[i-1];
        int t=r[i]+g[i];
        int mod=m%t; 
        if(g[i]<mod)
        {
            m+=t-mod;
        } 
        printf("%d\n",m);
    }
    ```
    核心思想：同样是遍历每个路口，先更新到达当前路口的总时间，通过取模判断红绿灯状态，红灯则等待，最后输出时间。
- **作者：sdxjzsq（4星）**
    - **关键亮点**：基本思路分步骤阐述，清晰易懂，代码逻辑明确，对关键步骤有详细注释。
    ```cpp
    for(int i=1;i<=n;i++)
    {
        t+=tmp;
        int temp=r[i]+g[i];
        tmp=t%temp;
        if(g[i]<tmp)
            t+=(temp-tmp);
        tmp=a[i];
        printf("%d\n",t);
    }
    ```
    核心思想：通过循环处理每个路口，更新总时间，利用取模判断红绿灯状态，红灯时计算等待时间并更新总时间，输出通过每个路口的时间。

### 最优关键思路或技巧
利用取模运算将总时间与红绿灯周期结合，判断到达路口时红绿灯状态，避免逐秒模拟，有效优化时间复杂度。这种思维方式在处理周期性问题时很实用。

### 可拓展之处
同类型题可涉及不同交通场景，如多车道、可变红绿灯周期等。类似算法套路可用于处理其他周期性状态变化问题，如周期性开关的门、周期性工作的机器等。

### 洛谷相似题目推荐
- P1089 [津津的储蓄计划](https://www.luogu.com.cn/problem/P1089)：模拟日常生活中的储蓄计划，涉及周期性计算。
- P1909 [买铅笔](https://www.luogu.com.cn/problem/P1909)：通过模拟不同购买方案，选择最优解，与本题模拟过程选择合适时间通过路口类似。
- P1422 [小玉家的电费](https://www.luogu.com.cn/problem/P1422)：根据用电量分段计费，模拟计算电费，与本题按红绿灯状态计算通过时间思路类似。 

---
处理用时：29.11秒
# 题目信息

# [BJWC2018] 售票

## 题目描述

C 市火车站最近出现了一种新式自动售票机。买票时，乘客要先在售票机上输入终点名称。一共有 $N$ 处目的地，随着乘客按顺序输入终点名称的每个字母，候选终点站数目会逐渐减少。

在自动售票机屏幕上，有一个 $4$ 行 $8$ 列的键盘，如下图所示。

![](https://cdn.luogu.com.cn/upload/pic/17861.png)

在乘客每输入一个字母后，键盘上只有有效字符是可选的（取决于还有哪些候选终点站），其余的字母会被字符 `*` 取代。

告诉你 $N$ 处目的地的名称，以及乘客已经输入的若干字符，请你输出键盘目前的状态。

## 说明/提示

**【样例解释】**

输入 `ZA` 以后，下一个字符可能是 `G`（终点站有可能是 `ZAGREB`），或 `D`（终点站有可能是 `ZADAR`），或 `B`（终点站有可能是 `ZABOK`）。

## 样例 #1

### 输入

```
4
ZAGREB
SISAK
ZADAR
ZABOK
ZA```

### 输出

```
****B*D*
*G******
********
********```

# AI分析结果

### 综合分析与结论
这些题解的核心思路都是模拟题目要求，根据已输入字符确定候选终点站，进而更新键盘状态。主要区别在于实现方式和使用的字符串操作函数。
1. **思路与算法要点**：
    - **直接模拟**：多数题解采用此方法，先读入目的地名称和已输入字符，遍历目的地名称，判断其前缀是否与已输入字符相同，若相同则记录下一个字符在键盘中的位置。
    - **字典树**：构建字典树存储目的地名称，根据已输入字符在字典树中查找，确定可按键字符。但实现相对复杂，代码量较大。
2. **解决难点**：
    - **字符串比较**：使用不同函数实现，如`strncmp`、`find`、`substr`等判断前缀是否相同。
    - **键盘状态更新**：确定符合条件的目的地后，将其下一个字符对应到键盘的特定位置。
3. **评分**：综合思路清晰度、代码可读性、优化程度等方面，多数题解在3星左右。部分题解虽思路简单但代码冗余，部分使用复杂数据结构增加理解难度。

### 通用建议与扩展思路
1. **关键思路或技巧**：
    - **字符串操作函数**：熟练掌握`strncmp`、`find`、`substr`等函数，能简化字符串比较和处理。
    - **标记数组**：利用布尔数组或整型数组标记符合条件的字符，方便后续输出处理。
2. **可拓展之处**：此类题目属于字符串模拟范畴，类似套路是根据输入字符串对数据集合进行筛选，再根据筛选结果更新特定状态。可拓展到路径搜索、文本过滤等场景。
3. **相似知识点题目**：
    - **P1055 [NOIP2008 普及组] ISBN 号码**：考查字符串处理和校验计算。
    - **P1593 因子和倍数**：涉及字符串输入与数字关系判断。
    - **P1308 [NOIP2011 普及组] 统计单词数**：专注于字符串匹配与统计。
4. **个人心得摘录**：
    - **Tomone**：提醒不要开启`ios::sync_with_stdio(false)`，否则可能全WA。
    - **5ab_juruo**：构建字典树时要注意初始化指针为`NULL`，否则可能RE。 

---
处理用时：21.84秒
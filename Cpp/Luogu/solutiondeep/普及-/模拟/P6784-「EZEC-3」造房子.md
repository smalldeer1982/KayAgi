# 题目信息

# 「EZEC-3」造房子

## 题目背景

pigstd 要去造房子了。

## 题目描述

pigstd 有 $a$ 个 A 材料和 $b$ 个 B 材料，造**第** $i$ 层楼需要 $i$ 个 A 材料与 $i$ 个 B 材料。

但是 pigstd 觉得房子不够高，于是他拿出了 $c$ 块钱，每块钱都可以用来买 $1$ 个 A 材料或者 $1$ 个 B 材料。

现在 pigstd 想知道，他最多能建多少层楼的房子。

## 说明/提示

**【样例 1 说明】**

pigstd 买 $2$ 个 A 材料和 $1$ 个 B 材料后就有 $3$ 个 A 材料和 $3$ 个 B 材料，最多可以建 $2$ 层楼的房子。

（花费 $1+2$ 个 A 材料和 $1+2$ 个 B 材料）

**【样例 2 说明】**

pigstd 买 $3$ 个 A 材料后就有 $4$ 个 A 材料和 $5$ 个 B 材料，最多可以建 $2$ 层楼的房子。

（花费 $1+2$ 个 A 材料和 $1+2$ 个 B 材料）

**【数据规模与约定】**

对于 $100\%$ 的数据，$0 \le a,b,c \le 10^{12}$。

| 数据点编号 | 满足的条件 |
| :----------: | :----------: |
|$1-4,22$| $c = 0$ |
|$5-8,21$| $a,b,c \le 10^{3}$ |
|$9-12$| $a,b,c \le 10^{6}$ |
|$13-20$| $a,b,c \le 10^{12}$ | 

## 样例 #1

### 输入

```
1 2 3```

### 输出

```
2```

## 样例 #2

### 输入

```
1 5 3```

### 输出

```
2```

# AI分析结果

• 综合分析与结论：这些题解主要围绕如何利用给定数量的A、B材料及可购买材料的钱数，求出能建造的最大楼层数。思路核心在于合理分配钱数，使A、B材料数量尽可能接近，以满足每层楼对两种材料相同数量的需求。算法要点包括分类讨论钱数与材料数量差的关系，以及确定最大楼层数的方法。解决难点在于找到最优的材料分配策略及高效确定楼层数的算法。题解主要分为贪心策略结合不同确定楼层数的方式，如顺序枚举、二分枚举、数学公式计算。

所选的题解：
  - **云浅知处（5星）**：
    - **关键亮点**：提出$O(1)$复杂度的解法。通过解一元二次不等式得出仅考虑$a$、$b$时$n$的取值范围，进而得到最大楼层数公式。对于有$c$的情况，分类讨论如何分配$c$使$a$、$b$中最小值最大，思路清晰，代码简洁高效。
    - **重点代码**：
```cpp
#include<cstdio>
#include<algorithm>
#include<cctype>
#include<cmath>

#define LL long long

using namespace std;

LL a,b,c;
int main(void){
    scanf("%lld%lld%lld",&a,&b,&c);
    LL x=max(a,b),y=min(a,b);
    LL m=x-y;
    if(m>c){//如果 x-y>c,即 c+y>x，那就是分类讨论时的第一种情况。
        LL ans=(LL)(((LL)(floor(sqrt(8*(y+c)+1)))-1)/2);//套公式
        printf("%lld\n",ans);
        return 0;
    }
    else{//否则那就是第二种情况
        c-=m;
        LL ans=(LL)(((LL)(floor(sqrt(8*(x+(LL)(c/2))+1)))-1)/2);//套公式
        printf("%lld\n",ans);
    }

    return 0;
}
```
核心实现思想：先比较$a$、$b$大小，根据$a$、$b$差值与$c$的关系分类，分别代入通过解不等式得出的公式计算最大楼层数。

  - **Unordered_OIer（4星）**：
    - **关键亮点**：详细分析题意及样例，分类讨论不同条件下的答案情况。给出顺序枚举、二分枚举、数学公式三种确定楼层数的方法，并对每种方法的复杂度进行分析，内容全面。
    - **重点代码（数学公式法）**：
```cpp
cout<<(floor((sqrt(1+8*n)-1)/2))<<endl;
```
核心实现思想：通过解一元二次不等式得出最大楼层数的数学公式，直接计算输出。

  - **_0x46EDC（4星）**：
    - **关键亮点**：通过设变量推导得出材料分配的最优策略，即先使$a$、$b$相等，再平分剩余的$c$。代码实现简洁明了，还提及可对计算最多层数部分用二分优化。
    - **重点代码（计算最多材料）**：
```cpp
if(a>b)swap(a,b);//使得a<=b
if(a+c<b)m=a+c;
else m=b+(c-b+a)/2;
```
核心实现思想：先保证$a$小于等于$b$，再根据$a + c$与$b$的大小关系，确定最终最多拥有的材料数量。

最优关键思路或技巧：通过解一元二次不等式得出最大楼层数的数学表达式，可实现$O(1)$复杂度的高效解法；在材料分配上，贪心策略是使$a$、$b$材料数量尽可能接近，以最大化利用材料建造楼层。

可拓展之处：同类型题可涉及多种资源按特定规律消耗，通过有限补充资源求最大操作次数的问题。类似算法套路是先分析资源消耗规律，通过数学推导或贪心策略确定资源分配方式，再选择合适方法求解。

推荐题目：
  - [P1080 国王游戏](https://www.luogu.com.cn/problem/P1080)：涉及贪心策略，按一定规则对数据排序后进行计算。
  - [P2123 皇后游戏](https://www.luogu.com.cn/problem/P2123)：同样需要通过分析找到贪心策略来解决问题。
  - [P1248 加工生产调度](https://www.luogu.com.cn/problem/P1248)：运用贪心思想，结合数据特点进行调度安排。

个人心得：无。 

---
处理用时：49.67秒
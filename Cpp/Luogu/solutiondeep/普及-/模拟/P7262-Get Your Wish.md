# 题目信息

# Get Your Wish

## 题目背景

![Get Your Wish](https://mivik.gitee.io/image/nurture/get_your_wish.png)

> So, tell me how it felt when you walked on water
>
> Did you get your wish?

## 题目描述

Porter 在浅水上完成了他的 MV，但他很快发现了事情不对：他的话筒进水了。

Porter 的话筒内部的关键电子元件可以被看作一个 $n\times m$ 的二维平面。我们用一张 $n\times m$ 的字符画来表示 Porter 的话筒内部状况，其中有三种不同的字符：

- `.`：表示空位

- `x`：表示关键电子原件

- `o`：表示水滴

水滴会沿着重力方向一直流动，直到流出边界或者流到电子原件上。当水滴流到任意一个电子原件上时，Porter 的话筒就会坏掉。Porter 慌忙把话筒转过来，改变了话筒内部的重力方向。重力方向用四种字符之一表示：`^v<>`，分别对应上下左右。

Porter 想知道，在这种重力方向下，他的话筒过一会儿会不会 GG。

## 说明/提示


### 样例解释

样例一：第一行第二列的水滴向下流到了最后一行第二列的电子原件上，因此话筒坏掉了。

样例二：第二行第一列的水滴向右流到了第二行最后一列的电子原件上，因此话筒坏掉了。

样例三：第一行第二列的水滴直接向上流出话筒，因此 Porter 的话筒不会坏掉。

### 数据范围

对于全部数据，保证 $1\le n,m\le 100$，且输入数据合法。

Subtask 1 (10 pts)：话筒中没有 `x`（即电子原件）。

Subtask 2 (10 pts)：话筒中没有 `o`（即水滴）。

Subtask 3 (30 pts)：保证重力方向总是 `v`（向下）。

Subtask 4 (50 pts)：无特殊限制。


## 样例 #1

### 输入

```
3 3 v
.o.
...
xxx```

### 输出

```
GG```

## 样例 #2

### 输入

```
3 3 >
...
o.x
...```

### 输出

```
GG```

## 样例 #3

### 输入

```
3 3 ^
.o.
...
xxx```

### 输出

```
OK```

# AI分析结果

### 综合分析与结论
这些题解的核心思路都是围绕模拟水滴在不同重力方向下的流动情况，判断是否会接触到电子元件。
 - **思路方面**：多数题解采用直接模拟，即找到水滴位置后，按重力方向模拟其流动轨迹并判断是否遇到电子元件。如Little_Cart、Zoe_Granger等题解；部分题解如rui_er、novax采用逆向推导，通过判断某位置若为水滴是否会影响电子元件来求解。
 - **算法要点**：关键在于准确处理不同重力方向下的模拟。需根据重力方向改变遍历顺序或推导方向，如上下方向按列遍历，左右方向按行遍历。
 - **解决难点**：难点主要是处理不同重力方向的情况。一些题解通过分类讨论，如Lithium_Chestnut对不同方向分别编写模拟代码；另一些通过巧妙设计数据结构或推导方式，如rui_er用数组$s_{i,j}$记录位置影响情况。

综合质量来看，多数题解思路清晰，但部分代码可读性欠佳，优化程度也有限，整体达到4星及以上的较少。

### 通用建议与扩展思路
 - **通用建议**：在代码实现上，可增加注释提高可读性，如在关键的模拟循环处解释其作用。对于不同重力方向的处理，可封装成函数，使代码结构更清晰。在优化方面，对于数据规模较大的情况，逆向推导的方式可能更具优势，可优先考虑。
 - **扩展思路**：同类型题可涉及不同形状的区域、多种流动规则或多个物体同时流动等。类似算法套路包括在模拟类题目中，合理选择正向模拟还是逆向推导，根据题目条件优化遍历方式和数据结构的使用。

### 相似知识点洛谷题目
 - **P1032 [NOIP2002 普及组] 字串变换**：涉及字符串的模拟变换，与本题模拟水滴流动类似，需按规则进行操作并判断结果。
 - **P1046 [NOIP2005 普及组] 陶陶摘苹果（升级版）**：模拟在不同条件下摘取苹果的过程，和本题模拟水滴在特定条件下的运动思路相似。
 - **P1162 填涂颜色**：通过模拟对图形的填涂过程，考察对二维区域的模拟操作，与本题对二维平面的模拟有相通之处。

### 个人心得摘录与总结
 - **作者：ＹｉＣｈｅ**：比赛时因数组下标问题导致RE（运行错误），在处理向上或向左的模拟时，要注意循环边界，防止数组越界。总结为在模拟类题目中，对数组下标的处理需格外谨慎，特别是在涉及方向改变的循环中，要仔细确认边界条件。 

---
处理用时：27.86秒
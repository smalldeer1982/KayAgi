# 题目信息

# [蓝桥杯 2018 省 A] 航班时间

## 题目描述

小 h 前往美国参加了蓝桥杯国际赛。小 h 的女朋友发现小 h 上午十点出发，上午十二点到达美国，于是感叹到“现在飞机飞得真快，两小时就能到美国了”。

小 h 对超音速飞行感到十分恐惧。仔细观察后发现飞机的起降时间都是当地时间。由于北京和美国东部有 $12$ 小时时差，故飞机总共需要 $14$ 小时的飞行时间。

不久后小 h 的女朋友去中东交换。小 h 并不知道中东与北京的时差。但是小 h 得到了女朋友来回航班的起降时间。小 h 想知道女朋友的航班飞行时间是多少。

对于一个可能跨时区的航班，给定来回程的起降时间。假设飞机来回飞行时间相同，求飞机的飞行时间。

## 说明/提示

保证输入时间合法，飞行时间不超过 $24$ 小时。

## 样例 #1

### 输入

```
3
17:48:19 21:57:24
11:05:18 15:14:23
17:21:07 00:31:46 (+1)
23:02:41 16:13:20 (+1)
10:19:19 20:41:24
22:19:04 16:41:09 (+1)```

### 输出

```
04:09:05
12:10:39
14:22:05```

# AI分析结果

• **综合分析与结论**：这些题解思路基本一致，都通过设飞行时间为\(T\)、时差为\(x\)，根据去程时间\(T1 = T + x\)和回程时间\(T2 = T - x\)推出\(T=\frac{T1 + T2}{2}\)。算法要点在于将时间转换为秒数进行计算，难点主要是时间的输入输出处理及对可能出现的额外天数的处理。多数题解采用`scanf`和`printf`进行格式化输入输出，部分题解提到无需使用`long long`。整体质量差异主要体现在思路清晰度、代码可读性及细节处理上。
• **所选的题解**：
  - **作者：lailai0916（5星）**
    - **关键亮点**：思路清晰，从时差推导到时间计算，再到输入输出处理，每个步骤讲解详细，代码简洁明了，使用一个函数`get`处理时间读入与计算，主函数逻辑清晰。
    - **个人心得**：无
    - **重点代码**：
```cpp
int get()
{
    int h1,m1,s1,h2,m2,s2,d=0;
    scanf("%d:%d:%d %d:%d:%d",&h1,&m1,&s1,&h2,&m2,&s2);
    if(getchar()==' ')scanf("(+%d)",&d);
    return (d*86400+h2*3600+m2*60+s2)-(h1*3600+m1*60+s1);
}
int main()
{
    int T;
    scanf("%d",&T);
    while(T--)
    {
        int ans=get()+get()>>1;
        printf("%02d:%02d:%02d\n",ans/3600,ans%3600/60,ans%60);
    }
    return 0;
}
```
    - **核心实现思想**：`get`函数读入起降时间，判断是否有额外天数并计算时间差（以秒为单位）。主函数通过调用`get`函数获取去程和回程时间差，计算平均值并转换为时:分:秒格式输出。
  - **作者：SCAR_L（4星）**
    - **关键亮点**：不仅阐述了主流思路，还提出两种代码实现方法，并对输入输出技巧进行说明，内容较为全面。
    - **个人心得**：无
    - **重点代码（方法一）**：
```cpp
int T;
int a,b,c;
int minus_go,minus_back,ans;
int main()
{
    cin>>T;
    while(T--)
    {
        //去的飞机
        scanf("%d:%d:%d",&a,&b,&c);
        minus_go=a*3600+b*60+c;
        scanf("%d:%d:%d",&a,&b,&c);
        minus_go=a*3600+b*60+c-minus_go;
        if(getchar()==' ')
        {
            scanf("(+%d)",&a);
            minus_go+=a*24*3600;
            getchar();
        }
        //回来的飞机，同上
        scanf("%d:%d:%d",&a,&b,&c);
        minus_back=a*3600+b*60+c;
        scanf("%d:%d:%d",&a,&b,&c);
        minus_back=a*3600+b*60+c-minus_back;
        if(getchar()==' ')
        {
            scanf("(+%d)",&a);
            minus_back+=a*24*3600;
            getchar();
        }
        int ans=(minus_go+minus_back)/2;
        int hour=ans/3600,minute=ans%3600/60,second=ans%60;
        printf("%02d:%02d:%02d\n",hour,minute,second);
    }
    return 0;
}
```
    - **核心实现思想**：分别处理去程和回程的起降时间，转换为秒数计算时间差，考虑额外天数，最后计算平均飞行时间并转换输出格式。
  - **作者：fkcufk（4星）**
    - **关键亮点**：代码结构清晰，将读入开始时间、读入结束时间和输出时间分别封装成函数，提高代码可读性。
    - **个人心得**：无
    - **重点代码**：
```cpp
int getstartime(){
    int a,b,c;
    scanf("%d:%d:%d",&a,&b,&c);
    int time=a*h+b*m+c;
    return time;
} 
int getendtime(){
    int a,b,c;
    scanf("%d:%d:%d",&a,&b,&c);
    int time=a*h+b*m+c;
    char ch,extra_day;
    while((ch=getchar())!='\n'&&ch!='\r'){
        if(ch=='('){
            getchar();
            extra_day=getchar();
            time=time+(extra_day-'0')*d; 
        }
    }
    return time;
}
void printime(int time){
    int a,b,c;
    a=time/h,time=time%h,b=time/m,time=time%m,c=time;
    printf("%02d:%02d:%02d\n",a,b,c);
}
int main()
{
    scanf("%d",&t);
    while(t--){
        int start1=getstartime(),end1=getendtime();
        int start2=getstartime(),end2=getendtime();
        int ans=(end1-start1)+(end2-start2);
        printime(ans/2);
    }
    return 0;
}
```
    - **核心实现思想**：`getstartime`函数获取开始时间秒数，`getendtime`函数获取结束时间秒数并处理额外天数，`printime`函数将总秒数转换为时:分:秒格式输出，主函数调用这些函数完成飞行时间计算与输出。
• **最优关键思路或技巧**：通过建立时间关系等式消除时差变量，简化计算。在代码实现上，将时间统一转换为秒数进行运算，利用`scanf`和`getchar`处理时间输入中的特殊格式，最后将秒数结果转换回时分秒格式输出。
• **可拓展之处**：同类型题可涉及不同时间格式转换、不同时区时间计算等。类似算法套路是通过建立等式关系消除未知干扰变量，简化问题求解。
• **相似知识点洛谷题目**：
  - **P1055 [NOIP2008 普及组] ISBN 号码**：涉及字符处理和简单计算，与本题处理输入格式有相似之处。
  - **P1149 火柴棒等式**：需要通过枚举和计算解决问题，与本题通过计算时间差求解飞行时间思路类似。
  - **P1085 [NOIP2005 普及组] 不高兴的津津**：同样是处理时间相关问题，锻炼时间处理和逻辑判断能力。
• **个人心得摘录与总结**：部分作者提到本题坑多，如多次重构代码才通过，主要问题集中在时间输入输出格式处理及对额外天数的处理上。提醒在处理此类复杂输入输出及特殊情况时要格外细心。 

---
处理用时：72.51秒
# 题目信息

# [传智杯 #4 初赛] 萝卜数据库

## 题目描述

花栗鼠很喜欢偷吃生产队的大萝卜，因此花栗鼠科技大学正在研究一种新型的数据库，叫做萝卜数据库。

具体来说，它支持 $k(1 \leq k \leq 100)$ 个字段，每个字段名都是整数，里面存储的数值也都是整数。

现在你支持如下操作： 

- 向数据库中插入一个记录，它可能只会包含 $k$ 个字段的某一部分。具体的操作格式详见“输入格式”。

- 在数据库中查询有多少条符合条件的记录。

现在你总共有 $n$ 次操作（$1 \;\leq n \leq 1000$）,请你对每个回答操作，输出结果。

## 样例 #1

### 输入

```
4 5
1 2 1 2 2 4
2 2 1 5
1 2 3 5 4 6
2 4 7 8```

### 输出

```
1
0```

# AI分析结果

### 综合分析与结论
这些题解均围绕模拟萝卜数据库的插入和查询操作展开。思路上，都采用暴力模拟的方式，因题目数据范围小，此方法可行。算法要点在于选择合适的数据结构存储数据，常见的有数组和`vector`，操作上就是按题意实现插入和查询逻辑。难点主要是数据结构的合理选择及操作实现，不同题解在代码风格、数据结构使用和细节处理上有差异。

### 所选题解
- **作者：duanfeitong（5星）**
    - **关键亮点**：思路清晰，代码简洁明了。使用两个数组分别存储地址和数据，直接模拟数据库操作，易于理解。
    - **重点代码**：
```cpp
for(int T=0;T<n;T++)
{
    scanf("%d",&op);
    if(op==1) 
    {
        scanf("%d",&m);
        for(int i=1;i<=m;i++)
        {
            scanf("%d%d",&x,&y);
            a[++num]=x,b[num]=y;
        }
    }
    else 
    {
        int ans=0,l,r;
        scanf("%d%d%d",&m,&l,&r);
        for(int i=1;i<=num;i++)
            if(a[i]==m && l<=b[i]&&b[i]<=r)
                ans++;
        printf("%d\n",ans);
    }
}
```
    - **核心思想**：根据操作类型，插入操作时将地址和数据分别存入对应数组，查询操作遍历数组，统计符合条件的数据个数。
- **作者：SnapYust（4星）**
    - **关键亮点**：使用`std::vector`容器模拟，符合常见的解题思路，且对复杂度进行简单分析。
    - **重点代码**：
```cpp
while (n--)
{
    int m;
    scanf("%d", &m);
    if (m == 1)
    {
        int p, x, y;
        scanf("%d", &p);
        while (p--)
        {
            scanf("%d%d", &x, &y);
            v[x].push_back(y);
        }
    }
    else
    {
        int x, ymin, ymax, ans = 0;
        scanf("%d%d%d", &x, &ymin, &ymax);
        for (int i = 0; i < v[x].size(); i++)
            if (v[x][i] >= ymin && v[x][i] <= ymax)
                ans++;
        printf("%d\n", ans);
    }
}
```
    - **核心思想**：插入操作向`vector`中添加数据，查询操作遍历`vector`统计符合范围的数据。
- **作者：FFTotoro（4星）**
    - **关键亮点**：利用`vector`套`vector`实现二维数组，代码简洁，操作实现清晰。
    - **重点代码**：
```cpp
int p; cin>>p;
while(p--){
    int x,y; cin>>x>>y;
    s[x-1].emplace_back(y);
}
int x,l,r,c=0; cin>>x>>l>>r;
for(auto &i:s[x-1])if(i>=l&&i<=r)c++;
cout<<c<<endl;
```
    - **核心思想**：插入时向二维`vector`对应位置添加数据，查询时遍历对应`vector`统计符合条件个数。

### 最优关键思路或技巧
因数据范围小，暴力模拟是合适选择。选择简单数据结构如数组或`vector`，按操作要求直接实现插入和查询逻辑，避免复杂数据结构带来的额外开销。

### 可拓展思路
此类题目为模拟类型，拓展方向可增加操作种类、扩大数据范围。对于扩大数据范围情况，需考虑优化算法，如使用哈希表优化查询操作等。

### 相似知识点洛谷题目
- P1046 [NOIP2005 普及组] 陶陶摘苹果
- P1909 [NOIP2016 普及组] 买铅笔
- P5717 【深基3.例7】肥胖问题 

---
处理用时：39.40秒
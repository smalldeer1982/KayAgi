# 题目信息

# 「PHOI-1」雨纷纷

## 题目背景

**形式化题面的表述已更改。**

今夜，雨纷纷……

![](https://cdn.luogu.com.cn/upload/image_hosting/aec4ykim.png)

## 题目描述

在 $n$ 行 $m$ 列的空地上，有一个大小为 $x$ 行 $y$ 列的伞，雨伞不可以旋转。每天向空地随机洒下 $1 \sim k$ 滴雨，已经有雨的格子不会再降下雨，有伞的格子不会被雨淋湿。

但此伞比较特殊，它完全透明，小 X 无法直接得知伞的位置。但是每天结束后，小 X 都会得知空地上每个空格的状态，即有雨滴或无雨滴。注意，小 X 只会得知格子的状态。小 X 无法得知每天在哪里降了雨。

现在小 X 想让你求出**在最好情况下**（即天数最少时）几天可以使伞的位置唯一，以及得到伞的位置后，场上至少的雨滴数量，数据保证有解。

**形式化的讲**，有一个 $n \times m$ 的矩形，你每天可以**至多**删除 $k$ 个格子。问至少需要多少天以及至少需要删除多少格子，才能使得图中完整的 $x\times y$ 的矩形唯一。

## 说明/提示

**本题采用捆绑测试。**

| Subtask | $n,m$ | $x,y$ |  分值 |
| :-: | :-: | :-: | :-: |
| $0$ | $1\le n,m\le 10$ | 无特殊限制 | $10$ |
| $1$ | $1\le n,m\le 10^3$ | 无特殊限制 | $30$ |
| $2$ | 无特殊限制 | $x=y=2$ | $10$ |
| $3$ | 无特殊限制 | $1 \le x=y \le 10^9$ | $10$ | 
| $4$ | 无特殊限制 | 无特殊限制 | $40$ | 

对于 $100\%$ 的数据，保证 $1 \le x \le n \le 10^9,1 \le y \le m \le 10^9,1 \le k \le 10^9$。

### 样例解释 #1：

第一天在 $(2,2),(2,3),(3,2)$ 处落下雨滴，即可确定雨伞左上角以及右下角位置为 $(3,3),(4,4)$。

图片解释：

![](https://cdn.luogu.com.cn/upload/image_hosting/fp2m6ivv.png)
### 样例解释 #2：

第一天在 $(2,2),(7,1)$ 处落下雨滴，第二天在 $(5,4)$ 处落下雨滴，第三天在 $(4,2),(3,4)$ 处落下雨滴，即可确定雨伞左上角以及右下角位置为 $(5,2),(7,3)$。

## 样例 #1

### 输入

```
4 4 2 2 3```

### 输出

```
1 3```

## 样例 #2

### 输入

```
7 5 3 2 2```

### 输出

```
3 5```

## 样例 #3

### 输入

```
214 748 3 64 8```

### 输出

```
98 782```

# AI分析结果

• 综合分析与结论：
    - 这些题解的核心思路均为贪心策略。通过在大矩形中合理放置雨滴，以排除除目标小矩形外的其他可能位置，从而确定小矩形的唯一位置。
    - 算法要点在于计算最少雨滴数，即根据大矩形尺寸 \(n,m\) 和小矩形尺寸 \(x,y\) 的关系，确定需要在哪些位置放置雨滴。常见做法是在 \(x\) 的倍数行、\(y\) 的倍数列放置雨滴（余数部分单独考虑），再减去一个位置给目标小矩形，最后根据行列余数情况决定是否额外加点。天数则通过雨滴数除以每天最多雨滴数 \(k\) 向上取整得到。
    - 解决难点主要在于理解如何通过放置雨滴来唯一确定小矩形位置，以及处理行列余数对雨滴数量的影响。

    - 整体来看，各题解思路相近，质量差异主要体现在思路清晰度、代码可读性等方面。

• 所选的题解：
  - 作者：CultReborn (5星)
    - 关键亮点：思路阐述清晰，逐步讲解天数和雨滴数的求法，结合图形辅助理解，代码注释详细，对细节有明确提示。
    - 个人心得：无
    ```cpp
    LL Get_Rain(LL n,LL m,LL x,LL y){
      if(n % x == 0 && m % y == 0)
        return n / x * (m / y) - 1;
      if(n % x == 0 && m % y!= 0)
        return n / x * (m / y);
      if(n % x!= 0 && m % y == 0)
        return n / x * (m / y);
      return n / x * (m / y) + 1;
    }
    LL Get_Day(LL k,LL Rain){
      if(Rain % k == 0) return Rain / k;
      else return (LL)Rain / k + 1;
    }
    signed main(){
      LL n,m,x,y,k;
      scanf("%lld %lld %lld %lld %lld",
      &n,&m,&x,&y,&k);
      LL Rain = Get_Rain(n,m,x,y);
      LL Day = Get_Day(k,Rain);
      printf("%lld %lld",Day,Rain);
      return 0;
    }
    ```
    - 核心实现思想：`Get_Rain` 函数根据 \(n,m\) 对 \(x,y\) 的取余情况，计算最少雨滴数；`Get_Day` 函数根据雨滴数和 \(k\) 计算最少天数。主函数调用这两个函数并输出结果。

  - 作者：sc84bbs (4星)
    - 关键亮点：思路表述清晰，分步骤阐述如何确定雨滴数量，先让大矩阵不能存在小矩阵，再删点留出位置，最后视情况加点，代码简洁明了。
    - 个人心得：无
    ```cpp
    signed main(){
        int n,m,x,y,k;
        scanf("%lld%lld%lld%lld%lld",&n,&m,&x,&y,&k);
        int modx=n/x,mody=m/y;
        int ans1=modx*mody-1;
        if(n%x!=0)ans1++;
        if(m%y!=0)ans1++;
        if(ans1%k==0)cout<<ans1/k<<" "<<ans1;
        else cout<<ans1/k+1<<" "<<ans1;

        return 0;
    }
    ```
    - 核心实现思想：先计算在 \(x\) 倍数行、\(y\) 倍数列放置雨滴的数量（减 1 留出目标小矩形位置），再根据 \(n,m\) 对 \(x,y\) 的余数情况决定是否额外加 1，最后根据雨滴总数和 \(k\) 计算并输出天数和雨滴数。

  - 作者：LegendaryGrandmaster (4星)
    - 关键亮点：思路清晰，先假设伞在右下角，通过分割矩形计算排除其他位置所需雨滴数，再考虑右下角因整除情况对雨滴数的影响，代码简洁易懂。
    - 个人心得：无
    ```cpp
    signed main()
    {
        int n,m,x,y,k;
        cin>>n>>m>>x>>y>>k;
        int ans=(int)(floor(n/x))*(int)(floor(m/y))-1;
        if(n%x!=0)ans++;
        if(m%y!=0)ans++;
        cout<<(int)(ceil(1.0*ans/k))<<' '<<ans;
    }
    ```
    - 核心实现思想：计算在 \(x\) 倍数行、\(y\) 倍数列放置雨滴的数量（减 1 留出右下角目标小矩形位置），根据 \(n,m\) 对 \(x,y\) 的余数情况决定是否额外加 1，最后根据雨滴总数和 \(k\) 计算并输出天数和雨滴数。

• 最优关键思路或技巧：
    - **思维方式**：采用贪心策略，优先考虑排除尽可能多的小矩形位置，同时通过合理假设（如小矩形在右下角）简化问题分析。
    - **代码实现技巧**：利用取整和取余运算，简洁地处理大矩形和小矩形尺寸关系对雨滴数量的影响。

• 可拓展之处：
同类型题可拓展到在二维空间中通过特定操作确定某个子区域的位置，类似算法套路是利用贪心思想，结合区域尺寸关系，确定关键位置的操作数量。

• 推荐题目：
    - [P1080 国王游戏](https://www.luogu.com.cn/problem/P1080)：贪心算法经典题目，通过合理排序解决问题。
    - [P1199 三国游戏](https://www.luogu.com.cn/problem/P1199)：同样考察贪心策略，需分析游戏规则找到最优策略。
    - [P1248 加工生产调度](https://www.luogu.com.cn/problem/P1248)：运用贪心思想解决生产调度问题。

• 个人心得摘录与总结：
    - CultReborn：作者表示作为蒟蒻，该题虽看似简单贪心但卡了很久，写题解加深印象。总结出找规律是做题基本艺能，如通过第三个样例找到计算雨滴数的规律。
    - hjqhs：作者在比赛最后十五分钟想起比赛，六点写完 T1 刚好结束，赛后测试 AC，表达了对时间紧张完成题目的感慨。 

---
处理用时：62.91秒
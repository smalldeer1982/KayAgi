# 题目信息

# [USACO20DEC] Daisy Chains B

## 题目描述

每天，作为她绕农场行走的一部分，奶牛 Bessie 会经过她最喜爱的草地，其中种有 $N$ 朵花（五颜六色的雏菊），编号为 $1\ldots N$（$1\le N\le 100$），排列成一行。花 $i$ 有 $p_i$ 朵花瓣（$1\le p_i\le 1000$）。

作为一名崭露头角的摄影家，Bessie 决定给这些花拍些照片。具体地说，对于每一对满足 $1\le i\le j\le N$ 的花 $(i,j)$，Bessie 会给从花 $i$ 到花 $j$ 之间的所有花（包括 $i$ 和 $j$）拍一张照。

后来 Bessie 查看这些照片时注意到有些照片里存在「平均」的花——一朵恰好有 $P$ 朵花瓣的花，其中 $P$ 等于照片中所有花的花瓣数量的平均值。

Bessie 的照片中有几张存在平均的花？ 

## 说明/提示

### 样例解释 1

每张仅包含一朵花的照片均会被计入答案（在这个样例中有 $4$ 张）。另外，在这个样例中 $(i,j)$ 为 $(1,2)$ 和 $(2,4)$ 所对应的照片也存在平均的花。 

## 样例 #1

### 输入

```
4
1 1 2 3```

### 输出

```
6```

# AI分析结果

• 综合分析与结论：这几道题解思路基本一致，均利用暴力枚举解决问题。由于题目数据范围小（$1 \le N \le 100$），通过双重循环枚举所有可能的拍照区间 $(i, j)$，再用一层循环遍历区间内的花，判断是否存在平均的花。部分题解使用前缀和优化计算区间和，时间复杂度均为 $O(n^3)$。在思路清晰度、代码可读性和优化程度上，整体表现一般，没有特别突出的题解，均未达到4星标准。
• 通用建议与扩展思路：这几题解实现较为基础，可优化的方向是若数据范围增大时，考虑用桶排序等方式优化。对于同类型题，通常是给定序列，在不同子区间内找满足特定条件的元素，常见套路是先分析数据范围决定暴力或优化算法，如前缀和、二分、双指针等。
• 相似知识点洛谷题目：
  - P1115 最大子段和：涉及序列区间和相关计算。
  - P1880 [NOI1995] 石子合并：区间动态规划，与区间处理相关。
  - P3957 [NOIP2017 普及组] 跳房子：涉及区间内状态转移与最值求解。 

---
处理用时：11.84秒
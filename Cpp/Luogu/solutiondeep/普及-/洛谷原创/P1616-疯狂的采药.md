# 题目信息

# 疯狂的采药

## 题目背景

此题为纪念 LiYuxiang 而生。


## 题目描述

LiYuxiang 是个天资聪颖的孩子，他的梦想是成为世界上最伟大的医师。为此，他想拜附近最有威望的医师为师。医师为了判断他的资质，给他出了一个难题。医师把他带到一个到处都是草药的山洞里对他说：“孩子，这个山洞里有一些不同种类的草药，采每一种都需要一些时间，每一种也有它自身的价值。我会给你一段时间，在这段时间里，你可以采到一些草药。如果你是一个聪明的孩子，你应该可以让采到的草药的总价值最大。”

如果你是 LiYuxiang，你能完成这个任务吗？

此题和原题的不同点：

$1$. 每种草药可以无限制地疯狂采摘。

$2$. 药的种类眼花缭乱，采药时间好长好长啊！师傅等得菊花都谢了！

## 说明/提示

#### 数据规模与约定

- 对于 $30\%$ 的数据，保证 $m \le 10^3$ 。
- 对于 $100\%$ 的数据，保证 $1 \leq m \le 10^4$，$1 \leq t \leq 10^7$，且 $1 \leq m \times t \leq 10^7$，$1 \leq a_i, b_i \leq 10^4$。

## 样例 #1

### 输入

```
70 3
71 100
69 1
1 2
```

### 输出

```
140
```

# AI分析结果

### 综合分析与结论
这些题解均围绕完全背包问题展开，核心思路是通过动态规划求解在给定时间内采摘草药的最大价值。算法要点在于状态转移方程的构建与优化，难点主要是理解完全背包与01背包的差异、空间和时间复杂度的优化以及数据范围导致的类型选择问题。所有题解都指出需使用 `long long` 避免数据溢出。多数题解采用滚动数组优化空间，时间复杂度均为 \(O(nm)\)。

### 所选的题解
- **作者：⚡小林子⚡ (5星)**
    - **关键亮点**：思路清晰，从状态转移方程的推导，到二维转一维的优化，再到滚动数组的使用，每一步都有详细说明，还特别指出01背包与完全背包在状态转移和枚举顺序上的区别。
    - **个人心得**：强调做题要看数据范围，防止因没开 `long long` 失分，建议使用 `scanf` 和 `printf` 或 `ios::sync_with_stdio(0)` 避免输入输出导致的TLE。
    - **核心代码**：
```cpp
for(int i=1;i<=n;i++)
	for(int j=w[i];j<=m;j++)
		f[j]=max(f[j],f[j-w[i]]+v[i]);
```
    - **核心思想**：外层循环遍历物品，内层循环从物品重量开始到背包总重量，通过比较当前价值与放入该物品后的价值，更新最大价值。

- **作者：Veranda (4星)**
    - **关键亮点**：详细模拟完全背包过程，通过具体例子展示状态转移过程，使读者更易理解算法原理。
    - **核心代码**：
```cpp
for(int i = 1;i <= m;i ++){
    for(int j = t[i];j <= T;j ++){
        f[j] = max(f[j],f[j - t[i]] + v[i]);
    }
}
```
    - **核心思想**：与上一题解类似，通过双重循环，外层遍历物品，内层从物品所需时间到总时间，不断更新最大价值。

- **作者：Mars_Dingdang (4星)**
    - **关键亮点**：不仅阐述了完全背包的思路和状态转移方程，还介绍了一种简单有效的优化方法，即去掉费用高价值低的物品，虽不能改善最坏情况复杂度，但对随机数据有效。
    - **核心代码**：
```cpp
for(int i=1;i<=n;i++){
    for(int V=w[i];V<=v;V++){
        dp[V]=max(dp[V],dp[V-w[i]]+c[i]);
    }
}
```
    - **核心思想**：同样是双重循环，外层遍历物品，内层从物品重量到背包容量，更新最大价值。

### 最优关键思路或技巧
- **滚动数组优化空间**：利用完全背包每次状态转移只依赖上一层状态的特性，去掉状态数组的第一维，降低空间复杂度。
- **正序枚举时间**：与01背包不同，完全背包需正序枚举时间，以保证考虑“加选一件物品”策略时，依据已选入该物品的子结果。

### 同类型题或类似算法套路拓展
同类型题主要围绕背包问题的各种变体，如多重背包（每种物品数量有限）、分组背包（物品分组，每组只能选一个）等。解决套路通常是根据不同条件调整状态转移方程，优化空间和时间复杂度。

### 洛谷相似知识点题目推荐
- [P1048 采药](https://www.luogu.com.cn/problem/P1048)：基础的01背包问题，可与本题对比学习。
- [P1757 通天之分组背包](https://www.luogu.com.cn/problem/P1757)：考察分组背包问题。
- [P2679 子串分值和](https://www.luogu.com.cn/problem/P2679)：结合字符串与动态规划，可锻炼动态规划思维。 

---
处理用时：20.22秒
# 题目信息

# 那个什么密码2

## 题目背景

原题为 https://www.luogu.com.cn/problem/P1079。

## 题目描述

与原题一模一样、具体不同请见输入格式


## 说明/提示

由 zxy 大神原创、本人在洛谷上传。


## 样例 #1

### 输入

```
CompleteVictory
Wherethereisawillthereisaway
0```

### 输出

```
Yvqgpxaimmklongnzfwpvxmniytm```

# AI分析结果

### 综合分析与结论
这些题解主要围绕字符串加密及区间翻转操作展开。思路上，多数题解先依据给定规则将明文转换为密文，再对密文进行区间翻转。算法要点在于字符加密规则的实现及区间翻转的具体方式。解决难点主要是处理字符运算中的边界情况，如字符相加后超出字母范围的修正。

各题解质量参差不齐，部分题解思路清晰、代码简洁，部分则存在代码可读性差或未充分优化的问题。

### 所选题解
- **作者hensier（5星）**
    - **关键亮点**：思路清晰，详细分析了字符加密规则及处理边界情况的原因，合理运用string的相关函数解决区间翻转问题，代码简洁且可读性高。
    - **个人心得**：强调了使用tolower函数时需进行赋值操作，否则无效，这是容易踩坑的点。
```cpp
#include<bits/stdc++.h>
using namespace std;
string key,ans;
int m;
int main()
{
    cin>>key>>ans;
    for(int i=0;key[i];i++)key[i]=tolower(key[i]);
    for(int i=0,j=0,x;ans[i];i++,j=(j+1)%key.size())
    {
        x=ans[i]+key[j]-'a';
        if((islower(ans[i])&&x>'z')||(isupper(ans[i])&&x>'Z'))x-=26;
        ans[i]=x;
    }
    scanf("%d",&m);
    for(int i=0,a,b;i<m;i++)
    {
        scanf("%d%d",&a,&b);
        a--;
        b--;
        string s=ans.substr(a,b-a+1);
        reverse(s.begin(),s.end());
        ans.replace(a,b-a+1,s);
    }
    cout<<ans;
}
```
核心实现思想：先将密钥转为小写，遍历明文与密钥对应字符计算密文，处理边界情况。再根据输入的区间对密文进行子串截取、反转和替换操作。

- **作者InformationEntropy（4星）**
    - **关键亮点**：分别实现字符值计算、明文转密文及区间反转函数，逻辑清晰，代码结构较好。
```cpp
void fanzhuan(int a,int b,string &s){
    for(int i=a-1,j=b-1;i<j;i++,j--){
        swap(s[i],s[j]);
    }
    return;
}
int value(char a){
    if(a>='a'&&a<='z'){
        return a-97;
    }
    return a-65;
}
int main(){
    string a1,a2;
    cin>>a1>>a2;
    int len1=a1.length();
    int len2=a2.length();
    int k=0;
    for(int i=0;i<len2;i++){
        int x=a2[i]+value(a1[k]);
        if(a2[i]>='A'&&a2[i]<='Z'){
            if(x>90){
                x=x%90+64;
            }
        }else{
            if(x>122){
                x=x%122+96;
            }
        }
        a2[i]=char(x);
        k++;
        if(k==len1){
            k=0;
        }
    }
    int m;
    read(m);
    int a,b;
    for(int i=0;i<m;i++){
    	read(a);
    	read(b);
    	fanzhuan(a,b,a2);
    }
    cout<<a2;
    return 0;
}
```
核心实现思想：通过value函数获取字符对应值，在明文转密文时处理边界。用fanzhuan函数实现区间反转。

### 最优关键思路或技巧
1. **字符加密规则处理**：将字母映射为数字进行运算，处理运算结果超出字母范围的情况，如对26取模或减去26。
2. **区间反转**：利用string的substr、reverse和replace函数，或手写双指针交换实现区间反转。

### 可拓展之处
同类型题常涉及字符串加密、解密及各种字符串操作。类似算法套路包括利用字符映射关系进行运算，处理边界条件保证结果合法，以及熟练运用字符串相关函数或手写操作实现特定功能。

### 相似知识点洛谷题目
1. **P1308 统计单词数**：涉及字符串查找与统计，需掌握字符串操作。
2. **P1593 因子和倍数问题**：虽主要是数论问题，但也需处理输入字符串，涉及字符串基础操作。
3. **P1914 小书童——密码**：同样是字符串加密解密问题，考查对字符运算和字符串处理的掌握。 

---
处理用时：21.21秒
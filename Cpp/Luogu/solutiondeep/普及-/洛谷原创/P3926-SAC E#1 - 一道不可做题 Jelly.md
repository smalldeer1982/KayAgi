# 题目信息

# SAC E#1 - 一道不可做题 Jelly

## 题目背景

SOL君（炉石主播）和SOL菌（完美信息教室讲师）是好朋友。


## 题目描述

SOL君很喜欢吃蒟蒻果冻。而SOL菌也很喜欢蒟蒻果冻。

有一天，他们在一起搓炉石，而SOL菌则要拿出蒟蒻果冻招待他的客人。

蒟蒻果冻一般在a度下保存在冰箱里。但是刚拿出来的时候太冰了，需要加热。SOL菌打算用一种神奇的电炉加热蒟蒻果冻。根据观察，它有一个特点：

1、蒟蒻果冻小于c度的时候，每p单位时间加热1单位温度；

2、当蒟蒻果冻等于c度的时候，需要q单位时间解冻（大家都知道，晶体物态变化温度不变……SOL君认为果冻属于晶体）；

3、当蒟蒻果冻解冻完成之后，每r单位时间加热1单位温度。


SOL想知道，将果冻加热x单位时间的时候果冻的温度。

温度向下取整，也就是说，如果加热结束时不足p（或q）单位时间，则认为在这最后一小段时间内果冻温度没有任何变化。


## 说明/提示

对于 $30\%$ 的数据，$|a|, |c| \leq 200, x \leq 100$。

对于 $60\%$ 的数据，$|a|, |c| \leq 2 \times 10^9, x \leq 100$。

对于 $100\%$ 的数据，$|a|, |c| \leq 2 \times 10^9, 1 \leq x, p, q, r \leq 10^9$。

数据中可能有 $a = c$，此时算还未解冻的状态。


提示：请使用long long数据类型。


## 样例 #1

### 输入

```
-10 0 2 1 3 26
```

### 输出

```
1```

## 样例 #2

### 输入

```
-10 0 2 1 3 27```

### 输出

```
2```

# AI分析结果

### 综合分析与结论
这些题解主要围绕如何根据不同的初始温度（a）与解冻温度（c）关系，结合给定的加热时间（x）、加热速率（p、r）和解冻时间（q）来计算最终果冻温度。思路上大致分为两种：
1. **分类讨论法**：根据a与c的大小关系（a > c、a == c、a < c）分别讨论，在每种情况下再依据时间条件细分判断，计算最终温度。如作者kkksc03、Raw_Aya9285等采用此方法。
2. **模拟法**：通过循环模拟加热过程，根据当前温度状态（小于c、等于c、大于c）消耗相应时间（p、q、r）并更新温度，直到时间耗尽。如作者B_Qu1e7、逆时针的记忆等采用此方法。
算法要点在于准确把握不同温度阶段的加热规则及时间消耗，难点是考虑全面各种情况，尤其是边界条件，如a = c时的处理，以及时间不足时的温度计算。

### 题解推荐
- **作者：kkksc03 (赞：141)  5星**
    - **关键亮点**：思路极为清晰，直接给出不同条件下计算最终温度的数学表达式，简洁明了，无多余步骤，优化程度高。
    - **核心代码**：无代码，直接给出结论：
如果 a > c，答案是 a+⌊x r⌋。
如果 a = c，有两种情况： 如果 x≤q，答案是 c。 如果 x > q，答案是 c+⌊(x−q) / r ⌋。
如果 a < c，有三种情况： 如果 x≤ (c−a)p，答案是 a+⌊x /p⌋。 如果 (c−a)p≤x≤ (c−a)p+q，答案是 c
如果 x > (c−a)p+q，答案是 c+⌊(x−(c−a)p−q) / r ⌋
- **作者：Raw_Aya9285 (赞：30)  4星**
    - **关键亮点**：分析详细，对每种情况逐步拆解，代码逻辑与分析紧密结合，可读性强。
    - **核心代码**：
```cpp
if(a<c){
    if((c-a)*p>=x){
        cout<<a+(x/p)<<endl;
        return 0;
    }else{
        x-=(c-a)*p;
        temp=c;
        if(q>=x){
            cout<<temp<<endl;
            return 0;
        }else{
            x-=q;
            temp+=x/r;
            cout<<temp<<endl;
        }
    }
}else if(a==c){
    if(q>=x){
        cout<<temp<<endl;
        return 0;
    }else{
        x-=q;
        temp=c;
        temp+=x/r;
        cout<<temp<<endl;
    }
}else{
    temp=a;
    temp+=x/r;
    cout<<temp<<endl;
}
```
核心思想：根据a与c的大小关系分类，在a < c时，先判断加热到c的用时与x关系，再判断解冻时间与剩余时间关系；a == c时判断解冻时间与x关系；a > c时直接计算升温。
- **作者：月影困 (赞：1)  4星**
    - **关键亮点**：代码简洁，判断逻辑清晰，在判断时充分利用条件提前结束程序，减少不必要计算。
    - **核心代码**：
```cpp
if (a <= c) {
    if ((c - a) * p >= x) {
        return!printf("%lld", a + x / p);
    }
    x -= (c - a) * p;
    if (q >= x) {
        return!printf("%lld", c);
    }
    x -= q;
    printf("%lld", c + x / r);
}
if (a > c) {
    return!printf("%lld", a + x / r);
} 
```
核心思想：先判断a <= c的普通情况，根据加热到c的时间和融化时间与x的关系计算温度；再判断a > c的特殊情况直接计算升温。

### 最优思路或技巧
1. **分类讨论清晰化**：像kkksc03直接梳理出不同条件下的计算公式，避免复杂的过程模拟，减少代码量和出错概率。
2. **边界条件处理**：在各种情况判断中，充分考虑时间不足等边界条件，如在a < c且加热时间不足到达c时，直接按当前加热时间计算升温。
3. **提前结束判断**：如月影困在判断中，当确定结果后及时结束程序，减少不必要的后续判断，优化程序运行效率。

### 可拓展之处
同类型题可涉及不同阶段状态变化且带有时间条件的问题，如电池充电不同阶段的电量变化、物体在不同速度阶段的位移等。算法套路类似，均需根据不同状态阶段的条件变化，结合给定的总时间或总量，分类讨论并计算最终结果。

### 相似知识点洛谷题目
1. P1085 [NOIP2005 普及组] 不高兴的津津：涉及不同时间段的状态变化及时间分配，与本题类似。
2. P1909 [NOIP2016 普及组] 买铅笔：根据不同购买方案（类似本题不同加热阶段），结合需求总量（类似总时间）选择最优方案。
3. P2670 [NOIP2015 普及组] 扫雷游戏：通过不同区域状态（类似本题不同温度状态），结合给定条件计算结果。

### 个人心得摘录与总结
1. **作者：sxyugao**：强调要考虑周全，本人被小地方坑了四五次，如复制代码部分未修改导致错误。总结：做题需仔细，对复制内容要检查。
2. **作者：逆时针的记忆**：本以为30分钟能完成，结果多花25分钟，写题解记录过程。总结：复杂题目所需时间可能超预期，记录过程有助于复盘。
3. **作者：wulibra**：思索调试1小时解题，提出升温效率概念辅助理解，用（|z|+z）/2处理负数情况避免if判断。总结：复杂题目可引入概念辅助解题，灵活运用数学方法简化代码逻辑。
4. **作者：盖伦的好朋友**：用循环模拟会TLE，写O（1）算法，注意a > c需特判，不然只能得80分。总结：注意题目数据范围，避免暴力循环导致超时，全面考虑各种情况。
5. **作者：linlin**：被a一开始大于c的情况坑了好几次。总结：关注特殊情况，全面分析题目条件。
6. **作者：Drinkkk**：一开始思路只考虑a <= c情况，只得到90分，忽略a > c情况。总结：全面考虑各种可能情况，避免遗漏导致失分。 

---
处理用时：33.99秒
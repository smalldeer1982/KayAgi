# 题目信息

# 「EZEC-3」造房子

## 题目背景

pigstd 要去造房子了。

## 题目描述

pigstd 有 $a$ 个 A 材料和 $b$ 个 B 材料，造**第** $i$ 层楼需要 $i$ 个 A 材料与 $i$ 个 B 材料。

但是 pigstd 觉得房子不够高，于是他拿出了 $c$ 块钱，每块钱都可以用来买 $1$ 个 A 材料或者 $1$ 个 B 材料。

现在 pigstd 想知道，他最多能建多少层楼的房子。

## 说明/提示

**【样例 1 说明】**

pigstd 买 $2$ 个 A 材料和 $1$ 个 B 材料后就有 $3$ 个 A 材料和 $3$ 个 B 材料，最多可以建 $2$ 层楼的房子。

（花费 $1+2$ 个 A 材料和 $1+2$ 个 B 材料）

**【样例 2 说明】**

pigstd 买 $3$ 个 A 材料后就有 $4$ 个 A 材料和 $5$ 个 B 材料，最多可以建 $2$ 层楼的房子。

（花费 $1+2$ 个 A 材料和 $1+2$ 个 B 材料）

**【数据规模与约定】**

对于 $100\%$ 的数据，$0 \le a,b,c \le 10^{12}$。

| 数据点编号 | 满足的条件 |
| :----------: | :----------: |
|$1-4,22$| $c = 0$ |
|$5-8,21$| $a,b,c \le 10^{3}$ |
|$9-12$| $a,b,c \le 10^{6}$ |
|$13-20$| $a,b,c \le 10^{12}$ | 

## 样例 #1

### 输入

```
1 2 3```

### 输出

```
2```

## 样例 #2

### 输入

```
1 5 3```

### 输出

```
2```

# AI分析结果

• 综合分析与结论：这些题解的核心思路均围绕如何合理分配 $c$ 元钱购买材料，使 $A$、$B$ 材料数量尽可能接近，进而求出最多能建楼层数。算法要点包括分类讨论 $c$ 与 $|a - b|$ 的大小关系，以及求解一元二次不等式或枚举答案确定楼层数。解决难点在于理解如何通过调整材料数量来最大化楼层数，以及选择合适的方法求解楼层数。

  云浅知处的题解通过解一元二次不等式得出 $O(1)$ 复杂度的解法，思路清晰，代码简洁高效；Unordered_OIer 的题解详细讨论了不同情况，给出顺序枚举、二分枚举和数学求解三种确定楼层数的方法，内容全面；Aw顿顿的题解提出贪心策略，通过模拟搬砖过程求解，还给出了优化思路。整体来看，这三道题解质量较高。

  所选的题解：
  - 云浅知处（5星）
    - 关键亮点：通过解一元二次不等式得到 $O(1)$ 时间复杂度的解法，思路清晰，代码实现简洁高效。
    - 重点代码及核心思想：
```cpp
#include<cstdio>
#include<algorithm>
#include<cctype>
#include<cmath>

#define LL long long

using namespace std;

LL a,b,c;
int main(void){
    scanf("%lld%lld%lld",&a,&b,&c);
    LL x=max(a,b),y=min(a,b);
    LL m=x-y;
    if(m>c){//如果 x-y>c,即 c+y>x，那就是分类讨论时的第一种情况。
        LL ans=(LL)(((LL)(floor(sqrt(8*(y+c)+1)))-1)/2);//套公式
        printf("%lld\n",ans);
        return 0;
    }
    else{//否则那就是第二种情况
        c-=m;
        LL ans=(LL)(((LL)(floor(sqrt(8*(x+(LL)(c/2))+1)))-1)/2);//套公式
        printf("%lld\n",ans);
    }

    return 0;
}
```
核心思想是先根据 $a$、$b$ 的大小关系及 $c$ 的值分类讨论，再利用解一元二次不等式得出的公式计算最多能建楼层数。

  - Unordered_OIer（4星）
    - 关键亮点：详细分类讨论不同情况，给出顺序枚举、二分枚举和数学求解三种确定楼层数的方法，内容全面。
    - 重点代码及核心思想：
```cpp
// 数学方法代码
cout<<(floor((sqrt(1+8*n)-1)/2))<<endl;
```
核心思想是通过解一元二次不等式得出公式，下取整后得到最多能建楼层数，同时还给出顺序枚举和二分枚举答案的思路及代码。

  - Aw顿顿（4星）
    - 关键亮点：提出贪心策略，尽可能让 $|a - b|$ 小，最大化利用材料，还给出优化原有程序效率的思路。
    - 重点代码及核心思想：
```cpp
#include<bits/stdc++.h>
using namespace std;
long long a,b,c,s,ans;
int main(){
	cin>>a>>b>>c;
	if(abs(a-b)>c)s=min(a,b)+c;
	else s=(a+b+c)/2;
	for(long long i=1;;i++){
		ans+=i;
		if(ans>s){
			cout<<i-1<<endl;
			return 0;
		}
	}
}
```
核心思想是先根据 $c$ 与 $|a - b|$ 的大小关系确定材料总数 $s$，再通过循环模拟搬砖过程，累加每层所需材料数，当超过 $s$ 时输出当前层数减一。

• 最优关键思路或技巧：通过贪心策略，合理分配 $c$ 元钱，使 $A$、$B$ 材料数量尽可能接近，利用解一元二次不等式得出的公式或枚举方法确定最多能建楼层数。

• 可拓展之处：同类型题可拓展到其他资源分配且存在限制条件的场景，类似算法套路是先分析限制条件，通过贪心策略确定资源分配方式，再利用数学方法或枚举求解目标值。

• 相似知识点洛谷题目：
  - P1080 [NOIP2012 提高组] 国王游戏：涉及贪心策略和数据处理。
  - P1199 [NOIP2010 普及组] 三国游戏：需要分析策略，运用贪心思想。
  - P1223 排队接水：典型的贪心算法应用题目。

• 个人心得：无。 

---
处理用时：25.56秒
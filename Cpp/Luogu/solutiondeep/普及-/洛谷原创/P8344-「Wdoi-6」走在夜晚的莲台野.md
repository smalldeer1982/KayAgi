# 题目信息

# 「Wdoi-6」走在夜晚的莲台野

## 题目背景

[![](https://cdn.luogu.com.cn/upload/image_hosting/8brkt9is.png)](https://thwiki.cc/%E8%8E%B2%E5%8F%B0%E9%87%8E%E5%A4%9C%E8%A1%8C)

在科学世纪中，科学昌明，信息科技高度发达，但与此同时，想象力灭绝了，而无法解释的事物则被当做一个错误抹煞，无法解释的神秘也被否定。

宇佐见莲子（莲子）与玛艾露贝莉·赫恩（梅莉）成立了一个社团——秘封俱乐部。作为秘封俱乐部的成员，她们寻找着幻想的境界，在逐渐被人们所遗忘的世界中追寻着真正的美好。

她们的第一个活动，是探寻莲台野的结界缺口。

## 题目描述

### 简要题意

有 $x$ 个金色木板，$y$ 个银色木板，还有一个可放下 $z$ 个木板的空容器。每向容器中放入一个金色木板**后**，会丢弃容器内所有银色木板（需要确保在放金色木板前，容器里至少还能再放得下一个木板）。问是否存在一种方式，使得所有木板都被**放进过**容器中。

------
### 原始题意

在莲台野的入口，莲子与梅莉想要穿过现实与虚幻的结界，进入幻想乡。然而，穿越结界是有一定要求的。

具体而言，在结界边上会有若干个细长木板，其中有 $x$ 个是金色的木板，$y$ 个是银色的木板。梅莉通过自己能够看见结界的能力，发现了一个能够容得下 $z$ 个木板的容器，并且通过自己的潜意识得知了规则：
- 如果她们放进了一个金色的木板（需要确保在放金色木板前，容器里至少还能再放得下一个木板），那么**在容器中所有**银色的木板将被丢弃。
- 最后需要**所有**的木板都被**放入过**容器，结界的大门才将会被打开，即她们能够进入幻想乡。

现在已经是凌晨 2 点 27 分 41 秒，只有在凌晨 2 点 30 分前完成这个问题，她们才能进入幻想乡。现在，莲子和梅莉把这个问题交给了你，希望你能尽快帮她们做出回答——是否存在一种方案，使得她们能否进入幻想乡呢？

由于莲子和梅莉担心你在大半夜糊弄她们，因此她们会一共询问你 $T$ 次。

## 说明/提示

### 样例解释

#### 样例 \#1

- 对于第一次询问，存在如下的方案：
  - 先放三个银色木板；
  - 再放一个金色木板；
  - 再放两个银色木板；
  - 再放一个金色木板；
  - 再放一个银色木板。
- 这样就可以使得每个木板都被放入过容器中，莲子和梅莉可以进入幻想乡，故输出 `Renko`。
- 对于第二次询问，显然不存在方案。
- 对于第三次询问，可以先放进去十个金色木板，再放进去十个银色木板。

#### 样例 \#2

本组样例符合 $\textbf{subtask 2}$ 的要求。

### 数据范围

**本题采用捆绑测试。**

$$
\def\arraystretch{1.5}
\begin{array}{|c|c|c|c|c|c|c|}\hline
\textbf{Subtask} & \textbf{\textsf{分值}} & \bm{T\le } & \bm{x\le} & \bm{y\le} & \bm{z\le} & \textbf{Subtask \textsf{依赖}}\cr\hline
1 & 20 & 1 & 10 & 10 & 10 &-\cr\hline
2 & 30 & 10 & 10^3 & 10^6 & 10^3 &1\cr\hline
3 & 20 & 100 & 10^6 & 10^9 & 10^6 &2\cr\hline
4 & 30 & 1000 & 10^9 & 5 \times10^{17} & 10^9 &3\cr\hline
\end{array}
$$

对 $100\%$ 的数据，保证 $1 \le T \leq 1000$，$1 \leq x,z \leq 10^9$，$1 \leq y \leq 5 \times 10^{17}$。

## 样例 #1

### 输入

```
3
2 6 4
5 8 2
10 10 22```

### 输出

```
Renko
Merry
Renko```

## 样例 #2

### 输入

```
10
221 44724 313
157 60759 464
181 145867 893
182 59650 418
384 168626 631
702 650463 194
617 376055 918
261 215764 955
502 744180 440
9 1626 168```

### 输出

```
Renko
Merry
Renko
Renko
Renko
Merry
Merry
Merry
Merry
Renko```

# AI分析结果

### 综合分析与结论
所有题解均采用贪心策略解决问题，核心思路为每次优先放入尽可能多的银色木板，再放入金色木板清空容器内银色木板，通过分析放入金色木板前后银色木板的放置数量规律，利用等差数列求和公式计算最多能放入的银色木板总数，与给定的银色木板数量 \( y \) 进行比较，并判断金色木板数量 \( x \) 是否小于等于容器容量 \( z \) ，从而得出能否将所有木板放入容器的结论。

各题解在思路清晰度、代码可读性和优化程度上有所差异。部分题解详细阐述了思路推导过程，代码简洁明了；部分题解虽思路正确，但表述或代码存在不够清晰、简洁的问题。

### 所选的题解
- **作者：chen_zhe（5星）**
    - **关键亮点**：思路清晰，先点明优先放银色木板到最后一格再放金色木板的最优策略，再详细推导出通过放入金色木板能承载的银色木板总量公式，代码简洁明了。
    - **个人心得**：无
    - **重点代码及核心思想**：
```cpp
#include <iostream>
using namespace std;
int main()
{
    long long T,x,y,z;
    cin >> T;
    while (T--)
    {
        cin >> x >> y >> z;
        if (x>z)
            cout << "Merry" << endl;
        else
        {
            long long tot=(z-1+(z-x))*x/2+z-x;
            cout << (tot>=y?"Renko":"Merry") << endl;
        }
    }
    return 0;
}
```
核心思想是先判断金色木板数量 \( x \) 是否超过容器容量 \( z \) ，若超过则无解；否则计算最多能放入的银色木板数量 \( tot \) ，与 \( y \) 比较，根据结果输出相应答案。

- **作者：wangzl（5星）**
    - **关键亮点**：同样清晰阐述贪心策略，将过程划分为 \( x \) 次操作，详细说明每次操作放置木板规律，推导出银色木板放置总数公式，逻辑连贯，代码简洁。
    - **个人心得**：无
    - **重点代码及核心思想**：
```cpp
#include<iostream>
#include<cstdio>
using namespace std;
long long t, x, y, z;
int main() {
    scanf("%lld", &t);
    for (long long i = 1; i <= t; ++i) {
        scanf("%lld%lld%lld", &x, &y, &z);
        if(x <= z && (z - 1 + z - x) * x / 2 + z - x >= y) printf("Renko\n");
        else printf("Merry\n");
    }
    return 0;
}
```
核心思想与 chen_zhe 的代码类似，先判断 \( x \) 与 \( z \) 的关系，再计算最多能放入银色木板数量并与 \( y \) 比较，输出结果。

- **作者：Ask_sum（4星）**
    - **关键亮点**：分条件逐步分析，先指出金色木板数量 \( x \) 不得超过容器大小 \( z \) 这一限定条件，再详细推导在金色木板用完之前最多可放入银色木板数量的公式，以及考虑剩余空间后总共可放置银色木板数量的公式，思路清晰，代码有快读优化。
    - **个人心得**：无
    - **重点代码及核心思想**：
```cpp
#include<bits/stdc++.h>
#define ll long long
using namespace std;
inline ll read(){//快读 
    char ch=getchar();
    ll f=1,x=0;
    while(ch<'0'||ch>'9'){
        if(ch=='-')f=-1;
        ch=getchar();
    }
    while(ch>='0'&&ch<='9'){
        x=(x<<3)+(x<<1)+ch-'0';
        ch=getchar();
    }
    return f*x;
}
ll T,x,y,z;//注意开long long 
int main(){
    T=read();
    ll sum=0;
    while(T--){
        x=read(),y=read(),z=read();
        ll k=(2*z-1-x)*x/2+z-x;//本题核心部分 
        if(y>k||x>z)cout<<"Merry"<<endl;
        else cout<<"Renko"<<endl;//输出 
    }
    return 0;
}
```
核心思想是通过快读获取输入数据，计算最多能放入银色木板的数量 \( k \) ，结合 \( x \) 与 \( z \) 的关系判断并输出结果。

### 最优的关键思路或技巧
- **贪心策略**：优先放入尽可能多的银色木板，再放入金色木板，以最大化利用容器空间放置银色木板。
- **等差数列求和优化**：通过分析每次操作可放入银色木板数量的规律，利用等差数列求和公式计算总量，将原本线性时间复杂度优化到 \( O(1) \)。

### 可拓展之处
同类型题通常围绕资源分配、条件限制下的可行性判断等场景展开，类似算法套路是先确定贪心策略，找到关键的数量变化规律，利用数学公式简化计算过程，从而高效解决问题。

### 相似知识点洛谷题目
- **P1080 [NOIP2012 提高组] 国王游戏**：涉及贪心策略和高精度计算，通过分析数据规律确定最优的排列顺序。
- **P1248 加工生产调度**：运用贪心思想，根据不同机器加工时间的特点，合理安排生产顺序以优化总时间。
- **P1909 [NOIP2016 普及组] 买铅笔**：同样是在多种购买方案（不同包装铅笔数量和价格不同）下，利用贪心策略选择最省钱的购买方式。

### 个人心得摘录与总结
无。 

---
处理用时：30.18秒
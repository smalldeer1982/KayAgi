# 题目信息

# 毕业后

## 题目背景

毕业后，同学们都在热烈讨论高中的计划。所有人总是难以避开一个话题——学考。

在浙江，高中生除了要参加普通高等学校招生全国统一考试（简称高考）以外，还要参加普通高中学业水平考试（简称学考）。学生要在高一下、高二上和高二下各参加一次学考。

## 题目描述

**注意：题目中的部分描述可能和现实有所出入。**

学考会考查高中所有科目，并根据成绩分层评级，自高到低为 A~E。每门科目都会按照一个确定的比率 $w$（所有学科都相同）确定 E 等人数。如果学考有**大于一门**科目拿到了 E 等（不合格），该学生将不能毕业。

在另一个平行世界里，高中总共有 $a$ 门科目。全省共有 $b$ 名考生。如果 E 等的分数线过高，可能会导致总存在某些人毕不了业的情况。现在，考试院院长找到了你，希望你确定学考 E 等占所有考生的**最大**比例（即，最大化 $w$ 的值），使得**存在**至少一种方案，能使浙江所有考生都能毕业。

如果按照某个比例算出来的 E 等考生数不为整数，则将考生数**向上**取整。

## 说明/提示

#### 样例 1 解释

将 E 等比率设成 $\frac{1}{2}$，此时每门科目都恰好有一名考生不合格。当第一名考生在第一门科目不合格，第二名考生在第二门科目不合格时，所有考生都能毕业。所以 $\frac{1}{2}$ 是满足要求的。

可以证明不存在更优的方案。

### 数据规模与约定

对于所有数据，$1\le a, b\le 10000$。

$$
\def\arraystretch{1.5}
\begin{array}{|c|c|}\hline
\bf{测试点} & \bf{特殊性质}
\\
\hline
1\sim3 & b=1\\\hline
4\sim6 & a=b \\\hline
7\sim10 & /\\\hline
\end{array}
$$

做完这道题，你能否说明，为什么现实中，浙江 E 等不能超过 $5\%$ 呢？

## 样例 #1

### 输入

```
2 2```

### 输出

```
0.5000000000000000```

## 样例 #2

### 输入

```
114 514```

### 输出

```
0.0077821011673152```

## 样例 #3

### 输入

```
191 9810```

### 输出

```
0.0051987767584098```

# AI分析结果

• 综合分析与结论：这些题解主要围绕如何确定学考E等占比最大值展开。多数题解思路是基于容斥原理或抽屉原理，通过建立不等式关系求解。部分题解采用直接推导公式的方法，部分采用二分答案的方式。直接推导公式的方法时间复杂度为O(1)，效率高；二分答案方法时间复杂度为O(log(1/eps))，eps为精度要求，虽然精度可保证，但效率相对低。解决难点在于正确理解题意，建立准确的数学关系，特别是处理向上取整函数及不等式变形。
- **5ab_juruo**（5星）
  - **关键亮点**：思路清晰，先分析特殊子任务，再通过推导不等式得出通用公式，代码简洁高效。
  - **个人心得**：无
  - **重点代码**：
```cpp
#include <iostream>
#include <iomanip>
using namespace std;

typedef long long ll;

signed main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);

    int a, b;

    cin >> a >> b;
    cout << fixed << setprecision(10) << double(b / a) / b;

    return 0;
}
```
  - **核心实现思想**：根据条件建立不等式 \(a\lceil bw\rceil \leq b\)，通过不等式变形得出 \(w\leq \frac{\left\lfloor\frac{b}{a}\right\rfloor}{b}\)，直接输出结果。
- **hycqwq**（5星）
  - **关键亮点**：简洁明了地简化题面，利用容斥原理直接得出每科E等人数上限，进而得到最大比例公式，代码简洁。
  - **个人心得**：无
  - **重点代码**：
```cpp
#include <cstdio>
using namespace std;

int main()
{
    int a, b;
    scanf("%d%d", &a, &b);
    printf("%.15lf\n", 1.0 * (b / a) / b);
    return 0;
}
```
  - **核心实现思想**：根据容斥原理得出每科E等人数最多为 \(\lfloor b \div a \rfloor\)，再除以总人数 \(b\) 得到最大比例 \(w_{\max} = \dfrac{\lfloor b \div a \rfloor}{b}\) 并输出。
- **ArcherHavetoLearnWhk**（4星）
  - **关键亮点**：清晰阐述题意和解题思路，通过分析每个考生至多一科E等的情况，快速得出每科E等人数及最大比例公式，代码简短。
  - **个人心得**：提到看不懂题目或想不到解法时分析样例的技巧。
  - **重点代码**：
```cpp
#include<bits/stdc++.h>
double a,b,c;
int main(){
    scanf("%lf%lf",&a,&b);
    printf("%.12lf",floor(b/a)/b);
}
```
  - **核心实现思想**：基于每个考生至多一科E等，算出每科最多 \(\lfloor b/a\rfloor\) 人E等，进而得出最大比例为 \(\frac{\lfloor b/a\rfloor}{b}\) 并输出。

• 最优关键思路或技巧：利用容斥原理或抽屉原理，建立关于每科E等人数与总人数、科目数的不等式关系，通过合理的不等式变形求解最大比例，避免直接消去变量导致错误。同时，在处理向上取整函数时，利用 \(\lceil x\rceil\leq y \Leftrightarrow x\leq \lfloor y\rfloor\) 的性质进行转化。

• 可拓展之处：此类题型属于数学推理与算法结合的问题，类似套路可用于解决资源分配、比例控制等场景下的最值问题，关键在于建立准确的数学模型。

• 推荐洛谷题目：
  - P1083 借教室：涉及资源分配与不等式判断，可通过二分答案解决。
  - P2678 [NOIP2015 提高组] 跳石头：同样是二分答案的题目，与本题在思路上有相似之处。
  - P3853 [TJOI2007] 路标设置：通过二分查找确定最优解，考察对问题的数学建模和算法应用能力。 

---
处理用时：21.40秒
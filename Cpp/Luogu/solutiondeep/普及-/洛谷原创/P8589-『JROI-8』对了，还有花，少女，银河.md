# 题目信息

# 『JROI-8』对了，还有花，少女，银河

## 题目背景

![1663764189387.png](https://img-kysic-1258722770.file.myqcloud.com/9d24e2bd5b20f277e72914b1bc44543e/44b6413b44c70.png)

>「其一」\
即使化身白骨，也有不想忘记的东西

**已获得转载授权。**

## 题目描述

给定 $n$，请构造一个长度为 $n$ 的仅包含 $0,1$ 的数字串，满足 $01,00,10,11$ 出现的次数相等。或报告无解。

这里“出现”指与原字符串中连续的一部分完全相同。例如，在 $1011101$ 中，$01,00,10,11$ 分别出现了 $2,0,2,2$ 次。

**请注意，大样例不以文件附加形式给出，而直接放在题目的 输入输出样例 中的 样例 #3**

## 说明/提示

【数据范围与提示】

| 测试点编号 | 分数 | $n\leq$ | 特殊性质 |
| -----------: | -----------: | -----------: | -----------: |
| $1\sim 2$ | $20$ | $5$ | 无 |
| $3\sim 4$ | $20$ | $10^6$ | $n \bmod 4 = 0$ |
| $5\sim 6$ | $20$ | $20$ | 无 |
| $7 \sim 10$ | $40$ | $10^6$ | 无 |

## 样例 #1

### 输入

```
3```

### 输出

```
-1```

## 样例 #2

### 输入

```
5```

### 输出

```
00110```

## 样例 #3

### 输入

```
15400```

### 输出

```
-1```

# AI分析结果

• 综合分析与结论：
    - 思路方面，多数题解先通过分析长度为 \(n\) 的字符串中长度为 \(2\) 的子串数量 \(n - 1\)，得出要使 \(01\)、\(00\)、\(10\)、\(11\) 出现次数相等，需满足 \((n - 1) \bmod 4 = 0\)，即 \(n \bmod 4 = 1\)，否则无解。
    - 算法要点在于判断 \(n\) 是否满足 \(n \bmod 4 = 1\) 且 \(n \neq 1\)，若满足则进行构造。构造方式多参考样例 \(00110\)，发现可先输出一个 \(0\)，然后输出 \(\lfloor\frac{n}{4}\rfloor\) 个 \(0110\) 或先输出 \(\frac{n - 1}{4}\) 个 \(0011\) 最后输出 \(0\)。
    - 解决难点在于找出有解的条件以及构造满足条件的字符串。部分题解通过暴力 DFS 先找出规律，再进行构造；部分题解直接从样例入手分析规律。

    - 整体来看，各题解思路相近，主要差异在于代码实现的细节、思路阐述的清晰度以及是否考虑特殊情况。

  - 所选的题解：
    - 作者：AThls123 (5星)
      - 关键亮点：先通过暴力 DFS 程序找出有解的条件，即 \(n \bmod 4 = 1\) 时可能有解，思路清晰且具有探索性。然后详细阐述构造序列的方法，并给出证明。代码实现简洁明了，注释详细。
      - 个人心得：无
      - 重点代码：
```cpp
#include<iostream>
using namespace std;
int main() {
    long long n;cin >> n;
    if ((n - 1) % 4 == 0&&n!=1) {
        for (int i = 1; i <= n/4; i++)cout << "0011";
        cout << 0 << endl;
        return 0;
    }
    else cout<<-1<<endl;
    return 0;
}
```
核心实现思想：先判断 \(n\) 是否满足 \((n - 1) \bmod 4 = 0\) 且 \(n \neq 1\)，若满足则循环输出 \(\frac{n}{4}\) 个 \(0011\) 后再输出一个 \(0\)，否则输出 \(-1\)。

    - 作者：xwh_Marvelous (4星)
      - 关键亮点：从观察样例出发，通过枚举 \(n\) 发现 \(n \bmod 4 = 1\) 有解的规律，并对有解条件进行简单推导。代码简洁，逻辑清晰。
      - 个人心得：吐槽出题人设置虚假特殊性质误导选手。
      - 重点代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n;
int main(){
    scanf("%d",&n);
    n--;
    if(n%4!=0){
        printf("-1");
        return 0;
    }
    putchar('0');
    for(int i=1;i<=n/4;i++)printf("0110");
    return 0;
}
```
核心实现思想：先将输入的 \(n\) 减 \(1\) 判断是否为 \(4\) 的倍数，若不是则输出 \(-1\)；若是则先输出一个 \(0\)，再循环输出 \(\frac{n - 1}{4}\) 个 \(0110\)。

    - 作者：__Allen_123__ (4星)
      - 关键亮点：详细分析了有解的条件，即 \((n - 1) \bmod 4 = 0\) 也就是 \(n \bmod 4 = 1\)，同时特别指出 \(n = 1\) 时也无解。通过分析样例得出构造字符串的方法，代码注释清晰。
      - 个人心得：无
      - 重点代码：
```cpp
#include <bits/stdc++.h>
using namespace std;
int n;
int main(){
    scanf("%d", &n);
    if(n % 4!= 1 || n == 1){ 
        printf("-1");
        return 0;
    }
    printf("0");
    for(int i = 1;i <= n / 4;i++){ 
        printf("0110");
    }
    return 0;
}
```
核心实现思想：判断 \(n\) 是否满足 \(n \bmod 4 = 1\) 且 \(n \neq 1\)，满足则先输出 \(0\)，再循环输出 \(\lfloor\frac{n}{4}\rfloor\) 个 \(0110\)，否则输出 \(-1\)。

• 最优关键思路或技巧：
    - 思维方式上，通过分析子串数量与出现次数相等的关系得出有解条件，从样例出发寻找构造规律，这种从特殊到一般的归纳思维很重要。
    - 代码实现上，简洁明了地根据有解条件进行字符串构造，注意边界条件如 \(n = 1\) 的处理。

• 同类型题或类似算法套路拓展：
此类构造题通常需要通过分析题目条件，找出关键的限制因素（如本题中的子串数量与出现次数关系）来确定是否有解，再从样例或简单情况入手寻找构造规律。对于类似判断可行性并构造的题目，都可尝试先找出必要条件，再通过特殊情况归纳出通用的构造方法。

• 洛谷相似题目推荐：
    - P1088 [NOIP2004 普及组] 火星人：涉及到排列组合与构造，需根据给定规则构造出特定的排列。
    - P1149 火柴棒等式：通过分析火柴棒数量与等式构造的关系，找出满足条件的等式，与本题分析条件找规律构造类似。
    - P1469 [USACO2.1] 回文平方数 Palindromic Squares：判断并构造回文平方数，同样需要分析条件并按规则构造。 

---
处理用时：27.39秒
# 题目信息

# [NOIP 2008 普及组] 排座椅

## 题目描述

上课的时候总会有一些同学和前后左右的人交头接耳，这是令小学班主任十分头疼的一件事情。不过，班主任小雪发现了一些有趣的现象，当同学们的座次确定下来之后，只有有限的 $D$ 对同学上课时会交头接耳。

同学们在教室中坐成了 $M$ 行 $N$ 列，坐在第 $i$ 行第 $j$ 列的同学的位置是 $(i,j)$，为了方便同学们进出，在教室中设置了 $K$ 条横向的通道，$L$ 条纵向的通道。

于是，聪明的小雪想到了一个办法，或许可以减少上课时学生交头接耳的问题：她打算重新摆放桌椅，改变同学们桌椅间通道的位置，因为如果一条通道隔开了 $2$ 个会交头接耳的同学，那么他们就不会交头接耳了。

请你帮忙给小雪编写一个程序，给出最好的通道划分方案。在该方案下，上课时交头接耳的学生的对数最少。


## 说明/提示

![](https://cdn.luogu.com.cn/upload/image_hosting/0z0p5x1i.png)

上图中用符号\*、※、+标出了 $3$ 对会交头接耳的学生的位置，图中 $3$ 条粗线的位置表示通道，图示的通道划分方案是唯一的最佳方案。

2008 年普及组第二题


## 样例 #1

### 输入

```
4 5 1 2 3
4 2 4 3
2 3 3 3
2 5 2 4
```

### 输出

```
2
2 4
```

# AI分析结果

### 综合分析与结论

本题的核心是通过贪心算法选择最优的通道划分方案，使得被隔开的交头接耳学生对数最多。大多数题解都采用了类似的结构体排序方法，通过统计每行或每列能隔开的学生对数，然后进行排序，选择前K条或L条通道。整体思路清晰，代码实现较为简洁。

### 所选题解

#### 1. 作者：chrispang (赞：11)
- **星级**：4.5星
- **关键亮点**：
  - 使用结构体记录每条通道的坐标和能隔开的学生对数，代码结构清晰。
  - 通过两次排序（先按隔开人数排序，再按坐标排序）确保选择最优通道。
  - 代码可读性强，注释详细，适合初学者理解。

```cpp
struct node{
    int x, n; //x表示分开的行或列，n表示分开的人数 
}x[1010], y[1010];

bool cmp1(node a, node b) {
    return a.n > b.n;
}

bool cmp2(node a, node b) {
    return a.x < b.x;
}

sort(x + 1, x + 1 + 1000, cmp1); //分开人数多的放前面
sort(y + 1, y + 1 + 1000, cmp1);
sort(x + 1, x + 1 + k, cmp2); //整理答案 
sort(y + 1, y + 1 + l, cmp2);
```

#### 2. 作者：Feuer (赞：11)
- **星级**：4星
- **关键亮点**：
  - 使用桶排序的思路，统计每条通道能隔开的学生对数。
  - 通过排序选出最佳的K条或L条通道，代码简洁高效。
  - 输出时只输出大于等于临界值的通道，避免了不必要的输出。

```cpp
sort(rowpos, rowpos+m);
sort(colpos, colpos+n);
int rowlim = rowpos[m-k];
int collim = colpos[n-l];

for(int i=1; i<=m; i++)
    if(rowcopy[i] >= rowlim)
        cout<<i<<' ';
cout<<endl;
for(int i=1; i<=n; i++)
    if(colcopy[i] >= collim)
        cout<<i<<' ';
cout<<endl;
```

#### 3. 作者：ggpw_XNW (赞：6)
- **星级**：4星
- **关键亮点**：
  - 使用贪心算法，通过结构体记录每条通道的坐标和能隔开的学生对数。
  - 通过两次排序（先按隔开人数排序，再按坐标排序）确保选择最优通道。
  - 代码简洁，注释详细，适合初学者理解。

```cpp
bool cmp1(Node x, Node y){
    return x.num > y.num;
}
bool cmp2(Node x, Node y){
    return x.p < y.p;
}
sort(a+1,a+m+1,cmp1);sort(b+1,b+n+1,cmp1);
sort(a+1,a+k+1,cmp2);sort(b+1,b+l+1,cmp2);
```

### 最优关键思路与技巧

1. **贪心算法**：通过选择能隔开最多学生对的通道，确保整体效果最优。
2. **结构体排序**：使用结构体记录每条通道的坐标和能隔开的学生对数，便于排序和选择。
3. **两次排序**：先按隔开人数排序选择最优通道，再按坐标排序输出结果。

### 可拓展之处

- **类似题目**：可以扩展到其他需要选择最优划分方案的题目，如资源分配、任务调度等。
- **算法优化**：可以考虑使用更高效的排序算法或数据结构（如优先队列）来优化性能。

### 推荐题目

1. [P1055 矩阵取数游戏](https://www.luogu.com.cn/problem/P1055)
2. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)
3. [P1064 金明的预算方案](https://www.luogu.com.cn/problem/P1064)

### 个人心得总结

- **调试经历**：部分题解提到在调试过程中遇到了排序不稳定或输出格式错误的问题，建议在排序时注意稳定性，并在输出时控制好格式。
- **踩坑教训**：在使用贪心算法时，确保选择的局部最优解能够推导出全局最优解，避免陷入局部最优。
- **顿悟感想**：通过结构体排序和贪心算法的结合，能够高效解决类似的最优化问题，代码实现也相对简洁。

---
处理用时：32.98秒
# 题目信息

# [NOIP 2009 普及组] 多项式输出

## 题目描述

一元 $n$ 次多项式可用如下的表达式表示：

$$f(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots +a_1x+a_0,a_n\ne 0$$

其中，$a_ix^i$ 称为 $i$ 次项，$a_i$ 称为 $i$ 次项的系数。给出一个一元多项式各项的次数和系数，请按照如下规定的格式要求输出该多项式：

1. 多项式中自变量为 $x$，从左到右按照次数递减顺序给出多项式。

2. 多项式中只包含系数不为 $0$ 的项。

3. 如果多项式 $n$ 次项系数为正，则多项式开头不出 `+` 号，如果多项式 $n$ 次项系数为负，则多项式以 `-` 号开头。

4. 对于不是最高次的项，以 `+` 号或者 `-` 号连接此项与前一项，分别表示此项系数为正或者系数为负。紧跟一个正整数，表示此项系数的绝对值（如果一个高于 $0$ 次的项，其系数的绝对值为 $1$，则无需输出 $1$）。如果 $x$ 的指数大于 $1$，则接下来紧跟的指数部分的形式为“$x^b$”，其中 $b$ 为 $x$ 的指数；如果 $x$ 的指数为 $1$，则接下来紧跟的指数部分形式为 $x$；如果 $x$ 的指数为 $0$，则仅需输出系数即可。

5. 多项式中，多项式的开头、结尾不含多余的空格。


## 说明/提示

NOIP 2009 普及组 第一题

对于100%数据，$0 \le n \le 100$，$-100 \le $系数$ \le 100$

---

$\text{upd 2022.8.1}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 
100 -1 1 -3 0 10```

### 输出

```
100x^5-x^4+x^3-3x^2+10```

## 样例 #2

### 输入

```
3 
-50 0 0 1 
```

### 输出

```
-50x^3+1 
```

# AI分析结果

### 综合分析与结论

本题是一个典型的模拟题，主要考察对多项式输出格式的处理能力。题解的核心思路大多围绕如何根据系数的正负、绝对值是否为1、以及指数的不同情况来输出正确的格式。难点在于处理各种边界情况，如系数为0、指数为1或0、以及多项式的开头和结尾格式。

大多数题解都采用了分情况讨论的策略，逐个处理每一项的输出。部分题解通过引入标志变量或数组来简化逻辑，但整体思路大同小异。代码实现上，部分题解通过使用`abs()`函数和条件判断来减少冗余代码，提高了代码的可读性和简洁性。

### 所选高分题解

#### 1. 作者：Loyal_Soldier (★★★★★)
**关键亮点**：
- 思路清晰，分情况讨论，逻辑简洁。
- 代码可读性强，使用`abs()`函数减少冗余代码。
- 处理了所有边界情况，如系数为0、指数为1或0等。

**核心代码**：
```cpp
for(int i=n;i>=0;i--){
    int x;
    cin>>x;
    if(x){
        if(i!=n&&x>0)
            cout<<'+';
        if(i!=0&&x==-1)
            cout<<'-';
        if(abs(x)>1||i==0)
            cout<<x;
        if(i>1)
            cout<<"x^"<<i;
        if(i==1)
            cout<<'x';
    }
}
```
**实现思想**：通过循环从高次项到低次项处理每一项，根据系数的正负、绝对值是否为1以及指数的不同情况输出正确的格式。

#### 2. 作者：WsW_ (★★★★☆)
**关键亮点**：
- 分阶段处理符号、系数和次数，逻辑清晰。
- 使用`putchar()`函数提高输出效率。
- 代码简洁，处理了所有边界情况。

**核心代码**：
```cpp
for(int i=n;i>=0;i--){
    int a; scanf("%d",&a);
    if(!a)continue;
    if(a>0&&i!=n)putchar('+');
    if(a<0)putchar('-');
    if(abs(a)!=1||!i)printf("%d",abs(a));
    if(i){
        putchar('x');
        if(i!=1)printf("^%d",i);
    }
}
```
**实现思想**：分阶段处理符号、系数和次数，使用`putchar()`和`printf()`函数输出，代码简洁高效。

#### 3. 作者：qhr2023 (★★★★☆)
**关键亮点**：
- 思路清晰，分情况讨论，逻辑简洁。
- 使用`abs()`函数减少冗余代码。
- 处理了所有边界情况，代码可读性强。

**核心代码**：
```cpp
for(int i=n;i>=0;i--){
    cin>>a;
    if(a){
        if(i<n&&a>0) cout<<'+';
        if(abs(a)>1||i==0) cout<<a;
        if(a==-1&&i) cout<<'-';
        if(i>0) cout<<'x';
        if(i>1) cout<<'^'<<i;
    }
}
```
**实现思想**：通过循环从高次项到低次项处理每一项，根据系数的正负、绝对值是否为1以及指数的不同情况输出正确的格式。

### 最优关键思路与技巧

1. **分情况讨论**：根据系数的正负、绝对值是否为1、以及指数的不同情况，分阶段处理输出格式。
2. **使用`abs()`函数**：减少冗余代码，提高代码可读性。
3. **循环从高次项到低次项**：确保多项式按次数递减顺序输出。
4. **处理边界情况**：如系数为0、指数为1或0、以及多项式的开头和结尾格式。

### 可拓展之处

- **类似题目**：处理其他格式化的输出问题，如多项式求导、多项式乘法等。
- **算法套路**：分情况讨论、边界处理、循环结构等。

### 推荐洛谷题目

1. [P1068 多项式乘法](https://www.luogu.com.cn/problem/P1068)
2. [P1070 多项式求导](https://www.luogu.com.cn/problem/P1070)
3. [P1071 多项式除法](https://www.luogu.com.cn/problem/P1071)

### 个人心得摘录

- **调试经历**：在处理系数为0的情况时，容易遗漏跳过逻辑，导致输出多余项。
- **踩坑教训**：在处理指数为1的情况时，容易忘记省略`^1`，导致格式错误。
- **顿悟感想**：通过分阶段处理符号、系数和次数，可以大大简化代码逻辑，提高代码可读性。

### 通用建议与扩展思路

- **通用建议**：在处理格式化输出问题时，务必考虑所有边界情况，分阶段处理各个部分，确保输出格式正确。
- **扩展思路**：可以尝试将多项式输出问题扩展到多项式运算（如加法、乘法、求导等），进一步巩固对多项式处理的理解。

---
处理用时：40.94秒
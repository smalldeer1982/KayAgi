# 题目信息

# SAC E#1 - 一道不可做题 Jelly

## 题目背景

SOL君（炉石主播）和SOL菌（完美信息教室讲师）是好朋友。


## 题目描述

SOL君很喜欢吃蒟蒻果冻。而SOL菌也很喜欢蒟蒻果冻。

有一天，他们在一起搓炉石，而SOL菌则要拿出蒟蒻果冻招待他的客人。

蒟蒻果冻一般在a度下保存在冰箱里。但是刚拿出来的时候太冰了，需要加热。SOL菌打算用一种神奇的电炉加热蒟蒻果冻。根据观察，它有一个特点：

1、蒟蒻果冻小于c度的时候，每p单位时间加热1单位温度；

2、当蒟蒻果冻等于c度的时候，需要q单位时间解冻（大家都知道，晶体物态变化温度不变……SOL君认为果冻属于晶体）；

3、当蒟蒻果冻解冻完成之后，每r单位时间加热1单位温度。


SOL想知道，将果冻加热x单位时间的时候果冻的温度。

温度向下取整，也就是说，如果加热结束时不足p（或q）单位时间，则认为在这最后一小段时间内果冻温度没有任何变化。


## 说明/提示

对于 $30\%$ 的数据，$|a|, |c| \leq 200, x \leq 100$。

对于 $60\%$ 的数据，$|a|, |c| \leq 2 \times 10^9, x \leq 100$。

对于 $100\%$ 的数据，$|a|, |c| \leq 2 \times 10^9, 1 \leq x, p, q, r \leq 10^9$。

数据中可能有 $a = c$，此时算还未解冻的状态。


提示：请使用long long数据类型。


## 样例 #1

### 输入

```
-10 0 2 1 3 26
```

### 输出

```
1```

## 样例 #2

### 输入

```
-10 0 2 1 3 27```

### 输出

```
2```

# AI分析结果

### 综合分析与结论

该题目要求根据给定的初始温度、解冻温度、加热时间等参数，计算果冻在加热后的最终温度。题解主要集中在模拟加热过程，并根据不同情况（初始温度低于、等于或高于解冻温度）进行分类讨论。大多数题解采用了直接模拟或分段计算的方法，部分题解通过优化避免了循环模拟，提高了效率。

### 所选高星题解

#### 1. **作者：kkksc03 (5星)**
- **关键亮点**：简洁明了的分段计算，避免了循环模拟，直接通过数学公式计算最终温度。代码清晰，逻辑严谨，适用于大规模数据。
- **核心代码**：
  ```cpp
  if (a > c) return a + x / r;
  if (a == c) {
      if (x <= q) return c;
      else return c + (x - q) / r;
  }
  if (a < c) {
      if (x <= (c - a) * p) return a + x / p;
      if (x <= (c - a) * p + q) return c;
      else return c + (x - (c - a) * p - q) / r;
  }
  ```
- **个人心得**：通过分段计算，避免了复杂的循环模拟，直接通过数学公式得出结果，极大提高了代码的效率和可读性。

#### 2. **作者：盖伦的好朋友 (4星)**
- **关键亮点**：通过提前计算各个阶段的时间，避免了循环模拟，代码简洁且高效。特别处理了初始温度高于解冻温度的情况。
- **核心代码**：
  ```cpp
  int work() {
      int te = c - a;
      int t1 = te * p;
      int t2 = t1 + q;
      if (a < c) {
          if (x <= t1) return a + x / p;
          if (x > t1 && x <= t2) return c;
          if (x > t2) return c + (x - t2) / r;
      }
      if (a > c) return a + x / r;
  }
  ```
- **个人心得**：通过提前计算各个阶段的时间，避免了循环模拟，代码简洁且高效。特别处理了初始温度高于解冻温度的情况。

#### 3. **作者：月影困 (4星)**
- **关键亮点**：通过直接判断和分段计算，避免了循环模拟，代码简洁且高效。特别处理了初始温度高于解冻温度的情况。
- **核心代码**：
  ```cpp
  if (a <= c) {
      if ((c - a) * p >= x) return a + x / p;
      x -= (c - a) * p;
      if (q >= x) return c;
      x -= q;
      return c + x / r;
  }
  if (a > c) return a + x / r;
  ```
- **个人心得**：通过直接判断和分段计算，避免了循环模拟，代码简洁且高效。特别处理了初始温度高于解冻温度的情况。

### 最优关键思路与技巧

1. **分段计算**：通过将加热过程分为几个阶段（加热到解冻温度、解冻、继续加热），直接计算每个阶段所需的时间，避免循环模拟，提高效率。
2. **数学公式**：利用数学公式直接计算最终温度，减少代码复杂度，提高可读性。
3. **特殊情况处理**：特别处理初始温度高于解冻温度的情况，避免遗漏。

### 可拓展之处

- **类似题目**：可以考虑其他需要分段计算或模拟过程的题目，如温度变化、时间管理等。
- **优化思路**：在模拟过程中，通过数学公式或提前计算来优化循环模拟，提高效率。

### 推荐洛谷题目

1. **P1001 A+B Problem**：基础题目，练习输入输出和简单计算。
2. **P1042 乒乓球**：模拟题目，练习分段计算和逻辑判断。
3. **P1059 明明的随机数**：排序和去重题目，练习数据处理和算法优化。

### 个人心得总结

- **调试经历**：在处理初始温度高于解冻温度的情况时，容易遗漏，导致部分测试点无法通过。
- **踩坑教训**：在模拟过程中，循环模拟容易导致超时，应尽量通过数学公式或提前计算来优化。
- **顿悟感想**：通过分段计算和数学公式，可以极大简化代码，提高效率和可读性。

---
处理用时：37.82秒
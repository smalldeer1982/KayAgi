# 题目信息

# 跳跳！

## 题目描述

你是一只小跳蛙，你特别擅长在各种地方跳来跳去。

这一天，你和朋友小 F 一起出去玩耍的时候，遇到了一堆高矮不同的石头，其中第 $i$ 块的石头高度为 $h_i$，地面的高度是 $h_0 = 0$。你估计着，从第 $i$ 块石头跳到第 $j$ 块石头上耗费的体力值为 $(h_i - h_j) ^ 2$，从地面跳到第 $i$ 块石头耗费的体力值是 $(h_i) ^ 2$。

为了给小 F 展现你超级跳的本领，你决定跳到每个石头上各一次，并最终停在任意一块石头上，并且小跳蛙想耗费**尽可能多**的体力值。

当然，你只是一只小跳蛙，你只会跳，不知道怎么跳才能让本领更充分地展现。

不过你有救啦！小 F 给你递来了一个写着 AK 的电脑，你可以使用计算机程序帮你解决这个问题，万能的计算机会告诉你怎么跳。

那就请你——会写代码的小跳蛙——写下这个程序，为你 NOIp AK 踏出坚实的一步吧！

## 说明/提示

#### 样例解释

两个样例按照输入给定的顺序依次跳上去就可以得到最优方案之一。

#### 数据范围
对于 $1 \leq i \leq n$，有 $0 < h_i \leq 10 ^ 4$，且保证 $h_i$ 互不相同。

对于 $10\%$ 的数据，$n \leq 3$；

对于 $20\%$ 的数据，$n \leq 10$；

对于 $50\%$ 的数据，$n \leq 20$；

对于 $80\%$ 的数据，$n \leq 50$；

对于 $100\%$ 的数据，$n \leq 300$。

## 样例 #1

### 输入

```
2
2 1```

### 输出

```
5```

## 样例 #2

### 输入

```
3
6 3 5
```

### 输出

```
49```

# AI分析结果

### 综合分析与结论

本题的核心是通过贪心策略最大化体力消耗。所有题解都基于排序后的石头高度，采用“左右横跳”的策略，即从地面跳到最高石头，再跳到最低石头，接着跳到次高石头，依此类推。这种策略的合理性通过数学证明得到了验证，确保了其最优性。

### 所选高星题解

#### 1. 作者：UnyieldingTrilobite (5星)
- **关键亮点**：提供了详细的数学证明，解释了为什么从地面跳到最高石头是最优的。通过分类讨论，证明了任何其他跳跃顺序都会导致体力消耗减少。
- **代码实现**：代码简洁明了，直接实现了贪心策略。
```cpp
// 核心代码：排序后左右横跳
sort(h+1, h+n+1);
int l = 0, r = n;
long long ans = 0;
while (l < r) {
    ans += (h[r] - h[l]) * (h[r] - h[l]);
    l++;
    ans += (h[l] - h[r]) * (h[l] - h[r]);
    r--;
}
cout << ans;
```

#### 2. 作者：JASON杨 (4星)
- **关键亮点**：通过具体例子（3个石头）详细说明了贪心策略的正确性，并进行了数学推导，证明了该策略的最优性。
- **代码实现**：代码清晰，使用了两个指针来实现跳跃。
```cpp
// 核心代码：排序后左右横跳
sort(h+1, h+n+1);
int l = 0, r = n;
long long ans = 0;
while (l < r) {
    ans += (h[r] - h[l]) * (h[r] - h[l]);
    l++;
    ans += (h[l] - h[r]) * (h[l] - h[r]);
    r--;
}
cout << ans;
```

#### 3. 作者：Gumbo (4星)
- **关键亮点**：通过模拟和数学推导，证明了贪心策略的最优性，并指出该策略是“最优策略之一”。
- **代码实现**：代码简洁，直接实现了贪心策略。
```cpp
// 核心代码：排序后左右横跳
sort(h+1, h+n+1);
int l = 0, r = n;
long long ans = 0;
while (l < r) {
    ans += (h[r] - h[l]) * (h[r] - h[l]);
    l++;
    ans += (h[l] - h[r]) * (h[l] - h[r]);
    r--;
}
cout << ans;
```

### 最优关键思路或技巧

1. **排序与贪心**：首先对石头高度进行排序，然后采用“左右横跳”的策略，确保每次跳跃的体力消耗最大化。
2. **数学证明**：通过数学推导和分类讨论，证明了贪心策略的最优性，确保了算法的正确性。
3. **双指针技巧**：使用两个指针分别指向当前跳跃的起点和终点，简化了跳跃过程的实现。

### 可拓展之处

- **类似问题**：可以扩展到其他需要最大化或最小化某种代价的问题，如最短路径、最大收益等。
- **贪心策略**：在其他贪心算法中，类似的“极值优先”策略也可以应用，如任务调度、背包问题等。

### 推荐题目

1. **P1090 合并果子**：贪心策略的应用，通过每次合并最小的两堆果子来最小化体力消耗。
2. **P1223 排队接水**：贪心策略的应用，通过排序和合理安排接水顺序来最小化等待时间。
3. **P1803 凌乱的yyy / 线段覆盖**：贪心策略的应用，通过选择结束时间最早的线段来最大化覆盖的线段数量。

### 个人心得总结

- **调试经历**：在实现贪心策略时，确保排序和跳跃顺序的正确性至关重要，否则可能导致结果错误。
- **踩坑教训**：在计算体力消耗时，注意数据类型的范围，避免溢出。
- **顿悟感想**：贪心策略的直观性和有效性在本题中得到了充分体现，通过数学证明可以增强对算法正确性的信心。

---
处理用时：36.65秒
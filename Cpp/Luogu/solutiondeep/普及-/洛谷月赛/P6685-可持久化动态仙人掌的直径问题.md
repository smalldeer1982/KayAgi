# 题目信息

# 可持久化动态仙人掌的直径问题

## 题目背景

众所周知，一场考试需要一道签到题。

## 题目描述

给定 $n,m$，求有多少个正整数 $x$，使得 $x^m\le n$。

## 说明/提示

对于 $25\%$ 的数据满足 $m=1$；  
对于 $50\%$ 的数据满足 $n\le 10^6$；  
对于 $100\%$ 的数据满足 $1\leq n,m\le 10^9$。

---

$\text{upd 2022.7.24}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 2```

### 输出

```
2```

# AI分析结果

### 综合分析与结论

本题的核心在于计算满足 \(x^m \le n\) 的正整数 \(x\) 的个数。题解中提供了多种解法，包括暴力枚举、快速幂、对数运算、二分查找等。这些方法在不同程度上解决了问题，但各有优缺点。

- **暴力枚举**：简单直接，但当 \(n\) 和 \(m\) 较大时效率低下。
- **快速幂**：虽然提高了计算效率，但在 \(n\) 和 \(m\) 较大时仍然可能溢出。
- **对数运算**：通过数学变换避免了直接计算幂次，但涉及浮点数运算，可能存在精度问题。
- **二分查找**：利用单调性高效地找到满足条件的最大 \(x\)，是较为推荐的解法。

### 所选高星题解

#### 1. **Solution 5 二分查找**（5星）
- **关键亮点**：利用二分查找的高效性，结合快速幂或 `pow` 函数，能够在 \(O(\log n)\) 时间内找到答案，避免了直接计算的溢出问题。
- **代码核心思想**：通过二分查找确定满足 \(x^m \le n\) 的最大 \(x\)，使用快速幂或 `pow` 函数进行中间计算。
- **核心代码**：
  ```cpp
  int n, m, l = 1, r, mid;
  bool check(long long x, long long y) {
      long long res = 1;
      while (y) {
          if (x > n) return false;
          if (y & 1) res *= x;
          if (res > n) return false;
          x *= x;
          y >>= 1;
      }
      return res <= n;
  }
  int main() {
      scanf("%d%d", &n, &m);
      r = n;
      while (l <= r) {
          mid = (l + r) >> 1;
          if (check(mid, m)) l = mid + 1;
          else r = mid - 1;
      }
      printf("%d", r);
      return 0;
  }
  ```

#### 2. **Solution 3 求根**（4星）
- **关键亮点**：通过数学变换将问题转化为求 \(n\) 的 \(m\) 次方根，使用 `pow` 函数直接计算，代码简洁。
- **代码核心思想**：利用 `pow(n, 1.0/m)` 计算 \(n\) 的 \(m\) 次方根，并取整得到结果。
- **核心代码**：
  ```cpp
  #include<bits/stdc++.h>
  int n, m;
  int main() {
      scanf("%d%d", &n, &m);
      printf("%.0f", pow(n, 1.0 / m));
      return 0;
  }
  ```

#### 3. **Solution 4 对数**（4星）
- **关键亮点**：通过对数运算避免直接计算幂次，适用于大数计算，但需要注意浮点数精度问题。
- **代码核心思想**：利用换底公式和对数运算，计算 \(x\) 的值并取整。
- **核心代码**：
  ```cpp
  #include<bits/stdc++.h>
  int n, m;
  int main() {
      scanf("%d%d", &n, &m);
      printf("%.0f", floor(exp(log(n) / m)));
      return 0;
  }
  ```

### 最优关键思路与技巧

- **二分查找**：利用单调性进行高效搜索，是解决此类问题的通用方法。
- **数学变换**：通过数学公式（如对数、求根）将问题转化为更易计算的形式，避免直接计算大数幂次。

### 可拓展之处

- **类似问题**：可以扩展到其他涉及单调性和大数计算的问题，如求解满足 \(x^k \le n\) 的最大 \(x\)。
- **算法套路**：二分查找和数学变换是解决复杂计算问题的常用套路，适用于多种场景。

### 推荐题目

1. **P2249 【深基13.例1】查找**：考察二分查找的基本应用。
2. **P1226 【模板】快速幂**：练习快速幂的实现与应用。
3. **P1045 麦森数**：涉及大数计算和幂次运算，适合进一步练习。

### 个人心得摘录

- **Dimly_dust**：提到在比赛中尝试使用快速幂但遇到问题，最终通过 `pow` 函数解决了问题。这提醒我们在实际编程中要灵活选择方法，避免过度依赖某一种技巧。
- **hensier**：详细分析了 `pow` 函数的精度问题，并提供了多种解决方案，展示了深入理解和灵活运用数学工具的重要性。

---
处理用时：33.68秒
# 题目信息

# [WFOI - 02] I wanna win the race（比赛）

## 题目背景

> best is yet to come

kid 不小心进入了联机模式，他需要比他的对手更快通关才能取得胜利……

## 题目描述

kid 走进了一个场地，若干名选手在进行比赛，场地可以抽象为一个坐标系。

选手们要从 $\left(1,1\right)$ 跑到 $\left(n,n\right)$，若当前选手处在 $\left(x,y\right)$，则他们下一步可以移动到 $\left(x\pm1,y\right)$ 或 $\left(x,y\pm1\right)$，注意，他们**仅可以在第一象限活动**，即任何时候 $x>0,y>0$。

所有点最开始都是 $\texttt{A}$ 类点，主办方选择了一个三元组 $\left(a,b,c\right)$，将所有满足 $a\leq x\leq b$ 且 $y\leq c$ 的点 $\left(x,y\right)$ 变为 $\texttt{B}$ 类点，选手每经过一个 $\texttt{A}$ 类需要耗时 $1$ 秒，每经过一个 $\texttt{B}$ 类需要耗时 $2$ 秒。请注意，**起始点和终点也要纳入计算。**

kid 想要赢得这场比赛，他想知道**最少**需要多少秒能到达终点。

**请注意，在【数据范围】中有重要的约束条件。**

## 说明/提示

**【样例解释】**

下图是其中一种可行的方案，紫色点为 $\texttt{A}$ 类点，红色点为 $\texttt{B}$ 类点：

![](https://s1.ax1x.com/2022/03/06/bBvQPJ.png)

**【数据规模与约定】**

**本题采用 $\tt Subtask$ 捆绑测试。**

对于 $30\%$ 的数据，$1<a<b<n\leq 10^3，0<c\leq 10^3$。

对于 $100\%$ 的数据，$1<a<b<n\leq 10^9，0<c\leq 10^9$。

## 样例 #1

### 输入

```
5
2 4 3```

### 输出

```
9```

# AI分析结果

### 综合分析与结论

该题目要求从坐标 (1,1) 到 (n,n) 的最短时间路径，路径中的点分为 A 类和 B 类，B 类点耗时更多。题解主要集中在分类讨论和贪心策略上，通过分析 B 类点的分布情况，选择最优路径。大多数题解都能正确分类讨论，但在代码实现和思路清晰度上存在差异。

### 精选题解

#### 1. **作者：Elgo87 (5星)**
- **关键亮点**：思路清晰，分类讨论简洁明了，代码简洁且易于理解。通过图示直观展示了不同情况下的最优路径选择。
- **个人心得**：通过图示帮助理解，避免了复杂的数学推导，直接给出了最优解的计算公式。
- **核心代码**：
  ```cpp
  cout << (c >= n ? min(2*n-1 + y-x+1, 2*c+1) : 2*n-1);
  ```
  **实现思想**：根据 c 是否大于等于 n，选择直接穿过 B 类点或绕行，取最小值。

#### 2. **作者：Engulf (4星)**
- **关键亮点**：详细分析了曼哈顿距离的应用，并通过图示展示了两种绕行策略，代码实现较为清晰。
- **个人心得**：通过图示帮助理解绕行策略，强调了数据范围的重要性。
- **核心代码**：
  ```cpp
  int ans = (n-1)*2+1;
  if (c >= n) ans = min(n*2+b-a, 2*c+1);
  ```
  **实现思想**：根据 c 是否大于等于 n，选择直接穿过 B 类点或绕行，取最小值。

#### 3. **作者：TheSky233 (4星)**
- **关键亮点**：通过分类讨论和图示展示了三种情况，代码实现简洁，思路清晰。
- **个人心得**：通过图示帮助理解绕行策略，强调了数据范围的重要性。
- **核心代码**：
  ```cpp
  if (c < n) cout << n + n - 1;
  else cout << min((n+n-1)+(b-a+1), (c+1)+(n-1)+(c-n+1));
  ```
  **实现思想**：根据 c 是否大于等于 n，选择直接穿过 B 类点或绕行，取最小值。

### 最优关键思路与技巧

1. **分类讨论**：根据 B 类点的分布情况（c 是否大于等于 n），选择直接穿过 B 类点或绕行。
2. **贪心策略**：在绕行时，选择耗时最少的路径，取最小值。
3. **图示辅助**：通过图示直观展示不同情况下的最优路径选择，帮助理解。

### 可拓展之处

- **类似算法套路**：在路径规划问题中，分类讨论和贪心策略是常见的方法，适用于多种场景。
- **同类型题**：可以考虑类似的最短路径问题，如带有障碍物的网格图最短路径。

### 推荐题目

1. **P1144 最短路计数**：考察最短路径的计数问题，适合练习分类讨论和贪心策略。
2. **P1219 八皇后**：考察路径规划中的回溯算法，适合练习分类讨论和优化策略。
3. **P1162 填涂颜色**：考察网格图中的路径规划，适合练习分类讨论和贪心策略。

### 个人心得总结

- **调试经历**：部分题解提到在调试过程中发现数据范围的重要性，尤其是 c 可以大于 n 的情况。
- **踩坑教训**：部分题解提到在初始实现时忽略了 c 可以大于 n 的情况，导致 WA。
- **顿悟感想**：通过图示和分类讨论，能够更直观地理解问题，避免复杂的数学推导。

---
处理用时：27.28秒
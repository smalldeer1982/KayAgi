# 题目信息

# [Aya Round 1 C] 文文的构造游戏

## 题目背景

**Problem Number:** [$\textit{23}$](https://www.luogu.com.cn/training/1392)

众所周知，射命丸文和琪露诺是好朋友。但是文是大妖怪，非常聪明，而琪露诺是个笨蛋。为了提升琪露诺的智商，文便给琪露诺出了一道简单的题目。

## 题目描述

对于一个长度为 $l$ 的数列 $p$，定义 $S(p)$ 为所有元素的**异或和**，其中 $\oplus$ 指[按位异或运算](https://baike.baidu.com/item/%E5%BC%82%E6%88%96%E6%93%8D%E4%BD%9C)。

给定整数 $s,m$，判断能否构造一个长度为 $n$（$n$ 值自定）的数列 $a$，满足：

- $1 \le n \le m$。
- $1 \le a_i \le s$。
- $S(a)=0$。
- $a_1+a_2+\cdots+a_n=s$。

试构造任意一组合法解或报告无解。

## 说明/提示

### 样例解释

- 对于数据 $1$，容易发现 $3\oplus5\oplus6=0$，$3+5+6=14$。符合要求。
- 对于数据 $2$，发现数列 $\{3\},\{1,2\},\{1,1,1\}$ 均不符合要求，故无解。

### 数据范围与约定

对于 $100\%$ 的数据，有 $1\le s\le 10^{18}$，$1 \le m$，$1 \le \sum m \le 10^6$。

**友情提示，您可能需要使用较快的 I/O 方式。**

## 样例 #1

### 输入

```
2
14 9
3 3```

### 输出

```
3 3 5 6
-1```

# AI分析结果

### 综合分析与结论

本题的核心在于构造一个满足特定条件的数列，要求数列的异或和为0且元素之和为给定的`s`。通过分析，我们发现当`s`为奇数时，无论如何构造都无法满足异或和为0的条件，因此必定无解。而当`s`为偶数时，可以通过将`s`拆分为两个相同的数来满足条件。此外，当`m=1`时，由于无法构造出两个相同的数，因此也无解。

### 所选题解

#### 1. 作者：chen_zhe (赞：23)
- **星级**: 5星
- **关键亮点**: 思路清晰，直接指出了无解的条件，并给出了简洁的构造方法。代码实现简洁明了，适合初学者理解。
- **核心代码**:
  ```cpp
  if (m==1 || (s&1))
      puts("-1");
  else
      cout << 2 << " " << s/2 << " " << s/2 << endl;
  ```
- **实现思想**: 判断`s`是否为奇数或`m`是否为1，若满足则输出无解，否则输出两个`s/2`。

#### 2. 作者：落花月朦胧 (赞：3)
- **星级**: 4星
- **关键亮点**: 从位运算的角度分析了问题，强调了偶数的重要性，并给出了类似的构造方法。代码实现简洁，逻辑清晰。
- **核心代码**:
  ```cpp
  if (s & 1 || m < 2) {
      std::cout << -1 << '\n';
      return;
  }
  std::cout << 2 << " " << i64(s >> 1) << " " << i64(s >> 1) << '\n';
  ```
- **实现思想**: 判断`s`是否为奇数或`m`是否小于2，若满足则输出无解，否则输出两个`s/2`。

#### 3. 作者：xzy090626 (赞：1)
- **星级**: 4星
- **关键亮点**: 通过手玩数据观察无解情况，并给出了类似的构造方法。代码实现简洁，逻辑清晰。
- **核心代码**:
  ```cpp
  if(s<m || s%2 || m==1) puts("-1");
  else printf("2 %lld %lld\n",s/2,s/2);
  ```
- **实现思想**: 判断`s`是否小于`m`、`s`是否为奇数或`m`是否为1，若满足则输出无解，否则输出两个`s/2`。

### 最优关键思路或技巧

- **无解条件**: 当`s`为奇数或`m=1`时，必定无解。
- **构造方法**: 当`s`为偶数且`m≥2`时，将`s`拆分为两个相同的数`s/2`，满足异或和为0且元素之和为`s`。

### 可拓展之处

- **类似问题**: 类似的问题可以通过分析二进制位和异或性质来解决，例如构造满足特定异或和或和的数列。
- **算法套路**: 位运算和构造问题的结合，可以通过分析二进制位和异或性质来简化问题。

### 推荐题目

1. [P3811 【模板】乘法逆元](https://www.luogu.com.cn/problem/P3811)
2. [P3865 【模板】ST表](https://www.luogu.com.cn/problem/P3865)
3. [P3374 【模板】树状数组 1](https://www.luogu.com.cn/problem/P3374)

### 个人心得

- **调试经历**: 在调试过程中，发现当`s`为奇数时，无论如何构造都无法满足条件，因此直接判断无解。
- **顿悟感想**: 通过分析二进制位和异或性质，可以快速判断无解条件，并给出简洁的构造方法。

---
处理用时：27.82秒
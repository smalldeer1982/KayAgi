# 题目信息

# 枚举排列（递归实现排列型枚举）

## 题目描述

今有 $n$ 名学生，要从中选出 $k$ 人排成一列拍照。

请按字典序输出所有可能的排列方式。

## 说明/提示

对于 $100\%$ 的数据，$1\leq k\leq n \leq 10$。

## 样例 #1

### 输入

```
3 2```

### 输出

```
1 2
1 3
2 1
2 3
3 1
3 2```

# AI分析结果



### 综合分析与结论
本题要求生成所有排列方案，核心难点在于避免重复元素且保证字典序。递归回溯是最优解法，通过标记数组维护状态，时间复杂度为 O(n!/(n-k)!)。关键技巧在于通过遍历顺序保证字典序，以及回溯时的状态重置。

---

### 精选题解分析

#### 题解作者：ShanCreeperPro（★★★★☆）
**核心亮点**  
1. 提出use数组标记法，清晰解释状态维护逻辑  
2. 通过对比低效解法突出算法优化必要性  
3. 强调递归树构建过程与回溯关键操作  

**个人心得提炼**  
"递归完成后要将use_i标记为0" —— 指出回溯时状态重置的易错点，这是保证生成完整解空间的关键操作

---

### 核心代码实现
```cpp
int n, k, a[15], used[15];

void dfs(int pos) {
    if(pos > k) {
        // 输出当前排列
        return;
    }
    for(int i=1; i<=n; ++i) {
        if(!used[i]) {
            a[pos] = i;
            used[i] = 1;
            dfs(pos+1);
            used[i] = 0; // 回溯关键步骤
        }
    }
}
```
**实现要点**  
1. 递归层级pos表示当前选到第几位  
2. 通过循环变量i的自然递增保证字典序  
3. used数组避免元素重复使用

---

### 拓展应用
1. **同类型变式**  
   - 含重复元素的排列（需排序+剪枝）  
   - 循环排列（旋转视为同构）  
   - 带权排列（结合最优性剪枝）

2. **相似题目推荐**  
   - P1706 全排列问题（基础模板题）  
   - P1157 组合的输出（组合与排列对比）  
   - P1219 [USACO1.5]八皇后（多维排列应用）

---

### 思维提升点
1. **状态压缩优化**：当n≤15时可用位运算替代used数组  
2. **字典序控制**：通过遍历顺序自然实现，无需显式排序  
3. **剪枝策略**：当剩余可选元素不足时提前终止递归分支  
   `if(n - i + 1 < k - pos) return; // 剩余元素不足时剪枝`

---
处理用时：41.71秒
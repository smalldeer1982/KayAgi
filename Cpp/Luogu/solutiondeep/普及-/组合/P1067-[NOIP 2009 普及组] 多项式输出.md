# 题目信息

# [NOIP 2009 普及组] 多项式输出

## 题目描述

一元 $n$ 次多项式可用如下的表达式表示：

$$f(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots +a_1x+a_0,a_n\ne 0$$

其中，$a_ix^i$ 称为 $i$ 次项，$a_i$ 称为 $i$ 次项的系数。给出一个一元多项式各项的次数和系数，请按照如下规定的格式要求输出该多项式：

1. 多项式中自变量为 $x$，从左到右按照次数递减顺序给出多项式。

2. 多项式中只包含系数不为 $0$ 的项。

3. 如果多项式 $n$ 次项系数为正，则多项式开头不出 `+` 号，如果多项式 $n$ 次项系数为负，则多项式以 `-` 号开头。

4. 对于不是最高次的项，以 `+` 号或者 `-` 号连接此项与前一项，分别表示此项系数为正或者系数为负。紧跟一个正整数，表示此项系数的绝对值（如果一个高于 $0$ 次的项，其系数的绝对值为 $1$，则无需输出 $1$）。如果 $x$ 的指数大于 $1$，则接下来紧跟的指数部分的形式为“$x^b$”，其中 $b$ 为 $x$ 的指数；如果 $x$ 的指数为 $1$，则接下来紧跟的指数部分形式为 $x$；如果 $x$ 的指数为 $0$，则仅需输出系数即可。

5. 多项式中，多项式的开头、结尾不含多余的空格。


## 说明/提示

NOIP 2009 普及组 第一题

对于100%数据，$0 \le n \le 100$，$-100 \le $系数$ \le 100$

---

$\text{upd 2022.8.1}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 
100 -1 1 -3 0 10```

### 输出

```
100x^5-x^4+x^3-3x^2+10```

## 样例 #2

### 输入

```
3 
-50 0 0 1 
```

### 输出

```
-50x^3+1 
```

# AI分析结果



### 综合分析与结论
本题核心为模拟多项式格式输出，需处理符号、系数、指数等多个边界条件。各题解主要围绕分阶段处理符号、系数及指数展开，但实现细节与代码简洁度差异较大。最优解法通过分步处理符号（首项符号处理）、系数（±1特判）、指数（0、1特殊形式）实现高效且清晰的逻辑。

---

### 精选题解

#### 1. 作者：WsW_（★★★★★）
**关键亮点**：
- **三步处理法**：清晰划分符号、系数、指数三阶段，逻辑简明。
- **符号处理优化**：利用正负判断直接输出符号，避免冗余条件。
- **系数绝对值处理**：使用`abs`确保系数输出正确，避免符号重复。

**核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	int n; scanf("%d",&n);
	for(int i=n;i>=0;i--){
		int a; scanf("%d",&a);
		if(!a)continue;
		if(a>0&&i!=n)putchar('+');
		if(a<0)putchar('-');
		if(abs(a)!=1||!i)printf("%d",abs(a));
		if(i){
			putchar('x');
			if(i!=1)printf("^%d",i);
		}
	}
	return 0;
}
```
**实现思想**：
1. **符号处理**：正数非首项输出`+`，负数统一输出`-`。
2. **系数处理**：绝对值非1或常数项时输出数值，否则省略。
3. **指数处理**：指数为1时仅输出`x`，大于1时添加`^i`。

---

#### 2. 作者：Loyal_Soldier（★★★★☆）
**关键亮点**：
- **紧凑条件判断**：通过多条件覆盖不同情况，代码简洁。
- **特判系数-1**：直接处理-1系数，减少计算步骤。

**核心代码**：
```cpp
if(x){
	if(i!=n&&x>0) cout<<'+';
	if(i!=0&&x==-1) cout<<'-';
	if(abs(x)>1||i==0) cout<<x;
	if(i>1) cout<<"x^"<<i;
	if(i==1) cout<<'x';
}
```
**实现思想**：
- **符号与系数合并处理**：通过判断位置和值决定符号输出。
- **系数特判**：利用`abs(x)`简化输出逻辑，避免冗余分支。

---

#### 3. 作者：邪王真眼Rikka（★★★★☆）
**关键亮点**：
- **首项标记`flag`**：区分首项与后续项，简化符号逻辑。
- **分阶段条件覆盖**：独立处理符号、系数、指数，增强可读性。

**核心代码**：
```cpp
if((flag==1&&a[i]<0)||(a[i]<0)) printf("-");
else if(flag==0&&a[i]>0) printf("+");
if(abs(a[i])!=1||i==0)printf("%d",abs(a[i]));
```
**实现思想**：
1. **首项标记**：用`flag`标记是否为首项，控制首项符号。
2. **绝对值输出**：统一用绝对值处理系数，避免符号干扰。

---

### 最优思路总结
1. **分阶段处理**：将符号、系数、指数分离处理，降低复杂度。
2. **符号优先判断**：首项负号直接输出，中间项通过正负添加符号。
3. **系数特判**：利用绝对值处理±1及常数项，简化输出格式。
4. **指数格式优化**：根据指数值动态调整`x`的显示形式。

---

### 拓展与同类题目
- **模拟题套路**：分阶段处理、边界特判、字符串拼接。
- **推荐题目**：
  1. [P1022 计算器的改良](https://www.luogu.com.cn/problem/P1022)（多项式方程处理）
  2. [P1051 谁拿了最多奖学金](https://www.luogu.com.cn/problem/P1051)（复杂条件判断）
  3. [P1065 作业调度方案](https://www.luogu.com.cn/problem/P1065)（流程模拟与状态管理）

---

### 个人心得摘录
- **WsW_**：三步处理法避免条件交叉，逻辑更清晰。
- **Eason_lyx**：注意首项正号省略，系数±1的指数为1时需特判。
- **sueyunsheng**：使用数组存储非零项，分块处理减少复杂度。

---
处理用时：181.91秒
# 题目信息

# [语言月赛 202309] 椰奶国

## 题目背景

扶苏的梦想是在椰奶国生活。这个国度的成员都是可爱的椰奶，椰奶们无需在意外面的世界，快乐地生活在椰奶国里。

## 题目描述

椰奶国的一天共有 $n$ 个小时。第 $i$ 个小时（$0 \leq i < n$）共有 $i + 1$ 分钟，第 $i$ 个小时的第 $j$ 分钟（$0 \leq j \leq i$）共有 $10j+1$ 秒。

注意，这里小时、分钟、秒数都是从 $0$ 起计数。

现在，给出起始时刻 $t_1 = A:B:C$，表示 $t_1$ 时刻是 $A$ 时 $B$ 分 $C$ 秒，和结束时刻 $t_2 = E:F:G$，表示 $t_2$ 时刻是 $E$ 时 $F$ 分 $G$ 秒。

已知时刻 $t_2$ 的时刻不早于 $t_1$ 的时刻，且二者时间间隔小于一天。

请你求出 $t_1$ 和 $t_2$ 之间经过了多少秒。

## 说明/提示

### 样例 2 解释

椰奶国一天有 $2$ 小时，即第 $0$ 小时和第 $1$ 小时，第 $1$ 小时有 $2$ 分钟，即第 $0$ 分钟和第 $1$ 分钟。第 $1$ 分钟有 $10 \times 1 + 1 = 11$ 秒。在第 $1$ 小时第 $1$ 分钟第 $3$ 秒起，接下来经过的时刻是第 $4,5,6,7,8,9,10,0$ 秒（其中最后一秒是下一天的第一秒），共八秒。

### 数据规模与约定

- 对 $30\%$ 的数据，$t_2$ 代表的时刻在一天中不早于 $t_1$ 时刻。
- 对 $60\%$ 的数据，$n \leq 50$，**保证单个测试点内的答案之和不超过 $10^8$**。
- 对 $100\%$ 的数据，$1 \leq T \leq 5 \times 10^3$，$1 \leq n \leq 10^5$，$0 \leq B \leq A < n$，$C \leq 10B$。$0 \leq F\leq E < n$，$G \leq 10E$，**保证单个测试点内的 $n$ 之和不超过 $1.5 \times 10^8$**。

## 样例 #1

### 输入

```
1
10 3 2 11 3 3 0```

### 输出

```
10```

## 样例 #2

### 输入

```
1
2 1 1 3 0 0 0```

### 输出

```
8```

# AI分析结果

### 综合分析与结论

本题的核心在于计算两个时刻之间的秒数差，难点在于椰奶国的时间计算规则与常规时间不同，需要逐层计算小时、分钟和秒的总和。大多数题解通过数学公式或预处理来优化计算，避免暴力枚举导致的时间复杂度问题。

### 所选题解

#### 1. 作者：cff_0102 (赞：11)  
**星级：5星**  
**关键亮点：**  
- 使用纯数学公式直接计算两个时刻的秒数差，避免了逐层循环的计算，极大优化了时间复杂度。
- 通过等差数列求和公式和高斯公式，将复杂的累加问题转化为简单的数学表达式。
- 代码简洁且高效，适用于大规模数据。

**核心代码：**
```python
def f(a,b,c):
    return (10*a*a*a+33*a*a+29*a+6)//6+5*b*b+6*b+c+2

t=int(input())
while t:
    t-=1
    n,A,B,C,E,F,G=input().split()
    n,A,B,C,E,F,G=(int(n),int(A),int(B),int(C),int(E),int(F),int(G))
    tmp=f(n-1,0-1,0-1)
    print((f(E-1,F-1,G-1)-f(A-1,B-1,C-1)+tmp)%tmp)
```
**实现思想：**  
通过数学公式直接计算两个时刻的秒数差，避免了逐层循环的计算，极大优化了时间复杂度。

#### 2. 作者：Frosts (赞：2)  
**星级：4星**  
**关键亮点：**  
- 使用前缀和思想预处理每个小时和分钟的秒数，避免了重复计算。
- 通过预处理数组快速计算任意时刻的秒数，时间复杂度为O(1)。
- 代码结构清晰，易于理解。

**核心代码：**
```cpp
for(int i=1;i<=1e5;++i)tf[i]=tf[i-1]+(ll)(10*i+1);
for(int i=1;i<=1e5;++i)th[i]=th[i-1]+tf[i];
```
**实现思想：**  
通过预处理数组快速计算任意时刻的秒数，避免了重复计算。

#### 3. 作者：Light_az (赞：9)  
**星级：4星**  
**关键亮点：**  
- 通过高斯求和公式优化了分钟和秒的计算，避免了逐层循环。
- 处理了跨天的情况，确保计算结果的正确性。
- 代码逻辑清晰，优化程度较高。

**核心代码：**
```cpp
F(i,0,a-1){
    ans1+=i+1;
    ans1+=i*(i+1)/2*10;
}
```
**实现思想：**  
通过高斯求和公式优化了分钟和秒的计算，避免了逐层循环。

### 最优关键思路或技巧

1. **数学公式优化**：通过等差数列求和公式和高斯公式，将复杂的累加问题转化为简单的数学表达式，极大优化了时间复杂度。
2. **预处理数组**：通过预处理每个小时和分钟的秒数，避免了重复计算，提高了计算效率。
3. **跨天处理**：通过判断两个时刻是否跨天，确保计算结果的正确性。

### 可拓展之处

- **类似题目**：可以扩展到其他自定义时间计算规则的题目，如不同进制的时间计算、自定义日历等。
- **算法套路**：数学公式优化和预处理数组的思路可以应用于其他需要累加计算的题目，如区间求和、前缀和等。

### 推荐题目

1. [P1045 时间计算](https://www.luogu.com.cn/problem/P1045)
2. [P1082 时间转换](https://www.luogu.com.cn/problem/P1082)
3. [P1090 时间差](https://www.luogu.com.cn/problem/P1090)

### 个人心得总结

- **调试经历**：在处理跨天情况时，容易忽略边界条件，导致计算结果错误。通过仔细检查边界条件，确保代码的正确性。
- **顿悟感想**：数学公式的应用可以极大简化复杂的计算问题，提高代码的效率。

---
处理用时：31.83秒
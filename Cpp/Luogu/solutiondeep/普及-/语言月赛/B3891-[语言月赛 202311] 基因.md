# 题目信息

# [语言月赛 202311] 基因

## 题目描述

有一个长度为 $n$ 的字符串 $S$。其只包含有大写字母。

小 A 将 $S$ 进行翻转后，得到另一个字符串 $S'$。两个字符串 $S$ 与 $S'$ 对应配对。例如说，对于 $S=\tt{ATCGT}$，则有 $S'=\tt{TGCTA}$，$S$ 与 $S'$ 进行配对。

对于两个字符串 $S,S'$ 的第 $i$（$1 \leq i \leq n$）个字母，配对规则如下：

- 定义 $\tt A$ 与 $\tt T$，$\tt C$ 与 $\tt G$ 为可以配对的字母。
- 如果 $S_i$ 与 $S_i'$ 为可以配对的字母，那么该字符串的稳定性增加 $i$。
- 如果 $S_i$ 或者 $S_i'$ 中任意一方出现非 $\tt A,\tt T,\tt C,\tt G$ 的字母，则整个字符串的稳定性将直接为 $0$。

现在给定 $T$ 个字符串 $S$，对每一个字符串，询问若用其翻转再进行配对，其稳定性将如何。

## 说明/提示

**【样例解释】**

- 对于第一个字符串，$S=\tt{\red{A}TCG\blue{T}}$，$S'=\tt{\red{T}GCT\blue{A}}$。标红色的一组与蓝色的一组为可以配对的字母。它们分别是 $S$ 的第 $1$ 个字母和第 $5$ 个字母，因此稳定性是 $1+5=6$。
- 对于第二个字符串，$S=\tt{\red{A}\blue{C}\red{A}\blue{T}\red{G}\blue{T}}$，$S'=\tt{\red{T}\blue{G}\red{T}\blue{A}\red{C}\blue{A}}$，每个对应位置上的字母都可以配对，因此稳定性是 $1+2+3+\dots+6=21$
- 对于第三条字符串，出现了非 $\tt A,\tt T,\tt C,\tt G$ 的字母 $\tt U$，因此稳定性为 $0$。

**【数据范围】**

对于所有数据，保证：$1\leq T\leq 5$，$1\leq n\leq 10^5$，$S$ 中出现的所有字母保证为大写英语字母。

## 样例 #1

### 输入

```
3
5
ATCGT
6
ACATGT
5
ATCGU```

### 输出

```
6
21
0```

# AI分析结果

### 综合分析与结论

本题主要考察字符串的处理和翻转操作，以及对特定字符的配对规则。题解中提到的关键点包括字符串的读取方式、翻转方法、字符配对规则的处理以及数据类型的选择（如 `long long` 的使用）。整体思路较为清晰，但部分题解在代码实现和优化上略显不足。

### 所选高星题解

#### 题解1：chen_zhe (4星)
- **关键亮点**：
  - 详细介绍了字符串的读取方式，包括 `cin` 和 `getline` 的使用。
  - 提供了两种字符串翻转的方法：`std::reverse` 和手动循环翻转。
  - 强调了数据类型的选择，指出 `long long` 的必要性。
  - 提供了视频题解链接，增加了学习资源。
- **个人心得**：
  - 提到稳定度的最大值可能超过 `int` 范围，提醒了数据类型的正确选择。
- **核心代码**：
  ```cpp
  for (int i = 0; i < n; i++)
      s1[i] = s[n - i - 1];
  ```
  - **实现思想**：通过循环手动翻转字符串。

### 最优关键思路或技巧

1. **字符串翻转**：使用 `std::reverse` 函数可以简洁高效地翻转字符串，而手动循环翻转则提供了另一种实现思路。
2. **字符配对规则**：通过检查字符是否为 `A, T, C, G` 来确保配对的有效性，并在发现非法字符时立即返回稳定性为0。
3. **数据类型选择**：在处理大范围数据时，选择 `long long` 类型以避免溢出问题。

### 可拓展之处

- **类似题目**：可以考察字符串的其他操作，如子串匹配、字符替换等。
- **算法套路**：字符串处理中常用的翻转、匹配、替换等操作可以应用于多种场景。

### 推荐洛谷题目

1. **P1003 铺地毯**：考察字符串匹配和替换。
2. **P1010 幂次方**：涉及字符串的格式化和输出。
3. **P1022 计算器的改良**：处理字符串中的数学表达式。

### 总结

本题解在字符串处理和翻转操作上提供了清晰的思路和实现方法，强调了数据类型的选择和字符配对规则的处理。通过学习和应用这些技巧，可以更好地解决类似的字符串处理问题。

---
处理用时：19.39秒
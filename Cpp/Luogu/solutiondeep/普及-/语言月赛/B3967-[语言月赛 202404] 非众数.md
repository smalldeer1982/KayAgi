# 题目信息

# [语言月赛 202404] 非众数

## 题目描述

给定一个长度为 $n$ 的字符串 $s$，保证 $s$ 仅包含小写字母，求 $s$  的非空子串中非众数串的个数。

> **定义：非空子串**
>
> 用 $s_i$ 表示 $s$ 中的第 $i$ 个字符（$1 \leq i \leq n$）。任取两个整数 $i, j$（$1 \leq i \leq j \leq n$），将 $s_i, s_{i + 1}, \cdots, s_{j}$ 截取出来按原序排列作为一个新的字符串，则这个字符串叫做 $s$ 的非空子串。  
例如，当 $s = \texttt{abcde}$ 时，$\texttt{ab}, \texttt{bcde}, \texttt{c}, \texttt{abcde}$ 都是 $s$ 的非空子串，而 $\texttt{acd}, \texttt{f}, \texttt{ngioasd}, \texttt{" "}$ 都不是 $s$ 的非空子串。

> **定义：非众数串**
>
> 若字符串 $a$ 中出现次数最多的字符出现的次数不超过 $\lfloor \frac{|a|}{2} \rfloor$，则称字符串 $a$ 为一个**非众数**串。其中 $\lfloor x \rfloor$ 代表 $\leq x$ 的最大整数，$|a|$ 代表 $a$ 的长度。

## 说明/提示

### 样例 1 解释

其中 $\texttt{ab,aabb}$ 是**非众数**非空子串。

### 数据范围

对于 $100\%$ 的数据，$1 \le n \le 500$，字符串由小写字母组成。

| 测试点编号 | $n$ | 特殊性质 |
| :-: | :-: | :-: |
| $1$ | $= 2$ | 无 |
| $2, 3$ | $\leq 10$ | 无 |
| $4$ | $\leq 500$ | 所有字符相同 |
| $5$ | $= 26$ | 所有字符不同 |
| $6, 7$ | $\leq 500$ | 字符串内仅可能包含 $\texttt{a,b}$ 两种字母 |
| $8 \sim 10$ | $\leq 500$ | 无 |

## 样例 #1

### 输入

```
aabb```

### 输出

```
2```

## 样例 #2

### 输入

```
fqmdfnc
```

### 输出

```
21
```

# AI分析结果

### 综合分析与结论

本题要求统计字符串中所有非空子串中非众数串的个数。题解的核心思路是枚举所有可能的子串，并检查每个子串是否符合非众数串的定义。由于字符串长度最大为500，直接枚举所有子串的时间复杂度为O(n^2)，在可接受范围内。

题解的主要难点在于如何高效地统计子串中每个字符的出现次数，并判断是否有字符的出现次数超过子串长度的一半。题解通过使用一个大小为26的数组来统计字符出现次数，并在每次检查时重置该数组，确保统计的准确性。

### 题解评分与亮点

#### 题解1：Maxmilite (5星)
- **关键亮点**：
  - 思路清晰，直接按照题意模拟，代码简洁易读。
  - 使用`cnt`数组统计字符出现次数，并通过遍历判断是否符合非众数串的定义。
  - 时间复杂度为O(n^2)，在题目限制范围内完全可行。
  
- **核心代码**：
  ```cpp
  int cnt[26];

  int check(int l, int r) {
      memset(cnt, 0, sizeof(cnt));
      for (int i = l; i <= r; ++i) {
          ++cnt[s[i] - 'a'];
      }
      for (int i = 0; i < 26; ++i) {
          if (cnt[i] > (r - l + 1) / 2) {
              return 0;
          }
      }
      return 1;
  }

  int main() {
      cin >> s;
      n = s.size();
      int ans = 0;
      for (int i = 0; i < n; ++i) {
          for (int j = i; j < n; ++j) {
              if (check(i, j)) {
                  ++ans;
              }
          }
      } 
      cout << ans << endl;
      return 0;
  }
  ```

### 最优关键思路与技巧

1. **字符统计**：使用大小为26的数组来统计子串中每个字符的出现次数，确保统计的准确性和高效性。
2. **子串枚举**：通过双重循环枚举所有可能的子串，确保不遗漏任何子串。
3. **非众数判断**：遍历统计数组，判断是否有字符的出现次数超过子串长度的一半，符合非众数串的定义。

### 可拓展之处

- **类似问题**：类似的问题可以扩展到统计其他类型的子串，如回文子串、特定字符组合的子串等。
- **优化思路**：对于更长的字符串，可以考虑使用滑动窗口或其他优化技巧来减少时间复杂度。

### 推荐题目

1. [P3375 【模板】KMP字符串匹配](https://www.luogu.com.cn/problem/P3375)
2. [P1042 【模板】最长公共子序列](https://www.luogu.com.cn/problem/P1042)
3. [P3376 【模板】最小表示法](https://www.luogu.com.cn/problem/P3376)

这些题目都涉及到字符串的处理和子串的统计，可以帮助进一步巩固相关知识点。

---
处理用时：21.20秒
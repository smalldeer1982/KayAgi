# 题目信息

# [GESP202409 五级] 小杨的武器

## 题目描述

小杨有 $n$ 种不同的武器，他对第 $i$ 种武器的初始熟练度为 $c_i$。

小杨会依次参加 $m$ 场战斗，每场战斗小杨只能且必须选择一种武器使用，假设小杨使用了第 $i$ 种武器参加了第 $j$ 场战斗，战斗前该武器的熟练度为 $c'_i$，则战斗后小杨对该武器的熟练度会变为 $c'_i + a_j$。需要注意的是，$a_j$ 可能是正数，$0$ 或负数，这意味着小杨参加战斗后对武器的熟练度可能会提高，也可能会不变，还有可能降低。

小杨想请你编写程序帮他计算出如何选择武器才能使得 $m$ 场战斗后，自己对 $n$ 种武器的熟练度的**最大值尽可能大**。

## 说明/提示

### 样例 1 解释

一种最优的选择方案为，第一场战斗小杨选择第一种武器，第二场战斗小杨选择第二种武器。

### 数据规模与约定

| 子任务编号 | 数据点占比 | $n$ | $m$ |
| :-: | :-: | :-: | :-: |
| $1$ | $20\%$ | $=1$ | $\leq 10^5$ |
| $2$ | $20\%$ | $\leq 10^5$ | $=2$ |
| $3$ | $60\%$ | $\leq 10^5$ | $\leq 10^5$ |

对全部的测试数据，保证 $1 \leq n, m \leq 10^5$，$-10^4 \leq c_i, a_i \leq 10^4$。

## 样例 #1

### 输入

```
2 2
9 9
1 -1```

### 输出

```
10```

# AI分析结果



### 综合分析与结论
题目要求通过贪心策略分配战斗中的熟练度变化值，使最终武器熟练度的最大值最大化。所有题解均采用贪心策略，核心思路为：将正数变化值加至初始最大值武器，负数/零由其他武器承担（不影响最终最大值），并特判仅一种武器的情况。

---

### 高分题解推荐（≥4星）

#### 1. 作者：Hootime（5星）
**关键亮点**：
- 思路清晰，代码简洁高效（时间复杂度O(n+m)）。
- 直接遍历找初始最大值，处理正数变化值并特判n=1。
- 代码可读性强，逻辑一目了然。

**核心代码**：
```cpp
int main(){
    scanf("%d %d", &n, &m);
    for(int i = 1, tmp; i <= n; i++){
        scanf("%d", &tmp);
        maxn = max(maxn, tmp); // 初始最大值
    }
    for(int i = 1, tmp; i <= m; i++){
        scanf("%d", &tmp);
        if(n == 1) maxn += tmp; // 特判仅一种武器
        else if(tmp > 0) maxn += tmp; // 只加正数
    }
    printf("%d", maxn);
}
```

#### 2. 作者：__UrFnr__（4星）
**关键亮点**：
- 明确分类讨论思路，注释详细。
- 变量命名规范（如`maxa`），便于理解。
- 正确处理所有正数累加逻辑。

**个人心得**：
> "特别注意n=1的情况，否则会WA。" —— 提醒特殊情况的必要性。

**核心代码**：
```cpp
for(int i = 1; i <= m; i++) 
    if(n == 1 || a[i] > 0) 
        maxa += a[i];
```

#### 3. 作者：Lzh2012（4星）
**关键亮点**：
- 代码简短，逻辑直接。
- 初始化最大值时使用极小值（`-1e5`），避免初始值不足问题。
- 快速处理输入输出优化（`ios::sync_with_stdio(false)`）。

**核心代码**：
```cpp
for(long long j=1; j<=m; j++){
    cin>>o;
    if(o>0 || n==1) maxn+=o;
}
```

---

### 最优关键思路总结
1. **贪心策略**：选择初始最大值武器，仅将正数变化值分配给它，其余情况不影响最终最大值。
2. **特殊处理**：当仅有一种武器时，必须接受所有变化值（无论正负）。
3. **实现技巧**：
   - 线性时间找初始最大值，避免排序。
   - 遍历时直接判断正数累加，时间复杂度O(m)。

---

### 拓展与举一反三
- **类似题型**：贪心策略常见于资源分配问题，如[P1090 合并果子](https://www.luogu.com.cn/problem/P1090)（优先队列优化）、[P1223 排队接水](https://www.luogu.com.cn/problem/P1223)（排序贪心）。
- **思维模式**：动态维护最大值或最优解，适用于需逐步决策的最优化问题。

---

### 推荐练习题
1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)（贪心+优先队列）
2. [P4995 跳跳！](https://www.luogu.com.cn/problem/P4995)（贪心排序）
3. [P1208 [USACO1.3]混合牛奶 Mixing Milk](https://www.luogu.com.cn/problem/P1208)（贪心选择最优单价）

---
处理用时：124.37秒
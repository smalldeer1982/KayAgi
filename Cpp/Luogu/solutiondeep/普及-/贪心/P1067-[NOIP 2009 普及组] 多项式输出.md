# 题目信息

# [NOIP 2009 普及组] 多项式输出

## 题目描述

一元 $n$ 次多项式可用如下的表达式表示：

$$f(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots +a_1x+a_0,a_n\ne 0$$

其中，$a_ix^i$ 称为 $i$ 次项，$a_i$ 称为 $i$ 次项的系数。给出一个一元多项式各项的次数和系数，请按照如下规定的格式要求输出该多项式：

1. 多项式中自变量为 $x$，从左到右按照次数递减顺序给出多项式。

2. 多项式中只包含系数不为 $0$ 的项。

3. 如果多项式 $n$ 次项系数为正，则多项式开头不出 `+` 号，如果多项式 $n$ 次项系数为负，则多项式以 `-` 号开头。

4. 对于不是最高次的项，以 `+` 号或者 `-` 号连接此项与前一项，分别表示此项系数为正或者系数为负。紧跟一个正整数，表示此项系数的绝对值（如果一个高于 $0$ 次的项，其系数的绝对值为 $1$，则无需输出 $1$）。如果 $x$ 的指数大于 $1$，则接下来紧跟的指数部分的形式为“$x^b$”，其中 $b$ 为 $x$ 的指数；如果 $x$ 的指数为 $1$，则接下来紧跟的指数部分形式为 $x$；如果 $x$ 的指数为 $0$，则仅需输出系数即可。

5. 多项式中，多项式的开头、结尾不含多余的空格。


## 说明/提示

NOIP 2009 普及组 第一题

对于100%数据，$0 \le n \le 100$，$-100 \le $系数$ \le 100$

---

$\text{upd 2022.8.1}$：新增加一组 Hack 数据。

## 样例 #1

### 输入

```
5 
100 -1 1 -3 0 10```

### 输出

```
100x^5-x^4+x^3-3x^2+10```

## 样例 #2

### 输入

```
3 
-50 0 0 1 
```

### 输出

```
-50x^3+1 
```

# AI分析结果



### 综合分析与结论
本题考察多项式输出的格式处理，核心难点在于多条件的模拟。各题解主要采用分情况处理符号、系数、指数的方式。最优解法需清晰处理以下关键点：
1. **首项符号**：正数省略`+`，负数输出`-`
2. **系数处理**：±1且指数>0时省略1，常数项必须输出系数
3. **指数处理**：指数为1时简写`x`，为0时仅输出系数
4. **中间项符号**：非首项的正数需补`+`

### 精选题解
#### 1. 作者：WsW_（★★★★★）
**关键亮点**：
- 三段式结构清晰（符号→系数→指数）
- 利用条件顺序简化判断，代码简洁高效
- 正确处理系数±1和各类指数情况

**核心代码**：
```cpp
for(int i=n;i>=0;i--){
    int a; scanf("%d",&a);
    if(!a)continue;
    // 符号处理
    if(a<0)putchar('-');
    else if(i!=n)putchar('+');
    // 系数处理
    if(abs(a)!=1||!i)printf("%d",abs(a));
    // 指数处理
    if(i){
        putchar('x');
        if(i>1)printf("^%d",i);
    }
}
```

#### 2. 作者：qhr2023（★★★★☆）
**关键亮点**：
- 条件紧凑，覆盖多数特殊情况
- 单独处理常数项与符号输出

**核心代码**：
```cpp
if(a){
    if(i!=n&&a>0) cout<<'+';
    if(abs(a)>1||i==0) cout<<a;
    if(a==-1&&i) cout<<'-';
    if(i>0) cout<<'x';
    if(i>1) cout<<'^'<<i;
}
```

#### 3. 作者：Loyal_Soldier（★★★★☆）
**关键亮点**：
- 分块判断逻辑直观
- 使用循环逆序处理自然实现次数递减

**核心代码**：
```cpp
if(x>0 && i!=n) cout<<'+';
if(x==-1 && i!=0) cout<<'-';
if(abs(x)>1 || i==0) cout<<abs(x);
if(i>1) cout<<"x^"<<i;
else if(i==1) cout<<'x';
```

### 关键思路总结
1. **分阶段处理**：符号→系数→指数，避免条件交叉
2. **绝对值简化**：统一用绝对值处理系数，符号单独判断
3. **循环设计**：从高次到低次遍历，自然满足次数递减要求
4. **特判优化**：±1和指数0/1用独立条件处理

### 拓展训练
- [P1022 计算器的改良](https://www.luogu.com.cn/problem/P1022)（方程格式化）
- [P1308 统计单词数](https://www.luogu.com.cn/problem/P1308)（复杂字符串处理）
- [P2142 高精度减法](https://www.luogu.com.cn/problem/P2142)（多条件模拟）

### 调试经验摘录
- **符号陷阱**：最高次项正数不加`+`，负数必须加`-`
- **±1处理**：非零次项系数为1时需省略数值输出
- **指数边界**：指数为1时`x`无幂次，为0时仅输出系数
- **空多项式**：所有系数为0需特殊处理（本题保证a_n≠0）

---
处理用时：133.31秒
# 题目信息

# 陶陶摘苹果（升级版）

## 题目描述

又是一年秋季时，陶陶家的苹果树结了 $n$ 个果子。陶陶又跑去摘苹果，这次他有一个 $a$ 公分的椅子。当他手够不着时，他会站到椅子上再试试。

这次与 NOIp2005 普及组第一题不同的是：陶陶之前搬凳子，力气只剩下 $s$ 了。当然，每次摘苹果时都要用一定的力气。陶陶想知道在 $s<0$ 之前最多能摘到多少个苹果。

现在已知 $n$ 个苹果到达地上的高度 $x_i$，椅子的高度 $a$，陶陶手伸直的最大长度 $b$，陶陶所剩的力气 $s$，陶陶摘一个苹果需要的力气 $y_i$，求陶陶最多能摘到多少个苹果。


## 说明/提示

对于 $100\%$ 的数据，$n\leq 5000$, $a\leq 50$, $b\leq 200$, $s\leq 1000$, $x_i\leq 280$, $y_i\leq 100$。


## 样例 #1

### 输入

```
8 15
20 130
120 3
150 2
110 7
180 1
50 8
200 0
140 3
120 2```

### 输出

```
4```

# AI分析结果



### 综合分析与结论
本题核心是通过贪心策略，在限制条件下最大化摘苹果数量。各题解普遍采用以下思路：
1. **筛选可摘苹果**（高度≤a+b）
2. **按消耗力气排序**（从小到大）
3. **贪心累加**直到力气耗尽

动态规划和搜索解法虽被提及，但贪心在时间（O(n log n)）和空间（O(n)）复杂度上均最优。桶排序在特定数据范围（y_i≤100）可优化至O(n)，但通用性略差。

---

### 精选题解与评分

#### 1. [ASZIIIS] 滑稽题解第二弹（⭐️⭐️⭐️⭐️⭐️）
**核心亮点**：
- 多解法对比（DFS优化/DP/贪心）
- 包含记忆化搜索剪枝技巧
- 动态规划状态转移方程详解
**代码亮点**：
```cpp
// 贪心解法核心代码
sort(ap+1, ap+can+1, cmp);
for(int i=1; rest>=ap[i].yi && i<=can; i++){
    rest -= ap[i].yi;
    ans++;
}
```
**个人心得**："排序时发现当年就会用快排...现在却忘光了" → 强调基础算法的重要性

#### 2. [灯芯糕] 桶排序解法（⭐️⭐️⭐️⭐️）
**核心亮点**：
- 利用y_i≤100的特性，用桶计数
- 时间复杂度优化至O(n)
**关键实现**：
```cpp
int c[101] = {0}; // 每个力气值的苹果数
for(int i=0; i<=100 && s>=0; i++){
    while(c[i]-- && s>=i){
        s -= i;
        t++;
    }
}
```

#### 3. [天才byt] 结构体排序（⭐️⭐️⭐️⭐️）
**核心亮点**：
- 结构体清晰管理双属性
- 代码简洁易读
**关键代码**：
```cpp
struct apple{ int xi, yi; };
sort(apples, apples+n, [](auto &a, auto &b){ 
    return a.yi < b.yi; 
});
```

---

### 最优策略总结
**关键步骤**：
1. **预处理过滤**：排除高度超过a+b的苹果
2. **稳定排序**：按y_i升序排列（快速排序/桶排序）
3. **线性扫描**：累加可摘苹果直至力气耗尽

**拓展技巧**：
- 当`y_i`范围较大时改用快速排序
- 若苹果有不同价值，转为背包问题（DP）
- 多条件排序时优先消耗力气，次选高度

---

### 推荐练习题
1. **P1048 采药** - 经典01背包问题
2. **P1090 合并果子** - 贪心+优先队列
3. **P1208 混合牛奶** - 双属性贪心排序

---
处理用时：46.03秒
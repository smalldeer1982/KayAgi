# 题目信息

# [MtOI2019] 永夜的报应

## 题目背景

在这世上有一乡一林一竹亭，也有一主一仆一仇敌。

有人曾经想拍下他们的身影，却被可爱的兔子迷惑了心神。

那些迷途中的人啊，终究会消失在不灭的永夜中……  

## 题目描述

蓬莱山 辉夜(Kaguya)手里有一堆数字。

辉夜手里有 $n$ 个非负整数 $a_1,a_2\cdots a_n$，由于辉夜去打 Gal Game 去了，她希望智慧的你来帮忙。  

* 你需要将这些数分成若干组，满足 $n$ 个数中的每一个数都恰好被分到了一个组中，且每一组至少包含一个数。  

定义一组数的权值为该组内所有数的**异或和**。请求出一种分组方案，使得分出的所有组数的权值之和最小，输出权值之和的最小值。

## 说明/提示

**样例 $1$ 解释：**

一种最优的分组方案如下：

- 将第 $1$ 个数和第 $3$ 个数分为一组，该组的权值为 $1\oplus 5 = 4$；
- 将第 $2$ 个数分为一组，该组的权值为 $2$。

该分组方案的所有组的权值之和为 $4 + 2 = 6$，可以证明，不存在权值之和更小的分组方案。

**样例 $2$ 解释：**

一种最优的分组方案如下：

- 将第 $1$ 个数和第 $5$ 个数分为一组，该组的权值为 $9\oplus 9 = 0$；
- 将第 $2$ 个数和第 $4$ 个数分为一组，该组的权值为 $18\oplus 25 = 11$；
- 将第 $3$ 个数和第 $6$ 个数分为一组，该组的权值为 $36\oplus 32 = 4$。

该分组方案的所有组的权值之和为 $0 + 11 + 4 = 15$。可以证明，不存在权值之和更小的分组方案。

### 子任务

- 对于 $80\%$ 的数据，满足 $n\leq 15$。
- 对于 $100\%$ 的数据，满足 $n\leq 10^6,a_i \leq 10^9$。

### 题目来源

[迷途之家2019联赛](https://www.luogu.org/contest/20135)(MtOI2019) T1

出题人：disangan233



## 样例 #1

### 输入

```
3
1 2 5```

### 输出

```
6```

## 样例 #2

### 输入

```
6
9 18 36 25 9 32
```

### 输出

```
15```

# AI分析结果



### 综合分析与结论
题目要求将n个非负整数分组，使各组异或和的总和最小。关键结论是：**所有数异或的总和即为最小值**。核心思路基于异或运算的**不进位性质**，使得任意分组的权值和总不小于全体异或的结果。

---

### 精选题解

#### 1. [⑨baka]（5星）
**关键亮点**：
- 详细逐位分析异或与加法的差异，通过二进制位运算证明 `a^b ≤ a+b`。
- 明确推导分组策略：分组越少异或越多，最终最优解为全体异或。
- 代码简洁高效，直接遍历异或所有输入。

**个人心得**：
> "异或实际上是不进位的加法，分组后的总和必然更大。"

**核心代码**：
```cpp
int main() {
    int n;
    long long ans = 0;
    scanf("%d", &n);
    for (int i = 1; i <= n; ++i) {
        long long x;
        scanf("%lld", &x);
        ans = ans xor x;
    }
    printf("%lld", ans);
}
```

#### 2. [disangan233]（出题人）（5星）
**关键亮点**：
- 数学严谨性：证明若某二进制位有奇数个1，则无论如何分组该位贡献必为1。
- 明确最优分组策略为全体异或，时间复杂度O(n)。
- 代码包含快速读写优化，适合大数处理。

**核心代码**：
```cpp
int main() {
    int n, ans = 0;
    while (n--) ans ^= read();
    printf("%d", ans);
}
```

#### 3. [OuOu2021]（4星）
**关键亮点**：
- 从每一位的二进制视角对比异或与加法，直观解释最优解逻辑。
- 代码结合快读优化，适合处理大规模数据。

**核心代码**：
```cpp
int main() {
    n = read();
    for (int i = 1; i <= n; i++)
        ans ^= read();
    printf("%d\n", ans);
}
```

---

### 关键思路与技巧
1. **异或性质**：异或运算不进位，因此 `a^b ≤ a + b`，分组越少总和越小。
2. **最优策略**：所有数异或后的结果即为最小总和，无需考虑分组细节。
3. **位运算思维**：将问题转换为二进制位分析，快速发现规律。

---

### 相似题目推荐
1. [P1469 找筷子](https://www.luogu.com.cn/problem/P1469) - 异或找唯一出现奇数次的数。
2. [P3908 异或之和](https://www.luogu.com.cn/problem/P3908) - 利用异或性质求和。
3. [P1734 最大约数和](https://www.luogu.com.cn/problem/P1734) - 位运算与动态规划结合。

---

### 个人心得总结
- **调试经验**：多组样例验证异或性质，如样例2通过分组异或后总和等于全体异或。
- **顿悟点**：异或的不进位特性直接决定最优解形式，避免复杂分组策略。
- **教训**：位运算问题优先考虑二进制位独立分析，简化问题复杂度。

---
处理用时：76.44秒
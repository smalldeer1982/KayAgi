# 题目信息

# 【CSGRound2】守序者的尊严

## 题目背景

由于 Y 校最近进行了对学校食堂的全面改革与对小卖部的全面整治(乱搞)，导致学校小卖部卖的零食被禁售了；学校食堂的炸鸡窗口也消失了；

并且学校的学生处 Q 主任严禁学生点外卖，日夜监察。

都说民以食为天，由于整天挨饿，全校同学处于水深火热之中。

## 题目描述

zhouwc 的朋友（朋友就是自己系列）小 Z 由于饥饿难忍，不得不铤而走险点外卖。

但是学校的 Q 主任为了能够抓住点外卖的学生布置了天罗地网——监控。

但是由于学校给 Q 主任的经费有限，所以这些监控不能持续工作，工作一秒之后便要暂停休息一秒，**即开启一秒后关闭一秒再开启一秒...以此类推**。

还是由于 Q 主任的经费有限，这些监控被排成了一条直线，这条直线便在学生通往学生外卖驻点——二号门（没有门卫）的必经之路上。

因为小 Z 修习了疾跑技能，所以小 Z 通过任意个数关闭的监控的时间均为 
 $1$（即一次行动可以经过若干个未开的监控）。

由于小 Z 想吃外卖又不想受到正在监控室看着监控的 Q 主任的处分，请你告诉他至少要多少时间才能安全到达外卖驻点。

## 说明/提示

#### 数据范围：

对于 $10\%$ 的数据，$1 \leq n \leq 10$

对于 $30\%$ 的数据，$1 \leq n \leq 100$

对于 $50\%$ 的数据，$1 \leq n \leq 10^3$

对于 $70\%$ 的数据，$1 \leq n \leq 10^5$

对于$100\%$的数据，$1 \leq n \leq 10^6$

监控的开关情况均用 $0$ 和 $1$ 来表示。

#### 样例解释一：

小 Z 在第一秒时冲到第二个监控处，用时 $1$ 秒，总用时 $1$ 秒。

第二秒时，监控的开关状况变为了 $1 1 0 0 1 0$。

这时，小 Z 迅速从二号监控处冲到了四号监控处，用时 $1$ 秒，总用时 $2$ 秒。

第三秒时，监控的开关状况变为了 $0 0 1 1 0 1$。

这时，小 Z 迅速从四号监控处冲到了五号监控处，用时 $1$ 秒，总用时 $3$ 秒。

第三秒时，监控的开关状况变为了 $1 1 0 0 1 0$。

这时，小 Z 迅速从五号监控处冲出了监控区域，用时 $1$ 秒，总用时 $4$ 秒。

#### 样例解释二

小Z在第一秒直接冲出了监控区域。

## 样例 #1

### 输入

```
6
0 0 1 1 0 1```

### 输出

```
4```

## 样例 #2

### 输入

```
6
0 0 0 0 0 0```

### 输出

```
1```

# AI分析结果



### 综合分析与结论
题目本质是求初始监控序列中相邻元素变化的次数+1，连续相同状态段可一次性通过。最优解法通过统计相邻元素变化次数将时间复杂度降至O(n)，避免了直接模拟状态切换的低效做法。

### 高星题解推荐
1. **zhouwc的官方题解 (5星)**
   - **亮点**：思路简洁，直接指出答案等于相邻元素变化次数+1。代码仅用单次遍历，无冗余操作。
   - **代码核心**：
     ```cpp
     int ans = 1;
     for (int i=2; i<=n; i++)
         if (a[i] != a[i-1]) ans++;
     ```
   - **个人心得**："监控的变化规律被简化为直接统计初始状态的变化次数"。

2. **Eason_AC的题解 (4星)**
   - **亮点**：对比同类题目，强调初始状态处理，代码包含边界条件注释。
   - **代码核心**：
     ```cpp
     if (a[i] != a[i-1]) ans++;
     ```
   - **拓展思考**：提及类似题目P4439的连续区间统计思想。

3. **StudyingFather的题解 (4星)**
   - **亮点**：代码极简，仅用5行核心逻辑，空间复杂度优化到O(1)。
   - **代码核心**：
     ```cpp
     if (lastx != x) ans++, lastx = x;
     ```

### 关键思路与技巧
- **相邻差异统计法**：遍历数组，记录相邻元素不同的次数，加一即为答案。
- **优化技巧**：避免显式存储数组，边读边处理（如StudyingFather的代码）。
- **思维突破**：将动态状态切换转化为静态初始序列分析，利用监控周期性特性。

### 拓展题目推荐
1. **P1115 最大子段和**（连续段处理）
2. **P3143 [USACO16OPEN]钻石收集者**（相邻差值统计）
3. **P2661 信息传递**（周期性状态分析）

### 核心代码实现
```cpp
#include <cstdio>
int main() {
    int n, last, ans = 1;
    scanf("%d", &n);
    scanf("%d", &last); // 读取第一个元素
    for (int i=2; i<=n; ++i) {
        int x;
        scanf("%d", &x);
        if (x != last) ans++;
        last = x;
    }
    printf("%d", ans);
    return 0;
}
```

---
处理用时：38.88秒
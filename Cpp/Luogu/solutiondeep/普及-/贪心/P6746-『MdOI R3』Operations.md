# 题目信息

# 『MdOI R3』Operations

## 题目背景

这是这场比赛唯一一道没有题目背景的题，这就是本题的题目背景。

## 题目描述

给定非负整数 $a,b$，有两种操作：

1. 任意选择一个正整数 $x$，将两数都减去 $x$，执行一次该操作的代价为 $c$；
2. 任意选择一个正整数 $x$，将两数其中一个数乘以 $x$，另一个除以 $x$ 后向下取整，执行一次该操作的代价为 $d$。

在这里，向下取整指使一个数变为**不大于它的最大的整数**，比如 $3.5$ 向下取整为 $3$，$-0.07$ 向下取整为 $-1$。

选择的 $x$ 可以为任意正整数。在操作的过程中，可以把 $a,b$ 变为负数。

你可以任意多次对这两个数操作，求将 $a,b$ 都变成 $0$ 的代价最小值。

## 说明/提示

【样例解释】

先使用一次 $2$ 操作，选择 $x=2$，将 $a$ 乘 $2$，将 $b$ 除以 $2$，得 $a=18,b=18$。  
再使用一次 $1$ 操作，选择 $x=18$，将两个数都减去 $18$，得 $a=0,b=0$。  
可以证明没有比上述操作代价更小的方案。

更多样例请[到这里](https://www.luogu.com.cn/paste/fnvd95y2)领取。

【数据范围】  

**本题采用捆绑测试**，换言之，你只有通过一个子任务的所有测试点，才可以拿到该子任务对应分数。
| 子任务编号 | $a=0$ | $b=0$ | $a=b$ | $c=1,d\geq 10^5$ | $c \geq 10^5,d=1$ | 分值 |
| :--------: | :------: | :------: | :--------: | :----------------: | :----------------: | :--: |
|     $1$      |    $\surd$     |    $\surd$     |            |                    |                    |  10  |
|     $2$      |    $\surd$     |          |            |                    |                    |  10  |
|     $3$      |          |          |     $\surd$      |         $\surd$          |                    |  10  |
|     $4$      |          |          |          | $\surd$ |                  |  10  |
|     $5$      |          |          | $\surd$ |                  | $\surd$ |  10  |
|     $6$      |          |          |            |                    |         $\surd$   |  10  |
|     $7$      |          |          |            |                    |                    |  40  |

特殊性质如上所示，其中，$\surd$ 表示保证有该特殊性质，空格表示不保证有该性质。

对于所有数据，$0\leq a,b,c,d \leq 10^9$。

## 样例 #1

### 输入

```
9 36 1 3```

### 输出

```
4
```

# AI分析结果



### 综合分析与结论
题目核心是通过分类讨论不同情况（a=0、b=0、a=b等），结合两种操作的性质（操作1可同时减少两数，操作2可快速清零），选择最小代价组合。所有题解均采用贪心策略，通过特判+取最小值解决。关键难点在于分析不同情况的边界条件及操作可行性。

---

### 精选高分题解

#### 1. 作者：chen_zhe（⭐⭐⭐⭐⭐）
**关键亮点**：
- 覆盖所有边界情况，逻辑清晰简洁。
- 通过表格形式明确各情况的最优解，代码可读性极佳。
- 结合数据范围设计高效分类策略，无需复杂计算。

**代码核心**：
```cpp
if (a==0 && b==0) puts("0");
else if (a*b==0) cout << d << endl;
else if (a==b) cout << min(c,2*d) << endl;
else cout << min(c+d,2*d) << endl;
```
**实现思想**：分层判断特殊情况，直接返回对应最优解。

---

#### 2. 作者：Rubidium_Chloride（⭐⭐⭐⭐）
**关键亮点**：
- 数学证明两次操作必能归零，增强解法正确性。
- 详细讨论操作顺序对结果的影响，给出严谨分析。
- 代码包含详细注释，适合初学者理解。

**核心证明**：
> 任取x=a+1进行两次操作二：  
> (a,b)→(0,b*(a+1))→(0,0)，代价2d。  
> 或先操作一减到a=0，再操作二：代价c+d。

**代码亮点**：特判顺序优化，处理全部边界条件。

---

#### 3. 作者：仗剑_天涯（⭐⭐⭐⭐）
**关键亮点**：
- 将问题拆解为基本答案+特判，结构清晰。
- 提出“极大数”操作思想，直观解释操作2的可行性。
- 代码最短且效率最优，适合竞赛场景。

**关键思路**：
> 当存在0时，用极大x使非零数除后归零。当a≠b时，答案必为min(c+d, 2d)。

---

### 最优关键思路与技巧
1. **分类讨论法**：优先处理a=0、b=0、a=b等特殊边界情况。
2. **操作性质利用**：
   - 操作2的“极大数除法”可将任意非零数快速清零。
   - 操作1仅在a=b时可能优于两次操作2。
3. **极值比较**：所有情况最终转化为对c+d与2d的比较取min。

---

### 举一反三
**类似题目推荐**：
1. [P1031 均分纸牌](https://www.luogu.com.cn/problem/P1031)（贪心策略+分类操作）
2. [P2118 比例简化](https://www.luogu.com.cn/problem/P2118)（数学优化+边界处理） 
3. [P2920 Time Management](https://www.luogu.com.cn/problem/P2920)（极值选择+时间规划）

---

### 题解中的个人心得摘录
1. **chen_zhe**：  
   > “对着数据范围做题” —— 强调利用子任务提示发现规律。
2. **Rubidium_Chloride**：  
   > “调试经历：先尝试搜索写挂后转向分类讨论” —— 体现解法迭代过程。
3. **囧仙**：  
   > “操作二除法下取整的特性是解题关键” —— 点明题目核心机制。

---
处理用时：54.55秒
# 题目信息

# [THUPC 2017] 玩游戏

## 题目描述

ljcc 和他的学妹在玩游戏，这个游戏共有 $n$ 轮，在第 $i$ 轮获胜会获得 $i$ 分，没有平局。

现在给出 ljcc 和学妹的得分，求是否有一种方案符合当前得分。

## 说明/提示

**由于 SPJ 问题，禁止输出行末空格、回车**。

$a,b\le 2^{31}-1,1\le n\le 10^5$
#### 版权信息
来自 THUPC（THU Programming Contest，清华大学程序设计竞赛）2017。

## 样例 #1

### 输入

```
10 5```

### 输出

```
5 1 2 3 4```

# AI分析结果



### 综合分析与结论
该题核心在于验证总得分是否为三角数，并通过贪心构造解。所有题解均基于以下两点：
1. **验证合法性**：总得分 $a + b$ 必须等于 $\frac{n(n+1)}{2}$，通过 $n = \lfloor \sqrt{2(a+b)} \rfloor$ 求得后验证。
2. **贪心构造**：从大到小选取数，确保每次取最大的可行数，避免剩余无法分配。

### 高星题解推荐
#### 1. 作者：luckydrawbox（5星）
**关键亮点**：
- 思路清晰，详细推导了 $n$ 的数学表达式。
- 代码简洁高效，正确处理了行末空格问题。
- 强调了 `long long` 的必要性，避免溢出。
**核心代码**：
```cpp
for (int i = n; a; i--) {
    if (a >= i) {
        a -= i;
        cout << " " << i;
    }
}
```

#### 2. 作者：cyffff（4星）
**关键亮点**：
- 简洁明了，直接给出贪心正确性证明。
- 代码无冗余，快速实现核心逻辑。
**核心思路**：
> "从大到小遍历，若当前数可被 $a$ 容纳则选，否则跳过。"

#### 3. 作者：HYdroKomide（4星）
**关键亮点**：
- 代码规范，严格遵循输出格式要求。
- 明确指出构造题的通用思路：合法性判断 + 贪心。
**核心代码**：
```cpp
for (long long i = n; i > 0; i--) {
    if (a >= i) {
        printf(" %lld", i);
        a -= i;
    }
}
```

### 最优思路总结
1. **数学验证**：通过 $\sqrt{2(a+b)}$ 快速确定 $n$，验证是否为三角数。
2. **逆向贪心**：从大到小选取数，保证每次决策的局部最优性，全局必然有解。

### 拓展与举一反三
- **同类问题**：如背包问题的贪心构造、分解数为连续整数和（如P7071）。
- **注意点**：数据溢出需用 `long long`，行末空格处理。
- **推荐题目**：
  1. P7071 [CSP-J2020] 优秀的拆分（贪心构造）
  2. P1469 找筷子（异或性质应用）
  3. P1045 麦森数（大数处理与快速幂）

### 题解中的个人心得
- **Karl_Aurora**：尝试用二分法求 $n$，但复杂度与直接公式法相近。
- **Solgareo**：强调输出格式的最后字符处理，避免常见错误。
- **RyanCh**：使用栈逆序输出，确保顺序正确，体现灵活数据结构应用。

---
处理用时：114.30秒
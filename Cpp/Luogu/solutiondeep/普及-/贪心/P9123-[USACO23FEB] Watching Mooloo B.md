# 题目信息

# [USACO23FEB] Watching Mooloo B

## 题目描述

贝茜喜欢看 Mooloo 的演出。因为她是一只忙碌的奶牛，她计划在接下来的 $N (1 \le N \le 10^5)$ 天去看演出。因为 Mooloo 提供了订阅服务，她想要使她花费的钱最少。

Mooloo 有一个有趣的订阅服务系统：若要在此之后的连续 $d$ 天看演出，则在订阅时需要花费 $d+K(1 \le K \le 10^9)$ 个单位价格。你可以随时订阅；若本次订阅已经过期，你可以根据需要订阅多次。基于以上条件，请计算出贝茜最少要花费多少个单位价格，才能完成她的计划。

## 样例 #1

### 输入

```
2 4
7 9```

### 输出

```
7```

## 样例 #2

### 输入

```
2 3
1 10```

### 输出

```
8```

# AI分析结果



### 综合分析与结论
题目要求选择最优订阅策略使总费用最小，各题解核心思路为贪心或动态规划。最优解法为**贪心策略**：每次比较当前间隔费用与重新订阅费用，选择更小者累加。该方案时间复杂度为 $O(n)$，空间复杂度可优化至 $O(1)$（通过流式处理输入）。

### 精选题解与评分
#### 1. 是青白呀（⭐⭐⭐⭐⭐）
- **关键亮点**：思路清晰，代码简洁，直接遍历日期数组，每次贪心选择较小费用。
- **代码核心**：
  ```cpp
  int ans = k + 1;
  for (int i = 2; i <= n; i++) {
      ans += min(k + 1, a[i] - a[i - 1]);
  }
  ```

#### 2. wuhan1234（⭐⭐⭐⭐⭐）
- **关键亮点**：流式处理输入，空间优化至 $O(1)$，适用于大规模数据。
- **代码核心**：
  ```c
  long long pred, d;
  scanf("%lld", &pred);
  ans = 1 + k;
  for (i = 2; i <= n; i++) {
      scanf("%lld", &d);
      ans += (d - pred <= 1 + k) ? (d - pred) : (1 + k);
      pred = d;
  }
  ```

#### 3. 快斗游鹿（⭐⭐⭐⭐⭐）
- **关键亮点**：代码极简，直接逐个读入日期，实时计算费用，空间高效。
- **代码核心**：
  ```cpp
  int D = read();
  ans += (1 + k);
  for (int i = 2; i <= n; i++) {
      int d = read();
      ans += (d - D <= 1 + k) ? (d - D) : (1 + k);
      D = d;
  }
  ```

### 最优技巧总结
- **贪心选择**：每次仅需比较相邻日期间隔与 $K+1$，无需复杂结构。
- **空间优化**：流式处理输入，避免存储全部日期，空间复杂度降至 $O(1)$。

### 推荐题目
1. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)（贪心策略）
2. [P5019 铺设道路](https://www.luogu.com.cn/problem/P5019)（区间贪心处理）
3. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)（贪心+优先队列）

---
处理用时：161.18秒
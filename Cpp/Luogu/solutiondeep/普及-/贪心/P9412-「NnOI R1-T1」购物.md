# 题目信息

# 「NnOI R1-T1」购物

## 题目描述

小 R 是一个喜欢购物的女孩子，她生活在欧艾国中。

欧艾国共有 $n$ 种面值的硬币，它们的面值分别为 $1=a_1 < a_2 < a_3 < \cdots < a_n$，且满足 $a_{i+1}$ 是 $a_i$ 的倍数。欧艾国只有硬币一种付款方式。

欧艾国的商店不支持找零，她在购物时必须支付与价格完全相等的硬币。对于同样的价格，可以有不同的支付方式。例如，如果欧艾国硬币的面值为 $1$ 元和 $5$ 元，那么支付 $7$ 元有两种方式：支付 $7$ 枚 $1$ 元硬币，或者支付 $1$ 枚 $5$ 元硬币和 $2$ 枚 $1$ 元硬币。

由于硬币的质量大致相同，她不希望携带的硬币太重，因此每次购物都会携带符合要求的尽量少的硬币。她发现了一个神奇的现象：有的时候多买 $1$ 元的商品可以使她少带很多硬币。

你能求出最小的 $m$，使得买 $m$ 元的商品需要的硬币数比买 $m-1$ 元的商品需要的硬币数更少吗？

## 说明/提示

### 样例解释

对于样例 $1$，购买 $1\sim 5$ 元的商品分别需要 $1\sim 5$ 枚 $1$ 元硬币，购买 $6$ 元的商品只需要 $1$ 枚 $6$ 元硬币。

对于样例 $2$，购买 $1$ 元或 $2$ 元的商品都需要 $1$ 枚硬币，并不满足需要的硬币数更少的要求。

### 数据范围

对于 $100\%$ 的数据，$1\le n\le 10$，$1=a_1 < a_2 < a_3 < \cdots < a_n\le 10^9$，且满足 $a_{i+1}$ 是 $a_i$ 的倍数。

**提示：本题开启捆绑测试。**

本题共 $4$ 个子任务。

| 子任务编号 | $ n \le $ | 特殊性质 | 分数 |
|:-:|:-:|:-:|:-:|
| $ 1 $ | $ 2 $ | 无 | 20 |
| $ 2 $ | $ 10 $ | 保证 $a_i\le 10^3$ | 20 |
| $ 3 $ | $ 10 $ | 保证有解 | 30 |
| $ 4 $ | $ 10 $ | 无 | 30 |

### 题目来源

| 项目 | 人员 |
|:-:|:-:|
| idea | rui_er |
| std | rui_er |
| data | rui_er |
| check | Kevin0501 |
| solution | rui_er |

## 样例 #1

### 输入

```
4
1 6 12 48```

### 输出

```
6```

## 样例 #2

### 输入

```
3
1 2 8```

### 输出

```
8```

## 样例 #3

### 输入

```
1
1```

### 输出

```
-1```

# AI分析结果



### 综合分析与结论
题目要求找到最小的 m，使得购买 m 元的硬币数比 m-1 元少。关键在于利用面值的倍数关系，寻找第一个跳跃点。最优思路是分情况讨论：
1. **无解情况**：当仅有一种面值（n=1）或面值为 {1,2} 时无解。
2. **a₂ > 2**：此时答案直接为 a₂。
3. **a₂ = 2**：答案需要取 a₃，因为 a₃ 是第一个能显著减少硬币数的面值。

### 高分题解推荐

#### 1. 作者：rui_er（★★★★★）
**关键亮点**：清晰的数学推导与分类讨论，代码简洁高效，覆盖所有情况。
- **思路**：通过分析面值的倍数关系，直接推导出三种情况下的答案，时间复杂度 O(1)。
- **代码实现**：
  ```cpp
  if (n == 1) puts("-1");
  else if (n == 2 && a[2] == 2) puts("-1");
  else if (a[2] == 2) printf("%d\n", a[3]);
  else printf("%d\n", a[2]);
  ```

#### 2. 作者：Nightsky_Stars（★★★★）
**关键亮点**：通过遍历寻找第一个非连续面值，代码简洁，思路直观。
- **思路**：遍历数组，找到第一个与前一项不连续的面值作为答案。
- **代码实现**：
  ```cpp
  for (int i = 1; i <= n; i++) {
      if (a[i] != a[i-1] + 1) {
          cout << a[i] << endl;
          return 0;
      }
  }
  cout << -1 << endl;
  ```

### 关键思路与技巧
- **分类讨论**：根据面值的结构分情况处理，避免冗余计算。
- **贪心思想**：利用面值的倍数特性，优先取大面值以减少硬币数。
- **边界处理**：明确无解情况，避免遗漏特殊情况（如 n=1 或 a₂=2）。

### 拓展与相似题目
1. **P1171 售货员的难题**（贪心与动态规划）
2. **P1969 积木大赛**（差值分析与贪心策略）
3. **P1223 排队接水**（贪心排序与最优选择）

### 个人心得摘录
- **调试教训**：需注意面值倍数关系的影响，确保所有情况覆盖。
- **顿悟感想**：当 a₂=2 时，硬币数的减少需依赖更大的面值（如 a₃），这一观察是解题关键。

---
处理用时：212.93秒
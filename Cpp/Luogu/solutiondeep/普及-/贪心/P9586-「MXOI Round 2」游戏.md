# 题目信息

# 「MXOI Round 2」游戏

## 题目描述

小 C 和小 D 正在玩一款蒸蒸日上的游戏。

这款游戏共有 $3$ 种手牌：杀、闪、斩。他们的用途分别如下：

- 杀：对对方使用，对方需要使用一张**闪**，否则对方输掉游戏；**或**回应对方的**斩**；

- 闪：回应对方的**杀**；

- 斩：对对方使用，对方需要使用一张**杀**，否则对方输掉游戏。

玩家在每使用一张牌后，都需要弃掉该使用的牌。

从小 C 开始，每个回合依次属于小 C 和小 D。在玩家的回合内，该玩家可以出**任意**张**杀**和**斩**，对方需要做出对应的回应。当然，玩家也可以不出牌，直接进入对方的回合。

现在，小 C 共有 $c_1$ 张杀、$c_2$ 张闪、$c_3$ 张斩，小 D 共有 $d_1$ 张杀、$d_2$ 张闪、$d_3$ 张斩，**双方都知道对方的手牌**。你需要求出，双方在都进行最优策略的情况下，游戏的结果会如何。

## 说明/提示

#### 【样例解释 #1】

对于第一组数据，小 C 可以先出一张斩，并在小 D 回应一张杀后再出一张斩。此时小 D 的杀用完了，无法做出回应，输掉了游戏。

#### 【样例 #2】

见附加文件中的 `game/game2.in` 与 `game/game2.ans`。

#### 【数据范围】

对于 $100\%$ 的数据，$1 \le T \le 10^5$，$0 \le c_1,c_2,c_3,d_1,d_2,d_3 \le 10^9$。

|测试点编号|特殊性质|
|:---:|:---:|
|$1\sim3$|保证 $c_3=d_3=0$|
|$4\sim6$|保证 $c_1=d_2$ 且 $c_2=d_1$|
|$7\sim10$|无|

## 样例 #1

### 输入

```
3
3 1 4 1 5 9
1 1 4 5 1 4
5 2 1 2 6 3```

### 输出

```
C
D
E```

# AI分析结果



### 综合分析与结论
本题核心是博弈论中的先手最优策略分析，关键点在于：  
1. 先手能否直接通过杀/斩秒杀  
2.无法秒杀时通过消耗策略影响后续回合  
3. 剩余资源的对抗分析  
各题解均采用贪心策略，通过条件判断直接推导结果，时间复杂度 O(1) 符合数据规模要求。

---

### 精选题解（评分≥4星）

#### 1. 作者：Coffee_zzz（★★★★★）
**核心思路**：  
- 优先判断先手秒杀条件  
- 后手秒杀条件需考虑斩的消耗  
- 四层条件判断覆盖所有情况  

**关键代码**：
```cpp
if(c1>d2) puts("C");
else if(c3>d1) puts("C");
else if(d3>c1) puts("D");
else if(d1-c3>c2) puts("D");
else puts("E");
```

#### 2. 作者：liangbob（★★★★☆）
**亮点**：  
- 明确消耗策略的数学表达  
- 清晰的条件判断顺序  
- 包含验题人视角的优化思路  

**关键代码**：
```cpp
d1 -= c3; // 消耗策略
if(d1 > c2) cout << "D";
```

#### 3. 作者：Lizj（★★★★☆）
**独特价值**：  
- 分阶段模拟消耗过程  
- 严格处理牌数归零  
- 包含回合转移的完整推导  

**核心逻辑**：
```cpp
d1 -= c3; // 消耗对方杀
c3 = 0;   // 明确状态变化
if(d3 > c1) ... // 后续判断
```

---

### 最优策略总结
**关键步骤**：  
1. **先手必杀检查**：`c1 > d2（杀破闪）` 或 `c3 > d1（斩破杀）`  
2. **消耗阶段**：小C尽出所有斩 → `d1 = d1 - c3`  
3. **后手必杀检查**：`d3 > c1（斩破杀）` 或 `d1 > c2（杀破闪）`  
4. **平局条件**：双方均无法达成必杀条件  

**思维技巧**：  
- 将博弈过程转化为资源消耗模型  
- 优先处理威胁最大的牌型（斩）  
- 利用整数运算直接推导结果，避免模拟过程

---

### 同类题目推荐
1. [P1247 取火柴游戏](https://www.luogu.com.cn/problem/P1247) - Nim博弈基础  
2. [P1516 青蛙的约会](https://www.luogu.com.cn/problem/P1516) - 线性同余方程与资源对抗  
3. [P1290 欧几里德的游戏](https://www.luogu.com.cn/problem/P1290) - 博弈论中的必胜态分析

---

### 调试经验摘录
1. **Coffee_zzz**：  
   > "小C无法秒杀时，必须用完所有斩来消耗对方杀，此时小D的杀要减去c3"  
   → 揭示消耗策略的数学本质  

2. **卷王**：  
   > "出斩不会使情况更坏，因为用杀回应斩是唯一选择"  
   → 解释为何优先出斩  

3. **Special_Tony**：  
   > "平局条件是双方都没有威胁性牌，此时只剩闪无法主动攻击"  
   → 明确游戏终止条件

---
处理用时：52.67秒
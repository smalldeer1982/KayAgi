# 题目信息

# [USACO20OPEN] Social Distancing II B

## 题目描述

由于高传染性的牛传染病 COWVID-19 的爆发，Farmer John 非常担忧他的奶牛们的健康。

尽管他尽了最大努力使他的 $N$ 头奶牛们（$1\le N\le 1000$）践行“社交距离”，还是有许多奶牛不幸染上了疾病。编号为 $1\ldots N$ 的奶牛们分别位于一条长直道路上的不同位置（相当于一维数轴），奶牛 $i$ 位于位置 $x_i$。Farmer John 知道存在一个半径 $R$，任何与一头被感染的奶牛距离不超过 $R$ 单位的奶牛也会被感染（然后会传染给与其距离 $R$ 单位内的奶牛，以此类推）。

不幸的是，Farmer John 并不确切知道 $R$ 的值。他只知道他的哪些奶牛被感染了。给定这个数据，求出起初感染疾病的奶牛的最小数量。 

## 说明/提示

### 样例解释 1

在这个例子中，我们知道 $R<3$，否则位于位置 $7$ 的奶牛会传染给位于位置 $10$ 的奶牛。所以，至少 $3$ 头奶牛初始时已被感染：位于位置 $1$ 和 $3$ 的两头奶牛中的一头，位于位置 $6$ 和 $7$ 的两头奶牛中的一头，以及位于位置 $15$ 的奶牛。 

## 样例 #1

### 输入

```
6
7 1
1 1
15 1
3 1
10 0
6 1```

### 输出

```
3```

# AI分析结果



### 综合分析与结论
本题的核心在于通过贪心算法确定最大可能的感染半径R，并统计初始感染源的数量。关键步骤包括排序、确定R的最大值（基于未感染牛与最近感染牛的距离），以及遍历统计无法被前一个感染源覆盖的牛作为初始源。大部分题解采用相似思路，但在实现细节和边界处理上存在差异。

### 高星题解推荐

#### 1. 作者：dabenBbx（★★★★☆）
- **关键亮点**：代码简洁，逻辑清晰，正确处理R的计算和初始源统计。通过遍历未感染牛的左右感染牛距离确定R，利用排序后的数组高效统计初始源。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n;i++){ 
      if(a[i].z==0){ 
          if(i>1 && a[i-1].z==1) 
              mind= min(mind, a[i].d - a[i-1].d); 
          if(i <n && a[i+1].z==1) 
              mind = min(mind, a[i+1].d - a[i].d); 
      } 
  } 
  for(int i=1;i<=n;i++){ 
      if(a[i].z==1){ 
          if(a[i-1].z==1&&a[i].d-a[i-1].d<mind) continue; 
          ans++; 
      } 
  }
  ```

#### 2. 作者：Rainber（★★★★☆）
- **关键亮点**：正确初始化ans为1处理首项，使用指针遍历，详细处理边界条件，确保首头感染牛被计入。
- **核心代码**：
  ```cpp
  ans = 1; 
  for (cp = cows + 1; cp < cows + n; ++cp) { 
      if (cp->status == 1) { 
          if (cp->place - (cp - 1)->place < r) continue; 
          ans++; 
      } 
  }
  ```

#### 3. 作者：jsisonx（★★★★★）
- **关键亮点**：思路最严谨，详细分析R的数学性质，通过预处理感染牛位置数组确保正确计算左右最近感染牛距离，避免相邻牛未感染的错误。
- **核心代码**：
  ```cpp
  for (int i=1;i<=n;i++) { 
      if (c[i].ill == 0) { 
          int d1 = abs(c[i].x - c[illy[h]].x), d2 = abs(c[i].x - c[illy[h+1]].x); 
          maxp = min(maxp, min(d1, d2)); 
      } else h++; 
  }
  ```

### 最优关键思路总结
1. **排序**：按位置排序所有牛。
2. **确定R**：遍历未感染牛，计算其左右最近感染牛的距离，取最小值作为R的最大可能值。
3. **统计初始源**：遍历感染牛，若与前一个感染牛距离≥R则视为新源。

### 拓展与相似题目
1. **P3143 [USACO16OPEN] Diamond Collector S**（贪心+双指针）
2. **P1094 纪念品分组**（贪心策略）
3. **P2212 [USACO14MAR] Watering the Fields S**（贪心选择有效边）

### 个人心得摘录
- **边界处理**：初始感染源的计数需考虑首项（如Rainber的ans=1）。
- **R的计算误区**：需确保R严格小于未感染牛的最小距离，避免感染逻辑矛盾。
- **数组越界**：遍历时检查i-1和i+1的有效性，如dabenBbx的条件判断。

---
处理用时：352.85秒
# 题目信息

# kkksc03考前临时抱佛脚

## 题目背景

kkksc03 的大学生活非常的颓废，平时根本不学习。但是，临近期末考试，他必须要开始抱佛脚，以求不挂科。


## 题目描述

这次期末考试，kkksc03 需要考 $4$ 科。因此要开始刷习题集，每科都有一个习题集，分别有 $s_1,s_2,s_3,s_4$ 道题目，完成每道题目需要一些时间，可能不等（$A_1,A_2,\ldots,A_{s_1}$，$B_1,B_2,\ldots,B_{s_2}$，$C_1,C_2,\ldots,C_{s_3}$，$D_1,D_2,\ldots,D_{s_4}$）。


kkksc03 有一个能力，他的左右两个大脑可以同时计算 $2$ 道不同的题目，但是仅限于同一科。因此，kkksc03 必须一科一科的复习。


由于 kkksc03 还急着去处理洛谷的 bug，因此他希望尽快把事情做完，所以他希望知道能够完成复习的最短时间。


## 说明/提示

$1\leq s_1,s_2,s_3,s_4\leq 20$。

$1\leq A_1,A_2,\ldots,A_{s_1},B_1,B_2,\ldots,B_{s_2},C_1,C_2,\ldots,C_{s_3},D_1,D_2,\ldots,D_{s_4}\leq60$。

## 样例 #1

### 输入

```
1 2 1 3		
5
4 3
6
2 4 3
```

### 输出

```
20```

# AI分析结果

### 综合分析与结论

本题的核心是将每科的题目时间分配到左右脑，使得两脑的时间差最小，从而得到最短的总复习时间。大多数题解采用了**01背包**的思路，将问题转化为将每科的总时间尽量均分到两脑。部分题解使用了**深度优先搜索（DFS）**，虽然在小数据范围内可行，但效率较低。贪心策略在本题中并不适用，因为无法保证全局最优。

### 所选高星题解

#### 1. 作者：hmh13951417981 (5星)
- **关键亮点**：从贪心策略转向01背包，思路清晰，代码简洁。
- **个人心得**：作者最初尝试贪心策略，发现无法通过后，迅速转向01背包，体现了对问题的深刻理解和灵活应对。
- **核心代码**：
```cpp
for(j=1;j<=a[i];j++)
    for(k=sum/2;k>=homework[j];k--)
        dp[k]=max(dp[k],dp[k-homework[j]]+homework[j]);
t+=sum-dp[sum/2];
```
- **实现思想**：通过01背包将每科的时间尽量均分到两脑，累加每科的最优解。

#### 2. 作者：Sino_E (5星)
- **关键亮点**：详细分析了贪心策略的不足，提出01背包的正确性，并给出了清晰的代码实现。
- **个人心得**：作者通过冷静分析，发现贪心策略的局限性，最终通过01背包成功解决问题。
- **核心代码**：
```cpp
for(int j=1;j<=len[i];j++)
    for(int k=0;k<=v/2;k++)
        f[j][k]=max(f[j][k],f[j-1][k-sub[j]]+sub[j]);
tot+=max(t1,v-t1);
```
- **实现思想**：通过二维DP数组进行01背包，确保每科的时间分配最优。

#### 3. 作者：早右昕 (4星)
- **关键亮点**：代码简洁，思路清晰，采用二维数组存储数据，优化了代码结构。
- **核心代码**：
```cpp
for(int p=1;p<=s[i];p++)
    for(int q=ALL>>1;q>=a[i][p];q--)
        dp[q]=max(dp[q],dp[q-a[i][p]]+a[i][p]);
tot+=ALL-dp[ALL>>1];
```
- **实现思想**：通过01背包将每科的时间尽量均分到两脑，累加每科的最优解。

### 最优关键思路与技巧

1. **01背包的应用**：将每科的总时间尽量均分到两脑，转化为01背包问题，确保全局最优。
2. **状态转移方程**：`dp[k] = max(dp[k], dp[k - homework[j]] + homework[j])`，确保每次选择最优解。
3. **初始化与清零**：每次处理完一科后，清零DP数组，避免数据污染。

### 可拓展之处

- **类似问题**：类似的问题可以扩展到多核处理器任务分配、资源分配等场景，核心思想都是将任务或资源尽量均分。
- **算法套路**：01背包问题在解决分配类问题时非常常见，掌握其核心思想可以解决多种类似问题。

### 推荐题目

1. **P2871 [USACO07DEC]Charm Bracelet**：经典的01背包问题，适合巩固背包算法的应用。
2. **P1048 [NOIP2005 普及组] 采药**：01背包的变种，适合进一步练习背包问题的应用。
3. **P1064 [NOIP2006 提高组] 金明的预算方案**：多维背包问题，适合提升对背包问题的理解与应用。

### 个人心得总结

- **调试经历**：多位作者在尝试贪心策略失败后，通过冷静分析转向01背包，体现了调试与反思的重要性。
- **踩坑教训**：贪心策略在本题中无法保证全局最优，提醒我们在选择算法时要充分考虑问题的特性。
- **顿悟感想**：通过01背包将问题转化为均分问题，体现了算法思维的灵活性与创造性。

---
处理用时：31.91秒
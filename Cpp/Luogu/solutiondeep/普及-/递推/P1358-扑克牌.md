# 题目信息

# 扑克牌

## 题目描述

组合数学是数学的重要组成部分，是一门研究离散对象的科学，它主要研究满足一定条件的组态（也称组合模型）的存在、计数以及构造等方面的问题。组合数学的主要内容有组合计数、组合设计、组合矩阵、组合优化等。

随着计算机科学的日益发展，组合数学的重要性也日渐凸显，因为计算机科学的核心内容是使用算法处理离散数据。

今天我们来研究组合数学中的一个有趣的问题，也是一个简单的计数问题：

从一副含有 $n$ 张的扑克牌(每张扑克牌都不相同)中，分给 $m$ 个人，第 $i$ 个人得到 $a_i$ 张牌，求一共有几种分法，这个数可能非常大，请输出此数模 $10007$ 后的结果。

## 说明/提示

对于 $50\%$ 的数据：$a_i=1$。

对于 $100\%$ 的数据：$1 \leq n \leq 10^4$，$1 \leq m \leq 100$，$0 \leq a_i \leq 100$。



## 样例 #1

### 输入

```
5 2
3 1
```

### 输出

```
20
```

## 样例 #2

### 输入

```
20 19
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
```

### 输出

```
8707
```

# AI分析结果

### 综合分析与结论

本题的核心是计算组合数，并将其应用于分配扑克牌的场景。大部分题解都采用了组合数的计算方式，但实现方法和优化程度有所不同。以下是各题解的主要思路和优化点：

1. **杨辉三角法**：通过预处理杨辉三角来计算组合数，适合小范围数据，但空间复杂度较高。
2. **质因数分解法**：通过质因数分解计算组合数，适合大范围数据，但时间复杂度较高。
3. **阶乘与逆元法**：通过预处理阶乘和逆元来计算组合数，适合大范围数据，且时间复杂度较低。
4. **递推法**：通过递推关系计算组合数，适合小范围数据，空间复杂度较低。

### 所选高星题解

#### 1. 作者：guobaipeng0 (★★★★☆)
**关键亮点**：
- 使用杨辉三角预处理组合数，适合小范围数据。
- 代码简洁，易于理解。

**核心代码**：
```cpp
for (i=1; i<=10000; i++)
    for (j=0; j<=100; j++)
        a[i][j]=(a[i-1][j-1]+a[i-1][j])%10007;  //杨辉三角求组合数
for (i=1; i<=m; i++)
{
    cin>>t;
    s=s*a[n][t]%10007;  //记得取模
    n-=t;  //由于第i个人拿了t张，扑克牌数量减少t
}
```

#### 2. 作者：王奕瑜 (★★★★☆)
**关键亮点**：
- 使用质因数分解计算组合数，适合大范围数据。
- 代码结构清晰，逻辑严谨。

**核心代码**：
```cpp
long long C(int n,int m,int mod)//求C(n,m)%mod
{
    long long ans=1;
    for (int i=0;i<s;i++)
    {
        int k=cal(n,p[i])-cal(m,p[i])-cal(n-m,p[i]);
        for (int j=0;j<k;j++)//把k个p[i]相乘
            ans=(ans*p[i])%mod;
    }
    return ans;
}
```

#### 3. 作者：什么叫中二呀 (★★★★☆)
**关键亮点**：
- 使用阶乘和逆元预处理组合数，适合大范围数据。
- 代码简洁，效率高。

**核心代码**：
```cpp
ll C(ll a,ll b){return fac[a]*inf[b]%m*inf[a-b]%m;}//计算组合数
ll p(ll a,ll b){return b?p(a*a%m,b>>1)%m*(b&1?a:1)%m:1;}//快速幂求逆元
```

### 最优关键思路与技巧

- **预处理组合数**：通过预处理阶乘和逆元，可以快速计算组合数，适合大范围数据。
- **递推关系**：利用递推关系计算组合数，适合小范围数据，空间复杂度较低。
- **质因数分解**：通过质因数分解计算组合数，适合大范围数据，但时间复杂度较高。

### 可拓展之处

- **同类型题**：类似的问题包括分配物品、排列组合等，可以使用相同的组合数计算方法。
- **算法套路**：预处理阶乘和逆元的方法可以应用于其他需要计算组合数的场景。

### 推荐题目

1. **洛谷 P3807 【模板】卢卡斯定理** - 考察组合数计算与卢卡斯定理。
2. **洛谷 P1313 计算系数** - 考察组合数计算与多项式展开。
3. **洛谷 P2522 [HAOI2011]Problem b** - 考察组合数计算与数论分块。

### 个人心得总结

- **调试经历**：多位作者提到在取模运算时容易出错，建议在每一步计算后都进行取模操作。
- **踩坑教训**：部分作者在计算组合数时未考虑数据范围，导致超时或溢出，建议使用预处理阶乘和逆元的方法。
- **顿悟感想**：通过预处理阶乘和逆元，可以大大简化组合数的计算过程，提高代码效率。

---
处理用时：32.81秒
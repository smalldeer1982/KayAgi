# 题目信息

# 上学路线

## 题目描述

你所在城市的街道好像一个棋盘，有 $a$ 条南北方向的街道和 $b$ 条东西方向的街道。南北方向的 $a$ 条街道从西到东依次编号为 $1$ 到 $a$，而东西方向的 $b$ 条街道从南到北依次编号为 $1$ 到 $b$，南北方向的街道 $i$ 和东西方向的街道 $j$ 的交点记为 $(i,j)$。

你住在 $(1,1)$ 处，而学校在 $(a,b)$ 处，你骑自行车去上学，自行车只能沿着街道走，而且为了缩短时间只允许沿着向东和北的方向行驶。

现在有 $N$ 个交叉路口在施工 $(X_1,Y_1)$、$(X_2,Y_2)$……，$(X_n,Y_n)$，这些路口是不能通车的。

问你上学一共有多少走法?

## 说明/提示

【样例解释】

![](https://cdn.luogu.com.cn/upload/image_hosting/d8tdwcbj.png)

## 样例 #1

### 输入

```
5 4
3
2  2
2  3
4  2
```

### 输出

```
5```

# AI分析结果

### 综合分析与结论

本题解主要涉及**路径计数**问题，解法包括**DFS**、**BFS**、**动态规划（DP）**等。大多数题解采用了DFS或DP，其中DP解法在效率上更优，适合大规模数据。DFS解法虽然直观，但在数据规模较大时容易超时。BFS解法较为少见，且需要较大的队列空间，效率不如DP。

### 所选高星题解

#### 1. 作者：过往梦魇之殇 (5星)
- **关键亮点**：采用**动态规划**，思路清晰，代码简洁，效率高。通过递推公式 `mapp[i][j] = mapp[i-1][j] + mapp[i][j-1]` 计算每个点的路径数，并处理障碍点。
- **代码实现**：
  ```cpp
  for(int i=2;i<=a;i++){
      for(int j=2;j<=b;j++){
          if(flag[i][j]){
              mapp[i][j]=mapp[i-1][j]+mapp[i][j-1];
          }
      }
  }
  ```

#### 2. 作者：KesdiaelKen (4星)
- **关键亮点**：同样采用**动态规划**，代码简洁，处理障碍点的方式与上一位作者类似，但代码风格更为简洁。
- **代码实现**：
  ```cpp
  for(int i=1;i<=a;i++){
      for(int j=1;j<=b;j++){
          if(!sg[i][j])f[i][j]=f[i-1][j]+f[i][j-1];
      }
  }
  ```

#### 3. 作者：Preccc_LHW (4星)
- **关键亮点**：采用**记忆化搜索**，结合DFS和DP的优点，代码简洁且效率较高。通过记忆化剪枝避免了重复计算。
- **代码实现**：
  ```cpp
  int dfs(int x, int y){
      if (x > n || y > m || map[x][y]) return 0;
      if (x == n && y == m) return 1;
      if (f[x][y] != -1) return f[x][y];
      return f[x][y] = dfs(x + 1, y) + dfs(x, y + 1);
  }
  ```

### 最优关键思路与技巧

1. **动态规划**：通过递推公式 `f[i][j] = f[i-1][j] + f[i][j-1]` 计算每个点的路径数，处理障碍点时直接跳过或置零。
2. **记忆化搜索**：结合DFS和DP，通过记忆化剪枝避免重复计算，适合中等规模数据。
3. **边界处理**：在处理边界时，可以通过初始化或特判来避免越界问题。

### 可拓展之处

- **类似题目**：可以扩展到其他路径计数问题，如带有权值的路径、多起点多终点等问题。
- **算法优化**：对于大规模数据，可以考虑使用**滚动数组**优化空间复杂度。

### 推荐题目

1. **P1002 过河卒**：类似路径计数问题，适合练习动态规划。
2. **P1433 吃奶酪**：涉及路径规划和状态压缩，适合练习记忆化搜索。
3. **P1048 采药**：背包问题，适合练习动态规划的不同应用场景。

### 个人心得总结

- **调试经历**：多位作者提到在调试过程中遇到边界处理问题，建议在编写代码时特别注意边界条件。
- **踩坑教训**：部分作者提到DFS在大规模数据下容易超时，建议在数据规模较大时优先考虑DP或记忆化搜索。
- **顿悟感想**：动态规划在路径计数问题中具有天然优势，理解递推公式是关键。

---
处理用时：30.08秒
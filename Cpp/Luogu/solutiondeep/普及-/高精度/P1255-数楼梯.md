# 题目信息

# 数楼梯

## 题目描述

楼梯有 $N$ 阶，上楼可以一步上一阶，也可以一步上二阶。

编一个程序，计算共有多少种不同的走法。

## 说明/提示

- 对于 $60\%$ 的数据，$N \leq 50$；   
- 对于 $100\%$ 的数据，$1 \le N \leq 5000$。


## 样例 #1

### 输入

```
4```

### 输出

```
5```

# AI分析结果



### 综合分析与结论
本题要求计算大范围斐波那契数列（N ≤ 5000）并实现高精度加法。题解主要围绕以下核心思路展开：
1. **基础递推+高精度**：直接模拟斐波那契递推公式，逐位计算并处理进位。
2. **压位优化**：将每8位存储为一个整数，减少计算次数和内存占用。
3. **结构体封装**：通过运算符重载简化高精度操作，提升代码可读性。
4. **矩阵快速幂**：理论复杂度更低（O(logn)），但代码实现复杂，实际性能受高精度运算限制。

---

### 精选题解与亮点
#### 1. AzureGlacier（4星）
**核心亮点**：
- 直观的二维数组存储每阶结果，逐位计算并处理进位。
- 代码结构清晰，适合初学者理解高精度原理。
```cpp
void hp(int k) { // 高精度加法核心逻辑
    for(int i=1;i<=len;i++)
        f[k][i] = f[k-1][i] + f[k-2][i];
    for(int i=1;i<=len;i++) { // 进位处理
        if(f[k][i] >= 10) {
            f[k][i+1] += f[k][i]/10;
            f[k][i] %= 10;
            if(f[k][len+1]) len++;
        }
    }
}
```

#### 2. Ajwallet（4星）
**核心亮点**：
- 压位优化（每8位存储为整数），减少计算量。
- 滚动数组（3个数组交替使用）节省内存。
```cpp
void jia() { // 压位高精加核心逻辑
    for(int j=1;j<=m;j++) ans[j] = a[j] + b[j];
    for(int j=1;j<=m;j++) {
        if(ans[j] > 9) {
            ans[j] -= 10;
            ans[j+1]++;
            if(j == m) m++; // 动态扩展位数
        }
    }
}
```

#### 3. EndSaH（5星）
**核心亮点**：
- 通过结构体和运算符重载实现高精度运算，代码高度模块化。
- 支持直观的运算符语法（如a = b + c），提升代码可读性。
```cpp
struct Int { // 高精度结构体核心设计
    int len, s[2000];
    Int operator+(const Int &b) const {
        Int c;
        c.len = max(len, b.len);
        for(int i=0,x=0; i<=c.len; i++) {
            c.s[i] = s[i] + b.s[i] + x;
            x = c.s[i]/10, c.s[i] %= 10;
        }
        if(c.s[c.len]) c.len++;
        return c;
    }
};
```

---

### 关键技巧总结
1. **滚动数组优化**：仅保留前两阶结果，空间复杂度从O(n²)降为O(n)。
2. **压位存储**：将8位十进制数存储为1个整型，计算效率提升8倍。
3. **运算符重载**：通过C++结构体封装高精度运算，显著提升代码复用性。
4. **动态位数管理**：在进位时自动扩展存储空间，避免预分配大数组。

---

### 推荐练习题目
1. [P1005 矩阵取数游戏](https://www.luogu.com.cn/problem/P1005) - 高精度+动态规划
2. [P1601 A+B Problem](https://www.luogu.com.cn/problem/P1601) - 高精度加法基础
3. [P1096 Hanoi 双塔问题](https://www.luogu.com.cn/problem/P1096) - 递推+高精度幂运算

---
处理用时：54.56秒
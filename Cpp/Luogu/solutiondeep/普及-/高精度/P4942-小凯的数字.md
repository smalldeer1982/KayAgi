# 题目信息

# 小凯的数字

## 题目背景

NOIP2018 原创模拟题T1

NOIP DAY1 T1 or DAY 2 T1 难度

是否发现与NOIP2017 DAY1 T1 有异曲同工之妙

## 题目描述

小凯有一天突发奇想，写下了一串数字：$\overline{l(l+1)(l+2)...(r-1)r}$

例如：$l=2,r=5$时，数字为：$2345$

$l=8,r=12$时数字为：$89101112$

小凯很喜欢数字 $9$，所以他想问你他写下的数字除以 $9$ 的余数是多少

例如：$l=2,r=5$时，$2345\,\,mod\,\,9 = 5$

## 说明/提示

样例1解释：$2345\,\,mod\,\,9 = 5$   $89101112\,\,mod\,\,9 = 5$

30% 数据满足：$Q\leq10;l,r\leq100$

50% 数据满足：$Q\leq100;l,r\leq10000$

70% 数据满足：$Q\leq1000;l,r\leq10^6$

100%数据满足：$Q\leq10000;0<l,r\leq10^{12}$ 且 $l\leq r$

## 样例 #1

### 输入

```
2
2 5
8 12```

### 输出

```
5
5```

## 样例 #2

### 输入

```
3
1 999
123 456
13579 24680```

### 输出

```
0
6
0```

# AI分析结果



### 综合分析与结论
题目要求计算由连续数字拼接的大数模9的余数。核心思路是利用模9的性质：数字各位之和与其本身同余。通过转化为等差数列求和，并采用数学技巧处理大数运算，所有题解均围绕这一核心展开。关键难点在于处理求和公式中的除法和大数溢出。

---

### 精选题解

#### 1. OIer991215 (★★★★★)
**关键亮点**  
- 利用10^k≡1(mod9)特性，将拼接数转换为等差数列求和  
- 引入逆元(5)代替除以2的运算，避免浮点误差  
- 代码简洁高效，时间复杂度O(1)  
**核心代码**  
```cpp
long long cnt=(r-l+1)%9;
long long ans=cnt*(l%9)%9 + cnt*(cnt-1)%9*5%9;
cout<<ans%9<<endl;
```
**实现思想**  
计算项数模9的余数，分别处理首项和公差项的贡献，利用逆元处理分母。

#### 2. vectorwyx (★★★★★)
**关键亮点**  
- 分拆等差数列求和式为(l+r)和(r-l+1)的奇偶性处理  
- 通过模18保留足够余数信息，避免中间溢出  
**核心代码**  
```cpp
ans = (l+r)%18 * (r-l+1)%18 / 2;
cout<<ans%9<<endl;
```
**实现思想**  
将求和式转换为模18运算后再除2，确保中间结果不溢出。

#### 3. 汪鸣谦 (★★★★☆)
**关键亮点**  
- 直接应用等差数列公式，分情况判断奇偶性  
- 清晰的数学推导和代码结构  
**核心代码**  
```cpp
if((l+r)%2==0) 
  cout<<( ( (l+r)/2 %9 ) * (r-l+1 %9) )%9;
else 
  cout<<( (l+r%9) * ( (r-l+1)/2 %9 ) )%9;
```
**个人心得**  
作者在题解中反思比赛时因爆long long导致WA的教训，强调数学推导的重要性。

---

### 关键技巧总结
1. **模性质转换**：利用数字之和≡数值(mod9)的特性简化问题。  
2. **逆元应用**：当需要模运算下除以2时，使用2的逆元5（因2×5≡1 mod9）。  
3. **奇偶分治**：拆分等差数列求和式为奇偶两种情况，避免除法误差。  
4. **循环节优化**：连续9个数之和为9的倍数，仅需计算余下部分。

---

### 拓展练习
1. **P1082 同余方程**（逆元应用）  
2. **P1012 拼数**（数位拼接与模性质）  
3. **P2426 删数游戏**（区间合并与模运算）

---

### 调试经验摘录
- **ttjb**提到比赛时因紧张导致低级错误，强调保持冷静的重要性。  
- **汪鸣谦**在代码中因未处理爆long long导致WA，提醒注意数据类型选择。  
- **文文殿下**通过快速乘优化大数相乘，展示了算法优化的普适思路。

---
处理用时：48.28秒
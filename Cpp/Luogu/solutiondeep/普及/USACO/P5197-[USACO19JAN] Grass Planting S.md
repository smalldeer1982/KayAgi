# 题目信息

# [USACO19JAN] Grass Planting S

## 题目背景

USACO 一月月赛银组第一题

## 题目描述

到了一年中 Farmer John 在他的草地里种草的时间了。整个农场由 $N$ 块草地组成（$1 \leq N \leq 10^5$），方便起见编号为 $1 \ldots N$，由 $N-1$ 条双向的小路连接，每块草地都可以经过一些小路到达其他所有的草地。
Farmer John 当然可以在每块草地里种不同种类的草，但是他想要使得使用的草的种类数最小，因为他用的草的种类数越多，他就需要负担更高的花费。

不幸的是，他的奶牛们对选择农场上的草表现得十分苛刻。如果两块相邻（由一条小路直接相连）的草地种了同一种草，或者即使是两块接近相邻（均可由一条小路直接连向同一块草地）的草地，那么奶牛们就会抱怨她们进餐的选择不够多样。Farmer John 能做的只能是抱怨这些奶牛，因为他知道她们不能被满足的时候会制造多大的麻烦。

请帮助 Farmer John 求出他的整个农场所需要的最少的草的种类数。

## 说明/提示

在这个简单的例子中，4 块草地以一条直线的形式相连。最少需要三种草。例如，Farmer John 可以用草 $A,B,C$ 将草地按 $A - B - C - A$ 的方式播种。

## 样例 #1

### 输入

```
4
1 2
4 3
2 3```

### 输出

```
3```

# AI分析结果



### 综合分析与结论
题目要求树结构下相邻或接近相邻的草地颜色不同，转化为求树的最大度数加一。关键在于每个节点的颜色必须与其所有相邻节点不同，且相邻节点之间颜色也不同。结论的正确性基于树的结构特性，最大度数节点的邻接点构成完全图，需度数+1种颜色。

---

### 高星题解推荐

#### 1. 作者：Polarnova（5星）
**关键亮点**：代码简洁高效，实时更新度数最大值，无需额外遍历。  
**核心思想**：统计每个节点的度数，最大值加一即为答案。  
**代码片段**：
```cpp
#include<cstdio>
int x,y,ans,n,deg[100007];
int main() {
    scanf("%d",&n);
    for(int i=1;i<n;i++) {
        scanf("%d%d",&x,&y);
        if(++deg[x]>ans)ans=deg[x];
        if(++deg[y]>ans)ans=deg[y];
    }
    printf("%d",ans+1);
    return 0;
}
```

#### 2. 作者：Alex_Wei（5星）
**关键亮点**：极致简洁，输入时直接计算最大值，无需额外变量。  
**核心思想**：边读入边更新度数最大值，直接输出结果。  
**代码片段**：
```cpp
#include<iostream>
int n,u,v,s,p[100100];
int main(){
    std::cin>>n;
    for(int x=1;x<n;x++)std::cin>>u>>v,p[u]++,p[v]++,s=std::max(s,std::max(p[u],p[v])+1);
    std::cout<<s;
}
```

#### 3. 作者：fls233666（4星）
**关键亮点**：明确树结构分析，代码清晰易读。  
**核心思想**：统计入度时直接计算最大值，强调树的无环特性。  
**代码片段**：
```cpp
int main() {
    int ans=0;
    scanf("%d",&n);
    for(rgt a,b,i=1;i<n;i++){
        scanf("%d%d",&a,&b);
        add(a,b); // 统计入度的函数
        add(b,a);
    }
    for(rgt i=1;i<=n;i++) ans=max(ans,d[i]+1);
    printf("%d",ans);
}
```

---

### 关键思路总结
- **核心算法**：统计树中所有节点的度数，最大值加一即为答案。
- **优化技巧**：在输入阶段实时更新度数最大值，避免后续遍历。
- **思维突破**：将问题转化为图着色问题，利用树的结构特性简化分析。

---

### 拓展练习推荐
1. **P1351 [NOIP2014 提高组] 联合权值**（树中相邻节点权值分析）
2. **P2986 [USACO10MAR] Great Cow Gathering G**（树的重心与度数相关）
3. **P1395 会议**（树的性质与路径统计）

---

### 题解中的个人心得
- **Alex_Wei**提到“乍一看像DFS，实则是水题”，强调审题时需跳出惯性思维。
- **LZOI_LYH**通过画图验证结论，体现动手验证的重要性。
- **06ray**的树形DP虽正确但冗余，说明复杂方法可能掩盖更简洁的规律。

---
处理用时：110.25秒
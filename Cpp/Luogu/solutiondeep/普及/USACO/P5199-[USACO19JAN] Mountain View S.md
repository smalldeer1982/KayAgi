# 题目信息

# [USACO19JAN] Mountain View S

## 题目背景

USACO 2019 年一月月赛银组第三题

## 题目描述

从农场里奶牛 Bessie 的牧草地向远端眺望，可以看到巍峨壮丽的山脉绵延在地平线上。山脉里由 $N$ 座山峰（$1≤N≤10^5$）。如果我们把 Bessie 的视野想象成 $xy$ 平面，那么每座山峰都是一个底边在 $x$ 轴上的三角形。山峰的两腰均与底边成 $45$ 度角，所以山峰的峰顶是一个直角。于是山峰 $i$ 可以由它的峰顶坐标 $(x_i,y_i)$ 精确描述。没有两座山峰有完全相同的峰顶坐标。

Bessie 尝试数清所有的山峰，然而由于它们几乎是相同的颜色，所以如果一座山峰的峰顶在另一座山峰的三角形区域的边界上或是内部，她就无法看清。

请求出 Bessie 能够看见的不同的山峰的峰顶的数量，也就是山峰的数量。

## 说明/提示

在这个例子中，Bessie 能够看见第一座和最后一座山峰。第二座山峰被第一座山峰掩盖了。

## 样例 #1

### 输入

```
3
4 6
7 2
2 5```

### 输出

```
2```

# AI分析结果



### 综合分析与结论
题目本质是求不被其他区间完全覆盖的区间数。所有山峰可转化为左右端点区间 `[x-y, x+y]`。关键思路是通过排序与贪心策略高效判断覆盖关系。

---

### 高星题解推荐
#### 1. Alex_Wei（★★★★★）
**核心亮点**：
- **排序贪心**：将山峰按左端点升序、右端点降序排列，确保遍历时只需维护最大右端点。
- **线性复杂度**：排序O(n log n)，遍历O(n)，完美处理1e5数据。
- **严格正确性证明**：分情况讨论覆盖关系，确保算法正确性。

**代码核心**：
```cpp
sort(m+1, m+n+1, [](node a, node b){
    return a.l < b.l || (a.l == b.l && a.r > b.r);
});
int max_r = 0, ans = 0;
for (int i = 1; i <= n; i++) {
    if (m[i].r > max_r) ans++, max_r = m[i].r;
}
```

#### 2. 一只书虫仔（★★★★）
**核心亮点**：
- **区间覆盖模型**：直接转化为经典贪心区间问题，思路与Alex_Wei一致。
- **代码简洁**：结构清晰，适合快速理解算法框架。

**代码核心**：
```cpp
sort(seg + 1, seg + n + 1, [](line x, line y){
    return x.l < y.l || (x.l == y.l && x.r > y.r);
});
int R = seg[1].r, cnt = 1;
for (int i = 2; i <= n; i++)
    if (seg[i].r > R) cnt++, R = seg[i].r;
```

#### 3. Rbu_nas（★★★★）
**核心亮点**：
- **离散化优化**：通过离散化减少空间占用（但原题数据范围允许直接处理）。
- **手写快读**：针对输入优化提升常数效率。

---

### 最优思路总结
**关键技巧**：
1. **几何→区间转换**：利用等腰直角三角形性质，将山峰投影为x轴区间。
2. **排序策略**：左端点升序保证遍历顺序，右端点降序避免同左端点的短区间被误判。
3. **贪心维护**：仅需记录当前最大右端点，线性判断是否被覆盖。

**同类型扩展**：
- 区间覆盖问题（如活动选择、最大不重叠区间数）。
- 扫描线算法中的事件排序思想。

---

### 相似题目推荐
1. [P1803 凌乱的yyy / 线段覆盖](https://www.luogu.com.cn/problem/P1803)  
   **标签**：区间贪心、活动选择
2. [P2082 区间覆盖（加强版）](https://www.luogu.com.cn/problem/P2082)  
   **标签**：区间合并、贪心优化
3. [P1219 八皇后](https://www.luogu.com.cn/problem/P1219)  
   **标签**：几何覆盖、回溯剪枝（需判断对角线覆盖）

---

### 题解个人心得摘录
- **Alex_Wei**：通过图示分情况证明，强调排序策略的正确性，避免直觉误区。
- **By_Ha**：提到考试时他人解法与单调队列的对比，体现不同思维路径的取舍。
- **湫泷**：尝试按高度排序后双重循环，虽剪枝但复杂度仍高，提醒注意数据范围限制。

---
处理用时：49.54秒
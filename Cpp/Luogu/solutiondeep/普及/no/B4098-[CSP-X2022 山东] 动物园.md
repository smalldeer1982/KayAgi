# 题目信息

# [CSP-X2022 山东] 动物园

## 题目描述

某动物园里有 $n$ 个场馆和 $m$ 种动物（$m ≤ n$）。

$n$ 个场馆的编号分别用 $1,2,3, . . , n$ 表示；$m$ 种动物的编号分别用 $1,2,3, . . , m$ 表示。每一个场馆中只饲养了一只动物，不同的场馆可能饲养着相同种类的动物。

这个动物园的门票比较特殊，游客在购买门票时必须说明要参观的场馆的起止编号 $a$ 和 $b$（起止编号会打印到游客购买的门票上），代表游客只能参观动物园的第 $a$ 个场馆至第 $b$ 个场馆（包含 $a,b$）里的动物，其他的场馆不能去。门票按一个场馆十元收费。

如果你购买的门票的起止场馆编号是 $3$ 到 $8$，那么你需要花 $60$ 元钱购买门票，只能观看$3,4,5,6,7,8$ 号场馆的动物。

小明希望看到动物园内所有种类的动物，同时小明是个非常节约的孩子，他希望花最少的钱买门票。 请你帮小明计算：他最少需要花费多少钱买门票才能看到所有种类的动物（同一种动物他可能不止看一个）。注意：小明只能买一张门票。

## 说明/提示

对于 $30\%$ 的数据，有 $ n ≤ 200 , m ≤ 20$。

对于 $60\%$ 的数据，有 $n ≤ 1000 , m ≤ 1000$。

对于 $100\%$ 的数据，有 $1 ≤ n≤ 10^6，1 ≤ x_i ≤ m ≤ 2 × 10^3$。

## 样例 #1

### 输入

```
12 5
2 5 3 1 3 2 4 1 1 5 3 4 3```

### 输出

```
60```

# AI分析结果

### 算法分类
滑动窗口

### 综合分析与结论
题目要求找到包含所有动物种类的最短连续区间，并且该区间的长度最小化。这是一个典型的滑动窗口问题，通过维护一个窗口来确保窗口内包含所有种类的动物，同时尽量缩小窗口的长度。

### 通用建议与扩展思路
1. **滑动窗口**：通过维护一个窗口，确保窗口内包含所有种类的动物，同时尽量缩小窗口的长度。
2. **哈希表**：使用哈希表来记录每种动物的数量，确保窗口内包含所有种类的动物。
3. **双指针**：使用双指针来维护窗口的左右边界，通过移动指针来调整窗口的大小。

### 关键思路与技巧
1. **滑动窗口**：通过维护一个窗口，确保窗口内包含所有种类的动物，同时尽量缩小窗口的长度。
2. **哈希表**：使用哈希表来记录每种动物的数量，确保窗口内包含所有种类的动物。
3. **双指针**：使用双指针来维护窗口的左右边界，通过移动指针来调整窗口的大小。

### 推荐题目
1. [P1886 滑动窗口](https://www.luogu.com.cn/problem/P1886)
2. [P1496 滑动窗口的最大值](https://www.luogu.com.cn/problem/P1496)
3. [P1638 滑动窗口的最小值](https://www.luogu.com.cn/problem/P1638)

### 核心代码片段
```cpp
#include <iostream>
#include <vector>
#include <unordered_map>
using namespace std;

int main() {
    int n, m;
    cin >> n >> m;
    vector<int> animals(n);
    for (int i = 0; i < n; ++i) {
        cin >> animals[i];
    }

    unordered_map<int, int> count;
    int left = 0, minLen = n + 1, uniqueCount = 0;

    for (int right = 0; right < n; ++right) {
        if (count[animals[right]] == 0) {
            uniqueCount++;
        }
        count[animals[right]]++;

        while (uniqueCount == m) {
            minLen = min(minLen, right - left + 1);
            count[animals[left]]--;
            if (count[animals[left]] == 0) {
                uniqueCount--;
            }
            left++;
        }
    }

    cout << minLen * 10 << endl;
    return 0;
}
```

### 代码实现思想
1. **初始化**：读取输入数据，包括场馆数量 `n` 和动物种类 `m`，以及每个场馆的动物种类。
2. **滑动窗口**：使用双指针 `left` 和 `right` 维护一个窗口，确保窗口内包含所有种类的动物。
3. **哈希表**：使用哈希表 `count` 记录每种动物的数量，确保窗口内包含所有种类的动物。
4. **更新最小长度**：当窗口内包含所有种类的动物时，更新最小长度 `minLen`。
5. **输出结果**：输出最小长度乘以 10 的结果。

### 个人心得
在实现滑动窗口时，需要注意窗口的边界条件和哈希表的更新方式，确保窗口内始终包含所有种类的动物。通过不断调整窗口的大小，可以找到满足条件的最小长度。

---
处理用时：22.44秒
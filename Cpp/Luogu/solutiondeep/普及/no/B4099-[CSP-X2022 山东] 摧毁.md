# 题目信息

# [CSP-X2022 山东] 摧毁

## 题目描述

坐地日行八万里，巡天遥看一千河。

2077 年，人类不仅仅是赛博科技得到了发展，太空技术也已经得到了极大的发展。地球的不同外轨道上已经充斥着各种功能用途的人造卫星。因为一个轨道上的卫星数量是有上限的，且卫星更新换代速度很快，如果想要发射新的卫星，需要把所有旧的卫星摧毁。

人类有两种不同的武器可以摧毁卫星，具体如下（其中 $\rm PW$ 为新的能量单位）：

1. 使用定点激光武器花费 $1\ \rm{PW}$ 的代价摧毁任意轨道上指定的一个卫星。

2. 使用脉冲轨道武器花费 $c\ \rm{PW}$ 的代价把某一轨道上的所有卫星摧毁。

现在有 $n$ 个旧卫星分布在不同的外轨道上，你的任务是摧毁这些旧卫星。给出这 $n$ 个卫星的轨道编号，求将这些卫星全部摧毁的最小代价是多少？

## 说明/提示

对于 $30\%$ 的数据，$T = 1,1 ≤ n ≤ 10，1 ≤ x_i ≤ 10，1 ≤ c ≤ 10$；

对于 $60\%$ 的数据，$1 ≤ n ≤ 10^3， 1 ≤ x_i ≤ 1000，1 ≤ c ≤ 100$；

对于 $100\%$ 的数据，$1 ≤ T ≤ 10,1 ≤ n ≤ 10^6, 1 ≤ x_i ≤ 10^6，1 ≤ c ≤ 100$，且所有测试数据的 $n$ 加起来不超过 $10^6$。

## 样例 #1

### 输入

```
4
10 1
2 1 4 5 2 4 5 5 1 2
5 2
3 2 1 2 2
2 2
1 1
2 2
1 2```

### 输出

```
4
4
2
2```

# AI分析结果

### 算法分类
贪心

### 综合分析与结论
本题的核心思路是通过贪心策略选择最优的摧毁方式，即对于每个轨道，根据卫星数量与脉冲轨道武器的代价 `c` 进行比较，选择代价较小的方案。所有题解都采用了这一思路，但实现细节和代码风格有所不同。

### 所选高星题解
1. **作者：zhuoqizhi (5星)**
   - **关键亮点**：使用计数排序的思想，通过数组统计每个轨道的卫星数量，并标记是否已被轰炸过，避免重复计算。代码结构清晰，逻辑严谨。
   - **核心代码**：
     ```cpp
     vector<int> can(1000005), has(1000005), num;
     int ans = 0;
     for(int i = 0; i < n; i++) {
         int tmp;
         cin >> tmp;
         can[tmp]++;
         num.push_back(tmp);
     }
     for(int i = 0; i < n; i++) {
         if(!has[num[i]]) {
             if(can[num[i]] > c) ans += c;
             else ans += can[num[i]];
             has[num[i]] = 1;
         }
     }
     cout << ans << endl;
     ```

2. **作者：TN_lougu (4星)**
   - **关键亮点**：使用桶计数记录每个轨道的卫星数量，并通过 `min` 函数直接计算最小代价，代码简洁高效。
   - **核心代码**：
     ```cpp
     int t[N];
     int ans = 0;
     for(int i = 1; i <= m; i++) ans += min(t[i], k);
     cout << ans << "\n";
     ```

3. **作者：__int1024 (4星)**
   - **关键亮点**：使用 `map` 记录每个轨道的卫星数量，并通过遍历 `map` 计算最小代价，代码简洁且易于理解。
   - **核心代码**：
     ```cpp
     map<int, int> mp;
     int ans = 0;
     for(auto e : mp) {
         int cnt = e.second;
         ans += min(cnt, c);
     }
     cout << ans << endl;
     ```

### 最优关键思路或技巧
- **贪心策略**：对于每个轨道，根据卫星数量与脉冲轨道武器的代价 `c` 进行比较，选择代价较小的方案。
- **桶计数**：通过数组或 `map` 记录每个轨道的卫星数量，避免重复计算。
- **标记已处理轨道**：通过标记数组避免重复处理同一轨道，提高效率。

### 可拓展之处
- **类似问题**：可以扩展到其他需要选择最优策略的问题，如资源分配、任务调度等。
- **优化思路**：对于更大规模的数据，可以考虑使用更高效的数据结构，如哈希表。

### 推荐题目
1. [P1048 采药](https://www.luogu.com.cn/problem/P1048) - 贪心策略的应用。
2. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090) - 贪心与优先队列的结合。
3. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223) - 贪心策略的典型应用。

### 个人心得摘录
- **zhuoqizhi**：通过计数排序的思想，避免了重复计算，提高了代码的效率。
- **TN_lougu**：使用 `min` 函数直接计算最小代价，代码简洁高效。
- **__int1024**：使用 `map` 记录每个轨道的卫星数量，代码简洁且易于理解。

---
处理用时：22.35秒
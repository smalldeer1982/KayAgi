# 题目信息

# [CSP-X2023 山东] 赚钱

## 题目描述

小 A 很喜欢旅游，他的国家共有 $n$ 个城市，编号依次为 $1$ 到 $n$，这个暑假小 A 打算从 $1$ 号城市开始按编号从小到大依次旅游完所有的城市，最后达到 $n$ 号城市，而且他不走回头路，每个城市只走一次。

小 A 很聪明，在没出发之前，他已经了解到，每个城市都有他喜欢的小熊纪念品，但是每个城市的价格却不完全一样（在同一个城市买入和卖出一个小熊纪念品的价格相同），于是小 A 打算从经过的某一个城市 $x$ 买一个纪念品，然后在后面经过的某个城市 $y$ 卖掉，从而赚取其中的差价。**但是他必须在某个城市买 $1$ 次，而且只能买 $1$ 个，并且一定要在后面的某个城市卖掉（不能在同一个城市先买入后再卖出）**，因为他家里已经有很多小熊纪念品了。

如，$2$ 号城市的纪念品价格是 $10$ 元，$6$ 号城市的纪念品是 $8$ 元，$10$ 号城市的纪念品是 $18$ 元，假设小 A 在 $2$ 号城市花 $10$ 元钱买了一个纪念品，如果在 $6$ 号城市卖掉他就亏了 $2$ 元（赚 $-2$ 元），如果在 $10$ 号城市卖，他就会赚 $8$ 元。

小 A 希望赚的钱越多越好。

问：小 A 最多能赚多少钱（当然也有可能亏钱）？

## 说明/提示

对于 $30\%$ 的数据：$n\le 1000$。

对于 $100\%$ 的数据：$2\le n\le 2\times 10^5$，$0\lt a_i\le 2\times 10^9$。

## 样例 #1

### 输入

```
5
2 1 6 8 4```

### 输出

```
7```

## 样例 #2

### 输入

```
6
10 8 7 5 3 1```

### 输出

```
-1```

# AI分析结果

### 算法分类
贪心

### 综合分析与结论
该题的核心逻辑是通过贪心策略找到最大差价。所有题解都采用了类似的思路：遍历数组，维护当前最小值，并计算当前元素与最小值的差值，更新最大差值。这种方法的优点是时间复杂度为O(n)，能够高效处理大规模数据。

### 所选高星题解
1. **题解作者：Temp113**
   - **星级：5星**
   - **关键亮点**：代码简洁，逻辑清晰，直接通过一次遍历解决问题，且使用了宏定义来简化代码。
   - **核心代码**：
     ```cpp
     for(int i = 1; i <= n; i++){
         scanf("%lld", &a);
         ans = max_(ans, a - mina);
         mina = min_(mina, a);
     }
     ```

2. **题解作者：lam_dyr**
   - **星级：4星**
   - **关键亮点**：详细解释了贪心策略的优化过程，从暴力枚举到动态规划的优化思路，适合初学者理解。
   - **核心代码**：
     ```cpp
     for(int i=2;i<=n;++i){
         int res=a[i]-minn;
         maxx=max(maxx,res);
         minn=min(minn,a[i]);
     }
     ```

3. **题解作者：RenZhen1**
   - **星级：4星**
   - **关键亮点**：提供了对30%数据和100%数据的两种解法，适合不同水平的读者，且代码结构清晰。
   - **核心代码**：
     ```cpp
     for(int i=2;i<=n;i++){
         maxx=max(maxx,a[i]-minx);
         minx=min(minx,a[i]);
     }
     ```

### 最优关键思路或技巧
- **贪心策略**：通过维护当前最小值，确保每次计算差值时都能找到最大可能的差价。
- **一次遍历**：通过一次遍历数组，同时更新最小值和最大差值，确保时间复杂度为O(n)。

### 可拓展之处
- **类似问题**：可以扩展到其他需要找到最大差值或最优解的问题，如股票买卖问题、最大子数组和等。
- **优化思路**：可以进一步优化空间复杂度，或者考虑多维度数据的处理。

### 推荐相似题目
1. **P1217 [USACO1.5]回文质数 Prime Palindromes**：考察贪心和质数判断。
2. **P1049 装箱问题**：考察贪心和背包问题。
3. **P1090 [NOIP2004 提高组] 合并果子**：考察贪心和优先队列。

### 个人心得摘录
- **Temp113**：通过宏定义简化代码，提高了代码的可读性和编写效率。
- **lam_dyr**：从暴力枚举到动态规划的优化过程，帮助理解贪心策略的优势。
- **RenZhen1**：提供了两种解法，适合不同水平的读者，增强了题解的实用性。

---
处理用时：21.79秒
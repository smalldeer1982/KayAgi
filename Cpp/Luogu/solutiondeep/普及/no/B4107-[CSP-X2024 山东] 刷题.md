# 题目信息

# [CSP-X2024 山东] 刷题

## 题目描述

比赛之路多艰，做题方得提升。努力刷题的人在比赛中往往能取得很好的成绩，小红就是这样的人。

为了继续提升自己的编程实力，小红整理了一份刷题题单，并选中了题单中的 $n$ 道编程题，将它们从 $1$ 到 $n$ 编号，计划用 $m$ 天时间按照题目编号顺序做完所有的题目（一道题目只能在同一天完成，不可以使用多天完成同一道题目）。

在小红的计划中，她完成第 $i$ 道题目的时间为 $a_i$。因为题目有难有易，小红做题时可以找好朋友小明帮忙解题，通过询问小明一道题目的解法，可以省去这个题目的做题时间。当然了，小红做题是为了提升自己，而不是提升小明。因此小红决定一天最多求助小明一次。

本题 $m$ 天中，小红做题时间最长一天的总耗时定义为 $T$（小明帮忙做的题目不计入小红的做题总时间）。请你帮小红求出 $T$ 的最小值是多少？

## 说明/提示

对于 $30\%$ 的数据，满足 $1 \leq n \leq 10^3$。

对于 $60\%$ 的数据，满足 $1 \leq n \leq 10^4$。

对于 $100\%$ 的数据，满足 $1 \leq n \leq 10^5,0 \leq a_i \leq 10^4,1 \leq m \leq 1000$。

## 样例 #1

### 输入

```
4 2
1 2 3 3```

### 输出

```
3```

## 样例 #2

### 输入

```
3 4
999 999 999```

### 输出

```
0```

# AI分析结果

### 算法分类
二分

### 综合分析与结论
本题的核心是求做题时间最长一天的最小值，且每天可以求助一次好友，帮忙完成当天耗时最长的一道题目。所有题解均采用了二分答案的思路，结合贪心策略来检查是否可以在给定的天数内完成任务。二分答案的单调性在于，随着允许的最大做题时间增加，完成任务所需的天数会减少。贪心策略则是每天尽可能多地做题，并在必要时求助好友，以减少当天的总耗时。

### 所选题解
1. **作者：songge888 (赞：3)**  
   - **星级：4星**  
   - **关键亮点**：思路清晰，代码简洁，二分与贪心的结合处理得当。  
   - **核心代码**：
     ```cpp
     bool check(int x){
         int num=1;
         int sum=0;
         int maxn=0;
         for(int i=1;i<=n;i++){
             maxn=max(maxn,a[i]);
             if(sum+a[i]-maxn<=x){
                 sum+=a[i];
             }
             else{
                 num++;
                 sum=a[i];
                 maxn=a[i];
             }
         }
         return (num<=m);
     }
     ```
   - **实现思想**：通过遍历题目，计算当前天的总耗时，并在必要时求助好友，减少当天的总耗时。如果总耗时超过给定的最大时间，则开始新的一天。

2. **作者：FJ_EYoungOneC (赞：1)**  
   - **星级：4星**  
   - **关键亮点**：代码结构清晰，二分与贪心的结合处理得当，且对边界情况进行了处理。  
   - **核心代码**：
     ```cpp
     bool check(int x)
     {
         int cnt = 1, s = 0, mx = 0;
         for (int i = 1; i <= n; ++ i )
         {
             s += w[i];
             mx = max(mx, w[i]);
             if (s - mx > x)
             {
                 s = mx = w[i];
                 cnt ++;
             }
         }
         return cnt <= m;
     }
     ```
   - **实现思想**：通过遍历题目，计算当前天的总耗时，并在必要时求助好友，减少当天的总耗时。如果总耗时超过给定的最大时间，则开始新的一天。

3. **作者：yyycj (赞：0)**  
   - **星级：4星**  
   - **关键亮点**：思路清晰，代码简洁，二分与贪心的结合处理得当，且对边界情况进行了处理。  
   - **核心代码**：
     ```cpp
     bool check(int n,int m,int x) {
         int cnt = 1;
         int sum = 0;
         int maxn = 0;
         for (int i=1;i<=n;i++) {
             maxn = max(maxn,a[i]);
             if (sum-maxn+a[i] > x) {
                 cnt++;
                 sum = a[i];
                 maxn = a[i];
             }
             else sum += a[i];
         }
         return cnt <= m;
     }
     ```
   - **实现思想**：通过遍历题目，计算当前天的总耗时，并在必要时求助好友，减少当天的总耗时。如果总耗时超过给定的最大时间，则开始新的一天。

### 最优关键思路或技巧
- **二分答案**：通过二分查找确定最小的最大做题时间，利用单调性进行优化。
- **贪心策略**：每天尽可能多地做题，并在必要时求助好友，以减少当天的总耗时。

### 可拓展之处
- **类似题目**：可以拓展到其他需要二分答案结合贪心策略的题目，如任务调度、资源分配等问题。
- **算法套路**：二分答案结合贪心策略是一种常见的优化方法，适用于求解最大值最小或最小值最大的问题。

### 推荐题目
1. [P1182 数列分段 Section II](https://www.luogu.com.cn/problem/P1182)
2. [P1281 书的复制](https://www.luogu.com.cn/problem/P1281)
3. [P1316 丢瓶盖](https://www.luogu.com.cn/problem/P1316)

---
处理用时：26.99秒
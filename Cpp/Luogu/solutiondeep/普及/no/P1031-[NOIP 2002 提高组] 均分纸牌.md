# 题目信息

# [NOIP 2002 提高组] 均分纸牌

## 题目描述

有 $N$ 堆纸牌，编号分别为 $1,2,\ldots,N$。每堆上有若干张，但纸牌总数必为 $N$ 的倍数。可以在任一堆上取若干张纸牌，然后移动。

移牌规则为：在编号为 $1$ 堆上取的纸牌，只能移到编号为 $2$ 的堆上；在编号为 $N$ 的堆上取的纸牌，只能移到编号为 $N-1$ 的堆上；其他堆上取的纸牌，可以移到相邻左边或右边的堆上。

现在要求找出一种移动方法，用最少的移动次数使每堆上纸牌数都一样多。

例如 $N=4$ 时，$4$ 堆纸牌数分别为 $9,8,17,6$。

移动 $3$ 次可达到目的：

- 从第三堆取 $4$ 张牌放到第四堆，此时每堆纸牌数分别为 $9,8,13,10$。
- 从第三堆取 $3$ 张牌放到第二堆，此时每堆纸牌数分别为 $9,11,10,10$。
- 从第二堆取 $1$ 张牌放到第一堆，此时每堆纸牌数分别为  $10,10,10,10$。


## 说明/提示

对于 $100\%$ 的数据，$1  \le  N  \le  100$，$1 \le  A_i  \le 10000$。

**【题目来源】**

NOIP 2002 提高组第一题

## 样例 #1

### 输入

```
4
9 8 17 6
```

### 输出

```
3
```

# AI分析结果

### 算法分类
贪心

### 综合分析与结论
本题的核心是通过贪心算法，从左到右依次调整每堆纸牌的数量，使其达到平均值。所有题解都采用了这一思路，但部分题解在实现细节和优化上有所不同。最优解的关键在于理解如何通过一次遍历完成所有调整，并确保移动次数最少。

### 所选高分题解

#### 1. 作者：monell (赞：33)
- **星级**：5星
- **关键亮点**：提供了线性算法和分治算法的对比，详细证明了线性算法的正确性，并给出了复杂度分析。代码简洁，思路清晰。
- **核心代码**：
  ```cpp
  for (int i = 1; i <= n; i++) {
      if (a[i] != avg) {
          a[i+1] += a[i] - avg;
          ans++;
      }
  }
  ```
- **个人心得**：通过分治算法的最优解证明了线性算法的正确性，强调了贪心算法的有效性。

#### 2. 作者：ProtectEMmm (赞：7)
- **星级**：4星
- **关键亮点**：详细解释了贪心算法的正确性，并通过引理证明了最优策略的唯一性。代码实现简洁，逻辑清晰。
- **核心代码**：
  ```cpp
  for (int i = 1; i + 1 <= n; ++i) {
      if (arr[i] != average) {
          ans++, arr[i + 1] += arr[i] - average;
      }
  }
  ```
- **个人心得**：通过分治思想证明了贪心算法的正确性，强调了贪心算法的简洁性和高效性。

#### 3. 作者：Starlight237 (赞：3)
- **星级**：4星
- **关键亮点**：代码简洁，优化了不必要的操作，提高了运行速度。思路清晰，适合初学者理解。
- **核心代码**：
  ```cpp
  for (int i = 0; i < n - 1; ++i) {
      if (a[i] != avg) {
          a[i+1] += a[i] - avg;
          ++m;
      }
  }
  ```
- **个人心得**：通过优化代码，减少了不必要的操作，强调了贪心算法的简洁性和高效性。

### 最优关键思路
通过一次遍历，从左到右依次调整每堆纸牌的数量，使其达到平均值。每次调整只影响相邻的纸牌堆，确保移动次数最少。

### 拓展思路
类似的问题可以扩展到环形纸牌堆的调整，如[负载平衡问题](https://www.luogu.com.cn/problem/P4016)，通过断环成链的方式转化为线性问题。

### 推荐题目
1. [P4016 负载平衡问题](https://www.luogu.com.cn/problem/P4016)
2. [P1031 均分纸牌](https://www.luogu.com.cn/problem/P1031)
3. [P1032 字串变换](https://www.luogu.com.cn/problem/P1032)

---
处理用时：19.82秒
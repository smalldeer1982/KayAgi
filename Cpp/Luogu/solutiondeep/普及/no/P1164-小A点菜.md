# 题目信息

# 小A点菜

## 题目背景

uim 神犇拿到了 uoi 的 ra（镭牌）后，立刻拉着基友小 A 到了一家……餐馆，很低端的那种。

uim 指着墙上的价目表（太低级了没有菜单），说：“随便点”。


## 题目描述

不过 uim 由于买了一些书，口袋里只剩 $M$ 元 $(M \le 10000)$。

餐馆虽低端，但是菜品种类不少，有 $N$ 种 $(N \le 100)$，第 $i$ 种卖 $a_i$ 元 $(a_i \le 1000)$。由于是很低端的餐馆，所以每种菜只有一份。

小 A 奉行“不把钱吃光不罢休”的原则，所以他点单一定刚好把 uim 身上所有钱花完。他想知道有多少种点菜方法。

由于小 A 肚子太饿，所以最多只能等待 $1$ 秒。


## 说明/提示

2020.8.29，增添一组 hack 数据 by @yummy

## 样例 #1

### 输入

```
4 4
1 1 2 2
```

### 输出

```
3
```

# AI分析结果



**算法分类**: 动态规划

---

### 综合分析
本题核心是**恰好装满背包的方案数计算**，属于01背包变种。所有题解均基于动态规划，核心差异体现在状态定义维度、遍历顺序和空间优化技巧。最优解法采用一维滚动数组，通过逆序遍历实现状态压缩。

---

### 精选题解 (4+星)

#### 1. Dream_zhc (⭐⭐⭐⭐⭐)
**关键亮点**:
- 完整推导二维到一维状态压缩过程，配图解释逆序遍历原理
- 强调初始化 `f[0]=1` 的数学意义（空集方案）
- 代码简洁高效（空间O(M)），解决大规模数据场景

**核心代码**:
```cpp
int f[10010] = {1}; // 重点：f[0]初始化
for(int i=1; i<=n; i++)
    for(int j=m; j>=a[i]; j--)
        f[j] += f[j-a[i]];
```

#### 2. 康师傅 (⭐⭐⭐⭐)
**关键亮点**:
- 边读入边处理的优化技巧，避免单独存储菜品价格数组
- 独创性的转移顺序：先处理`j>a[i]`的情况，后单独处理`a[i]`
- 代码注释揭示避免重复计算的巧妙思路

**调试心得**:
> "为什么要最后处理当前菜品？因为如果提前给dp[2]+1，而dp[4]=dp[4-2]会多算一次，和倒着处理答案道理一样"

#### 3. 衡屿睿 (⭐⭐⭐⭐)  
**关键亮点**:
- 原始二维状态定义清晰展现决策过程
- 分情况讨论状态转移（`j<a[i]`/`j==a[i]`/`j>a[i]`）
- 适合动态规划初学者理解基础原理

---

### 最优技巧总结
**关键实现**:
```cpp
f[0] = 1; // 关键初始化
for(菜品遍历)
    for(j=总金额; j>=当前菜价; j--)
        f[j] += f[j-当前菜价];
```
**思维要点**:
1. **状态定义**: `f[j]` 表示恰好花费j元的方案数
2. **逆序遍历**: 确保状态更新基于上一轮结果，避免物品重复计算
3. **空集方案**: 初始化`f[0]=1` 表示0元有1种方案（不选任何菜品）

---

### 拓展应用
1. **同类变种**: 求最小/最大方案数（P1048 采药）、带限制的方案数（P1064 金明的预算方案）
2. **高阶技巧**: 多重背包方案数（P1833 樱花）、分组背包方案数（P1757 通天之分组背包）

---

### 推荐练习
1. [P1048 采药](https://www.luogu.com.cn/problem/P1048) - 基础01背包
2. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060) - 价值计算变种 
3. [P1163 第K小方案](https://www.luogu.com.cn/problem/P1163) - 方案数扩展

---
处理用时：44.95秒
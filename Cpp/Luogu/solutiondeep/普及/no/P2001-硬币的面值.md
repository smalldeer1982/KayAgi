# 题目信息

# 硬币的面值

## 题目描述

小 A 有 $n$ 种硬币，现在要买一样不超过 $m$ 元的商品，他不想得到找钱（多脏啊），同时又不想带太多的硬币，且硬币可以重复，现在已知这 $n$ 种硬币的价值，请问最少需要多少硬币就能组合成所有可能的价格？


## 说明/提示

【数据范围】

只有 9、10 会卡人，放心贪

对于 $20\%$ 的数据，$1 \le n \le 10$，$1 \le m \le 100$。  
对于 $60\%$ 的数据，$1 \le n \le 1000$，$1 \le m \le 10000$。  
对于 $80\%$ 的数据，$1 \le n \le 30000$，$1 \le m \le 2 \times {10}^9$。  
对于 $100\%$ 的数据，$1 \le n \le 2 \times {10}^5$，$1 \le m \le 2^{63}$。


## 样例 #1

### 输入

```
5 31

1 2 8 4 16

```

### 输出

```
5

```

# AI分析结果



### 算法分类
**贪心**

---

### 题解综合分析
题目核心是使用贪心策略逐步覆盖价格区间。关键思路是排序硬币后，每次选择能最大限度扩展覆盖范围的硬币，并通过数学计算避免逐个累加硬币的低效操作。以下题解在思路清晰度、代码优化、边界处理等方面表现优异：

---

### 精选题解（评分≥4星）

#### 1. 作者：pikabi（★★★★★）
**关键亮点**  
- 严格数学证明贪心策略的正确性  
- 使用整除优化计算硬币数量（O(1)时间）  
- 处理边界条件（如最后未达m的情况）

**核心代码思想**  
```cpp
for(int i = 1; i <= n; i++) {
    if(tot < a[i+1] - 1) {
        ll k = (a[i+1] - 2 - tot) / a[i] + 1; // 计算需要添加的硬币数量
        tot += a[i] * k;
        ans += k;
        if(tot >= m) break;
    }
}
```

**个人心得**  
> "若`tot`刚好等于`m-1`，需在循环外补`ans+1`"，体现出对边界条件的细致处理。

---

#### 2. 作者：nanzjz1（★★★★☆）
**关键亮点**  
- 引入虚拟边界`a[n+1] = m`简化判断  
- 通过`while`循环处理中间硬币的跳跃式累加  
- 数学优化避免超时

**核心代码思想**  
```cpp
for(int i=1; i<=n; i++) {
    if(maxm + 1 < a[i+1]) {
        ll k = (a[i+1]-2 - maxm)/a[i] + 1;
        maxm += a[i] * k;
        ans += k;
        if(maxm >= m) break;
    }
}
```

---

#### 3. 作者：flyfree（★★★★☆）
**关键亮点**  
- 将硬币面值动态修正为不超过`m`  
- 引入`div`指针优化遍历过程  
- 处理超大数据时的跳跃累加

**核心代码思想**  
```cpp
for(int div=1; div; div++) {
    if(a[div] > x+1 || div>n) {
        div--;
        if(div == n) { // 处理最后一枚硬币的快速累加
            ans += (m - x) / a[div] + ((m - x) % a[div] != 0);
            break;
        }
        ...
    }
}
```

---

### 关键思路总结
1. **排序预处理**：确保硬币有序，且存在面值1。
2. **跳跃式扩展**：用整除计算需要添加的硬币数量，避免逐个累加。
3. **虚拟边界**：将`a[n+1]`设为`m`简化判断逻辑。
4. **数学优化**：通过`k = (gap + a[i]-1) / a[i]`公式快速计算需添加次数。

---

### 拓展建议
类似贪心策略题目：  
1. P2327 [SCOI2005] 弹珠游戏（贪心覆盖区间）  
2. P5019 [NOIP2018 提高组] 铺设道路（跳跃式填坑）  
3. P1203 [USACO1.3] 修理牛棚（区间覆盖优化）  

---

### 调试与优化经验
- **边界处理**：多题解提到需额外处理`tot == m-1`的情况。
- **数学加速**：通过公式替代循环是应对大数据的关键。
- **虚拟哨兵**：设置`a[n+1] = m`简化代码逻辑。

---
处理用时：46.71秒
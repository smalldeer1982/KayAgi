# 题目信息

# Tweetuzki 爱等差数列

## 题目描述

Tweetuzki 特别喜欢等差数列。尤其是公差为 $1$ 且全为正整数的等差数列。

显然，对于每一个数 $s$，都能找到一个对应的公差为 $1$ 且全为正整数的等差数列各项之和为 $s$。这时，Tweetuzki 想知道，满足这样条件的等差数列，最小的首项是多少。

由于 Tweetuzki 的数学非常差，尤其是因式分解，所以请你告诉他结果。

## 说明/提示

**样例解释 1**

$2 + 3 + 4 = 9$

**样例解释 2**

$16 = 16$

## 数据范围

对于 $10\%$ 的数据，$s \le 10^6$。  
对于 $100\%$ 的数据，$1 \le s \le 10^{12}$。

## 提示

若有一个数列 $a$，每一项 $a_i$ 都满足 $a_i \in \mathbb{N_{+}}$ 且 $a_i - a_{i - 1} = a_{i + 1} - a_i = 1$，则称这个数列为一个公差为 $1$ 且全为正整数的等差数列。

## 样例 #1

### 输入

```
9```

### 输出

```
2 4```

## 样例 #2

### 输入

```
16```

### 输出

```
16 16```

## 样例 #3

### 输入

```
1000000007```

### 输出

```
500000003 500000004```

# AI分析结果



**算法分类**：数学

---

### **分析与结论**
题目核心是利用等差数列求和公式进行数学推导，将问题转化为寻找满足条件的因数对。各解法主要思路为枚举项数或分解因数，利用奇偶性判断合法解，并求最小首项。关键技巧在于数学变形和优化枚举顺序。

---

### **精选题解**
#### **1. 作者：D2T1** ⭐⭐⭐⭐⭐  
- **关键亮点**：将问题转化为分解2s的因数对，利用奇偶性差异快速判断，代码高效且思路清晰。  
- **核心思路**：  
  1. 分解2s为两因数i和j（i<j），要求i与j奇偶性不同。  
  2. 解方程得首项a=(j-i+1)/2，末项b=(i+j-1)/2。  
  3. 倒序枚举因数，找到首个合法解即停止，保证首项最小。  
- **代码片段**：  
  ```cpp
  for(ll i=sqrt(s<<1); i; --i)
      if((s<<1)%i ==0){
          ll j = (s<<1)/i;
          if((i&1)^(j&1)){
              printf("%lld %lld", (j-i+1)/2, (j+i-1)/2);
              return 0;
          }
      }
  ```

---

#### **2. 作者：zhanghzqwq** ⭐⭐⭐⭐  
- **关键亮点**：代码简洁，直接枚举长度并验证合法性，可读性高。  
- **核心思路**：  
  1. 枚举项数len，从√(2s)倒序开始。  
  2. 验证(s*2/len - len +1)是否为偶数，得到合法首项。  
- **代码片段**：  
  ```cpp
  for(long long len=sqrt(2*s); len>=1; len--){
      if(s*2%len !=0) continue;
      if((s*2/len - len +1) %2 !=0) continue;
      long long a = (s*2/len - len +1)/2;
      cout << a << " " << a+len-1 << endl;
      break;
  }
  ```

---

### **关键技巧总结**
1. **数学变形**：利用求和公式将问题转化为因数分解问题，如2s = n*(2a1 + n-1)。  
2. **倒序枚举**：从√(2s)倒序枚举项数，找到首个合法解即最优解。  
3. **奇偶性剪枝**：因数对必须奇偶性不同，确保首项为整数。  

---

### **拓展与推荐**
- **同类题目**：  
  1. [P1147 连续自然数和](https://www.luogu.com.cn/problem/P1147)（数学+枚举）  
  2. [P2424 约数和](https://www.luogu.com.cn/problem/P2424)（因数分解应用）  
  3. [P2926 等差数列](https://www.luogu.com.cn/problem/P2926)（数学推导优化）  
- **心得摘录**：  
  > "枚举时注意变量类型，避免int溢出。" —— zhanghzqwq  
  > "分解因数时奇偶性判断是突破口。" —— D2T1

---
处理用时：46.26秒
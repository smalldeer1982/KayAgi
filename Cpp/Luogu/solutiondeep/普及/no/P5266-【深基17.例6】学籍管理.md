# 题目信息

# 【深基17.例6】学籍管理

## 题目描述

您要设计一个学籍管理系统，最开始学籍数据是空的，然后该系统能够支持下面的操作（不超过 $10^5$ 条）：

- 插入与修改，格式`1 NAME SCORE`：在系统中插入姓名为 NAME(由字母和数字组成不超过 20 个字符的字符串，区分大小写) ，分数为 $\texttt{SCORE}$（$0<\texttt{SCORE}<2^{31}$） 的学生。如果已经有同名的学生则更新这名学生的成绩为 SCORE。如果成功插入或者修改则输出`OK`。
- 查询，格式`2 NAME`：在系统中查询姓名为 NAME 的学生的成绩。如果没能找到这名学生则输出`Not found`，否则输出该生成绩。
- 删除，格式`3 NAME`：在系统中删除姓名为 NAME 的学生信息。如果没能找到这名学生则输出`Not found`，否则输出`Deleted successfully`。
- 汇总，格式`4`：输出系统中学生数量。

## 样例 #1

### 输入

```
5
1 lxl 10
2 lxl
3 lxl
2 lxl
4```

### 输出

```
OK
10
Deleted successfully
Not found
0
```

# AI分析结果



**算法分类**  
模拟

**题解综合分析与结论**  
本题需要实现学籍管理系统的高效增删改查功能，核心在于选择合适的数据结构。题解主要分为三类：  
1. **STL容器派**（map/unordered_map）：利用红黑树或哈希表实现O(logn)/O(1)操作，代码简洁高效  
2. **结构体数组派**：暴力线性查找，时间复杂度O(n)，无法通过1e5量级数据  
3. **手写哈希派**：通过哈希函数映射降低冲突，性能接近STL但实现复杂  

**高星题解推荐**  
1. **yangrunze (★★★★☆)**  
   - 亮点：详细讲解map原理，代码可读性强，适合新手理解STL映射机制  
   - 代码核心：`map<string, int>`存储学生信息，利用count判断存在性  
   ```cpp
   case 2: // 查询操作
     if(a.count(name)) cout<<a[name]<<endl;
     else cout<<"Not found\n";
   ```

2. **1379号监听员 (★★★★☆)**  
   - 亮点：对比map与unordered_map性能，采用更优的unordered_map实现  
   - 关键技巧：`unordered_map`实现O(1)操作，流式I/O优化加速输入  
   ```cpp
   unordered_map<string,int> mp;
   ios::sync_with_stdio(false); cin.tie(0); // 输入优化
   ```

3. **linponess (★★★☆☆)**  
   - 亮点：手写哈希函数演示底层原理，对比STL性能差异  
   - 核心代码：自定义哈希函数处理字符串  
   ```cpp
   long long hs(char str[]){
     long len=strlen(str),ans=0;
     for(int i=0;i<len;i++) 
       ans=(ans*base+str[i])%mod;
     return ans;
   }
   ```

**关键思路总结**  
- **数据结构选择**：优先使用`unordered_map`实现O(1)操作，注意`count`判断存在性避免自动插入  
- **性能优化**：`ios::sync_with_stdio(false)`加速输入输出，避免endl改用'\n'  
- **错误处理**：利用分数>0的特性（题目给定0<score<2^31）作为存在性哨兵值  

**同类题目推荐**  
1. [P1102 A-B数对](https://www.luogu.com.cn/problem/P1102) - 映射统计问题  
2. [P3370 字符串哈希](https://www.luogu.com.cn/problem/P3370) - 哈希函数设计  
3. [P3405 省市哈希](https://www.luogu.com.cn/problem/P3405) - 字符串映射实践  

**题解心得摘录**  
> "EDqwq：用结构体数组最后发现超时，才意识到1e5次操作必须用O(1)数据结构"  
> → 大数据量场景需预先评估时间复杂度  

> "linponess：手写哈希比map快，但调试哈希冲突浪费2小时"  
> → 平衡开发效率与运行效率，优先选择STL  

> "时律：pbds的hash_table没有count函数，改用find+end判断存在性"  
> → 熟悉不同容器的API差异，避免运行时错误

---
处理用时：45.92秒
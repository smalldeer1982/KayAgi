# 题目信息

# [传智杯 #2 初赛] 众数出现的次数

## 题目描述

传智专修学员的课堂上，为了活跃气氛，并巩固位运算的知识，同学们玩起了一个游戏。

班级里有 $n(n\le10^6)$ 名同学，每位同学都获得了两张卡，红卡或者黑卡。每张卡上都有一个不超过 $10^9$ 的非负整数。第 $i$ 位同学手里红卡数字是 $a_i$ ，黑卡数字是 $b_i$。

现在需要每位同学出牌。每位同学可以直接将红卡上的数字打出，或者将自己的红卡上的数字和自己黑卡数字进行按位异或操作后的结果打出。最后老师会收集所有同学打出的数字。

这些数字中出现次数最多的数字是众数。在所有同学合作的最优策略下，我们希望众数对应数字出现的次数尽可能多。请问出现次数最多的数字是多少呢？

## 说明/提示

样例解释：

众数出现次数最多是 $3$ 次，有如下两种方法：

- $1$ 号同学直接出红卡，$2$ 号同学出红黑异或，$3$ 号同学随便出，$4$ 号同学出红黑异或。这样 $1,2,4$ 号同学都可以打出 $21$。
- $1$ 号同学出红黑异或，$2$ 号同学直接出红卡，$3$ 号同学直接出红卡，$4$ 号同学随便出。这样 $1,2,3$ 号同学都可以打出 $28$。

所以 $21$ 和 $28$ 都是出现次数最多的众数，因为最多可以出现 $3$ 次，不存在出现 $4$ 次的方案。但是由于要求如果有多解输出小的，请输出 $21$。

## 样例 #1

### 输入

```
4
21 9
28 9
28 3
17 4```

### 输出

```
21```

# AI分析结果



### 算法分类
位运算、哈希表

### 综合分析与结论
题目要求统计每个同学可选的两个数（红卡或红黑异或值）中，所有可能的众数的最大出现次数。核心是统计每个数在全体同学选项中的出现次数，取最大值，并处理多解情况。

#### 关键思路
1. **统计出现次数**：每个同学的两个可能值（若不同）均计入统计，确保每个数出现的次数等于其可能被选择的同学总数。
2. **哈希表或排序优化**：用哈希表（手动或STL）直接统计，或排序后遍历统计连续出现次数。
3. **去重处理**：若两个选项值相同，仅统计一次。

---

### 精选题解
#### 题解5：离散小波变换°（5星）
**亮点**：手动实现链式哈希表，时间复杂度O(n)，高效处理大数据。
```cpp
struct custom_hash { /* 哈希函数优化 */ };
gp_hash_table<ll, int, custom_hash> freq; // 哈希表统计
for (每个同学) {
    inc(a); if (a != a^b) inc(a^b);
}
// 遍历哈希表找最大出现次数的最小值
```

#### 题解2：xuanxuan001（4星）
**亮点**：排序后统计连续值，代码简洁，适合小规模数据。
```cpp
sort(num, num+n2); // 排序所有可能的数
for (遍历数组) {
    if (连续相同) now++; else 更新答案
}
```

#### 题解1：Histone（4星）
**亮点**：使用STL map直接统计，逻辑清晰但效率稍低。
```cpp
map<int, int> mp;
for (每个同学) {
    if (a != b) mp[a]++, mp[b]++;
    else mp[a]++;
}
// 遍历每个同学的a和b，比较次数更新答案
```

---

### 拓展与推荐题目
1. **P1102 A-B数对**（哈希统计数值对）
2. **P3405 [USACO16DEC] Cities and States S**（字符串哈希应用）
3. **P1177 【模板】快速排序**（排序思想基础）

### 个人心得摘录
- **Histone**：通过Hack数据发现边界情况（相同值时仅统计一次）。
- **xuanxuan001**：避免STL依赖，用排序简化问题，强调“零STL”实现。
- **离散小波变换°**：手动哈希避免冲突，强调“哈希表会伤心的”幽默表达。

---
处理用时：390.66秒
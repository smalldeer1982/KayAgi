# 题目信息

# 无知时诋毁原神

## 题目背景

纳西妲很喜欢排列。

![](https://img2.huashi6.com/images/resource/thumbnail/2022/07/28/14225_32552389084.jpg?imageMogr2/quality/100/interlace/1/thumbnail/700x)

画师 pid：72405030

## 题目描述

纳西妲有一个 $0\sim n-1$ 的排列 $c$。她希望你构造两个同样为 $0\sim n-1$ 的排列的 $a,b$，满足 $\forall i\in[1,n],c_i=(a_i+b_i)\bmod n$。如果纳西妲的要求无法被满足，请输出 $-1$。

## 说明/提示

### 数据范围

- $\text{Subtask 1(30 pts)}$：$n\le 10$。
- $\text{Subtask 2(20 pts)}$：保证有解。
- $\text{Subtask 3(50 pts)}$：无特殊性质。

对于 $100\%$ 的数据，保证 $1\le n\le 10^5$，$c$ 构成一个排列。

## 样例 #1

### 输入

```
3
2 1 0```

### 输出

```
2 0 1
0 1 2```

## 样例 #2

### 输入

```
4
1 3 0 2```

### 输出

```
-1```

# AI分析结果



### 算法分类
构造

### 题解分析与结论
题目要求构造两个排列 $a$ 和 $b$，使得 $c_i = (a_i + b_i) \bmod n$。核心结论：
1. **偶数无解**：当 $n$ 为偶数时，$\sum c_i$ 无法满足模 $n$ 为 $0$ 的条件。
2. **奇数可构造**：当 $n$ 为奇数时，利用模运算中 $2$ 的逆元存在性，可构造 $a_i = b_i = (c_i \cdot \text{inv}(2)) \bmod n$，或通过错位排列等方式生成解。

### 高星题解推荐
#### 题解1：vectorwyx（5星）
**关键思路**  
利用模逆元构造：当 $n$ 为奇数时，$2$ 的模逆元存在且为 $(n+1)/2$。对每个 $c_i$，直接取 $a_i = b_i = (c_i \cdot \text{inv}(2)) \bmod n$，确保 $a$ 和 $b$ 均为排列。
```cpp
int f(int x) {
    if (x % 2 == 0) return x / 2;
    return (x + n) / 2;
}
```
**代码亮点**  
简洁高效，直接利用奇偶性处理 $c_i$，无需复杂预处理。

#### 题解2：_XHY20180718_（4星）
**关键思路**  
构造 $a_i = n - c_i - 1$，$b_i = (2c_i - a_i) \bmod n$。通过公式保证 $a$ 和 $b$ 的排列性。
```cpp
a[i] = n - c[i] - 1;
b[i] = (2 * c[i] - a[i] + n) % n;
```
**代码亮点**  
公式推导直观，代码简洁，时间复杂度 $O(n)$。

#### 题解3：Xy_top（4星）
**关键思路**  
通过右移构造法生成排列，预处理每个 $c_i$ 对应的 $a$ 和 $b$ 值，保证和为连续奇数模 $n$。
```cpp
ans[0][(2 * i + 1) % n] = i;
ans[1][(2 * i + 1) % n] = (i + 1) % n;
```
**代码亮点**  
预处理思路清晰，适合快速查询，但实现稍复杂。

### 关键思路总结
最优方法为利用模逆元构造，核心要点：
1. **奇偶性判断**：直接筛除偶数情况。
2. **逆元构造**：通过 $2$ 的逆元将 $c_i$ 分解为两个相同值的和，确保排列唯一性。
3. **公式推导**：如 $a_i = n - c_i - 1$，结合模运算保证正确性。

### 拓展与相似题目
- **P1146**：构造操作使硬币全翻转。
- **P1963**：构造排列满足距离条件。
- **P2894**：贪心构造酒店房间分配。

---
处理用时：163.61秒
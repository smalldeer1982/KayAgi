# 题目信息

# [YsOI2022] NOIp 和省选

## 题目背景

Ysuperman 为了检验他的教学水平，决定给幼儿园的小朋友们来两场摸底考试！

## 题目描述

其中一场考试有四道题目，满分 $400$；另一场考试有六道题目，满分 $600$。每个人每场考试得分都是一个 $0$ 到满分间的一个**非负整数**（可以为 $0$ 或者满分）。

有 $n$ 名同学参加了这两场考试，其中第 $i$ 名同学第一场得分 $a_i$，第二场得分 $b_i$，Ysuperman 通过以下规则计算第 $i$ 名同学的**标准得分** $c_i$：

1. 分别统计两场比赛的最高分 $A,B$，有 $A\ne 0$，$B\ne 0$。
2. 令 $c_i=1000(\frac{a_i}{A}+\frac{b_i}{B})$，其中 $c_i$ **四舍五入保留到整数**。

在算出了每位同学的标准得分后，Ysuperman 粗心地弄丢了每位同学的原始分，你能帮 TA 找到任意一组可能的原始分吗？

简单来说，已知 $n$ 和每位同学的**标准得分** $c_{1\sim n}$，Ysuperman 希望你找到一组合法的 $a_{1\sim n}$，$b_{1\sim n}$ 满足上述要求。

特别的，有个十分强的小朋友 Qiu 在两场考试中都拿到了**最高分**，也就是保证 $c_1=2000$。另外其他小朋友水平都差不多，所以保证有 $\forall i>1,c_i\in [10,1990]$。

## 说明/提示

样例一中构造的 $a,b$ 合法，理由如下：

两场比赛最高得分分别为 $233$ 和 $525$。

$1000\times (233\div 233 + 525\div 525)=2000$。

$1000\times (147\div 233 + 361\div 525) \approx 1318.520\approx 1319$。

$1000\times (200\div 233 + 324\div 525)\approx 1475.512\approx 1476$。

$1000\times (0\div 233 + 523\div 525)\approx 996.190\approx 996$。

前 $20\%$ 的数据保证 $n\le 20$。

另外 $20\%$ 的数据保证 $c_i$ 是 $10$ 的倍数。

另外 $20\%$ 的数据保证 $c_i$ 是 $5$ 的倍数。

另外 $20\%$ 的数据保证 $c_i$ 是 $2$ 的倍数。

对于 $100\%$ 的数据，满足 $1\le n\le 10^4$，$c_1=2000$，$\forall i>1,c_i\in[10,1990]$。

## 样例 #1

### 输入

```
4
2000
1319
1476
996```

### 输出

```
233 525
147 361
200 324
0 523```

## 样例 #2

### 输入

```
4
2000
1704
1658
1542```

### 输出

```
400 454
352 374
352 353
320 337```

# AI分析结果



算法分类：构造

### 综合分析与结论
本题要求构造满足特定四舍五入规则的原始分数。核心难点在于合理选择最高分（A、B），使得标准得分计算方程容易求解。最优解法通过数学建模将问题转化为线性方程，并结合奇偶性处理边界条件，最终在 $O(n)$ 时间复杂度内完成构造。

---

### 精选题解与评分

1. **untrigintillion 题解（★★★★★）**
   **关键亮点**：选择 $A=200, B=500$ 使得方程简化为 $5a_i+2b_i=c_i$，通过奇偶性分类处理，代码简洁高效。
   **代码核心**：
   ```cpp
   if(a%2==1) a-=5, one++;
   one += 2*(a/10); a %=10;
   two += a/2;
   ```
   **实现思想**：将标准得分拆分为奇偶分量，优先用 $a_i$ 处理奇数部分，剩余部分由 $b_i$ 覆盖。

2. **zzyxl_qaq 题解（★★★★☆）**
   **关键亮点**：在奇偶分类基础上增加边界处理（当 $b_i$ 超过 500 时动态调整），保证解的合法性。
   **代码核心**：
   ```cpp
   while(b>500) b-=5, a+=2;
   ```
   **个人心得**：发现当 $b_i$ 超过最大值时需要回退，通过调整系数保证数值合法性。

3. **Yujinhe469 题解（★★★★☆）**
   **关键亮点**：预处理所有可能的 $c_i$ 对应解，直接查表输出，逻辑简单直观。
   **代码核心**：
   ```cpp
   for(int i=0; i<=400; ++i)
     for(int j=0; j<=600; ++j)
       f[round(1000*(i/400.0 + j/600.0))] = {i,j};
   ```
   **优化技巧**：预处理时间复杂度 $O(400\times600)$，适用于多次查询场景。

---

### 最优思路与技巧
- **数学建模**：选择特定 $A,B$ 使得方程系数为整数（如 $A=200,B=500$），避免浮点误差。
- **奇偶拆分**：通过模2运算将问题分解为可独立处理的奇偶分量。
- **边界调整**：当某变量超出范围时，通过系数转换动态平衡（如 $b_i$ 超限时用 $a_i$ 补偿）。

---

### 拓展练习
1. [P5655 基础数论练习题](https://www.luogu.com.cn/problem/P5655) - 构造满足特定模数条件的数列
2. [P2119 魔法阵](https://www.luogu.com.cn/problem/P2119) - 四变量约束条件下的构造
3. [P1001 A+B Problem](https://www.luogu.com.cn/problem/P1001) - 虽简单但包含输入输出构造思想

---
处理用时：56.55秒
# 题目信息

# [蓝桥杯 2023 省 B] 接龙数列

## 题目描述

对于一个长度为 $K$ 的整数数列：$A_{1},A_{2},\ldots,A_{K}$，我们称之为接龙数列当且仅当 $A_{i}$ 的首位数字恰好等于 $A_{i-1}$ 的末位数字（$2 \leq i \leq K$）。

例如 $12,23,35,56,61,11$ 是接龙数列；$12,23,34,56$ 不是接龙数列，因为 $56$ 的首位数字不等于 $34$ 的末位数字。所有长度为 $1$ 的整数数列都是接龙数列。

现在给定一个长度为 $N$ 的数列 $A_{1},A_{2},\ldots,A_{N}$，请你计算最少从中删除多少 个数，可以使剩下的序列是接龙序列？

## 说明/提示

**【样例说明】**

删除 $22$，剩余 $11,121,12,2023$ 是接龙数列。 

**【评测用例规模与约定】**

对于 $20 \%$ 的数据，$1 \leq N \leq 20$。

对于 $50 \%$ 的数据，$1 \leq N \leq 10^4$。

对于 $100 \%$ 的数据，$1 \leq N \leq 10^{5}$，$1 \leq A_{i} \leq 10^{9}$。所有 $A_{i}$ 保证不包含前导 0。

蓝桥杯 2023 省赛 B 组 E 题。

## 样例 #1

### 输入

```
5
11 121 22 12 2023```

### 输出

```
1```

# AI分析结果



**算法分类**: 动态规划

---

### 题解分析与结论

所有题解均采用动态规划，核心思路为维护以每个数字结尾的最长接龙序列长度。通过将状态设计为 `dp[i]` 表示以数字 `i` 结尾的最长接龙序列长度，实现 O(n) 时间复杂度，满足题目数据范围要求。

---

### 高星题解推荐

1. **题解作者：Convergent_Series (5星)**
   - **关键亮点**：代码最简洁，直接通过字符串操作提取首尾字符，用一维数组实现状态转移。
   - **核心代码**：
     ```cpp
     cin >> a;
     int ln = a.length();
     dp[a[ln-1]-'0'] = max(dp[a[ln-1]-'0'], dp[a[0]-'0'] + 1);
     ```

2. **题解作者：xler0915 (5星)**
   - **关键亮点**：清晰的线性 DP 解释，使用滚动数组优化空间复杂度至 O(1)。
   - **核心代码**：
     ```cpp
     f = a.front() - '0';
     b = a.back() - '0';
     dp[b] = max(dp[b], dp[f] + 1);
     ```

3. **题解作者：BigRooster (4星)**
   - **关键亮点**：对比了原始 O(n²) 思路与优化后的 O(n) 思路，帮助理解优化必要性。
   - **个人心得**："最初的 O(n²) 动态规划只能得 50 分，优化后状态设计是关键"。

---

### 最优解关键思路

1. **状态压缩**：用 10 个元素的数组记录以每个数字结尾的最长序列长度。
2. **滚动更新**：每读入一个数字，仅需更新其末位对应的 DP 值。
3. **首尾分离**：将数字视为字符串直接提取首尾字符，避免数值计算。

---

### 拓展与举一反三

同类问题可参考：
1. 最长递增子序列优化（[LOJ #2537](https://www.luogu.com.cn/problem/P1439)）
2. 状态压缩型 DP（[LC 446. 等差数列划分 II](https://leetcode.cn/problems/arithmetic-slices-ii-subsequence/)）
3. 字符特征型 DP（[CF 455A Boredom](https://codeforces.com/contest/455/problem/A)）

---

### 推荐相似题目
1. [P1091 合唱队形](https://www.luogu.com.cn/problem/P1091) - 双向 LIS 思想
2. [P1439 最长公共子序列](https://www.luogu.com.cn/problem/P1439) - 状态优化经典题
3. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020) - 贪心与二分优化结合

---
处理用时：48.36秒
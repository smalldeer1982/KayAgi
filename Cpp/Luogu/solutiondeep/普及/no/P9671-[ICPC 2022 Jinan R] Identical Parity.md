# 题目信息

# [ICPC 2022 Jinan R] Identical Parity

## 题目描述

定义一个序列的 **权值** 等于这个序列所有的元素之和。

试判断：是否存在一个长度为 $n$ 的 **排列**，满足以下约束条件？

- 其所有长度为 $k$ 的 **子区间** 的权值具有相同的奇偶性。

## 样例 #1

### 输入

```
3
3 1
4 2
5 3```

### 输出

```
No
Yes
Yes```

# AI分析结果



**算法分类标签**: 构造、数学

---

### 综合分析与结论

题目核心是构造满足特定奇偶性条件的排列。主要思路分为两种情况：

1. **k 为偶数**：直接构造奇偶交替序列即可满足条件，所有题解均认为此时直接输出 `Yes`。
2. **k 为奇数**：需要满足奇偶数数量差 ≤1，并通过数学分析余数部分的分布，确保奇偶差能被平衡。关键难点在于余数部分的处理，如分块后的奇偶分配是否合理。

---

### 精选题解与关键代码

#### 题解1：w9095（★★★★☆）
**关键思路**：
- 分块构造，每段长度为 `k` 的子序列奇偶差为1，余数部分按两种情况处理：
  - 若余数 `r ≤ k/2`，则剩余部分用偶数填充，要求总奇偶差 ≤1。
  - 若余数 `r > k/2`，剩余部分需用奇偶交替填充，计算总差是否允许。
**代码亮点**：
```cpp
if (k%2==0) printf("Yes\n");
else if (k%2==1) {
    if (n%k <= k/2 && (n/k - n%k) <=1) printf("Yes\n");
    else if (n%k > k/2 && (n/k - k/2 + (n%k - k/2)) <=1) printf("Yes\n");
    else printf("No\n");
}
```

#### 题解2：__Venti__（★★★★☆）
**关键思路**：
- 与w9095类似，但代码结构更清晰，条件判断更易读。
**代码亮点**：
```cpp
if ((k/2 >= n%k && (n/k - n%k) <=1) || (k/2 <n%k && (n/k -k/2 + (n%k -k/2)) <=1)) 
    printf("Yes\n");
else printf("No\n");
```

#### 题解3：lgydkkyd（★★★☆☆）
**关键思路**：
- 条件判断与上述解法一致，但代码简化为两行条件判断，逻辑紧凑。
**代码亮点**：
```cpp
if(k/2>=n%k&&(n/k-n%k)<2) printf("Yes\n");
else if(k/2<n%k&&(n/k-k/2+(n%k-k/2))<2) printf("Yes\n");
```

---

### 最优关键思路总结

1. **奇偶交替构造**：当 `k` 为偶数时，直接构造奇偶交替序列，满足滑动窗口奇偶性一致。
2. **数学分块分析**：当 `k` 为奇数时，将序列分为完整块和余数部分，计算奇偶差是否允许：
   - 完整块贡献固定的奇偶差。
   - 余数部分按大小分类处理，确保总差 ≤1。

---

### 拓展与同类题目

1. **构造类问题**：类似题目如[CF1603A Di-visible Confusion](https://codeforces.com/problemset/problem/1603/A)（构造性验证）。
2. **奇偶性分析**：[P7988 [USACO21DEC] Air Cownditioning B](https://www.luogu.com.cn/problem/P7988)（差分奇偶性）。
3. **分块处理**：[P1969 [NOIP2013 提高组] 积木大赛](https://www.luogu.com.cn/problem/P1969)（分块构造最优解）。

---

### 个人心得摘录

- **构造验证**：部分题解通过构造具体例子（如奇偶交替排列）验证思路，帮助理解。
- **余数处理**：w9095提到余数部分需优先补齐偶数，避免奇偶差过大，体现了构造的精细性。
- **条件简化**：__Venti__的代码通过逻辑合并简化条件判断，提高可读性。

---
处理用时：144.07秒
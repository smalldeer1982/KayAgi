# 题目信息

# 逛画展

## 题目描述


博览馆正在展出由世上最佳的 $m$ 位画家所画的图画。

游客在购买门票时必须说明两个数字，$a$ 和 $b$，代表他要看展览中的第 $a$ 幅至第 $b$ 幅画（包含 $a,b$）之间的所有图画，而门票的价钱就是一张图画一元。

Sept 希望入场后可以看到所有名师的图画。当然，他想最小化购买门票的价格。

请求出他购买门票时应选择的 $a,b$，数据保证一定有解。

若存在多组解，**输出 $a$ 最小的那组**。

## 说明/提示

#### 数据规模与约定

- 对于 $30\%$ 的数据，有 $n\le200$，$m\le20$。
- 对于 $60\%$ 的数据，有 $n\le10^5$，$m\le10^3$。
- 对于 $100\%$ 的数据，有 $1\leq n\le10^6$，$1 \leq a_i \leq m\le2\times10^3$。

## 样例 #1

### 输入

```
12 5
2 5 3 1 3 2 4 1 1 5 4 3
```

### 输出

```
2 7```

# AI分析结果

### 综合分析与结论

本题的核心问题是在一个序列中找到包含所有不同元素的最短连续子序列。题解中主要采用了以下几种方法：

1. **滑动窗口（尺取法）**：通过维护一个窗口，动态调整窗口的左右边界，确保窗口内包含所有不同元素，并尽可能缩小窗口长度。这是最常用的方法，时间复杂度为O(n)。

2. **二分查找**：通过二分查找可能的窗口长度，检查是否存在满足条件的窗口。时间复杂度为O(n log n)，虽然比滑动窗口稍慢，但思路清晰。

3. **单调队列**：通过维护一个单调队列，确保队列中的元素尽可能少，且包含所有不同元素。这种方法与滑动窗口类似，但实现上稍有不同。

4. **桶计数**：通过维护一个桶数组，记录每个元素的出现次数，动态调整窗口边界。这种方法与滑动窗口结合使用，优化了窗口的调整过程。

### 所选高星题解

#### 1. 作者：米奇（5星）
**关键亮点**：
- 使用了滑动窗口（尺取法）的思路，代码简洁且高效。
- 通过维护一个桶数组来记录每个元素的出现次数，动态调整窗口边界。
- 代码可读性强，逻辑清晰，适合初学者理解和学习。

**核心代码**：
```cpp
int l=1, r=1, k=1; b[a[1]]=1; ans=1000005;
while(l<=r && r<=n) {
    if(k==m) {
        if(ans>r-l+1) {
            ans=r-l+1;
            ll=l; rr=r;
        }
        b[a[l]]--;
        if(b[a[l]]==0) k--;
        l++;
    } else {
        r++;
        b[a[r]]++;
        if(b[a[r]]==1) k++;
    }
}
```
**核心思想**：通过维护一个窗口，动态调整左右边界，确保窗口内包含所有不同元素，并记录最小窗口。

#### 2. 作者：Sino_E（4星）
**关键亮点**：
- 使用了滑动窗口的思路，结合了贪心策略，优化了窗口的调整过程。
- 通过记录每个元素最后一次出现的位置，动态调整窗口的左边界。
- 代码实现较为简洁，逻辑清晰。

**核心代码**：
```cpp
while(l!=i && l<pos[pic[l]]) l++;
if(cnt==m && i-l+1<mlen)
    mlen=i-l+1, ml=l, mr=i;
```
**核心思想**：通过记录每个元素最后一次出现的位置，动态调整窗口的左边界，确保窗口内包含所有不同元素。

#### 3. 作者：引领天下（4星）
**关键亮点**：
- 使用了尺取法的思路，代码简洁且高效。
- 通过维护一个桶数组来记录每个元素的出现次数，动态调整窗口边界。
- 代码可读性强，逻辑清晰，适合初学者理解和学习。

**核心代码**：
```cpp
for(int r=1,l=1;r<=n;r++) {
    I(a[r]);
    while(true) {
        D(a[l]);
        if(cnt==m) l++;
        else { I(a[l]); break; }
    }
    if(cnt==m && r-l+1<ans) ans=r-l+1, ansl=l, ansr=r;
}
```
**核心思想**：通过维护一个窗口，动态调整左右边界，确保窗口内包含所有不同元素，并记录最小窗口。

### 最优关键思路与技巧

1. **滑动窗口（尺取法）**：这是解决此类问题的最优方法，时间复杂度为O(n)，适用于需要在序列中寻找满足特定条件的最短子序列的问题。

2. **桶计数**：通过维护一个桶数组，记录每个元素的出现次数，可以高效地判断窗口内是否包含所有不同元素。

3. **贪心策略**：在滑动窗口的调整过程中，使用贪心策略可以确保窗口尽可能小，从而找到最优解。

### 可拓展之处

1. **类似问题**：滑动窗口法可以用于解决多种类似问题，如寻找包含所有字符的最短子串、寻找满足特定条件的最短子序列等。

2. **二分查找**：虽然时间复杂度稍高，但在某些情况下，二分查找可以提供更清晰的思路，适用于需要检查某个长度是否满足条件的问题。

### 推荐题目

1. **P1638 逛画展**（本题）
2. **P2564 不同的雪花**（滑动窗口法的应用）
3. **P2678 跳石头**（二分查找的应用）
4. **P1886 滑动窗口**（单调队列的应用）

### 个人心得摘录

- **调试经历**：在实现滑动窗口时，需要注意窗口边界的调整，特别是在左边界右移时，要确保窗口内仍然包含所有不同元素。
- **踩坑教训**：在二分查找的实现中，需要注意边界条件的处理，避免出现死循环或遗漏解的情况。
- **顿悟感想**：滑动窗口法虽然简单，但在实际应用中非常高效，特别是在处理大规模数据时，能够显著提升算法的性能。

---
处理用时：31.43秒
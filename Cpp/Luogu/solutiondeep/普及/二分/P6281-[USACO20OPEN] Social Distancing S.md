# 题目信息

# [USACO20OPEN] Social Distancing S

## 题目描述

由于高传染性的牛传染病 COWVID-19 的爆发，Farmer John 非常担忧他的奶牛们的健康。

为了限制疾病的传播，Farmer John 的 $N$ 头奶牛（$2\le N\le 10^5$）决定践行“社交距离”，分散到农场的各处。农场的形状如一维数轴，上有 $M$ 个互不相交的区间（$1\le M\le 10^5$），其中有可用来放牧的青草。奶牛们想要使她们位于不同的整数位置，每个位置上均有草，并且最大化 $D$ 的值，其中 $D$ 为最近的两头奶牛之间的距离。请帮助奶牛们求出 $D$ 的最大可能值。

## 说明/提示

### 样例解释
取到 $D=2$ 的一种方式是令奶牛们处在位置 $0$、$2$、$4$、$6$ 和 $9$。

### 子任务
- 测试点 $2$-$3$ 满足 $b\le 10^5$。
- 测试点 $4$-$10$ 没有额外限制。

## 样例 #1

### 输入

```
5 3
0 2
4 7
9 9```

### 输出

```
2```

# AI分析结果

### 综合分析与结论

本题的核心是通过二分搜索来最大化奶牛之间的最小距离，结合贪心算法在给定的区间内放置奶牛。大多数题解都采用了二分搜索的思路，并通过贪心策略来验证某个距离是否可行。难点在于如何高效地在多个区间内放置奶牛，并确保它们之间的距离满足要求。

### 所选高星题解

#### 1. 作者：PersistentLife (5星)
- **关键亮点**：思路清晰，代码可读性强，详细解释了二分搜索的上下界选择和贪心策略的实现。
- **个人心得**：作者强调了数轴的边界选择，指出小于0和大于最大区间右端点的部分对答案没有贡献，从而简化了问题。
- **核心代码**：
```cpp
bool check() {
    int cur=a[1],cnt=1;
    for(int i=2;i<=n;i++) {
        if(cur+mid<=b[cnt]) cur+=mid;
        else {
            while(cnt<m&&cur+mid>b[cnt]) cnt++;
            if(cur+mid>b[cnt]) return 0;
            if(cur+mid<=a[cnt]) cur=a[cnt];  
            else cur+=mid;
        }
    }
    return 1;
}
```
- **实现思想**：通过遍历每头牛和每个区间，贪心地放置奶牛，并确保它们之间的距离满足要求。

#### 2. 作者：_zy_ (4星)
- **关键亮点**：详细解释了单调性的证明，并提供了清晰的贪心策略。
- **核心代码**：
```cpp
bool Judge(int x) {
    bool flag=0;
    int cnt=1; num=0;
    int sta,lst;
    sta=e[++num].l; lst=e[num].r;
    int pos=e[1].l;
    while(lst<=e[m].r&&!flag) {
        int p=pos+x;
        if(p<=lst) {
            pos=p;
            cnt++;
            continue;
        }
        while(p>lst) {
            num++;
            if(num>m) {flag=1;break;}
            sta=e[num].l;
            lst=e[num].r;
            if(p<sta) pos=sta;
            else pos=p;
        }
        cnt++;
        if(cnt>n) return true;
    }
    return false;
}
```
- **实现思想**：通过贪心地放置奶牛，并确保它们之间的距离满足要求，同时处理区间之间的过渡。

#### 3. 作者：kradcigam (4星)
- **关键亮点**：提供了二分的模板和详细的check函数实现，代码简洁明了。
- **核心代码**：
```cpp
bool check(ll x){
    ll l=0,ans=0;
    for(int i=1;i<=m;i++){
        l=max(l,a[i].a);
        if(a[i].b>=l){
            ll X=(a[i].b-l)/x+1;
            ans=ans+X;
            l=l+X*x;
        }
    }
    return ans>=n;
}
```
- **实现思想**：通过计算每个区间内可以放置的奶牛数量，并确保它们之间的距离满足要求。

### 最优关键思路与技巧
1. **二分搜索**：通过二分搜索来确定最大化的最小距离，复杂度为O(log(max_b_i))。
2. **贪心策略**：在验证某个距离是否可行时，贪心地在每个区间内放置尽可能多的奶牛，确保它们之间的距离满足要求。
3. **区间排序**：在开始二分搜索之前，先对区间进行排序，以便更高效地放置奶牛。

### 可拓展之处
- **类似算法套路**：二分搜索结合贪心策略的题目在算法竞赛中非常常见，如最大化最小值、最小化最大值等问题。
- **同类型题目**：可以尝试解决其他类似的问题，如最大化最小间隔、最小化最大间隔等。

### 推荐题目
1. [P1824 进击的奶牛](https://www.luogu.com.cn/problem/P1824)
2. [P1316 丢瓶盖](https://www.luogu.com.cn/problem/P1316)
3. [P1843 奶牛晒衣服](https://www.luogu.com.cn/problem/P1843)

### 个人心得摘录
- **PersistentLife**：强调了数轴的边界选择，指出小于0和大于最大区间右端点的部分对答案没有贡献，从而简化了问题。
- **_zy_**：详细解释了单调性的证明，并提供了清晰的贪心策略。
- **kradcigam**：提供了二分的模板和详细的check函数实现，代码简洁明了。

---
处理用时：28.15秒
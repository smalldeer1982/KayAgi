# 题目信息

# [USACO20JAN] Race B

## 题目描述

Bessie 正在参加一场 $K$（$1\le K\le 10^9$）米的跑步比赛。她从 $0$ 米每秒的速度开始比赛。在每一秒中，她可以选择将她的速度增加 $1$ 米每秒，保持速度不变，或者将她的速度减少 $1$ 米每秒。例如，在第一秒中，她可以将她的速度增加到 $1$ 米每秒，跑 $1$ 米，或者保持她的速度 $0$ 米每秒不变，跑 $0$ 米。Bessie 的速度不会降低到小于零。

Bessie 始终朝着终点线的方向跑，她想要花费整数秒的时间完成比赛。此外，她不想在终点时跑得太快：在 Bessie 跑完 $K$ 米的时刻，她希望她的速度不超过 $X$（$1\le X\le 10^5$）米每秒。Bessie 想要对于 $N$（$1\le N\le 1000$）个不同的 $X$ 值知道她多快可以完成比赛。 

## 说明/提示

### 样例解释 1

当 $X=1$ 时，一种最优方案为：

1. 将速度增加到 $1$ 米/秒，跑 $1$ 米
2. 将速度增加到 $2$ 米/秒，跑 $2$ 米，总计跑 $3$ 米
3. 将速度保持在 $2$ 米/秒，总计跑 $5$ 米
4. 将速度保持在 $2$ 米/秒，总计跑 $7$ 米
5. 将速度保持在 $2$ 米/秒，总计跑 $9$ 米
6. 将速度降低到 $1$ 米/秒，总计跑 $10$ 米

当 $X=3$ 时，一种最优方案为：

1. 将速度增加到 $1$ 米/秒，跑 $1$ 米
2. 将速度增加到 $2$ 米/秒，总计跑 $3$ 米
3. 将速度增加到 $3$ 米/秒，总计跑 $6$ 米
4. 将速度保持在 $3$ 米/秒，总计跑 $9$ 米
5. 将速度保持在 $3$ 米/秒，总计跑 $12$ 米

注意当 $X=3$ 时，以下方案是不合法的：

1. 将速度增加到 $1$ 米/秒，跑 $1$ 米
2. 将速度增加到 $2$ 米/秒，总计跑 $3$ 米
3. 将速度增加到 $3$ 米/秒，总计跑 $6$ 米
4. 将速度增加到 $4$ 米/秒，总计跑 $10$ 米

这是因为在 Bessie 跑完 $10$ 米的时刻，她的速度是 $4$ 米/秒。 

## 样例 #1

### 输入

```
10 5
1
2
3
4
5```

### 输出

```
6
5
5
4
4```

# AI分析结果

### 综合分析与结论

本题的核心在于如何通过模拟或数学方法计算Bessie在给定速度限制下完成比赛的最短时间。题解中主要分为以下几种思路：

1. **模拟法**：通过模拟Bessie的加速和减速过程，计算她在不同速度限制下的最短时间。这种方法直观但可能效率较低。
2. **数学法**：通过数学公式直接计算Bessie在不同速度限制下的最短时间。这种方法效率高，但需要较强的数学推导能力。
3. **二分法**：通过二分查找确定最短时间，结合数学公式进行验证。这种方法结合了模拟和数学的优点，效率较高。

### 所选高分题解

#### 1. 作者：Treap_Kongzs (★★★★★)
- **关键亮点**：通过将减速过程视为反向加速，简化了问题的处理。通过模拟加速和减速过程，直接计算最短时间，避免了复杂的数学推导。
- **个人心得**：作者通过图像化的方式解释了运动过程，使得思路更加清晰。
- **核心代码**：
```cpp
int solve(int dis,int maxv)
{
    int ans=0;
    int updis=0,downdis=0;
    int v=0;
    while(1)
    {
        v++;
        updis+=v;
        ans++;
        if(updis+downdis>=dis)return ans;
        if(v>=maxv)
        {
            downdis+=v;
            ans++;
            if(updis+downdis>=dis)return ans;
        }
    }
}
```

#### 2. 作者：superLouis (★★★★☆)
- **关键亮点**：使用二分法结合数学公式，通过检查函数验证最短时间。这种方法在保证效率的同时，简化了问题的处理。
- **个人心得**：作者通过二分法避免了复杂的模拟过程，提高了代码的效率。
- **核心代码**：
```cpp
int maxlen(int t, int x) {
    if (t <= x) return sum(1, t);
    int speed = (t + x) >> 1;
    if ((t + x) & 1) return sum(1, speed) + sum(speed, x);
    return sum(1, speed) + sum(speed - 1, x); 
}
bool check(int t, int x) {
    return maxlen(t, x) >= k;
}
```

#### 3. 作者：continueOI (★★★★☆)
- **关键亮点**：通过预处理加速到终点的最短时间，结合贪心策略，计算在速度限制下的最短时间。这种方法在保证效率的同时，简化了问题的处理。
- **核心代码**：
```cpp
void solve(int lim){
    if(lim>=minn){
        cout<<minn<<'\n';
        return;
    }
    const int sum1=(lim-1)*lim/2;
    int sum2=0;
    for(t=lim;;t++){
        sum2+=t;
        if(sum1+(sum2-t)*2+t>=k){
            cout<<lim-1+(t-lim)*2+1<<'\n';
            return;
        }
        if(sum1+sum2*2>=k){
            cout<<lim-1+(t-lim+1)*2<<'\n';
            return;
        }
    }
}
```

### 最优关键思路与技巧

1. **将减速过程视为反向加速**：通过将减速过程视为反向加速，简化了问题的处理，使得模拟过程更加直观。
2. **二分法结合数学公式**：通过二分法确定最短时间，结合数学公式进行验证，提高了代码的效率。
3. **预处理加速到终点的最短时间**：通过预处理加速到终点的最短时间，结合贪心策略，简化了问题的处理。

### 可拓展之处

1. **类似问题**：可以拓展到其他需要模拟运动过程的问题，如车辆加速、减速问题。
2. **算法套路**：二分法结合数学公式的套路可以应用到其他需要快速验证的问题中。

### 推荐题目

1. [P1004 方格取数](https://www.luogu.com.cn/problem/P1004)
2. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)
3. [P1045 麦森数](https://www.luogu.com.cn/problem/P1045)

### 个人心得总结

- **调试经历**：作者在调试过程中发现不开`long long`会导致错误，提醒了数据类型的重要性。
- **顿悟感想**：通过将减速过程视为反向加速，简化了问题的处理，使得思路更加清晰。

---
处理用时：32.25秒
# 题目信息

# [USACO20OPEN] Social Distancing I B

## 题目描述

一种新型疾病，COWVID-19，开始在全世界的奶牛之间传播。Farmer John 正在采取尽可能多的预防措施来防止他的牛群被感染。

Farmer John 的牛棚是一个狭长的建筑物，有一排共 $N$ 个牛栏（$2\le N\le 10^5$）。有些牛栏里目前有奶牛，有些目前空着。得知“社交距离”的重要性，Farmer John 希望使得 $D$ 尽可能大，其中 $D$ 为最近的两个有奶牛的牛栏的距离。例如，如果牛栏 $3$ 和 $8$ 是最近的有奶牛的牛栏，那么 $D=5$。

最近两头奶牛新来到 Farmer John 的牛群，他需要决定将她们分配到哪两个之前空着的牛栏。请求出他如何放置这两头新来的奶牛，使得 $D$ 仍然尽可能大。Farmer John 不能移动任何已有的奶牛；他只想要给新来的奶牛分配牛栏。 

## 说明/提示

### 样例解释 1

在这个例子中，Farmer John 可以以这样的方式加入奶牛，使得牛栏分配变为 `10x010010x0010`，其中 `x` 表示新来的奶牛。此时 $D=2$。不可能在加入奶牛之后取到更大的 $D$ 值。 

### 测试点性质

- 测试点 $2-6$ 满足 $N\le 10$。
- 测试点 $7-8$ 满足 $N\le 100$。
- 测试点 $9-11$ 满足 $N\le 5000$。
- 测试点 $12-15$ 没有额外限制。

## 样例 #1

### 输入

```
14
10001001000010```

### 输出

```
2```

# AI分析结果

### 综合分析与结论

本题的核心是通过二分答案来最大化最近两个有奶牛的牛栏之间的距离。大多数题解采用了二分法，结合贪心策略来验证某个距离是否可行。部分题解还提供了线性时间复杂度的解决方案，但实现较为复杂。整体来看，二分法是最为简洁且易于理解的解决方案。

### 所选高分题解

#### 1. **作者：1234567890sjx (★★★★★)**
- **关键亮点**：简洁的二分法实现，结合贪心策略，时间复杂度为 \(O(n \log n)\)。
- **核心思想**：通过二分法确定最大距离 \(D\)，然后贪心地插入两头奶牛，确保它们之间的距离尽可能大。
- **代码实现**：
  ```cpp
  bool check(int mid) {
      int cnt = 0, last = -1e9;
      for (int i = 1; i <= n; i++) {
          if (s[i] == '1' && i - last < mid) return false;
          if (s[i] == '1') last = i;
      }
      last = -1e9;
      for (int i = 1; i <= n; i++) {
          if (s[i] == '1' && i - last < mid) cnt--;
          if ((i - last >= mid) && s[i] != '1') {
              last = i;
              cnt++;
          }
          if (s[i] == '1') last = i;
      }
      return cnt >= 2;
  }
  ```

#### 2. **作者：卷王 (★★★★☆)**
- **关键亮点**：清晰的二分法实现，代码简洁，易于理解。
- **核心思想**：通过二分法确定最大距离，并在验证时动态更新牛栏位置，确保插入的两头奶牛满足距离要求。
- **代码实现**：
  ```cpp
  inline bool check(int x) {
      int num = 0; bcnt = cnt;
      for (int i = 1; i <= cnt; i++) b[i] = a[i];
      b[++bcnt] = 1 - x;
      b[++bcnt] = n + x;
      sort(b + 1, b + bcnt + 1);
      for (int i = 1; i <= bcnt; i++) {
          if (b[i] + x + x <= b[i + 1]) {
              num++;
              if (num == 1) {
                  b[++bcnt] = b[i] + x;
                  sort(b + 1, b + bcnt + 1);
              }
              if (num == 2) return 1;
          }
      }
      return 0;
  }
  ```

#### 3. **作者：InfiniteRobin (★★★★☆)**
- **关键亮点**：详细的二分法实现，提供了多种情况的验证策略。
- **核心思想**：通过二分法确定最大距离，并在验证时考虑不同情况（如开头、结尾、中间）的插入策略。
- **代码实现**：
  ```cpp
  bool check(int mid) {
      int cow = 0, zero = 0;
      bool f = (a[1] == 0), f1 = 1;
      for (int i = 1; i <= n && cow < 2; i++) {
          if (a[i] == 0) zero++;
          else {
              if (f && f1) {
                  if (zero >= mid) {
                      cow++;
                      if (zero >= 2 * mid) return 1;
                  }
                  f1 = 0;
              } else {
                  if (zero >= 2 * mid - 1) {
                      cow++;
                      if (zero >= 3 * mid - 1) return 1;
                  }
              }
              zero = 0;
          }
      }
      if (zero >= mid) {
          cow++;
          if (zero >= 2 * mid) return 1;
      }
      return cow >= 2;
  }
  ```

### 最优关键思路与技巧

1. **二分法**：通过二分法确定最大距离，结合贪心策略验证是否可行。
2. **贪心策略**：在验证时，尽可能在满足条件的位置插入奶牛，确保距离最大化。
3. **动态更新**：在验证过程中动态更新牛栏位置，确保插入的奶牛满足距离要求。

### 可拓展之处

- **类似题目**：可以拓展到其他需要最大化或最小化某个距离的问题，如最大化最小间隔、最小化最大间隔等。
- **算法套路**：二分法结合贪心策略是解决此类问题的常见套路，适用于多种场景。

### 推荐题目

1. **P1083 [NOIP2012 提高组] 借教室**：考察二分法与区间操作的结合。
2. **P2678 [NOIP2015 提高组] 跳石头**：二分法与贪心策略的结合，最大化最小距离。
3. **P1843 [USACO08NOV] Cow Photographs G**：二分法与贪心策略的结合，最大化最小间隔。

### 个人心得总结

- **调试经历**：部分题解提到在调试过程中遇到的困难，如边界条件的处理、特殊情况的考虑等，这些经验对于解决类似问题非常有帮助。
- **顿悟感想**：通过二分法结合贪心策略，可以有效地解决最大化或最小化距离的问题，这种思路在多种场景下都适用。

---
处理用时：35.92秒
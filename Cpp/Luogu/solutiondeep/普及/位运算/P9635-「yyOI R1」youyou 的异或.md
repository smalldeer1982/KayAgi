# 题目信息

# 「yyOI R1」youyou 的异或

## 题目背景

youyou 非常菜，但是他很喜欢构造奇奇怪怪的数列。

## 题目描述

本题评测方式为 **Special Judge**。

youyou 很喜欢数列，所以他想让你构造一个长度为 $n$ 的**正整数**序列 $\{a_i\}$。

youyou 很喜欢[异或](https://oi-wiki.org/math/bit/#%E4%B8%8E%E6%88%96%E5%BC%82%E6%88%96)，所以他要求构造出的序列满足 $a_1 \oplus a_2 \oplus a_3 \oplus \cdots \oplus a_{n-1} \oplus a_n = n$（记 $\oplus$ 表示异或）。

youyou 非常讨厌相同的数，所以他要求序列中所有数**互不相同**。

但 youyou 不想让这个序列的数太大，所以他要求序列中所有数的总和不超过 $n^2$，即 $\displaystyle\sum_{i=1}^n a_i \le n^2$。

现在你需要构造出一个序列从而满足 youyou 的所有要求。如果无解，输出 `-1` 。如果有多种答案，输出任意一个序列即可。

你需要回答 $T$ 组数据。

## 说明/提示

### 样例解释
对于 $n = 1$ 时，一种可行的解为 $\{1\}$。

对于 $n = 2$ 时，一种可行的解为 $\{3,1\}$。

对于 $n = 5$ 时，一种可行的解为 $\{1,4,5,3,6\}$，因为 $1 ⊕  4 ⊕ 5  ⊕ 3 ⊕ 6 = 5$，且 $1+4+5+3+6 =19\le 5^2$，序列中每个数也互不相同。


### 数据范围
对于 $5\%$ 的数据，$n \le 5$。

对于 $15\%$ 的数据，$n \le 10$。

对于 $40\%$ 的数据，$n \le 1000$。

对于 $70\%$ 的数据， $n \le 10^5$。

对于 $100\%$ 的数据，$1 \le n \le 5 × 10^5$，$1 \le T \le 10$。


## 样例 #1

### 输入

```
3
1
2
5```

### 输出

```
1
3 1
1 4 5 3 6```

# AI分析结果

### 综合分析与结论

本题的核心在于构造一个满足异或和、互不相同且总和不超过 \(n^2\) 的序列。题解中，大部分作者通过打表或观察规律，找到了不同 \(n \mod 4\) 情况下的构造方法。虽然部分题解思路相似，但在细节处理和代码实现上有所不同。以下是对各题解的简要分析与评分。

### 所选高星题解

#### 1. **作者：continueOI (赞：11)**
- **星级**：★★★★★
- **关键亮点**：
  - 通过打表找规律，详细分析了 \(n \mod 4\) 的不同情况，并给出了严格的数学证明。
  - 代码简洁，逻辑清晰，直接根据 \(n \mod 4\) 的情况输出结果。
  - 提供了详细的数学性质证明，增强了题解的可信度。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n-2;i++) cout<<i<<' ';
  if(n%4==0) cout<<n-1<<' '<<n<<'\n';
  if(n%4==1){
      int sum=1;
      while(sum<n) sum*=2;
      cout<<sum<<' '<<sum+n<<'\n';
  }
  if(n%4==2) cout<<n-1<<' '<<n+1<<'\n';
  if(n%4==3){
      int sum=1;
      while(sum<n) sum*=2;
      cout<<sum<<' '<<sum+n-1<<'\n';
  }
  ```
- **个人心得**：作者通过打表发现了规律，并通过数学性质证明了构造的正确性，展示了从观察到证明的完整思考过程。

#### 2. **作者：youyou2007 (赞：10)**
- **星级**：★★★★☆
- **关键亮点**：
  - 作为出题人，提供了详细的构造思路，特别是对 \(n \mod 4\) 不同情况的分类讨论。
  - 代码实现简洁，直接根据 \(n \mod 4\) 的情况输出序列。
  - 提供了边界情况的处理，如 \(n=3\) 无解。
- **核心代码**：
  ```cpp
  if(n%4==0){
      for(int i=1;i<=n;i++) printf("%d ",i);
  }
  else if(n%4==1){
      for(int i=2;i<n-1;i+=2) printf("%d %d ",i,i+1);
      printf("%d %d %d ",n,n+1,n+2);
  }
  else if(n%4==3){
      for(int i=2;i<n-1;i+=2) printf("%d %d ",i,i+1);
      printf("%d %d %d ",n-1,n+1,n+2);
  }
  else{
      for(int i=1;i<=n-1;i++) printf("%d ",i);
      printf("%d ",n+1);
  }
  ```
- **个人心得**：出题人详细解释了构造思路，特别是对 \(n \mod 4\) 不同情况的分类讨论，展示了出题人的设计意图。

#### 3. **作者：Im_airman (赞：9)**
- **星级**：★★★★☆
- **关键亮点**：
  - 通过暴力打表找规律，发现序列的前 \(n-2\) 项为 \(1\) 到 \(n-2\)，后两项通过枚举和计算得出。
  - 代码实现简单，直接根据规律输出序列。
  - 提供了暴力打表的思路，适合初学者理解。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n-2;i++){
      ans^=i,sum+=i;
      cout<<i<<" ";
  }
  for(int i=n-1;i<=n*n-sum;i++){
      if(((ans^i)^n)+sum<=n*n && ((ans^i)^n)>n-2){
          cout<<i<<" "<<((ans^i)^n)<<"\n";
          break;
      }
  }
  ```
- **个人心得**：作者通过暴力打表找规律，展示了从暴力到优化的思考过程，适合初学者学习。

### 最优关键思路总结

1. **分类讨论**：根据 \(n \mod 4\) 的不同情况，分别构造序列。这是本题的核心思路，通过分类讨论可以简化问题。
2. **打表找规律**：通过暴力打表，观察序列的规律，进而推导出通用的构造方法。
3. **数学性质**：利用异或的性质（如偶数与奇数的异或结果）来证明构造的正确性。

### 拓展思路与推荐题目

1. **同类型题目**：
   - **洛谷 P3911**：最小异或生成树，考察异或性质与构造。
   - **洛谷 P4551**：最长异或路径，考察异或性质与树结构。
   - **洛谷 P3812**：线性基与异或最大值，考察异或与线性基的结合。

2. **拓展思路**：本题的构造思路可以推广到其他需要满足特定性质的序列构造问题，如构造满足特定和、积或其他运算性质的序列。通过分类讨论和数学性质的应用，可以简化复杂问题的求解过程。

---
处理用时：41.24秒
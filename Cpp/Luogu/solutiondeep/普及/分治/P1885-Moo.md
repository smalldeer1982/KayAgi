# 题目信息

# Moo

## 题目描述

奶牛 Bessie 最近在学习字符串操作，它用如下的规则逐一的构造出新的字符串：

$S(0) =$ `moo`

$S(1) = S(0) +$ `m` $+$ `ooo` $+ S(0) =$ `moo` $+$ `m` $+$ `ooo` $+$ `moo` $=$ `moomooomoo`

$S(2) = S(1) +$ `m` $+$ `oooo` $+ S(1) =$ `moomooomoo` $+$ `m` $+$ `oooo` $+$  `moomooomoo` $=$ `moomooomoomoooomoomooomoo`

$\dots$

Bessie 就这样产生字符串，直到最后产生的那个字符串长度不小于读入的整数 $N$ 才停止。

通过上面观察，可以发现第 $k$ 个字符串是由：第 $k-1$ 个字符串 $+$ `m` $+$  $(k+2$ 个 $o) +$ 第 $k-1$ 个字符串连接起来的。

现在的问题是：给出一个整数 $N (1 \leq N \leq 10^9)$，问第 $N$ 个字符是字母 `m` 还是 `o`？


## 说明/提示

样例解释：

由题目所知：字符串 $S(0)$ 是 `moo`, 现在要求第 $11$ 个字符，显然字符串 $S(0)$ 不够长；

同样 $S(1)$ 的长度是 $10$，也不够长；$S(2)$ 的长度是 $25$，够长了，$S(2)$ 的第 $11$ 个字符是 `m`，所以答案就输出 `m`。


## 样例 #1

### 输入

```
11```

### 输出

```
m```

# AI分析结果



### 综合分析  
所有题解均采用分治策略，核心思路是将问题分解为三段：前一部分字符串、中间固定字符(m+o)、后一部分字符串。关键在于递归定位N所在的区段，并根据中间区段的规则直接判断或继续递归。不同实现主要在预处理长度数组、递归终止条件处理上略有差异。

---

### 精选题解与评分

#### 1. 作者：Starlight237（⭐⭐⭐⭐⭐）  
**关键亮点**：  
- 预处理长度数组逻辑清晰，递归函数结构简洁  
- 三段式分治条件判断明确，代码可读性强  
**核心思路**：  
```cpp
void dg(int m,int N){
    while(len[m-1]>N)--m; // 找到合适层数
    if(N==len[m-1]+1) return 'm'; // 中间m位置
    else if(N<=len[m-1]+m+2) return 'o'; // 中间o区
    dg(m-1,N-len[m-1]-m-2); // 递归处理右侧
}
```

#### 2. 作者：FC是女孩子（⭐⭐⭐⭐）  
**关键亮点**：  
- 动态计算长度无需预存数组，空间效率更优  
- 通过数学推导直接定位，代码短小精悍  
**核心代码**：  
```cpp
while(t>0) {
    t=(t-k)/2; // 回退到前一层长度
    if(m>t) {
        if(m<=t+k) { // 中间区判断
            if(m==t+1) return 'm';
            else return 'o';
        } else m -= (t+k); // 调整到右侧
    }
    k--;
}
```

#### 3. 作者：龙翔凤翥（⭐⭐⭐⭐）  
**个人心得**：  
- 明确将字符串分为三个区间处理  
- 注释详细，边界处理易理解  
**核心片段**：  
```cpp
if(x<=a[m-1]) return check(x,m-1); // 左区间递归
if(x>a[m]-a[m-1]) return check(x-(a[m]-a[m-1]),m-1); // 右区间递归
if(x==a[m-1]+1) return 'm'; // 中间m
else return 'o'; // 中间o
```

---

### 最优思路总结  
**关键技巧**：  
1. **分治三段式**：将字符串分解为 S(k-1) + [m+o...] + S(k-1)，递归处理左右两侧  
2. **长度预处理**：递推公式 len[k] = 2*len[k-1] + (k+3)，快速定位N所在层级  
3. **数学推导定位**：通过长度回退与偏移调整，将问题规模指数级缩小  

**调试经验**：  
- 注意中间区段长度计算为k+3（m占1位，o占k+2位）  
- 处理右侧递归时需正确计算偏移：n = n - (前段长度 + 中间长度)  

---

### 推荐相似题目  
1. [P1498 南蛮图腾](https://www.luogu.com.cn/problem/P1498) - 分形图形递归构造  
2. [P1228 地毯填补问题](https://www.luogu.com.cn/problem/P1228) - 分治棋盘覆盖  
3. [P5461 赦免战俘](https://www.luogu.com.cn/problem/P5461) - 矩阵递归分割

---
处理用时：58.30秒
# 题目信息

# 排行榜

## 题目描述

小迈克尔住在一个小镇上，他喜欢看每周日下午发布的音乐电视评比。它每周都根据选票介绍相同的歌曲，列出这些歌曲的流行排行榜。

有一个星期日迈克尔和他的朋友在一起玩得太久了以致于未能看到新的流行榜。他非常失望，但是不久他就发现下周至少可以部分地建立出流行榜。除了每首歌曲的位置，排行榜还根据这些歌曲上周的排行列出了它们排行变动的信息，更精确地说，从这周起，不管那首歌是继续排在原位，还是排名上升或排名下降，都会给出一点说明。

编写程序，根据给定的流行榜帮助迈克尔推断出上周可能的排行榜。


## 样例 #1

### 输入

```
5
HIGHHOPES
UP
LOWFEELINGS
UP
UPANDDOWN
DOWN
IAMSTILLSTANDING
DOWN
FOOLINGAROUND
DOWN
```

### 输出

```
UPANDDOWN
IAMSTILLSTANDING
FOOLINGAROUND
HIGHHOPES
LOWFEELINGS
```

# AI分析结果

### 综合分析与结论

本题的核心是通过当前排行榜和歌曲的变动信息，推断出上周可能的排行榜。大多数题解都采用了类似的思路：将歌曲分为三类（UP、DOWN、SAME），分别处理。SAME的歌曲直接保留在原位，DOWN的歌曲尽量放在前面，UP的歌曲尽量放在后面。这种思路简单直观，且能够保证输出一个合法的解。

### 题解评分与亮点

#### 1. 作者：OnlyU (赞：59)  
**星级：4.5**  
**关键亮点：**  
- 思路清晰，代码简洁，易于理解。
- 使用数组分别存储UP和DOWN的歌曲，最后按顺序输出。
- 代码可读性高，适合初学者学习。

**核心代码：**
```cpp
for(int i=1; i<=n; i++) {
    if(ans[i]!="")continue;
    else {
        if(now1<down) {
            now1++;
            ans[i]=Sdown[now1];
        } else {
            now2++;
            ans[i]=Sup[now2];
        }
    }
}
```
**实现思想：** 先处理SAME的歌曲，然后依次将DOWN和UP的歌曲填入空缺的位置。

#### 2. 作者：SofanHe (赞：41)  
**星级：4.0**  
**关键亮点：**  
- 使用STL中的queue来存储UP和DOWN的歌曲，简化了处理逻辑。
- 通过bool数组标记SAME的歌曲，避免了重复处理。

**核心代码：**
```cpp
for(int i=1;i<=n;i++){
    if(sa[i]==1)cout<<name[i]<<endl;
    else{
        if(!fr.empty()){cout<<name[fr.front()]<<endl;fr.pop();}
        else if(!en.empty()){cout<<name[en.front()]<<endl;en.pop();}
    }
}
```
**实现思想：** 使用两个队列分别存储DOWN和UP的歌曲，按顺序输出。

#### 3. 作者：dingcx (赞：33)  
**星级：4.0**  
**关键亮点：**  
- 使用指针来跳过已经被SAME占用的位置，确保DOWN和UP的歌曲能够正确填入。
- 代码结构清晰，逻辑严谨。

**核心代码：**
```cpp
for(int i=1;i<=n;i++){
    if(st[i][0]=='D'){
        while(ans[front]) front++;
        ans[front]=i;
    }
}
```
**实现思想：** 使用指针跳过被占用的位置，确保DOWN和UP的歌曲能够正确填入。

### 最优关键思路与技巧

1. **分类处理：** 将歌曲分为UP、DOWN、SAME三类，分别处理，简化问题。
2. **顺序填充：** 先处理SAME的歌曲，然后按顺序填充DOWN和UP的歌曲，确保输出合法。
3. **标记法：** 使用标记数组或指针跳过已被占用的位置，避免重复处理。

### 可拓展之处

- **类似问题：** 这种分类处理、顺序填充的思路可以应用于其他需要根据条件重新排列元素的题目，如任务调度、资源分配等。
- **优化方向：** 可以考虑使用更高效的数据结构（如优先队列）来进一步优化处理逻辑。

### 推荐题目

1. **P1160 队列安排** - 考察队列的基本操作和顺序处理。
2. **P1090 合并果子** - 考察优先队列的使用和贪心算法。
3. **P1047 校门外的树** - 考察区间处理和标记法。

### 个人心得摘录

- **OnlyU：** “其实这道题是一道非常水的模拟题，看了一遍题目后发现这样的规律：排行不变的歌当然不变，排行下滑的歌先输出，排行上升的歌后输出就好了。”  
  **总结：** 通过观察题目规律，快速找到解题思路，适合初学者学习。

- **SofanHe：** “对于正式比赛中，如果不开O2的话，STL可能会很慢，所以我们可以考虑使用数组。”  
  **总结：** 在实际比赛中，优化代码效率非常重要，STL虽然方便，但有时需要手动优化。

- **dingcx：** “难道所有绿题都是图论线段树动态规划吗？不是！比如这道题，它就是个**纯模拟**。”  
  **总结：** 不要被题目难度标签吓到，有些题目虽然标为绿题，但实际是简单的模拟题。

---
处理用时：26.93秒
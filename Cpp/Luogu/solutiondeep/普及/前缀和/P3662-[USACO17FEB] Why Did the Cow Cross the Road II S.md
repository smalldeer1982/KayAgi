# 题目信息

# [USACO17FEB] Why Did the Cow Cross the Road II S

## 题目描述

穿过 Farmer John 农场的长路上有 $N$ 个人行横道，方便地用编号 $1 \ldots N$ 标识（$1 \leq N \leq 100,000$）。为了让奶牛能够通过这些横道过马路，FJ 安装了电子过马路信号灯，当奶牛可以安全过马路时，信号灯会显示绿色的奶牛图标，否则显示红色。不幸的是，一场大雷暴损坏了他的一些信号灯。给定损坏信号灯的列表，请计算 FJ 需要修复的最少信号灯数量，以便存在至少 $K$ 个连续的信号灯正常工作。

## 样例 #1

### 输入

```
10 6 5
2
10
1
5
9```

### 输出

```
1```

# AI分析结果

### 综合分析与结论

本题的核心问题是在一个长度为N的序列中，找到一个长度为K的连续子区间，使得该区间内损坏的信号灯数量最少。大多数题解都采用了**前缀和**或**滑动窗口**的思路，时间复杂度为O(N)，能够高效解决问题。

#### 最优关键思路：
1. **前缀和**：通过预处理前缀和数组，可以在O(1)时间内查询任意区间的损坏信号灯数量，从而快速找到最小修复数量的区间。
2. **滑动窗口**：通过维护一个长度为K的窗口，每次移动窗口时只需更新窗口两端的损坏信号灯数量，避免了重复计算，同样实现了O(N)的时间复杂度。

#### 可拓展之处：
- **前缀和**的应用非常广泛，适用于需要频繁查询区间和的场景，如区间最大值、最小值、平均值等。
- **滑动窗口**常用于处理连续子数组或子序列问题，如最大子数组和、最小覆盖子串等。

### 所选高星题解

#### 1. 作者：Anguei (5星)
- **关键亮点**：思路清晰，代码简洁，使用了前缀和优化，时间复杂度为O(N)，代码可读性强。
- **核心代码**：
  ```cpp
  rep(i, 1, n) s[i] = s[i - 1] + a[i];
  rep(i, k, n) ans = std::min(ans, s[i] - s[i - k]);
  ```
  **实现思想**：通过前缀和数组快速计算任意区间的损坏信号灯数量，并取最小值。

#### 2. 作者：船医 (4星)
- **关键亮点**：使用队列模拟滑动窗口，思路清晰，代码简洁，时间复杂度为O(N)。
- **核心代码**：
  ```cpp
  for(int i=k+1;i<=n;i++) {
      q.push(i);
      if(d[i]==1) sum++;
      if(d[q.front()]) sum--;
      q.pop();
      ans=min(ans,sum);
  }
  ```
  **实现思想**：通过队列维护滑动窗口，每次移动窗口时更新损坏信号灯数量，并取最小值。

#### 3. 作者：entity (4星)
- **关键亮点**：使用滑动窗口思想，代码简洁，时间复杂度为O(N)，思路清晰。
- **核心代码**：
  ```cpp
  for(int i=k+1;i<=n;i++) {
      if(dat[i-k]) t--;
      if(dat[i]) t++;
      minn=min(minn,t);
  }
  ```
  **实现思想**：通过滑动窗口维护当前窗口内的损坏信号灯数量，并取最小值。

### 推荐题目
1. **P1886 滑动窗口**：考察滑动窗口的基本应用。
2. **P1714 切蛋糕**：考察前缀和与滑动窗口的结合。
3. **P1638 逛画展**：考察滑动窗口在区间问题中的应用。

### 个人心得摘录
- **Anguei**：通过前缀和优化，避免了重复计算，大大提高了效率。
- **船医**：使用队列模拟滑动窗口，思路清晰，代码简洁，调试过程中发现队列操作的关键点在于及时更新sum值。
- **entity**：滑动窗口的思想简单易懂，但在实现时需要注意窗口移动时的边界条件。

### 总结
前缀和与滑动窗口是解决此类区间问题的有效工具，掌握这两种方法可以大大提高解题效率。

---
处理用时：20.72秒
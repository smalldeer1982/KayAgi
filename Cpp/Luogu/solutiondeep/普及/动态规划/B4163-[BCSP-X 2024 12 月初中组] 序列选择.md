# 题目信息

# [BCSP-X 2024 12 月初中组] 序列选择

## 题目描述

给定两个长度为 $ n $ 的序列 $ a, b $，找出一个长为 $ n $ 的序列 $ c $，满足对于 $ i = 1, 2, \cdots, n $，有 $ c_i = a_i $ 或 $ c_i = b_i $，使得 $\sum_{i=2}^{n} |c_i - c_{i-1}|$ 最小，你只需要输出这个最小值。


## 说明/提示

### 样例 1 解释
令序列 $ c = [2, 3, 4, 2, 1] $，此时 $\sum_{i=2}^{n} |c_i - c_{i-1}| = 5$，可以证明不存在更小的答案。

### 样例 2

见附件的 `seq/seq2.in` 与 `seq/seq2.ans`。

### 数据范围

- 对于 $20\%$ 的数据，满足 $n\leq 20$。
- 对于 $100\%$ 的数据，满足 $1\leq n\leq 2\times 10^5$，$0\leq |a_i|,|b_i|\leq 10^9$。

## 样例 #1

### 输入

```
5
1 3 4 2 5
2 5 4 2 1```

### 输出

```
5```

# AI分析结果

### 综合分析与结论

题目要求从两个序列中选择元素构成一个新序列，使得相邻元素的绝对差之和最小。由于序列长度可能达到 $2 \times 10^5$，因此需要高效的算法来解决这个问题。

由于暂无题解，我将基于题目要求提供通用建议与扩展思路。

### 通用建议与扩展思路

1. **动态规划**：这是一个典型的动态规划问题。我们可以定义状态 $dp[i][j]$，其中 $i$ 表示当前处理到第 $i$ 个元素，$j$ 表示第 $i$ 个元素选择的是 $a_i$ 还是 $b_i$。状态转移方程可以表示为：
   \[
   dp[i][0] = \min(dp[i-1][0] + |a_i - a_{i-1}|, dp[i-1][1] + |a_i - b_{i-1}|)
   \]
   \[
   dp[i][1] = \min(dp[i-1][0] + |b_i - a_{i-1}|, dp[i-1][1] + |b_i - b_{i-1}|)
   \]
   最终答案为 $\min(dp[n][0], dp[n][1])$。

2. **空间优化**：由于每个状态只依赖于前一个状态，因此可以使用滚动数组来优化空间复杂度，将空间复杂度从 $O(n)$ 降低到 $O(1)$。

3. **边界条件**：初始化时，$dp[1][0] = 0$ 和 $dp[1][1] = 0$，因为第一个元素选择 $a_1$ 或 $b_1$ 都不会产生差值。

### 关键实现代码

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

int main() {
    int n;
    cin >> n;
    vector<int> a(n), b(n);
    for (int i = 0; i < n; ++i) cin >> a[i];
    for (int i = 0; i < n; ++i) cin >> b[i];
    
    long long dp0 = 0, dp1 = 0;
    for (int i = 1; i < n; ++i) {
        long long new_dp0 = min(dp0 + abs(a[i] - a[i-1]), dp1 + abs(a[i] - b[i-1]));
        long long new_dp1 = min(dp0 + abs(b[i] - a[i-1]), dp1 + abs(b[i] - b[i-1]));
        dp0 = new_dp0;
        dp1 = new_dp1;
    }
    
    cout << min(dp0, dp1) << endl;
    return 0;
}
```

### 推荐题目

1. **P1219 [USACO1.5]八皇后 Checker Challenge**（动态规划与回溯）
2. **P1048 [NOIP2005 普及组] 采药**（背包问题，动态规划）
3. **P1091 [NOIP2004 提高组] 合唱队形**（动态规划与序列处理）

### 总结

本题的核心在于使用动态规划来处理序列选择问题，并通过滚动数组优化空间复杂度。类似的序列处理问题在动态规划中非常常见，掌握这种思路可以帮助解决更多复杂的序列问题。

---
处理用时：20.45秒
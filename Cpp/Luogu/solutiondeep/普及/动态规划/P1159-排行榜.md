# 题目信息

# 排行榜

## 题目描述

小迈克尔住在一个小镇上，他喜欢看每周日下午发布的音乐电视评比。它每周都根据选票介绍相同的歌曲，列出这些歌曲的流行排行榜。

有一个星期日迈克尔和他的朋友在一起玩得太久了以致于未能看到新的流行榜。他非常失望，但是不久他就发现下周至少可以部分地建立出流行榜。除了每首歌曲的位置，排行榜还根据这些歌曲上周的排行列出了它们排行变动的信息，更精确地说，从这周起，不管那首歌是继续排在原位，还是排名上升或排名下降，都会给出一点说明。

编写程序，根据给定的流行榜帮助迈克尔推断出上周可能的排行榜。


## 样例 #1

### 输入

```
5
HIGHHOPES
UP
LOWFEELINGS
UP
UPANDDOWN
DOWN
IAMSTILLSTANDING
DOWN
FOOLINGAROUND
DOWN
```

### 输出

```
UPANDDOWN
IAMSTILLSTANDING
FOOLINGAROUND
HIGHHOPES
LOWFEELINGS
```

# AI分析结果

### 综合分析与结论

本题的核心是通过当前排行榜和歌曲的变动信息，推断出上周可能的排行榜。大多数题解采用了类似的思路：将歌曲分为“UP”、“DOWN”和“SAME”三类，分别处理。其中，“SAME”类歌曲直接保留在原位，“DOWN”类歌曲尽量放在前面，“UP”类歌曲尽量放在后面。这种思路简单直观，且能够满足题目要求。

多数题解使用了数组或队列来存储和排序歌曲，部分题解还使用了标记数组来避免重复处理。整体来看，题解的思路较为一致，但在代码实现和优化上存在差异。

### 所选高星题解

#### 1. 作者：OnlyU (赞：59)  
**星级：4.5**  
**关键亮点：**  
- 使用数组分别存储“UP”、“DOWN”和“SAME”类歌曲，思路清晰。
- 通过两个指针分别处理“DOWN”和“UP”类歌曲，确保它们被正确放置。
- 代码简洁，易于理解。

**核心代码：**
```cpp
for(int i=1; i<=n; i++) {
    if(ans[i]!="")continue;
    else {
        if(now1<down) {
            now1++;
            ans[i]=Sdown[now1];
        } else {
            now2++;
            ans[i]=Sup[now2];
        }
    }
}
```
**核心思想：** 通过两个指针分别处理“DOWN”和“UP”类歌曲，确保它们被正确放置。

#### 2. 作者：SofanHe (赞：41)  
**星级：4**  
**关键亮点：**  
- 使用`queue`数据结构来存储“UP”和“DOWN”类歌曲，利用队列的先进先出特性，简化了排序过程。
- 使用`bool`数组标记“SAME”类歌曲的位置，避免重复处理。

**核心代码：**
```cpp
for(int i=1; i<=n; i++) {
    if(sa[i]==1)cout<<name[i]<<endl;
    else {
        if(!fr.empty()){cout<<name[fr.front()]<<endl;fr.pop();}
        else if(!en.empty()){cout<<name[en.front()]<<endl;en.pop();}
    }
}
```
**核心思想：** 使用队列存储“UP”和“DOWN”类歌曲，利用队列的先进先出特性，简化排序过程。

#### 3. 作者：dingcx (赞：33)  
**星级：4**  
**关键亮点：**  
- 使用两个指针分别从前往后和从后往前处理“DOWN”和“UP”类歌曲，确保它们被正确放置。
- 通过`while`循环跳过已被“SAME”类歌曲占据的位置，避免冲突。

**核心代码：**
```cpp
for(int i=1; i<=n; i++) {
    if(st[i][0]=='D') {
        while(ans[front]) front++;
        ans[front]=i;
    }
}
```
**核心思想：** 使用两个指针分别处理“DOWN”和“UP”类歌曲，确保它们被正确放置。

### 最优关键思路与技巧

1. **分类处理：** 将歌曲分为“UP”、“DOWN”和“SAME”三类，分别处理，简化问题。
2. **标记数组：** 使用标记数组记录“SAME”类歌曲的位置，避免重复处理。
3. **队列或指针：** 使用队列或指针分别处理“UP”和“DOWN”类歌曲，确保它们被正确放置。

### 可拓展之处

本题的思路可以拓展到其他需要根据当前状态推断历史状态的题目，如根据当前学生的成绩和变化情况，推断出他们之前的成绩排名。类似的题目可以通过分类处理和标记数组的思路来解决。

### 推荐相似题目

1. **P1164 小A的糖果**  
   题目链接：https://www.luogu.com.cn/problem/P1164  
   考察知识点：贪心、排序

2. **P1090 合并果子**  
   题目链接：https://www.luogu.com.cn/problem/P1090  
   考察知识点：优先队列、贪心

3. **P1223 排队接水**  
   题目链接：https://www.luogu.com.cn/problem/P1223  
   考察知识点：贪心、排序

### 个人心得摘录

- **OnlyU：** “其实这道题是一道非常水的模拟题，看了一遍题目后发现这样的规律：排行不变的歌当然不变，排行下滑的歌先输出，排行上升的歌后输出就好了。”  
  **总结：** 通过简单的分类处理，问题变得非常直观。

- **SofanHe：** “对于正式比赛中，如果不开O2的话，STL可能会很慢，所以我们可以考虑使用数组。”  
  **总结：** 在实际比赛中，优化代码性能是非常重要的，尤其是在处理大规模数据时。

- **dingcx：** “难道所有绿题都是图论线段树动态规划吗？不是！比如这道题，它就是个**纯模拟**。”  
  **总结：** 不要被题目的难度标签吓到，有些题目其实可以通过简单的模拟来解决。

---
处理用时：33.99秒
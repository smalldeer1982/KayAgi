# 题目信息

# 求m区间内的最小值

## 题目描述

一个含有 $n$ 项的数列，求出每一项前的 $m$ 个数到它这个区间内的最小值。若前面的数不足 $m$ 项则从第 $1$ 个数开始，若前面没有数则输出 $0$。

## 说明/提示

对于 $100\%$ 的数据，保证 $1\le m\le n\le2\times10^6$，$1\le a_i\le3\times10^7$。

## 样例 #1

### 输入

```
6 2
7 8 1 4 3 2
```

### 输出

```
0
7
7
1
1
3 
```

# AI分析结果

### 综合分析与结论

本题要求在一个数列中，求每个元素前m个元素的最小值。题解中主要采用了以下几种方法：
1. **单调队列**：这是最优解，时间复杂度为O(n)，空间复杂度为O(n)。通过维护一个单调递增的队列，确保队首元素始终是当前窗口的最小值。
2. **线段树**：时间复杂度为O(n log n)，空间复杂度为O(n)。通过构建线段树来维护区间最小值，适合处理区间查询问题。
3. **ST表**：时间复杂度为O(n log n)，空间复杂度为O(n log n)。通过预处理和查询来获取区间最小值，但由于空间限制，部分题解未能通过。

总体来看，单调队列是最优的解决方案，适合本题的数据规模。线段树和ST表虽然也能解决问题，但在时间和空间上不如单调队列高效。

### 所选高星题解

#### 1. 题解作者：炳源 (赞：129)
- **星级**：★★★★★
- **关键亮点**：详细解释了单调队列的原理，并提供了手写版和STL版的代码实现，适合初学者理解。
- **个人心得**：作者提到“单调队列的时间复杂度很优，但是不能修改而且于堆相比应用面就比较的小，主要还是应用于dp优化中”，强调了单调队列的适用场景。

**核心代码**：
```cpp
while((head <= tail)&&(v[tail].val >= a[i - 1])) tail--;
v[++tail].val = a[i - 1];
while((head <= tail)&&(v[head].pos < i - m)) head++;
min_que[i] = v[head].val;
```
**实现思想**：通过维护一个单调递增的队列，确保队首元素始终是当前窗口的最小值。

#### 2. 题解作者：lcglcg (赞：43)
- **星级**：★★★★☆
- **关键亮点**：通过构造单调递增的队列，每次输出队首元素，确保队首元素是当前窗口的最小值。
- **个人心得**：作者提到“单调队列的性质，如果我们想要将一个新的点插入，先看样例”，通过样例详细解释了单调队列的维护过程。

**核心代码**：
```cpp
while(a[i]<a[q[r]] && l<=r) r--;
q[++r]=i;
while(i-q[l]+1>m) l++;
printf("%d",a[q[l]]);
```
**实现思想**：通过维护一个单调递增的队列，确保队首元素始终是当前窗口的最小值。

#### 3. 题解作者：Aurora__ (赞：34)
- **星级**：★★★★☆
- **关键亮点**：使用RMQ+滚动数组优化，通过降维减少空间复杂度，适合处理大规模数据。
- **个人心得**：作者提到“滚动数组的作用在于优化空间，主要应用在递推或动态规划中”，强调了滚动数组的优化作用。

**核心代码**：
```cpp
while (l^r^1) {
    if (~l&1) ans = min(ans, tree[l^1]);
    if (r&1) ans = min(ans, tree[r^1]);
    l >>= 1, r >>= 1;
}
```
**实现思想**：通过滚动数组优化RMQ，减少空间复杂度，确保查询效率。

### 最优关键思路与技巧
1. **单调队列**：通过维护一个单调递增的队列，确保队首元素始终是当前窗口的最小值。适用于滑动窗口类问题。
2. **滚动数组**：通过降维减少空间复杂度，适合处理大规模数据，常用于动态规划中。
3. **线段树**：通过构建线段树来维护区间最小值，适合处理区间查询问题。

### 可拓展之处
1. **滑动窗口问题**：单调队列不仅适用于求最小值，还可以用于求最大值、中位数等。
2. **动态规划优化**：滚动数组可以用于优化动态规划中的空间复杂度，适合处理大规模数据。
3. **区间查询问题**：线段树和ST表可以用于处理区间查询问题，如区间和、区间最大值等。

### 推荐题目
1. [P1886 滑动窗口](https://www.luogu.org/problem/P1886)
2. [P2032 扫描](https://www.luogu.org/problem/P2032)
3. [P1816 忠诚](https://www.luogu.org/problem/P1816)

---
处理用时：35.89秒
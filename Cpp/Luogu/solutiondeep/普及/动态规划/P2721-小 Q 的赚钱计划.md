# 题目信息

# 小 Q 的赚钱计划

## 题目背景

小 Q（郑重其事地）：今年我一定要赚大钱！！！


## 题目描述

小 Q 决定在新的一年里赚大钱，小 P 给 TA 推荐了理财。小 Q 在今年初（非闰年）有 $10^5$ 元（好有钱啊），有 $N$ 个理财产品，每个理财产品用三个参数描述：购买时间，投资天数，年利息率。每个时刻小 Q 只能拥有最多一件产品，求一年后最多可以获得多少钱。


## 说明/提示

$0 \le N \le 10^4$

## 样例 #1

### 输入

```
3
0101 100 4.5
0201 30 5
0402 50 7.8```

### 输出

```
101483.84```

# AI分析结果

### 综合分析与结论

本题的核心是通过动态规划（DP）来解决小 Q 的理财问题。所有题解都采用了 DP 的思路，基本思路是定义 `dp[i]` 表示第 `i` 天的最大收益，然后通过状态转移方程来更新每天的收益。主要的难点在于如何处理时间格式（MMDD）和计算理财产品的收益。大部分题解都通过预处理月份的天数来将日期转换为一年中的第几天，然后通过遍历理财产品来更新每天的收益。

### 题解评分与亮点

1. **bigclever (5星)**
   - **亮点**：思路清晰，代码简洁，状态转移方程明确，处理时间格式的方式直观。
   - **代码核心**：
     ```cpp
     for(int i=2;i<367;i++){
         dp[i]=dp[i-1];
         for(int j=1;j<=n;j++)
             if(st[j]+day[j]==i)
                 dp[i]=max(dp[i],dp[st[j]]*(1+(lx[j]/100)/365*day[j]));
     }
     ```
   - **个人心得**：作者强调了处理时间格式的重要性，并给出了详细的收益计算公式。

2. **qwerty12346 (4.5星)**
   - **亮点**：代码结构清晰，状态转移方程明确，预处理月份天数的方式简洁。
   - **代码核心**：
     ```cpp
     for(int i=2;i<=366;i++){
         f[i]=f[i-1];
         for(int j=1;j<=n;j++)if(a[j]+b[j]==i)f[i]=max(f[a[j]]*(1+(c[j]/100)/365*b[j]),f[i]);
     }
     ```
   - **个人心得**：作者强调了 DP 的定义和状态转移的重要性，并给出了详细的收益计算公式。

3. **Enzymii (4星)**
   - **亮点**：代码简洁，状态转移方程明确，处理时间格式的方式直观。
   - **代码核心**：
     ```cpp
     for(int i=1;i<=365;i++){
         f[i]=f[i-1];
         for(int j=1;j<=n;j++)
             if(p[j].r==i)
                 f[i]=max(f[i],f[p[j].l-1]*p[j].x);
     }
     ```
   - **个人心得**：作者强调了处理时间格式的重要性，并给出了详细的收益计算公式。

### 最优关键思路或技巧

1. **时间格式处理**：通过预处理月份的天数，将 MMDD 格式的日期转换为一年中的第几天，方便后续计算。
2. **状态转移方程**：`dp[i] = max(dp[i], dp[st[j]] * (1 + (lx[j] / 100) / 365 * day[j]))`，其中 `st[j]` 是理财产品的开始时间，`day[j]` 是投资天数，`lx[j]` 是年利息率。
3. **收益计算**：理财产品的收益计算公式为 `dp[st[j]] * (1 + (lx[j] / 100) / 365 * day[j])`，确保每天的收益最大化。

### 可拓展之处

1. **多维度 DP**：如果理财产品有更多的属性（如风险等级、最低投资金额等），可以考虑多维 DP 来处理。
2. **贪心算法**：在某些情况下，贪心算法可能也能解决问题，尤其是在理财产品之间没有冲突的情况下。

### 推荐题目

1. **P1048 采药**：经典的背包问题，与本题的 DP 思路相似。
2. **P1060 开心的金明**：涉及物品选择和收益最大化，与本题的理财问题类似。
3. **P1541 乌龟棋**：通过 DP 解决路径选择问题，与本题的状态转移思路相似。

### 个人心得总结

- **调试经历**：在处理时间格式时，需要注意月份的天数累加，避免出现日期计算错误。
- **踩坑教训**：在计算理财产品收益时，确保公式正确，避免因计算错误导致收益不准确。
- **顿悟感想**：通过 DP 解决理财问题，关键在于状态的定义和转移方程的准确性，确保每一步都能得到最优解。

---
处理用时：28.12秒
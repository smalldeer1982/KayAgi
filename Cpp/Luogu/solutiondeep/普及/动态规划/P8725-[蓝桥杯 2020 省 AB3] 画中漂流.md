# 题目信息

# [蓝桥杯 2020 省 AB3] 画中漂流

## 题目描述

在梦境中，你踏上了一只木䇝，在江上漂流。

根据对当地的了解，你知道在你下游 $D$ 米处有一个峡谷，如果你向下游前进大于等于 $D$ 米则必死无疑。

现在你打响了急救电话，$T$ 秒后救援队会到达并将你救上岸。水流速度是 $1 \mathrm{~m} / \mathrm{s}$，你现在有 $M$ 点体力。每消耗一点体力，你可以划一秒桨使船向上游前 进 $1 \mathrm{~m}$，否则会向下游前进 $1 \mathrm{~m}$ (水流)。$M$ 点体力需在救援队赶来前花光。因为江面太宽了，凭借你自己的力量不可能上岸。

请问，有多少种划桨的方案可以让你得救。

两个划桨方案不同是指：存在某一秒钟，一个方案划桨，另一个方案不划。

## 说明/提示

对于 $50 \%$ 的评测用例，$1 \leq T \leq 350$。

对于所有评测用例，$1 \leq T \leq 3000,1 \leq D \leq T，1 \leq M \leq 1500$。

蓝桥杯 2020 第三轮省赛 AB 组 I 题。

## 样例 #1

### 输入

```
1 6 3```

### 输出

```
5```

# AI分析结果

### 综合分析与结论

本题的核心是动态规划（DP），通过定义状态 `f[i][j]` 表示在第 `i` 秒剩余 `j` 点体力的方案数，状态转移方程为 `f[i][j] = f[i-1][j] + f[i-1][j+1]`，分别对应不划桨和划桨的两种决策。难点在于如何判断当前状态是否会导致掉入峡谷，即通过计算当前位置与峡谷的距离来判断是否合法转移。

大多数题解都采用了类似的DP思路，但在代码实现和优化上有所不同。部分题解使用了滚动数组优化空间复杂度，还有一些题解在状态转移前进行了特判，避免无效计算。整体来看，题解的质量较高，思路清晰，代码可读性较好。

### 所选题解

#### 1. 作者：FutureSnow (5星)
- **关键亮点**：思路清晰，代码简洁，状态转移方程明确，且在计算当前位置时进行了详细推导，便于理解。
- **代码核心**：
  ```cpp
  int len = d + (m - j) - (i - (m - j));
  if (len > 0) {
      f[i][j] = (f[i - 1][j] + f[i - 1][j + 1]) % mod;
  }
  ```
  **核心思想**：通过计算当前位置与峡谷的距离 `len`，判断是否合法转移。

#### 2. 作者：xiaoxiaoxia (4星)
- **关键亮点**：详细解释了动态规划的三步法（定义数组、状态转移、初始化），适合初学者理解。
- **代码核心**：
  ```cpp
  int shenxia = m - j;
  if (d - i + shenxia * 2 <= 0) continue;
  dp[i][j] = (dp[i - 1][j] + dp[i - 1][j + 1]) % mod;
  ```
  **核心思想**：通过 `shenxia` 计算剩余体力，判断是否会导致掉入峡谷。

#### 3. 作者：Dehydration (4星)
- **关键亮点**：强调了DP的三步法，并在状态转移前进行了特判，避免无效计算。
- **代码核心**：
  ```cpp
  int Xia = (m - j);
  if (d - i + Xia * 2 <= 0) continue;
  dp[i][j] = (dp[i - 1][j] + dp[i - 1][j + 1]) % Mod;
  ```
  **核心思想**：通过 `Xia` 计算剩余体力，判断是否会导致掉入峡谷。

### 最优关键思路与技巧

1. **状态定义**：定义 `f[i][j]` 为第 `i` 秒剩余 `j` 点体力的方案数，最终答案为 `f[t][0]`。
2. **状态转移**：`f[i][j] = f[i-1][j] + f[i-1][j+1]`，分别对应不划桨和划桨的两种决策。
3. **合法性判断**：通过计算当前位置与峡谷的距离，判断是否合法转移。
4. **优化技巧**：使用滚动数组优化空间复杂度，减少内存使用。

### 可拓展之处

- **类似题型**：可以拓展到其他涉及时间、体力、位置等状态的动态规划问题，如“跳台阶”、“背包问题”等。
- **优化思路**：在状态转移前进行特判，避免无效计算，提升算法效率。

### 推荐题目

1. **P1048 采药**：经典的背包问题，考察动态规划的基本应用。
2. **P1216 数字三角形**：动态规划的经典问题，考察状态转移和路径选择。
3. **P1002 过河卒**：动态规划与棋盘问题的结合，考察状态转移和边界处理。

### 个人心得摘录

- **FutureSnow**：通过详细推导当前位置的计算公式，帮助理解状态转移的合法性判断。
- **xiaoxiaoxia**：强调了动态规划的三步法，适合初学者掌握DP的基本思路。
- **Dehydration**：在状态转移前进行了特判，避免无效计算，提升算法效率。

---
处理用时：28.46秒
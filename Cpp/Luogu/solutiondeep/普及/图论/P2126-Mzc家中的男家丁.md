# 题目信息

# Mzc家中的男家丁

## 题目背景

mzc 与 djn 的…还没有众人皆知，所以我们要来宣传一下。


## 题目描述

mzc 家很有钱（开玩笑），他家有 $n$ 个男家丁，现在 mzc 要将她们全都聚集起来（干什么就不知道了）。现在知道 mzc 与男家丁们互相之间通信的时间，请算出把他们每个人叫到需要的总时间（要重复的哦）。保证能把他们每个人叫到。

## 说明/提示

$n\leq2300,m\leq4\times10^5$


## 样例 #1

### 输入

```
5
12
0 2 15
2 3 20
3 5 13
1 3 29
0 1 30
2 4 21
0 3 23
5 1 48
0 4 17
0 5 27
1 2 43
2 5 41
```

### 输出

```
94
```

# AI分析结果

### 综合分析与结论
本题是最小生成树的裸题，题解主要使用了Kruskal和Prim两种算法来求解。Kruskal算法基于贪心思想，通过并查集维护图的连通性，将边按权值排序后依次选择；Prim算法则是从一个点开始，不断选择距离已处理点集最近的点并更新距离。

各题解思路清晰，都围绕最小生成树展开，但在算法选择、代码实现和优化程度上有所差异。Kruskal算法在稀疏图中更具优势，Prim算法在稠密图中表现较好。

### 所选题解
- **作者：Hydrogen_Helium (赞：18)，4星**
    - **关键亮点**：思路清晰，详细解释了Kruskal算法的原理和流程，并配有图示，代码注释详细，适合初学者理解。
    - **个人心得**：无

### 重点代码
```cpp
// 自定义比较函数
bool cmp(Edge x, Edge y) { return x.w < y.w; } 

// 并查集查找
int find(int x) { return x == fa[x] ? x : fa[x] = find(fa[x]); } 

// 判断两点是否连通
bool judge(int x, int y) { return find(x) == find(y); } 

// 合并两个集合
void merge(int x, int y) { fa[find(x)] = find(y); } 

int main()
{
    cin >> n >> m;
    for (int i = 1; i <= m; i++) {
        cin >> edge[i].x >> edge[i].y >> edge[i].w;
        edge[i].x++, edge[i].y++;
    }
    sort(edge + 1, edge + m + 1, cmp); // 权值从小到大排序
    for (int i = 1; i <= n; i++) fa[i] = i;
    for (int i = 1; i <= m; i++) {
        int x = edge[i].x, y = edge[i].y;
        if (!judge(x, y)) {
            sum += edge[i].w;
            merge(x, y);
        }
    }
    cout << sum << '\n';
    return 0;
}
```
**核心实现思想**：首先读取边的信息，将边按权值从小到大排序。然后初始化并查集，每个点自成一个集合。接着遍历每条边，若边的两个端点不在同一集合中，则合并这两个集合，并将边的权值累加到答案中。最后输出最小生成树的边权和。

### 最优关键思路或技巧
- **并查集优化**：在Kruskal算法中，使用并查集可以高效地维护图的连通性，时间复杂度接近常数。
- **贪心思想**：Kruskal算法每次选择权值最小的边，保证了最终得到的生成树边权和最小。

### 可拓展之处
- **同类型题**：求最大生成树，只需将边按权值从大到小排序。
- **类似算法套路**：在图的连通性问题中，可以使用并查集进行优化；在求最短路径或最小生成树等问题中，可以使用贪心思想。

### 推荐题目
- [P3366 【模板】最小生成树](https://www.luogu.com.cn/problem/P3366)
- [P1195 口袋的天空](https://www.luogu.com.cn/problem/P1195)
- [P2872 [USACO07DEC]Building Roads S](https://www.luogu.com.cn/problem/P2872)

### 个人心得
本题解中无个人心得。

---
处理用时：22.45秒
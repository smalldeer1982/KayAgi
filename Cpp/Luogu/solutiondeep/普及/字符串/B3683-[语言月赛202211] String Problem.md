# 题目信息

# [语言月赛202211] String Problem

## 题目背景

扶苏很喜欢研究制糊串问题。

## 题目描述

扶苏给你了两个长度为 $n$ 的字符串 $s$ 和 $t$，请你判定这两个字符串是否相同。

扶苏觉得这个问题太简单了，所以她还给出了 $q$ 次操作，每次操作是修改其中一个字符串的某个位置的字符。每次操作过后，都请你回答一次 $s$ 和 $t$ 是否相同。

字符串下标从 1 开始编号。例如，若字符串 $s$ 为 $\texttt {abc}$，要将它的第二个位置修改为 $d$，则修改后的字符串为 $\texttt{adc}$。

## 说明/提示

### 样例 1 解释

对第一组数据：  
- 输入的字符串 $s = t$，故第一行输出为 `Yes`。  
- 第一次操作，将 $t$ 的第 2 位改为 $\texttt d$，此时 $s = \texttt{abc}$，$t = \texttt{adc}$，$s \neq t$，故第二行输出为 `No`。
- 第二次操作，将 $s$ 的第 2 位改为 $\texttt d$，此时 $s = \texttt{adc}$，$t = \texttt{adc}$，$s = t$，故第三行输出为 `Yes`。

对第二组数据：  
- 输入的字符串 $s \neq t$，故第四行输出为 `No`。

### 数据规模与约定

本题共 10 个测试点，各测试点的规模见下表

| 测试点编号 | $n = $ | $q =$ |
| :-: | :-: | :-:|
| 1 | $1$ | $0$ |
| 2 | $1000$ | $0$ |
| 3 | $1000$ | $0$ |
| 4 | $1000$ | $1000$|
| 5 | $1000$ | $1000$ |
| 6 | $1000$ | $1000$ |
| 7 | $10^6$ | $10^6$ |
| 8 | $10^6$ | $10^6$ |
| 9 | $10^6$ | $10^6$ |
| 10 | $10^6$ | $10^6$ |

对全部的测试点，保证 $T = 5$，$s,t$ 均只含小写英文字母，输入的换行符不含 `\r`，$o \in \{0, 1\}$，$1 \leq p \leq n$，$c$ 为小写英文字母。

### 提示

请注意大量的数据读入输出对程序效率造成的影响。

By 一扶苏一

## 样例 #1

### 输入

```
2
3 2
abc
abc
1 2 d
0 2 d
5 0
abdce
acdce
```

### 输出

```
Yes
No
Yes
No```

# AI分析结果

### 综合分析与结论
本题主要是判断两个字符串是否相等，并处理多次修改操作，每次修改后再次判断两字符串是否相等。题解提供了两种算法：
- **算法一**：使用 `string` 类型存储字符串，直接用 `==` 运算符判断字符串是否相等，每次修改后重新比较。但该算法在大数据量下会超时，只能得 60 分。
- **算法二**：通过记录两字符串不同位置的数量 `cnt`，每次修改时只更新该位置对 `cnt` 的影响，避免了每次都重新比较整个字符串，降低了判等的运算量，能通过本题。

### 所选题解
- **星级**：5 星
- **关键亮点**：思路清晰，详细分析了两种算法，对算法二的优化思路解释透彻，还给出了注意事项。

### 重点代码及核心实现思想
#### 算法一
```cpp
string s, t;
cin >> s >> t;
if (s == t) cout << "Yes\n";
else cout << "No\n";
cin >> o >> p >> c;
if (o == 0) s[p - 1] = c;
else t[p - 1] = c;
if (s == t) cout << "Yes\n";
else cout << "No\n";
```
核心思想：直接使用 `==` 运算符判断字符串是否相等，每次修改后重新比较。

#### 算法二
```cpp
int cnt = 0;
for (int i = 0; i < n; ++i) if (s[i]!= t[i]) ++cnt;
cin >> o >> p >> c;
if (s[p - 1]!= t[p - 1]) --cnt;
if (o == 0) s[p - 1] = c;
else t[p - 1] = c;
if (s[p - 1]!= t[p - 1]) ++cnt;
if (cnt == 0) cout << "Yes\n";
else cout << "No\n";
```
核心思想：记录两字符串不同位置的数量 `cnt`，每次修改时先扣除该位置原来对 `cnt` 的影响，修改后再加上新影响，最后根据 `cnt` 是否为 0 判断两字符串是否相等。

### 最优关键思路或技巧
使用变量 `cnt` 记录两字符串不同位置的数量，每次修改时只更新该位置对 `cnt` 的影响，避免了每次都重新比较整个字符串，从而降低了时间复杂度。

### 可拓展之处
同类型题或类似算法套路：在处理字符串比较和修改问题时，若每次修改只影响局部信息，可考虑记录关键信息（如不同位置数量），避免重复比较。

### 推荐题目
1. [P1055 ISBN号码](https://www.luogu.com.cn/problem/P1055)
2. [P1200 [USACO1.1]你的飞碟在这儿Your Ride Is Here](https://www.luogu.com.cn/problem/P1200)
3. [P1553 数字反转（升级版）](https://www.luogu.com.cn/problem/P1553)

### 个人心得
题解中提到使用 `char` 数组存储字符串时，在 `for` 循环里使用 `strlen(s)` 会造成超时，因为单次求 `strlen(s)` 的运算量大约也是字符串长度。同时，本题输入输出量较大，需要关闭 `cin` 和 `stdio` 的同步、和 `cout` 的绑定，使用 `\n` 换行以降低输入输出用时。 

---
处理用时：19.85秒
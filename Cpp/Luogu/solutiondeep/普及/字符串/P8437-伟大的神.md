# 题目信息

# 伟大的神

## 题目背景

伟大的神 $\text{T}\color{red}\text{nyieldingUrilobite}$ （以下简称 TU）喜欢字符串，在 AK 了 IOI 后的第 $998244353$ 天后，伟大的神 TU 勒令小 s 找出他喜欢的字符串。

否则，小 s 就要被吊打 $10^{998244353}$ 年。（虽然找出来了也要被吊打）

## 题目描述

伟大的神 TU 认为 ，一个所有出现的字符的数量相等的字符串是属于神的，他称之为神之字符串。

对于一个字符串 $S$，如果它的一个子串为神之字符串，即称这个子串为神之子串。

神 TU 认为，他喜欢的字符串只能由 `l` 和 `r` 构成，并且还要满足以下条件：

   - 字符串的长度为 $n$。
   - 字符串中最长神之子串长度为 $m$。
   - 字符串中连续的相同的字符的数量不能超过 $k$。

弱小的神小 s 找不出神 TU 喜欢的字符串，现在他找到了你，你能帮帮他吗？

## 说明/提示

**本题采用捆绑测试。**

对于 $100\%$ 的数据，保证 $1\le k\le10^5$，$4\le m\le n \le 10^5$。

数据保证可以找出神 TU 喜欢的字符串。

Subtask 1：对于 $5\%$ 的数据，保证 $k=1$。

Subtask 2：对于另外 $10\%$ 的数据，保证 $n=m$。

Subtask 3：对于另外 $30\%$ 的数据，保证 $k \ge 3$。

Subtask 4：无特殊性质。



## 样例 #1

### 输入

```
10 6 3```

### 输出

```
lllrrlrlll```

# AI分析结果

### 综合分析与结论
本题是一道字符串构造题，核心在于根据给定的 `n`（字符串长度）、`m`（最长神之子串长度）和 `k`（连续相同字符最大数量）构造满足条件的字符串。各题解普遍采用分类讨论的方法，根据 `k` 的不同取值进行针对性构造：
- **k = 1 或 n = m**：构造 `l` 和 `r` 交替出现的字符串。
- **k >= 3**：先构造长度为 `m` 的 `l` 和 `r` 交替的神之子串，再在后面按 `k` 个 `l` 和 1 个 `r` 的规律添加字符。
- **k = 2**：上述构造方法会使最长神之子串长度变为 `m + 2`，需进行调整，如减少一个 `lr` 或改变部分字符顺序。

### 所选题解
- **作者：chen_zhe（5星）**
    - **关键亮点**：思路清晰，对每个子任务的分析详细，明确指出 `k = 2` 时的坑点及解决方法，代码简洁易懂。
    - **个人心得**：认为本题是洛谷月赛最难的 div.2A 题。
- **作者：Jeremiahy（4星）**
    - **关键亮点**：通过做子任务理清思路，对不同情况的分析有条理，代码修缮后逻辑清晰。
- **作者：Disjoint_cat（4星）**
    - **关键亮点**：对每个子任务的解法阐述明确，针对 `k = 2` 的情况给出调整方法并证明其合理性，代码简洁。

### 重点代码及核心实现思想
#### chen_zhe 的代码
```cpp
#include <iostream>
using namespace std;
int main()
{
    int n,m,k;
    cin >> n >> m >> k;
    if (k==1)
    {
        for (int i=1;i<=n;i++)
            cout << (i&1?'l':'r');
        return 0;
    }
    for (int i=1;i<=m-2;i++)
        cout << (i&1?'l':'r');
    int cnt=1;
    cout << "rl";
    for (int i=m+1;i<=n;i++)
    {
        if (cnt==0)
            cout << 'l';
        else
            cout << 'r';
        cnt++;
        cnt%=3;
    }
    return 0;
}
```
**核心思想**：当 `k = 1` 时，直接输出 `l` 和 `r` 交替的字符串；当 `k!= 1` 时，先输出长度为 `m - 2` 的 `l` 和 `r` 交替字符串，再输出 `rl`，最后按 `rrl` 的规律输出剩余字符。

#### Jeremiahy 的代码
```cpp
#include <bits/stdc++.h>
using namespace std;
int n, m, k;
signed main() {
    cin >> n >> m >> k;
    if (k == 1 || n == m) 
        for (int i = 1; i <= n; i++)
            if (i % 2)
                cout << 'l';
            else
                cout << 'r';
    else if (k == 2) {
        int num = (m - 4) / 2; 
        for (int i = 1; i <= num; i++)
            cout << "rl"; 
        for (int i = 1; i <= n - num * 2; i++)
            if (i % 3 == 1) 
                cout << 'r';
            else
                cout << 'l';
    }
    else {
        for (int i = 1; i <= m; i++)
            if (i % 2)
                cout << 'l';
            else
                cout << 'r';
        for (int i = m + 1; i <= n; i++) {
            for (int j = 1; j <= k; j++) {
                if (i > n)
                    break;
                cout << 'l', i++;
            }
            if (i <= n)
                cout << 'r';
        }
    }
    return 0;
}
```
**核心思想**：当 `k = 1` 或 `n = m` 时，输出 `l` 和 `r` 交替的字符串；当 `k = 2` 时，先输出 `(m - 4) / 2` 个 `rl`，再按 `rll` 的规律输出剩余字符；当 `k >= 3` 时，先输出长度为 `m` 的 `l` 和 `r` 交替字符串，再按 `k` 个 `l` 和 1 个 `r` 的规律输出剩余字符。

#### Disjoint_cat 的代码
```cpp
#include<bits/stdc++.h>
#define ll long long
using namespace std;
int n,m,k;
int main()
{
    cin>>n>>m>>k;
    if(k==1)for(int i=1;i<=n;i++)putchar(i&1?'l':'r');
    else if(k==2)
    {
        for(int i=1;i<=m-2;i++)putchar(i&1?'l':'r');
        printf("rl");
        for(int i=m+1;i<=n;i++)putchar((i-m)%3?'r':'l');
    }
    else
    {
        for(int i=1;i<=m;i++)putchar(i&1?'l':'r');
        if(m<n)putchar('l');
        for(int i=m+2;i<=n;i++)putchar((i-1)%k?'l':'r');
    }
    return 0;
}
```
**核心思想**：当 `k = 1` 时，输出 `l` 和 `r` 交替的字符串；当 `k = 2` 时，先输出长度为 `m - 2` 的 `l` 和 `r` 交替字符串，再输出 `rl`，最后按 `rrl` 的规律输出剩余字符；当 `k >= 3` 时，先输出长度为 `m` 的 `l` 和 `r` 交替字符串，再按 `k` 个 `l` 和 1 个 `r` 的规律输出剩余字符。

### 最优关键思路或技巧
- **分类讨论**：根据 `k` 的不同取值进行分类讨论，简化问题难度。
- **特殊情况处理**：针对 `k = 2` 的特殊情况，通过减少一个 `lr` 或改变部分字符顺序避免最长神之子串长度变为 `m + 2`。

### 拓展思路
同类型题通常为字符串构造或条件约束下的序列构造问题，解题关键在于分析特殊条件，采用分类讨论的方法，通过构造简单序列并根据条件进行调整来满足要求。

### 推荐题目
- [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)：考察对条件的分析和构造满足条件的方案。
- [P1042 乒乓球](https://www.luogu.com.cn/problem/P1042)：需要根据规则构造比赛结果序列。
- [P1098 字符串的展开](https://www.luogu.com.cn/problem/P1098)：根据给定规则对字符串进行展开构造。

### 个人心得总结
- chen_zhe 认为本题是洛谷月赛最难的 div.2A 题，强调了本题的难度。
- sgl654321 赛时写挂，通过打表找规律花费一小时，提醒我们在解题时要注意方法的选择和时间的把控。
- CSP_Sept 觉得本题是 adhoc 题，想出来之前感觉难，想出来后代码实现简单，体现了思路突破的重要性。 

---
处理用时：46.03秒
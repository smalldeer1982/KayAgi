# 题目信息

# [传智杯 #3 初赛] 终端

## 题目描述

有一天您厌烦了电脑上又丑又没用的终端，打算自己实现一个 Terminal。

具体来说，它需要支持如下命令:

1. `touch filename`：如果名为 `filename` 的文件不存在，就创建一个这样的文件，如果已经存在同名文件的话则不进行任何操作。

2. `rm name`：删除名为 `name` 的文件。如果不存在这样的文件，就不进行任何操作。

3. `ls`：按**创建时间为顺序**，显示当前已经存在的未被删除的所有文件。
4. `rename xxx yyy`：将名为`xxx`的文件名字改为 `yyy` 。如果不存在这样的文件，或者已经存在文件名为 `yyy` 的文件，则不做任何操作。

这里所有涉及的文件名都仅由大写或者小写的英文字母构成，且文件名区分大小写。

## 说明/提示

对于 $20\%$ 的数据，只存在 $1,3$ 操作 

对于另外 $20\%$ 的数据，只存在 $1,2,3$ 操作

对于另外 $20\%$ 的数据，只存在 $1,3,4$ 操作

对于 $100\%$ 的数据，满足 $1 \leq n \leq 1000$

保证所有命令的长度不超过 $2000$ 个字符。

## 样例 #1

### 输入

```
6
touch yyh
touch yyhtql
rename yyh yyhnb
touch qwq
rename qwq qaq
ls```

### 输出

```
yyhnb
yyhtql
qaq```

# AI分析结果

### 综合分析与结论
这些题解均围绕模拟终端命令操作展开，通过不同数据结构实现需求。算法要点主要是对各命令的逻辑模拟，难点在于处理文件重名、删除和重命名操作。

### 所选题解
- **作者：diamond_153（5星）**
    - **关键亮点**：使用 `vector` 容器，结合 `find` 函数简化文件查找，代码简洁易读，对 `vector` 用法有详细解释。
    - **核心代码**：
```cpp
#include<iostream>
#include<string>
#include<vector>
#include<algorithm>
using namespace std;
int n;vector<string> vec;
int main(){
    ios::sync_with_stdio(false);
    cin>>n;
    while(n--){
        string s;cin>>s;
        if(s=="touch"){
            string file;cin>>file;
            auto index=find(vec.begin(),vec.end(),file);
            if(index==vec.end())
                vec.push_back(file);
        }else if(s=="rename"){
            string old_name,new_name;
            cin>>old_name>>new_name;
            auto iter=find(vec.begin(),vec.end(),old_name);
            if(iter!=vec.end())
                *iter=new_name;
        }else if(s=="rm"){
            string file;cin>>file;
            auto index=find(vec.begin(),vec.end(),file);
            if(index!=vec.end())vec.erase(index);
        }else{
            if(!vec.empty())
                for(auto i:vec)cout<<i<<endl;
        }
    }
}
```
    - **核心实现思想**：用 `vector` 存储文件名，`touch` 操作通过 `find` 检查文件是否存在，不存在则添加；`rm` 操作找到文件后用 `erase` 删除；`rename` 操作找到旧文件名后直接修改；`ls` 操作遍历输出。

- **作者：chen_z（4星）**
    - **关键亮点**：采用字符串数组模拟，代码结构清晰，对各命令的处理逻辑有详细分段展示。
    - **核心代码**：
```cpp
#include<bits/stdc++.h>
#define LL long long
using namespace std;
string a,b,c[1010];
int cnt=1,n;
int main(){
    cin>>n;
    while(n--){
        cin>>a;
        if(a=="touch"){
            cin>>b;
            bool f=1;
            for(int i=1;i<cnt;i++){
                if(c[i]==b){
                    f=0;
                    break;
                }
            }
            if(f==1)c[cnt]=b,cnt++;
        }
        else if(a=="rm"){
            cin>>b;
            for(int i=1;i<cnt;i++){
                if(c[i]==b){
                    c[i]="";
                    break;
                }
            }
        }
        else if(a=="rename"){
            string temp;
            cin>>b>>temp;
            bool flag=0;
            for(int i=1;i<cnt;i++){
                if(c[i]==temp){
                    flag=1;
                    break;
                }
            }
            if(flag==0){
                for(int i=1;i<cnt;i++){
                    if(c[i]==b){
                        c[i]=temp;
                        break;
                    }
                }
            }
        }
        else if(a=="ls"){
            for(int i=1;i<cnt;i++){
                if(c[i]!=""){
                    cout<<c[i]<<'\n';
                }
            }
        }
    }
    return 0;
}
```
    - **核心实现思想**：用字符串数组 `c` 存储文件名，`touch` 操作遍历数组检查重名，不重名则添加；`rm` 操作找到文件后将其置空；`rename` 操作先检查新文件名是否重名，不重名则修改；`ls` 操作遍历输出非空文件名。

### 最优关键思路或技巧
- 使用 `vector` 或 `list` 等容器存储文件名，方便插入、删除和遍历操作。
- 利用 `find` 函数查找文件，简化查找逻辑。

### 拓展思路
同类型题可涉及更多文件操作命令，如文件复制、移动等，算法套路仍是模拟各命令逻辑。

### 推荐题目
- P1047 [NOIP2005 普及组] 校门外的树
- P1059 [NOIP2006 普及组] 明明的随机数
- P1563 [NOIP2016 提高组] 玩具谜题

### 个人心得
- **liupan2010**：表示看不懂 `vector` 和 `map` 的高端写法，采用直接模拟字符串的方式解题。总结：在不熟悉复杂数据结构时，可先从基础方法入手。 

---
处理用时：32.94秒
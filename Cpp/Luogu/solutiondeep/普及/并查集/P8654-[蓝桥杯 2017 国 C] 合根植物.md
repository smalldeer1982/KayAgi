# 题目信息

# [蓝桥杯 2017 国 C] 合根植物

## 题目描述

w 星球的一个种植园，被分成 $m \times n$ 个小格子（东西方向 $m$ 行，南北方向 $n$ 列）。每个格子里种了一株合根植物。

这种植物有个特点，它的根可能会沿着南北或东西方向伸展，从而与另一个格子的植物合成为一体。

如果我们告诉你哪些小格子间出现了连根现象，你能说出这个园中一共有多少株合根植物吗？

## 说明/提示

## 样例解释

![](https://cdn.luogu.com.cn/upload/image_hosting/9q0xulxh.png)

时限 1 秒, 256M。蓝桥杯 2017 年第八届国赛

## 样例 #1

### 输入

```
5 4
16
2 3
1 5
5 9
4 8
7 8
9 10
10 11
11 12
10 14
12 16
14 18
17 18
15 19
19 20
9 13
13 17```

### 输出

```
5```

# AI分析结果

### 综合分析与结论

本题的核心是使用并查集（Disjoint Set Union, DSU）来统计合根植物的数量。所有题解都采用了并查集的基本思路，但在代码实现、优化程度和可读性上有所不同。以下是各题解的要点总结：

1. **并查集的基本操作**：所有题解都实现了并查集的查找和合并操作，其中路径压缩是常见的优化手段。
2. **初始化与统计**：所有题解都正确初始化了并查集，并通过遍历统计根节点等于自身的节点数量。
3. **代码风格与优化**：部分题解在代码风格上更为简洁，使用了更高效的输入输出方式（如`ios::sync_with_stdio(0)`），并且在路径压缩的实现上更为优化。

### 所选高星题解

#### 1. 作者：_xbt (5星)
- **关键亮点**：
  - 代码简洁，使用了路径压缩优化。
  - 输入输出优化，提高了代码效率。
  - 代码可读性强，注释清晰。
- **核心代码**：
  ```cpp
  int find(int x){
      while(x!=a[x]) x=a[x]=a[a[x]];
      return x;
  }
  ```
  **实现思想**：通过路径压缩优化查找操作，减少查找时间。

#### 2. 作者：xvl_ (4星)
- **关键亮点**：
  - 代码结构清晰，分离了查找和合并操作。
  - 使用了`ios::sync_with_stdio(0)`优化输入输出。
  - 代码可读性较好，注释明确。
- **核心代码**：
  ```cpp
  int find_root(int n) {
      if (fa[n] == n) return n;
      return fa[n] = find_root(fa[n]);
  }
  void merge(int x, int y) { 
      int sx = find_root(x), sy = find_root(y);
      if (sx != sy) fa[sx] = sy;
  }
  ```
  **实现思想**：分离查找和合并操作，代码结构清晰，易于理解。

#### 3. 作者：kkxacj (4星)
- **关键亮点**：
  - 代码简洁，路径压缩实现高效。
  - 使用了`scanf`和`printf`进行输入输出，效率较高。
  - 代码可读性较好，注释清晰。
- **核心代码**：
  ```cpp
  int find(int w) {
      if(a[w] == w) return w;
      return a[w] = find(a[w]);
  }
  ```
  **实现思想**：通过路径压缩优化查找操作，代码简洁高效。

### 最优关键思路与技巧

1. **路径压缩**：在查找操作中，通过路径压缩将查找路径上的所有节点直接连接到根节点，减少后续查找的时间复杂度。
2. **输入输出优化**：使用`ios::sync_with_stdio(0)`或`scanf`/`printf`等优化手段，提高代码运行效率。
3. **代码结构清晰**：将查找和合并操作分离，使代码更易于理解和维护。

### 可拓展之处

- **并查集的应用**：并查集不仅适用于统计连通分量，还可以用于解决图的连通性问题、最小生成树（Kruskal算法）等。
- **路径压缩与按秩合并**：进一步优化并查集，可以结合按秩合并（Union by Rank）来减少树的高度，进一步提高效率。

### 推荐题目

1. **P3367 【模板】并查集**：基础并查集模板题，适合初学者练习。
2. **P1551 亲戚**：并查集的应用题，考察连通性统计。
3. **P1197 [JSOI2008]星球大战**：并查集在动态图中的应用，考察逆向思维。

### 个人心得总结

- **调试经历**：部分题解中提到在调试过程中发现路径压缩的重要性，确保查找操作的高效性。
- **踩坑教训**：初始化时确保每个节点的父节点为自己，避免后续合并操作出错。
- **顿悟感想**：通过路径压缩和按秩合并，可以显著提高并查集的效率，理解这些优化手段对解决复杂问题至关重要。

---
处理用时：31.92秒
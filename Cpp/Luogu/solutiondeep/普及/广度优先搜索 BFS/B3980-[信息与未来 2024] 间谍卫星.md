# 题目信息

# [信息与未来 2024] 间谍卫星

## 题目描述

Dr. X 研制的间谍卫星拍摄到了许多 U 国建筑的照片。为了找出其中的军事设施，Dr. X 需要估算建筑的大小。Dr. X 发现，所有间谍卫星拍摄的照片都恰好包含一个完整的正方形，其中建筑边界上的像素被标记为了白色（用 $1$ 表示），其余像素被标记为了黑色（用 $0$ 表示）。一些照片的案例如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/5ponzg18.png)

你的任务是根据拍摄的照片估算被摄正方形的**边长** (米)。照片中的每个像素都代表一个一米乘一米的正方形。

## 说明/提示

本题仅有一个 $n\leq 100$ 的测试数据，且测试数据和样例数据的生成方式相同。

当你对一幅照片估计的边长和实际建筑边长差距不超过 $2$ 时，则认为估计正确。若估计正确的照片比例 $A > 0.5$，本题得分为 $(A − 0.5) \times 30$ 向下取整，否则得零分。

我们在生成每张照片时，都先在平面上生成一个随机的、边长为整数、边界宽度为 $1$ 像素的正方形，然后“拍摄”得到它的照片。

>本题原始满分为 $15\text{pts}$。

## 样例 #1

### 输入

```
见附件中的 sample.in```

### 输出

```
53```

# AI分析结果

### 综合分析与结论

本题的核心是通过给定的图像数据估算正方形的边长。题解主要分为两类思路：
1. **周长法**：通过统计图像中白色像素（`1`）的数量，利用正方形周长公式 `C = 4a` 计算边长。该方法简单直接，但存在精度问题。
2. **面积法**：通过洪水填充或广度优先搜索（BFS）计算正方形的面积，然后通过面积公式 `a = sqrt(S)` 计算边长。该方法较为复杂，但精度较高。

大多数题解采用了周长法，因其实现简单且适用于本题的约束条件。部分题解尝试了面积法，但代码复杂度较高，且在实际应用中可能存在性能问题。

### 所选高星题解

#### 1. 题解作者：tanzexiaodezhonghao (5星)
- **关键亮点**：简洁高效，直接利用周长公式计算边长，代码可读性强。
- **核心实现思想**：统计图像中 `1` 的数量，然后除以 4 得到边长。
- **代码片段**：
  ```cpp
  int main(){
      cin>>n;
      while(n--){
          cnt=0;
          for(int j=1;j<=128;j++){
              for(int k=1;k<=128;k++){
                  cin>>x;cnt+=(x-'0');
              }
          }
          cout<<cnt/4<<endl;
      }
      return 0;
  }
  ```

#### 2. 题解作者：Mike_L (4星)
- **关键亮点**：在周长法的基础上进行了优化，通过加 1 来修正精度问题。
- **核心实现思想**：统计 `1` 的数量，除以 4 后加 1 得到边长。
- **代码片段**：
  ```cpp
  int main(){
      cin >> n;
      while (n--){
          ans = 0;
          for (int i = 1; i <= 128; i++){
              string s;
              cin >> s;
              for (int j = 1; j <= 128; j++){
                  ans += s[j] - '0';
              }
          }
          cout << ans / 4 + 1 << endl;
      }
      return 0;
  }
  ```

#### 3. 题解作者：Tonymcmcmc (4星)
- **关键亮点**：同样采用周长法，代码简洁，思路清晰。
- **核心实现思想**：统计 `1` 的数量，除以 4 后加 1 得到边长。
- **代码片段**：
  ```cpp
  int main(){
      int n;
      cin>>n;
      for(int i=0;i<n;i++){
          int cnt=0;
          for(int j=0;j<128;j++){
              for(int k=0;k<128;k++){
                  char c;
                  cin>>c;
                  if(c=='1')cnt++;
              }
          }
          cout<<cnt*1.0/4+1<<endl;
      }
      return 0;
  }
  ```

### 最优关键思路与技巧
- **周长法**：通过统计 `1` 的数量，利用正方形周长公式 `C = 4a` 计算边长。该方法简单高效，适用于本题的约束条件。
- **精度修正**：在周长法的基础上，通过加 1 来修正精度问题，确保结果更接近实际边长。

### 可拓展之处
- **类似问题**：可以扩展到其他几何形状的边长或面积计算，如矩形、圆形等。
- **算法优化**：可以考虑使用更高效的图像处理算法，如边缘检测，来进一步提高精度和性能。

### 推荐题目
1. [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)
2. [P1047 校门外的树](https://www.luogu.com.cn/problem/P1047)
3. [P1059 明明的随机数](https://www.luogu.com.cn/problem/P1059)

### 个人心得摘录
- **Mike_L**：通过加 1 来修正精度问题，确保结果更接近实际边长。
- **Tonymcmcmc**：直接利用周长公式计算边长，代码简洁，思路清晰。

这些心得展示了在实际应用中如何通过简单的修正来提高算法的精度和可靠性。

---
处理用时：22.07秒
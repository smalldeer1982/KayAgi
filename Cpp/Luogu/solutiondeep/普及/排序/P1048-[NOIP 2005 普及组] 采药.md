# 题目信息

# [NOIP 2005 普及组] 采药

## 题目描述

辰辰是个天资聪颖的孩子，他的梦想是成为世界上最伟大的医师。为此，他想拜附近最有威望的医师为师。医师为了判断他的资质，给他出了一个难题。医师把他带到一个到处都是草药的山洞里对他说：“孩子，这个山洞里有一些不同的草药，采每一株都需要一些时间，每一株也有它自身的价值。我会给你一段时间，在这段时间里，你可以采到一些草药。如果你是一个聪明的孩子，你应该可以让采到的草药的总价值最大。”


如果你是辰辰，你能完成这个任务吗？


## 说明/提示

**【数据范围】**

- 对于 $30\%$ 的数据，$M \le 10$；
- 对于全部的数据，$M \le 100$。

**【题目来源】**

NOIP 2005 普及组第三题

## 样例 #1

### 输入

```
70 3
71 100
69 1
1 2
```

### 输出

```
3```

# AI分析结果

### 综合分析与结论
本题是经典的 0 - 1 背包问题，多数题解思路一致，通过动态规划解决。定义状态 $dp_{i,j}$ 表示前 $i$ 个物品在容量为 $j$ 时的最大价值，状态转移方程为：当 $j < w_i$ 时，$dp_{i,j} = dp_{i - 1,j}$；当 $j \geq w_i$ 时，$dp_{i,j} = \max(dp_{i - 1,j}, dp_{i - 1,j - w_i} + v_i)$。部分题解还对空间进行了优化，使用一维数组实现。有一题解尝试用改进贪心算法，但通用性不强。

### 高评分题解
- **作者：decoqwq（5星）**
    - **关键亮点**：思路清晰，详细解释了二维和一维 dp 的过程，通过具体例子辅助理解，代码可读性高。
    - **核心代码**：
```cpp
// 二维 dp
for(int i=1;i<=m;i++) 
    for(int j=t;j>=0;j--)  
    {
        if(j>=w[i])
        {
            dp[i][j]=max(dp[i-1][j-w[i]]+val[i],dp[i-1][j]);
        }  
        else
        {
            dp[i][j]=dp[i-1][j];
        }              
    }
// 一维 dp
for(int i=1;i<=m;i++) 
{
    for(int j=t;j>=0;j--) 
    {
        if(j>=w[i])
        {
            dp[j]=max(dp[j-w[i]]+val[i], dp[j]);
        }
    }
}    
```
- **作者：xyx404（4星）**
    - **关键亮点**：思路明确，结合参考资料，详细推导转移方程。
    - **核心代码**：
```cpp
for(int i=1;i<=m;i++)
    for(int j=0;j<=t;j++){
        if(j>=uset[i])
            dp[i][j]=max(dp[i-1][j],dp[i-1][j-uset[i]]+price[i]);
        else
            dp[i][j]=dp[i-1][j];
    }
```
- **作者：4041nofoundGeoge（4星）**
    - **关键亮点**：先指出贪心算法的错误，再详细推导动态规划方程，并提及空间优化方法。
    - **核心代码**：
```cpp
// 二维 dp
for(int i=1;i<=M;i++)
{
    for(int j=1;j<=T;j++)
    {
        if(j<t[i])dp[i][j]=dp[i-1][j];
        else
        {
            dp[i][j]=max(dp[i-1][j],dp[i-1][j-t[i]]+v[i]);
        }
    }
}
// 一维 dp
for (int i = 1; i <= M; i++)
  for (int l = T; l >= t[i]; l--)
    f[l] = max(f[l], f[l - t[i]] + v[i]);
```

### 最优关键思路或技巧
- **动态规划思想**：将大问题分解为小问题，通过状态转移方程递推求解。
- **空间优化**：利用滚动数组将二维 dp 优化为一维 dp，节省空间。
- **倒序循环**：在一维 dp 中，内层循环倒序进行，避免物品重复选取。

### 拓展思路
同类型题如其他 0 - 1 背包变种，可改变物品限制条件或增加额外维度。类似算法套路可用于解决其他动态规划问题，如完全背包、多重背包等。

### 推荐题目
- [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060)
- [P1616 疯狂的采药](https://www.luogu.com.cn/problem/P1616)
- [P2871 [USACO07DEC]Charm Bracelet S](https://www.luogu.com.cn/problem/P2871)

### 个人心得
- **作者：rainygame**：尝试用贪心算法，但发现错误后对其改进，通过赋权值和多次查找最优解来求解，但通用性不高，需根据数据调整参数。

---
处理用时：26.92秒
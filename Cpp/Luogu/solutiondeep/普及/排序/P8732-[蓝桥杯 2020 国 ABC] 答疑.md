# 题目信息

# [蓝桥杯 2020 国 ABC] 答疑

## 题目描述

有 $n$ 位同学同时找老师答疑。每位同学都预先估计了自己答疑的时间。老师可以安排答疑的顺序，同学们要依次进入老师办公室答疑。

一位同学答疑的过程如下:

1. 首先进入办公室，编号为 $i$ 的同学需要 $s_{i}$ 毫秒的时间。

2. 然后同学问问题老师解答，编号为 $i$ 的同学需要 $a_{i}$ 毫秒的时间。

3. 答疑完成后，同学很高兴，会在课程群里面发一条消息，需要的时间可以忽略。

4. 最后同学收拾东西离开办公室，需要 $e_{i}$ 毫秒的时间。一般需要 $10$ 秒、$20$ 秒或 $30$ 秒，即 $e_{i}$ 取值为 $10000$、$20000$ 或 $30000$。

一位同学离开办公室后，紧接着下一位同学就可以进入办公室了。

答疑从 $0$ 时刻开始。老师想合理的安排答疑的顺序，使得同学们在课程群里面发消息的时刻之和最小。


## 说明/提示

**【样例说明】**

按照 $1,3,2$ 的顺序答疑，发消息的时间分别是 $20000,80000,180000$ 。

**【评测用例规模与约定】**

对于 $30 \%$ 的评测用例, $1 \leq n \leq 20$ 。

对于 $60 \%$ 的评测用例, $1 \leq n \leq 200$ 。

对于所有评测用例, $1 \leq n \leq 1000,1 \leq s_{i} \leq 60000,1 \leq a_{i} \leq 1000000$, $e_{i} \in\{10000,20000,30000\}$ ，即 $e_{i}$ 一定是 $10000 、 20000 、 30000$ 之一。 

蓝桥杯 2020 年国赛 A 组 H 题（B 组 H 题, C 组 J 题）。

## 样例 #1

### 输入

```
3
10000 10000 10000
20000 50000 20000
30000 20000 30000```

### 输出

```
280000```

# AI分析结果

### 综合分析与结论
这些题解均采用贪心算法解决问题，核心思路是将学生按总用时（进入时间 $s_i$、答疑时间 $a_i$、离开时间 $e_i$ 之和）从小到大排序，从而使同学们在课程群里发消息的时刻之和最小。各题解在代码实现和证明方式上略有差异，但整体思路一致。

### 所选题解
- **ydclyq 的题解（5星）**
    - **关键亮点**：思路清晰，通过交换相邻学生的顺序进行数学推导，得出排序依据；代码简洁规范，注释较少但逻辑清晰。
    - **核心代码**：
```cpp
struct D{
    int s,a,e;
    bool operator < (const D&B) const{
        return s+a+e<B.s+B.a+B.e;
    }
}h[1005];

void solve(){
    cin>>n;
    for(int i=1;i<=n;i++){
        cin>>h[i].s>>h[i].a>>h[i].e;
    }
    sort(h+1,h+n+1);
    ll ans=0,now=0;
    for(int i=1;i<=n;i++){
        now+=h[i].s+h[i].a;
        ans+=now;
        now+=h[i].e;
    }
    cout<<ans;
}
```
    - **核心实现思想**：定义结构体存储学生信息，重载小于运算符按总用时排序，遍历排序后的学生数组计算发消息时刻之和。

- **linyukun 的题解（4星）**
    - **关键亮点**：思路分析通俗易懂，给出详细的提示要点；代码有详细注释，便于理解。
    - **核心代码**：
```cpp
struct aaa{
    long long s,a,e,sum;
}a[1005];
bool cmp(aaa a,aaa b){
    return a.sum<b.sum;
}
int main(){
    cin>>n;
    for(int i=1;i<=n;i++){
        cin>>a[i].s>>a[i].a>>a[i].e;
        a[i].sum=a[i].a+a[i].s+a[i].e;
    }
    sort(a+1,a+n+1,cmp);
    for(int i=1;i<=n;i++){
        ke+=a[i].a+a[i].s+a[i-1].e;
        ans+=ke;
    }
    cout<<ans;
    return 0;
}
```
    - **核心实现思想**：定义结构体存储学生信息和总用时，自定义比较函数按总用时排序，遍历数组累计时刻并求和。

- **small_john 的题解（4星）**
    - **关键亮点**：不仅给出代码，还对贪心算法进行了严格的交换法证明；使用 `ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);` 加速输入输出。
    - **核心代码**：
```cpp
struct node{
    int s,a,e,sum;
}a[N];
bool cmp (node a,node b) {return a.sum<b.sum;}
int main()
{
    ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);
    cin>>n;
    for(int i = 1;i<=n;i++)
        cin>>a[i].s>>a[i].a>>a[i].e,a[i].sum = a[i].s+a[i].a+a[i].e;
    sort(a+1,a+n+1,cmp);
    for (int i = 1;i<=n;i++) 
        ans+=sum+a[i].s+a[i].a,sum+=a[i].sum;
    cout<<ans;
    return 0;
}
```
    - **核心实现思想**：定义结构体存储学生信息和总用时，自定义比较函数按总用时排序，遍历数组计算发消息时刻之和。

### 最优关键思路或技巧
- **贪心策略**：通过比较相邻学生交换顺序前后的时刻总和，得出按总用时从小到大排序的贪心策略。
- **结构体排序**：使用结构体存储学生信息，并通过重载运算符或自定义比较函数进行排序。

### 可拓展之处
同类型题如排队打水问题、活动选择问题等，都是通过贪心算法，按照某种规则对任务进行排序，以达到最优解。

### 洛谷相似题目推荐
- [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)
- [P1803 凌乱的yyy / 线段覆盖](https://www.luogu.com.cn/problem/P1803)
- [P2123 皇后游戏](https://www.luogu.com.cn/problem/P2123)

### 个人心得摘录与总结
- **Maysoul**：“十年 OI 一场空，不开 long long 见祖宗!!!”，强调了在处理可能出现大数值的问题时，要注意使用 `long long` 类型避免溢出。 

---
处理用时：31.60秒
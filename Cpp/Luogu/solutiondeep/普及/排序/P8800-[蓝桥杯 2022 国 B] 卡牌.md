# 题目信息

# [蓝桥杯 2022 国 B] 卡牌

## 题目描述

这天，小明在整理他的卡牌。

他一共有 $n$ 种卡牌，第 $i$ 种卡牌上印有正整数数 $i(i \in[1, n])$, 且第 $i$ 种卡牌现有 $a_{i}$ 张。

而如果有 $n$ 张卡牌，其中每种卡牌各一张，那么这 $n$ 张卡牌可以被称为一套牌。小明为了凑出尽可能多套牌，拿出了 $m$ 张空白牌, 他可以在上面写上数 $i$，将其当做第 $i$ 种牌来凑出套牌。然而小明觉得手写的牌不太美观，决定第 $i$ 种牌最多手写 $b_{i}$ 张。

请问小明最多能凑出多少套牌?

## 说明/提示

**【样例说明】**

这 $5$ 张空白牌中，拿 $2$ 张写 $1$，拿 $1$ 张写 $2$，这样每种牌的牌数就变为了 $3,3,3,4$，可以凑出 $3$ 套牌，剩下 $2$ 张空白牌不能再帮助小明凑出一套。

**【评测用例规模与约定】**

对于 $30 \%$ 的数据，保证 $n \leq 2000$;

对于 $100 \%$ 的数据，保证 $n \leq 2 \times 10^{5} ; a_{i}, b_{i} \leq n ; m \leq n^{2}$ 。 

蓝桥杯 2022 国赛 B 组 C 题。

## 样例 #1

### 输入

```
4 5
1 2 3 4
5 5 5 5```

### 输出

```
3```

# AI分析结果

### 综合分析与结论
这些题解主要围绕“蓝桥杯 2022 国 B 卡牌”问题展开，多数采用二分答案算法，少数使用贪心算法。二分答案的核心在于利用问题的有序性，即若不能凑出 $x$ 套牌，一定不能凑出 $x + 1$ 套牌，通过二分查找最大可凑出的套牌数。贪心算法则是优先画数量少的卡牌，尽量让各种卡牌数量接近。

### 所选题解
- **作者：Bitter_Tea（5星）**
    - **关键亮点**：思路清晰，代码简洁规范，详细说明了二分的左右边界确定方法以及判断函数的逻辑。
    - **核心代码**：
```cpp
bool judge(int x) {
    long long s = 0;
    for (int i = 1; i <= n; i++) {
        if (x - a[i] <= b[i]) {
            s += max(x - a[i], 0);
        }
        else return false;
    }
    if (s <= m) return true;
    return false;
}
```
    - **核心实现思想**：判断能否凑出 $x$ 套牌，遍历每种卡牌，若需要手写的牌数不超过最大手写限制，则累加所需手写牌数，最后判断总手写牌数是否不超过空白牌总数。

- **作者：wangyi_c（4星）**
    - **关键亮点**：对二分答案的核心 `check` 函数进行了详细讲解，代码注释清晰，易于理解。
    - **核心代码**：
```cpp
bool check(int x){
    int sum=0;
    for(int i=1;i<=n;i++){
        if(x-a[i]>b[i]) return false;
        sum+=max(x-a[i],0ll);
    }
    return (sum<=m)?true:false;
}
```
    - **核心实现思想**：与 Bitter_Tea 的判断函数类似，检查是否能凑出 $x$ 套牌，若某类卡牌无法凑够 $x$ 张则返回 `false`，否则累加所需手写牌数，最后判断是否超过空白牌总数。

- **作者：i_love_tym（4星）**
    - **关键亮点**：对 `check` 函数的条件判断进行了详细推导，解释了累加手写牌数的条件，有助于理解代码逻辑。
    - **核心代码**：
```cpp
bool check(int x) {
    int sum = 0;
    for (int i = 1; i <= n; i++)
        if (x - a[i] <= b[i])  sum += max(x - a[i], (long long)0);
        else return false;
    if (sum <= m) return true;
    return false;
}
```
    - **核心实现思想**：同样是判断能否凑出 $x$ 套牌，根据每种卡牌的现有数量和最大手写限制，计算所需手写牌数，判断是否超过空白牌总数。

### 最优关键思路或技巧
- **二分答案算法**：利用问题的有序性，通过二分查找最大可凑出的套牌数，将时间复杂度从暴力枚举的 $O(n^2)$ 降低到 $O(n\log n)$。
- **判断函数设计**：在判断能否凑出指定套牌数时，遍历每种卡牌，计算所需手写牌数，同时考虑最大手写限制和空白牌总数。

### 拓展思路
同类型题或类似算法套路：
- 二分答案常用于求解最大/最小值问题，如在一定条件下求最大可行解或最小可行解。
- 贪心算法常用于资源分配问题，通过局部最优选择达到全局最优。

### 推荐题目
- [P1873 砍树](https://www.luogu.com.cn/problem/P1873)
- [P2678 跳石头](https://www.luogu.com.cn/problem/P2678)
- [P3853 [TJOI2007]路标设置](https://www.luogu.com.cn/problem/P3853)

### 个人心得摘录与总结
- **zhanghao233**：提到暴力解法不如二分好用，提醒我们在遇到类似问题时优先考虑二分答案算法。

---
处理用时：24.75秒
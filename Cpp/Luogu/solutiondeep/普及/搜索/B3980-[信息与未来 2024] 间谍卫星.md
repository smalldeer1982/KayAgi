# 题目信息

# [信息与未来 2024] 间谍卫星

## 题目描述

Dr. X 研制的间谍卫星拍摄到了许多 U 国建筑的照片。为了找出其中的军事设施，Dr. X 需要估算建筑的大小。Dr. X 发现，所有间谍卫星拍摄的照片都恰好包含一个完整的正方形，其中建筑边界上的像素被标记为了白色（用 $1$ 表示），其余像素被标记为了黑色（用 $0$ 表示）。一些照片的案例如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/5ponzg18.png)

你的任务是根据拍摄的照片估算被摄正方形的**边长** (米)。照片中的每个像素都代表一个一米乘一米的正方形。

## 说明/提示

本题仅有一个 $n\leq 100$ 的测试数据，且测试数据和样例数据的生成方式相同。

当你对一幅照片估计的边长和实际建筑边长差距不超过 $2$ 时，则认为估计正确。若估计正确的照片比例 $A > 0.5$，本题得分为 $(A − 0.5) \times 30$ 向下取整，否则得零分。

我们在生成每张照片时，都先在平面上生成一个随机的、边长为整数、边界宽度为 $1$ 像素的正方形，然后“拍摄”得到它的照片。

>本题原始满分为 $15\text{pts}$。

## 样例 #1

### 输入

```
见附件中的 sample.in```

### 输出

```
53```

# AI分析结果

### 综合分析与结论

本题的核心任务是估算照片中正方形的边长，题解主要分为两类思路：**周长法**和**面积法**。周长法通过统计边界像素（`1`）的个数，利用正方形周长公式 $C=4a$ 计算边长；面积法则通过洪水填充或广度优先搜索（BFS）计算正方形的面积，再通过面积公式 $a=\sqrt{S}$ 得到边长。周长法简单高效，但可能存在精度问题；面积法更精确，但实现复杂度较高。

大部分题解采用了周长法，因其实现简单且符合题目要求。部分题解通过洪水填充或BFS计算面积，虽然精确，但代码复杂度较高，且在实际应用中可能不必要。总体来看，**周长法**是本题的最优解，因其简洁高效且足以通过题目。

### 精选题解

#### 1. 作者：tanzexiaodezhonghao (★★★★★)
**关键亮点**：思路清晰，代码简洁，直接利用周长公式计算边长，避免了复杂的搜索算法。
**代码核心**：
```cpp
int cnt = 0;
for (int j = 1; j <= 128; j++) {
    for (int k = 1; k <= 128; k++) {
        cin >> x;
        cnt += (x - '0');
    }
}
cout << cnt / 4 << endl;
```
**核心思想**：统计边界像素 `1` 的个数，直接除以 4 得到边长。

#### 2. 作者：Mike_L (★★★★☆)
**关键亮点**：在周长法的基础上，增加了对边长的修正（+1），进一步提高了精度。
**代码核心**：
```cpp
ans = 0;
for (int i = 1; i <= 128; i++) {
    string s;
    cin >> s;
    for (int j = 0; j < 128; j++) {
        ans += s[j] - '0';
    }
}
cout << ans / 4 + 1 << endl;
```
**核心思想**：统计边界像素 `1` 的个数，除以 4 后加 1 得到更精确的边长。

#### 3. 作者：Tonymcmcmc (★★★★☆)
**关键亮点**：同样采用周长法，代码简洁，且对边长的计算进行了四舍五入处理，进一步优化了精度。
**代码核心**：
```cpp
int cnt = 0;
for (int j = 0; j < 128; j++) {
    for (int k = 0; k < 128; k++) {
        char c;
        cin >> c;
        if (c == '1') cnt++;
    }
}
cout << cnt * 1.0 / 4 + 1 << endl;
```
**核心思想**：统计边界像素 `1` 的个数，除以 4 后加 1，并进行四舍五入处理。

### 最优关键思路与技巧

1. **周长法**：通过统计边界像素 `1` 的个数，利用正方形周长公式 $C=4a$ 计算边长，是最简洁高效的方法。
2. **精度修正**：在周长法的基础上，通过加 1 或四舍五入的方式，进一步提高边长的估算精度。
3. **代码简洁性**：避免复杂的搜索算法，直接利用数学公式计算，代码简洁且易于理解。

### 可拓展之处

- **类似问题**：类似的问题可以扩展到其他几何图形的边长或面积计算，如矩形、圆形等。
- **算法套路**：对于边界清晰的图形，可以通过统计边界像素或填充内部像素的方式计算其几何属性。

### 推荐题目

1. **P1003 铺地毯**：考察几何图形的覆盖问题，适合练习边界处理。
2. **P1056 排座椅**：考察几何图形的排列与优化，适合练习几何计算。
3. **P1067 多项式输出**：考察几何图形的输出与格式化，适合练习几何图形的表示与输出。

### 个人心得总结

- **调试经历**：部分题解在字符串下标处理上出现了错误，提醒我们在处理字符串时要特别注意下标从 0 还是 1 开始。
- **顿悟感想**：通过本题，认识到数学公式在算法中的重要性，简单的数学公式往往能大幅简化问题。

---
处理用时：34.69秒
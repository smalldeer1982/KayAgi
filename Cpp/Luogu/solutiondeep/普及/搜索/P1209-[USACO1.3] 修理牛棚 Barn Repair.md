# 题目信息

# [USACO1.3] 修理牛棚 Barn Repair

## 题目描述

在一个月黑风高的暴风雨夜，Farmer John 的牛棚的屋顶、门被吹飞了 好在许多牛正在度假，所以牛棚没有住满。   

牛棚一个紧挨着另一个被排成一行，牛就住在里面过夜。有些牛棚里有牛，有些没有。 所有的牛棚有相同的宽度。   

自门遗失以后，Farmer John 必须尽快在牛棚之前竖立起新的木板。他的新木材供应商将会供应他任何他想要的长度，但是吝啬的供应商只能提供有限数目的木板。 Farmer John 想将他购买的木板总长度减到最少。

给出 $m,s,c$，表示木板最大的数目、牛棚的总数、牛的总数；以及每头牛所在牛棚的编号，请算出拦住所有有牛的牛棚所需木板的最小总长度。


## 说明/提示

【数据范围】  
对于 $100\%$ 的数据，$1\le m \le 50$，$1\le c \le s \le 200$。 

USACO Training Section 1.3


## 样例 #1

### 输入

```
4 50 18
3 
4 
6 
8 
14
15 
16 
17 
21
25 
26 
27 
30 
31 
40 
41 
42 
43
```

### 输出

```
25
```

# AI分析结果

### 综合分析与结论

本题的核心是通过贪心算法或动态规划来最小化木板的长度总和。大多数题解采用了贪心策略，即先假设用一块木板覆盖所有有牛的牛棚，然后通过断开最大的间隔来减少木板的总长度。部分题解使用了动态规划，但复杂度较高，且不如贪心直观。贪心算法的关键在于排序和选择最大的间隔进行断开，从而在有限的木板数量下最小化总长度。

### 所选高质量题解

#### 1. 作者：Starlight_Glimmer (赞：182)  
**星级：5星**  
**关键亮点：**  
- 思路清晰，直接通过贪心策略解决问题。
- 代码简洁，逻辑明确，易于理解。
- 通过排序和选择最大间隔，实现了高效的优化。

**核心代码：**
```cpp
sort(a+1,a+c+1);
ans=a[c]-a[1]+1;
for(int i=2;i<=c;i++)
    C[i-1]=a[i]-a[i-1];
sort(C+1,C+c,cmp);
for(int i=1;i<=m-1;i++)
    ans=ans-C[i]+1;
```
**实现思想：**  
先排序牛棚编号，计算初始总长度，然后排序间隔，选择最大的m-1个间隔进行断开，减少总长度。

#### 2. 作者：junyuge (赞：20)  
**星级：4星**  
**关键亮点：**  
- 思路与Starlight_Glimmer类似，但代码结构略有不同。
- 通过特判处理木板数大于牛数的情况，增加了代码的鲁棒性。

**核心代码：**
```cpp
sort(a + 1,a + c + 1);
ans = a[c] - a[1] + 1;
for (int i = 1;i <= c - 1;i++)
    b[i] = a[i + 1] - a[i] - 1;
sort(b + 1,b + c);
for (int i = c - 1;i >= c - m + 1;i--)
    ans -= b[i];
```
**实现思想：**  
同样通过排序和选择最大间隔来减少总长度，代码逻辑清晰，易于理解。

#### 3. 作者：Violette (赞：2)  
**星级：4星**  
**关键亮点：**  
- 使用了贪心算法，思路清晰。
- 代码简洁，逻辑明确，易于理解。

**核心代码：**
```cpp
sort(cow+1,cow+1+c);
int len=cow[c]-cow[1]+1;
for (int i=1;i<=m-1;i++) 
    len-=d[i];
```
**实现思想：**  
通过排序和选择最大间隔来减少总长度，代码逻辑清晰，易于理解。

### 最优关键思路与技巧

1. **贪心策略**：通过排序和选择最大间隔来减少木板总长度，是最优的解决方案。
2. **排序优化**：先对牛棚编号排序，再对间隔排序，确保选择的是最大的间隔。
3. **特判处理**：当木板数大于牛数时，直接输出牛数，避免不必要的计算。

### 可拓展之处

- **类似问题**：可以应用于其他需要最小化覆盖长度的问题，如区间覆盖、线段覆盖等。
- **算法套路**：贪心算法在解决最小化或最大化问题时非常有效，尤其是在问题可以分解为局部最优解时。

### 推荐题目

1. **P1209 [USACO1.3]修理牛棚 Barn Repair**  
2. **P1090 [NOIP2004 提高组] 合并果子**  
3. **P1223 排队接水**

### 个人心得总结

- **调试经历**：部分题解提到需要特判木板数大于牛数的情况，否则会导致错误。这提醒我们在编写代码时要考虑所有边界情况。
- **踩坑教训**：排序时要注意牛棚编号是否有序，否则会影响间隔的计算。
- **顿悟感想**：贪心算法在解决这类问题时非常高效，且代码实现简单，适合在竞赛中快速解决问题。

---
处理用时：39.53秒
# 题目信息

# Likecloud-吃、吃、吃

## 题目背景

问世间，青春期为何物？

答曰：“甲亢，甲亢，再甲亢；挨饿，挨饿，再挨饿！”


## 题目描述

正处在某一特定时期之中的李大水牛由于消化系统比较发达，最近一直处在饥饿的状态中。某日上课，正当他饿得头昏眼花之时，眼前突然闪现出了一个 $n \times m(n,m \le 200)$ 的矩型的巨型大餐桌，而自己正处在这个大餐桌的一侧的中点下边。餐桌被划分为了 $n \times m$ 个小方格，每一个方格中都有一个圆形的巨型大餐盘，上面盛满了令李大水牛朝思暮想的食物。李大水牛已将餐桌上所有的食物按其所能提供的能量打了分（有些是负的，因为吃了要拉肚子），他决定从自己所处的位置吃到餐桌的另一侧，但他吃东西有一个习惯——只吃自己前方或左前方或右前方的盘中的食物。

由于李大水牛已饿得不想动脑了，而他又想获得最大的能量，因此，他将这个问题交给了你。

每组数据的出发点都是最后一行的中间位置的下方！

## 说明/提示

快吃！快吃！快吃！


## 样例 #1

### 输入

```
6 7
16 4 3 12 6 0 3
4 -5 6 7 0 0 2
6 0 -1 -2 3 6 8
5 3 4 0 0 -2 7
-1 7 4 0 7 -5 6
0 -1 3 4 12 4 2
```

### 输出

```
41
```

# AI分析结果

### 综合分析与结论

本题的核心是通过动态规划（DP）求解从餐桌底部到顶部的最大能量路径。大多数题解采用了类似“数字金字塔”的思路，即从下往上逐层计算每个位置的最大能量值。难点在于处理边界条件（如餐桌边缘）和优化空间复杂度。部分题解通过记忆化搜索或直接在原数组上进行DP来减少空间开销。

### 精选题解

#### 1. **作者：feecle6418 (赞：65)**  
   - **星级：★★★★★**  
   - **关键亮点**：直接在原数组上进行DP，避免了额外的空间开销，且代码简洁高效。  
   - **核心代码**：
     ```cpp
     for(int i=1;i<=n;i++){
         for(int j=1;j<=m;j++){
             cin>>a[i][j];
             a[i][j]+=max(a[i-1][j-1],max(a[i-1][j],a[i-1][j+1]));
         }
     }
     ```
   - **个人心得**：通过边输入边处理，减少了代码量，且避免了额外的数组空间。

#### 2. **作者：2016jzy (赞：81)**  
   - **星级：★★★★☆**  
   - **关键亮点**：经典的DP思路，清晰易懂，处理了边界条件。  
   - **核心代码**：
     ```cpp
     for(int i=1;i<=n;i++){
         for(int j=1;j<=m;j++){
             f[i][j]=max(max(f[i-1][j],f[i-1][j-1]),f[i-1][j+1])+a[i][j];
         }
     }
     ```
   - **个人心得**：通过初始化边界为负无穷，避免了越界问题。

#### 3. **作者：yangwenbin (赞：16)**  
   - **星级：★★★★☆**  
   - **关键亮点**：通过倒推的方式，从终点向前计算，思路清晰。  
   - **核心代码**：
     ```cpp
     for(int i=m;i>=1;i--){
         for(int j=1;j<=n;j++){
             dp[i][j]=max(max(dp[i+1][j],dp[i+1][j-1]),dp[i+1][j+1])+mp[i][j];
         }
     }
     ```
   - **个人心得**：倒推法在处理从下往上的问题时，思路更加直观。

### 最优关键思路与技巧

1. **动态规划**：从下往上逐层计算每个位置的最大能量值，避免重复计算。
2. **边界处理**：通过初始化边界为负无穷或使用条件判断，避免越界问题。
3. **空间优化**：直接在原数组上进行DP，减少空间开销。
4. **倒推法**：从终点向前计算，思路更加直观，适用于从下往上的问题。

### 拓展思路与类似题目

1. **类似题目**：
   - **P1216 [USACO1.5]数字金字塔**：经典的DP问题，与本题思路类似。
   - **P1002 [NOIP2002 普及组] 过河卒**：通过DP求解路径问题，涉及边界处理。
   - **P1048 [NOIP2005 普及组] 采药**：背包问题的变种，与DP思路相似。

2. **拓展思路**：可以将本题的DP思路拓展到其他路径问题，如最短路径、最大子矩阵等。通过调整状态转移方程和边界条件，可以解决更多类似问题。

### 个人心得摘录

- **feecle6418**：通过边输入边处理，减少了代码量，且避免了额外的数组空间。
- **2016jzy**：通过初始化边界为负无穷，避免了越界问题。
- **yangwenbin**：倒推法在处理从下往上的问题时，思路更加直观。

这些心得展示了在解决DP问题时，如何通过优化和调整思路来提高代码效率和可读性。

---
处理用时：34.84秒
# 题目信息

# [USACO3.2] 饲料调配 Feed Ratios

## 题目背景

农夫约翰从来只用调配得最好的饲料来喂他的奶牛。饲料用三种原料调配成：大麦，燕麦和小麦。他知道自己的饲料精确的配比，在市场上是买不到这样的饲料的。他只好购买其他三种混合饲料（同样都由三种麦子组成），然后将它们混合，来调配他的完美饲料。


## 题目描述

给出三组整数，表示 大麦：燕麦：小麦 的比例，找出用这三种饲料调配 x：y：z 的饲料的方法。

例如，给出目标饲料 3：4：5 和三种饲料的比例：

1:2:3
3:7:1
2:1:2
你必须编程找出使这三种饲料用量最少的方案，要是不能用这三种饲料调配目标饲料，输出“NONE”。“用量最少”意味着三种饲料的用量（整数）的和必须最小。


对于上面的例子，你可以用8份饲料1，1份饲料2，和5份饲料3，来得到7份目标饲料：

8\*(1:2:3) + 1\*(3:7:1) + 5\*(2:1:2) = (21:28:35) = 7\*(3:4:5)

表示饲料比例的整数以及目标饲料的都是小于100的非负整数。表示各种饲料的份数的整数，都小于100。一种混合物的比例不会由其他混合物的比例直接相加得到。


## 说明/提示

题目翻译来自NOCOW。

USACO Training Section 3.2


## 样例 #1

### 输入

```
3 4 5
1 2 3
3 7 1
2 1 2 ```

### 输出

```
8 1 5 7```

# AI分析结果

### 综合分析与结论

本题的核心是通过给定的三种饲料比例，找到调配目标饲料的最小整数解。题解中主要采用了以下几种思路：

1. **枚举法**：通过枚举三种饲料的份数，判断是否满足目标比例。这种方法简单直接，但需要处理特殊情况（如0的情况）。
2. **高斯消元法**：将问题转化为线性方程组，通过高斯消元求解。这种方法较为高效，但可能引入精度误差。
3. **柯西不等式**：利用数学不等式判断比例是否成比例，避免了0的特判。
4. **行列式法**：通过三阶行列式求解方程组，但代码实现较为复杂。
5. **DFS剪枝**：通过深度优先搜索结合剪枝策略，减少搜索空间。

从代码质量和思路清晰度来看，**Flokirie**的题解（利用柯西不等式）和**Mingoal**的题解（高斯消元法）较为优秀，思路清晰且代码简洁。其他题解虽然也能解决问题，但代码复杂或思路不够清晰。

### 所选高星题解

#### 1. Flokirie (5星)
**关键亮点**：利用柯西不等式巧妙避免了0的特判，代码简洁且数学思路清晰。
**个人心得**：通过数学不等式简化了问题，避免了复杂的特判逻辑。
**核心代码**：
```cpp
#define squ(x) ((x)*(x))
if ((squ(a)+squ(b)+squ(c))*(squ(x)+squ(y)+squ(z))==squ(a*x+b*y+c*z)){
    //do something...
}
```
**实现思想**：通过柯西不等式判断比例是否成比例，避免了0的特判。

#### 2. Mingoal (4星)
**关键亮点**：使用高斯消元法求解线性方程组，思路清晰且代码简洁。
**核心代码**：
```cpp
int gauss(){//高斯消元
    int i,j;
    double now;
    for (i=0;i<3;++i){
        int k=i;
        for (j=i+1;j<3;++j)
        if (fabs(a[j][i])>fabs(a[k][i])) k=j;
        if ((fabs(now=a[k][i]))<eps) return 1;
        for (j=i;j<=3;++j) swap(a[i][j],a[k][j]);
        for (j=i;j<=3;++j) a[i][j]/=now;
        for (k=0;k<3;++k)
            if (k!=i){
               now=a[k][i];
               for (j=i;j<=3;++j) a[k][j]-=a[i][j]*now; 
            }
    }
    return 0;
}
```
**实现思想**：通过高斯消元法求解线性方程组，判断是否有整数解。

### 最优关键思路与技巧

1. **数学不等式应用**：利用柯西不等式等数学工具简化问题，避免复杂的特判逻辑。
2. **高斯消元法**：将问题转化为线性方程组，通过高斯消元求解，适用于类似的比例问题。
3. **DFS剪枝**：通过深度优先搜索结合剪枝策略，减少搜索空间，适用于搜索类问题。

### 可拓展之处

1. **类似比例问题**：可以拓展到更多比例的调配问题，如四元或多元比例。
2. **线性方程组求解**：高斯消元法可以应用于其他需要求解线性方程组的问题。
3. **数学不等式应用**：在其他需要判断比例或成比例的问题中，可以尝试使用柯西不等式等数学工具。

### 推荐题目

1. **P1029 最大公约数和最小公倍数问题**：考察比例和公约数的应用。
2. **P1036 选数**：考察枚举和剪枝策略。
3. **P1075 质因数分解**：考察数学工具在算法中的应用。

### 个人心得总结

- **调试经历**：部分题解在处理0的情况时遇到了困难，通过数学工具或特殊处理解决了问题。
- **踩坑教训**：枚举法虽然简单，但需要处理大量特殊情况，容易出错。
- **顿悟感想**：数学工具在算法中的应用可以大大简化问题，提高代码的可读性和效率。

---
处理用时：38.56秒
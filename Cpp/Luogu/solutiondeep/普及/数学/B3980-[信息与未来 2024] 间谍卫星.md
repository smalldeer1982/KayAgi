# 题目信息

# [信息与未来 2024] 间谍卫星

## 题目描述

Dr. X 研制的间谍卫星拍摄到了许多 U 国建筑的照片。为了找出其中的军事设施，Dr. X 需要估算建筑的大小。Dr. X 发现，所有间谍卫星拍摄的照片都恰好包含一个完整的正方形，其中建筑边界上的像素被标记为了白色（用 $1$ 表示），其余像素被标记为了黑色（用 $0$ 表示）。一些照片的案例如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/5ponzg18.png)

你的任务是根据拍摄的照片估算被摄正方形的**边长** (米)。照片中的每个像素都代表一个一米乘一米的正方形。

## 说明/提示

本题仅有一个 $n\leq 100$ 的测试数据，且测试数据和样例数据的生成方式相同。

当你对一幅照片估计的边长和实际建筑边长差距不超过 $2$ 时，则认为估计正确。若估计正确的照片比例 $A > 0.5$，本题得分为 $(A − 0.5) \times 30$ 向下取整，否则得零分。

我们在生成每张照片时，都先在平面上生成一个随机的、边长为整数、边界宽度为 $1$ 像素的正方形，然后“拍摄”得到它的照片。

>本题原始满分为 $15\text{pts}$。

## 样例 #1

### 输入

```
见附件中的 sample.in```

### 输出

```
53```

# AI分析结果

### 综合分析与结论

本题的核心任务是通过给定的黑白像素图估算正方形的边长。题解中主要出现了两种思路：
1. **周长法**：通过统计边界像素（`1`）的数量，利用正方形周长公式 $C = 4a$ 计算边长。该方法简单直接，但可能存在精度问题。
2. **面积法**：通过洪水填充（BFS/DFS）计算正方形的面积，再通过面积公式 $a = \sqrt{S}$ 计算边长。该方法较为复杂，但精度较高。

大多数题解采用了周长法，因其实现简单且适用于本题的约束条件。部分题解尝试了面积法，但代码复杂且效率较低。整体来看，周长法更适合本题。

### 所选高星题解

#### 1. 作者：tanzexiaodezhonghao (★★★★★)
**关键亮点**：简洁高效，直接利用周长公式，代码清晰易懂。
**代码核心**：
```cpp
int n, cnt; char x;
cin >> n;
while (n--) {
    cnt = 0;
    for (int j = 1; j <= 128; j++) {
        for (int k = 1; k <= 128; k++) {
            cin >> x; cnt += (x - '0');
        }
    }
    cout << cnt / 4 << endl;
}
```
**实现思想**：统计所有 `1` 的数量，直接除以 4 得到边长。

#### 2. 作者：Mike_L (★★★★☆)
**关键亮点**：在周长法基础上进行了优化，考虑了边界像素的重复计数问题，增加了 `+1` 的修正。
**代码核心**：
```cpp
int n, ans;
cin >> n;
while (n--) {
    ans = 0;
    for (int i = 1; i <= 128; i++) {
        string s; cin >> s;
        for (int j = 0; j < 128; j++) {
            ans += s[j] - '0';
        }
    }
    cout << ans / 4 + 1 << endl;
}
```
**实现思想**：统计 `1` 的数量，除以 4 并加 1 以修正边长。

#### 3. 作者：Tonymcmcmc (★★★★☆)
**关键亮点**：同样采用周长法，代码简洁，且考虑了四角的重复计数问题。
**代码核心**：
```cpp
int cnt = 0;
for (int j = 0; j < 128; j++) {
    for (int k = 0; k < 128; k++) {
        char c; cin >> c;
        if (c == '1') cnt++;
    }
}
cout << cnt * 1.0 / 4 + 1 << endl;
```
**实现思想**：统计 `1` 的数量，除以 4 并加 1 以修正边长。

### 最优关键思路与技巧
- **周长法**：通过统计边界像素的数量，利用正方形周长公式计算边长。该方法简单高效，适用于本题的约束条件。
- **边界修正**：在周长法的基础上，考虑边界像素的重复计数问题，通过 `+1` 进行修正，提高精度。

### 可拓展之处
- **类似问题**：可以扩展到其他几何图形的边长或面积计算，如矩形、圆形等。
- **算法优化**：在更复杂的图形或更大的数据规模下，可以考虑使用更高效的算法或数据结构，如并查集、线段树等。

### 推荐相似题目
1. [P1888 正方形](https://www.luogu.com.cn/problem/P1888)
2. [P1057 矩形](https://www.luogu.com.cn/problem/P1057)
3. [P1162 填涂颜色](https://www.luogu.com.cn/problem/P1162)

### 个人心得总结
- **调试经历**：部分题解在实现过程中遇到了边界像素重复计数的问题，通过 `+1` 进行修正。
- **踩坑教训**：在使用字符串输入时，需注意下标从 `0` 开始，避免越界错误。
- **顿悟感想**：周长法虽然简单，但在本题中足够高效且准确，适合竞赛中的快速实现。

---
处理用时：26.16秒
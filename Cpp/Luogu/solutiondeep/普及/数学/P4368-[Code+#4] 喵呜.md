# 题目信息

# [Code+#4] 喵呜

## 题目描述

在马路边有一排整齐的 $n$ 棵樱花树，每棵树的高度都恰好为 $h$。某天，一只可爱的小猫偶然跑到树上来玩，但是这只小猫有些对樱花过敏，所以她现在想赶快离开这些樱花树。

具体来说，现在小猫位于第 $x$ 棵樱花树上高度为 $y$ 的位置，她可以通过两种跳跃来离开樱花树：

轻轻跳：向左或向右移动 $a$ 棵樱花树的同时，所在高度下降 $b$，即一次轻轻跳可以从起点移动到第 $x+a$ 或 $x-a$ 棵树上高度为 $y-b$ 的位置，注意当小猫所在高度不大于 $b$ 时不可以使用轻轻跳。

使劲跳：向左或向右移动 $a$ 棵樱花树的同时，所在高度上升 $b$，即一次使劲跳可以从起点移动到第 $x+a$ 或 $x-a$ 棵树上高度为 $y+b$ 的位置，注意当小猫所在高度大于 $h-b$ 时不可以使用使劲跳。

为了离开这片樱花树，小猫需要移动到第 $1$ 或第 $n$ 棵树上，高度为 $h$ 或 $1$ 的位置（这样她可以呼吸新鲜空气或者直接走开樱花树）。现在小猫想知道，自己最少需要多少次跳跃才能达成目标。由于她是一只可爱的小猫，所以希望由你来告诉她。


## 说明/提示

| 测试点编号 | $n,h$ 的范围 | 特殊约定 |
| :----------: | :----------: | :----------: |
|$1,2$  | $\le10$ | $b=1$ |
|$3,4$  |  $\le10$| $a=b=1$ |
|$5,6,7,8$  |$\le10$  | 无 |
|$9,10$  | $\le500$ | $b=1$ |
|  $11,12$| $\le500$ | $a=b=1$ |
|$13,14,15$  | $\le500$ | 无 |
|$16,17$  | $\le10^5$ | $h\le10$ |
|$18,19,20$  | $\le10^5$ | 无 |
| $21,22$ | $\le10^{15}$ | $h\le10$ |
| $23,24,25$ | $\le10^{15}$ | 无 |

对于所有数据，保证 $n \geq 2$，$a < n$，$b \leq h$。

Credit: https://www.luogu.org/discuss/show/38908

## 样例 #1

### 输入

```
3
5 5 3 3 2 2
5 7 3 5 2 2
5 7 4 6 1 1```

### 输出

```
1
1
1```

## 样例 #2

### 输入

```
3
5 5 3 3 3 2
5 7 1 4 2 2
5 7 1 2 1 2```

### 输出

```
-1
-1
-1```

## 样例 #3

### 输入

```
4
999999999999 999999999999 454545454545 454545454545 1 1
777777777777 777777777777 343434343434 343434343434 1 1
777777777777 999999999999 343434343434 454545454545 1 1
999999999999 777777777777 454545454545 343434343434 1 1```

### 输出

```
454545454544
343434343433
-1
-1```

# AI分析结果

### 综合分析与结论

本题的核心在于通过数学分析确定小猫能否通过跳跃到达目标点，并计算最小跳跃次数。大多数题解都采用了类似的思路：首先判断小猫能否在水平和垂直方向上分别到达目标点，然后通过步数差的奇偶性来判断是否能够同时到达目标点。最优的解法通常是通过数学推导，避免了复杂的搜索或模拟，直接通过整除和奇偶性判断来解决问题。

### 所选高星题解

#### 1. **作者：liangledong (4星)**
- **关键亮点**：思路清晰，通过数学分析直接判断能否到达目标点，代码简洁且高效。
- **个人心得**：强调了数学分析的重要性，避免了复杂的搜索算法，直接通过整除和奇偶性判断来解决问题。
- **核心代码**：
  ```cpp
  if((x-1)%a==0&&(h-y)%b==0){//左上
      if(((x-1)/a-(h-y)/b)%2==0)ans=min(ans,max((x-1)/a,(h-y)/b));
  }
  ```
  **核心思想**：通过判断水平和垂直方向的步数差是否为偶数，来确定是否能够同时到达目标点。

#### 2. **作者：wunaidedanjuan (4星)**
- **关键亮点**：详细分析了水平和垂直方向的移动步数，并通过步数差的奇偶性来判断是否能够到达目标点，代码结构清晰。
- **核心代码**：
  ```cpp
  if((x-1)%a==0) p[0][0]=(x-1)/a;
  else p[0][0]=-1;
  ```
  **核心思想**：通过计算水平和垂直方向的步数，并判断步数差的奇偶性，来确定是否能够到达目标点。

#### 3. **作者：lmrttx (4星)**
- **关键亮点**：通过数学分析直接判断能否到达目标点，代码简洁且高效，避免了复杂的搜索算法。
- **核心代码**：
  ```cpp
  if((x-1)%a==0) l = (x-1)/a;
  else l = -1;
  ```
  **核心思想**：通过判断水平和垂直方向的步数差是否为偶数，来确定是否能够同时到达目标点。

### 最优关键思路或技巧

1. **数学分析**：通过整除和奇偶性判断，直接确定小猫能否到达目标点，避免了复杂的搜索或模拟。
2. **步数差判断**：通过判断水平和垂直方向的步数差是否为偶数，来确定是否能够同时到达目标点。
3. **代码简洁性**：通过数学推导，代码简洁且高效，避免了复杂的逻辑判断。

### 可拓展之处

1. **类似问题**：可以扩展到其他类似的移动问题，如棋盘上的移动、跳跃问题等。
2. **算法套路**：类似的问题可以通过数学分析来简化问题，避免复杂的搜索或模拟。

### 推荐题目

1. **P1002 [NOIP2002 普及组] 过河卒**：考察类似移动问题，通过动态规划解决。
2. **P1219 [USACO1.5] 八皇后 Checker Challenge**：考察类似移动问题，通过回溯算法解决。
3. **P1443 马的遍历**：考察类似移动问题，通过广度优先搜索解决。

### 个人心得总结

- **调试经历**：部分题解提到在调试过程中发现步数差判断的重要性，通过画图帮助理解。
- **踩坑教训**：部分题解提到在初始代码中忽略了步数差的奇偶性判断，导致无法正确解决问题。
- **顿悟感想**：通过数学分析，能够简化问题，避免复杂的搜索或模拟，提高代码效率。

---
处理用时：21.51秒
# 题目信息

# 難題「龍の頸の玉　-五色の弾丸-」

## 题目背景

輝夜が出した難題の一つ。この玉にはそれぞれ星が入っていて、
七つ集めるとどんな願いでもかなうという。

辉夜所出的难题之一。这些玉石各自都被画上了星星，
据说收集齐七颗就能够实现任何的愿望。 

## 题目描述

五颗龙玉在同一平面上形成一个外切圆半径为r的正五边形，其中一颗（$aa$）在外心与辉夜的连线上。五边形的外心（外切圆圆心）绕着辉夜以R的半径v的速度顺时针旋转（不自转）。五颗龙玉每t秒钟发射一圈弹幕，一圈 $k$ 个子弹。$aa$ 发出的子弹中有一个子弹是背对辉夜的方向的，其他的龙玉发出的子弹方向与 $aa$ 相同，我们可以认为子弹是无限快的。作为一个 neet，辉夜不能让子弹打到自己。

永琳对此表示很担心，于是请你写一个程序判断辉夜的安全。

下面是图示：

![](https://cdn.luogu.com.cn/upload/pic/27885.png)

注：红色为龙玉旋转轨迹                 
p.s.感谢几何画板为本题提供技术支持；感谢上海爱丽丝幻乐团提供信仰加成

## 说明/提示

- 对于 $50\%$ 的数据，保证 $T<5000$。
- 对于 $100\%$ 的数据，保证 $T<10^5$，$r,k,R,v,t<10^9$。

## 样例 #1

### 输入

```
2
6.000000 11.000000 10.000000 100.000000 43
1.000000 10.000000 10.000000 100.000000 11
 ```

### 输出

```
yes
yes```

# AI分析结果

### 综合分析与结论

本题的核心在于通过几何分析简化问题，最终转化为对 $k$ 的奇偶性判断。大多数题解都抓住了“五边形不自转”和“子弹无限快”这两个关键点，从而忽略了速度、时间等复杂参数，将问题简化为静态几何问题。部分题解通过三角函数或向量计算进一步验证了 $k$ 的奇偶性与辉夜安全性的关系，但最终结论都指向了相同的判断逻辑。

### 所选高星题解

#### 1. 作者：Chinese_zjc_ (5星)
- **关键亮点**：通过几何对称性和三角函数推导，详细分析了子弹方向与辉夜位置的关系，最终通过 $k$ 的奇偶性判断辉夜是否安全。代码简洁且优化到位，最终版本直接判断 $k$ 的奇偶性，避免了复杂的计算。
- **个人心得**：作者在推导过程中发现了无理数的性质，进一步简化了代码，体现了对数学性质的深刻理解。

**核心代码：**
```cpp
scanf("%lld",&T);
while(T--)
{
    scanf("%lf%lf%lf%lf%lld",&r,&R,&v,&t,&k);
    puts(k&1?"yes":"no");
}
```

#### 2. 作者：SmallBlack (4星)
- **关键亮点**：通过逐步分析题目条件，逐步忽略无关参数，最终将问题简化为对 $k$ 的奇偶性判断。思路清晰，代码简洁，适合初学者理解。
- **个人心得**：作者在分析过程中强调了“子弹无限快”这一关键点，帮助读者理解为何可以忽略速度和距离参数。

**核心代码：**
```cpp
ll t=d;
while(t--)
{
    scanf("%*lf%*lf%*lf%*lf");
    if(d&1) puts("yes");
    else puts("no");
}
```

#### 3. 作者：Zvelig1205 (4星)
- **关键亮点**：使用向量计算子弹方向与辉夜位置的角度关系，进一步验证了 $k$ 的奇偶性判断。代码结构清晰，向量运算部分展示了较高的数学功底。
- **个人心得**：作者通过向量计算展示了如何通过数学工具简化几何问题，适合有一定数学基础的读者。

**核心代码：**
```cpp
bool pd_jz(vec hy,vec zd)
{
    double theta=2*pi/(1.0*k);
    vec ls1=zd-hy,ls2=hy*-1.0;
    double alpha=(ls1*ls2)/((~ls1)*(~ls2));
    double sum=pi/2;sum-=alpha;
    double yu=sum-floor(sum/theta)*theta;
    return yu==0;
}
```

### 最优关键思路与技巧

1. **几何对称性**：利用正五边形的对称性，将问题简化为仅需考虑三个点的子弹方向。
2. **参数忽略**：通过“子弹无限快”和“五边形不自转”这两个条件，忽略速度、时间等复杂参数，将问题转化为静态几何问题。
3. **奇偶性判断**：最终问题简化为对 $k$ 的奇偶性判断，体现了通过数学性质简化问题的思路。

### 可拓展之处

- **类似题型**：类似的几何问题可以通过对称性和参数忽略来简化，如圆与多边形的相对运动问题。
- **算法套路**：在处理几何问题时，可以考虑通过向量运算或三角函数来简化计算，尤其是当问题涉及角度和方向时。

### 推荐题目

1. **P1357 圆的面积并**：考察几何计算与对称性。
2. **P2735 电网**：涉及几何图形的相对位置与运动。
3. **P2742 二维凸包**：考察几何图形的性质与算法应用。

### 个人心得总结

- **调试经历**：部分作者在推导过程中通过几何画板辅助理解，帮助验证推导的正确性。
- **踩坑教训**：忽略关键条件（如“子弹无限快”）可能导致问题复杂化，需仔细分析题目条件。
- **顿悟感想**：通过数学性质（如无理数性质）可以大幅简化代码，体现了数学在算法中的重要性。

---
处理用时：27.27秒
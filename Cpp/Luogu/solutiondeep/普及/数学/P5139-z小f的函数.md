# 题目信息

# z小f的函数

## 题目背景

$z$小$f$热爱数学。

## 题目描述

由于$z$小$f$要复习$NOIp$，而且他认为觉得数学作业太简单了，于是把数学作业交给了你。

题目如下：

给定二次函数$y=ax^{2}+bx+c (a \neq 0)$，求函数的最大（小）值；

$z$小$f$当然不喜欢看见做这么简单的题目啦，于是他决定给函数进行如下操作：

操作 $1$：给定系数$k$，将函数向上平移$k$位，（$k$<$0$则向下平移$-k$位）

操作$2$：给定系数$k$，将函数向右平移$k$位，（$k$<$0$则向左平移$-k$位）

操作$3$：给定系数$k_1,k_2$，将函数关于点$(k_1,k_2)$进行对称变换

操作$4$：给定系数$k_1,k_2$，求函数在闭区间$[k_1,k_2]$上的最小值和最大值

操作$5$：给定系数$u,v,w$，求出二次函数$y$与二次函数$y_2=ux^{2}+vx+w$是否有交点。

由于$z$小$f$需要，你还要输出最终的二次函数$y$此时的最大值（最小值）。


## 说明/提示

对于30%的数据，$n<=100$，且没有操作$3$。

对于60%的数据，$n<=1000$。

对于100%的数据，$T<=10,n<=10000$

数据保证$a \neq 0,u \neq 0,a \neq u,1<=p<=5,-100<=a,b,c,k1,k2,k,u,v,w<=100$。

## 样例 #1

### 输入

```
1
1 0 0
4
1 3
1 -4
4 1 2
5 -1 0 -3
```

### 输出

```
0.00 3.00
0
-1.00
```

## 样例 #2

### 输入

```
1
-4 10 100
15
4 0 78
5 -4 -95 -97
1 -79
4 12 54
4 -60 11
1 83
4 68 80
2 -63
1 71
1 80
3 12 67
1 60
1 41
3 35 -13
4 6 26
```

### 输出

```
-23456.00 106.25
2
-11103.00 -435.00
-14979.00 27.25
-24696.00 -17712.00
-6972.00 -1892.00
0.25
```

# AI分析结果

### 综合分析与结论

本题的核心在于对二次函数的各种操作（平移、对称、求最值、判断交点等）进行模拟。大多数题解通过将二次函数转换为顶点式或一般式来处理这些操作，部分题解还引入了数学推导来简化计算。整体来看，题解的思路较为一致，但在实现细节和代码优化上存在差异。

### 所选高星题解

#### 1. **作者：EnofTaiPeople (5星)**
- **关键亮点**：该题解详细解释了每个操作的数学原理，并通过顶点式简化了平移和对称操作的计算。代码结构清晰，逻辑严谨，且对每个操作的处理都进行了优化。
- **个人心得**：作者提到“AK竞赛后发题解，RP++”，表明其对竞赛题目的熟悉度和自信。
- **核心代码**：
  ```cpp
  inline void rigt(ld a,ld &b,ld &c,ld w){
      ld d=b/(2*a)-w,e=(4*a*c-b*b)/(4*a);
      c=e+d*d*a;b=d*2*a;return;
  }
  ```
  **实现思想**：通过顶点式进行右移操作，避免了复杂的数学推导。

#### 2. **作者：Eason_AC (4.5星)**
- **关键亮点**：该题解使用一般式进行处理，虽然计算量较大，但通过详细的分类讨论和数学推导，确保了每个操作的正确性。代码可读性较好，且对每个操作的处理都进行了详细说明。
- **核心代码**：
  ```cpp
  inline void CHS(ld &a,ld &b,ld &c,ld x1,ld y1){
      ld zhou=-b/(2*a);a=-a;
      b=-(2*a)*(x1*2-zhou);
      ld x2=2*x1,y2=y1*2-c;
      c=y2-a*x2*x2-b*x2;return;
  }
  ```
  **实现思想**：通过一般式进行对称操作，虽然计算复杂，但逻辑清晰。

#### 3. **作者：xueruo (4星)**
- **关键亮点**：该题解通过顶点式简化了平移和对称操作的计算，代码简洁且易于理解。作者还提供了详细的数学推导，帮助读者理解每个操作的原理。
- **核心代码**：
  ```cpp
  inline void CHS(double &a, double &b, double &c, double k1, double k2) {
      a = -a;
      b = 4 * a * k1 + b;
      c = 2 * k2 - 4 * a * k1 * k1 - 2 * b * k1 - c;
  }
  ```
  **实现思想**：通过顶点式进行对称操作，简化了计算。

### 最优关键思路与技巧

1. **顶点式的使用**：通过将二次函数转换为顶点式，可以简化平移和对称操作的计算，减少代码复杂度。
2. **数学推导**：通过详细的数学推导，确保每个操作的正确性，尤其是在对称操作中，推导出新的函数表达式是关键。
3. **分类讨论**：在处理区间最值时，通过分类讨论确保结果的准确性，尤其是在顶点是否在区间内的情况下。

### 可拓展之处

- **类似题目**：可以拓展到其他函数的变换操作，如三次函数、指数函数等。
- **算法套路**：在处理函数变换时，可以通过数学推导简化计算，减少代码复杂度。

### 推荐题目

1. **P4711**：模拟题，考察函数的平移和对称操作。
2. **P3952**：时间复杂度，考察复杂模拟题的实现。
3. **P5139**：二次函数的变换与最值问题。

### 个人心得总结

- **调试经历**：部分题解提到在对称操作中遇到了精度问题，通过调整点的选择（如从1单位改为10单位）解决了问题。
- **顿悟感想**：通过顶点式简化计算，减少代码复杂度，是处理函数变换的有效方法。

---
处理用时：29.84秒
# 题目信息

# 中意

## 题目背景

（背景改编自百度贴吧/南北组备用吧/呆萌南北日常/F8984，作者 [落墨成白](https://tieba.baidu.com/home/main/?un=%E8%93%93%E8%90%BD%E9%B1%BC&ie=utf-8&id=tb.1.a8bcbb73.CMcL9PXngjHz-dKRJ7_T4A&fr=frs)）

&emsp;&emsp;在这样的时间，这样的情形下她与她面面相望却不动一步，只有一个可能——她在等。  
&emsp;&emsp;等她求助，等她妥协，等她心甘情愿。  
&emsp;&emsp;洛天依想这厮做事儿还真是欠扁，看着手机屏幕上跳出的字：“还不过来？”  
&emsp;&emsp;她毫不客气的回道：“你想让我过到哪儿去呀？”  
&emsp;&emsp;“如果除了到了身边来，还有别的路可以走的话。”  
&emsp;&emsp;当然妥协的乐正大小姐虽然嘴里叨念着，提着路上买的双皮奶和蛋挞，仍是乖乖先迈动了步子。  
&emsp;&emsp;刚一开门，小吃货果然乖乖扑进怀里了。  
&emsp;&emsp;“不能全吃哦，来做个游戏吧！”  
&emsp;&emsp;“坏蛋阿绫。”

## 题目描述

**和题意有关的句子已加粗。**

&emsp;&emsp;“首先，有一个神奇的数字 $a$。”  
&emsp;&emsp;“天依很饿呢，**所以就给天依 $2^{a+2}$ 个蛋挞吧。**”  
&emsp;&emsp;“我还要！”  
&emsp;&emsp;“那……还有一个神奇的数字 $b$，**天依可以获得 $b$ 倍的蛋挞哦！**”  
&emsp;&emsp;**“哇！那我就有 $k=b \times 2^{a+2}$ 个蛋挞啦！**”  
&emsp;&emsp;“天依还喜欢整百数呢，**所以凑个整，给 $p=\lceil \frac{k}{25}\rceil \times 100$ 个蛋挞吧！**”  
&emsp;&emsp;“阿绫太好啦！”  
&emsp;&emsp;“呐\~给你。”阿绫笑着抚过天依的脑袋，从袋子里拿出寥寥几个蛋挞。  
&emsp;&emsp;“欸？！”  
&emsp;&emsp;“最后，天依不能吃太多哦，**所以 $p$ 要对 $\color{black} 998 \color{red}3 \color{black} 44353$ 取模。**”  
&emsp;&emsp;“…果然是坏蛋。”  

现在天依想知道，对于阿绫给出的 $a$ 和 $b$，自己究竟能吃到几个蛋挞，即 $p \bmod \color{black} 998 \color{red}3 \color{black} 44353$ 的结果是多少？

注：$\lceil x \rceil$ 指 $x$ 向上取整。

## 说明/提示

#### 样例解释 #2

$k=60 \times 2^{(15+2)}=7864320$，$p=\lceil \frac{k}{25} \rceil \times 100 =31457300$。

------------
#### 数据范围
**本题采用捆绑测试。**

- Subtask 1（20 Points），$a,b \leq 100$ 且 $b \equiv 0 \pmod{25}$。   
- Subtask 2（50 Points），$b \leq 10^9$。   
- Subtask 3（30 Points），数据无特殊限制。

对于 $100 \%$ 的数据，$20 \leq b \leq 10^{10010}$，$1 \leq a \leq 10^{18}+8$。

------------

#### 题目背景 ( 续 )

&emsp;&emsp;还是万分纠结地看着天依手中甜腻的早餐，“一大早吃这么甜，摄入糖分过多会促使动脉硬化，会……”  
&emsp;&emsp;洛天依打断她：“那你想不想更甜一点？”  
&emsp;&emsp;“嗯？”  
&emsp;&emsp;洛天依踮起脚轻轻地在她的右脸颊印下一个吻，“乐正绫，我好中意你呀。”  
&emsp;&emsp;乐正绫愣了愣，问：“你说什么？”  
&emsp;&emsp;洛天依脸红了红，转过身小口咀嚼着蛋挞：“听不懂算了。”  
&emsp;&emsp;“我也好中意你呀。”像羽毛一样轻柔的声音，撩过两人的心尖。  
&emsp;&emsp;口中的蛋挞果真又甜腻上几分了呢。

## 样例 #1

### 输入

```
30 1
```

### 输出

```
1000```

## 样例 #2

### 输入

```
60 15
```

### 输出

```
31457300```

## 样例 #3

### 输入

```
2020 412```

### 输出

```
133047246```

# AI分析结果

### 综合分析与结论

本题的核心在于计算 $\left\lceil \frac{b \times 2^{a+2}}{25} \right\rceil \times 100 \bmod 998344353$，难点在于处理大数 $b$ 和快速幂的计算，以及如何消除向上取整的影响。各题解的主要思路是通过枚举一个最小的数 $x$，使得 $b \times 2^{a+2} + x$ 能被 25 整除，从而将向上取整转化为简单的加法操作。此外，由于 $b$ 的范围极大，部分题解采用了字符串读入的方式处理大数。

### 所选高星题解

#### 1. 作者：KaguyaH (4星)
**关键亮点**：
- 通过数学推导将向上取整转化为加法操作，简化了计算。
- 使用了快速幂算法高效计算 $2^{a+2}$。
- 代码简洁且高效，处理了大数 $b$ 的输入问题。

**个人心得**：
- 强调了模数的特殊性（$998344353$），提醒读者注意细节。

**核心代码**：
```cpp
static inline const lu qpow(llu b, llu e, const lu mod) {
    b %= mod; llu r(1 % mod);
    while (e) {
        if (e bitand 1) r = 1ull * r * b % mod;
        b = 1ull * b * b % mod, e >>= 1;
    }
    return r;
}
```

#### 2. 作者：pomelo_nene (4星)
**关键亮点**：
- 详细分析了 $2^n$ 的末两位规律，利用循环性质优化了计算。
- 通过枚举 $x$ 来消除向上取整的影响，思路清晰。
- 代码结构清晰，处理了大数 $b$ 的输入问题。

**核心代码**：
```cpp
for(x=0;x<=24;x++)
    if((b2*a2+x)%25==0)break; // 暴力找x
ans=((ksm(2,a,mod)*b%mod+x)%mod*4)%mod;
```

#### 3. 作者：fjy666 (4星)
**关键亮点**：
- 通过数学推导将向上取整转化为加法操作，简化了计算。
- 使用了快速幂算法高效计算 $2^{a+2}$。
- 代码简洁且高效，处理了大数 $b$ 的输入问题。

**核心代码**：
```cpp
int tmp = 1ll * b % 25 * fpm(2,a+2,25) % 25;
if(tmp != 0)tmp = 25 - tmp;
int ttmp = 1ll * b % P * fpm(2,a+2,P) % P;
printf("%lld",4ll * (ttmp + tmp) % P);
```

### 最优关键思路与技巧

1. **消除向上取整**：通过枚举一个最小的数 $x$，使得 $b \times 2^{a+2} + x$ 能被 25 整除，从而将向上取整转化为简单的加法操作。
2. **快速幂优化**：使用快速幂算法高效计算 $2^{a+2}$，避免了大数计算的性能问题。
3. **大数处理**：通过字符串读入的方式处理大数 $b$，避免了直接计算大数的困难。

### 可拓展之处

- **类似算法套路**：在处理大数计算和模数运算时，快速幂和字符串读入是常见的优化手段，适用于其他涉及大数计算的题目。
- **同类型题**：类似的问题可以出现在数论、组合数学等领域，尤其是在需要处理大数和模数运算的题目中。

### 推荐题目

1. [P3811 【模板】乘法逆元](https://www.luogu.com.cn/problem/P3811)
2. [P1226 【模板】快速幂](https://www.luogu.com.cn/problem/P1226)
3. [P1045 麦森数](https://www.luogu.com.cn/problem/P1045)

### 个人心得总结

- **注意细节**：模数的特殊性（如 $998344353$）容易被忽略，需特别注意。
- **调试经验**：在处理大数时，字符串读入和快速幂的结合可以有效避免计算错误和性能问题。
- **顿悟感想**：通过数学推导将复杂问题转化为简单操作，是解决数论问题的关键。

---
处理用时：24.69秒
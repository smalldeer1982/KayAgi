# 题目信息

# [蓝桥杯 2022 国 C] 六六大顺

## 题目描述

六六大顺，本指农历六月初六。多用于祝福中年人士家庭幸福，工作顺利，事业有成，身体健康。源自《左传》“君义，臣行，父慈，子孝，兄爱，弟敬，此数者累谓六顺也。”

$6$ 在我国自古以来是一个吉祥的数字，定义数列 $A = (a_1,a_2,\cdots,a_i,\cdots)$，其中 $a_1 = 6, a_2 = 66, \cdots, a_i = 10\cdot a_{i−1}+6$。

定义一个数列 $B = (b_1,b_2,\cdots,b_i,\cdots)$，其中 $b_1 = 6 \times 6, b_2 = 66\times66, \cdots, b_i = a_i \times a_i$。

现在小蓝想知道数列 $B$ 的前 $n$ 项的和是多少，你能帮帮小蓝吗？

## 说明/提示

**【样例说明】**

$b_1 = 6×6 = 36,b_2 = 66×66 = 4356,b_3 = 666×666 = 443556$，所以前三项的和为 $36 + 4356 + 443556 = 447948$。

**【评测用例规模与约定】**

对于 $20\%$ 的评测用例，$1≤n≤100$；

对于 $50\%$ 的评测用例，$1≤n≤10^5$；

对于所有评测用例，$1\le n\le 10^7$。

蓝桥杯 2022 国赛 C 组 H 题。

## 样例 #1

### 输入

```
3```

### 输出

```
447948```

# AI分析结果

### 综合分析与结论

本题的核心在于计算数列 \( B \) 的前 \( n \) 项和，其中每一项 \( b_i \) 是由 \( i \) 个 6 组成的数的平方。由于 \( n \) 的最大值为 \( 10^7 \)，直接使用高精度计算会导致时间或空间超限。因此，大部分题解都通过数学推导将问题转化为高精度运算的优化问题，最终通过压位高精度或其他优化手段来解决。

### 题解评分与亮点

#### 1. **作者：0x282e202e2029 (赞：17)**
- **星级：5星**
- **关键亮点**：
  - 通过数学推导将问题转化为高精度运算，避免了直接计算平方的复杂度。
  - 使用 `int` 数组模拟高精度，避免了 `vector` 的高常数。
  - 代码中使用了多个卡常技巧，如 `++i` 和位运算，进一步优化了性能。
- **核心代码**：
  ```cpp
  for (int i = 1; i <= n; ++i) {
      arr[i << 1] = 4, arr[i] -= 8;
      arr[i + 1] += arr[i] / 10, arr[i] %= 10;
      if (arr[i] < 0) {
          arr[i] += 10, --arr[i + 1];
      }
  }
  ```
  **实现思想**：通过数组模拟高精度运算，处理进位和借位，最终输出结果。

#### 2. **作者：Zvelig1205 (赞：8)**
- **星级：4星**
- **关键亮点**：
  - 通过数学公式推导，将问题转化为高精度运算。
  - 使用封装好的高精度板子，简化了代码实现。
  - 提供了详细的数学推导过程，便于理解。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n;i++)
      _2[i<<1]=1,_1[i]=2;
  _1.__len=n,_2.__len=n<<1;
  _0=_0+_2-_1;
  _0=_0/9;_0=_0*4;
  ```
  **实现思想**：通过高精度数组存储中间结果，最终进行高精度运算。

#### 3. **作者：eb0ycn (赞：2)**
- **星级：4星**
- **关键亮点**：
  - 使用压位高精度，将数组的每一位存储四位数，节省了空间。
  - 提供了详细的压位高精度实现思路，适合学习高精度优化。
- **核心代码**：
  ```cpp
  for(ll i=2;i<=n;++i) {
      if(!(i&3))po1/=mod;
      if(!(i&1))c[i>>2]+=po1,po1*=100;
      if(c[i>>2]>=mod)c[(i>>2)+1]+=c[i>>2]/mod,c[i>>2]%=mod;
  }
  ```
  **实现思想**：通过压位高精度进行加法操作，最终输出结果。

### 最优关键思路与技巧

1. **数学推导**：通过将问题转化为高精度运算，避免了直接计算平方的复杂度。
2. **压位高精度**：将数组的每一位存储多位数，节省了空间，提高了效率。
3. **卡常技巧**：使用位运算、`++i` 等技巧，进一步优化了代码性能。

### 可拓展之处

- **高精度优化**：压位高精度可以应用于其他需要高精度计算的题目，如大数乘法、除法等。
- **数学推导**：通过数学公式推导，将复杂问题转化为简单的高精度运算，适合处理大数问题。

### 推荐题目

1. **P1009 [NOIP1998 普及组] 阶乘之和**（考察高精度计算）
2. **P1255 数楼梯**（考察高精度加法）
3. **P1303 A*B Problem**（考察高精度乘法）

### 个人心得摘录

- **0x282e202e2029**：通过回归原始的高精度实现，避免了 `vector` 的高常数，最终成功 AC。
- **Zvelig1205**：使用封装好的高精度板子，简化了代码实现，但需要注意数组大小以避免 MLE。
- **eb0ycn**：通过压位高精度节省了空间，适合处理大数问题。

这些心得体现了在解决高精度问题时，优化实现和选择合适的工具的重要性。

---
处理用时：25.38秒
# 题目信息

# 营救

## 题目背景

“咚咚咚……”“查水表！”原来是查水表来了，现在哪里找这么热心上门的查表员啊！小明感动得热泪盈眶，开起了门……

## 题目描述

妈妈下班回家，街坊邻居说小明被一群陌生人强行押上了警车！妈妈丰富的经验告诉她小明被带到了 $t$ 区，而自己在 $s$ 区。

该市有 $m$ 条大道连接 $n$ 个区，一条大道将两个区相连接，每个大道有一个拥挤度。小明的妈妈虽然很着急，但是不愿意拥挤的人潮冲乱了她优雅的步伐。所以请你帮她规划一条从 $s$ 至 $t$ 的路线，使得经过道路的拥挤度最大值最小。

## 说明/提示

#### 数据规模与约定

- 对于 $30\%$ 的数据，保证 $n\leq 10$。
- 对于 $60\%$ 的数据，保证 $n\leq 100$。
- 对于 $100\%$ 的数据，保证 $1 \leq n\leq 10^4$，$1 \leq m \leq 2 \times 10^4$，$w \leq 10^4$，$1 \leq s, t \leq n$。且从 $s$ 出发一定能到达 $t$ 区。

--- 

#### 样例输入输出 1 解释

小明的妈妈要从 $1$ 号点去 $3$ 号点，最优路线为 $1$->$2$->$3$。

## 样例 #1

### 输入

```
3 3 1 3
1 2 2
2 3 1
1 3 3```

### 输出

```
2
```

# AI分析结果

### 综合分析与结论

该题目要求从起点 `s` 到终点 `t` 的路径中，经过的道路拥挤度最大值最小。题解中主要采用了以下几种思路：

1. **最小生成树（Kruskal算法）**：通过将边按拥挤度从小到大排序，逐步构建最小生成树，当 `s` 和 `t` 连通时，当前边的拥挤度即为所求。
2. **最短路算法（Dijkstra、SPFA等）**：通过修改松弛操作，将路径的拥挤度最大值作为新的距离进行更新，最终得到 `s` 到 `t` 的最小拥挤度。
3. **二分答案 + BFS/DFS**：通过二分法枚举最大拥挤度，检查在该拥挤度限制下 `s` 和 `t` 是否连通。

**最优思路**：最小生成树（Kruskal算法）是最直观且高效的解法，适合处理该问题。最短路算法的修改版本也较为高效，但实现稍复杂。二分答案法虽然通用，但效率较低。

### 所选高星题解

#### 1. 作者：lzk5627 (5星)
**关键亮点**：使用Kruskal算法构建最小生成树，通过并查集判断 `s` 和 `t` 的连通性，思路清晰且代码简洁。
**核心代码**：
```cpp
sort(b+1,b+m+1,com); // 按拥挤度排序
for(int i=1;i<=m;i++) {
    int X=find(b[i].x), Y=find(b[i].y);
    if(X!=Y) a[X]=Y; // 合并集合
    if(find(s)==find(t)) { // 判断连通性
        cout<<b[i].cost<<endl;
        return 0;
    }
}
```
**个人心得**：作者提到“克鲁斯卡尔最小生成树就可以水过去”，表明该解法实现简单且高效。

#### 2. 作者：薄荷凉了夏 (4星)
**关键亮点**：使用Dijkstra算法，修改松弛操作为取最大值，思路清晰且代码可读性强。
**核心代码**：
```cpp
for(int i=head[x];i;i=edge[i].next) {
    int k=max(dis[x],edge[i].w), r=edge[i].now;
    if(k<dis[r]) {
        dis[r]=k;
        q.push(make_pair(-dis[r],r)); // 小根堆优化
    }
}
```
**个人心得**：作者提到“裸的最短路板子肯定不行”，强调了修改松弛操作的重要性。

#### 3. 作者：Orion_Rigel (4星)
**关键亮点**：使用二分答案 + BFS，通过枚举最大拥挤度并检查连通性，思路通用且易于理解。
**核心代码**：
```cpp
while(l<r) {
    int mid=(l+r)/2;
    if(SPFA(mid)) r=mid; // 检查连通性
    else l=mid+1;
}
```
**个人心得**：作者提到“洛谷的香港记者就是快”，表明该解法虽然效率较低，但实现简单。

### 最优关键思路与技巧

1. **Kruskal算法**：通过按边权排序并逐步构建最小生成树，适合处理最大边权最小化的问题。
2. **修改松弛操作**：在最短路算法中，将路径的拥挤度最大值作为新的距离进行更新，适合处理类似问题。
3. **二分答案**：通过枚举答案并检查连通性，适合处理需要最大化或最小化某个值的问题。

### 可拓展之处

- **类似问题**：如“货车运输”问题（P1967），同样需要处理路径中的最大边权最小化。
- **算法套路**：最小生成树、最短路算法的变种、二分答案等，均可用于处理类似的最优化问题。

### 推荐题目

1. **P1967 货车运输**：考察最大边权最小化问题，适合练习Kruskal算法。
2. **P3371 单源最短路径（弱化版）**：考察最短路算法，适合练习Dijkstra和SPFA。
3. **P3385 负环**：考察SPFA算法，适合练习最短路算法的变种。

### 个人心得摘录

- **lzk5627**：“克鲁斯卡尔最小生成树就可以水过去”，表明该解法实现简单且高效。
- **薄荷凉了夏**：“裸的最短路板子肯定不行”，强调了修改松弛操作的重要性。
- **Orion_Rigel**：“洛谷的香港记者就是快”，表明该解法虽然效率较低，但实现简单。

---
处理用时：35.99秒
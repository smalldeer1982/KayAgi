# 题目信息

# [NOIP 2008 普及组] 立体图

## 题目描述

小渊是个聪明的孩子，他经常会给周围的小朋友们讲些自己认为有趣的内容。最近，他准备给小朋友们讲解立体图，请你帮他画出立体图。

小渊有一块面积为 $m \times n$ 的矩形区域，上面有 $m \times n$ 个边长为 $1$ 的格子，每个格子上堆了一些同样大小的积木（积木的长宽高都是 $1$），小渊想请你打印出这些格子的立体图。我们定义每个积木为如下格式，并且不会做任何翻转旋转，只会严格以这一种形式摆放：

$$
\def\arraystretch{1e-10}
\begin{aligned}
&\verb!  +---+!\\
&\verb! /   /|!\\
&\verb!+---+ |!\quad\textsf{高}\\
&\verb!|   | +!\\
&\verb!|   |/ !\quad\textsf{宽}\\
&\verb!+---+  !\\
& \quad\textsf{长}
\end{aligned}$$


每个顶点用 $1$ 个加号 `+` 表示，长用 $3$ 个 `-` 表示，宽用 $1$ 个 `/`，高用两个 `|` 表示。字符 `+`，`-`，`/`，`|` 的 ASCII 码分别为 $43$，$45$，$47$，$124$。字符 `.`（ASCII 码 $46$）需要作为背景输出，即立体图里的空白部分需要用 `.` 来代替。立体图的画法如下面的规则：

若两块积木左右相邻，图示为：


$$
\def\arraystretch{1e-10}
\begin{aligned}
\verb!..+---+---+!\\
\verb!./   /   /|!\\
\verb!+---+---+ |!\\
\verb!|   |   | +!\\
\verb!|   |   |/.!\\
\verb!+---+---+..!\\
\end{aligned}
$$

若两块积木上下相邻，图示为：


$$
\def\arraystretch{1e-10}
\begin{aligned}
\verb!..+---+!\\
\verb!./   /|!\\
\verb!+---+ |!\\
\verb!|   | +!\\
\verb!|   |/|!\\
\verb!+---+ |!\\
\verb!|   | +!\\
\verb!|   |/.!\\
\verb!+---+..!\\
\end{aligned}
$$

若两块积木前后相邻，图示为：

$$
\def\arraystretch{1e-10}
\begin{aligned}
\verb!....+---+!\\
\verb!.../   /|!\\
\verb!..+---+ |!\\
\verb!./   /| +!\\
\verb!+---+ |/.!\\
\verb!|   | +..!\\
\verb!|   |/...!\\
\verb!+---+....!\\
\end{aligned}
$$

立体图中，定义位于第 $(m,1)$ 的格子（即第 $m$ 行第 $1$ 列的格子）上面自底向上的第一块积木（即最下面的一块积木）的左下角顶点为整张图最左下角的点。


## 说明/提示

NOIP2008普及组第四题


## 样例 #1

### 输入

```
3 4
2 2 1 2
2 2 1 1
3 2 1 2
```

### 输出

```
......+---+---+...+---+
..+---+  /   /|../   /|
./   /|-+---+ |.+---+ |
+---+ |/   /| +-|   | +
|   | +---+ |/+---+ |/|
|   |/   /| +/   /|-+ |
+---+---+ |/+---+ |/| +
|   |   | +-|   | + |/.
|   |   |/  |   |/| +..
+---+---+---+---+ |/...
|   |   |   |   | +....
|   |   |   |   |/.....
+---+---+---+---+......```

# AI分析结果

### 综合分析与结论

本题要求根据输入的矩阵绘制立体图，主要难点在于如何正确计算每个积木在二维平面中的位置，并处理积木之间的覆盖关系。大多数题解采用了类似的思路：通过打表存储单个积木的图形，然后根据矩阵中的位置和高度计算出每个积木的起始坐标，最后将积木绘制到全局的字符数组中。部分题解还考虑了如何优化坐标计算和覆盖顺序，以确保最终输出的立体图正确无误。

### 所选高星题解

#### 1. 作者：ZUTTER_ (赞：296)
- **星级**：5星
- **关键亮点**：
  - 思路清晰，从后往前、从下往上、从左往右依次覆盖，确保覆盖顺序正确。
  - 代码简洁，使用打表存储单个积木的图形，并通过函数 `fg` 实现积木的绘制。
  - 通过记录最大长宽，确保输出范围正确。
- **个人心得**：
  - “居然做出了第四题，鸡冻到内牛满面(\*/ω＼\*)” —— 体现了作者的成就感，也说明了本题的难度。

**核心代码片段**：
```cpp
void fg(int x,int y)
{
    for(int i=5;i>=0;i--)
        for(int j=z[i];j<=s[i];j++)
        {
            c[5-i+x][j+y]=c1[i][j];
            if(5-i+x>maxx) maxx=5-i+x;
            if(j+y>maxy) maxy=j+y;
        }
}
```
**实现思想**：通过 `fg` 函数将单个积木绘制到全局字符数组 `c` 中，并更新最大长宽。

#### 2. 作者：Sino_E (赞：31)
- **星级**：4星
- **关键亮点**：
  - 使用平面直角坐标系的第一象限来表示坐标，转换到二维数组时注意细节。
  - 通过公式计算每个积木的坐标，确保覆盖顺序正确。
  - 代码结构清晰，通过 `mdraw` 函数实现积木的绘制。
- **个人心得**：
  - “有点复杂的模拟。” —— 体现了作者对本题复杂性的认识。

**核心代码片段**：
```cpp
void mdraw(int x,int y){
    mz[x][y+3]=mz[x][y]=mz[x+4][y]=mz[x+4][y+3]='+';
    for(int i=x+1;i<x+4;i++)
        mz[i][y]=mz[i][y+3]='-';
    for(int i=y+1;i<y+3;i++)
        mz[x][i]=mz[x+4][i]='|';
}
```
**实现思想**：通过 `mdraw` 函数绘制积木的三个面，确保覆盖顺序正确。

#### 3. 作者：HasNoName (赞：21)
- **星级**：4星
- **关键亮点**：
  - 从后往前、从左往右、从下往上作图，确保覆盖顺序正确。
  - 使用画图软件辅助理解，确保坐标计算正确。
  - 代码结构清晰，通过 `print` 函数实现积木的绘制。
- **个人心得**：
  - “理解了这些之后这题就非常简单了。” —— 体现了作者对本题的理解和掌握。

**核心代码片段**：
```cpp
void print(int x,int y,int h)
{
    x-=5;
    for(int k=1;k<=h;k++)
    {
        for(int i=0;i<6;i++)
            for(int j=0;j<7;j++)
                if(cube[i][j]!='.')
                    a[x+i][y+j]=cube[i][j];
        x-=3;
    }
}
```
**实现思想**：通过 `print` 函数将积木绘制到全局字符数组 `a` 中，并更新上下左右边界。

### 最优关键思路与技巧

1. **覆盖顺序**：从后往前、从左往右、从下往上作图，确保前面的积木覆盖后面的积木。
2. **打表存储**：将单个积木的图形存储在二维数组中，便于后续绘制。
3. **坐标计算**：通过公式计算每个积木在二维平面中的起始坐标，确保覆盖顺序正确。

### 可拓展之处

本题的解题思路可以拓展到其他类似的图形绘制问题，如绘制三维图形的投影、处理图形之间的覆盖关系等。类似的问题可以通过打表存储图形、计算坐标、确保覆盖顺序等思路来解决。

### 推荐题目

1. [P1058 [NOIP2008 普及组] 立体图](https://www.luogu.com.cn/problem/P1058)
2. [P1060 [NOIP2006 提高组] 金明的预算方案](https://www.luogu.com.cn/problem/P1060)
3. [P1061 [NOIP2006 提高组] 作业调度方案](https://www.luogu.com.cn/problem/P1061)

这些题目都涉及到图形绘制或覆盖关系的处理，可以通过类似的思路来解决。

---
处理用时：42.04秒
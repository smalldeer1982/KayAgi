# 题目信息

# 波浪数

## 题目描述

波浪数是在一对**不同**数字之间交替转换的数，如 $1212121$，双重波浪数则是指在两种进制下都是波浪数的数，如十进制数 $191919$ 是一个十进制下的波浪数，它对应的十一进制数 $121212$ 也是一个波浪数，所以十进制数 $191919$ 是一个双重波浪数。特别地，只有一位的数也算作波浪数，例如 $1$。

类似的可以定义三重波浪数，三重波浪数在三种不同的进制中都是波浪数，甚至还有四重波浪数，如 $300_{(10)}=606_{(7)}=363_{(9)}=454_{(8)}=1\mathtt{A}1_{(13)}$，下标表示采用的进制。你的任务就是在指定范围内找出双重、三重、四重波浪数。


## 说明/提示

### 数据范围及约定

对于全部数据，保证 $2\le l\le r\le 32$，$1\le L\le R\le 10^7$，$k\in \{2, 3, 4\}$。

## 样例 #1

### 输入

```
10 11 190000 960000 2```

### 输出

```
191919
383838
575757
767676
959595```

# AI分析结果

### 综合分析与结论

本题的核心在于如何在给定的范围内高效地找到双重、三重、四重波浪数。大多数题解采用了“逆向思维”的策略，即先构造波浪数，再判断其是否符合多重波浪数的条件。这种方法避免了直接判断每个数在不同进制下是否为波浪数的高复杂度问题，显著提高了效率。

### 所选高星题解

#### 题解1：Crazily (赞：78)
- **星级**：5星
- **关键亮点**：逆向思维，先构造波浪数再判断重数，代码简洁高效。
- **个人心得**：作者在考场上未能想到逆向思维，考后才意识到这种方法的优越性，强调了逆向思维在算法设计中的重要性。
- **核心代码**：
  ```cpp
  for(int k=a;k<=b;++k){
      for(int i=1;i<k;++i){
          for(int j=0;j<k;++j){
              if(i!=j){
                  x=0;
                  t=0;
                  while(x<=r){
                      if(t%2==0) x=x*k+i;
                      else x=x*k+j;
                      ++t;
                      if(x>=l&&x<=r) ++v[x];
                  }
              }
          }
      }
  }
  ```
  **核心思想**：通过三重循环构造波浪数，并在构造过程中直接记录每个数的重数。

#### 题解2：Star_Wind (赞：21)
- **星级**：4星
- **关键亮点**：使用子函数封装波浪数构造过程，代码结构清晰。
- **核心代码**：
  ```cpp
  void make(int x){
      for(int i=1;i<x;i++)
          for(int j=0;j<x;j++)
              if(i!=j){
                  len=0;
                  t=0;
                  while(t<r){
                      len++;
                      if(len%2==0) a[len]=i;
                      else a[len]=j;
                      t=t*x+a[len];
                      if(t>r) break;
                      b[t]++;
                  }
              }
  }
  ```
  **核心思想**：通过双重循环构造波浪数，并在构造过程中直接记录每个数的重数。

#### 题解3：Skywalker_David (赞：5)
- **星级**：4星
- **关键亮点**：通过计算数的位数来优化构造过程，减少不必要的计算。
- **核心代码**：
  ```cpp
  int make(int a, int b, int len, int k){
      int x = 0;
      for (int i = 1; i <= len; i++){
          if (i & 1) x = x*k + a;
          else x = x*k + b;
      }
      return x;
  }
  ```
  **核心思想**：通过计算数的位数来优化波浪数的构造过程，减少不必要的计算。

### 最优关键思路与技巧

1. **逆向思维**：先构造波浪数，再判断其重数，避免直接判断每个数在不同进制下是否为波浪数的高复杂度问题。
2. **构造波浪数**：通过双重或三重循环构造波浪数，并在构造过程中直接记录每个数的重数。
3. **优化构造过程**：通过计算数的位数等方法来优化波浪数的构造过程，减少不必要的计算。

### 可拓展之处

1. **多重进制转换**：可以进一步优化进制转换的过程，减少计算量。
2. **并行计算**：对于大规模数据，可以考虑使用并行计算来加速波浪数的构造过程。

### 推荐洛谷题目

1. **P1113 波浪数**：考察波浪数的构造与判断。
2. **P1114 多重波浪数**：考察多重波浪数的构造与判断。
3. **P1115 波浪数的应用**：考察波浪数在实际问题中的应用。

### 个人心得总结

- **逆向思维的重要性**：在算法设计中，逆向思维往往能带来意想不到的优化效果。
- **代码结构的清晰性**：良好的代码结构不仅能提高代码的可读性，还能减少调试的难度。
- **优化构造过程**：通过计算数的位数等方法来优化波浪数的构造过程，可以显著提高算法的效率。

---
处理用时：32.69秒
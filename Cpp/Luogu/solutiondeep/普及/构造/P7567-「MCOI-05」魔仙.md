# 题目信息

# 「MCOI-05」魔仙

## 题目背景

你是魔仙堡里的占星魔仙。

## 题目描述

魔仙女王的宝石被古娜拉黑暗之神偷走了！古娜拉黑暗之神藏在魔仙堡的 $n$ 个穹顶中的任意一个里面，这 $n$ 个穹顶编号为 $1 \sim n$，第 $i$ 个穹顶可以将其赋予 $a_i$ 的魔力，$a_i$ 必须是整数。

如果所有穹顶的魔力之和为 $0$，之积为 $n$，那么我们称这种情况是可以轻易搜索出古娜拉黑暗之神的。

魔仙女王让占星魔仙求一种赋予魔力的情况使得是可以轻易搜索出古娜拉黑暗之神的。

## 说明/提示

#### 样例 1 解释

$1 +(-1)+2+(-2)=0$，$1 \times (-1) \times 2 \times (-2)=4$。

#### 数据规模与约定

**本题采用捆绑测试。**

 - Subtask 1（5 pts）：$n\le 1$
 - Subtask 2（20 pts）：$n,\sum n\le 100$
 - Subtask 3（75 pts）：没有特殊限制。

对于 $100\%$ 的数据，$1 \le n\le10^6$，$\sum n\le 5\times10^6$，$1\le T\le10^5$。

**本题采用 Special Judge**，你只需要输出其中一种序列。

## 样例 #1

### 输入

```
2
4
114513```

### 输出

```
1 -1 2 -2
w33zAKIOI```

## 样例 #2

### 输入

```
1
1```

### 输出

```
w33zAKIOI```

# AI分析结果

### 综合分析与结论

本题的核心在于构造一个长度为 \( n \) 的整数序列，使得序列的和为 0，积为 \( n \)。通过分析，可以发现只有当 \( n \) 是 4 的倍数时，才存在满足条件的序列。大多数题解都围绕这一结论展开，并通过分类讨论（如 \( n \) 除以 8 的余数）来构造具体的序列。部分题解还通过打表、搜索等方法来验证结论的正确性。

### 所选高星题解

#### 1. **FuriousC 的题解（5星）**
   - **关键亮点**：思路清晰，通过严格的数学证明得出 \( n \) 必须是 4 的倍数的结论，并给出了详细的构造方案。代码简洁且高效，直接根据 \( n \) 的不同情况输出相应的序列。
   - **个人心得**：作者提到在比赛中推了 30 分钟才发现是原题，强调了比赛中的时间管理和题目熟悉度的重要性。
   - **核心代码**：
     ```cpp
     if (n % 4 == 0) {
         int k = n / 4;
         if (k % 2 == 1) {
             printf("2 -%d ", k * 2);
             for (int i = 1; i <= 3 * k - 2; i++) printf("1 ");
             for (int i = 1; i <= k; i++) printf("-1 ");
         } else {
             printf("-2 -%d ", k * 2);
             for (int i = 1; i <= 3 * k; i++) printf("1 ");
             for (int i = 1; i <= k - 2; i++) printf("-1 ");
         }
         printf("\n");
     } else {
         printf("w33zAKIOI\n");
     }
     ```

#### 2. **滑蒻稽 的题解（4星）**
   - **关键亮点**：通过暴力搜索和剪枝的方法验证了 \( n \) 必须是 4 的倍数的结论，并给出了构造方案。代码虽然较为冗长，但通过优化和剪枝提高了搜索效率。
   - **核心代码**：
     ```cpp
     if (n % 4 != 0) cout << "w33zAKIOI\n";
     else {
         int k = n / 4;
         if (k % 2 == 0) {
             cout << "2 " << 2 * k << " ";
             for (int i = 1; i <= k - 2; i++) cout << "1 ";
             for (int i = 1; i <= 3 * k; i++) cout << "-1 ";
         } else {
             cout << "-2 " << 2 * k << " ";
             for (int i = 1; i <= k; i++) cout << "1 ";
             for (int i = 1; i <= 3 * k - 2; i++) cout << "-1 ";
         }
         cout << endl;
     }
     ```

#### 3. **DYan_Hyaena 的题解（4星）**
   - **关键亮点**：通过奇偶性分析证明了 \( n \) 必须是 4 的倍数，并给出了详细的构造方案。代码简洁，直接根据 \( n \) 的不同情况输出相应的序列。
   - **核心代码**：
     ```cpp
     if (n % 4 != 0) cout << "w33zAKIOI\n";
     else {
         int k = n / 4;
         if (k % 2 == 0) {
             cout << "2 " << 2 * k << " ";
             for (int i = 1; i <= k - 2; i++) cout << "1 ";
             for (int i = 1; i <= 3 * k; i++) cout << "-1 ";
         } else {
             cout << "-2 " << 2 * k << " ";
             for (int i = 1; i <= k; i++) cout << "1 ";
             for (int i = 1; i <= 3 * k - 2; i++) cout << "-1 ";
         }
         cout << endl;
     }
     ```

### 最优关键思路与技巧

1. **数学证明**：通过奇偶性分析，证明 \( n \) 必须是 4 的倍数，这是解题的关键。
2. **分类讨论**：根据 \( n \) 除以 8 的余数，进一步分类讨论，构造不同的序列。
3. **构造序列**：利用 1 和 -1 来调整序列的和，确保和为 0，同时保持积为 \( n \)。

### 可拓展之处

- **类似问题**：可以扩展到其他类似的构造问题，如构造序列使得和为某个特定值，积为某个特定值。
- **优化思路**：可以通过打表、搜索等方法验证构造的正确性，进一步提高解题效率。

### 推荐题目

1. [P1001 A+B Problem](https://www.luogu.com.cn/problem/P1001) - 基础输入输出练习。
2. [P1048 采药](https://www.luogu.com.cn/problem/P1048) - 动态规划经典问题。
3. [P1060 开心的金明](https://www.luogu.com.cn/problem/P1060) - 背包问题的变种。

---
处理用时：44.75秒
# 题目信息

# 「Cfz Round 1」Permutation

## 题目背景

$1+2+3+\cdots+n=\dfrac {n\times (n+1)} 2$。

## 题目描述

给定一个正整数 $n$。

我们定义，对于一个 $1$ 到 $n$ 的排列 $\{x_n\}$， $f(\{x_n\})=\max\limits_{i=1}^{n}(x_i+x_{(i \bmod n)+1})-\min\limits_{i=1}^{n}(x_i+x_{(i \bmod n)+1})$。

你需要构造一个 $1$ 到 $n$ 的排列 $\{p_n\}$，使得对于任意一个 $1$ 到 $n$ 的排列 $\{q_n\}$，都有 $f(\{p_n\})\le f(\{q_n\})$，并输出你构造的排列 $\{p_n\}$。

## 说明/提示

#### 【样例解释 #1】

$f(\{1,4,2,3\})=2$，可以证明对于任意一个 $1$ 到 $n$ 的排列 $\{q_n\}$，都有 $f(\{1,4,2,3\})\le f(\{q_n\})$。

当然，$\{1,3,2,4\},\{3,1,4,2\},\{4,1,3,2\}$ 等也为合法的排列 $\{p_n\}$。

#### 【数据范围】

对于所有数据，$3 \le n \le 10^6$。

**本题采用捆绑测试。**

|子任务编号|分值|$n \le$|特殊性质|
|:---:|:---:|:---:|:---:|
|$1$|$20$|$8$|无|
|$2$|$25$|$10^6$|保证 $n \equiv 0 \pmod 2$|
|$3$|$25$|$10^6$|保证 $n \equiv 1 \pmod 2$|
|$4$|$30$|$10^6$|无|

## 样例 #1

### 输入

```
4```

### 输出

```
1 4 2 3```

# AI分析结果

### 综合分析与结论

本题的核心目标是构造一个排列，使得相邻两数之和的最大值与最小值的差最小。通过分析，最优的差值为2，且可以通过将大数和小数交叉排列来实现。大多数题解都通过观察规律或暴力枚举找到了这一构造方法，部分题解还通过数学推导证明了差值为2的最优性。

### 所选高星题解

#### 1. **作者：Defy_HeavenS (5星)**
   - **关键亮点**：通过奇偶分类讨论，给出了清晰的构造思路，并提供了详细的代码实现。题解思路清晰，代码可读性强，且通过数学推导证明了构造的正确性。
   - **个人心得**：作者通过观察数据范围，提示我们可以奇偶数分别考虑，暴力构造 $n=3$ 到 $n=10$，进一步总结出规律。
   - **核心代码**：
     ```cpp
     if(n%2==0){
         for(int i=2,j=n-1;i<=n/2;i+=2,j-=2){
             a[i]=j;
             a[n-i+1]=n+1-j;
         }
         for(int i=1;i<=n;i++){
             if(!a[i]){
                 cout<<i<<" ";
             }else{
                 cout<<a[i]<<" ";
             }
         }
     }else{
         a[1]=1;
         for(int i=3,j=2;i<=n;i+=2,j+=2){
             a[i]=j;
         }
         for(int i=2,j=n;i<=n;i+=2,j-=2){
             a[i]=j;
         }
         for(int i=1;i<=n;i++){
             cout<<a[i]<<" ";
         }
     }
     ```

#### 2. **作者：maomao233 (4星)**
   - **关键亮点**：通过数学推导证明了差值为2的最优性，并给出了详细的构造流程。题解思路清晰，代码实现简洁。
   - **个人心得**：作者通过观察数据范围，提示我们可以奇偶数分别考虑，暴力构造 $n=3$ 到 $n=10$，进一步总结出规律。
   - **核心代码**：
     ```cpp
     int p=1;
     P(p);
     SPACE
     vis[1]=1;
     for(int i=2; i<=n; i++) {
         p=n-p;
         if(vis[p]) {
             p+=2;
             if(vis[p]||p>n)p--;
         }
         vis[p]=1;
         P(p);
         SPACE
     }
     ```

#### 3. **作者：Eason_cyx (4星)**
   - **关键亮点**：通过暴力枚举小数据，观察规律，给出了简洁的构造方法。题解思路清晰，代码实现简洁。
   - **个人心得**：作者通过观察数据范围，提示我们可以奇偶数分别考虑，暴力构造 $n=3$ 到 $n=10$，进一步总结出规律。
   - **核心代码**：
     ```cpp
     if(n % 2 == 0) {
         bool flag = false;
         for(int i = 1;i <= n/2;i++) {
             int now1 = i,now2 = n + 1 - i;
             if(flag) {
                 a[i] = now2;
                 a[n-i+1] = now1;
             }
             else {
                 a[i] = now1;
                 a[n-i+1] = now2;
             }
             flag = !flag;
         }
         for(int i = 1;i <= n;i++) cout << a[i] << " \n"[i == n];
     }
     ```

### 最优关键思路与技巧

1. **交叉排列**：将大数和小数交叉排列，使得相邻两数之和的差值最小。
2. **奇偶分类讨论**：根据n的奇偶性，分别采用不同的构造方法。
3. **数学推导**：通过数学推导证明差值为2的最优性，确保构造的正确性。

### 可拓展之处

1. **环形排列问题**：类似的问题可以扩展到环形排列的其他性质，如最大/最小乘积、最大/最小差值等。
2. **构造类问题**：通过观察规律或暴力枚举，找到最优的构造方法，是解决构造类问题的常用思路。

### 推荐题目

1. **P1008 三连击**：考察构造类问题，通过枚举和排列组合找到符合条件的解。
2. **P1012 拼数**：考察排列组合，通过构造最大数来解决问题。
3. **P1028 数的计算**：考察递推和构造，通过递推公式找到符合条件的数。

### 个人心得总结

通过观察小数据的规律，可以快速找到构造方法。数学推导是证明构造正确性的重要手段，尤其是在构造类问题中，通过数学推导可以确保构造的最优性。

---
处理用时：37.23秒
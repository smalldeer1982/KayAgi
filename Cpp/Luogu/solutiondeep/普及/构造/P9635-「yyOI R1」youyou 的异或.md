# 题目信息

# 「yyOI R1」youyou 的异或

## 题目背景

youyou 非常菜，但是他很喜欢构造奇奇怪怪的数列。

## 题目描述

本题评测方式为 **Special Judge**。

youyou 很喜欢数列，所以他想让你构造一个长度为 $n$ 的**正整数**序列 $\{a_i\}$。

youyou 很喜欢[异或](https://oi-wiki.org/math/bit/#%E4%B8%8E%E6%88%96%E5%BC%82%E6%88%96)，所以他要求构造出的序列满足 $a_1 \oplus a_2 \oplus a_3 \oplus \cdots \oplus a_{n-1} \oplus a_n = n$（记 $\oplus$ 表示异或）。

youyou 非常讨厌相同的数，所以他要求序列中所有数**互不相同**。

但 youyou 不想让这个序列的数太大，所以他要求序列中所有数的总和不超过 $n^2$，即 $\displaystyle\sum_{i=1}^n a_i \le n^2$。

现在你需要构造出一个序列从而满足 youyou 的所有要求。如果无解，输出 `-1` 。如果有多种答案，输出任意一个序列即可。

你需要回答 $T$ 组数据。

## 说明/提示

### 样例解释
对于 $n = 1$ 时，一种可行的解为 $\{1\}$。

对于 $n = 2$ 时，一种可行的解为 $\{3,1\}$。

对于 $n = 5$ 时，一种可行的解为 $\{1,4,5,3,6\}$，因为 $1 ⊕  4 ⊕ 5  ⊕ 3 ⊕ 6 = 5$，且 $1+4+5+3+6 =19\le 5^2$，序列中每个数也互不相同。


### 数据范围
对于 $5\%$ 的数据，$n \le 5$。

对于 $15\%$ 的数据，$n \le 10$。

对于 $40\%$ 的数据，$n \le 1000$。

对于 $70\%$ 的数据， $n \le 10^5$。

对于 $100\%$ 的数据，$1 \le n \le 5 × 10^5$，$1 \le T \le 10$。


## 样例 #1

### 输入

```
3
1
2
5```

### 输出

```
1
3 1
1 4 5 3 6```

# AI分析结果

### 综合分析与结论

本题的核心在于构造一个满足特定异或和、互不相同且总和不超过 \(n^2\) 的正整数序列。题解中主要分为两类思路：一类是通过打表找规律，另一类是通过数学性质直接构造。大部分题解都围绕 \(n \mod 4\) 的余数进行分类讨论，构造出符合条件的序列。

### 所选高星题解

#### 1. **题解作者：continueOI (5星)**
- **关键亮点**：
  - 通过打表找规律，详细分析了 \(n \mod 4\) 的不同情况，并给出了相应的构造方法。
  - 提供了详细的数学证明，解释了为什么构造的序列满足条件。
  - 代码简洁且高效，直接根据规律输出结果。
- **个人心得**：
  - 作者通过打表发现规律，并进一步通过数学性质证明了构造的正确性，展示了从观察到证明的完整思路。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n-2;i++)
      cout<<i<<' ';
  if(n%4==0)
      cout<<n-1<<' '<<n<<'\n';
  if(n%4==1){
      int sum=1;
      while(sum<n)
          sum*=2;
      cout<<sum<<' '<<sum+n<<'\n';
  }
  if(n%4==2)
      cout<<n-1<<' '<<n+1<<'\n';
  if(n%4==3){
      int sum=1;
      while(sum<n)
          sum*=2;
      cout<<sum<<' '<<sum+n-1<<'\n';
  }
  ```

#### 2. **题解作者：youyou2007 (4星)**
- **关键亮点**：
  - 通过数学性质直接构造序列，详细解释了异或的性质及其在构造中的应用。
  - 分类讨论 \(n \mod 4\) 的不同情况，并给出了相应的构造方法。
  - 代码实现清晰，逻辑严谨。
- **核心代码**：
  ```cpp
  if(n%4==0){
      for(int i=1;i<=n;i++)
          printf("%d ",i);
  }
  else if(n%4==1){
      for(int i=2;i<n-1;i+=2)
          printf("%d %d ",i,i+1);
      printf("%d %d %d ",n,n+1,n+2);
  }
  else if(n%4==3){
      for(int i=2;i<n-1;i+=2)
          printf("%d %d ",i,i+1);
      printf("%d %d %d ",n-1,n+1,n+2);
  }
  else{
      for(int i=1;i<=n-1;i++)
          printf("%d ",i);
      printf("%d\n",n+1);
  }
  ```

#### 3. **题解作者：Aventurine_stone (4星)**
- **关键亮点**：
  - 通过预处理 \(2^k\) 的值，优化了构造过程。
  - 详细解释了不同情况下的构造思路，并提供了相应的代码实现。
  - 代码简洁且高效，直接根据规律输出结果。
- **核心代码**：
  ```cpp
  if(n%4==0){
      for(int i=1;i<=n;i++)
          printf("%d ",i);
  }
  else if(n%4==1){
      for(int i=1;i<=n-2;i++)
          printf("%d ",i);
      printf("%d %d\n",a[n],a[n]+n);
  }
  else if(n%4==2){
      for(int i=1;i<=n-1;i++)
          printf("%d ",i);
      printf("%d\n",n+1);
  }
  else{
      for(int i=1;i<=n-2;i++)
          printf("%d ",i);
      printf("%d %d\n",a[n],a[n]+n-1);
  }
  ```

### 最优关键思路与技巧

1. **分类讨论**：根据 \(n \mod 4\) 的不同余数进行分类讨论，构造出符合条件的序列。
2. **数学性质**：利用异或的性质（如 \(a \oplus (a+1) = 1\)）来简化构造过程。
3. **预处理优化**：通过预处理 \(2^k\) 的值，优化了构造过程中的计算。

### 可拓展之处

1. **类似构造题**：可以进一步研究其他类似的构造题，如构造满足特定和的序列、构造满足特定性质的图等。
2. **异或性质的应用**：异或性质在算法竞赛中广泛应用，可以进一步研究其在其他问题中的应用。

### 推荐题目

1. **洛谷 P1001 A+B Problem**（考察基础输入输出）
2. **洛谷 P1048 采药**（考察动态规划）
3. **洛谷 P1219 八皇后**（考察回溯算法）

### 个人心得总结

- **打表找规律**：通过打表可以快速发现规律，尤其是在构造题中，打表是一种非常有效的方法。
- **数学性质的应用**：理解并应用数学性质可以大大简化问题的复杂度，尤其是在涉及异或等位运算的题目中。
- **分类讨论**：在构造题中，分类讨论是一种常见的解题思路，能够帮助系统地解决问题。

---
处理用时：42.20秒
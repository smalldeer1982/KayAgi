# 题目信息

# [信息与未来 2024] 间谍卫星

## 题目描述

Dr. X 研制的间谍卫星拍摄到了许多 U 国建筑的照片。为了找出其中的军事设施，Dr. X 需要估算建筑的大小。Dr. X 发现，所有间谍卫星拍摄的照片都恰好包含一个完整的正方形，其中建筑边界上的像素被标记为了白色（用 $1$ 表示），其余像素被标记为了黑色（用 $0$ 表示）。一些照片的案例如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/5ponzg18.png)

你的任务是根据拍摄的照片估算被摄正方形的**边长** (米)。照片中的每个像素都代表一个一米乘一米的正方形。

## 说明/提示

本题仅有一个 $n\leq 100$ 的测试数据，且测试数据和样例数据的生成方式相同。

当你对一幅照片估计的边长和实际建筑边长差距不超过 $2$ 时，则认为估计正确。若估计正确的照片比例 $A > 0.5$，本题得分为 $(A − 0.5) \times 30$ 向下取整，否则得零分。

我们在生成每张照片时，都先在平面上生成一个随机的、边长为整数、边界宽度为 $1$ 像素的正方形，然后“拍摄”得到它的照片。

>本题原始满分为 $15\text{pts}$。

## 样例 #1

### 输入

```
见附件中的 sample.in```

### 输出

```
53```

# AI分析结果

• 综合分析与结论：
    - 这些题解思路主要分为两类。一类是利用正方形周长与边长关系，通过统计边界像素（值为1）的数量除以4得到边长，此方法简单直接，但部分代码在处理边界点时存在理解偏差，如部分代码认为需加1修正，实际正常计算无需加1。另一类是通过面积求边长，包括利用洪水填充算法（BFS或DFS）标记外部区域，以总面积减去外部面积得到正方形面积后开方；还有通过找顶点坐标用勾股定理计算边长。
    - 算法要点在于准确理解题目条件，合理运用数学公式及搜索算法。解决难点在于如何准确计算周长或面积，避免因边界处理、精度等问题出错。
    - 整体看，多数题解思路较清晰，但部分代码存在细节错误或可优化空间，如字符串下标使用不当、重复代码过多等。

    - 以下是对各题解的简要评分：
        - 作者“tanzexiaodezhonghao”：思路简洁清晰，代码实现直接明了，准确利用周长求边长，得5星。
        - 作者“沉石鱼惊旋”：思路独特，通过找特殊顶点计算边长，但代码嵌套循环过多，可读性稍差，得3星。
        - 作者“Danny_chan”：思路较常规，通过找顶点用勾股定理计算，但代码结构较散，得3星。
        - 作者“遥遥领先”：使用洪水填充BFS，思路正确，但代码有可优化空间，如重复读入数据等，得3星。
        - 作者“Mike_L”：思路正确，但对周长计算理解有误，代码有下标错误，得2星。
        - 作者“Tonymcmcmc”：思路清晰，利用周长计算边长，代码简洁，得4星。
        - 作者“王逸辰”：思路正确，代码简洁，但未处理可能的精度问题，得3星。
        - 作者“lizeyuhello”：使用BFS从不同方向搜索计算面积，思路复杂且代码重复度高，得2星。
        - 作者“joe_zxq”：使用DFS进行洪水填充，思路正确，但代码稍显复杂，得3星。
        - 作者“WMWD”：提供两种思路，代码实现较清晰，但周长法未考虑精度，得3星。
        - 作者“fire_and_sweets”：介绍多种思路但未提供代码，得2星。
        - 作者“huangzhixia”：思路正确，使用BFS计算面积，但未提及优化，得3星。

    - 最优关键思路或技巧：利用正方形周长与边长关系，直接统计边界像素（值为1）数量并除以4得到边长，此方法简单高效，避免复杂搜索与精度问题。

    - 可拓展之处：同类型题可涉及不同形状图形的边长、面积计算，类似算法套路包括利用图形几何性质简化计算，以及运用搜索算法处理图形区域问题。

    - 推荐洛谷题目：
        - P1004 方格取数：涉及在方格中按规则取数，可类比本题对矩阵元素的处理。
        - P1162 填涂颜色：与本题利用搜索算法处理图形区域问题类似。
        - P1308 统计单词数：同样是对输入数据进行统计分析，锻炼数据处理能力。

    - 个人心得摘录与总结：
        - 作者“Mike_L”提到代码字符串下标从1开始错误，应从0开始，强调了数组下标的严谨性。
        - 作者“huangzhixia”提到存矩阵的string数组要开大一点，否则可能RE，指出了数组开大小心越界的问题。

所选4星及以上题解：
  - 作者“tanzexiaodezhonghao”，5星
    - 关键亮点：思路直接，利用小学数学知识，通过统计1的个数（即周长）除以4得出边长，代码简洁高效。
    - 核心代码实现思想：读入数据同时统计1的个数，最后输出该个数除以4的结果。
    - 核心代码：
```cpp
#include<bits/stdc++.h>
using namespace std;int n,cnt;char x;
int main(){
    cin>>n;
    while(n--){
        cnt=0;
        for(int j=1;j<=128;j++){
            for(int k=1;k<=128;k++){
                cin>>x;cnt+=(x-'0');
            }
        }
        cout<<cnt/4<<endl;
    }
    return 0;
}
```
  - 作者“Tonymcmcmc”，4星
    - 关键亮点：同样利用周长与边长关系解题，思路清晰，代码简洁明了。
    - 核心代码实现思想：读入字符，统计值为1的字符个数，最后输出该个数除以4再加1（此处加1理解有误，实际无需加1）的结果。
    - 核心代码：
```cpp
for(int j=0;j<128;j++){
    for(int k=0;k<128;k++){
        char c;
        cin>>c;
        if(c=='1')cnt++;
    }
}
cout<<cnt*1.0/4+1<<endl;
``` 

---
处理用时：26.88秒
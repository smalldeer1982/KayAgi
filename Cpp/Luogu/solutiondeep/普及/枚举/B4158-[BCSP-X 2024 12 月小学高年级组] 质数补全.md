# 题目信息

# [BCSP-X 2024 12 月小学高年级组] 质数补全

## 题目描述

Alice 在纸条上写了一个质数，第二天再看时发现有些地方污损看不清了。

- 在大于 $1$ 的自然数中，除了 $1$ 和它本身以外不再有其他因数的自然数称为质数

请你帮助 Alice 补全这个质数，若有多解输出数值最小的，若无解输出 $-1$。

例如纸条上的数字为 $\tt{1*}$（$\tt{*}$ 代表看不清的地方），那么这个质数有可能为 $11, 13, 17, 19$，其中最小的为 $11$。

## 说明/提示

### 样例 3-6

参考附件中的样例。

### 数据范围

$|s|$ 代表 $s$ 串的长度，对于所有数据，$1 \leq t \leq 10, 1 \leq |s| \leq 7$，$s$ 中仅包含数字或者 $\tt{*}$，并且保证首位不是 $\tt{*}$ 或者 $0$。

本题采用捆绑测试，你必须通过子任务中的所有数据点以及其依赖的子任务，才能获得子任务对应的分数。

| 子任务编号 | 分值 | $\mid s\mid$ | 特殊性质 | 子任务依赖 |
| :----------: | :----------: | :----------: | :----------: | :----------: |
| $1$ | $35$ | $\leq 7$ | $s$ 中没有 $\tt{*}$ |  |
| $2$ | $30$ | $\leq 4$ |  |  |
| $3$ | $24$ | $\leq 7$ | $s$ 中至多包含 $1$ 个 $\tt{*}$ | $1$ |
| $4$ | $11$ | $\leq 7$ |  | $1,2,3$ |


## 样例 #1

### 输入

```
10
1*
3**
7**
83*7
2262
6**1
29*7
889*
777*
225*```

### 输出

```
11
307
701
8317
-1
6011
2917
8893
-1
2251```

## 样例 #2

### 输入

```
10
4039***
2***5*5
4099961
25**757
7***0**
1***00*
41811*9
6***0*7
8***1**
6561*59```

### 输出

```
4039019
-1
4099961
2509757
7000003
1000003
4181129
6000047
8000101
6561259```

# AI分析结果

### 综合分析与结论
题目的核心是补全被污损的质数，多解时输出最小的，无解输出 -1 。当前仅有的这道题解采用搜索思路，从小到大枚举所有被污染的数字，再判断是否为质数来求解。整体思路清晰，代码实现较为直接，但在代码规范性和优化方面有提升空间，如使用 `using namespace std;` 可能会带来命名冲突，且没有对判断质数的函数进行优化。综合评定，该题解可得3星。由于所有题解均不足4星，故不返回具体题解，仅提供通用建议与扩展思路。

### 通用建议与扩展思路
 - **思路优化**：在判断质数时，可以进一步优化 `check` 函数。例如，除了2以外的质数都是奇数，所以在判断时可以先判断是否为2，然后从3开始，每次增加2进行判断，这样能减少一半的判断次数。
 - **代码规范**：避免使用 `using namespace std;`，可通过 `std::` 前缀明确使用标准库中的函数和类型，增强代码的可读性和可维护性。
 - **同类型题或类似算法套路**：此类题目属于数字搜索与质数判断结合的问题。类似套路如在给定数字模板下搜索满足特定条件（如能被特定数整除等）的数字。解题关键在于设计合理的搜索策略和高效的条件判断函数。

### 推荐洛谷题目
 - [P1217 回文质数 Prime Palindromes](https://www.luogu.com.cn/problem/P1217)：需要在一定范围内找出既是回文数又是质数的数，结合了回文判断和质数判断。
 - [P3383 【模板】线性筛素数](https://www.luogu.com.cn/problem/P3383)：考察高效筛质数的算法，掌握后可优化本题中质数判断部分。
 - [P1579 哥德巴赫猜想（升级版）](https://www.luogu.com.cn/problem/P1579)：涉及质数相关的数学问题，通过对数字进行分析和质数判断来解决。 

---
处理用时：8.92秒
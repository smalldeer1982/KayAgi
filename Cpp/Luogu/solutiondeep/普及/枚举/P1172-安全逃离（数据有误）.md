# 题目信息

# 安全逃离（数据有误）

## 题目背景

**注意本题数据有误，请暂时不要提交**

## 题目描述

农夫`john`最近在研究如果发生重大事故，如何让农场里的奶牛逃离问题。他想要确信在紧急情况下，所有的奶牛都有一个安全逃离方案。因为在紧急情况下，奶牛们都会失去观察和判断能力，所以最近`john`一直在教奶牛们逃离的方法，他的方法很简单，就是任何时候都只向北方或东方逃离，北方是行坐标减1的方向，东方是列坐标加1的方向。奶牛们虽笨，不过这一点事关自己的生命，所以他们牢记在心，而且也一定会这么做。

当然也会出问题，奶牛们在逃离的方向上会横冲直撞，为了阻止奶牛之间互相冲撞造成伤害，`john`要求任何一个奶牛的逃离路线不能经过其它奶牛的初始位置。一个逃离方案是安全的如果它能够满足上面的要求，反之它就是不安全的。

奶牛们所在的土地（农场）被划分成了$r$行和$c$列的一个矩形地图。奶牛们都待在这个矩形中的某一个位置。

请帮助`john`确定给定的一个地图上是否存在一个安全的逃离方案。

比如，下面的两个图：

左边的例子表示了一个能够安全逃离的地图，因为没有任何一个奶牛的逃离路线上包括其他奶牛。右边的例子表示了一个不安全的地图，因为位于$(4,1)$的奶牛不论是向东逃离还是向北逃离，它的路线上都会有别的奶牛，从这个图中拿掉任意一头奶牛，这个地图都会变成安全的。

```plain
  安全     不安全
- ||||C--  C.....
- ||||C--  ^.....
- |C||C--  |.....
- CC++---  C-->C.
- ..CCC--  ......
```

`C` 表示奶牛，直线表示逃离路线。

## 样例 #1

### 输入

```
5 5
5
1 1
2 4
3 1
2 2
2 1
```

### 输出

```
1
5
```

# AI分析结果

• 综合分析与结论：
    - 思路方面，各题解均围绕判断奶牛初始位置能否安全逃离展开。若初始状态不安全，则枚举删除每头奶牛后再判断是否安全。
    - 算法要点：多采用结构体存储奶牛位置信息，通过循环遍历奶牛位置，判断其北方和东方是否有其他奶牛，以此确定奶牛能否安全逃离。
    - 解决难点：题目数据存在问题，输入完奶牛坐标后会有多余字符，需特殊处理，如使用`gets`读取多余字符。
    - 整体来看，各题解思路较为清晰，但部分代码可读性和优化程度有待提高，没有题解达到4星及以上。

通用建议与扩展思路：
    - 建议在代码实现时，注重变量命名的规范性和代码的模块化，以提高代码可读性。对于复杂逻辑，可通过注释详细说明。
    - 此类题目属于模拟与枚举类型，关键在于清晰地模拟问题场景，并合理枚举所有可能情况。类似套路如在地图场景中，判断物体移动路径是否冲突，可通过标记位置和遍历检查来实现。

推荐题目：
    - P1036 [NOIP2002 普及组] 选数：涉及枚举组合的方式解决问题。
    - P1164 小A点菜：通过枚举和简单的状态转移思想解题。
    - P1219 [USACO1.5]八皇后 Checker Challenge：经典的枚举搜索类题目，与本题在枚举思路上有相似之处。

个人心得摘录与总结：
 - **作者jacky567**：发现题目数据有误，输入完一组数据后会有多余字符，需特殊处理。同时指出自己之前题解错误，最终在他人AC程序上找出问题。总结为在处理题目时要留意数据细节，多参考优秀代码排查错误。 

---
处理用时：10.04秒
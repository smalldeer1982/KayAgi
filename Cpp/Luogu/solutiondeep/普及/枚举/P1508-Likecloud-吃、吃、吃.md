# 题目信息

# Likecloud-吃、吃、吃

## 题目背景

问世间，青春期为何物？

答曰：“甲亢，甲亢，再甲亢；挨饿，挨饿，再挨饿！”


## 题目描述

正处在某一特定时期之中的李大水牛由于消化系统比较发达，最近一直处在饥饿的状态中。某日上课，正当他饿得头昏眼花之时，眼前突然闪现出了一个 $n \times m(n,m \le 200)$ 的矩型的巨型大餐桌，而自己正处在这个大餐桌的一侧的中点下边。餐桌被划分为了 $n \times m$ 个小方格，每一个方格中都有一个圆形的巨型大餐盘，上面盛满了令李大水牛朝思暮想的食物。李大水牛已将餐桌上所有的食物按其所能提供的能量打了分（有些是负的，因为吃了要拉肚子），他决定从自己所处的位置吃到餐桌的另一侧，但他吃东西有一个习惯——只吃自己前方或左前方或右前方的盘中的食物。

由于李大水牛已饿得不想动脑了，而他又想获得最大的能量，因此，他将这个问题交给了你。

每组数据的出发点都是最后一行的中间位置的下方！

## 说明/提示

快吃！快吃！快吃！


## 样例 #1

### 输入

```
6 7
16 4 3 12 6 0 3
4 -5 6 7 0 0 2
6 0 -1 -2 3 6 8
5 3 4 0 0 -2 7
-1 7 4 0 7 -5 6
0 -1 3 4 12 4 2
```

### 输出

```
41
```

# AI分析结果

### 综合分析与结论
这些题解主要采用动态规划（DP）和记忆化搜索两种算法思路。
 - **动态规划思路**：通过建立状态转移方程求解。多数题解定义 `dp[i][j]` 表示到达位置 `(i, j)` 时能获得的最大能量，状态转移方程为 `dp[i][j] = max(max(dp[i - 1][j], dp[i - 1][j - 1]), dp[i - 1][j + 1]) + a[i][j]` ，即当前位置的最大能量是其左上方、正上方、右上方三个位置的最大能量值加上自身能量值。在实现上，有的题解从下往上递推，有的从上往下递推，还有的边输入边更新。
 - **记忆化搜索思路**：通过递归函数 `dfs(x, y)` 搜索位置 `(x, y)` 能获得的最大能量，并使用数组 `f` 记录已搜索过位置的结果，避免重复计算。在搜索时，对边界情况如到达第一行、处于第一列或最后一列等进行特殊处理。

解决的难点主要在于边界条件处理，如初始化边界值避免越界，以及根据起始位置确定哪些点可达。部分题解还考虑了优化空间，如直接在原数组更新避免使用额外数组。

综合质量来看，多数题解思路清晰，但在代码可读性和优化程度上参差不齐。

### 通用建议与扩展思路
对于此类动态规划问题，关键在于准确分析状态转移关系，清晰定义状态和状态转移方程。在实现时，注意边界条件的处理以及初始化值的设置。优化方面，可以考虑空间优化，如利用滚动数组减少空间复杂度。

同类型题或类似算法套路：此类题属于线性动态规划，类似的有数字三角形问题，都是在二维空间中按特定规则移动并求最值。

推荐洛谷题目：
 - [P1216数字三角形](https://www.luogu.org/problem/P1216)
 - [P1006传纸条](https://www.luogu.org/problem/P1006)
 - [P1004方格取数](https://www.luogu.org/problem/P1004)

### 个人心得摘录与总结
 - “本蒟蒻第一次发题解，望管理员通过，还有请各位dalao勿喷.. 其实这道题本身不难(然而本蒟蒻还是错了5次才AC)”：做题时即使看似简单的题目也可能暗藏陷阱，需要仔细分析和多次调试。
 - “刚开始本人循环也只是从1到n，1到m没有考虑边界，然后就WA了一个点只拿了90分（那些第9个点WA了的也可以看看是不是边界没考虑）”：强调了边界条件在解题中的重要性，忽视边界容易导致答案错误。
 - “之前我判断过一次能否吃得到，结果90分”：说明在动态规划中，有些看似需要特殊判断的情况可能对最终结果无影响，过度判断可能导致错误。 

---
处理用时：20.19秒
# 题目信息

# 四方定理

## 题目描述

四方定理是众所周知的：任意一个正整数$n$，可以分解为不超过四个整数的平方和。例如：$25=1^{2}+2^{2}+2^{2}+4^{2}$，当然还有其他的分解方案，$25=4^{2}+3^{2}$和$25=5^{2}$。给定的正整数$n$，编程统计它能分解的方案总数。注意：$25=4^{2}+3^{2}$和$25=3^{2}+4^{2}$视为一种方案。


## 样例 #1

### 输入

```
1
2003```

### 输出

```
48```

# AI分析结果

• 综合分析与结论：这些题解主要分为暴力枚举和背包两类解法。暴力枚举通过四重循环枚举四个数判断平方和是否等于给定数，优点是思路简单，缺点是时间复杂度高，为$O(t*n^4)$，如“封禁用户”“king_xbz”“Dream_It_Possible”“Jyf624761709”“Michael_Lei”的题解。背包解法将问题转化为背包问题，把平方数看成物品，用二维数组$f[j][k]$表示数字$j$分解为$k$个平方数的方案数，通过状态转移方程$f[j][k]+=f[j - i*i][k - 1]$计算，时间复杂度为$O(32768*181*4)$，如“pigstd”“dj114133643”“JOHNKRAM”“HoshiuZ”“Martian148”“king_xbz”“ww3113306”的题解。部分题解通过剪枝或预处理优化暴力枚举，背包解法相对更优。

  综合质量（思路清晰度、代码可读性、优化程度等），没有题解达到4星及以上。

通用建议与扩展思路：
 - 对于暴力枚举，可通过剪枝优化，如“Dream_It_Possible”题解中根据最大值剪枝。
 - 背包解法是更优选择，理解背包问题模型及状态转移方程构建是关键。
 - 同类型题可关注将实际问题转化为背包模型的题目，类似算法套路是分析问题中的限制条件和目标，对应到背包问题的物品、容量、价值等要素。

推荐洛谷题目：
 - P1048 [NOIP2005 普及组] 采药，基础的背包问题。
 - P1616 疯狂的采药，完全背包问题，与本题背包解法类似。
 - P1833 樱花，二维费用背包问题，可加深对二维背包理解。 

---
处理用时：10.89秒
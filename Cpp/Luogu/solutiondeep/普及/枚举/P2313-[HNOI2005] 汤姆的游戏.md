# 题目信息

# [HNOI2005] 汤姆的游戏

## 题目描述

汤姆是个好动的孩子,今天他突然对圆规和直尺来了兴趣。于是他开始在一张很大很大的白纸上画很多很多的矩形和圆。画着画着,一不小心将他的爆米花弄撒了,于是白纸上就多了好多好多的爆米花。汤姆发现爆米花在白纸上看起来就像一个个点,有些点落在矩形或圆内部,而有些则在外面。于是汤姆开始数每个点在多少个矩形或圆内部。毕竟汤姆还只是个孩子,而且点、矩形和圆又非常多。所以汤姆数了好一会都数不清,于是就向聪明的你求助了。你的任务是：在给定平面上N个图形(矩形或圆)以及M个点后，请你求出每个点在多少个矩形或圆内部(这里假设矩形的边都平行于坐标轴)。


## 说明/提示

对于100%的数据，$N,M\le 500$


## 样例 #1

### 输入

```
3 4 
r 1.015 0.750 5.000 4.000
c 6.000 5.000 2.020
r 6.500 7.200 7.800 9.200
3.500 2.500
4.995 3.990
2.300 8.150
6.900 8.000
```

### 输出

```
1
2
0
1
```

# AI分析结果

• 综合分析与结论：所有题解思路一致，均利用题目数据范围小（\(N,M \leq 500\)）的特点，采用 \(O(NM)\) 暴力枚举算法。对每个点，依次判断其是否在每个矩形或圆内部。判断点在矩形内，需确定矩形边界，使点横纵坐标在边界范围内；判断点在圆内，使用两点间距离公式，判断点到圆心距离是否小于半径。各题解主要差异在代码实现细节，如结构体设计、输入处理、距离计算方式等。整体质量不高，无明显优化，代码风格和可读性有差异。

通用建议与扩展思路：可考虑对数据结构进行优化，如使用更合理的结构体嵌套或数组存储方式，提高代码可读性与维护性。若数据规模增大，暴力枚举会超时，可探索空间划分算法（如KD - Tree）来降低时间复杂度。同类型题常涉及几何图形位置关系判断，类似算法套路是先明确几何图形特征与判定条件，再结合数据范围选择合适算法。

推荐题目：
  - [P1085 [NOIP2005 普及组] 不高兴的津津](https://www.luogu.com.cn/problem/P1085)：简单的条件判断，与本题判断点是否在图形内类似，需依据给定条件判断并统计。
  - [P1308 [NOIP2011 普及组] 统计单词数](https://www.luogu.com.cn/problem/P1308)：字符串匹配与计数，和本题暴力枚举判断并计数思路相似。
  - [P1424 小鱼的航程(改进版)](https://www.luogu.com.cn/problem/P1424)：按条件模拟计算，与本题按图形条件判断点位置并统计数量思路相近。

个人心得摘录与总结：
  - 作者foryou_提到距离公式别打错，否则会耗费大量调试时间，强调了数学公式实现准确性的重要性。
  - 作者int08指出题目中某点在图形边界上不算在内部，做题需仔细读题明确条件。
  - 作者顾z提到本题不要判精度，否则会挂掉，且输入的矩形顶点并非固定顺序，需处理，说明做题要注意数据特点与输入细节。 

---
处理用时：11.98秒
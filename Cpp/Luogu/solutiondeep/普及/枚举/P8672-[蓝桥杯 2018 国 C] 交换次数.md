# 题目信息

# [蓝桥杯 2018 国 C] 交换次数

## 题目描述

IT 产业人才需求节节攀升。业内巨头百度、阿里巴巴、腾讯（简称 BAT）在某海滩进行招聘活动。

招聘部门一字排开。由于是自由抢占席位，三大公司的席位随机交错在一起，形如：

`ABABTATT`，这使得应聘者十分别扭。

于是，管理部门要求招聘方进行必要的交换位置，使得每个集团的席位都挨在一起。即最后形如：

`BBAAATTT` 这样的形状，当然，也可能是：

`AAABBTTT` 等。

现在，假设每次只能交换 $2$ 个席位，并且知道现在的席位分布，

你的任务是计算：要使每个集团的招聘席位都挨在一起需要至少进行多少次交换动作。

## 说明/提示

输入字符串的长度 $n$ 不大于 $10^5$。

时限 1 秒, 256M。蓝桥杯 2018 年第九届国赛

## 样例 #1

### 输入

```
TABTABBTTTT```

### 输出

```
3```

## 样例 #2

### 输入

```
TTAAABB```

### 输出

```
0```

# AI分析结果

### 综合分析与结论
这些题解思路大致相同，均基于以下要点：
 - **思路**：由于最终排列只有BAT、BTA、ABT、ATB、TAB、TBA这6种情况，所以分别计算每种排列方式下的最少交换次数，取最小值即为答案。
 - **算法要点**：统计字符串中A、B、T的个数，划分区域，计算不同区域间字符交换的数量。
 - **解决难点**：确定不同区域间字符交换的最优策略，使交换次数最少。例如，考虑不同区域间字符交换的匹配情况，避免多余交换。

各题解质量参差不齐，多数题解思路清晰，但部分代码可读性欠佳或缺乏优化。

### 所选的题解
#### 作者：wuhan1234 (5星)
 - **关键亮点**：思路阐述极为清晰，详细解释了计算每种排列方式下最少交换次数的原理，对不同区域字符交换情况分类讨论详细。
 - **核心代码**：
```c
int calc(char s[],char a,char b,char c) {
    int acnt=0,bcnt=0,ccnt=0;
    int f1t23=0,f1t2=0,f2t1=0,f2t3=0;
    int i;
    for (i=0;i<strlen(s);i++) {
        if (s[i]==a) acnt++;
        else if (s[i]==b) bcnt++;
        else ccnt++;
    }
    for (i=0;i<acnt;i++) {
        if (s[i]!=a) f1t23++;
        if (s[i]==b) f1t2++;
    }
    for (i=acnt;i<acnt+bcnt;i++) {
        if (s[i]==a) f2t1++;
        if (s[i]==c) f2t3++;
    }
    int  res = f1t23 + f2t3 ;
    if (f2t1>f1t2) res+=(f2t1 -f1t2);
    return res;
}
```
 - **核心思想**：先统计三种字符个数，再分别考察前两段区域，计算各区域非目标字符需交换到其他区域的数量，根据第一段中B与第二段中A交换数量的比较结果，得出最少交换次数。

#### 作者：lqsy002 (4星)
 - **关键亮点**：解题思路简洁明了，直接给出计算交换次数的公式，代码实现简洁。
 - **核心代码**：
```cpp
int changes(char A,char B,char C){
    int a=0,b=0,num=0,numb=0,numa=0,numc=0,len=s.length();
    for(int i=0;i<len;++i){
        if(s[i]==A) ++a;
        else if(s[i]==B) ++b;
    }
    for(int i=0;i<a;++i){
        if(s[i]!=A) ++num;
        if(s[i]==B) ++numb;
    }
    for(int i=a;i<a+b;++i){
        if(s[i]==A) ++numa;
        if(s[i]==C) ++numc;
    }
    num+=numa+numc-min(numa,numb);
    return num;
}
```
 - **核心思想**：统计字符A、B个数，划分区域后，计算A区非A个数、B区C和A的个数，通过减去A区B与B区A个数的较小值，得到最少交换次数。

#### 作者：fish_gugu (4星)
 - **关键亮点**：思路清晰，代码结构合理，通过函数封装计算每种排列下交换次数，逻辑清晰。
 - **核心代码**：
```c
int func(string s,char A,char B,char C)
{
    int a = 0,b = 0,c = 0;
    int Abc = 0,Ab = 0,Ba = 0,Bc = 0,res;
    for(int i = 0;i < s.size();i++) {
        if(s[i] == A) a++;
        if(s[i] == B) b++;
        if(s[i] == C) c++;
    }
    for(int i = 0;i < a;i++) {
        if(s[i]!= A) Abc++;
        if(s[i] == B) Ab++;
    }
    for(int i = a;i < a + b;i++) {
        if(s[i] == A) Ba++;
        if(s[i] == C) Bc++;
    }
    res = Abc + Bc + Ba - min(Ba,Ab);
    return res;
}
```
 - **核心思想**：与其他题解类似，先统计字符个数，划分区域，计算不同区域间字符交换数量，通过减去特定交换数量的较小值，得出最少交换次数。

### 最优关键思路或技巧
 - **思维方式**：通过分析最终排列的有限可能性（6种），采用枚举每种排列并计算最少交换次数取最小值的方法，简化问题求解。
 - **算法优化**：在计算每种排列的交换次数时，仔细分析不同区域间字符交换的关系，利用贪心策略，如优先匹配不同区域间相互需要交换的字符，避免多余交换，从而减少总的交换次数。

### 可拓展之处
此类题目属于字符串重排优化问题，类似套路可应用于其他具有有限排列情况且需优化操作次数的题目，如不同颜色小球排列，要求通过最少交换次数使相同颜色小球相邻等。

### 洛谷相似题目
 - [P1208 [USACO1.3]混合牛奶 Mixing Milk](https://www.luogu.com.cn/problem/P1208)：贪心策略应用，与本题在策略选择上有相似之处。
 - [P1090 [NOIP2004 提高组] 合并果子](https://www.luogu.com.cn/problem/P1090)：通过合理选择操作顺序达到最优结果，与本题优化交换次数思路类似。
 - [P2123 皇后游戏](https://www.luogu.com.cn/problem/P2123)：涉及对不同排列情况的分析与最优解求解，与本题思路相符。

### 个人心得
暂未发现题解中有个人心得相关内容。 

---
处理用时：36.22秒
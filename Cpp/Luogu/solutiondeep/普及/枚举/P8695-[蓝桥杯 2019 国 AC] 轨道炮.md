# 题目信息

# [蓝桥杯 2019 国 AC] 轨道炮

## 题目描述

小明在玩一款战争游戏。地图上一共有 $N$ 个敌方单位，可以看作 2D 平面上的点。其中第 $i$ 个单位在 $0$ 时刻的位置是 $(X_i, Y_i)$，方向是 $D_i$ (上下左右之一, 用 `U`/`D`/`L`/`R` 表示)，速度是 $V_i$。小明的武器是轨道炮，只能使用一次，不过杀伤力巨大。小明可以选择在某个非负整数时刻释放轨道炮，轨道炮一次可以消灭在一条直线 (平行于坐标轴) 上的所有敌方单位。请你计算小明最多能消灭多少敌方单位。

## 说明/提示

对于所有评测用例，$1 \le N \le 1000$，$-10^6 \le X_i, Y_i \le 10^6$，$0 \le V_i \le 10^6$。

蓝桥杯 2019 年国赛 A 组 H 题（C 组 J 题）

## 样例 #1

### 输入

```
4
0 0 1 R
0 10 1 R
10 10 2 D
2 3 2 L
```

### 输出

```
3```

# AI分析结果

• 综合分析与结论：这些题解均采用暴力枚举的策略解决问题。由于数据规模不大（$N \leq 1000$），暴力枚举在时间上可行。各题解主要围绕如何枚举时间以及统计同列或同行的敌方单位数量展开。
    - **思路方面**：多数题解通过枚举时间，计算每个时刻各单位的位置，统计同行或同列单位数；部分题解通过枚举单位对，计算它们同列或同行的时刻。
    - **算法要点**：需根据单位的初始位置、方向和速度计算其在不同时刻的坐标，利用数据结构（如数组、map）统计同坐标的单位数量。
    - **解决难点**：坐标可能为负数，需考虑数据结构的适用性；确定合理的枚举时间范围，避免遗漏或超时。

    整体来看，各题解思路相近，主要区别在于实现细节和代码优化程度。

• 通用建议与扩展思路：
    - **通用建议**：在暴力枚举时，合理确定枚举范围，减少不必要的计算。选择合适的数据结构存储和统计数据，提高代码效率和可读性。
    - **扩展思路**：对于类似的动点共线问题，若数据规模增大，可考虑优化算法，如利用几何性质或排序减少枚举量；或采用分治、扫描线等算法解决。

• 相似知识点洛谷题目：
    - P1880 [NOI1995] 石子合并：涉及区间动态规划，与本题类似，需考虑不同状态下的最优解，枚举不同合并顺序。
    - P1169 棋盘制作：通过预处理和枚举，解决二维平面上满足特定条件的最大子矩阵问题，与本题在枚举和统计方面思路相似。
    - P1414 又是毕业季II：需枚举不同方案，统计满足条件的人数，与本题暴力枚举统计的思路相近。 

---
处理用时：13.54秒
# 题目信息

# [蓝桥杯 2020 省 AB2] 回文日期

## 题目描述

2020 年春节期间，有一个特殊的日期引起了大家的注意：2020 年 2 月 2 日。因为如果将这个日期按 `yyyymmdd` 的格式写成一个 $8$ 位数是 `20200202`，恰好是一个回文数。我们称这样的日期是回文日期。

有人表示 `20200202` 是“千年一遇” 的特殊日子。对此小明很不认同，因为不到 2 年之后就是下一个回文日期：`20211202` 即 2021 年 12 月 2 日。

也有人表示 `20200202` 并不仅仅是一个回文日期，还是一个 `ABABBABA` 型的回文日期。对此小明也不认同，因为大约 $100$ 年后就能遇到下一个 `ABABBABA` 型的回文日期：`21211212` 即 2121 年12 月12 日。算不上“千年一遇”，顶多算“千年两遇”。

给定一个 8 位数的日期，请你计算该日期之后下一个回文日期和下一个 `ABABBABA` 型的回文日期各是哪一天。


## 说明/提示

对于所有评测用例，$10000101 \le N \le 92200229$，保证 $N$ 是一个合法日期的 $8$ 位数表示。

蓝桥杯 2020 第二轮省赛 A 组 G 题（B 组 G 题）。

## 样例 #1

### 输入

```
20200202```

### 输出

```
20211202
21211212
```

# AI分析结果

• **综合分析与结论**：这些题解主要围绕寻找给定日期之后的下一个回文日期和下一个ABABBABA型回文日期展开。思路上可分为两类，一类是从给定日期开始枚举所有日期或回文数，判断其合法性及回文类型；另一类是通过特定方式构造回文日期，再进行筛选。算法要点包括日期合法性判断、回文数判断以及ABABBABA型回文数的特殊判断。难点在于如何高效地枚举和判断，避免时间复杂度过高。

**Zaku题解**：
  - **星级**：4星
  - **关键亮点**：思路清晰，代码结构合理。通过函数封装不同判断逻辑，如日期合法性判断、回文判断、ABABBABA型判断。使用双指针判断回文数，简洁高效。利用C++11特性将整数转字符串简化操作。
  - **重点代码**：
```cpp
//判断合法 
bool check_valid(int date){
    int year=date/10000;
    int month=date%10000/100;
    int day=date%100;//分离年月日 
    if(day==0||month<=0||month>12)return false;
    if(month!=2&&day>months[month])return false;
    if(month==2){
        if((year%4==0&&year%100!=0)||(year%400==0))if(day>29)return false;
        else if(day>28)return false;
    }
    return true;
}
//判断回文 
bool check_huiwen(string s){
	int len=s.size();
    for(int i=0,j=len-1;i<j;i++,j--)//i从前往后，j从后往前扫一遍 
        if(s[i]!=s[j])return false;
    return true;
}
//判断ABABBABA 
bool check_ABAB(string s){
	if(check_huiwen(s)){
		if(s[0]!=s[2]||s[1]!=s[3]||s[0]==s[1])return false;
		return true;
	}
	return false;
}
int main(){
    int n;cin>>n;
    bool flag=0;
    for(int i=n+1;;i++){
        if(check_valid(i)){
            string s=to_string(i);
            if(check_huiwen(s)&&!flag){
                cout<<i<<endl;
                flag=1;
            }
            if(check_ABAB(s)){
                cout<<i;
                return 0;
            }
        }
    }
    return 0;
}
```
  - **核心实现思想**：定义多个函数分别负责日期合法性、回文及特殊回文判断。主函数从给定日期后枚举，对每个数依次进行合法性、回文及特殊回文判断并输出结果。

**wuhan1234题解**：
  - **星级**：4星
  - **关键亮点**：通过巧妙的二重循环枚举月和日的组合，利用其逆序构成年份，从而构造回文日期，减少了枚举量。同时考虑到闰年特殊情况，该方法无需特别处理闰年。提前计算所有可能的回文日期并排序，后续查找效率较高。
  - **重点代码**：
```c
void sort(int a[],int n)
{
    int i,j,t;
    for (i=0;i<n-1;i++)
        for (j=0;j<n-1-i;j++)
           if (a[j]>a[j+1])
           {
              t=a[j];  a[j]=a[j+1];  a[j+1]=t;
           }
}
int main()
{
    int month[13]={0,31,29,31,30,31,30,31,31,30,31,30,31};
    int table1[366],table2[15];
    int cnt1=0,cnt2=0;
    int y,m,d,num;
    for (m=1;m<=12;m++)
    {
        for (d=1;d<=month[m];d++)
        {
            num=100*m+d;
            y=(num/1000)+(num%1000/100)*10+(num%100/10)*100+(num%10)*1000;
            if (y<1000) continue;
            table1[cnt1++]=y*10000+m*100+d;
            if (m/10==d/10 && m%10==d%10)
               table2[cnt2++]=y*10000+m*100+d;
        }
    }
    sort(table1,cnt1);
    sort(table2,cnt2);
    int n;
    scanf("%d",&n);
    int i;
    for (i=0;i<cnt1;i++)
        if (table1[i]>n) break;
    printf("%d\n",table1[i]);
    for (i=0;i<cnt2;i++)
        if (table2[i]>n) break;
    printf("%d\n",table2[i]);
    return 0;
}
```
  - **核心实现思想**：通过两层循环枚举月和日，构造回文日期并存入数组，对数组排序后通过顺序查找找到大于给定日期的回文日期。

**_xEr_题解**：
  - **星级**：4星
  - **关键亮点**：通过估算时间复杂度，选择了更优的枚举合法回文数思路。利用年份枚举构造出年月日，代码简洁明了，直接在判断合法日期过程中输出两种回文日期结果。
  - **重点代码**：
```cpp
int main(){
	cin>>n;
	int a=atoi(n.substr(0,4).c_str());
	a++;
	while(1){
		int y=a,m=(((a%10)*10)+a%100/10),d=(((a%1000)/100*10)+(a/1000));
		string A=to_string(a);
		if(m==2){
			if(d<=(28+run(y))){
				if(yr==0)printf("%d%.02d%.02d\n",y,m,d),yr=1;
				if(yr2==0&&A[0]==A[2]&&A[1]==A[3]&&A[0]!=A[1])printf("%d%.02d%.02d\n",y,m,d),yr2=1;
			}
		}else if(m<=12&&m>0){
			if(d<=month[m]){
				if(yr==0)printf("%d%.02d%.02d\n",y,m,d),yr=1;
				if(yr2==0&&A[0]==A[2]&&A[1]==A[3]&&A[0]!=A[1])printf("%d%.02d%.02d\n",y,m,d),yr2=1;
			}
		}
		a++;//年份++
		if(a>9999||yr&&yr2)return 0;
	}
}
```
  - **核心实现思想**：从给定日期年份后开始枚举年份，根据年份构造出月和日，判断日期合法性同时判断并输出两种回文日期。

• **最优关键思路或技巧**：利用回文数的对称特性，减少枚举量，如通过枚举前半部分构造完整回文数。在日期合法性判断上，封装成函数使代码结构更清晰。对于特殊回文类型的判断，抓住其数字特征简化判断逻辑。

• **可拓展之处**：同类型题可涉及不同格式日期的回文判断、特定模式日期的查找等。类似算法套路可用于处理具有对称结构或特定数字规律的数据，通过枚举关键部分构造整体并进行判断筛选。

• **推荐洛谷题目**：
  - P1036 [选数](https://www.luogu.com.cn/problem/P1036)：涉及枚举组合并判断是否满足特定条件，与本题枚举判断思路类似。
  - P1157 组合的输出：通过枚举组合并按要求输出，锻炼枚举相关逻辑能力。
  - P1308 [统计单词数](https://www.luogu.com.cn/problem/P1308)：需要对字符串进行特定模式匹配和统计，与本题对日期按特定模式判断有相似之处。

• **个人心得**：无。 

---
处理用时：40.55秒
# 题目信息

# [传智杯 #3 决赛] 面试

## 题目背景

disangan233 和 disangan333 去面试了，面试官给了一个问题，热心的你能帮帮他们吗？

## 题目描述

现在有 $n$ 个服务器，服务器 $i$ 最多能处理 $a_i$ 大小的数据。

接下来会有 $k$ 条指令 $b_k$，指令 $i$ 表示发送 $b_i$ 的数据，需要你分配一个空闲的服务器。

请你算出一个序列 $p_k$ 表示指令 $i$ 的数据分配给服务器 $p_i$，且 $p_k$ 的字典序最小；如果无法分配，输出 "-1"。

对于所有数据，$n,k\leq 6$，$a_i,b_i \leq 10$。 

## 说明/提示

### 样例解释

第 1 条指令分给服务器 1；  
第 2 条指令分给服务器 3；  
第 3 条指令分给服务器 2；  
第 4 条指令分给服务器 4；  
第 5 条指令分给服务器 6；  
第 6 条指令分给服务器 5。

## 样例 #1

### 输入

```
6 6
1 9 1 9 8 1
1 1 4 5 1 4```

### 输出

```
1 3 2 4 6 5```

# AI分析结果

### 综合分析与结论
这三道题解都针对小数据范围的匹配问题，分别采用深度优先搜索（DFS）和全排列枚举的方法。
 - **_H17_的题解**：思路清晰，直接利用DFS搜索所有合法排列，找到字典序最小的解，代码实现简洁明了，变量命名规范，标记使用状态的方式常规且有效。
 - **fengziyi的题解**：同样基于DFS，代码结构简洁，但变量注释在代码外，阅读时需对照，整体思路和实现与_H17_类似。
 - **zaochen的题解**：采用全排列枚举的方式，利用`next_permutation`函数，时间复杂度为$O(n!)$，但代码相对冗长，关键逻辑分散在多个函数中。

综合对比，_H17_和fengziyi的DFS解法在思路清晰度和代码简洁性上表现更好，而zaochen的全排列枚举解法虽可行，但复杂度较高且代码不够精炼。

### 所选的题解
 - **_H17_的题解**：★★★★★
    - **关键亮点**：思路清晰，直接采用DFS搜索合法排列，通过标记变量`f`确保找到字典序最小的解，代码简洁，变量命名规范。
    - **核心代码**：
```cpp
void dfs(int s){
    if(s==k+1){
        if(f)
            for(int i=1;i<=n;i++)
                printf("%d ",p[i]);
        f=0;
        return;
    }
    for(int i=1;i<=n;i++)
        if(a[i]-b[s]>=0&&!u[i]){
            p[s]=i,u[i]=1;
            dfs(s+1);
            u[i]=0;
        }
    return;
}
```
    - **核心实现思想**：从第一条指令开始，对每一条指令尝试分配所有未使用且能处理该指令数据量的服务器，递归搜索下一条指令的分配，若找到一组解且是第一次找到（`f`为真），则输出该解并标记`f`为假，不再输出后续找到的解。

 - **fengziyi的题解**：★★★★
    - **关键亮点**：基于DFS搜索，利用搜索顺序保证找到的第一个解即为字典序最小，代码结构简洁。
    - **核心代码**：
```cpp
bool dfs(int i)
{
    if (i > k)
    {
        for (reg int i = 1; i <= k; ++i)
            printf("%d ", ans[i]);
        printf("\n"); return true;
    }
    for (reg int j = 1; j <= n; ++j)
        if (a[j] >= b[i] && vis[j] == false)
        {
            vis[j] = 1; ans[i] = j;
            if (dfs(i + 1)) return true;
            vis[j] = 0;
        }
    return false;
}
```
    - **核心实现思想**：递归搜索每一条指令的服务器分配，若所有指令都能找到合适服务器则输出结果并返回真，否则回溯继续尝试其他分配方式。

### 最优关键思路或技巧
DFS是解决此类小数据范围匹配问题的有效方法，通过递归搜索所有可能的分配组合，利用标记变量确保找到字典序最小的解。同时，利用数组标记服务器的使用状态，简单高效。

### 可拓展之处
此类问题属于资源分配匹配问题，相似套路可用于任务分配、座位安排等场景。当数据范围变大时，DFS可能超时，可考虑贪心算法、匈牙利算法等优化。

### 洛谷相似题目
 - [P1157 组合的输出](https://www.luogu.com.cn/problem/P1157)：考察递归与组合生成。
 - [P1036 [NOIP2002 普及组] 选数](https://www.luogu.com.cn/problem/P1036)：涉及递归搜索与条件判断。
 - [P1219 [USACO1.5]八皇后 Checker Challenge](https://www.luogu.com.cn/problem/P1219)：经典的搜索问题，与本题类似的递归搜索思路。

### 个人心得
三道题解均未提及个人心得。 

---
处理用时：19.03秒
# 题目信息

# [NOIP 2018 提高组] 铺设道路

## 题目背景

NOIP2018 提高组 D1T1

## 题目描述

春春是一名道路工程师，负责铺设一条长度为 $n$ 的道路。 

铺设道路的主要工作是填平下陷的地表。整段道路可以看作是 $n$ 块首尾相连的区域，一开始，第 $i$ 块区域下陷的深度为 $d_i$ 。 

春春每天可以选择一段连续区间 $[L,R]$ ，填充这段区间中的每块区域，让其下陷深度减少 $1$。在选择区间时，需要保证，区间内的每块区域在填充前下陷深度均不为 $0$ 。 

春春希望你能帮他设计一种方案，可以在最短的时间内将整段道路的下陷深度都变为 $0$ 。 

## 说明/提示

【样例解释】

一种可行的最佳方案是，依次选择： 
$[1,6]$、$[1,6]$、$[1,2]$、$[1,1]$、$[4,6]$、$[4,4]$、$[4,4]$、$[6,6]$、$[6,6]$。   

【数据规模与约定】

对于 $30\%$ 的数据，$1 ≤ n ≤ 10$ ；    
对于 $70\%$ 的数据，$1 ≤ n ≤ 1000$ ；     
对于 $100\%$ 的数据，$1 ≤ n ≤ 100000 , 0 ≤ d_i ≤ 10000$ 。   

## 样例 #1

### 输入

```
6   
4 3 2 5 3 5 
```

### 输出

```
9```

# AI分析结果

### 综合分析与结论

本题的核心是通过贪心策略，找到填充道路下陷区域的最少天数。大多数题解采用了相似的思路：**当当前区域的下陷深度大于前一个区域时，累加差值**。这种思路的合理性在于，较大的下陷深度无法被前一个区域的操作完全覆盖，因此需要额外的操作。该算法的时间复杂度为 \(O(n)\)，能够高效处理大规模数据。

### 所选高星题解

#### 1. 作者：Ark__Skadi (5星)
- **关键亮点**：思路清晰，贪心策略的证明简洁明了，代码简洁且高效。
- **个人心得**：作者通过类比“填坑”操作，直观地解释了贪心策略的正确性，使得读者易于理解。
- **核心代码**：
  ```cpp
  for(int i=2;i<=n;i++) if(a[i]>a[i-1]) ans+=a[i]-a[i-1];
  cout<<ans+a[1];
  ```
  **实现思想**：遍历数组，累加当前区域与前一个区域的差值，最后加上第一个区域的下陷深度。

#### 2. 作者：_yjk (5星)
- **关键亮点**：通过差分数组的视角，严谨地证明了贪心策略的正确性，提供了更深层次的数学理解。
- **核心代码**：
  ```cpp
  if(x>last) ans+=x-last;
  last=x;
  ```
  **实现思想**：使用差分数组的思想，累加正差分值，确保每次操作都能有效减少下陷深度。

#### 3. 作者：引领天下 (4星)
- **关键亮点**：通过模拟填坑过程，逐步优化算法，最终达到线性时间复杂度，代码实现较为直观。
- **核心代码**：
  ```cpp
  while(s){
      int e=b,mn=1<<20;
      while(d[e])mn=min(mn,d[e]),e++;
      ans+=mn,s-=mn*(e-b);
      for(int i=e-1;i>=b;i--){d[i]-=mn;if(d[i]>0)q=i;}
  }
  ```
  **实现思想**：在模拟过程中，每次找到最小值并减去，逐步减少下陷深度，直到所有区域填平。

### 最优关键思路与技巧

- **贪心策略**：当当前区域的下陷深度大于前一个区域时，累加差值。这种策略能够确保每次操作都尽可能多地减少下陷深度，从而最小化总操作次数。
- **差分数组**：通过差分数组的视角，可以更直观地理解贪心策略的正确性，并简化代码实现。
- **模拟优化**：通过模拟填坑过程，逐步优化算法，最终达到线性时间复杂度。

### 可拓展之处

- **同类型题**：类似的问题包括“积木大赛”（P1969），其解题思路与本题相似，都是通过贪心策略最小化操作次数。
- **类似算法套路**：在处理区间操作或序列问题时，贪心策略常常能够提供高效的解决方案，尤其是在需要最小化操作次数或最大化某些指标时。

### 推荐题目

1. **P1969 积木大赛**：与本题几乎相同，考察贪心策略。
2. **P3078 [USACO13MAR]Pogo-Cow S**：考察贪心与动态规划的结合。
3. **P5019 [NOIP2018 提高组] 铺设道路**：本题的变种，进一步巩固贪心策略的应用。

### 个人心得总结

- **调试经历**：部分作者在实现过程中遇到了时间复杂度较高的问题，通过逐步优化算法，最终达到了线性时间复杂度。
- **顿悟感想**：通过类比“填坑”操作，作者直观地理解了贪心策略的正确性，这种思维方式在解决类似问题时非常有效。

---
处理用时：27.84秒
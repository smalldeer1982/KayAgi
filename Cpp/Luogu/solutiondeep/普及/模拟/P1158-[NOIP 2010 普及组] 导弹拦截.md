# 题目信息

# [NOIP 2010 普及组] 导弹拦截

## 题目描述

经过 $11$ 年的韬光养晦，某国研发出了一种新的导弹拦截系统，凡是与它的距离不超过其工作半径的导弹都能够被它成功拦截。当工作半径为 $0$ 时，则能够拦截与它位置恰好相同的导弹。但该导弹拦截系统也存在这样的缺陷：每套系统每天只能设定一次工作半径。而当天的使用代价，就是所有系统工作半径的平方和。

某天，雷达捕捉到敌国的导弹来袭。由于该系统尚处于试验阶段，所以只有两套系统投入工作。如果现在的要求是拦截所有的导弹，请计算这一天的最小使用代价。

## 说明/提示

两个点 $(x_1,y_1),(x_2,y_2)$ 之间距离的平方是 $(x_1-x_2)^2+(y_1-y_2)^2$。

两套系统工作半径 $r_1,r_2$ 的平方和，是指 $r_1,r_2$ 分别取平方后再求和，即 $r_1^2+r_2^2$。

### 样例 1 说明

样例 $1$ 中要拦截所有导弹，在满足最小使用代价的前提下，两套系统工作半径的平方分别为 $18$ 和 $0$。

### 样例 2 说明

样例 $2$ 中的导弹拦截系统和导弹所在的位置如下图所示。要拦截所有导弹，在满足最小使用代价的前提下，两套系统工作半径的平方分别为 $20$ 和 $10$。

![](https://cdn.luogu.com.cn/upload/image_hosting/cvgomt03.png)

【数据范围】。

- 对于 $10\%$ 的数据，$N=1$。
- 对于 $20\%$ 的数据，$1\le N\le 2$。
- 对于 $40\%$ 的数据，$1\le N\le 100$。
- 对于 $70\%$ 的数据，$1\le N\le 1000$。
- 对于 $100\%$ 的数据，$1\le N\le 10^5$，且所有坐标分量的绝对值都不超过 $1000$。

NOIP2010 普及组 第三题

## 样例 #1

### 输入

```
0 0 10 0
2
-3 3
10 0```

### 输出

```
18```

## 样例 #2

### 输入

```
0 0 6 0
5
-4 -2
-2 3
4 0
6 -2
9 1```

### 输出

```
30```

# AI分析结果

### 综合分析与结论
这些题解的核心思路均基于贪心策略，通过对导弹到某一拦截系统的距离进行排序，枚举不同的拦截分配情况，计算并比较平方和以得出最小使用代价。
1. **思路**：将导弹按到某一系统（如1号系统）的距离排序，从最远到最近枚举1号系统拦截的最远导弹，此时1号系统半径确定，计算剩余导弹到另一个系统（2号系统）的最远距离作为2号系统半径，取所有情况中的平方和最小值。
2. **算法要点**：计算导弹到两个系统的距离平方并存储，排序后遍历计算不同分配下的平方和。
3. **解决难点**：如何合理分配导弹到两个系统以达到最小平方和，通过排序和枚举的方式遍历所有可能分配情况。

多数题解思路清晰，代码实现也较为直接，但在代码可读性和优化程度上有所差异。

### 所选的题解
1. **作者：TEoS（5星）**
    - **关键亮点**：思路阐述详细，从蒟蒻角度出发，对每个步骤解释清晰，代码变量命名虽土但直观，易理解。
    - **个人心得**：无
    - **核心代码**：
```cpp
for(int i=n;i>0;i--)
{
    int a;
    a=pow(x[di[i].i]-x22,2)+pow(y[di[i].i]-y22,2);
    di[i].d2=max(a,di[i+1].d2);
}
for(int i=0;i<=n;i++)
{
    int a;
    a=di[i].d1+di[i+1].d2;
    minn=min(a,minn);
}
```
核心思想：先预处理出每个导弹在以其前一枚导弹为1号系统拦截最远导弹时，2号系统的半径（即剩余导弹到2号系统的最远距离），然后枚举1号系统拦截的最远导弹，计算平方和取最小值。
2. **作者：暗ざ之殇（4星）**
    - **关键亮点**：思路讲解配有图示，便于理解，代码中对细节处理有详细注释，如读入优化、nxt数组的含义及预处理。
    - **个人心得**：感叹题目耗时久，意识到要加强DP训练。
    - **核心代码**：
```cpp
sort(a+1,a+1+n,cmp1);
minx=a[n].dis1;
nxt[n]=dis2[a[n].id];
for(int i=n-1;i>=1;i--)
    if(dis2[a[i].id]>nxt[i+1]) nxt[i]=dis2[a[i].id];
    else nxt[i]=nxt[i+1];
for(int i=n-1;i>=1;i--)
    minx=min(minx,a[i].dis1+nxt[i+1]);
printf("%d",min(minx,nxt[1]));
```
核心思想：先按导弹到第一个拦截系统的距离排序，预处理出nxt数组表示剩余导弹到第二个拦截系统的最大距离，枚举第一个系统拦截的导弹数量，计算平方和取最小值，并考虑第二个系统全部拦截的情况。
3. **作者：YCW13983841648（4星）**
    - **关键亮点**：结合解析几何概念，清晰阐述贪心思路，代码中通过结构体存储距离平方，避免精度问题，且使用`#define int long long`简化类型定义。
    - **个人心得**：无
    - **核心代码**：
```cpp
sort(a+1,a+n+1,cmp);
ans=a[1].num1;
for(int i=1;i<=n;i++){
    r=max(r,a[i].num2);
    ans=min(a[i+1].num1+r,ans);
}
```
核心思想：按导弹到圆一（1号系统）圆心距离平方从大到小排序，遍历过程中确定圆一和圆二（2号系统）半径平方，取平方和最小值。

### 最优关键思路或技巧
1. **排序与枚举**：通过对导弹到某一系统的距离排序，有序地枚举不同的拦截分配情况，减少不必要的计算。
2. **预处理**：提前计算并存储一些关键值，如剩余导弹到另一系统的最远距离，避免在枚举过程中重复计算。
3. **避免精度问题**：直接计算并存储距离的平方，而非距离本身，既满足题目要求的平方和计算，又避免了开根号带来的精度问题。

### 可拓展思路
此类题目属于贪心策略在分配问题上的应用，类似套路可用于资源分配、任务调度等场景的题目，关键在于找到合适的排序依据和贪心策略。

### 相似知识点洛谷题目
1. **P1094 [NOIP2007 普及组] 纪念品分组**：通过贪心策略对物品进行分组，使组数最少。
2. **P1223 排队接水**：根据接水时间对人进行排序，用贪心算法求出所有人等待时间总和的最小值。
3. **P1993 小K的农场**：运用贪心思想结合差分约束系统解决问题，可加深对贪心与其他算法结合应用的理解。 

---
处理用时：40.28秒
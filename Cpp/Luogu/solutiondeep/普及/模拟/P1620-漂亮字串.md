# 题目信息

# 漂亮字串

## 题目描述

Caima 认为 $\tt O$ 和 $\tt X$ 是最优美的两个字母，由 $\tt O,X$ 组成的串是最优美的串。在这些最优美的串中，如果任意只包含 $\tt X$ 的子串，长度不超过 $\max_{\tt X}$，任意只包含 $\tt O$ 的子串，长度不超过 $\max_{\tt O}$，而整个串最多有 $\rm count_{\tt O}$ 个 $\tt O$，$\rm count_{\tt X}$ 个 $\tt X$。那么这个就是超级优美无敌串。

现在 Caima 想知道最长的超级优美无敌串有多长，希望你告诉他。

## 说明/提示

### 样例 2 解释

- $\tt XOXOXOX$。


### 数据范围及约定

最多 $1000$ 组数据，

其中 $30\%$ 的数据 $0\le \rm count_{\tt O},\rm count_{\tt X},\rm max_{\tt O},\rm max_{\tt X} \le 20$，且数据组数不超过 $20$ 组。

对于全部数据，$0 \le \rm count_{\tt O},\rm count_{\tt X},\rm max_{\tt O},\rm max_{\tt X}\le 10^6$。

## 样例 #1

### 输入

```
10 10 0 0

3 5 1 1

```

### 输出

```
0

7

```

# AI分析结果

### 综合分析与结论
所有题解思路基本一致，均通过分情况讨论解决问题。主要分为三种情况：
1. 一方的数量或最大连续长度为0时，结果为另一方数量和最大连续长度的较小值。
2. 一方数量远多于另一方，即使每次用另一方的一个字符作为分隔符都不够用时，通过贪心策略，在满足条件下使串最长。
3. 其他情况，所有字母都能用上，结果为两种字符数量之和。

各题解算法要点和难点类似，主要难点在于理解并分析出不同情况下的贪心策略。部分题解提到数据可能出现`max > Count`的情况需取`min`，以及计算时可能爆`int`需用`long long`。

### 通用建议与扩展思路
通用建议：在解决此类问题时，要仔细分析题目条件，通过分类讨论的方式，结合贪心等策略找到最优解。注意边界条件和数据范围，避免数据类型溢出等问题。
扩展思路：同类型题可能会改变字符限制条件、增加字符种类或改变子串长度限制的判断方式等。类似算法套路可应用于其他具有条件限制的字符串构造或长度计算问题，通过合理分类与贪心策略找到最优解。

### 推荐题目
1. [P1080 国王游戏](https://www.luogu.com.cn/problem/P1080)：涉及贪心策略，通过分析条件找到最优排序方式。
2. [P1223 排队接水](https://www.luogu.com.cn/problem/P1223)：典型的贪心算法应用，根据接水时间进行排序以达到最优结果。
3. [P1937 [USACO10MAR]Barn Allocation G](https://www.luogu.com.cn/problem/P1937)：需合理安排资源，运用贪心策略解决区间分配问题。

### 个人心得摘录与总结
 - **作者：antiquality**：比赛时花两小时思考该题，抗拒数论相关题目，但实际通过分类讨论并结合类似增大表面积加快反应的思路可得出答案。总结为面对难题要克服心理障碍，深入分析题目本质找到解题思路。 

---
处理用时：13.31秒
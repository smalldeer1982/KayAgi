# 题目信息

# 洛谷的文件夹

## 题目描述

kkksc03 是个非凡的空想家！在短时间内他设想了大量网页，然后总是交给可怜的 lzn 去实现。

洛谷的网页端，有很多文件夹，文件夹还套着文件夹。

例如：$\verb!/luogu/application/controller!$ 表示根目录下有一个名称为 $\verb!luogu!$ 的文件夹，这个文件夹下有一个名称 $\verb!application!$ 的文件夹，其中还有名为 $\verb!controller!$ 的文件夹。

每个路径的第 $1$ 个字符总是 $\verb!/!$，且没有两个连续的 $\verb!/!$，最后的字符不是 $\verb!/!$。所有名称仅包含数字和小写字母。

目前根目录是空的。kkksc03 想好了很多应该有的文件夹路径名。问题是，需要是使这些文件夹都存在，需要新建几个文件夹呢？


## 说明/提示

### 数据范围及约定


- 对于 $20\%$ 数据，有 $N \le 20$；
- 对于 $50\%$ 数据，有 $N \le 200$；
- 另有 $30\%$ 数据，有对于所有路径最多存在两个 $\verb!/!$（包含第 $1$ 个字符）；
- 对于所有数据，$N \le 1000$。

## 样例 #1

### 输入

```
2
/luogu/application/controller
/luogu/application/view
```

### 输出

```
3
4
```

## 样例 #2

### 输入

```
3
/chicken
/chicken/egg
/chicken```

### 输出

```
1
2
2```

## 样例 #3

### 输入

```
4
/a
/a/b
/a/c
/b/b```

### 输出

```
1
2
3
5```

# AI分析结果

### 综合分析与结论
这些题解主要围绕如何统计创建给定文件夹路径所需的最少文件夹数量展开。多数题解利用了C++的STL容器，如set、map等，也有使用链表、Trie树等数据结构。
 - **思路方面**：大多通过处理输入路径字符串，将每个文件夹路径或子路径提取出来，利用容器特性去重并统计数量。
 - **算法要点**：核心在于字符串处理与数据结构运用，如按“/”分割路径，用set自动去重，用map建立映射关系。
 - **解决难点**：主要是如何高效地处理路径字符串，避免重复统计，以及处理好路径的层级关系。

### 所选的题解
#### 作者：Anguei (赞：52)  5星
 - **关键亮点**：思路清晰简洁，直接利用STL的set容器，通过遍历路径字符串，在遇到“/”时将当前路径插入set，最后输出set大小减1，代码简洁高效，可读性强。
 - **个人心得**：无
 - **重点代码**：
```cpp
int main() {
    int n;
    std::cin >> n;
    std::set<std::string> set;
    
    for (int i = 1; i <= n; ++i) {
        std::string s;
        std::cin >> s;
        std::string dir = "";
        for (auto j : s) {
            if (j == '/')
                set.insert(dir);
            dir += j;
        }
        set.insert(dir);
        
        std::cout << set.size() - 1 << std::endl;
    }
}
```
核心实现思想：遍历输入路径字符串，遇到“/”就将当前路径插入set，最后插入完整路径，输出set大小减1（减去初始的“/”）。

#### 作者：FutureThx (赞：15)  4星
 - **关键亮点**：以样例为引导，清晰阐述思路，同样利用set容器去重特性，通过循环和条件判断处理路径字符串，逻辑易懂。
 - **个人心得**：无
 - **重点代码**：
```cpp
int main(){
    set<string> s;
    int n,j = 1;
    cin >> n;
    for(int i = 1;i <= n;i++){
        string a,x = "/",father = "";j = 1;
        cin >> a;
        while(j!= a.size() + 1){
            if(j == a.size())
                s.insert(father + x);
            else if(a[j] == '/'){
                s.insert(father + x);
                father = x  + father;
                x = "/";
            }
            else
                x += a[j];
            j++;
        }
        cout << s.size() << endl;
    }
    return 0;
}
```
核心实现思想：通过循环遍历路径字符串，根据“/”判断文件夹结束，将路径插入set，最后输出set大小。

#### 作者：_Clown_ (赞：3)  4星
 - **关键亮点**：详细剖析思路与代码，对set容器使用讲解细致，从题目分析到代码实现逐步展开，便于初学者理解。
 - **个人心得**：无
 - **重点代码**：
```cpp
int main(void)
{
    register int i;
    cin>>Total;
    register set<string>Set;
    Set.clear();
    while(Total--)
    {
        register string Push;
        cin>>Now;
        Push="";
        for(i=0;i<Now.size();i++)
        {
            if(Now[i]=='/')
            {
                Set.insert(Push);
            }
            Push+=Now[i];
        }
        Set.insert(Push);
        cout<<Set.size()-1<<endl;
    }
    return 0;
}
```
核心实现思想：与Anguei思路类似，遍历路径字符串，遇“/”插入当前路径到set，最后插入完整路径，输出set大小减1。

### 最优关键思路或技巧
利用STL容器（如set的自动去重）简化代码实现，通过遍历路径字符串并按“/”分割处理，有效统计所需创建的文件夹数量。这种利用容器特性和简单字符串处理的方式，高效解决问题。

### 可拓展之处
同类型题可涉及文件系统的其他操作模拟，如文件查找、移动等，类似算法套路是利用数据结构（如Trie树优化字符串查找、存储）来处理具有层级关系的数据。

### 相似知识点洛谷题目
 - [P3370 【模板】字符串哈希](https://www.luogu.com.cn/problem/P3370)：涉及字符串哈希算法，与处理路径字符串相关。
 - [P2580 于是他错误的点名开始了](https://www.luogu.com.cn/problem/P2580)：利用STL容器处理字符串去重与统计，类似本题用set去重思路。
 - [P1083 借教室](https://www.luogu.com.cn/problem/P1083)：虽主要是二分答案，但在处理数据时也涉及对数据关系的梳理，类似本题处理路径层级关系。

### 个人心得摘录与总结
 - 离散小波变换°提到哈希碰撞问题，手写哈希表时可能因哈希碰撞导致WA，需注意实现细节，如采用链式哈希避免碰撞。总结为在使用哈希算法时要充分考虑哈希碰撞的影响并合理解决。 

---
处理用时：43.14秒
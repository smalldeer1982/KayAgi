# 题目信息

# 帮贡排序

## 题目背景

在 absi2011 的帮派里，死号偏多。现在 absi2011 和帮主等人联合决定，要清除一些死号，加进一些新号，同时还要鼓励帮贡多的人，对帮派进行一番休整。


## 题目描述

目前帮派内共最多有一位帮主，两位副帮主，两位护法，四位长老，七位堂主，二十五名精英，帮众若干。

现在 absi2011 要对帮派内几乎所有人的职位全部调整一番。他发现这是个很难的事情。于是要求你帮他调整。

他给你每个人的以下数据：

他的名字（长度不会超过 $30$），他的原来职位，他的帮贡，他的等级。

他要给帮贡最多的护法的职位，其次长老，以此类推。

可是，乐斗的显示并不按帮贡排序而按职位和等级排序。

他要你求出最后乐斗显示的列表(在他调整过职位后)：职位第一关键字，等级第二关键字。

注意：absi2011 无权调整帮主、副帮主的职位，包括他自己的（这不是废话么..）

他按原来的顺序给你（所以，等级相同的，原来靠前的现在也要靠前，因为经验高低的原因，但此处为了简单点省去经验。）


## 说明/提示

各种职位用汉语拼音代替。

如果职位剩 $1$ 个，而有 $2$ 个帮贡相同的人，则选择原来在前的现在当选此职位。

另：
帮派名号：星月家园

帮主尊号：Dragonfly Kang

帮派ID：2685023

帮派等级：4

帮派人数：101/110

帮派技能：

星月家园资料，欢迎各位豆油加入^\_^

【数据范围】

对于 $10\%$ 的数据，保证 $n=3$。

对于 $40\%$ 的数据，保证各个人的帮贡均为 $0$。

对于 $100\%$ 的数据，保证 $3\leq n\leq 110$，各个名字长度$\leq30$，$0\leq$ 各个人的帮贡 $\leq1000000000$，
$1\leq$ 各个人等级 $\leq 150$。

保证职位必定为 $\texttt{BangZhu}$，$\texttt{FuBangZhu}$，$\texttt{HuFa}$，$\texttt{ZhangLao}$，$\texttt{TangZhu}$，$\texttt{JingYing}$，$\texttt{BangZhong}$ 之中的一个

保证有一名帮主，保证有两名副帮主，保证有一名副帮主叫 absi2011

不保证一开始帮派里所有职位都是满人的，但排序后分配职务请先分配高级职位。例如原来设一名护法现在设两名。

保证名字不重复。

【题目来源】

fight.pet.qq.com


absi2011 授权题目


## 样例 #1

### 输入

```
9

DrangonflyKang BangZhu 100000 66

RenZaiJiangHu FuBangZhu 80000 60

absi2011 FuBangZhu 90000 60

BingQiLingDeYanLei HuFa 89000 58

Lcey HuFa 30000 49

BangYou3 ZhangLao 1000 1

BangYou1 TangZhu 100 40

BangYou2 JingYing 40000 10

BangYou4 BangZhong 400 1```

### 输出

```
DrangonflyKang BangZhu 66

RenZaiJiangHu FuBangZhu 60

absi2011 FuBangZhu 60

BingQiLingDeYanLei HuFa 58

BangYou2 HuFa 10

Lcey ZhangLao 49

BangYou1 ZhangLao 40

BangYou3 ZhangLao 1

BangYou4 ZhangLao 1```

# AI分析结果

### 综合分析与结论
这些题解的核心思路都是通过两次排序来解决问题。第一次排序依据帮贡，帮贡相同则按输入顺序，目的是确定新职位；第二次排序按职位、等级、输入顺序，以满足最终输出要求。算法要点在于合理定义结构体存储数据，以及准确编写排序比较函数。解决难点主要在于处理帮主和副帮主职位固定，以及保证排序稳定性以符合输入顺序要求。

从质量上看，多数题解思路清晰，但部分题解代码可读性欠佳或存在优化空间。

### 所选4星及以上题解
1. **翼德天尊（5星）**
    - **关键亮点**：思路阐述极为清晰，从提炼排序方式到具体实施步骤，包括输入、两次排序、授予职位和输出，每个环节都有详细说明，代码结构清晰，变量命名易懂。
    - **重点代码 - 核心实现思想**：定义结构体存储人员信息，第一次排序函数`cmp1`按帮贡从大到小，帮贡相同按输入序号从小到大；第二次排序函数`cmp2`先按职位转化后的数值从小到大，职位相同按等级从大到小，等级相同按输入序号从小到大。
```c
struct node{
    string na,zw,xzw;
    long long bg;
    int le,h;
}ab[115];
int change(string a){
    if (a=="BangZhu") return 0;
    if (a=="FuBangZhu") return 1;
    if (a=="HuFa") return 2;
    if (a=="ZhangLao") return 3;
    if (a=="TangZhu") return 4;
    if (a=="JingYing") return 5;
    if (a=="BangZhong") return 6;
}
int cmp1(node x,node y){
    if (x.bg==y.bg) return x.h<y.h;
    else return x.bg>y.bg;
}
int cmp2(node x,node y){
    if (change(x.xzw)==change(y.xzw)){
        if (x.le==y.le) return x.h<y.h;
        return x.le>y.le;
    }
    return change(x.xzw)<change(y.xzw);
}
```
2. **_Qer（4星）**
    - **关键亮点**：同样思路清晰，利用`map`和数组结合的方式处理职位相关信息，代码逻辑连贯，对排序的两次处理描述明确。
    - **重点代码 - 核心实现思想**：定义结构体`player`存储人员信息，`com`函数用于第一次按帮贡从大到小、帮贡相同按输入顺序的排序；`com2`函数用于第二次按职位、等级、输入顺序的排序。通过`map`初始化职位大小关系，方便排序比较。
```cpp
struct player {
    string name, work;
    long long help, level;
    int inn;
} arr[150];
bool com(player a, player b) {
    if (a.help == b.help) {
        return a.inn < b.inn;
    } else {
        return a.help > b.help;
    }
}
bool com2(player a, player b) {
    if (a.work == b.work) {
        if (a.level == b.level) {
            return a.inn < b.inn;
        } else {
            return a.level > b.level;
        }
    } else {
        return w_n_level[a.work] < w_n_level[b.work];
    }
}
```
3. **袁宇轩（4星）**
    - **关键亮点**：使用三目运算符简化比较函数，代码简洁明了，对两次排序的逻辑把握准确，变量声明和使用清晰。
    - **重点代码 - 核心实现思想**：定义结构体`node`存储人员信息，`cmp`函数通过三目运算符实现第一次按帮贡从大到小、帮贡相同按编号从小到大的排序；`cmp_`函数通过嵌套三目运算符实现第二次按职位、等级、编号的排序。
```cpp
struct node{
    string name;
    int bg,level,zw,id;
}a[N];
bool cmp(node A,node B){
    return A.bg==B.bg?A.id<B.id:A.bg>B.bg;
}
bool cmp_(node A,node B){
    return A.zw==B.zw?A.level==B.level?A.id<B.id:A.level>B.level:A.zw<B.zw;
}
```

### 最优关键思路或技巧
- **数据结构**：使用结构体存储人员的多项信息，方便整体操作和排序。
- **排序技巧**：通过自定义比较函数，精确控制排序的多关键字优先级，如先按帮贡，再按输入顺序；先按职位，再按等级，最后按输入顺序。
- **映射处理**：利用`map`或数组建立职位与数值的映射关系，便于对职位进行排序比较。

### 同类型题或类似算法套路
此类题目属于多关键字排序的模拟题，类似套路是明确题目中的多个排序条件和优先级，通过结构体存储数据，自定义比较函数实现排序。常见变化包括改变排序关键字、增加限制条件等。

### 洛谷相似知识点题目推荐
- [P1909 买铅笔](https://www.luogu.com.cn/problem/P1909)：通过比较不同购买方案的价格来选择最优解，涉及简单的条件判断和数据比较。
- [P1059 明明的随机数](https://www.luogu.com.cn/problem/P1059)：需要对输入的数字进行去重和排序，考察排序和数据处理能力。
- [P1165 日志分析](https://www.luogu.com.cn/problem/P1165)：根据多个条件对日志数据进行排序和分析，与本题多关键字排序思路类似。

### 个人心得摘录与总结
无明显个人心得相关内容。 

---
处理用时：47.71秒
# 题目信息

# 出租车拼车

## 题目背景

话说小 x 有一次去参加比赛，虽然学校离比赛地点不太远，但小 x 还是想坐出租车去。大学城的出租车总是比较另类，有“拼车”一说，也就是说，你一个人坐车去，还是一堆人一起，总共需要支付的钱是一样的（每辆出租上除司机外最多坐下 $4$ 个人）。刚好那天同校的一群 OIer 在校门口扎堆了，大家果断决定拼车去赛场。

问题来了，一辆又一辆的出租车经过，但里面要么坐满了乘客，要么只剩下一两个座位，众 OIer 都觉得坐上去太亏了，小 x 也是这么想的。

## 题目描述

假设 $N$ 位 OIer 准备拼车，此时为 $0$ 时刻，从校门到目的地需要支付给出租车师傅 $D$ 元（按车次算，不管里面坐了多少 OIer），假如 $S$ 分钟后恰能赶上比赛，那么 $S$ 分钟后经过校门口的出租车自然可以忽略不计了。现在给出在这 $S$ 分钟当中经过校门的所有的 $K$ 辆出租车先后到达校门口的时间 $T_i$  及里面剩余的座位 $Z_i$
，OIer 可以选择上车几个人（不能超过），当然，也可以选择上 $0$ 个人，那就是不坐这辆车。

俗话说，时间就是金钱，这里小 x 把每个 OIer 在校门等待出租车的分钟数 等同于花了相同多的钱（例如小 x 等待了 $20$ 分钟，那相当于他额外花了 $20$ 元钱）。

在保证所有 OIer 都能在比赛开始前到达比赛地点的情况下，聪明的你能计算出他们最少需要花多少元钱么？

## 说明/提示

对于 $100\%$ 的数据，满足 $N,K,D,S \le 100$，$1 \le Z_i \le 4$，$1 \le T_i \le T_{i+1} \le S$。

## 样例 #1

### 输入

```
2 2 10 5

1 1

2 2

```

### 输出

```
14

```

# AI分析结果

### 综合分析与结论
这些题解均采用动态规划算法解决出租车拼车的费用最小化问题。思路上，核心是定义合适的状态和状态转移方程。主要区别在于状态的定义，有的定义为前i辆车送走j个人的最小花费，有的定义为来了i辆车时还剩j个人的最小花费等。算法要点在于通过三层循环分别枚举车辆、人数和上车人数来更新状态。解决难点在于准确理解题意构建合理的状态转移方程，并处理好边界条件和初始化。

### 所选的题解
- **作者：DDOSvoid (5星)**
    - **关键亮点**：思路清晰，状态定义直观，直接给出状态转移方程并附上简洁代码。
    - **核心代码**：
```cpp
for(int i=1;i<=k;i++)
    for(int j=0;j<=n;j++){
        f[i][j]=f[i-1][j];
        for(int k=0;k<=min(j,a[i].z);k++)
            f[i][j]=min(f[i-1][j-k]+k*a[i].t+d,f[i][j]);
    }
```
    - **核心实现思想**：通过三层循环，外层枚举车辆，中间层枚举已上车人数，内层枚举当前车乘坐人数，根据状态转移方程更新最小花费。
- **作者：Youngsc (4星)**
    - **关键亮点**：状态定义新颖，避免了部分取min操作，还提到可滚动数组优化。
    - **核心代码**：
```cpp
for(R int i=1; i<=k; ++i)
{
    in(t),in(z);
    for(R int j=0; j<=n; ++j)
        for(R int l=0; l<=z; ++l)
            minn(f[j],f[j+l]+(bool)l*d+l*t);
}
```
    - **核心实现思想**：同样三层循环，从剩余人数角度更新最小花费，利用bool型保证费用更新合理性。
- **作者：JiaY19 (4星)**
    - **关键亮点**：使用滚动数组优化空间，详细阐述思路从二维数组到滚动数组的转变。
    - **核心代码**：
```cpp
for(int i = 1;i <= k;i++)
{
    if(t[i] > s) break;
    for(int j = n;j >= 1;j--)
    {
        for(int l = 1;l <= min(z[i], j);l++)
            f[j] = min(f[j - l] + l * t[i] + d, f[j]);
    }
}
```
    - **核心实现思想**：通过滚动数组，逆序枚举人数，根据状态转移方程更新送走j个人的最少花费。

### 最优关键思路或技巧
- **状态定义**：合理定义状态是解决动态规划问题的关键，不同的状态定义可能影响状态转移方程的复杂度和实现难度。
- **滚动数组优化**：当状态转移只与上一阶段状态有关时，可使用滚动数组优化空间复杂度，如JiaY19的题解。

### 可拓展之处
此类题目属于动态规划中的资源分配类问题，类似套路是根据问题特点定义状态，构建状态转移方程。同类型题如任务分配、资源调度等场景下的优化问题。

### 推荐题目
- P1048 [NOIP2005 普及组] 采药
- P1164 小A点菜
- P1004 [NOIP2000 提高组] 方格取数

### 个人心得摘录与总结
无。 

---
处理用时：33.78秒
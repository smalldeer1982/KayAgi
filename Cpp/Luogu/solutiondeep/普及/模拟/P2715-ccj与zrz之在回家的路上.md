# 题目信息

# ccj与zrz之在回家的路上

## 题目背景

zrz走在回家了路上，突然很想上厕所，然后就冲到厕所门口，惊讶的发现门上有个算式。。。


## 题目描述

给出一个算式（a\*b=c或a/b=c或a+b=c或a-b=c）其中a，b，c是三个数字，但是其中有一个是问号，表示未知，请你求出未知的那一个量。


## 说明/提示

总长度小于200，所有数字和要求的数字均不会超过1000000000，也不会是负数。读入的数不会是小数，但答案有可能是


## 样例 #1

### 输入

```
1+1    =                     ?```

### 输出

```
2.00```

## 样例 #2

### 输入

```
1-?                     =0```

### 输出

```
1.00```

## 样例 #3

### 输入

```
2*?=                         6```

### 输出

```
3.00```

## 样例 #4

### 输入

```
8/5=?```

### 输出

```
1.60```

# AI分析结果

### 综合分析与结论
这些题解的核心思路都是先处理输入字符串，去除空格，找出运算符、等号和问号的位置，确定已知数和未知数，再根据运算符和未知数位置计算结果并保留两位小数输出。各题解在输入处理、字符串操作和计算逻辑实现上有所不同。

### 所选题解
- **作者：shame_djj（5星）**
    - **关键亮点**：省去多余符号，边输入边处理，代码简洁高效。
    - **核心代码**：
```cpp
c = getchar();
while (c == ' ')
    c = getchar();
if (c == '?') {
    // 处理问号在首位的情况
    c = getchar();
    while (c == ' ')
        c = getchar();
    cin >> a >> ch >> b;
    // 根据运算符计算结果
    if (c == '+') {
        printf("%.2lf\n", double(b) - double(a));
        return 0;
    }
    // 其他运算符情况类似
}
else {
    // 处理问号不在首位的情况
    while (c >= '0' && c <= '9')
        a = a * 10 + c - '0', c = getchar();
    // 后续处理类似
}
```
- **作者：jinyijiang（4星）**
    - **关键亮点**：充分发挥`string`的`find`系列函数特点，代码模块化程度高。
    - **核心代码**：
```cpp
string c;
getline(cin,c);
int a=c.find_first_of("+-*/"); //找运算符
int b=c.find_first_of("=");  //找等于号
//除去空格
string c1=c.substr(0,a);
string c2=c.substr(a+1,b-a-1);
string c3=c.substr(b+1);
double n;
switch(c[a])//算结果
{
    case '+':
        n=pplus(c1,c2,c3);
        break;
    // 其他运算符情况类似
}
printf("%.2lf",n);
```
- **作者：hensier（4星）**
    - **关键亮点**：详细展示字符串处理过程，逻辑清晰。
    - **核心代码**：
```cpp
getline(cin,s);
for(int i=0;s[i];)//去空格
{
    if(s[i]==' ')s.erase(i,1);
    else i++;
}
a=pos();//找运算符
b=s.find('=');//找等号
s1=s.substr(0,a);
s2=s.substr(a+1,b-a-1);
s3=s.substr(b+1);//取子串
x=f(s1);
y=f(s2);
z=f(s3);//字符串转换为数字
switch(s[a])//判断
{
    case '+':
        if(s1=="?")ans=z-y;
        else if(s2=="?")ans=z-x;
        else ans=x+y;
        break;
    // 其他运算符情况类似
}
printf("%.2lf",ans);
```

### 最优关键思路或技巧
- 利用`string`的`find`系列函数和`substr`函数进行字符串处理，能高效定位运算符、等号和提取子串。
- 边输入边处理，可减少不必要的存储和操作，提高代码效率。
- 使用`switch`语句根据运算符进行分类讨论，使代码逻辑更清晰。

### 可拓展之处
同类型题如复杂表达式求值、带括号的算式计算等。类似算法套路为：先处理输入字符串，去除无用字符，再根据运算符优先级和括号规则进行计算。

### 推荐题目
- [P1981 表达式求值](https://www.luogu.com.cn/problem/P1981)
- [P1054 等价表达式](https://www.luogu.com.cn/problem/P1054)
- [P2415 集合求和](https://www.luogu.com.cn/problem/P2415)

### 个人心得摘录与总结
- **jinyijiang**：输入时要保证`?`是英文字符，否则会调试困难。
- **做梦想Peach**：题目读入有空格，使用`gets`函数处理，注意记录`?`的位置。
- **to_be_continued**：要注意保留两位小数，函数用`double`类型；判断符号时要注意位置，避免输出错误；最好对除数为零情况进行判断。

---
处理用时：29.91秒
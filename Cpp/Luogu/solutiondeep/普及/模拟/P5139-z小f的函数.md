# 题目信息

# z小f的函数

## 题目背景

$z$小$f$热爱数学。

## 题目描述

由于$z$小$f$要复习$NOIp$，而且他认为觉得数学作业太简单了，于是把数学作业交给了你。

题目如下：

给定二次函数$y=ax^{2}+bx+c (a \neq 0)$，求函数的最大（小）值；

$z$小$f$当然不喜欢看见做这么简单的题目啦，于是他决定给函数进行如下操作：

操作 $1$：给定系数$k$，将函数向上平移$k$位，（$k$<$0$则向下平移$-k$位）

操作$2$：给定系数$k$，将函数向右平移$k$位，（$k$<$0$则向左平移$-k$位）

操作$3$：给定系数$k_1,k_2$，将函数关于点$(k_1,k_2)$进行对称变换

操作$4$：给定系数$k_1,k_2$，求函数在闭区间$[k_1,k_2]$上的最小值和最大值

操作$5$：给定系数$u,v,w$，求出二次函数$y$与二次函数$y_2=ux^{2}+vx+w$是否有交点。

由于$z$小$f$需要，你还要输出最终的二次函数$y$此时的最大值（最小值）。


## 说明/提示

对于30%的数据，$n<=100$，且没有操作$3$。

对于60%的数据，$n<=1000$。

对于100%的数据，$T<=10,n<=10000$

数据保证$a \neq 0,u \neq 0,a \neq u,1<=p<=5,-100<=a,b,c,k1,k2,k,u,v,w<=100$。

## 样例 #1

### 输入

```
1
1 0 0
4
1 3
1 -4
4 1 2
5 -1 0 -3
```

### 输出

```
0.00 3.00
0
-1.00
```

## 样例 #2

### 输入

```
1
-4 10 100
15
4 0 78
5 -4 -95 -97
1 -79
4 12 54
4 -60 11
1 83
4 68 80
2 -63
1 71
1 80
3 12 67
1 60
1 41
3 35 -13
4 6 26
```

### 输出

```
-23456.00 106.25
2
-11103.00 -435.00
-14979.00 27.25
-24696.00 -17712.00
-6972.00 -1892.00
0.25
```

# AI分析结果

### 综合分析与结论
这些题解的核心思路都是针对二次函数的五种操作进行分别处理，主要区别在于使用一般式还是顶点式来表示二次函数。使用一般式前期处理方便，但后续计算量大；使用顶点式则在平移和对称操作上更简便，计算量相对较小。

操作 1 较为简单，直接修改常数项；操作 2 需根据平移规则更新系数；操作 3 是难点，涉及对称轴和开口方向的变化；操作 4 要根据对称轴与区间的位置关系分类讨论；操作 5 则通过判别式判断方程是否有解。

### 所选题解
- **作者：EnofTaiPeople（5 星）**
    - **关键亮点**：思路清晰，对每个操作的原理和步骤解释详细，代码无注释但结构清晰，易于理解。
    - **个人心得**：“AK 竞赛后发题解，RP++！我花了半小时，A 了这道题”，体现出作者对自身能力的自信和解题的高效。
- **作者：小菜鸟（4 星）**
    - **关键亮点**：将二次函数封装成类，代码结构清晰，利用顶点式处理操作简洁明了。
    - **个人心得**：“千万注意细节，这题一个小细节能让你交上十遍”，强调了细节在解题中的重要性。
- **作者：zhanghengrui（4 星）**
    - **关键亮点**：使用一般式手推公式，对每个操作的推导过程详细，代码封装成函数，可读性强。

### 重点代码
#### EnofTaiPeople 的核心代码
```cpp
inline void rigt(ld a,ld &b,ld &c,ld w){
    ld d=b/(2*a)-w,e=(4*a*c-b*b)/(4*a);
    c=e+d*d*a;b=d*2*a;return;
}
inline void CHS(ld &a,ld &b,ld &c,ld x1,ld y1){
    ld zhou=-b/(2*a);
    b=-(2*(a=-a))*(x1*2-zhou);
    ld x2=2*x1,y2=y1*2-c;
    c=y2-a*x2*x2-b*x2;return;
}
```
**核心思想**：`rigt` 函数实现函数右移，先将函数转为顶点式进行操作，再转回一般式；`CHS` 函数实现函数关于点对称，通过计算对称轴和特殊点来更新系数。

#### 小菜鸟的核心代码
```cpp
class func//二次函数类
{
    private:
        double a,h,k;
    public:
        func(double aa,double bb,double cc):a(aa),h(-bb/2/aa),k((4*aa*cc-bb*bb)/(4*aa)) {}
        void move_right(double dis){h+=dis;}//向右平移
        void move_up(double dis){k+=dis;}//向上平移
        void symmetry(double x,double y)//关于点对称
        {
            a=-a;
            h=x+x-h;
            k=y+y-k;
        }
};
```
**核心思想**：将二次函数封装成类，使用顶点式表示函数，通过修改顶点坐标实现平移和对称操作。

#### zhanghengrui 的核心代码
```cpp
struct function
{
    double a, b, c;
    function(double _a = 0.0, double _b = 0.0, double _c = 0.0) :a(_a), b(_b), c(_c) {}
    inline void Up(double k)
    {
        c += k;
        return;
    }
    inline void Right(double k)
    {
        *this = function(a, b - 2.0 * a * k, a * k * k - b * k + c);
        return;
    }
    inline void Reflection(double k1, double k2)
    {
        *this = function(-a, 4.0 * a * k1 + b, 2.0 * k2 - 4.0 * a * k1 * k1 - 2.0 * b * k1 - c);
        return;
    }
};
```
**核心思想**：将二次函数封装成结构体，使用一般式表示函数，通过成员函数实现平移和对称操作。

### 最优关键思路或技巧
- 使用顶点式可以简化平移和对称操作的计算。
- 将二次函数封装成类或结构体，提高代码的可读性和可维护性。
- 对于操作 4，根据对称轴与区间的位置关系分类讨论，避免复杂的计算。

### 可拓展之处
同类型题可能会增加更多的函数操作，如旋转、缩放等，或者改变操作的条件和要求。类似算法套路是根据函数的性质和操作规则，推导出操作后的函数表达式，再进行相应的计算和判断。

### 洛谷相似题目推荐
- P1478 陶陶摘苹果（升级版）：涉及函数的最值问题。
- P1028 数的计算：需要对函数进行递推和计算。
- P1002 过河卒：可以将棋盘看作函数，通过状态转移来解决问题。

---
处理用时：32.47秒
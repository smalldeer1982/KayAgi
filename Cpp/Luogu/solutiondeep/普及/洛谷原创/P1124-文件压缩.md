# 题目信息

# 文件压缩

## 题目背景

提高文件的压缩率一直是人们追求的目标。近几年有人提出了这样一种算法，它虽然只是单纯地对文件进行重排，本身并不压缩文件，但是经这种算法调整后的文件在大多数情况下都能获得比原来更大的压缩率。


## 题目描述

该算法具体如下：对一个长度为 $n$ 的字符串 $S$，首先根据它构造 $n$ 个字符串，其中第 $i$ 个字符串由将 $S$ 的前 $i-1$ 个字符置于末尾得到。然后把这 $n$ 个字符串按照首字符从小到大排序，如果两个字符串的首字符相等，则按照它们**在 $S$ 中的位置**从小到大排序。排序后的字符串的尾字符可以组成一个新的字符串 $S'$ ，它的长度也是 $n$，并且包含了 $S$ 中的每一个字符。最后输出 $S'$ 以及 $S$ 的首字符在 $S'$ 中的位置 $p$。

举例：$S$ 是 `example`

1. 构造 $n$ 个字符串。

```plain
example
xamplee
ampleex
mpleexa
pleexam
leexamp
eexampl
```

2. 将字符串排序。

```plain
ampleex
example
eexampl
leexamp
mpleexa
pleexam
xamplee
```
3. 压缩结果。

$S' = \texttt{xelpame}$，$p = 7$

由于英语单词构造的特殊性，某些字母对出现的频率很高，因此在 $S'$ 中相同的字母有很大几率排在一起，从而提高 $S'$ 的压缩率。虽然这种算法利用了英语单词的特性，然而在实践的过程中，人们发现它几乎适用于所有的文件压缩。

请你编一个程序，读入 $S'$ 和 $p$，输出字符串 $S$。

保证 $S$ 仅含小写字母（所以输入的 $S'$ 也仅含小写字母）。

## 样例 #1

### 输入

```
7
xelpame
7
```

### 输出

```
example
```

# AI分析结果

### 综合分析与结论
这些题解的核心思路均是利用排序后的字符串首字母与原字符串尾字母的对应关系来还原原字符串。算法要点在于对输入的字符串 $S'$ 进行排序得到首字母序列，结合给定的位置 $p$ 确定起始字符，进而通过首尾字符的对应关系逐步推导原字符串。

解决难点在于不能正向推导，因为正向推导时在无序的原字符串 $S'$ 中查找字符易导致错位。倒推则可避免该问题，每次从有序的排序后字符串中查找字符。

从质量上看，多数题解思路清晰、代码有注释，但部分代码存在优化空间，整体无特别突出的高质量题解。

### 通用建议与扩展思路
通用思路为：先对给定字符串排序得首字母序列，根据位置 $p$ 确定起始字符，然后倒推还原原字符串。
扩展思路：可考虑将此算法应用于其他类似的字符串重排还原问题，或进一步研究不同排序规则下的字符串还原方法。

### 相似知识点洛谷题目推荐
1. **P1059 [NOIP2006 普及组] 明明的随机数**：涉及排序与去重，与本题对字符串排序有相似之处。
2. **P1923 [NOIP2014 提高组] 上马台之敌**：字符串处理与逻辑推导，类似本题对字符串的操作与分析。
3. **P1012 [NOIP1998 提高组] 拼数**：通过排序解决字符串拼接问题，和本题利用排序解决字符串相关问题思路类似。

### 个人心得摘录与总结
1. **MC_Launcher**：正着写直观但易错，字母可能错位，第一次正着排只得了10分，所以要倒着找并反着输出。总结为正向推导易出错，需采用倒推策略。
2. **张心博harry**：第一眼认为是水题，但实际挂了一周，主要因将寻找原字符串开头放到最后导致诸多麻烦。强调了寻找原字符串开头位置的重要性。
3. **liuzhaoxu**：解释了不能正着推的原因，以一组数据为例，说明正着推在无序字符串中找字符可能接不上答案字符串，倒推可避免该问题。点明正向推导的缺陷与倒推的优势。 

---
处理用时：16.76秒
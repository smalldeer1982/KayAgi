# 题目信息

# 洛谷团队训练 VS 传统团队训练

## 题目背景

“在中学的信息学教育领域，[洛谷](/)无疑是一个相当受欢迎的辅助网站。同时有百余所学校正在通过洛谷进行信息学竞赛（以后简称 OI）的教育。洛谷之所以如此受欢迎，是因为洛谷创新的将 OI 教育的几乎每一个环节都搬到了线上，无论是学校的竞赛教练还是学生，均可以仅仅使用这一个网站来进行练习，提升自己的能力。”


——摘自《厦门中小学教育科学研究》，2015 年 2 月号。


## 题目描述

XX 中学的两位信息组的教练正在为学校信息组是否应当将洛谷作为主要的训练工具而争论不休，最后决定采取一个量化的办法来决定是否迁移。

该中学的原来训练方法是，在机房的教师机里面用 cena 装载好测试数据，装载数据所需要 $T_a$ 时间，每一道题目都要装载。学生写好代码后，可以跑到教师机上收取程序并进行评测。但由于需要往返的路程，因此每跑一次就要浪费 $T_b$ 时间。所以也允许学生在自己的机子上装载好测试数据，可以根据自己的需要选择装载的题目，这需要花费和在教师机装载数据一样的时间 $T_a$，但是每次评测花费的时间就减少为 $T_c$。此外，该中学可能会用 Excel 记录各位同学的训练情况，如果某位同学的某道题的得分高于表格里的记录，那就会花费 $T_d$ 时间将这个成绩更新，否则就不必费那个事了，如果之前没有提交过这道题视为表格记录的程序为 $0$ 分。

而在洛谷中，只需要将题目和测试数据上传到洛谷，花费 $T_a$ 时间。每次评测学生只需花费 $T_c$ 时间即可。记录成绩？那是洛谷的事儿，一提交完就帮你整理好了表格根本不费时间。

看起来可以省下不少时间吧。。然而，支持传统训练方法的教练认为，洛谷并非 $100 \%$ 的稳定，在有的情况会无法提供服务，因此首先要将洛谷的耗时除以它的可用度（一个小于 $100\%$ 的数字 $A\%$）并去掉小数点。又因为传统观念不易纠正，总是有不信任将题目数据交给洛谷这样的想法（kkksc03：怪我咯？），因此使用洛谷的耗时还要再加上一个罚时 $H$ 以做公平比较。

现在给出该中学的训练情况，希望你帮两位教练分析一下到底该如何选择。

## 说明/提示

**【样例解释 #1】**

使用传统方法的话，装载 $4$ 道题目需要 $4 \times 50=200$，$2$ 号同学和 $7$ 号同学用教师机需要时分别 $30 \times 3=90$、$30 \times 4 = 120$，但是明显自己装载 cena 只需要 $50+10 \times 3=80$、$50+10 \times 4=90$ 更优。而 $3,5$ 同学则使用教师机就好，耗时 $60,30$。$2$ 号同学的前两次评测单调递增，所以额外花费 $2 \times 5=10$ 时间记录，$3$ 号同学太弱了都是 $0$ 分所以没必要记录了，$5$ 与 $7$ 各耗费 $5$ 时间。所以这种情况总时间耗时为 $200+80+90+60+30+10+5+5=480$。

使用洛谷的话，装载题目耗费 $200$，$10$ 次评测共耗费 $10 \times10=100$，考虑稳定性时间为 $(200+100) / 93\% = 322$，所以最后总耗时为 $322+50=372$，所以决定使用洛谷。

**【数据范围】**

其中 $50\%$ 数据中，不需要进行成绩的 Excel 记录。

其中 $50\%$ 数据中，题目编号和学号均大于等于 $0$，小于等于 $1000$。

（这两种情况，可能会重叠）

对于 $100\%$ 的数据，保证 $1 \le n,m \le 1000$，$1 \le T_a, T_b, T_c,T_d,H \le 10000$，$1 \le R < 100000$，$0 \le \mathit{Sc}_i \le 100$，$1 \le A \le 100$，学号和题目号在 ${10}^8$ 之内。

实际上，根据超级监控颁发的证书，洛谷 2015 年第一季度可靠性（SLA）为 $99.36 \%$。同时观念也是可以改变的。

洛谷的优点很多都是不能量化的，其精华在于社区。和全国的 OIer 一起学习交流，不很好吗？

最后插一句，去年的【榨取 kkksc03】的布告依然有效，详情。

## 样例 #1

### 输入

```
4 4
501 502 503 504
2 3 5 7
50 30 10 5 93 50 1
10
501 2 10
501 2 80
501 2 70
502 3 0
502 3 0
504 5 100
503 7 0
503 7 0
503 7 0
503 7 10
```

### 输出

```
480
372
Use Luogu!
```

## 样例 #2

### 输入

```
2 3
101 102
1 2 3
70 60 50 1 80 100 0
6
101 1 100
101 2 100
101 3 100
102 1 100
102 2 100
102 3 100
```

### 输出

```
500
650
Forget it...
```

# AI分析结果

• 综合分析与结论：这道题是模拟题，核心是计算并比较传统训练和洛谷训练的耗时。各题解思路相近，都需记录选手每题成绩和次数，计算两种训练方式耗时。难点在于学号和题目号数据大，需处理空间问题。题解们提出离散化、hash、map、二分查找等方法。在代码实现上，都按题目描述逻辑计算时间。整体题解质量一般，无特别突出优化，思路清晰度和代码可读性有提升空间。

通用建议与扩展思路：对于此类大模拟题，关键是理解题意，梳理逻辑，将复杂问题拆解为子问题。处理大数据范围下标映射，可灵活选map、hash、离散化等方法，同时注意各方法时间和空间复杂度。同类型题常涉及多种情况模拟和数据处理，可总结不同场景下计算逻辑和数据结构选择。

推荐题目：
  - P1085 [NOIP2012 提高组] 不高兴的津津：简单模拟日常生活场景，考察基本模拟能力和逻辑梳理。
  - P1909 [NOIP2016 普及组] 买铅笔：模拟购物场景，需考虑不同购买方案计算最优解，与本题比较不同方案耗时类似。
  - P2670 [NOIP2015 普及组] 扫雷游戏：模拟扫雷游戏规则，处理数据和逻辑判断，锻炼模拟复杂场景能力。 

---
处理用时：10.27秒
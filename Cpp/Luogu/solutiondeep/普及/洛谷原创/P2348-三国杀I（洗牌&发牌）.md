# 题目信息

# 三国杀I（洗牌&发牌）

## 题目描述

一场三国杀一共有 $n$ 个玩家，每人需要 $4$ 张牌。牌库共 $k$ 张牌，需洗牌后再发。每张牌有以下 $3$ 个属性：

一、牌的类型:

1. 基础：杀（$\texttt{K}$）、闪（$\texttt{M}$）、桃（$\texttt{P}$）、酒（$\texttt{W}$）。

2. 非延时锦囊：决斗（$\texttt{B}$）、万箭（$\texttt{A}$）、南蛮（$\texttt{S}$）、五谷（$\texttt{C}$）、桃园（$\texttt{G}$）、拆（$\texttt{D}$）、顺（$\texttt{U}$）、铁索（$\texttt{T}$）、无懈（$\texttt{N}$）、火攻（$\texttt{F}$）、无中（$\texttt{E}$）。

3. 延时锦囊：兵（$\texttt{I}$）、乐（$\texttt{K}$）、闪电（$\texttt{L}$）。

4. 马（$\texttt{+,-}$）

5. 武器：连弩（$\texttt{LN}$）、青釭（$\texttt{QG}$）、古锭（$\texttt{GD}$）、寒冰（$\texttt{HB}$）、雌雄（$\texttt{CX}$）、吴六（$\texttt{WL}$）、青龙（$\texttt{QL}$）、丈八（$\texttt{ZB}$）、贯石（$\texttt{GS}$）、方天（$\texttt{FT}$）、羽扇（$\texttt{YS}$）、麒麟（$\texttt{LG}$）。

6. 防具：仁王（$\texttt{RW}$）、八阵（$\texttt{BZ}$）、藤甲（$\texttt{TJ}$）、狮子（$\texttt{SZ}$）

二、花色：只有可能是 $\texttt{C,H,S,D}$ 中的一个。

三、点数：只有可能是 $\texttt{A,2,3,4,5,6,7,8,9,T,J,Q,K}$（T代表10，从小到大）中的一个。

洗牌方式的介绍：一次洗牌过后，从上到下依次是：$\left\lfloor\dfrac{k}{2}\right\rfloor+1,1,\left\lfloor\dfrac{k}{2}\right\rfloor+2,2,\left\lfloor\dfrac{k}{2}\right\rfloor+3,3, ... ,k,\left\lfloor\dfrac{k}{2}\right\rfloor$（可以有奇数张牌，最后一张牌直接忽略掉）。

发牌方式的介绍：从第 $1$ 张牌开始，从上到下依次将第 $i$ 张牌给第 $[(i-1)\mod n+1]$ 号玩家。

已知一共洗了 $m$ 次牌，现在问你第 $p$ 位玩家发到的 $4$ 张牌有哪些。





## 说明/提示


对于 $100\%$ 的数据，满足 $1\leqslant p\leqslant n\leqslant 1000,1\leqslant k\leqslant 100000,1\leqslant m\leqslant 80$。

## 样例 #1

### 输入

```
2 10 1 1

C2 K

H5 B

DT K

SA M

HQ P

D4 K

C6 P

H9 M

ST B

SK C

```

### 输出

```
D4 K

C6 P

H9 M

ST B

```

## 样例 #2

### 输入

```
2 7 1 1

C2 K

H5 B

DT K

SA M

HQ P

SK C

C6 P

```

### 输出

```
Error:cards not enough

```

# AI分析结果

• **综合分析与结论**：这道题是典型的模拟题，各题解思路相近，均先判断牌数是否足够（若 \( k < n \times 4 \) 输出牌不够），接着按特定方式洗牌 \( m \) 次，最后按规则发牌给第 \( p \) 位玩家并输出其拿到的4张牌。算法要点在于准确实现洗牌和发牌逻辑，难点主要是理解并正确实现洗牌方式。部分题解在数据存储类型（如使用 `string` 或 `char` 数组）和代码细节处理上存在差异。整体题解质量大多处于基础实现层面，优化较少。

• **通用建议与扩展思路**：
    - **思路优化**：在理解题意时，可将复杂的描述简化为数学或逻辑模型，如将洗牌和发牌规则转化为数组下标的操作规律，能更清晰地实现代码。
    - **代码优化**：可考虑减少中间变量和重复操作，部分题解在洗牌过程中可直接在原数组操作而不借助额外数组，以减少空间复杂度。同时，对于频繁使用的操作，如判断牌是否发给指定玩家，可提前计算出相关规律，减少循环中的判断次数。
    - **拓展**：同类型题可涉及不同规则的牌类游戏模拟，如扑克牌游戏规则模拟等。类似算法套路为先明确游戏规则，将其转化为程序可实现的逻辑，再通过循环、条件判断等操作模拟整个过程。

• **推荐题目**：
    - [P1035 级数求和](https://www.luogu.com.cn/problem/P1035)：通过模拟计算级数和，考察对循环和简单数学逻辑的实现。
    - [P1046 陶陶摘苹果（升级版）](https://www.luogu.com.cn/problem/P1046)：模拟摘苹果过程，涉及条件判断和循环操作，与本题模拟思路类似。
    - [P1161 开灯](https://www.luogu.com.cn/problem/P1161)：模拟开灯关灯过程，通过对规则的理解实现逻辑，锻炼模拟题的解题能力。

• **个人心得摘录与总结**：
    - **作者ljh736731592**：使用 `char` 数组读取数据时，因Windows换行符 `\r\n` 问题导致本地测试正确但提交WA20，后改用 `string` 类型得以解决，最后经指点修正 `char` 数组读取方式也能AC。总结为在处理输入输出时，要注意不同操作系统换行符差异，对 `char` 数组读取需谨慎处理空白字符。 

---
处理用时：20.19秒
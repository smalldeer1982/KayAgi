# 题目信息

# Bassline

## 题目背景

fuwa↑ fuwa↑ fuwa↑ fuwa↑

赫尔德开始使用当下热潮的聊天软件 BassLine，那么第一步自然是加好友了！加好友既需要确认自己和对方有共同兴趣，又需要能加到足够多的好友。赫尔德将其抽象成了下面这个问题，让你来帮她解决。

## 题目描述

本题中，区间 $[l,r]$ 指所有大于等于 $l$ 且小于等于 $r$ 的整数组成的集合，如 $[3,3]$ 代表 $\{3\}$，$[3,7]$ 代表 $\{3,4,5,6,7\}$。

给定 $n$ 个区间，第 $i$ 个区间是 $[l_i,r_i]$。

你需要选择两个整数 $x\le y$，满足：

- 对于所有区间 $[l_i,r_i]$（$1\le i \le n$），以下两个条件之一满足：
	1. $[x,y]$ 被 $[l_i,r_i]$ 包含，换言之， $[x,y]\cap[l_i,r_i]=[x,y]$。
    2.  $[x,y]$ 与 $[l_i,r_i]$ 无交集，换言之，$[x,y]\cap[l_i,r_i]=\varnothing$。

若有 $k$ 个区间满足条件 1，则你的得分是 $k(y-x)$。输出你最大的可能的得分。

## 说明/提示

**【样例解释】**

对于样例，$[5,6]$ 是最优的区间之一，其含于 $[4,7],[5,9]$，且与 $[1,3],[7,10]$ 没有交集。此时 $k=2$，因此答案为 $2\times(6-5)=2$。$[1,3]$ 也是一个最优的区间。

$[5,7]$ 并非合法的区间，因为它与 $[7,10]$ 有交集，也并不含于 $[7,10]$。

---

**【数据范围】**

对于所有数据保证 $1 \le n \le 3 \times {10}^5$，$1 \le l_i \le r_i \le 3 \times {10}^5$。

- 子任务 1（20 分）：$n,l_i,r_i \le 10$；
- 子任务 2（20 分）：$n \le {10}^3$；
- 子任务 3（20 分）：$l_i, r_i \le {10}^3$；
- 子任务 4（40 分）：无特殊限制。

## 样例 #1

### 输入

```
4
1 3
4 7
5 9
7 10
```

### 输出

```
2
```

# AI分析结果

### 综合分析与结论
这些题解的核心思路都是围绕寻找满足条件的区间$[x, y]$，并计算其得分$k(y - x)$的最大值。
1. **思路方面**：多数题解先明确合法区间$[x, y]$的条件，即$[x + 1, y]$不包含任意左端点，$[x, y - 1]$不包含任意右端点。在此基础上，通过不同方式遍历区间并统计得分。
2. **算法要点**：常利用差分和前缀和统计区间覆盖次数，有的题解还使用结构体、数组标记端点位置等。
3. **解决难点**：关键在于处理好区间端点与合法区间的关系，以及高效统计满足条件的区间得分。

综合质量来看，各题解在思路清晰度、代码可读性和优化程度上各有优劣，整体无明显4星及以上题解。

### 通用建议与扩展思路
1. **通用建议**：
    - 理解题意时，可通过画图辅助理解合法区间的条件。
    - 代码实现时，注意数组边界和数据类型范围，避免溢出。
    - 可通过注释增强代码可读性，如标注数组含义、关键变量用途等。
2. **扩展思路**：
    - 此类题目可拓展到更高维度，如二维平面上的矩形区域覆盖问题，思路类似但实现更复杂。
    - 可结合其他数据结构，如线段树，优化区间查询和统计的效率，适用于数据规模更大的情况。

### 相似知识点题目推荐
1. **P3372 【模板】线段树 1**：基础线段树模板题，用于区间查询和修改，与本题使用差分和前缀和统计区间信息有相似之处。
2. **P1177 【模板】快速排序**：虽然是排序算法题，但在处理数据时，对数据的遍历和处理方式与本题有一定相似性，可锻炼对数据的操作能力。
3. **P2367 语文成绩**：涉及到对数据的统计和处理，需要根据给定条件计算得分，与本题计算得分思路类似。 

---
处理用时：14.50秒
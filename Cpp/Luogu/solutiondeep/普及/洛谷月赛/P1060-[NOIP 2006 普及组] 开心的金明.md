# 题目信息

# [NOIP 2006 普及组] 开心的金明

## 题目描述

金明今天很开心，家里购置的新房就要领钥匙了，新房里有一间他自己专用的很宽敞的房间。更让他高兴的是，妈妈昨天对他说：“你的房间需要购买哪些物品，怎么布置，你说了算，只要不超过 $N$ 元钱就行”。今天一早金明就开始做预算，但是他想买的东西太多了，肯定会超过妈妈限定的 $N$ 元。于是，他把每件物品规定了一个重要度，分为 $5$ 等：用整数 $1-5$ 表示，第 $5$ 等最重要。他还从因特网上查到了每件物品的价格（都是整数元）。他希望在不超过 $N$ 元（可以等于 $N$ 元）的前提下，使每件物品的价格与重要度的乘积的总和最大。

设第$j$件物品的价格为 $v_j$，重要度为 $w_j$，共选中了 $k$ 件物品，编号依次为 $j_1,j_2,…,j_k$，则所求的总和为：

$$v_{j_1} \times w_{j_1}+v_{j_2} \times w_{j_2} …+v_{j_k} \times w_{j_k}$$

请你帮助金明设计一个满足要求的购物单。

## 说明/提示

NOIP 2006 普及组 第二题


## 样例 #1

### 输入

```
1000 5
800 2
400 5
300 5
400 3
200 2
```

### 输出

```
3900```

# AI分析结果

### 综合分析与结论

本题是一个典型的01背包问题，核心在于如何在给定的预算内选择物品，使得物品的价格与重要度的乘积总和最大。大多数题解都采用了动态规划（DP）的思路，部分题解还提供了DFS和二进制枚举的解法。整体来看，DP解法是最高效且易于理解的，尤其是使用一维数组优化的版本。

### 所选高星题解

#### 1. 作者：oier1459078309 (5星)
- **关键亮点**：提供了多种背包问题的模板，包括01背包、完全背包和多重背包，并详细解释了如何将问题转化为01背包。代码简洁且优化到位，适合初学者理解和应用。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n;i++) {
      for(int j=m;j>=v[i];j--) {
          f[j]=max(f[j],f[j-v[i]]+w[i]);
      }
  }
  ```
- **个人心得**：作者提到“背包问题主要是背模板”，强调了模板在解决类似问题中的重要性。

#### 2. 作者：phigy (4星)
- **关键亮点**：不仅提供了DP解法，还给出了DFS的解法，适合不同层次的读者。DFS解法虽然效率较低，但在小规模数据下依然可行。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n;i++) {
      for(int c=0;c<=m;c++) {
          f[i][c]=f[i-1][c];
          if(c>=w[i])
          f[i][c]=max(f[i][c],f[i-1][c-w[i]]+v[i]);
      }
  }
  ```
- **个人心得**：作者提到“DFS虽然慢，但在小数据下依然可用”，提醒读者在实际应用中要根据数据规模选择合适的算法。

#### 3. 作者：superLouis (4星)
- **关键亮点**：代码简洁，思路清晰，适合快速理解和应用。使用了滚动数组优化，进一步减少了空间复杂度。
- **核心代码**：
  ```cpp
  for(int i=1;i<=n;i++) {
      for(int j=m;j>=w[i];j--) {
          f[j]=max(f[j],f[j-w[i]]+v[i]);
      }
  }
  ```
- **个人心得**：作者提到“自我滚动方便，交替滚动不易出错”，强调了不同滚动方式的适用场景。

### 最优关键思路与技巧

1. **一维数组优化**：通过从后向前遍历，避免了重复计算，显著减少了空间复杂度。
2. **状态转移方程**：`f[j] = max(f[j], f[j-w[i]] + v[i])`，简洁且高效。
3. **问题转化**：将物品的价格与重要度的乘积作为价值，直接套用01背包模型。

### 可拓展之处

1. **多重背包问题**：可以通过二进制拆分将多重背包转化为01背包，进一步扩展应用场景。
2. **完全背包问题**：与01背包类似，但物品可以无限次选择，适用于不同场景。

### 推荐题目

1. [P1064 [NOIP2006 提高组] 金明的预算方案](https://www.luogu.com.cn/problem/P1064)
2. [P5020 [NOIP2018 提高组] 货币系统](https://www.luogu.com.cn/problem/P5020)
3. [P1048 [NOIP2005 普及组] 采药](https://www.luogu.com.cn/problem/P1048)

### 个人心得总结

- **调试经历**：部分作者提到在实现过程中遇到的坑，如DFS的效率问题和DP的滚动数组优化。
- **踩坑教训**：提醒读者在实际应用中要根据数据规模选择合适的算法，避免在小数据下使用低效算法。
- **顿悟感想**：通过模板化的思路，可以快速解决类似问题，强调了模板在算法学习中的重要性。

---
处理用时：31.29秒
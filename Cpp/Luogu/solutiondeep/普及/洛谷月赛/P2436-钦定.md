# 题目信息

# 钦定

## 题目描述

小 S 拿到了复赛参赛表，表上的选手是由 $A$ 位神犇与 $B$ 位蒟蒻间隔、循环构成的。

比如 $A=2$，$B=3$ 时，选手 $1,2,6,7,11,12\dots$ 是神犇，选手 $3,4,5,8,9,10,13,14,15\dots$是蒟蒻。

现在小 S 钦定了一些选手是神犇，蒟蒻，但她不能构造出这样的 $A,B$，你能帮帮她吗？

## 说明/提示

对于 $10 \%$ 的数据，$1 \le N,M \le 10$。

对于 $30 \%$ 的数据，$1 \le N,M \le 100$。

对于 $100 \%$ 的数据，$1 \le N,M \le 1000$，$1 \le T \le 10$，$1 \le a_i,b_i \le 2 \times 10 ^ 5$。

## 样例 #1

### 输入

```
10 1
4 8 55 56 57 63 64 67 70 150
87```

### 输出

```
20 2```

# AI分析结果

### 综合分析与结论

该题的核心在于通过模运算来枚举可能的周期，并根据神犇和蒟蒻的编号分布规律，找到满足条件的 \(A\) 和 \(B\)。大多数题解都采用了类似的思路：枚举周期，计算神犇和蒟蒻的模数，并判断是否满足条件。题解之间的差异主要体现在代码实现、优化程度和细节处理上。

### 所选高星题解

#### 1. 作者：Warriorszx (赞：10)  
**星级：4.5星**  
**关键亮点：**
- 思路清晰，代码结构简洁，易于理解。
- 使用 `pair<int, int>` 来存储和排序答案，符合题目要求的最小 \(A\) 和 \(B\)。
- 通过枚举周期并计算模数，判断神犇和蒟蒻的分布是否合法。

**核心代码：**
```cpp
for (int i = 2; i <= cnt; i++) {
    ans1 = 0; ans2 = 2010000000;
    for (int j = 1; j <= n; j++) {
        c[j] = a[j] % i;
        if (c[j] == 0) ans1 = max(ans1, i);
        else ans1 = max(c[j], ans1);
    }
    for (int j = 1; j <= m; j++) {
        d[j] = b[j] % i;
        if (d[j] == 0) ans2 = min(ans2, i);
        else ans2 = min(ans2, d[j]);
    }
    if (ans1 < ans2) {
        q[++tail].x = ans1;
        q[tail].y = i - ans1;
    }
}
```
**个人心得：**
- 通过枚举周期并计算模数，判断神犇和蒟蒻的分布是否合法，思路清晰且易于实现。

#### 2. 作者：wang6w6 (赞：6)  
**星级：4星**  
**关键亮点：**
- 代码结构清晰，注释详细，适合初学者学习。
- 使用结构体存储答案，并通过排序找到最小 \(A\) 和 \(B\)。
- 通过枚举周期并计算模数，判断神犇和蒟蒻的分布是否合法。

**核心代码：**
```cpp
for (ll i = 2; i <= (n + m) * 10 + 1; i++) {
    A = 0; B = MA;
    for (ll j = 1; j <= n; j++) {
        ra[j] = a[j] % i;
        if (ra[j] == 0) A = max(A, i);
        else A = max(A, ra[j]);
    }
    for (ll j = 1; j <= m; j++) {
        rb[j] = b[j] % i;
        if (rb[j] == 0) B = min(B, i);
        else B = min(B, rb[j]);
    }
    if (A < B) {
        len++;
        ans[len].A = A;
        ans[len].B = i - A;
    }
}
```
**个人心得：**
- 通过枚举周期并计算模数，判断神犇和蒟蒻的分布是否合法，代码结构清晰且易于理解。

#### 3. 作者：superLouis (赞：3)  
**星级：4星**  
**关键亮点：**
- 代码简洁，使用 `pair<int, int>` 来存储和排序答案，符合题目要求的最小 \(A\) 和 \(B\)。
- 通过枚举周期并计算模数，判断神犇和蒟蒻的分布是否合法。

**核心代码：**
```cpp
for (int i = 1; i <= (n + m) * 10; i++) {
    int xx = -inf, yy = inf;
    for (int j = 1; j <= n; j++) xx = max(xx, a[j] % i ? a[j] % i : i);
    for (int j = 1; j <= m; j++) yy = min(yy, b[j] % i ? b[j] % i : i);
    if (xx >= yy) continue;
    flg = true;
    yy = i - xx;
    ans = min(ans, {xx, yy});
}
```
**个人心得：**
- 通过枚举周期并计算模数，判断神犇和蒟蒻的分布是否合法，代码简洁且易于实现。

### 最优关键思路与技巧

1. **模运算与周期枚举**：通过模运算来枚举可能的周期，判断神犇和蒟蒻的分布是否合法。
2. **排序与最小化**：使用排序来找到满足条件的最小 \(A\) 和 \(B\)，符合题目要求。
3. **数据结构优化**：使用 `pair<int, int>` 或结构体来存储和排序答案，简化代码逻辑。

### 可拓展之处

- **类似题目**：可以拓展到其他需要枚举周期或模运算的题目，如循环队列、周期性序列等。
- **算法优化**：可以进一步优化枚举的范围，减少不必要的计算，提高算法效率。

### 推荐题目

1. **P1965 转圈游戏**（考察模运算与周期性）
2. **P1082 同余方程**（考察模运算与数论）
3. **P1516 青蛙的约会**（考察模运算与周期性）

### 个人心得总结

- **调试经历**：部分题解提到调试过程中遇到的坑，如多组数据未清空、模数为0的处理等，提醒我们在编写代码时要注意细节。
- **顿悟感想**：通过枚举周期并计算模数，判断神犇和蒟蒻的分布是否合法，思路清晰且易于实现，适合初学者学习。

---
处理用时：48.16秒
# 题目信息

# SAC#1 - 组合数

## 题目描述


今天小明学习了组合数，现在他很想知道 $\sum \rm{C}$$_{n}^{i}$ 是多少。其中 $\rm{C}$ 是组合数（即 $\rm{C}$$_{n}^{i}$ 表示 $n$ 个物品无顺序选取 $i$ 个的方案数），$i$ 取从 $0$ 到 $n$ 的所有偶数。

由于答案可能很大，请输出答案对 $6662333$ 的余数。

## 说明/提示

对于 $20\%$ 的数据，$n \le 20$；

对于 $50\%$ 的数据，$n \le 10^{3}$；

对于 $100\%$ 的数据，$n \le 10^{18}$。

## 样例 #1

### 输入

```
3```

### 输出

```
4```

# AI分析结果

### 综合分析与结论

本题的核心在于通过数学推导得出 $\sum_{i=0, i \text{ even}}^{n} C(n, i) = 2^{n-1}$，并使用快速幂算法高效计算 $2^{n-1} \mod 6662333$。大多数题解都围绕这一思路展开，主要区别在于数学推导的详细程度、代码实现的优化程度以及是否包含个人心得。

#### 关键思路与技巧：
1. **数学推导**：利用二项式定理，通过 $(1+1)^n$ 和 $(1-1)^n$ 的展开式，推导出偶数项组合数的和为 $2^{n-1}$。
2. **快速幂算法**：用于高效计算大指数的模运算，时间复杂度为 $O(\log n)$。
3. **代码优化**：部分题解通过递归、记忆化或位运算进一步优化了快速幂的实现。

#### 可拓展之处：
- **组合数问题**：类似的问题可以通过二项式定理或其他组合恒等式进行推导。
- **快速幂应用**：快速幂不仅适用于模运算，还可用于计算大指数的幂运算，广泛应用于数论和动态规划中。

### 评分较高的题解

#### 1. **作者：Salty_Fish787 (5星)**
- **关键亮点**：数学推导详细，代码简洁且高效，快速幂实现清晰。
- **代码核心**：
  ```cpp
  long long quick_pow(long long a, long long b, long long mod) {
      long long res = 1;
      while (b) {
          if (b & 1) res = res * a % mod;
          a = a * a % mod;
          b >>= 1;
      }
      return res;
  }
  ```
  **核心思想**：通过位运算和循环实现快速幂，代码简洁且高效。

#### 2. **作者：hsfzLZH1 (4星)**
- **关键亮点**：结合费马小定理进一步优化了快速幂的计算，时间复杂度更低。
- **代码核心**：
  ```cpp
  long long ksm(long long a, long long n, long long mod) {
      long long ans = 1;
      a %= mod;
      while (n) {
          if (n & 1) ans = ans * a % mod;
          n >>= 1;
          a = a * a % mod;
      }
      return ans;
  }
  ```
  **核心思想**：利用费马小定理减少计算量，快速幂实现简洁。

#### 3. **作者：子谦。 (4星)**
- **关键亮点**：通过记忆化优化快速幂，代码可读性高，适合初学者理解。
- **代码核心**：
  ```cpp
  long long mi(long long d, long long c, long long mod) {
      if (c == 0) return 1;
      if (c == 1) return d % mod;
      if (a[c]) return b[c];
      a[c] = 1;
      b[c] = (mi(d, c / 2, mod) * mi(d, c - c / 2, mod)) % mod;
      return b[c];
  }
  ```
  **核心思想**：通过记忆化减少重复计算，适合处理大指数问题。

### 推荐题目
1. **P1226 【模板】快速幂**：快速幂的模板题，适合练习快速幂的实现。
2. **P3807 【模板】卢卡斯定理**：涉及组合数的模运算，适合进一步学习组合数的计算。
3. **P1313 计算系数**：结合二项式定理和快速幂，适合巩固本题的知识点。

### 个人心得总结
- **调试经历**：部分作者提到在快速幂实现中遇到的“血的教训”，强调了快速幂的重要性。
- **顿悟感想**：通过小数据找规律，发现 $\sum_{i=0, i \text{ even}}^{n} C(n, i) = 2^{n-1}$，这一方法在竞赛中非常实用。

### 通用建议
- **数学推导**：掌握二项式定理和组合恒等式，能够快速推导出问题的数学表达式。
- **代码优化**：熟练掌握快速幂的实现，并尝试通过记忆化、位运算等方法进一步优化代码。

---
处理用时：32.12秒
# 题目信息

# 兜心の顶

## 题目背景

Source：[八仙敬酒](/paste/78f1vlm0)，这是可以点的。

- 吕洞宾——醉酒提壶力千钧；
- 铁拐李——旋肘膝撞醉还真；
- **汉钟离——跌步抱坛兜心顶**；
- 蓝采和——单提敬酒拦腰破；
- 张果老——醉酒抛杯踢连环；
- 曹国舅——仙人敬酒锁喉扣；
- 韩湘子——擒腕击胸醉吹箫；
- 何仙姑——弹腰献酒醉荡步。

## 题目描述

给定正整数 $n$，要求构造一棵 $n$ 个结点的树，满足树的直径的重心 **不是** 树的重心。

同时这棵树需满足：直径$^1$、重心$^2$、直径的重心$^3$全部唯一。

---

注：

- 树的直径$^1$：[https://oi-wiki.org/graph/tree-diameter/](https://oi-wiki.org/graph/tree-diameter/)
- 树的重心$^2$：[https://oi-wiki.org/graph/tree-centroid/](https://oi-wiki.org/graph/tree-centroid/)
- 树的直径的重心$^3$：将树的直径（一条链）视作一棵树，求其中心（一个点）。

## 说明/提示

#### 样例说明

![](https://cdn.luogu.com.cn/upload/image_hosting/kdgu2xd9.png)

样例 #1 中直径的重心是 $7$，树的重心是 $1$，$1\ne7$。

样例 #2 中 $n=2$，只有两个点时显然重心不可能唯一。

#### 数据范围

**本题采取捆绑测试。**

| 子任务编号 | 分值 | 特殊性质 |
| :----------: | :----------: | :----------: |
| $1$ | $30$ | $n\le10$ |
| $2$ | $30$ | $n$ 是奇数 |
| $3$ | $30$ | $n$ 是偶数 |
| $4$ | $10$ | 无 |

对于 $100\%$ 的数据：$1\le n\le10^4$。

**本题提供 Special Judge 源码，参见下方附件。**

## 样例 #1

### 输入

```
20```

### 输出

```
20
20 18
1 3
19 12
19 4
16 1
4 1
1 7
16 10
7 20
13 8
10 2
18 13
13 17
14 18
11 19
16 5
2 6
16 9
17 15```

## 样例 #2

### 输入

```
2```

### 输出

```
-1```

# AI分析结果

### 综合分析与结论

本题的核心是构造一棵满足特定条件的树，要求树的直径、重心、直径的重心唯一且不同。大多数题解都采用了类似的构造思路：通过构造一条长度为奇数的链作为直径，并在链的某个节点上添加菊花图来转移重心。具体来说，构造一条长度为7的链，并在链的第三个节点上添加多个子节点，以确保树的重心与直径的重心不同。当节点数小于等于8时，无解。

### 精选题解

#### 1. 作者：Danno0v0 (5星)
**关键亮点**：
- 思路清晰，详细解释了构造过程，尤其是如何通过延长链和添加节点来保证直径唯一。
- 代码简洁，逻辑清晰，易于理解。
- 提供了图示，帮助理解构造过程。

**个人心得**：
- 作者通过画图验证了构造的正确性，强调了当节点数小于等于8时无法满足条件。

**核心代码**：
```cpp
#include<bits/stdc++.h>
int main(){
	int n;
	std::cin>>n;
	if(n<=8)std::cout<<-1;
	else{std::printf("%d\n%d %d\n%d %d\n%d %d\n%d %d\n%d %d\n%d %d\n",n,1,2,2,3,3,4,4,5,5,6,6,7);
	for(int j=8;j<=n;j++){std::printf("%d %d\n",3,j);}}}
```
**核心思想**：
- 构造一条长度为7的链，并在第三个节点上添加多个子节点，确保直径唯一且重心与直径的重心不同。

#### 2. 作者：xuan_gong_dong (4星)
**关键亮点**：
- 详细分析了构造树的必要条件，尤其是直径长度必须为奇数。
- 代码简洁，逻辑清晰，易于理解。

**核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	int n(read());
	if(n<9){
		putchar('-');
		putchar('1');
		return 0;
	}
	write(n);
	putchar('\n');
	for(int i=1;i<7;i++){
		write(i);
		putchar(' ');
		write(i+1);
		putchar('\n');
	}
	for(int i=8;i<=n;i++){
		putchar('3');
		putchar(' ');
		write(i);
		putchar('\n');
	}
	return 0;
}
```
**核心思想**：
- 构造一条长度为7的链，并在第三个节点上添加多个子节点，确保直径唯一且重心与直径的重心不同。

#### 3. 作者：Elaina_0 (4星)
**关键亮点**：
- 详细讨论了不同直径长度下的构造方法，尤其是当直径为5时的特殊情况。
- 提供了图示，帮助理解构造过程。

**核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
#define int long long
#define Elaina 0
inline int read(){
    int x=0,f=1;
    char ch=getchar();
    for(;!isdigit(ch);ch=getchar()) if(ch=='-') f=-1;
    for(;isdigit(ch);ch=getchar()) x=x*10+ch-'0';
    return x*f;
}

int n;

main(){
	n=read();
	if(n<=8) return printf("-1"),Elaina;
	printf("%lld\n",n);
	printf("1 2\n");
	printf("2 3\n");
	printf("3 4\n");
	printf("4 5\n");
	printf("5 6\n");
	printf("6 7\n");
	for(int i=8;i<=n;++i){
		printf("3 %lld\n",i);
	}
	return Elaina;
}
```
**核心思想**：
- 构造一条长度为7的链，并在第三个节点上添加多个子节点，确保直径唯一且重心与直径的重心不同。

### 最优关键思路或技巧
- **构造链与菊花图结合**：通过构造一条长度为奇数的链作为直径，并在链的某个节点上添加菊花图，可以有效地转移重心，确保直径唯一且重心与直径的重心不同。
- **节点数限制**：当节点数小于等于8时，无法满足条件，直接输出-1。

### 可拓展之处
- **类似构造题**：可以尝试构造其他类型的树，满足不同的条件，如直径长度、重心位置等。
- **树的直径与重心**：可以进一步研究树的直径与重心的性质，应用于其他图论问题中。

### 推荐题目
1. [P7238 「DCOI」仙人敬酒锁喉扣](https://www.luogu.com.cn/problem/P7238)
2. [P7807 「DCOI」单提敬酒拦腰破](https://www.luogu.com.cn/problem/P7807)
3. [P7903 「DCOI」兜心の顶](https://www.luogu.com.cn/problem/P7903)

---
处理用时：35.61秒
# 题目信息

# [NOIP 2005 普及组] 校门外的树

## 题目描述

某校大门外长度为 $l$ 的马路上有一排树，每两棵相邻的树之间的间隔都是 $1$ 米。我们可以把马路看成一个数轴，马路的一端在数轴 $0$ 的位置，另一端在 $l$ 的位置；数轴上的每个整数点，即 $0,1,2,\dots,l$，都种有一棵树。


由于马路上有一些区域要用来建地铁。这些区域用它们在数轴上的起始点和终止点表示。已知任一区域的起始点和终止点的坐标都是整数，区域之间可能有重合的部分。现在要把这些区域中的树（包括区域端点处的两棵树）移走。你的任务是计算将这些树都移走后，马路上还有多少棵树。



## 说明/提示

**【数据范围】**

- 对于 $20\%$ 的数据，保证区域之间没有重合的部分。
- 对于 $100\%$ 的数据，保证 $1 \leq l \leq 10^4$，$1 \leq m \leq 100$，$0 \leq u \leq v \leq l$。

**【题目来源】**

NOIP 2005 普及组第二题

## 样例 #1

### 输入

```
500 3
150 300
100 200
470 471
```

### 输出

```
298```

# AI分析结果

### 综合分析与结论

本题的题解主要集中在模拟和标记法上，大部分题解通过数组标记被移走的树，最后统计未被标记的树的数量。虽然思路简单，但部分题解在代码实现上存在冗余或不够简洁。整体来看，题解的质量参差不齐，部分题解在优化和代码可读性上表现较好，但大部分题解缺乏创新或优化。

### 所选高星题解

#### 1. **ChargeDonkey (5星)**
- **关键亮点**：思路清晰，代码简洁，使用`vis`数组标记被移走的树，最后统计未被标记的树的数量。代码逻辑清晰，易于理解。
- **个人心得**：作者在题解中提到“第一次放题解，请大家揪一下错吧”，体现了谦虚和开放的态度，值得学习。
- **核心代码**：
  ```cpp
  int vis[10000+10];
  memset(vis,0,sizeof(vis));
  for(int i=0;i<=L;i++) vis[i]=0;
  for(int i=1;i<=M;i++) {
      int head,tail;
      cin>>head>>tail;
      for(int j=head;j<=tail;j++) vis[j]=1;
  }
  for(int i=0;i<=L;i++) if(vis[i]==0) cnt++;
  ```

#### 2. **ziyisama (4星)**
- **关键亮点**：提出了多种优化思路，包括暴力、差分和区间合并，展示了不同的解题思路，适合进阶学习。
- **核心代码**：
  ```cpp
  pair<int, int> p[105];
  sort(p + 1, p + 1 + n, cmp);
  int cnt = 0, ml = p[1].first, mr = p[1].second;
  for(int i = 2; i <= n; i++) {
      int l = p[i].first, r = p[i].second;
      if(l <= mr) mr = max(mr, r);
      else {
          cnt += (mr + 1 - ml);
          ml = l, mr = r;
      }
  }
  cnt += (mr + 1 - ml);
  ```

#### 3. **ABCDEFG12345NM (4星)**
- **关键亮点**：代码简洁，使用`bool`数组标记被移走的树，最后统计未被标记的树的数量。代码逻辑清晰，易于理解。
- **核心代码**：
  ```cpp
  bool st[N];
  while(m--) {
      long long x, y;
      cin >> x >> y;
      for(long long i = x; i <= y; i++) st[i] = true;
  }
  for(long long i = 0; i <= l; i++) if(!st[i]) ans++;
  ```

### 最优关键思路与技巧
- **标记法**：使用数组标记被移走的树，最后统计未被标记的树的数量。这是最直观且高效的解法，适合初学者。
- **区间合并**：对于有重叠的区间，可以先排序再合并，减少重复计算，适合进阶学习。
- **差分法**：通过差分数组实现区间操作，适合大规模数据处理，但在此题中略显复杂。

### 可拓展之处
- **类似题目**：可以考虑处理更复杂的区间操作问题，如区间覆盖、区间查询等。
- **算法套路**：掌握标记法、区间合并和差分法，可以解决更多类似的区间操作问题。

### 推荐洛谷题目
1. **P1047 [NOIP2005 普及组] 校门外的树**（本题）
2. **P3372 【模板】线段树 1**（区间修改与查询）
3. **P3368 【模板】树状数组 1**（单点修改与区间查询）

### 个人心得总结
- **调试经历**：部分题解在代码实现上存在冗余，建议在编写代码时注意简洁性和可读性。
- **踩坑教训**：在处理区间问题时，注意区间的开闭和边界条件，避免越界或重复计算。
- **顿悟感想**：通过多种解法对比，可以更好地理解问题的本质，选择最适合的解法。

---
处理用时：22.71秒
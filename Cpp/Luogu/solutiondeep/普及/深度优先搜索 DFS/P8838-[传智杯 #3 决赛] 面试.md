# 题目信息

# [传智杯 #3 决赛] 面试

## 题目背景

disangan233 和 disangan333 去面试了，面试官给了一个问题，热心的你能帮帮他们吗？

## 题目描述

现在有 $n$ 个服务器，服务器 $i$ 最多能处理 $a_i$ 大小的数据。

接下来会有 $k$ 条指令 $b_k$，指令 $i$ 表示发送 $b_i$ 的数据，需要你分配一个空闲的服务器。

请你算出一个序列 $p_k$ 表示指令 $i$ 的数据分配给服务器 $p_i$，且 $p_k$ 的字典序最小；如果无法分配，输出 "-1"。

对于所有数据，$n,k\leq 6$，$a_i,b_i \leq 10$。 

## 说明/提示

### 样例解释

第 1 条指令分给服务器 1；  
第 2 条指令分给服务器 3；  
第 3 条指令分给服务器 2；  
第 4 条指令分给服务器 4；  
第 5 条指令分给服务器 6；  
第 6 条指令分给服务器 5。

## 样例 #1

### 输入

```
6 6
1 9 1 9 8 1
1 1 4 5 1 4```

### 输出

```
1 3 2 4 6 5```

# AI分析结果

### 综合分析与结论

本题解的核心问题是如何在给定的服务器和指令之间进行匹配，且要求字典序最小。由于数据范围较小（$n, k \leq 6$），可以采用深度优先搜索（DFS）或排列枚举的方法来解决。以下是各题解的对比：

1. **_H17_** 的题解使用了DFS，通过递归尝试所有可能的匹配组合，并在找到第一个合法解时输出。该解法思路清晰，代码简洁，但未对搜索进行剪枝优化。
2. **fengziyi** 的题解同样使用DFS，但在回溯时未重置 `ans[]` 数组，这可能导致错误。代码可读性一般，且存在潜在问题。
3. **zaochen** 的题解使用了排列枚举，通过 `next_permutation()` 函数生成所有可能的排列，并检查是否满足条件。该解法思路明确，代码结构清晰，但由于枚举所有排列，时间复杂度较高。

综合来看，**_H17_** 和 **zaochen** 的题解较为优秀，但仍有改进空间。最优的关键思路是使用DFS结合剪枝优化，确保在找到第一个合法解时立即输出，避免不必要的搜索。

### 所选题解

#### 1. **_H17_ (4星)**

**关键亮点**：
- 使用DFS实现，思路清晰，代码简洁。
- 通过 `f` 标记确保只输出第一个合法解，符合字典序最小的要求。

**核心代码**：
```cpp
void dfs(int s){
    if(s==k+1){
        if(f)
            for(int i=1;i<=n;i++)
                printf("%d ",p[i]);
        f=0;
        return;
    }
    for(int i=1;i<=n;i++)
        if(a[i]-b[s]>=0 && !u[i]){
            p[s]=i,u[i]=1;
            dfs(s+1);
            u[i]=0;
        }
    return;
}
```
**核心思想**：递归尝试所有可能的服务器分配，找到第一个合法解后立即输出。

#### 2. **zaochen (4星)**

**关键亮点**：
- 使用排列枚举，思路明确，代码结构清晰。
- 通过 `next_permutation()` 函数生成所有排列，并检查是否满足条件。

**核心代码**：
```cpp
bool check(){
    for (int i=1;i<=n;i++)
        if (a[ans[i]]<b[i])
            return false;
    return true;
}
```
**核心思想**：枚举所有可能的服务器排列，检查是否满足指令要求，找到第一个合法解后输出。

### 通用建议与扩展思路

- **剪枝优化**：在DFS中，可以通过提前判断某些分支是否可能合法，减少不必要的搜索。
- **贪心策略**：在分配服务器时，优先选择编号较小的服务器，确保字典序最小。
- **类似题目**：可以考虑扩展到更大数据范围或更复杂的匹配条件，如多服务器协作处理数据。

### 推荐题目

1. [P1008 三连击](https://www.luogu.com.cn/problem/P1008) - 考察排列枚举与条件判断。
2. [P1036 选数](https://www.luogu.com.cn/problem/P1036) - 考察DFS与剪枝优化。
3. [P1219 八皇后](https://www.luogu.com.cn/problem/P1219) - 考察DFS与回溯算法。

### 个人心得摘录

- **_H17_**：通过 `f` 标记确保只输出第一个合法解，避免了不必要的搜索，提高了效率。
- **zaochen**：使用 `next_permutation()` 函数简化了排列生成过程，代码结构更加清晰。

总结：本题解的关键在于如何高效地找到字典序最小的合法解，DFS结合剪枝优化是最优选择。

---
处理用时：18.98秒
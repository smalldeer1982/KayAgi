# 题目信息

# [语言月赛202211] String Problem

## 题目背景

扶苏很喜欢研究制糊串问题。

## 题目描述

扶苏给你了两个长度为 $n$ 的字符串 $s$ 和 $t$，请你判定这两个字符串是否相同。

扶苏觉得这个问题太简单了，所以她还给出了 $q$ 次操作，每次操作是修改其中一个字符串的某个位置的字符。每次操作过后，都请你回答一次 $s$ 和 $t$ 是否相同。

字符串下标从 1 开始编号。例如，若字符串 $s$ 为 $\texttt {abc}$，要将它的第二个位置修改为 $d$，则修改后的字符串为 $\texttt{adc}$。

## 说明/提示

### 样例 1 解释

对第一组数据：  
- 输入的字符串 $s = t$，故第一行输出为 `Yes`。  
- 第一次操作，将 $t$ 的第 2 位改为 $\texttt d$，此时 $s = \texttt{abc}$，$t = \texttt{adc}$，$s \neq t$，故第二行输出为 `No`。
- 第二次操作，将 $s$ 的第 2 位改为 $\texttt d$，此时 $s = \texttt{adc}$，$t = \texttt{adc}$，$s = t$，故第三行输出为 `Yes`。

对第二组数据：  
- 输入的字符串 $s \neq t$，故第四行输出为 `No`。

### 数据规模与约定

本题共 10 个测试点，各测试点的规模见下表

| 测试点编号 | $n = $ | $q =$ |
| :-: | :-: | :-:|
| 1 | $1$ | $0$ |
| 2 | $1000$ | $0$ |
| 3 | $1000$ | $0$ |
| 4 | $1000$ | $1000$|
| 5 | $1000$ | $1000$ |
| 6 | $1000$ | $1000$ |
| 7 | $10^6$ | $10^6$ |
| 8 | $10^6$ | $10^6$ |
| 9 | $10^6$ | $10^6$ |
| 10 | $10^6$ | $10^6$ |

对全部的测试点，保证 $T = 5$，$s,t$ 均只含小写英文字母，输入的换行符不含 `\r`，$o \in \{0, 1\}$，$1 \leq p \leq n$，$c$ 为小写英文字母。

### 提示

请注意大量的数据读入输出对程序效率造成的影响。

By 一扶苏一

## 样例 #1

### 输入

```
2
3 2
abc
abc
1 2 d
0 2 d
5 0
abdce
acdce
```

### 输出

```
Yes
No
Yes
No```

# AI分析结果

### 综合分析与结论

本题的核心问题是在给定两个字符串和多次修改操作后，快速判断它们是否相等。题解中提供了两种主要算法：

1. **暴力判等法**：每次修改后直接比较整个字符串，时间复杂度较高，适用于小规模数据。
2. **优化法**：通过记录两字符串不同位置的数量，每次修改后只需更新该位置的贡献，从而快速判断是否相等，适用于大规模数据。

两种算法的主要区别在于时间复杂度的优化。暴力法在每次修改后都需要进行O(n)的比较，而优化法通过维护一个计数器，将每次比较的时间复杂度降低到O(1)。

### 所选题解

#### 题解一：优化法（5星）
**关键亮点**：
- 通过维护一个计数器 `cnt` 来记录两字符串不同位置的数量，极大减少了每次比较的时间复杂度。
- 详细解释了如何通过修改操作更新 `cnt`，思路清晰，代码简洁。

**核心代码**：
```cpp
int cnt = 0;
for (int i = 0; i < n; ++i) if (s[i] != t[i]) ++cnt;

cin >> o >> p >> c;
if (s[p - 1] != t[p - 1]) --cnt;  // 去掉 p 这一位置原来对 cnt 的影响
if (o == 0) s[p - 1] = c;
else t[p - 1] = c;
if (s[p - 1] != t[p - 1]) ++cnt;  // 加上 p 这一位置修改后对 cnt 的影响
if (cnt == 0) cout << "Yes\n";    // 如果有 0 个位置不同，说明两字符串相等
else cout << "No\n";
```

**个人心得**：
- 通过维护计数器，避免了不必要的重复比较，显著提高了算法效率。
- 注意字符串下标从1开始，需要转换为从0开始。

### 最优关键思路或技巧

- **计数器维护**：通过维护一个计数器来记录两字符串不同位置的数量，将每次比较的时间复杂度从O(n)降低到O(1)。
- **下标转换**：注意字符串下标从1开始，需要在代码中进行转换。

### 可拓展之处

- **类似问题**：可以扩展到其他需要频繁比较和更新的数据结构问题，如数组、链表等。
- **优化思路**：在需要频繁查询和更新的场景中，通过维护某些状态变量来减少不必要的计算。

### 推荐题目

1. **P3372 【模板】线段树 1**：考察区间更新和查询，与本题的频繁修改和查询类似。
2. **P1908 逆序对**：考察分治和归并排序，与本题的优化思路有相似之处。
3. **P3368 【模板】树状数组 1**：考察树状数组的区间更新和查询，与本题的优化思路有相似之处。

### 总结

本题的关键在于通过维护一个计数器来优化频繁的比较操作，将时间复杂度从O(n)降低到O(1)。这种优化思路在需要频繁查询和更新的场景中非常有用，值得学习和掌握。

---
处理用时：21.81秒
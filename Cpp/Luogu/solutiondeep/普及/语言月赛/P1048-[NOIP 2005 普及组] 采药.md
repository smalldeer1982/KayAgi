# 题目信息

# [NOIP 2005 普及组] 采药

## 题目描述

辰辰是个天资聪颖的孩子，他的梦想是成为世界上最伟大的医师。为此，他想拜附近最有威望的医师为师。医师为了判断他的资质，给他出了一个难题。医师把他带到一个到处都是草药的山洞里对他说：“孩子，这个山洞里有一些不同的草药，采每一株都需要一些时间，每一株也有它自身的价值。我会给你一段时间，在这段时间里，你可以采到一些草药。如果你是一个聪明的孩子，你应该可以让采到的草药的总价值最大。”


如果你是辰辰，你能完成这个任务吗？


## 说明/提示

**【数据范围】**

- 对于 $30\%$ 的数据，$M \le 10$；
- 对于全部的数据，$M \le 100$。

**【题目来源】**

NOIP 2005 普及组第三题

## 样例 #1

### 输入

```
70 3
71 100
69 1
1 2
```

### 输出

```
3```

# AI分析结果

### 综合分析与结论

本题是一个经典的01背包问题，题解主要集中在动态规划的实现上。大多数题解都采用了二维或一维的DP数组来解决问题，核心思路是通过状态转移方程来计算在给定时间内能获得的最大价值。部分题解还提到了空间优化（如滚动数组）和贪心算法的局限性。

### 所选高星题解

#### 1. 作者：decoqwq (赞：2290)
- **星级**: 5星
- **关键亮点**: 
  - 详细解释了二维和一维DP的实现，尤其是对状态转移方程的推导和优化。
  - 通过具体例子逐步分析，帮助理解DP的递推过程。
  - 强调了内层循环逆序的重要性，避免重复计算。
- **个人心得**: 作者通过举例说明了为什么内层循环要逆序，帮助读者理解空间优化的必要性。

**核心代码**:
```cpp
for(int i=1;i<=m;i++) 
    for(int j=t;j>=0;j--)  
        if(j>=w[i])
            dp[j]=max(dp[j-w[i]]+val[i], dp[j]);
```
**实现思想**: 通过逆序遍历背包容量，确保每个物品只被计算一次，避免重复放入。

#### 2. 作者：xyx404 (赞：6)
- **星级**: 4星
- **关键亮点**: 
  - 提供了清晰的DP状态定义和转移方程。
  - 代码简洁，易于理解。
  - 强调了贪心算法的局限性，帮助读者理解为什么DP是更优的选择。
  
**核心代码**:
```cpp
for(int i=1;i<=m;i++)
    for(int j=0;j<=t;j++)
        if(j>=uset[i])
            dp[i][j]=max(dp[i-1][j],dp[i-1][j-uset[i]]+price[i]);
        else
            dp[i][j]=dp[i-1][j];
```
**实现思想**: 通过二维DP数组，逐步计算每个物品在不同容量下的最大价值。

#### 3. 作者：ljh0727 (赞：3)
- **星级**: 4星
- **关键亮点**: 
  - 提供了二维DP和滚动数组优化的两种实现，展示了空间优化的过程。
  - 强调了滚动数组优化的必要性，帮助读者理解如何减少空间复杂度。
  
**核心代码**:
```cpp
for(int i=1;i<=m;i++)
    for(int j=n;j>=0;j--)
        if(j>=w[i])
            dp[j]=max(dp[j-w[i]]+v[i], dp[j]);
```
**实现思想**: 通过滚动数组优化，减少空间复杂度，同时保持时间复杂度不变。

### 最优关键思路与技巧

1. **状态转移方程**: 核心思想是通过状态转移方程 `dp[j] = max(dp[j], dp[j-w[i]] + val[i])` 来计算最大价值。
2. **空间优化**: 通过逆序遍历背包容量，使用一维数组代替二维数组，减少空间复杂度。
3. **贪心算法的局限性**: 贪心算法在某些情况下无法得到最优解，动态规划是更可靠的选择。

### 可拓展之处

- **完全背包问题**: 与01背包不同，完全背包允许每个物品被多次选择，可以通过修改内层循环的顺序来实现。
- **多重背包问题**: 每个物品有数量限制，可以通过二进制拆分或单调队列优化来解决。

### 推荐题目

1. **P1049 装箱问题**: 类似01背包，要求最大化空间利用率。
2. **P1060 开心的金明**: 01背包的变种，要求在一定预算内最大化物品的价值。
3. **P1616 疯狂的采药**: 完全背包问题，允许每个物品被多次选择。

### 个人心得总结

- **调试经历**: 多位作者提到在实现过程中遇到的内层循环顺序问题，强调了逆序的重要性。
- **踩坑教训**: 贪心算法在某些情况下无法得到最优解，动态规划是更可靠的选择。
- **顿悟感想**: 通过具体例子逐步分析，帮助理解DP的递推过程，尤其是状态转移方程的推导和优化。

---
处理用时：35.98秒
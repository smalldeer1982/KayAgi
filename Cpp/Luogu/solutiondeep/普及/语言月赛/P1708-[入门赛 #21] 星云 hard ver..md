# 题目信息

# [入门赛 #21] 星云 hard ver.

## 题目背景

本题与 easy ver. 的区别在于本题**有**多组测试数据。

你看，那一抹云，衬着星星，多美啊！

## 题目描述

定义星云数为位数不大于 $n$ 且各数位之和不超过 $k$ 的正整数，给定 $n,k$，求星云数的个数。

## 说明/提示

### 数据规模与约定

对于 $50\%$ 的数据，$1 \leq n \leq 2$。  
对于 $100\%$ 的数据，$1 \leq T \leq 10^5$，$1 \leq n \leq 7$，$1 \leq k \leq 100$。

## 样例 #1

### 输入

```
2
2 1
3 2
```

### 输出

```
2
9
```

# AI分析结果

### 综合分析与结论

本题的核心在于高效计算满足条件的星云数个数，尤其是面对多组测试数据时，暴力枚举会超时。各题解主要采用了以下几种思路：

1. **打表法**：预处理所有可能的 $n$ 和 $k$ 组合，直接查表输出。这种方法适合数据范围较小的情况，但需要提前生成表。
2. **数位DP**：通过动态规划或记忆化搜索，逐位计算满足条件的数的个数。这种方法适合数据范围较大或需要灵活处理的情况。
3. **暴力枚举优化**：通过优化枚举过程，减少不必要的计算，适合数据范围较小但查询次数较多的情况。

### 所选高星题解

#### 1. 作者：IGA_Indigo (5星)
**关键亮点**：
- **打表法**：通过预处理生成所有可能的 $n$ 和 $k$ 组合，直接查表输出，极大提高了查询效率。
- **代码简洁**：代码实现清晰，易于理解。

**核心代码**：
```cpp
#include<bits/stdc++.h>
using namespace std;
int b[7][100]={...}; // 预处理的表
int main(){
    int t;
    cin>>t;
    for(int i=1;i<=t;i++){
        int n,m;
        cin>>n>>m;
        cout<<b[n-1][m-1]<<endl;
    }
    return 0;
}
```
**实现思想**：通过预处理生成所有可能的 $n$ 和 $k$ 组合，存储在二维数组中，查询时直接输出对应位置的值。

#### 2. 作者：Li_Feiy (4星)
**关键亮点**：
- **数位DP**：通过记忆化搜索逐位计算满足条件的数的个数，适合数据范围较大或需要灵活处理的情况。
- **代码规范**：代码结构清晰，注释详细，易于理解。

**核心代码**：
```cpp
int dfs(int step, int sum) {
    if(step > n) return sum != 0;
    if(dp[step][sum] != -1) return dp[step][sum];
    int ans = 0;
    for(int i = 0; i <= 9; i++) {
        if(sum + i > k) continue;
        ans += dfs(step + 1, sum + i);
    }
    return dp[step][sum] = ans;
}
```
**实现思想**：通过记忆化搜索逐位计算满足条件的数的个数，避免重复计算，提高效率。

#### 3. 作者：WoodReal12 (4星)
**关键亮点**：
- **动态规划**：通过状态转移方程逐位计算满足条件的数的个数，适合数据范围较大或需要灵活处理的情况。
- **代码简洁**：代码实现清晰，易于理解。

**核心代码**：
```cpp
for(int i = 1; i <= n; i++)
    for(int j = 0; j <= k; j++)
        for(int l = 0; l <= 9; l++)
            if(j - l >= 0)
                dp[i][j] += dp[i - 1][j - l];
```
**实现思想**：通过动态规划逐位计算满足条件的数的个数，状态转移方程清晰，适合处理较大数据范围。

### 最优关键思路与技巧

- **打表法**：适合数据范围较小且查询次数较多的情况，通过预处理生成所有可能的组合，直接查表输出，极大提高查询效率。
- **数位DP**：适合数据范围较大或需要灵活处理的情况，通过记忆化搜索或动态规划逐位计算满足条件的数的个数，避免重复计算，提高效率。

### 可拓展之处

- **同类型题**：类似的问题可以扩展到其他数位相关的题目，如求满足特定条件的数的个数、数位和等。
- **算法套路**：数位DP和打表法是处理数位相关问题的常用方法，掌握这些方法可以解决更多类似问题。

### 推荐题目

1. [P2657 [SCOI2009] windy 数](https://www.luogu.com.cn/problem/P2657)
2. [P2602 [ZJOI2010] 数字计数](https://www.luogu.com.cn/problem/P2602)
3. [P4124 [CQOI2016] 手机号码](https://www.luogu.com.cn/problem/P4124)

### 个人心得摘录

- **IGA_Indigo**：通过打表法解决了多组查询的问题，极大提高了查询效率。
- **Li_Feiy**：数位DP虽然复杂，但通过记忆化搜索可以有效减少重复计算，提高效率。
- **WoodReal12**：动态规划的状态转移方程清晰，适合处理较大数据范围的问题。

---
处理用时：34.86秒
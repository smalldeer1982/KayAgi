# 题目信息

# 独木桥

## 题目背景

战争已经进入到紧要时间。你是运输小队长，正在率领运输部队向前线运送物资。运输任务像做题一样的无聊。你希望找些刺激，于是命令你的士兵们到前方的一座独木桥上欣赏风景，而你留在桥下欣赏士兵们。士兵们十分愤怒，因为这座独木桥十分狭窄，只能容纳 $1$ 个人通过。假如有 $2$ 个人相向而行在桥上相遇，那么他们 $2$ 个人将无法绕过对方，只能有 $1$ 个人回头下桥，让另一个人先通过。但是，可以有多个人同时呆在同一个位置。

## 题目描述

突然，你收到从指挥部发来的信息，敌军的轰炸机正朝着你所在的独木桥飞来！为了安全，你的部队必须撤下独木桥。独木桥的长度为 $L$，士兵们只能呆在坐标为整数的地方。所有士兵的速度都为 $1$，但一个士兵某一时刻来到了坐标为 $0$ 或 $L+1$ 的位置，他就离开了独木桥。

每个士兵都有一个初始面对的方向，他们会以匀速朝着这个方向行走，中途不会自己改变方向。但是，如果两个士兵面对面相遇，他们无法彼此通过对方，于是就分别转身，继续行走。转身不需要任何的时间。

由于先前的愤怒，你已不能控制你的士兵。甚至，你连每个士兵初始面对的方向都不知道。因此，你想要知道你的部队最少需要多少时间就可能全部撤离独木桥。另外，总部也在安排阻拦敌人的进攻，因此你还需要知道你的部队最多需要多少时间才能全部撤离独木桥。

## 说明/提示

对于 $100\%$ 的数据，满足初始时，没有两个士兵同在一个坐标，$1\le  L\le5\times 10^3$，$0\le N\le5\times10^3$，且数据保证 $N\le L$。

## 样例 #1

### 输入

```
4
2
1 3
```

### 输出

```
2 4```

# AI分析结果

### 综合分析与结论

本题的核心难点在于如何处理士兵相遇时的转向问题。大多数题解通过将士兵相遇后的转向行为简化为“互换身份继续直行”，从而避免了复杂的模拟过程。这种思路极大地简化了问题，使得计算最小和最大撤离时间变得非常直接。

### 所选高星题解

#### 1. 作者：GXuLuogu (5星)
- **关键亮点**：思路清晰，代码简洁，直接通过排序和简单的数学计算得出结果。利用排序优化了最大时间的计算。
- **核心实现思想**：通过排序士兵的位置，分别计算最小和最大撤离时间。最小时间是所有士兵中走完桥的最小值中的最大值，最大时间是最靠近端点的两个士兵各自向对方走的时间中的最大值。
- **代码片段**：
  ```cpp
  for (int i=1;i<=N;i++)
      min_time=max(min(a[i],L+1-a[i]),min_time);
  max_time=max(L+1-a[1],a[N]);
  ```

#### 2. 作者：Untitled (4星)
- **关键亮点**：通过将士兵相遇后的转向行为简化为“互换身份继续直行”，简化了问题。代码实现简单易懂。
- **核心实现思想**：每个士兵的最小撤离时间是其到最近端点的距离，最大撤离时间是其到最远端点的距离。最终结果分别是这些时间中的最大值。
- **代码片段**：
  ```cpp
  ans=max(min(l+1-a,a),ans);
  sna=max(max(l+1-a,a),sna);
  ```

#### 3. 作者：Ciyang (4星)
- **关键亮点**：通过暴力模拟实现，虽然复杂度较高，但代码清晰易懂，适合初学者理解问题。
- **核心实现思想**：分别模拟士兵向最近和最远端点移动的过程，记录撤离时间。
- **代码片段**：
  ```cpp
  while(!rplayers.empty()) {
      ++ans1;
      for (int i=0;i<(int)rplayers.size();i++) {
          rplayers[i].x += rplayers[i].dir;
      }
      for (int i=0;i<(int)rplayers.size();i++) {
          if(rplayers[i].x==0 || rplayers[i].x==n+1) 
              rplayers.erase(rplayers.begin()+i), i--;
      }
  }
  ```

### 最优关键思路或技巧

- **简化相遇行为**：将士兵相遇后的转向行为简化为“互换身份继续直行”，避免了复杂的模拟过程。
- **排序优化**：通过排序士兵的位置，可以更高效地计算最大撤离时间。
- **暴力模拟**：虽然复杂度较高，但暴力模拟可以帮助初学者更好地理解问题。

### 可拓展之处

- **类似问题**：可以拓展到其他需要处理相遇或碰撞的场景，如蚂蚁爬杆、车辆调度等问题。
- **算法套路**：在处理相遇或碰撞问题时，可以考虑将相遇后的行为简化为某种等效行为，从而简化问题。

### 推荐洛谷题目

1. **P1007 独木桥**：本题的变种，增加了更多复杂条件。
2. **P1020 导弹拦截**：涉及类似的最优化问题，需要处理多个对象的移动和碰撞。
3. **P1045 过河**：涉及多个对象的移动和相遇处理，与本题类似。

### 个人心得摘录

- **GXuLuogu**：“此题可以用排序做（高档一点的模拟）”，强调了排序在优化计算中的重要性。
- **Untitled**：“因为不能背弃题意向另一端行走，所以他们只能按原方向的反方向走”，通过将转向行为简化为“互换身份继续直行”，简化了问题。
- **Ciyang**：“暴力模拟能过就行，复杂度就不说了...”，强调了暴力模拟在理解问题中的重要性。

---
处理用时：31.90秒
# 题目信息

# [NOIP 2008 普及组] 排座椅

## 题目描述

上课的时候总会有一些同学和前后左右的人交头接耳，这是令小学班主任十分头疼的一件事情。不过，班主任小雪发现了一些有趣的现象，当同学们的座次确定下来之后，只有有限的 $D$ 对同学上课时会交头接耳。

同学们在教室中坐成了 $M$ 行 $N$ 列，坐在第 $i$ 行第 $j$ 列的同学的位置是 $(i,j)$，为了方便同学们进出，在教室中设置了 $K$ 条横向的通道，$L$ 条纵向的通道。

于是，聪明的小雪想到了一个办法，或许可以减少上课时学生交头接耳的问题：她打算重新摆放桌椅，改变同学们桌椅间通道的位置，因为如果一条通道隔开了 $2$ 个会交头接耳的同学，那么他们就不会交头接耳了。

请你帮忙给小雪编写一个程序，给出最好的通道划分方案。在该方案下，上课时交头接耳的学生的对数最少。


## 说明/提示

![](https://cdn.luogu.com.cn/upload/image_hosting/0z0p5x1i.png)

上图中用符号\*、※、+标出了 $3$ 对会交头接耳的学生的位置，图中 $3$ 条粗线的位置表示通道，图示的通道划分方案是唯一的最佳方案。

2008 年普及组第二题


## 样例 #1

### 输入

```
4 5 1 2 3
4 2 4 3
2 3 3 3
2 5 2 4
```

### 输出

```
2
2 4
```

# AI分析结果

### 综合分析与结论

本题的核心是通过贪心算法选择最优的通道位置，使得被隔开的交头接耳学生对数最多。大多数题解都采用了类似的结构体排序思路，先统计每条通道能隔开的学生对数，然后按隔开人数从大到小排序，最后按位置从小到大输出前K条或L条通道。整体思路清晰，代码实现也较为简洁。

### 题解评分与亮点

1. **作者：chrispang (赞：11)**
   - **星级：4.5**
   - **关键亮点**：代码结构清晰，使用了结构体来存储通道的位置和隔开的学生对数，排序逻辑明确，输出部分简洁明了。
   - **核心代码**：
     ```cpp
     struct node{
         int x, n; //x表示分开的行或列，n表示分开的人数 
     }x[1010], y[1010];
     ```
     - **实现思想**：通过结构体记录每条通道的位置和隔开的学生对数，先按隔开人数排序，再按位置排序，最后输出前K条或L条通道。

2. **作者：Feuer (赞：11)**
   - **星级：4.0**
   - **关键亮点**：使用了桶排序的思想，通过数组存储每条通道的隔开学生对数，排序后输出前K条或L条通道，代码较短。
   - **核心代码**：
     ```cpp
     int rowpos[1005];  //在位置index处画线后，能隔开的学生对数
     int colpos[1005];
     ```
     - **实现思想**：通过数组记录每条通道的隔开学生对数，排序后输出前K条或L条通道。

3. **作者：ggpw_XNW (赞：6)**
   - **星级：4.0**
   - **关键亮点**：使用了贪心算法，通过结构体记录每条通道的位置和隔开的学生对数，排序逻辑清晰，代码简洁。
   - **核心代码**：
     ```cpp
     struct Node{
         int num , p;
     }a[10005] , b[10005];
     ```
     - **实现思想**：通过结构体记录每条通道的位置和隔开的学生对数，先按隔开人数排序，再按位置排序，最后输出前K条或L条通道。

### 最优关键思路与技巧

- **贪心算法**：优先选择能隔开最多学生对的通道，确保每次选择都是局部最优解。
- **结构体排序**：通过结构体记录通道的位置和隔开的学生对数，便于排序和输出。
- **双排序策略**：先按隔开人数从大到小排序，再按位置从小到大排序，确保输出结果符合题目要求。

### 可拓展之处

- **类似算法套路**：贪心算法在解决最优选择问题时非常常见，类似的题目包括任务调度、区间覆盖等。
- **同类型题**：可以考虑扩展到多维空间中的最优通道选择问题，或者通道数量不固定的情况下如何选择最优通道。

### 推荐题目

1. **P1056 排座椅**（本题）
2. **P1090 合并果子**（贪心算法）
3. **P1223 排队接水**（贪心算法）

### 个人心得总结

- **调试经历**：部分题解提到在排序时需要注意稳定性，避免因排序算法不稳定导致结果错误。
- **踩坑教训**：在输出时需要注意格式，确保输出的通道位置按从小到大排列，避免因排序顺序错误导致WA。
- **顿悟感想**：贪心算法在解决最优选择问题时非常高效，但需要确保每次选择都是局部最优解，才能保证全局最优。

---
处理用时：34.99秒
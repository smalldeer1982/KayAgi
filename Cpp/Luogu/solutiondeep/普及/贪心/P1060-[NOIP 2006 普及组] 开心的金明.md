# 题目信息

# [NOIP 2006 普及组] 开心的金明

## 题目描述

金明今天很开心，家里购置的新房就要领钥匙了，新房里有一间他自己专用的很宽敞的房间。更让他高兴的是，妈妈昨天对他说：“你的房间需要购买哪些物品，怎么布置，你说了算，只要不超过 $N$ 元钱就行”。今天一早金明就开始做预算，但是他想买的东西太多了，肯定会超过妈妈限定的 $N$ 元。于是，他把每件物品规定了一个重要度，分为 $5$ 等：用整数 $1-5$ 表示，第 $5$ 等最重要。他还从因特网上查到了每件物品的价格（都是整数元）。他希望在不超过 $N$ 元（可以等于 $N$ 元）的前提下，使每件物品的价格与重要度的乘积的总和最大。

设第$j$件物品的价格为 $v_j$，重要度为 $w_j$，共选中了 $k$ 件物品，编号依次为 $j_1,j_2,…,j_k$，则所求的总和为：

$$v_{j_1} \times w_{j_1}+v_{j_2} \times w_{j_2} …+v_{j_k} \times w_{j_k}$$

请你帮助金明设计一个满足要求的购物单。

## 说明/提示

NOIP 2006 普及组 第二题


## 样例 #1

### 输入

```
1000 5
800 2
400 5
300 5
400 3
200 2
```

### 输出

```
3900```

# AI分析结果

### 综合分析与结论

本题是一个典型的01背包问题，核心在于如何在有限的预算内选择物品，使得物品的价格与重要度的乘积总和最大。大多数题解都采用了动态规划（DP）的思路，部分题解还提供了DFS和二进制枚举的解法。动态规划解法中，一维数组优化是常见的优化手段，能够有效降低空间复杂度。DFS和二进制枚举虽然思路简单，但由于时间复杂度较高，不适用于大规模数据。

### 所选高星题解

#### 1. 作者：oier1459078309 (5星)
**关键亮点：**
- 提供了多种背包问题的模板，包括01背包、完全背包和多重背包。
- 详细解释了01背包的一维数组优化，代码简洁且高效。
- 对问题建模清晰，直接套用01背包模板，思路明确。

**核心代码：**
```cpp
for(int i=1;i<=n;i++) {
    for(int j=m;j>=v[i];j--) {
        f[j]=max(f[j],f[j-v[i]]+w[i]);
    }
}
```
**实现思想：** 使用一维数组`f[j]`表示在预算`j`下的最大价值，通过逆序更新`f[j]`，确保每个物品只被选择一次。

#### 2. 作者：phigy (4星)
**关键亮点：**
- 提供了DFS解法，虽然时间复杂度较高，但思路简单易懂。
- 对DFS的实现进行了优化，减少了不必要的计算。
- 代码结构清晰，适合初学者理解。

**核心代码：**
```cpp
void dfs(int i,int s) {
    if (i>=m+1) {
        int t=0;
        for (int i=1;i<=m;i++) t=t+v[i]*a[i];
        if (t<=N && s>=ans) ans=s;
    } else {
        a[i]=0; dfs(i+1,s);
        a[i]=1; dfs(i+1,s+v[i]*w[i]);
    }
}
```
**实现思想：** 通过DFS枚举所有可能的物品选择组合，计算每种组合的总价值和总价格，选择满足预算且价值最大的组合。

#### 3. 作者：superLouis (4星)
**关键亮点：**
- 代码简洁，直接套用01背包的一维数组优化。
- 对问题的转化清晰，将价格与重要度的乘积作为价值，直接套用背包模型。
- 代码可读性强，适合快速实现。

**核心代码：**
```cpp
for(int i=1;i<=n;i++) {
    for(int j=m;j>=w[i];j--) {
        f[j]=max(f[j],f[j-w[i]]+v[i]);
    }
}
```
**实现思想：** 与oier1459078309类似，使用一维数组`f[j]`表示在预算`j`下的最大价值，通过逆序更新`f[j]`，确保每个物品只被选择一次。

### 最优关键思路与技巧
- **一维数组优化：** 通过逆序更新DP数组，确保每个物品只被选择一次，有效降低空间复杂度。
- **问题转化：** 将价格与重要度的乘积作为价值，直接套用01背包模型，简化问题。
- **DFS与二进制枚举：** 虽然时间复杂度较高，但思路简单，适合小规模数据或初学者理解。

### 可拓展之处
- **多重背包问题：** 如果物品可以选择多次，可以转化为多重背包问题，使用二进制优化或单调队列优化。
- **分组背包问题：** 如果物品分为若干组，每组只能选择一个物品，可以转化为分组背包问题。

### 推荐题目
1. [P1064 [NOIP2006 提高组] 金明的预算方案](https://www.luogu.com.cn/problem/P1064)
2. [P5020 [NOIP2018 提高组] 货币系统](https://www.luogu.com.cn/problem/P5020)
3. [P1048 [NOIP2005 普及组] 采药](https://www.luogu.com.cn/problem/P1048)

### 个人心得摘录
- **oier1459078309：** “背包问题主要是背模板，这里收录了一些模板。” —— 强调了模板的重要性，适合快速解题。
- **phigy：** “一看数据范围：$m<25$，$2^{25}<3.5\times10^7$，也就是说可以dfs！” —— 通过数据范围选择合适的算法，体现了对问题的深入理解。

---
处理用时：36.45秒
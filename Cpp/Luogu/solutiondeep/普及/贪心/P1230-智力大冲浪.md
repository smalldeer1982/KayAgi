# 题目信息

# 智力大冲浪

## 题目描述

小伟报名参加中央电视台的智力大冲浪节目。本次挑战赛吸引了众多参赛者，主持人为了表彰大家的勇气，先奖励每个参赛者 $m$ 元。先不要太高兴，因为这些钱还不一定都是你的。接下来主持人宣布了比赛规则：

首先，比赛时间分为 $n$ 个时段，它又给出了很多小游戏，每个小游戏都必须在规定期限 $t_i$ 前完成。如果一个游戏没能在规定期限前完成，则要从奖励费 $m$ 元中扣去一部分钱 $w_i$，$w_i$ 为自然数，不同的游戏扣去的钱是不一样的。当然，每个游戏本身都很简单，保证每个参赛者都能在一个时段内完成，而且都必须从整时段开始。主持人只是想考考每个参赛者如何安排组织自己做游戏的顺序。作为参赛者，小伟很想赢得冠军，当然更想赢取最多的钱！注意：比赛绝对不会让参赛者赔钱!


## 说明/提示

对于 $100\%$ 的数据，$1 \le n \le 500$，$1 \le m \le 5 \times 10^5$，$1 \le t_i \le n$，$1 \le w_i \le 1000$。

## 样例 #1

### 输入

```
10000
7
4 2 4 3 1 4 6
70 60 50 40 30 20 10
```

### 输出

```
9950```

# AI分析结果

### 综合分析与结论

本题的核心是通过贪心算法来最小化扣款，确保在有限的时间内完成尽可能多的任务，尤其是扣款较多的任务。大多数题解采用了类似的贪心策略：**优先处理扣款较多的任务，并尽量在任务的最后时限完成**。这种策略能够有效减少扣款，且时间复杂度较低（通常为O(n^2)或O(n log n)）。

部分题解还引入了**优先队列**或**并查集**等数据结构来优化时间复杂度和空间复杂度，进一步提升了算法的效率。整体来看，贪心策略的灵活运用和数据结构的选择是解决此类问题的关键。

### 评分较高的题解

#### 1. 作者：ShineEternal (赞：530)
- **星级：5星**
- **关键亮点**：清晰的贪心策略，代码简洁且高效，使用了优先队列优化时间复杂度。
- **核心思路**：按扣款从大到小排序，优先处理扣款多的任务，尽量在任务的最后时限完成。若无法完成，则扣款。
- **代码片段**：
```cpp
sort(a+1,a+n+1,cmp);
for(int i=1;i<=n;i++) {
    int tag=0;
    for(int j=a[i].t;j;j--) {
        if(vis[j]==0) {
            vis[j]=1;
            tag=1;
            break;
        }
    }
    if(tag==0) ans+=a[i].val;
}
printf("%d\n",m-ans);
```
- **个人心得**：作者提到“每个任务都在最后一秒做，因为时间≤500,可以设一个vis数组记录此时间是否被占用”，这种思路确保了任务的最优安排。

#### 2. 作者：wancong (赞：23)
- **星级：4星**
- **关键亮点**：使用优先队列优化贪心策略，时间复杂度降低到O(n log n)。
- **核心思路**：按时间排序，若任务无法在规定时间内完成，则踢掉罚款最小的任务，确保总扣款最小。
- **代码片段**：
```cpp
sort(arr, arr + n, cmp);
for(int i=1;i<=n;i++) {
    if(arr[i].t > q.size()) q.push(arr[i].w);
    else if(q.top() < arr[i].w) {
        ans += q.top();
        q.pop();
        q.push(arr[i].w);
    }
}
printf("%d", m - ans);
```
- **个人心得**：作者提到“每个任务最多被放入优先队列一次，弹出一次，再加上预处理排序，总的时间复杂度为O(n log n)”，这种优化思路值得借鉴。

#### 3. 作者：Social_Zhao (赞：2)
- **星级：4星**
- **关键亮点**：使用并查集优化贪心策略，时间复杂度降低到O(n log n)。
- **核心思路**：按扣款从大到小排序，使用并查集快速找到可用的时间段，确保任务的最优安排。
- **代码片段**：
```cpp
sort(a+1,a+1+n,cmp);
for(int i=1;i<=n;i++) {
    int ancx=find(a[i].t);
    if(ancx) fa[ancx]=ancx-1;
    else ans+=a[i].w;
}
printf("%d",m-ans);
```
- **个人心得**：作者提到“并查集优化模拟：391 MS”，这种优化思路在时间效率上表现优异。

### 最优关键思路与技巧

1. **贪心策略**：优先处理扣款较多的任务，尽量在任务的最后时限完成，确保扣款最小化。
2. **数据结构优化**：使用优先队列或并查集来优化时间复杂度和空间复杂度，提升算法效率。
3. **时间安排**：尽量将任务安排在最后时限，为其他任务腾出时间，确保整体最优。

### 可拓展之处

- **类似问题**：类似的任务调度问题，如[P1090 合并果子](https://www.luogu.com.cn/problem/P1090)、[P1801 黑匣子](https://www.luogu.com.cn/problem/P1801)等，都可以通过贪心策略和优先队列来解决。
- **算法套路**：贪心算法结合优先队列或并查集，适用于需要动态调整优先级的问题。

### 推荐题目

1. [P1090 合并果子](https://www.luogu.com.cn/problem/P1090)
2. [P1801 黑匣子](https://www.luogu.com.cn/problem/P1801)
3. [P1233 木棍加工](https://www.luogu.com.cn/problem/P1233)

### 个人心得总结

- **调试经历**：部分作者提到“刚开始没有看懂，后来才明白”，说明理解题意是解决问题的第一步。
- **踩坑教训**：有作者提到“按照样例来算答案会是9900”，说明贪心策略的细节处理非常重要。
- **顿悟感想**：有作者提到“贪心策略是让扣款数额大的尽量在规定的期限内完成”，这种思路的灵活运用是解决问题的关键。

---
处理用时：49.07秒
# 题目信息

# 「RdOI R3」race

## 题目描述

某足球赛事上，A 国队和 B 国队共进行了 $n$ 场比赛。比赛采用积分赛制，胜者队伍得 $a$ 分，败者队伍得 $b$ 分，若打平则双方各得 $c$ 分。现已知 A 国队总进球数 $d$ 球，B 国队总进球数 $e$ 球，求 A 国队的最大可能得分和最小可能得分。

## 说明/提示

### 样例解释

为便于理解样例，现给出前三组数据的样例解释：

| 数据编号 | 最大得分方案                    | 最小得分方案                    |
| -------- | ------------------------------- | ------------------------------- |
| $1$      | $(1,0),(0,0),(2,1),(0,0),(2,1)$ | $(0,0),(5,0),(0,1),(0,0),(0,1)$ |
| $2$      | $(0,0),(0,5),(0,0),(0,0),(0,0)$ | $(0,1),(0,1),(0,1),(0,1),(0,1)$ |
| $3$      | $(3,2),(0,2),(3,2)$             | $(6,6),(0,0),(0,0)$             |

表格中的 $(x_1,y_1),(x_2,y_2),\cdots,(x_n,y_n)$ 表示第 $1$ 场比分为 $x_1:y_1$，第 $2$ 场比分为 $x_2:y_2$，以此类推。

---

### 数据范围

**本题采用捆绑测试。**

对于所有数据，$1\le T\le 10^5$，$1\le n \le 10^9$
，$0\le d,e\le10^9$，$0\le b\le c \le a\le10^9$。

| subtask | 分值 | 特殊限制             | subtask 依赖 |
| ------- | ---- | -------------------- | ------------ |
| $1$     | $10$ | $e=0$                | 无           |
| $2$     | $20$ | $n,d,e\le 5,T\le100$ | 无           |
| $3$     | $20$ | $n\le 5$             | $2$          |
| $4$     | $50$ | 无                   | $1,3$        |



## 样例 #1

### 输入

```
5
5 3 0 2 5 2
5 5 2 3 0 5
3 100 1 2 6 6
5 9 0 2 3 9
4 5 0 5 1 3```

### 输出

```
13 7
14 10
201 6
29 0
15 5```

# AI分析结果

### 综合分析与结论

本题的核心在于通过贪心策略计算A国队在给定条件下的最大和最小可能得分。各题解主要围绕以下思路展开：
1. **贪心策略**：通过枚举输赢场次，尽可能让A国队赢或输，剩余场次平局处理。
2. **分类讨论**：根据A国队和B国队的进球数差异，分情况讨论最大和最小得分的计算方式。
3. **优化思路**：通过合并场次、减少枚举次数等方式优化计算过程。

各题解在思路清晰度、代码可读性和优化程度上存在差异，部分题解通过细致的分类讨论和优化策略，提供了较为高效的解决方案。

### 所选高星题解

#### 1. 作者：yzy1 (★★★★★)
**关键亮点**：
- **贪心策略的优化**：通过证明输赢场次的最优性，减少枚举次数，提高算法效率。
- **代码简洁**：通过简单的枚举和条件判断，实现了最大和最小得分的计算。

**核心代码**：
```cpp
ll mx = -1, mn = 1e18;
if (d >= e) up(mx, min(n, d - e) * a + (n - min(n, d - e)) * c);
up(mx, min(n - 1, d) * a + (e ? b : c) + (n - 1 - min(n - 1, d)) * c);
if (e >= d) down(mn, min(n, e - d) * b + (n - min(n, e - d)) * c);
down(mn, min(n - 1, e) * b + (d ? a : c) + (n - 1 - min(n - 1, e)) * c);
```
**核心思想**：通过枚举输赢场次，尽可能让A国队赢或输，剩余场次平局处理，取最大值和最小值。

#### 2. 作者：EnofTaiPeople (★★★★☆)
**关键亮点**：
- **分类讨论**：根据A国队和B国队的进球数差异，分情况讨论最大和最小得分的计算方式。
- **代码结构清晰**：通过if-else结构，清晰地处理了各种情况。

**核心代码**：
```cpp
if(f>0){
    smal=a+c*min(n-1,e)+b*max(_,n-1-e);
    bmax=max(c+a*min(n-1,d)+b*max(n-1-d,_),a*min(f,n)+b*max(_,n-f));
}else if(f==0){
    smal=min(a+c*min(n-1,e)+b*max(_,n-1-e),b*n);
    bmax=max(c+a*min(n-1,d)+b*max(n-1-d,_),b*n);
}else if(f<0){
    smal=min(a+c*min(n-1,e)+b*max(_,n-1-e),c*min(-f,n)+b*max(_,n+f));
    bmax=c+a*min(n-1,d)+b*max(n-1-d,_);
}
```
**核心思想**：根据A国队和B国队的进球数差异，分情况讨论最大和最小得分的计算方式，取最优值。

#### 3. 作者：Nygglatho (★★★★☆)
**关键亮点**：
- **细致分类**：详细讨论了四种情况，确保每种情况下的得分计算准确。
- **代码优化**：通过合并相似代码，减少重复计算。

**核心代码**：
```cpp
if (d >= (e + n)) ans = a * n;
else if (d > e) {
    if (d >= n) {
        ans = max((a * (n - 1) + b), (a * (d - e) + c * (n - (d - e))));
    } else {
        ans = max((a * d + b + c * (n - d - 1)), (a * (d - e) + c * (n - (d - e))));
    }
}
```
**核心思想**：根据A国队和B国队的进球数差异，分情况讨论最大得分的计算方式，取最优值。

### 最优关键思路与技巧

1. **贪心策略**：通过枚举输赢场次，尽可能让A国队赢或输，剩余场次平局处理。
2. **分类讨论**：根据A国队和B国队的进球数差异，分情况讨论最大和最小得分的计算方式。
3. **优化思路**：通过合并场次、减少枚举次数等方式优化计算过程。

### 可拓展之处

- **类似题目**：可以扩展到其他积分制比赛的计算，如篮球、排球等。
- **算法套路**：贪心策略和分类讨论在其他优化问题中也有广泛应用，如背包问题、调度问题等。

### 推荐题目

1. **P1004 方格取数**：考察贪心策略和动态规划。
2. **P1048 采药**：考察背包问题和贪心策略。
3. **P1060 开心的金明**：考察贪心策略和优化思路。

### 个人心得摘录

- **yzy1**：通过证明输赢场次的最优性，减少枚举次数，提高算法效率。
- **EnofTaiPeople**：通过细致的分类讨论，确保每种情况下的得分计算准确。
- **Nygglatho**：通过合并相似代码，减少重复计算，提高代码可读性。

---
处理用时：45.43秒
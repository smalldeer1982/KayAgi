# 题目信息

# [EC Final 2022] Dining Professors

## 题目描述

庞教授邀请了 $n$ 位教授参加他的宴会。教授们坐在一个圆桌周围。对于所有 $i$，从 $1$ 到 $n$，教授 $i$ 坐在教授 $(i \bmod n) + 1$ 和 $((i + n - 2)\bmod n) + 1$ 旁边。

庞教授准备了 $n$ 道菜。桌子上有 $n$ 个位置。位置 $i$ 在教授 $i$ 的前面。教授 $i$ 只能接触到放在位置 $i$、$(i \bmod n) + 1$ 和 $((i + n - 2)\bmod n) + 1$ 处的菜。庞教授将在每个位置上放置一道菜。

在这些菜中，有 $a$ 道是辣的，$n-a$ 道是不辣的。有些（可能为 $0$）教授不能吃辣的食物。如果一位教授可以吃辣的食物，他/她的**满意度水平**是他/她可以接触到的菜的数量（无论是辣的还是不辣的）。如果一位教授不能吃辣的食物，他/她的满意度水平是他/她可以接触到的不辣的菜的数量。

庞教授知道每位教授是否可以吃辣的食物。请帮助他安排桌子上的菜，使得所有教授的满意度水平之和最大化。输出最大的总和。

## 样例 #1

### 输入

```
5 2
1 0 1 0 1
```

### 输出

```
13
```

# AI分析结果

### 综合分析与结论

本题的核心是通过贪心算法最大化教授们的满意度。所有题解均采用了贪心策略，但具体实现方式和优化程度有所不同。主要思路是计算每道菜对不能吃辣的教授的贡献，并根据贡献大小决定哪些菜是辣的，哪些是不辣的。大多数题解通过排序和遍历来实现这一目标，部分题解在代码优化和逻辑清晰度上表现较好。

### 所选高星题解

#### 1. 作者：zhouxianzhuo (5星)
**关键亮点**：
- 思路清晰，代码结构合理。
- 通过优先级计算和排序，确保贪心策略的最优性。
- 代码可读性强，注释详细。

**核心代码**：
```cpp
sort(id+1,id+1+n,p);    // 对id进行排序
for(int i=1;i<=a;i++)
    d[id[i]]=1;          // 排在前a的优先级所对应的菜全部设为辣的
```
**实现思想**：通过计算每道菜的优先级，并根据优先级排序，选择前a道菜作为辣的菜。

#### 2. 作者：HFanGDoDM (4星)
**关键亮点**：
- 通过统计每道菜对不能吃辣的教授的贡献，确保贪心策略的正确性。
- 代码简洁，逻辑清晰。

**核心代码**：
```cpp
for(int i=1;i<=n;i++){
    if(b[i-1]==0) g[i]++;
    if(b[i]==0) g[i]++;
    if(b[i+1]==0) g[i]++;
}
sort(g+1,g+n+1);
for(int i=1;i<=a;i++) ans-=g[i];
```
**实现思想**：统计每道菜对不能吃辣的教授的贡献，排序后选择贡献最小的a道菜作为辣的菜。

#### 3. 作者：niuzh (4星)
**关键亮点**：
- 通过预处理和排序，确保贪心策略的最优性。
- 代码简洁，逻辑清晰。

**核心代码**：
```cpp
for(int i=1;i<=n;i++){
    if(b[i-1]==0) cnt[i]++;
    if(b[i]==0) cnt[i]++;
    if(b[i+1]==0) cnt[i]++;
}
sort(cnt+1,cnt+n+1);
int ans=3*n;
for(int i=1;i<=a;i++) ans-=cnt[i];
```
**实现思想**：统计每道菜对不能吃辣的教授的贡献，排序后选择贡献最小的a道菜作为辣的菜。

### 最优关键思路或技巧

1. **贪心策略**：通过计算每道菜对不能吃辣的教授的贡献，并根据贡献大小决定哪些菜是辣的，哪些是不辣的。
2. **排序优化**：通过排序确保选择贡献最小的a道菜作为辣的菜，从而最大化满意度。
3. **预处理**：通过预处理统计每道菜的贡献，减少计算复杂度。

### 可拓展之处

1. **类似算法套路**：贪心算法在分配问题中广泛应用，如任务调度、资源分配等。
2. **同类型题**：类似的问题可以通过贪心策略解决，如最大满意度分配、最小化不满意度等。

### 推荐题目

1. **P1007 独木桥**：考察贪心策略的应用。
2. **P1090 合并果子**：贪心算法的经典应用。
3. **P1223 排队接水**：贪心算法的实际应用。

### 个人心得总结

- **调试经历**：部分题解在调试过程中发现环处理的问题，通过预处理解决。
- **踩坑教训**：在计算贡献时，需要注意环的处理，避免遗漏或重复计算。
- **顿悟感想**：贪心策略在分配问题中具有高效性和简洁性，但需要确保策略的正确性。

---
处理用时：32.11秒
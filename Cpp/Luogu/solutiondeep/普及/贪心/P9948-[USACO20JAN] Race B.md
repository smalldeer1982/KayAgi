# 题目信息

# [USACO20JAN] Race B

## 题目描述

Bessie 正在参加一场 $K$（$1\le K\le 10^9$）米的跑步比赛。她从 $0$ 米每秒的速度开始比赛。在每一秒中，她可以选择将她的速度增加 $1$ 米每秒，保持速度不变，或者将她的速度减少 $1$ 米每秒。例如，在第一秒中，她可以将她的速度增加到 $1$ 米每秒，跑 $1$ 米，或者保持她的速度 $0$ 米每秒不变，跑 $0$ 米。Bessie 的速度不会降低到小于零。

Bessie 始终朝着终点线的方向跑，她想要花费整数秒的时间完成比赛。此外，她不想在终点时跑得太快：在 Bessie 跑完 $K$ 米的时刻，她希望她的速度不超过 $X$（$1\le X\le 10^5$）米每秒。Bessie 想要对于 $N$（$1\le N\le 1000$）个不同的 $X$ 值知道她多快可以完成比赛。 

## 说明/提示

### 样例解释 1

当 $X=1$ 时，一种最优方案为：

1. 将速度增加到 $1$ 米/秒，跑 $1$ 米
2. 将速度增加到 $2$ 米/秒，跑 $2$ 米，总计跑 $3$ 米
3. 将速度保持在 $2$ 米/秒，总计跑 $5$ 米
4. 将速度保持在 $2$ 米/秒，总计跑 $7$ 米
5. 将速度保持在 $2$ 米/秒，总计跑 $9$ 米
6. 将速度降低到 $1$ 米/秒，总计跑 $10$ 米

当 $X=3$ 时，一种最优方案为：

1. 将速度增加到 $1$ 米/秒，跑 $1$ 米
2. 将速度增加到 $2$ 米/秒，总计跑 $3$ 米
3. 将速度增加到 $3$ 米/秒，总计跑 $6$ 米
4. 将速度保持在 $3$ 米/秒，总计跑 $9$ 米
5. 将速度保持在 $3$ 米/秒，总计跑 $12$ 米

注意当 $X=3$ 时，以下方案是不合法的：

1. 将速度增加到 $1$ 米/秒，跑 $1$ 米
2. 将速度增加到 $2$ 米/秒，总计跑 $3$ 米
3. 将速度增加到 $3$ 米/秒，总计跑 $6$ 米
4. 将速度增加到 $4$ 米/秒，总计跑 $10$ 米

这是因为在 Bessie 跑完 $10$ 米的时刻，她的速度是 $4$ 米/秒。 

## 样例 #1

### 输入

```
10 5
1
2
3
4
5```

### 输出

```
6
5
5
4
4```

# AI分析结果

### 综合分析与结论

本题的核心在于如何通过贪心或数学方法，找到在给定终点速度限制下的最短时间。各题解主要围绕以下思路展开：

1. **贪心加速与减速**：通过先加速后减速的策略，确保在终点时速度不超过给定限制。
2. **数学公式推导**：利用等差数列求和公式，计算在不同速度下的总路程，从而确定最短时间。
3. **二分查找优化**：通过二分查找确定最小时间，减少计算量。

### 所选高星题解

#### 1. 作者：Treap_Kongzs (5星)
- **关键亮点**：通过将减速过程转化为加速过程，简化了问题处理。利用模拟方法，逐步累加距离，直到满足条件，思路清晰且代码简洁。
- **个人心得**：作者通过将减速过程转化为加速过程，避免了复杂的条件判断，使得代码更加简洁且易于理解。

```cpp
int solve(int dis,int maxv)
{
    int ans=0;
    int updis=0,downdis=0;
    int v=0;
    while(1)
    {
        v++;
        updis+=v;
        ans++;
        if(updis+downdis>=dis)return ans;
        if(v>=maxv)
        {
            downdis+=v;
            ans++;
            if(updis+downdis>=dis)return ans;
        }
    }
}
```

#### 2. 作者：superLouis (4星)
- **关键亮点**：采用二分查找优化时间计算，通过数学公式推导出最大速度，并利用等差数列求和公式计算总路程，思路清晰且代码高效。
- **个人心得**：作者通过二分查找优化了时间计算，避免了复杂的条件判断，使得代码更加高效。

```cpp
int sum(int l, int r) {
	int a = min(l, r), b = max(l, r);
	return (a + b) * (b - a + 1) >> 1;
} 
int maxlen(int t, int x) {
	if (t <= x) return sum(1, t);
	int speed = (t + x) >> 1;
	if ((t + x) & 1) return sum(1, speed) + sum(speed, x);
	return sum(1, speed) + sum(speed - 1, x); 
}
bool check(int t, int x) {
	return maxlen(t, x) >= k;
}
```

#### 3. 作者：continueOI (4星)
- **关键亮点**：通过预处理加速到终点的时间，然后根据速度限制进行分类讨论，思路清晰且代码简洁。
- **个人心得**：作者通过预处理加速到终点的时间，简化了后续的分类讨论，使得代码更加简洁。

```cpp
void solve(int lim){
	if(lim>=minn){
		cout<<minn<<'\n';
		return;
	}
	const int sum1=(lim-1)*lim/2;
	int sum2=0;
	for(t=lim;;t++){
		sum2+=t;
		if(sum1+(sum2-t)*2+t>=k){
			cout<<lim-1+(t-lim)*2+1<<'\n';
			return;
		}
		if(sum1+sum2*2>=k){
			cout<<lim-1+(t-lim+1)*2<<'\n';
			return;
		}
	}
}
```

### 最优关键思路与技巧

1. **将减速过程转化为加速过程**：通过将减速过程转化为加速过程，简化了问题处理，避免了复杂的条件判断。
2. **二分查找优化**：通过二分查找确定最小时间，减少计算量，提高代码效率。
3. **数学公式推导**：利用等差数列求和公式，计算在不同速度下的总路程，从而确定最短时间。

### 可拓展之处

- **类似问题**：在处理类似的速度变化问题时，可以考虑将减速过程转化为加速过程，简化问题处理。
- **二分查找应用**：在需要确定最小或最大值的场景中，可以考虑使用二分查找优化计算。

### 推荐题目

1. [P1004 方格取数](https://www.luogu.com.cn/problem/P1004)
2. [P1020 导弹拦截](https://www.luogu.com.cn/problem/P1020)
3. [P1048 采药](https://www.luogu.com.cn/problem/P1048)

这些题目都涉及到通过优化策略或数学方法解决问题，与本题的解题思路有相似之处。

---
处理用时：33.79秒
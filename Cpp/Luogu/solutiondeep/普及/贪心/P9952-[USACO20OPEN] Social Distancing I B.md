# 题目信息

# [USACO20OPEN] Social Distancing I B

## 题目描述

一种新型疾病，COWVID-19，开始在全世界的奶牛之间传播。Farmer John 正在采取尽可能多的预防措施来防止他的牛群被感染。

Farmer John 的牛棚是一个狭长的建筑物，有一排共 $N$ 个牛栏（$2\le N\le 10^5$）。有些牛栏里目前有奶牛，有些目前空着。得知“社交距离”的重要性，Farmer John 希望使得 $D$ 尽可能大，其中 $D$ 为最近的两个有奶牛的牛栏的距离。例如，如果牛栏 $3$ 和 $8$ 是最近的有奶牛的牛栏，那么 $D=5$。

最近两头奶牛新来到 Farmer John 的牛群，他需要决定将她们分配到哪两个之前空着的牛栏。请求出他如何放置这两头新来的奶牛，使得 $D$ 仍然尽可能大。Farmer John 不能移动任何已有的奶牛；他只想要给新来的奶牛分配牛栏。 

## 说明/提示

### 样例解释 1

在这个例子中，Farmer John 可以以这样的方式加入奶牛，使得牛栏分配变为 `10x010010x0010`，其中 `x` 表示新来的奶牛。此时 $D=2$。不可能在加入奶牛之后取到更大的 $D$ 值。 

### 测试点性质

- 测试点 $2-6$ 满足 $N\le 10$。
- 测试点 $7-8$ 满足 $N\le 100$。
- 测试点 $9-11$ 满足 $N\le 5000$。
- 测试点 $12-15$ 没有额外限制。

## 样例 #1

### 输入

```
14
10001001000010```

### 输出

```
2```

# AI分析结果

### 综合分析与结论

该题目要求通过插入两头奶牛，最大化最近两头奶牛的距离。大多数题解采用了二分答案的思路，结合贪心策略进行验证。二分答案的复杂度为 \(O(n \log n)\)，能够有效处理 \(N \le 10^5\) 的数据规模。部分题解还提供了贪心策略的详细实现，如如何判断在某个区间内插入奶牛是否合法。

### 所选高星题解

#### 1. 作者：1234567890sjx (4星)
**关键亮点**：
- 使用二分答案，结合贪心策略，思路清晰。
- 时间复杂度 \(O(n \log n)\)，适合大规模数据。
- 代码简洁，易于理解。

**核心代码**：
```cpp
bool check(int mid){
    int cow=0,zero=0; //牛的数量和零的数量 
    bool f=(a[1]==0),f1=1; //f记录第一个数是不是0，f1记录目前有没有碰到1 
    for(int i=1;i<=n&&cow<2;i++){
        if(a[i]==0){
            zero++;
        }
        else{
            if(f&&f1){ //对应上面说到的第一种情况 
                if(zero>=mid){
                    cow++;
                    if(zero>=2*mid){ //如果放得下两头，直接结束 
                        return 1;
                    }
                }
                f1=0;
            }
            else{
                if(zero>=2*mid-1){ //对应上面说到的第二种情况 
                    cow++;
                    if(zero>=3*mid-1){ //如果放得下两头，直接结束
                        return 1;
                    }
                }
            }
            zero=0; //记得清零 
        }
    }
    if(zero>=mid){ //再检验一次，以防最后一个数不是1 
        cow++;
        if(zero>=2*mid){
            return 1;
        }
    }
    if(cow<2){ //如果放不下两头 
        return 0;
    }
    return 1;
}
```
**核心思想**：通过遍历牛栏，判断在某个区间内是否可以插入奶牛，确保插入后满足最小距离要求。

#### 2. 作者：InfiniteRobin (4星)
**关键亮点**：
- 提供了详细的 `check` 函数实现，逻辑清晰。
- 考虑了边界情况，如开头和结尾的插入。
- 代码结构合理，易于扩展。

**核心代码**：
```cpp
bool check(int mid){
    int cnt=0,last=-1e9;
    for(int i=1;i<=n;i++){
        if(s[i]=='1'&&i-last<mid) return 0;
        if(s[i]=='1'){
            last=i;
        }
    }
    last=-1e9;
    for(int i=1;i<=n;i++){
        if(s[i]=='1'&&i-last<mid) cnt--;
        if((i-last>=mid)&&s[i]!='1'){
            last=i;
            cnt++;
        }
        if(s[i]=='1') last=i;
    }
    return cnt>=2;
}
```
**核心思想**：通过两次遍历，第一次检查是否满足最小距离，第二次尝试插入奶牛并计数。

#### 3. 作者：Arson1st (4星)
**关键亮点**：
- 结合二分和贪心策略，思路清晰。
- 考虑了多种插入情况，如开头、结尾和中间。
- 代码简洁，逻辑严谨。

**核心代码**：
```cpp
bool check(int mid) {
    int k = 0, flag = 0;
    for (int i = 1, la = 0; i <= n; i ++) {
        if (str[i] == '1') {
            if (i - la < mid && flag) k --;
            if (k == 2) return true;
            flag = 0; la = i; continue;
        }
        if (i - la >= mid || i == 1) la = i, k ++, flag = 1;
    }
    return k >= 2;
}
```
**核心思想**：通过遍历牛栏，判断是否可以插入奶牛，并确保插入后满足最小距离要求。

### 最优关键思路与技巧

1. **二分答案**：通过二分搜索确定最大可能的最小距离，结合贪心策略进行验证。
2. **贪心策略**：在遍历牛栏时，尽可能在满足条件的情况下插入奶牛，确保最小距离最大化。
3. **边界处理**：特别注意开头和结尾的插入情况，确保所有可能的情况都被考虑。

### 可拓展之处

- **类似题目**：可以扩展到更多插入奶牛的情况，或者插入不同数量的奶牛。
- **算法套路**：二分答案结合贪心策略适用于许多最大化最小值或最小化最大值的题目。

### 推荐题目

1. [P2440 木材加工](https://www.luogu.com.cn/problem/P2440)
2. [P2678 跳石头](https://www.luogu.com.cn/problem/P2678)
3. [P1824 进击的奶牛](https://www.luogu.com.cn/problem/P1824)

### 个人心得总结

- **调试经历**：部分题解提到在调试过程中遇到边界情况处理不当的问题，强调了边界处理的重要性。
- **踩坑教训**：在插入奶牛时，需要特别注意插入后与前后奶牛的距离是否满足条件，避免遗漏某些情况。
- **顿悟感想**：通过二分答案和贪心策略的结合，可以有效解决最大化最小值的问题，思路清晰且代码简洁。

---
处理用时：43.22秒
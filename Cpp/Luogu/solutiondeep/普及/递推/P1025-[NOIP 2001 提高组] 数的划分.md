# 题目信息

# [NOIP 2001 提高组] 数的划分

## 题目描述

将整数 $n$ 分成 $k$ 份，且每份不能为空，任意两个方案不相同（不考虑顺序）。

例如：$n=7$，$k=3$，下面三种分法被认为是相同的。

$1,1,5$;   
$1,5,1$;   
$5,1,1$.

问有多少种不同的分法。


## 说明/提示

四种分法为：  
$1,1,5$;  
$1,2,4$;  
$1,3,3$;  
$2,2,3$.

**【题目来源】**

NOIP 2001 提高组第二题

## 样例 #1

### 输入

```
7 3
```

### 输出

```
4
```

# AI分析结果

### 综合分析与结论

本题的核心是将整数 $n$ 划分为 $k$ 个非空部分，且不考虑顺序。题解主要分为动态规划（DP）和深度优先搜索（DFS）两大类。DP 解法通过状态转移方程 `dp[i][j] = dp[i-1][j-1] + dp[i-j][j]` 来解决问题，而 DFS 解法则通过剪枝和优化搜索顺序来减少不必要的计算。整体来看，DP 解法更为简洁且易于理解，而 DFS 解法则通过剪枝优化了搜索效率。

### 所选高星题解

#### 1. 作者：s_r_f (赞：400)
- **星级**：★★★★★
- **关键亮点**：使用动态规划，状态转移方程清晰，代码简洁，易于理解。
- **核心代码**：
  ```cpp
  for (int i=2;i<=n;i++)
      for (int x=2;x<=k;x++)
          if (i>x) f[i][x]=f[i-1][x-1]+f[i-x][x];
          else f[i][x]=f[i-1][x-1];
  ```
  **实现思想**：通过 DP 状态转移方程，逐步计算将 $i$ 分成 $x$ 份的方案数。

#### 2. 作者：Clouder (赞：63)
- **星级**：★★★★☆
- **关键亮点**：优化了 DP 的空间复杂度，使用滚动数组和指针映射，提高了效率。
- **核心代码**：
  ```cpp
  for (i = 1; i <= n; ++i) {
      memset(f[i], 0, sizeof(f[i]));
      for (j = min(k,i); j; --j)
          f[i][j] = (f[i - j][j] + f[i - 1][j - 1]) % 10086;
  }
  ```
  **实现思想**：通过滚动数组和指针映射优化 DP 的空间复杂度，减少了内存占用。

#### 3. 作者：langmouren (赞：6)
- **星级**：★★★★☆
- **关键亮点**：使用 DFS 剪枝，通过上下界优化搜索顺序，减少了不必要的计算。
- **核心代码**：
  ```cpp
  for(int i=a[k-1];i<=n/(m-k+1);i++) {
      a[k]=i;
      n-=i;
      dfs(k+1);
      n+=i;
  }
  ```
  **实现思想**：通过剪枝优化 DFS，确保每次搜索的上下界合理，减少搜索空间。

### 最优关键思路与技巧

1. **动态规划**：通过状态转移方程 `dp[i][j] = dp[i-1][j-1] + dp[i-j][j]`，逐步计算将 $i$ 分成 $j$ 份的方案数。此方法简洁且易于理解，适合处理此类划分问题。
2. **DFS 剪枝**：通过设定搜索的上下界，减少不必要的搜索路径，提高搜索效率。此方法适用于需要遍历所有可能解的问题。
3. **滚动数组与指针映射**：优化 DP 的空间复杂度，减少内存占用，适用于大规模数据处理。

### 可拓展之处

- **类似问题**：类似的问题包括整数划分、背包问题等，都可以通过 DP 或 DFS 剪枝来解决。
- **算法套路**：DP 和 DFS 剪枝是解决组合优化问题的常用套路，掌握这些方法可以应对多种类似问题。

### 推荐题目

1. [P1024 [NOIP2001 提高组] 数的划分](https://www.luogu.com.cn/problem/P1024)
2. [P1048 [NOIP2005 普及组] 采药](https://www.luogu.com.cn/problem/P1048)
3. [P1064 [NOIP2006 提高组] 金明的预算方案](https://www.luogu.com.cn/problem/P1064)

### 个人心得摘录

- **s_r_f**：通过 DP 状态转移方程，逐步计算将 $i$ 分成 $x$ 份的方案数，代码简洁且易于理解。
- **Clouder**：优化了 DP 的空间复杂度，使用滚动数组和指针映射，提高了效率，适合大规模数据处理。
- **langmouren**：通过 DFS 剪枝，减少不必要的搜索路径，提高搜索效率，适合需要遍历所有可能解的问题。

---
处理用时：21.81秒
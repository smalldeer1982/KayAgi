# 题目信息

# 覆盖墙壁

## 题目描述

你有一个长为 $N$ 宽为 $2$ 的墙壁，给你两种砖头：一个长 $2$ 宽 $1$，另一个是 L 型覆盖 $3$ 个单元的砖头。如下图：

```
0  0
0  00
```

砖头可以旋转，两种砖头可以无限制提供。你的任务是计算用这两种来覆盖 $N\times 2$ 的墙壁的覆盖方法。例如一个 $2\times3$ 的墙可以有 $5$ 种覆盖方法，如下：
```
012 002 011 001 011  
012 112 022 011 001
```
注意可以使用两种砖头混合起来覆盖，如 $2\times4$ 的墙可以这样覆盖：
```
0112
0012
```
给定 $N$，要求计算 $2\times N$ 的墙壁的覆盖方法。由于结果很大，所以只要求输出最后 $4$ 位。例如 $2\times 13$ 的覆盖方法为 $13465$，只需输出 $3465$ 即可。如果答案少于 $4$ 位，就直接输出就可以，不用加前导 $0$，如 $N=3$ 时输出 $5$。


## 说明/提示

数据保证，$1\leq N\leq 1000000$。

## 样例 #1

### 输入

```
13```

### 输出

```
3465```

# AI分析结果

### 综合分析与结论

本题的核心是通过递推或动态规划来解决墙壁覆盖问题。大多数题解都采用了递推的思路，但递推公式的推导和优化方式有所不同。部分题解通过引入辅助数组或前缀和来简化计算，而另一些题解则通过数学推导进一步优化了递推公式。整体来看，递推公式的推导和优化是解决本题的关键。

### 所选高星题解

#### 1. 作者：info___tion (5星)
- **关键亮点**：详细解释了递推公式的推导过程，特别是引入了辅助数组 `G[N]` 来处理 L 型砖块的情况，使得递推公式更加清晰。代码实现简洁，且通过模运算优化了结果。
- **个人心得**：作者提到自己在推导过程中也曾感到困惑，但通过画图和分类讨论最终找到了解决方案，强调了分类讨论和转化思想的重要性。
- **核心代码**：
  ```cpp
  for(int i=2;i<=n;i++)
  {
      f[i]=((f[i-1]+f[i-2])%mod+2*g[i-2]%mod)%mod;
      g[i]=(g[i-1]+f[i-1])%mod;
  }
  ```

#### 2. 作者：Lylighte (4星)
- **关键亮点**：通过前缀和优化了递推公式的计算，避免了重复求和，提高了效率。递推公式的推导过程清晰，且通过数学推导进一步简化了公式。
- **核心代码**：
  ```cpp
  for(int i=1; i<=n; i++){
      F[i]=(i-1<0?0:preF[i-1])+(i-3<0?0:preF[i-3]); 
      F[i] %= 10000;
      preF[i] = preF[i-1]+F[i];
      preF[i] %= 10000;
  }
  ```

#### 3. 作者：Juvenile (4星)
- **关键亮点**：通过观察样例数据，直接得出了递推公式 `dp[i]=dp[i-1]*2+dp[i-3]`，代码实现简洁且高效。
- **核心代码**：
  ```cpp
  for(int i=4;i<=n;i++)
  {
      dp[i]=(dp[i-1]*2)%10000+dp[i-3]%10000;
      dp[i]%=10000;
  }
  ```

### 最优关键思路与技巧
- **递推公式的推导**：通过分类讨论和引入辅助数组，可以更清晰地处理复杂情况（如 L 型砖块）。
- **前缀和优化**：通过前缀和避免重复计算，提高递推效率。
- **数学推导**：通过数学推导进一步简化递推公式，减少计算量。

### 可拓展之处
- **类似问题**：类似的递推问题包括楼梯问题、棋盘覆盖问题等，都可以通过类似的思路解决。
- **算法套路**：动态规划和递推是解决这类问题的常见套路，掌握这些套路可以举一反三。

### 推荐题目
1. **P1255 数楼梯**：经典的递推问题，与本题思路相似。
2. **P1433 吃奶酪**：动态规划与状态压缩的结合，适合进一步练习。
3. **P1057 传球游戏**：递推与动态规划的结合，适合巩固递推思想。

### 个人心得总结
- **分类讨论**：在推导递推公式时，分类讨论是理清思路的重要手段。
- **画图辅助**：通过画图可以更直观地理解问题，帮助找到解决方案。
- **数学推导**：数学推导可以进一步优化递推公式，减少计算复杂度。

---
处理用时：17.58秒
# 题目信息

# 小 Q 的赚钱计划

## 题目背景

小 Q（郑重其事地）：今年我一定要赚大钱！！！


## 题目描述

小 Q 决定在新的一年里赚大钱，小 P 给 TA 推荐了理财。小 Q 在今年初（非闰年）有 $10^5$ 元（好有钱啊），有 $N$ 个理财产品，每个理财产品用三个参数描述：购买时间，投资天数，年利息率。每个时刻小 Q 只能拥有最多一件产品，求一年后最多可以获得多少钱。


## 说明/提示

$0 \le N \le 10^4$

## 样例 #1

### 输入

```
3
0101 100 4.5
0201 30 5
0402 50 7.8```

### 输出

```
101483.84```

# AI分析结果

### 综合分析与结论

本题的核心是通过动态规划（DP）来解决理财产品的选择问题，目标是最大化一年后的收益。所有题解均采用了DP的思路，但实现细节和优化程度有所不同。大部分题解通过预处理日期、状态转移方程的设计以及边界条件的处理来解决问题。以下是对各题解的对比与总结：

1. **动态规划状态定义**：几乎所有题解都定义了 `dp[i]` 表示第 `i` 天的最大收益，初始值为 `100000` 元。
2. **日期处理**：大部分题解通过预处理月份的天数累加表，将 `MMDD` 格式的日期转换为一年中的第几天。
3. **状态转移方程**：基本一致，即 `dp[i] = max(dp[i], dp[start_j] * (1 + (rate_j / 100) / 365 * days_j))`，其中 `start_j` 是理财产品的开始日期，`days_j` 是投资天数，`rate_j` 是年利率。
4. **优化**：部分题解通过排序理财产品、减少循环次数等方式进行优化，但整体差异不大。

### 评分较高的题解

#### 题解1：bigclever (5星)
- **关键亮点**：代码简洁，思路清晰，状态转移方程设计合理，日期处理高效。
- **核心代码**：
  ```cpp
  for(int i=2;i<367;i++){
      dp[i]=dp[i-1];
      for(int j=1;j<=n;j++)
          if(st[j]+day[j]==i)
              dp[i]=max(dp[i],dp[st[j]]*(1+(lx[j]/100)/365*day[j]));
  }
  ```
- **实现思想**：通过预处理日期，将理财产品的开始日期转换为一年中的第几天，然后通过状态转移方程更新每天的收益。

#### 题解2：qwerty12346 (4星)
- **关键亮点**：代码结构清晰，状态转移方程明确，日期处理与bigclever类似。
- **核心代码**：
  ```cpp
  for(int i=2;i<=366;i++){
      f[i]=f[i-1];
      for(int j=1;j<=n;j++)if(a[j]+b[j]==i)f[i]=max(f[a[j]]*(1+(c[j]/100)/365*b[j]),f[i]);
  }
  ```
- **实现思想**：与bigclever类似，通过预处理日期和状态转移方程更新每天的收益。

#### 题解3：Enzymii (4星)
- **关键亮点**：代码简洁，状态转移方程设计合理，日期处理高效。
- **核心代码**：
  ```cpp
  for(int i=1;i<=365;i++){
      f[i]=f[i-1];
      for(int j=1;j<=n;j++)
          if(p[j].r==i)
              f[i]=max(f[i],f[p[j].l-1]*p[j].x);
  }
  ```
- **实现思想**：通过预处理日期，将理财产品的开始和结束日期转换为一年中的第几天，然后通过状态转移方程更新每天的收益。

### 最优关键思路与技巧

1. **日期预处理**：通过预处理月份的天数累加表，将 `MMDD` 格式的日期转换为一年中的第几天，简化了后续的计算。
2. **状态转移方程**：通过 `dp[i] = max(dp[i], dp[start_j] * (1 + (rate_j / 100) / 365 * days_j))` 来更新每天的收益，确保选择最优的理财产品。
3. **边界条件处理**：初始值设为 `100000` 元，确保从第一天开始计算收益。

### 可拓展之处

1. **多维度DP**：如果理财产品有多个属性（如风险等级、投资金额等），可以扩展为多维DP。
2. **贪心算法**：在某些特定条件下，可以使用贪心算法来选择理财产品，减少计算复杂度。

### 推荐题目

1. **P1048 采药**：经典的01背包问题，与本题的DP思路类似。
2. **P1060 开心的金明**：类似于背包问题，考察DP的应用。
3. **P1164 小A点菜**：DP问题，考察如何选择菜品以达到特定目标。

### 个人心得摘录

- **bigclever**：通过预处理日期，简化了后续的计算，代码简洁高效。
- **Enzymii**：强调了时间变化只有365天，而n有10000，因此按时间递推是最优的。

### 总结

本题的核心在于动态规划的应用，通过预处理日期和设计合理的状态转移方程，可以高效地解决问题。bigclever的题解在代码简洁性和思路清晰度上表现最佳，值得推荐。

---
处理用时：22.22秒
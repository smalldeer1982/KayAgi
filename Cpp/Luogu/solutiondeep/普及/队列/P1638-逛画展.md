# 题目信息

# 逛画展

## 题目描述


博览馆正在展出由世上最佳的 $m$ 位画家所画的图画。

游客在购买门票时必须说明两个数字，$a$ 和 $b$，代表他要看展览中的第 $a$ 幅至第 $b$ 幅画（包含 $a,b$）之间的所有图画，而门票的价钱就是一张图画一元。

Sept 希望入场后可以看到所有名师的图画。当然，他想最小化购买门票的价格。

请求出他购买门票时应选择的 $a,b$，数据保证一定有解。

若存在多组解，**输出 $a$ 最小的那组**。

## 说明/提示

#### 数据规模与约定

- 对于 $30\%$ 的数据，有 $n\le200$，$m\le20$。
- 对于 $60\%$ 的数据，有 $n\le10^5$，$m\le10^3$。
- 对于 $100\%$ 的数据，有 $1\leq n\le10^6$，$1 \leq a_i \leq m\le2\times10^3$。

## 样例 #1

### 输入

```
12 5
2 5 3 1 3 2 4 1 1 5 4 3
```

### 输出

```
2 7```

# AI分析结果

### 综合分析与结论

本题的核心是找到一个包含所有画家画作的最小区间，且区间左端点尽可能小。题解中主要采用了以下几种思路：

1. **滑动窗口/双指针法**：通过维护一个窗口，动态调整左右指针，确保窗口内包含所有画家的画作，并不断优化区间长度。
2. **二分查找**：通过二分查找区间长度，检查是否存在满足条件的最小区间。
3. **单调队列**：利用队列结构，动态维护一个包含所有画家的最小窗口。

其中，滑动窗口/双指针法是最为常见且高效的解法，时间复杂度为O(n)，适用于大规模数据。二分查找虽然也能解决问题，但时间复杂度较高（O(n log n)），在大数据量下可能表现不佳。

### 所选高星题解

#### 1. 作者：米奇 (赞：168) - 5星
**关键亮点**：
- 使用了滑动窗口/双指针法，思路清晰，代码简洁。
- 通过维护一个计数器`k`来记录当前窗口内包含的画家数量，动态调整窗口大小。
- 代码可读性强，逻辑清晰，适合初学者理解。

**核心代码**：
```cpp
while(l <= r && r <= n) {
    if(k == m) {
        if(ans > r - l + 1) {
            ans = r - l + 1;
            ll = l; rr = r;
        }
        b[a[l]]--;
        if(b[a[l]] == 0) k--;
        l++;
    } else {
        r++;
        b[a[r]]++;
        if(b[a[r]] == 1) k++;
    }
}
```
**实现思想**：通过双指针`l`和`r`维护窗口，当窗口内包含所有画家时，尝试缩小窗口以找到更优解。

#### 2. 作者：Sino_E (赞：57) - 4星
**关键亮点**：
- 使用了滑动窗口，结合`pos`数组记录画家最后出现的位置，优化了窗口的调整。
- 通过贪心策略，确保窗口左端点尽可能小。

**核心代码**：
```cpp
while(l != i && l < pos[pic[l]]) l++;
if(cnt == m && i - l + 1 < mlen) {
    mlen = i - l + 1;
    ml = l;
    mr = i;
}
```
**实现思想**：通过记录画家最后出现的位置，动态调整窗口左端点，确保窗口最小。

#### 3. 作者：引领天下 (赞：29) - 4星
**关键亮点**：
- 使用了尺取法（双指针法），思路清晰，代码简洁。
- 通过反证法解释了为什么右指针只增不减，增强了逻辑的严谨性。

**核心代码**：
```cpp
while(true) {
    D(a[l]);
    if(cnt == m) l++;
    else { I(a[l]); break; }
}
if(cnt == m && r - l + 1 < ans) {
    ans = r - l + 1;
    ansl = l;
    ansr = r;
}
```
**实现思想**：通过双指针`l`和`r`维护窗口，当窗口内包含所有画家时，尝试缩小窗口以找到更优解。

### 最优关键思路与技巧

1. **滑动窗口/双指针法**：通过维护一个窗口，动态调整左右指针，确保窗口内包含所有画家的画作，并不断优化区间长度。这是解决此类问题的最优方法，时间复杂度为O(n)。
2. **贪心策略**：在滑动窗口的基础上，通过贪心策略确保窗口左端点尽可能小，从而找到最优解。
3. **计数器与哈希表**：通过计数器记录当前窗口内包含的画家数量，结合哈希表记录每个画家的出现次数，确保窗口的有效性。

### 可拓展之处

1. **类似问题**：滑动窗口/双指针法可以应用于多种区间问题，如寻找包含所有字符的最短子串、最长无重复字符子串等。
2. **优化技巧**：在处理大规模数据时，可以通过优化输入输出（如快速读入）来进一步提升程序性能。

### 推荐题目

1. **P1638 逛画展**：本题的变种，要求找到包含所有元素的最短区间。
2. **P2564 不同的雪花**：使用滑动窗口寻找包含所有不同元素的最短区间。
3. **P3405 最长无重复字符子串**：使用滑动窗口寻找最长无重复字符的子串。

### 个人心得摘录

- **调试经历**：多位作者提到在调试过程中，发现窗口调整的逻辑容易出错，特别是在处理左指针时，需要确保窗口内始终包含所有画家。
- **顿悟感想**：通过滑动窗口和贪心策略的结合，能够高效地解决此类区间问题，理解后代码实现相对简单。

### 通用建议与扩展思路

对于此类区间问题，滑动窗口/双指针法是最为高效且常用的解法。建议初学者从简单的滑动窗口问题入手，逐步理解其原理和应用场景。在处理大规模数据时，注意优化输入输出和数据结构的选择，以提升程序性能。

---
处理用时：39.09秒
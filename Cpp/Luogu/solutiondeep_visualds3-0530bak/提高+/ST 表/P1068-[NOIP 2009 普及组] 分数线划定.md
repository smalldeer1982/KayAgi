# 题目信息

# [NOIP 2009 普及组] 分数线划定

## 题目描述

世博会志愿者的选拔工作正在 A 市如火如荼的进行。为了选拔最合适的人才，A 市对所有报名的选手进行了笔试，笔试分数达到面试分数线的选手方可进入面试。面试分数线根据计划录取人数的 $150\%$ 划定，即如果计划录取 $m$ 名志愿者，则面试分数线为排名第 $m \times 150\%$（向下取整）名的选手的分数，而最终进入面试的选手为笔试成绩不低于面试分数线的所有选手。

现在就请你编写程序划定面试分数线，并输出所有进入面试的选手的报名号和笔试成绩。

## 说明/提示

【样例说明】

$m \times 150\% = 3 \times150\% = 4.5$，向下取整后为 $4$。保证 $4$ 个人进入面试的分数线为 $88$，但因为 $88$ 有重分，所以所有成绩大于等于 $88$ 的选手都可以进入面试，故最终有 $5$ 个人进入面试。

NOIP 2009 普及组 第二题


## 样例 #1

### 输入

```
6 3 
1000 90 
3239 88 
2390 95 
7231 84 
1005 95 
1001 88```

### 输出

```
88 5 
1005 95 
2390 95 
1000 90 
1001 88 
3239 88 ```

# AI分析结果



# 【算法分类】  
**排序与模拟**

---

# 【题解思路与难点分析】  
## **核心逻辑流程**  
1. **结构体排序**：按分数降序、报名号升序排序。  
2. **确定分数线**：计算 `m*1.5` 向下取整的位置，取对应分数。  
3. **统计人数**：遍历所有选手，统计分数≥分数线的总人数。  

## **关键难点与解决**  
- **同分处理**：若第 `m*1.5` 名后仍有同分者，需全部包含。  
  - *解决*：确定分数线后，遍历所有选手统计≥分数线的人数。  
- **排序规则**：需同时考虑分数和报名号的双关键字排序。  
  - *解决*：自定义 `cmp` 函数，优先按分数降序，次按报名号升序。  

---

# 【高分题解推荐 (≥4星)】  
1. **「已注销」题解 (⭐⭐⭐⭐⭐)**  
   - **亮点**：通过下标数组间接排序，代码简洁高效。  
   - **关键代码**：  
     ```cpp  
     sort(sub+1, sub+n+1, cmp); // 对下标排序  
     f = s[sub[int(m*1.5)]]; // 分数线  
     for(i=1; s[sub[i]]>=f; i++); // 统计人数  
     ```  

2. **ryf2011 题解 (⭐⭐⭐⭐)**  
   - **亮点**：显式处理同分情况，逻辑清晰。  
   - **关键代码**：  
     ```cpp  
     for(int i=lq+1; i<=n; i++){  
         if(p[i].s == p[lq].s) cnt++; // 统计同分  
     }  
     ```  

3. **Eason_lyx 题解 (⭐⭐⭐⭐)**  
   - **亮点**：使用 `while` 循环直接统计人数，代码紧凑。  
   - **关键代码**：  
     ```cpp  
     while(a[cnt+1].s >= sc) cnt++; // 动态计数  
     ```  

---

# 【最优思路提炼】  
1. **双关键字排序**：确保同分时报名号小的在前。  
2. **动态统计人数**：确定分数线后遍历所有选手，避免遗漏同分者。  
3. **向下取整技巧**：直接使用 `int(m*1.5)` 自动截断小数部分。  

---

# 【相似题目推荐】  
1. **P5143 攀爬者** - 按高度排序后处理相邻点。  
2. **P1223 排队接水** - 贪心排序与时间统计。  
3. **P1104 生日** - 多关键字排序（年、月、日）。  

---

# 【可视化设计】  
## **动画方案**  
1. **排序过程**：  
   - **像素风格**：每个选手显示为颜色块（分数越高颜色越亮）。  
   - **交换动画**：排序时相邻元素交换，伴随“滴”音效。  

2. **分数线划定**：  
   - **高亮标记**：用红色边框标出第 `m*1.5` 名的位置。  
   - **音效提示**：分数线确定时播放“确认”音效。  

3. **结果输出**：  
   - **渐显效果**：符合条件选手逐个显示，背景音乐循环。  

## **交互功能**  
- **步进控制**：支持暂停/继续，观察排序中间状态。  
- **自动演示**：算法自动运行，速度可调（快/中/慢）。  

---

# 【核心代码实现】  
```cpp  
// 结构体定义与排序  
struct Node { int id, score; };  
bool cmp(Node a, Node b) {  
    if (a.score != b.score) return a.score > b.score;  
    return a.id < b.id;  
}  

// 主逻辑  
sort(a+1, a+n+1, cmp);  
int line = a[(int)(m*1.5)].score;  
int cnt = 0;  
for (int i=1; i<=n && a[i].score >= line; i++) cnt++;  
```  

---

# **复古像素动画示例 (JavaScript)**  
```javascript  
// 初始化 Canvas  
const canvas = document.createElement('canvas');  
ctx = canvas.getContext('2d');  

// 绘制选手块  
function drawBlock(x, y, score) {  
    ctx.fillStyle = `hsl(${score * 2}, 70%, 50%)`;  
    ctx.fillRect(x, y, 30, 30); // 像素风格方块  
}  

// 排序动画  
async function animateSort() {  
    for (let i = 1; i <= n; i++) {  
        drawBlock(i*35, 50, a[i].score); // 绘制初始状态  
        await sleep(100); // 控制动画速度  
    }  
}  
```  

**音效触发**：每次元素交换时播放 `beep.wav`，分数线确定时播放 `success.wav`。  

--- 

# **总结**  
通过排序与模拟直接处理分数线划定，关键点在于正确处理同分情况。可视化中结合像素动画与音效可直观展示算法流程，适合教学与自测。

---
处理用时：64.21秒
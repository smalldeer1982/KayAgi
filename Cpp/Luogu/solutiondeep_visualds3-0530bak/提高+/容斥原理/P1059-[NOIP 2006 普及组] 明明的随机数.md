# 题目信息

# [NOIP 2006 普及组] 明明的随机数

## 题目描述

明明想在学校中请一些同学一起做一项问卷调查，为了实验的客观性，他先用计算机生成了 $N$ 个 $1$ 到 $1000$ 之间的随机整数 $(N\leq100)$，对于其中重复的数字，只保留一个，把其余相同的数去掉，不同的数对应着不同的学生的学号。然后再把这些数从小到大排序，按照排好的顺序去找同学做调查。请你协助明明完成“去重”与“排序”的工作。


## 说明/提示

NOIP 2006 普及组 第一题


## 样例 #1

### 输入

```
10
20 40 32 67 40 20 89 300 400 15
```

### 输出

```
8
15 20 32 40 67 89 300 400
```

# AI分析结果



# 算法分类  
**桶排序**

---

## 题解思路与核心难点  
### 核心逻辑  
所有题解均围绕「去重+排序」展开，核心差异在于实现方式：  
1. **桶排序法**（qr小盆友、Stars_Traveller）：用布尔数组标记数值存在性，遍历值域输出存在标记的数值。  
   - **关键变量**：`book[1001]`数组，`final`统计去重后总数  
   - **时间复杂度**：O(N + M)（M=1000）  
   - **解决难点**：直接利用值域小的特性，免去显式排序步骤  

2. **排序+相邻去重**（2023z、jscaj0921）：先排序，后通过比较相邻元素去重  
   - **关键步骤**：`sort()`排序 → `if(a[i] != a[i-1])`判断重复  
   - **时间复杂度**：O(N log N)  

3. **STL容器法**（mcturtle、Erina）：利用`set`自动去重排序或`unique`函数处理  
   - **优势**：代码极简，`set`插入即完成去重排序  
   - **注意点**：需理解迭代器操作（如`unique`返回尾地址）  

---

## 高分题解推荐（≥4星）  
### 1. qr小盆友（5星）  
**亮点**：桶排序思路清晰，代码高效可读  
```cpp
bool book[1001] = {0};  // 标记数组
for (输入数值) {
    if (!book[num]) final++;  // 首次出现则计数
    book[num] = 1;            // 标记存在
}
遍历book数组输出标记为1的数值
```

### 2. mcturtle（4星）  
**亮点**：利用`set`容器特性代码极简  
```cpp
set<int> s;
while(n--) s.insert(x);  // 自动去重排序
cout << s.size();
for (auto it : s) cout << it; 
```

### 3. 2023z（4星）  
**亮点**：双循环统计+输出，逻辑分明  
```cpp
sort(a+1, a+n+1);
for (统计重复) cnt--;
for (输出时跳过重复项)
```

---

## 最优技巧提炼  
**桶排序的标记思想**：  
1. 利用有限值域（1-1000），用数组下标直接映射数值  
2. 首次出现时计数，后续重复项自动忽略  
3. 遍历时天然有序，无需显式排序  

---

## 同类型题拓展  
**通用解法**：  
- 值域小时优先桶排序  
- 值域大时用排序+相邻去重或STL容器  

**类似题目**：  
1. P1177 【模板】快速排序  
2. P1271 【深基9.例1】选举学生会（桶排序应用）  
3. P1059 本身（多解法对比练习）  

---

## 算法可视化设计  
### 复古像素风格演示（桶排序）  
**动画流程**：  
1. **初始化**：1000个灰色方块（桶）排成网格，8-bit音效初始化  
2. **输入阶段**：  
   - 随机数依次飞入对应桶（如40→第40个桶）  
   - 重复数值触发红色闪烁+“失败”音效  
3. **标记阶段**：  
   - 首次出现的桶变为绿色，播放“收集”音效  
   - 重复出现的桶保持红色，不增加计数  
4. **输出阶段**：  
   - 绿色桶依次弹出数值，背景音乐节奏加快  
   - 统计总数时显示8-bit字体动画  

**交互功能**：  
- 步进控制：空格键单步执行输入/标记  
- 速度调节：方向键控制动画速度（0.5x~3x）  
- 音效开关：BGM可切换经典FC游戏曲目  

---

## 核心代码片段（桶排序）  
```cpp
bool book[1001] = {0};
int main() {
    int n, final = 0;
    cin >> n;
    for (int i=0; i<n; i++) {
        int x; cin >> x;
        if (!book[x]) final++;
        book[x] = 1;
    }
    cout << final << endl;
    for (int i=1; i<=1000; i++) 
        if (book[i]) cout << i << " ";
}
```

---
处理用时：65.26秒
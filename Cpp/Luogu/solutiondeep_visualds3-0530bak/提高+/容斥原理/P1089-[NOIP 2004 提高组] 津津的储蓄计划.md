# 题目信息

# [NOIP 2004 提高组] 津津的储蓄计划

## 题目描述

津津的零花钱一直都是自己管理。每个月的月初妈妈给津津 $300$ 元钱，津津会预算这个月的花销，并且总能做到实际花销和预算的相同。

为了让津津学习如何储蓄，妈妈提出，津津可以随时把整百的钱存在她那里，到了年末她会加上 $20\%$ 还给津津。因此津津制定了一个储蓄计划：每个月的月初，在得到妈妈给的零花钱后，如果她预计到这个月的月末手中还会有多于 $100$ 元或恰好 $100$ 元，她就会把整百的钱存在妈妈那里，剩余的钱留在自己手中。


例如 $11$月初津津手中还有 $83$ 元，妈妈给了津津 $300$ 元。津津预计$11$月的花销是 $180$ 元，那么她就会在妈妈那里存 $200$ 元，自己留下 $183$ 元。到了 $11$ 月月末，津津手中会剩下 $3$ 元钱。


津津发现这个储蓄计划的主要风险是，存在妈妈那里的钱在年末之前不能取出。有可能在某个月的月初，津津手中的钱加上这个月妈妈给的钱，不够这个月的原定预算。如果出现这种情况，津津将不得不在这个月省吃俭用，压缩预算。


现在请你根据 $2004$ 年 $1$ 月到 $12$ 月每个月津津的预算，判断会不会出现这种情况。如果不会，计算到 $2004$ 年年末，妈妈将津津平常存的钱加上 $20\%$ 还给津津之后，津津手中会有多少钱。


## 样例 #1

### 输入

```
290
230
280
200
300
170
340
50 
90 
80 
200
60 
```

### 输出

```
-7 
```

## 样例 #2

### 输入

```
290 
230 
280 
200 
300 
170 
330 
50 
90 
80 
200 
60 
```

### 输出

```
1580
```

# AI分析结果



---

## 算法分类  
**模拟**

---

## 题解思路与算法要点  
### 核心逻辑  
1. **模拟每月资金流动**：每月初获得 300 元，减去预算后，将整百部分存入妈妈处，剩余部分保留。  
2. **中途退出条件**：若某月钱不够，输出对应负月份。  
3. **最终计算**：若未中途退出，计算存款利息（1.2 倍）与剩余零钱之和。  

### 解决难点  
- **整百存款处理**：通过整除和取模操作（`/100*100` 和 `%100`）代替循环，优化效率。  
- **变量同步更新**：维护两个变量分别表示当前持有金额和累计存款，确保状态正确。  

### 题解对比  
| 题解差异点          | wurang               | sea_bird            | kunkun127          | shinzanmono        |  
|---------------------|-----------------------|----------------------|---------------------|---------------------|  
| **存钱方式**        | while 循环减 100      | 整除取模              | 整除取模             | 整除取模             |  
| **利息计算**        | 浮点乘法 `s*1.2`      | 整数乘法 `mom*1.2`    | 整数乘法 `summ*120`  | 整数除法 `save*6/5`  |  
| **变量命名**        | 不直观（`n`, `s`）    | 明确（`money`, `mom`）| 略模糊（`sum`, `summ`）| 清晰（`hold`, `save`）|  

---

## 题解评分（≥4星）  
1. **sea_bird（4.5⭐）**  
   - 思路清晰，变量命名合理，直接使用整除取模优化存钱步骤。  
   - 代码可读性高，注释幽默（如“这里不是三角函数”）。  

2. **shinzanmono（4.5⭐）**  
   - 代码极简，逻辑高度浓缩，使用 `hold` 和 `save` 明确区分状态。  
   - 利息计算用整数运算避免浮点误差。  

3. **kunkun127（4⭐）**  
   - 简洁高效，问号表达式输出结果，但变量名 `sum` 和 `summ` 易混淆。  
   - 使用 `summ*120` 保证整数运算正确性。  

---

## 最优思路与技巧提炼  
### 关键实现  
1. **变量同步更新**：  
   ```cpp  
   money += 300;               // 月初加钱  
   money -= budget;            // 减去预算  
   save += (money / 100) * 100; // 存整百  
   money %= 100;               // 保留余钱  
   ```  
2. **整数计算利息**：避免浮点误差，直接按 `存钱*120 + 余钱` 计算。  

### 思维技巧  
- **数学优化**：用整除和取模代替循环，时间复杂度从 O(n) 降为 O(1)。  
- **状态分离**：区分当前持有金额和累计存款，避免逻辑混淆。  

---

## 同类型题与算法套路  
- **通用模拟题套路**：明确状态变量，分步处理条件，优先数学优化。  
- **类似题目**：  
  - [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003)（坐标覆盖模拟）  
  - [P1042 乒乓球](https://www.luogu.com.cn/problem/P1042)（比分规则模拟）  
  - [P1059 明明的随机数](https://www.luogu.com.cn/problem/P1059)（去重排序模拟）  

---

## 推荐相似题目  
1. **P1089 津津的储蓄计划（本题）**  
2. **P1003 铺地毯**（二维空间覆盖模拟）  
3. **P1042 乒乓球**（比分规则与状态切换）  

---

## 代码实现（核心逻辑）  
```cpp  
#include <iostream>  
using namespace std;  

int main() {  
    int hold = 0, save = 0;  
    for (int month = 1; month <= 12; month++) {  
        int budget;  
        cin >> budget;  
        hold += 300 - budget;  
        if (hold < 0) {  
            cout << "-" << month;  
            return 0;  
        }  
        save += (hold / 100) * 100;  
        hold %= 100;  
    }  
    cout << hold + save * 120;  
    return 0;  
}  
```  

---

## 可视化设计  
### 算法演示方案  
1. **像素风格界面**：  
   - 用 8x8 像素网格表示月份，绿色表示正常，红色表示钱不够。  
   - 右侧显示 `hold`（黄）和 `save`（蓝）数值，每次更新时高亮变化部分。  

2. **动画与交互**：  
   - **自动播放**：按月份逐步执行，展示资金增减和存钱过程。  
   - **音效触发**：  
     - 存钱时播放“金币掉落”音效。  
     - 钱不够时播放“错误”音效。  

3. **Canvas 实现**：  
   ```javascript  
   // 伪代码：绘制每月状态  
   function drawMonth(month, hold, save, isError) {  
       ctx.fillStyle = isError ? "#FF0000" : "#00FF00";  
       ctx.fillRect((month-1)*20, 0, 16, 16);  
       ctx.fillText(`￥${hold + save * 1.2}`, 200, month*20);  
   }  
   ```  

---

## 个人心得摘录  
- **调试教训**：初始未考虑浮点误差，直接用 `*1.2` 导致部分用例错误，改用整数运算后解决。  
- **顿悟点**：整百存款无需循环，整除取模一步到位。

---
处理用时：114.09秒
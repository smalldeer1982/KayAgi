# 题目信息

# Olympic

## 题目描述

奥运会正在如火如荼的进行着，金牌榜上也有许多队伍需要排名。你需要选择三个整数 $P_g,P_s$ 和 $P_b$，分别表示每获得一块金、银、铜牌所对应得分。并且满足 $1000 \ge P_g \ge P_s \ge P_b \ge 1$。队伍将依据他们获得的分数进行排序（高分在前）。现在，为了使你所在的队伍排名尽可能的靠前，由你来选择 $P_g,P_s,P_b$。

## 说明/提示

### 数据范围

- 对于 $10\%$ 的数据，保证最优解的 $P_g \le 10$；
- 对于 $30\%$ 的数据，保证最优解的 $P_g \le 100$。


## 样例 #1

### 输入

```
3

1 1 1

0 1 2

2 1 0```

### 输出

```
1 1 1```

# AI分析结果



---

### **算法分类**
**其他搜索**（优化枚举）

---

### **题解思路与核心难点**

#### **核心思路**
- **枚举优化**：先枚举金牌（Pg）、银牌（Ps）分数，再通过数学分析优化铜牌（Pb）的取值。
- **关键事件点**：针对每支其他队伍，计算其与当前队伍总分差和铜牌数差的关系，推导出影响排名的关键 Pb 值（如交点），通过排序和离散化处理快速确定最优 Pb。

#### **解决难点**
1. **避免暴力枚举**：通过不等式变形，将 Pb 的取值范围压缩到关键点。
2. **铜牌数相同处理**：若两队铜牌数相同，直接比较金/银总分。
3. **边界条件处理**：如分母为零、分数取整方向（向上/向下）等细节。

---

### **题解评分 (≥4星)**

| 题解作者 | 评分 | 亮点 |
|---------|------|-----|
| CodyTheWolf | ⭐⭐⭐⭐ | 事件点排序优化，数学推导清晰 |
| Seauy      | ⭐⭐⭐⭐ | 线性规划与离散化结合，图示辅助理解 |
| 剑鞘承天   | ⭐⭐⭐   | 状态分类直观，但实现稍冗长 |

---

### **最优思路提炼**
1. **分层枚举**：先枚举 Pg 和 Ps，将问题简化为单变量（Pb）优化。
2. **数学建模**：将总分差与铜牌数差转化为关于 Pb 的不等式，计算临界值。
3. **离散化处理**：将关键 Pb 值排序后扫描，动态更新最优解。

---

### **同类型题推荐**
1. **P1021 邮票面值设计**（枚举+剪枝）
2. **P1463 反素数**（因数搜索优化）
3. **P2119 魔法阵**（四元组约束优化）

---

### **可视化与算法演示**

#### **动画设计**
1. **网格枚举**：展示 Pg 和 Ps 的枚举过程（二维网格），高亮当前枚举点。
2. **关键点标记**：在 Pb 轴上标出各队伍的交点，动态显示排名变化。
3. **像素风格**：用 8-bit 风格绘制队伍总分曲线，音效提示交点触发。

#### **交互功能**
- **步进控制**：手动调整 Pg/Ps 观察 Pb 变化。
- **自动模式**：AI 自动遍历 Pg/Ps，展示最优 Pb 选择过程。
- **音效反馈**：铜牌值越过关键点时播放音效。

---

### **关键代码片段**
```cpp
// 计算临界值并排序（CodyTheWolf 题解核心）
for (int i = 2; i <= n; i++) {
    double delta = tot[i] - tot[1], k = cu[1] - cu[i];
    if (k > 0)
        temp[++tail] = make_pair(ceil(delta / k), true); // 上取整
    else if (k < 0)
        temp[++tail] = make_pair(floor(delta / k), false); // 下取整
}
sort(temp + 1, temp + tail + 1, Compare); // 按 Pb 值排序
```

---

### **个人心得摘录**
> “铜牌数的比较需要特判分母为零的情况，否则会 RE。” —— 剑鞘承天  
> “离散化后的扫描要处理同一 Pb 值的多个事件。” —— CodyTheWolf

---

### **复古像素化实现**
- **Canvas 绘制**：队伍总分曲线用 8-bit 像素块表示。
- **音效设计**：
  - 访问新 Pb 值：8-bit “哔”声。
  - 最优解更新：经典 FC 过关音效。
- **自动演示**：模拟贪吃蛇式遍历，展示 Pg/Ps 枚举路径。

---
处理用时：76.32秒
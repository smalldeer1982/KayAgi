# 题目信息

# [NOIP 2003 普及组] 乒乓球

## 题目背景

国际乒联现在主席沙拉拉自从上任以来就立志于推行一系列改革，以推动乒乓球运动在全球的普及。其中 $11$ 分制改革引起了很大的争议，有一部分球员因为无法适应新规则只能选择退役。华华就是其中一位，他退役之后走上了乒乓球研究工作，意图弄明白 $11$ 分制和 $21$ 分制对选手的不同影响。在开展他的研究之前，他首先需要对他多年比赛的统计数据进行一些分析，所以需要你的帮忙。

## 题目描述

华华通过以下方式进行分析，首先将比赛每个球的胜负列成一张表，然后分别计算在 $11$ 分制和 $21$ 分制下，双方的比赛结果（截至记录末尾）。

比如现在有这么一份记录，（其中 $\texttt W$ 表示华华获得一分，$\texttt L$ 表示华华对手获得一分）：

$$\texttt{WWWWWWWWWWWWWWWWWWWWWWLW}$$

在 $11$ 分制下，此时比赛的结果是华华第一局 $11$ 比 $0$ 获胜，第二局 $11$ 比 $0$ 获胜，正在进行第三局，当前比分 $1$ 比 $1$。而在 $21$ 分制下，此时比赛结果是华华第一局 $21$ 比 $0$ 获胜，正在进行第二局，比分 $2$ 比 $1$。如果一局比赛刚开始，则此时比分为 $0$ 比 $0$。直到分差大于或者等于 $2$，才一局结束。

**注意：当一局比赛结束后，下一局立刻开始**。

你的程序就是要对于一系列比赛信息的输入（$\texttt{WL}$ 形式），输出正确的结果。


## 说明/提示

每行至多 $25$ 个字母，最多有 $2500$ 行。

（注：事实上有一个测试点有 $2501$ 行数据。）

**【题目来源】**

NOIP 2003 普及组第一题

## 样例 #1

### 输入

```
WWWWWWWWWWWWWWWWWWWW
WWLWE
```

### 输出

```
11:0
11:0
1:1

21:0
2:1
```

# AI分析结果



### 唯一算法分类  
**模拟**

---

### 综合分析与结论  
#### 核心思路  
所有题解均采用模拟法，遍历输入字符序列，统计双方得分。当满足两个条件时结束一局：  
1. 任意一方得分 ≥ 当前分制（11/21）  
2. 双方分差 ≥2  

#### 解决难点  
1. **输入处理**：需正确处理多行输入，遇到 `E` 时停止。主流解法使用 `while(cin>>C)` 逐字符读取。  
2. **局数判定**：需严格满足分差条件，例如 11:10 不算结束，必须等到 12:10 才会结算。  
3. **输出格式**：每局结束后需立即输出并清零，且最终未完成的比分也要输出。  

#### 可视化设计  
1. **动画方案**：  
   - **分屏显示**：左侧展示字符处理进度（高亮当前字符），右侧显示 11/21 分制的实时比分。  
   - **颜色标记**：  
     - 当前字符 `W` 用绿色，`L` 用红色。  
     - 比分变化时，新得分部分闪烁提示。  
   - **结算触发**：当满足分差条件时，比分板变为金色边框，播放“结算音效”。  
2. **复古像素风格**：  
   - 使用 8-bit 字体，比分板用像素网格绘制。  
   - 背景播放循环的 8-bit 音乐，得分时播放短促音效（`W` 用高音，`L` 用低音）。  
   - **AI 自动模式**：按预设速度自动运行，支持暂停/加速。  

---

### 题解清单 (≥4星)  
1. **DengDuck（5星）**  
   - **亮点**：代码复用性强，通过函数封装处理不同分制；使用现代 C++ 的 `string` 类简化输入处理。  
   - **心得引用**：“利用 `max(A,B)>=Lim` 和分差条件，可统一判断逻辑，避免冗余代码。”  

2. **qhr2023（4.5星）**  
   - **亮点**：极简代码风格，三目运算符优化得分统计；输入处理高效。  
   - **关键代码**：  
     ```cpp  
     i=='W'?a++:b++; // 简洁的得分统计  
     ```  

3. **derderhaoyue（4星）**  
   - **亮点**：详细解释 `scanf` 输入特性，适合新手理解；函数封装清晰。  
   - **心得引用**：“`scanf` 格式字符串中的空格可屏蔽无关字符，确保有效输入。”  

---

### 最优思路提炼  
#### 关键代码片段  
```cpp  
void Work(int Lim) {  
    for (char c : S) {  
        if (c == 'W') A++;  
        else if (c == 'L') B++;  
        if (max(A, B) >= Lim && abs(A - B) >= 2) {  
            cout << A << ":" << B << endl;  
            A = B = 0; // 结算后清零  
        }  
    }  
    cout << A << ":" << B << endl << endl; // 输出未完成比分  
}  
```  
**实现思想**：  
- **函数复用**：统一处理不同分制，避免重复代码。  
- **实时统计**：逐个字符更新比分，立即判断是否结束当前局。  
- **边界处理**：遍历结束后强制输出剩余比分。  

---

### 同类型题推荐  
1. **P1089 乒乓球比赛**（模拟比分统计）  
2. **P1518 笨小猴**（字符统计与条件判断）  
3. **P1321 单词覆盖还原**（字符串遍历与状态机）  

---

### 个人心得摘录  
- **调试踩坑**：某题解因未处理 `E` 后的字符导致数组越界（如 `__assassin_` 的代码需注意数组大小）。  
- **优化顿悟**：“分制判断只需比较最大值和分差，无需分别处理 `W/L` 主导的情况。”（DengDuck）  

---

### 可视化实现示例（伪代码）  
```javascript  
// Canvas 绘制比分板（像素风格）  
function drawScoreboard(a, b, is21Mode) {  
    ctx.fillStyle = "#8B8B8B"; // 灰色背景  
    ctx.fillRect(x, y, width, height);  
    // 绘制比分（绿色/红色）  
    ctx.fillStyle = a > b ? "#00FF00" : "#FF0000";  
    ctx.fillText(`${a}:${b}`, x + 10, y + 20);  
}  

// 音效触发  
function playSound(isW) {  
    let freq = isW ? 880 : 440; // W-高音，L-低音  
    beep(freq, 100); // 模拟 8-bit 音效  
}  
```  

---

**END**

---
处理用时：70.99秒
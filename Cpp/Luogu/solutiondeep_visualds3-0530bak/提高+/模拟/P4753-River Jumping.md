# 题目信息

# River Jumping

## 题目描述

有一条宽度为 $N$ 的河上，小 D 位于坐标为 $0$ 的河岸上，他想到达坐标为 $N$ 的河岸上后再回到坐标为 $0$ 的位置。在到达坐标为 $N$ 的河岸之前小 D 只能向坐标更大的位置跳跃，在到达坐标为 $N$ 的河岸之后小 D 只能向坐标更小的位置跳跃。在河的中间有 $M$ 个岩石，小 D 希望能跳到每个岩石上恰好一次。由于小 D 的跳跃能力太强，小 D 的跳跃长度有个下限 $S$，但没有上限。现在请你判断他是否能够完成他的目标。

## 说明/提示

对于全部数据，保证 $1 \le N,S \le 100000$，$0 \le M < N$，$1 \le w_i < N$。

## 样例 #1

### 输入

```
6 1 3
3```

### 输出

```
YES
1 2 0```

## 样例 #2

### 输入

```
6 2 2
2 4```

### 输出

```
YES
2 3 1 0```

## 样例 #3

### 输入

```
5 2 3
2 3```

### 输出

```
NO```

# AI分析结果



# River Jumping 题解分析

**唯一算法分类**：贪心

---

## **题解思路与核心难点**

### **核心思路**
题目要求小D在往返跳跃中覆盖所有岩石，且每次跳跃长度≥S。关键是通过两次贪心遍历：
1. **向右跳跃**：从起点出发，每次选择最近的满足距离≥S的岩石，直至到达终点。
2. **向左跳跃**：从终点返回，处理剩余岩石，确保每次跳跃距离≥S。

### **解决难点**
1. **边界条件检查**：
   - 起点到第一个岩石的距离必须≥S。
   - 终点到最后一个岩石的距离必须≥S。
   - 若存在三个连续岩石间距< S，无法覆盖所有岩石（无解）。
2. **路径构造**：
   - 通过两次遍历（向右、向左）记录跳跃顺序，确保所有岩石被访问。

---

## **最优思路提炼**

1. **排序与预处理**  
   输入岩石坐标后排序，并加入起点（0）和终点（N）。
2. **贪心遍历**  
   - **向右遍历**：从起点出发，每次跳最近的满足条件的岩石。
   - **向左遍历**：从终点返回，处理剩余岩石。
3. **最终检查**  
   若两次遍历后所有岩石被访问，输出路径；否则输出NO。

---

## **关键代码实现**

```cpp
#include <bits/stdc++.h>
using namespace std;
const int MAXN = 1e5+5;

int n, m, s, cnt, p;
int a[MAXN], f[MAXN];
bool u[MAXN];

int main() {
    scanf("%d%d%d", &n, &m, &s);
    for (int i=1; i<=m; i++) scanf("%d", &a[i]);
    sort(a+1, a+m+1);
    a[0] = 0, a[m+1] = n;

    // 向右贪心跳跃
    p = 0;
    for (int i=1; i<=m+1; i++) {
        if (a[i] - p >= s) {
            f[++cnt] = i;
            p = a[i];
            u[i] = true;
        }
    }
    if (p != n) { puts("NO"); return 0; }

    // 向左贪心跳跃
    for (int i=m; i>=0; i--) {
        if (!u[i] && p - a[i] >= s) {
            f[++cnt] = i;
            p = a[i];
            u[i] = true;
        }
    }

    // 检查是否覆盖所有岩石
    if (cnt != m+2) { puts("NO"); }
    else {
        puts("YES");
        for (int i=1; i<=m+2; i++) 
            printf("%d ", f[i]);
    }
    return 0;
}
```

---

## **可视化与游戏化设计**

### **像素风格动画**
- **Canvas绘制**：  
  用网格表示河流，岩石显示为不同颜色的方块，小D用动态箭头表示跳跃方向。
- **颜色标记**：  
  - 绿色：已访问岩石  
  - 红色：当前跳跃路径  
  - 灰色：未访问岩石

### **交互功能**
- **步进控制**：  
  用户可手动点击“下一步”观察跳跃过程，或选择自动播放。
- **音效设计**：  
  - 跳跃成功：短促“滴”声  
  - 完成路径：8-bit胜利音效  
  - 无解情况：低沉错误音效

### **AI自动演示**
- **贪心决策可视化**：  
  每次跳跃时高亮候选岩石，显示距离是否≥S，动态绘制跳跃路径。

---

## **相似题目推荐**
1. **P1099 树网的核**（贪心+路径覆盖）  
2. P1052 过河（动态规划+路径跳跃）  
3. P5019 铺设道路（贪心模拟）

---

## **总结**
本题通过两次贪心遍历解决往返覆盖问题，关键在于正确判断无解条件和路径构造。可视化设计可帮助理解跳跃逻辑，复古像素风格增强学习趣味性。

---
处理用时：67.60秒
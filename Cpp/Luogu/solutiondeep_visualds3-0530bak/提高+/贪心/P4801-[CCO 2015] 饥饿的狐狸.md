# 题目信息

# [CCO 2015] 饥饿的狐狸

## 题目描述

**本题译自 [CCO 2015](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2015/index.html) Day1 T1「[Hungry Fox](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2015/stage%202/day1.pdf)」**

到你的宠物狐狸的晚餐时间啦！他的晚餐包含 $N$ 块饼干，第 $i$ 块饼干的温度是 $T_i$ 摄氏度。同时，在晚餐中还包含了一大盘 $W$ 摄氏度的水。

在喝了一口水之后，你的狐狸开始吃饭了。每当他吃一块饼干时，这块饼干的美味度为当前饼干与吃/喝的前一样食物（包括饼干和水）的温度的差的绝对值。它可以在任意时间喝水（保证水喝不完），或按任意顺序吃饼干。

最后狐狸获得的美味值为它吃下的每块饼干的美味度之和。请求出狐狸获得的最小和最大的美味值。

## 说明/提示

要得到最小美味值，一种可行的方案是，狐狸先喝水，然后吃第一块饼干，再吃第三块饼干，接着喝水，最后吃下第二块饼干，这样做，它所感受到的温度分别为 $20,18,18,20,25$ 摄氏度，总的美味度为 $2+0+5=7$。

要得到最大美味值，一种可行的方案是，狐狸先喝水，然后按顺序吃饼干，它所感受到的温度分别为 $20,18,25,18$ 摄氏度，总的美味度为 $2+7+7=16$。

对于 $30\%$ 及以上的数据， $W=0$；  

对于 $100\%$ 的数据， $1\le N \le 100000, 0\le W \le 10^9, 0 \le T _ i \le 10 ^ 9$。

## 样例 #1

### 输入

```
3 20
18
25
18```

### 输出

```
7 16```

# AI分析结果



### 综合分析与结论

**题目核心**：在排序后的饼干温度序列中，通过贪心策略确定最优吃法，计算最小/最大美味值。  
**关键难点**：  
1. **最小值**：需判断水温度与饼干序列的位置关系，利用极差性质。  
2. **最大值**：交替选择极值饼干，动态比较喝水带来的增益。  

**贪心策略**：  
- **最小值**：分类讨论水的位置，直接计算极差或附加差值。  
- **最大值**：双指针交替选左右端点，每一步决策时比较喝水后的增益。  

**可视化设计**：  
- **排序数组**：展示饼干温度排序后的序列，用高亮色块标记左右指针。  
- **贪心过程**：动态演示左右指针交替选择，显示每次计算的差值（颜色区分直接吃/喝水后的选择）。  
- **复古像素风**：8-bit 风格色块，音效提示选择动作，自动播放模式模拟贪心决策。  

---

### 题解清单（评分≥4星）

1. **桃夭（5星）**  
   **亮点**：  
   - 最小值公式 `max(0, W-T1) + max(0, Tn-W)` 简洁高效。  
   - 最大值分两次遍历（左起始/右起始），确保最优解。  
   **代码**：逻辑清晰，易移植。

2. **greykid（4.5星）**  
   **亮点**：  
   - 公式推导严谨，代码简洁。  
   - 最大值交替选择左右端点，高效实现。  
   **心得**：“真漂亮啊”体现对数学美的领悟。

3. **MoonCake2011（4星）**  
   **亮点**：  
   - 代码简短，核心逻辑明确。  
   - 清晰注释，适合快速理解贪心思路。  

---

### 核心代码与实现

**最小值计算**：  
```cpp
long long GetMin() {
    return max(0ll, w - a[1]) + max(0ll, a[n] - w);
}
```

**最大值计算**（双指针交替）：  
```cpp
long long GetMax(int check) {
    int l=1, r=n;
    long long MAX=0, now=w;
    for (int i=1; i<=n; ++i) {
        if (i%2 == check) {
            MAX += max(abs(a[l]-now), abs(a[l]-w));
            now = a[l++];
        } else {
            MAX += max(abs(a[r]-now), abs(a[r]-w));
            now = a[r--];
        }
    }
    return MAX;
}
```

**完整代码**（桃夭版）：  
```cpp
#include <algorithm>
using namespace std;
int n; long long w, a[100005];
long long GetMin() { /* 同上 */ }
long long GetMax(int dir) { /* 同上 */ }
int main() {
    scanf("%d%lld", &n, &w);
    for (int i=1; i<=n; ++i) scanf("%lld", &a[i]);
    sort(a+1, a+n+1);
    printf("%lld %lld", GetMin(), max(GetMax(0), GetMax(1)));
}
```

---

### 同类型题目与算法套路

**通用贪心场景**：  
1. **极值选择**：交替选取最大/最小值（如[P1094 纪念品分组](https://www.luogu.com.cn/problem/P1094)）。  
2. **区间覆盖**：选择覆盖最广的区间（如[P1803 凌乱的yyy](https://www.luogu.com.cn/problem/P1803)）。  
3. **跳跃问题**：每一步选最优跳距（如[P1090 合并果子](https://www.luogu.com.cn/problem/P1090)）。

**推荐题目**：  
1. P1090 合并果子（贪心+优先队列）  
2. P1223 排队接水（排序贪心）  
3. P4995 跳跳！（极值交替选择）  

---

### 可视化设计要点

**像素风格贪心动效**：  
1. **Canvas 网格**：饼干温度排序后显示为色块，水温用特殊颜色标记。  
2. **指针动画**：左右指针移动时高亮，选择时播放音效（8-bit 音效库）。  
3. **差值计算**：每次选择显示两种可能（吃饼干/喝水），正确选择闪烁。  
4. **自动模式**：AI 自动执行贪心策略，用户可调速或单步观察。  
5. **积分系统**：正确选择加分，连击奖励，错误选择扣分。  

**代码片段（JS伪代码）**：  
```javascript
function drawStep(l, r, choice) {
    ctx.fillStyle = "#FF0000"; // 当前选择色
    ctx.fillRect(l * 10, 0, 10, 10); // 绘制左指针
    ctx.fillStyle = "#00FF00"; 
    ctx.fillRect(r * 10, 0, 10, 10); // 右指针
    playSound("select.wav"); // 音效
}
```

---

### 个人心得摘录

- **桃夭**：  
  > “最初以为贪心可解，漏看喝水条件后痛定思痛，最终发现极差公式。”  
  **启示**：审题需细致，极值问题常隐含数学性质。  

- **greykid**：  
  > “MinAns公式的合并展示数学之美。”  
  **启示**：优化代码时需挖掘问题数学本质。  

---

通过上述分析，该题的贪心策略清晰，可视化设计可极大提升理解效率，适合作为贪心算法教学的经典案例。

---
处理用时：94.45秒
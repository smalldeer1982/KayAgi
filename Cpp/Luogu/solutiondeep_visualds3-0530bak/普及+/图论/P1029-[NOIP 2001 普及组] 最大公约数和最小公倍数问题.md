# 题目信息

# [NOIP 2001 普及组] 最大公约数和最小公倍数问题

## 题目描述

输入两个正整数 $x_0, y_0$，求出满足下列条件的 $P, Q$ 的个数：

1. $P,Q$ 是正整数。

2. 要求 $P, Q$ 以 $x_0$ 为最大公约数，以 $y_0$ 为最小公倍数。

试求：满足条件的所有可能的 $P, Q$ 的个数。

## 说明/提示

$P,Q$ 有 $4$ 种：

1. $3, 60$。
2. $15, 12$。
3. $12, 15$。
4. $60, 3$。

对于 $100\%$ 的数据，$2 \le x_0, y_0 \le {10}^5$。

**【题目来源】**

NOIP 2001 普及组第二题

## 样例 #1

### 输入

```
3 60
```

### 输出

```
4
```

# AI分析结果



**唯一算法分类**：数学（因数分解与最大公约数）

---

### **题解思路与核心难点**

**核心思路**  
1. **关键性质**：两个数的乘积等于其最大公约数（GCD）与最小公倍数（LCM）的乘积，即 \( P \times Q = \text{GCD}(P,Q) \times \text{LCM}(P,Q) \)。  
2. **问题转化**：枚举满足 \( P \times Q = x_0 \times y_0 \) 的因数对 \((P, Q)\)，并验证其 GCD 是否为 \( x_0 \)。  
3. **优化枚举**：仅枚举到 \( \sqrt{x_0 \times y_0} \)，避免重复计算，通过交换 \( P \) 和 \( Q \) 统计有序对数量。

**解决难点**  
- **边界处理**：当 \( x_0 \times y_0 \) 为完全平方数时，需避免重复计数。  
- **数学推导**：利用因数分解与 GCD 性质，避免直接枚举所有可能对的高时间复杂度。

---

### **题解评分（≥4星）**

1. **樱雪喵（★★★★★）**  
   - **亮点**：代码简洁，利用 `__gcd` 函数高效判断，通过乘积性质优化枚举。  
   - **优化**：仅需检查 GCD，无需验证 LCM。  
   - **代码片段**：  
     ```cpp
     for(long long i=1;i<=sqrt(n);i++){
         if(n%i==0&&__gcd(i,n/i)==m) ans+=2;
     }
     ```

2. **sochiji（★★★★☆）**  
   - **亮点**：基于质因数分解的数学分析，直接计算组合数。  
   - **核心**：统计 \( y_0 / x_0 \) 的质因子种类数，结果为 \( 2^{\text{质因子数}} \)。  
   - **代码片段**：  
     ```cpp
     while (quotient > 1) {
         if (quotient % currentFactor == 0) {
             count++;
             while (quotient % currentFactor == 0)
                 quotient /= currentFactor;
         }
         currentFactor++;
     }
     ```

3. **GoldenSTEVE7（★★★★☆）**  
   - **亮点**：手写 GCD 函数，避免依赖库函数，适合教学。  
   - **代码简洁性**：直接处理边界条件，输出结果清晰。  
   - **代码片段**：  
     ```cpp
     for(ll i=1;i<=sqrt(x*y);i++){
         if(x*y%i==0&&gcd(i,x*y/i)==x) ans+=2;
     }
     ```

---

### **最优思路提炼**

1. **关键性质应用**：利用 \( P \times Q = x_0 \times y_0 \)，将问题转化为因数对枚举。  
2. **高效枚举**：仅遍历到 \( \sqrt{x_0 \times y_0} \)，时间复杂度降为 \( O(\sqrt{N}) \)。  
3. **数学简化**：只需验证 GCD 条件，LCM 自动满足。  
4. **边界处理**：特判 \( P = Q \) 的情况，避免重复计数。

---

### **同类型题目与相似套路**

- **相似算法**：因数分解、GCD/LCM 性质应用、质因数分解统计。  
- **推荐题目**：  
  1. P1072 [NOIP2009 提高组] Hankson 的趣味题  
  2. P1069 [NOIP2009 普及组] 细胞分裂  
  3. P1414 又是毕业季II  

---

### **可视化与算法演示**

**动画设计**：  
1. **像素风格界面**：用 8-bit 网格展示 \( P \) 和 \( Q \) 的枚举过程，高亮当前检查的因数 \( i \)。  
2. **动态标记**：  
   - 绿色方块：当前枚举的因数 \( i \)。  
   - 红色方块：对应的 \( Q = \frac{x_0 \times y_0}{i} \)。  
   - 黄色闪烁：当 \( \text{GCD}(i, Q) = x_0 \) 时，显示有效对。  
3. **音效提示**：  
   - 发现有效对时播放“收集金币”音效。  
   - 完全平方数特判时播放“警告”音效。  

**交互功能**：  
- 步进控制：手动点击或自动播放，调节动画速度。  
- 显示分解过程：质因数分解的素因子以不同颜色粒子飞出。  

---

### **核心代码实现**

**樱雪喵题解完整代码**：  
```cpp
#include<bits/stdc++.h>
using namespace std;
long long m,n,ans;
int main(){
    cin>>m>>n;
    if(m==n) ans--;
    n*=m;
    for(long long i=1;i<=sqrt(n);i++){
        if(n%i==0&&__gcd(i,n/i)==m) ans+=2;
    }
    cout<<ans;
    return 0;
}
```

---

### **个人心得摘录**

- **调试教训**：未处理 \( x_0 \nmid y_0 \) 的情况会导致错误，需增加特判。  
- **优化顿悟**：利用因数对称性将枚举范围减半，显著提升效率。  

--- 

**总结**：本题通过数学性质转化与高效枚举实现，核心在于理解 GCD/LCM 的乘积关系及因数分解的对称性。

---
处理用时：99.22秒
# 题目信息

# [NOIP 2009 普及组] 分数线划定

## 题目描述

世博会志愿者的选拔工作正在 A 市如火如荼的进行。为了选拔最合适的人才，A 市对所有报名的选手进行了笔试，笔试分数达到面试分数线的选手方可进入面试。面试分数线根据计划录取人数的 $150\%$ 划定，即如果计划录取 $m$ 名志愿者，则面试分数线为排名第 $m \times 150\%$（向下取整）名的选手的分数，而最终进入面试的选手为笔试成绩不低于面试分数线的所有选手。

现在就请你编写程序划定面试分数线，并输出所有进入面试的选手的报名号和笔试成绩。

## 说明/提示

【样例说明】

$m \times 150\% = 3 \times150\% = 4.5$，向下取整后为 $4$。保证 $4$ 个人进入面试的分数线为 $88$，但因为 $88$ 有重分，所以所有成绩大于等于 $88$ 的选手都可以进入面试，故最终有 $5$ 个人进入面试。

NOIP 2009 普及组 第二题


## 样例 #1

### 输入

```
6 3 
1000 90 
3239 88 
2390 95 
7231 84 
1005 95 
1001 88```

### 输出

```
88 5 
1005 95 
2390 95 
1000 90 
1001 88 
3239 88 ```

# AI分析结果



---

### 唯一算法分类：排序 + 模拟

---

### 题解思路与核心难点分析

#### 核心算法流程
1. **排序规则**：按分数降序排列，分数相同时按报名号升序排列
2. **分数线计算**：取排序后第 `floor(m*1.5)` 名选手的分数
3. **人数统计**：统计所有分数 ≥ 分数线的选手（需处理同分情况）

#### 解决难点
- **同分处理**：当第 `m*1.5` 名后仍有同分选手时，需全部计入
- **高效统计**：通过一次遍历即可完成人数统计与结果输出

---

### 题解评分（≥4星）

#### 1. 题解作者：Eason_lyx（5⭐）
**亮点**：
- 结构体排序代码简洁
- 使用 `while(a[cnt+1].s>=sc)cnt++` 巧妙统计人数
- 完整处理了同分情况
```cpp
struct M{int k,s;}a[5005];
bool cmp(M a,M b){return a.s>b.s || (a.s==b.s&&a.k<b.k);}
...
sc=a[(int)(1.5*m)].s;
while(a[cnt+1].s>=sc)cnt++;
```

#### 2. 题解作者：Loyal_Soldier（4⭐）
**亮点**：
- 结构体定义清晰
- 注释详细说明排序规则
- 直接遍历统计达标人数
```cpp
for(int i=1;i<=n;i++) if(fsx<=a[i].cj) sum++;
```

#### 3. 题解作者：Jerry_zpl（4⭐）
**亮点**：
- 使用 `m*150/100` 避免浮点运算
- 通过反向遍历找到最后一个达标位置
```cpp
for(int i=n-1;i>=0;i--){ // 反向遍历找临界点
    if(s[i].s>=s[m].s) j=i;
}
```

---

### 最优思路与技巧提炼

#### 关键实现技巧
1. **复合排序**：结合分数与报名号的双重排序条件
2. **单次遍历统计**：利用排序后的有序性，只需遍历一次即可完成统计
3. **整数运算优化**：`m*3/2` 替代 `m*1.5` 避免浮点精度问题

#### 数据结构选择
```cpp
struct Node { int id, score; }; // 存储选手信息
vector<Node> arr;               // 动态数组存储
```

---

### 同类型题目推荐

1. **P1177 【模板】快速排序**  
   （基础排序算法实践）

2. **P1051 谁拿了最多奖学金**  
   （多条件排序+复杂规则计算）

3. **P1781 宇宙总统**  
   （大数比较与多字段排序）

---

### 可视化算法演示设计

#### 核心动画逻辑
1. **排序阶段**：
   - 展示选手按分数下沉的动态过程
   - 同分时用黄色高亮显示报名号比较

2. **分数线确定**：
   - 红色标记第 `floor(m*1.5)` 名的位置
   - 显示分数值及后续同分选手的蓝色扩展区域

3. **结果输出**：
   - 绿色高亮所有达标选手
   - 播放 "达标音效"（约 800Hz 方波）

#### 复古像素风格实现
```javascript
// Canvas 绘制示例
function drawCandidate(x, y, id, score, state) {
  ctx.fillStyle = stateColors[state]; // 状态色：默认灰/红/绿
  ctx.fillRect(x, y, 32, 32);         // 32x32 像素块
  drawText(x+2, y+12, `${id}`, 0xFFFFFF); 
  drawText(x+2, y+22, `${score}`, 0xFFFFFF);
}
```

#### 交互功能
- **步进控制**：空格键单步执行排序步骤
- **速度调节**：方向键调整动画速度（1x~10x）
- **自动演示**：A 键开启自动模式，ESC 暂停

---

### 关键代码片段

#### 最优题解核心逻辑
```cpp
// 结构体定义与排序规则
struct Candidate {
    int id, score;
    bool operator<(const Candidate& rhs) const {
        return score > rhs.score || 
              (score == rhs.score && id < rhs.id);
    }
};

// 分数线计算与统计
int cutoff_pos = m * 3 / 2; // 避免浮点运算
int cutoff_score = arr[cutoff_pos].score;
int total = 0;
while (arr[total].score >= cutoff_score) total++;
```

#### 像素动画核心逻辑（JavaScript）
```javascript
function animateSortStep() {
  if (step >= steps.length) return;
  
  // 高亮当前比较元素
  highlight(steps[step].i, 0xFFA500); 
  highlight(steps[step].j, 0xFFA500);
  
  // 播放交换音效
  if (steps[step].swap) playSound(1200, 0.1);
  
  // 更新画布
  requestAnimationFrame(render);
}
```

---

通过结合排序算法的可视化展示与游戏化交互设计，学习者可以直观理解多条件排序的核心逻辑，以及分数线划定时边界条件的处理技巧。复古像素风格与音效反馈增强了学习过程的趣味性，而单步执行功能则便于重点观察关键步骤的执行细节。

---
处理用时：77.13秒
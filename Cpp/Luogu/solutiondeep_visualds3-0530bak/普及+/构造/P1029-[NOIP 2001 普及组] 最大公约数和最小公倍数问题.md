# 题目信息

# [NOIP 2001 普及组] 最大公约数和最小公倍数问题

## 题目描述

输入两个正整数 $x_0, y_0$，求出满足下列条件的 $P, Q$ 的个数：

1. $P,Q$ 是正整数。

2. 要求 $P, Q$ 以 $x_0$ 为最大公约数，以 $y_0$ 为最小公倍数。

试求：满足条件的所有可能的 $P, Q$ 的个数。

## 说明/提示

$P,Q$ 有 $4$ 种：

1. $3, 60$。
2. $15, 12$。
3. $12, 15$。
4. $60, 3$。

对于 $100\%$ 的数据，$2 \le x_0, y_0 \le {10}^5$。

**【题目来源】**

NOIP 2001 普及组第二题

## 样例 #1

### 输入

```
3 60
```

### 输出

```
4
```

# AI分析结果



**唯一算法分类**：数论

---

### 题解思路与核心难点
**核心思路**：  
1. **数学性质应用**：利用 `gcd(a,b) * lcm(a,b) = a*b` 的性质，将问题转化为质因数分解问题。  
2. **互质条件**：当且仅当 `P = x0 * a`、`Q = x0 * b` 且 `a` 和 `b` 互质时满足条件，此时 `a*b = y0/x0`。  
3. **质因数分配**：对 `y0/x0` 进行质因数分解，每个质因数只能全部分配给 `a` 或 `b`，总共有 `2^k` 种组合（`k` 为不同质因数数量）。

**解决难点**：  
- **边界判断**：若 `y0 % x0 != 0`，直接输出 `0`。  
- **质因数分解优化**：通过分解 `y0/x0` 的质因数，快速计算组合数。  
- **避免重复枚举**：使用质因数分配代替暴力枚举，时间复杂度优化至 `O(sqrt(y/x))`。

---

### 题解评分（≥4星）
1. **樱雪喵（4星）**  
   - **亮点**：代码简洁，利用 `__gcd` 快速判断，通过枚举到 `sqrt(n)` 优化时间。  
   - **不足**：未处理 `y%x != 0` 的情况，需依赖输入特性。

2. **sochiji（5星）**  
   - **亮点**：数学推导严谨，质因数分解法高效，时间复杂度最优。  
   - **代码**：正确处理所有边界条件，输出 `2^k` 直接解决问题。

3. **zhangboju（4星）**  
   - **亮点**：详细证明 `gcd` 与 `lcm` 的数学性质，代码包含特判。  
   - **不足**：未完全优化质因数分解步骤。

---

### 最优思路提炼
**关键步骤**：  
1. **质因数分解**：将 `y0/x0` 分解为素因子乘积，统计不同素因子数量 `k`。  
2. **组合计算**：结果为 `2^k`，每个素因子有两种分配方式（属于 `a` 或 `b`）。

**代码实现**（sochiji的优化版）：
```cpp
#include <iostream>
int main() {
    int x, y;
    std::cin >> x >> y;
    if (y % x != 0) {
        std::cout << 0;
        return 0;
    }
    int k = y / x, cnt = 0;
    for (int d = 2; d * d <= k; ++d) {
        if (k % d == 0) {
            cnt++;
            while (k % d == 0) k /= d;
        }
    }
    if (k > 1) cnt++;
    std::cout << (1 << cnt);
    return 0;
}
```

---

### 同类题型与推荐题目
**类似算法套路**：  
- 利用 `gcd` 和 `lcm` 的性质进行质因数分解。  
- 将数对条件转化为互质数的组合问题。

**推荐题目**：  
1. P1072 [NOIP2009 提高组] Hankson 的趣味题  
2. P1414 又是毕业季II  
3. P2651 添加括号III  

---

### 可视化与算法演示
**动画设计**：  
1. **像素风格分解**：在 Canvas 网格中，将 `y0/x0` 的质因数显示为不同颜色方块。  
2. **分配过程**：点击方块切换颜色（红/蓝），表示分配给 `a` 或 `b`，右侧计数器实时更新组合数。  
3. **音效交互**：  
   - 分配时播放 8-bit 音效。  
   - 完成分解后播放胜利音效。  

**自动演示模式**：  
- AI 自动遍历所有质因数，随机分配颜色，展示 `2^k` 种组合的生成过程。  

---

**总结**：通过数论性质将问题转化为质因数分解，避免了暴力枚举，时间复杂度从 `O(sqrt(x*y))` 优化至 `O(sqrt(y/x))`。核心在于理解质因数分配的组合意义及数学性质的应用。

---
处理用时：123.11秒
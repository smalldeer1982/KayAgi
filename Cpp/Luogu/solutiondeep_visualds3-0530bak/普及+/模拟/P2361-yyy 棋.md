# 题目信息

# yyy 棋

## 题目描述

uim 最近在研究一种游戏，叫做“ yyy 棋”。

这种游戏的规则很简单，就是有一个 $A \times B$ 的棋盘和黑白两色的棋子，两个人轮流在下在格子里面。你可以下黑棋或者白棋，中途可以更换颜色，可以下在任何你喜欢的地方，但是要符合以下条件：

1. 这个位置不能已经被别的棋子占用。

2. 你准备下的地方，上下左右一格范围中不能有和你准备下的颜色一样的棋子。

3. 第一个下的人必须出黑子。


当谁没有地方可以放子，谁就输了。


uim 把你拉了出来，希望你好好地陪他玩。

由于你很忙不太情愿，uim 就让步了，允许你选择先手或者后手。


你突然灵光一现，想到了你小学奥数做到的一个问题：两个人坐在一张桌子的两边，轮流往桌子上放硬币，硬币不能重叠，谁放不下谁就输了。感觉有点类似，所以，你打算借鉴这个办法。

你知道，通过某种策略，你一定是 $100\%$ 赢的。

既然如此，就让 uim 输个痛快吧。

## 说明/提示

$40\%$ 数据，$2 \le A, B \le 3$。

$100\%$ 数据，$2 \le A, B \le 9$。

然而作为月赛的第一题，自然是简单的。因为标程的核心代码只有 $6$ 行。并不需要使用什么复杂算法就可以得到答案。


## 样例 #1

### 输入

```
2 2

1 2 1

1 1 1```

### 输出

```
Second

2 1 0

Buwanle```

# AI分析结果



## 算法分类选择
**博弈论（对称策略）**

---

## 题解思路与解决难点

### 核心思路
**对称策略**是本题的核心解法，通过镜像对称对手的落子位置来保证必胜。关键点如下：
1. **棋盘奇偶性判断**：若长宽均为奇数，存在中心点，选择先手占据中心；否则选择后手。
2. **颜色选择**：
   - 奇数棋盘：对称点颜色与对手相同。
   - 偶数棋盘：对称点颜色与对手相反，避免相邻冲突。
3. **合法性检查**：对手落子时需检查位置是否被占或存在相邻同色棋子。

### 解决难点
- **对称位置确定**：计算中心对称坐标 `(A-x+1, B-y+1)`。
- **颜色决策逻辑**：根据奇偶性动态调整颜色，确保不违反规则。
- **实时状态维护**：更新棋盘各格子的占用状态及颜色限制。

---

## 题解评分（≥4星）

### 1. 小恐（5星）
- **亮点**：代码简洁，直接根据奇偶性判断颜色策略，逻辑清晰。
- **关键代码**：
  ```cpp
  if((m*n)%2) printf("First\n%d %d 1\n",(m+1)/2,(n+1)/2),ji=1;
  else printf("Second\n"),ji=0;
  // 对称颜色处理
  if(ji) printf("%d %d %d\n",m-x+1,n-y+1,c);
  else printf("%d %d %d\n",m-x+1,n-y+1,1-c);
  ```

### 2. Zhou_yu（4星）
- **亮点**：详细维护棋盘状态，动态更新相邻格子的可用颜色。
- **关键代码**：
  ```cpp
  void update(int x, int y, int c) {
    for (int i=0; i<4; i++) {
      int tx = x + dx[i], ty = y + dy[i];
      if (c == 1) f[tx][ty].can_be_1 = 0;
      else f[tx][ty].can_be_0 = 0;
    }
  }
  ```

### 3. koreyoshi_lemon（4星）
- **亮点**：通过位运算简化颜色判断，代码紧凑。
- **关键函数**：
  ```cpp
  inline int cal(int k) { return (m*n&1) ? k : k^1; }
  ```

---

## 最优思路提炼
1. **奇偶定先手**：若 `A*B` 为奇数则先手，否则后手。
2. **镜像对称策略**：对手下 `(x,y)`，己方下 `(A-x+1,B-y+1)`。
3. **颜色动态调整**：
   ```python
   color = opponent_color if (A%2 and B%2) else 1-opponent_color
   ```

---

## 同类型题与算法套路
- **对称博弈**：常见于棋盘类游戏，如[Nim游戏](https://www.luogu.com.cn/problem/P2197)。
- **奇偶性分析**：用于判断先手优势，如[取石子游戏](https://www.luogu.com.cn/problem/P1288)。

---

## 推荐题目
1. [P1288 取石子游戏](https://www.luogu.com.cn/problem/P1288)
2. [P2197 Nim游戏](https://www.luogu.com.cn/problem/P2197)
3. [P2734 [USACO3.3]棋盘游戏](https://www.luogu.com.cn/problem/P2734)

---

## 可视化与算法演示

### 动画设计
- **棋盘渲染**：8位像素风格，格子高亮显示当前操作。
- **对称连线**：对手落子后，绘制虚线连接原点和对称点。
- **颜色标记**：
  - 黑色：`#000000`，白色：`#FFFFFF`。
  - 非法操作：闪烁红色边框。
- **音效设计**：
  - 落子：8位“滴”声。
  - 胜利：欢快旋律，失败：低沉蜂鸣。

### 交互功能
- **步进控制**：空格键单步执行。
- **自动模式**：AI自动完成对称策略。
- **奇偶切换**：滑动条调整棋盘尺寸，实时更新策略。

---

## 代码实现（核心逻辑）
```cpp
#include <iostream>
using namespace std;

int main() {
    int A, B;
    cin >> A >> B;
    
    // 判断先手策略
    bool is_odd = (A%2 && B%2);
    if (is_odd) {
        cout << "First" << endl;
        cout << (A+1)/2 << " " << (B+1)/2 << " 1" << endl;
    } else {
        cout << "Second" << endl;
    }
    
    int x, y, c;
    while (cin >> x >> y >> c) {
        // 对称位置与颜色计算
        int mirror_x = A - x + 1;
        int mirror_y = B - y + 1;
        int mirror_color = is_odd ? c : 1 - c;
        cout << mirror_x << " " << mirror_y << " " << mirror_color << endl;
    }
    return 0;
}
```

---

## 个人心得
- **调试教训**：初始未考虑偶数棋盘对称点相邻情况，导致颜色冲突。
- **思维突破**：通过小棋盘（如2x2、3x3）手工模拟验证策略正确性。

---
处理用时：91.15秒
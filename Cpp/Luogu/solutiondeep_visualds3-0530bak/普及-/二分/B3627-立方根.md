# 题目信息

# 立方根

## 题目描述

给定正整数 $n$，求 $\sqrt[3]{n}$。答案向下取整。

## 说明/提示

对于 $100\%$ 的数据，有 $n\leq 10^{15}$。



## 样例 #1

### 输入

```
27```

### 输出

```
3```

## 样例 #2

### 输入

```
100000```

### 输出

```
46```

## 样例 #3

### 输入

```
1000000000000000```

### 输出

```
100000```

# AI分析结果



## 算法分类
二分

## 综合分析与结论

### 核心思路与难点
题目要求立方根的向下取整，核心难点在于处理大数范围（n≤1e15）下的计算精度与效率。二分法通过精确的整数运算避免了浮点误差，是唯一完全可靠的方法。其关键要点：

1. **初始区间**：  
   右边界设为固定值 1e5（因 1e5³=1e15），避免 mid³ 计算溢出 long long 范围。
   
2. **收缩逻辑**：  
   - 若 mid³ ≤n，说明答案可能在右半区间，记录 mid 并左边界右移
   - 否则右边界左移，排除过大值

3. **边界处理**：  
   维护 ans 变量记录当前满足条件的最大值，确保循环结束时直接返回正确结果。

### 可视化设计
**动画方案**：  
- **像素网格**：在 Canvas 上用色块表示区间 [left, right]，当前 mid 标记为黄色，收缩时左右边界动态移动。
- **音效反馈**：  
  - 每次计算 mid³ 时触发短促 "beep" 音效  
  - 满足条件时播放高音效，收缩左边界；否则低音效，收缩右边界  
- **自动演示**：以 1s 间隔自动执行二分步骤，展示区间收缩过程。

## 题解清单（≥4星）

### 1. 二分法（5星）
- **亮点**：零误差整数运算，完美处理大数边界  
- **关键代码**：
  ```cpp
  long long l=0, r=1e5, ans=0;
  while (l <= r) {
      long long mid = (l+r)/2;
      if (mid*mid*mid <= n) {
          ans = mid;
          l = mid + 1;
      } else r = mid - 1;
  }
  cout << ans;
  ```

### 2. 牛顿迭代法（4星）
- **亮点**：数学优化，收敛速度快  
- **核心公式**：  
  \( x_{k+1} = \frac{2x_k + n/x_k^2}{3} \)

## 最优技巧提炼
1. **初始区间压缩**：通过数学分析固定右边界为 1e5，避免溢出  
2. **防溢出设计**：所有计算均在 long long 安全范围内  
3. **候选值记录法**：在条件分支中维护 ans，无需最终二次验证  

## 同类题目推荐
1. **P1024**（二分求三次方程根）  
2. **P1873**（二分答案求极值）  
3. **P1678**（二分查找最接近值）

## 代码实现（二分法）
```cpp
#include <iostream>
using namespace std;
int main() {
    long long n;
    cin >> n;
    long long l = 0, r = 1e5, ans = 0;
    while (l <= r) {
        long long mid = (l + r) / 2;
        if (mid * mid * mid <= n) {
            ans = mid;
            l = mid + 1;
        } else {
            r = mid - 1;
        }
    }
    cout << ans;
    return 0;
}
```

## 可视化演示（JS伪代码）
```javascript
// 初始化 Canvas
const canvas = initCanvas(); 
let [left, right] = [0, 1e5];

function drawInterval() {
    canvas.drawRect(left, right); // 绘制当前区间
    let mid = Math.floor((left + right)/2);
    canvas.highlight(mid);        // 高亮 mid
    let cube = mid ** 3;
    if (cube <= n) {
        playSound('high'); 
        left = mid + 1;
    } else {
        playSound('low');
        right = mid - 1;
    }
}
```

---
处理用时：218.50秒
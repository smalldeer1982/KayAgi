# 题目信息

# [NOIP 2001 提高组] 一元三次方程求解

## 题目描述

有形如：$a x^3 + b x^2 + c x + d = 0$  这样的一个一元三次方程。给出该方程中各项的系数（$a,b,c,d$ 均为实数），并约定该方程存在三个不同实根（根的范围在 $-100$ 至 $100$ 之间），且根与根之差的绝对值 $\ge 1$。要求由小到大依次在同一行输出这三个实根(根与根之间留有空格)，并精确到小数点后 $2$ 位。

提示：记方程 $f(x) = 0$，若存在 $2$ 个数 $x_1$ 和 $x_2$，且 $x_1 < x_2$，$f(x_1) \times f(x_2) < 0$，则在 $(x_1, x_2)$ 之间一定有一个根。

## 说明/提示

**【题目来源】**

NOIP 2001 提高组第一题

## 样例 #1

### 输入

```
1 -5 -4 20
```

### 输出

```
-2.00 2.00 5.00
```

# AI分析结果



**唯一算法分类**：二分法

---

### **题解思路、算法要点与解决难点**

**核心思路**：  
利用题目条件（根间距≥1），将区间划分为长度为1的小段，每个区间至多一个根。通过勘根定理判断区间是否有根，再在区间内使用二分法逼近精确解。

**关键步骤**：
1. **区间划分**：遍历[-100, 100]的每个整数区间[i, i+1]。
2. **端点检查**：若左端点i为根，直接输出。
3. **符号判断**：若f(i) * f(i+1) < 0，则区间内有根。
4. **二分缩进**：在区间内不断二分，直到精度达0.001（保证两位小数正确）。

**解决难点**：
- **精度控制**：二分终止条件设为区间长度<0.001，确保四舍五入后精确到两位小数。
- **端点去重**：仅检查左端点是否为根，避免重复处理右端点。

---

### **题解评分 (≥4星)**

1. **北街的九命貓 (5星)**  
   - **亮点**：清晰处理端点，二分逻辑简洁，提前终止循环优化效率。  
   - **代码可读性**：结构清晰，变量命名合理，注释明确关键步骤。

2. **GGN_2015 (4星)**  
   - **亮点**：牛顿迭代法实现，展示不同数学方法的结合。  
   - **优化点**：初始值选择间隔0.5，避免漏根，但需额外去重。

3. **小菜鸟 (4星)**  
   - **亮点**：割线法替代导数计算，适合无导数场景。  
   - **优化点**：步长0.5枚举初始值，防止除零错误。

---

### **最优思路或技巧提炼**

1. **二分法核心逻辑**：
   ```cpp
   while (r - l >= 0.001) {
       m = (l + r) / 2;
       if (fc(m) * fc(r) <= 0) l = m;  // 根在右半区间
       else r = m;                     // 根在左半区间
   }
   ```
   **关键点**：通过比较中点与右端点的函数值符号调整区间。

2. **暴力枚举优化**：
   ```cpp
   for (double i = -100; i <= 100; i += 0.001) {
       if (f(i) * f(i+0.001) < 0) 
           printf("%.2f ", (i + i+0.001)/2);
   }
   ```
   **技巧**：步长0.001保证覆盖所有可能根，输出中点避免精度误差。

---

### **同类型题或类似算法套路**

- **通用场景**：方程求根、单调区间查找、数值逼近。
- **相似题目**：  
  - **洛谷P1025**（数的划分）：区间划分与组合问题。  
  - **洛谷P1182**（数列分段）：二分答案验证可行性。  
  - **LeetCode 69**（x的平方根）：二分法求整数解。

---

### **推荐相似题目**

1. **P1025 数的划分**  
   **核心**：整数划分问题，类似区间分割思想。

2. **P1182 数列分段**  
   **核心**：二分答案验证最小最大值。

3. **P3382 【模板】三分法**  
   **核心**：单峰函数极值查找，类似数值逼近。

---

### **可视化与算法演示**

**动画设计**：  
1. **区间分割**：以网格展示[-100, 100]区间，高亮当前检查的[i, i+1]区间。  
2. **二分过程**：动态显示中点`m`，左右边界随符号变化移动，颜色标记收敛过程。  
3. **根标记**：找到根后显示为红色圆点，并记录坐标。

**复古像素风格**：  
- **调色板**：8位色（红、蓝、绿标记区间、中点、根）。  
- **音效**：  
  - **区间移动**：短促“滴”声。  
  - **找到根**：上扬音效。  
- **Canvas绘制**：网格动态更新，根坐标以像素字体显示。

---

### **个人心得摘录**

> **北街的九命貓**：  
> “不能判断右端点，会重复” —— 处理端点需谨慎，避免重复输出。  
> **调试经验**：初始未处理左端点直接为0的情况，导致漏解。

> **GGN_2015**：  
> “初始值间隔0.5，防止漏掉密集根” —— 平衡效率与覆盖率的关键。

---

### **核心代码（二分法）**

```cpp
#include<cstdio>
double a, b, c, d;

double fc(double x) {
    return a*x*x*x + b*x*x + c*x + d;
}

int main() {
    scanf("%lf%lf%lf%lf", &a, &b, &c, &d);
    for (int i = -100; i < 100; i++) {
        double l = i, r = i+1, x1 = fc(l), x2 = fc(r);
        if (!x1) printf("%.2lf ", l);
        if (x1 * x2 < 0) {
            while (r - l >= 0.001) {
                double m = (l + r) / 2;
                if (fc(m) * x2 <= 0) l = m;
                else r = m;
            }
            printf("%.2lf ", r);
        }
    }
    return 0;
}
```

---
处理用时：106.91秒
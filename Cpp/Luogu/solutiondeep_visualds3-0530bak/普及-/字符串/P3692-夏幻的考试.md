# 题目信息

# 夏幻的考试

## 题目背景

夏之幻是软件工程系的大神，学校把举办考试的任务交给她了。


## 题目描述

某大学软工专业要举办一场笔试，学生们要在机读答题卡上填写答案来进行答题。学校把机读卡识别任务交给了夏之幻，但是这套系统的需求太复杂了，她还要做自己的其他项(you)目(xi)，所以她想让你来帮忙实现一部分功能。

试卷分卷头，单选题两部分。

夏幻大神已经写好了识别程序，因此卷头和答案将直接以数字信息的形式呈现给你，你要实现下面几个功能:

需要处理T张试卷，按顺序检查下列选项。

1.检查考号的填写是否准确。

输入信息的格式:

一行，一个16位无符号二进制数id。表示考生的考号为id，正确的考号范围在十进制下是1~10000。

如果考号有错误，输出一行“Wrong ID”并结束对这张试卷的处理(剩下两个选项的数据依然要读入，但不输出任何内容)，不含引号。如果考号正确，输出一行,“ID: ”+一个整数，表示考号的十进制形式。不含引号。

无需考虑考号是否重复，只要在范围内均为正确。

2.检查试卷类型是否正确。

输入信息格式:

一行，两个整数，中间无分隔，只能是0或者1。第一个整数表示试卷类型A是否被涂黑(0表示未涂黑，1表示涂黑)，第二个整数表示试卷类型B是否涂黑。其实试卷类型可以由二进制考号的最后一位得到，0表示A卷，1表示B卷，你只需要检查考生填涂的是否正确。

如果考生将试卷类型正确填涂(填涂且只填涂了正确的那一项)，输出一行“Type Correct”，否则输出一行“Type Incorrect”，不含引号。无论试卷类型是否填涂正确，你还需要接着处理这张试卷。

3.给单选题打分。

单选题的数量n和标准答案将会在录入第一张试卷前给出。

考生答案的输入格式:

n行，每行4个整数，中间无分隔。每个整数是0或1。

按顺序分别代表A,B,C,D是否被涂黑(0表示未涂黑，1表示涂黑)。考生回答正确当且仅当该题正确答案的位置被涂黑，且错误答案的位置未被涂黑。

输出一行，一个四舍五入到小数点后1位的浮点数，表示考生的得分，满分为100分，每个题的分数相同。


## 说明/提示

对于100%的数据

1<=T<=1000

1<=n<=50

注意:

1.请在最后一个试卷处理完后也加上一个换行

2.由于win系统和linux系统换行的不同，建议不要使用scanf读入char


## 样例 #1

### 输入

```
2 5
ABCAD
0000000011111111
01
1000
0010
0100
1000
0010
1001001001001001
01
0001
1010
0111
1111
0000```

### 输出

```
ID: 255
Type Correct
40.0

Wrong ID```

## 样例 #2

### 输入

```
3 3
ABC
0000000000000000
01
1111
0001
0100
0000000000000010
10
1000
0100
0010
0000000000000011
11
0001
0000
0010
```

### 输出

```
Wrong ID

ID: 2
Type Correct
100.0

ID: 3
Type Incorrect
33.3
```

## 样例 #3

### 输入

```
5 31
ACAACCDDBBDADDCBCACCDBCAACAAAAC
0000101111000001
10
1000
0010
1000
1111
0010
0010
0001
0001
0100
0100
0001
1000
0001
0001
0010
1111
0010
1000
0010
0010
0001
0100
1111
1000
1000
0010
1000
0100
1000
1000
0010
0000010101001111
10
1000
0010
1000
1000
0010
0010
0001
0001
0100
0100
0001
1000
0001
0001
0010
0100
1000
1000
0000
0010
0001
0100
0010
1000
1000
0010
1000
1000
0000
0000
0010
0001110001100110
11
1000
0010
1000
1000
0010
0010
0001
0001
0100
0100
0001
1000
0010
0100
0010
0100
0010
0100
0010
0010
0001
0100
0010
1000
1000
0010
1000
1111
1000
1000
0010
0001001111110001
10
1010
0010
1000
1000
0010
0010
0001
0001
0100
0100
0010
1000
0001
0001
0010
0100
0010
1000
0010
0010
0001
0100
0010
1000
1000
0010
1000
1000
1000
1000
0010
0001110010000100
10
1000
0010
1000
1000
0000
0010
0001
0001
0100
0100
0001
1000
0001
0001
0001
0100
0010
1000
0010
0010
0001
0100
0010
1000
1000
0010
1000
1000
0000
1000
0001
```

### 输出

```
ID: 3009
Type Incorrect
87.1

ID: 1359
Type Incorrect
87.1

ID: 7270
Type Incorrect
87.1

ID: 5105
Type Incorrect
93.5

ID: 7300
Type Correct
87.1
```

# AI分析结果



## 唯一算法分类  
**模拟**

---

## 题解思路与解决难点  

### 核心逻辑分析  
1. **二进制考号验证**  
   - 难点：16位二进制转十进制，需处理最高位权重为2^15（非2^16）  
   - 解法：逐位累加，`id += (bit) * pow(2, 15 - pos)`  

2. **试卷类型判断**  
   - 关键：考号末位决定类型（0→A卷需填涂10，1→B卷需填涂01）  
   - 优化：直接比对字符串，如 `if(qwq == "01" && 末位为1)`  

3. **单选题评分**  
   - 核心：预存标准答案的4位01串（如A=1000），与考生答案逐题比对  
   - 陷阱：必须严格匹配，多涂/少涂均判错  

### 题解对比与亮点  
1. **SLYZ_0120（4.5星）**  
   - 亮点：模块化分函数处理三步骤，预转换标准答案提升比对效率  
   - 代码：`pow(2,16-i)` 处理权重，`string A="1000"` 预定义选项模式  

2. **反比例函数（4星）**  
   - 亮点：使用预计算的2^n数组替代pow函数，优化性能  
   - 关键代码：`const int pow2x[16]={1,2,4,8...32768}`  

3. **Eason_AC2（3.5星）**  
   - 特点：结构体存储试卷数据，`scanf("%1d")`逐位读取  
   - 不足：未预转换答案，比对时需多次条件判断  

---

## 最优思路与技巧  
1. **答案预转换**  
   将标准答案（如'A'）预先转为"1000"字符串，考生答案直接字符串比对  

2. **批量读取规避换行问题**  
   使用`cin`代替`scanf`，避免跨平台换行符差异  

3. **错误处理优化**  
   考号错误时用`for循环读取剩余输入`，避免干扰后续数据处理  

---

## 同类型题与算法套路  
**相似思维模式题目**  
1. **P1055 ISBN号码**：分段验证与字符处理  
2. **P1067 多项式输出**：条件分支与格式化输出  
3. **P1598 垂直柱状图**：统计与多行字符输出  

---

## 推荐洛谷题目  
1. **P1055 ISBN号码**（字符串验证）  
2. **P1308 统计单词数**（模式匹配与边界处理）  
3. **P1321 单词覆盖还原**（字符序列模式识别）  

---

## 可视化设计：复古像素风算法演示  

### 核心动画逻辑  
1. **二进制考号转换**  
   - 16位二进制码逐位高亮，右侧实时显示十进制累加值  
   - 错误时红色闪烁，正确时绿色边框  

2. **试卷类型判定**  
   - 左侧显示考号末位（像素化0/1），右侧显示填涂区（2x2像素块）  
   - 正确时AB卷图标跳动，错误时交叉红叉动画  

3. **答题评分过程**  
   - 每道题展开4选项像素块，标准答案绿色边框，考生答案黄色填充  
   - 错误题目标记红叉，底部实时更新分数进度条  

### 复古交互细节  
- **音效设计**  
  - 正确：8-bit 上升音阶（类似《超级玛丽》吃金币）  
  - 错误：短促爆破音（类似《魂斗罗》中弹）  
  - 换屏：经典FC翻页音效  

- **自动演示模式**  
  按`[A]键`切换自动/手动，速度可调（1x/2x/4x）  

### 关键代码片段（Canvas绘制）  
```javascript
// 绘制二进制转换动画
function drawID(bits, currentPos) {
  ctx.fillStyle = "#8B8B8B"; // FC灰色调
  bits.forEach((bit, idx) => {
    if(idx === currentPos) ctx.fillStyle = "#FFD700"; // 高亮当前位
    ctx.fillRect(20 + idx*16, 50, 12, 12); // 16位方块
    ctx.fillText(bit, 24 + idx*16, 60);
  });
}
```

---

## 调试心得摘录  
> **SLYZ_0120**：  
> "本地测试全过，提交WA发现是Windows换行符问题，全部改用cin和endl后AC"  
>   
> **引领天下**：  
> "将试卷类型判断简化为`s[kh&1]='0'`，利用位运算替代字符串比对"  

---

## 总结  
本题通过分步骤模拟实现机读卡处理，重点考察输入格式化处理与状态验证。最优解通过预转换和模块化设计提升可维护性，复古可视化方案则通过像素动画和经典音效增强理解趣味性。

---
处理用时：64.10秒
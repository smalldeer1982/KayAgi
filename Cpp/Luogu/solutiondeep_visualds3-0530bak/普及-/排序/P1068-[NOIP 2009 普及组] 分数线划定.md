# 题目信息

# [NOIP 2009 普及组] 分数线划定

## 题目描述

世博会志愿者的选拔工作正在 A 市如火如荼的进行。为了选拔最合适的人才，A 市对所有报名的选手进行了笔试，笔试分数达到面试分数线的选手方可进入面试。面试分数线根据计划录取人数的 $150\%$ 划定，即如果计划录取 $m$ 名志愿者，则面试分数线为排名第 $m \times 150\%$（向下取整）名的选手的分数，而最终进入面试的选手为笔试成绩不低于面试分数线的所有选手。

现在就请你编写程序划定面试分数线，并输出所有进入面试的选手的报名号和笔试成绩。

## 说明/提示

【样例说明】

$m \times 150\% = 3 \times150\% = 4.5$，向下取整后为 $4$。保证 $4$ 个人进入面试的分数线为 $88$，但因为 $88$ 有重分，所以所有成绩大于等于 $88$ 的选手都可以进入面试，故最终有 $5$ 个人进入面试。

NOIP 2009 普及组 第二题


## 样例 #1

### 输入

```
6 3 
1000 90 
3239 88 
2390 95 
7231 84 
1005 95 
1001 88```

### 输出

```
88 5 
1005 95 
2390 95 
1000 90 
1001 88 
3239 88 ```

# AI分析结果



### 唯一算法分类
排序与模拟

---

### 综合分析与结论
**核心思路**  
1. 对考生按分数降序、报名号升序排序  
2. 确定分数线为第 floor(m*1.5) 名的分数  
3. 统计所有不低于分数线的考生数量  

**解决难点**  
- 正确处理同分考生（需包含所有同分者）  
- 避免直接截取前 floor(m*1.5) 人导致遗漏后续同分考生  

**算法流程可视化设计**  
1. 排序动画：用不同颜色区分分数段，动态展示元素交换  
2. 分数线标记：高亮第 floor(m*1.5) 名考生（红色框）  
3. 同分扩展：用绿色渐变动画显示后续同分考生被纳入范围  
4. 输出阶段：按排序结果逐个弹出考生信息  

---

### 题解清单 (≥4星)

#### 1. 「已注销」题解（5星）
- **亮点**：下标数组排序节省内存，逻辑简洁  
- **关键代码**：`sort(sub+1,sub+n+1,cmp)` 通过下标访问原数组  
- **优化点**：用 `s[sub[i]]>=f` 动态统计实际录取人数  

#### 2. 用户 ryf2011 题解（4星）
- **亮点**：明确处理同分考生的累加逻辑  
- **关键代码**：`if(p[i].s==p[lq].s) cnt++`  
- **注意点**：需确保 `lq+cnt` 不超过数组边界  

#### 3. 用户 WsW_ 题解（4星）
- **亮点**：使用结构化变量命名提升可读性  
- **关键代码**：`for(i=1; s[sub[i]]>=f; i++)` 简洁的循环条件  
- **优化点**：将分数比较与报名号排序分离  

---

### 核心代码实现
```cpp
struct Node { int id, score; };
bool cmp(Node a, Node b) {
    return a.score != b.score ? a.score > b.score : a.id < b.id;
}

vector<Node> arr(n);
sort(arr.begin(), arr.end(), cmp);

int cutoff_pos = m * 1.5;
int cutoff_score = arr[cutoff_pos-1].score;

int count = 0;
while (count < n && arr[count].score >= cutoff_score) count++;

// 输出结果
cout << cutoff_score << " " << count << endl;
for(int i=0; i<count; i++) 
    cout << arr[i].id << " " << arr[i].score << endl;
```

---

### 可视化设计要点
**复古像素风格实现**  
1. **颜色方案**：8位色（#FF0000 分数线标记，#00FF00 录取考生）  
2. **Canvas动画**：  
   - 考生显示为带编号的像素方块  
   - 排序时交换动画使用马赛克特效  
   - 分数线位置持续闪烁红色边框  
3. **音效设计**：  
   - 排序完成时播放8-bit胜利音效  
   - 每个录取考生显示时触发"哔"声  

**自动演示模式**  
```javascript
function autoDemo() {
    highlightElement(cutoffPos); // 高亮分数线位置
    setTimeout(() => {
        expandSameScore();       // 扩展同分考生
        showResult();           // 渐现结果列表
    }, 2000);
}
```

---

### 相似题目推荐
1. P1051 谁拿了最多奖学金（结构体多条件排序）  
2. P1908 逆序对（排序过程中的统计）  
3. P1177 【模板】快速排序（基础排序应用）  

---

### 调试心得摘录
> "最初直接截取前m*1.5人，未考虑后续同分情况导致WA。通过添加遍历统计修复此问题。" —— 用户 ryf2011  
> "使用下标数组避免了结构体拷贝，内存效率提升约40%" —— 用户 「已注销」  
> "将m*1.5转换为整数时，发现浮点精度问题，改用整数运算解决" —— 用户 langni  

---

### 像素化动画示例
![排序过程动画示意图](https://via.placeholder.com/600x400/000/fff.png?text=Pixel+Sorting+Animation)  
（图示：绿色方块表示已录取考生，红色边框标记分数线位置，黄色箭头展示排序交换过程）

---
处理用时：64.71秒
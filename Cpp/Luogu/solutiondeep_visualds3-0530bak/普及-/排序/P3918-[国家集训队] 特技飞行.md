# 题目信息

# [国家集训队] 特技飞行

## 题目背景

1. wqs 爱好模拟飞行。

2. clj 开了一家神犇航空，由于 clj 还要玩游戏，所以公司的事务由你来打理。

注意：题目中只是用了这样一个背景，并不与真实/模拟飞行相符

## 题目描述

神犇航空开展了一项载客特技飞行业务。每次飞行长 $n$ 个单位时间，每个单位时间可以进行一项特技动作，可选的动作有 $k$ 种，每种动作有一个刺激程度 $c_i$。如果连续进行相同的动作，乘客会感到厌倦，所以定义某次动作的价值为(距上次该动作的时间) $ \times c_i$，若为第一次进行该动作，价值为 $0$。安排一种方案，使得总价值最大。

## 说明/提示

#### 数据规模与约定

- 对于 $10\%$ 的测试数据，$n \le 20$，$k \le 3$。
- 对于 $100\%$ 的测试数据，$1 \le n \le 10^3$，$1 \le k \le 300$，$0 \le c_i \le 10^3$。

## 样例 #1

### 输入

```
5 2
2 2```

### 输出

```
12

```

# AI分析结果



## 算法分类
**贪心**

---

## 题解思路与难点分析
### 核心思路
所有题解均基于**贪心策略**，核心思想是：**刺激程度越大的动作，应分配最大的时间间隔**。通过将动作按刺激程度降序排列，依次将最大的间隔分配给当前最大的刺激值。

### 关键步骤推导
1. **贡献公式**：每个动作的贡献为 `c_i × (最后一次时间 - 第一次时间)`，与中间执行次数无关。
2. **间隔分配**：对于排序后的动作列表，从最大的间隔开始分配（两端向中间缩进），每次分配后可用间隔减少2（因两端各占一个时间单位）。

### 难点解决
- **贪心正确性证明**：通过反证法可证，若存在更优解，必然可通过交换动作顺序获得更大值，与贪心策略矛盾。
- **间隔计算**：初始最大间隔为 `n-1`（如时间点 `1` 和 `n` 的间隔为 `n-1`），每次分配后间隔减少2。

---

## 题解评分（≥4星）
1. **SuperJvRuo（5星）**  
   - 思路清晰，代码简洁高效。  
   - 通过排序降序后直接累加贡献，逻辑直观。  
   - 时间复杂度为 `O(k log k)`，适合题目规模。

2. **KillerXu（4星）**  
   - 详细注释，明确处理前 `n/2` 个动作。  
   - 针对奇偶性说明中间位置不影响结果，增强可读性。

3. **TheAutumnGlory（4星）**  
   - 双指针模拟两端缩进，直观展示间隔分配。  
   - 代码结构清晰，易于理解贪心过程。

---

## 最优思路提炼
### 核心技巧
1. **排序降序**：将刺激程度从大到小排序。
2. **间隔递减分配**：初始间隔为 `n-1`，每次减少2（对应两端各占一个时间点）。
3. **贡献累加**：直接累加 `当前间隔 × 当前刺激值`。

### 代码实现片段
```cpp
std::sort(c, c + k, std::greater<int>());
int ans = 0, interval = n - 1;
for (int i = 0; i < k && interval > 0; i++, interval -= 2) {
    ans += interval * c[i];
}
```

---

## 类似题目推荐
1. **P1090 [NOIP2004 提高组] 合并果子**（贪心 + 优先队列）
2. **P1223 [JSOI2009] 游戏**（贪心策略设计）
3. **P1080 [NOIP2012 提高组] 国王游戏**（贪心 + 高精度）

---

## 个人心得摘录
- **三好代表**：“贪完后就找一个变量 `ans` 来存总价值”——强调贪心策略的直观性。
- **qr的小迷妹**：“多推几种情况”验证贪心正确性，强化理解。

---

## 可视化设计
### 动画方案
1. **时间轴显示**：以像素风格横向展示时间轴，初始全为灰色。
2. **颜色标记**：当前处理的 `c_i` 对应颜色高亮，两端时间点标记为同色。
3. **贡献显示**：每次分配后显示当前贡献值及总价值更新。
4. **音效触发**：分配时播放清脆音效，完成时播放上扬音调。

### 复古像素风格
- **颜色方案**：16色调色板，时间轴为深灰，当前操作为亮黄/蓝。
- **Canvas 网格**：每个时间点用像素块表示，分配后填充对应颜色。

### 交互功能
- **步进控制**：支持暂停/继续/单步执行。
- **速度调节**：滑动条控制动画速度（1x~5x）。
- **自动演示**：AI 模式自动完成贪心分配，展示最优解过程。

---

## 总结
本题通过贪心策略将最大刺激动作分配最大间隔，实现高效求解。可视化设计通过复古像素动画和音效增强学习体验，适合理解贪心算法的核心思想。

---
处理用时：124.83秒
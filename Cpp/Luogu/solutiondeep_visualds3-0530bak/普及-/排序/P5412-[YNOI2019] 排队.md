# 题目信息

# [YNOI2019] 排队

## 题目描述

小明所在的班级要举办一场课外活动，在活动开始之前老师告诉小明：“需要把男女生分成两队，并且每一队都要按照身高从矮到高进行排序”。但是由于小明的马虎，没有把老师的安排转达给同学，导致全班同学已经排成了一列。活动马上要开始了，小明的老师对此很困扰，你能帮帮她吗？


## 说明/提示

对于 $60\%$ 的数据：$0 < n \leq 10^{2}$，$100 \leq h \leq 200$。

对于 $80\%$ 的数据：$0 < n \leq 10^{3}$ ，$100 \leq h \leq 200$。

对于 $100\%$ 的数据：$0 < n \leq 2\times 10^{3}$，$100 \leq h \leq 200$，$T\le 5$。

## 样例 #1

### 输入

```
1
5
1 0 1 0 1
120.2 130.3 140.4 150.5 160.6
```

### 输出

```
130.3 150.5
120.2 140.4 160.6
```

# AI分析结果



# 算法分类
**排序算法应用**

---

## 题解思路与核心难点
### 核心算法流程
1. **分组存储**：将输入数据按性别分到两个独立数组（男/女）
2. **双数组排序**：分别对两个数组进行升序排序
3. **输出处理**：按题目要求先输出女生再输出男生

### 解决难点
- **浮点精度处理**：必须用`cout`输出保留原始小数位数（如样例的130.3需输出小数点后一位，而非四舍五入）
- **多组数据重置**：每组测试数据需清空数组和计数器
- **输入顺序处理**：性别与身高为两个独立输入流，需顺序读取

### 可视化设计要点
1. **像素动画**：用不同颜色方块表示男女，高度映射真实身高比例
   - 蓝色方块（女生） | 红色方块（男生）
   - 初始乱序排列 → 动态分离为两列 → 各自排序动画
2. **音效设计**：
   - 分离操作：播放短促"滴"声
   - 排序完成：播放8-bit胜利音效
3. **步进控制**：可单步查看分组、排序、输出的三个阶段

---

## 高星题解推荐（≥4星）

### 1. _hyc_（★★★★☆）
- **亮点**：极简实现，直接使用两个固定数组分离男女数据
- **关键代码**：
  ```cpp
  if(a[i]==1) b1[cnt1++]=h;
  else b2[cnt2++]=h;
  sort(b1+1, b1+cnt1);
  ```

### 2. HsKr（★★★★★）
- **亮点**：结构体存储后整体排序，保证原始相对顺序
- **核心思想**：
  ```cpp
  struct node { bool sex; double hei; };
  sort(a+1, a+n+1, cmp); // 先按身高排序
  ```

### 3. Starwings33（★★★★☆）
- **亮点**：强调浮点数输出陷阱，提供完整IO处理方案
- **警示点**：
  ```cpp
  cout << g[j] << " "; // 必须用cout自动保留小数位
  ```

---

## 最优技巧提炼
1. **分组排序法**：时间复杂度O(n logn)，空间O(n)
2. **流式输入处理**：先读全部性别，再按序读取身高
   ```cpp
   for(i=1~n) cin >> gender[i];
   for(i=1~n) cin >> height[i];
   ```
3. **容器选择**：优先使用`vector`动态数组（见Lee02的优先队列解法）

---

## 相似题目推荐
1. **P1177 【模板】快速排序** - 基础排序应用
2. **P1059 明明的随机数** - 数据去重+排序
3. **P1781 宇宙总统** - 多条件排序（长度+字典序）

---

## 关键代码实现
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

int main() {
    int T; cin >> T;
    while(T--) {
        int n; cin >> n;
        vector<bool> gender(n);
        vector<double> male, female;
        
        for(int i=0; i<n; ++i) cin >> gender[i];
        for(int i=0; i<n; ++i) {
            double h; cin >> h;
            (gender[i] ? male : female).push_back(h);
        }
        
        sort(female.begin(), female.end());
        sort(male.begin(), male.end());
        
        for(auto& h : female) cout << h << " ";
        cout << "\n";
        for(auto& h : male) cout << h << " ";
        cout << "\n";
    }
    return 0;
}
```

---

## 可视化算法演示
```html
<div id="visual">
  <canvas id="canvas" width="800" height="300"></canvas>
  <div id="controls">
    <button onclick="prevStep()">← Prev</button>
    <button onclick="nextStep()">Next →</button>
    <span>Speed: </span>
    <input type="range" min="1" max="5" value="3" onchange="setSpeed(this.value)">
  </div>
</div>
<script>
// 伪代码示例
let data = [{gender:0, h:130.3}, {gender:1, h:120.2}, ...];
let step = 0;

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  data.forEach((d, i) => {
    ctx.fillStyle = d.gender ? '#FF4444' : '#4444FF';
    drawRect(i*30, 200-d.h*1.5, 25, d.h*1.5); // 身高映射
  });
}

function nextStep() {
  if(step === 0) separateGender(); // 分组动画
  else if(step === 1) sortGroups(); // 排序动画
  step = (step + 1) % 3;
}
</script>
```

---
处理用时：60.89秒
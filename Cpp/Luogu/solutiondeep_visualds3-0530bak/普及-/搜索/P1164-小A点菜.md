# 题目信息

# 小A点菜

## 题目背景

uim 神犇拿到了 uoi 的 ra（镭牌）后，立刻拉着基友小 A 到了一家……餐馆，很低端的那种。

uim 指着墙上的价目表（太低级了没有菜单），说：“随便点”。


## 题目描述

不过 uim 由于买了一些书，口袋里只剩 $M$ 元 $(M \le 10000)$。

餐馆虽低端，但是菜品种类不少，有 $N$ 种 $(N \le 100)$，第 $i$ 种卖 $a_i$ 元 $(a_i \le 1000)$。由于是很低端的餐馆，所以每种菜只有一份。

小 A 奉行“不把钱吃光不罢休”的原则，所以他点单一定刚好把 uim 身上所有钱花完。他想知道有多少种点菜方法。

由于小 A 肚子太饿，所以最多只能等待 $1$ 秒。


## 说明/提示

2020.8.29，增添一组 hack 数据 by @yummy

## 样例 #1

### 输入

```
4 4
1 1 2 2
```

### 输出

```
3
```

# AI分析结果



## 算法分类选择  
**其他搜索**  
（注：此题核心解法为动态规划，但按用户分类要求选择最接近的「其他搜索」。实际应归类为动态规划）

---

## 题解思路、算法要点与解决难点  

### 核心思路对比
1. **动态规划本质**：所有题解均基于01背包变种，状态定义为 `f[j]` 表示恰好花完j元的方案数。  
2. **状态转移方程**：核心公式为 `f[j] += f[j - a[i]]`，本质是叠加「不选当前菜」与「选当前菜」的方案数。  
3. **初始化难点**：`f[0] = 1` 是关键边界条件，表示花0元有1种方案（不选任何菜）。  

### 解决难点
- **空间优化**：多数题解通过逆序遍历金额维度（从m到a[i]）将二维DP压缩至一维，避免覆盖未计算的状态。  
- **状态叠加逻辑**：部分题解（如康师傅）通过先处理金额大于菜价的情况，最后单独处理等于菜价的情况，简化条件判断。

---

## 题解评分 (≥4星)  

1. **衡屿睿（4.5星）**  
   - 亮点：二维DP思路最清晰，分条件推导状态转移，适合初学者理解。  
   - 不足：未优化空间复杂度，代码冗余度高。  

2. **Dream_zhc（5星）**  
   - 亮点：详细推导二维转一维过程，对比正向/逆向遍历差异，附可视化示意图。  
   - 代码优化：一维数组实现，空间复杂度O(m)。  

3. **WilliamPen（4.5星）**  
   - 亮点：代码简洁，注释明确，直接给出优化后的一维实现。  
   - 不足：缺乏推导过程，对边界条件解释较少。  

---

## 最优思路或技巧提炼  

1. **一维DP逆序更新**：  
   ```cpp
   for (int i = 1; i <= n; i++)
     for (int j = m; j >= a[i]; j--)
       f[j] += f[j - a[i]];
   ```  
   - 逆序防止重复计数，保证每个菜品仅被选择一次。  

2. **边界条件初始化**：  
   `f[0] = 1` 是关键，表示空方案的合法状态。  

3. **输入与处理分离**：部分题解（如康师傅）边读入边处理，节省内存。  

---

## 同类型题或类似算法套路  

- **子集和问题**：如「换零钱（LeetCode 518）」。  
- **存在性判定**：如「分割等和子集（LeetCode 416）」。  
- **组合优化**：如「目标和（LeetCode 494）」。  

---

## 推荐相似题目  
1. **P1048 采药**（01背包基础）  
2. **P1616 疯狂的采药**（完全背包）  
3. **P1060 开心的金明**（带权01背包）  

---

## 个人心得摘录  
- **Dream_zhc**：通过二维表格直观展示状态转移，降低理解难度。  
- **魔芋桑**：强调逆序遍历的重要性，避免因正序更新导致的重复计数。  
- **康师傅**：边读入边处理，优化内存占用，适合大数据场景。  

---

## 可视化与算法演示  

### 动态规划数组填充动画  
1. **网格绘制**：  
   - 横向为金额（0~m），纵向为菜品序号。  
   - 初始时仅 `f[0]` 高亮为绿色（初始状态）。  

2. **逐步更新**：  
   - 每处理一个菜品，从右至左更新金额列。  
   - 当前处理的单元格闪烁黄色，更新后变为蓝色。  

3. **复古像素风格**：  
   - 使用8-bit风格颜色（#00FF00初始，#FFFF00处理中，#0000FF完成）。  
   - 音效：更新时播放“哔”声，完成时播放“叮咚”声。  

### 交互控制  
- **步进/暂停**：允许逐菜品或逐金额查看更新过程。  
- **速度调节**：滑动条控制动画速度（0.5x~5x）。  

---

## 核心代码实现（一维优化版）  
```cpp
#include <iostream>
using namespace std;

int main() {
    int n, m, a[101], f[10001] = {1};
    cin >> n >> m;
    for (int i = 1; i <= n; ++i) cin >> a[i];
    for (int i = 1; i <= n; ++i)
        for (int j = m; j >= a[i]; --j)
            f[j] += f[j - a[i]];
    cout << f[m];
    return 0;
}
```

---
处理用时：59.23秒
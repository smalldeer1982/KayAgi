# 题目信息

# [常州市赛 2021] 鸡羊同栏

## 题目背景

搬运自 <http://czoj.com.cn/p/439>。数据为民间数据。

## 题目描述

小 $\text{X}$ 是 $\text{CZ}$ 市著名的牧场主。他把 $A$ 只鸡和 $B$ 只羊圈养在一个围栏中。   
一只正常的鸡有 $0$ 只角、 $2$ 条腿；一只正常的羊有 $2$ 只角、 $4$ 条腿。   
某一天，一道神秘的宇宙射线击中了牧场，导致其中的**至多一个动物**发生了变异。   
变异的动物角的只数与腿的条数中**至少有一个**数量变化了。例如，一只正常的鸡变异成了 $3$ 只角 $2$ 条腿。注意：**变异以后动物也不可能有负数个数的角或腿**。   
小 $\text{X}$ 只知道鸡和羊的数量、以及笼子中的动物一共有 $C$ 只角 $D$ 条腿。他想请你帮忙搞清楚变异的情况是什么。 

## 说明/提示

### 样例 $\textbf 1$ 解释
只可能是一只羊变异成了 $1$ 只角 $7$ 条腿 $(0+0+1+2=3,2+2+7+4=15)$。  
### 样例 $\textbf 2$ 解释
$0+0+2+2=4,2+2+4+4=12$，不可能有动物变异。  
### 数据范围
本题共有 $10$ 个测试点。  
对于所有数据，$0 \le A,B,C,D \le 10^9$。
|测试点编号|$A,B,C,D$|
|:-:|:-:|
|$1\sim6$|$\le10^3$|
|$7\sim10$|$\le 10^9$| 

## 样例 #1

### 输入

```
2 2 3 15```

### 输出

```
-1
1 7```

## 样例 #2

### 输入

```
2 2 4 12```

### 输出

```
-1
-1```

# AI分析结果



## 算法分类
无算法分类

## 综合分析与结论
题目要求判断鸡或羊变异后的角和腿数，满足至多一个动物变异且至少一个属性变化。核心思路是：
1. 计算正常情况下的总角数（2B）和腿数（2A+4B）。
2. 用给定C、D减去正常值得到差异值c、d。
3. 若c、d均为0，说明无变异，输出两个-1。
4. 否则，分别判断鸡或羊变异的可能性：
   - 鸡变异需A≥1且变异后的角c≥0、腿d+2≥0。
   - 羊变异需B≥1且变异后的角c+2≥0、腿d+4≥0。

### 可视化设计思路
1. **动画演示**：动态展示正常角/腿数与变异后的差异，高亮显示c、d的计算过程，以及鸡/羊变异条件的判断。
2. **颜色标记**：正常值为绿色，差异值c、d为红色，满足条件的解用蓝色，不满足用灰色。
3. **交互控制**：允许调整A、B、C、D的值，实时更新变异结果，展示条件判断流程。

## 题解评分（≥4星）
无题解达到4星标准，主要问题为未处理动物数量为0的情况。建议补充条件判断。

## 最优思路与技巧
1. **差异值计算**：通过c=C-2B，d=D-(2A+4B)简化变异影响。
2. **条件叠加**：同时检查非负性和动物存在性（A/B≥1）。
3. **统一处理**：将鸡、羊变异统一为差异值的偏移（+2或+4）。

## 同类型题与算法套路
类似数学推导题，如：
1. **鸡兔同笼问题**：通过总腿数差异推导动物数量。
2. **物品替换问题**：通过属性差异判断替换情况。

## 推荐题目
1. P1044 [NOIP2003 普及组] 栈
2. P1024 [NOIP2001 提高组] 一元三次方程求解
3. P1008 三连击

## 个人心得
- **边界条件**：需特别注意A=0或B=0时，对应动物无法变异。
- **差异陷阱**：当总差异由多动物贡献时，需保证仅一个动物变异。

## 核心代码实现
```cpp
#include <iostream>
using namespace std;

int main() {
    long long A, B, C, D;
    cin >> A >> B >> C >> D;
    long long c = C - 2 * B;
    long long d = D - (2 * A + 4 * B);
    
    // 无变异情况
    if (c == 0 && d == 0) {
        cout << "-1\n-1\n";
        return 0;
    }
    
    // 鸡变异检查
    bool chickenValid = (A >= 1) && (c >= 0) && (d + 2 >= 0);
    // 羊变异检查
    bool sheepValid = (B >= 1) && (c + 2 >= 0) && (d + 4 >= 0);
    
    // 输出鸡变异结果
    if (chickenValid) cout << c << " " << d + 2 << "\n";
    else cout << "-1\n";
    // 输出羊变异结果
    if (sheepValid) cout << c + 2 << " " << d + 4 << "\n";
    else cout << "-1\n";
    
    return 0;
}
```

## 可视化方案
1. **Canvas绘制**：用网格表示鸡/羊，正常属性为绿色，变异属性为红色。
2. **步进演示**：分步骤显示c、d计算、条件判断，高亮当前检查的动物。
3. **音效提示**：正确解播放成功音效，无效解播放错误音效。

---

**注意事项**：上述代码补充了对A、B≥1的判断，解决了原题解中的潜在问题。

---
处理用时：304.37秒
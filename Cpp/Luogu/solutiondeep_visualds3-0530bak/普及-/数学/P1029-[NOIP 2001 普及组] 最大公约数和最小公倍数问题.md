# 题目信息

# [NOIP 2001 普及组] 最大公约数和最小公倍数问题

## 题目描述

输入两个正整数 $x_0, y_0$，求出满足下列条件的 $P, Q$ 的个数：

1. $P,Q$ 是正整数。

2. 要求 $P, Q$ 以 $x_0$ 为最大公约数，以 $y_0$ 为最小公倍数。

试求：满足条件的所有可能的 $P, Q$ 的个数。

## 说明/提示

$P,Q$ 有 $4$ 种：

1. $3, 60$。
2. $15, 12$。
3. $12, 15$。
4. $60, 3$。

对于 $100\%$ 的数据，$2 \le x_0, y_0 \le {10}^5$。

**【题目来源】**

NOIP 2001 普及组第二题

## 样例 #1

### 输入

```
3 60
```

### 输出

```
4
```

# AI分析结果



**算法分类**：数论

---

### **题解思路与核心难点**
**核心公式**：  
对于满足条件的数对 (P, Q)，必满足：  
$$ P \times Q = x_0 \times y_0 $$  
且  
$$ \gcd(P, Q) = x_0, \quad \operatorname{lcm}(P, Q) = y_0 $$  

**关键推导**：  
1. **素因数分解法**（sochiji 题解）：  
   - 若 $y_0$ 不被 $x_0$ 整除，则无解。  
   - 令 $k = y_0 / x_0$，对 $k$ 进行素因数分解，得到 $m$ 个不同素因子。  
   - 每个素因子可分配给 $P/x_0$ 或 $Q/x_0$，共 $2^m$ 种组合。  

2. **枚举法**（樱雪喵 题解）：  
   - 枚举 $i$ 至 $\sqrt{x_0 y_0}$，若 $i$ 和 $(x_0 y_0)/i$ 满足 $\gcd = x_0$，则答案加 2（去重后减 1）。  

**难点对比**：  
- **素因数分解法**需要理解最大公约数/最小公倍数的素因子指数关系，推导严谨但需数学基础。  
- **枚举法**直观但效率较低，需处理边界条件（如 $P=Q$）。  

---

### **题解评分 (≥4星)**
1. **sochiji（★★★★★）**  
   - **亮点**：数学推导清晰，时间复杂度最优（$O(\sqrt{y/x})$）。  
   - **代码**：分解质因数后直接计算 $2^m$，简洁高效。  

2. **樱雪喵（★★★★☆）**  
   - **亮点**：利用乘积性质枚举，代码简短易实现。  
   - **缺点**：大数时效率较低（$O(\sqrt{xy})$）。  

3. **zhangboju（★★★★☆）**  
   - **亮点**：详细数学证明，代码正确处理重复计数。  

---

### **最优思路提炼**
**素因数分解法**：  
1. 检查 $y_0 \bmod x_0 \neq 0$ → 输出 0。  
2. 分解 $k = y_0 / x_0$ 的质因数，统计不同质因子数 $m$。  
3. 答案为 $2^m$。  

**代码片段**（sochiji 题解核心逻辑）：  
```cpp
int quotient = y / x;
int count = 0;
while (quotient > 1) {
    if (quotient % currentFactor == 0) {
        count++;
        while (quotient % currentFactor == 0) quotient /= currentFactor;
    }
    currentFactor++;
}
cout << (1 << count); // 2^count
```

---

### **同类型题目**
1. **P1072 [NOIP2009 提高组] Hankson 的趣味题**  
   - **关键点**：多组询问，结合 $\gcd$ 和 $\operatorname{lcm}$ 的约束条件。  

2. **P1414 又是毕业季II**  
   - **关键点**：最大公约数的频次统计。  

3. **P2441 角色属性**  
   - **关键点**：数对满足特定公约数条件。  

---

### **可视化设计**
**动画方案**（素因数分解法）：  
1. **分解展示**：将 $k = y/x$ 分解为素因子，每个因子以不同颜色方块表示。  
2. **分配过程**：点击方块切换分配至 $P$ 或 $Q$，动态统计组合数。  
3. **音效提示**：分配时播放 8-bit 音效，成功时显示 $2^m$。  

**像素风格演示**：  
- **Canvas 绘制**：素因子方块排列成网格，点击触发分配动画。  
- **自动模式**：AI 模拟所有分配可能，步进展示组合生成。  

---

### **个人心得**
- **边界条件**：如樱雪喵题解中 `if(m == n) ans--` 处理 $P=Q$ 的重复计数。  
- **数学直觉**：sochiji 通过素因子指数关系将问题转化为组合问题，避免枚举。  

通过结合数学推导与代码实现，此类数论问题可从多个角度高效解决。

---
处理用时：75.29秒
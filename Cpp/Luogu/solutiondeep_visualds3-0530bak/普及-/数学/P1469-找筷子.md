# 题目信息

# 找筷子

## 题目描述

经过一段时间的紧张筹备，电脑小组的“RP 餐厅”终于开业了，这天，经理 LXC 接到了一个定餐大单，可把大家乐坏了！员工们齐心协力按要求准备好了套餐正准备派送时，突然碰到一个棘手的问题：筷子！

CX 小朋友找出了餐厅中所有的筷子，但遗憾的是这些筷子长短不一，而我们都知道筷子需要长度一样的才能组成一双，更麻烦的是 CX 找出来的这些筷子数量为奇数，但是巧合的是，这些筷子中只有一只筷子是落单的，其余都成双，善良的你，可以帮 CX 找出这只落单的筷子的长度吗？


## 说明/提示

#### 数据规模与约定

- 对于 $30\%$ 的数据，保证 $n \leq 10^5$。
- 对于 $100\%$ 的数据，保证 $1 \leq n \leq 10^7 + 1$，$1 \leq a_i \leq 10^9$。


#### 提示

- 请注意数据读入对程序效率造成的影响。
- 请注意本题的空间限制为 $4$ Mb。

## 样例 #1

### 输入

```
9
2 2 1 3 3 3 2 3 1
```

### 输出

```
2```

# AI分析结果



# 【算法分类】
**数论**

---

# 【题解思路、算法要点与解决难点】

**核心思路**：利用异或运算的性质，所有偶数次出现的数异或后结果为0，奇数次的结果为自身。通过异或和计算即可得到唯一奇数次的数。

**关键公式推导**：
- 异或运算满足交换律与结合律：$a \oplus b = b \oplus a$, $(a \oplus b) \oplus c = a \oplus (b \oplus c)$。
- 成对数的异或性质：$x \oplus x = 0$，$0 \oplus x = x$。
- 最终结果为所有数的异或和：$ans = a_1 \oplus a_2 \oplus \dots \oplus a_n$。

**解决难点**：
1. **空间限制**：需用$O(1)$空间算法，异或法无需存储数组。
2. **大数据输入效率**：部分题解采用快读优化输入速度。

**数据结构/辅助方法**：
- 无需额外数据结构，仅用单变量累计异或值。

---

# 【题解评分 (≥4星)】

1. **题解作者：t162（5星）**  
   - 思路清晰，代码极简，直接点明异或性质。
   - 无冗余代码，适合教学展示。

2. **题解作者：ez_lcw（4星）**  
   - 实现快读函数优化输入效率。
   - 代码规范，适合处理大数据场景。

3. **题解作者：james1BadCreeper（4星）**  
   - 使用寄存器变量优化循环速度。
   - 代码可读性良好，注释明确。

---

# 【最优思路/技巧提炼】

1. **位运算性质应用**：通过异或消去偶数次出现的数，保留奇数次项。
2. **流式处理数据**：逐个读取并处理数据，避免存储所有元素。
3. **输入优化技巧**：快读函数或`scanf`提升大数据输入效率。

---

# 【同类型题与算法套路】

**常见变种**：  
- 找出数组中唯一出现奇数次的元素（LeetCode 136）。
- 扩展问题：两个不同奇数次的元素（需结合掩码分组）。

**通用解法**：  
- 异或法适用于保证唯一奇数次元素的场景。
- 分治法结合异或处理多奇数次元素问题。

---

# 【推荐相似题目】

1. **P1469 找筷子**（本题变种，数据规模更大）
2. **P1577 切绳子**（位运算与二分结合）
3. **P1630 求和**（位运算性质与模运算结合）

---

# 【个人心得摘录】

- **调试教训**：  
  某题解提到最初尝试数组存储导致MLE，后改用异或法解决空间问题。
  
- **顿悟时刻**：  
  通过二进制视角理解异或操作："偶数次异或相当于开关两次，状态还原"。

---

# 【可视化与算法演示】

**动画设计**：  
1. **像素风格界面**：  
   - 用16色像素块表示数值，绿色块为偶数次，红色块为奇数次。
   - 异或操作时触发"消融"动画，相同数值块碰撞后消失。

2. **核心运算步骤**：  
   ```plaintext
   初始状态：ans = 0 (显示为黑色方块)
   输入2：ans = 0 ^ 2 = 2 (显示绿色闪烁)
   输入2：ans = 2 ^ 2 = 0 (红色爆炸特效)
   输入1：ans = 0 ^ 1 = 1 (绿色闪烁)
   ...
   ```

3. **交互功能**：  
   - **步进控制**：空格键单步执行异或操作。
   - **音效反馈**：成功消融播放8-bit音效，最终答案出现时播放胜利旋律。

**代码片段（伪代码）**：  
```javascript
// 伪代码：异或过程可视化
let ans = 0;
const values = [2, 2, 1, 3, 3, 3, 2, 3, 1];
values.forEach((num, index) => {
  drawPixel(num, COLORS[index % 16]); // 绘制当前数值
  setTimeout(() => {
    ans ^= num;
    highlight(ans); // 高亮当前异或结果
    if (ans === 0) playSound('pop'); // 消融音效
  }, index * 500);
});
```

---

# 【核心代码实现】

```cpp
#include<cstdio>
int main() {
    int n, x, ans = 0;
    scanf("%d", &n);
    while(n--) {
        scanf("%d", &x);
        ans ^= x;
    }
    printf("%d", ans);
    return 0;
}
```

**代码解释**：  
- 逐次读取每个数并与`ans`异或，最终`ans`即为唯一奇数次数。

---
处理用时：78.64秒
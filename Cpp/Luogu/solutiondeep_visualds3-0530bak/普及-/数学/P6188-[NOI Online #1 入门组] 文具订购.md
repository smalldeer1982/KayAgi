# 题目信息

# [NOI Online #1 入门组] 文具订购

## 题目描述

小明的班上共有 $n$ 元班费，同学们准备使用班费集体购买 $3$ 种物品：

1. 圆规，每个 $7$ 元。
2. 笔，每支 $4$ 元。
3. 笔记本，每本 $3$ 元。

小明负责订购文具，设圆规，笔，笔记本的订购数量分别为 $a,b,c$，他订购的原则依次如下：

1. $n$ 元钱必须正好用光，即 $7a+4b+3c=n$。
2. 在满足以上条件情况下，成套的数量尽可能大，即 $a,b,c$ 中的最小值尽可能大。
3. 在满足以上条件情况下，物品的总数尽可能大，即 $a+b+c$ 尽可能大。

请你帮助小明求出满足条件的最优方案。可以证明若存在方案，则最优方案唯一。

 

## 说明/提示

#### 样例输入输出 3 解释

$a=2,b=4,c=1$ 也是满足条件 $1,2$ 的方案，但对于条件 $3$，该方案只买了 $7$ 个物品，不如 $a=1,b=2,c=6$ 的方案。 

#### 数据规模与约定

- 对于测试点 $1 \sim 6$，保证 $n \leq 14$。
- 对于测试点 $7 \sim 12$，保证 $n$ 是 $14$ 的倍数。
- 对于测试点 $13 \sim 18$，保证 $n \leq 100$。
- 对于全部的测试点，保证 $0 \leq n \leq 10^5$。

## 样例 #1

### 输入

```
1
```

### 输出

```
-1```

## 样例 #2

### 输入

```
14
```

### 输出

```
1 1 1```

## 样例 #3

### 输入

```
33
```

### 输出

```
1 2 6```

# AI分析结果



**【唯一算法分类】**  
数论  

---

### **题解思路、算法要点与解决难点**  
1. **核心思路**  
   - **最大化套装数**：每套含1个圆规（7元）、1个笔（4元）、1个笔记本（3元），总价14元。优先购买 `k = n//14` 套，余数 `r = n%14`。  
   - **余数处理**：若 `r ∈ {1,2,5}` 无法用3/4元组合，则退1套（`k-=1`，余数 `r+=14`）重新计算。  
   - **贪心填余数**：剩余 `r` 优先用3元笔记本（增加总数），再用4元笔。  

2. **数学推导**  
   - **定理**：任何 `r ≥ 3` 且 `r ≠ 1,2,5` 均可分解为3和4的组合。  
   - **余数映射表**：预处理所有余数对应的最优 `(b,c)` 增量，如：  
     - `r=3 → c+=1`  
     - `r=4 → b+=1`  
     - `r=7 → b+=1, c+=1`  

3. **解决难点**  
   - **条件优先级**：依次满足钱花光 → 套装数最大 → 总数最大，需分步处理。  
   - **余数调整**：当余数无法直接处理时，通过减少套数 `k` 扩展可行解范围。  

---

### **题解评分 (≥4星)**  
1. **lzqy_ (5星)**  
   - **亮点**：余数分类表清晰，代码直接映射数学推导，可读性高。  
   - **引用**：*“若在套数最多时n分不完，套数-1”* 准确处理边界。  

2. **江户川·萝卜 (4星)**  
   - **亮点**：数学证明麦克卡拉公式，结合打表法高效处理余数。  
   - **心得**：*“被n=0坑过”* 强调特判重要性。  

3. **Miraik (4星)**  
   - **亮点**：动态规划预处理合法组合，逻辑清晰。  
   - **代码**：`for(int i=n/14;i>=0;i--)` 逆序保证优先满足套装数。  

---

### **最优思路与技巧提炼**  
1. **余数映射法**  
   - 预处理余数 `0~13` 对应的最优 `(b,c)` 增量，直接查表输出。  
   - **代码片段**：  
     ```cpp  
     int m[14][3] = {{0,0,0}, {-1,-1,4}, {-1,0,3}, {0,0,1}, ...};  
     int r = n%14;  
     a = k + m[r][0]; b = k + m[r][1]; c = k + m[r][2];  
     ```  
2. **贪心调整套数**  
   - 当 `r ∈ {1,2,5}` 时，退1套 (`k-=1`) 使余数 `r +=14` 进入合法范围。  

---

### **同类型题与算法套路**  
1. **通用套路**  
   - **数论分解**：将问题转化为模运算与余数处理。  
   - **贪心优先**：先最大化某一条件，再优化其他目标。  
2. **类似题目**  
   - [P6065] 能量项链（数论分解+优先级优化）  
   - [P2665] 金币（余数分类+贪心）  
   - [P1194] 买礼物（组合优化+模运算）  

---

### **可视化与算法演示**  
1. **核心步骤动画**  
   - **步骤1**：显示初始 `n=33`，计算 `k=2` 套（28元），余数 `r=5`。  
   - **步骤2**：检测 `r=5` 非法，退1套 → `k=1`，`r=19`（高亮红色）。  
   - **步骤3**：查表 `r=19` → `b+=1, c+=5`，输出 `a=1, b=2, c=6`。  
   - **颜色标记**：  
     - 当前余数：黄色背景  
     - 非法操作：红色边框  
     - 最终解：绿色高亮  

2. **复古像素风格设计**  
   - **Canvas绘制**：  
     - 8位像素字体显示 `k`, `r`, `a,b,c`  
     - 音效：退套时播放“哔”声，成功时8-bit胜利音效  
   - **自动演示**：  
     - 按步执行计算，每步间隔1秒，可暂停/加速  

---

### **代码实现（关键逻辑）**  
```cpp  
int n, k = n / 14, r = n % 14;  
if (r == 1 || r == 2 || r == 5) {  
    k--;  
    r += 14;  
}  
int m[][3] = {{0,0,0}, {-1,-1,4}, {-1,0,3}, {0,0,1}, ...};  
cout << k + m[r][0] << " " << k + m[r][1] << " " << k + m[r][2];  
```

---

### **个人心得摘录**  
- **江户川·萝卜**：*“打表法虽然笨，但能避免推导错误”*  
- **lzqy_**：*“余数处理是核心，需逐一验证所有可能”*  
- **Miraik**：*“逆序枚举套数确保优先级，否则会WA”*  

---

**推荐题目**  
1. [P1003] 铺地毯（数论+区域覆盖）  
2. [P1029] 最大公约数与最小公倍数（数论分解）  
3. [P1217] 回文质数（模运算优化）

---
处理用时：79.38秒
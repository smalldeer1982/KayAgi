# 题目信息

# 「MXOI Round 2」游戏

## 题目描述

小 C 和小 D 正在玩一款蒸蒸日上的游戏。

这款游戏共有 $3$ 种手牌：杀、闪、斩。他们的用途分别如下：

- 杀：对对方使用，对方需要使用一张**闪**，否则对方输掉游戏；**或**回应对方的**斩**；

- 闪：回应对方的**杀**；

- 斩：对对方使用，对方需要使用一张**杀**，否则对方输掉游戏。

玩家在每使用一张牌后，都需要弃掉该使用的牌。

从小 C 开始，每个回合依次属于小 C 和小 D。在玩家的回合内，该玩家可以出**任意**张**杀**和**斩**，对方需要做出对应的回应。当然，玩家也可以不出牌，直接进入对方的回合。

现在，小 C 共有 $c_1$ 张杀、$c_2$ 张闪、$c_3$ 张斩，小 D 共有 $d_1$ 张杀、$d_2$ 张闪、$d_3$ 张斩，**双方都知道对方的手牌**。你需要求出，双方在都进行最优策略的情况下，游戏的结果会如何。

## 说明/提示

#### 【样例解释 #1】

对于第一组数据，小 C 可以先出一张斩，并在小 D 回应一张杀后再出一张斩。此时小 D 的杀用完了，无法做出回应，输掉了游戏。

#### 【样例 #2】

见附加文件中的 `game/game2.in` 与 `game/game2.ans`。

#### 【数据范围】

对于 $100\%$ 的数据，$1 \le T \le 10^5$，$0 \le c_1,c_2,c_3,d_1,d_2,d_3 \le 10^9$。

|测试点编号|特殊性质|
|:---:|:---:|
|$1\sim3$|保证 $c_3=d_3=0$|
|$4\sim6$|保证 $c_1=d_2$ 且 $c_2=d_1$|
|$7\sim10$|无|

## 样例 #1

### 输入

```
3
3 1 4 1 5 9
1 1 4 5 1 4
5 2 1 2 6 3```

### 输出

```
C
D
E```

# AI分析结果



---

**唯一算法分类**  
无算法分类

---

**综合分析与结论**  
本题核心是博弈论中的最优策略判断，通过逻辑推导确定胜负条件。关键点在于分析双方如何最大化自身优势并削弱对手资源。核心思路如下：

1. **小C先手秒杀条件**  
   - 当小C的杀（c₁）超过小D的闪（d₂）时，小C出杀可立即获胜。
   - 当小C的斩（c₃）超过小D的杀（d₁）时，小C出斩可立即获胜。

2. **小D反击条件**  
   - 若小C无法秒杀，小C会优先用斩消耗小D的杀，剩余小D的杀为 `d₁ - c₃`。
   - 此时小D的斩（d₃）若超过小C的杀（c₁），或剩余杀（`d₁ - c₃`）超过小C的闪（c₂），则小D胜。

3. **可视化设计**  
   - **动画流程**：用像素风格动画展示条件判断步骤，高亮当前比较的数值（如c₃与d₁对比），失败时播放低沉音效，成功时播放胜利音效。
   - **交互面板**：允许调整参数观察不同条件下的胜负结果，模拟回合制出牌过程。

---

**题解清单（≥4星）**  
1. **Coffee_zzz（5星）**  
   - **亮点**：逻辑清晰，代码简洁，直接命中核心条件判断，高效处理边界情况。  
   - **代码**：四层条件判断覆盖所有胜负可能，时间复杂度O(1)极优。

2. **zhu_wen（4星）**  
   - **亮点**：结构体封装数据提升可读性，明确注释增强理解。  
   - **代码**：通过结构体区分双方手牌，条件判断与核心思路一致。

3. **liangbob（4星）**  
   - **亮点**：验题人视角分析，强调最优策略中的资源消耗逻辑。  
   - **代码**：明确注释关键条件，突出小C优先消耗斩的策略。

---

**最优思路与代码实现**  
**核心逻辑**：  
```cpp
if (c1 > d2 || c3 > d1) return "C";  // 小C直接胜利
d1 -= c3;                            // 小C消耗斩后的剩余杀
if (d3 > c1 || d1 > c2) return "D"; // 小D反击胜利
return "E";                          // 平局
```

**完整代码（Coffee_zzz）**  
```cpp
#include <bits/stdc++.h>
using namespace std;
int main() {
    ios::sync_with_stdio(0);
    int T, c1, c2, c3, d1, d2, d3;
    cin >> T;
    while (T--) {
        cin >> c1 >> c2 >> c3 >> d1 >> d2 >> d3;
        if (c1 > d2 || c3 > d1) puts("C");
        else if (d3 > c1 || d1 - c3 > c2) puts("D");
        else puts("E");
    }
    return 0;
}
```

---

**同类题目推荐**  
1. **P1704 石头剪刀布**：博弈策略判断胜负条件。
2. **P1516 青蛙的约会**：数论与最优策略结合。
3. **P1288 取数游戏**：回合制游戏的最优决策分析。

---

**可视化方案设计**  
1. **像素风格动画**  
   - **颜色方案**：8位红绿蓝三色，小C为蓝色，小D为红色，当前比较值高亮黄色。
   - **Canvas绘制**：网格显示双方手牌数值，逐步触发条件判断，失败时数值爆炸特效。
   - **音效触发**：比较成功时播放“滴”声，胜利时播放经典FC胜利旋律。

2. **自动推导模式**  
   - **AI模拟**：自动遍历条件判断路径，用箭头标注当前判断分支，速度可调。
   - **关卡设计**：分三关对应三个条件判断，通关解锁不同难度测试用例。

---

**心得总结**  
- **关键顿悟**：斩的优先级高于杀，因斩可主动消耗对方关键资源（杀），而杀需被动保留以应对斩。
- **调试教训**：边界条件如`d1 - c3 == c2`需明确为平局，不可遗漏等于情况。

---
处理用时：109.97秒
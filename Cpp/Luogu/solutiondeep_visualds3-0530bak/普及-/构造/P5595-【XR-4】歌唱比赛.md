# 题目信息

# 【XR-4】歌唱比赛

## 题目背景

**赛时提醒：本题不提供任何关于样例 4 以及无解的解释。**

**赛时提醒：本题不提供任何关于输出格式以及 Special Judge 的解释。**

**赛时提醒：抱歉，本题的 Special Judge 不忽略行末空格，请保证两行中没有多余字符。**

**赛时提醒：非常抱歉，本题输入数据是 Windows 格式，而非 Linux 格式，所以在末尾的 `\n` 之前有一个多余的 `\r` 字符。请使用 `scanf` 或 `cin` 读入数据，而非 `getline`，因为后者会多读入一个 `\r`。**

## 题目描述

小 X 参加了一场歌唱比赛。

经过一路鏖战，小 X 终于挺进了决赛，他的对手是小 Y。

这场歌唱比赛的冠军是由点赞数决定的，谁的点赞数高，谁就能夺冠。

小 X 和小 Y 依次演唱完自己的最后一首歌曲后，他们最终的点赞数确定了下来。

揭晓冠军的时刻终于到来了，主持人为了增加悬念，决定从小 X 与小 Y 的点赞数的最后一位开始，依次比较。

比如，小 X 的点赞数是 $37$，小 Y 的点赞数是 $28$。首先比较最后一位，小 X 是 $7$，小 Y 是 $8$，此时小 Y 暂时领先。再加上前一位，小 X 是 $37$，小 Y 是 $28$，此时小 X 暂时领先。比较结束，如果我们用 `X` 代表小 X 暂时领先，`Y` 代表小 Y 暂时领先，那么可以写下一个字符串 `XY`。

再比如，小 X 的点赞数是 $137$，小 Y 的点赞数是 $47$。如果我们再用 `Z` 表示小 X 与小 Y 的点赞数暂时一样，那么写下的字符串应该为 `XYZ`。

你作为一个精通 OI 的神仙，自然知道这种比较方式是非常不科学的，这样只是在无端拖延时间罢了，但是你却对最后写下的这个字符串很感兴趣。

现在，你得到了这个最后写下的字符串，你需要构造出一种可能的小 X 与小 Y 的点赞数。

当然，有可能不存在任何一种情况的点赞数满足这个字符串，那么你只需要输出 `-1` 即可。

为了方便你输出，请用前导零来补足位数。

## 说明/提示

**本题采用捆绑测试。**

- Subtask 1（11 points）：$\text{len}(s) = 1$。
- Subtask 2（42 points）：$s_i \in \{\texttt{X},\texttt{Y}\}$。
- Subtask 3（21 points）：数据保证有解。
- Subtask 4（26 points）：无特殊限制。

对于 $100\%$ 的数据，$s_i \in \{\texttt{X},\texttt{Y},\texttt{Z}\}$，$1 \le \text{len}(s) \le 10^6$。

## 样例 #1

### 输入

```
XY
```

### 输出

```
37
28
```

## 样例 #2

### 输入

```
XYZ
```

### 输出

```
137
047
```

## 样例 #3

### 输入

```
ZZZZZZ
```

### 输出

```
000000
000000
```

## 样例 #4

### 输入

```
XYZXYZ
```

### 输出

```
-1
```

# AI分析结果



## 算法分类
无算法分类

## 题解思路与核心难点

### 核心思路
题目要求根据给定的字符串构造两个可能存在的数字，或判断无解。字符串中的每个字符表示逐位比较的结果（X: X领先，Y: Y领先，Z: 相等）。关键点在于：
1. **Z必须连续出现在字符串末尾**，否则无解。
2. 构造时，X的对应位比Y大（若字符为X），Y的对应位比X大（若字符为Y），或相等（Z）。

### 解决难点
1. **无解条件判断**：若字符串中出现Z后存在非Z字符，则无法构造合法解。例如，`XYZXYZ`中的Z出现在中间，后续字符包含非Z字符，故无解。
2. **构造策略**：直接为每个字符对应的位设置数值差异（如X设为1，Y设为0），确保逐位比较满足条件，且无需考虑后续位的影响。

## 题解评分（≥4星）

### 1. Fatalis_Lights（4.5星）
- **思路清晰**：明确Z必须连续末尾，直接构造数值。
- **代码简洁**：使用数组存储结果，逐字符处理。
- **关键代码**：
  ```cpp
  for(int i=0;i<s.size();i++)
      if(s[i]=='X') a[i]=1,b[i]=0;
      else if(s[i]=='Y') a[i]=0,b[i]=1;
      else a[i]=b[i]=1;
  ```

### 2. StudyingFather（4星）
- **逆向处理**：从后往前构造，确保Z后的字符合法。
- **高效判断**：通过标志位快速判定Z的合法性。
- **关键代码**：
  ```cpp
  for(int i=len-1;i>=0;i--) {
      if(s[i]=='Z'&&!flag) return -1;
      if(s[i]!='Z') flag=false;
  }
  ```

### 3. Tarsal（4星）
- **位构造策略**：使用0和1简化构造，通过标志位维护Z的合法性。
- **代码可读性高**：逻辑清晰，直接输出结果。
  ```cpp
  if(s[i]=='X') a[i]=2,b[i]=1;
  else if(s[i]=='Y') a[i]=1,b[i]=2;
  else a[i]=b[i]=1;
  ```

## 最优思路提炼
1. **无解判定**：遍历字符串，若发现Z后存在非Z字符，直接返回-1。
2. **逐位构造**：
   - `X`位：X的当前位 > Y的当前位（如X=1，Y=0）。
   - `Y`位：Y的当前位 > X的当前位（如Y=1，X=0）。
   - `Z`位：两者相等（如都设为0）。

## 相似题目推荐
1. [CF12D Ball](https://www.luogu.org/problem/CF12D) - 构造数值满足多条件比较。
2. [P3742 umi的函数](https://www.luogu.org/problem/P3742) - 类似字符串构造问题。
3. [P1012 拼数](https://www.luogu.org/problem/P1012) - 数值比较与构造。

## 算法可视化

### 动画设计
1. **逐位高亮**：每个字符对应的位以高亮显示，标记当前处理位。
2. **数值生成**：动态显示X和Y的每一位如何根据字符生成（如X字符时，X位变红，数值增大）。
3. **错误提示**：当检测到非法Z时，触发红色闪烁警告。

### 复古像素风格
- **颜色方案**：使用8位风格调色板，X用红色，Y用绿色，Z用黄色。
- **Canvas动画**：每位以像素方块表示，数值变化时方块颜色渐变。
- **音效**：
  - 正确构造时播放8-bit成功音效。
  - 无解时播放低沉错误音效。

---

## 代码实现（核心逻辑）
```cpp
#include <iostream>
#include <string>
using namespace std;

int main() {
    string s;
    cin >> s;
    bool hasZ = false;
    // 检查Z后是否有非Z字符
    for (char c : s) {
        if (c == 'Z') hasZ = true;
        else if (hasZ) { // Z之后出现非Z
            cout << -1;
            return 0;
        }
    }
    // 构造结果
    string x, y;
    for (char c : s) {
        if (c == 'X') {
            x += '1'; y += '0';
        } else if (c == 'Y') {
            x += '0'; y += '1';
        } else {
            x += '0'; y += '0';
        }
    }
    cout << x << endl << y;
    return 0;
}
```

---
处理用时：475.70秒
# 题目信息

# [JRKSJ R5] 1-1 A

## 题目背景

本题是 1-1 的较易版本，较难版本为 [1-1 B](https://www.luogu.com.cn/problem/P8848)。

## 题目描述

给出一个序列 $a$，$\forall i\in [1,n],a_i\in \{1,-1\}$。

你可以将序列任意重排，需最小化重排后序列的最大子段和。

## 说明/提示

最大子段和的定义：序列中一段区间的和的最大值。即 $\max_{1\le l\le r\le n} \sum_{i=l}^r a_i$。

本题使用 $\text{Special Judge}$，只要你的输出满足题意即可通过。

**本题输入输出文件较大，请使用恰当的输入输出方式。**

### 数据规模
本题采用捆绑测试。

| $\text{Subtask}$ | $n\le$ | $\text{Score}$ |
| :----------: | :----------: | :----------: |
| $1$ | $10$ | $40$ |
| $2$ | $10^6$ | $60$ |

对于 $100\%$ 的数据，$1\le n\le 10^6$，$a_i\in \{1,-1\}$。

## 样例 #1

### 输入

```
4
1 1 -1 -1```

### 输出

```
1 -1 -1 1```

# AI分析结果



---

**唯一算法分类**  
构造（贪心）

---

### 综合分析与结论  
本题核心在于通过贪心构造将最大子段和最小化。所有题解均基于以下关键思路：  
1. **交替排列**：将 1 和 -1 交替排列，消除连续正数的影响。  
2. **处理剩余元素**：将多余元素（数量更多的一方）放在序列末尾。  
3. **数学证明最优性**：当 1 的数量 ≤ -1 时，最大子段和为 1；当 1 更多时，最大子段和为 1 的剩余数量。

**可视化设计思路**：  
- **动画演示**：分步显示交替排列和剩余元素的添加过程，用颜色标记交替部分（黄蓝交替）和剩余部分（红色或绿色连续块）。  
- **实时计算**：在动画中动态显示当前最大子段和的变化，突出末尾连续块对结果的影响。  
- **复古像素风格**：用 8-bit 风格的网格展示序列，每次添加元素时触发音效（高音表示 1，低音表示 -1）。

---

### 题解清单（≥4星）  
1. **U_star（4.5星）**  
   - 亮点：详细分类讨论，严格数学证明，代码简洁高效。  
   - 关键句：“将多余的 1 放在末尾，否则中间会出现更大连续和。”  

2. **Vct14（4星）**  
   - 亮点：代码极简，直接输出交替对和剩余元素，无冗余逻辑。  
   - 关键句：“先轮流输出 min(m,o) 次 1 和 -1，再输出剩余元素。”  

3. **pxb0801（4星）**  
   - 亮点：通过示例验证构造正确性，清晰对比不同排列方式的影响。  
   - 关键句：“后面连续的 1 总和即为最大子段和，无法被中间抵消。”  

---

### 最优思路提炼  
1. **交替抵消**：通过 1 和 -1 交替排列，消除连续区间和的增长。  
2. **末尾处理**：多余元素必须放在序列末尾，避免中间产生更大子段。  
3. **数学极值**：当 1 更多时，末尾连续 1 的数量即为最大子段和的唯一可能值。  

---

### 同类型题推荐  
1. **P1094 纪念品分组**（贪心配对）  
2. **P4995 跳跳**（交替取最大最小）  
3. **P1223 排队接水**（贪心排序）  

---

### 核心代码实现  
```cpp
int main() {
    int n, x = 0, y = 0; // x: 1 的数量，y: -1 的数量
    cin >> n;
    for (int i = 0; i < n; i++) {
        int a; cin >> a;
        a == 1 ? x++ : y++;
    }
    // 交替输出 min(x,y) 对，剩余元素放末尾
    for (int i = 0; i < min(x, y); i++) 
        cout << "1 -1 ";
    if (x > y) 
        for (int i = 0; i < x - y; i++) cout << "1 ";
    else 
        for (int i = 0; i < y - x; i++) cout << "-1 ";
}
```

---

### 可视化算法演示  
**动画设计**：  
1. **交替块构建**：  
   - 每对 1 和 -1 显示为黄蓝方块，动态添加到序列中。  
   - 音效：添加 1 时播放高音“哔”，-1 时低音“咚”。  
2. **剩余元素处理**：  
   - 多余元素显示为连续绿（1）或红（-1）方块，从右侧滑入。  
   - 高亮末尾连续块，并显示其长度（如 "+3"）。  
3. **交互控制**：  
   - 步进按钮：单步观察构造过程。  
   - 速度调节：拖动条控制动画速度（0.5x~2x）。  

**复古风格**：  
- 使用 16 色调色板，Canvas 绘制 32x32 像素的方块。  
- 背景音乐：8-bit 风格循环旋律，使用 Web Audio API 实现。  

---

通过此设计，学习者可直观理解贪心构造的核心逻辑，并通过交互深入掌握如何最小化特定序列属性。

---
处理用时：144.96秒
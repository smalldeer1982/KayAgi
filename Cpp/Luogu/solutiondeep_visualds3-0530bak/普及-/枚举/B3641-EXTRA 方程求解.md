# 题目信息

# EXTRA 方程求解

## 题目背景


本题是**附加题**，供有兴趣的同学挑战。


**请尽量在 40min 之内写完题目。这是指「写代码」的时间；「读题」时间不计算在内。**

## 题目描述

给定二元一次方程组，要求解出 $x, y$.

方程以 `ax+by=c` 的形式提供。其中 $a, b, c$ 都是整数，可能为负数。方程的解也一定为整数。

下面举一个例子。对于方程组
```plaintext
-2x+3y=4
x-y=-1
```

您应该解出 $x=1, y=2$。

## 说明/提示

**数据规模与约定**

对于 $100\%$ 的数据，系数的绝对值不超过 $100$，$x, y$ 的绝对值不超过 $100$。保证方程有唯一解。

**提示**  

分类讨论越复杂，程序出 bug 的可能性越大。


## 样例 #1

### 输入

```
-2x+3y=4
x-y=-1```

### 输出

```
1
2```

## 样例 #2

### 输入

```
3x-5y=-21
-5x+20y=70```

### 输出

```
-2
3```

## 样例 #3

### 输入

```
6x+7y=30
-x-y=-5```

### 输出

```
5
0```

# AI分析结果



## 算法分类
无算法分类

---

## 综合分析与结论

### 题解思路与核心难点
题目核心在于解析方程字符串中的系数，并利用行列式求解二元一次方程组。解析方程时需处理多种符号及省略形式（如 `x` 表示 `1x`，`-y` 表示 `-1y`）。难点在于如何正确提取并计算各项的系数。使用正则表达式匹配符号、数值、变量，累加得到 `a, b, c`，再通过克莱姆法则求解。

### 可视化设计思路
1. **方程解析动画**：展示字符串被分割为符号、数值、变量的过程，高亮当前处理的字符。
2. **行列式计算演示**：动态展示行列式 `D`、`D1`、`D2` 的计算步骤，突出各部分的替换逻辑。
3. **复古像素风格**：用 8-bit 像素风格呈现方程解析步骤，背景音乐为轻快电子音效，关键步骤（如匹配成功、系数累加）触发音效。

---

## 题解清单 (≥4星)
1. **MujicaSaki 的题解（4星）**  
   - **亮点**：利用正则表达式简化系数解析，避免复杂条件判断。  
   - **关键实现**：通过 `re.findall` 匹配符号、数值、变量，累加系数。  
   - **优化点**：采用行列式计算直接求解，避免暴力枚举。

---

## 最优思路与代码实现
### 关键思路
1. **正则表达式解析**：用 `([+-]?)(\d*)(x|y)` 匹配项的符号、数值、变量。
2. **行列式求解**：计算克莱姆法则中的行列式，避免暴力枚举。

### 代码实现
```python
import re

eq1 = input().strip()
eq2 = input().strip()

def parse_equation(eq):
    left, right = eq.split('=')
    c = int(right)
    a, b = 0, 0
    matches = re.findall(r'([+-]?)(\d*)(x|y)', left)
    for sign, num_str, var in matches:
        num = int(num_str) if num_str else 1
        coeff = -num if sign == '-' else num
        if var == 'x':
            a += coeff
        else:
            b += coeff
    return a, b, c

a1, b1, c1 = parse_equation(eq1)
a2, b2, c2 = parse_equation(eq2)

D = a1 * b2 - a2 * b1
D1 = c1 * b2 - c2 * b1
D2 = a1 * c2 - a2 * c1

x = D1 // D
y = D2 // D

print(x)
print(y)
```

---

## 相似题目与知识点
1. **同类型题**  
   - 解多元一次方程组（如高斯消元法）。
   - 字符串解析与数学公式处理结合的问题。

2. **推荐题目**  
   - **P1022** 计算器的改良（字符串解析解方程）  
   - **P1036** 选数（数学组合与条件判断）  
   - **P1062** 数列（进制转换与递推）

---

## 可视化算法演示
### 动画步骤
1. **方程解析阶段**  
   - 高亮当前处理的字符，显示正则匹配结果。
   - 符号、数值、变量以不同颜色像素块展示。
   
2. **行列式计算阶段**  
   - 动态替换行列式中的列，展示计算过程。
   - 使用像素箭头指示替换位置，音效提示替换完成。

### 复古风格设计
- **颜色方案**：绿色（数值）、红色（符号）、蓝色（变量）。
- **音效**：匹配成功时播放短促“哔”声，计算完成时播放胜利音效。

---
处理用时：312.64秒
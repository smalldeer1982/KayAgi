# 题目信息

# [语言月赛202208] 天天爱跑步

## 题目背景

洛咕公司开发了一款新的养成类游戏《天天爱跑步》。

## 题目描述

为了推广《天天爱跑步》，洛咕公司开发了活跃值系统，同其他游戏一样，连续签到天数越多，每次签到获得的活跃值也就越多。但只要一天不签到，连续天数就要清零。

当连续签到天数达到以下天数时，活跃值奖励将发生如下变化。

- $1$ 天：由 $0$ 变为 $v_1$
- $3$ 天：由 $v_1$ 变为 $v_3$
- $7$ 天：由 $v_3$ 变为 $v_7$
- $30$ 天：由 $v_7$ 变为 $v_{30}$
- $120$ 天：由 $v_{30}$ 变为 $v_{120}$
- $365$ 天：由 $v_{120}$ 变为 $v_{365}$
- $366$ 天或更多天数：均为 $v_{365}$

例如，以下为某游戏玩家连续签到情况及活跃值奖励情况，有助于进一步理解题意。

| 日期 | 是否签到 | 连续签到天数 | 当天获得活跃值奖励 |
| :--: | :--: | :--: | :--: |
| 8 月 8 日 | 是 | $1$ | $v_1$ |
| 8 月 9 日 | 是 | $2$ | $v_1$ |
| 8 月 10 日 | 是 | $3$ | $v_3$ |
| 8 月 11 日 | 是 | $4$ | $v_3$ |
| 8 月 12 日 | 否 | $0$ | $0$ |
| 8 月 13 日 | 是 | $1$ | $v_1$ |
| 8 月 14 日 | 是 | $2$ | $v_1$ |
| 8 月 15 日 | 是 | $3$ | $v_3$ |

即，签到系统按照如下顺序处理奖励：

 1. 累计连续签到天数
 2. 根据规则确定当日奖励的活跃值
 3. 发放活跃值

现在给出 **超高校级的游戏玩家 $\lfloor$七海千秋$\rceil$** 连续 $n$ 天的签到情况，请你求出这 $n$ 天七海千秋获得的活跃值奖励一共为多少。

连续签到天数从 $0$ 开始计算。

## 说明/提示

对于 $20\%$ 的数据，$v_1=v_3=v_7=v_{30}=v_{120}=v_{365}$；

对于另外 $30\%$ 的数据，保证 $\lfloor$七海千秋$\rceil$ 在 $n$ 天中每天均签到。

对于 $100\%$ 的数据，$1 \le n \le 10^6, 0 \le v_1,v_3,v_7,v_{30},v_{120},v_{365} \le 10^3$。

## 样例 #1

### 输入

```
12
1 2 3 4 5 6
1
1
1
1
1
0
0
0
1
0
1
1```

### 输出

```
11```

# AI分析结果



### 算法分类
无算法分类

---

### 综合分析与结论
题目要求根据连续签到天数计算活跃值总和，核心在于维护当前连续天数并按阈值匹配对应奖励值。实现要点如下：

1. **连续天数维护**：遍历每日签到状态，签到则天数+1，否则重置为0。
2. **阈值判断**：使用从高到低的条件判断（365→120→30→7→3→1）确保正确匹配最高奖励等级。
3. **时间复杂度**：O(n) 时间处理每日数据，适用于 n≤1e6 的规模。

**可视化设计思路**：
- **变量高亮**：当前连续天数、当天活跃值、总活跃值。
- **流程动画**：展示每日签到状态→连续天数变化→奖励值计算→累加总和。
- **像素风格**：用不同颜色方块表示各阈值区间，连续天数变化时对应方块闪烁。
- **音效提示**：签到成功时播放上升音调，断签时播放重置音效，总活跃值更新时显示数字跳动。

---

### 题解清单
1. **览遍千秋题解** ⭐⭐⭐⭐⭐  
   - 直接模拟每日签到，维护连续天数并按条件分支计算奖励。
   - 亮点：简洁高效的 O(n) 实现，正确处理阈值顺序。

---

### 核心代码实现
```cpp
#include <cstdio>
using namespace std;

int main() {
    int n, v1, v3, v7, v30, v120, v365;
    scanf("%d %d %d %d %d %d %d", &n, &v1, &v3, &v7, &v30, &v120, &v365);
    
    int current = 0, total = 0;
    while (n--) {
        int s; scanf("%d", &s);
        current = s ? current + 1 : 0;
        
        if (current >= 365) total += v365;
        else if (current >= 120) total += v120;
        else if (current >= 30) total += v30;
        else if (current >= 7) total += v7;
        else if (current >= 3) total += v3;
        else if (current >= 1) total += v1;
    }
    printf("%d", total);
    return 0;
}
```

---

### 可视化与算法演示
- **Canvas 动画**：横向时间轴表示天数，方块颜色随连续天数变化（如红→橙→黄→绿→蓝对应不同阈值）。
- **动态标记**：当前天数高亮显示，右侧面板实时更新连续天数和总活跃值。
- **音效设计**：
  - 连续天数突破阈值时播放 "ding" 声。
  - 断签时播放 "error" 音效。
  - 背景音乐为 8-bit 风格循环曲。

---

### 类似题目推荐
1. P2669 [NOIP2015 普及组] 金币 - 模拟每日奖励累计。
2. P5019 [NOIP2018 提高组] 铺设道路 - 区间状态维护。
3. P1190 [NOIP2010 普及组] 接水问题 - 多条件时间调度模拟。

---
处理用时：150.55秒
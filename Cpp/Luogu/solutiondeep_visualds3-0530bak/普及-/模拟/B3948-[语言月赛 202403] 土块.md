# 题目信息

# [语言月赛 202403] 土块

## 题目背景

ScaredQiu 有一个形影不离的好朋友小 F，因为小 F 非常讨厌做题，考试的时候只能开赌。

## 题目描述

小 F 的考试中有 $n$ 道多选题，题号分别是从 $0$ 到 $n-1$ 的整数，每道题有 $4$ 个选项。一个选项要么是对的，要么是错的。一道题目的评分标准如下：

- 选择了至少一个错误选项或未选择任何选项，得 $0$ 分。

- 选择了全部的正确选项且没有选择任何错误选项，得 $6$ 分。

- 选择了一部分正确选项且没有选择任何错误选项，得 $3$ 分。

每道题目每个选项是否正确将由一个 $n$ 行 $4$ 列的 $01$ 矩阵 $a$ 描述，矩阵第 $i$ 行第 $j$ 列的元素为 $1$ 说明题号为 $i-1$ 的题目的第 $j$ 个选项是正确的，否则说明该选项是错误的。

小 F 按顺序作答了所有题目，他会给出一个 $n$ 行 $4$ 列的 $01$ 矩阵 $b$，矩阵第 $i$ 行第 $j$ 列的元素为 $1$ 说明他选择了他作答的第 $i$ 道题的第 $j$ 个选项，否则说明他没有选择该选项。

由于时间太紧，小 F 好像把答题卡涂错了。假设他作答的第 $1$ 道题的题号为 $x$，他会依次作答题号为 $x,(x+1) \bmod n,(x+2) \bmod n, \cdots ,(x+n-1) \bmod n$ 的题目。其中 $\bmod$ 为取模运算。

请计算：对于从 $0$ 到 $n-1$ 的每个整数 $i$，在作答的第 $1$ 道题的题号为 $i$ 的情况下，小 F 获得的总分数。

## 说明/提示

对于 $10\%$ 的数据，$a_{i,j}=1$。  
对于另外 $10\%$ 的数据，$b_{i,j}=0$。  
对于 $100\%$ 的数据，$1 \leq n \leq 1000$，$0 \leq a_{i,j},b_{i,j} \leq 1$，矩阵 $a$ 每行至少有一个 $1$。

## 样例 #1

### 输入

```
3
0 1 0 1
0 1 1 0
0 0 1 1
0 0 1 0
0 1 0 0
0 1 1 0
```

### 输出

```
3 3 12
```

# AI分析结果



1. **唯一算法分类**  
模拟

---

2. **综合分析与结论**  
题目核心是通过枚举所有可能的起始点，模拟答题顺序后逐个题目计算得分。关键难点在于快速判断每个题的得分类型。题解通过将作答矩阵的 1 转换为 -1，与答案矩阵相加，创造了一个巧妙的数学条件：当存在 -1 时必选错项，存在 1 时必有正确项未被选，否则全对。这种方法将复杂的逻辑判断简化为数值运算，极大提升了代码效率。

**可视化设计思路**：  
- **网格动画**：在 Canvas 中绘制 n×n 网格，每行代表一个起始点 i，每列代表题号 k。当处理 (i, k) 时，用颜色标注：红（0 分）、黄（3 分）、绿（6 分）。  
- **复古像素风**：采用 8-bit 调色板，每个得分块为 16×16 像素，伴随「哔」声效。总分以 LED 数字风格显示在右侧。  
- **自动演示**：按 i 从 0 到 n-1 自动轮播，用户可暂停查看某起始点的详细得分分布。

---

3. **题解清单 (≥4星)**  
- **RyanLi 题解（4★）**：  
  ✅ 亮点：矩阵符号转换简化判断，时间复杂度 O(n²) 高效处理  
  ✅ 代码可读性：函数封装清晰，但变量名可优化（如 `c` 数组意义需注释）  
  ✅ 实践性：直接映射题意，适合快速实现

---

4. **代码核心实现**  
```cpp
int check(int a[4], int b[4]) { // b已乘-1
    int sum = 0;
    for (int j=0; j<4; ++j) sum += b[j];
    if (sum == 0) return 0; // 未选任何选项
    
    for (int j=0; j<4; ++j) 
        if (a[j] + b[j] == -1) return 0; // 选错项
    
    bool full = true;
    for (int j=0; j<4; ++j)
        if (a[j] == 1 && b[j] != -1) full = false;
    
    return full ? 6 : 3;
}
```

---

5. **类似题目推荐**  
- [P1003 铺地毯](https://www.luogu.com.cn/problem/P1003) - 矩阵覆盖模拟  
- [P1328 生活大爆炸](https://www.luogu.com.cn/problem/P1328) - 规则判断与循环模拟  
- [P2670 扫雷游戏](https://www.luogu.com.cn/problem/P2670) - 矩阵相邻元素统计  

---

6. **复古游戏化动画（JS 伪代码）**  
```javascript
// 初始化 8-bit 调色板
const colors = {0: '#FF0000', 3: '#FFFF00', 6: '#00FF00'};

function drawPixelGrid(ctx, scores) {
  scores.forEach((row, i) => {
    row.forEach((score, k) => {
      ctx.fillStyle = colors[score];
      ctx.fillRect(i*16, k*16, 15, 15); // 像素块
    });
    // 播放得分音效（Web Audio API）
    beep(440 + i*20, 0.1); 
  });
}
```

---

7. **思维扩展**  
此类题的核心是 **规则映射与状态压缩**。当遇到多条件判断时，可尝试将不同状态编码为数值特征（如本题的 -1/0/1），从而用数学运算替代分支判断。这在 OI 中常用于简化代码与提升效率。

---
处理用时：192.28秒
# 题目信息

# [常州市赛 2020] 重点单词

## 题目背景

搬运自 <http://czoj.com.cn/p/448>。数据为民间数据。

## 题目描述

回家后，小 $\text{X}$ 望着自己打瞌睡时写的英语笔记陷入了迷茫。由于太困了，他会时不时地把一个字母多写几次：比如可能把 $\texttt{she}$ 写成 $\texttt{shhe}$，也可能写成 $\texttt{ssshee}$。  
但他依稀记得这堂课只讲了一个重点单词。为了找到这个单词，他想先把每个单词中连续重复的字母压缩起来：把 $\texttt{coool}$ 压缩为 $\texttt{col}$，把 $\texttt{aabbaa}$ 压缩为 $\texttt{aba}$。接下来找到压缩后出现次数最多的单词，这样就能找到重点单词了。  
由于工作量太大，小 $\text{X}$ 希望你帮助他找到重点单词。他向你保证压缩后的单词出现次数最多的一定唯一。

## 说明/提示

### 样例解释
- $\texttt{qaaqqq}$ 压缩成 $\texttt{qaq}$；  
- $\texttt{qwwwwq}$ 压缩成 $\texttt{qwq}$；  
- $\texttt{qqqqaq}$ 压缩成 $\texttt{qaq}$；  

$\texttt{qaq}$ 出现了两次，$\texttt{qwq}$ 出现了一次，所以 $\texttt{qaq}$ 出现次数最多。  
### 数据范围
本题共有 $10$ 个测试点。  
对于全部数据：$1\le n\le 10^4$，$1\le $ 单词长度 $\le50$。 
|测试点编号|$n$|单词长度|
|:-:|:-:|:-:|
|$1$|$=1$|$=1$|
|$2\sim3$|$\le 10^4$|$=1$|
|$4\sim6$|$=1$|$\le 50$|
|$7\sim8$|$\le 10$|$\le 50$|
|$9\sim10$|$\le 10^4$|$\le 50$|  


## 样例 #1

### 输入

```
3
qaaqqq
qwwwwq
qqqqaq```

### 输出

```
qaq```

# AI分析结果



## **算法分类**
无算法分类（核心为字符串处理与哈希统计）

---

## **题解思路、算法要点与解决难点**

### **核心思路**
1. **字符串压缩**：遍历每个字符，仅保留与前一个不同的字符。
2. **统计频率**：用哈希表（`map` 或 `unordered_map`）记录压缩后单词的出现次数。
3. **找最大值**：遍历哈希表或实时维护最大值，输出出现次数最多的单词。

### **难点与解决**
- **压缩逻辑**：需正确处理连续重复字符。通过比较当前字符与前一个字符，跳过重复。
- **高效统计**：使用 `map` 存储压缩结果，时间复杂度为 O(NL)，其中 L 为单词长度。
- **边界处理**：如长度为 1 的字符串需直接保留。

---

## **题解评分 (≥4星)**
1. **Sliarae (★★★★★)**  
   - 思路清晰，代码简洁，使用 `back()` 方法高效判断重复。
   - 直接遍历 `map` 找最大值，避免冗余操作。  
   **亮点**：代码可读性高，逻辑明确。

2. **sfb1363II (★★★★)**  
   - 分离压缩逻辑到 `get` 函数，模块化设计。  
   - 遍历 `map` 找最大值，通用性强。  
   **亮点**：代码结构规范，适合教学。

3. **Dollartree (★★★★)**  
   - 使用双指针跳过连续重复字符，压缩逻辑直观。  
   - 实时维护最大值，避免二次遍历。  
   **亮点**：算法高效，适合大规模数据。

---

## **最优思路与技巧提炼**
1. **压缩技巧**  
   - 遍历字符，仅保留与前一个不同的字符。  
   ```cpp
   string compress(string s) {
       string res;
       for (char c : s) {
           if (res.empty() || c != res.back()) {
               res.push_back(c);
           }
       }
       return res;
   }
   ```
2. **统计优化**  
   - 使用 `map` 统计频率，时间复杂度 O(NL)。  
   - 实时维护最大值（如 TheTrash 的代码），节省遍历时间。

---

## **同类题型与相似套路**
- **类似题目**  
  1. [LeetCode 443. 压缩字符串](https://leetcode.cn/problems/string-compression/)  
  2. [洛谷 P1308 统计单词数](https://www.luogu.com.cn/problem/P1308)  
  3. [Codeforces 1003B Binary String Constructing](https://codeforces.com/problemset/problem/1003/B)

---

## **可视化与算法演示**
### **动画设计**
1. **压缩过程**  
   - **像素风格**：字符逐个显示，相同字符用红色标记，不同字符用绿色。  
   - **音效**：每次添加字符播放短音效，颜色变化时播放“滴”声。  
2. **统计过程**  
   - **哈希表动画**：压缩后的单词以像素方块形式存入哈希表，次数动态递增。  
   - **最大值追踪**：当前最大值高亮显示，更新时播放上扬音效。  

### **交互设计**
- **控制面板**：支持暂停、步进、重置。  
- **复古风格**：8-bit 字体，背景音乐为 FC 风格循环曲目。  

---

## **核心代码示例**
### Sliarae 的压缩函数
```cpp
string compress(string s) {
    string t;
    for (char c : s) {
        if (t.empty() || c != t.back()) {
            t.push_back(c);
        }
    }
    return t;
}
```

### Dollartree 的压缩与统计
```cpp
map<string, int> mp;
string ans;
int max_count = 0;

for (string s : words) {
    string compressed = compress(s);
    mp[compressed]++;
    if (mp[compressed] > max_count) {
        max_count = mp[compressed];
        ans = compressed;
    }
}
```

---

## **总结**
- **核心逻辑**：字符串压缩与哈希统计，无复杂算法但需细致处理边界。  
- **优化方向**：实时维护最大值可减少遍历时间。  
- **可视化价值**：通过动画直观展示压缩与统计过程，适合教学演示。

---
处理用时：216.23秒
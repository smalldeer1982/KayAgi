# 题目信息

# 学生分组

## 题目描述

有 $n$ 组学生，给出初始时每组中的学生个数，再给出每组学生人数的上界 $R$ 和下界 $L\ (L \le R)$，每次你可以在某组中选出一个学生把他安排到另外一组中，问最少要多少次才可以使 $N$ 组学生的人数都在 $[L,R]$ 中。


## 说明/提示

### 数据范围及约定

对于全部数据，保证 $1\le n \le 50$。

## 样例 #1

### 输入

```
2
10 20
10 15
```

### 输出

```
5```

# AI分析结果



# 学生分组问题分析与题解

## 算法分类
**贪心算法**

## 综合分析与结论
### 核心思路
1. **可行性判断**：若总人数不在区间 `[n*L, n*R]` 内，直接输出 `-1`。
2. **贪心调整**：统计所有组低于下限的总缺少人数 `B` 和超过上限的总超出人数 `C`，最少操作次数为 `max(B, C)`。

### 难点解析
- **数学推导**：总人数必须满足 `n*L ≤ sum ≤ n*R`，否则无法调整。
- **贪心原理**：每次移动一个学生，优先用超出部分填补缺少部分，剩余超出/缺少人数需独立处理，取最大值保证所有调整完成。

### 可视化设计
- **动画方案**：条形图动态显示各组人数，红色标记超出上限，蓝色标记低于下限，绿色为合法区间。移动时高亮调整的学生，显示 `B` 和 `C` 的实时变化。
- **复古风格**：8-bit 像素风格界面，移动时播放电子音效，过关时播放胜利音效，失败则低沉音效。
- **交互功能**：支持单步调试、自动播放、速度调节，Canvas 绘制网格动态更新。

---

## 题解清单（评分≥4星）

### 1. 樱雪喵（5星）
- **亮点**：代码简洁，逻辑清晰，直接使用 `max()` 函数，输入处理规范。
- **关键代码**：
  ```cpp
  for(int i=1;i<=n;i++) {
      if(a[i]<l) b += (l-a[i]);
      if(a[i]>r) c += (a[i]-r);
  }
  cout << max(b,c);
  ```

### 2. HohleFeuerwerke（4星）
- **亮点**：数学公式推导严谨，变量命名明确，代码注释详细。
- **核心思想**：总人数合法性判断后，分别计算 `newin`（需补充人数）和 `away`（需移出人数）。

---

## 最优思路提炼
### 关键技巧
1. **总量约束检查**：通过 `sum < n*L || sum > n*R` 快速排除无解情况。
2. **独立统计差值**：分别累计低于下限和超出上限的差值，避免复杂调整策略，直接取最大值。

---

## 相似题目推荐
1. **P1031 均分纸牌**：贪心调整相邻堆，使所有堆相等。
2. **P1325 雷达安装**：区间覆盖问题中的贪心选择。
3. **P1094 纪念品分组**：双指针贪心配对。

---

## 核心代码实现
```cpp
#include <iostream>
using namespace std;

int main() {
    int n, L, R, a[51], sum = 0;
    cin >> n;
    for (int i = 0; i < n; ++i) {
        cin >> a[i];
        sum += a[i];
    }
    cin >> L >> R;
    
    if (sum < L*n || sum > R*n) {
        cout << -1;
        return 0;
    }
    
    int need = 0, excess = 0;
    for (int i = 0; i < n; ++i) {
        if (a[i] < L) need += L - a[i];
        if (a[i] > R) excess += a[i] - R;
    }
    
    cout << max(need, excess);
    return 0;
}
```

---

## 可视化算法演示（伪代码）
```javascript
// Canvas绘制初始化
const groups = [10, 20];
const L = 10, R = 15;
let B = 0, C = 20 - 15;

// 动画步骤
function animateMove() {
    highlightGroup(1); // 高亮超出组
    moveStudent(1, 0); // 移动到缺人组
    updateCounters(B--, C--);
    if (B === 0 && C === 0) playVictorySound();
}
```

---

## 个人心得摘录
- **樱雪喵**：强调总人数判断的重要性，避免复杂计算。
- **HohleFeuerwerke**：通过数学公式严格证明解的存在性，增强理解。

---
处理用时：102.20秒
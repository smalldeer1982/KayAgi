# 题目信息

# 攻击火星

## 题目描述

一群外星人将要攻击火星。

火星的地图是一个 $n$ 个点的无向图。这伙外星人将按照如下方法入侵，先攻击度为 $0$ 的点（相当于从图中删除掉它），然后是度为 $1$ 的点，依此类推直到度为 $n-1$ 的点。

所有的点度统计是动态统计的。（一个点删掉后，与之相连的点的点度都会 $-1$）。外星人攻击度为某个数的点时是同时攻击的。

你需要设计这个图的边的方案来使得未被攻击的点最多。注意：你设计的图**不允许自环及重边**。



## 说明/提示

【样例解释】

一种可能的方案是 $1\leftrightarrow 2\leftrightarrow 3$，这样首先删掉度为 $1$ 的点 $1$ 和点 $3$，此时点 $2$ 度数为 $0$，不会被删去。

【数据范围】

- 对于 $20\%$ 的数据 $1\le n\le 10$；
- 对于 $100\%$ 的数据 $1\le n\le 5\times 10^4$。

【题目来源】

tinylic改编


## 样例 #1

### 输入

```
3```

### 输出

```
1```

# AI分析结果



**唯一算法分类**：构造

---

### **综合分析与结论**

**题目核心**：构造无向图使得外星人按度数从小到大攻击后剩余点最多。  
**核心难点**：  
1. 如何构造图使得删除某些点后剩余点的度数不被后续攻击选中。  
2. 动态调整度数对后续攻击阶段的影响分析。  

**解决思路**：  
- 构造两个“牺牲点”与所有其他点相连，其他点构成完全图。  
- 牺牲点度数为 `n-2`，其他点为 `n-1`。攻击后，其他点度数变为 `n-3`，不再被攻击。  

**可视化设计**：  
1. **动画步骤**：  
   - **初始状态**：显示两个红色牺牲点（度数 `n-2`）和蓝色其他点（度数 `n-1`）。  
   - **攻击阶段**：红色点被删除，蓝色点度数减少2变为绿色（高亮显示变化）。  
   - **最终状态**：蓝色点保留，显示 `n-2` 的结果。  
2. **复古像素风格**：  
   - 使用 8-bit 像素风格，红色代表牺牲点，蓝色代表存活点，删除时播放“爆破”音效。  
   - 背景音乐循环播放 8-bit 风格旋律，成功时上扬音效提示。  

---

### **题解清单 (≥4星)**

1. **kkksc03（5星）**  
   - **亮点**：严谨的数学证明，排除其他可能性，构造完全图删边法。  
   - **关键句**：*“构造完全图删去一条边，使得牺牲点度数降为 `n-2`”*。  

2. **Vanilla_chan（4星）**  
   - **亮点**：通过具体构造案例（链式、完全图）直观解释，适合初学者。  
   - **关键图**：牺牲点与所有非牺牲点相连的构造示意图。  

3. **云浅知处（4星）**  
   - **亮点**：反证法排除 `ans = n-1` 的可能性，逻辑清晰。  
   - **心得**：*“队列法在 `n=5` 失败，转而寻找更优构造”*。  

---

### **代码实现**

**核心逻辑**：直接输出 `max(n-2, 0)`，无需复杂计算。  
```cpp
#include <iostream>
using namespace std;
int main() {
    int n;
    cin >> n;
    cout << (n <= 2 ? 0 : n - 2);
    return 0;
}
```

---

### **相似题目推荐**

1. **洛谷 P1351 联合权值**（图构造与度数分析）  
2. **洛谷 P1330 封锁阳光大学**（图的动态调整策略）  
3. **洛谷 P2661 信息传递**（环检测与动态过程模拟）  

---

### **复古游戏化动画代码片段**

```javascript
// 初始化 Canvas
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const audio = new Audio('8bit_bgm.mp3'); 

function drawPixel(x, y, color) {
    ctx.fillStyle = color;
    ctx.fillRect(x * 10, y * 10, 8, 8); // 8x8 像素块
}

function attackAnimation(n) {
    // 绘制初始状态
    drawSacrificePoints();
    // 自动播放攻击过程
    setTimeout(() => {
        destroyPoints();
        updateDegrees();
        playSuccessSound();
    }, 2000);
}
```

---

**总结**：通过巧妙的图构造与数学证明，本题答案恒为 `n-2`，代码简洁但需深刻理解攻击过程的动态影响。

---
处理用时：87.70秒
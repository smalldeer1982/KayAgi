# 题目信息

# 漂亮的绝杀

## 题目背景

话说 absi2011 的企鹅在和斗神塔第 $60$ 层的 Boss 战斗。

不好，这局要输了，企鹅还剩 $4$ 血了 Boss 还有 $392$ 呢，哇，漂亮——红缨枪连击，$280$，$343$（暴击），绝杀！嗜血（$4$ 星，嗜血 $50\%$），完胜（absi2011 的 $60$ 级企鹅贫血，就 $315$，玩过乐斗的别黑）！

## 题目描述


别说这是个巧合，这类绝杀还真不少。

现在假设 Boss 还剩下的血为 $x$，absi2011 的企鹅剩 $y$ 血，它拿出的武器的伤害最高是 $z$。它的武器有几率连击。

他问你有无可能绝杀（可连击）。如果能，请先输出一行 `Yes`，否则输出 `No`。如果他给你的数据是错的，请输出 `Wrong Data`。

数据有这么几种情况算错：$y\leq 0$ 或 $y>315$ 或 $y\geq x$ 或    $x>1800$（当前斗神塔 Boss 好像没有超过 $1800$ 血的）或 $z\geq 1000$（红缨枪+天马流星拳+会心一击+残影+武器好手好像都达不到）或 $z\leq 100$（absi2011 认为小于等于 $100$ 就不算绝杀了）。

（输出 `Yes` 后）接下来，他还想问绝杀（就算最高伤害后）如果触发他的 $3$ 星嗜血 / $4$ 星嗜血 / $5$ 星吸星大法各能不能完胜。三星每次的嗜血嗜血量为 $33\%\times$ 伤害（下取整），四星每次的嗜血嗜血量为 $50\%\times$ 伤害（下取整），五星吸星大法嗜血量为 $100\%\times$ 伤害（这还真不用下取整）。两次要分开算。如果超过血上限就不再回血了。

如果三星能就输出一行 `Great`，四星能就输出一行 `Eh..` 和一行 `OK`，五星能就输出两行 `Oh..` 和一行 `Yes , If he can get 5-star.`。

如果都不行，那么输出三行 `No` 和他 $4$ 星嗜血后的血量。

注意，有可能打一下 Boss 就死了，那么不能连击嗜血了。只能算打死 Boss 那下的嗜血。

Boss 死掉当且仅当 Boss 血 $\leq 0$（其实 $<0$ 会自动当成 $0$）。

## 说明/提示

### 提示

Boss 死掉当且仅当 Boss 血 $ \le 0$（其实 $<0$ 会自动当成 $=0$）

### 数据规模

对于 $30\%$ 的数据，保证结果为 `Wrong Data` 或 `No` 或 `Yes`（回车）`Great`。

对于另外 $30\%$ 的数据，保证结果不为 `Wrong Data`。

对于 $100\%$ 的数据，保证 $-10000\leq x\leq 10000,-10000\leq y\leq 10000,-10000\leq z\leq 10000$，即使 `Wrong Data` 了

### 题目来源

fight.pet.qq.com


absi2011 授权原创题目。


## 样例 #1

### 输入

```
392 4 343```

### 输出

```
Yes
Eh..
OK```

## 样例 #2

### 输入

```
392 1 101```

### 输出

```
No```

# AI分析结果



# 算法分析与题解

## 算法分类
无算法分类（纯条件模拟）

---

## 题解思路与核心难点

### 核心算法流程
1. **数据合法性校验**：验证输入是否满足 y∈(0,315]、x≤1800、z∈(100,1000) 等约束
2. **绝杀判定**：判断两次攻击总伤害 2*z ≥ x
3. **攻击次数计算**：若单次攻击即可击杀（z≥x）则次数为1，否则为2
4. **嗜血效果计算**：
   - 三星嗜血：总回复 = 次数 * floor(z*0.33)
   - 四星嗜血：总回复 = 次数 * floor(z*0.5)
   - 五星嗜血：总回复 = 次数 * z
5. **完胜判定**：按优先级判断三星→四星→五星是否使血量≥315

### 解决难点
- **强制类型转换**：每次嗜血必须单独取整（例如 2*floor(z*0.33) 而非 floor(2z*0.33)）
- **输出顺序**：需严格按三星→四星→五星的优先级判断
- **边界条件**：一次击杀时无法触发两次嗜血

---

## 题解评分（≥4星）

1. **ICE（4.5星）**
   - 亮点：使用 flag 标记完成状态，分两次输出结构清晰
   - 优化点：将嗜血量计算分离到单独变量
   - 调试经验：`"Yes , If he can get 5-star."` 的空格错误曾导致WA

2. **Viston（4.2星）**
   - 亮点：通过攻击次数变量 a 统一处理1/2次情况
   - 优化点：强制转换位置正确（int(z*0.33)*a）
   - 注意事项：代码存在未初始化变量风险

3. **Eason_AC（4.0星）**
   - 亮点：极简代码通过 times 变量统一处理次数
   - 优化点：三元运算符减少分支嵌套
   - 注意：需验证强制转换与乘法顺序

---

## 最优思路提炼

```cpp
int times = (z >= x) ? 1 : 2; // 核心判断攻击次数
if(y + times * (int)(z*0.33) >= 315) // 三星优先判断
    cout << "Great";
else if(y + times * (int)(z*0.5) >= 315) // 四星次之
    cout << "Eh..\nOK";
else if(y + times * z >= 315) // 五星最后
    cout << "Oh..\nOh..\nYes , If he can get 5-star.";
```

---

## 可视化设计要点

### 动画方案
1. **像素风格血条**：用16色块表示Boss和企鹅血量
   - 红色血条：Boss初始血量为x，每次攻击后减少
   - 绿色血条：企鹅初始血量为y，嗜血后增长

2. **攻击效果演示**：
   - 单次攻击：企鹅枪击动画→Boss血条骤降
   - 连击攻击：两次连续枪击，每次伴随嗜血光效

3. **嗜血效果标记**：
   - 三星：蓝色光效+33%数值弹窗
   - 四星：金色光效+50%数值弹窗
   - 五星：彩虹光效+100%数值弹窗

### 交互功能
- **步进控制**：空格键单步执行攻击/嗜血计算
- **音效反馈**：
  - 攻击音效：8-bit "pew" 声
  - 嗜血成功：上扬音阶
  - 失败提示：低沉嗡鸣声

---

## 相似题目
1. P1003 铺地毯（条件判断）
2. P1055 ISBN号码（数据校验）
3. P1424 小鱼的航程（循环模拟）

---

## 关键代码实现

```cpp
// 核心逻辑代码
if (z >= x) { // 单次击杀情况
    int s3 = z * 0.33, s4 = z * 0.5;
    if (y + s3 >= 315) cout << "Great";
    else if (y + s4 >= 315) cout << "Eh..\nOK";
    else if (y + z >= 315) cout << "Oh..\nOh..\nYes , If he can get 5-star.";
} else { // 两次击杀情况
    int s3 = 2 * (int)(z * 0.33), s4 = 2 * (int)(z * 0.5);
    if (y + s3 >= 315) cout << "Great";
    else if (y + s4 >= 315) cout << "Eh..\nOK";
    else if (y + 2*z >= 315) cout << "Oh..\nOh..\nYes , If he can get 5-star.";
}
```

---

## 调试心得
- **数据范围陷阱**：测试用例 z=343 时，343*2=686 需要与x=392比较
- **强制转换顺序**：`2*(int)(z*0.5)` 与 `(int)(2*z*0.5)` 结果可能不同
- **字符串空格**：复制输出样例时需注意英文逗号后的空格

---
处理用时：96.06秒
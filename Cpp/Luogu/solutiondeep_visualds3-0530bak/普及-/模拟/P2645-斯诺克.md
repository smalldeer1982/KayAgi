# 题目信息

# 斯诺克

## 题目背景

镇海中学开设了很多校本选修课程，有体育类、音乐类、美术类、无线电测向、航空航海航天模型制作等，力争使每位学生高中毕业后，能学到一门拿得出手的兴趣爱好，为将来的终身发展打下基础。在体育类的校本选修课程中，有一门课程是斯诺克台球。


## 题目描述

斯诺克台球比赛中有21个球，其中有15个红球，6个彩球（黄、绿、棕、蓝、粉、黑）。甲乙二人轮流打球。打一个红球得1分，打一个彩球的得分如下：

黄球：2分；        绿球：3分；         棕球：4分；

蓝球：5分；        粉球：6分；         黑球：7分；

最后以得分高者为胜。


简化后的打球规则如下：

1．如果有红球，第奇数次必须打红球，打过的红球从桌面上拿走；

2．每打一个红球后，可以任意选一个彩球打，打红球后接着打的彩球不从桌面上拿走；

3. 如果桌面上已经没有红球可打了，那么按照分值从小到大的次序打彩球，这时候每打一个彩球都从桌面上拿走。


打球时犯规的判罚如下：

1. 没有打中球，给对方加4分；

2．没有按照打球规则打该打的球，即打中了错误的球时：

（1）如果这个错误的球的分值大于4，那么给对方加等于这个球的分值；

（2）如果这个错误的球的分值不大于4，那么给对方加4分；

打中的错误球不从桌面上拿走。

请统计某局比赛进行到现在为止的比分。


## 说明/提示

【样例说明】

甲依次打了红球、黑球、红球、粉球，甲得15分（1+7+1+6）。

乙依次打了红球、黑球、红球，乙得9分（1+7+1）。

【数据范围】

80%的数据，每次总是打中球的，并且每次打中的球总是正确的，没有犯规情况。100%的数据，会有未打中或犯规情况。

保证输出不超过2^64-1.


没有什么难的，从头到尾除了判断就是循环，但是要特别细心，注意这道题强大的特判！


## 样例 #1

### 输入

```
4 3
1 7 1 6
1 7 1```

### 输出

```
15 9```

# AI分析结果



### 算法分类
模拟

### 题解思路与核心难点
**题目核心**：根据击球序列计算双方得分，处理犯规情况  
**核心难点**：  
1. 规则复杂但数据存在漏洞（犯规只出现在最后或无需校验击球顺序）  
2. 需快速识别实际有效规则（仅处理未打中球的犯规）  

**最优思路**：  
- **直接累加所有击球分值**（题目数据默认合法击球）  
- **仅特判击球为0的情况**（给对方加4分）  
- **时间复杂度**：O(n + m)，完全可处理大范围数据  

### 题解评分（≥4星）
1. **Deny_小田**（★★★★★）  
   - 代码极简（仅10行），直击核心逻辑  
   - 正确处理所有数据情况  
   - 时间复杂度最优  

2. **yibaokuangquanshui**（★★★★★）  
   - 清晰注释解释逻辑  
   - 变量命名直观，便于理解  

3. **enceladus**（★★★★☆）  
   - 完整处理输入输出流程  
   - 包含调试注释便于扩展  

### 最优代码实现
```cpp
#include <cstdio>
int main() {
    int n, m, x, a = 0, b = 0;
    scanf("%d %d", &n, &m);
    while (n--) { scanf("%d", &x); a += x; if (!x) b += 4; } // 处理甲
    while (m--) { scanf("%d", &x); b += x; if (!x) a += 4; } // 处理乙
    printf("%d %d", a, b);
}
```

### 相似题目推荐
1. **P1563 乒乓球**（模拟比赛得分）  
2. **P1058 立体图**（复杂规则简化处理）  
3. **P1067 多项式输出**（条件判断与特例处理）  

### 可视化设计（复古像素风格）
**动画方案**：  
1. **界面设计**：  
   - 8位像素风格台球桌，左右显示甲乙得分  
   - 球桌上方显示当前击球编号及分值  

2. **核心逻辑演示**：  
   - **正常击球**：球飞入对应区域，得分数字跳动（绿色闪烁）  
   - **犯规（0值）**：显示爆炸特效，对方得分+4（红色闪烁）  

3. **交互功能**：  
   - **步进控制**：空格键单步执行击球  
   - **自动播放**：按A键启动自动演示（速度可调）  
   - **音效**：击球声（beep音效）、得分声（上扬音阶）  

**颜色标记**：  
- 当前击球：黄色高亮  
- 得分变化：绿色/红色脉冲特效  
- 犯规提示：闪烁红色边框  

**代码片段（JS Canvas）**：  
```javascript
// 绘制击球动画
function drawShot(ballValue) {
    ctx.fillStyle = ballValue ? "#00FF00" : "#FF0000"; // 绿/红色块
    ctx.fillRect(x, y, 16, 16); // 16x16像素方块
    if (!ballValue) playSound(explosionSFX); // 犯规音效
}
```

### 总结
本题看似规则复杂，实则数据存在显著漏洞。最优解法通过极简逻辑直击数据弱点，体现了竞赛编程中「观察数据特点」的重要性。可视化设计采用复古风格增强趣味性，帮助理解核心逻辑。

---
处理用时：63.42秒
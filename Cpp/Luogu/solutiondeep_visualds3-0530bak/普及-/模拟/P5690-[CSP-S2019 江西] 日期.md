# 题目信息

# [CSP-S2019 江西] 日期

## 题目背景

CSP-SJX2019 T1

## 题目描述

Alice 在纸上写下了一个日期，形式为 $\text{MM-DD}$，其中 $\text{MM}$ 与 $\text{DD}$ 都是两位数字，分别表示月和天，然而这个日期并不一定存在。 Alice 找来了 Bob 要他更改若干位上的数字，使得这个日期存在。请你帮 Bob 算算他最少需要更改几位数字。

本题中我们认为 $2$ 月固定为 $28$ 天。

## 说明/提示

【输入输出样例 1 说明】

更改方式不止一种，其中一种方式是改为： $\text{03-22}$。

【输入输出样例 2 说明】

一种更改方式为：$\text{02-09}$。

【输入输出样例 3 说明】

一种更改方式为：$\text{07-09}$。

【数据规模与约定】
对于 $100\%$ 的数据：$\text{MM}$ 与 $\text{DD}$ 一定为 $4$ 个数字。

**update: 2024/07/04 增加 hack 一组。**

## 样例 #1

### 输入

```
03-32```

### 输出

```
1```

## 样例 #2

### 输入

```
02-39```

### 输出

```
1```

## 样例 #3

### 输入

```
67-89```

### 输出

```
2```

# AI分析结果



**唯一算法分类**：枚举法（暴力枚举合法日期）

---

### **题解思路、算法要点与解决难点**

1. **核心思路**  
   **枚举所有合法日期**，计算与原日期的每位差异，取最小值。难点在于正确生成每个合法日期，并高效比较差异位数。

2. **算法实现**  
   - **预处理合法日期**：生成 `MM-DD` 格式的所有有效日期（共 365 个）。  
   - **逐位比较**：对每个合法日期与原日期比较四位数字，统计不同位数，取最小值。  
   - **时间复杂度**：O(1)（固定枚举 365 次）。

3. **解决难点**  
   - **避免复杂分类讨论**：直接覆盖所有可能的合法日期，无需处理月份与日期的复杂关系。  
   - **正确性保障**：暴力枚举确保不漏解，避免逻辑错误。

---

### **题解评分 (≥4星)**

| 作者          | 星级 | 关键亮点                                   |
|---------------|------|--------------------------------------------|
| 吾皇          | ★★★★☆ | 预处理合法日期，代码简洁，易理解。          |
| Eason_AC      | ★★★★☆ | 利用 `scanf` 格式化输入，代码高效。          |
| Cure_Wing     | ★★★★☆ | 函数化处理差异计算，逻辑清晰。              |

---

### **最优思路或技巧提炼**

1. **暴力枚举法**  
   - **生成所有合法日期**：遍历 1~12 月，每月生成对应天数的日期字符串。  
   - **差异计算**：逐位比较原日期与合法日期的每位差异，统计修改次数。  
   - **代码片段**：  
     ```cpp
     for (int m = 1; m <= 12; m++) {
         for (int d = 1; d <= month[m]; d++) {
             int diff = (m/10 != input_m/10) + (m%10 != input_m%10) 
                      + (d/10 != input_d/10) + (d%10 != input_d%10);
             ans = min(ans, diff);
         }
     }
     ```

---

### **同类型题或类似算法套路**

- **通用解法**：当问题规模较小（如日期、棋盘、排列组合），直接枚举所有可能解。  
- **相似题目**：  
  - **洛谷 P1059** [日期问题](https://www.luogu.com.cn/problem/P1059)  
  - **洛谷 P1024** [一元三次方程求解](https://www.luogu.com.cn/problem/P1024)  
  - **洛谷 P1217** [回文质数](https://www.luogu.com.cn/problem/P1217)  

---

### **可视化与算法演示**

1. **动画方案**  
   - **Canvas 绘制**：以网格展示所有合法日期，高亮当前枚举的日期。  
   - **差异标记**：用红色标记与原日期不同的位，绿色标记相同位。  
   - **步进控制**：允许单步执行，观察每个日期的差异计算过程。

2. **复古像素风格设计**  
   - **颜色方案**：8-bit 色调（绿/红对比，蓝背景）。  
   - **音效触发**：每次枚举播放“滴”声，找到更优解时播放上扬音效。  
   - **交互设计**：  
     ```javascript
     // 伪代码示例：音效与动画
     function playSound(effect) {
         if (effect === 'step') new Audio('pixel_beep.wav').play();
         if (effect === 'success') new Audio('success_chime.wav').play();
     }
     ```

---

### **推荐题目**

1. **洛谷 P1059** [日期问题](https://www.luogu.com.cn/problem/P1059)  
2. **洛谷 P1217** [回文质数](https://www.luogu.com.cn/problem/P1217)  
3. **洛谷 P1024** [一元三次方程求解](https://www.luogu.com.cn/problem/P1024)  

---

### **个人心得摘录**

> **Cure_Wing 调试经历**：  
> “原分类讨论法在输入 `44-31` 时错误输出 1，正确需修改两位。暴力枚举法避免了此类错误。”

---

### **完整代码示例（暴力枚举法）**

```cpp
#include <bits/stdc++.h>
using namespace std;
const int month[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};

int main() {
    int a, b, ans = 4;
    scanf("%d-%d", &a, &b);
    for (int m = 1; m <= 12; m++) {
        for (int d = 1; d <= month[m]; d++) {
            int diff = (m/10 != a/10) + (m%10 != a%10) 
                     + (d/10 != b/10) + (d%10 != b%10);
            ans = min(ans, diff);
        }
    }
    cout << ans;
    return 0;
}
```

---
处理用时：88.93秒
# 题目信息

# 【深基4.习9】打分

## 题目描述

现在有 $n(n \le 1000)$ 位评委给选手打分，分值从 $0$ 到 $10$。需要去掉一个最高分，去掉一个最低分（如果有多个最高或者最低分，也只需要去掉一个），剩下的评分的平均数就是这位选手的得分。现在输入评委人数和他们的打分，请输出选手的最后得分，精确到 $2$ 位小数。 

## 说明/提示

数据保证，$3 \leq n \leq 1000$，每个评委打出的分值为为 $0$ 到 $10$（含 $0$ 与 $10$）之间的整数。

## 样例 #1

### 输入

```
5
9 5 6 8 9```

### 输出

```
7.67```

# AI分析结果



---

### **唯一算法分类**  
无算法分类（基础数组操作）

---

### **综合分析与结论**  
本题核心在于高效找到最高分、最低分并计算剩余分数平均值。所有题解均采用以下两种思路之一：  
1. **排序法**：排序后直接排除首尾元素  
2. **遍历极值法**：单次遍历记录最大值、最小值与总和  

**关键对比与难点**：  
- **时间复杂度**：排序法为 O(n log n)，遍历法为 O(n)。对于本题 n=1000，实际差异不大，但遍历法更优  
- **空间复杂度**：两者均为 O(n)，但遍历法无需存储全部数据（可优化为 O(1) 空间，但题解未实现）  
- **实现细节**：极值初始化需谨慎（如初始化为第一个元素值而非固定数值，避免数据范围外的错误）  

**可视化设计要点**：  
- **动画方案**：  
  - 高亮当前遍历元素，实时更新最大值（红色）和最小值（蓝色）标记  
  - 动态显示总和累加过程，并在最后一步扣除极值  
  - 对比排序法与遍历法的执行流程，突出效率差异  
- **复古像素风格**：  
  - 用 8-bit 数字块表示分数，最大值显示为闪烁红块，最小值为闪烁蓝块  
  - 音效：累加时播放“哔”声，扣除极值时播放“咔嚓”声，输出结果时播放胜利音效  

---

### **题解清单 (≥4星)**  
1. **C171501（4.5星）**  
   - **亮点**：代码最简洁，直接动态更新极值，无需存储数组  
   - **优化点**：`minn`初始化为极大值（`minn=999999999`），但更安全的方式是初始化为第一个输入值  

2. **Lylighte（4.2星）**  
   - **亮点**：提供两种实现（遍历极值法 vs 排序法），注释详细解释极值更新逻辑  
   - **心得好**：“maxn 和 minn 存前 i-1 个元素的极值”帮助理解动态更新过程  

3. **AveMarina（4星）**  
   - **亮点**：使用浮点类型避免隐式转换错误，`p`变量保留原始 n 值  
   - **注意点**：`minNum`初始化为 100 可能不兼容更高分数范围（但本题数据安全）  

---

### **最优思路与技巧提炼**  
**关键技巧**：  
- **单次遍历极值法**：遍历时同步更新最大值、最小值和总和，避免排序开销  
- **极值初始化策略**：初始化为第一个输入值而非固定数值（更鲁棒）  
- **总和计算优化**：直接累加所有值后扣除极值，减少循环次数  

**代码片段**：  
```cpp
// 最优实现（基于遍历极值法）
int n;
double sum = 0, max_score = -INFINITY, min_score = INFINITY;
cin >> n;
for (int i = 0; i < n; ++i) {
    double x;
    cin >> x;
    sum += x;
    if (x > max_score) max_score = x;
    if (x < min_score) min_score = x;
}
printf("%.2f", (sum - max_score - min_score) / (n - 2));
```

---

### **同类题目与算法套路**  
1. **极值排除问题**：如统计成绩时去掉异常值  
2. **滑动窗口极值**：需高效维护窗口内的最大/最小值（可用单调队列）  
3. **动态极值更新**：实时数据流中的极值统计  

**推荐题目**：  
1. [P5738 歌唱比赛](https://www.luogu.com.cn/problem/P5738)  
2. [P5726 打分](https://www.luogu.com.cn/problem/P5726)（双倍经验）  
3. [P1151 子数整数](https://www.luogu.com.cn/problem/P1151)（极值判断变形）  

---

### **个人心得摘录**  
- **Lylighte**：初始化极值为第一个元素值，避免固定数值的潜在风险  
- **FR_qwq**：强调数据类型统一（如全部用 double）防止计算错误  
- **调试教训**：若极值初始化为 0 或 10，当所有分数相同时会导致错误扣除  

---

### **可视化与复古游戏化设计**  
**核心算法动画**：  
1. **初始化阶段**：  
   - 像素网格显示 n 个空位（灰色方块）  
   - 第一个输入值填充为绿色，同时作为 max/min 的初始值（红蓝边框）  

2. **遍历阶段**：  
   - 当前处理元素高亮为黄色，播放“滴”声  
   - 若新值 > 当前 max：原 max 恢复普通颜色，新值标记为红框  
   - 若新值 < 当前 min：原 min 恢复普通颜色，新值标记为蓝框  

3. **结果展示**：  
   - 所有元素变为灰色，max/min 元素爆炸特效  
   - 剩余元素连接为绿色光带，显示平均值浮动数字  

**复古音效设计**：  
- 背景音乐：8-bit 风格循环旋律  
- 音效类型：  
  - 输入确认：短促“哔”  
  - 极值更新：不同音调“叮”  
  - 结果计算：胜利小号音  

**交互功能**：  
- 速度滑块：控制输入和计算动画速度  
- 模式切换：对比排序法（左侧）与遍历法（右侧）的执行帧数差异  

---

通过上述分析，学习者可掌握高效处理极值问题的核心技巧，并理解不同实现方式的优劣。复古动画设计则让算法学习更具趣味性和沉浸感。

---
处理用时：81.11秒
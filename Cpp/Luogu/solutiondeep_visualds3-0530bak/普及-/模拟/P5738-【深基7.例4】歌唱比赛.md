# 题目信息

# 【深基7.例4】歌唱比赛

## 题目描述

$n(n\le 100)$ 名同学参加歌唱比赛，并接受 $m(m\le 20)$ 名评委的评分，评分范围是 $0$ 到 $10$ 分。这名同学的得分就是这些评委给分中去掉一个最高分，去掉一个最低分，剩下 $m-2$ 个评分的平均数。请问得分最高的同学分数是多少？评分保留 $2$ 位小数。

## 样例 #1

### 输入

```
7 6
4 7 2 6 10 7
0 5 0 10 3 10
2 6 8 4 3 6
6 3 6 7 5 8
5 9 3 3 8 1
5 9 9 3 2 0
5 8 0 4 1 10
```

### 输出

```
6.00```

# AI分析结果



## 算法分类
无算法分类（基础数组处理与极值维护）

---

## 综合分析与结论
### 核心思路
1. **输入处理**：逐行读取每个学生的 m 个评分。
2. **极值处理**：通过排序或遍历维护最高分和最低分。
3. **平均计算**：总和减去极值后求平均，保留两位小数。
4. **最大值比较**：实时更新全局最高平均分。

### 解决难点
- **极值维护的两种方式**：
  - **排序法**：将评分排序后去掉首尾（时间复杂度 O(m log m)）。
  - **动态记录法**：遍历时直接记录当前最大值和最小值（时间复杂度 O(m)）。
- **变量重置**：每个学生处理完毕后需重置总和、极值等临时变量。

### 可视化设计要点
1. **动画流程**：
   - **输入阶段**：高亮当前输入的分数（黄色）。
   - **极值标记**：动态更新当前最大值（红色）和最小值（蓝色）。
   - **总和计算**：显示总和变化（绿色数字增长）。
2. **复古像素风格**：
   - 使用 8-bit 音效：输入时播放 "blip" 音效，计算极值时播放 "click" 音效。
   - 网格布局：每个学生的评分以像素方块展示，极值方块闪烁。
3. **交互控制**：
   - 支持步进/暂停观察极值变化。
   - 自动播放模式下，每个学生处理完毕后短暂暂停。

---

## 题解评分（≥4星）
### 1. 题解作者：AveMarina（★★★★★）
- **核心亮点**：动态维护极值、代码简洁清晰、变量命名合理。
- **关键代码**：
  ```cpp
  minNum = min(t, minNum), maxNum = max(t, maxNum);
  ans -= minNum + maxNum;
  ```
- **评价**：时间复杂度最优，代码可读性强。

### 2. 题解作者：Thomas_Cat（★★★★☆）
- **核心亮点**：边输入边求和，最后排序处理。
- **关键代码**：
  ```cpp
  sort(tmp+1,tmp+m+1);
  sum=sum-tmp[1]-tmp[m];
  ```
- **评价**：逻辑简单但效率略低，适合教学演示。

### 3. 题解作者：封禁用户（★★★★☆）
- **核心亮点**：无排序动态记录极值，代码紧凑。
- **潜在风险**：`minn=1e9` 需在循环内重置。
- **关键代码**：
  ```cpp
  ans=ans-minn-maxx;
  minn=1e9; // 重置极值
  ```

---

## 最优技巧提炼
### 1. 动态极值维护
- **核心思想**：遍历时通过 `min()` 和 `max()` 实时更新极值。
- **优势**：避免排序的 O(m log m) 时间，适合大数据量。
- **代码模板**：
  ```cpp
  double min_val = INF, max_val = -INF;
  for (int j=0; j<m; j++) {
      cin >> score;
      sum += score;
      min_val = min(min_val, score);
      max_val = max(max_val, score);
  }
  ```

### 2. 变量生命周期管理
- **关键点**：每个学生的临时变量（总和、极值）必须在循环内初始化。
- **易错点**：
  ```cpp
  // 错误示例：未重置 min_val
  double min_val = INF; // 应在每个学生循环内初始化
  ```

---

## 同类型题推荐
1. **P5715 三数排序**：极值判断与简单排序。
2. **P5735 距离函数**：极值在几何计算中的应用。
3. **P1152 欢乐的跳**：差值极值处理。

---

## 个人心得摘录
- **题解三作者**：  
  > "循环的最后需要初始化 minn=1e9，否则下一个学生的极值计算会出错。"  
  （调试经验：变量作用域管理的重要性）

- **题解一作者**：  
  > "不会 cout 的我屑了"  
  （代码风格选择：printf 在格式化输出时的优势）

---

## 关键代码实现
### 动态极值法（最优实现）
```cpp
#include <iostream>
#include <cstdio>
using namespace std;

int main() {
    int n, m;
    cin >> n >> m;
    double max_avg = -1;
    
    for (int i=0; i<n; i++) {
        double sum=0, min_score=10, max_score=0;
        for (int j=0; j<m; j++) {
            double score;
            cin >> score;
            sum += score;
            min_score = min(min_score, score);
            max_score = max(max_score, score);
        }
        sum = sum - min_score - max_score;
        double avg = sum / (m-2);
        max_avg = max(max_avg, avg);
    }
    
    printf("%.2f", max_avg);
    return 0;
}
```

---

## 可视化代码片段（JS伪代码）
```javascript
// 极值动画演示
function highlightExtreme(scores) {
    let min = Math.min(...scores);
    let max = Math.max(...scores);
    scores.forEach((score, i) => {
        if (score === min) blinkRed(i);
        if (score === max) blinkBlue(i);
    });
}

// 像素音效触发
function playSound(type) {
    if (type === 'blip') { /* 8-bit 输入音效 */ }
    if (type === 'extreme') { /* 高频提示音 */ }
}
```

---
处理用时：81.30秒
# 题目信息

# [NOIP 2001 普及组] 最大公约数和最小公倍数问题

## 题目描述

输入两个正整数 $x_0, y_0$，求出满足下列条件的 $P, Q$ 的个数：

1. $P,Q$ 是正整数。

2. 要求 $P, Q$ 以 $x_0$ 为最大公约数，以 $y_0$ 为最小公倍数。

试求：满足条件的所有可能的 $P, Q$ 的个数。

## 说明/提示

$P,Q$ 有 $4$ 种：

1. $3, 60$。
2. $15, 12$。
3. $12, 15$。
4. $60, 3$。

对于 $100\%$ 的数据，$2 \le x_0, y_0 \le {10}^5$。

**【题目来源】**

NOIP 2001 普及组第二题

## 样例 #1

### 输入

```
3 60
```

### 输出

```
4
```

# AI分析结果



# 算法分类与题解分析

## 唯一算法分类
**数论（最大公约数与因数分解）**

---

## 题解思路与核心难点

### 核心思路
1. **数学关系**：利用 $\text{gcd}(P,Q) \times \text{lcm}(P,Q) = P \times Q$，将问题转化为枚举 $x_0 \times y_0$ 的因数对 $(P, Q)$，并验证 $\text{gcd}(P, Q) = x_0$。
2. **因数枚举优化**：仅需枚举到 $\sqrt{x_0 \times y_0}$，对称统计答案（每组因数对贡献两次，除非 $P=Q$）。
3. **特判处理**：当 $x_0 = y_0$ 时需去重，避免重复计数。

### 解决难点
- **高效枚举**：通过数学关系缩小枚举范围至 $\sqrt{x_0 \times y_0}$，避免超时。
- **条件验证**：仅需验证最大公约数，最小公倍数隐含满足（因 $P \times Q = x_0 \times y_0$）。

---

## 高星题解推荐 (≥4星)

### 1. 樱雪喵的题解（5星）
- **亮点**：代码简洁，直接利用枚举与 `__gcd` 函数，时间复杂度 $O(\sqrt{n})$。
- **关键代码**：
  ```cpp
  for(long long i=1;i<=sqrt(n);i++){
      if(n%i==0&&__gcd(i,n/i)==m) ans+=2;
  }
  ```
- **特判处理**：当 $x_0 = y_0$ 时通过初始 `ans--` 去重。

### 2. sochiji的题解（4星）
- **亮点**：数学推导深入，通过质因数分解 $\frac{y_0}{x_0}$ 统计答案，复杂度 $O(\sqrt{\frac{y_0}{x_0}})$。
- **关键代码**：
  ```cpp
  int quotient = y / x;
  while (quotient > 1) {
      if (quotient % currentFactor == 0) count++;
  }
  cout << (1 << count);
  ```

### 3. zhangboju的题解（4星）
- **亮点**：手写递归版 `gcd`，避免依赖内置函数，代码自解释性强。
- **关键代码**：
  ```cpp
  inline int gcd(int x,int y){
      if(y==0) return x;
      return gcd(y,x%y);
  }
  ```

---

## 最优思路提炼
1. **数学关系转换**：直接利用 $P \times Q = x_0 \times y_0$，避免复杂推导。
2. **因数对称性**：枚举到 $\sqrt{n}$，每组合法因数对贡献两次答案。
3. **特判去重**：若 $x_0 = y_0$，最终答案减 1。

---

## 类似算法题目推荐
1. **P1072 [NOIP2009 提高组] Hankson 的趣味题**（求解特定公约数与公倍数条件的数对）。
2. **P1414 又是毕业季II**（统计多个数的最大公约数组合）。
3. **P2441 角色属性树**（树形结构中的公约数性质）。

---

## 可视化与算法演示设计

### 动画设计
1. **网格枚举**：在 Canvas 绘制网格，横纵轴分别表示 $P$ 和 $Q$，动态高亮当前枚举的因数对 $(i, n/i)$。
2. **颜色标记**：
   - **红色**：当前检查的因数 $i$。
   - **绿色**：满足 $\text{gcd}(i, n/i) = x_0$ 的对。
   - **黄色**：因数为平方数时的特判位置。
3. **步进控制**：支持单步执行，显示当前因数、计算结果及计数器变化。

### 复古游戏化效果
- **8位像素风**：用 16 色像素块表示数值，背景音乐为 8-bit 风格循环。
- **音效触发**：
  - **正确匹配**：播放上扬音效。
  - **特判触发**（如 $i = n/i$）：播放短促“滴”声。
- **积分系统**：每找到一组合法对得 10 分，特判去重扣 5 分。

---

## 关键代码实现
```cpp
#include<bits/stdc++.h>
using namespace std;
int main() {
    long long x, y, ans = 0;
    cin >> x >> y;
    if (y % x != 0) { cout << 0; return 0; } // 特判不可整除
    long long n = x * y;
    for (long long i = 1; i * i <= n; i++) {
        if (n % i == 0 && __gcd(i, n / i) == x) {
            ans += (i == n / i) ? 1 : 2; // 直接处理平方数
        }
    }
    cout << ans;
    return 0;
}
```

---

## 总结
通过数学关系优化枚举范围是解决此类数论问题的核心，结合高效的条件验证与特判处理，代码简洁且时间复杂度可控。可视化设计可增强对枚举过程的理解，适合教学演示。

---
处理用时：78.09秒
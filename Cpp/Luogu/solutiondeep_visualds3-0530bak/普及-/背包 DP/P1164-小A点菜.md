# 题目信息

# 小A点菜

## 题目背景

uim 神犇拿到了 uoi 的 ra（镭牌）后，立刻拉着基友小 A 到了一家……餐馆，很低端的那种。

uim 指着墙上的价目表（太低级了没有菜单），说：“随便点”。


## 题目描述

不过 uim 由于买了一些书，口袋里只剩 $M$ 元 $(M \le 10000)$。

餐馆虽低端，但是菜品种类不少，有 $N$ 种 $(N \le 100)$，第 $i$ 种卖 $a_i$ 元 $(a_i \le 1000)$。由于是很低端的餐馆，所以每种菜只有一份。

小 A 奉行“不把钱吃光不罢休”的原则，所以他点单一定刚好把 uim 身上所有钱花完。他想知道有多少种点菜方法。

由于小 A 肚子太饿，所以最多只能等待 $1$ 秒。


## 说明/提示

2020.8.29，增添一组 hack 数据 by @yummy

## 样例 #1

### 输入

```
4 4
1 1 2 2
```

### 输出

```
3
```

# AI分析结果



# 小A点菜题解分析与总结

## **唯一算法分类**
动态规划（0-1背包问题）

---

## **题解思路、算法要点与解决难点**
### **核心思路**
所有题解均基于动态规划，核心是将问题转化为 **0-1背包的恰好装满方案数**。  
- **状态定义**：`f[j]` 表示恰好花费 `j` 元的方案数。
- **状态转移**：`f[j] += f[j - a[i]]`（选择当前菜品） + `f[j]`（不选择当前菜品）。
- **优化技巧**：一维数组逆序遍历，避免重复计算。

### **关键难点**
1. **初始化条件**：必须设置 `f[0] = 1`，表示“花费0元”有1种方案（不选任何菜）。
2. **逆序遍历**：确保每个菜品仅被计算一次，避免完全背包的错误。
3. **恰好装满**：需严格处理状态转移的条件，排除非恰好装满的情况。

---

## **题解评分 (≥4星)**
### 1. **衡屿睿 (4星)**  
- **亮点**：二维数组直观展示状态转移，分情况讨论清晰。
- **代码**：显式处理三种情况，适合新手理解。

### 2. **Dream_zhc (5星)**  
- **亮点**：深入解释降维优化逻辑，结合图示说明逆序的必要性。
- **代码**：简洁高效，初始化 `f[0] = 1` 是关键。

### 3. **康师傅 (4星)**  
- **亮点**：边读入边处理，优化内存使用。
- **技巧**：最后处理当前菜品价格，避免干扰。

---

## **最优思路与技巧提炼**
### **核心实现**
```cpp
int f[10010] = {1}; // 初始化 f[0] = 1
for (int i = 1; i <= n; i++) {
    for (int j = m; j >= a[i]; j--) {
        f[j] += f[j - a[i]]; // 逆序更新
    }
}
cout << f[m];
```

### **关键优化**
- **一维数组**：空间复杂度从 `O(NM)` 降为 `O(M)`。
- **逆序遍历**：保证每个菜品仅被考虑一次。

---

## **同类型题与算法套路**
### **通用解法**
- **0-1背包变种**：求恰好装满的方案数，初始化 `f[0]=1`，转移方程累加。
- **类似题目**：  
  1. P1060 开心的金明（0-1背包求最大价值）  
  2. P1048 采药（基础0-1背包）  
  3. P1734 最大约数和（转化为背包问题）

---

## **推荐洛谷题目**
1. **P1060 开心的金明**  
   - 0-1背包求最大价值，理解基础模型。
2. **P1048 采药**  
   - 经典0-1背包，巩固状态转移。
3. **P2347 砝码称重**  
   - 多重背包变种，拓展组合思路。

---

## **可视化与算法演示**
### **动画设计**
- **像素风格界面**：用8位色块表示金额状态，绿色块为当前处理的菜品价格。
- **关键步骤**：  
  1. **高亮当前菜品**：红色标记 `a[i]`，黄色标记逆序遍历的 `j`。
  2. **状态更新**：蓝色箭头从 `j - a[i]` 指向 `j`，显示累加过程。
  3. **音效触发**：每次更新播放“滴”声，找到解时播放胜利音效。

### **交互功能**
- **步进控制**：允许单步执行观察 `f[j]` 的变化。
- **速度调节**：支持快慢切换，适合不同学习节奏。

---

## **总结**
本题核心是 **0-1背包的恰好装满方案数**，通过一维数组逆序优化可高效解决。关键点在于初始化 `f[0] = 1` 和严格逆序遍历。理解这一模型后，可快速解决同类动态规划问题。

---
处理用时：64.67秒
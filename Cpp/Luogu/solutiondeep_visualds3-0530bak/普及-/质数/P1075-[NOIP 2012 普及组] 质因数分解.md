# 题目信息

# [NOIP 2012 普及组] 质因数分解

## 题目描述

已知正整数 $n$ 是两个不同的质数的乘积，试求出两者中较大的那个质数。


## 说明/提示

$1 \le n\le 2\times 10^9$

NOIP 2012 普及组 第一题


## 样例 #1

### 输入

```
21```

### 输出

```
7```

# AI分析结果



---

**唯一算法分类**  
数学/数论（质因数分解）

---

### **题解思路、算法要点与解决难点**

#### **核心思路**  
题目给定n为两个不同质数的乘积，要求较大质数。核心在于利用质数的唯一分解性，找到较小的质因数即可用n除以它得到较大质数。

#### **解决难点**  
1. **高效性**：直接遍历2到n的每个数会超时。  
2. **数学性质**：由于n是两质数乘积，其较小质因数必在2到√n之间。  
3. **正确性保证**：第一个找到的因数i必为质数（若非质数，则其更小的因数会先被检测到）。

#### **关键变量与步骤**  
- **循环方向**：从2开始向上遍历（而非从n-1向下）  
- **终止条件**：找到第一个能整除n的i，立即输出n/i  
- **复杂度优化**：遍历到√n即可（但代码中无需显式计算√n）

---

### **题解评分 (≥4星)**

| 题解作者 | 星级 | 亮点 |
|---------|------|-----|
| Stephen_Curry | ★★★★★ | 思路清晰，代码极简，数学推导完整 |
| 小周猪猪 | ★★★★☆ | 代码可读性强，附带Pascal/C++双版本 |
| ryf2011 | ★★★★ | 简明扼要，包含复杂度分析 |

---

### **最优思路或技巧提炼**  
**关键技巧**：利用质因数成对性，从2开始找第一个能整除的i，此时n/i即为答案。  
**数学证明**：若i是合数，则其质因数必小于i，矛盾，故i必为质数。  
**代码实现**：  
```cpp
for (int i = 2; ; i++) 
    if (n % i == 0) return n/i;
```

---

### **同类型题推荐**
1. **P3383** 线性筛素数（质数判定扩展）  
2. **P1217** 回文质数（质数性质+回文判断）  
3. **P1029** 最大公约数与最小公倍数问题（因数对性质）

---

### **可视化与算法演示**

#### **动画方案设计**  
- **像素风格**：8-bit风格界面，n显示为顶部发光数字，底部网格显示当前检测的i值  
- **关键步骤**：  
  1. 高亮当前i（黄色方块），计算n%i  
  2. 余数非0时，i右移（红色闪烁）  
  3. 余数为0时，i标记为绿色，n/i弹出（爆炸特效+胜利音效）  

#### **交互功能**  
- **速度调节**：滑动条控制检测速度（10ms~1s）  
- **AI模式**：自动步进演示，配合8-bit背景音乐（[示例音效](https://bit.ly/3x1KZmX)）  

#### **Canvas伪代码**  
```javascript
function drawFrame() {
  drawGrid(); // 绘制2~√n的像素网格
  highlight(current_i); // 当前检测位置高亮
  if (n % current_i === 0) {
    playSuccessSound(); // 播放"找到"音效
    explodeEffect(n / current_i); // 显示结果
  }
}
```

---

### **个人心得摘录**
> "从n-1倒序枚举会超时，突然想到质因数成对性，正序遍历找最小因数即可" —— Stephen_Curry  
> "调试时发现i=4能整除n=21，但WA后才意识到题目保证n是两质数乘积" —— hilsinleri

---

### **核心代码实现**
```cpp
#include <iostream>
using namespace std;

int main() {
    int n;
    cin >> n;
    for (int i = 2; i * i <= n; ++i) { // 显式√n优化
        if (n % i == 0) {
            cout << n / i;
            return 0;
        }
    }
    // 处理n为质数平方情况（本题无需）
    cout << 1; // 根据题意实际不会执行
    return 0;
}
```

---

**扩展思考**  
若题目不保证n为两质数乘积，需先验证i是否为质数。此时可结合Miller-Rabin算法进行质数检测。

---
处理用时：67.70秒
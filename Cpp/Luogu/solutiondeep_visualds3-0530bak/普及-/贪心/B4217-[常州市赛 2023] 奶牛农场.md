# 题目信息

# [常州市赛 2023] 奶牛农场

## 题目背景

搬运自 <http://czoj.com.cn/p/674>。数据为民间数据。

## 题目描述

小 X 是 CZ 市著名的农场主，他拥有着 CZ 市最大的奶牛农场。农场里有一排牛棚，一共 $n$ 个牛棚，从左到右依次编号为 $1,2,\cdots,n$ 。目前有些牛棚里住着奶牛，有些牛棚还是空的。

每个奶牛有一个高度，其中第 $i$ 个牛棚里的奶牛的高度为 $H_i$，如果第 $i$ 个牛棚里没有奶牛的话，$H_i=0$，为了使小 X 的牛棚变得美观，他打算去市场上买一些奶牛放到空着的牛棚里（假设市场上能买到任意多个高度在 $1$ 到 $10^9$ 之间的任意正整数的奶牛），使得每个牛棚里都有一头奶牛，并且高度从左往右严格递增。

请你告诉小 X 是否能让他的牛棚变得美观，如果可以请给出一个任意合法的方案。

## 说明/提示

### 样例 $\textbf 3$ 解释

因为高度是正整数，还要严格递增，所以第 $4$ 头奶牛的高度必须 $\geq 2$ 。所以不存在满足题目条件的方案。

### 样例 $\textbf 4$ 解释

因为买不到高度为 $>10^9$ 的奶牛，所以不存在满足题目条件的方案。
### 数据范围

| 测试点编号 | $n$ | $H_i$ |
| :---: | :---: | :---: |
| $1\sim5$ | $1\leq n\leq 5$ | $0\leq H_i\leq10$ |
| $6\sim10$ | $1\leq n\leq 10^5$ | $0\leq H_i\leq 10^9$ |

## 样例 #1

### 输入

```
3
0 0 0```

### 输出

```
YES
4 5 6```

## 样例 #2

### 输入

```
4
0 2 0 4```

### 输出

```
YES
1 2 3 4```

## 样例 #3

### 输入

```
4
0 0 0 2```

### 输出

```
NO```

## 样例 #4

### 输入

```
2
1000000000 0```

### 输出

```
NO```

# AI分析结果



### 算法分类选择
贪心

---

### 题解思路与解决难点
**核心思路**：从左到右遍历数组，将每个0的位置填充为前一个数+1，确保严格递增，最后检查整个数组是否满足条件。  
**关键步骤**：  
1. **贪心填充**：每个0的位置填前一个数+1，保证最小化当前值，为后续留出空间。  
2. **严格递增检查**：填充后需确保每个数严格大于前一个且不超过1e9。  
**解决难点**：  
- **填充与检查的时序**：部分题解在填充时立即检查后续非零元素（如tanruiqing的修正代码），可提前终止无效分支，提升效率。  
- **边界处理**：如首元素为0时，默认前驱为0；末位为0时需特殊处理（如填1e9）。

---

### 题解评分（≥4星）
1. **sfb1363II（5星）**  
   - 思路清晰，代码简洁，两次遍历确保正确性。  
   - 亮点：统一填充后检查，逻辑直接，覆盖所有情况。  
2. **XsIeEiKcEk（5星）**  
   - 与上相似，代码结构清晰，填充后统一检查。  
   - 亮点：处理原数组非递增情况的预检查。  
3. **tanruiqing（4星）**  
   - 在填充时立即检查后续元素，提前返回错误，优化效率。  
   - 亮点：修正后的代码加入原数组递增性检查，避免无效填充。

---

### 最优思路提炼
1. **贪心填充**：每个0的位置设为前驱+1，保证局部最优。  
2. **双重验证**：填充后需全局验证严格递增和数值限制。  
3. **提前终止**：在填充过程中检查后续非零元素，减少无效计算。

---

### 类似题目推荐
1. **P1090 [NOIP2004 提高组] 合并果子**（贪心策略）  
2. **P1102 A-B 数对**（排序+双指针）  
3. **P1020 [NOIP1999 普及组] 导弹拦截**（最长递增子序列）

---

### 可视化算法演示
**动画设计**：  
1. **逐步填充**：从左到右遍历数组，高亮当前处理的元素。  
   - 绿色：已处理且合法；红色：冲突位置；黄色：当前填充的0。  
2. **实时检查**：填充后立即显示箭头指向下一个元素，若后续非零元素小于当前值，触发红色警告。  
3. **复古像素风**：使用8-bit风格，填充时播放“点击”音效，错误时播放低音警报。  
**交互功能**：  
- **步进控制**：允许暂停/继续，调整速度观察填充过程。  
- **自动演示**：AI模式自动运行，展示正确和错误案例对比。

---

### 核心代码实现（以sfb1363II为例）
```cpp
#include<bits/stdc++.h>
using namespace std;
const int N=1e5+10;
int n,a[N];
int main(){
    cin>>n;
    for(int i=1;i<=n;i++){
        cin>>a[i];
        if(!a[i]) a[i]=a[i-1]+1;
    }
    for(int i=1;i<=n;i++){
        if(a[i]<=a[i-1] || a[i]>1e9){
            cout<<"NO";
            return 0;
        }
    }
    cout<<"YES\n";
    for(int i=1;i<=n;i++) cout<<a[i]<<" ";
}
```

---

### 总结
本题通过贪心策略确保每个填充值最小化，结合全局验证保证正确性。关键点在于处理顺序和边界条件，避免因后置大数导致的无效填充。不同题解在实现细节（如检查时机）上有差异，但核心思想一致。可视化设计可直观展示填充逻辑，帮助理解贪心选择的优势。

---
处理用时：230.26秒
# 题目信息

# 『MdOI R3』Operations

## 题目背景

这是这场比赛唯一一道没有题目背景的题，这就是本题的题目背景。

## 题目描述

给定非负整数 $a,b$，有两种操作：

1. 任意选择一个正整数 $x$，将两数都减去 $x$，执行一次该操作的代价为 $c$；
2. 任意选择一个正整数 $x$，将两数其中一个数乘以 $x$，另一个除以 $x$ 后向下取整，执行一次该操作的代价为 $d$。

在这里，向下取整指使一个数变为**不大于它的最大的整数**，比如 $3.5$ 向下取整为 $3$，$-0.07$ 向下取整为 $-1$。

选择的 $x$ 可以为任意正整数。在操作的过程中，可以把 $a,b$ 变为负数。

你可以任意多次对这两个数操作，求将 $a,b$ 都变成 $0$ 的代价最小值。

## 说明/提示

【样例解释】

先使用一次 $2$ 操作，选择 $x=2$，将 $a$ 乘 $2$，将 $b$ 除以 $2$，得 $a=18,b=18$。  
再使用一次 $1$ 操作，选择 $x=18$，将两个数都减去 $18$，得 $a=0,b=0$。  
可以证明没有比上述操作代价更小的方案。

更多样例请[到这里](https://www.luogu.com.cn/paste/fnvd95y2)领取。

【数据范围】  

**本题采用捆绑测试**，换言之，你只有通过一个子任务的所有测试点，才可以拿到该子任务对应分数。
| 子任务编号 | $a=0$ | $b=0$ | $a=b$ | $c=1,d\geq 10^5$ | $c \geq 10^5,d=1$ | 分值 |
| :--------: | :------: | :------: | :--------: | :----------------: | :----------------: | :--: |
|     $1$      |    $\surd$     |    $\surd$     |            |                    |                    |  10  |
|     $2$      |    $\surd$     |          |            |                    |                    |  10  |
|     $3$      |          |          |     $\surd$      |         $\surd$          |                    |  10  |
|     $4$      |          |          |          | $\surd$ |                  |  10  |
|     $5$      |          |          | $\surd$ |                  | $\surd$ |  10  |
|     $6$      |          |          |            |                    |         $\surd$   |  10  |
|     $7$      |          |          |            |                    |                    |  40  |

特殊性质如上所示，其中，$\surd$ 表示保证有该特殊性质，空格表示不保证有该性质。

对于所有数据，$0\leq a,b,c,d \leq 10^9$。

## 样例 #1

### 输入

```
9 36 1 3```

### 输出

```
4
```

# AI分析结果



### 综合分析与结论

**核心思路**：  
本题本质是**分情况贪心策略**，通过分析不同初始状态下的最优操作组合，选择代价最小的路径。所有题解均采用分类讨论框架，核心策略如下：
1. **零值特判**：当任一数为零时，只需 1 次操作 2（代价 d）
2. **相等特判**：当两数相等时，比较操作 1（代价 c）和两次操作 2（代价 2d）
3. **一般情况**：比较「操作 1+操作 2」（代价 c+d）与两次操作 2（代价 2d）

**贪心选择验证**：  
- **操作 2 的数学性质**：除以足够大的 x 可强制归零（下取整特性）
- **操作组合的最优性**：通过数学归纳证明两次操作 2 必定可行，且操作 1 仅在特定条件下更优

**可视化设计思路**：  
1. **像素动画**：用 8-bit 风格展示 a、b 数值变化，高亮当前操作类型（红框为操作 1，蓝框为操作 2）
2. **音效反馈**：操作成功时播放 8-bit 音效，代价变化显示为浮动数字
3. **自动演示**：AI 模式逐步展示各情况判断逻辑，用箭头连线标注策略分支

---

### 题解清单（≥4星）

| 题解作者       | 星级 | 关键亮点 |
|----------------|------|----------|
| chen_zhe       | ⭐⭐⭐⭐⭐ | 分类完整，代码简洁，覆盖所有特殊条件 |
| 仗剑_天涯      | ⭐⭐⭐⭐  | 策略对比清晰，特判解释直观 |
| Rubidium_Chloride | ⭐⭐⭐⭐ | 数学证明详尽，操作路径可视化描述 |

---

### 最优思路与代码实现

**核心贪心逻辑**：
```cpp
if (a == 0 && b == 0) cost = 0;
else if (a == 0 || b == 0) cost = d;
else if (a == b) cost = min(c, 2*d);
else cost = min(c + d, 2*d);
```

**完整代码**：
```cpp
#include <iostream>
using namespace std;

int main() {
    int a, b, c, d; 
    cin >> a >> b >> c >> d;
    if (a == 0 && b == 0) cout << 0;
    else if (a == 0 || b == 0) cout << d;
    else if (a == b) cout << min(c, 2*d);
    else cout << min(c + d, 2*d);
    return 0;
}
```

---

### 类似题目与算法套路

**同类型题目特征**：
- 多条件分治决策
- 局部最优组合推导全局最优
- 数学性质（如取整）的利用

**推荐题目**：
1. [P1223] 排队接水（贪心排序）
2. [P1106] 删数问题（贪心删位）
3. [P5019] 铺设道路（区间覆盖贪心）

---

### 可视化设计要点

**像素化动画实现**：
```javascript
// 初始化 Canvas
const ctx = canvas.getContext('2d');
const sprites = {
    a: {x: 100, y: 200, val: 9},
    b: {x: 300, y: 200, val: 36}
};

function drawNumber(x, y, val) {
    // 8-bit 风格数字绘制
    ctx.fillStyle = '#FFD700';
    ctx.fillRect(x, y, 32, 32);
    ctx.fillStyle = '#000';
    ctx.font = '20px "Press Start 2P"';
    ctx.fillText(val, x + 8, y + 24);
}

function playOperation(type) {
    // 播放操作音效
    const sfx = new Audio(`sfx_op${type}.wav`);
    sfx.play();
}
```

**自动演示逻辑**：
```javascript
function autoDemo() {
    highlightCondition('a=9, b=36'); // 高亮当前状态
    setTimeout(() => {
        showDecision('min(c+d=4, 2d=6) → 4'); // 显示决策过程
        playOperation(1); // 播放操作1音效
        updateValues(0, 0); // 更新数值
    }, 1000);
}
```

---

### 总结

通过分情况贪心策略，本题将复杂操作路径简化为有限的条件判断。关键点在于识别不同初始状态的数学性质，并通过对比操作组合的代价快速决策。可视化设计通过复古像素风格和音效反馈，可直观展示策略选择过程，适用于教学演示或算法竞赛训练。

---
处理用时：63.40秒
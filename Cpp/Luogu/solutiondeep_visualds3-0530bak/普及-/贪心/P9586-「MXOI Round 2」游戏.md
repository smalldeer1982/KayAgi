# 题目信息

# 「MXOI Round 2」游戏

## 题目描述

小 C 和小 D 正在玩一款蒸蒸日上的游戏。

这款游戏共有 $3$ 种手牌：杀、闪、斩。他们的用途分别如下：

- 杀：对对方使用，对方需要使用一张**闪**，否则对方输掉游戏；**或**回应对方的**斩**；

- 闪：回应对方的**杀**；

- 斩：对对方使用，对方需要使用一张**杀**，否则对方输掉游戏。

玩家在每使用一张牌后，都需要弃掉该使用的牌。

从小 C 开始，每个回合依次属于小 C 和小 D。在玩家的回合内，该玩家可以出**任意**张**杀**和**斩**，对方需要做出对应的回应。当然，玩家也可以不出牌，直接进入对方的回合。

现在，小 C 共有 $c_1$ 张杀、$c_2$ 张闪、$c_3$ 张斩，小 D 共有 $d_1$ 张杀、$d_2$ 张闪、$d_3$ 张斩，**双方都知道对方的手牌**。你需要求出，双方在都进行最优策略的情况下，游戏的结果会如何。

## 说明/提示

#### 【样例解释 #1】

对于第一组数据，小 C 可以先出一张斩，并在小 D 回应一张杀后再出一张斩。此时小 D 的杀用完了，无法做出回应，输掉了游戏。

#### 【样例 #2】

见附加文件中的 `game/game2.in` 与 `game/game2.ans`。

#### 【数据范围】

对于 $100\%$ 的数据，$1 \le T \le 10^5$，$0 \le c_1,c_2,c_3,d_1,d_2,d_3 \le 10^9$。

|测试点编号|特殊性质|
|:---:|:---:|
|$1\sim3$|保证 $c_3=d_3=0$|
|$4\sim6$|保证 $c_1=d_2$ 且 $c_2=d_1$|
|$7\sim10$|无|

## 样例 #1

### 输入

```
3
3 1 4 1 5 9
1 1 4 5 1 4
5 2 1 2 6 3```

### 输出

```
C
D
E```

# AI分析结果



### 综合分析与结论

题目中，小C和小D的胜负取决于能否通过杀或斩让对方无法回应。最优策略下，双方优先使用可立即获胜的牌，否则通过消耗对方关键资源（如斩消耗杀）来阻止对方获胜。核心贪心思路为：

1. **直接胜利检查**：若小C的杀超过小D的闪（`c1 > d2`）或斩超过小D的杀（`c3 > d1`），小C立即获胜。
2. **资源消耗**：小C无法直接赢时，出所有斩消耗小D的杀，使其数量变为 `d1 - c3`。
3. **小D的反击检查**：消耗后，若小D的斩超过小C的杀（`d3 > c1`）或剩余杀超过小C的闪（`d1 - c3 > c2`），小D获胜。
4. **平局**：若双方均无法满足条件，平局。

### 题解清单（≥4星）

1. **Coffee_zzz（5星）**  
   - **亮点**：逻辑清晰，代码简洁，正确处理所有条件顺序。直接命中问题核心，无冗余步骤。
   - **代码**：通过四个条件判断覆盖所有情况，高效且易读。

2. **FS_qwq（4星）**  
   - **亮点**：代码结构简单，条件判断正确。通过变量命名优化可读性，但核心逻辑与Coffee_zzz一致。

3. **zhu_wen（4星）**  
   - **亮点**：代码注释详细，变量命名规范，逻辑正确。适合教学与理解。

### 最优思路与技巧提炼

- **贪心选择依据**：优先使用能直接获胜的牌，否则最大化消耗对方关键资源。
- **关键条件**：
  - 小C的斩消耗对方杀后，需重新计算小D的杀是否足够击败小C的闪。
  - 小D的斩是否足够击败小C的杀。
- **实现细节**：条件顺序不影响结果，但需覆盖所有可能。

### 同类型题与算法套路

- **类似题目**：资源消耗型博弈（如取石子游戏）、回合制最优策略问题。
- **通用解法**：
  1. 检查直接胜利条件。
  2. 若不能，最大化削弱对手资源。
  3. 重新计算对手反击可能性。

### 推荐题目

1. **P1246 取石子游戏**：经典博弈问题，分析胜负条件。
2. **P1512 打牌**：卡牌对抗策略，最优出牌顺序。
3. **P2123 皇后游戏**：贪心策略在排序中的应用。

### 代码核心片段

```cpp
// Coffee_zzz的代码（核心逻辑）
if (c1 > d2) puts("C");
else if (c3 > d1) puts("C");
else if (d3 > c1) puts("D");
else if (d1 - c3 > c2) puts("D");
else puts("E");
```

### 可视化设计要点

- **动画方案**：以像素风格展示双方卡牌数量变化：
  1. 小C出斩时，小D的杀减少（红色高亮）。
  2. 小D反击时，检查斩或杀是否足够（绿色/黄色标记）。
- **音效与交互**：出牌时播放8-bit音效，胜负时播放不同音调。支持步进与自动播放。
- **关卡设计**：将每一步决策作为关卡，通过后解锁下一步，积分奖励正确选择。

### 复古游戏化效果

- **像素绘制**：Canvas绘制双方卡牌为像素方块，颜色区分类型（杀红、闪蓝、斩绿）。
- **AI自动演示**：自动执行最优策略，展示贪心选择过程。
- **音效触发**：
  - 出牌：短促“哔”声。
  - 胜利：上扬音效。
  - 错误：低沉提示音。

---

**总结**：本题通过贪心策略优先解决直接胜利条件，再通过资源消耗削弱对手，正确实现条件判断是关键。可视化设计可通过复古风格增强理解，帮助学习者直观掌握决策过程。

---
处理用时：139.07秒
# 题目信息

# [NOIP 2015 提高组] 跳石头

## 题目背景

NOIP2015 Day2T1

## 题目描述

一年一度的“跳石头”比赛又要开始了！

这项比赛将在一条笔直的河道中进行，河道中分布着一些巨大岩石。组委会已经选择好了两块岩石作为比赛起点和终点。在起点和终点之间，有 $N$ 块岩石（不含起点和终点的岩石）。在比赛过程中，选手们将从起点出发，每一步跳向相邻的岩石，直至到达终点。

为了提高比赛难度，组委会计划移走一些岩石，使得选手们在比赛过程中的最短跳跃距离尽可能长。由于预算限制，组委会至多从起点和终点之间移走 $M$ 块岩石（不能移走起点和终点的岩石）。

## 说明/提示

### 输入输出样例 1 说明

将与起点距离为 $2$ 和 $14$ 的两个岩石移走后，最短的跳跃距离为 $4$（从与起点距离 $17$ 的岩石跳到距离 $21$ 的岩石，或者从距离 $21$ 的岩石跳到终点）。

### 数据规模与约定

对于 $20\%$的数据，$0 \le M \le N \le 10$。    
对于 $50\%$ 的数据，$0 \le M \le N \le 100$。  
对于 $100\%$ 的数据，$0 \le M \le N \le 50000,1 \le L 
 \le 10^9$。


## 样例 #1

### 输入

```
25 5 2 
2
11
14
17 
21```

### 输出

```
4```

# AI分析结果



## 算法分类
二分

---

## 题解思路与解决难点
**核心思路**：  
本题要求最短跳跃距离的最大值，采用二分答案策略。通过二分法枚举可能的最短跳跃距离，用贪心算法验证该距离是否可行（移走岩石数 ≤ M）。

**关键步骤**：  
1. **二分区间初始化**：下界为 1，上界为总长度 L  
2. **贪心验证函数**：  
   - 遍历岩石，若当前岩石与上一保留岩石的距离 < mid，移走当前岩石  
   - 统计移走总数，最后判断是否 ≤ M  
3. **终点处理**：将终点作为虚拟岩石加入数组，确保最后一步跳跃被验证  

**难点对比**：  
- **边界条件处理**：  
  ShawnZhou 的题解通过 `a[n+1] = d` 处理终点，而 GZXUEXUE 在判断函数末尾单独检查终点距离  
- **二分模板差异**：  
  GSQ0829 使用 `(l + r + 1) >> 1` 避免死循环，而 aiyougege 添加特判 `if(!check(l)) l-=1` 处理极端情况  

---

## 题解评分 (≥4星)
1. **ShawnZhou（5星）**  
   - 思路清晰，详细注释  
   - 完整处理终点逻辑  
   - 代码可读性强  

2. **GZXUEXUE（4星）**  
   - 简洁的贪心判断实现  
   - 标准闭区间二分模板  

3. **GSQ0829（4星）**  
   - 使用防死循环的二分模板  
   - 代码结构紧凑  

---

## 最优思路提炼
1. **二分框架**：  
   ```cpp
   int l=1, r=L, ans;
   while(l <= r){
       int mid = (l+r)/2;
       if(check(mid)) l=mid+1, ans=mid;
       else r=mid-1;
   }
   ```

2. **贪心验证函数**：  
   ```cpp
   bool check(int mid){
       int cnt=0, last=0;
       for(int i=1; i<=n+1; i++){
           if(a[i]-last < mid) cnt++;
           else last = a[i];
       }
       return cnt <= m;
   }
   ```

3. **终点处理技巧**：将终点作为 `a[n+1] = L` 加入数组，统一处理逻辑  

---

## 同类题目推荐
1. [P1316 丢瓶盖](https://www.luogu.com.cn/problem/P1316)  
   （二分最小距离最大值）  

2. [P1182 数列分段](https://www.luogu.com.cn/problem/P1182)  
   （二分最大段和最小值）  

3. [P4343 自动刷题机](https://www.luogu.com.cn/problem/P4343)  
   （二分答案结合计数验证）  

---

## 可视化设计（复古像素风格）
1. **动画元素**：  
   - **区间网格**：Canvas 绘制 [l, r] 区间，mid 用闪烁黄色方块  
   - **岩石跳跃**：像素小人从绿色起点跳向红色终点，失败时播放爆炸特效  

2. **交互设计**：  
   - **步进控制**：按键触发 next/mid/prev 的搜索步骤  
   - **音效反馈**：  
     - `check` 通过：8-bit 上升音阶  
     - `check` 失败：低沉错误音  

3. **AI 演示模式**：  
   ```javascript
   function autoPlay(){
       let mid = Math.floor((l+r)/2);
       drawMid(mid);
       if(check(mid)) {
           l = mid+1;
           playSuccessSound();
       } else {
           r = mid-1;
           playFailSound();
       }
       if(l <= r) setTimeout(autoPlay, 1000);
   }
   ```

---

## 代码实现（核心二分部分）
```cpp
#include <iostream>
using namespace std;

int L, n, m, a[50005];

bool check(int mid){
    int cnt=0, last=0;
    for(int i=1; i<=n+1; i++){
        if(a[i]-last < mid) cnt++;
        else last = a[i];
    }
    return cnt <= m;
}

int main(){
    cin >> L >> n >> m;
    for(int i=1; i<=n; i++) cin >> a[i];
    a[n+1] = L; // 终点处理
    
    int l=1, r=L, ans=0;
    while(l <= r){
        int mid = (l + r) / 2;
        if(check(mid)){
            ans = mid;
            l = mid + 1;
        } else {
            r = mid - 1;
        }
    }
    cout << ans;
    return 0;
}
```

---
处理用时：116.56秒
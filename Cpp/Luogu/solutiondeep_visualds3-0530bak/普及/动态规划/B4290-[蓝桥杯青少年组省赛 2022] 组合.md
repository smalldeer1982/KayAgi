# 题目信息

# [蓝桥杯青少年组省赛 2022] 组合

## 题目描述

某商家将一种汤圆按照数量不同，分装成 $N$ 种规格来售卖。这样的售卖方式会限制一些数量的汤圆买不到。

例如：
- 当 $N=2$ 时，$2$ 种规格的汤圆分别装 $3$ 个和 $5$ 个，这种情况下限制了 $1$、$2$、$4$、$7$ 四种数量的汤圆不能买到。

给出 $N$ 及 $N$ 种规格的汤圆数量，请计算出有多少种数量的汤圆不能买到。如果有无限种数量的汤圆不能买到，就输出 $-1$。

## 样例 #1

### 输入

```
2
3 5```

### 输出

```
4```

# AI分析结果



# 算法分类
数论与动态规划结合

# 综合分析与结论
**题目核心**：判断给定数能否组合出所有自然数。  
**关键点**：若数的最大公约数非1，输出-1；否则统计无法组合出的有限个数。

## 核心难点与解决方案
1. **无限情况判定**：用GCD判断，若不为1则直接输出-1。
2. **有限情况计算**：使用动态规划确定每个数能否被组合，需设置足够大的上限。

## 题解评分（≥4星）
- **ryderyang的题解（4星）**  
  **亮点**：正确使用GCD判断，动态规划思路清晰。  
  **不足**：动态规划上限设为总和可能不够大，导致遗漏某些情况。
  
- **YWT130508的题解（3星）**  
  **亮点**：正确使用完全背包思想。  
  **不足**：错误地用按位或结果判断无限情况。

# 最优思路提炼
1. **GCD判断**：若所有数的最大公约数非1，输出-1。
2. **动态规划优化**：设置足够大的上限（如1e6），用完全背包思路标记可组合数。

# 同类型题拓展
- **完全背包变形**：如硬币组合问题。
- **数论问题**：如青蛙跳台阶的扩展。

# 推荐题目
1. P2563 [质数和分解]  
2. P4549 【模板】裴蜀定理  
3. P1078 文化之旅（动态规划应用）

# 可视化设计
**动态规划状态转移动画**  
- **网格展示**：每格表示数值i能否被组合（红色不可，绿色可）。  
- **高亮变化**：当处理到i时，遍历所有a[j]，若i-a[j]可组合，则标记i为绿色。  
- **步进控制**：支持单步执行，观察每个数的处理过程。  

**复古像素风格**  
- **8-bit音效**：每次状态更新时播放“点击”音效，找到不可组合数时播放低沉音。  
- **Canvas绘制**：用16色像素块表示数值状态，背景音乐循环播放FC风格BGM。

# 核心代码片段
```cpp
#include<bits/stdc++.h>
using namespace std;
const int MAXN = 1e6; // 足够大的上限
int n, a[21], ans;
bool dp[MAXN + 5];

int main() {
    cin >> n;
    int gcd_all = 0, sum = 0;
    for (int i = 0; i < n; ++i) {
        cin >> a[i];
        gcd_all = i ? __gcd(gcd_all, a[i]) : a[i];
        sum += a[i];
    }
    if (gcd_all != 1) {
        cout << -1;
        return 0;
    }
    dp[0] = true;
    for (int i = 1; i <= MAXN; ++i) {
        for (int j = 0; j < n; ++j) {
            if (i >= a[j] && dp[i - a[j]]) {
                dp[i] = true;
                break;
            }
        }
        if (!dp[i]) ans++;
    }
    cout << ans;
    return 0;
}
```

---
处理用时：337.21秒
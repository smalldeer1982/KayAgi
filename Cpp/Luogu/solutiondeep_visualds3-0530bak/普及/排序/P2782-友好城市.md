# é¢˜ç›®ä¿¡æ¯

# å‹å¥½åŸå¸‚

## é¢˜ç›®æè¿°

æœ‰ä¸€æ¡æ¨ªè´¯ä¸œè¥¿çš„å¤§æ²³ï¼Œæ²³æœ‰ç¬”ç›´çš„å—åŒ—ä¸¤å²¸ï¼Œå²¸ä¸Šå„æœ‰ä½ç½®å„ä¸ç›¸åŒçš„ $N$ ä¸ªåŸå¸‚ã€‚åŒ—å²¸çš„æ¯ä¸ªåŸå¸‚æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‹å¥½åŸå¸‚åœ¨å—å²¸ï¼Œè€Œä¸”ä¸åŒåŸå¸‚çš„å‹å¥½åŸå¸‚ä¸ç›¸åŒã€‚æ¯å¯¹å‹å¥½åŸå¸‚éƒ½å‘æ”¿åºœç”³è¯·åœ¨æ²³ä¸Šå¼€è¾Ÿä¸€æ¡ç›´çº¿èˆªé“è¿æ¥ä¸¤ä¸ªåŸå¸‚ï¼Œä½†æ˜¯ç”±äºæ²³ä¸Šé›¾å¤ªå¤§ï¼Œæ”¿åºœå†³å®šé¿å…ä»»æ„ä¸¤æ¡èˆªé“äº¤å‰ï¼Œä»¥é¿å…äº‹æ•…ã€‚ç¼–ç¨‹å¸®åŠ©æ”¿åºœåšå‡ºä¸€äº›æ‰¹å‡†å’Œæ‹’ç»ç”³è¯·çš„å†³å®šï¼Œä½¿å¾—åœ¨ä¿è¯ä»»æ„ä¸¤æ¡èˆªé“ä¸ç›¸äº¤çš„æƒ…å†µä¸‹ï¼Œè¢«æ‰¹å‡†çš„ç”³è¯·å°½é‡å¤šã€‚


## è¯´æ˜/æç¤º

### æ•°æ®è§„æ¨¡ä¸çº¦å®š

- å¯¹äº $50\%$ çš„æ•°æ®ï¼Œ$1 \leq N \leq 5000$ï¼Œ$0 \leq x _ i \leq 10000$ã€‚
- å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$1 \leq N \leq 2 \times 10 ^ 5$ï¼Œ$0 \leq x _ i \leq 10 ^ 6$ã€‚


## æ ·ä¾‹ #1

### è¾“å…¥

```
7
22 4
2 6
10 3
15 12
9 8
17 17
4 2```

### è¾“å‡º

```
4```

# AIåˆ†æç»“æœ



# å‹å¥½åŸå¸‚é¢˜è§£åˆ†æä¸å¯è§†åŒ–æ–¹æ¡ˆ

## å”¯ä¸€ç®—æ³•åˆ†ç±»
**æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆLISï¼‰çš„è´ªå¿ƒä¼˜åŒ–**

---

## ç»¼åˆåˆ†æä¸ç»“è®º

### æ ¸å¿ƒæ€è·¯
1. **é—®é¢˜è½¬åŒ–**ï¼šå°†åŒ—å²¸åæ ‡æ’åºåï¼Œå—å²¸åæ ‡çš„**æœ€é•¿ä¸Šå‡å­åºåˆ—é•¿åº¦**å³ä¸ºç­”æ¡ˆ
2. **æ­£ç¡®æ€§è¯æ˜**ï¼šè‹¥ä¸¤èˆªçº¿äº¤å‰ï¼Œåˆ™å—å²¸åæ ‡å¿…ç„¶å­˜åœ¨é€†åºå¯¹ï¼ŒLISæ€§è´¨ä¿è¯æ— é€†åº
3. **ä¼˜åŒ–æ‰‹æ®µ**ï¼šä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç»´æŠ¤å¯èƒ½æˆä¸ºLISçš„å…ƒç´ ï¼Œå¤æ‚åº¦ä¼˜åŒ–ä¸º O(n logn)

### å¯è§†åŒ–è®¾è®¡è¦ç‚¹
1. **åŠ¨ç”»æµç¨‹**ï¼š
   - ç¬¬ä¸€æ­¥ï¼šå±•ç¤ºåŒ—å²¸åæ ‡æ’åºè¿‡ç¨‹ï¼ˆçº¢è‰²ç®­å¤´åŠ¨æ€ç§»åŠ¨å…ƒç´ ï¼‰
   - ç¬¬äºŒæ­¥ï¼šå—å²¸åæ ‡æ•°ç»„é«˜äº®æ˜¾ç¤ºï¼ˆè“è‰²æ–¹å—é˜µåˆ—ï¼‰
   - ç¬¬ä¸‰æ­¥ï¼šç”¨ç»¿è‰²å…‰æŸ±åŠ¨æ€æ¼”ç¤ºç»´æŠ¤LISåºåˆ—çš„è¿‡ç¨‹
   ```javascript
   // ä¼ªä»£ç ç¤ºä¾‹ï¼šCanvasç»˜åˆ¶é€»è¾‘
   function drawStep() {
     ctx.clearRect(0, 0, canvas.width, canvas.height);
     drawSortingAnimation(); // åŒ—å²¸æ’åºåŠ¨ç”»
     drawSouthCoords();     // å—å²¸åæ ‡æ•°ç»„
     highlightLIS();        // å½“å‰ç»´æŠ¤çš„LISåºåˆ—
   }
   ```
2. **åƒç´ é£æ ¼**ï¼š
   - ä½¿ç”¨ 8-bit è°ƒè‰²æ¿ï¼ˆ#FF6B6B çº¢ã€#4ECDC4 è“ã€#A3CB38 ç»¿ï¼‰
   - éŸ³æ•ˆè®¾è®¡ï¼šæ’å…¥å…ƒç´ æ—¶æ’­æ”¾8-bit "ping"ï¼Œæ›¿æ¢å…ƒç´ æ—¶æ’­æ”¾"blip"
3. **AIè‡ªåŠ¨æ¼”ç¤º**ï¼š
   - è‡ªåŠ¨æ’­æ”¾æ¨¡å¼ä¸‹ï¼Œç®—æ³•ä»¥æ¯æ­¥500msé€Ÿåº¦æ‰§è¡Œ
   - æ”¯æŒæš‚åœ/ç»§ç»­ï¼Œå¯æ‹–æ‹½è¿›åº¦æ¡å›æº¯ä»»æ„æ­¥éª¤

---

## é¢˜è§£æ¸…å•ï¼ˆè¯„åˆ†â‰¥4æ˜Ÿï¼‰

### 1. ACæœºï¼ˆâ˜…â˜…â˜…â˜…â˜†ï¼‰
- **äº®ç‚¹**ï¼šä»£ç ç®€æ´ï¼Œç›´æ¥ä½¿ç”¨`upper_bound`ç»Ÿä¸€å¤„ç†æ’å…¥å’Œæ›¿æ¢
- **å…³é”®ä»£ç **ï¼š
  ```cpp
  int dbzjrQwQ = upper_bound(d+1, d+len+1, a[i].south) - d;
  d[dbzjrQwQ] = a[i].south;  // ç»Ÿä¸€æ›¿æ¢ç­–ç•¥
  ```

### 2. 1379å·ç›‘å¬å‘˜ï¼ˆâ˜…â˜…â˜…â˜…â˜…ï¼‰
- **äº®ç‚¹**ï¼šåŒ…å«è¯¦ç»†çš„æ•°å­¦æ¨å¯¼å’Œæ›¿æ¢ç­–ç•¥å›¾è§£
- **ç¤ºä¾‹è¯´æ˜**ï¼š
  ```cpp
  if(c[i].south > lis[ans]) lis[++ans] = c[i].south;  // ç›´æ¥è¿½åŠ 
  else *lower_bound(lis+1, lis+ans+1, c[i].south) = c[i].south; // ä¼˜åŒ–æ›¿æ¢
  ```

### 3. ç»´è¿­ç”Ÿï¼ˆâ˜…â˜…â˜…â˜…â˜†ï¼‰
- **äº®ç‚¹**ï¼šä½¿ç”¨æ ‘çŠ¶æ•°ç»„å®ç°LISï¼Œé€‚åˆå¤§æ•°æ®é‡æ‰©å±•
- **åˆ›æ–°ç‚¹**ï¼š
  ```cpp
  int x = ask(a[i].s) + 1;  // æ ‘çŠ¶æ•°ç»„æŸ¥è¯¢å‰é©±æœ€ä¼˜è§£
  add(a[i].s + 1, x);       // ç»´æŠ¤åŒºé—´æœ€å¤§å€¼
  ```

---

## æœ€ä¼˜æ€è·¯æç‚¼

### å…³é”®æŠ€å·§
1. **æ’åºè½¬åŒ–**ï¼šä»¥åŒ—å²¸ä¸ºåŸºå‡†æ’åºï¼Œå°†äºŒç»´é—®é¢˜é™ä¸ºä¸€ç»´
2. **è´ªå¿ƒç»´æŠ¤**ï¼šä½¿ç”¨å•è°ƒæ•°ç»„å­˜å‚¨å¯èƒ½æˆä¸ºLISçš„å…ƒç´ 
3. **äºŒåˆ†ä¼˜åŒ–**ï¼š
   - æ–°å…ƒç´ å¤§äºæœ«å°¾ï¼šç›´æ¥è¿½åŠ ï¼ˆåºåˆ—å¢é•¿ï¼‰
   - å¦åˆ™æ›¿æ¢é¦–ä¸ªå¤§äºå®ƒçš„å…ƒç´ ï¼ˆä¿æŒåºåˆ—æ½œåŠ›ï¼‰

### æ ¸å¿ƒä»£ç å®ç°
```cpp
sort(a+1, a+n+1, [](auto& x, auto& y){ return x.north < y.north; });
vector<int> lis;
for(auto& p : a) {
    auto it = upper_bound(lis.begin(), lis.end(), p.south);
    if(it == lis.end()) lis.push_back(p.south);
    else *it = p.south;
}
cout << lis.size();
```

---

## ç›¸ä¼¼é¢˜ç›®æ¨è
1. **P1020** å¯¼å¼¹æ‹¦æˆªï¼ˆLISç»å…¸é—®é¢˜ï¼‰
2. **P1091** åˆå”±é˜Ÿå½¢ï¼ˆåŒå‘LISåº”ç”¨ï¼‰
3. **P1439** æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLISè½¬åŒ–æŠ€å·§ï¼‰

---

## å¯è§†åŒ–ç®—æ³•æ¼”ç¤º

### åŠ¨ç”»æ–¹æ¡ˆè®¾è®¡
1. **åŒ—å²¸æ’åºé˜¶æ®µ**ï¼š
   - ç”¨çº¢è‰²æ–¹å—è¡¨ç¤ºåŒ—å²¸åŸå¸‚ï¼Œé»„è‰²ç®­å¤´å±•ç¤ºå†’æ³¡æ’åºè¿‡ç¨‹
   - åŒæ­¥æ˜¾ç¤ºå—å²¸åæ ‡çš„å¯¹åº”å˜åŒ–ï¼ˆè“è‰²è¿çº¿ï¼‰

2. **LISç»´æŠ¤é˜¶æ®µ**ï¼š
   ```javascript
   // ä¼ªä»£ç ï¼šäºŒåˆ†æŸ¥æ‰¾å¯è§†åŒ–
   function visualizeBinarySearch(target) {
     let left = 0, right = lis.length-1;
     while(left <= right) {
       let mid = Math.floor((left+right)/2);
       highlightCell(mid);  // é«˜äº®å½“å‰æ¯”è¾ƒä½ç½®
       playSound('blip');   // æ’­æ”¾æ¯”è¾ƒéŸ³æ•ˆ
       // æ›´æ–°å·¦å³è¾¹ç•Œ...
     }
   }
   ```

3. **äº¤äº’æ§åˆ¶**ï¼š
   - **é€Ÿåº¦è°ƒèŠ‚**ï¼šæ»‘åŠ¨æ¡æ§åˆ¶åŠ¨ç”»é€Ÿåº¦ï¼ˆ0.5x~3xï¼‰
   - **æ¨¡å¼åˆ‡æ¢**ï¼šæ‰‹åŠ¨æ­¥è¿›/è‡ªåŠ¨æ’­æ”¾/å›æº¯æ¨¡å¼

### å¤å¤åƒç´ é£æ ¼
- **è§’è‰²è®¾è®¡**ï¼šå°†åŸå¸‚åæ ‡ç‚¹è½¬åŒ–ä¸º8-bitåƒç´ èˆ¹ï¼ˆğŸš¢åŒ—å²¸ï¼‰å’Œç¯å¡”ï¼ˆğŸ—¼å—å²¸ï¼‰
- **èƒŒæ™¯éŸ³ä¹**ï¼šFCé£æ ¼çš„å¾ªç¯æ—‹å¾‹ï¼Œä½¿ç”¨[Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API)å®ç°
- **éŸ³æ•ˆè®¾è®¡**ï¼š
  ```javascript
  function playSound(type) {
    const osc = audioCtx.createOscillator();
    osc.frequency.setValueAtTime(
      type === 'add' ? 880 : 440, audioCtx.currentTime
    );
    osc.connect(audioCtx.destination);
    osc.start(); osc.stop(audioCtx.currentTime + 0.1);
  }
  ```

---

é€šè¿‡è¿™ç§å°†ç®—æ³•è¿‡ç¨‹æ¸¸æˆåŒ–çš„è®¾è®¡ï¼Œå­¦ä¹ è€…å¯ä»¥ç›´è§‚ç†è§£LISç»´æŠ¤ç­–ç•¥ï¼ŒåŒæ—¶é€šè¿‡äº¤äº’æ“ä½œåŠ æ·±å¯¹è´ªå¿ƒç®—æ³•çš„ç†è§£ã€‚

---
å¤„ç†ç”¨æ—¶ï¼š86.19ç§’
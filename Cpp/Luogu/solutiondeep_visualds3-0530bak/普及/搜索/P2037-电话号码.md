# 题目信息

# 电话号码

## 题目描述

一串由长长的数字组成的电话号码通常很难记忆。为了方便记忆，有种方法是用单词来方便记忆。例如用 `Three Tens` 来记忆电话 `3-10-10-10`。

电话号码的标准形式是七位数字，中间用连字号分成前三个和后四个数字（例如：`888-1200`）。电话号码可以用字母来表示。以下是字母与数字的对应：

 - `A`，`B` 和 `C` 对应 `2`；
 - `D`，`E` 和 `F` 对应 `3`；
 - `G`，`H` 和 `I` 对应 `4`；
 - `J`，`K` 和 `L` 对应 `5`；
 - `M`，`N` 和 `O` 对应 `6`；
 - `P`，`R` 和 `S` 对应 `7`；
 - `T`，`U` 和 `V` 对应 `8`；
 - `W`，`X` 和 `Y` 对应 `9`。

你会发现其中没有字母 `Q` 和 `Z`。电话中的连字号是可以忽略。例如 `TUT-GLOP` 的标准形式是 `888-4567`，`310-GINO` 的标准形式是 `310-4466`，`3-10-10-10` 的标准形式是 `310-1010`。

如果两个电话号码的标准形式是一样的，那么这两个电话号码就是一样的。

现在有一本电话簿，请从中找出哪些电话号码是重复的。


## 说明/提示

【数据范围】

对于 $30\%$ 的数据，$N\le20$。

对于 $50\%$ 的数据，$N\le10000$。

对于 $100\%$ 的数据，$N\le10^5$。


## 样例 #1

### 输入

```
3

TUT-GLOP

3-10-10-10

310-1010

```

### 输出

```
310-1010 2```

# AI分析结果

### 算法分类
其他搜索（本题核心是字符串处理与哈希统计，不涉及传统搜索算法）

### 题解分析与结论

#### 核心思路
1. **字符串转换**：将字母电话号码转换为纯数字形式，忽略连字符
2. **统计重复**：使用高效数据结构（如数组、map、Trie）统计标准形式的出现次数
3. **输出处理**：格式化输出重复号码及其计数

#### 解决难点
- **字母映射处理**：需要正确处理Q/Z的缺失和大小写问题
- **高效统计**：对1e5数据量需要O(n)或O(nlogn)算法
- **输出格式**：前导零处理和标准格式要求

#### 最优解法特征
- 使用数组直接映射（比map更快）
- 七维数组或整数存储（避免字符串操作开销）
- 预处理字母映射关系

### 题解评分（≥4星）

1. **tututu（5星）**
   - 亮点：简洁的数组映射，直接排序后线性扫描
   - 关键代码：
```cpp
const int f[25]={2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7,7,8,8,8,9,9,9};
for(int j=0;j<cnt.length();j++)
    if(cnt[j]<='9'&&cnt[j]>='0') s[i]+=cnt[j];
    else if(cnt[j]>='A'&&cnt[j]<='Z') s[i]+='0'+f[cnt[j]-'A'];
```

2. **飞了的心（4.5星）**
   - 亮点：七维数组直接统计，极致优化
   - 关键代码：
```cpp
int a[10][10][10][10][10][10][10];
++a[r[0]][r[1]][r[2]][r[3]][r[4]][r[5]][r[6]];
```

3. **novax（4星）**
   - 亮点：Trie树实现，理论最优但实现复杂
   - 关键代码：
```cpp
void dfs(int p,int dep,int val) {
    s3[dep]=val;
    if(dep==7 && siz[p]>=2) print(siz[p]);
}
```

### 最优技巧提炼
1. **预处理映射表**：使用const数组替代switch/case
2. **整数存储**：将7位号码转为int而非string处理
3. **直接统计**：七维数组比STL map更高效

### 同类型题目
1. P2580（统计单词出现次数）
2. P1739（表达式括号匹配统计）
3. P1177（字符串排序与去重）

### 可视化设计
1. **转换过程动画**：
   - 逐步显示字母→数字的转换
   - 高亮当前处理字符
   - 实时显示生成的数字串

2. **统计过程可视化**：
   ```mermaid
   graph LR
   A[原始号码] --> B(去除连字符)
   B --> C(字母转换)
   C --> D[标准形式]
   D --> E{是否已存在}
   E -->|是| F[计数器+1]
   E -->|否| G[新建条目]
   ```

3. **复古风格设计**：
   - 8-bit字体显示电话号码
   - 转换时播放"哔"声效
   - 结果用像素风格对话框弹出

### 个人心得摘录
"被Q/Z的映射卡了2小时...一定要仔细读题" —— Deny_小田
"七维数组看似暴力实则高效" —— 飞了的心
"Trie的层数固定为7是优势" —— novax

### 推荐实现代码
```cpp
// 最优解核心代码（飞了的心版精简）
#include<iostream>
using namespace std;
int a[10][10][10][10][10][10][10],n;
const int p[26]={2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,0,7,7,8,8,8,9,9,9};

int main(){
    cin>>n;
    while(n--){
        int r[7],pos=0; char c;
        while(pos<7){
            c=getchar();
            if(isdigit(c)) r[pos++]=c-'0';
            if(isalpha(c)) r[pos++]=p[c-'A'];
        }
        a[r[0]][r[1]][r[2]][r[3]][r[4]][r[5]][r[6]]++;
    }
    
    bool f=1;
    for(int i=0;i<10;i++) for(int j=0;j<10;j++) /*...*/ 
        if(a[i][j][k][l][m][n][o]>1){
            printf("%d%d%d-%d%d%d%d %d\n",i,j,k,l,m,n,o,a[i][j][k][l][m][n][o]);
            f=0;
        }
    if(f) cout<<"No duplicates.";
}
```

---
处理用时：39.95秒
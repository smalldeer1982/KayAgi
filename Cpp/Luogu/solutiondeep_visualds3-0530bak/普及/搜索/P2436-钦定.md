# 题目信息

# 钦定

## 题目描述

小 S 拿到了复赛参赛表，表上的选手是由 $A$ 位神犇与 $B$ 位蒟蒻间隔、循环构成的。

比如 $A=2$，$B=3$ 时，选手 $1,2,6,7,11,12\dots$ 是神犇，选手 $3,4,5,8,9,10,13,14,15\dots$是蒟蒻。

现在小 S 钦定了一些选手是神犇，蒟蒻，但她不能构造出这样的 $A,B$，你能帮帮她吗？

## 说明/提示

对于 $10 \%$ 的数据，$1 \le N,M \le 10$。

对于 $30 \%$ 的数据，$1 \le N,M \le 100$。

对于 $100 \%$ 的数据，$1 \le N,M \le 1000$，$1 \le T \le 10$，$1 \le a_i,b_i \le 2 \times 10 ^ 5$。

## 样例 #1

### 输入

```
10 1
4 8 55 56 57 63 64 67 70 150
87```

### 输出

```
20 2```

# AI分析结果

### 算法分类选择
**其他搜索**

### 题解思路、算法要点与解决难点
1. **核心思路**  
   - 题目要求找到满足条件的循环周期 `A + B`，使得所有神犇编号在模 `A + B` 后的余数位于 `[1, A]`，而所有蒟蒻编号的余数位于 `[A+1, A+B]`。
   - 题解普遍采用枚举可能的周期 `k`，然后验证是否满足上述条件。

2. **搜索策略**  
   - **枚举周期**：从 `2` 到 `(n + m) * 10 + 1` 枚举可能的周期 `k`。
   - **验证条件**：
     - 计算所有神犇编号模 `k` 的最大余数 `max_a`（若余数为 `0` 则取 `k`）。
     - 计算所有蒟蒻编号模 `k` 的最小余数 `min_b`（若余数为 `0` 则取 `k`）。
     - 检查是否 `max_a < min_b`，若满足则 `A = max_a`，`B = k - max_a`。

3. **难点与解决**  
   - **周期范围**：枚举范围需要足够大以覆盖可能的解，但也不能过大导致超时。题解中通常取 `(n + m) * 10 + 1`。
   - **模运算处理**：余数为 `0` 时需要特殊处理为 `k`。
   - **多组数据**：需要正确处理每组数据的初始化和输出。

### 题解评分 (1 ~ 5星)
1. **作者：Warriorszx (赞：10)**  
   - **评分：4.5星**  
   - **亮点**：代码清晰，逻辑直接，枚举和验证部分分开，易于理解。使用了结构体存储候选解并排序。
   - **代码片段**：
     ```cpp
     for(int i=2;i<=cnt;i++) {
         ans1=0; ans2=2010000000;
         for(int j=1;j<=n;j++) {
             c[j]=a[j]%i;
             if(c[j]==0) ans1=max(ans1,i);
             else ans1=max(c[j],ans1);
         }
         for(int j=1;j<=m;j++) {
             d[j]=b[j]%i;
             if(d[j]==0) ans2=min(ans2,i);
             else ans2=min(ans2,d[j]);
         }
         if(ans1<ans2) {
             q[++tail].x=ans1;
             q[tail].y=i-ans1;
         }
     }
     ```

2. **作者：wang6w6 (赞：6)**  
   - **评分：4星**  
   - **亮点**：代码结构清晰，注释详细，适合初学者。使用了 `long long` 避免溢出。
   - **代码片段**：
     ```cpp
     for(ll i=2;i<=(n+m)*10+1;i++) {
         A=0; B=MA;
         for(ll j=1;j<=n;j++) {
             ra[j]=a[j]%i;
             if(ra[j]==0) A=max(A,i);
             else A=max(A,ra[j]);
         }
         for(ll j=1;j<=m;j++) {
             rb[j]=b[j]%i;
             if(rb[j]==0) B=min(B,i);
             else B=min(B,rb[j]);
         }
         if(A<B) {
             len++;
             ans[len].A=A;
             ans[len].B=i-A;
         }
     }
     ```

3. **作者：superLouis (赞：3)**  
   - **评分：4星**  
   - **亮点**：代码简洁，使用了 `pair<int, int>` 直接比较和更新答案，避免了排序。
   - **代码片段**：
     ```cpp
     for (int i = 1; i <= (n + m) * 10; i++) {
         int xx = -inf, yy = inf;
         for (int j = 1; j <= n; j++) xx = max(xx, a[j] % i ? a[j] % i : i);
         for (int j = 1; j <= m; j++) yy = min(yy, b[j] % i ? b[j] % i : i);
         if (xx >= yy) continue;
         flg = true;
         yy = i - xx;
         ans = min(ans, {xx, yy});
     }
     ```

### 最优思路或技巧提炼
1. **枚举周期**：枚举可能的周期 `k`，范围通常取 `(n + m) * 10 + 1`。
2. **模运算处理**：余数为 `0` 时特殊处理为 `k`。
3. **验证条件**：`max_a < min_b` 时，`A = max_a`，`B = k - max_a`。
4. **候选解管理**：使用结构体或 `pair` 存储候选解，排序或直接比较更新最优解。

### 同类型题或类似算法套路
- **类似题目**：
  - **P1217 回文质数**：枚举和验证回文质数。
  - **P1036 选数**：枚举子集并验证和是否为素数。
  - **P1149 火柴棒等式**：枚举可能的等式并验证。

### 个人心得摘录
- **作者：lmrttx**：提到题目难度较低，但自己交了多次才通过，强调了思考和理解的重要性。
- **作者：MaiJingYao666**：提醒注意多测不清空会导致爆零，强调了初始化的必要性。

### 可视化与算法演示
1. **动画方案**：
   - **枚举周期**：可视化枚举过程，高亮当前周期 `k`。
   - **模运算**：对于每个 `k`，展示神犇和蒟蒻编号的模运算结果。
   - **验证条件**：用颜色标记 `max_a` 和 `min_b`，比较大小。
   - **候选解更新**：展示候选解的更新过程，最终最优解的高亮。

2. **复古游戏化动画效果**：
   - **像素风格**：用 8-bit 风格显示编号和模运算结果。
   - **音效**：
     - **访问新节点**：播放轻微音效。
     - **找到解**：播放上扬音调。
     - **无解**：播放失败音效。
   - **自动演示**：自动运行枚举和验证过程，步进控制速度。

### 推荐题目
1. **P1217 回文质数**
2. **P1036 选数**
3. **P1149 火柴棒等式**

### 综合分析与结论
题目通过枚举和模运算验证来寻找满足条件的周期 `A + B`。核心难点在于正确枚举范围和模运算处理。题解中普遍采用直接枚举和验证的方法，代码实现清晰。可视化可以通过动画和复古风格增强理解，适合初学者学习枚举和模运算的应用。

---
处理用时：56.23秒
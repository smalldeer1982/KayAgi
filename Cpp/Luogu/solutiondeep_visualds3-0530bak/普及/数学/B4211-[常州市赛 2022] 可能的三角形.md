# 题目信息

# [常州市赛 2022] 可能的三角形

## 题目背景

搬运自 <http://czoj.com.cn/p/452>。数据为民间数据。



## 题目描述

小 $\text{X}$ 和小 $\text Y$ 都是龙城学堂的资深学员，为了丰富学弟学妹们的课余生活，小 $\text{X}$ 和小 $\text{Y}$ 发明了一个简单的数字游戏。

小 $\text{Y}$ 有三个正整数 $A,B,C(2≤A≤B≤C)$，且 $A,B,C$ 刚好构成一个三角形的三条边。这些数字是保密的，他不会直接透露给小 $\text{X}$。他会告诉小 $\text{X}$ 一共 $4$ 个正整数 $x_1,x_2,x_3,x_4$，并宣称 $x_1,x_2,x_3,x_4$ 每个数必定是 $A,B,C,A+B,A+C,B+C$ 或 $A+B+C$ 之一。

为了公平起见，小 $\text{Y}$ 不可能撒谎，也就是说他给出的这些正整数里一定存在至少一组对应的合法的 $(A,B,C)$，满足 $A,B,C$ 恰好是某个三角形的三条边。

小 $\text{X}$ 百思不得其解，所以请你来求出有哪些三元组 $(A,B,C)$ 符合条件。

## 说明/提示

### 样例解释
对于第一组解，$A=2,B=2,C=3$，输入的 $4$ 个数对应的值分别是 $A,A+B,A+C,A+B+C$；

对于第二组解，$A=2,B=3,C=4$，输入的 $4$ 个数对应的值分别是 $A,C,A+B,B+C$；

对于第三组解，$A=2,B=4,C=5$，输入的 $4$ 个数对应的值分别是 $A,B,C,A+C$；

除此之外不可能存在其它符合条件的三角形了。注意 $(1,2,4)$ 不可能组成三角形。

### 数据规模与约定
对于所有数据，$1≤x_1,x_2,x_3,x_4≤10^9$。
| 测试点编号 | 特殊性质 |
| :----------: | :----------: |
| $1$ | 保证答案的 $A,B,C$ 构成直角三角形 |
| $2$ | 保证答案的 $A,B,C$ 构成等腰三角形 |
| $3$ | 保证答案的 $A,B,C$ 构成等边三角形 |
| $1 \sim 6$ | 保证答案的 $A,B,C$ 唯一 |
| $7 \sim 10$ | $1≤x_1,x_2,x_3,x_4≤100$ |
| $11 \sim 20$ | 无 |

## 样例 #1

### 输入

```
2 4 5 7```

### 输出

```
2 2 3
2 3 4
2 4 5```

# AI分析结果



### 算法分类选择
**无算法分类**

### 综合分析与结论
本题核心逻辑为**枚举所有可能的组合关系**，通过等式推导 A、B、C 的值并验证三角形条件。题解代码通过 35 个分支穷举可能的组合，每个分支对应不同的等式关系。例如：
- 若某两个数相加等于第四个数（如 `x1+x2=x4`），则尝试构造 A、B、C。
- 若四个数满足特殊关系（如 `x1+x2+x3=2x4`），则通过方程求解 A、B、C。

**核心难点**在于全面覆盖所有可能组合，确保每种合法情况都能被推导。例如，样例中的第三个解（A=2, B=4, C=5）需处理四个数中的三个为 A/B/C，第四个为 A+C 的情况。代码通过分支条件 `x1+x3=x4`（对应 A=2, C=5, x4=7）触发，并构造候选解。

**可视化设计要点**：
1. **高亮当前分支条件**：如标记 `x1+x3` 是否等于 `x4`，突出当前判断的等式。
2. **候选解生成动画**：展示如何从当前分支的等式推导 A、B、C，并调用 `check` 函数验证。
3. **复古像素风格**：用 8-bit 网格展示每个分支的推导过程，辅以音效提示成功/失败。

### 题解清单 (≥4星)
**HanSF 的题解（4 星）**
- **关键亮点**：通过 35 个分支覆盖所有组合，直接枚举可能的等式关系。
- **优化点**：排序去重，避免重复解。
- **不足**：代码冗长，部分分支可能存在冗余或遗漏。

### 最优思路或技巧提炼
1. **组合枚举法**：将四个数视为 A/B/C 或其和的组合，枚举所有可能的等式关系。
2. **方程求解**：对特殊组合（如三个和为两倍第四个数）建立方程组求解 A/B/C。
3. **排序去重**：对候选解排序后去重，避免重复输出。

### 同类型题或类似算法套路
- **等式推导**：如 [LeetCode 15. 3Sum](https://leetcode.com/problems/3sum/)。
- **组合枚举**：如 [洛谷 P1012 拼数](https://www.luogu.com.cn/problem/P1012)。

### 推荐相似洛谷题目
1. [P1217 回文质数](https://www.luogu.com.cn/problem/P1217) - 枚举与数学条件结合。
2. [P1147 连续自然数和](https://www.luogu.com.cn/problem/P1147) - 等式分解与枚举。
3. [P1102 A-B数对](https://www.luogu.com.cn/problem/P1102) - 利用哈希优化枚举。

### 个人心得摘录
- **调试教训**：需逐一验证每个分支的条件是否覆盖所有合法情况，避免遗漏或重复。
- **思维角度**：将复杂组合问题拆解为独立等式，逐个击破。

### 核心代码实现
```cpp
void check(int a1, int a2, int a3) {
    if (a1 < 0 || a2 < 0 || a3 < 0) return;
    if (a1 + a2 > a3 && a2 + a3 > a1 && a1 + a3 > a2 && a1 <= a2 && a2 <= a3)
        tmp[++tot] = {a1, a2, a3};
}

// 示例分支：处理 x1+x3=x4 的情况
if (x[1] + x[3] == x[4]) { // 分支19
    int a1 = x[1], a2 = x[2] - x[1], a3 = x[4] - x[2];
    check(a1, a2, a3);
}
```

### 可视化与算法演示
**动画方案**：
1. **网格布局**：将四个数显示为像素方块，高亮当前参与计算的数。
2. **分支触发**：当条件满足时，显示推导公式（如 `x1+x3=x4`），并生成候选解。
3. **验证过程**：以红绿颜色标记候选解是否通过三角形检查。

**复古游戏化效果**：
- **音效**：成功时播放 8-bit 胜利音效，失败时播放短促提示音。
- **自动演示**：按分支顺序自动播放推导过程，支持暂停/步进。

---
处理用时：409.90秒
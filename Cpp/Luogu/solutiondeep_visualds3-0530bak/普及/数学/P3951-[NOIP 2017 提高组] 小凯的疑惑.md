# 题目信息

# [NOIP 2017 提高组] 小凯的疑惑

## 题目背景

NOIP2017 提高组 D1T1

## 题目描述

小凯手中有两种面值的金币，两种面值均为正整数且彼此互素。每种金币小凯都有无数个。在不找零的情况下，仅凭这两种金币，有些物品他是无法准确支付的。现在小凯想知道在无法准确支付的物品中，最贵的价值是多少金币？

注意：输入数据保证存在小凯无法准确支付的商品。


## 说明/提示

【输入输出样例 1 说明】

小凯手中有面值为 $3$ 和 $7$ 的金币无数个，在不找零的前提下无法准确支付价值为 $1,2,4,5,8,11$ 的物品，其中最贵的物品价值为 $11$，比 $11$ 贵的物品都能买到，比如：

$12 = 3 \times 4 + 7 \times 0$；

$13 = 3 \times 2 + 7 \times 1$；

$14 = 3 \times 0 + 7 \times 2$；

$15 = 3 \times 5 + 7 \times 0 $。


【数据范围与约定】

对于 $30\%$ 的数据： $1 \le a,b \le 50 $。

对于 $60\%$ 的数据： $1 \le a,b \le 10^4 $。

对于$ 100\%$ 的数据：$1 \le a,b \le 10^9 $。


## 样例 #1

### 输入

```
3 7```

### 输出

```
11
```

# AI分析结果



## 数学分类选择
**数论**

---

## 题解思路、算法要点与解决难点

### 核心思路与数学方法
所有题解均指向同一结论：互质正整数 $a,b$ 无法表示的最大数为 $ab-a-b$。主要数学推导路径有：
1. **模运算极值法**：假设最大无法表示数为 $x=ma-b$，取 $m=b-1$ 得 $x=ab-a-b$
2. **扩展欧几里得法**：构造方程 $ax+by=1$ 的最小非负解，通过通解形式推导最大无效数
3. **同余类最短路模型**：将数分为 $a$ 个剩余类，证明最大无法表示数为 $ab-a-b$
4. **反证法**：假设 $ab-a-b$ 可表示，导出矛盾

### 关键公式推导
1. **极值推导**：  
   - 设无法表示数为 $x = ma + nb$，要求 $n<0$
   - 取 $n=-1$，得 $x = ma - b$
   - 为使 $x$ 最大，取 $m=b-1$，得 $x = (b-1)a - b = ab-a-b$

2. **反证法核心步骤**：  
   - 若 $ab-a-b = ax + by$，则 $a(b-1-x) = b(y+1)$
   - 因 $a,b$ 互质，必须 $a|y+1$ 且 $b|b-1-x$，导出矛盾

---

## 题解评分（≥4星）

### 5星题解
**Mzwuzad（赞514）**  
- 亮点：极简推导，直接命中核心公式  
- 代码：仅3行，完美体现数论公式的直接应用

### 4星题解
**ghj1222（赞222）**  
- 亮点：通过反证法详细证明公式合法性，补充同类型题目结论  
- 代码：直接输出公式，实践性极强

**jszjinshengzhi（赞107）**  
- 亮点：结合扩展欧几里得与模运算，给出两种推导路径  
- 代码：附带扩展欧几里得实现，适合数学推导教学

---

## 最优思路或技巧提炼
**核心公式推导技巧**：  
1. **模运算极值法**  
   - 设无法表示数为 $ma + nb$，强制 $n=-1$ 避免可表示性  
   - 取 $m=b-1$ 使 $x$ 达最大值，直接得 $ab-a-b$  
2. **反证法实践**  
   - 假设目标数可表示，利用互质性质导出整除矛盾  
3. **同余类覆盖思想**  
   - 将数分为 $a$ 个剩余类，证明每个类的最小可表示数后取最大值减 $a$

---

## 同类型题与算法套路
**常见数论模型**：  
1. **贝祖定理应用**：求解 $ax+by=c$ 的解存在性问题  
2. **模运算剩余系**：通过剩余类划分分析数的可表示性  
3. **最大值构造**：在互质条件下，通过极值取法寻找边界值

---

## 推荐相似题目
1. **P2662 牛场围栏**（无法表示的最大数扩展）  
2. **蓝桥杯 买不到的数目**（本题原题变体）  
3. **P4549 裴蜀定理**（贝祖定理基础应用）

---

## 个人心得摘录
> "从答案反推公式时，将无法表示数转化为必须各取一次的场景，瞬间通透" —— ghj1222  
> "扩展欧几里得考场推导时，要特别注意最小非负解的调整" —— jszjinshengzhi

---

## 可视化与算法演示设计
### 核心数学过程动画
**步骤演示（像素风格）**：  
1. **初始画面**：显示两个金币 $a=3$, $b=7$，网格展示 0~24 的数  
2. **可表示数染色**：  
   - 用绿色像素块标记 $3x+7y$ 的所有组合（如 3,6,7,9...）  
3. **最大空缺数高亮**：  
   - 红色闪烁块显示 11，弹出公式 $3×7-3-7=11$  
4. **极值推导动画**：  
   - 展示 $m=6$（$b-1$）和 $n=-1$ 的组合：$3×6 + 7×(-1)=11$  
   - 用黄色箭头强调 $m$ 取最大值 $b-1$

### 复古游戏化要素
- **8位音效**：  
  - 正确染色时播放 "哔" 声，发现空缺数时播放 "叮咚" 音  
- **积分系统**：  
  - 每正确标记 10 个可表示数得 100 分，找到最大空缺数得 500 分  
- **自动推导模式**：  
  - AI 角色"数学勇者"逐步染色网格，最终拔剑显示公式

### 关键代码片段（Canvas绘制）
```javascript
// 绘制可表示数网格
function drawGrid(a, b, max) {
  ctx.fillStyle = "#2C3E50";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  for (let x = 0; x <= max; x++) {
    for (let y = 0; x*a + y*b <= max; y++) {
      const num = x*a + y*b;
      if (num <= max) {
        // 绿色块标记可表示数
        ctx.fillStyle = "#2ECC71";
        ctx.fillRect((num%20)*16, Math.floor(num/20)*16, 15, 15);
      }
    }
  }
}
```

---

## 最终结论
通过数论中的极值构造与模运算分析，可快速得出无法表示数的最大值为 $ab-a-b$。该结论在 OI 竞赛中需直接应用公式，避免复杂算法实现。

---
处理用时：83.19秒
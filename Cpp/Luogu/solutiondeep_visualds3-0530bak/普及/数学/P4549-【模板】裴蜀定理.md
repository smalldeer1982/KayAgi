# 题目信息

# 【模板】裴蜀定理

## 题目描述

给定一个包含 $n$ 个元素的**整数**序列 $A$，记作 $A_1,A_2,A_3,...,A_n$。

求另一个包含 $n$ 个元素的待定**整数**序列 $X$，记 $S=\sum\limits_{i=1}^nA_i\times X_i$，使得 $S>0$ 且 $S$ 尽可能的小。

## 说明/提示

对于 $100\%$ 的数据，$1 \le n \le 20$，$|A_i| \le 10^5$，且 $A$ 序列不全为 $0$。

## 样例 #1

### 输入

```
2
4059 -1782
```

### 输出

```
99```

# AI分析结果



# 题解分析与结论

## 1. 数学分类
**数论**  
本题核心是应用推广的裴蜀定理求整数序列的绝对值的最大公约数。

---

## 2. 题解思路与解决难点
### 算法核心
- **裴蜀定理推广**：对于整数序列 $a_1, a_2, \dots, a_n$，其线性组合 $S = \sum a_i x_i$ 的最小正值为 $\gcd(|a_1|, |a_2|, \dots, |a_n|)$。
- **处理负数**：直接取绝对值，不影响最大公约数计算。
- **逐步求解**：逐个计算当前数与已有最大公约数的 GCD。

### 关键公式与推导
1. **定理证明**：  
   - 通过数学归纳法证明多变量的裴蜀定理：若 $d = \gcd(a_1, \dots, a_n)$，则存在整数 $x_i$ 使 $\sum a_i x_i = d$。
   - 推导依赖辗转相除法和线性组合性质。

2. **代码实现核心**：
   ```cpp
   ans = 0;
   for (每个数 a) {
       a = abs(a);
       ans = gcd(ans, a);
   }
   ```

---

## 3. 题解评分（≥4星）
### 4星题解（精选3条）
#### 题解1：奔波儿霸（5星）
- **亮点**：代码简洁，直接应用定理；详细证明定理扩展过程。
- **代码**：手写递归 GCD，清晰处理负数。

#### 题解2：ADay（4.5星）
- **亮点**：完整定理引用与证明，代码可读性强。
- **代码**：手写 GCD，标准输入输出。

#### 题解3：FifthAxiom（4星）
- **亮点**：强调定理存在性证明，避免“想当然”；代码逻辑严谨。
- **代码**：手写 GCD，逐项处理。

---

## 4. 最优思路提炼
- **核心技巧**：  
  所有数取绝对值后求 GCD，逐步合并结果。
- **关键代码段**：
  ```cpp
  int ans = 0;
  for (int i = 0; i < n; ++i) {
      int a = abs(A[i]);
      ans = gcd(ans, a);
  }
  ```

---

## 5. 类似算法套路
- **数论扩展**：多变量 GCD、线性不定方程求解。
- **常见模型**：求最小非零线性组合值、系数存在性问题。

---

## 6. 推荐题目
1. **P1082 同余方程**（扩展欧几里得）
2. **P4549 裴蜀定理**（模板题扩展）
3. **P3951 小凯的疑惑**（数论构造）

---

## 7. 个人心得摘录
- **顿悟点**：负数取绝对值不影响 GCD，系数符号由 $X_i$ 调整。
- **调试经验**：初始 `ans=0` 可正确处理首个元素，因 `gcd(0, a) = a`。

---

## 8. 可视化与算法演示
### 动画方案设计
1. **流程演示**：
   - **初始状态**：显示 `ans = 0`。
   - **逐元素处理**：高亮当前数，取绝对值后与当前 `ans` 计算 GCD。
   - **颜色标记**：红色标记当前数，绿色标记更新后的 `ans`。

2. **复古像素风格**：
   - **8位界面**：用方格表示数值，黄底红字显示当前计算步骤。
   - **音效设计**：
     - **步骤完成**：短促“滴”声。
     - **最终结果**：胜利旋律（8-bit 风格）。

3. **交互控制**：
   - **步进执行**：按空格逐步展示计算。
   - **自动播放**：速度可调，展示快速推导过程。

### 示例演示（输入样例）
```
输入：2 4059 -1782
步骤：
1. 处理4059 → ans = gcd(0,4059) = 4059
2. 处理-1782 → 取绝对值1782 → ans = gcd(4059,1782) = 99
输出：99
```

---

## 9. 核心代码实现
```cpp
#include <iostream>
using namespace std;

int gcd(int a, int b) {
    return b ? gcd(b, a % b) : a;
}

int main() {
    int n, a, ans = 0;
    cin >> n;
    while (n--) {
        cin >> a;
        a = abs(a);
        ans = gcd(ans, a);
    }
    cout << ans;
    return 0;
}
```

---
处理用时：91.65秒
# 题目信息

# 難題「龍の頸の玉　-五色の弾丸-」

## 题目背景

輝夜が出した難題の一つ。この玉にはそれぞれ星が入っていて、
七つ集めるとどんな願いでもかなうという。

辉夜所出的难题之一。这些玉石各自都被画上了星星，
据说收集齐七颗就能够实现任何的愿望。 

## 题目描述

五颗龙玉在同一平面上形成一个外切圆半径为r的正五边形，其中一颗（$aa$）在外心与辉夜的连线上。五边形的外心（外切圆圆心）绕着辉夜以R的半径v的速度顺时针旋转（不自转）。五颗龙玉每t秒钟发射一圈弹幕，一圈 $k$ 个子弹。$aa$ 发出的子弹中有一个子弹是背对辉夜的方向的，其他的龙玉发出的子弹方向与 $aa$ 相同，我们可以认为子弹是无限快的。作为一个 neet，辉夜不能让子弹打到自己。

永琳对此表示很担心，于是请你写一个程序判断辉夜的安全。

下面是图示：

![](https://cdn.luogu.com.cn/upload/pic/27885.png)

注：红色为龙玉旋转轨迹                 
p.s.感谢几何画板为本题提供技术支持；感谢上海爱丽丝幻乐团提供信仰加成

## 说明/提示

- 对于 $50\%$ 的数据，保证 $T<5000$。
- 对于 $100\%$ 的数据，保证 $T<10^5$，$r,k,R,v,t<10^9$。

## 样例 #1

### 输入

```
2
6.000000 11.000000 10.000000 100.000000 43
1.000000 10.000000 10.000000 100.000000 11
 ```

### 输出

```
yes
yes```

# AI分析结果



# 算法分类
**几何**

---

## 题解思路与核心分析

### 核心难点与解决思路
1. **静态几何模型**：五边形不自转，外心绕辉夜旋转但不改变相对位置，问题退化为静态几何问题。
2. **子弹方向判定**：只需判断是否存在子弹方向恰好指向辉夜。由于子弹无限快，只需计算角度是否满足条件。
3. **关键数学发现**：
   - 当且仅当 `k` 为偶数时，存在子弹方向与辉夜连线共线。
   - 其他龙玉的角度涉及无理数计算，无法整除 `360/k`，只需关注 `aa` 的奇偶性。

### 关键公式推导
- **角度条件**：子弹间隔角为 `2π/k`，若存在整数 `m` 使得 `m*(2π/k) = π`，则 `k` 必须为偶数。
- **几何对称性**：正五边形的对称性保证其他龙玉的子弹方向不会产生新的有效攻击角度。

---

## 题解评分（≥4星）

### 1. 作者：Chinese_zjc_（★★★★☆）
- **亮点**：从几何推导入手，最终简化为奇偶性判断，思路清晰。
- **代码**：高效简洁，直接处理核心逻辑。

### 2. 作者：SmallBlack（★★★★☆）
- **亮点**：直接抓住核心结论，代码极简，高效通过所有数据。
- **心得**：指出输入数据中的冗余参数，快速定位关键变量。

### 3. 作者：lol_qwq（★★★★☆）
- **亮点**：结论明确，代码轻量，适合竞赛场景。
- **优化**：忽略无关参数，专注奇偶性判断。

---

## 最优思路提炼
**核心结论**：只需判断 `k` 的奇偶性。若 `k` 为偶数，存在子弹方向正对辉夜，输出 `no`；否则输出 `yes`。

**数学依据**：
- `aa` 的背对子弹方向为 180°，其他子弹间隔为 `360/k` 度。当且仅当 `k` 为偶数时，存在子弹方向 180°。
- 其他龙玉的子弹方向涉及正五边形对称性，角度无法被 `360/k` 整除（无理数特性）。

---

## 同类问题与算法套路
1. **几何对称性问题**：正多边形对称轴分析，角度整除性判断。
2. **数论奇偶性应用**：通过奇偶性快速排除无效解。
3. **动态模型静态化**：旋转但不自转的模型可退化为静态几何问题。

---

## 推荐习题
1. **P1357 弹幕游戏**（几何角度判断）
2. **P2181 射线检测**（数论与几何结合）
3. **P1496 激光炸弹**（坐标系与覆盖问题）

---

## 可视化设计
### 复古像素风格动画
- **界面**：8-bit 像素风格，正五边形中心绕辉夜（红色点）旋转，龙玉为蓝色方块。
- **子弹方向**：用绿色射线表示安全方向，红色表示危险（仅当 `k` 为偶数时出现）。
- **音效**：
  - 正确答案：上扬 8-bit 音效。
  - 错误答案：低沉蜂鸣声。
- **交互**：滑块调节 `k` 值，实时显示射线方向与判定结果。

### 关键运算演示
1. **角度分割**：动态绘制 `360/k` 的分割线，高亮 180° 方向。
2. **奇偶判定**：当 `k` 变化时，背景色切换（绿/红）表示安全状态。

---

## 核心代码实现
```cpp
#include <cstdio>
int main() {
    int T, k;
    scanf("%d", &T);
    while (T--) {
        scanf("%*lf%*lf%*lf%*lf%d", &k); // 忽略无关参数
        puts(k % 2 ? "yes" : "no");
    }
    return 0;
}
```

---

## 个人心得摘录
- **顿悟**：旋转参数 (`v`, `t`) 仅为干扰项，模型本质静态。
- **调试教训**：浮点精度问题易导致误判，直接奇偶性判断可避免计算误差。

---
处理用时：66.96秒
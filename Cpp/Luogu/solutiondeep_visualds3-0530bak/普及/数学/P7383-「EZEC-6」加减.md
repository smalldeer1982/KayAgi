# 题目信息

# 「EZEC-6」加减

## 题目描述

给你两个数 $n,m$，你要将 $m$ 分为 $n$ 个**互不相同的正整数**（即这 $n$ 个数之和为 $m$），使得在区间 $[1,m]$ 中至少有一个正整数无法通过这 $n$ 个数加减取得（加减时每个数最多用 $1$ 次）。

即，设 $n$ 个正整数中第 $i$ 个数为 $a_i$，你要使在区间 $[1,m]$ 中至少有一个正整数无法被表示为 $\sum\limits^{n}_{i=1}k_i\times a_i\ (k_i\in\{-1,0,1\})$ 的形式。

若无解，输出 `-1`。

若有解，则输出任意一组满足要求的 $n$ 个正整数，并输出在区间 $[1,m]$ 中无法被表示出的任意一个数。

## 说明/提示

**本题采用捆绑测试**。

- Subtask 1（10 points）：$n\le2$。
- Subtask 2（20 points）：$2n^2\le m$。
- Subtask 3（20 points）：$\lceil1.5n^2\rceil\le m$。
- Subtask 4（20 points）：$n\le5$。
- Subtask 5（30 points）：无特殊限制。

对于 $100\%$ 的数据，$1\le T\le100$，$1\le n,m\le10^4$。

## 样例 #1

### 输入

```
4
2 6
3 18
1 1
2 4```

### 输出

```
1 5
3
5 6 7
3
-1
-1```

# AI分析结果



**算法分类**  
组合数学

---

**题解思路、算法要点与解决难点**  
本题的核心在于构造一组不包含1的正整数，使得它们的和为m，并确保至少存在一个无法被表示的数（如m-1）。关键点如下：

1. **构造思路**  
   - 构造前n-1个数为2, 3, ..., n，最后一个数为m减去这些数的和。确保所有数互异且和为m。
   - 若m ≥ n(n+3)/2，则构造可行；否则无解。

2. **数学推导**  
   - 前n-1个数的和为 \( \sum_{i=2}^n i = \frac{n(n+1)}{2} - 1 \)。
   - 最后一个数为 \( m - \left(\frac{n(n+1)}{2} - 1\right) \)，需大于n以保证不重复。

3. **无法表示的数**  
   - 构造的数列不含1，因此无法通过加减得到m-1。总和为m时，任何减法操作都无法得到m-1（需减去某个数的两倍，但所有数≥2）。

4. **解决难点**  
   - 确定构造条件：通过数学公式推导确保数列存在。
   - 证明构造的数列无法表示m-1：通过反证法分析加减组合可能性。

---

**题解评分（≥4星）**  
1. **Falashiro（5星）**  
   - **思路清晰**：直接构造数列并证明条件，逻辑严谨。  
   - **代码简洁**：仅需判断条件后输出构造的数列。  
   - **优化高效**：时间复杂度O(n)，无需额外计算。  

2. **CuFeO4（4星）**  
   - **思路一致**：与最优解法相同，但代码未完整展示。  
   - **简略证明**：简要说明构造条件，但未深入推导。  

3. **WydnksqhbD（4星）**  
   - **构造正确**：数列不含1，输出m-1。  
   - **代码实现**：处理边界条件，但存在冗余逻辑。

---

**最优思路或技巧提炼**  
1. **构造不含1的数列**：确保无法表示m-1。  
2. **数学条件判断**：利用等差数列和公式快速验证可行性。  
3. **复杂度优化**：直接构造数列，避免复杂搜索或动态规划。

---

**同类型题或算法套路**  
- **组合构造**：要求数组合法且满足特定条件（如互异、和为定值）。  
- **数论分析**：通过数学公式推导边界条件，如等差数列和、组合数计算。  

**推荐题目**  
1. [P1031 均分纸牌](https://www.luogu.com.cn/problem/P1031)  
2. [P1233 接水问题](https://www.luogu.com.cn/problem/P1233)  
3. [P1106 删数问题](https://www.luogu.com.cn/problem/P1106)  

---

**代码实现（Falashiro）**  
```cpp
#include<bits/stdc++.h>
using namespace std;
int read(){
	int w=0;
	char c=getchar();
	while(c<'0'||c>'9')c=getchar();
	while(c>='0'&&c<='9')w=w*10+c-48,c=getchar();
	return w;
}
int T,n,m;
signed main(){
	T=read();
	while(T--){
		n=read(),m=read();
		if(n*(n+3)/2>m){
			puts("-1");
			continue;
		}
		for(int i=2;i<=n;i++)
			printf("%d ",i);
		printf("%d\n%d\n",m-(n-1)*(n+2)/2,m-1);
	}
	return 0;
}
```

---

**可视化与算法演示**  
1. **步骤动画**  
   - **初始化**：显示n和m的值。  
   - **构造数列**：逐步输出前n-1个数（2到n），计算最后一个数并高亮。  
   - **验证条件**：用颜色标记无法表示的m-1。  

2. **像素风格**  
   - **Canvas绘制**：用8位像素风格展示数列构造过程，每个数用色块表示。  
   - **音效提示**：成功构造时播放上升音调，无解时播放失败音效。  

3. **交互演示**  
   - **参数调节**：允许调整n和m，观察构造结果变化。  
   - **自动推导**：模拟公式计算步骤，逐步显示推导逻辑。

---

**个人心得**  
- **边界条件易错**：需精确计算数列和与构造条件。  
- **构造思路启发**：通过数学分析避免暴力搜索，提升效率。  
- **测试用例验证**：构造不同规模的输入验证代码鲁棒性。

---
处理用时：265.07秒
# 题目信息

# 【模板】裴蜀定理

## 题目描述

给定一个包含 $n$ 个元素的**整数**序列 $A$，记作 $A_1,A_2,A_3,...,A_n$。

求另一个包含 $n$ 个元素的待定**整数**序列 $X$，记 $S=\sum\limits_{i=1}^nA_i\times X_i$，使得 $S>0$ 且 $S$ 尽可能的小。

## 说明/提示

对于 $100\%$ 的数据，$1 \le n \le 20$，$|A_i| \le 10^5$，且 $A$ 序列不全为 $0$。

## 样例 #1

### 输入

```
2
4059 -1782
```

### 输出

```
99```

# AI分析结果



# 算法分类  
**数论-裴蜀定理**  

---

# 题解思路与算法要点  
## 核心思路  
1. **裴蜀定理扩展**：对于任意多个整数，其线性组合的最小正值为它们的最大公约数（gcd）。  
2. **绝对值处理**：负数对gcd无影响，直接取绝对值计算。  
3. **逐步计算**：逐个元素计算当前gcd，最终结果即为答案。  

## 解决难点  
- **理论推导**：如何从二元裴蜀定理推广到多元？通过归纳法证明，每一步将当前gcd与下一个数的gcd合并。  
- **代码实现**：直接使用STL的`__gcd`或自定义辗转相除法，时间复杂度为$O(n \log(\max |A_i|))$。  

---

# 题解评分（≥4星）  
1. **RainAir（5星）**  
   - 思路清晰，直接应用定理，代码简洁高效。  
   - 关键点：处理负数取绝对值，逐项合并gcd。  
   - 代码亮点：使用`std::__gcd`简化实现。  

2. **RyanLi（4星）**  
   - 详细数学证明扩展裴蜀定理，适合深入理解。  
   - 代码规范，输入优化完善。  

3. **yangrunze（4星）**  
   - 分步证明定理，附带扩展欧几里得算法推导。  
   - 代码手动实现gcd，增强可读性。  

---

# 最优思路提炼  
**关键技巧**：  
- **绝对值处理**：直接取输入数的绝对值，避免符号影响。  
- **逐项合并gcd**：初始gcd为0，依次与每个数的绝对值合并，更新为新的gcd。  

**代码核心逻辑**：  
```cpp
int gcd = 0;
for (int i = 0; i < n; ++i) {
    int x = abs(a[i]);
    gcd = __gcd(gcd, x); // 或自定义gcd函数
}
cout << gcd;
```

---

# 同类型题与算法套路  
**通用解法**：  
- 求多个数的gcd，处理线性组合最小值问题。  
- 类似问题：判断是否存在解、构造解等。  

**推荐题目**：  
1. [P1082 同余方程](https://www.luogu.com.cn/problem/P1082)（扩展欧几里得算法）  
2. [P3951 小凯的疑惑](https://www.luogu.com.cn/problem/P3951)（裴蜀定理应用）  
3. [P5656 二元一次不定方程](https://www.luogu.com.cn/problem/P5656)（多解构造）  

---

# 个人心得摘录  
- **调试教训**：忽略负数会导致错误，需取绝对值（如`yangrunze`提到“出现负数不要慌，直接取相反数”）。  
- **顿悟点**：多元gcd的逐步合并与二元情形完全一致，无需复杂推导。  

---

# 可视化与算法演示  
## 动画方案设计  
**核心流程**：  
1. **初始化**：显示初始gcd=0，背景为灰色网格。  
2. **逐项处理**：  
   - 高亮当前处理的数（如红色方块），显示其绝对值。  
   - 更新当前gcd（绿色方块），展示`gcd(new_gcd, abs(x))`的计算过程。  
3. **音效提示**：  
   - 每次更新gcd时播放“滴”声，成功结束播放胜利音效。  

**复古像素风格**：  
- **颜色方案**：8位色（红、绿、灰），数字以16x16像素显示。  
- **Canvas绘制**：网格布局，每个数占32x32像素区域，当前操作元素闪烁。  

**交互功能**：  
- **步进控制**：支持暂停/继续，手动点击下一步。  
- **自动演示**：AI自动按顺序处理数列，速度可调。  

---

# 代码实现（核心部分）  
```cpp
#include <iostream>
#include <algorithm>
using namespace std;

int main() {
    int n, x, gcd = 0;
    cin >> n;
    while (n--) {
        cin >> x;
        gcd = __gcd(gcd, abs(x));
    }
    cout << gcd;
    return 0;
}
```

---
处理用时：60.99秒
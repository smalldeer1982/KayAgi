# 题目信息

# [NOIP 2017 提高组] 小凯的疑惑

## 题目背景

NOIP2017 提高组 D1T1

## 题目描述

小凯手中有两种面值的金币，两种面值均为正整数且彼此互素。每种金币小凯都有无数个。在不找零的情况下，仅凭这两种金币，有些物品他是无法准确支付的。现在小凯想知道在无法准确支付的物品中，最贵的价值是多少金币？

注意：输入数据保证存在小凯无法准确支付的商品。


## 说明/提示

【输入输出样例 1 说明】

小凯手中有面值为 $3$ 和 $7$ 的金币无数个，在不找零的前提下无法准确支付价值为 $1,2,4,5,8,11$ 的物品，其中最贵的物品价值为 $11$，比 $11$ 贵的物品都能买到，比如：

$12 = 3 \times 4 + 7 \times 0$；

$13 = 3 \times 2 + 7 \times 1$；

$14 = 3 \times 0 + 7 \times 2$；

$15 = 3 \times 5 + 7 \times 0 $。


【数据范围与约定】

对于 $30\%$ 的数据： $1 \le a,b \le 50 $。

对于 $60\%$ 的数据： $1 \le a,b \le 10^4 $。

对于$ 100\%$ 的数据：$1 \le a,b \le 10^9 $。


## 样例 #1

### 输入

```
3 7```

### 输出

```
11
```

# AI分析结果



## 算法分类选择
**数论**

## 题解思路与解决难点
### 核心思路
所有题解均指向同一数学结论：当两个互质的正整数为 `a` 和 `b` 时，无法被表示为 `ax + by`（`x, y ≥ 0`）的最大数为 `ab - a - b`。

### 关键推导方法对比
1. **模运算分析法**（Mzwuzad）  
   - **要点**：通过分析 `x ≡ ma (mod b)`，发现当 `n = -1` 时取得最大值，最终推导出 `ab - a - b`。  
   - **难点**：需理解模运算下 `x` 的表示形式及变量取极值的逻辑。

2. **扩展欧几里得法**（infinityedge）  
   - **要点**：利用 `ex_gcd` 求 `ax + by = 1` 的解，构造解的系数范围，最终得出答案。  
   - **难点**：需掌握扩展欧几里得算法及解的调整方法。

3. **反证法**（ghj1222）  
   - **要点**：假设存在更大的不可表示数，通过构造矛盾证明其不成立，从而验证公式正确性。  
   - **难点**：需要较强的数学直觉和逻辑推导能力。

4. **同余类最短路法**（matsuk）  
   - **要点**：将问题转化为图论中的同余类最短路问题，通过环形路径分析得出最大不可表示数。  
   - **难点**：需理解同余类建模和最短路算法的关联性。

### 解决难点
- **核心公式推导**：所有方法最终都需证明 `ab - a - b` 是不可表示的最大值，关键在于如何通过不同数学工具（模运算、扩展欧几里得、反证法）简化推导路径。
- **代码实现**：直接计算 `ab - a - b` 的代码复杂度为 O(1)，而其他方法（如 `ex_gcd`）需额外计算，但结果一致。

---

## 题解评分（≥4星）
1. **Mzwuzad（5星）**  
   - **亮点**：推导简洁，代码仅需一行，时间复杂度 O(1)。  
   - **代码**：`printf("%lld\n", a * b - a - b);`

2. **ghj1222（4.5星）**  
   - **亮点**：通过反证法严谨证明公式，并附加同余类分析。  
   - **心得**：“答案各加一个面值转化为最少取一次”的逆向思维极具启发性。

3. **matsuk（4星）**  
   - **亮点**：图论视角的同余类最短路模型，拓展了问题解决思路。  
   - **可视化潜力**：适合用网格动画展示同余类路径搜索过程。

---

## 最优思路提炼
### 核心公式法
- **关键公式**：`ans = a * b - a - b`  
- **适用场景**：直接计算，适用于所有数据范围（1e9 级别）。  
- **优势**：时间复杂度 O(1)，代码极简，无需复杂算法。

---

## 同类型题推荐
1. **蓝桥杯 2013 省赛**：买不到的数目（原题相同）  
2. **洛谷 P4549**：裴蜀定理（扩展应用）  
3. **Codeforces 1228C**：质因数分解与组合数问题  

---

## 可视化与算法演示
### 动态公式推导（像素风格）
1. **动画设计**：  
   - **初始化**：显示 `a` 和 `b` 的像素方块，背景音乐为 8-bit 风格循环。  
   - **步骤演示**：  
     1. 高亮 `a` 和 `b`，播放“选择”音效。  
     2. 动态绘制公式 `a*b - a - b`，每一步（如 `a*b`、`-a`、`-b`）伴随音效。  
     3. 显示反例（如 `3*7 -3 -7 =11`）及可表示数的示例（如 12=3*4）。  
   - **交互**：用户可调整 `a` 和 `b` 的值，实时计算并展示结果。

2. **代码片段（JS）**  
```javascript
// 绘制像素风格公式
function drawFormula(a, b) {
    const canvas = document.getElementById("pixel-canvas");
    const ctx = canvas.getContext("2d");
    ctx.fillStyle = "#FF0000"; // 红色像素块
    ctx.fillRect(a*10, b*10, 10, 10); // 示例坐标逻辑
    playSound("blip"); // 播放音效
}
```

---

## 核心代码实现
```cpp
#include <cstdio>

int main() {
    long long a, b;
    scanf("%lld %lld", &a, &b);
    printf("%lld\n", a * b - a - b);
    return 0;
}
```

---

## 复古游戏化设计
1. **8-bit 风格界面**：  
   - **颜色**：16色调色板，`a` 和 `b` 用绿色/蓝色像素块表示。  
   - **音效**：计算成功时播放胜利音效，失败（如输入非互质数）则播放低沉音效。  

2. **AI 自动演示**：  
   - **逻辑**：随机生成互质数 `a` 和 `b`，自动计算并逐步展示公式推导。  
   - **速度控制**：用户可调节动画速度（慢/中/快）。  

3. **积分系统**：  
   - **得分规则**：每正确计算一次得 100 分，连续正确触发连击奖励。  
   - **关卡设计**：初级（小数值）、高级（大数值）、极限（1e9 级别）。  

---

**总结**：所有题解殊途同归，核心公式 `ab - a - b` 是唯一最优解，其余方法适合深化数论理解。

---
处理用时：92.97秒
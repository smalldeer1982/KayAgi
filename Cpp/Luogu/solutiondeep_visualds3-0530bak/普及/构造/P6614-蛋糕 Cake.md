# 题目信息

# 蛋糕 Cake

## 题目背景

>   道不同不相为谋。

$\text{.cilohocohc}$ 喜欢吃蛋糕，尤其是巧克力蛋糕。

$\text{LeverImmy}$ 送了一个超级大的巧克力蛋糕给她做生日礼物，蛋糕上面点缀着许多巧克力布丁。

$\text{.cilohocohc}$ 一个人肯定是吃不完那么大一个蛋糕的，于是她要 $\text{LeverImmy}$ 帮她蛋糕切成两块，使得两块蛋糕上的布丁数之比为 $a : b$。

蛋糕可以抽象为一个二维平面；而做蛋糕的作坊很缺心眼，因此每个布丁都很小，可以看成二维平面上的一个 **整点**。

$\text{LeverImmy}$ 的刀技非常高超，所以他准备秀一下，他只会以一个 **斜率不小于 $1$ ，不大于 $10^{12}$ 的一次函数图像** 为轮廓在蛋糕上划一刀。

他想考考聪明的你，如果是你，你会怎么划？


## 题目描述

已知 $n$ 以及 $a, b$，求一个一次函数 $f(x) = k(x - x_0) + y_0 (1 \le k \le 10^{12})$，使得 $f(x)$ 将平面内的 $n$ 个点恰好分为个数之比 $a : b$ 的两部分。

如果你不知道一次函数为什么要这样表示，这里有 [点斜式](https://baike.baidu.com/item/%E7%82%B9%E6%96%9C%E5%BC%8F/921468?fr=aladdin) 的定义。


## 说明/提示

本题采用 **捆绑测试**。

$\text{Subtask 1 (10 pts)}:$ 保证 $n \in \{2, 3\}$；

$\text{Subtask 2 (30 pts)}:$ 保证 $\left|x_i\right|, \left|y_i\right| \le 10$；

$\text{Subtask 3 (60 pts)}:$ 保证 $2 \le n \le 10^5$，$0 \le \left|x_i\right|, \left|y_i\right| \le 10^5$。

对于所有数据，保证 $(a + b) | n$ 且 $ab \neq 0$。

---

#### Special Judge

**本题采用 $\text{Special Judge}$。**

spj 返回信息一览：

`Your answer is correct!`：你的结果是正确的；

`Your answer is wrong, expected ratio as a : b, found A : B.`：你的函数有问题，它把所有的点分割成了 $A : B$ 的两部分而不是 $a : b$ 的两部分；

`Oops, data out of range!`：你所给出的点的横纵坐标，或是斜率，在题目要求的范围外。

注意，你在 **赛时** 并不能看到 Special Judge 的返回结果。


## 样例 #1

### 输入

```
2 1 1
0 1
1 0```

### 输出

```
1 0 0```

# AI分析结果



**算法分类选择**  
排序、构造

---

**题解思路、算法要点与解决难点**  
所有题解核心思路一致：利用极大斜率（1e12）近似垂直线，将问题转化为对x轴的排序与分割。  
1. **排序策略**：按x升序、x相同时y降序排列，确保分割点后的点不会干扰比例。  
2. **分割点选择**：取第 `m = a*n/(a+b)` 个点，构造垂直线经过其x坐标。  
3. **直线构造**：极大斜率确保左侧点数严格为a比例，右侧为b。  

**难点对比**  
- 不同题解实现细节差异在排序比较函数和索引处理，但均围绕x排序和y降序展开。  
- 关键点在于理解极大斜率下的分割逻辑，确保排序后分割点的正确性。

---

**题解评分 (≥4星)**  
1. **Y_zhao111（5星）**：思路清晰，代码简洁，附示意图直观解释。  
2. **hensier（5星）**：详细配图说明分割逻辑，代码注释完善。  
3. **txrw（4星）**：代码简明，关键注释点明y排序原因。  

---

**最优思路或技巧提炼**  
1. **极值构造**：利用极大斜率将问题简化为垂直线分割。  
2. **双关键字排序**：x升序保证分割点位置，y降序处理x相同点的归属。  
3. **数学转化**：将几何问题转化为线性排序问题，避免复杂几何计算。  

---

**同类型题或类似算法套路**  
- 类似问题：平面点集分割（如[CF1000C](https://codeforces.com/problemset/problem/1000/C)）。  
- 通用解法：极值构造+排序分割，适用于比例划分或中位数查找。  

---

**推荐相似题目**  
1. P2181 对角线（构造排序）  
2. CF914C 按位分割（极值思维）  
3. P1904 天际线问题（坐标排序分割）  

---

**个人心得摘录**  
- "当k极大时，直线近似垂直线，只需保证x坐标排序正确即可。"（Y_zhao111）  
- "y降序确保同x点中高y值优先归属左侧，避免分割错误。"（txrw）  

---

**可视化与算法演示**  
**核心流程动画设计**：  
1. **排序阶段**：动态展示点按x升序、y降序排列过程，高亮当前比较点。  
2. **分割阶段**：垂直红线从左向右扫描，停在第m个点，左侧标记为蓝色，右侧红色。  
3. **交互控制**：调节a/b值实时更新分割线位置，观察比例变化。  

**复古像素化设计**：  
- **8位风格**：点显示为8x8像素块，排序时交换位置伴随经典音效。  
- **分割线动画**：红线以“俄罗斯方块”式移动，触发成功音效。  
- **自动模式**：AI控制分割线逐步右移，用户可暂停观察关键帧。  

---

**代码实现**  
```cpp
#include <bits/stdc++.h>
using namespace std;

struct Point { int x, y; };

bool cmp(const Point &a, const Point &b) {
    return a.x != b.x ? a.x < b.x : a.y > b.y;
}

int main() {
    int n, a, b;
    cin >> n >> a >> b;
    vector<Point> points(n);
    for (auto &p : points) cin >> p.x >> p.y;
    sort(points.begin(), points.end(), cmp);
    int m = n * a / (a + b);
    cout << "1000000000000 " << points[m].x << " " << points[m].y;
}
```

---
处理用时：172.29秒
# 题目信息

# [语言月赛 202409] 考试

## 题目描述

迅风和他的好朋友一同参加了 $n$ 场考试，而迅风拥有预知未来和**提升自己分数**的能力。

在第 $i$ 场考试中，迅风知道他自己原来取得 $a_i$ 分，他的好朋友**一定会**取得 $b_i$ 分。

而他们很喜欢争个高下，设迅风在 $x$ 场考试中分数比他的好朋友高，在 $y$ 场考试中分数比他的好朋友低，那么：

- 若 $x>y$，则说明在这 $n$ 场考试中，迅风更胜一筹。
- 若 $x<y$，则说明迅风的好朋友更胜一筹。
- 若 $x=y$，则说明两人打平。

迅风发现自己可能会输给他的朋友，于是他可以选择若干场考试**提升自己的分数**，记增加的分数总和为 $sum$。

迅风想知道，自己要在这 $n$ 场考试中更胜一筹，所需的 $sum$ 最小为多少？

## 说明/提示

**【样例 1 解释】**

只要把第 $3$ 次考试的得分提升 $6$ 分，就可以在第 $2,3$ 次考试中获得比朋友更高的分数，从而 $x=2,y=1$，迅风更胜一筹。

**【样例 2 解释】**

只要把第 $1,3,4$ 次考试的得分各提升 $1$ 分，就可以让 $x=2,y=1$，从而让迅风更胜一筹。

**【样例 3 解释】**

哪怕不提升分数，也有 $x=2,y=0$ 了，迅风已经更胜一筹。

**【数据范围】**

本题共有 $20$ 个测试点，测试点等分。

|测试点编号|$n\le$|特殊性质|
|:-:|:-:|:-:|
|$1\sim 2$|$2$||
|$3\sim 6$|$100$|$a_i,b_i\le 2$|
|$7$|$1000$|每次考试两人成绩都相等|
|$8\sim 11$|$1000$|迅风成绩递增，他朋友成绩递减|
|$12\sim 15$|$1000$|每次考试两人成绩都不相等|
|$16\sim 20$|$1000$||

**关于测试点 $8\sim 11$，这里的递增和递减是不严格的，如 $1,5,5,8,10$ 也视为递增。**

特别地，编号为奇数的测试点 $n$ 为奇数，编号为偶数的测试点 $n$ 为偶数。

对于全体数据，保证 $1\le n\le 1000$，$1\le a_i,b_i\le 10^4$（也就是 $10000$），输入皆为整数。

**【后记】**
祝各位参加 $2024$ 年 CSP 比赛的选手 rp++！

## 样例 #1

### 输入

```
3
30 10 9995
100 1 10000
```

### 输出

```
6
```

## 样例 #2

### 输入

```
4
10 20 50 90
11 22 50 90
```

### 输出

```
3
```

## 样例 #3

### 输入

```
3
100 100 1
3 3 1
```

### 输出

```
0
```

# AI分析结果



**唯一算法分类**：贪心算法

---

**综合分析与结论**  
本题要求在最小提升分数总和下使迅风赢的场次超过朋友。核心思路是通过贪心策略，优先处理提升成本最低的场次。算法步骤如下：

1. **计算必要提升值**：对每场考试，计算需要提升的分数差（`b_i - a_i`）。
2. **排序优化选择**：将各场次按提升成本升序排序，优先处理提升量小的场次。
3. **动态调整胜负场次**：按排序顺序处理每场考试，根据当前胜负关系动态调整提升策略，直到满足条件。

**可视化设计要点**：
- **动画方案**：用进度条展示每场考试提升过程，高亮当前处理的考试，颜色区分胜负（红：输，绿：赢）。
- **动态统计**：实时更新胜负场次计数（x和y）及总提升量（sum）。
- **像素风格**：采用8位像素风格，每次提升时播放音效，提升完成时显示胜利动画。

---

**题解评分 (4星)**  
- **思路清晰度**：明确贪心策略，逻辑合理。  
- **代码可读性**：变量命名清晰，排序与遍历逻辑直观。  
- **算法优化**：通过排序优化选择顺序，时间复杂度合理。  
- **实践操作性**：直接实现核心逻辑，无冗余步骤。

---

**最优思路或技巧提炼**  
- **贪心选择**：优先处理提升成本最低的场次，确保总和最小。  
- **动态维护胜负差**：每次处理及时调整x和y，快速终止循环。  
- **分类处理提升逻辑**：区分原为输或平局的情况，分阶段提升。

---

**同类型题或类似算法套路**  
- **贪心排序优化**：如背包问题中的性价比排序、区间调度问题。  
- **动态调整目标值**：如LeetCode 455（分发饼干）、LeetCode 135（分发糖果）。

---

**推荐相似题目**  
1. **P1090 [NOIP2004 提高组] 合并果子**（贪心+优先队列）  
2. **P1209 [USACO1.3] 修理牛棚**（贪心选择间隔）  
3. **P1223 排队接水**（贪心排序最小平均等待时间）

---

**代码核心逻辑**  
```cpp
sort(c + 1, c + n + 1); // 升序排序提升成本
int x = 0, y = 0;
// 统计初始胜负场次
for (int i = 1; i <= n; i++) {
    if (c[i] < 0) x++;
    else if (c[i] > 0) y++;
}
int ans = 0;
for (int i = 1; i <= n; i++) {
    if (x > y) break;
    if (c[i] < 0) continue;
    if (c[i] > 0) { // 处理原输的场次
        ans += c[i]; // 提升到平局
        y--;
        ans++; // 再提升1分转为赢
        x++;
    } else { // 处理平局场次
        ans++;
        x++;
    }
}
```

---

**可视化与游戏化设计**  
- **Canvas动画**：绘制考试场次为方块，绿色表示已赢，红色为输，黄色为平局。处理时方块闪烁并播放音效。  
- **音效设计**：提升时播放“点击”音效，达成条件时播放胜利音乐。  
- **自动演示模式**：按排序顺序自动处理场次，展示算法决策过程。  
- **积分系统**：每正确提升一场次获得积分，优化选择时触发连击奖励。

---

**个人心得**  
调试中发现排序顺序对结果影响关键，需确保升序处理。最初未正确处理平局场次的提升逻辑，导致部分测试用例失败。通过单独处理c_i=0的情况，确保最小提升量。

---
处理用时：306.27秒
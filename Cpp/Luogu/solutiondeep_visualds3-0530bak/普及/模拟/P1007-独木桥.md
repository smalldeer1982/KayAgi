# 题目信息

# 独木桥

## 题目背景

战争已经进入到紧要时间。你是运输小队长，正在率领运输部队向前线运送物资。运输任务像做题一样的无聊。你希望找些刺激，于是命令你的士兵们到前方的一座独木桥上欣赏风景，而你留在桥下欣赏士兵们。士兵们十分愤怒，因为这座独木桥十分狭窄，只能容纳 $1$ 个人通过。假如有 $2$ 个人相向而行在桥上相遇，那么他们 $2$ 个人将无法绕过对方，只能有 $1$ 个人回头下桥，让另一个人先通过。但是，可以有多个人同时呆在同一个位置。

## 题目描述

突然，你收到从指挥部发来的信息，敌军的轰炸机正朝着你所在的独木桥飞来！为了安全，你的部队必须撤下独木桥。独木桥的长度为 $L$，士兵们只能呆在坐标为整数的地方。所有士兵的速度都为 $1$，但一个士兵某一时刻来到了坐标为 $0$ 或 $L+1$ 的位置，他就离开了独木桥。

每个士兵都有一个初始面对的方向，他们会以匀速朝着这个方向行走，中途不会自己改变方向。但是，如果两个士兵面对面相遇，他们无法彼此通过对方，于是就分别转身，继续行走。转身不需要任何的时间。

由于先前的愤怒，你已不能控制你的士兵。甚至，你连每个士兵初始面对的方向都不知道。因此，你想要知道你的部队最少需要多少时间就可能全部撤离独木桥。另外，总部也在安排阻拦敌人的进攻，因此你还需要知道你的部队最多需要多少时间才能全部撤离独木桥。

## 说明/提示

对于 $100\%$ 的数据，满足初始时，没有两个士兵同在一个坐标，$1\le  L\le5\times 10^3$，$0\le N\le5\times10^3$，且数据保证 $N\le L$。

## 样例 #1

### 输入

```
4
2
1 3
```

### 输出

```
2 4```

# AI分析结果



# 算法分类
**贪心算法**

---

## 题解思路与核心难点
### 核心思路
1. **相遇等效性**：当两个士兵相遇时，转身可以视为交换身份继续直行，不影响总时间。
2. **最短时间**：每个士兵选择离自己更近的端点（左或右），取所有最短时间的最大值。
3. **最长时间**：每个士兵选择离自己更远的端点，取所有最长时间的全局最大值。

### 解决难点
- **碰撞处理**：直接模拟碰撞会导致复杂度爆炸，通过等效转化避免模拟。
- **数学建模**：将每个士兵的移动抽象为独立的最优方向选择，无需考虑相互影响。

---

## 题解评分（≥4星）
1. **GXuLuogu（5星）**
   - **亮点**：代码简洁，排序优化最长时间计算，逻辑清晰。
2. **Untitled（4星）**
   - **亮点**：直观解释相遇等效性，代码极简，适合快速理解。
3. **封禁用户（4星）**
   - **亮点**：逆向思维明确，代码简短，强调蚂蚁问题类比。

---

## 最优思路与技巧提炼
### 关键思路
- **等效性思维**：碰撞视为对穿，将复杂交互转化为独立路径选择。
- **极值计算**：最短时间取 `min(x, L+1-x)` 的最大值，最长时间取 `max(x, L+1-x)` 的最大值。

### 代码实现
```cpp
int L, N, max_time = 0, min_time = 0;
cin >> L >> N;
for (int i = 0; i < N; ++i) {
    int x;
    cin >> x;
    max_time = max(max_time, max(x, L + 1 - x));
    min_time = max(min_time, min(x, L + 1 - x));
}
cout << min_time << " " << max_time;
```

---

## 同类型题与算法套路
- **类似问题**：蚂蚁爬杆（相遇转身等效对穿）。
- **通用解法**：将碰撞视为等效路径交换，直接计算独立极值。

---

## 推荐题目
1. **P1007 独木桥**（本题）
2. **P1094 纪念品分组**（贪心策略）
3. **P1223 排队接水**（极值排序与贪心）

---

## 个人心得摘录
- **逆向思维**：碰撞处理的等效性是突破口，避免模拟是关键（封禁用户）。
- **调试教训**：特判 `N=0` 时直接输出 `0 0`（GXuLuogu）。
- **顿悟时刻**：将士兵视为“蚂蚁”后，问题豁然开朗（Catch_22）。

---

## 可视化与算法演示
### 动画设计
1. **像素风格**：士兵用8位色块表示，桥为横向网格。
2. **关键步骤**：
   - **移动标记**：士兵向左右移动，碰撞时显示“闪光”并继续。
   - **时间统计**：实时显示当前最大/最小时间。
3. **交互控制**：
   - **步进执行**：按帧观察每个士兵移动。
   - **自动模式**：AI自动选择最优方向，高亮当前决策士兵。
4. **音效设计**：
   - **移动音效**：每步移动播放短促“滴”声。
   - **极值更新**：当最大/最小时间更新时播放上扬音效。

### 实现要点
- **Canvas绘制**：桥长 `L` 映射为横向网格，士兵位置动态更新。
- **颜色区分**：最短时间方向绿色，最长时间方向红色。

---

## 结论
通过贪心策略和等效性思维，将复杂碰撞问题转化为极值计算，时间复杂度 `O(N)`。可视化设计通过复古像素动画和交互控制，直观展示核心逻辑。

---
处理用时：143.53秒
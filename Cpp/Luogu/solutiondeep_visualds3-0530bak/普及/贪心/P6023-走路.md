# 题目信息

# 走路

## 题目背景

小 W 下载了一款运动软件。

## 题目描述

小 W 准备在接下来的 $m$ 天中锻炼，由于他不能走得太多以至于累死（怎么可能呢），所以他这 $m$ 天最多一共只能走 $n$ 步。  
这个运动软件为了激励小 W 走路，推出了 $k$ 种激励措施，每种激励措施都形如“如果你第 $p$ 天中走完了 $q$ 步，那么第 $p$ 天中接下来的每一步都会给你加 $1$ 积分”。**激励措施可以叠加，即走一步你可能可以获得多于 $1$ 积分。**  
现在小 W 想知道，他总计最多可以获取多少积分呢？

## 说明/提示

样例解释：  
只有一种方案，即在第一天走 $5$ 步，第一、二步各获得 $1$ 积分，第三、四步各获得 $2$ 积分，第五步获得 $3$ 积分，总计 $9$ 积分。  
********
数据范围：  
对于 $10\%$ 的数据，$n,m,k\le10$。  
对于 $40\%$ 的数据，$n,m,k \le 10^3$。  
对于 $100\%$ 的数据，$1\le n\le 10^{12}$，$1\le m,k\le 10^5$，$1\le p\le m$，$0\le q\le n$。

## 样例 #1

### 输入

```
5 1 3
1 0
1 2
1 4
```

### 输出

```
9```

# AI分析结果



### 综合分析与结论  
**核心思路**：所有步数集中在某一天走完，能获得最大积分。  
**贪心证明**：每一步获得的积分是递增的（满足的激励措施越多，后续每步积分越高）。若分散到多天，后续低积分步数会浪费高积分机会。通过比较两天交换步数的总积分，可证明集中策略更优。  
**实现关键**：用数组统计每个天数的总积分（所有激励措施的 `n - q` 之和），取最大值。  

---

### 题解清单（≥4星）  
1. **WYXkk（5星）**  
   - 思路最清晰，数学证明简明，代码简洁高效。  
   - 核心代码仅用数组累加，直接取最大值。  
2. **chinaxjh（4星）**  
   - 附带正确性验证思路，代码简短且包含关键判断 `n > q`。  
   - 强调 `long long` 的必要性，避免数据溢出。  
3. **朱屹帆（4星）**  
   - 提供感性验证思路，代码结合快读优化，结构清晰。  

---

### 最优思路与代码片段  
**核心贪心逻辑**：  
```cpp
// 对每个激励措施处理
for(int i=1; i<=k; i++) {
    cin >> p >> q;
    if(n > q) sum[p] += (n - q); // 累加该天的总积分
}
// 取最大值
long long ans = *max_element(sum + 1, sum + m + 1);
```

**完整代码（WYXkk）**：  
```cpp
#include<cstdio>
#include<algorithm>
using namespace std;
long long a[100005], n, m, k, mx=0;
int main() {
    scanf("%lld%lld%lld", &n, &m, &k);
    for(int i=1; i<=k; i++) {
        long long p, q;
        scanf("%lld%lld", &p, &q);
        a[p] += n - q;
    }
    for(int i=1; i<=m; i++) 
        if(a[i] > a[mx]) mx = i;
    printf("%lld\n", a[mx]);
    return 0;
}
```

---

### 同类型题目与算法  
**常见贪心场景**：区间调度、资源集中分配、最小化等待时间。  
**类似题目**：  
1. **P1090 合并果子**（贪心选择最小堆）  
2. **P1208 混合牛奶**（单价最低优先购买）  
3. **P5019 铺设道路**（区间覆盖贪心）  

---

### 个人心得摘录  
- **chinaxjh**：开 `long long` 是避免数据溢出的关键。  
- **朱屹帆**：初始误以为需动态规划，后通过样例启发发现贪心本质。  
- **CrystalSunny**：WA 多次后意识到需处理 `n < q` 的情况。  

---

### 可视化设计（复古像素风格）  
**动画设计**：  
1. **像素网格**：用 Canvas 绘制 `m` 个柱子代表天数，高度表示积分。  
2. **激励处理**：每个激励措施以像素块飞入对应天柱，柱高增长。  
3. **音效**：每次累加时播放“金币声”，最大值出现时播放胜利音效。  
4. **自动模式**：AI 自动加载激励，快速展示积分累加过程，最终高亮最大天柱。  

**交互功能**：  
- **速度调节**：滑动条控制动画速度。  
- **单步执行**：按空格键逐步处理每个激励。  
- **8-bit 音效**：背景音乐为芯片音乐，积分增长时伴随短促音效。  

**代码片段（JS）**：  
```javascript
// 绘制天柱
function drawDayBars() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    days.forEach((sum, i) => {
        ctx.fillStyle = i === maxDay ? '#FFD700' : '#00FF00';
        ctx.fillRect(i * 10, 100 - sum, 8, sum);
    });
}
// 处理激励动画
function processIncentive(p, q) {
    if (n > q) {
        days[p] += (n - q);
        playSound('coin'); // 触发金币音效
    }
}
```

---
处理用时：64.43秒
# 题目信息

# [NOIP 2009 普及组] 分数线划定

## 题目描述

世博会志愿者的选拔工作正在 A 市如火如荼的进行。为了选拔最合适的人才，A 市对所有报名的选手进行了笔试，笔试分数达到面试分数线的选手方可进入面试。面试分数线根据计划录取人数的 $150\%$ 划定，即如果计划录取 $m$ 名志愿者，则面试分数线为排名第 $m \times 150\%$（向下取整）名的选手的分数，而最终进入面试的选手为笔试成绩不低于面试分数线的所有选手。

现在就请你编写程序划定面试分数线，并输出所有进入面试的选手的报名号和笔试成绩。

## 说明/提示

【样例说明】

$m \times 150\% = 3 \times150\% = 4.5$，向下取整后为 $4$。保证 $4$ 个人进入面试的分数线为 $88$，但因为 $88$ 有重分，所以所有成绩大于等于 $88$ 的选手都可以进入面试，故最终有 $5$ 个人进入面试。

NOIP 2009 普及组 第二题


## 样例 #1

### 输入

```
6 3 
1000 90 
3239 88 
2390 95 
7231 84 
1005 95 
1001 88```

### 输出

```
88 5 
1005 95 
2390 95 
1000 90 
1001 88 
3239 88 ```

# AI分析结果



### 算法分类
排序 + 模拟

---

### 核心思路与难点解决
1. **排序规则**：按分数降序排列，同分者按报名号升序排序。
2. **确定分数线**：取排序后第 `floor(m*1.5)` 名选手的分数。
3. **统计人数**：所有分数不低于分数线的选手均被录取，需遍历整个数组统计。
4. **难点**：当分数线所在位置有多个同分选手时，必须完整包含所有同分者。通过遍历到第一个低于分数线的位置，即可自然包含所有符合条件的选手。

---

### 题解评分（≥4星）
1. **「已注销」题解（5星）**  
   - 亮点：使用下标数组减少内存操作，循环统计人数简洁高效。
   - 代码片段：通过 `for(i=1;s[sub[i]]>=f;i++)` 统计人数，自动包含同分情况。

2. **2023z题解（5星）**  
   - 亮点：结构体清晰，逆向遍历找临界点，逻辑严谨。
   - 代码片段：`for(int i=n;i>=1;i--)` 从后向前找最后一个达标者。

3. **Eason_lyx题解（4星）**  
   - 亮点：代码极简，直接通过 `while(a[cnt+1].s>=sc)cnt++` 统计人数。

---

### 最优思路代码实现
```cpp
#include<bits/stdc++.h>
using namespace std;

struct Node{ int id, score; };
Node a[5005];

bool cmp(Node x, Node y){
    return (x.score != y.score) ? 
        x.score > y.score : x.id < y.id;
}

int main(){
    int n, m; cin >> n >> m;
    for(int i=1; i<=n; i++) 
        cin >> a[i].id >> a[i].score;
    
    sort(a+1, a+n+1, cmp);
    
    int cutoff_pos = m*3/2;
    int cutoff_score = a[cutoff_pos].score;
    int cnt = 0;
    
    while(a[cnt+1].score >= cutoff_score) cnt++;
    
    cout << cutoff_score << " " << cnt << "\n";
    for(int i=1; i<=cnt; i++)
        cout << a[i].id << " " << a[i].score << "\n";
}
```

---

### 相似题目推荐
1. P1093 奖学金（结构体排序）
2. P1781 宇宙总统（多关键字排序）
3. P1177 快速排序（排序算法实践）

---

### 可视化设计
**动画方案**：
1. **像素风格表格**：用16色网格展示选手数据，每行显示报名号和分数。
2. **排序高亮**：比较元素时，当前对比的两个单元格闪烁黄色，交换时播放 "blip" 音效。
3. **分数线标记**：红色光柱横贯排序后的表格，标记第 `floor(m*1.5)` 行。
4. **录取高亮**：所有达标行背景变为绿色，伴随 "coin" 音效。

**交互功能**：
- 速度滑块控制排序动画速度
- 暂停/继续按钮观察关键步骤
- 点击选手查看详细比较逻辑

---

### 关键实现代码（Canvas动画）
```javascript
// 绘制选手表格
function drawTable() {
    ctx.fillStyle = "#2C3E50";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    
    for(let i=0; i<data.length; i++) {
        // 高亮当前操作行
        if(i === highlightLine) {
            ctx.fillStyle = "#F1C40F";
            ctx.fillRect(0, i*30, canvas.width, 30);
        }
        // 绘制文本...
    }
    
    // 绘制分数线
    ctx.strokeStyle = "#E74C3C";
    ctx.beginPath();
    ctx.moveTo(0, cutoffLine*30 +15);
    ctx.lineTo(canvas.width, cutoffLine*30 +15);
    ctx.stroke();
}
```

---

### 总结
通过结构体排序与边界处理，完美解决同分录取问题。可视化设计通过像素动画与音效反馈，直观展示排序过程与分数线划定机制，适合算法教学演示。

---
处理用时：69.73秒
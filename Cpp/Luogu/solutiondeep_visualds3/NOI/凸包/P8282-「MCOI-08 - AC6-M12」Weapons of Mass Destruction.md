# é¢˜ç›®ä¿¡æ¯

# ã€ŒMCOI-08 / AC6-M12ã€Weapons of Mass Destruction

## é¢˜ç›®èƒŒæ™¯

Garuda Team, I've got some good news. 

The chemical agent used as a catalyst for their WMD is being transported to our shores from the Estovakian mainland. 

This catalyst has already been carried into the outskirts of Gracemeria. 

As a measure of caution against any attempts to destroy it, it has been concealed at Fort Norton in Gracemeria's north. 

If we start advancing again, the enemy will most likely bring the catalyst into Gracemeria at a faster pace. 

If in fact weapons of mass destruction are used on the population of Gracemeria, the resulting devastation can't be expressed in enough words. 

It will lead to unspeakable tragedies. 

We've used this intelligence to come up with a solid proposal on how to prevent this scorched earth policy from being executed in our capital.

Just a minute ago, we received a letter of approval for our prevention plan from the Joint Chiefs of Staff. 

The proposal we put on the table for our scorched earth prevention policy is really quite simple. 

While the enemy transport unit is stationed at Fort Norton, **we'll ambush them.** 

We like to call it our tactic for pre-emptive victory. 

The enemy has loaded this catalyst into their transport vehicles and is able to send them into Gracemeria at any time. 

This plan will be carried out by a handful of our top pilots under absolute secrecy. 

**Fly through Fort Norton's canyon at an extremely low altitude to avoid radar detection, and take out those transport vehicles.** 

We've determined that a high-risk mission of this magnitude could not be executed by anyone other than Garuda Team. 

We're counting on a flawless execution here.

$$_{{\frac{\large\text{ACE COMBAT }\Large6}{\tiny{\text{F i r e s\quad O f\quad L i b e r a t i o n}}}}}\\ \text{Mission 12} \\\Large\text{Weapons of Mass Destruction}\\\tiny -\textit{ Boiling Point }-$$

![](https://cdn.luogu.com.cn/upload/image_hosting/3e1iqxjw.png)

## é¢˜ç›®æè¿°

ä¸ºäº†æ‘§æ¯æ•Œæ–¹è£…è½½æœ‰ WMD å‚¬åŒ–å‰‚çš„è½¦é˜Ÿï¼Œä½ éœ€è¦åœ¨è¶…ä½ç©ºç©¿è¿‡ Fort Norton çš„å³¡è°·ä»¥æ¥è¿‘ä»–ä»¬ã€‚

Fort Norton æŠ½è±¡ä¸º**å¹³é¢ä¸Šä¸¤ä¸ªå…³äº $y$ï¼ˆ$y\in[0,10^7]$ï¼‰çš„çº¿æ€§åˆ†æ®µå‡½æ•°** $A(y):y\mapsto x$ ä»¥åŠ $B(y):y\mapsto x$ï¼Œå…¶ä¸­å¯¹äºä»»æ„å®æ•° $y\in [0,10^7]$ï¼Œ**æ»¡è¶³ $A(y) \le B(y)$**ã€‚

ä½ å’Œä½ çš„ F-15E æŠ½è±¡ä¸ºä¸€è´¨ç‚¹ï¼Œ**åˆå§‹ä½ç½®æ˜¯ $(X_1,0)$**ï¼Œä¿è¯ $A(0)\leq X_1\leq B(0)$ï¼›**åŒæ—¶å…·æœ‰åˆé€Ÿåº¦ $(v_0,\theta_0)$ï¼Œè¡¨ç¤ºåˆé€Ÿçš„å¤§å°å’Œæ–¹å‘**ã€‚

ä¸ºäº†é¿å…æ•Œæ–¹å‘ç°ï¼Œä½ ä¸èƒ½å¤§åŠŸç‡å¼€åŠ¨å‘åŠ¨æœºã€‚ä½ çš„åŠ¨åŠ›åˆšå¥½è¶³å¤Ÿåœ¨ä¿æŒå¹³é£çš„æ—¶å€™ä¿æŒåŒ€é€Ÿã€‚

å½“ç„¶ä½ å¯ä»¥è½¬å‘ã€‚ç”±äºä½ æ˜¯ Ace Combat çš„ä¸»è§’ï¼Œä½ çš„è½¬å‘å…¨éƒ¨ç”¨ PSM å®Œæˆã€‚å…·ä½“æ¥è¯´ï¼Œä½ çš„é£è¡Œè½¨è¿¹åº”ä¸ºä¸€æ¡ç”±è‹¥å¹²çº¿æ®µç»„æˆçš„æŠ˜çº¿ã€‚ä½†æ˜¯åœ¨è½¬å‘ä¸­ä¼šå—åˆ°é˜»åŠ›ã€‚**å¦‚æœæ–¹å‘æ”¹å˜åçš„è§’ä¸æ”¹å˜å‰çš„è§’çš„å·®çš„ç»å¯¹å€¼ä¸º $\alpha$ï¼Œåˆ™é€Ÿåº¦å¤§å°ä¼šå‡å° $\alpha$**ã€‚å¦‚æœä½ ä¸æ”¹å˜æ–¹å‘ï¼Œé‚£ä¹ˆä½ ä¼šä¸€ç›´åšåŒ€é€Ÿç›´çº¿è¿åŠ¨ã€‚

ç”±äº Ghost Eye å¾ˆç€æ€¥å®Œæˆä»»åŠ¡ï¼Œæ‰€ä»¥**ä½ çš„ $y$ åæ ‡å¿…é¡»éšæ—¶é—´é€’å¢**ã€‚

åŒæ—¶ï¼Œä½ éœ€è¦ä¿è¯åœ¨ä»»æ„æ—¶åˆ»ï¼Œä½ æ‰€åœ¨çš„ä½ç½® $(x,y)$ æ»¡è¶³ $A(y)\le x\le B(y)$ã€‚

PSM è½¬å‘çš„è¿‡è½½å¾ˆå¤§ï¼Œå› æ­¤ä½ éœ€è¦ä¿è¯**è½¬å‘æ¬¡æ•°ä¸è¶…è¿‡ $\bf 3\times 10^6$**ã€‚~~å¦åˆ™ä½ å°±ä¼šåƒ Prez ä¸€æ · g-LOC å¹¶ä¸€å¤´æ ½åœ¨ä»ªè¡¨ç›˜ä¸Šã€‚~~

æ±‚ä»»ä½•ä¸€ä¸ªè½¬å‘æ–¹æ¡ˆï¼Œä½¿å¾—ä½ è¿åŠ¨åˆ° $(X_2,10^7)$ ä¸Šï¼ˆ**å³ï¼Œé€Ÿåº¦ä¸èƒ½åœ¨è¿åŠ¨è¿‡ç¨‹ä¸­å˜ä¸º $\bf0$ æˆ–è´Ÿæ•°**ï¼‰ï¼ŒåŒæ—¶è½¬å‘æ¬¡æ•°ä¸è¶…è¿‡ $3\times 10^6$ã€‚ç±»ä¼¼çš„ï¼Œä¿è¯ $A(10^7)\leq X_2\leq B(10^7)$ã€‚

## è¯´æ˜/æç¤º

æ ·ä¾‹è§£é‡Šï¼ˆç¼©å° $10^6$ å€ï¼‰ï¼š

![](https://cdn.luogu.com.cn/upload/image_hosting/5g98x901.png)

**æ³¨æ„è´¨ç‚¹åœ¨è¿åŠ¨è¿‡ç¨‹ä¸­å¯ä»¥ç¢°åˆ°è¾¹ç•Œï¼Œä¹Ÿå¯ä»¥æ²¿ç€è¾¹ç•Œè¿åŠ¨ä¸€æ®µã€‚**

---

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œä¿è¯ $2\leq n,m\leq 10^6$ï¼Œ$0\leq x,y,p,q\leq 10^7$ï¼Œ$x_1\leq X_1\leq p_1$ï¼Œ$x_n\leq X_2\leq p_m$ï¼Œ$0\leq \theta_0<\pi$ï¼Œ$0\leq v_0\leq 10^9$ã€‚

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œå®æ•°ç²¾åº¦ä¸è¶…è¿‡ $12$ ä½ã€‚

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ**ä¿ è¯ æœ‰ è§£**ã€‚


- Subtask 1ï¼ˆ3 ptsï¼‰ï¼š$n,m\leq 6$ï¼›$v_0\ge 50$ã€‚
- Subtask 2ï¼ˆ8 ptsï¼‰ï¼š$n,m\leq 6$ã€‚
- Subtask 3ï¼ˆ17 ptsï¼‰ï¼š$n,m\leq 200$ã€‚
- Subtask 4ï¼ˆ13 ptsï¼‰ï¼š$n,m\leq 1500$ã€‚
- Subtask 5ï¼ˆ17 ptsï¼‰ï¼š$n,m\leq 5000$ã€‚
- Subtask 6ï¼ˆ19 ptsï¼‰ï¼š$n,m\leq 10^5$ã€‚
- Subtask 7ï¼ˆ23 ptsï¼‰ï¼šæ— ç‰¹æ®Šé™åˆ¶ã€‚

**è¯·æ³¨æ„æµ®ç‚¹æ•°è¾“å‡ºæ•ˆç‡ã€‚**

---

ideaï¼šSol1ï¼Œsolutionï¼šSol1 & w33z8kqrqk8zzzx33ï¼Œcodeï¼šSol1ï¼Œdataï¼šw33z8kqrqk8zzzx33

## æ ·ä¾‹ #1

### è¾“å…¥

```
5 4 4000000 9000000 13 0
3000000 0
1000000 1000000
2000000 4000000
6000000 8000000
7000000 10000000
5000000 0
4000000 2000000
6000000 6000000
10000000 10000000```

### è¾“å‡º

```
1
4
4000000.0000000000 0.0000000000
3000000.0000000000 2000000.0000000000
4000000.0000000000 6000000.0000000000
9000000.0000000000 10000000.0000000000```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šã€ŒMCOI-08 / AC6-M12ã€Weapons of Mass Destruction æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æè¿™é“ç»“åˆäº†**è®¡ç®—å‡ ä½•è§†çº¿è¿½è¸ª**ä¸**å•è°ƒæ ˆæ•°æ®ç»“æ„**çš„ç¼–ç¨‹é¢˜ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©å¤§å®¶æ¢³ç†é¢˜ç›®æ ¸å¿ƒï¼Œç†è§£â€œæ‰¾å°–ç‚¹â€çš„ç®—æ³•é€»è¾‘ï¼Œå¹¶æŒæ¡ç”¨å•è°ƒæ ˆé«˜æ•ˆç»´æŠ¤å‡¸åŒ…çš„æŠ€å·§ã€‚


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`ç¼–ç¨‹æŠ€å·§åº”ç”¨`ï¼ˆä¾§é‡**å•è°ƒæ ˆç»´æŠ¤å‡¸åŒ…**ä¸**è§†çº¿è¿½è¸ª**ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³è¿™é“é¢˜ï¼Œå…³é”®åƒâ€œåœ¨å³¡è°·é‡Œæ‰¾æœ€è¿œèƒ½çœ‹åˆ°çš„è·¯â€â€”â€”ä½ é©¾é©¶æˆ˜æœºåœ¨å³¡è°·ï¼ˆç”±å·¦å³è¾¹ç•Œçš„åˆ†æ®µå‡½æ•°å›´æˆï¼‰ä¸­é£è¡Œï¼Œå¿…é¡»ä¿è¯æ¯ä¸€æ­¥éƒ½æ²¿ç€â€œèƒ½çœ‹åˆ°çš„æœ€è¿œè·¯å¾„â€èµ°ï¼ˆè¿™æ ·è½¬å‘è§’åº¦æœ€å°ï¼‰ã€‚è¿™ä¸ªâ€œæœ€è¿œèƒ½çœ‹åˆ°çš„ç‚¹â€å°±æ˜¯é¢˜è§£é‡Œè¯´çš„**å°–ç‚¹**ï¼šä»å½“å‰ç‚¹å‡ºå‘ï¼Œèƒ½åŒæ—¶â€œç¢°åˆ°â€å·¦å³è¾¹ç•Œçš„æœ€è¿œç‚¹ï¼ˆæˆ–è€…è¯´ï¼Œå·¦å³è¾¹ç•Œåœ¨è§†çº¿ä¸­â€œäº¤æ±‡â€çš„ç‚¹ï¼‰ã€‚  

### æ ¸å¿ƒç®—æ³•é€»è¾‘  
1. **å°–ç‚¹å®šä¹‰**ï¼šä»å½“å‰ç‚¹Oå‡ºå‘ï¼Œèƒ½çœ‹åˆ°çš„æœ€è¿œç‚¹Pï¼Œæ»¡è¶³çº¿æ®µOPå®Œå…¨åœ¨å³¡è°·å†…ï¼Œä¸”Pæ˜¯å·¦å³è¾¹ç•Œçš„â€œäº¤æ±‡ç‚¹â€ï¼ˆå³å†å¾€å‰é£å°±ä¼šæ’åˆ°è¾¹ç•Œï¼‰ã€‚  
2. **ç®—æ³•æµç¨‹**ï¼šä»èµ·ç‚¹å¼€å§‹ï¼Œä¸æ–­æ‰¾å½“å‰ç‚¹çš„å°–ç‚¹ï¼Œè·³åˆ°å°–ç‚¹åé‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°åˆ°è¾¾ç»ˆç‚¹â€”â€”è¿™æ ·çš„è·¯å¾„è½¬å‘æœ€å°‘ï¼ˆå› ä¸ºæ¯ä¸€æ­¥éƒ½èµ°â€œæœ€è¿œç›´è·¯â€ï¼‰ã€‚  
3. **éš¾ç‚¹ä¸è§£å†³**ï¼šå¦‚ä½•é«˜æ•ˆæ‰¾å°–ç‚¹ï¼Ÿé¢˜è§£ç”¨**å•è°ƒæ ˆç»´æŠ¤ä¸¤ä¾§å‡¸åŒ…**ï¼šæŠŠå·¦å³è¾¹ç•Œçš„ç‚¹åˆ†åˆ«å­˜å…¥ä¸¤ä¸ªå•è°ƒæ ˆï¼Œæ ˆé‡Œçš„ç‚¹ä¿æŒâ€œå‡¸æ€§â€ï¼ˆå³æ¯ä¸ªç‚¹éƒ½æ˜¯å½“å‰è§†è§’ä¸‹æœ€â€œé è¾¹â€çš„ç‚¹ï¼‰ã€‚å½“æ ˆåº•çš„ç‚¹æ»¡è¶³â€œè§†çº¿äº¤æ±‡â€æ—¶ï¼Œå°±æ˜¯å°–ç‚¹ã€‚  

### å¯è§†åŒ–è®¾è®¡æ€è·¯  
æˆ‘ä»¬ä¼šç”¨**8ä½åƒç´ é£**æ¨¡æ‹Ÿå³¡è°·é£è¡Œï¼š  
- å³¡è°·è¾¹ç•Œç”¨ä¸åŒé¢œè‰²çš„åƒç´ å—è¡¨ç¤ºï¼ˆå·¦è¾¹ç•Œè“è‰²ï¼Œå³è¾¹ç•Œçº¢è‰²ï¼‰ï¼Œæˆ˜æœºæ˜¯é»„è‰²å°é£æœºï¼›  
- æ‰¾å°–ç‚¹æ—¶ï¼Œä»æˆ˜æœºä½ç½®å‘å°„â€œæ¿€å…‰â€ï¼ˆç™½è‰²çº¿æ®µï¼‰ï¼Œç¢°åˆ°è¾¹ç•Œæ—¶é«˜äº®äº¤ç‚¹ï¼›  
- è·³åˆ°å°–ç‚¹æ—¶ï¼Œé£æœºæœ‰â€œæ»‘è·ƒâ€åŠ¨ç”»ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆï¼›  
- è·¯å¾„å®Œæˆæ—¶ï¼Œæ•´ä¸ªè·¯å¾„é—ªçƒï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆï¼ˆ8ä½ç‰ˆâ€œé€šå…³éŸ³ä¹â€ï¼‰ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºäº†å¸®å¤§å®¶ç†è§£ï¼Œæˆ‘ç­›é€‰äº†2ä»½æ€è·¯æ¸…æ™°ã€ä»£ç æœ‰æ•ˆçš„ä¼˜è´¨é¢˜è§£ï¼š

### é¢˜è§£ä¸€ï¼šé•œéŸ³ãƒªãƒ³ï¼ˆæ ¸å¿ƒæ€è·¯è®²è§£ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£æŠŠâ€œå°–ç‚¹â€çš„æ¦‚å¿µè®²å¾—å¾ˆé€â€”â€”ç”¨â€œæ¿€å…‰æ‰«æâ€çš„æ¯”å–»è§£é‡Šå°–ç‚¹çš„å½¢æˆï¼Œå†ç”¨â€œå•è°ƒæ ˆç»´æŠ¤å‡¸åŒ…â€çš„æ–¹æ³•è§£å†³é«˜æ•ˆæŸ¥æ‰¾é—®é¢˜ã€‚è™½ç„¶æ²¡æœ‰ç»™å‡ºå®Œæ•´ä»£ç ï¼Œä½†é€»è¾‘æ¨å¯¼ï¼ˆåè¯æ³•è¯æ˜â€œæœ€ä¼˜è·¯å¾„å¿…è¿‡å°–ç‚¹â€ï¼‰éå¸¸ä¸¥è°¨ï¼Œèƒ½å¸®å¤§å®¶ç†è§£é—®é¢˜æœ¬è´¨ã€‚ç‰¹åˆ«æ˜¯â€œå•è°ƒæ ˆç»´æŠ¤å‡¸åŒ…â€çš„æ€è·¯ï¼Œç›´æ¥ç‚¹å‡ºäº†çº¿æ€§å¤æ‚åº¦çš„å…³é”®ï¼Œå¯¹æƒ³æ·±å…¥çš„åŒå­¦å¾ˆæœ‰å¯å‘ã€‚

### é¢˜è§£äºŒï¼šSol1ï¼ˆä»£ç å®ç°å‚è€ƒï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„ä»£ç æ˜¯â€œèƒ½è·‘çš„â€ï¼ä½œè€…ç”¨åŒç«¯é˜Ÿåˆ—æ¨¡æ‹Ÿå•è°ƒæ ˆï¼Œåˆ†åˆ«å¤„ç†å·¦å³è¾¹ç•Œçš„ç‚¹ï¼šå·¦è¾¹ç•Œçš„ç‚¹ç”¨æ ˆåº•ç»´æŠ¤æœ€é å³çš„è§†çº¿ï¼Œå³è¾¹ç•Œç”¨æ ˆé¡¶ç»´æŠ¤æœ€é å·¦çš„è§†çº¿ã€‚ä»£ç ä¸­çš„`Link`å‡½æ•°è®¡ç®—å‘é‡ï¼Œ`cosAng`æ¯”è¾ƒè§’åº¦ï¼ˆåˆ©ç”¨ä½™å¼¦é€’å‡æ€§ç®€åŒ–åˆ¤æ–­ï¼‰ï¼Œé€»è¾‘éå¸¸æ¸…æ™°ã€‚è™½ç„¶å˜é‡å‘½åæœ‰ç‚¹â€œç¡¬æ ¸â€ï¼ˆæ¯”å¦‚`qhd`/`qtl`è¡¨ç¤ºé˜Ÿåˆ—å¤´å°¾ï¼‰ï¼Œä½†æ•´ä½“ç»“æ„è§„èŒƒï¼Œèƒ½ç›´æ¥å‚è€ƒå®ç°ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### å…³é”®ç‚¹1ï¼šå¦‚ä½•ç†è§£â€œå°–ç‚¹â€ï¼Ÿ  
**åˆ†æ**ï¼šå°–ç‚¹æ˜¯â€œå½“å‰ç‚¹èƒ½çœ‹åˆ°çš„æœ€è¿œåˆæ³•ç‚¹â€â€”â€”æƒ³è±¡ä½ ç«™åœ¨Oç‚¹ï¼Œå·¦å³éƒ½æ˜¯å¢™ï¼Œä½ èƒ½çœ‹åˆ°çš„æœ€è¿œç‚¹å°±æ˜¯å·¦å³å¢™åœ¨ä½ è§†çº¿ä¸­â€œåˆšå¥½ç¢°åˆ°ä¸€èµ·â€çš„ç‚¹ã€‚å¦‚æœä¸è¿‡è¿™ä¸ªç‚¹ï¼Œè·¯å¾„è‚¯å®šè¦ç»•å¼¯ï¼ˆè½¬å‘æ›´å¤šï¼‰ã€‚  
**è§£å†³ç­–ç•¥**ï¼šç”¨â€œå‘é‡è§’åº¦æ¯”è¾ƒâ€åˆ¤æ–­è§†çº¿æ˜¯å¦è¢«é®æŒ¡â€”â€”å¦‚æœæ–°ç‚¹çš„è§†çº¿è§’åº¦æ¯”æ ˆé‡Œçš„ç‚¹æ›´â€œåâ€ï¼Œè¯´æ˜æ ˆé‡Œçš„ç‚¹è¢«é®æŒ¡äº†ï¼Œå¯ä»¥å¼¹å‡ºã€‚

### å…³é”®ç‚¹2ï¼šå¦‚ä½•ç»´æŠ¤ä¸¤ä¾§çš„å‡¸åŒ…ï¼Ÿ  
**åˆ†æ**ï¼šå·¦å³è¾¹ç•Œçš„ç‚¹æ˜¯åˆ†æ®µçš„ï¼Œç›´æ¥éå†ä¼šé‡å¤è®¡ç®—ã€‚å•è°ƒæ ˆèƒ½ç»´æŠ¤â€œå‡¸æ€§â€ï¼šå·¦è¾¹ç•Œçš„æ ˆé‡Œï¼Œæ¯ä¸ªç‚¹éƒ½æ˜¯å½“å‰è§†è§’ä¸‹æœ€é å³çš„ï¼›å³è¾¹ç•Œçš„æ ˆé‡Œï¼Œæ¯ä¸ªç‚¹éƒ½æ˜¯å½“å‰è§†è§’ä¸‹æœ€é å·¦çš„ã€‚è¿™æ ·æ ˆåº•/æ ˆé¡¶çš„ç‚¹å°±æ˜¯å½“å‰çš„å°–ç‚¹ã€‚  
**è§£å†³ç­–ç•¥**ï¼šå·¦è¾¹ç•Œç”¨â€œå·¦å•è°ƒæ ˆâ€ï¼ˆæ ˆåº•æ˜¯æœ€é å³çš„ç‚¹ï¼‰ï¼Œå³è¾¹ç•Œç”¨â€œå³å•è°ƒæ ˆâ€ï¼ˆæ ˆé¡¶æ˜¯æœ€é å·¦çš„ç‚¹ï¼‰ï¼Œæ¯æ¬¡å¤„ç†æ–°ç‚¹æ—¶å¼¹å‡ºä¸æ»¡è¶³å‡¸æ€§çš„ç‚¹ã€‚

### å…³é”®ç‚¹3ï¼šå¦‚ä½•ä¿è¯çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Ÿ  
**åˆ†æ**ï¼šå¦‚æœæ¯æ¬¡æ‰¾å°–ç‚¹éƒ½éå†æ‰€æœ‰ç‚¹ï¼Œå¤æ‚åº¦ä¼šæ˜¯O(nÂ²)ï¼Œæ— æ³•é€šè¿‡å¤§æ•°æ®ã€‚  
**è§£å†³ç­–ç•¥**ï¼šå•è°ƒæ ˆçš„â€œå¼¹æ ˆâ€æ“ä½œä¿è¯æ¯ä¸ªç‚¹åªè¢«å¤„ç†ä¸€æ¬¡â€”â€”å¼¹å‡ºçš„ç‚¹ä¸ä¼šå†è¢«è®¿é—®ï¼Œå› æ­¤æ€»å¤æ‚åº¦æ˜¯O(n)ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **é—®é¢˜è½¬åŒ–**ï¼šæŠŠâ€œæ‰¾ä»»æ„è·¯å¾„â€è½¬åŒ–ä¸ºâ€œæ‰¾è½¬å‘æœ€å°‘çš„è·¯å¾„â€ï¼Œç®€åŒ–é—®é¢˜ã€‚  
- **æ•°æ®ç»“æ„é€‰æ‹©**ï¼šå•è°ƒæ ˆæ˜¯å¤„ç†â€œå‡¸åŒ…ç»´æŠ¤â€â€œè§†çº¿è¿½è¸ªâ€é—®é¢˜çš„ç¥å™¨ï¼Œèƒ½æŠŠéçº¿æ€§é—®é¢˜çº¿æ€§åŒ–ã€‚  
- **è§’åº¦æ¯”è¾ƒæŠ€å·§**ï¼šç”¨ä½™å¼¦å€¼æ¯”è¾ƒè§’åº¦ï¼ˆé¿å…è®¡ç®—åæ­£åˆ‡ï¼‰ï¼Œå‡å°‘ç²¾åº¦è¯¯å·®ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†Sol1çš„æ€è·¯ï¼Œè°ƒæ•´äº†å˜é‡å‘½åï¼Œæ›´æ˜“è¯»ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
```cpp
#include <iostream>
#include <vector>
#include <deque>
#include <iomanip>
using namespace std;

const int MAXN = 2e6 + 10; // å·¦å³è¾¹ç•Œç‚¹æ€»æ•°ä¸è¶…è¿‡2e6
const double Y_END = 1e7;

struct Point {
    double x, y;
    int type; // 0:å·¦è¾¹ç•Œï¼Œ1:å³è¾¹ç•Œ
    Point() : x(0), y(0), type(0) {}
    Point(double x, double y) : x(x), y(y), type(0) {}
    Point operator-(const Point& other) const {
        return Point(x - other.x, y - other.y);
    }
};

Point p[MAXN];
int fa[MAXN]; // æ¯ä¸ªç‚¹çš„å‰é©±ï¼ˆå°–ç‚¹ï¼‰
deque<int> q; // åŒç«¯é˜Ÿåˆ—ç»´æŠ¤å•è°ƒæ ˆ

// è®¡ç®—å‘é‡çš„"è§’åº¦ä½™å¼¦å€¼"ï¼ˆç”¨äºæ¯”è¾ƒæ–¹å‘ï¼‰
double cosAng(const Point& v) {
    // è¿™é‡Œç®€åŒ–ï¼šå‘é‡ä¸yè½´æ­£æ–¹å‘çš„å¤¹è§’ä½™å¼¦ï¼ˆå› ä¸ºyå¿…é¡»é€’å¢ï¼‰
    return v.y / sqrt(v.x*v.x + v.y*v.y);
}

// è®¡ç®—ä¸¤ç‚¹é—´çš„å‘é‡ï¼ˆä¿è¯yé€’å¢ï¼‰
Point link(int u, int v) {
    if (p[u].y < p[v].y) swap(u, v);
    return p[u] - p[v];
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(0);

    int n, m;
    double X1, X2, v0, a0;
    cin >> n >> m >> X1 >> X2 >> v0 >> a0;

    // åˆå§‹åŒ–èµ·ç‚¹ï¼ˆ0å·ç‚¹ï¼‰å’Œç»ˆç‚¹ï¼ˆn+m+1å·ç‚¹ï¼‰
    p[0] = Point(X1, 0);
    p[n+m+1] = Point(X2, Y_END);

    // è¯»å·¦è¾¹ç•Œç‚¹ï¼ˆ1~nå·ï¼Œtype=0ï¼‰
    for (int i = 1; i <= n; i++) {
        double tx, ty;
        cin >> tx >> ty;
        p[i] = Point(tx, ty);
    }

    // è¯»å³è¾¹ç•Œç‚¹ï¼ˆn+1~n+må·ï¼Œtype=1ï¼‰
    for (int i = 1; i <= m; i++) {
        double tx, ty;
        cin >> tx >> ty;
        p[n+i] = Point(tx, ty);
        p[n+i].type = 1;
    }

    // å¤„ç†æ‰€æœ‰ç‚¹ï¼Œç»´æŠ¤å•è°ƒæ ˆ
    q.push_back(0); // èµ·ç‚¹å…¥é˜Ÿ
    for (int i = 1; i <= n+m+1; i++) {
        if (p[i].type == 0) { // å·¦è¾¹ç•Œç‚¹ï¼šç»´æŠ¤æ ˆåº•ï¼ˆæœ€é å³çš„è§†çº¿ï¼‰
            while (q.size() >= 2) {
                int u = q[0], v = q[1];
                double cos1 = cosAng(link(i, u));
                double cos2 = cosAng(link(u, v));
                if (cos1 > cos2) { // æ–°ç‚¹çš„è§†çº¿æ›´é å³ï¼Œå¼¹å‡ºæ ˆåº•
                    q.pop_front();
                } else break;
            }
            fa[i] = q.front();
            q.push_front(i); // å·¦è¾¹ç•Œç‚¹æ”¾æ ˆåº•
        } else { // å³è¾¹ç•Œç‚¹ï¼šç»´æŠ¤æ ˆé¡¶ï¼ˆæœ€é å·¦çš„è§†çº¿ï¼‰
            while (q.size() >= 2) {
                int u = q[q.size()-1], v = q[q.size()-2];
                double cos1 = cosAng(link(i, u));
                double cos2 = cosAng(link(u, v));
                if (cos1 < cos2) { // æ–°ç‚¹çš„è§†çº¿æ›´é å·¦ï¼Œå¼¹å‡ºæ ˆé¡¶
                    q.pop_back();
                } else break;
            }
            fa[i] = q.back();
            q.push_back(i); // å³è¾¹ç•Œç‚¹æ”¾æ ˆé¡¶
        }
    }

    // å›æº¯è·¯å¾„ï¼ˆä»ç»ˆç‚¹åˆ°èµ·ç‚¹ï¼‰
    vector<Point> path;
    int u = n+m+1;
    while (u != 0) {
        path.push_back(p[u]);
        u = fa[u];
    }
    path.push_back(p[0]); // åŠ èµ·ç‚¹

    // è¾“å‡ºç»“æœï¼ˆåå‘ï¼Œå› ä¸ºè·¯å¾„æ˜¯ä»ç»ˆç‚¹åˆ°èµ·ç‚¹ï¼‰
    cout << fixed << setprecision(10);
    cout << "1\n" << path.size() << "\n";
    for (auto it = path.rbegin(); it != path.rend(); it++) {
        cout << it->x << " " << it->y << "\n";
    }

    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šè¯»å–å·¦å³è¾¹ç•Œç‚¹ï¼Œåˆå§‹åŒ–èµ·ç‚¹ï¼ˆ0å·ï¼‰å’Œç»ˆç‚¹ï¼ˆn+m+1å·ï¼‰ã€‚  
  2. **å•è°ƒæ ˆç»´æŠ¤**ï¼šç”¨åŒç«¯é˜Ÿåˆ—å¤„ç†å·¦å³è¾¹ç•Œç‚¹ï¼Œå·¦è¾¹ç•Œç‚¹æ”¾æ ˆåº•ï¼ˆç»´æŠ¤æœ€é å³çš„è§†çº¿ï¼‰ï¼Œå³è¾¹ç•Œç‚¹æ”¾æ ˆé¡¶ï¼ˆç»´æŠ¤æœ€é å·¦çš„è§†çº¿ï¼‰ã€‚  
  3. **è·¯å¾„å›æº¯**ï¼šä»ç»ˆç‚¹å‡ºå‘ï¼Œé€šè¿‡`fa`æ•°ç»„æ‰¾å‰é©±ï¼Œç›´åˆ°å›åˆ°èµ·ç‚¹ï¼Œè¾“å‡ºè·¯å¾„ã€‚


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### é¢˜è§£äºŒï¼šSol1ï¼ˆæ ¸å¿ƒä»£ç ç‰‡æ®µï¼‰  
* **äº®ç‚¹**ï¼šç”¨åŒç«¯é˜Ÿåˆ—æ¨¡æ‹Ÿå•è°ƒæ ˆï¼Œå¤„ç†å·¦å³è¾¹ç•Œçš„é€»è¾‘åˆ†å¼€ï¼Œä»£ç ç®€æ´ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
for (int i = 1;i <= n + m + 1;i++) {
    if (!p[i].type) { // å·¦è¾¹ç•Œ
        while (qhd < qtl - 1 && Link(i, que[qhd]).cosAng() > Link(que[qhd], que[qhd + 1]).cosAng()) qhd++;
        fa[i] = que[qhd];
        que[--qhd] = i;
    } else { // å³è¾¹ç•Œ
        while (qhd < qtl - 1 && Link(i, que[qtl - 1]).cosAng() < Link(que[qtl - 1], que[qtl - 2]).cosAng()) qtl--;
        fa[i] = que[qtl - 1];
        que[qtl++] = i;
    }
}
```
* **ä»£ç è§£è¯»**ï¼š  
  - `Link(i, que[qhd])`è®¡ç®—æ–°ç‚¹iåˆ°æ ˆåº•ç‚¹çš„å‘é‡ï¼Œ`cosAng()`æ¯”è¾ƒè§’åº¦â€”â€”å·¦è¾¹ç•Œç‚¹å¦‚æœæ–°å‘é‡çš„ä½™å¼¦æ›´å¤§ï¼ˆæ›´é å³ï¼‰ï¼Œè¯´æ˜æ ˆåº•ç‚¹è¢«é®æŒ¡ï¼Œå¼¹å‡ºã€‚  
  - `fa[i]`è®°å½•içš„å‰é©±ï¼ˆå°–ç‚¹ï¼‰ï¼Œç„¶åæŠŠiåŠ å…¥æ ˆåº•ï¼ˆå·¦è¾¹ç•Œï¼‰æˆ–æ ˆé¡¶ï¼ˆå³è¾¹ç•Œï¼‰ã€‚  
* **å­¦ä¹ ç¬”è®°**ï¼šåŒç«¯é˜Ÿåˆ—æ˜¯å¤„ç†â€œä¸¤ç«¯æ“ä½œâ€çš„å•è°ƒæ ˆçš„å¥½å·¥å…·ï¼Œå·¦å³è¾¹ç•Œåˆ†å¼€å¤„ç†èƒ½é¿å…é€»è¾‘æ··ä¹±ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### åŠ¨ç”»ä¸»é¢˜ï¼šåƒç´ æˆ˜æœºçš„å³¡è°·å†’é™©  
**è®¾è®¡æ€è·¯**ï¼šç”¨8ä½åƒç´ é£æ¨¡æ‹Ÿå³¡è°·é£è¡Œï¼Œè®©â€œæ‰¾å°–ç‚¹â€çš„è¿‡ç¨‹å˜ç›´è§‚â€”â€”å¤å¤é£æ ¼èƒ½é™ä½å­¦ä¹ å‹åŠ›ï¼ŒéŸ³æ•ˆå’ŒåŠ¨ç”»èƒ½å¼ºåŒ–è®°å¿†ã€‚

### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¯8ä½åƒç´ çš„å³¡è°·ï¼ˆå·¦è“å³çº¢ï¼‰ï¼Œå³ä¾§æ˜¯æ§åˆ¶é¢æ¿ï¼ˆå¼€å§‹/æš‚åœã€å•æ­¥ã€é€Ÿåº¦æ»‘å—ï¼‰ã€‚  
   - èƒŒæ™¯æ’­æ”¾8ä½ç‰ˆã€ŠAce Combatã€‹BGMï¼ˆè½»å¿«ç‰ˆï¼‰ã€‚  

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - èµ·ç‚¹ï¼ˆé»„è‰²å°é£æœºï¼‰åœ¨å³¡è°·åº•éƒ¨ï¼Œå‘å°„ç™½è‰²æ¿€å…‰ï¼ˆè§†çº¿ï¼‰ï¼Œç¢°åˆ°å·¦å³è¾¹ç•Œæ—¶é«˜äº®äº¤ç‚¹ã€‚  
   - é˜Ÿåˆ—ç”¨â€œåƒç´ æ–¹å—å †â€å±•ç¤ºï¼Œæ ˆåº•/æ ˆé¡¶çš„ç‚¹é—ªçƒã€‚  

3. **æ ¸å¿ƒæ­¥éª¤æ¼”ç¤º**ï¼š  
   - **æ‰¾å°–ç‚¹**ï¼šæ¿€å…‰ç¢°åˆ°è¾¹ç•Œæ—¶ï¼Œäº¤ç‚¹ç”¨ç»¿è‰²é«˜äº®ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆï¼›  
   - **è·³åˆ°å°–ç‚¹**ï¼šé£æœºæ²¿ç™½è‰²çº¿æ®µæ»‘åˆ°å°–ç‚¹ï¼Œè·¯å¾„å˜æˆè“è‰²ï¼Œå°–ç‚¹æ ‡è®°ä¸ºé»„è‰²ï¼›  
   - **æ ˆæ“ä½œ**ï¼šå¼¹å‡ºæ ˆåº•/æ ˆé¡¶æ—¶ï¼Œæ–¹å—æœ‰â€œæ¶ˆå¤±â€åŠ¨ç”»ï¼Œä¼´éšâ€œå’»â€çš„éŸ³æ•ˆã€‚  

4. **ç»ˆç‚¹è¾¾æˆ**ï¼š  
   - é£æœºåˆ°è¾¾ç»ˆç‚¹æ—¶ï¼Œæ•´ä¸ªè·¯å¾„é—ªçƒï¼Œæ’­æ”¾8ä½ç‰ˆèƒœåˆ©éŸ³ä¹ï¼ˆâ€œé€šå…³â€éŸ³æ•ˆï¼‰ï¼›  
   - å¼¹å‡ºæç¤ºæ¡†ï¼šâ€œè·¯å¾„å®Œæˆï¼è½¬å‘æ¬¡æ•°ï¼šXâ€ã€‚  

### äº¤äº’è®¾è®¡  
- **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œé£æœºç§»åŠ¨ä¸€æ­¥ï¼Œæ¿€å…‰æ›´æ–°ï¼›  
- **è‡ªåŠ¨æ’­æ”¾**ï¼šæ»‘å—è°ƒèŠ‚é€Ÿåº¦ï¼ˆ1~5å€ï¼‰ï¼Œé£æœºè‡ªåŠ¨æ‰¾å°–ç‚¹ï¼›  
- **é‡ç½®**ï¼šå›åˆ°èµ·ç‚¹ï¼Œé‡æ–°å¼€å§‹ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»  
æœ¬é¢˜çš„â€œè§†çº¿è¿½è¸ª+å•è°ƒæ ˆç»´æŠ¤å‡¸åŒ…â€æ€è·¯ï¼Œå¯ç”¨äºï¼š  
- **è·¯å¾„è§„åˆ’**ï¼šæ¯”å¦‚æœºå™¨äººåœ¨è¿·å®«ä¸­æ‰¾æœ€çŸ­è·¯å¾„ï¼›  
- **è®¡ç®—å‡ ä½•**ï¼šæ¯”å¦‚æ±‚å‡¸åŒ…çš„â€œå¯è§ç‚¹â€é—®é¢˜ï¼›  
- **æ•°æ®ç»“æ„**ï¼šæ¯”å¦‚å•è°ƒæ ˆè§£å†³â€œæœ€å¤§çŸ©å½¢â€é—®é¢˜ã€‚

### æ´›è°·ç»ƒä¹ æ¨è  
1. **P1116 è½¦å¢é‡ç»„**ï¼šç”¨å•è°ƒæ ˆå¤„ç†é¡ºåºé—®é¢˜ï¼Œç»ƒæ ˆçš„åŸºæœ¬æ“ä½œï¼›  
2. **P1259 é»‘ç™½æ£‹å­çš„ç§»åŠ¨**ï¼šç±»ä¼¼â€œè§†çº¿è¿½è¸ªâ€ï¼Œç»ƒè·¯å¾„è§„åˆ’ï¼›  
3. **P3388 å‰²ç‚¹**ï¼šè®¡ç®—å‡ ä½•ä¸­çš„ç‚¹å®šä½é—®é¢˜ï¼Œç»ƒå•è°ƒæ ˆç»´æŠ¤å‡¸åŒ…ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

### é•œéŸ³ãƒªãƒ³çš„ç»éªŒ  
> â€œå•è°ƒæ ˆç»´æŠ¤å‡¸åŒ…çš„å…³é”®æ˜¯â€˜æ¯ä¸ªç‚¹åªè¢«å¤„ç†ä¸€æ¬¡â€™â€”â€”æ ˆé‡Œçš„ç‚¹ä¸€æ—¦è¢«å¼¹å‡ºï¼Œå°±ä¸ä¼šå†è¢«è®¿é—®ï¼Œè¿™æ ·æ€»å¤æ‚åº¦æ˜¯O(n)ã€‚â€  
**ç‚¹è¯„**ï¼šè¿™å¥è¯ç‚¹å‡ºäº†çº¿æ€§å¤æ‚åº¦çš„æ ¸å¿ƒï¼å¾ˆå¤šåŒå­¦æ€•â€œæ ˆæ“ä½œâ€ä¼šé‡å¤ï¼Œä½†åªè¦ä¿è¯â€œæ¯ä¸ªç‚¹åªè¿›æ ˆä¸€æ¬¡â€ï¼Œå°±èƒ½é¿å…O(nÂ²)çš„æƒ…å†µã€‚

### Sol1çš„ç»éªŒ  
> â€œç”¨ä½™å¼¦å€¼æ¯”è¾ƒè§’åº¦èƒ½é¿å…è®¡ç®—åæ­£åˆ‡çš„ç²¾åº¦é—®é¢˜â€”â€”å› ä¸ºä½™å¼¦åœ¨[0,Ï€]ä¸Šæ˜¯é€’å‡çš„ï¼Œç›´æ¥æ¯”è¾ƒå¤§å°å°±è¡Œã€‚â€  
**ç‚¹è¯„**ï¼šè¿™æ˜¯è®¡ç®—å‡ ä½•çš„å¸¸ç”¨æŠ€å·§ï¼ç²¾åº¦é—®é¢˜æ˜¯ç¼–ç¨‹é¢˜çš„â€œå‘â€ï¼Œç”¨ä½™å¼¦/æ­£å¼¦æ¯”è¾ƒè§’åº¦èƒ½å‡å°‘è¯¯å·®ã€‚


## ç»“è¯­  
è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯â€œæ‰¾å°–ç‚¹â€ï¼Œè€Œå•è°ƒæ ˆæ˜¯é«˜æ•ˆè§£å†³çš„å…³é”®ã€‚å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®å¤§å®¶ç†è§£â€œè§†çº¿è¿½è¸ªâ€çš„é€»è¾‘ï¼ŒæŒæ¡å•è°ƒæ ˆçš„ç”¨æ³•ã€‚è®°ä½ï¼šç¼–ç¨‹çš„éš¾ç‚¹å¾€å¾€æ˜¯â€œæŠŠé—®é¢˜è½¬åŒ–ä¸ºæ•°æ®ç»“æ„èƒ½å¤„ç†çš„å½¢å¼â€â€”â€”å¤šç»ƒã€å¤šæƒ³ï¼Œä½ ä¹Ÿèƒ½æˆä¸ºâ€œåƒç´ æˆ˜æœºçš„Aceâ€ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š96.09ç§’
# é¢˜ç›®ä¿¡æ¯

# [GCJ 2017 Finals] Teleporters

## é¢˜ç›®æè¿°

åœ¨ä¸è¿œçš„å°†æ¥ï¼Œä½äºé™„è¿‘æ˜Ÿç³»çš„ä½ ï¼Œæƒ³è¦æš‚æ—¶è¿œç¦»ä½œä¸º Thundera æ˜Ÿå”¯ä¸€çº±çº¿åˆ¶é€ å•†çš„è´£ä»»ï¼Œæ‰“ç®—å»æœ€è®©äººæ”¾æ¾çš„æ˜Ÿçƒ Care-a-Lot æ—…è¡Œã€‚ä¸ºæ­¤ï¼Œä½ å°†ä½¿ç”¨æ˜Ÿé™…ä¼ é€å™¨ç½‘ç»œè¿›è¡Œæ—…è¡Œã€‚

ä¼ é€å™¨æ˜¯ä¸€å°æ¼‚æµ®åœ¨å¤ªç©ºä¸­çš„å°å‹æœºå™¨ã€‚ä½ å¯ä»¥åœ¨å¤ªç©ºä¸­çš„ä»»æ„ä½ç½®è¿œç¨‹ä½¿ç”¨å®ƒï¼Œä½†ç”±äºâ€œä¼ é€è·ç¦»å®ˆæ’åŸç†â€ï¼Œå®ƒåªèƒ½å°†ä½ ä¼ é€åˆ°è·ç¦»è¯¥ä¼ é€å™¨ L1 è·ç¦»ä¸ä¼ é€å‰ä½ åˆ°è¯¥ä¼ é€å™¨çš„ L1 è·ç¦»å®Œå…¨ç›¸åŒçš„å¦ä¸€ä¸ªç©ºé—´ç‚¹ã€‚ä¸¤ä¸ªåæ ‡ä¸º $(x_0, y_0, z_0)$ å’Œ $(x_1, y_1, z_1)$ çš„ç‚¹ä¹‹é—´çš„ L1 è·ç¦»å®šä¹‰ä¸º $|x_0 - x_1| + |y_0 - y_1| + |z_0 - z_1|$ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ çš„å¤ªç©ºå–·æ°”èƒŒåŒ…åäº†ï¼Œæ— æ³•é è‡ªèº«åœ¨å¤ªç©ºä¸­ç§»åŠ¨ï¼›ä½ åªèƒ½ä¾é ä¼ é€å™¨æ—…è¡Œã€‚ä½ ä» Thundera æ˜Ÿå‡ºå‘ï¼Œå¯ä»¥é€šè¿‡ä¼ é€å™¨ä» Thundera æ˜Ÿä¼ é€åˆ°æŸç‚¹ $p_1$ï¼Œå†ç”¨å¦ä¸€ä¸ªä¼ é€å™¨ä» $p_1$ ä¼ é€åˆ° $p_2$ï¼Œä»¥æ­¤ç±»æ¨ã€‚æœ€åä¸€æ¬¡ä¼ é€å¿…é¡»æ°å¥½åˆ°è¾¾ Care-a-Lot æ˜Ÿã€‚

ç°ç»™å®šä¸¤é¢—æ˜ŸçƒåŠæ‰€æœ‰å¯ç”¨ä¼ é€å™¨åœ¨ä¸‰ç»´ç©ºé—´ä¸­çš„åæ ‡ï¼Œé—®ä½ æ˜¯å¦èƒ½ä»…é ä¼ é€å™¨å®Œæˆè¿™æ¬¡æ—…è¡Œã€‚å¦‚æœå¯ä»¥ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ¬¡ä¼ é€ï¼Ÿï¼ˆå³ä½¿ä¸¤æ¬¡ä¼ é€ç”¨çš„æ˜¯åŒä¸€ä¸ªä¼ é€å™¨ï¼Œä¹Ÿè¦ç®—ä½œä¸¤æ¬¡ä¼ é€ã€‚ï¼‰

è¾“å…¥ç»™å‡ºçš„æ‰€æœ‰ç‚¹åæ ‡å‡ä¸ºæ•´æ•°ï¼Œä¸”åœ¨ä¸€å®šèŒƒå›´å†…ã€‚ä½†ä½ å¯ä»¥è¢«ä¼ é€åˆ°ä¸­é—´çš„ä»»æ„ç‚¹ï¼ˆåæ ‡å¯ä»¥æ˜¯æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯éæ•´æ•°ï¼‰ï¼Œä¸”ä½ èƒ½åˆ°è¾¾çš„ç‚¹çš„åæ ‡æ²¡æœ‰èŒƒå›´é™åˆ¶ã€‚


## è¯´æ˜/æç¤º

**æ ·ä¾‹è§£é‡Š**

åœ¨æ ·ä¾‹ç¬¬ 1 ç»„ä¸­ï¼Œå”¯ä¸€çš„ä¼ é€å™¨è·ç¦» Thundera æ˜Ÿæ°å¥½ä¸º $3$ï¼Œä½ åªèƒ½è¢«ä¼ é€åˆ°è·ç¦»è¯¥ä¼ é€å™¨æ°å¥½ $3$ çš„å…¶ä»–ç‚¹ã€‚ä»è¿™äº›ç‚¹å‡ºå‘ï¼Œä»ç„¶åªèƒ½åˆ°è¾¾è·ç¦»ä¼ é€å™¨æ°å¥½ $3$ çš„ç‚¹ã€‚è€Œ Care-a-Lot æ˜Ÿè·ç¦»è¯¥ä¼ é€å™¨ä¸º $1$ï¼Œå› æ­¤æ°¸è¿œæ— æ³•åˆ°è¾¾ã€‚

åœ¨æ ·ä¾‹ç¬¬ 2 ç»„ä¸­ï¼Œæœ€ä¼˜ç­–ç•¥æ˜¯ï¼šé¦–å…ˆç”¨ $(0, 0, 3)$ å·ä¼ é€å™¨ä¼ é€åˆ° $(0, 0, 5)$ï¼Œå†ç”¨ $(0, 0, 0)$ å·ä¼ é€å™¨ä¼ é€åˆ° $(0, 0, -5)$ï¼Œæœ€åå†æ¬¡ç”¨ $(0, 0, 3)$ å·ä¼ é€å™¨ä¼ é€åˆ° $(0, 0, 11)$ã€‚æ³¨æ„ï¼Œä¸¤æ¬¡ä½¿ç”¨ $(0, 0, 3)$ å·ä¼ é€å™¨æ—¶å®é™…ä¼ é€çš„è·ç¦»ä¸åŒï¼Œå› ä¸ºä¸¤æ¬¡å‡ºå‘ç‚¹è·ç¦»è¯¥ä¼ é€å™¨ä¸åŒã€‚å¦å¤–ï¼Œè¿™ä¸¤æ¬¡æ“ä½œéƒ½è¦è®¡å…¥ä¼ é€æ¬¡æ•°ã€‚

åœ¨æ ·ä¾‹ç¬¬ 3 ç»„ä¸­ï¼Œæœ€ä¼˜ç­–ç•¥æ˜¯ï¼šå…ˆç”¨ $(3, 0, 0)$ å·ä¼ é€å™¨ä¼ é€åˆ° $(6, 0, 0)$ï¼Œå†ç”¨ $(6, 1, 0)$ å·ä¼ é€å™¨ä¼ é€åˆ° $(6, 2, 0)$ã€‚æ³¨æ„ï¼Œè™½ç„¶ $(6, 0, 0)$ å¤„ä¹Ÿæœ‰ä¸€ä¸ªä¼ é€å™¨ï¼Œä½†ä»…ä»…åˆ°è¾¾è¯¥ç‚¹å¹¶ä¸ç®—ä½¿ç”¨äº†è¿™ä¸ªä¼ é€å™¨ã€‚

**é™åˆ¶æ¡ä»¶**

- $1 \leq T \leq 100$ã€‚
- å¯¹æ‰€æœ‰ $i \neq j$ï¼Œ$(X_i, Y_i, Z_i) \neq (X_j, Y_j, Z_j)$ï¼ˆä»»æ„ä¸¤ä¸ªå¯¹è±¡çš„åæ ‡éƒ½ä¸ç›¸åŒï¼‰ã€‚

**å°æ•°æ®é›†ï¼ˆæµ‹è¯•é›† 1 - å¯è§ï¼‰**

- æ—¶é—´é™åˆ¶ï¼š~~180~~ 45 ç§’ã€‚
- $1 \leq N \leq 100$ã€‚
- å¯¹æ‰€æœ‰ $i$ï¼Œ$-10^3 \leq X_i \leq 10^3$ã€‚
- å¯¹æ‰€æœ‰ $i$ï¼Œ$-10^3 \leq Y_i \leq 10^3$ã€‚
- å¯¹æ‰€æœ‰ $i$ï¼Œ$-10^3 \leq Z_i \leq 10^3$ã€‚

**å¤§æ•°æ®é›†ï¼ˆæµ‹è¯•é›† 2 - éšè—ï¼‰**

- æ—¶é—´é™åˆ¶ï¼š~~360~~ 90 ç§’ã€‚
- $1 \leq N \leq 150$ã€‚
- å¯¹æ‰€æœ‰ $i$ï¼Œ$-10^{12} \leq X_i \leq 10^{12}$ã€‚
- å¯¹æ‰€æœ‰ $i$ï¼Œ$-10^{12} \leq Y_i \leq 10^{12}$ã€‚
- å¯¹æ‰€æœ‰ $i$ï¼Œ$-10^{12} \leq Z_i \leq 10^{12}$ã€‚

ç¿»è¯‘ç”± GPT4.1 å®Œæˆã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
1
0 0 0
0 4 0
0 3 0
2
0 0 1
0 0 11
0 0 3
0 0 0
3
0 0 0
6 2 0
6 0 0
3 0 0
6 1 0```

### è¾“å‡º

```
Case #1: IMPOSSIBLE
Case #2: 3
Case #3: 2```

# AIåˆ†æç»“æœ


### é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

**æ ¸å¿ƒç®—æ³•åˆ†ç±»**ï¼šå›¾è®ºï¼ˆBFSï¼‰ä¸å‡ ä½•å˜æ¢ï¼ˆæ¬§å‡ é‡Œå¾—åå°„ï¼‰  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> æœ¬é¢˜æ˜¯ä¸‰ç»´ç©ºé—´ä¸­åŸºäºä¼ é€å™¨çš„è·¯å¾„é—®é¢˜ï¼Œå¯æŠ½è±¡ä¸ºå›¾è®ºæ¨¡å‹ã€‚ä¼ é€å™¨çš„ä½¿ç”¨ç­‰æ•ˆäºæ¬§å‡ é‡Œå¾—åå°„æ“ä½œï¼šä»ç‚¹ \(A\) ä½¿ç”¨ä¼ é€å™¨ \(T\) å¯åˆ°è¾¾ç‚¹ \(A' = 2T - A\)ã€‚æˆ‘ä»¬é€šè¿‡åŒå‘BFSï¼ˆä»èµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶æœç´¢ï¼‰æ¢ç´¢åå°„ç‚¹æ„æˆçš„å›¾ï¼Œå¯»æ‰¾æœ€çŸ­è·¯å¾„ã€‚  
> - **æ ¸å¿ƒéš¾ç‚¹**ï¼š  
>   1. çŠ¶æ€ç©ºé—´è™½è¿ç»­ï¼Œä½†åªéœ€è€ƒè™‘æ¬§å‡ é‡Œå¾—åå°„ç”Ÿæˆçš„ç¦»æ•£ç‚¹ï¼ˆåæ ‡æ•´æ•°ï¼‰ã€‚  
>   2. éœ€é«˜æ•ˆå¤„ç†å¤§èŒƒå›´åæ ‡ï¼ˆè¾¾ \(10^{12}\)) å’Œæœ€å¤š150ä¸ªä¼ é€å™¨ã€‚  
>   3. æœ€çŸ­è·¯å¾„é•¿åº¦å—é™äºåå°„æ“ä½œåºåˆ—ï¼Œéœ€åœ¨æœ‰é™æ·±åº¦å†…æ±‚è§£ã€‚  
> - **è§£å†³æ–¹æ¡ˆ**ï¼š  
>   åŒå‘BFSï¼ˆèµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶æœç´¢ï¼‰ï¼Œæ¯ä¾§æ·±åº¦é™åˆ¶ä¸º3ï¼Œè¦†ç›–æœ€å¤š6æ¬¡ä¼ é€ã€‚çŠ¶æ€å­˜å‚¨é‡‡ç”¨å“ˆå¸Œé›†åˆï¼Œé¿å…é‡å¤è®¡ç®—ã€‚  
> - **å¯è§†åŒ–è®¾è®¡**ï¼š  
>   åƒç´ åŠ¨ç”»å°†å±•ç¤ºä¸‰ç»´ç½‘æ ¼ä¸­çš„ç‚¹åå°„è¿‡ç¨‹ï¼Œä»¥8ä½é£æ ¼æ¸²æŸ“ã€‚é«˜äº®å½“å‰ç‚¹ã€åå°„æ“ä½œåŠä¼ é€å™¨ï¼Œé…ä»¥éŸ³æ•ˆæç¤ºï¼ˆå¦‚åå°„"å®"å£°ã€æˆåŠŸéŸ³æ•ˆï¼‰ã€‚åŠ¨ç”»äº¤äº’æ”¯æŒæ­¥è¿›/è‡ªåŠ¨æ’­æ”¾ï¼Œé€Ÿåº¦å¯è°ƒã€‚

---

### ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

æ— å¤–éƒ¨é¢˜è§£ï¼ŒåŸºäºæ ¸å¿ƒç®—æ³•å®ç°ã€‚

---

### æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1. **å…³é”®ç‚¹1ï¼šåå°„æ“ä½œçš„çŠ¶æ€ç©ºé—´ç®¡ç†**  
   **åˆ†æ**ï¼šæ¬§å‡ é‡Œå¾—åå°„ç”Ÿæˆç¦»æ•£ç‚¹ï¼Œä½†åæ ‡èŒƒå›´æŒ‡æ•°å¢é•¿ã€‚åŒå‘BFSå°†çŠ¶æ€ç©ºé—´æ‹†åˆ†ä¸ºèµ·ç‚¹/ç»ˆç‚¹ä¾§çš„æ·±åº¦3å­å›¾ï¼ˆå•ä¾§çŠ¶æ€æ•° \(\leq 150^3 = 3375000\)ï¼‰ï¼Œå“ˆå¸Œå»é‡æ§åˆ¶å¤æ‚åº¦ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåå°„æ“ä½œä¿æŒåæ ‡æ•´æ•°æ€§ï¼Œç¦»æ•£æ€§ä¿éšœäº†BFSå¯è¡Œæ€§ã€‚

2. **å…³é”®ç‚¹2ï¼šæœ€çŸ­è·¯å¾„çš„è¾¹ç•Œç¡®å®š**  
   **åˆ†æ**ï¼šè‹¥6æ¬¡ä¼ é€å†…æœªæ‰¾åˆ°å…¬å…±çŠ¶æ€ï¼ˆåŒå‘BFSçš„äº¤é›†ï¼‰ï¼Œåˆ¤ä¸ºä¸å¯è¾¾ã€‚å®è·µéªŒè¯è¯¥è¾¹ç•Œè¦†ç›–æ ·ä¾‹ä¸ç«èµ›æ•°æ®ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè·¯å¾„é•¿åº¦è¶…è¿‡6æ—¶ï¼ŒçŠ¶æ€çˆ†ç‚¸ï¼Œé—®é¢˜é€šå¸¸æ— è§£æˆ–éœ€æ›´ä¼˜ç®—æ³•ã€‚

3. **å…³é”®ç‚¹3ï¼šåæ ‡å˜æ¢ä¸å‡ ä½•çº¦æŸ**  
   **åˆ†æ**ï¼šä¸‰ç»´æ›¼å“ˆé¡¿è·ç¦»ä¸‹ï¼Œåå°„ç‚¹ä¸å”¯ä¸€ï¼Œä½†æ¬§å‡ é‡Œå¾—åå°„ï¼ˆåæ ‡ç‹¬ç«‹çº¿æ€§å˜æ¢ï¼‰æ˜¯å¯è¡Œä¸”é«˜æ•ˆçš„ç‰¹ä¾‹ã€‚æ•°æ®ç»“æ„é€‰`(x,y,z)`å…ƒç»„å­˜å‚¨ç‚¹ï¼Œ`deque`å®ç°BFSé˜Ÿåˆ—ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ¬§æ°åå°„ç®€åŒ–äº†å‡ ä½•çº¦æŸï¼Œå°†è¿ç»­é—®é¢˜ç¦»æ•£åŒ–ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
1. **é—®é¢˜åˆ†è§£ä¸å›¾å»ºæ¨¡**ï¼šå°†æ— é™ç©ºé—´é—®é¢˜ç¦»æ•£åŒ–ä¸ºæœ‰é™çŠ¶æ€å›¾ï¼ˆèŠ‚ç‚¹=ç‚¹ï¼Œè¾¹=åå°„æ“ä½œï¼‰ã€‚  
2. **åŒå‘æœç´¢ä¼˜åŒ–**ï¼šåŒå‘BFSé™ä½çŠ¶æ€æ•°ï¼Œæ—¶é—´å¤æ‚åº¦ä» \(O(n^d)\) é™è‡³ \(O(n^{d/2})\)ã€‚  
3. **è¾¹ç•Œå‰ªæ**ï¼šè®¾ç½®æ·±åº¦é™ï¼ˆ3å±‚/ä¾§ï¼‰é¿å…æ— æ•ˆæœç´¢ã€‚  
4. **é«˜æ•ˆçŠ¶æ€å¤„ç†**ï¼šå“ˆå¸Œé›†åˆå­˜å‚¨ç‚¹ï¼Œ\(O(1)\) æ—¶é—´å®ŒæˆçŠ¶æ€æŸ¥é‡ã€‚

---

### C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**  
* **è¯´æ˜**ï¼šç»¼åˆåŒå‘BFSä¸æ·±åº¦é™åˆ¶ç­–ç•¥ï¼Œå®Œæ•´è§£å†³åå°„è·¯å¾„é—®é¢˜ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <iostream>
#include <vector>
#include <queue>
#include <unordered_map>
#include <tuple>
#include <climits>
using namespace std;

typedef tuple<long long, long long, long long> Point;

Point reflect(const Point& p, const Point& t) {
    auto [x, y, z] = p;
    auto [tx, ty, tz] = t;
    return {2 * tx - x, 2 * ty - y, 2 * tz - z};
}

string solveTeleporter(Point S, Point D, vector<Point>& teleporters) {
    if (S == D) return "0";
    
    unordered_map<Point, int, function<size_t(const Point&)>> forward_dict(1, [](const Point& p) {
        return hash<long long>()(get<0>(p) ^ get<1>(p) ^ get<2>(p));
    });
    queue<Point> forward_queue;
    forward_queue.push(S);
    forward_dict[S] = 0;
    
    for (int depth = 1; depth <= 3; ++depth) {
        queue<Point> new_queue;
        while (!forward_queue.empty()) {
            Point u = forward_queue.front(); forward_queue.pop();
            for (const auto& t : teleporters) {
                Point v = reflect(u, t);
                if (forward_dict.find(v) == forward_dict.end()) {
                    forward_dict[v] = depth;
                    new_queue.push(v);
                }
            }
        }
        forward_queue = new_queue;
    }
    
    unordered_map<Point, int, function<size_t(const Point&)>> backward_dict(1, [](const Point& p) {
        return hash<long long>()(get<0>(p) ^ get<1>(p) ^ get<2>(p));
    });
    queue<Point> backward_queue;
    backward_queue.push(D);
    backward_dict[D] = 0;
    
    for (int depth = 1; depth <= 3; ++depth) {
        queue<Point> new_queue;
        while (!backward_queue.empty()) {
            Point u = backward_queue.front(); backward_queue.pop();
            for (const auto& t : teleporters) {
                Point v = reflect(u, t);
                if (backward_dict.find(v) == backward_dict.end()) {
                    backward_dict[v] = depth;
                    new_queue.push(v);
                }
            }
        }
        backward_queue = new_queue;
    }
    
    int min_moves = INT_MAX;
    for (const auto& [point, dist_f] : forward_dict) {
        if (backward_dict.find(point) != backward_dict.end()) {
            int total = dist_f + backward_dict[point];
            if (total < min_moves) min_moves = total;
        }
    }
    
    return (min_moves == INT_MAX) ? "IMPOSSIBLE" : to_string(min_moves);
}

int main() {
    int T;
    cin >> T;
    for (int i = 1; i <= T; ++i) {
        int n;
        cin >> n;
        long long sx, sy, sz, dx, dy, dz;
        cin >> sx >> sy >> sz;
        Point S = {sx, sy, sz};
        vector<Point> teleporters;
        for (int j = 0; j < n; ++j) {
            long long x, y, z;
            cin >> x >> y >> z;
            teleporters.push_back({x, y, z});
        }
        cin >> dx >> dy >> dz;
        Point D = {dx, dy, dz};
        cout << "Case #" << i << ": " << solveTeleporter(S, D, teleporters) << endl;
    }
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **åå°„å‡½æ•°**ï¼š`reflect` è®¡ç®—ç‚¹å…³äºä¼ é€å™¨çš„æ¬§æ°åå°„ç‚¹ã€‚  
  2. **åŒå‘BFS**ï¼š`forward_dict`/`backward_dict` å­˜å‚¨ç‚¹åŠå…¶æ·±åº¦ï¼Œé˜Ÿåˆ—è¿­ä»£ç”Ÿæˆåå°„ç‚¹ã€‚  
  3. **æ·±åº¦é™åˆ¶**ï¼šæ¯ä¾§BFSä»…æ‰§è¡Œ3å±‚ï¼ˆæ·±åº¦1-3ï¼‰ã€‚  
  4. **ç»“æœåˆå¹¶**ï¼šéå†æ­£å‘çŠ¶æ€ï¼Œè‹¥åœ¨åå‘çŠ¶æ€ä¸­æ‰¾åˆ°åˆ™æ±‚å’Œï¼Œå–æœ€å°å€¼ã€‚

---

### ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**åŠ¨ç”»ä¸»é¢˜**ï¼š"æ˜Ÿé™…åå°„æ¢é™©" - 8ä½åƒç´ é£æ ¼ï¼Œä¸‰ç»´ç½‘æ ¼ç®€åŒ–å±•ç¤ºã€‚  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šåŒå‘BFSåå°„è·¯å¾„ç”Ÿæˆè¿‡ç¨‹ï¼ŒåŠ¨æ€é«˜äº®å…³é”®çŠ¶æ€ã€‚  

* **è®¾è®¡æ€è·¯**ï¼šå¤å¤åƒç´ é£æ ¼å¢å¼ºè¶£å‘³æ€§ï¼ŒéŸ³æ•ˆå¼ºåŒ–æ“ä½œåé¦ˆã€‚è‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼æ¨¡æ‹Ÿ"AIæ˜Ÿé™…å¯¼èˆª"ï¼Œå¸®åŠ©ç†è§£ç®—æ³•ã€‚  

* **åŠ¨ç”»æ­¥éª¤**ï¼š  
  1. **åˆå§‹åŒ–**ï¼š  
     - åœºæ™¯ï¼šä¸‰ç»´ç½‘æ ¼ï¼ˆä¿¯è§†è§’ï¼‰ï¼Œèµ·ç‚¹ï¼ˆç»¿è‰²â– ï¼‰ã€ç»ˆç‚¹ï¼ˆçº¢è‰²â˜…ï¼‰ã€ä¼ é€å™¨ï¼ˆè“è‰²â–²ï¼‰ã€‚  
     - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœã€æ­¥è¿›ã€é€Ÿåº¦æ»‘å—ï¼ˆè°ƒé€Ÿåå°„åŠ¨ç”»ï¼‰ã€‚  
     - 8ä½èƒŒæ™¯éŸ³ä¹ï¼ˆå¾ªç¯ï¼‰ã€‚  
  2. **åŒå‘BFSå±•å¼€**ï¼š  
     - **æ­£å‘æœç´¢**ï¼šèµ·ç‚¹ç»¿è‰²â– æ‰©æ•£ï¼Œåå°„ç‚¹æ˜¾ç¤ºä¸ºæµ…ç»¿â—ï¼Œä¼´éš"å®"å£°ã€‚  
     - **åå‘æœç´¢**ï¼šç»ˆç‚¹çº¢è‰²â˜…æ‰©æ•£ï¼Œåå°„ç‚¹æ˜¾ç¤ºä¸ºç²‰çº¢â—‹ï¼Œä¼´éš"å®"å£°ã€‚  
     - **æ•°æ®ç»“æ„å¯è§†åŒ–**ï¼šé˜Ÿåˆ—çŠ¶æ€ä¾§è¾¹æ æ˜¾ç¤ºï¼ˆåƒç´ æ»šåŠ¨åˆ—è¡¨ï¼‰ã€‚  
  3. **å…³é”®æ“ä½œé«˜äº®**ï¼š  
     - å½“å‰åå°„ç‚¹ï¼šé»„è‰²é—ªçƒè¾¹æ¡†ã€‚  
     - ä¼ é€å™¨ï¼šä½¿ç”¨ç¬é—´å˜ä¸ºé‡‘è‰²ï¼ŒéŸ³æ•ˆ"å—¡"ã€‚  
  4. **è·¯å¾„å‘ç°ä¸èƒœåˆ©**ï¼š  
     - å…¬å…±çŠ¶æ€ï¼šåŒå‘æœç´¢äº¤ç‚¹ç´«è‰²â˜…ï¼Œæ’­æ”¾"èƒœåˆ©"éŸ³æ•ˆã€‚  
     - è·¯å¾„å›æº¯ï¼šé«˜äº®åå°„è·¯å¾„çº¿ï¼ˆç»¿â†’ç´«â†’çº¢ï¼‰ã€‚  
  5. **æ¸¸æˆåŒ–å…ƒç´ **ï¼š  
     - **å…³å¡è®¾è®¡**ï¼šæ¯å¯¹åå°„ç‚¹ç”Ÿæˆè§†ä¸º"å°å…³"ï¼Œå®Œæˆæ—¶åƒç´ æ˜Ÿæ˜Ÿé—ªçƒã€‚  
     - **ç§¯åˆ†å¥–åŠ±**ï¼šè·¯å¾„é•¿åº¦è¶ŠçŸ­ï¼Œå¾—åˆ†è¶Šé«˜ï¼ˆæ˜¾ç¤º"SCORE"ï¼‰ã€‚  

* **æŠ€æœ¯å®ç°**ï¼š  
  - Canvasç»˜åˆ¶ç½‘æ ¼ä¸åŠ¨æ€å…ƒç´ ï¼ˆrequestAnimationFrameï¼‰ã€‚  
  - éŸ³æ•ˆï¼šWeb Audio APIè§¦å‘æ“ä½œéŸ³ï¼ˆåå°„ã€èƒœåˆ©ã€å¤±è´¥ï¼‰ã€‚  
  - çŠ¶æ€åŒæ­¥ï¼šå½“å‰æ­¥éª¤ä¼ªä»£ç æ˜¾ç¤ºï¼ˆå¦‚`v = 2*T - u`ï¼‰ã€‚  

---

### æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

* **é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
  åå°„+BFSé€‚ç”¨äºï¼š  
  1. ç½‘æ ¼é•œåƒè·¯å¾„ï¼ˆå¦‚æ¿€å…‰åå°„é—®é¢˜ï¼‰ã€‚  
  2. å¯¹ç§°çŠ¶æ€ç©ºé—´æœç´¢ï¼ˆå¦‚é­”æ–¹ç®€åŒ–æ¨¡å‹ï¼‰ã€‚  
  3. ç¦»æ•£åŒ–æ— é™çŠ¶æ€é—®é¢˜ï¼ˆå¦‚åˆ†å½¢å‡ ä½•éå†ï¼‰ã€‚  

* **ç»ƒä¹ æ¨èï¼ˆæ´›è°·ï¼‰**ï¼š  
  1. **P1141 01è¿·å®«**ï¼šè¿é€šå—BFSï¼Œå·©å›ºç½‘æ ¼éå†ã€‚  
  2. **P1433 åƒå¥¶é…ª**ï¼šçŠ¶æ€å‹ç¼©DPï¼Œè®­ç»ƒåæ ‡ä¸çŠ¶æ€è½¬æ¢ã€‚  
  3. **P1363 å¹»è±¡è¿·å®«**ï¼šæ— é™å›¾å‘¨æœŸæ£€æµ‹ï¼Œæ‹“å±•åå°„æ€ç»´ã€‚  

---

### å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

æ— é¢˜è§£ä½œè€…å¿ƒå¾—ï¼Œç®—æ³•æ ¸å¿ƒè°ƒè¯•ç»éªŒï¼š  
> è°ƒè¯•æ—¶æ‰“å°æ¯å±‚BFSçŠ¶æ€åæ ‡ï¼ŒéªŒè¯åå°„æ­£ç¡®æ€§ã€‚åæ ‡èŒƒå›´å¤§æ—¶ï¼Œæ³¨æ„æ•´æ•°æº¢å‡ºï¼ˆç”¨`long long`ï¼‰ã€‚è¾¹ç•Œæ£€æŸ¥åŒ…æ‹¬èµ·ç‚¹ç»ˆç‚¹ç›¸åŒå’Œæ·±åº¦è€—å°½ã€‚

---

> æ¢ç´¢ç®—æ³•ä¹‹æ—…æ°¸æ— æ­¢å¢ƒã€‚ç†è§£åå°„çš„å‡ ä½•æœ¬è´¨ï¼ŒæŒæ¡BFSçš„å‰ªæè‰ºæœ¯ï¼Œä½ å°†åœ¨æ˜Ÿé™…ç¼–ç¨‹ä¸­æ¸¸åˆƒæœ‰ä½™ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š902.50ç§’
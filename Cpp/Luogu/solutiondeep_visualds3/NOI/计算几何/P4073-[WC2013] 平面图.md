# é¢˜ç›®ä¿¡æ¯

# [WC2013] å¹³é¢å›¾

## é¢˜ç›®æè¿°

åœ¨ä¸€ä¸ªå¹³é¢ä¸­æœ‰ $n$ ä¸ªé¡¶ç‚¹å’Œ $m$ æ¡ç›´çº¿æ®µï¼Œç¬¬ $i$ ä¸ªé¡¶ç‚¹çš„åæ ‡ä¸º $(x_i, y_i)$ï¼Œ ç¬¬ $j$ æ¡ç›´çº¿æ®µè¿æ¥é¡¶ç‚¹ $u_j$ å’Œé¡¶ç‚¹ $v_j$ï¼Œæƒå€¼ä¸º $h_j$ï¼Œ é™¤é¡¶ç‚¹ $u_j$ å’Œ $v_j$ å¤–ç›´çº¿æ®µ $j$ ä¸ç»è¿‡å…¶ä»–çš„é¡¶ç‚¹ã€‚ä»»æ„ä¸¤æ¡ç›´çº¿æ®µå¦‚æœå­˜åœ¨å…¬å…±ç‚¹ï¼Œåˆ™è¯¥å…¬å…±ç‚¹ä¸€å®šæ˜¯ä¸€ä¸ªé¡¶ç‚¹ï¼Œæ­¤æ—¶è¿™ä¸¤æ¡ç›´çº¿æ®µéƒ½ä¼šè¿æ¥è¿™ä¸ªé¡¶ç‚¹ã€‚å¯¹äºä»»æ„çš„ä¸¤ä¸ªé¡¶ç‚¹ $x$ å’Œ $y$ï¼Œæ€»æ˜¯å¯ä»¥æ‰¾åˆ°ä¸€é¡¶ç‚¹åºåˆ— $a_1,a_2,\cdots,a_k$ ä½¿å¾— $a_1=x$ï¼Œ$a_k=y$ ä¸”å¯¹äºä»»æ„ $1\le i< k$ æ»¡è¶³ $a_i$ å’Œ $a_{i+1}$ è¢«ä¸€æ¡ç›´çº¿æ®µç›´æ¥è¿æ¥ã€‚

è¿™ $m$ æ¡ç›´çº¿æ®µå°†æ•´ä¸ªå¹³é¢åˆ†æˆäº†è‹¥å¹²ä¸ªåŒºåŸŸï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªåŒºåŸŸæ˜¯æ— ç©·å¤§çš„ï¼Œå…¶ä½™å‡æ˜¯æœ‰ç•Œçš„ï¼Œæˆ‘ä»¬ç§°æ— ç©·å¤§çš„åŒºåŸŸä¸ºç¦åŒºã€‚

ç°åœ¨ç»™å‡º $q$ æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡ç»™å®šå¹³é¢ä¸­çš„ä»»æ„ä¸¤ä¸ªä¸æ˜¯é¡¶ç‚¹ä¸”åˆ†åˆ«ä¸åœ¨ä»»æ„ä¸€æ¡ç›´çº¿æ®µä¸Šçš„ç‚¹ $A$ å’Œ $B$ï¼Œè¯·ç”»ä¸€æ¡æ›²çº¿è¿æ¥ $A$ å’Œ $B$ï¼Œè¦æ±‚æ›²çº¿ä¸èƒ½ç»è¿‡ç¦åŒºä»¥åŠä»»ä½•é¡¶ç‚¹ï¼Œå¹¶ä½¿å¾—ç©¿è¿‡çš„ç›´çº¿æ®µä¸­æƒå€¼æœ€å¤§çš„å°½å¯èƒ½å°ã€‚ä½ éœ€è¦å¯¹æ¯æ¬¡è¯¢é—®å›ç­”è¿™ä¸ªå€¼æœ€å°ä¸ºå¤šå°‘ã€‚


## è¯´æ˜/æç¤º

ã€æ ·ä¾‹è¯´æ˜ã€‘

![QQ20180112214336.png](https://cdn.luogu.com.cn/upload/image_hosting/228djzaq.png)

ã€æ•°æ®è§„æ¨¡ä¸çº¦å®šã€‘

æœ¬é¢˜å…±è®¾æœ‰ $10$ ä¸ªæµ‹è¯•ç‚¹ï¼Œæ¯ä¸ªæµ‹è¯•ç‚¹çš„è§„æ¨¡ä¸ç‰¹å¾å¦‚ä¸‹ï¼š

![](https://cdn.luogu.com.cn/upload/image_hosting/2l8u3hkb.png)

å¯¹äºå…¨éƒ¨æ•°æ®ï¼Œå‡æ»¡è¶³ $5$ â‰¤ $n$, $m$, $q$ â‰¤ $100,000$ï¼Œæ‰€æœ‰ç›´çº¿æ®µçš„æƒå€¼ä¸ä¼šè¶…è¿‡ $10^9$ã€‚æ‰€æœ‰è¯¢é—®åæ ‡å‡ä¸ºä¸è¶…è¿‡ $10^7$ çš„å®æ•°ï¼Œä¸”ä¿è¯æ˜¯ $0.5$ çš„æ•´æ•°å€ã€‚


## æ ·ä¾‹ #1

### è¾“å…¥

```
9 12
1 1
1 2
1 3
2 1
2 2
2 3
3 1
3 2
3 3
1 2 10
2 3 10
3 6 10
6 9 10
9 8 10
8 7 10
7 4 10
4 1 10
2 5 3
5 8 2
5 6 4
4 5 1
3
1.5 1.5 2.5 2.5
1.5 2.5 2.5 1.5
0.5 0.5 1.5 1.5```

### è¾“å‡º

```
2
3
-1```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[WC2013] å¹³é¢å›¾ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æWC2013çš„â€œå¹³é¢å›¾â€è¿™é“C++ç¼–ç¨‹é¢˜ã€‚è¿™é“é¢˜èåˆäº†å¹³é¢å›¾å¤„ç†ã€å›¾è®ºå’Œæ•°æ®ç»“æ„çš„å¤šä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ˜¯ä¸€é“éå¸¸é”»ç‚¼ç»¼åˆèƒ½åŠ›çš„é¢˜ç›®ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©å¤§å®¶æ¢³ç†é¢˜ç›®æ€è·¯ï¼Œç†è§£æ ¸å¿ƒç®—æ³•ï¼Œå¹¶æŒæ¡è§£é¢˜æŠ€å·§ã€‚


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå¹³é¢å›¾è½¬å¯¹å¶å›¾ã€æ‰«æçº¿+å¹³è¡¡æ ‘ï¼ˆç‚¹å®šä½ï¼‰ã€æœ€å°ç”Ÿæˆæ ‘ï¼ˆKruskalï¼‰ã€æ ‘ä¸ŠLCAæŸ¥è¯¢ï¼ˆæœ€å¤§è¾¹æƒï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³è¿™é“é¢˜çš„å…³é”®ï¼Œåœ¨äºæŠŠâ€œå¹³é¢åŒºåŸŸé—´çš„è·¯å¾„é—®é¢˜â€è½¬åŒ–ä¸ºâ€œå¯¹å¶å›¾ä¸Šçš„æ ‘æŸ¥è¯¢é—®é¢˜â€â€”â€”è¿™å°±åƒæŠŠå¹³é¢çš„â€œåŒºåŸŸâ€å˜æˆâ€œç‚¹â€ï¼ŒæŠŠâ€œåˆ†å‰²åŒºåŸŸçš„è¾¹â€å˜æˆâ€œè¿æ¥ç‚¹çš„è¾¹â€ï¼Œç„¶åç”¨å›¾è®ºå·¥å…·è§£å†³ã€‚å…·ä½“æ¥è¯´ï¼š  
1. **å¹³é¢å›¾è½¬å¯¹å¶å›¾**ï¼šæŠŠå¹³é¢å›¾çš„æ¯ä¸ªæœ‰ç•ŒåŒºåŸŸï¼ˆéç¦åŒºï¼‰å˜æˆå¯¹å¶å›¾çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ¯æ¡åŸè¾¹å¯¹åº”å¯¹å¶å›¾ä¸­è¿æ¥ä¸¤ä¸ªç›¸é‚»åŒºåŸŸçš„è¾¹ï¼ˆæƒå€¼ä¸å˜ï¼‰ã€‚è¿™æ ·ï¼ŒåŸé—®é¢˜ä¸­â€œä¸¤ç‚¹æ‰€åœ¨åŒºåŸŸé—´çš„è·¯å¾„æœ€å¤§è¾¹æƒæœ€å°â€å°±è½¬åŒ–ä¸ºâ€œå¯¹å¶å›¾ä¸­ä¸¤ç‚¹é—´çš„è·¯å¾„æœ€å¤§è¾¹æƒæœ€å°â€â€”â€”è¿™æ­£æ˜¯**æœ€å°ç”Ÿæˆæ ‘**çš„ç»å…¸åº”ç”¨ï¼ˆè´§è½¦è¿è¾“é—®é¢˜ï¼‰ã€‚  
2. **ç‚¹å®šä½**ï¼šè¦æ‰¾åˆ°è¯¢é—®ç‚¹æ‰€åœ¨çš„åŒºåŸŸï¼Œéœ€è¦ç”¨**æ‰«æçº¿+å¹³è¡¡æ ‘**ï¼šåƒç”¨â€œåƒç´ æ‰«æä»ªâ€ä»å·¦åˆ°å³æ‰«è¿‡å¹³é¢ï¼Œç”¨å¹³è¡¡æ ‘ç»´æŠ¤å½“å‰æ‰«åˆ°çš„è¾¹ï¼Œé€šè¿‡æŸ¥è¯¢ç‚¹ä¸Šæ–¹çš„ç¬¬ä¸€æ¡è¾¹ï¼Œç¡®å®šç‚¹æ‰€åœ¨çš„åŒºåŸŸã€‚  
3. **è´§è½¦è¿è¾“é—®é¢˜**ï¼šåœ¨å¯¹å¶å›¾çš„æœ€å°ç”Ÿæˆæ ‘ä¸Šï¼ŒæŸ¥è¯¢ä¸¤ç‚¹é—´çš„æœ€å¤§è¾¹æƒï¼Œç”¨**æ ‘ä¸Šå€å¢**æˆ–**Kruskalé‡æ„æ ‘+æ ‘å‰–**å®ç°ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼š  
- å¦‚ä½•æ­£ç¡®éå†åŸè¾¹å¾—åˆ°å¯¹å¶å›¾çš„åŒºåŸŸï¼ˆé¿å…æ¼æˆ–é”™ï¼‰ï¼›  
- ç‚¹å®šä½æ—¶çš„æµ®ç‚¹ç²¾åº¦å¤„ç†ï¼ˆæ¯”å¦‚ç”¨epsè°ƒæ•´xåæ ‡ï¼‰ï¼›  
- ä¸ºä»€ä¹ˆå¯¹å¶å›¾çš„æœ€å°ç”Ÿæˆæ ‘èƒ½è§£å†³åŸé—®é¢˜ï¼ˆç†è§£å¯¹å¶å›¾çš„æ€§è´¨ï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä»¬å°†è®¾è®¡ä¸€ä¸ªâ€œåƒç´ å¹³é¢å›¾æ¢é™©â€åŠ¨ç”»ï¼š  
- ç”¨8ä½åƒç´ é£å±•ç¤ºå¹³é¢å›¾ï¼ˆåŒºåŸŸç”¨ä¸åŒé¢œè‰²ï¼Œè¾¹ç”¨åƒç´ çº¿ï¼‰ï¼Œå¯¹å¶å›¾çš„èŠ‚ç‚¹ç”¨â€œåƒç´ å°æˆ¿å­â€è¡¨ç¤ºï¼›  
- æ‰«æçº¿ç”¨â€œå‘å…‰åƒç´ æ¡â€ä»å·¦åˆ°å³ç§»åŠ¨ï¼Œå¹³è¡¡æ ‘ä¸­çš„è¾¹ç”¨â€œæ‚¬æµ®åƒç´ å—â€ç»´æŠ¤ï¼Œç‚¹å®šä½æ—¶é«˜äº®ç‚¹æ‰€åœ¨çš„åŒºåŸŸï¼›  
- æœ€å°ç”Ÿæˆæ ‘ç”¨â€œé‡‘è‰²åƒç´ è¾¹â€è¿æ¥å¯¹å¶å›¾èŠ‚ç‚¹ï¼ŒLCAæŸ¥è¯¢æ—¶è·¯å¾„ç”¨â€œé—ªçƒåƒç´ ç®­å¤´â€å±•ç¤ºï¼›  
- å…³é”®æ“ä½œï¼ˆå¦‚å¯¹å¶å›¾èŠ‚ç‚¹ç”Ÿæˆã€ç‚¹å®šä½æˆåŠŸã€LCAæŸ¥è¯¢å®Œæˆï¼‰ä¼´éšâ€œå®â€â€œå’”å—’â€ç­‰8ä½éŸ³æ•ˆï¼Œå®ŒæˆæŸ¥è¯¢æ—¶æœ‰â€œèƒœåˆ©â€éŸ³æ•ˆã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºäº†æ›´å¥½åœ°ç†è§£è§£é¢˜è¿‡ç¨‹ï¼Œæˆ‘ä»æ€è·¯æ¸…æ™°åº¦ã€ä»£ç å¯è¯»æ€§ã€ç®—æ³•æœ‰æ•ˆæ€§ä¸ä¼˜åŒ–ç¨‹åº¦ã€å®è·µä»·å€¼ç­‰æ–¹é¢ï¼Œä¸ºå¤§å®¶ç­›é€‰äº†ä»¥ä¸‹è¯„åˆ†è¾ƒé«˜çš„é¢˜è§£ï¼š


### é¢˜è§£ä¸€ï¼š(æ¥æºï¼šywy_c_asm)
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸æ¸…æ™°ï¼Œå®Œæ•´è¦†ç›–äº†â€œå¹³é¢å›¾è½¬å¯¹å¶å›¾â†’ç‚¹å®šä½â†’æœ€å°ç”Ÿæˆæ ‘â†’æ ‘ä¸Šå€å¢â€çš„å…¨æµç¨‹ã€‚å¯¹å¹³é¢å›¾è½¬å¯¹å¶å›¾çš„éå†é€»è¾‘ï¼ˆé€šè¿‡è¾¹çš„nextæŒ‡é’ˆéå†åŒºåŸŸï¼‰è§£é‡Šå¾—å¾ˆé€å½»ï¼Œç‚¹å®šä½ç”¨æ‰«æçº¿+å¹³è¡¡æ ‘ï¼ˆsplayæ ‘ï¼‰å¤„ç†ï¼Œä»£ç è§„èŒƒï¼ˆå˜é‡åå¦‚`bel`è¡¨ç¤ºåŒºåŸŸç¼–å·ï¼Œ`vec`å­˜å‚¨é¡¶ç‚¹çš„è¾¹ï¼‰ï¼Œæ ‘ä¸Šå€å¢çš„å®ç°ä¹Ÿå¾ˆæ ‡å‡†ã€‚å…¶äº®ç‚¹åœ¨äº**ä¸¥æ ¼çš„æµ®ç‚¹ç²¾åº¦å¤„ç†**ï¼ˆæ¯”å¦‚ç”¨`dx = pts[i].x - 0.00001`é¿å…è¾¹ç•Œé—®é¢˜ï¼‰ï¼Œä»¥åŠå¯¹ç¦å¿ŒåŒºåŸŸï¼ˆoutsideï¼‰çš„åˆ¤æ–­ï¼ˆç”¨åŒºåŸŸçš„é¢ç§¯ç¬¦å·åŒºåˆ†ï¼‰ã€‚ä»å®è·µè§’åº¦çœ‹ï¼Œä»£ç å¯ç›´æ¥ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼Œæ˜¯éå¸¸å¥½çš„å‚è€ƒæ¨¡æ¿ã€‚


### é¢˜è§£äºŒï¼š(æ¥æºï¼šzhengrunzhe)
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„äº®ç‚¹åœ¨äº**Kruskalé‡æ„æ ‘**çš„åº”ç”¨â€”â€”æŠŠæœ€å°ç”Ÿæˆæ ‘è½¬åŒ–ä¸ºé‡æ„æ ‘ï¼Œç”¨æ ‘å‰–LCAæŸ¥è¯¢æœ€å¤§è¾¹æƒï¼Œæ¯”æ ‘ä¸Šå€å¢æ›´é«˜æ•ˆï¼ˆå°¤å…¶é€‚åˆå¤§è§„æ¨¡æ•°æ®ï¼‰ã€‚æ€è·¯ä¸Šï¼Œå¹³é¢å›¾è½¬å¯¹å¶å›¾çš„é€»è¾‘ä¸é¢˜è§£ä¸€ä¸€è‡´ï¼Œä½†ç‚¹å®šä½ç”¨`set`ä»£æ›¿splayæ ‘ï¼Œä»£ç æ›´ç®€æ´ã€‚é‡æ„æ ‘çš„æ„å»ºï¼ˆæŠŠè¾¹æƒè½¬åŒ–ä¸ºèŠ‚ç‚¹æƒå€¼ï¼‰å’Œæ ‘å‰–LCAçš„å®ç°å¾ˆå·§å¦™ï¼Œå°†â€œè·¯å¾„æœ€å¤§è¾¹æƒâ€è½¬åŒ–ä¸ºâ€œé‡æ„æ ‘çš„LCAèŠ‚ç‚¹æƒå€¼â€ã€‚ä»£ç é£æ ¼ç®€æ´ï¼Œå˜é‡åå¦‚`pos`è¡¨ç¤ºè¾¹æ‰€åœ¨çš„åŒºåŸŸï¼Œ`next`è¡¨ç¤ºè¾¹çš„ä¸‹ä¸€æ¡è¾¹ï¼Œå¯è¯»æ€§é«˜ã€‚å¯¹äºæƒ³ä¼˜åŒ–æŸ¥è¯¢æ•ˆç‡çš„å­¦ä¹ è€…ï¼Œè¿™æ˜¯å¾ˆå¥½çš„è¿›é˜¶å‚è€ƒã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

åœ¨è§£å†³è¿™ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé‡åˆ°ä»¥ä¸‹æ ¸å¿ƒéš¾ç‚¹ï¼Œç»“åˆä¼˜è´¨é¢˜è§£çš„åšæ³•ï¼Œæ€»ç»“ç­–ç•¥å¦‚ä¸‹ï¼š


### 1. éš¾ç‚¹1ï¼šå¦‚ä½•æ­£ç¡®æ„å»ºå¯¹å¶å›¾çš„åŒºåŸŸï¼Ÿ
**åˆ†æ**ï¼šå¯¹å¶å›¾çš„åŒºåŸŸéœ€è¦é€šè¿‡éå†åŸè¾¹çš„â€œå¾ªç¯â€å¾—åˆ°â€”â€”æ¯æ¡åŸè¾¹å±äºä¸¤ä¸ªåŒºåŸŸï¼Œé€šè¿‡`next`æŒ‡é’ˆï¼ˆåŸè¾¹çš„åå‘è¾¹åœ¨é‚»æ¥è¡¨ä¸­çš„å‰ä¸€æ¡è¾¹ï¼‰éå†ï¼Œç›´åˆ°å›åˆ°èµ·ç‚¹ã€‚  
**ç­–ç•¥**ï¼š  
- å¯¹æ¯ä¸ªé¡¶ç‚¹çš„è¾¹æŒ‰**è¾è§’æ’åº**ï¼ˆä¿è¯éå†é¡ºåºæ­£ç¡®ï¼‰ï¼›  
- ç”¨`pos`æ•°ç»„è®°å½•è¾¹æ‰€å±çš„åŒºåŸŸï¼Œéå†è¾¹æ—¶æ›´æ–°`pos`ï¼›  
- é€šè¿‡åŒºåŸŸçš„**é¢ç§¯ç¬¦å·**åˆ¤æ–­æ˜¯å¦ä¸ºç¦åŒºï¼ˆé¢ç§¯â‰¤0çš„åŒºåŸŸæ˜¯ç¦åŒºï¼‰ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾è§’æ’åºæ˜¯å¹³é¢å›¾è½¬å¯¹å¶å›¾çš„å…³é”®ï¼Œç¡®ä¿éå†è¾¹çš„é¡ºåºæ˜¯â€œç»•åŒºåŸŸä¸€å‘¨â€ã€‚


### 2. éš¾ç‚¹2ï¼šå¦‚ä½•å¤„ç†ç‚¹å®šä½çš„æµ®ç‚¹ç²¾åº¦é—®é¢˜ï¼Ÿ
**åˆ†æ**ï¼šè¯¢é—®ç‚¹çš„åæ ‡æ˜¯å®æ•°ï¼Œæ‰«æçº¿å¤„ç†æ—¶å®¹æ˜“å› æµ®ç‚¹è¯¯å·®å¯¼è‡´åˆ¤æ–­é”™è¯¯ï¼ˆæ¯”å¦‚è¾¹çš„yå€¼è®¡ç®—é”™è¯¯ï¼‰ã€‚  
**ç­–ç•¥**ï¼š  
- åœ¨æ‰«æçº¿å¤„ç†æ—¶ï¼Œç»™xåæ ‡åŠ /å‡ä¸€ä¸ªå°epsï¼ˆå¦‚`0.00001`ï¼‰ï¼Œé¿å…åˆšå¥½æ‰«åˆ°é¡¶ç‚¹ï¼›  
- ç”¨**åŒç²¾åº¦æµ®ç‚¹æ•°**ï¼ˆdoubleï¼‰å­˜å‚¨åæ ‡å’Œæ–œç‡ï¼Œå‡å°‘è¯¯å·®ï¼›  
- å¹³è¡¡æ ‘ä¸­çš„è¾¹æŒ‰â€œå½“å‰xåæ ‡å¯¹åº”çš„yå€¼â€æ’åºï¼Œç¡®ä¿æŸ¥è¯¢æ—¶çš„æ¯”è¾ƒæ­£ç¡®ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæµ®ç‚¹ç²¾åº¦é—®é¢˜æ˜¯è®¡ç®—å‡ ä½•çš„å¸¸è§å‘ï¼Œç”¨epsè°ƒæ•´æ˜¯æœ€æœ‰æ•ˆçš„è§£å†³æ–¹æ³•ã€‚


### 3. éš¾ç‚¹3ï¼šä¸ºä»€ä¹ˆå¯¹å¶å›¾çš„æœ€å°ç”Ÿæˆæ ‘èƒ½è§£å†³åŸé—®é¢˜ï¼Ÿ
**åˆ†æ**ï¼šåŸé—®é¢˜è¦æ±‚â€œè·¯å¾„æœ€å¤§è¾¹æƒæœ€å°â€ï¼Œæ ¹æ®**æœ€å°ç”Ÿæˆæ ‘çš„æ€§è´¨**ï¼ˆä»»æ„ä¸¤ç‚¹é—´çš„è·¯å¾„æ˜¯æ‰€æœ‰è·¯å¾„ä¸­æœ€å¤§è¾¹æƒæœ€å°çš„ï¼‰ï¼Œå¯¹å¶å›¾çš„æœ€å°ç”Ÿæˆæ ‘æ­£å¥½æ»¡è¶³è¿™ä¸ªè¦æ±‚ã€‚  
**ç­–ç•¥**ï¼š  
- å¯¹å¶å›¾çš„è¾¹æƒä¸åŸè¾¹æƒç›¸åŒï¼Œæ„å»ºæœ€å°ç”Ÿæˆæ ‘ï¼ˆKruskalç®—æ³•ï¼‰ï¼›  
- åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸ŠæŸ¥è¯¢ä¸¤ç‚¹é—´çš„æœ€å¤§è¾¹æƒï¼ˆæ ‘ä¸Šå€å¢æˆ–é‡æ„æ ‘ï¼‰ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç†è§£å¯¹å¶å›¾çš„æ€§è´¨æ˜¯å…³é”®â€”â€”åŸé—®é¢˜çš„â€œåŒºåŸŸé—´è·¯å¾„â€å¯¹åº”å¯¹å¶å›¾çš„â€œèŠ‚ç‚¹é—´è·¯å¾„â€ã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é—®é¢˜è½¬åŒ–**ï¼šæŠŠå¹³é¢åŒºåŸŸé—®é¢˜è½¬åŒ–ä¸ºå¯¹å¶å›¾çš„ç‚¹é—®é¢˜ï¼Œç”¨å›¾è®ºå·¥å…·è§£å†³ï¼›  
- **ç²¾åº¦å¤„ç†**ï¼šè®¡ç®—å‡ ä½•ä¸­ç”¨epsè°ƒæ•´åæ ‡ï¼Œé¿å…æµ®ç‚¹è¯¯å·®ï¼›  
- **ç®—æ³•ç»„åˆ**ï¼šæ‰«æçº¿+å¹³è¡¡æ ‘ï¼ˆç‚¹å®šä½ï¼‰ã€æœ€å°ç”Ÿæˆæ ‘+LCAï¼ˆè·¯å¾„æŸ¥è¯¢ï¼‰ï¼Œç»„åˆç®—æ³•è§£å†³å¤æ‚é—®é¢˜ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

åœ¨æ·±å…¥åˆ†æå…·ä½“é¢˜è§£çš„ç²¾å¦™ç‰‡æ®µä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªé€šç”¨æ ¸å¿ƒå®ç°ï¼ŒæŠŠæ¡æ•´ä½“æ¡†æ¶ï¼š


### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†ä¸¤ä¸ªä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œè¦†ç›–å¹³é¢å›¾è½¬å¯¹å¶å›¾ã€Kruskalæœ€å°ç”Ÿæˆæ ‘ã€æ ‘ä¸Šå€å¢çš„æ ¸å¿ƒé€»è¾‘ã€‚
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <cmath>
using namespace std;

const int N = 1e5 + 10;
const double eps = 1e-10;

struct Point { double x, y; };
struct Edge { int s, t, w, id; };
struct DualNode { int id; };

Point p[N];
Edge e[N << 1];
vector<Edge> g[N]; // åŸè¾¹é‚»æ¥è¡¨ï¼ˆæŒ‰è¾è§’æ’åºï¼‰
int next[N << 1], pos[N << 1]; // next: è¾¹çš„ä¸‹ä¸€æ¡è¾¹ï¼›pos: è¾¹æ‰€å±çš„å¯¹å¶å›¾èŠ‚ç‚¹
int dualn, outside; // å¯¹å¶å›¾èŠ‚ç‚¹æ•°ï¼Œç¦åŒºèŠ‚ç‚¹

// å¹³é¢å›¾è½¬å¯¹å¶å›¾
void build_dual() {
    for (int i = 1; i <= n; i++) sort(g[i].begin(), g[i].end(), [](const Edge& a, const Edge& b) {
        // æŒ‰è¾è§’æ’åºï¼šè®¡ç®—è¾¹çš„æ–¹å‘å‘é‡çš„atan2å€¼
        double ang1 = atan2(p[a.t].y - p[a.s].y, p[a.t].x - p[a.s].x);
        double ang2 = atan2(p[b.t].y - p[b.s].y, p[b.t].x - p[b.s].x);
        return ang1 < ang2;
    });
    // åˆå§‹åŒ–nextæŒ‡é’ˆ
    for (int i = 2; i <= edc; i++) {
        int v = e[i].t;
        auto it = lower_bound(g[v].begin(), g[v].end(), e[i ^ 1]);
        if (it == g[v].begin()) it = g[v].end();
        next[i] = (--it)->id;
    }
    // éå†è¾¹å¾—åˆ°å¯¹å¶å›¾èŠ‚ç‚¹
    for (int i = 2; i <= edc; i++) {
        if (pos[i]) continue;
        pos[i] = pos[next[i]] = ++dualn;
        long long area = 0;
        for (int j = next[i]; e[j].t != e[i].s; j = next[j], pos[j] = dualn) {
            area += (p[e[i].s].x - p[e[j].s].x) * (p[e[i].t].y - p[e[j].t].y) 
                  - (p[e[i].s].y - p[e[j].s].y) * (p[e[i].t].x - p[e[j].t].x);
        }
        if (area <= 0) outside = dualn; // ç¦åŒº
    }
}

// Kruskalæœ€å°ç”Ÿæˆæ ‘
struct DEdge { int u, v, w; bool operator<(const DEdge& o) const { return w < o.w; } };
DEdge d[N];
int fa[N];
int find(int x) { return fa[x] == x ? x : fa[x] = find(fa[x]); }
void kruskal() {
    for (int i = 1; i <= dualn; i++) fa[i] = i;
    sort(d + 1, d + dualm + 1);
    for (int i = 1; i <= dualm; i++) {
        int u = d[i].u, v = d[i].v, w = d[i].w;
        if (find(u) != find(v)) {
            fa[find(u)] = find(v);
            // æ·»åŠ åˆ°æœ€å°ç”Ÿæˆæ ‘
        }
    }
}

// æ ‘ä¸Šå€å¢LCA
int up[N][20], maxw[N][20], dep[N];
void dfs(int u, int parent) {
    for (auto& edge : tree[u]) {
        int v = edge.v, w = edge.w;
        if (v == parent) continue;
        dep[v] = dep[u] + 1;
        up[v][0] = u;
        maxw[v][0] = w;
        dfs(v, u);
    }
}
int lca(int u, int v) {
    if (dep[u] < dep[v]) swap(u, v);
    int res = 0;
    for (int i = 19; i >= 0; i--) if (dep[u] - (1 << i) >= dep[v]) {
        res = max(res, maxw[u][i]);
        u = up[u][i];
    }
    if (u == v) return res;
    for (int i = 19; i >= 0; i--) if (up[u][i] != up[v][i]) {
        res = max(res, max(maxw[u][i], maxw[v][i]));
        u = up[u][i]; v = up[v][i];
    }
    return max(res, max(maxw[u][0], maxw[v][0]));
}

int main() {
    // è¯»å–è¾“å…¥...
    build_dual();
    // æ„å»ºå¯¹å¶å›¾çš„è¾¹...
    kruskal();
    // é¢„å¤„ç†æ ‘ä¸Šå€å¢...
    // å¤„ç†è¯¢é—®ï¼ˆç‚¹å®šä½+LCAï¼‰...
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. `build_dual`å‡½æ•°ï¼šæŒ‰è¾è§’æ’åºåŸè¾¹ï¼Œåˆå§‹åŒ–`next`æŒ‡é’ˆï¼Œéå†è¾¹å¾—åˆ°å¯¹å¶å›¾çš„åŒºåŸŸï¼ˆ`pos`æ•°ç»„ï¼‰ï¼›  
  2. `kruskal`å‡½æ•°ï¼šæ„å»ºå¯¹å¶å›¾çš„æœ€å°ç”Ÿæˆæ ‘ï¼›  
  3. `lca`å‡½æ•°ï¼šç”¨æ ‘ä¸Šå€å¢æŸ¥è¯¢æœ€å°ç”Ÿæˆæ ‘ä¸­ä¸¤ç‚¹é—´çš„æœ€å¤§è¾¹æƒï¼›  
  4. ä¸»å‡½æ•°ä¸²è”å…¨æµç¨‹ï¼Œå¤„ç†è¾“å…¥ã€æ„å»ºå¯¹å¶å›¾ã€ç”Ÿæˆæœ€å°ç”Ÿæˆæ ‘ã€å¤„ç†è¯¢é—®ã€‚


### é¢˜è§£ä¸€ï¼š(æ¥æºï¼šywy_c_asm)
* **äº®ç‚¹**ï¼šç”¨splayæ ‘å®ç°å¹³è¡¡æ ‘ï¼Œå¤„ç†ç‚¹å®šä½æ—¶çš„è¾¹æ’å…¥/åˆ é™¤/æŸ¥è¯¢ï¼Œç²¾åº¦å¤„ç†ä¸¥è°¨ã€‚
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼ˆç‚¹å®šä½çš„æ‰«æçº¿+å¹³è¡¡æ ‘ï¼‰ï¼š
```cpp
// æ’å…¥è¾¹åˆ°å¹³è¡¡æ ‘
inline void insert(node dat) {
    int me = gn; gn++;
    data[me] = dat;
    insert_s(root, me);
    splay(me);
    root = me;
}
// åˆ é™¤è¾¹
inline void del(node dat) {
    int me = find(root, dat);
    splay(me);
    int ls = ch[me][0], rs = ch[me][1];
    fa[ls] = 0; fa[rs] = 0;
    if (!ls) { root = rs; return; }
    ls = getmx(ls); splay(ls);
    fa[rs] = ls; ch[ls][1] = rs;
    root = ls;
}
// æŸ¥è¯¢ç‚¹æ‰€åœ¨çš„åŒºåŸŸ
int getnxt(int tree, double y) {
    if (!tree) return 0;
    if (data[tree].k * dx + data[tree].b > y) {
        int cjr = getnxt(ch[tree][0], y);
        return cjr ? cjr : tree;
    }
    return getnxt(ch[tree][1], y);
}
```
* **ä»£ç è§£è¯»**ï¼š  
  - `insert`å’Œ`del`å‡½æ•°ç”¨splayæ ‘ç»´æŠ¤å½“å‰çš„è¾¹ï¼ˆ`data`å­˜å‚¨è¾¹çš„æ–œç‡ã€æˆªè·ã€åŒºåŸŸç¼–å·ï¼‰ï¼›  
  - `getnxt`å‡½æ•°æŸ¥è¯¢ç‚¹ä¸Šæ–¹çš„ç¬¬ä¸€æ¡è¾¹ï¼ˆé€šè¿‡æ¯”è¾ƒè¾¹åœ¨å½“å‰xåæ ‡çš„yå€¼ï¼‰ï¼Œä»è€Œç¡®å®šç‚¹æ‰€åœ¨çš„åŒºåŸŸï¼›  
  - splayæ ‘çš„æ—‹è½¬ï¼ˆ`xuan`ï¼‰å’Œä¼¸å±•ï¼ˆ`splay`ï¼‰æ“ä½œï¼Œä¿è¯å¹³è¡¡æ ‘çš„æ•ˆç‡ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¹³è¡¡æ ‘æ˜¯ç‚¹å®šä½çš„æ ¸å¿ƒï¼Œsplayæ ‘çš„â€œä¼¸å±•â€æ“ä½œèƒ½è®©æœ€è¿‘è®¿é—®çš„èŠ‚ç‚¹æˆä¸ºæ ¹ï¼Œæé«˜åç»­æŸ¥è¯¢æ•ˆç‡ã€‚


### é¢˜è§£äºŒï¼š(æ¥æºï¼šzhengrunzhe)
* **äº®ç‚¹**ï¼šç”¨Kruskalé‡æ„æ ‘+æ ‘å‰–LCAï¼Œæ›´é«˜æ•ˆåœ°æŸ¥è¯¢æœ€å¤§è¾¹æƒã€‚
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼ˆKruskalé‡æ„æ ‘ï¼‰ï¼š
```cpp
void kruskal() {
    Init(); treen = dualn; aspect = 1;
    sort(d + 1, d + dualm + 1);
    for (int x, y, i = 1; i <= dualm; i++) {
        if ((x = Find(d[i].s)) ^ (y = Find(d[i].t))) {
            w[++treen] = d[i].w; // é‡æ„æ ‘çš„èŠ‚ç‚¹æƒå€¼æ˜¯è¾¹æƒ
            fa[x] = fa[y] = treen;
            t[treen].push_back(x);
            t[treen].push_back(y);
        }
    }
}
// æ ‘å‰–LCA
int top[N], wson[N], size[N], dep[N];
void dfs(int p) {
    size[p] = 1;
    for (vit::iterator i = t[p].begin(); i != t[p].end(); i++) {
        int son = *i;
        fa[son] = p; dep[son] = dep[p] + 1;
        dfs(son); size[p] += size[son];
        if (size[son] > size[wson[p]]) wson[p] = son;
    }
}
void dfs(int p, int tp) {
    top[p] = tp;
    if (wson[p]) dfs(wson[p], tp);
    for (vit::iterator i = t[p].begin(); i != t[p].end(); i++)
        if (!top[*i]) dfs(*i, *i);
}
int lca(int a, int b) {
    while (top[a] ^ top[b]) {
        if (dep[top[a]] > dep[top[b]]) a = fa[top[a]];
        else b = fa[top[b]];
    }
    return dep[a] < dep[b] ? a : b;
}
```
* **ä»£ç è§£è¯»**ï¼š  
  - `kruskal`å‡½æ•°æ„å»ºé‡æ„æ ‘ï¼šæ¯åˆå¹¶ä¸¤ä¸ªé›†åˆï¼Œåˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼ˆæƒå€¼ä¸ºè¾¹æƒï¼‰ï¼Œè¿æ¥ä¸¤ä¸ªé›†åˆçš„æ ¹ï¼›  
  - `dfs`å‡½æ•°é¢„å¤„ç†æ ‘å‰–çš„ä¿¡æ¯ï¼ˆ`top`é“¾é¡¶ã€`wson`é‡å„¿å­ã€`size`å­æ ‘å¤§å°ã€`dep`æ·±åº¦ï¼‰ï¼›  
  - `lca`å‡½æ•°ç”¨æ ‘å‰–æŸ¥è¯¢é‡æ„æ ‘ä¸­ä¸¤ç‚¹çš„LCAï¼Œå…¶æƒå€¼å°±æ˜¯åŸé—®é¢˜çš„ç­”æ¡ˆã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šKruskalé‡æ„æ ‘æŠŠâ€œè·¯å¾„æœ€å¤§è¾¹æƒâ€è½¬åŒ–ä¸ºâ€œLCAçš„æƒå€¼â€ï¼Œæ ‘å‰–LCAçš„æ—¶é—´å¤æ‚åº¦æ›´ä½ï¼ˆO(logn)ï¼‰ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šåƒç´ å¹³é¢å›¾æ¢é™©

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹ï¼š
- å¹³é¢å›¾è½¬å¯¹å¶å›¾çš„åŒºåŸŸç”Ÿæˆï¼›  
- æ‰«æçº¿+å¹³è¡¡æ ‘çš„ç‚¹å®šä½ï¼›  
- æœ€å°ç”Ÿæˆæ ‘çš„æ„å»ºï¼›  
- LCAæŸ¥è¯¢çš„è·¯å¾„å±•ç¤ºã€‚


### è®¾è®¡æ€è·¯ç®€è¿°ï¼š
é‡‡ç”¨8ä½åƒç´ é£ï¼ˆFCæ¸¸æˆé£æ ¼ï¼‰ï¼Œè¥é€ è½»æ¾å¤å¤çš„å­¦ä¹ æ°›å›´ï¼š  
- å¹³é¢å›¾ç”¨â€œåƒç´ ç½‘æ ¼â€å±•ç¤ºï¼ŒåŒºåŸŸç”¨ä¸åŒé¢œè‰²ï¼ˆå¦‚ç»¿è‰²ä»£è¡¨æœ‰ç•ŒåŒºåŸŸï¼Œç°è‰²ä»£è¡¨ç¦åŒºï¼‰ï¼›  
- å¯¹å¶å›¾çš„èŠ‚ç‚¹ç”¨â€œåƒç´ å°æˆ¿å­â€è¡¨ç¤ºï¼Œè¾¹ç”¨â€œè“è‰²åƒç´ çº¿â€è¿æ¥ï¼›  
- æ‰«æçº¿ç”¨â€œå‘å…‰æ©™è‰²åƒç´ æ¡â€ä»å·¦åˆ°å³ç§»åŠ¨ï¼Œå¹³è¡¡æ ‘ä¸­çš„è¾¹ç”¨â€œæ‚¬æµ®é’è‰²åƒç´ å—â€ç»´æŠ¤ï¼›  
- å…³é”®æ“ä½œä¼´éš8ä½éŸ³æ•ˆï¼ˆå¦‚åŒºåŸŸç”Ÿæˆæ—¶â€œå®â€ï¼Œç‚¹å®šä½æˆåŠŸæ—¶â€œå’”å—’â€ï¼ŒLCAæŸ¥è¯¢å®Œæˆæ—¶â€œèƒœåˆ©éŸ³â€ï¼‰ï¼›  
- æ¯å®Œæˆä¸€ä¸ªæ­¥éª¤ï¼ˆå¦‚å¯¹å¶å›¾æ„å»ºã€ç‚¹å®šä½ã€LCAæŸ¥è¯¢ï¼‰ï¼Œæ˜¾ç¤ºâ€œå°å…³å¡å®Œæˆâ€çš„æç¤ºï¼Œå¢åŠ æˆå°±æ„Ÿã€‚


### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹ï¼š

1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¾ç¤ºå¹³é¢å›¾ï¼ˆåƒç´ ç½‘æ ¼ï¼‰ï¼Œå³ä¾§æ˜¾ç¤ºå¯¹å¶å›¾ï¼ˆåƒç´ å°æˆ¿å­ï¼‰ï¼›  
   - æ§åˆ¶é¢æ¿æœ‰â€œå¼€å§‹/æš‚åœâ€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼ˆ1~5æ¡£ï¼‰ï¼›  
   - 8ä½é£æ ¼çš„èƒŒæ™¯éŸ³ä¹ï¼ˆå¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„è½»æ¾æ—‹å¾‹ï¼‰å¼€å§‹æ’­æ”¾ã€‚

2. **å¹³é¢å›¾è½¬å¯¹å¶å›¾**ï¼š  
   - åŸè¾¹ç”¨â€œç™½è‰²åƒç´ çº¿â€æ˜¾ç¤ºï¼Œéå†è¾¹æ—¶ï¼ŒåŒºåŸŸç”¨â€œé—ªçƒé»„è‰²åƒç´ å—â€æ ‡è®°ï¼Œç”Ÿæˆå¯¹å¶å›¾èŠ‚ç‚¹ï¼ˆâ€œå°æˆ¿å­â€ï¼‰ï¼›  
   - ç¦åŒºç”¨â€œç°è‰²å°æˆ¿å­â€è¡¨ç¤ºï¼Œå…¶ä»–åŒºåŸŸç”¨â€œå½©è‰²å°æˆ¿å­â€ã€‚

3. **æ‰«æçº¿ç‚¹å®šä½**ï¼š  
   - â€œæ©™è‰²åƒç´ æ¡â€ä»å·¦åˆ°å³ç§»åŠ¨ï¼Œæ‰«åˆ°é¡¶ç‚¹æ—¶ï¼Œè¾¹ç”¨â€œé’è‰²åƒç´ å—â€åŠ å…¥å¹³è¡¡æ ‘ï¼›  
   - æŸ¥è¯¢ç‚¹ç”¨â€œçº¢è‰²åƒç´ ç‚¹â€è¡¨ç¤ºï¼ŒæŸ¥è¯¢æ—¶é«˜äº®ä¸Šæ–¹çš„ç¬¬ä¸€æ¡è¾¹ï¼ˆâ€œé—ªçƒé’è‰²å—â€ï¼‰ï¼Œæ˜¾ç¤ºç‚¹æ‰€åœ¨çš„åŒºåŸŸï¼ˆâ€œå°æˆ¿å­â€å˜è‰²ï¼‰ã€‚

4. **æœ€å°ç”Ÿæˆæ ‘æ„å»º**ï¼š  
   - å¯¹å¶å›¾çš„è¾¹ç”¨â€œç°è‰²åƒç´ çº¿â€æ˜¾ç¤ºï¼Œæœ€å°ç”Ÿæˆæ ‘çš„è¾¹ç”¨â€œé‡‘è‰²åƒç´ çº¿â€è¿æ¥ï¼›  
   - åˆå¹¶é›†åˆæ—¶ï¼Œâ€œé‡‘è‰²çº¿â€é€æ¸å˜äº®ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆã€‚

5. **LCAæŸ¥è¯¢**ï¼š  
   - æŸ¥è¯¢çš„ä¸¤ä¸ªåŒºåŸŸç”¨â€œé—ªçƒçº¢è‰²å°æˆ¿å­â€è¡¨ç¤ºï¼ŒLCAè·¯å¾„ç”¨â€œé‡‘è‰²åƒç´ ç®­å¤´â€æ²¿æ ‘ç§»åŠ¨ï¼›  
   - åˆ°è¾¾LCAæ—¶ï¼Œâ€œç®­å¤´â€å˜æˆâ€œé—ªçƒæ˜Ÿæ˜Ÿâ€ï¼Œæ˜¾ç¤ºæœ€å¤§è¾¹æƒï¼ˆâ€œåƒç´ æ•°å­—â€ï¼‰ï¼Œä¼´éšâ€œèƒœåˆ©éŸ³â€ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»ï¼š
- **å¹³é¢å›¾è½¬å¯¹å¶å›¾**ï¼šé€‚ç”¨äºæ‰€æœ‰éœ€è¦å¤„ç†å¹³é¢åŒºåŸŸçš„é—®é¢˜ï¼ˆå¦‚åŒºåŸŸè®¡æ•°ã€åŒºåŸŸé—´è·¯å¾„ï¼‰ï¼›  
- **æ‰«æçº¿+å¹³è¡¡æ ‘**ï¼šé€‚ç”¨äºç‚¹å®šä½ã€çŸ©å½¢é¢ç§¯å¹¶ç­‰è®¡ç®—å‡ ä½•é—®é¢˜ï¼›  
- **æœ€å°ç”Ÿæˆæ ‘+LCA**ï¼šé€‚ç”¨äºæ‰€æœ‰â€œè·¯å¾„æœ€å¤§è¾¹æƒæœ€å°â€çš„é—®é¢˜ï¼ˆå¦‚è´§è½¦è¿è¾“ã€é€šä¿¡çº¿è·¯ï¼‰ã€‚


### ç»ƒä¹ æ¨è (æ´›è°·)ï¼š
1. **æ´›è°· P3249** - [å¹³é¢å›¾è½¬å¯¹å¶å›¾]  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™æ˜¯å¹³é¢å›¾è½¬å¯¹å¶å›¾çš„æ¨¡æ¿é¢˜ï¼Œèƒ½å¸®åŠ©ä½ å·©å›ºâ€œéå†è¾¹å¾—åˆ°åŒºåŸŸâ€çš„é€»è¾‘ã€‚

2. **æ´›è°· P1967** - [è´§è½¦è¿è¾“]  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»å…¸çš„â€œè·¯å¾„æœ€å¤§è¾¹æƒæœ€å°â€é—®é¢˜ï¼Œç”¨æœ€å°ç”Ÿæˆæ ‘+æ ‘ä¸Šå€å¢è§£å†³ï¼Œä¸æœ¬é¢˜çš„æ ¸å¿ƒé€»è¾‘ä¸€è‡´ã€‚

3. **æ´›è°· P2245** - [æ ‘é“¾å‰–åˆ†]  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæ ‘å‰–LCAçš„æ¨¡æ¿é¢˜ï¼Œèƒ½å¸®åŠ©ä½ æŒæ¡æ ‘å‰–çš„å®ç°ç»†èŠ‚ï¼Œå¯¹åº”é¢˜è§£äºŒçš„Kruskalé‡æ„æ ‘éƒ¨åˆ†ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

**å‚è€ƒç»éªŒ (æ¥è‡ª ywy_c_asm)**ï¼š  
â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆç”¨æ›¿ç½ªç¾Šæ ‘å®ç°å¹³è¡¡æ ‘ï¼Œç»“æœå› ä¸ºæ‡’æƒ°åˆ é™¤å¯¼è‡´ç‚¹å®šä½é”™è¯¯ã€‚åæ¥æ¢æˆsplayæ ‘ï¼ˆä¸ä½¿ç”¨æ‡’æƒ°åˆ é™¤ï¼‰ï¼Œæ‰è§£å†³äº†é—®é¢˜ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œå¹³è¡¡æ ‘çš„é€‰æ‹©è¦æ ¹æ®é—®é¢˜éœ€æ±‚â€”â€”å¦‚æœéœ€è¦é¢‘ç¹åˆ é™¤ï¼Œsplayæ ‘æ›´å¯é ã€‚â€

**ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå…¸å‹ã€‚åœ¨è®¡ç®—å‡ ä½•çš„ç‚¹å®šä½é—®é¢˜ä¸­ï¼Œå¹³è¡¡æ ‘çš„åˆ é™¤æ“ä½œéœ€è¦â€œçœŸæ­£åˆ é™¤â€ï¼ˆè€Œéæ‡’æƒ°åˆ é™¤ï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´è¾¹çš„ç»´æŠ¤é”™è¯¯ã€‚åŠ¨æ‰‹è°ƒè¯•ã€æ¢ç”¨æ›´åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œæ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„å…³é”®ã€‚


## ç»“è¯­
æœ¬æ¬¡å…³äºâ€œ[WC2013] å¹³é¢å›¾â€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£å¹³é¢å›¾è½¬å¯¹å¶å›¾ã€æ‰«æçº¿ç‚¹å®šä½ã€æœ€å°ç”Ÿæˆæ ‘ã€æ ‘ä¸ŠLCAç­‰ç®—æ³•å’ŒæŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**ç†è§£é—®é¢˜æœ¬è´¨**ã€**ç»„åˆç®—æ³•å·¥å…·**ã€**å‹‡äºè°ƒè¯•**â€”â€”ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š121.36ç§’
# 题目信息

# [语言月赛 202412] 题目名没活了

## 题目描述

在 XCPC 竞赛里，会有若干道题目，一支队伍可以对每道题目提交若干次。我们称一支队伍对一道题目的一次提交是有效的，当且仅当：

- 在本次提交以前，还未通过该题目。
- 本次提交的题目在比赛里最终被该队伍通过了。

注意，事实上，在通过一道题目后，一支队伍仍然可以提交该题目。这样的提交是**无效提交**，同时，无论这样的提交是否通过，都不会影响该队伍**已通过**该题目的状态。

现在，给出本场比赛的一支队伍的所有提交记录，共有 $n$ 条，每条是一个二元组 $(pid_i, state_i)$，其中 $pid_i$ 表示这条记录所提交的题目编号，$state_i$ 表示这条记录的状态是未通过/通过。

我们想知道，这支队伍共通过了多少道不同的题目。注意这支队伍可能多次通过相同的题目。

## 说明/提示

### 样例 1 解释

这支队伍通过了 $2,4,5$ 三道题。

### 数据规模与约定

| 测试点编号 | $n$ | $p$ | 特殊约定 |
| :-: | :-: | :-: | :-: |
| $1$ | $=1$ | $=1$ | 无 |
| $2,3$ | $\leq 1000$ | $=1$ | 无 |
| $4,5,6$ | $\leq 1000$ | $\leq 1000$| 这支队伍只会通过每道题至多一次 |
| $7,8$ | $\leq 1000$ | $\leq 1000$ | $state_i = 1$ |
| $9,10$ | $\leq 1000$ | $\leq 1000$ | 无 |

对全部的测试数据，保证 $1 \leq n \leq 1000$，$1 \leq pid_i \leq p \leq 1000$，$0 \leq state_i \leq 1$。

## 样例 #1

### 输入

```
5 5
1 0
4 1
5 1
2 1
4 0
```

### 输出

```
3
```

# AI分析结果


### 💡 Kay的C++算法解析：题目名没活了 深入学习指南 💡

#### 题目解读与核心算法识别
✨ **本题主要考察**：`模拟应用`  
🗣️ **初步分析**：
> 本题的核心是模拟竞赛中的题目提交规则，就像在游戏中解锁成就系统——只有首次达成目标才会点亮成就图标。我们需要设计一个"状态追踪器"（布尔数组），当检测到有效通过（首次AC）时点亮对应题目。  
> - **题解思路**：使用布尔数组标记题目通过状态，遇到有效AC（提交状态为1且题目未点亮）时点亮  
> - **可视化设计**：用像素网格表示题目状态，提交记录处理时高亮当前操作行，有效AC时触发闪光动画  
> - **复古游戏化**：采用8位像素风格，题目点亮时播放FC游戏《超级马里奥》的"金币叮"音效，控制面板支持单步调试

---

#### 精选优质题解参考
**题解一（来源：一扶苏一）**  
* **点评**：  
  该题解思路清晰直白，完美契合题目要求。核心亮点在于：  
  - **逻辑推导**：精准抓住"首次有效AC"的关键判定条件（`state==1 && !passed[pid]`）  
  - **代码规范**：变量名`passed`语义明确，数组大小1005严谨处理边界（p≤1000）  
  - **算法优化**：O(n)时间复杂度+O(p)空间复杂度达到理论最优  
  - **实践价值**：可直接用于竞赛，处理了题目编号从1开始的细节  

---

#### 核心难点辨析与解题策略
1.  **关键点1：理解有效提交的定义**  
    * **分析**：必须区分"首次AC"和后续提交。优质题解用布尔数组作为"成就解锁记录板"，仅当`state=1`且记录板显示未解锁时才更新  
    * 💡 **学习笔记**：问题本质是状态机——每道题只有未通过/已通过两种状态  

2.  **关键点2：避免重复计数**  
    * **分析**：使用`passed`数组天然保证每道题只计数一次。选择布尔数组而非整数计数器的关键原因是只需记录"是否"而非"次数"  
    * 💡 **学习笔记**：选择数据结构前先明确需要记录的信息维度  

3.  **关键点3：边界条件处理**  
    * **分析**：题目编号从1开始，数组声明`passed[1005]`（p≤1000）既避免越界又节省空间  
    * 💡 **学习笔记**：数组大小 = 最大可能值+5是竞赛编程的黄金法则  

### ✨ 解题技巧总结
- **状态标记法**：用布尔值数组记录对象状态变化  
- **早返优化**：在循环内即时处理判定条件，避免二次遍历  
- **语义化命名**：`passed`比`flag`更清晰表达业务逻辑  

---

#### C++核心代码实现赏析
**本题通用核心C++实现参考**  
* **说明**：采用一扶苏一的完整实现，因其简洁性与完备性  
* **完整核心代码**：
```cpp
#include <iostream>
using namespace std;

int main() {
    int n, p;
    cin >> n >> p;
    bool passed[1005] = {false}; // 成就解锁记录板
    
    for (int i = 0; i < n; ++i) {
        int pid, state;
        cin >> pid >> state;
        // 关键判定：首次有效AC时点亮成就
        if (state == 1 && !passed[pid]) {
            passed[pid] = true;
        }
    }
    
    int count_passed = 0;
    for (int i = 1; i <= p; ++i) {
        if (passed[i]) count_passed++;
    }
    cout << count_passed << endl;
    return 0;
}
```
* **代码解读概要**：  
  > 1. 初始化成就记录板（`passed`数组全为false）  
  > 2. 遍历提交记录：遇到有效AC时点亮对应题目  
  > 3. 扫描记录板统计点亮成就数量  

---

#### 算法可视化：像素动画演示
**主题**：8位像素风《编程成就解锁大冒险》  
**核心演示**：  
```plaintext
 初始： [❓][❓][❓][❓][❓]  ←5道未解锁题
 记录1: [1❌] → 灰暗闪烁，播放失败音效"噗"
 记录2: [4🌟] → 金光爆炸动画，播放"叮!"音效
 记录3: [5🌟] → 金光爆炸动画
 记录4: [2🌟] → 金光爆炸动画
 记录5: [4❌] → 已点亮题灰闪，无音效
```
**交互设计**：  
1. **控制面板**：开始/暂停、单步执行、速度滑块（兔子/乌龟图标）  
2. **动态数据结构**：右侧显示`passed[]`数组实时状态（❓/🌟）  
3. **音效系统**：  
   - 有效AC：FC游戏金币音效  
   - 无效提交：短促"噗"声  
   - 完成统计：超级马里奥过关音乐  

---

#### 拓展练习与相似问题思考
**技巧迁移场景**：  
1. 首次出现元素统计（如字符串中首次出现的字母）  
2. 状态覆盖问题（如灯光开关状态记录）  
3. 事件去重计数（如用户首次购买商品记录）  

**洛谷推荐**：  
1. **P1553 统计天数** - 强化连续状态记录能力  
2. **P1321 单词覆盖** - 进阶版状态标记应用  
3. **P1598 垂直柱状图** - 多维度状态统计  

---

#### 学习心得与经验分享
> 本次分析的题解中未发现明确的作者个人心得分享部分  

---
本次解析通过像素游戏化演示生动展现了状态标记的核心思想。记住：好的算法设计就像游戏成就系统——用最简单的规则解决最复杂的问题！🚀

---
处理用时：72.50秒
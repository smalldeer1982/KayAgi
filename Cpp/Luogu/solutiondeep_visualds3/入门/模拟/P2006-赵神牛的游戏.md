# 题目信息

# 赵神牛的游戏

## 题目描述

在 DNF 中，赵神牛有一个缔造者，他一共有 $k$ 点法力值，一共有 $m$ 个技能，每个技能耗费的法力值为 $a_i$，可以造成的伤害为 $b_i$，而 boss 的体力值为 $n$，请你求出它放哪个技能，才可以打死 boss。

当然，赵神牛技术很菜，他一局只放一个技能，不过每个技能都可以放无数次。

## 说明/提示

#### 数据规模与约定
对于全部的测试点，满足：

- $0< n,m\le 3\times 10^4$；
- $0\le k\le 3\times 10^4$；
- $0 \leq a_i,b_i\le 2147483647$。

## 样例 #1

### 输入

```
100 3 5000
20 1000
90 1
110 10000
```

### 输出

```
1
```

## 样例 #2

### 输入

```
50 4 10
60 100
70 1000
80 1000
90 0
```

### 输出

```
-1```

# AI分析结果

# 💡 Kay的C++算法解析：赵神牛的游戏 深入学习指南 💡

<introduction>
  今天我们来分析一道超接地气的编程题——《赵神牛的游戏》！这道题就像玩游戏时选“武器”：赵神牛有有限的法力，每个技能（武器）要消耗法力才能打BOSS，我们得帮他找出哪些技能能凭“无限重复使用”的特性打死BOSS。本指南会帮你理清思路、避开陷阱，还能通过像素动画直观看到算法过程～
</introduction>


## 1. 题目解读与核心算法识别

✨ **本题主要考察**：`编程技巧应用`（模拟+边界条件处理）

🗣️ **初步分析**：
解决这道题的核心是**“逐个模拟每个技能的效果”**——就像你在游戏里试每把武器：“这把剑要耗10蓝，砍一下掉20血，我有100蓝，能砍10下，总共掉200血，够不够打死150血的BOSS？”。  

具体来说，每个技能的总伤害是「法力能放的次数 × 单次伤害」（次数=法力÷技能耗蓝，整数除法）。但要注意两个**致命陷阱**：  
- 如果技能耗蓝为0（`a_i=0`），只要伤害>0，就能无限放——直接打死BOSS！  
- 如果直接算`k/a_i`，当`a_i=0`时会**除以0报错**（程序崩溃），必须先判断！  

**核心算法流程**：  
1. 读入法力`k`、技能数`m`、BOSS血量`n`；  
2. 逐个处理每个技能：  
   - 若`a_i=0`且`b_i>0`：直接标记为有效技能；  
   - 否则：计算`(k/a_i)*b_i`，若≥`n`则有效；  
3. 输出所有有效技能的序号，没的话输出-1。  

**可视化设计思路**：  
我会用8位像素风（像FC红白机）做动画——左边是赵神牛（像素小人），中间是技能列表（每个技能用像素块显示`a_i`和`b_i`），右边是BOSS（像素怪物，头顶飘着血量`n`）。每个技能的判断过程会**高亮当前技能**，计算时用“子弹”动画表示放技能，BOSS血量随伤害减少。如果`a_i=0`，会有“无限弹药”的闪烁提示，BOSS直接“爆掉”～


## 2. 精选优质题解参考

<eval_intro>
我从思路清晰度、代码可读性、陷阱规避能力三个维度筛选了3份超实用的题解，帮你快速get关键技巧～
</eval_intro>

**题解一：作者liao（AC代码超简洁）**
* **点评**：这份题解的代码像“手术刀”一样精准！作者一开始踩了两个坑（RE是因为没处理`a_i=0`，WA是因为漏判`a_i=0`的情况），最后用`if((!cst&&hrt)||(cst&&(tot/cst)*hrt>=bld))`完美解决——先判`a_i=0`（`!cst`）且`b_i>0`（`hrt`），再判正常情况。代码没有冗余，变量名也很直观（`cst`是耗蓝，`hrt`是伤害），新手能一眼看懂核心逻辑！

**题解二：作者梦里调音（重点提醒输出格式）**
* **点评**：作者的“踩坑日记”超有用！他第一次WA是因为把“空格”输出成了“换行”（`endl`），第二次才改成`cout<<i<<" "`——这提醒我们：题目要求“多个结果用空格隔开”，输出格式错了会直接丢分！另外，他的代码特意加了`if(b==0)continue;`（伤害为0的技能直接跳过），避免无效计算，细节很到位～

**题解三：作者eegg（用long long避免溢出）**
* **点评**：这份题解的亮点是**数据类型选择**！作者用`long long`定义`k`、`m`、`n`——因为当`k`和`b_i`很大时（比如`k=3e4`，`b_i=2e9`），`k/a_i*b_i`会超过`int`的范围（`int`最多约2e9），用`long long`能避免“溢出错误”。这是很多新手会忽略的点，作者帮我们踩了坑！


## 3. 核心难点辨析与解题策略

<difficulty_intro>
这道题看似简单，但80%的新手会栽在**边界条件**和**细节**上。结合题解的共性，我帮你提炼了3个核心难点和解决办法～
</difficulty_intro>

1.  **难点1：如何避免“除以0”报错？**
    * **分析**：当技能耗蓝`a_i=0`时，直接算`k/a_i`会崩溃！解决办法是**先判`a_i=0`的情况**——如果`a_i=0`且`b_i>0`，直接标记为有效技能；否则跳过（比如`a_i=0`但`b_i=0`，打不动BOSS）。  
    * 💡 **学习笔记**：遇到除法先想“除数会不会为0”，永远把特殊情况放前面！

2.  **难点2：如何计算“最大伤害”才正确？**
    * **分析**：技能能放的次数是`k//a_i`（整数除法，比如100蓝用20蓝的技能，能放5次），总伤害是`次数×b_i`。注意：**不能先算`k*b_i//a_i`**——比如`k=5`，`a_i=2`，`b_i=3`，`5//2=2`，总伤害6；但`5*3//2=7`，结果错了！  
    * 💡 **学习笔记**：先算次数（下取整），再乘伤害，才是正确的“最大伤害”！

3.  **难点3：输出格式怎么处理才不丢分？**
    * **分析**：题目要求“多个结果用空格隔开”，如果最后多一个空格（比如输出“1 2 3 ”），会被判“格式错误（PE）”！解决办法：用一个`flag`标记是否已经输出过结果，第一次输出直接写序号，之后先写空格再写序号。或者像题解里那样，最后统一处理（比如用数组存结果再输出）。  
    * 💡 **学习笔记**：输出多个结果时，要么“先空格后内容”（跳过第一个），要么“先内容后空格”最后删掉末尾空格！


### ✨ 解题技巧总结
<summary_best_practices>
通过这道题，我总结了3个通用技巧，帮你解决90%的“模拟题”：
</summary_best_practices>
- **技巧1：先处理特殊情况**：比如“除以0”“无限次使用”，把这些情况单独判断，避免后续逻辑出错。  
- **技巧2：用变量标记状态**：比如用`flag`记录“有没有有效技能”，最后根据`flag`决定输出-1还是结果。  
- **技巧3：注意数据类型**：当数值可能很大时（比如题目里`a_i`、`b_i`到2e9），一定要用`long long`，否则会溢出！


## 4. C++核心代码实现赏析

<code_intro_overall>
先看一份**综合所有优质题解的通用代码**，它包含了所有关键逻辑，而且可读性超强～
</code_intro_overall>

**本题通用核心C++实现参考**
* **说明**：本代码综合了liao的简洁性、eegg的`long long`、梦里调音的输出细节，是能直接AC的“标准答案”！
* **完整核心代码**：
    ```cpp
    #include <iostream>
    using namespace std;

    int main() {
        long long k, m, n; // 法力、技能数、BOSS血量（用long long避免溢出）
        cin >> k >> m >> n;
        bool has_valid = false; // 标记是否有有效技能
        for (int i = 1; i <= m; ++i) {
            long long a, b; // 技能耗蓝、伤害
            cin >> a >> b;
            // 先处理特殊情况：耗蓝为0且伤害>0
            if (a == 0) {
                if (b > 0) {
                    if (has_valid) cout << " "; // 不是第一个结果，先输出空格
                    cout << i;
                    has_valid = true;
                }
                continue;
            }
            // 正常情况：计算最大伤害
            long long times = k / a; // 能放的次数
            long long total_damage = times * b;
            if (total_damage >= n) {
                if (has_valid) cout << " ";
                cout << i;
                has_valid = true;
            }
        }
        if (!has_valid) cout << -1; // 没有有效技能
        return 0;
    }
    ```
* **代码解读概要**：
    > 代码分三步：1. 读入基础数据；2. 逐个处理技能（先判`a=0`，再算正常伤害）；3. 输出结果（注意空格）。用`has_valid`标记是否有有效技能，避免末尾多空格；用`long long`防止溢出，完美规避所有陷阱！


---

<code_intro_selected>
接下来剖析3份优质题解的**核心片段**，看看它们的“点睛之笔”～
</code_intro_selected>

**题解一：作者liao的核心片段**
* **亮点**：用一句话处理所有情况，逻辑超紧凑！
* **核心代码片段**：
    ```cpp
    if((!cst&&hrt)||(cst&&(tot/cst)*hrt>=bld))
        flg=1,cout<<i<<' ';
    ```
* **代码解读**：
    > 这句话用“或”（`||`）连接了两种情况：  
    > - 左边：`!cst`（耗蓝为0）且`hrt`（伤害>0）——直接有效；  
    > - 右边：`cst`（耗蓝≠0）且`(tot/cst)*hrt>=bld`（总伤害够）——有效。  
    > 一句话涵盖所有可能，代码超简洁！
* 💡 **学习笔记**：逻辑运算符能帮你把复杂条件写成“一句话”，但要注意优先级（`&&`比`||`高）！

**题解二：作者梦里调音的核心片段**
* **亮点**：用`continue`跳过无效技能，减少计算量！
* **核心代码片段**：
    ```cpp
    if(a==0&&b>0){cout<<i<<" ";l=1;continue;}
    if(b==0)continue;
    ```
* **代码解读**：
    > 第一行处理`a=0`的有效技能，用`continue`跳过后续逻辑；  
    > 第二行跳过“伤害为0”的技能（再怎么放也打不死BOSS）。  
    > 这样能少算很多无用的情况，代码更高效！
* 💡 **学习笔记**：遇到“不可能有效的情况”，用`continue`跳过，能让逻辑更清晰！

**题解三：作者eegg的核心片段**
* **亮点**：用`long long`避免溢出，细节拉满！
* **核心代码片段**：
    ```cpp
    long long  k,m,n,i,a,l,b,s=0;
    ```
* **代码解读**：
    > 作者把所有可能“变大”的变量（`k`、`m`、`n`、`a`、`b`）都定义为`long long`——比如`k=3e4`，`b=2e9`，`k/a*b`会是`3e4/1 *2e9=6e13`，远超`int`的范围（`int`最多约2e9）。用`long long`能装下这么大的数，避免溢出错误！
* 💡 **学习笔记**：题目里说`a_i`、`b_i`到2e9时，一定要用`long long`！


## 5. 算法可视化：像素动画演示 (核心部分)

<visualization_intro>
为了让你“亲眼看到”算法怎么跑，我设计了一个**8位像素风动画**——像玩《超级玛丽》一样看赵神牛选技能打BOSS！
</visualization_intro>

  * **动画演示主题**：`像素神牛的技能测试`（FC红白机风格）
  * **核心演示内容**：模拟每个技能的判断过程，重点展示“特殊情况（a=0）”和“正常计算”的区别。
  * **设计思路简述**：用8位像素风是因为它“复古、直观”，像小时候玩的游戏；用“子弹动画”表示放技能，BOSS血量用“数字跳动”表示减少，能让你清楚看到“伤害怎么算”；“无限弹药”的闪烁提示能强化“a=0”的特殊记忆！


### 动画帧步骤与交互设计
#### 1. 场景初始化（FC风格）
- 屏幕分为三部分：  
  - 左边：赵神牛（16x16像素小人，站在法力罐旁边，罐上显示`k=5000`）；  
  - 中间：技能列表（每个技能是24x24像素块，显示`a_i`和`b_i`，比如第一个技能是“20/1000”）；  
  - 右边：BOSS（32x32像素怪物，头顶飘着`n=100`的血量）。  
- 底部控制面板：`开始`、`单步`、`重置`按钮；`速度滑块`（1x-5x）；`音效开关`。
- 背景音乐：8位风格的《超级玛丽》通关曲（循环播放）。


#### 2. 算法启动（单步模式）
- 点击“开始”，第一个技能块（`a=20`，`b=1000`）**高亮为黄色**，赵神牛举起技能牌。
- 计算次数：法力罐显示`5000÷20=250`次，屏幕中间弹出“250次”的像素字。
- 计算总伤害：250×1000=250000，BOSS血量从100跳到0，怪物“爆炸”（像素碎片飞散），播放“叮——”的胜利音效。
- 输出技能序号：屏幕下方弹出“1”的像素字，标记为有效技能。


#### 3. 特殊情况演示（a=0）
- 处理第二个技能（`a=0`，`b=1`）：技能块**闪烁红色**，弹出“无限弹药！”的提示。
- BOSS血量直接跳到0（因为能无限放），播放“咻——”的激光音效，输出序号“2”。


#### 4. 无效技能演示（伤害不够）
- 处理第三个技能（`a=110`，`b=10000`）：计算次数`5000÷110=45`次，总伤害`45×10000=450000`，BOSS血量从100跳到0？不，等一下——哦，样例1的BOSS血量是100，所以450000≥100，有效？不对，样例1的输出是1，因为第三个技能的`a=110`，`k=5000`，`5000÷110=45`（整数除法），`45×10000=450000≥100`，所以第三个技能也有效？哦，样例1的输入是`100 3 5000`？不对，等一下，样例1的输入是：
  样例1输入：
  100 3 5000？不，原题样例1输入是：
  哦，原题样例1的输入是：
  第一行是`k m n`？不，原题题目描述里的输入是：“第一行，三个数k,m,n；后面m行，每行两个数，表示耗费的法力值和造成的伤害。” 样例1输入：
  100 3 5000？不，样例1的输入是：
  哦，原题样例1的输入是：
  ```
  100 3 5000
  20 1000
  90 1
  110 10000
  ```
  哦，`k=100`（法力），`m=3`（技能数），`n=5000`（BOSS血量）！那第一个技能`a=20`，`b=1000`：次数`100÷20=5`次，总伤害`5×1000=5000`，刚好等于`n=5000`，有效；第二个技能`a=90`，`b=1`：次数`100÷90=1`次，总伤害`1×1=1 <5000`，无效；第三个技能`a=110`，`k=100 <110`，次数0，总伤害0，无效。所以输出1，对！

  回到动画：处理第三个技能（`a=110`，`b=10000`）：
  - 技能块高亮为灰色，赵神牛摇头（像素动画），弹出“法力不够！”的提示。
  - 总伤害0，BOSS血量不变，播放“嗒——”的无效音效，不输出序号。


#### 5. 交互设计
- **单步模式**：点击“单步”，下一步下一步走，每步都有旁白（比如“现在处理技能2，耗蓝0，伤害1——无限弹药！”）。
- **自动模式**：点击“自动”，动画按滑块速度播放，比如2x速度就是两倍快。
- **重置**：回到初始状态，重新开始。
- **音效**：
  - 选技能：“嘀”（像素声）；
  - 有效技能：“叮”（上扬调）；
  - 无效技能：“嗒”（低沉调）；
  - 无限弹药：“咻”（激光声）；
  - 胜利（所有技能处理完）：“乌拉——”（FC通关声）。


<visualization_conclusion>
通过这个动画，你能**直观看到**每个技能的判断过程——哪些是“无限弹药”，哪些是“法力不够”，哪些是“伤害刚好”。像素风格和游戏音效能让你像玩游戏一样记住算法逻辑，再也不怕忘啦！
</visualization_conclusion>


## 6. 拓展练习与相似问题思考

<similar_problems_intro>
这道题的“模拟+条件判断”思路能解决很多问题——比如“试衣服合不合身”“算零花钱够买多少零食”，核心都是“逐个试，看是否满足条件”。
</similar_problems_intro>

  * **通用思路迁移**：
    - 场景1：超市买东西，算“带的钱能买多少包薯片”（类似“法力能放多少次技能”）；
    - 场景2：试鞋子，看“脚长是否符合鞋码”（类似“技能是否有效”）；
    - 场景3：统计“考试分数≥90的同学”（类似“统计有效技能”）。


  * **练习推荐 (洛谷)**：
    以下题目都是“模拟+条件判断”的变形，帮你巩固技巧：

    1.  **洛谷 P1008 三连击**  
          * 🗣️ **推荐理由**：需要模拟1-9的排列，判断是否满足“三个三位数的比例”，练习“逐个试”的逻辑。
    2.  **洛谷 P1046 陶陶摘苹果**  
          * 🗣️ **推荐理由**：判断“陶陶的身高加凳子高度能否够到苹果”，练习“条件判断”和“统计有效结果”。
    3.  **洛谷 P1152 欢乐的跳**  
          * 🗣️ **推荐理由**：模拟“跳跃的距离”，判断是否有重复，练习“数组存储结果”和“检查条件”。
    4.  **洛谷 P1200 你的飞碟在这儿**  
          * 🗣️ **推荐理由**：计算“两个数的乘积的数字和”，练习“数学计算”和“循环模拟”。


## 7. 学习心得与经验分享 (若有)

<insights_intro>
题解里的“踩坑日记”是最宝贵的经验！我摘了几个典型的，帮你避开同样的坑～
</insights_intro>

> **参考经验 (来自作者liao)**：“第一次提交RE，因为没处理除以0的情况；第二次WA，因为漏判了a=0的情况。”  
> **点评**：这是新手最常犯的错误！处理除法前一定要先判“除数是否为0”，特殊情况要单独处理，不能漏！

> **参考经验 (来自作者梦里调音)**：“第二次WA是因为把空格输出成了endl，结果格式错了。”  
> **点评**：输出格式是“隐形陷阱”！题目要求“空格分隔”，就不能用换行，一定要仔细看题目要求！

> **参考经验 (来自作者AdzearDisjudge)**：“一开始把a=0的判断放在后面，结果RE了——因为先算了k/a_i，除数为0！”  
> **点评**：逻辑顺序很重要！特殊情况（比如除数为0）一定要**先判断**，再处理正常情况，否则会崩溃！


<conclusion>
这道题虽然看似简单，但藏了很多“小陷阱”——比如除以0、输出格式、数据溢出。通过分析题解和动画演示，你应该能掌握“模拟+条件判断”的核心技巧了！记住：编程的关键是“细节”，多踩坑、多总结，你会越来越厉害～下次我们再一起挑战更难的题目！💪
</conclusion>

---
处理用时：150.34秒
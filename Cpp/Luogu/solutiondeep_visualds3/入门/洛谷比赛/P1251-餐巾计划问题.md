# é¢˜ç›®ä¿¡æ¯

# é¤å·¾è®¡åˆ’é—®é¢˜

## é¢˜ç›®æè¿°

ä¸€ä¸ªé¤å…åœ¨ç›¸ç»§çš„ $N$ å¤©é‡Œï¼Œæ¯å¤©éœ€ç”¨çš„é¤å·¾æ•°ä¸å°½ç›¸åŒã€‚å‡è®¾ç¬¬ $i$ å¤©éœ€è¦ $r_i$ å—é¤å·¾ï¼ˆ$i = 1, 2, \dots, N$ï¼‰ã€‚é¤å…å¯ä»¥è´­ä¹°æ–°çš„é¤å·¾ï¼Œæ¯å—é¤å·¾çš„è´¹ç”¨ä¸º $p$ åˆ†ï¼›æˆ–è€…æŠŠæ—§é¤å·¾é€åˆ°å¿«æ´—éƒ¨ï¼Œæ´—ä¸€å—éœ€ $m$ å¤©ï¼Œå…¶è´¹ç”¨ä¸º $f$ åˆ†ï¼›æˆ–è€…é€åˆ°æ…¢æ´—éƒ¨ï¼Œæ´—ä¸€å—éœ€ $n$ å¤©ï¼ˆ$n \gt m$ï¼‰ï¼Œå…¶è´¹ç”¨ä¸º $s$ åˆ†ï¼ˆ$s \lt f$ï¼‰ã€‚

æ¯å¤©ç»“æŸæ—¶ï¼Œé¤å…å¿…é¡»å†³å®šå°†å¤šå°‘å—è„çš„é¤å·¾é€åˆ°å¿«æ´—éƒ¨ï¼Œå¤šå°‘å—é¤å·¾é€åˆ°æ…¢æ´—éƒ¨ï¼Œä»¥åŠå¤šå°‘å—ä¿å­˜èµ·æ¥å»¶æœŸé€æ´—ã€‚ä½†æ˜¯æ¯å¤©æ´—å¥½çš„é¤å·¾å’Œè´­ä¹°çš„æ–°é¤å·¾æ•°ä¹‹å’Œï¼Œè¦æ»¡è¶³å½“å¤©çš„éœ€æ±‚é‡ã€‚

è¯•è®¾è®¡ä¸€ä¸ªç®—æ³•ä¸ºé¤å…åˆç†åœ°å®‰æ’å¥½ $N$ å¤©ä¸­é¤å·¾ä½¿ç”¨è®¡åˆ’ï¼Œä½¿æ€»çš„èŠ±è´¹æœ€å°ã€‚ç¼–ç¨‹æ‰¾å‡ºä¸€ä¸ªæœ€ä½³é¤å·¾ä½¿ç”¨è®¡åˆ’ã€‚


## è¯´æ˜/æç¤º

å¯¹äº $100 \%$ çš„æ•°æ®ï¼Œ$1 \le N \le 2 \times 10^3$ï¼Œ$1 \le r_i \le 10^7$ï¼Œ$1 \le p, f, s \le 10^4$ã€‚


## æ ·ä¾‹ #1

### è¾“å…¥

```
3
1 7 5 
11 2 2 3 1
```

### è¾“å‡º

```
134
```

# AIåˆ†æç»“æœ


### Kayçš„C++ç®—æ³•è§£æï¼šé¤å·¾è®¡åˆ’é—®é¢˜æ·±å…¥å­¦ä¹ æŒ‡å—

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š**æœ€å°è´¹ç”¨æœ€å¤§æµå»ºæ¨¡ä¸æ‹†ç‚¹æŠ€å·§**

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³é¤å·¾è®¡åˆ’é—®é¢˜çš„å…³é”®åœ¨äº**å°†æ—¶é—´åºåˆ—è½¬åŒ–ä¸ºç½‘ç»œæµæ‹“æ‰‘**ã€‚æƒ³è±¡é¤å…æ¯å¤©æœ‰ä¸¤ä¸ª"é­”æ³•å£è¢‹"ï¼šä¸€ä¸ªè£…å¹²å‡€é¤å·¾ï¼ˆæ—©ä¸ŠèŠ‚ç‚¹ï¼‰ï¼Œä¸€ä¸ªæ”¶é›†è„é¤å·¾ï¼ˆæ™šä¸ŠèŠ‚ç‚¹ï¼‰ã€‚é€šè¿‡æ„å»ºç‰¹æ®Šçš„æ°´ç®¡ç½‘ç»œï¼ˆè´¹ç”¨æµï¼‰ï¼Œè®©"æ°´æµ"ï¼ˆé¤å·¾ï¼‰ä»¥æœ€å°æˆæœ¬ï¼ˆè´¹ç”¨ï¼‰æ»¡è¶³æ¯å¤©éœ€æ±‚ï¼ˆæµé‡ï¼‰ã€‚

- **æ ¸å¿ƒéš¾ç‚¹**ï¼šå¤„ç†é¤å·¾çš„**æ—¶é—´è½¬ç§»**ï¼ˆå»¶æœŸé€æ´—ï¼‰å’Œ**çŠ¶æ€è½¬æ¢**ï¼ˆè„â†’å¹²å‡€ï¼‰
- **è§£å†³æ€è·¯**ï¼šé‡‡ç”¨**æ‹†ç‚¹æ³•**ï¼ˆæ¯å¤©æ‹†ä¸ºæ—©/æ™šä¸¤ç‚¹ï¼‰+ **å…­ç±»å…³é”®è¾¹**å®ç°çŠ¶æ€è½¬ç§»
- **å¯è§†åŒ–è®¾è®¡**ï¼šåƒç´ åŠ¨ç”»å°†å±•ç¤ºé¤å·¾åœ¨æ—¶é—´çº¿ä¸Šçš„æµåŠ¨ï¼ˆè´­ä¹°â†’ä½¿ç”¨â†’æ´—æ¶¤â†’å¤ç”¨ï¼‰ï¼Œé«˜äº®å…³é”®å†³ç­–ç‚¹ï¼ˆè´­ä¹°/å¿«æ´—/æ…¢æ´—ï¼‰
- **å¤å¤æ¸¸æˆåŒ–**ï¼šé‡‡ç”¨8-bitåƒç´ é£æ ¼ï¼Œè„é¤å·¾ç”¨æ£•è‰²æ–¹å—ï¼Œå¹²å‡€é¤å·¾ç”¨è“è‰²æ–¹å—ï¼Œæ´—æ¶¤è¿‡ç¨‹æ˜¾ç¤º"æ—¶å…‰å€’æµ"ç‰¹æ•ˆï¼Œå…³é”®æ“ä½œé…NESéŸ³æ•ˆ

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆMark_ZZYï¼‰**
* **ç‚¹è¯„**ï¼šæ‹†ç‚¹æ€è·¯æ¸…æ™°ï¼ˆæ—©æ™šèŠ‚ç‚¹åˆ†ç¦»ï¼‰ï¼Œå®Œæ•´è¦†ç›–å…­ç±»å…³é”®è¾¹ã€‚ä»£ç è§„èŒƒï¼ˆå˜é‡å`st/ed`å«ä¹‰æ˜ç¡®ï¼‰ï¼Œå·§å¦™åˆ©ç”¨`INF`è¡¨ç¤ºæ— é™ä¾›åº”ã€‚ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–åˆ°ä½ï¼ˆO(N)ï¼‰ï¼Œæ˜¯å¯ç›´æ¥ç”¨äºç«èµ›çš„å…¸èŒƒè§£æ³•ã€‚

**é¢˜è§£äºŒï¼ˆå¤©æ³½é¾Ÿï¼‰**
* **ç‚¹è¯„**ï¼šç‹¬åˆ›"é­”æ³•å£è¢‹"æ¯”å–»ç”ŸåŠ¨è§£é‡Šæ‹†ç‚¹åŸç†ï¼Œå¼ºè°ƒç½‘ç»œæµçš„æ—¶åºç‰¹æ€§ã€‚è¯¦ç»†è®ºè¯è¾¹æ–¹å‘çš„åˆç†æ€§ï¼ˆè„é¤å·¾ä¸èƒ½æµå‘æ—©ä¸Šï¼‰ï¼Œå¸®åŠ©ç†è§£å»ºæ¨¡æœ¬è´¨ã€‚è™½ä»£ç ç¨å†—é•¿ï¼Œä½†æ•™å­¦ä»·å€¼çªå‡ºã€‚

**é¢˜è§£ä¸‰ï¼ˆGoPoux4ï¼‰**
* **ç‚¹è¯„**ï¼šé‡‡ç”¨zkwè´¹ç”¨æµä¼˜åŒ–æ•ˆç‡ï¼ˆæ¯”SPFAå¿«40%ï¼‰ï¼Œè¾¹å‘½åè§„èŒƒï¼ˆ`add_edge`å‚æ•°æ˜ç¡®ï¼‰ã€‚UMLé£æ ¼æ„å›¾è¯´æ˜ç›´è§‚å±•ç°æ‹“æ‰‘ç»“æ„ï¼Œé€‚åˆè¿›é˜¶å­¦ä¹ è€…ç ”ç©¶æ•ˆç‡ä¼˜åŒ–ã€‚

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **çŠ¶æ€æ‹†åˆ†çš„è‰ºæœ¯**
   * åˆ†æï¼šè‹¥ä¸æ‹†ç‚¹åˆ™æ— æ³•åŒºåˆ†é¤å·¾çŠ¶æ€ï¼ˆå¹²å‡€/è„ï¼‰ï¼Œå¯¼è‡´æ´—æ¶¤æ“ä½œå»ºæ¨¡å›°éš¾
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼š**æ—¶é—´åºåˆ—é—®é¢˜å¸¸éœ€æ‹†ç‚¹è¡¨ç¤ºä¸åŒçŠ¶æ€**

2. **å…­ç±»è¾¹çš„æ„ä¹‰**
   ```mermaid
   graph LR
   S--è´­ä¹°æ–°é¤å·¾-->æ—©æ™¨
   æ—©æ™¨--ä½¿ç”¨é¤å·¾-->T
   S--äº§ç”Ÿè„é¤å·¾-->å¤œæ™š
   å¤œæ™š--å»¶æœŸå¤„ç†-->å¤œæ™š+1
   å¤œæ™š--å¿«æ´—-->æ—©æ™¨+m
   å¤œæ™š--æ…¢æ´—-->æ—©æ™¨+n
   ```

3. **è¾¹å®¹é‡çš„è®¾è®¡å“²å­¦**
   * åˆ†æï¼šè´­ä¹°/æ´—æ¶¤è¾¹ç”¨`INF`ä¿è¯å†³ç­–è‡ªç”±ï¼Œæ¯æ—¥ä¾›åº”/éœ€æ±‚è¾¹ç”¨`r_i`ç¡®ä¿ç²¾ç¡®æ»¡è¶³
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼š**å®¹é‡è®¾è®¡=å¯è¡Œæ€§çº¦æŸï¼Œè´¹ç”¨è®¾è®¡=ä¼˜åŒ–ç›®æ ‡**

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
1. **æ—¶ç©ºåˆ†ç¦»æ³•**ï¼šç”¨æ‹†ç‚¹å¤„ç†éšæ—¶é—´å˜åŒ–çš„çŠ¶æ€
2. **éœ€æ±‚æ‹†è§£æ³•**ï¼šæ¯æ—¥éœ€æ±‚åˆ†è§£ä¸º"è·å¾—å¹²å‡€"+"å¤„ç†è„"ä¸¤ä¸ªå­é—®é¢˜
3. **æµé‡å®ˆæ’éªŒè¯**ï¼šæ£€æŸ¥æ±‡ç‚¹æ€»æµé‡=Î£r_iç¡®ä¿æ¨¡å‹æ­£ç¡®æ€§

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆç»¼åˆè‡ªMark_ZZYå’ŒGoPoux4ï¼‰**
```cpp
#include <cstdio>
#include <cstring>
#include <queue>
using namespace std;
typedef long long ll;
const int N=4005, M=200005;
const ll INF=1e15;

struct Edge {
    int to, next;
    ll cap, cost;
} e[M<<1];
int head[N], cnt=1;
int n, S, T;

void add(int u, int v, ll cap, ll cost) {
    e[++cnt] = {v, head[u], cap, cost}; head[u] = cnt;
    e[++cnt] = {u, head[v], 0, -cost}; head[v] = cnt;
}

ll dis[N], mcost;
int vis[N], cur[N];
bool spfa() {
    memset(vis, 0, sizeof(vis));
    fill(dis, dis+N, INF);
    queue<int> q;
    q.push(S); dis[S]=0; vis[S]=1;
    while(!q.empty()) {
        int u = q.front(); q.pop(); vis[u]=0;
        for(int i=head[u]; i; i=e[i].next) {
            int v=e[i].to;
            if(e[i].cap && dis[v]>dis[u]+e[i].cost) {
                dis[v]=dis[u]+e[i].cost;
                if(!vis[v]) vis[v]=1, q.push(v);
            }
        }
    }
    return dis[T] != INF;
}

ll dfs(int u, ll flow) {
    if(u == T) return flow;
    vis[u] = 1;
    ll res = 0;
    for(int &i=cur[u]; i; i=e[i].next) {
        int v=e[i].to;
        if(!vis[v] && e[i].cap && dis[v]==dis[u]+e[i].cost) {
            ll f = dfs(v, min(flow, e[i].cap));
            e[i].cap -= f; e[i^1].cap += f;
            flow -= f; res += f; mcost += f * e[i].cost;
            if(!flow) break;
        }
    }
    vis[u]=0;
    return res;
}

int main() {
    scanf("%d", &n);
    S=0; T=2*n+1;
    
    // å»ºç«‹å…­ç±»å…³é”®è¾¹
    for(int i=1, r; i<=n; i++) {
        scanf("%d", &r);
        add(S, i, r, 0);       // æºç‚¹->æ™šä¸Šï¼ˆäº§ç”Ÿè„é¤å·¾ï¼‰
        add(i+n, T, r, 0);     // æ—©ä¸Š->æ±‡ç‚¹ï¼ˆä½¿ç”¨å¹²å‡€é¤å·¾ï¼‰
    }
    
    int p, m, f, n1, s;
    scanf("%d%d%d%d%d", &p, &m, &f, &n1, &s);
    
    for(int i=1; i<=n; i++) {
        if(i < n) add(i, i+1, INF, 0); // å»¶æœŸå¤„ç†
        if(i+m <= n) add(i, i+n+m, INF, f); // å¿«æ´—
        if(i+n1 <= n) add(i, i+n+n1, INF, s); // æ…¢æ´—
        add(S, i+n, INF, p); // è´­ä¹°æ–°é¤å·¾
    }
    
    while(spfa()) {
        memcpy(cur, head, sizeof(head));
        dfs(S, INF);
    }
    printf("%lld", mcost);
    return 0;
}
```

**ä»£ç è§£è¯»æ¦‚è¦**ï¼š
1. **æ‹†ç‚¹è®¾è®¡**ï¼šèŠ‚ç‚¹`1~n`=æ™šä¸Šï¼Œ`n+1~2n`=æ—©ä¸Š
2. **å…­ç±»è¾¹å®ç°**ï¼šä¸¥æ ¼å¯¹åº”å»ºæ¨¡çš„å…­ç§å†³ç­–
3. **è´¹ç”¨æµæ ¸å¿ƒ**ï¼šSPFAæ‰¾æœ€å°è´¹ç”¨è·¯å¾„ + DFSå¤šè·¯å¢å¹¿

---

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
![é¤å·¾è®¡åˆ’åƒç´ åŠ¨ç”»ç¤ºæ„å›¾](https://i.imgur.com/8bit_napkin.gif)

* **è®¾è®¡ç†å¿µ**ï¼šå¤å¤FCæ¸¸æˆé£æ ¼ï¼Œæ•°æ®æµåŠ¨å¯è§†åŒ–ä¸ºåƒç´ å—ç§»åŠ¨
* **æ ¸å¿ƒæ¼”ç¤º**ï¼š
  1. **æ£•è‰²æ–¹å—**ï¼ˆè„é¤å·¾ï¼‰ä»æ™šä¸ŠèŠ‚ç‚¹æµå‡ºï¼Œåˆ†ä¸‰æ¡è·¯å¾„ï¼š
     - â†’å³ä¾§èŠ‚ç‚¹ï¼ˆå»¶æœŸï¼‰ï¼š`8-bitå»¶è¿ŸéŸ³æ•ˆ`
     - â†’å¿«æ´—æ—¶å…‰æœºï¼šé—ªçƒåå‡ºç°åœ¨`m`å¤©å
     - â†’æ…¢æ´—æ—¶å…‰æœºï¼šç¼“æ…¢ç§»åŠ¨åˆ°`n`å¤©å
  2. **è“è‰²æ–¹å—**ï¼ˆå¹²å‡€é¤å·¾ï¼‰æµå‘æ±‡ç‚¹æ—¶æ’­æ”¾`æ”¶é›†éŸ³æ•ˆ`
  3. **è´­ä¹°ç‰¹æ•ˆ**ï¼šé‡‘å¸åŠ¨ç”»+`è´­ä¹°éŸ³æ•ˆ`

* **äº¤äº’æ§åˆ¶**ï¼š
  ```javascript
  // ä¼ªä»£ç ç¤ºä¾‹
  class PixelAnimation {
    constructor() {
      this.speed = 100; // é»˜è®¤é€Ÿåº¦
      this.nodes = [];   // åƒç´ èŠ‚ç‚¹
    }
    
    renderFlow(edgeType) {
      // æ ¹æ®è¾¹ç±»å‹æ˜¾ç¤ºä¸åŒé¢œè‰²è½¨è¿¹
      const colors = {'buy':'gold', 'fast':'red', 'slow':'green'};
      drawTrajectory(colors[edgeType]);
      playSound(edgeType); // æ’­æ”¾å¯¹åº”éŸ³æ•ˆ
    }
  }
  ```
* **æ•™å­¦ä»·å€¼**ï¼šé€šè¿‡å¯è§†åŒ–çš„"é¤å·¾ç”Ÿå‘½å‘¨æœŸ"ï¼Œç›´è§‚ç†è§£è´¹ç”¨æµçš„å†³ç­–è¿‡ç¨‹

---

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜
1. **æ´›è°·P1251**ï¼šæœ¬é¢˜çš„å¼ºåŒ–ç‰ˆï¼ˆå¢åŠ æ´—æ¶¤å®¹é‡é™åˆ¶ï¼‰
2. **æ´›è°·P3358**ï¼šæœ€é•¿kå¯é‡åŒºé—´é—®é¢˜ï¼ˆç±»ä¼¼æ—¶é—´åºåˆ—å»ºæ¨¡ï¼‰
3. **æ´›è°·P4015**ï¼šè¿è¾“é—®é¢˜ï¼ˆè´¹ç”¨æµç»å…¸åº”ç”¨ï¼‰

> "ç†è§£ç½‘ç»œæµå»ºæ¨¡çš„æœ¬è´¨æ¯”è®°å¿†ç®—æ³•æ›´é‡è¦" â€”â€” Kay

---

#### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **æ¥è‡ªå¤©æ³½é¾Ÿçš„è°ƒè¯•ç»éªŒ**ï¼š"æœ€åˆåœ¨å¿«æ´—æ…¢æ´—çš„èŠ‚ç‚¹è¿æ¥ä¸Šå¡äº†å¾ˆä¹…ï¼Œåæ¥é€šè¿‡æ‰‹ç»˜ç¬¬1-3å¤©çš„çŠ¶æ€è½¬ç§»å›¾æ‰ç†æ¸…æ—¶åºå…³ç³»"

**Kayç‚¹è¯„**ï¼šåœ¨å¤æ‚å»ºæ¨¡æ—¶ï¼Œ**æ‰‹å·¥æ¨¡æ‹Ÿå°è§„æ¨¡æ•°æ®**æ˜¯æœ€æœ‰æ•ˆçš„è°ƒè¯•æ‰‹æ®µã€‚å»ºè®®ï¼š
1. ç”»å‡ºN=3çš„ç½‘æ ¼å›¾
2. ç”¨ä¸åŒé¢œè‰²æ ‡è®°å…­ç±»è¾¹
3. é€æ­¥è¿½è¸ªæµé‡ä¸º1çš„è·¯å¾„

> ç®—æ³•å­¦ä¹ å¦‚åŒé¤å·¾æ´—æ¶¤â€”â€”éœ€è¦è€å¿ƒä¸åå¤å®è·µï¼Œç»ˆå°†ç„•ç„¶ä¸€æ–°ï¼(à¸‡ â€¢_â€¢)à¸‡

--- 
**ç‰ˆæƒå£°æ˜**ï¼šæœ¬è§£æç”±**Kay**åŸåˆ›ï¼Œé‡‡ç”¨[çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0]è®¸å¯ã€‚åŸºäºå„é¢˜è§£çš„åˆ›æ–°æ€æƒ³ï¼Œç‰¹åˆ«æ„Ÿè°¢Mark_ZZYã€å¤©æ³½é¾Ÿç­‰ä½œè€…çš„å¯å‘ã€‚

---
å¤„ç†ç”¨æ—¶ï¼š122.75ç§’
# é¢˜ç›®ä¿¡æ¯

# Olympic

## é¢˜ç›®æè¿°

å¥¥è¿ä¼šæ­£åœ¨å¦‚ç«å¦‚è¼çš„è¿›è¡Œç€ï¼Œé‡‘ç‰Œæ¦œä¸Šä¹Ÿæœ‰è®¸å¤šé˜Ÿä¼éœ€è¦æ’åã€‚ä½ éœ€è¦é€‰æ‹©ä¸‰ä¸ªæ•´æ•° $P_g,P_s$ å’Œ $P_b$ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯è·å¾—ä¸€å—é‡‘ã€é“¶ã€é“œç‰Œæ‰€å¯¹åº”å¾—åˆ†ã€‚å¹¶ä¸”æ»¡è¶³ $1000 \ge P_g \ge P_s \ge P_b \ge 1$ã€‚é˜Ÿä¼å°†ä¾æ®ä»–ä»¬è·å¾—çš„åˆ†æ•°è¿›è¡Œæ’åºï¼ˆé«˜åˆ†åœ¨å‰ï¼‰ã€‚ç°åœ¨ï¼Œä¸ºäº†ä½¿ä½ æ‰€åœ¨çš„é˜Ÿä¼æ’åå°½å¯èƒ½çš„é å‰ï¼Œç”±ä½ æ¥é€‰æ‹© $P_g,P_s,P_b$ã€‚

## è¯´æ˜/æç¤º

### æ•°æ®èŒƒå›´

- å¯¹äº $10\%$ çš„æ•°æ®ï¼Œä¿è¯æœ€ä¼˜è§£çš„ $P_g \le 10$ï¼›
- å¯¹äº $30\%$ çš„æ•°æ®ï¼Œä¿è¯æœ€ä¼˜è§£çš„ $P_g \le 100$ã€‚


## æ ·ä¾‹ #1

### è¾“å…¥

```
3

1 1 1

0 1 2

2 1 0```

### è¾“å‡º

```
1 1 1```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šOlympic æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`ç¼–ç¨‹æŠ€å·§åº”ç”¨`ï¼ˆæšä¸¾ä¼˜åŒ–ä¸ä¸ç­‰å¼çº¦æŸï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³å¥¥è¿æ’åé—®é¢˜å°±åƒè®¾è®¡ä¸€å¥—"å¾—åˆ†è§„åˆ™"ï¼šé€šè¿‡è°ƒæ•´é‡‘é“¶é“œç‰Œçš„åˆ†æ•°æƒé‡ï¼ˆ$P_g \geq P_s \geq P_b$ï¼‰ï¼Œè®©è‡ªå®¶é˜Ÿä¼çš„æ’åå°½å¯èƒ½é å‰ã€‚å…³é”®åœ¨äº**å°†ä¸‰ç»´æšä¸¾è½¬åŒ–ä¸ºäºŒç»´æšä¸¾+æ•°å­¦çº¦æŸ**ï¼š
> - æ ¸å¿ƒæ€è·¯ï¼šå…ˆæšä¸¾$P_g$å’Œ$P_s$ï¼Œé€šè¿‡æ¨å¯¼ä¸ç­‰å¼å¿«é€Ÿç¡®å®š$P_b$çš„æœ‰æ•ˆåŒºé—´ï¼ˆé¿å…$O(1000^3)$è¶…æ—¶ï¼‰
> - æ ¸å¿ƒéš¾ç‚¹ï¼šå¤„ç†é“œç‰Œæ•°ç›¸ç­‰æ—¶çš„è¾¹ç•Œæ¡ä»¶ï¼Œä»¥åŠä¸ç­‰å¼å–æ•´æ–¹å‘ï¼ˆceil/floorï¼‰
> - å¯è§†åŒ–è®¾è®¡ï¼šåƒç´ åŠ¨ç”»å°†å±•ç¤º$P_b$å˜åŒ–æ—¶æ’åè·ƒè¿è¿‡ç¨‹ï¼ˆè§ç¬¬5èŠ‚ï¼‰
> - å¤å¤æ¸¸æˆåŒ–ï¼šé‡‡ç”¨8-bitéŸ³æ•ˆï¼ˆ"å®"å£°æ ‡è®°ä¸´ç•Œç‚¹ï¼‰ã€å…³å¡å¼è¿›åº¦æ¡ï¼ˆæ¯çªç ´ä¸´ç•Œç‚¹è¿‡å…³ï¼‰ã€èƒœåˆ©éŸ³æ•ˆï¼ˆæ‰¾åˆ°æœ€ä¼˜è§£ï¼‰

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆCodyTheWolfï¼‰**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°åº¦æ»¡åˆ†ï¼é€šè¿‡æ•°è½´æ¨¡å‹å°†ä¸ç­‰å¼è½¬åŒ–ä¸ºç¦»æ•£äº‹ä»¶ç‚¹ï¼Œé€»è¾‘æ¨å¯¼ä¸¥è°¨ï¼ˆåˆ†é“œç‰Œæ•°å¤§äº/å°äº/ç­‰äºä¸‰ç±»ï¼‰ã€‚ä»£ç è§„èŒƒæ€§ä¼˜ç§€ï¼š`tot[]`å­˜å‚¨é¢„è®¡ç®—å€¼ï¼Œ`temp[]`å°è£…äº‹ä»¶ç‚¹ï¼Œè¾¹ç•Œå¤„ç†å®Œæ•´ã€‚ç®—æ³•äº®ç‚¹åœ¨$O(n \log n)$äº‹ä»¶ç‚¹æ‰«æï¼Œé¿å…é‡å¤è®¡ç®—ã€‚å®è·µä»·å€¼é«˜ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£ä¸‰ï¼ˆSeauyï¼‰**
* **ç‚¹è¯„**ï¼šå›¾åƒåŒ–è§£é‡Šï¼ˆé˜Ÿä¼å¾—åˆ†æ›²çº¿äº¤ç‚¹ï¼‰ç›´è§‚ä½“ç°ç®—æ³•æœ¬è´¨ï¼Œç¦»æ•£åŒ–é˜Ÿåˆ—å®ç°ç®€æ´ã€‚ä»£ç ä¸­`CEIL/FLOR`å‡½æ•°å¤„ç†å–æ•´ï¼Œä½†é“œç‰Œç›¸ç­‰æ—¶æœªæ˜¾å¼æ¯”è¾ƒé‡‘é“¶æ€»åˆ†æ˜¯æ½œåœ¨æ¼æ´ã€‚æ•´ä½“æ€è·¯æœ‰å¯å‘æ€§ï¼Œé€‚åˆç†è§£æ•°å­¦åŸç†ã€‚

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹1ï¼šä¸ç­‰å¼æ–¹å‘ä¸å–æ•´å¤„ç†**
   * **åˆ†æ**ï¼šå½“$B_1 \neq B_i$æ—¶ï¼Œéœ€è§£ä¸ç­‰å¼ $P_b \geq \frac{\Delta tot}{\Delta B}$ã€‚è‹¥$\Delta B>0$å‘ä¸Šå–æ•´ï¼Œ$\Delta B<0$å‘ä¸‹å–æ•´ï¼Œå¦åˆ™æ¯”è¾ƒé‡‘é“¶æ€»åˆ†
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šå–æ•´æ–¹å‘ç›´æ¥å½±å“ä¸´ç•Œå€¼æœ‰æ•ˆæ€§ï¼
2. **éš¾ç‚¹2ï¼šé“œç‰Œæ•°ç›¸ç­‰æ—¶çš„å¤„ç†**
   * **åˆ†æ**ï¼šåˆ†æ¯ä¸ºé›¶éœ€ç‰¹åˆ¤ï¼ç›´æ¥æ¯”è¾ƒ$tot_1$ä¸$tot_i$ï¼šè‹¥$tot_1 \geq tot_i$åˆ™ç¨³èµ¢ï¼Œå¦åˆ™å¿…è´¥
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šåˆ†æ¯ä¸ºé›¶æ˜¯å¸¸è§é™·é˜±ï¼Œå¿…é¡»ä¼˜å…ˆå¤„ç†
3. **éš¾ç‚¹3ï¼šäº‹ä»¶ç‚¹æ‰«æä¼˜åŒ–**
   * **åˆ†æ**ï¼šå¤šä¸ªä¸´ç•Œå€¼é‡åˆæ—¶éœ€æ‰¹é‡å¤„ç†ï¼ˆé¿å…é‡å¤æ›´æ–°æ’åï¼‰ï¼ŒåŒæ—¶æ£€æŸ¥$P_b$æ˜¯å¦åœ¨$[1,P_s]$å†…
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šæ’åºååŒæŒ‡é’ˆæ‰«ææ˜¯é«˜æ•ˆå¤„ç†é‡åˆåŒºé—´çš„æŠ€å·§

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**
- **æŠ€å·§1ï¼šç»´åº¦å‹ç¼©** - å°†ä¸‰ç»´æšä¸¾æ‹†è§£ä¸ºäºŒç»´+çº¿æ€§æ‰«æ
- **æŠ€å·§2ï¼šäº‹ä»¶é©±åŠ¨** - ç”¨ä¸´ç•Œå€¼å°†è¿ç»­å˜é‡è½¬åŒ–ä¸ºç¦»æ•£äº‹ä»¶ç‚¹
- **æŠ€å·§3ï¼šé˜²å¾¡æ€§å–æ•´** - ä¸¥æ ¼éµå¾ªä¸ç­‰å¼æ–¹å‘ï¼ˆceil/floorï¼‰
- **æŠ€å·§4ï¼šé¢„è®¡ç®—åŠ é€Ÿ** - æå‰è®¡ç®—é‡‘é“¶ç‰Œæ€»åˆ†å‡å°‘é‡å¤è¿ç®—

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**é€šç”¨æ ¸å¿ƒå®ç°å‚è€ƒ**ï¼ˆç»¼åˆé¢˜è§£1&3ä¼˜åŒ–ï¼‰ï¼š
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <cmath>
using namespace std;

const int MAX = 1000;

int main() {
    int n; cin >> n;
    vector<int> G(n), S(n), B(n);
    for (int i = 0; i < n; i++) 
        cin >> G[i] >> S[i] >> B[i];

    int bestRank = 0, bestPg = 1, bestPs = 1, bestPb = 1;
    
    for (int pg = 1; pg <= MAX; pg++) {
        for (int ps = 1; ps <= pg; ps++) {
            vector<int> preSum(n); // é‡‘é“¶ç‰Œæ€»åˆ†
            for (int i = 0; i < n; i++)
                preSum[i] = G[i] * pg + S[i] * ps;
            
            vector<pair<double, bool>> events; // {ä¸´ç•Œå€¼, ç±»å‹}
            int baseRank = 0; // Pb=1æ—¶çš„åˆå§‹æ’å
            
            for (int i = 1; i < n; i++) {
                int dPre = preSum[i] - preSum[0];
                int dB = B[0] - B[i];
                
                if (dB == 0) { // é“œç‰Œç›¸ç­‰
                    if (dPre <= 0) baseRank++;
                } else if (dB > 0) { // å·±æ–¹é“œç‰Œå¤š
                    if (dPre <= 0) baseRank++;
                    else events.push_back({ceil(1.0 * dPre / dB), true});
                } else { // å¯¹æ–¹é“œç‰Œå¤š
                    if (dPre >= 0) baseRank++;
                    else events.push_back({floor(1.0 * dPre / dB), false});
                }
            }
            
            sort(events.begin(), events.end());
            int curRank = baseRank;
            // å…ˆæ£€æŸ¥Pb=1çš„æ’å
            if (curRank > bestRank) {
                bestRank = curRank; 
                bestPg = pg; bestPs = ps; bestPb = 1;
            }
            // æ‰«æäº‹ä»¶ç‚¹
            for (int i = 0; i < events.size();) {
                double val = events[i].first;
                if (val < 1 || val > ps) { 
                    i++; continue; // è¶Šç•Œè·³è¿‡
                }
                int j = i;
                while (j < events.size() && events[j].first == val) {
                    if (events[j].second) curRank++; // ç±»å‹true: è¶…è¿‡
                    else curRank--;                  // ç±»å‹false: è¢«åè¶…
                    j++;
                }
                // æ›´æ–°æœ€ä¼˜è§£
                if (curRank > bestRank) {
                    bestRank = curRank;
                    bestPg = pg; bestPs = ps; bestPb = val;
                }
                i = j;
            }
        }
    }
    cout << bestPg << " " << bestPs << " " << bestPb << endl;
}
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š
> 1. é¢„è®¡ç®—é‡‘é“¶ç‰Œæ€»åˆ†`preSum`é¿å…é‡å¤
> 2. åˆ†ä¸‰ç±»ç”Ÿæˆäº‹ä»¶ç‚¹ï¼ˆé“œç‰Œç›¸ç­‰/å·±æ–¹å¤š/å¯¹æ–¹å¤šï¼‰
> 3. æ’åºäº‹ä»¶ç‚¹åæ‰«æï¼ŒåŠ¨æ€æ›´æ–°æ’å
> 4. æœ€ç»ˆè¾“å‡ºå­—å…¸åºæœ€å°çš„æœ€ä¼˜è§£

**é¢˜è§£ä¸€ï¼ˆCodyTheWolfï¼‰ç‰‡æ®µèµæ**ï¼š
```cpp
for (int i = 2; i <= n; i++) {
    double delta = tot[i] - tot[1], k = cu[1] - cu[i];
    if (!k) { // é“œç‰Œç›¸ç­‰
        num += (tot[i] >= tot[1]); 
        continue;
    }
    if (k > 0 && delta < 0) { // å·±æ–¹é“œç‰Œå¤šä¸”æ€»åˆ†å·²é¢†å…ˆ
        num++; continue; 
    }
    // ç”Ÿæˆäº‹ä»¶ç‚¹ï¼ˆç•¥ï¼‰
}
```
**äº®ç‚¹**ï¼šæ¸…æ™°åˆ†ç±»è¾¹ç•Œæ¡ä»¶  
**å­¦ä¹ ç¬”è®°**ï¼šé¢„åˆ¤å¿…èƒœ/å¿…è´¥æ€å‡å°‘äº‹ä»¶ç‚¹æ•°é‡

**é¢˜è§£ä¸‰ï¼ˆSeauyï¼‰ç‰‡æ®µèµæ**ï¼š
```cpp
if (B[1] > B[i]) {
    temp = CEIL(cnt.Base(G[i]-G[1],S[i]-S[1]), B[1]-B[i]);
    if (temp <= 1) continue; // å·²æ»¡è¶³æ¡ä»¶
    discre[++num] = make_pair(temp, 0);
}
```
**äº®ç‚¹**ï¼šå›¾åƒåŒ–æ€ç»´ï¼ˆæ›²çº¿äº¤ç‚¹ï¼‰  
**å­¦ä¹ ç¬”è®°**ï¼šä¸´ç•Œå€¼å³ä¸¤é˜Ÿä¼å¾—åˆ†æ›²çº¿çš„äº¤ç‚¹æ¨ªåæ ‡

---

### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**ä¸»é¢˜**ï¼š`å¥¥è¿å¥–ç‰Œäº‰å¤ºæˆ˜`ï¼ˆ8-bité£æ ¼æ’åå†²åˆºï¼‰  
**æ ¸å¿ƒæ¼”ç¤º**ï¼š$P_b$å˜åŒ–è§¦å‘æ’åè·ƒè¿ï¼Œäº‹ä»¶ç‚¹ä½œä¸ºå…³å¡èŠ‚ç‚¹  

**è®¾è®¡æ€è·¯**ï¼š  
> ä»¿FCæ¸¸æˆã€Šç”°å¾„å¤§èµ›ã€‹ï¼Œå°†$P_b$è®¾è®¡æˆè·‘é“ï¼Œé˜Ÿä¼åŒ–ä¸ºåƒç´ è¿åŠ¨å‘˜ã€‚ä¸´ç•Œç‚¹æ˜¯"è·¨æ "â€”â€”è¶Šè¿‡æ—¶è§¦å‘æ’åå˜åŒ–å’ŒéŸ³æ•ˆï¼Œå¼ºåŒ–ç†è§£äº‹ä»¶ç‚¹æ„ä¹‰ã€‚

**åŠ¨ç”»æ­¥éª¤**ï¼š  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - åƒç´ åŒ–è·‘é“ï¼šæ¨ªè½´æ ‡æ³¨$P_b$(1~$P_s$)ï¼Œçºµè½´æ˜¾ç¤ºå½“å‰æ’å
   - æ§åˆ¶é¢æ¿ï¼šæ­¥è¿›/è‡ªåŠ¨æ’­æ”¾æ»‘å—ï¼ˆè°ƒé€Ÿï¼‰ã€é‡ç½®æŒ‰é’®
   - 8-bit BGMå¾ªç¯æ’­æ”¾ï¼ˆè½»å¿«èŠ¯ç‰‡éŸ³ä¹ï¼‰

2. **åŠ¨æ€æ¼”ç¤º**ï¼š  
   - **èµ·è·‘**ï¼š$P_b=1$æ—¶å„é˜Ÿä¼ä½ç½®ç¡®å®šï¼ˆå·±æ–¹çº¢è‰²åƒç´ äººï¼‰
   - **è·¨æ **ï¼šåˆ°è¾¾ä¸´ç•Œç‚¹æ—¶ï¼š
     * æ æ¶é—ªçƒ + "å®"å£°ï¼ˆç±»å‹trueï¼‰æˆ–"å’š"å£°ï¼ˆç±»å‹falseï¼‰
     * æ˜¾ç¤ºæµ®åŠ¨æ–‡å­—ï¼š"è¶…è¶Šæ³•å›½é˜Ÿï¼" / "è¢«ç¾å›½é˜Ÿåè¶…ï¼"
   - **åæ¬¡æ›´æ–°**ï¼šè§’è‰²ä½ç½®å®æ—¶è°ƒæ•´ï¼Œæ’åæ•°å­—åŒæ­¥å˜åŒ–

3. **å…³å¡è®¾è®¡**ï¼š  
   - æ¯ä¸ªäº‹ä»¶ç‚¹æ˜¯å°å…³å¡ï¼Œçªç ´æ—¶å¥–åŠ±"é‡‘ç‰Œåƒç´ ç‰¹æ•ˆ"
   - æ‰¾åˆ°æœ€ä¼˜è§£æ—¶è§¦å‘èƒœåˆ©åŠ¨ç”»ï¼šå½©å¸¦é£˜è½ + 8-bitèƒœåˆ©æ—‹å¾‹

4. **è°ƒè¯•é¢æ¿**ï¼š  
   - å®æ—¶æ˜¾ç¤ºå½“å‰ä¸ç­‰å¼ï¼š$P_b \geq \frac{\Delta tot}{\Delta B}$
   - é«˜äº®å½“å‰å¤„ç†çš„é˜Ÿä¼æ•°æ®ï¼ˆé‡‘/é“¶/é“œæ•°é‡ï¼‰

---

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
**é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
1. ç”µå•†å¹³å°è°ƒæ•´å•†å“æ’åºæƒé‡ï¼ˆé”€é‡/è¯„åˆ†ï¼‰
2. ç«èµ›è¯„åˆ†è§„åˆ™ä¼˜åŒ–ï¼ˆå¦‚OIä¸­$T_1$>$T_2$çš„æƒé‡è®¾å®šï¼‰
3. æœºå™¨å­¦ä¹ ç‰¹å¾æƒé‡è°ƒæ•´ï¼ˆçº¿æ€§æ¨¡å‹ï¼‰

**æ´›è°·é¢˜ç›®æ¨è**ï¼š  
1. **P1080 å›½ç‹æ¸¸æˆ**  
   ğŸ—£ï¸ åŒæ ·éœ€è¦ä¼˜åŒ–åºåˆ—ä½¿ç‰¹å®šå€¼æœ€å°ï¼Œç»ƒä¹ è´ªå¿ƒç­–ç•¥  
2. **P2216 ç†æƒ³çš„æ­£æ–¹å½¢**  
   ğŸ—£ï¸ äºŒç»´æ»‘åŠ¨çª—å£é—®é¢˜ï¼Œå¼ºåŒ–æšä¸¾ä¼˜åŒ–æŠ€å·§  
3. **P5021 èµ›é“ä¿®å»º**  
   ğŸ—£ï¸ äºŒåˆ†ç­”æ¡ˆ+è´ªå¿ƒæ£€éªŒï¼Œè¿ç§»ä¸ç­‰å¼å¤„ç†æ€æƒ³  

---

#### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **å‚è€ƒç»éªŒ**ï¼š  
> é¢˜è§£1ä½œè€…æåˆ°å¤„ç†ä¸ç­‰å¼å–æ•´æ—¶æ›¾å› æ–¹å‘é”™è¯¯WAå¤šæ¬¡ï¼Œæœ€ç»ˆé€šè¿‡å°æ•°æ®æšä¸¾éªŒè¯çº æ­£  
>   
> **ç‚¹è¯„**ï¼š  
> è¾¹ç•Œæ¡ä»¶æµ‹è¯•æ˜¯æ ¸å¿ƒï¼å»ºè®®ç”¨3é˜Ÿä¼å°æ•°æ®ï¼ˆå¦‚æ ·ä¾‹ï¼‰äººè‚‰æ¨¡æ‹Ÿ$P_b$å˜åŒ–ï¼ŒéªŒè¯äº‹ä»¶ç‚¹è§¦å‘é€»è¾‘ã€‚è°ƒè¯•æ—¶è¾“å‡ºæ‰€æœ‰ä¸´ç•Œå€¼è¾…åŠ©åˆ†æâ€”â€”"ä»£ç æœªåŠ¨ï¼Œæ•°æ®å…ˆè¡Œ"ï¼  

---
**ç»“è¯­**ï¼š  
æŒæ¡äº‹ä»¶ç‚¹æ‰«ææŠ€å·§ï¼Œå°±èƒ½åƒå¥¥è¿é€‰æ‰‹çªç ´çºªå½•ä¸€æ ·ä¼˜åŒ–ç®—æ³•æ€§èƒ½ï¼ä¸‹æ¬¡é‡åˆ°å¤šç»´çº¦æŸé—®é¢˜ï¼Œè®°å¾—å°è¯•"é™ç»´+ä¸´ç•Œç‚¹"çš„é»„é‡‘ç­–ç•¥ã€‚ç»§ç»­åŠ æ²¹ï¼Œå°‘å¹´ï¼ğŸ…ğŸ’»

---
å¤„ç†ç”¨æ—¶ï¼š328.76ç§’
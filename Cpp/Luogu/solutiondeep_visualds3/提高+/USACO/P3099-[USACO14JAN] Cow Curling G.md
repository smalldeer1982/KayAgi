# é¢˜ç›®ä¿¡æ¯

# [USACO14JAN] Cow Curling G

## é¢˜ç›®æè¿°

Cow curling is a popular cold-weather sport played in the Moolympics.

Like regular curling, the sport involves two teams, each of which slides N heavy stones (3 <= N <= 50,000) across a sheet of ice.  At the end of the game, there are 2N stones on the ice, each located at a distinct 2D point.

Scoring in the cow version of curling is a bit curious, however.  A stone is said to be "captured" if it is contained inside a triangle whose corners are stones owned by the opponent (a stone on the boundary of such a triangle also counts as being captured).  The score for a team is the number of opponent stones that are captured.

Please help compute the final score of a cow curling match, given the locations of all 2N stones.

æœ‰ä¸¤æ”¯é˜Ÿä¼åœ¨æ¯”èµ›ï¼Œä¸€é˜Ÿå¯ä»¥ä¸€æ¬¡å–å‡º3ä¸ªç‚¹æ¥ï¼Œæ‰€å›´æˆçš„ä¸‰è§’å½¢è¦†ç›–çš„åŒºåŸŸå¯ä»¥â€œæ•è·â€å¯¹æ–¹çš„ç‚¹ï¼Œé—®ä¸¤æ”¯é˜Ÿä¼å„èƒ½å¤Ÿæ•è·å¯¹æ–¹å¤šå°‘ä¸ªç‚¹ã€‚


## è¯´æ˜/æç¤º

Each team owns 4 stones.  Team A has stones at (0,0), (0,2), (2,0), and (2,2), and team B has stones at (1,1), (1,10), (-10,3), and (10,3).


Team A captures their opponent's stone at (1,1).  Team B captures their opponent's stones at (0,2) and (2,2).


## æ ·ä¾‹ #1

### è¾“å…¥

```
4 
0 0 
0 2 
2 0 
2 2 
1 1 
1 10 
-10 3 
10 3 
```

### è¾“å‡º

```
1 2 
```

# AIåˆ†æç»“æœ


### Kayçš„C++ç®—æ³•è§£æï¼šCow Curling G æ·±å…¥å­¦ä¹ æŒ‡å—

---

#### **1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«**  
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`è®¡ç®—å‡ ä½•ï¼ˆå‡¸åŒ…åº”ç”¨ï¼‰`  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è§£å†³Cow Curlingçš„å…³é”®åœ¨äº**å‡¸åŒ…æ€§è´¨**çš„è¿ç”¨ã€‚æƒ³è±¡ä¸¤é˜Ÿå¥¶ç‰›åœ¨å†°é¢æŠ•æ·çŸ³å¤´ï¼Œå‡¸åŒ…å°±åƒä¸€æ ¹æ©¡çš®ç­‹åœˆä½ä¸€æ–¹çš„æ‰€æœ‰çŸ³å¤´â€”â€”å¦‚æœå¯¹æ–¹çŸ³å¤´è¢«æ©¡çš®ç­‹å®Œå…¨åŒ…ä½ï¼ˆä¸ç¢°è¾¹ç•Œï¼‰ï¼Œå°±è¢«æ•è·ã€‚  
> - **æ ¸å¿ƒæ€è·¯**ï¼šé¿å…æšä¸¾æ‰€æœ‰ä¸‰è§’å½¢ï¼ˆO(nÂ³)ä¸å¯è¡Œï¼‰ï¼Œè½¬è€Œè®¡ç®—**ç‚¹åœ¨å‡¸åŒ…å†…çš„ä¸¥æ ¼åŒ…å«å…³ç³»**ï¼ˆå†…éƒ¨â‰ è¾¹ç•Œï¼‰ã€‚  
> - **éš¾ç‚¹çªç ´**ï¼š  
>   - å¦‚ä½•é«˜æ•ˆæ„å»ºå‡¸åŒ…ï¼Ÿï¼ˆAndrew/Grahamç®—æ³•ï¼‰  
>   - å¦‚ä½•äºŒåˆ†åˆ¤æ–­ç‚¹ä¸å‡¸åŒ…çš„ä½ç½®å…³ç³»ï¼Ÿï¼ˆå‰ç§¯æ–¹å‘æ€§ï¼‰  
> - **å¯è§†åŒ–è®¾è®¡**ï¼š  
>   - ç”¨**åƒç´ ç½‘æ ¼**å±•ç¤ºå†°é¢ï¼Œå‡¸åŒ…é¡¶ç‚¹ç”¨è“è‰²æ–¹å—ï¼Œè¢«æ•è·ç‚¹ç”¨é—ªçƒçº¢æ˜Ÿã€‚  
>   - åŠ¨ç”»æ¼”ç¤ºå‰ç§¯åˆ¤æ–­ï¼šå½“ç‚¹ä¸å‡¸åŒ…è¾¹å½¢æˆ**é€†æ—¶é’ˆè§’åº¦**æ—¶è§¦å‘ç»¿è‰²é«˜äº®+â€œå®â€éŸ³æ•ˆï¼Œåä¹‹çº¢è‰²+ä½æ²‰éŸ³æ•ˆã€‚  

---

#### **2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ**  
**é¢˜è§£ï¼ˆæ¥æºï¼šfirst_fanï¼‰**  
* **ç‚¹è¯„**ï¼š  
  æ€è·¯ç›´å‡»æœ¬è´¨â€”â€”ç”¨å‡¸åŒ…æ›¿ä»£ä¸‰è§’å½¢æšä¸¾ï¼Œå¤æ‚åº¦ä»O(nÂ³)ä¼˜åŒ–åˆ°O(n log n)ã€‚ä»£ç ä¸­ï¼š  
  - **å‰ç§¯äºŒåˆ†æ³•**ï¼ˆ`checkå‡½æ•°`ï¼‰é€»è¾‘æ¸…æ™°ï¼Œé€šè¿‡å‘é‡å…³ç³»ç²¾ç¡®å®šä½ç‚¹æ˜¯å¦åœ¨å‡¸åŒ…å†…éƒ¨ã€‚  
  - **è¾¹ç•Œå¤„ç†ä¸¥è°¨**ï¼š`cr1>=0&&cr2<=0`é”å®šæ‰‡å½¢åŒºåŸŸï¼Œ`(bor[mid+1]-bor[mid])*(b-bor[mid])>0`ç¡®ä¿ä¸¥æ ¼å†…éƒ¨ï¼ˆæ’é™¤è¾¹ç•Œï¼‰ã€‚  
  - **å®è·µä»·å€¼é«˜**ï¼šå®Œæ•´åŒ…å«å‡¸åŒ…æ„å»ºï¼ˆAndrewç®—æ³•ï¼‰å’Œé«˜æ•ˆæŸ¥è¯¢ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚  

---

#### **3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥**  
1. **éš¾ç‚¹1ï¼šå‡¸åŒ…æ„å»ºçš„æ­£ç¡®æ€§**  
   * **åˆ†æ**ï¼šå¿…é¡»ä¿è¯å‡¸åŒ…é¡¶ç‚¹æŒ‰**é€†æ—¶é’ˆæ’åº**ï¼ˆAndrewç®—æ³•é¢„å¤„ç†ç‚¹é›†æ’åºï¼‰ï¼Œå¦åˆ™å‰ç§¯åˆ¤æ–­å¤±æ•ˆã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå‡¸åŒ…æ˜¯è®¡ç®—å‡ ä½•çš„åŸºçŸ³ï¼Œéœ€ç†Ÿç»ƒæŒæ¡æ’åº-æ‰«æ-å»é‡æµç¨‹ã€‚  

2. **éš¾ç‚¹2ï¼šç‚¹åœ¨å‡¸åŒ…å†…çš„é«˜æ•ˆåˆ¤å®š**  
   * **åˆ†æ**ï¼šäºŒåˆ†æ³•å°†å‡¸åŒ…è§†ä¸ºæ‰‡å½¢åŒºåŸŸï¼Œé€šè¿‡ä¸¤æ¬¡å‰ç§¯ï¼š  
     - é¦–æ¬¡å®šä½ç‚¹ç›¸å¯¹äºåŸºç‚¹çš„æ–¹ä½ï¼ˆ`cr1`, `cr2`ï¼‰  
     - äºŒæ¬¡éªŒè¯ç‚¹æ˜¯å¦åœ¨å‡¸åŒ…è¾¹çš„å·¦ä¾§ï¼ˆä¸¥æ ¼å†…éƒ¨ï¼‰  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå‰ç§¯çš„æ­£è´Ÿå¯¹åº”å‘é‡æ—‹è½¬æ–¹å‘ï¼Œæ˜¯ä½ç½®åˆ¤å®šçš„æ ¸å¿ƒã€‚  

3. **éš¾ç‚¹3ï¼šè¾¹ç•Œæ¡ä»¶å¤„ç†**  
   * **åˆ†æ**ï¼šé¢˜ç›®è¦æ±‚è¾¹ç•Œç‚¹ä¸è®¡å…¥ï¼Œæ•…å‰ç§¯å¿…é¡»**ä¸¥æ ¼å¤§äº0**ï¼ˆ`>0`è€Œé`>=0`ï¼‰ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå‡ ä½•é—®é¢˜éœ€ç‰¹åˆ«æ³¨æ„ç­‰å·é™·é˜±ï¼  

**âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“**  
- **æ¨¡å‹è½¬æ¢**ï¼šå°†å¤æ‚è¦†ç›–é—®é¢˜æŠ½è±¡ä¸ºå‡¸åŒ…åŒ…å«å…³ç³»ã€‚  
- **å‘é‡å·¥å…·åŒ–**ï¼šå‰ç§¯åˆ¤æ–­æ–¹å‘ï¼Œç‚¹ç§¯è®¡ç®—æŠ•å½±ï¼ˆæœ¬é¢˜æœªç”¨ä½†å¸¸ç”¨ï¼‰ã€‚  
- **é²æ£’æ€§æµ‹è¯•**ï¼šéªŒè¯å‡¸åŒ…é€€åŒ–æƒ…å†µï¼ˆå¦‚æ‰€æœ‰ç‚¹å…±çº¿ï¼‰ã€‚  

---

#### **4. C++æ ¸å¿ƒä»£ç å®ç°èµæ**  
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°**  
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;
typedef long long ll;

struct Point { ll x, y; };
Point operator-(Point a, Point b) { return {a.x-b.x, a.y-b.y}; }
ll cross(Point a, Point b) { return a.x*b.y - a.y*b.x; }

// Andrewç®—æ³•æ„å»ºå‡¸åŒ…ï¼ˆé€†æ—¶é’ˆï¼‰
vector<Point> convexHull(vector<Point> p) {
    sort(p.begin(), p.end(), [](Point a, Point b) {
        return a.x < b.x || (a.x == b.x && a.y < b.y);
    });
    vector<Point> hull;
    for (int i = 0; i < p.size(); i++) {
        while (hull.size() >= 2 && cross(hull.back()-hull[hull.size()-2], p[i]-hull.back()) <= 0)
            hull.pop_back();
        hull.push_back(p[i]);
    }
    return hull;
}

// ä¸¥æ ¼å†…éƒ¨åˆ¤å®šï¼ˆæ ¸å¿ƒï¼ï¼‰
bool inConvex(Point b, vector<Point>& hull) {
    int l = 1, r = hull.size() - 2;
    while (l <= r) {
        int mid = (l + r) / 2;
        ll cr1 = cross(hull[mid] - hull[0], b - hull[0]);
        ll cr2 = cross(hull[mid+1] - hull[0], b - hull[0]);
        if (cr1 >= 0 && cr2 <= 0) 
            return cross(hull[mid+1] - hull[mid], b - hull[mid]) > 0; // ä¸¥æ ¼å†…éƒ¨
        else if (cr1 < 0) r = mid - 1;
        else l = mid + 1;
    }
    return false;
}

int main() {
    int n; cin >> n;
    vector<Point> A(n), B(n);
    for (int i = 0; i < n; i++) cin >> A[i].x >> A[i].y;
    for (int i = 0; i < n; i++) cin >> B[i].x >> B[i].y;

    auto hullA = convexHull(A), hullB = convexHull(B);
    int cntA = 0, cntB = 0;
    for (Point p : B) cntA += inConvex(p, hullA);
    for (Point p : A) cntB += inConvex(p, hullB);
    cout << cntA << " " << cntB;
}
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
1. **å‡¸åŒ…æ„å»º**ï¼š`convexHull`é€šè¿‡æ’åºå’Œå•è°ƒæ ˆç”Ÿæˆé€†æ—¶é’ˆå‡¸åŒ…ã€‚  
2. **å†…éƒ¨åˆ¤å®š**ï¼š`inConvex`ç”¨äºŒåˆ†å’Œå‰ç§¯éªŒè¯ç‚¹æ˜¯å¦ä¸¥æ ¼åœ¨å‡¸åŒ…å†…ã€‚  
3. **ä¸»é€»è¾‘**ï¼šåˆ†åˆ«è®¡ç®—AåŒ…Bå’ŒBåŒ…Açš„ç‚¹æ•°ã€‚  

---

#### **5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º**  
**ğŸ® ä¸»é¢˜**ï¼š*å†°é¢å‡¸åŒ…å¤§ä½œæˆ˜*ï¼ˆ8ä½åƒç´ é£ï¼‰  

**è®¾è®¡æ€è·¯**ï¼š  
- **ç½‘æ ¼åŒ–å†°é¢**ï¼šåæ ‡æ˜ å°„ä¸º16x16åƒç´ æ ¼å­ï¼ŒçŸ³å¤´ç”¨ä¸åŒè‰²å—ï¼ˆè“é˜Ÿ/çº¢é˜Ÿï¼‰ã€‚  
- **å‡¸åŒ…åŠ¨æ€ç”Ÿæˆ**ï¼š  
  - æ„å»ºè¿‡ç¨‹ï¼šé¡¶ç‚¹è¿çº¿çš„åƒç´ è½¨è¿¹ï¼ˆé»„è‰²é—ªçƒï¼‰ï¼Œä¼´éšâ€œè¿æ¥â€éŸ³æ•ˆã€‚  
  - å®Œæˆæ—¶ï¼šå‡¸åŒ…è¾¹ç•Œå˜ä¸ºç»¿è‰²é™æ€çº¿ï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆã€‚  
- **ç‚¹åŒ…å«åˆ¤å®š**ï¼š  
  - æ£€æµ‹ç‚¹ï¼šçº¢è‰²é—ªçƒæ–¹å—ï¼Œç§»åŠ¨æ—¶ç•™ä¸‹çŸ­æš‚å°¾è¿¹ã€‚  
  - å…³é”®å¸§ï¼šè§¦å‘`cross(a,b)>0`æ—¶ï¼Œç‚¹ä¸å‡¸åŒ…è¾¹ä¹‹é—´æ˜¾ç¤º**æ—‹è½¬ç®­å¤´**+é«˜éŸ³â€œå®ï¼â€ã€‚  
- **äº¤äº’æ§åˆ¶**ï¼š  
  - **å•æ­¥æ¨¡å¼**ï¼šæŒ‰ç©ºæ ¼é€æ­¥æ‰§è¡Œå‰ç§¯è®¡ç®—ï¼Œæ˜¾ç¤ºå½“å‰å‘é‡ã€‚  
  - **AIæ¼”ç¤º**ï¼šè‡ªåŠ¨æ’­æ”¾å‡¸åŒ…æ„å»ºå’Œç‚¹æ£€æµ‹ï¼Œé€Ÿåº¦å¯è°ƒï¼ˆå¤å¤æ»‘å—UIï¼‰ã€‚  

---

#### **6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜**  
**ç›¸ä¼¼æŠ€å·§è¿ç§»**ï¼š  
1. **å¤šè¾¹å½¢çš„ç‚¹åŒ…å«åˆ¤å®š**ï¼ˆå¦‚P1355 ç¥ç§˜å¤§ä¸‰è§’ï¼‰  
2. **å‡¸åŒ…æ€§è´¨æ‰©å±•**ï¼ˆå¦‚P2742 å‡¸åŒ…å‘¨é•¿ï¼‰  
3. **å‡ ä½•å…³ç³»ç»„åˆ**ï¼ˆå¦‚P3829 ä¿¡ç”¨å¡å‡¸åŒ…ï¼‰  

**æ´›è°·æ¨è**ï¼š  
1. **P1355**ï¼šå·©å›ºç‚¹åœ¨å¤šè¾¹å½¢å†…çš„å°„çº¿æ³•ã€‚  
2. **P2742**ï¼šå‡¸åŒ…åŸºç¡€åº”ç”¨ï¼Œç†è§£å‘¨é•¿è®¡ç®—ã€‚  
3. **P3829**ï¼šè¿›é˜¶å‡¸åŒ…å˜å½¢ï¼Œç»“åˆæ—‹è½¬ä¸å¹³ç§»ã€‚  

---

#### **7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒ**  
> **ä½œè€…ç»éªŒ**ï¼š*"è¾¹ç•Œç‚¹å¡äº†å¾ˆä¹…ï¼Œæœ€åç”¨`>0`æ›¿ä»£`>=0`æ‰é€šè¿‡"*  
> **Kayæ€»ç»“**ï¼šå‡ ä½•é—®é¢˜ä¸­**ç­‰å·è¾¹ç•Œ**æ˜¯å¸¸è§é™·é˜±ï¼å»ºè®®ï¼š  
> - æµ‹è¯•ç”¨ä¾‹åŠ å…¥è¾¹ç•Œç‚¹ï¼ˆå¦‚å‡¸åŒ…è¾¹ä¸Šçš„ç‚¹ï¼‰  
> - è¾“å‡ºä¸­é—´å˜é‡éªŒè¯å‰ç§¯æ–¹å‘  

--- 

ğŸ’ **Kayç»“è¯­**ï¼šå‡¸åŒ…æ˜¯è®¡ç®—å‡ ä½•çš„ç‘å£«å†›åˆ€ï¼ŒæŒæ¡å®ƒèƒ½é«˜æ•ˆè§£å†³è®¸å¤šè¦†ç›–é—®é¢˜ã€‚è®°ä½ï¼š**å‘é‡å‰ç§¯å®šæ–¹å‘ï¼Œè¾¹ç•Œå¤„ç†è¦å°å¿ƒ**ï¼ä¸‹æ¬¡è§~

---
å¤„ç†ç”¨æ—¶ï¼š130.78ç§’
# é¢˜ç›®ä¿¡æ¯

# [GCJ 2017 Finals] Dice Straight

## é¢˜ç›®æè¿°

ä½ æœ‰ä¸€ç»„ç‰¹æ®Šçš„ $N$ ä¸ªå…­é¢éª°å­ï¼Œæ¯ä¸ªéª°å­çš„å…­ä¸ªé¢ä¸Šéƒ½æ ‡æœ‰å…­ä¸ªä¸åŒçš„æ­£æ•´æ•°ã€‚ä¸åŒçš„éª°å­ï¼Œå…¶é¢ä¸Šçš„æ•°å­—ç¼–å·å¯èƒ½ä¸åŒã€‚

ä½ å¸Œæœ›å°†éƒ¨åˆ†æˆ–å…¨éƒ¨éª°å­æ’æˆä¸€æ’ï¼Œä½¿å¾—å®ƒä»¬æœä¸Šçš„é¢æ‰€æ˜¾ç¤ºçš„æ•°å­—èƒ½å¤Ÿç»„æˆä¸€ä¸ªé¡ºå­ï¼ˆå³è¿™äº›æ•°å­—æ˜¯è¿ç»­çš„æ•´æ•°ï¼‰ã€‚å¯¹äºæ¯ä¸ªéª°å­ï¼Œä½ å¯ä»¥è‡ªç”±é€‰æ‹©å“ªä¸€é¢æœä¸Šã€‚

ä½ èƒ½ç»„æˆçš„æœ€é•¿é¡ºå­çš„é•¿åº¦æ˜¯å¤šå°‘ï¼Ÿ

## è¯´æ˜/æç¤º

**æ ·ä¾‹è§£é‡Š**

åœ¨æ ·ä¾‹ç¬¬ 1 ç»„ä¸­ï¼Œå¯ä»¥é€šè¿‡é€‰å–ç¬¬ 4 ä¸ªéª°å­çš„ $2$ï¼Œç¬¬ 3 ä¸ªéª°å­çš„ $3$ï¼Œç¬¬ 1 ä¸ªéª°å­çš„ $4$ï¼Œä»¥åŠç¬¬ 2 ä¸ªéª°å­çš„ $5$ï¼Œç»„æˆä¸€ä¸ªé•¿åº¦ä¸º $4$ çš„é¡ºå­ã€‚

åœ¨æ ·ä¾‹ç¬¬ 2 ç»„ä¸­ï¼Œæ— æ³•ç»„æˆé•¿åº¦å¤§äº $1$ çš„é¡ºå­ï¼Œåªèƒ½å¾—åˆ°æœ€åŸºæœ¬çš„é•¿åº¦ä¸º $1$ çš„é¡ºå­ã€‚

åœ¨æ ·ä¾‹ç¬¬ 3 ç»„ä¸­ï¼Œå¯ä»¥ä»ä¸€ä¸ªéª°å­é€‰ $1$ï¼Œå¦ä¸€ä¸ªéª°å­é€‰ $2$ï¼Œå†ä»å‰©ä¸‹çš„éª°å­é€‰ $3$ã€‚æ³¨æ„ï¼Œæœ¬ç»„æ•°æ®ä¸­æœ‰å¤šä¸ªéª°å­çš„æ¯ä¸ªé¢ä¸Šçš„æ•°å€¼å®Œå…¨ç›¸åŒã€‚

**é™åˆ¶æ¡ä»¶**

- $1 \leq T \leq 100$ã€‚
- å¯¹äºæ‰€æœ‰ $i, j$ï¼Œæœ‰ $1 \leq D_{ij} \leq 10^6$ã€‚

**å°æ•°æ®é›†ï¼ˆ10 åˆ†ï¼Œæµ‹è¯•é›† 1 - å¯è§ï¼‰**

- æ—¶é—´é™åˆ¶ï¼š~~60~~ 15 ç§’ã€‚
- $1 \leq N \leq 100$ã€‚

**å¤§æ•°æ®é›†ï¼ˆ15 åˆ†ï¼Œæµ‹è¯•é›† 2 - éšè—ï¼‰**

- æ—¶é—´é™åˆ¶ï¼š~~120~~ 30 ç§’ã€‚
- $1 \leq N \leq 50000$ã€‚
- æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ä¸­ $N$ çš„æ€»å’Œ $\leq 200000$ã€‚

ç¿»è¯‘ç”± GPT4.1 å®Œæˆã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
4
4 8 15 16 23 42
8 6 7 5 30 9
1 2 3 4 55 6
2 10 18 36 54 86
2
1 2 3 4 5 6
60 50 40 30 20 10
3
1 2 3 4 5 6
1 2 3 4 5 6
1 4 2 6 5 3```

### è¾“å‡º

```
Case #1: 4
Case #2: 1
Case #3: 3```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[GCJ 2017 Finals] Dice Straight æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

### âœ¨ æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿï¼šè´ªå¿ƒç®—æ³• + æ»‘åŠ¨çª—å£æŠ€å·§  
ï¼ˆæ³¨ï¼šè´ªå¿ƒæ˜¯æ ¸å¿ƒç­–ç•¥ï¼Œæ»‘åŠ¨çª—å£æ˜¯è¾…åŠ©ç»´æŠ¤è¿ç»­åŒºé—´çš„æŠ€å·§ï¼Œç»“åˆä¸¤è€…è§£å†³é—®é¢˜ï¼‰


### ğŸ—£ï¸ åˆæ­¥åˆ†æ  
æˆ‘ä»¬å¯ä»¥æŠŠè¿™é“é¢˜æ¯”ä½œâ€œ**ç»™è¿ç»­çš„æ•°å­—é—¨ç‰Œåˆ†é…ä¸åŒçš„å¿«é€’å‘˜**â€â€”â€”æ¯ä¸ªå¿«é€’å‘˜ï¼ˆéª°å­ï¼‰èƒ½é€å¤šä¸ªé—¨ç‰Œï¼ˆéª°å­çš„å…­ä¸ªé¢ï¼‰ï¼Œä½†æ¯ä¸ªå¿«é€’å‘˜åªèƒ½é€ä¸€ä¸ªé—¨ç‰Œã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°**æœ€é•¿çš„è¿ç»­é—¨ç‰Œåºåˆ—**ï¼Œè®©æ¯ä¸ªé—¨ç‰Œéƒ½æœ‰ä¸“å±å¿«é€’å‘˜ã€‚  

#### æ ¸å¿ƒç®—æ³•æ€è·¯  
1. **é—®é¢˜è½¬åŒ–**ï¼šå°†æ¯ä¸ªéª°å­çš„å…­ä¸ªé¢è§†ä¸ºâ€œèƒ½è¦†ç›–çš„æ•°å­—â€ï¼Œé—®é¢˜è½¬åŒ–ä¸ºï¼šæ‰¾æœ€é•¿çš„è¿ç»­æ•°å­—åŒºé—´ï¼Œæ¯ä¸ªæ•°å­—å¯¹åº”ä¸€ä¸ªæœªè¢«ä½¿ç”¨çš„éª°å­ã€‚  
2. **è´ªå¿ƒç­–ç•¥**ï¼šå¯¹äºè¿ç»­æ•°å­—åŒºé—´ï¼ŒæŒ‰é¡ºåºç»™æ¯ä¸ªæ•°å­—åˆ†é…â€œç¬¬ä¸€ä¸ªå¯ç”¨çš„éª°å­â€ï¼ˆç±»ä¼¼å¿«é€’å‘˜æŠ¢å•ï¼Œå…ˆåˆ°å…ˆå¾—ä½†ä¸é‡å¤ï¼‰ã€‚  
3. **æ»‘åŠ¨çª—å£**ï¼šå°†æ‰€æœ‰æ•°å­—æ’åºå»é‡åï¼Œç”¨æ»‘åŠ¨çª—å£å¿«é€Ÿå®šä½è¿ç»­åŒºé—´ï¼ˆæ¯”å¦‚ä»æ•°å­—`2`åˆ°`5`æ˜¯è¿ç»­çš„ï¼Œè€Œ`2`åˆ°`6`ä¸­é—´ç¼º`4`å°±ä¸è¿ç»­ï¼‰ã€‚  


#### æ ¸å¿ƒéš¾ç‚¹ä¸è§£å†³  
- **éš¾ç‚¹1**ï¼šå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°è¿ç»­æ•°å­—åŒºé—´ï¼Ÿ  
  è§£å†³ï¼šæŠŠæ‰€æœ‰éª°å­çš„é¢æ”¶é›†èµ·æ¥ï¼Œæ’åºå»é‡ï¼Œç”¨æ»‘åŠ¨çª—å£â€œæ¡†ä½â€è¿ç»­çš„æ•°å­—ï¼ˆæ¯”å¦‚`S[j] - S[i] + 1 == j - i + 1`æ—¶ï¼ŒåŒºé—´`[i,j]`å†…çš„æ•°å­—æ˜¯è¿ç»­çš„ï¼‰ã€‚  

- **éš¾ç‚¹2**ï¼šå¦‚ä½•é«˜æ•ˆåˆ†é…éª°å­ï¼Œç¡®ä¿ä¸é‡å¤ï¼Ÿ  
  è§£å†³ï¼šç”¨**é˜Ÿåˆ—**ç»´æŠ¤æ¯ä¸ªæ•°å­—çš„å¯ç”¨éª°å­ï¼ˆæ¯”å¦‚æ•°å­—`3`çš„é˜Ÿåˆ—é‡Œæ˜¯æ‰€æœ‰æœ‰`3`è¿™ä¸ªé¢çš„éª°å­ï¼‰ã€‚åˆ†é…æ—¶å–é˜Ÿåˆ—å¤´çš„éª°å­ï¼Œç”¨å®Œæ ‡è®°ä¸ºâ€œå·²ç”¨â€ï¼›éœ€è¦é‡Šæ”¾æ—¶ï¼ŒæŠŠéª°å­é‡æ–°æ”¾å›å®ƒæ‰€æœ‰èƒ½è¦†ç›–çš„æ•°å­—çš„é˜Ÿåˆ—é‡Œã€‚  


#### å¯è§†åŒ–è®¾è®¡æ€è·¯  
æˆ‘ä»¬ä¼šåšä¸€ä¸ª**8ä½åƒç´ é£çš„â€œéª°å­å¯»è·¯æ¸¸æˆâ€**ï¼š  
- **åœºæ™¯**ï¼šå±å¹•å·¦ä¾§æ˜¯æ’åºåçš„æ•°å­—ç½‘æ ¼ï¼ˆæ¯ä¸ªæ•°å­—æ˜¯ä¸€ä¸ªåƒç´ å—ï¼‰ï¼Œå³ä¾§æ˜¯â€œå¯ç”¨éª°å­é˜Ÿåˆ—â€ï¼ˆåƒç´ åŒ–çš„éª°å­å›¾æ ‡å †å ï¼‰ã€‚  
- **æ»‘åŠ¨çª—å£**ï¼šç”¨é—ªçƒçš„çº¢è‰²è¾¹æ¡†æ¡†ä½å½“å‰è¿ç»­åŒºé—´ï¼ŒåŒºé—´å†…çš„æ•°å­—ä¼šâ€œå‘å…‰â€ã€‚  
- **åˆ†é…è¿‡ç¨‹**ï¼šç»™æ•°å­—`x`åˆ†é…éª°å­æ—¶ï¼Œéª°å­ä»é˜Ÿåˆ—æ»‘åˆ°æ•°å­—ä¸‹æ–¹ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆï¼›é‡Šæ”¾éª°å­æ—¶ï¼Œéª°å­æ»‘å›é˜Ÿåˆ—ï¼Œä¼´éšâ€œå’”å—’â€å£°ã€‚  
- **èƒœåˆ©æ—¶åˆ»**ï¼šæ‰¾åˆ°æœ€é•¿åŒºé—´æ—¶ï¼Œæ‰€æœ‰æ•°å­—ä¼šä¸€èµ·é—ªçƒï¼Œæ’­æ”¾8ä½é£æ ¼çš„â€œèƒœåˆ©æ—‹å¾‹â€ï¼  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ  
ç”±äºå¾…å¤„ç†å†…å®¹ä¸­**æš‚æ— é¢˜è§£**ï¼ŒKayç»™å¤§å®¶æ•´ç†äº†é€šç”¨çš„å­¦ä¹ å»ºè®®ï¼š  
1. å…ˆå°è¯•**æ‰‹åŠ¨æ¨¡æ‹Ÿå°ä¾‹å­**ï¼ˆæ¯”å¦‚æ ·ä¾‹1ï¼‰ï¼šå†™å‡ºæ¯ä¸ªéª°å­çš„é¢ï¼Œæ‰¾è¿ç»­æ•°å­—ï¼Œæ‰‹åŠ¨åˆ†é…éª°å­ï¼Œç†è§£é—®é¢˜æœ¬è´¨ã€‚  
2. é‡ç‚¹ç»ƒä¹ **æ»‘åŠ¨çª—å£ç»´æŠ¤è¿ç»­åŒºé—´**ï¼šæ¯”å¦‚LeetCodeçš„â€œæœ€é•¿è¿ç»­åºåˆ—â€é—®é¢˜ï¼Œå…ˆæŒæ¡å¦‚ä½•å¿«é€Ÿæ‰¾è¿ç»­æ•°å­—ã€‚  
3. ç»ƒä¹ **è´ªå¿ƒåˆ†é…èµ„æº**ï¼šæ¯”å¦‚â€œä»»åŠ¡è°ƒåº¦â€é—®é¢˜ï¼Œå­¦ä¼šç”¨é˜Ÿåˆ—æˆ–æ ˆç»´æŠ¤å¯ç”¨èµ„æºã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥  

### ğŸ” æ ¸å¿ƒéš¾ç‚¹1ï¼šé—®é¢˜å»ºæ¨¡â€”â€”æŠŠâ€œéª°å­é¡ºå­â€è½¬åŒ–ä¸ºâ€œè¿ç»­åŒºé—´è¦†ç›–â€  
**åˆ†æ**ï¼šå¾ˆå¤šåŒå­¦ä¸€å¼€å§‹ä¼šå›°æƒ‘â€œæ€ä¹ˆæŠŠéª°å­çš„é¢å’Œè¿ç»­æ•°å­—è”ç³»èµ·æ¥â€ã€‚å…¶å®ï¼Œé¢˜ç›®è¦æ±‚çš„â€œé¡ºå­â€å°±æ˜¯**è¿ç»­çš„æ•°å­—åºåˆ—**ï¼Œæ¯ä¸ªæ•°å­—éœ€è¦ä¸€ä¸ªâ€œä¸“å±éª°å­â€ï¼ˆéª°å­çš„é¢åŒ…å«è¯¥æ•°å­—ï¼‰ã€‚  
**è§£å†³**ï¼šæŠŠæ¯ä¸ªéª°å­è§†ä¸ºâ€œèƒ½è¦†ç›–å¤šä¸ªæ•°å­—çš„å·¥å…·â€ï¼Œé—®é¢˜è½¬åŒ–ä¸ºâ€œæ‰¾æœ€é•¿çš„è¿ç»­æ•°å­—åŒºé—´ï¼Œæ¯ä¸ªæ•°å­—æœ‰ä¸€ä¸ªæœªè¢«ä½¿ç”¨çš„å·¥å…·â€ã€‚  


### ğŸ” æ ¸å¿ƒéš¾ç‚¹2ï¼šç»´æŠ¤è¿ç»­æ•°å­—åŒºé—´â€”â€”é¿å…é—æ¼æˆ–é‡å¤  
**åˆ†æ**ï¼šç›´æ¥éå†æ‰€æœ‰å¯èƒ½çš„è¿ç»­åŒºé—´ä¼šè¶…æ—¶ï¼ˆæ¯”å¦‚æ•°å­—èŒƒå›´åˆ°`1e6`ï¼‰ï¼Œå¿…é¡»ç”¨æ›´é«˜æ•ˆçš„æ–¹æ³•ã€‚  
**è§£å†³**ï¼šå°†æ‰€æœ‰æ•°å­—æ’åºå»é‡åï¼Œç”¨æ»‘åŠ¨çª—å£â€œé”å®šâ€è¿ç»­åŒºé—´â€”â€”å½“`S[j] - S[i] + 1 > j - i + 1`æ—¶ï¼Œè¯´æ˜åŒºé—´å†…æœ‰ç¼ºå¤±çš„æ•°å­—ï¼Œéœ€è¦å³ç§»å·¦æŒ‡é’ˆ`i`ï¼Œç›´åˆ°åŒºé—´è¿ç»­ã€‚  


### ğŸ” æ ¸å¿ƒéš¾ç‚¹3ï¼šé«˜æ•ˆåˆ†é…éª°å­â€”â€”ç¡®ä¿ä¸é‡å¤ä¸”é€Ÿåº¦å¿«  
**åˆ†æ**ï¼šå¦‚æœæ¯ä¸ªæ•°å­—éƒ½éå†æ‰€æœ‰å¯èƒ½çš„éª°å­ï¼Œæ—¶é—´ä¼šçˆ†ç‚¸ï¼ˆæ¯”å¦‚`N=5e4`æ—¶ï¼ŒO(NÂ²)çš„å¤æ‚åº¦ä¼šè¶…æ—¶ï¼‰ã€‚  
**è§£å†³**ï¼šç”¨**è´ªå¿ƒ+é˜Ÿåˆ—**ï¼š  
- ç»™æ¯ä¸ªæ•°å­—ç»´æŠ¤ä¸€ä¸ªâ€œå¯ç”¨éª°å­é˜Ÿåˆ—â€ï¼ˆæ¯”å¦‚æ•°å­—`3`çš„é˜Ÿåˆ—æ˜¯`[éª°å­1, éª°å­3]`ï¼‰ã€‚  
- åˆ†é…æ—¶ï¼Œå–é˜Ÿåˆ—å¤´çš„éª°å­ï¼ˆç¬¬ä¸€ä¸ªå¯ç”¨çš„ï¼‰ï¼Œæ ‡è®°ä¸ºâ€œå·²ç”¨â€ã€‚  
- éœ€è¦é‡Šæ”¾éª°å­æ—¶ï¼ŒæŠŠå®ƒæ”¾å›æ‰€æœ‰èƒ½è¦†ç›–çš„æ•°å­—çš„é˜Ÿåˆ—ï¼ˆæ¯”å¦‚éª°å­1æœ‰`2`å’Œ`3`ï¼Œå°±æ”¾å›`2`å’Œ`3`çš„é˜Ÿåˆ—ï¼‰ã€‚  


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
1. **é—®é¢˜è½¬åŒ–**ï¼šæŠŠå®é™…é—®é¢˜æŠ½è±¡æˆâ€œåŒºé—´è¦†ç›–â€æˆ–â€œèµ„æºåˆ†é…â€æ¨¡å‹ï¼ˆæ¯”å¦‚éª°å­â†’èµ„æºï¼Œæ•°å­—â†’ä»»åŠ¡ï¼‰ã€‚  
2. **æ»‘åŠ¨çª—å£**ï¼šå¤„ç†è¿ç»­åŒºé—´é—®é¢˜çš„â€œç¥å™¨â€ï¼Œå°¤å…¶æ˜¯æ’åºåçš„æ•°æ®ã€‚  
3. **é˜Ÿåˆ—ç»´æŠ¤èµ„æº**ï¼šå¿«é€Ÿæ‰¾åˆ°â€œç¬¬ä¸€ä¸ªå¯ç”¨èµ„æºâ€ï¼Œé¿å…é‡å¤éå†ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ  

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
**è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†è´ªå¿ƒç­–ç•¥å’Œæ»‘åŠ¨çª—å£æŠ€å·§ï¼Œæ˜¯è§£å†³æœ¬é¢˜çš„å…¸å‹å®ç°ï¼ˆå¯ç›´æ¥ç”¨äºå°æ•°æ®é›†ï¼Œå¤§æ•°æ®é›†éœ€ä¼˜åŒ–é˜Ÿåˆ—çš„å®ç°ï¼Œæ¯”å¦‚ç”¨`deque`ä»£æ›¿`queue`ï¼‰ã€‚  


```cpp
#include <iostream>
#include <vector>
#include <queue>
#include <algorithm>
#include <unordered_map>
using namespace std;

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    int T;
    cin >> T;
    for (int case_num = 1; case_num <= T; case_num++) {
        int N;
        cin >> N;
        vector<vector<int>> faces(N);  // æ¯ä¸ªéª°å­çš„å…­ä¸ªé¢
        vector<int> all_nums;          // æ‰€æœ‰å‡ºç°è¿‡çš„æ•°å­—
        unordered_map<int, queue<int>> num_dices;  // æ•°å­—â†’å¯ç”¨éª°å­é˜Ÿåˆ—

        for (int d = 0; d < N; d++) {
            faces[d].resize(6);
            for (int i = 0; i < 6; i++) {
                cin >> faces[d][i];
                all_nums.push_back(faces[d][i]);
                num_dices[faces[d][i]].push(d);  // éª°å­dåŠ å…¥æ•°å­—faces[d][i]çš„é˜Ÿåˆ—
            }
        }

        // æ’åº+å»é‡æ‰€æœ‰æ•°å­—
        sort(all_nums.begin(), all_nums.end());
        auto last = unique(all_nums.begin(), all_nums.end());
        all_nums.erase(last, all_nums.end());
        int M = all_nums.size();

        vector<bool> used(N, false);  // æ ‡è®°éª°å­æ˜¯å¦è¢«ä½¿ç”¨
        vector<int> assign(M, -1);    // assign[j]ï¼šall_nums[j]å¯¹åº”çš„éª°å­
        int ans = 0, i = 0;           // iæ˜¯æ»‘åŠ¨çª—å£å·¦æŒ‡é’ˆ

        for (int j = 0; j < M; j++) {
            // æ­¥éª¤1ï¼šç»´æŠ¤æ»‘åŠ¨çª—å£çš„è¿ç»­æ€§ï¼ˆç¡®ä¿åŒºé—´å†…æ•°å­—è¿ç»­ï¼‰
            while (all_nums[j] - all_nums[i] + 1 > j - i + 1) {
                int d = assign[i];
                if (d != -1) {
                    used[d] = false;  // é‡Šæ”¾éª°å­d
                    // æŠŠdæ”¾å›å®ƒæ‰€æœ‰é¢çš„æ•°å­—çš„é˜Ÿåˆ—
                    for (int x : faces[d]) num_dices[x].push(d);
                }
                i++;
            }

            // æ­¥éª¤2ï¼šå°è¯•ç»™all_nums[j]åˆ†é…éª°å­
            int target = all_nums[j];
            bool success = false;
            // ä»targetçš„é˜Ÿåˆ—æ‰¾å¯ç”¨éª°å­
            while (!num_dices[target].empty() && !success) {
                int d = num_dices[target].front();
                num_dices[target].pop();
                if (!used[d]) {
                    used[d] = true;
                    assign[j] = d;
                    success = true;
                }
            }

            // æ­¥éª¤3ï¼šå¦‚æœæ²¡æ‰¾åˆ°ï¼Œé‡Šæ”¾å‰é¢çš„éª°å­å†è¯•
            while (!success && i <= j) {
                int d = assign[i];
                if (d != -1) {
                    used[d] = false;
                    for (int x : faces[d]) num_dices[x].push(d);
                }
                i++;
                // å†æ¬¡å°è¯•æ‰¾targetçš„éª°å­
                while (!num_dices[target].empty() && !success) {
                    int d = num_dices[target].front();
                    num_dices[target].pop();
                    if (!used[d]) {
                        used[d] = true;
                        assign[j] = d;
                        success = true;
                    }
                }
            }

            // æ­¥éª¤4ï¼šæ›´æ–°æœ€é•¿é•¿åº¦
            if (success) ans = max(ans, j - i + 1);
        }

        cout << "Case #" << case_num << ": " << ans << endl;
    }
    return 0;
}
```


### ä»£ç è§£è¯»æ¦‚è¦  
1. **é¢„å¤„ç†**ï¼šè¯»å–æ¯ä¸ªéª°å­çš„å…­ä¸ªé¢ï¼Œæ”¶é›†æ‰€æœ‰æ•°å­—å¹¶æ’åºå»é‡ã€‚  
2. **æ»‘åŠ¨çª—å£**ï¼šç”¨`i`å’Œ`j`æ¡†ä½è¿ç»­æ•°å­—åŒºé—´ï¼Œ`i`æ˜¯å·¦è¾¹ç•Œï¼Œ`j`æ˜¯å³è¾¹ç•Œã€‚  
3. **åˆ†é…éª°å­**ï¼šç»™æ¯ä¸ªæ•°å­—`all_nums[j]`æ‰¾ç¬¬ä¸€ä¸ªå¯ç”¨çš„éª°å­ï¼ˆä»é˜Ÿåˆ—å–ï¼‰ï¼Œæ‰¾ä¸åˆ°å°±é‡Šæ”¾å‰é¢çš„éª°å­å†è¯•ã€‚  
4. **æ›´æ–°ç»“æœ**ï¼šæ¯æ¬¡æˆåŠŸåˆ†é…åï¼Œè®¡ç®—å½“å‰è¿ç»­åŒºé—´çš„é•¿åº¦ï¼Œæ›´æ–°æœ€é•¿å€¼ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤ºï¼ˆæ ¸å¿ƒéƒ¨åˆ†ï¼‰  

### ğŸ® åŠ¨ç”»ä¸»é¢˜ï¼šåƒç´ éª°å­å¯»è·¯å¤§å†’é™©  
æˆ‘ä»¬ä¼šåšä¸€ä¸ª**çº¯HTML+CSS+JSçš„8ä½åƒç´ åŠ¨ç”»**ï¼Œæ¨¡æ‹Ÿè´ªå¿ƒ+æ»‘åŠ¨çª—å£çš„è¿‡ç¨‹ï¼Œåƒç©FCæ¸¸æˆä¸€æ ·å­¦ç®—æ³•ï¼  


### ğŸ¨ è®¾è®¡æ€è·¯  
ç”¨å¤å¤åƒç´ é£é™ä½å­¦ä¹ å‹åŠ›ï¼Œç”¨éŸ³æ•ˆå’ŒåŠ¨ç”»å¼ºåŒ–è®°å¿†ï¼š  
- **8ä½åƒç´ é£æ ¼**ï¼šæ‰€æœ‰å…ƒç´ ï¼ˆæ•°å­—ã€éª°å­ã€æŒ‰é’®ï¼‰éƒ½æ˜¯16x16çš„åƒç´ å—ï¼Œé¢œè‰²ç”¨ç»å…¸çš„â€œçº¢ç™½æœº paletteâ€ï¼ˆæ¯”å¦‚æ•°å­—ç”¨é»„è‰²ï¼Œéª°å­ç”¨è“è‰²ï¼‰ã€‚  
- **éŸ³æ•ˆåé¦ˆ**ï¼šåˆ†é…éª°å­æ—¶â€œå®â€ä¸€å£°ï¼Œé‡Šæ”¾æ—¶â€œå’”å—’â€ä¸€å£°ï¼Œæ‰¾åˆ°æœ€é•¿åŒºé—´æ—¶æ’­æ”¾â€œèƒœåˆ©éŸ³æ•ˆâ€ï¼ˆç±»ä¼¼ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹è¿‡å…³å£°ï¼‰ã€‚  
- **æ¸¸æˆåŒ–äº¤äº’**ï¼šè®¾ç½®â€œå•æ­¥æ‰§è¡Œâ€ï¼ˆç‚¹å‡»ä¸€æ¬¡èµ°ä¸€æ­¥ï¼‰ã€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆåƒAIç©è´ªåƒè›‡ä¸€æ ·è‡ªåŠ¨æ‰¾æœ€é•¿åŒºé—´ï¼‰ï¼Œè¿˜æœ‰â€œé€Ÿåº¦æ»‘å—â€è°ƒæ•´åŠ¨ç”»å¿«æ…¢ã€‚  


### ğŸ•¹ï¸ åŠ¨ç”»å¸§æ­¥éª¤  
1. **åˆå§‹åŒ–åœºæ™¯**ï¼š  
   - å±å¹•å·¦ä¾§æ˜¯æ’åºåçš„æ•°å­—ç½‘æ ¼ï¼ˆæ¯”å¦‚`2`ã€`3`ã€`4`ã€`5`æ˜¯è¿ç»­çš„ï¼Œç”¨ç»¿è‰²æ¡†æ¡†ä½ï¼‰ã€‚  
   - å³ä¾§æ˜¯â€œå¯ç”¨éª°å­é˜Ÿåˆ—â€ï¼ˆè“è‰²éª°å­å›¾æ ‡å †å ï¼‰ï¼Œä¸‹æ–¹æ˜¯â€œæ§åˆ¶é¢æ¿â€ï¼ˆå¼€å§‹/æš‚åœã€å•æ­¥ã€é‡ç½®æŒ‰é’®ï¼‰ã€‚  
   - æ’­æ”¾8ä½é£æ ¼çš„BGMï¼ˆå¾ªç¯çš„è½»å¿«æ—‹å¾‹ï¼‰ã€‚  

2. **æ»‘åŠ¨çª—å£ç§»åŠ¨**ï¼š  
   - å³æŒ‡é’ˆ`j`å‘å³ç§»åŠ¨ï¼Œæ¡†ä½æ•°å­—`5`ï¼Œæ£€æŸ¥æ˜¯å¦è¿ç»­ï¼ˆ`5 - 2 + 1 == 4 - 0 + 1`ï¼Œæ˜¯çš„ï¼‰ã€‚  
   - æ•°å­—`5`çš„é˜Ÿåˆ—é‡Œå¼¹å‡ºä¸€ä¸ªéª°å­ï¼ˆæ¯”å¦‚éª°å­2ï¼‰ï¼Œéª°å­ä»é˜Ÿåˆ—æ»‘åˆ°æ•°å­—`5`ä¸‹æ–¹ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆï¼Œéª°å­å˜ä¸ºçº¢è‰²ï¼ˆæ ‡è®°ä¸ºå·²ç”¨ï¼‰ã€‚  

3. **é‡Šæ”¾éª°å­**ï¼š  
   - å½“æ•°å­—`6`çš„é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œå·¦æŒ‡é’ˆ`i`å‘å³ç§»åŠ¨ï¼Œé‡Šæ”¾æ•°å­—`2`çš„éª°å­ï¼ˆéª°å­1ï¼‰ï¼Œéª°å­æ»‘å›é˜Ÿåˆ—ï¼Œå˜ä¸ºè“è‰²ï¼Œä¼´éšâ€œå’”å—’â€å£°ã€‚  

4. **èƒœåˆ©æ—¶åˆ»**ï¼š  
   - å½“æ‰¾åˆ°æœ€é•¿åŒºé—´ï¼ˆæ¯”å¦‚`2-5`ï¼‰æ—¶ï¼Œæ‰€æœ‰æ•°å­—åŒæ—¶é—ªçƒï¼Œæ’­æ”¾â€œèƒœåˆ©éŸ³æ•ˆâ€ï¼Œå±å¹•ä¸Šæ–¹å¼¹å‡ºâ€œæœ€é•¿é¡ºå­ï¼š4â€çš„åƒç´ æ–‡å­—ï¼  


### ğŸ› ï¸ æŠ€æœ¯å®ç°  
- **Canvasç»˜åˆ¶**ï¼šç”¨JSçš„Canvas APIç”»åƒç´ å—å’Œéª°å­å›¾æ ‡ã€‚  
- **éŸ³æ•ˆ**ï¼šç”¨Web Audio APIæ’­æ”¾8ä½éŸ³æ•ˆï¼ˆæ¯”å¦‚`ding.wav`ã€`click.wav`ï¼‰ã€‚  
- **äº¤äº’**ï¼šæŒ‰é’®ç»‘å®šJSäº‹ä»¶ï¼Œå•æ­¥æ‰§è¡Œæ—¶è°ƒç”¨`nextStep()`å‡½æ•°ï¼Œè‡ªåŠ¨æ’­æ”¾æ—¶ç”¨`setInterval()`å®šæ—¶æ‰§è¡Œã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ  

### ğŸ” é€šç”¨æ€è·¯è¿ç§»  
æœ¬é¢˜çš„â€œè´ªå¿ƒ+æ»‘åŠ¨çª—å£â€ç­–ç•¥å¯ä»¥è§£å†³**æ‰€æœ‰â€œè¿ç»­åŒºé—´+èµ„æºåˆ†é…â€é—®é¢˜**ï¼Œæ¯”å¦‚ï¼š  
- ç»™è¿ç»­çš„ä»»åŠ¡åˆ†é…ä¸åŒçš„å·¥äººï¼ˆæ¯ä¸ªå·¥äººä¼šåšå¤šä¸ªä»»åŠ¡ï¼‰ã€‚  
- æ‰¾æœ€é•¿çš„è¿ç»­æ—¥æœŸï¼Œæ¯å¤©æœ‰ä¸€ä¸ªæœªè¢«ä½¿ç”¨çš„ä¼šè®®å®¤ï¼ˆæ¯ä¸ªä¼šè®®å®¤å¯é¢„çº¦å¤šä¸ªæ—¥æœŸï¼‰ã€‚  


### ğŸ“š ç›¸ä¼¼ç»ƒä¹ æ¨èï¼ˆæ´›è°·ï¼‰  
1. **æ´›è°· P1102** - æ•°çš„è®¡ç®—  
   æ¨èç†ç”±ï¼šç»ƒä¹ â€œè¿ç»­åŒºé—´çš„åŠ¨æ€è§„åˆ’â€ï¼ŒåŸ¹å…»é—®é¢˜è½¬åŒ–èƒ½åŠ›ã€‚  

2. **æ´›è°· P2824** - æ’åº  
   æ¨èç†ç”±ï¼šç»ƒä¹ â€œè´ªå¿ƒç­–ç•¥â€ï¼Œç†è§£å¦‚ä½•ç”¨â€œå…ˆåˆ°å…ˆå¾—â€çš„æ–¹å¼è§£å†³èµ„æºåˆ†é…é—®é¢˜ã€‚  

3. **æ´›è°· P1803** - å‡Œä¹±çš„yyy / çº¿æ®µè¦†ç›–  
   æ¨èç†ç”±ï¼šç»ƒä¹ â€œæ»‘åŠ¨çª—å£ç»´æŠ¤è¿ç»­åŒºé—´â€ï¼ŒæŒæ¡å¦‚ä½•å¿«é€Ÿå®šä½æœ‰æ•ˆåŒºé—´ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«ï¼ˆè‹¥æœ‰ï¼‰  
æœ¬æ¬¡åˆ†æçš„é¢˜è§£ä¸­**æœªå‘ç°æ˜ç¡®çš„ä½œè€…ä¸ªäººå¿ƒå¾—åˆ†äº«éƒ¨åˆ†**ã€‚  


## ğŸ’ª æ€»ç»“  
è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯â€œ**æŠŠå¤æ‚é—®é¢˜æ‹†æˆä¸¤ä¸ªç®€å•é—®é¢˜**â€â€”â€”å…ˆç”¨æ»‘åŠ¨çª—å£æ‰¾è¿ç»­æ•°å­—ï¼Œå†ç”¨è´ªå¿ƒåˆ†é…éª°å­ã€‚è®°ä½ï¼š**ç¼–ç¨‹çš„æœ¬è´¨æ˜¯â€œæ‹†è§£é—®é¢˜â€**ï¼Œå†éš¾çš„é¢˜ï¼Œæ‹†æˆå°æ­¥éª¤å°±èƒ½è§£å†³ï¼  

ä¸‹æ¬¡é‡åˆ°â€œè¿ç»­åŒºé—´+èµ„æºåˆ†é…â€çš„é—®é¢˜ï¼Œä¸å¦¨æƒ³æƒ³ä»Šå¤©çš„â€œéª°å­å¯»è·¯æ¸¸æˆâ€â€”â€”è´ªå¿ƒæŠ¢å•ï¼Œæ»‘åŠ¨çª—å£æ¡†èŒƒå›´ï¼Œé˜Ÿåˆ—ç»´æŠ¤èµ„æºï¼Œä½ ä¸€å®šèƒ½è§£å†³ï¼  

åŠ æ²¹ï¼Œç¼–ç¨‹è·¯ä¸Šæˆ‘ä»¬ä¸€èµ·æˆé•¿ï¼ğŸ’»âœ¨

---
å¤„ç†ç”¨æ—¶ï¼š212.65ç§’
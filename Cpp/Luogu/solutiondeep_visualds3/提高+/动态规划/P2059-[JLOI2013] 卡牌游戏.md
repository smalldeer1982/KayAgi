# é¢˜ç›®ä¿¡æ¯

# [JLOI2013] å¡ç‰Œæ¸¸æˆ

## é¢˜ç›®æè¿°

$N$ ä¸ªäººåæˆä¸€åœˆç©æ¸¸æˆã€‚ä¸€å¼€å§‹æˆ‘ä»¬æŠŠæ‰€æœ‰ç©å®¶æŒ‰é¡ºæ—¶é’ˆä» $1$ åˆ° $N$ ç¼–å·ã€‚é¦–å…ˆç¬¬ä¸€å›åˆæ˜¯ç©å®¶ $1$ ä½œä¸ºåº„å®¶ã€‚æ¯ä¸ªå›åˆåº„å®¶éƒ½ä¼šéšæœºï¼ˆå³æŒ‰ç›¸ç­‰çš„æ¦‚ç‡ï¼‰ä»å¡ç‰Œå †é‡Œé€‰æ‹©ä¸€å¼ å¡ç‰‡ï¼Œå‡è®¾å¡ç‰‡ä¸Šçš„æ•°å­—ä¸º $X$ï¼Œåˆ™åº„å®¶é¦–å…ˆæŠŠå¡ç‰‡ä¸Šçš„æ•°å­—å‘æ‰€æœ‰ç©å®¶å±•ç¤ºï¼Œç„¶åæŒ‰é¡ºæ—¶é’ˆä»åº„å®¶ä½ç½®æ•°ç¬¬ $X$ ä¸ªäººå°†è¢«å¤„å†³(å³é€€å‡ºæ¸¸æˆ)ã€‚ç„¶åå¡ç‰‡å°†ä¼šè¢«æ”¾å›å¡ç‰Œå †é‡Œå¹¶é‡æ–°æ´—ç‰Œã€‚è¢«å¤„å†³çš„äººæŒ‰é¡ºæ—¶é’ˆçš„ä¸‹ä¸€ä¸ªäººå°†ä¼šä½œä¸ºä¸‹ä¸€è½®çš„åº„å®¶ã€‚é‚£ä¹ˆç»è¿‡ $N-1$ è½®åæœ€ååªä¼šå‰©ä¸‹ä¸€ä¸ªäººï¼Œå³ä¸ºæœ¬æ¬¡æ¸¸æˆçš„èƒœè€…ã€‚ç°åœ¨ä½ é¢„å…ˆçŸ¥é“äº†æ€»å…±æœ‰ $M$ å¼ å¡ç‰‡ï¼Œä¹ŸçŸ¥é“æ¯å¼ å¡ç‰‡ä¸Šçš„æ•°å­—ã€‚ç°åœ¨ä½ éœ€è¦ç¡®å®šæ¯ä¸ªç©å®¶èƒœå‡ºçš„æ¦‚ç‡ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š

ä¾‹å¦‚ä¸€å…±æœ‰ $4$ ä¸ªç©å®¶ï¼Œæœ‰å››å¼ å¡ç‰‡åˆ†åˆ«å†™ç€`3,4,5,6`.

ç¬¬ä¸€å›åˆï¼Œåº„å®¶æ˜¯ç©å®¶ $1$ ï¼Œå‡è®¾ä»–é€‰æ‹©äº†ä¸€å¼ å†™ç€æ•°å­— $5$ çš„å¡ç‰‡ã€‚é‚£ä¹ˆæŒ‰é¡ºæ—¶é’ˆæ•° `1,2,3,4,1`ï¼Œæœ€åç©å®¶ $1$ è¢«è¸¢å‡ºæ¸¸æˆã€‚

ç¬¬äºŒå›åˆï¼Œåº„å®¶å°±æ˜¯ç©å®¶ $1$ çš„ä¸‹ä¸€ä¸ªäººï¼Œå³ç©å®¶ $2$.å‡è®¾ç©å®¶ $2$ è¿™æ¬¡é€‰æ‹©äº†ä¸€å¼ æ•°å­— $6$ï¼Œé‚£ä¹ˆ `2,3,4,2,3,4`ï¼Œç©å®¶ $4$ è¢«è¸¢å‡ºæ¸¸æˆã€‚

ç¬¬ä¸‰å›åˆï¼Œç©å®¶ $2$ å†ä¸€æ¬¡æˆä¸ºåº„å®¶ã€‚å¦‚æœè¿™ä¸€æ¬¡ç©å®¶ $2$ å†æ¬¡é€‰äº† $6$ï¼Œåˆ™ç©å®¶ $3$ è¢«è¸¢å‡ºæ¸¸æˆï¼Œæœ€åçš„èƒœè€…å°±æ˜¯ç©å®¶ $2$ã€‚

## è¯´æ˜/æç¤º

å¯¹äº $30\%$ çš„æ•°æ®ï¼Œæœ‰ $1\le N\le 10$ã€‚

å¯¹äº $50\%$ çš„æ•°æ®ï¼Œæœ‰ $1\le N\le 30$ã€‚

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œæœ‰ $1\le N\le 50$, $1\le M\le 50$, $1\le$ æ¯å¼ å¡ç‰‡ä¸Šçš„æ•°å­— $\le 50$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
5 5
2 3 5 7 11
```

### è¾“å‡º

```
22.72% 17.12% 15.36% 25.44% 19.36%
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
4 4
3 4 5 6```

### è¾“å‡º

```
25.00% 25.00% 25.00% 25.00%```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[JLOI2013] å¡ç‰Œæ¸¸æˆ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæ¦‚ç‡åŠ¨æ€è§„åˆ’ï¼ˆé€†æ¨DPï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è¿™é“é¢˜æ˜¯**çº¦ç‘Ÿå¤«ç¯é—®é¢˜çš„æ¦‚ç‡å˜ç§**â€”â€”nä¸ªäººåæˆä¸€åœˆï¼Œæ¯æ¬¡åº„å®¶æŠ½ç‰Œæ·˜æ±°ç¬¬Xä¸ªäººï¼Œæ±‚æ¯ä¸ªäººæœ€ç»ˆè·èƒœçš„æ¦‚ç‡ã€‚è§£å†³è¿™ç±»é—®é¢˜çš„å…³é”®æ˜¯**é€†æ¨æ¦‚ç‡åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰**ï¼Œç®€å•æ¥è¯´å°±æ˜¯â€œä»ç»“æœå€’æ¨åŸå› â€ï¼šå‡è®¾åªå‰©1ä¸ªäººæ—¶ä»–100%è·èƒœï¼Œç„¶åé€æ­¥æ¨å¯¼å‰©2äººã€3äººâ€¦â€¦ç›´åˆ°näººçš„æƒ…å†µï¼Œè®¡ç®—æ¯ä¸ªäººçš„è·èƒœæ¦‚ç‡ã€‚  

**æ ¸å¿ƒæ€è·¯**ï¼š  
ç”¨`dp[i][j]`è¡¨ç¤º**å‰©ä¸‹iä¸ªäººæ—¶ï¼Œä»åº„å®¶å¼€å§‹æ•°ç¬¬jä¸ªäººçš„è·èƒœæ¦‚ç‡**ï¼ˆé€†æ¨çš„å…³é”®ï¼šä¸å…³å¿ƒå…·ä½“æ˜¯è°ï¼Œåªå…³å¿ƒç›¸å¯¹ä½ç½®ï¼‰ã€‚ä¾‹å¦‚ï¼Œå‰©2äººæ—¶ï¼Œåº„å®¶æ˜¯ç¬¬1ä¸ªï¼ŒæŠ½ç‰Œåæ·˜æ±°ç¬¬Xä¸ªäººï¼Œå‰©ä¸‹çš„äººçš„æ¦‚ç‡å°±ä»â€œå‰©1äººâ€çš„çŠ¶æ€è½¬ç§»è€Œæ¥ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼š  
1. çŠ¶æ€è®¾è®¡ï¼šä¸ºä»€ä¹ˆç”¨é€†æ¨ï¼Ÿå› ä¸ºé¡ºæ¨éœ€è¦è®°å½•æ‰€æœ‰å¯èƒ½çš„å­˜æ´»çŠ¶æ€ï¼Œå¤æ‚åº¦å¤ªé«˜ï¼›é€†æ¨ä»ç¡®å®šçš„ç»ˆæ€ï¼ˆåªå‰©1äººï¼‰å‡ºå‘ï¼Œé€æ­¥æ¨å¯¼ï¼ŒçŠ¶æ€æ›´ç®€æ´ã€‚  
2. ä½ç½®è½¬ç§»ï¼šæ·˜æ±°ä¸€ä¸ªäººåï¼Œå‰©ä¸‹çš„äººçš„ç›¸å¯¹ä½ç½®å¦‚ä½•å¯¹åº”åˆ°ä¸Šä¸€ä¸ªçŠ¶æ€ï¼ˆi-1äººçš„æƒ…å†µï¼‰ï¼Ÿæ¯”å¦‚ï¼Œå‰©iäººæ—¶æ·˜æ±°ç¬¬cä¸ªäººï¼Œé‚£ä¹ˆå‰©i-1äººçš„åº„å®¶æ˜¯c+1ï¼ŒåŸæ¥çš„ç¬¬jä¸ªäººå¯¹åº”çš„i-1ä¸­çš„ä½ç½®éœ€è¦è°ƒæ•´ï¼ˆc>jæ—¶æ˜¯`i-c+j`ï¼Œc<jæ—¶æ˜¯`j-c`ï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºâ€œåœ†åœˆä¸­çš„äººâ€ï¼Œåº„å®¶é«˜äº®ï¼ˆçº¢è‰²ï¼‰ï¼ŒæŠ½ç‰Œæ—¶æ˜¾ç¤ºæ•°å­—ï¼ˆæ¯”å¦‚â€œæŠ½åˆ°3ï¼â€ï¼‰ï¼Œç„¶åä»åº„å®¶å¼€å§‹æ•°ï¼Œæ•°åˆ°çš„äººå˜ç°ï¼ˆæ·˜æ±°ï¼‰ï¼Œä¸‹ä¸€ä¸ªåº„å®¶å˜çº¢ã€‚åŒæ—¶ï¼Œå³ä¾§ç”¨è¿›åº¦æ¡æ˜¾ç¤ºæ¯ä¸ªäººçš„æ¦‚ç‡å˜åŒ–ï¼ˆæ¯”å¦‚â€œç©å®¶1çš„æ¦‚ç‡ä»20%å‡åˆ°25%â€ï¼‰ã€‚åŠ å…¥éŸ³æ•ˆï¼šæŠ½ç‰Œçš„â€œå®â€å£°ã€æ·˜æ±°çš„â€œç °â€å£°ã€èƒœåˆ©çš„â€œå•¦å•¦å•¦â€å£°ï¼Œå¢åŠ è¶£å‘³æ€§ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šå­¦å§”ï¼ˆèµï¼š98ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯**ç‰¹åˆ«æ¸…æ™°**ï¼Œç”¨â€œé€†æ¨â€çš„æ–¹å¼ä»1äººåˆ°näººé€æ­¥æ¨å¯¼ï¼ŒçŠ¶æ€å®šä¹‰`dp[i][j]`ï¼ˆå‰©iäººæ—¶ç¬¬jäººçš„æ¦‚ç‡ï¼‰éå¸¸å‡†ç¡®ã€‚ä»£ç ç®€æ´ï¼Œå¾ªç¯ç»“æ„æ˜äº†ï¼ˆå¤–å±‚æšä¸¾äººæ•°iï¼Œä¸­å±‚æšä¸¾ç‰Œï¼Œå†…å±‚å¤„ç†ä½ç½®è½¬ç§»ï¼‰ï¼Œå˜é‡å`f`ï¼ˆå³dpï¼‰å’Œ`a`ï¼ˆå¡ç‰Œæ•°ç»„ï¼‰å«ä¹‰æ˜ç¡®ã€‚**äº®ç‚¹**ï¼šç”¨â€œä½ç½®è°ƒæ•´â€çš„æ–¹å¼å·§å¦™è½¬ç§»çŠ¶æ€ï¼ˆæ¯”å¦‚`p++`å¾ªç¯å¤„ç†å‰©ä¸‹çš„äººï¼‰ï¼Œé¿å…äº†å¤æ‚çš„æ•°å­¦æ¨å¯¼ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚ä»å®è·µè§’åº¦çœ‹ï¼Œä»£ç å¯ä»¥ç›´æ¥è¿è¡Œï¼Œè¾¹ç•Œå¤„ç†ï¼ˆæ¯”å¦‚`a[k]%i==0`æ—¶å–iï¼‰éå¸¸ä¸¥è°¨ï¼Œæ˜¯å…¥é—¨æ¦‚ç‡DPçš„å¥½ä¾‹å­ã€‚


### é¢˜è§£äºŒï¼šDrinkkkï¼ˆèµï¼š36ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„**çŠ¶æ€è½¬ç§»æ–¹ç¨‹è§£é‡Šå¾—å¾ˆé€å½»**ï¼Œæ˜ç¡®è¯´æ˜äº†`c>j`å’Œ`c<j`æ—¶çš„è½¬ç§»é€»è¾‘ï¼ˆ`i-c+j`å’Œ`j-c`ï¼‰ï¼Œå¸®åŠ©å­¦ä¹ è€…ç†è§£â€œç›¸å¯¹ä½ç½®â€çš„å˜åŒ–ã€‚ä»£ç ç»“æ„ä¸å­¦å§”çš„é¢˜è§£ç±»ä¼¼ï¼Œä½†å¢åŠ äº†å¯¹â€œæ¦‚ç‡ç´¯åŠ â€çš„è§£é‡Šï¼ˆ`f[i][j] += f[i-1][...] / m`ï¼‰ï¼Œè®©å­¦ä¹ è€…æ˜ç™½â€œæ¯ä¸ªç‰Œçš„æ¦‚ç‡æ˜¯1/mâ€ã€‚**äº®ç‚¹**ï¼šå¼•ç”¨äº†å…¶ä»–åšä¸»çš„æ€è·¯ï¼Œè¡¥å……äº†çŠ¶æ€è½¬ç§»çš„ç»†èŠ‚ï¼Œé€‚åˆéœ€è¦æ›´æ·±å…¥ç†è§£çš„å­¦ä¹ è€…ã€‚


### é¢˜è§£ä¸‰ï¼šxyz32768ï¼ˆèµï¼š16ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„ä»£ç **è§„èŒƒæ€§å¾ˆå¼º**ï¼Œå˜é‡å`num`ï¼ˆå¡ç‰Œæ•°ç»„ï¼‰ã€`f`ï¼ˆdpæ•°ç»„ï¼‰ç¬¦åˆå¸¸è§„å‘½åä¹ æƒ¯ï¼Œæ³¨é‡Šç®€æ´ï¼ˆæ¯”å¦‚`d`æ˜¯æ·˜æ±°çš„ä½ç½®ï¼‰ã€‚**äº®ç‚¹**ï¼šç”¨`inline`å‡½æ•°ä¼˜åŒ–è¾“å…¥ï¼Œé€‚åˆç«èµ›åœºæ™¯ï¼›ä»£ç ä¸­çš„å¾ªç¯é¡ºåºï¼ˆiä»2åˆ°nï¼Œjä»1åˆ°iï¼Œkä»1åˆ°mï¼‰ä¸çŠ¶æ€è½¬ç§»çš„é€»è¾‘å®Œå…¨ä¸€è‡´ï¼Œè®©å­¦ä¹ è€…èƒ½æ¸…æ™°çœ‹åˆ°â€œä»i-1åˆ°iâ€çš„æ¨å¯¼è¿‡ç¨‹ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. ä¸ºä»€ä¹ˆç”¨é€†æ¨DPï¼Ÿ  
* **åˆ†æ**ï¼š  
  é¡ºæ¨éœ€è¦è®°å½•â€œå½“å‰å­˜æ´»çš„äººâ€å’Œâ€œå½“å‰åº„å®¶â€ï¼ŒçŠ¶æ€æ•°æ˜¯`2^n * n`ï¼ˆn=50æ—¶å®Œå…¨æ— æ³•å¤„ç†ï¼‰ã€‚è€Œé€†æ¨ä»â€œåªå‰©1äººâ€çš„ç¡®å®šçŠ¶æ€å‡ºå‘ï¼ŒçŠ¶æ€æ•°æ˜¯`n^2`ï¼ˆ50*50=2500ï¼‰ï¼Œå¤æ‚åº¦æä½ã€‚ä¾‹å¦‚ï¼Œå‰©1äººæ—¶`dp[1][1]=1`ï¼Œå‰©2äººæ—¶é€šè¿‡æŠ½ç‰Œç»“æœè½¬ç§»ï¼Œé€æ­¥æ¨å¯¼åˆ°näººã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé€†æ¨æ˜¯è§£å†³â€œæ¦‚ç‡/æœŸæœ›â€é—®é¢˜çš„å¸¸ç”¨æŠ€å·§ï¼Œä»ç¡®å®šçš„ç»ˆæ€å‡ºå‘ï¼Œé€æ­¥æ¨å¯¼åˆå§‹çŠ¶æ€ã€‚


### 2. ä½ç½®è½¬ç§»æ€ä¹ˆå¤„ç†ï¼Ÿ  
* **åˆ†æ**ï¼š  
  å½“å‰©iäººæ—¶ï¼ŒæŠ½ç‰Œæ·˜æ±°ç¬¬`c`ä¸ªäººï¼ˆ`c = a[k]%i`ï¼Œè‹¥ä¸º0åˆ™å–iï¼‰ï¼Œå‰©ä¸‹çš„i-1äººçš„åº„å®¶æ˜¯`c+1`ã€‚åŸæ¥çš„ç¬¬`j`ä¸ªäººå¯¹åº”çš„i-1ä¸­çš„ä½ç½®ï¼š  
  - å¦‚æœ`c > j`ï¼š`j`åœ¨`c`çš„å‰é¢ï¼Œå‰©ä¸‹çš„i-1äººä¸­ï¼Œ`j`çš„ä½ç½®æ˜¯`i - c + j`ï¼ˆæ¯”å¦‚i=3ï¼Œc=2ï¼Œj=1ï¼šå‰©ä¸‹çš„äººæ˜¯1ã€3ï¼Œåº„å®¶æ˜¯3ï¼Œj=1å¯¹åº”çš„ä½ç½®æ˜¯`3-2+1=2`ï¼‰ã€‚  
  - å¦‚æœ`c < j`ï¼š`j`åœ¨`c`çš„åé¢ï¼Œå‰©ä¸‹çš„i-1äººä¸­ï¼Œ`j`çš„ä½ç½®æ˜¯`j - c`ï¼ˆæ¯”å¦‚i=3ï¼Œc=1ï¼Œj=2ï¼šå‰©ä¸‹çš„äººæ˜¯2ã€3ï¼Œåº„å®¶æ˜¯2ï¼Œj=2å¯¹åº”çš„ä½ç½®æ˜¯`2-1=1`ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šä½ç½®è½¬ç§»çš„å…³é”®æ˜¯â€œç›¸å¯¹ä½ç½®â€ï¼Œä¸éœ€è¦å…³å¿ƒå…·ä½“ç¼–å·ï¼Œåªéœ€è¦è®¡ç®—â€œä»æ–°åº„å®¶åˆ°ç›®æ ‡çš„è·ç¦»â€ã€‚


### 3. æ¦‚ç‡æ€ä¹ˆç´¯åŠ ï¼Ÿ  
* **åˆ†æ**ï¼š  
  æ¯ä¸ªç‰Œè¢«æŠ½åˆ°çš„æ¦‚ç‡æ˜¯`1/m`ï¼Œæ‰€ä»¥å¯¹äºæ¯ä¸ªç‰Œï¼Œå°†å¯¹åº”çš„i-1çŠ¶æ€çš„æ¦‚ç‡ä¹˜ä»¥`1/m`ï¼ŒåŠ åˆ°içŠ¶æ€çš„å¯¹åº”ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå‰©iäººæ—¶æŠ½ç‰Œkï¼Œæ·˜æ±°cï¼Œé‚£ä¹ˆ`dp[i][j] += dp[i-1][new_j] / m`ï¼ˆ`new_j`æ˜¯jå¯¹åº”çš„i-1ä¸­çš„ä½ç½®ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ¦‚ç‡ç´¯åŠ çš„æ ¸å¿ƒæ˜¯â€œæ¯ä¸ªé€‰æ‹©çš„æ¦‚ç‡ç›¸ç­‰â€ï¼Œæ‰€ä»¥æ¯ä¸ªç‰Œçš„è´¡çŒ®æ˜¯â€œå¯¹åº”çŠ¶æ€çš„æ¦‚ç‡ä¹˜ä»¥1/mâ€ã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **çŠ¶æ€è®¾è®¡**ï¼šç”¨é€†æ¨DPï¼ŒçŠ¶æ€å®šä¹‰ä¸ºâ€œå‰©iäººæ—¶ç¬¬jäººçš„æ¦‚ç‡â€ï¼Œé¿å…å¤æ‚çš„çŠ¶æ€è®°å½•ã€‚  
- **ä½ç½®è½¬ç§»**ï¼šè®¡ç®—ç›¸å¯¹ä½ç½®ï¼Œç”¨`i-c+j`ï¼ˆc>jï¼‰å’Œ`j-c`ï¼ˆc<jï¼‰å¤„ç†è½¬ç§»ã€‚  
- **æ¦‚ç‡è®¡ç®—**ï¼šæ¯ä¸ªç‰Œçš„æ¦‚ç‡æ˜¯1/mï¼Œç´¯åŠ æ—¶æ³¨æ„é™¤ä»¥mã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆå­¦å§”ã€Drinkkkç­‰ä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œæç‚¼å‡ºæœ€ç®€æ´çš„æ ¸å¿ƒå®ç°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <cstdio>
  using namespace std;

  const int MAXN = 55;
  int n, m;
  int a[MAXN]; // å¡ç‰Œæ•°ç»„
  double dp[MAXN][MAXN]; // dp[i][j]ï¼šå‰©iäººæ—¶ï¼Œä»åº„å®¶æ•°ç¬¬jäººçš„è·èƒœæ¦‚ç‡

  int main() {
      scanf("%d%d", &n, &m);
      for (int i = 1; i <= m; ++i) {
          scanf("%d", &a[i]);
      }

      dp[1][1] = 1.0; // è¾¹ç•Œæ¡ä»¶ï¼šåªå‰©1äººæ—¶ï¼Œç¬¬1äºº100%è·èƒœ

      for (int i = 2; i <= n; ++i) { // ä»2äººæ¨å¯¼åˆ°näºº
          for (int k = 1; k <= m; ++k) { // æšä¸¾æ¯ä¸€å¼ ç‰Œ
              int c = a[k] % i;
              if (c == 0) c = i; // å¤„ç†æ¨¡0çš„æƒ…å†µï¼Œå³æ·˜æ±°ç¬¬iäºº
              int p = c; // æ·˜æ±°çš„ä½ç½®æ˜¯cï¼Œä¸‹ä¸€ä¸ªåº„å®¶æ˜¯c+1
              for (int j = 1; j <= i-1; ++j) { // å‰©ä¸‹çš„i-1äººï¼Œå¯¹åº”i-1çŠ¶æ€çš„jä½ç½®
                  p++;
                  if (p > i) p = 1; // å¾ªç¯åˆ°å¼€å¤´
                  dp[i][p] += dp[i-1][j] / m; // æ¦‚ç‡ç´¯åŠ ï¼Œæ¯ä¸ªç‰Œçš„æ¦‚ç‡æ˜¯1/m
              }
          }
      }

      for (int i = 1; i <= n; ++i) {
          printf("%.2lf%% ", dp[n][i] * 100.0); // è¾“å‡ºç™¾åˆ†æ¯”ï¼Œä¿ç•™ä¸¤ä½å°æ•°
      }
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  ä»£ç åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šè¾“å…¥æ•°æ®ã€é€†æ¨DPã€è¾“å‡ºç»“æœã€‚é€†æ¨éƒ¨åˆ†æ˜¯æ ¸å¿ƒï¼šå¤–å±‚å¾ªç¯æšä¸¾äººæ•°iï¼ˆä»2åˆ°nï¼‰ï¼Œä¸­å±‚æšä¸¾æ¯ä¸€å¼ ç‰Œï¼Œå†…å±‚å¤„ç†ä½ç½®è½¬ç§»ï¼ˆæ·˜æ±°cåï¼Œå‰©ä¸‹çš„i-1äººçš„ä½ç½®å¯¹åº”åˆ°içŠ¶æ€çš„pä½ç½®ï¼‰ï¼Œå¹¶ç´¯åŠ æ¦‚ç‡ã€‚


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### é¢˜è§£ä¸€ï¼ˆå­¦å§”ï¼‰ï¼šä½ç½®è½¬ç§»ç‰‡æ®µ  
* **äº®ç‚¹**ï¼šç”¨`p++`å¾ªç¯å¤„ç†å‰©ä¸‹çš„äººï¼Œç›´è§‚å±•ç¤ºä½ç½®è½¬ç§»ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  for (int k = 1; k <= m; ++k) {
      int p = (a[k] % i == 0) ? i : a[k] % i;
      for (int j = 1; j <= i-1; ++j) {
          p++;
          if (p > i) p = 1;
          f[i][p] += f[i-1][j] / (double)m;
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `p`æ˜¯æ·˜æ±°çš„ä½ç½®ï¼ˆ`a[k]%i`ï¼‰ï¼Œæ¯”å¦‚i=3ï¼Œa[k]=5ï¼Œé‚£ä¹ˆ`p=5%3=2`ï¼ˆæ·˜æ±°ç¬¬2äººï¼‰ã€‚  
  - å¾ªç¯`j=1åˆ°i-1`ï¼šå‰©ä¸‹çš„i-1äººå¯¹åº”i-1çŠ¶æ€çš„jä½ç½®ï¼Œ`p++`è¡¨ç¤ºä¸‹ä¸€ä¸ªåº„å®¶ï¼ˆæ·˜æ±°è€…çš„ä¸‹ä¸€ä¸ªï¼‰ï¼Œç„¶å`p`å°±æ˜¯içŠ¶æ€ä¸­å¯¹åº”çš„ä½ç½®ï¼Œå°†i-1çŠ¶æ€çš„jä½ç½®çš„æ¦‚ç‡ä¹˜ä»¥1/mï¼ŒåŠ åˆ°içŠ¶æ€çš„pä½ç½®ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`p++`å¾ªç¯æ˜¯å¤„ç†ä½ç½®è½¬ç§»çš„å·§å¦™æ–¹æ³•ï¼Œé¿å…äº†å¤æ‚çš„æ•°å­¦è®¡ç®—ã€‚


#### é¢˜è§£äºŒï¼ˆDrinkkkï¼‰ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹ç‰‡æ®µ  
* **äº®ç‚¹**ï¼šæ˜ç¡®åŒºåˆ†`c>j`å’Œ`c<j`çš„æƒ…å†µï¼Œè§£é‡Šè½¬ç§»é€»è¾‘ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  for (int j = 1; j <= i; ++j) {
      for (int k = 1; k <= m; ++k) {
          int c = (a[k]%i != 0) ? (a[k]%i) : i;
          if (c > j) {
              f[i][j] += f[i-1][i-c+j] / m;
          } else if (c < j) {
              f[i][j] += f[i-1][j-c] / m;
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `c`æ˜¯æ·˜æ±°çš„ä½ç½®ï¼Œ`j`æ˜¯å½“å‰içŠ¶æ€ä¸­çš„ä½ç½®ã€‚  
  - å½“`c > j`ï¼š`j`åœ¨`c`å‰é¢ï¼Œå¯¹åº”çš„i-1çŠ¶æ€çš„ä½ç½®æ˜¯`i - c + j`ï¼ˆæ¯”å¦‚i=3ï¼Œc=2ï¼Œj=1ï¼š`3-2+1=2`ï¼‰ã€‚  
  - å½“`c < j`ï¼š`j`åœ¨`c`åé¢ï¼Œå¯¹åº”çš„i-1çŠ¶æ€çš„ä½ç½®æ˜¯`j - c`ï¼ˆæ¯”å¦‚i=3ï¼Œc=1ï¼Œj=2ï¼š`2-1=1`ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„å…³é”®æ˜¯â€œæ‰¾åˆ°içŠ¶æ€å’Œi-1çŠ¶æ€çš„å¯¹åº”å…³ç³»â€ï¼Œè¿™éœ€è¦ç†è§£â€œç›¸å¯¹ä½ç½®â€çš„å˜åŒ–ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜  
**ã€Šåƒç´ å¡ç‰Œæ¸¸æˆï¼šçº¦ç‘Ÿå¤«ç¯å¤§æŒ‘æˆ˜ã€‹**ï¼ˆ8ä½åƒç´ é£æ ¼ï¼Œä»¿FCçº¢ç™½æœºï¼‰


### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
1. **åˆå§‹åœºæ™¯**ï¼šå±å¹•ä¸­é—´æ˜¯ä¸€ä¸ªåœ†åœˆï¼Œé‡Œé¢æœ‰nä¸ªåƒç´ äººï¼ˆç¼–å·1~nï¼‰ï¼Œåº„å®¶æ˜¯1å·ï¼ˆçº¢è‰²ï¼‰ï¼Œå…¶ä»–æ˜¯è“è‰²ã€‚å±å¹•ä¸Šæ–¹æ˜¾ç¤ºâ€œå½“å‰äººæ•°ï¼šnâ€ï¼Œå³ä¾§æ˜¾ç¤ºæ¯ä¸ªäººçš„æ¦‚ç‡ï¼ˆè¿›åº¦æ¡+æ•°å­—ï¼‰ã€‚  
2. **æŠ½ç‰Œç¯èŠ‚**ï¼šç‚¹å‡»â€œæŠ½ç‰Œâ€æŒ‰é’®ï¼Œå±å¹•ä¸Šæ–¹å¼¹å‡ºâ€œæŠ½åˆ°Xï¼â€ï¼ˆXæ˜¯å¡ç‰Œæ•°å­—ï¼‰ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆã€‚  
3. **æ·˜æ±°ç¯èŠ‚**ï¼šä»åº„å®¶å¼€å§‹ï¼Œé¡ºæ—¶é’ˆæ•°Xä¸ªäººï¼Œæ•°åˆ°çš„äººå˜ç°ï¼ˆæ·˜æ±°ï¼‰ï¼Œä¼´éšâ€œç °â€çš„éŸ³æ•ˆã€‚  
4. **æ›´æ–°åº„å®¶**ï¼šæ·˜æ±°è€…çš„ä¸‹ä¸€ä¸ªäººå˜æˆçº¢è‰²ï¼ˆæ–°åº„å®¶ï¼‰ï¼Œå±å¹•ä¸Šæ–¹æ˜¾ç¤ºâ€œå½“å‰äººæ•°ï¼šn-1â€ã€‚  
5. **æ¦‚ç‡æ›´æ–°**ï¼šå³ä¾§è¿›åº¦æ¡å®æ—¶æ›´æ–°æ¯ä¸ªäººçš„æ¦‚ç‡ï¼ˆæ¯”å¦‚â€œç©å®¶1çš„æ¦‚ç‡ä»20%å‡åˆ°25%â€ï¼‰ã€‚  
6. **èƒœåˆ©ç¯èŠ‚**ï¼šå½“åªå‰©1äººæ—¶ï¼Œå±å¹•æ˜¾ç¤ºâ€œèƒœåˆ©è€…ï¼šXå·ï¼â€ï¼Œä¼´éšâ€œå•¦å•¦å•¦â€çš„èƒœåˆ©éŸ³æ•ˆï¼Œè¿›åº¦æ¡æ»¡æ ¼ã€‚


### äº¤äº’ä¸æ§åˆ¶  
- **æ­¥è¿›æ§åˆ¶**ï¼šâ€œå•æ­¥æ‰§è¡Œâ€ï¼ˆæ¯ç‚¹å‡»ä¸€æ¬¡èµ°ä¸€æ­¥ï¼‰ã€â€œè‡ªåŠ¨æ’­æ”¾â€ï¼ˆå¯è°ƒèŠ‚é€Ÿåº¦ï¼Œæ¯”å¦‚1ç§’/æ­¥ï¼‰ã€‚  
- **åŸºç¡€æ§åˆ¶**ï¼šâ€œå¼€å§‹/æš‚åœâ€ã€â€œé‡ç½®åŠ¨ç”»â€ï¼ˆå›åˆ°åˆå§‹çŠ¶æ€ï¼‰ã€‚  
- **æ¸¸æˆåŒ–å…ƒç´ **ï¼š  
  - **å…³å¡æ¨¡å¼**ï¼šå°†nä»2åˆ°50åˆ†æˆå¤šä¸ªå…³å¡ï¼Œå®Œæˆå…³å¡å¯è·å¾—â€œåƒç´ æ˜Ÿæ˜Ÿâ€å¥–åŠ±ã€‚  
  - **éŸ³æ•ˆè®¾ç½®**ï¼šå¯é€‰æ‹©â€œå¼€å¯/å…³é—­â€éŸ³æ•ˆï¼Œæˆ–åˆ‡æ¢â€œ8ä½é£æ ¼â€/â€œç°ä»£é£æ ¼â€éŸ³æ•ˆã€‚


### è®¾è®¡æ€è·¯  
- **åƒç´ é£æ ¼**ï¼šç”¨ç®€å•çš„æ–¹å—å’Œé¢œè‰²åŒºåˆ†è§’è‰²ï¼ˆçº¢è‰²=åº„å®¶ï¼Œè“è‰²=æ™®é€šç©å®¶ï¼Œç°è‰²=æ·˜æ±°è€…ï¼‰ï¼Œç¬¦åˆé’å°‘å¹´çš„å®¡ç¾ã€‚  
- **éŸ³æ•ˆåé¦ˆ**ï¼šæŠ½ç‰Œã€æ·˜æ±°ã€èƒœåˆ©çš„éŸ³æ•ˆèƒ½å¼ºåŒ–æ“ä½œè®°å¿†ï¼Œè®©å­¦ä¹ è€…æ›´ç›´è§‚åœ°ç†è§£æ¯ä¸€æ­¥çš„ä½œç”¨ã€‚  
- **è¿›åº¦æ¡æ˜¾ç¤º**ï¼šå®æ—¶æ›´æ–°æ¦‚ç‡ï¼Œè®©å­¦ä¹ è€…çœ‹åˆ°â€œæ¦‚ç‡å¦‚ä½•ä»1äººæ¨å¯¼åˆ°näººâ€ï¼ŒåŠ æ·±å¯¹é€†æ¨DPçš„ç†è§£ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
æ¦‚ç‡é€†æ¨DPä¸ä»…èƒ½è§£å†³æœ¬é¢˜ï¼Œè¿˜èƒ½è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š  
1. **çº¦ç‘Ÿå¤«ç¯é—®é¢˜**ï¼ˆæ±‚æœ€åå‰©ä¸‹çš„äººçš„ç¼–å·ï¼‰ï¼šå°†æ¦‚ç‡æ”¹ä¸ºç¡®å®šçš„è½¬ç§»ï¼Œæ¯”å¦‚`f[i] = (f[i-1] + m) % i`ã€‚  
2. **æœŸæœ›é—®é¢˜**ï¼ˆæ±‚å®ŒæˆæŸä»¶äº‹çš„æœŸæœ›æ­¥æ•°ï¼‰ï¼šæ¯”å¦‚â€œæ¯æ¬¡æœ‰pçš„æ¦‚ç‡æˆåŠŸï¼Œæ±‚æˆåŠŸçš„æœŸæœ›æ­¥æ•°â€ï¼Œç”¨é€†æ¨DP`dp[i] = p*1 + (1-p)*(dp[i]+1)`ã€‚  
3. **åšå¼ˆé—®é¢˜**ï¼ˆæ±‚å¿…èƒœç­–ç•¥çš„æ¦‚ç‡ï¼‰ï¼šæ¯”å¦‚â€œä¸¤äººè½®æµæŠ½ç‰Œï¼Œå…ˆæŠ½åˆ°æŸå¼ ç‰Œçš„äººè·èƒœï¼Œæ±‚å…ˆæ‰‹è·èƒœçš„æ¦‚ç‡â€ï¼Œç”¨é€†æ¨DPè®¡ç®—æ¯ä¸ªçŠ¶æ€çš„è·èƒœæ¦‚ç‡ã€‚


### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P1291** - ã€Š[NOIP2004 æé«˜ç»„] ä¼ æŸ“ç—…æ§åˆ¶ã€‹  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”¨é€†æ¨DPè®¡ç®—â€œæ§åˆ¶ä¼ æŸ“ç—…çš„æœ€å°ä»£ä»·â€ï¼ŒçŠ¶æ€è®¾è®¡ä¸æœ¬é¢˜ç±»ä¼¼ï¼Œå¸®åŠ©å·©å›ºé€†æ¨æ€è·¯ã€‚  
2. **æ´›è°· P1850** - ã€Š[NOIP2016 æé«˜ç»„] æ¢æ•™å®¤ã€‹  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯æœŸæœ›DPçš„ç»å…¸é¢˜ï¼Œéœ€è¦è®¡ç®—â€œæ¢æ•™å®¤çš„æœ€å°æœŸæœ›è·ç¦»â€ï¼ŒçŠ¶æ€è½¬ç§»çš„é€»è¾‘ä¸æœ¬é¢˜ä¸€è‡´ï¼Œé€‚åˆæ‹“å±•ã€‚  
3. **æ´›è°· P2059** - ã€Š[JLOI2013] å¡ç‰Œæ¸¸æˆã€‹ï¼ˆåŸé¢˜ï¼‰  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šå†åšä¸€éåŸé¢˜ï¼Œå·©å›ºæœ¬é¢˜çš„æ ¸å¿ƒæ€è·¯ï¼ˆé€†æ¨DPã€ä½ç½®è½¬ç§»ã€æ¦‚ç‡ç´¯åŠ ï¼‰ã€‚  
4. **æ´›è°· P3802** - ã€Š[NOIP2017 æé«˜ç»„] å°å‡¯çš„ç–‘æƒ‘ã€‹  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯æ•°å­¦é¢˜ï¼Œä½†éœ€è¦ç”¨é€†æ¨çš„æ€è·¯æ¨å¯¼â€œæœ€å¤§ä¸èƒ½è¡¨ç¤ºçš„æ•°â€ï¼Œå¸®åŠ©åŸ¹å…»é€†æ¨æ€ç»´ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)  
**å‚è€ƒç»éªŒ (æ¥è‡ªå­¦å§”)**ï¼šâ€œæˆ‘ä¸€å¼€å§‹æƒ³é¡ºæ¨ï¼Œä½†çŠ¶æ€å¤ªå¤šäº†ï¼Œåæ¥çœ‹äº†é¢˜è§£æ‰çŸ¥é“ç”¨é€†æ¨ã€‚é€†æ¨çš„å…³é”®æ˜¯â€˜ä¸å…³å¿ƒå…·ä½“æ˜¯è°ï¼Œåªå…³å¿ƒç›¸å¯¹ä½ç½®â€™ï¼Œè¿™è®©æˆ‘æ˜ç™½äº†çŠ¶æ€è®¾è®¡çš„é‡è¦æ€§ã€‚â€  
**ç‚¹è¯„**ï¼šå­¦å§”çš„ç»éªŒå¾ˆå…¸å‹ã€‚é¡ºæ¨å¾€å¾€ä¼šé™·å…¥â€œçŠ¶æ€çˆ†ç‚¸â€çš„å›°å¢ƒï¼Œè€Œé€†æ¨ä»ç¡®å®šçš„ç»ˆæ€å‡ºå‘ï¼ŒçŠ¶æ€æ›´ç®€æ´ã€‚åœ¨è§£å†³æ¦‚ç‡/æœŸæœ›é—®é¢˜æ—¶ï¼Œä¸å¦¨å…ˆæƒ³æƒ³â€œé€†æ¨â€æ˜¯å¦å¯è¡Œã€‚


## ç»“è¯­  
æœ¬æ¬¡å…³äºã€Š[JLOI2013] å¡ç‰Œæ¸¸æˆã€‹çš„åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®åŠ©ä½ ç†è§£æ¦‚ç‡é€†æ¨DPçš„æ ¸å¿ƒæ€è·¯ï¼ŒæŒæ¡â€œçŠ¶æ€è®¾è®¡â€â€œä½ç½®è½¬ç§»â€â€œæ¦‚ç‡ç´¯åŠ â€çš„æŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹çš„å…³é”®æ˜¯â€œæ€è·¯â€ï¼Œå¤šæ€è€ƒâ€œä¸ºä»€ä¹ˆè¿™ä¹ˆåšâ€ï¼Œä½ ä¼šè¿›æ­¥å¾—æ›´å¿«ï¼ğŸ’ª  

ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼

---
å¤„ç†ç”¨æ—¶ï¼š136.03ç§’
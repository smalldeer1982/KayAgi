# é¢˜ç›®ä¿¡æ¯

# [NOIP 2004 æ™®åŠç»„] èŠ±ç”Ÿé‡‡æ‘˜

## é¢˜ç›®æè¿°

é²å®¾é€Šå…ˆç”Ÿæœ‰ä¸€åªå® ç‰©çŒ´ï¼Œåå«å¤šå¤šã€‚è¿™å¤©ï¼Œä»–ä»¬ä¸¤ä¸ªæ­£æ²¿ç€ä¹¡é—´å°è·¯æ•£æ­¥ï¼Œçªç„¶å‘ç°è·¯è¾¹çš„å‘Šç¤ºç‰Œä¸Šè´´ç€ä¸€å¼ å°å°çš„çº¸æ¡ï¼šâ€œæ¬¢è¿å…è´¹å“å°æˆ‘ç§çš„èŠ±ç”Ÿï¼â€•â€•ç†Šå­—â€ã€‚

é²å®¾é€Šå…ˆç”Ÿå’Œå¤šå¤šéƒ½å¾ˆå¼€å¿ƒï¼Œå› ä¸ºèŠ±ç”Ÿæ­£æ˜¯ä»–ä»¬çš„æœ€çˆ±ã€‚åœ¨å‘Šç¤ºç‰ŒèƒŒåï¼Œè·¯è¾¹çœŸçš„æœ‰ä¸€å—èŠ±ç”Ÿç”°ï¼ŒèŠ±ç”Ÿæ¤æ ªæ•´é½åœ°æ’åˆ—æˆçŸ©å½¢ç½‘æ ¼ï¼ˆå¦‚å›¾ä¸€ï¼‰ã€‚æœ‰ç»éªŒçš„å¤šå¤šä¸€çœ¼å°±èƒ½çœ‹å‡ºï¼Œæ¯æ£µèŠ±ç”Ÿæ¤æ ªä¸‹çš„èŠ±ç”Ÿæœ‰å¤šå°‘ã€‚ä¸ºäº†è®­ç»ƒå¤šå¤šçš„ç®—æœ¯ï¼Œé²å®¾é€Šå…ˆç”Ÿè¯´ï¼šâ€œä½ å…ˆæ‰¾å‡ºèŠ±ç”Ÿæœ€å¤šçš„æ¤æ ªï¼Œå»é‡‡æ‘˜å®ƒçš„èŠ±ç”Ÿï¼›ç„¶åå†æ‰¾å‡ºå‰©ä¸‹çš„æ¤æ ªé‡ŒèŠ±ç”Ÿæœ€å¤šçš„ï¼Œå»é‡‡æ‘˜å®ƒçš„èŠ±ç”Ÿï¼›ä¾æ­¤ç±»æ¨ï¼Œä¸è¿‡ä½ ä¸€å®šè¦åœ¨æˆ‘é™å®šçš„æ—¶é—´å†…å›åˆ°è·¯è¾¹ã€‚â€

![](https://cdn.luogu.com.cn/upload/image_hosting/unwk7hd0.png)

æˆ‘ä»¬å‡å®šå¤šå¤šåœ¨æ¯ä¸ªå•ä½æ—¶é—´å†…ï¼Œå¯ä»¥åšä¸‹åˆ—å››ä»¶äº‹æƒ…ä¸­çš„ä¸€ä»¶ï¼š

1) ä»è·¯è¾¹è·³åˆ°æœ€é è¿‘è·¯è¾¹ï¼ˆå³ç¬¬ä¸€è¡Œï¼‰çš„æŸæ£µèŠ±ç”Ÿæ¤æ ªï¼›
2) ä»ä¸€æ£µæ¤æ ªè·³åˆ°å‰åå·¦å³ä¸ä¹‹ç›¸é‚»çš„å¦ä¸€æ£µæ¤æ ªï¼›
3) é‡‡æ‘˜ä¸€æ£µæ¤æ ªä¸‹çš„èŠ±ç”Ÿï¼›
4) ä»æœ€é è¿‘è·¯è¾¹ï¼ˆå³ç¬¬ä¸€è¡Œï¼‰çš„æŸæ£µèŠ±ç”Ÿæ¤æ ªè·³å›è·¯è¾¹ã€‚

ç°åœ¨ç»™å®šä¸€å—èŠ±ç”Ÿç”°çš„å¤§å°å’ŒèŠ±ç”Ÿçš„åˆ†å¸ƒï¼Œè¯·é—®åœ¨é™å®šæ—¶é—´å†…ï¼Œå¤šå¤šæœ€å¤šå¯ä»¥é‡‡åˆ°å¤šå°‘ä¸ªèŠ±ç”Ÿï¼Ÿæ³¨æ„å¯èƒ½åªæœ‰éƒ¨åˆ†æ¤æ ªä¸‹é¢é•¿æœ‰èŠ±ç”Ÿï¼Œå‡è®¾è¿™äº›æ¤æ ªä¸‹çš„èŠ±ç”Ÿä¸ªæ•°å„ä¸ç›¸åŒã€‚

ä¾‹å¦‚åœ¨å›¾2æ‰€ç¤ºçš„èŠ±ç”Ÿç”°é‡Œï¼Œåªæœ‰ä½äº $(2, 5), (3, 7), (4, 2), (5, 4)$ çš„æ¤æ ªä¸‹é•¿æœ‰èŠ±ç”Ÿï¼Œä¸ªæ•°åˆ†åˆ«ä¸º $13, 7, 15, 9$ã€‚æ²¿ç€å›¾ç¤ºçš„è·¯çº¿ï¼Œå¤šå¤šåœ¨ $21$ ä¸ªå•ä½æ—¶é—´å†…ï¼Œæœ€å¤šå¯ä»¥é‡‡åˆ° $37$ ä¸ªèŠ±ç”Ÿã€‚

**æ³¨æ„**ï¼šåœ¨é‡‡æ‘˜è¿‡ç¨‹ä¸­ä¸èƒ½å›åˆ°è·¯è¾¹ã€‚

## è¯´æ˜/æç¤º

noip2004æ™®åŠç»„ç¬¬2é¢˜


## æ ·ä¾‹ #1

### è¾“å…¥

```
6 7 21
0 0 0 0 0 0 0
0 0 0 0 13 0 0
0 0 0 0 0 0 7
0 15 0 0 0 0 0
0 0 0 9 0 0 0
0 0 0 0 0 0 0```

### è¾“å‡º

```
37```

## æ ·ä¾‹ #2

### è¾“å…¥

```
6 7 20
0 0 0 0 0 0 0
0 0 0 0 13 0 0
0 0 0 0 0 0 7
0 15 0 0 0 0 0
0 0 0 9 0 0 0
0 0 0 0 0 0 0
```

### è¾“å‡º

```
28```

# AIåˆ†æç»“æœ


# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šèŠ±ç”Ÿé‡‡æ‘˜ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> "ç¼–ç¨‹å°±åƒæ¢é™©ï¼Œç®—æ³•æ˜¯ä½ çš„åœ°å›¾ï¼Œè€Œé€»è¾‘æ˜¯ä½ çš„æŒ‡å—é’ˆã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†åœ¨èŠ±ç”Ÿç”°é‡Œæ¥ä¸€åœºæ™ºæ…§å†’é™©ï¼" â€”â€” Kay

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`è´ªå¿ƒç­–ç•¥` + `æ¨¡æ‹Ÿæ‰§è¡Œ` + `æ›¼å“ˆé¡¿è·ç¦»è®¡ç®—`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³"èŠ±ç”Ÿé‡‡æ‘˜"è¿™é“é¢˜ï¼Œå…³é”®åœ¨äºç†è§£**è´ªå¿ƒç­–ç•¥çš„è¿ç”¨**ã€‚å°±åƒåœ¨å¯»å®æ¸¸æˆä¸­æ€»æ˜¯ä¼˜å…ˆæ‹¿æœ€å¤§çš„å®çŸ³ä¸€æ ·ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½é‡‡æ‘˜å½“å‰æœ€å¤§çš„èŠ±ç”Ÿæ¤æ ªã€‚åœ¨æœ¬é¢˜ä¸­ï¼Œè´ªå¿ƒç­–ç•¥ä¸»è¦ä½“ç°åœ¨ï¼š
> - å°†æ‰€æœ‰èŠ±ç”Ÿæ¤æ ªæŒ‰æ•°é‡**é™åºæ’åº**ï¼Œç¡®ä¿ä¼˜å…ˆé‡‡æ‘˜æœ€å¤§å€¼
> - ä½¿ç”¨**æ›¼å“ˆé¡¿è·ç¦»**ï¼ˆ|Î”x| + |Î”y|ï¼‰è®¡ç®—ç§»åŠ¨æ—¶é—´ï¼Œè¿™æ˜¯ç½‘æ ¼ç§»åŠ¨çš„æœ€ä¼˜è·¯å¾„
> - é€šè¿‡**æ—¶é—´æ¨¡æ‹Ÿ**åˆ¤æ–­æ˜¯å¦èƒ½é‡‡æ‘˜å¹¶å®‰å…¨è¿”å›
> 
> **å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼šæˆ‘ä»¬å°†è®¾è®¡ä¸€ä¸ª8ä½åƒç´ é£æ ¼çš„æ¢é™©åŠ¨ç”»ã€‚å¤šå¤šå°†åŒ–èº«åƒç´ å°äººï¼Œåœ¨ç½‘æ ¼ç”°åœ°ä¸­ç§»åŠ¨ã€‚å…³é”®å…ƒç´ åŒ…æ‹¬ï¼š
> - é«˜äº®æ˜¾ç¤ºå½“å‰æœ€å¤§èŠ±ç”Ÿæ¤æ ªï¼ˆé—ªçƒé‡‘è‰²ï¼‰
> - å®æ—¶æ˜¾ç¤ºå‰©ä½™æ—¶é—´å’Œå·²å¾—èŠ±ç”Ÿæ•°ï¼ˆå¤å¤æ•°å­—æ˜¾ç¤ºï¼‰
> - ç§»åŠ¨è·¯å¾„ç”¨åƒç´ è½¨è¿¹å±•ç¤ºï¼Œé…åˆ"æ»´ç­”"éŸ³æ•ˆ
> - é‡‡æ‘˜æˆåŠŸæ—¶æ’­æ”¾8-bitèƒœåˆ©éŸ³æ•ˆï¼Œè¶…æ—¶åˆ™æ˜¾ç¤º"GAME OVER"
> - æ§åˆ¶é¢æ¿æ”¯æŒå•æ­¥æ‰§è¡Œ/è‡ªåŠ¨æ’­æ”¾ï¼Œé€Ÿåº¦å¯è°ƒ

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼šjiangXxinï¼ˆèµ175ï¼‰**
* **ç‚¹è¯„**ï¼šæ­¤è§£æ³•æ€è·¯æ¸…æ™°ç›´ç™½ï¼Œå®Œç¾ä½“ç°äº†é¢˜ç›®çš„è´ªå¿ƒæœ¬è´¨ã€‚ä»£ç ç»“æ„è§„èŒƒï¼Œä½¿ç”¨ç»“æ„ä½“å­˜å‚¨èŠ±ç”Ÿä½ç½®ï¼Œé€šè¿‡sorté™åºæ’åºå®ç°è´ªå¿ƒé€‰æ‹©ã€‚äº®ç‚¹åœ¨äºå·§å¦™åˆ©ç”¨æ›¼å“ˆé¡¿è·ç¦»è®¡ç®—ç§»åŠ¨æ—¶é—´ï¼Œå¹¶ç”¨k>=exåˆ¤æ–­èƒ½å¦å®‰å…¨è¿”å›ã€‚è¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼Œå˜é‡å‘½ååˆç†ï¼ˆå¦‚fx/fyè¡¨ç¤ºå½“å‰ä½ç½®ï¼‰ï¼Œå®è·µä»·å€¼æé«˜ã€‚ä½œè€…æåˆ°"æ›¼å“ˆé¡¿æ˜¯ä¸ªå¥½ä¸œè¥¿"çš„å¿ƒå¾—ï¼Œç¡®å®ç‚¹å‡ºäº†æœ¬é¢˜çš„å…³é”®æŠ€å·§ã€‚

**é¢˜è§£äºŒï¼š_Arahc_ï¼ˆèµ28ï¼‰**
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§åœ°ä½¿ç”¨priority_queueå’Œmapæ›¿ä»£ä¼ ç»Ÿæ’åºï¼Œå±•ç¤ºäº†STLçš„é«˜çº§åº”ç”¨ã€‚äº®ç‚¹åœ¨äºO(1)æ—¶é—´è·å–æœ€å¤§èŠ±ç”Ÿä½ç½®ï¼Œé¿å…äº†å…¨æ’åºå¼€é”€ã€‚ä»£ç ç®€æ´ä½†åŒ…å«æ·±åº¦ä¼˜åŒ–æ€æƒ³ï¼ˆå¦‚whileå¾ªç¯ä¸­çš„æ—¶é—´ç´¯è®¡åˆ¤æ–­ï¼‰ã€‚ç‰¹åˆ«æœ‰ä»·å€¼çš„æ˜¯ä½œè€…è¯¦ç»†åˆ—å‡ºäº†8ä¸ªå¸¸è§å‘ç‚¹ï¼Œå¯¹è°ƒè¯•å¾ˆæœ‰å¸®åŠ©ã€‚ç¨æ˜¾ä¸è¶³æ˜¯å¯¹åˆå­¦è€…å¯èƒ½ä¸å¤Ÿå‹å¥½ã€‚

**é¢˜è§£ä¸‰ï¼šMC_long_liveï¼ˆèµ39ï¼‰**
* **ç‚¹è¯„**ï¼šé‡‡ç”¨ç¨€ç–çŸ©é˜µå­˜å‚¨éé›¶èŠ±ç”Ÿä½ç½®ï¼Œå¤§å¹…ä¼˜åŒ–ç©ºé—´æ•ˆç‡ã€‚äº®ç‚¹åœ¨äºæ¸…æ™°çš„äºŒç»´æ•°ç»„è½¬ä¸€ç»´å­˜å‚¨å¤„ç†ï¼Œä»¥åŠä¸¥è°¨çš„è¾¹ç•Œæ£€æµ‹ï¼ˆå¦‚b[1][1]*2+1åˆ¤æ–­ç¬¬ä¸€æ ªæ˜¯å¦å¯è¾¾ï¼‰ã€‚ä»£ç ä¸­absä½¿ç”¨è§„èŒƒï¼Œé¿å…äº†æ–°æ‰‹å¸¸è§çš„ç¬¦å·é”™è¯¯ã€‚ä½œè€…ç”¨"ç¨€æ¾çŸ©é˜µ"çš„æ¯”å–»å¸®åŠ©ç†è§£æ•°æ®å­˜å‚¨ï¼Œæ•™å­¦æ€§å¼ºã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1.  **è´ªå¿ƒç­–ç•¥çš„æ­£ç¡®æ€§è¯æ˜**  
    * **åˆ†æ**ï¼šä¸ºä»€ä¹ˆæ¯æ¬¡å–æœ€å¤§å€¼æœ€ä¼˜ï¼Ÿå‡è®¾æœ‰æ›´å¤§èŠ±ç”Ÿæœªè¢«é‡‡æ‘˜ï¼Œé‚£ä¹ˆäº¤æ¢é‡‡æ‘˜é¡ºåºåæ€»ä»·å€¼å¿…ç„¶å¢åŠ ï¼ˆèŠ±ç”Ÿæ•°å„ä¸ç›¸åŒï¼‰ã€‚ä¼˜è´¨é¢˜è§£éƒ½é€šè¿‡æ’åºè‡ªç„¶å®ç°æ­¤ç­–ç•¥ã€‚
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè´ªå¿ƒé€‰æ‹©æ€§è´¨æ˜¯è§£é¢˜åŸºçŸ³â€”â€”å±€éƒ¨æœ€ä¼˜å¯¼è‡´å…¨å±€æœ€ä¼˜ã€‚

2.  **æ—¶é—´æ¶ˆè€—çš„ç²¾ç¡®è®¡ç®—**  
    * **åˆ†æ**ï¼šç§»åŠ¨æ—¶é—´ï¼ˆæ›¼å“ˆé¡¿è·ç¦»ï¼‰+é‡‡æ‘˜æ—¶é—´ï¼ˆå›ºå®š1å•ä½ï¼‰+è¿”å›æ—¶é—´ï¼ˆå½“å‰è¡Œæ•°ï¼‰ä¸‰éƒ¨åˆ†å¿…é¡»ç‹¬ç«‹è®¡ç®—ã€‚å¦‚jiangXxinè§£æ³•ä¸­`k -= tm + 1`ååˆ¤æ–­`k >= ex`ï¼Œç¡®ä¿èƒ½å®‰å…¨è¿”å›ã€‚
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ—¶é—´è®¡ç®—éœ€è€ƒè™‘å®Œæ•´åŠ¨ä½œé“¾ï¼Œè¿”å›æ—¶é—´å¸¸è¢«å¿½ç•¥ï¼

3.  **è¾¹ç•Œæ¡ä»¶çš„å…¨é¢å¤„ç†**  
    * **åˆ†æ**ï¼šä¸‰ç§ç‰¹æ®Šæƒ…å†µéœ€ç‰¹æ®Šå¤„ç†ï¼šâ‘ ç¬¬ä¸€æ ªéƒ½é‡‡ä¸åˆ°ï¼ˆè¾“å‡º0ï¼‰â‘¡é‡‡æ‘˜æœ€åä¸€æ ªåæ— éœ€ç§»åŠ¨â‘¢æ—¶é—´æ°å¥½è€—å°½ã€‚å¦‚_Arahc_è§£æ³•ä¸­`if(k>=(b[1][1]*2+1))`å’Œ`if(q.empty()) break`ã€‚
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹ç•Œæ˜¯ç®—æ³•å¥å£®æ€§çš„è¯•é‡‘çŸ³ï¼Œå¿…é¡»å•ç‹¬æµ‹è¯•ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é™ç»´å­˜å‚¨æŠ€å·§**ï¼šå½“æœ‰æ•ˆæ•°æ®ç¨€ç–æ—¶ï¼ˆå¦‚æœ¬é¢˜èŠ±ç”Ÿæ¤æ ª<<æ€»æ ¼å­æ•°ï¼‰ï¼Œç”¨ç»“æ„ä½“æ•°ç»„ä»£æ›¿äºŒç»´çŸ©é˜µï¼ˆjiangXxinï¼‰æˆ–ç¨€ç–çŸ©é˜µï¼ˆMC_long_liveï¼‰å¤§å¹…èŠ‚çœç©ºé—´
- **STLé«˜æ•ˆåº”ç”¨**ï¼šæŒæ¡priority_queueï¼ˆ_Arahc_ï¼‰å¯é¿å…æ‰‹åŠ¨æ’åºï¼Œæå‡ä»£ç ç®€æ´æ€§
- **æ›¼å“ˆé¡¿è·ç¦»æœ¬è´¨**ï¼šç½‘æ ¼æ— å¯¹è§’ç§»åŠ¨æ—¶ï¼Œ|Î”x|+|Î”y|æ˜¯æœ€çŸ­è·¯å¾„
- **æ—¶é—´ç´¯è®¡æ³•**ï¼šåœ¨å¾ªç¯ä¸­ç´¯åŠ æ¶ˆè€—æ—¶é—´è€Œéé‡æ–°è®¡ç®—ï¼ˆqhr2023è§£æ³•ï¼‰ï¼Œé¿å…é‡å¤è¿ç®—

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
* **è¯´æ˜**ï¼šç»¼åˆä¼˜è´¨é¢˜è§£æ€è·¯ï¼Œé‡‡ç”¨æœ€æ¸…æ™°çš„è´ªå¿ƒæ¡†æ¶ï¼ŒåŒ…å«å®Œæ•´è¾¹ç•Œå¤„ç†
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <iostream>
#include <algorithm>
#include <cmath>
using namespace std;

struct Peanut {
    int x, y, val;
};

bool cmp(Peanut a, Peanut b) {
    return a.val > b.val; // é™åºæ’åº
}

int main() {
    int m, n, k;
    cin >> m >> n >> k;
    Peanut peanuts[405];
    int cnt = 0;

    // è¾“å…¥å¹¶å­˜å‚¨éé›¶èŠ±ç”Ÿ
    for (int i = 1; i <= m; i++) {
        for (int j = 1; j <= n; j++) {
            int val; cin >> val;
            if (val > 0) {
                peanuts[cnt++] = {i, j, val};
            }
        }
    }

    sort(peanuts, peanuts + cnt, cmp);
    
    int total = 0, time = 0;
    int curX = 1, curY = peanuts[0].y; // åˆå§‹ä½ç½®
    
    for (int i = 0; i < cnt; i++) {
        int moveTime = abs(peanuts[i].x - curX) + abs(peanuts[i].y - curY);
        int totalTime = moveTime + 1 + peanuts[i].x; // ç§»åŠ¨+é‡‡æ‘˜+è¿”å›æ—¶é—´
        
        if (time + totalTime > k) {
            // å°è¯•é‡‡ä¸‹ä¸€æ ªä¼šè¶…æ—¶
            if (i == 0) cout << 0; // ç¬¬ä¸€æ ªéƒ½é‡‡ä¸åˆ°
            else cout << total;
            return 0;
        }
        
        time += moveTime + 1; // æ¶ˆè€—ç§»åŠ¨+é‡‡æ‘˜æ—¶é—´
        total += peanuts[i].val;
        curX = peanuts[i].x;
        curY = peanuts[i].y;
    }
    cout << total;
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
    1. **æ•°æ®ç»“æ„**ï¼šç”¨`Peanut`ç»“æ„ä½“å­˜å‚¨åæ ‡å’Œå€¼
    2. **é¢„å¤„ç†**ï¼šåªå­˜å‚¨éé›¶èŠ±ç”Ÿï¼Œ`sort`é™åºæ’åˆ—
    3. **åˆå§‹å®šä½**ï¼šä»ç¬¬ä¸€è¡Œæœ€è¿‘åˆ—å¼€å§‹ï¼ˆçœå»é¦–æ¬¡ç§»åŠ¨æ—¶é—´ï¼‰
    4. **å¾ªç¯é‡‡æ‘˜**ï¼šè®¡ç®—ç§»åŠ¨æ—¶é—´â†’æ£€æŸ¥æ€»æ—¶é—´â†’æ›´æ–°çŠ¶æ€
    5. **è¾¹ç•Œå¤„ç†**ï¼šç¬¬ä¸€æ ªä¸å¯è¾¾/ä¸­é€”è¶…æ—¶/å…¨éƒ¨é‡‡å®Œä¸‰ç§æƒ…å†µ

---

**é¢˜è§£ä¸€ç‰‡æ®µèµæï¼šjiangXxin**
```cpp
sort(stu+1, stu+pn+1, comp);
fx = 1; 
fy = stu[1].y;  // åˆå§‹åˆ—å®šä½
k--;  // è¿›å…¥ç”°åœ°è€—æ—¶

for (int i = 1; i <= pn; i++) {
    int move = abs(fx - stu[i].x) + abs(fy - stu[i].y);
    k -= move + 1;  // ç§»åŠ¨+é‡‡æ‘˜
    
    if (k >= stu[i].x) {  // èƒ½å¦å®‰å…¨è¿”å›ï¼Ÿ
        ans += stu[i].sum;
        fx = stu[i].x; 
        fy = stu[i].y;
    } else {
        cout << ans;
        return 0;
    }
}
```
* **äº®ç‚¹**ï¼šåˆå§‹ä½ç½®ä¼˜åŒ–+æ›¼å“ˆé¡¿è·ç¦»+å®‰å…¨è¿”å›åˆ¤æ–­ä¸‰ä½ä¸€ä½“
* **ä»£ç è§£è¯»**ï¼š
  - `fx=1, fy=stu[1].y`ï¼šå·§å¦™å®šä½åˆ°ç¬¬ä¸€è¡Œä¸æœ€å¤§èŠ±ç”ŸåŒåˆ—ä½ç½®ï¼Œçœå»æ¨ªå‘ç§»åŠ¨
  - `k -= move + 1`ï¼šå¤åˆè¿ç®—ç²¾ç®€ä»£ç 
  - `k >= stu[i].x`ï¼šæœ¬è´¨æ˜¯`å‰©ä½™æ—¶é—´ >= è¿”ç¨‹æ—¶é—´`
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç©ºé—´ä½ç½®å…³ç³»è½¬åŒ–æ˜¯ä¼˜åŒ–å…³é”®

**é¢˜è§£äºŒç‰‡æ®µèµæï¼š_Arahc_**
```cpp
priority_queue<int> q; 
map<int, pair<int, int>> coord;

while (w + x <= k) {  // wæ˜¯ç´¯è®¡æ—¶é—´ï¼Œxæ˜¯å½“å‰è¡Œ
    s += j;  // é‡‡æ‘˜
    if (q.empty()) break;  // æ— èŠ±ç”Ÿå¯æå‰ç»ˆæ­¢
    
    j = q.top(); q.pop();
    int nx = coord[j].first, ny = coord[j].second;
    w += abs(nx - x) + abs(ny - y) + 1;  // ç§»åŠ¨+é‡‡æ‘˜
    x = nx; y = ny;
}
```
* **äº®ç‚¹**ï¼šSTLçš„æè‡´åº”ç”¨ï¼Œé¿å…å…¨æ’åº
* **ä»£ç è§£è¯»**ï¼š
  - `priority_queue`è‡ªåŠ¨ç»´æŠ¤æœ€å¤§å€¼ï¼ŒO(1)è·å–
  - `map`å®ç°å€¼åˆ°åæ ‡çš„æ˜ å°„
  - `w + x <= k`ï¼šç´¯è®¡æ—¶é—´+è¿”å›æ—¶é—´â‰¤æ€»æ—¶é—´
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šSTLå®¹å™¨ç»„åˆä½¿ç”¨å¯å¤§å¹…æå‡æ•ˆç‡

**é¢˜è§£ä¸‰ç‰‡æ®µèµæï¼šMC_long_live**
```cpp
for (int i = 2; i <= q; i++) {
    int move = abs(b[i-1][1]-b[i][1]) + abs(b[i-1][2]-b[i][2]);
    if (move + 1 + b[i][1] > k) break;  // ç§»åŠ¨+é‡‡æ‘˜+è¿”å›
    
    ans += b[i][3];
    k -= move + 1;  // ä»…æ‰£ç§»åŠ¨+é‡‡æ‘˜
}
```
* **äº®ç‚¹**ï¼šç¨€ç–çŸ©é˜µå­˜å‚¨+æ—¶é—´ç´¯è®¡åˆ¤æ–­
* **ä»£ç è§£è¯»**ï¼š
  - `b[i][1]`å­˜å‚¨è¡Œå·ï¼Œç”¨äºè¿”å›æ—¶é—´è®¡ç®—
  - `k -= move + 1`ï¼šåªæ‰£é™¤å·²å‘ç”Ÿçš„ç§»åŠ¨å’Œé‡‡æ‘˜
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šäºŒç»´æ•°ç»„ä¹Ÿèƒ½æ¨¡æ‹Ÿç»“æ„ä½“ï¼Œé€‚åˆå†…å­˜æ•æ„Ÿåœºæ™¯

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

![](https://example.com/peanut-pixel-demo.gif)  
*(å›¾ç¤ºï¼š8-bité£æ ¼æ¼”ç¤ºç•Œé¢ï¼Œå¤šå¤šåœ¨ç½‘æ ¼ä¸­ç§»åŠ¨é‡‡æ‘˜ï¼‰*

### åŠ¨ç”»è®¾è®¡è¯´æ˜ä¹¦

**æ ¸å¿ƒç›®æ ‡**ï¼šç›´è§‚å±•ç¤ºè´ªå¿ƒç­–ç•¥æ‰§è¡Œè¿‡ç¨‹ï¼Œé‡ç‚¹çªå‡ºæ›¼å“ˆé¡¿è·ç¦»è®¡ç®—å’Œæ—¶é—´æ¶ˆè€—

**è§†è§‰è®¾è®¡**ï¼š
- **è°ƒè‰²æ¿**ï¼šFCçº¢ç™½æœºç»å…¸4è‰²ï¼ˆæ·±ç»¿ç”°åœ°/é‡‘è‰²èŠ±ç”Ÿ/çº¢è‰²å¤šå¤š/è“è‰²è·¯å¾„ï¼‰
- **ç½‘æ ¼**ï¼š20Ã—20åƒç´ çš„æ¤æ ªå•å…ƒï¼Œå¸¦åæ ‡è½´æ ‡è®°
- **è§’è‰²**ï¼š8-bité£æ ¼çš„å¤šå¤šåƒç´ ç²¾çµï¼ˆ4å¸§è¡Œèµ°åŠ¨ç”»ï¼‰

**äº¤äº’æ§åˆ¶é¢æ¿**ï¼š
```javascript
// ä¼ªä»£ç å®ç°æ§åˆ¶é€»è¾‘
function initAnimation() {
  loadMap(peanutData); // åŠ è½½èŠ±ç”Ÿåœ°å›¾
  createControlPanel([
    {type: "button", label: "â–¶/â¸", action: togglePlay},
    {type: "button", label: "â†’|", action: nextStep},
    {type: "slider", label: "é€Ÿåº¦", min:1, max:10, value:5}
  ]);
  playBGM("8-bit_farm_theme.ogg"); // å¾ªç¯èƒŒæ™¯éŸ³ä¹
}
```

**å…³é”®åŠ¨ç”»åºåˆ—**ï¼š
1. **è·¯å¾„è§„åˆ’é˜¶æ®µ**ï¼ˆé»„è‰²é—ªçƒï¼‰
   - å½“å‰ç›®æ ‡èŠ±ç”Ÿé—ªçƒé‡‘å…‰ï¼Œæ˜¾ç¤º`ä»·å€¼ï¼š15`
   - è·¯å¾„è®¡ç®—ï¼šæ˜¾ç¤º`Î”x=3, Î”y=2 â†’ ç§»åŠ¨=5`
   - éŸ³æ•ˆï¼šç”µå­è®¡ç®—å£°`beep.wav`

2. **ç§»åŠ¨é˜¶æ®µ**ï¼ˆè“è‰²è½¨è¿¹ï¼‰
   - å¤šå¤šåƒç´ ç²¾çµæ²¿ç½‘æ ¼ç§»åŠ¨ï¼Œè·¯å¾„æ˜¾ç¤ºè“è‰²è½¨è¿¹
   - æ¯æ­¥ç§»åŠ¨æ’­æ”¾`step.wav`éŸ³æ•ˆ
   - çŠ¶æ€æ ï¼š`æ—¶é—´-5 â†’ å‰©ä½™=16`

3. **é‡‡æ‘˜é˜¶æ®µ**ï¼ˆé‡‘è‰²çˆ†ç‚¸ï¼‰
   - åˆ°è¾¾ç›®æ ‡ï¼šèŠ±ç”Ÿå˜ä¸ºé‡‘å¸ï¼Œæ’­æ”¾`coin.wav`
   - çŠ¶æ€æ›´æ–°ï¼š`èŠ±ç”Ÿ+15! æ€»è®¡=37`
   - æ—¶é—´æ‰£é™¤ï¼š`æ—¶é—´-1 â†’ å‰©ä½™=15`

4. **è¿”å›åˆ¤å®š**ï¼ˆçº¢è‰²è­¦ç¤ºï¼‰
   - è®¡ç®—ï¼š`è¿”ç¨‹éœ€3æ­¥ > å‰©ä½™15? âœ“`
   - æˆåŠŸï¼šç»¿è‰²è¾¹æ¡†é—ªçƒï¼Œæ’­æ”¾`success.wav`
   - å¤±è´¥ï¼šå±å¹•å˜çº¢ï¼Œæ˜¾ç¤º`GAME OVER`

**æ•™å­¦å¼ºåŒ–è®¾è®¡**ï¼š
- **ä»£ç åŒæ­¥**ï¼šå³ä¾§æ˜¾ç¤ºå½“å‰æ‰§è¡Œçš„C++ä»£ç ï¼ˆé«˜äº®å¯¹åº”è¡Œï¼‰
- **æ—ç™½ç³»ç»Ÿ**ï¼šKayçš„æç¤ºæ–‡å­—ï¼ˆå¦‚ï¼š"æ³¨æ„è¿”ç¨‹æ—¶é—´è®¡ç®—å“¦ï¼"ï¼‰
- **å…³å¡æ¨¡å¼**ï¼šå®Œæˆç‰¹å®šæ­¥éª¤è§£é”"è´ªå¿ƒå¤§å¸ˆ"æˆå°±ï¼Œå¥–åŠ±åƒç´ å‹‹ç« 

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### åŒç±»é—®é¢˜è¿ç§»
1. **èµ„æºä¼˜å…ˆå‹**ï¼šå¦‚"å®çŸ³æ”¶é›†"â€”â€”ä¸åŒé¢œè‰²å®çŸ³ä»·å€¼ä¸åŒï¼Œç§»åŠ¨è§„åˆ™ç›¸åŒ
2. **æ—¶é—´çª—å£å‹**ï¼šå¦‚"å¤–å–é…é€"â€”â€”è®¢å•æœ‰æˆªæ­¢æ—¶é—´ï¼Œéœ€é€‰æ‹©æœ€ä¼˜åºåˆ—
3. **ç½‘æ ¼è·¯å¾„å‹**ï¼šå¦‚"è¿·å®«å¯»å®"â€”â€”éšœç¢ç‰©å­˜åœ¨æ—¶çš„æ›¼å“ˆé¡¿è·ç¦»å˜ä½“

### æ´›è°·æ¨èç»ƒä¹ 
1. **P1090 [NOIP2004 æé«˜ç»„] åˆå¹¶æœå­**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šåŒæ ·éœ€è¦è´ªå¿ƒç­–ç•¥+ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œå®Œç¾å·©å›ºå †çš„åº”ç”¨

2. **P1605 è¿·å®«**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šåŸºäºç½‘æ ¼çš„DFS/BFSç»ƒä¹ ï¼Œç†è§£ç§»åŠ¨è§„åˆ™ä¸æœ¬é¢˜ç›¸é€š

3. **P1219 [USACO1.5] å…«çš‡å Checker Challenge**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šè®­ç»ƒç½‘æ ¼é—®é¢˜æŠ½è±¡èƒ½åŠ›ï¼Œç†è§£ç©ºé—´ä½ç½®å…³ç³»

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **æ¥è‡ª jiangXxin çš„è°ƒè¯•ç»éªŒ**ï¼š  
> "æˆ‘åœ¨å¤„ç†æ›¼å“ˆé¡¿è·ç¦»æ—¶å¿½ç•¥äº†ç»å¯¹å€¼ï¼Œå¯¼è‡´è·¯å¾„è®¡ç®—é”™è¯¯ã€‚é€šè¿‡æ‰“å°åæ ‡å·®`|3-1|+|5-2|=5`æ‰å‘ç°é—®é¢˜ã€‚"

> **æ¥è‡ª _Arahc_ çš„ä¼˜åŒ–å¿ƒå¾—**ï¼š  
> "priority_queueæ¯”sortå…¨æ’åºæ›´é«˜æ•ˆï¼Œå°¤å…¶åœ¨æ¤æ ªç¨€ç–æ—¶ã€‚STLçš„é€‰æ‹©ç›´æ¥å½±å“ç®—æ³•æ•ˆç‡ï¼"

**Kayçš„æ€»ç»“**ï¼šè¿™äº›ç»éªŒå‡¸æ˜¾äº†ä¸¤å¤§é»„é‡‘æ³•åˆ™ï¼š
1. **æµ‹è¯•è¾¹ç•Œæ•°æ®**ï¼šç”¨`ç§»åŠ¨æ—¶é—´=0`ï¼ˆåŒä½ç½®ï¼‰å’Œ`æœ€å¤§ç½‘æ ¼`æµ‹è¯•ç¨‹åºé²æ£’æ€§
2. **å®¹å™¨é€‰æ‹©å“²å­¦**ï¼šæ•°æ®é‡å¤§ä¸”éœ€åŠ¨æ€å–æœ€å€¼ â†’ priority_queueï¼›æ•°æ®é™æ€ â†’ sort

---

> "ç®—æ³•å­¦ä¹ å¦‚åŒèŠ±ç”Ÿé‡‡æ‘˜â€”â€”å…ˆæ”»å…‹æœ€å¤§çš„çŸ¥è¯†æœå®ï¼Œå†é€æ­¥ç§¯ç´¯ã€‚è®°ä½ï¼Œå¥½çš„ç¨‹åºå‘˜ä¸æ˜¯ä¸ä¼šé‡åˆ°å‘ï¼Œè€Œæ˜¯æ‡‚å¾—ç”¨æ›¼å“ˆé¡¿æ€ç»´æ‰¾åˆ°æœ€çŸ­è„±å‘è·¯å¾„ï¼"  
> â€”â€” Kay çš„ç¼–ç¨‹å¿ƒè¯­

**ä¸‹æ¬¡æŒ‘æˆ˜é¢„å‘Š**ï¼šè¿·å®«ä¸­çš„è´ªåƒè›‡AIï¼æˆ‘ä»¬å°†ç”¨BFSå®ç°è‡ªåŠ¨å¯»è·¯...

---
å¤„ç†ç”¨æ—¶ï¼š148.49ç§’
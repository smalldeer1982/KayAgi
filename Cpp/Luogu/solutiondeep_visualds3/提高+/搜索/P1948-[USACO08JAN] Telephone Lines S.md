# é¢˜ç›®ä¿¡æ¯

# [USACO08JAN] Telephone Lines S

## é¢˜ç›®æè¿°

Farmer John wants to set up a telephone line at his farm. Unfortunately, the phone company is uncooperative, so he needs to pay for some of the cables required to connect his farm to the phone system.

There are N (1 â‰¤ N â‰¤ 1,000) forlorn telephone poles conveniently numbered 1..N that are scattered around Farmer John's property; no cables connect any them. A total of P (1 â‰¤ P â‰¤ 10,000) pairs of poles can be connected by a cable; the rest are too far apart.

The i-th cable can connect the two distinct poles Ai and Bi, with length Li (1 â‰¤ Li â‰¤ 1,000,000) units if used. The input data set never names any {Ai, Bi} pair more than once. Pole 1 is already connected to the phone system, and pole N is at the farm. Poles 1 and N need to be connected by a path of cables; the rest of the poles might be used or might not be used.

As it turns out, the phone company is willing to provide Farmer John with K (0 â‰¤ K < N) lengths of cable for free. Beyond that he will have to pay a price equal to the length of the longest remaining cable he requires (each pair of poles is connected with a separate cable), or 0 if he does not need any additional cables.

Determine the minimum amount that Farmer John must pay.

å¤šå¹´ä»¥åï¼Œç¬¨ç¬¨é•¿å¤§äº†ï¼Œæˆä¸ºäº†ç”µè¯çº¿å¸ƒç½®å¸ˆã€‚ç”±äºåœ°éœ‡ä½¿å¾—æŸå¸‚çš„ç”µè¯çº¿å…¨éƒ¨æŸåï¼Œç¬¨ç¬¨æ˜¯è´Ÿè´£æ¥åˆ°éœ‡ä¸­å¸‚çš„è´Ÿè´£äººã€‚è¯¥å¸‚å‘¨å›´åˆ†å¸ƒç€ $1\le N\le1000$ æ ¹æ® $1\cdots N$ é¡ºåºç¼–å·çš„åºŸå¼ƒçš„ç”µè¯çº¿æ†ï¼Œä»»æ„ä¸¤æ ¹çº¿æ†ä¹‹é—´æ²¡æœ‰ç”µè¯çº¿è¿æ¥ï¼Œä¸€å…±æœ‰ $1\le p\le10000$ å¯¹ç”µè¯æ†å¯ä»¥æ‹‰ç”µè¯çº¿ã€‚å…¶ä»–çš„ç”±äºåœ°éœ‡ä½¿å¾—æ— æ³•è¿æ¥ã€‚

ç¬¬iå¯¹ç”µçº¿æ†çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«æ˜¯ $a_i$ ï¼Œ$b_i$ï¼Œå®ƒä»¬çš„è·ç¦»ä¸º $1\le l_i\le1000000$ã€‚æ•°æ®ä¸­æ¯å¯¹ $(a_i,b_i)$ åªå‡ºç°ä¸€æ¬¡ã€‚ç¼–å·ä¸º $1$ çš„ç”µè¯æ†å·²ç»æ¥å…¥äº†å…¨å›½çš„ç”µè¯ç½‘ç»œï¼Œæ•´ä¸ªå¸‚çš„ç”µè¯çº¿å…¨éƒ½è¿åˆ°äº†ç¼–å· $N$ çš„ç”µè¯çº¿æ†ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¨ç¬¨çš„ä»»åŠ¡ä»…ä»…æ˜¯æ‰¾ä¸€æ¡å°† $1$ å·å’Œ $N$ å·ç”µçº¿æ†è¿èµ·æ¥çš„è·¯å¾„ï¼Œå…¶ä½™çš„ç”µè¯æ†å¹¶ä¸ä¸€å®šè¦è¿å…¥ç”µè¯ç½‘ç»œã€‚

ç”µä¿¡å…¬å¸å†³å®šæ”¯æ´ç¾åŒºå…è´¹ä¸ºæ­¤å¸‚è¿æ¥ $k$ å¯¹ç”±ç¬¨ç¬¨æŒ‡å®šçš„ç”µè¯çº¿æ†ï¼Œå¯¹äºæ­¤å¤–çš„é‚£äº›ç”µè¯çº¿ï¼Œéœ€è¦ä¸ºå®ƒä»¬ä»˜è´¹ï¼Œæ€»è´¹ç”¨å†³å®šäºå…¶ä¸­æœ€é•¿çš„ç”µè¯çº¿çš„é•¿åº¦ï¼ˆæ¯æ ¹ç”µè¯çº¿ä»…è¿æ¥ä¸€å¯¹ç”µè¯çº¿æ†ï¼‰ã€‚å¦‚æœéœ€è¦è¿æ¥çš„ç”µè¯çº¿æ†ä¸è¶…è¿‡ $k$ å¯¹ï¼Œé‚£ä¹ˆæ”¯å‡ºä¸º $0$ã€‚

è¯·ä½ è®¡ç®—ä¸€ä¸‹ï¼Œå°†ç”µè¯çº¿å¼•å¯¼éœ‡ä¸­å¸‚æœ€å°‘éœ€è¦åœ¨ç”µè¯çº¿ä¸ŠèŠ±å¤šå°‘é’±ï¼Ÿ


## æ ·ä¾‹ #1

### è¾“å…¥

```
5 7 1
1 2 5
3 1 4
2 4 8
3 2 3
5 2 9
3 4 7
4 5 6
```

### è¾“å‡º

```
4
```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šç”µè¯çº¿Telephone Lines æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### å¼•è¨€
ä»Šå¤©æˆ‘ä»¬æ¥åˆ†ææ´›è°·é¢˜ç›®P1948 [USACO08JAN]ç”µè¯çº¿Telephone Linesã€‚è¿™é“é¢˜è¦æ±‚æ‰¾åˆ°ä¸€æ¡ä»1å·ç”µè¯æ†åˆ°Nå·ç”µè¯æ†çš„è·¯å¾„ï¼Œä½¿å¾—ç”µä¿¡å…¬å¸å…è´¹è¿æ¥Kå¯¹ç”µè¯æ†åï¼Œå‰©ä½™ç”µè¯çº¿ä¸­æœ€é•¿çš„é‚£æ¡é•¿åº¦æœ€å°ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©ä½ æŒæ¡æ ¸å¿ƒç®—æ³•æ€æƒ³å’Œè§£é¢˜æŠ€å·§ã€‚

---

### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`äºŒåˆ†ç­”æ¡ˆ` + `æœ€çŸ­è·¯ç®—æ³•` (0-1å›¾ä¼˜åŒ–)

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³æœ¬é¢˜çš„å…³é”®åœ¨äºå°†é—®é¢˜è½¬åŒ–ä¸ºäºŒåˆ†ç­”æ¡ˆæ¨¡å‹ï¼šæˆ‘ä»¬äºŒåˆ†ä¸€ä¸ªè´¹ç”¨midä½œä¸ºç­”æ¡ˆï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€æ¡è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šé•¿åº¦è¶…è¿‡midçš„è¾¹ä¸è¶…è¿‡Kæ¡ï¼ˆè¿™äº›è¾¹å¯è¢«å…è´¹ï¼‰ã€‚è‹¥å­˜åœ¨åˆ™è¯´æ˜midå¯è¡Œï¼Œå¦åˆ™ä¸å¯è¡Œã€‚

- **æ ¸å¿ƒæ€è·¯**ï¼š
  - äºŒåˆ†ç­”æ¡ˆï¼šåœ¨[0, æœ€å¤§è¾¹æƒ]èŒƒå›´å†…äºŒåˆ†mid
  - æ£€æŸ¥å‡½æ•°ï¼šå°†å›¾è½¬åŒ–ä¸º0-1å›¾ï¼ˆè¾¹æƒ>midåˆ™æƒå€¼ä¸º1ï¼Œå¦åˆ™ä¸º0ï¼‰
  - æœ€çŸ­è·¯è®¡ç®—ï¼šç”¨åŒç«¯é˜Ÿåˆ—BFSæ±‚1â†’nçš„æœ€çŸ­è·¯å¾„ï¼ˆå³æœ€å°‘éœ€è¦å…è´¹çš„è¾¹æ•°ï¼‰
- **å¯è§†åŒ–è®¾è®¡**ï¼š
  - åƒç´ ç½‘æ ¼ä¸­ï¼ŒèŠ‚ç‚¹ç”¨å½©è‰²æ–¹å—è¡¨ç¤ºï¼Œèµ·ç‚¹ï¼ˆ1å·ï¼‰è“è‰²ï¼Œç»ˆç‚¹ï¼ˆNå·ï¼‰é‡‘è‰²
  - è¾¹æƒâ‰¤midçš„è¾¹æ˜¾ç¤ºä¸ºç»¿è‰²ï¼ˆå…è´¹ï¼‰ï¼Œ>midçš„è¾¹æ˜¾ç¤ºä¸ºçº¢è‰²ï¼ˆéœ€æ¶ˆè€—å…è´¹æ¬¡æ•°ï¼‰
  - åŒç«¯é˜Ÿåˆ—BFSè¿‡ç¨‹ï¼š0è¾¹æƒç§»åŠ¨ï¼ˆç»¿è‰²ï¼‰ä»é˜Ÿé¦–å…¥é˜Ÿï¼Œ1è¾¹æƒç§»åŠ¨ï¼ˆçº¢è‰²ï¼‰ä»é˜Ÿå°¾å…¥é˜Ÿ
  - å…³é”®åŠ¨ç”»ï¼šå½“å‰å¤„ç†èŠ‚ç‚¹é—ªçƒï¼Œè¾¹æƒé¢œè‰²å®æ—¶æ›´æ–°ï¼Œé˜Ÿåˆ—çŠ¶æ€ä¾§è¾¹æ˜¾ç¤º

---

### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

#### é¢˜è§£ä¸€ï¼šæµ…è‰²è°ƒï¼ˆèµ72ï¼‰
* **ç‚¹è¯„**ï¼š
  - æ€è·¯æ¸…æ™°ï¼šå°†é—®é¢˜è½¬åŒ–ä¸ºäºŒåˆ†ç­”æ¡ˆ+SPFAï¼Œè§£é‡Šè´ªå¿ƒåŸç†ï¼ˆå…è´¹æœ€é•¿Kæ¡è¾¹ï¼‰
  - ä»£ç è§„èŒƒï¼šé‚»æ¥è¡¨å­˜å›¾ï¼Œæ— å‘å›¾åŒå‘åŠ è¾¹å¤„ç†åˆ°ä½
  - ç®—æ³•äº®ç‚¹ï¼šç”¨SPFAå¤„ç†0-1å›¾æœ€çŸ­è·¯ï¼Œæ—¶é—´å¤æ‚åº¦O(kN)å¯æ¥å—
  - å®è·µä»·å€¼ï¼šä»£ç å¯ç›´æ¥ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†å®Œæ•´ï¼ˆç‰¹åˆ¤æ— è§£æƒ…å†µï¼‰

#### é¢˜è§£äºŒï¼šBlair3863ï¼ˆèµ45ï¼‰
* **ç‚¹è¯„**ï¼š
  - åˆ›æ–°ä¼˜åŒ–ï¼šç”¨åŒç«¯é˜Ÿåˆ—BFSæ›¿ä»£SPFAï¼Œæ—¶é—´å¤æ‚åº¦ç¨³å®šO(N)
  - ä»£ç è§„èŒƒï¼šé˜Ÿåˆ—æ“ä½œé€»è¾‘æ¸…æ™°ï¼ˆ0è¾¹æƒé˜Ÿé¦–å…¥ï¼Œ1è¾¹æƒé˜Ÿå°¾å…¥ï¼‰
  - ç®—æ³•äº®ç‚¹ï¼šé’ˆå¯¹0-1å›¾çš„ç‰¹æ®Šä¼˜åŒ–ï¼Œé¿å…SPFAçš„ä¸ç¨³å®šæ€§
  - è°ƒè¯•æŠ€å·§ï¼šæä¾›è¯¦ç»†æ³¨é‡Šå’Œæ ·ä¾‹å›¾ç¤ºï¼Œå¸®åŠ©ç†è§£é˜Ÿåˆ—æ“ä½œ

#### é¢˜è§£ä¸‰ï¼šhf_xzï¼ˆèµ30ï¼‰
* **ç‚¹è¯„**ï¼š
  - æ€è·¯æ–°é¢–ï¼šé‡‡ç”¨åˆ†å±‚å›¾æœ€çŸ­è·¯ï¼ˆDPæ€æƒ³ï¼‰ï¼ŒçŠ¶æ€å®šä¹‰å·§å¦™
  - ä»£ç è§„èŒƒï¼šç»“æ„ä½“å°è£…çŠ¶æ€ï¼ˆèŠ‚ç‚¹+å…è´¹æ¬¡æ•°ï¼‰ï¼Œé˜Ÿåˆ—æ“ä½œè§„èŒƒ
  - ç®—æ³•äº®ç‚¹ï¼šåŠ¨æ€è§„åˆ’æ€æƒ³è§£å†³å¸¦é™åˆ¶çš„æœ€çŸ­è·¯é—®é¢˜
  - å®è·µä»·å€¼ï¼šæä¾›çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼ˆç”¨/ä¸ç”¨å…è´¹ä¸¤ç§æƒ…å†µï¼‰

---

### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

#### éš¾ç‚¹1ï¼šé—®é¢˜è½¬åŒ–ï¼ˆç­”æ¡ˆå•è°ƒæ€§è¯æ˜ï¼‰
* **åˆ†æ**ï¼šä¸ºä»€ä¹ˆèƒ½ç”¨äºŒåˆ†ç­”æ¡ˆï¼Ÿå› ä¸ºè‹¥èŠ±è´¹Xå¯è¡Œï¼Œåˆ™æ‰€æœ‰â‰¥Xçš„èŠ±è´¹éƒ½å¯è¡Œï¼›è‹¥Xä¸å¯è¡Œï¼Œåˆ™æ‰€æœ‰ï¼œXçš„èŠ±è´¹ä¹Ÿä¸å¯è¡Œã€‚ä¼˜è´¨é¢˜è§£é€šè¿‡"å…è´¹æœ€é•¿Kæ¡è¾¹"çš„è´ªå¿ƒç­–ç•¥è¯æ˜è¯¥æ€§è´¨ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šäºŒåˆ†ç­”æ¡ˆé€‚ç”¨é—®é¢˜çš„ä¸¤ä¸ªç‰¹å¾ï¼šâ‘ ç­”æ¡ˆæœ‰æ˜ç¡®ä¸Šä¸‹ç•Œ â‘¡å¯è¡Œæ€§å‡½æ•°å•è°ƒ

#### éš¾ç‚¹2ï¼š0-1å›¾æœ€çŸ­è·¯ä¼˜åŒ–
* **åˆ†æ**ï¼šCheckå‡½æ•°ä¸­éœ€å¿«é€Ÿè®¡ç®—æœ€å°‘éœ€è¦å…è´¹çš„è¾¹æ•°ã€‚åŒç«¯é˜Ÿåˆ—BFSå°†0è¾¹æƒèŠ‚ç‚¹ä»é˜Ÿé¦–æ’å…¥ï¼Œ1è¾¹æƒèŠ‚ç‚¹ä»é˜Ÿå°¾æ’å…¥ï¼Œä¿è¯é˜Ÿåˆ—å•è°ƒæ€§ï¼ˆç±»ä¼¼Dijkstraï¼‰ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š0-1å›¾æœ€çŸ­è·¯é¦–é€‰åŒç«¯é˜Ÿåˆ—BFSï¼Œæ—¶é—´å¤æ‚åº¦ä»O(kM)é™è‡³O(N)

#### éš¾ç‚¹3ï¼šåˆ†å±‚å›¾çŠ¶æ€è®¾è®¡
* **åˆ†æ**ï¼šçŠ¶æ€dp[u][k]è¡¨ç¤ºåˆ°èŠ‚ç‚¹uä½¿ç”¨kæ¬¡å…è´¹çš„æœ€å°èŠ±è´¹ï¼ˆè·¯å¾„æœ€å¤§è¾¹ï¼‰ã€‚è½¬ç§»æ—¶éœ€è€ƒè™‘ï¼šâ‘ ä¸ä½¿ç”¨å…è´¹â†’æ›´æ–°æœ€å¤§å€¼ â‘¡ä½¿ç”¨å…è´¹â†’ç»§æ‰¿çŠ¶æ€ã€‚éœ€æ³¨æ„çŠ¶æ€æ›´æ–°é¡ºåºã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆ†å±‚å›¾æœ¬è´¨æ˜¯çŠ¶æ€ç©ºé—´æœç´¢ï¼Œé€‚ç”¨äºå†³ç­–æ¬¡æ•°æœ‰é™çš„é—®é¢˜

#### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
1. **äºŒåˆ†ç­”æ¡ˆæ¡†æ¶**ï¼š 
   - ç¡®å®šè¾¹ç•Œl=0, r=max_edge_weight
   - while(l<=r)å¾ªç¯ï¼Œcheck(mid)è°ƒæ•´è¾¹ç•Œ
   - æ³¨æ„æ— è§£ç‰¹åˆ¤ï¼ˆl>max_weightï¼‰

2. **0-1å›¾BFSä¼˜åŒ–**ï¼š
   - åŒç«¯é˜Ÿåˆ—dequeå®ç°
   - 0è¾¹æƒï¼špush_front() 
   - 1è¾¹æƒï¼špush_back()

3. **åˆ†å±‚å›¾å®ç°è¦ç‚¹**ï¼š
   - çŠ¶æ€è®¾è®¡ï¼š(èŠ‚ç‚¹, ä½¿ç”¨å…è´¹æ¬¡æ•°)
   - è½¬ç§»æ–¹ç¨‹ï¼š
     ```cpp
     // ä¸ä½¿ç”¨å…è´¹
     dp[v][k] = min(dp[v][k], max(dp[u][k], w))
     // ä½¿ç”¨å…è´¹ï¼ˆk < Kï¼‰
     dp[v][k+1] = min(dp[v][k+1], dp[u][k])
     ```

---

### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

#### æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆäºŒåˆ†+åŒç«¯é˜Ÿåˆ—BFSï¼‰
```cpp
#include <cstdio>
#include <cstring>
#include <deque>
using namespace std;
const int N = 1005, M = 20005;

struct Edge { int to, w, next; } e[M];
int head[N], dis[N], n, m, k, cnt;

void add(int u, int v, int w) {
    e[++cnt] = {v, w, head[u]};
    head[u] = cnt;
}

bool check(int mid) {
    memset(dis, 0x3f, sizeof dis);
    deque<int> q;
    dis[1] = 0; q.push_back(1);
    
    while (!q.empty()) {
        int u = q.front(); q.pop_front();
        for (int i = head[u]; i; i = e[i].next) {
            int v = e[i].to, cost = e[i].w > mid;
            if (dis[v] > dis[u] + cost) {
                dis[v] = dis[u] + cost;
                cost ? q.push_back(v) : q.push_front(v);
            }
        }
    }
    return dis[n] <= k;
}

int main() {
    scanf("%d%d%d", &n, &m, &k);
    int l = 0, r = 0, ans = -1;
    while (m--) {
        int u, v, w; scanf("%d%d%d", &u, &v, &w);
        add(u, v, w); add(v, u, w); 
        if (w > r) r = w;
    }
    
    while (l <= r) {
        int mid = (l + r) >> 1;
        if (check(mid)) ans = mid, r = mid - 1;
        else l = mid + 1;
    }
    printf("%d\n", ans);
    return 0;
}
```

#### åˆ†å±‚å›¾æœ€çŸ­è·¯å®ç°
```cpp
#include <cstdio>
#include <cstring>
#include <queue>
using namespace std;
const int N = 1005, K = 1005, INF = 0x3f3f3f3f;

struct Node { int u, k; };
struct Edge { int to, w, next; } e[N*20];
int head[N], dp[N][K], n, m, k, cnt;
bool inq[N][K];

void spfa() {
    memset(dp, 0x3f, sizeof dp);
    queue<Node> q;
    q.push({1, 0}); dp[1][0] = 0;
    
    while (!q.empty()) {
        Node t = q.front(); q.pop();
        int u = t.u, ck = t.k;
        inq[u][ck] = false;
        
        for (int i = head[u]; i; i = e[i].next) {
            int v = e[i].to, w = e[i].w;
            // ä¸ä½¿ç”¨å…è´¹
            int nval = max(dp[u][ck], w);
            if (nval < dp[v][ck]) {
                dp[v][ck] = nval;
                if (!inq[v][ck]) inq[v][ck] = true, q.push({v, ck});
            }
            // ä½¿ç”¨å…è´¹ (è¿˜æœ‰æ¬¡æ•°)
            if (ck < k && dp[u][ck] < dp[v][ck+1]) {
                dp[v][ck+1] = dp[u][ck];
                if (!inq[v][ck+1]) inq[v][ck+1] = true, q.push({v, ck+1});
            }
        }
    }
}

int main() {
    scanf("%d%d%d", &n, &m, &k);
    for (int i = 1; i <= m; i++) {
        int u, v, w; scanf("%d%d%d", &u, &v, &w);
        e[++cnt] = {v, w, head[u]}; head[u] = cnt;
        e[++cnt] = {u, w, head[v]}; head[v] = cnt;
    }
    spfa();
    
    int ans = INF;
    for (int i = 0; i <= k; i++) 
        ans = min(ans, dp[n][i]);
    printf("%d\n", ans == INF ? -1 : ans);
    return 0;
}
```

---

### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼šåƒç´ æ¢é™©å®¶é—¯å…³ï¼ˆ8-bitå¤å¤é£æ ¼ï¼‰

**æ ¸å¿ƒæ¼”ç¤º**ï¼šåŒç«¯é˜Ÿåˆ—BFSæ‰§è¡Œè¿‡ç¨‹
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š
   - ç½‘æ ¼åœ°å›¾ï¼ˆ1000Ã—600åƒç´ ï¼‰ï¼ŒèŠ‚ç‚¹ä¸ºç”µè¯æ†ï¼ˆ16Ã—16åƒç´ æ–¹å—ï¼‰
   - èµ·ç‚¹ï¼ˆ1å·ï¼‰ï¼šè“è‰²ï¼Œç»ˆç‚¹ï¼ˆNå·ï¼‰ï¼šé‡‘è‰²ï¼Œå…¶ä»–èŠ‚ç‚¹ï¼šç°è‰²
   - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœ/å•æ­¥/é‡ç½®æŒ‰é’® + é€Ÿåº¦æ»‘å—

2. **åŠ¨ç”»æµç¨‹**ï¼š
   ```mermaid
   graph LR
   A[èµ·ç‚¹å…¥é˜Ÿ] --> B{é˜Ÿåˆ—éç©º?}
   B -->|æ˜¯| C[é˜Ÿé¦–èŠ‚ç‚¹é—ªçƒ]
   C --> D[éå†é‚»æ¥è¾¹]
   D --> E{è¾¹æƒâ‰¤mid?}
   E -->|æ˜¯| F[ç»¿è‰²è·¯å¾„+å…¥é˜Ÿé¦–]
   E -->|å¦| G[çº¢è‰²è·¯å¾„+å…¥é˜Ÿå°¾]
   F & G --> H{åˆ°è¾¾ç»ˆç‚¹?}
   H -->|æ˜¯| I[æ’­æ”¾èƒœåˆ©éŸ³æ•ˆ]
   H -->|å¦| B
   ```

3. **äº¤äº’è®¾è®¡**ï¼š
   - æ­¥è¿›æ§åˆ¶ï¼šç©ºæ ¼é”®å•æ­¥æ‰§è¡Œ
   - é€Ÿåº¦è°ƒèŠ‚ï¼š0.5x~5.0xå®æ—¶è°ƒé€Ÿ
   - éŸ³æ•ˆåé¦ˆï¼š
     * ç»¿è‰²è·¯å¾„ç§»åŠ¨ï¼š"å®"ï¼ˆ250Hzæ–¹æ³¢ï¼‰
     * çº¢è‰²è·¯å¾„ç§»åŠ¨ï¼š"å˜Ÿ"ï¼ˆ500Hzæ–¹æ³¢ï¼‰
     * åˆ°è¾¾ç»ˆç‚¹ï¼šèƒœåˆ©æ—‹å¾‹ï¼ˆ800Hzâ†‘ä¸‰è¿éŸ³ï¼‰

4. **æ•°æ®ç»“æ„å¯è§†åŒ–**ï¼š
   - åŒç«¯é˜Ÿåˆ—ï¼šå³ä¾§åŠ¨æ€æ˜¾ç¤ºé˜Ÿåˆ—çŠ¶æ€
   - å½“å‰èŠ‚ç‚¹ï¼šé«˜äº®é»„è‰²è¾¹æ¡†
   - è·¯å¾„è®°å½•ï¼šç»¿è‰²/çº¢è‰²çº¿æ¡å®æ—¶ç»˜åˆ¶

---

### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜

**é€šç”¨æ€è·¯è¿ç§»**ï¼š
- äºŒåˆ†ç­”æ¡ˆ+æœ€çŸ­è·¯ï¼šé€‚ç”¨äº"æœ€å¤§å€¼æœ€å°åŒ–"é—®é¢˜
- 0-1å›¾BFSï¼šè¾¹æƒåªæœ‰ä¸¤ç§å€¼çš„å›¾è®ºé—®é¢˜
- åˆ†å±‚å›¾æœ€çŸ­è·¯ï¼šå¸¦é¢å¤–çŠ¶æ€ï¼ˆä½¿ç”¨æ¬¡æ•°ã€ç‡ƒæ–™ç­‰ï¼‰çš„è·¯å¾„é—®é¢˜

**æ´›è°·æ¨è**ï¼š
1. [P2243 ç”µè·¯ç»´ä¿®](https://www.luogu.com.cn/problem/P2243)
   - **æ¨èç†ç”±**ï¼šåŒç«¯é˜Ÿåˆ—BFSç»å…¸é¢˜ï¼Œå·©å›º0-1å›¾å¤„ç†æŠ€å·§
2. [P4568 é£è¡Œè·¯çº¿](https://www.luogu.com.cn/problem/P4568)
   - **æ¨èç†ç”±**ï¼šåˆ†å±‚å›¾æœ€çŸ­è·¯æ¨¡æ¿é¢˜ï¼Œå¼ºåŒ–çŠ¶æ€è®¾è®¡èƒ½åŠ›
3. [P1186 ç›ä¸½å¡](https://www.luogu.com.cn/problem/P1186)
   - **æ¨èç†ç”±**ï¼šæœ€çŸ­è·¯å˜å½¢+æšä¸¾ï¼ŒåŸ¹å…»é—®é¢˜è½¬åŒ–æ€ç»´

---

### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

**ä½œè€…å¿ƒå¾—æ‘˜å½•**ï¼š
> "äºŒåˆ†ç­”æ¡ˆçš„å…³é”®åœ¨äºcheckå‡½æ•°çš„æ­£ç¡®æ€§â€”â€”æµ…è‰²è°ƒ"
> "åŒç«¯é˜Ÿåˆ—BFSåœ¨0-1å›¾ä¸­æ•ˆç‡ç¢¾å‹SPFAâ€”â€”Blair3863"
> "åˆ†å±‚å›¾æœ¬è´¨æ˜¯çŠ¶æ€ç©ºé—´æœç´¢ï¼Œé€‚ç”¨äºå†³ç­–å—é™é—®é¢˜â€”â€”hf_xz"

**Kayæ€»ç»“**ï¼š
1. **è°ƒè¯•æŠ€å·§**ï¼šåœ¨checkå‡½æ•°ä¸­è¾“å‡ºä¸­é—´ç»“æœï¼ŒéªŒè¯äºŒåˆ†é€»è¾‘
2. **ä¼˜åŒ–æ„è¯†**ï¼š0-1å›¾é¦–é€‰åŒç«¯é˜Ÿåˆ—BFSï¼ˆO(N)ï¼‰è€ŒéSPFAï¼ˆO(kN)ï¼‰
3. **æ€ç»´æ‹“å±•**ï¼šé‡åˆ°"æ“ä½œæ¬¡æ•°é™åˆ¶"ä¼˜å…ˆè€ƒè™‘åˆ†å±‚å›¾å»ºæ¨¡
4. **æ˜“é”™ç‚¹**ï¼š
   - æ— å‘å›¾éœ€è¦åŒå‘åŠ è¾¹
   - äºŒåˆ†è¾¹ç•Œl=0ï¼ˆå¯èƒ½èŠ±è´¹ä¸º0ï¼‰
   - é˜Ÿåˆ—åˆå§‹åŒ–dis[1]=0

---

### ç»“è¯­
é€šè¿‡æœ¬æŒ‡å—ï¼Œæˆ‘ä»¬ç³»ç»Ÿæ€§åœ°åˆ†æäº†ç”µè¯çº¿é—®é¢˜çš„å¤šç§è§£æ³•ï¼Œé‡ç‚¹çªç ´äºŒåˆ†ç­”æ¡ˆä¸æœ€çŸ­è·¯ç»“åˆçš„æ ¸å¿ƒæ€æƒ³ã€‚è®°ä½ï¼šç®—æ³•å­¦ä¹ çš„ç²¾é«“åœ¨äºç†è§£æœ¬è´¨è€Œéæ­»è®°æ¨¡æ¿ã€‚ç»§ç»­åŠ æ²¹ï¼Œè¿æ¥æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š200.11ç§’
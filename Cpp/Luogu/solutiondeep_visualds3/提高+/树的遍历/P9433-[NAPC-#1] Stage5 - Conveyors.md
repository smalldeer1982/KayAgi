# é¢˜ç›®ä¿¡æ¯

# [NAPC-#1] Stage5 - Conveyors

## é¢˜ç›®èƒŒæ™¯

>![](https://cdn.luogu.com.cn/upload/image_hosting/4wcng8qe.png)
>
>â€” rs8

## é¢˜ç›®æè¿°

### ã€ç®€è¦é¢˜æ„ã€‘

ç»™å®šä¸€æ£µ $n$ ä¸ªèŠ‚ç‚¹çš„æ— æ ¹æ ‘ä»¥åŠæ ‘ä¸Šçš„ $k$ ä¸ªå…³é”®èŠ‚ç‚¹ï¼Œè¾¹æœ‰è¾¹æƒï¼ˆå³è¾¹çš„é•¿åº¦ï¼‰ã€‚$q$ æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡ç»™å‡º $s,t$ï¼Œé—®ä» $s$ åˆ° $t$ ä¸”ç»è¿‡è‡³å°‘ä¸€æ¬¡**æ¯ä¸ª**å…³é”®èŠ‚ç‚¹çš„è·¯å¾„çš„æœ€çŸ­é•¿åº¦ã€‚

### ã€åŸå§‹é¢˜æ„ã€‘

åœ¨æŸä¸€é¢ kid åˆé‡åˆ°äº†å¾€è¿”è·‘å…³å¡ã€‚Really popular apparently.

å…³å¡ç»™ kid ç•™ä¸‹çš„ç©ºé—´å½¢çŠ¶æ˜¯ä¸€æ£µæ— å‘å¸¦æƒæ ‘ï¼Œè¾¹æƒå³è¾¹çš„é•¿åº¦ã€‚è¿™æ£µæ ‘æœ‰ $n$ ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸­æœ‰ $k$ ä¸ªç‚¹ä¸Šå„**æ°**æœ‰ä¸€ä¸ªå‘å…‰å°çƒï¼Œkid ç»è¿‡æœ‰å°çƒçš„ç‚¹ï¼ˆç§°ä¸ºå…³é”®ç‚¹ï¼‰æ—¶å°±å¯ä»¥æ”¶é›†å°çƒã€‚kid ä» $s$ ç‚¹å‡ºå‘ï¼Œå½“ä»–æ”¶é›†åˆ°å…¨éƒ¨ $k$ ä¸ªå°çƒæ—¶ï¼Œä¼ é€é—¨å°±ä¼šåœ¨ $t$ ç‚¹å‡ºç°ã€‚

æƒ³é€Ÿé€šçš„ kid æƒ³çŸ¥é“ä»–ä» $s$ ç‚¹å‡ºå‘æ”¶é›†åˆ°å…¨éƒ¨ $k$ ä¸ªå°çƒå¹¶è¿›å…¥ä½äº $t$ ç‚¹çš„ä¼ é€é—¨æ‰€éœ€è¦èµ°çš„æœ€å°æ—¶é—´ï¼ˆå…¶å®ä¹Ÿå°±æ˜¯è·¯å¾„é•¿åº¦ï¼Œå› ä¸º kid çš„é€Ÿåº¦æ’å®šï¼‰ã€‚

ä½†æ˜¯ Geezer å¾ˆç‹¡çŒ¾ï¼Œå¡”å†…è¿™ä¸€é¢è¢«å¤åˆ¶æˆäº† $q$ å±‚ï¼Œæ¯å±‚çš„ $s$ å’Œ $t$ è¿˜å¯èƒ½æœ‰å˜åŠ¨ã€‚kid æ…Œäº†ï¼Œå¿™æ‰¾åˆ°ä½ æ±‚åŠ©ã€‚

## è¯´æ˜/æç¤º

### ã€æ•°æ®èŒƒå›´ã€‘

**æœ¬é¢˜é‡‡ç”¨æ†ç»‘æµ‹è¯•ã€‚**

$$
\def\r{\cr\hline}
\def\None{\text{None}}
\def\arraystretch{1.5}
\begin{array}{c|c|c|c}
\textbf{Subtask} & \text{æµ‹è¯•ç‚¹ç¼–å·} & \textbf{Sp. Constraints} & \textbf{Score}\r
\textsf1&1\sim14 & n\leqslant15,\mathbf R& 18 \r
\textsf2&15\sim20 & q=1 & 18 \r
\textsf3&46\sim48 & s=t,k=n & 6 \r
\textsf4&21\sim25 & k=n & 18 \r
\textsf5&26\sim30 & \mathbf A & 18 \r
\textsf6&31\sim45 & - & 22 \r
\end{array}
$$
å‹æƒ…æé†’ï¼š$\text{Subtask }\textsf1$ å¹¶æ²¡æœ‰é™åˆ¶ $q$ çš„èŒƒå›´ã€‚

- ç‰¹æ®Šæ€§è´¨ $\mathbf R$ï¼šä¿è¯æ ‘éšæœºç”Ÿæˆï¼ˆå¯¹äº $i\ge2$ï¼Œåœ¨ $[1,i)$ å†…éšæœºé€‰æ‹©ä¸€ä¸ªç‚¹å’Œ $i$ è¿è¾¹ï¼Œè¾¹æƒåœ¨ä¸€å›ºå®šåŒºé—´å†…å‡åŒ€éšæœºç”Ÿæˆï¼‰ã€‚
- ç‰¹æ®Šæ€§è´¨ $\mathbf A$ï¼šå®šä¹‰ $f(x)$ è¡¨ç¤ºå­˜åœ¨ $i,j\in[1,n]$ï¼ˆå¯èƒ½ $i=j$ï¼‰ ä¸” $i,j$ å‡ä¸ºå…³é”®ç‚¹ï¼Œä½¿å¾— $x$ åœ¨ $i$ åˆ° $j$ çš„æœ€çŸ­è·¯å¾„ä¸Šï¼›é‚£ä¹ˆå¯¹æ¯æ¬¡è¯¢é—®ä¿è¯ $f(s)$ å’Œ $f(t)$ å‡æˆç«‹ã€‚

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$1\leqslant n\leqslant 10^5$ï¼Œ$1\leqslant q\leqslant 10^5$ï¼Œ$1\leqslant k\leqslant n$ï¼Œ$1\leqslant w\leqslant 10^4$ï¼Œ$1\leqslant u,v,s,t\leqslant n$ã€‚

### ã€æ ·ä¾‹è§£é‡Š #1ã€‘
![](https://cdn.luogu.com.cn/upload/image_hosting/3hvr33bz.png)

å›¾ä¸­åŠ ç²—èŠ‚ç‚¹è¡¨ç¤ºå…³é”®ç‚¹ã€‚

å¯¹äºæ¯ç»„è¯¢é—®ï¼Œä»¥ä¸‹ä¸ºä¸€ç§æœ€ä¼˜è·¯å¾„ï¼ˆæœ€ä¼˜è·¯å¾„å¯èƒ½æœ‰å¤šæ¡ï¼‰ï¼š
1. $2\to1\to3$ã€‚
2. $2\to1\to3\to1$ã€‚
3. $7\to1\to2\to1\to3\to1$ã€‚
4. $4\to3\to1\to2\to1\to3\to5$ã€‚
5. $6\to2\to1\to3\to1\to2\to6$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
7 5 2
1 2 3
1 3 5
3 4 2
3 5 4
2 6 1
1 7 1
2 3
2 3
2 1
7 1
4 5
6 6```

### è¾“å‡º

```
8
13
17
22
18```

# AIåˆ†æç»“æœ


# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šStage5 - Conveyors æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`æ ‘ç»“æ„å¤„ç†`ã€`LCAï¼ˆæœ€è¿‘å…¬å…±ç¥–å…ˆï¼‰`ã€`æœ€å°è¿é€šå—æ„å»º`  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è¿™é“é¢˜å°±åƒåœ¨æ ‘å½¢è¿·å®«ä¸­æ”¶é›†æ‰€æœ‰å‘å…‰çƒå¹¶åˆ°è¾¾ç»ˆç‚¹ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯è¯†åˆ«**åŒ…å«æ‰€æœ‰å…³é”®ç‚¹çš„æœ€å°è¿é€šå—**â€”â€”æƒ³è±¡ç”¨æ©¡çš®ç­‹æ†ä½æ‰€æœ‰å‘å…‰çƒå½¢æˆçš„åŒºåŸŸã€‚åœ¨è¿™ä¸ªåŒºåŸŸå†…ï¼Œé™¤äº†èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„èµ°1æ¬¡å¤–ï¼Œå…¶ä½™è¾¹éƒ½éœ€è¦å¾€è¿”èµ°2æ¬¡ï¼ˆå› ä¸ºè¦ç¡®ä¿è¦†ç›–æ‰€æœ‰å…³é”®ç‚¹ï¼‰ã€‚  
> - æ ¸å¿ƒéš¾ç‚¹åœ¨äºå¦‚ä½•é«˜æ•ˆæ„å»ºæœ€å°è¿é€šå—ï¼Œå¹¶è®¡ç®—ä¸åœ¨è¿é€šå—å†…çš„ç‚¹åˆ°å…¶æœ€è¿‘å…¥å£çš„è·ç¦»
> - å¯è§†åŒ–æ–¹æ¡ˆå°†ç”¨åƒç´ é£å±•ç¤ºæ ‘ç»“æ„ï¼šå‘å…‰çƒç”¨é—ªçƒé»„ç‚¹è¡¨ç¤ºï¼Œè¿é€šå—ç”¨ç»¿è‰²é«˜äº®ï¼Œè·¯å¾„åŠ¨ç”»é…åˆéŸ³æ•ˆï¼ˆæ”¶é›†çƒæ—¶"å®"å£°ï¼Œç§»åŠ¨æ—¶è„šæ­¥å£°ï¼‰
> - å…³é”®å˜é‡`sum`ï¼ˆè¿é€šå—è¾¹æƒå’Œï¼‰å’Œ`dist`ï¼ˆæ ‘èŠ‚ç‚¹è·ç¦»ï¼‰å°†å®æ—¶æ˜¾ç¤ºåœ¨ä¾§è¾¹æ 

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼šWeekoder**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°åº¦æä½³ï¼ˆä»ç®€å…¥ç¹åˆ†æƒ…å†µè®¨è®ºï¼‰ï¼Œä»£ç è§„èŒƒï¼ˆåˆç†å°è£…DFS/LCAå‡½æ•°ï¼‰ï¼Œç®—æ³•é«˜æ•ˆï¼ˆO(n log n)å¤æ‚åº¦ï¼‰ã€‚äº®ç‚¹åœ¨äºç”¨`sz[]`æ•°ç»„æ ‡è®°è¿é€šå—ï¼Œå¹¶ç”¨å•æ¬¡DFSè®¡ç®—è¾¹æƒå’Œã€‚å®è·µä»·å€¼é«˜ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆç‰¹åˆ«å¤„ç†äº†s/tåœ¨è¿é€šå—å¤–çš„æƒ…å†µï¼‰

**é¢˜è§£äºŒï¼šokra_l**
* **ç‚¹è¯„**ï¼šé€»è¾‘æ¨å¯¼ç›´è§‚ï¼ˆç±»æ¯”æ©¡çš®ç­‹æ†çƒè§£é‡Šè¿é€šå—ï¼‰ï¼Œå˜é‡å‘½åæ˜ç¡®ï¼ˆ`tos[]`è¡¨æœ€è¿‘å…¥å£ç‚¹ï¼‰ã€‚äº®ç‚¹åœ¨äºåˆ†ç¦»è¿é€šå—æ ‡è®°ä¸è¾¹æƒè®¡ç®—çš„åŒDFSç»“æ„ã€‚å®è·µå‚è€ƒæ€§å¼ºï¼Œä»£ç æ¨¡å—åŒ–ä¾¿äºè°ƒè¯•

**é¢˜è§£ä¸‰ï¼šnaroto2022**
* **ç‚¹è¯„**ï¼šè§£é¢˜æ­¥éª¤ç›´å‡»æ ¸å¿ƒï¼ˆå…¬å¼`ans=2*sum-dist+dis`ï¼‰ï¼Œä»£ç æœ€ç®€æ´ï¼ˆ<50è¡Œï¼‰ã€‚äº®ç‚¹åœ¨äºç”¨`nearest()`å‡½æ•°é«˜æ•ˆå¤„ç†å¤–éƒ¨ç‚¹ï¼Œå¹¶ç”¨è™šæ ‘æ€æƒ³ç†è§£è¿é€šå—ã€‚é€‚åˆç«èµ›å¿«é€Ÿç¼–ç 

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1.  **å…³é”®ç‚¹è¿é€šå—æ„å»º**
    * **åˆ†æ**ï¼šä¼˜è´¨è§£æ³•å‡é€šè¿‡DFSè®¡ç®—å­æ ‘å…³é”®ç‚¹æ•°`sz[u]`ï¼Œå½“`sz[u]>0`ä¸”`sz[u]<k`æ—¶æ ‡è®°èŠ‚ç‚¹åœ¨è¿é€šå—ã€‚è¿™ç¡®ä¿è¦†ç›–æ‰€æœ‰å…³é”®ç‚¹ä¸”æ— å†—ä½™
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæœ€å°è¿é€šå—=å…³é”®ç‚¹è™šæ ‘ï¼Œæ˜¯å¿…ç»åŒºåŸŸ

2.  **è¾¹æƒå’ŒåŠ¨æ€è®¡ç®—**
    * **åˆ†æ**ï¼šåœ¨DFSé€’å½’å›ç¨‹æ—¶åˆ¤æ–­çˆ¶å­èŠ‚ç‚¹æ˜¯å¦åŒåœ¨è¿é€šå—å†…ï¼Œè‹¥æ˜¯åˆ™ç´¯åŠ è¾¹æƒã€‚ç±»ä¼¼Weekoderçš„`if(inBlock[u]&&inBlock[v]) sum+=w`
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹æƒåªåº”åœ¨é¦–æ¬¡è¿›å…¥å­èŠ‚ç‚¹æ—¶ç´¯åŠ 

3.  **å¤–éƒ¨ç‚¹è·¯å¾„å¤„ç†**
    * **åˆ†æ**ï¼šé€šè¿‡å€å¢æ•°ç»„å¿«é€Ÿè·³è·ƒåˆ°æœ€è¿‘è¿é€šå—å…¥å£ï¼ˆå¦‚`nearest()`å‡½æ•°ï¼‰ã€‚æ ¸å¿ƒåŸç†æ˜¯"å‘ä¸Šè·³ç›´åˆ°ç¥–å…ˆåœ¨è¿é€šå—å†…"
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤–éƒ¨è·¯å¾„=ä¸¤ç‚¹åˆ°å…¥å£è·ç¦»+è¿é€šå—å†…ä¼˜åŒ–è·¯å¾„

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
-   **è™šæ ‘æ€æƒ³**ï¼šå°†å…³é”®ç‚¹æŠ½è±¡ä¸ºè™šæ ‘èŠ‚ç‚¹å¤„ç†å¤æ‚è·¯å¾„
-   **å€å¢é¢„å¤„**ï¼šç”¨`fa[0..20][N]`æ•°ç»„åŠ é€ŸLCAå’Œå…¥å£ç‚¹æŸ¥è¯¢
-   **åˆ†ç¦»è®¡ç®—**ï¼šè¿é€šå—æ ‡è®°ä¸è¾¹æƒè®¡ç®—åˆ†æ­¥DFSæ›´æ¸…æ™°
-   **å…¬å¼åŒ–ç­”æ¡ˆ**ï¼š`æ€»è·¯å¾„=2*sum-dist(u,v)+dist(s,u)+dist(t,v)`

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
* **è¯´æ˜**ï¼šç»¼åˆä¼˜è´¨é¢˜è§£ï¼Œé‡‡ç”¨DFS+å€å¢LCA+è¿é€šå—æ ‡è®°çš„é«˜æ•ˆå®ç°
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
const int N=1e5+5;

vector<pair<int,int>> g[N];
int n,q,k,dep[N],fa[20][N],dis[N],sz[N];
ll sum; bool isKey[N],inBlock[N];

void dfs1(int u,int p){
    dep[u]=dep[p]+1; fa[0][u]=p;
    if(isKey[u]) sz[u]=1;
    for(auto [v,w]:g[u]) if(v!=p){
        dis[v]=dis[u]+w; dfs1(v,u); sz[u]+=sz[v];
    }
}

void dfs2(int u,int p){
    if(!sz[u]) return;
    inBlock[u]=1;
    for(auto [v,w]:g[u]) if(v!=p){
        dfs2(v,u);
        if(inBlock[u]&&inBlock[v]) sum+=w;
    }
}

int lca(int u,int v){
    if(dep[u]<dep[v]) swap(u,v);
    for(int i=19;i>=0;i--) 
        if(dep[fa[i][u]]>=dep[v]) u=fa[i][u];
    if(u==v) return u;
    for(int i=19;i>=0;i--)
        if(fa[i][u]!=fa[i][v]) u=fa[i][u],v=fa[i][v];
    return fa[0][u];
}

int nearest(int u){
    if(inBlock[u]) return u;
    for(int i=19;i>=0;i--)
        if(fa[i][u]&&!inBlock[fa[i][u]]) u=fa[i][u];
    return fa[0][u];
}

int main(){
    cin>>n>>q>>k; int root=0;
    for(int i=1,u,v,w;i<n;i++){
        cin>>u>>v>>w;
        g[u].push_back({v,w}); 
        g[v].push_back({u,w});
    }
    for(int i=1,x;i<=k;i++) 
        cin>>x, isKey[x]=1, root=x;
    
    dfs1(root,0);
    for(int j=1;j<20;j++) for(int i=1;i<=n;i++)
        fa[j][i]=fa[j-1][fa[j-1][i]];
    dfs2(root,0);

    while(q--){
        int s,t; cin>>s>>t;
        int u=nearest(s), v=nearest(t);
        ll ds=dis[s]+dis[u]-2*dis[lca(s,u)];
        ll dt=dis[t]+dis[v]-2*dis[lca(t,v)];
        ll duv=dis[u]+dis[v]-2*dis[lca(u,v)];
        cout<<2*sum - duv + ds + dt <<'\n';
    }
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
  > 1. **æ ‘æ„å»º**ï¼šç”¨`vector<pair<int,int>>`å­˜å‚¨é‚»æ¥è¡¨  
  > 2. **é¦–æ¬¡DFS**ï¼šé¢„å¤„ç†æ·±åº¦/çˆ¶èŠ‚ç‚¹/å­æ ‘å…³é”®ç‚¹æ•°  
  > 3. **äºŒæ¬¡DFS**ï¼šæ ‡è®°è¿é€šå—å¹¶ç´¯åŠ è¾¹æƒ`sum`  
  > 4. **LCAå€å¢**ï¼šå¿«é€ŸæŸ¥è¯¢æ ‘ä¸Šä»»æ„ä¸¤ç‚¹è·ç¦»  
  > 5. **å…¥å£æŸ¥è¯¢**ï¼š`nearest()`ç”¨å€å¢æ‰¾è¿é€šå—å…¥å£  
  > 6. **ç­”æ¡ˆè®¡ç®—**ï¼šæŒ‰å…¬å¼ç»„åˆå„æ®µè·ç¦»  

**é¢˜è§£ä¸€ï¼ˆWeekoderï¼‰æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
void dfs2(int u,int f){
    if(!sz[u]) return;
    inBlock[u]=1;
    for(auto [v,w]:g[u]) if(v!=f){
        dfs2(v,u);
        if(inBlock[u]&&inBlock[v]) sum+=w; // å…³é”®è¾¹ç´¯åŠ 
    }
}
```
* **äº®ç‚¹**ï¼šé€’å½’ä¸­åŠ¨æ€åˆ¤æ–­çˆ¶å­è¿é€šæ€§ç´¯åŠ è¾¹æƒ
* **å­¦ä¹ ç¬”è®°**ï¼šå›æº¯æ—¶åˆ¤æ–­å¯é¿å…é‡å¤è®¡ç®—

**é¢˜è§£äºŒï¼ˆokra_lï¼‰æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
int nearest(int u){
    if(inBlock[u]) return u;
    for(int i=19;i>=0;i--)
        if(fa[i][u]&&!inBlock[fa[i][u]]) 
            u=fa[i][u];
    return fa[0][u]; // çˆ¶èŠ‚ç‚¹å¿…åœ¨è¿é€šå—
}
```
* **äº®ç‚¹**ï¼šå€å¢è·³è·ƒé«˜æ•ˆå®šä½å…¥å£ç‚¹
* **å­¦ä¹ ç¬”è®°**ï¼šå¾ªç¯æ¡ä»¶`!inBlock[fa[i][u]]`ç¡®ä¿ä¸è·³è¿‡å…¥å£

**é¢˜è§£ä¸‰ï¼ˆnaroto2022ï¼‰æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
ll ans=2*sum-dist(u,v)+dist(s,u)+dist(t,v);
```
* **äº®ç‚¹**ï¼šå…¬å¼åŒ–ç­”æ¡ˆç›´å‡»é—®é¢˜æœ¬è´¨
* **å­¦ä¹ ç¬”è®°**ï¼šè¿é€šå—å†…è·¯å¾„ä¼˜åŒ–ä½“ç°åœ¨`-dist(u,v)`

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

* **ä¸»é¢˜**ï¼š8-bité£æ ¼ã€Šçƒçƒå¤§å†’é™©ã€‹  
* **æ ¸å¿ƒæ¼”ç¤º**ï¼š  
  ![](https://cdn.luogu.com.cn/upload/image_hosting/4wcng8qe.png)  
  > åƒç´ æ ‘ä¸­ï¼š  
  > - å…³é”®ç‚¹=é—ªçƒé»„çƒ  
  > - è¿é€šå—=ç»¿è‰²é«˜äº®è¾¹  
  > - s/t=è“è‰²/çº¢è‰²åƒç´ äºº  

* **åŠ¨ç”»æµç¨‹**ï¼š  
  1. **åˆå§‹åŒ–**ï¼šæ˜¾ç¤ºæ ‘ç»“æ„ï¼Œå…³é”®çƒå‘¨æœŸæ€§é—ªçƒï¼ˆéŸ³æ•ˆï¼šå®~ï¼‰  
  2. **è¿é€šå—æ„å»º**ï¼šç»¿è‰²æ³¢æµªæ²¿DFSé¡ºåºè”“å»¶ï¼ˆéŸ³æ•ˆï¼šæ°´æµå£°ï¼‰  
  3. **è·¯å¾„è®¡ç®—**ï¼š  
     - è“äººç§»åŠ¨è‡³æœ€è¿‘ç»¿è¾¹å…¥å£ï¼ˆè¶³è¿¹åŠ¨ç”»+è„šæ­¥å£°ï¼‰  
     - çº¢äººç§»åŠ¨è‡³å…¥å£ï¼ˆåŒï¼‰  
     - è¿é€šå—å†…è·¯å¾„ï¼šé»„çº¿è¿æ¥uâ†’vï¼ˆå…¶ä½™ç»¿è¾¹é—ªçƒ2æ¬¡è¡¨å¾€è¿”ï¼‰  
  4. **ç»“æœå±•ç¤º**ï¼šæ˜¾ç¤ºè·¯å¾„å…¬å¼`2*sum-dist+dis`ï¼Œå„å˜é‡åŠ¨æ€æ›´æ–°  

* **äº¤äº’è®¾è®¡**ï¼š  
  - æ§åˆ¶é¢æ¿ï¼šæ­¥è¿›/æš‚åœ/é€Ÿåº¦æ»‘å—  
  - é¼ æ ‡æ‚¬åœæ˜¾ç¤ºèŠ‚ç‚¹ä¿¡æ¯  
  - æˆåŠŸæ—¶åƒç´ ç¤¼èŠ±+8-bitèƒœåˆ©éŸ³æ•ˆ  

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

* **é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
  è™šæ ‘æ€æƒ³é€‚ç”¨äºï¼š  
  1. åŠ¨æ€å…³é”®ç‚¹è·¯å¾„æŸ¥è¯¢  
  2. æœ€å°è¿é€šå—è¾¹æƒå’Œç»´æŠ¤  
  3. æ ‘ç½‘æœ€å°è¦†ç›–é—®é¢˜  

* **æ´›è°·æ¨è**ï¼š  
  1. **P3320 [SDOI2015]å¯»å®æ¸¸æˆ**  
     > ğŸ—£ï¸ åŠ¨æ€ç»´æŠ¤è™šæ ‘ï¼Œå·©å›ºè¿é€šå—æ€æƒ³  
  2. **P3237 [HNOI2014]ç±³ç‰¹è¿è¾“**  
     > ğŸ—£ï¸ ç»ƒä¹ æ ‘ç»“æ„åˆ†æä¸LCAåº”ç”¨  
  3. **P4103 [HEOI2014]å¤§å·¥ç¨‹**  
     > ğŸ—£ï¸ è™šæ ‘+DPç»¼åˆè®­ç»ƒï¼Œæå‡é—®é¢˜æŠ½è±¡èƒ½åŠ›  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **ç»éªŒæ‘˜å½•**ï¼š  
> "æœ€åˆå¡åœ¨è¿é€šå—è¾¹æƒè®¡ç®—ï¼Œåé€šè¿‡æ‰‹å·¥æ¨¡æ‹ŸDFSå›æº¯è¿‡ç¨‹å‘ç°åº”åœ¨é€’å½’è¿”å›æ—¶ç´¯åŠ è¾¹æƒ" â€”â€” Weekoder  
>   
> **Kayæ€»ç»“**ï¼š  
> è°ƒè¯•æ ‘ç»“æ„é—®é¢˜æ—¶ï¼Œ**æ‰‹å·¥æ¨¡æ‹Ÿå°è§„æ¨¡ç”¨ä¾‹+åˆ†æ­¥æ‰“å°å˜é‡**æœ€æœ‰æ•ˆã€‚é‡ç‚¹è§‚å¯Ÿï¼š  
> 1. DFSé€’å½’é¡ºåºä¸å›æº¯æ—¶æœº  
> 2. çˆ¶å­èŠ‚ç‚¹çŠ¶æ€åŒæ­¥é€»è¾‘  
> 3. è¾¹ç•Œæƒ…å†µï¼ˆå•èŠ‚ç‚¹/ç©ºæ ‘ï¼‰  

---

æŒæ¡æ ‘ç»“æ„æ ¸å¿ƒåœ¨äºå°†**æŠ½è±¡é—®é¢˜å…·è±¡åŒ–**ã€‚æƒ³è±¡è‡ªå·±çœŸçš„åœ¨èµ°æ ‘è¿·å®«ï¼Œå°±èƒ½ç†è§£ä¸ºä»€ä¹ˆéœ€è¦2æ¬¡ç»è¿‡æŸäº›è¾¹ã€‚ç»§ç»­åŠ æ²¹ï¼Œå°‘å¹´ï¼ğŸ®ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š200.76ç§’
# é¢˜ç›®ä¿¡æ¯

# [NOIP 2006 æé«˜ç»„] é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ

## é¢˜ç›®æè¿°

é‡‘æ˜ä»Šå¤©å¾ˆå¼€å¿ƒï¼Œå®¶é‡Œè´­ç½®çš„æ–°æˆ¿å°±è¦é¢†é’¥åŒ™äº†ï¼Œæ–°æˆ¿é‡Œæœ‰ä¸€é—´é‡‘æ˜è‡ªå·±ä¸“ç”¨çš„å¾ˆå®½æ•çš„æˆ¿é—´ã€‚æ›´è®©ä»–é«˜å…´çš„æ˜¯ï¼Œå¦ˆå¦ˆæ˜¨å¤©å¯¹ä»–è¯´ï¼šâ€œä½ çš„æˆ¿é—´éœ€è¦è´­ä¹°å“ªäº›ç‰©å“ï¼Œæ€ä¹ˆå¸ƒç½®ï¼Œä½ è¯´äº†ç®—ï¼Œåªè¦ä¸è¶…è¿‡ $n$ å…ƒé’±å°±è¡Œâ€ã€‚ä»Šå¤©ä¸€æ—©ï¼Œé‡‘æ˜å°±å¼€å§‹åšé¢„ç®—äº†ï¼Œä»–æŠŠæƒ³ä¹°çš„ç‰©å“åˆ†ä¸ºä¸¤ç±»ï¼šä¸»ä»¶ä¸é™„ä»¶ï¼Œé™„ä»¶æ˜¯ä»å±äºæŸä¸ªä¸»ä»¶çš„ï¼Œä¸‹è¡¨å°±æ˜¯ä¸€äº›ä¸»ä»¶ä¸é™„ä»¶çš„ä¾‹å­ï¼š

| ä¸»ä»¶ | é™„ä»¶ |
| :----------: | :----------: |
| ç”µè„‘ | æ‰“å°æœºï¼Œæ‰«æä»ª |
| ä¹¦æŸœ | å›¾ä¹¦ |
| ä¹¦æ¡Œ | å°ç¯ï¼Œæ–‡å…· |
| å·¥ä½œæ¤… | æ—  |

å¦‚æœè¦ä¹°å½’ç±»ä¸ºé™„ä»¶çš„ç‰©å“ï¼Œå¿…é¡»å…ˆä¹°è¯¥é™„ä»¶æ‰€å±çš„ä¸»ä»¶ã€‚æ¯ä¸ªä¸»ä»¶å¯ä»¥æœ‰ $0$ ä¸ªã€$1$ ä¸ªæˆ– $2$ ä¸ªé™„ä»¶ã€‚æ¯ä¸ªé™„ä»¶å¯¹åº”ä¸€ä¸ªä¸»ä»¶ï¼Œé™„ä»¶ä¸å†æœ‰ä»å±äºè‡ªå·±çš„é™„ä»¶ã€‚é‡‘æ˜æƒ³ä¹°çš„ä¸œè¥¿å¾ˆå¤šï¼Œè‚¯å®šä¼šè¶…è¿‡å¦ˆå¦ˆé™å®šçš„ $n$ å…ƒã€‚äºæ˜¯ï¼Œä»–æŠŠæ¯ä»¶ç‰©å“è§„å®šäº†ä¸€ä¸ªé‡è¦åº¦ï¼Œåˆ†ä¸º $5$ ç­‰ï¼šç”¨æ•´æ•° $1 \sim 5$ è¡¨ç¤ºï¼Œç¬¬ $5$ ç­‰æœ€é‡è¦ã€‚ä»–è¿˜ä»å› ç‰¹ç½‘ä¸ŠæŸ¥åˆ°äº†æ¯ä»¶ç‰©å“çš„ä»·æ ¼ï¼ˆéƒ½æ˜¯ $10$ å…ƒçš„æ•´æ•°å€ï¼‰ã€‚ä»–å¸Œæœ›åœ¨ä¸è¶…è¿‡ $n$ å…ƒçš„å‰æä¸‹ï¼Œä½¿æ¯ä»¶ç‰©å“çš„ä»·æ ¼ä¸é‡è¦åº¦çš„ä¹˜ç§¯çš„æ€»å’Œæœ€å¤§ã€‚

è®¾ç¬¬ $j$ ä»¶ç‰©å“çš„ä»·æ ¼ä¸º $v_j$ï¼Œé‡è¦åº¦ä¸º $w_j$ï¼Œå…±é€‰ä¸­äº† $k$ ä»¶ç‰©å“ï¼Œç¼–å·ä¾æ¬¡ä¸º $j_1,j_2,\dots,j_k$ï¼Œåˆ™æ‰€æ±‚çš„æ€»å’Œä¸ºï¼š

$$v_{j_1} \times w_{j_1}+v_{j_2} \times w_{j_2}+ \dots +v_{j_k} \times w_{j_k}$$

è¯·ä½ å¸®åŠ©é‡‘æ˜è®¾è®¡ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„è´­ç‰©å•ã€‚


## è¯´æ˜/æç¤º

#### æ•°æ®è§„æ¨¡ä¸çº¦å®š

å¯¹äºå…¨éƒ¨çš„æµ‹è¯•ç‚¹ï¼Œä¿è¯ $1 \leq n \leq 3.2 \times 10^4$ï¼Œ$1 \leq m \leq 60$ï¼Œ$0 \leq v_i \leq 10^4$ï¼Œ$1 \leq p_i \leq 5$ï¼Œ$0 \leq q_i \leq m$ï¼Œç­”æ¡ˆä¸è¶…è¿‡ $2 \times 10^5$ã€‚

NOIP 2006 æé«˜ç»„ ç¬¬äºŒé¢˜

## æ ·ä¾‹ #1

### è¾“å…¥

```
1000 5
800 2 0
400 5 1
300 5 1
400 3 0
500 2 0
```

### è¾“å‡º

```
2200```

# AIåˆ†æç»“æœ


# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šé‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> æ¬¢è¿å„ä½å­¦ä¹ è€…ï¼æˆ‘æ˜¯Kayï¼Œä»Šå¤©æˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢ã€Œé‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆã€è¿™é“ç»å…¸åŠ¨æ€è§„åˆ’é¢˜ç›®ã€‚æˆ‘ä¼šç”¨æ¸…æ™°çš„è®²è§£å’Œç”ŸåŠ¨çš„å¯è§†åŒ–æ–¹æ¡ˆï¼Œå¸®åŠ©å¤§å®¶æŒæ¡ä¾èµ–èƒŒåŒ…é—®é¢˜çš„æ ¸å¿ƒæŠ€å·§ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹å§ï¼

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`åŠ¨æ€è§„åˆ’ï¼ˆåˆ†ç»„èƒŒåŒ…å˜ä½“ï¼‰`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³è¿™é“é¢˜å°±åƒåœ¨ç»„è£…ä¸€å°å®šåˆ¶ç”µè„‘ï¼šä¸»ä»¶æ˜¯æ ¸å¿ƒéƒ¨ä»¶ï¼ˆå¦‚ä¸»æœºï¼‰ï¼Œé™„ä»¶æ˜¯å¯é€‰é…ä»¶ï¼ˆå¦‚å†…å­˜æ¡ï¼‰ã€‚**å…³é”®è§„åˆ™æ˜¯ï¼šä¹°é…ä»¶å¿…é¡»å…ˆä¹°ä¸»æœºï¼** åŠ¨æ€è§„åˆ’åœ¨è¿™é‡Œå°±åƒä¸€ä½ç²¾æ˜çš„è´¢åŠ¡é¡¾é—®ï¼Œå¸®æˆ‘ä»¬åœ¨é¢„ç®—å†…ç»„åˆå‡ºæ€§èƒ½æœ€å¼ºçš„æ–¹æ¡ˆã€‚

- **æ ¸å¿ƒæ€è·¯**ï¼šå°†æ¯ä¸ªä¸»ä»¶åŠå…¶é™„ä»¶è§†ä¸ºä¸€ä¸ª"å•†å“ç»„"ï¼Œç»„å†…æœ‰5ç§è´­ä¹°æ–¹æ¡ˆï¼ˆä¸ä¹°/åªä¹°ä¸»æœº/ä¸»æœº+é…ä»¶1/ä¸»æœº+é…ä»¶2/å…¨ä¹°ï¼‰ã€‚ç”¨èƒŒåŒ…DPè®¡ç®—æœ€ä¼˜ç»„åˆã€‚
- **ç®—æ³•æµç¨‹**ï¼š
  1. **é¢„å¤„ç†**ï¼šç”¨äºŒç»´æ•°ç»„æˆ–ç»“æ„ä½“å­˜å‚¨ä¸»é™„ä»¶å…³ç³»
  2. **DPçŠ¶æ€**ï¼š`dp[j]`è¡¨ç¤ºé¢„ç®—ä¸ºjæ—¶çš„æœ€å¤§ä»·å€¼
  3. **çŠ¶æ€è½¬ç§»**ï¼šå¯¹æ¯ç»„æšä¸¾5ç§æƒ…å†µæ›´æ–°DP
- **å¯è§†åŒ–è®¾è®¡**ï¼šé‡‡ç”¨å¤å¤æ¸¸æˆå•†åº—ç•Œé¢ï¼Œä¸»ä»¶ä½œä¸º"å•†å“è´§æ¶"ï¼Œé™„ä»¶ä½œä¸º"å¯é€‰é…ä»¶"ã€‚DPæ›´æ–°æ—¶æ˜¾ç¤ºé‡‘å¸æ¶ˆè€—å’Œæ€§èƒ½å€¼å˜åŒ–ï¼Œå…³é”®æ­¥éª¤ç”¨åƒç´ åŠ¨ç”»å±•ç¤ºç»„åˆæ–¹æ¡ˆï¼ˆè¯¦è§ç¬¬5èŠ‚ï¼‰ã€‚

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

> æˆ‘ä»æ€è·¯æ¸…æ™°åº¦ã€ä»£ç è§„èŒƒæ€§ã€ç®—æ³•ä¼˜åŒ–ç­‰ç»´åº¦ç²¾é€‰äº†3ä»½ä¼˜è´¨é¢˜è§£ï¼š

**é¢˜è§£ä¸€ï¼šAnguei (èµ269)**
* **ç‚¹è¯„**ï¼š
  - æ€è·¯åˆ›æ–°ç‚¹ï¼šç”¨lambdaå‡½æ•°å°è£…ä»·æ ¼è®¡ç®—ï¼Œé¿å…é‡å¤ä»£ç 
  - ä»£ç äº®ç‚¹ï¼šå¸¸é‡å‘½åè§„èŒƒ(kMaxN)ï¼Œä¸€ç»´DPç©ºé—´ä¼˜åŒ–
  - ç®—æ³•æ•ˆç‡ï¼šO(n*m)æ—¶é—´å¤æ‚åº¦ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨
  - å®è·µä»·å€¼ï¼šå·¥ä¸šçº§ä»£ç é£æ ¼ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›

**é¢˜è§£äºŒï¼štuntunQwQ (èµ33)**
* **ç‚¹è¯„**ï¼š
  - æ€è·¯äº®ç‚¹ï¼šäºŒç»´DPå®ç°æ›´ç›´è§‚å±•ç¤ºçŠ¶æ€è½¬ç§»
  - ä»£ç ç‰¹ç‚¹ï¼šç®€çŸ­ç›´æ¥ï¼Œé€‚åˆå¿«é€Ÿç†è§£æ ¸å¿ƒé€»è¾‘
  - æ•™å­¦ä»·å€¼ï¼šæ— å¤æ‚å°è£…ï¼Œåˆå­¦è€…å‹å¥½

**é¢˜è§£ä¸‰ï¼šClV_Csy (èµ5)**
* **ç‚¹è¯„**ï¼š
  - ç»“æ„ä¼˜åŠ¿ï¼šç»“æ„ä½“æ¸…æ™°ç®¡ç†ä¸»é™„ä»¶æ•°æ®
  - ä»£ç äº®ç‚¹ï¼šè¯¦ç»†æ³¨é‡Šè§£é‡Šæ¯ç§è´­ä¹°æƒ…å†µ
  - å­¦ä¹ ä»·å€¼ï¼šå±•ç¤ºæ•°æ®ç»“æ„åœ¨DPä¸­çš„å…¸å‹åº”ç”¨

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

> ä»¥ä¸‹æ˜¯è§£å†³æ­¤ç±»é—®é¢˜çš„å…³é”®éš¾ç‚¹åŠåº”å¯¹ç­–ç•¥ï¼š

1. **éš¾ç‚¹1ï¼šä¾èµ–å…³ç³»å»ºæ¨¡**
   * **åˆ†æ**ï¼šé™„ä»¶å¿…é¡»éšä¸»ä»¶è´­ä¹° â†’ è½¬åŒ–ä¸ºåˆ†ç»„èƒŒåŒ…é—®é¢˜
   * **è§£å†³**ï¼šåˆ›å»º"ä¸»ä»¶ç»„"æ•°æ®ç»“æ„ï¼Œé¢„è®¡ç®—5ç§ç»„åˆæ–¹æ¡ˆ
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šä¾èµ–å…³ç³»æœ¬è´¨æ˜¯å†³ç­–æ ‘çš„å‰ªæ

2. **éš¾ç‚¹2ï¼šçŠ¶æ€è½¬ç§»å¤æ‚æ€§**
   * **åˆ†æ**ï¼šæ¯ç»„éœ€å¤„ç†æœ€å¤š5ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹
   * **è§£å†³**ï¼šå°è£…è®¡ç®—é€»è¾‘ï¼ˆå¦‚lambdaå‡½æ•°ï¼‰ï¼Œé¿å…é‡å¤ä»£ç 
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šä»£ç æ¨¡å—åŒ–æ˜¯å¤æ‚DPçš„æ•‘æ˜Ÿ

3. **éš¾ç‚¹3ï¼šç©ºé—´ä¼˜åŒ–**
   * **åˆ†æ**ï¼šäºŒç»´DPç©ºé—´å¼€é”€å¤§(m*n=60*3.2wâ‰ˆ192ä¸‡)
   * **è§£å†³**ï¼šé€†åºæ›´æ–°ä¸€ç»´DPæ•°ç»„
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š"æ»šåŠ¨æ•°ç»„"æ˜¯èƒŒåŒ…é—®é¢˜çš„ç»å…¸ä¼˜åŒ–æŠ€å·§

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **åˆ†ç»„æšä¸¾æ³•**ï¼šå°†å¤æ‚ä¾èµ–è½¬åŒ–ä¸ºæœ‰é™ç»„åˆï¼ˆæœ¬é¢˜æ¯ç»„â‰¤5ç§ï¼‰
- **é¢„å¤„ç†å°è£…**ï¼šæå‰è®¡ç®—ç»„åˆèŠ±è´¹/ä»·å€¼ï¼Œç®€åŒ–DPæ ¸å¿ƒé€»è¾‘
- **è¾¹ç•Œé˜²å¾¡**ï¼šä¸¥æ ¼æ£€æŸ¥`j>=cost`é˜²æ­¢æ•°ç»„è¶Šç•Œ
- **æ•°æ®ç»“æ„é€‰æ‹©**ï¼šå°è§„æ¨¡æ•°æ®ç”¨æ•°ç»„ï¼Œå¤æ‚å…³ç³»ç”¨ç»“æ„ä½“

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šç»¼åˆä¼˜è´¨é¢˜è§£ä¼˜åŒ–çš„æ¸…æ™°å®ç°
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <iostream>
#include <algorithm>
using namespace std;
const int MAX_N = 32000, MAX_M = 60;

struct Component {
    int main_v = 0, main_val = 0;    // ä¸»ä»¶ä»·æ ¼å’Œä»·å€¼
    int sub1_v = 0, sub1_val = 0;    // é™„ä»¶1
    int sub2_v = 0, sub2_val = 0;    // é™„ä»¶2
} items[MAX_M];

int dp[MAX_N] = {0};  // ä¸€ç»´DPæ•°ç»„

int main() {
    int budget, item_count;
    cin >> budget >> item_count;
    
    // é¢„å¤„ç†ï¼šå»ºç«‹ä¸»é™„ä»¶å…³ç³»
    for (int i = 1; i <= item_count; i++) {
        int price, importance, parent;
        cin >> price >> importance >> parent;
        
        if (parent == 0) { // ä¸»ä»¶
            items[i].main_v = price;
            items[i].main_val = price * importance;
        } else if (items[parent].sub1_v == 0) { // ç¬¬ä¸€ä¸ªé™„ä»¶
            items[parent].sub1_v = price;
            items[parent].sub1_val = price * importance;
        } else { // ç¬¬äºŒä¸ªé™„ä»¶
            items[parent].sub2_v = price;
            items[parent].sub2_val = price * importance;
        }
    }

    // åŠ¨æ€è§„åˆ’æ ¸å¿ƒ
    for (int i = 1; i <= item_count; i++) {
        if (items[i].main_val == 0) continue; // è·³è¿‡é™„ä»¶
        
        // äº”ç§ç»„åˆæ–¹æ¡ˆ
        int cost[5] = {0}, value[5] = {0};
        cost[1] = items[i].main_v; value[1] = items[i].main_val; // ä»…ä¸»ä»¶
        cost[2] = items[i].main_v + items[i].sub1_v; 
        value[2] = items[i].main_val + items[i].sub1_val; // ä¸»+é™„1
        cost[3] = items[i].main_v + items[i].sub2_v;
        value[3] = items[i].main_val + items[i].sub2_val; // ä¸»+é™„2
        cost[4] = items[i].main_v + items[i].sub1_v + items[i].sub2_v;
        value[4] = items[i].main_val + items[i].sub1_val + items[i].sub2_val; // å…¨å®¶æ¡¶
        
        // èƒŒåŒ…DPæ›´æ–°
        for (int j = budget; j >= 0; j--) {
            for (int k = 1; k <= 4; k++) {
                if (j >= cost[k]) { // ç¡®ä¿é¢„ç®—è¶³å¤Ÿ
                    dp[j] = max(dp[j], dp[j - cost[k]] + value[k]);
                }
            }
        }
    }
    
    cout << dp[budget] << endl;
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
  1. **æ•°æ®ç»“æ„**ï¼šç”¨`Component`ç»“æ„ä½“ç®¡ç†ä¸»ä»¶å’Œé™„ä»¶
  2. **é¢„å¤„ç†**ï¼šè¯»å…¥æ—¶å»ºç«‹ä¸»é™„ä»¶å…³ç³»æ ‘
  3. **ç»„åˆé¢„è®¡ç®—**ï¼šæå‰ç®—å‡º5ç§æ–¹æ¡ˆçš„èŠ±è´¹/ä»·å€¼
  4. **DPæ›´æ–°**ï¼šé€†åºéå†é¢„ç®—ï¼Œå¯¹æ¯ç§æ–¹æ¡ˆæ›´æ–°æœ€å¤§å€¼
  5. **è¾¹ç•Œä¿æŠ¤**ï¼š`j >= cost[k]`ç¡®ä¿ä¸è¶Šç•Œ

### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

**é¢˜è§£ä¸€ï¼šAnguei - Lambdaä¼˜åŒ–**
* **äº®ç‚¹**ï¼šç”¨Lambdaè¡¨è¾¾å¼ç®€åŒ–å¤æ‚è®¡ç®—
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
auto cost2 = [](int x, int y) { 
    return items[i].main_v + items[i].sub_v[y]; 
};
if (j >= cost2(1)) 
    dp[j] = max(dp[j], dp[j - cost2(1)] + ...);
```
* **ä»£ç è§£è¯»**ï¼š
  > Lambdaåƒæ•°å­¦å…¬å¼ï¼šå®šä¹‰`cost2`è®¡ç®—ç»„åˆä»·æ ¼ â†’ ä»£ç æ›´ç®€æ´
  > ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼Ÿé¿å…é‡å¤è®¡ç®—ç›¸åŒè¡¨è¾¾å¼
  > æ³¨æ„ï¼šLambdaæ•è·å½“å‰`items[i]`çŠ¶æ€

**é¢˜è§£äºŒï¼štuntunQwQ - äºŒç»´DP**
* **äº®ç‚¹**ï¼šäºŒç»´DPæ¸…æ™°å±•ç¤ºçŠ¶æ€è½¬ç§»
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
for (int i=1; i<=m; i++) {
    for (int j=0; j<=n; j++) {
        f[i][j] = f[i-1][j]; // ä¸é€‰å½“å‰ç»„
        if (j >= main_cost) // é€‰ä¸»ä»¶
            f[i][j] = max(f[i][j], f[i-1][j-main_cost] + main_val);
        // ...å…¶ä»–ç»„åˆ
    }
}
```
* **ä»£ç è§£è¯»**ï¼š
  > äºŒç»´æ•°ç»„`f[i][j]`ç›´è§‚ä½†è€—å†…å­˜ â†’ é€‚åˆå°è§„æ¨¡æ•°æ®
  > å…ˆç»§æ‰¿"ä¸é€‰"çŠ¶æ€ â†’ å†å°è¯•æ›´æ–°é€‰æ‹©çŠ¶æ€
  > æ•™å­¦ä»·å€¼ï¼šå±•ç¤ºDPçŠ¶æ€æœºå¦‚ä½•é€æ­¥æ¼”è¿›

**é¢˜è§£ä¸‰ï¼šClV_Csy - ç»“æ„ä½“åº”ç”¨**
* **äº®ç‚¹**ï¼šç»“æ„ä½“ç»„ç»‡å¤æ‚æ•°æ®
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
struct Item {
    int v0, p0, v1, p1, v2, p2; 
} items[65];
// ä½¿ç”¨æ—¶ç›´æ¥è®¿é—®items[i].v0ç­‰
```
* **ä»£ç è§£è¯»**ï¼š
  > ç»“æ„ä½“å°†ç›¸å…³æ•°æ®æ†ç»‘ â†’ æ¯”äºŒç»´æ•°ç»„æ›´è¯­ä¹‰åŒ–
  > ç±»ä¼¼OOPæ€æƒ³ï¼šæ¯ä¸ªä¸»ä»¶æ˜¯ç‹¬ç«‹"å¯¹è±¡"
  > æ‰©å±•æ€§ï¼šæ˜“æ·»åŠ æ–°å±æ€§ï¼ˆå¦‚åº“å­˜çŠ¶æ€ï¼‰

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

> æˆ‘ä»¬å°†é€šè¿‡**8ä½å¤å¤å•†åº—æ¨¡æ‹Ÿæ¸¸æˆ**ç†è§£ç®—æ³•ï¼Œå°±åƒåœ¨NESä¸Šç©ã€Šå•†åº—å¤§äº¨ã€‹ï¼

### åŠ¨ç”»è®¾è®¡è¯´æ˜
- **ä¸»é¢˜**ï¼šåƒç´ é£ç”µå­å•†åŸï¼ˆä¸»ä»¶=ä¸»æœºï¼Œé™„ä»¶=é…ä»¶ï¼‰
- **æ ¸å¿ƒæ¼”ç¤º**ï¼šèƒŒåŒ…DPå¦‚ä½•é€æ­¥é€‰æ‹©æœ€ä¼˜ç»„åˆ
- **é£æ ¼**ï¼šFCçº¢ç™½æœºå¤å¤åƒç´ é£ï¼ˆ16è‰²è°ƒè‰²æ¿ï¼‰

### å…³é”®åŠ¨ç”»åœºæ™¯
```mermaid
graph LR
    A[å¼€å§‹ç•Œé¢] --> B[å•†å“å±•ç¤º]
    B --> C[DPçŠ¶æ€ç½‘æ ¼]
    C --> D[ç»„åˆé€‰æ‹©]
    D --> E[é‡‘å¸åŠ¨ç”»]
    E --> F[ç»“æœåº†ç¥]
```

### äº¤äº’å¼æ¼”ç¤ºæ­¥éª¤
1. **å•†åº—åˆå§‹åŒ–ï¼ˆåƒç´ åœºæ™¯ï¼‰**ï¼š
   - å·¦ä¾§ï¼šå•†å“æ¶å±•ç¤ºä¸»ä»¶ï¼ˆä¸åŒé¢œè‰²æ–¹å—ï¼‰
   - å³ä¾§ï¼šDPçŠ¶æ€ç½‘æ ¼ï¼ˆXè½´=é¢„ç®—ï¼ŒYè½´=ä»·å€¼ï¼‰
   - åº•éƒ¨ï¼šæ§åˆ¶é¢æ¿ï¼ˆæ­¥è¿›/æš‚åœ/è°ƒé€Ÿæ»‘å—ï¼‰

2. **å¤„ç†ä¸»ä»¶ç»„ï¼ˆåŠ¨ç”»é«˜äº®ï¼‰**ï¼š
   - å½“å‰ä¸»ä»¶é—ªçƒï¼ˆé…8bitéŸ³æ•ˆï¼‰
   - å¼¹å‡ºäº”ç§è´­ä¹°é€‰é¡¹ï¼ˆé…ä¸åŒé¢œè‰²è¾¹æ¡†ï¼‰
   - ç©å®¶/AIé€‰æ‹©æ–¹æ¡ˆï¼ˆæ–¹å‘é”®+ç¡®è®¤éŸ³æ•ˆï¼‰

3. **DPæ›´æ–°ï¼ˆåƒç´ åŠ¨ç”»ï¼‰**ï¼š
   - é‡‘å¸å‡å°‘åŠ¨ç”»ï¼ˆé¢„ç®—å‡å°‘ï¼‰
   - ä»·å€¼æ¡å¢é•¿ï¼ˆç»¿è‰²åƒç´ å—å‘ä¸Šå¡«å……ï¼‰
   - ç½‘æ ¼å¯¹åº”ä½ç½®äº®èµ·ï¼ˆé…"å‡çº§"éŸ³æ•ˆï¼‰

4. **å…³é”®æ“ä½œæç¤º**ï¼š
   - é€‰æ‹©é™„ä»¶æ—¶æ˜¾ç¤ºä¾èµ–å…³ç³»ï¼ˆç®­å¤´è¿æ¥ä¸»é™„ä»¶ï¼‰
   - æ— æ•ˆæ“ä½œæ—¶æ˜¾ç¤ºçº¢è‰²"X"ï¼ˆé…è­¦å‘ŠéŸ³ï¼‰
   - æœ€ä½³é€‰æ‹©æ—¶æ˜¾ç¤ºé‡‘è‰²è¾¹æ¡†ï¼ˆé…å–å½©éŸ³ï¼‰

5. **æ¸¸æˆåŒ–å…ƒç´ **ï¼š
   - æ¯å®Œæˆä¸€ç»„=é€šè¿‡å°å…³å¡ï¼ˆ+100åˆ†ï¼‰
   - è¿ç»­æœ€ä¼˜è§£è§¦å‘è¿å‡»å¥–åŠ±ï¼ˆCOMBO!ï¼‰
   - æœ€ç»ˆç»“ç®—ï¼šæ˜¾ç¤ºè´­ä¹°æ¸…å•å’Œæ€§èƒ½è¯„åˆ†

### æŠ€æœ¯å®ç°è‰å›¾
```javascript
// ä¼ªä»£ç ï¼šæ ¸å¿ƒåŠ¨ç”»å¾ªç¯
function updateFrame() {
    drawBackground(); // ç»˜åˆ¶å•†åº—åœºæ™¯
    drawItems();      // ç»˜åˆ¶å½“å‰å•†å“ç»„
    drawDPGrid();     // ç»˜åˆ¶DPçŠ¶æ€ç½‘æ ¼
    
    if (autoPlay) {
        let bestChoice = calculateOptimal();
        highlightChoice(bestChoice); // é«˜äº®æœ€ä½³é€‰æ‹©
        applyChoice(bestChoice);    // æ›´æ–°DPçŠ¶æ€
        playSound('select');        // æ’­æ”¾é€‰æ‹©éŸ³æ•ˆ
    }
}
```

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æŠ€å·§è¿ç§»
åˆ†ç»„èƒŒåŒ…æ€æƒ³è¿˜å¯ç”¨äºï¼š
1. è¯¾ç¨‹é€‰ä¿®ï¼ˆå…ˆä¿®è¯¾ä¾èµ–ï¼‰
2. è£…å¤‡é•¶åµŒç³»ç»Ÿï¼ˆå®çŸ³ä¾èµ–è£…å¤‡ï¼‰
3. å®¶åº­é‡‡è´­å†³ç­–ï¼ˆå…¨å®¶ç‰©å“ç»„åˆï¼‰

### æ´›è°·æ¨èé¢˜ç›®
1. **P1048 é‡‡è¯**  
   â†’ åŸºç¡€01èƒŒåŒ…ï¼Œå·©å›ºDPæ€æƒ³
   
2. **P2014 [CTSC1997] é€‰è¯¾**  
   â†’ æ ‘å½¢ä¾èµ–èƒŒåŒ…ï¼Œæœ¬é¢˜è¿›é˜¶ç‰ˆ
   
3. **P1060 å¼€å¿ƒçš„é‡‘æ˜**  
   â†’ åŒç±»èƒŒæ™¯çš„ç®€åŒ–èƒŒåŒ…é—®é¢˜

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> æ¥è‡ªé¢˜è§£ä½œè€…çš„ç»éªŒç»“æ™¶ï¼š

**Angueiçš„è°ƒè¯•å¿ƒå¾—**ï¼š  
*"åœ¨å®ç°DPæ—¶ï¼Œå…ˆæ‰“å°ä¸­é—´çŠ¶æ€è¡¨æ ¼ï¼Œèƒ½å¿«é€Ÿå®šä½è½¬ç§»é”™è¯¯ã€‚"*

**Kayçš„æ€»ç»“**ï¼š  
åŠ¨æ€è§„åˆ’å°±åƒæ­ç§¯æœ¨â€”â€”å…ˆè®¾è®¡å¥½çŠ¶æ€æ¶æ„ï¼Œå†å°å¿ƒæ”¾ç½®æ¯å—ç§¯æœ¨ï¼ˆçŠ¶æ€è½¬ç§»ï¼‰ã€‚è°ƒè¯•æ—¶ä»ç®€å•æ¡ˆä¾‹å¼€å§‹ï¼Œé€æ­¥éªŒè¯æ¯æ­¥å†³ç­–ï¼

---

> æ­å–œå®Œæˆæœ¬æ¬¡å­¦ä¹ ï¼é€šè¿‡åˆ†ç»„èƒŒåŒ…çš„æ€æƒ³ï¼Œæˆ‘ä»¬ä¸ä»…è§£å†³äº†é‡‘æ˜çš„è´­ç‰©éš¾é¢˜ï¼Œæ›´æŒæ¡äº†å¤„ç†ä¾èµ–å…³ç³»çš„é€šç”¨æ–¹æ³•ã€‚è®°ä½ï¼šå¥½çš„ç®—æ³•è®¾è®¡å°±åƒç²¾æ‰“ç»†ç®—çš„è´­ç‰©ï¼Œè¦åœ¨çº¦æŸä¸­æ‰¾åˆ°æœ€ä¼˜è§£ã€‚ä¸‹æ¬¡è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š195.82ç§’
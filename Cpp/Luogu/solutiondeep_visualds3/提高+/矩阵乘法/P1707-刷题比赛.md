# é¢˜ç›®ä¿¡æ¯

# åˆ·é¢˜æ¯”èµ›

## é¢˜ç›®èƒŒæ™¯

nodgd æ˜¯ä¸€ä¸ªå–œæ¬¢å†™ç¨‹åºçš„åŒå­¦ï¼Œå‰ä¸ä¹…æ´›è°· OJ æ¨ªç©ºå‡ºä¸–ï¼Œnodgd åŒå­¦å½“ç„¶ç¬¬ä¸€æ—¶é—´æ¥åˆ°æ´›è°· OJ åˆ·é¢˜ã€‚   
äºæ˜¯å‘ç”Ÿäº†ä¸€ç³»åˆ—æœ‰è¶£çš„äº‹æƒ…ï¼Œä»–å°±æ‰“ç®—ç”¨è¿™äº›äº‹æƒ…æ¥å‡ºé¢˜æ¶å¿ƒå¤§å®¶â€¦â€¦


## é¢˜ç›®æè¿°

æ´›è°·OJå½“ç„¶ç®—æ˜¯å¥½åœ°æ–¹ï¼Œnodgd åŒå­¦æ‰“ç®—å’Œæœ‹å‹åˆ†äº«ä¸€ä¸‹ã€‚äºæ˜¯ä»–å°±æ‹‰ä¸Šäº†ä»–çš„æœ‹å‹ Ciocio å’Œ Nicole ä¸¤ä½åŒå­¦ä¸€èµ·åˆ·é¢˜ã€‚å–œæ¬¢æ¯”èµ›çš„ä»–ä»¬å½“ç„¶ä¸æ”¾è¿‡è¿™æ ·ä¸€æ¬¡åˆ·é¢˜æ¯”èµ›çš„æœºä¼šï¼

åœ¨ç¬¬ $1$ å¤© nodgd,Coicoi,Nicole éƒ½åªåšäº† $1$ é“é¢˜ã€‚

åœ¨ç¬¬ $2$ å¤© nodgd,Coicoi,Nicole éƒ½åªåšäº† $3$ é“é¢˜ã€‚

ä»–ä»¬éƒ½æœ‰ç€ä¸¥æ ¼çš„åˆ·é¢˜è§„åˆ™ï¼Œå¹¶ä¸”ä¼šåœ¨æ¯ä¸€å¤©éƒ½å¾ˆéµå®ˆè§„åˆ™çš„åˆ·ä¸€å®šé‡çš„é¢˜ã€‚

1ã€nodgd åŒå­¦ç¬¬ $k+2$ å¤©åˆ·é¢˜æ•°é‡    
$$a_{k+2}=pa_{k+1}+qa_k+b_{k+1}+c_{k+1}+rk^2+tk+1$$

2ã€Ciocio åŒå­¦ç¬¬ $k+2$ å¤©åˆ·é¢˜æ•°é‡      
$$b_{k+2}=ub_{k+1}+vb_k+a_{k+1}+c_{k+1}+w^k$$

3ã€Nicole åŒå­¦ç¬¬ $k+2$ å¤©åˆ·é¢˜æ•°é‡    
$$c_{k+2} = xc_{k+1}+yc_k + a_{k+1} + b_{k+1} + z^k+k+2$$

ï¼ˆä»¥ä¸Šçš„å­—æ¯ $p,q,r,t,u,v,w,x,y,z$ éƒ½æ˜¯ç»™å®šçš„å¸¸æ•°ï¼Œå¹¶ä¿è¯æ˜¯æ­£æ•´æ•°ï¼‰

äºæ˜¯ä»–ä»¬å¼€å§‹äº†é•¿æ—¶é—´çš„åˆ·é¢˜æ¯”èµ›ï¼ä¸€å…±è¿›è¡Œäº† $n$ å¤©

ä½†æ˜¯æ—¶é—´æ˜¯å¯è´µçš„ï¼Œnodgd æƒ³å¿«é€ŸçŸ¥é“ç¬¬ $n$ å¤©æ¯ä¸ªäººçš„åˆ·é¢˜æ•°é‡ã€‚  
ä¸è¿‡ nodgd åŒå­¦è¿˜æœ‰å¤§é‡çš„æ•°å­¦ç«èµ›é¢˜ã€ç‰©ç†ç«èµ›é¢˜ã€è‹±è¯­ç«èµ›é¢˜ã€ç¾æœ¯ç«èµ›é¢˜ã€ä½“è‚²ç«èµ›é¢˜â€¦â€¦ è¦åšï¼Œå°±æ‹œæ‰˜ä½ æ¥å¸®ä»–ç®—ç®—äº†ã€‚

ç”±äºç»“æœå¾ˆå¤§ï¼Œè¾“å‡ºç»“æœ $\bmod \space m$ çš„å€¼å³å¯ã€‚


## è¯´æ˜/æç¤º

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$4\le n \le 10^{16}$ï¼Œ$2\le m \le 10^{16}$ï¼Œ$1\le p,q,r,t,u,v,w,x,y,z \le 100$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
4 10007
2 1 1 1
2 2 3
1 1 2```

### è¾“å‡º

```
nodgd 74
Ciocio 80
Nicole 59```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šåˆ·é¢˜æ¯”èµ› æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### **é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«**
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šçŸ©é˜µåŠ é€Ÿçº¿æ€§é€’æ¨  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³â€œåˆ·é¢˜æ¯”èµ›â€çš„å…³é”®åœ¨äºæ„å»ºçŠ¶æ€çŸ©é˜µå’Œè½¬ç§»çŸ©é˜µã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œç®—æ³•å°±åƒä¸€å°ç²¾å¯†çš„å¤å¤æ¸¸æˆæœºğŸ®ï¼Œæ¯ä¸ªé½¿è½®ï¼ˆçŠ¶æ€å˜é‡ï¼‰å¿…é¡»å®Œç¾å’¬åˆã€‚æœ¬é¢˜éœ€è¦ç»´æŠ¤11ä¸ªçŠ¶æ€å˜é‡ï¼ˆå¦‚åˆ·é¢˜æ•°ã€å¹³æ–¹é¡¹ã€æŒ‡æ•°é¡¹ç­‰ï¼‰ï¼Œé€šè¿‡çŸ©é˜µä¹˜æ³•å®ç°é«˜æ•ˆé€’æ¨ã€‚æ ¸å¿ƒéš¾ç‚¹åœ¨äºï¼š
> - çŠ¶æ€çŸ©é˜µéœ€åŒ…å«éçº¿æ€§é¡¹ï¼ˆkÂ², wáµ, záµï¼‰å’Œå¸¸æ•°é¡¹
> - è½¬ç§»çŸ©é˜µéœ€ç²¾ç¡®åæ˜ é€’æ¨å…¬å¼çš„äº¤å‰ä¾èµ–å…³ç³»
> - å¤§æ•°ä¹˜æ³•éœ€ç”¨é¾Ÿé€Ÿä¹˜é¿å…æº¢å‡º

å¯è§†åŒ–æ–¹æ¡ˆè®¾è®¡ï¼š
- ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºçŠ¶æ€çŸ©é˜µå˜åŒ–ï¼Œæ¯ä¸ªå˜é‡ç”¨ä¸åŒé¢œè‰²æ–¹å—è¡¨ç¤º
- é«˜äº®å½“å‰è®¡ç®—çš„è¡Œè½¬ç§»çŸ©é˜µï¼ˆå¦‚çº¢è‰²è¾¹æ¡†ï¼‰
- æ¯æ¬¡çŸ©é˜µä¹˜æ³•æ—¶æ’­æ”¾â€œå’”å“’â€éŸ³æ•ˆï¼ŒæˆåŠŸæ—¶æ’­æ”¾FCæ¸¸æˆé€šå…³éŸ³æ•ˆ

#### **ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ**
**é¢˜è§£ä¸€ï¼ˆSDqwqï¼‰**
* **ç‚¹è¯„**ï¼š  
  æ€è·¯æ¸…æ™°ç›´ç™½ï¼Œå®Œæ•´æ¨å¯¼11ç»´çŠ¶æ€çŸ©é˜µï¼Œä»£ç è§„èŒƒï¼ˆé¾Ÿé€Ÿä¹˜å°è£…å®Œå–„ï¼‰ã€‚äº®ç‚¹åœ¨äºï¼š
  - çŠ¶æ€çŸ©é˜µè®¾è®¡åˆç†ï¼Œå®Œç¾èåˆéçº¿æ€§é¡¹
  - å®Œæ•´åˆå§‹åŒ–é€»è¾‘å¤„ç†è¾¹ç•Œæƒ…å†µ
  - æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–åˆ°O(log n)ï¼Œå®è·µä»·å€¼é«˜

**é¢˜è§£äºŒï¼ˆnodgdï¼‰**
* **ç‚¹è¯„**ï¼š  
  ä½œè€…åŸåˆ›é¢˜è§£å…·æƒå¨æ€§ï¼Œäº®ç‚¹åœ¨ï¼š
  - ç‹¬åˆ›çŠ¶æ€çŸ©é˜µæ’åˆ—æ–¹å¼ï¼ˆa/b/cäº¤é”™å­˜å‚¨ï¼‰
  - è¯¦ç»†æ³¨é‡Šè½¬ç§»çŸ©é˜µæ¯ä¸ªå…ƒç´ çš„æ¨å¯¼ä¾æ®
  - å¼ºè°ƒé¾Ÿé€Ÿä¹˜çš„å¿…è¦æ€§ï¼Œä½“ç°å·¥ç¨‹ä¸¥è°¨æ€§

**é¢˜è§£ä¸‰ï¼ˆqwaszxï¼‰**
* **ç‚¹è¯„**ï¼š  
  ä»¥æ•ˆç‡è§é•¿ï¼Œäº®ç‚¹åŒ…æ‹¬ï¼š
  - ä½¿ç”¨__int128ä¼˜åŒ–å¤§æ•°è¿ç®—ï¼ˆéœ€æ³¨æ„æ¯”èµ›åˆè§„æ€§ï¼‰
  - ç¨€ç–çŸ©é˜µä¹˜æ³•ä¼˜åŒ–ï¼ˆè·³è¿‡é›¶å…ƒè®¡ç®—ï¼‰
  - å®Œæ•´çŠ¶æ€è½¬ç§»è¡¨æ ¼ï¼Œä¾¿äºç†è§£

#### **æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥**
1. **çŠ¶æ€çŸ©é˜µè®¾è®¡**
   * **åˆ†æ**ï¼šéœ€åŒæ—¶ç»´æŠ¤çº¿æ€§é¡¹(a/b/c)ã€éçº¿æ€§é¡¹(kÂ²/wáµ/záµ)å’Œå¸¸æ•°é¡¹ã€‚ä¼˜è´¨è§£æ³•ç”¨11ç»´å‘é‡è¦†ç›–æ‰€æœ‰ä¾èµ–é¡¹
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šçŠ¶æ€çŸ©é˜µæ˜¯é€’æ¨çš„"è®°å¿†å®¹å™¨"ï¼Œå¿…é¡»å®Œæ•´å°è£…æ‰€æœ‰å½±å“å› å­

2. **è½¬ç§»çŸ©é˜µæ„é€ **
   * **åˆ†æ**ï¼šéœ€ä¸¥æ ¼æ¨å¯¼æ¯ä¸ªå…ƒç´ çš„ç³»æ•°ï¼š
     - å¹³æ–¹é¡¹é€šè¿‡(k+1)Â² = kÂ² + 2k + 1 è½¬åŒ–
     - æŒ‡æ•°é¡¹é€šè¿‡wáµâºÂ¹ = wÂ·wáµ çº¿æ€§åŒ–
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šè½¬ç§»çŸ©é˜µæ˜¯"é€’æ¨å¼•æ“"ï¼Œæ¯ä¸ªç³»æ•°éƒ½æ˜¯å…¬å¼çš„æœºæ¢°ç¿»è¯‘

3. **å¤§æ•°å¤„ç†æŠ€å·§**
   * **åˆ†æ**ï¼šå½“mod > 10Â¹â¶æ—¶ï¼Œå¸¸è§„ä¹˜æ³•æº¢å‡ºã€‚é¾Ÿé€Ÿä¹˜ï¼ˆåŠ æ³•æ¨¡æ‹Ÿä¹˜æ³•ï¼‰æ˜¯å…³é”®ï¼š
     ```cpp
     ll mul(ll a,ll b){
         ll res=0;
         while(b){
             if(b&1) res=(res+a)%mod;
             a=(a+a)%mod; b>>=1;
         }
         return res;
     }
     ```
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šé¾Ÿé€Ÿä¹˜æ˜¯è§£å†³å¤§æ•°æº¢å‡ºçš„"å®‰å…¨æ°”å›Š"

#### **C++æ ¸å¿ƒä»£ç å®ç°èµæ**
**é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆç»¼åˆä¼˜åŒ–ç‰ˆï¼‰**
```cpp
#include <cstring>
#include <iostream>
using namespace std;
typedef long long ll;
const int SZ=11;

struct Matrix{
    ll a[SZ][SZ];
    Matrix() { memset(a,0,sizeof(a)); }
    Matrix operator*(const Matrix& b){
        Matrix res;
        for(int i=0;i<SZ;i++)
        for(int k=0;k<SZ;k++)
        for(int j=0;j<SZ;j++)
            res.a[i][j] = (res.a[i][j] + mul(a[i][k],b.a[k][j])) % mod;
        return res;
    }
};

Matrix qpow(Matrix base, ll n){
    Matrix res;
    for(int i=0;i<SZ;i++) res.a[i][i]=1;
    while(n){
        if(n&1) res=res*base;
        base=base*base; n>>=1;
    }
    return res;
}

int main(){
    // åˆå§‹åŒ–è½¬ç§»çŸ©é˜µï¼ˆè¯¦è§é¢˜è§£SDqwqï¼‰
    Matrix trans;
    trans.a[0][0]=p; trans.a[0][1]=1; ... // å®Œæ•´çŸ©é˜µè§æŠ¥å‘Šç»“å°¾
    // åˆå§‹çŠ¶æ€çŸ©é˜µ
    Matrix init;
    init.a[0][0]=3; init.a[1][0]=3; ... // a2,b2,c2,a1,b1,c1,k2,k,1,w,z
    
    Matrix ans = qpow(trans, n-2) * init;
    printf("nodgd %lld\nCiocio %lld\nNicole %lld", 
        ans.a[0][0], ans.a[1][0], ans.a[2][0]);
}
```

**é¢˜è§£ä¸€ï¼ˆSDqwqï¼‰æ ¸å¿ƒä»£ç ç‰‡æ®µ**
```cpp
// é¾Ÿé€Ÿä¹˜å®ç°
ll quickMul(ll a, ll b) {
    ll res=0; a%=mod; b%=mod;
    while(b) {
        if(b&1) res=(res+a)%mod;
        b>>=1; a=(a+a)%mod;
    }
    return res;
}
// çŸ©é˜µä¹˜æ³•
Matrix operator*(Matrix a, Matrix b){
    Matrix res;
    for(int i=1;i<=11;i++)
    for(int j=1;j<=11;j++)
    for(int k=1;k<=11;k++)
        res.a[i][j]=(res.a[i][j]+quickMul(a.a[i][k],b.a[k][j]))%mod;
    return res;
}
```

#### **ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º**
![](https://example.com/path/to/pixel_anim.gif)  
*å¤å¤æ¸¸æˆé£çŸ©é˜µè¿ç®—æ¼”ç¤ºï¼ˆè®¾è®¡ç¨¿ï¼‰*

1. **åœºæ™¯è®¾è®¡**
   - 11ä¸ªåƒç´ æ–¹å—ä»£è¡¨çŠ¶æ€å˜é‡ï¼ˆçº¢ï¼ša, è“ï¼šb, ç»¿ï¼šcï¼‰
   - 8-bité£æ ¼ç½‘æ ¼å±•ç¤ºè½¬ç§»çŸ©é˜µï¼Œå½“å‰æ“ä½œè¡Œé«˜äº®é—ªçƒ
   - å³ä¸‹è§’æ§åˆ¶é¢æ¿ï¼šæ­¥è¿›/æ’­æ”¾/è°ƒé€Ÿæ»‘å—

2. **åŠ¨ç”»æµç¨‹**
   ```mermaid
   graph LR
   A[åˆå§‹åŒ–åƒç´ ç½‘æ ¼] --> B[æ˜¾ç¤ºåˆå§‹çŠ¶æ€]
   B --> C{æ˜¯å¦ç»“æŸï¼Ÿ}
   C --å¦--> D[é«˜äº®å½“å‰è½¬ç§»è¡Œ]
   D --> E[æ’­æ”¾å’”å“’éŸ³æ•ˆ]
   E --> F[æ›´æ–°çŠ¶æ€æ–¹å—ä½ç½®]
   F --> G[æ˜¾ç¤ºæ–°çŠ¶æ€çŸ©é˜µ]
   G --> C
   C --æ˜¯--> H[æ˜¾ç¤ºæœ€ç»ˆç»“æœ+é€šå…³éŸ³æ•ˆ]
   ```

3. **äº¤äº’ç»†èŠ‚**
   - **å…³é”®æ“ä½œ**ï¼šçŸ©é˜µè¡Œä¹˜åˆ—æ—¶è§¦å‘åƒç´ ç²’å­åŠ¨ç”»
   - **éŸ³æ•ˆè®¾è®¡**ï¼š
     - è®¡ç®—ï¼š8-bitç”µå­éŸ³
     - é”™è¯¯ï¼šçŸ­ä¿ƒè­¦æŠ¥å£°
     - æˆåŠŸï¼šFCã€Šè¶…çº§ç›ä¸½ã€‹è¿‡å…³æ—‹å¾‹
   - **æ¸¸æˆåŒ–**ï¼šå°†11æ­¥è½¬ç§»è®¾è®¡ä¸ºæ¸¸æˆå…³å¡ï¼Œæ¯å…³è§£é”æ–°è§’è‰²

#### **æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ**
1. **æŠ€å·§è¿ç§»åœºæ™¯**ï¼š
   - å«æŒ‡æ•°é¡¹çš„é€’æ¨ï¼ˆå¦‚P4910 æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼‰
   - é«˜ç»´çŠ¶æ€å‹ç¼©ï¼ˆå¦‚P5059 ä¸­å›½è±¡æ£‹ï¼‰
   - éé½æ¬¡é¡¹å¤„ç†ï¼ˆå¦‚P5175 æ•°åˆ—ï¼‰

2. **æ´›è°·æ¨è**ï¼š
   1. **P1939** - æ¨¡æ¿é¢˜ï½œçŸ©é˜µåŠ é€Ÿæ•°åˆ—  
      *æŒæ¡åŸºæœ¬çŸ©é˜µæ„é€ *
   2. **P1397** - äºŒç»´çŠ¶æ€è½¬ç§»ï½œ[NOI2013]çŸ©é˜µæ¸¸æˆ  
      *å­¦ä¹ é«˜ç»´çŸ©é˜µåº”ç”¨*
   3. **P5175** - éé½æ¬¡é€’æ¨ï½œæ•°åˆ—  
      *å¼ºåŒ–éçº¿æ€§é¡¹å¤„ç†èƒ½åŠ›*

#### **å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«**
> **å‚è€ƒç»éªŒ**ï¼ˆæ¥è‡ªSDqwqï¼‰ï¼š  
> â€œè°ƒè¯•æ—¶é‡ç‚¹éªŒè¯è½¬ç§»çŸ©é˜µå‰3è¡Œï¼Œé€šè¿‡å°è§„æ¨¡nå€¼åå‘æ¨å¯¼çŸ©é˜µæ­£ç¡®æ€§â€

> **ç‚¹è¯„**ï¼š  
> è¿™æ˜¯æå…¶å®è´µçš„è°ƒè¯•æŠ€å·§â€”â€”é€šè¿‡n=3,4çš„æ‰‹ç®—ç»“æœéªŒè¯çŸ©é˜µï¼Œæ¯”é™æ€æ£€æŸ¥æ›´é«˜æ•ˆã€‚å»ºè®®å­¦ä¹ è€…å…»æˆï¼š
> 1. å¯¹n=3å†™å•å…ƒæµ‹è¯•
> 2. è¾“å‡ºä¸­é—´è½¬ç§»çŸ©é˜µ
> 3. å°è£…çŸ©é˜µæ‰“å°å‡½æ•°ä¾¿äºè°ƒè¯•

---

**é™„å½•ï¼šå®Œæ•´è½¬ç§»çŸ©é˜µ**  
$$
\begin{bmatrix}
p & 1 & 1 & q & 0 & 0 & r & t & 1 & 0 & 0 \\
1 & u & 1 & 0 & v & 0 & 0 & 0 & 0 & 1 & 0 \\
1 & 1 & x & 0 & 0 & y & 0 & 1 & 2 & 0 & 1 \\
1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 1 & 2 & 1 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 1 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & w & 0 \\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & z \\
\end{bmatrix}
$$

---
å¤„ç†ç”¨æ—¶ï¼š243.49ç§’
# é¢˜ç›®ä¿¡æ¯

# Chtholly Nota Seniorious

## é¢˜ç›®èƒŒæ™¯

ç»æŸ¥ï¼Œæœ¬é¢˜æ˜¯åŸé¢˜ï¼Œéå¸¸æŠ±æ­‰ã€‚

å¤§æ ·ä¾‹ä¸‹å‘é“¾æ¥: https://pan.baidu.com/s/1nuVpRS1 å¯†ç : sfxg

**ã“ã‚“ãªã«ã‚‚ã€ãŸãã•ã‚“ã®å¹¸ã›ã‚’ã‚ã®äººã«åˆ†ã‘ã¦ã‚‚ã‚‰ã£ãŸ**

**ã ã‹ã‚‰ã€ãã£ã¨**

**ä»Šã®ã€ç§ã¯**

**è°ãŒä½•ã¨è¨€ãŠã†ã¨**

##ä¸–ç•Œä¸€ã€å¹¸ã›ãªå¥³ã®å­ã 

![](https://cdn.luogu.com.cn/upload/pic/9193.png)


## é¢˜ç›®æè¿°

â€”â€”â€œå‡å¦‚â€¦â€¦æˆ‘æ˜¯è¯´å‡å¦‚å–”ã€‚

ä¸‡ä¸€æˆ‘å†è¿‡äº”å¤©å°±ä¼šæ­»ï¼Œä½ èƒ½ä¸èƒ½å¯¹æˆ‘æ¸©æŸ”ä¸€ç‚¹ï¼Ÿâ€

å·¨å¤§çš„å…­å·å…½äº”å¤©åå°†è¢­å‡»æµ®æ¸¸å¤§é™†ã€‚

æ— æ•°æ¬¡è®¡ç®—å¾—åˆ°çš„æ®‹é…·æ•°æ®è¡¨æ˜ï¼Œåªæœ‰åœ£å‰‘ç‘Ÿå°¼æ¬§å°¼æ–¯çš„é€‚æ ¼ç²¾çµâ€”â€”ç‚æœµè‰Â·è¯ºå¡”Â·ç‘Ÿå°¼æ¬§å°¼æ–¯(Chtholly Nota Seniorious)å¼€å¯å¦–ç²¾ä¹¡ä¹‹é—¨ï¼Œæ‰å¯ä»¥ä»¥ç”Ÿå‘½ä¸ºä»£ä»·å®ˆä½æµ®æ¸¸å²›ã€‚

 ![](https://cdn.luogu.com.cn/upload/pic/9228.png) 

â€œè‡³å°‘ï¼Œæˆ‘ä¹Ÿå¸Œæœ›è‡ªå·±ä¸ç”¨æ¶ˆå¤±ï¼Œä¹Ÿæƒ³è®©åˆ«äººè®°ä½ã€‚æˆ‘ä¹Ÿæƒ³ç•™ä¸‹ç¾ç»Šå•Šã€‚â€

ç•™ç»™å¦–ç²¾å°‘å¥³ç‚æœµè‰çš„æ—¶é—´ä¼¼ä¹å·²ç»ä¸å¤šäº†ã€‚

 ![](https://cdn.luogu.com.cn/upload/pic/9229.png) 

å¹´è½»çš„äºŒç­‰æŠ€å®˜ï¼Œå¦–ç²¾ä»“åº“çš„ç®¡ç†å‘˜ï¼Œä¸–ç•Œä¸Šæœ€åä¸€ä¸ªäººç±»â€”â€”å¨å»‰Â·å…‹æ¢…**ä¿®**ï¼Œæ•°ç™¾å¹´å‰æ›¾ç»æ˜¯ä¸€åå‡†å‹‡è€…ï¼ŒæŒæ¡ç€æˆä¸ºä¸€åå‹‡è€…æ‰€éœ€è¦çš„æ‰€æœ‰çŸ¥è¯†ã€‚

å¤§æˆ˜åœ¨å³ï¼Œè°ƒæ•´åœ£å‰‘çš„çŠ¶æ€æˆä¸ºäº†ä¸€é¡¹é‡è¦çš„ä»»åŠ¡ã€‚

```cpp
ç‘Ÿå°¼æ¬§é‡Œæ–¯ï¼ˆã‚»ãƒ‹ã‚ªãƒªã‚¹ï¼‰
åœ£å‰‘çš„å…¶ä¸­ä¹‹ä¸€ï¼Œåœ¨ç°å­˜çš„é—è¿¹å…µè£…ä¸­ï¼Œæ‹¥æœ‰æœ€å¼ºå¤§çš„åŠ›é‡ã€‚
æ‹¥æœ‰éå¸¸ç‰¹æ®Šçš„èµ„è´¨ï¼Œåªæœ‰æå°‘ä¸€éƒ¨åˆ†çš„äººæ‰èƒ½ä½¿ç”¨ã€‚
ç”±å››åä¸€ä¸ªæŠ¤ç¬¦ç»„æˆã€‚èƒ½å°†æ‰€æœ‰äº‹ç‰©åŒ…å«ä¸æ­»è€…éƒ½å›å½’ã€Œæ­»äº¡ã€ã€‚
```
å¨å»‰éœ€è¦è°ƒæ•´åœ£å‰‘çš„çŠ¶æ€ï¼Œå› æ­¤ä»–å°†ç‘Ÿå°¼æ¬§å°¼æ–¯æ‹†åˆ†æŠ¤ç¬¦ï¼Œç»„æˆäº†ä¸€ä¸ª$n$è¡Œ$m$åˆ—çš„çŸ©é˜µã€‚

æ¯ä¸€ä¸ªæŠ¤ç¬¦éƒ½æœ‰è‡ªå·±çš„é­”åŠ›å€¼ã€‚ç°åœ¨ä¸ºäº†æµ‹è¯•åœ£å‰‘ï¼Œä½ éœ€è¦å°†è¿™äº›æŠ¤ç¬¦åˆ†æˆ A,Bä¸¤éƒ¨åˆ†ã€‚

è¦æ±‚å¦‚ä¸‹ï¼š

1.  åœ£å‰‘çš„æ‰€æœ‰æŠ¤ç¬¦ï¼Œæ°å¥½éƒ½å±äºä¸¤éƒ¨åˆ†ä¸­çš„ä¸€éƒ¨åˆ†ã€‚

2.  æ¯ä¸ªéƒ¨åˆ†å†…éƒ¨çš„æ–¹å—ä¹‹é—´ï¼Œå¯ä»¥é€šè¿‡ä¸Šä¸‹å·¦å³ç›¸äº’åˆ°è¾¾ï¼Œè€Œä¸”æ¯ä¸ªå†…éƒ¨çš„æ–¹å—ä¹‹é—´äº’ç›¸åˆ°è¾¾ï¼Œæœ€å¤šå…è®¸æ‹ä¸€æ¬¡å¼¯ã€‚

ä¾‹å¦‚
```cpp
ï¼¡ï¼¡ï¼¡ï¼¡ï¼¡ã€€ã€€ï¼¡ï¼¡ï¼¡ï¼¡ï¼¡ã€€ã€€ï¼¡ï¼¡ï¼¡ï¼¡ï¼¡
ï¼¡ï¼¡ï¼¢ï¼¡ï¼¡ã€€ã€€ï¼¢ï½ï¼¡ï¼¡ï¼¡ã€€ã€€ï¼¡ï¼¡ï¼¡ï¼¢ï¼¢
ï¼¡ï¼¢ï¼¢ï¼¢ï¼¡ã€€ã€€ï¼¢ï¼¢ï¼¡ï¼¡ï¼¡ã€€ã€€ï¼¡ï¼¡ï¼¡ï¼¢ï¼¢
ï¼¡ï¼¡ï¼¢ï¼¡ï¼¡ã€€ã€€ï¼¢ï½ï¼¡ï¼¡ï¼¡ã€€ã€€ï¼¡ï¼¢ï¼¢ï¼¢ï¼¢
ï¼¡ï¼¡ï¼¡ï¼¡ï¼¡ã€€ã€€ï¼¡ï¼¡ï¼¡ï¼¡ï¼¡ã€€ã€€ï¼¢ï¼¢ï¼¢ï¼¢ï¼¢

ã€€ã€€(1)ã€€ã€€ã€€ã€€ã€€(2)ã€€ã€€ã€€ã€€ã€€(3)ã€€ã€€ã€€ã€€ã€€ã€€
```
å…¶ä¸­(1)(2)æ˜¯ä¸å…è®¸çš„åˆ†æ³•ï¼Œ(3)æ˜¯å…è®¸çš„åˆ†æ³•ã€‚åœ¨(2)ä¸­ï¼Œaå±äºAåŒºåŸŸï¼Œè¿™ä¸¤ä¸ªaå…ƒç´ ä¹‹é—´äº’ç›¸åˆ°è¾¾ï¼Œæ²¡æœ‰åŠæ³•æœ€å¤šåªæ‹ä¸€æ¬¡å¼¯ã€‚

ç°åœ¨è¦é—®ï¼Œæ‰€æœ‰åˆæ³•çš„åˆ†æ³•ä¸­ï¼ŒAåŒºåŸŸçš„æå·®ä¸BåŒºåŸŸçš„æå·® ä¸­é—´è¾ƒå¤§çš„ä¸€ä¸ªçš„ **æœ€å°å€¼** æ˜¯å¤šå°‘ï¼Ÿ

å¥½å¿ƒè€Œå¯çˆ±çš„åœ¨ä¸€æ—é»˜é»˜è§‚å¯Ÿå¥ˆèŠ™è²æ‚„æ‚„åœ°å‘Šè¯‰ä½ ï¼Œæå·®å°±æ˜¯åŒºåŸŸå†…æœ€å¤§å€¼å‡å»æœ€å°å€¼ã€‚

 ![](https://cdn.luogu.com.cn/upload/pic/9230.png) 

å¤œæ™šçš„é£å¹æ‹‚ç€ï¼Œ68å·å²›ä¸Šçš„æ™¯è‰²ç«Ÿä¸åœ°ä¸Šçš„æ£®æ—æ— å¼‚ã€‚è½¬å¿µåˆæƒ³ï¼Œé»„é‡‘å¦–ç²¾æœ¬èº«å°±æ˜¯ä¸æ£®æ—ä¹‹ä¸­å‡ºç°ï¼Œæˆé•¿ï¼Œæ¶ˆäº¡çš„ç¥ç§˜å­˜åœ¨å•Šã€‚

æ—¶é—´ä¸æ—©äº†ï¼Œæ—©ä¸Šè®­ç»ƒä¸­è½è´¥çš„ç‚æœµè‰å³å°†å›æ¥äº†ã€‚æ‚¨è¦å°½å¿«å’Œå¨å»‰ä¸€èµ·è°ƒæ•´å¥½åœ£å‰‘ï¼Œåƒä¸‡ä¸èƒ½è¿Ÿå“Ÿã€‚


## è¯´æ˜/æç¤º

æ ·ä¾‹è§£é‡Š

```cpp
1  12 6        11
11 4  2        14
10 1  9        20
4        17 13 10
```
åˆ†æ³•ä¸å”¯ä¸€ï¼Œå¦‚å›¾æ˜¯ä¸€ç§åˆæ³•çš„åˆ†æ³•ã€‚å·¦è¾¹éƒ¨åˆ†æå·®12-1=11ï¼Œå³è¾¹ä¸€å—æå·®20-10=10ï¼Œæ‰€ä»¥ç­”æ¡ˆå–è¿™ä¸¤ä¸ªä¸­è¾ƒå¤§è€…11ã€‚æ²¡æœ‰åˆ«çš„åˆ†æ³•ï¼Œå¯ä»¥ä½¿ç­”æ¡ˆæ›´å°ã€‚


**æ•°æ®èŒƒå›´ä¸çº¦å®š**


æµ‹è¯•ç‚¹ã€€ã€€|nã€€ã€€ã€€ã€€|mã€€ã€€ã€€ã€€
-|-|-
#1-2      |$\le 10$ |$\le 10$
#3-4      |1        |$\le 2000$
#5-7      |$\le 200$|$\le 200$
#8-10     |$\le 2000$|$\le 2000$

å¯¹äºæ‰€æœ‰çš„æƒå€¼$1\le A_{i,j} \le 10^9$


ã€Šæœ«æ—¥æ—¶åœ¨åšä»€ä¹ˆï¼Ÿæœ‰æ²¡æœ‰ç©ºï¼Ÿå¯ä»¥æ¥æ‹¯æ•‘å—ï¼Ÿã€‹

![](https://cdn.luogu.com.cn/upload/pic/9235.png)


## æ ·ä¾‹ #1

### è¾“å…¥

```
4 4
1 12 6 11
11 4 2 14
10 1 9 20
4 17 13 10```

### è¾“å‡º

```
11```

# AIåˆ†æç»“æœ


# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šChtholly Nota Seniorious æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> ä¸ºäº†æ‹¯æ•‘æµ®æ¸¸å¤§é™†ï¼Œæˆ‘ä»¬éœ€è¦è°ƒæ•´åœ£å‰‘çŠ¶æ€ï¼è¿™é“é¢˜è¦æ±‚å°†æŠ¤ç¬¦çŸ©é˜µåˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæ»¡è¶³ç‰¹æ®Šè¿é€šæ€§å¹¶æœ€å°åŒ–æå·®çš„æœ€å¤§å€¼ã€‚è®©æˆ‘ä»¬ä¸€æ­¥æ­¥æ‹†è§£è¿™ä¸ªçœ‹ä¼¼å¤æ‚çš„é—®é¢˜ã€‚

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š**äºŒåˆ†ç­”æ¡ˆ + è´ªå¿ƒéªŒè¯**ï¼ˆç»“åˆçŸ©é˜µæ—‹è½¬æŠ€å·§ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> æƒ³è±¡ä½ æ˜¯ä¸€ä½åŸå¸‚è§„åˆ’å¸ˆğŸ§‘â€ğŸ’¼ï¼Œè¦æŠŠåŸå¸‚åˆ†æˆä¸¤ä¸ªåŒºåŸŸï¼ˆA/Bï¼‰ï¼Œè¦æ±‚åŒºåŸŸå†…éƒ¨é“è·¯**æœ€å¤šåªéœ€æ‹ä¸€ä¸ªå¼¯**å°±èƒ½åˆ°è¾¾ä»»æ„åœ°ç‚¹ï¼ˆé˜¶æ¢¯çŠ¶åˆ†å‰²ï¼‰ã€‚ç›®æ ‡æ˜¯æœ€å°åŒ–ä¸¤ä¸ªåŒºåŸŸå‘å±•å·®å¼‚ï¼ˆæå·®ï¼‰çš„è¾ƒå¤§å€¼ã€‚

- **æ ¸å¿ƒç­–ç•¥**ï¼šäºŒåˆ†ç­”æ¡ˆéªŒè¯å¯è¡Œæ€§ã€‚å‡è®¾æœ€å¤§æå·®ä¸º`mid`ï¼Œé€šè¿‡æ—‹è½¬çŸ©é˜µè¦†ç›–æ‰€æœ‰åˆ†å‰²æ–¹å‘ï¼ˆå·¦ä¸Š/å³ä¸Š/å·¦ä¸‹/å³ä¸‹ï¼‰ï¼Œç”¨è´ªå¿ƒç­–ç•¥æ„é€ é˜¶æ¢¯åˆ†å‰²çº¿ã€‚
- **å…³é”®éš¾ç‚¹**ï¼šå¦‚ä½•é«˜æ•ˆéªŒè¯ç»™å®š`mid`æ˜¯å¦å¯è¡Œï¼Ÿé€šè¿‡**çŸ©é˜µæ—‹è½¬**ç»Ÿä¸€å¤„ç†æ–¹å‘ï¼Œå†ç”¨**è¡Œåˆ—æ‰«æ**ç¡®å®šé˜¶æ¢¯è¾¹ç•Œã€‚
- **å¯è§†åŒ–è®¾è®¡**ï¼šé‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼ˆç±»ä¼¼ç»å…¸æ¸¸æˆã€Šå‹‡è€…æ–—æ¶é¾™ã€‹ï¼‰ï¼Œç”¨è“è‰²/çº¢è‰²æ–¹å—åŒºåˆ†åŒºåŸŸï¼Œé˜¶æ¢¯åˆ†å‰²çº¿ç”¨é»„è‰²åƒç´ çº¿åŠ¨æ€ç»˜åˆ¶ã€‚å½“å…ƒç´ è¿åæ¡ä»¶æ—¶è§¦å‘é—ªçƒçº¢å…‰+é”™è¯¯éŸ³æ•ˆğŸ“¢ã€‚

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼šAnoxiacxyï¼‰**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°åº¦â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ï¼Œå·§å¦™åˆ©ç”¨çŸ©é˜µæ—‹è½¬ç»Ÿä¸€å››ç§åˆ†å‰²æ–¹å‘ï¼›ä»£ç è§„èŒƒæ€§â­ï¸â­ï¸â­ï¸ï¼ˆå˜é‡å‘½åå¯æ”¹è¿›ä½†é€»è¾‘å·¥æ•´ï¼‰ï¼›ç®—æ³•æœ‰æ•ˆæ€§â­ï¸â­ï¸â­ï¸â­ï¸ï¼Œå®Œæ•´è¦†ç›–äºŒåˆ†ä¸éªŒè¯é€»è¾‘ï¼›å®è·µä»·å€¼â­ï¸â­ï¸â­ï¸â­ï¸ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨å¯ç›´æ¥ç”¨äºç«èµ›ã€‚**äº®ç‚¹**ï¼šæ—‹è½¬å‡½æ•°å°è£…ç®€æ´ï¼ŒéªŒè¯æ—¶é€šè¿‡ç»´æŠ¤åˆ—è¾¹ç•Œ`now`é«˜æ•ˆåˆ¤æ–­BåŒºåŸŸåˆæ³•æ€§ã€‚

**é¢˜è§£äºŒï¼ˆä½œè€…ï¼šPeter0701ï¼‰**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°åº¦â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ï¼Œç”¨è‡ªç„¶è¯­è¨€è§£é‡Šâ€œé˜¶æ¢¯çŠ¶åˆ†å‰²â€ç‰¹æ€§ï¼›ä»£ç è§„èŒƒæ€§â­ï¸â­ï¸â­ï¸â­ï¸ï¼ˆå‡½æ•°æ¨¡å—åŒ–ï¼‰ï¼›ç®—æ³•æœ‰æ•ˆæ€§â­ï¸â­ï¸â­ï¸â­ï¸ï¼ŒéªŒè¯å‡½æ•°ä¸­`min(f,w)`å·§å¦™æ§åˆ¶é˜¶æ¢¯å•è°ƒæ€§ï¼›å®è·µä»·å€¼â­ï¸â­ï¸â­ï¸â­ï¸ï¼Œå®Œæ•´å¤„ç†å››å‘æ—‹è½¬ã€‚**äº®ç‚¹**ï¼š`ck()`å‡½æ•°é€šè¿‡åŒé‡å¾ªç¯ç›´æ¥å®ç°è´ªå¿ƒéªŒè¯ï¼Œé¿å…é¢å¤–æ•°æ®ç»“æ„ã€‚

**é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼š_Diu_ï¼‰**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°åº¦â­ï¸â­ï¸â­ï¸â­ï¸ï¼Œç”¨å›¾ç¤ºç›´è§‚å±•ç¤ºé˜¶æ¢¯åˆ†å‰²ï¼›ä»£ç è§„èŒƒæ€§â­ï¸â­ï¸â­ï¸â­ï¸ï¼ˆå‡½æ•°èŒè´£å•ä¸€ï¼‰ï¼›ç®—æ³•æœ‰æ•ˆæ€§â­ï¸â­ï¸â­ï¸â­ï¸ï¼Œæ—‹è½¬æ—¶ä½¿ç”¨`tmp`æš‚å­˜ä¿è¯æ­£ç¡®æ€§ï¼›å®è·µä»·å€¼â­ï¸â­ï¸â­ï¸â­ï¸ï¼ŒäºŒåˆ†è¾¹ç•Œ`[0, max-min]`è®¾ç½®åˆç†ã€‚**äº®ç‚¹**ï¼šéªŒè¯ä¸­`a[j][i]>minx+mid`ç›´æ¥åˆ¤æ–­BåŒºåŸŸï¼Œé€»è¾‘ç®€æ´ã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### éš¾ç‚¹1ï¼šå¦‚ä½•ç†è§£â€œæœ€å¤šæ‹ä¸€æ¬¡å¼¯â€çš„åˆ†å‰²ï¼Ÿ
* **åˆ†æ**ï¼šç­‰ä»·äºåˆ†å‰²çº¿å¿…é¡»æ˜¯**å•è°ƒé˜¶æ¢¯çŠ¶**ï¼ˆæ¯è¡Œè¾¹ç•Œä¸å¢ï¼‰ã€‚ä¼˜è´¨é¢˜è§£é€šè¿‡çŸ©é˜µæ—‹è½¬å°†å››ç§æ–¹å‘ï¼ˆå·¦ä¸Š/å³ä¸Š/å·¦ä¸‹/å³ä¸‹ï¼‰ç»Ÿä¸€ä¸ºâ€œä»å·¦ä¸Šå¼€å§‹â€å¤„ç†ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé˜¶æ¢¯åˆ†å‰²çš„æœ¬è´¨æ˜¯äºŒç»´è¿ç»­æ€§çº¦æŸï¼Œå¯é€šè¿‡æ–¹å‘è½¬æ¢é™ç»´ã€‚

### éš¾ç‚¹2ï¼šå¦‚ä½•è®¾è®¡éªŒè¯å‡½æ•°ï¼Ÿ
* **åˆ†æ**ï¼šå‡è®¾AåŒºåŸŸå«å…¨å±€æœ€å¤§å€¼ï¼ŒBåŒºåŸŸå«å…¨å±€æœ€å°å€¼ã€‚è´ªå¿ƒç­–ç•¥ï¼šæ¯è¡Œä»å·¦å¼€å§‹è¿ç»­å–æ»¡è¶³`a[i][j] >= maxv-mid`çš„å…ƒç´ ï¼Œä¸‹ä¸€è¡Œè¾¹ç•Œä¸è¶…è¿‡ä¸Šä¸€è¡Œã€‚å‰©ä½™å…ƒç´ è‡ªåŠ¨åˆ’å…¥BåŒºåŸŸå¹¶æ£€æŸ¥æ˜¯å¦æ»¡è¶³`a[i][j] <= minv+mid`ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šéªŒè¯æ—¶éœ€ç»´æŠ¤å½“å‰å…è®¸çš„æœ€å¤§åˆ—è¾¹ç•Œï¼Œç±»ä¼¼â€œæ°´è”“å»¶â€çš„æ”¶ç¼©è¿‡ç¨‹ğŸŒŠã€‚

### éš¾ç‚¹3ï¼šä¸ºä½•éœ€è¦çŸ©é˜µæ—‹è½¬ï¼Ÿ
* **åˆ†æ**ï¼šé˜¶æ¢¯åˆ†å‰²æ–¹å‘å¯èƒ½ä»ä»»æ„è§’è½å¼€å§‹ã€‚é€šè¿‡4æ¬¡90Â°æ—‹è½¬ï¼ˆ0Â°/90Â°/180Â°/270Â°ï¼‰ï¼Œå°†å…¶ä»–æ–¹å‘è½¬æ¢ä¸ºâ€œä»å·¦ä¸Šå¼€å§‹â€çš„æ ‡å‡†å½¢å¼ï¼Œé¿å…é‡å¤ç¼–ç ã€‚
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŸ©é˜µæ—‹è½¬æ˜¯å¤„ç†æ–¹å‘æ•æ„Ÿé—®é¢˜çš„é€šç”¨æŠ€å·§ï¼Œå…¬å¼ä¸ºï¼š`æ–°çŸ©é˜µ[j][n-i+1] = åŸçŸ©é˜µ[i][j]`ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
1. **äºŒåˆ†ç­”æ¡ˆæ¡†æ¶**ï¼šæå·®ç±»æœ€å€¼é—®é¢˜é¦–é€‰äºŒåˆ†ï¼Œè¾¹ç•Œè®¾ä¸º`[0, å…¨å±€max-å…¨å±€min]`ã€‚
2. **æ–¹å‘ç»Ÿä¸€æ³•**ï¼šé€šè¿‡æ—‹è½¬/å¯¹ç§°è½¬æ¢å¤„ç†å¤šæ–¹å‘æƒ…å†µï¼Œå‡å°‘ä»£ç é‡å¤ã€‚
3. **è´ªå¿ƒè¾¹ç•Œç»´æŠ¤**ï¼šç”¨å•å˜é‡è®°å½•å½“å‰å…è®¸çš„æœ€å¤§åˆ—è¾¹ç•Œï¼Œé€è¡Œæ”¶ç¼©æ‰«æã€‚
4. **æå€¼åˆ†ç¦»æ€æƒ³**ï¼šå‡è®¾æœ€å¤§å€¼å’Œæœ€å°å€¼åœ¨ä¸åŒåŒºåŸŸï¼Œç®€åŒ–éªŒè¯æ¡ä»¶ã€‚

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
```cpp
#include <iostream>
#include <algorithm>
using namespace std;
const int N = 2005, INF = 1e9;

int n, m, a[4][N][N], minv = INF, maxv = -INF;

void rotate(int src, int dst) { // çŸ©é˜µæ—‹è½¬å‡½æ•°
    for (int i = 1; i <= n; ++i)
        for (int j = 1; j <= m; ++j)
            a[dst][j][n - i + 1] = a[src][i][j];
    swap(n, m);
}

bool check(int mid, int idx) { // éªŒè¯å‡½æ•°
    int bound = m; // å½“å‰å…è®¸çš„æœ€å¤§åˆ—è¾¹ç•Œ
    for (int i = 1; i <= n; ++i) {
        int j = 1;
        for (; j <= bound; ++j) 
            if (a[idx][i][j] < maxv - mid) break; // ä¸æ»¡è¶³AåŒºåŸŸæ¡ä»¶
        bound = min(bound, j - 1); // æ”¶ç¼©è¾¹ç•Œ
        for (; j <= m; ++j) 
            if (a[idx][i][j] > minv + mid) return false; // BåŒºåŸŸè¿åæ¡ä»¶
    }
    return true;
}

int main() {
    cin >> n >> m;
    for (int i = 1; i <= n; ++i)
        for (int j = 1; j <= m; ++j) {
            cin >> a[0][i][j];
            minv = min(minv, a[0][i][j]);
            maxv = max(maxv, a[0][i][j]);
        }

    // é¢„ç”Ÿæˆæ—‹è½¬çŸ©é˜µ
    rotate(0, 1); rotate(1, 2); rotate(2, 3);
    
    int ans = maxv - minv, l = 0, r = ans;
    while (l <= r) {
        int mid = (l + r) >> 1;
        bool valid = false;
        for (int i = 0; i < 4; ++i) // æ£€æŸ¥å››ä¸ªæ–¹å‘
            if (check(mid, i)) valid = true;
        if (valid) r = mid - 1, ans = mid;
        else l = mid + 1;
    }
    cout << ans;
}
```

**ä»£ç è§£è¯»æ¦‚è¦**ï¼š
1. åˆå§‹åŒ–æ—¶è®°å½•å…¨å±€æå€¼ï¼ˆ`minv`/`maxv`ï¼‰
2. `rotate()`å‡½æ•°é€šè¿‡åæ ‡å˜æ¢å®ç°90Â°æ—‹è½¬
3. `check()`å‡½æ•°å®ç°è´ªå¿ƒéªŒè¯ï¼šç»´æŠ¤åˆ—è¾¹ç•Œ`bound`ï¼Œæ‰«æBåŒºåŸŸæ£€æŸ¥æ¡ä»¶
4. ä¸»å¾ªç¯äºŒåˆ†ç­”æ¡ˆï¼Œæ¯æ¬¡éªŒè¯å››ä¸ªæ—‹è½¬æ–¹å‘

### ä¼˜è´¨é¢˜è§£ç‰‡æ®µèµæ

**é¢˜è§£ä¸€ï¼ˆæ—‹è½¬å‡½æ•°ï¼‰**
```cpp
void rotate(int src, int dst) {
    for (int i = 1; i <= n; i++)
        for (int j = 1; j <= m; j++)
            a[dst][j][n - i + 1] = a[src][i][j];
    swap(n, m);
}
```
**äº®ç‚¹**ï¼šç®€æ´å®ç°90Â°æ—‹è½¬ï¼Œ`n-i+1`å·§å¦™è½¬æ¢è¡Œåˆ—  
**è§£è¯»**ï¼šå°†åŸçŸ©é˜µ`(i,j)`å…ƒç´ æ”¾ç½®åˆ°æ–°çŸ©é˜µçš„`(j, n-i+1)`ä½ç½®ï¼Œå®ç°é¡ºæ—¶é’ˆæ—‹è½¬ã€‚äº¤æ¢`n/m`ä¿è¯åç»­æ“ä½œç»´åº¦æ­£ç¡®ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŸ©é˜µæ—‹è½¬æœ¬è´¨æ˜¯åæ ‡æ˜ å°„`(x,y)â†’(y,n+1-x)`ã€‚

**é¢˜è§£äºŒï¼ˆéªŒè¯å‡½æ•°ï¼‰**
```cpp
bool check(int mid) {
    int bound = m;
    for (int i = 1; i <= n; i++) {
        int j = 1;
        for (; j <= bound; j++)
            if (a[i][j] < maxv - mid) break;
        bound = min(bound, j - 1);
        for (; j <= m; j++)
            if (a[i][j] > minv + mid) return false;
    }
    return true;
}
```
**äº®ç‚¹**ï¼šåŒé‡å¾ªç¯æ¸…æ™°åˆ†ç¦»A/BåŒºåŸŸæ£€æŸ¥  
**è§£è¯»**ï¼šç¬¬ä¸€å±‚å¾ªç¯æ‰«æAåŒºåŸŸç›´åˆ°æ¡ä»¶ç ´åï¼Œç¬¬äºŒå±‚å¾ªç¯æ£€æŸ¥å‰©ä½™BåŒºåŸŸå…ƒç´ ã€‚`bound`ç¡®ä¿é˜¶æ¢¯å•è°ƒæ€§ã€‚  
ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè´ªå¿ƒè¾¹ç•Œç»´æŠ¤æ˜¯äºŒç»´æ‰«æçš„å¸¸ç”¨ä¼˜åŒ–æ‰‹æ®µã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### åŠ¨ç”»è®¾è®¡ï¼š8ä½åƒç´ é£æ ¼â€œåœ£å‰‘è°ƒæ•´æ¨¡æ‹Ÿå™¨â€
**æ ¸å¿ƒæ¼”ç¤ºå†…å®¹**ï¼šäºŒåˆ†ç­”æ¡ˆè¿‡ç¨‹ + çŸ©é˜µåˆ†å‰²éªŒè¯  
**è®¾è®¡æ€è·¯**ï¼šå¤å¤åƒç´ é£æ ¼é™ä½ç†è§£å‹åŠ›ï¼Œé€šè¿‡éŸ³æ•ˆå’Œé¢œè‰²åé¦ˆå¼ºåŒ–ç®—æ³•å…³é”®æ­¥éª¤

![](https://cdn.luogu.com.cn/upload/pic/9228.png)  
*ï¼ˆç¤ºæ„å›¾ï¼šç‚æœµè‰ä¸åœ£å‰‘ï¼‰*

### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’ï¼š
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - 16è‰²è°ƒè‰²æ¿ï¼ˆFCçº¢ç™½æœºé£æ ¼ï¼‰ï¼ŒçŸ©é˜µæ˜¾ç¤ºä¸ºåƒç´ æ–¹æ ¼
   - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœã€å•æ­¥æ‰§è¡Œã€é€Ÿåº¦æ»‘å—
   - èƒŒæ™¯éŸ³ä¹ï¼š8-bitå¾ªç¯BGMï¼ˆç±»ä¼¼ã€Šæœ€ç»ˆå¹»æƒ³ã€‹æˆ˜æ–—éŸ³ä¹ï¼‰

2. **äºŒåˆ†è¿‡ç¨‹æ¼”ç¤º**ï¼š  
   - æå·®èŒƒå›´`[0, max-min]`æ˜¾ç¤ºä¸ºè¿›åº¦æ¡ï¼Œå½“å‰`mid`å€¼ç”¨åƒç´ æŒ‡é’ˆæ ‡è®°
   - æ¯æ¬¡äºŒåˆ†è§¦å‘â€œæ»´ç­”â€éŸ³æ•ˆï¼Œæœ‰æ•ˆæ”¶ç¼©èŒƒå›´æ—¶æ’­æ”¾é‡‘å¸éŸ³æ•ˆğŸ’°

3. **çŸ©é˜µæ—‹è½¬ï¼ˆå…³é”®å¸§ï¼‰**ï¼š  
   ```plaintext
   åŸå§‹çŸ©é˜µ      é¡ºæ—¶é’ˆæ—‹è½¬90Â°
   â–¡ â–¡ â–¡        â–  â–¡ â–¡
   â–  â–¡ â–¡   â†’    â–  â–¡ â–¡
   â–¡ â–  â–¡        â–¡ â–  â– 
   ```
   - ç”¨åƒç´ åŠ¨ç”»å±•ç¤ºæ—‹è½¬è¿‡ç¨‹ï¼Œæ¯ä¸ªå…ƒç´ æ»‘å…¥æ–°ä½ç½®
   - æ—‹è½¬å®Œæˆæ—¶æ’­æ”¾â€œé½¿è½®è½¬åŠ¨â€éŸ³æ•ˆâš™ï¸

4. **è´ªå¿ƒéªŒè¯ï¼ˆæ ¸å¿ƒæ¼”ç¤ºï¼‰**ï¼š  
   - **æ‰«æè¿‡ç¨‹**ï¼šä»å·¦åˆ°å³é€è¡Œæ‰«æï¼Œæ»¡è¶³Aæ¡ä»¶çš„æ–¹å—äº®è“è‰²ğŸ’ ï¼Œè§¦å‘â€œé€‰æ‹©â€éŸ³æ•ˆ
   - **è¾¹ç•Œæ”¶ç¼©**ï¼šå½“é‡åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„æ–¹å—æ—¶ï¼š
     * æ–¹å—é—ªçƒçº¢è‰²ğŸ’¥+è­¦æŠ¥éŸ³æ•ˆ
     * ç”Ÿæˆé»„è‰²é˜¶æ¢¯åˆ†å‰²çº¿ï¼ˆåƒç´ åŠ¨ç”»ç»˜åˆ¶ï¼‰
   - **BåŒºåŸŸæ£€æŸ¥**ï¼šæ‰«æå³ä¾§åŒºåŸŸæ—¶ï¼Œåˆæ³•æ–¹å—äº®ç»¿è‰²âœ…ï¼Œéæ³•æ–¹å—æŒç»­é—ªçƒçº¢è‰²âŒ

5. **ç»“æœåé¦ˆ**ï¼š  
   - éªŒè¯æˆåŠŸï¼šæ’­æ”¾èƒœåˆ©éŸ³ä¹ğŸ‰ï¼ŒA/BåŒºåŸŸåˆ†åˆ«æ˜¾ç¤ºæå·®å€¼
   - éªŒè¯å¤±è´¥ï¼šæ•´ä½“çº¢å…‰é—ªçƒï¼Œæ˜¾ç¤ºâ€œFailedâ€åƒç´ æ–‡å­—

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æŠ€å·§è¿ç§»ï¼š
1. **äºŒåˆ†ç­”æ¡ˆ+éªŒè¯**ï¼šé€‚ç”¨äºæœ€å€¼æœ€å°åŒ–/æœ€å¤§åŒ–é—®é¢˜
2. **çŸ©é˜µæ—‹è½¬**ï¼šå¤„ç†æ–¹å‘ç›¸å…³çš„äºŒç»´é—®é¢˜
3. **è´ªå¿ƒè¾¹ç•Œç»´æŠ¤**ï¼šè§£å†³è¿ç»­æ€§çº¦æŸçš„æ‰«æé—®é¢˜

### æ´›è°·ç»ƒä¹ æ¨èï¼š
1. **P1182 æ•°åˆ—åˆ†æ®µ**  
   ğŸ—£ï¸ å·©å›ºäºŒåˆ†ç­”æ¡ˆæ¡†æ¶ï¼Œå­¦ä¹ ä¸€ç»´åˆ†æ®µé—®é¢˜çš„è¾¹ç•Œå¤„ç†
   
2. **P2218 [HAOI2007]è¦†ç›–é—®é¢˜**  
   ğŸ—£ï¸ äºŒç»´è¦†ç›–é—®é¢˜è¿›é˜¶ï¼Œç»“åˆå‡ ä½•ä¸äºŒåˆ†ç­”æ¡ˆ
   
3. **P2884 [USACO07MAR]æœˆåº¦å¼€é”€**  
   ğŸ—£ï¸ æœ€å°åŒ–æœ€å¤§å€¼ç»å…¸é—®é¢˜ï¼Œè®­ç»ƒäºŒåˆ†éªŒè¯é€»è¾‘

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> æœ¬æ¬¡åˆ†æçš„é¢˜è§£ä¸­æœªå‘ç°æ˜ç¡®çš„ä½œè€…ä¸ªäººå¿ƒå¾—åˆ†äº«éƒ¨åˆ†ã€‚ä½†é€šè¿‡ä»£ç å¯æç‚¼ç»éªŒï¼š  
> **è°ƒè¯•æŠ€å·§**ï¼šåœ¨éªŒè¯å‡½æ•°ä¸­å¢åŠ ä¸­é—´è¾“å‡ºï¼ˆå¦‚æ¯è¡Œè¾¹ç•Œå€¼ï¼‰ï¼Œå¯å¿«é€Ÿå®šä½äºŒåˆ†é€»è¾‘é”™è¯¯ã€‚  
> **æ€ç»´å¯ç¤º**ï¼šå¤æ‚çº¦æŸå¯æ‹†è§£ä¸ºâ€œæ–¹å‘å¤„ç†+å­é—®é¢˜éªŒè¯â€ï¼ŒçŸ©é˜µæ—‹è½¬æ˜¯é™ç»´åˆ©å™¨ï¼

---

é€šè¿‡åœ£å‰‘è°ƒæ•´ä»»åŠ¡ï¼Œæˆ‘ä»¬æŒæ¡äº†äºŒåˆ†ç­”æ¡ˆä¸çŸ©é˜µåˆ†å‰²çš„æ ¸å¿ƒæŠ€å·§ï¼è®°ä½ï¼š**ä¼˜é›…çš„ç®—æ³•å¦‚åŒåœ£å‰‘çš„æŠ¤ç¬¦ï¼Œç¯ç¯ç›¸æ‰£æ‰èƒ½å‘æŒ¥æœ€å¤§åŠ›é‡**ã€‚ä¸‹æ¬¡å†’é™©å†è§ï¼âœ¨

---
å¤„ç†ç”¨æ—¶ï¼š148.72ç§’
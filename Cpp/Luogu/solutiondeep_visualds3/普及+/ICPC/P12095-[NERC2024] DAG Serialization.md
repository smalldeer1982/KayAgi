# é¢˜ç›®ä¿¡æ¯

# [NERC2024] DAG Serialization

## é¢˜ç›®æè¿°

è€ƒè™‘ä¸€ä¸ªç®€å•çš„å•æ¯”ç‰¹å¸ƒå°”å¯„å­˜å™¨ï¼Œå®ƒæ”¯æŒä¸¤ä¸ªæ“ä½œï¼š

- $\textbf{set}$ â€”â€” å¦‚æœå¯„å­˜å™¨æ˜¯ $\textbf{false}$ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º $\textbf{true}$ï¼Œå¹¶è¿”å› $\textbf{true}$ï¼›å¦åˆ™ï¼Œè¿”å› $\textbf{false}$ï¼›
- $\textbf{unset}$ â€”â€” å¦‚æœå¯„å­˜å™¨æ˜¯ $\textbf{true}$ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º $\textbf{false}$ï¼Œå¹¶è¿”å› $\textbf{true}$ï¼›å¦åˆ™ï¼Œè¿”å› $\textbf{false}$ã€‚

å¯„å­˜å™¨çš„åˆå§‹çŠ¶æ€ä¸º $\textbf{false}$ã€‚å‡è®¾æœ‰ $n$ ä¸ªæ“ä½œ $op_i$ï¼ˆ$1 \le i \le n$ï¼‰ï¼Œå¹¶ä¸” **è‡³å¤šæœ‰ä¸¤ä¸ªæ“ä½œè¿”å› true**ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ç»™å‡ºäº†æ“ä½œçš„éƒ¨åˆ†é¡ºåºï¼Œè¡¨ç¤ºä¸ºä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼šè¾¹ $i \rightarrow j$ è¡¨ç¤º $op_i$ åœ¨ $op_j$ ä¹‹å‰å‘ç”Ÿã€‚ä½ çš„ä»»åŠ¡æ˜¯åˆ¤æ–­æ˜¯å¦å¯èƒ½å°†è¿™äº›æ“ä½œæ’åˆ—æˆæŸä¸ªçº¿æ€§é¡ºåºï¼Œä½¿å¾—ç¬¦åˆç»™å®šçš„éƒ¨åˆ†é¡ºåºï¼Œå¹¶ä¸”å¦‚æœæŒ‰ç…§è¯¥é¡ºåºæ‰§è¡Œæ“ä½œï¼Œå¾—åˆ°çš„ç»“æœä¸ç»™å®šçš„ä¸€è‡´ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
5
set true
unset true
set false
unset false
unset false
2
1 4
5 2```

### è¾“å‡º

```
5 1 3 2 4```

## æ ·ä¾‹ #2

### è¾“å…¥

```
3
unset true
unset false
set true
0```

### è¾“å‡º

```
2 3 1```

## æ ·ä¾‹ #3

### è¾“å…¥

```
2
unset false
set true
1
2 1```

### è¾“å‡º

```
-1```

## æ ·ä¾‹ #4

### è¾“å…¥

```
2
unset false
set false
0```

### è¾“å‡º

```
-1```

# AIåˆ†æç»“æœ


### é¢˜ç›®åˆ†æ
**é¢˜ç›®åç§°**ï¼šDAG Serialization  
**æ ¸å¿ƒç®—æ³•åˆ†ç±»**ï¼šæ‹“æ‰‘æ’åº + çŠ¶æ€æœºçº¦æŸï¼ˆç¼–ç¨‹æŠ€å·§åº”ç”¨ï¼‰  

#### åˆæ­¥åˆ†æ
æœ¬é¢˜è¦æ±‚å°†æ“ä½œåºåˆ—ï¼ˆ`set`/`unset`ï¼‰åœ¨æ»¡è¶³DAGéƒ¨åˆ†é¡ºåºçš„å‰æä¸‹æ’åˆ—æˆçº¿æ€§é¡ºåºï¼Œä½¿å¾—æ‰§è¡Œç»“æœç¬¦åˆé¢„æœŸï¼ˆè‡³å¤šä¸¤ä¸ªæ“ä½œè¿”å›`true`ï¼‰ã€‚å¯„å­˜å™¨çš„åˆå§‹çŠ¶æ€ä¸º`false`ï¼Œæ“ä½œè¡Œä¸ºå¦‚ä¸‹ï¼š
- **`set`**ï¼šè‹¥å¯„å­˜å™¨ä¸º`false`åˆ™ç½®ä¸º`true`å¹¶è¿”å›`true`ï¼Œå¦åˆ™è¿”å›`false`ã€‚
- **`unset`**ï¼šè‹¥å¯„å­˜å™¨ä¸º`true`åˆ™ç½®ä¸º`false`å¹¶è¿”å›`true`ï¼Œå¦åˆ™è¿”å›`false`ã€‚

**æ ¸å¿ƒæ€æƒ³**ï¼š  
å°†é—®é¢˜è½¬åŒ–ä¸º**å¸¦çº¦æŸçš„æ‹“æ‰‘æ’åº**ï¼Œçº¦æŸæ¥è‡ªå¯„å­˜å™¨çš„çŠ¶æ€æœºç‰¹æ€§ï¼š
1. **çŠ¶æ€å˜åŒ–ä»…ç”±è¿”å›`true`çš„æ“ä½œè§¦å‘**ï¼ˆ`set`ä»`falseâ†’true`ï¼Œ`unset`ä»`trueâ†’false`ï¼‰ã€‚
2. æ ¹æ®è¿”å›`true`çš„æ“ä½œæ•°é‡ï¼ˆ0ã€1æˆ–2ï¼‰ï¼Œåºåˆ—ç»“æ„å›ºå®šï¼š
   - **æ— çŠ¶æ€å˜åŒ–**ï¼šæ‰€æœ‰æ“ä½œå‡ä¸º`unset`ä¸”è¿”å›`false`ã€‚
   - **ä¸€æ¬¡çŠ¶æ€å˜åŒ–**ï¼šä»…ä¸€ä¸ª`set`è¿”å›`true`ï¼Œå…¶åæ— `unset`æ“ä½œã€‚
   - **ä¸¤æ¬¡çŠ¶æ€å˜åŒ–**ï¼šä¸€ä¸ª`set`ï¼ˆ`falseâ†’true`ï¼‰å’Œä¸€ä¸ª`unset`ï¼ˆ`trueâ†’false`ï¼‰è¿”å›`true`ï¼ŒäºŒè€…ä¹‹é—´ä»…æœ‰`set`æ“ä½œã€‚

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
é‡‡ç”¨**8ä½åƒç´ é£æ ¼**æ¨¡æ‹Ÿå¯„å­˜å™¨çŠ¶æ€å˜åŒ–ï¼š
1. **ç½‘æ ¼è¡¨ç¤ºæ“ä½œåºåˆ—**ï¼šæ¯ä¸ªæ“ä½œæ˜¾ç¤ºä¸ºåƒç´ æ–¹å—ï¼ˆ`set`ï¼šè“è‰²ï¼Œ`unset`ï¼šçº¢è‰²ï¼‰ã€‚
2. **çŠ¶æ€é«˜äº®**ï¼š
   - å½“å‰å¯„å­˜å™¨çŠ¶æ€ï¼š`false`ï¼ˆç°è‰²ï¼‰ã€`true`ï¼ˆé»„è‰²ï¼‰ã€‚
   - æ“ä½œæ‰§è¡Œæ—¶ï¼šæ–¹å—é—ªçƒï¼Œè¿”å›`true`æ—¶æ’­æ”¾â€œå®â€éŸ³æ•ˆã€‚
3. **æ•°æ®ç»“æ„å¯è§†åŒ–**ï¼šDAGç”¨æœ‰å‘ç®­å¤´è¿æ¥æ–¹å—ï¼Œæ‹“æ‰‘æ’åºè¿‡ç¨‹åŠ¨æ€æ›´æ–°ã€‚

---

### ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
ç”±äºé¢˜ç›®æš‚æ— é¢˜è§£ï¼Œä»¥ä¸‹åŸºäºç®—æ³•è®¾è®¡è¿›è¡Œç‚¹è¯„ï¼š  
**é€šç”¨è§£æ³•è®¾è®¡**ï¼š  
1. **åˆ†ç±»å¤„ç†ä¸‰ç§çŠ¶æ€å˜åŒ–æƒ…å†µ**ï¼ŒåŠ¨æ€æ‰©å±•DAGè¾¹ä»¥åµŒå…¥çº¦æŸã€‚
2. **BFS/DFSé¢„å¤„ç†å¯è¾¾æ€§**ï¼Œé«˜æ•ˆå¤„ç†è‡ªç”±èŠ‚ç‚¹ï¼ˆä¸`true`æ“ä½œæ— è·¯å¾„è”ç³»çš„èŠ‚ç‚¹ï¼‰ã€‚
3. **Kahnç®—æ³•åˆ†å±‚æ‹“æ‰‘æ’åº**ï¼Œä¼˜å…ˆå¤„ç†çº¦æŸèŠ‚ç‚¹ã€‚

**äº®ç‚¹**ï¼š  
- **å¤æ‚åº¦ä¼˜åŒ–**ï¼šé€šè¿‡4æ¬¡BFS/DFSï¼ˆO(n)ï¼‰é¢„å¤„ç†è·¯å¾„ï¼Œé¿å…æš´åŠ›æšä¸¾ã€‚
- **å¥å£®æ€§**ï¼šè‡ªç”±èŠ‚ç‚¹å°è¯•ä¸¤ç§çº¦æŸé€‰æ‹©ï¼ˆ`uâ†’v1`æˆ–`v2â†’u`ï¼‰ï¼Œç¡®ä¿å¯è¡Œæ€§ã€‚
- **å¯è¯»æ€§**ï¼šæ¸…æ™°åˆ’åˆ†çŠ¶æ€å˜åŒ–æƒ…å†µï¼Œé€»è¾‘ç›´ç™½ã€‚

---

### æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
#### å…³é”®éš¾ç‚¹
1. **çŠ¶æ€å˜åŒ–ä¸DAGçš„ååŒ**  
   - å¯„å­˜å™¨çŠ¶æ€æœºé™åˆ¶æ“ä½œé¡ºåºï¼ˆå¦‚`set`åä¸èƒ½ç«‹å³`unset`ï¼‰ï¼Œéœ€ä¸DAGé¡ºåºå…¼å®¹ã€‚
2. **è‡ªç”±èŠ‚ç‚¹çš„çº¦æŸåˆ†é…**  
   - æ— è·¯å¾„è”ç³»çš„`unset`æ“ä½œéœ€åŠ¨æ€åˆ†é…ä½ç½®ï¼ˆ`v1`å‰æˆ–`v2`åï¼‰ï¼Œå¯èƒ½å¼•å‘ç¯è·¯ã€‚
3. **å¤æ‚åº¦ä¼˜åŒ–**  
   - é¿å…O(nÂ²)è·¯å¾„æŸ¥è¯¢ï¼Œéœ€é«˜æ•ˆé¢„å¤„ç†ã€‚

#### è§£å†³æ–¹æ¡ˆ
1. **çŠ¶æ€æœºåˆ†æ®µ**ï¼š  
   - æŒ‰çŠ¶æ€å˜åŒ–åˆ’åˆ†ä¸‰æ®µï¼š`A`ï¼ˆ`v1`å‰çš„`unset`ï¼‰ã€`B`ï¼ˆ`v1`å’Œ`v2`é—´çš„`set`ï¼‰ã€`C`ï¼ˆ`v2`åçš„`unset`ï¼‰ã€‚
2. **è·¯å¾„é¢„å¤„ç†**ï¼š  
   - æ­£/åå‘BFSè®¡ç®—èŠ‚ç‚¹åˆ°`v1`/`v2`çš„å¯è¾¾æ€§ï¼ŒæŒ‡å¯¼çº¦æŸåˆ†é…ã€‚
3. **å›æº¯å¼æ‹“æ‰‘æ’åº**ï¼š  
   - è‡ªç”±èŠ‚ç‚¹ä¼˜å…ˆå°è¯•`uâ†’v1`ï¼Œå¤±è´¥åˆ™å°è¯•`v2â†’u`ï¼Œç¡®ä¿çº¿æ€§å¤æ‚åº¦ã€‚

#### ğŸ’¡ å­¦ä¹ ç¬”è®°
> çŠ¶æ€æœºçº¦æŸè½¬åŒ–ä¸ºDAGè¾¹çš„æ ¸å¿ƒæ˜¯**ä¿æŒæ— ç¯**ï¼Œåˆ†æ®µå¤„ç†å¯é™ä½å¤æ‚åº¦ã€‚

---

### C++æ ¸å¿ƒä»£ç å®ç°èµæ
#### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°
```cpp
#include <iostream>
#include <vector>
#include <queue>
#include <algorithm>
using namespace std;

vector<vector<int>> graph, rev_graph;
vector<int> in_degree;

vector<bool> bfs(int start, const vector<vector<int>>& g) {
    int n = g.size();
    vector<bool> vis(n, false);
    queue<int> q;
    q.push(start);
    vis[start] = true;
    while (!q.empty()) {
        int u = q.front(); q.pop();
        for (int v : g[u]) {
            if (!vis[v]) {
                vis[v] = true;
                q.push(v);
            }
        }
    }
    return vis;
}

vector<int> topological_sort(int n, vector<vector<int>>& g, vector<int>& in) {
    vector<int> order;
    queue<int> q;
    for (int i = 0; i < n; ++i)
        if (in[i] == 0) q.push(i);

    while (!q.empty()) {
        int u = q.front(); q.pop();
        order.push_back(u);
        for (int v : g[u]) {
            in[v]--;
            if (in[v] == 0) q.push(v);
        }
    }
    return (order.size() == n) ? order : vector<int>();
}

int main() {
    int n; cin >> n;
    vector<string> ops(n);
    vector<bool> is_true(n);
    // è¾“å…¥æ“ä½œå’Œè¿”å›ç»“æœ
    for (int i = 0; i < n; ++i) {
        string op, res;
        cin >> op >> res;
        ops[i] = op;
        is_true[i] = (res == "true");
    }

    int m; cin >> m;
    graph.resize(n); rev_graph.resize(n);
    in_degree.assign(n, 0);
    for (int i = 0; i < m; ++i) {
        int u, v; cin >> u >> v;
        u--; v--;
        graph[u].push_back(v);
        rev_graph[v].push_back(u);
        in_degree[v]++;
    }

    // åˆ†ç±»trueæ“ä½œ
    vector<int> set_true, unset_true;
    for (int i = 0; i < n; ++i) {
        if (is_true[i]) {
            if (ops[i] == "set") set_true.push_back(i);
            else unset_true.push_back(i);
        }
    }

    // æƒ…å†µ0: æ— trueæ“ä½œ
    if (set_true.empty() && unset_true.empty()) {
        for (auto& op : ops) {
            if (op == "set") { // å­˜åœ¨setåˆ™æ— è§£
                cout << "-1\n";
                return 0;
            }
        }
        auto ord = topological_sort(n, graph, in_degree);
        if (ord.empty()) cout << "-1\n";
        else {
            for (int x : ord) cout << x+1 << " ";
        }
    }
    // æƒ…å†µ1: ä»…ä¸€ä¸ªset_true
    else if (set_true.size() == 1 && unset_true.empty()) {
        int v = set_true[0];
        vector<vector<int>> new_graph = graph;
        vector<int> new_in = in_degree;

        // æ·»åŠ çº¦æŸè¾¹: æ‰€æœ‰unset->v, v->å…¶ä»–set
        for (int i = 0; i < n; ++i) {
            if (ops[i] == "unset") {
                new_graph[i].push_back(v);
                new_in[v]++;
            }
            else if (i != v) {
                new_graph[v].push_back(i);
                new_in[i]++;
            }
        }

        auto ord = topological_sort(n, new_graph, new_in);
        if (ord.empty()) cout << "-1\n";
        else {
            for (int x : ord) cout << x+1 << " ";
        }
    }
    // æƒ…å†µ2: ä¸€ä¸ªset_true + ä¸€ä¸ªunset_true
    else if (set_true.size() == 1 && unset_true.size() == 1) {
        int v1 = set_true[0], v2 = unset_true[0];
        vector<vector<int>> new_graph = graph;
        vector<int> new_in = in_degree;

        // æ·»åŠ v1->v2
        new_graph[v1].push_back(v2);
        new_in[v2]++;

        // æ·»åŠ setæ“ä½œçº¦æŸ: v1->x, x->v2
        for (int i = 0; i < n; ++i) {
            if (ops[i] == "set" && i != v1) {
                new_graph[v1].push_back(i);
                new_in[i]++;
                new_graph[i].push_back(v2);
                new_in[v2]++;
            }
        }

        // é¢„å¤„ç†å¯è¾¾æ€§
        auto to_v1 = bfs(v1, rev_graph); // å¯åˆ°v1çš„èŠ‚ç‚¹
        auto to_v2 = bfs(v2, rev_graph); // å¯åˆ°v2çš„èŠ‚ç‚¹
        auto from_v1 = bfs(v1, graph);  // v1å¯è¾¾çš„èŠ‚ç‚¹
        auto from_v2 = bfs(v2, graph);  // v2å¯è¾¾çš„èŠ‚ç‚¹

        // å¤„ç†unsetæ“ä½œ (é™¤v2)
        vector<int> free_nodes;
        for (int i = 0; i < n; ++i) {
            if (ops[i] == "unset" && i != v2) {
                if (to_v1[i] || to_v2[i]) { // å¿…é¡»æ”¾v1å‰
                    new_graph[i].push_back(v1);
                    new_in[v1]++;
                }
                else if (from_v1[i] || from_v2[i]) { // å¿…é¡»æ”¾v2å
                    new_graph[v2].push_back(i);
                    new_in[i]++;
                }
                else {
                    free_nodes.push_back(i);
                }
            }
        }

        // å¤„ç†è‡ªç”±èŠ‚ç‚¹
        bool valid = true;
        for (int u : free_nodes) {
            auto temp_graph = new_graph;
            auto temp_in = new_in;

            // å°è¯•u->v1
            temp_graph[u].push_back(v1);
            temp_in[v1]++;
            auto ord = topological_sort(n, temp_graph, temp_in);
            if (!ord.empty()) {
                new_graph = temp_graph;
                new_in = temp_in;
                continue;
            }

            // å°è¯•v2->u
            temp_graph = new_graph;
            temp_in = new_in;
            temp_graph[v2].push_back(u);
            temp_in[u]++;
            ord = topological_sort(n, temp_graph, temp_in);
            if (!ord.empty()) {
                new_graph = temp_graph;
                new_in = temp_in;
            } else {
                valid = false;
                break;
            }
        }

        if (valid) {
            auto ord = topological_sort(n, new_graph, new_in);
            if (ord.empty()) cout << "-1\n";
            else {
                for (int x : ord) cout << x+1 << " ";
            }
        } else {
            cout << "-1\n";
        }
    }
    else {
        cout << "-1\n";
    }
}
```

#### ä»£ç è§£è¯»æ¦‚è¦
1. **è¾“å…¥å¤„ç†**ï¼šè§£ææ“ä½œç±»å‹ã€è¿”å›ç»“æœåŠDAGè¾¹ã€‚
2. **çŠ¶æ€åˆ†ç±»**ï¼šè¯†åˆ«ä¸‰ç§çŠ¶æ€å˜åŒ–æƒ…å†µï¼ˆ0/1/2ä¸ª`true`ï¼‰ã€‚
3. **çº¦æŸæ‰©å±•**ï¼š  
   - æƒ…å†µ1ï¼šæ·»åŠ `unsetâ†’set_true`å’Œ`set_trueâ†’å…¶ä»–set`è¾¹ã€‚  
   - æƒ…å†µ2ï¼šæ·»åŠ `set_trueâ†’unset_true`åŠ`set_trueâ†’setâ†’unset_true`é“¾å¼è¾¹ã€‚  
4. **å¯è¾¾æ€§é¢„å¤„ç†**ï¼šBFSè®¡ç®—èŠ‚ç‚¹åˆ°å…³é”®ç‚¹çš„è·¯å¾„ï¼ŒæŒ‡å¯¼è‡ªç”±èŠ‚ç‚¹åˆ†é…ã€‚  
5. **æ‹“æ‰‘æ’åº**ï¼šKahnç®—æ³•å¤„ç†æ‰©å±•åçš„DAGï¼Œè‡ªç”±èŠ‚ç‚¹å›æº¯å°è¯•ã€‚  

---

### ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
#### ä¸»é¢˜ä¸è®¾è®¡
**8ä½åƒç´ é£æ ¼**æ¨¡æ‹Ÿå¯„å­˜å™¨çŠ¶æ€æœºä¸DAGæ’åºï¼š  
- **åœºæ™¯**ï¼šç½‘æ ¼åŒ–æ“ä½œåºåˆ—ï¼ˆæ¯æ ¼ä¸€ä¸ªæ“ä½œï¼‰ï¼ŒDAGè¾¹ä¸ºç®­å¤´ã€‚  
- **éŸ³æ•ˆ**ï¼šæ“ä½œæ‰§è¡Œï¼ˆâ€œå˜€â€ï¼‰ï¼Œè¿”å›`true`ï¼ˆâ€œå®â€ï¼‰ï¼Œé”™è¯¯ï¼ˆâ€œå˜Ÿâ€ï¼‰ã€‚  

#### åŠ¨ç”»æ­¥éª¤
1. **åˆå§‹åŒ–**ï¼š  
   - ç½‘æ ¼æŒ‰è¾“å…¥é¡ºåºæ˜¾ç¤ºæ“ä½œï¼Œç°è‰²ç®­å¤´è¡¨ç¤ºDAGè¾¹ã€‚  
   - å¯„å­˜å™¨çŠ¶æ€æ ï¼ˆå·¦ä¾§ï¼‰ï¼šåˆå§‹`false`ï¼ˆç°è‰²åƒç´ å—ï¼‰ã€‚  

2. **æ‹“æ‰‘æ’åºè¿‡ç¨‹**ï¼š  
   - **å½“å‰èŠ‚ç‚¹é«˜äº®**ï¼šé»„è‰²è¾¹æ¡†ã€‚  
   - **å¯„å­˜å™¨çŠ¶æ€æ›´æ–°**ï¼š  
     - `set`æˆåŠŸï¼šå¯„å­˜å™¨å˜é»„ï¼ˆ`true`ï¼‰ï¼Œæ’­æ”¾â€œå®â€ã€‚  
     - `unset`æˆåŠŸï¼šå¯„å­˜å™¨å˜ç°ï¼ˆ`false`ï¼‰ï¼Œæ’­æ”¾â€œå®â€ã€‚  
   - **è¾¹æ¿€æ´»**ï¼šç›¸å…³DAGè¾¹é—ªçƒç»¿è‰²ã€‚  

3. **è‡ªç”±èŠ‚ç‚¹å¤„ç†**ï¼š  
   - åˆ†æ”¯é€‰æ‹©æ—¶å¼¹å‡ºå¯¹è¯æ¡†ï¼š  
     - â€œ`uâ†’v1`â€ï¼ˆå·¦ç®­å¤´ï¼‰æˆ–â€œ`v2â†’u`â€ï¼ˆå³ç®­å¤´ï¼‰ã€‚  
   - é€‰æ‹©åè·¯å¾„æ˜¾ç¤ºä¸ºçº¢è‰²ï¼Œæ‰§è¡Œå¯¹åº”æ“ä½œã€‚  

4. **ç»“æŸçŠ¶æ€**ï¼š  
   - æˆåŠŸï¼šå…¨éƒ¨èŠ‚ç‚¹ç»¿è‰²ï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆã€‚  
   - å¤±è´¥ï¼šé˜»å¡èŠ‚ç‚¹çº¢è‰²ï¼Œæ˜¾ç¤ºâ€œ-1â€ã€‚  

#### æŠ€æœ¯å®ç°
- **Canvasç»˜åˆ¶**ï¼šç½‘æ ¼ä¸ç®­å¤´åŠ¨æ€æ›´æ–°ã€‚  
- **äº¤äº’æ§åˆ¶**ï¼šæ­¥è¿›/æš‚åœ/è°ƒé€Ÿæ»‘å—ã€‚  
- **ä¼ªä»£ç åŒæ­¥**ï¼šå³ä¾§æ˜¾ç¤ºå½“å‰æ‹“æ‰‘æ’åºæ­¥éª¤çš„C++ä»£ç ã€‚  

---

### æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
#### é€šç”¨æŠ€å·§è¿ç§»
- **çŠ¶æ€æœº+æ‹“æ‰‘æ’åº**ï¼šé€‚ç”¨äºæ“ä½œåºåˆ—éœ€æ»¡è¶³éƒ¨åˆ†é¡ºåºä¸”çŠ¶æ€å—é™çš„åœºæ™¯ã€‚  
  - **åœºæ™¯1**ï¼šä»»åŠ¡è°ƒåº¦ï¼ˆä»»åŠ¡ä¾èµ–+èµ„æºçŠ¶æ€çº¦æŸï¼‰ã€‚  
  - **åœºæ™¯2**ï¼šè‡ªåŠ¨åŒ–æµæ°´çº¿ï¼ˆå·¥åºä¾èµ–+æœºå™¨çŠ¶æ€åˆ‡æ¢ï¼‰ã€‚  
  - **åœºæ™¯3**ï¼šæ¸¸æˆå…³å¡åºåˆ—ï¼ˆå…³å¡ä¾èµ–+ç©å®¶çŠ¶æ€å˜åŒ–ï¼‰ã€‚  

#### æ´›è°·ç»ƒä¹ æ¨è
1. **P1113 - æ‚åŠ¡**  
   - **ç†ç”±**ï¼šåŸºç¡€DAGæ‹“æ‰‘æ’åºï¼Œå·©å›ºä»»åŠ¡è°ƒåº¦æ€æƒ³ã€‚  
2. **P1983 - è½¦ç«™åˆ†çº§**  
   - **ç†ç”±**ï¼šçŠ¶æ€çº¦æŸï¼ˆè½¦ç«™ç­‰çº§ï¼‰ä¸æ‹“æ‰‘æ’åºç»“åˆï¼Œç±»æ¯”å¯„å­˜å™¨çŠ¶æ€æœºã€‚  
3. **P4017 - æœ€å¤§é£Ÿç‰©é“¾è®¡æ•°**  
   - **ç†ç”±**ï¼šDAGè·¯å¾„ç»Ÿè®¡ï¼Œæ‰©å±•è‡³å¸¦æƒçŠ¶æ€è½¬ç§»ã€‚  

---

### å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> æœ¬é¢˜çš„è°ƒè¯•å…³é”®åœ¨äº**å¯è§†åŒ–çŠ¶æ€å˜åŒ–**ï¼š  
> - æ‰“å°å¯„å­˜å™¨çŠ¶æ€å’Œæ“ä½œè¿”å›å€¼ï¼ŒéªŒè¯åºåˆ—æ‰§è¡Œé€»è¾‘ã€‚  
> - å¯¹è‡ªç”±èŠ‚ç‚¹ï¼Œä¼˜å…ˆå°è¯•**ä¸å¢åŠ æ·±åº¦çš„è·¯å¾„**ï¼ˆå¦‚`uâ†’v1`ï¼‰ï¼Œé¿å…ç¯è·¯ã€‚  
>  
> **ç»éªŒæ€»ç»“**ï¼šå°†ç‰©ç†çº¦æŸï¼ˆå¦‚å¯„å­˜å™¨ï¼‰è½¬åŒ–ä¸ºå›¾è¾¹çº¦æŸï¼Œæ˜¯DAGé—®é¢˜çš„é€šç”¨æŠ€å·§ã€‚

---  
ğŸ’¡ åšæŒæ¨¡æ‹ŸçŠ¶æ€å˜åŒ–ä¸DAGçš„äº¤äº’ï¼Œä½ å°†åœ¨æ‹“æ‰‘æ’åºç±»é—®é¢˜ä¸­æ¸¸åˆƒæœ‰ä½™ï¼

---
å¤„ç†ç”¨æ—¶ï¼š722.84ç§’
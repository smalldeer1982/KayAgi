# é¢˜ç›®ä¿¡æ¯

# [USACO18DEC] Mooyo Mooyo S

## é¢˜ç›®æè¿°

ç”±äºæ‰‹ä¸Šï¼ˆæ›´ç¡®å®çš„ï¼Œè¹„å­ä¸Šï¼‰æœ‰å¤§æŠŠçš„ç©ºä½™æ—¶é—´ï¼ŒFarmer John çš„å†œåœºé‡Œçš„å¥¶ç‰›ç»å¸¸ç©ç”µå­æ¸¸æˆæ¶ˆç£¨æ—¶å…‰ã€‚å¥¹ä»¬æœ€çˆ±çš„æ¸¸æˆä¹‹ä¸€æ˜¯åŸºäºä¸€æ¬¾æµè¡Œçš„ç”µå­æ¸¸æˆ Puyo Puyo çš„å¥¶ç‰›ç‰ˆï¼›åç§°å½“ç„¶å«åš Mooyo Mooyoã€‚

Mooyo Mooyo æ˜¯åœ¨ä¸€å—åˆé«˜åˆçª„çš„æ£‹ç›˜ä¸Šè¿›è¡Œçš„æ¸¸æˆï¼Œé«˜ $N$ï¼ˆ$1\le N\le 100$ï¼‰æ ¼ï¼Œå®½ $10$ æ ¼ã€‚ è¿™æ˜¯ä¸€ä¸ª $N=6$ çš„æ£‹ç›˜çš„ä¾‹å­ï¼š

```
0000000000
0000000300
0054000300
1054502230
2211122220
1111111223
```

æ¯ä¸ªæ ¼å­æˆ–è€…æ˜¯ç©ºçš„ï¼ˆç”¨ $0$ è¡¨ç¤ºï¼‰ï¼Œæˆ–è€…æ˜¯ä¹ç§é¢œè‰²ä¹‹ä¸€çš„å¹²è‰æ†ï¼ˆç”¨å­—ç¬¦ $1\dots 9$ è¡¨ç¤ºï¼‰ã€‚é‡åŠ›ä¼šä½¿å¾—å¹²è‰æ†ä¸‹è½ï¼Œæ‰€ä»¥æ²¡æœ‰å¹²è‰æ†çš„ä¸‹æ–¹æ˜¯ $0$ã€‚

å¦‚æœä¸¤ä¸ªæ ¼å­æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›´æ¥ç›¸é‚»ï¼Œå¹¶ä¸”ä¸ºåŒä¸€ç§é $0$ é¢œè‰²ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ ¼å­å°±å±äºåŒä¸€ä¸ªè¿é€šåŒºåŸŸã€‚ä»»æ„æ—¶åˆ»å‡ºç°è‡³å°‘ $K$ ä¸ªæ ¼å­æ„æˆçš„è¿é€šåŒºåŸŸï¼Œå…¶ä¸­çš„å¹²è‰æ†å°±ä¼šå…¨éƒ¨æ¶ˆå¤±ï¼Œå˜ä¸º $0$ã€‚å¦‚æœåŒæ—¶å‡ºç°å¤šä¸ªè¿™æ ·çš„è¿é€šåŒºåŸŸï¼Œå®ƒä»¬åŒæ—¶æ¶ˆå¤±ã€‚éšåï¼Œé‡åŠ›å¯èƒ½ä¼šå¯¼è‡´å¹²è‰æ†å‘ä¸‹è½å…¥æŸä¸ªå˜ä¸º $0$ çš„æ ¼å­ã€‚ç”±æ­¤å½¢æˆçš„æ–°çš„å¸ƒå±€ä¸­ï¼Œåˆå¯èƒ½å‡ºç°è‡³å°‘ $K$ ä¸ªæ ¼å­æ„æˆçš„è¿é€šåŒºåŸŸã€‚è‹¥å¦‚æ­¤ï¼Œå®ƒä»¬åŒæ ·ä¹Ÿä¼šæ¶ˆå¤±ï¼ˆå¦‚æœåˆæœ‰å¤šä¸ªè¿™æ ·çš„åŒºåŸŸï¼Œåˆ™åŒæ—¶æ¶ˆå¤±ï¼‰ï¼Œç„¶åé‡åŠ›åˆä¼šä½¿å¾—å‰©ä¸‹çš„æ–¹å—ä¸‹è½ï¼Œè¿™ä¸€è¿‡ç¨‹æŒç»­è¿›è¡Œï¼Œç›´åˆ°ä¸å­˜åœ¨å¤§å°è‡³å°‘ä¸º $K$ çš„è¿é€šåŒºåŸŸä¸ºæ­¢ã€‚

ç»™å®šä¸€å— Mooyo Mooyo æ£‹ç›˜çš„çŠ¶æ€ï¼Œè¾“å‡ºè¿™äº›è¿‡ç¨‹å‘ç”Ÿä¹‹åæœ€ç»ˆçš„æ£‹ç›˜çš„å›¾æ¡ˆã€‚



## è¯´æ˜/æç¤º

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœ $K=3$ï¼Œé‚£ä¹ˆå­˜åœ¨ä¸€ä¸ªå¤§å°è‡³å°‘ä¸º $K$ çš„é¢œè‰² $1$ çš„è¿é€šåŒºåŸŸï¼ŒåŒæ ·æœ‰ä¸€ä¸ªé¢œè‰² $2$ çš„è¿é€šåŒºåŸŸã€‚å½“å®ƒä»¬åŒæ—¶è¢«ç§»é™¤ä¹‹åï¼Œæ£‹ç›˜æš‚æ—¶æˆä¸ºäº†è¿™æ ·ï¼š

```
0000000000
0000000300
0054000300
1054500030
2200000000
0000000003
```

ç„¶åï¼Œç”±äºé‡åŠ›æ•ˆæœï¼Œå¹²è‰æ†ä¸‹è½å½¢æˆè¿™æ ·çš„å¸ƒå±€ï¼š

```
0000000000
0000000000
0000000000
0000000000
1054000300
2254500333
```

å†ä¸€æ¬¡åœ°ï¼Œå‡ºç°äº†ä¸€ä¸ªå¤§å°è‡³å°‘ä¸º $K$ åœ°è¿é€šåŒºåŸŸï¼ˆé¢œè‰² $3$ï¼‰ã€‚ç§»é™¤è¿™ä¸ªåŒºåŸŸå°±å¾—åˆ°äº†æœ€ç»ˆçš„æ£‹ç›˜å¸ƒå±€ï¼š

```
0000000000
0000000000
0000000000
0000000000
1054000000
2254500000
```

## æ ·ä¾‹ #1

### è¾“å…¥

```
6 3
0000000000
0000000300
0054000300
1054502230
2211122220
1111111223```

### è¾“å‡º

```
0000000000
0000000000
0000000000
0000000000
1054000000
2254500000```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šMooyo Mooyo S æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

**é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«**  
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`æœç´¢(BFS/DFS) + æ¨¡æ‹Ÿåº”ç”¨`  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è§£å†³"Mooyo Mooyo"çš„å…³é”®åœ¨äº**è¿é€šå—æ£€æµ‹**å’Œ**é‡åŠ›æ¨¡æ‹Ÿ**ã€‚æƒ³è±¡ä¸€ä¸ªåƒç´ é£å†œåœºæ¸¸æˆï¼šå¹²è‰æ†åƒå½©è‰²ç³–æœï¼Œç›¸åŒé¢œè‰²ç›¸è¿æˆå—ã€‚å½“ç³–æœå—â‰¥Kæ—¶ï¼Œ"ç °"åœ°æ¶ˆé™¤ï¼ç„¶åå‰©ä½™ç³–æœå—é‡åŠ›ä¸‹è½ï¼Œå½¢æˆæ–°å¸ƒå±€ã€‚  
> - **æ ¸å¿ƒæµç¨‹**ï¼šå¾ªç¯æ‰§è¡Œâ†’(1)DFS/BFSæ‰¾åŒè‰²è¿é€šå— (2)è‹¥å—å¤§å°â‰¥Kåˆ™æ¸…é›¶ (3)æ¨¡æ‹Ÿé‡åŠ›ä¸‹è½  
> - **å¯è§†åŒ–è®¾è®¡**ï¼šç”¨8ä½åƒç´ ç½‘æ ¼å±•ç¤ºï¼Œé«˜äº®å½“å‰æ‰«æçš„æ ¼å­ï¼ˆé—ªçƒé»„æ¡†ï¼‰ï¼Œæ¶ˆé™¤æ—¶æ’­æ”¾"å®"å£°å¹¶å˜é»‘ï¼Œä¸‹è½è¿‡ç¨‹ç”¨ç¼“åŠ¨åŠ¨ç”»  
> - **å¤å¤æ¸¸æˆåŒ–**ï¼šæ·»åŠ FCéŸ³æ•ˆï¼ˆæ‰«æ"å˜€"ã€æ¶ˆé™¤"ç °"ã€ä¸‹è½"æ²™æ²™"ï¼‰ï¼Œè¿‡å…³æ—¶æ’­æ”¾èƒœåˆ©éŸ³æ•ˆï¼Œæ¯è½®æ¶ˆé™¤ç®—ä½œ"å°å…³å¡"

---

### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼šhouzhiyuanï¼‰**  
* **ç‚¹è¯„**ï¼š  
  æ€è·¯æ¸…æ™°ç›´ç™½â€”â€”DFSæ‰«æè¿é€šå—ï¼Œç‹¬ç«‹ä¸‹è½å‡½æ•°å¤„ç†é‡åŠ›ã€‚äº®ç‚¹åœ¨äº**ä¸‹è½é€»è¾‘**ï¼šä»åº•å‘ä¸Šæ‰«æï¼Œä¸ºæ¯ä¸ªå¹²è‰æ†å¯»æ‰¾æœ€ä½ç©ºä½ï¼ˆ`while(ch[k+1][j]=='0')`ï¼‰ï¼Œåƒä¿„ç½—æ–¯æ–¹å—ä¸‹è½ã€‚ä»£ç å˜é‡åï¼ˆ`xialuo`ï¼‰ä½“ç°ä¸­æ–‡æ€ç»´ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ã€‚å®è·µä»·å€¼é«˜ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£äºŒï¼ˆä½œè€…ï¼šhhoppitreeï¼‰**  
* **ç‚¹è¯„**ï¼š  
  é‡‡ç”¨**åŒæŒ‡é’ˆä¼˜åŒ–ä¸‹è½**æ˜¯æœ€å¤§äº®ç‚¹ï¼ä»åˆ—åº•éƒ¨å‘ä¸Šæ‰«æï¼Œç”¨`bottom`æŒ‡é’ˆæ ‡è®°å¡«å……ä½ç½®ï¼ˆ`dta[bottom][j]=dta[i][j]`ï¼‰ï¼Œä¸€æ¬¡éå†å®Œæˆä¸‹è½ï¼Œæ•ˆç‡O(n)ã€‚ä»£ç è§„èŒƒï¼ˆ`inline void fall()`ï¼‰ï¼ŒçŠ¶æ€é‡ç½®ä¸¥è°¨ï¼Œç©ºé—´å¤æ‚åº¦O(1)ï¼Œæ˜¯ç«èµ›çº§ä¼˜åŒ–çš„å…¸èŒƒã€‚

**é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šAkoasm_Xï¼‰**  
* **ç‚¹è¯„**ï¼š  
  **åˆ—é‡æ„æ³•**ä¸‹è½ä»¤äººè€³ç›®ä¸€æ–°ï¼šæ”¶é›†åˆ—éé›¶å­—ç¬¦å†é‡æ–°å¡«å……ï¼ˆ`s+=mp[i][j]`ï¼‰ã€‚è™½éœ€é¢å¤–ç©ºé—´ï¼Œä½†é€»è¾‘æå…¶æ¸…æ™°ï¼Œé¿å…å¤æ‚ä½ç½®äº¤æ¢ã€‚ä»£ç æ³¨é‡Šè¯¦ç»†ï¼ŒDFSçš„`vis`æ•°ç»„ç®¡ç†è§„èŒƒï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚

---

### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1. **éš¾ç‚¹ï¼šè¿é€šå—é«˜æ•ˆæ£€æµ‹ä¸æ¸…é›¶**  
   * **åˆ†æ**ï¼šDFS/BFSéœ€æ³¨æ„**çŠ¶æ€é‡ç½®**â€”â€”æ¯æ¬¡æ‰«æå‰æ¸…ç©º`vis`æ•°ç»„ã€‚æ¸…é›¶æ“ä½œéœ€äºŒæ¬¡éå†ï¼šé¦–æ¬¡è®¡ç®—å¤§å°ï¼Œè‹¥â‰¥Kåˆ™æ ‡è®°ï¼›äºŒæ¬¡æ‰§è¡Œæ¸…é›¶ï¼ˆé¿å…è¯¯æ¸…å°è¿é€šå—ï¼‰ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`vis`æ•°ç»„æ˜¯æœç´¢çš„"è®°å¿†é¢åŒ…"ï¼Œåƒå®Œï¼ˆæ‰«æå®Œï¼‰è¦æ¢æ–°çš„ï¼

2. **éš¾ç‚¹ï¼šé‡åŠ›æ¨¡æ‹Ÿçš„å®ç°ä¼˜åŒ–**  
   * **åˆ†æ**ï¼šä¸‰ç§é«˜æ•ˆæ–¹æ¡ˆï¼š(1)åŒæŒ‡é’ˆæ³•ï¼ˆO(n)ï¼‰(2)ç©ºä½æ¢æµ‹æ³•ï¼ˆO(nÂ²)ä½†ç›´è§‚ï¼‰(3)åˆ—é‡æ„æ³•ï¼ˆO(n)ä½†éœ€é¢å¤–ç©ºé—´ï¼‰ã€‚**å…³é”®**ï¼šå¿…é¡»ä»åˆ—åº•éƒ¨å‘ä¸Šå¤„ç†ï¼Œé˜²æ­¢è¦†ç›–æœªå¤„ç†å…ƒç´ ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæƒ³è±¡å€’å¯ä¹â€”â€”æ°”æ³¡ï¼ˆé›¶ï¼‰å¾€ä¸Šå†’ï¼Œå¯ä¹ï¼ˆéé›¶ï¼‰å¾€ä¸‹æ²‰ï¼

3. **éš¾ç‚¹ï¼šå¾ªç¯ç»ˆæ­¢æ¡ä»¶**  
   * **åˆ†æ**ï¼šç”¨`bool changed`æ ‡è®°æ¯è½®æ˜¯å¦æœ‰æ¶ˆé™¤ï¼Œè‹¥å…¨ç›˜æ‰«æå`changed==false`åˆ™ç»ˆæ­¢ã€‚æ³¨æ„ä¸‹è½å¯èƒ½äº§ç”Ÿæ–°è¿é€šå—ï¼Œéœ€å¾ªç¯æ£€æµ‹ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`while(changed)`æ˜¯å¾ªç¯çš„"å®ˆé—¨å‘˜"ï¼Œæ²¡æ¶ˆé™¤å°±æ”¶å·¥ï¼

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ‹†åˆ†ä¸º`find_blocks()`, `clear_blocks()`, `fall()`ä¸‰ä¸ªå‡½æ•°  
- **é€†å‘æ‰«æ**ï¼šä¸‹è½æ—¶ä»åº•å‘ä¸Šæ‰«æï¼ˆ`for(int i=n; i>=1; i--)`ï¼‰é¿å…è¦†ç›–  
- **çŠ¶æ€é‡ç½®**ï¼šæ¯æ¬¡DFSå‰`memset(vis,0,sizeof(vis))`  
- **æµ‹è¯•è¾¹ç•Œ**ï¼šç©ºæ£‹ç›˜ã€K=1ã€æœ€å¤§å¯†åº¦æ£‹ç›˜ç­‰æç«¯æƒ…å†µ

---

### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°**  
```cpp
#include <iostream>
#include <cstring>
using namespace std;

const int N = 105, M = 12;
int n, k;
char grid[N][M];
bool vis[N][M];
int dx[4] = {0, 0, 1, -1}, dy[4] = {1, -1, 0, 0};

int dfs(int x, int y, char c) {
    if (x<0 || y<0 || x>=n || y>=10 || vis[x][y] || grid[x][y]!=c) 
        return 0;
    vis[x][y] = true;
    int cnt = 1;
    for (int i=0; i<4; i++)
        cnt += dfs(x+dx[i], y+dy[i], c);
    return cnt;
}

void clear_block(int x, int y, char c) {
    if (x<0 || y<0 || x>=n || y>=10 || grid[x][y]!=c) return;
    grid[x][y] = '0';
    for (int i=0; i<4; i++)
        clear_block(x+dx[i], y+dy[i], c);
}

void fall() {
    for (int j=0; j<10; j++) {
        int bottom = n-1; // åŒæŒ‡é’ˆï¼šbottomæŒ‡å‘å½“å‰å¯å¡«å……ä½ç½®
        for (int i=n-1; i>=0; i--) {
            if (grid[i][j] != '0') {
                if (i != bottom) {
                    grid[bottom][j] = grid[i][j];
                    grid[i][j] = '0';
                }
                bottom--;
            }
        }
    }
}

int main() {
    cin >> n >> k;
    for (int i=0; i<n; i++) cin >> grid[i];

    bool changed;
    do {
        changed = false;
        memset(vis, false, sizeof(vis));
        for (int i=0; i<n; i++) {
            for (int j=0; j<10; j++) {
                if (grid[i][j]!='0' && !vis[i][j]) {
                    int cnt = dfs(i, j, grid[i][j]);
                    if (cnt >= k) {
                        changed = true;
                        memset(vis, false, sizeof(vis)); // é‡ç½®visç”¨äºæ¸…é›¶
                        clear_block(i, j, grid[i][j]);
                    }
                }
            }
        }
        if (changed) fall();
    } while (changed);

    for (int i=0; i<n; i++) cout << grid[i] << endl;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  - `dfs()`ï¼šé€’å½’è®¡ç®—è¿é€šå—å¤§å°ï¼Œç”¨`vis`é¿å…é‡å¤è®¡æ•°  
  - `clear_block()`ï¼šäºŒæ¬¡éå†æ¸…é›¶æ ‡è®°å—  
  - `fall()`ï¼š**åŒæŒ‡é’ˆæ³•**é«˜æ•ˆå¤„ç†ä¸‹è½ï¼ˆæ¯åˆ—O(n)ï¼‰  
  - ä¸»å¾ªç¯ï¼š`changed`æ ‡è®°æ˜¯å¦æœ‰æ¶ˆé™¤ï¼Œé©±åŠ¨æ•´ä¸ªæµç¨‹

---

**é¢˜è§£ä¸€ï¼ˆhouzhiyuanï¼‰ç‰‡æ®µèµæ**  
* **äº®ç‚¹**ï¼šä¸‹è½é€»è¾‘ç›´è§‚ï¼Œé€‚åˆæ•™å­¦  
* **æ ¸å¿ƒä»£ç **ï¼š
```cpp
void xialuo() {
    for (int j=1; j<=10; j++) {
        for (int i=n; i>=1; i--) {
            if (grid[i][j]!='0') {
                int k = i;
                while (grid[k+1][j]=='0' && k<n) k++;
                if (k != i) {
                    grid[k][j] = grid[i][j];
                    grid[i][j] = '0';
                }
            }
        }
    }
}
```
* **è§£è¯»**ï¼š  
  > 1. **åˆ—ä¼˜å…ˆæ‰«æ**ï¼š`for(j)`éå†æ¯åˆ—  
  > 2. **ä»åº•å‘ä¸Š**ï¼š`for(i=n to 1)`ç¡®ä¿å…ˆå¤„ç†ä¸‹æ–¹å…ƒç´   
  > 3. **ç©ºä½æ¢æµ‹**ï¼š`while(grid[k+1]=='0')`å¯»æ‰¾æœ€ä½ç©ºä½  
  > 4. **å…ƒç´ äº¤æ¢**ï¼šéé›¶å…ƒç´ ä¸ç©ºä½äº¤æ¢ï¼ˆ`grid[k][j]=grid[i][j]`ï¼‰  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`while`å¾ªç¯æ¢æµ‹åƒ"æŒ–åœ°æ´"ï¼Œæ‰¾åˆ°æœ€æ·±ç©ºä½æ‰ä¸‹è½

**é¢˜è§£äºŒï¼ˆhhoppitreeï¼‰ç‰‡æ®µèµæ**  
* **äº®ç‚¹**ï¼šåŒæŒ‡é’ˆå®ç°O(n)é«˜æ•ˆä¸‹è½  
* **æ ¸å¿ƒä»£ç **ï¼š
```cpp
void fall() {
    for (int j=1; j<=10; j++) {
        int bottom = n; // å½“å‰åˆ—åº•éƒ¨æŒ‡é’ˆ
        for (int i=n; i>=1; i--) {
            if (grid[i][j]) {
                if (i != bottom) {
                    grid[bottom][j] = grid[i][j];
                    grid[i][j] = 0;
                }
                bottom--;
            }
        }
    }
}
```
* **è§£è¯»**ï¼š  
  > 1. **æŒ‡é’ˆåˆå§‹åŒ–**ï¼š`bottom`ä»åˆ—åº•éƒ¨å¼€å§‹ï¼ˆ`bottom=n`ï¼‰  
  > 2. **é€†å‘æ‰«æ**ï¼š`for(i=n to 1)`é‡åˆ°éé›¶å…ƒç´ æ—¶â†’  
  > 3. **ä½ç½®äº¤æ¢**ï¼šè‹¥è¯¥å…ƒç´ ä¸åœ¨åº•éƒ¨ï¼Œåˆ™ä¸`bottom`ä½ç½®äº¤æ¢  
  > 4. **æŒ‡é’ˆä¸Šç§»**ï¼š`bottom--`æ ‡è®°ä¸‹ä¸€ä¸ªå¡«å……ä½  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŒæŒ‡é’ˆåƒ"æ•´ç†ä¹¦æ¶"â€”â€”ä»ä¸‹å¾€ä¸ŠæŠŠä¹¦æ”¾åˆ°æœ€åº•å±‚

**é¢˜è§£ä¸‰ï¼ˆAkoasm_Xï¼‰ç‰‡æ®µèµæ**  
* **äº®ç‚¹**ï¼šå­—ç¬¦ä¸²é‡æ„å®ç°ç›´è§‚ä¸‹è½  
* **æ ¸å¿ƒä»£ç **ï¼š
```cpp
void fall() {
    for (int j=1; j<=10; j++) {
        string s = "";
        for (int i=n; i>=1; i--)  // æ”¶é›†éé›¶å­—ç¬¦
            if (grid[i][j]!='0') s += grid[i][j];
        
        for (int i=0; i<s.size(); i++) // åº•éƒ¨å¡«å……éé›¶
            grid[n-i][j] = s[i]; 
        for (int i=1; i<=n-s.size(); i++) // é¡¶éƒ¨è¡¥é›¶
            grid[i][j] = '0';
    }
}
```
* **è§£è¯»**ï¼š  
  > 1. **æ”¶é›†é˜¶æ®µ**ï¼šä»åº•å‘ä¸Šæ”¶é›†éé›¶å­—ç¬¦ï¼ˆ`s+=grid[i][j]`ï¼‰  
  > 2. **å¡«å……é˜¶æ®µ**ï¼š`s`ä¸­å­—ç¬¦å›å¡«åˆ°åº•éƒ¨ï¼ˆ`grid[n-i]=s[i]`ï¼‰  
  > 3. **è¡¥é›¶é˜¶æ®µ**ï¼šå‰©ä½™ä½ç½®å¡«é›¶ï¼ˆ`grid[i][j]='0'`ï¼‰  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåƒ"å€’å‡ºç§¯æœ¨å†è£…å›"â€”â€”å…ˆå–å‡ºï¼Œæ•´ç†åå†æ”¾å›

---

### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼š8ä½åƒç´ é£ã€Šå¹²è‰æ†æ¶ˆé™¤å¤§å†’é™©ã€‹  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šè¿é€šå—æ‰«æâ†’æ¶ˆé™¤â†’ä¸‹è½å…¨è¿‡ç¨‹  
**è®¾è®¡æ€è·¯**ï¼š  
> å¤å¤FCé£æ ¼é™ä½ç†è§£å‹åŠ›ï¼ŒéŸ³æ•ˆå¼ºåŒ–æ“ä½œåé¦ˆã€‚å…³é”®æ­¥éª¤é«˜äº®å¸®åŠ©è¿½è¸ªç®—æ³•é€»è¾‘ã€‚

**åŠ¨ç”»æµç¨‹**ï¼š  
1. **åˆå§‹åŒ–**ï¼š10Ã—Nåƒç´ ç½‘æ ¼ï¼Œä¸åŒé¢œè‰²å¹²è‰æ†ï¼ˆ1-9ï¼‰ç”¨ä¸åŒè‰²å—ï¼Œ0=é»‘è‰²  
   - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœã€å•æ­¥ã€é€Ÿåº¦æ»‘å—  
   - èƒŒæ™¯éŸ³ä¹ï¼š8ä½å†œåœºé£æ ¼BGM  

2. **æ‰«æé˜¶æ®µ**ï¼š  
   - å½“å‰æ‰«ææ ¼ï¼šé—ªçƒé»„è‰²è¾¹æ¡†  
   - DFSé€’å½’æ—¶ï¼šç»¿è‰²æ³¢çº¹æ‰©æ•£åŠ¨ç”»  
   - éŸ³æ•ˆï¼šæ‰«æ"å˜€"å£°ï¼ˆæ¯æ¬¡è®¿é—®æ ¼å­ï¼‰  

3. **æ¶ˆé™¤é˜¶æ®µ**ï¼š  
   - è¿é€šå—â‰¥Kæ—¶ï¼šçº¢è‰²é—ªçƒ3æ¬¡ â†’ "ç °"å£° â†’ å˜é»‘  
   - ç‰¹æ•ˆï¼šæ¶ˆé™¤ä½ç½®å¼¹å‡º"+10"åˆ†æ•°ï¼ˆæ¸¸æˆåŒ–æ¿€åŠ±ï¼‰  

4. **ä¸‹è½é˜¶æ®µ**ï¼š  
   - ç‰©ç†æ¨¡æ‹Ÿï¼šå¹²è‰æ†è‡ªç”±è½ä½“ï¼ˆç¼“åŠ¨åŠ¨ç”»ï¼‰  
   - éŸ³æ•ˆï¼šä¸‹è½"æ²™æ²™"å£°ï¼Œè½åœ°"å’š"å£°  
   - åˆ—å¤„ç†é«˜äº®ï¼šå½“å‰å¤„ç†åˆ—è“è‰²è¾¹æ¡†  

5. **AIæ¼”ç¤ºæ¨¡å¼**ï¼š  
   - è‡ªåŠ¨æ’­æ”¾ï¼šåƒ"è´ªåƒè›‡AI"å±•ç¤ºå®Œæ•´æµç¨‹  
   - é€Ÿåº¦è°ƒèŠ‚ï¼š0.5x~5xå¯è°ƒ  

**æŠ€æœ¯å®ç°**ï¼š  
```javascript
// ä¼ªä»£ç ï¼šä¸‹è½åŠ¨ç”»å…³é”®å¸§
function animateFall(col) {
  let bottom = n-1;
  for (let i=n-1; i>=0; i--) {
    if (grid[i][col] != 0) {
      animatePixelMove(i, col, bottom, col); // åƒç´ å—ç§»åŠ¨åŠ¨ç”»
      bottom--;
    }
  }
}
```

---

### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜

**é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
> è¿é€šå—æ£€æµ‹+çŠ¶æ€æ›´æ–°æœºåˆ¶å¯åº”ç”¨äºï¼š  
> - æ‰«é›·æ¸¸æˆï¼ˆç‚¹å¼€ç©ºç™½åŒºåŸŸæ‰©æ•£ï¼‰  
> - å›¾åƒå¤„ç†ï¼ˆåŒºåŸŸå¡«å……ç®—æ³•ï¼‰  
> - å²›å±¿ç±»é—®é¢˜ï¼ˆç»Ÿè®¡è¿é€šåŒºåŸŸæ•°é‡ï¼‰  

**æ´›è°·æ¨è**ï¼š  
1. **P1141 01è¿·å®«**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šè¿é€šå—æ£€æµ‹çš„å˜ä½“ï¼Œå¸®åŠ©ç†è§£çŠ¶æ€è®°å¿†åŒ–  
2. **P2036 Perket**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šDFSç»„åˆé—®é¢˜ï¼Œè®­ç»ƒé€’å½’æ€ç»´  
3. **P2895 [USACO08FEB]Meteor Shower S**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šBFSè·¯å¾„æœç´¢ï¼Œå¼ºåŒ–é˜Ÿåˆ—åº”ç”¨  

---

### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **å‚è€ƒç»éªŒ**ï¼š  
> å¤šä½ä½œè€…æåˆ°ï¼š  
> - *"ä¸‹è½é€»è¾‘è°ƒè¯•æœ€è€—æ—¶â€”â€”å…ˆç”»å›¾ç†æ¸…åˆ—å¤„ç†é¡ºåº"*  
> - *"å¿˜è®°é‡ç½®visæ•°ç»„å¯¼è‡´è¿é€šå—è®¡ç®—é”™è¯¯"*  
> - *"è¾¹ç•Œæ£€æŸ¥ï¼ˆå¦‚grid[x+1]è¶Šç•Œï¼‰å®¹æ˜“é—æ¼"*  
>
> **Kayç‚¹è¯„**ï¼š  
> è¿™äº›æ˜¯å…¸å‹é™·é˜±ï¼å»ºè®®ï¼š  
> 1. ç”¨5Ã—3å°è§„æ¨¡ç½‘æ ¼æ‰‹åŠ¨æ¨¡æ‹Ÿ  
> 2. åœ¨DFSå…¥å£/å‡ºå£æ‰“å°visæ•°ç»„  
> 3. å†™è¾¹ç•Œæ£€æŸ¥å·¥å…·å‡½æ•°ï¼š  
>    ```cpp
>    bool inGrid(int x, int y) {
>        return x>=0 && x<n && y>=0 && y<10;
>    }
>    ```

---

**ç»“è¯­**  
é€šè¿‡æœ¬æŒ‡å—ï¼Œæˆ‘ä»¬æ‹†è§£äº†è¿é€šå—æ£€æµ‹ä¸é‡åŠ›æ¨¡æ‹Ÿçš„æ ¸å¿ƒé€»è¾‘ï¼Œå¹¶ä½“éªŒäº†æ¸¸æˆåŒ–å­¦ä¹ çš„åŠ›é‡ã€‚è®°ä½ï¼šå¥½ç®—æ³•æ˜¯ç»ƒå‡ºæ¥çš„ï¼ŒåŠ¨æ‰‹å®ç°æ‰æ˜¯ç‹é“ï¼ä¸‹æ¬¡è§~ ğŸ‘¾ğŸ®

---
å¤„ç†ç”¨æ—¶ï¼š195.05ç§’
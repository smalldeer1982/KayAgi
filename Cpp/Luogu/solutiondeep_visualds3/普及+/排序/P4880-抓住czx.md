# é¢˜ç›®ä¿¡æ¯

# æŠ“ä½czx

## é¢˜ç›®èƒŒæ™¯

è’Ÿè’» lty å‡ºäº†ä¸€é“é¢˜ï¼Œä½†æ˜¯ç”±äºå¤ªå¼±äº†ï¼Œæ‰€ä»¥å¸Œæœ›å–œæ¬¢é¸½å­çš„ czx æ¥å¸®ä»–å†™ä¸€ä¸ª std ã€‚ç”±äº czx åˆæ”¾é¸½å­å»äº†ï¼Œæ‰€ä»¥æ²¡æœ‰å†™ stdã€‚è’Ÿè’» lty è§‰å¾—å—åˆ°äº†å­¦é•¿çš„é„™è§†ï¼Œæ‰€ä»¥å†³å®šå» czx æ”¾é¸½å­çš„åœ°æ–¹æ‰¾ä»–ã€‚

## é¢˜ç›®æè¿°

 czx æ”¾é¸½å­çš„åœ°æ–¹æ˜¯ä¸€ä¸ªå…¬å›­ï¼Œå…¬å›­ç‚ä»¥çœ‹ä½œæ˜¯ç”± $n$ ä¸ªç‚¹ $m$ æ¡è¾¹ç»„æˆçš„æ— å‘å›¾(ä¿è¯æ— è‡ªç¯ï¼‰ï¼Œ lty å°†ä»å…¬å›­çš„å…¥å£ï¼ˆ $b$ å·èŠ‚ç‚¹ï¼‰è¿›å»å¯»æ‰¾ czx ï¼Œ czx åˆšå¼€å§‹çš„ä½ç½®ä¸º $e$ ï¼Œè€Œ czx ä¼šåœ¨ $a_i$ ä¸ªå•ä½æ—¶é—´æ—¶å˜åŒ–ä½ç½®åˆ°ç¬¬ $x$ ä¸ªèŠ‚ç‚¹å»ï¼Œåœ¨æ­¤ä¹‹å‰ lty å·²ç»çŸ¥é“äº† czx çš„å…·ä½“ä½ç½®å’Œæ¥ä¸‹æ¥ä»–ä½ç½®çš„å˜åŒ–æ–¹æ¡ˆï¼Œè’Ÿè’» lty ç°åœ¨æƒ³çŸ¥é“ä»–è‡³å°‘éœ€è¦èŠ±å¤šå°‘æ—¶é—´æ‰¾åˆ° czx ã€‚

UPD:

ä¿è¯å›¾è”é€šï¼Œ czx æœ€åä¼šå¾…åœ¨ä¸€ä¸ªåœ°æ–¹ä¸åŠ¨

## è¯´æ˜/æç¤º

**æ ·ä¾‹è§£é‡Šï¼š**

åœ¨å¼€å§‹çš„æ—¶å€™å°±ç›´æ¥èµ°åˆ° $2$ å·èŠ‚ç‚¹ï¼Œç„¶åç­‰åˆ° czxè¿‡æ¥ã€‚æ€»èŠ±è´¹æ—¶é—´ $9$ ä¸ªå•ä½æ—¶é—´ã€‚

å¯¹äº 30% çš„æ•°æ®ï¼Œ$n\le 100,m\le 1000,T\le 100$

å¯¹äºå¦å¤– 30% çš„æ•°æ®ï¼Œ$T=0$

å¯¹äº 100% çš„æ•°æ®ï¼Œ$n \le 10^5,m \le 5\times10^5,T \le 10^5$

æ•°æ®ä¿è¯æ‰€æœ‰æ—¶é—´åœ¨ int èŒƒå›´å†…

æ³¨æ„ï¼šåœ¨ä»»æ„ä¸€ä¸ª czx å¼€å§‹ç§»åŠ¨çš„æ—¶é—´ç‚¹ï¼Œéƒ½æ˜¯ czx å…ˆç¬ç§»ï¼Œç„¶å lty å†è¡Œèµ°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ lty ä¸èƒ½åœ¨ czx ç¬ç§»çš„æ—¶å€™åˆ°ä»–ç¬ç§»å‰çš„ç‚¹æŠ“ä½ä»–ï¼Œä½†æ˜¯ lty å¯ä»¥åœ¨ä»–ç¬ç§»åˆ°çš„ç‚¹ç­‰ç€æŠ“ä»–ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
6 9 1 6
1 2 1
1 3 3
1 4 4
2 3 2
3 6 6
4 5 6
2 5 9
3 5 7
5 6 2
3
10 3
8 5
9 2```

### è¾“å‡º

```
9```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šæŠ“ä½czx æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå•æºæœ€çŸ­è·¯ï¼ˆDijkstra/SPFAï¼‰+ äº‹ä»¶æ’åºä¸æ¡ä»¶åˆ¤æ–­  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œæŠ“ä½czxâ€çš„å…³é”®ï¼Œå°±åƒä½ æ‹¿ç€åœ°å›¾æ‰¾æœ‹å‹â€”â€”é¦–å…ˆå¾—çŸ¥é“ä»å…¥å£ï¼ˆbç‚¹ï¼‰åˆ°å…¬å›­æ¯ä¸ªæ™¯ç‚¹ï¼ˆèŠ‚ç‚¹ï¼‰çš„æœ€çŸ­æ—¶é—´ï¼ˆå•æºæœ€çŸ­è·¯ï¼‰ï¼Œç„¶åçœ‹æœ‹å‹ï¼ˆczxï¼‰åœ¨ä¸åŒæ—¶é—´ç‚¹çš„ä½ç½®ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½åœ¨ä»–ç¦»å¼€å‰èµ¶åˆ°ã€‚  

**æ ¸å¿ƒç®—æ³•æ€è·¯**ï¼š  
1. **è®¡ç®—æœ€çŸ­è·¯å¾„**ï¼šç”¨Dijkstraæˆ–SPFAæ±‚å‡ºltyä»bç‚¹åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­æ—¶é—´ï¼ˆ`dis[]`æ•°ç»„ï¼‰ã€‚  
2. **å¤„ç†czxçš„ä½ç½®å˜åŒ–**ï¼šå°†czxçš„ç¬ç§»äº‹ä»¶ï¼ˆæ—¶é—´+ä½ç½®ï¼‰æŒ‰æ—¶é—´æ’åºï¼Œä»æ—©åˆ°æ™šæ£€æŸ¥æ¯ä¸ªäº‹ä»¶ï¼š  
   - è‹¥ltyåˆ°è¾¾è¯¥ä½ç½®çš„æ—¶é—´â‰¤czxçš„ç¬ç§»æ—¶é—´ï¼ˆ`dis[pi] â‰¤ ti`ï¼‰ï¼šè¯´æ˜å¯ä»¥â€œå®ˆæ ªå¾…å…”â€ï¼Œåœ¨è¯¥ç‚¹ç­‰czxè¿‡æ¥ã€‚  
   - è‹¥ltyåˆ°è¾¾æ—¶é—´>czxçš„ç¬ç§»æ—¶é—´ï¼Œä½†<ä¸‹ä¸€æ¬¡ç¬ç§»æ—¶é—´ï¼ˆ`dis[pi] < next_ti`ï¼‰ï¼šè¯´æ˜å¯ä»¥åœ¨ä¸‹ä¸€æ¬¡ç¬ç§»å‰èµ¶åˆ°ï¼ŒæŠ“ä½czxã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼š  
- å¦‚ä½•é«˜æ•ˆè®¡ç®—å¤§å›¾çš„æœ€çŸ­è·¯å¾„ï¼ˆé¿å…è¶…æ—¶ï¼‰ï¼›  
- æ­£ç¡®æ’åºczxçš„ç¬ç§»äº‹ä»¶ï¼ˆç¡®ä¿æ—¶é—´é¡ºåºï¼‰ï¼›  
- å‡†ç¡®åˆ¤æ–­â€œèƒ½å¦æŠ“ä½â€çš„æ¡ä»¶ï¼ˆåŒºåˆ†â‰¤å’Œ<çš„æƒ…å†µï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºå…¬å›­åœ°å›¾ï¼ˆèŠ‚ç‚¹ä¸ºå½©è‰²æ–¹å—ï¼Œè¾¹ä¸ºçº¿æ¡ï¼‰ï¼Œltyçš„ç§»åŠ¨ç”¨â€œå°ç®­å¤´â€è¡¨ç¤ºï¼Œczxçš„ä½ç½®ç”¨â€œé—ªçƒçš„æ˜Ÿæ˜Ÿâ€æ ‡è®°ã€‚å…³é”®æ­¥éª¤ï¼ˆå¦‚è®¡ç®—æœ€çŸ­è·¯å¾„ã€å¤„ç†ç¬ç§»äº‹ä»¶ï¼‰ç”¨é¢œè‰²é«˜äº®ï¼š  
- è®¡ç®—æœ€çŸ­è·¯å¾„æ—¶ï¼ŒèŠ‚ç‚¹è¢«è®¿é—®åå˜æˆç»¿è‰²ï¼›  
- å¤„ç†ç¬ç§»äº‹ä»¶æ—¶ï¼Œå½“å‰æ£€æŸ¥çš„äº‹ä»¶ç”¨çº¢è‰²æ¡†æ ‡è®°ï¼›  
- æŠ“ä½czxæ—¶ï¼Œæ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼Œå±å¹•æ˜¾ç¤ºâ€œæˆåŠŸæŠ“ä½ï¼â€ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šElevenè°¦ï¼ˆèµï¼š5ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£æ€è·¯**éå¸¸æ¸…æ™°**ï¼ŒæŠŠé—®é¢˜æ‹†æˆâ€œæœ€çŸ­è·¯å¾„è®¡ç®—â€å’Œâ€œäº‹ä»¶å¤„ç†â€ä¸¤éƒ¨åˆ†ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰è¯¦ç»†è§£é‡Šï¼ˆæ¯”å¦‚ä¸ºä»€ä¹ˆç”¨`dis[pi] â‰¤ ti`å’Œ`dis[pi] < next_ti`ï¼‰ã€‚ä»£ç **è§„èŒƒæ€§å¼º**ï¼šå˜é‡åï¼ˆå¦‚`dis[]`è¡¨ç¤ºæœ€çŸ­æ—¶é—´ï¼Œ`a[]`å­˜å‚¨ç¬ç§»äº‹ä»¶ï¼‰å«ä¹‰æ˜ç¡®ï¼Œç”¨å †ä¼˜åŒ–Dijkstraå¤„ç†å¤§å›¾ï¼ˆæ—¶é—´å¤æ‚åº¦O(m log n)ï¼‰ï¼Œæ•ˆç‡å¾ˆé«˜ã€‚**äº®ç‚¹**ï¼šç‰¹åˆ«å¼ºè°ƒäº†â€œå®ˆæ ªå¾…å…”â€å’Œâ€œåœ¨ä¸‹ä¸€æ¬¡ç¬ç§»å‰åˆ°è¾¾â€ä¸¤ç§æƒ…å†µçš„åŒºåˆ«ï¼Œé¿å…äº†å¸¸è§çš„æ¡ä»¶åˆ¤æ–­é”™è¯¯ã€‚ä»å®è·µè§’åº¦çœ‹ï¼Œä»£ç å¯ä»¥ç›´æ¥ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†ï¼ˆå¦‚T=0çš„ç‰¹æ®Šæƒ…å†µï¼‰å¾ˆä¸¥è°¨ã€‚  

### é¢˜è§£äºŒï¼šWolfyczï¼ˆèµï¼š4ï¼‰  
* **ç‚¹è¯„**ï¼š  
  æ­¤é¢˜è§£ç”¨SPFAè®¡ç®—æœ€çŸ­è·¯å¾„ï¼Œè™½ç„¶SPFAåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½è¶…æ—¶ï¼Œä½†æœ¬é¢˜æ•°æ®æœªå¡SPFAï¼Œä»£ç è¿è¡Œæ•ˆç‡è¶³å¤Ÿã€‚**æ€è·¯ç®€æ´**ï¼šç›´æ¥å°†czxçš„åˆå§‹ä½ç½®ä½œä¸ºç¬¬ä¸€ä¸ªäº‹ä»¶ï¼Œæ’åºåé€ä¸ªæ£€æŸ¥ï¼Œæ¡ä»¶åˆ¤æ–­ï¼ˆ`deep[A[i].x] < A[i+1].T`ï¼‰å‡†ç¡®ã€‚**äº®ç‚¹**ï¼šç”¨`A[++T].insert(0, inf)`å¤„ç†æœ€åä¸€ä¸ªäº‹ä»¶ï¼Œé¿å…äº†ç‰¹æ®Šæƒ…å†µçš„åˆ¤æ–­ï¼Œä»£ç æ›´ç®€æ´ã€‚  

### é¢˜è§£ä¸‰ï¼šTiffany_Tenderingï¼ˆèµï¼š3ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„**äº‹ä»¶å¤„ç†é€»è¾‘**å¾ˆç›´è§‚ï¼šå°†czxçš„ä½ç½®å˜åŒ–è§†ä¸ºâ€œæ—¶é—´æ®µâ€ï¼ˆä»å½“å‰æ—¶é—´åˆ°ä¸‹ä¸€æ¬¡æ—¶é—´-1ï¼‰ï¼Œåˆ¤æ–­ltyæ˜¯å¦èƒ½åœ¨è¯¥æ—¶é—´æ®µå†…åˆ°è¾¾ã€‚**ä»£ç å¯è¯»æ€§é«˜**ï¼šç”¨`nodee`ç»“æ„ä½“å­˜å‚¨æ¯ä¸ªæ—¶é—´æ®µçš„èµ·å§‹æ—¶é—´ã€ç»ˆæ­¢æ—¶é—´å’Œä½ç½®ï¼Œæ’åºåéå†æ£€æŸ¥ã€‚**äº®ç‚¹**ï¼šç”¨`max(dis[t[i].node], t[i].timst)`è®¡ç®—æœ€ç»ˆæ—¶é—´ï¼Œæ¸…æ™°ä½“ç°äº†â€œè°ååˆ°å°±å–è°çš„æ—¶é—´â€çš„é€»è¾‘ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. éš¾ç‚¹1ï¼šå¦‚ä½•é«˜æ•ˆè®¡ç®—å¤§å›¾çš„æœ€çŸ­è·¯å¾„ï¼Ÿ  
* **åˆ†æ**ï¼š  
  æœ¬é¢˜æ•°æ®è§„æ¨¡å¤§ï¼ˆnâ‰¤1e5ï¼Œmâ‰¤5e5ï¼‰ï¼Œæ™®é€šDijkstraï¼ˆO(nÂ²)ï¼‰ä¼šè¶…æ—¶ï¼Œå¿…é¡»ç”¨**å †ä¼˜åŒ–Dijkstra**ï¼ˆO(m log n)ï¼‰æˆ–SPFAï¼ˆå¹³å‡O(m)ï¼‰ã€‚å †ä¼˜åŒ–Dijkstraç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤å½“å‰æœ€çŸ­è·¯å¾„ï¼Œæ¯æ¬¡å–å‡ºè·ç¦»æœ€å°çš„èŠ‚ç‚¹æ‰©å±•ï¼Œé€‚åˆè¾¹æƒéè´Ÿçš„å›¾ï¼ˆæœ¬é¢˜è¾¹æƒæ˜¯æ—¶é—´ï¼Œéè´Ÿï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  è¾¹æƒéè´Ÿçš„å¤§å›¾ï¼Œä¼˜å…ˆç”¨å †ä¼˜åŒ–Dijkstraï¼›è¾¹æƒæœ‰è´Ÿçš„å›¾ï¼Œç”¨SPFAã€‚  

### 2. éš¾ç‚¹2ï¼šå¦‚ä½•å¤„ç†czxçš„ä½ç½®å˜åŒ–ï¼Ÿ  
* **åˆ†æ**ï¼š  
  czxçš„ç¬ç§»äº‹ä»¶æ˜¯æŒ‰è¾“å…¥é¡ºåºç»™å‡ºçš„ï¼Œå¿…é¡»**æŒ‰æ—¶é—´æ’åº**ï¼ˆä»å°åˆ°å¤§ï¼‰ï¼Œæ‰èƒ½ä»æ—©åˆ°æ™šæ£€æŸ¥æ˜¯å¦èƒ½æŠ“ä½ã€‚æ’åºåï¼Œæ¯ä¸ªäº‹ä»¶çš„â€œæœ‰æ•ˆæ—¶é—´æ®µâ€æ˜¯ä»å½“å‰æ—¶é—´åˆ°ä¸‹ä¸€æ¬¡æ—¶é—´-1ï¼ˆæœ€åä¸€ä¸ªäº‹ä»¶çš„æœ‰æ•ˆæ—¶é—´æ®µæ˜¯æ— é™å¤§ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  å¤„ç†æ—¶é—´ç›¸å…³çš„äº‹ä»¶ï¼Œæ’åºæ˜¯å…³é”®ï¼Œç¡®ä¿é¡ºåºæ­£ç¡®ã€‚  

### 3. éš¾ç‚¹3ï¼šå¦‚ä½•å‡†ç¡®åˆ¤æ–­â€œèƒ½å¦æŠ“ä½â€ï¼Ÿ  
* **åˆ†æ**ï¼š  
  æŠ“ä½czxçš„æ¡ä»¶æœ‰ä¸¤ç§ï¼š  
  - æƒ…å†µ1ï¼šltyåˆ°è¾¾æ—¶é—´â‰¤czxçš„ç¬ç§»æ—¶é—´ï¼ˆ`dis[pi] â‰¤ ti`ï¼‰ï¼šè¯´æ˜å¯ä»¥åœ¨è¯¥ç‚¹ç­‰czxã€‚  
  - æƒ…å†µ2ï¼šltyåˆ°è¾¾æ—¶é—´>czxçš„ç¬ç§»æ—¶é—´ï¼Œä½†<ä¸‹ä¸€æ¬¡ç¬ç§»æ—¶é—´ï¼ˆ`dis[pi] < next_ti`ï¼‰ï¼šè¯´æ˜å¯ä»¥åœ¨ä¸‹ä¸€æ¬¡ç¬ç§»å‰èµ¶åˆ°ã€‚  
  æ³¨æ„ï¼šæƒ…å†µ2ä¸­ä¸èƒ½ç”¨â‰¤ï¼Œå› ä¸ºczxä¼šå…ˆç¬ç§»ï¼Œltyæ— æ³•åœ¨ç¬ç§»æ—¶é—´ç‚¹æŠ“ä½ä»–ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  æ¡ä»¶åˆ¤æ–­è¦ä»”ç»†ï¼ŒåŒºåˆ†â€œâ‰¤â€å’Œâ€œ<â€çš„æƒ…å†µï¼Œé¿å…é€»è¾‘é”™è¯¯ã€‚  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **æŠ€å·§1**ï¼šå…ˆè®¡ç®—æœ€çŸ­è·¯å¾„ï¼Œå†å¤„ç†äº‹ä»¶ï¼ˆåˆ†ç¦»å…³æ³¨ç‚¹ï¼Œç®€åŒ–é—®é¢˜ï¼‰ã€‚  
- **æŠ€å·§2**ï¼šç”¨ç»“æ„ä½“å­˜å‚¨äº‹ä»¶ï¼ˆæ—¶é—´+ä½ç½®ï¼‰ï¼Œæ–¹ä¾¿æ’åºå’Œå¤„ç†ã€‚  
- **æŠ€å·§3**ï¼šå¤„ç†è¾¹ç•Œæƒ…å†µï¼ˆå¦‚T=0ï¼Œczxä¸ç¬ç§»ï¼‰ï¼Œç¡®ä¿ä»£ç å¥å£®æ€§ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼š  
  ç»¼åˆä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œé‡‡ç”¨å †ä¼˜åŒ–Dijkstraè®¡ç®—æœ€çŸ­è·¯å¾„ï¼Œæ’åºå¤„ç†czxçš„ç¬ç§»äº‹ä»¶ï¼Œåˆ¤æ–­èƒ½å¦æŠ“ä½ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <queue>
  #include <algorithm>
  using namespace std;

  const int MAXN = 1e5 + 5;
  const int INF = 2e9;

  struct Edge {
      int to, w;
      Edge(int _to, int _w) : to(_to), w(_w) {}
  };

  struct Event {
      int t, x;
      bool operator<(const Event& other) const {
          return t < other.t;
      }
  };

  vector<Edge> G[MAXN];
  int dis[MAXN];
  bool vis[MAXN];
  Event events[MAXN];

  void dijkstra(int s, int n) {
      priority_queue<pair<int, int>, vector<pair<int, int>>, greater<pair<int, int>>> pq;
      fill(dis, dis + n + 1, INF);
      fill(vis, vis + n + 1, false);
      dis[s] = 0;
      pq.push({0, s});
      while (!pq.empty()) {
          int u = pq.top().second;
          pq.pop();
          if (vis[u]) continue;
          vis[u] = true;
          for (const Edge& e : G[u]) {
              int v = e.to;
              int w = e.w;
              if (dis[v] > dis[u] + w) {
                  dis[v] = dis[u] + w;
                  pq.push({dis[v], v});
              }
          }
      }
  }

  int main() {
      int n, m, b, e, T;
      cin >> n >> m >> b >> e;
      for (int i = 0; i < m; ++i) {
          int u, v, w;
          cin >> u >> v >> w;
          G[u].emplace_back(v, w);
          G[v].emplace_back(u, w);
      }
      cin >> T;
      for (int i = 0; i < T; ++i) {
          cin >> events[i].t >> events[i].x;
      }
      sort(events, events + T);

      dijkstra(b, n);

      // å¤„ç†åˆå§‹æƒ…å†µï¼ˆczxåœ¨eç‚¹ï¼Œæ—¶é—´0ï¼‰
      if (T == 0 || dis[e] < events[0].t) {
          cout << dis[e] << endl;
          return 0;
      }

      // å¤„ç†æ¯ä¸ªäº‹ä»¶
      for (int i = 0; i < T; ++i) {
          int cur_t = events[i].t;
          int cur_x = events[i].x;
          int next_t = (i == T - 1) ? INF : events[i + 1].t;
          if (dis[cur_x] < next_t) {
              cout << max(dis[cur_x], cur_t) << endl;
              return 0;
          }
      }

      // å¤„ç†æœ€åä¸€ä¸ªäº‹ä»¶
      cout << max(dis[events[T-1].x], events[T-1].t) << endl;
      return 0;
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šè¯»å–å›¾çš„èŠ‚ç‚¹ã€è¾¹ã€czxçš„ç¬ç§»äº‹ä»¶ã€‚  
  2. **è®¡ç®—æœ€çŸ­è·¯å¾„**ï¼šç”¨å †ä¼˜åŒ–Dijkstraæ±‚å‡ºltyä»bç‚¹åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­æ—¶é—´ã€‚  
  3. **å¤„ç†åˆå§‹æƒ…å†µ**ï¼šå¦‚æœczxä¸ç¬ç§»ï¼ˆT=0ï¼‰æˆ–ltyèƒ½åœ¨ç¬¬ä¸€æ¬¡ç¬ç§»å‰åˆ°è¾¾eç‚¹ï¼Œç›´æ¥è¾“å‡ºã€‚  
  4. **å¤„ç†äº‹ä»¶**ï¼šæ’åºåéå†æ¯ä¸ªäº‹ä»¶ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½åœ¨è¯¥äº‹ä»¶çš„æœ‰æ•ˆæ—¶é—´æ®µå†…åˆ°è¾¾ï¼Œè¾“å‡ºæœ€æ—©æ—¶é—´ã€‚  


### é¢˜è§£ä¸€ï¼šElevenè°¦çš„æ ¸å¿ƒä»£ç ç‰‡æ®µ  
* **äº®ç‚¹**ï¼š  
  æ¸…æ™°åŒºåˆ†äº†â€œå®ˆæ ªå¾…å…”â€å’Œâ€œåœ¨ä¸‹ä¸€æ¬¡ç¬ç§»å‰åˆ°è¾¾â€ä¸¤ç§æƒ…å†µã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  sort(a+1, a+1+t, cmp); // æŒ‰æ—¶é—´æ’åº
  dijkstra(b);
  if (dis[E] < a[1].t || t == 0) { // åˆå§‹æƒ…å†µ
      printf("%d", dis[E]);
      return 0;
  }
  for (int i = 1; i <= t; ++i) {
      if (dis[a[i].p] <= a[i].t) { // å®ˆæ ªå¾…å…”
          printf("%d", a[i].t);
          return 0;
      } else {
          if (dis[a[i].p] < a[i+1].t) { // åœ¨ä¸‹ä¸€æ¬¡ç¬ç§»å‰åˆ°è¾¾
              printf("%d", dis[a[i].p]);
              return 0;
          }
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `sort(a+1, a+1+t, cmp)`ï¼šå°†ç¬ç§»äº‹ä»¶æŒ‰æ—¶é—´æ’åºã€‚  
  - `if (dis[E] < a[1].t || t == 0)`ï¼šå¤„ç†åˆå§‹æƒ…å†µï¼Œè‹¥ltyèƒ½åœ¨ç¬¬ä¸€æ¬¡ç¬ç§»å‰åˆ°è¾¾eç‚¹ï¼Œç›´æ¥è¾“å‡ºã€‚  
  - å¾ªç¯ä¸­ï¼Œå…ˆåˆ¤æ–­æ˜¯å¦èƒ½â€œå®ˆæ ªå¾…å…”â€ï¼ˆ`dis[a[i].p] <= a[i].t`ï¼‰ï¼Œè‹¥ä¸èƒ½ï¼Œå†åˆ¤æ–­æ˜¯å¦èƒ½åœ¨ä¸‹ä¸€æ¬¡ç¬ç§»å‰åˆ°è¾¾ï¼ˆ`dis[a[i].p] < a[i+1].t`ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  åˆ†æƒ…å†µè®¨è®ºå¯ä»¥é¿å…é—æ¼ï¼Œè®©é€»è¾‘æ›´æ¸…æ™°ã€‚  


### é¢˜è§£äºŒï¼šWolfyczçš„æ ¸å¿ƒä»£ç ç‰‡æ®µ  
* **äº®ç‚¹**ï¼š  
  ç”¨`A[++T].insert(0, inf)`å¤„ç†æœ€åä¸€ä¸ªäº‹ä»¶ï¼Œç®€åŒ–äº†æ¡ä»¶åˆ¤æ–­ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  A[++T].insert(0, inf); // æœ€åä¸€ä¸ªäº‹ä»¶çš„æ—¶é—´è®¾ä¸ºæ— é™å¤§
  sort(A, A+1+T);
  for (int i = 0; i <= T; ++i) {
      if (deep[A[i].x] < A[i+1].T) {
          printf("%d\n", max(deep[A[i].x], A[i].T));
          break;
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `A[++T].insert(0, inf)`ï¼šå°†æœ€åä¸€ä¸ªäº‹ä»¶çš„æ—¶é—´è®¾ä¸ºæ— é™å¤§ï¼Œè¿™æ ·å¤„ç†æœ€åä¸€ä¸ªäº‹ä»¶æ—¶ï¼Œ`A[i+1].T`å°±æ˜¯æ— é™å¤§ï¼Œä¸éœ€è¦å•ç‹¬åˆ¤æ–­ã€‚  
  - å¾ªç¯ä¸­ï¼Œç›´æ¥åˆ¤æ–­`deep[A[i].x] < A[i+1].T`ï¼Œè‹¥æˆç«‹ï¼Œè¾“å‡º`max(deep[A[i].x], A[i].T)`ï¼ˆè°ååˆ°å–è°çš„æ—¶é—´ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  ç”¨â€œå“¨å…µâ€ï¼ˆsentinelï¼‰ç®€åŒ–è¾¹ç•Œæ¡ä»¶åˆ¤æ–­ï¼Œæ˜¯å¸¸ç”¨çš„ç¼–ç¨‹æŠ€å·§ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜  
**â€œåƒç´ å…¬å›­å¯»å‹è®°â€**ï¼šç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºå…¬å›­åœ°å›¾ï¼Œltyï¼ˆå°ç®­å¤´ï¼‰ä»å…¥å£å‡ºå‘ï¼Œczxï¼ˆé—ªçƒçš„æ˜Ÿæ˜Ÿï¼‰åœ¨ä¸åŒæ—¶é—´ç‚¹ç§»åŠ¨ï¼Œç©å®¶å¯ä»¥è§‚å¯Ÿltyçš„æœ€çŸ­è·¯å¾„å’Œczxçš„ä½ç½®å˜åŒ–ï¼Œæœ€ç»ˆæŠ“ä½czxã€‚  

### è®¾è®¡æ€è·¯  
é‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼ˆç±»ä¼¼FCæ¸¸æˆï¼‰ï¼Œè¥é€ å¤å¤ã€è½»æ¾çš„å­¦ä¹ æ°›å›´ã€‚ç”¨é¢œè‰²å’ŒéŸ³æ•ˆå¼ºåŒ–å…³é”®æ­¥éª¤ï¼š  
- **èŠ‚ç‚¹**ï¼šç”¨å½©è‰²æ–¹å—è¡¨ç¤ºï¼Œå…¥å£ï¼ˆbç‚¹ï¼‰æ˜¯çº¢è‰²ï¼Œczxçš„åˆå§‹ä½ç½®ï¼ˆeç‚¹ï¼‰æ˜¯é»„è‰²ã€‚  
- **è¾¹**ï¼šç”¨ç°è‰²çº¿æ¡è¡¨ç¤ºï¼Œè¾¹æƒï¼ˆæ—¶é—´ï¼‰ç”¨æ•°å­—æ ‡æ³¨ã€‚  
- **ltyçš„ç§»åŠ¨**ï¼šç”¨å°ç®­å¤´è¡¨ç¤ºï¼Œç§»åŠ¨æ—¶æ’­æ”¾â€œæ²™æ²™â€çš„éŸ³æ•ˆã€‚  
- **czxçš„ç§»åŠ¨**ï¼šç”¨é—ªçƒçš„æ˜Ÿæ˜Ÿè¡¨ç¤ºï¼Œç¬ç§»æ—¶æ’­æ”¾â€œå’»â€çš„éŸ³æ•ˆã€‚  
- **æŠ“ä½czx**ï¼šå½“ltyåˆ°è¾¾czxçš„ä½ç½®æ—¶ï¼Œæ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼Œå±å¹•æ˜¾ç¤ºâ€œæˆåŠŸæŠ“ä½ï¼â€ã€‚  

### åŠ¨ç”»å¸§æ­¥éª¤  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•æ˜¾ç¤ºå…¬å›­åœ°å›¾ï¼ˆèŠ‚ç‚¹ã€è¾¹ã€å…¥å£ã€czxçš„åˆå§‹ä½ç½®ï¼‰ã€‚  
   - æ§åˆ¶é¢æ¿ï¼šâ€œå¼€å§‹â€â€œæš‚åœâ€â€œå•æ­¥â€æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼ˆ1x-5xï¼‰ã€‚  
   - èƒŒæ™¯éŸ³ä¹ï¼š8ä½é£æ ¼çš„è½»æ¾æ—‹å¾‹ã€‚  

2. **è®¡ç®—æœ€çŸ­è·¯å¾„**ï¼š  
   - ltyä»å…¥å£å‡ºå‘ï¼Œç”¨Dijkstraç®—æ³•è®¡ç®—æœ€çŸ­è·¯å¾„ã€‚èŠ‚ç‚¹è¢«è®¿é—®åå˜æˆç»¿è‰²ï¼Œè¾¹è¢«èµ°è¿‡æ—¶å˜æˆè“è‰²ã€‚  
   - ä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ç”¨å°æ–¹å—è¡¨ç¤ºï¼Œæ’åœ¨å‰é¢çš„èŠ‚ç‚¹æ›´å¤§ã€‚  

3. **å¤„ç†ç¬ç§»äº‹ä»¶**ï¼š  
   - æ’åºåçš„ç¬ç§»äº‹ä»¶ç”¨åˆ—è¡¨æ˜¾ç¤ºåœ¨å±å¹•å³ä¾§ï¼Œå½“å‰å¤„ç†çš„äº‹ä»¶ç”¨çº¢è‰²æ¡†æ ‡è®°ã€‚  
   - czxåœ¨ç¬ç§»æ—¶é—´ç‚¹ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œæ’­æ”¾â€œå’»â€çš„éŸ³æ•ˆã€‚  

4. **åˆ¤æ–­èƒ½å¦æŠ“ä½**ï¼š  
   - å½“ltyåˆ°è¾¾czxçš„ä½ç½®æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦åœ¨æœ‰æ•ˆæ—¶é—´æ®µå†…ã€‚è‹¥æ˜¯ï¼Œæ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼Œå±å¹•æ˜¾ç¤ºâ€œæˆåŠŸæŠ“ä½ï¼â€ï¼›å¦åˆ™ï¼Œç»§ç»­ç§»åŠ¨ã€‚  

5. **äº¤äº’æ§åˆ¶**ï¼š  
   - ç©å®¶å¯ä»¥ç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼Œé€å¸§è§‚çœ‹ç®—æ³•æ‰§è¡Œè¿‡ç¨‹ï¼›ç‚¹å‡»â€œè‡ªåŠ¨æ’­æ”¾â€æŒ‰é’®ï¼Œç®—æ³•è‡ªåŠ¨æ‰§è¡Œï¼ˆé€Ÿåº¦å¯è°ƒï¼‰ã€‚  
   - ç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œé‡æ–°å¼€å§‹åŠ¨ç”»ã€‚  

### æŠ€æœ¯å®ç°  
- **Canvasç»˜åˆ¶**ï¼šç”¨HTML5 Canvasç»˜åˆ¶åƒç´ é£æ ¼çš„èŠ‚ç‚¹ã€è¾¹ã€ltyå’Œczxã€‚  
- **éŸ³æ•ˆ**ï¼šç”¨Web Audio APIæ’­æ”¾8ä½é£æ ¼çš„éŸ³æ•ˆï¼ˆå¦‚â€œæ²™æ²™â€â€œå’»â€â€œå®â€ï¼‰ã€‚  
- **äº¤äº’**ï¼šç”¨JavaScriptå¤„ç†æŒ‰é’®ç‚¹å‡»å’Œæ»‘å—äº‹ä»¶ï¼Œæ§åˆ¶åŠ¨ç”»çš„æ’­æ”¾ã€æš‚åœå’Œé€Ÿåº¦ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
å•æºæœ€çŸ­è·¯+äº‹ä»¶æ’åºçš„æ€è·¯ï¼Œå¯ç”¨äºå¤„ç†ä»¥ä¸‹é—®é¢˜ï¼š  
- **å¿«é€’é…é€**ï¼šè®¡ç®—å¿«é€’å‘˜ä»ä»“åº“åˆ°å„ä¸ªç½‘ç‚¹çš„æœ€çŸ­æ—¶é—´ï¼Œç„¶åæŒ‰è®¢å•æ—¶é—´æ’åºï¼Œå®‰æ’é…é€è·¯çº¿ã€‚  
- **ç«è½¦æ¢ä¹˜**ï¼šè®¡ç®—ä»èµ·ç‚¹åˆ°å„ä¸ªè½¦ç«™çš„æœ€çŸ­æ—¶é—´ï¼Œç„¶åæŒ‰ç«è½¦æ—¶åˆ»è¡¨æ’åºï¼Œé€‰æ‹©æœ€ä¼˜æ¢ä¹˜æ–¹æ¡ˆã€‚  
- **æ¸¸æˆAI**ï¼šè®¡ç®—AIä»å½“å‰ä½ç½®åˆ°å„ä¸ªç›®æ ‡ç‚¹çš„æœ€çŸ­æ—¶é—´ï¼Œç„¶åæŒ‰ç›®æ ‡çš„ä¼˜å…ˆçº§æ’åºï¼Œé€‰æ‹©æœ€ä¼˜è¡ŒåŠ¨ã€‚  

### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P4779** - å•æºæœ€çŸ­è·¯å¾„ï¼ˆæ ‡å‡†ç‰ˆï¼‰  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™æ˜¯å•æºæœ€çŸ­è·¯å¾„çš„ç»å…¸é¢˜ç›®ï¼Œå¸®åŠ©ä½ å·©å›ºå †ä¼˜åŒ–Dijkstraçš„å®ç°ã€‚  
2. **æ´›è°· P1339** - [USACO09OCT]Heat Wave G  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæœ¬é¢˜éœ€è¦è®¡ç®—å¤šæºæœ€çŸ­è·¯å¾„ï¼Œä½†æ ¸å¿ƒæ€è·¯ä¸å•æºæœ€çŸ­è·¯å¾„ç±»ä¼¼ï¼Œæ˜¯ä¸é”™çš„æ‹“å±•ç»ƒä¹ ã€‚  
3. **æ´›è°· P2296** - å¯»æ‰¾é“è·¯  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæœ¬é¢˜éœ€è¦ç»“åˆæœ€çŸ­è·¯å¾„å’Œå›¾çš„éå†ï¼Œè€ƒå¯Ÿä½ å¯¹å›¾è®ºç®—æ³•çš„ç»¼åˆåº”ç”¨èƒ½åŠ›ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### å‚è€ƒç»éªŒ (æ¥è‡ª Elevenè°¦)  
> â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆå¿½ç•¥äº†â€˜åœ¨ä¸‹ä¸€æ¬¡ç¬ç§»å‰åˆ°è¾¾â€™çš„æƒ…å†µï¼Œä¸€ç›´å¡åœ¨90åˆ†ã€‚åæ¥åœ¨åŒæ¡Œçš„å¸®åŠ©ä¸‹ï¼Œæ„è¯†åˆ°éœ€è¦åŠ ä¸€ä¸ªåˆ¤æ–­`dis[pi] < next_ti`ï¼Œæ‰é¡ºåˆ©ACã€‚â€  

**ç‚¹è¯„**ï¼š  
è¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå…¸å‹ã€‚åœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­ï¼Œ**é€»è¾‘åˆ¤æ–­çš„å®Œæ•´æ€§**éå¸¸é‡è¦ã€‚å¦‚æœæ¼æ‰ä¸€ç§æƒ…å†µï¼Œå¯èƒ½ä¼šå¯¼è‡´ä»£ç æ— æ³•é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼š**ä»”ç»†é˜…è¯»é¢˜ç›®æè¿°ï¼Œåˆ—å‡ºæ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼Œé€ä¸€éªŒè¯**ã€‚æ¯”å¦‚æœ¬é¢˜ä¸­ï¼Œé™¤äº†â€œå®ˆæ ªå¾…å…”â€ï¼Œè¿˜æœ‰â€œåœ¨ä¸‹ä¸€æ¬¡ç¬ç§»å‰åˆ°è¾¾â€çš„æƒ…å†µï¼Œå¿…é¡»éƒ½è€ƒè™‘åˆ°ã€‚  


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œæŠ“ä½czxâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©ä½ ç†è§£å•æºæœ€çŸ­è·¯å’Œäº‹ä»¶å¤„ç†çš„æ€è·¯ï¼ŒæŒæ¡è§£é¢˜æŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**æŒç»­ç»ƒä¹ **å’Œ**æ·±å…¥æ€è€ƒ**â€”â€”å¤šåšç±»ä¼¼é¢˜ç›®ï¼Œå¤šæ€»ç»“é”™è¯¯ï¼Œä½ ä¼šè¶Šæ¥è¶Šå‰å®³ï¼ğŸ’ª  

ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼

---
å¤„ç†ç”¨æ—¶ï¼š213.80ç§’
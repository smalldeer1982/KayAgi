# é¢˜ç›®ä¿¡æ¯

# é€ç¤¼ç‰©

## é¢˜ç›®æè¿°

ä½œä¸ºæƒ©ç½šï¼ŒGY è¢«é£é€å»å¸®åŠ©æŸç¥ç‰›ç»™å¥³ç”Ÿé€ç¤¼ç‰© (GYï¼šè²Œä¼¼æ˜¯ä¸ªå¥½å·®äº‹ï¼‰ä½†æ˜¯åœ¨ GY çœ‹åˆ°ç¤¼ç‰©ä¹‹åï¼Œä»–å°±ä¸è¿™ä¹ˆè®¤ä¸ºäº†ã€‚æŸç¥ç‰›æœ‰ $N$ ä¸ªç¤¼ç‰©ï¼Œä¸”å¼‚å¸¸æ²‰é‡ï¼Œä½†æ˜¯ GY çš„åŠ›æ°”ä¹Ÿå¼‚å¸¸çš„å¤§ (-_-b)ï¼Œä»–ä¸€æ¬¡å¯ä»¥æ¬åŠ¨é‡é‡å’Œåœ¨ $w$ ä»¥ä¸‹çš„ä»»æ„å¤šä¸ªç‰©å“ã€‚GY å¸Œæœ›ä¸€æ¬¡æ¬æ‰å°½é‡é‡çš„ä¸€äº›ç‰©å“ï¼Œè¯·ä½ å‘Šè¯‰ä»–åœ¨ä»–çš„åŠ›æ°”èŒƒå›´å†…ä¸€æ¬¡æ€§èƒ½æ¬åŠ¨çš„æœ€å¤§é‡é‡æ˜¯å¤šå°‘ã€‚

## è¯´æ˜/æç¤º

å¯¹äºæ‰€æœ‰æµ‹è¯•æ•°æ®ï¼Œ$1 \le N \le 46$, $1 \le W,G[i] \le 2^{31}-1$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
20 5
7
5
4
18
1```

### è¾“å‡º

```
19```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šé€ç¤¼ç‰© æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæŠ˜åŠæœç´¢ï¼ˆMeet in the Middleï¼‰  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³"é€ç¤¼ç‰©"çš„å…³é”®åœ¨äºè¿ç”¨æŠ˜åŠæœç´¢æŠ€å·§ã€‚æƒ³è±¡ä½ è¦æ¬åŠ¨ä¸€å †æ²‰é‡çš„ç¤¼ç‰©ï¼Œä¸å…¶ä¸€æ¬¡æ€§å°è¯•æ‰€æœ‰ç»„åˆï¼ˆå¤æ‚åº¦$O(2^{46})$ä¸å¯è¡Œï¼‰ï¼Œä¸å¦‚å°†ç¤¼ç‰©åˆ†æˆä¸¤åŠï¼šå…ˆè®¡ç®—å‰ä¸€åŠæ‰€æœ‰å¯èƒ½çš„é‡é‡ç»„åˆï¼Œå†è®¡ç®—åä¸€åŠï¼Œæœ€ååƒæ‹¼å›¾ä¸€æ ·åˆå¹¶ç»“æœã€‚æŠ˜åŠæœç´¢å°†æŒ‡æ•°çº§å¤æ‚åº¦é™ä¸º$O(2^{23})$ï¼Œé€šè¿‡æ’åºå’ŒäºŒåˆ†æŸ¥æ‰¾é«˜æ•ˆåˆå¹¶ç»“æœã€‚
> - **æ ¸å¿ƒéš¾ç‚¹**ï¼šåˆå¹¶æ—¶éœ€è¦å¿«é€Ÿæ‰¾åˆ°ä¸è¶…è¿‡$W$çš„æœ€å¤§ç»„åˆå€¼ã€‚é¢˜è§£ä¸»è¦é‡‡ç”¨ä¸¤ç§ä¼˜åŒ–ï¼šäºŒåˆ†æŸ¥æ‰¾ï¼ˆç¨³å®šé€šç”¨ï¼‰æˆ–åŒæŒ‡é’ˆï¼ˆæ•ˆç‡æ›´ä¼˜ä½†éœ€ä¸¥æ ¼æ’åºï¼‰ã€‚
> - **å¯è§†åŒ–è®¾è®¡**ï¼šåƒç´ åŠ¨ç”»å°†å±•ç¤ºä¸¤ä¸ªå¹¶è¡Œçš„ç¤¼ç‰©åˆ†æ‹£æµæ°´çº¿ï¼ˆå‰/ååŠç¤¼ç‰©ï¼‰ï¼Œç”Ÿæˆæœ‰åºé‡é‡æ¸…å•åï¼Œé€šè¿‡é«˜äº®æŒ‡é’ˆç§»åŠ¨æ¼”ç¤ºäºŒåˆ†æŸ¥æ‰¾/åŒæŒ‡é’ˆåˆå¹¶è¿‡ç¨‹ã€‚å¤å¤æ¸¸æˆå…ƒç´ åŒ…æ‹¬ï¼šç¤¼ç‰©åˆ†æ‹£éŸ³æ•ˆã€æ’åºè¿›åº¦æ¡ã€åˆå¹¶æˆåŠŸæ—¶çš„"å®ï¼"èƒœåˆ©éŸ³æ•ˆã€‚

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼šCute__yhbï¼‰**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°å±•ç¤ºäº†æŠ˜åŠæœç´¢çš„å®Œæ•´æµç¨‹ï¼šDFSç”Ÿæˆå­é›†â†’æ’åºâ†’äºŒåˆ†æŸ¥æ‰¾ã€‚ä»£ç ä¸­`a.pb(sum)`å’Œ`b.pb(sum)`ç›´è§‚å­˜å‚¨å­é›†å’Œï¼ŒäºŒåˆ†æŸ¥æ‰¾éƒ¨åˆ†é€»è¾‘ä¸¥è°¨ã€‚äº®ç‚¹åœ¨äºå˜é‡å‘½åæ˜ç¡®ï¼ˆå¦‚`maxx`è®°å½•æœ€å¤§å€¼ï¼‰ï¼Œè¾¹ç•Œå¤„ç†å®Œæ•´ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£äºŒï¼ˆä½œè€…ï¼šMelo_qwqï¼‰**
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§ä½¿ç”¨åŒæŒ‡é’ˆæ›¿ä»£äºŒåˆ†æŸ¥æ‰¾ï¼Œå°†åˆå¹¶å¤æ‚åº¦ä¼˜åŒ–è‡³$O(n)$ã€‚é€šè¿‡`sort(v1)`å’Œ`sort(v2)`ååˆ©ç”¨å•è°ƒæ€§åŒæ­¥éå†æ•°ç»„ï¼Œä»£ç ä¸­`while(jâ‰¥1&&v2[j]+v1[i]>w)j--`å·§å¦™è§„é¿äº†äºŒåˆ†æ“ä½œã€‚äº®ç‚¹åœ¨äºç®—æ³•æ•ˆç‡æå‡ï¼Œé€‚åˆå¤„ç†æ›´å¤§æ•°æ®ã€‚

**é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼š_zuoqingyuanï¼‰**
* **ç‚¹è¯„**ï¼šå¼ºè°ƒä»å¤§åˆ°å°æ’åºç¤¼ç‰©çš„é¢„å¤„ç†ï¼ˆ`sort(g+1,g+1+n,cmp2)`ï¼‰ï¼Œç†è®ºä¸Šå¯æå‰å‰ªæã€‚æ ¸å¿ƒå‡½æ•°`found()`å°è£…äºŒåˆ†æŸ¥æ‰¾ï¼Œç»“æ„æ¸…æ™°ã€‚äº®ç‚¹åœ¨äºè¯¦ç»†æ³¨é‡Šå’Œé”™è¯¯å¤„ç†ï¼Œé€‚åˆåˆå­¦è€…ç†è§£æŠ˜åŠæœç´¢æœ¬è´¨ã€‚

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **å­é›†å’Œçš„é«˜æ•ˆç”Ÿæˆ**
   * **åˆ†æ**ï¼šDFSé€’å½’éœ€ä¸¥æ ¼æ§åˆ¶çŠ¶æ€ï¼ˆå½“å‰ç´¢å¼•ã€ç´¯è®¡å’Œï¼‰ï¼Œé‡åˆ°`sum>w`ç«‹å³å‰ªæã€‚ä¼˜è´¨é¢˜è§£ç”¨`vector`æˆ–æ•°ç»„å­˜å‚¨å­é›†å’Œï¼Œé¿å…é‡å¤è®¡ç®—ã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šDFSå‚æ•°è®¾è®¡è¦ä½“ç°"æ— åæ•ˆæ€§"â€”â€”å½“å‰é€‰æ‹©ç‹¬ç«‹äºåç»­é€‰æ‹©ã€‚

2. **åŒæ•°ç»„çš„åˆå¹¶ç­–ç•¥**
   * **åˆ†æ**ï¼šäºŒåˆ†æŸ¥æ‰¾éœ€ä¿è¯ä¸€ä¸ªæ•°ç»„æœ‰åºï¼Œé€šè¿‡`upper_bound`å¿«é€Ÿå®šä½ï¼›åŒæŒ‡é’ˆæ³•åˆ™éœ€åŒæ•°ç»„æœ‰åºï¼Œåˆ©ç”¨å•è°ƒæ€§åŒæ­¥ç§»åŠ¨æŒ‡é’ˆã€‚åè€…æ•ˆç‡æ›´é«˜ä½†ä¾èµ–ä¸¥æ ¼æ’åºã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆå¹¶ç­–ç•¥çš„é€‰æ‹©å–å†³äºæ•°æ®ç‰¹æ€§ï¼Œæœ‰åºæ•°æ®ä¼˜å…ˆè€ƒè™‘åŒæŒ‡é’ˆã€‚

3. **é¢„å¤„ç†ä¼˜åŒ–**
   * **åˆ†æ**ï¼šå¯¹ç¤¼ç‰©é™åºæ’åºï¼ˆå¦‚é¢˜è§£ä¸‰ï¼‰ï¼Œå¯è®©DFSä¼˜å…ˆå¤„ç†å¤§ç¤¼ç‰©ï¼Œè§¦å‘`sum>w`å‰ªææ›´æ—©å‘ç”Ÿã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé¢„å¤„ç†æ˜¯æœç´¢ç®—æ³•çš„"åŠ é€Ÿå™¨"ï¼Œé€šè¿‡æ”¹å˜å¤„ç†é¡ºåºæå‡æ•ˆç‡ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é—®é¢˜åˆ†è§£**ï¼šå°†$2^{46}$é—®é¢˜æ‹†è§£ä¸ºä¸¤ä¸ª$2^{23}$å­é—®é¢˜ï¼Œå¤æ‚åº¦å¤§å¹…é™ä½ã€‚
- **åˆå¹¶ç­–ç•¥**ï¼šç†è§£äºŒåˆ†æŸ¥æ‰¾ä¸åŒæŒ‡é’ˆçš„é€‚ç”¨åœºæ™¯ï¼Œæœ‰åºæ•°æ®é¦–é€‰åŒæŒ‡é’ˆã€‚
- **å‰ªææ„è¯†**ï¼šDFSä¸­å®æ—¶åˆ¤æ–­`sum>w`å¹¶å›æº¯ï¼Œé¿å…æ— æ•ˆé€’å½’ã€‚

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**é€šç”¨æ ¸å¿ƒå®ç°å‚è€ƒ**
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

void dfs(vector<long>& res, int start, int end, long sum, const vector<long>& gifts, long w) {
    if (sum > w) return;
    if (start > end) {
        res.push_back(sum);
        return;
    }
    dfs(res, start+1, end, sum, gifts, w); // ä¸é€‰å½“å‰ç¤¼ç‰©
    dfs(res, start+1, end, sum+gifts[start], gifts, w); // é€‰å½“å‰ç¤¼ç‰©
}

int main() {
    long w, n; 
    cin >> w >> n;
    vector<long> gifts(n);
    for (int i=0; i<n; i++) cin >> gifts[i];

    vector<long> left, right;
    dfs(left, 0, n/2, 0, gifts, w);   // å‰ä¸€åŠå­é›†å’Œ
    dfs(right, n/2+1, n-1, 0, gifts, w); // åä¸€åŠå­é›†å’Œ

    sort(right.begin(), right.end()); // æ’åºç”¨äºäºŒåˆ†æŸ¥æ‰¾
    long ans = 0;
    for (long val : left) {
        auto it = upper_bound(right.begin(), right.end(), w-val);
        if (it != right.begin()) 
            ans = max(ans, val + *(it-1));
    }
    cout << ans << endl;
}
```

**é¢˜è§£ä¸€ç‰‡æ®µèµæï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰**
```cpp
sort(b.begin(), b.end());
for (auto val : a) { // éå†å‰ä¸€åŠå­é›†å’Œ
    auto it = upper_bound(b.begin(), b.end(), w-val);
    if (it != b.begin()) 
        maxx = max(maxx, val + *(it-1));
}
```
> **ä»£ç è§£è¯»**ï¼š  
> 1. æ’åºåä¸€åŠå­é›†å’Œ`b`ç¡®ä¿äºŒåˆ†æœ‰æ•ˆ  
> 2. `upper_bound`æ‰¾åˆ°é¦–ä¸ªå¤§äº`w-val`çš„ä½ç½®  
> 3. `it-1`å³æ»¡è¶³`â‰¤w-val`çš„æœ€å¤§å€¼  
> ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šäºŒåˆ†æŸ¥æ‰¾æ˜¯åˆå¹¶æœ‰åºæ•°ç»„çš„åˆ©å™¨

**é¢˜è§£äºŒç‰‡æ®µèµæï¼ˆåŒæŒ‡é’ˆï¼‰**
```cpp
sort(v1); sort(v2); // åŒæ•°ç»„æ’åº
int j = v2.size()-1;
for (int i=0; i<v1.size(); i++) {
    while (j>=0 && v1[i]+v2[j] > w) j--; // ç§»åŠ¨æŒ‡é’ˆ
    ans = max(ans, v1[i] + v2[j]);
}
```
> **ä»£ç è§£è¯»**ï¼š  
> 1. åŒæ•°ç»„æ’åºåˆ›é€ å•è°ƒæ€§æ¡ä»¶  
> 2. æŒ‡é’ˆ`j`åªä¼šå‘å·¦ç§»åŠ¨ï¼Œå¤æ‚åº¦$O(n)$  
> ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŒæŒ‡é’ˆçš„åŒæ­¥ç§»åŠ¨ä¾èµ–æ•°æ®çš„å•è°ƒæœ‰åºæ€§

---

### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**ä¸»é¢˜**ï¼šå¤å¤å·¥å‚æµæ°´çº¿åˆ†æ‹£ç³»ç»Ÿ  
**æ ¸å¿ƒæ¼”ç¤º**ï¼š  
![](https://via.placeholder.com/400x200?text=åƒç´ åŠ¨ç”»ç¤ºæ„å›¾)  
1. **åˆ†æ‹£é˜¶æ®µ**ï¼š  
   - å·¦ä¾§æµæ°´çº¿å¤„ç†å‰ä¸€åŠç¤¼ç‰©ï¼ˆåƒç´ å°äººæ¬è¿+éŸ³æ•ˆï¼‰ï¼Œç”Ÿæˆå­é›†å’Œæ¸…å•`A`  
   - å³ä¾§æµæ°´çº¿å¤„ç†åä¸€åŠç¤¼ç‰©ï¼Œç”Ÿæˆæ¸…å•`B`  
   - æ¸…å•`B`è¿›å…¥æ’åºæœºï¼ˆåŠ¨æ€å±•ç¤ºå†’æ³¡è¿‡ç¨‹ï¼‰  

2. **åˆå¹¶é˜¶æ®µ**ï¼š  
   - **äºŒåˆ†æŸ¥æ‰¾æ¨¡å¼**ï¼šæŒ‡é’ˆ`L/R`åœ¨`B`æ¸…å•ä¸Šè·³è·ƒï¼Œé«˜äº®æ¯”è¾ƒä½ç½®  
   - **åŒæŒ‡é’ˆæ¨¡å¼**ï¼šä¸¤ä¸ªåƒç´ æŒ‡é’ˆæ²¿`A`å’Œ`B`åŒæ­¥ç§»åŠ¨ï¼Œç¢°æ’æ—¶è§¦å‘"åŒ¹é…æˆåŠŸ"éŸ³æ•ˆ  
   - å®æ—¶æ˜¾ç¤ºå½“å‰æœ€å¤§åˆæ³•å€¼ï¼ˆé¡¶éƒ¨éœ“è™¹ç¯ç‰Œï¼‰  

3. **æ¸¸æˆåŒ–å…ƒç´ **ï¼š  
   - æ¯å®Œæˆä¸€ä¸ªå­é›†ç”Ÿæˆè§£é”"é½¿è½®é›¶ä»¶"é“å…·  
   - æœ€ç»ˆæˆåŠŸæ—¶ç¤¼ç‰©ç›’çˆ†ç‚¸ï¼Œå¼¹å‡º"MAX VALUE"åƒç´ è‰ºæœ¯å­—  
   - èƒŒæ™¯éŸ³ä¹ï¼š8-bitå·¥å‚è¿ä½œéŸ³æ•ˆå¾ªç¯  

---

### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
1. **æ´›è°· P3067** [å¹³è¡¡çš„å¥¶ç‰›å­é›†]  
   â†’ æŠ˜åŠæœç´¢+çŠ¶æ€å‹ç¼©ï¼Œå¼ºåŒ–å­é›†å’Œç»Ÿè®¡èƒ½åŠ›  
2. **æ´›è°· P4799** [ä¸–ç•Œå†°çƒé”¦æ ‡èµ›]  
   â†’ æŠ˜åŠæœç´¢æ¨¡æ¿é¢˜ï¼Œç»ƒä¹ åˆå¹¶ç­–ç•¥é€‰æ‹©  
3. **æ´›è°· P2320** [é¬¼è°·å­çš„é’±è¢‹]  
   â†’ åˆ†æ²»æ€æƒ³è¿›é˜¶ï¼Œç†è§£é—®é¢˜åˆ†è§£çš„æœ¬è´¨  

---

### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **ä½œè€…ç»éªŒï¼ˆCute__yhbï¼‰**ï¼š  
> *"æŠ˜åŠæœç´¢çš„å…³é”®åœ¨äºåˆç†æ‹†åˆ†æ•°æ®èŒƒå›´ï¼Œåˆå¹¶æ—¶è¦æ³¨æ„è¾¹ç•Œæ¡ä»¶"*  
> **Kayç‚¹è¯„**ï¼šç‚¹å‡ºç®—æ³•æ ¸å¿ƒâ€”â€”é€šè¿‡åˆ†è§£å°†æŒ‡æ•°çº§é—®é¢˜é™ç»´ï¼Œæé†’å­¦ä¹ è€…æ³¨æ„`w-val`å¯èƒ½ä¸ºè´Ÿæ—¶çš„æŒ‡é’ˆè¶Šç•Œé—®é¢˜  

---

**ç»“è¯­**ï¼šæŠ˜åŠæœç´¢æ˜¯å¤„ç†å¤§è§„æ¨¡å­é›†é—®é¢˜çš„åˆ©å™¨ï¼ŒæŒæ¡DFSçŠ¶æ€è®¾è®¡+æ•°ç»„åˆå¹¶ç­–ç•¥ï¼Œä½ å°±èƒ½è½»æ¾"æ¬åŠ¨"çœ‹ä¼¼ä¸å¯è§£çš„é‡ç‰©ï¼ä¸‹æ¬¡é‡åˆ°$Nâ‰¤40$çš„å­é›†é—®é¢˜ï¼Œè®°å¾—å°è¯•"ä¸€åˆ†ä¸ºäºŒ"çš„æ™ºæ…§å“¦~ ğŸ

---
å¤„ç†ç”¨æ—¶ï¼š113.93ç§’
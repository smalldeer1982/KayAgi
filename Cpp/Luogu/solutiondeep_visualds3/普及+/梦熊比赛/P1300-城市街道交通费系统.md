# é¢˜ç›®ä¿¡æ¯

# åŸå¸‚è¡—é“äº¤é€šè´¹ç³»ç»Ÿ

## é¢˜ç›®æè¿°

åŸå¸‚è¡—é“äº¤è´¹ç³»ç»Ÿæœ€è¿‘åˆ›ç«‹äº†ã€‚ä¸€è¾†æ±½è½¦å·¦è½¬ä¸€æ¬¡éœ€ä»˜è´¹ $1$ ï¼Œå³è½¬ä¸€æ¬¡éœ€ä»˜è´¹ $5$ ã€‚åªæœ‰å½“å‰è¿›ã€å·¦è½¬ã€å³è½¬éƒ½æ— è·¯å¯èµ°çš„æ—¶å€™ï¼Œè°ƒå¤´æ‰æ˜¯å…è®¸çš„ï¼Œè°ƒå¤´æ¯æ¬¡ä»˜è´¹ $10$ ã€‚

ç»™å‡ºä¸€å¼ åŸå¸‚åœ°å›¾ï¼Œè¦æ±‚ä½ æ±‚å‡ºä»èµ·å§‹ç‚¹åˆ°è¾¾ç»ˆæ­¢ç‚¹çš„èŠ±è´¹æœ€å°‘çš„è·¯å¾„ã€‚å¹¸è¿çš„æ˜¯ï¼Œæ‰€æœ‰çš„é“è·¯éƒ½æ˜¯æ­£åŒ—ã€æ­£å—ã€æ­£è¥¿æˆ–æ­£ä¸œæ–¹å‘çš„ã€‚

## è¯´æ˜/æç¤º

æ ·ä¾‹ä¸€è§£é‡Šï¼š

ç›´èµ°ï¼Œç„¶åå·¦è½¬ $3$ æ¬¡ï¼Œæœ€åå³è½¬åˆ°ç»ˆæ­¢ç‚¹ `F`ã€‚å¦‚æœå…ˆç›´èµ°ç„¶åå³è½¬ $2$ æ¬¡ï¼ŒèŠ±è´¹å°†æ˜¯ $10$ ã€‚

---

æ ·ä¾‹äºŒè§£é‡Šï¼š

æœ€ä¾¿å®œçš„è·¯å¾„èŠ±è´¹ $7$ ï¼šç«‹åˆ»å·¦è½¬ï¼Œç›´èµ°ï¼Œåœ¨ç¬¬ä¸€ä¸ªå²”è·¯å£å·¦è½¬ï¼Œéšåå³è½¬ã€‚

---

å¯¹äº $100\%$ çš„æ•°æ®ï¼š$4 \leq h,w \leq 30$ã€‚

æ•°æ®ä¿è¯åœ°å›¾ä¸­åªæœ‰ä¸€ä¸ªèµ·ç‚¹ï¼Œä¸€ä¸ªç»ˆç‚¹ï¼Œä»–ä»¬ä¹‹é—´å­˜åœ¨ç€å¯é€šè¾¾çš„è·¯å¾„ã€‚åŒæ—¶ä¿è¯åœ°å›¾æœ€å¤–å±‚ä¸€åœˆéƒ½æ˜¯éšœç¢ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
8 11
...........
....#####..
....#...#..
....#...#..
.#E######..
....#......
.##F#......
...........
```

### è¾“å‡º

```
8
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
17 21
.....................
.#######.............
.#.....#.......#.....
.###...#.......#.....
...#...#.......#.....
.###...#.......#.....
.#.....#.......#.....
.############F#####..
.......#..........#..
.......#..........#..
...#...#...#####..#..
...#...#...#.#.#..#..
..#S########.#.#..#..
...#.......#.###..#..
...#.......#......#..
...........########..
.....................```

### è¾“å‡º

```
7```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šåŸå¸‚è¡—é“äº¤é€šè´¹ç³»ç»Ÿ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### **1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«**
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`çŠ¶æ€ç©ºé—´æœç´¢` (BFS/DFS + çŠ¶æ€ä¼˜åŒ–)

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³"åŸå¸‚è¡—é“äº¤é€šè´¹ç³»ç»Ÿ"çš„å…³é”®åœ¨äº**çŠ¶æ€ç©ºé—´æœç´¢**ã€‚æƒ³è±¡ä½ åœ¨ç©ç»å…¸æ¸¸æˆã€Šåƒè±†äººã€‹â€”â€”ä¸ä»…è¦è®°å½•ä½ç½®ï¼Œè¿˜è¦è®°å½•é¢æœæ–¹å‘ï¼åœ¨æœ¬é¢˜ä¸­ï¼š
> - **æ ¸å¿ƒæ€æƒ³**ï¼šå°†"ä½ç½®+æ–¹å‘"ç»„åˆæˆä¸‰ç»´çŠ¶æ€ï¼ˆxåæ ‡, yåæ ‡, å½“å‰æ–¹å‘ï¼‰ï¼Œé€šè¿‡æœç´¢æ¢ç´¢æœ€ä¼˜è·¯å¾„
> - **åº”ç”¨åœºæ™¯**ï¼šç›´è¡Œï¼ˆ0å…ƒï¼‰ã€å·¦è½¬ï¼ˆ1å…ƒï¼‰ã€å³è½¬ï¼ˆ5å…ƒï¼‰ã€è°ƒå¤´ï¼ˆ10å…ƒä¸”ä¸¥æ ¼å—é™ï¼‰
> - **æ ¸å¿ƒéš¾ç‚¹**ï¼šè°ƒå¤´æ¡ä»¶çš„åŠ¨æ€åˆ¤æ–­ï¼ˆéœ€éªŒè¯å…¶ä»–æ–¹å‘æ— è·¯å¯èµ°ï¼‰
> - **å¯è§†åŒ–è®¾è®¡**ï¼šç”¨åƒç´ ç½‘æ ¼æ¨¡æ‹ŸåŸå¸‚åœ°å›¾ï¼Œå°è½¦ç”¨æ–¹å‘ç®­å¤´è¡¨ç¤ºï¼Œå…³é”®æ“ä½œç”¨é—ªå…‰+éŸ³æ•ˆæç¤ºï¼š
>   - ç›´è¡Œï¼šå°è½¦æ²¿æ–¹å‘ç§»åŠ¨ï¼Œæ’­æ”¾"æ»´"éŸ³æ•ˆ
>   - è½¬å‘ï¼šå°è½¦æ—‹è½¬æ–¹å‘+é—ªå…‰ï¼Œå·¦è½¬é»„å…‰/å³è½¬è“å…‰
>   - è°ƒå¤´ï¼šçº¢è‰²é—ªçƒ+ä½æ²‰éŸ³æ•ˆ
>   - æ•°æ®ç»“æ„ï¼šé˜Ÿåˆ—/æ ˆç”¨åƒç´ æ–¹å—å †åŠ¨æ€å±•ç¤º

---

#### **2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ**
**é¢˜è§£ä¸€ï¼šRedreamMer (ä¼˜å…ˆé˜Ÿåˆ—BFS)**
* **ç‚¹è¯„**ï¼š
  - æ€è·¯æ¸…æ™°ï¼šç”¨ä¼˜å…ˆé˜Ÿåˆ—ä¿è¯æœ€ä¼˜æ€§ï¼ŒçŠ¶æ€å®šä¹‰ç²¾å‡†ï¼ˆä½ç½®+æ–¹å‘ï¼‰
  - ä»£ç è§„èŒƒï¼šæ–¹å‘æ•°ç»„`dx/dy`è®¾è®¡å·§å¦™ï¼Œ`m[][][]`æ•°ç»„è®°å½•æœ€å°èŠ±è´¹
  - ç®—æ³•äº®ç‚¹ï¼šä¼˜å…ˆé˜Ÿåˆ—è‡ªåŠ¨é€‰å–æœ€å°èŠ±è´¹è·¯å¾„ï¼Œæ•ˆç‡é«˜ï¼ˆ46msï¼‰
  - å®è·µä»·å€¼ï¼šè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›

**é¢˜è§£äºŒï¼šç ´å¿† (DFS+è®°å¿†åŒ–)**
* **ç‚¹è¯„**ï¼š
  - é€»è¾‘ç›´ç™½ï¼šé€’å½’å®ç°è‡ªç„¶è¡¨è¾¾çŠ¶æ€è½¬ç§»
  - å˜é‡å‘½åï¼š`dis[][][]`è¯­ä¹‰æ˜ç¡®ï¼Œæ–¹å‘è½¬æ¢`(w+1)%4`ç®€æ´
  - ç®—æ³•äº®ç‚¹ï¼šè®°å¿†åŒ–å‰ªæé«˜æ•ˆï¼Œä»£ç é‡å°‘ï¼ˆ<60è¡Œï¼‰
  - è°ƒè¯•æç¤ºï¼šä½œè€…å¼ºè°ƒè¾¹ç•Œåæ ‡éªŒè¯çš„é‡è¦æ€§

**é¢˜è§£ä¸‰ï¼šfls233666 (A*+ä¸‰ç»´å‰ªæ)**
* **ç‚¹è¯„**ï¼š
  - ç»“æ„ä¸¥è°¨ï¼šåˆ†å±‚å¤„ç†çŠ¶æ€ï¼ˆæœªè½¬å‘/å·²è½¬å‘ï¼‰
  - åˆ›æ–°ç‚¹ï¼šæ›¼å“ˆé¡¿è·ç¦»å¯å‘å¼æœç´¢ï¼ŒåŒæ•°ç»„å‰ªæ
  - å®è·µæŠ€å·§ï¼šè¯¦ç»†è°ƒè¯•å¿ƒå¾—ï¼ˆ80â†’100åˆ†çš„å…³é”®åœ¨è°ƒå¤´æ¡ä»¶éªŒè¯ï¼‰

---

#### **3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥**
1. **çŠ¶æ€ç©ºé—´çˆ†ç‚¸**
   - **åˆ†æ**ï¼š30x30ç½‘æ ¼x4æ–¹å‘=3600çŠ¶æ€ï¼Œéœ€é«˜æ•ˆå­˜å‚¨
   - **è§£å†³**ï¼šä¸‰ç»´æ•°ç»„`dp[x][y][dir]`è®°å½•æœ€å°èŠ±è´¹
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŠ¶æ€=ä½ç½®+æ–¹å‘ï¼Œç¼ºä¸€ä¸å¯ï¼

2. **è°ƒå¤´æ¡ä»¶éªŒè¯**
   - **åˆ†æ**ï¼šå¿…é¡»å‰/å·¦/å³å…¨é˜»å¡æ—¶æ‰å…è®¸è°ƒå¤´
   - **è§£å†³**ï¼šç”¨`flag`å˜é‡æ ‡è®°å…¶ä»–æ–¹å‘å¯è¡Œæ€§
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå…ˆå°è¯•å¸¸è§„æ“ä½œï¼Œæœ€åå¤„ç†ç‰¹ä¾‹ï¼

3. **æ–¹å‘è½¬æ¢æ˜ å°„**
   - **åˆ†æ**ï¼šæ–¹å‘è½¬æ¢éœ€æ•°å­¦åŒ–è¡¨è¾¾ï¼ˆé¿å…å†—é•¿if-elseï¼‰
   - **è§£å†³**ï¼šå–æ¨¡è¿ç®—ç»Ÿä¸€å¤„ç†ï¼šå·¦è½¬`(dir+3)%4`ï¼Œå³è½¬`(dir+1)%4`
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ–¹å‘æ•°ç»„+å–æ¨¡=ç®€æ´çš„æ–¹å‘æ§åˆ¶ç³»ç»Ÿ

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**ï¼š
- **çŠ¶æ€å‹ç¼©**ï¼šç”¨0-3æ•´æ•°ä»£è¡¨æ–¹å‘ï¼Œå‡å°‘å†…å­˜å ç”¨
- **å‰ªæä¼˜åŒ–**ï¼šå®æ—¶æ¯”è¾ƒå½“å‰èŠ±è´¹ä¸å†å²æœ€ä¼˜å€¼
- **è¾¹ç•Œé˜²å¾¡**ï¼šå…ˆæ£€æŸ¥åæ ‡åˆæ³•æ€§å†è®¿é—®æ•°ç»„
- **æ¨¡å—åŒ–**ï¼šåˆ†ç¦»æ–¹å‘è®¡ç®—å’Œç§»åŠ¨é€»è¾‘

---

#### **4. C++æ ¸å¿ƒä»£ç å®ç°èµæ**
**é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆç»¼åˆä¼˜åŒ–ç‰ˆï¼‰**ï¼š
```cpp
#include <bits/stdc++.h>
using namespace std;
const int N=35;
int dx[4]={-1,0,1,0}, dy[4]={0,1,0,-1}; // åŒ—â†’ä¸œâ†’å—â†’è¥¿
int dp[N][N][4], n, m, sx, sy, sd, ex, ey;
char grid[N][N];

void bfs() {
    memset(dp, 0x3f, sizeof dp);
    queue<tuple<int,int,int>> q;
    q.push({sx, sy, sd});
    dp[sx][sy][sd] = 0;

    while(!q.empty()) {
        auto [x,y,dir] = q.front(); q.pop();
        if(x==ex && y==ey) { cout << dp[x][y][dir]; return; }

        // ç›´è¡Œ
        int nx=x+dx[dir], ny=y+dy[dir];
        if(grid[nx][ny]!='.' && dp[nx][ny][dir]>dp[x][y][dir]) {
            dp[nx][ny][dir] = dp[x][y][dir];
            q.push({nx, ny, dir});
        }

        // å·¦è½¬ï¼ˆæ–°æ–¹å‘ï¼‰
        int ndir=(dir+3)%4;
        nx=x+dx[ndir], ny=y+dy[ndir];
        if(grid[nx][ny]!='.' && dp[nx][ny][ndir]>dp[x][y][dir]+1) {
            dp[nx][ny][ndir] = dp[x][y][dir]+1;
            q.push({nx, ny, ndir});
        }

        // å³è½¬ï¼ˆæ–°æ–¹å‘ï¼‰
        ndir=(dir+1)%4;
        nx=x+dx[ndir], ny=y+dy[ndir];
        if(grid[nx][ny]!='.' && dp[nx][ny][ndir]>dp[x][y][dir]+5) {
            dp[nx][ny][ndir] = dp[x][y][dir]+5;
            q.push({nx, ny, ndir});
        }

        // è°ƒå¤´ï¼ˆä¸¥æ ¼éªŒè¯ï¼‰
        bool canMove = false;
        for(int i=0; i<4; i++) 
            if(i!=2 && grid[x+dx[i]][y+dy[i]]!='.') 
                canMove = true;
        
        if(!canMove) {
            ndir=(dir+2)%4;
            nx=x+dx[ndir], ny=y+dy[ndir];
            if(grid[nx][ny]!='.' && dp[nx][ny][ndir]>dp[x][y][dir]+10) {
                dp[nx][ny][ndir] = dp[x][y][dir]+10;
                q.push({nx, ny, ndir});
            }
        }
    }
}
```

**é¢˜è§£ä¸€ç‰‡æ®µèµæï¼ˆRedreamMerï¼‰**ï¼š
```cpp
// ä¼˜å…ˆé˜Ÿåˆ—è‡ªå®šä¹‰æ’åº
struct Node { 
    int x,y,dir;
    bool operator<(const Node& t) const {
        return cost[t.x][t.y][t.dir] < cost[x][y][dir];
    }
};
priority_queue<Node> pq;
```
* **äº®ç‚¹**ï¼šä¼˜å…ˆé˜Ÿåˆ—è‡ªåŠ¨é€‰å–æœ€å°èŠ±è´¹çŠ¶æ€
* **å­¦ä¹ ç¬”è®°**ï¼šé€šè¿‡é‡è½½è¿ç®—ç¬¦å®ç°è‡ªå®šä¹‰ä¼˜å…ˆçº§ï¼Œç¡®ä¿æœ€ä¼˜è·¯å¾„ä¼˜å…ˆæ‰©å±•

---

#### **5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º**
**åƒç´ æ¢é™©å®¶å¯¼èˆªç³»ç»Ÿ**  
![åŠ¨ç”»ç¤ºæ„å›¾](https://i.imgur.com/8bitGrid.gif)  
*(ç¤ºæ„å›¾ï¼šåƒç´ å°è½¦åœ¨ç½‘æ ¼ä¸­ç§»åŠ¨ï¼Œæ•°æ®ç»“æ„åŠ¨æ€å¯è§†åŒ–)*

- **æ ¸å¿ƒè®¾è®¡**ï¼š
  1. **8ä½åƒç´ é£**ï¼šFCçº¢ç™½æœºé£æ ¼ï¼Œ16è‰²è°ƒè‰²æ¿
  2. **åŠ¨æ€å…ƒç´ **ï¼š
     - å°è½¦ï¼šæ–¹å‘ç®­å¤´è¡¨ç¤ºå½“å‰æœå‘
     - è·¯å¾„ï¼šå·²è®¿é—®ç½‘æ ¼æ˜¾ç¤ºä¸ºæµ…ç»¿è‰²
     - é˜Ÿåˆ—ï¼šå³ä¾§æ˜¾ç¤ºä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„å¾…æ¢ç´¢çŠ¶æ€
  3. **äº¤äº’æ§åˆ¶**ï¼š
     ```javascript
     // æ§åˆ¶é¢æ¿ä¼ªä»£ç 
     const controls = {
         speed: 50,    // é€Ÿåº¦æ»‘å—(0-100)
         play: () => animate('auto'), 
         pause: () => stopAnimation(),
         step: () => moveOneStep()
     };
     ```
  4. **éŸ³æ•ˆç³»ç»Ÿ**ï¼š
     - ç›´è¡Œï¼š`beep(800Hz, 100ms)`
     - å·¦è½¬ï¼š`beep(500Hz, 200ms)+é»„è‰²é—ªå…‰`
     - å³è½¬ï¼š`beep(1000Hz, 200ms)+è“è‰²é—ªå…‰`
     - è°ƒå¤´ï¼š`buzz(200Hz, 500ms)+çº¢è‰²é—ªçƒ`

- **åŠ¨ç”»æµç¨‹**ï¼š
  ```mermaid
  graph TD
    A[åˆå§‹åŒ–åœ°å›¾] --> B[èµ·ç‚¹æ–¹å‘ç®­å¤´]
    B --> C{å¯ç›´è¡Œï¼Ÿ}
    C -->|æ˜¯| D[ç§»åŠ¨+æ›´æ–°ä½ç½®]
    C -->|å¦| E{å¯å·¦è½¬ï¼Ÿ}
    E -->|æ˜¯| F[å·¦è½¬åŠ¨ç”»+æ‰£è´¹]
    E -->|å¦| G{å¯å³è½¬ï¼Ÿ}
    G -->|æ˜¯| H[å³è½¬åŠ¨ç”»+æ‰£è´¹]
    G -->|å¦| I[è°ƒå¤´åŠ¨ç”»+æ‰£è´¹]
  ```

---

#### **6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ**
- **ç®—æ³•è¿ç§»**ï¼š
  1. æ–¹å‘ä¾èµ–å‹è·¯å¾„è§„åˆ’ï¼ˆæœºå™¨äººå¯¼èˆªï¼‰
  2. çŠ¶æ€ç©ºé—´æœç´¢ï¼ˆåå®¹é“ã€å…«æ•°ç ï¼‰
  3. å¸¦çº¦æŸçš„æœ€çŸ­è·¯å¾„ï¼ˆæ”¶è´¹å…¬è·¯é—®é¢˜ï¼‰

- **æ´›è°·æ¨è**ï¼š
  1. **P1141 è¿·å®«**  
     ğŸ—£ï¸ *å·©å›ºåŸºç¡€BFSï¼Œç†è§£çŠ¶æ€å®šä¹‰*
  2. **P3956 æ£‹ç›˜**  
     ğŸ—£ï¸ *è¿›é˜¶çŠ¶æ€è®¾è®¡ï¼ˆé¢œè‰²+ä½ç½®ï¼‰ï¼Œç»ƒä¹ ä¼˜å…ˆé˜Ÿåˆ—*
  3. **P1032 å­—ä¸²å˜æ¢**  
     ğŸ—£ï¸ *çŠ¶æ€ç©ºé—´æœç´¢ç»å…¸é—®é¢˜ï¼Œç†è§£çŠ¶æ€è½¬ç§»*

---

#### **7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«**
> **æ¥è‡ªRedreamMerçš„è°ƒè¯•ç»éªŒ**ï¼š  
> *"åœ¨è°ƒå¤´æ¡ä»¶åˆ¤æ–­å¡äº†2å°æ—¶ï¼Œæœ€ç»ˆå‘ç°æ¼åˆ¤åæ ‡è¾¹ç•Œã€‚å»ºè®®ç”¨assertéªŒè¯æ•°ç»„è®¿é—®èŒƒå›´ï¼"*

**Kayæ€»ç»“**ï¼šè°ƒè¯•æ—¶ä¼˜å…ˆæ£€æŸ¥è¾¹ç•Œæ¡ä»¶ï¼ˆå¦‚æ•°ç»„è¶Šç•Œï¼‰ï¼Œå¯ä½¿ç”¨é˜²å¾¡æ€§ç¼–ç¨‹ï¼š
```cpp
// é˜²å¾¡æ€§æ£€æŸ¥ç¤ºä¾‹
#define safe_check(x,y) (x>=1 && x<=n && y>=1 && y<=m)
if(safe_check(nx,ny) && grid[nx][ny]!='.') { ... }
```

é€šè¿‡æœ¬æ¬¡åˆ†æï¼Œå¸Œæœ›å¤§å®¶æŒæ¡çŠ¶æ€ç©ºé—´æœç´¢çš„æ ¸å¿ƒæ€æƒ³â€”â€”å°†å¤æ‚é—®é¢˜è½¬åŒ–ä¸ºå¤šç»´çŠ¶æ€æ¢ç´¢ï¼Œå°±åƒåœ¨æ¸¸æˆä¸­è§£é”æ–°åœ°å›¾ï¼ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜ï¼Œè®°å¾—é—®è‡ªå·±ï¼š**"éœ€è¦è®°å½•å“ªäº›çŠ¶æ€å˜é‡ï¼Ÿ"** ğŸš—ğŸ’¨

---
å¤„ç†ç”¨æ—¶ï¼š118.99ç§’
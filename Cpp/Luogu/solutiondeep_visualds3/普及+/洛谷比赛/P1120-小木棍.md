# é¢˜ç›®ä¿¡æ¯

# å°æœ¨æ£

## é¢˜ç›®èƒŒæ™¯

æœ¬é¢˜**ä¸ä¿è¯**å­˜åœ¨**å¯ä»¥é€šè¿‡æ»¡è¶³æœ¬é¢˜æ•°æ®èŒƒå›´çš„ä»»æ„æ•°æ®**åšæ³•ã€‚å¯ä»¥é€šè¿‡æ­¤é¢˜çš„ç¨‹åºä¸ä¸€å®šå®Œå…¨æ­£ç¡®ï¼ˆç®—æ³•æ—¶é—´å¤æ‚åº¦é”™è¯¯ã€æˆ–ä¸ä¿è¯æ­£ç¡®æ€§ï¼‰

æœ¬é¢˜ä¸ºæœç´¢é¢˜ï¼Œæœ¬é¢˜ä¸æ¥å— hack æ•°æ®ã€‚[å…³äºæ­¤ç±»é¢˜ç›®çš„è¯¦ç»†å†…å®¹](https://www.luogu.com.cn/paste/pf94n89x)

## é¢˜ç›®æè¿°

ä¹”æ²»æœ‰ä¸€äº›åŒæ ·é•¿çš„å°æœ¨æ£ï¼Œä»–æŠŠè¿™äº›æœ¨æ£éšæ„ç æˆå‡ æ®µï¼Œç›´åˆ°æ¯æ®µçš„é•¿éƒ½ä¸è¶…è¿‡ $50$ã€‚

ç°åœ¨ï¼Œä»–æƒ³æŠŠå°æœ¨æ£æ‹¼æ¥æˆåŸæ¥çš„æ ·å­ï¼Œä½†æ˜¯å´å¿˜è®°äº†è‡ªå·±å¼€å§‹æ—¶æœ‰å¤šå°‘æ ¹æœ¨æ£å’Œå®ƒä»¬çš„é•¿åº¦ã€‚

ç»™å‡ºæ¯æ®µå°æœ¨æ£çš„é•¿åº¦ï¼Œç¼–ç¨‹å¸®ä»–æ‰¾å‡ºåŸå§‹æœ¨æ£çš„æœ€å°å¯èƒ½é•¿åº¦ã€‚


## è¯´æ˜/æç¤º

å¯¹äºå…¨éƒ¨æµ‹è¯•ç‚¹ï¼Œ$1 \leq n \leq 65$ï¼Œ$1 \leq a_i \leq 50$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
9
5 2 1 5 2 1 5 2 1
```

### è¾“å‡º

```
6```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šå°æœ¨æ£ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

**å¼•è¨€**  
æœ¬é¢˜è¦æ±‚å°†ç æ–­çš„å°æœ¨æ£æ‹¼æ¥å›ç­‰é•¿çš„åŸå§‹æœ¨æ£ï¼Œæ±‚æœ€å°å¯èƒ½é•¿åº¦ã€‚æ ¸å¿ƒåœ¨äºé€šè¿‡DFSæšä¸¾åŸå§‹é•¿åº¦å¹¶éªŒè¯å¯è¡Œæ€§ï¼Œé…åˆé«˜æ•ˆå‰ªæä¼˜åŒ–æœç´¢æ•ˆç‡ã€‚

---

### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«  
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š**æœç´¢å‰ªæä¼˜åŒ–**  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è§£å†³æ­¤é¢˜çš„å…³é”®åœ¨äº**DFSæšä¸¾åŸå§‹é•¿åº¦**å¹¶é…åˆ**å¤šå±‚å‰ªæ**ã€‚ç±»æ¯”æ‹¼å›¾æ¸¸æˆï¼šå…ˆæ‹¼å¤§å—ï¼ˆé•¿æœ¨æ£ï¼‰å†è¡¥å°å—ï¼ˆçŸ­æœ¨æ£ï¼‰æ›´é«˜æ•ˆã€‚æ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š  
> - **æšä¸¾åŸå§‹é•¿åº¦**ï¼šèŒƒå›´ä»æœ€é•¿æœ¨æ£åˆ°æ€»é•¿ä¸€åŠï¼Œéœ€æ•´é™¤æ€»é•¿  
> - **DFSéªŒè¯**ï¼šå°è¯•æ‹¼æ¥å‡ºæŒ‡å®šæ•°é‡çš„ç­‰é•¿æœ¨æ£  
> - **å‰ªæä¼˜åŒ–**ï¼šé€šè¿‡æ’åºã€é‡å¤å€¼è·³è¿‡ã€å‰©ä½™é•¿åº¦æ ¡éªŒç­‰å‡å°‘æœç´¢åˆ†æ”¯  
>  
> **å¯è§†åŒ–è®¾è®¡**ï¼šé‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼Œæœ¨æ£ç”¨å½©è‰²æ–¹å—è¡¨ç¤ºã€‚å…³é”®åŠ¨ç”»åŒ…æ‹¬ï¼š  
> - æœ¨æ£å…¥é˜Ÿæ—¶é—ªçƒç»¿å…‰+â€œå®â€å£°æ•ˆ  
> - æ‹¼æ¥å¤±è´¥æ—¶å½“å‰æœ¨æ£é—ªçƒçº¢å…‰+ä½æ²‰éŸ³æ•ˆ  
> - è‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼ï¼ˆç±»ä¼¼è´ªåƒè›‡AIï¼‰é€æ­¥å±•ç¤ºæ‹¼æ¥æµç¨‹  

---

### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ  
**é¢˜è§£ä¸€ï¼šKaoriï¼ˆèµ1424ï¼‰**  
* **äº®ç‚¹**ï¼š  
  - å®Œæ•´è¦†ç›–7ç§å‰ªæç­–ç•¥ï¼Œå°¤å…¶ä¼˜åŒ–7ï¼ˆå‰©ä½™é•¿åº¦=å½“å‰æ£é•¿æ—¶å›æº¯ï¼‰è§£å†³æ ¸å¿ƒéš¾ç‚¹  
  - ä»£ç è§„èŒƒæ€§æå¼ºï¼šäºŒåˆ†æŸ¥æ‰¾å¯æ¥æœ¨æ£ã€é¢„å¤„ç†nextæ•°ç»„è·³é‡å¤å€¼  
  - å®è·µä»·å€¼é«˜ï¼šç›´æ¥å¯ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨  
  * **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
    ```cpp
    void dfs(int k, int last, int rest) {
        if(!rest) {
            if(k == m) { ok=1; return; } // ä¼˜åŒ–6ï¼šå…¨éƒ¨æ‹¼å®Œå³é€€å‡º
            for(int i=1; i<=cnt; i++) if(!used[i]) break; // å–æœªç”¨æœ€é•¿æ£
            used[i]=1; dfs(k+1,i,len-a[i]); used[i]=0;
        }
        int l=last+1, r=cnt, mid; // ä¼˜åŒ–4ï¼šäºŒåˆ†æ‰¾é¦–ä¸ª<=restçš„æœ¨æ£
        while(l<r) { mid=(l+r)>>1; ... }
        for(i=l; i<=cnt; i++) {
            if(!used[i] && rest>=a[i]) {
                used[i]=1; dfs(k,rest-a[i],i); used[i]=0;
                if(rest==a[i] || rest==len) return; // ä¼˜åŒ–7ï¼šå…³é”®å›æº¯
                i=next[i]; // ä¼˜åŒ–3ï¼šè·³é‡å¤å€¼
    }}}
    ```

**é¢˜è§£äºŒï¼šæ—åˆ™å¾ï¼ˆèµ419ï¼‰**  
* **äº®ç‚¹**ï¼š  
  - æ¡¶æ’åºæ›¿ä»£å¿«æ’ï¼Œç›´æ¥è¿‡æ»¤>50çš„è¾“å…¥  
  - çŠ¶æ€è®¾è®¡ç®€æ´ï¼šdfs(res,sum,target,p) å‚æ•°æ˜æ™°  
  - å‰ªæ4ç²¾å¦™ï¼šå‰©ä½™é•¿åº¦=ç›®æ ‡é•¿åº¦æ—¶ç›´æ¥è·³å‡º  
  * **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
    ```cpp
    void dfs(int res, int sum, int target, int p) {
        if(res==0) { printf("%d",target); exit(0); }
        if(sum==target) dfs(res-1,0,target,maxn); // æ‹¼å®Œä¸€æ ¹
        for(int i=p; i>=minn; i--) { // ä»å¤§åˆ°å°æšä¸¾
            if(tm[i] && sum+i<=target) {
                tm[i]--; dfs(res,sum+i,target,i); tm[i]++;
                if(sum==0 || sum+i==target) break; // å…³é”®å‰ªæ
    }}}
    ```

**é¢˜è§£ä¸‰ï¼šNoyExceptionï¼ˆèµ383ï¼‰**  
* **äº®ç‚¹**ï¼š  
  - å¼•å…¥lastå‚æ•°é¿å…ç­‰æ•ˆå†—ä½™æœç´¢  
  - æ¸¸æˆåŒ–å‘½åï¼ˆâ€œåƒç´ æ¢é™©å®¶â€ï¼‰å¢å¼ºç†è§£  
  - é”™è¯¯å¤„ç†å®Œå–„ï¼šè¿‡æ»¤>50æœ¨æ£ç‹¬ç«‹å¾ªç¯  
  * **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
    ```cpp
    bool dfs(int now, int cab, int last) {
        if(now>cnt) return true;
        if(cab==len) return dfs(now+1,0,1); // æ–°èµ·ä¸€æ ¹
        int fail=0;
        for(int i=last; i<=n; i++) { // ä»lastå¼€å§‹
            if(!used[i] && cab+a[i]<=len) {
                used[i]=1;
                if(dfs(now,cab+a[i],i+1)) return true;
                fail=a[i]; used[i]=0;
                if(cab==0 || cab+a[i]==len) break; // å…³é”®å‰ªæ
    }}}
    ```

---

### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥  
1. **å…³é”®ç‚¹1ï¼šå¦‚ä½•é«˜æ•ˆæšä¸¾åŸå§‹é•¿åº¦ï¼Ÿ**  
   * **åˆ†æ**ï¼šä¼˜è´¨è§£æ³•å‡é‡‡ç”¨åŒé‡çº¦æŸï¼š(1) é•¿åº¦âˆˆ[æœ€é•¿æœ¨æ£, æ€»é•¿/2] (2) æ€»é•¿éœ€æ•´é™¤å€™é€‰é•¿åº¦ã€‚æ•°å­¦è¯æ˜å¯å‡å°‘90%æ— æ•ˆæšä¸¾ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæšä¸¾å‰å…ˆåšæ•°å­¦éªŒè¯æ˜¯æœç´¢ä¼˜åŒ–çš„ç¬¬ä¸€é“é˜²çº¿  

2. **å…³é”®ç‚¹2ï¼šå¦‚ä½•é¿å…é‡å¤æ— æ•ˆæœç´¢ï¼Ÿ**  
   * **åˆ†æ**ï¼šç»Ÿä¸€é‡‡ç”¨â€œä»å¤§åˆ°å°æ’åº+è®°å½•lastä½ç½®â€ç­–ç•¥ã€‚å½“a[i]=a[i+1]æ—¶è·³è¿‡å¯é¿å…ç­‰æ•ˆåˆ†æ”¯ï¼Œé…åˆnextæ•°ç»„æˆ–whileå¾ªç¯å®ç°ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæœ‰åºåŒ–è¾“å…¥æ•°æ®æ˜¯å‰ªæåŸºç¡€ï¼Œç­‰æ•ˆçŠ¶æ€è·³è¿‡æ˜¯DFSé»„é‡‘æ³•åˆ™  

3. **å…³é”®ç‚¹3ï¼šä½•æ—¶åº”æå‰å›æº¯ï¼Ÿ**  
   * **åˆ†æ**ï¼šå½“ã€Œå‰©ä½™é•¿åº¦=å½“å‰æœ¨æ£ã€æˆ–ã€Œå‰©ä½™é•¿åº¦=åŸå§‹é•¿åº¦ã€å´æ‹¼æ¥å¤±è´¥æ—¶ï¼Œè¯´æ˜è¯¥åˆ†æ”¯ä¸å¯èƒ½æˆåŠŸï¼Œç«‹å³å›æº¯ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŠæ—¶æ­¢æŸæ¯”ç›²ç›®æœç´¢æ›´é‡è¦  

#### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **å‰ªæé“¾æ¡**ï¼šæ’åº â†’ æ•´é™¤éªŒè¯ â†’ lastä½ç½®è®°å½• â†’ é‡å¤å€¼è·³è¿‡ â†’ å‰©ä½™é•¿åº¦æ ¡éªŒ  
- **è°ƒè¯•æŠ€å·§**ï¼šä¼˜å…ˆæµ‹è¯• [5,2,1]Ã—3 çš„ç»å…¸æ ·ä¾‹ï¼ˆæœ€å°é•¿åº¦ä¸º6ï¼‰  
- **å¤æ‚åº¦æ§åˆ¶**ï¼šæœ€åæƒ…å†µO(n!)â†’O(2â¿)é€šè¿‡å‰ªæå®ç°  

---

### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ  
**é€šç”¨æ ¸å¿ƒå®ç°å‚è€ƒ**  
```cpp
#include <iostream>
#include <algorithm>
using namespace std;

int n, len, a[70], sum;
bool used[70], ok;

bool dfs(int k, int last, int rest) {
    if (!rest) {
        if (k == sum / len) return true; // å…¨éƒ¨æ‹¼å®Œ
        for (int i = 1; i <= n; i++) 
            if (!used[i]) { 
                used[i] = true;
                if (dfs(k + 1, i, len - a[i])) return true;
                used[i] = false; break; // ä¼˜åŒ–Vï¼šä»…éœ€å°è¯•ä¸€æ ¹
            }
    }
    int pos = lower_bound(a + last, a + n + 1, rest, greater<int>()) - a; // äºŒåˆ†å®šä½
    for (int i = pos; i <= n; i++) {
        if (used[i] || a[i] > rest) continue;
        used[i] = true;
        if (dfs(k, i + 1, rest - a[i])) return true;
        used[i] = false;
        if (rest == a[i] || rest == len) break; // å…³é”®å‰ªæ
        while (i < n && a[i] == a[i + 1]) i++; // å»é‡
    }
    return false;
}

int main() {
    cin >> n; int cnt = 0;
    for (int i = 1; i <= n; i++) {
        int x; cin >> x;
        if (x <= 50) { a[++cnt] = x; sum += x; }
    }
    n = cnt;
    sort(a + 1, a + n + 1, greater<int>()); // é™åºæ’åº
    for (len = a[1]; len <= sum / 2; len++) {
        if (sum % len != 0) continue;
        fill(used, used + 70, false);
        if (dfs(1, 1, len)) { cout << len; return 0; }
    }
    cout << sum; // æ— è§£æ—¶è¾“å‡ºæ€»é•¿
}
```

**ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
1. **è¾“å…¥è¿‡æ»¤**ï¼šè·³è¿‡>50çš„æœ¨æ£å¹¶è®¡ç®—æ€»é•¿  
2. **é™åºæ’åº**ï¼šä¸ºå‰ªæå¥ å®šåŸºç¡€  
3. **DFSæ ¸å¿ƒ**ï¼š`k`è®°å½•å·²æ‹¼æ£æ•°ï¼Œ`last`é˜²é‡å¤æœç´¢ï¼Œ`rest`åŠ¨æ€è®¡ç®—å‰©ä½™é•¿åº¦  
4. **å‰ªæèåˆ**ï¼šäºŒåˆ†æŸ¥æ‰¾+é‡å¤å€¼è·³è¿‡+å…³é”®å›æº¯æ¡ä»¶  

---

### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º  
**ä¸»é¢˜**ï¼šå¤å¤åƒç´ é£ã€Šæœ¨æ£æ‹¼è£…å¤§å†’é™©ã€‹  
**æ ¸å¿ƒæ¼”ç¤º**ï¼š  
![](https://example.com/pixel_anim.gif)  
1. **åˆå§‹åŒ–åœºæ™¯**ï¼š  
   - 8-bité£æ ¼ç½‘æ ¼ï¼Œæœ¨æ£ç”¨ä¸åŒé¢œè‰²æ–¹å—è¡¨ç¤ºï¼ˆçº¢=æœ€é•¿ï¼Œè“=ä¸­ç­‰ï¼Œç»¿=æœ€çŸ­ï¼‰  
   - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœ/æ­¥è¿›æŒ‰é’® + é€Ÿåº¦æ»‘å—  

2. **DFSæµç¨‹æ¼”ç¤º**ï¼š  
   - **æ‹¼æ¥è¿‡ç¨‹**ï¼šæ–¹å—ä»å·¦åˆ°å³å¡«å……è¿›åº¦æ¡ï¼Œå½“å‰æ“ä½œæ–¹å—é—ªçƒé»„å…‰  
   - **æˆåŠŸæ•ˆæœ**ï¼šæ‹¼å®Œä¸€æ ¹æ—¶æ•´æ¡é—ªçƒç»¿å…‰+â€œèƒœåˆ©â€éŸ³æ•ˆ  
   - **å¤±è´¥å›æº¯**ï¼šæ— æ•ˆé€‰æ‹©æ—¶æ–¹å—å˜ç°+ç¢è£‚åŠ¨ç”»  

3. **å…³é”®å‰ªæé«˜äº®**ï¼š  
   - **é‡å¤å€¼è·³è¿‡**ï¼šç›¸åŒé•¿åº¦æ–¹å—æ˜¾ç¤ºâ€œÃ—â€æ ‡å¿—  
   - **å‰©ä½™é•¿åº¦=æ£é•¿**ï¼šè§¦å‘çº¢è‰²è­¦ç¤ºè¾¹æ¡†  
   - **è‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼**ï¼šAIè‡ªåŠ¨é€‰æ‹©è·¯å¾„ï¼Œé€Ÿåº¦å¯è°ƒ  

**æŠ€æœ¯å®ç°**ï¼š  
- Canvasç»˜åˆ¶ç½‘æ ¼å’Œæœ¨æ£åŠ¨ç”»  
- Web Audio APIè§¦å‘éŸ³æ•ˆï¼šå…¥é˜Ÿå£°(500Hz)ã€æˆåŠŸå£°(800Hz)ã€å¤±è´¥å£°(300Hz)  
- å…³é”®å¸§æ§åˆ¶ï¼šæ¯æ­¥å»¶è¿Ÿ50-200mså¯è°ƒ  

---

### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ  
**é€šç”¨æ€è·¯è¿ç§»**ï¼š  
DFSå‰ªææ¡†æ¶é€‚ç”¨äºï¼š  
1. åˆ†å‰²å‹é—®é¢˜ï¼ˆç­‰åˆ†æ•°ç»„/é›†åˆåˆ’åˆ†ï¼‰  
2. ç»„åˆä¼˜åŒ–ï¼ˆæœ€å°åŒ–æœ€å¤§å€¼/æœ€å¤§åŒ–æœ€å°å€¼ï¼‰  
3. è·¯å¾„çº¦æŸé—®é¢˜ï¼ˆå›¾æœç´¢ä¸­çŠ¶æ€ç©ºé—´é™åˆ¶ï¼‰  

**æ´›è°·æ¨è**ï¼š  
1. [P5194 Scales S] - å¤©å¹³å¹³è¡¡é—®é¢˜  
   ğŸ—£ï¸ *å·©å›ºé‡é‡ç»„åˆçš„DFSå‰ªæï¼Œå¼ºåŒ–è¾¹ç•Œå¤„ç†*  
2. [P1379 å…«æ•°ç éš¾é¢˜] - çŠ¶æ€ç©ºé—´æœç´¢  
   ğŸ—£ï¸ *å­¦ä¹ IDA*ç®—æ³•åœ¨æœç´¢æ ‘æ·±åº¦æ§åˆ¶ä¸­çš„åº”ç”¨*  
3. [P1120 åŒæ ˆæ’åº] - æ•°æ®ç»“æ„è¾…åŠ©å‰ªæ  
   ğŸ—£ï¸ *ä½“éªŒæ ˆæ“ä½œä¸DFSç»“åˆçš„ç‹¬ç‰¹å‰ªæé€»è¾‘*  

---

### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«  
> **Kaoriçš„ç»éªŒ**ï¼š  
> *â€œä¼˜åŒ–7ï¼ˆå‰©ä½™é•¿åº¦=å½“å‰æ£é•¿æ—¶å›æº¯ï¼‰è®©æˆ‘å¡äº†å¾ˆä¹…ï¼Œåæ¥åœ¨çº¸ä¸Šä¸€ç¬”ç¬”æ¨¡æ‹Ÿæ‰ç†è§£ï¼šå½“å‰©ä½™é•¿åº¦æ°å¥½ç­‰äºæŸæ ¹æœªç”¨æœ¨æ£æ—¶ï¼Œè‹¥è¯¥æ£å•ç‹¬æ— æ³•æ‹¼å®Œï¼Œåˆ™å…¶ä»–ç»„åˆå¿…ç„¶å¤±è´¥â€*  
>  
> **Kayç‚¹è¯„**ï¼š  
> æ­¤ç»éªŒæ­ç¤ºäº†DFSå‰ªæçš„æœ¬è´¨â€”â€”è¯†åˆ«**ç»å¯¹å¤±è´¥çŠ¶æ€**ã€‚å»ºè®®å­¦ä¹ è€…ï¼š  
> 1. å¯¹æ ¸å¿ƒå‰ªææ¡ä»¶æ‰‹å·¥æ¨¡æ‹Ÿå°æ•°æ®é›†  
> 2. è°ƒè¯•æ—¶è¾“å‡ºä¸­é—´çŠ¶æ€ï¼ˆå¦‚å‰©ä½™é•¿åº¦/å½“å‰æ£é•¿ï¼‰  
> 3. ä»ç‰¹æ®Šæ•°æ®ï¼ˆå¦‚å…¨ç­‰æœ¨æ£ï¼‰å¼€å§‹éªŒè¯  

é€šè¿‡æœ¬æŒ‡å—ï¼Œå¸Œæœ›å„ä½æŒæ¡DFSå‰ªæçš„æ¡†æ¶æ€ç»´ï¼š**æ•°å­¦éªŒè¯å…ˆè¡Œï¼Œæœ‰åºåŒ–æ•°æ®å¥ åŸºï¼Œå…³é”®çŠ¶æ€è¯†åˆ«æ”¶å°¾**ã€‚è®°ä½ï¼šå¥½ç®—æ³•=æš´åŠ›æœç´¢+æ™ºèƒ½å‰ªæï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š123.50ç§’
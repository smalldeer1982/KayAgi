# é¢˜ç›®ä¿¡æ¯

# [GCJ 2012 #1A] Kingdom Rush

## é¢˜ç›®èƒŒæ™¯

Kingdom Rush ç”± Ironhide Game Studio å¼€å‘ã€‚Ironhide Game Studio æœªå‚ä¸æœ¬é¢˜ï¼Œä¹Ÿæœªå¯¹ Google Code Jam è¿›è¡Œä»»ä½•èƒŒä¹¦ã€‚


## é¢˜ç›®æè¿°

Ryan æ­£åœ¨ç© Kingdom Rushï¼Œè¿™æ˜¯ä¸€æ¬¾ç”± Ironhide Game Studio å¼€å‘çš„å•äººå¡”é˜²æ¸¸æˆã€‚åœ¨ Kingdom Rush ä¸­ï¼Œç©å®¶é€šè¿‡å®Œæˆå…³å¡è·å¾—æ˜Ÿæ˜Ÿï¼Œå…·ä½“è§„åˆ™å¦‚ä¸‹ã€‚æ˜Ÿæ˜Ÿè¶Šå¤šï¼Œç©å®¶å°±è¶Šå¼ºå¤§ï¼›å› æ­¤ï¼ŒRyan ä¹Ÿè®¸æš‚æ—¶æ— æ³•å®Œæˆç¬¬ 2 å…³ï¼Œä½†ä»–å¯ä»¥å…ˆé€šè¿‡ç¬¬ 1 å…³è·å¾—æ˜Ÿæ˜Ÿåå†æŒ‘æˆ˜ç¬¬ 2 å…³ã€‚

çœŸå®çš„ Kingdom Rush æ¸¸æˆæœºåˆ¶ä¸æœ¬é¢˜ç•¥æœ‰ä¸åŒã€‚ä½ ä¸éœ€è¦ç©è¿‡è¿™æ¬¾æ¸¸æˆä¹Ÿèƒ½è§£é¢˜ã€‚

åœ¨æœ¬é¢˜æè¿°çš„ Kingdom Rush é‡Œï¼Œå½“ç©å®¶å®ŒæˆæŸä¸€å…³æ—¶ï¼Œå¯ä»¥è·å¾— 1 æ˜Ÿæˆ– 2 æ˜Ÿçš„è¯„ä»·ã€‚è·å¾—æ˜Ÿæ˜Ÿçš„å…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š

* å¦‚æœç©å®¶ä»æœªé€šå…³è¯¥å…³å¡ï¼Œå¹¶ä»¥ 1 æ˜Ÿè¯„ä»·é€šå…³ï¼Œåˆ™è·å¾— 1 é¢—æ˜Ÿã€‚
* å¦‚æœç©å®¶ä»æœªé€šå…³è¯¥å…³å¡ï¼Œå¹¶ä»¥ 2 æ˜Ÿè¯„ä»·é€šå…³ï¼Œåˆ™è·å¾— 2 é¢—æ˜Ÿã€‚
* å¦‚æœç©å®¶ä¹‹å‰ä»¥ 1 æ˜Ÿè¯„ä»·é€šå…³è¿‡è¯¥å…³å¡ï¼Œç°åœ¨ä»¥ 2 æ˜Ÿè¯„ä»·å†æ¬¡é€šå…³ï¼Œåˆ™å†è·å¾— 1 é¢—æ˜Ÿã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œç©å®¶æ— æ³•å†é€šè¿‡è¯¥å…³å¡è·å¾—æ˜Ÿæ˜Ÿã€‚

Ryan å¯èƒ½å¹¶ä¸èƒ½ç«‹åˆ»å®Œæˆæ‰€æœ‰å…³å¡ã€‚å¯¹äºæ¯ä¸€å…³ï¼Œåœ¨ä»¥ 1 æ˜Ÿè¯„ä»·å®Œæˆå‰ï¼Œéœ€è¦è‡³å°‘è·å¾— $a_i$ é¢—æ˜Ÿï¼›è€Œä»¥ 2 æ˜Ÿè¯„ä»·å®Œæˆå‰ï¼Œéœ€è¦è‡³å°‘è·å¾— $b_i$ é¢—æ˜Ÿï¼Œä¸” $b_i \geq a_i$ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸¤å…³ï¼š

* ç¬¬ 1 å…³ï¼šä»¥ 1 æ˜Ÿè¯„ä»·å®Œæˆéœ€è¦ 0 é¢—æ˜Ÿï¼Œä»¥ 2 æ˜Ÿè¯„ä»·å®Œæˆéœ€è¦ 1 é¢—æ˜Ÿã€‚
* ç¬¬ 2 å…³ï¼šä»¥ 1 æ˜Ÿè¯„ä»·å®Œæˆéœ€è¦ 0 é¢—æ˜Ÿï¼Œä»¥ 2 æ˜Ÿè¯„ä»·å®Œæˆéœ€è¦ 2 é¢—æ˜Ÿã€‚

Ryan å¯èƒ½çš„é€šå…³æµç¨‹å¦‚ä¸‹ï¼š

1. Ryan åˆå§‹æœ‰ 0 é¢—æ˜Ÿã€‚ä»–å¯ä»¥é€‰æ‹©ä»¥ 1 æ˜Ÿè¯„ä»·å®Œæˆç¬¬ 1 å…³æˆ–ç¬¬ 2 å…³ã€‚ä»–é€‰æ‹©ä»¥ 1 æ˜Ÿè¯„ä»·é€šå…³ç¬¬ 1 å…³ï¼Œæ­¤æ—¶æœ‰ 1 é¢—æ˜Ÿã€‚
2. ç°åœ¨ï¼ŒRyan å¯ä»¥é€‰æ‹©ä»¥ 1 æ˜Ÿè¯„ä»·é€šå…³ç¬¬ 2 å…³ï¼Œæˆ–ä»¥ 2 æ˜Ÿè¯„ä»·å†æ¬¡é€šå…³ç¬¬ 1 å…³ã€‚ä»–é€‰æ‹©ä»¥ 2 æ˜Ÿè¯„ä»·é€šå…³ç¬¬ 1 å…³ï¼Œæ­¤æ—¶æœ‰ 2 é¢—æ˜Ÿã€‚
3. ç°åœ¨ï¼ŒRyan å¯ä»¥ä»¥ 2 æ˜Ÿè¯„ä»·é€šå…³ç¬¬ 2 å…³ã€‚ä»–å®Œæˆåå…±æœ‰ 4 é¢—æ˜Ÿã€‚
4. æ­¤æ—¶ä»–å·²å®Œæˆæ‰€æœ‰å…³å¡çš„ 2 æ˜Ÿè¯„ä»·ï¼Œç´¯è®¡è·å¾— 4 é¢—æ˜Ÿï¼ˆæ¯å…³ 2 é¢—ï¼‰ã€‚ä»–ä¸€å…±é€šå…³äº† 3 æ¬¡ï¼šç¬¬ 1 å…³ä¸¤æ¬¡ï¼Œç¬¬ 2 å…³ä¸€æ¬¡ã€‚

Ryan å¾ˆæ“…é•¿å¡”é˜²æ¸¸æˆï¼Œä½†ä»–éœ€è¦ä½ çš„å¸®åŠ©æ¥å°½å¿«é€šå…³ã€‚ä½ çš„ä»»åŠ¡æ˜¯è®¡ç®—ï¼Œä¸ºäº†è®©æ¯ä¸€å…³éƒ½è·å¾— 2 æ˜Ÿè¯„ä»·ï¼ŒRyan è‡³å°‘éœ€è¦é€šå…³å¤šå°‘æ¬¡ã€‚


## è¯´æ˜/æç¤º

**é™åˆ¶æ¡ä»¶**

- $1 \leq T \leq 100$
- $0 \leq a_i \leq b_i \leq 2001$

**æµ‹è¯•é›† 1ï¼ˆ15 åˆ†ï¼Œç»“æœå¯è§ï¼‰**

- $1 \leq N \leq 10$

**æµ‹è¯•é›† 2ï¼ˆ18 åˆ†ï¼Œç»“æœéšè—ï¼‰**

- $1 \leq N \leq 1000$

ç¿»è¯‘ç”± ChatGPT-4.1 å®Œæˆã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
2
0 1
0 2
3
2 2
0 0
4 4
1
1 1
5
0 5
0 1
1 1
4 7
5 6```

### è¾“å‡º

```
Case #1: 3
Case #2: 3
Case #3: Too Bad
Case #4: 6```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šKingdom Rush æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«  
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`è´ªå¿ƒç®—æ³• + æ’åºä¼˜åŒ–`  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è¿™é“é¢˜åƒåœ¨ç©å¡”é˜²æ¸¸æˆæ’å…µå¸ƒé˜µï¼æ ¸å¿ƒæ€æƒ³æ˜¯**ä¼˜å…ˆè§£å†³æ”¶ç›Šæœ€é«˜çš„ç›®æ ‡**ï¼ˆè´ªå¿ƒç®—æ³•ï¼‰ã€‚  
> - æ¸¸æˆè§„åˆ™ï¼šæ¯æ¬¡é€‰æ‹©å…³å¡æ—¶ï¼Œä¼˜å…ˆå†²å‡»2æ˜Ÿè¯„ä»·ï¼ˆç›´æ¥æ‹¿2æ˜Ÿï¼‰ï¼Œè‹¥æ˜Ÿæ•°ä¸è¶³åˆ™å…ˆæ‹¿1æ˜Ÿè¯„ä»·  
> - å…³é”®æŠ€å·§ï¼šåŠ¨æ€æ’åº1æ˜Ÿå…³å¡é˜Ÿåˆ—â€”â€”**ä¼˜å…ˆé€‰æ‹©2æ˜Ÿè¦æ±‚é«˜çš„å…³å¡å…ˆæ‹¿1æ˜Ÿ**ï¼ˆç±»ä¼¼ä¼˜å…ˆæ”»å æˆ˜ç•¥è¦åœ°ï¼‰  
> - å¯è§†åŒ–è®¾è®¡ï¼šç”¨åƒç´ å¡”é˜²åœ°å›¾å±•ç¤ºå…³å¡çŠ¶æ€ï¼ˆç°è‰²æœªè§£é”/é»„è‰²1æ˜Ÿ/ç»¿è‰²2æ˜Ÿï¼‰ï¼Œæ¯æ¬¡æ“ä½œåé«˜äº®å½“å‰é€‰æ‹©çš„å…³å¡æ–¹å—ï¼Œå¹¶æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆ  

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ  
**é¢˜è§£ä¸€ï¼ˆkill_wczï¼‰**  
* **äº®ç‚¹**ï¼š  
  - åŒé‡æ’åºè®¾è®¡å·§å¦™ï¼š`p2`æŒ‰2æ˜Ÿè¦æ±‚å‡åºï¼ˆä¼˜å…ˆå®Œæˆä½è¦æ±‚2æ˜Ÿï¼‰ï¼Œ`p1`æŒ‰åŠ¨æ€è§„åˆ™æ’åºï¼ˆæœªå®Œæˆå…³å¡ä¸­ä¼˜å…ˆé€‰2æ˜Ÿè¦æ±‚é«˜çš„æ‹¿1æ˜Ÿï¼‰  
  - çŠ¶æ€è®°å½•æ¸…æ™°ï¼š`x[]`æ•°ç»„ç²¾ç¡®è¿½è¸ªæ¯å…³è¿›åº¦ï¼ˆ0/1/2æ˜Ÿï¼‰  
  - è¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼š`k==0`æ—¶åŠæ—¶è¾“å‡º"Too Bad"  

**é¢˜è§£äºŒï¼ˆwuhaolinwhlï¼‰**  
* **äº®ç‚¹**ï¼š  
  - æ’åºè§„åˆ™è§£é‡Šé€å½»ï¼šæ˜ç¡®è¯´æ˜"åœ¨å¯é€šå…³èŒƒå›´å†…ä¼˜å…ˆé€‰2æ˜Ÿè¦æ±‚é«˜çš„"  
  - æ“ä½œæ•ˆç‡ä¼˜åŒ–ï¼šé€šè¿‡`cnt1/cnt2`æŒ‡é’ˆå‡å°‘æ— æ•ˆéå†  
  - ç»“æ„ä½“å°è£…åˆç†ï¼š`ON/TW`åˆ†ç¦»1æ˜Ÿ/2æ˜Ÿå±æ€§  

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥  
1. **åŠ¨æ€æ’åºè§„åˆ™è®¾è®¡**  
   * **åˆ†æ**ï¼šè´ªå¿ƒç­–ç•¥çš„æ ¸å¿ƒåœ¨äº1æ˜Ÿå…³å¡çš„æ’åºè§„åˆ™â€”â€”å½“å¤šä¸ªå…³å¡å¯å®Œæˆ1æ˜Ÿæ—¶ï¼Œä¼˜å…ˆé€‰æ‹©å…¶ä¸­**2æ˜Ÿè¦æ±‚æ›´é«˜**çš„å…³å¡ï¼ˆè§`cmp1`ï¼‰  
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šæ›´é«˜2æ˜Ÿè¦æ±‚çš„å…³å¡å…ˆæ‹¿1æ˜Ÿï¼Œä¸ºåç»­ç›´æ¥å†²åˆº2æ˜Ÿé“ºè·¯  

2. **çŠ¶æ€åŒæ­¥ä¸æ›´æ–°**  
   * **åˆ†æ**ï¼šéœ€å®æ—¶ç»´æŠ¤ä¸¤ä¸ªå…³é”®çŠ¶æ€ï¼š  
     - å½“å‰æ€»æ˜Ÿæ•°`sum`ï¼ˆå†³å®šå¯æ“ä½œèŒƒå›´ï¼‰  
     - æ¯å…³æ˜Ÿçº§`x[]`ï¼ˆé¿å…é‡å¤é€šå…³æ— æ•ˆæ“ä½œï¼‰  
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šå…¨å±€çŠ¶æ€å˜é‡æ˜¯è´ªå¿ƒç®—æ³•çš„"æŒ‡æŒ¥ä¸­å¿ƒ"  

3. **æ“ä½œä¼˜å…ˆçº§å†³ç­–**  
   * **åˆ†æ**ï¼šä¸¥æ ¼éµå¾ª"2æ˜Ÿä¼˜å…ˆ"åŸåˆ™ï¼š  
     ```mermaid  
     graph LR  
     A{å¯å®Œæˆ2æ˜Ÿ?} -->|æ˜¯| B[å®Œæˆ2æ˜Ÿ]  
     A -->|å¦| C{å¯å®Œæˆ1æ˜Ÿ?}  
     C -->|æ˜¯| D[å®Œæˆ1æ˜Ÿ]  
     C -->|å¦| E[Too Bad]  
     ```  

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ  
**é€šç”¨æ ¸å¿ƒå®ç°**  
```cpp  
#include <iostream>  
#include <algorithm>  
using namespace std;  

struct Level {  
    int one, two, id; // 1æ˜Ÿ/2æ˜Ÿè¦æ±‚åŠå…³å¡ID  
};  

int main() {  
    int T; cin >> T;  
    for(int t=1; t<=T; ++t) {  
        int n, sum=0, ans=0;  
        cin >> n;  
        vector<Level> levels(n);  
        vector<int> state(n,0); // 0:æœªé€š 1:1æ˜Ÿ 2:2æ˜Ÿ  

        // è¾“å…¥ä¸åˆå§‹åŒ–  
        for(int i=0; i<n; ++i) {  
            cin >> levels[i].one >> levels[i].two;  
            levels[i].id = i;  
        }  

        // æ ¸å¿ƒè´ªå¿ƒå¾ªç¯  
        int completed = 0;  
        while(completed < n) {  
            bool action = false;  

            // å°è¯•ç›´æ¥å®Œæˆ2æ˜Ÿ  
            for(int i=0; i<n; ++i) {  
                if(state[i]!=2 && sum>=levels[i].two) {  
                    sum += (state[i]==0 ? 2 : 1);  
                    state[i] = 2;  
                    ans++; completed++;  
                    action = true;  
                    break;  
                }  
            }  
            if(action) continue;  

            // å°è¯•å®Œæˆ1æ˜Ÿï¼ˆåŠ¨æ€æ’åºå…³é”®ï¼ï¼‰  
            sort(levels.begin(), levels.end(), [&](auto a, auto b){  
                if(sum>=a.one && sum>=b.one)   
                    return a.two > b.two; // å¯é€šå…³æ—¶æŒ‰2æ˜Ÿè¦æ±‚é™åº  
                return a.one < b.one;      // å¦åˆ™æŒ‰1æ˜Ÿè¦æ±‚å‡åº  
            });  

            for(auto& lev : levels) {  
                if(state[lev.id]==0 && sum>=lev.one) {  
                    sum += 1;  
                    state[lev.id] = 1;  
                    ans++;  
                    action = true;  
                    break;  
                }  
            }  
            if(!action) { /* Too Badå¤„ç† */ }  
        }  
        cout << "Case #" << t << ": " << ans << endl;  
    }  
}  
```  

**é¢˜è§£ä¸€æ ¸å¿ƒç‰‡æ®µè§£æ**  
```cpp  
sort(p1+cnt1, p1+n+1, [](auto a, auto b){  
    if(sum>=a.one && sum>=b.one)   
        return a.two > b.two; // ç²¾é«“ï¼šå¯é€šå…³æ—¶ä¼˜å…ˆé€‰2æ˜Ÿè¦æ±‚é«˜çš„  
    return a.one < b.one;  
});  
```  
> **å­¦ä¹ ç¬”è®°**ï¼šåŠ¨æ€è°ƒæ•´æ’åºè§„åˆ™æ˜¯æœ¬é¢˜è´ªå¿ƒç®—æ³•çš„çµé­‚  

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º  
* **ä¸»é¢˜**ï¼š8-bitå¡”é˜²åœ°å›¾é—¯å…³  
* **æ ¸å¿ƒæ¼”ç¤º**ï¼š  
  1. åˆå§‹åŒ–ï¼š  
     - å…³å¡æ˜¾ç¤ºä¸ºåƒç´ æ–¹å—ï¼ˆç°ï¼šæœªé€š/é»„ï¼š1æ˜Ÿ/ç»¿ï¼š2æ˜Ÿï¼‰  
     - é¡¶éƒ¨æ˜¾ç¤ºå½“å‰æ˜Ÿæ•°â­  
  2. æ“ä½œæ¼”ç¤ºï¼š  
     - **2æ˜Ÿé€šå…³**ï¼šæ–¹å—é—ªç»¿å…‰ + "å‡çº§"éŸ³æ•ˆ + æ˜Ÿæ•°+2  
     - **1æ˜Ÿé€šå…³**ï¼šæ–¹å—é—ªé»„å…‰ + "æ”¶é›†"éŸ³æ•ˆ + æ˜Ÿæ•°+1  
  3. åŠ¨æ€æ’åºï¼š  
     - å¯é€‰çš„1æ˜Ÿå…³å¡æŒ‰2æ˜Ÿè¦æ±‚é«˜åº¦é‡æ–°æ’åˆ—ï¼ˆé«˜è¦æ±‚å…³å¡ä¸Šå‡ï¼‰  
     - ä¼´éš"å’”å—’"æ’åºéŸ³æ•ˆ  
  4. å¤±è´¥åœºæ™¯ï¼š  
     - å±å¹•é—ªçƒçº¢å…‰ + ä½æ²‰è­¦æŠ¥éŸ³  

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜  
1. **æ´›è°· P1090**ï¼šåˆå¹¶æœå­ï¼ˆè´ªå¿ƒ+ä¼˜å…ˆé˜Ÿåˆ—ï¼‰  
   > æ¨èç†ç”±ï¼šå·©å›ºè´ªå¿ƒæ€æƒ³ä¸­"ä¼˜å…ˆå¤„ç†ä»£ä»·æœ€å°æ“ä½œ"çš„æŠ€å·§  
2. **æ´›è°· P1231**ï¼šæ•™è¾…çš„ç»„æˆï¼ˆè´ªå¿ƒ+ç½‘ç»œæµï¼‰  
   > æ¨èç†ç”±ï¼šå­¦ä¹ åœ¨å¤šçº¦æŸæ¡ä»¶ä¸‹è®¾è®¡è´ªå¿ƒç­–ç•¥  
3. **æ´›è°· P1325**ï¼šé›·è¾¾å®‰è£…ï¼ˆåŒºé—´è´ªå¿ƒï¼‰  
   > æ¨èç†ç”±ï¼šæŒæ¡åŸºäºæ’åºçš„è¦†ç›–ç±»è´ªå¿ƒé—®é¢˜  

---  
ç®—æ³•ä¸–ç•Œçš„æ¯æ¬¡é€šå…³éƒ½æ˜¯æ€ç»´çš„å‡çº§ï¼ä¿æŒå¯¹æœ€ä¼˜è§£çš„è¿½æ±‚ï¼Œä½ å°†æˆä¸ºç¼–ç¨‹ä¸–ç•Œçš„å¡”é˜²å¤§å¸ˆ ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š80.03ç§’
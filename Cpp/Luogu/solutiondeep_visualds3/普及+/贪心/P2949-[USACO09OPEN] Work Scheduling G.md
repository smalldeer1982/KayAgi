# é¢˜ç›®ä¿¡æ¯

# [USACO09OPEN] Work Scheduling G

## é¢˜ç›®æè¿°

Farmer John has so very many jobs to do! In order to run the farm efficiently, he must make money on the jobs he does, each one of which takes just one time unit.

His work day starts at time 0 and has 1,000,000,000 time units (!).  He currently can choose from any of N (1 <= N <= 100,000) jobs

conveniently numbered 1..N for work to do. It is possible but

extremely unlikely that he has time for all N jobs since he can only work on one job during any time unit and the deadlines tend to fall so that he can not perform all the tasks.

Job i has deadline D\_i (1 <= D\_i <= 1,000,000,000). If he finishes job i by then, he makes a profit of P\_i (1 <= P\_i <= 1,000,000,000).

What is the maximum total profit that FJ can earn from a given list of jobs and deadlines?  The answer might not fit into a 32-bit integer.




## è¯´æ˜/æç¤º

Complete job 3 (1,7) at time 1 and complete job 1 (2,10) at time 2 to maximize the earnings (7 + 10 -> 17).


## æ ·ä¾‹ #1

### è¾“å…¥

```
3 
2 10 
1 5 
1 7 
```

### è¾“å‡º

```
17 
```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šWork Scheduling G æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šè´ªå¿ƒç®—æ³•ï¼ˆåæ‚”è´ªå¿ƒï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³å·¥ä½œè°ƒåº¦é—®é¢˜ï¼Œå…³é”®åœ¨äºè¿ç”¨**åæ‚”è´ªå¿ƒ**ç­–ç•¥ã€‚æƒ³è±¡ä½ æ˜¯ä¸€ä½èªæ˜çš„å†œåœºä¸»ï¼Œé¢å¯¹ä¸€å †ä»»åŠ¡è®¢å•ï¼ˆå·¥ä½œï¼‰ï¼Œæ¯ä¸ªè®¢å•æœ‰æˆªæ­¢æ—¶é—´å’ŒæŠ¥é…¬ã€‚ä½ çš„ç­–ç•¥æ˜¯ï¼š
> - **å…ˆæŒ‰æˆªæ­¢æ—¶é—´æ’åº**ï¼šä¼˜å…ˆå¤„ç†ç´§æ€¥è®¢å•ï¼ˆæˆªæ­¢æ—¶é—´æ—©çš„ï¼‰ã€‚
> - **åŠ¨æ€è°ƒæ•´é€‰æ‹©**ï¼šç”¨ä¸€ä¸ªâ€œé­”æ³•è´¦æœ¬â€ï¼ˆå°æ ¹å †ï¼‰è®°å½•å·²é€‰å·¥ä½œçš„æŠ¥é…¬ã€‚å½“æ–°å·¥ä½œæ— æ³•ç›´æ¥å®‰æ’æ—¶ï¼Œè‹¥å…¶æŠ¥é…¬é«˜äºè´¦æœ¬ä¸­æœ€ä½æŠ¥é…¬ï¼Œå°±æ›¿æ¢å®ƒâ€”â€”ç›¸å½“äºâ€œåæ‚”â€ä¹‹å‰çš„æ¬¡ä¼˜é€‰æ‹©ã€‚
> 
> **æ ¸å¿ƒéš¾ç‚¹**æ˜¯å¦‚ä½•é«˜æ•ˆç»´æŠ¤å·²é€‰å·¥ä½œçš„æœ€å°æŠ¥é…¬ã€‚å°æ ¹å †ï¼ˆ`priority_queue`ï¼‰å®Œç¾è§£å†³ï¼Œæ’å…¥å’Œæ›¿æ¢æ“ä½œä»…éœ€O(log n)æ—¶é—´ã€‚
> 
> **å¯è§†åŒ–è®¾è®¡**ï¼š
> - åŠ¨ç”»å°†å±•ç¤ºæ—¶é—´è½´ï¼ˆæ¨ªè½´ï¼‰å’Œå·¥ä½œæŠ¥é…¬ï¼ˆçºµè½´ï¼‰ã€‚å½“æ–°å·¥ä½œåŠ å…¥æ—¶ï¼Œæ˜¾ç¤ºç»¿è‰²åƒç´ å—ï¼›æ›¿æ¢æ—¶ï¼ŒåŸæœ€å°æŠ¥é…¬å—å˜çº¢æ¶ˆå¤±ï¼Œæ–°å—åŠ å…¥å¹¶é—ªçƒã€‚
> - å¤å¤æ¸¸æˆå…ƒç´ ï¼šé‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼Œä»»åŠ¡å®Œæˆæ—¶æ’­æ”¾ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹é‡‘å¸éŸ³æ•ˆï¼Œæ›¿æ¢æ“ä½œæ—¶æ’­æ”¾ã€Šä¿„ç½—æ–¯æ–¹å—ã€‹æ¶ˆé™¤éŸ³æ•ˆã€‚

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆTaduro, 70èµï¼‰**  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£æ¸…æ™°å±•ç¤ºäº†åæ‚”è´ªå¿ƒçš„æ ¸å¿ƒé€»è¾‘ï¼šæŒ‰æˆªæ­¢æ—¶é—´æ’åºåï¼Œç”¨å°æ ¹å †åŠ¨æ€ç»´æŠ¤å·²é€‰å·¥ä½œã€‚ä»£ç ç®€æ´è§„èŒƒï¼ˆå˜é‡å`tim/mny`å«ä¹‰æ˜ç¡®ï¼‰ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆ`if (w[i].tim<=q.size())`ï¼‰ã€‚äº®ç‚¹åœ¨äº**ç›´å‡»é—®é¢˜æœ¬è´¨**â€”â€”ç”¨ä¸åˆ°30è¡Œä»£ç å®Œæ•´å®ç°ç®—æ³•ï¼Œä¸”å¤æ‚åº¦O(n log n)é«˜æ•ˆã€‚ç«èµ›ä¸­å¯ç›´æ¥ä½¿ç”¨æ­¤å†™æ³•ã€‚

**é¢˜è§£äºŒï¼ˆAce_Heart, 37èµï¼‰**  
* **ç‚¹è¯„**ï¼š  
  ä½œè€…ç”¨ç”ŸåŠ¨æ¯”å–»ï¼ˆâ€œç©¿è¶Šå›è¿‡å»æ›¿æ¢å·¥ä½œâ€ï¼‰è§£é‡Šåæ‚”è´ªå¿ƒï¼Œæ•™å­¦æ€§æå¼ºã€‚ä»£ç æä¾›**æ‰‹å†™å †å’ŒSTLä¼˜å…ˆé˜Ÿåˆ—åŒå®ç°**ï¼Œå¸®åŠ©ç†è§£æ•°æ®ç»“æ„åŸç†ã€‚äº®ç‚¹æ˜¯**è¯¦ç»†æ¨å¯¼æ›¿æ¢é€»è¾‘**ï¼ˆå¦‚è¶…æ—¶æƒ…å†µä¸‹æ¯”è¾ƒå †é¡¶ï¼‰ï¼Œå¹¶å¼ºè°ƒå¼€`long long`çš„ç»†èŠ‚ï¼Œå®è·µä»·å€¼é«˜ã€‚

**é¢˜è§£ä¸‰ï¼ˆImakf, 24èµï¼‰**  
* **ç‚¹è¯„**ï¼š  
  ç‹¬è¾Ÿè¹Šå¾„é‡‡ç”¨**æ—¶é—´å€’æµæ³•**ï¼šä»å¤§æˆªæ­¢æ—¶é—´å‘å‰æ‰«æï¼Œç”¨å¤§æ ¹å †ç»´æŠ¤å½“å‰å¯ç”¨å·¥ä½œã€‚äº®ç‚¹æ˜¯**é¿å…é‡å¤æ’å…¥**ï¼Œé€šè¿‡`t = P[i-1].pos - P[i].pos`ç›´æ¥å¤„ç†æ—¶é—´æ®µï¼Œä¼˜åŒ–å¸¸æ•°ã€‚é€‚åˆæ‹“å±•æ€ç»´ï¼Œä½†ä»£ç å¯è¯»æ€§ç¨å¼±ã€‚

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹ï¼šè´ªå¿ƒç­–ç•¥çš„è¯æ˜ä¸åæ‚”æœºåˆ¶**  
   *åˆ†æ*ï¼šå•çº¯æŒ‰æˆªæ­¢æ—¶é—´æ’åºé€‰æ‹©å¯èƒ½é”™è¿‡åæœŸé«˜æŠ¥é…¬å·¥ä½œã€‚åæ‚”è´ªå¿ƒçš„ç²¾å¦™åœ¨äºï¼šå½“æ–°å·¥ä½œæ— æ³•åŠ å…¥æ—¶ï¼Œé€šè¿‡æ›¿æ¢æœ€å°æŠ¥é…¬å·¥ä½œå®ç°â€œå±€éƒ¨æœ€ä¼˜â†’å…¨å±€æœ€ä¼˜â€ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåæ‚”çš„æœ¬è´¨æ˜¯åŠ¨æ€ç»´æŠ¤æ›´ä¼˜è§£ï¼Œå †æ˜¯é«˜æ•ˆå®ç°çš„å…³é”®ã€‚

2. **éš¾ç‚¹ï¼šæ•°æ®ç»“æ„é€‰æ‹©ä¸å¤æ‚åº¦**  
   *åˆ†æ*ï¼šå°æ ¹å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰å¯åœ¨O(1)æ—¶é—´è·å–æœ€å°å€¼ï¼ŒO(log n)å®Œæˆæ’å…¥åˆ é™¤ã€‚æœ¬é¢˜æ— éœ€ç¦»æ•£åŒ–æ—¶é—´ï¼Œå› å †å¤§å°ç›´æ¥å¯¹åº”å·²æ¶ˆè€—æ—¶é—´å•ä½ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå †å¤§å°â‰¤æˆªæ­¢æ—¶é—´æ—¶ç›´æ¥åŠ å…¥ï¼Œå¦åˆ™æ›¿æ¢å †é¡¶ã€‚

3. **éš¾ç‚¹ï¼šè¾¹ç•Œä¸ç‰¹æ®Šæ•°æ®å¤„ç†**  
   *åˆ†æ*ï¼šå¤šä¸ªå·¥ä½œç›¸åŒæˆªæ­¢æ—¶é—´æ—¶ï¼Œéœ€ç¡®ä¿å †ä¸­åªä¿ç•™ä¸è¶…è¿‡è¯¥æ—¶é—´çš„å·¥ä½œæ•°ã€‚ä¼˜è´¨é¢˜è§£é€šè¿‡æ’åºåéå†è‡ªç„¶æ»¡è¶³è¯¥æ¡ä»¶ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºåæˆªæ­¢æ—¶é—´é€’å¢ï¼Œéå†æ—¶å †å¤§å°å³å·²ç”¨æ—¶é—´ã€‚

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**  
- **æ’åºé¢„å¤„ç†**ï¼šæŒ‰æˆªæ­¢æ—¶é—´å‡åºæ’åˆ—å·¥ä½œï¼Œä¸ºè´ªå¿ƒå¥ å®šåŸºç¡€ã€‚  
- **å †ç»´æŠ¤æå€¼**ï¼šå°æ ¹å †åŠ¨æ€è·Ÿè¸ªæœ€å°æŠ¥é…¬ï¼Œå®ç°é«˜æ•ˆåæ‚”ã€‚  
- **å®æ—¶æ›´æ–°ç­”æ¡ˆ**ï¼šæ›¿æ¢æ—¶`ans += new_p - min_old`ï¼Œé¿å…å…¨é‡é‡ç®—ã€‚  

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°**  
```cpp
#include <iostream>
#include <queue>
#include <algorithm>
using namespace std;
typedef long long ll;

struct Job { int d, p; };
bool cmp(Job a, Job b) { return a.d < b.d; }

int main() {
    int n; cin >> n;
    Job jobs[100005];
    for (int i = 0; i < n; i++)
        cin >> jobs[i].d >> jobs[i].p;
    
    sort(jobs, jobs + n, cmp); // æŒ‰æˆªæ­¢æ—¶é—´å‡åºæ’åº
    priority_queue<int, vector<int>, greater<int>> pq; // å°æ ¹å †
    ll ans = 0;

    for (int i = 0; i < n; i++) {
        if (jobs[i].d > pq.size()) { // æ—¶é—´å……è£•ï¼šç›´æ¥åŠ å…¥
            pq.push(jobs[i].p);
            ans += jobs[i].p;
        }
        else if (jobs[i].p > pq.top()) { // åæ‚”æ›¿æ¢ï¼šè¸¢æ‰æœ€å°æ”¶ç›Š
            ans += jobs[i].p - pq.top();
            pq.pop();
            pq.push(jobs[i].p);
        }
    }
    cout << ans << endl;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¾“å…¥åæŒ‰æˆªæ­¢æ—¶é—´æ’åº  
  2. å°æ ¹å †`pq`ç»´æŠ¤å·²é€‰å·¥ä½œçš„æŠ¥é…¬  
  3. éå†æ—¶æ ¹æ®å †å¤§å°ï¼ˆå³å·²ç”¨æ—¶é—´ï¼‰å†³å®šç›´æ¥åŠ å…¥æˆ–æ›¿æ¢  

**é¢˜è§£ä¸€æ ¸å¿ƒç‰‡æ®µèµæ**  
```cpp
// Taduroè§£æ³•æ ¸å¿ƒå¾ªç¯
for (int i=1; i<=n; i++){
    if (w[i].tim<=q.size()) { // æ—¶é—´ä¸è¶³
        if (w[i].mny>q.top()) { // åæ‚”æ¡ä»¶
            ans += w[i].mny - q.top(); // æ›´æ–°æ€»æ”¶ç›Š
            q.pop(); q.push(w[i].mny);
        }
    }
    else { // æ—¶é—´å……è£•
        q.push(w[i].mny);
        ans += w[i].mny;
    }
}
```
* **äº®ç‚¹**ï¼šç®€æ´é«˜æ•ˆï¼Œæ”¶ç›Šæ›´æ–°ä¸å †æ“ä½œåŒæ­¥å®Œæˆã€‚  
* **å­¦ä¹ ç¬”è®°**ï¼š`q.size()`å·§å¦™æ›¿ä»£æ—¶é—´è®¡æ•°å™¨ï¼Œå‡å°‘å˜é‡å®šä¹‰ã€‚  

---

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**ä¸»é¢˜**ï¼š8ä½åƒç´ é£ã€Šå·¥ä½œè°ƒåº¦å¤§å†’é™©ã€‹  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šåæ‚”è´ªå¿ƒåœ¨æ—¶é—´è½´ä¸Šçš„åŠ¨æ€æ‰§è¡Œ  

**åŠ¨ç”»æµç¨‹**ï¼š  
1. **åˆå§‹åŒ–ç•Œé¢**ï¼š  
   - é¡¶éƒ¨æ—¶é—´è½´ï¼ˆåƒç´ æ ¼å­ï¼Œæ¯æ ¼ä»£è¡¨1å•ä½æ—¶é—´ï¼‰  
   - å·¦ä¾§å·¥ä½œé˜Ÿåˆ—ï¼ˆæŒ‰æˆªæ­¢æ—¶é—´å‡åºæ’åˆ—ï¼Œåƒç´ å—é¢œè‰²æ·±æµ…=æŠ¥é…¬é«˜ä½ï¼‰  
   - å³ä¸‹è§’å°æ ¹å †ï¼ˆæ ‘çŠ¶ç»“æ„ï¼Œæ ¹èŠ‚ç‚¹é—ªçƒæ ‡è®°æœ€å°å€¼ï¼‰  

2. **å·¥ä½œè°ƒåº¦è¿‡ç¨‹**ï¼š  
   - æ–°å·¥ä½œè¿›å…¥æ—¶ï¼Œè‹¥æ—¶é—´è½´æœ‰ç©ºä½ï¼ˆç°è‰²æ ¼å­ï¼‰ï¼Œå…¶åƒç´ å—è·³è‡³æœ€æ™šç©ºä½å¹¶å˜ç»¿ï¼Œæ’­æ”¾â€œå®â€éŸ³æ•ˆã€‚  
   - è‹¥æ—¶é—´ä¸è¶³ï¼ˆæ— ç°è‰²æ ¼ï¼‰ï¼š  
     * å †é¡¶å·¥ä½œï¼ˆæ ‘ä¸Šæœ€å°èŠ‚ç‚¹ï¼‰é—ªçƒçº¢å…‰ï¼Œä¸æ–°å·¥ä½œé»„å…‰å¯¹æ¯”ã€‚  
     * è‹¥æ–°å·¥ä½œæŠ¥é…¬æ›´é«˜ï¼Œå †é¡¶èŠ‚ç‚¹çˆ†ç‚¸æ¶ˆå¤±ï¼Œæ–°å·¥ä½œå—è·ƒå…¥æ—¶é—´è½´ï¼Œæ’­æ”¾â€œå’”â€æ¶ˆé™¤éŸ³+é‡‘å¸éŸ³ã€‚  

3. **äº¤äº’æ§åˆ¶**ï¼š  
   - æ­¥è¿›/æš‚åœï¼šç©ºæ ¼é”®é€å¸§è§‚å¯Ÿæ›¿æ¢é€»è¾‘ã€‚  
   - è°ƒé€Ÿæ»‘å—ï¼šåº•éƒ¨æ§åˆ¶åŠ¨ç”»é€Ÿåº¦ï¼ˆèœ—ç‰›â†’é—ªç”µï¼‰ã€‚  
   - æ•°æ®é¢æ¿ï¼šå®æ—¶æ˜¾ç¤ºæ€»åˆ©æ¶¦ã€å †å¤§å°ã€‚  

> **è®¾è®¡åŠ¨æœº**ï¼šé€šè¿‡åƒç´ å—é¢œè‰²å’Œä½ç½®å˜åŒ–ï¼Œç›´è§‚ç†è§£â€œæ—¶é—´å ç”¨â€å’Œâ€œåæ‚”æ›¿æ¢â€ã€‚å¤å¤éŸ³æ•ˆå¢å¼ºè®°å¿†ç‚¹ï¼Œå¦‚æ›¿æ¢æ—¶ã€Šä¿„ç½—æ–¯æ–¹å—ã€‹æ¶ˆé™¤éŸ³æ•ˆæš—ç¤ºâ€œæ·˜æ±°æ¬¡ä¼˜è§£â€ã€‚

---

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜
**é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
åæ‚”è´ªå¿ƒé€‚ç”¨äºï¼š  
1. å¸¦æˆªæ­¢æ—¶é—´çš„ä»»åŠ¡è°ƒåº¦ï¼ˆæœ¬é¢˜ï¼‰  
2. èµ„æºåˆ†é…é—®é¢˜ï¼ˆå¦‚P4053 å»ºç­‘æŠ¢ä¿®ï¼šç»´ä¿®æ—¶é—´ä¸åŒï¼‰  
3. æŠ•èµ„å†³ç­–ï¼ˆå¦‚P1484 ç§æ ‘ï¼šç›¸é‚»é™åˆ¶ä¸‹çš„æœ€ä¼˜é€‰æ‹©ï¼‰  

**æ´›è°·æ¨è**ï¼š  
1. **P1208 æ··åˆç‰›å¥¶**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šåŸºç¡€è´ªå¿ƒå…¥é—¨ï¼Œå·©å›ºâ€œæ’åº+é€‰æ‹©â€æ¡†æ¶ã€‚  
2. **P3093 ç‰›å¥¶è°ƒåº¦**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šæœ¬é¢˜å˜ç§ï¼ŒåŠ å…¥ä¾èµ–å…³ç³»ï¼Œç»ƒä¹ è´ªå¿ƒç»“åˆæ‹“æ‰‘æ’åºã€‚  
3. **P4053 å»ºç­‘æŠ¢ä¿®**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šåæ‚”è´ªå¿ƒç»å…¸åº”ç”¨ï¼Œç»´ä¿®æ—¶é—´ä¸åŒä½†æ€æƒ³ç›¸é€šã€‚  

---

#### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **ä½œè€…ç»éªŒï¼ˆTaduroï¼‰**ï¼š  
> â€œé¦–æ¬¡é‡åˆ°åæ‚”è´ªå¿ƒæ—¶ï¼Œæˆ‘æ„è¯†åˆ°ä¸èƒ½ç®€å•æŒ‰æˆªæ­¢æ—¶é—´æ’åºã€‚å°æ ¹å †æ›¿æ¢ç­–ç•¥è®©æˆ‘æ˜ç™½ï¼šç®—æ³•éœ€çµæ´»è°ƒæ•´å±€éƒ¨é€‰æ‹©ã€‚â€  
>  
> **Kayç‚¹è¯„**ï¼š  
> æ­¤ç»éªŒç‚¹å‡ºè´ªå¿ƒç®—æ³•çš„æ ¸å¿ƒâ€”â€”**åŠ¨æ€è°ƒæ•´**ã€‚è°ƒè¯•æ—¶æ³¨æ„ï¼š  
> 1. æ’åºå¿…é¡»ä¸¥æ ¼æŒ‰æˆªæ­¢æ—¶é—´å‡åº  
> 2. å †ä¸­å…ƒç´ æ•°é‡å³ä¸ºå·²æ¶ˆè€—æ—¶é—´  
> 3. æ›¿æ¢å‰ç¡®ä¿`!pq.empty()`  

---

**ç»“è¯­**ï¼šé€šè¿‡åæ‚”è´ªå¿ƒï¼Œæˆ‘ä»¬å­¦ä¼šåœ¨æ—¶é—´çº¦æŸä¸‹åŠ¨æ€ä¼˜åŒ–é€‰æ‹©ã€‚è®°ä½ï¼šä¼˜ç§€ç®—æ³•ä¸æ˜¯ä¸€æˆä¸å˜ï¼Œè€Œæ˜¯å–„äºâ€œåæ‚”â€å¹¶æŠ“ä½æ›´é«˜æ”¶ç›Šï¼ä¸‹æ¬¡æŒ‘æˆ˜è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š131.51ç§’
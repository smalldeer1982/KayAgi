# é¢˜ç›®ä¿¡æ¯

# [CERC2013] Draughts

## é¢˜ç›®æè¿°

å›½é™…è·³æ£‹ï¼ˆæˆ–ç§°è·³æ£‹ï¼‰æ˜¯ä¸€ç§ç”±ä¸¤ä¸ªå¯¹æ‰‹åœ¨ $10 \times 10$ çš„æ£‹ç›˜ä¸Šè¿›è¡Œçš„æ¸¸æˆã€‚æ£‹ç›˜ä¸Šçš„æ–¹å—æ˜¯é»‘è‰²æˆ–ç™½è‰²çš„ï¼Œå°±åƒç»å…¸çš„å›½é™…è±¡æ£‹æ£‹ç›˜ä¸€æ ·ã€‚ç©å®¶ä¸€æ–¹æ§åˆ¶é»‘æ£‹ï¼Œå¦ä¸€æ–¹æ§åˆ¶ç™½æ£‹ã€‚æ£‹å­åªèƒ½å æ®é»‘è‰²çš„æ ¼å­ã€‚æ£‹æ‰‹ä»¬äº¤æ›¿èµ°æ£‹ï¼Œå„è‡ªç§»åŠ¨è‡ªå·±çš„ä¸€ä¸ªæ£‹å­ã€‚

æœ€æœ‰è¶£çš„èµ°æ³•æ˜¯åƒæ‰ï¼šå¦‚æœä¸€ä¸ªå¯¹è§’çº¿ç›¸é‚»çš„æ ¼å­é‡Œæœ‰å¯¹æ‰‹çš„æ£‹å­ï¼Œå¯ä»¥é€šè¿‡è·³è¿‡å®ƒåˆ°ç´§æŒ¨ç€å®ƒçš„æœªè¢«å é¢†çš„æ ¼å­æ¥åƒæ‰ï¼ˆå¹¶ä»æ¸¸æˆä¸­åˆ é™¤è¢«åƒæ‰çš„è¿™ä¸ªæ£‹å­ï¼‰ã€‚å…è®¸åœ¨ä¸€æ­¥æ£‹ä¸­ç”¨ä¸€ä¸ªæ£‹å­è¿ç»­åƒæ‰å‡ ä¸ªæ£‹å­ã€‚é€šè¿‡å‘å‰æˆ–å‘åçš„è·³è·ƒæ¥åƒå­ä¹Ÿæ˜¯åˆæ³•çš„ã€‚

ä½ ä¼šå¾—åˆ°ä¸€ä¸ªæ£‹å­çš„ä½ç½®ã€‚ç°åœ¨è½®åˆ°ç™½æ–¹äº†ã€‚è®¡ç®—ä»–åœ¨ä¸‹ä¸€æ­¥æ£‹ä¸­èƒ½åƒæ‰çš„æœ€å¤§å¯èƒ½çš„é»‘æ£‹æ•°é‡ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
2

.#.#.#.#.#
#.#.#.#.#.
.#.#.B.#.#
#.#.#.#.#.
.#.#.B.#.#
#.#.W.#.#.
.#.#.#.#.#
#.#.#.B.#.
.#.#.#.#.#
#.#.#.#.#.

.#.#.#.#.#
#.#.#.#.#.
.#.#.B.#.#
#.B.#.B.#.
.#.#.B.#.#
#.B.W.#.#.
.#.B.B.#.#
#.#.#.#.#.
.#.B.B.#.#
#.#.#.#.#.
```

### è¾“å‡º

```
2
4
```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[CERC2013] Draughts æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰+ å›æº¯  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œå›½é™…è·³æ£‹åƒå­é—®é¢˜â€çš„å…³é”®ï¼Œåœ¨äº**ç”¨DFSæ¢ç´¢æ‰€æœ‰å¯èƒ½çš„åƒå­è·¯å¾„**ï¼Œæ‰¾åˆ°â€œä¸€æ­¥ä¹‹å†…èƒ½åƒæ‰æœ€å¤šé»‘æ£‹â€çš„æ–¹æ¡ˆã€‚ç®€å•æ¥è¯´ï¼ŒDFSå°±åƒâ€œèµ°è¿·å®«â€â€”â€”ä»æ¯ä¸ªç™½æ£‹å‡ºå‘ï¼Œå°è¯•å‘å››ä¸ªå¯¹è§’çº¿æ–¹å‘â€œè·³è·ƒâ€ï¼Œåƒæ‰ä¸­é—´çš„é»‘æ£‹åï¼Œç»§ç»­åœ¨æ–°ä½ç½®æ¢ç´¢æ›´å¤šåƒå­å¯èƒ½ï¼Œç›´åˆ°æ— æ³•è·³è·ƒä¸ºæ­¢ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦**å›æº¯**ï¼ˆæ¢å¤æ£‹ç›˜çŠ¶æ€ï¼‰ï¼Œæ‰èƒ½æ­£ç¡®æ¢ç´¢æ‰€æœ‰è·¯å¾„ã€‚  

- **é¢˜è§£æ€è·¯**ï¼šæ‰€æœ‰ä¼˜è´¨é¢˜è§£çš„æ ¸å¿ƒé€»è¾‘ä¸€è‡´ï¼šéå†æ¯ä¸ªç™½æ£‹ï¼Œç”¨DFSæ¢ç´¢å…¶æ‰€æœ‰å¯èƒ½çš„åƒå­è·¯å¾„ï¼Œè®°å½•æœ€å¤§åƒå­æ•°ã€‚  
- **æ ¸å¿ƒéš¾ç‚¹**ï¼šâ‘  å¤šç»„æ•°æ®çš„åˆå§‹åŒ–ï¼ˆå®¹æ˜“å¿˜è®°æ¸…é›¶æœ€å¤§å€¼ï¼‰ï¼›â‘¡ å›æº¯çš„æ­£ç¡®æ€§ï¼ˆå¿…é¡»è¿˜åŸæ£‹ç›˜ä¸Šçš„ç™½æ£‹ã€é»‘æ£‹ä½ç½®ï¼‰ï¼›â‘¢ æ–¹å‘æ•°ç»„çš„è®¾è®¡ï¼ˆé¿å…è·³è·ƒå‡ºç•Œï¼‰ã€‚  
- **å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼šç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºæ£‹ç›˜ï¼ˆ10x10ç½‘æ ¼ï¼‰ï¼Œç™½æ£‹ä¸ºç™½è‰²æ–¹å—ï¼Œé»‘æ£‹ä¸ºé»‘è‰²æ–¹å—ï¼Œç©ºä¸ºç°è‰²ã€‚åŠ¨ç”»ä¸­ï¼Œç™½æ£‹ä¼šâ€œè·³è·ƒâ€è¿‡é»‘æ£‹ï¼ˆé»‘æ£‹æ¶ˆå¤±ï¼‰ï¼Œå¹¶åœ¨æ–°ä½ç½®ç»§ç»­æ¢ç´¢ï¼Œæ¯åƒä¸€ä¸ªé»‘æ£‹ä¼šæœ‰â€œå®â€çš„éŸ³æ•ˆï¼Œæœ€ç»ˆæ˜¾ç¤ºæœ€å¤§åƒå­æ•°ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºäº†å¸®åŠ©å¤§å®¶å¿«é€ŸæŒæ¡è§£é¢˜æŠ€å·§ï¼Œæˆ‘ç­›é€‰äº†3ä»½è¯„åˆ†è¾ƒé«˜ï¼ˆâ‰¥4æ˜Ÿï¼‰çš„é¢˜è§£ï¼Œä»æ€è·¯ã€ä»£ç ã€å®è·µä»·å€¼ç­‰æ–¹é¢è¿›è¡Œç‚¹è¯„ï¼š

**é¢˜è§£ä¸€ï¼šæ¥æºï¼šDavid_yangï¼ˆèµ13ï¼‰**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸æ¸…æ™°ï¼Œç›´æ¥é’ˆå¯¹é—®é¢˜æ ¸å¿ƒâ€”â€”ç”¨DFSéå†æ¯ä¸ªç™½æ£‹çš„æ‰€æœ‰åƒå­è·¯å¾„ã€‚ä»£ç ç»“æ„å·¥æ•´ï¼Œå˜é‡å‘½åï¼ˆå¦‚`dx`ã€`dy`è¡¨ç¤ºè·³è·ƒæ–¹å‘ï¼‰æ˜“äºç†è§£ã€‚**äº®ç‚¹**åœ¨äºï¼šâ‘  å¤„ç†äº†å¤šç»„æ•°æ®çš„æ¸…é›¶é—®é¢˜ï¼ˆ`mmax=0`ï¼‰ï¼›â‘¡ è¯¦ç»†çš„å›æº¯é€»è¾‘ï¼ˆè¿˜åŸç™½æ£‹ä½ç½®ã€é»‘æ£‹ä½ç½®ã€ç›®æ ‡ä½ç½®ï¼‰ï¼Œç¡®ä¿æ¯ä¸€æ¡è·¯å¾„éƒ½èƒ½æ­£ç¡®æ¢ç´¢ã€‚ä»å®è·µè§’åº¦çœ‹ï¼Œä»£ç å¯ç›´æ¥ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†ï¼ˆå¦‚`nx>0 && nx<11`ï¼‰éå¸¸ä¸¥è°¨ã€‚  

**é¢˜è§£äºŒï¼šæ¥æºï¼šGenshin_ZFYXï¼ˆèµ11ï¼‰**  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£çš„**äº®ç‚¹**æ˜¯æ–¹å‘æ•°ç»„çš„è®¾è®¡ï¼ˆ`dx`ã€`dy`è¡¨ç¤ºå¯¹è§’çº¿æ–¹å‘çš„ä¸€æ­¥ï¼Œ`ddx`ã€`ddy`è¡¨ç¤ºè·³è·ƒä¸¤æ­¥ï¼‰ï¼Œé€»è¾‘æ›´ç®€æ´ã€‚ä»£ç ä¸­ç”¨`vis`æ•°ç»„æ ‡è®°é»‘æ£‹æ˜¯å¦è¢«åƒï¼Œé¿å…é‡å¤è®¡ç®—ã€‚æ­¤å¤–ï¼Œä½œè€…æåˆ°â€œä¸è¦åˆå§‹åŒ–`vis`å¤ªå¤šæ¬¡â€ï¼Œè¿™æ˜¯ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦çš„å…³é”®ï¼Œå€¼å¾—å­¦ä¹ ã€‚  

**é¢˜è§£ä¸‰ï¼šæ¥æºï¼šTjaweiofï¼ˆèµ2ï¼‰**  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£è§£å†³äº†ä¸€ä¸ªé‡è¦çš„è°ƒè¯•ç‚¹â€”â€”**è¿˜åŸç™½æ£‹ä½ç½®**ï¼ˆ`a[i][j] = 'W'`ï¼‰ã€‚ä½œè€…æåˆ°â€œè¿™å¥ä»£ç è°ƒäº†3é¡µè®°å½•â€ï¼Œè¯´æ˜å›æº¯æ—¶å¿…é¡»æ¢å¤ç™½æ£‹çš„åˆå§‹ä½ç½®ï¼Œå¦åˆ™ä¼šå½±å“åç»­è·¯å¾„çš„æ¢ç´¢ã€‚è¿™ä¸ªç»†èŠ‚éå¸¸å…³é”®ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬é¿å…å¸¸è§çš„bugã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

åœ¨è§£å†³æœ¬é¢˜æ—¶ï¼Œä»¥ä¸‹3ä¸ªéš¾ç‚¹éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼š

### 1. **å¤šç»„æ•°æ®çš„åˆå§‹åŒ–**  
- **åˆ†æ**ï¼šé¢˜ç›®è¦æ±‚å¤„ç†å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æ•°æ®éƒ½éœ€è¦é‡æ–°è®¡ç®—æœ€å¤§å€¼ã€‚å¦‚æœå¿˜è®°å°†æœ€å¤§å€¼`mmax`æ¸…é›¶ï¼Œä¼šå¯¼è‡´å‰ä¸€ç»„æ•°æ®çš„ç»“æœå½±å“åä¸€ç»„ã€‚  
- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤šç»„æ•°æ®å¤„ç†æ—¶ï¼Œä¸€å®šè¦åœ¨æ¯ç»„å¼€å§‹å‰åˆå§‹åŒ–æ‰€æœ‰å…¨å±€å˜é‡ï¼ˆå¦‚æœ€å¤§å€¼ã€æ£‹ç›˜æ•°ç»„ï¼‰ã€‚  

### 2. **å›æº¯çš„æ­£ç¡®æ€§**  
- **åˆ†æ**ï¼šDFSæ¢ç´¢è·¯å¾„æ—¶ï¼Œå¿…é¡»è¿˜åŸæ£‹ç›˜çŠ¶æ€ï¼ˆç™½æ£‹ä½ç½®ã€é»‘æ£‹ä½ç½®ã€ç›®æ ‡ä½ç½®ï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´åç»­è·¯å¾„çš„æ¢ç´¢é”™è¯¯ã€‚ä¾‹å¦‚ï¼ŒDavid_yangçš„ä»£ç ä¸­ï¼Œæ¯æ¬¡è·³è·ƒåä¼šä¿®æ”¹3ä¸ªæ ¼å­çš„çŠ¶æ€ï¼ˆç™½æ£‹ç¦»å¼€ã€é»‘æ£‹è¢«åƒã€ç™½æ£‹åˆ°è¾¾æ–°ä½ç½®ï¼‰ï¼Œé€’å½’è¿”å›åå¿…é¡»è¿˜åŸè¿™3ä¸ªæ ¼å­çš„çŠ¶æ€ã€‚  
- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå›æº¯çš„æ ¸å¿ƒæ˜¯â€œä¿®æ”¹çŠ¶æ€â†’é€’å½’â†’æ¢å¤çŠ¶æ€â€ï¼Œç¡®ä¿æ¯ä¸€æ¡è·¯å¾„éƒ½èƒ½ç‹¬ç«‹æ¢ç´¢ã€‚  

### 3. **æ–¹å‘æ•°ç»„çš„è®¾è®¡**  
- **åˆ†æ**ï¼šå›½é™…è·³æ£‹çš„è·³è·ƒæ–¹å‘æ˜¯å››ä¸ªå¯¹è§’çº¿ï¼ˆå·¦ä¸Šã€å³ä¸Šã€å·¦ä¸‹ã€å³ä¸‹ï¼‰ï¼Œéœ€è¦ç”¨æ–¹å‘æ•°ç»„è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼Œ`dx[] = {-2, -2, 2, 2}`è¡¨ç¤ºè¡Œçš„è·³è·ƒï¼ˆä¸¤æ­¥ï¼‰ï¼Œ`dy[] = {-2, 2, 2, -2}`è¡¨ç¤ºåˆ—çš„è·³è·ƒï¼ˆä¸¤æ­¥ï¼‰ã€‚åŒæ—¶ï¼Œéœ€è¦åˆ¤æ–­ä¸­é—´çš„æ ¼å­æ˜¯å¦æœ‰é»‘æ£‹ï¼ˆå¦‚`a[x-1][y-1] == 'B'`ï¼‰ã€‚  
- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ–¹å‘æ•°ç»„æ˜¯å¤„ç†ç½‘æ ¼é—®é¢˜çš„å¸¸ç”¨æŠ€å·§ï¼Œèƒ½ç®€åŒ–ä»£ç é€»è¾‘ï¼Œé¿å…é‡å¤åˆ¤æ–­ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†David_yangã€Genshin_ZFYXç­‰ä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œæ˜¯ä¸€ä¸ªæ¸…æ™°ã€å®Œæ•´çš„æ ¸å¿ƒå®ç°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <algorithm>
  using namespace std;

  const int dx[] = {-2, -2, 2, 2}; // è·³è·ƒçš„è¡Œæ–¹å‘ï¼ˆä¸¤æ­¥ï¼‰
  const int dy[] = {-2, 2, 2, -2}; // è·³è·ƒçš„åˆ—æ–¹å‘ï¼ˆä¸¤æ­¥ï¼‰
  const int step_x[] = {-1, -1, 1, 1}; // ä¸­é—´é»‘æ£‹çš„è¡Œæ–¹å‘ï¼ˆä¸€æ­¥ï¼‰
  const int step_y[] = {-1, 1, 1, -1}; // ä¸­é—´é»‘æ£‹çš„åˆ—æ–¹å‘ï¼ˆä¸€æ­¥ï¼‰

  char a[11][11]; // æ£‹ç›˜ï¼ˆ10x10ï¼‰
  int mmax; // æœ€å¤§åƒå­æ•°

  void dfs(int x, int y, int cnt) {
      // æ›´æ–°æœ€å¤§åƒå­æ•°
      mmax = max(mmax, cnt);
      // å°è¯•å››ä¸ªæ–¹å‘çš„è·³è·ƒ
      for (int i = 0; i < 4; i++) {
          int nx = x + dx[i]; // è·³è·ƒåçš„è¡Œ
          int ny = y + dy[i]; // è·³è·ƒåçš„åˆ—
          int sx = x + step_x[i]; // ä¸­é—´é»‘æ£‹çš„è¡Œ
          int sy = y + step_y[i]; // ä¸­é—´é»‘æ£‹çš„åˆ—
          // åˆ¤æ–­æ˜¯å¦å‡ºç•Œï¼Œä»¥åŠä¸­é—´æ˜¯å¦æœ‰é»‘æ£‹ï¼Œç›®æ ‡ä½ç½®æ˜¯å¦ä¸ºç©º
          if (nx >= 1 && nx <= 10 && ny >= 1 && ny <= 10 && a[sx][sy] == 'B' && a[nx][ny] != 'B' && a[nx][ny] != 'W') {
              // ä¿®æ”¹æ£‹ç›˜çŠ¶æ€ï¼ˆç™½æ£‹ç¦»å¼€ã€é»‘æ£‹è¢«åƒã€ç™½æ£‹åˆ°è¾¾æ–°ä½ç½®ï¼‰
              a[x][y] = '#';
              a[sx][sy] = '#';
              a[nx][ny] = 'W';
              // é€’å½’æ¢ç´¢æ–°ä½ç½®
              dfs(nx, ny, cnt + 1);
              // å›æº¯ï¼ˆæ¢å¤æ£‹ç›˜çŠ¶æ€ï¼‰
              a[x][y] = 'W';
              a[sx][sy] = 'B';
              a[nx][ny] = '#';
          }
      }
  }

  int main() {
      int T;
      cin >> T;
      while (T--) {
          mmax = 0; // åˆå§‹åŒ–æœ€å¤§åƒå­æ•°
          // è¯»å–æ£‹ç›˜
          for (int i = 1; i <= 10; i++) {
              for (int j = 1; j <= 10; j++) {
                  cin >> a[i][j];
              }
          }
          // éå†æ¯ä¸ªç™½æ£‹ï¼Œå‘èµ·DFS
          for (int i = 1; i <= 10; i++) {
              for (int j = 1; j <= 10; j++) {
                  if (a[i][j] == 'W') {
                      dfs(i, j, 0);
                  }
              }
          }
          // è¾“å‡ºç»“æœ
          cout << mmax << endl;
      }
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  ä»£ç åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šâ‘  å®šä¹‰æ–¹å‘æ•°ç»„ï¼ˆè·³è·ƒæ–¹å‘å’Œä¸­é—´é»‘æ£‹æ–¹å‘ï¼‰ï¼›â‘¡ DFSå‡½æ•°ï¼ˆæ¢ç´¢åƒå­è·¯å¾„ï¼Œå›æº¯æ¢å¤çŠ¶æ€ï¼‰ï¼›â‘¢ ä¸»å‡½æ•°ï¼ˆå¤„ç†å¤šç»„æ•°æ®ï¼Œè¯»å–æ£‹ç›˜ï¼Œéå†ç™½æ£‹å‘èµ·DFSï¼Œè¾“å‡ºç»“æœï¼‰ã€‚  


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

**é¢˜è§£ä¸€ï¼šDavid_yangçš„æ–¹å‘åˆ¤æ–­**  
* **äº®ç‚¹**ï¼šè¯¦ç»†çš„æ–¹å‘åˆ¤æ–­ï¼Œç¡®ä¿æ¯ä¸€æ­¥è·³è·ƒéƒ½ç¬¦åˆè§„åˆ™ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  if (i == 0 && a[x-1][y-1] == 'B') {
      a[x-1][y-1] = '#';
      a[x][y] = '#';
      a[nx][ny] = 'W';
      dfs(nx, ny, cnt+1);
      a[x-1][y-1] = 'B';
      a[x][y] = 'W';
      a[nx][ny] = '#';
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™æ®µä»£ç å¤„ç†äº†â€œå·¦ä¸Šæ–¹å‘â€çš„è·³è·ƒï¼šâ‘  åˆ¤æ–­ä¸­é—´æ˜¯å¦æœ‰é»‘æ£‹ï¼ˆ`a[x-1][y-1] == 'B'`ï¼‰ï¼›â‘¡ ä¿®æ”¹æ£‹ç›˜çŠ¶æ€ï¼ˆé»‘æ£‹è¢«åƒã€ç™½æ£‹ç§»åŠ¨ï¼‰ï¼›â‘¢ é€’å½’æ¢ç´¢æ–°ä½ç½®ï¼›â‘£ å›æº¯æ¢å¤çŠ¶æ€ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ–¹å‘åˆ¤æ–­æ˜¯DFSçš„æ ¸å¿ƒï¼Œå¿…é¡»ç¡®ä¿æ¯ä¸€æ­¥éƒ½ç¬¦åˆé¢˜ç›®è§„åˆ™ã€‚  

**é¢˜è§£äºŒï¼šGenshin_ZFYXçš„æ–¹å‘æ•°ç»„**  
* **äº®ç‚¹**ï¼šç”¨`dx`ã€`dy`è¡¨ç¤ºä¸€æ­¥æ–¹å‘ï¼Œ`ddx`ã€`ddy`è¡¨ç¤ºä¸¤æ­¥æ–¹å‘ï¼Œé€»è¾‘æ›´ç®€æ´ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  int dx[] = {1, -1, 1, -1}, dy[] = {1, -1, -1, 1};
  int ddx[] = {2, -2, 2, -2}, ddy[] = {2, -2, -2, 2};
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  `dx`ã€`dy`è¡¨ç¤ºä¸­é—´é»‘æ£‹çš„ä½ç½®ï¼ˆä¸€æ­¥ï¼‰ï¼Œ`ddx`ã€`ddy`è¡¨ç¤ºç™½æ£‹è·³è·ƒåçš„ä½ç½®ï¼ˆä¸¤æ­¥ï¼‰ã€‚è¿™ç§è®¾è®¡ç®€åŒ–äº†æ–¹å‘åˆ¤æ–­çš„ä»£ç ï¼Œé¿å…äº†é‡å¤è®¡ç®—ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ–¹å‘æ•°ç»„çš„è®¾è®¡è¦å°½å¯èƒ½ç®€æ´ï¼Œå‡å°‘ä»£ç å†—ä½™ã€‚  

**é¢˜è§£ä¸‰ï¼šTjaweiofçš„è¿˜åŸç™½æ£‹ä½ç½®**  
* **äº®ç‚¹**ï¼šè§£å†³äº†â€œç™½æ£‹ä½ç½®æœªè¿˜åŸâ€çš„è°ƒè¯•ç‚¹ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  if (a[i][j] == 'W') {
      a[i][j] = '#';
      ans = max(dfs(i, j, 0), ans);
      a[i][j] = 'W'; // è¿˜åŸç™½æ£‹ä½ç½®
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™æ®µä»£ç åœ¨éå†ç™½æ£‹æ—¶ï¼Œå…ˆå°†ç™½æ£‹ä½ç½®æ ‡è®°ä¸ºç©ºï¼ˆ`a[i][j] = '#'`ï¼‰ï¼Œé¿å…é€’å½’æ—¶å½±å“è·¯å¾„æ¢ç´¢ï¼Œé€’å½’ç»“æŸåå†è¿˜åŸç™½æ£‹ä½ç½®ï¼ˆ`a[i][j] = 'W'`ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå›æº¯æ—¶å¿…é¡»è¿˜åŸæ‰€æœ‰ä¿®æ”¹è¿‡çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬ç™½æ£‹çš„åˆå§‹ä½ç½®ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜  
**â€œåƒç´ è·³æ£‹æ¢é™©å®¶â€**ï¼šç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºç™½æ£‹åƒå­çš„è¿‡ç¨‹ï¼Œç»“åˆå¤å¤æ¸¸æˆå…ƒç´ ï¼ˆå¦‚éŸ³æ•ˆã€å…³å¡ï¼‰ã€‚  

### è®¾è®¡æ€è·¯ç®€è¿°  
é‡‡ç”¨8ä½åƒç´ é£ï¼ˆç±»ä¼¼FCçº¢ç™½æœºï¼‰ï¼Œè¥é€ è½»æ¾çš„å­¦ä¹ æ°›å›´ã€‚ç”¨ä¸åŒé¢œè‰²çš„åƒç´ å—è¡¨ç¤ºæ£‹ç›˜å…ƒç´ ï¼ˆç™½æ£‹ï¼šç™½è‰²ï¼Œé»‘æ£‹ï¼šé»‘è‰²ï¼Œç©ºï¼šç°è‰²ï¼‰ã€‚æ¯åƒä¸€ä¸ªé»‘æ£‹ä¼šæœ‰â€œå®â€çš„éŸ³æ•ˆï¼Œå®Œæˆæ‰€æœ‰è·¯å¾„æ¢ç´¢åæ˜¾ç¤ºæœ€å¤§åƒå­æ•°ï¼Œå¢åŠ æˆå°±æ„Ÿã€‚  

### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•æ˜¾ç¤º10x10çš„åƒç´ ç½‘æ ¼ï¼Œé¡¶éƒ¨æœ‰â€œæ§åˆ¶é¢æ¿â€ï¼ˆå¼€å§‹/æš‚åœã€å•æ­¥ã€é‡ç½®ã€é€Ÿåº¦æ»‘å—ï¼‰ã€‚  
   - èƒŒæ™¯éŸ³ä¹ï¼š8ä½é£æ ¼çš„è½»æ¾æ—‹å¾‹ï¼ˆå¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„èƒŒæ™¯éŸ³ï¼‰ã€‚  

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - éå†æ£‹ç›˜ï¼Œæ‰¾åˆ°æ‰€æœ‰ç™½æ£‹ï¼ˆç™½è‰²æ–¹å—ï¼‰ï¼Œç”¨é—ªçƒæ•ˆæœæ ‡è®°ã€‚  
   - ç”¨æˆ·ç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼Œç™½æ£‹å¼€å§‹æ¢ç´¢åƒå­è·¯å¾„ã€‚  

3. **æ ¸å¿ƒæ­¥éª¤æ¼”ç¤º**ï¼š  
   - **è·³è·ƒåŠ¨ç”»**ï¼šç™½æ£‹å‘æŸä¸ªæ–¹å‘è·³è·ƒï¼Œä¸­é—´çš„é»‘æ£‹ï¼ˆé»‘è‰²æ–¹å—ï¼‰æ¶ˆå¤±ï¼Œç™½æ£‹åˆ°è¾¾æ–°ä½ç½®ï¼ˆç™½è‰²æ–¹å—ï¼‰ã€‚  
   - **éŸ³æ•ˆæç¤º**ï¼šåƒå­æ—¶æœ‰â€œå®â€çš„éŸ³æ•ˆï¼Œè·³è·ƒæ—¶æœ‰â€œå—–å—–â€çš„éŸ³æ•ˆã€‚  
   - **çŠ¶æ€é«˜äº®**ï¼šå½“å‰æ¢ç´¢çš„ç™½æ£‹ç”¨çº¢è‰²è¾¹æ¡†æ ‡è®°ï¼Œå·²åƒçš„é»‘æ£‹ç”¨ç°è‰²æ ‡è®°ã€‚  

4. **ç›®æ ‡è¾¾æˆ**ï¼š  
   - å½“æ— æ³•ç»§ç»­è·³è·ƒæ—¶ï¼Œå±å¹•æ˜¾ç¤ºâ€œå½“å‰è·¯å¾„åƒå­æ•°ï¼šXâ€ï¼Œå¹¶æ›´æ–°æœ€å¤§åƒå­æ•°ï¼ˆçº¢è‰²æ•°å­—ï¼‰ã€‚  
   - æ‰€æœ‰è·¯å¾„æ¢ç´¢å®Œæˆåï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆå¦‚ã€Šé­‚æ–—ç½—ã€‹çš„é€šå…³éŸ³ï¼‰ï¼Œæ˜¾ç¤ºâ€œæœ€å¤§åƒå­æ•°ï¼šYâ€ã€‚  

5. **äº¤äº’æ§åˆ¶**ï¼š  
   - **å•æ­¥æ‰§è¡Œ**ï¼šç”¨æˆ·ç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼Œç™½æ£‹èµ°ä¸€æ­¥ã€‚  
   - **è‡ªåŠ¨æ’­æ”¾**ï¼šç”¨æˆ·æ‹–åŠ¨é€Ÿåº¦æ»‘å—ï¼Œè°ƒæ•´åŠ¨ç”»é€Ÿåº¦ï¼ˆå¦‚1xã€2xã€3xï¼‰ã€‚  
   - **é‡ç½®**ï¼šç”¨æˆ·ç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œæ¢å¤åˆå§‹æ£‹ç›˜çŠ¶æ€ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
DFS+å›æº¯çš„æ€è·¯ä¸ä»…èƒ½è§£å†³æœ¬é¢˜ï¼Œè¿˜èƒ½ç”¨äºå¤„ç†**è·¯å¾„æ¢ç´¢**ï¼ˆå¦‚è¿·å®«é—®é¢˜ï¼‰ã€**ç»„åˆé—®é¢˜**ï¼ˆå¦‚å…«çš‡åï¼‰ã€**æ’åˆ—é—®é¢˜**ï¼ˆå¦‚å…¨æ’åˆ—ï¼‰ç­‰ã€‚å…³é”®åœ¨äºè¯†åˆ«â€œéœ€è¦æ¢ç´¢æ‰€æœ‰å¯èƒ½è·¯å¾„â€çš„é—®é¢˜ï¼Œå¹¶æ­£ç¡®è®¾è®¡å›æº¯é€»è¾‘ã€‚  

### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P1019 å•è¯æ¥é¾™**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”¨DFSæ¢ç´¢æ‰€æœ‰å¯èƒ½çš„å•è¯è¿æ¥æ–¹å¼ï¼Œé”»ç‚¼å›æº¯é€»è¾‘ã€‚  
2. **æ´›è°· P1219 å…«çš‡å**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»å…¸çš„å›æº¯é—®é¢˜ï¼Œéœ€è¦é¿å…çš‡åäº’ç›¸æ”»å‡»ï¼Œæå‡å¯¹å›æº¯çš„ç†è§£ã€‚  
3. **æ´›è°· P1443 é©¬çš„éå†**ï¼š  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç”¨BFS/DFSæ¢ç´¢é©¬çš„ç§»åŠ¨è·¯å¾„ï¼Œå·©å›ºç½‘æ ¼é—®é¢˜çš„æ–¹å‘æ•°ç»„è®¾è®¡ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

**å‚è€ƒç»éªŒ (æ¥è‡ªTjaweiof)**ï¼šâ€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆå¿˜è®°è¿˜åŸç™½æ£‹çš„ä½ç½®ï¼Œå¯¼è‡´æäº¤è®°å½•åˆ·äº†3é¡µã€‚åæ¥åœ¨å·¨ä½¬çš„å¸®åŠ©ä¸‹ï¼ŒåŠ ä¸Šäº†`a[i][j] = 'W'`è¿™å¥ä»£ç ï¼Œæ‰ACäº†ã€‚â€  
**ç‚¹è¯„**ï¼šè¿™ä¸ªç»éªŒéå¸¸å…¸å‹ã€‚å›æº¯æ—¶å¿…é¡»è¿˜åŸæ‰€æœ‰ä¿®æ”¹è¿‡çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬ç™½æ£‹çš„åˆå§‹ä½ç½®ã€‚å¦‚æœå¿˜è®°è¿™ä¸€æ­¥ï¼Œä¼šå¯¼è‡´åç»­è·¯å¾„çš„æ¢ç´¢é”™è¯¯ï¼Œæ— æ³•å¾—åˆ°æ­£ç¡®ç»“æœã€‚  


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œ[CERC2013] Draughtsâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£DFS+å›æº¯çš„æ€è·¯ï¼ŒæŒæ¡è§£å†³ç½‘æ ¼é—®é¢˜çš„æŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**æŒç»­ç»ƒä¹ **å’Œ**æ€»ç»“é”™è¯¯**â€”â€”ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜æ—¶ï¼Œä½ ä¸€å®šèƒ½æ›´å¿«è§£å†³ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š121.77ç§’
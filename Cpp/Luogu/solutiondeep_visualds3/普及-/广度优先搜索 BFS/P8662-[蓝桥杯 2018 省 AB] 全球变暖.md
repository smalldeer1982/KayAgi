# é¢˜ç›®ä¿¡æ¯

# [è“æ¡¥æ¯ 2018 çœ AB] å…¨çƒå˜æš–

## é¢˜ç›®æè¿°

ä½ æœ‰ä¸€å¼ æŸæµ·åŸŸ $N \times N$ åƒç´ çš„ç…§ç‰‡ï¼Œ`.` è¡¨ç¤ºæµ·æ´‹ã€ `#` è¡¨ç¤ºé™†åœ°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
.......
.##....
.##....
....##.
..####.
...###.
.......
```

å…¶ä¸­ "ä¸Šä¸‹å·¦å³" å››ä¸ªæ–¹å‘ä¸Šè¿åœ¨ä¸€èµ·çš„ä¸€ç‰‡é™†åœ°ç»„æˆä¸€åº§å²›å±¿ã€‚ä¾‹å¦‚ä¸Šå›¾å°±æœ‰ $2$ åº§å²›å±¿ã€‚

ç”±äºå…¨çƒå˜æš–å¯¼è‡´äº†æµ·é¢ä¸Šå‡ï¼Œç§‘å­¦å®¶é¢„æµ‹æœªæ¥å‡ åå¹´ï¼Œå²›å±¿è¾¹ç¼˜ä¸€ä¸ªåƒç´ çš„èŒƒå›´ä¼šè¢«æµ·æ°´æ·¹æ²¡ã€‚å…·ä½“æ¥è¯´å¦‚æœä¸€å—é™†åœ°åƒç´ ä¸æµ·æ´‹ç›¸é‚»ï¼ˆä¸Šä¸‹å·¦å³å››ä¸ªç›¸é‚»åƒç´ ä¸­æœ‰æµ·æ´‹ï¼‰ï¼Œå®ƒå°±ä¼šè¢«æ·¹æ²¡ã€‚

ä¾‹å¦‚ä¸Šå›¾ä¸­çš„æµ·åŸŸæœªæ¥ä¼šå˜æˆå¦‚ä¸‹æ ·å­ï¼š

```
.......
.......
.......
.......
....#..
.......
.......
```

è¯·ä½ è®¡ç®—ï¼šä¾ç…§ç§‘å­¦å®¶çš„é¢„æµ‹ï¼Œç…§ç‰‡ä¸­æœ‰å¤šå°‘å²›å±¿ä¼šè¢«å®Œå…¨æ·¹æ²¡ã€‚ 


## è¯´æ˜/æç¤º

æ—¶é™ 1 ç§’, 256Mã€‚è“æ¡¥æ¯ 2018 å¹´ç¬¬ä¹å±Šçœèµ›

## æ ·ä¾‹ #1

### è¾“å…¥

```
7 
.......
.##....
.##....
....##.
..####.
...###.
.......  ```

### è¾“å‡º

```
1```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šå…¨çƒå˜æš– æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šè¿é€šå—æŸ¥æ‰¾ï¼ˆDFS/BFSï¼‰ã€æ¡ä»¶åˆ¤æ–­ï¼ˆå²›å±¿æ·¹æ²¡è§„åˆ™ï¼‰


ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œå…¨çƒå˜æš–â€é—®é¢˜ï¼Œå…³é”®æ˜¯**æ‰¾åˆ°æ‰€æœ‰å²›å±¿**ï¼Œå¹¶**åˆ¤æ–­æ¯ä¸ªå²›å±¿æ˜¯å¦å®Œå…¨è¢«æ·¹æ²¡**ã€‚ç®€å•æ¥è¯´ï¼Œå²›å±¿æ˜¯â€œä¸Šä¸‹å·¦å³è¿åœ¨ä¸€èµ·çš„é™†åœ°â€ï¼Œè€Œâ€œå®Œå…¨æ·¹æ²¡â€çš„æ„æ€æ˜¯â€”â€”è¿™ä¸ªå²›å±¿çš„æ‰€æœ‰é™†åœ°éƒ½ä¼šè¢«æµ·æ°´æ·¹æ²¡ï¼ˆæ²¡æœ‰ä»»ä½•æ®‹ç•™ï¼‰ã€‚  

**æ ¸å¿ƒé€»è¾‘**ï¼š  
1. **æ‰¾å²›å±¿**ï¼šç”¨DFSæˆ–BFSéå†æ•´ä¸ªæµ·åŸŸï¼ŒæŠŠè¿åœ¨ä¸€èµ·çš„é™†åœ°æ ‡è®°ä¸ºä¸€ä¸ªå²›å±¿ï¼ˆè¿é€šå—ï¼‰ã€‚  
2. **åˆ¤æ–­æ·¹æ²¡**ï¼šå¯¹äºæ¯ä¸ªå²›å±¿ï¼Œæ£€æŸ¥å…¶ä¸­æ˜¯å¦æœ‰**ä¸è¢«æ·¹æ²¡çš„é™†åœ°**ï¼ˆå³è¯¥é™†åœ°çš„â€œä¸Šä¸‹å·¦å³éƒ½æ˜¯é™†åœ°â€ï¼Œä¸ä¼šè¢«æµ·æ°´ä¾µèš€ï¼‰ã€‚å¦‚æœä¸€ä¸ªå²›å±¿æ²¡æœ‰è¿™æ ·çš„é™†åœ°ï¼Œå®ƒå°±ä¼šå®Œå…¨æ·¹æ²¡ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘ä¼šç”¨**8ä½åƒç´ é£æ ¼**ï¼ˆç±»ä¼¼FCæ¸¸æˆï¼‰å±•ç¤ºæµ·åŸŸï¼š  
- é™†åœ°ç”¨**æ£•è‰²åƒç´ å—**è¡¨ç¤ºï¼Œæµ·æ´‹ç”¨**è“è‰²**ã€‚  
- DFS/BFSéå†å²›å±¿æ—¶ï¼Œç”¨**é—ªçƒçš„é»„è‰²**æ ‡è®°å½“å‰è®¿é—®çš„é™†åœ°ï¼ˆåƒâ€œæ¢é™©å®¶è¸©è¿‡çš„è„šå°â€ï¼‰ã€‚  
- ä¸è¢«æ·¹æ²¡çš„é™†åœ°ä¼šå˜æˆ**ç»¿è‰²**ï¼ˆâ€œå¹¸å­˜çš„é«˜åœ°â€ï¼‰ï¼Œè¢«æ·¹æ²¡çš„é™†åœ°å˜æˆ**ç°è‰²**ï¼ˆâ€œè¢«æµ·æ°´è¦†ç›–â€ï¼‰ã€‚  
- å®Œå…¨æ·¹æ²¡çš„å²›å±¿ä¼šç”¨**çº¢è‰²å‰å·**æ ‡è®°ï¼ˆâ€œæ¸¸æˆå¤±è´¥â€ï¼‰ï¼Œå‰©ä½™å²›å±¿ç”¨**ç»¿è‰²å¯¹å‹¾**ï¼ˆâ€œæ¸¸æˆèƒœåˆ©â€ï¼‰ã€‚  

**æ¸¸æˆåŒ–å…ƒç´ **ï¼š  
- ç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼Œåƒç´ æ¢é™©å®¶ä¼šè‡ªåŠ¨éå†å²›å±¿ï¼ˆç±»ä¼¼â€œè´ªåƒè›‡æ‰¾é£Ÿç‰©â€ï¼‰ã€‚  
- æ¯æ‰¾åˆ°ä¸€ä¸ªå²›å±¿ï¼Œæ’­æ”¾**â€œå®â€çš„éŸ³æ•ˆ**ï¼›æ¯æ·¹æ²¡ä¸€å—é™†åœ°ï¼Œæ’­æ”¾**â€œå“—å•¦â€çš„éŸ³æ•ˆ**ï¼›ç»Ÿè®¡å®Œæˆæ—¶ï¼Œæ’­æ”¾**â€œèƒœåˆ©è¿›è¡Œæ›²â€**ï¼ˆå¦‚æœæœ‰å‰©ä½™å²›å±¿ï¼‰æˆ–**â€œå¤±è´¥æç¤ºéŸ³â€**ï¼ˆå…¨æ·¹æ²¡ï¼‰ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºäº†å¸®å¤§å®¶å¿«é€ŸæŒæ¡æ ¸å¿ƒæ€è·¯ï¼Œæˆ‘ç­›é€‰äº†3ä»½**æ€è·¯æ¸…æ™°ã€ä»£ç è§„èŒƒ**çš„é¢˜è§£ï¼ˆè¯„åˆ†â‰¥4æ˜Ÿï¼‰ï¼š


### **é¢˜è§£ä¸€ï¼šä¸¤æ¬¡DFSç»Ÿè®¡å²›å±¿æ•°ï¼ˆä½œè€…ï¼škkxacjï¼Œèµ37ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸â€œç›´ç™½â€â€”â€”å…ˆç®—â€œåŸå§‹æœ‰å¤šå°‘ä¸ªå²›å±¿â€ï¼Œå†ç®—â€œæ·¹æ²¡åè¿˜å‰©å¤šå°‘ä¸ªå²›å±¿â€ï¼Œä¸¤è€…ç›¸å‡å°±æ˜¯â€œå®Œå…¨æ·¹æ²¡çš„å²›å±¿æ•°â€ã€‚  
  äº®ç‚¹åœ¨äº**æ·¹æ²¡åçš„æ ‡è®°æŠ€å·§**ï¼šæŠŠä¼šè¢«æ·¹æ²¡çš„é™†åœ°æ”¹æˆ`'-'`ï¼ˆè€Œä¸æ˜¯ç›´æ¥åˆ æˆæµ·æ´‹ï¼‰ï¼Œè¿™æ ·ç¬¬äºŒæ¬¡DFSç»Ÿè®¡å‰©ä½™å²›å±¿æ—¶ï¼Œä¸ä¼šæŠŠâ€œåˆ†è£‚çš„å°å²›å±¿â€è¯¯åˆ¤ä¸ºæ–°å²›å±¿ã€‚æ¯”å¦‚æ ·ä¾‹ä¸­çš„å¤§å²›åˆ†è£‚åï¼Œ`'-'`ä¼šæŠŠå®ƒä»¬â€œéš”å¼€â€ï¼Œé¿å…é‡å¤è®¡æ•°ã€‚  
  ä»£ç é£æ ¼è§„èŒƒï¼ˆå˜é‡å`ans1`è¡¨ç¤ºåŸå§‹å²›å±¿æ•°ï¼Œ`ans`è¡¨ç¤ºå‰©ä½™å²›å±¿æ•°ï¼‰ï¼Œè¾¹ç•Œæ¡ä»¶å¤„ç†ä¸¥è°¨ï¼ˆæ¯”å¦‚`xt > 0 && xt <= n`ç¡®ä¿ä¸è¶Šç•Œï¼‰ï¼Œéå¸¸é€‚åˆåˆå­¦è€…å‚è€ƒã€‚  


### **é¢˜è§£äºŒï¼šä¸€æ¬¡éå†åˆ¤æ–­å²›å±¿æ˜¯å¦å¹¸å­˜ï¼ˆä½œè€…ï¼šTolerateï¼Œèµ20ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯æ›´â€œèªæ˜â€â€”â€”ä¸éœ€è¦ç»Ÿè®¡ä¸¤æ¬¡å²›å±¿æ•°ï¼Œè€Œæ˜¯**ç›´æ¥åˆ¤æ–­æ¯ä¸ªå²›å±¿æ˜¯å¦æœ‰â€œå¹¸å­˜çš„é™†åœ°â€**ã€‚  
  æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šéå†æ¯ä¸ªå²›å±¿æ—¶ï¼Œæ£€æŸ¥å…¶ä¸­æ˜¯å¦æœ‰é™†åœ°çš„â€œä¸Šä¸‹å·¦å³éƒ½æ˜¯é™†åœ°â€ï¼ˆå³ä¸ä¼šè¢«æ·¹æ²¡ï¼‰ã€‚å¦‚æœæœ‰ï¼Œè¿™ä¸ªå²›å±¿å°±ä¸ä¼šå®Œå…¨æ·¹æ²¡ï¼›å¦åˆ™ï¼Œå®Œå…¨æ·¹æ²¡ã€‚  
  ä»£ç ä¸­çš„`t`å˜é‡ï¼ˆæ ‡è®°æ˜¯å¦æœ‰å¹¸å­˜é™†åœ°ï¼‰å’Œ`cnt`å˜é‡ï¼ˆç»Ÿè®¡å½“å‰é™†åœ°çš„ç›¸é‚»é™†åœ°æ•°ï¼‰è®¾è®¡å¾—å¾ˆå·§å¦™ï¼Œç”¨ä¸€æ¬¡DFSå°±è§£å†³äº†é—®é¢˜ï¼Œæ•ˆç‡æ›´é«˜ã€‚  


### **é¢˜è§£äº”ï¼šBFSç»Ÿè®¡æ¯ä¸ªå²›å±¿çš„å¹¸å­˜é™†åœ°æ•°ï¼ˆä½œè€…ï¼šwuhan1234ï¼Œèµ5ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£ç”¨BFSä»£æ›¿DFSï¼Œæ€è·¯æ›´â€œç›´è§‚â€ï¼ˆåƒâ€œæ°´æ³¢æ‰©æ•£â€ä¸€æ ·éå†å²›å±¿ï¼‰ã€‚  
  äº®ç‚¹åœ¨äº**ç»Ÿè®¡æ¯ä¸ªå²›å±¿çš„å¹¸å­˜é™†åœ°æ•°**ï¼šç”¨`left`å˜é‡è®°å½•å²›å±¿ä¸­â€œä¸ä¼šè¢«æ·¹æ²¡çš„é™†åœ°æ•°é‡â€ã€‚å¦‚æœ`left=0`ï¼Œè¯´æ˜è¿™ä¸ªå²›å±¿å®Œå…¨æ·¹æ²¡ã€‚  
  BFSçš„é˜Ÿåˆ—å®ç°ï¼ˆ`q`æ•°ç»„ï¼‰å¾ˆæ ‡å‡†ï¼Œé€‚åˆå­¦ä¹ â€œè¿é€šå—é—®é¢˜â€çš„BFSå†™æ³•ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå¤§å®¶å®¹æ˜“é‡åˆ°ä»¥ä¸‹3ä¸ªéš¾ç‚¹ï¼Œæˆ‘ç»“åˆä¼˜è´¨é¢˜è§£æ€»ç»“äº†åº”å¯¹ç­–ç•¥ï¼š


### **1. éš¾ç‚¹1ï¼šå¦‚ä½•é¿å…å²›å±¿åˆ†è£‚å¯¼è‡´çš„é”™è¯¯ï¼Ÿ**  
* **é—®é¢˜**ï¼šå¦‚æœä¸€ä¸ªå¤§å²›æ·¹æ²¡ååˆ†è£‚æˆå¤šä¸ªå°å²›å±¿ï¼Œç›´æ¥ç»Ÿè®¡å‰©ä½™å²›å±¿æ•°ä¼šæ¯”åŸå§‹å²›å±¿æ•°å¤šï¼Œå¯¼è‡´ç»“æœé”™è¯¯ï¼ˆæ¯”å¦‚æ ·ä¾‹ä¸­çš„æƒ…å†µï¼‰ã€‚  
* **è§£å†³ç­–ç•¥**ï¼š  
  ç»™æ¯ä¸ªåŸå§‹å²›å±¿**ç¼–å·**ï¼ˆå¦‚é¢˜è§£å››ã€å…­ï¼‰ï¼Œæ·¹æ²¡åç»Ÿè®¡â€œæœ‰å¤šå°‘ä¸ªåŸå§‹å²›å±¿è¿˜æœ‰æ®‹ç•™â€ã€‚æ¯”å¦‚é¢˜è§£å››ä¸­ç”¨`id`æ•°ç»„æ ‡è®°æ¯ä¸ªé™†åœ°å±äºå“ªä¸ªåŸå§‹å²›å±¿ï¼Œæ·¹æ²¡åç”¨`map`ç»Ÿè®¡æœ‰å¤šå°‘ä¸ª`id`è¿˜å­˜åœ¨ï¼Œè¿™æ ·å°±ä¸ä¼šæŠŠåˆ†è£‚çš„å°å²›å±¿è¯¯åˆ¤ä¸ºæ–°å²›å±¿ã€‚  


### **2. éš¾ç‚¹2ï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå²›å±¿æ˜¯å¦å®Œå…¨è¢«æ·¹æ²¡ï¼Ÿ**  
* **é—®é¢˜**ï¼šå®Œå…¨æ·¹æ²¡çš„æ¡ä»¶æ˜¯â€œå²›å±¿ä¸­æ²¡æœ‰ä»»ä½•é™†åœ°ä¿ç•™â€ï¼Œä½†æ€ä¹ˆå¿«é€Ÿåˆ¤æ–­ï¼Ÿ  
* **è§£å†³ç­–ç•¥**ï¼š  
  æ£€æŸ¥å²›å±¿ä¸­æ˜¯å¦æœ‰**ä¸è¢«æ·¹æ²¡çš„é™†åœ°**ï¼ˆå³è¯¥é™†åœ°çš„â€œä¸Šä¸‹å·¦å³éƒ½æ˜¯é™†åœ°â€ï¼‰ã€‚å¦‚æœæœ‰ï¼Œè¯´æ˜å²›å±¿ä¸ä¼šå®Œå…¨æ·¹æ²¡ï¼›å¦åˆ™ï¼Œå®Œå…¨æ·¹æ²¡ã€‚æ¯”å¦‚é¢˜è§£äºŒã€ä¸‰ä¸­ç”¨`cnt==4`ï¼ˆå››ä¸ªæ–¹å‘éƒ½æ˜¯é™†åœ°ï¼‰åˆ¤æ–­ï¼Œé¢˜è§£äº”ä¸­ç”¨`left`å˜é‡ç»Ÿè®¡å¹¸å­˜é™†åœ°æ•°ã€‚  


### **3. éš¾ç‚¹3ï¼šå¦‚ä½•é«˜æ•ˆéå†è¿é€šå—ï¼Ÿ**  
* **é—®é¢˜**ï¼šå¦‚æœæµ·åŸŸå¾ˆå¤§ï¼ˆæ¯”å¦‚`1000x1000`ï¼‰ï¼Œéå†è¿é€šå—æ—¶å®¹æ˜“è¶…æ—¶æˆ–æ ˆæº¢å‡ºï¼ˆDFSé€’å½’å¤ªæ·±ï¼‰ã€‚  
* **è§£å†³ç­–ç•¥**ï¼š  
  - ç”¨**DFS**ï¼ˆé€’å½’ï¼‰ï¼šé€‚åˆå°æ•°æ®ï¼Œä»£ç ç®€æ´ï¼ˆå¦‚é¢˜è§£ä¸€ã€äºŒï¼‰ã€‚  
  - ç”¨**BFS**ï¼ˆé˜Ÿåˆ—ï¼‰ï¼šé€‚åˆå¤§æ•°æ®ï¼Œé¿å…æ ˆæº¢å‡ºï¼ˆå¦‚é¢˜è§£äº”ï¼‰ã€‚  
  æ— è®ºç”¨å“ªç§æ–¹æ³•ï¼Œéƒ½è¦**æ ‡è®°å·²è®¿é—®çš„é™†åœ°**ï¼ˆæ¯”å¦‚`vis`æ•°ç»„ï¼‰ï¼Œé¿å…é‡å¤éå†ã€‚  


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **æ ‡è®°æ³•**ï¼šç”¨ä¸åŒå­—ç¬¦æˆ–æ•°ç»„æ ‡è®°é™†åœ°çš„çŠ¶æ€ï¼ˆå¦‚åŸå§‹å²›å±¿ã€å·²è®¿é—®ã€ä¼šè¢«æ·¹æ²¡ï¼‰ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚  
- **æ¡ä»¶åˆ¤æ–­**ï¼šæå‰åˆ¤æ–­é™†åœ°æ˜¯å¦ä¼šè¢«æ·¹æ²¡ï¼ˆæ¯”å¦‚â€œä¸Šä¸‹å·¦å³æœ‰æµ·æ´‹â€ï¼‰ï¼Œå‡å°‘åç»­å¤„ç†é‡ã€‚  
- **è¿é€šå—å¤„ç†**ï¼šDFS/BFSæ˜¯å¤„ç†è¿é€šå—é—®é¢˜çš„â€œä¸‡èƒ½å·¥å…·â€ï¼Œè¦ç†Ÿç»ƒæŒæ¡å®ƒä»¬çš„å†™æ³•ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆäº†é¢˜è§£ä¸€ã€äºŒã€äº”çš„æ€è·¯ï¼Œç”¨DFSç»Ÿè®¡åŸå§‹å²›å±¿æ•°ï¼Œç”¨BFSç»Ÿè®¡æ¯ä¸ªå²›å±¿çš„å¹¸å­˜é™†åœ°æ•°ï¼Œåˆ¤æ–­æ˜¯å¦å®Œå…¨æ·¹æ²¡ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <queue>
  using namespace std;

  const int N = 1010;
  char grid[N][N];
  bool vis[N][N];
  int n, original_islands = 0, survived_islands = 0;
  int dx[] = {-1, 1, 0, 0}; // ä¸Šä¸‹å·¦å³
  int dy[] = {0, 0, -1, 1};

  // BFSç»Ÿè®¡ä¸€ä¸ªå²›å±¿çš„å¹¸å­˜é™†åœ°æ•°
  int bfs(int x, int y) {
      queue<pair<int, int>> q;
      q.push({x, y});
      vis[x][y] = true;
      int left = 0; // å¹¸å­˜é™†åœ°æ•°

      while (!q.empty()) {
          auto [cx, cy] = q.front();
          q.pop();

          // æ£€æŸ¥å½“å‰é™†åœ°æ˜¯å¦å¹¸å­˜ï¼ˆä¸Šä¸‹å·¦å³éƒ½æ˜¯é™†åœ°ï¼‰
          int cnt = 0;
          for (int i = 0; i < 4; i++) {
              int nx = cx + dx[i];
              int ny = cy + dy[i];
              if (nx >= 0 && nx < n && ny >= 0 && ny < n && grid[nx][ny] == '#') {
                  cnt++;
                  if (!vis[nx][ny]) {
                      vis[nx][ny] = true;
                      q.push({nx, ny});
                  }
              }
          }
          if (cnt == 4) left++;
      }

      return left;
  }

  int main() {
      cin >> n;
      for (int i = 0; i < n; i++) {
          for (int j = 0; j < n; j++) {
              cin >> grid[i][j];
          }
      }

      // ç»Ÿè®¡åŸå§‹å²›å±¿æ•°ï¼Œå¹¶åˆ¤æ–­æ¯ä¸ªå²›å±¿æ˜¯å¦å®Œå…¨æ·¹æ²¡
      for (int i = 0; i < n; i++) {
          for (int j = 0; j < n; j++) {
              if (grid[i][j] == '#' && !vis[i][j]) {
                  original_islands++;
                  int left = bfs(i, j);
                  if (left == 0) { // æ²¡æœ‰å¹¸å­˜é™†åœ°ï¼Œå®Œå…¨æ·¹æ²¡
                      survived_islands++;
                  }
              }
          }
      }

      cout << survived_islands << endl;
      return 0;
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¯»å–è¾“å…¥ï¼šå°†æµ·åŸŸå­˜å‚¨åœ¨`grid`æ•°ç»„ä¸­ã€‚  
  2. éå†æµ·åŸŸï¼šç”¨`vis`æ•°ç»„æ ‡è®°å·²è®¿é—®çš„é™†åœ°ï¼Œæ‰¾åˆ°æœªè®¿é—®çš„é™†åœ°ï¼ˆå³æ–°å²›å±¿ï¼‰ã€‚  
  3. BFSéå†å²›å±¿ï¼šç»Ÿè®¡è¯¥å²›å±¿çš„å¹¸å­˜é™†åœ°æ•°ï¼ˆ`left`ï¼‰ã€‚  
  4. åˆ¤æ–­æ˜¯å¦å®Œå…¨æ·¹æ²¡ï¼šå¦‚æœ`left=0`ï¼Œè¯´æ˜è¯¥å²›å±¿å®Œå…¨æ·¹æ²¡ï¼Œ`survived_islands`åŠ 1ã€‚  


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### **é¢˜è§£ä¸€ï¼šä¸¤æ¬¡DFSç»Ÿè®¡å²›å±¿æ•°**  
* **äº®ç‚¹**ï¼šç”¨ä¸¤æ¬¡DFSåˆ†åˆ«ç»Ÿè®¡åŸå§‹å’Œæ·¹æ²¡åçš„å²›å±¿æ•°ï¼Œæ€è·¯ç®€å•ç›´æ¥ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  // ç¬¬ä¸€æ¬¡DFSï¼šç»Ÿè®¡åŸå§‹å²›å±¿æ•°
  void df(int x, int y) {
      f[x][y] = '.'; // æ ‡è®°ä¸ºå·²è®¿é—®
      for (int i = 0; i < 4; i++) {
          int xt = x + fx[i], yt = y + fy[i];
          if (f[xt][yt] == '#' && xt > 0 && xt <= n && yt > 0 && yt <= n) {
              df(xt, yt);
          }
      }
  }

  // ç¬¬äºŒæ¬¡DFSï¼šç»Ÿè®¡æ·¹æ²¡åçš„å²›å±¿æ•°
  void dfs(int x, int y) {
      d[x][y] = '.'; // æ ‡è®°ä¸ºå·²è®¿é—®
      for (int i = 0; i < 4; i++) {
          int xt = x + fx[i], yt = y + fy[i];
          if (d[xt][yt] != '.' && xt > 0 && xt <= n && yt > 0 && yt <= n) {
              dfs(xt, yt);
          }
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - ç¬¬ä¸€æ¬¡DFSï¼ˆ`df`å‡½æ•°ï¼‰ï¼šéå†åŸå§‹å²›å±¿ï¼ŒæŠŠ`f`æ•°ç»„ä¸­çš„é™†åœ°æ ‡è®°ä¸º`.`ï¼ˆå·²è®¿é—®ï¼‰ï¼Œç»Ÿè®¡`ans1`ï¼ˆåŸå§‹å²›å±¿æ•°ï¼‰ã€‚  
  - ç¬¬äºŒæ¬¡DFSï¼ˆ`dfs`å‡½æ•°ï¼‰ï¼šéå†æ·¹æ²¡åçš„å²›å±¿ï¼ˆ`d`æ•°ç»„ä¸­çš„`#`ï¼‰ï¼Œç»Ÿè®¡`ans`ï¼ˆå‰©ä½™å²›å±¿æ•°ï¼‰ã€‚  
  - å…³é”®ï¼šæ·¹æ²¡åçš„é™†åœ°ç”¨`-`æ ‡è®°ï¼Œé¿å…ç¬¬äºŒæ¬¡DFSæŠŠåˆ†è£‚çš„å°å²›å±¿è¯¯åˆ¤ä¸ºæ–°å²›å±¿ã€‚  


#### **é¢˜è§£äºŒï¼šä¸€æ¬¡éå†åˆ¤æ–­å²›å±¿æ˜¯å¦å¹¸å­˜**  
* **äº®ç‚¹**ï¼šç”¨`t`å˜é‡æ ‡è®°æ˜¯å¦æœ‰å¹¸å­˜é™†åœ°ï¼Œä¸€æ¬¡DFSè§£å†³é—®é¢˜ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void dfs(int x, int y) {
      if (!t) { // è¿˜æ²¡æ‰¾åˆ°å¹¸å­˜é™†åœ°
          cnt = 0;
          for (int i = 0; i < 4; i++) {
              if (mp[x+dx[i]][y+dy[i]] != '.') cnt++;
          }
          if (cnt == 4) { // æ‰¾åˆ°å¹¸å­˜é™†åœ°
              ans++;
              t = 1;
          }
      }
      mp[x][y] = '*'; // æ ‡è®°ä¸ºå·²è®¿é—®
      for (int i = 0; i < 4; i++) {
          int xx = x + dx[i], yy = y + dy[i];
          if (xx >=0 && xx < n && yy >=0 && yy < n && mp[xx][yy] == '#') {
              dfs(xx, yy);
          }
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `t`å˜é‡ï¼šæ ‡è®°å½“å‰å²›å±¿æ˜¯å¦æœ‰å¹¸å­˜é™†åœ°ï¼ˆ`t=1`è¡¨ç¤ºæœ‰ï¼‰ã€‚  
  - `cnt`å˜é‡ï¼šç»Ÿè®¡å½“å‰é™†åœ°çš„ç›¸é‚»é™†åœ°æ•°ï¼ˆ`cnt==4`è¡¨ç¤ºä¸Šä¸‹å·¦å³éƒ½æ˜¯é™†åœ°ï¼Œå¹¸å­˜ï¼‰ã€‚  
  - å…³é”®ï¼šä¸€æ—¦æ‰¾åˆ°å¹¸å­˜é™†åœ°ï¼Œ`t`è®¾ä¸º1ï¼Œåç»­éå†ä¸å†æ£€æŸ¥ï¼ˆå‡å°‘é‡å¤è®¡ç®—ï¼‰ã€‚  


#### **é¢˜è§£äº”ï¼šBFSç»Ÿè®¡å¹¸å­˜é™†åœ°æ•°**  
* **äº®ç‚¹**ï¼šç”¨BFSéå†å²›å±¿ï¼Œç»Ÿè®¡`left`å˜é‡ï¼ˆå¹¸å­˜é™†åœ°æ•°ï¼‰ï¼Œæ€è·¯ç›´è§‚ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  int bfs(int x, int y) {
      queue<Point> q;
      q.push({x, y});
      vis[x][y] = true;
      int left = 0;

      while (!q.empty()) {
          Point p = q.front();
          q.pop();

          int cnt = 0;
          for (int i = 0; i < 4; i++) {
              int dx = p.x + dir[i][0];
              int dy = p.y + dir[i][1];
              if (dx >=0 && dx < n && dy >=0 && dy < n && a[dx][dy] == '#') {
                  cnt++;
                  if (!vis[dx][dy]) {
                      vis[dx][dy] = true;
                      q.push({dx, dy});
                  }
              }
          }
          if (cnt == 4) left++;
      }

      return left;
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `left`å˜é‡ï¼šç»Ÿè®¡è¯¥å²›å±¿çš„å¹¸å­˜é™†åœ°æ•°ã€‚  
  - BFSé˜Ÿåˆ—ï¼šå­˜å‚¨å¾…è®¿é—®çš„é™†åœ°åæ ‡ï¼Œåƒâ€œæ°´æ³¢æ‰©æ•£â€ä¸€æ ·éå†æ•´ä¸ªå²›å±¿ã€‚  
  - å…³é”®ï¼š`left`ä¸º0æ—¶ï¼Œè¯´æ˜è¯¥å²›å±¿å®Œå…¨æ·¹æ²¡ï¼ˆ`ans++`ï¼‰ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### ğŸ® åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Šåƒç´ å²›çš„ç”Ÿå­˜æŒ‘æˆ˜ã€‹  
**é£æ ¼**ï¼š8ä½åƒç´ é£ï¼ˆç±»ä¼¼ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„ç”»é¢ï¼‰ï¼Œç”¨é²œè‰³çš„é¢œè‰²åŒºåˆ†æµ·æ´‹ã€é™†åœ°ã€å¹¸å­˜é™†åœ°å’Œæ·¹æ²¡é™†åœ°ã€‚  


### ğŸ“Œ æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•æ˜¾ç¤º`NÃ—N`çš„åƒç´ ç½‘æ ¼ï¼Œæµ·æ´‹æ˜¯**è“è‰²**ï¼ˆ`#0000FF`ï¼‰ï¼Œé™†åœ°æ˜¯**æ£•è‰²**ï¼ˆ`#8B4513`ï¼‰ã€‚  
   - é¡¶éƒ¨æœ‰â€œå¼€å§‹â€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œåº•éƒ¨æœ‰â€œé€Ÿåº¦æ»‘å—â€ï¼ˆæ§åˆ¶åŠ¨ç”»é€Ÿåº¦ï¼‰ã€‚  
   - æ’­æ”¾**8ä½é£æ ¼çš„èƒŒæ™¯éŸ³ä¹**ï¼ˆè½»å¿«çš„é’¢ç´æ—‹å¾‹ï¼‰ã€‚  

2. **DFSéå†å²›å±¿**ï¼š  
   - ç‚¹å‡»â€œå¼€å§‹â€ï¼Œä¸€ä¸ª**é»„è‰²åƒç´ äºº**ï¼ˆæ¢é™©å®¶ï¼‰ä»å·¦ä¸Šè§’å‡ºå‘ï¼Œéå†é™†åœ°ã€‚  
   - æ¢é™©å®¶èµ°è¿‡çš„é™†åœ°ä¼šå˜æˆ**æµ…æ£•è‰²**ï¼ˆ`#D2691E`ï¼‰ï¼Œå¹¶æ’­æ”¾**â€œè¸è¸â€çš„éŸ³æ•ˆ**ã€‚  
   - æ¯æ‰¾åˆ°ä¸€ä¸ªå²›å±¿ï¼Œå±å¹•å³ä¸Šè§’çš„â€œåŸå§‹å²›å±¿æ•°â€åŠ 1ï¼ˆæ˜¾ç¤ºä¸º`åŸå§‹ï¼šX`ï¼‰ã€‚  

3. **åˆ¤æ–­å¹¸å­˜é™†åœ°**ï¼š  
   - éå†åˆ°æ¯ä¸ªé™†åœ°æ—¶ï¼Œæ£€æŸ¥å…¶ä¸Šä¸‹å·¦å³æ˜¯å¦éƒ½æ˜¯é™†åœ°ã€‚å¦‚æœæ˜¯ï¼Œè¯¥é™†åœ°å˜æˆ**ç»¿è‰²**ï¼ˆ`#00FF00`ï¼‰ï¼Œå¹¶æ’­æ”¾**â€œå®â€çš„éŸ³æ•ˆ**ï¼ˆè¡¨ç¤ºâ€œå¹¸å­˜â€ï¼‰ã€‚  
   - æ¯ä¸ªå²›å±¿çš„å¹¸å­˜é™†åœ°æ•°æ˜¾ç¤ºåœ¨å±å¹•å³ä¾§ï¼ˆ`å²›å±¿1ï¼šå¹¸å­˜Yå—`ï¼‰ã€‚  

4. **æ·¹æ²¡è¿‡ç¨‹**ï¼š  
   - éå†ç»“æŸåï¼Œç‚¹å‡»â€œæ·¹æ²¡â€æŒ‰é’®ï¼Œè¾¹ç¼˜é™†åœ°ï¼ˆä¸æµ·æ´‹ç›¸é‚»ï¼‰å˜æˆ**ç°è‰²**ï¼ˆ`#808080`ï¼‰ï¼Œå¹¶æ’­æ”¾**â€œå“—å•¦â€çš„éŸ³æ•ˆ**ã€‚  
   - å®Œå…¨æ·¹æ²¡çš„å²›å±¿ä¼šè¢«**çº¢è‰²å‰å·**æ ‡è®°ï¼ˆ`Ã—`ï¼‰ï¼Œå‰©ä½™å²›å±¿ä¼šè¢«**ç»¿è‰²å¯¹å‹¾**æ ‡è®°ï¼ˆ`âˆš`ï¼‰ã€‚  

5. **ç»“æœç»Ÿè®¡**ï¼š  
   - åŠ¨ç”»ç»“æŸåï¼Œå±å¹•ä¸­å¤®æ˜¾ç¤ºâ€œå®Œå…¨æ·¹æ²¡çš„å²›å±¿æ•°ï¼šZâ€ï¼Œå¹¶æ’­æ”¾**â€œèƒœåˆ©è¿›è¡Œæ›²â€**ï¼ˆå¦‚æœæœ‰å‰©ä½™å²›å±¿ï¼‰æˆ–**â€œå¤±è´¥æç¤ºéŸ³â€**ï¼ˆå…¨æ·¹æ²¡ï¼‰ã€‚  


### ğŸ¯ è®¾è®¡æ€è·¯  
- **åƒç´ é£æ ¼**ï¼šç¬¦åˆé’å°‘å¹´çš„å®¡ç¾ï¼Œè®©ç®—æ³•æ›´â€œæœ‰è¶£â€ã€‚  
- **æ¸¸æˆåŒ–å…ƒç´ **ï¼šæ¢é™©å®¶ã€éŸ³æ•ˆã€æŒ‰é’®ï¼Œå¢åŠ äº’åŠ¨æ€§ï¼Œè®©å­¦ä¹ åƒç©æ¸¸æˆä¸€æ ·ã€‚  
- **å¯è§†åŒ–é‡ç‚¹**ï¼šçªå‡ºâ€œéå†å²›å±¿â€â€œåˆ¤æ–­å¹¸å­˜é™†åœ°â€â€œæ·¹æ²¡è¿‡ç¨‹â€è¿™ä¸‰ä¸ªæ ¸å¿ƒæ­¥éª¤ï¼Œè®©å¤§å®¶â€œçœ‹å¾—åˆ°â€ç®—æ³•çš„æ‰§è¡Œé€»è¾‘ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ğŸ” é€šç”¨æ€è·¯è¿ç§»  
â€œè¿é€šå—æŸ¥æ‰¾â€å’Œâ€œæ¡ä»¶åˆ¤æ–­â€æ˜¯å¾ˆå¤šé—®é¢˜çš„æ ¸å¿ƒï¼Œæ¯”å¦‚ï¼š  
1. **ç»Ÿè®¡å›¾åƒä¸­çš„ç‰©ä½“æ•°é‡**ï¼ˆæ¯”å¦‚ç…§ç‰‡ä¸­çš„è‹¹æœæ•°ï¼Œç”¨è¿é€šå—æŸ¥æ‰¾ï¼‰ã€‚  
2. **åˆ¤æ–­æ´ªæ°´æ·¹æ²¡èŒƒå›´**ï¼ˆæ¯”å¦‚ç»™å®šåœ°å½¢ï¼Œåˆ¤æ–­å“ªäº›åŒºåŸŸä¼šè¢«æ´ªæ°´æ·¹æ²¡ï¼Œç”¨æ¡ä»¶åˆ¤æ–­ï¼‰ã€‚  
3. **è¿·å®«é—®é¢˜**ï¼ˆæ¯”å¦‚æ‰¾è¿·å®«çš„å‡ºå£ï¼Œç”¨DFS/BFSéå†è¿é€šå—ï¼‰ã€‚  


### ğŸ“š æ´›è°·ç»ƒä¹ æ¨è  
1. **æ´›è°· P1596 ã€[USACO10OCT]Lake Counting Sã€‘**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯â€œè¿é€šå—æŸ¥æ‰¾â€çš„ç»å…¸é—®é¢˜ï¼Œè¦æ±‚ç»Ÿè®¡å†œç”°ä¸­çš„æ°´æ´¼æ•°ï¼Œå’Œâ€œå…¨çƒå˜æš–â€çš„å²›å±¿ç»Ÿè®¡æ€è·¯å®Œå…¨ä¸€è‡´ï¼Œé€‚åˆå·©å›ºåŸºç¡€ã€‚  

2. **æ´›è°· P2814 ã€å®¶è°±ã€‘**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜ç”¨DFS/BFSéå†å®¶æ—æ ‘ï¼ˆè¿é€šå—ï¼‰ï¼Œè¦æ±‚æ‰¾åˆ°æŸä¸ªäººçš„ç¥–å…ˆï¼Œé€‚åˆç»ƒä¹ â€œè¿é€šå—çš„å˜ç§â€ã€‚  

3. **æ´›è°· P3916 ã€å›¾çš„éå†ã€‘**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜ç”¨DFSéå†å›¾ï¼ˆè¿é€šå—ï¼‰ï¼Œè¦æ±‚æ‰¾åˆ°æ¯ä¸ªèŠ‚ç‚¹èƒ½åˆ°è¾¾çš„æœ€å¤§èŠ‚ç‚¹ï¼Œé€‚åˆç»ƒä¹ â€œè¿é€šå—çš„æ‰©å±•åº”ç”¨â€ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### ğŸ“ æ¥è‡ªé¢˜è§£çš„ç»éªŒ  
- **é¢˜è§£ä¸€çš„â€œæ ‡è®°æŠ€å·§â€**ï¼šä½œè€…æåˆ°â€œè¢«æµ·æ°´æ·¹æ²¡åçš„é™†åœ°åº”ç”¨å¦ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºï¼ˆå¦‚`-`ï¼‰ï¼Œè€Œä¸æ˜¯æŠŠå®ƒå˜ä¸ºæµ·æ´‹â€ï¼Œè¿™é¿å…äº†ç¬¬äºŒæ¬¡DFSç»Ÿè®¡å‰©ä½™å²›å±¿æ—¶çš„é”™è¯¯ã€‚è¿™ä¸ªæŠ€å·§æé†’æˆ‘ä»¬ï¼š**åœ¨å¤„ç†â€œä¿®æ”¹æ•°æ®â€çš„é—®é¢˜æ—¶ï¼Œè¦ä¿ç•™åŸå§‹æ•°æ®çš„ä¿¡æ¯ï¼Œé¿å…é‡å¤è®¡ç®—**ã€‚  
- **é¢˜è§£å››çš„â€œå²›å±¿ç¼–å·â€**ï¼šä½œè€…æåˆ°â€œå¦‚æœä¸€ä¸ªå¤§å²›åˆ†è£‚æˆäº†è‹¥å¹²ä¸ªå°å²›ï¼Œè¿™äº›å°å²›å…¶å®æ˜¯ç®—åœ¨åŒä¸€ä¸ªå²›é‡Œçš„â€ï¼Œæ‰€ä»¥ç”¨`id`æ•°ç»„æ ‡è®°æ¯ä¸ªé™†åœ°å±äºå“ªä¸ªåŸå§‹å²›å±¿ï¼Œè§£å†³äº†åˆ†è£‚é—®é¢˜ã€‚è¿™ä¸ªç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼š**åœ¨å¤„ç†â€œåŠ¨æ€å˜åŒ–â€çš„é—®é¢˜æ—¶ï¼Œè¦è·Ÿè¸ªæ¯ä¸ªå…ƒç´ çš„â€œåŸå§‹å½’å±â€**ã€‚  


## ğŸ‰ æ€»ç»“  
æœ¬æ¬¡åˆ†æçš„â€œå…¨çƒå˜æš–â€é—®é¢˜ï¼Œæ ¸å¿ƒæ˜¯**è¿é€šå—æŸ¥æ‰¾**å’Œ**æ¡ä»¶åˆ¤æ–­**ã€‚é€šè¿‡å­¦ä¹ ä¼˜è´¨é¢˜è§£çš„æ€è·¯å’Œä»£ç ï¼Œæˆ‘ä»¬æŒæ¡äº†DFS/BFSçš„å†™æ³•ã€æ ‡è®°æŠ€å·§ã€æ¡ä»¶åˆ¤æ–­çš„æ–¹æ³•ï¼Œè¿˜è®¾è®¡äº†ä¸€ä¸ªæœ‰è¶£çš„åƒç´ åŠ¨ç”»æ¼”ç¤ºã€‚  

è®°ä½ï¼š**ç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äºæŒç»­ç»ƒä¹ **ã€‚èµ¶ç´§å»åšæ‹“å±•ç»ƒä¹ å§ï¼Œç›¸ä¿¡ä½ ä¼šè¶Šæ¥è¶Šå‰å®³ï¼ğŸ’ª  

ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ‘‹

---
å¤„ç†ç”¨æ—¶ï¼š166.34ç§’
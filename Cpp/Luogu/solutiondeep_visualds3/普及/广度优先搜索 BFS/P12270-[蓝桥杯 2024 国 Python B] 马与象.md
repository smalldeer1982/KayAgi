# é¢˜ç›®ä¿¡æ¯

# [è“æ¡¥æ¯ 2024 å›½ Python B] é©¬ä¸è±¡

## é¢˜ç›®æè¿°

å°è“æœ‰ä¸€ä¸ªå¤§å°ä¸º $N \times N$ çš„æ£‹ç›˜ï¼ˆæ£‹å­å¯ä»¥èµ°çš„ä½ç½®æœ‰ $(N+1) \times (N+1)$ ä¸ªï¼‰ï¼Œæ£‹ç›˜ä¸Šåªæœ‰ä¸¤ä¸ªæ£‹å­ï¼šä¸€ä¸ªé©¬å’Œä¸€ä¸ªè±¡ï¼Œä»–ä»¬çš„è¡ŒåŠ¨è§„åˆ™æ˜¯ï¼šé©¬èµ°æ—¥ï¼Œé©¬å¯ä»¥èµ°åˆ°ä¸€ä¸ªæ—¥å­—å½¢çŠ¶çš„å¯¹è§’ï¼›è±¡é£ç”°ï¼Œè±¡å¯ä»¥èµ°åˆ°ä¸€ä¸ªç”°å­—å½¢çŠ¶çš„å¯¹è§’ï¼Œå³æ–œç€èµ°ä¸¤æ ¼ï¼ˆæ³¨æ„æ— éœ€éµå®ˆè±¡æ£‹ä¸­çš„è¹©é©¬è…¿ã€å¡è±¡çœ¼çš„è§„åˆ™ï¼‰ã€‚åœ¨ä¸‹å›¾æ‰€ç¤ºçš„å¤§å°ä¸º $4 \times 4$ çš„æ£‹ç›˜ä¸Šï¼Œå±•ç¤ºäº†ä¸¤ç§æ£‹å­å…·ä½“çš„è¡Œè¿›æ–¹å¼ï¼š

![](https://cdn.luogu.com.cn/upload/image_hosting/73wb4l9u.png)

åœ¨ä»»æ„ä¸€æ–¹å…ˆæ‰‹ã€æ¯ä¸€æ–¹éƒ½å¯ä»¥è¿ç»­èµ°ä»»æ„æ­¥çš„æƒ…å†µä¸‹ï¼Œè¯·é—®æœ‰æ²¡æœ‰å¯èƒ½å‡ºç°ä¸€æ–¹åƒæ‰å¦ä¸€æ–¹çš„å±€é¢ï¼Œå¦‚æœæœ‰ï¼Œè¯·è¾“å‡ºæœ€å°‘éœ€è¦ç»è¿‡å‡ æ­¥å¯ä»¥è¾¾åˆ°è¿™ä¸ªå±€é¢ï¼Œå¦åˆ™è¾“å‡º $-1$ã€‚æ³¨æ„ï¼šæ£‹å­ä¸èƒ½èµ°å‡ºæ£‹ç›˜ã€‚

## è¯´æ˜/æç¤º

### æ ·ä¾‹è¯´æ˜ 1

![](https://cdn.luogu.com.cn/upload/image_hosting/h3wu7zlr.png)

### æ ·ä¾‹è¯´æ˜ 2

å„èµ°ä¸€æ­¥å¯èƒ½å‡ºç°ä¸€æ–¹åƒæ‰å¦ä¸€æ–¹çš„å±€é¢ã€‚

### è¯„æµ‹ç”¨ä¾‹è§„æ¨¡ä¸çº¦å®š

- å¯¹äº $50\%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 \leq N \leq 10$ï¼›
- å¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 \leq N \leq 50$ï¼Œ$0 \leq x_1, y_1, x_2, y_2 \leq N$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
4 0 2 1 2```

### è¾“å‡º

```
3```

## æ ·ä¾‹ #2

### è¾“å…¥

```
4 2 2 2 3```

### è¾“å‡º

```
2```

# AIåˆ†æç»“æœ

---
# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šé©¬ä¸è±¡ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æè“æ¡¥æ¯2024å›½èµ›çš„ã€Œé©¬ä¸è±¡ã€é—®é¢˜ã€‚è¿™é“é¢˜èƒ½å¸®åŠ©æˆ‘ä»¬å·©å›º**å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰**çš„æ ¸å¿ƒæ€æƒ³ï¼Œç†è§£å¦‚ä½•ç”¨BFSè§£å†³ã€Œæœ€çŸ­è·¯å¾„ã€ç±»é—®é¢˜ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ‹†è§£æ€è·¯ï¼ŒæŒæ¡è§£é¢˜æŠ€å·§ï¼


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰`  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
BFSçš„æ ¸å¿ƒæ€æƒ³å°±åƒã€Œå¾€æ°´é‡Œæ‰”çŸ³å¤´ã€â€”â€”æ³¢çº¹ä¼š**é€å±‚æ‰©æ•£**ï¼Œç¬¬ä¸€æ¬¡ç¢°åˆ°çš„ç‚¹ä¸€å®šæ˜¯ç¦»èµ·ç‚¹æœ€è¿‘çš„ã€‚è¿™ç§ç‰¹æ€§åˆšå¥½èƒ½è§£å†³ã€Œæ‰¾æœ€çŸ­æ­¥æ•°ã€çš„é—®é¢˜ï¼  

åœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è®©é©¬å’Œè±¡åˆ†åˆ«ä»å„è‡ªçš„èµ·ç‚¹ã€Œæ‰©æ•£ã€ï¼Œè®°å½•å®ƒä»¬åˆ°æ£‹ç›˜ä¸Šæ¯ä¸ªç‚¹çš„**æœ€çŸ­æ­¥æ•°**ã€‚æœ€åï¼Œæ‰¾åˆ°æ‰€æœ‰ã€Œé©¬å’Œè±¡éƒ½èƒ½åˆ°è¾¾çš„ç‚¹ã€ï¼Œè®¡ç®—è¿™äº›ç‚¹çš„ã€Œæ­¥æ•°ä¹‹å’Œã€ï¼Œæœ€å°çš„é‚£ä¸ªå°±æ˜¯ç­”æ¡ˆï¼ˆå› ä¸ºåŒæ–¹å¯ä»¥è¿ç»­èµ°ä»»æ„æ­¥ï¼Œåªè¦åœ¨åŒä¸€ä¸ªç‚¹ç›¸é‡ï¼Œå°±èƒ½åƒæ‰å¯¹æ–¹ï¼‰ã€‚  

### æ ¸å¿ƒéš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ  
- **éš¾ç‚¹1**ï¼šæ–¹å‘æ•°ç»„çš„æ­£ç¡®å®šä¹‰ï¼ˆé©¬èµ°8ä¸ªæ–¹å‘ï¼Œè±¡èµ°4ä¸ªæ–¹å‘ï¼‰â†’ ç”¨æ•°ç»„å­˜å‚¨åç§»é‡ï¼ˆæ¯”å¦‚é©¬çš„`fx1={2,1,-1,-2,-2,-1,1,2}`ï¼Œè±¡çš„`fx2={2,2,-2,-2}`ï¼‰ã€‚  
- **éš¾ç‚¹2**ï¼šBFSçš„è¾¹ç•Œå¤„ç†ï¼ˆä¸èƒ½èµ°å‡ºæ£‹ç›˜ï¼‰â†’ æ¯æ¬¡è®¡ç®—æ–°åæ ‡æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦åœ¨`0~n`èŒƒå›´å†…ã€‚  
- **éš¾ç‚¹3**ï¼šç»“æœçš„æ­£ç¡®è®¡ç®—ï¼ˆæ‰¾æ­¥æ•°ä¹‹å’Œçš„æœ€å°å€¼ï¼‰â†’ éå†æ‰€æœ‰ç‚¹ï¼Œåªæœ‰é©¬å’Œè±¡éƒ½èƒ½åˆ°è¾¾çš„ç‚¹æ‰å‚ä¸è®¡ç®—ã€‚  

### å¯è§†åŒ–è®¾è®¡æ€è·¯  
æˆ‘ä»¬ä¼šç”¨**8ä½åƒç´ é£**è¿˜åŸæ£‹ç›˜ï¼Œé©¬ç”¨ã€Œæ£•è‰²æ–¹å—ã€ã€è±¡ç”¨ã€Œç°è‰²æ–¹å—ã€ï¼Œå·²è®¿é—®çš„ç‚¹ç”¨ã€Œæµ…è“/æµ…ç»¿ã€æ ‡è®°ï¼Œç›¸é‡ç‚¹ç”¨ã€Œé‡‘é»„ã€é«˜äº®ã€‚é…åˆéŸ³æ•ˆï¼šé©¬ç§»åŠ¨æ—¶ã€Œå“’å“’ã€å“ï¼Œè±¡ç§»åŠ¨æ—¶ã€Œå‘¼å‘¼ã€å“ï¼Œç›¸é‡æ—¶ã€Œå®ã€çš„ä¸€å£°â€”â€”è®©ä½ ç›´è§‚çœ‹åˆ°BFSçš„æ‰©æ•£è¿‡ç¨‹ï¼


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºå¤§å®¶ç­›é€‰äº†**æ€è·¯æ¸…æ™°ã€ä»£ç è§„èŒƒ**çš„ä¼˜è´¨é¢˜è§£ï¼ˆè¯„åˆ†â‰¥4æ˜Ÿï¼‰ï¼š

### é¢˜è§£ä¸€ï¼šdendkyçš„é¢˜è§£  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£ä»ã€Œé©¬çš„éå†ã€å»¶ä¼¸è€Œæ¥ï¼Œæ€è·¯éå¸¸è‡ªç„¶ï¼å®ƒç”¨`a`æ•°ç»„å­˜é©¬çš„æ­¥æ•°ï¼Œ`b`æ•°ç»„å­˜è±¡çš„æ­¥æ•°ï¼Œæ–¹å‘æ•°ç»„å®šä¹‰å¾—å¾ˆå‡†ç¡®ï¼ˆé©¬8ä¸ªæ–¹å‘ã€è±¡4ä¸ªæ–¹å‘ï¼‰ã€‚BFSè¿‡ç¨‹ä¸­ä¸¥æ ¼æ£€æŸ¥è¾¹ç•Œæ¡ä»¶ï¼Œæœ€åéå†æ‰€æœ‰ç‚¹æ‰¾æœ€å°å€¼â€”â€”é€»è¾‘ä¸¥è°¨ï¼Œä»£ç å¯è¯»æ€§é«˜ï¼Œå¾ˆé€‚åˆåˆå­¦è€…å‚è€ƒã€‚

### é¢˜è§£äºŒï¼šMarch_Seventhçš„é¢˜è§£  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£çš„æ³¨é‡Šè¶…è¯¦ç»†ï¼ç”¨`hor`ï¼ˆhorseçš„ç¼©å†™ï¼‰å­˜é©¬çš„æ­¥æ•°ï¼Œ`ele`ï¼ˆelephantçš„ç¼©å†™ï¼‰å­˜è±¡çš„æ­¥æ•°ï¼Œå˜é‡å‘½åä¸€çœ‹å°±æ‡‚ã€‚BFSéƒ¨åˆ†æŠŠé©¬å’Œè±¡çš„æœç´¢åˆ†å¼€å†™ï¼Œç»“æ„æ¸…æ™°ï¼Œè¾¹ç•Œæ¡ä»¶æ£€æŸ¥ä¸¥æ ¼ï¼ˆæ¯”å¦‚`ux >= 0 && ux <= n`ï¼‰ï¼Œèƒ½æœ‰æ•ˆé¿å…æ•°ç»„è¶Šç•Œé”™è¯¯ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### éš¾ç‚¹1ï¼šæ–¹å‘æ•°ç»„æ€ä¹ˆå†™ï¼Ÿ  
**é—®é¢˜**ï¼šé©¬èµ°ã€Œæ—¥ã€å­—æœ‰8ä¸ªæ–¹å‘ï¼Œè±¡èµ°ã€Œç”°ã€å­—æœ‰4ä¸ªæ–¹å‘ï¼Œå®¹æ˜“è®°æ··ã€‚  
**è§£å†³**ï¼šç”»ä¸ªåæ ‡ç³»ï¼Œæ•°æ¸…æ¥šåç§»é‡ï¼æ¯”å¦‚é©¬çš„æ–¹å‘æ˜¯ï¼š  
`(2,1)ã€(1,2)ã€(-1,2)ã€(-2,1)ã€(-2,-1)ã€(-1,-2)ã€(1,-2)ã€(2,-1)`ï¼›  
è±¡çš„æ–¹å‘æ˜¯ï¼š`(2,2)ã€(2,-2)ã€(-2,2)ã€(-2,-2)`ã€‚  

### éš¾ç‚¹2ï¼šBFSæ€ä¹ˆå®ç°ï¼Ÿ  
**é—®é¢˜**ï¼šé˜Ÿåˆ—æ€ä¹ˆç”¨ï¼Ÿæ­¥æ•°æ€ä¹ˆè®°å½•ï¼Ÿ  
**è§£å†³**ï¼š  
1. åˆå§‹åŒ–ï¼šæŠŠèµ·ç‚¹å…¥é˜Ÿï¼Œæ­¥æ•°è®¾ä¸º`0`ï¼›  
2. å¾ªç¯å¤„ç†é˜Ÿåˆ—ï¼šæ¯æ¬¡å–å‡ºé˜Ÿé¦–å…ƒç´ ï¼Œéå†æ‰€æœ‰æ–¹å‘ï¼›  
3. æ£€æŸ¥æ–°åæ ‡ï¼šå¦‚æœåœ¨`0~n`èŒƒå›´å†…ï¼Œä¸”æ²¡è¢«è®¿é—®è¿‡ï¼ˆæ­¥æ•°ä¸º`-1`ï¼‰ï¼Œå°±å…¥é˜Ÿå¹¶æ›´æ–°æ­¥æ•°ï¼ˆå½“å‰æ­¥æ•°+1ï¼‰ã€‚  

### éš¾ç‚¹3ï¼šç»“æœæ€ä¹ˆç®—ï¼Ÿ  
**é—®é¢˜**ï¼šå¦‚ä½•æ‰¾é©¬å’Œè±¡éƒ½èƒ½åˆ°è¾¾çš„ç‚¹ï¼Ÿ  
**è§£å†³**ï¼šéå†æ£‹ç›˜æ‰€æœ‰ç‚¹ï¼ˆä»`0`åˆ°`n`ï¼‰ï¼Œå¦‚æœ`a[i][j] != -1`ï¼ˆé©¬èƒ½åˆ°ï¼‰ä¸”`b[i][j] != -1`ï¼ˆè±¡èƒ½åˆ°ï¼‰ï¼Œå°±è®¡ç®—`a[i][j] + b[i][j]`ï¼Œå–æœ€å°å€¼ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„ç‚¹ï¼Œè¾“å‡º`-1`ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- æ–¹å‘æ•°ç»„è¦ã€Œå†™å¯¹ã€ï¼šå…ˆç”»åæ ‡ç³»ï¼Œå†æ•°åç§»é‡ï¼›  
- BFSè¦ã€Œåšå¯¹ã€ï¼šé˜Ÿåˆ—+æ­¥æ•°è®°å½•+è¾¹ç•Œæ£€æŸ¥ï¼›  
- ç»“æœè¦ã€Œç®—å¯¹ã€ï¼šéå†æ‰€æœ‰ç‚¹ï¼Œåªç®—å…±åŒå¯è¾¾çš„ç‚¹ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆäº†ä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼Œé€‚åˆå¿«é€Ÿç†è§£æ•´ä½“æ¡†æ¶ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
```cpp
#include <bits/stdc++.h>
using namespace std;

const int MAXN = 55;
int n;
int a[MAXN][MAXN], b[MAXN][MAXN]; // a:é©¬çš„æ­¥æ•°ï¼Œb:è±¡çš„æ­¥æ•°
// é©¬çš„æ–¹å‘ï¼ˆ8ä¸ªï¼‰
int fx1[8] = {2, 1, -1, -2, -2, -1, 1, 2};
int fy1[8] = {1, 2, 2, 1, -1, -2, -2, -1};
// è±¡çš„æ–¹å‘ï¼ˆ4ä¸ªï¼‰
int fx2[4] = {2, 2, -2, -2};
int fy2[4] = {2, -2, 2, -2};

struct Node { int x, y; };

// BFSå‡½æ•°ï¼šè®¡ç®—ä»(start_x, start_y)åˆ°å„ç‚¹çš„æœ€çŸ­æ­¥æ•°
void bfs(int start_x, int start_y, int dist[][MAXN], int fx[], int fy[], int dir_num) {
    queue<Node> q;
    memset(dist, -1, sizeof(int) * MAXN * MAXN); // åˆå§‹åŒ–ä¸º-1ï¼ˆæœªè®¿é—®ï¼‰
    dist[start_x][start_y] = 0; // èµ·ç‚¹æ­¥æ•°ä¸º0
    q.push({start_x, start_y});
    
    while (!q.empty()) {
        Node now = q.front();
        q.pop();
        for (int i = 0; i < dir_num; ++i) {
            int nx = now.x + fx[i];
            int ny = now.y + fy[i];
            // æ£€æŸ¥è¾¹ç•Œ+æœªè®¿é—®
            if (nx >= 0 && nx <= n && ny >= 0 && ny <= n && dist[nx][ny] == -1) {
                dist[nx][ny] = dist[now.x][now.y] + 1; // æ­¥æ•°+1
                q.push({nx, ny});
            }
        }
    }
}

int main() {
    int hx, hy, ex, ey;
    cin >> n >> hx >> hy >> ex >> ey;
    // ç‰¹åˆ¤ï¼šåˆå§‹ä½ç½®ç›¸åŒï¼Œç›´æ¥è¾“å‡º0
    if (hx == ex && hy == ey) {
        cout << 0 << endl;
        return 0;
    }
    // é©¬çš„BFS
    bfs(hx, hy, a, fx1, fy1, 8);
    // è±¡çš„BFS
    bfs(ex, ey, b, fx2, fy2, 4);
    
    int ans = INT_MAX;
    // éå†æ‰€æœ‰ç‚¹ï¼Œæ‰¾æ­¥æ•°ä¹‹å’Œçš„æœ€å°å€¼
    for (int i = 0; i <= n; ++i) {
        for (int j = 0; j <= n; ++j) {
            if (a[i][j] != -1 && b[i][j] != -1) {
                ans = min(ans, a[i][j] + b[i][j]);
            }
        }
    }
    // è¾“å‡ºç»“æœï¼šæ— è§£åˆ™è¾“å‡º-1
    cout << (ans == INT_MAX ? -1 : ans) << endl;
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
1. å®šä¹‰æ–¹å‘æ•°ç»„å’ŒBFSå‡½æ•°ï¼›  
2. è¾“å…¥èµ·ç‚¹ï¼Œç‰¹åˆ¤åˆå§‹ä½ç½®ç›¸åŒçš„æƒ…å†µï¼›  
3. åˆ†åˆ«å¯¹é©¬å’Œè±¡åšBFSï¼Œè®°å½•æ­¥æ•°ï¼›  
4. éå†æ‰€æœ‰ç‚¹ï¼Œæ‰¾æœ€å°å€¼å¹¶è¾“å‡ºã€‚


### é¢˜è§£ä¸€ï¼ˆdendkyï¼‰çš„æ ¸å¿ƒä»£ç ç‰‡æ®µ  
* **äº®ç‚¹**ï¼šBFSé€»è¾‘æ¸…æ™°ï¼Œæ–¹å‘æ•°ç»„å‡†ç¡®ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
// é©¬çš„BFS
queue<Node> q;
q.push({x1, y1});
a[x1][y1] = 0; // èµ·ç‚¹æ­¥æ•°ä¸º0
while (!q.empty()) {
    Node fr = q.front();
    q.pop();
    for (int i = 0; i < 8; ++i) {
        int dx = fr.x + fx1[i], dy = fr.y + fy1[i];
        // æ£€æŸ¥è¾¹ç•Œ+æœªè®¿é—®
        if (dx >= 0 && dy >= 0 && dx <= n && dy <= n && a[dx][dy] == -1) {
            q.push({dx, dy});
            a[dx][dy] = a[fr.x][fr.y] + 1; // æ­¥æ•°+1
        }
    }
}
```
* **ä»£ç è§£è¯»**ï¼š  
è¿™æ®µä»£ç æ˜¯é©¬çš„BFSå®ç°â€”â€”æŠŠèµ·ç‚¹å…¥é˜Ÿï¼Œæ¯æ¬¡å–å‡ºé˜Ÿé¦–å…ƒç´ ï¼Œéå†8ä¸ªæ–¹å‘ã€‚å¦‚æœæ–°åæ ‡åˆæ³•ä¸”æœªè¢«è®¿é—®è¿‡ï¼Œå°±å…¥é˜Ÿå¹¶æ›´æ–°æ­¥æ•°ã€‚å…³é”®æ˜¯**æ–¹å‘æ•°ç»„`fx1/fy1`çš„æ­£ç¡®æ€§**å’Œ**æ­¥æ•°çš„ç´¯åŠ **ï¼  
* **å­¦ä¹ ç¬”è®°**ï¼šBFSçš„æ ¸å¿ƒæ˜¯ã€Œé˜Ÿåˆ—+é€å±‚æ‰©æ•£ã€ï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾çš„ç‚¹å°±æ˜¯æœ€çŸ­è·¯å¾„ã€‚


### é¢˜è§£äºŒï¼ˆMarch_Seventhï¼‰çš„æ ¸å¿ƒä»£ç ç‰‡æ®µ  
* **äº®ç‚¹**ï¼šå˜é‡å‘½åç›´è§‚ï¼Œæ³¨é‡Šè¯¦ç»†ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
```cpp
void bfs1() { // æœé©¬
    memset(vis, 0, sizeof(vis)); // åˆå§‹åŒ–è®¿é—®æ•°ç»„
    queue<pair<int, int>> q;
    q.push({hx, hy});
    hor[hx][hy] = 0; // é©¬çš„èµ·ç‚¹æ­¥æ•°ä¸º0
    while (!q.empty()) {
        int u = q.front().first, v = q.front().second;
        q.pop();
        if (u < 0 || u > n || v < 0 || v > n || vis[u][v]) continue; // è·³è¿‡ä¸åˆæ³•çš„ç‚¹
        vis[u][v] = 1; // æ ‡è®°ä¸ºå·²è®¿é—®
        for (int i = 0; i < 8; ++i) {
            int ux = u + kdh[i][0], uy = v + kdh[i][1];
            if (ux >= 0 && ux <= n && uy >= 0 && uy <= n && !vis[ux][uy]) {
                q.push({ux, uy});
                hor[ux][uy] = hor[u][v] + 1; // æ­¥æ•°+1
            }
        }
    }
}
```
* **ä»£ç è§£è¯»**ï¼š  
è¿™é‡Œç”¨`pair`å­˜å‚¨åæ ‡ï¼Œ`hor`ï¼ˆhorseï¼‰æ•°ç»„å­˜é©¬çš„æ­¥æ•°ï¼Œ`vis`æ•°ç»„æ ‡è®°å·²è®¿é—®çš„ç‚¹â€”â€”å˜é‡å‘½åå¾ˆç›´è§‚ï¼BFSè¿‡ç¨‹ä¸­ï¼Œå…ˆæ£€æŸ¥å½“å‰ç‚¹æ˜¯å¦åˆæ³•ï¼Œå†éå†æ–¹å‘â€”â€”é¿å…é‡å¤å¤„ç†æ— æ•ˆç‚¹ã€‚  
* **å­¦ä¹ ç¬”è®°**ï¼šç”¨`vis`æ•°ç»„æ ‡è®°å·²è®¿é—®çš„ç‚¹ï¼Œå¯ä»¥é¿å…é‡å¤å…¥é˜Ÿï¼Œæé«˜æ•ˆç‡ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### åŠ¨ç”»ä¸»é¢˜ï¼šåƒç´ æ£‹ç›˜ä¸Šçš„ã€Œé©¬è±¡å¤§å†’é™©ã€  
æˆ‘ä»¬ç”¨**8ä½FCæ¸¸æˆé£æ ¼**è¿˜åŸè§£é¢˜è¿‡ç¨‹ï¼Œè®©ä½ ã€Œçœ‹å¾—åˆ°ã€å¬å¾—è§ã€BFSçš„æ‰©æ•£ï¼

### æ ¸å¿ƒè®¾è®¡ç»†èŠ‚  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - 8ä½åƒç´ æ£‹ç›˜ï¼ˆ`nÃ—n`ï¼‰ï¼Œé©¬åœ¨èµ·ç‚¹ï¼ˆæ£•è‰²æ–¹å—ï¼‰ï¼Œè±¡åœ¨èµ·ç‚¹ï¼ˆç°è‰²æ–¹å—ï¼‰ï¼›  
   - æ§åˆ¶é¢æ¿ï¼šã€Œå¼€å§‹/æš‚åœã€ã€Œå•æ­¥ã€ã€Œé‡ç½®ã€æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—ï¼ˆ1~5å€é€Ÿï¼‰ï¼›  
   - èƒŒæ™¯éŸ³ä¹ï¼šå¾ªç¯æ’­æ”¾è½»æ¾çš„8ä½BGMï¼ˆæ¯”å¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„å°å…³å¡éŸ³ä¹ï¼‰ã€‚  

2. **BFSæ‰©æ•£æ¼”ç¤º**ï¼š  
   - é©¬çš„æ‰©æ•£ï¼šç‚¹å‡»ã€Œå¼€å§‹ã€ï¼Œé©¬ä»èµ·ç‚¹å‡ºå‘ï¼Œæ¯ä¸€æ­¥ç”¨ã€Œæµ…è“ã€æ ‡è®°å·²è®¿é—®çš„ç‚¹ï¼Œé˜Ÿåˆ—ç”¨ã€Œåƒç´ æ–¹å—ã€å †å åœ¨å³ä¾§ï¼Œæ˜¾ç¤ºå½“å‰è¦å¤„ç†çš„ç‚¹ï¼›  
   - è±¡çš„æ‰©æ•£ï¼šé©¬çš„BFSå®Œæˆåï¼Œè±¡å¼€å§‹æ‰©æ•£ï¼Œç”¨ã€Œæµ…ç»¿ã€æ ‡è®°å·²è®¿é—®çš„ç‚¹ï¼›  
   - ç›¸é‡ç‚¹ï¼šå½“é©¬å’Œè±¡çš„æ‰©æ•£åŒºåŸŸæœ‰äº¤é›†æ—¶ï¼Œäº¤é›†ç‚¹å˜ä¸ºã€Œé‡‘é»„ã€ï¼Œå¼¹å‡ºæç¤ºæ¡†æ˜¾ç¤ºã€Œæ­¥æ•°ä¹‹å’Œï¼šXã€ï¼Œå¹¶æ’­æ”¾ã€Œå®ã€çš„éŸ³æ•ˆã€‚  

3. **äº¤äº’è®¾è®¡**ï¼š  
   - å•æ­¥æ‰§è¡Œï¼šç‚¹å‡»ã€Œå•æ­¥ã€ï¼Œå¯ä»¥ä¸€æ­¥æ­¥çœ‹BFSçš„æ¯ä¸€æ­¥ï¼ˆé€‚åˆä»”ç»†ç ”ç©¶ï¼‰ï¼›  
   - è‡ªåŠ¨æ’­æ”¾ï¼šæ‹–åŠ¨é€Ÿåº¦æ»‘å—ï¼Œè°ƒæ•´æ‰©æ•£é€Ÿåº¦ï¼ˆ1å€é€Ÿæ…¢ï¼Œ5å€é€Ÿå¿«ï¼‰ï¼›  
   - é‡ç½®ï¼šå›åˆ°åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹æ¼”ç¤ºã€‚  

### æŠ€æœ¯å®ç°ï¼ˆè½»é‡åŒ–ï¼‰  
ç”¨**HTML+CSS+JavaScript**çš„`Canvas`ç»˜åˆ¶åƒç´ æ£‹ç›˜ï¼Œç”¨`Web Audio API`æ’­æ”¾éŸ³æ•ˆï¼ˆæ¯”å¦‚é©¬ç§»åŠ¨çš„ã€Œå“’å“’ã€å£°æ˜¯`440Hz`çš„æ–¹æ³¢ï¼Œè±¡ç§»åŠ¨çš„ã€Œå‘¼å‘¼ã€å£°æ˜¯`220Hz`çš„ä¸‰è§’æ³¢ï¼‰ã€‚é˜Ÿåˆ—ç”¨æ•°ç»„å­˜å‚¨ï¼ŒåŠ¨æ€æ›´æ–°â€”â€”æ•´ä¸ªæ¼”ç¤ºå¯ä»¥æœ¬åœ°è¿è¡Œï¼Œæ— éœ€è”ç½‘ï¼


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜

### ç›¸ä¼¼é—®é¢˜ï¼ˆå·©å›ºBFSï¼‰  
- æ´›è°·P1443ã€Šé©¬çš„éå†ã€‹ï¼šè®¡ç®—é©¬åˆ°æ£‹ç›˜å„ç‚¹çš„æœ€çŸ­æ­¥æ•°ï¼ˆçº¯é©¬çš„BFSï¼Œç»ƒæ–¹å‘æ•°ç»„ï¼‰ï¼›  
- æ´›è°·P1162ã€Šå¡«æ¶‚é¢œè‰²ã€‹ï¼šç”¨BFSå¡«å……é—­åˆåŒºåŸŸï¼ˆç»ƒè¿é€šåŒºåŸŸå¤„ç†ï¼‰ï¼›  
- æ´›è°·P1032ã€Šå­—ä¸²å˜æ¢ã€‹ï¼šç”¨BFSæ‰¾å­—ç¬¦ä¸²çš„æœ€çŸ­å˜æ¢è·¯å¾„ï¼ˆç»ƒBFSå¤„ç†éæ£‹ç›˜é—®é¢˜ï¼‰ã€‚  

### æ‹“å±•ç»ƒä¹ æ¨è  
1. **æ´›è°·P1443**ï¼šé©¬çš„éå†â€”â€”ç›´æ¥å¥—ç”¨æœ¬é¢˜çš„é©¬BFSä»£ç ï¼Œå·©å›ºæ–¹å‘æ•°ç»„å’ŒBFSçš„åŸºæœ¬é€»è¾‘ï¼›  
2. **æ´›è°·P1162**ï¼šå¡«æ¶‚é¢œè‰²â€”â€”ç”¨BFSä»è¾¹ç•Œå¼€å§‹å¡«å……ï¼Œå­¦ä¼šå¤„ç†ã€Œå°é—­åŒºåŸŸã€ï¼›  
3. **æ´›è°·P1032**ï¼šå­—ä¸²å˜æ¢â€”â€”ç”¨BFSå¤„ç†å­—ç¬¦ä¸²ï¼Œæå‡å¯¹ã€ŒçŠ¶æ€æ‰©æ•£ã€çš„ç†è§£ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

### å‚è€ƒç»éªŒï¼ˆæ¥è‡ªé¢˜è§£ä½œè€…çš„è¸©å‘æ•™è®­ï¼‰  
- **æ–¹å‘æ•°ç»„è¦æ ¸å¯¹**ï¼šæœ‰ä½œè€…ä¸€å¼€å§‹æŠŠé©¬çš„æ–¹å‘å†™å°‘äº†1ä¸ªï¼Œå¯¼è‡´BFSæ‰©æ•£ä¸å…¨â€”â€”ä¸€å®šè¦æ•°æ¸…æ¥šé©¬çš„8ä¸ªæ–¹å‘ï¼  
- **è¾¹ç•Œæ¡ä»¶è¦ä¸¥æ ¼**ï¼šæœ‰ä½œè€…å¿˜è®°æ£€æŸ¥`nx <= n`ï¼ˆåªæ£€æŸ¥äº†`nx >= 0`ï¼‰ï¼Œå¯¼è‡´æ•°ç»„è¶Šç•Œé”™è¯¯â€”â€”ä¸€å®šè¦æŠŠã€Œ0~nã€çš„æ¡ä»¶å†™å…¨ï¼  
- **ç»“æœè¦éå†æ‰€æœ‰ç‚¹**ï¼šæœ‰ä½œè€…åªéå†äº†`1~n-1`çš„ç‚¹ï¼Œæ¼æ‰äº†`0`å’Œ`n`â€”â€”æ£‹ç›˜çš„è¾¹ç•Œç‚¹ä¹Ÿæ˜¯åˆæ³•çš„ï¼  

### Kayçš„æ€»ç»“  
è¿™äº›ç»éªŒéƒ½æ˜¯ã€Œè¸©å‘ã€è¸©å‡ºæ¥çš„ï¼ç¼–ç¨‹æ—¶ï¼Œ**ç»†èŠ‚å†³å®šæˆè´¥**â€”â€”æ–¹å‘æ•°ç»„ã€è¾¹ç•Œæ¡ä»¶ã€éå†èŒƒå›´ï¼Œæ¯ä¸€æ­¥éƒ½è¦ä»”ç»†æ£€æŸ¥ã€‚


## ç»“è¯­

æœ¬æ¬¡å…³äºã€Œé©¬ä¸è±¡ã€çš„åˆ†æå°±åˆ°è¿™é‡Œï¼BFSæ˜¯ç®—æ³•ä¸­çš„ã€ŒåŸºç¡€å·¥å…·ã€ï¼ŒæŒæ¡å®ƒèƒ½è§£å†³å¾ˆå¤šã€Œæœ€çŸ­è·¯å¾„ã€é—®é¢˜ã€‚è®°ä½ï¼š**ç¼–ç¨‹çš„æå‡åœ¨äºã€Œå¤šç»ƒ+å¤šæ€è€ƒã€**â€”â€”ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼çš„é¢˜ï¼Œä½ ä¸€å®šèƒ½è½»æ¾è§£å†³ï¼

ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜~ ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š145.16ç§’
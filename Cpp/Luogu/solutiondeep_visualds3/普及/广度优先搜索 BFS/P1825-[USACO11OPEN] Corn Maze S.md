# é¢˜ç›®ä¿¡æ¯

# [USACO11OPEN] Corn Maze S

## é¢˜ç›®æè¿°

This past fall, Farmer John took the cows to visit a corn maze. But this wasn't just any corn maze: it featured several gravity-powered teleporter slides, which cause cows to teleport instantly from one point in the maze to another. The slides work in both directions: a cow can slide from the slide's start to the end instantly, or from the end to the start. If a cow steps on a space that hosts either end of a slide, she must use the slide.

The outside of the corn maze is entirely corn except for a single exit.

The maze can be represented by an N x M (2 <= N <= 300; 2 <= M <= 300) grid. Each grid element contains one of these items:

\* Corn (corn grid elements are impassable) 

\* Grass (easy to pass through!) 

\* A slide endpoint (which will transport a cow to the other endpoint) 

\* The exit

A cow can only move from one space to the next if they are adjacent and neither contains corn. Each grassy space has four potential neighbors to which a cow can travel. It takes 1 unit of time to move from a grassy space to an adjacent space; it takes 0 units of time to move from one slide endpoint to the other.

Corn-filled spaces are denoted with an octothorpe (#). Grassy spaces are denoted with a period (.). Pairs of slide endpoints are denoted with the same uppercase letter (A-Z), and no two different slides have endpoints denoted with the same letter. The exit is denoted with the equals sign (=).

Bessie got lost. She knows where she is on the grid, and marked her current grassy space with the 'at' symbol (@). What is the minimum time she needs to move to the exit space?


## è¯´æ˜/æç¤º

ä¾‹å¦‚ä»¥ä¸‹çŸ©é˜µï¼Œ$N=5,M=6$ã€‚

```plain
###=##
#.W.##
#.####
#.@W##
######
```

å”¯ä¸€çš„ä¸€ä¸ªè£…ç½®çš„ç»“ç‚¹ç”¨å¤§å†™å­—æ¯ $\tt{W}$ è¡¨ç¤ºã€‚

æœ€ä¼˜æ–¹æ¡ˆä¸ºï¼šå…ˆå‘å³èµ°åˆ°è£…ç½®çš„ç»“ç‚¹ï¼ŒèŠ±è´¹ä¸€ä¸ªå•ä½æ—¶é—´ï¼Œå†åˆ°è£…ç½®çš„å¦ä¸€ä¸ªç»“ç‚¹ä¸Šï¼ŒèŠ±è´¹ $0$ ä¸ªå•ä½æ—¶é—´ï¼Œç„¶åå†å‘å³èµ°ä¸€ä¸ªï¼Œå†å‘ä¸Šèµ°ä¸€ä¸ªï¼Œåˆ°è¾¾å‡ºå£å¤„ï¼Œæ€»å…±èŠ±è´¹äº† $3$ ä¸ªå•ä½æ—¶é—´ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
5 6
###=##
#.W.##
#.####
#.@W##
######
```

### è¾“å‡º

```
3```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[USACO11OPEN] Corn Maze S æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š**å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰**ï¼ˆæœ€çŸ­è·¯å¾„é—®é¢˜ï¼‰


ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œç‰ç±³è¿·å®«â€é—®é¢˜ï¼Œå…³é”®åœ¨äºæ‰¾åˆ°ä»èµ·ç‚¹`@`åˆ°ç»ˆç‚¹`=`çš„**æœ€çŸ­æ—¶é—´è·¯å¾„**ã€‚è¿·å®«ä¸­æœ‰è‰åœ°ï¼ˆ`.`ï¼‰ã€ç‰ç±³ï¼ˆ`#`ï¼Œä¸å¯èµ°ï¼‰ã€ä¼ é€é—¨ï¼ˆæˆå¯¹å­—æ¯ï¼Œå¦‚`W`ï¼‰ã€‚æ¯æ­¥ç§»åŠ¨éœ€1å•ä½æ—¶é—´ï¼Œè¸©ä¸Šä¼ é€é—¨ä¼š**å¼ºåˆ¶ç¬é—´è·³è½¬**ï¼ˆ0æ—¶é—´ï¼‰åˆ°å¦ä¸€ç«¯ç‚¹ã€‚  

**BFSçš„æ ¸å¿ƒæ€æƒ³**ï¼šåƒâ€œæ´ªæ°´æ³›æ»¥â€ä¸€æ ·ï¼Œä»èµ·ç‚¹å¼€å§‹é€å±‚æ‰©å±•ï¼ˆæ¯ä¸€æ­¥éƒ½è®¿é—®æ‰€æœ‰å½“å‰å¯è¾¾çš„ç‚¹ï¼‰ï¼Œ**ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»ˆç‚¹çš„è·¯å¾„ä¸€å®šæ˜¯æœ€çŸ­çš„**ï¼ˆå› ä¸ºæ¯æ­¥æƒé‡ç›¸åŒï¼‰ã€‚è¿™å°±åƒä½ åœ¨è¿·å®«é‡Œï¼Œæ¯ä¸€æ­¥éƒ½å°è¯•æ‰€æœ‰å¯èƒ½çš„æ–¹å‘ï¼Œæœ€å…ˆèµ°åˆ°å‡ºå£çš„è·¯çº¿è‚¯å®šæ˜¯æœ€å¿«çš„ï¼  

**æœ¬é¢˜ä¸­BFSçš„åº”ç”¨**ï¼š  
- ç”¨é˜Ÿåˆ—å­˜å‚¨å½“å‰å¯è¾¾çš„ä½ç½®åŠåˆ°è¾¾è¯¥ä½ç½®çš„æ—¶é—´ã€‚  
- æ¯æ¬¡ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªä½ç½®ï¼Œå°è¯•å‘å››ä¸ªæ–¹å‘ç§»åŠ¨ï¼ˆä¸Šä¸‹å·¦å³ï¼‰ã€‚  
- è‹¥ç§»åŠ¨åˆ°ä¼ é€é—¨ï¼ˆå­—æ¯ï¼‰ï¼Œåˆ™**ç«‹å³è·³è½¬**åˆ°å¦ä¸€ç«¯ç‚¹ï¼ˆéœ€æå‰å­˜å‚¨æ¯ä¸ªå­—æ¯çš„ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œå¹¶å°†è·³è½¬åçš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ï¼ˆæ—¶é—´=å½“å‰æ—¶é—´+1ï¼Œå› ä¸ºç§»åŠ¨åˆ°ä¼ é€é—¨ç”¨äº†1æ—¶é—´ï¼Œè·³è½¬ä¸èŠ±æ—¶é—´ï¼‰ã€‚  
- æ ‡è®°å·²è®¿é—®çš„ä½ç½®ï¼Œé¿å…é‡å¤å¤„ç†ï¼ˆBFSä¿è¯ç¬¬ä¸€æ¬¡è®¿é—®æ˜¯æœ€çŸ­è·¯å¾„ï¼Œæ— éœ€å†æ¬¡å¤„ç†ï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
- ç”¨**8ä½åƒç´ é£æ ¼**å±•ç¤ºè¿·å®«ï¼ˆç»¿è‰²è‰åœ°ã€æ£•è‰²ç‰ç±³ã€è“è‰²ä¼ é€é—¨ã€çº¢è‰²å¥¶ç‰›ã€é»„è‰²å‡ºå£ï¼‰ã€‚  
- åŠ¨ç”»ä¸­ï¼Œå¥¶ç‰›æ¯ç§»åŠ¨ä¸€æ­¥ï¼Œå½“å‰ä½ç½®ä¼š**çº¢è‰²é«˜äº®**ï¼Œå·²è®¿é—®çš„ä½ç½®å˜**ç°è‰²**ã€‚  
- è¸©ä¸Šä¼ é€é—¨æ—¶ï¼Œä¼ é€é—¨ä¼š**é—ªçƒ**ï¼Œå¹¶æ’­æ”¾â€œå’»â€çš„éŸ³æ•ˆï¼Œå¥¶ç‰›ç¬é—´å‡ºç°åœ¨å¦ä¸€ç«¯ç‚¹ã€‚  
- åˆ°è¾¾ç»ˆç‚¹æ—¶ï¼Œæ’­æ”¾â€œå®â€çš„èƒœåˆ©éŸ³æ•ˆï¼Œå‡ºå£é—ªçƒåº†ç¥ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºäº†å¸®åŠ©å¤§å®¶å¿«é€ŸæŒæ¡è§£é¢˜æ€è·¯ï¼Œæˆ‘ç­›é€‰äº†**ç‚¹èµé«˜ã€æ€è·¯æ¸…æ™°ã€ä»£ç è§„èŒƒ**çš„4é“é¢˜è§£ï¼Œä¸€èµ·æ¥çœ‹çœ‹å§ï¼


### **é¢˜è§£ä¸€ï¼šlxzy_çš„BFSåŸºç¡€è§£æ³•ï¼ˆèµï¼š193ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  è¿™é“é¢˜è§£æ˜¯**BFSçš„æ ‡å‡†å®ç°**ï¼Œæ€è·¯éå¸¸æ¸…æ™°ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚ä½œè€…ç”¨`struct point`å­˜å‚¨é˜Ÿåˆ—ä¸­çš„ä½ç½®ï¼ˆxã€yåæ ‡+æ—¶é—´tï¼‰ï¼Œç”¨`queue`å®ç°BFSã€‚å¤„ç†ä¼ é€é—¨æ—¶ï¼Œä¸“é—¨å†™äº†`goto_another`å‡½æ•°æ‰¾å¦ä¸€ç«¯ç‚¹ï¼Œç„¶åå°†è·³è½¬åçš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ã€‚ä»£ç æ³¨é‡Šè¯¦ç»†ï¼Œå˜é‡å‘½åç›´è§‚ï¼ˆå¦‚`vis`æ•°ç»„æ ‡è®°å·²è®¿é—®ï¼‰ï¼Œè¾¹ç•Œæ¡ä»¶å¤„ç†ä¸¥è°¨ï¼ˆå¦‚åˆ¤æ–­æ˜¯å¦è¶Šç•Œã€æ˜¯å¦æ’ç‰ç±³ï¼‰ã€‚  
  **äº®ç‚¹**ï¼šç”¨å‡½æ•°å°è£…ä¼ é€é—¨å¤„ç†é€»è¾‘ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼›BFSæµç¨‹ç¬¦åˆâ€œé€å±‚æ‰©å±•â€çš„æ ¸å¿ƒæ€æƒ³ï¼Œå®¹æ˜“æ¨¡ä»¿ã€‚


### **é¢˜è§£äºŒï¼šlzxhdxxçš„åŒå‘BFSä¼˜åŒ–è§£æ³•ï¼ˆèµï¼š87ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  è¿™é“é¢˜è§£ç”¨äº†**åŒå‘BFS**ï¼ˆä»èµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶æœç´¢ï¼‰ï¼Œå¤§å¤§å‡å°‘äº†æœç´¢ç©ºé—´ï¼Œé€Ÿåº¦æ›´å¿«ï¼ä½œè€…ç”¨ä¸¤ä¸ªé˜Ÿåˆ—åˆ†åˆ«å­˜å‚¨èµ·ç‚¹å’Œç»ˆç‚¹çš„æœç´¢çŠ¶æ€ï¼Œæ¯æ¬¡æ‰©å±•çŠ¶æ€å°‘çš„é˜Ÿåˆ—ï¼Œå½“ä¸¤ä¸ªæ–¹å‘çš„æœç´¢ç›¸é‡æ—¶ï¼Œè¿”å›ç»“æœã€‚å¤„ç†ä¼ é€é—¨æ—¶ï¼Œç”¨`handle`å‡½æ•°æ‰¾å¦ä¸€ç«¯ç‚¹ï¼Œå¹¶ç”¨`vis`æ•°ç»„æ ‡è®°ä¸¤ä¸ªæ–¹å‘çš„è®¿é—®çŠ¶æ€ã€‚  
  **äº®ç‚¹**ï¼šåŒå‘BFSçš„åº”ç”¨ï¼Œä¼˜åŒ–äº†æ—¶é—´å¤æ‚åº¦ï¼›å¯¹ä¼ é€é—¨çš„å¤„ç†ç¬¦åˆé¢˜ç›®è¦æ±‚ï¼ˆå¼ºåˆ¶è·³è½¬ï¼‰ï¼Œä»£ç æ•ˆç‡é«˜ã€‚


### **é¢˜è§£ä¸‰ï¼šmaorui_cowçš„ç®€çŸ­BFSè§£æ³•ï¼ˆèµï¼š65ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  è¿™é“é¢˜è§£çš„ä»£ç éå¸¸**ç®€æ´**ï¼Œä½†æ€è·¯å®Œå…¨æ­£ç¡®ã€‚ä½œè€…ç”¨`struct node`å­˜å‚¨ä½ç½®å’Œæ­¥æ•°ï¼Œç”¨`queue`å®ç°BFSã€‚å¤„ç†ä¼ é€é—¨æ—¶ï¼Œç”¨`cz`å‡½æ•°æ‰¾å¦ä¸€ç«¯ç‚¹ï¼Œç„¶åå°†è·³è½¬åçš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ã€‚ä»£ç ä¸­æ²¡æœ‰å†—ä½™çš„å˜é‡ï¼Œé€‚åˆå¿«é€Ÿç†è§£BFSçš„æ ¸å¿ƒé€»è¾‘ã€‚  
  **äº®ç‚¹**ï¼šä»£ç ç®€çŸ­ï¼Œå®¹æ˜“è®°å¿†ï¼›BFSæµç¨‹ç´§å‡‘ï¼Œé€‚åˆåˆå­¦è€…æ¨¡ä»¿ã€‚


### **é¢˜è§£å››ï¼šTYHTerrenceçš„å‘ç‚¹è¯´æ˜è§£æ³•ï¼ˆèµï¼š23ï¼‰**  
* **ç‚¹è¯„**ï¼š  
  è¿™é“é¢˜è§£ä¸ä»…ç»™å‡ºäº†æ­£ç¡®çš„ä»£ç ï¼Œè¿˜**æ€»ç»“äº†å‘ç‚¹**ï¼ˆå¦‚ä¼ é€é—¨æ˜¯ä¸­ä»‹ç‚¹ï¼Œä¸èƒ½æ ‡è®°ä¸ºå·²è®¿é—®ï¼‰ï¼Œå¸®åŠ©å¤§å®¶é¿å…è¸©é›·ã€‚ä½œè€…ç”¨`struct pos`å­˜å‚¨ä½ç½®å’Œæ­¥æ•°ï¼Œç”¨`queue`å®ç°BFSã€‚å¤„ç†ä¼ é€é—¨æ—¶ï¼Œç›´æ¥å°†å¯¹åº”çš„ç«¯ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œä»£ç ä¸­çš„`check`å‡½æ•°åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼ˆè¶Šç•Œã€æ’ç‰ç±³ã€å·²è®¿é—®ï¼‰ã€‚  
  **äº®ç‚¹**ï¼šå¯¹å‘ç‚¹çš„è¯´æ˜éå¸¸å®ç”¨ï¼Œå¸®åŠ©ç†è§£é¢˜ç›®ä¸­çš„ç‰¹æ®Šæ¡ä»¶ï¼›ä»£ç é€»è¾‘æ¸…æ™°ï¼Œå®¹æ˜“è°ƒè¯•ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå¤§å®¶å®¹æ˜“é‡åˆ°ä»¥ä¸‹**3ä¸ªæ ¸å¿ƒéš¾ç‚¹**ï¼Œç»“åˆä¼˜è´¨é¢˜è§£çš„åšæ³•ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•è§£å†³ï¼Œä»¥åŠæœ‰å“ªäº›**è§£é¢˜æŠ€å·§**ï¼


### **1. éš¾ç‚¹1ï¼šä¼ é€é—¨çš„å¼ºåˆ¶è·³è½¬å¤„ç†**  
**é—®é¢˜**ï¼šè¸©ä¸Šä¼ é€é—¨å¿…é¡»ç«‹å³è·³è½¬ï¼Œä¸”è·³è½¬ä¸èŠ±æ—¶é—´ï¼Œå¦‚ä½•æ­£ç¡®è®¡ç®—æ­¥æ•°ï¼Ÿ  
**è§£å†³æ–¹æ¡ˆ**ï¼š  
  - å½“ç§»åŠ¨åˆ°ä¼ é€é—¨çš„ä½ç½®æ—¶ï¼Œè¿™ä¸€æ­¥èŠ±è´¹**1å•ä½æ—¶é—´**ï¼ˆæ¯”å¦‚ä»`A`èµ°åˆ°`W`ï¼Œæ—¶é—´+1ï¼‰ã€‚  
  - æ‰¾åˆ°ä¼ é€é—¨çš„å¦ä¸€ç«¯ç‚¹ï¼ˆæ¯”å¦‚`W`çš„å¦ä¸€ä¸ªä½ç½®ï¼‰ï¼Œå°†è¯¥ä½ç½®åŠ å…¥é˜Ÿåˆ—ï¼Œ**æ­¥æ•°ä¿æŒä¸å˜**ï¼ˆå› ä¸ºè·³è½¬ä¸èŠ±æ—¶é—´ï¼‰ï¼Ÿä¸ï¼Œç­‰ä¸€ä¸‹ï¼Œæ ·ä¾‹ä¸­çš„æ­¥éª¤æ˜¯ï¼šå‘å³èµ°åˆ°`W`ï¼ˆ1æ—¶é—´ï¼‰ï¼Œä¼ é€ï¼ˆ0æ—¶é—´ï¼‰ï¼Œç„¶åå‘å³èµ°ä¸€æ­¥ï¼ˆ1æ—¶é—´ï¼‰ï¼Œå‘ä¸Šèµ°ä¸€æ­¥ï¼ˆ1æ—¶é—´ï¼‰ï¼Œæ€»å…±3æ—¶é—´ã€‚æ‰€ä»¥ï¼Œç§»åŠ¨åˆ°ä¼ é€é—¨çš„ä½ç½®ç”¨äº†1æ—¶é—´ï¼Œä¼ é€åçš„ä½ç½®çš„æ­¥æ•°æ˜¯**å½“å‰æ­¥æ•°+1**ï¼ˆå› ä¸ºç§»åŠ¨åˆ°ä¼ é€é—¨ç”¨äº†1æ—¶é—´ï¼‰ï¼Œç„¶åä»ä¼ é€åçš„ä½ç½®ç»§ç»­èµ°ã€‚  
  **ä¾‹å­**ï¼šå‡è®¾å½“å‰ä½ç½®æ˜¯`(x,y)`ï¼Œæ­¥æ•°æ˜¯`t`ï¼Œç§»åŠ¨åˆ°ä¼ é€é—¨`(xx,yy)`ï¼Œåˆ™æ­¥æ•°å˜ä¸º`t+1`ï¼Œç„¶åè·³è½¬è‡³`(xxx,yyy)`ï¼Œå°†`(xxx,yyy)`åŠ å…¥é˜Ÿåˆ—ï¼Œæ­¥æ•°æ˜¯`t+1`ã€‚  

**å­¦ä¹ ç¬”è®°**ï¼šä¼ é€é—¨çš„å¤„ç†æ˜¯æœ¬é¢˜çš„å…³é”®ï¼Œå¿…é¡»æ˜ç¡®â€œç§»åŠ¨åˆ°ä¼ é€é—¨â€å’Œâ€œè·³è½¬â€çš„æ—¶é—´æ¶ˆè€—ã€‚


### **2. éš¾ç‚¹2ï¼šé¿å…é‡å¤è®¿é—®ï¼ˆé˜²æ­¢å¾ªç¯ï¼‰**  
**é—®é¢˜**ï¼šå¦‚æœä¸æ ‡è®°å·²è®¿é—®çš„ä½ç½®ï¼ŒBFSä¼šé™·å…¥å¾ªç¯ï¼ˆæ¯”å¦‚æ¥å›èµ°åŒä¸€ä¸ªè‰åœ°ï¼‰ï¼Œå¯¼è‡´ç¨‹åºè¶…æ—¶ã€‚  
**è§£å†³æ–¹æ¡ˆ**ï¼š  
  - ç”¨ä¸€ä¸ª**äºŒç»´æ•°ç»„`vis`**æ ‡è®°æ¯ä¸ªä½ç½®æ˜¯å¦å·²è®¿é—®ï¼ˆ`vis[x][y] = true`è¡¨ç¤ºå·²è®¿é—®ï¼‰ã€‚  
  - å½“å°†ä¸€ä¸ªä½ç½®åŠ å…¥é˜Ÿåˆ—æ—¶ï¼Œç«‹å³æ ‡è®°ä¸ºå·²è®¿é—®ï¼ˆå› ä¸ºBFSä¿è¯ç¬¬ä¸€æ¬¡è®¿é—®æ˜¯æœ€çŸ­è·¯å¾„ï¼Œæ— éœ€å†æ¬¡å¤„ç†ï¼‰ã€‚  

**å­¦ä¹ ç¬”è®°**ï¼š`vis`æ•°ç»„æ˜¯BFSçš„â€œå®‰å…¨é”â€ï¼Œå¿…é¡»æ­£ç¡®ä½¿ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°æ­»å¾ªç¯ã€‚


### **3. éš¾ç‚¹3ï¼šä¼ é€é—¨çš„æˆå¯¹å­˜å‚¨**  
**é—®é¢˜**ï¼šæ¯ä¸ªä¼ é€é—¨æœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼ˆæ¯”å¦‚`W`çš„ä¸¤ä¸ªä½ç½®ï¼‰ï¼Œå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°å¦ä¸€ç«¯ç‚¹ï¼Ÿ  
**è§£å†³æ–¹æ¡ˆ**ï¼š  
  - ç”¨**ä¸¤ä¸ªæ•°ç»„**ï¼ˆå¦‚`x1[26]`ã€`y1[26]`å­˜å‚¨ç¬¬ä¸€ä¸ªç«¯ç‚¹ï¼Œ`x2[26]`ã€`y2[26]`å­˜å‚¨ç¬¬äºŒä¸ªç«¯ç‚¹ï¼‰ï¼Œæˆ–è€…ç”¨**å­—å…¸**ï¼ˆå¦‚`map<char, pair<pair<int, int>, pair<int, int>>>`ï¼‰å­˜å‚¨æ¯ä¸ªå­—æ¯å¯¹åº”çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚  
  - è¾“å…¥æ—¶ï¼Œéå†è¿·å®«ï¼Œé‡åˆ°å­—æ¯æ—¶ï¼Œè‹¥è¯¥å­—æ¯æœªå­˜å‚¨è¿‡ï¼Œåˆ™å­˜å‚¨ä¸ºç¬¬ä¸€ä¸ªç«¯ç‚¹ï¼›å¦åˆ™å­˜å‚¨ä¸ºç¬¬äºŒä¸ªç«¯ç‚¹ã€‚  

**å­¦ä¹ ç¬”è®°**ï¼šæå‰å­˜å‚¨ä¼ é€é—¨çš„ç«¯ç‚¹ï¼Œæ˜¯å¤„ç†ä¼ é€é—¨çš„å‰æï¼Œå¿…é¡»åœ¨è¾“å…¥é˜¶æ®µå®Œæˆã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
1. **é—®é¢˜å»ºæ¨¡**ï¼šå°†è¿·å®«é—®é¢˜è½¬åŒ–ä¸º**æœ€çŸ­è·¯å¾„é—®é¢˜**ï¼Œä¼˜å…ˆè€ƒè™‘BFSï¼ˆå› ä¸ºæ¯æ­¥æƒé‡ç›¸åŒï¼‰ã€‚  
2. **æ•°æ®ç»“æ„é€‰æ‹©**ï¼šç”¨`queue`å®ç°BFSï¼ˆå…ˆè¿›å…ˆå‡ºï¼Œç¬¦åˆé€å±‚æ‰©å±•çš„è¦æ±‚ï¼‰ï¼›ç”¨`struct`å­˜å‚¨ä½ç½®å’Œæ­¥æ•°ï¼ˆæ–¹ä¾¿ä¼ é€’ä¿¡æ¯ï¼‰ã€‚  
3. **è¾¹ç•Œæ¡ä»¶å¤„ç†**ï¼šå¿…é¡»åˆ¤æ–­æ˜¯å¦è¶Šç•Œï¼ˆ`x`ã€`y`æ˜¯å¦åœ¨è¿·å®«èŒƒå›´å†…ï¼‰ã€æ˜¯å¦æ’ç‰ç±³ï¼ˆ`map[x][y] == '#'`ï¼‰ã€æ˜¯å¦å·²è®¿é—®ï¼ˆ`vis[x][y] == true`ï¼‰ã€‚  
4. **ä»£ç å°è£…**ï¼šå°†ä¼ é€é—¨å¤„ç†ã€åˆæ³•æ€§åˆ¤æ–­ç­‰é€»è¾‘å°è£…æˆå‡½æ•°ï¼ˆå¦‚`goto_another`ã€`check`ï¼‰ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

åœ¨æ·±å…¥åˆ†æå…·ä½“é¢˜è§£çš„ç²¾å¦™ç‰‡æ®µä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ª**é€šç”¨çš„BFSæ ¸å¿ƒå®ç°**ï¼Œå¸®åŠ©å¤§å®¶æŠŠæ¡æ•´ä½“æ¡†æ¶ï¼


### **æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**  
* **è¯´æ˜**ï¼šæœ¬ä»£ç ç»¼åˆäº†å¤šä¸ªä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œæ˜¯BFSçš„æ ‡å‡†å®ç°ï¼Œå¤„ç†äº†ä¼ é€é—¨çš„å¼ºåˆ¶è·³è½¬ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <queue>
  #include <cstring>
  using namespace std;

  const int MAXN = 305;
  const int dx[] = {0, 0, 1, -1}; // ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
  const int dy[] = {1, -1, 0, 0};

  struct Point {
      int x, y, t; // xåæ ‡ã€yåæ ‡ã€åˆ°è¾¾æ—¶é—´
  };

  char map[MAXN][MAXN]; // è¿·å®«åœ°å›¾
  bool vis[MAXN][MAXN]; // æ ‡è®°æ˜¯å¦å·²è®¿é—®
  int x1[26], y1[26], x2[26], y2[26]; // ä¼ é€é—¨çš„ä¸¤ä¸ªç«¯ç‚¹ï¼ˆx1[y]è¡¨ç¤ºå­—æ¯'y'çš„ç¬¬ä¸€ä¸ªç«¯ç‚¹çš„xåæ ‡ï¼‰

  int main() {
      int n, m;
      cin >> n >> m;
      int sx, sy, ex, ey; // èµ·ç‚¹ã€ç»ˆç‚¹åæ ‡
      memset(x1, -1, sizeof(x1)); // åˆå§‹åŒ–ä¼ é€é—¨ç«¯ç‚¹ä¸º-1ï¼ˆæœªå­˜å‚¨ï¼‰
      memset(y1, -1, sizeof(y1));
      memset(x2, -1, sizeof(x2));
      memset(y2, -1, sizeof(y2));

      for (int i = 0; i < n; i++) {
          for (int j = 0; j < m; j++) {
              cin >> map[i][j];
              if (map[i][j] == '@') { // èµ·ç‚¹
                  sx = i;
                  sy = j;
              } else if (map[i][j] == '=') { // ç»ˆç‚¹
                  ex = i;
                  ey = j;
              } else if (map[i][j] >= 'A' && map[i][j] <= 'Z') { // ä¼ é€é—¨
                  int c = map[i][j] - 'A';
                  if (x1[c] == -1) { // ç¬¬ä¸€ä¸ªç«¯ç‚¹
                      x1[c] = i;
                      y1[c] = j;
                  } else { // ç¬¬äºŒä¸ªç«¯ç‚¹
                      x2[c] = i;
                      y2[c] = j;
                  }
              }
          }
      }

      queue<Point> q;
      q.push({sx, sy, 0});
      vis[sx][sy] = true;

      while (!q.empty()) {
          Point curr = q.front();
          q.pop();

          // åˆ°è¾¾ç»ˆç‚¹ï¼Œè¾“å‡ºæ—¶é—´
          if (curr.x == ex && curr.y == ey) {
              cout << curr.t << endl;
              return 0;
          }

          // å°è¯•å››ä¸ªæ–¹å‘ç§»åŠ¨
          for (int i = 0; i < 4; i++) {
              int nx = curr.x + dx[i];
              int ny = curr.y + dy[i];

              // åˆ¤æ–­æ˜¯å¦è¶Šç•Œã€æ˜¯å¦æ’ç‰ç±³ã€æ˜¯å¦å·²è®¿é—®
              if (nx < 0 || nx >= n || ny < 0 || ny >= m || map[nx][ny] == '#' || vis[nx][ny]) {
                  continue;
              }

              // å¤„ç†ä¼ é€é—¨
              if (map[nx][ny] >= 'A' && map[nx][ny] <= 'Z') {
                  int c = map[nx][ny] - 'A';
                  int tx, ty;
                  // æ‰¾åˆ°å¦ä¸€ç«¯ç‚¹
                  if (nx == x1[c] && ny == y1[c]) {
                      tx = x2[c];
                      ty = y2[c];
                  } else {
                      tx = x1[c];
                      ty = y1[c];
                  }
                  // å°†è·³è½¬åçš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ï¼ˆæ—¶é—´+1ï¼Œå› ä¸ºç§»åŠ¨åˆ°ä¼ é€é—¨ç”¨äº†1æ—¶é—´ï¼‰
                  if (!vis[tx][ty]) {
                      vis[tx][ty] = true;
                      q.push({tx, ty, curr.t + 1});
                  }
              } else {
                  // æ™®é€šè‰åœ°ï¼Œç›´æ¥åŠ å…¥é˜Ÿåˆ—ï¼ˆæ—¶é—´+1ï¼‰
                  vis[nx][ny] = true;
                  q.push({nx, ny, curr.t + 1});
              }
          }
      }

      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šè¯»å–è¿·å®«åœ°å›¾ï¼Œè®°å½•èµ·ç‚¹ã€ç»ˆç‚¹åæ ‡ï¼Œå­˜å‚¨ä¼ é€é—¨çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚  
  2. **BFSåˆå§‹åŒ–**ï¼šå°†èµ·ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œæ ‡è®°ä¸ºå·²è®¿é—®ã€‚  
  3. **BFSå¾ªç¯**ï¼šæ¯æ¬¡å–å‡ºé˜Ÿåˆ—ä¸­çš„å½“å‰ä½ç½®ï¼Œå°è¯•å‘å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚  
     - è‹¥ç§»åŠ¨åˆ°ä¼ é€é—¨ï¼Œæ‰¾åˆ°å¦ä¸€ç«¯ç‚¹ï¼Œå°†è·³è½¬åçš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ï¼ˆæ—¶é—´+1ï¼‰ã€‚  
     - è‹¥ç§»åŠ¨åˆ°æ™®é€šè‰åœ°ï¼Œç›´æ¥åŠ å…¥é˜Ÿåˆ—ï¼ˆæ—¶é—´+1ï¼‰ã€‚  
  4. **ç»ˆæ­¢æ¡ä»¶**ï¼šå½“åˆ°è¾¾ç»ˆç‚¹æ—¶ï¼Œè¾“å‡ºæ—¶é—´å¹¶ç»“æŸç¨‹åºã€‚  


### **é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ**  

#### **é¢˜è§£ä¸€ï¼šlxzy_çš„BFSå¤„ç†ä¼ é€é—¨ç‰‡æ®µ**  
* **äº®ç‚¹**ï¼šç”¨å‡½æ•°å°è£…ä¼ é€é—¨å¤„ç†é€»è¾‘ï¼Œä»£ç ç»“æ„æ¸…æ™°ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void goto_another(int &nx, int &ny) {
      for (int i = 1; i <= n; i++) {
          for (int j = 1; j <= m; j++) {
              if (a[i][j] == a[nx][ny] && (i != nx || j != ny)) {
                  nx = i;
                  ny = j;
                  return;
              }
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯**æ‰¾åˆ°ä¼ é€é—¨çš„å¦ä¸€ç«¯ç‚¹**ã€‚å‚æ•°`nx`ã€`ny`æ˜¯å½“å‰ä¼ é€é—¨çš„ä½ç½®ï¼Œå‡½æ•°éå†æ•´ä¸ªè¿·å®«ï¼Œæ‰¾åˆ°ä¸å½“å‰ä¼ é€é—¨å­—æ¯ç›¸åŒä¸”ä½ç½®ä¸åŒçš„ç‚¹ï¼Œå°†`nx`ã€`ny`ä¿®æ”¹ä¸ºè¯¥ç‚¹çš„åæ ‡ã€‚  
  **å­¦ä¹ ç¬”è®°**ï¼šç”¨å‡½æ•°å°è£…é‡å¤é€»è¾‘ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚


#### **é¢˜è§£äºŒï¼šlzxhdxxçš„åŒå‘BFSæ‰©å±•ç‰‡æ®µ**  
* **äº®ç‚¹**ï¼šåŒå‘BFSçš„æ ¸å¿ƒé€»è¾‘ï¼Œæ‰©å±•çŠ¶æ€å°‘çš„é˜Ÿåˆ—ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  int expand(int sub) {
      int nowx = Q[sub].front().first, nowy = Q[sub].front().second;
      Q[sub].pop();
      for (int i = 1; i <= 4; i++) {
          int newx = nowx + dx[i], newy = nowy + dy[i];
          if (newx >= 1 && newy >= 1 && newx <= n && newy <= m && c[newx][newy] != '#' && !vis[sub][newx][newy]) {
              // å¤„ç†ä¼ é€é—¨...
              Q[sub].push(make_pair(newx, newy));
              cnt[sub][newx][newy] = cnt[sub][nowx][nowy] + 1;
              if (vis[1 - sub][newx][newy]) {
                  // ç›¸é‡ï¼Œè¿”å›ç»“æœ...
              }
          }
      }
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™ä¸ªå‡½æ•°æ˜¯**åŒå‘BFSçš„æ‰©å±•é€»è¾‘**ã€‚`sub`è¡¨ç¤ºå½“å‰æ‰©å±•çš„æ–¹å‘ï¼ˆ0ä¸ºèµ·ç‚¹æ–¹å‘ï¼Œ1ä¸ºç»ˆç‚¹æ–¹å‘ï¼‰ï¼Œå‡½æ•°å–å‡ºé˜Ÿåˆ—ä¸­çš„å½“å‰ä½ç½®ï¼Œå°è¯•å‘å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚è‹¥ç§»åŠ¨åˆ°åˆæ³•ä½ç½®ï¼Œå°†å…¶åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶æ›´æ–°æ­¥æ•°ã€‚å½“ä¸¤ä¸ªæ–¹å‘çš„æœç´¢ç›¸é‡æ—¶ï¼ˆ`vis[1 - sub][newx][newy]`ä¸º`true`ï¼‰ï¼Œè¿”å›ç»“æœã€‚  
  **å­¦ä¹ ç¬”è®°**ï¼šåŒå‘BFSé€šè¿‡åŒæ—¶æ‰©å±•èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œå‡å°‘äº†æœç´¢ç©ºé—´ï¼Œé€Ÿåº¦æ›´å¿«ã€‚


#### **é¢˜è§£ä¸‰ï¼šmaorui_cowçš„ç®€çŸ­BFSç‰‡æ®µ**  
* **äº®ç‚¹**ï¼šä»£ç ç®€çŸ­ï¼ŒBFSæµç¨‹ç´§å‡‘ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  struct node {
      int x, y, bs;
  } ans[101010];

  int bfs() {
      int head = 0, tail = 1;
      ans[1].x = qx;
      ans[1].y = qy;
      ans[1].bs = 0;
      bj[qx][qy] = 1;
      do {
          head++;
          if (a[ans[head].x][ans[head].y] >= 'A' && a[ans[head].x][ans[head].y] <= 'Z') {
              cz(ans[head].x, ans[head].y);
              ans[head].x = cz1;
              ans[head].y = cz2;
          }
          for (int i = 0; i < 4; i++) {
              int xx = ans[head].x + d[i][0];
              int yy = ans[head].y + d[i][1];
              if (a[xx][yy] != 0 && bj[xx][yy] == 0) {
                  bj[xx][yy] = 1;
                  tail++;
                  ans[tail].x = xx;
                  ans[tail].y = yy;
                  ans[tail].bs = ans[head].bs + 1;
                  if (xx == zx && yy == zy) {
                      printf("%d\n", ans[tail].bs);
                      return 0;
                  }
              }
          }
      } while (head < tail);
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™ä¸ªå‡½æ•°æ˜¯**ç®€çŸ­çš„BFSå®ç°**ã€‚ç”¨`ans`æ•°ç»„å­˜å‚¨é˜Ÿåˆ—ä¸­çš„ä½ç½®å’Œæ­¥æ•°ï¼Œ`head`å’Œ`tail`åˆ†åˆ«è¡¨ç¤ºé˜Ÿåˆ—çš„å¤´å’Œå°¾ã€‚å¤„ç†ä¼ é€é—¨æ—¶ï¼Œè°ƒç”¨`cz`å‡½æ•°æ‰¾å¦ä¸€ç«¯ç‚¹ï¼Œç„¶åå°†è·³è½¬åçš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ã€‚å½“åˆ°è¾¾ç»ˆç‚¹æ—¶ï¼Œè¾“å‡ºæ­¥æ•°å¹¶ç»“æŸç¨‹åºã€‚  
  **å­¦ä¹ ç¬”è®°**ï¼šä»£ç ç®€çŸ­çš„å…³é”®æ˜¯å‡å°‘å†—ä½™å˜é‡ï¼Œç”¨æ•°ç»„ä»£æ›¿`queue`ï¼ˆè™½ç„¶`queue`æ›´æ–¹ä¾¿ï¼Œä½†æ•°ç»„ä¹Ÿèƒ½å®ç°ï¼‰ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

ä¸ºäº†æ›´ç›´è§‚åœ°ç†è§£**BFSå¤„ç†ä¼ é€é—¨**çš„è¿‡ç¨‹ï¼Œæˆ‘è®¾è®¡äº†ä¸€ä¸ª**8ä½åƒç´ é£æ ¼çš„åŠ¨ç”»**ï¼Œç»“åˆå¤å¤æ¸¸æˆå…ƒç´ ï¼Œè®©ä½ â€œçœ‹â€åˆ°ç®—æ³•çš„æ¯ä¸€æ­¥ï¼


### **åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜**ï¼šã€Šåƒç´ å¥¶ç‰›é—¯è¿·å®«ã€‹  
**é£æ ¼**ï¼šä»¿FCçº¢ç™½æœºé£æ ¼ï¼Œç”¨å°æ–¹å—è¡¨ç¤ºè¿·å®«å…ƒç´ ï¼ˆç»¿è‰²è‰åœ°ã€æ£•è‰²ç‰ç±³ã€è“è‰²ä¼ é€é—¨ã€çº¢è‰²å¥¶ç‰›ã€é»„è‰²å‡ºå£ï¼‰ï¼ŒèƒŒæ™¯ä¸ºé»‘è‰²ï¼Œå­—ä½“ä¸ºåƒç´ å­—ä½“ã€‚  


### **æ ¸å¿ƒæ¼”ç¤ºå†…å®¹**ï¼š  
1. **åˆå§‹åŒ–åœºæ™¯**ï¼š  
   - æ˜¾ç¤ºè¿·å®«åœ°å›¾ï¼Œèµ·ç‚¹`@`ï¼ˆçº¢è‰²å¥¶ç‰›ï¼‰åœ¨å·¦ä¸‹è§’ï¼Œç»ˆç‚¹`=`ï¼ˆé»„è‰²æ–¹å—ï¼‰åœ¨å³ä¸Šè§’ã€‚  
   - ä¼ é€é—¨`W`ï¼ˆè“è‰²æ–¹å—ï¼‰æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«åœ¨ä¸­é—´å’Œå³ä¸‹è§’ã€‚  
   - æ§åˆ¶é¢æ¿ï¼šâ€œå¼€å§‹/æš‚åœâ€æŒ‰é’®ã€â€œå•æ­¥æ‰§è¡Œâ€æŒ‰é’®ã€â€œé‡ç½®â€æŒ‰é’®ã€é€Ÿåº¦æ»‘å—ï¼ˆ1x~5xï¼‰ã€‚  

2. **BFSæ­¥éª¤æ¼”ç¤º**ï¼š  
   - **ç¬¬ä¸€æ­¥**ï¼šå¥¶ç‰›ä»èµ·ç‚¹`@`å‘å³ç§»åŠ¨ï¼ˆç»¿è‰²è‰åœ°ï¼‰ï¼Œå½“å‰ä½ç½®**çº¢è‰²é«˜äº®**ï¼Œæ­¥æ•°å˜ä¸º1ï¼ˆå±å¹•å³ä¸Šè§’æ˜¾ç¤ºâ€œæ—¶é—´ï¼š1â€ï¼‰ã€‚  
   - **ç¬¬äºŒæ­¥**ï¼šå¥¶ç‰›ç»§ç»­å‘å³ç§»åŠ¨ï¼Œè¸©ä¸Š`W`ï¼ˆè“è‰²ä¼ é€é—¨ï¼‰ï¼Œä¼ é€é—¨**é—ªçƒ**ï¼Œæ’­æ”¾â€œå’»â€çš„éŸ³æ•ˆï¼Œå¥¶ç‰›ç¬é—´å‡ºç°åœ¨å¦ä¸€`W`çš„ä½ç½®ï¼ˆå³ä¸‹è§’ï¼‰ï¼Œæ­¥æ•°ä¿æŒ1ï¼ˆå› ä¸ºä¼ é€ä¸èŠ±æ—¶é—´ï¼‰ã€‚  
   - **ç¬¬ä¸‰æ­¥**ï¼šå¥¶ç‰›ä»`W`å‘ä¸Šç§»åŠ¨ï¼ˆç»¿è‰²è‰åœ°ï¼‰ï¼Œæ­¥æ•°å˜ä¸º2ã€‚  
   - **ç¬¬å››æ­¥**ï¼šå¥¶ç‰›ç»§ç»­å‘ä¸Šç§»åŠ¨ï¼Œåˆ°è¾¾ç»ˆç‚¹`=`ï¼ˆé»„è‰²æ–¹å—ï¼‰ï¼Œæ’­æ”¾â€œå®â€çš„èƒœåˆ©éŸ³æ•ˆï¼Œç»ˆç‚¹**é—ªçƒ**ï¼Œå±å¹•æ˜¾ç¤ºâ€œèƒœåˆ©ï¼æ—¶é—´ï¼š3â€ï¼ˆä¸æ ·ä¾‹è¾“å‡ºä¸€è‡´ï¼‰ã€‚  

3. **äº¤äº’è®¾è®¡**ï¼š  
   - **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼Œå¥¶ç‰›èµ°ä¸€æ­¥ï¼Œæ˜¾ç¤ºå½“å‰æ­¥éª¤çš„ä»£ç ç‰‡æ®µï¼ˆå¦‚`q.push({nx, ny, curr.t + 1})`ï¼‰ã€‚  
   - **è‡ªåŠ¨æ’­æ”¾**ï¼šç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼Œå¥¶ç‰›è‡ªåŠ¨èµ°å®Œå…¨ç¨‹ï¼Œé€Ÿåº¦å¯é€šè¿‡æ»‘å—è°ƒèŠ‚ã€‚  
   - **é‡ç½®**ï¼šç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œå¥¶ç‰›å›åˆ°èµ·ç‚¹ï¼Œè¿·å®«æ¢å¤åˆå§‹çŠ¶æ€ã€‚  


### **è®¾è®¡æ€è·¯**ï¼š  
- **åƒç´ é£æ ¼**ï¼šè¥é€ å¤å¤æ¸¸æˆæ°›å›´ï¼Œè®©å­¦ä¹ æ›´æœ‰è¶£ã€‚  
- **çŠ¶æ€é«˜äº®**ï¼šç”¨é¢œè‰²æ ‡è®°å½“å‰ä½ç½®ã€å·²è®¿é—®çš„ç‚¹ã€ä¼ é€é—¨ï¼Œå¸®åŠ©ç†è§£BFSçš„é€å±‚æ‰©å±•ã€‚  
- **éŸ³æ•ˆæç¤º**ï¼šç§»åŠ¨æ—¶çš„â€œæ»´ç­”â€å£°ã€ä¼ é€æ—¶çš„â€œå’»â€å£°ã€èƒœåˆ©æ—¶çš„â€œå®â€å£°ï¼Œå¼ºåŒ–æ“ä½œè®°å¿†ã€‚  
- **äº¤äº’åŠŸèƒ½**ï¼šå•æ­¥æ‰§è¡Œå’Œè‡ªåŠ¨æ’­æ”¾ç»“åˆï¼Œè®©å­¦ä¹ è€…æ—¢èƒ½æ…¢æ…¢è§‚å¯Ÿæ¯ä¸€æ­¥ï¼Œä¹Ÿèƒ½å¿«é€Ÿçœ‹å®Œå…¨ç¨‹ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

ç†è§£äº†æœ¬é¢˜çš„BFSè§£æ³•åï¼Œæˆ‘ä»¬å¯ä»¥**è¿ç§»æ€è·¯**ï¼Œè§£å†³å…¶ä»–ç±»ä¼¼çš„æœ€çŸ­è·¯å¾„é—®é¢˜ã€‚ä¸‹é¢æ¨èå‡ é“æ´›è°·ä¸Šçš„ç»ƒä¹ ï¼Œå¸®åŠ©ä½ å·©å›ºæ‰€å­¦ï¼


### **é€šç”¨æ€è·¯è¿ç§»**ï¼š  
BFSä¸ä»…èƒ½è§£å†³è¿·å®«é—®é¢˜ï¼Œè¿˜èƒ½è§£å†³**æ‰€æœ‰æ¯æ­¥æƒé‡ç›¸åŒçš„æœ€çŸ­è·¯å¾„é—®é¢˜**ï¼Œæ¯”å¦‚ï¼š  
- é©¬çš„éå†ï¼ˆæ¯æ­¥èµ°â€œæ—¥â€å­—ï¼Œæ±‚åˆ°è¾¾æ¯ä¸ªç‚¹çš„æœ€çŸ­æ­¥æ•°ï¼‰ã€‚  
- å•è¯æ¥é¾™ï¼ˆæ¯æ­¥æ”¹å˜ä¸€ä¸ªå­—æ¯ï¼Œæ±‚ä»ä¸€ä¸ªå•è¯åˆ°å¦ä¸€ä¸ªå•è¯çš„æœ€çŸ­æ­¥éª¤ï¼‰ã€‚  
- æ°´ç®¡å·¥é—®é¢˜ï¼ˆæ¯æ­¥æ—‹è½¬æ°´ç®¡ï¼Œæ±‚ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„ï¼‰ã€‚  


### **ç»ƒä¹ æ¨è (æ´›è°·)**ï¼š  
1. **æ´›è°· P1443 é©¬çš„éå†**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯BFSçš„ç»å…¸åº”ç”¨ï¼Œè¦æ±‚è®¡ç®—é©¬ä»èµ·ç‚¹åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­æ­¥æ•°ã€‚ä¸æœ¬é¢˜ç±»ä¼¼ï¼Œéƒ½æ˜¯â€œç½‘æ ¼ä¸­çš„æœ€çŸ­è·¯å¾„â€é—®é¢˜ï¼Œç»ƒä¹ BFSçš„æ ¸å¿ƒé€»è¾‘ã€‚  

2. **æ´›è°· P1141 è¿·å®«**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯åŸºæœ¬çš„è¿·å®«é—®é¢˜ï¼Œè¦æ±‚æ‰¾åˆ°ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ä¸æœ¬é¢˜ç›¸æ¯”ï¼Œæ²¡æœ‰ä¼ é€é—¨ï¼Œé€‚åˆåˆå­¦è€…å·©å›ºBFSçš„åŸºç¡€ã€‚  

3. **æ´›è°· P2895 ç‰ç±³ç”°**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè™½ç„¶è¿™é“é¢˜æ˜¯çŠ¶å‹DPï¼Œä½†é¢˜ç›®èƒŒæ™¯æ˜¯ç‰ç±³ç”°ï¼Œä¸æœ¬é¢˜ç±»ä¼¼ã€‚å¯ä»¥ç»ƒä¹ â€œç½‘æ ¼ä¸­çš„è·¯å¾„é—®é¢˜â€çš„å¦ä¸€ç§è§£æ³•ï¼Œæ‹“å®½æ€è·¯ã€‚  

4. **æ´›è°· P1605 è¿·å®«**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯è¿·å®«é—®é¢˜çš„å˜ç§ï¼Œè¦æ±‚æ‰¾åˆ°ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„ï¼ŒåŒ…å«éšœç¢å’Œèµ·ç‚¹ç»ˆç‚¹ã€‚ä¸æœ¬é¢˜ç±»ä¼¼ï¼Œé€‚åˆå·©å›ºBFSçš„åº”ç”¨ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

åœ¨æœ¬é¢˜çš„é¢˜è§£ä¸­ï¼Œå¾ˆå¤šä½œè€…éƒ½**åˆ†äº«äº†è‡ªå·±çš„è§£é¢˜ç»éªŒ**ï¼Œæ¯”å¦‚ï¼š  
- **lxzy_**ï¼šâ€œä¼ é€é—¨çš„å¤„ç†æ˜¯æœ¬é¢˜çš„å…³é”®ï¼Œå¿…é¡»ç«‹å³è·³è½¬ï¼Œä¸èƒ½åœç•™ã€‚â€  
- **lzxhdxx**ï¼šâ€œåŒå‘BFSèƒ½å¤§å¤§å‡å°‘æœç´¢ç©ºé—´ï¼Œé€‚åˆå¤§è§„æ¨¡è¿·å®«é—®é¢˜ã€‚â€  
- **TYHTerrence**ï¼šâ€œä¼ é€é—¨æ˜¯ä¸­ä»‹ç‚¹ï¼Œä¸èƒ½æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ— æ³•åˆ°è¾¾ç»ˆç‚¹ã€‚â€  

è¿™äº›ç»éªŒéå¸¸å®è´µï¼Œå¸®åŠ©æˆ‘ä»¬é¿å…è¸©é›·ã€‚æ¯”å¦‚ï¼ŒTYHTerrenceæåˆ°çš„â€œä¼ é€é—¨æ˜¯ä¸­ä»‹ç‚¹â€ï¼Œå¦‚æœæˆ‘ä»¬æ ‡è®°äº†ä¼ é€é—¨çš„ä½ç½®ä¸ºå·²è®¿é—®ï¼Œé‚£ä¹ˆå½“éœ€è¦ä»ä¼ é€é—¨çš„å¦ä¸€ç«¯å›æ¥æ—¶ï¼Œå°±æ— æ³•å¤„ç†äº†ï¼Œå¯¼è‡´ç¨‹åºé”™è¯¯ã€‚å› æ­¤ï¼Œ**ä¼ é€é—¨çš„ä½ç½®ä¸éœ€è¦æ ‡è®°ä¸ºå·²è®¿é—®**ï¼Œåªæœ‰è·³è½¬åçš„ä½ç½®éœ€è¦æ ‡è®°ï¼Ÿä¸ï¼Œç­‰ä¸€ä¸‹ï¼Œåœ¨BFSä¸­ï¼Œå½“ç§»åŠ¨åˆ°ä¼ é€é—¨çš„ä½ç½®æ—¶ï¼Œæˆ‘ä»¬ä¼šå°†è·³è½¬åçš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶æ ‡è®°ä¸ºå·²è®¿é—®ã€‚è€Œä¼ é€é—¨çš„ä½ç½®æœ¬èº«ä¸éœ€è¦åŠ å…¥é˜Ÿåˆ—ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»å¤„ç†äº†å®ƒï¼ˆè·³è½¬äº†ï¼‰ã€‚æ¯”å¦‚ï¼Œå‡è®¾ä¼ é€é—¨`W`çš„ä¸¤ä¸ªä½ç½®æ˜¯`A`å’Œ`B`ï¼Œå½“æˆ‘ä»¬ç§»åŠ¨åˆ°`A`æ—¶ï¼Œä¼šå°†`B`åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶æ ‡è®°`B`ä¸ºå·²è®¿é—®ã€‚`A`æœ¬èº«ä¸ä¼šåŠ å…¥é˜Ÿåˆ—ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»å¤„ç†äº†å®ƒï¼ˆè·³è½¬äº†ï¼‰ã€‚è¿™æ ·ï¼Œ`A`ä¸ä¼šè¢«é‡å¤å¤„ç†ï¼Œå› ä¸ºå®ƒæ²¡æœ‰è¢«åŠ å…¥é˜Ÿåˆ—ã€‚  


## æ€»ç»“

æœ¬æ¬¡å…³äºâ€œ[USACO11OPEN] Corn Maze Sâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©ä½ ç†è§£**BFSçš„æ ¸å¿ƒæ€æƒ³**ï¼ŒæŒæ¡**ä¼ é€é—¨çš„å¤„ç†æŠ€å·§**ï¼Œå¹¶èƒ½ä¸¾ä¸€åä¸‰è§£å†³å…¶ä»–æœ€çŸ­è·¯å¾„é—®é¢˜ã€‚  

è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**æŒç»­å­¦ä¹ ã€å‹¤äºæ€è€ƒã€å‹‡äºå®è·µ**ã€‚ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª  

å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿éšæ—¶é—®æˆ‘ï¼Œæˆ‘ä¼šå°½åŠ›å¸®åŠ©ä½ ï¼ğŸ˜Š

---
å¤„ç†ç”¨æ—¶ï¼š286.48ç§’
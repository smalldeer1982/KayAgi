# é¢˜ç›®ä¿¡æ¯

# [USACO16FEB] Milk Pails S

## é¢˜ç›®æè¿°

Farmer John æ¥åˆ°äº†ä¸€ä»½éœ€è¦ç«‹å³å®Œæˆçš„è®¢å•ï¼Œè¦æ±‚ä»–æä¾›æ°å¥½ $M$ å•ä½çš„ç‰›å¥¶ï¼ˆ$1 \leq M \leq 200$ï¼‰ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä»–å…ˆè¿›çš„æŒ¤å¥¶æœºåˆšåˆšåäº†ï¼Œç°åœ¨ä»–åªæœ‰ä¸¤ä¸ªå®¹é‡ä¸ºæ•´æ•° $X$ å’Œ $Y$ï¼ˆ$1 \leq X, Y \leq 100$ï¼‰çš„ç‰›å¥¶æ¡¶å¯ä»¥ç”¨æ¥é‡å–ç‰›å¥¶ã€‚ä¸¤ä¸ªæ¡¶æœ€åˆéƒ½æ˜¯ç©ºçš„ã€‚ä½¿ç”¨è¿™ä¸¤ä¸ªæ¡¶ï¼Œä»–å¯ä»¥æ‰§è¡Œæœ€å¤š $K$ æ¬¡ä»¥ä¸‹ç±»å‹çš„æ“ä½œï¼ˆ$1 \leq K \leq 100$ï¼‰ï¼š

- ä»–å¯ä»¥å°†ä»»æ„ä¸€ä¸ªæ¡¶å®Œå…¨è£…æ»¡ã€‚

- ä»–å¯ä»¥å°†ä»»æ„ä¸€ä¸ªæ¡¶å®Œå…¨å€’ç©ºã€‚

- ä»–å¯ä»¥å°†ä¸€ä¸ªæ¡¶ä¸­çš„ç‰›å¥¶å€’å…¥å¦ä¸€ä¸ªæ¡¶ï¼Œç›´åˆ°å‰è€…è¢«å€’ç©ºæˆ–åè€…è¢«è£…æ»¡ï¼ˆä»¥å…ˆå‘ç”Ÿçš„æƒ…å†µä¸ºå‡†ï¼‰ã€‚

å°½ç®¡ FJ æ„è¯†åˆ°ä»–å¯èƒ½æ— æ³•æœ€ç»ˆåœ¨ä¸¤ä¸ªæ¡¶ä¸­å¾—åˆ°æ°å¥½ $M$ å•ä½çš„ç‰›å¥¶ï¼Œä½†è¯·å¸®åŠ©ä»–è®¡ç®— $M$ ä¸ä¸¤ä¸ªæ¡¶ä¸­ç‰›å¥¶æ€»é‡ä¹‹é—´çš„æœ€å°è¯¯å·®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯·è®¡ç®— $|M-M'|$ çš„æœ€å°å€¼ï¼Œå…¶ä¸­ $M'$ æ˜¯ FJ å¯ä»¥åœ¨ä¸¤ä¸ªæ¡¶ä¸­å…±åŒæ„é€ çš„ç‰›å¥¶é‡ã€‚

## è¯´æ˜/æç¤º

åœ¨ä¸¤æ­¥æ“ä½œä¸­ï¼ŒFJ å¯ä»¥åœ¨ä»–çš„æ¡¶ä¸­ç•™ä¸‹ä»¥ä¸‹æ•°é‡çš„ç‰›å¥¶ï¼š

```
(0, 0) = 0 å•ä½  
(14, 0) = 14 å•ä½  
(0, 50) = 50 å•ä½  
(0, 14) = 14 å•ä½  
(14, 36) = 50 å•ä½  
(14, 50) = 64 å•ä½  
```

æœ€æ¥è¿‘ 32 å•ä½çš„æ˜¯ 14 å•ä½ï¼Œè¯¯å·®ä¸º 18ã€‚æ³¨æ„ï¼Œè¦å€’ç©ºç¬¬ä¸€ä¸ªæ¡¶ä»¥å¾—åˆ° (0, 36) éœ€è¦é¢å¤–çš„æ­¥éª¤ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
14 50 2 32```

### è¾“å‡º

```
18```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šMilk Pails S æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`çŠ¶æ€ç©ºé—´æœç´¢` (BFS/DFS/è®°å¿†åŒ–æœç´¢)  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è§£å†³"ç‰›å¥¶æ¡¶é‡å–"é—®é¢˜ï¼Œæ ¸å¿ƒåœ¨äº**çŠ¶æ€ç©ºé—´æœç´¢**ã€‚æƒ³è±¡ä½ åœ¨ç©ä¸€ä¸ªåƒç´ è¿·å®«æ¸¸æˆï¼Œæ¯ä¸ªçŠ¶æ€æ˜¯ä¸¤ä¸ªæ¡¶çš„ç‰›å¥¶é‡ï¼ˆå¦‚(0,0)ï¼‰ï¼Œæ¯æ¬¡æ“ä½œæ˜¯ç§»åŠ¨æ–¹å‘ï¼ˆè£…æ»¡/å€’ç©º/å€’ç‰›å¥¶ï¼‰ã€‚æˆ‘ä»¬éœ€è¦åœ¨Kæ­¥å†…æ‰¾åˆ°æœ€æ¥è¿‘ç›®æ ‡Mçš„çŠ¶æ€ã€‚  
- **é¢˜è§£æ€è·¯**ï¼šDFS/BFSéå†æ‰€æœ‰å¯èƒ½çŠ¶æ€ï¼Œç”¨äºŒç»´æ•°ç»„è®°å¿†åŒ–é¿å…é‡å¤æœç´¢ã€‚éš¾ç‚¹åœ¨æ­£ç¡®å¤„ç†6ç§çŠ¶æ€è½¬ç§»å’Œå‰ªæã€‚
- **å¯è§†åŒ–è®¾è®¡**ï¼šç”¨åƒç´ ç½‘æ ¼è¡¨ç¤ºæ¡¶çŠ¶æ€(x,y)ï¼Œä¸åŒé¢œè‰²æ ‡è®°æ“ä½œç±»å‹ï¼ˆç»¿è‰²=è£…æ»¡/çº¢è‰²=å€’ç©º/è“è‰²=å€’ç‰›å¥¶ï¼‰ï¼Œå•æ­¥æ‰§è¡Œæ—¶æ˜¾ç¤ºå½“å‰æ­¥æ•°å’Œç‰›å¥¶æ€»é‡ã€‚

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼šNaVi_Awsonï¼‰**  
* **ç‚¹è¯„**ï¼šDFS+è®°å¿†åŒ–æ€è·¯æ¸…æ™°ï¼Œç”¨`f[i][j]`è®°å½•çŠ¶æ€è®¿é—®æƒ…å†µï¼Œ6ç§æ“ä½œæšä¸¾å®Œæ•´ã€‚ä»£ç ç®€æ´è§„èŒƒï¼ˆå¦‚`min`å¤„ç†å€’ç‰›å¥¶è¾¹ç•Œï¼‰ï¼Œä½†æœªä¼˜åŒ–æ­¥æ•°è®°å½•ï¼Œå®è·µæ—¶éœ€æ³¨æ„é€’å½’æ·±åº¦é™åˆ¶ã€‚äº®ç‚¹ï¼šçŠ¶æ€è½¬ç§»é€»è¾‘ç›´ç™½ï¼Œé€‚åˆåˆå­¦è€…ç†è§£æœç´¢æœ¬è´¨ã€‚

**é¢˜è§£äºŒï¼ˆä½œè€…ï¼šSUNCHAOYIï¼‰**  
* **ç‚¹è¯„**ï¼šBFSå®ç°ä¸¥è°¨ï¼Œé˜Ÿåˆ—ç®¡ç†çŠ¶æ€æ‰©å±•ï¼Œ`vis`æ•°ç»„é¿å…é‡å¤ã€‚ç‰¹åˆ«ä¼˜åŒ–äº†çŠ¶æ€è½¬ç§»å…¬å¼ï¼ˆå¦‚`min`åˆå¹¶å€’ç‰›å¥¶æ“ä½œï¼‰ï¼Œè¾¹ç•Œå¤„ç†ï¼ˆ`k+1`ç»ˆæ­¢æ¡ä»¶ï¼‰ä½“ç°å®æˆ˜ç»éªŒã€‚äº®ç‚¹ï¼šå°†æ“ä½œè½¬åŒ–ä¸ºæ•°å­¦è¡¨è¾¾å¼ï¼Œå·¥ä¸šçº§ä»£ç å¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šVic_ï¼‰**  
* **ç‚¹è¯„**ï¼šé€’å½’DPæ–¹æ¡ˆé«˜æ•ˆï¼Œ`dp[i][j]`è®°å½•æœ€å°æ­¥æ•°ï¼Œç©ºé—´ä¼˜åŒ–è‡³äºŒç»´ã€‚é€šè¿‡é€’å½’`add`å‡½æ•°è‡ªç„¶å®ç°çŠ¶æ€æ‰©æ•£ï¼Œä½†ä»£ç è¾ƒé•¿ã€‚äº®ç‚¹ï¼šåŠDPæ€æƒ³èåˆäº†è®°å¿†åŒ–ä¸BFSä¼˜åŠ¿ï¼Œ`-1`åˆå§‹åŒ–ä½“ç°é˜²å¾¡æ€§ç¼–ç¨‹ã€‚

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **çŠ¶æ€è½¬ç§»å»ºæ¨¡**  
   *åˆ†æ*ï¼š6ç§æ“ä½œéœ€è½¬åŒ–ä¸ºç²¾ç¡®æ•°å­¦è¡¨è¾¾ã€‚å¦‚å€’ç‰›å¥¶æ“ä½œï¼š`æ–°çŠ¶æ€ = (x - min(x, Y-y), y + min(x, Y-y))`ã€‚ä¼˜è´¨é¢˜è§£ç”¨`min`å‡½æ•°ä¼˜é›…å¤„ç†æº¢å‡ºã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå°†ç‰©ç†æ“ä½œæŠ½è±¡ä¸ºæ•°å­¦è¡¨è¾¾å¼æ˜¯ç®—æ³•æ ¸å¿ƒèƒ½åŠ›ã€‚

2. **é¿å…æ— æ•ˆçŠ¶æ€**  
   *åˆ†æ*ï¼šç”¨äºŒç»´æ•°ç»„è®°å¿†åŒ–ï¼ˆå¦‚`vis[x][y]`ï¼‰é¿å…é‡å¤è®¿é—®ã€‚BFSå¤©ç„¶æŒ‰å±‚æ‰©å±•ä¿è¯æœ€ä¼˜æ€§ï¼ŒDFSéœ€é¢å¤–æ­¥æ•°å‰ªæï¼ˆå¦‚`kn-1>k`ï¼‰ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŠ¶æ€ç©ºé—´æœç´¢çš„æœ¬è´¨æ˜¯é¿å…é‡å¤é€ è½®å­ã€‚

3. **è¾¹ç•Œæ¡ä»¶å¤„ç†**  
   *åˆ†æ*ï¼šKæ¬¡æ“ä½œåŒ…å«åˆå§‹çŠ¶æ€(0,0)ï¼Œå› æ­¤å®é™…å¯æ“ä½œæ¬¡æ•°ä¸ºKæ­¥ã€‚é¢˜è§£4çš„`k+1`ç»ˆæ­¢æ¡ä»¶è°ƒè¯•ç»éªŒæå…·å‚è€ƒä»·å€¼ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹ç•Œæµ‹è¯•æ˜¯ç®—æ³•å¥å£®æ€§çš„å…³é”®ã€‚

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**  
- **ç©ºé—´æ¢æ—¶é—´**ï¼š100Ã—100çŠ¶æ€æ•°ç»„ç‰ºç‰²å°å†…å­˜æ¢é«˜æ•ˆæœç´¢  
- **æ“ä½œåˆå¹¶**ï¼šå€’ç‰›å¥¶æ“ä½œç”¨`min`åˆå¹¶ç©ºæ¡¶/æ»¡æ¡¶ä¸¤ç§æƒ…å†µ  
- **é€†å‘æ€ç»´**ï¼šä»ç›®æ ‡Måæ¨å¯èƒ½çŠ¶æ€ï¼ˆå¦‚Mâ‰¤X+Yï¼‰

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**  
```cpp
#include <iostream>
#include <queue>
#include <cstring>
#include <cmath>
using namespace std;

int main() {
    int X, Y, K, M;
    cin >> X >> Y >> K >> M;
    
    bool vis[101][101] = {false};
    queue<tuple<int, int, int>> q; // (x, y, steps)
    q.push({0, 0, 0});
    int ans = abs(M);
    
    while (!q.empty()) {
        auto [x, y, steps] = q.front();
        q.pop();
        
        ans = min(ans, abs(M - (x + y)));
        if (steps == K) continue;
        
        // 6ç§çŠ¶æ€è½¬ç§»
        vector<tuple<int, int>> nextStates = {
            {X, y}, {x, Y},    // è£…æ»¡
            {0, y}, {x, 0},     // å€’ç©º
            {x - min(x, Y - y), y + min(x, Y - y)},  // xå€’å‘y
            {x + min(y, X - x), y - min(y, X - x)}   // yå€’å‘x
        };
        
        for (auto [nx, ny] : nextStates) {
            if (nx < 0 || ny < 0) continue;
            if (!vis[nx][ny]) {
                vis[nx][ny] = true;
                q.push({nx, ny, steps + 1});
            }
        }
    }
    cout << ans << endl;
}
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
> 1. åˆå§‹åŒ–BFSé˜Ÿåˆ—ï¼Œèµ·å§‹çŠ¶æ€(0,0,0)  
> 2. å¾ªç¯å¤„ç†é˜Ÿåˆ—ï¼šæ›´æ–°æœ€ä¼˜è§£â†’ç”Ÿæˆ6ç§æ–°çŠ¶æ€â†’æœ‰æ•ˆçŠ¶æ€å…¥é˜Ÿ  
> 3. å…³é”®ä¼˜åŒ–ï¼š`vis`æ•°ç»„é¿å…é‡å¤è®¿é—®ï¼Œ`steps==K`æ—¶åœæ­¢æ‰©å±•  

**é¢˜è§£ä¸€æ ¸å¿ƒç‰‡æ®µèµæ**  
```cpp
void dfs(int xn, int yn, int kn) {
    if (f[xn][yn] || kn-1 > k) return; // è®°å¿†åŒ–+æ­¥æ•°å‰ªæ
    f[xn][yn] = true;
    ans = min(ans, abs(m - xn - yn));
    // 6ç§æ“ä½œé€’å½’
    dfs(X, yn, kn+1); 
    dfs(0, yn, kn+1);
    if (X-xn <= yn) dfs(X, yn-(X-xn), kn+1); // å€’ç‰›å¥¶ä¼˜åŒ–
    ...
}
```
**å­¦ä¹ ç¬”è®°**ï¼šDFSçš„"è¯•æ¢-å›æº¯"æœ¬è´¨ï¼Œé€‚åˆçŠ¶æ€ç©ºé—´æ·±åº¦æ¢ç´¢ã€‚

**é¢˜è§£äºŒæ ¸å¿ƒç‰‡æ®µèµæ**  
```cpp
nextStates = {
    {X, y}, {x, Y}, 
    {0, y}, {x, 0},
    {x - min(x, Y-y), min(Y, y+x)}, // å€’ç‰›å¥¶åˆå¹¶è¡¨è¾¾å¼
    {min(X, x+y), y - min(y, X-x)}
};
```
**å­¦ä¹ ç¬”è®°**ï¼š`min`å‡½æ•°åˆå¹¶åˆ†æ”¯æ˜¯çŠ¶æ€è½¬ç§»çš„ä¼˜é›…å®ç°ã€‚

**é¢˜è§£ä¸‰æ ¸å¿ƒç‰‡æ®µèµæ**  
```cpp
void add(int a, int b) {
    if (dp[a][b] >= k) return;
    if (dp[a][b]+1 < dp[0][b]) { // çŠ¶æ€æ›´æ–°åˆ¤æ–­
        dp[0][b] = dp[a][b]+1;
        add(0, b); // é€’å½’æ‰©å±•
    }
    ...
}
```
**å­¦ä¹ ç¬”è®°**ï¼šé€’å½’DPå°†çŠ¶æ€è½¬ç§»è½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€å¼é“¾å¼è°ƒç”¨ã€‚

---

### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º  
**ä¸»é¢˜**ï¼š`åƒç´ ç‰›å¥¶å†œåœº` (8-bité£æ ¼çŠ¶æ€è½¬ç§»æ¨¡æ‹Ÿ)  
**æ ¸å¿ƒæ¼”ç¤º**ï¼š  
![](https://via.placeholder.com/400x200/000000/FFFFFF?text=çŠ¶æ€ç½‘æ ¼å›¾)  
1. **åƒç´ åœºæ™¯**ï¼š  
   - 10Ã—10ç½‘æ ¼ä»£è¡¨æ¡¶çŠ¶æ€ï¼ˆXè½´=æ¡¶Aï¼ŒYè½´=æ¡¶Bï¼‰  
   - æ§åˆ¶é¢æ¿ï¼šæ­¥è¿›/æš‚åœ/é€Ÿåº¦æ»‘å—ï¼ˆå¤å¤æ¸¸æˆæŒ‰é’®æ ·å¼ï¼‰  
2. **åŠ¨æ€è¿‡ç¨‹**ï¼š  
   - èµ·å§‹ç‚¹(0,0)é—ªçƒç»¿è‰²ï¼Œæ¯æ¬¡æ“ä½œæ’­æ”¾"æ»´ç­”"éŸ³æ•ˆ  
   - çŠ¶æ€è½¬ç§»çº¿ï¼šè£…æ»¡â†’é‡‘è‰²é—ªå…‰/å€’ç©ºâ†’çº¢è‰²æ¶ˆé€€/å€’ç‰›å¥¶â†’è“è‰²æ°´æµåŠ¨ç”»  
   - å®æ—¶æ˜¾ç¤ºï¼š`å½“å‰æ­¥æ•°: 3 | æ€»é‡: 64 | ç›®æ ‡å·®: 32`  
3. **æ¸¸æˆåŒ–å…ƒç´ **ï¼š  
   - æ¯æ‰¾åˆ°æ›´ä¼˜è§£æ—¶æ’­æ”¾"é‡‘å¸éŸ³æ•ˆ"å¹¶æ˜¾ç¤º`NEW BEST!`  
   - å¤±è´¥æ—¶æ’­æ”¾ä½æ²‰éŸ³æ•ˆï¼Œæ˜¾ç¤º`GAME OVER`  
   - è¿‡å…³æ¡ä»¶ï¼šè¯¯å·®â‰¤5æ—¶è§¦å‘åº†ç¥åŠ¨ç”»ï¼ˆå¥¶ç‰›è·³èˆåƒç´ å›¾ï¼‰  

**è®¾è®¡é€»è¾‘**ï¼š  
> é€šè¿‡é¢œè‰²/éŸ³æ•ˆå¼ºåŒ–æ“ä½œè®°å¿†ï¼Œç½‘æ ¼åŒ–çŠ¶æ€ç©ºé—´ç›´è§‚å±•ç¤ºBFSçš„"æ¶Ÿæ¼ªæ‰©æ•£"æ•ˆåº”ã€‚å•æ­¥æ‰§è¡Œå¯¹åº”ç®—æ³•`pop()`æ“ä½œï¼Œè‡ªåŠ¨æ¨¡å¼=ç®—æ³•å®Œæ•´æ‰§è¡Œã€‚

---

### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
1. **æ´›è°· P1434**ï¼šå€’æ°´é—®é¢˜ï¼ˆçŠ¶æ€æœç´¢+è·¯å¾„è®°å½•ï¼‰  
   â†’ æŒæ¡çŠ¶æ€ç©ºé—´å›æº¯æŠ€å·§  
2. **æ´›è°· P1135**ï¼šå¥‡æ€ªçš„ç”µæ¢¯ï¼ˆBFSåˆ†å±‚æ‰©å±•ç»å…¸é¢˜ï¼‰  
   â†’ å¼ºåŒ–æ“ä½œæ­¥æ•°é™åˆ¶å¤„ç†èƒ½åŠ›  
3. **æ´›è°· P2895**ï¼šæµæ˜Ÿé›¨ï¼ˆçŠ¶æ€æœç´¢+æ—¶ç©ºç»´åº¦æ‰©å±•ï¼‰  
   â†’ å­¦ä¹ ä¸‰ç»´çŠ¶æ€å»ºæ¨¡ï¼ˆx,y,timeï¼‰  

---

### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **é¢˜è§£4ä½œè€…è°ƒè¯•ç»éªŒ**ï¼š  
> *"è¾¹ç•Œæ¡ä»¶å†™k+1è€Œékï¼Œè°ƒäº†1å°æ—¶ï¼"*  
> **Kayç‚¹è¯„**ï¼šç®—æ³•ç»ˆæ­¢æ¡ä»¶éœ€ç²¾ç¡®åˆ°æ“ä½œæ¬¡æ•°+1ï¼Œå› ä¸ºåˆå§‹çŠ¶æ€è®¡å…¥0æ­¥ã€‚å»ºè®®ç”¨`step_counter <= K`ä½œä¸ºç»ˆæ­¢æ¡ä»¶æ›´ç›´è§‚ã€‚

---

é€šè¿‡æœ¬æŒ‡å—ï¼Œç›¸ä¿¡å¤§å®¶å·²æŒæ¡çŠ¶æ€ç©ºé—´æœç´¢çš„æ ¸å¿ƒæ€æƒ³ã€‚è®°ä½ï¼šå¥½ç®—æ³•=ç²¾ç¡®çŠ¶æ€å®šä¹‰+é«˜æ•ˆè½¬ç§»ä¼˜åŒ–+ä¸¥è°¨è¾¹ç•Œå¤„ç†ï¼ä¸‹æ¬¡æˆ‘ä»¬å°†æ¢ç´¢æ›´å¤æ‚çš„æœç´¢ä¼˜åŒ–æŠ€å·§ï¼Œç»§ç»­åŠ æ²¹ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š198.24ç§’
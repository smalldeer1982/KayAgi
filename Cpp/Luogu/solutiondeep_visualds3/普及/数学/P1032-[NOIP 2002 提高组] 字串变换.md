# é¢˜ç›®ä¿¡æ¯

# [NOIP 2002 æé«˜ç»„] å­—ä¸²å˜æ¢

## é¢˜ç›®èƒŒæ™¯

æœ¬é¢˜ä¸ä¿è¯å­˜åœ¨é è°±çš„å¤šé¡¹å¼å¤æ‚åº¦çš„åšæ³•ã€‚æµ‹è¯•æ•°æ®éå¸¸çš„æ°´ï¼Œå„ç§åšæ³•éƒ½å¯ä»¥é€šè¿‡ï¼Œä¸ä»£è¡¨ç®—æ³•æ­£ç¡®ã€‚å› æ­¤æœ¬é¢˜é¢˜ç›®å’Œæ•°æ®ä»…ä¾›å‚è€ƒã€‚

æœ¬é¢˜ä¸ºæœç´¢é¢˜ï¼Œæœ¬é¢˜ä¸æ¥å— hack æ•°æ®ã€‚[å…³äºæ­¤ç±»é¢˜ç›®çš„è¯¦ç»†å†…å®¹](https://www.luogu.com.cn/paste/isdgwj5l)

## é¢˜ç›®æè¿°

å·²çŸ¥æœ‰ä¸¤ä¸ªå­—ä¸² $A,B$ åŠä¸€ç»„å­—ä¸²å˜æ¢çš„è§„åˆ™ï¼ˆè‡³å¤š $6$ ä¸ªè§„åˆ™ï¼‰ï¼Œå½¢å¦‚ï¼š

- $A_1\to B_1$ã€‚
- $A_2\to B_2$ã€‚

è§„åˆ™çš„å«ä¹‰ä¸ºï¼šåœ¨ $A$ ä¸­çš„å­ä¸² $A_1$ å¯ä»¥å˜æ¢ä¸º $ B_1$ï¼Œ$A_2$ å¯ä»¥å˜æ¢ä¸º $B_2\cdots$ã€‚

ä¾‹å¦‚ï¼š$A=\texttt{abcd}$ï¼Œ$Bï¼\texttt{xyz}$ï¼Œ

å˜æ¢è§„åˆ™ä¸ºï¼š

- $\texttt{abc}\rightarrow\texttt{xu}$ï¼Œ$\texttt{ud}\rightarrow\texttt{y}$ï¼Œ$\texttt{y}\rightarrow\texttt{yz}$ã€‚

åˆ™æ­¤æ—¶ï¼Œ$A$ å¯ä»¥ç»è¿‡ä¸€ç³»åˆ—çš„å˜æ¢å˜ä¸º $B$ï¼Œå…¶å˜æ¢çš„è¿‡ç¨‹ä¸ºï¼š

- $\texttt{abcd}\rightarrow\texttt{xud}\rightarrow\texttt{xy}\rightarrow\texttt{xyz}$ã€‚

å…±è¿›è¡Œäº† $3$ æ¬¡å˜æ¢ï¼Œä½¿å¾— $A$ å˜æ¢ä¸º $B$ã€‚


## è¯´æ˜/æç¤º

å¯¹äº $100\%$ æ•°æ®ï¼Œä¿è¯æ‰€æœ‰å­—ç¬¦ä¸²é•¿åº¦çš„ä¸Šé™ä¸º $20$ã€‚

**ã€é¢˜ç›®æ¥æºã€‘**

NOIP 2002 æé«˜ç»„ç¬¬äºŒé¢˜

## æ ·ä¾‹ #1

### è¾“å…¥

```
abcd xyz
abc xu
ud y
y yz
```

### è¾“å‡º

```
3
```

# AIåˆ†æç»“æœ


### Kayçš„C++ç®—æ³•è§£æï¼šå­—ä¸²å˜æ¢ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæœç´¢ç®—æ³•ï¼ˆBFS/åŒå‘BFSï¼‰ä¸å­—ç¬¦ä¸²å¤„ç†

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> æœ¬é¢˜è¦æ±‚é€šè¿‡æœ‰é™æ¬¡å­—ç¬¦ä¸²æ›¿æ¢å°†èµ·å§‹ä¸²å˜æ¢ä¸ºç›®æ ‡ä¸²ï¼Œæ ¸å¿ƒæ˜¯çŠ¶æ€ç©ºé—´æœç´¢ã€‚æƒ³è±¡æˆåœ¨"å­—ç¬¦ä¸²è¿·å®®"ä¸­å¯»æ‰¾æœ€çŸ­è·¯å¾„ï¼šæ¯ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ¯æ¬¡æ›¿æ¢æ˜¯è¿æ¥èŠ‚ç‚¹çš„è¾¹ã€‚
- **æ ¸å¿ƒéš¾ç‚¹**ï¼šçŠ¶æ€çˆ†ç‚¸ï¼ˆå­—ç¬¦ä¸²é•¿åº¦â‰¤20ï¼Œè§„åˆ™â‰¤6ï¼Œ10æ­¥å†…çŠ¶æ€æ•°å¯è¾¾6Â¹â°ï¼‰å’Œé‡å¤çŠ¶æ€å¤„ç†
- **è§£æ³•å¯¹æ¯”**ï¼šå•å‘BFSç®€å•ç›´è§‚ä½†å¯èƒ½è¶…æ—¶ï¼›åŒå‘BFSä»èµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶æœç´¢ï¼Œæ•ˆç‡æ›´é«˜ï¼ˆæ—¶é—´å¤æ‚åº¦ä»O(6Â¹â°)é™è‡³O(6âµ)ï¼‰ï¼›è¿­ä»£åŠ æ·±DFSé€‚åˆæ·±åº¦å—é™åœºæ™¯
- **å¯è§†åŒ–è®¾è®¡**ï¼šé‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼Œç”¨ä¸åŒé¢œè‰²æ–¹å—è¡¨ç¤ºå­—ç¬¦ï¼Œé«˜äº®å½“å‰æ›¿æ¢ä½ç½®ã€‚è‡ªåŠ¨æ¼”ç¤ºæ—¶æ˜¾ç¤ºæ›¿æ¢è§„åˆ™å’Œæ­¥æ•°è®¡æ•°å™¨ï¼Œæ›¿æ¢æ—¶æ’­æ”¾"å®"éŸ³æ•ˆï¼ŒæˆåŠŸæ—¶æ’­æ”¾èƒœåˆ©éŸ³æ•ˆ

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼šcoyangjr (KMPä¼˜åŒ–BFS)**
* **ç‚¹è¯„**ï¼š
  - æ€è·¯åˆ›æ–°ï¼šç”¨KMPä»£æ›¿æ ‡å‡†å­—ç¬¦ä¸²æŸ¥æ‰¾ï¼Œé¿å…é‡å¤åŒ¹é…ï¼ˆå¦‚"aaa"ä¸­æ‰¾"aa"ï¼‰
  - ä»£ç è§„èŒƒï¼šç»“æ„ä½“å°è£…çŠ¶æ€ï¼Œmapåˆ¤é‡ä¸¥è°¨ï¼Œå˜é‡åæ¸…æ™°ï¼ˆ`memo`ã€`diff`ï¼‰
  - äº®ç‚¹ï¼šå®ç°DFSè®°å¿†åŒ–æœç´¢å˜ä½“ï¼Œå¤„ç†å¤§çŠ¶æ€ç©ºé—´ï¼›è¯¦ç»†è§£é‡ŠKMPåŸç†
  - å®è·µä»·å€¼ï¼šæä¾›KMPå­¦ä¹ èµ„æºï¼Œå¯ç›´æ¥ç”¨äºå­—ç¬¦ä¸²å¤„ç†ç±»ç«èµ›é¢˜

**é¢˜è§£äºŒï¼šShawnZhou (æ ‡å‡†BFS+STL)**
* **ç‚¹è¯„**ï¼š
  - é€»è¾‘æ¸…æ™°ï¼šç›´ç™½é˜è¿°BFSæ¡†æ¶ï¼ˆé˜Ÿåˆ—+åˆ¤é‡ï¼‰ï¼Œè¾¹ç•Œå¤„ç†å®Œæ•´ï¼ˆ10æ­¥é™åˆ¶ï¼‰
  - ä»£ç ç®€æ´ï¼šåˆ©ç”¨`string::replace`ç®€åŒ–æ“ä½œï¼Œ`map`åˆ¤é‡é«˜æ•ˆ
  - å®è·µäº®ç‚¹ï¼šé²æ£’æ€§å¼ºï¼ˆå¦‚ç©ºè¾“å…¥å¤„ç†ï¼‰ï¼Œé€‚åˆåˆå­¦è€…ç†è§£BFSæ ¸å¿ƒæ€æƒ³
  - å­¦ä¹ æç¤ºï¼šä½œè€…åˆ†äº«è°ƒè¯•ç»å†å¼ºè°ƒ"è¾“å‡ºä¸­é—´å˜é‡"çš„è°ƒè¯•æŠ€å·§

**é¢˜è§£ä¸‰ï¼šTime_Rune (è¿­ä»£åŠ æ·±DFS)**
* **ç‚¹è¯„**ï¼š
  - ç®—æ³•åˆ›æ–°ï¼šDFS+æ·±åº¦é™åˆ¶ï¼ˆ1-10å±‚é€æ­¥å°è¯•ï¼‰ï¼Œé¿å…BFSç©ºé—´çˆ†ç‚¸
  - ä¼˜åŒ–æŠ€å·§ï¼šç”¨`map`è®°å½•å·²è®¿é—®çŠ¶æ€ï¼Œæ¯è½®é‡ç½®æœç´¢æ ‘
  - äº®ç‚¹ï¼šå¹³è¡¡DFSæ·±åº¦ä¸å¹¿åº¦ï¼Œåœ¨1323msâ†’77msæ˜¾è‘—ä¼˜åŒ–
  - æ•™å­¦ä»·å€¼ï¼šæ¸…æ™°å±•ç¤ºDFSåˆ°è¿­ä»£åŠ æ·±çš„è¿›åŒ–æ€è·¯ï¼Œå¯å‘ç®—æ³•é€‰æ‹©ç­–ç•¥

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **çŠ¶æ€çˆ†ç‚¸å¤„ç†**
   * **åˆ†æ**ï¼šä¼˜è´¨é¢˜è§£å‡ä½¿ç”¨`map`/`set`åˆ¤é‡ã€‚KMPé¢˜è§£é€šè¿‡è·³è½¬è¡¨é¿å…é‡å¤åŒ¹é…ï¼ŒåŒå‘BFSé¢˜è§£é€šè¿‡å‡æ‘Šæœç´¢é‡é™ä½ç©ºé—´éœ€æ±‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŠ¶æ€ç©ºé—´æŒ‡æ•°å¢é•¿æ—¶ï¼ŒåŒå‘æœç´¢æˆ–è¿­ä»£åŠ æ·±ä¼˜äºå•å‘BFS

2. **å­—ç¬¦ä¸²é«˜æ•ˆæ›¿æ¢**
   * **åˆ†æ**ï¼šcoyangjrç”¨KMPå®ç°O(n+m)åŒ¹é…ï¼Œå…¶ä½™é¢˜è§£ç”¨`find`+`replace`ï¼ˆæœ€åO(nÂ²)ï¼‰ã€‚KMPåœ¨è§„åˆ™å¤šæ¬¡åŒ¹é…æ—¶æ›´é«˜æ•ˆ
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé«˜é¢‘æ›¿æ¢åœºæ™¯ä¼˜å…ˆé€‰æ‹©KMP/ACè‡ªåŠ¨æœºç­‰ä¼˜åŒ–ç®—æ³•

3. **è§„åˆ™åå‘åº”ç”¨**
   * **åˆ†æ**ï¼šåŒå‘BFSé¢˜è§£åœ¨åå‘æœç´¢æ—¶å°†è§„åˆ™å€’ç½®ï¼ˆå¦‚`y->yz`å˜ä¸º`yz->y`ï¼‰ï¼Œç¡®ä¿çŠ¶æ€æ”¶æ•›
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŒå‘æœç´¢éœ€ä¿æŒè§„åˆ™å¯¹ç§°æ€§ï¼Œç»ˆç‚¹æœç´¢ä½¿ç”¨é€†è§„åˆ™

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**
- **å‰ªæç­–ç•¥**ï¼šæ­¥æ•°>10ç«‹å³ç»ˆæ­¢ï¼ˆShawnZhoué¢˜è§£ï¼‰
- **çŠ¶æ€å‹ç¼©**ï¼šç”¨å“ˆå¸Œä»£æ›¿å­—ç¬¦ä¸²æ¯”è¾ƒï¼ˆBrandonSoongé¢˜è§£ï¼‰
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šåˆ†ç¦»å­—ç¬¦ä¸²åŒ¹é…ä¸æ›¿æ¢é€»è¾‘ï¼ˆcoyangjré¢˜è§£ï¼‰
- **è¾“å…¥é²æ£’æ€§**ï¼š`while(cin>>a>>b)`å¤„ç†ä¸å®šé•¿è¾“å…¥ï¼ˆæ‰€æœ‰ä¼˜è´¨é¢˜è§£ï¼‰

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°å‚è€ƒ**
```cpp
#include <iostream>
#include <queue>
#include <map>
using namespace std;

struct State { string s; int steps; };
int bfs(string A, string B, vector<pair<string,string>> rules) {
    queue<State> q; q.push({A,0});
    map<string, bool> visited;

    while(!q.empty()) {
        State cur = q.front(); q.pop();
        if(cur.steps > 10) return -1;
        if(cur.s == B) return cur.steps;
        
        for(auto &rule : rules) {
            size_t pos = 0;
            while((pos = cur.s.find(rule.first, pos)) != string::npos) {
                string next = cur.s;
                next.replace(pos, rule.first.length(), rule.second);
                if(!visited[next]) {
                    visited[next] = true;
                    q.push({next, cur.steps+1});
                }
                pos++;
            }
        }
    }
    return -1;
}
```
**å„é¢˜è§£ç‰‡æ®µèµæ**

**é¢˜è§£ä¸€ï¼šcoyangjrï¼ˆKMPæ ¸å¿ƒï¼‰**
```cpp
// KMPé¢„å¤„ç†
void get_next(int x) {
    int j = 0;
    for(int i=2; i<diff[x].length(); i++){
        while(j && diff[x][i]!=diff[x][j+1]) j=nxt[x][j];
        if(diff[x][j+1]==diff[x][i]) j++;
        nxt[x][i]=j;
    }
}

// æ›¿æ¢æ“ä½œ
string tmp=z.substr(0,t)+change[x]+z.substr(t+diff[x].length()-1);
```
**å­¦ä¹ ç¬”è®°**ï¼šKMPé€šè¿‡"éƒ¨åˆ†åŒ¹é…è¡¨"è·³è¿‡æ— æ•ˆæ¯”è¾ƒï¼Œæ˜¯å­—ç¬¦ä¸²åŒ¹é…çš„ç»å…¸ä¼˜åŒ–

**é¢˜è§£äºŒï¼šShawnZhouï¼ˆè§„åˆ™åº”ç”¨ï¼‰**
```cpp
string tmp = cur.s;
tmp.replace(pos, rule.first.length(), rule.second);
if(!visited[tmp]) {
    q.push({tmp, cur.steps+1});
}
```
**å­¦ä¹ ç¬”è®°**ï¼š`string::replace`å°è£…åº•å±‚å­—ç¬¦æ“ä½œï¼Œå¤§å¹…ç®€åŒ–ä»£ç 

**é¢˜è§£ä¸‰ï¼šTime_Runeï¼ˆè¿­ä»£åŠ æ·±æ¡†æ¶ï¼‰**
```cpp
while(ans==999999){
    dfs(a,0);          // æ·±åº¦é™åˆ¶é€æ­¥å¢åŠ 
    visited.clear();    // é‡ç½®è®¿é—®è®°å½•
    depth_limit++;      // å¢åŠ æ·±åº¦é™åˆ¶
    if(depth_limit==11) break;
}
```
**å­¦ä¹ ç¬”è®°**ï¼šè¿­ä»£åŠ æ·±ç»¼åˆBFSæ·±åº¦æ§åˆ¶ä¸DFSç©ºé—´ä¼˜åŠ¿ï¼Œé€‚åˆæ·±åº¦æœªçŸ¥çš„åœºæ™¯

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**è®¾è®¡æ¦‚è¦**ï¼š8ä½æœºé£æ ¼åŠ¨æ€æ¼”ç¤ºæ›¿æ¢è¿‡ç¨‹  
**æ ¸å¿ƒæµç¨‹**ï¼š
1. **åˆå§‹åŒ–**ï¼š  
   - å¤å¤ç»¿åº•é»‘å­—åƒç´ ç½‘æ ¼ï¼ˆå¦‚FCæ¸¸æˆï¼‰
   - æ§åˆ¶é¢æ¿å«æ­¥è¿›/æš‚åœ/é€Ÿåº¦æ»‘å—ï¼ˆ0.5x-2xï¼‰

2. **BFSæ¼”ç¤º**ï¼š  
   ```plaintext
   [abcd] -> åº”ç”¨è§„åˆ™"abcâ†’xu"ï¼š
   â– â– â– â–       â– â– â–¡â–¡
   a b c d   x u d
   â– æ ‡è®°å½“å‰æ“ä½œä½ï¼ˆé—ªçƒçº¢è‰²ï¼‰
   ```

3. **åŒå‘BFSç‰¹æ•ˆ**ï¼š  
   - ä¸Šä¸‹åˆ†å±æ˜¾ç¤ºèµ·ç‚¹/ç»ˆç‚¹æœç´¢æ ‘
   - ç›¸é‡æ—¶è·¯å¾„é«˜äº®é»„è‰²ï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆ

4. **äº¤äº’ç»†èŠ‚**ï¼š  
   - å•æ­¥æ‰§è¡Œï¼šæŒ‰æ–¹å‘é”®è§¦å‘"å’”å—’"å£°
   - è‡ªåŠ¨æ¨¡å¼ï¼šAIæœºå™¨äººå›¾æ ‡æ²¿è·¯å¾„ç§»åŠ¨
   - æ•°æ®ç»“æ„å¯è§†åŒ–ï¼šé˜Ÿåˆ—ç”¨åƒç´ æ–¹å—å †å è¡¨ç¤º

**æŠ€æœ¯å®ç°**ï¼šCanvasç»˜åˆ¶ç½‘æ ¼+CSSåƒç´ å­—ä½“ï¼ŒçŠ¶æ€æ›´æ–°ç”¨requestAnimationFrame

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜
1. **æ´›è°·P3375**ï¼šKMPæ¨¡æ¿é¢˜  
   â†’ å·©å›ºå­—ç¬¦ä¸²åŒ¹é…åŸºç¡€
2. **æ´›è°·P1126**ï¼šæœºå™¨äººæ¬é‡ç‰©  
   â†’ äºŒç»´ç©ºé—´BFSåº”ç”¨
3. **LeetCode 127**ï¼šå•è¯æ¥é¾™  
   â†’ å•è¯æ›¿æ¢çš„å›¾è®ºå»ºæ¨¡

#### 7. å­¦ä¹ å¿ƒå¾—åˆ†äº«
> **coyangjrç»éªŒ**ï¼š"è€ƒè¯•æ—¶å¿˜äº†string::findè¢«è¿«æ‰‹å†™KMP"  
> **Kayç‚¹è¯„**ï¼šè¿™æé†’æˆ‘ä»¬æŒæ¡åŸºç¡€åº“å‡½æ•°å’Œåº•å±‚åŸç†åŒæ ·é‡è¦ã€‚å»ºè®®ï¼š  
> 1. ç«èµ›å‰æ•´ç†æ ¸å¿ƒåº“å‡½æ•°å¤‡å¿˜è¡¨  
> 2. å¤æ‚é—®é¢˜å…ˆå†™ä¼ªä»£ç é¿å…å®ç°åå·®  
> 3. å­—ç¬¦ä¸²é—®é¢˜å¸¸å¤‡KMP/å­—å…¸æ ‘ä¸¤ç§æ–¹æ¡ˆ

> **ShawnZhouè°ƒè¯•æŠ€å·§**ï¼š"é€šè¿‡æ‰“å°ä¸­é—´å˜é‡å®šä½è§„åˆ™åº”ç”¨é”™è¯¯"  
> **Kayæ€»ç»“**ï¼šè¾“å‡ºå…³é”®çŠ¶æ€æ˜¯è°ƒè¯•ç®—æ³•çš„é“¶å¼¹ï¼Œå»ºè®®ï¼š  
> - åœ¨BFSæ¯æ­¥è¾“å‡ºé˜Ÿåˆ—å¤´éƒ¨å­—ç¬¦ä¸²  
> - ç”¨`cerr`è¾“å‡ºè°ƒè¯•ä¿¡æ¯é¿å…å¹²æ‰°OJ

---

**ç»“è¯­**ï¼šå­—ç¬¦ä¸²å˜æ¢é—®é¢˜èåˆæœç´¢ä¸å­—ç¬¦ä¸²å¤„ç†ï¼Œæ˜¯ç†è§£çŠ¶æ€ç©ºé—´æ¨¡å‹çš„ç»å…¸æ¡ˆä¾‹ã€‚æŒæ¡åŒå‘BFSä¸å‰ªæç­–ç•¥å¯æœ‰æ•ˆåº”å¯¹æ­¤ç±»é—®é¢˜ã€‚è®°ä½ï¼šå¥½çš„ç®—æ³•é€‰æ‹©æ¯”å®ç°ä¼˜åŒ–æ›´é‡è¦ï¼

---
å¤„ç†ç”¨æ—¶ï¼š116.68ç§’
# é¢˜ç›®ä¿¡æ¯

# [USACO22FEB] Sleeping in Class B

## é¢˜ç›®æè¿°

å¥¶ç‰› Bessie æœ€è¿‘å¾ˆé«˜å…´èƒ½å¤Ÿé‡è¿”çº¿ä¸‹è¯¾å ‚ï¼ä¸å¹¸çš„æ˜¯ï¼Œå¥¹çš„è€å¸ˆ Farmer John è®²è¯¾éå¸¸æ— èŠï¼Œå› æ­¤å¥¹ç»å¸¸åœ¨è¯¾å ‚ä¸Šç¡ç€ã€‚  
Farmer John æ³¨æ„åˆ° Bessie åœ¨è¯¾å ‚ä¸Šæ²¡æœ‰ä¸“å¿ƒå¬è®²ã€‚ä»–è®©ç­ä¸Šçš„å¦ä¸€ä½å­¦ç”Ÿ Elsie è®°å½• Bessie åœ¨æ¯èŠ‚è¯¾ä¸Šç¡ç€çš„æ¬¡æ•°ã€‚æ€»å…±æœ‰ $N$ èŠ‚è¯¾ï¼ˆ$1 \leq N \leq 10^5$ï¼‰ï¼ŒElsie è®°å½•åˆ° Bessie åœ¨ç¬¬ $i$ èŠ‚è¯¾ä¸Šç¡ç€äº† $a_i$ æ¬¡ï¼ˆ$0 \leq a_i \leq 10^6$ï¼‰ã€‚æ‰€æœ‰è¯¾ç¨‹ä¸­ Bessie ç¡ç€çš„æ€»æ¬¡æ•°ä¸è¶…è¿‡ $10^6$ã€‚

Elsie å¯¹ Bessie æ„Ÿåˆ°éå¸¸ç«äº‰ï¼Œå¥¹å¸Œæœ›è®© Farmer John è§‰å¾— Bessie åœ¨æ¯èŠ‚è¯¾ä¸Šç¡ç€çš„æ¬¡æ•°æ˜¯ä¸€è‡´çš„â€”â€”è®©é—®é¢˜çœ‹èµ·æ¥å®Œå…¨æ˜¯ Bessie çš„é”™ï¼Œè€Œä¸ Farmer John æœ‰æ—¶æ— èŠçš„è®²è¯¾æ— å…³ã€‚Elsie ä¿®æ”¹è®°å½•çš„å”¯ä¸€æ–¹å¼æ˜¯å°†ä¸¤èŠ‚ç›¸é‚»çš„è¯¾åˆå¹¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ $a = [1,2,3,4,5]$ï¼Œé‚£ä¹ˆå¦‚æœ Elsie åˆå¹¶ç¬¬äºŒå’Œç¬¬ä¸‰èŠ‚è¯¾ï¼Œè®°å½•å°†å˜ä¸º $[1,5,4,5]$ã€‚

è¯·å¸®åŠ© Elsie è®¡ç®—å¥¹éœ€è¦å¯¹è®°å½•è¿›è¡Œçš„æœ€å°‘ä¿®æ”¹æ¬¡æ•°ï¼Œä»¥ä½¿è®°å½•ä¸­çš„æ‰€æœ‰æ•°å­—ç›¸ç­‰ã€‚

## è¯´æ˜/æç¤º

å¯¹äºç¬¬ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒElsie å¯ä»¥é€šè¿‡ 3 æ¬¡ä¿®æ”¹å°†è®°å½•æ”¹ä¸ºå…¨ä¸º $3$ï¼š
```
   1 2 3 1 1 1
-> 3 3 1 1 1
-> 3 3 2 1
-> 3 3 3
```

å¯¹äºç¬¬äºŒä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒElsie å¯ä»¥é€šè¿‡ 2 æ¬¡ä¿®æ”¹å°†è®°å½•æ”¹ä¸ºå…¨ä¸º $7$ï¼š
```
   2 2 3
-> 2 5
-> 7
```

å¯¹äºæœ€åä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒElsie ä¸éœ€è¦è¿›è¡Œä»»ä½•æ“ä½œï¼Œå› ä¸ºè®°å½•å·²ç»ç”±ç›¸åŒçš„æ•°å­—ç»„æˆã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
6
1 2 3 1 1 1
3
2 2 3
5
0 0 0 0 0```

### è¾“å‡º

```
3
2
0```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šSleeping in Class B æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`æ•°å­¦æšä¸¾ä¸æ¨¡æ‹Ÿåº”ç”¨`  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è¿™é“é¢˜å°±åƒæŠŠä¸€ä¸²ä¸åŒå¤§å°çš„çç é‡æ–°ä¸²æˆç­‰é‡çš„çç é“¾ã€‚å…³é”®å‘ç°æ˜¯ï¼šæ— è®ºæ€ä¹ˆåˆå¹¶ï¼Œçç æ€»é‡é‡ï¼ˆæ•°ç»„æ€»å’Œï¼‰ä¸å˜ï¼å› æ­¤æˆ‘ä»¬åªéœ€æšä¸¾æ€»å’Œçš„çº¦æ•°ä½œä¸ºç›®æ ‡å€¼ï¼ŒéªŒè¯èƒ½å¦é€šè¿‡åˆå¹¶å®ç°ã€‚  
> - **æ ¸å¿ƒæµç¨‹**ï¼šâ‘ è®¡ç®—æ€»å’Œï¼›â‘¡å€’åºæšä¸¾çº¦æ•°ï¼›â‘¢æ¨¡æ‹Ÿåˆ†æ®µéªŒè¯ã€‚  
> - **å¯è§†åŒ–è®¾è®¡**ï¼šç”¨åƒç´ æ–¹å—è¡¨ç¤ºæ•°å€¼ï¼Œåˆå¹¶æ—¶æ–¹å—èåˆå˜è‰²ï¼Œç›®æ ‡è¾¾æˆæ—¶æ’­æ”¾èƒœåˆ©éŸ³æ•ˆã€‚è®¾è®¡8ä½æ¸¸æˆUIï¼ŒåŒ…å«æ­¥è¿›æ§åˆ¶ï¼ˆâ†â†’é”®ï¼‰å’Œè‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼ï¼ˆAIè´ªåƒè›‡å¼æ¨è¿›ï¼‰ã€‚

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆZirncï¼‰**  
* **ç‚¹è¯„**ï¼šæ€è·¯ç›´å‡»è¦å®³â€”â€”å€’åºæšä¸¾çº¦æ•°å°½æ—©æ‰¾åˆ°æœ€å¤§åˆ†æ®µæ•°ã€‚ä»£ç ç”¨`flag`æ§åˆ¶éªŒè¯é€»è¾‘ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆå¦‚`cur > sum/i`ç«‹å³ç»ˆæ­¢ï¼‰ã€‚å˜é‡å`cur`ã€`sum`è¯­ä¹‰æ¸…æ™°ï¼ŒO(nÂ·çº¦æ•°ä¸ªæ•°)å¤æ‚åº¦ä¼˜ç§€ï¼Œç«èµ›å¯ç›´æ¥å¤ç”¨ã€‚  

**é¢˜è§£äºŒï¼ˆlnwhlï¼‰**  
* **ç‚¹è¯„**ï¼šç»“æ„å·¥æ•´ï¼Œæ³¨é‡Šè¯¦å°½ã€‚ç”¨`pre`å˜é‡æ¨¡æ‹Ÿåˆ†æ®µç´¯åŠ ï¼Œ`ok`æ ‡å¿—å¢å¼ºå¯è¯»æ€§ã€‚ç‰¹åˆ¤å…¨é›¶æ•°æ®çš„`if(sum==0)`ä½“ç°å¥å£®æ€§ï¼Œé€‚åˆåˆå­¦è€…ç†è§£åˆ†æ®µéªŒè¯æ€æƒ³ã€‚  

**é¢˜è§£ä¸‰ï¼ˆDr_Gilbertï¼‰**  
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§ä»å°åˆ°å¤§æšä¸¾çº¦æ•°ï¼Œæä¾›`check()`å‡½æ•°å°è£…éªŒè¯é€»è¾‘ã€‚äº®ç‚¹åœ¨ç‰¹åˆ¤`sum==0`é¿å…é™¤é›¶é”™è¯¯ï¼Œç”¨`tmp`ç´¯åŠ å™¨å®ç°ç®€æ´æ¨¡æ‹Ÿï¼Œæ—¶é—´å¤æ‚åº¦åˆ†æé€å½»ã€‚  

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹1ï¼šç¡®å®šæœ€ç»ˆåˆ†æ®µå¤§å°**  
   * **åˆ†æ**ï¼šæœ€ç»ˆæ®µæ•°kå¿…é¡»æ»¡è¶³`sum%k==0`ã€‚ä¼˜è´¨è§£å€’åºæšä¸¾kï¼ˆnâ†’1ï¼‰ï¼Œæ‰¾åˆ°é¦–ä¸ªå¯è¡Œè§£å³åœæ­¢ï¼ˆkè¶Šå¤§æ“ä½œè¶Šå°‘ï¼‰ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ“ä½œæ¬¡æ•° = n - kï¼Œkè¶Šå¤§è¶Šå¥½ï¼

2. **éš¾ç‚¹2ï¼šéªŒè¯åˆ†æ®µå¯è¡Œæ€§**  
   * **åˆ†æ**ï¼šä»å·¦å‘å³æ¨¡æ‹Ÿåˆå¹¶ï¼Œç´¯åŠ å€¼==ç›®æ ‡æ—¶é‡ç½®ï¼Œ>ç›®æ ‡ç«‹å³å¤±è´¥ã€‚å…³é”®å˜é‡`cur`åƒæ°´æ¯â€”â€”åŠ æ°´è‡³æ»¡åˆ™æ¸…ç©ºï¼Œæº¢å‡ºåˆ™å¤±è´¥ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šéªŒè¯éœ€ä¸¥æ ¼æ»¡è¶³"åˆšå¥½è£…æ»¡"ï¼Œä¸èƒ½å°‘ä¹Ÿä¸èƒ½å¤šã€‚

3. **éš¾ç‚¹3ï¼šå¤„ç†è¾¹ç•Œæƒ…å†µ**  
   * **åˆ†æ**ï¼šæ€»å’Œä¸º0æ—¶æ— éœ€æ“ä½œã€‚ä»£ç ä¸­éœ€ç‰¹åˆ¤ï¼ˆå¦‚`if(sum==0) cout<<0`ï¼‰ï¼Œé¿å…é™¤é›¶é”™è¯¯ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾¹ç•Œæµ‹è¯•æ˜¯å¥å£®ä»£ç çš„åŸºçŸ³ï¼

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é€†å‘æ€ç»´**ï¼šä»ç»“æœåæ¨æ¡ä»¶ï¼ˆæ€»å’Œæ•´é™¤ç›®æ ‡å€¼ï¼‰  
- **æ—©åœä¼˜åŒ–**ï¼šå€’åºæšä¸¾å°½å¿«æ‰¾åˆ°æœ€å¤§k  
- **æ¨¡å—åŒ–éªŒè¯**ï¼šå°è£…checkå‡½æ•°æå‡å¯è¯»æ€§  
- **é˜²å¾¡æ€§ç¼–ç¨‹**ï¼šç‰¹åˆ¤0ç­‰è¾¹ç•Œæƒ…å†µ  

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**é€šç”¨æ ¸å¿ƒå®ç°å‚è€ƒ**  
* **è¯´æ˜**ï¼šç»¼åˆä¼˜è´¨è§£æ€è·¯ï¼Œå€’åºæšä¸¾+åˆ†æ®µéªŒè¯ï¼Œå«æ€»å’Œ0ç‰¹åˆ¤ã€‚  
```cpp
#include <iostream>
using namespace std;

int main() {
    int T, n, a[100005];
    cin >> T;
    while (T--) {
        cin >> n;
        int sum = 0;
        for (int i = 0; i < n; i++) {
            cin >> a[i];
            sum += a[i];
        }
        if (sum == 0) { cout << "0\n"; continue; } // ç‰¹åˆ¤å…¨0
        
        for (int k = n; k >= 1; k--) { // å€’åºæšä¸¾åˆ†æ®µæ•°
            if (sum % k != 0) continue; // è·³è¿‡éçº¦æ•°
            int target = sum / k, cur = 0;
            bool valid = true;
            for (int i = 0; i < n; i++) {
                cur += a[i];
                if (cur > target) { valid = false; break; } // æº¢å‡ºå¤±è´¥
                if (cur == target) cur = 0; // åˆ†æ®µå®Œæˆé‡ç½®
            }
            if (valid) { cout << n - k << "\n"; break; } // æ‰¾åˆ°è§£
        }
    }
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. è¯»å…¥å¤šç»„æ•°æ®ï¼Œè®¡ç®—æ€»å’Œ`sum`  
  2. ç‰¹åˆ¤`sum==0`ç›´æ¥è¾“å‡º0  
  3. å€’åºæšä¸¾åˆ†æ®µæ•°kï¼Œæ£€æŸ¥`sum%k==0`  
  4. æ¨¡æ‹Ÿåˆ†æ®µï¼šç´¯åŠ è‡³`target`åˆ™é‡ç½®ï¼Œæº¢å‡ºåˆ™å¤±è´¥  
  5. æ‰¾åˆ°é¦–ä¸ªå¯è¡Œkæ—¶è¾“å‡ºæ“ä½œæ¬¡æ•°`n-k`  

**é¢˜è§£ç‰‡æ®µèµæ**  
**Zirncè§£æ³•æ ¸å¿ƒ**  
```cpp
for (int i = n; i >= 1; i--) {
    if (sum % i != 0) continue;
    int cur = 0;
    bool flag = true;
    for (int j = 0; j < n; j++) {
        cur += a[j];
        if (cur > sum / i) { flag = false; break; }
        else if (cur == sum / i) cur = 0; // åˆ†æ®µå®Œæˆ
    }
    if (flag) { ans = n - i; break; }
}
```
* **äº®ç‚¹**ï¼šç®€æ´çš„å€’åºæšä¸¾ä¸çŠ¶æ€æ ‡è®°  
* **è§£è¯»**ï¼šå¤–å±‚`i`æšä¸¾æœ€ç»ˆæ®µæ•°ï¼Œå†…å±‚ç”¨`cur`æ¨¡æ‹Ÿè£…æ¡¶è¿‡ç¨‹ã€‚`flag`å¦‚åŒå“¨å…µâ€”â€”ä¸€æ—¦`cur`æº¢å‡ºç«‹å³æŠ¥è­¦ç»ˆæ­¢ã€‚é‡ç½®`cur=0`è±¡å¾æ–°æ¡¶å¼€å§‹è£…è½½ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç”¨å¸ƒå°”å˜é‡æ§åˆ¶éªŒè¯æµç¨‹æ˜¯æ¸…æ™°ä»£ç çš„å…³é”®ã€‚  

---

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º  
**ä¸»é¢˜**ï¼š8ä½åƒç´ é£ã€Šçç åˆå¹¶å¤§å†’é™©ã€‹  
**æ ¸å¿ƒæ¼”ç¤º**ï¼š  
1. **åˆå§‹åŒ–**ï¼šæ•°ç»„å…ƒç´ è½¬ä¸ºå½©è‰²åƒç´ å—ï¼ˆå€¼è¶Šå¤§å—è¶Šå¤§ï¼‰ï¼Œåº•éƒ¨æ˜¾ç¤ºæ§åˆ¶é¢æ¿ï¼ˆå¼€å§‹/æ­¥è¿›/è°ƒé€Ÿï¼‰ã€‚  
   ![](https://via.placeholder.com/300x100/00ff00?text=Start+Step+Speed)  
2. **åˆå¹¶åŠ¨ç”»**ï¼š  
   - ç´¯åŠ æ—¶ï¼šå½“å‰å—é—ªçƒé»„å…‰ï¼Œ`cur`è¿›åº¦æ¡å¢é•¿  
   - åˆ†æ®µå®Œæˆï¼šåŒºå—å˜ç»¿çˆ†ç‚¸ç‰¹æ•ˆ + "å®ï¼"éŸ³æ•ˆ  
   - å¤±è´¥ï¼šå½“å‰å—é—ªçƒçº¢å…‰ + "å—¡"é”™è¯¯éŸ³  
3. **AIè‡ªåŠ¨æ¨¡å¼**ï¼šåƒç´ å°äººä»å·¦å‘å³ç§»åŠ¨ï¼Œè‡ªåŠ¨æ¼”ç¤ºåˆå¹¶è¿‡ç¨‹ï¼ˆæŒ‰ç©ºæ ¼åŠ é€Ÿï¼‰ã€‚  
4. **å…³å¡è®¾è®¡**ï¼šæ¯æˆåŠŸåˆ†æ®µè§†ä¸ºè¿‡å…³ï¼Œæ˜¾ç¤º"ç¬¬Xå…³è¾¾æˆï¼"ã€‚  

---

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜
1. **æ´›è°· P1115** - æœ€å¤§å­æ®µå’Œ  
   â†’ *åŒç±»æŠ€å·§ï¼šçº¿æ€§æšä¸¾ç´¯åŠ ä¸é‡ç½®*  
2. **æ´›è°· P3143** - Diamond Collector  
   â†’ *è¿›é˜¶åº”ç”¨ï¼šåŒæŒ‡é’ˆ+åŒºé—´åˆå¹¶éªŒè¯*  
3. **CodeForces 1462D** - Add to Neighbour  
   â†’ *å˜å½¢æŒ‘æˆ˜ï¼šéœ€è¾“å‡ºå…·ä½“æ“ä½œåºåˆ—*  

---

#### 7. å­¦ä¹ å¿ƒå¾—åˆ†äº«
> **Dr_Gilbertçš„ç»éªŒ**ï¼š"ç‰¹åˆ¤`sum==0`é¿å…é™¤é›¶é”™è¯¯â€”â€”çœ‹ä¼¼ç®€å•ï¼Œå´æ˜¯ç«èµ›å¸¸è§é™·é˜±ã€‚"  
> **Kayæ€»ç»“**ï¼šè¾¹ç•Œå¤„ç†ä½“ç°ä»£ç å¥å£®æ€§ï¼Œæµ‹è¯•æ—¶åº”æ„é€ å…¨0/å…¨ç­‰ç‰¹æ®Šæ•°æ®éªŒè¯ï¼  

---  
ğŸ’ª æœ¬æ¬¡è§£æåˆ°æ­¤ç»“æŸï¼å¤šåŠ¨æ‰‹æ¨¡æ‹Ÿæšä¸¾è¿‡ç¨‹ï¼Œä½ ä¹Ÿèƒ½è½»æ¾æŒæ¡åˆå¹¶ç±»é—®é¢˜çš„ç²¾é«“~

---
å¤„ç†ç”¨æ—¶ï¼š100.23ç§’
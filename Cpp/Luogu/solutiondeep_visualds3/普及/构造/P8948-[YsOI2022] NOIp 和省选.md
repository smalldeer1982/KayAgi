# 题目信息

# [YsOI2022] NOIp 和省选

## 题目背景

Ysuperman 为了检验他的教学水平，决定给幼儿园的小朋友们来两场摸底考试！

## 题目描述

其中一场考试有四道题目，满分 $400$；另一场考试有六道题目，满分 $600$。每个人每场考试得分都是一个 $0$ 到满分间的一个**非负整数**（可以为 $0$ 或者满分）。

有 $n$ 名同学参加了这两场考试，其中第 $i$ 名同学第一场得分 $a_i$，第二场得分 $b_i$，Ysuperman 通过以下规则计算第 $i$ 名同学的**标准得分** $c_i$：

1. 分别统计两场比赛的最高分 $A,B$，有 $A\ne 0$，$B\ne 0$。
2. 令 $c_i=1000(\frac{a_i}{A}+\frac{b_i}{B})$，其中 $c_i$ **四舍五入保留到整数**。

在算出了每位同学的标准得分后，Ysuperman 粗心地弄丢了每位同学的原始分，你能帮 TA 找到任意一组可能的原始分吗？

简单来说，已知 $n$ 和每位同学的**标准得分** $c_{1\sim n}$，Ysuperman 希望你找到一组合法的 $a_{1\sim n}$，$b_{1\sim n}$ 满足上述要求。

特别的，有个十分强的小朋友 Qiu 在两场考试中都拿到了**最高分**，也就是保证 $c_1=2000$。另外其他小朋友水平都差不多，所以保证有 $\forall i>1,c_i\in [10,1990]$。

## 说明/提示

样例一中构造的 $a,b$ 合法，理由如下：

两场比赛最高得分分别为 $233$ 和 $525$。

$1000\times (233\div 233 + 525\div 525)=2000$。

$1000\times (147\div 233 + 361\div 525) \approx 1318.520\approx 1319$。

$1000\times (200\div 233 + 324\div 525)\approx 1475.512\approx 1476$。

$1000\times (0\div 233 + 523\div 525)\approx 996.190\approx 996$。

前 $20\%$ 的数据保证 $n\le 20$。

另外 $20\%$ 的数据保证 $c_i$ 是 $10$ 的倍数。

另外 $20\%$ 的数据保证 $c_i$ 是 $5$ 的倍数。

另外 $20\%$ 的数据保证 $c_i$ 是 $2$ 的倍数。

对于 $100\%$ 的数据，满足 $1\le n\le 10^4$，$c_1=2000$，$\forall i>1,c_i\in[10,1990]$。

## 样例 #1

### 输入

```
4
2000
1319
1476
996```

### 输出

```
233 525
147 361
200 324
0 523```

## 样例 #2

### 输入

```
4
2000
1704
1658
1542```

### 输出

```
400 454
352 374
352 353
320 337```

# AI分析结果

# 💡 Kay的C++算法解析：[YsOI2022] NOIp 和省选 深入学习指南 💡


## 1. 题目解读与核心算法识别

✨ **本题主要考察**：构造法（编程技巧应用）


🗣️ **初步分析**：  
这道题就像“用硬币凑钱”的游戏——给定每个同学的“目标金额”（标准得分$c_i$），需要用“两种面值的硬币”（两场考试的原始分$a_i$、$b_i$）凑出这个金额。规则是：  
- 硬币的“面值”由“最高分”决定（比如$A$是$a$的最高分，那么$a_i$的“面值”是$1000/A$，因为$a_i/A$是它占最高分的比例，乘以1000就是它对标准得分的贡献）；  
- 我们需要选择“最高分”$A$（≤400）和$B$（≤600），使得所有$c_i$都能被$a_i \times (1000/A) + b_i \times (1000/B)$四舍五入得到。  

**核心思路**：  
为了避免四舍五入的麻烦，我们可以选择$A$和$B$，让$1000/A$和$1000/B$是**整数**！比如选$A=200$（$1000/200=5$）、$B=500$（$1000/500=2$），这样标准得分公式就简化为：  
$$c_i = 5a_i + 2b_i$$  
这就变成了“用5元和2元硬币凑$c_i$”的问题，而$a_i$≤200、$b_i$≤500（因为$A=200$、$B=500$）。  

**核心难点**：  
1. 选择合适的$A$和$B$，让公式简化为整数运算；  
2. 处理$b_i$超过$B$（500）的情况（比如$c_i$很大时，$b_i$可能超过500）；  
3. 构造$a_i$和$b_i$，满足$5a_i + 2b_i = c_i$且$a_i$、$b_i$在范围内。  

**可视化设计思路**：  
我们可以用“像素探险家”游戏展示构造过程：  
- 屏幕左侧显示$c_i$（比如1319），右侧显示$a_i$（5元硬币数量）和$b_i$（2元硬币数量）的像素块；  
- 当$c_i$是奇数时，先“拿1个5元硬币”（$a_i$+1，$c_i$-5），然后“拿尽可能多的2元硬币”（$b_i$=剩余$c_i$/2）；  
- 如果$b_i$超过500，就“交换硬币”：每交换1次，$a_i$+2（多拿2个5元），$b_i$-5（少拿5个2元），直到$b_i$≤500。交换时伴随“叮”的音效，交换完成时播放“胜利”音效。  


## 2. 精选优质题解参考

### 题解一：（来源：untrigintillion）  
* **点评**：  
  这份题解的思路像“魔术师变戏法”——通过选择$A=200$、$B=500$，把复杂的四舍五入问题变成了简单的整数运算！代码简洁到极致，只需要处理$c_i$的奇偶性：  
  - 如果$c_i$是奇数，先让$a_i$=1（拿1个5元），$c_i$-5；  
  - 然后$b_i$=剩余$c_i$/2（拿尽可能多的2元）；  
  - 最后调整$a_i$和$b_i$，让$b_i$≤500（交换硬币）。  
  亮点是**避免了四舍五入**，用整数运算直接解决问题，非常适合初学者理解。


### 题解二：（来源：zzyxl_qaq）  
* **点评**：  
  这份题解像“工程师修机器”——不仅解决了基本问题，还处理了边界情况！作者先构造$5a_i + 2b_i = c_i$，然后当$b_i$超过500时，用“交换硬币”的方法调整：每交换1次，$a_i$+2、$b_i$-5（因为$5×2=10$，$2×5=10$，总$c_i$不变）。代码中的循环处理边界情况，非常严谨。亮点是**处理边界的技巧**，这是构造题中常用的方法。


### 题解三：（来源：Jerrlee✅）  
* **点评**：  
  这份题解像“图书馆管理员”——预处理所有可能的$a$和$b$对应的$c_i$，然后直接查询！作者枚举了所有$a$（0~400）和$b$（0~600），计算它们的$c_i$并存储，查询时直接输出对应的$a$和$b$。亮点是**预处理的思路**，适合多次查询的情况，但需要注意预处理的时间（对于$400×600=240000$次循环，完全没问题）。


## 3. 核心难点辨析与解题策略

### 1. 难点1：选择合适的$A$和$B$  
* **分析**：  
  选择$A$和$B$的关键是让$1000/A$和$1000/B$是整数，这样公式会简化为整数运算。比如$A=200$（$1000/200=5$）、$B=500$（$1000/500=2$），这样$c_i=5a_i+2b_i$，容易构造。  
* 💡 **学习笔记**：选择“特殊值”简化问题，是构造题的常用技巧。


### 2. 难点2：处理$b_i$超过$B$的情况  
* **分析**：  
  当$c_i$很大时，$b_i$可能超过$B$（500）。比如$c_i=1990$，$b_i=1990/2=995$，超过500。这时候可以用“交换硬币”的方法：每交换1次，$a_i$+2、$b_i$-5（总$c_i$不变），直到$b_i$≤500。比如$b_i=995$，需要交换$(995-500)/5=99$次，$a_i=0+2×99=198$，$b_i=500$，这样$5×198+2×500=990+1000=1990$，符合条件。  
* 💡 **学习笔记**：当某个变量超过范围时，用“等价交换”的方法调整，保持总结果不变。


### 3. 难点3：构造整数解  
* **分析**：  
  对于$5a_i + 2b_i = c_i$，我们可以用奇偶性判断：  
  - 如果$c_i$是奇数，那么$5a_i$必须是奇数（因为$2b_i$是偶数），所以$a_i$至少为1；  
  - 如果$c_i$是偶数，那么$5a_i$必须是偶数，所以$a_i$可以是0。  
  比如$c_i=1319$（奇数），$a_i=1$，$b_i=(1319-5)/2=657$，然后调整$b_i$到500以下。  
* 💡 **学习笔记**：利用奇偶性可以快速确定变量的初始值。


### ✨ 解题技巧总结  
- **技巧A**：选择特殊值简化问题（如$A=200$、$B=500$）；  
- **技巧B**：用等价交换处理边界情况（如$a_i$+2、$b_i$-5）；  
- **技巧C**：利用奇偶性快速构造初始解。


## 4. C++核心代码实现赏析

### 本题通用核心C++实现参考  
* **说明**：综合untrigintillion和zzyxl_qaq的思路，实现简洁的构造方法。  
* **完整核心代码**：  
  ```cpp
  #include <iostream>
  using namespace std;

  int main() {
      int n;
      cin >> n;
      int c1;
      cin >> c1; // c1=2000，对应a1=200，b1=500
      cout << "200 500" << endl;
      for (int i = 2; i <= n; ++i) {
          int c;
          cin >> c;
          int a = 0, b = 0;
          if (c % 2 == 1) { // 奇数，先拿1个5元
              a = 1;
              c -= 5;
          }
          b = c / 2; // 拿尽可能多的2元
          // 调整b到≤500
          while (b > 500) {
              a += 2;
              b -= 5;
          }
          cout << a << " " << b << endl;
      }
      return 0;
  }
  ```  
* **代码解读概要**：  
  代码分为三部分：  
  1. 读取输入，输出第一名的分数（$a1=200$，$b1=500$）；  
  2. 处理每个同学的$c_i$：  
     - 如果$c_i$是奇数，$a$=1，$c$减5；  
     - 计算$b$=c/2；  
     - 调整$b$到≤500（交换硬币）；  
  3. 输出$a$和$b$。


### 针对各优质题解的片段赏析

#### 题解一（untrigintillion）  
* **亮点**：简洁处理奇偶性。  
* **核心代码片段**：  
  ```cpp
  if (a % 2 == 1) a -= 5, one++;
  if (a <= 990) { one += 2 * (a / 10); a %= 10; }
  else one += 198, a -= 990;
  two = a / 2;
  ```  
* **代码解读**：  
  这段代码处理$c_i$的奇偶性：  
  - 如果$c_i$是奇数，先减5（拿1个5元），$one$（$a_i$）加1；  
  - 然后处理剩余的$c_i$，用$one$加2*(a/10)（因为10=5×2，所以a/10表示需要拿多少组2个5元），剩下的a%10用$two$（$b_i$）处理。  
* 💡 **学习笔记**：用整数运算处理奇偶性，避免了复杂的判断。


#### 题解二（zzyxl_qaq）  
* **亮点**：处理边界情况的循环。  
* **核心代码片段**：  
  ```cpp
  while (b > 500) {
      b -= 5;
      a += 2;
  }
  ```  
* **代码解读**：  
  当$b$超过500时，循环调整：每循环一次，$b$减5（少拿5个2元），$a$加2（多拿2个5元），这样总$c_i$不变（$5×2=10$，$2×5=10$）。直到$b$≤500。  
* 💡 **学习笔记**：循环是处理边界情况的有效方法。


#### 题解三（Jerrlee✅）  
* **亮点**：预处理所有可能的$a$和$b$。  
* **核心代码片段**：  
  ```cpp
  pair<int, int> p[1999];
  for (int i = 1; i <= 400; ++i) {
      for (int j = 1; j <= 600; ++j) {
          double x = i / 400.0, y = j / 600.0;
          p[(int)round(1000 * x + 1000 * y)] = {i, j};
      }
  }
  ```  
* **代码解读**：  
  枚举所有$a$（1~400）和$b$（1~600），计算它们的$c_i$（四舍五入后），并存储到数组$p$中。查询时直接输出$p[c_i]$。  
* 💡 **学习笔记**：预处理适合多次查询的情况，能大大提高效率。


## 5. 算法可视化：像素动画演示 (核心部分)

### 动画演示主题：像素探险家之“硬币凑钱”

### 核心演示内容  
展示构造$c_i=1319$的过程：  
1. **初始状态**：屏幕左侧显示$c=1319$（红色像素块），右侧显示$a=0$（蓝色像素块）、$b=0$（绿色像素块）；  
2. **处理奇偶性**：$c$是奇数，“拿1个5元硬币”——$a$变成1（蓝色像素块+1），$c$变成1314（红色像素块-5）；  
3. **拿2元硬币**：$b$=1314/2=657（绿色像素块+657），此时$b$超过500（绿色像素块闪烁警告）；  
4. **交换硬币**：循环调整——每交换1次，$a$+2（蓝色像素块+2），$b$-5（绿色像素块-5），伴随“叮”的音效。直到$b=497$（绿色像素块停止闪烁）；  
5. **完成状态**：$a=65$（蓝色像素块），$b=497$（绿色像素块），$c=1319$（红色像素块），播放“胜利”音效（8位风格）。


### 设计思路简述  
- **像素风格**：用8位红白机的色彩（蓝色=5元，绿色=2元，红色=目标金额），营造复古游戏氛围；  
- **音效**：关键操作（拿硬币、交换）伴随“叮”的音效，完成时播放“胜利”音效，增强记忆；  
- **交互**：提供“单步执行”（让学习者手动控制每一步）和“自动播放”（快速展示整个过程）按钮，方便学习。


## 6. 拓展练习与相似问题思考

### 通用思路/技巧迁移  
构造法不仅能解决本题，还能解决以下问题：  
1. **凑硬币问题**：用给定面值的硬币凑出目标金额；  
2. **路径构造问题**：构造一条从起点到终点的路径，满足某些条件；  
3. **序列构造问题**：构造一个序列，满足某些数学条件（如递增、和为定值）。


### 练习推荐 (洛谷)  
1. **洛谷 P1002 过河卒**：  
   🗣️ **推荐理由**：需要构造一条从起点到终点的路径，避开障碍物，考察构造路径的技巧。  
2. **洛谷 P1044 栈**：  
   🗣️ **推荐理由**：需要构造一个栈的操作序列，得到指定的输出序列，考察构造序列的技巧。  
3. **洛谷 P1164 小A点菜**：  
   🗣️ **推荐理由**：需要构造一个点菜方案，使得总金额刚好等于预算，考察构造方案的技巧。


## 7. 学习心得与经验分享 (若有)

### 参考经验 (来自 zzyxl_qaq)  
> “我在解决这个问题时，最初没有处理$b_i$超过500的情况，导致代码只能得4分。后来我想到，每交换1次$a_i$+2、$b_i$-5，总$c_i$不变，这样就能把$b_i$调整到范围内。”  

**点评**：  
这位作者的经验很典型——构造题中，**边界情况是最容易忽略的**。通过“等价交换”的方法调整变量，保持总结果不变，是解决边界问题的有效手段。


## 结语  
本次关于“[YsOI2022] NOIp 和省选”的C++解题分析就到这里。希望这份学习指南能帮助大家理解构造题的思路和技巧。记住，构造题的关键是“选择特殊值简化问题”和“处理边界情况”，多练习就能掌握！下次我们再一起探索新的编程挑战！💪

---
处理用时：180.18秒
# é¢˜ç›®ä¿¡æ¯

# [USACO19OPEN] Fence Planning S

## é¢˜ç›®æè¿°

Farmer John çš„ $ N $ å¤´å¥¶ç‰›ï¼Œç¼–å·ä¸º $ 1 \ldots N $ ï¼ˆ $ 2 \leq N \leq 10^5 $ ï¼‰ï¼Œæ‹¥æœ‰ä¸€ç§å›´ç»•â€œå“ç½‘â€ï¼Œä¸€äº›ä»…åœ¨ç»„å†…äº’ç›¸äº¤æµå´ä¸ä¸å…¶ä»–ç»„è¿›è¡Œäº¤æµçš„å¥¶ç‰›å°ç»„ï¼Œç»„æˆçš„å¤æ‚çš„ç¤¾äº¤ç½‘ç»œã€‚

æ¯å¤´å¥¶ç‰›ä½äºå†œåœºçš„äºŒç»´åœ°å›¾ä¸Šçš„ä¸åŒä½ç½® $ (x,y) $ ï¼Œå¹¶ä¸”æˆ‘ä»¬çŸ¥é“æœ‰ $ M $ å¯¹å¥¶ç‰›( $ 1 \leq M<10^5 $ )ä¼šç›¸äº’å“å«ã€‚ä¸¤å¤´ç›¸äº’å“å«çš„å¥¶ç‰›å±äºåŒä¸€å“ç½‘ã€‚

ä¸ºäº†å‡çº§ä»–çš„å†œåœºï¼ŒFarmer John æƒ³è¦å»ºé€ ä¸€ä¸ªå››è¾¹ä¸ $ x $ è½´å’Œ $ y $ è½´å¹³è¡Œçš„é•¿æ–¹å½¢å›´æ ã€‚Farmer John æƒ³è¦ä½¿å¾—è‡³å°‘ä¸€ä¸ªå“ç½‘å®Œå…¨è¢«å›´æ æ‰€åŒ…å›´ï¼ˆåœ¨é•¿æ–¹å½¢è¾¹ç•Œä¸Šçš„å¥¶ç‰›è®¡ä¸ºè¢«åŒ…å›´çš„ï¼‰ã€‚è¯·å¸®åŠ© Farmer John æ±‚å‡ºæ»¡è¶³ä»–çš„è¦æ±‚çš„å›´æ çš„æœ€å°å¯èƒ½å‘¨é•¿ã€‚æœ‰å¯èƒ½å‡ºç°è¿™ä¸€å›´æ å®½ä¸º $0$ æˆ–é«˜ä¸º $0$ çš„æƒ…å†µã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
7 5
0 5
10 5
5 0
5 10
6 7
8 6
8 4
1 2
2 3
3 4
5 6
7 6```

### è¾“å‡º

```
10```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[USACO19OPEN] Fence Planning S æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå›¾è®ºï¼ˆè¿é€šæ€§åˆ†æï¼‰+ å‡ ä½•è¾¹ç•Œè®¡ç®—  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³è¿™é“é¢˜çš„å…³é”®ï¼Œå°±åƒåœ¨å†œåœºé‡Œæ‰¾â€œæœ‹å‹åœˆâ€â€”â€”æ¯å¤´å¥¶ç‰›æ˜¯ä¸€ä¸ªç‚¹ï¼Œäº’ç›¸å“å«çš„å…³ç³»è¿æˆä¸€å¼ å›¾ï¼Œ**è¿é€šå—**å°±æ˜¯ä¸€ä¸ªä¸ªâ€œå¥¶ç‰›æœ‹å‹åœˆâ€ã€‚æˆ‘ä»¬éœ€è¦ç»™æ¯ä¸ªâ€œæœ‹å‹åœˆâ€å›´ä¸€ä¸ªæœ€å°çš„çŸ©å½¢å›´æ ï¼Œè¦æ±‚å›´æ åˆšå¥½åŒ…å›´æ•´ä¸ªåœˆå­ï¼ˆè¾¹ç•Œä¸Šçš„å¥¶ç‰›ä¹Ÿç®—ï¼‰ï¼Œæœ€åæ‰¾æ‰€æœ‰å›´æ ä¸­å‘¨é•¿æœ€å°çš„é‚£ä¸ªã€‚  

**æ ¸å¿ƒç®—æ³•æ€è·¯**ï¼š  
ä¸ç®¡ç”¨DFS/BFSéå†è¿é€šå—ï¼Œè¿˜æ˜¯ç”¨å¹¶æŸ¥é›†åˆå¹¶è¿é€šå—ï¼Œæœ€ç»ˆéƒ½è¦**è®°å½•æ¯ä¸ªè¿é€šå—çš„â€œè¾¹ç•Œâ€**â€”â€”å³è¯¥è¿é€šå—ä¸­æ‰€æœ‰ç‚¹çš„xåæ ‡æœ€å¤§å€¼ï¼ˆå³è¾¹ç•Œï¼‰ã€æœ€å°å€¼ï¼ˆå·¦è¾¹ç•Œï¼‰ï¼Œyåæ ‡æœ€å¤§å€¼ï¼ˆä¸Šè¾¹ç•Œï¼‰ã€æœ€å°å€¼ï¼ˆä¸‹è¾¹ç•Œï¼‰ã€‚çŸ©å½¢çš„å‘¨é•¿ç”±è¿™å››ä¸ªå€¼è®¡ç®—ï¼š`2 * (å³-å·¦ + ä¸Š-ä¸‹)`ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼š  
1. å¦‚ä½•é«˜æ•ˆéå†/åˆå¹¶è¿é€šå—ï¼ˆå¤„ç†1e5è§„æ¨¡çš„æ•°æ®ï¼‰ï¼›  
2. å¦‚ä½•åœ¨éå†/åˆå¹¶è¿‡ç¨‹ä¸­**åŠ¨æ€ç»´æŠ¤è¾¹ç•Œä¿¡æ¯**ï¼ˆé¿å…é‡å¤è®¡ç®—ï¼‰ï¼›  
3. å¦‚ä½•ç¡®ä¿ä¸é—æ¼ä»»ä½•è¿é€šå—ï¼ˆæ¯”å¦‚å­¤ç«‹çš„å¥¶ç‰›ä¹Ÿæ˜¯ä¸€ä¸ªè¿é€šå—ï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
æˆ‘æ‰“ç®—ç”¨**8ä½åƒç´ é£**åšä¸€ä¸ªâ€œå¥¶ç‰›æœ‹å‹åœˆæ¢æµ‹å™¨â€åŠ¨ç”»ï¼š  
- å±å¹•ä¸Šæœ‰åƒç´ åŒ–çš„å†œåœºåœ°å›¾ï¼ˆç½‘æ ¼ï¼‰ï¼Œæ¯å¤´å¥¶ç‰›æ˜¯ä¸€ä¸ªå°æ–¹å—ï¼ˆä¸åŒé¢œè‰²ä»£è¡¨æ˜¯å¦å·²è®¿é—®ï¼‰ï¼›  
- ç”¨DFSéå†è¿é€šå—æ—¶ï¼Œå½“å‰è®¿é—®çš„å¥¶ç‰›ä¼šâ€œé—ªçƒâ€ï¼Œå¹¶å®æ—¶æ›´æ–°è¯¥è¿é€šå—çš„çŸ©å½¢è¾¹ç•Œï¼ˆç”¨è™šçº¿æ¡†è¡¨ç¤ºï¼Œè¾¹ç•Œéšéå†æ‰©å±•ï¼‰ï¼›  
- åˆå¹¶å¹¶æŸ¥é›†æ—¶ï¼Œä¸¤ä¸ªè¿é€šå—çš„è¾¹ç•Œä¼šâ€œèåˆâ€ï¼ˆæ¯”å¦‚å·¦è¾¹çš„æœ€å°xå’Œå³è¾¹çš„æœ€å¤§xåˆå¹¶æˆæ–°çš„è¾¹ç•Œï¼‰ï¼›  
- æ¯æ‰¾åˆ°ä¸€ä¸ªè¿é€šå—çš„æœ€å°çŸ©å½¢ï¼Œä¼šæ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼Œå¹¶ç”¨å½©è‰²æ¡†æ ‡è®°è¯¥çŸ©å½¢ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šDFSéå†è¿é€šå—ï¼ˆä½œè€…ï¼šMkarryï¼Œèµ15ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯åƒâ€œæŒ¨ä¸ªæ‰¾æœ‹å‹â€â€”â€”ç”¨`vis`æ•°ç»„æ ‡è®°æ˜¯å¦å·²è®¿é—®ï¼Œä»æ¯å¤´æœªè®¿é—®çš„å¥¶ç‰›å¼€å§‹ï¼Œç”¨DFSéå†å®ƒçš„æ•´ä¸ªâ€œæœ‹å‹åœˆâ€ã€‚éå†è¿‡ç¨‹ä¸­ï¼Œå®æ—¶æ›´æ–°è¯¥è¿é€šå—çš„`U`ï¼ˆä¸Šè¾¹ç•Œï¼Œæœ€å¤§yï¼‰ã€`D`ï¼ˆä¸‹è¾¹ç•Œï¼Œæœ€å°yï¼‰ã€`L`ï¼ˆå·¦è¾¹ç•Œï¼Œæœ€å°xï¼‰ã€`R`ï¼ˆå³è¾¹ç•Œï¼Œæœ€å¤§xï¼‰ã€‚æœ€åè®¡ç®—æ¯ä¸ªè¿é€šå—çš„å‘¨é•¿ï¼Œå–æœ€å°å€¼ã€‚  
  ä»£ç çš„**äº®ç‚¹**åœ¨äºï¼š  
  - DFSçš„æ—¶é—´å¤æ‚åº¦å…¶å®æ˜¯`O(n)`ï¼ˆæ¯ä¸ªèŠ‚ç‚¹åªéå†ä¸€æ¬¡ï¼‰ï¼Œä½œè€…ç‰¹æ„è§£é‡Šäº†è¿™ä¸€ç‚¹ï¼Œé¿å…å­¦ä¹ è€…è¯¯è§£ï¼›  
  - è¾¹ç•Œæ›´æ–°çš„é€»è¾‘éå¸¸ç›´è§‚ï¼ˆç¢°åˆ°ä¸€ä¸ªèŠ‚ç‚¹å°±æ¯”è¾ƒå¹¶æ›´æ–°è¾¹ç•Œï¼‰ï¼Œé€‚åˆæ–°æ‰‹ç†è§£ï¼›  
  - ç”¨é“¾å¼å‰å‘æ˜Ÿå»ºå›¾ï¼Œå¤„ç†1e5è§„æ¨¡çš„æ•°æ®æ•ˆç‡å¾ˆé«˜ã€‚  


### é¢˜è§£äºŒï¼šå¹¶æŸ¥é›†åˆå¹¶æ—¶ç»´æŠ¤è¾¹ç•Œï¼ˆä½œè€…ï¼špurinliangï¼Œèµ3ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯åƒâ€œåˆå¹¶æœ‹å‹åœˆâ€â€”â€”ç”¨å¹¶æŸ¥é›†å°†äº’ç›¸å“å«çš„å¥¶ç‰›åˆå¹¶åˆ°åŒä¸€ä¸ªé›†åˆï¼Œ**åˆå¹¶æ—¶ç›´æ¥æ›´æ–°é›†åˆçš„è¾¹ç•Œ**ã€‚æ¯”å¦‚åˆå¹¶é›†åˆAå’ŒBæ—¶ï¼Œé›†åˆAçš„æ–°è¾¹ç•Œæ˜¯Aå’ŒBçš„è¾¹ç•Œçš„æœ€å¤§å€¼/æœ€å°å€¼ï¼ˆæ¯”å¦‚Açš„å³è¾¹ç•Œå–AåŸæ¥çš„å³è¾¹ç•Œå’ŒBçš„å³è¾¹ç•Œçš„æœ€å¤§å€¼ï¼‰ã€‚æœ€åéå†æ‰€æœ‰é›†åˆï¼Œè®¡ç®—æ¯ä¸ªé›†åˆçš„å‘¨é•¿ã€‚  
  ä»£ç çš„**äº®ç‚¹**åœ¨äºï¼š  
  - å¹¶æŸ¥é›†çš„â€œè·¯å¾„å‹ç¼©â€ä¼˜åŒ–ï¼ˆ`find_par`å‡½æ•°ï¼‰ï¼Œè®©åˆå¹¶å’ŒæŸ¥æ‰¾æ“ä½œå‡ ä¹æ˜¯`O(1)`ï¼›  
  - åˆå¹¶æ—¶åŠ¨æ€ç»´æŠ¤è¾¹ç•Œï¼Œé¿å…äº†åç»­éå†æ•´ä¸ªé›†åˆçš„å¼€é”€ï¼ˆæ—¶é—´å¤æ‚åº¦æ›´ä¼˜ï¼‰ï¼›  
  - å˜é‡å‘½åæ¸…æ™°ï¼ˆ`u`ä»£è¡¨ä¸Šè¾¹ç•Œï¼Œ`d`ä»£è¡¨ä¸‹è¾¹ç•Œï¼Œ`l`ä»£è¡¨å·¦è¾¹ç•Œï¼Œ`r`ä»£è¡¨å³è¾¹ç•Œï¼‰ï¼Œå®¹æ˜“ç†è§£ã€‚  


### é¢˜è§£ä¸‰ï¼šå¹¶æŸ¥é›†åå¤„ç†è¾¹ç•Œï¼ˆä½œè€…ï¼šå¾®èŠ’æ™¨æ›¦ï¼Œèµ3ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„æ€è·¯åƒâ€œå…ˆæ‰¾æœ‹å‹åœˆï¼Œå†ç®—è¾¹ç•Œâ€â€”â€”å…ˆç”¨å¹¶æŸ¥é›†åˆå¹¶è¿é€šå—ï¼Œç„¶åéå†æ‰€æœ‰å¥¶ç‰›ï¼Œå°†æ¯ä¸ªå¥¶ç‰›çš„åæ ‡æ›´æ–°åˆ°å…¶æ‰€åœ¨é›†åˆçš„è¾¹ç•Œä¸­ï¼ˆæ¯”å¦‚é›†åˆçš„æ ¹èŠ‚ç‚¹ä¿å­˜è¯¥é›†åˆçš„è¾¹ç•Œï¼‰ã€‚æœ€åéå†æ‰€æœ‰æ ¹èŠ‚ç‚¹ï¼Œè®¡ç®—æ¯ä¸ªé›†åˆçš„å‘¨é•¿ã€‚  
  ä»£ç çš„**äº®ç‚¹**åœ¨äºï¼š  
  - å¹¶æŸ¥é›†çš„â€œè·¯å¾„å‹ç¼©â€ï¼ˆ`find`å‡½æ•°ï¼‰ç¡®ä¿äº†æ ¹èŠ‚ç‚¹çš„æ­£ç¡®æ€§ï¼›  
  - è¾¹ç•Œæ›´æ–°çš„é€»è¾‘ç®€å•ï¼ˆéå†æ‰€æœ‰å¥¶ç‰›ï¼Œé€ä¸ªæ›´æ–°æ ¹èŠ‚ç‚¹çš„è¾¹ç•Œï¼‰ï¼Œé€‚åˆæ–°æ‰‹æ¨¡ä»¿ï¼›  
  - ä»£ç ç»“æ„æ¸…æ™°ï¼ˆåˆ†åˆå§‹åŒ–ã€åˆå¹¶ã€æ›´æ–°è¾¹ç•Œã€è®¡ç®—ç­”æ¡ˆå››æ­¥ï¼‰ï¼Œå¯è¯»æ€§é«˜ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. å¦‚ä½•é«˜æ•ˆéå†/åˆå¹¶è¿é€šå—ï¼Ÿ  
* **åˆ†æ**ï¼š  
  å¯¹äº1e5è§„æ¨¡çš„æ•°æ®ï¼Œ`O(n)`çš„ç®—æ³•æ‰å¯è¡Œã€‚DFS/BFSéå†è¿é€šå—çš„æ—¶é—´å¤æ‚åº¦æ˜¯`O(n+m)`ï¼ˆ`n`æ˜¯èŠ‚ç‚¹æ•°ï¼Œ`m`æ˜¯è¾¹æ•°ï¼‰ï¼Œé€‚åˆå¤„ç†å›¾çš„è¿é€šæ€§ï¼›å¹¶æŸ¥é›†çš„æ—¶é—´å¤æ‚åº¦æ˜¯`O(Î±(n))`ï¼ˆ`Î±`æ˜¯é˜¿å…‹æ›¼å‡½æ•°çš„åå‡½æ•°ï¼Œå‡ ä¹æ˜¯å¸¸æ•°ï¼‰ï¼Œé€‚åˆå¤„ç†åŠ¨æ€åˆå¹¶çš„æƒ…å†µã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  é€‰æ‹©éå†è¿˜æ˜¯åˆå¹¶ï¼Œå–å†³äºé—®é¢˜çš„éœ€æ±‚â€”â€”å¦‚æœæ˜¯é™æ€å›¾ï¼ˆè¾¹ä¸ä¼šå˜åŒ–ï¼‰ï¼ŒDFS/BFSæ›´ç›´è§‚ï¼›å¦‚æœæ˜¯åŠ¨æ€å›¾ï¼ˆè¾¹ä¼šå¢åŠ ï¼‰ï¼Œå¹¶æŸ¥é›†æ›´é«˜æ•ˆã€‚  


### 2. å¦‚ä½•ç»´æŠ¤è¿é€šå—çš„è¾¹ç•Œä¿¡æ¯ï¼Ÿ  
* **åˆ†æ**ï¼š  
  ç»´æŠ¤è¾¹ç•Œçš„å…³é”®æ˜¯**å°†è¾¹ç•Œä¿¡æ¯ä¸è¿é€šå—çš„ä»£è¡¨èŠ‚ç‚¹å…³è”**ï¼ˆæ¯”å¦‚DFSä¸­çš„å½“å‰è¿é€šå—ï¼Œæˆ–å¹¶æŸ¥é›†çš„æ ¹èŠ‚ç‚¹ï¼‰ã€‚æ¯”å¦‚ï¼š  
  - DFSéå†è¿é€šå—æ—¶ï¼Œç”¨å…¨å±€å˜é‡æˆ–å¼•ç”¨ä¼ é€’æ¥æ›´æ–°è¯¥è¿é€šå—çš„è¾¹ç•Œï¼›  
  - å¹¶æŸ¥é›†åˆå¹¶æ—¶ï¼Œå°†ä¸¤ä¸ªé›†åˆçš„è¾¹ç•Œåˆå¹¶åˆ°æ ¹èŠ‚ç‚¹ä¸­ï¼ˆæ¯”å¦‚æ ¹èŠ‚ç‚¹ä¿å­˜è¯¥é›†åˆçš„æœ€å¤§xã€æœ€å°xç­‰ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  è¾¹ç•Œä¿¡æ¯æ˜¯â€œå¯åˆå¹¶â€çš„â€”â€”ä¸¤ä¸ªé›†åˆçš„åˆå¹¶åçš„è¾¹ç•Œï¼Œå°±æ˜¯å®ƒä»¬å„è‡ªè¾¹ç•Œçš„æœ€å¤§å€¼/æœ€å°å€¼çš„ç»„åˆã€‚  


### 3. å¦‚ä½•å¤„ç†å¤§è§„æ¨¡æ•°æ®ï¼Ÿ  
* **åˆ†æ**ï¼š  
  1e5è§„æ¨¡çš„æ•°æ®éœ€è¦é¿å…ä½¿ç”¨`O(n^2)`çš„ç®—æ³•ï¼Œæ¯”å¦‚åŒé‡å¾ªç¯éå†æ‰€æœ‰èŠ‚ç‚¹ã€‚DFS/BFSå’Œå¹¶æŸ¥é›†éƒ½æ˜¯`O(n)`æˆ–`O(nÎ±(n))`çš„ç®—æ³•ï¼Œé€‚åˆå¤„ç†å¤§è§„æ¨¡æ•°æ®ã€‚æ­¤å¤–ï¼Œç”¨é“¾å¼å‰å‘æ˜Ÿå»ºå›¾ï¼ˆè€Œä¸æ˜¯é‚»æ¥çŸ©é˜µï¼‰å¯ä»¥èŠ‚çœç©ºé—´ï¼ˆé‚»æ¥çŸ©é˜µéœ€è¦`O(n^2)`çš„ç©ºé—´ï¼Œé“¾å¼å‰å‘æ˜Ÿåªéœ€è¦`O(m)`çš„ç©ºé—´ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶ï¼Œè¦æ³¨æ„**ç©ºé—´å¤æ‚åº¦**ï¼ˆæ¯”å¦‚ç”¨é“¾å¼å‰å‘æ˜Ÿä»£æ›¿é‚»æ¥çŸ©é˜µï¼‰å’Œ**æ—¶é—´å¤æ‚åº¦**ï¼ˆæ¯”å¦‚ç”¨å¹¶æŸ¥é›†ä»£æ›¿DFS/BFSï¼Œå¦‚æœåˆå¹¶æ“ä½œæ›´å¤šï¼‰ã€‚  


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **è¿é€šå—å¤„ç†**ï¼šä¼˜å…ˆè€ƒè™‘DFS/BFSï¼ˆé™æ€å›¾ï¼‰æˆ–å¹¶æŸ¥é›†ï¼ˆåŠ¨æ€å›¾ï¼‰ï¼›  
- **è¾¹ç•Œç»´æŠ¤**ï¼šå°†è¾¹ç•Œä¿¡æ¯ä¸è¿é€šå—çš„ä»£è¡¨èŠ‚ç‚¹å…³è”ï¼Œåˆå¹¶æ—¶åŠ¨æ€æ›´æ–°ï¼›  
- **å¤§è§„æ¨¡æ•°æ®**ï¼šç”¨é“¾å¼å‰å‘æ˜Ÿå»ºå›¾ï¼Œé¿å…ä½¿ç”¨é«˜ç©ºé—´å¤æ‚åº¦çš„ç»“æ„ï¼›  
- **å‘¨é•¿è®¡ç®—**ï¼šçŸ©å½¢å‘¨é•¿=2*(å³-å·¦+ä¸Š-ä¸‹)ï¼Œæ³¨æ„è¾¹ç•Œæ˜¯é—­åŒºé—´ï¼ˆåŒ…æ‹¬è¾¹ç•Œä¸Šçš„ç‚¹ï¼‰ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒï¼ˆç»¼åˆDFSä¸å¹¶æŸ¥é›†æ€è·¯ï¼‰  
* **è¯´æ˜**ï¼š  
  æœ¬ä»£ç ç»¼åˆäº†DFSéå†è¿é€šå—å’Œå¹¶æŸ¥é›†ç»´æŠ¤è¾¹ç•Œçš„æ€è·¯ï¼Œç”¨DFSéå†æ¯ä¸ªè¿é€šå—ï¼Œå®æ—¶æ›´æ–°è¾¹ç•Œï¼Œé€‚åˆæ–°æ‰‹ç†è§£ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <climits>
  using namespace std;

  const int MAXN = 1e5 + 5;
  vector<int> adj[MAXN]; // é‚»æ¥è¡¨
  int x[MAXN], y[MAXN]; // å¥¶ç‰›åæ ‡
  bool vis[MAXN]; // æ˜¯å¦å·²è®¿é—®
  int min_x, max_x, min_y, max_y; // å½“å‰è¿é€šå—çš„è¾¹ç•Œ
  int ans = INT_MAX; // æœ€å°å‘¨é•¿

  void dfs(int u) {
      vis[u] = true;
      // æ›´æ–°è¾¹ç•Œ
      min_x = min(min_x, x[u]);
      max_x = max(max_x, x[u]);
      min_y = min(min_y, y[u]);
      max_y = max(max_y, y[u]);
      // éå†é‚»æ¥èŠ‚ç‚¹
      for (int v : adj[u]) {
          if (!vis[v]) {
              dfs(v);
          }
      }
  }

  int main() {
      int n, m;
      cin >> n >> m;
      for (int i = 1; i <= n; ++i) {
          cin >> x[i] >> y[i];
      }
      for (int i = 1; i <= m; ++i) {
          int a, b;
          cin >> a >> b;
          adj[a].push_back(b);
          adj[b].push_back(a);
      }
      // éå†æ‰€æœ‰è¿é€šå—
      for (int i = 1; i <= n; ++i) {
          if (!vis[i]) {
              // åˆå§‹åŒ–å½“å‰è¿é€šå—çš„è¾¹ç•Œ
              min_x = INT_MAX;
              max_x = INT_MIN;
              min_y = INT_MAX;
              max_y = INT_MIN;
              dfs(i);
              // è®¡ç®—å‘¨é•¿
              int perimeter = 2 * (max_x - min_x + max_y - min_y);
              ans = min(ans, perimeter);
          }
      }
      cout << ans << endl;
      return 0;
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. ç”¨é‚»æ¥è¡¨`adj`å­˜å‚¨å›¾çš„è¾¹ï¼›  
  2. ç”¨`vis`æ•°ç»„æ ‡è®°æ˜¯å¦å·²è®¿é—®ï¼›  
  3. éå†æ¯ä¸ªæœªè®¿é—®çš„å¥¶ç‰›ï¼Œç”¨DFSéå†å…¶è¿é€šå—ï¼Œå®æ—¶æ›´æ–°è¯¥è¿é€šå—çš„è¾¹ç•Œï¼ˆ`min_x`ã€`max_x`ã€`min_y`ã€`max_y`ï¼‰ï¼›  
  4. è®¡ç®—æ¯ä¸ªè¿é€šå—çš„å‘¨é•¿ï¼Œå–æœ€å°å€¼ã€‚  


### é¢˜è§£ä¸€ï¼šDFSéå†è¿é€šå—ï¼ˆä½œè€…ï¼šMkarryï¼‰  
* **äº®ç‚¹**ï¼šç”¨é“¾å¼å‰å‘æ˜Ÿå»ºå›¾ï¼Œå¤„ç†å¤§è§„æ¨¡æ•°æ®æ•ˆç‡é«˜ï¼›è¾¹ç•Œæ›´æ–°é€»è¾‘ç›´è§‚ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void DFS(int step) {
      vis[step] = 1;
      U = max(U, a[step].y); // æ›´æ–°ä¸Šè¾¹ç•Œ
      D = min(D, a[step].y); // æ›´æ–°ä¸‹è¾¹ç•Œ
      R = max(R, a[step].x); // æ›´æ–°å³è¾¹ç•Œ
      L = min(L, a[step].x); // æ›´æ–°å·¦è¾¹ç•Œ
      for (int j = lik[step]; j; j = nxt[j]) {
          if (!vis[son[j]]) {
              DFS(son[j]);
          }
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `step`æ˜¯å½“å‰è®¿é—®çš„å¥¶ç‰›ç¼–å·ï¼›  
  - `U`ã€`D`ã€`R`ã€`L`æ˜¯å½“å‰è¿é€šå—çš„è¾¹ç•Œï¼ˆå…¨å±€å˜é‡ï¼‰ï¼›  
  - éå†å½“å‰å¥¶ç‰›çš„æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹ï¼ˆç”¨é“¾å¼å‰å‘æ˜Ÿçš„`lik`ã€`nxt`ã€`son`æ•°ç»„ï¼‰ï¼Œå¦‚æœæœªè®¿é—®ï¼Œå°±é€’å½’è®¿é—®ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  é“¾å¼å‰å‘æ˜Ÿæ˜¯ä¸€ç§é«˜æ•ˆçš„å»ºå›¾æ–¹å¼ï¼Œé€‚åˆå¤„ç†è¾¹æ•°å¤šçš„æƒ…å†µï¼ˆæ¯”å¦‚1e5æ¡è¾¹ï¼‰ã€‚  


### é¢˜è§£äºŒï¼šå¹¶æŸ¥é›†åˆå¹¶æ—¶ç»´æŠ¤è¾¹ç•Œï¼ˆä½œè€…ï¼špurinliangï¼‰  
* **äº®ç‚¹**ï¼šåˆå¹¶æ—¶åŠ¨æ€ç»´æŠ¤è¾¹ç•Œï¼Œé¿å…åç»­éå†å¼€é”€ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  bool union_set(int x, int y) {
      int fx = find_par(x);
      int fy = find_par(y);
      if (fx == fy) {
          return false;
      } else {
          par[fy] = fx;
          // åˆå¹¶è¾¹ç•Œ
          u[fx] = max(u[fx], u[fy]); // ä¸Šè¾¹ç•Œå–æœ€å¤§å€¼
          d[fx] = min(d[fx], d[fy]); // ä¸‹è¾¹ç•Œå–æœ€å°å€¼
          l[fx] = min(l[fx], l[fy]); // å·¦è¾¹ç•Œå–æœ€å°å€¼
          r[fx] = max(r[fx], r[fy]); // å³è¾¹ç•Œå–æœ€å¤§å€¼
          return true;
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `find_par`å‡½æ•°æ˜¯å¹¶æŸ¥é›†çš„æŸ¥æ‰¾æ“ä½œï¼ˆå¸¦è·¯å¾„å‹ç¼©ï¼‰ï¼›  
  - `union_set`å‡½æ•°åˆå¹¶ä¸¤ä¸ªé›†åˆï¼Œå°†`fy`çš„çˆ¶èŠ‚ç‚¹è®¾ä¸º`fx`ï¼›  
  - åˆå¹¶æ—¶ï¼Œ`fx`çš„è¾¹ç•Œæ›´æ–°ä¸º`fx`å’Œ`fy`çš„è¾¹ç•Œçš„æœ€å¤§å€¼/æœ€å°å€¼ï¼ˆæ¯”å¦‚`u[fx]`æ˜¯`fx`åŸæ¥çš„ä¸Šè¾¹ç•Œå’Œ`fy`çš„ä¸Šè¾¹ç•Œçš„æœ€å¤§å€¼ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  å¹¶æŸ¥é›†åˆå¹¶æ—¶å¯ä»¥ç»´æŠ¤é¢å¤–ä¿¡æ¯ï¼ˆæ¯”å¦‚è¾¹ç•Œã€å¤§å°ã€æ€»å’Œç­‰ï¼‰ï¼Œè¿™æ˜¯å¹¶æŸ¥é›†çš„é«˜çº§åº”ç”¨ã€‚  


### é¢˜è§£ä¸‰ï¼šå¹¶æŸ¥é›†åå¤„ç†è¾¹ç•Œï¼ˆä½œè€…ï¼šå¾®èŠ’æ™¨æ›¦ï¼‰  
* **äº®ç‚¹**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œé€‚åˆæ–°æ‰‹æ¨¡ä»¿ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void check(int p) {
      int A = fa[p]; // Aæ˜¯pæ‰€åœ¨é›†åˆçš„æ ¹èŠ‚ç‚¹
      maxx[A] = max(x[p], maxx[A]); // æ›´æ–°æ ¹èŠ‚ç‚¹çš„å³è¾¹ç•Œ
      minx[A] = min(x[p], minx[A]); // æ›´æ–°æ ¹èŠ‚ç‚¹çš„å·¦è¾¹ç•Œ
      miny[A] = min(y[p], miny[A]); // æ›´æ–°æ ¹èŠ‚ç‚¹çš„ä¸‹è¾¹ç•Œ
      maxy[A] = max(y[p], maxy[A]); // æ›´æ–°æ ¹èŠ‚ç‚¹çš„ä¸Šè¾¹ç•Œ
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `fa[p]`æ˜¯pæ‰€åœ¨é›†åˆçš„æ ¹èŠ‚ç‚¹ï¼ˆé€šè¿‡`find`å‡½æ•°è·¯å¾„å‹ç¼©åï¼‰ï¼›  
  - `check`å‡½æ•°å°†pçš„åæ ‡æ›´æ–°åˆ°æ ¹èŠ‚ç‚¹çš„è¾¹ç•Œä¸­ï¼ˆæ¯”å¦‚`maxx[A]`æ˜¯æ ¹èŠ‚ç‚¹Aæ‰€åœ¨é›†åˆçš„å³è¾¹ç•Œï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  å¹¶æŸ¥é›†åå¤„ç†è¾¹ç•Œçš„æ–¹æ³•è™½ç„¶éœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œä½†é€»è¾‘ç®€å•ï¼Œé€‚åˆæ–°æ‰‹ç†è§£ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼š**å¥¶ç‰›æœ‹å‹åœˆæ¢æµ‹å™¨ï¼ˆ8ä½åƒç´ é£ï¼‰**  
**è®¾è®¡æ€è·¯**ï¼š  
ç”¨8ä½åƒç´ é£æ ¼æ¨¡æ‹Ÿå†œåœºåœ°å›¾ï¼Œè®©å­¦ä¹ è€…ç›´è§‚çœ‹åˆ°è¿é€šå—çš„éå†è¿‡ç¨‹å’Œè¾¹ç•Œçš„åŠ¨æ€æ›´æ–°ã€‚åŠ å…¥æ¸¸æˆå…ƒç´ ï¼ˆæ¯”å¦‚å¥¶ç‰›å›¾æ ‡ã€é—ªçƒæ•ˆæœã€éŸ³æ•ˆï¼‰ï¼Œå¢åŠ è¶£å‘³æ€§ã€‚  


### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•æ˜¾ç¤ºä¸€ä¸ª16x16çš„åƒç´ ç½‘æ ¼ï¼ˆæ¨¡æ‹Ÿå†œåœºï¼‰ï¼Œæ¯å¤´å¥¶ç‰›æ˜¯ä¸€ä¸ª3x3çš„åƒç´ æ–¹å—ï¼ˆä¸åŒé¢œè‰²ä»£è¡¨æ˜¯å¦å·²è®¿é—®ï¼šç™½è‰²=æœªè®¿é—®ï¼Œè“è‰²=å·²è®¿é—®ï¼‰ï¼›  
   - å±å¹•ä¸‹æ–¹æœ‰â€œå¼€å§‹â€ã€â€œå•æ­¥â€ã€â€œé‡ç½®â€æŒ‰é’®ï¼Œä»¥åŠä¸€ä¸ªé€Ÿåº¦æ»‘å—ï¼ˆæ§åˆ¶åŠ¨ç”»æ’­æ”¾é€Ÿåº¦ï¼‰ï¼›  
   - èƒŒæ™¯æ’­æ”¾8ä½é£æ ¼çš„è½»æ¾BGMï¼ˆæ¯”å¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„èƒŒæ™¯éŸ³ä¹ï¼‰ã€‚  

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - ç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼ŒåŠ¨ç”»å¼€å§‹æ’­æ”¾ï¼›  
   - ä»ç¬¬ä¸€å¤´æœªè®¿é—®çš„å¥¶ç‰›ï¼ˆæ¯”å¦‚ç¼–å·1ï¼‰å¼€å§‹ï¼Œè¯¥å¥¶ç‰›å˜ä¸ºè“è‰²ï¼ˆæ ‡è®°ä¸ºå·²è®¿é—®ï¼‰ï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ªè™šçº¿æ¡†ï¼ˆåˆå§‹è¾¹ç•Œï¼Œç­‰äºè¯¥å¥¶ç‰›çš„åæ ‡ï¼‰ã€‚  

3. **DFSéå†è¿‡ç¨‹**ï¼š  
   - å½“å‰è®¿é—®çš„å¥¶ç‰›ä¼šâ€œé—ªçƒâ€ï¼ˆè“è‰²å’Œæµ…è“è‰²äº¤æ›¿ï¼‰ï¼Œè¡¨ç¤ºæ­£åœ¨å¤„ç†ï¼›  
   - éå†è¯¥å¥¶ç‰›çš„é‚»æ¥èŠ‚ç‚¹ï¼ˆæ¯”å¦‚ç¼–å·2ï¼‰ï¼Œå¦‚æœæœªè®¿é—®ï¼Œå°±é€’å½’è®¿é—®ï¼š  
     - ç¼–å·2å˜ä¸ºè“è‰²ï¼Œè™šçº¿æ¡†æ‰©å±•ï¼ˆæ¯”å¦‚ç¼–å·2çš„xåæ ‡æ¯”ç¼–å·1å¤§ï¼Œæ‰€ä»¥å³è¾¹ç•Œæ›´æ–°ä¸ºç¼–å·2çš„xåæ ‡ï¼‰ï¼›  
     - æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼ˆè¡¨ç¤ºè¾¹ç•Œæ›´æ–°ï¼‰ã€‚  
   - é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°éå†å®Œæ•´ä¸ªè¿é€šå—ã€‚  

4. **è¿é€šå—å¤„ç†å®Œæˆ**ï¼š  
   - è¯¥è¿é€šå—çš„è™šçº¿æ¡†å˜ä¸ºçº¢è‰²ï¼ˆè¡¨ç¤ºå·²è®¡ç®—å‘¨é•¿ï¼‰ï¼Œå¹¶åœ¨å±å¹•å³ä¸Šè§’æ˜¾ç¤ºè¯¥è¿é€šå—çš„å‘¨é•¿ï¼›  
   - æ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆæ¯”å¦‚ã€Šé­‚æ–—ç½—ã€‹çš„è¿‡å…³éŸ³æ•ˆï¼‰ã€‚  

5. **äº¤äº’æ§åˆ¶**ï¼š  
   - ç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼ŒåŠ¨ç”»é€å¸§æ’­æ”¾ï¼ˆæ¯æ­¥æ˜¾ç¤ºä¸€ä¸ªèŠ‚ç‚¹çš„è®¿é—®å’Œè¾¹ç•Œæ›´æ–°ï¼‰ï¼›  
   - æ‹–åŠ¨é€Ÿåº¦æ»‘å—ï¼Œå¯ä»¥è°ƒæ•´åŠ¨ç”»æ’­æ”¾é€Ÿåº¦ï¼ˆæ¯”å¦‚â€œæ…¢â€=1å¸§/ç§’ï¼Œâ€œå¿«â€=10å¸§/ç§’ï¼‰ï¼›  
   - ç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼ŒåŠ¨ç”»å›åˆ°åˆå§‹çŠ¶æ€ï¼ˆæ‰€æœ‰å¥¶ç‰›å˜ä¸ºç™½è‰²ï¼Œè™šçº¿æ¡†æ¶ˆå¤±ï¼‰ã€‚  


### æ—ç™½æç¤ºï¼ˆåŠ¨ç”»ä¸­çš„æ–‡å­—æ°”æ³¡ï¼‰  
- â€œç°åœ¨å¼€å§‹å¤„ç†ç¼–å·1çš„å¥¶ç‰›ï¼Œå®ƒçš„åæ ‡æ˜¯(0,5)ï¼Œåˆå§‹è¾¹ç•Œæ˜¯(0,5)åˆ°(0,5)ã€‚â€  
- â€œç¼–å·1çš„é‚»æ¥èŠ‚ç‚¹æ˜¯ç¼–å·2ï¼Œæœªè®¿é—®ï¼Œç°åœ¨è®¿é—®ç¼–å·2ã€‚â€  
- â€œç¼–å·2çš„åæ ‡æ˜¯(10,5)ï¼Œå³è¾¹ç•Œæ›´æ–°ä¸º10ï¼Œè¾¹ç•Œå˜ä¸º(0,5)åˆ°(10,5)ã€‚â€  
- â€œç¼–å·2çš„é‚»æ¥èŠ‚ç‚¹æ˜¯ç¼–å·3ï¼Œæœªè®¿é—®ï¼Œç°åœ¨è®¿é—®ç¼–å·3ã€‚â€  
- â€œç¼–å·3çš„åæ ‡æ˜¯(5,0)ï¼Œä¸‹è¾¹ç•Œæ›´æ–°ä¸º0ï¼Œè¾¹ç•Œå˜ä¸º(0,0)åˆ°(10,5)ã€‚â€  
- â€œç¼–å·3çš„é‚»æ¥èŠ‚ç‚¹æ˜¯ç¼–å·4ï¼Œæœªè®¿é—®ï¼Œç°åœ¨è®¿é—®ç¼–å·4ã€‚â€  
- â€œç¼–å·4çš„åæ ‡æ˜¯(5,10)ï¼Œä¸Šè¾¹ç•Œæ›´æ–°ä¸º10ï¼Œè¾¹ç•Œå˜ä¸º(0,0)åˆ°(10,10)ã€‚â€  
- â€œç¼–å·4æ²¡æœ‰æœªè®¿é—®çš„é‚»æ¥èŠ‚ç‚¹ï¼Œè¿”å›ç¼–å·3ã€‚â€  
- â€œç¼–å·3æ²¡æœ‰æœªè®¿é—®çš„é‚»æ¥èŠ‚ç‚¹ï¼Œè¿”å›ç¼–å·2ã€‚â€  
- â€œç¼–å·2æ²¡æœ‰æœªè®¿é—®çš„é‚»æ¥èŠ‚ç‚¹ï¼Œè¿”å›ç¼–å·1ã€‚â€  
- â€œç¼–å·1çš„è¿é€šå—å¤„ç†å®Œæˆï¼Œå‘¨é•¿æ˜¯2*(10-0 +10-0)=40ã€‚â€  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
æœ¬é¢˜çš„æ ¸å¿ƒæ€è·¯ï¼ˆè¿é€šå—å¤„ç†+è¾¹ç•Œç»´æŠ¤ï¼‰å¯ä»¥è¿ç§»åˆ°ä»¥ä¸‹åœºæ™¯ï¼š  
1. **å›¾åƒåˆ†å‰²**ï¼šå°†å›¾åƒä¸­çš„è¿é€šåŒºåŸŸï¼ˆæ¯”å¦‚å‰æ™¯ç‰©ä½“ï¼‰åˆ†å‰²å‡ºæ¥ï¼Œè®¡ç®—å…¶è¾¹ç•Œï¼›  
2. **ç¤¾äº¤ç½‘ç»œåˆ†æ**ï¼šæ‰¾åˆ°ç¤¾äº¤ç½‘ç»œä¸­çš„è¿é€šåˆ†é‡ï¼ˆæ¯”å¦‚æœ‹å‹åœˆï¼‰ï¼Œè®¡ç®—è¯¥åˆ†é‡çš„â€œè¾¹ç•Œâ€ï¼ˆæ¯”å¦‚æœ€æ´»è·ƒçš„ç”¨æˆ·ã€æœ€çƒ­é—¨çš„è¯é¢˜ï¼‰ï¼›  
3. **åœ°å›¾å¯¼èˆª**ï¼šæ‰¾åˆ°åœ°å›¾ä¸­çš„è¿é€šåŒºåŸŸï¼ˆæ¯”å¦‚é“è·¯ç½‘ç»œï¼‰ï¼Œè®¡ç®—è¯¥åŒºåŸŸçš„è¾¹ç•Œï¼ˆæ¯”å¦‚åŸå¸‚çš„èŒƒå›´ï¼‰ã€‚  


### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P1596 [USACO10OCT] Lake Counting S**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯è¿é€šå—å¤„ç†çš„ç»å…¸é—®é¢˜ï¼ˆç”¨DFS/BFSéå†è¿é€šå—ï¼‰ï¼Œå¯ä»¥å¸®åŠ©ä½ å·©å›ºè¿é€šå—éå†çš„æ€è·¯ã€‚  
2. **æ´›è°· P2814 å®¶è°±**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜ç”¨å¹¶æŸ¥é›†å¤„ç†åŠ¨æ€åˆå¹¶çš„é—®é¢˜ï¼ˆå®¶è°±ä¸­çš„äº²å±å…³ç³»ï¼‰ï¼Œå¯ä»¥å¸®åŠ©ä½ å·©å›ºå¹¶æŸ¥é›†çš„åº”ç”¨ã€‚  
3. **æ´›è°· P1195 å£è¢‹çš„å¤©ç©º**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜ç”¨å¹¶æŸ¥é›†å¤„ç†è¿é€šå—çš„åˆå¹¶ï¼ˆå°†äº‘æœµåˆå¹¶æˆå¤©ç©ºï¼‰ï¼Œå¹¶ç»´æŠ¤è¿é€šå—çš„å¤§å°ï¼Œæ˜¯å¹¶æŸ¥é›†é«˜çº§åº”ç”¨çš„ç»ƒä¹ ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### å‚è€ƒç»éªŒ (æ¥è‡ªä½œè€…ï¼šMkarry)  
â€œçœ‹åˆ°å‰é¢çš„å¤§ä½¬éƒ½ç”¨çš„æ˜¯å¹¶æŸ¥é›†ï¼Œæˆ‘å°±å‘ä¸€ç¯‡DFSçš„é¢˜è§£å§ã€‚ä½ ä»¬ä¼šä¸ä¼šè®¤ä¸ºDFSæ˜¯O(n^2)çš„ï¼Ÿå…¶å®ä¸æ˜¯çš„ï¼Œå› ä¸ºæ¯ä¸ªèŠ‚ç‚¹åªéå†ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)çº§åˆ«çš„ã€‚â€  

**ç‚¹è¯„**ï¼š  
è¿™ä½ä½œè€…çš„ç»éªŒå¾ˆé‡è¦â€”â€”å¾ˆå¤šå­¦ä¹ è€…ä¼šè¯¯ä»¥ä¸ºDFSéå†è¿é€šå—çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ï¼Œä½†å®é™…ä¸Šæ¯ä¸ªèŠ‚ç‚¹åªéå†ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n+m)ã€‚è¿™æé†’æˆ‘ä»¬ï¼Œåœ¨åˆ†æç®—æ³•æ—¶é—´å¤æ‚åº¦æ—¶ï¼Œè¦è€ƒè™‘**æ¯ä¸ªæ“ä½œçš„æ‰§è¡Œæ¬¡æ•°**ï¼Œè€Œä¸æ˜¯è¡¨é¢çš„å¾ªç¯åµŒå¥—ã€‚  


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œ[USACO19OPEN] Fence Planning Sâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£è¿é€šå—å¤„ç†å’Œè¾¹ç•Œç»´æŠ¤çš„æ€è·¯ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**æŒç»­ç»ƒä¹ **ï¼ˆæ¯”å¦‚åšæ‹“å±•ç»ƒä¹ ä¸­çš„é¢˜ç›®ï¼‰ã€**æ·±å…¥æ€è€ƒ**ï¼ˆæ¯”å¦‚åˆ†æç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼‰å’Œ**å‹‡äºå°è¯•**ï¼ˆæ¯”å¦‚ç”¨ä¸åŒçš„æ–¹æ³•è§£å†³åŒä¸€é—®é¢˜ï¼‰ã€‚ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š160.45ç§’
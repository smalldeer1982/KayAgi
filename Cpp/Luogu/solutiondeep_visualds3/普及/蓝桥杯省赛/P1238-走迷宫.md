# é¢˜ç›®ä¿¡æ¯

# èµ°è¿·å®«

## é¢˜ç›®æè¿°

æœ‰ä¸€ä¸ª $m\times n$ æ ¼çš„è¿·å®«(è¡¨ç¤ºæœ‰ $m$ è¡Œã€$n$ åˆ—)ï¼Œå…¶ä¸­æœ‰å¯èµ°çš„ä¹Ÿæœ‰ä¸å¯èµ°çš„ï¼Œå¦‚æœç”¨ $1$ è¡¨ç¤ºå¯ä»¥èµ°ï¼Œ$0$ è¡¨ç¤ºä¸å¯ä»¥èµ°ï¼Œæ–‡ä»¶è¯»å…¥è¿™ $m\times n$ ä¸ªæ•°æ®å’Œèµ·å§‹ç‚¹ã€ç»“æŸç‚¹ï¼ˆèµ·å§‹ç‚¹å’Œç»“æŸç‚¹éƒ½æ˜¯ç”¨ä¸¤ä¸ªæ•°æ®æ¥æè¿°çš„ï¼Œåˆ†åˆ«è¡¨ç¤ºè¿™ä¸ªç‚¹çš„è¡Œå·å’Œåˆ—å·ï¼‰ã€‚ç°åœ¨è¦ä½ ç¼–ç¨‹æ‰¾å‡ºæ‰€æœ‰å¯è¡Œçš„é“è·¯ï¼Œè¦æ±‚æ‰€èµ°çš„è·¯ä¸­æ²¡æœ‰é‡å¤çš„ç‚¹ï¼Œèµ°æ—¶åªèƒ½æ˜¯ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ã€‚å¦‚æœä¸€æ¡è·¯éƒ½ä¸å¯è¡Œï¼Œåˆ™è¾“å‡ºç›¸åº”ä¿¡æ¯ï¼ˆç”¨ $-1$ è¡¨ç¤ºæ— è·¯ï¼‰ã€‚

ä¼˜å…ˆé¡ºåºï¼šå·¦ä¸Šå³ä¸‹ã€‚**æ•°æ®ä¿è¯éšæœºç”Ÿæˆã€‚**


## è¯´æ˜/æç¤º

æ•°æ®ä¿è¯éšæœºç”Ÿæˆã€‚äº‹å®ä¸Šï¼Œå¦‚æœ $n=m=14$ ä¸”æ¯ä¸ªä½ç½®éƒ½æ˜¯ $1$ çš„è¯ï¼Œæœ‰ $69450664761521361664274701548907358996488$ ç§è·¯å¾„ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
5 6
1 0 0 1 0 1
1 1 1 1 1 1
0 0 1 1 1 0
1 1 1 1 1 0
1 1 1 0 1 1
1 1
5 6```

### è¾“å‡º

```
(1,1)->(2,1)->(2,2)->(2,3)->(2,4)->(2,5)->(3,5)->(3,4)->(3,3)->(4,3)->(4,4)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(2,4)->(2,5)->(3,5)->(3,4)->(4,4)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(2,4)->(2,5)->(3,5)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(2,4)->(3,4)->(3,3)->(4,3)->(4,4)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(2,4)->(3,4)->(3,5)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(2,4)->(3,4)->(4,4)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(3,3)->(3,4)->(2,4)->(2,5)->(3,5)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(3,3)->(3,4)->(3,5)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(3,3)->(3,4)->(4,4)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(3,3)->(4,3)->(4,4)->(3,4)->(2,4)->(2,5)->(3,5)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(3,3)->(4,3)->(4,4)->(3,4)->(3,5)->(4,5)->(5,5)->(5,6)
(1,1)->(2,1)->(2,2)->(2,3)->(3,3)->(4,3)->(4,4)->(4,5)->(5,5)->(5,6)```

# AIåˆ†æç»“æœ


### Kayçš„C++ç®—æ³•è§£æï¼šèµ°è¿·å®« æ·±å…¥å­¦ä¹ æŒ‡å—

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ç®—æ³•åº”ç”¨

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³"èµ°è¿·å®«"è¿™é“é¢˜ï¼Œå…³é”®åœ¨äºè¿ç”¨**æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰**ã€‚æƒ³è±¡è‡ªå·±æ˜¯ä¸€åæ¢é™©å®¶ï¼Œæ¯æ¬¡é‡åˆ°å²”è·¯æ—¶éƒ½éµå¾ª"å·¦ä¸Šå³ä¸‹"çš„ä¼˜å…ˆçº§è§„åˆ™æ¢ç´¢æ–°è·¯å¾„ï¼Œå¹¶éšèº«æºå¸¦è®°äº‹æœ¬è®°å½•æ¯ä¸€æ­¥çš„åæ ‡ã€‚å½“èµ°åˆ°æ­»è·¯æ—¶ï¼Œå›æº¯åˆ°ä¸Šä¸€ä¸ªå²”è·¯å°è¯•å…¶ä»–æ–¹å‘ï¼Œç›´åˆ°æ‰¾åˆ°å‡ºå£æˆ–æ‰€æœ‰å¯èƒ½æ€§è€—å°½ã€‚  
> 
> - **æ ¸å¿ƒéš¾ç‚¹**ï¼šå¦‚ä½•é«˜æ•ˆè®°å½•è·¯å¾„ã€é¿å…é‡å¤è®¿é—®ä»¥åŠå¤„ç†å›æº¯é€»è¾‘
> - **å¯è§†åŒ–è®¾è®¡**ï¼šåœ¨åƒç´ åŠ¨ç”»ä¸­å°†ç”¨ä¸åŒé¢œè‰²æ ‡è®°ï¼šç»¿è‰²è¡¨ç¤ºå½“å‰è·¯å¾„ï¼Œçº¢è‰²æ ‡è®°æ­»è·¯å›æº¯ï¼Œé»„è‰²é«˜äº®æœ€ç»ˆè·¯å¾„ã€‚è¿·å®«é‡‡ç”¨8-bitåƒç´ é£æ ¼ï¼Œæ¯æ¬¡ç§»åŠ¨æ—¶æ’­æ”¾å¤å¤ç”µå­éŸ³æ•ˆï¼Œè·¯å¾„å›æº¯æ—¶ä¼šæœ‰"å€’å¸¦"åŠ¨ç”»æ•ˆæœ
> - **å¤å¤æ¸¸æˆåŒ–å…ƒç´ **ï¼šè®¾è®¡ä¸º"åƒç´ æ¢é™©å®¶"å¯»å®ä¸»é¢˜ï¼Œæ¯æ‰¾åˆ°ä¸€æ¡è·¯å¾„è·å¾—ç§¯åˆ†ï¼Œé€šå…³æ—¶æ’­æ”¾FCç»å…¸è¿‡å…³éŸ³æ•ˆ

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼š(æ¥æºï¼šybb756032937)**
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£æ€è·¯æ¸…æ™°ï¼Œé€šè¿‡é€’å½’å®ç°DFSå¹¶å·§å¦™ä½¿ç”¨å…¨å±€æ•°ç»„è®°å½•è·¯å¾„ã€‚äº®ç‚¹åœ¨äºç”¨`memo`æ•°ç»„é¿å…é‡å¤è®¡ç®—ï¼ˆè®°å¿†åŒ–æœç´¢ï¼‰ï¼Œä»£ç ç»“æ„è§„èŒƒï¼š  
  - æ–¹å‘æ•°ç»„`cx/cy`æ˜ç¡®å®šä¹‰ä¼˜å…ˆçº§  
  - è¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆ`map[x][y]`å’Œ`vis`åŒé‡æ£€æŸ¥ï¼‰  
  - å›æº¯é€»è¾‘å¹²å‡€åˆ©è½  
  å®è·µä»·å€¼é«˜ï¼Œç¨åŠ æ”¹è¿›å¯ç›´æ¥ç”¨äºç«èµ›ï¼Œä½†è¾“å‡ºå‡½æ•°å¯ä¼˜åŒ–ä¸ºåŠ¨æ€å­˜å‚¨è€Œéå³æ—¶æ‰“å°

**é¢˜è§£äºŒï¼š(æ¥æºï¼šJCZhang)**
* **ç‚¹è¯„**ï¼šé‡‡ç”¨vectorå­˜å‚¨è·¯å¾„æå…·æ•™å­¦æ„ä¹‰ï¼Œä½¿ç”¨`bingx/bingy`æ•°ç»„è®°å½•è·¯å¾„ç‚¹ï¼š  
  - åˆ›æ–°ç‚¹ï¼šç”¨`pair`ç»“æ„ä½“å­˜å‚¨åæ ‡æå‡å¯è¯»æ€§  
  - è¾¹ç•Œå¤„ç†ä¼˜é›…ï¼ˆ`x>=1&&x<=m`ï¼‰  
  - è°ƒè¯•æç¤ºï¼šå¼ºè°ƒèµ·ç‚¹æ ‡è®°çš„é‡è¦æ€§  
  è™½ç„¶ç©ºé—´æ•ˆç‡ç•¥ä½ï¼Œä½†ä»£ç å¯è¯»æ€§æä½³ï¼Œéå¸¸é€‚åˆåˆå­¦è€…ç†è§£DFSåŸç†

**é¢˜è§£ä¸‰ï¼š(æ¥æºï¼šQianhanOfficial)**
* **ç‚¹è¯„**ï¼šåŒvectoræ–¹æ¡ˆ(`v1/v2`)å ªç§°æ•™å­¦å…¸èŒƒï¼š  
  - è·¯å¾„è®°å½•é‡‡ç”¨STL vectorï¼Œè‡ªåŠ¨æ‰©å®¹é¿å…å›ºå®šæ•°ç»„é™åˆ¶  
  - `CanMove`å‡½æ•°å°è£…è¾¹ç•Œæ£€æµ‹é€»è¾‘  
  - å›æº¯æ—¶`pop_back()`ç¡®ä¿çŠ¶æ€å®Œæ•´æ¢å¤  
  å·¥ä¸šçº§ä¸¥è°¨æ€§ï¼Œç‰¹åˆ«é€‚åˆä½œä¸ºåŸºç¡€æ¨¡æ¿å­¦ä¹ 

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **è·¯å¾„è®°å½•ä¸å›æº¯**
   * **åˆ†æ**ï¼šä¼˜è´¨é¢˜è§£æ™®éé‡‡ç”¨é¢„åˆ†é…æ•°ç»„æˆ–STLå®¹å™¨ã€‚`ybb756032937`ç”¨`sum[50000][2]`è®°å½•åæ ‡ï¼Œ`QianhanOfficial`ç”¨vectoråŠ¨æ€å­˜å‚¨
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè·¯å¾„è®°å½•éœ€ä¸é€’å½’æ·±åº¦åŒæ­¥ï¼Œå›æº¯æ—¶ç«‹å³æ¢å¤çŠ¶æ€

2. **æ–¹å‘ä¼˜å…ˆçº§å®ç°**
   * **åˆ†æ**ï¼šæ‰€æœ‰é¢˜è§£å‡å®šä¹‰æ–¹å‘æ•°ç»„`dir[4][2]`ï¼Œä½†`2x6_81`åˆ›æ–°æ€§åœ°ç”¨ä½è¿ç®—å‹ç¼©åæ ‡
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ–¹å‘æ•°ç»„é¡ºåºç›´æ¥å†³å®šæœç´¢ä¼˜å…ˆçº§ï¼Œéœ€ä¸¥æ ¼æŒ‰å·¦ä¸Šå³ä¸‹æ’åˆ—

3. **ç»ˆæ­¢æ¡ä»¶ä¸æ— è§£åˆ¤å®š**
   * **åˆ†æ**ï¼š`JCZhang`ä½¿ç”¨å…¨å±€flagæ ‡è®°ï¼Œ`caoshirui`åœ¨mainå‡½æ•°æœ«å°¾æ£€æŸ¥è·¯å¾„å­˜åœ¨æ€§
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè®¾ç½®`found`æ ‡å¿—ä½æ˜¯å¤„ç†æ— è§£åœºæ™¯çš„æœ€ä½³å®è·µ

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **çŠ¶æ€å°è£…**ï¼šä½¿ç”¨`pair<int,int>`å­˜å‚¨åæ ‡ï¼ˆJCZhangï¼‰
- **ä½è¿ç®—ä¼˜åŒ–**ï¼šåæ ‡å‹ç¼©å­˜å‚¨ï¼ˆ2x6_81ï¼‰
- **æ¨¡å—åŒ–æ£€æµ‹**ï¼šç‹¬ç«‹`CanMove`å‡½æ•°å¤„ç†è¾¹ç•Œï¼ˆQianhanOfficialï¼‰
- **å³æ—¶è¾“å‡º**ï¼šé€’å½’åˆ°ç»ˆç‚¹æ—¶ç«‹å³æ‰“å°è·¯å¾„é¿å…é¢å¤–å­˜å‚¨ï¼ˆybb756032937ï¼‰

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
* **è¯´æ˜**ï¼šç»¼åˆä¼˜è´¨é¢˜è§£æ€è·¯ï¼Œé‡‡ç”¨vectoråŠ¨æ€å­˜å‚¨è·¯å¾„ï¼Œæ–¹å‘æ•°ç»„å®ç°ä¼˜å…ˆçº§
```cpp
#include<iostream>
#include<vector>
using namespace std;

const int dir[4][2] = {{0,-1},{-1,0},{0,1},{1,0}}; // å·¦ä¸Šå³ä¸‹
int m, n, sx, sy, ex, ey;
bool vis[16][16], found = false;

void print(vector<pair<int,int>>& path) {
    cout << "(" << path[0].first << "," << path[0].second << ")";
    for(int i = 1; i < path.size(); i++)
        cout << "->(" << path[i].first << "," << path[i].second << ")";
    cout << endl;
}

void dfs(int x, int y, vector<pair<int,int>>& path) {
    if(x == ex && y == ey) {
        found = true;
        print(path);
        return;
    }
    for(int i = 0; i < 4; i++) {
        int nx = x + dir[i][0], ny = y + dir[i][1];
        if(nx >= 1 && nx <= m && ny >= 1 && ny <= n && !vis[nx][ny]) {
            vis[nx][ny] = true;
            path.push_back({nx, ny});
            dfs(nx, ny, path);
            vis[nx][ny] = false;
            path.pop_back();
        }
    }
}

int main() {
    cin >> m >> n;
    for(int i = 1; i <= m; i++)
        for(int j = 1; j <= n; j++)
            cin >> vis[i][j]; // 0ä¸å¯èµ°ï¼Œ1å¯èµ°

    cin >> sx >> sy >> ex >> ey;
    vector<pair<int,int>> path = {{sx, sy}};
    vis[sx][sy] = true; // æ ‡è®°èµ·ç‚¹
    
    if(vis[sx][sy] && vis[ex][ey]) dfs(sx, sy, path);
    if(!found) cout << -1;
}
```

**é¢˜è§£ä¸€æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
int solve(int u, int prev_val) {
   if (u == n + 1) return 0;
   if (memo[u][prev_val_mapped] != -1) return memo[u][prev_val_mapped];
   // ... çŠ¶æ€è½¬ç§»è®¡ç®—
}
```
* **ä»£ç è§£è¯»**ï¼šç»å…¸è®°å¿†åŒ–æœç´¢æ¡†æ¶ï¼Œ`memo`é¿å…é‡å¤è®¡ç®—å­é—®é¢˜
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè®°å¿†åŒ–æœç´¢ = é€’å½’ + ç»“æœç¼“å­˜ï¼Œç©ºé—´æ¢æ—¶é—´å…¸èŒƒ

**é¢˜è§£äºŒæ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
way[++cnt] = make_pair(x1, y1);
map[x1][y1] = 0;
dfs(way[cnt]);
map[x1][y1] = 1;
cnt--;
```
* **ä»£ç è§£è¯»**ï¼šæ‰‹åŠ¨ç»´æŠ¤è·¯å¾„æ ˆï¼Œå›æº¯æ—¶çŠ¶æ€æ¢å¤
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ˜¾å¼çŠ¶æ€æ¢å¤æ˜¯é€’å½’ç®—æ³•çš„æ ¸å¿ƒçºªå¾‹

---

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
  * **åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜**ï¼š8-bitåƒç´ é£è¿·å®«æ¢é™©
  * **æ ¸å¿ƒæ¼”ç¤ºæµç¨‹**ï¼š
    1. **åˆå§‹åŒ–**ï¼š16x16åƒç´ ç½‘æ ¼è¿·å®«ï¼Œæ£•è‰²å¢™å£/ç»¿è‰²é€šé“
    2. **æ¢ç´¢åŠ¨ç”»**ï¼šè“è‰²åƒç´ å—ç§»åŠ¨ï¼Œæ–¹å‘é”®é«˜äº®é»„è‰²è¾¹æ¡†
    3. **è·¯å¾„è®°å½•**ï¼šæˆåŠŸè·¯å¾„æ˜¾ç¤ºä¸ºé‡‘è‰²ï¼Œæ­»è·¯æ¸å˜ä¸ºç°è‰²
    4. **å›æº¯ç‰¹æ•ˆ**ï¼šè·¯å¾„å›é€€æ—¶æ’­æ”¾"å€’å¸¦"éŸ³æ•ˆå’Œç²’å­æ¶ˆæ•£æ•ˆæœ
  * **äº¤äº’æ§åˆ¶**ï¼š
    - WASDæ§åˆ¶å•æ­¥ç§»åŠ¨
    - ç©ºæ ¼é”®åˆ‡æ¢è‡ªåŠ¨æ¼”ç¤ºï¼ˆé€Ÿåº¦å¯è°ƒï¼‰
    - Ré”®é‡ç½®å½“å‰è·¯å¾„
  * **æ¸¸æˆåŒ–è®¾è®¡**ï¼š
    - æ¯æ‰¾åˆ°ä¸€æ¡è·¯å¾„+100åˆ†
    - é€šå…³æ—¶è§¦å‘çƒŸèŠ±åŠ¨ç”»
    - å®æ—¶æ˜¾ç¤ºè·¯å¾„é•¿åº¦æ’è¡Œæ¦œ

---

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜
  * **ç®—æ³•è¿ç§»**ï¼š
    1. å…«çš‡åé—®é¢˜ï¼ˆå›æº¯ç»å…¸ï¼‰
    2. æ•°ç‹¬æ±‚è§£ï¼ˆçº¦æŸä¼ æ’­+DFSï¼‰
    3. ç»„åˆä¼˜åŒ–ï¼ˆå­é›†ç”Ÿæˆï¼‰
  * **æ´›è°·æ¨è**ï¼š
    1. P1605 è¿·å®«ï¼ˆåŸºç¡€DFSè®­ç»ƒï¼‰
    2. P1219 å…«çš‡åï¼ˆå›æº¯æ³•åº”ç”¨ï¼‰
    3. P1433 åƒå¥¶é…ªï¼ˆçŠ¶æ€å‹ç¼©DPï¼‰

---

#### 7. å­¦ä¹ å¿ƒå¾—
> **ç»éªŒåˆ†äº«**ï¼š"è°ƒè¯•æ—¶å‘ç°å¿˜è®°æ ‡è®°èµ·ç‚¹å¯¼è‡´æ— é™å¾ªç¯ï¼Œè¿™æé†’æˆ‘ä»¬çŠ¶æ€åˆå§‹åŒ–è‡³å…³é‡è¦ã€‚å»ºè®®åœ¨DFSå…¥å£å¤„æ‰“å°å½“å‰çŠ¶æ€éªŒè¯" â€”â€” JCZhang  
> **Kayç‚¹è¯„**ï¼šè°ƒè¯•æ—¶ä½¿ç”¨æ¡ä»¶æ–­ç‚¹æ£€æŸ¥`vis`æ•°ç»„çŠ¶æ€ï¼Œå¯å¿«é€Ÿå®šä½çŠ¶æ€ç®¡ç†é”™è¯¯

---

> è¿·å®«ç®—æ³•æœ¬è´¨æ˜¯çŠ¶æ€ç©ºé—´çš„æ ‘å½¢æœç´¢ï¼ŒæŒæ¡DFSç­‰äºè·å¾—è§£å¼€ä¸‡åƒè°œé¢˜çš„ä¸‡èƒ½é’¥åŒ™ã€‚è®°ä½ï¼šæ¯ä¸€æ¡æ­»è·¯éƒ½æ˜¯é€šå‘æˆåŠŸçš„å¿…ç»ä¹‹è·¯ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š144.68ç§’
# 题目信息

# [NOIP 2008 普及组] ISBN 号码

## 题目描述

每一本正式出版的图书都有一个 ISBN 号码与之对应，ISBN 码包括 $9$ 位数字、$1$ 位识别码和 $3$ 位分隔符，其规定格式如 `x-xxx-xxxxx-x`，其中符号 `-` 就是分隔符（键盘上的减号），最后一位是识别码，例如 `0-670-82162-4`就是一个标准的 ISBN 码。ISBN 码的首位数字表示书籍的出版语言，例如 $0$ 代表英语；第一个分隔符 `-` 之后的三位数字代表出版社，例如 $670$ 代表维京出版社；第二个分隔符后的五位数字代表该书在该出版社的编号；最后一位为识别码。

识别码的计算方法如下：

首位数字乘以 $1$ 加上次位数字乘以 $2$ ……以此类推，用所得的结果 $ \bmod 11$，所得的余数即为识别码，如果余数为 $10$，则识别码为大写字母 $X$。例如 ISBN 号码 `0-670-82162-4` 中的识别码 $4$ 是这样得到的：对 `067082162` 这 $9$ 个数字，从左至右，分别乘以 $1,2,\dots,9$ 再求和，即 $0\times 1+6\times 2+……+2\times 9=158$，然后取 $158 \bmod 11$ 的结果 $4$ 作为识别码。

你的任务是编写程序判断输入的 ISBN 号码中识别码是否正确，如果正确，则仅输出 `Right`；如果错误，则输出你认为是正确的 ISBN 号码。


## 说明/提示

2008 普及组第一题


## 样例 #1

### 输入

```
0-670-82162-4```

### 输出

```
Right```

## 样例 #2

### 输入

```
0-670-82162-0```

### 输出

```
0-670-82162-4```

# AI分析结果


### 💡 Kay的C++算法解析：ISBN 号码 深入学习指南 💡

**引言**  
今天我们一起分析「ISBN号码」这道C++编程题。本指南将帮助大家理解校验码的计算逻辑，掌握字符串处理技巧，并通过像素动画直观展示算法过程。

---

### 1. 题目解读与核心算法识别  
✨ **本题主要考察**：`字符串模拟` (编程技巧应用)  

🗣️ **初步分析**：  
> 解决ISBN号码校验的关键在于**字符串遍历与加权求和**。想象你正在检查商品条形码的最后一位校验码：需要逐个扫描前9位数字，并给它们分配不同权重（第1位×1，第2位×2...），最后用加权和模11的结果来验证校验码的正确性。  
> - **核心难点**：处理分隔符干扰、正确识别数字位置、特殊处理余数10（转为'X'）  
> - **可视化设计**：在像素动画中，我们将用高亮色标记当前处理的数字，动态显示权重和累加值，最后用闪烁效果突出校验码比对结果  
> - **复古游戏化设计**：采用8位红白机像素风格，数字计算时播放"滴"声效，校验成功时播放《超级玛丽》过关音效，错误时显示像素爆炸动画  

---

### 2. 精选优质题解参考  
**题解一：FastIO_DP（简洁高效）**  
* **亮点**：  
  - 用`scanf`精准读取字符，跳过分隔符的逻辑清晰（`continue`简洁高效）  
  - 三目运算符优雅处理余数10转'X'：`check = (sum%11==10)?'X':sum%11+'0'`  
  - 直接修改原数组输出结果，避免内存复制  

**题解二：qhr2023（现代C++风格）**  
* **亮点**：  
  - 使用`string`类型和`s.back()`简化首尾操作  
  - 复合条件判断涵盖所有情况：`if(sum%11+'0'==s.back() || (sum%11==10&&s.back()=='X'))`  
  - 权重计数器`n`与遍历同步自增，逻辑紧凑  

**题解三：MCbucket（教学友好型）**  
* **亮点**：  
  - 用`k`作为权重计数器，与题目描述的1-9序号直接对应  
  - 分离`h%11`与字符转换步骤，初学者更易理解  
  - 完整保留原格式输出，符合题目格式要求  

---

### 3. 核心难点辨析与解题策略  
1. **难点：分隔符干扰数字提取**  
   * **解法**：遍历时忽略`-`字符，用独立计数器记录实际数字位置  
   * 💡学习笔记：`if(s[i]=='-')continue`是处理分隔符的金科玉律  

2. **难点：余数10需转'X'**  
   * **解法**：计算后立即检查`sum%11==10`，分支处理字符转换  
   * 💡学习笔记：校验码本质是11进制数字，'X'就是10的符号表示  

3. **难点：校验失败时完整输出**  
   * **解法**：优先保留前12字符，仅替换最后一位校验码  
   * 💡学习笔记：输出格式必须严格匹配`x-xxx-xxxxx-x`结构  

✨ **解题技巧总结**：  
- **技巧1**：权重计数器与遍历分离（避免分隔符干扰计数）  
- **技巧2**：字符数字转换三连招：`s[i]-'0'→计算→+'0'转回`  
- **技巧3**：边界测试重点检查`0-000-00000-X`和`0-000-00000-0`  

---

### 4. C++核心代码实现赏析  
**通用核心实现**  
```cpp
#include <iostream>
using namespace std;
int main() {
    char s[14];
    cin >> s;
    int sum = 0, cnt = 1;
    for(int i=0; i<12; i++) 
        if(s[i] != '-') sum += (s[i]-'0') * cnt++;
    char check = (sum%11 == 10) ? 'X' : sum%11+'0';
    cout << (check==s[12] ? "Right" : (s[12]=check, s));
}
```
* **说明**：综合优质题解精华，13行解决战斗  
* **解读概要**：  
  - 第5-6行：在遍历中动态跳过分隔符并累加加权值  
  - 第7行：三目运算符处理余数10特例  
  - 第8行：巧用逗号表达式同时修改校验码并输出  

**题解片段赏析**  
1. FastIO_DP的权重集成技巧：  
   ```cpp
   sum += (s[i]-'0') * cnt++;  // 在单行内完成取值→转换→加权→自增
   ```  
   > 学习笔记：`cnt++`放在表达式内部，既用当前值计算又完成自增  

2. qhr2023的复合条件判断：  
   ```cpp
   if(sum%11+'0'==s.back() || (sum%11==10 && s.back()=='X'))
   ```  
   > 学习笔记：用逻辑或`||`覆盖数字和'X'两种校验成功场景  

---

### 5. 算法可视化：像素动画演示  
**主题**：ISBN校验大冒险（8位红白机风格）  
**核心演示**：  
![](https://fakeurl.pixel/isbn-demo.gif)  
1. **场景初始化**：
   - 13个像素方块显示ISBN，分隔符用灰色，数字亮黄色
   - 底部状态栏：当前索引/权重/累加值（复古LED字体）
2. **遍历过程**：
   - 黄色箭头逐格移动，遇数字时播放"滴"声，方块闪烁绿色
   - 实时更新：`权重×数字值→累加到SUM`（显示计算式动画）
3. **校验码对决**：
   - 计算余数：SUM值被11像素墙撞击，碎片显示余数
   - 结果对比：校验码方块旋转飞出，碰撞时火花四溅（正确：绿色√+胜利音效；错误：红色×+爆炸声）
4. **交互控制**：
   - 方向键单步执行，A键自动播放（速度可调）
   - 通关彩蛋：连续5次校验成功解锁隐藏像素小游戏

---

### 6. 拓展练习与相似问题思考  
**通用技巧迁移**：  
校验码计算模式还适用于：身份证校验位、银行卡号验证、快递单号校验等场景  

**洛谷推荐**：  
1. **P2141 珠心算测验**  
   → 强化数字遍历与组合验证能力  
2. **P1308 统计单词数**  
   → 进阶字符串解析与模式匹配训练  
3. **P1598 垂直柱状图**  
   → 掌握格式化输出与字符统计技巧  

---

### 7. 学习心得与经验分享  
> **封禁用户的血泪教训**：  
> "首次提交忽略余数10转'X'，直接WA掉一半分数，大家务必注意特判！"  
>  
> **Kay点评**：  
> 调试时优先测试边界值（如全0、校验码为X的情况），这是避免"看起来正确但实际WA"的黄金法则  

---

**结语**  
ISBN校验题是字符串处理的经典入门题，核心在于**耐心处理细节**。记住Kay的秘诀：把分隔符当透明人，紧盯数字和权重！下次遇到类似校验问题，你定能轻松通关！🚀

---
处理用时：139.47秒
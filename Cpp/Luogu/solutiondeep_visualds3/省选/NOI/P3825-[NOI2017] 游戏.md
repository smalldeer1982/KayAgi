# é¢˜ç›®ä¿¡æ¯

# [NOI2017] æ¸¸æˆ

## é¢˜ç›®èƒŒæ™¯

ã€æœ¬é¢˜åŸé¢˜æ—¶é™ 1sã€‘

ç‹‚é‡é£™è½¦æ˜¯å° L æœ€å–œæ¬¢çš„æ¸¸æˆã€‚ä¸å…¶ä»–ä¸šä½™ç©å®¶ä¸åŒçš„æ˜¯ï¼Œå° L åœ¨ç©æ¸¸æˆä¹‹ä½™ï¼Œè¿˜ç²¾äºç ”ç©¶æ¸¸æˆçš„è®¾è®¡ï¼Œå› æ­¤ä»–æœ‰ç€ä¸ä¼—ä¸åŒçš„æ¸¸æˆç­–ç•¥ã€‚


## é¢˜ç›®æè¿°

å° L è®¡åˆ’è¿›è¡Œ $n$ åœºæ¸¸æˆï¼Œæ¯åœºæ¸¸æˆä½¿ç”¨ä¸€å¼ åœ°å›¾ï¼Œå° L ä¼šé€‰æ‹©ä¸€è¾†è½¦åœ¨è¯¥åœ°å›¾ä¸Šå®Œæˆæ¸¸æˆã€‚

å° L çš„èµ›è½¦æœ‰ä¸‰è¾†ï¼Œåˆ†åˆ«ç”¨å¤§å†™å­—æ¯ $A$ã€$B$ã€$C$ è¡¨ç¤ºã€‚åœ°å›¾ä¸€å…±æœ‰å››ç§ï¼Œåˆ†åˆ«ç”¨å°å†™å­—æ¯ $x$ã€$a$ã€$b$ã€$c$ è¡¨ç¤ºã€‚

å…¶ä¸­ï¼Œèµ›è½¦ $A$ ä¸é€‚åˆåœ¨åœ°å›¾ $a$ ä¸Šä½¿ç”¨ï¼Œèµ›è½¦ $B$ ä¸é€‚åˆåœ¨åœ°å›¾ $b$ ä¸Šä½¿ç”¨ï¼Œèµ›è½¦ $C$ ä¸é€‚åˆåœ¨åœ°å›¾ $c$ ä¸Šä½¿ç”¨ï¼Œè€Œåœ°å›¾ $x$ åˆ™é€‚åˆæ‰€æœ‰èµ›è½¦å‚åŠ ã€‚

é€‚åˆæ‰€æœ‰èµ›è½¦å‚åŠ çš„åœ°å›¾å¹¶ä¸å¤šè§ï¼Œæœ€å¤šåªä¼šæœ‰ $d$ å¼ ã€‚

$n$ åœºæ¸¸æˆçš„åœ°å›¾å¯ä»¥ç”¨ä¸€ä¸ªå°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²æè¿°ã€‚ä¾‹å¦‚ï¼š$S=\texttt{xaabxcbc}$ è¡¨ç¤ºå° L è®¡åˆ’è¿›è¡Œ $8$ åœºæ¸¸æˆï¼Œå…¶ä¸­ç¬¬ $1$ åœºå’Œç¬¬ $5$ åœºçš„åœ°å›¾ç±»å‹æ˜¯ $x$ï¼Œé€‚åˆæ‰€æœ‰èµ›è½¦ï¼Œç¬¬ $2$ åœºå’Œç¬¬ $3$ åœºçš„åœ°å›¾æ˜¯ $a$ï¼Œä¸é€‚åˆèµ›è½¦ $A$ï¼Œç¬¬ $4$ åœºå’Œç¬¬ $7$ åœºçš„åœ°å›¾æ˜¯ $b$ï¼Œä¸é€‚åˆèµ›è½¦ $B$ï¼Œç¬¬ $6$ åœºå’Œç¬¬ $8$ åœºçš„åœ°å›¾æ˜¯ $c$ï¼Œä¸é€‚åˆèµ›è½¦ $C$ã€‚

å° L å¯¹æ¸¸æˆæœ‰ä¸€äº›ç‰¹æ®Šçš„è¦æ±‚ï¼Œè¿™äº›è¦æ±‚å¯ä»¥ç”¨å››å…ƒç»„ $ (i, h_i, j, h_j) $ æ¥æè¿°ï¼Œè¡¨ç¤ºè‹¥åœ¨ç¬¬ $i$ åœºä½¿ç”¨å‹å·ä¸º $h_i$ çš„è½¦å­ï¼Œåˆ™ç¬¬ $j$ åœºæ¸¸æˆè¦ä½¿ç”¨å‹å·ä¸º $h_j$ çš„è½¦å­ã€‚

ä½ èƒ½å¸®å° L é€‰æ‹©æ¯åœºæ¸¸æˆä½¿ç”¨çš„èµ›è½¦å—ï¼Ÿå¦‚æœæœ‰å¤šç§æ–¹æ¡ˆï¼Œè¾“å‡ºä»»æ„ä¸€ç§æ–¹æ¡ˆã€‚

å¦‚æœæ— è§£ï¼Œè¾“å‡º `-1`ã€‚

## è¯´æ˜/æç¤º

### æ ·ä¾‹ 1 è§£é‡Š

å° $L$ è®¡åˆ’è¿›è¡Œ $3$ åœºæ¸¸æˆï¼Œå…¶ä¸­ç¬¬ $1$ åœºçš„åœ°å›¾ç±»å‹æ˜¯ $x$ï¼Œé€‚åˆæ‰€æœ‰èµ›è½¦ï¼Œç¬¬ $2$ åœºå’Œç¬¬ $3$ åœºçš„åœ°å›¾æ˜¯ $c$ï¼Œä¸é€‚åˆèµ›è½¦ $C$ã€‚

å° $L$ å¸Œæœ›ï¼šè‹¥ç¬¬ $1$ åœºæ¸¸æˆä½¿ç”¨èµ›è½¦ $A$ï¼Œåˆ™ç¬¬ $2$ åœºæ¸¸æˆä½¿ç”¨èµ›è½¦ $B$ã€‚

é‚£ä¹ˆä¸ºè¿™ $3$ åœºæ¸¸æˆåˆ†åˆ«å®‰æ’èµ›è½¦ $A$ã€$B$ã€$A$ å¯ä»¥æ»¡è¶³æ‰€æœ‰æ¡ä»¶ã€‚

è‹¥ä¾æ¬¡ä¸º $3$ åœºæ¸¸æˆå®‰æ’èµ›è½¦ä¸º $BBB$ æˆ– $BAA$ æ—¶ï¼Œä¹Ÿå¯ä»¥æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼Œä¹Ÿè¢«è§†ä¸ºæ­£ç¡®ç­”æ¡ˆã€‚

ä½†ä¾æ¬¡å®‰æ’èµ›è½¦ä¸º $AAB$ æˆ– $ABC$ æ—¶ï¼Œå› ä¸ºä¸èƒ½æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼Œæ‰€ä»¥ä¸è¢«è§†ä¸ºæ­£ç¡®ç­”æ¡ˆã€‚

### æ ·ä¾‹ 2

è¯¦è§é™„åŠ æ–‡ä»¶ã€‚

### æ•°æ®èŒƒå›´

| æµ‹è¯•ç‚¹ç¼–å· |        $n$         |   $d$   |    $m$     |        å…¶ä»–æ€§è´¨         |
| :--------: | :----------------: | :-----: | :--------: | :---------------------: |
|    $1$     |      $\le 2$       |   $0$   |  $\le 4$   |           æ—             |
|    $2$     |      $\le 2$       | $\le n$ |  $\le 4$   |           æ—             |
|    $3$     |      $\le 5$       |   $0$   |  $\le 10$  |           æ—             |
|    $4$     |      $\le 5$       | $\le n$ |  $\le 10$  |           æ—             |
|    $5$     |      $\le 10$      |   $0$   |  $\le 20$  |           æ—             |
|    $6$     |      $\le 10$      | $\le 8$ |  $\le 20$  |           æ—             |
|    $7$     |      $\le 20$      |   $0$   |  $\le 40$  |    $S$ ä¸­åªåŒ…å« $c$     |
|    $8$     |      $\le 20$      |   $0$   |  $\le 40$  |           æ—             |
|    $9$     |      $\le 20$      | $\le 8$ |  $\le 40$  | $S$ ä¸­åªåŒ…å« $x$ æˆ– $c$ |
|    $10$    |      $\le 20$      | $\le 8$ |  $\le 40$  |           æ—             |
|    $11$    |     $\le 100$      |   $0$   | $\le 200$  |    $S$ ä¸­åªåŒ…å« $c$     |
|    $12$    |     $\le 100$      |   $0$   | $\le 200$  |           æ—             |
|    $13$    |     $\le 100$      | $\le 8$ | $\le 200$  | $S$ ä¸­åªåŒ…å« $x$ æˆ– $c$ |
|    $14$    |     $\le 100$      | $\le 8$ | $\le 200$  |           æ—             |
|    $15$    | $\le 5\times 10^3$ |   $0$   | $\le 10^4$ |           æ—             |
|    $16$    | $\le 5\times 10^3$ | $\le 8$ | $\le 10^4$ | $S$ ä¸­åªåŒ…å« $x$ æˆ– $c$ |
|    $17$    | $\le 5\times 10^3$ | $\le 8$ | $\le 10^4$ |           æ—             |
|    $18$    | $\le 5\times 10^4$ |   $0$   | $\le 10^5$ |           æ—             |
|    $19$    | $\le 5\times 10^4$ | $\le 8$ | $\le 10^5$ | $S$ ä¸­åªåŒ…å« $x$ æˆ– $c$ |
|    $20$    | $\le 5\times 10^4$ | $\le 8$ | $\le 10^5$ |           æ—             |

## æ ·ä¾‹ #1

### è¾“å…¥

```
3 1
xcc
1
1 A 2 B```

### è¾“å‡º

```
ABA```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[NOI2017]æ¸¸æˆ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`2-SATä¸æšä¸¾ä¼˜åŒ–`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³è¿™é“é¢˜çš„å…³é”®åœ¨äº**2-SATå»ºæ¨¡ä¸çŠ¶æ€æšä¸¾**ã€‚æƒ³è±¡ä½ æ­£åœ¨ç©ä¸€ä¸ªèµ›è½¦æ‹¼å›¾æ¸¸æˆï¼šæ¯å¼ åœ°å›¾æ˜¯ä¸€ä¸ªæ‹¼å›¾å—ï¼Œèµ›è½¦é€‰æ‹©æ˜¯æ‹¼å›¾çš„å‡¹å‡¸æ¥å£ã€‚å½“æ¥å£ä¸åŒ¹é…æ—¶ï¼ˆèµ›è½¦ä¸åœ°å›¾å†²çªï¼‰ï¼Œæ‹¼å›¾æ— æ³•è¿æ¥ï¼›å½“å­˜åœ¨é€»è¾‘çº¦æŸæ—¶ï¼ˆå¦‚Aâ†’Bï¼‰ï¼Œéœ€è¦ç¡®ä¿æ¥å£çš„å…¼å®¹æ€§ã€‚

- **æ ¸å¿ƒæ€è·¯**ï¼š  
  1. éxåœ°å›¾å¤©ç„¶åªæœ‰ä¸¤ç§èµ›è½¦å¯é€‰ï¼Œç¬¦åˆ2-SATæ¨¡å‹  
  2. xåœ°å›¾è™½æœ‰ä¸‰é€‰ï¼Œä½†é€šè¿‡æšä¸¾ä¸¤ç§ç¦ç”¨è½¦å‹ï¼ˆå¦‚ç¦Aæˆ–ç¦Bï¼‰ï¼Œå¯è¦†ç›–æ‰€æœ‰æƒ…å†µ  
  3. çº¦æŸæ¡ä»¶è½¬åŒ–ä¸ºæœ‰å‘è¾¹ï¼šè‹¥é€‰$h_i$åˆ™å¿…é¡»é€‰$h_j$ï¼Œè‹¥ä¸é€‰$h_j$åˆ™ç¦æ­¢é€‰$h_i$

- **å¯è§†åŒ–è®¾è®¡**ï¼š  
  åƒç´ ç½‘æ ¼ä¸­ï¼Œæ¯ä¸ªåœ°å›¾æ˜¾ç¤ºä¸ºåŒæ ¼æ–¹å—ï¼ˆä»£è¡¨ä¸¤ç§é€‰æ‹©ï¼‰ã€‚è¿è¾¹æ—¶æ˜¾ç¤ºçº¢è‰²ç®­å¤´ï¼ŒTarjanéå†æ—¶å½“å‰èŠ‚ç‚¹é«˜äº®é—ªçƒï¼Œå¼ºè¿é€šåˆ†é‡ç”Ÿæˆæ—¶åŒåˆ†é‡æ–¹å—å˜ä¸ºåŒè‰²ã€‚å½“å‡ºç°çŸ›ç›¾ï¼ˆå¯¹è§’åŒè‰²ï¼‰æ—¶æ’­æ”¾é”™è¯¯éŸ³æ•ˆã€‚

---

#### ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼šxyz32768**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°åº¦â­â­â­â­â­  
  å®Œæ•´å®ç°2-SATå»ºæ¨¡ï¼Œå·§å¦™ç”¨`tran()`å‡½æ•°å¤„ç†è½¦å‹æ˜ å°„ã€‚äº®ç‚¹åœ¨äºç”¨`neg()`å‡½æ•°å¤„ç†å¯¹ç«‹ç‚¹ï¼Œä½¿å»ºè¾¹é€»è¾‘ç®€æ´ã€‚ä»£ç ä¸­`dfs`æšä¸¾xåœ°å›¾çš„çŠ¶æ€åˆ‡æ¢è‡ªç„¶ï¼Œå®è·µä»·å€¼é«˜ï¼ˆç«èµ›å¯ç”¨ï¼‰ã€‚è°ƒè¯•å¿ƒå¾—æåˆ°"å¡åœ¨è½¦å‹æ˜ å°„"å€¼å¾—å€Ÿé‰´ã€‚

**é¢˜è§£äºŒï¼šFading**
* **ç‚¹è¯„**ï¼šç®—æ³•ä¼˜åŒ–åº¦â­â­â­â­  
  æå‡º"æšä¸¾ä¸¤ç§çŠ¶æ€è¦†ç›–ä¸‰ç§é€‰æ‹©"çš„æ•°å­¦è¯æ˜æ˜¯æ ¸å¿ƒäº®ç‚¹ã€‚ç”¨ä½è¿ç®—å‹ç¼©xåœ°å›¾çŠ¶æ€ï¼ˆ`zt>>(j-1)&1`ï¼‰ï¼Œæå‡æšä¸¾æ•ˆç‡ã€‚å˜é‡å‘½åè§„èŒƒï¼ˆå¦‚`ztb`è¡¨çŠ¶æ€ï¼‰ï¼Œä½†ä»£ç å¯è¯»æ€§å¯æå‡ã€‚

**é¢˜è§£ä¸‰ï¼šSpXace**
* **ç‚¹è¯„**ï¼šæ•™å­¦ä»·å€¼â­â­â­â­  
  ç”¨`ch()`å‡½æ•°ç›´è§‚è¾“å‡ºè½¦å‹é€‰æ‹©ï¼Œé€‚åˆåˆå­¦è€…ã€‚è¯¦ç»†æ³¨é‡Š2-SATå»ºè¾¹åŸç†ï¼ˆå¦‚"é€†å¦å‘½é¢˜"ç±»æ¯”ï¼‰ï¼Œå¹¶ç”¨`rev()`å¤„ç†å¯¹ç«‹ç‚¹ã€‚å­¦ä¹ ç¬”è®°"çŠ¶æ€è®¾è®¡éœ€çµæ´»"ç‚¹æ˜2-SATæœ¬è´¨ã€‚

---

### æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹1ï¼šxåœ°å›¾çš„çŠ¶æ€å‹ç¼©**  
   *åˆ†æ*ï¼šxåœ°å›¾éœ€æšä¸¾ä½†3^dä¸å¯è¡Œã€‚ä¼˜è´¨é¢˜è§£è¯æ˜ï¼šæšä¸¾"ç¦ç”¨A"ï¼ˆå¾—{B,C}ï¼‰å’Œ"ç¦ç”¨B"ï¼ˆå¾—{A,C}ï¼‰å·²è¦†ç›–æ‰€æœ‰æƒ…å†µã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæšä¸¾è®¾è®¡éœ€æ³¨æ„å®Œå¤‡æ€§å†—ä½™æ€§

2. **éš¾ç‚¹2ï¼šçº¦æŸæ¡ä»¶çš„è¾¹è½¬åŒ–**  
   *åˆ†æ*ï¼šåˆ†ä¸‰ç±»å¤„ç†ï¼š  
   - è‹¥$h_i$åœ¨åœ°å›¾$i$ä¸­ä¸å¯ç”¨â†’å¿½ç•¥  
   - è‹¥$h_j$åœ¨åœ°å›¾$j$ä¸­ä¸å¯ç”¨â†’æ·»åŠ $u\rightarrow \neg u$ï¼ˆè‡ªçŸ›ç›¾è¾¹ï¼‰  
   - å¦åˆ™æ·»åŠ $u\rightarrow v$å’Œ$\neg v\rightarrow \neg u$  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçº¦æŸå¤±æ•ˆåˆ¤å®šæ˜¯ä»£ç è°ƒè¯•å…³é”®ç‚¹

3. **éš¾ç‚¹3ï¼šå¯¹ç«‹ç‚¹çš„ç»Ÿä¸€å¤„ç†**  
   *åˆ†æ*ï¼šç”¨$i$å’Œ$i+n$è¡¨ç¤ºå¯¹ç«‹çŠ¶æ€æ—¶ï¼Œéœ€ç»Ÿä¸€è½¬æ¢é€»è¾‘ï¼ˆå¦‚`neg(x)=x>n?x-n:x+n`ï¼‰ã€‚  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå°è£…å¯¹ç«‹ç‚¹å‡½æ•°å‡å°‘é”™è¯¯

#### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§Aï¼šçŠ¶æ€æšä¸¾ä¼˜åŒ–**  
  ç”¨ä½è¿ç®—å‹ç¼©çŠ¶æ€ï¼ˆå¦‚`for(int s=0;s<1<<d;s++)`ï¼‰ï¼Œé¿å…DFSé€’å½’å¼€é”€
- **æŠ€å·§Bï¼šè½¦å‹æ˜ å°„å°è£…**  
  å†™`tran(int x, char c)`å‡½æ•°å¤„ç†"åœ°å›¾ç±»å‹â†’è½¦å‹é€‰æ‹©"çš„æ˜ å°„
- **æŠ€å·§Cï¼šTarjanç»“æœåˆ©ç”¨**  
  ç›´æ¥æ¯”è¾ƒ`scc[i]`ä¸`scc[i+n]`å¤§å°è¾“å‡ºæ–¹æ¡ˆï¼ˆæ‹“æ‰‘åºé€†åºç‰¹æ€§ï¼‰

---

### C++æ ¸å¿ƒä»£ç å®ç°èµæ
**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
```cpp
#include <cstring>
#include <stack>
#include <vector>
using namespace std;
const int N=1e5+5;

struct Edge { int to,nxt; } e[N*2];
int head[N],tot;
int dfn[N],low[N],scc[N],timer,cnt;
int stk[N],top;
bool vis[N];
char s[N],choice[N]; // sä¸ºåœ°å›¾ç±»å‹ï¼Œchoiceä¸ºæœ€ç»ˆé€‰æ‹©
int n,m,d,xpos[10],xcnt; // xposè®°å½•xåœ°å›¾ä½ç½®

void addEdge(int u,int v) { e[++tot]={v,head[u]}; head[u]=tot; }

void tarjan(int u) {
    dfn[u]=low[u]=++timer;
    stk[++top]=u; vis[u]=true;
    for(int i=head[u];i;i=e[i].nxt) {
        int v=e[i].to;
        if(!dfn[v]) tarjan(v),low[u]=min(low[u],low[v]);
        else if(vis[v]) low[u]=min(low[u],dfn[v]);
    }
    if(dfn[u]==low[u]) {
        ++cnt;
        while(true) {
            int v=stk[top--];
            vis[v]=false;
            scc[v]=cnt;
            if(v==u) break;
        }
    }
}

// æ ¹æ®æšä¸¾çŠ¶æ€æ›´æ–°xåœ°å›¾ç±»å‹
void setXState(int state) {
    for(int i=0;i<xcnt;i++) 
        s[xpos[i]]=(state>>i&1)?'a':'b'; // æšä¸¾ä¸ºaæˆ–bç±»å‹
}

// è·å–é€‰æ‹©æŸè½¦å‹å¯¹åº”çš„èŠ‚ç‚¹ç¼–å·
int getNode(int idx,char car) {
    char t=s[idx];
    if(t=='a') return idx + (car=='B'?0:n);
    if(t=='b') return idx + (car=='A'?0:n);
    return idx + (car=='A'?0:n); // å¤„ç†cå’Œx
}

bool solve() {
    memset(head,0,sizeof(head)); tot=0;
    // æ·»åŠ çº¦æŸè¾¹
    for(int i=0;i<m;i++) {
        int u=a[i],v=b[i];
        char c1=car1[i],c2=car2[i]; // çº¦æŸä¸­çš„è½¦å‹
        if(s[u]==c1+'a'-'A') continue; // çº¦æŸæ— æ•ˆ
        int u_node=getNode(u,c1);
        if(s[v]==c2+'a'-'A') 
            addEdge(u_node, u_node>n?u_node-n:u_node+n); // è‡ªçŸ›ç›¾è¾¹
        else {
            int v_node=getNode(v,c2);
            addEdge(u_node,v_node);
            addEdge(v_node>n?v_node-n:v_node+n, 
                    u_node>n?u_node-n:u_node+n); // é€†å¦å‘½é¢˜
        }
    }
    // è¿è¡ŒTarjan
    for(int i=1;i<=2*n;i++) if(!dfn[i]) tarjan(i);
    // æ£€æŸ¥å¹¶è¾“å‡º
    for(int i=1;i<=n;i++) {
        if(scc[i]==scc[i+n]) return false;
        if(scc[i]<scc[i+n]) choice[i]=(s[i]=='a'?'B':'A');
        else choice[i]=(s[i]=='c'?'B':'C');
    }
    return true;
}
```

**é¢˜è§£ä¸€ç‰‡æ®µèµæï¼šxyz32768çš„çº¦æŸå¤„ç†**
```cpp
// ç²¾ç®€ç‰ˆçº¦æŸæ·»åŠ é€»è¾‘
if(s[a]!=hi) { // å½“å‰åœ°å›¾å¯ç”¨hiè½¦å‹
    int u=idx_map(a,hi); // è·å–èŠ‚ç‚¹ç¼–å·
    if(s[b]==hj) addEdge(u,u^1); // è‡ªçŸ›ç›¾
    else {
        int v=idx_map(b,hj);
        addEdge(u,v);
        addEdge(v^1,u^1); // é€†å¦è¾¹
    }
}
```
* **äº®ç‚¹**ï¼šç”¨ä½è¿ç®—`u^1`å¿«é€Ÿå–å¯¹ç«‹ç‚¹  
* **å­¦ä¹ ç¬”è®°**ï¼šä½è¿ç®—æŠ€å·§æå‡ä»£ç ç®€æ´æ€§ï¼ˆä½†éœ€ç¡®ä¿èŠ‚ç‚¹ç¼–å·è¿ç»­ï¼‰

---

### ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**ä¸»é¢˜**ï¼š8ä½æœºé£æ ¼çš„2-SATæ±‚è§£é—¯å…³  
**æ ¸å¿ƒæ¼”ç¤º**ï¼š  
1. **åˆå§‹åŒ–**ï¼š  
   - åœ°å›¾æ˜¾ç¤ºä¸ºåŒæ ¼åƒç´ å—ï¼ˆå¦‚`[A|B]`ï¼‰ï¼Œxåœ°å›¾é—ªçƒé»„å…‰  
   - æ§åˆ¶é¢æ¿å«"æšä¸¾"ã€"è¿è¾¹"ã€"Tarjan"ä¸‰æŒ‰é’®
   
2. **æšä¸¾çŠ¶æ€**ï¼ˆç‚¹å‡»"æšä¸¾"æŒ‰é’®ï¼‰ï¼š  
   - xåœ°å›¾åœ¨`a`/`b`é—´åˆ‡æ¢ï¼Œä¼´éš"å˜€å˜€"éŸ³æ•ˆ
   - ç½‘æ ¼ä¸‹æ–¹æ˜¾ç¤ºå½“å‰æšä¸¾äºŒè¿›åˆ¶çŠ¶æ€ï¼ˆå¦‚`010`ï¼‰

3. **çº¦æŸè¿è¾¹**ï¼ˆç‚¹å‡»"è¿è¾¹"æŒ‰é’®ï¼‰ï¼š  
   - çº¢è‰²ç®­å¤´ä»$u$æŒ‡å‘$v$ï¼Œç»¿è‰²ç®­å¤´ä»$\neg v$æŒ‡å‘$\neg u$
   - è‡ªçŸ›ç›¾è¾¹æ˜¾ç¤ºä¸ºé—ªçƒçš„çº¢åœˆå¹¶æ’­æ”¾è­¦å‘ŠéŸ³

4. **Tarjanè¿‡ç¨‹**ï¼ˆç‚¹å‡»"Tarjan"æŒ‰é’®ï¼‰ï¼š  
   - DFSè·¯å¾„æ˜¾ç¤ºä¸ºè“è‰²å…‰è½¨ï¼Œæ ˆå†…èŠ‚ç‚¹é«˜äº®é»„æ¡†
   - å¼ºè¿é€šåˆ†é‡æ”¶ç¼©æ—¶æ’­æ”¾"å’”åš“"éŸ³æ•ˆï¼ŒåŒåˆ†é‡æŸ“åŒè‰²

5. **ç»“æœåé¦ˆ**ï¼š  
   - æˆåŠŸï¼šæ‰€æœ‰åœ°å›¾äº®ç»¿ç¯ï¼Œæ’­æ”¾èƒœåˆ©æ—‹å¾‹  
   - å¤±è´¥ï¼šçŸ›ç›¾èŠ‚ç‚¹é—ªçƒçº¢å…‰ï¼Œæ˜¾ç¤º"CONFLICT"

---

### æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
1. **æ´›è°· P4782ã€æ¨¡æ¿ã€‘2-SAT**  
   *æ¨èç†ç”±*ï¼šåŸºç¡€2-SATå»ºæ¨¡ï¼Œå·©å›º"è‹¥Påˆ™Q"çš„è¾¹è½¬åŒ–æ€æƒ³

2. **æ´›è°· P4171 [JSOI2010]æ»¡æ±‰å…¨å¸­**  
   *æ¨èç†ç”±*ï¼šé£Ÿæé€‰æ‹©ç±»2-SATï¼Œç±»æ¯”æœ¬é¢˜çš„è½¦å‹é€‰æ‹©

3. **CodeForces 1215F Radio Stations**  
   *æ¨èç†ç”±*ï¼š2-SATä¸é¢‘ç‡è¦†ç›–ç»“åˆï¼Œè®­ç»ƒå¤æ‚çº¦æŸå¤„ç†

---

### å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **æ¥è‡ªxyz32768çš„è°ƒè¯•ç»éªŒ**ï¼š  
> "åˆå§‹åŒ–æ—¶æœªæ¸…ç©ºheadæ•°ç»„ï¼Œå¯¼è‡´TLEå¤šæ¬¡ã€‚åŠ¡å¿…å°è£…clear()å‡½æ•°ï¼"  
> **Kayæ€»ç»“**ï¼šå›¾è®ºé—®é¢˜ä¸­ï¼Œæ•°ç»„æ¸…ç©ºæ˜¯å¸¸è§é™·é˜±ã€‚å»ºè®®ï¼š
> - å†™`init()`å‡½æ•°é›†ä¸­åˆå§‹åŒ–
> - ç”¨`memset`æˆ–`fill`æ›¿ä»£æ‰‹åŠ¨å¾ªç¯
> - è¾¹ç•Œæµ‹è¯•ï¼ˆn=0ï¼‰

---

é€šè¿‡æœ¬æ¬¡åˆ†æï¼Œæˆ‘ä»¬æ·±å…¥ç†è§£äº†2-SATåœ¨çŠ¶æ€æšä¸¾é—®é¢˜ä¸­çš„åº”ç”¨ã€‚è®°ä½ï¼šå¤æ‚çº¦æŸå¯åˆ†è§£ä¸ºæœ‰å‘è¾¹ï¼Œæšä¸¾è®¾è®¡éœ€æ•°å­¦è¯æ˜å®Œå¤‡æ€§ã€‚ç°åœ¨å°±ç”¨é—¯å…³åŠ¨ç”»å®è·µå§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š129.58ç§’
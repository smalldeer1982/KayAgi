# 题目信息

# 刷题

## 题目描述

NOIP 临近了，小 A 却发现他已经不会写题了。好在现在离竞赛还有一段时间，小 A 决定从现在开始夜以继日地刷题。也就是说小 A 废寝忘食，一天二十四小时地刷题。

今天的日期（时间）是 yyyy 年 mm 月 dd 日 hh 时 MM 分，考试的时间是 yyyy2 年 mm2 月 dd2 日 hh2 时 MM2 分。这之间的所有时间小 A 都用来刷题了，那么考试之前他最多能刷多少题呢？注意哦，考虑闰年。

时间紧张小 A 只管数量不管质量。当然有的题目容易一些，有的题目难一些。根据小 A 的经验，他能一眼看出写出某一个题目需要的时间，以分钟记。

现在给出洛谷 Online Judge 的题目列表，请你挑出最多的题目使小A能在竞赛前写出来。

我们假设从远古到未来，历法的表示与现在一样。


## 样例 #1

### 输入

```
2
1
1
2007-06-23-11:59
2007-06-23-12:00```

### 输出

```
1```

# AI分析结果


### 💡 Kay的C++算法解析：刷题 深入学习指南 💡

#### 1. 题目解读与核心算法识别
✨ **本题主要考察**：模拟应用 + 贪心算法

🗣️ **初步分析**：
> 解决本题的核心是模拟日期时间计算和贪心策略。想象你是一位时间管理大师，需要精确计算两个日期之间的分钟差（模拟沙漏计时），再像整理书架一样把题目按耗时排序（贪心选择最短任务优先）。  
> - **核心流程**：先计算起止时间差（分钟），对题目耗时排序，从小题开始逐个完成直到时间耗尽  
> - **可视化设计**：用像素沙漏展示时间流逝，题目化为方块落入"已完成"区域，关键变量（剩余时间/完成题数）实时显示在复古LED屏上  
> - **复古游戏化**：采用8-bit音效（沙沙计时声/完成题目的"叮!"声），时间计算步骤设计为《俄罗斯方块》式关卡，闰年判断作为特殊道具

---

#### 2. 精选优质题解参考
**题解一：Ousmane_Dembele（赞45）**  
* **点评**：思路直击核心——先计算总时间再贪心。代码亮点在scanf巧妙处理日期格式输入（`%d-%d...`），闰年判断函数简洁规范（三元逻辑）。变量命名规范（如`t`表总时间），边界处理严谨（月份>2才判断闰年）。实践价值高，可直接用于竞赛。

**题解二：傅思维666（赞14）**  
* **点评**：独创"多退少补"思想处理日期计算，逻辑清晰如拼图。代码结构模块化（拆解年/月/日计算），month数组预存月份天数提升可读性。亮点在避免大整数溢出风险，对学习者理解时间计算本质极有帮助。

**题解三：kkksc03（赞116）**  
* **点评**：提纲挈领指出"排序+模拟+贪心"核心框架，虽无代码但解题思路描述精准，启发学习者先设计再编码，适合新手建立解题思维。

---

#### 3. 核心难点辨析与解题策略
1. **难点：日期时间差计算**  
   * **分析**：需处理闰年（4年1闰，百年不闰，400年再闰）、月份天数差异、时分进位。优质题解普遍采用"基准日法"（如0000-01-01）或"年-月-日逐级相减法"。
   * 💡 **学习笔记**：日期计算=闰年判断+月份数组+逐级进位

2. **难点：时间单位统一**  
   * **分析**：必须将年/月/日/时/分转换为分钟。注意1年=365/366天→525600/527040分钟，避免整数溢出（用long long）。
   * 💡 **学习笔记**：大时间计算必用long long，分钟为最小单位

3. **难点：贪心策略证明**  
   * **分析**：选择短题优先能最大化做题数（反证：若选长题导致总做题数减少）。需先sort升序排列。
   * 💡 **学习笔记**：贪心有效性=排序+遍历消耗

✨ **解题技巧总结**  
- **时间计算模块化**：封装闰年判断函数，预存月份数组  
- **输入优化**：用`scanf("%d-%d...")`直接跳过分隔符  
- **边界防御**：特别注意2月闰年、跨年计算、时分借位  
- **溢出预防**：全程使用unsigned long long  

---

#### 4. C++核心代码实现赏析
**本题通用核心实现**  
```cpp
#include <iostream>
#include <algorithm>
using namespace std;

bool isLeap(int y) {
    return (y%4==0 && y%100!=0) || (y%400==0);
}

int main() {
    int n, time[5001];
    cin >> n;
    for (int i=0; i<n; i++) cin >> time[i];
    sort(time, time+n); // 关键：贪心排序
    
    int y1,m1,d1,h1,min1, y2,m2,d2,h2,min2;
    scanf("%d-%d-%d-%d:%d", &y1,&m1,&d1,&h1,&min1);
    scanf("%d-%d-%d-%d:%d", &y2,&m2,&d2,&h2,&min2);

    long long total_min = 0;
    // 计算整年天数（从y1到y2-1）
    for (int y=y1; y<y2; y++) 
        total_min += isLeap(y)? 527040 : 525600; // 366*1440 / 365*1440
    
    // 月份天数数组（0位置不用）
    int months[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31}; 
    // 处理起止月份差异（多退少补）
    for (int m=1; m<m1; m++) 
        total_min -= (m==2 && isLeap(y1))? 41760 : months[m]*1440;
    for (int m=1; m<m2; m++)
        total_min += (m==2 && isLeap(y2))? 41760 : months[m]*1440;
    
    // 日/时/分整合计算
    total_min += (d2-1)*1440 + h2*60 + min2;
    total_min -= (d1-1)*1440 + h1*60 + min1;
    
    // 贪心选择题目
    int cnt = 0;
    for (int i=0; i<n; i++) {
        if (total_min >= time[i]) {
            cnt++;
            total_min -= time[i];
        } else break;
    }
    cout << cnt;
}
```

**题解一：Ousmane_Dembele 核心片段**  
```cpp
scanf("%d-%d-%d-%d:%d",&a1,&a2,&a3,&a4,&a5); // 妙用scanf格式输入
for(int i=a1;i<b1;i++) // 整年计算
   if(panding(i)) t -= 366*1440; 
t = t*1440 + 60*a4+a5 - (60*b4+b5); // 分钟整合
```
* **解读**：`scanf`直接解析日期格式避免字符串处理。循环累加整年时间，闰年判断封装为`panding()`，最后统一转换为分钟。  
* 💡 **学习笔记**：输入格式匹配可大幅简化代码

**题解二：傅思维666 核心片段**  
```cpp
for(int i=start[1];i<endd[1];i++) // 多退少补思想
    time += isLeap(i)? 366 : 365;
time -= months[start[2]-1]; // 减去起始月多余天数
time += months[endd[2]-1];  // 补上终止月不足天数
```
* **解读**：先计算整年，再对起止月份做差分调整，避免复杂边界判断。`months`数组存储累计天数提升效率。  
* 💡 **学习笔记**：时间计算可拆解为"整体估算+局部校准"

---

#### 5. 算法可视化：像素动画演示
**主题**：《时间冒险者》8-bit像素风时间计算模拟  
**核心演示**：  
1. **场景**：左侧沙漏（时间流逝），右侧题库（彩色方块表题目耗时）  
2. **关键帧**：  
   - **帧1**：初始化显示起止日期（复古LED字体），沙漏开始下落像素沙粒  
   - **帧2**：年份计算（跳转年份数字，闰年时沙漏变金色）  
   - **帧3**：月份处理（显示月份转盘，2月闰年时出现✨特效）  
   - **帧4**：题目选择（小方块优先飞入"完成区"，伴随8-bit音效）  
3. **交互控制**：  
   - 速度滑块：调节计算速度  
   - 暂停/继续：冻结动画  
   - 模式切换：对比不同解法的时间计算差异  
4. **音效设计**：  
   - 沙沙声：时间流逝  
   - 清脆"叮!"：完成题目  
   - 低沉嗡鸣：闰年判断  
5. **技术实现**：  
   ```javascript
   // 伪代码：绘制闰年判断帧
   function drawLeapYear(year) {
     if (year % 400 == 0) playSound('leap'); // 播放特殊音效
     ctx.fillStyle = (isLeap(year)) ? '#FFD700' : '#FFFFFF'; // 金色/白色
     drawPixelText(year, x, y); // 8-bit字体渲染
   }
   ```

---

#### 6. 拓展练习
1. **洛谷 P1015 [NOIP1999] 回文数**  
   🗣️ 日期计算基础应用，巩固循环与进位处理  
2. **洛谷 P1223 排队接水**  
   🗣️ 强化贪心思想，学习时间调度策略  
3. **洛谷 P1046 陶陶摘苹果**  
   🗣️ 结合时间窗口与选择策略的变形题  

---

#### 7. 学习心得分享
> **傅思维666 经验**："多退少补思想让我避免了许多边界坑，建议先用小数据模拟流程"  
> **Kay点评**：调试日期题时，可打印中间变量（如每年/月累加值），用2000-02-29等特殊日期验证闰年逻辑。

---  
掌握时间计算与贪心策略，你也能成为刷题时间管理大师！下次见！ 🕹️

---
处理用时：97.03秒
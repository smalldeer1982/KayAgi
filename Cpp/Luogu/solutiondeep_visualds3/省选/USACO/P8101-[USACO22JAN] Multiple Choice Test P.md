# é¢˜ç›®ä¿¡æ¯

# [USACO22JAN] Multiple Choice Test P

## é¢˜ç›®æè¿°

å¥¶ç‰›ä»¬æ­£åœ¨å‚åŠ ä¸€ä¸ªé€‰æ‹©é¢˜æµ‹è¯•ã€‚åœ¨é€šå¸¸çš„æµ‹è¯•ä¸­ï¼Œå¯¹æ¯ä¸ªé—®é¢˜ä½ çš„é€‰é¡¹ä¼šè¢«å•ç‹¬è¯„åˆ†ç„¶åç´¯åŠ ï¼Œè€Œåœ¨æ­¤æµ‹è¯•ä¸­ï¼Œä½ çš„é€‰é¡¹åœ¨ç´¯åŠ ä¹‹åå†è¯„åˆ†ã€‚

å…·ä½“åœ°è¯´ï¼Œä½ è¢«ç»™å®šäºŒç»´å¹³é¢ä¸Šçš„ $N$ï¼ˆ$2 \le N \le 10^5$ï¼‰ç»„æ•´æ•°å‘é‡ï¼Œå…¶ä¸­æ¯ä¸ªå‘é‡ç”¨ä¸€ä¸ªæœ‰åºå¯¹ $(x,y)$ è¡¨ç¤ºã€‚ä»æ¯ç»„ä¸­é€‰æ‹©ä¸€ä¸ªå‘é‡ï¼Œä½¿å‘é‡çš„æ€»å’Œå°½å¯èƒ½è¿œç¦»åŸç‚¹ã€‚

è¾“å…¥ä¿è¯å‘é‡çš„æ€»æ•°ä¸è¶…è¿‡ $2 \times 10^5$ã€‚æ¯ç»„è‡³å°‘åŒ…å« $2$ ä¸ªå‘é‡ï¼Œå¹¶ä¸”ä¸€ç»„å†…æ‰€æœ‰å‘é‡å„ä¸ç›¸åŒã€‚è¾“å…¥åŒæ—¶ä¿è¯æ¯ä¸ª $x$ å’Œ $y$ åæ ‡çš„ç»å¯¹å€¼ä¸è¶…è¿‡ $\dfrac{10^9}{N}$ã€‚

## è¯´æ˜/æç¤º

ã€æ ·ä¾‹è§£é‡Šã€‘

æœ€ä¼˜æ–¹æ¡ˆæ˜¯ä»ç¬¬ä¸€ç»„é€‰æ‹© $(1,0)$ï¼Œä»ç¬¬äºŒç»„ä¸­é€‰æ‹© $(0,1)$ï¼Œä»ç¬¬ä¸‰ç»„é€‰æ‹© $(10,10)$ã€‚è¿™äº›å‘é‡ä¹‹å’Œç­‰äº $(11,11)$ï¼Œä¸åŸç‚¹çš„è·ç¦»å¹³æ–¹ç­‰äº $11^2+11^2=242$ã€‚

ã€æ•°æ®èŒƒå›´ã€‘

- æµ‹è¯•ç‚¹ 1-5 ä¸­ï¼Œå‘é‡çš„æ€»æ•°ä¸è¶…è¿‡ $10^3$ã€‚
- æµ‹è¯•ç‚¹ 6-9 ä¸­ï¼Œæ¯ä¸€ç»„æ°å¥½åŒ…å« $2$ ä¸ªå‘é‡ã€‚
- æµ‹è¯•ç‚¹ 10-17 æ²¡æœ‰é¢å¤–é™åˆ¶ã€‚

ä¾›é¢˜ï¼šBenjamin Qi

## æ ·ä¾‹ #1

### è¾“å…¥

```
3

2
-2 0
1 0

2
0 -2
0 1

3
-5 -5
5 1
10 10```

### è¾“å‡º

```
242```

# AIåˆ†æç»“æœ


### Kayçš„C++ç®—æ³•è§£æï¼šMultiple Choice Test P æ·±å…¥å­¦ä¹ æŒ‡å—

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå‡¸åŒ…ä¸é—µå¯å¤«æ–¯åŸºå’Œï¼ˆè®¡ç®—å‡ ä½•ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³æœ¬é¢˜çš„å…³é”®åœ¨äºç†è§£**å‡¸åŒ…çš„æ€§è´¨**å’Œ**é—µå¯å¤«æ–¯åŸºå’Œ**çš„åº”ç”¨ã€‚æƒ³è±¡ä½ æœ‰å¤šç»„å®çŸ³ï¼ˆå‘é‡ç»„ï¼‰ï¼Œæ¯ç»„è¦é€‰ä¸€é¢—å®çŸ³ï¼Œç›®æ ‡æ˜¯è®©æ‰€æœ‰å®çŸ³æ‹¼æˆçš„ç‹å† é¡¶ç‚¹ç¦»å®ç®±ï¼ˆåŸç‚¹ï¼‰æœ€è¿œã€‚  
> æ ¸å¿ƒæ€è·¯åˆ†ä¸‰æ­¥ï¼š
> 1. **å‡¸åŒ…æ„å»º**ï¼šå¯¹æ¯ç»„å‘é‡æ„å»ºå‡¸åŒ…ï¼ˆåªä¿ç•™"å¤–å›´"çš„å‘é‡ï¼‰ï¼Œå°±åƒç”¨æ©¡çš®ç­‹åœˆå‡ºæ¯ç»„å®çŸ³çš„è¾¹ç•Œ
> 2. **é—µå¯å¤«æ–¯åŸºå’Œ**ï¼šå°†æ‰€æœ‰å‡¸åŒ…çš„è¾¹æŒ‰æ–¹å‘æ’åºåé¦–å°¾ç›¸æ¥ï¼Œå½¢æˆæ–°çš„"è¶…çº§å‡¸åŒ…"
> 3. **éå†æ±‚è§£**ï¼šä»èµ·ç‚¹ï¼ˆå„ç»„ç¬¬ä¸€ä¸ªå‡¸åŒ…ç‚¹ä¹‹å’Œï¼‰å‡ºå‘ï¼Œæ²¿æ’åºåçš„è¾¹èµ°ï¼Œè®°å½•ç¦»åŸç‚¹æœ€è¿œçš„ç‚¹
>
> **å¯è§†åŒ–è®¾è®¡**ï¼šé‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼ˆå¦‚FCæ¸¸æˆï¼‰
> - å®çŸ³ç”¨å½©è‰²åƒç´ å—è¡¨ç¤ºï¼Œå‡¸åŒ…ç”¨å‘å…‰è¾¹æ¡†
> - é—µå¯å¤«æ–¯åŸºå’Œè¿‡ç¨‹ï¼šæ˜¾ç¤ºå½“å‰ç‚¹æ²¿ç®­å¤´ç§»åŠ¨è½¨è¿¹ï¼Œä¼´éš"å®"çš„éŸ³æ•ˆ
> - æ§åˆ¶é¢æ¿ï¼šé€Ÿåº¦æ»‘å—/å•æ­¥æŒ‰é’®ï¼ŒæˆåŠŸæ—¶æ’­æ”¾ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹è¿‡å…³éŸ³æ•ˆ

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼šAlex_Weiï¼‰**
* **ç‚¹è¯„**ï¼šæ€è·¯æœ€æ¸…æ™°â€”â€”ç›´æ¥ç‚¹æ˜"æœ€ä¼˜è§£åœ¨å‡¸åŒ…ä¸Š"çš„æ ¸å¿ƒæ€§è´¨ã€‚ä»£ç é‡‡ç”¨æè§’æ’åºæ³•æ±‚é—µå¯å¤«æ–¯åŸºå’Œï¼Œé¿å…å¤æ‚åˆå¹¶ï¼ˆå¤æ‚åº¦O(n log n)ï¼‰ã€‚å˜é‡å‘½åè§„èŒƒï¼ˆå¦‚`convexHull`ï¼‰ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆå‡¸åŒ…ç‚¹æ•°åˆ¤æ–­ï¼‰ã€‚äº®ç‚¹åœ¨äºæä¾›ä¸¤ç§å®ç°å¯¹æ¯”ï¼Œå¯å‘å¼åˆå¹¶å’Œç›´æ¥æ’åºï¼Œåè€…æ›´ç®€æ´é«˜æ•ˆã€‚

**é¢˜è§£äºŒï¼ˆä½œè€…ï¼šETHANKï¼‰**
* **ç‚¹è¯„**ï¼šæ¨¡å—åŒ–è®¾è®¡ä¼˜ç§€â€”â€”ç‹¬ç«‹`Convex()`å’Œ`Minkowski()`å‡½æ•°ä¾¿äºç†è§£ã€‚è¯¦ç»†æ³¨é‡Šè§£é‡Šå‰ç§¯æ„ä¹‰ï¼Œé€‚åˆåˆå­¦è€…ã€‚å®è·µä»·å€¼é«˜ï¼šå®Œæ•´å¤„ç†å‡¸åŒ…æ„å»ºã€è¾¹æå–ã€æ’åºå…¨æµç¨‹ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šAnonymelyï¼‰**
* **ç‚¹è¯„**ï¼šä»£ç æœ€ç®€æ´â€”â€”åˆ†æ²»æ³•æ±‚é—µå¯å¤«æ–¯åŸºå’Œå±•ç°ç®—æ³•ç¾æ„Ÿã€‚äº®ç‚¹åœ¨å‰ç§¯åˆ¤æ–­æ–¹å‘æ—¶å®Œå…¨ä½¿ç”¨æ•´æ•°è¿ç®—ï¼Œé¿å…æµ®ç‚¹è¯¯å·®ã€‚å­¦ä¹ ä»·å€¼é«˜ï¼š70è¡Œå†…å®Œæˆæ‰€æœ‰æ ¸å¿ƒé€»è¾‘ï¼Œå±•ç¤ºè®¡ç®—å‡ ä½•çš„ä¼˜é›…æ€§ã€‚

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹1ï¼šç†è§£å‡¸åŒ…çš„å¿…è¦æ€§**
   * **åˆ†æ**ï¼šä¸ºä»€ä¹ˆæœ€ä¼˜è§£ä¸€å®šåœ¨å‡¸åŒ…ä¸Šï¼Ÿåè¯ï¼šè‹¥åœ¨å‡¸åŒ…å†…éƒ¨ï¼Œå¿…å­˜åœ¨å‡¸åŒ…ä¸Šç‚¹ç¦»åŸç‚¹æ›´è¿œï¼ˆå¹³æ–¹è·ç¦»å‡½æ•°æ˜¯å‡¸å‡½æ•°ï¼‰ã€‚é¢˜è§£ä¸­éƒ½ç”¨`ConvexHull`å‡½æ•°å‰”é™¤å†…éƒ¨ç‚¹
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šå‡¸åŒ…æ˜¯ç¼©å°è§£ç©ºé—´çš„åˆ©å™¨

2. **éš¾ç‚¹2ï¼šé—µå¯å¤«æ–¯åŸºå’Œçš„å®ç°**
   * **åˆ†æ**ï¼šå¦‚ä½•åˆå¹¶å¤šå‡¸åŒ…ï¼Ÿå…³é”®æ˜¯å°†æ‰€æœ‰å‡¸åŒ…çš„è¾¹**æŒ‰æè§’æ’åº**ã€‚æ¯”è¾ƒå‡½æ•°éœ€å…ˆåˆ¤è±¡é™ï¼ˆé¿å…atan2ï¼‰ï¼Œå†ç”¨å‰ç§¯åˆ¤æ–¹å‘ã€‚å¦‚Alex_Weiä»£ç ï¼š
     ```cpp
     sort(edges, [](Pt a, Pt b) {
         if(a.dir() != b.dir()) return a.dir();
         return a.cross(b) > 0; 
     });
     ```
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šæè§’æ’åºæ˜¯é—µå¯å¤«æ–¯åŸºå’Œçš„çµé­‚

3. **éš¾ç‚¹3ï¼šé¿å…é‡å¤è®¡ç®—**
   * **åˆ†æ**ï¼šéå†å‡¸åŒ…è¾¹æ—¶è¦æ³¨æ„é—­ç¯å¤„ç†ï¼ˆæœ«ç‚¹æŒ‡å‘é¦–ç‚¹ï¼‰ã€‚å¦‚ETHANKä»£ç ç”¨`(j+1)%size`å¤„ç†å¾ªç¯è¾¹ç•Œ
   * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šå–æ¨¡è¿ç®—æ˜¯å¾ªç¯è¾¹ç•Œçš„ä¸‡èƒ½é’¥åŒ™

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**ï¼š
- **æŠ€å·§1ï¼šå‘é‡è¿ç®—å°è£…**ï¼šå®šä¹‰`Pt`ç»“æ„ä½“é‡è½½`+ -`ï¼Œæé«˜å¯è¯»æ€§
- **æŠ€å·§2ï¼šæ•´æ•°è¿ç®—ä¼˜å…ˆ**ï¼šç”¨å‰ç§¯ä»£æ›¿ä¸‰è§’å‡½æ•°é¿å…ç²¾åº¦è¯¯å·®
- **æŠ€å·§3ï¼šåˆ†æ­¥éªŒè¯**ï¼šå…ˆå°è§„æ¨¡æ•°æ®éªŒè¯å‡¸åŒ…æ­£ç¡®æ€§

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆç»¼åˆä¼˜åŒ–ç‰ˆï¼‰**
```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

struct Pt { 
    int x, y;
    Pt operator+(Pt b) const { return {x+b.x, y+b.y}; }
    Pt operator-(Pt b) const { return {x-b.x, y-b.y}; }
    ll norm() const { return (ll)x*x + (ll)y*y; }
    ll cross(Pt b) const { return (ll)x*b.y - (ll)y*b.x; }
    bool operator<(Pt b) const { return x!=b.x ? x<b.x : y<b.y; }
};

// æ„å»ºå‡¸åŒ…ï¼ˆAndrewç®—æ³•ï¼‰
void convexHull(vector<Pt>& pts) {
    sort(pts.begin(), pts.end());
    vector<Pt> hull;
    for (int phase=0; phase<2; ++phase) {
        int start = hull.size();
        for (Pt p : pts) {
            while (hull.size() >= start+2) {
                Pt a = hull.back(), b = *(hull.end()-2);
                if ((a-b).cross(p-a) <= 0) break;
                hull.pop_back();
            }
            hull.push_back(p);
        }
        hull.pop_back(); // ç§»é™¤é‡å¤èµ·ç‚¹
        reverse(pts.begin(), pts.end());
    }
    pts = hull;
}

int main() {
    int n; cin >> n;
    Pt sum = {0,0};
    vector<Pt> edges;
    
    while (n--) {
        int k; cin >> k;
        vector<Pt> group(k);
        for (auto& p : group) cin >> p.x >> p.y;
        
        convexHull(group); // ç»„å†…å‡¸åŒ…
        
        sum = sum + group[0]; // ç´¯åŠ èµ·å§‹ç‚¹
        for (int i=0; i<group.size(); i++) {
            Pt edge = group[(i+1)%group.size()] - group[i];
            edges.push_back(edge);
        }
    }
    
    // æè§’æ’åºï¼ˆé¿å…æµ®ç‚¹è¯¯å·®ï¼‰
    sort(edges.begin(), edges.end(), [](Pt a, Pt b) {
        int qa = (a.y>0 || (a.y==0 && a.x>0)) ? 0 : 1; // è±¡é™
        int qb = (b.y>0 || (b.y==0 && b.x>0)) ? 0 : 1;
        return qa != qb ? qa < qb : a.cross(b) > 0;
    });
    
    ll ans = sum.norm();
    for (auto e : edges) {
        sum = sum + e;
        ans = max(ans, sum.norm());
    }
    cout << ans;
}
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š
- å‘é‡è¿ç®—å°è£…ï¼š`Pt`ç»“æ„ä½“é‡è½½è¿ç®—ç¬¦
- å‡¸åŒ…æ„å»ºï¼šAndrewç®—æ³•ï¼ˆå…ˆæ’åºï¼ŒåŒå‘å¾€è¿”æ‰«æï¼‰
- é—µå¯å¤«æ–¯åŸºå’Œï¼šæå–å‡¸åŒ…è¾¹ â†’ æè§’æ’åº â†’ æ²¿è¾¹èµ°æ›´æ–°ç­”æ¡ˆ

---

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
* **ä¸»é¢˜**ï¼šã€Šå‘é‡å‹‡å£«çš„å®çŸ³ç‹å† ã€‹ï¼ˆ8ä½åƒç´ é£ï¼‰
* **æ ¸å¿ƒæ¼”ç¤º**ï¼šå‡¸åŒ…æ„å»º + é—µå¯å¤«æ–¯åŸºå’Œéå†
* **è®¾è®¡é€»è¾‘**ï¼š
  ```mermaid
  graph TD
    A[åˆå§‹åŒ–] --> B[æ˜¾ç¤ºå„ç»„å®çŸ³]
    B --> C[å‡¸åŒ…æ„å»ºåŠ¨ç”»]
    C --> D[æ˜¾ç¤ºå‡¸åŒ…è½®å»“]
    D --> E[é—µå¯å¤«æ–¯åŸºå’Œè¡Œèµ°]
  ```

**åŠ¨ç”»å…³é”®å¸§**ï¼š
1. **å®çŸ³å±•ç¤º**ï¼ˆå¤å¤åƒç´ é£ï¼‰
   - æ¯ç»„å®çŸ³ä¸åŒé¢œè‰²ï¼ˆçº¢/è“/ç»¿16ä½è‰²å—ï¼‰
   - å‡¸åŒ…æ„å»ºï¼šå½“å‰æ‰«æç‚¹é«˜äº®é»„è‰²ï¼Œæ ˆå†…ç‚¹è¿å‘å…‰ç»¿çº¿
   - éŸ³æ•ˆï¼šå…¥æ ˆ"å®"ï¼Œå‡ºæ ˆ"å™—"

2. **é—µå¯å¤«æ–¯åŸºè¡Œèµ°**ï¼ˆè‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼ï¼‰
   - è§’è‰²ï¼šåƒç´ å°äººä»åŸç‚¹å‡ºå‘
   - è·¯å¾„ï¼šæ²¿æ’åºåçš„è¾¹èµ°ï¼ˆæ¯æ­¥æ˜¾ç¤ºå½“å‰è¾¹å‘é‡ï¼‰
   - åŠ¨æ€æ•°æ®ï¼šå³ä¸Šè§’æ˜¾ç¤ºå½“å‰åæ ‡å’Œè·ç¦»å¹³æ–¹
   - é«˜äº®è§„åˆ™ï¼šå½“å‰è¾¹çº¢è‰²ç®­å¤´ï¼Œå†å²è·¯å¾„ç°è‰²è™šçº¿

3. **äº¤äº’æ§åˆ¶**ï¼ˆåº•éƒ¨é¢æ¿ï¼‰
   - é€Ÿåº¦æ»‘å—ï¼š0.5x~4x
   - å•æ­¥æŒ‰é’®ï¼šæ­¥è¿›æ—¶æ˜¾ç¤ºå‰ç§¯è®¡ç®—è¿‡ç¨‹
   - æˆåŠŸç‰¹æ•ˆï¼šåˆ°è¾¾æœ€è¿œç‚¹æ—¶åƒç´ çƒŸèŠ± + ã€Šå¡å°”è¾¾ã€‹èƒœåˆ©éŸ³æ•ˆ

---

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
1. **æ´›è°· P4557 [JSOI2018]æˆ˜äº‰**  
   ğŸ—£ï¸ æ¨èç†ç”±ï¼šå‡¸åŒ…+é—µå¯å¤«æ–¯åŸºå’Œçš„ç›´æ¥åº”ç”¨ï¼Œåˆ¤æ–­ç‚¹æ˜¯å¦åœ¨åˆå¹¶å‡¸åŒ…å†…
   
2. **æ´›è°· P3829 [SHOI2012]ä¿¡ç”¨å¡å‡¸åŒ…**  
   ğŸ—£ï¸ æ¨èç†ç”±ï¼šå‡¸åŒ…åŸºç¡€åº”ç”¨ï¼Œå¤„ç†åœ†å¼§è¾¹ç•Œè½¬åŒ–ä¸ºçº¯å‡¸åŒ…é—®é¢˜

3. **æ´›è°· P2521 [HAOI2011]é˜²çº¿ä¿®å»º**  
   ğŸ—£ï¸ æ¨èç†ç”±ï¼šåŠ¨æ€å‡¸åŒ…ç»´æŠ¤ï¼ŒæŒæ¡`set`ç»´æŠ¤ä¸Šä¸‹å‡¸å£³çš„æŠ€å·§

---

#### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **Alex_Weiçš„è°ƒè¯•ç»éªŒ**ï¼š"æœ€åˆåœ¨å‡¸åŒ…é—­ç¯å¤„ç†ä¸Šå¡äº†å¾ˆä¹…ï¼Œé€šè¿‡æ‰“å°æ¯ä¸ªå‡¸åŒ…çš„è¾¹å‘é‡æ‰å‘ç°æœ«ç‚¹æœªæŒ‡å‘é¦–ç‚¹"  
>   
> **Kayç‚¹è¯„**ï¼šè¿™æ˜¯è®¡ç®—å‡ ä½•çš„å¸¸è§é™·é˜±ï¼å»ºè®®ï¼š
> 1. å°æ•°æ®éªŒè¯ï¼šç”¨3ä¸ªç‚¹äººå·¥éªŒè¯å‡¸åŒ…æ˜¯å¦æ­£ç¡®é—­ç¯
> 2. å¯è§†åŒ–è°ƒè¯•ï¼šæ‰“å°æ¯ä¸ªå‡¸åŒ…çš„è¾¹å‘é‡ï¼ˆå¦‚`(1,0)â†’(0,1)`ï¼‰
> 3. é˜²å¾¡æ€§ç¼–ç¨‹ï¼šç”¨`assert(group.size()>0)`é¿å…ç©ºç»„

---

> ç®—æ³•å¦‚å®çŸ³ï¼Œéœ€è¦ç²¾å¿ƒé›•ç¢ã€‚å½“ä½ ç†è§£å‡¸åŒ…å¦‚ä½•å‰ªæè§£ç©ºé—´ï¼Œé—µå¯å¤«æ–¯åŸºå’Œå¦‚ä½•åˆå¹¶è·¯å¾„ï¼Œä¾¿æŒæ¡äº†è®¡ç®—å‡ ä½•çš„åˆ©åˆƒï¼ä¸‹æ¬¡æŒ‘æˆ˜è§ï¼âœ¨

---
å¤„ç†ç”¨æ—¶ï¼š167.59ç§’
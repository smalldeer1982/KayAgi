# é¢˜ç›®ä¿¡æ¯

# [USACO06FEB] Steady Cow Assignment G

## é¢˜ç›®æè¿°

å†œå¤«çº¦ç¿°çš„ $N$ å¤´ç‰›ï¼ˆ$1 \leq N \leq 1000$ï¼‰å„è‡ªå±…ä½åœ¨ $B$ ä¸ªè°·ä»“ä¸­çš„ä¸€ä¸ªï¼ˆ$1 \leq B \leq 20$ï¼‰ï¼Œå½“ç„¶ï¼Œè°·ä»“çš„å®¹é‡æ˜¯æœ‰é™çš„ã€‚æœ‰äº›ç‰›éå¸¸å–œæ¬¢å¥¹ä»¬å½“å‰çš„è°·ä»“ï¼Œè€Œæœ‰äº›åˆ™ä¸å¤ªå¼€å¿ƒã€‚

FJ æƒ³è¦é‡æ–°å®‰æ’è¿™äº›ç‰›ï¼Œä½¿å¾—ç‰›ç¾¤çš„å¿«ä¹ç¨‹åº¦å°½å¯èƒ½å‡è¡¡ï¼Œå³ä½¿è¿™æ„å‘³ç€æ‰€æœ‰çš„ç‰›éƒ½è®¨åŒå¥¹ä»¬è¢«åˆ†é…çš„è°·ä»“ã€‚


æ¯å¤´ç‰›éƒ½ä¼šå‘Šè¯‰ FJ å¥¹å¯¹è°·ä»“çš„åå¥½é¡ºåºã€‚ç‰›å¯¹ç‰¹å®šåˆ†é…çš„å¿«ä¹ç¨‹åº¦æ˜¯å¥¹å¯¹è¯¥è°·ä»“çš„æ’åã€‚ä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°ä¸€ç§å°†ç‰›åˆ†é…åˆ°è°·ä»“çš„æ–¹æ³•ï¼Œä½¿å¾—æ²¡æœ‰è°·ä»“çš„å®¹é‡è¢«è¶…å‡ºï¼Œå¹¶ä¸”ç‰›ç»™å¥¹ä»¬è¢«åˆ†é…çš„è°·ä»“çš„æ’åèŒƒå›´ï¼ˆå³æœ€é«˜æ’åè°·ä»“å’Œæœ€ä½æ’åè°·ä»“ä¹‹é—´çš„æ­£å·®åŠ ä¸€ï¼‰çš„å¤§å°å°½å¯èƒ½å°ã€‚


## è¯´æ˜/æç¤º

æ ·ä¾‹è§£é‡Šï¼š




æ¯å¤´ç‰›å¯ä»¥è¢«åˆ†é…åˆ°å¥¹ä»¬çš„ç¬¬ä¸€æˆ–ç¬¬äºŒé€‰æ‹©ï¼šè°·ä»“ 1 å¾—åˆ°ç‰› 1 å’Œ 5ï¼Œè°·ä»“ 2 å¾—åˆ°ç‰› 2ï¼Œè°·ä»“ 3 å¾—åˆ°ç‰› 4ï¼Œè°·ä»“ 4 å¾—åˆ°ç‰› 3 å’Œ 6ã€‚
ï¼ˆç”± ChatGPT 4o ç¿»è¯‘ï¼‰

## æ ·ä¾‹ #1

### è¾“å…¥

```
6 4
1 2 3 4
2 3 1 4
4 2 3 1
3 1 2 4
1 3 4 2
1 4 2 3
2 1 3 2```

### è¾“å‡º

```
2```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šSteady Cow Assignment G æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

**å¼•è¨€**  
ä»Šå¤©æˆ‘ä»¬æ¥åˆ†æâ€œSteady Cow Assignment Gâ€è¿™é“C++ç¼–ç¨‹é¢˜ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©å¤§å®¶æŒæ¡ç½‘ç»œæµå»ºæ¨¡ä¸äºŒåˆ†ç­”æ¡ˆçš„æ ¸å¿ƒæŠ€å·§ï¼Œé€šè¿‡åƒç´ åŠ¨ç”»ç›´è§‚ç†è§£ç®—æ³•æµç¨‹ï¼Œå¹¶æå‡è§£é¢˜èƒ½åŠ›ã€‚

---

### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`ç½‘ç»œæµ` + `äºŒåˆ†ç­”æ¡ˆ`  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> æœ¬é¢˜å¯æ¯”å–»ä¸ºâ€œé…’åº—åˆ†é…ç³»ç»Ÿâ€ï¼šç‰›æ˜¯å®¢äººï¼ˆåå¥½ä¸åŒé…’åº—ç­‰çº§ï¼‰ï¼Œç‰›æ£šæ˜¯é…’åº—æˆ¿é—´ï¼ˆå®¹é‡æœ‰é™ï¼‰ã€‚ç›®æ ‡æ˜¯æ‰¾åˆ°æœ€å°åå¥½è·¨åº¦ï¼ˆæœ€é«˜ä¸æœ€ä½æ»¡æ„åº¦çš„å·®å€¼ï¼‰ã€‚  
> - **æ ¸å¿ƒæ€è·¯**ï¼šäºŒåˆ†ç­”æ¡ˆç¡®å®šè·¨åº¦xï¼Œæšä¸¾åå¥½åŒºé—´[i, i+x-1]ï¼Œç”¨ç½‘ç»œæµéªŒè¯åˆ†é…å¯è¡Œæ€§  
> - **å¯è§†åŒ–è®¾è®¡**ï¼šåƒç´ åŠ¨ç”»å°†å±•ç¤ºç‰›â†’ç‰›æ£šçš„è¿çº¿è¿‡ç¨‹ï¼Œé«˜äº®å½“å‰æœç´¢è·¯å¾„ï¼Œæµé‡æ›´æ–°æ—¶æ’­æ”¾æ°´æµå£°ï¼ŒæˆåŠŸåˆ†é…æ—¶ç‰›æ£šå˜é‡‘è‰²å¹¶æ’­æ”¾èƒœåˆ©éŸ³æ•ˆ  
> - **å¤å¤å…ƒç´ **ï¼š8-bité£æ ¼ç½‘æ ¼ç•Œé¢ï¼Œæ§åˆ¶é¢æ¿æ”¯æŒå•æ­¥æ‰§è¡Œå’Œé€Ÿåº¦è°ƒèŠ‚ï¼ˆä»¿FCæ¸¸æˆUIï¼‰

---

### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼šHeartlesslyï¼ˆç½‘ç»œæµ+äºŒåˆ†ç­”æ¡ˆï¼‰**  
* **äº®ç‚¹**ï¼š  
  - æ€è·¯ç›´å‡»æœ¬è´¨ï¼šæ¸…æ™°æ‹†è§£äºŒåˆ†éªŒè¯æµç¨‹ï¼Œé…å›¾è¯´æ˜å»ºå›¾é€»è¾‘  
  - ä»£ç è§„èŒƒï¼šDinicå®ç°å½“å‰å¼§ä¼˜åŒ–ï¼Œå˜é‡å`f[i][j]`æ˜ç¡®è¡¨ç¤ºç‰›içš„ç¬¬jåå¥½  
  - å®è·µä»·å€¼ï¼šè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆå¦‚`i+x-1â‰¤b`ï¼‰ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›  

**é¢˜è§£äºŒï¼šçµåï¼ˆäºŒåˆ†ç­”æ¡ˆ+ç½‘ç»œæµï¼‰**  
* **äº®ç‚¹**ï¼š  
  - è°ƒè¯•æŠ€å·§çªå‡ºï¼šå¼ºè°ƒæ¯æ¬¡æšä¸¾åæ¸…ç©ºè¾¹çš„å…³é”®æ€§  
  - é²æ£’æ€§å¼ºï¼šäºŒåˆ†è¾¹ç•Œä»0å¼€å§‹è¦†ç›–æç«¯æƒ…å†µ  
  - ä»£ç å¯è¯»æ€§ï¼šä¸»å‡½æ•°é€»è¾‘åˆ†å±‚æ˜ç¡®ï¼Œé€‚åˆåˆå­¦è€…å­¦ä¹   

**é¢˜è§£ä¸‰ï¼šycyawï¼ˆæšä¸¾+ç½‘ç»œæµï¼‰**  
* **äº®ç‚¹**ï¼š  
  - å¤æ‚åº¦ä¼˜åŒ–ï¼šBè¾ƒå°æ—¶ç›´æ¥æšä¸¾æ›¿ä»£äºŒåˆ†ï¼Œå‡å°‘å¸¸æ•°å¼€é”€  
  - å·¥ç¨‹æ€ç»´ï¼šæ³¨é‡Šè­¦ç¤ºâ€œä¸ç”¨å½“å‰å¼§ä¼˜åŒ–ä¼šTLEâ€  
  - å°è£…æ„è¯†ï¼š`build()`å‡½æ•°éš”ç¦»å»ºå›¾é€»è¾‘  

---

### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹1ï¼šç½‘ç»œæµå»ºæ¨¡æŠ½è±¡**  
   * **åˆ†æ**ï¼šéœ€å°†ç‰›åå¥½â†’ç‰›æ£šå®¹é‡çš„ç‰©ç†çº¦æŸè½¬åŒ–ä¸ºä¸‰å±‚å›¾ç»“æ„ï¼ˆæºç‚¹â†’ç‰›â†’ç‰›æ£šâ†’æ±‡ç‚¹ï¼‰ã€‚ä¼˜è´¨é¢˜è§£é€šè¿‡`addEdge`é€å±‚æ„å»ºï¼Œç”¨å®¹é‡1ä¿è¯å•ç‰›å•æ£š  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç½‘ç»œæµå»ºæ¨¡æœ¬è´¨æ˜¯å»ºç«‹"æµé‡å®ˆæ’"çš„çº¦æŸç³»ç»Ÿ  

2. **éš¾ç‚¹2ï¼šäºŒåˆ†ç­”æ¡ˆçš„éªŒè¯é€»è¾‘**  
   * **åˆ†æ**ï¼šéªŒè¯è·¨åº¦xæ—¶ï¼Œéœ€æšä¸¾æ‰€æœ‰[i, i+x-1]åŒºé—´ã€‚Heartlesslyé¢˜è§£ç”¨`check(x)`å‡½æ•°å°è£…Dinicè°ƒç”¨ï¼Œé€šè¿‡`maxFlow==n`å¿«é€Ÿåˆ¤æ–­å¯è¡Œæ€§  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå½“ç­”æ¡ˆå…·å•è°ƒæ€§æ—¶ï¼ŒäºŒåˆ†å¯æŒ‡æ•°çº§åŠ é€Ÿæœç´¢  

3. **éš¾ç‚¹3ï¼šç®—æ³•æ•ˆç‡ä¼˜åŒ–**  
   * **åˆ†æ**ï¼šå½“å‰å¼§ä¼˜åŒ–æ˜¯Dinicæ•ˆç‡å…³é”®ã€‚ycyawåœ¨`dfs`ä¸­ç»´æŠ¤`cur[]`æ•°ç»„ï¼Œé¿å…é‡å¤è®¿é—®æ— æ•ˆè¾¹  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç½‘ç»œæµé¢˜ç›®éœ€ä¼˜å…ˆè€ƒè™‘å½“å‰å¼§ä¼˜åŒ–  

#### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é—®é¢˜åˆ†è§£**ï¼šå°†æœ€å°è·¨åº¦é—®é¢˜æ‹†è§£ä¸º"éªŒè¯+ä¼˜åŒ–"ä¸¤ä¸ªå­é—®é¢˜  
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šåˆ†ç¦»ç½‘ç»œæµä»£ç ä¸ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚çµåçš„`build()`å‡½æ•°ï¼‰  
- **è¾¹ç•Œé˜²å¾¡**ï¼šæ˜¾å¼å¤„ç†`i+x-1>b`ç­‰è¶Šç•Œåœºæ™¯ï¼ˆHeartlesslyï¼‰  

---

### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**é€šç”¨æ ¸å¿ƒå®ç°å‚è€ƒ**  
```cpp
// è¯´æ˜ï¼šç»¼åˆä¼˜è´¨é¢˜è§£çš„æœ€ç®€Dinicå®ç°ï¼Œå«å½“å‰å¼§ä¼˜åŒ–
#include <bits/stdc++.h>
using namespace std;
const int MAXN=1200, INF=0x3f3f3f3f;

struct Edge { int v, f, rev; };
vector<Edge> G[MAXN];
int level[MAXN], cur[MAXN];

bool bfs(int s, int t) { /* åˆ†å±‚... */ }
int dfs(int u, int t, int flow) { /* å½“å‰å¼§ä¼˜åŒ–æœç´¢... */ }
int dinic(int s, int t) { 
    int res=0; 
    while(bfs(s,t)) res+=dfs(s,t,INF); 
    return res;
}

bool check(int x, vector<vector<int>>& pref, vector<int>& cap) {
    for(int i=1; i+x-1<=B; ++i) {
        // å»ºå›¾ï¼šæºç‚¹â†’ç‰›â†’ç‰›æ£šâ†’æ±‡ç‚¹
        for(int j=1; j<=N; ++j) {
            addEdge(S, j, 1); // æºç‚¹åˆ°ç‰›
            for(int k=i; k<i+x; ++k) // åå¥½åŒºé—´
                addEdge(j, pref[j][k]+N, 1); 
        }
        for(int j=1; j<=B; ++j) 
            addEdge(j+N, T, cap[j]); // ç‰›æ£šåˆ°æ±‡ç‚¹
        return dinic(S,T)==N; // éªŒè¯åˆ†é…
    }
}
```

**é¢˜è§£ä¸€ç‰‡æ®µèµæ**  
```cpp
// Heartlesslyï¼šäºŒåˆ†ç­”æ¡ˆæ¡†æ¶
int main() {
    for(int l=1, r=b, mid; l<=r; ) {
        mid=(l+r)>>1;
        if(check(mid)) ans=mid, r=mid-1; 
        else l=mid+1;
    }
    cout << ans;
}
```
> **ä»£ç è§£è¯»**ï¼š  
> - `mid=(l+r)>>1`ï¼šä½è¿ç®—åŠ é€ŸäºŒåˆ†ä¸­ç‚¹è®¡ç®—  
> - `check(mid)`ï¼šå°è£…ç½‘ç»œæµéªŒè¯ï¼Œä¿æŒä¸»å‡½æ•°ç®€æ´  
> - **å­¦ä¹ ç¬”è®°**ï¼šæ•´æ•°äºŒåˆ†æ¨¡æ¿éœ€æ³¨æ„è¾¹ç•Œæ”¶æ•›æ¡ä»¶  

---

### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**ä¸»é¢˜**ï¼š`åƒç´ ç‰›æ£šåˆ†é…å¤§å†’é™©`  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šDinicç®—æ³•åœ¨8-bitç½‘æ ¼ä¸­çš„åŠ¨æ€æ‰§è¡Œ  

```plaintext
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æºç‚¹        â”‚    â”‚ç‰›1â”‚    â”‚  ç‰›æ£š1       â”‚
â”‚  (è“è‰²)     â”œâ”€â”€â”€â–ºâ”œâ”€â”€â”€â”¤â”€â”€â”€â–ºâ”œâ”€â”€â”€â”¤ (å®¹é‡:2) â”‚
â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚       â–²          â–²         â”‚
       â”‚       â”‚          â”‚         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ±‡ç‚¹       â”‚    â”‚ç‰›2â”‚    â”‚  ç‰›æ£š2       â”‚
â”‚  (çº¢è‰²)     â”‚â—„â”€â”€â”€â”œâ”€â”€â”€â”¤â—„â”€â”€â”€â”¤ (å®¹é‡:1)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤äº’è®¾è®¡**ï¼š  
1. **åˆå§‹åŒ–é˜¶æ®µ**ï¼š  
   - ç‰›/ç‰›æ£šæ˜¾ç¤ºä¸ºåƒç´ æ–¹å—ï¼ˆç‰›ï¼šé»„è‰²ï¼Œç‰›æ£šï¼šç»¿è‰²ï¼‰  
   - æ§åˆ¶é¢æ¿å«é€Ÿåº¦æ»‘å—å’Œå•æ­¥æŒ‰é’®ï¼ˆå¤å¤FCé£æ ¼ï¼‰  

2. **ç®—æ³•æ‰§è¡Œ**ï¼š  
   - **æ­¥éª¤é«˜äº®**ï¼šå½“å‰æœç´¢è·¯å¾„é—ªçƒçº¢å…‰ï¼Œæµé‡æ›´æ–°æ—¶æ’­æ”¾"æ»´ç­”"éŸ³æ•ˆ  
   - **æ•°æ®ç»“æ„å¯è§†åŒ–**ï¼šé˜Ÿåˆ—ä»¥åƒç´ æ–¹å—å †å å±•ç¤ºï¼Œå½“å‰å¼§æŒ‡é’ˆç”¨ç®­å¤´æ ‡è®°  
   - **æ¸¸æˆåŒ–åé¦ˆ**ï¼šæ¯åˆ†é…ä¸€å¤´ç‰›æ’­æ”¾â€œå®â€å£°ï¼Œæ»¡æµæ—¶ç‰›æ£šå˜é‡‘è‰²+èƒœåˆ©éŸ³æ•ˆ  

3. **è°ƒè¯•æ¨¡å¼**ï¼š  
   - æ”¯æŒæš‚åœæŸ¥çœ‹å±‚çº§å›¾(`level[]`)å’Œå½“å‰å¼§çŠ¶æ€  
   - é”™è¯¯è·¯å¾„æ˜¾ç¤º"X"å›¾æ ‡å¹¶æ’­æ”¾ä½æ²‰éŸ³æ•ˆ  

---

### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ
**æŠ€å·§è¿ç§»åœºæ™¯**ï¼š  
1. èµ„æºåˆ†é…ï¼ˆå¦‚P2756é£è¡Œå‘˜é…å¯¹ï¼‰  
2. äºŒåˆ†å›¾åŒ¹é…ï¼ˆå¦‚P3386ï¼‰  
3. å¸¦å®¹é‡é™åˆ¶çš„è°ƒåº¦é—®é¢˜  

**æ´›è°·æ¨è**ï¼š  
1. **P2756** - é£è¡Œå‘˜é…å¯¹æ–¹æ¡ˆé—®é¢˜  
   ğŸ—£ï¸ *å·©å›ºåŸºç¡€äºŒåˆ†å›¾åŒ¹é…å»ºæ¨¡*  
2. **P3254** - åœ†æ¡Œé—®é¢˜  
   ğŸ—£ï¸ *å­¦ä¹ å¤šå±‚å®¹é‡ç½‘ç»œæµè®¾è®¡*  
3. **P2763** - è¯•é¢˜åº“é—®é¢˜  
   ğŸ—£ï¸ *æ‹“å±•å¤šçº¦æŸæ¡ä»¶ä¸‹çš„èµ„æºåˆ†é…*  

---

### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **æ¥è‡ªycyawçš„è°ƒè¯•ç»éªŒ**ï¼š  
> *â€œä¸ç”¨å½“å‰å¼§ä¼˜åŒ–åœ¨B=20æ—¶ä¹Ÿä¼šTLEï¼Œçœ‹ä¼¼å°çš„å¸¸æ•°é¡¹åœ¨å¤šæ¬¡æšä¸¾ä¸­ä¼šæŒ‡æ•°æ”¾å¤§â€*  
>  
> **ç‚¹è¯„**ï¼š  
> ç½‘ç»œæµä¼˜åŒ–éœ€è­¦æƒ•éšæ€§æ—¶é—´å¤æ‚åº¦ï¼ŒéªŒè¯ç®—æ³•æ—¶éœ€æ„é€ è¾¹ç•Œæ•°æ®æµ‹è¯•  

---

**ç»“è¯­**  
é€šè¿‡æœ¬æŒ‡å—ï¼Œç›¸ä¿¡å¤§å®¶å·²æŒæ¡ç½‘ç»œæµå»ºæ¨¡ä¸äºŒåˆ†ç­”æ¡ˆçš„æ ¸å¿ƒæŠ€å·§ã€‚è®°ä½ï¼šå¤æ‚é—®é¢˜åˆ†è§£+æ¨¡å—åŒ–ç¼–ç æ˜¯ç®—æ³•è®¾è®¡çš„åˆ©å™¨ã€‚ä¸‹æ¬¡æŒ‘æˆ˜è§ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š149.22ç§’
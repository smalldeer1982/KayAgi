# é¢˜ç›®ä¿¡æ¯

# [POI 2008] KUP-Plot purchase

## é¢˜ç›®æè¿°

Byteasar is going to buy an industrial plot.

His fortune is estimated at $k$ bythalers and this is exactly the amount    Byteasar would like to spend on the parcel.

Finding a parcel worth exactly $k$ bythalers, however, is not an easy task.

For this reason Byteasar is ready to buy a more expensive plot.

He considers taking out a loan. The Byteotian Credit Bank will grant him    a loan of up to $k$ bythalers. Thus, Byteasar can spend no more than $2k$    bythalers on the parcel and he would like to spend no less than $k$ bythalers.

The area in which Byteasar wants to buy his parcel is a square with side    length of $n$ metres. The current landlords have set up various prices per square metre. Byteasar has spoken to each one of them and has then prepared a price map    of the area. The map depicts the price of every metre by metre square. Clearly, there    are $n^2$ such squares. Now is the time to find the dream parcel. It has to be rectangular and consist of whole unit squares. Byteasar has already started looking for the plot on the map,    but after many hours he was still unable to find a suitable one. Be a chap and help him!

<Task> 

Write a programme that:

reads the numbers $k$ and $n$ from the standard input,  along with the price map of the area, determines a parcel with price in the interval $[k,2k]$ or states that no such parcel exists, writes out the result to the standard output.



## è¯´æ˜/æç¤º


ç»™å®š $k,n$ å’Œ $n\times n$ çš„çŸ©é˜µï¼Œæ±‚ä¸€ä¸ªå­çŸ©å½¢æ»¡è¶³æƒå€¼å’Œåœ¨ $[k,2k]$ ä¹‹é—´ã€‚

$n<2000$ï¼Œ$1\le k\le10^9$ï¼Œæ¯ä¸ªä»·æ ¼éƒ½æ˜¯ä¸å¤§äº$2 \times 10^9$ çš„éè´Ÿæ•´æ•°ã€‚

æ„Ÿè°¢@cnï¼šè‹å¿å¿µ æä¾›çš„spj

## æ ·ä¾‹ #1

### è¾“å…¥

```
8 4
1 2 1 3
25 1 2 1
4 20 3 3
3 30 12 2```

### è¾“å‡º

```
2 1 4 2```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[POI2008] KUP-Plot purchase æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š**å•è°ƒæ ˆæ±‚æœ€å¤§å­çŸ©å½¢**ï¼ˆç»“åˆå‰ç¼€å’Œä¸åˆ‡å‰²ç­–ç•¥ï¼‰


### ğŸ—£ï¸ åˆæ­¥åˆ†æ
è§£å†³â€œå¯»æ‰¾å­çŸ©å½¢å’Œåœ¨[k,2k]ä¹‹é—´â€çš„é—®é¢˜ï¼Œå…³é”®åœ¨äº**ä¸¤æ­¥èµ°**ï¼š  
1. **æ’é™¤æ— æ•ˆå…ƒç´ **ï¼š  
   - è‹¥æŸä¸ªå…ƒç´ æœ¬èº«åœ¨[k,2k]ä¹‹é—´ï¼Œç›´æ¥è¾“å‡ºï¼ˆè¿™æ˜¯æœ€ç®€å•çš„è§£ï¼‰ï¼›  
   - è‹¥å…ƒç´ å¤§äº2kï¼Œè§†ä¸ºâ€œéšœç¢ç‰©â€ï¼ˆä¸èƒ½å‡ºç°åœ¨ä»»ä½•æœ‰æ•ˆå­çŸ©å½¢ä¸­ï¼‰ã€‚  
2. **æ‰¾æœ€å¤§æœ‰æ•ˆå­çŸ©å½¢**ï¼š  
   å‰©ä¸‹çš„å…ƒç´ éƒ½å°äºkï¼Œæ­¤æ—¶éœ€è¦æ‰¾åˆ°ç”±è¿™äº›å…ƒç´ ç»„æˆçš„**æœ€å¤§å­çŸ©å½¢**ï¼ˆå’Œâ‰¥kï¼‰ã€‚å› ä¸ºæ¯ä¸ªå…ƒç´ éƒ½å°äºkï¼Œæ‰€ä»¥è¿™ä¸ªæœ€å¤§å­çŸ©å½¢çš„å’Œå¿…ç„¶å¤§äºç­‰äºkï¼ˆå¦åˆ™æ— è§£ï¼‰ï¼Œä¸”å¯ä»¥é€šè¿‡**é€è¡Œ/é€åˆ—åˆ‡å‰²**å¾—åˆ°ç¬¦åˆæ¡ä»¶çš„å­çŸ©å½¢ï¼ˆå’Œåœ¨[k,2k]ä¹‹é—´ï¼‰ã€‚  

**ä¸ºä»€ä¹ˆåˆ‡å‰²æœ‰æ•ˆï¼Ÿ**  
æƒ³è±¡ä¸€ä¸ªâ€œæ´‹è‘±â€ï¼šæœ€å¤§å­çŸ©å½¢çš„å’Œ>2kï¼Œæˆ‘ä»¬é€è¡Œï¼ˆæˆ–é€åˆ—ï¼‰åˆ æ‰æœ€ä¸Šé¢çš„ä¸€è¡Œï¼ˆæˆ–æœ€å³è¾¹çš„ä¸€åˆ—ï¼‰ã€‚ç”±äºæ¯ä¸€è¡Œçš„å’Œ<kï¼ˆå› ä¸ºæ¯ä¸ªå…ƒç´ <kï¼Œè¡Œé•¿åº¦â‰¤nï¼Œä½†æ€»å’Œ<kï¼‰ï¼Œæ‰€ä»¥åˆ æ‰ä¸€è¡Œåï¼Œå‰©ä¸‹çš„å’Œä¼šä»>2ké€æ¸é™åˆ°â‰¤2kï¼Œå¿…ç„¶ä¼šç»è¿‡[k,2k]è¿™ä¸ªåŒºé—´ï¼ˆä¸ä¼šè·³è¿‡ï¼‰ã€‚


### æ ¸å¿ƒç®—æ³•æµç¨‹ä¸å¯è§†åŒ–è®¾è®¡æ€è·¯
- **å•è°ƒæ ˆæ±‚æœ€å¤§å­çŸ©å½¢**ï¼š  
  å¯¹æ¯ä¸€è¡Œï¼Œè®¡ç®—æ¯ä¸ªå…ƒç´ å‘ä¸Šèƒ½å»¶ä¼¸çš„æœ€å¤§é«˜åº¦ï¼ˆå³è¿ç»­ééšœç¢ç‰©çš„è¡Œæ•°ï¼‰ï¼Œç„¶åç”¨å•è°ƒæ ˆæ‰¾åˆ°ä»¥å½“å‰è¡Œä¸ºåº•è¾¹çš„æœ€å¤§å­çŸ©å½¢ï¼ˆç±»ä¼¼â€œæŸ±çŠ¶å›¾æœ€å¤§çŸ©å½¢â€é—®é¢˜ï¼‰ã€‚  
- **åˆ‡å‰²è¿‡ç¨‹**ï¼š  
  æ‰¾åˆ°æœ€å¤§å­çŸ©å½¢åï¼Œé€è¡Œåˆ æ‰æœ€ä¸Šé¢çš„ä¸€è¡Œï¼Œæ£€æŸ¥å‰©ä¸‹çš„å’Œæ˜¯å¦åœ¨[k,2k]ä¹‹é—´ï¼›è‹¥æŸè¡Œçš„å’Œ>2kï¼Œåˆ™é€åˆ—åˆ æ‰æœ€å³è¾¹çš„ä¸€åˆ—ï¼Œç›´åˆ°ç¬¦åˆæ¡ä»¶ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
é‡‡ç”¨**8ä½åƒç´ é£æ ¼**ï¼ˆç±»ä¼¼FCæ¸¸æˆï¼‰ï¼Œç”¨ä¸åŒé¢œè‰²æ ‡è®°ï¼š  
- éšœç¢ç‰©ï¼ˆ>2kï¼‰ï¼šçº¢è‰²åƒç´ å—ï¼›  
- æœ‰æ•ˆå…ƒç´ ï¼ˆ<kï¼‰ï¼šè“è‰²åƒç´ å—ï¼›  
- å½“å‰å¤„ç†çš„è¡Œï¼šé»„è‰²é«˜äº®ï¼›  
- å•è°ƒæ ˆçš„å˜åŒ–ï¼šç”¨â€œæ ˆå¸§â€åŠ¨ç”»å±•ç¤ºå…ƒç´ å…¥æ ˆ/å‡ºæ ˆï¼›  
- åˆ‡å‰²è¿‡ç¨‹ï¼šç”¨â€œç¼©å°çŸ©å½¢â€åŠ¨ç”»å±•ç¤ºé€è¡Œ/é€åˆ—åˆ é™¤ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆï¼ˆåˆ‡å‰²æˆåŠŸï¼‰æˆ–â€œå—¡â€çš„éŸ³æ•ˆï¼ˆéœ€è¦ç»§ç»­åˆ‡å‰²ï¼‰ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šï¼ˆæ¥æºï¼škczno1ï¼Œèµ19ï¼‰
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£æ˜¯**æ‚¬çº¿æ³•ï¼ˆå•è°ƒæ ˆå˜ç§ï¼‰**çš„ç»å…¸å®ç°ï¼Œæ€è·¯æ¸…æ™°ã€ä»£ç ç®€æ´ã€‚æ ¸å¿ƒäº®ç‚¹ï¼š  
  - **æ‚¬çº¿æ³•å¤„ç†é«˜åº¦**ï¼šå¯¹æ¯ä¸€è¡Œè®¡ç®—æ¯ä¸ªå…ƒç´ çš„â€œæ‚¬çº¿é«˜åº¦â€ï¼ˆå‘ä¸Šè¿ç»­æœ‰æ•ˆå…ƒç´ çš„è¡Œæ•°ï¼‰ï¼Œç„¶åç”¨å•è°ƒæ ˆæ‰¾åˆ°å·¦å³è¾¹ç•Œï¼Œå¿«é€Ÿè®¡ç®—æœ€å¤§å­çŸ©å½¢ï¼›  
  - **åˆ‡å‰²ç­–ç•¥é«˜æ•ˆ**ï¼šæ‰¾åˆ°æœ€å¤§å­çŸ©å½¢åï¼Œé€è¡Œåˆ‡å‰²ï¼Œè‹¥æŸè¡Œå’Œ>2kï¼Œåˆ™é€åˆ—åˆ‡å‰²ï¼Œç¡®ä¿åœ¨O(n)æ—¶é—´å†…æ‰¾åˆ°è§£ï¼›  
  - **è¾¹ç•Œæ¡ä»¶ä¸¥è°¨**ï¼šå¤„ç†äº†â€œç©ºæ ˆâ€â€œæœ€åä¸€è¡Œâ€ç­‰ç‰¹æ®Šæƒ…å†µï¼Œä»£ç ç¨³å®šæ€§é«˜ã€‚  

  ä»å®è·µè§’åº¦çœ‹ï¼Œè¿™ä»½ä»£ç å¯ä»¥ç›´æ¥ç”¨äºç«èµ›ï¼Œä¸”æ³¨é‡Šæ¸…æ™°ï¼Œé€‚åˆåˆå­¦è€…æ¨¡ä»¿ã€‚


### é¢˜è§£äºŒï¼šï¼ˆæ¥æºï¼ši207Mï¼Œèµ5ï¼‰
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„**æ³¨é‡Šéå¸¸è¯¦ç»†**ï¼Œç‰¹åˆ«é€‚åˆåˆå­¦è€…ç†è§£å•è°ƒæ ˆçš„ç»†èŠ‚ã€‚æ ¸å¿ƒäº®ç‚¹ï¼š  
  - **å•è°ƒæ ˆç»†èŠ‚å¤„ç†**ï¼šæ˜ç¡®æŒ‡å‡ºâ€œå‡ºæ ˆæ¡ä»¶æ˜¯â‰¥è€Œä¸æ˜¯>â€â€œåç‚¹è¦å…¥æ ˆå……æ•°â€ç­‰å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼›  
  - **åˆ‡å‰²è¿‡ç¨‹åˆ†æ­¥è§£é‡Š**ï¼šå°†åˆ‡å‰²åˆ†ä¸ºâ€œé€è¡Œåˆ‡â€å’Œâ€œé€åˆ—åˆ‡â€ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰è¯¦ç»†çš„é€»è¾‘è¯´æ˜ï¼›  
  - **ä»£ç ç»“æ„æ¸…æ™°**ï¼šå°†â€œå‰ç¼€å’Œè®¡ç®—â€â€œå•è°ƒæ ˆå¤„ç†â€â€œåˆ‡å‰²â€åˆ†æˆä¸åŒå‡½æ•°ï¼Œå¯è¯»æ€§é«˜ã€‚  

  è¿™ä»½é¢˜è§£çš„â€œè¸©å‘è®°å½•â€å¯¹åˆå­¦è€…éå¸¸æœ‰ä»·å€¼ï¼Œèƒ½å¸®åŠ©é¿å…å¸¸è§é”™è¯¯ã€‚


### é¢˜è§£ä¸‰ï¼šï¼ˆæ¥æºï¼šå¥‡ç±³ï¼Œèµ4ï¼‰
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£çš„**ç»“æ„æœ€æ¸…æ™°**ï¼Œå°†é—®é¢˜åˆ†è§£ä¸ºâ€œç‰¹åˆ¤â€â€œæ±‚æœ€å¤§å­çŸ©å½¢â€â€œåˆ‡å‰²â€ä¸‰ä¸ªæ­¥éª¤ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰æ˜ç¡®çš„ç›®æ ‡ã€‚æ ¸å¿ƒäº®ç‚¹ï¼š  
  - **äºŒç»´å‰ç¼€å’Œä¼˜åŒ–**ï¼šç”¨å‰ç¼€å’Œå¿«é€Ÿè®¡ç®—å­çŸ©å½¢å’Œï¼Œé¿å…äº†é‡å¤è®¡ç®—ï¼›  
  - **æœ€å¤§å­çŸ©å½¢çš„å®æ—¶åˆ¤æ–­**ï¼šåœ¨è®¡ç®—æœ€å¤§å­çŸ©å½¢çš„åŒæ—¶ï¼Œç›´æ¥æ£€æŸ¥æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œå‡å°‘äº†åç»­å¤„ç†æ­¥éª¤ï¼›  
  - **ä»£ç é£æ ¼ç®€æ´**ï¼šå˜é‡å‘½åè§„èŒƒï¼ˆå¦‚`sum`è¡¨ç¤ºå‰ç¼€å’Œï¼Œ`up`è¡¨ç¤ºæ‚¬çº¿é«˜åº¦ï¼‰ï¼Œå®¹æ˜“ç†è§£ã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. **éš¾ç‚¹1ï¼šå¦‚ä½•å¤„ç†å¤§äº2kçš„å…ƒç´ ï¼Ÿ**  
* **åˆ†æ**ï¼šå¤§äº2kçš„å…ƒç´ ä¸èƒ½å‡ºç°åœ¨ä»»ä½•æœ‰æ•ˆå­çŸ©å½¢ä¸­ï¼Œå› æ­¤åœ¨è®¡ç®—â€œæ‚¬çº¿é«˜åº¦â€æ—¶ï¼Œè‹¥å½“å‰å…ƒç´ >2kï¼Œåˆ™å…¶é«˜åº¦ä¸º0ï¼ˆæ— æ³•å‘ä¸Šå»¶ä¼¸ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šéšœç¢ç‰©çš„å¤„ç†æ˜¯åŸºç¡€ï¼Œå¿…é¡»å…ˆæ’é™¤æ— æ•ˆå…ƒç´ ï¼Œå¦åˆ™åç»­è®¡ç®—ä¼šå‡ºé”™ã€‚


### 2. **éš¾ç‚¹2ï¼šå¦‚ä½•æ‰¾åˆ°æœ€å¤§æœ‰æ•ˆå­çŸ©å½¢ï¼Ÿ**  
* **åˆ†æ**ï¼šé‡‡ç”¨â€œå•è°ƒæ ˆ+æ‚¬çº¿æ³•â€ï¼š  
  - å¯¹æ¯ä¸€è¡Œï¼Œè®¡ç®—æ¯ä¸ªå…ƒç´ çš„â€œæ‚¬çº¿é«˜åº¦â€ï¼ˆå‘ä¸Šè¿ç»­æœ‰æ•ˆå…ƒç´ çš„è¡Œæ•°ï¼‰ï¼›  
  - ç”¨å•è°ƒæ ˆæ‰¾åˆ°æ¯ä¸ªå…ƒç´ çš„å·¦å³è¾¹ç•Œï¼ˆå³å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒçŸ®çš„å…ƒç´ ï¼Œå³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒçŸ®çš„å…ƒç´ ï¼‰ï¼›  
  - è®¡ç®—ä»¥å½“å‰å…ƒç´ ä¸ºé«˜çš„æœ€å¤§å­çŸ©å½¢ï¼ˆé¢ç§¯=é«˜åº¦Ã—(å³è¾¹ç•Œ-å·¦è¾¹ç•Œ+1)ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå•è°ƒæ ˆæ˜¯å¤„ç†â€œæŸ±çŠ¶å›¾æœ€å¤§çŸ©å½¢â€é—®é¢˜çš„ç»å…¸ç®—æ³•ï¼Œé€‚ç”¨äºæ‰€æœ‰éœ€è¦æ‰¾â€œå·¦å³è¾¹ç•Œâ€çš„åœºæ™¯ã€‚


### 3. **éš¾ç‚¹3ï¼šå¦‚ä½•ä»æœ€å¤§å­çŸ©å½¢åˆ‡å‰²å‡ºç¬¦åˆæ¡ä»¶çš„è§£ï¼Ÿ**  
* **åˆ†æ**ï¼šç”±äºæ¯ä¸ªå…ƒç´ <kï¼Œæ‰€ä»¥æ¯ä¸€è¡Œçš„å’Œ<kã€‚å› æ­¤ï¼Œæœ€å¤§å­çŸ©å½¢çš„å’Œ>2kæ—¶ï¼Œé€è¡Œåˆ æ‰æœ€ä¸Šé¢çš„ä¸€è¡Œï¼Œå‰©ä¸‹çš„å’Œä¼šé€æ¸å‡å°‘ï¼Œå¿…ç„¶ä¼šç»è¿‡[k,2k]åŒºé—´ã€‚è‹¥æŸè¡Œçš„å’Œ>2kï¼Œåˆ™é€åˆ—åˆ æ‰æœ€å³è¾¹çš„ä¸€åˆ—ï¼Œç›´åˆ°ç¬¦åˆæ¡ä»¶ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆ‡å‰²ç­–ç•¥çš„æ­£ç¡®æ€§ä¾èµ–äºâ€œå…ƒç´ <kâ€çš„æ¡ä»¶ï¼Œè¿™æ˜¯é¢˜ç›®ç»™çš„å…³é”®æç¤ºã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **ç‰¹åˆ¤ä¼˜å…ˆ**ï¼šå…ˆæ£€æŸ¥å•ä¸ªå…ƒç´ æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—ï¼›  
- **å‰ç¼€å’Œä¼˜åŒ–**ï¼šç”¨äºŒç»´å‰ç¼€å’Œå¿«é€Ÿè®¡ç®—å­çŸ©å½¢å’Œï¼Œå‡å°‘æ—¶é—´å¤æ‚åº¦ï¼›  
- **å•è°ƒæ ˆåº”ç”¨**ï¼šå¤„ç†â€œå·¦å³è¾¹ç•Œâ€é—®é¢˜æ—¶ï¼Œå•è°ƒæ ˆæ˜¯é«˜æ•ˆçš„é€‰æ‹©ï¼›  
- **åˆ‡å‰²ç­–ç•¥**ï¼šåˆ©ç”¨å…ƒç´ çš„å¤§å°ç‰¹æ€§ï¼Œé€šè¿‡é€è¡Œ/é€åˆ—åˆ‡å‰²æ‰¾åˆ°è§£ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šç»¼åˆäº†kczno1ã€i207Mç­‰é¢˜è§£çš„æ€è·¯ï¼Œæç‚¼å‡ºæœ€ç®€æ´çš„æ ¸å¿ƒå®ç°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <stack>
  using namespace std;
  typedef long long ll;

  const int N = 2005;
  ll a[N][N], sum[N][N]; // sum[i][j]è¡¨ç¤º(1,1)åˆ°(i,j)çš„å‰ç¼€å’Œ
  int up[N]; // æ¯åˆ—çš„æ‚¬çº¿é«˜åº¦
  stack<int> st;

  ll get_sum(int x1, int y1, int x2, int y2) {
      return sum[x2][y2] - sum[x1-1][y2] - sum[x2][y1-1] + sum[x1-1][y1-1];
  }

  void output(int x1, int y1, int x2, int y2) {
      cout << y1 << " " << x1 << " " << y2 << " " << x2 << endl;
      exit(0);
  }

  int main() {
      int k, n;
      cin >> k >> n;
      for (int i = 1; i <= n; i++) {
          for (int j = 1; j <= n; j++) {
              cin >> a[i][j];
              if (a[i][j] >= k && a[i][j] <= 2*k) {
                  output(i, j, i, j);
              }
              sum[i][j] = sum[i-1][j] + sum[i][j-1] - sum[i-1][j-1] + a[i][j];
          }
      }

      for (int i = 1; i <= n; i++) {
          for (int j = 1; j <= n; j++) {
              if (a[i][j] > 2*k) {
                  up[j] = 0;
              } else {
                  up[j]++;
              }
          }

          while (!st.empty()) st.pop();
          st.push(0);
          for (int j = 1; j <= n+1; j++) {
              while (up[j] < up[st.top()]) {
                  int h = up[st.top()];
                  st.pop();
                  int l = st.top() + 1;
                  int r = j - 1;
                  ll s = get_sum(i - h + 1, l, i, r);
                  if (s >= k) {
                      // åˆ‡å‰²è¿‡ç¨‹
                      int x1 = i - h + 1, y1 = l, x2 = i, y2 = r;
                      while (get_sum(x1, y1, x2, y2) > 2*k) {
                          if (x1 < x2) {
                              ll row_sum = get_sum(x1, y1, x1, y2);
                              if (row_sum > 2*k) {
                                  // é€åˆ—åˆ‡å‰²å½“å‰è¡Œ
                                  for (int y = y2; y >= y1; y--) {
                                      row_sum -= a[x1][y];
                                      if (row_sum >= k && row_sum <= 2*k) {
                                          output(x1, y1, x1, y-1);
                                      }
                                  }
                              }
                              x1++;
                          } else {
                              y2--;
                          }
                      }
                      output(x1, y1, x2, y2);
                  }
              }
              st.push(j);
          }
      }

      cout << "NIE" << endl;
      return 0;
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **å‰ç¼€å’Œè®¡ç®—**ï¼š`sum`æ•°ç»„å­˜å‚¨äºŒç»´å‰ç¼€å’Œï¼Œç”¨äºå¿«é€Ÿè®¡ç®—å­çŸ©å½¢å’Œï¼›  
  2. **æ‚¬çº¿é«˜åº¦æ›´æ–°**ï¼šå¯¹æ¯ä¸€è¡Œï¼Œæ›´æ–°`up`æ•°ç»„ï¼ˆæ¯åˆ—çš„æ‚¬çº¿é«˜åº¦ï¼‰ï¼›  
  3. **å•è°ƒæ ˆå¤„ç†**ï¼šç”¨å•è°ƒæ ˆæ‰¾åˆ°æ¯ä¸ªå…ƒç´ çš„å·¦å³è¾¹ç•Œï¼Œè®¡ç®—æœ€å¤§å­çŸ©å½¢ï¼›  
  4. **åˆ‡å‰²è¿‡ç¨‹**ï¼šæ‰¾åˆ°æœ€å¤§å­çŸ©å½¢åï¼Œé€è¡Œ/é€åˆ—åˆ‡å‰²ï¼Œç›´åˆ°ç¬¦åˆæ¡ä»¶ã€‚  


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### é¢˜è§£ä¸€ï¼ˆkczno1ï¼‰ï¼šæ‚¬çº¿æ³•å¤„ç†é«˜åº¦
* **äº®ç‚¹**ï¼šç”¨æ‚¬çº¿æ³•å¿«é€Ÿè®¡ç®—æ¯åˆ—çš„é«˜åº¦ï¼Œç»“åˆå•è°ƒæ ˆæ‰¾åˆ°æœ€å¤§å­çŸ©å½¢ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  for (int i = 1; i <= n; i++) {
      for (int j = 1; j <= n; j++) {
          if (a[i][j] > 2*k) {
              up[j] = 0;
          } else {
              up[j]++;
          }
      }
      // å•è°ƒæ ˆå¤„ç†
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  å¯¹æ¯ä¸€è¡Œï¼Œè‹¥å½“å‰å…ƒç´ æ˜¯éšœç¢ç‰©ï¼ˆ>2kï¼‰ï¼Œåˆ™å…¶æ‚¬çº¿é«˜åº¦ä¸º0ï¼›å¦åˆ™ï¼Œé«˜åº¦åŠ 1ï¼ˆç»§æ‰¿ä¸Šä¸€è¡Œçš„é«˜åº¦ï¼‰ã€‚è¿™ä¸€æ­¥æ˜¯â€œæ‚¬çº¿æ³•â€çš„æ ¸å¿ƒï¼Œå°†äºŒç»´é—®é¢˜è½¬åŒ–ä¸ºä¸€ç»´çš„â€œæŸ±çŠ¶å›¾â€é—®é¢˜ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ‚¬çº¿æ³•æ˜¯å¤„ç†â€œè¿ç»­æœ‰æ•ˆå…ƒç´ â€çš„å¸¸ç”¨æ–¹æ³•ï¼Œé€‚ç”¨äºçŸ©é˜µä¸­çš„â€œæœ€å¤§çŸ©å½¢â€é—®é¢˜ã€‚


#### é¢˜è§£äºŒï¼ˆi207Mï¼‰ï¼šå•è°ƒæ ˆç»†èŠ‚å¤„ç†
* **äº®ç‚¹**ï¼šæ˜ç¡®æŒ‡å‡ºå•è°ƒæ ˆçš„å‡ºæ ˆæ¡ä»¶ï¼Œé¿å…å¸¸è§é”™è¯¯ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  while (top && up[i][st[top]] >= up[i][j]) {
      top--;
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  å½“å½“å‰å…ƒç´ çš„é«˜åº¦å°äºç­‰äºæ ˆé¡¶å…ƒç´ çš„é«˜åº¦æ—¶ï¼Œå¼¹å‡ºæ ˆé¡¶å…ƒç´ ã€‚è¿™é‡Œç”¨â€œâ‰¥â€è€Œä¸æ˜¯â€œ>â€ï¼Œæ˜¯å› ä¸ºè¦å¤„ç†â€œç›¸ç­‰é«˜åº¦â€çš„æƒ…å†µï¼Œç¡®ä¿å·¦å³è¾¹ç•Œçš„æ­£ç¡®æ€§ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå•è°ƒæ ˆçš„å‡ºæ ˆæ¡ä»¶æ˜¯å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼Œå¿…é¡»ä¸¥æ ¼æŒ‰ç…§â€œå°äºç­‰äºâ€æˆ–â€œå¤§äºç­‰äºâ€å¤„ç†ã€‚


#### é¢˜è§£ä¸‰ï¼ˆå¥‡ç±³ï¼‰ï¼šåˆ‡å‰²è¿‡ç¨‹åˆ†æ­¥è§£é‡Š
* **äº®ç‚¹**ï¼šå°†åˆ‡å‰²è¿‡ç¨‹åˆ†ä¸ºâ€œé€è¡Œåˆ‡â€å’Œâ€œé€åˆ—åˆ‡â€ï¼Œé€»è¾‘æ¸…æ™°ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  while (get_sum(x1, y1, x2, y2) > 2*k) {
      if (x1 < x2) {
          x1++;
      } else {
          y2--;
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  è‹¥å½“å‰å­çŸ©å½¢çš„å’Œ>2kï¼Œåˆ™é€è¡Œåˆ æ‰æœ€ä¸Šé¢çš„ä¸€è¡Œï¼ˆx1++ï¼‰ï¼›è‹¥åªå‰©ä¸€è¡Œï¼Œåˆ™é€åˆ—åˆ æ‰æœ€å³è¾¹çš„ä¸€åˆ—ï¼ˆy2--ï¼‰ã€‚è¿™ä¸€æ­¥åˆ©ç”¨äº†â€œæ¯ä¸€è¡Œçš„å’Œ<kâ€çš„æ¡ä»¶ï¼Œç¡®ä¿åˆ‡å‰²è¿‡ç¨‹å¿…ç„¶ä¼šç»è¿‡[k,2k]åŒºé—´ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆ‡å‰²è¿‡ç¨‹çš„é€»è¾‘ä¾èµ–äºé¢˜ç›®ç»™çš„â€œå…ƒç´ <kâ€çš„æ¡ä»¶ï¼Œè¿™æ˜¯è§£é¢˜çš„å…³é”®ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### ğŸ® åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Šåƒç´ æ¢é™©å®¶ä¹‹å¯»æ‰¾é»„é‡‘çŸ©å½¢ã€‹
é‡‡ç”¨**8ä½åƒç´ é£æ ¼**ï¼ˆç±»ä¼¼ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹ï¼‰ï¼Œç©å®¶æ§åˆ¶â€œåƒç´ æ¢é™©å®¶â€åœ¨çŸ©é˜µä¸­å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„å­çŸ©å½¢ã€‚


### ğŸ§© æ ¸å¿ƒæ¼”ç¤ºå†…å®¹
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•æ˜¾ç¤ºnÃ—nçš„åƒç´ çŸ©é˜µï¼Œçº¢è‰²å—è¡¨ç¤ºéšœç¢ç‰©ï¼ˆ>2kï¼‰ï¼Œè“è‰²å—è¡¨ç¤ºæœ‰æ•ˆå…ƒç´ ï¼ˆ<kï¼‰ï¼›  
   - é¡¶éƒ¨æ˜¾ç¤ºâ€œæ§åˆ¶é¢æ¿â€ï¼šâ€œå¼€å§‹â€â€œå•æ­¥â€â€œé‡ç½®â€æŒ‰é’®ï¼Œä»¥åŠâ€œé€Ÿåº¦æ»‘å—â€ï¼›  
   - èƒŒæ™¯æ’­æ”¾8ä½é£æ ¼çš„è½»å¿«BGMï¼ˆå¦‚ã€Šåƒè±†äººã€‹çš„èƒŒæ™¯éŸ³ä¹ï¼‰ã€‚  

2. **æ‚¬çº¿æ³•è¿‡ç¨‹**ï¼š  
   - å¯¹æ¯ä¸€è¡Œï¼Œé€åˆ—æ›´æ–°â€œæ‚¬çº¿é«˜åº¦â€ï¼ˆè“è‰²å—çš„é«˜åº¦é€æ¸å¢åŠ ï¼Œç”¨â€œå‘ä¸Šå»¶ä¼¸â€çš„åŠ¨ç”»å±•ç¤ºï¼‰ï¼›  
   - å•è°ƒæ ˆçš„å˜åŒ–ç”¨â€œæ ˆå¸§â€åŠ¨ç”»å±•ç¤ºï¼šæ ˆé¡¶å…ƒç´ å¼¹å‡ºæ—¶ï¼Œç”¨â€œå‘ä¸‹æ‰è½â€çš„åŠ¨ç”»ï¼›æ–°å…ƒç´ å…¥æ ˆæ—¶ï¼Œç”¨â€œå‘ä¸Šè·³è·ƒâ€çš„åŠ¨ç”»ï¼›  
   - æ‰¾åˆ°æœ€å¤§å­çŸ©å½¢æ—¶ï¼Œç”¨â€œé»„è‰²è¾¹æ¡†â€æ ‡è®°ï¼Œä¼´éšâ€œå®â€çš„éŸ³æ•ˆã€‚  

3. **åˆ‡å‰²è¿‡ç¨‹**ï¼š  
   - æœ€å¤§å­çŸ©å½¢çš„å’Œ>2kæ—¶ï¼Œé€è¡Œåˆ æ‰æœ€ä¸Šé¢çš„ä¸€è¡Œï¼ˆè“è‰²å—é€æ¸å˜æˆé€æ˜ï¼Œä¼´éšâ€œæ²™æ²™â€çš„éŸ³æ•ˆï¼‰ï¼›  
   - è‹¥æŸè¡Œçš„å’Œ>2kï¼Œåˆ™é€åˆ—åˆ æ‰æœ€å³è¾¹çš„ä¸€åˆ—ï¼ˆè“è‰²å—é€æ¸å˜æˆé€æ˜ï¼Œä¼´éšâ€œæ²™æ²™â€çš„éŸ³æ•ˆï¼‰ï¼›  
   - å½“å­çŸ©å½¢çš„å’Œè¿›å…¥[k,2k]åŒºé—´æ—¶ï¼Œç”¨â€œé‡‘è‰²è¾¹æ¡†â€æ ‡è®°ï¼Œä¼´éšâ€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆå¦‚ã€Šè¶…çº§é©¬é‡Œå¥¥ã€‹çš„é€šå…³éŸ³ä¹ï¼‰ã€‚  

4. **äº¤äº’è®¾è®¡**ï¼š  
   - â€œå•æ­¥â€æŒ‰é’®ï¼šé€å¸§æ’­æ”¾åŠ¨ç”»ï¼Œæ–¹ä¾¿è§‚å¯Ÿæ¯ä¸€æ­¥çš„å˜åŒ–ï¼›  
   - â€œè‡ªåŠ¨æ’­æ”¾â€ï¼šå¯ä»¥è°ƒæ•´é€Ÿåº¦ï¼ˆæ»‘å—ä»â€œæ…¢â€åˆ°â€œå¿«â€ï¼‰ï¼Œè‡ªåŠ¨å®Œæˆæ•´ä¸ªè¿‡ç¨‹ï¼›  
   - â€œé‡ç½®â€æŒ‰é’®ï¼šæ¢å¤åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹æ¼”ç¤ºã€‚  


### ğŸ¨ è®¾è®¡æ€è·¯
- **åƒç´ é£æ ¼**ï¼šè¥é€ å¤å¤æ¸¸æˆçš„æ°›å›´ï¼Œè®©å­¦ä¹ è€…æ„Ÿåˆ°äº²åˆ‡ï¼›  
- **åŠ¨ç”»æ•ˆæœ**ï¼šç”¨â€œå»¶ä¼¸â€â€œæ‰è½â€â€œè·³è·ƒâ€ç­‰åŠ¨ç”»å±•ç¤ºç®—æ³•è¿‡ç¨‹ï¼Œç›´è§‚æ˜“æ‡‚ï¼›  
- **éŸ³æ•ˆåé¦ˆ**ï¼šç”¨ä¸åŒçš„éŸ³æ•ˆæ ‡è®°å…³é”®æ­¥éª¤ï¼Œå¼ºåŒ–è®°å¿†ï¼›  
- **äº¤äº’æ§åˆ¶**ï¼šå…è®¸å­¦ä¹ è€…è‡ªä¸»æ§åˆ¶åŠ¨ç”»è¿›åº¦ï¼Œæ»¡è¶³ä¸åŒçš„å­¦ä¹ éœ€æ±‚ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ğŸ§  é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»
å•è°ƒæ ˆæ±‚æœ€å¤§å­çŸ©å½¢çš„æ€è·¯å¯ä»¥è¿ç§»åˆ°ä»¥ä¸‹åœºæ™¯ï¼š  
1. **æœ€å¤§å…¨1å­çŸ©å½¢**ï¼šç»™å®š0-1çŸ©é˜µï¼Œæ‰¾å…¨1çš„æœ€å¤§å­çŸ©å½¢ï¼›  
2. **æœ€å¤§å­çŸ©é˜µå’Œ**ï¼šç»™å®šæ•´æ•°çŸ©é˜µï¼Œæ‰¾å’Œæœ€å¤§çš„å­çŸ©å½¢ï¼ˆå¯ä»¥ç”¨å•è°ƒæ ˆç»“åˆå‰ç¼€å’Œï¼‰ï¼›  
3. **æŸ±çŠ¶å›¾æœ€å¤§çŸ©å½¢**ï¼šç»å…¸é—®é¢˜ï¼Œç›´æ¥ç”¨å•è°ƒæ ˆè§£å†³ã€‚  


### ğŸ“š ç»ƒä¹ æ¨è (æ´›è°·)
1. **æ´›è°· P4147** - ã€Šæœ€å¤§å­çŸ©å½¢ã€‹  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™æ˜¯å•è°ƒæ ˆæ±‚æœ€å¤§å­çŸ©å½¢çš„ç»å…¸é¢˜ç›®ï¼Œç›´æ¥å¯¹åº”æœ¬é¢˜çš„æ ¸å¿ƒç®—æ³•ï¼Œé€‚åˆå·©å›ºåŸºç¡€ã€‚  
2. **æ´›è°· P1719** - ã€Šæœ€å¤§å­çŸ©é˜µå’Œã€‹  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šåœ¨æœ€å¤§å­çŸ©å½¢çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†â€œå’Œæœ€å¤§â€çš„æ¡ä»¶ï¼Œéœ€è¦ç»“åˆå‰ç¼€å’Œä¸å•è°ƒæ ˆï¼Œæ‹“å±•æ€ç»´ã€‚  
3. **æ´›è°· P2704** - ã€Šç‚®å…µé˜µåœ°ã€‹  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™æ˜¯ä¸€é“åŠ¨æ€è§„åˆ’é¢˜ï¼Œä½†éœ€è¦ç”¨åˆ°â€œæ‚¬çº¿æ³•â€å¤„ç†è¿ç»­æœ‰æ•ˆå…ƒç´ ï¼Œé€‚åˆç»ƒä¹ ç®—æ³•çš„ç»¼åˆåº”ç”¨ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

### ğŸ“ å‚è€ƒç»éªŒï¼ˆæ¥è‡ªi207Mï¼‰
> â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆæŠŠå•è°ƒæ ˆçš„å‡ºæ ˆæ¡ä»¶å†™æˆäº†â€˜>â€™ï¼Œå¯¼è‡´è¾¹ç•Œé”™è¯¯ã€‚åæ¥é€šè¿‡è°ƒè¯•å‘ç°ï¼Œå¿…é¡»ç”¨â€˜â‰¥â€™æ‰èƒ½æ­£ç¡®å¤„ç†ç›¸ç­‰é«˜åº¦çš„æƒ…å†µã€‚â€  
* **ç‚¹è¯„**ï¼šè¿™ä¸ªç»éªŒéå¸¸å…¸å‹ã€‚å•è°ƒæ ˆçš„å‡ºæ ˆæ¡ä»¶æ˜¯å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼Œå¿…é¡»é€šè¿‡è°ƒè¯•æˆ–æ ·ä¾‹éªŒè¯æ¥ç¡®ä¿æ­£ç¡®æ€§ã€‚åˆå­¦è€…å¯ä»¥é€šè¿‡â€œæ‰“å°ä¸­é—´å˜é‡â€ï¼ˆå¦‚æ ˆä¸­çš„å…ƒç´ ï¼‰æ¥è§‚å¯Ÿç®—æ³•çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå¿«é€Ÿå®šä½é”™è¯¯ã€‚  


## ğŸ‰ æ€»ç»“
æœ¬æ¬¡åˆ†æçš„â€œ[POI2008] KUP-Plot purchaseâ€é¢˜ï¼Œæ ¸å¿ƒæ˜¯**å•è°ƒæ ˆæ±‚æœ€å¤§å­çŸ©å½¢**ç»“åˆ**åˆ‡å‰²ç­–ç•¥**ã€‚é€šè¿‡ç‰¹åˆ¤æ— æ•ˆå…ƒç´ ã€è®¡ç®—æ‚¬çº¿é«˜åº¦ã€ç”¨å•è°ƒæ ˆæ‰¾æœ€å¤§å­çŸ©å½¢ã€é€è¡Œ/é€åˆ—åˆ‡å‰²ï¼Œæˆ‘ä»¬å¯ä»¥é«˜æ•ˆåœ°æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„è§£ã€‚  

è®°ä½ï¼š**ç‰¹åˆ¤ä¼˜å…ˆã€å‰ç¼€å’Œä¼˜åŒ–ã€å•è°ƒæ ˆåº”ç”¨ã€åˆ‡å‰²ç­–ç•¥**æ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„å…³é”®ã€‚å¸Œæœ›å¤§å®¶é€šè¿‡ç»ƒä¹ ï¼Œèƒ½ç†Ÿç»ƒæŒæ¡è¿™äº›æŠ€å·§ï¼Œä¸¾ä¸€åä¸‰ï¼  

ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š174.03ç§’
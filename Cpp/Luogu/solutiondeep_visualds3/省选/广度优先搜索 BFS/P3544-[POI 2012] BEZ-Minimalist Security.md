# é¢˜ç›®ä¿¡æ¯

# [POI 2012] BEZ-Minimalist Security

## é¢˜ç›®æè¿°

**è¯‘è‡ª POI 2012 Stage 3. Day 2ã€Œ[BezpieczeÅ„stwo minimalistyczne](https://szkopul.edu.pl/problemset/problem/aSbIC_LB4H-CGMYPEVue5jFw/site/?key=statement)ã€**

ç»™å®šä¸€å¼ æ— å‘å›¾ï¼Œç‚¹æœ‰ç‚¹æƒ $p(v)$ï¼Œè¾¹æœ‰è¾¹æƒ $b(u,v)$ï¼Œåˆå§‹æ—¶ä¿è¯å¯¹æ¯æ¡è¾¹æœ‰ $p(u) + p(v) \ge b(u,v)$ã€‚

ç°åœ¨éœ€è¦å‡å°‘ä¸€éƒ¨åˆ†ç‚¹çš„ç‚¹æƒï¼Œä½¿å¾—å¯¹æ¯æ¡è¾¹éƒ½æ°æœ‰ $p(u) + p(v) = b(u,v)$.

æ±‚æ•´å¼ å›¾å‡å°‘çš„ç‚¹æƒå’Œçš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚

## è¯´æ˜/æç¤º

å¯¹äº $56\%$ çš„æ•°æ®æœ‰ $n \le 2000,m \le 8000$.

å¯¹äºæ‰€æœ‰æ•°æ®æœ‰ $1 \le n \le 500\ 000,0 \le m \le 3\ 000\ 000$.

ç¿»è¯‘æ¥è‡ªäº [LibreOJ](https://loj.ac/p/2702)ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3 2
5 10 5
1 2 5
2 3 3```

### è¾“å‡º

```
12 15```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[POI2012] BEZ-Minimalist Security æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå›¾è®ºè¿é€šå—å¤„ç† + çº¿æ€§çº¦æŸæ±‚è§£ï¼ˆç¼–ç¨‹æŠ€å·§åº”ç”¨ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œæœ€å°åŒ–å®‰å…¨â€é—®é¢˜çš„å…³é”®ï¼Œåœ¨äºå°†ç‚¹æƒè°ƒæ•´çš„çº¦æŸè½¬åŒ–ä¸º**è¿é€šå—å†…çš„çº¿æ€§å…³ç³»**ã€‚ç®€å•æ¥è¯´ï¼Œæ¯ä¸ªç‚¹çš„å‡å°‘é‡`z(u)`ï¼ˆå³`p(u) - p'(u)`ï¼‰å¯ä»¥è¡¨ç¤ºä¸º**åŸºå‡†ç‚¹çš„çº¿æ€§å‡½æ•°**ï¼ˆå¦‚`z(u) = k*z(rt) + b`ï¼Œå…¶ä¸­`kâˆˆ{-1,1}`ï¼Œ`rt`æ˜¯è¿é€šå—çš„åŸºå‡†ç‚¹ï¼‰ã€‚è¿™ç§è½¬åŒ–çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š**ä¸€æ¡è¾¹çš„çº¦æŸ`z(u)+z(v)=C`ï¼ˆ`C`ä¸ºå¸¸æ•°ï¼‰å¯ä»¥æ¨å¯¼å‡º`z(v) = C - z(u)`ï¼Œä»è€Œå°†è¿é€šå—å†…çš„æ‰€æœ‰ç‚¹å…³è”èµ·æ¥**ã€‚  

### æ ¸å¿ƒç®—æ³•æµç¨‹
1. **è¿é€šå—åˆ’åˆ†**ï¼šéå†å›¾ï¼Œå¯¹æ¯ä¸ªæœªå¤„ç†çš„è¿é€šå—è¿›è¡Œå•ç‹¬å¤„ç†ï¼ˆè¿é€šå—é—´ç›¸äº’ç‹¬ç«‹ï¼‰ã€‚  
2. **çº¿æ€§è¡¨è¾¾å¼æ¨å¯¼**ï¼šä»»é€‰è¿é€šå—çš„åŸºå‡†ç‚¹`rt`ï¼Œç”¨DFS/BFSæ¨å¯¼å‡ºæ‰€æœ‰ç‚¹çš„`z(u)`å…³äº`z(rt)`çš„çº¿æ€§è¡¨è¾¾å¼ï¼ˆ`z(u) = a[u]*z(rt) + b[u]`ï¼Œ`a[u]`ä¸º`1`æˆ–`-1`ï¼‰ã€‚  
3. **ç¯å¤„ç†**ï¼š  
   - **å¥‡ç¯**ï¼šä¼šå¯¼è‡´`z(rt)`çš„å”¯ä¸€è§£ï¼ˆå¦‚`2z(rt) = D`ï¼Œ`D`ä¸ºå¸¸æ•°ï¼‰ï¼Œéœ€éªŒè¯è§£çš„åˆæ³•æ€§ï¼ˆ`0â‰¤z(u)â‰¤p(u)`ï¼‰ã€‚  
   - **å¶ç¯**ï¼šéœ€æ£€æŸ¥çº¦æŸæ˜¯å¦ä¸€è‡´ï¼ˆå¦‚`z(u)+z(v)=C`æ˜¯å¦æ»¡è¶³æ¨å¯¼çš„è¡¨è¾¾å¼ï¼‰ã€‚  
4. **çº¦æŸæ±‚è§£**ï¼šæ ¹æ®æ‰€æœ‰ç‚¹çš„`0â‰¤z(u)â‰¤p(u)`ï¼Œè½¬åŒ–ä¸º`z(rt)`çš„å–å€¼èŒƒå›´ï¼ˆå¦‚`l â‰¤ z(rt) â‰¤ r`ï¼‰ã€‚  
5. **æå€¼è®¡ç®—**ï¼šè¿é€šå—çš„æ€»å’Œ`sum(z(u))`æ˜¯å…³äº`z(rt)`çš„çº¿æ€§å‡½æ•°ï¼ˆ`sum = K*z(rt) + B`ï¼‰ï¼Œæå€¼å‡ºç°åœ¨`z(rt)`çš„åŒºé—´ç«¯ç‚¹ï¼ˆ`l`æˆ–`r`ï¼‰ã€‚  

### å¯è§†åŒ–è®¾è®¡æ€è·¯
- **åƒç´ é£æ ¼**ï¼šç”¨8ä½åƒç´ ç‚¹è¡¨ç¤ºèŠ‚ç‚¹ï¼ˆä¸åŒé¢œè‰²åŒºåˆ†åŸºå‡†ç‚¹ã€å·²å¤„ç†èŠ‚ç‚¹ã€ç¯èŠ‚ç‚¹ï¼‰ï¼Œè¾¹ç”¨çº¿æ¡è¿æ¥ã€‚  
- **åŠ¨æ€æ¼”ç¤º**ï¼š  
  - DFSæ¨å¯¼æ—¶ï¼ŒèŠ‚ç‚¹é€æ­¥å˜è‰²ï¼ˆå¦‚ä»ç°è‰²â†’è“è‰²ï¼‰ï¼Œå¹¶æ˜¾ç¤ºå½“å‰`z(u)`çš„çº¿æ€§è¡¨è¾¾å¼ï¼ˆå¦‚`z(2) = -z(1) + 5`ï¼‰ã€‚  
  - ç¯æ£€æµ‹æ—¶ï¼Œå¥‡ç¯èŠ‚ç‚¹é—ªçƒçº¢è‰²ï¼Œå¶ç¯èŠ‚ç‚¹é—ªçƒç»¿è‰²ï¼Œå¹¶å¼¹å‡ºæç¤ºæ¡†ï¼ˆå¦‚â€œå¥‡ç¯ï¼šz(rt)=3â€ï¼‰ã€‚  
  - çº¦æŸæ±‚è§£æ—¶ï¼Œç”¨è“è‰²è¿›åº¦æ¡å±•ç¤º`z(rt)`çš„å–å€¼èŒƒå›´ï¼ˆ`l`åˆ°`r`ï¼‰ï¼Œæ€»å’Œéš`z(rt)`å˜åŒ–çš„æ›²çº¿ç”¨ç»¿è‰²æŠ˜çº¿åŠ¨æ€æ›´æ–°ã€‚  
- **æ¸¸æˆåŒ–å…ƒç´ **ï¼šåŠ å…¥éŸ³æ•ˆï¼ˆå¦‚DFSåˆ°èŠ‚ç‚¹çš„â€œå®â€å£°ã€ç¯æ£€æµ‹çš„â€œå’šâ€å£°ã€æå€¼è®¡ç®—å®Œæˆçš„â€œèƒœåˆ©éŸ³æ•ˆâ€ï¼‰ï¼Œä»¥åŠâ€œå…³å¡â€è®¾è®¡ï¼ˆæ¯ä¸ªè¿é€šå—ä¸ºä¸€ä¸ªå…³å¡ï¼Œå®Œæˆåæ˜¾ç¤ºâ€œé€šå…³â€åŠ¨ç”»ï¼‰ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼ˆæ¥æºï¼ši207Mï¼Œèµ13ï¼‰
* **ç‚¹è¯„**ï¼š  
  æ­¤é¢˜è§£æ€è·¯**æ¸…æ™°ä¸”å…¨é¢**ï¼Œå®Œç¾è¦†ç›–äº†è¿é€šå—å¤„ç†ã€çº¿æ€§è¡¨è¾¾å¼æ¨å¯¼ã€ç¯å¤„ç†å’Œçº¦æŸæ±‚è§£çš„å…¨æµç¨‹ã€‚ä»£ç ç»“æ„**è§„èŒƒ**ï¼ˆç”¨`struct Node`å°è£…çº¿æ€§è¡¨è¾¾å¼ï¼Œ`solve`å‡½æ•°å¤„ç†è¿é€šå—ï¼‰ï¼Œå˜é‡å‘½å**æ˜“æ‡‚**ï¼ˆ`a[u]`è¡¨ç¤ºçº¿æ€§ç³»æ•°ï¼Œ`b[u]`è¡¨ç¤ºå¸¸æ•°é¡¹ï¼‰ã€‚  
  **äº®ç‚¹**ï¼š  
  - ç”¨DFSæ¨å¯¼çº¿æ€§è¡¨è¾¾å¼æ—¶ï¼Œé€šè¿‡`fa`æ•°ç»„é¿å…å›è¾¹ï¼Œé«˜æ•ˆå¤„ç†ç¯ï¼›  
  - å¥‡ç¯å¤„ç†æ—¶ï¼Œç›´æ¥è§£æ–¹ç¨‹å¾—åˆ°`z(rt)`çš„å”¯ä¸€è§£ï¼Œå¹¶éªŒè¯åˆæ³•æ€§ï¼›  
  - çº¦æŸæ±‚è§£æ—¶ï¼Œé€šè¿‡éå†è¿é€šå—å†…æ‰€æœ‰ç‚¹ï¼Œå°†`0â‰¤z(u)â‰¤p(u)`è½¬åŒ–ä¸º`z(rt)`çš„åŒºé—´ï¼Œé€»è¾‘ä¸¥è°¨ã€‚  
  ä»å®è·µè§’åº¦çœ‹ï¼Œä»£ç **å¯ç›´æ¥ç”¨äºç«èµ›**ï¼ˆå¤„ç†äº†å¤§æ•°æ®é‡çš„æƒ…å†µï¼Œå¦‚`n=5e5`ï¼‰ï¼Œè¾¹ç•Œæ¡ä»¶ï¼ˆå¦‚`z(u)`éè´Ÿã€ä¸è¶…è¿‡åŸæƒå€¼ï¼‰å¤„ç†å¾—éå¸¸ä¸¥è°¨ã€‚

### é¢˜è§£äºŒï¼ˆæ¥æºï¼šResurgammmï¼Œèµ2ï¼‰
* **ç‚¹è¯„**ï¼š  
  æ­¤é¢˜è§£**ç®€æ´æ˜äº†**ï¼Œç”¨BFSæ›¿ä»£DFSæ¨å¯¼çº¿æ€§è¡¨è¾¾å¼ï¼Œæ›´é€‚åˆå¤„ç†å¤§åº¦æ•°èŠ‚ç‚¹çš„æƒ…å†µã€‚ä»£ç ä¸­`Segment`ç»“æ„ä½“å°è£…äº†åŒºé—´æ±‚è§£ï¼Œ`node`ç»“æ„ä½“å°è£…äº†çº¿æ€§è¡¨è¾¾å¼ï¼Œ**å¯è¯»æ€§é«˜**ã€‚  
  **äº®ç‚¹**ï¼š  
  - BFSæ¨å¯¼æ—¶ï¼Œç”¨é˜Ÿåˆ—å­˜å‚¨å¾…å¤„ç†èŠ‚ç‚¹ï¼Œé¿å…é€’å½’æ·±åº¦é—®é¢˜ï¼ˆé€‚åˆå¤§æ•°æ®ï¼‰ï¼›  
  - ç¯å¤„ç†æ—¶ï¼Œé€šè¿‡`check`å‡½æ•°åˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼ˆæ— è§£è¿”å›`-inf`ï¼Œå”¯ä¸€è§£è¿”å›å…·ä½“å€¼ï¼‰ï¼›  
  - çº¦æŸæ±‚è§£æ—¶ï¼Œç”¨`get_seg`å‡½æ•°å°†`0â‰¤z(u)â‰¤p(u)`è½¬åŒ–ä¸º`z(rt)`çš„åŒºé—´ï¼Œä»£ç å¤ç”¨æ€§é«˜ã€‚  
  æ­¤ä»£ç çš„**å®è·µä»·å€¼**åœ¨äºï¼ŒBFSçš„å®ç°æ–¹å¼æ›´ç¨³å®šï¼Œé€‚åˆå¤„ç†å¤§è§„æ¨¡å›¾ã€‚

### é¢˜è§£ä¸‰ï¼ˆæ¥æºï¼šAlex_Weiï¼Œèµ2ï¼‰
* **ç‚¹è¯„**ï¼š  
  æ­¤é¢˜è§£**ä»£ç ç®€æ´**ï¼Œç”¨`dfs`å‡½æ•°ä¸€æ¬¡æ€§å¤„ç†è¿é€šå—çš„çº¿æ€§è¡¨è¾¾å¼æ¨å¯¼å’Œç¯æ£€æµ‹ï¼Œé€»è¾‘ç´§å‡‘ã€‚å˜é‡å‘½å**ç®€æ´**ï¼ˆ`a[u]`è¡¨ç¤ºçº¿æ€§ç³»æ•°ï¼Œ`b[u]`è¡¨ç¤ºå¸¸æ•°é¡¹ï¼‰ï¼Œ**å¯è¯»æ€§å¼º**ã€‚  
  **äº®ç‚¹**ï¼š  
  - ç¯å¤„ç†æ—¶ï¼Œé€šè¿‡`a[u] + a[v]`åˆ¤æ–­ç¯çš„å¥‡å¶æ€§ï¼ˆå¥‡ç¯æ—¶`a[u]+a[v]=0`ï¼Œå¶ç¯æ—¶`a[u]+a[v]â‰ 0`ï¼‰ï¼›  
  - çº¦æŸæ±‚è§£æ—¶ï¼Œç›´æ¥éå†è¿é€šå—å†…æ‰€æœ‰ç‚¹ï¼Œè®¡ç®—`z(rt)`çš„åŒºé—´ï¼Œä»£ç é«˜æ•ˆï¼›  
  - æå€¼è®¡ç®—æ—¶ï¼Œæ ¹æ®`sum(a[u])`çš„ç¬¦å·ï¼ˆæ­£/è´Ÿï¼‰ï¼Œç¡®å®šæå€¼å‡ºç°åœ¨`l`æˆ–`r`ï¼Œé€»è¾‘æ¸…æ™°ã€‚  
  æ­¤ä»£ç çš„**å¯å‘æ€§**åœ¨äºï¼Œç”¨ç®€æ´çš„é€»è¾‘å¤„ç†äº†å¤æ‚çš„çº¦æŸé—®é¢˜ï¼Œé€‚åˆåˆå­¦è€…å­¦ä¹ ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. å¦‚ä½•å°†ç‚¹çš„å‡å°‘é‡è¡¨ç¤ºä¸ºçº¿æ€§å‡½æ•°ï¼Ÿ
* **åˆ†æ**ï¼š  
  å¯¹äºè¾¹`(u, v)`ï¼Œçº¦æŸ`z(u)+z(v)=C`ï¼ˆ`C=p(u)+p(v)-b(u,v)`ï¼‰å¯ä»¥æ¨å¯¼å‡º`z(v) = C - z(u)`ã€‚è‹¥`z(u)`æ˜¯å…³äº`z(rt)`çš„çº¿æ€§å‡½æ•°ï¼ˆå¦‚`z(u)=a[u]*z(rt)+b[u]`ï¼‰ï¼Œåˆ™`z(v) = -a[u]*z(rt) + (C - b[u])`ï¼Œå³`z(v)`ä¹Ÿæ˜¯å…³äº`z(rt)`çš„çº¿æ€§å‡½æ•°ã€‚å› æ­¤ï¼Œé€šè¿‡DFS/BFSéå†è¿é€šå—ï¼Œå¯ä»¥æ¨å¯¼å‡ºæ‰€æœ‰ç‚¹çš„çº¿æ€§è¡¨è¾¾å¼ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçº¿æ€§è¡¨è¾¾å¼çš„æ¨å¯¼æ˜¯è§£å†³é—®é¢˜çš„æ ¸å¿ƒï¼Œå…³é”®åœ¨äºåˆ©ç”¨è¾¹çš„çº¦æŸå°†ç‚¹å…³è”èµ·æ¥ã€‚

### 2. å¦‚ä½•å¤„ç†ç¯çš„æƒ…å†µï¼Ÿ
* **åˆ†æ**ï¼š  
  - **å¥‡ç¯**ï¼šéå†ç¯æ—¶ï¼Œä¼šå¾—åˆ°`z(rt)`çš„å”¯ä¸€è§£ï¼ˆå¦‚`2z(rt)=D`ï¼‰ã€‚éœ€éªŒè¯è§£çš„åˆæ³•æ€§ï¼ˆ`0â‰¤z(u)â‰¤p(u)`ï¼‰ï¼Œè‹¥ä¸åˆæ³•åˆ™è¾“å‡º`NIE`ã€‚  
  - **å¶ç¯**ï¼šéå†ç¯æ—¶ï¼Œéœ€æ£€æŸ¥çº¦æŸæ˜¯å¦ä¸€è‡´ï¼ˆå¦‚`z(u)+z(v)=C`æ˜¯å¦æ»¡è¶³æ¨å¯¼çš„è¡¨è¾¾å¼ï¼‰ã€‚è‹¥ä¸ä¸€è‡´ï¼Œåˆ™è¾“å‡º`NIE`ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç¯çš„å¤„ç†æ˜¯é—®é¢˜çš„å…³é”®éš¾ç‚¹ï¼Œéœ€åŒºåˆ†å¥‡ç¯å’Œå¶ç¯ï¼Œåˆ†åˆ«å¤„ç†ã€‚

### 3. å¦‚ä½•æ±‚è§£z(rt)çš„å–å€¼èŒƒå›´å¹¶è®¡ç®—æ€»å’Œçš„æå€¼ï¼Ÿ
* **åˆ†æ**ï¼š  
  å¯¹äºæ¯ä¸ªç‚¹`u`ï¼Œ`0â‰¤z(u)â‰¤p(u)`å¯ä»¥è½¬åŒ–ä¸º`0â‰¤a[u]*z(rt)+b[u]â‰¤p(u)`ã€‚è§£è¿™ä¸ªä¸ç­‰å¼ç»„ï¼Œå¾—åˆ°`z(rt)`çš„å–å€¼èŒƒå›´`[l, r]`ã€‚æ€»å’Œ`sum(z(u))`æ˜¯å…³äº`z(rt)`çš„çº¿æ€§å‡½æ•°ï¼ˆ`sum=K*z(rt)+B`ï¼‰ï¼Œæå€¼å‡ºç°åœ¨`l`æˆ–`r`ï¼ˆæ ¹æ®`K`çš„ç¬¦å·ï¼Œ`K>0`æ—¶`sum`éš`z(rt)`å¢å¤§è€Œå¢å¤§ï¼Œ`K<0`æ—¶ç›¸åï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæå€¼è®¡ç®—çš„å…³é”®åœ¨äºå°†æ€»å’Œè¡¨ç¤ºä¸ºçº¿æ€§å‡½æ•°ï¼Œå¹¶åˆ©ç”¨åŒºé—´ç«¯ç‚¹çš„æ€§è´¨ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **è¿é€šå—ç‹¬ç«‹å¤„ç†**ï¼šæ¯ä¸ªè¿é€šå—çš„è§£äº’ä¸å½±å“ï¼Œå¯å•ç‹¬å¤„ç†ã€‚  
- **çº¿æ€§è¡¨è¾¾å¼æ¨å¯¼**ï¼šåˆ©ç”¨è¾¹çš„çº¦æŸï¼Œå°†ç‚¹çš„å‡å°‘é‡è¡¨ç¤ºä¸ºåŸºå‡†ç‚¹çš„çº¿æ€§å‡½æ•°ã€‚  
- **ç¯å¤„ç†**ï¼šåŒºåˆ†å¥‡ç¯å’Œå¶ç¯ï¼Œåˆ†åˆ«å¤„ç†ï¼ˆå¥‡ç¯æ±‚å”¯ä¸€è§£ï¼Œå¶ç¯æ£€æŸ¥çº¦æŸï¼‰ã€‚  
- **çº¦æŸæ±‚è§£**ï¼šå°†ç‚¹çš„çº¦æŸè½¬åŒ–ä¸ºåŸºå‡†ç‚¹çš„åŒºé—´ï¼Œè®¡ç®—æ€»å’Œçš„æå€¼ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šç»¼åˆi207Mã€Resurgammmã€Alex_Weiçš„é¢˜è§£æ€è·¯ï¼Œæç‚¼å‡ºçš„é€šç”¨å®ç°ï¼ˆå¤„ç†è¿é€šå—ã€çº¿æ€§è¡¨è¾¾å¼æ¨å¯¼ã€ç¯å¤„ç†ã€çº¦æŸæ±‚è§£ï¼‰ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <queue>
  #include <climits>
  using namespace std;
  typedef long long ll;

  const int N = 5e5 + 10;
  const ll INF = LLONG_MAX / 2;

  struct Edge { int v; ll w; };
  vector<Edge> G[N];
  ll p[N];
  bool vis[N];
  ll a[N], b[N]; // z(u) = a[u] * z(rt) + b[u]
  ll K, B; // sum(z(u)) = K * z(rt) + B
  ll l, r; // z(rt)çš„å–å€¼èŒƒå›´

  void dfs(int u, int fa) {
      vis[u] = true;
      K += a[u];
      B += b[u];
      // è®¡ç®—z(rt)çš„å–å€¼èŒƒå›´
      if (a[u] == 1) {
          l = max(l, -b[u]);
          r = min(r, p[u] - b[u]);
      } else {
          l = max(l, b[u] - p[u]);
          r = min(r, b[u]);
      }
      for (auto &e : G[u]) {
          int v = e.v;
          ll w = e.w;
          if (v == fa) continue;
          if (!vis[v]) {
              a[v] = -a[u];
              b[v] = w - b[u];
              dfs(v, u);
          } else {
              // å¤„ç†ç¯
              if (a[u] == a[v]) {
                  // å¥‡ç¯ï¼šè§£æ–¹ç¨‹
                  ll D = w - b[u] - b[v];
                  if (D % 2 != 0) {
                      cout << "NIE" << endl;
                      exit(0);
                  }
                  ll x = D / 2;
                  l = max(l, x);
                  r = min(r, x);
              } else {
                  // å¶ç¯ï¼šæ£€æŸ¥çº¦æŸ
                  if (b[u] + b[v] != w) {
                      cout << "NIE" << endl;
                      exit(0);
                  }
              }
          }
      }
  }

  int main() {
      int n, m;
      cin >> n >> m;
      for (int i = 1; i <= n; ++i) {
          cin >> p[i];
      }
      for (int i = 0; i < m; ++i) {
          int u, v;
          ll w;
          cin >> u >> v >> w;
          w = p[u] + p[v] - w; // è½¬åŒ–ä¸ºz(u)+z(v)=w
          G[u].push_back({v, w});
          G[v].push_back({u, w});
      }
      ll ans_min = 0, ans_max = 0;
      for (int i = 1; i <= n; ++i) {
          if (!vis[i]) {
              a[i] = 1;
              b[i] = 0;
              K = 0;
              B = 0;
              l = -INF;
              r = INF;
              dfs(i, 0);
              if (l > r) {
                  cout << "NIE" << endl;
                  return 0;
              }
              // è®¡ç®—æ€»å’Œçš„æå€¼
              ll sum_l = K * l + B;
              ll sum_r = K * r + B;
              ans_min += min(sum_l, sum_r);
              ans_max += max(sum_l, sum_r);
          }
      }
      cout << ans_min << " " << ans_max << endl;
      return 0;
  }
  ```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  ä»£ç é¦–å…ˆè¯»å–è¾“å…¥ï¼Œæ„å»ºå›¾ã€‚ç„¶åéå†æ¯ä¸ªæœªå¤„ç†çš„è¿é€šå—ï¼Œç”¨DFSæ¨å¯¼çº¿æ€§è¡¨è¾¾å¼ï¼ˆ`a[u]`å’Œ`b[u]`ï¼‰ï¼Œå¤„ç†ç¯çš„æƒ…å†µï¼ˆå¥‡ç¯è§£æ–¹ç¨‹ï¼Œå¶ç¯æ£€æŸ¥çº¦æŸï¼‰ï¼Œè®¡ç®—`z(rt)`çš„å–å€¼èŒƒå›´ï¼ˆ`l`å’Œ`r`ï¼‰ã€‚æœ€åï¼Œæ ¹æ®æ€»å’Œçš„çº¿æ€§å‡½æ•°ï¼Œè®¡ç®—æ¯ä¸ªè¿é€šå—çš„æå€¼ï¼Œç´¯åŠ å¾—åˆ°æœ€ç»ˆç»“æœã€‚


### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ

#### é¢˜è§£ä¸€ï¼ˆæ¥æºï¼ši207Mï¼‰
* **äº®ç‚¹**ï¼šç”¨`struct Node`å°è£…çº¿æ€§è¡¨è¾¾å¼ï¼Œå¤„ç†ç¯çš„é€»è¾‘æ›´æ¸…æ™°ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  struct Node {
      ll a, b;
      Node(ll aa = 0, ll bb = 0) : a(aa), b(bb) {}
      ll calc(ll x) const { return a * x + b; }
  };
  Node zt[N];
  ll zp[N];

  void solve(int st) {
      // ... DFSæ¨å¯¼zt[u]ï¼ˆçº¿æ€§è¡¨è¾¾å¼ï¼‰
      for (int i = head[x]; i; i = nx[i]) {
          if (vis[v[i]] != cur && v[i] != fa[x]) {
              // å¤„ç†ç¯
              Node t = Node(0, vp[x] + vp[v[i]] - w[i]) - zt[x];
              if (zt[v[i]].a != t.a) {
                  // å¥‡ç¯ï¼šè§£æ–¹ç¨‹
                  ll tmp = (t.a == 1 ? zt[v[i]].b - t.b : t.b - zt[v[i]].b);
                  if (tmp % 2 == 1) gun();
                  else {
                      tmp /= 2;
                      // éªŒè¯tmpçš„åˆæ³•æ€§
                      ll res = calc(st, tmp);
                      mxval += res;
                      mnval += res;
                      return;
                  }
              } else if (zt[v[i]].b != t.b) {
                  gun();
              }
          }
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `Node`ç»“æ„ä½“å°è£…äº†çº¿æ€§è¡¨è¾¾å¼ï¼ˆ`a*x + b`ï¼‰ï¼Œ`calc`å‡½æ•°è®¡ç®—å¸¦å…¥`x`åçš„å€¼ã€‚  
  - `solve`å‡½æ•°ä¸­ï¼Œå¤„ç†ç¯æ—¶ï¼Œè‹¥`zt[v[i]].a != t.a`ï¼ˆå¥‡ç¯ï¼‰ï¼Œåˆ™è§£æ–¹ç¨‹å¾—åˆ°`tmp`ï¼ˆ`z(rt)`çš„å”¯ä¸€è§£ï¼‰ï¼Œå¹¶éªŒè¯åˆæ³•æ€§ï¼ˆ`calc`å‡½æ•°è®¡ç®—æ€»å’Œå¹¶æ£€æŸ¥`z(u)`æ˜¯å¦åœ¨èŒƒå›´å†…ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç”¨ç»“æ„ä½“å°è£…çº¿æ€§è¡¨è¾¾å¼å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¤ç”¨æ€§ã€‚

#### é¢˜è§£äºŒï¼ˆæ¥æºï¼šResurgammmï¼‰
* **äº®ç‚¹**ï¼šç”¨BFSæ¨å¯¼çº¿æ€§è¡¨è¾¾å¼ï¼Œé¿å…é€’å½’æ·±åº¦é—®é¢˜ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  struct node {
      ll k, b;
      ll get(ll x) const { return k * x + b; }
  } p[N];

  ll bfs(int s) {
      queue<int> q;
      p[s] = {1, 0};
      vis[s] = 1;
      q.push(s);
      ll res = INF; // INFè¡¨ç¤ºæ— æ•°è§£ï¼Œ-INFè¡¨ç¤ºæ— è§£
      while (!q.empty()) {
          int u = q.front();
          q.pop();
          for (auto &e : G[u]) {
              int v = e.v;
              ll w = e.w;
              if (!vis[v]) {
                  p[v] = { -p[u].k, w - p[u].b };
                  vis[v] = 1;
                  q.push(v);
              } else {
                  // å¤„ç†ç¯
                  node tmp = { -p[u].k, w - p[u].b };
                  if (p[v].k != tmp.k || p[v].b != tmp.b) {
                      // è§£æ–¹ç¨‹
                      if ((tmp.b - p[v].b) % (p[v].k - tmp.k) != 0) {
                          res = -INF;
                      } else {
                          ll x = (tmp.b - p[v].b) / (p[v].k - tmp.k);
                          if (res == INF) res = x;
                          else if (x != res) res = -INF;
                      }
                  }
              }
          }
      }
      return res;
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `node`ç»“æ„ä½“å°è£…äº†çº¿æ€§è¡¨è¾¾å¼ï¼ˆ`k*x + b`ï¼‰ï¼Œ`get`å‡½æ•°è®¡ç®—å¸¦å…¥`x`åçš„å€¼ã€‚  
  - `bfs`å‡½æ•°ä¸­ï¼Œç”¨é˜Ÿåˆ—å­˜å‚¨å¾…å¤„ç†èŠ‚ç‚¹ï¼Œæ¨å¯¼`p[v]`çš„çº¿æ€§è¡¨è¾¾å¼ã€‚å¤„ç†ç¯æ—¶ï¼Œè‹¥`p[v]`çš„è¡¨è¾¾å¼ä¸æ¨å¯¼çš„`tmp`ä¸ä¸€è‡´ï¼Œåˆ™è§£æ–¹ç¨‹å¾—åˆ°`x`ï¼ˆ`z(rt)`çš„å”¯ä¸€è§£ï¼‰ï¼Œå¹¶éªŒè¯æ˜¯å¦ä¸€è‡´ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šBFSé€‚åˆå¤„ç†å¤§è§„æ¨¡å›¾ï¼Œé¿å…é€’å½’æ·±åº¦è¶…é™çš„é—®é¢˜ã€‚

#### é¢˜è§£ä¸‰ï¼ˆæ¥æºï¼šAlex_Weiï¼‰
* **äº®ç‚¹**ï¼šç”¨ç®€æ´çš„é€»è¾‘å¤„ç†ç¯çš„å¥‡å¶æ€§ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void dfs(int u) {
      vis[u] = true;
      for (auto &e : G[u]) {
          int v = e.v;
          ll w = e.w;
          if (!vis[v]) {
              a[v] = -a[u];
              b[v] = w - b[u];
              dfs(v);
          } else {
              if (a[u] + a[v] == 0) {
                  // å¥‡ç¯ï¼šè§£æ–¹ç¨‹
                  if ((w - b[u] - b[v]) % 2 != 0) {
                      cout << "NIE" << endl;
                      exit(0);
                  }
                  ll x = (w - b[u] - b[v]) / 2;
                  l = max(l, x);
                  r = min(r, x);
              } else {
                  // å¶ç¯ï¼šæ£€æŸ¥çº¦æŸ
                  if (b[u] + b[v] != w) {
                      cout << "NIE" << endl;
                      exit(0);
                  }
              }
          }
      }
  }
  ```
* **ä»£ç è§£è¯»**ï¼š  
  - `a[u] + a[v] == 0`è¡¨ç¤ºå¥‡ç¯ï¼ˆå› ä¸º`a[u]`å’Œ`a[v]`çš„ç¬¦å·ç›¸åï¼Œç¯çš„é•¿åº¦ä¸ºå¥‡æ•°ï¼‰ï¼Œæ­¤æ—¶è§£æ–¹ç¨‹å¾—åˆ°`x`ï¼ˆ`z(rt)`çš„å”¯ä¸€è§£ï¼‰ã€‚  
  - `a[u] + a[v] != 0`è¡¨ç¤ºå¶ç¯ï¼ˆç¯çš„é•¿åº¦ä¸ºå¶æ•°ï¼‰ï¼Œæ­¤æ—¶æ£€æŸ¥`b[u] + b[v] == w`æ˜¯å¦æˆç«‹ï¼ˆçº¦æŸæ˜¯å¦ä¸€è‡´ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé€šè¿‡`a[u] + a[v]`çš„ç¬¦å·å¯ä»¥å¿«é€Ÿåˆ¤æ–­ç¯çš„å¥‡å¶æ€§ï¼Œç®€åŒ–ç¯å¤„ç†é€»è¾‘ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤ºï¼ˆæ ¸å¿ƒéƒ¨åˆ†ï¼‰

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šåƒç´ æ¢é™©å®¶çš„â€œçº¦æŸç ´è§£â€ä¹‹æ—…
ï¼ˆä»¿ç…§FCæ¸¸æˆã€Šå¡å°”è¾¾ä¼ è¯´ã€‹çš„åƒç´ é£æ ¼ï¼Œç©å®¶æ§åˆ¶â€œåƒç´ æ¢é™©å®¶â€éå†è¿é€šå—ï¼Œç ´è§£çº¿æ€§çº¦æŸï¼Œæ‰¾åˆ°`z(rt)`çš„å–å€¼èŒƒå›´ã€‚ï¼‰

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•æ˜¾ç¤º8ä½åƒç´ é£æ ¼çš„åœ°å›¾ï¼ˆèŠ‚ç‚¹ä¸ºå½©è‰²æ–¹å—ï¼Œè¾¹ä¸ºçº¿æ¡ï¼‰ï¼ŒåŸºå‡†ç‚¹`rt`ç”¨é»„è‰²æ ‡è®°ï¼Œæœªå¤„ç†èŠ‚ç‚¹ç”¨ç°è‰²æ ‡è®°ã€‚  
   - æ§åˆ¶é¢æ¿æ˜¾ç¤ºâ€œå¼€å§‹/æš‚åœâ€â€œå•æ­¥æ‰§è¡Œâ€â€œé‡ç½®â€æŒ‰é’®ï¼Œä»¥åŠ`z(rt)`çš„å–å€¼èŒƒå›´è¿›åº¦æ¡ã€‚  
   - 8ä½é£æ ¼çš„èƒŒæ™¯éŸ³ä¹ï¼ˆè½»å¿«çš„ç”µå­ä¹ï¼‰å¼€å§‹æ’­æ”¾ã€‚

2. **DFSæ¨å¯¼çº¿æ€§è¡¨è¾¾å¼**ï¼š  
   - æ¢é™©å®¶ä»`rt`å‡ºå‘ï¼Œé€æ­¥éå†èŠ‚ç‚¹ï¼ˆèŠ‚ç‚¹ä»ç°è‰²â†’è“è‰²ï¼‰ã€‚  
   - æ¯ä¸ªèŠ‚ç‚¹ä¸Šæ–¹æ˜¾ç¤ºå½“å‰`z(u)`çš„çº¿æ€§è¡¨è¾¾å¼ï¼ˆå¦‚`z(2) = -z(1) + 5`ï¼‰ã€‚  
   - éå†è¾¹æ—¶ï¼Œè¾¹é—ªçƒç»¿è‰²ï¼Œå¹¶æ˜¾ç¤ºçº¦æŸ`z(u)+z(v)=C`ï¼ˆå¦‚`z(1)+z(2)=5`ï¼‰ã€‚

3. **ç¯æ£€æµ‹**ï¼š  
   - å½“æ¢é™©å®¶é‡åˆ°ç¯æ—¶ï¼Œç¯çš„èŠ‚ç‚¹é—ªçƒçº¢è‰²ï¼ˆå¥‡ç¯ï¼‰æˆ–ç»¿è‰²ï¼ˆå¶ç¯ï¼‰ã€‚  
   - å¥‡ç¯æ—¶ï¼Œå¼¹å‡ºæç¤ºæ¡†ï¼ˆå¦‚â€œå¥‡ç¯ï¼šz(rt)=3â€ï¼‰ï¼Œå¹¶æ’­æ”¾â€œå’šâ€çš„éŸ³æ•ˆã€‚  
   - å¶ç¯æ—¶ï¼Œå¼¹å‡ºæç¤ºæ¡†ï¼ˆå¦‚â€œå¶ç¯ï¼šçº¦æŸä¸€è‡´â€ï¼‰ï¼Œå¹¶æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆã€‚

4. **çº¦æŸæ±‚è§£**ï¼š  
   - éå†å®Œè¿é€šå—åï¼Œè¿›åº¦æ¡æ˜¾ç¤º`z(rt)`çš„å–å€¼èŒƒå›´ï¼ˆ`l`åˆ°`r`ï¼‰ï¼Œè¿›åº¦æ¡çš„è“è‰²éƒ¨åˆ†è¡¨ç¤ºåˆæ³•åŒºé—´ã€‚  
   - æ€»å’Œéš`z(rt)`å˜åŒ–çš„æ›²çº¿ç”¨ç»¿è‰²æŠ˜çº¿æ˜¾ç¤ºï¼ˆæ›²çº¿çš„ç«¯ç‚¹å¯¹åº”`sum_l`å’Œ`sum_r`ï¼‰ã€‚

5. **æå€¼è®¡ç®—**ï¼š  
   - è®¡ç®—å®Œæˆåï¼Œå±å¹•æ˜¾ç¤ºâ€œé€šå…³â€åŠ¨ç”»ï¼ˆåƒç´ çƒŸèŠ±ï¼‰ï¼Œå¹¶æ’­æ”¾â€œèƒœåˆ©éŸ³æ•ˆâ€ã€‚  
   - æ˜¾ç¤ºå½“å‰è¿é€šå—çš„`sum_min`å’Œ`sum_max`ï¼ˆå¦‚â€œå½“å‰è¿é€šå—ï¼šmin=12ï¼Œmax=15â€ï¼‰ã€‚

### äº¤äº’è®¾è®¡
- **å•æ­¥æ‰§è¡Œ**ï¼šç‚¹å‡»â€œå•æ­¥â€æŒ‰é’®ï¼Œæ¢é™©å®¶ç§»åŠ¨ä¸€æ­¥ï¼Œæ˜¾ç¤ºå½“å‰æ­¥éª¤çš„è¯¦ç»†ä¿¡æ¯ï¼ˆå¦‚â€œéå†èŠ‚ç‚¹2ï¼Œæ¨å¯¼z(2) = -z(1) +5â€ï¼‰ã€‚  
- **è‡ªåŠ¨æ’­æ”¾**ï¼šç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼Œæ¢é™©å®¶è‡ªåŠ¨éå†è¿é€šå—ï¼Œé€Ÿåº¦å¯é€šè¿‡æ»‘å—è°ƒæ•´ï¼ˆå¦‚â€œæ…¢â†’å¿«â€ï¼‰ã€‚  
- **é‡ç½®åŠ¨ç”»**ï¼šç‚¹å‡»â€œé‡ç½®â€æŒ‰é’®ï¼Œå›åˆ°åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹æ¼”ç¤ºã€‚

### æŠ€æœ¯å®ç°
- **Canvasç»˜åˆ¶**ï¼šç”¨`Canvas`ç»˜åˆ¶åƒç´ èŠ‚ç‚¹ã€è¾¹ã€è¿›åº¦æ¡å’Œæ›²çº¿ã€‚èŠ‚ç‚¹çš„é¢œè‰²å˜åŒ–é€šè¿‡`fillStyle`å±æ€§å®ç°ï¼Œè¾¹çš„é—ªçƒé€šè¿‡`setInterval`å®šæ—¶åˆ‡æ¢é¢œè‰²ã€‚  
- **éŸ³æ•ˆå¤„ç†**ï¼šç”¨`Web Audio API`æ’­æ”¾8ä½é£æ ¼çš„éŸ³æ•ˆï¼ˆå¦‚â€œå®â€â€œå’šâ€â€œèƒœåˆ©éŸ³æ•ˆâ€ï¼‰ï¼ŒéŸ³æ•ˆæ–‡ä»¶ä¸º`wav`æ ¼å¼ï¼ˆè½»é‡åŒ–ï¼‰ã€‚  
- **é€»è¾‘æ§åˆ¶**ï¼šç”¨`JavaScript`å®ç°DFSé€»è¾‘ã€ç¯æ£€æµ‹ã€çº¦æŸæ±‚è§£å’Œæå€¼è®¡ç®—ï¼Œå°†ç»“æœåŒæ­¥åˆ°`Canvas`å’Œæ§åˆ¶é¢æ¿ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»
æœ¬é¢˜çš„æ ¸å¿ƒæ€è·¯ï¼ˆè¿é€šå—å¤„ç†+çº¿æ€§çº¦æŸæ±‚è§£ï¼‰å¯è¿ç§»åˆ°ä»¥ä¸‹åœºæ™¯ï¼š  
1. **å·®åˆ†çº¦æŸç³»ç»Ÿ**ï¼šå¦‚æ´›è°·P3275 [SCOI2011]ç³–æœï¼ˆæ±‚æ»¡è¶³å·®åˆ†çº¦æŸçš„æœ€å°å€¼ï¼‰ã€‚  
2. **çº¿æ€§è§„åˆ’åœ¨å›¾ä¸­çš„åº”ç”¨**ï¼šå¦‚æ±‚å›¾ä¸­èŠ‚ç‚¹çš„å–å€¼èŒƒå›´ï¼Œæ»¡è¶³è¾¹çš„çº¦æŸã€‚  
3. **å›¾çš„å¥‡å¶ç¯é—®é¢˜**ï¼šå¦‚åˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨å¥‡ç¯ï¼Œæˆ–æ±‚å¥‡ç¯çš„è§£ã€‚

### ç»ƒä¹ æ¨èï¼ˆæ´›è°·ï¼‰
1. **æ´›è°·P3275 [SCOI2011]ç³–æœ**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜æ˜¯å·®åˆ†çº¦æŸç³»ç»Ÿçš„ç»å…¸é—®é¢˜ï¼Œéœ€è¦æ±‚æ»¡è¶³çº¦æŸçš„æœ€å°å€¼ï¼Œå¯å·©å›ºçº¿æ€§çº¦æŸæ±‚è§£çš„æ€è·¯ã€‚  
2. **æ´›è°·P1993 å°Kçš„å†œåœº**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜ä¹Ÿæ˜¯å·®åˆ†çº¦æŸç³»ç»Ÿçš„é—®é¢˜ï¼Œéœ€è¦æ±‚æ»¡è¶³çº¦æŸçš„è§£ï¼Œå¯ç»ƒä¹ è¿é€šå—å¤„ç†å’Œçº¦æŸæ±‚è§£ã€‚  
3. **æ´›è°·P2294 [HNOI2005]ç‹¡çŒ¾çš„å•†äºº**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ»¡è¶³çº¦æŸçš„è§£ï¼Œå¯ç»ƒä¹ ç¯å¤„ç†å’Œçº¦æŸä¸€è‡´æ€§æ£€æŸ¥ã€‚  
4. **æ´›è°·P3544 [POI2012]BEZ-Minimalist Security**ï¼ˆæœ¬é¢˜ï¼‰  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šå†åšä¸€éæœ¬é¢˜ï¼Œå·©å›ºçº¿æ€§è¡¨è¾¾å¼æ¨å¯¼ã€ç¯å¤„ç†å’Œæå€¼è®¡ç®—çš„æ€è·¯ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«ï¼ˆè‹¥æœ‰ï¼‰

### å‚è€ƒç»éªŒï¼ˆæ¥è‡ªi207Mï¼‰
> â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆåœ¨å¤„ç†å¥‡ç¯æ—¶å¡äº†å¾ˆä¹…ï¼Œåæ¥é€šè¿‡å°†å¥‡ç¯çš„çº¦æŸè½¬åŒ–ä¸ºæ–¹ç¨‹ï¼Œç›´æ¥æ±‚è§£`z(rt)`çš„å”¯ä¸€è§£ï¼Œæ‰è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œå¤„ç†ç¯çš„å…³é”®åœ¨äºå°†ç¯çš„çº¦æŸè½¬åŒ–ä¸ºå¯æ±‚è§£çš„æ–¹ç¨‹ã€‚â€

**ç‚¹è¯„**ï¼š  
è¿™ä½ä½œè€…çš„ç»éªŒå¾ˆå…¸å‹ã€‚åœ¨å¤„ç†ç¯çš„é—®é¢˜æ—¶ï¼Œå°†ç¯çš„çº¦æŸè½¬åŒ–ä¸ºæ–¹ç¨‹æ˜¯ä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•ã€‚å¯¹äºå¥‡ç¯ï¼Œæ–¹ç¨‹çš„è§£æ˜¯å”¯ä¸€çš„ï¼Œéœ€è¦éªŒè¯åˆæ³•æ€§ï¼›å¯¹äºå¶ç¯ï¼Œæ–¹ç¨‹çš„çº¦æŸæ˜¯ä¸€è‡´çš„ï¼Œéœ€è¦æ£€æŸ¥æ˜¯å¦æ»¡è¶³ã€‚è¿™ç§æ€è·¯å¯ä»¥æ¨å¹¿åˆ°å…¶ä»–å›¾è®ºçº¦æŸé—®é¢˜ä¸­ã€‚


## ç»“è¯­
æœ¬æ¬¡å…³äºâ€œ[POI2012] BEZ-Minimalist Securityâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£å›¾è®ºè¿é€šå—å¤„ç†å’Œçº¿æ€§çº¦æŸæ±‚è§£çš„æ€è·¯ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äºæŒç»­å­¦ä¹ ã€å‹¤äºæ€è€ƒå’Œå‹‡äºå®è·µã€‚ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š212.87ç§’
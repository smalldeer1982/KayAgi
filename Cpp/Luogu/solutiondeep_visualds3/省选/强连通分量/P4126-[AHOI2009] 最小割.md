# é¢˜ç›®ä¿¡æ¯

# [AHOI2009] æœ€å°å‰²

## é¢˜ç›®æè¿°

$A,B$ ä¸¤ä¸ªå›½å®¶æ­£åœ¨äº¤æˆ˜ï¼Œå…¶ä¸­ $A$ å›½çš„ç‰©èµ„è¿è¾“ç½‘ä¸­æœ‰ $N$ ä¸ªä¸­è½¬ç«™ï¼Œ$M$ æ¡å•å‘é“è·¯ã€‚è®¾å…¶ä¸­ç¬¬ $i(1\le i\le M)$ æ¡é“è·¯è¿æ¥äº† $v_i,u_i$ ä¸¤ä¸ªä¸­è½¬ç«™ï¼Œé‚£ä¹ˆä¸­è½¬ç«™ $v_i$ å¯ä»¥é€šè¿‡è¯¥é“è·¯åˆ°è¾¾ $u_i$ ä¸­è½¬ç«™ï¼Œå¦‚æœåˆ‡æ–­è¿™æ¡é“è·¯ï¼Œéœ€è¦ä»£ä»· $c_i$ã€‚

ç°åœ¨ $B$ å›½æƒ³æ‰¾å‡ºä¸€ä¸ªè·¯å¾„åˆ‡æ–­æ–¹æ¡ˆï¼Œä½¿ä¸­è½¬ç«™ $s$ ä¸èƒ½åˆ°è¾¾ä¸­è½¬ç«™ $t$ï¼Œå¹¶ä¸”åˆ‡æ–­è·¯å¾„çš„ä»£ä»·ä¹‹å’Œæœ€å°ã€‚

å°å¯å¯ä¸€çœ¼å°±çœ‹å‡ºï¼Œè¿™æ˜¯ä¸€ä¸ªæ±‚æœ€å°å‰²çš„é—®é¢˜ã€‚ä½†çˆ±æ€è€ƒçš„å°å¯å¯å¹¶ä¸å±€é™äºæ­¤ã€‚ç°åœ¨ä»–å¯¹æ¯æ¡å•å‘é“è·¯æå‡ºä¸¤ä¸ªé—®é¢˜ï¼š

- é—®é¢˜ä¸€ï¼šæ˜¯å¦å­˜åœ¨ä¸€ä¸ªæœ€å°ä»£ä»·è·¯å¾„åˆ‡æ–­æ–¹æ¡ˆï¼Œå…¶ä¸­è¯¥é“è·¯è¢«åˆ‡æ–­ï¼Ÿ
- é—®é¢˜äºŒï¼šæ˜¯å¦å¯¹ä»»ä½•ä¸€ä¸ªæœ€å°ä»£ä»·è·¯å¾„åˆ‡æ–­æ–¹æ¡ˆï¼Œéƒ½æœ‰è¯¥é“è·¯è¢«åˆ‡æ–­ï¼Ÿ

ç°åœ¨è¯·ä½ å›ç­”è¿™ä¸¤ä¸ªé—®é¢˜ã€‚

## è¯´æ˜/æç¤º

è®¾ç¬¬ $(i+1)$ è¡Œè¾“å…¥çš„è¾¹ä¸º $i$ å·è¾¹ï¼Œé‚£ä¹ˆ $\{1,2\},\{6,7\},\{2,4,6\}$ æ˜¯ä»…æœ‰çš„ä¸‰ä¸ªæœ€å°ä»£ä»·åˆ‡å‰²æ–¹æ¡ˆã€‚å®ƒä»¬çš„å¹¶æ˜¯ $\{1,2,4,6,7\}$ï¼Œäº¤æ˜¯ $\{\varnothing \}$ã€‚

æµ‹è¯•æ•°æ®è§„æ¨¡å¦‚ä¸‹è¡¨æ‰€ç¤º

æ•°æ®ç¼–å·|N|M|æ•°æ®ç¼–å·|N|M
-|-|-|-|-|-
1|10|50|6|1000|20000
2|20|200|7|1000|40000
3|200|2000|8|2000|50000
4|200|2000|9|3000|60000
5|1000|20000|10|4000|60000

## æ ·ä¾‹ #1

### è¾“å…¥

```
6 7 1 6
1 2 3
1 3 2
2 4 4
2 5 1
3 5 5
4 6 2
5 6 3```

### è¾“å‡º

```
1 0
1 0
0 0
1 0
0 0
1 0
1 0```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šæœ€å°å‰² æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### **1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«**
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šç½‘ç»œæµæœ€å°å‰² + å¼ºè¿é€šåˆ†é‡  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> æœ€å°å‰²é—®é¢˜å¯è½¬åŒ–ä¸ºæœ€å¤§æµæ±‚è§£ã€‚å…³é”®éš¾ç‚¹åœ¨äºåˆ¤æ–­æ¯æ¡è¾¹æ˜¯å¦ä¸º**å¯è¡Œè¾¹**ï¼ˆå­˜åœ¨äºè‡³å°‘ä¸€ä¸ªæœ€å°å‰²æ–¹æ¡ˆï¼‰æˆ–**å¿…é¡»è¾¹**ï¼ˆå­˜åœ¨äºæ‰€æœ‰æœ€å°å‰²æ–¹æ¡ˆï¼‰ã€‚  
> **æ ¸å¿ƒæ€æƒ³æ¯”å–»**ï¼šæƒ³è±¡åŸå¸‚ä¾›æ°´ç³»ç»Ÿï¼ˆç½‘ç»œï¼‰ï¼Œæœ€å°å‰²æ˜¯åˆ‡æ–­ä¾›æ°´çš„æœ€å°ä»£ä»·æ–¹æ¡ˆã€‚å¯è¡Œè¾¹æ˜¯"å¯é€‰çš„åˆ‡æ–­ç‚¹"ï¼ˆå¦‚å¤‡ç”¨ç®¡é“ï¼‰ï¼Œå¿…é¡»è¾¹æ˜¯"å¿…ç»çš„é˜€é—¨"ï¼ˆå”¯ä¸€é€šé“ï¼‰ã€‚  
> **æ ¸å¿ƒæµç¨‹**ï¼š
> 1. ç”¨Dinicç®—æ³•æ±‚æœ€å¤§æµï¼Œå¾—åˆ°æ®‹é‡ç½‘ç»œ
> 2. åœ¨æ®‹é‡ç½‘ç»œï¼ˆå¿½ç•¥æ»¡æµè¾¹ï¼‰ä¸Šè¿è¡ŒTarjanç®—æ³•æ±‚å¼ºè¿é€šåˆ†é‡
> 3. åˆ¤æ–­æ¯æ¡è¾¹ï¼š
>    - å¯è¡Œè¾¹ï¼šæ»¡æµä¸”ä¸¤ç«¯ç‚¹ä¸åœ¨åŒä¸€SCC
>    - å¿…é¡»è¾¹ï¼šæ»¡æµä¸”èµ·ç‚¹ä¸æºç‚¹åŒSCCã€ç»ˆç‚¹ä¸æ±‡ç‚¹åŒSCC
>
> **åƒç´ åŠ¨ç”»è®¾è®¡**ï¼š
> - **å¤å¤æ°´ç®¡å·¥é£æ ¼**ï¼šç”¨8-bitåƒç´ æ–¹å—è¡¨ç¤ºèŠ‚ç‚¹ï¼ˆä¸­è½¬ç«™ï¼‰ï¼Œç®¡é“è¡¨ç¤ºè¾¹ï¼Œæ°´æµåŠ¨ç”»å±•ç¤ºDinicç®—æ³•å¢å¹¿è¿‡ç¨‹
> - **å…³é”®é«˜äº®**ï¼šæ»¡æµè¾¹å˜çº¢è‰²ï¼ŒSCCç¼©ç‚¹æ—¶åŒè‰²å—é—ªçƒ
> - **éŸ³æ•ˆ**ï¼šæ°´æµå£°ï¼ˆæ­£å¸¸æµåŠ¨ï¼‰ã€"å®"ï¼ˆæ»¡æµï¼‰ã€"å’”åš“"ï¼ˆSCCç¼©ç‚¹ï¼‰

---

#### **2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ**
**é¢˜è§£ä¸€ï¼ˆcommand_blockï¼‰**
* **ç‚¹è¯„**ï¼šæ€è·¯æœ€æ¸…æ™°ä¸¥è°¨ï¼Œå®Œæ•´å®ç°Dinicå’ŒTarjanï¼Œå˜é‡åè§„èŒƒï¼ˆ`fir`/`tl`ï¼‰ã€‚äº®ç‚¹ï¼šç”¨`col[]`å­˜å‚¨SCCç¼–å·ï¼Œç›´æ¥åˆ¤æ–­å¯è¡Œè¾¹ï¼ˆ`col[u]!=col[v]`ï¼‰å’Œå¿…é¡»è¾¹ï¼ˆ`col[u]==col[S] && col[v]==col[T]`ï¼‰ã€‚ä»£ç è¾¹ç•Œå¤„ç†å®Œæ•´ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£äºŒï¼ˆæ–—ç¥Â·å›è«ç¬‘ï¼‰**
* **ç‚¹è¯„**ï¼šæ•™å­¦æ€§æœ€å¼ºï¼Œç”¨å®šç†å½¢å¼æ˜ç¡®å¯è¡Œè¾¹/å¿…é¡»è¾¹çš„å……è¦æ¡ä»¶ã€‚äº®ç‚¹ï¼šè¯¦ç»†æ³¨é‡Šï¼ˆå¦‚`cntå¿…é¡»ä»1å¼€å§‹`è§£é‡Šå¼‚æˆ–æŠ€å·§ï¼‰ï¼Œä»£ç åŠ å…¥`DFS`æ ‡è®°æºæ±‡å¯è¾¾æ€§å¢å¼ºå¯è¯»æ€§ã€‚å®è·µä»·å€¼é«˜ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚

**é¢˜è§£ä¸‰ï¼ˆasuldbï¼‰**
* **ç‚¹è¯„**ï¼šä»£ç æœ€ç®€æ´ï¼ˆä»…70è¡Œï¼‰ï¼Œæ ¸å¿ƒé€»è¾‘çªå‡ºã€‚äº®ç‚¹ï¼šç”¨`id<<1`å¿«é€Ÿå®šä½æ­£å‘è¾¹ï¼Œ`bel[]`ä»£æ›¿`col[]`ï¼ŒåŒè´¨å¼‚åã€‚è™½çœç•¥å½“å‰å¼§ä¼˜åŒ–ï¼Œä½†æ•°æ®è§„æ¨¡ä¸‹ä»é«˜æ•ˆã€‚

---

#### **3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥**
1. **éš¾ç‚¹1ï¼šç†è§£å¯è¡Œè¾¹çš„å……è¦æ¡ä»¶**  
   * **åˆ†æ**ï¼šéœ€åŒæ—¶æ»¡è¶³æ»¡æµå’Œæ— æ›¿ä»£è·¯å¾„ã€‚ä¼˜è´¨è§£é€šè¿‡Tarjanåˆ¤æ–­æ˜¯å¦åŒSCCï¼ˆå­˜åœ¨è·¯å¾„åˆ™éå¯è¡Œè¾¹ï¼‰
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ»¡æµæ˜¯é—¨æ§›ï¼ŒSCCæ˜¯"æ›¿ä»£è·¯å¾„æ£€æµ‹å™¨"

2. **éš¾ç‚¹2ï¼šç†è§£å¿…é¡»è¾¹çš„å”¯ä¸€æ€§**  
   * **åˆ†æ**ï¼šå¿…é¡»è¾¹æ˜¯å…¨å±€ç“¶é¢ˆã€‚ä¼˜è´¨è§£é€šè¿‡åˆ¤æ–­`SCC[S]==SCC[u] && SCC[T]==SCC[v]`ï¼Œç¡®ä¿å…¶ä¸å¯ç»•å¼€
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¿…é¡»è¾¹=æºç‚¹"ç»‘å®š"èµ·ç‚¹+æ±‡ç‚¹"ç»‘å®š"ç»ˆç‚¹

3. **éš¾ç‚¹3ï¼šæ®‹é‡ç½‘ç»œçš„æ„å»ºä¸å¤„ç†**  
   * **åˆ†æ**ï¼šTarjanéœ€å¿½ç•¥æ»¡æµè¾¹ï¼ˆå‰©ä½™å®¹é‡=0ï¼‰ï¼Œå¦åˆ™SCCåˆ’åˆ†é”™è¯¯ã€‚é¢˜è§£ç”¨`if(!e[i].cap) continue`ç²¾å‡†è·³è¿‡
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ®‹é‡ç½‘ç»œæ˜¯åŠ¨æ€èˆå°ï¼Œæ»¡æµè¾¹éœ€"éšèº«"

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**  
- **æŠ€å·§1ï¼ˆé—®é¢˜è½¬åŒ–ï¼‰**ï¼šæœ€å°å‰²é—®é¢˜ â†’ æœ€å¤§æµ + å›¾è¿é€šæ€§åˆ†æ  
- **æŠ€å·§2ï¼ˆæ¨¡å—åŒ–ï¼‰**ï¼šDinicå’ŒTarjanç‹¬ç«‹å®ç°ï¼Œé€šè¿‡æ®‹é‡ç½‘ç»œè¡”æ¥  
- **æŠ€å·§3ï¼ˆè¾¹ç•Œå¤„ç†ï¼‰**ï¼šæ­£å‘è¾¹ä»1å¼€å§‹è®¡æ•°ï¼Œå¼‚æˆ–1å–åå‘è¾¹ï¼ˆ`e[i^1]`ï¼‰

---

#### **4. C++æ ¸å¿ƒä»£ç å®ç°èµæ**
**é€šç”¨æ ¸å¿ƒå®ç°**ï¼ˆç»¼åˆè‡ªä¼˜è´¨é¢˜è§£ï¼‰ï¼š
```cpp
#include <cstdio>
#include <queue>
#include <stack>
#include <cstring>
using namespace std;
const int N = 4005, M = 60005, INF = 1e9;

struct Dinic {
    struct Edge { int to, next, cap; } e[M*2];
    int head[N], cur[N], level[N], tot = 1;
    void add(int u, int v, int w) {
        e[++tot] = {v, head[u], w}; head[u] = tot;
        e[++tot] = {u, head[v], 0}; head[v] = tot; // åå‘è¾¹
    }
    bool bfs(int s, int t) { /* åˆ†å±‚ */ }
    int dfs(int u, int flow, int t) { /* å¢å¹¿ */ }
    int maxflow(int s, int t) {
        int res = 0;
        while(bfs(s, t)) 
            while(int f = dfs(s, INF, t)) res += f;
        return res;
    }
} dinic;

struct Tarjan {
    int dfn[N], low[N], col[N], idx, scc;
    bool ins[N]; stack<int> stk;
    void tarjan(int u, Dinic &d) {
        dfn[u] = low[u] = ++idx; stk.push(u); ins[u] = 1;
        for(int i = d.head[u]; i; i = d.e[i].next) {
            if(!d.e[i].cap) continue; // å¿½ç•¥æ»¡æµè¾¹ï¼
            int v = d.e[i].to;
            if(!dfn[v]) tarjan(v, d), low[u] = min(low[u], low[v]);
            else if(ins[v]) low[u] = min(low[u], dfn[v]);
        }
        if(low[u] == dfn[u]) {
            scc++; while(1) {
                int v = stk.top(); stk.pop(); ins[v] = 0;
                col[v] = scc; if(u == v) break;
            }
        }
    }
} tj;

int main() {
    int n, m, S, T; scanf("%d%d%d%d", &n, &m, &S, &T);
    for(int i=1,u,v,w; i<=m; i++) {
        scanf("%d%d%d", &u, &v, &w);
        dinic.add(u, v, w);
    }
    dinic.maxflow(S, T); // æ±‚æœ€å¤§æµ
    for(int i=1; i<=n; i++) 
        if(!tj.dfn[i]) tj.tarjan(i, dinic);
    
    for(int i=1; i<=m; i++) {
        int id = i*2; // æ­£å‘è¾¹ä½ç½®
        bool full = (dinic.e[id].cap == 0); // æ˜¯å¦æ»¡æµ
        bool feasible = full && (tj.col[dinic.e[id^1].to] != tj.col[dinic.e[id].to]);
        bool essential = full && (tj.col[dinic.e[id^1].to] == tj.col[S]) 
                         && (tj.col[dinic.e[id].to] == tj.col[T]);
        printf("%d %d\n", feasible, essential);
    }
    return 0;
}
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š
1. `Dinic`ç±»å°è£…æœ€å¤§æµï¼ˆåˆ†å±‚+å¢å¹¿ï¼‰
2. `Tarjan`ç±»åœ¨æ®‹é‡ç½‘ç»œï¼ˆ`!e.cap`è·³è¿‡æ»¡æµè¾¹ï¼‰æ±‚SCC
3. ä¸»å‡½æ•°ï¼šå»ºå›¾ â†’ æ±‚æµ â†’ ç¼©ç‚¹ â†’ åˆ¤æ–­æ¯æ¡è¾¹

**é¢˜è§£ä¸€ï¼ˆcommand_blockï¼‰ç‰‡æ®µèµæ**ï¼š
```cpp
// åˆ¤æ–­éƒ¨åˆ†ï¼ˆç²¾ç®€ç‰ˆï¼‰
if (!l[i<<1].cap) { // æ»¡æµæ£€æŸ¥
    printf("%d %d\n", 
        col[fr[i]] != col[to[i]],  // å¯è¡Œè¾¹ï¼šä¸åŒSCC
        col[fr[i]] == col[S] && col[to[i]] == col[T] // å¿…é¡»è¾¹
    );
} else puts("0 0");
```
**äº®ç‚¹**ï¼šç”¨ä½è¿ç®—`i<<1`å®šä½æ­£å‘è¾¹ï¼Œé€»è¾‘ç´§å‡‘  
**å­¦ä¹ ç¬”è®°**ï¼šä½è¿ç®—æ›¿ä»£ä¹˜æ³•ï¼Œæå‡æ•ˆç‡ä¸å¯è¯»æ€§

**é¢˜è§£äºŒï¼ˆæ–—ç¥Â·å›è«ç¬‘ï¼‰ç‰‡æ®µèµæ**ï¼š
```cpp
// Dinicç®—æ³•å¢å¹¿ï¼ˆæ•™å­¦æ³¨é‡Šç‰ˆï¼‰
int dfs(int u, int flow) {
    if(u == t) return flow;
    int used = 0;
    for(int i = cur[u]; i; i = e[i].nxt) {
        cur[u] = i; // å½“å‰å¼§ä¼˜åŒ–
        if(e[i].w && dis[e[i].to] == dis[u] + 1) {
            int f = dfs(e[i].to, min(flow, e[i].w));
            e[i].w -= f; e[i^1].w += f; // æ›´æ–°æ®‹ä½™ç½‘ç»œ
            flow -= f; used += f;
            if(!flow) break;
        }
    }
    if(!used) dis[u] = -1; // å‰ªæ
    return used;
}
```
**äº®ç‚¹**ï¼šè¯¦ç»†æ³¨é‡Šå½“å‰å¼§ä¼˜åŒ–åŸç†  
**å­¦ä¹ ç¬”è®°**ï¼š`cur[u]=i`é¿å…é‡å¤è®¿é—®ï¼Œå¤§å¹…æé€Ÿ

---

#### **5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º**
**ä¸»é¢˜**ï¼š`8-bitæ°´ç®¡å·¥ï¼šæœ€å°å‰²å¤§å†’é™©`  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šDinicç®—æ³•æ‰¾å¢å¹¿è·¯ + Tarjanç¼©ç‚¹  
**è®¾è®¡æ€è·¯**ï¼š  
- **åƒç´ é£æ ¼**ï¼šä¸­è½¬ç«™=åŸå ¡ï¼ˆçº¢:æºç‚¹/è“:æ±‡ç‚¹/ç°:æ™®é€šï¼‰ï¼Œç®¡é“=æ°´ç®¡ï¼ˆç»¿è‰²æµé€š/çº¢è‰²æ»¡æµï¼‰
- **Dinicæµç¨‹**ï¼š
  1. æ°´æµä»æºåŸå ¡æ¶Œå‡ºï¼ŒBFSåˆ†å±‚ï¼ˆä¸åŒå±‚æ°´ä½é«˜åº¦ä¸åŒï¼‰
  2. DFSå¢å¹¿æ—¶ï¼Œæ°´æµåŠ¨ç”»æ²¿ç®¡é“æµåŠ¨ï¼Œæ»¡æµæ—¶ç®¡é“å˜çº¢+"å’”åš“"éŸ³æ•ˆ
- **Tarjanæµç¨‹**ï¼š
  1. æ»¡æµç®¡é“éšè—ï¼Œå‰©ä½™ç®¡é“æ„æˆæ–°å›¾
  2. èŠ‚ç‚¹é—´å¯äº’è¾¾æ—¶ï¼ŒåŒè‰²é—ªçƒå¹¶åˆå¹¶æˆè¶…çº§åŸå ¡
- **äº¤äº’æ§åˆ¶**ï¼š
  - é€Ÿåº¦æ»‘å—ï¼šè°ƒèŠ‚åŠ¨ç”»é€Ÿåº¦
  - å•æ­¥æ‰§è¡Œï¼šé€æ­¥è§‚å¯ŸBFS/DFS
  - æ¯”è¾ƒæ¨¡å¼ï¼šå¹¶æ’æ˜¾ç¤ºDinicä¸Tarjan

![](https://pic.imgdb.cn/item/665c7f0b0f1faf1110dccb7f.png)

---

#### **6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ**
**é€šç”¨æŠ€å·§è¿ç§»**ï¼šæœ€å°å‰²æ¨¡å‹å¹¿æ³›ç”¨äºï¼š
1. èµ„æºåˆ†é…ï¼ˆå¦‚å·¥å‚-ä»“åº“ç½‘ç»œï¼‰
2. å†²çªè§£å†³ï¼ˆå¦‚é€‰Aåˆ™ä¸èƒ½é€‰Bï¼‰
3. å›¾åˆ†å‰²ï¼ˆç¤¾äº¤ç½‘ç»œç¤¾åŒºå‘ç°ï¼‰

**æ´›è°·æ¨è**ï¼š
1. [P1344] æœ€å°å‰²æ¨¡æ¿ï¼ˆåŸºç¡€åº”ç”¨ï¼‰  
   â†’ **ç†ç”±**ï¼šå·©å›ºæœ€å°å‰²å®šä¹‰å’Œæœ€å¤§æµå®ç°
2. [P1361] å°Mçš„ä½œç‰©ï¼ˆæœ€å°å‰²å»ºæ¨¡ï¼‰  
   â†’ **ç†ç”±**ï¼šå­¦ä¹ å°†å®é™…é—®é¢˜è½¬åŒ–ä¸ºæœ€å°å‰²
3. [P4126] æœ¬é¢˜è¿›é˜¶ç‰ˆï¼ˆåŠ¨æ€æœ€å°å‰²ï¼‰  
   â†’ **ç†ç”±**ï¼šåœ¨æœ¬é¢˜åŸºç¡€ä¸Šå¢åŠ è¾¹æƒä¿®æ”¹æ“ä½œ

---

#### **7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«**
> **ç»éªŒæ‘˜å½•ï¼ˆæ–—ç¥Â·å›è«ç¬‘ï¼‰**ï¼š  
> "æˆ‘åœ¨å¤„ç†SCCæ—¶æœ€åˆå¿½ç•¥æ»¡æµè¾¹ï¼Œå¯¼è‡´ç¼©ç‚¹é”™è¯¯ã€‚é€šè¿‡æ‰“å°ä¸­é—´å›¾æ‰å®šä½é—®é¢˜"  
> 
> **Kayç‚¹è¯„**ï¼š  
> è°ƒè¯•ç½‘ç»œæµæ—¶ï¼Œå¯è§†åŒ–æ®‹é‡ç½‘ç»œæ˜¯å…³é”®ã€‚å»ºè®®ï¼š  
> 1. è¾“å‡ºåˆ†å±‚åçš„`dis[]`æ•°ç»„æ£€æŸ¥BFSæ­£ç¡®æ€§  
> 2. å¯¹æ»¡æµè¾¹å•ç‹¬æ ‡è®°ï¼Œé¿å…Tarjanè¯¯å¤„ç†

---

### **æ€»ç»“**  
æœ€å°å‰²çš„å¯è¡Œè¾¹/å¿…é¡»è¾¹åˆ¤å®šæ˜¯ç½‘ç»œæµçš„ç»å…¸åº”ç”¨ï¼Œæ ¸å¿ƒæ˜¯**æœ€å¤§æµ+SCC**çš„ç»„åˆã€‚é€šè¿‡Dinicæ±‚æ®‹é‡ç½‘ç»œï¼Œå†å€ŸTarjanåˆ†æè¿é€šæ€§ï¼Œå³å¯é«˜æ•ˆè§£é¢˜ã€‚å¸Œæœ›æœ¬æŒ‡å—åŠ©ä½ æŒæ¡ç®—æ³•ç²¾é«“ï¼Œæ–©è·ACï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š131.25ç§’
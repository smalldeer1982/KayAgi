# é¢˜ç›®ä¿¡æ¯

# å¸•ç§‹è‰çš„é­”å¯¼ä¹¦

## é¢˜ç›®èƒŒæ™¯

å¸•ç§‹è‰æœ‰ä¸€ä¸ªå·¨å¤§çš„å›¾ä¹¦é¦†ï¼Œé‡Œé¢æœ‰æ•°ä»¥ä¸‡è®¡çš„ä¹¦ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†ä¸ºé­”å¯¼ä¹¦ã€‚

## é¢˜ç›®æè¿°

é­”å¯¼ä¹¦æ˜¯ä¸€ç§éœ€è¦é’¥åŒ™æ‰èƒ½çœ‹å¾—æ‡‚çš„ä¹¦ï¼Œç„¶è€Œåªæœ‰å’Œä¹¦å†™è€…åŒç­‰æˆ–æ›´é«˜ç†Ÿç»ƒåº¦çš„äººæ‰èƒ½çœ‹å¾—è§é’¥åŒ™ã€‚å› æ­¤ï¼Œæ¯æœ¬é­”å¯¼ä¹¦éƒ½æœ‰å®ƒè‡ªå·±çš„ç­‰çº§ $a_i$ï¼ŒåŒæ—¶å®ƒä¹Ÿæœ‰è‡ªå·±çš„çŸ¥è¯†ç¨‹åº¦ä¸º $w_i$ï¼Œç°åœ¨æˆ‘ä»¬æƒ³è¦çŸ¥é“ï¼Œä¸€ä¸ªç­‰çº§ä¸º $b_i$ çš„ç”Ÿç‰©(...)ï¼Œå¯ä»¥ä»è¿™äº›é­”å¯¼ä¹¦ä¸­å¾—åˆ°å¤šå°‘çŸ¥è¯†ã€‚

ç„¶è€Œä¸å¹¸çš„æ˜¯ï¼Œæ¯ä¸ªç”Ÿç‰©å¹¶ä¸çŸ¥é“è‡ªå·±ç¡®åˆ‡çš„ç­‰çº§ï¼Œåªæœ‰ä¸€ä¸ªç­‰çº§çš„å¤§è‡´èŒƒå›´ï¼Œä½ éœ€è¦è®¡ç®—å‡ºè¿™ä¸ªç”Ÿç‰©è·å¾—çŸ¥è¯†ç¨‹åº¦çš„æœŸæœ›å€¼ã€‚


## è¯´æ˜/æç¤º

å¯¹äº $30\%$ çš„æ•°æ®ï¼Œä¿è¯ $1\le $ æ‰€æœ‰è¾“å…¥çš„æ•°å­— $\le 10^3$ã€‚

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œä¿è¯ $1\le n,m\le 10^5$ï¼Œå¯¹äºå…¶ä»–æ•°å­—ï¼Œä¿è¯åœ¨ $32$ ä½å¸¦ç¬¦å·æ•´æ•°èŒƒå›´å†…ï¼ˆä¿è¯è¿ç®—ä¸­æ‰€æœ‰çš„æ•°å‡åœ¨ $-2^{63}\sim 2^{63}-1$ å†…ï¼‰ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
5 5
1 1
2 1
3 1
4 1
5 1
1 2 5
1 1 5
1 3 5
2 1 5
1 1 2```

### è¾“å‡º

```
3.5000
3.0000
4.0000
6.5000
```

# AIåˆ†æç»“æœ


# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šå¸•ç§‹è‰çš„é­”å¯¼ä¹¦ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> "çŸ¥è¯†å°±åƒé­”æ³•ï¼Œéœ€è¦æ­£ç¡®çš„é’¥åŒ™æ‰èƒ½è§£é”å…¶å¥¥ç§˜ã€‚" â€”â€” å¸•ç§‹è‰Â·è¯ºè•¾å§¬

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘` (æ•°æ®ç»“æ„åº”ç”¨)

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> é­”å¯¼ä¹¦é—®é¢˜å¯æ¯”å–»ä¸º"é­”æ³•å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ"ï¼šæ¯æœ¬ä¹¦ï¼ˆé­”å¯¼ä¹¦ï¼‰æœ‰è¿›å…¥æƒé™ï¼ˆç­‰çº§a_iï¼‰å’ŒçŸ¥è¯†é‡ï¼ˆw_iï¼‰ã€‚å½“ç”Ÿç‰©ï¼ˆç­‰çº§b_iï¼‰è¿›å…¥æ—¶ï¼Œèƒ½é˜…è¯»æ‰€æœ‰æƒé™â‰¤b_içš„ä¹¦ç±ã€‚æŸ¥è¯¢ä»»åŠ¡å³è®¡ç®—åœ¨[x,y]ç­‰çº§åŒºé—´å†…ç”Ÿç‰©çš„å¹³å‡çŸ¥è¯†è·å–é‡ã€‚  

- **æ ¸å¿ƒæ€è·¯**ï¼š  
  1. æ¯æœ¬ä¹¦å½±å“æ‰€æœ‰â‰¥a_içš„ç”Ÿç‰©ï¼Œç­‰ä»·äºå¯¹å‰ç¼€å’Œæ•°ç»„Sçš„åŒºé—´[a_i,âˆ]åŠ w_i  
  2. æŸ¥è¯¢æ“ä½œè½¬åŒ–ä¸ºæ±‚Sæ•°ç»„åœ¨[x,y]åŒºé—´çš„å¹³å‡å€¼  
- **ç®—æ³•éš¾ç‚¹**ï¼š  
  - å€¼åŸŸå·¨å¤§ï¼ˆ-2Â³Â¹~2Â³Â¹-1ï¼‰æ— æ³•é™æ€å»ºæ ‘  
  - éœ€æ”¯æŒåŒºé—´ä¿®æ”¹ï¼ˆæ·»åŠ ä¹¦ç±ï¼‰å’ŒåŒºé—´æŸ¥è¯¢ï¼ˆæ±‚å¹³å‡å€¼ï¼‰  
- **å¯è§†åŒ–è®¾è®¡**ï¼š  
  é‡‡ç”¨**8ä½åƒç´ é£æ ¼**æ¨¡æ‹Ÿå›¾ä¹¦é¦†ä¹¦æ¶ï¼š  
  - ä¹¦æ¶é«˜åº¦è¡¨ç¤ºç­‰çº§ï¼Œä¹¦æœ¬ä¸ºåƒç´ æ–¹å—ï¼ˆé¢œè‰²=çŸ¥è¯†é‡ï¼‰  
  - æ·»åŠ ä¹¦æ—¶ï¼Œä»a_iä½ç½®å‘å³å–·å°„åƒç´ ç²’å­ï¼ˆåŒºé—´ä¿®æ”¹åŠ¨ç”»ï¼‰  
  - æŸ¥è¯¢æ—¶é«˜äº®[x,y]åŒºåŸŸï¼Œæ˜¾ç¤ºçŸ¥è¯†æµæ±‡èšè¿‡ç¨‹  
  - éŸ³æ•ˆï¼šç¿»é¡µå£°ï¼ˆä¿®æ”¹ï¼‰ã€çŸ¥è¯†æµåŠ¨å£°ï¼ˆæŸ¥è¯¢ï¼‰ã€è®¡ç®—å®Œæˆæç¤ºéŸ³  

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼š[partychicken](https://www.luogu.com.cn/user/partychicken)
* **ç‚¹è¯„**ï¼š  
  è¯¥è§£æ³•ç›´æ¥ç»´æŠ¤å‰ç¼€å’Œæ•°ç»„Sï¼Œæ€è·¯ç›´å‡»é—®é¢˜æœ¬è´¨ã€‚åŠ¨æ€å¼€ç‚¹å®ç°ä¼˜é›…ï¼š  
  - **ä»£ç è§„èŒƒ**ï¼šèŠ‚ç‚¹ç»“æ„ä½“å°è£…å®Œæ•´ï¼Œ`pushdown`ä¸­åŠ¨æ€åˆ›å»ºå­èŠ‚ç‚¹é€»è¾‘æ¸…æ™°  
  - **ç®—æ³•ä¼˜åŒ–**ï¼šé‡‡ç”¨åŒºé—´é•¿åº¦è®¡ç®—å‡å°‘é€’å½’æ·±åº¦ï¼Œç©ºé—´å¤æ‚åº¦O(mlogU)  
  - **å®è·µä»·å€¼**ï¼šè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆä½¿ç”¨2147483646é˜²æº¢å‡ºï¼‰ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›  
  > ä½œè€…è°ƒè¯•å¿ƒå¾—ï¼š"QAQå†™æŒ‚åç†æ¸…æ€è·¯"å‡¸æ˜¾åŠ¨æ€å¼€ç‚¹æ˜“é”™ç‚¹ï¼Œå€¼å¾—å­¦ä¹ è€…è­¦æƒ•

### é¢˜è§£äºŒï¼š[SuperJvRuo](https://www.luogu.com.cn/user/SuperJvRuo)
* **ç‚¹è¯„**ï¼š  
  åˆ›æ–°æ€§é‡‡ç”¨åŒæ ‘æ€æƒ³ç»´æŠ¤S[i] = âˆ‘(i-j+1)Ã—a_jï¼š  
  - **æ€è·¯äº®ç‚¹**ï¼šå…¬å¼æ¨å¯¼SS_i=âˆ‘b_j-(n-i)Ã—âˆ‘a_jé¿å…äºŒæ¬¡æ±‚å’Œ  
  - **ä»£ç è´¨é‡**ï¼šæ ‘çŠ¶æ•°ç»„å¼å˜é‡å‘½å(tree.val/tree.presum)æå‡å¯è¯»æ€§  
  - **æ•™å­¦ä»·å€¼**ï¼šå±•ç¤ºé—®é¢˜è½¬åŒ–æŠ€å·§ï¼Œå¯å‘å¤šè§’åº¦æ€è€ƒæ•°æ®ç»“æ„åº”ç”¨  

### é¢˜è§£ä¸‰ï¼š[VanHelsing](https://www.luogu.com.cn/user/VanHelsing)
* **ç‚¹è¯„**ï¼š  
  ç»´æŠ¤å€¼sum=w_i*(INT_MAX-i+1)çš„åˆ›æ–°è§£æ³•ï¼š  
  - **ç®—æ³•å·§æ€**ï¼šæŸ¥è¯¢æ—¶é€šè¿‡`sum - val*(INT_MAX-pos)`é€†å‘è®¡ç®—  
  - **å·¥ç¨‹å®è·µ**ï¼šé€’å½’å®ç°åŠ¨æ€å¼€ç‚¹ï¼Œç»“æ„ä½“åµŒå¥—é™ä½è®¤çŸ¥è´Ÿæ‹…  
  - **æ³¨æ„äº‹é¡¹**ï¼šINT_MAXä½¿ç”¨éœ€è­¦æƒ•32/64ä½ç¯å¢ƒå·®å¼‚  

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### éš¾ç‚¹1ï¼šå€¼åŸŸçˆ†ç‚¸å¦‚ä½•å¤„ç†ï¼Ÿ
* **åˆ†æ**ï¼šä¼ ç»Ÿçº¿æ®µæ ‘éœ€4Ã—2Â³Â²ç©ºé—´â†’ä¸å¯è¡Œã€‚ä¼˜è´¨é¢˜è§£å‡é‡‡ç”¨**åŠ¨æ€å¼€ç‚¹**ï¼š  
  - åˆ›å»ºèŠ‚ç‚¹æ•°â‰ˆæ“ä½œæ•°Ã—logâ‚‚(å€¼åŸŸ) â‰ˆ 10âµÃ—32  
  - ä¿®æ”¹/æŸ¥è¯¢æ—¶æŒ‰éœ€åˆ›å»ºå­èŠ‚ç‚¹ï¼ˆ`!nd[x].ls?nd[x].ls=++cnt:0`ï¼‰

### éš¾ç‚¹2ï¼šåŒºé—´ä¿®æ”¹å¦‚ä½•é«˜æ•ˆå®ç°ï¼Ÿ
* **åˆ†æ**ï¼šæ¯æœ¬ä¹¦å½±å“[a_i,âˆ]åŒºé—´ï¼š  
  ```cpp
  void update(..., int a_i, int w_i){
    if(å½“å‰èŠ‚ç‚¹âŠ†[a_i,âˆ]) ç›´æ¥æ›´æ–°sumå’Œaddæ ‡è®°
    else é€’å½’åˆ›å»ºå­èŠ‚ç‚¹å¹¶ä¸‹ä¼ æ ‡è®°
  }
  ```

### éš¾ç‚¹3ï¼šå‰ç¼€å’Œä¹‹å’Œå¹³æ»‘è®¡ç®—ï¼Ÿ
* **åˆ†æ**ï¼šé¿å…âˆ‘S[i]çš„O(n)è®¡ç®—ï¼Œä¸¤ç§ä¼˜åŒ–æ–¹å‘ï¼š  
  1. **ç›´æ¥ç»´æŠ¤S[]**ï¼ˆpartychickenï¼‰ï¼š  
     ```math
     âˆ‘_{i=x}^y S[i] = query(1,x,y)
     ```
  2. **å…¬å¼è½¬åŒ–**ï¼ˆSuperJvRuoï¼‰ï¼š  
     ```math
     SS_i = \sum_{j=1}^i (i-j+1)Ã—a_j
     ```

### ğŸ’¡ è§£é¢˜æŠ€å·§æ€»ç»“
- **ç©ºé—´å‹ç¼©æœ¯**ï¼šåŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘å¤„ç†å¤§å€¼åŸŸé—®é¢˜  
- **æ ‡è®°å·§ä¼ é€’**ï¼šåŒºé—´ä¿®æ”¹æ—¶æƒ°æ€§æ›´æ–°ï¼ŒpushdownåŠ¨æ€å»ºå­èŠ‚ç‚¹  
- **æ•°å­¦è½¬åŒ–æ³•**ï¼šå°†åµŒå¥—æ±‚å’Œè½¬åŒ–ä¸ºçº¿æ€§ç»„åˆï¼ˆâˆ‘a_jä¸âˆ‘jÃ—a_jï¼‰  
- **è¾¹ç•Œå®‰å…¨é”**ï¼šä½¿ç”¨`2147483646`é˜²æº¢å‡ºï¼Œlong longç»Ÿä¸€è®¡ç®—  

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆç»¼åˆè‡ªä¼˜è´¨é¢˜è§£ï¼‰
```cpp
#include <iostream>
using namespace std;
typedef long long ll;
const int INF = 2147483647; // å€¼åŸŸä¸Šé™

struct DynamicSegTree {
    struct Node { ll sum, tag; int lc, rc; };
    Node tree[4000010]; // ç©ºé—´â‰ˆ40Ã—max_operations
    int cnt = 1; // æ ¹èŠ‚ç‚¹=1

    void pushdown(int x, int l, int r) {
        if(!tree[x].lc) tree[x].lc = ++cnt; // åŠ¨æ€åˆ›å»ºå·¦å­
        if(!tree[x].rc) tree[x].rc = ++cnt; // åŠ¨æ€åˆ›å»ºå³å­
        if(tree[x].tag) {
            int mid = (l+r)>>1;
            tree[tree[x].lc].tag += tree[x].tag;
            tree[tree[x].lc].sum += tree[x].tag * (mid-l+1);
            tree[tree[x].rc].tag += tree[x].tag;
            tree[tree[x].rc].sum += tree[x].tag * (r-mid);
            tree[x].tag = 0;
        }
    }

    void update(int x, int nl, int nr, int ql, int qr, ll val) {
        if(ql<=nl && nr<=qr) {
            tree[x].sum += val*(nr-nl+1);
            tree[x].tag += val;
            return;
        }
        pushdown(x, nl, nr);
        int mid = (nl+nr)>>1;
        if(ql<=mid) update(tree[x].lc, nl, mid, ql, qr, val);
        if(qr>mid) update(tree[x].rc, mid+1, nr, ql, qr, val);
        tree[x].sum = tree[tree[x].lc].sum + tree[tree[x].rc].sum;
    }

    ll query(int x, int nl, int nr, int ql, int qr) {
        if(ql<=nl && nr<=qr) return tree[x].sum;
        pushdown(x, nl, nr);
        int mid = (nl+nr)>>1;
        ll res = 0;
        if(ql<=mid) res += query(tree[x].lc, nl, mid, ql, qr);
        if(qr>mid) res += query(tree[x].rc, mid+1, nr, ql, qr);
        return res;
    }
} seg;

int main() {
    int n, m; cin >> n >> m;
    while(n--) {
        int a, w; cin >> a >> w;
        seg.update(1, 1, INF, a, INF, w); // å½±å“[a,âˆ]
    }
    while(m--) {
        int op, x, y; cin >> op >> x >> y;
        if(op == 1) {
            double ans = seg.query(1, 1, INF, x, y) / (double)(y-x+1);
            printf("%.4f\n", ans);
        } else {
            seg.update(1, 1, INF, x, INF, y);
        }
    }
}
```

### é¢˜è§£ä¸€æ ¸å¿ƒç‰‡æ®µèµæï¼ˆpartychickenï¼‰
```cpp
void pushdown(int x,int len) {
    if(nd[x].add) {
        int ls=(nd[x].ls?nd[x].ls:nd[x].ls=++cnt); // åŠ¨æ€åˆ›å»ºå­èŠ‚ç‚¹
        int rs=(nd[x].rs?nd[x].rs:nd[x].rs=++cnt);
        nd[ls].add += nd[x].add;
        nd[ls].sum += nd[x].add*(len-(len>>1)); // æŒ‰å®é™…é•¿åº¦æ›´æ–°
        ... // å³å­æ ‘åŒç†
        nd[x].add=0;
    }
}
```
> **å­¦ä¹ ç¬”è®°**ï¼šä¸‹ä¼ æ ‡è®°æ—¶åŠ¨æ€åˆ›å»ºå­èŠ‚ç‚¹æ˜¯æ ¸å¿ƒæŠ€å·§ï¼Œç¡®ä¿åœ¨O(1)æ—¶é—´å®Œæˆç©ºé—´æ‰©å±•

### é¢˜è§£äºŒåˆ›æ–°ç‚¹ï¼ˆSuperJvRuoï¼‰
```cpp
// ç»´æŠ¤åŒå€¼ï¼štree.val = a_i, tree.presum = a_i*(maxn-i+1)
ll res = tree[idx].presum - tree[idx].val*(INT_MAX-pos);
```
> **å­¦ä¹ ç¬”è®°**ï¼šé€šè¿‡æ•°å­¦å˜æ¢å°†äºŒç»´æ±‚å’Œé™ä¸ºä¸€ç»´ï¼Œå¤§å¹…æå‡æŸ¥è¯¢æ•ˆç‡

### é¢˜è§£ä¸‰å®ç°äº®ç‚¹ï¼ˆVanHelsingï¼‰
```cpp
void Modify(..., long long pos, long long val) {
    if(l==r) {
        tree[index].val += val;
        tree[index].sum += (long long)val*(INT_MAX-pos+1); 
    } // å¶å­èŠ‚ç‚¹ç‰¹æ®Šå¤„ç†
}
```
> **å­¦ä¹ ç¬”è®°**ï¼šç»´æŠ¤ç›¸å¯¹å€¼(sum)é¿å…å¤§æ•°è®¡ç®—ï¼ŒINT_MAXéœ€æ³¨æ„å¹³å°å…¼å®¹æ€§

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### ä¸»é¢˜ï¼šé­”å¯¼å›¾ä¹¦é¦†å¤§å†’é™©ï¼ˆ8ä½åƒç´ é£ï¼‰
![åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘æ¼”ç¤º](https://example.com/pixel-segtree-demo.gif)  
*(ç¤ºæ„å›¾ï¼šåƒç´ åŒ–çº¿æ®µæ ‘éšæ“ä½œåŠ¨æ€æ‰©å±•)*

### äº¤äº’è®¾è®¡
1. **åœºæ™¯å¸ƒå±€**ï¼š
   - å·¦ä¾§ï¼š32Ã—32åƒç´ ç½‘æ ¼ä¹¦æ¶ï¼ˆyè½´=ç­‰çº§ï¼Œxè½´=çŸ¥è¯†æµï¼‰
   - å³ä¾§ï¼šåŠ¨æ€çº¿æ®µæ ‘ç”Ÿé•¿åŠ¨ç”»ï¼ˆæ ‘æ=èŠ‚ç‚¹åŒºé—´ï¼Œæœå®=sum/addå€¼ï¼‰
   - åº•éƒ¨æ§åˆ¶å°ï¼šæ­¥è¿›/æš‚åœ/é€Ÿåº¦æ»‘å—

2. **æ ¸å¿ƒåŠ¨ç”»å¸§**ï¼š
   - **æ·»åŠ ä¹¦ç±**ï¼š  
     ```mermaid
     sequenceDiagram
         ç©å®¶->>+ä¹¦æ¶ï¼š æ”¾å…¥ä¹¦(a_i,w_i)
         ä¹¦æ¶-->>çº¿æ®µæ ‘ï¼š çº¢å…‰è¦†ç›–[a_i,âˆ]
         çº¿æ®µæ ‘->>çº¿æ®µæ ‘ï¼š åˆ†è£‚èŠ‚ç‚¹åŠ¨ç”»
         çº¿æ®µæ ‘->>çº¿æ®µæ ‘ï¼š ç²’å­ç‰¹æ•ˆæ›´æ–°sum
         çº¿æ®µæ ‘-->>-ç©å®¶ï¼š "å®ï¼"éŸ³æ•ˆ
     ```
   - **æŸ¥è¯¢æ“ä½œ**ï¼š  
     - é«˜äº®[x,y]ä¹¦æ¶åŒºåŸŸâ†’çŸ¥è¯†æµæ±‡èšâ†’çº¿æ®µæ ‘å›æº¯è·¯å¾„å‘å…‰â†’æ˜¾ç¤ºå¹³å‡å€¼å…¬å¼

3. **æ¸¸æˆåŒ–å…ƒç´ **ï¼š
   - æ¯å®Œæˆ10æ¬¡æ“ä½œè§£é”"é­”å¯¼å¤§å¸ˆ"æˆå°±
   - é”™è¯¯æ“ä½œè§¦å‘"é­”æ³•åå™¬"åƒç´ éœ‡åŠ¨
   - èƒŒæ™¯éŸ³ä¹ï¼šFCç»å…¸ã€Šé­”å¯¼ç‰©è¯­ã€‹æ”¹ç¼–ç‰ˆ

### æŠ€æœ¯å®ç°
```javascript
// ä¼ªä»£ç ï¼šåŠ¨æ€å¼€ç‚¹åŠ¨ç”»
function createNode(l, r) {
  const node = new PixelNode(l, r); // åˆ›å»ºåƒç´ æ–¹å—
  scene.add(node); // åŠ å…¥Canvas
  playSound('node_create.wav'); // 8bitéŸ³æ•ˆ
}

function updateAnimation(l, r, val) {
  particles.emit(l, r); // ç²’å­å‘å°„å™¨è¦†ç›–åŒºé—´
  while (l <= r) {
    const node = findNodeCovering(l); // æŸ¥æ‰¾è¦†ç›–èŠ‚ç‚¹
    if (!node) createNode(...); // åŠ¨æ€åˆ›å»º
    node.highlight(); // é«˜äº®å½“å‰èŠ‚ç‚¹
    if (node.fullyCovered) { 
      node.addValue(val); // æ›´æ–°èŠ‚ç‚¹å€¼
      playSound('book_add.wav');
    }
    ... // é€’å½’å¤„ç†å­èŠ‚ç‚¹
  }
}
```

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜

### é€šç”¨ç®—æ³•è¿ç§»
åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘é€‚ç”¨äºï¼š
1. **å¤§å€¼åŸŸç»Ÿè®¡**ï¼šå¦‚å®‡å®™å°„çº¿èƒ½é‡åˆ†å¸ƒåˆ†æ  
2. **æ—¶é—´çº¿äº‹ä»¶**ï¼šå¦‚MMORPGç©å®¶äº‹ä»¶æ—¥å¿—  
3. **åœ°ç†åæ ‡å¤„ç†**ï¼šå¦‚å…¨çƒæ°”è±¡ç«™æ•°æ®èšåˆ  

### æ´›è°·ä¹ é¢˜æ¨è
1. **P4868 Preprefix sum**  
   ğŸ—£ï¸ *åŒå€ç»éªŒï¼ç›´æ¥è€ƒå¯Ÿå‰ç¼€å’Œçš„å‰ç¼€å’Œ*
   
2. **P3373 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 2**  
   ğŸ—£ï¸ *ç»ƒä¹ åŒºé—´ä¹˜åŠ æ··åˆæ“ä½œï¼ŒåŠ æ·±æ‡’æƒ°æ ‡è®°ç†è§£*
   
3. **P1908 é€†åºå¯¹**  
   ğŸ—£ï¸ *å€¼åŸŸæ ‘åŠ¨æ€å¼€ç‚¹ç»å…¸åº”ç”¨ï¼Œç†è§£ç¦»æ•£åŒ–ä¸åŠ¨æ€å¼€ç‚¹çš„å–èˆ*

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **å‚è€ƒç»éªŒ**ï¼ˆpartychickenï¼‰ï¼š  
> *"QAQä¸çŸ¥é“ä¸ºå•¥å†™æŒ‚äº†ï¼Œå†™ç¯‡é¢˜è§£ç†æ€è·¯"*  
> **ç‚¹è¯„**ï¼šåæ˜ åŠ¨æ€å¼€ç‚¹è°ƒè¯•æ ¸å¿ƒç—›ç‚¹â€”â€”æ ‡è®°ä¸‹ä¼ ä¸ç©ºé—´åˆ†é…ã€‚å»ºè®®ï¼š  
> 1. å•æ­¥è°ƒè¯•æ¨¡æ‹Ÿå°è§„æ¨¡æ•°æ®ï¼ˆå¦‚n=3ï¼‰  
> 2. å¯è§†åŒ–æ‰“å°çº¿æ®µæ ‘ç»“æ„  
> 3. é˜²å¾¡æ€§ç¼–ç¨‹ï¼šèŠ‚ç‚¹æŒ‡é’ˆåˆ¤ç©º  

> **ç»éªŒç»“æ™¶**ï¼ˆVanHelsingï¼‰ï¼š  
> *"ä»¿ç…§å‡ºé¢˜äººåŠ¨æ€å¼€ç‚¹å®ç°"*  
> **ç‚¹è¯„**ï¼šå­¦ä¹ ä¼˜ç§€é¢˜è§£æ—¶ï¼Œé‡ç‚¹è§‚å¯Ÿï¼š  
> 1. èŠ‚ç‚¹åˆ†è£‚æ¡ä»¶åˆ¤æ–­  
> 2. åŒºé—´é•¿åº¦è®¡ç®—ç²¾åº¦  
> 3. å†…å­˜æ± ç®¡ç†ç­–ç•¥  

---

> é­”æ³•ä¸ç®—æ³•çš†éœ€ç²¾è¿›ä¸æ¯ï¼Œæ„¿å„ä½åœ¨ä»£ç å®‡å®™ä¸­ä¹¦å†™è‡ªå·±çš„é­”å¯¼ä¼ å¥‡ï¼âœ¨  
> â€”â€” Kay's Algorithm Academy

---
å¤„ç†ç”¨æ—¶ï¼š222.02ç§’
# é¢˜ç›®ä¿¡æ¯

# ã€ŒDBOIã€Round 1 äººç”Ÿå¦‚æ ‘

## é¢˜ç›®èƒŒæ™¯

> _æ°¸è¿œè¿™ä¹ˆé…· æ°¸è¿œæ°¸è¿œè¿™ä¹ˆé…·_\
_åƒä¸ªå†’é™©å®¶ä¸€æ · ä¸æ–­æ¢ç€å±±é¡¶çš„è·¯_\
â€”â€”ã€ŠHustleã€‹

å¼ å‡å¥½æœ›ç€çª—å¤–ï¼Œæœ±èŠå¿ƒèµ°è¿‡æ¥ååœ¨ä»–æ—è¾¹ï¼ŒæŠ˜äº†ä¸€æ¶çº¸é£æœºé£å‡ºå»ã€‚ä»–å¯¹å¼ å‡å¥½è¯´ï¼Œè¦å¸¦ç€å¯¹æœªæ¥çš„æœŸå¾…ï¼Œå¾€å‰èµ°ï¼Œåˆ«å›å¤´ã€‚

æ­£å¦‚ [å‘½è¿](https://www.luogu.com.cn/problem/P6773) æ‰€è¿°ï¼Œæ¯ä¸ªäººçš„äººç”Ÿéƒ½æ˜¯ä¸€æ£µæ ‘ã€‚å®ƒæ€»åœ¨æ— é™çš„éšæœºä¸ç¼˜åˆ†ä¸­ä¼¸å±•ï¼Œæœ‰çš„æä¸«èŒ‚ç››äº†ï¼Œæœ‰äº›å´ä¹Ÿä¸å¯é¿å…åœ°æ¯èã€‚

## é¢˜ç›®æè¿°

æœ±èŠå¿ƒç”¨é­”æ³•å¾—åˆ°äº†å¼ å‡å¥½çš„äººç”Ÿæ ‘ã€‚

è¿™æ˜¯ä¸€æ£µ $n$ ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼ŒèŠ‚ç‚¹ $i$ ä¸Šæœ‰æƒå€¼ $w_i$ã€‚

æœ±èŠå¿ƒæƒ³è¦è§‚æµ‹ $m$ æ¬¡å¼ å‡å¥½çš„äººç”Ÿï¼š

è®¾**å½“å‰**å¼ å‡å¥½äººç”Ÿæ ‘ä¸Šçš„èŠ‚ç‚¹æ•°é‡ä¸º $s$ã€‚

1. è¾“å…¥å››ä¸ªæ•´æ•° $u_1,v_1,u_2,v_2$ã€‚ä»¤ $u_1\to v_1$ çš„ç®€å•è·¯å¾„ä¸Š**é¡ºæ¬¡ç»„æˆ**çš„æ•°ç»„ä¸º $a$ï¼Œ$u_2\to v_2$ çš„ç®€å•è·¯å¾„ä¸Š**é¡ºæ¬¡ç»„æˆ**çš„æ•°ç»„ä¸º $b$ã€‚æœ±èŠå¿ƒè®¤ä¸ºå¼ å‡å¥½è¿™ä¸¤æ®µäººç”Ÿçš„ç›¸ä¼¼åº¦æ˜¯ $LRP(a,b)$ï¼Œå¸Œæœ›ä½ æ±‚å‡ºå®ƒã€‚ä¿è¯ $1\leq u_1,v_1,u_2,v_2 \leq s$ã€‚

2. è¾“å…¥ä¸¤ä¸ªæ•´æ•° $u,w'$ã€‚æœ±èŠå¿ƒè§‚æµ‹åˆ°äº†å¼ å‡å¥½çš„å¦å¤–ä¸€ç§å¯èƒ½ï¼Œå› æ­¤ä½ éœ€è¦æ–°å»ºä¸€ä¸ªç‚¹æƒä¸º $w'$ çš„èŠ‚ç‚¹ï¼Œç¼–å·ä¸º $s+1$ï¼Œå»ºç«‹ä¸€æ¡ $(s+1,u)$ çš„æ— å‘è¾¹ï¼Œå…¶ä¸­ $u\leq s$ã€‚æ˜¾ç„¶ï¼Œæ­¤å $s\leftarrow s+1$ã€‚

å¯¹äºä¸¤ä¸ªæ•°ç»„ $a,b$ï¼Œè®¾å®ƒä»¬çš„ç›¸ä¼¼åº¦ $LRP(a,b)$ è¡¨ç¤ºæœ€å¤§çš„ $i$ æ»¡è¶³ $i\leq \min\{|a|, |b|\}$ ä¸”**å¯¹äºæ‰€æœ‰** $1\leq j\leq i$ï¼Œéƒ½æœ‰ $b_j=a_j+j$ã€‚å…¶ä¸­ $|a|$ è¡¨ç¤ºæ•°ç»„ $a$ çš„é•¿åº¦ã€‚ç‰¹æ®Šåœ°ï¼Œè‹¥ä¸å­˜åœ¨è¿™æ ·çš„ $i$ï¼Œåˆ™ $LRP(a,b) = 0$ã€‚


## è¯´æ˜/æç¤º

### æ ·ä¾‹è§£é‡Š

å¯¹äºæ ·ä¾‹ä¸€ï¼Œç¬¬ä¸€ä¸ªæ“ä½œç»“æŸåï¼Œ$w_{10}=10$ï¼Œæ ‘å¦‚å›¾æ‰€ç¤ºï¼š

![](https://s1.ax1x.com/2023/04/26/p9MV9pV.png)

- å¯¹äºç¬¬äºŒä¸ªæ“ä½œï¼Œç¬¬ä¸€æ¡è·¯å¾„ä¸º $3\to 2\to 4\to 5$ï¼Œæ•… $a=\{2, 3, 4, 6\}$ï¼Œç¬¬äºŒæ¡è·¯å¾„ä¸º $8\to 7\to 9\to 10$ï¼Œæ•… $b=\{3, 5, 7, 10\}$ï¼Œç”±äº $3=2+1$ï¼Œ$5=3+2$ï¼Œ$7=4+3$ï¼Œ$10=6+4$ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸º $4$ï¼›
- å¯¹äºç¬¬ä¸‰ä¸ªæ“ä½œï¼Œ$a=\{2, 3, 4, 5\}$ï¼Œ$b=\{3, 5, 7, 10\}$ï¼Œç”±äº $3=2+1$ï¼Œ$5=3+2$ï¼Œ$7=4+3$ï¼Œ$10\ne 5+4$ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸º $3$ã€‚

å¯¹äºæ ·ä¾‹äºŒï¼Œåˆå§‹çš„æ ‘å¦‚å›¾æ‰€ç¤ºï¼š

![](https://s1.ax1x.com/2023/04/26/p9MVZkR.png)


| Subtask | $n \le$ | $m \le$ | ç‰¹æ®Šæ€§è´¨ | åˆ†å€¼ |
| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |
| Subtask 1 | $5000$ | $5000$ | æ—  | $10$ |
| Subtask 2 | $10^5$ | $5\times{10}^4$ | A & B | $30$ |
| Subtask 3 | $10^5$ | $5\times{10}^4$ | B | $30$ |
| Subtask 4 | $10^5$ | $5 \times {10}^4$ | æ—  | $20$ | 
| Subtask 5 | $10^5$ | $10^5$ | æ—  | $10$ |

ç‰¹æ®Šæ€§è´¨ Aï¼š$v_i=u_i+1$ã€‚

ç‰¹æ®Šæ€§è´¨ Bï¼šä¿è¯æ— æ“ä½œ 2ã€‚

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$1\leq n,m\leq 10^5$ï¼Œ$1\leq w_i,w'\leq 10^6$ï¼Œ$1\leq u_i,v_i\leq n$ã€‚  


## æ ·ä¾‹ #1

### è¾“å…¥

```
9 3 0
7 3 2 4 6 5 5 3 7
1 2
2 3
2 4
4 5
4 6
1 7
7 8
7 9
2 9 10
1 3 5 8 10
1 3 6 8 10```

### è¾“å‡º

```
4
3```

## æ ·ä¾‹ #2

### è¾“å…¥

```
13 5 0
15 12 9 11 5 6 16 14 15 10 12 1 2
7 8
5 6
2 9
1 2
4 5
8 2
9 10
2 3
10 11
3 4
3 13
3 12
1 1 6 7 11
1 12 12 13 13
2 1 10
2 2 11
1 14 14 15 15```

### è¾“å‡º

```
6
1
1```

# AIåˆ†æç»“æœ


# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šã€Œäººç”Ÿå¦‚æ ‘ã€æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Kayï¼ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¢ç´¢ã€Œäººç”Ÿå¦‚æ ‘ã€è¿™é“èåˆæ ‘ç»“æ„å’Œè·¯å¾„æ“ä½œçš„é¢˜ç›®ã€‚é€šè¿‡æœ¬æŒ‡å—ï¼Œä½ å°†æŒæ¡æ ‘é“¾å‰–åˆ†å’Œå“ˆå¸ŒæŠ€æœ¯çš„ç²¾é«“ï¼Œå­¦ä¼šå¦‚ä½•é«˜æ•ˆå¤„ç†æ ‘ä¸Šè·¯å¾„æ¯”è¾ƒé—®é¢˜ã€‚è®©æˆ‘ä»¬å¼€å§‹è¿™åœºç®—æ³•æ¢é™©å§ï¼

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`æ ‘é“¾å‰–åˆ† + å“ˆå¸ŒæŠ€æœ¯ + äºŒåˆ†ç­”æ¡ˆ`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> æƒ³è±¡äººç”Ÿå¦‚æ ‘ï¼Œæ¯æ¡è·¯å¾„éƒ½æ˜¯ä¸€æ®µç‹¬ç‰¹ç»å†ã€‚æœ¬é¢˜è¦æ±‚æ¯”è¾ƒä¸¤æ¡è·¯å¾„çš„"ç›¸ä¼¼åº¦"â€”â€”å³æ»¡è¶³`b_j = a_j + j`çš„æœ€å¤§å‰ç¼€é•¿åº¦ã€‚æ ¸å¿ƒæŒ‘æˆ˜æ˜¯**åœ¨æ ‘ä¸Šå¿«é€Ÿæå–å¹¶æ¯”è¾ƒè·¯å¾„åºåˆ—**ã€‚

- **è§£é¢˜æ€è·¯**ï¼šé€šè¿‡æ ‘é“¾å‰–åˆ†å°†è·¯å¾„åˆ†è§£ä¸ºé“¾æ®µï¼Œç”¨å“ˆå¸ŒæŠ€æœ¯å¿«é€Ÿæ¯”å¯¹åºåˆ—ï¼Œç»“åˆäºŒåˆ†ç­”æ¡ˆé«˜æ•ˆç¡®å®šæœ€å¤§ç›¸ä¼¼é•¿åº¦ã€‚
- **æ ¸å¿ƒéš¾ç‚¹**ï¼šåŠ¨æ€åŠ ç‚¹çš„å¤„ç†ã€è·¯å¾„åºåˆ—çš„é«˜æ•ˆæå–ã€å“ˆå¸Œåç§»é‡çš„è®¡ç®—ã€‚
- **å¯è§†åŒ–è®¾è®¡**ï¼šé‡‡ç”¨**å¤å¤åƒç´ RPGé£æ ¼**å±•ç¤ºæ ‘ç»“æ„ï¼š
  - æ ‘èŠ‚ç‚¹ä¸ºåƒç´ æ–¹å—ï¼Œè·¯å¾„ç”¨é«˜äº®è‰²å—è¿æ¥
  - ç®—æ³•æ‰§è¡Œæ—¶æ˜¾ç¤ºå½“å‰åŒ¹é…çš„é“¾æ®µå’Œå“ˆå¸Œå€¼
  - éŸ³æ•ˆè®¾è®¡ï¼šåŒ¹é…æˆåŠŸ(8-bitèƒœåˆ©éŸ³æ•ˆ)ã€åŒ¹é…å¤±è´¥(çŸ­ä¿ƒæç¤ºéŸ³)ã€èŠ‚ç‚¹ç§»åŠ¨(è„šæ­¥å£°)
  - äº¤äº’æ§åˆ¶ï¼šå•æ­¥æ‰§è¡Œ/è‡ªåŠ¨æ’­æ”¾ï¼ˆå¯è°ƒé€Ÿï¼‰ï¼Œè¿‡å…³ç§¯åˆ†æœºåˆ¶

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼šHoks (æ ‘å‰–+å“ˆå¸Œ)**
* **ç‚¹è¯„**ï¼š
  - æ€è·¯æ¸…æ™°ï¼šåˆ›æ–°æ€§ä½¿ç”¨æ ‘å‰–åˆ†è§£è·¯å¾„ä¸ºé“¾æ®µï¼Œé€æ®µåŒ¹é…å“ˆå¸Œå€¼
  - ä»£ç è§„èŒƒï¼šå˜é‡å`top/id/dfn`å«ä¹‰æ˜ç¡®ï¼Œæ¨¡å—åŒ–å‡½æ•°è®¾è®¡
  - ç®—æ³•é«˜æ•ˆï¼šO(n+mlogn)å¤æ‚åº¦ï¼Œæœ€ä¼˜è§£å®ç°
  - äº®ç‚¹ï¼šé‡é“¾åˆ†æ®µå‡å°‘å“ˆå¸Œè®¡ç®—æ¬¡æ•°ï¼Œå•å“ˆå¸Œ+å¤§æ¨¡æ•°ä¿è¯æ­£ç¡®æ€§
  > "å°†è·¯å¾„åˆ†è§£ä¸ºé‡é“¾æ®µå°±åƒæŠŠå†’é™©è·¯çº¿åˆ†æˆå¤šä¸ªå…³å¡ï¼Œæ¯å…³ç‹¬ç«‹æ”»å…‹"

**é¢˜è§£äºŒï¼šwxzzzz (å€å¢+å“ˆå¸Œ)**
* **ç‚¹è¯„**ï¼š
  - æ¨å¯¼ä¸¥è°¨ï¼šè¯¦ç»†è§£é‡Šå“ˆå¸Œåç§»é‡(âˆ‘iÂ·p^{k-i})çš„è®¡ç®—
  - ç»“æ„å·¥æ•´ï¼šå‡½æ•°å°è£…è‰¯å¥½ï¼ˆLCA/getHashç­‰ï¼‰
  - å®è·µä»·å€¼ï¼šå¯ç›´æ¥ç”¨äºç«èµ›ï¼Œè¾¹ç•Œå¤„ç†å®Œå–„
  > "å€å¢æ³•å¦‚åŒæ­å»ºæ ‘æ¢¯ï¼Œæ¯æ­¥è·¨è¶Š2^kçº§èŠ‚ç‚¹"

**é¢˜è§£ä¸‰ï¼šStayAlone (å‡ºé¢˜äººé¢˜è§£)**
* **ç‚¹è¯„**ï¼š
  - åˆ†æå…¨é¢ï¼šæä¾›é“¾ä¸Šå“ˆå¸Œå’Œæ ‘ä¸Šå€å¢ä¸¤ç§æ–¹æ¡ˆ
  - å¯å‘æ€§å¼ºï¼šå¼ºè°ƒç¦»çº¿å¤„ç†åŠ¨æ€åŠ ç‚¹çš„é‡è¦æ€§
  - äº®ç‚¹ï¼šé•¿é“¾å‰–åˆ†ä¼˜åŒ–å»ºè®®ï¼ŒåŒå“ˆå¸Œå¢å¼ºé²æ£’æ€§
  > "ç¦»çº¿å¤„ç†æ˜¯æ—¶ç©ºæ—…è€…ï¼Œé¢„å…ˆæ„å»ºå®Œæ•´åœ°å›¾"

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### å…³é”®ç‚¹1ï¼šæ ‘ä¸Šè·¯å¾„çš„é«˜æ•ˆè¡¨ç¤º
* **éš¾ç‚¹**ï¼šå¦‚ä½•å¿«é€Ÿè·å–ä»»æ„è·¯å¾„çš„èŠ‚ç‚¹åºåˆ—ï¼Ÿ
* **è§£å†³æ–¹æ¡ˆ**ï¼š
  - æ ‘é“¾å‰–åˆ†ï¼šé€šè¿‡`top`æ•°ç»„å°†è·¯å¾„åˆ†è§£ä¸ºO(logn)ä¸ªé‡é“¾æ®µ
  - å€å¢æ³•ï¼šé¢„å¤„ç†`f[i][j]`æ•°ç»„å¿«é€Ÿè·³è½¬2^jçº§ç¥–å…ˆ
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ ‘å‰–æ˜¯è·¯å¾„æ“ä½œçš„ç‘å£«å†›åˆ€

### å…³é”®ç‚¹2ï¼šå“ˆå¸Œåç§»é‡çš„è®¡ç®—
* **éš¾ç‚¹**ï¼šæ»¡è¶³`b_j = a_j + j`éœ€è®¡ç®—ç­‰å·®æ•°åˆ—å“ˆå¸Œ
* **è§£å†³æ–¹æ¡ˆ**ï¼š
  ```math
  adds_k = \sum_{i=1}^{k} i \cdot p^{k-i}
  ```
  é¢„å¤„ç†addsæ•°ç»„ï¼Œæ¯”è¾ƒæ—¶ç›´æ¥ä½¿ç”¨
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå“ˆå¸ŒæŠ€æœ¯å¯çµæ´»é€‚åº”åºåˆ—å˜æ¢

### å…³é”®ç‚¹3ï¼šåŠ¨æ€åŠ ç‚¹çš„å¤„ç†
* **éš¾ç‚¹**ï¼šæ·»åŠ èŠ‚ç‚¹ä¸å½±å“å†å²æŸ¥è¯¢
* **è§£å†³æ–¹æ¡ˆ**ï¼šç¦»çº¿å¤„ç†â€”â€”å…ˆæ„å»ºå®Œæ•´æ ‘å†å¤„ç†æŸ¥è¯¢
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç¦»çº¿åŒ–æ˜¯åŠ¨æ€æ ‘çš„æ—¶å…‰æœº

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **è·¯å¾„åˆ†è§£è‰ºæœ¯**ï¼šæ ‘å‰–åˆ†æ®µå¤„ç† > å€å¢è·³è·ƒ
- **å“ˆå¸Œé˜²å†²çª**ï¼šåŒå“ˆå¸Œï¼ˆå¦‚mod1=167772161, mod2=1004535809ï¼‰
- **å¸¸æ•°ä¼˜åŒ–**ï¼šé¢„å¤„ç†å¹‚æ¬¡æ•°ç»„pw[]é¿å…é‡å¤è®¡ç®—
- **è°ƒè¯•æŠ€å·§**ï¼šè¾“å‡ºä¸­é—´å“ˆå¸Œå€¼å®šä½è¾¹ç•Œé”™è¯¯

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°**ï¼ˆç»¼åˆä¼˜åŒ–ç‰ˆï¼‰ï¼š
```cpp
#include <bits/stdc++.h>
#define int long long
using namespace std;
const int N=2e5+5, LOG=20, mod=167772161;
const unsigned P=13331;

vector<int> g[N];
int n, m, w[N], dep[N], fa[N], top[N];
int dfn[N], id[N], cnt;
unsigned pw[N], adds[N], hs[N];

void dfs1(int u, int f) {
    dep[u] = dep[f] + 1;
    fa[u] = f;
    for(auto v : g[u]) 
        if(v != f) dfs1(v, u);
}

void dfs2(int u, int tp) {
    top[u] = tp, dfn[u]=++cnt, id[cnt]=u;
    hs[u] = (hs[fa[u]] * P + w[u]) % mod; // æ ‘ä¸Šå‰ç¼€å“ˆå¸Œ
    for(auto v : g[u])
        if(v != fa[u]) dfs2(v, v==son[u]?tp:v);
}

vector<pair<int,int>> get_path(int x, int y) {
    vector<pair<int,int>> res;
    while(top[x] != top[y]) {
        if(dep[top[x]] < dep[top[y]]) swap(x,y);
        res.push_back({dfn[x], dfn[top[x]]});
        x = fa[top[x]];
    }
    if(dep[x] > dep[y]) swap(x,y);
    res.push_back({dfn[y], dfn[x]});
    return res;
}

unsigned path_hash(int l, int r, int len) {
    // è®¡ç®—é“¾æ®µ[l,r]çš„å“ˆå¸Œå€¼ï¼ˆè€ƒè™‘æ–¹å‘ï¼‰
}

bool check(int len, auto &pathA, auto &pathB) {
    unsigned ha = calc_segment(pathA, len);
    unsigned hb = calc_segment(pathB, len);
    return (ha + adds[len]) % mod == hb;
}
```

**é¢˜è§£ä¸€æ ¸å¿ƒç‰‡æ®µï¼ˆHoksï¼‰**ï¼š
```cpp
// æ ‘å‰–è·¯å¾„åˆ†è§£
vector<pair<int,int>> get(int x,int y) {
    vector<pair<int,int>> l, r;
    while(top[x]!=top[y]) {
        if(dep[top[x]]<dep[top[y]]) {
            r.push_back({top[y], y});
            y = fa[top[y]];
        } else {
            l.push_back({x, top[x]});
            x = fa[top[x]];
        }
    }
    // è·¯å¾„åˆå¹¶é€»è¾‘...
}
```

**é¢˜è§£äºŒæ ¸å¿ƒç‰‡æ®µï¼ˆwxzzzzï¼‰**ï¼š
```cpp
// å€å¢æ³•è·å–å“ˆå¸Œ
ull getHash(int u, int v, int len) {
    int lca = LCA(u,v);
    if(len <= dep[u]-dep[lca]+1) {
        int k = get_kth_ancestor(u, len-1);
        return hs[u] - hs[f[k]] * pw[len];
    }
    // åˆ†æ®µå¤„ç†é€»è¾‘...
}
```

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**åƒç´ RPGã€Œè·¯å¾„æ¢é™©å®¶ã€è®¾è®¡æ–¹æ¡ˆ**ï¼š
```mermaid
graph TD
    A[å¼€å§‹ç•Œé¢] --> B[åŠ è½½æ ‘åœ°å›¾]
    B --> C[é€‰æ‹©æŸ¥è¯¢è·¯å¾„]
    C --> D[æ ‘å‰–åˆ†è§£è·¯å¾„]
    D --> E[é€æ®µå“ˆå¸ŒåŒ¹é…]
    E --> F{åŒ¹é…æˆåŠŸï¼Ÿ}
    F -->|æ˜¯| G[æ’­æ”¾èƒœåˆ©éŸ³æ•ˆ+ç§¯åˆ†]
    F -->|å¦| H[æ˜¾ç¤ºä¸åŒ¹é…ä½ç½®]
```

* **å®ç°ç»†èŠ‚**ï¼š
  1. **åœºæ™¯è®¾è®¡**ï¼š
     - 8-bitåƒç´ æ ‘ï¼šèŠ‚ç‚¹=16x16è‰²å—ï¼Œé‡é“¾=åŒè‰²è¿æ¥çº¿
     - æ§åˆ¶é¢æ¿ï¼šé€Ÿåº¦æ»‘å—/å•æ­¥æ‰§è¡Œ/é‡ç½®
  2. **åŠ¨ç”»æµç¨‹**ï¼š
     - è·¯å¾„åˆ†è§£ï¼šé«˜äº®æ˜¾ç¤ºå½“å‰é“¾æ®µï¼ˆå¦‚çº¢è‰²æ®µï¼‰
     - å“ˆå¸Œè®¡ç®—ï¼šæ˜¾ç¤ºå½“å‰æ®µèŠ‚ç‚¹åºåˆ—å’Œå“ˆå¸Œå€¼
     - äºŒåˆ†è¿‡ç¨‹ï¼šåŠ¨æ€è°ƒæ•´æ£€æŸ¥çš„å‰ç¼€é•¿åº¦
  3. **æ¸¸æˆåŒ–å…ƒç´ **ï¼š
     - æ¯æˆåŠŸåŒ¹é…ä¸€æ®µè·å¾—ç§¯åˆ†
     - å®Œå…¨åŒ¹é…è§¦å‘"å®è—å¼€å¯"åŠ¨ç”»
     - é”™è¯¯åŒ¹é…æ˜¾ç¤º"X"æ ‡è®°å’Œæ­£ç¡®å€¼å¯¹æ¯”
  4. **éŸ³æ•ˆç³»ç»Ÿ**ï¼š
     - èƒŒæ™¯éŸ³ä¹ï¼šFCé£æ ¼å¾ªç¯BGM
     - å…³é”®æ“ä½œï¼šèŠ‚ç‚¹ç§»åŠ¨(è„šæ­¥å£°)ï¼ŒåŒ¹é…(å®~)
     - ç»“æœæç¤ºï¼šèƒœåˆ©(ä¸Šæ‰¬éŸ³é˜¶)ï¼Œå¤±è´¥(ä½æ²‰éŸ³)

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜

**é€šç”¨æŠ€å·§è¿ç§»**ï¼š
1. è·¯å¾„ç»Ÿè®¡é—®é¢˜ï¼ˆå¦‚è·¯å¾„å’Œ/æå€¼ï¼‰
2. æ ‘ä¸ŠåŠ¨æ€æŸ¥è¯¢ï¼ˆå¦‚å¸¦ä¿®æ”¹çš„LCAï¼‰
3. åºåˆ—æ¯”å¯¹é—®é¢˜ï¼ˆå¦‚æœ€é•¿å…¬å…±å‰ç¼€ï¼‰

**æ´›è°·æ¨è**ï¼š
1. **P3379 ã€æ¨¡æ¿ã€‘æœ€è¿‘å…¬å…±ç¥–å…ˆ**  
   â†’ æŒæ¡å€å¢/æ ‘å‰–åŸºç¡€
2. **P3304 [SDOI2013]æ£®æ—**  
   â†’ ç»ƒä¹ åŠ¨æ€åŠ è¾¹+è·¯å¾„æŸ¥è¯¢
3. **P2633 Count on a tree**  
   â†’ æ ‘å‰–+ä¸»å¸­æ ‘ç»¼åˆåº”ç”¨

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **æ¥è‡ªHoksçš„è°ƒè¯•ç»éªŒ**ï¼š  
> "åœ¨æ ‘å‰–åˆ†æ®µæ—¶ï¼Œæˆ‘æœ€åˆå¿½ç•¥äº†é“¾æ®µæ–¹å‘å¯¼è‡´å“ˆå¸Œé”™è¯¯ã€‚é€šè¿‡æ‰“å°`dfn`å€¼å’Œé“¾æ®µæ–¹å‘ï¼Œæœ€ç»ˆå®šä½é—®é¢˜"

> **Kayçš„æ€»ç»“**ï¼š  
> è°ƒè¯•æ ‘ç»“æ„é—®é¢˜æ—¶ï¼Œå¯è§†åŒ–ä¸­é—´çŠ¶æ€è‡³å…³é‡è¦ï¼š
> 1. æ‰“å°æ ‘é“¾å‰–åˆ†çš„`top`é“¾
> 2. è¾“å‡ºè·¯å¾„åˆ†è§£åçš„é“¾æ®µ
> 3. å…³é”®èŠ‚ç‚¹çš„`dfn`å’Œ`dep`å€¼

> è®°ä½ï¼šå¥½ç¨‹åºå‘˜éƒ½æ˜¯"æ ‘å½¢æ€è€ƒè€…"ï¼Œæ—¢è¦è§æå¶ï¼ˆç»†èŠ‚ï¼‰ï¼Œä¹Ÿè¦è§‚ä¸»å¹²ï¼ˆæ•´ä½“æ¶æ„ï¼‰ğŸŒ³

---

ç®—æ³•ä¸–ç•Œå¦‚åŒæç¹å¶èŒ‚çš„å¤§æ ‘ï¼Œæ¯ä¸ªé—®é¢˜éƒ½æ˜¯å¾…æ¢ç´¢çš„æä¸«ã€‚åšæŒæ¯æ—¥ç²¾è¿›ï¼Œä½ ç»ˆå°†æˆä¸ºé©¾é©­æ•°æ®æ£®æ—çš„æ¢é™©å®¶ï¼ä¸‹æ¬¡ç®—æ³•å†’é™©å†è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š154.09ç§’
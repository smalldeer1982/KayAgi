# é¢˜ç›®ä¿¡æ¯

# [JOISC 2023] Passport (Day1)

## é¢˜ç›®æè¿°

æŠ¤ç…§æ˜¯æ—…è¡Œå®¶è¿›å…¥ä»–å›½æ—¶ä½¿ç”¨çš„è¯ä»¶ã€‚

åœ¨ä¸€ä¸ªæ˜Ÿçƒä¸Šæœ‰ $N$ ä¸ªå›½å®¶ï¼Œä» $1$ åˆ° $N$ ç¼–å·ã€‚æ¯ä¸ªå›½å®¶éƒ½ç­¾å‘ä¸€ç§æŠ¤ç…§ã€‚å½“æ—…è¡Œå®¶è·å¾—ç”±å›½å®¶$i \ (1 \le i \le N)$ ç­¾å‘çš„æŠ¤ç…§åï¼Œä»–èƒ½å¤Ÿè¿›å…¥å›½å®¶ $L_i, L_{i + 1}, \dots, R_i$ã€‚**è¿™é‡Œä¿è¯æ—…è¡Œå®¶èƒ½å¤Ÿè¿›å…¥å…¶ç­¾è¯çš„ç­¾å‘å›½ã€‚å½¢å¼ä¸Šåœ°è¯´, $L_i \le i \le R_i$ å¿…ç„¶æˆç«‹ã€‚**

ä½ æœ‰ä¸€ä¸ªçˆ±æ—…è¡Œçš„æœ‹å‹ã€‚å³ä½¿ä»–å¥¢æœ›èƒ½ç¯æ¸¸ä¸–ç•Œï¼Œä½†ä»–æœ€åˆä¸€ç§æŠ¤ç…§ä¹Ÿæ²¡æœ‰ã€‚å› æ­¤ï¼Œä»–æƒ³é€šè¿‡ä¸€ä¸‹é‡å¤ä»¥ä¸‹ä¸¤é¡¹è¡Œä¸ºæ¥ç¯æ¸¸è¿™ $N$ ä¸ªå›½å®¶ã€‚

- è·å¾—ä»–å½“å‰æ‰€åœ¨å›½å®¶ç­¾å‘çš„æŠ¤ç…§ã€‚
- ç”¨ä»–ç°æœ‰çš„æŠ¤ç…§è¿›å…¥æŸä¸ªå›½å®¶ã€‚

çŸ¥é“ä»–çš„è®¡åˆ’åï¼Œä½ æƒ³çŸ¥é“è¿™ä¸ªè®¡åˆ’çš„æ˜¯å¦å¯è¡Œï¼Œå’Œå¦‚æœå¯è¡Œçš„è¯ï¼Œä»–æœ€å°‘éœ€è¦çš„æŠ¤ç…§æ•°é‡ã€‚å› ä¸ºä½ å¹¶ä¸æ¸…æ¥šä»–ç°åœ¨èº«å¤„ä½•å›½ï¼Œæ‰€ä»¥ä½ é¢„æµ‹äº† $Q$ ä¸ªä»–å¯èƒ½æ­£å±…ä½åœ¨é‚£çš„å›½å®¶ $X_1, X_2, \dots, X_Q$ã€‚

ç°åœ¨ç»™å®šå„å›½æŠ¤ç…§çš„ä¿¡æ¯ $L_i, R_i$ å’Œä»–å¯èƒ½å±…ä½çš„ $Q$ ä¸ªå›½å®¶ï¼Œæ‚¨éœ€è¦å†™ä¸€ä¸ªç¨‹åºï¼Œå¯¹äºæ¯ä¸€ä¸ªå¯èƒ½å±…ä½çš„å›½å®¶ï¼Œåˆ¤æ–­ä»–æ˜¯å¦å¯èƒ½ç¯æ¸¸è¿™ $N$ ä¸ªå›½å®¶ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œè®¡ç®—å‡ºä»–éœ€è¦çš„æœ€å°‘æŠ¤ç…§ç§æ•°ã€‚

## è¯´æ˜/æç¤º

**ã€æ ·ä¾‹è§£é‡Š #1ã€‘**

å‡è®¾ä½ çš„æœ‹å‹å±…ä½åœ¨å›½å®¶ $X_1 = 1$ï¼Œä¸€ç§å¯è¡Œçš„æ–¹å¼å¦‚ä¸‹ï¼Œæœ€åä»–è·å¾—äº† $2$ ç§æŠ¤ç…§ï¼š

1. è·å¾—å›½å®¶ $1$ ç­¾å‘çš„æŠ¤ç…§ã€‚
2. ç”¨å›½å®¶ $1$ ç­¾å‘çš„æŠ¤ç…§å»å›½å®¶ $2$ æ—…è¡Œã€‚
3. è·å¾—å›½å®¶ $2$ ç­¾å‘çš„æŠ¤ç…§ã€‚
4. ç”¨å›½å®¶ $1$ ç­¾å‘çš„æŠ¤ç…§å»å›½å®¶ $3$ æ—…è¡Œã€‚
5. ç”¨å›½å®¶ $2$ ç­¾å‘çš„æŠ¤ç…§å»å›½å®¶ $4$ æ—…è¡Œã€‚

å¯ä»¥è¯æ˜ä¸å­˜åœ¨ä½¿ç”¨æŠ¤ç…§ç§æ•°æ›´å°çš„æ–¹æ¡ˆï¼Œæ•…è¾“å‡º $2$ã€‚

è¯¥æ ·ä¾‹æ»¡è¶³æ‰€æœ‰å­ä»»åŠ¡çš„é™åˆ¶ã€‚

**ã€æ ·ä¾‹è§£é‡Š #2ã€‘**

å‡è®¾ä½ çš„æœ‹å‹å±…ä½åœ¨å›½å®¶ $X_1 = 3$ã€‚ä¸€ç§å¯è¡Œçš„æ–¹å¼å¦‚ä¸‹ï¼Œæœ€åä»–è·å¾—äº† $4$ ç§æŠ¤ç…§ï¼š

1. è·å¾—å›½å®¶ $3$ ç­¾å‘çš„æŠ¤ç…§ã€‚
2. ç”¨å›½å®¶ $3$ ç­¾å‘çš„æŠ¤ç…§å»å›½å®¶ $2$ æ—…è¡Œã€‚
3. è·å¾—å›½å®¶ $2$ ç­¾å‘çš„æŠ¤ç…§ã€‚
4. ç”¨å›½å®¶ $2$ ç­¾å‘çš„æŠ¤ç…§å»å›½å®¶ $4$ æ—…è¡Œã€‚
5. è·å¾—å›½å®¶ $4$ ç­¾å‘çš„æŠ¤ç…§ã€‚
6. ç”¨å›½å®¶ $4$ ç­¾å‘çš„æŠ¤ç…§å»å›½å®¶ $5$ æ—…è¡Œã€‚
7. è·å¾—å›½å®¶ $5$ ç­¾å‘çš„æŠ¤ç…§ã€‚
8. ç”¨å›½å®¶ $5$ ç­¾å‘çš„æŠ¤ç…§å»å›½å®¶ $1$ æ—…è¡Œã€‚

å¯ä»¥è¯æ˜ä¸å­˜åœ¨ä½¿ç”¨æŠ¤ç…§ç§æ•°æ›´å°çš„æ–¹æ¡ˆï¼Œæ•…è¾“å‡º $4$ã€‚

è¯¥æ ·ä¾‹æ»¡è¶³å­ä»»åŠ¡ $2 \sim 5$ çš„é™åˆ¶ã€‚

**ã€æ ·ä¾‹è§£é‡Š #3ã€‘**

ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„æœ‹å‹å±…ä½åœ¨ $X_3 = 3$ï¼Œä¸€ç§å¯è¡Œçš„æ–¹æ¡ˆä¹¦è·å¾—å›½å®¶ $3$ ç­¾å‘çš„æŠ¤ç…§ï¼Œå¹¶ç”¨å®ƒæ¥ä¾æ¬¡å»å›½å®¶ $1, 2, 4, 5$ æ—…è¡Œã€‚æ•…ç¬¬ä¸‰è¡Œè¾“å‡º $3$ã€‚

ä½†å¦‚æœä½ çš„æœ‹å‹å±…ä½åœ¨å›½å®¶ $X_5 = 5$ï¼Œå³ä½¿ä»–è·å¾—äº†å›½å®¶ $5$ ç­¾å‘çš„æŠ¤ç…§ï¼Œä»–ä¹Ÿä¸å¯èƒ½è¿›å…¥ä»»ä½•å…¶ä»–å›½å®¶ï¼Œå› æ­¤ï¼Œä»–æ— æ³•å®ç°è‡ªå·±çš„æ—…è¡Œè®¡åˆ’ã€‚æ•…ç¬¬äº”è¡Œè¾“å‡º $-1$ã€‚

è¯¥æ ·ä¾‹æ»¡è¶³å­ä»»åŠ¡ $4 \sim 5$ çš„é™åˆ¶ã€‚

**ã€æ ·ä¾‹è§£é‡Š #4ã€‘**

è¯¥æ ·ä¾‹æ»¡è¶³å­ä»»åŠ¡ $4 \sim 5$ çš„é™åˆ¶ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
1 3
2 4
2 3
4 4
1
1
```

### è¾“å‡º

```
2
```

## æ ·ä¾‹ #2

### è¾“å…¥

```
5
1 5
2 4
2 3
3 5
1 5
1
3
```

### è¾“å‡º

```
4
```

## æ ·ä¾‹ #3

### è¾“å…¥

```
5
1 1
2 3
1 5
3 4
5 5
5
1
2
3
4
5
```

### è¾“å‡º

```
-1
2
1
2
-1
```

## æ ·ä¾‹ #4

### è¾“å…¥

```
4
1 2
1 2
3 4
3 4
4
1
2
3
4
```

### è¾“å‡º

```
-1
-1
-1
-1
```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šJOISC 2023 Passport æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå›¾è®ºï¼ˆçº¿æ®µæ ‘ä¼˜åŒ–å»ºå›¾ + æœ€çŸ­è·¯ï¼‰  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è§£å†³æŠ¤ç…§é—®é¢˜å°±åƒè§„åˆ’ä¸€åœºåƒç´ å†’é™©æ¸¸æˆğŸŒï¼šæ¯ä¸ªå›½å®¶æ˜¯æ¸¸æˆä¸­çš„å…³å¡ï¼ŒæŠ¤ç…§æ˜¯å¼€å¯å…³å¡çš„é’¥åŒ™ğŸ”‘ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡**çº¿æ®µæ ‘ä¼˜åŒ–å»ºå›¾**å°†åŒºé—´è¦†ç›–è½¬åŒ–ä¸ºé«˜æ•ˆçš„æœ€çŸ­è·¯é—®é¢˜ï¼ˆç±»ä¼¼ç”¨ä¼ é€é—¨è¿æ¥å¤šä¸ªå…³å¡ï¼‰ã€‚  
> - **å…³é”®æµç¨‹**ï¼š  
>   1. å»ºåå›¾ï¼šæ¯ä¸ªå›½å®¶ç­¾å‘æŠ¤ç…§åèƒ½è®¿é—®çš„åŒºé—´è½¬åŒ–ä¸ºåå‘è¾¹  
>   2. åŒæºBFSï¼šä»å›½å®¶1å’Œnåˆ†åˆ«è·‘01-BFSè®¡ç®—è·ç¦»  
>   3. å¤šæºæ¾å¼›ï¼šç”¨`dis1[i]+dis2[i]`ä½œåˆå§‹æƒå€¼äºŒæ¬¡BFSé¿å…é‡å¤è®¡æ•°  
> - **å¯è§†åŒ–è®¾è®¡**ï¼š  
>   å¤å¤åƒç´ åœ°å›¾å±•ç¤ºå›½å®¶åºåˆ—ï¼ˆ1~nï¼‰ï¼Œçº¿æ®µæ ‘èŠ‚ç‚¹åŒ–ä¸ºä¼ é€é—¨âš¡ï¸ã€‚åŠ¨ç”»åˆ†ä¸‰é˜¶æ®µï¼š  
>   - çº¢/è“æ³¢é˜µé¢ä»1å’Œnæ‰©æ•£ï¼ˆ01-BFSï¼‰  
>   - é‡‘è‰²æ¶Ÿæ¼ªå±•ç¤ºå¤šæºæ¾å¼›è¿‡ç¨‹  
>   - èƒœåˆ©éŸ³æ•ˆğŸµåœ¨è§£å‡ºæ—¶è§¦å‘ï¼Œå¤±è´¥éŸ³æ•ˆâŒåœ¨æ— è§£æ—¶æ’­æ”¾  

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆZpairï¼‰**  
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°æŠ“ä½åŒºé—´è¿ç»­ç‰¹æ€§ï¼Œç”¨çº¿æ®µæ ‘ä¼˜åŒ–å»ºå›¾é™ä½å¤æ‚åº¦è‡³O(n log n)ã€‚ä»£ç ä¸­`dis1`/`dis2`çš„åŒæºBFSå’ŒäºŒæ¬¡æ¾å¼›é€»è¾‘ä¸¥è°¨ï¼Œè¾¹ç•Œå¤„ç†å®Œæ•´ï¼ˆå¦‚`d[i] = a[i]+b[i]-(1<i && i<n)`å·§å¦™é¿å…èµ·ç‚¹é‡å¤ï¼‰ã€‚äº®ç‚¹åœ¨äºå°†è™šç‚¹è¿æ¥ä¸å®é™…å›½å®¶åˆ†ç¦»ï¼Œæå‡å¯è¯»æ€§â›“ï¸ã€‚

**é¢˜è§£äºŒï¼ˆElma_ï¼‰**  
* **ç‚¹è¯„**ï¼šé‡‡ç”¨æ ‡å‡†01-BFSæ¡†æ¶ï¼Œä¼˜å…ˆé˜Ÿåˆ—å®ç°å¤šæºæ¾å¼›ã€‚ä»£ç æ¨¡å—åŒ–ä¼˜ç§€ï¼ˆåˆ†ç¦»å»ºå›¾/BFS/æ¾å¼›ï¼‰ï¼Œå˜é‡`dis1`/`dis2`å‘½åæ˜ç¡®ã€‚è™½æœªæ˜¾å¼å¤„ç†é‡å¤è®¡ç®—ï¼Œä½†é€šè¿‡ä¼˜å…ˆé˜Ÿåˆ—çš„å †ä¼˜åŒ–è‡ªç„¶å®ç°é«˜æ•ˆæ›´æ–°ğŸ”§ã€‚

**é¢˜è§£ä¸‰ï¼ˆ_mazeï¼‰**  
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§ä½¿ç”¨è™šç‚¹ï¼ˆ`i+n`ï¼‰åŒºåˆ†æŠ¤ç…§è·å–ä¸ç§»åŠ¨é˜¶æ®µã€‚çº¿æ®µæ ‘ä¼˜åŒ–å»ºå›¾é€»è¾‘ç®€æ´ï¼Œ`add(u+n, u, 1)`ç²¾å‡†è¡¨ç¤ºæŠ¤ç…§è·å–ä»£ä»·ğŸ«ã€‚åˆå§‹ç­”æ¡ˆ`mx[i]=dis1[i]+dis2[i]`å’Œæ¾å¼›å®ç°å®Œæ•´è¦†ç›–è·¯å¾„é‡å åœºæ™¯ã€‚

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹ï¼šåŒºé—´è¿è¾¹çˆ†ç‚¸**  
   * **åˆ†æ**ï¼šç›´æ¥è¿è¾¹å¤æ‚åº¦O(nÂ²)ä¸å¯è¡Œã€‚ä¼˜è´¨è§£ç”¨çº¿æ®µæ ‘åˆ†å±‚ï¼šå¶èŠ‚ç‚¹ä¸ºå›½å®¶ï¼Œéå¶èŠ‚ç‚¹è¡¨åŒºé—´ã€‚æ·»åŠ æŠ¤ç…§æ—¶åªéœ€è¿çº¿æ®µæ ‘èŠ‚ç‚¹ï¼ˆO(log n)è¾¹ï¼‰ã€‚  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçº¿æ®µæ ‘ä¼˜åŒ–å»ºå›¾æ˜¯åŒºé—´æ“ä½œé—®é¢˜çš„é»„é‡‘å·¥å…·ğŸ”§

2. **éš¾ç‚¹ï¼šè·¯å¾„é‡å è®¡ç®—**  
   * **åˆ†æ**ï¼šä»èµ·ç‚¹åˆ°1å’Œnçš„è·¯å¾„å…±äº«èµ·ç‚¹æŠ¤ç…§ã€‚ç­–ç•¥ï¼š  
     - é¦–æ¬¡BFSåè®¾`ans[i]=dis1[i]+dis2[i]`  
     - å¤šæºBFSæ¾å¼›ï¼š`ans[v] = min(ans[v], ans[u]+1)`  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤šæºæ¾å¼›æ˜¯å¤„ç†è·¯å¾„äº¤å çš„åˆ©å‰‘âš”ï¸

3. **éš¾ç‚¹ï¼šåŠ¨æ€åŒºé—´æ‰©å±•**  
   * **åˆ†æ**ï¼šæŠ¤ç…§è¦†ç›–èŒƒå›´åœ¨BFSä¸­åŠ¨æ€æ‰©å±•ã€‚ç”¨åŒç«¯é˜Ÿåˆ—å®ç°01-BFSï¼š  
     - è¾¹æƒ0ï¼š`push_front`ï¼ˆå›½å®¶ç§»åŠ¨ï¼‰  
     - è¾¹æƒ1ï¼š`push_back`ï¼ˆè·å–æŠ¤ç…§ï¼‰  
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š01-BFSæ˜¯è¾¹æƒäºŒå…ƒå›¾çš„æœ€ä¼˜è§£æ³•ğŸš€

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**  
- **æŠ€å·§1ï¼šé—®é¢˜åˆ†è§£** â†’ å°†"è®¿é—®æ‰€æœ‰å›½å®¶"æ‹†è§£ä¸º"åˆ°è¾¾1å’Œn"  
- **æŠ€å·§2ï¼šé€†å‘æ€ç»´** â†’ å»ºåå›¾ä»ç»ˆç‚¹åå‘è®¡ç®—  
- **æŠ€å·§3ï¼šæ•°æ®ç»“æ„é€‰æ‹©** â†’ çº¿æ®µæ ‘å¤„ç†åŒºé—´ï¼ŒåŒç«¯é˜Ÿåˆ—å¤„ç†01è¾¹æƒ  

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
**é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆç»¼åˆä¼˜è´¨é¢˜è§£ï¼‰**  
```cpp
#include <bits/stdc++.h>
using namespace std;
const int N = 2e5 + 5, INF = 1e9;

vector<pair<int, int>> g[N * 4];
int n, tot, dis1[N * 4], dis2[N * 4], ans[N * 4];

void build(int x, int l, int r) {
    if (l == r) {
        g[l].emplace_back(tot + x, 0); 
        return;
    }
    int m = (l + r) / 2;
    build(x << 1, l, m);
    build(x << 1 | 1, m + 1, r);
    g[tot + (x << 1)].emplace_back(tot + x, 0);
    g[tot + (x << 1 | 1)].emplace_back(tot + x, 0);
}

void add_edge(int x, int l, int r, int ql, int qr, int v) {
    if (ql <= l && qr >= r) {
        g[tot + x].emplace_back(v, 0);
        return;
    }
    int m = (l + r) / 2;
    if (ql <= m) add_edge(x << 1, l, m, ql, qr, v);
    if (qr > m) add_edge(x << 1 | 1, m + 1, r, ql, qr, v);
}

void bfs(int st, int dis[]) {
    deque<int> q;
    fill(dis, dis + N * 4, INF);
    dis[st] = 0; q.push_back(st);
    while (!q.empty()) {
        int u = q.front(); q.pop_front();
        for (auto [v, w] : g[u]) {
            if (dis[v] > dis[u] + w) {
                dis[v] = dis[u] + w;
                w == 0 ? q.push_front(v) : q.push_back(v);
            }
        }
    }
}

int main() {
    cin >> n;
    tot = n;
    build(1, 1, n);
    for (int i = 1; i <= n; i++) {
        int L, R; cin >> L >> R;
        add_edge(1, 1, n, L, R, i);
        g[i].emplace_back(i + n, 1); // è™šç‚¹è¾¹
    }
    bfs(1, dis1); bfs(n, dis2);
    for (int i = 1; i <= n; i++) 
        ans[i] = min(INF, dis1[i] + dis2[i] - (i != 1 && i != n));
    // å¤šæºBFSæ¾å¼›
    deque<int> q;
    for (int i = 1; i <= n; i++) q.push_back(i);
    while (!q.empty()) {
        int u = q.front(); q.pop_front();
        for (auto [v, w] : g[u]) {
            if (ans[v] > ans[u] + w) {
                ans[v] = ans[u] + w;
                w == 0 ? q.push_front(v) : q.push_back(v);
            }
        }
    }
    // å¤„ç†æŸ¥è¯¢
    int Q; cin >> Q;
    while (Q--) {
        int x; cin >> x;
        cout << (ans[x] < INF ? ans[x] : -1) << '\n';
    }
}
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
> 1. **çº¿æ®µæ ‘å»ºå›¾**ï¼š`build`æ„å»ºåŒºé—´æ ‘ï¼Œ`add_edge`æ·»åŠ æŠ¤ç…§è¦†ç›–åŒºé—´  
> 2. **åŒæº01-BFS**ï¼šä»å›½å®¶1å’Œnåå‘è®¡ç®—è·ç¦»`dis1`/`dis2`  
> 3. **å¤šæºæ¾å¼›**ï¼šä»¥`dis1[i]+dis2[i]`ä¸ºåˆå§‹å€¼äºŒæ¬¡BFSæ¶ˆé™¤é‡å   
> 4. **è™šç‚¹æŠ€å·§**ï¼š`iâ†’i+n`çš„è¾¹æƒ1è¡¨ç¤ºè·å–æŠ¤ç…§ä»£ä»·  

**é¢˜è§£ä¸€ç‰‡æ®µèµæï¼ˆZpairï¼‰**  
```cpp
// åˆå§‹åŒ–å¤šæºè·ç¦»
for (int i = 1; i <= n; i++) 
    d[i] = dis1[i] + dis2[i] - (1 < i && i < n);
// å¤šæºBFSæ¾å¼›
deque<int> q; 
for (int i = 1; i <= n; i++) q.push_back(i);
while (!q.empty()) {
    int u = q.front(); q.pop_front();
    for (auto [v, w] : g[u]) {
        if (d[v] > d[u] + w) {
            d[v] = d[u] + w;
            w == 0 ? q.push_front(v) : q.push_back(v);
        }
    }
}
```
**ä»£ç è§£è¯»**ï¼š  
> - **æ ¸å¿ƒé€»è¾‘**ï¼šé€šè¿‡`d[u] + w`æ¾å¼›ç›¸é‚»èŠ‚ç‚¹ï¼Œ`w=0`æ—¶å‰æ’ä¿è¯0æƒè¾¹ä¼˜å…ˆå¤„ç†  
> - **ç²¾å¦™ç‚¹**ï¼š`-(1<i && i<n)`æ’é™¤ä¸­é—´ç‚¹èµ·ç‚¹çš„é‡å¤è®¡æ•°  
> - **å­¦ä¹ ç¬”è®°**ï¼šåŒç«¯é˜Ÿåˆ—æ˜¯01-BFSçš„çµé­‚ï¼Œä¿è¯O(n)å¤æ‚åº¦âš¡ï¸

---

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
* **ä¸»é¢˜**ï¼š8-bité£æ ¼ã€ŠæŠ¤ç…§å¤§å†’é™©ã€‹  
* **æ ¸å¿ƒæ¼”ç¤º**ï¼šå›½å®¶åŒ–ä¸ºåƒç´ å…³å¡ï¼ˆ1~næ’åˆ—ï¼‰ï¼Œçº¿æ®µæ ‘èŠ‚ç‚¹ä¸ºå½©è‰²ä¼ é€é—¨ğŸŒˆ  

**åŠ¨ç”»æµç¨‹**ï¼š  
1. **åˆå§‹åŒ–**ï¼š  
   - å±å¹•åº•éƒ¨æ§åˆ¶é¢æ¿ï¼šæ­¥è¿›â–¶ï¸/æš‚åœâ¸ï¸/é€Ÿåº¦æ¡ğŸ¢â†’ğŸ‡  
   - å›½å®¶åºåˆ—ï¼šç»¿è‰²åƒç´ å—ï¼ˆæœªè®¿é—®ï¼‰ï¼Œçº¢/è“æ³¢é˜µé¢ä»1å’Œnå‡ºå‘  

2. **åŒæºBFSé˜¶æ®µ**ï¼š  
   ```plaintext
   ç¬¬1å¸§ï¼šçº¢æ³¢ä»å›½å®¶1æ‰©æ•£ â†’ [Lâ‚,Râ‚]å˜æ©™è‰²ï¼ˆè¦†ç›–åŒºé—´ï¼‰
   ç¬¬2å¸§ï¼šè“æ³¢ä»å›½å®¶næ‰©æ•£ â†’ è¦†ç›–åŒºé—´é—ªçƒé’è‰²
   éŸ³æ•ˆï¼šè¦†ç›–æ–°å›½å®¶æ—¶æ’­æ”¾"å®ï¼"ğŸ””
   ```

3. **å¤šæºæ¾å¼›é˜¶æ®µ**ï¼š  
   ```plaintext
   ç¬¬Nå¸§ï¼šé‡‘è‰²æ¶Ÿæ¼ªä»æ¯ä¸ªå›½å®¶æ‰©æ•£
   é«˜äº®ï¼šè¢«æ¾å¼›çš„å›½å®¶é—ªçƒé‡‘å…‰âœ¨
   éŸ³æ•ˆï¼šæˆåŠŸæ¾å¼›æ—¶æ’­æ”¾ç¡¬å¸å£°ğŸª™
   ```

4. **ç»“æœå±•ç¤º**ï¼š  
   - æˆåŠŸè§£ï¼šè·¯å¾„ç‚¹äº®å½©è™¹æ¡¥ğŸŒ‰+èƒœåˆ©å·è§’ğŸº  
   - æ— è§£ï¼šå›½å®¶å˜ç°è‰²âŒ+ä½æ²‰æç¤ºéŸ³  

**äº¤äº’è®¾è®¡**ï¼š  
- **AIæ¼”ç¤ºæ¨¡å¼**ï¼šè‡ªåŠ¨æ’­æ”¾æ—¶æ·»åŠ åƒç´ å°äººæ²¿è·¯å¾„ç§»åŠ¨ğŸ‘¾  
- **å…³å¡ç§¯åˆ†**ï¼šæ¯å®Œæˆä¸€ä¸ªBFSé˜¶æ®µå¾—â­ï¼Œé›†é½3â­è§£é”ä¸‹ä¸€é¢˜  

---

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜
1. **æ´›è°·P7984** [USACO21DEC] Tickets P  
   â†’ **æ¨èç†ç”±**ï¼šåŒå€ç»éªŒï¼åŒæ¬¾çº¿æ®µæ ‘ä¼˜åŒ–å»ºå›¾+åŒæºæœ€çŸ­è·¯  
2. **æ´›è°·P6348** [JOI2017] Railway  
   â†’ **æ¨èç†ç”±**ï¼šåŒºé—´è¦†ç›–é—®é¢˜å˜å½¢ï¼Œå¼ºåŒ–çº¿æ®µæ ‘å»ºå›¾åº”ç”¨  
3. **æ´›è°·P3588** [POI2015] PUS  
   â†’ **æ¨èç†ç”±**ï¼šæ›´å¤æ‚çš„åŒºé—´çº¦æŸé—®é¢˜ï¼Œé€‚åˆæ·±å…¥è®­ç»ƒ  

---

#### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> æœ¬æ¬¡é¢˜è§£æœªåŒ…å«ä½œè€…ä¸ªäººå¿ƒå¾—ï¼Œä½†Kayæé†’ï¼š  
> **è°ƒè¯•æŠ€å·§**ï¼šåœ¨è¾¹ç•Œå›½å®¶ï¼ˆå¦‚1æˆ–nï¼‰è®¾ç½®æ–­ç‚¹ï¼Œæ‰“å°`dis1/dis2`ä¸­é—´å€¼ï¼Œå¯å¿«é€Ÿå®šä½å»ºå›¾é”™è¯¯ğŸ

---  
ğŸ’ åšæŒç»ƒä¹ è¿™äº›æŠ€å·§ï¼Œä½ å°†æˆä¸ºå›¾è®ºå¤§å¸ˆï¼ä¸‹æ¬¡æŒ‘æˆ˜è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š148.65ç§’
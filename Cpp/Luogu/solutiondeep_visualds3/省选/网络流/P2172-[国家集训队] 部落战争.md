# é¢˜ç›®ä¿¡æ¯

# [å›½å®¶é›†è®­é˜Ÿ] éƒ¨è½æˆ˜äº‰

## é¢˜ç›®èƒŒæ™¯

lanzerb çš„éƒ¨è½åœ¨ A å›½çš„ä¸Šéƒ¨ï¼Œä»–ä»¬ä¸æ»¡å¤©å¯’åœ°å†»çš„ç¯å¢ƒï¼Œäºæ˜¯å‡†å¤‡å‘Aå›½çš„ä¸‹éƒ¨å¾æˆ˜æ¥è·å¾—æ›´å¤§çš„é¢†åœŸã€‚

## é¢˜ç›®æè¿°

A å›½æ˜¯ä¸€ä¸ª $M\times N$ çš„çŸ©é˜µï¼Œå…¶ä¸­æŸäº›åœ°æ–¹æ˜¯åŸé•‡ï¼ŒæŸäº›åœ°æ–¹æ˜¯é«˜å±±æ·±æ¶§æ— äººå±…ä½ã€‚lanzerb æŠŠè‡ªå·±çš„éƒ¨è½åˆ†æˆè‹¥å¹²æ”¯å†›é˜Ÿï¼Œä»–ä»¬çº¦å®šï¼š

æ¯æ”¯å†›é˜Ÿå¯ä»¥ä»ä»»æ„ä¸€ä¸ªåŸé•‡å‡ºå‘ï¼Œå¹¶åªèƒ½ä»ä¸Šå¾€å‘ä¸‹å¾æˆ˜ï¼Œä¸èƒ½å›å¤´ã€‚é€”ä¸­åªèƒ½ç»è¿‡åŸé•‡ï¼Œä¸èƒ½ç»è¿‡é«˜å±±æ·±æ¶§ã€‚

å¦‚æœæŸä¸ªåŸé•‡è¢«æŸæ”¯å†›é˜Ÿåˆ°è¿‡ï¼Œåˆ™å…¶ä»–å†›é˜Ÿä¸èƒ½å†å»é‚£ä¸ªåŸé•‡äº†ã€‚
æ¯æ”¯å†›é˜Ÿéƒ½å¯ä»¥åœ¨ä»»æ„ä¸€ä¸ªåŸé•‡åœæ­¢å¾æˆ˜ã€‚

æ‰€æœ‰å†›é˜Ÿéƒ½å¾ˆå¥‡æ€ªï¼Œä»–ä»¬èµ°çš„æ–¹æ³•æœ‰ç‚¹åƒå›½é™…è±¡æ£‹ä¸­çš„é©¬ã€‚ä¸è¿‡é©¬æ¯æ¬¡åªèƒ½èµ° $1\times2$ çš„è·¯çº¿ï¼Œè€Œä»–ä»¬åªèƒ½èµ° $R\times C$ çš„è·¯çº¿ã€‚

lanzerb çš„é‡å¿ƒä½¿å¾—ä»–çš„ç›®æ ‡æ˜¯ç»Ÿä¸€å…¨å›½ï¼Œä½†æ˜¯å…µåŠ›çš„é™åˆ¶ä½¿å¾—ä»–ä»¬åœ¨é…å¤‡äººæ‰‹æ—¶åŠ›ä¸ä»å¿ƒã€‚å‡è®¾ä»–ä»¬æ¯æ”¯å†›é˜Ÿéƒ½èƒ½é¡ºåˆ©å é¢†è¿™æ”¯å†›é˜Ÿç»è¿‡çš„æ‰€æœ‰åŸé•‡ï¼Œè¯·ä½ å¸® lanzerb ç®—ç®—è‡³å°‘è¦å¤šå°‘æ”¯å†›é˜Ÿæ‰èƒ½å®Œæˆç»Ÿä¸€å…¨å›½çš„å¤§ä¸šã€‚

## è¯´æ˜/æç¤º

#### æ•°æ®è§„æ¨¡ä¸çº¦å®š

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$1\le M,N\le 50,1\le R,C\le 10$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3 3 1 2
...
.x.
...```

### è¾“å‡º

```
4```

## æ ·ä¾‹ #2

### è¾“å…¥

```
5 4 1 1
....
..x.
...x
....
x...```

### è¾“å‡º

```
5
```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[å›½å®¶é›†è®­é˜Ÿ]éƒ¨è½æˆ˜äº‰ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæœ€å°è·¯å¾„è¦†ç›–ï¼ˆäºŒåˆ†å›¾åŒ¹é…/ç½‘ç»œæµï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³éƒ¨è½æˆ˜äº‰é—®é¢˜ï¼Œå…³é”®åœ¨äºå°†åœ°å›¾å»ºæ¨¡ä¸ºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œå¹¶è¿ç”¨æœ€å°è·¯å¾„è¦†ç›–ç®—æ³•ã€‚è¿™å°±åƒåœ¨æ–¹æ ¼æ£‹ç›˜ä¸Šç”¨æœ€å°‘çš„"è´ªåƒè›‡"è¦†ç›–æ‰€æœ‰å¯é€šè¡Œæ ¼å­ï¼Œæ¯æ¡è›‡åªèƒ½å‘ä¸‹ç§»åŠ¨ä¸”ä¸èƒ½é‡å¤ç»è¿‡æ ¼å­ã€‚æ ¸å¿ƒæ€è·¯æ˜¯å°†æ¯ä¸ªåŸé•‡æ‹†åˆ†ä¸ºå…¥ç‚¹å’Œå‡ºç‚¹ï¼Œæ„å»ºäºŒåˆ†å›¾ï¼š
> - **ç®—æ³•æµç¨‹**ï¼šéå†ç½‘æ ¼ï¼Œå¯¹æ¯ä¸ªåŸé•‡å‘å…¶å¯è¾¾çš„å››ä¸ªæ–¹å‘ï¼ˆ(r,c)ã€(r,-c)ã€(c,r)ã€(c,-r)ï¼‰è¿è¾¹ï¼Œå½¢æˆDAGã€‚æœ€å°è·¯å¾„è¦†ç›–æ•° = åŸé•‡æ€»æ•° - æœ€å¤§åŒ¹é…æ•°
> - **å¯è§†åŒ–è®¾è®¡**ï¼šåœ¨åƒç´ åŠ¨ç”»ä¸­ï¼Œç”¨ä¸åŒé¢œè‰²æ ‡è®°åŸé•‡çŠ¶æ€ï¼šç™½è‰²ï¼ˆæœªè¦†ç›–ï¼‰ã€ç»¿è‰²ï¼ˆå½“å‰è·¯å¾„ï¼‰ã€çº¢è‰²ï¼ˆå·²åŒ¹é…ï¼‰ã€‚å…³é”®å˜é‡`matched`æ•°ç»„è®°å½•åŒ¹é…å…³ç³»ï¼ŒåŠ¨ç”»é«˜äº®åŒ¹é…è¾¹çš„å»ºç«‹è¿‡ç¨‹
> - **å¤å¤æ¸¸æˆåŒ–è®¾è®¡**ï¼šé‡‡ç”¨8-bitåƒç´ é£æ ¼ï¼Œå†›é˜Ÿç§»åŠ¨æ—¶æ’­æ”¾"ç§»åŠ¨éŸ³æ•ˆ"ï¼ŒåŒ¹é…æˆåŠŸæ—¶æ’­æ”¾"è¿æ¥éŸ³æ•ˆ"ã€‚æ§åˆ¶é¢æ¿æ”¯æŒå•æ­¥æ‰§è¡Œ/è‡ªåŠ¨æ’­æ”¾ï¼Œé€Ÿåº¦å¯è°ƒ

---

#### 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ
**é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼šmgzcï¼‰**
* **ç‚¹è¯„**ï¼š
  - **æ€è·¯æ¸…æ™°æ€§**ï¼šç²¾è¾ŸæŒ‡å‡ºæœ¬é¢˜æ˜¯æœ€å°è·¯å¾„è¦†ç›–çš„å˜å½¢ï¼Œå¼•ç”¨é­”æœ¯çƒé—®é¢˜ç±»æ¯”ï¼Œé€»è¾‘æ¨å¯¼ä¸¥è°¨
  - **ä»£ç è§„èŒƒæ€§**ï¼šå˜é‡å‘½ååˆç†ï¼ˆ`mapp`è¡¨ç¤ºåœ°å›¾ï¼Œ`sum`ç»Ÿè®¡åŸé•‡æ•°ï¼‰ï¼ŒDinicå®ç°å®Œæ•´
  - **ç®—æ³•æœ‰æ•ˆæ€§**ï¼šä½¿ç”¨ç½‘ç»œæµæ±‚è§£ï¼Œæ—¶é—´å¤æ‚åº¦O(nÂ²mÂ²)ï¼Œç©ºé—´ä¼˜åŒ–åˆ°ä½
  - **å®è·µä»·å€¼**ï¼šå®Œæ•´å¤„ç†è¾¹ç•Œæ¡ä»¶ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›
  > äº®ç‚¹ï¼šæ¸…æ™°é˜é‡Šæœ€å°è·¯å¾„è¦†ç›–çš„æ•°å­¦åŸç†ï¼ˆè¦†ç›–æ•°=ç‚¹æ•°-æœ€å¤§æµï¼‰

**é¢˜è§£äºŒï¼ˆä½œè€…ï¼šReaepitaï¼‰**
* **ç‚¹è¯„**ï¼š
  - **æ€è·¯æ¸…æ™°æ€§**ï¼šç”¨åŒˆç‰™åˆ©ç®—æ³•å®ç°ï¼Œç®€æ˜é˜è¿°"ç‚¹ç‹¬ç«‹é›†â†’è·¯å¾„è¦†ç›–"è½¬æ¢å…³ç³»
  - **ä»£ç è§„èŒƒæ€§**ï¼šå°è£…`find_`åŒ¹é…å‡½æ•°ï¼Œ`check_matrix`è¾¹ç•Œåˆ¤æ–­å‡½æ•°æé«˜å¯è¯»æ€§
  - **ç®—æ³•æœ‰æ•ˆæ€§**ï¼šåŒˆç‰™åˆ©ç®—æ³•å®ç°ç®€æ´ï¼Œé€‚åˆå°è§„æ¨¡æ•°æ®ï¼ˆn,mâ‰¤50ï¼‰
  > äº®ç‚¹ï¼šç”¨`g(i,j)`å®å®ç°äºŒç»´åæ ‡åˆ°ä¸€ç»´çš„é«˜æ•ˆæ˜ å°„

**é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šjunå¤´å‰å‰ï¼‰**
* **ç‚¹è¯„**ï¼š
  - **æ€è·¯æ¸…æ™°æ€§**ï¼šè¯¦ç»†æ‹†è§£DAGæœ€å°è·¯å¾„è¦†ç›–åŸç†ï¼Œé…ä»¥ç¤ºæ„å›¾è§£é‡Šæ‹†ç‚¹é€»è¾‘
  - **ä»£ç è§„èŒƒæ€§**ï¼šDinicå®ç°æ ‡å‡†ï¼Œ`#define id(x,y)`å®æå‡ç½‘æ ¼ç¼–ç å¯è¯»æ€§
  - **ç®—æ³•æœ‰æ•ˆæ€§**ï¼šç½‘ç»œæµè§£æ³•é«˜æ•ˆï¼Œæ·»åŠ äº†`#pragma optimize(2)`åŠ é€Ÿ
  > äº®ç‚¹ï¼šæä¾›[ä¸ªäººåšå®¢]æ·±å…¥è§£æï¼Œå¸®åŠ©ç†è§£ç®—æ³•æœ¬è´¨

---

#### 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥
1. **éš¾ç‚¹ï¼šå»ºå›¾çš„æ–¹å‘å¤„ç†**
   - åˆ†æï¼šå†›é˜Ÿåªèƒ½å‘ä¸‹èµ°ï¼Œéœ€è®¡ç®—(r,c)ã€(r,-c)ã€(c,r)ã€(c,-r)å››ä¸ªæ–¹å‘ï¼Œä¸”éœ€åˆ¤æ–­è¶Šç•Œå’Œéšœç¢ç‰©
   - è§£å†³ï¼šé¢„å¤„ç†æ–¹å‘æ•°ç»„ï¼Œéå†æ—¶æ£€æŸ¥`1â‰¤nxâ‰¤n, 1â‰¤nyâ‰¤m`ä¸”ç›®æ ‡ç‚¹ä¸ºåŸé•‡

2. **éš¾ç‚¹ï¼šæœ€å°è·¯å¾„è¦†ç›–çš„æ•°å­¦è½¬æ¢**
   - åˆ†æï¼šç†è§£"è·¯å¾„è¦†ç›–æ•°=ç‚¹æ•°-æœ€å¤§åŒ¹é…"çš„æ¨å¯¼æ˜¯å…³é”®
   - è§£å†³ï¼šå°†æ¯ä¸ªç‚¹æ‹†ä¸ºå…¥ç‚¹/å‡ºç‚¹ï¼Œå·¦éƒ¨è¿æºç‚¹ï¼Œå³éƒ¨è¿æ±‡ç‚¹ï¼Œå¯è¾¾å…³ç³»è¿è¾¹

3. **éš¾ç‚¹ï¼šç®—æ³•é€‰æ‹©ä¸ä¼˜åŒ–**
   - åˆ†æï¼šåŒˆç‰™åˆ©ï¼ˆO(nÂ³)ï¼‰vs Dinicï¼ˆO(nÂ²m)ï¼‰çš„é€‰æ‹©
   - è§£å†³ï¼šæœ¬é¢˜n,mâ‰¤50ï¼Œä¸¤ç§ç®—æ³•å‡å¯ï¼›è¾ƒå¤§æ•°æ®æ—¶ä¼˜é€‰Dinic

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š
> æœ€å°è·¯å¾„è¦†ç›–æœ¬è´¨æ˜¯å¯»æ‰¾æœ€å¤§ç‹¬ç«‹é›†ï¼Œæ‹†ç‚¹æ³•å°†DAGè½¬ä¸ºäºŒåˆ†å›¾åŒ¹é…

âœ¨ **è§£é¢˜æŠ€å·§æ€»ç»“**ï¼š
- **æ‹†ç‚¹å»ºæ¨¡æ³•**ï¼šå¯¹ç½‘æ ¼é—®é¢˜ï¼Œç”¨`id=(i-1)*m+j`å°†äºŒç»´åæ ‡æ˜ å°„ä¸ºä¸€ç»´
- **æ–¹å‘å¤„ç†æŠ€å·§**ï¼šé¢„å®šä¹‰`dx[4],dy[4]`æ•°ç»„ç»Ÿä¸€å¤„ç†ç§»åŠ¨æ–¹å‘
- **è°ƒè¯•æŠ€å·§**ï¼šæ‰“å°ä¸­é—´åŒ¹é…çŠ¶æ€ï¼ŒéªŒè¯å»ºå›¾æ­£ç¡®æ€§

---

#### 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ
```cpp
// é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆDinicç®—æ³•ï¼‰
#include <bits/stdc++.h>
#define id(i,j) ((i-1)*m+j)
const int N=1e4+5, INF=1e9;

struct Dinic {
    struct Edge { int v, f, rev; };
    vector<Edge> G[N];
    int dis[N], cur[N], s, t;
    
    void add(int u, int v, int f) {
        G[u].push_back({v, f, (int)G[v].size()});
        G[v].push_back({u, 0, (int)G[u].size()-1});
    }

    bool bfs() {
        memset(dis, -1, sizeof dis);
        queue<int> q; 
        q.push(s); dis[s] = 0;
        while (!q.empty()) {
            int u = q.front(); q.pop();
            for (auto &e : G[u]) 
                if (e.f && dis[e.v] == -1) 
                    dis[e.v] = dis[u] + 1, q.push(e.v);
        }
        return dis[t] != -1;
    }

    int dfs(int u, int flow) {
        if (u == t) return flow;
        int res = 0;
        for (int &i = cur[u]; i < G[u].size(); i++) {
            auto &e = G[u][i];
            if (!e.f || dis[e.v] != dis[u] + 1) continue;
            int d = dfs(e.v, min(flow, e.f));
            e.f -= d; G[e.v][e.rev].f += d;
            res += d; flow -= d;
            if (!flow) break;
        }
        return res;
    }

    int solve() {
        int res = 0;
        while (bfs()) {
            memset(cur, 0, sizeof cur);
            res += dfs(s, INF);
        }
        return res;
    }
};

int main() {
    int n, m, r, c, sum = 0;
    char grid[55][55];
    // è¾“å…¥ä¸åˆå§‹åŒ–
    Dinic din; 
    din.s = 0; din.t = 2*n*m + 1;
    
    for (int i = 1; i <= n; i++)
    for (int j = 1; j <= m; j++) {
        if (grid[i][j] != '.') continue;
        sum++;
        din.add(din.s, id(i,j), 1);      // å·¦éƒ¨ç‚¹è¿æºç‚¹
        din.add(id(i,j)+n*m, din.t, 1);  // å³éƒ¨ç‚¹è¿æ±‡ç‚¹
        
        // å››ä¸ªæ–¹å‘è¿è¾¹
        int dir[4][2] = {{r,c}, {r,-c}, {c,r}, {c,-r}};
        for (auto [dx,dy] : dir) {
            int x = i+dx, y = j+dy;
            if (x<1||x>n||y<1||y>m||grid[x][y]!='.') continue;
            din.add(id(i,j), id(x,y)+n*m, 1); // å…¥ç‚¹â†’å‡ºç‚¹
        }
    }
    cout << sum - din.solve(); // æœ€å°è·¯å¾„è¦†ç›–
}
```

**é¢˜è§£ä¸€æ ¸å¿ƒç‰‡æ®µï¼ˆmgzcï¼‰**
```cpp
// å…³é”®ï¼šå»ºå›¾æ—¶å¤„ç†å››ä¸ªæ–¹å‘
u[0]=C; u[1]=C; u[2]=R; u[3]=R; 
v[0]=R; v[1]=-R; v[2]=-C; v[3]=C;  
for (int i=1; i<=n; i++) for (int j=1; j<=m; j++) {
    if (!mapp[i][j]) for (int k=0; k<4; k++) {
        int x = i+u[k], y = j+v[k];
        if (x>=1 && x<=m && y>=1 && y<=n && !mapp[x][y])
            add((i-1)*n+j, (x-1)*n+y+m*n, 1); 
    }
}
```
> **è§£è¯»**ï¼šé¢„å¤„ç†å››ä¸ªç§»åŠ¨æ–¹å‘ï¼Œç”¨`mapp`æ ‡è®°éšœç¢ç‰©ã€‚`add`å‡½æ•°è¿æ¥å½“å‰ç‚¹çš„å·¦éƒ¨ä¸ç›®æ ‡ç‚¹çš„å³éƒ¨ï¼Œå®¹é‡1ç¡®ä¿å•æ¬¡åŒ¹é…

**é¢˜è§£äºŒæ ¸å¿ƒç‰‡æ®µï¼ˆReaepitaï¼‰**
```cpp
// åŒˆç‰™åˆ©åŒ¹é…å®ç°
bool find_(int u) {
    for (int i=head[u]; i; i=e[i].next) {
        int v = e[i].v;
        if (vis[v] != t) {
            vis[v] = t;
            if (!link[v] || find_(link[v])) 
                return link[v] = u, true;
        }
    }
    return false;
}
```
> **è§£è¯»**ï¼šç»å…¸DFSå®ç°åŒˆç‰™åˆ©ç®—æ³•ï¼Œ`vis`æ•°ç»„æ ‡è®°æ¯è½®è®¿é—®é¿å…ç¯è·¯ï¼Œ`link[v]=u`è®°å½•åŒ¹é…å…³ç³»

**é¢˜è§£ä¸‰æ ¸å¿ƒç‰‡æ®µï¼ˆjunå¤´å‰å‰ï¼‰**
```cpp
// Dinicç®—æ³•DFSéƒ¨åˆ†
int dfs(int u, int flow) {
    if (u == t) return flow;
    int res = 0;
    for (int &i = cur[u]; i < G[u].size(); i++) {
        Edge &e = G[u][i];
        if (e.cap > 0 && d[e.to] == d[u] + 1) {
            int f = dfs(e.to, min(flow, e.cap));
            e.cap -= f; G[e.to][e.rev].cap += f;
            res += f; flow -= f;
            if (flow == 0) break;
        }
    }
    return res;
}
```
> **è§£è¯»**ï¼šå¤šè·¯å¢å¹¿ä¼˜åŒ–ï¼Œ`cur`æ•°ç»„è®°å½•å½“å‰å¼§é¿å…é‡å¤æœç´¢ã€‚`e.cap -= f`æ›´æ–°å‰©ä½™å®¹é‡ï¼Œåå‘è¾¹å¢åŠ æµé‡

---

#### 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º
**è®¾è®¡æ€è·¯**ï¼š  
é‡‡ç”¨8-bitå¤å¤é£æ ¼ï¼ˆç±»ä¼¼FCæ¸¸æˆï¼‰ï¼Œç”¨16è‰²åƒç´ å—è¡¨ç¤ºç½‘æ ¼ï¼š
- â–«ï¸æµ…ç°ï¼šå¯é€šè¡ŒåŸé•‡  
- â–ªï¸æ·±ç°ï¼šéšœç¢ç‰©  
- ğŸ”´çº¢è‰²ï¼šå½“å‰å†›é˜Ÿä½ç½®  
- ğŸŸ¢ç»¿è‰²ï¼šå·²è¦†ç›–è·¯å¾„  

**åŠ¨ç”»æµç¨‹**ï¼š  
1. **åˆå§‹åŒ–**ï¼šç»˜åˆ¶MÃ—Nåƒç´ ç½‘æ ¼ï¼Œéšœç¢ç‰©æ˜¾ç¤ºä¸ºåŸå ¡å›¾æ ‡
2. **å†›é˜Ÿç§»åŠ¨**ï¼šçº¢è‰²æ–¹å—æ²¿(r,c)ç­‰æ–¹å‘è·³è·ƒï¼Œä¼´éš"æ»´"å£°æ•ˆ
3. **åŒ¹é…è¿‡ç¨‹**ï¼šå½“Aç‚¹åŒ¹é…Bç‚¹æ—¶ï¼Œæ˜¾ç¤ºé»„è‰²è¿çº¿åŠ"å®"å£°æ•ˆ
4. **è·¯å¾„å®Œæˆ**ï¼šæ•´æ¡è·¯å¾„å˜ç»¿ï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆ

**äº¤äº’æ§åˆ¶**ï¼š  
```plaintext
[å¼€å§‹] [æš‚åœ] [å•æ­¥] â–®â–®â”â” é€Ÿåº¦è°ƒèŠ‚
[æ¨¡å¼] æ‰‹åŠ¨/è‡ªåŠ¨(AIæ¼”ç¤º)
```

**å…³é”®é€»è¾‘å¯è§†åŒ–**ï¼š  
- é«˜äº®å½“å‰å¤„ç†çš„ç½‘æ ¼ï¼ˆé—ªçƒè¾¹æ¡†ï¼‰  
- å®æ—¶æ˜¾ç¤º`matched`æ•°ç»„çš„åŒ¹é…çŠ¶æ€  
- å·²è¦†ç›–è·¯å¾„è®¡æ•°æ˜¾ç¤ºåœ¨é¡¶éƒ¨  

---

#### 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜
**é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
æœ€å°è·¯å¾„è¦†ç›–æ¨¡å‹é€‚ç”¨äºï¼š
1. DAGçš„æœ€å°‘é“¾è¦†ç›–  
2. ç½‘æ ¼å›¾ç§»åŠ¨è¦†ç›–é—®é¢˜  
3. æœ‰å‘å›¾æ— é‡å¤è®¿é—®çš„è·¯å¾„è§„åˆ’  

**æ´›è°·æ¨èé¢˜ç›®**ï¼š  
1. [P2764 æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜](https://www.luogu.com.cn/problem/P2764)  
   > è£¸æœ€å°è·¯å¾„è¦†ç›–ï¼Œå·©å›ºå»ºå›¾æŠ€å·§  
2. [P4304 [TJOI2013]æ”»å‡»è£…ç½®](https://www.luogu.com.cn/problem/P4304)  
   > ç½‘æ ¼å›¾æœ€å¤§ç‹¬ç«‹é›†ï¼Œå¼ºåŒ–äºŒåˆ†å›¾å»ºæ¨¡  
3. [P5030 é•¿è„–å­é¹¿æ”¾ç½®](https://www.luogu.com.cn/problem/P5030)  
   > åˆ†å±‚å›¾åº”ç”¨ï¼Œæ‹“å±•æ€ç»´  

---

#### 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **ç»éªŒæ‘˜å½•ï¼ˆæ¥è‡ª mgzcï¼‰**ï¼š  
> *"æœ¬é¢˜è°ƒè¯•æ—¶éœ€ç‰¹åˆ«æ³¨æ„è¾¹ç•Œåˆ¤æ–­ï¼Œæˆ‘æ›¾åœ¨æ–¹å‘æ•°ç»„çš„è´Ÿåæ ‡è®¿é—®ä¸Šè€—è´¹å¤§é‡æ—¶é—´"*  

> **Kayç‚¹è¯„**ï¼š  
> è¾¹ç•Œå¤„ç†æ˜¯ç½‘æ ¼é—®é¢˜çš„æ ¸å¿ƒé™·é˜±ï¼å»ºè®®ï¼š
> 1. å°è£…`valid(x,y)`å‡½æ•°ç»Ÿä¸€æ£€æŸ¥åæ ‡åˆæ³•æ€§  
> 2. é¢„å¤„ç†æ–¹å‘å‘é‡æ—¶ç«‹å³æ’é™¤éæ³•ç§»åŠ¨  
> 3. å¯¹æ‹ç”Ÿæˆå°è§„æ¨¡æ•°æ®éªŒè¯  

---

é€šè¿‡æœ¬æŒ‡å—ï¼Œå¸Œæœ›æ‚¨ä¸ä»…ç†è§£æœ¬é¢˜è§£æ³•ï¼Œæ›´èƒ½æŒæ¡**æœ€å°è·¯å¾„è¦†ç›–**çš„é€šç”¨å»ºæ¨¡æ–¹æ³•ã€‚è®°ä½ï¼šå°†å¤æ‚é—®é¢˜è½¬åŒ–ä¸ºç»å…¸æ¨¡å‹æ˜¯ç«èµ›ç¼–ç¨‹çš„æ ¸å¿ƒèƒ½åŠ›ï¼ä¸‹æ¬¡é‡åˆ°ç½‘æ ¼è¦†ç›–é—®é¢˜æ—¶ï¼Œä¸å¦¨å…ˆæ€è€ƒâ€”â€”èƒ½å¦æ‹†ç‚¹å»ºå›¾ï¼ŸğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š135.65ç§’
# é¢˜ç›®ä¿¡æ¯

# [POI 2008] KUP-Plot purchase

## é¢˜ç›®æè¿°

Byteasar is going to buy an industrial plot.

His fortune is estimated at $k$ bythalers and this is exactly the amount    Byteasar would like to spend on the parcel.

Finding a parcel worth exactly $k$ bythalers, however, is not an easy task.

For this reason Byteasar is ready to buy a more expensive plot.

He considers taking out a loan. The Byteotian Credit Bank will grant him    a loan of up to $k$ bythalers. Thus, Byteasar can spend no more than $2k$    bythalers on the parcel and he would like to spend no less than $k$ bythalers.

The area in which Byteasar wants to buy his parcel is a square with side    length of $n$ metres. The current landlords have set up various prices per square metre. Byteasar has spoken to each one of them and has then prepared a price map    of the area. The map depicts the price of every metre by metre square. Clearly, there    are $n^2$ such squares. Now is the time to find the dream parcel. It has to be rectangular and consist of whole unit squares. Byteasar has already started looking for the plot on the map,    but after many hours he was still unable to find a suitable one. Be a chap and help him!

<Task> 

Write a programme that:

reads the numbers $k$ and $n$ from the standard input,  along with the price map of the area, determines a parcel with price in the interval $[k,2k]$ or states that no such parcel exists, writes out the result to the standard output.



## è¯´æ˜/æç¤º


ç»™å®š $k,n$ å’Œ $n\times n$ çš„çŸ©é˜µï¼Œæ±‚ä¸€ä¸ªå­çŸ©å½¢æ»¡è¶³æƒå€¼å’Œåœ¨ $[k,2k]$ ä¹‹é—´ã€‚

$n<2000$ï¼Œ$1\le k\le10^9$ï¼Œæ¯ä¸ªä»·æ ¼éƒ½æ˜¯ä¸å¤§äº$2 \times 10^9$ çš„éè´Ÿæ•´æ•°ã€‚

æ„Ÿè°¢@cnï¼šè‹å¿å¿µ æä¾›çš„spj

## æ ·ä¾‹ #1

### è¾“å…¥

```
8 4
1 2 1 3
25 1 2 1
4 20 3 3
3 30 12 2```

### è¾“å‡º

```
2 1 4 2```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šKUP-Plot purchase æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

**å¯¼è¨€**  
ä»Šå¤©æˆ‘ä»¬æ¥åˆ†æã€ŒKUP-Plot purchaseã€è¿™é“C++ç¼–ç¨‹é¢˜ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©ä½ ç†è§£é¢˜ç›®æ ¸å¿ƒã€æŒæ¡è§£æ³•ç²¾é«“ï¼Œå¹¶é€šè¿‡ç”ŸåŠ¨çš„åƒç´ åŠ¨ç”»ç›´è§‚æ„Ÿå—ç®—æ³•æµç¨‹ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ‹†è§£è¿™ä¸ªçŸ©é˜µå¯»å®æ¸¸æˆå§ï¼

---

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`å•è°ƒæ ˆ/æ‚¬çº¿æ³•` + `è´ªå¿ƒç­–ç•¥`  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> è§£å†³æœ¬é¢˜å¦‚åŒåœ¨åƒç´ è¿·å®«ä¸­å¯»æ‰¾å®è—åŒºåŸŸï¼ˆå­çŸ©å½¢ï¼‰ï¼Œå®è—æ€»å€¼éœ€åœ¨$[k, 2k]$åŒºé—´å†…ã€‚æ ¸å¿ƒåˆ†ä¸¤æ­¥ï¼š
> 1. **æ ‡è®°å±é™©åŒº**ï¼šè‹¥æ ¼å­å€¼$âˆˆ[k,2k]$ç›´æ¥è¾“å‡ºï¼ˆæ•£è½é‡‘å¸ï¼‰ï¼›è‹¥$>2k$è§†ä¸ºéšœç¢ï¼ˆç†”å²©åŒºï¼‰ã€‚
> 2. **æ°´æ¼«æ³•å¯»å®**ï¼šç”¨æ‚¬çº¿æ³•åœ¨ééšœç¢åŒºæ‰¾æœ€å¤§å­çŸ©å½¢ï¼ˆè“è‰²æ°´åŸŸï¼‰ã€‚è‹¥å…¶å’Œ$â‰¥k$ï¼Œåˆ™ç”¨ã€Œç²¾å¯†åˆ‡å‰²ã€é€è¡Œå‰Šè¾¹ï¼ˆæ¯æ¬¡å‰Šå»$<k$çš„ç¢é‡‘ï¼‰ç›´è‡³å®è—æµ®ç°ã€‚
>
> **å¯è§†åŒ–è®¾è®¡**ï¼š  
> - åƒç´ ç½‘æ ¼ä¸­ï¼šéšœç¢çº¢è‰²ã€ç›®æ ‡ç»¿è‰²ã€æ™®é€šæ ¼å­è“è‰²  
> - æ‚¬çº¿æ³•è¿‡ç¨‹ï¼šå½“å‰è¡Œé«˜äº®ï¼Œé»„è‰²æ°´æŸ±æ˜¾ç¤ºå‘ä¸Šå»¶ä¼¸é«˜åº¦  
> - åˆ‡å‰²åŠ¨ç”»ï¼šä»çŸ©å½¢åº•éƒ¨é€è¡Œå˜æš—ï¼Œå®è—æµ®ç°æ—¶ç»¿è‰²é—ªçƒ+èƒœåˆ©éŸ³æ•ˆ  
> - å¤å¤äº¤äº’ï¼šæ­¥è¿›æ§åˆ¶ï¼ˆæ–¹å‘é”®ï¼‰ã€å…¥æ ˆ/å‡ºæ ˆéŸ³æ•ˆï¼ˆå®/å’šï¼‰ã€èƒœåˆ©æ—‹å¾‹ï¼ˆFCéŸ³æºï¼‰

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼ˆkczno1ï¼‰**  
* **ç‚¹è¯„**ï¼šæ€è·¯ç›´å‡»è¦å®³â€”â€”å…ˆç‰¹åˆ¤å•ç‚¹ï¼Œå†ç”¨æ‚¬çº¿æ³•å®šä½æå¤§å­çŸ©å½¢ã€‚ä»£ç ä¸­`up[]`æ•°ç»„è®°å½•å‘ä¸Šå»¶ä¼¸é«˜åº¦ï¼Œ`st[]`å•è°ƒæ ˆç»´æŠ¤å·¦è¾¹ç•Œï¼Œé€»è¾‘æ¸…æ™°å¦‚åƒç´ å…³å¡è®¾è®¡ã€‚äº®ç‚¹åœ¨äºåˆ‡å‰²æ—¶ä»å³å‘å·¦ç²¾å‡†åˆ é™¤å…ƒç´ ï¼ˆç±»ä¼¼é»„é‡‘çŸ¿å·¥æ”¶çº¿ï¼‰ï¼Œç¡®ä¿ä¸é—æ¼ç›®æ ‡åŒºé—´ã€‚å˜é‡å`li/lj/ri/rj`å¦‚åœ°å›¾åæ ‡èˆ¬æ˜ç¡®ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆæ ˆåº•è®¾å“¨å…µï¼‰ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚

**é¢˜è§£äºŒï¼ˆi207Mï¼‰**  
* **ç‚¹è¯„**ï¼šè§£é¢˜å¦‚å†™æ”»ç•¥â€”â€”è¯¦ç»†æ³¨é‡Šåˆ‡å‰²åŸç†ï¼ˆæ¯è¡Œå’Œ$<k$æ•…ä¸ä¼šè·³è¿‡åŒºé—´ï¼‰ï¼Œå•ç‹¬å°è£…`cutline()`å‡½æ•°ä½“ç°æ¨¡å—åŒ–æ€æƒ³ã€‚è™½ä»£ç ç¨é•¿ï¼Œä½†äºŒç»´å‰ç¼€å’Œ`ask()`å‡½æ•°å°è£…è§„èŒƒï¼Œè°ƒè¯•å¿ƒå¾—ã€Œå•è°ƒæ ˆå‡ºæ ˆæ¡ä»¶è¯¯ç”¨>è€Œé>=ã€æå…·è­¦ç¤ºä»·å€¼ï¼Œæ˜¯å­¦ä¹ è¾¹ç•Œå¤„ç†çš„ä¼˜ç§€èŒƒä¾‹ã€‚

**é¢˜è§£ä¸‰ï¼ˆå¥‡ç±³ï¼‰**  
* **ç‚¹è¯„**ï¼šèšç„¦ç©å®¶ç—›ç‚¹â€”â€”æ˜ç¡®æé†’åæ ‡è¾“å‡ºé¡ºåºï¼ˆå…ˆåˆ—åè¡Œï¼‰ï¼Œé¿å…ã€Œåœ°å›¾å¯¼èˆªåç§»ã€ã€‚ä»£ç ä¸­`up[i][j]`å¦‚æ°´ä½åˆ»åº¦å°ºï¼Œ`L[j]/R[j]`è¾¹ç•Œè®¡ç®—é‡‡ç”¨ç»å…¸å•è°ƒæ ˆæ¨¡æ¿ï¼Œåˆ‡å‰²éƒ¨åˆ†ä¸é¢˜è§£ä¸€å¼‚æ›²åŒå·¥ã€‚æ³¨é‡Šä¸­ã€Œä¸€è¡Œè¡Œåˆ‡ã€å¦‚åŒåƒç´ æ¸¸æˆæ‹†å¢™åŠ¨ç”»ï¼Œå¯¹æ–°æ‰‹å‹å¥½ã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### ğŸ”‘ éš¾ç‚¹1ï¼šé«˜æ•ˆå®šä½å€™é€‰å­çŸ©å½¢  
**åˆ†æ**ï¼šç›´æ¥æšä¸¾æ‰€æœ‰å­çŸ©é˜µ$O(n^4)$è¶…æ—¶ã€‚ä¼˜è´¨é¢˜è§£å‡ç”¨**æ‚¬çº¿æ³•**ï¼š  
- ç”¨`up[j]`è®°å½•æ¯åˆ—å‘ä¸Šå»¶ä¼¸çš„ééšœç¢é«˜åº¦ï¼ˆå¦‚æ°´ä½ä¸Šå‡ï¼‰  
- **å•è°ƒæ ˆç»´æŠ¤**ï¼šæ¯è¡Œè®¡ç®—å·¦å³è¾¹ç•Œæ—¶ï¼Œæ ˆä¸­å­˜å‚¨ä¸‹æ ‡ä¿è¯`up[]`é€’å¢ï¼Œå¼¹å‡ºæ—¶è®¡ç®—çŸ©å½¢åŒºåŸŸ  
> ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šæ‚¬çº¿æ³•æ˜¯çŸ©é˜µå¯»å®çš„â€œæ¢ç…§ç¯â€ï¼Œéœ€é…åˆå‰ç¼€å’Œå¿«é€ŸéªŒç®—å®è—å€¼  

### ğŸ”‘ éš¾ç‚¹2ï¼šå­çŸ©å½¢å’Œ$>2k$æ—¶çš„åˆ‡å‰²  
**åˆ†æ**ï¼šç”±äºæ¯ä¸ªæ ¼å­$<k$ï¼Œæ¯è¡Œå’Œ$<n \cdot k$ï¼ˆä½†å¯èƒ½$>2k$ï¼‰ã€‚åˆ‡å‰²ç­–ç•¥ï¼š  
1. è‹¥å½“å‰è¡Œå’Œ$âˆˆ[k,2k]$ï¼šç›´æ¥è¾“å‡ºè¯¥è¡Œï¼ˆæ¨ªè´¯åœ°å›¾çš„é‡‘çŸ¿è„‰ï¼‰  
2. è‹¥$>2k$ï¼šä»è¡Œæœ«é€ä¸ªåˆ é™¤æ ¼å­ï¼ˆåƒç´ å—æ¶ˆå¤±åŠ¨ç”»ï¼‰ï¼Œå®æ—¶æ£€æµ‹åŒºé—´  
3. è‹¥$<k$ï¼šæ•´è¡Œèˆå¼ƒï¼ˆå¦‚æ‹†é™¤æ— ä»·å€¼å²©å±‚ï¼‰ï¼Œå‰©ä½™éƒ¨åˆ†é€’å½’å¤„ç†  
> ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šè´ªå¿ƒåˆ‡å‰²ä¾èµ–å…ƒç´ å€¼ä¸Šé™æ€§è´¨ï¼Œç±»ä¼¼â€œæ²™æ¼è®¡æ—¶â€ç¡®ä¿ä¸æ¼è¿‡ç›®æ ‡åŒºé—´  

### ğŸ”‘ éš¾ç‚¹3ï¼šè¾¹ç•Œå“¨å…µä¸ç´¢å¼•æ˜ å°„  
**åˆ†æ**ï¼šçŸ©é˜µè¾¹ç•Œæ˜“å‡ºé”™ï¼Œå¦‚ï¼š  
- å•è°ƒæ ˆéœ€é¢„å‹å…¥`0`å’Œ`n+1`ä½œä¸ºå·¦å³å“¨å…µï¼ˆåœ°å›¾è¾¹ç•Œå›´å¢™ï¼‰  
- äºŒç»´å‰ç¼€å’Œ`S(x1,y1,x2,y2)`æ³¨æ„åŒ…å«å…³ç³»ï¼Œå»ºè®®ç”»ç½‘æ ¼å›¾ç†è§£  
> ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šå¤šå†™`getSum()`å°è£…å‡½æ•°ï¼Œé¿å…è£¸å†™å››é‡ä¸‹æ ‡è®¡ç®—  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **å‰ç¼€å’Œé¢„è®¡ç®—**ï¼šçŸ©é˜µæ±‚å’Œ$O(1)$çš„é»„é‡‘ç½—ç›˜  
- **æ‚¬çº¿æ³•æ¨¡æ¿åŒ–**ï¼š  
  ```c++
  for (è¡Œéå†)
      æ›´æ–°up[]æ•°ç»„
      å·¦è¾¹ç•Œæ‰«æï¼ˆç»´æŠ¤é€’å¢æ ˆï¼‰
      å³è¾¹ç•Œæ‰«æï¼ˆç»´æŠ¤é€’å¢æ ˆï¼‰
      æ ˆå¼¹å‡ºæ—¶è®¡ç®—çŸ©å½¢åŒºåŸŸ
  ```
- **é˜²å¾¡æ€§åˆ‡å‰²**ï¼šä»å¤§å­çŸ©å½¢è¾¹ç¼˜æ“ä½œï¼Œé¿å…ç¢ç‰‡åŒ–æœç´¢  
- **åæ ‡æ˜ å°„**ï¼šé¢˜ç›®è¦æ±‚è¾“å‡º`(y1,x1,y2,x2)`ï¼Œå»ºè®®ä»£ç ä¸­æ˜¾å¼æ³¨é‡Š  

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆç»¼åˆè‡ªé¢˜è§£ä¸€ã€ä¸‰ï¼‰
```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
const int N = 2005;

int n, k;
ll a[N][N], prefix[N][N];

// äºŒç»´å‰ç¼€å’ŒæŸ¥è¯¢
ll getSum(int x1, int y1, int x2, int y2) {
    return prefix[x2][y2] - prefix[x1-1][y2] 
         - prefix[x2][y1-1] + prefix[x1-1][y1-1];
}

int main() {
    scanf("%d%d", &k, &n);
    // è¯»å…¥çŸ©é˜µ+å‰ç¼€å’Œåˆå§‹åŒ–
    for (int i = 1; i <= n; i++) {
        for (int j = 1; j <= n; j++) {
            scanf("%lld", &a[i][j]);
            // å•ç‚¹å®è—æ£€æµ‹
            if (a[i][j] >= k && a[i][j] <= 2*k) {
                printf("%d %d %d %d\n", j, i, j, i);
                return 0;
            }
            prefix[i][j] = a[i][j] + prefix[i-1][j] 
                         + prefix[i][j-1] - prefix[i-1][j-1];
        }
    }

    vector<int> up(n+2, 0);  // å‘ä¸Šå»¶ä¼¸é«˜åº¦
    vector<int> stk;          // å•è°ƒæ ˆ
    int x1 = 0, y1 = 0, x2 = 0, y2 = 0; // æœ€å¤§å­çŸ©å½¢åæ ‡
    ll maxSum = -1;

    // æ‚¬çº¿æ³•æ ¸å¿ƒ
    for (int i = 1; i <= n; i++) {
        // æ›´æ–°æ¯åˆ—é«˜åº¦
        for (int j = 1; j <= n; j++) {
            up[j] = (a[i][j] <= 2*k) ? up[j] + 1 : 0;
        }

        stk.clear();
        stk.push_back(0); // å·¦å“¨å…µ
        for (int j = 1; j <= n+1; j++) {
            // ç»´æŠ¤é€’å¢æ ˆ
            while (stk.size()>1 && up[stk.back()] >= up[j]) {
                int h_idx = stk.back();
                stk.pop_back();
                int L = stk.back() + 1, R = j - 1;
                if (!up[h_idx]) continue;

                ll curSum = getSum(i - up[h_idx] + 1, L, i, R);
                if (curSum >= k) {
                    // æ‰¾åˆ°å³è¾“å‡º
                    if (curSum <= 2*k) {
                        printf("%d %d %d %d\n", L, i-up[h_idx]+1, R, i);
                        return 0;
                    } 
                    // å¦åˆ™è®°å½•æœ€å¤§å­çŸ©å½¢
                    if (curSum > maxSum) {
                        maxSum = curSum;
                        x1 = i - up[h_idx] + 1; y1 = L;
                        x2 = i; y2 = R;
                    }
                }
            }
            stk.push_back(j);
        }
    }

    if (maxSum < k) {
        puts("NIE");
        return 0;
    }

    // è´ªå¿ƒåˆ‡å‰²ï¼šé€è¡Œå‰Šå»
    while (getSum(x1, y1, x2, y2) > 2*k) {
        ll topRow = getSum(x1, y1, x1, y2);
        if (getSum(x1, y1, x2, y2) - topRow < k) break; 
        x1++; // å‰Šå»é¡¶è¡Œ
    }
    printf("%d %d %d %d\n", y1, x1, y2, x2);
    return 0;
}
```
**ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
- **å•ç‚¹æ£€æµ‹**ï¼šå…ˆç­›å‡ºå¯ç›´æ¥ä½œä¸ºç­”æ¡ˆçš„æ ¼å­  
- **å‰ç¼€å’Œ**ï¼š`prefix[][]`å®ç°$O(1)$åŒºé—´æ±‚å’Œ  
- **æ‚¬çº¿æ³•**ï¼š`up[]`è®°å½•åˆ—é«˜åº¦ï¼Œå•è°ƒæ ˆè®¡ç®—å·¦å³è¾¹ç•Œ  
- **è´ªå¿ƒåˆ‡å‰²**ï¼šå½“çŸ©å½¢å’Œ$>2k$æ—¶ï¼Œä»é¡¶éƒ¨é€è¡Œå‰Šå»  

---

### ä¼˜è´¨é¢˜è§£ç‰‡æ®µèµæ

**é¢˜è§£ä¸€ï¼ˆkczno1ï¼‰æ‚¬çº¿æ³•å®ç°**  
```cpp
while(top && up[st[top]] >= up[j]) {
    int lj = st[top-1] + 1, rj = j-1; // å·¦å³è¾¹ç•Œ
    int h = i - up[st[top]];           // çŸ©å½¢é¡¶éƒ¨è¡Œ
    ll curSum = getSum(h+1, lj, i, rj);
    if (curSum >= k) {
        // ... åˆ‡å‰²æˆ–ç›´æ¥è¾“å‡º
    }
    top--;
}
```
**äº®ç‚¹**ï¼šç”¨`st[]`æ ˆé«˜æ•ˆç»´æŠ¤å†å²åˆ—ï¼Œå¼¹å‡ºæ—¶å³æ—¶è®¡ç®—åŒºåŸŸ  
**å­¦ä¹ ç¬”è®°**ï¼šæ ˆä¸­å­˜åˆ—ä¸‹æ ‡ï¼Œ`st[top-1]`å³å·¦è¾¹ç•Œåˆ†ç•Œç‚¹  

**é¢˜è§£äºŒï¼ˆi207Mï¼‰è¡Œåˆ‡å‰²å‡½æ•°**  
```cpp
void cutLine(int row, int L, int R) {
    ll rowSum = getSum(row, L, row, R);
    for (int j = R; j >= L; j--) {
        rowSum -= a[row][j];
        if (rowSum >= k && rowSum <= 2*k) {
            printf("%d %d %d %d", L, row, j-1, row);
            exit(0);
        }
    }
}
```
**äº®ç‚¹**ï¼šä»å³å‘å·¦æ‰«æåˆ‡å‰²ï¼Œé¿å…å¤æ‚è¾¹ç•Œè®¡ç®—  
**å­¦ä¹ ç¬”è®°**ï¼šé€†åºåˆ é™¤å¯ç¡®ä¿å‰©ä½™éƒ¨åˆ†è¿ç»­ï¼Œç±»ä¼¼â€œè´ªåƒè›‡ç¼©å°¾â€  

**é¢˜è§£ä¸‰ï¼ˆå¥‡ç±³ï¼‰åæ ‡å¤„ç†**  
```cpp
printf("%lld %lld %lld %lld\n", 
    yStart, xStart, yEnd, xEnd); // æ³¨æ„ï¼šå…ˆåˆ—åè¡Œï¼
```
**äº®ç‚¹**ï¼šæ˜¾å¼æé†’é¢˜ç›®è¦æ±‚çš„åæ ‡é¡ºåº  
**å­¦ä¹ ç¬”è®°**ï¼šçŸ©é˜µé¢˜åŠ¡å¿…ç¡®è®¤è¾“å…¥è¾“å‡ºæ ¼å¼ï¼ˆè¡Œvsåˆ—ä¼˜å…ˆï¼‰  

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### ğŸ® ä¸»é¢˜  
**ã€Œé»„é‡‘çŸ¿å·¥ï¼šçŸ©é˜µå¯»å®ã€**  
åœ¨8-bitåƒç´ è¿·å®«ä¸­ï¼Œç©å®¶æ“æ§çŸ¿å·¥Kayç”¨æ‚¬çº¿æ³•æ‰«æåœ°å›¾ï¼Œåˆ‡å‰²è¶…å¤§é‡‘å—è‡³åˆé€‚å¤§å°ã€‚

### ğŸ–Œï¸ è®¾è®¡æ€è·¯  
> é‡‡ç”¨FCã€Šæ·˜é‡‘è€…ã€‹ç¾æœ¯é£æ ¼ï¼Œé€šè¿‡ï¼š
> - **éšœç¢çº¢è‰²**ï¼š>$2k$çš„ç†”å²©æ ¼  
> - **å®è—ç»¿è‰²**ï¼šæ»¡è¶³$[k,2k]$çš„ç›®æ ‡åŒº  
> - **æ°´çº¹è“**ï¼šæ‚¬çº¿æ³•æ‰«æä¸­çš„ééšœç¢åŒº  

### ğŸï¸ åŠ¨ç”»å¸§æ­¥éª¤  
1. **åˆå§‹åŒ–åœ°å›¾**  
   - 16è‰²è°ƒè‰²æ¿ç»˜åˆ¶$nÃ—n$ç½‘æ ¼ï¼Œç†”å²©æ ¼é—ªçƒçº¢å…‰  
   - æ§åˆ¶é¢æ¿ï¼šå¼€å§‹/æš‚åœã€æ­¥è¿›æŒ‰é’®ã€é€Ÿåº¦æ»‘å—  

2. **æ‚¬çº¿æ³•æ‰«æ**  
   ```mermaid
   graph LR
   A[å½“å‰è¡Œé«˜äº®] --> B[æ›´æ–°æ¯åˆ—æ°´æŸ±é«˜åº¦]
   B --> C[å•è°ƒæ ˆç»´æŠ¤ï¼šæ ˆå†…é»„è‰²é—ªçƒ]
   C --> D[å¼¹å‡ºæ ˆé¡¶ï¼šçŸ©å½¢åŒºåŸŸç»¿æ¡†é—ªçƒ]
   ```  
   - éŸ³æ•ˆï¼šå…¥æ ˆ"å®"ï¼Œå¼¹å‡º"å’š"ï¼Œå‘ç°çŸ©å½¢æ—¶çŸ­ä¿ƒæ¬¢å‘¼  

3. **è´ªå¿ƒåˆ‡å‰²æ¼”ç¤º**  
   - æœ€å¤§å­çŸ©å½¢æ ‡è®°ä¸ºé‡‘å—ï¼ˆé»„è‰²å¡«å……ï¼‰  
   - é€è¡Œåˆ‡å‰²ï¼šé¡¶è¡Œåƒç´ å˜ç°+ç¢è½éŸ³æ•ˆ  
   - å®æ—¶æ˜¾ç¤ºå½“å‰å’Œï¼šå³ä¸Šè§’æ•°å­—è·³åŠ¨  
   - å½“å’Œ$âˆˆ[k,2k]$ï¼šé‡‘å—çˆ†è£‚ä¸ºå®çŸ³+èƒœåˆ©æ—‹å¾‹  

4. **AIæ¼”ç¤ºæ¨¡å¼**  
   - è‡ªåŠ¨æ’­æ”¾ï¼šKayçŸ¿å·¥è‡ªåŠ¨æ“ä½œï¼Œç±»ä¼¼ã€Šåƒè±†äººã€‹å¹½çµå·¡é€»  
   - å¯è°ƒé€Ÿè§‚å¯Ÿï¼šæ–¹å‘é”®â†â†’æ§åˆ¶é€Ÿåº¦  

### ğŸ› ï¸ æŠ€æœ¯å®ç°å…³é”®  
```javascript
// ä¼ªä»£ç ï¼šåˆ‡å‰²åŠ¨ç”»æ ¸å¿ƒé€»è¾‘
function cutAnimation() {
  while (curSum > 2*k) {
    highlightTopRow(); // é¡¶è¡Œé«˜äº®
    playSound("chip"); // åˆ‡å‰²éŸ³æ•ˆ
    curSum -= topRow;  // æ›´æ–°å’Œå€¼
    if (curSum <= 2*k && curSum >= k) {
      sparkleEffect(); // å®çŸ³é—ªå…‰ç‰¹æ•ˆ
      playVictoryTune();
    }
  }
}
```

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ğŸ” é€šç”¨æŠ€å·§è¿ç§»  
æ‚¬çº¿æ³•å¯ç”¨äºè§£å†³ä¸‰ç±»é—®é¢˜ï¼š  
1. å…¨é›¶/ééšœç¢æœ€å¤§å­çŸ©é˜µï¼ˆå¦‚æœ¬é¢˜ï¼‰  
2. å—é™æ¡ä»¶ä¸‹çš„æœ€å¤§é¢ç§¯ï¼ˆå¦‚P4147 ç‰èŸ¾å®«ï¼‰  
3. ç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„å­çŸ©é˜µæ•°é‡  

### ğŸ“š æ¨èç»ƒä¹ ï¼ˆæ´›è°·ï¼‰  
1. **P4147 ç‰èŸ¾å®«**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šæ‚¬çº¿æ³•æ¨¡æ¿é¢˜ï¼Œç»ƒä¹ é«˜åº¦æ•°ç»„ç»´æŠ¤æŠ€å·§  

2. **P3400 ä»“é¼ çª**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šç»Ÿè®¡å­çŸ©é˜µæ•°é‡ï¼Œç†è§£çŠ¶æ€è½¬ç§»æ€æƒ³  

3. **P2331 [SCOI2005]æœ€å¤§å­çŸ©é˜µ**  
   ğŸ—£ï¸ *æ¨èç†ç”±*ï¼šåŠ¨æ€è§„åˆ’ä¸çŸ©é˜µåˆ‡å‰²ç»“åˆï¼Œæå‡å¤šç»´æ€è€ƒèƒ½åŠ›  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«  
> **å‚è€ƒç»éªŒï¼ˆi207Mï¼‰**ï¼š  
> *â€œå•è°ƒæ ˆå‡ºæ ˆæ¡ä»¶è¯¯ç”¨`>`è€Œé`>=`ï¼Œå¯¼è‡´è¾¹ç•Œè®¡ç®—é”™è¯¯â€”â€”ç”¨`[1,2,1]`æµ‹è¯•å‘ç°é”™è¯¯â€*  
>  
> **Kayç‚¹è¯„**ï¼š  
> è¾¹ç•Œå¤„ç†æ˜¯ç®—æ³•é¢˜çš„æš—ç¤ï¼å»ºè®®ï¼š  
> 1. æµ‹è¯•å•è°ƒæ ˆæ—¶ï¼Œæ„é€ é«˜åº¦ç›¸ç­‰çš„åˆ—ï¼ˆå¦‚`[1,1,1]`ï¼‰  
> 2. äºŒç»´é—®é¢˜å…ˆåœ¨çº¸ä¸Šç”»3Ã—3å°çŸ©é˜µæ¨¡æ‹Ÿ  
> 3. å‰ç¼€å’Œä¸‹æ ‡è®°ä»1å¼€å§‹ï¼Œé¿å…`-1`è¶Šç•Œ  

---

**ç»“è¯­**  
é€šè¿‡æ‚¬çº¿æ³•æ¢ç…§çŸ©é˜µï¼Œè´ªå¿ƒåˆ‡å‰²é›•ç¢é‡‘å—ï¼Œæˆ‘ä»¬æˆåŠŸç ´è§£äº†ã€ŒKUP-Plot purchaseã€çš„å®è—ä¹‹è°œï¼è®°ä½ï¼šå¥½ç®—æ³•æ˜¯ç®€æ´ä¸ä¸¥è°¨çš„äº¤ç»‡ã€‚ä¸‹æ¬¡æ¢é™©å†è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š281.28ç§’
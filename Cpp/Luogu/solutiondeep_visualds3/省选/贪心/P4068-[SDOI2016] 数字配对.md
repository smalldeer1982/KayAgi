# é¢˜ç›®ä¿¡æ¯

# [SDOI2016] æ•°å­—é…å¯¹

## é¢˜ç›®æè¿°

æœ‰ $n$ ç§æ•°å­—ï¼Œç¬¬ $i$ ç§æ•°å­—æ˜¯ $a_i$ã€æœ‰ $b_i$ ä¸ªï¼Œæƒå€¼æ˜¯ $c_i$ã€‚

è‹¥ä¸¤ä¸ªæ•°å­— $a_i$ã€$a_j$ æ»¡è¶³ï¼Œ$a_i$ æ˜¯ $a_j$ çš„å€æ•°ï¼Œä¸” $a_i/a_j$ æ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œ

é‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°å­—å¯ä»¥é…å¯¹ï¼Œå¹¶è·å¾— $c_i \times c_j$ çš„ä»·å€¼ã€‚

ä¸€ä¸ªæ•°å­—åªèƒ½å‚ä¸ä¸€æ¬¡é…å¯¹ï¼Œå¯ä»¥ä¸å‚ä¸é…å¯¹ã€‚

åœ¨è·å¾—çš„ä»·å€¼æ€»å’Œä¸å°äº $0$ çš„å‰æä¸‹ï¼Œæ±‚æœ€å¤šè¿›è¡Œå¤šå°‘æ¬¡é…å¯¹ã€‚

## è¯´æ˜/æç¤º

æµ‹è¯•ç‚¹ $1 \sim 3$ï¼š $n \leq 10 $ï¼Œ $a_i \leq 10 ^ 9 $ ï¼Œ $b_i = 1 $ï¼Œ$ | c_i | \leq 10 ^ 5$ï¼›   

æµ‹è¯•ç‚¹ $4 \sim 5$ï¼š $n \leq 200 $ï¼Œ $a_i \leq 10 ^ 9 $ ï¼Œ $b_i \leq 10 ^ 5  $ï¼Œ$c_i = 0$ï¼›

æµ‹è¯•ç‚¹ $6 \sim 10$ï¼š $n \leq 200 $ï¼Œ $a_i \leq 10 ^ 9 $ ï¼Œ $b_i \leq 10 ^ 5$ ï¼Œ$ | c_i | \leq 10 ^ 5$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
2 4 8
2 200 7
-1 -2 1
```

### è¾“å‡º

```
4```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[SDOI2016] æ•°å­—é…å¯¹ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### **1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«**
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`ç½‘ç»œæµå»ºæ¨¡ä¸è´¹ç”¨æµè´ªå¿ƒä¼˜åŒ–`  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è¿™é“é¢˜çš„æ ¸å¿ƒåœ¨äºå°†æ•°å­—é…å¯¹é—®é¢˜è½¬åŒ–ä¸º**äºŒåˆ†å›¾æœ€å¤§æƒåŒ¹é…**ã€‚æƒ³è±¡ä½ æœ‰ä¸€ç¾¤æ¢é™©å®¶ï¼ˆæ•°å­—ï¼‰ï¼Œæ ¹æ®ä»–ä»¬çš„"è£…å¤‡å¤æ‚åº¦"ï¼ˆè´¨å› æ•°æŒ‡æ•°å’Œï¼‰åˆ†ä¸ºå¥‡å¶ä¸¤é˜Ÿã€‚åªæœ‰è£…å¤‡å¤æ‚åº¦ç›¸å·®1ä¸”æ»¡è¶³å€æ•°å…³ç³»çš„æ¢é™©å®¶æ‰èƒ½ç»„é˜Ÿï¼ˆé…å¯¹ï¼‰ï¼Œæ¯é˜Ÿè·å¾—åˆä½œæ”¶ç›Šï¼ˆ$c_i \times c_j$ï¼‰ã€‚  
> - **æ ¸å¿ƒéš¾ç‚¹**ï¼šåœ¨æ€»æ”¶ç›Šéè´Ÿçš„å‰æä¸‹æœ€å¤§åŒ–é…å¯¹æ¬¡æ•°ã€‚  
> - **ç®—æ³•æµç¨‹**ï¼š  
>   1. è´¨å› æ•°åˆ†è§£è®¡ç®—æ¯ä¸ªæ•°å­—çš„è´¨å› æ•°æŒ‡æ•°å’Œ $cnt_i$  
>   2. æŒ‰ $cnt_i$ å¥‡å¶æ€§æ„å»ºäºŒåˆ†å›¾ï¼ˆå¥‡æ•°ä¸ºå·¦éƒ¨ï¼Œå¶æ•°ä¸ºå³éƒ¨ï¼‰  
>   3. å»ºç½‘ç»œæµå›¾ï¼šæºç‚¹â†’å·¦éƒ¨ï¼ˆå®¹é‡$b_i$ï¼‰ï¼Œå³éƒ¨â†’æ±‡ç‚¹ï¼ˆå®¹é‡$b_i$ï¼‰ï¼Œå¯é…å¯¹ç‚¹é—´è¿è¾¹ï¼ˆå®¹é‡âˆï¼Œè´¹ç”¨$c_i \times c_j$ï¼‰  
>   4. è·‘æœ€å¤§è´¹ç”¨æµï¼Œå½“æ–°å¢æµé‡å¯¼è‡´æ€»è´¹ç”¨<0æ—¶åœæ­¢  
> - **å¯è§†åŒ–è®¾è®¡**ï¼š  
>   ![åƒç´ åŠ¨ç”»ç¤ºæ„å›¾](https://via.placeholder.com/400x200?text=äºŒåˆ†å›¾+è´¹ç”¨æµ+åƒç´ æ¼”ç¤º)  
>   ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºæ•°å­—èŠ‚ç‚¹ï¼ˆä¸åŒé¢œè‰²åŒºåˆ†å¥‡å¶æ€§ï¼‰ï¼Œé…å¯¹æ—¶è§¦å‘é—ªå…‰ç‰¹æ•ˆå’Œ"å®"éŸ³æ•ˆã€‚æ§åˆ¶é¢æ¿æ”¯æŒå•æ­¥æ‰§è¡Œ/è°ƒé€Ÿï¼Œå®æ—¶æ˜¾ç¤ºå½“å‰è´¹ç”¨å’Œæµé‡ã€‚

---

#### **2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ**
**é¢˜è§£ä¸€ï¼šxyz32768**  
* **äº®ç‚¹**ï¼š  
  - **æ€è·¯æ¸…æ™°**ï¼šå°†é…å¯¹æ¡ä»¶è½¬åŒ–ä¸º $cnt_i = cnt_j +1$ï¼Œå·§å¦™æ„å»ºäºŒåˆ†å›¾  
  - **ä»£ç è§„èŒƒ**ï¼šå˜é‡å`frm`/`go`è¯­ä¹‰æ˜ç¡®ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆå¦‚`dis[T]>-INF`åˆ¤æ–­ï¼‰  
  - **ç®—æ³•ä¼˜åŒ–**ï¼šè´¹ç”¨æµè´ªå¿ƒç­–ç•¥ï¼ˆå½“`sum+delta<0`æ—¶ç»ˆæ­¢ï¼‰ç›´æ¥è§£å†³æ ¸å¿ƒçº¦æŸ  
  - **å®è·µä»·å€¼**ï¼šå®Œæ•´å¯è¿è¡Œä»£ç ï¼Œå¤æ‚åº¦$O(n^2)$ï¼Œé€‚åˆç«èµ›ç›´æ¥ä½¿ç”¨  

**é¢˜è§£äºŒï¼šlouhao088**  
* **äº®ç‚¹**ï¼š  
  - **åˆ›æ–°è§£æ³•**ï¼šç”¨äºŒåˆ†ç­”æ¡ˆ+è´¹ç”¨æµéªŒè¯ï¼ˆè™½ç„¶å¤šä¸€ä¸ªlogä½†æ›´æ˜“ç†è§£ï¼‰  
  - **ç»“æ„æ¸…æ™°**ï¼šç‹¬ç«‹å‡½æ•°`check()`å°è£…æµç½‘ç»œæ„å»ºï¼Œæ¨¡å—åŒ–è®¾è®¡  
  - **è°ƒè¯•å‹å¥½**ï¼šè¯¦ç»†æ³¨é‡Šæ ‡å‡ºå»ºå›¾é€»è¾‘ï¼Œé€‚åˆåˆå­¦è€…é€æ­¥éªŒè¯  

**é¢˜è§£ä¸‰ï¼šOrion545**  
* **äº®ç‚¹**ï¼š  
  - **æ•™å­¦ä»·å€¼**ï¼šç”¨"è®°å¿†åŒ–æœç´¢=åŠ¨æ€è§„åˆ’"ç±»æ¯”è§£é‡Šç½‘ç»œæµå»ºæ¨¡æ€æƒ³  
  - **ä»£ç å¥å£®æ€§**ï¼šè´¨å› æ•°åˆ†è§£ç‰¹åˆ¤å¤§è´¨æ•°ï¼ˆ`if(tmp>1) cnt[i]++`ï¼‰  
  - **é”™è¯¯å¤„ç†**ï¼šæ˜ç¡®æ ‡æ³¨å‘ç‚¹ï¼ˆå¦‚è´¹ç”¨æµç»ˆæ­¢æ¡ä»¶åˆ¤æ–­ï¼‰  

> å…¶ä»–é¢˜è§£å› æœªå®Œæ•´å¤„ç†è¾¹ç•Œæ¡ä»¶æˆ–ç¼ºä¹è§£é‡Šæœªå…¥é€‰

---

#### **3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥**
1. **éš¾ç‚¹1ï¼šæ¡ä»¶è½¬åŒ–**  
   *åˆ†æ*ï¼šé…å¯¹æ¡ä»¶ $a_i/a_j$ æ˜¯è´¨æ•° â†’ è½¬åŒ–ä¸º $cnt_i = cnt_j \pm 1$  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè´¨å› æ•°æŒ‡æ•°å’Œæ˜¯æ•°å­—é…å¯¹çš„"DNAæŒ‡çº¹"  

2. **éš¾ç‚¹2ï¼šè´¹ç”¨éè´Ÿçº¦æŸ**  
   *åˆ†æ*ï¼šä¼˜è´¨è§£æ³•éƒ½ç”¨è´ªå¿ƒç­–ç•¥ï¼šå› å¢å¹¿è·¯å¾„è´¹ç”¨å•è°ƒé€’å‡ï¼Œå½“ `å½“å‰è´¹ç”¨+Î” <0` æ—¶åœæ­¢  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè´¹ç”¨æµä¸­è´¹ç”¨é€’å‡æ€§è´¨æ˜¯è´ªå¿ƒåŸºç¡€  

3. **éš¾ç‚¹3ï¼šäºŒåˆ†å›¾æ„å»º**  
   *åˆ†æ*ï¼šæŒ‰ $cnt_i$ å¥‡å¶æ€§åˆ†ç»„é¿å…åŒç»„é…å¯¹ï¼Œç¡®ä¿DAGæ€§è´¨  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¥‡å¶åˆ†ç»„æ˜¯å¤„ç†é…å¯¹é“¾çš„é€šç”¨æŠ€å·§  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é—®é¢˜è½¬åŒ–**ï¼šå°†æ•°å­¦æ¡ä»¶ï¼ˆè´¨æ•°å€ï¼‰è½¬åŒ–ä¸ºå›¾è®ºæ€§è´¨ï¼ˆ$cnt$å·®ä¸º1ï¼‰  
- **æµç½‘ç»œå»ºæ¨¡**ï¼šç”¨æº/æ±‡ç‚¹é™åˆ¶æ•°å­—ä½¿ç”¨æ¬¡æ•°ï¼Œâˆè¾¹è¡¨ç¤ºä»»æ„é…å¯¹  
- **å®æ—¶ç»ˆæ­¢**ï¼šåœ¨è´¹ç”¨æµä¸­åŠ¨æ€æ£€æŸ¥ `sum + dis[T]*flow <0`  

---

#### **4. C++æ ¸å¿ƒä»£ç å®ç°èµæ**
**é€šç”¨æ ¸å¿ƒå®ç°**ï¼ˆç»¼åˆä¼˜è´¨é¢˜è§£ä¼˜åŒ–ï¼‰ï¼š
```cpp
#include <queue>
#include <cstring>
#include <iostream>
using namespace std;
typedef long long LL;
const int N=210, INF=1e9;
const LL LINF=1e18;

struct Edge { int to,nex,cap; LL cost; } e[N*N*2];
int head[N],cnt=1,n,S,T,b[N],cnt_i[N];
LL c[N],dis[N],sum;
int vis[N],preE[N],preV[N],a[N],ans;

void add(int u,int v,int cap,LL cost) {
    e[++cnt]={v,head[u],cap,cost}; head[u]=cnt;
    e[++cnt]={u,head[v],0,-cost}; head[v]=cnt;
}

bool SPFA() {
    queue<int> q; 
    for(int i=S;i<=T;i++) dis[i]=-LINF;
    memset(vis,0,sizeof vis);
    q.push(S); dis[S]=0; vis[S]=1;
    while(!q.empty()) {
        int u=q.front(); q.pop(); vis[u]=0;
        for(int i=head[u];i;i=e[i].nex) {
            int v=e[i].to;
            if(e[i].cap && dis[v]<dis[u]+e[i].cost) {
                dis[v]=dis[u]+e[i].cost;
                preE[v]=i; preV[v]=u;
                if(!vis[v]) vis[v]=1, q.push(v);
            }
        }
    }
    return dis[T] > -LINF/2;
}

void MCMF() {
    while(SPFA()) {
        int flow=INF;
        for(int v=T;v!=S;v=preV[v]) 
            flow=min(flow,e[preE[v]].cap);
        if(sum + dis[T]*flow < 0) { // è´¹ç”¨å°†å˜è´Ÿ
            ans += sum / (-dis[T]); // å–æ•´ä¿è¯éè´Ÿ
            return;
        }
        sum += dis[T]*flow;
        ans += flow;
        for(int v=T;v!=S;v=preV[v]) {
            e[preE[v]].cap -= flow;
            e[preE[v]^1].cap += flow;
        }
    }
}

int main() {
    cin>>n; S=0,T=n+1;
    // è´¨å› æ•°åˆ†è§£(cnt_i)å’Œå»ºå›¾ä»£ç 
    MCMF();
    cout<<ans;
}
```

**ä»£ç è§£è¯»æ¦‚è¦**ï¼š
1. **é“¾å¼å‰å‘æ˜Ÿå­˜å›¾**ï¼š`Edge`ç»“æ„ä½“å°è£…æµé‡å’Œè´¹ç”¨
2. **SPFAæ‰¾æœ€é•¿è·¯**ï¼šå› æ±‚æœ€å¤§è´¹ç”¨ï¼Œåˆ¤æ–­æ¡ä»¶ä¸º`dis[v]<dis[u]+cost`
3. **è´ªå¿ƒç»ˆæ­¢æ¡ä»¶**ï¼šåŠ¨æ€æ£€æµ‹ `sum+Î”<0` å¹¶è®¡ç®—å‰©ä½™å¯ç”¨æµé‡
4. **å›æº¯æ›´æ–°æµé‡**ï¼šé€šè¿‡`preV`æ•°ç»„å›æº¯å¢å¹¿è·¯å¾„

---

#### **5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º**
* **ä¸»é¢˜**ï¼š"è´¨æ•°æ¢é™©å®¶"åƒç´ é—¯å…³æ¸¸æˆ  
* **æ ¸å¿ƒæ¼”ç¤º**ï¼š  
  ![åƒç´ åŠ¨ç”»æµç¨‹å›¾](https://via.placeholder.com/600x300?text=åƒç´ åŒ–è´¹ç”¨æµåŠ¨ç”»)  
  **äº¤äº’è®¾è®¡**ï¼š  
  1. **åˆå§‹åŒ–**ï¼š8-bité£æ ¼ç½‘æ ¼ï¼Œå·¦ä¾§å¥‡æ•°$cnt$ï¼ˆçº¢è‰²åƒç´ å—ï¼‰ï¼Œå³ä¾§å¶æ•°$cnt$ï¼ˆè“è‰²åƒç´ å—ï¼‰  
  2. **å¢å¹¿è¿‡ç¨‹**ï¼š  
     - å½“å‰è·¯å¾„é«˜äº®é»„è‰²ï¼Œé˜Ÿåˆ—åƒç´ å—è·³åŠ¨  
     - é…å¯¹æˆåŠŸæ—¶è§¦å‘"â˜…"ç‰¹æ•ˆå’Œä¸Šæ‰¬éŸ³æ•ˆ  
  3. **æ§åˆ¶é¢æ¿**ï¼š  
     ```plaintext
     [å¼€å§‹] [å•æ­¥] [é€Ÿåº¦â–½------â—‹] [è´¹ç”¨: 250]
     ```  
  4. **è´¹ç”¨ç›‘æ§**ï¼šåº•éƒ¨çŠ¶æ€æ å®æ—¶æ˜¾ç¤ºï¼š  
     `å½“å‰æµé‡: 4 | æ€»è´¹ç”¨: 120 | ä¸‹æ¬¡å¢å¹¿Î”: +30`  
  5. **ç»ˆæ­¢åœºæ™¯**ï¼šè´¹ç”¨å˜è´Ÿæ—¶å±å¹•é—ªçƒçº¢å…‰ï¼Œæ’­æ”¾è­¦ç¤ºéŸ³  

* **æŠ€æœ¯å®ç°**ï¼š  
  - Canvasç»˜åˆ¶ç½‘æ ¼å’Œåƒç´ å—ç§»åŠ¨  
  - éŸ³æ•ˆè§¦å‘ï¼š`Web Audio API`æ’­æ”¾8-bitéŸ³æ•ˆ  
  - è‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼ï¼š`setInterval`æ§åˆ¶æ­¥è¿›é€Ÿåº¦  

---

#### **6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜**
1. **é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
   - è´¨å› æ•°åˆ†è§£ â†’ [CF17D] Notepad  
   - äºŒåˆ†å›¾å¸¦æƒåŒ¹é… â†’ [NOI2019] åºåˆ—  
   - è´¹ç”¨æµè´ªå¿ƒç»ˆæ­¢ â†’ [SCOI2007] ä¿®è½¦  

2. **æ´›è°·æ¨è**ï¼š  
   1. **P3381** æœ€å°è´¹ç”¨æœ€å¤§æµï¼ˆæ¨¡æ¿ï¼‰  
      â†’ æŒæ¡è´¹ç”¨æµåŸºç¡€å®ç°  
   2. **P4177** è®¢å•è°ƒåº¦ï¼ˆå¸¦æƒåŒ¹é…å˜å½¢ï¼‰  
      â†’ ç»ƒä¹ äºŒåˆ†å›¾å»ºæ¨¡æ€ç»´  
   3. **P2488** å·¥ä½œå®‰æ’ï¼ˆè´¹ç”¨æµ+è´ªå¿ƒç»ˆæ­¢ï¼‰  
      â†’ å¼ºåŒ–æœ¬é¢˜ç»ˆæ­¢æ¡ä»¶åº”ç”¨  

---

#### **7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«**
> **æ¥è‡ª Orion545 çš„è°ƒè¯•ç»éªŒ**ï¼š  
> "åœ¨è´¨å› æ•°åˆ†è§£éƒ¨åˆ†ï¼Œæˆ‘å¿½ç•¥äº†$10^9$çº§åˆ«æ•°å­—å¯èƒ½å«å¤§è´¨å› å­ï¼Œå¯¼è‡´$cnt$è®¡ç®—é”™è¯¯ã€‚é€šè¿‡æ·»åŠ `if(tmp>1) cnt++`ä¿®å¤"  
> **Kayç‚¹è¯„**ï¼šè¾¹ç•Œæµ‹è¯•ï¼ˆå¤§è´¨æ•°ã€1ç­‰ç‰¹æ®Šæƒ…å†µï¼‰æ˜¯æ•°è®ºé¢˜è°ƒè¯•çš„å…³é”®ï¼Œå»ºè®®ç¼–å†™ç‹¬ç«‹å‡½æ•°éªŒè¯è´¨å› æ•°åˆ†è§£  

---

> æœ¬æ¬¡è§£æèåˆäº†12ä»½é¢˜è§£ç²¾åï¼Œé€šè¿‡åƒç´ åŒ–æ¼”ç¤ºå’Œä»£ç è§£å‰–å¸®åŠ©ç†è§£ç½‘ç»œæµå»ºæ¨¡ã€‚è®°ä½ï¼šå°†å¤æ‚æ¡ä»¶è½¬åŒ–ä¸ºå›¾è®ºæ€§è´¨æ˜¯è§£é¢˜çš„æ ¸å¿ƒæ€ç»´ï¼ ğŸ’ª ä¸‹æ¬¡æˆ‘ä»¬å°†è§£æåŠ¨æ€è§„åˆ’ä¸çŠ¶æ€å‹ç¼©çš„ç»“åˆåº”ç”¨ã€‚
</think>
### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼š[SDOI2016] æ•°å­—é…å¯¹ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

#### **1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«**
âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`ç½‘ç»œæµå»ºæ¨¡ä¸è´¹ç”¨æµè´ªå¿ƒä¼˜åŒ–`  
ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è¿™é“é¢˜çš„æ ¸å¿ƒåœ¨äºå°†æ•°å­—é…å¯¹é—®é¢˜è½¬åŒ–ä¸º**äºŒåˆ†å›¾æœ€å¤§æƒåŒ¹é…**ã€‚æƒ³è±¡ä½ æœ‰ä¸€ç¾¤æ¢é™©å®¶ï¼ˆæ•°å­—ï¼‰ï¼Œæ ¹æ®ä»–ä»¬çš„"è£…å¤‡å¤æ‚åº¦"ï¼ˆè´¨å› æ•°æŒ‡æ•°å’Œï¼‰åˆ†ä¸ºå¥‡å¶ä¸¤é˜Ÿã€‚åªæœ‰è£…å¤‡å¤æ‚åº¦ç›¸å·®1ä¸”æ»¡è¶³å€æ•°å…³ç³»çš„æ¢é™©å®¶æ‰èƒ½ç»„é˜Ÿï¼ˆé…å¯¹ï¼‰ï¼Œæ¯é˜Ÿè·å¾—åˆä½œæ”¶ç›Šï¼ˆ$c_i \times c_j$ï¼‰ã€‚  
> - **æ ¸å¿ƒéš¾ç‚¹**ï¼šåœ¨æ€»æ”¶ç›Šéè´Ÿçš„å‰æä¸‹æœ€å¤§åŒ–é…å¯¹æ¬¡æ•°ã€‚  
> - **ç®—æ³•æµç¨‹**ï¼š  
>   1. è´¨å› æ•°åˆ†è§£è®¡ç®—æ¯ä¸ªæ•°å­—çš„è´¨å› æ•°æŒ‡æ•°å’Œ $cnt_i$  
>   2. æŒ‰ $cnt_i$ å¥‡å¶æ€§æ„å»ºäºŒåˆ†å›¾ï¼ˆå¥‡æ•°ä¸ºå·¦éƒ¨ï¼Œå¶æ•°ä¸ºå³éƒ¨ï¼‰  
>   3. å»ºç½‘ç»œæµå›¾ï¼šæºç‚¹â†’å·¦éƒ¨ï¼ˆå®¹é‡$b_i$ï¼‰ï¼Œå³éƒ¨â†’æ±‡ç‚¹ï¼ˆå®¹é‡$b_i$ï¼‰ï¼Œå¯é…å¯¹ç‚¹é—´è¿è¾¹ï¼ˆå®¹é‡âˆï¼Œè´¹ç”¨$c_i \times c_j$ï¼‰  
>   4. è·‘æœ€å¤§è´¹ç”¨æµï¼Œå½“æ–°å¢æµé‡å¯¼è‡´æ€»è´¹ç”¨<0æ—¶åœæ­¢  
> - **å¯è§†åŒ–è®¾è®¡**ï¼š  
>   ![åƒç´ åŠ¨ç”»ç¤ºæ„å›¾](https://via.placeholder.com/400x200?text=äºŒåˆ†å›¾+è´¹ç”¨æµ+åƒç´ æ¼”ç¤º)  
>   ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºæ•°å­—èŠ‚ç‚¹ï¼ˆä¸åŒé¢œè‰²åŒºåˆ†å¥‡å¶æ€§ï¼‰ï¼Œé…å¯¹æ—¶è§¦å‘é—ªå…‰ç‰¹æ•ˆå’Œ"å®"éŸ³æ•ˆã€‚æ§åˆ¶é¢æ¿æ”¯æŒå•æ­¥æ‰§è¡Œ/è°ƒé€Ÿï¼Œå®æ—¶æ˜¾ç¤ºå½“å‰è´¹ç”¨å’Œæµé‡ã€‚

---

#### **2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ**
**é¢˜è§£ä¸€ï¼šxyz32768**  
* **äº®ç‚¹**ï¼š  
  - **æ€è·¯æ¸…æ™°**ï¼šå°†é…å¯¹æ¡ä»¶è½¬åŒ–ä¸º $cnt_i = cnt_j +1$ï¼Œå·§å¦™æ„å»ºäºŒåˆ†å›¾  
  - **ä»£ç è§„èŒƒ**ï¼šå˜é‡å`frm`/`go`è¯­ä¹‰æ˜ç¡®ï¼Œè¾¹ç•Œå¤„ç†ä¸¥è°¨ï¼ˆå¦‚`dis[T]>-INF`åˆ¤æ–­ï¼‰  
  - **ç®—æ³•ä¼˜åŒ–**ï¼šè´¹ç”¨æµè´ªå¿ƒç­–ç•¥ï¼ˆå½“`sum+delta<0`æ—¶ç»ˆæ­¢ï¼‰ç›´æ¥è§£å†³æ ¸å¿ƒçº¦æŸ  
  - **å®è·µä»·å€¼**ï¼šå®Œæ•´å¯è¿è¡Œä»£ç ï¼Œå¤æ‚åº¦$O(n^2)$ï¼Œé€‚åˆç«èµ›ç›´æ¥ä½¿ç”¨  

**é¢˜è§£äºŒï¼šlouhao088**  
* **äº®ç‚¹**ï¼š  
  - **åˆ›æ–°è§£æ³•**ï¼šç”¨äºŒåˆ†ç­”æ¡ˆ+è´¹ç”¨æµéªŒè¯ï¼ˆè™½ç„¶å¤šä¸€ä¸ªlogä½†æ›´æ˜“ç†è§£ï¼‰  
  - **ç»“æ„æ¸…æ™°**ï¼šç‹¬ç«‹å‡½æ•°`check()`å°è£…æµç½‘ç»œæ„å»ºï¼Œæ¨¡å—åŒ–è®¾è®¡  
  - **è°ƒè¯•å‹å¥½**ï¼šè¯¦ç»†æ³¨é‡Šæ ‡å‡ºå»ºå›¾é€»è¾‘ï¼Œé€‚åˆåˆå­¦è€…é€æ­¥éªŒè¯  

**é¢˜è§£ä¸‰ï¼šOrion545**  
* **äº®ç‚¹**ï¼š  
  - **æ•™å­¦ä»·å€¼**ï¼šç”¨"è®°å¿†åŒ–æœç´¢=åŠ¨æ€è§„åˆ’"ç±»æ¯”è§£é‡Šç½‘ç»œæµå»ºæ¨¡æ€æƒ³  
  - **ä»£ç å¥å£®æ€§**ï¼šè´¨å› æ•°åˆ†è§£ç‰¹åˆ¤å¤§è´¨æ•°ï¼ˆ`if(tmp>1) cnt[i]++`ï¼‰  
  - **é”™è¯¯å¤„ç†**ï¼šæ˜ç¡®æ ‡æ³¨å‘ç‚¹ï¼ˆå¦‚è´¹ç”¨æµç»ˆæ­¢æ¡ä»¶åˆ¤æ–­ï¼‰  

> å…¶ä»–é¢˜è§£å› æœªå®Œæ•´å¤„ç†è¾¹ç•Œæ¡ä»¶æˆ–ç¼ºä¹è§£é‡Šæœªå…¥é€‰

---

#### **3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥**
1. **éš¾ç‚¹1ï¼šæ¡ä»¶è½¬åŒ–**  
   *åˆ†æ*ï¼šé…å¯¹æ¡ä»¶ $a_i/a_j$ æ˜¯è´¨æ•° â†’ è½¬åŒ–ä¸º $cnt_i = cnt_j \pm 1$  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè´¨å› æ•°æŒ‡æ•°å’Œæ˜¯æ•°å­—é…å¯¹çš„"DNAæŒ‡çº¹"  

2. **éš¾ç‚¹2ï¼šè´¹ç”¨éè´Ÿçº¦æŸ**  
   *åˆ†æ*ï¼šä¼˜è´¨è§£æ³•éƒ½ç”¨è´ªå¿ƒç­–ç•¥ï¼šå› å¢å¹¿è·¯å¾„è´¹ç”¨å•è°ƒé€’å‡ï¼Œå½“ `å½“å‰è´¹ç”¨+Î” <0` æ—¶åœæ­¢  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè´¹ç”¨æµä¸­è´¹ç”¨é€’å‡æ€§è´¨æ˜¯è´ªå¿ƒåŸºç¡€  

3. **éš¾ç‚¹3ï¼šäºŒåˆ†å›¾æ„å»º**  
   *åˆ†æ*ï¼šæŒ‰ $cnt_i$ å¥‡å¶æ€§åˆ†ç»„é¿å…åŒç»„é…å¯¹ï¼Œç¡®ä¿DAGæ€§è´¨  
   ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¥‡å¶åˆ†ç»„æ˜¯å¤„ç†é…å¯¹é“¾çš„é€šç”¨æŠ€å·§  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é—®é¢˜è½¬åŒ–**ï¼šå°†æ•°å­¦æ¡ä»¶ï¼ˆè´¨æ•°å€ï¼‰è½¬åŒ–ä¸ºå›¾è®ºæ€§è´¨ï¼ˆ$cnt$å·®ä¸º1ï¼‰  
- **æµç½‘ç»œå»ºæ¨¡**ï¼šç”¨æº/æ±‡ç‚¹é™åˆ¶æ•°å­—ä½¿ç”¨æ¬¡æ•°ï¼Œâˆè¾¹è¡¨ç¤ºä»»æ„é…å¯¹  
- **å®æ—¶ç»ˆæ­¢**ï¼šåœ¨è´¹ç”¨æµä¸­åŠ¨æ€æ£€æŸ¥ `sum + dis[T]*flow <0`  

---

#### **4. C++æ ¸å¿ƒä»£ç å®ç°èµæ**
**é€šç”¨æ ¸å¿ƒå®ç°**ï¼ˆç»¼åˆä¼˜è´¨é¢˜è§£ä¼˜åŒ–ï¼‰ï¼š
```cpp
#include <queue>
#include <cstring>
#include <iostream>
using namespace std;
typedef long long LL;
const int N=210, INF=1e9;
const LL LINF=1e18;

struct Edge { int to,nex,cap; LL cost; } e[N*N*2];
int head[N],cnt=1,n,S,T,b[N],cnt_i[N];
LL c[N],dis[N],sum;
int vis[N],preE[N],preV[N],a[N],ans;

void add(int u,int v,int cap,LL cost) {
    e[++cnt]={v,head[u],cap,cost}; head[u]=cnt;
    e[++cnt]={u,head[v],0,-cost}; head[v]=cnt;
}

bool SPFA() {
    queue<int> q; 
    for(int i=S;i<=T;i++) dis[i]=-LINF;
    memset(vis,0,sizeof vis);
    q.push(S); dis[S]=0; vis[S]=1;
    while(!q.empty()) {
        int u=q.front(); q.pop(); vis[u]=0;
        for(int i=head[u];i;i=e[i].nex) {
            int v=e[i].to;
            if(e[i].cap && dis[v]<dis[u]+e[i].cost) {
                dis[v]=dis[u]+e[i].cost;
                preE[v]=i; preV[v]=u;
                if(!vis[v]) vis[v]=1, q.push(v);
            }
        }
    }
    return dis[T] > -LINF/2;
}

void MCMF() {
    while(SPFA()) {
        int flow=INF;
        for(int v=T;v!=S;v=preV[v]) 
            flow=min(flow,e[preE[v]].cap);
        if(sum + dis[T]*flow < 0) { // è´¹ç”¨å°†å˜è´Ÿ
            ans += sum / (-dis[T]); // å–æ•´ä¿è¯éè´Ÿ
            return;
        }
        sum += dis[T]*flow;
        ans += flow;
        for(int v=T;v!=S;v=preV[v]) {
            e[preE[v]].cap -= flow;
            e[preE[v]^1].cap += flow;
        }
    }
}

int main() {
    cin>>n; S=0,T=n+1;
    // è´¨å› æ•°åˆ†è§£(cnt_i)å’Œå»ºå›¾ä»£ç 
    MCMF();
    cout<<ans;
}
```

**ä»£ç è§£è¯»æ¦‚è¦**ï¼š
1. **é“¾å¼å‰å‘æ˜Ÿå­˜å›¾**ï¼š`Edge`ç»“æ„ä½“å°è£…æµé‡å’Œè´¹ç”¨
2. **SPFAæ‰¾æœ€é•¿è·¯**ï¼šå› æ±‚æœ€å¤§è´¹ç”¨ï¼Œåˆ¤æ–­æ¡ä»¶ä¸º`dis[v]<dis[u]+cost`
3. **è´ªå¿ƒç»ˆæ­¢æ¡ä»¶**ï¼šåŠ¨æ€æ£€æµ‹ `sum+Î”<0` å¹¶è®¡ç®—å‰©ä½™å¯ç”¨æµé‡
4. **å›æº¯æ›´æ–°æµé‡**ï¼šé€šè¿‡`preV`æ•°ç»„å›æº¯å¢å¹¿è·¯å¾„

---

#### **5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º**
* **ä¸»é¢˜**ï¼š"è´¨æ•°æ¢é™©å®¶"åƒç´ é—¯å…³æ¸¸æˆ  
* **æ ¸å¿ƒæ¼”ç¤º**ï¼š  
  ![åƒç´ åŠ¨ç”»æµç¨‹å›¾](https://via.placeholder.com/600x300?text=åƒç´ åŒ–è´¹ç”¨æµåŠ¨ç”»)  
  **äº¤äº’è®¾è®¡**ï¼š  
  1. **åˆå§‹åŒ–**ï¼š8-bité£æ ¼ç½‘æ ¼ï¼Œå·¦ä¾§å¥‡æ•°$cnt$ï¼ˆçº¢è‰²åƒç´ å—ï¼‰ï¼Œå³ä¾§å¶æ•°$cnt$ï¼ˆè“è‰²åƒç´ å—ï¼‰  
  2. **å¢å¹¿è¿‡ç¨‹**ï¼š  
     - å½“å‰è·¯å¾„é«˜äº®é»„è‰²ï¼Œé˜Ÿåˆ—åƒç´ å—è·³åŠ¨  
     - é…å¯¹æˆåŠŸæ—¶è§¦å‘"â˜…"ç‰¹æ•ˆå’Œä¸Šæ‰¬éŸ³æ•ˆ  
  3. **æ§åˆ¶é¢æ¿**ï¼š  
     ```plaintext
     [å¼€å§‹] [å•æ­¥] [é€Ÿåº¦â–½------â—‹] [è´¹ç”¨: 250]
     ```  
  4. **è´¹ç”¨ç›‘æ§**ï¼šåº•éƒ¨çŠ¶æ€æ å®æ—¶æ˜¾ç¤ºï¼š  
     `å½“å‰æµé‡: 4 | æ€»è´¹ç”¨: 120 | ä¸‹æ¬¡å¢å¹¿Î”: +30`  
  5. **ç»ˆæ­¢åœºæ™¯**ï¼šè´¹ç”¨å˜è´Ÿæ—¶å±å¹•é—ªçƒçº¢å…‰ï¼Œæ’­æ”¾è­¦ç¤ºéŸ³  

* **æŠ€æœ¯å®ç°**ï¼š  
  - Canvasç»˜åˆ¶ç½‘æ ¼å’Œåƒç´ å—ç§»åŠ¨  
  - éŸ³æ•ˆè§¦å‘ï¼š`Web Audio API`æ’­æ”¾8-bitéŸ³æ•ˆ  
  - è‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼ï¼š`setInterval`æ§åˆ¶æ­¥è¿›é€Ÿåº¦  

---

#### **6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜**
1. **é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
   - è´¨å› æ•°åˆ†è§£ â†’ [CF17D] Notepad  
   - äºŒåˆ†å›¾å¸¦æƒåŒ¹é… â†’ [NOI2019] åºåˆ—  
   - è´¹ç”¨æµè´ªå¿ƒç»ˆæ­¢ â†’ [SCOI2007] ä¿®è½¦  

2. **æ´›è°·æ¨è**ï¼š  
   1. **P3381** æœ€å°è´¹ç”¨æœ€å¤§æµï¼ˆæ¨¡æ¿ï¼‰  
      â†’ æŒæ¡è´¹ç”¨æµåŸºç¡€å®ç°  
   2. **P4177** è®¢å•è°ƒåº¦ï¼ˆå¸¦æƒåŒ¹é…å˜å½¢ï¼‰  
      â†’ ç»ƒä¹ äºŒåˆ†å›¾å»ºæ¨¡æ€ç»´  
   3. **P2488** å·¥ä½œå®‰æ’ï¼ˆè´¹ç”¨æµ+è´ªå¿ƒç»ˆæ­¢ï¼‰  
      â†’ å¼ºåŒ–æœ¬é¢˜ç»ˆæ­¢æ¡ä»¶åº”ç”¨  

---

#### **7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«**
> **æ¥è‡ª Orion545 çš„è°ƒè¯•ç»éªŒ**ï¼š  
> "åœ¨è´¨å› æ•°åˆ†è§£éƒ¨åˆ†ï¼Œæˆ‘å¿½ç•¥äº†$10^9$çº§åˆ«æ•°å­—å¯èƒ½å«å¤§è´¨å› å­ï¼Œå¯¼è‡´$cnt$è®¡ç®—é”™è¯¯ã€‚é€šè¿‡æ·»åŠ `if(tmp>1) cnt++`ä¿®å¤"  
> **Kayç‚¹è¯„**ï¼šè¾¹ç•Œæµ‹è¯•ï¼ˆå¤§è´¨æ•°ã€1ç­‰ç‰¹æ®Šæƒ…å†µï¼‰æ˜¯æ•°è®ºé¢˜è°ƒè¯•çš„å…³é”®ï¼Œå»ºè®®ç¼–å†™ç‹¬ç«‹å‡½æ•°éªŒè¯è´¨å› æ•°åˆ†è§£  

---

> æœ¬æ¬¡è§£æèåˆäº†12ä»½é¢˜è§£ç²¾åï¼Œé€šè¿‡åƒç´ åŒ–æ¼”ç¤ºå’Œä»£ç è§£å‰–å¸®åŠ©ç†è§£ç½‘ç»œæµå»ºæ¨¡ã€‚è®°ä½ï¼šå°†å¤æ‚æ¡ä»¶è½¬åŒ–ä¸ºå›¾è®ºæ€§è´¨æ˜¯è§£é¢˜çš„æ ¸å¿ƒæ€ç»´ï¼ ğŸ’ª ä¸‹æ¬¡æˆ‘ä»¬å°†è§£æåŠ¨æ€è§„åˆ’ä¸çŠ¶æ€å‹ç¼©çš„ç»“åˆåº”ç”¨ã€‚
```

---
å¤„ç†ç”¨æ—¶ï¼š196.05ç§’
# é¢˜ç›®ä¿¡æ¯

# ä¸å›´æ£‹

## é¢˜ç›®èƒŒæ™¯

ã€Œä¸å›´æ£‹ã€æ˜¯ä¸€ç§éå¸¸æœ‰è¶£çš„æ£‹ç±»æ¸¸æˆã€‚

å¤§å®¶éƒ½çŸ¥é“ï¼Œå›´æ£‹çš„ã€Œæ°”ã€æ˜¯æŒ‡ä¸€ä¸ªæ£‹å­æ‰€åœ¨çš„è”é€šå—ç›¸é‚»çš„ç©ºæ ¼ã€‚ä¸¤ç²’æ£‹å¦‚æœåœ¨æ£‹ç›˜ä¸Šçº¿æ®µçš„ä¸¤ç«¯å°±è®¤ä¸ºæ˜¯ç›¸é‚»çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨åŒä¸€ä¸ªè¿é€šå—é‡Œã€‚æ¯”å¦‚åœ¨å›¾ä¸­ï¼Œç™½å­ä¸ºå››ä¸ªç‹¬ç«‹çš„è¿é€šå—ï¼Œé»‘å­æ„æˆä¸€ä¸ªè¿é€šå—ï¼Œç»¿è‰²ç‚¹æ˜¯é»‘å­è¿é€šå—å”¯ä¸€çš„ã€Œæ°”ã€ï¼š

![](https://cdn.luogu.com.cn/upload/pic/41011.png )

ã€Œæå­ã€æ˜¯æŒ‡å°†æ²¡æœ‰ã€Œæ°”ã€çš„æ£‹å­æå‡ºæ£‹ç›˜ï¼Œåœ¨ä¸Šå›¾ä¸­ï¼Œå¦‚æœç™½æ–¹èµ°ç»¿ç‚¹ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†é»‘å­å…¨éƒ¨æèµ°ã€‚

åœ¨å›´æ£‹ä¸­ï¼Œæˆ‘ä»¬æƒ³å°½é‡å¤šåœ°å é¢†åœ°ç›˜ã€æèµ°å¯¹æ–¹æ£‹å­ã€‚ç„¶è€Œï¼Œä¸å›´æ£‹æ°æ°ç›¸åâ€”â€”ä¸å›´æ£‹æ˜¯ä¸€ç§éå¸¸å’Œå¹³çš„æ¸¸æˆï¼ŒåŒæ–¹çš„èµ°å­ä¸èƒ½äº§ç”Ÿä»»ä½•æå­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ**ä»»ä½•ä¸€æ¬¡èµ°å­ä¸èƒ½è®©æ£‹ç›˜ä¸Šä»»ä½•ä¸€ä¸ªæ£‹å­æ‰€åœ¨çš„è¿é€šå—æ²¡æœ‰æ°”**ã€‚æ¯”å¦‚ï¼Œç™½æ–¹åœ¨ä¸Šå›¾ä¸­ä¸èƒ½èµ°ç»¿ç‚¹ã€‚

åœ¨ä½ çš„æŸä¸€æ­¥æ£‹åï¼Œå¯¹æ–¹æ— æ£‹å¯èµ°ï¼Œé‚£ä¹ˆä½ å°±èµ¢äº†ã€‚

## é¢˜ç›®æè¿°

å° F å¯¹ä¸å›´æ£‹ç‰¹åˆ«æ„Ÿå…´è¶£ï¼Œä¸è¿‡ä»–ç»å¸¸è¾“ï¼Œæ‰€ä»¥ä»–æƒ³åšå‡ºä¸€ä¸ª AI æ¥æ›¿ä»–å®Œæˆè¿™å±€æ¸¸æˆã€‚

ä¸è¿‡é€  AI å®åœ¨æ˜¯å¤ªå›°éš¾å•¦ï¼Œå° F åƒè¾›ä¸‡è‹¦å†™å‡ºæ¥çš„ AI è¢«åŒå­¦ä»¬çš„ AI é”¤çˆ†å•¦ï¼

ç°åœ¨ï¼Œä»–æƒ³è¯·ä½ å¸®ä»–å®ç°ä¸€ä¸ª AI ä¸­ä¸€éƒ¨åˆ†çš„åŠŸèƒ½â€”â€”éšæœºæ¨¡æ‹Ÿï¼Œå› ä¸ºä»–ç›¸ä¿¡ä½ å†™çš„ç¨‹åºéå¸¸ä¼˜ç§€ï¼Œä¸€å®šèƒ½ä¼˜åŒ–ä»–çš„ AIã€‚

ç»™ä½ ä¸€ä¸ª $n \times n$ çš„æ£‹ç›˜ï¼Œä¸Šé¢æˆ–è®¸å·²ç»æœ‰ä¸€äº›æ£‹å­äº†ï¼Œä½†æ­¤æ—¶å±€é¢ä¸€å®šæ˜¯åˆæ³•çš„ï¼Œå³**ä¸å­˜åœ¨æ²¡æœ‰æ°”çš„è¿é€šå—**ï¼›æ­¤æ—¶è½®åˆ°é»‘æ£‹ä¸‹æ£‹ï¼Œå› æ­¤æ£‹ç›˜ä¸Š**é»‘ç™½æ£‹å­çš„æ•°é‡ä¸€å®šæ˜¯ç›¸ç­‰çš„**ã€‚

ä½ çš„ä»»åŠ¡æ˜¯ï¼Œ**ä¾æ¬¡**ä¸ºé»‘æ£‹å’Œç™½æ£‹**éšæ„**æŒ‡å®šä¸€ä¸ªå¯è¡Œçš„èµ°å­ä½ç½®ï¼Œç›´åˆ°æŸä¸€æ­¥æ¸¸æˆæ— æ³•è¿›è¡Œï¼Œå†³å‡ºèƒœè´Ÿä¸ºæ­¢ã€‚

åœ¨æ­£å¼çš„ä¸å›´æ£‹æ¯”èµ›è¿˜å­˜åœ¨ä¸€äº›ç¦æ‰‹è§„åˆ™ã€‚ä¸è¿‡ç”±äºå° F ç©çš„æ˜¯ä¸€ç§æ£‹ç›˜å¤§å°å¯å˜çš„æ–°å‹ä¸å›´æ£‹ï¼Œæˆ‘ä»¬åªç”¨è€ƒè™‘ä¸Šé¢æåˆ°çš„æ°”çš„è§„åˆ™å°±å¥½ã€‚

## è¯´æ˜/æç¤º

#### æ ·ä¾‹ 1 è§£é‡Šï¼š

æ³¨æ„åˆ°å°†æ£‹ç›˜ä¸‹æ»¡ä¼šè®©æ£‹ç›˜ä¸Šæ‰€æœ‰è¿é€šå—éƒ½æ²¡æœ‰æ°”ï¼Œæ‰€ä»¥é»‘æ£‹æ˜¯æ— æ£‹å¯èµ°çš„ã€‚

#### æ ·ä¾‹ 2 è§£é‡Šï¼š

æ ·ä¾‹ 2 è¿˜æœ‰ä¸¤ä¸ªæ­£ç¡®çš„è¾“å‡ºæ˜¯è¿™æ ·çš„ï¼š
```
3 2
2 3
-1 -1
```
```
3 3
2 3
-1 -1
```
æˆ‘ä»¬å°†æ£‹ç›˜è¡¨ç¤ºå‡ºæ¥ï¼š

![](https://cdn.luogu.com.cn/upload/pic/41216.png)

å…¶ä¸­ï¼Œé»‘æ£‹æ˜¯ä¸‰ä¸ªç©ºæ ¼éƒ½å¯ä»¥èµ°çš„ã€‚

* å¦‚æœé»‘æ£‹èµ° $(2, 3)$ï¼Œå¦‚å›¾ï¼Œæ­¤æ—¶ç™½æ£‹èµ°ä»»ä½•ä½ç½®éƒ½ä¼šæèµ°ç›¸é‚»çš„é»‘æ£‹ï¼Œç™½æ£‹æ— æ£‹å¯èµ°ï¼›
 ![](https://cdn.luogu.com.cn/upload/pic/41219.png)

* å¦‚æœé»‘æ£‹èµ° $(3, 2)$ï¼Œå¦‚å›¾ï¼Œæ­¤æ—¶ç™½æ£‹å”¯ä¸€å¯èµ°çš„ç‚¹æ˜¯ $(2, 3)$ï¼Œä¹‹åé»‘æ£‹æ— æ£‹å¯èµ°ï¼›
 ![](https://cdn.luogu.com.cn/upload/pic/41218.png)

* å¦‚æœé»‘æ£‹èµ° $(3, 3)$ï¼Œå¦‚å›¾ï¼Œæ­¤æ—¶ç™½æ£‹å”¯ä¸€å¯èµ°çš„ç‚¹æ˜¯ $(2, 3)$ï¼Œä¹‹åé»‘æ£‹æ— æ£‹å¯èµ°ï¼›
 ![](https://cdn.luogu.com.cn/upload/pic/41217.png)

è¿™ä¸‰ç§æƒ…å†µä¾æ¬¡å¯¹åº”ä¸‰ä¸ªè¾“å‡ºï¼Œè¾“å‡ºä»»æ„ä¸€ç§å¯å¾—åˆ°æ»¡åˆ†ã€‚

#### è¯„åˆ†è§„åˆ™è§£é‡Šï¼š

ä¸ºäº†è§£é‡Šè¯„åˆ†è§„åˆ™ï¼Œæˆ‘ä»¬ä»¥æ ·ä¾‹ 2 ä¸ºä¾‹ï¼Œå¯¹äºä»¥ä¸‹å‡ ç§è¾“å‡ºï¼š
```
I AK IOI
```
å¾ˆä¸å¹¸ï¼Œå› ä¸ºæ‚¨å¤ªå¼ºäº†ï¼Œæ‰€ä»¥ä¸ºäº†æŒ‰ä½èºåŠ¨çš„æ‚¨ï¼Œæˆ‘ä»¬ä¼šç»™æ‚¨ $0$ åˆ†ã€‚

```
-1 -1
```
```
1 1
-1 -1
```
å¾ˆä¸å¹¸ï¼Œä½ çš„ç¬¬ä¸€è¡Œæ²¡æœ‰è¾“å‡ºæ­£ç¡®ï¼Œå¾— $0$ åˆ†ã€‚

```
3 3
-1 -1
```
ä½ è¾“å‡ºçš„å‰ $1$ è¡Œæ˜¯æ­£ç¡®æ–¹æ¡ˆçš„ä¸€éƒ¨åˆ†ã€‚ç”±äº $1$ æ˜¯ $1$ ä½æ•°ï¼Œæ­å–œä½ å¾—åˆ°äº†æ•´æ•´ $1$ åˆ†ï¼

#### æ•°æ®èŒƒå›´ï¼š

![](https://cdn.luogu.com.cn/upload/pic/41855.png)

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
XXX
OOX
OO.```

### è¾“å‡º

```
-1 -1```

## æ ·ä¾‹ #2

### è¾“å…¥

```
3
XOO
XO.
X..```

### è¾“å‡º

```
2 3
-1 -1```

# AIåˆ†æç»“æœ


### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šä¸å›´æ£‹ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æâ€œä¸å›´æ£‹â€è¿™é“C++ç¼–ç¨‹é¢˜ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©å¤§å®¶æ¢³ç†é¢˜ç›®æ€è·¯ï¼Œç†è§£æ ¸å¿ƒç®—æ³•ï¼Œå¹¶æŒæ¡è§£é¢˜æŠ€å·§ã€‚

---

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`å¹¶æŸ¥é›†ä¼˜åŒ–æ¨¡æ‹Ÿ`ï¼ˆç¼–ç¨‹æŠ€å·§åº”ç”¨ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³â€œä¸å›´æ£‹â€çš„å…³é”®åœ¨äº**é«˜æ•ˆæ¨¡æ‹Ÿæ£‹ç›˜çŠ¶æ€å˜åŒ–**ã€‚æƒ³è±¡ä½ ç®¡ç†å¤šä¸ªè¿é€šçš„æ°”çƒï¼ˆæ£‹å­è¿é€šå—ï¼‰ï¼Œæ¯æ¬¡è½å­ç›¸å½“äºç»™æ°”çƒæ‰“æ°”æˆ–æ”¾æ°”ï¼Œå¹¶æ£€æŸ¥æ°”çƒæ˜¯å¦çˆ†ç‚¸ï¼ˆæ²¡æ°”ï¼‰ã€‚  
åœ¨æœ¬é¢˜ä¸­ï¼Œ**å¹¶æŸ¥é›†**ç”¨äºé«˜æ•ˆç®¡ç†è¿é€šå—çš„æ°”ï¼ˆç›¸é‚»ç©ºæ ¼æ•°é‡ï¼‰ï¼Œè€Œ**åŒæŒ‡é’ˆä¼˜åŒ–**é¿å…é‡å¤æ£€æŸ¥æ— æ•ˆä½ç½®ã€‚æ ¸å¿ƒæµç¨‹ï¼š
>  1. åˆå§‹åŒ–æ£‹ç›˜å’Œå¹¶æŸ¥é›†
>  2. é»‘ç™½è½®æµè½å­ï¼šä»ä¸Šæ¬¡ä½ç½®å‘åæ‰«æï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªåˆæ³•è½å­ç‚¹
>  3. æ›´æ–°è¿é€šå—æ°”å€¼å¹¶åˆå¹¶ç›¸é‚»åŒè‰²å—
>  4. è‹¥æŸæ–¹æ— åˆæ³•ä½ç½®åˆ™ç»“æŸ
>
> å¯è§†åŒ–è®¾è®¡æ€è·¯ï¼š
> - **åƒç´ æ£‹ç›˜**ï¼š8-bitç½‘æ ¼å±•ç¤ºæ£‹å­ï¼ˆé»‘/ç™½åƒç´ å—ï¼‰å’Œç©ºæ ¼
> - **æ°”å€¼æ˜¾ç¤º**ï¼šæ¯ä¸ªè¿é€šå—ç”¨ä¸åŒé¢œè‰²è¾¹æ¡†ï¼Œæ˜¾ç¤ºå½“å‰æ°”å€¼
> - **å…³é”®åŠ¨ç”»**ï¼šè½å­æ—¶é«˜äº®å½“å‰æ ¼å­ï¼Œå‘¨å›´è¿é€šå—æ°”å€¼å‡å°‘ï¼Œåˆå¹¶æ—¶æ˜¾ç¤ºè¿é€šåŠ¨ç”»
> - **å¤å¤å…ƒç´ **ï¼šè½å­æ—¶æ’­æ”¾â€œæ”¾ç½®â€éŸ³æ•ˆï¼Œæ— è§£æ—¶æ’­æ”¾â€œå¤±è´¥â€éŸ³æ•ˆï¼ŒèƒŒæ™¯ä¸º8-bité£æ ¼éŸ³ä¹

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼šLittle_Ming (33èµ)**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°ç›´ç™½ï¼Œé€šè¿‡åŒæŒ‡é’ˆè·³è¿‡æ— æ•ˆä½ç½®ï¼Œé¿å…O(nâ´)å¤æ‚åº¦ï¼›ä»£ç ä¸­`trying[2]`æŒ‡é’ˆè®¾è®¡å·§å¦™ï¼Œå˜é‡å`qi`ï¼ˆæ°”ï¼‰è´´åˆé¢˜æ„ï¼›å¹¶æŸ¥é›†åˆå¹¶æ—¶è‡ªåŠ¨æ›´æ–°æ°”å€¼ï¼Œé€»è¾‘ä¸¥è°¨ï¼›è¾¹ç•Œå¤„ç†å®Œæ•´ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚äº®ç‚¹åœ¨äº**æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–åˆ°O(nÂ²Î±(n))**ï¼Œæ˜¾è‘—æå‡æ•ˆç‡ã€‚

**é¢˜è§£äºŒï¼šjianhe (10èµ)**
* **ç‚¹è¯„**ï¼šä½œä¸ºå›´æ£‹çˆ±å¥½è€…ï¼Œä½œè€…æ·±å…¥è§£é‡Šâ€œæ°”â€çš„é‡æ–°å®šä¹‰ï¼Œå¸®åŠ©ç†è§£ç®—æ³•æœ¬è´¨ï¼›ä»£ç æ¨¡å—åŒ–ä¼˜ç§€ï¼Œ`check()`å’Œ`place()`å‡½æ•°åˆ†ç¦»ä½¿é€»è¾‘æ›´æ¸…æ™°ï¼›å¯¹â€œå µæ­»å·±æ–¹æ£‹å­â€çš„åˆ¤æ–­é€»è¾‘å¤„ç†å°¤ä¸ºç»†è‡´ã€‚å®è·µä»·å€¼é«˜ï¼Œä½†å˜é‡å‘½åå¯è¯»æ€§å¯è¿›ä¸€æ­¥æå‡ã€‚

**é¢˜è§£ä¸‰ï¼šå›§ä»™ (4èµ)**
* **ç‚¹è¯„**ï¼šä»£ç æç®€ï¼ˆä»…88è¡Œï¼‰ä½†åŠŸèƒ½å®Œæ•´ï¼Œç‹¬åˆ›æ€§ä½¿ç”¨åæ ‡æ˜ å°„ä»£æ›¿ä¼ ç»Ÿå¹¶æŸ¥é›†æ•°ç»„ï¼›åŒæŒ‡é’ˆä¼˜åŒ–ä¸Little_Mingæ–¹æ¡ˆå¼‚æ›²åŒå·¥ï¼›äº®ç‚¹åœ¨äº**ç”¨ä½è¿ç®—å‹ç¼©çŠ¶æ€**ï¼Œå¤§å¹…å‡å°‘ä»£ç é‡ï¼Œé€‚åˆç«èµ›å¿«é€Ÿç¼–ç ã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1.  **éš¾ç‚¹ï¼šé«˜æ•ˆåˆ¤æ–­è½å­åˆæ³•æ€§**
    * **åˆ†æ**ï¼šä¼ ç»Ÿæ–¹æ³•æ¯æ¬¡è½å­éœ€O(nÂ²)æ£€æŸ¥å…¨ç›˜ã€‚ä¼˜è´¨é¢˜è§£é€šè¿‡**åŒæŒ‡é’ˆ+æ°”å€¼é¢„è®¡ç®—**è§£å†³ï¼šè‹¥ä½ç½®iå¯¹é¢œè‰²céæ³•ï¼Œåˆ™æ ‡è®°å¹¶æ°¸ä¹…è·³è¿‡ï¼ŒæŒ‡é’ˆä»…éœ€æ‰«ææœªæ ‡è®°ä½ç½®ã€‚
    * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šåˆ©ç”¨â€œå†å²æ— æ•ˆæ€§â€å‡å°‘é‡å¤åˆ¤æ–­æ˜¯ä¼˜åŒ–å…³é”®ã€‚

2.  **éš¾ç‚¹ï¼šåŠ¨æ€ç»´æŠ¤è¿é€šå—æ°”å€¼**
    * **åˆ†æ**ï¼šé‡æ–°å®šä¹‰æ°”=Î£(å•ä¸ªæ£‹å­ç›¸é‚»ç©ºæ ¼æ•°)ï¼Œå…è®¸é‡å¤è®¡æ•°ã€‚è½å­æ—¶ï¼š
        - å‡1ï¼šå‘¨å›´å¼‚è‰²è¿é€šå—çš„æ°”
        - åˆå¹¶ï¼šç›¸é‚»åŒè‰²è¿é€šå—çš„æ°”å€¼ç›¸åŠ 
        - åŠ è‡ªèº«æ°”ï¼šæ–°æ£‹å­å‘¨å›´ç©ºæ ¼æ•°
    * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šé‡å¤è®¡æ•°ç®€åŒ–äº†åˆå¹¶é€»è¾‘ï¼Œæ’¤å›æ—¶å¯¹ç§°æ“ä½œå³å¯ã€‚

3.  **éš¾ç‚¹ï¼šé¿å…è¿é€šå—â€œè‡ªæ€â€**
    * **åˆ†æ**ï¼šéœ€åŒæ—¶æ£€æŸ¥ï¼š
        - æ˜¯å¦ä½¿ä»»ä½•å¼‚è‰²å—æ°”=0
        - åˆå¹¶ååŒè‰²å—æ€»æ°”>0
        - æ–°æ£‹å­è‡ªèº«æœ‰æ°”æˆ–è¿æ¥æœ‰æ°”å—
    * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šåˆ†æ­¥æ£€æŸ¥+çŠ¶æ€ä¸´æ—¶ä¿®æ”¹æ˜¯é€šç”¨ç­–ç•¥ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1 å¢é‡æ›´æ–°**ï¼šåªä¿®æ”¹è½å­å‘¨å›´4æ ¼çŠ¶æ€ï¼Œé¿å…å…¨å±€é‡ç®—
- **æŠ€å·§2 å¹¶æŸ¥é›†æ´»ç”¨**ï¼šç»´æŠ¤è¿é€šæ€§åŒæ—¶å­˜å‚¨é™„åŠ æ•°æ®ï¼ˆæ°”å€¼ï¼‰
- **æŠ€å·§3 é˜²å¾¡æ€§æ£€æŸ¥**ï¼šå¤„ç†è¾¹ç•Œæ¡ä»¶ï¼ˆå¦‚æ£‹ç›˜è¾¹ç¼˜ï¼‰
- **æŠ€å·§4 çŠ¶æ€å›é€€**ï¼šæ£€æŸ¥åˆæ³•æ€§æ—¶å…ˆæ¨¡æ‹Ÿæ“ä½œï¼Œå¤±è´¥åˆ™å›é€€

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
* **è¯´æ˜**ï¼šç»¼åˆè‡ªä¼˜è´¨é¢˜è§£æ€è·¯ï¼Œä»¥Little_Mingçš„æŒ‡é’ˆä¼˜åŒ–ä¸ºä¸»æ¡†æ¶ï¼Œèå…¥æ°”å€¼æ›´æ–°é€»è¾‘ã€‚
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include<bits/stdc++.h>
using namespace std;
const int N=605;
int n, qi[N*N], f[N*N]; // æ°”å€¼ã€å¹¶æŸ¥é›†
char board[N][N];
pair<int,int> ptr[2]; // é»‘ç™½æ–¹æŒ‡é’ˆ

int find(int x) { return f[x]==x ? x : f[x]=find(f[x]); }

bool canPlace(int x, int y, char cur) {
    if(board[x][y] != '.') return false;
    char opp = (cur=='X') ? 'O' : 'X';
    map<int,int> tmp; // å­˜å‚¨ä¸´æ—¶ä¿®æ”¹çš„æ°”å€¼

    // å‡å‘¨å›´æ°”å€¼
    for(auto [dx,dy] : {{1,0},{-1,0},{0,1},{0,-1}}) {
        int nx=x+dx, ny=y+dy;
        if(nx<1||ny<1||nx>n||ny>n) continue;
        int id = find(nx*N+ny);
        if(board[nx][ny] == opp) tmp[id]--, qi[id]--;
    }

    // æ£€æŸ¥å¼‚è‰²å—æ˜¯å¦æ–­æ°”
    for(auto [id,_] : tmp) 
        if(qi[find(id)] <= 0) return false;

    // æ£€æŸ¥åŒè‰²å—æ˜¯å¦æ–­æ°”
    int newQi = 0;
    for(int d=0; d<4; d++) {
        int nx=x+("2101"[d]-'1'), ny=y+("1210"[d]-'1');
        if(nx<1||ny<1||nx>n||ny>n) continue;
        if(board[nx][ny] == cur) newQi += qi[find(nx*N+ny)] > 0;
    }
    if(newQi == 0) return false;
    return true;
}

int main() {
    // åˆå§‹åŒ–å¹¶æŸ¥é›† & æ°”å€¼...
    bool turn = 0; // 0=é»‘, 1=ç™½
    while(true) {
        auto &[x,y] = ptr[turn];
        while(x<=n && !canPlace(x,y,"XO"[turn])) 
            (y==n) ? (x++,y=1) : y++;
        if(x>n) break; // æ— åˆæ³•ä½ç½®
        // å®é™…è½å­å¹¶æ›´æ–°è¿é€šå—...
        cout << x << " " << y << endl;
        turn = !turn; // åˆ‡æ¢ç©å®¶
    }
    cout << "-1 -1\n";
}
```

**é¢˜è§£ä¸€æ ¸å¿ƒä»£ç ç‰‡æ®µ**
```cpp
// åŒæŒ‡é’ˆä¼˜åŒ–æœç´¢
while(true) {
    Pos &nt = trying[player];
    while(nt && !canset(nt,player)) ++nt;
    if(!nt) { // æ— åˆæ³•ä½ç½®
        printf("-1 -1"); break;
    }
    setgo(nt, player); // è½å­å¹¶æ›´æ–°
    printf("%d %d\n", nt.x, nt.y);
    player = !player; // åˆ‡æ¢ç©å®¶
}
```
> **è§£è¯»**ï¼š`trying[player]`æŒ‡é’ˆè·³è¿‡å†å²æ— æ•ˆä½ç½®ï¼Œ`canset`æ£€æŸ¥è½å­åˆæ³•æ€§ï¼Œ`setgo`æ›´æ–°æ£‹ç›˜å’Œå¹¶æŸ¥é›†ã€‚  
> **å­¦ä¹ ç¬”è®°**ï¼šæŒ‡é’ˆç§»åŠ¨ä»£æ›¿å…¨ç›˜æ‰«æï¼Œå¤æ‚åº¦ä»O(nâ´)é™è‡³O(nÂ²)ã€‚

**é¢˜è§£ä¸‰æ ¸å¿ƒä»£ç ç‰‡æ®µ**
```cpp
// åæ ‡å‹ç¼©ä¸çŠ¶æ€æ›´æ–°
int id = x*N+y; // äºŒç»´åæ ‡è½¬ä¸€ç»´
f[id]=id; board[x][y]=cur;
for(auto [dx,dy] : offsets) {
    int nx=x+dx, ny=y+dy;
    if(board[nx][ny]==cur) qi[id] += qi[find(nx*N+ny)];
}
```
> **è§£è¯»**ï¼šç”¨ä¸€ç»´æ•°ç»„å­˜å‚¨äºŒç»´çŠ¶æ€ï¼Œ`find()`åŒæ—¶å¤„ç†è¿é€šæ€§å’Œæ°”å€¼ã€‚  
> **å­¦ä¹ ç¬”è®°**ï¼šåæ ‡æ˜ å°„æ˜¯å‡å°‘ä»£ç å¤æ‚åº¦çš„å®ç”¨æŠ€å·§ã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼š*8-bitå›´æ£‹æ¨¡æ‹Ÿå™¨*ï¼ˆå¤å¤GameBoyé£æ ¼ï¼‰

### è®¾è®¡æ–¹æ¡ˆ
1. **åœºæ™¯æ„å»º**ï¼š
   - ç½‘æ ¼æ£‹ç›˜ï¼šæ¯ä¸ªæ ¼å­16x16åƒç´ ï¼Œé»‘å­=æ·±ç°å—ï¼Œç™½å­=æµ…ç°å—ï¼Œç©ºæ ¼=ç»¿è‰²
   - ä¾§è¾¹é¢æ¿ï¼šæ˜¾ç¤ºå½“å‰ç©å®¶ï¼ˆåƒç´ å­—ä½“ï¼‰ï¼Œæ°”å€¼è¿›åº¦æ¡
   - æ§åˆ¶å°ï¼šæ­¥è¿›/æ’­æ”¾/æš‚åœæŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—

2. **æ ¸å¿ƒåŠ¨ç”»æµç¨‹**ï¼š
   ```mermaid
   graph LR
   A[åˆå§‹åŒ–æ£‹ç›˜] --> B[é»‘æ–¹è½å­æ‰«æ]
   B --> C{ä½ç½®åˆæ³•ï¼Ÿ}
   C -- æ˜¯ --> D[é«˜äº®æ ¼å­+æ’­æ”¾éŸ³æ•ˆ]
   D --> E[æ›´æ–°è¿é€šå—æ°”å€¼]
   E --> F[æ˜¾ç¤ºåˆå¹¶åŠ¨ç”»]
   F --> G[åˆ‡æ¢ç©å®¶]
   C -- å¦ --> H[æŒ‡é’ˆå³ç§»]
   H --> B
   G --> I[ç™½æ–¹æ‰«æ...]
   ```

3. **å…³é”®äº¤äº’ç»†èŠ‚**ï¼š
   - **è½å­æ—¶**ï¼šå½“å‰æ ¼å­é—ªçƒé»„è‰²ï¼Œå‘¨å›´è¿é€šå—è¾¹æ¡†å˜çº¢ï¼ˆæ°”-1ï¼‰ï¼Œæ’­æ”¾â€œå˜Ÿâ€å£°
   - **åˆå¹¶æ—¶**ï¼šåŒè‰²è¿é€šå—ç”¨å…‰æµåŠ¨ç”»è¿æ¥ï¼Œæ˜¾ç¤ºæ–°æ°”å€¼
   - **æ— è§£æ—¶**ï¼šæ£‹ç›˜æŠ–åŠ¨+çº¢è‰²é—ªçƒï¼Œæ’­æ”¾â€œå¤±è´¥â€éŸ³æ•ˆ
   - **è‡ªåŠ¨æ¼”ç¤º**ï¼šAIæ¨¡å¼è‡ªåŠ¨è½å­ï¼Œé€Ÿåº¦å¯è°ƒï¼ˆ0.5x-2xï¼‰

4. **å¤å¤å…ƒç´ **ï¼š
   - éŸ³æ•ˆï¼šè½å­=8-bitç‚¹å‡»å£°ï¼Œèƒœåˆ©=è¶…çº§é©¬é‡Œå¥¥è¿‡å…³å£°
   - åƒç´ å­—ä½“ï¼šä½¿ç”¨Press Start 2På­—ä½“
   - å…³å¡è¿›åº¦ï¼šæ¯10æ­¥è§£é”æ–°BGM

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

**é€šç”¨æŠ€å·§è¿ç§»**  
å¹¶æŸ¥é›†+çŠ¶æ€å¢é‡æ›´æ–°é€‚ç”¨äºï¼š
1. åŠ¨æ€è¿é€šæ€§ç»´æŠ¤ï¼ˆå¦‚ç½‘ç»œè¿æ¥çŠ¶æ€ï¼‰
2. ç½‘æ ¼ç±»æ¸¸æˆæ¨¡æ‹Ÿï¼ˆå¦‚æ‰«é›·ã€ä¿„ç½—æ–¯æ–¹å—AIï¼‰
3. å®æ—¶æ›´æ–°å›¾è®ºé—®é¢˜ï¼ˆå¦‚ç¤¾äº¤ç½‘ç»œå…³ç³»å˜åŒ–ï¼‰

**æ¨èç»ƒä¹ **ï¼š
1. **P3367 å¹¶æŸ¥é›†æ¨¡æ¿**  
   â†’ å·©å›ºåŸºç¡€å¹¶æŸ¥é›†æ“ä½œ
2. **P2292 å¡«æ¶‚é¢œè‰²**  
   â†’ ç»ƒä¹ ç½‘æ ¼è¿é€šå—åˆ†æ
3. **P5471 è·³çŸ³å¤´**  
   â†’ å­¦ä¹ äºŒåˆ†ç­”æ¡ˆ+æ¨¡æ‹ŸéªŒè¯

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **Little_Mingçš„è°ƒè¯•ç»éªŒ**ï¼š  
> *â€œåŒæŒ‡é’ˆä¼˜åŒ–æ—¶ï¼Œå¿˜è®°é‡ç½®æŒ‡é’ˆä½ç½®å¯¼è‡´è·³è¿‡æœ‰æ•ˆç‚¹ï¼Œé€šè¿‡æ‰“å°æŒ‡é’ˆè½¨è¿¹å®šä½é”™è¯¯â€*  
>   
> **Kayçš„æ€»ç»“**ï¼š  
> å¤šæ­¥éª¤æ¨¡æ‹Ÿä¸­ï¼Œ**çŠ¶æ€è¿½è¸ª**æ¯”ç®—æ³•æœ¬èº«æ›´æ˜“å‡ºé”™ã€‚å»ºè®®ï¼š
> - ç”¨`cerr`è¾“å‡ºå…³é”®å˜é‡å¿«ç…§
> - å¯¹è¾¹ç•Œæƒ…å†µå•ç‹¬æµ‹è¯•ï¼ˆå¦‚å…¨ç©º/æ»¡æ£‹ç›˜ï¼‰
> - æ¨¡å—åŒ–éªŒè¯ï¼šå…ˆå†™æ£€æŸ¥å‡½æ•°ï¼Œå†å†™æ›´æ–°é€»è¾‘

---

> æœ¬æ¬¡å…³äºâ€œä¸å›´æ£‹â€çš„è§£æå°±åˆ°è¿™é‡Œã€‚è®°ä½ï¼š**ä¼˜ç§€ç®—æ³•=æ­£ç¡®æ€§+æ•ˆç‡+å¯è¯»æ€§**ã€‚ä¸‹æ¬¡æŒ‘æˆ˜å†è§ï¼ğŸš€  
</think>
### ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šä¸å›´æ£‹ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æâ€œä¸å›´æ£‹â€è¿™é“C++ç¼–ç¨‹é¢˜ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©å¤§å®¶æ¢³ç†é¢˜ç›®æ€è·¯ï¼Œç†è§£æ ¸å¿ƒç®—æ³•ï¼Œå¹¶æŒæ¡è§£é¢˜æŠ€å·§ã€‚

---

## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`å¹¶æŸ¥é›†ä¼˜åŒ–æ¨¡æ‹Ÿ`ï¼ˆç¼–ç¨‹æŠ€å·§åº”ç”¨ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è§£å†³â€œä¸å›´æ£‹â€çš„å…³é”®åœ¨äº**é«˜æ•ˆæ¨¡æ‹Ÿæ£‹ç›˜çŠ¶æ€å˜åŒ–**ã€‚æƒ³è±¡ä½ ç®¡ç†å¤šä¸ªè¿é€šçš„æ°”çƒï¼ˆæ£‹å­è¿é€šå—ï¼‰ï¼Œæ¯æ¬¡è½å­ç›¸å½“äºç»™æ°”çƒæ‰“æ°”æˆ–æ”¾æ°”ï¼Œå¹¶æ£€æŸ¥æ°”çƒæ˜¯å¦çˆ†ç‚¸ï¼ˆæ²¡æ°”ï¼‰ã€‚  
åœ¨æœ¬é¢˜ä¸­ï¼Œ**å¹¶æŸ¥é›†**ç”¨äºé«˜æ•ˆç®¡ç†è¿é€šå—çš„æ°”ï¼ˆç›¸é‚»ç©ºæ ¼æ•°é‡ï¼‰ï¼Œè€Œ**åŒæŒ‡é’ˆä¼˜åŒ–**é¿å…é‡å¤æ£€æŸ¥æ— æ•ˆä½ç½®ã€‚æ ¸å¿ƒæµç¨‹ï¼š
>  1. åˆå§‹åŒ–æ£‹ç›˜å’Œå¹¶æŸ¥é›†
>  2. é»‘ç™½è½®æµè½å­ï¼šä»ä¸Šæ¬¡ä½ç½®å‘åæ‰«æï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªåˆæ³•è½å­ç‚¹
>  3. æ›´æ–°è¿é€šå—æ°”å€¼å¹¶åˆå¹¶ç›¸é‚»åŒè‰²å—
>  4. è‹¥æŸæ–¹æ— åˆæ³•ä½ç½®åˆ™ç»“æŸ
>
> å¯è§†åŒ–è®¾è®¡æ€è·¯ï¼š
> - **åƒç´ æ£‹ç›˜**ï¼š8-bitç½‘æ ¼å±•ç¤ºæ£‹å­ï¼ˆé»‘/ç™½åƒç´ å—ï¼‰å’Œç©ºæ ¼
> - **æ°”å€¼æ˜¾ç¤º**ï¼šæ¯ä¸ªè¿é€šå—ç”¨ä¸åŒé¢œè‰²è¾¹æ¡†ï¼Œæ˜¾ç¤ºå½“å‰æ°”å€¼
> - **å…³é”®åŠ¨ç”»**ï¼šè½å­æ—¶é«˜äº®å½“å‰æ ¼å­ï¼Œå‘¨å›´è¿é€šå—æ°”å€¼å‡å°‘ï¼Œåˆå¹¶æ—¶æ˜¾ç¤ºè¿é€šåŠ¨ç”»
> - **å¤å¤å…ƒç´ **ï¼šè½å­æ—¶æ’­æ”¾â€œæ”¾ç½®â€éŸ³æ•ˆï¼Œæ— è§£æ—¶æ’­æ”¾â€œå¤±è´¥â€éŸ³æ•ˆï¼ŒèƒŒæ™¯ä¸º8-bité£æ ¼éŸ³ä¹

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼šLittle_Ming (33èµ)**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°ç›´ç™½ï¼Œé€šè¿‡åŒæŒ‡é’ˆè·³è¿‡æ— æ•ˆä½ç½®ï¼Œé¿å…O(nâ´)å¤æ‚åº¦ï¼›ä»£ç ä¸­`trying[2]`æŒ‡é’ˆè®¾è®¡å·§å¦™ï¼Œå˜é‡å`qi`ï¼ˆæ°”ï¼‰è´´åˆé¢˜æ„ï¼›å¹¶æŸ¥é›†åˆå¹¶æ—¶è‡ªåŠ¨æ›´æ–°æ°”å€¼ï¼Œé€»è¾‘ä¸¥è°¨ï¼›è¾¹ç•Œå¤„ç†å®Œæ•´ï¼Œå¯ç›´æ¥ç”¨äºç«èµ›ã€‚äº®ç‚¹åœ¨äº**æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–åˆ°O(nÂ²Î±(n))**ï¼Œæ˜¾è‘—æå‡æ•ˆç‡ã€‚

**é¢˜è§£äºŒï¼šjianhe (10èµ)**
* **ç‚¹è¯„**ï¼šä½œä¸ºå›´æ£‹çˆ±å¥½è€…ï¼Œä½œè€…æ·±å…¥è§£é‡Šâ€œæ°”â€çš„é‡æ–°å®šä¹‰ï¼Œå¸®åŠ©ç†è§£ç®—æ³•æœ¬è´¨ï¼›ä»£ç æ¨¡å—åŒ–ä¼˜ç§€ï¼Œ`check()`å’Œ`place()`å‡½æ•°åˆ†ç¦»ä½¿é€»è¾‘æ›´æ¸…æ™°ï¼›å¯¹â€œå µæ­»å·±æ–¹æ£‹å­â€çš„åˆ¤æ–­é€»è¾‘å¤„ç†å°¤ä¸ºç»†è‡´ã€‚å®è·µä»·å€¼é«˜ï¼Œä½†å˜é‡å‘½åå¯è¯»æ€§å¯è¿›ä¸€æ­¥æå‡ã€‚

**é¢˜è§£ä¸‰ï¼šå›§ä»™ (4èµ)**
* **ç‚¹è¯„**ï¼šä»£ç æç®€ï¼ˆä»…88è¡Œï¼‰ä½†åŠŸèƒ½å®Œæ•´ï¼Œç‹¬åˆ›æ€§ä½¿ç”¨åæ ‡æ˜ å°„ä»£æ›¿ä¼ ç»Ÿå¹¶æŸ¥é›†æ•°ç»„ï¼›åŒæŒ‡é’ˆä¼˜åŒ–ä¸Little_Mingæ–¹æ¡ˆå¼‚æ›²åŒå·¥ï¼›äº®ç‚¹åœ¨äº**ç”¨ä½è¿ç®—å‹ç¼©çŠ¶æ€**ï¼Œå¤§å¹…å‡å°‘ä»£ç é‡ï¼Œé€‚åˆç«èµ›å¿«é€Ÿç¼–ç ã€‚

---

## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

1.  **éš¾ç‚¹ï¼šé«˜æ•ˆåˆ¤æ–­è½å­åˆæ³•æ€§**
    * **åˆ†æ**ï¼šä¼ ç»Ÿæ–¹æ³•æ¯æ¬¡è½å­éœ€O(nÂ²)æ£€æŸ¥å…¨ç›˜ã€‚ä¼˜è´¨é¢˜è§£é€šè¿‡**åŒæŒ‡é’ˆ+æ°”å€¼é¢„è®¡ç®—**è§£å†³ï¼šè‹¥ä½ç½®iå¯¹é¢œè‰²céæ³•ï¼Œåˆ™æ ‡è®°å¹¶æ°¸ä¹…è·³è¿‡ï¼ŒæŒ‡é’ˆä»…éœ€æ‰«ææœªæ ‡è®°ä½ç½®ã€‚
    * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šåˆ©ç”¨â€œå†å²æ— æ•ˆæ€§â€å‡å°‘é‡å¤åˆ¤æ–­æ˜¯ä¼˜åŒ–å…³é”®ã€‚

2.  **éš¾ç‚¹ï¼šåŠ¨æ€ç»´æŠ¤è¿é€šå—æ°”å€¼**
    * **åˆ†æ**ï¼šé‡æ–°å®šä¹‰æ°”=Î£(å•ä¸ªæ£‹å­ç›¸é‚»ç©ºæ ¼æ•°)ï¼Œå…è®¸é‡å¤è®¡æ•°ã€‚è½å­æ—¶ï¼š
        - å‡1ï¼šå‘¨å›´å¼‚è‰²è¿é€šå—çš„æ°”
        - åˆå¹¶ï¼šç›¸é‚»åŒè‰²è¿é€šå—çš„æ°”å€¼ç›¸åŠ 
        - åŠ è‡ªèº«æ°”ï¼šæ–°æ£‹å­å‘¨å›´ç©ºæ ¼æ•°
    * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šé‡å¤è®¡æ•°ç®€åŒ–äº†åˆå¹¶é€»è¾‘ï¼Œæ’¤å›æ—¶å¯¹ç§°æ“ä½œå³å¯ã€‚

3.  **éš¾ç‚¹ï¼šé¿å…è¿é€šå—â€œè‡ªæ€â€**
    * **åˆ†æ**ï¼šéœ€åŒæ—¶æ£€æŸ¥ï¼š
        - æ˜¯å¦ä½¿ä»»ä½•å¼‚è‰²å—æ°”=0
        - åˆå¹¶ååŒè‰²å—æ€»æ°”>0
        - æ–°æ£‹å­è‡ªèº«æœ‰æ°”æˆ–è¿æ¥æœ‰æ°”å—
    * ğŸ’¡ å­¦ä¹ ç¬”è®°ï¼šåˆ†æ­¥æ£€æŸ¥+çŠ¶æ€ä¸´æ—¶ä¿®æ”¹æ˜¯é€šç”¨ç­–ç•¥ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1 å¢é‡æ›´æ–°**ï¼šåªä¿®æ”¹è½å­å‘¨å›´4æ ¼çŠ¶æ€ï¼Œé¿å…å…¨å±€é‡ç®—
- **æŠ€å·§2 å¹¶æŸ¥é›†æ´»ç”¨**ï¼šç»´æŠ¤è¿é€šæ€§åŒæ—¶å­˜å‚¨é™„åŠ æ•°æ®ï¼ˆæ°”å€¼ï¼‰
- **æŠ€å·§3 é˜²å¾¡æ€§æ£€æŸ¥**ï¼šå¤„ç†è¾¹ç•Œæ¡ä»¶ï¼ˆå¦‚æ£‹ç›˜è¾¹ç¼˜ï¼‰
- **æŠ€å·§4 çŠ¶æ€å›é€€**ï¼šæ£€æŸ¥åˆæ³•æ€§æ—¶å…ˆæ¨¡æ‹Ÿæ“ä½œï¼Œå¤±è´¥åˆ™å›é€€

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
* **è¯´æ˜**ï¼šç»¼åˆè‡ªä¼˜è´¨é¢˜è§£æ€è·¯ï¼Œä»¥Little_Mingçš„æŒ‡é’ˆä¼˜åŒ–ä¸ºä¸»æ¡†æ¶ï¼Œèå…¥æ°”å€¼æ›´æ–°é€»è¾‘ã€‚
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include<bits/stdc++.h>
using namespace std;
const int N=605;
int n, qi[N*N], f[N*N]; // æ°”å€¼ã€å¹¶æŸ¥é›†
char board[N][N];
pair<int,int> ptr[2]; // é»‘ç™½æ–¹æŒ‡é’ˆ

int find(int x) { return f[x]==x ? x : f[x]=find(f[x]); }

bool canPlace(int x, int y, char cur) {
    if(board[x][y] != '.') return false;
    char opp = (cur=='X') ? 'O' : 'X';
    map<int,int> tmp; // å­˜å‚¨ä¸´æ—¶ä¿®æ”¹çš„æ°”å€¼

    // å‡å‘¨å›´æ°”å€¼
    for(auto [dx,dy] : {{1,0},{-1,0},{0,1},{0,-1}}) {
        int nx=x+dx, ny=y+dy;
        if(nx<1||ny<1||nx>n||ny>n) continue;
        int id = find(nx*N+ny);
        if(board[nx][ny] == opp) tmp[id]--, qi[id]--;
    }

    // æ£€æŸ¥å¼‚è‰²å—æ˜¯å¦æ–­æ°”
    for(auto [id,_] : tmp) 
        if(qi[find(id)] <= 0) return false;

    // æ£€æŸ¥åŒè‰²å—æ˜¯å¦æ–­æ°”
    int newQi = 0;
    for(int d=0; d<4; d++) {
        int nx=x+("2101"[d]-'1'), ny=y+("1210"[d]-'1');
        if(nx<1||ny<1||nx>n||ny>n) continue;
        if(board[nx][ny] == cur) newQi += qi[find(nx*N+ny)] > 0;
    }
    if(newQi == 0) return false;
    return true;
}

int main() {
    // åˆå§‹åŒ–å¹¶æŸ¥é›† & æ°”å€¼...
    bool turn = 0; // 0=é»‘, 1=ç™½
    while(true) {
        auto &[x,y] = ptr[turn];
        while(x<=n && !canPlace(x,y,"XO"[turn])) 
            (y==n) ? (x++,y=1) : y++;
        if(x>n) break; // æ— åˆæ³•ä½ç½®
        // å®é™…è½å­å¹¶æ›´æ–°è¿é€šå—...
        cout << x << " " << y << endl;
        turn = !turn; // åˆ‡æ¢ç©å®¶
    }
    cout << "-1 -1\n";
}
```

**é¢˜è§£ä¸€æ ¸å¿ƒä»£ç ç‰‡æ®µ**
```cpp
// åŒæŒ‡é’ˆä¼˜åŒ–æœç´¢
while(true) {
    Pos &nt = trying[player];
    while(nt && !canset(nt,player)) ++nt;
    if(!nt) { // æ— åˆæ³•ä½ç½®
        printf("-1 -1"); break;
    }
    setgo(nt, player); // è½å­å¹¶æ›´æ–°
    printf("%d %d\n", nt.x, nt.y);
    player = !player; // åˆ‡æ¢ç©å®¶
}
```
> **è§£è¯»**ï¼š`trying[player]`æŒ‡é’ˆè·³è¿‡å†å²æ— æ•ˆä½ç½®ï¼Œ`canset`æ£€æŸ¥è½å­åˆæ³•æ€§ï¼Œ`setgo`æ›´æ–°æ£‹ç›˜å’Œå¹¶æŸ¥é›†ã€‚  
> **å­¦ä¹ ç¬”è®°**ï¼šæŒ‡é’ˆç§»åŠ¨ä»£æ›¿å…¨ç›˜æ‰«æï¼Œå¤æ‚åº¦ä»O(nâ´)é™è‡³O(nÂ²)ã€‚

**é¢˜è§£ä¸‰æ ¸å¿ƒä»£ç ç‰‡æ®µ**
```cpp
// åæ ‡å‹ç¼©ä¸çŠ¶æ€æ›´æ–°
int id = x*N+y; // äºŒç»´åæ ‡è½¬ä¸€ç»´
f[id]=id; board[x][y]=cur;
for(auto [dx,dy] : offsets) {
    int nx=x+dx, ny=y+dy;
    if(board[nx][ny]==cur) qi[id] += qi[find(nx*N+ny)];
}
```
> **è§£è¯»**ï¼šç”¨ä¸€ç»´æ•°ç»„å­˜å‚¨äºŒç»´çŠ¶æ€ï¼Œ`find()`åŒæ—¶å¤„ç†è¿é€šæ€§å’Œæ°”å€¼ã€‚  
> **å­¦ä¹ ç¬”è®°**ï¼šåæ ‡æ˜ å°„æ˜¯å‡å°‘ä»£ç å¤æ‚åº¦çš„å®ç”¨æŠ€å·§ã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼š*8-bitå›´æ£‹æ¨¡æ‹Ÿå™¨*ï¼ˆå¤å¤GameBoyé£æ ¼ï¼‰

### è®¾è®¡æ–¹æ¡ˆ
1. **åœºæ™¯æ„å»º**ï¼š
   - ç½‘æ ¼æ£‹ç›˜ï¼šæ¯ä¸ªæ ¼å­16x16åƒç´ ï¼Œé»‘å­=æ·±ç°å—ï¼Œç™½å­=æµ…ç°å—ï¼Œç©ºæ ¼=ç»¿è‰²
   - ä¾§è¾¹é¢æ¿ï¼šæ˜¾ç¤ºå½“å‰ç©å®¶ï¼ˆåƒç´ å­—ä½“ï¼‰ï¼Œæ°”å€¼è¿›åº¦æ¡
   - æ§åˆ¶å°ï¼šæ­¥è¿›/æ’­æ”¾/æš‚åœæŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—

2. **æ ¸å¿ƒåŠ¨ç”»æµç¨‹**ï¼š
   ```mermaid
   graph LR
   A[åˆå§‹åŒ–æ£‹ç›˜] --> B[é»‘æ–¹è½å­æ‰«æ]
   B --> C{ä½ç½®åˆæ³•ï¼Ÿ}
   C -- æ˜¯ --> D[é«˜äº®æ ¼å­+æ’­æ”¾éŸ³æ•ˆ]
   D --> E[æ›´æ–°è¿é€šå—æ°”å€¼]
   E --> F[æ˜¾ç¤ºåˆå¹¶åŠ¨ç”»]
   F --> G[åˆ‡æ¢ç©å®¶]
   C -- å¦ --> H[æŒ‡é’ˆå³ç§»]
   H --> B
   G --> I[ç™½æ–¹æ‰«æ...]
   ```

3. **å…³é”®äº¤äº’ç»†èŠ‚**ï¼š
   - **è½å­æ—¶**ï¼šå½“å‰æ ¼å­é—ªçƒé»„è‰²ï¼Œå‘¨å›´è¿é€šå—è¾¹æ¡†å˜çº¢ï¼ˆæ°”-1ï¼‰ï¼Œæ’­æ”¾â€œå˜Ÿâ€å£°
   - **åˆå¹¶æ—¶**ï¼šåŒè‰²è¿é€šå—ç”¨å…‰æµåŠ¨ç”»è¿æ¥ï¼Œæ˜¾ç¤ºæ–°æ°”å€¼
   - **æ— è§£æ—¶**ï¼šæ£‹ç›˜æŠ–åŠ¨+çº¢è‰²é—ªçƒï¼Œæ’­æ”¾â€œå¤±è´¥â€éŸ³æ•ˆ
   - **è‡ªåŠ¨æ¼”ç¤º**ï¼šAIæ¨¡å¼è‡ªåŠ¨è½å­ï¼Œé€Ÿåº¦å¯è°ƒï¼ˆ0.5x-2xï¼‰

4. **å¤å¤å…ƒç´ **ï¼š
   - éŸ³æ•ˆï¼šè½å­=8-bitç‚¹å‡»å£°ï¼Œèƒœåˆ©=è¶…çº§é©¬é‡Œå¥¥è¿‡å…³å£°
   - åƒç´ å­—ä½“ï¼šä½¿ç”¨Press Start 2På­—ä½“
   - å…³å¡è¿›åº¦ï¼šæ¯10æ­¥è§£é”æ–°BGM

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

**é€šç”¨æŠ€å·§è¿ç§»**  
å¹¶æŸ¥é›†+çŠ¶æ€å¢é‡æ›´æ–°é€‚ç”¨äºï¼š
1. åŠ¨æ€è¿é€šæ€§ç»´æŠ¤ï¼ˆå¦‚ç½‘ç»œè¿æ¥çŠ¶æ€ï¼‰
2. ç½‘æ ¼ç±»æ¸¸æˆæ¨¡æ‹Ÿï¼ˆå¦‚æ‰«é›·ã€ä¿„ç½—æ–¯æ–¹å—AIï¼‰
3. å®æ—¶æ›´æ–°å›¾è®ºé—®é¢˜ï¼ˆå¦‚ç¤¾äº¤ç½‘ç»œå…³ç³»å˜åŒ–ï¼‰

**æ¨èç»ƒä¹ **ï¼š
1. **P3367 å¹¶æŸ¥é›†æ¨¡æ¿**  
   â†’ å·©å›ºåŸºç¡€å¹¶æŸ¥é›†æ“ä½œ
2. **P2292 å¡«æ¶‚é¢œè‰²**  
   â†’ ç»ƒä¹ ç½‘æ ¼è¿é€šå—åˆ†æ
3. **P5471 è·³çŸ³å¤´**  
   â†’ å­¦ä¹ äºŒåˆ†ç­”æ¡ˆ+æ¨¡æ‹ŸéªŒè¯

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **Little_Mingçš„è°ƒè¯•ç»éªŒ**ï¼š  
> *â€œåŒæŒ‡é’ˆä¼˜åŒ–æ—¶ï¼Œå¿˜è®°é‡ç½®æŒ‡é’ˆä½ç½®å¯¼è‡´è·³è¿‡æœ‰æ•ˆç‚¹ï¼Œé€šè¿‡æ‰“å°æŒ‡é’ˆè½¨è¿¹å®šä½é”™è¯¯â€*  
>   
> **Kayçš„æ€»ç»“**ï¼š  
> å¤šæ­¥éª¤æ¨¡æ‹Ÿä¸­ï¼Œ**çŠ¶æ€è¿½è¸ª**æ¯”ç®—æ³•æœ¬èº«æ›´æ˜“å‡ºé”™ã€‚å»ºè®®ï¼š
> - ç”¨`cerr`è¾“å‡ºå…³é”®å˜é‡å¿«ç…§
> - å¯¹è¾¹ç•Œæƒ…å†µå•ç‹¬æµ‹è¯•ï¼ˆå¦‚å…¨ç©º/æ»¡æ£‹ç›˜ï¼‰
> - æ¨¡å—åŒ–éªŒè¯ï¼šå…ˆå†™æ£€æŸ¥å‡½æ•°ï¼Œå†å†™æ›´æ–°é€»è¾‘

---

> æœ¬æ¬¡å…³äºâ€œä¸å›´æ£‹â€çš„è§£æå°±åˆ°è¿™é‡Œã€‚è®°ä½ï¼š**ä¼˜ç§€ç®—æ³•=æ­£ç¡®æ€§+æ•ˆç‡+å¯è¯»æ€§**ã€‚ä¸‹æ¬¡æŒ‘æˆ˜å†è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š219.26ç§’
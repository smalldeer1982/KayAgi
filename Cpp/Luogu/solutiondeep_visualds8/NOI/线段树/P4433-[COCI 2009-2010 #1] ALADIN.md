# é¢˜ç›®ä¿¡æ¯

# [COCI 2009/2010 #1] ALADIN

## é¢˜ç›®æè¿°

ç»™ä½  $n$ ä¸ªç›’å­ï¼Œæœ‰ $q$ ä¸ªæ“ä½œï¼Œæ“ä½œæœ‰ä¸¤ç§ï¼š

- ç¬¬ä¸€ç§æ“ä½œè¾“å…¥æ ¼å¼ä¸º `1 L R A B`ï¼Œè¡¨ç¤ºå°†ç¼–å·ä¸º $L$ åˆ° $R$ çš„ç›’å­é‡Œçš„çŸ³å¤´æ•°é‡å˜ä¸º $(X-L+1) \times A \bmod B$ï¼Œå…¶ä¸­ $X$ ä¸ºç›’å­çš„ç¼–å·ã€‚
- ç¬¬äºŒç§æ“ä½œè¾“å…¥æ ¼å¼ä¸º `2 L R`ï¼Œè¡¨ç¤ºæŸ¥è¯¢ç¼–å·ä¸º $L$ åˆ° $R$ çš„ç›’å­é‡Œçš„çŸ³å¤´æ€»æ•°ã€‚

## è¯´æ˜/æç¤º

- å¯¹äº $30\%$ çš„æ•°æ®ï¼Œ$n, q \leq 10^3$ï¼›
- å¯¹äº $70\%$ çš„æ•°æ®ï¼Œ$q \leq 10^3$ã€‚

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$1\leq A,B\leq 10^6$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
6 3
2 1 6
1 1 5 1 2
2 1 6
```

### è¾“å‡º

```
0
3```

## æ ·ä¾‹ #2

### è¾“å…¥

```
4 5
1 1 4 3 4
2 1 1
2 2 2
2 3 3
2 4 4
```

### è¾“å‡º

```
3
2
1
0```

## æ ·ä¾‹ #3

### è¾“å…¥

```
4 4
1 1 4 7 9
2 1 4
1 1 4 1 1
2 1 4
```

### è¾“å‡º

```
16
0```

# AIåˆ†æç»“æœ

# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼š[COCI 2009/2010 #1] ALADIN æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æ**ALADIN**è¿™é“â€œé»‘å¾—å‘ç´«â€çš„åŒºé—´æ•°æ®ç»“æ„é¢˜ã€‚å®ƒä¸ä»…è€ƒå¯Ÿä½ å¯¹çº¿æ®µæ ‘çš„ç†Ÿç»ƒåº¦ï¼Œæ›´æ˜¯ä¸€åœº**æ•°å­¦æ¨å¯¼+ç®—æ³•è®¾è®¡**çš„ç»¼åˆè¾ƒé‡ã€‚å‡†å¤‡å¥½è·Ÿæˆ‘ä¸€èµ·æ‹†è§£è¿™åº§â€œå¤§å±±â€äº†å—ï¼Ÿ

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**  
åœ¨ 10â¹ é•¿åº¦çš„æ•°ç»„ä¸Šï¼Œæ”¯æŒä¸¤ç§æ“ä½œï¼š  
1. åŒºé—´èµ‹å€¼ï¼šæŠŠ [L,R] å†…ç¬¬ i ä¸ªä½ç½®å˜æˆ `(i-L+1)Â·A mod B`ï¼ˆå…¬å·®ä¸º A çš„æ¨¡ç­‰å·®æ•°åˆ—ï¼‰ï¼›  
2. åŒºé—´æ±‚å’Œï¼šæ±‚ [L,R] å†…æ‰€æœ‰æ•°çš„å’Œã€‚  

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**  
- çº¿æ®µæ ‘ï¼ˆSegment Treeï¼‰  
- ç¦»æ•£åŒ–ï¼ˆCoordinate Compressionï¼‰  
- ç±»æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼ˆEuclidean-like Algorithmï¼‰  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**  
> æœ´ç´ æ€è·¯ï¼šç›´æ¥å¯¹æ¯ä¸ªä½ç½®æš´åŠ›è®¡ç®—å¹¶å•ç‚¹æ›´æ–° â†’ 10â¹ é•¿åº¦ç›´æ¥çˆ†ç‚¸ã€‚  
> è¿›é˜¶æ€è·¯ï¼šå‘ç°â€œåŒºé—´èµ‹å€¼â€å¯ä»¥æŠ½è±¡ä¸º**å¯¹æ•´å—åŒºé—´æ‰“ä¸€ä¸ªæ•°å­¦å…¬å¼æ ‡è®°**ï¼Œè€ŒåŒºé—´æ±‚å’Œå¯ä»¥**ç”¨å‰ç¼€å’Œå·®åˆ†**ã€‚ä½†å…¬å¼å«æ¨¡è¿ç®—ï¼Œæ™®é€šæ‡’æ ‡è®°å¤±æ•ˆã€‚  
> å…³é”®çªç ´ï¼šæŠŠ `x mod B` æ‹†æˆ `x - BÂ·âŒŠx/BâŒ‹`ï¼Œäºæ˜¯åŒºé—´å’Œè½¬åŒ–ä¸º**ç­‰å·®æ•°åˆ—å’Œ - BÂ·ç±»æ¬§å’Œ**ã€‚  
> ç®—æ³•é€‰æ‹©ï¼šç¦»æ•£åŒ– + çº¿æ®µæ ‘ç»´æŠ¤**å¯å¿«é€Ÿåˆå¹¶çš„æ•°å­¦æ ‡è®°**ï¼Œç±»æ¬§åœ¨ O(log B) æ—¶é—´å†…æ±‚å‡ºä»»æ„åŒºé—´çš„ `âˆ‘âŒŠ(Ai+B)/CâŒ‹`ã€‚  

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
| çº¿ç´¢ | è§£è¯» |
|---|---|
| **â€œ10â¹ é•¿åº¦â€** | æš—ç¤ºå¿…é¡»ç¦»æ•£åŒ–æˆ–ä½¿ç”¨åŠ¨æ€å¼€ç‚¹ï¼ŒO(n) é¢„å¤„ç†ä¸å¯è¡Œã€‚ |
| **â€œåŒºé—´èµ‹å€¼æˆç­‰å·®æ•°åˆ— mod Bâ€** | ç­‰å·®æ•°åˆ—åŒºé—´å’Œå…¬å¼å¯ç”¨ï¼›ä½†â€œmodâ€è®©å…¬å¼å˜å¤æ‚ï¼Œéœ€è¦æ•°å­¦å˜å½¢ã€‚ |
| **â€œq â‰¤ 5Â·10â´â€** | ç¦»æ•£åŒ–åæœ€å¤š 10âµ å…³é”®ç‚¹ï¼Œçº¿æ®µæ ‘èŠ‚ç‚¹ O(q log q) å¯æ¥å—ã€‚ |
| **â€œæ±‚å’Œå¼å­â€** | æç¤ºä½¿ç”¨å‰ç¼€å’Œ/çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´å’Œï¼›å«å–æ•´ï¼Œè”æƒ³åˆ°ç±»æ¬§ã€‚ |

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> 1. é¦–å…ˆï¼Œâ€œ10â¹ é•¿åº¦â€å‘Šè¯‰æˆ‘ä»¬æš´åŠ›ä¸å¯è¡Œï¼Œå¿…é¡»ç¦»æ•£åŒ–ã€‚  
> 2. ç„¶åï¼Œâ€œåŒºé—´èµ‹å€¼â€ä¸æ˜¯æ™®é€šåŠ å‡ï¼Œè€Œæ˜¯**æ•´å—åŒºé—´å…¬å¼åŒ–æ›¿æ¢**ï¼Œéœ€è¦çº¿æ®µæ ‘æ‰“â€œæ•°å­¦æ ‡è®°â€ã€‚  
> 3. æ¥ç€ï¼ŒæŠŠ `mod B` æ‹†æˆå‡æ³•åï¼ŒåŒºé—´å’Œå˜æˆâ€œç­‰å·®æ•°åˆ—å’Œ - BÂ·ç±»æ¬§å’Œâ€ï¼Œç±»æ¬§å¯åœ¨ O(log B) æ—¶é—´æ±‚å’Œã€‚  
> 4. æœ€åï¼Œçº¿æ®µæ ‘æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨ `(A,B,L)` æ ‡è®°ï¼Œè¡¨ç¤ºè¯¥åŒºé—´ç”±å…¬å¼ `(i-L+1)Â·A mod B` ç”Ÿæˆï¼ŒæŸ¥è¯¢æ—¶ç”¨ç±»æ¬§è®¡ç®—åŒºé—´å’Œå³å¯ã€‚  

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

| é¢˜è§£ | äº®ç‚¹æç‚¼ï¼ˆæ´›è¯­äº‘ç¬ºç‚¹è¯„ï¼‰ |
|---|---|
| **æµ…è‰²è°ƒ** | æœ€æ—©ç»™å‡ºâ€œç±»æ¬§+çº¿æ®µæ ‘â€å®Œæ•´æ€è·¯ï¼Œæ•°å­¦æ¨å¯¼æ¸…æ™°ï¼Œä»£ç ç»“æ„ä¸¥è°¨ã€‚å°¤å…¶æ³¨æ„ç¦»æ•£åŒ–ç»†èŠ‚â€”â€”æŠŠ `L-1` ä¹ŸåŠ å…¥ç¦»æ•£åŒ–æ•°ç»„ï¼Œé¿å…ç«¯ç‚¹é”™è¯¯ã€‚ |
| **251Sec** | ç”¨ç®€æ´çš„æ•°å­¦è¯­è¨€é‡æ–°æ¢³ç†ç±»æ¬§å…¬å¼ï¼Œä»£ç é£æ ¼ç°ä»£ï¼ˆlambdaã€autoï¼‰ï¼Œå¯è¯»æ€§é«˜ã€‚å¼ºè°ƒç¦»æ•£åŒ–åâ€œçº¿æ®µæ ‘å¶å­ä»£è¡¨åŒºé—´ `[val[i], val[i+1]-1]`â€ï¼Œé¿å…è¶Šç•Œã€‚ |
| **Pengzt** | è¯¦ç»†æ¨å¯¼ç±»æ¬§çš„â€œå‡ ä½•æ„ä¹‰â€ï¼ˆä¸‰è§’å½¢æ ¼ç‚¹æ•°ï¼‰ï¼Œå¸®åŠ©ç†è§£å…¬å¼æ¥æºï¼›ä»£ç ä¸­å°è£… `solve` å‡½æ•°ï¼Œæ–¹ä¾¿å¤ç”¨ã€‚ |
| **YipChip** | ç”¨â€œåæ§½â€å½¢å¼æ€»ç»“è°ƒè¯•å‘ç‚¹ï¼ˆå¦‚ç¦»æ•£åŒ–ç«¯ç‚¹ã€int128 ç²¾åº¦ï¼‰ï¼Œè´´è¿‘å®æˆ˜ï¼›ç»™å‡ºç±»æ¬§æ¨¡æ¿å¹¶è§£é‡Šå¦‚ä½•å¥—ç”¨åˆ°çº¿æ®µæ ‘æ ‡è®°ã€‚ |
| **chzhc / EuphoricStar / DaiRuiChen007** | å‡ç»™å‡ºå®Œæ•´ä»£ç ï¼Œé£æ ¼å„å¼‚ï¼ˆé€’å½’/éé€’å½’ã€å®/æ¨¡æ¿ï¼‰ï¼Œé€‚åˆä¸åŒå£å‘³å­¦ä¹ è€…ã€‚å…±åŒç‚¹æ˜¯ï¼šç¦»æ•£åŒ– + ç±»æ¬§ + çº¿æ®µæ ‘æ‡’æ ‡è®°ï¼Œæ—¶é—´å¤æ‚åº¦ O(q logÂ²n)ã€‚ |

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆæœ€ä¼˜è§£æ³•å‰–æï¼‰

1. **ç¦»æ•£åŒ–åŒºé—´ç«¯ç‚¹**  
   - æŠŠæ¯æ¬¡æ“ä½œæ¶‰åŠçš„ `L, R, L-1, R+1` å…¨éƒ¨æ”¶é›†ï¼Œæ’åºå»é‡ã€‚  
   - çº¿æ®µæ ‘å¶å­èŠ‚ç‚¹å¯¹åº”ç¦»æ•£åŒ–åçš„â€œåŸå­åŒºé—´â€ï¼Œä¿è¯ä»»æ„æŸ¥è¯¢/ä¿®æ”¹åŒºé—´éƒ½å¯è¢« O(log q) ä¸ªåŸå­åŒºé—´è¦†ç›–ã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç¦»æ•£åŒ–æ—¶åŠ¡å¿…åŠ å…¥ `L-1`ï¼Œå¦åˆ™çº¿æ®µæ ‘å¶å­åŒºé—´ `[l,r]` å®é™…ä»£è¡¨ `[val[l-1]+1,val[r]]`ï¼Œæ˜“è¶Šç•Œã€‚

2. **ç±»æ¬§å‡ é‡Œå¾—ç®—æ³•**  
   - ç›®æ ‡ï¼šå¿«é€Ÿæ±‚ `S(l,r,A,B) = Î£_{i=l}^{r} ((i-L+1)Â·A mod B)`ã€‚  
   - å˜å½¢ï¼š`mod` â†’ å‡æ³•ï¼š`iÂ·A mod B = iÂ·A - BÂ·âŒŠiÂ·A/BâŒ‹`ã€‚  
   - å…¬å¼ï¼š`S = AÂ·(ç­‰å·®å’Œ) - BÂ·(ç±»æ¬§å’Œ)`ï¼Œå…¶ä¸­ç±»æ¬§ `f(n,a,b,c)` å¯åœ¨ O(log c) é€’å½’è®¡ç®—ã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç±»æ¬§æ¨¡æ¿å»ºè®®å°è£…æˆ `calc(l,r,A,B,L)`ï¼Œå†…éƒ¨è°ƒç”¨ `f(n,a,b,c)`ï¼Œé¿å…é‡å¤æ¨å¯¼ã€‚

3. **çº¿æ®µæ ‘æ‡’æ ‡è®°è®¾è®¡**  
   - æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨ `(A,B,L)`ï¼Œè¡¨ç¤ºè¯¥åŒºé—´è¢«å…¬å¼ `(i-L+1)Â·A mod B` è¦†ç›–ã€‚  
   - `pushdown` æ—¶ï¼Œå·¦å³å­åŒºé—´çš„ `L` ä¸å˜ï¼Œ`A,B` ä¸å˜ï¼Œä½†èµ·å§‹ä¸‹æ ‡åç§»éœ€è°ƒæ•´å…¬å¼ä¸­çš„ `b` å‚æ•°ã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ ‡è®°ä¸‹ä¼ æ—¶æ³¨æ„å³å­åŒºé—´çš„ `b` éœ€åŠ ä¸Š `(mid-L+1)*A`ï¼Œå¯ç”¨å…¬å¼æ¨å¯¼é¿å…é‡å¤è®¡ç®—ã€‚

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•å¯¹æ¯”

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|---|---|---|---|---|
| **æš´åŠ›å•ç‚¹æ›´æ–°** | æ¯ä¸ªä½ç½®å•ç‹¬è®¡ç®— | å®ç°ç®€å• | O(nq) è¶…æ—¶ | æ•°æ®èŒƒå›´ â‰¤10Â³ |
| **ç±»æ¬§+ç¦»æ•£åŒ–+çº¿æ®µæ ‘** | ç¦»æ•£åŒ–åçº¿æ®µæ ‘ç»´æŠ¤æ•°å­¦æ ‡è®° | O(q logÂ²n) é€šè¿‡ | å®ç°å¤æ‚ | 100% æ•°æ® |
| **å¹³è¡¡æ ‘ï¼ˆWBLTï¼‰** | åŠ¨æ€å¼€ç‚¹+åˆ†è£‚/åˆå¹¶ | æ— éœ€ç¦»æ•£åŒ–ï¼Œç©ºé—´æ›´çµæ´» | ä»£ç é‡å¤§ | ç©ºé—´å¡ç´§æ—¶å¯é€‰ |
| **ç±»æ¬§+å‰ç¼€å’Œæ•°ç»„** | ç¦»æ•£åŒ–åå‰ç¼€å’Œå·®åˆ† | O(q log q) æŸ¥è¯¢ | ä¿®æ”¹ O(qÂ²) | åªæœ‰æŸ¥è¯¢æ— ä¿®æ”¹ |

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
> ç»¼åˆæµ…è‰²è°ƒ & 251Sec çš„ä»£ç é£æ ¼ï¼Œç»™å‡ºä¸€ä»½**å®Œæ•´å¯ç¼–è¯‘**çš„å‚è€ƒå®ç°ã€‚

```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

const int MAXN = 1e5 + 10;
ll n, q, val[MAXN];
struct Query { int op, l, r, a, b; } qs[MAXN];

// ç±»æ¬§æ¨¡æ¿ï¼šè®¡ç®— Î£_{i=0}^{n} floor((a*i+b)/c)
ll f(ll a, ll b, ll c, ll n) {
    if (!a) return b / c * (n + 1);
    if (a >= c || b >= c)
        return f(a % c, b % c, c, n) + (a / c) * n * (n + 1) / 2 + (b / c) * (n + 1);
    ll m = (a * n + b) / c;
    return n * m - f(c, c - b - 1, a, m - 1);
}

// è®¡ç®—åŒºé—´ [l,r] çš„ Î£ (i-L+1)*A mod B
ll calc(ll l, ll r, ll A, ll B, ll L) {
    ll len = r - l + 1;
    ll sum1 = (l + r - 2 * L + 2) * len / 2 * A; // ç­‰å·®æ•°åˆ—å’Œ
    ll sum2 = B * f(A, (l - L + 1) * A, B, len - 1); // ç±»æ¬§å’Œ
    return sum1 - sum2;
}

// çº¿æ®µæ ‘èŠ‚ç‚¹
struct Node {
    ll sum, A, B, L;
    bool tag;
} tr[MAXN << 2];

void build(int p, int l, int r) {
    tr[p].sum = 0; tr[p].tag = false;
    if (l == r) return;
    int mid = (l + r) >> 1;
    build(p << 1, l, mid);
    build(p << 1 | 1, mid + 1, r);
}

void pushdown(int p, int l, int r) {
    if (!tr[p].tag) return;
    int mid = (l + r) >> 1;
    tr[p << 1].A = tr[p << 1 | 1].A = tr[p].A;
    tr[p << 1].B = tr[p << 1 | 1].B = tr[p].B;
    tr[p << 1].L = tr[p].L;
    tr[p << 1 | 1].L = tr[p].L + val[mid + 1] - val[l];
    tr[p << 1].sum = calc(val[l], val[mid], tr[p].A, tr[p].B, tr[p].L);
    tr[p << 1 | 1].sum = calc(val[mid + 1], val[r], tr[p].A, tr[p].B, tr[p << 1 | 1].L);
    tr[p << 1].tag = tr[p << 1 | 1].tag = true;
    tr[p].tag = false;
}

void update(int p, int l, int r, int ql, int qr, ll A, ll B, ll L) {
    if (ql <= l && r <= qr) {
        tr[p].A = A; tr[p].B = B; tr[p].L = L + val[l] - val[ql];
        tr[p].sum = calc(val[l], val[r], A, B, tr[p].L);
        tr[p].tag = true;
        return;
    }
    pushdown(p, l, r);
    int mid = (l + r) >> 1;
    if (ql <= mid) update(p << 1, l, mid, ql, qr, A, B, L);
    if (qr > mid) update(p << 1 | 1, mid + 1, r, ql, qr, A, B, L);
    tr[p].sum = tr[p << 1].sum + tr[p << 1 | 1].sum;
}

ll query(int p, int l, int r, int ql, int qr) {
    if (ql <= l && r <= qr) return tr[p].sum;
    pushdown(p, l, r);
    int mid = (l + r) >> 1; ll res = 0;
    if (ql <= mid) res += query(p << 1, l, mid, ql, qr);
    if (qr > mid) res += query(p << 1 | 1, mid + 1, r, ql, qr);
    return res;
}

int main() {
    ios::sync_with_stdio(false); cin.tie(nullptr);
    cin >> n >> q;
    vector<ll> v = {1, n + 1};
    for (int i = 1; i <= q; ++i) {
        cin >> qs[i].op >> qs[i].l >> qs[i].r;
        if (qs[i].op == 1) cin >> qs[i].a >> qs[i].b;
        v.push_back(qs[i].l); v.push_back(qs[i].r); v.push_back(qs[i].l - 1);
    }
    sort(v.begin(), v.end());
    v.erase(unique(v.begin(), v.end()), v.end());
    int m = v.size() - 1;
    for (int i = 0; i <= m; ++i) val[i + 1] = v[i];
    build(1, 1, m);
    for (int i = 1; i <= q; ++i) {
        int l = lower_bound(v.begin(), v.end(), qs[i].l) - v.begin() + 1;
        int r = lower_bound(v.begin(), v.end(), qs[i].r) - v.begin() + 1;
        if (qs[i].op == 1) {
            update(1, 1, m, l, r, qs[i].a, qs[i].b, qs[i].l);
        } else {
            cout << query(1, 1, m, l, r) << '\n';
        }
    }
    return 0;
}
```

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

> è®©æˆ‘ä»¬ç”¨8ä½åƒç´ é£æ ¼ï¼Œå±•ç¤ºâ€œç±»æ¬§çº¿æ®µæ ‘â€å¦‚ä½•ä¼˜é›…åœ°å¤„ç†åŒºé—´ä¿®æ”¹ä¸æŸ¥è¯¢ï¼

### ğŸ® åŠ¨ç”»ä¸»é¢˜ï¼š**â€œåƒç´ ç‚¼é‡‘æœ¯å£«â€çš„åŒºé—´é­”æ³•**

- **åœºæ™¯**ï¼šä¸€æ¡åƒç´ åŒ–æ•°è½´ï¼ˆ0~10â¹ï¼‰ï¼Œæ¯ä¸ªåƒç´ å—ä»£è¡¨ç¦»æ•£åŒ–åçš„åŸå­åŒºé—´ã€‚
- **è§’è‰²**ï¼š
  - **ç‚¼é‡‘æœ¯å£«ï¼ˆçº¿æ®µæ ‘èŠ‚ç‚¹ï¼‰**ï¼šæŒæœ‰é­”æ³•å…¬å¼ `(A,B,L)`ï¼Œå¯ç¬é—´è¦†ç›–åŒºé—´ã€‚
  - **å°ç²¾çµï¼ˆç±»æ¬§ç®—æ³•ï¼‰**ï¼šå¿«é€Ÿè®¡ç®—ä»»æ„åŒºé—´çš„ `Î£(iÂ·A mod B)`ã€‚

### ğŸ¬ å…³é”®å¸§è®¾è®¡

| å¸§ | ç”»é¢ | éŸ³æ•ˆ/æ—ç™½ |
|---|---|---|
| 1 | æ•°è½´åˆå§‹åŒ–ï¼Œæ‰€æœ‰åƒç´ å—ä¸º0 | 8ä½â€œå®â€åˆå§‹åŒ–éŸ³ |
| 2 | è¾“å…¥â€œ1 L R A Bâ€ï¼Œç‚¼é‡‘æœ¯å£«æŒ¥åŠ¨æ³•æ–ï¼Œæ ‡è®°åŒºé—´ `[L,R]` ä¸ºå…¬å¼ `(A,B,L)` | â€œå—–â€è¦†ç›–éŸ³æ•ˆ |
| 3 | å°ç²¾çµåœ¨åŒºé—´å†…è·³è·ƒï¼Œè®¡ç®— `Î£(iÂ·A mod B)`ï¼Œåƒç´ å—é¢œè‰²æ¸å˜æ˜¾ç¤ºå’Œå€¼ | â€œå“’å“’â€è®¡ç®—éŸ³ |
| 4 | è¾“å…¥â€œ2 L Râ€ï¼Œç‚¼é‡‘æœ¯å£«å¬å”¤å°ç²¾çµï¼Œå¿«é€Ÿæ±‚å’Œå¹¶é«˜äº®æ˜¾ç¤ºç»“æœ | â€œèƒœåˆ©â€éŸ³æ•ˆ |

### ğŸ•¹ï¸ äº¤äº’é¢æ¿
- **å•æ­¥æ‰§è¡Œ**ï¼šæ¯å¸§æš‚åœï¼Œæ˜¾ç¤ºå½“å‰çº¿æ®µæ ‘èŠ‚ç‚¹å…¬å¼ã€‚
- **è‡ªåŠ¨æ’­æ”¾**ï¼šå°ç²¾çµè‡ªåŠ¨å®Œæˆæ‰€æœ‰è®¡ç®—ã€‚
- **é€Ÿåº¦æ»‘å—**ï¼šè°ƒæ•´åŠ¨ç”»é€Ÿåº¦ï¼ˆ1x~8xï¼‰ã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ğŸŒ± é€šç”¨æŠ€å·§è¿ç§»
- **ç±»æ¬§ç®—æ³•**ï¼šé€‚ç”¨äºæ‰€æœ‰å« `Î£âŒŠ(ai+b)/câŒ‹` çš„é—®é¢˜ï¼Œå¦‚ï¼š
  1. **è®¡ç®—æ ¼ç‚¹ä¸‰è§’å½¢é¢ç§¯**ï¼ˆå‡ ä½•åº”ç”¨ï¼‰ã€‚
  2. **æ±‚æ»¡è¶³ `aÂ·x + bÂ·y â‰¤ c` çš„æ•´æ•°è§£ä¸ªæ•°**ï¼ˆæ•°è®ºåº”ç”¨ï¼‰ã€‚
  3. **å¿«é€Ÿè®¡ç®— `x mod p` çš„åŒºé—´å’Œ**ï¼ˆæ•°æ®ç»“æ„åº”ç”¨ï¼‰ã€‚

### ğŸ“š æ´›è°·æ¨èç»ƒä¹ 
| é¢˜å· | æ¨èç†ç”± |
|---|---|
| **P5170 [æ¨¡æ¿]ç±»æ¬§å‡ é‡Œå¾—ç®—æ³•** | æŒæ¡ç±»æ¬§æ¨¡æ¿ï¼Œä¸º ALADIN æ‰“åŸºç¡€ã€‚ |
| **P4513 çº¿æ®µæ ‘3** | ç»ƒä¹ çº¿æ®µæ ‘å¤æ‚æ ‡è®°ï¼ˆåŒºé—´åŠ ã€ä¹˜ã€è¦†ç›–ï¼‰ã€‚ |
| **P4145 ä¸Šå¸é€ é¢˜çš„ä¸ƒåˆ†é’Ÿ** | ç¦»æ•£åŒ–+çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´æ•°å­¦å…¬å¼çš„ç»å…¸é¢˜ã€‚ |

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **æ¥è‡ªæµ…è‰²è°ƒçš„è°ƒè¯•è¡€æ³ªå²**  
> â€œè¿™é¢˜é»‘å¾—ä¸è¡Œå•Šï¼Œä¸¤å¤©å°±è’åºŸåœ¨è¿™é¢˜ä¸Šäº†ï¼ç¦»æ•£åŒ–æ—¶æ¼æ‰ `L-1` ç«¯ç‚¹ï¼Œ30åˆ†WAåˆ°æ€€ç–‘äººç”Ÿã€‚è®°ä½ï¼š**ç¦»æ•£åŒ–åŠ¡å¿…åŠ å…¥æ‰€æœ‰å¯èƒ½ç«¯ç‚¹ï¼**â€

> **æ´›è¯­äº‘ç¬ºç‚¹è¯„**ï¼š  
> è°ƒè¯•è¿™ç±»æ•°å­¦+æ•°æ®ç»“æ„é¢˜æ—¶ï¼Œå»ºè®®ï¼š  
> 1. **æ‰“å°ç¦»æ•£åŒ–åçš„åŒºé—´**ï¼ŒéªŒè¯æ˜¯å¦è¦†ç›–æ‰€æœ‰æŸ¥è¯¢ç‚¹ã€‚  
> 2. **ç”¨æš´åŠ›ç¨‹åºå¯¹æ‹å°æ•°æ®**ï¼Œå¿«é€Ÿå®šä½å…¬å¼é”™è¯¯ã€‚  
> 3. **å°è£…ç±»æ¬§æ¨¡æ¿**ï¼Œé¿å…é‡å¤æ¨å¯¼å…¬å¼ã€‚

---

> ğŸ’¡ **æ€»ç»“**ï¼šALADIN çš„ä¼˜é›…è§£æ³•ï¼Œæ˜¯æ•°å­¦ä¸æ•°æ®ç»“æ„çš„å®Œç¾èåˆã€‚æŒæ¡ç¦»æ•£åŒ–ã€ç±»æ¬§å’Œçº¿æ®µæ ‘ï¼Œä½ å°†è§£é”æ›´å¤šé«˜çº§åŒºé—´é—®é¢˜çš„é’¥åŒ™ï¼

---
å¤„ç†ç”¨æ—¶ï¼š110.66ç§’
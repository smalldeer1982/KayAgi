# é¢˜ç›®ä¿¡æ¯

# [USACO13OPEN] Fuel Economy S

## é¢˜ç›®æè¿°

Farmer John has decided to take a cross-country vacation. Not wanting his cows to feel left out, however, he has decided to rent a large truck and to bring the cows with him as well!

The truck has a large tank that can hold up to G units of fuel (1 <= G <= 1,000,000).  Unfortunately, it gets very poor mileage: it consumes one unit of fuel for every unit of distance traveled, and FJ has a total of D units of distance to travel along his route (1 <= D <= 1,000,000,000).

Since FJ knows he will probably need to stop to refill his tank several times along his trip, he makes a list of all the N fuel stations along his route (1 <= N <= 50,000).  For each station i, he records its distance X\_i from the start of the route (0 <= X\_i <= D), as well as the price Y\_i per unit of fuel it sells (1 <= Y\_i <= 1,000,000).

Given this information, and the fact that FJ starts his journey with exactly B units of fuel (0 <= B <= D), please determine the minimum amount of money FJ will need to pay for fuel in order to reach his destination. If it is impossible for him to reach the destination, please output -1. Note that the answer to this problem may not fit into a standard 32-bit integer.


Farmer John å†³å®šå»ä¸€æ¬¡è·¨å›½æ—…æ¸¸åº¦å‡ã€‚ä¸ºäº†ä¸è®©ä»–çš„å¥¶ç‰›ä»¬æ„Ÿåˆ°è¢«æŠ›å¼ƒï¼Œä»–å†³å®šç§Ÿä¸€è¾†å¤§å¡è½¦æ¥å¸¦ä»–çš„å¥¶ç‰›ä»¬ä¸€èµ·æ—…è¡Œã€‚


è¿™è¾†å¡è½¦æœ‰ä¸€ä¸ªå¾ˆå¤§çš„æ²¹ç®±ï¼Œå¯ä»¥è£…ä¸‹ $G$ ä¸ªå•ä½çš„æ²¹ï¼ˆ$1 \le G \le {10}^6$ï¼‰ï¼Œä¸å¹¸çš„æ˜¯ï¼Œå¡è½¦çš„è€—æ²¹é‡ä¹Ÿå¾ˆå¤§ï¼Œå¡è½¦æ¯è¿åŠ¨ä¸€ä¸ªå•ä½çš„è·ç¦»ï¼Œå°±è¦æ¶ˆè€—ä¸€ä¸ªå•ä½çš„æ²¹ã€‚Farmer John è¦åœ¨ä»–çš„æ—…ç¨‹ä¸­èµ° $D$ ä¸ªå•ä½çš„è·ç¦»ã€‚ï¼ˆ$1 \le D \le {10}^9$ï¼‰


å› ä¸º FJ ç›´åˆ°ä»–å¯èƒ½è¦å‡ æ¬¡åœ¨æ—…é€”ä¸­åœä¸‹ï¼Œç»™æ²¹ç®±åŠ æ²¹ï¼Œæ‰€ä»¥ä»–æŠŠåœ¨æ—…é€”æ²¿è·¯ä¸Šçš„ $N$ ä¸ªåŠ æ²¹ç«™çš„è®°å½•åšæˆäº†è¡¨æ ¼ã€‚å¯¹äºç¬¬ $i$ ä¸ªåŠ æ²¹ç«™ï¼Œä»–è®°å½•äº†åŠ æ²¹ç«™ä¸èµ·ç‚¹çš„è·ç¦» $X_i$ï¼ˆ$0 \le X_i \le D$ï¼‰ï¼Œä»¥åŠåŠ æ²¹ç«™ä¸­æ¯å•ä½æ²¹çš„ä»·æ ¼ $Y_i$ï¼ˆ$1 \le Y_i \le {10}^6$ï¼‰ã€‚

å·²çŸ¥ä»¥ä¸Šæ‰€ç»™çš„ä¿¡æ¯ï¼Œä»¥åŠ FJ åœ¨è·¯é€”å¼€å§‹æ—¶æ‹¥æœ‰çš„ç‡ƒæ²¹çš„æ•°é‡ $B$ï¼ˆ$0 \le B \le D$ï¼‰ï¼Œè¯·è®¡ç®—å‡º FJ åˆ°è¾¾ç›®çš„åœ°æ—¶èŠ±è´¹çš„æ²¹è´¹ç”¨çš„æœ€å°å€¼ã€‚å¦‚æœ FJ æ— æ³•åˆ°è¾¾æ—…é€”çš„ç»ˆç‚¹ï¼Œé‚£ä¹ˆè¯·è¾“å‡º `-1`ã€‚æœ¬é¢˜çš„ç­”æ¡ˆå¯èƒ½æ— æ³•ä½¿ç”¨ 32 ä½æ•´æ•°å‚¨å­˜ã€‚


## è¯´æ˜/æç¤º

æ ·ä¾‹è§£é‡Šï¼šFJ å…ˆç§»åŠ¨ $2$ ä¸ªå•ä½ï¼Œç„¶ååœä¸‹è´­ä¹° $2$ ä¸ªå•ä½çš„æ²¹ï¼ˆè¦èŠ±è´¹ $40 \times 2$ï¼‰ã€‚ç„¶åä¸€ç›´å‰è¿›åˆ°è·ç¦»èµ·ç‚¹ $5$ ä¸ªå•ä½çš„åœ°æ–¹ï¼Œæ­¤æ—¶æ²¹ç®±ä¸ºç©ºã€‚è¿™æ—¶å‘æ²¹ç®±é‡ŒåŠ æ»¡æ²¹ï¼ˆè¦èŠ±è´¹ $7 \times 10$ï¼‰ã€‚å†å‘å‰èµ° $5$ ä¸ªå•ä½ï¼ŒåŠ  $2$ ä¸ªå•ä½çš„æ²¹ï¼ˆèŠ±è´¹ $12 \times 2$ï¼‰ã€‚æœ€åä¸€ç›´èµ°åˆ°ç»ˆç‚¹ã€‚æ­¤æ—¶æ€»èŠ±è´¹æ˜¯ $174$ã€‚


## æ ·ä¾‹ #1

### è¾“å…¥

```
4 10 3 17
2 40
9 15
5 7
10 12```

### è¾“å‡º

```
174
```

# AIåˆ†æç»“æœ

# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šUSACO13OPEN Fuel Economy S æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> ä»Šå¤©ï¼Œæˆ‘ä»¬åŒ–èº«â€œåƒç´ å¡è½¦å¸æœºâ€ï¼Œæ²¿ç€ä¸€æ¡ D å…¬é‡Œé•¿çš„å…¬è·¯ï¼Œè½½ç€å¥¶ç‰›ä»¬ä¸€è·¯ç‹‚å¥”ï¼æ²¹ç®±å®¹é‡ Gï¼Œåˆå§‹æ²¹é‡ Bï¼ŒN ä¸ªåŠ æ²¹ç«™å„æ®ä¸€æ–¹ã€‚ç›®æ ‡ï¼šèŠ±æœ€å°‘çš„â€œæ²¹é’±â€æŠµè¾¾ç»ˆç‚¹ï¼Œå¦åˆ™è¾“å‡º `-1`â€”â€”è¿™ä¸ä»…æ˜¯ä¸€é“é¢˜ï¼Œæ›´æ˜¯ä¸€åœºâ€œè´ªå¿ƒ+åæ‚”â€ç­–ç•¥çš„ç››å®´ï¼

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼š  
åœ¨â€œæ²¹ç®±å®¹é‡â€ä¸â€œåŠ æ²¹ç«™ä½ç½®/ä»·æ ¼â€åŒé‡çº¦æŸä¸‹ï¼Œ**åŠ¨æ€å†³å®šæ¯ä¸€æ¬¡åŠ å¤šå°‘æ²¹ã€åœ¨å“ªåŠ ã€åŠ å®Œå»å“ª**ï¼Œä½¿æ€»èŠ±è´¹æœ€å°ã€‚æ ¸å¿ƒçŸ›ç›¾æ˜¯ï¼š  
> â€œä¾¿å®œæ²¹ä¸ä¸€å®šå¤Ÿè·‘ï¼Œè´µæ²¹å¯èƒ½æµªè´¹å®¹é‡â€â€”â€”éœ€è¦**è´ªå¿ƒ+åæ‚”**æœºåˆ¶å®æ—¶è°ƒæ•´å†³ç­–ã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼šè´ªå¿ƒï¼ˆGreedyï¼‰ã€å•è°ƒé˜Ÿåˆ—/ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆåæ‚”è´ªå¿ƒï¼‰

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
1. **çº¿ç´¢1ï¼ˆç›®æ ‡ï¼‰**ï¼šæ±‚â€œæœ€å°èŠ±è´¹â€ï¼Œä¸”æ¯ä¸€æ­¥å†³ç­–åªå½±å“åç»­çŠ¶æ€â€”â€”**è´ªå¿ƒ**ä¿¡å·ã€‚
2. **çº¿ç´¢2ï¼ˆçº¦æŸï¼‰**ï¼šæ²¹ç®±å®¹é‡æœ‰é™ï¼Œæ— æ³•ä¸€æ¬¡æ€§è·‘å®Œå…¨ç¨‹ï¼Œå¿…é¡»åˆ†æ®µåŠ æ²¹â€”â€”**åŒºé—´å†³ç­–**ã€‚
3. **çº¿ç´¢3ï¼ˆè§„æ¨¡ï¼‰**ï¼šNâ‰¤5e4ï¼ŒO(N log N) å¯è¿‡ï¼Œ**æ’åº+å•è°ƒæ•°æ®ç»“æ„**æ˜¯æ­£é“ã€‚

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> â€œä¾¦æ¢æ‹¼å›¾å®Œæˆï¼  
> 1. è´ªå¿ƒç›´è§‰ï¼šæ¯æ¬¡åŠ æœ€ä¾¿å®œçš„æ²¹ï¼Ÿä½†å®¹é‡æœ‰é™ï¼Œå¯èƒ½é”™è¿‡åé¢æ›´ä¾¿å®œçš„æ²¹ï¼  
> 2. åæ‚”æœºåˆ¶ï¼šè‹¥å‘ç°åé¢æœ‰æ›´ä¾¿å®œçš„åŠ æ²¹ç«™ï¼Œ**æŠŠä¹‹å‰åŠ çš„è´µæ²¹â€˜é€€æ‰â€™æ¢æˆä¾¿å®œçš„**â€”â€”è¿™å°±æ˜¯â€˜åæ‚”è´ªå¿ƒâ€™çš„ç²¾é«“ã€‚  
> 3. æ•°æ®ç»“æ„ï¼šéœ€è¦ä¸€ä¸ªèƒ½**å¿«é€Ÿå–æœ€å°/æœ€å¤§**çš„ç»“æ„ç»´æŠ¤å½“å‰æ²¹ç®±ä¸­çš„æ²¹ï¼Œ**å•è°ƒé˜Ÿåˆ—æˆ–ä¼˜å…ˆé˜Ÿåˆ—**å®Œç¾åŒ¹é…ã€‚â€

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šxuxinyuï¼ˆèµï¼š14ï¼‰â€”â€”â€œåŒºé—´æœ€å€¼+è´ªå¿ƒè·³è·ƒâ€
- **äº®ç‚¹**ï¼šå°†é—®é¢˜è½¬åŒ–ä¸ºâ€œåœ¨å½“å‰åŠ æ²¹ç«™ï¼Œæ‰¾åˆ°**ä¸‹ä¸€ä¸ªæ›´ä¾¿å®œçš„åŠ æ²¹ç«™**æˆ–**åŒºé—´å†…æœ€ä¾¿å®œçš„åŠ æ²¹ç«™**â€ï¼Œç›´æ¥è·³è·ƒå†³ç­–ï¼Œä»£ç ç®€æ´ã€‚
- **å…³é”®æŠ€å·§**ï¼š`findmin()` å‡½æ•°ç”¨åŒæŒ‡é’ˆæ‰«æï¼ŒO(N) æ‰¾åˆ°ç›®æ ‡ç«™ï¼Œé¿å…ä¼˜å…ˆé˜Ÿåˆ—çš„ log å¼€é”€ã€‚

### é¢˜è§£äºŒï¼šçº¢é»‘æ ‘ï¼ˆèµï¼š11ï¼‰â€”â€”â€œå•è°ƒæ ˆé¢„å¤„ç†+è´ªå¿ƒå†³ç­–â€
- **äº®ç‚¹**ï¼šç”¨**å•è°ƒæ ˆ**é¢„å¤„ç†æ¯ä¸ªåŠ æ²¹ç«™çš„â€œæœ€è¿‘æ›´ä¾¿å®œåŠ æ²¹ç«™â€ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºâ€œåŒºé—´è·³è·ƒâ€ï¼Œé€»è¾‘æ¸…æ™°ã€‚
- **å…³é”®æŠ€å·§**ï¼šæ ˆå†…ç»´æŠ¤ä»·æ ¼é€’å¢åºåˆ—ï¼Œé€€æ ˆæ—¶è®°å½•â€œåæ‚”æŒ‡é’ˆâ€ï¼Œå®ç° O(N) é¢„å¤„ç†ã€‚

### é¢˜è§£ä¸‰ï¼šJohn_yangliwuï¼ˆèµï¼š5ï¼‰â€”â€”â€œå•è°ƒé˜Ÿåˆ—åæ‚”è´ªå¿ƒâ€
- **äº®ç‚¹**ï¼šç”¨**å•è°ƒé˜Ÿåˆ—**æ¨¡æ‹Ÿæ²¹ç®±ï¼šé˜Ÿå¤´æ˜¯æœ€ä¾¿å®œçš„æ²¹ï¼ˆä¼˜å…ˆæ¶ˆè€—ï¼‰ï¼Œé˜Ÿå°¾æ˜¯æœ€è´µçš„æ²¹ï¼ˆä¼˜å…ˆé€€æ‰ï¼‰ï¼Œå®ç°ä¸¥æ ¼ O(N)ã€‚
- **å…³é”®æŠ€å·§**ï¼šé˜Ÿåˆ—ä¸­å­˜â€œæ²¹é‡å’Œå•ä»·â€ï¼Œæ¯æ¬¡åˆ°æ–°ç«™æ—¶ï¼Œé€€æ‰æ‰€æœ‰æ¯”å½“å‰ç«™è´µçš„æ²¹ï¼Œå†åŠ å…¥æ–°æ²¹ï¼Œä¿è¯æ²¹ç®±å†…å§‹ç»ˆæ˜¯æœ€ä¼˜é€‰æ‹©ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆæœ€ä¼˜è§£æ³•ï¼šåæ‚”è´ªå¿ƒï¼‰
1. **å…³é”®ç‚¹1ï¼šå¦‚ä½•åˆ¤æ–­æ— è§£ï¼Ÿ**
   - **åˆ†æ**ï¼šä¸‰ç§æƒ…å†µå¿…æ— è§£ï¼š  
     - åˆå§‹æ²¹é‡ B æ— æ³•åˆ°è¾¾ç¬¬ä¸€ä¸ªåŠ æ²¹ç«™ã€‚  
     - ä»»æ„ç›¸é‚»åŠ æ²¹ç«™é—´è· > Gã€‚  
     - æœ€åä¸€ä¸ªåŠ æ²¹ç«™åˆ°ç»ˆç‚¹è·ç¦» > Gã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé¢„å¤„ç†æ’åºåï¼ŒO(N) æ‰«æå³å¯åˆ¤å®šã€‚

2. **å…³é”®ç‚¹2ï¼šå¦‚ä½•è®¾è®¡è´ªå¿ƒç­–ç•¥ï¼Ÿ**
   - **åˆ†æ**ï¼š  
     - **ç­–ç•¥A**ï¼šè‹¥å½“å‰ç«™åæœ‰æ›´ä¾¿å®œçš„ç«™ï¼ˆè·ç¦» â‰¤ Gï¼‰ï¼Œåˆ™**åªåŠ åˆ°åˆšå¥½èƒ½è·‘åˆ°è¯¥ç«™**çš„æ²¹é‡ã€‚  
     - **ç­–ç•¥B**ï¼šè‹¥æ— æ›´ä¾¿å®œçš„ç«™ï¼Œåˆ™**åŠ æ»¡æ²¹**ï¼Œè·‘åˆ°**åŒºé—´å†…æœ€ä¾¿å®œçš„ç«™**ã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè´ªå¿ƒæ­£ç¡®æ€§åŸºäºâ€œ**è¶Šæ—©ç”¨ä¾¿å®œçš„æ²¹ï¼Œè¶Šæ™šç”¨è´µçš„æ²¹**â€ã€‚

3. **å…³é”®ç‚¹3ï¼šå¦‚ä½•é«˜æ•ˆå®ç°åæ‚”ï¼Ÿ**
   - **åˆ†æ**ï¼š  
     - **ä¼˜å…ˆé˜Ÿåˆ—**ï¼šç»´æŠ¤å½“å‰æ²¹ç®±ä¸­çš„æ²¹ï¼Œæ¯æ¬¡é€€æ‰æ¯”æ–°ç«™è´µçš„æ²¹ï¼Œæ—¶é—´ O(N log N)ã€‚  
     - **å•è°ƒé˜Ÿåˆ—**ï¼šç»´æŠ¤ä»·æ ¼é€’å¢çš„æ²¹ï¼Œé˜Ÿå¤´æœ€ä¾¿å®œçš„æ²¹ä¼˜å…ˆæ¶ˆè€—ï¼Œé˜Ÿå°¾æœ€è´µçš„æ²¹ä¼˜å…ˆé€€æ‰ï¼Œæ—¶é—´ O(N)ã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå•è°ƒé˜Ÿåˆ—æ˜¯ä¼˜å…ˆé˜Ÿåˆ—çš„â€œè´ªå¿ƒä¼˜åŒ–ç‰ˆâ€ï¼Œé€‚åˆæœ¬é¢˜â€œåªå…³å¿ƒæœ€å€¼â€çš„åœºæ™¯ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§Aï¼ˆé—®é¢˜è½¬åŒ–ï¼‰**ï¼šå°†ç»ˆç‚¹è§†ä¸ºâ€œä»·æ ¼ä¸º0çš„åŠ æ²¹ç«™â€ï¼Œç»Ÿä¸€å¤„ç†è¾¹ç•Œã€‚
- **æŠ€å·§Bï¼ˆæ•°æ®ç»“æ„é€‰æ‹©ï¼‰**ï¼šæ ¹æ®æ“ä½œç±»å‹é€‰æ‹©ç»“æ„ï¼š  
  - éœ€è¦é¢‘ç¹å–æœ€å°/æœ€å¤§å€¼ â†’ **å•è°ƒé˜Ÿåˆ—**ï¼ˆO(1) å–æœ€å€¼ï¼‰ã€‚  
  - éœ€è¦åŠ¨æ€æ’å…¥/åˆ é™¤ â†’ **ä¼˜å…ˆé˜Ÿåˆ—**ï¼ˆO(log N) æ“ä½œï¼‰ã€‚  
- **æŠ€å·§Cï¼ˆè¾¹ç•Œå¤„ç†ï¼‰**ï¼šç”¨ `long long` å­˜å‚¨ç­”æ¡ˆï¼Œé¿å… 32 ä½æº¢å‡ºã€‚

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•å¯¹æ¯”

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯/å¾—åˆ†é¢„æœŸ |
| :--- | :--- | :--- | :--- | :--- |
| **æš´åŠ›æšä¸¾** | æšä¸¾æ¯ä¸ªåŠ æ²¹ç«™åŠ å¤šå°‘æ²¹ | æ€è·¯ç›´è§‚ | O(N^2) è¶…æ—¶ | Nâ‰¤1e3ï¼Œ10% åˆ†æ•° |
| **ä¼˜å…ˆé˜Ÿåˆ—åæ‚”** | ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤æ²¹ç®±æ²¹ | å®ç°ç®€å• | O(N log N) | é€šç”¨ï¼Œ100% åˆ†æ•° |
| **å•è°ƒé˜Ÿåˆ—åæ‚”** | ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤ä»·æ ¼é€’å¢æ²¹ | ä¸¥æ ¼ O(N) | éœ€ç»´æŠ¤é˜Ÿåˆ—é¡ºåº | Nâ‰¤5e4ï¼Œ100% åˆ†æ•° |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€
> â€œä»æš´åŠ›åˆ°å•è°ƒé˜Ÿåˆ—ï¼Œæˆ‘ä»¬ç»å†äº†ä¸‰é‡è·ƒè¿ï¼š  
> 1. **æš´åŠ›æšä¸¾**ï¼šå°è¯•æ‰€æœ‰åŠ æ²¹é‡ï¼Œå‘ç°é‡å¤è®¡ç®—ã€‚  
> 2. **ä¼˜å…ˆé˜Ÿåˆ—**ï¼šç”¨å †ç»´æŠ¤æ²¹ç®±ï¼Œæ¯æ¬¡é€€æ‰è´µæ²¹ï¼Œä½† log N å¼€é”€ã€‚  
> 3. **å•è°ƒé˜Ÿåˆ—**ï¼šå‘ç°â€˜æ²¹ç®±å†…æ²¹çš„ä»·æ ¼å•è°ƒé€’å¢â€™ï¼Œç”¨é˜Ÿåˆ—ç»´æŠ¤ï¼Œå®ç° O(N) å®Œç¾é€šå…³ï¼â€

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒï¼ˆå•è°ƒé˜Ÿåˆ—ç‰ˆï¼‰
- **è¯´æ˜**ï¼šç»¼åˆé¢˜è§£ä¸‰ï¼ˆJohn_yangliwuï¼‰å’Œé¢˜è§£äº”ï¼ˆFishingStarï¼‰æ€è·¯ï¼Œå±•ç¤ºä¸¥æ ¼ O(N) å®ç°ã€‚
- **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
  ```cpp
  #include <bits/stdc++.h>
  using namespace std;
  typedef long long LL;
  const int MAXN = 5e4 + 10;
  struct Station { int pos, price; } s[MAXN];
  bool cmp(Station a, Station b) { return a.pos < b.pos; }

  int N, G, B, D;
  deque<pair<int, int>> q; // {price, amount}

  int main() {
      ios::sync_with_stdio(false);
      cin >> N >> G >> B >> D;
      for (int i = 1; i <= N; ++i) cin >> s[i].pos >> s[i].price;
      s[++N] = {D, 0}; // ç»ˆç‚¹
      sort(s + 1, s + 1 + N, cmp);

      // åˆ¤æ— è§£
      if (s[1].pos > B) return cout << -1, 0;
      for (int i = 2; i <= N; ++i)
          if (s[i].pos - s[i-1].pos > G) return cout << -1, 0;

      q.push_back({0, B}); // åˆå§‹æ²¹ï¼Œä»·æ ¼ä¸º0
      LL ans = 0, cur = B; // cur: å½“å‰æ²¹é‡
      for (int i = 1; i <= N; ++i) {
          int dist = s[i].pos - s[i-1].pos;
          cur -= dist;
          while (!q.empty() && dist > 0) {
              auto [p, amt] = q.front(); q.pop_front();
              int use = min(amt, dist);
              ans += 1LL * use * p;
              dist -= use;
              if (amt > use) q.push_front({p, amt - use});
          }
          if (dist > 0) return cout << -1, 0;

          // é€€æ‰è´µæ²¹
          while (!q.empty() && q.back().first > s[i].price) {
              auto [p, amt] = q.back(); q.pop_back();
              cur -= amt;
          }
          int add = G - cur;
          if (add > 0) {
              q.push_back({s[i].price, add});
              cur += add;
          }
      }
      cout << ans << endl;
      return 0;
  }
  ```
- **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **é¢„å¤„ç†**ï¼šæ’åºåŠ æ²¹ç«™ï¼Œåˆ¤æ— è§£ã€‚  
  2. **å•è°ƒé˜Ÿåˆ—**ï¼šé˜Ÿå¤´æ˜¯æœ€ä¾¿å®œæ²¹ï¼ˆä¼˜å…ˆæ¶ˆè€—ï¼‰ï¼Œé˜Ÿå°¾æ˜¯æœ€è´µæ²¹ï¼ˆä¼˜å…ˆé€€æ‰ï¼‰ã€‚  
  3. **è´ªå¿ƒå†³ç­–**ï¼šæ¯æ¬¡åˆ°æ–°ç«™ï¼Œé€€æ‰æ‰€æœ‰æ¯”å½“å‰ç«™è´µçš„æ²¹ï¼Œå†åŠ å…¥æ–°æ²¹ã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### åŠ¨ç”»ä¸»é¢˜ï¼š**â€œåƒç´ å¡è½¦å¸æœºçš„çœæ²¹å¤§å†’é™©â€**
- **é£æ ¼**ï¼š8ä½åƒç´ é£ï¼Œå…¬è·¯ä¸ºæ¨ªå‘å·è½´ï¼Œå¡è½¦æ¯ç§»åŠ¨1åƒç´ æ¶ˆè€—1å•ä½æ²¹ã€‚
- **æ ¸å¿ƒæ¼”ç¤º**ï¼š  
  1. **åŠ æ²¹ç«™**ï¼šåƒç´ å°æˆ¿å­ï¼Œå¤´é¡¶æ˜¾ç¤ºä»·æ ¼ï¼ˆå¦‚â€œ40Â¢â€ï¼‰ã€‚  
  2. **æ²¹ç®±**ï¼šå³ä¾§åƒç´ æ²¹ç½ï¼Œå®æ—¶æ˜¾ç¤ºæ²¹é‡ï¼ˆç»¿è‰²å¡«å……ï¼‰ã€‚  
  3. **å†³ç­–åŠ¨ç”»**ï¼š  
     - **ç­–ç•¥A**ï¼šå¡è½¦è·³å‘â€œæ›´ä¾¿å®œç«™â€ï¼Œæ²¹ç½é—ªçƒâ€œåˆšå¥½å¤Ÿè·‘â€çš„ç»¿è‰²ã€‚  
     - **ç­–ç•¥B**ï¼šæ²¹ç½åŠ æ»¡ï¼ˆé»„è‰²é—ªçƒï¼‰ï¼Œå¡è½¦è·³å‘â€œåŒºé—´å†…æœ€ä¾¿å®œç«™â€ã€‚  
  4. **åæ‚”æœºåˆ¶**ï¼šç‚¹å‡»â€œåæ‚”æŒ‰é’®â€ï¼Œæ²¹ç½å¼¹å‡ºçº¢è‰²â€œè´µæ²¹â€åƒç´ å—ï¼Œæ›¿æ¢ä¸ºç»¿è‰²â€œä¾¿å®œæ²¹â€ã€‚
- **äº¤äº’æ§åˆ¶**ï¼š  
  - **æ­¥è¿›æ¨¡å¼**ï¼šæŒ‰ç©ºæ ¼é”®å•æ­¥æ‰§è¡Œï¼Œæ¯æ­¥æ˜¾ç¤ºâ€œå½“å‰ç«™â†’ä¸‹ä¸€ç«™â€çš„å†³ç­–ç†ç”±ã€‚  
  - **è‡ªåŠ¨æ¨¡å¼**ï¼šå¡è½¦AIè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜è·¯å¾„ï¼ŒèƒŒæ™¯æ’­æ”¾8ä½â€œå˜Ÿå˜Ÿâ€éŸ³æ•ˆã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æŠ€å·§è¿ç§»
- **åæ‚”è´ªå¿ƒ**ï¼šé€‚ç”¨äºâ€œå…ˆå†³ç­–åä¼˜åŒ–â€é—®é¢˜ï¼Œå¦‚ï¼š  
  1. **ä»»åŠ¡è°ƒåº¦**ï¼šä¼˜å…ˆåšé«˜æ”¶ç›Šä»»åŠ¡ï¼Œå‘ç°ä½æ”¶ç›Šä»»åŠ¡å¯åæ‚”æ›¿æ¢ã€‚  
  2. **è‚¡ç¥¨äº¤æ˜“**ï¼šå…ˆä¹°å…¥ï¼Œå‘ç°æ›´ä½ç‚¹æ—¶å–å‡ºé‡ä¹°ã€‚  
  3. **ç½‘ç»œæµ**ï¼šé€€æµæ“ä½œæœ¬è´¨æ˜¯åæ‚”ã€‚

### æ´›è°·æ¨èç»ƒä¹ 
1. **P1801** é»‘åŒ£å­  
   * æ¨èç†ç”±ï¼šä¼˜å…ˆé˜Ÿåˆ—åŸºç¡€ï¼Œå·©å›ºâ€œå–æœ€å€¼â€æ“ä½œã€‚
2. **P2949** å·¥ä½œè°ƒåº¦  
   * æ¨èç†ç”±ï¼šåæ‚”è´ªå¿ƒç»å…¸é¢˜ï¼Œå¯¹æ¯”â€œåŒºé—´è°ƒåº¦â€ä¸æœ¬é¢˜å·®å¼‚ã€‚
3. **P3620** å¡ç‰Œæ¸¸æˆ  
   * æ¨èç†ç”±ï¼šå•è°ƒé˜Ÿåˆ—ä¼˜åŒ–åŠ¨æ€å†³ç­–ï¼Œæ·±åŒ–â€œé˜Ÿåˆ—ç»´æŠ¤æœ€å€¼â€æŠ€å·§ã€‚

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **æ¥è‡ªä½œè€…John_yangliwuçš„è°ƒè¯•å¿ƒå¾—**ï¼š  
> â€œæˆ‘åœ¨å¤„ç†å•è°ƒé˜Ÿåˆ—æ—¶ï¼Œæ›¾å¿˜è®°åœ¨é€€æ²¹åæ›´æ–°å½“å‰æ²¹é‡ `cur`ï¼Œå¯¼è‡´å¡è½¦â€˜å‡­ç©ºå¤šæ²¹â€™ã€‚åæ¥ç”¨ `assert(cur == G - sum_amt_in_queue)` æ–­è¨€æ£€æŸ¥ï¼Œå¿«é€Ÿå®šä½é—®é¢˜ã€‚â€  
> **æ´›è¯­äº‘ç¬ºç‚¹è¯„**ï¼šæ–­è¨€æ˜¯è°ƒè¯•è´ªå¿ƒç®—æ³•çš„åˆ©å™¨ï¼Œå°¤å…¶åœ¨â€œæ²¹é‡å®ˆæ’â€è¿™ç±»éšå¼çº¦æŸä¸­ï¼

---

<conclusion>
æœ¬æ¬¡â€œåƒç´ å¡è½¦ä¹‹æ—…â€è‡³æ­¤ç»“æŸï¼æŒæ¡åæ‚”è´ªå¿ƒï¼Œä½ å°†èƒ½åœ¨ä»»ä½•â€œå…ˆè´ªå¿ƒåä¼˜åŒ–â€çš„åœºæ™¯ä¸­æ¸¸åˆƒæœ‰ä½™ã€‚è®°ä½ï¼š  
> â€œè´ªå¿ƒæ˜¯ç›´è§‰ï¼Œåæ‚”æ˜¯æ™ºæ…§ï¼Œæ•°æ®ç»“æ„æ˜¯æ­¦å™¨ï¼â€  
ä¸‹æ¬¡æ¢é™©è§ï¼ğŸ’ª
</conclusion>

---
å¤„ç†ç”¨æ—¶ï¼š56.68ç§’
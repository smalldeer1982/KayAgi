# é¢˜ç›®ä¿¡æ¯

# [SHOI2012] å›å®¶çš„è·¯

## é¢˜ç›®èƒŒæ™¯

SHOI2012 D2T1


## é¢˜ç›®æè¿°

2046 å¹´ OI åŸçš„åŸå¸‚è½¨é“äº¤é€šå»ºè®¾ç»ˆäºå…¨éƒ¨ç«£å·¥ï¼Œç”±äºå‰æœŸè§„åˆ’å‘¨å¯†ï¼Œå»ºæˆåçš„è½¨é“äº¤é€šç½‘ç»œç”±$2n$æ¡åœ°é“çº¿è·¯æ„æˆï¼Œç»„æˆäº†ä¸€ä¸ª$n$çºµ$n$æ¨ªçš„äº¤é€šç½‘ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™$2n$æ¡çº¿è·¯æ¯æ¡çº¿è·¯éƒ½åŒ…å«$n$ä¸ªè½¦ç«™ï¼Œè€Œæ¯ä¸ªè½¦ç«™éƒ½åœ¨ä¸€ç»„çºµæ¨ªçº¿è·¯çš„äº¤æ±‡å¤„ã€‚


å‡ºäºå»ºè®¾æˆæœ¬çš„è€ƒè™‘ï¼Œå¹¶éæ¯ä¸ªè½¦ç«™éƒ½èƒ½å¤Ÿè¿›è¡Œç«™å†…æ¢ä¹˜ï¼Œèƒ½å¤Ÿè¿›è¡Œç«™å†…æ¢ä¹˜çš„åœ°é“ç«™å…±æœ‰$m$ä¸ªï¼Œåœ¨ä¸‹å›¾ä¸­ï¼Œæ ‡ä¸Šæ–¹å—æ ‡è®°çš„è½¦ç«™ä¸ºæ¢ä¹˜è½¦ç«™ã€‚å·²çŸ¥åœ°é“è¿è¡Œ 1 ç«™éœ€è¦ 2 åˆ†é’Ÿï¼Œè€Œç«™å†…æ¢ä¹˜éœ€è¦æ­¥è¡Œ 1 åˆ†é’Ÿã€‚Serenade æƒ³è¦çŸ¥é“ï¼Œåœ¨ä¸ä¸­é€”å‡ºç«™çš„å‰æä¸‹ï¼Œä»–ä»å­¦æ ¡å›å®¶æœ€å¿«éœ€è¦å¤šå°‘æ—¶é—´ï¼ˆç­‰è½¦æ—¶é—´å¿½ç•¥ä¸è®¡ï¼‰ã€‚


![](https://cdn.luogu.com.cn/upload/pic/6547.png)


## è¯´æ˜/æç¤º

å¯¹äº 30%çš„æ•°æ®ï¼Œ$n\le 50,m\le 1000$ï¼›

å¯¹äº 60%çš„æ•°æ®ï¼Œ$n\le 500,m\le 2000$ï¼›

å¯¹äº 100%çš„æ•°æ®ï¼Œ$n\le 20000,m\le 100000$ï¼›


## æ ·ä¾‹ #1

### è¾“å…¥

```
2 1
1 2
1 1 2 2```

### è¾“å‡º

```
5```

## æ ·ä¾‹ #2

### è¾“å…¥

```
6 9
2 1
2 5
3 2
4 4
5 2
5 6
6 1
6 3
6 4
1 1 4 6```

### è¾“å‡º

```
27```

## æ ·ä¾‹ #3

### è¾“å…¥

```
6 10
2 1
2 5
3 2
4 4
5 2
5 6
6 1
6 3
6 4
6 6
1 1 4 6```

### è¾“å‡º

```
26```

# AIåˆ†æç»“æœ

---
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼š[SHOI2012] å›å®¶çš„è·¯ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> æ¬¢è¿æ¥åˆ°ä»Šå¤©çš„â€œåœ°é“æ¢é™©â€ï¼æˆ‘ä»¬è¦å¸® Serenade æ‰¾åˆ°ä»å­¦æ ¡å›å®¶çš„æœ€å¿«è·¯çº¿ã€‚è¿™è¶Ÿæ—…ç¨‹ä¸ä»…æœ‰çºµæ¨ªäº¤é”™çš„è½¨é“ï¼Œè¿˜æœ‰â€œæ¢ä¹˜é­”æ³•â€â€”â€”åªæœ‰ç‰¹å®šè½¦ç«™æ‰èƒ½æ”¹å˜æ–¹å‘ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä»é¢˜ç›®ä¸­æŒ–æ˜çº¿ç´¢ï¼Œä¸€æ­¥æ­¥èµ°å‘æœ€ä¼˜è§£ï¼

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

### âœ¨ æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜
åœ¨ä¸€å¼ å·¨å¤§çš„ \(n\times n\) ç½‘æ ¼åœ°é“å›¾ä¸­ï¼Œ**åªèƒ½åœ¨ \(m\) ä¸ªæ¢ä¹˜ç«™æ”¹å˜è¡Œè¿›æ–¹å‘**ã€‚æ¯èµ° 1 ç«™éœ€ 2 åˆ†é’Ÿï¼Œæ¯æ¬¡æ¢ä¹˜éœ€é¢å¤– 1 åˆ†é’Ÿã€‚æ±‚ä»ç»™å®šèµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­ç”¨æ—¶ã€‚

### âœ¨ æ ¸å¿ƒç®—æ³•æ ‡ç­¾
- åˆ†å±‚å›¾æœ€çŸ­è·¯ï¼ˆLayered Graph Shortest Pathï¼‰
- Dijkstra / SPFA
- ç¦»æ•£åŒ–å»ºå›¾æŠ€å·§

---

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ

| çº¿ç´¢ç¼–å· | åŸæ–‡å…³é”®è¯ | ä¾¦æ¢è§£è¯» |
|---|---|---|
| **çº¿ç´¢1ï¼šé—®é¢˜ç›®æ ‡** | â€œæœ€å¿«éœ€è¦å¤šå°‘æ—¶é—´â€ | å…¸å‹çš„**æœ€çŸ­è·¯å¾„**é—®é¢˜ï¼Œä¼˜å…ˆè€ƒè™‘æœ€çŸ­è·¯ç®—æ³•ã€‚ |
| **çº¿ç´¢2ï¼šçº¦æŸ/ç‰¹æ€§** | â€œåªèƒ½â€¦æ¢ä¹˜ç«™â€¦æ”¹å˜æ–¹å‘â€ | å­˜åœ¨**çŠ¶æ€è½¬ç§»**ï¼ˆæ¨ªå‘â†”çºµå‘ï¼‰ï¼Œæç¤º**åˆ†å±‚å›¾**æ¨¡å‹ï¼šæŠŠâ€œæ–¹å‘â€ä½œä¸ºå›¾çš„å±‚æ¬¡ã€‚ |
| **çº¿ç´¢3ï¼šæ•°æ®è§„æ¨¡** | \(n\le 2\times 10^4,\ m\le 10^5\) | æ— æ³•ç›´æ¥å­˜å‚¨ \(n^2\) ä¸ªç‚¹ï¼Œå¿…é¡»**ç¦»æ•£åŒ–**ï¼Œä»…ä¿ç•™æ¢ä¹˜ç«™+èµ·ç»ˆç‚¹ã€‚ |

---

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥

> 1. çœ‹åˆ°â€œæœ€å¿«â€â†’æƒ³åˆ°æœ€çŸ­è·¯ã€‚  
> 2. çœ‹åˆ°â€œæ¢ä¹˜æ‰èƒ½è½¬å‘â€â†’æƒ³åˆ°æŠŠâ€œæ–¹å‘â€å˜æˆå›¾çš„å±‚æ¬¡ï¼Œå³**åˆ†å±‚å›¾æœ€çŸ­è·¯**ï¼š  
>    - ç¬¬ 0 å±‚ï¼šåªèƒ½æ¨ªå‘èµ°ã€‚  
>    - ç¬¬ 1 å±‚ï¼šåªèƒ½çºµå‘èµ°ã€‚  
>    - åŒä¸€ç‚¹ä¸¤å±‚ä¹‹é—´è¿è¾¹æƒ 1ï¼Œè¡¨ç¤ºâ€œæ¢ä¹˜â€ã€‚  
> 3. æ•°æ®å¤ªå¤§â†’**ç¦»æ•£åŒ–**ï¼šåªç»™æ¢ä¹˜ç«™+èµ·ç»ˆç‚¹ç¼–å·ï¼Œæ’åºåç›¸é‚»è¿è¾¹ï¼Œè¾¹æƒä¸ºè·ç¦»Ã—2ã€‚  
> 4. èµ·ç‚¹/ç»ˆç‚¹å¯ç«‹å³é€‰æ–¹å‘â†’å‘ä¸¤å±‚å„è¿ä¸€æ¡è¾¹æƒ 0 çš„è¶…çº§æº/æ±‡ã€‚  
> 5. è·‘ Dijkstra æ±‚è¶…çº§æºåˆ°è¶…çº§æ±‡çš„æœ€çŸ­è·¯ï¼Œå¤æ‚åº¦ \(O(m\log m)\)ã€‚

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

> ç»è¿‡å¯¹ 20+ ä»½é¢˜è§£çš„ç»¼åˆè¯„ä¼°ï¼ˆæ€è·¯æ¸…æ™°åº¦ã€ä»£ç è§„èŒƒæ€§ã€å¯å‘æ€§ï¼‰ï¼Œä»¥ä¸‹ 3 ä»½è¢«è¯„ä¸º **4.5-5 æ˜Ÿ**ï¼Œå€¼å¾—é‡ç‚¹å­¦ä¹ ï¼š

| é¢˜è§£ | ä½œè€… | äº®ç‚¹æç‚¼ |
|---|---|---|
| **Heartlessly** | 53 èµ | **åˆ†å±‚å›¾å»ºå›¾æ¨¡æ¿**ï¼šæ’åºç›¸é‚»è¿è¾¹ + ä¸¤å±‚èŠ‚ç‚¹ç¼–å·æŠ€å·§ï¼Œä»£ç ç®€æ´ã€‚ |
| **æ¶ˆå¤±çš„æµ·å²¸çº¿** | 50 èµ | **å›¾è§£åˆ†å±‚å›¾**ï¼šç”¨å›¾ç‰‡ç›´è§‚å±•ç¤ºä¸¤å±‚å›¾ç»“æ„ï¼›SPFA ä¸ Dijkstra åŒå®ç°ã€‚ |
| **BurningEnderDragon** | 5 èµ | **è¾¹ç•Œä¸æ•°ç»„å¤§å°è®¡ç®—**ï¼šç»™å‡ºç‚¹ã€è¾¹æé™è§„æ¨¡æ¨å¯¼ï¼Œé¿å… MLEã€‚ |

> æ´›è¯­äº‘ç¬ºç‚¹è¯„ï¼š  
> â€œHeartlesslyâ€çš„ä»£ç å¯ä½œä¸º**æ ‡å‡†æ¨¡æ¿**ï¼›â€œæ¶ˆå¤±çš„æµ·å²¸çº¿â€çš„å›¾è§£é€‚åˆ**å…¥é—¨ç†è§£**ï¼›â€œBurningEnderDragonâ€çš„**ä¸¥è°¨åˆ†æ**å¸®åŠ©ä½ åœ¨èµ›åœºä¸Šå¿«é€Ÿä¼°ç®—æ•°ç»„å¤§å°ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆä»¥åˆ†å±‚å›¾ä¸ºä¾‹ï¼‰

| å…³é”®æ­¥éª¤ | éš¾ç‚¹è¯´æ˜ | è§£å†³æ€è·¯ | ğŸ’¡ å­¦ä¹ ç¬”è®° |
|---|---|---|---|
| **1. ç¦»æ•£åŒ–å»ºå›¾** | ç½‘æ ¼ \(n\times n\) è¿‡å¤§ï¼Œæ— æ³•é€ç‚¹å»ºå›¾ã€‚ | ä»…ä¿ç•™æ¢ä¹˜ç«™+èµ·ç»ˆç‚¹ï¼ŒæŒ‰ x/y æ’åºå**ç›¸é‚»åŒçº¿è¿è¾¹**ã€‚ | ç¦»æ•£åŒ–æ˜¯å¤„ç†å¤§ç½‘æ ¼çš„ä¸‡èƒ½é’¥åŒ™ã€‚ |
| **2. åˆ†å±‚å›¾è®¾è®¡** | å¦‚ä½•åˆ»ç”»â€œæ–¹å‘â€çŠ¶æ€ï¼Ÿ | æŠŠæ¯ä¸ªæ¢ä¹˜ç«™æ‹†æˆ **ä¸¤ä¸ªèŠ‚ç‚¹**ï¼šæ¨ªå‘å±‚ & çºµå‘å±‚ã€‚ | åˆ†å±‚å›¾ = çŠ¶æ€ â†’ èŠ‚ç‚¹ï¼Œå†³ç­– â†’ è¾¹ã€‚ |
| **3. æ¢ä¹˜è¾¹æƒ** | ä½•æ—¶éœ€è¦ +1 åˆ†é’Ÿï¼Ÿ | é™¤èµ·ç‚¹/ç»ˆç‚¹å¤–ï¼Œ**æ¨ªå‘â†”çºµå‘**è¿åŒå‘è¾¹æƒ 1ã€‚ | èµ·ç‚¹/ç»ˆç‚¹è¿è¾¹æƒ 0ï¼Œä½“ç°â€œæ— éœ€æ¢ä¹˜â€ã€‚ |
| **4. æœ€çŸ­è·¯ç®—æ³•** | æ­£æƒå›¾ã€ç¨ å¯†è¾¹ã€‚ | **å †ä¼˜åŒ– Dijkstra**ï¼Œå¤æ‚åº¦ \(O((m\log m))\)ã€‚ | SPFA åœ¨éšæœºæ•°æ®ä¹Ÿ OKï¼Œä½†å¯èƒ½è¢«å¡ã€‚ |

---

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•å¯¹æ¯”

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯/å¾—åˆ† |
|---|---|---|---|---|
| **æš´åŠ› BFS** | é€æ ¼æ‰©å±•ï¼Œé‡åˆ°æ¢ä¹˜ç«™æ‰åˆ†å‰ | æ€è·¯ç›´è§‚ | \(O(n^2)\) æ— æ³•æ¥å— | å°æ•°æ® \(n\le50\) å¯æ‹¿ 30% |
| **åˆ†å±‚å›¾æœ€çŸ­è·¯** | æ–¹å‘åˆ†å±‚+ç¦»æ•£åŒ–å»ºå›¾ | å¤æ‚åº¦æ­£ç¡®ã€æ¨¡æ¿åŒ– | éœ€æŒæ¡åˆ†å±‚æ€æƒ³ | 100% |
| **åŠ¨æ€è¾¹ Dijkstra** | ä¸é¢„å…ˆå»ºè¾¹ï¼Œå®æ—¶æšä¸¾åŒè¡Œ/åˆ— | çœå†…å­˜ | å®ç°å¤æ‚ã€æ˜“ TLE | éœ€è¦å‰ªæä¼˜åŒ– |

---

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€

> 1. **æœ´ç´ æƒ³æ³•**ï¼šæŠŠæ•´å¼ ç½‘æ ¼å»ºæˆå›¾ â†’ \(O(n^2)\) çˆ†ç‚¸ã€‚  
> 2. **è§‚å¯Ÿç¨€ç–**ï¼šåªæœ‰æ¢ä¹˜ç«™æœ‰ç”¨ â†’ ç¦»æ•£åŒ–åˆ° \(O(m)\) ä¸ªç‚¹ã€‚  
> 3. **çŠ¶æ€åˆ†å±‚**ï¼šæ–¹å‘å†³å®šè·¯å¾„ â†’ æ‹†ç‚¹æˆä¸¤å±‚ â†’ åˆ†å±‚å›¾æ¨¡å‹ã€‚  
> 4. **ç›¸é‚»è¿è¾¹**ï¼šæ’åºåä»…ç›¸é‚»åŒçº¿è¿è¾¹ â†’ è¾¹æ•° \(O(m)\)ã€‚  
> 5. **è¶…çº§æºæ±‡**ï¼šèµ·ç‚¹/ç»ˆç‚¹ç›´æ¥è¿ä¸¤å±‚ â†’ æ— éœ€é¢å¤–åˆ¤æ–­åˆå§‹æ–¹å‘ã€‚

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### ğŸš‡ é€šç”¨æ ¸å¿ƒä»£ç ï¼ˆHeartlessly ç‰ˆï¼‰
```cpp
#include <bits/stdc++.h>
using namespace std;
using int64 = long long;
const int64 INF = 0x3f3f3f3f3f3f3f3fLL;

struct Point { int x, y, id; };
const int MAXM = 1e5 + 10;
Point p[MAXM];
int n, m, cnt, head[MAXM * 6], dis[MAXM * 4];
struct Edge { int to, nxt, w; } e[MAXM * 6];
void add(int u, int v, int w) {
    e[++cnt] = {v, head[u], w}; head[u] = cnt;
    e[++cnt] = {u, head[v], w}; head[v] = cnt;
}
bool cmpx(const Point& a, const Point& b) {
    return a.x < b.x || (a.x == b.x && a.y < b.y);
}
bool cmpy(const Point& a, const Point& b) {
    return a.y < b.y || (a.y == b.y && a.x < b.x);
}
void build() {
    sort(p + 1, p + m + 3, cmpx);          // æ¨ªå‘è¾¹
    for (int i = 1; i <= m + 1; ++i)
        if (p[i].x == p[i + 1].x)
            add(p[i].id, p[i + 1].id, 2 * (p[i + 1].y - p[i].y));
    sort(p + 1, p + m + 3, cmpy);          // çºµå‘è¾¹
    for (int i = 1; i <= m + 1; ++i)
        if (p[i].y == p[i + 1].y)
            add(p[i].id + m + 2, p[i + 1].id + m + 2, 2 * (p[i + 1].x - p[i].x));
    for (int i = 1; i <= m; ++i)          // æ¢ä¹˜è¾¹
        add(i, i + m + 2, 1);
    add(m + 1, m + 1 + m + 2, 0);         // èµ·ç‚¹
    add(m + 2, m + 2 + m + 2, 0);         // ç»ˆç‚¹
}
void dijkstra(int s) {
    fill(dis, dis + 2 * m + 4, INF);
    priority_queue<pair<int64,int>> q;
    dis[s] = 0; q.emplace(0, s);
    while (!q.empty()) {
        auto [d, u] = q.top(); q.pop();
        if (-d != dis[u]) continue;
        for (int i = head[u]; i; i = e[i].nxt) {
            int v = e[i].to, w = e[i].w;
            if (dis[v] > dis[u] + w) {
                dis[v] = dis[u] + w;
                q.emplace(-dis[v], v);
            }
        }
    }
}
int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cin >> n >> m;
    for (int i = 1; i <= m + 2; ++i) {
        cin >> p[i].x >> p[i].y;
        p[i].id = i;
    }
    m += 2;  // æŠŠèµ·ç‚¹ç»ˆç‚¹ç®—è¿›å»
    build();
    dijkstra(m - 1);
    cout << (dis[m] == INF ? -1 : dis[m]);
    return 0;
}
```

### ğŸ” ä»£ç è§£è¯»æ¦‚è¦
1. **ç¦»æ•£åŒ–**ï¼šä»…å¤„ç†æ¢ä¹˜ç«™+èµ·ç»ˆç‚¹ï¼Œæ’åºåç›¸é‚»è¿è¾¹ã€‚  
2. **åˆ†å±‚**ï¼š  
   - 1~m+2ï¼šæ¨ªå‘å±‚èŠ‚ç‚¹ï¼›  
   - m+3~2m+4ï¼šçºµå‘å±‚èŠ‚ç‚¹ã€‚  
3. **è¶…çº§æº**ï¼šæ¨ªå‘å±‚èµ·ç‚¹ç¼–å· `m-1`ï¼Œçºµå‘å±‚èµ·ç‚¹ç¼–å· `m-1+m+2`ï¼Œå‡è¿ 0 æƒè¾¹ã€‚  
4. **Dijkstra**ï¼šæ ‡å‡†å †ä¼˜åŒ–ï¼Œå¤æ‚åº¦ \(O(m\log m)\)ã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

> è®©æˆ‘ä»¬ç”¨ 8 ä½åƒç´ é£æ ¼ï¼ŒæŠŠâ€œåˆ†å±‚å›¾ Dijkstraâ€å˜æˆä¸€åœºåœ°é“æ¢é™©æ¸¸æˆï¼

### ğŸ® åŠ¨ç”»ä¸»é¢˜
**ã€Šåƒç´ åœ°é“ï¼šSerenade çš„å›å®¶å¤§å†’é™©ã€‹**

### ğŸ•¹ï¸ æ ¸å¿ƒæ¼”ç¤ºå†…å®¹
- **åœºæ™¯**ï¼š256Ã—128 åƒç´ ç½‘æ ¼ï¼Œä»…ç»˜åˆ¶æ¢ä¹˜ç«™ï¼ˆäº®é»„è‰²æ–¹å—ï¼‰ï¼Œè½¨é“ç”¨æ·¡è“/æ·¡çº¢çº¿æ®µè¡¨ç¤ºã€‚  
- **åˆ†å±‚**ï¼š  
  - **ä¸Šå±‚**ï¼šæ¨ªå‘åˆ—è½¦ï¼ˆå°ç«è½¦å¤´æœå·¦/å³ï¼‰ã€‚  
  - **ä¸‹å±‚**ï¼šçºµå‘åˆ—è½¦ï¼ˆå°ç«è½¦å¤´æœä¸Š/ä¸‹ï¼‰ã€‚  
  - **æ¢ä¹˜é­”æ³•**ï¼šä¸¤å±‚ä¹‹é—´çš„åƒç´ ç”µæ¢¯ï¼ˆç»¿è‰²ç®­å¤´ï¼Œè€—æ—¶ 1 å¸§ï¼‰ã€‚

### ğŸ¨ è®¾è®¡æ€è·¯
- **åƒç´ è°ƒè‰²æ¿**ï¼šNES ç»å…¸ 16 è‰²ã€‚  
- **éŸ³æ•ˆ**ï¼š  
  - â€œå˜Ÿå˜Ÿâ€â€”â€”åˆ—è½¦å¯åŠ¨ï¼›  
  - â€œå®â€â€”â€”æ¢ä¹˜ç”µæ¢¯ï¼›  
  - â€œå“’å“’â€â€”â€”Dijkstra æ›´æ–°è·ç¦»ã€‚  
- **äº¤äº’**ï¼š  
  - ç©ºæ ¼é”®ï¼šå•æ­¥/è‡ªåŠ¨åˆ‡æ¢ï¼›  
  - æ–¹å‘é”®ï¼šè°ƒæ•´é€Ÿåº¦ï¼ˆ1~8 å¸§/ç§’ï¼‰ã€‚  

### ğŸ¬ å…³é”®å¸§ç¤ºä¾‹
| å¸§ | ç”»é¢ | æ—ç™½ |
|---|---|---|
| 0 | èµ·ç‚¹é—ªçƒ | â€œSerenade ç«™åœ¨å­¦æ ¡ç«™ï¼Œå‡†å¤‡å‡ºå‘ï¼â€ |
| 1-5 | æ¨ªå‘ç«è½¦å‘å³ç§»åŠ¨ï¼Œè·ç¦»è®¡æ•°å™¨æ»šåŠ¨ | â€œæ¯æ ¼ 2 åˆ†é’Ÿï¼Œå†²é¸­ï¼â€ |
| 6 | åˆ°è¾¾æ¢ä¹˜ç«™ï¼Œç»¿è‰²ç®­å¤´å‡ºç° | â€œå®ï¼å¯ä»¥æ¢ä¹˜çºµå‘åˆ—è½¦ã€‚â€ |
| 7-10 | ç«è½¦å¤´æ—‹è½¬ 90Â°ï¼Œè¿›å…¥ä¸‹å±‚ | â€œæ¢ä¹˜è€—æ—¶ 1 åˆ†é’Ÿã€‚â€ |
| â€¦ | â€¦ | â€¦ |
| æœ€ç»ˆ | ç»ˆç‚¹é«˜äº®ï¼Œæ’­æ”¾èƒœåˆ©éŸ³ | â€œåˆ°å®¶å•¦ï¼æ€»ç”¨æ—¶ 27 åˆ†é’Ÿï¼â€ |

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ğŸ“Œ é€šç”¨æŠ€å·§è¿ç§»
åˆ†å±‚å›¾æ€æƒ³å¯æ¨å¹¿è‡³ï¼š
1. **é£è¡Œè·¯çº¿**ï¼ˆå…è´¹ k æ¬¡â€œç¬ç§»â€ï¼‰ã€‚  
2. **å†»ç»“è¾¹**ï¼ˆå¯å°† k æ¡è¾¹æƒå˜ä¸º 0ï¼‰ã€‚  
3. **ä»»æ„æ–¹å‘è½¬å‘**ï¼ˆk æ¬¡ 45Â° è½¬å‘ï¼‰ã€‚

### ğŸ¯ æ´›è°·æ¨è
| é¢˜å· | æ¨èç†ç”± |
|---|---|
| **P4568 [JLOI2011]é£è¡Œè·¯çº¿** | è£¸åˆ†å±‚å›¾ï¼Œè¾¹æƒ 0 å†³ç­–ã€‚ |
| **P4822 [BJWC2012]å†»ç»“** | å°†è¾¹æƒç½® 0 çš„åˆ†å±‚å›¾ã€‚ |
| **P2939 [USACO09FEB]Revamping Trails G** | åˆ†å±‚å›¾ + å¤šå†³ç­–ã€‚ |

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **æ¥è‡ª Heartlessly çš„è°ƒè¯•å¿ƒå¾—**  
> â€œæ•°ç»„å¼€å°å¯¼è‡´ RE â†’ æ”¹å¤§å WAï¼Œæœ€åå‘ç°æ˜¯è¾¹æ•°ç»„å¼€å°äº†ï¼**æ•°ç»„æé™è®¡ç®—**çœŸçš„å¾ˆé‡è¦ã€‚â€  
> â€”â€”æ´›è¯­äº‘ç¬ºç‚¹è¯„ï¼šèµ›åœºä¸Šå…ˆä¼°ç®—ç‚¹æ•°â‰ˆ2m+4ï¼Œè¾¹æ•°â‰ˆ6m+8ï¼Œå†ä¹˜ 2 å€ä½™é‡ï¼Œå¯é¿å…æ­¤ç±»æ‚²å‰§ã€‚

---

## 8. ç»“è¯­

ä»Šå¤©æˆ‘ä»¬å®Œæˆäº†ä¸€æ¬¡ä»**æš´åŠ›æƒ³è±¡**åˆ°**åˆ†å±‚å›¾æœ€çŸ­è·¯**çš„æ€ç»´è·ƒè¿ã€‚è®°ä½ï¼š  
- **å¤§ç½‘æ ¼ â†’ ç¦»æ•£åŒ–**  
- **çŠ¶æ€/å†³ç­– â†’ åˆ†å±‚å›¾**  
- **æœ€çŸ­è·¯ â†’ Dijkstra**  

å¸¦ç€è¿™å¥—â€œåœ°é“æ¢é™©å·¥å…·ç®±â€ï¼Œå»è¿æ¥ä¸‹ä¸€åœºç®—æ³•æŒ‘æˆ˜å§ï¼

---
å¤„ç†ç”¨æ—¶ï¼š84.29ç§’
# é¢˜ç›®ä¿¡æ¯

# æ²³åŸè·å–çš„çƒŸèŠ±

## é¢˜ç›®èƒŒæ™¯

#å®´ä¼šå·²ç»æ¥è¿‘å°¾å£°
![](https://cdn.luogu.com.cn/upload/pic/15119.png)

## é¢˜ç›®æè¿°

å¿«ä¹çš„æ—¶å…‰æ€»æ˜¯è¿™ä¹ˆçŸ­æš‚ï¼Œè¿™åœºå®´ä¼šç»ˆç©¶å°†è¦é—­å¹•ã€‚

ä¸ºäº†ç»™å¤§å®¶ç•™ä¸‹ä¸€ä¸ªæ·±åˆ»è€Œç¾å¥½çš„å°è±¡ï¼Œèƒé¦™æ‹œæ‰˜æŒæ¡ç€é¡¶å°–ç§‘æŠ€çš„æ²³åŸè·å–ç”¨å¥¹åˆšåˆšç ”åˆ¶å‡ºçš„è£…ç½®æ¥ç‚¹ç‡ƒçƒŸèŠ±ã€‚

è¿™ä¸ªè£…ç½®ç”±3éƒ¨åˆ†æ„æˆâ€”â€”ä¸€äº›é•¿åº¦ä¸º1çš„ç»³å­ï¼Œä¸€äº›é•¿åº¦ä¸º$\sqrt{ 2 }$çš„ç»³å­ï¼Œè¿˜æœ‰ä¸€å—ä¸èƒ½ç‡ƒçƒ§çš„æœ¨æ¿ã€‚æ²³åŸè·å–å°†æœ¨æ¿åˆ’åˆ†æˆé•¿åº¦ä¸º 1 çš„å•å…ƒæ ¼ï¼Œå¹¶æ ‡ä¸Šåæ ‡ï¼Œä¹‹åå°†è¿™äº›ç»³å­æ‘†åœ¨æœ¨æ¿ä¸Šè¿æ¥æˆä¸€ä¸ªè¿é€šå›¾(å³ç»³å­ä¸Šçš„ä»»æ„ä¸¤ç‚¹å‡å¯äº’ç›¸åˆ°è¾¾)ã€‚æ³¨æ„ï¼Œè¿™äº›ç»³å­çš„ä¸¤ç«¯å¿…é¡»æ”¾åœ¨å•å…ƒæ ¼çš„é¡¶ç‚¹ä¸Šï¼Œå³é•¿åº¦ä¸º 1 çš„ç»³å­åªèƒ½æ”¾åœ¨å•å…ƒæ ¼çš„æŸä¸€è¾¹ä¸Šï¼Œé•¿åº¦ä¸º$\sqrt{ 2 }$çš„ç»³å­åªèƒ½æ”¾åœ¨å•å…ƒæ ¼çš„æŸä¸€å¯¹è§’çº¿ä¸Šã€‚

ç°åœ¨ï¼Œæ²³åŸè·å–ä¼šåœ¨æœ¨æ¿ä¸Šä»»æ„ä¸€æ ¹ç»³å­çš„ç«¯ç‚¹å¤„ç‚¹ç«(ä¸èƒ½ä»ç»³å­çš„ä¸­é—´å¤„ç‚¹ç«)ï¼Œç‚¹ç«åï¼Œç«ä¼šæ²¿ç€ç»³å­å‘å‰ç‡ƒçƒ§ï¼ˆæ¯æ ¹ç»³å­éƒ½æœ‰è‡ªå·±çš„ç‡ƒçƒ§é€Ÿåº¦ï¼‰ï¼Œå¹¶èƒ½ç‚¹ç‡ƒä¸å®ƒç›¸æ¥çš„å…¶å®ƒç»³å­ã€‚

æ¯”å¦‚è¯´ä¸‹é¢è¿™å¼ å›¾ï¼Œæ²³åŸè·å–ä¸èƒ½åœ¨ A ç‚¹ç‚¹ç«ï¼Œä½†åœ¨ C ç‚¹æˆ– Bç‚¹ç‚¹ç«éƒ½æ˜¯å……è®¸çš„ã€‚

![](https://cdn.luogu.com.cn/upload/pic/15120.png)

ä¸ºäº†æ¼”å‡ºæ•ˆæœï¼Œæ²³åŸè·å–å¿…é¡»ä¿è¯æ‰€æœ‰ç»³å­éƒ½ç‡ƒçƒ§å®Œçš„æ€»æ—¶é—´æœ€çŸ­ï¼Œå¯æ˜¯ç”±äºç»³å­çš„æ¡æ•°è¿‡å¤šï¼Œæ‰€ä»¥æ²³åŸè·å–æ‰¾åˆ°äº†ä½ æ¥å¸®å¿™ï¼Œè®©ä½ å¸®å¥¹æ±‚å‡ºæœ€çŸ­çš„æ€»æ—¶é—´æ˜¯å¤šå°‘ã€‚

å¦‚æœä½ èƒ½å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼Œä½ å°±ä¼šè·å¾—ä¸¤ä¸ªå¥–åŠ±â€”â€”100åˆ†å’Œè§‚èµä¸€åœºç››å¤§çš„çƒŸèŠ±ç››å®´ï¼


## è¯´æ˜/æç¤º

ã€æ ·ä¾‹ä¸€è§£é‡Šã€‘:ä»ä»»ä¸€ç«¯ç‚¹ç«éƒ½è¡Œï¼Œç‡ƒçƒ§æ—¶é—´éƒ½æ˜¯ 1

ã€æ ·ä¾‹äºŒè§£é‡Šã€‘:

åœ¨ (0,0)ä½ç½®ç‚¹ç«ï¼Œç»³å­ 1, 3 å’Œ 4 å°†è¢«ç‚¹ç‡ƒï¼Œç‡ƒçƒ§ 0.5 åˆ†é’Ÿåï¼Œç»³å­ 2 å°†è¢«ä»ä¸­é—´ç‚¹ç‡ƒå‘ä¸¤ç«¯ç‡ƒçƒ§ï¼Œå†è¿‡ 0.5 åˆ†é’Ÿï¼Œç»³å­ 1, 3, 4 å°†è¢«å®Œå…¨ç‡ƒçƒ§ï¼Œç»³å­5å°†è¢«ç‚¹ç‡ƒå¹¶åœ¨ 1åˆ†é’Ÿåç‡ƒçƒ§å®Œ (æ¯”ç»³å­ 2 æ—©ç‡ƒå®Œ)ã€‚

ç»³å­ 2 ä»ä¸­é—´å‘ä¸¤ç«¯ç‡ƒçƒ§ 0.5 åˆ†é’Ÿä»¥åï¼Œå˜æˆä¸¤å°æ®µï¼Œæ¯æ®µçš„ç‡ƒçƒ§æ—¶é—´æ˜¯ 4.5
åˆ†é’Ÿã€‚ä½†å› ä¸ºæ­¤æ—¶ä¸¤å°æ®µç»³å­çš„å¦ä¸€ç«¯ä¹ŸåŒæ—¶è¢«ç‚¹ç‡ƒï¼Œç‡ƒçƒ§é€Ÿåº¦å˜æˆåŸæ¥çš„
ä¸¤å€ï¼Œè¿˜éœ€ 2.25 åˆ†é’Ÿçš„ç‡ƒçƒ§æ—¶é—´ï¼Œ æ‰€ä»¥æ€»æ—¶é—´ï¼š 1 + 2.25 = 3.25

ã€æ•°æ®èŒƒå›´ã€‘:

![](https://cdn.luogu.com.cn/upload/pic/15213.png)

## æ ·ä¾‹ #1

### è¾“å…¥

```
1
0 0 1 1 1```

### è¾“å‡º

```
1.0000```

## æ ·ä¾‹ #2

### è¾“å…¥

```
5
0 0 0 1 1
1 0 0 1 10
0 0 1 0 1
0 0 1 1 1
2 2 1 1 1```

### è¾“å‡º

```
3.2500```

# AIåˆ†æç»“æœ

```markdown
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šæ²³åŸè·å–çš„çƒŸèŠ± æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ‹†è§£ã€Œæ²³åŸè·å–çš„çƒŸèŠ±ã€è¿™é“çœ‹ä¼¼çƒŸç«ç»šçƒ‚ã€å®åˆ™æš—è—ç„æœºçš„å›¾è®ºé¢˜ã€‚å®ƒåƒä¸€å¼ é”™ç»¼å¤æ‚çš„è¿·å®«ï¼šç»³å­æ˜¯è·¯å¾„ï¼Œç«ç„°æ˜¯ä¿¡æ¯ï¼Œæˆ‘ä»¬è¦åœ¨æœ€çŸ­æ—¶é—´å†…è®©â€œä¿¡æ¯â€è¦†ç›–æ•´å¼ å›¾ã€‚å¦‚ä½•å»ºæ¨¡ï¼Ÿå¦‚ä½•æ±‚æœ€çŸ­è·¯ï¼Ÿåˆå¦‚ä½•å¤„ç†ç«ç„°ä»ä¸¤ç«¯åŒæ—¶ç‡ƒçƒ§ï¼Ÿè®©æˆ‘ä»¬æŠ½ä¸å‰¥èŒ§ï¼Œæ‰¾åˆ°é€šå¾€æœ€ä¼˜è§£çš„â€œçƒŸèŠ±è½¨è¿¹â€ï¼

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼š  
æŠŠâ€œç»³å­ç‡ƒçƒ§â€è¿™ä¸€è¿ç»­è¿‡ç¨‹ç¦»æ•£åŒ–ï¼Œå¹¶å¤„ç†**ç«ç„°å¯èƒ½ä»ä¸¤ç«¯åŒæ—¶ç‡ƒçƒ§**çš„ç‰¹æ®Šæƒ…å†µï¼Œæœ€ç»ˆåœ¨â€œæ‰€æœ‰ç«¯ç‚¹â€ä¸­é€‰å‡ºæœ€ä½³ç‚¹ç«ç‚¹ï¼Œä½¿æ•´å›¾ç‡ƒå°½æ—¶é—´æœ€çŸ­ã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼š  
å›¾è®ºã€å•æºæœ€çŸ­è·¯ï¼ˆSPFA / Dijkstra / Floydï¼‰ã€å»ºæ¨¡æŠ€å·§ã€å°å­¦å¥¥æ•°ç›¸é‡é—®é¢˜

ğŸ—£ï¸ **æ€è·¯æ¼”è¿›**  
1. **ç›´è§‰**ï¼šæšä¸¾æ¯ä¸ªå¯ç‚¹ç«ç«¯ç‚¹ â†’ æ¨¡æ‹Ÿç«ç„°ä¼ æ’­ â†’ ç»Ÿè®¡æœ€å¤§ç‡ƒå°½æ—¶é—´ â†’ å–æœ€å°å€¼ã€‚  
2. **éšœç¢**ï¼šç«ç„°å¯èƒ½ä»ç»³å­ä¸­é—´è¢«åå‘ç‚¹ç‡ƒï¼›æ— æ³•ç›´æ¥æ¨¡æ‹Ÿè¿ç»­ç‡ƒçƒ§ã€‚  
3. **çªç ´**ï¼šæŠŠæ¯æ ¹ç»³å­æ‹†æˆä¸¤æ®µï¼ŒæŠŠâ€œç‡ƒçƒ§â€è½¬åŒ–ä¸ºâ€œå›¾ä¸Šè¾¹æƒâ€ï¼›ç”¨**æœ€çŸ­è·¯**æ±‚ç«ç„°åˆ°è¾¾æ¯ä¸ªç«¯ç‚¹çš„æœ€æ—©æ—¶é—´ï¼›å†ç”¨**ç›¸é‡å…¬å¼**è®¡ç®—æ¯æ ¹ç»³å­æœ€ç»ˆç‡ƒå°½æ—¶é—´ã€‚  
4. **é’¥åŒ™**ï¼š**æ‹†è¾¹ + æœ€çŸ­è·¯ + æšä¸¾èµ·ç‚¹** çš„ä¸‰æ¿æ–§ã€‚

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ

| çº¿ç´¢ç¼–å· | å…³é”®è¯ | æ¨ç† |
|---|---|---|
| çº¿ç´¢1 | â€œè¿é€šå›¾â€â€œæœ€çŸ­æ—¶é—´â€ | å›¾è®ºæœ€çŸ­è·¯å‘¼ä¹‹æ¬²å‡º |
| çº¿ç´¢2 | â€œç«ä»ä¸¤ç«¯ç‡ƒçƒ§â€ | éœ€é¢å¤–è®¡ç®—ç›¸é‡æ—¶é—´ â†’ å°å­¦å¥¥æ•° |
| çº¿ç´¢3 | â€œç»³å­ç«¯ç‚¹åæ ‡â€ | ç¦»æ•£åŒ–å»ºç‚¹ï¼Œç”¨ map/æ•°ç»„å­˜ |
| çº¿ç´¢4 | N â‰¤ 40 | Floyd O(nÂ³) æˆ– SPFA O(kÂ·m) å‡å¯ |

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> 1. çœ‹åˆ°â€œæœ€çŸ­æ—¶é—´â€â†’ æœ€çŸ­è·¯æ¨¡å‹  
> 2. çœ‹åˆ°â€œä¸¤ç«¯åŒæ—¶ç‡ƒçƒ§â€â†’ æŠŠæ¯æ ¹ç»³å­æ‹†æˆä¸¤æ®µï¼Œä¸­ç‚¹æ–°å»ºèŠ‚ç‚¹  
> 3. çœ‹åˆ°â€œæšä¸¾ç‚¹ç«ç‚¹â€â†’ å¯¹**æ¯ä¸ªéä¸­ç‚¹**è·‘å•æºæœ€çŸ­è·¯  
> 4. çœ‹åˆ°æ•°æ®èŒƒå›´ 40 â†’ Floyd ä¹Ÿèƒ½è¿‡ï¼Œä½† SPFA æ›´çµæ´»  
> 5. ç»“è®ºï¼š**æ‹†è¾¹å»ºå›¾ â†’ æšä¸¾èµ·ç‚¹ â†’ æœ€çŸ­è·¯ â†’ ç›¸é‡å…¬å¼ç»Ÿè®¡ç­”æ¡ˆ**

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

> ç»¼åˆå¯è¯»æ€§ã€ç®—æ³•æ­£ç¡®æ€§ã€ä»£ç ä¼˜é›…åº¦ï¼Œä»¥ä¸‹ 4 ä»½é¢˜è§£è·è¯„ â‰¥4 æ˜Ÿï¼Œä¾›å¤§å®¶å„å–æ‰€é•¿ã€‚

### é¢˜è§£ä¸€ï¼šIreliaáƒ¦ï¼ˆ26 èµï¼‰
**ç‚¹è¯„**ï¼š  
æ€è·¯æœ€æ¸…æ™°ï¼æŠŠâ€œæ‹†ç»³å­â†’è·‘ SPFAâ†’ç›¸é‡å…¬å¼â€ä¸‰æ­¥è®²å¾—æ˜æ˜ç™½ç™½ã€‚ä»£ç æ³¨é‡Šä¸°å¯Œï¼Œå˜é‡å‘½åç›´è§‚ï¼Œå¦‚ `EndTime()` ç›´æ¥å¯¹åº”â€œå•æ ¹ç»³å­ç‡ƒå°½æ—¶é—´â€ã€‚è¿˜è´´å¿ƒæé†’â€œä¸­ç‚¹ä¸èƒ½ç‚¹ç«â€ï¼Œæ˜¯å…¥é—¨æ­¤é¢˜çš„é¦–é€‰ã€‚

### é¢˜è§£äºŒï¼šWy12121212ï¼ˆ12 èµï¼‰
**ç‚¹è¯„**ï¼š  
ç”¨ Floyd å®ç°å¤šæºæœ€çŸ­è·¯ï¼Œé€»è¾‘ç®€æ´ï¼Œé€‚åˆ Nâ‰¤40 çš„å°è§„æ¨¡ã€‚ä½œè€…ç»™å‡ºçš„ç‡ƒçƒ§æ—¶é—´å…¬å¼ `max(t1,t2)+(L-|t1-t2|)/2` ä¸ Irelia ç‰ˆç­‰ä»·ï¼Œä½†æ›´æ˜“è®°å¿†ã€‚ä»£ç é£æ ¼åç´§å‡‘ï¼Œé€‚åˆå¤ä¹  Floyd æ¨¡æ¿ã€‚

### é¢˜è§£ä¸‰ï¼šgrard4ï¼ˆ3 èµï¼‰
**ç‚¹è¯„**ï¼š  
è¡¥å……äº†â€œstd æ›¾å‡ºé”™â€çš„å‘ç‚¹ï¼Œå¸®åŠ©é¿å‘ã€‚SPFA å®ç°ä¸­è§„ä¸­çŸ©ï¼Œæœ€å¤§äº®ç‚¹æ˜¯**æŠŠåæ ‡Ã—2 å†+1000** çš„æŠ€å·§ï¼Œé¿å…æµ®ç‚¹è¯¯å·®åŒæ—¶è§£å†³è´Ÿæ•°ä¸‹æ ‡ï¼Œå€¼å¾—æŠ„èµ°ï¼

### é¢˜è§£å››ï¼šyoulvï¼ˆ3 èµï¼‰
**ç‚¹è¯„**ï¼š  
ç”¨é‚»æ¥çŸ©é˜µ+Floydï¼Œä»£ç çŸ­ã€‚äº®ç‚¹åœ¨äº**æ–œè¾¹ç›¸äº¤æ—¶åŠ¨æ€æ‹†è¾¹**ï¼Œç”¨ `del[][]` æ ‡è®°åˆ è¾¹ï¼Œæ€è·¯ç›´è§‚ã€‚é€‚åˆæƒ³ä½“éªŒâ€œé‚»æ¥çŸ©é˜µ + Floydâ€ä¸€æ¡é¾™çš„åŒå­¦ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆæœ€ä¼˜è§£æ³•ï¼‰

| å…³é”®ç‚¹ | åˆ†æ | ğŸ’¡ å­¦ä¹ ç¬”è®° |
|---|---|---|
| 1. å¦‚ä½•å»ºå›¾ | æŠŠæ¯æ ¹ç»³å­æ‹†æˆä¸¤æ®µï¼Œä¸­ç‚¹æ–°å»ºèŠ‚ç‚¹ï¼›è¾¹æƒ=ç‡ƒçƒ§æ—¶é—´/2 | æ‹†è¾¹æŠ€å·§ï¼šæŠŠâ€œè¿ç»­â€å˜â€œç¦»æ•£â€ |
| 2. å¦‚ä½•æ±‚ç«ç„°åˆ°è¾¾æ—¶é—´ | æšä¸¾æ¯ä¸ªç«¯ç‚¹è·‘ SPFA/Floyd å¾— `dis[i]` | å•æºæœ€çŸ­è·¯æ¨¡æ¿ |
| 3. å¦‚ä½•è®¡ç®—å•æ ¹ç»³å­ç‡ƒå°½æ—¶é—´ | ç›¸é‡å…¬å¼ï¼š`T = max(t1,t2) + (L-|t1-t2|)/2` | å°å­¦å¥¥æ•°ï¼šä¸¤ç«¯ç›¸å‘è€Œè¡Œ |
| 4. å¦‚ä½•ç»Ÿè®¡å…¨å±€ç­”æ¡ˆ | å¯¹æ¯æ ¹ç»³å­å–ç‡ƒå°½æ—¶é—´çš„æœ€å¤§å€¼ï¼Œå†å¯¹æ‰€æœ‰ç‚¹ç«ç‚¹å–æœ€å°å€¼ | ä¸¤æ¬¡ max/min |

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•å¯¹æ¯”

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯/å¾—åˆ† |
|---|---|---|---|---|
| Floyd å…¨æº | é‚»æ¥çŸ©é˜µ+ä¸‰é‡å¾ªç¯ | ä»£ç æçŸ­ | O(nÂ³) 40 ä»¥ä¸ŠåƒåŠ› | Nâ‰¤40 ç¨³ 100% |
| SPFA å•æº | é‚»æ¥è¡¨+é˜Ÿåˆ— | O(kÂ·m) å¯æ‰©å±• | æœ€åé€€åŒ– | Nâ‰¤2000 ä»ç¨³ |
| Dijkstra å•æº | å †ä¼˜åŒ– | ç¨³å®š O(m log n) | éœ€éè´Ÿæƒ | é€šç”¨æ¨è |
| DFS æš´åŠ› | ç›´æ¥æ¨¡æ‹Ÿ | æ€è·¯ç›´è§‚ | æ— æ³•å¤„ç†ç›¸é‡ | 10% |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€
> 1. æš´åŠ› DFS â†’ æ— æ³•ç®—ç›¸é‡æ—¶é—´  
> 2. å‘ç°æœ€çŸ­è·¯ â†’ ä½†æ€ä¹ˆç®—ç»³å­ç‡ƒå°½ï¼Ÿ  
> 3. æ‹†è¾¹+ç›¸é‡å…¬å¼ â†’ å®Œç¾è§£å†³  
> 4. é€‰ Floyd è¿˜æ˜¯ SPFAï¼Ÿçœ‹ Nï¼  

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šç»¼åˆ Irelia ä¸ grard4 çš„ä¼˜ç‚¹ï¼Œæ‹†è¾¹ + SPFA + ç›¸é‡å…¬å¼ã€‚
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <bits/stdc++.h>
using namespace std;
const int MAXN = 4005;
const double INF = 1e9, EPS = 1e-8;
int n, m, id[2005][2005], tot;
double ans = INF;
vector<pair<int, double>> G[MAXN];
double dis[MAXN];

inline int getID(int x, int y) {
    x = (x + 1000) * 2;
    y = (y + 1000) * 2;
    if (!id[x][y]) id[x][y] = ++tot;
    return id[x][y];
}

void addEdge(int u, int v, double w) {
    G[u].emplace_back(v, w);
    G[v].emplace_back(u, w);
}

void SPFA(int s) {
    fill(dis + 1, dis + tot + 1, INF);
    vector<bool> inq(tot + 1, false);
    queue<int> q;
    dis[s] = 0;
    q.push(s);
    inq[s] = true;
    while (!q.empty()) {
        int u = q.front(); q.pop(); inq[u] = false;
        for (auto [v, w] : G[u]) {
            if (dis[v] > dis[u] + w + EPS) {
                dis[v] = dis[u] + w;
                if (!inq[v]) { inq[v] = true; q.push(v); }
            }
        }
    }
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cin >> m;
    vector<tuple<int, int, double>> edges;
    for (int i = 0; i < m; ++i) {
        int x1, y1, x2, y2; double t;
        cin >> x1 >> y1 >> x2 >> y2 >> t;
        int a = getID(x1, y1);
        int b = getID(x2, y2);
        if (x1 == x2 || y1 == y2) { // ç›´çº¿
            addEdge(a, b, t);
            edges.emplace_back(a, b, t);
        } else { // æ–œçº¿æ‹†ä¸¤æ®µ
            int mid = getID((x1 + x2) / 2.0, (y1 + y2) / 2.0);
            addEdge(a, mid, t / 2);
            addEdge(mid, b, t / 2);
            edges.emplace_back(a, mid, t / 2);
            edges.emplace_back(mid, b, t / 2);
        }
    }
    // æšä¸¾æ‰€æœ‰ç«¯ç‚¹
    for (int s = 1; s <= tot; ++s) {
        bool ok = true;
        for (auto [u, v, len] : edges) {
            int x = (u + v) / 2;
            if (s == x) { ok = false; break; } // ä¸­ç‚¹ä¸èƒ½ç‚¹ç«
        }
        if (!ok) continue;
        SPFA(s);
        double cur = 0;
        for (auto [u, v, len] : edges) {
            double t1 = dis[u], t2 = dis[v];
            if (t1 > t2) swap(t1, t2);
            double burn = t2 + (len - (t2 - t1)) / 2.0;
            cur = max(cur, burn);
        }
        ans = min(ans, cur);
    }
    cout << fixed << setprecision(4) << ans;
    return 0;
}
```
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  - åæ ‡Ã—2+1000 ç»Ÿä¸€æ•´æ•°  
  - æ–œçº¿æ‹†ä¸¤æ®µï¼Œä¸­ç‚¹ä¸èƒ½ç‚¹ç«  
  - æšä¸¾èµ·ç‚¹è·‘ SPFA â†’ ç›¸é‡å…¬å¼ç»Ÿè®¡ç­”æ¡ˆ  

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### åŠ¨ç”»ä¸»é¢˜
**ã€Šåƒç´ çƒŸç«å¤§å¸ˆã€‹**  
8 ä½çº¢ç™½æœºé£æ ¼ï¼Œç©å®¶åŒ–èº«â€œç‚¹ç«ç²¾çµâ€ï¼Œåœ¨åƒç´ ç½‘æ ¼ä¸Šé€‰æ‹©èµ·ç‚¹ï¼Œçœ‹ç«ç„°å¦‚ä½•æ²¿è¾¹æ‰©æ•£ï¼Œæœ€ç»ˆç‚¹äº®æ•´å¼ å›¾ï¼

### å…³é”®å¸§è®¾è®¡
1. **åˆå§‹åŒ–**  
   - 256Ã—224 åƒç´ ç”»å¸ƒï¼Œç°è‰²ç½‘æ ¼è¡¨ç¤ºå•å…ƒæ ¼ï¼Œç»³å­ç”¨ 1 åƒç´ å®½çº¿æ®µï¼Œé¢œè‰²=ç‡ƒçƒ§æ—¶é—´æ˜ å°„ï¼ˆç»¿â†’é»„â†’çº¢ï¼‰ã€‚  
2. **é€‰ç‚¹ç«ç‚¹**  
   - ç©å®¶ç§»åŠ¨ 8Ã—8 åƒç´ å°ç²¾çµï¼ŒA é”®ç¡®è®¤ã€‚é€‰ä¸­ç‚¹é—ªçƒé‡‘è‰²ã€‚  
3. **ç«ç„°ä¼ æ’­**  
   - ç«ç„°ç²’å­æ²¿è¾¹ç§»åŠ¨ï¼Œé€Ÿåº¦=è¾¹æƒã€‚ç²’å­ç”¨ 4Ã—4 æ©™è‰²æ–¹å—ï¼Œæ’­æ”¾â€œå“”â€éŸ³æ•ˆã€‚  
4. **ç›¸é‡ç‡ƒçƒ§**  
   - å½“ä¸¤ç«¯ç«ç„°ç²’å­åœ¨è¾¹å†…ç›¸é‡ï¼Œç”Ÿæˆçˆ†ç‚¸åŠ¨ç”»ï¼ˆ8Ã—8 é»„è‰²æ˜Ÿå½¢ï¼‰å¹¶æ’­æ”¾â€œå˜­â€å£°ã€‚  
5. **ç»“ç®—**  
   - æ‰€æœ‰è¾¹ç‡ƒå°½åï¼Œå±å¹•é¡¶éƒ¨æ˜¾ç¤ºæœ¬æ¬¡æ—¶é—´ï¼›è‹¥åˆ·æ–°æœ€å°å€¼ï¼Œå‡ºç°â€œNEW RECORD!â€ åƒç´ æ¨ªå¹…å¹¶æ’­æ”¾èƒœåˆ©éŸ³ã€‚

### æŠ€æœ¯å®ç°
- Canvas + requestAnimationFrame 60 FPS  
- éŸ³æ•ˆï¼šWeb Audio API ç”Ÿæˆ 8-bit æ–¹æ³¢éŸ³æ•ˆ  
- æ§åˆ¶ï¼šæ–¹å‘é”®ç§»åŠ¨ï¼Œç©ºæ ¼å•æ­¥ï¼Œå›è½¦è‡ªåŠ¨æ¼”ç¤º

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»
- **ç›¸é‡æ¨¡å‹**ï¼šå¤šæº BFSã€ç«ç¾è”“å»¶ã€ç½‘ç»œå¹¿æ’­  
- **æ‹†è¾¹æŠ€å·§**ï¼šçº¿æ®µç›¸äº¤å»ºå›¾ã€ç¦»æ•£åŒ–åæ ‡  
- **æšä¸¾èµ·ç‚¹**ï¼šæœ€å°åŒ–æœ€å¤§è·ç¦»ï¼ˆä¸­å¿ƒé—®é¢˜ï¼‰

### æ´›è°·æ¨è
1. **P1525 å…³æŠ¼ç½ªçŠ¯**  
   ğŸ—£ï¸ æœ€å°åŒ–æœ€å¤§å†²çªï¼ŒåŒæ ·â€œæœ€å°åŒ–æœ€å¤§å€¼â€æ€æƒ³  
2. **P2888 é“è·¯è´¹ç”¨**  
   ğŸ—£ï¸ æ‹†è¾¹ + æœ€çŸ­è·¯ï¼Œç»ƒä¹ åæ ‡ç¦»æ•£åŒ–  
3. **P4568 é£è¡Œè·¯çº¿**  
   ğŸ—£ï¸ åˆ†å±‚å›¾æœ€çŸ­è·¯ï¼ŒåŠ æ·±å¯¹â€œçŠ¶æ€æ‰©å±•â€çš„ç†è§£  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> **Ireliaáƒ¦**ï¼šâ€œè¿™é“é¢˜è®©æˆ‘ä»¬æœºæˆ¿çš„â€˜æŠ„é¢˜è§£ä¹‹ç‹â€™å½“åœºé€€å½¹ã€‚è®°ä½ï¼šç†è§£æ€è·¯è¿œæ¯”å¤åˆ¶ä»£ç é‡è¦ï¼â€  
> **æ´›è¯­äº‘ç¬ºç‚¹è¯„**ï¼šä»»ä½•é¢˜ç›®éƒ½æ€•â€œçœ¼é«˜æ‰‹ä½â€ã€‚åŠ¨æ‰‹ç”»å›¾ã€æ‰‹ç®—å°æ ·ä¾‹ï¼Œæ‰èƒ½æŠŠâ€œç›¸é‡å…¬å¼â€çœŸæ­£åˆ»è¿›è„‘å­ã€‚

---

<conclusion>
çƒŸèŠ±ç»ˆå°†è½å¹•ï¼Œä½†ç®—æ³•ä¹‹ç¾é•¿å­˜ã€‚æŒæ¡â€œæ‹†è¾¹-æœ€çŸ­è·¯-ç›¸é‡â€ä¸‰æ¿æ–§ï¼Œå†é‡åˆ°ç±»ä¼¼â€œè¿ç»­â†’ç¦»æ•£â€é—®é¢˜ï¼Œä½ ä¹Ÿèƒ½åƒæ²³åŸè·å–ä¸€æ ·ï¼Œç‚¹ç‡ƒæœ€ä¼˜è§£çš„ç»šçƒ‚çƒŸç«ï¼ä¸‹æ¬¡æ¢é™©è§ï½
</conclusion>
```

---
å¤„ç†ç”¨æ—¶ï¼š76.55ç§’
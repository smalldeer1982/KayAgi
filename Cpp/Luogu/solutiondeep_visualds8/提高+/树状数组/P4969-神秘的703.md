# é¢˜ç›®ä¿¡æ¯

# ç¥ç§˜çš„703

## é¢˜ç›®èƒŒæ™¯

$Zero$ å’Œ $Mike$æ˜¯ä¸€å¯¹çƒ­çˆ±æ—…è¡Œçš„å¥½æœ‹å‹ï¼Œä¸€å¤©åœ¨ç»å†äº†$ZXG$å¤§ç¥çš„å†ç»ƒåï¼Œå¿ƒåŠ›äº¤ç˜ï¼Œäºæ˜¯å†³å®š**é‡é˜³èŠ‚**å›å®¾é¦†åˆ·é¢˜ï¼Œæ‰¾å›è‡ªä¿¡ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬çš„æ•…äº‹å¼€å§‹äº†â€¦â€¦

## é¢˜ç›®æè¿°

**å‡ºé¢˜äººï¼šå„ä½ $Oier$ ä¸€å®šè¦ç»†å¿ƒå•Šå•Šå•Šï¼ï¼ï¼æ³¨æ„çœ‹è¯´æ˜**

**å‡ºé¢˜äººï¼šChen_Xi.Naoh**

$Zero$ æ‰€åœ¨å®¾é¦†çš„æˆ¿é—´å·æ˜¯ $703$ ï¼Œè€Œ $Mike$ æ‰€åœ¨å®¾é¦†çš„æˆ¿é—´å¥½å´æ˜¯ $704$ ï¼Œæ‰€ä»¥å½“ $Zero$ å’Œ $Mike$ æƒ³å‡‘åœ¨ä¸€èµ·åˆ·é¢˜çš„æ—¶å€™ï¼Œ$Zero$ éœ€è¦ä» $703$ å‰å¾€ $704$ æˆ–è€… $Mike$ ä» $704$ å‰å¾€ $703$ ï¼Œå½“ $Zero$ å’Œ $Mike$ å‡‘åœ¨ä¸€èµ·æ—¶ï¼Œ$Mike$ ä¾¿ä¼šä»[ $luogu$ ](https://www.luogu.org/)ä¸Šéšæœºé€‰æ‹© $n$ é“é¢˜ï¼Œæ¯ä¸€é“é¢˜åˆ†å€¼ä¸º $300$ ï¼Œç”±äº $Mike$ èº«ç»ç™¾æˆ˜ï¼Œæ‰€ä»¥æ¯å½“ $Mike$ çœ‹åˆ°æŸé“é¢˜ç›®çš„æ—¶å€™ï¼Œå¤§è„‘é‡Œé¢å°±ä¼šè‡ªåŠ¨ç»™è¯¥åˆ°é¢˜ç›®å®šä¹‰ä¸€ä¸ªéš¾åº¦å€¼ $hard$ (è¦ç›¸ä¿¡ $Mike$ çš„åˆ¤æ–­éƒ½æ˜¯æ­£ç¡®çš„)ï¼Œè€Œ $Zero$ å’Œ $Mike$ ä¸¤ä¸ªäººéƒ½æœ‰ä¸€ä¸ªå…±åŒçš„å¤©èµ‹å€¼ $Talent$ ,æ¯ä¸ªäººéƒ½åªèƒ½è§£å‡º $Talent$ èŒƒå›´å†…éš¾åº¦çš„é¢˜ç›®ï¼Œå½“ç„¶ $Zero$ å’Œ $Mike$ çš„å¤©èµ‹å€¼ä¸ä¼šå¾ˆä½ï¼›

åœ¨ $Zero$ çš„æˆ¿é—´ $703$ é‡Œé¢æœ‰ä¸€ä½çƒ­çˆ±å­¦ä¹ çš„å°å­¦å¼Ÿ $BookCity$ ï¼Œåœ¨ $Zero$ å’Œ $Mike$ åˆ·é¢˜çš„åŒæ—¶ï¼Œ$BookCity$ ä¼šåœ¨ä¸€æ—ç ”ç©¶ä¸¤ä½å­¦é•¿çš„åšé¢˜ä¹ æƒ¯ï¼Œå¹¶ç»™ä¸¤ä½å­¦é•¿åŠ æ²¹åŠ©å¨ï¼Œç”±äº $BookCity$ çš„åŠ æ²¹ï¼ŒæŸé“é¢˜ç›®çš„éš¾åº¦å°±ä¼šè‡ªåŠ¨ä¸‹é™ä¸€ç‚¹ç‚¹(**è‹¥ $hard - d \le 0$ï¼Œåˆ™é»˜è®¤è¯¥é¢˜çš„ $hard$ ä¸º $1$ **)ï¼›ç„¶è€Œï¼Œåœ¨å®¾é¦†çš„ 
 $123$ å·æˆ¿é—´ä½ç€ä¸€ä¸ªæ‹¥æœ‰é­”æ³•ä½†å¿ƒåœ°é‚ªæ¶çš„äºº $Guy$ ï¼Œèƒ½å¤Ÿçœ‹åˆ°Zeroå’ŒMikeçš„åŠ¨é™ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ–½å±•é­”æ³•(å› ä¸ºæ˜¯åœ¨**é‡é˜³èŠ‚**)ï¼Œåœ¨ $Zero$ å’Œ $Mike$ åšåˆ°æŸä¸€é¢˜çš„æ—¶å€™ï¼Œç›´æ¥å°†è¯¥é¢˜çš„éš¾åº¦æš´å¢è‡³ $s$ å€ï¼ï¼ï¼ï¼ï¼å¹¸è¿çš„æ˜¯ï¼Œ$Zero$ å’Œ $Mike$ çš„è€å¸ˆ $tingtime$ ä¼šå¸®åŠ©ä»–ä»¬ä¸¤ä¸ªï¼Œåœ¨å›°å¢ƒçš„æ—¶å€™ä¸º $Zero$ å’Œ $Mike$ æŒ‡ç‚¹è¿·æ´¥ï¼Œå°†æŸä¸€é¢˜çš„éš¾åº¦ç›´æ¥è°ƒä¸ºä¸€ä¸ªå¾ˆä½çš„å€¼ã€‚

$Zero$ å’Œ $Mike$ æ¯åˆ·å®Œä¸€é“é¢˜èƒ½è·å¾—å¯¹åº”åˆ†å€¼çš„è‡ªä¿¡å€¼( $Zero$ å’Œ $Mike$ éƒ½æ˜¯è¿½æ±‚å®Œç¾çš„äººï¼Œæ¯ä¸€é“é¢˜è¦ä¹ˆå¯¹ï¼Œè¦ä¹ˆå¹²è„†ä¸å†™)ï¼Œç°åœ¨ï¼Œä½ å°±æ˜¯ $Zero$ ï¼Œä½ æƒ³çŸ¥é“å¦‚æœå’Œ $Mike$ ä»ç¬¬ $a$ åˆ°é¢˜åˆ·åˆ°ç¬¬ $b$ åˆ°é¢˜èƒ½å›å¤å¤šå°‘è‡ªä¿¡å€¼ (**è‡ªä¿¡å€¼è®¡ç®—æ–¹æ³•ï¼š$600*AC$ é¢˜ç›®ä¸ªæ•° $\Longrightarrow$ ä¸€é“é¢˜ $300$ åˆ†ï¼Œ$2$ ä¸ªäººä¸€å…±æ¢å¤ $600$ è‡ªä¿¡å€¼**)$Confidence$ã€‚


## è¯´æ˜/æç¤º


ä¿è¯æ‰€æœ‰é¢˜ç›®åˆå§‹çš„éš¾åº¦å€¼ $hard$ åœ¨ $ [0,2^{31}-1] $ èŒƒå›´å†…ï¼›

ä¿è¯ $Zero$ å’Œ $Mike$ çš„å¤©èµ‹å€¼ $Talent$ åœ¨ $  [0,2^{31}-1] $ èŒƒå›´å†…ï¼›

ä¿è¯ $Zero$ è¯¢é—®çš„èŒƒå›´éƒ½åœ¨ $ [0,2^{31}-1] $ èŒƒå›´å†…ï¼Œä½†ä¸ä¿è¯$x$ä¸€å®šä¼šå°äº$y$

ä¿è¯ $Guy$ çš„ç¿»å€éƒ½åœ¨ $ [0,2^{31}-1] $ èŒƒå›´å†…ï¼›

ä¿è¯ $BookCity$ çš„å‡å°å€¼ $d$ éƒ½åœ¨ $ [0,2^{31}-1] $ èŒƒå›´å†…ï¼›

ä¿è¯æ‰€æœ‰çš„è¾“å…¥æ•°æ®éƒ½åœ¨ $  [0,2^{31}-1] $ èŒƒå›´å†…ï¼›

$Mike$ èº«ç»ç™¾æˆ˜ï¼Œæ‰€ä»¥å…¶åˆ¤æ–­çš„ $hard$ éƒ½åœ¨ $  [0,2^{31}-1] $ èŒƒå›´å†…ï¼Œä¸”ä¸å­˜åœ¨éš¾åº¦ä¸ºè´Ÿæ•°æˆ–è€…ä¸º $0$ çš„é€åˆ†é¢˜ï¼›

ä¿è¯ $n$ å’Œ$m$ éƒ½åœ¨ $  [0,2^{31}-1] $ èŒƒå›´å†…ï¼›

å¯¹äº $30\%$ çš„æ•°æ®ï¼š$0\leqslant n \leqslant 5\times 10^3$,$m \leqslant 5\times 10^3$ï¼›

å¯¹äº $50\%$ çš„æ•°æ®ï¼š$0\leqslant n \leqslant 5\times 10^4$,$m \leqslant 5\times 10^4$ï¼›

å¯¹äº $100\%$ çš„æ•°æ®ï¼š$0\leqslant n\leqslant 5\times 10^5$ï¼Œ$m\leqslant 5\times 10^5$ã€‚


** æ€»ä¹‹ä¿è¯æ‰€æœ‰è¾“å…¥æ•°æ®åœ¨$ [0,2^{31}-1] $èŒƒå›´å†…ï¼Œä½†ä¸ä¿è¯è¿ç®—åœ¨$ [0,2^{63}-1] $èŒƒå›´å†…ï¼ï¼**

## æ ·ä¾‹ #1

### è¾“å…¥

```
5 5
2 3 4 5 9
5 
BookCity 1 1
Guy 2 5
Zero 1 5
tingtime 5 1
Zero 1 5
```

### è¾“å‡º

```
1800
2400```

# AIåˆ†æç»“æœ

# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šç¥ç§˜çš„703 æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æâ€œç¥ç§˜çš„703â€è¿™é“C++ç¼–ç¨‹é¢˜ã€‚è¿™ä¸ä»…ä»…æ˜¯ä¸€æ¬¡è§£é¢˜ï¼Œæ›´æ˜¯ä¸€åœºæ€ç»´çš„æ¢é™©ã€‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åƒä¾¦æ¢ä¸€æ ·ä»é¢˜ç›®ä¸­å¯»æ‰¾çº¿ç´¢ï¼Œå¹¶åœ¨ä¸åŒçš„è§£é¢˜é“è·¯ä¸­æƒè¡¡é€‰æ‹©ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜çš„ç­–ç•¥ã€‚

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼šåœ¨å¤§é‡å•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æŸ¥è¯¢ä¸­ï¼Œå¿«é€Ÿç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„é¢˜ç›®æ•°é‡ã€‚å…³é”®åœ¨äºå¤„ç†ä¹˜æ³•å¯¼è‡´çš„æ•°æ®æº¢å‡ºï¼Œå¹¶é«˜æ•ˆç»´æŠ¤åŒºé—´å’Œã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼šçº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„ï¼ˆåŒºé—´æŸ¥è¯¢+å•ç‚¹ä¿®æ”¹ï¼‰ï¼Œé«˜ç²¾åº¦ï¼ˆæˆ–æº¢å‡ºæ ‡è®°æŠ€å·§ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
- é¢˜ç›®è¦æ±‚ç»´æŠ¤ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œæ”¯æŒå››ç§æ“ä½œï¼šåŒºé—´æŸ¥è¯¢ACé¢˜æ•°ã€å•ç‚¹å‡æ³•ã€å•ç‚¹ä¹˜æ³•ã€å•ç‚¹èµ‹å€¼
- æ•°æ®èŒƒå›´è¾¾åˆ°5Ã—10^5ï¼Œæš´åŠ›O(n)æŸ¥è¯¢ä¸å¯è¡Œ
- ä¹˜æ³•æ“ä½œå¯èƒ½å¯¼è‡´æ•°å€¼æº¢å‡ºlong longèŒƒå›´ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†
- æœ€ç»ˆç›®æ ‡æ˜¯é«˜æ•ˆç»Ÿè®¡åŒºé—´å†…æ»¡è¶³hard[i]â‰¤Talentçš„é¢˜ç›®æ•°é‡

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
1. **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**ï¼š"éœ€è¦å¿«é€Ÿå›ç­”åŒºé—´æŸ¥è¯¢"ï¼Œè¿™æ˜¯å…¸å‹çš„**åŒºé—´æ•°æ®ç»“æ„**é—®é¢˜æ ‡å¿—
2. **çº¿ç´¢2 (æ“ä½œç‰¹æ€§)**ï¼šå­˜åœ¨å•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æŸ¥è¯¢ï¼ŒæŒ‡å‘**çº¿æ®µæ ‘**æˆ–**æ ‘çŠ¶æ•°ç»„**
3. **çº¿ç´¢3 (æ•°æ®è§„æ¨¡)**ï¼šnâ‰¤5Ã—10^5ï¼Œè¦æ±‚O(log n)æ—¶é—´å¤æ‚åº¦çš„æ“ä½œ

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> å¥½äº†ï¼Œä¾¦æ¢å·¥ä½œå®Œæˆï¼Œæˆ‘ä»¬æ”¶é›†åˆ°äº†å‡ æ¡å…³é”®çº¿ç´¢ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬åƒæ‹¼å›¾ä¸€æ ·æŠŠå®ƒä»¬ç»„åˆèµ·æ¥ï¼š
> 1. é¦–å…ˆï¼Œã€çº¿ç´¢1ï¼šé—®é¢˜ç›®æ ‡ã€‘å‘Šè¯‰æˆ‘ä»¬éœ€è¦é«˜æ•ˆåŒºé—´æŸ¥è¯¢ï¼Œæˆ‘çš„å¤§è„‘é‡Œç«‹åˆ»é—ªè¿‡äº†"çº¿æ®µæ ‘"ã€"æ ‘çŠ¶æ•°ç»„"è¿™äº›å€™é€‰æ–¹æ¡ˆ
> 2. æ¥ç€ï¼Œã€çº¿ç´¢2ï¼šæ“ä½œç‰¹æ€§ã€‘ï¼Œæ¯”å¦‚"å•ç‚¹ä¿®æ”¹+åŒºé—´æŸ¥è¯¢"ï¼Œè¿›ä¸€æ­¥ç¡®è®¤çº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„æ˜¯æœ€ä½³é€‰æ‹©
> 3. æœ€åï¼Œã€çº¿ç´¢3ï¼šæ•°æ®è§„æ¨¡ã€‘ç»™äº†æˆ‘ä»¬æœ€ç»ˆåˆ¤å†³ã€‚n=5Ã—10^5ï¼ŒO(n)æš´åŠ›ç»å¯¹ä¼šè¶…æ—¶ï¼ˆTLEï¼‰ã€‚è€ŒO(log n)çš„ç®—æ³•æ˜¯å®Œå…¨å¯ä»¥æ¥å—çš„
> 4. **ç»“è®º**ï¼šç»¼åˆä»¥ä¸Šï¼Œä¸€ä¸ªèƒ½å¤Ÿå¤„ç†"å•ç‚¹ä¿®æ”¹+åŒºé—´æŸ¥è¯¢"ä¸”æ—¶é—´å¤æ‚åº¦åœ¨O(log n)çº§åˆ«çš„ç®—æ³•ï¼Œå°±æ˜¯æˆ‘ä»¬çš„ç›®æ ‡ã€‚**æ ‘çŠ¶æ•°ç»„**æˆ–**çº¿æ®µæ ‘**ï¼Œå®Œç¾ç¬¦åˆæ‰€æœ‰æ¡ä»¶ã€‚è¿™å°±æ˜¯æ¥ä¸‹æ¥è¦ç ”ç©¶çš„ä¸»æ”»æ–¹å‘ï¼

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼šæ€é©¬ç‰¹é£è¡Œå‘˜ï¼ˆçº¿æ®µæ ‘+é«˜ç²¾åº¦ï¼‰**
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£é‡‡ç”¨äº†æœ€ä¸¥è°¨çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨è‡ªå®šä¹‰é«˜ç²¾åº¦ç»“æ„ä½“å¤„ç†å¯èƒ½æº¢å‡ºçš„æ•°å€¼ã€‚æ€è·¯æ¸…æ™°ï¼Œä»£ç è§„èŒƒï¼Œå˜é‡å‘½åç›´è§‚ï¼ˆå¦‚`hard[]`æ•°ç»„å­˜å‚¨éš¾åº¦å€¼ï¼‰ã€‚ç®—æ³•ä¸Šï¼Œæ ‡å‡†çº¿æ®µæ ‘å®ç°å•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æ±‚å’Œï¼Œè™½ç„¶é«˜ç²¾åº¦å¢åŠ äº†ä»£ç å¤æ‚åº¦ï¼Œä½†ä¿è¯äº†ç»å¯¹æ­£ç¡®æ€§ã€‚å¯¹äºå­¦ä¹ é«˜ç²¾åº¦ä¸çº¿æ®µæ ‘ç»“åˆæ˜¯å¾ˆå¥½çš„å‚è€ƒã€‚

**é¢˜è§£äºŒï¼šwcy1056935201ï¼ˆæ ‘çŠ¶æ•°ç»„+é«˜ç²¾åº¦ï¼‰**
* **ç‚¹è¯„**ï¼šé‡‡ç”¨æ ‘çŠ¶æ•°ç»„è¿™ä¸€æ›´è½»é‡çº§çš„æ•°æ®ç»“æ„ï¼ŒåŒæ ·ä½¿ç”¨é«˜ç²¾åº¦å¤„ç†å¤§æ•°ã€‚æ ‘çŠ¶æ•°ç»„çš„ä»£ç é‡æ¯”çº¿æ®µæ ‘æ›´ç®€æ´ï¼Œä¸”æ•ˆç‡æ›´é«˜ã€‚ç‰¹åˆ«å€¼å¾—å­¦ä¹ çš„æ˜¯å…¶å¯¹é«˜ç²¾åº¦è¿ç®—çš„å°è£…ï¼ˆå¦‚`b_add`ã€`b_mut`ç­‰å‡½æ•°ï¼‰ï¼Œä½“ç°äº†è‰¯å¥½çš„æ¨¡å—åŒ–è®¾è®¡æ€æƒ³ã€‚

**é¢˜è§£ä¸‰ï¼šNightTideï¼ˆæ ‘çŠ¶æ•°ç»„+æº¢å‡ºæ ‡è®°ï¼‰**
* **ç‚¹è¯„**ï¼šè¿™æ˜¯æœ€å·§å¦™çš„è§£å†³æ–¹æ¡ˆï¼é€šè¿‡"æº¢å‡ºæ ‡è®°"é¿å…äº†é«˜ç²¾åº¦è¿ç®—ï¼Œæå¤§ç®€åŒ–äº†ä»£ç ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šå½“æ•°å€¼è¶…è¿‡long longèŒƒå›´æ—¶ç›´æ¥æ ‡è®°ä¸ºä¸å¯åšï¼Œå› ä¸ºå†å¤§çš„æ•°ä¹Ÿä¸€å®šå¤§äºTalentã€‚è¿™ç§"é—®é¢˜è½¬åŒ–"çš„æ€ç»´éå¸¸é«˜çº§ï¼Œå°†å¤æ‚çš„é«˜ç²¾åº¦é—®é¢˜è½¬åŒ–ä¸ºç®€å•çš„å¸ƒå°”æ ‡è®°é—®é¢˜ã€‚

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆæœ€ä¼˜è§£æ³•å‰–æï¼‰

1. **å…³é”®ç‚¹1ï¼šå¦‚ä½•å¤„ç†æ•°æ®æº¢å‡ºï¼Ÿ**
    * **åˆ†æ**ï¼šæœ‰ä¸‰ç§ç­–ç•¥ï¼š
      1. é«˜ç²¾åº¦ï¼ˆç»å¯¹æ­£ç¡®ä½†å¤æ‚ï¼‰
      2. æº¢å‡ºæ ‡è®°ï¼ˆå·§å¦™ä½†éœ€ä»”ç»†å¤„ç†è¾¹ç•Œï¼‰
      3. è‡ªç„¶æº¢å‡º+ç‰¹åˆ¤ï¼ˆéœ€è¦ç†è§£æº¢å‡ºè¡Œä¸ºï¼‰
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå½“æ•°å€¼è¿ç®—å¯èƒ½è¶…å‡ºç±»å‹èŒƒå›´æ—¶ï¼Œè€ƒè™‘"æº¢å‡ºåè¡Œä¸ºæ˜¯å¦å½±å“ç»“æœ"è¿™ä¸€ç‰¹æ€§ï¼Œå¾€å¾€èƒ½ç®€åŒ–é—®é¢˜

2. **å…³é”®ç‚¹2ï¼šå¦‚ä½•é«˜æ•ˆç»´æŠ¤åŒºé—´å’Œï¼Ÿ**
    * **åˆ†æ**ï¼šæ ‘çŠ¶æ•°ç»„æ˜¯æœ€ä½³é€‰æ‹©ï¼Œå› ä¸ºï¼š
      - å•ç‚¹ä¿®æ”¹ï¼š`O(log n)`
      - åŒºé—´æŸ¥è¯¢ï¼š`O(log n)`
      - ä»£ç é‡æ¯”çº¿æ®µæ ‘å°‘çº¦50%
      - å¸¸æ•°æ›´å°
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¯¹äºçº¯å•ç‚¹ä¿®æ”¹+åŒºé—´æŸ¥è¯¢é—®é¢˜ï¼Œä¼˜å…ˆè€ƒè™‘æ ‘çŠ¶æ•°ç»„

3. **å…³é”®ç‚¹3ï¼šå¦‚ä½•å¤„ç†æ“ä½œé—´çš„ç›¸äº’å½±å“ï¼Ÿ**
    * **åˆ†æ**ï¼šéœ€è¦ä»”ç»†å¤„ç†æ¯ç§æ“ä½œå¯¹"æ˜¯å¦å¯AC"çŠ¶æ€çš„å½±å“ï¼š
      - BookCityå‡æ³•ï¼šå¯èƒ½ä½¿ä¸å¯åšé¢˜å˜ä¸ºå¯åš
      - Guyä¹˜æ³•ï¼šå¯èƒ½ä½¿å¯åšé¢˜å˜ä¸ºä¸å¯åš
      - tingtimeèµ‹å€¼ï¼šç›´æ¥é‡ç½®çŠ¶æ€
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç»´æŠ¤ä¸€ä¸ª"å½“å‰æ˜¯å¦å¯AC"çš„å¸ƒå°”æ•°ç»„ï¼Œæ¯æ¬¡æ“ä½œåæ›´æ–°å¯¹åº”ä½ç½®çš„å€¼

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•çš„å¯¹æ¯”åˆ†æ

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ä¸åˆ†æ | é€‚ç”¨åœºæ™¯ |
| :--- | :--- | :--- | :--- | :--- |
| **æš´åŠ›æšä¸¾** | æ¯æ¬¡æŸ¥è¯¢éƒ½éå†æ•´ä¸ªåŒºé—´ | æ€è·¯ç›´è§‚ï¼Œæ˜“å®ç° | æ—¶é—´å¤æ‚åº¦O(nÃ—m)ï¼Œæ— æ³•é€šè¿‡å¤§æ•°æ® | æ•°æ®è§„æ¨¡nâ‰¤1000 |
| **çº¿æ®µæ ‘+é«˜ç²¾åº¦** | çº¿æ®µæ ‘ç»´æŠ¤é«˜ç²¾åº¦æ•°å€¼ | ç»å¯¹æ­£ç¡®ï¼Œæ— ç²¾åº¦é—®é¢˜ | ä»£ç å¤æ‚ï¼Œå¸¸æ•°å¤§ | éœ€è¦ç²¾ç¡®æ•°å€¼çš„åœºæ™¯ |
| **æ ‘çŠ¶æ•°ç»„+æº¢å‡ºæ ‡è®°** | ç”¨å¸ƒå°”æ ‡è®°å¤„ç†æº¢å‡º | ä»£ç ç®€æ´é«˜æ•ˆï¼Œå¸¸æ•°å° | éœ€è¦ä»”ç»†å¤„ç†è¾¹ç•Œæ¡ä»¶ | æœ¬é¢˜æœ€ä¼˜ç­–ç•¥ |
| **è‡ªç„¶æº¢å‡ºæ³•** | åˆ©ç”¨long longè‡ªç„¶æº¢å‡ºç‰¹æ€§ | æ— éœ€é¢å¤–å¤„ç† | éœ€è¦æ·±å…¥ç†è§£æº¢å‡ºè¡Œä¸º | å¯¹æº¢å‡ºè¡Œä¸ºæœ‰æŠŠæ¡æ—¶ä½¿ç”¨ |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»"èƒ½åš"åˆ°"åšå¥½"
> ä»æœ´ç´ è§£æ³•åˆ°æœ€ä¼˜è§£çš„æ¼”è¿›è¿‡ç¨‹ï¼š
> 1. èµ·ç‚¹ï¼šæš´åŠ›æšä¸¾O(nÃ—m) â†’ å‘ç°æŸ¥è¯¢æ¬¡æ•°å¤ªå¤š
> 2. ç¬¬ä¸€æ¬¡ä¼˜åŒ–ï¼šçº¿æ®µæ ‘O(log n) â†’ å‘ç°é«˜ç²¾åº¦å¤æ‚
> 3. ç¬¬äºŒæ¬¡ä¼˜åŒ–ï¼šæ ‘çŠ¶æ•°ç»„ â†’ å‘ç°å¯ä»¥ç®€åŒ–
> 4. æœ€ç»ˆä¼˜åŒ–ï¼šæº¢å‡ºæ ‡è®° â†’ è¾¾åˆ°æœ€ä¼˜è§£

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**
* **è¯´æ˜**ï¼šç»¼åˆå„ä¼˜è´¨é¢˜è§£ï¼Œé‡‡ç”¨æ ‘çŠ¶æ•°ç»„+æº¢å‡ºæ ‡è®°çš„æœ€ä¼˜ç­–ç•¥
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <cstdio>
#include <algorithm>
using namespace std;

const int MAXN = 500005;

struct Node {
    long long val;
    bool overflow;  // æº¢å‡ºæ ‡è®°
};

Node hard[MAXN];
long long talent;
int n, m;
int tree[MAXN];  // æ ‘çŠ¶æ•°ç»„

int lowbit(int x) { return x & -x; }

void update(int pos, int delta) {
    while (pos <= n) {
        tree[pos] += delta;
        pos += lowbit(pos);
    }
}

int query(int pos) {
    int res = 0;
    while (pos > 0) {
        res += tree[pos];
        pos -= lowbit(pos);
    }
    return res;
}

int main() {
    scanf("%d%lld", &n, &talent);
    for (int i = 1; i <= n; i++) {
        scanf("%lld", &hard[i].val);
        hard[i].overflow = false;
        if (hard[i].val <= talent) {
            update(i, 1);
        }
    }
    
    scanf("%d", &m);
    while (m--) {
        char op[10];
        int x, y;
        scanf("%s%d%d", op, &x, &y);
        
        if (op[0] == 'Z') {
            if (x > y) swap(x, y);
            printf("%d\n", 600 * (query(y) - query(x-1)));
        } else if (op[0] == 't') {
            if (!hard[x].overflow && hard[x].val <= talent) update(x, -1);
            else if (!hard[x].overflow && hard[x].val > talent && y <= talent) update(x, 1);
            else if (!hard[x].overflow && hard[x].val <= talent && y > talent) update(x, -1);
            
            hard[x].val = y;
            hard[x].overflow = false;
        } else if (op[0] == 'B') {
            if (!hard[x].overflow) {
                if (hard[x].val > talent && hard[x].val - y <= talent) update(x, 1);
                else if (hard[x].val <= talent && hard[x].val - y > talent) update(x, -1);
                
                hard[x].val = max(hard[x].val - y, 1LL);
            }
        } else if (op[0] == 'G') {
            if (!hard[x].overflow) {
                if (hard[x].val <= talent && (hard[x].val * y > talent || hard[x].val * y <= 0)) update(x, -1);
                
                hard[x].val *= y;
                if (hard[x].val <= 0) {
                    hard[x].overflow = true;
                    hard[x].val = -1;
                }
            }
        }
    }
    
    return 0;
}
```

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**åŠ¨ç”»ä¸»é¢˜**ï¼š"åƒç´ å‹‡å£«çš„åˆ·é¢˜ä¹‹æ—…"

**è®¾è®¡æ€è·¯**ï¼š
- ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºä¸€ä¸ªè¿›åº¦æ¡ï¼Œæ¯ä¸ªåƒç´ å—ä»£è¡¨ä¸€é“é¢˜ç›®
- ç»¿è‰²åƒç´ è¡¨ç¤ºå¯ACé¢˜ç›®ï¼Œçº¢è‰²è¡¨ç¤ºä¸å¯AC
- æ“ä½œBookCityæ—¶åƒç´ å—å‘ä¸‹ç§»åŠ¨ï¼ˆéš¾åº¦é™ä½ï¼‰
- æ“ä½œGuyæ—¶åƒç´ å—å‘ä¸Šæš´æ¶¨ï¼ˆéš¾åº¦å¢åŠ ï¼‰
- æŸ¥è¯¢æ“ä½œä¼šé«˜äº®æ˜¾ç¤ºæŸ¥è¯¢åŒºé—´å¹¶è®¡æ•°ç»¿è‰²åƒç´ 

**äº¤äº’è®¾è®¡**ï¼š
- å·¦ä¾§æ˜¾ç¤ºå½“å‰æŸ¥è¯¢åŒºé—´[x,y]
- å³ä¾§å®æ—¶æ˜¾ç¤ºACé¢˜ç›®è®¡æ•°
- åº•éƒ¨æ§åˆ¶æ¡å¯è°ƒèŠ‚åŠ¨ç”»é€Ÿåº¦
- éŸ³æ•ˆï¼šæˆåŠŸACæ—¶æ’­æ”¾"å®"çš„æç¤ºéŸ³

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

**é€šç”¨æ€è·¯è¿ç§»**ï¼š
1. å¸¦ä¿®æ”¹çš„åŒºé—´ç»Ÿè®¡é—®é¢˜
2. æ•°å€¼å¯èƒ½æº¢å‡ºçš„åŒºé—´æŸ¥è¯¢
3. éœ€è¦ç‰¹æ®Šå¤„ç†è¾¹ç•Œæ¡ä»¶çš„åŒºé—´é—®é¢˜

**ç»ƒä¹ æ¨è**ï¼š
1. **P3372** - çº¿æ®µæ ‘æ¨¡æ¿1
   * ğŸ—£ï¸ æ¨èç†ç”±ï¼šæœ€åŸºç¡€çš„çº¿æ®µæ ‘å•ç‚¹ä¿®æ”¹+åŒºé—´æŸ¥è¯¢ï¼Œé€‚åˆå·©å›ºåŸºç¡€
2. **P3368** - æ ‘çŠ¶æ•°ç»„æ¨¡æ¿2
   * ğŸ—£ï¸ æ¨èç†ç”±ï¼šå­¦ä¹ æ ‘çŠ¶æ•°ç»„çš„åŒºé—´ä¿®æ”¹æŠ€å·§
3. **P1908** - é€†åºå¯¹
   * ğŸ—£ï¸ æ¨èç†ç”±ï¼šæ ‘çŠ¶æ•°ç»„çš„ç»å…¸åº”ç”¨ï¼Œç†è§£ç¦»æ•£åŒ–æ€æƒ³
4. **P4588** - é­”æ³•å€¼
   * ğŸ—£ï¸ æ¨èç†ç”±ï¼šç±»ä¼¼çš„éœ€è¦å¤„ç†å¤§æ•°æº¢å‡ºçš„åŒºé—´é—®é¢˜

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

**æ¥è‡ªå‡ºé¢˜äººçš„å¿ å‘Š**ï¼š
> "è¿™é¢˜å…¶å®ä¸hardå€¼çš„ç»å¯¹å¤§å°æ²¡æœ‰ä»€ä¹ˆå…³ç³»...æˆ‘ä»¬å¯ä»¥ä¸ç”¨ç®¡å®ƒå‘€" - è¿½æ¢¦_Chen
>
> **æ´›è¯­äº‘ç¬ºç‚¹è¯„**ï¼šè¿™æé†’æˆ‘ä»¬ï¼Œåœ¨ç®—æ³•ç«èµ›ä¸­ï¼Œæœ‰æ—¶ä¸éœ€è¦ç²¾ç¡®è®¡ç®—æ‰€æœ‰æ•°å€¼ï¼Œç†è§£"è¶…å‡ºèŒƒå›´åçš„è¡Œä¸º"å¾€å¾€èƒ½æä¾›æ›´ç®€æ´çš„è§£æ³•ã€‚è¿™ç§"è¿‘ä¼¼æ­£ç¡®"çš„æ€ç»´åœ¨ç‰¹å®šåœºæ™¯ä¸‹æ¯”"ç»å¯¹ç²¾ç¡®"æ›´é«˜æ•ˆã€‚

## ç»“è¯­

æœ¬æ¬¡å…³äº"ç¥ç§˜çš„703"çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›å¤§å®¶é€šè¿‡è¿™é“é¢˜å­¦ä¼šäº†ï¼š
1. å¦‚ä½•æ ¹æ®æ“ä½œç‰¹æ€§é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„
2. å¦‚ä½•å¤„ç†æ•°æ®æº¢å‡ºçš„å·§å¦™æ–¹æ³•
3. æ ‘çŠ¶æ•°ç»„ä¸çº¿æ®µæ ‘çš„é€‚ç”¨åœºæ™¯

è®°ä½ï¼Œä¼˜ç§€çš„ç®—æ³•å¾€å¾€æºäºå¯¹é—®é¢˜æœ¬è´¨çš„æ·±åˆ»æ´å¯Ÿï¼ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š99.15ç§’
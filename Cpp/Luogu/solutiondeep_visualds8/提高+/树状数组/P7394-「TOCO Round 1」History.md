# é¢˜ç›®ä¿¡æ¯

# ã€ŒTOCO Round 1ã€History

## é¢˜ç›®æè¿°

è¿™é‡Œæœ‰ä¸€æ£µ $n$ ä¸ªç»“ç‚¹æ ¹ä¸º $1$ å·ç»“ç‚¹çš„æ ‘ï¼Œæ¯ä¸ªç»“ç‚¹ä¸Šéƒ½æœ‰ä¸€ç›ç¯ï¼Œåˆå§‹çŠ¶æ€éƒ½æ˜¯å…³é—­ã€‚ç°åœ¨æœ‰ $m$ æ¬¡äº‹ä»¶å‘ç”Ÿï¼Œæœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š

`1 x` å°† $x$ ä½ç½®ä¸Šçš„ç¯æ‰“å¼€æˆ–å…³é—­ï¼ˆåŸæ¥å¦‚æœæ‰“å¼€å°±å…³é—­ï¼Œå¦åˆ™æ‰“å¼€ï¼‰ã€‚

`2 x y` è¯¢é—®æ ‘ä¸Šä¸ $x$ ç›¸åŒæ·±åº¦çš„ç‚¹ä¸­ä¸ $x$ ç»“ç‚¹è·ç¦»ä¸º $y$ çš„ç‚¹ä¸­å¼€ç€çš„ç¯çš„ä¸ªæ•°ã€‚

`3 x` å›åˆ°ç¬¬ $x$ æ¬¡äº‹ä»¶å‘ç”Ÿä¹‹åçš„çŠ¶æ€ã€‚

å¯¹äºæ¯ä¸ª $2$ è¯¢é—®è¯·ç»™å‡ºå›ç­”ã€‚





## è¯´æ˜/æç¤º

**æœ¬é¢˜é‡‡ç”¨æ‰“åŒ…æµ‹è¯„ã€‚**

* Subtask 1ï¼ˆ10 ptsï¼‰ï¼šæ»¡è¶³æ‰€æœ‰è¯¢é—®ä¸­ $y \bmod 2=1$ã€‚


* Subtask 2ï¼ˆ20 ptsï¼‰ï¼š$n,m\leq 10$ã€‚

* Subtask 3ï¼ˆ30 ptsï¼‰ï¼š$n,m\leq 10^3$ã€‚

* Subtask 4ï¼ˆ40 ptsï¼‰ï¼š$n,m\leq 10^5$ã€‚

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$1\leq n,m\leq 10^5$ï¼Œ$3$ æ“ä½œä¿è¯ $0 \leq x$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
1 2
1 3
6
1 3
2 2 2
1 2
2 2 2
1 3
2 2 2```

### è¾“å‡º

```
1
1
0```

# AIåˆ†æç»“æœ

---
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šHistory æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æã€ŒTOCO Round 1ã€History è¿™é“ C++ ç¼–ç¨‹é¢˜ã€‚  
> è¿™ä¸ä»…æ˜¯ä¸€æ£µä¼šå‘å…‰çš„æ ‘ï¼Œæ›´æ˜¯ä¸€åœº**ç¦»çº¿æ€ç»´ + æ ‘å½¢ç»“æ„ + æ•°æ®ç»“æ„**çš„ä¸‰é‡æ¢é™©ã€‚  
> è®©æˆ‘ä»¬åƒä¾¦æ¢ä¸€æ ·ï¼Œä»**æ“ä½œå¯é€†**ä¸**å†å²ç‰ˆæœ¬**è¿™ä¸¤æ¡çº¿ç´¢å‡ºå‘ï¼Œæ‹†è§£å®ƒçš„å±‚å±‚ä¼ªè£…ï¼

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

### âœ¨ æ ¸å¿ƒæŒ‘æˆ˜
> **åœ¨ä¸€æ£µæ ¹ä¸º 1 çš„æ ‘ä¸­ï¼Œæ”¯æŒä¸‰ç§æ“ä½œï¼šå•ç‚¹å¼‚æˆ–ç¯çŠ¶æ€ã€æŸ¥è¯¢ä¸ x åŒæ·±åº¦ä¸”è·ç¦»ä¸º y çš„äº®ç¯æ•°é‡ã€å›åˆ°å†å²ç‰ˆæœ¬ã€‚æ‰€æœ‰æŸ¥è¯¢å¿…é¡»ç¦»çº¿å›ç­”ã€‚**

### âœ¨ æ ¸å¿ƒç®—æ³•æ ‡ç­¾
- **ç¦»çº¿ç®—æ³•**ï¼ˆæ“ä½œæ ‘ / DFS æ—¶é—´è½´ï¼‰
- **æ ‘ä¸Šå€å¢ / BFS åº / DFS åº**
- **åŒºé—´æ•°æ®ç»“æ„**ï¼ˆæ ‘çŠ¶æ•°ç»„ / åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘ / ä¸»å¸­æ ‘ï¼‰

### ğŸ—£ï¸ åˆæ­¥åˆ†æ
1. **æ“ä½œ 3** æ˜¯â€œå›åˆ°ç¬¬ x æ¬¡äº‹ä»¶ä¹‹åçš„çŠ¶æ€â€â€”â€”**å¯é€†æ“ä½œ** â‡’ å»º**æ“ä½œæ ‘**ï¼ŒDFS æ—¶è¿›å…¥ç»“ç‚¹æ‰§è¡Œã€å›æº¯æ—¶æ’¤é”€å³å¯ã€‚  
2. **æ“ä½œ 2** è¦æ±‚â€œåŒæ·±åº¦ & è·ç¦» yâ€â€”â€”  
   - è‹¥ y ä¸ºå¥‡æ•° â‡’ ç­”æ¡ˆå¿…ä¸º 0ï¼ˆåŒå±‚èŠ‚ç‚¹è·ç¦»å¿…å¶ï¼‰ã€‚  
   - è‹¥ y ä¸ºå¶æ•° â‡’ ç­”æ¡ˆè½åœ¨ `x çš„ y/2 çº§ç¥–å…ˆ` çš„ **y/2 çº§å­å­™** ä¸­ï¼Œä¸”ä»éœ€æ’é™¤æ›´è¿‘ç¥–å…ˆçš„å¹²æ‰° â‡’ **ä¸¤æ¬¡åŒºé—´æŸ¥è¯¢ç›¸å‡**ã€‚  
3. **åŒºé—´å¦‚ä½•å–ï¼Ÿ**  
   - **BFS åº**ä¿è¯åŒå±‚èŠ‚ç‚¹è¿ç»­ï¼›**DFS åº**ä¿è¯å­æ ‘è¿ç»­ã€‚  
   - äºæ˜¯å¯ç”¨ **æ ‘çŠ¶æ•°ç»„ / çº¿æ®µæ ‘** ç»´æŠ¤â€œäº®ç¯ä¸ªæ•°â€ï¼ŒæŠŠä¸¤æ¬¡åŒºé—´æŸ¥è¯¢å˜æˆ **å‰ç¼€å’Œç›¸å‡**ã€‚

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
| çº¿ç´¢ | ä¿¡å· | æŒ‡å‘ |
|---|---|---|
| æ“ä½œå¯é€† | `1 x` åªæ˜¯å¼€å…³ç¯ï¼Œå¯æ’¤é”€ | **æ“ä½œæ ‘ + DFS å›æº¯** |
| å†å²ç‰ˆæœ¬ | `3 x` å›åˆ°å†å²æ—¶åˆ» | **ç¦»çº¿ + å»ºå›¾** |
| è·ç¦»çº¦æŸ | åŒæ·±åº¦ & è·ç¦» y | **å¥‡å¶å‰ªæ + ç¥–å…ˆ/å­å­™å®šä½** |
| åŒºé—´æŸ¥è¯¢ | åŒå±‚èŠ‚ç‚¹åœ¨ BFS åºè¿ç»­ | **æ ‘çŠ¶æ•°ç»„/çº¿æ®µæ ‘** |

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> 1. çœ‹åˆ° **å›åˆ°å†å²ç‰ˆæœ¬** â€”â€” ç¦»çº¿ï¼  
> 2. çœ‹åˆ° **å¼€å…³ç¯å¯é€†** â€”â€” æ“ä½œæ ‘ï¼  
> 3. çœ‹åˆ° **åŒæ·±åº¦ & è·ç¦» y** â€”â€” å¥‡å¶å‰ªæ + ç¥–å…ˆå€å¢ï¼  
> 4. çœ‹åˆ° **ç»Ÿè®¡ä¸ªæ•°** â€”â€” åŒºé—´æ•°æ®ç»“æ„ï¼  
> 5. çœ‹åˆ° **åŒºé—´å®šä½** â€”â€” BFS/DFS åºï¼  
> **ç»“è®º**ï¼šå°†å››æ¬¡è§‚å¯Ÿæ‹¼æˆä¸€å¼ åœ°å›¾ï¼š**æ“ä½œæ ‘ + å€å¢ + BFS/DFS åº + BIT/çº¿æ®µæ ‘** å°±æ˜¯é€šå…³é’¥åŒ™ï¼

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šbzyï¼ˆèµ 13ï¼‰â€”â€” **BFS åº + BIT å• log**
- **äº®ç‚¹**  
  - ç¦»çº¿å»ºæ“ä½œæ ‘ï¼ŒDFS è¿›å…¥/å›æº¯æ’¤é”€ã€‚  
  - åˆ©ç”¨ **BFS åºè¿ç»­** æŠŠâ€œåŒæ·±åº¦åŒè·ç¦»â€åŒºé—´æ‹†æˆä¸¤æ¬¡å‰ç¼€å’Œï¼Œæ ‘çŠ¶æ•°ç»„ç»´æŠ¤ã€‚  
  - æ—¶é—´å¤æ‚åº¦ **O((n+m) log n)**ï¼Œç©ºé—´ O(n+m)ã€‚  
- **å­¦ä¹ ç¬”è®°**  
  - æŠŠæ ‘ä¸ŠäºŒç»´ä¿¡æ¯ï¼ˆæ·±åº¦ + å­æ ‘ï¼‰å‹åˆ°ä¸€ç»´ BFS åºï¼Œæ˜¯ç»å…¸é™ç»´æ‰“å‡»ã€‚

### é¢˜è§£äºŒï¼šCharlie_ljkï¼ˆèµ 4ï¼‰â€”â€” **åŒ log åšæ³•ï¼Œå¸¸æ•°å°**
- **äº®ç‚¹**  
  - ç”¨ **äºŒåˆ† + BFS åº** æ‰¾åŒºé—´ç«¯ç‚¹ï¼Œå†ç”¨ BIT æŸ¥è¯¢ã€‚  
  - ä»£ç çŸ­ã€å¸¸æ•°å°ï¼Œå®æˆ˜æœ€å¿«ã€‚  
- **å­¦ä¹ ç¬”è®°**  
  - å½“åŒºé—´ç«¯ç‚¹å¯é€šè¿‡å•è°ƒæ€§äºŒåˆ†å¾—åˆ°æ—¶ï¼Œ**åŒ log** å¾€å¾€æ¯” **å• log** æ›´å¿«ã€‚

### é¢˜è§£ä¸‰ï¼šLynkcatï¼ˆèµ 9ï¼‰â€”â€” **DFS åº + åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘**
- **äº®ç‚¹**  
  - ç»™æ¯ä¸ªæ·±åº¦å¼€ä¸€æ£µçº¿æ®µæ ‘ï¼Œç»´æŠ¤ DFS åºåŒºé—´ã€‚  
  - æŸ¥è¯¢ç›´æ¥åœ¨ä¸¤æ£µçº¿æ®µæ ‘ä¸Šåšå·®ã€‚  
- **å­¦ä¹ ç¬”è®°**  
  - åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘é€‚ç”¨äºâ€œå€¼åŸŸå¤§ã€å®é™…ç‚¹æ•°å°‘â€çš„åœºæ™¯ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆæœ€ä¼˜è§£æ³•ï¼šBFS åº + BITï¼‰
| å…³é”®ç‚¹ | åˆ†æ | å­¦ä¹ ç¬”è®° |
|---|---|---|
| **1. å»ºæ“ä½œæ ‘** | å°† `1/2` æ“ä½œç”± `i-1 â†’ i` è¿è¾¹ï¼Œ`3 x` ç”± `x â†’ i` è¿è¾¹ï¼Œå½¢æˆæ£®æ—ã€‚DFS è¿›å…¥ç»“ç‚¹æ‰§è¡Œï¼Œå›æº¯æ’¤é”€ã€‚ | å¯é€†æ“ä½œ â‡’ æ“ä½œæ ‘æ˜¯ç¦»çº¿ä¸‡èƒ½å¥—è·¯ã€‚ |
| **2. åŒºé—´å®šä½** | å¯¹äºæŸ¥è¯¢ `(x, y)`ï¼Œè‹¥ y ä¸ºå¶æ•°ï¼Œå®šä½åˆ° `anc = x çš„ y/2 çº§ç¥–å…ˆ`ï¼Œå…¶ y/2 çº§å­å­™åœ¨ BFS åºè¿ç»­ã€‚ | BFS åºè®©â€œåŒå±‚â€è¿ç»­ï¼Œå€å¢è®©â€œç¥–å…ˆ/å­å­™â€å¿«é€Ÿå®šä½ã€‚ |
| **3. åŒºé—´æŸ¥è¯¢** | ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ BFS åºå‰ç¼€å’Œã€‚ç­”æ¡ˆ = `query(R) - query(L-1)`ã€‚ | BIT å¸¸æ•°å°ï¼Œé€‚åˆå‰ç¼€å’Œåœºæ™¯ã€‚ |

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§ Aï¼šé—®é¢˜é™ç»´**  
  æŠŠâ€œæ·±åº¦ Ã— å­æ ‘â€äºŒç»´ä¿¡æ¯å‹åˆ°â€œBFS åºâ€ä¸€ç»´ï¼Œé…åˆ BIT æŸ¥è¯¢ã€‚
- **æŠ€å·§ Bï¼šå¯é€†æ“ä½œç¦»çº¿**  
  æ‰€æœ‰ä¿®æ”¹å¯é€† â‡’ å»ºæ“ä½œæ ‘ï¼ŒDFS æ—¶æ‰§è¡Œ + å›æº¯æ’¤é”€ï¼Œå¤©ç„¶æ”¯æŒå†å²ç‰ˆæœ¬ã€‚
- **æŠ€å·§ Cï¼šå¥‡å¶å‰ªæ**  
  åŒå±‚èŠ‚ç‚¹è·ç¦»å¿…å¶ï¼Œå¥‡æ•° y ç›´æ¥è¾“å‡º 0ï¼ŒèŠ‚çœå¤§é‡è®¡ç®—ã€‚

### âš”ï¸ ç­–ç•¥ç«æŠ€åœº
| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|---|---|---|---|---|
| æš´åŠ› BFS æ¯æ¬¡æŸ¥è¯¢ | ç›´æ¥ BFS æ‰¾è·ç¦» y çš„ç‚¹ | æ€è·¯ç®€å• | O(mÂ·n) è¶…æ—¶ | n,mâ‰¤1e3 éƒ¨åˆ†åˆ† |
| DFS åº + çº¿æ®µæ ‘ | æ¯æ·±åº¦ä¸€æ£µçº¿æ®µæ ‘ | æ¨¡å‹æ¸…æ™° | åŠ¨æ€å¼€ç‚¹å¸¸æ•°å¤§ | å–œæ¬¢çº¿æ®µæ ‘å†™æ³• |
| **BFS åº + BIT** | é™ç»´ + å‰ç¼€å’Œ | å¸¸æ•°æœ€å°ï¼Œä»£ç çŸ­ | éœ€äºŒåˆ†åŒºé—´ç«¯ç‚¹ | **æœ€ä¼˜è§£** |

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒï¼ˆBFS åº + BITï¼‰
> ç»¼åˆ bzy ä¸ Charlie_ljk æ€è·¯ï¼Œæä¾›æœ€ç®€æ´å¯ AC ç‰ˆæœ¬ã€‚

```cpp
#include <bits/stdc++.h>
using namespace std;
const int N = 1e5 + 10;

/* ========== å›¾ & æ ‘ ========== */
vector<int> g[N];
int dep[N], fa[N][20], bfn[N], pos[N], tot;

void bfs() {
    queue<int> q; q.push(1);
    while (!q.empty()) {
        int u = q.front(); q.pop();
        bfn[u] = ++tot; pos[tot] = u;
        for (int v : g[u]) if (!bfn[v]) {
            dep[v] = dep[u] + 1;
            fa[v][0] = u;
            for (int k = 1; k < 20; ++k)
                fa[v][k] = fa[fa[v][k - 1]][k - 1];
            q.push(v);
        }
    }
}

int kth(int u, int k) {
    for (int i = 0; k; ++i, k >>= 1)
        if (k & 1) u = fa[u][i];
    return u;
}

/* ========== BIT ========== */
int bit[N];
void add(int x, int v) { for (; x <= tot; x += x & -x) bit[x] += v; }
int sum(int x) { int r = 0; for (; x; x -= x & -x) r += bit[x]; return r; }

/* ========== æ“ä½œæ ‘ ========== */
struct Q { int op, x, y; } q[N];
vector<int> son[N];
int ans[N], val[N];

void dfs(int u) {
    int op = q[u].op, x = q[u].x, y = q[u].y;
    if (op == 1) {
        val[x] ^= 1;
        add(bfn[x], val[x] ? 1 : -1);
    } else if (op == 2 && y % 2 == 0) {
        int d = y / 2, anc = kth(x, d);
        if (!anc) { ans[u] = 0; }
        else {
            int l = 1, r = tot, L = 0, R = 0;
            auto chk = [&](int mid) {
                int v = pos[mid];
                return kth(v, d) == anc;
            };
            // æ‰¾å·¦ç«¯ç‚¹
            while (l <= r) {
                int mid = (l + r) / 2;
                if (chk(mid)) L = mid, r = mid - 1;
                else if (bfn[kth(pos[mid], d)] < bfn[anc]) l = mid + 1;
                else r = mid - 1;
            }
            // æ‰¾å³ç«¯ç‚¹
            l = 1, r = tot;
            while (l <= r) {
                int mid = (l + r) / 2;
                if (chk(mid)) R = mid, l = mid + 1;
                else if (bfn[kth(pos[mid], d)] < bfn[anc]) l = mid + 1;
                else r = mid - 1;
            }
            if (L && R) ans[u] = sum(R) - sum(L - 1);
            else ans[u] = 0;
            // å†å‡å»æ›´è¿‘ç¥–å…ˆçš„è´¡çŒ®
            anc = kth(x, d - 1);
            if (anc) {
                l = 1, r = tot, L = 0, R = 0;
                while (l <= r) {
                    int mid = (l + r) / 2;
                    if (kth(pos[mid], d - 1) == anc) L = mid, r = mid - 1;
                    else if (bfn[kth(pos[mid], d - 1)] < bfn[anc]) l = mid + 1;
                    else r = mid - 1;
                }
                l = 1, r = tot;
                while (l <= r) {
                    int mid = (l + r) / 2;
                    if (kth(pos[mid], d - 1) == anc) R = mid, l = mid + 1;
                    else if (bfn[kth(pos[mid], d - 1)] < bfn[anc]) l = mid + 1;
                    else r = mid - 1;
                }
                if (L && R) ans[u] -= sum(R) - sum(L - 1);
            }
        }
    }
    for (int v : son[u]) dfs(v);
    if (op == 1) {
        val[x] ^= 1;
        add(bfn[x], val[x] ? -1 : 1);
    }
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    int n, m; cin >> n;
    for (int i = 1, u, v; i < n; ++i) {
        cin >> u >> v;
        g[u].push_back(v); g[v].push_back(u);
    }
    dep[0] = -1; bfs();
    cin >> m;
    for (int i = 1; i <= m; ++i) {
        cin >> q[i].op >> q[i].x;
        if (q[i].op == 2) cin >> q[i].y;
        if (q[i].op != 3) son[i - 1].push_back(i);
        else { int x; cin >> x; son[x].push_back(i); }
    }
    dfs(0);
    for (int i = 1; i <= m; ++i) if (q[i].op == 2) cout << ans[i] << '\n';
    return 0;
}
```

### ä»£ç è§£è¯»æ¦‚è¦
- **bfs()**ï¼šè®¡ç®—æ·±åº¦ã€å€å¢çˆ¶è¡¨ã€bfs åºã€‚  
- **kth()**ï¼šæ ‘ä¸Šå€å¢æ±‚ k çº§ç¥–å…ˆã€‚  
- **BIT**ï¼šå•ç‚¹ä¿®æ”¹ã€å‰ç¼€æŸ¥è¯¢ã€‚  
- **dfs()**ï¼šåœ¨æ“ä½œæ ‘ä¸Š DFSï¼Œè¿›å…¥æ—¶æ‰§è¡Œæ“ä½œï¼Œå›æº¯æ—¶æ’¤é”€ï¼›å¯¹æŸ¥è¯¢äºŒåˆ†åŒºé—´åä¸¤æ¬¡ BIT æŸ¥è¯¢æ±‚ç­”æ¡ˆã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### ä¸»é¢˜
**â€œåƒç´ ç‚¹ç¯å¸ˆâ€** åœ¨ 8Ã—8 çš„æ ‘ä¸Šç‚¹äº®/ç†„ç­ç¯æ³¡ï¼Œå®æ—¶å±•ç¤º BFS åºåŒºé—´æŸ¥è¯¢ã€‚

### æ ¸å¿ƒæ¼”ç¤º
- **åœºæ™¯**ï¼š8Ã—8 åƒç´ ç½‘æ ¼ï¼ŒèŠ‚ç‚¹ä¸ºç¯æ³¡ï¼Œé¢œè‰² = æ·±åº¦ã€‚  
- **æ“ä½œå¯è§†åŒ–**  
  1. æ“ä½œ `1 x`ï¼šç¯æ³¡ x é—ªä¸€ä¸‹ï¼ˆç»¿â†’ç°æˆ–ç°â†’ç»¿ï¼‰ï¼Œä¼´éš 8-bit â€œå•ªâ€å£°ã€‚  
  2. æ“ä½œ `2 x y`ï¼š  
     - è‹¥ y å¥‡æ•° â‡’ çº¢è‰² â€œÃ—â€ è¦†ç›–å…¨å±ï¼Œæç¤º 0ã€‚  
     - è‹¥ y å¶æ•° â‡’ åƒç´ ç®­å¤´æŒ‡å‘ `x çš„ y/2 çº§ç¥–å…ˆ`ï¼Œéšåé«˜äº®å…¶ y/2 çº§å­å­™åŒºé—´ï¼ŒBIT å‰ç¼€å’ŒåŠ¨ç”»æ»šåŠ¨æ˜¾ç¤ºç­”æ¡ˆã€‚  
  3. æ“ä½œ `3 x`ï¼šæ—¶é—´çº¿å›å·åˆ°ç¬¬ x å¸§ï¼Œåƒç´ åŒ–â€œå€’å¸¦â€ç‰¹æ•ˆ + å¤å¤ç£å¸¦å£°ã€‚

### äº¤äº’é¢æ¿
- æ­¥è¿› / è‡ªåŠ¨æ’­æ”¾ / è°ƒé€Ÿæ»‘å—ã€‚  
- ä¾§è¾¹æ˜¾ç¤ºå½“å‰ BIT æ•°ç»„çš„åƒç´ æ¡æŸ±å½¢å›¾ã€‚  
- â€œAI è‡ªåŠ¨æ¼”ç¤ºâ€æŒ‰é’®ï¼Œæ¨¡æ‹Ÿ DFS å›æº¯æ’¤é”€ã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»
- **æ“ä½œæ ‘ + å¯é€†ä¿®æ”¹**ï¼šé€‚ç”¨äºæ‰€æœ‰æ”¯æŒæ’¤é”€çš„åºåˆ—é—®é¢˜ï¼ˆå¦‚çº¿æ®µæ ‘å¯æŒä¹…åŒ–æ›¿ä»£ï¼‰ã€‚  
- **æ ‘ä¸ŠåŒºé—´é™ç»´**ï¼šå°†â€œæ·±åº¦ Ã— å­æ ‘â€å‹åˆ°ä¸€ç»´ BFS/DFS åºï¼Œå¯è§£å†³**å­æ ‘æŒ‰æ·±åº¦ç»Ÿè®¡**ã€**åŒå±‚èŠ‚ç‚¹åŒºé—´æŸ¥è¯¢**ç­‰é—®é¢˜ã€‚  
- **å¥‡å¶å‰ªæ**ï¼šæ ‘ä¸Šè·ç¦»å¥‡å¶æ€§åˆ¤æ–­ï¼Œå¸¸ç”¨äº**äºŒåˆ†å›¾æŸ“è‰²**ã€**è·ç¦»å¥‡å¶æ€§çº¦æŸ**ã€‚

### æ´›è°·æ¨è
1. **P3384ã€æ¨¡æ¿ã€‘é‡é“¾å‰–åˆ†**  
   - å·©å›ºæ ‘ä¸ŠåŒºé—´æ•°æ®ç»“æ„ã€‚  
2. **P4211 [LNOI2014]LCA**  
   - ç¦»çº¿ + æ ‘ä¸Šå·®åˆ† + åŒºé—´æŸ¥è¯¢ï¼Œä¸æœ¬é¢˜æ€æƒ³ä¸€è‡´ã€‚  
3. **P4556 [Vaniæœ‰çº¦ä¼š]é›¨å¤©çš„å°¾å·´**  
   - æ“ä½œæ ‘ + æ ‘ä¸Šå·®åˆ† + çº¿æ®µæ ‘åˆå¹¶ï¼Œä½“éªŒæ›´å¤æ‚çš„å¯é€†æ“ä½œã€‚  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«ï¼ˆèŠ‚é€‰ï¼‰

> **bzy**ï¼šâ€œç¬¬ä¸€æ¬¡å†™ BFS åº + BIT æ—¶æŠŠåŒºé—´ç«¯ç‚¹å†™åäº†ï¼Œ**æ‰“å° BIT æ•°ç»„** æ‰å‘ç°é—®é¢˜ã€‚è°ƒè¯•æ ‘ä¸ŠåŒºé—´é¢˜ï¼Œ**å…ˆç”» bfs/dfs åºç¼–å·** æ˜¯ç‹é“ï¼â€  
> **æ´›è¯­äº‘ç¬ºç‚¹è¯„**ï¼šåŠ¨æ‰‹ç”»å›¾æ°¸è¿œæ˜¯æ ‘ä¸Šé—®é¢˜çš„æœ€ä½³è°ƒè¯•æ‰‹æ®µã€‚

---

<conclusion>
History ä¸€é¢˜ï¼Œç”¨ç¦»çº¿æ€ç»´æŠŠâ€œæ—¶é—´æ—…è¡Œâ€å˜æˆ**æ“ä½œæ ‘éå†**ï¼Œç”¨ BFS åºæŠŠâ€œäºŒç»´æ ‘ä¸Šä¿¡æ¯â€å‹ç¼©æˆ**ä¸€ç»´åŒºé—´æŸ¥è¯¢**ã€‚æŒæ¡è¿™ä¸‰æ¿æ–§â€”â€”**æ“ä½œæ ‘ã€å€å¢å®šä½ã€BIT/çº¿æ®µæ ‘**ï¼Œä½ å°±æ‹¥æœ‰äº†åœ¨æ ‘ä¸Šâ€œéšæ„ç©¿æ¢­â€çš„è¶…èƒ½åŠ›ï¼ä¸‹æ¬¡å†é‡åˆ°å¯é€†æ“ä½œ + å†å²ç‰ˆæœ¬ï¼Œåˆ«å¿˜äº†ä»Šå¤©çš„æ•…äº‹ã€‚  
ç»§ç»­åŠ æ²¹ï¼Œå°‘å¹´ï¼ğŸ®âœ¨
</conclusion>

---
å¤„ç†ç”¨æ—¶ï¼š142.40ç§’
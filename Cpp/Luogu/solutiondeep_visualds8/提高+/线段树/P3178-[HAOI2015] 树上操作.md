# é¢˜ç›®ä¿¡æ¯

# [HAOI2015] æ ‘ä¸Šæ“ä½œ

## é¢˜ç›®æè¿°

æœ‰ä¸€æ£µç‚¹æ•°ä¸º $N$ çš„æ ‘ï¼Œä»¥ç‚¹ $1$ ä¸ºæ ¹ï¼Œä¸”æ ‘æœ‰ç‚¹æƒã€‚ç„¶åæœ‰ $M$ ä¸ªæ“ä½œï¼Œåˆ†ä¸ºä¸‰ç§ï¼š
- æ“ä½œ $1$ï¼šæŠŠæŸä¸ªèŠ‚ç‚¹ $x$ çš„ç‚¹æƒå¢åŠ  $a$ã€‚
- æ“ä½œ $2$ï¼šæŠŠæŸä¸ªèŠ‚ç‚¹ $x$ ä¸ºæ ¹çš„å­æ ‘ä¸­æ‰€æœ‰ç‚¹çš„ç‚¹æƒéƒ½å¢åŠ  $a$ã€‚
- æ“ä½œ $3$ï¼šè¯¢é—®æŸä¸ªèŠ‚ç‚¹ $x$ åˆ°æ ¹çš„è·¯å¾„ä¸­æ‰€æœ‰ç‚¹çš„ç‚¹æƒå’Œã€‚


## è¯´æ˜/æç¤º

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$1\le N,M\le10^5$ï¼Œä¸”æ‰€æœ‰è¾“å…¥æ•°æ®çš„ç»å¯¹å€¼éƒ½ä¸ä¼šè¶…è¿‡ $10^6$ã€‚


## æ ·ä¾‹ #1

### è¾“å…¥

```
5 5
1 2 3 4 5
1 2
1 4
2 3
2 5
3 3
1 2 1
3 5
2 1 2
3 3```

### è¾“å‡º

```
6
9
13```

# AIåˆ†æç»“æœ

---
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼š[HAOI2015] æ ‘ä¸Šæ“ä½œ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä½ ä»¬çš„ç®—æ³•ä¼™ä¼´æ´›è¯­äº‘ç¬ºï¼ä»Šå¤©æˆ‘ä»¬å°†ä¸€èµ·æ”»å…‹ä¸€é“ç»å…¸çš„**æ ‘ç»“æ„ç»´æŠ¤é—®é¢˜**â€”â€”ã€ŒHAOI2015 æ ‘ä¸Šæ“ä½œã€ã€‚è¿™ä¸ä»…æ˜¯ä¸€é“é¢˜ï¼Œæ›´æ˜¯ä¸€æŠŠé’¥åŒ™ï¼Œèƒ½å¸®æˆ‘ä»¬æ‰“å¼€**æ ‘é“¾å‰–åˆ†ï¼ˆHeavy-Light Decomposition, HLDï¼‰**å’Œ**é«˜çº§æ•°æ®ç»“æ„**çš„å¤§é—¨ã€‚

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼šåœ¨æ‹¥æœ‰10^5ä¸ªèŠ‚ç‚¹å’Œ10^5æ¬¡æ“ä½œçš„æ ‘ä¸Šï¼Œæˆ‘ä»¬éœ€è¦**é«˜æ•ˆ**åœ°å¤„ç†ä¸‰ç§æ“ä½œï¼šå•ç‚¹ä¿®æ”¹ã€å­æ ‘ä¿®æ”¹ã€è·¯å¾„æ±‚å’Œã€‚æ ¸å¿ƒåœ¨äºå¦‚ä½•**å°†äºŒç»´çš„æ ‘ç»“æ„æ˜ å°„åˆ°ä¸€ç»´çš„çº¿æ€§ç»“æ„**ï¼Œä»è€Œåˆ©ç”¨çº¿æ®µæ ‘æˆ–æ ‘çŠ¶æ•°ç»„è¿›è¡ŒO(logN)çš„åŒºé—´æ“ä½œã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼š**æ ‘é“¾å‰–åˆ† (HLD)**ã€**çº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„**ã€**DFSåº**ã€**æ¬§æ‹‰åº**

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è¿™é“é¢˜çš„ç²¾é«“åœ¨äº**å¦‚ä½•å°†æ ‘ä¸Šçš„æ“ä½œè½¬åŒ–ä¸ºåºåˆ—ä¸Šçš„æ“ä½œ**ã€‚æœ€ç›´è§‚çš„æš´åŠ›æ€è·¯æ˜¯ï¼Œæ¯æ¬¡æ“ä½œéƒ½éå†æ•´ä¸ªå­æ ‘æˆ–è·¯å¾„ï¼Œè¿™åœ¨Nå’ŒMéƒ½ä¸º1e5æ—¶ä¼šä¸¥é‡è¶…æ—¶ã€‚æˆ‘ä»¬éœ€è¦æ›´èªæ˜çš„åŠæ³•ã€‚
>
> **æ ‘é“¾å‰–åˆ†**å°±åƒä¸€ä½æŠ€è‰ºé«˜è¶…çš„å›­ä¸ï¼Œå®ƒæŠŠä¸€æ£µæç¹å¶èŒ‚çš„å¤§æ ‘ï¼Œå·§å¦™åœ°**å‰ªæˆä¸€æ¡æ¡è½»é‡åˆ†æ˜çš„é“¾**ã€‚è¿™æ ·ï¼Œæ ‘ä¸Šçš„è·¯å¾„å°±å˜æˆäº†å‡ æ¡é“¾çš„ç»„åˆï¼Œè€Œå­æ ‘åˆ™å˜æˆäº†åºåˆ—ä¸Šçš„ä¸€ä¸ªè¿ç»­åŒºé—´ã€‚ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨çº¿æ®µæ ‘æˆ–æ ‘çŠ¶æ•°ç»„è¿™äº›å¼ºå¤§çš„**çº¿æ€§å·¥å…·**æ¥é«˜æ•ˆåœ°ç»´æŠ¤å®ƒä»¬äº†ã€‚

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
1. **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**: é¢˜ç›®è¦æ±‚å¯¹æ ‘ä¸Šçš„èŠ‚ç‚¹è¿›è¡Œ**ç‚¹æ›´æ–°**å’Œ**åŒºé—´æŸ¥è¯¢**ã€‚è¿™é‡Œçš„â€œåŒºé—´â€æ—¢å¯ä»¥æ˜¯**å­æ ‘**ä¹Ÿå¯ä»¥æ˜¯**è·¯å¾„**ã€‚
2. **çº¿ç´¢2 (é—®é¢˜çº¦æŸ/ç‰¹æ€§)**: æ ‘æ˜¯ä¸€ä¸ª**é™æ€ç»“æ„**ï¼ŒèŠ‚ç‚¹å…³ç³»ä¸ä¼šæ”¹å˜ã€‚è¿™æç¤ºæˆ‘ä»¬å¯ä»¥è¿›è¡Œ**é¢„å¤„ç†**ã€‚
3. **çº¿ç´¢3 (æ•°æ®è§„æ¨¡)**: Nå’ŒMéƒ½æ˜¯1e5çº§åˆ«ï¼Œè¿™å¼ºçƒˆæŒ‡å‘äº†**O(N log N) é¢„å¤„ç† + O(log N) æ¯æ¬¡æ“ä½œ**çš„ç®—æ³•ï¼Œæ ‘é“¾å‰–åˆ†æ­£æ˜¯ä¸ºæ­¤è€Œç”Ÿã€‚

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> 1. **ä»çº¿ç´¢1å‡ºå‘**ï¼šæ ‘ä¸Šçš„åŒºé—´æ“ä½œï¼Œè®©æˆ‘æƒ³åˆ°äº†**DFSåº**ã€‚å®ƒå¯ä»¥æŠŠå­æ ‘æ˜ å°„æˆä¸€æ®µè¿ç»­åŒºé—´ã€‚
> 2. **ä½†çº¿ç´¢2è¡¥å……é“**ï¼šè·¯å¾„æŸ¥è¯¢æ€ä¹ˆåŠï¼ŸDFSåºå¤„ç†è·¯å¾„å¾ˆå›°éš¾ã€‚è¿™æ—¶ï¼Œ**æ ‘é“¾å‰–åˆ†**é—ªäº®ç™»åœºï¼å®ƒé€šè¿‡ä¸¤æ¬¡DFSï¼Œå°†æ ‘æ‹†åˆ†æˆå¤šæ¡é“¾ï¼Œä½¿å¾—**ä»»æ„è·¯å¾„éƒ½èƒ½è¢«åˆ†è§£ä¸ºO(logN)æ®µé“¾ä¸Šçš„åŒºé—´**ï¼Œè€Œæ¯æ¡é“¾ä¸Šçš„èŠ‚ç‚¹åœ¨DFSåºä¸­æ˜¯è¿ç»­çš„ã€‚
> 3. **çº¿ç´¢3æœ€ç»ˆæ‹æ¿**ï¼šO(N log N)çš„é¢„å¤„ç†ï¼ˆä¸¤æ¬¡DFSï¼‰å’ŒO(log N)çš„æ¯æ¬¡æ“ä½œï¼ˆçº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„ï¼‰ï¼Œå®Œç¾ç¬¦åˆé¢˜ç›®è¦æ±‚ï¼
>
> **ç»“è®º**ï¼šæ ‘é“¾å‰–åˆ†æ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„**æ ‡å‡†ç­”æ¡ˆ**ï¼Œå®ƒä¼˜é›…åœ°å°†äºŒç»´é—®é¢˜é™ç»´æ‰“å‡»ã€‚

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ç»è¿‡ä»”ç»†ç ”è¯»å’Œè¯„ä¼°ï¼Œæˆ‘å°†ä»ä¼—å¤šé¢˜è§£ä¸­ï¼Œä¸ºä½ ç²¾é€‰å‡º**ä¸‰æ¡æœ€å…·ä»£è¡¨æ€§**çš„è·¯å¾„ï¼Œå¹¶é™„ä¸Šæˆ‘çš„æ·±åº¦ç‚¹è¯„ã€‚

### **é¢˜è§£ä¸€ï¼šzht467 (èµï¼š95) - DFSåº + çº¿æ®µæ ‘ï¼ˆå¦ç±»æ€è·¯ï¼‰**
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£ç‹¬è¾Ÿè¹Šå¾„ï¼Œæ²¡æœ‰ç›´æ¥ä½¿ç”¨æ ‘é“¾å‰–åˆ†ï¼Œè€Œæ˜¯å·§å¦™åœ°åˆ©ç”¨äº†**DFSåº**å’Œ**çº¿æ®µæ ‘**ã€‚å®ƒå°†å­æ ‘æ“ä½œè½¬åŒ–ä¸ºåŒºé—´æ“ä½œï¼Œå¹¶å°†è·¯å¾„æ±‚å’Œè½¬åŒ–ä¸ºä¸€ä¸ªå·§å¦™çš„**äºŒç»´å‰ç¼€å’Œ**é—®é¢˜ã€‚è™½ç„¶ä¸å¦‚HLDé€šç”¨ï¼Œä½†å…¶**æ•°å­¦æ¨å¯¼**éå¸¸ç²¾å½©ï¼Œå±•ç¤ºäº†**é—®é¢˜è½¬åŒ–çš„è‰ºæœ¯**ã€‚
* **æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡DFSåºï¼Œå°†å­æ ‘æ“ä½œè½¬åŒ–ä¸ºåŒºé—´æ“ä½œã€‚å¯¹äºè·¯å¾„æ±‚å’Œï¼Œåˆ©ç”¨`dis[y] * a + b`çš„å½¢å¼ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºç»´æŠ¤ä¸¤ä¸ªçº¿æ®µæ ‘ï¼Œåˆ†åˆ«å¤„ç†`a`å’Œ`b`çš„è´¡çŒ®ã€‚
* **å­¦ä¹ äº®ç‚¹**ï¼šå­¦ä¹ å¦‚ä½•å°†å¤æ‚çš„è´¡çŒ®åˆ†è§£ä¸ºç®€å•çš„ã€å¯å åŠ çš„éƒ¨åˆ†ã€‚

### **é¢˜è§£äºŒï¼šå…³æ€€ä»–äºº (èµï¼š36) - æ ‘é“¾å‰–åˆ† + çº¿æ®µæ ‘ï¼ˆæ ‡å‡†æ¨¡æ¿ï¼‰**
* **ç‚¹è¯„**ï¼šè¿™æ˜¯ä¸€ä»½**æ•™ç§‘ä¹¦çº§åˆ«çš„æ ‘é“¾å‰–åˆ†æ¨¡æ¿é¢˜è§£**ã€‚ä»£ç ç»“æ„æ¸…æ™°ï¼Œå˜é‡å‘½åè§„èŒƒï¼Œå¯¹HLDçš„ä¸¤ä¸ªæ ¸å¿ƒDFSæ­¥éª¤ï¼ˆ`dfs1`æ±‚å­æ ‘å¤§å°å’Œé‡å„¿å­ï¼Œ`dfs2`é“¾å‰–åˆ†ï¼‰è§£é‡Šå¾—éå¸¸åˆ°ä½ã€‚çº¿æ®µæ ‘çš„å®ç°ä¹Ÿååˆ†æ ‡å‡†ï¼Œæ˜¯å­¦ä¹ å’Œå¥—ç”¨çš„ç»ä½³èŒƒä¾‹ã€‚
* **æ ¸å¿ƒæ€æƒ³**ï¼šä¸¤æ¬¡DFSé¢„å¤„ç†ï¼Œå°†æ ‘ç»“æ„æ˜ å°„åˆ°çº¿æ€§åºåˆ—ã€‚ä¹‹åæ‰€æœ‰æ“ä½œï¼ˆå•ç‚¹ã€å­æ ‘ã€è·¯å¾„ï¼‰éƒ½è½¬åŒ–ä¸ºçº¿æ®µæ ‘ä¸Šçš„åŒºé—´æ“ä½œã€‚
* **å­¦ä¹ äº®ç‚¹**ï¼šæŒæ¡`id[x]`ï¼ˆæ–°ç¼–å·ï¼‰å’Œ`size[x]`ï¼ˆå­æ ‘å¤§å°ï¼‰è¿™ä¸¤ä¸ªæ•°ç»„çš„å¦™ç”¨ï¼Œå®ƒä»¬æ˜¯è¿æ¥æ ‘ç»“æ„å’Œçº¿æ®µæ ‘çš„æ¡¥æ¢ã€‚

### **é¢˜è§£ä¸‰ï¼šbenny (èµï¼š18) - æ ‘é“¾å‰–åˆ† + è¶…çº§æ ‘çŠ¶æ•°ç»„ï¼ˆä»£ç ç®€æ´ï¼‰**
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£ä¸ä»…ç»™å‡ºäº†HLDï¼Œè¿˜è¿›ä¸€æ­¥ç”¨**æ ‘çŠ¶æ•°ç»„**ï¼ˆFenwick Treeï¼‰æ›¿ä»£äº†çº¿æ®µæ ‘ï¼Œå®ç°äº†æ›´çŸ­çš„ä»£ç å’Œæ›´å¿«çš„å¸¸æ•°ã€‚ä½œè€…å¯¹â€œè¶…çº§æ ‘çŠ¶æ•°ç»„â€ï¼ˆå³ç»´æŠ¤å·®åˆ†æ•°ç»„çš„æ ‘çŠ¶æ•°ç»„ï¼‰çš„è§£é‡Šéå¸¸ç”ŸåŠ¨ï¼Œæ˜¯è¿½æ±‚ä»£ç æ•ˆç‡å’Œç®€æ´æ€§çš„å…¸èŒƒã€‚
* **æ ¸å¿ƒæ€æƒ³**ï¼šä¸é¢˜è§£äºŒç±»ä¼¼ï¼Œä½†åœ¨ç»´æŠ¤åŒºé—´å’Œæ—¶ï¼Œåˆ©ç”¨æ ‘çŠ¶æ•°ç»„çš„`O(log N)`åŒºé—´åŠ å’ŒåŒºé—´æ±‚å’Œç‰¹æ€§ï¼Œè¿›ä¸€æ­¥æå‡äº†æ•ˆç‡ã€‚
* **å­¦ä¹ äº®ç‚¹**ï¼šç†è§£æ ‘çŠ¶æ•°ç»„å¦‚ä½•é€šè¿‡ç»´æŠ¤å·®åˆ†æ•°ç»„æ¥å®ç°åŒºé—´æ“ä½œï¼Œä»¥åŠå…¶åœ¨HLDä¸­çš„åº”ç”¨ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ (æœ€ä¼˜è§£æ³•ï¼šæ ‘é“¾å‰–åˆ†)

1. **å…³é”®ç‚¹1ï¼šä¸¤æ¬¡DFSé¢„å¤„ç†**
   * **åˆ†æ**ï¼š`dfs1`ï¼ˆååºéå†ï¼‰è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„**å­æ ‘å¤§å°**ï¼ˆ`size[u]`ï¼‰å’Œ**é‡å„¿å­**ï¼ˆ`son[u]`ï¼‰ã€‚`dfs2`ï¼ˆä¼˜å…ˆéå†é‡å„¿å­ï¼‰è¿›è¡Œ**é“¾å‰–åˆ†**ï¼Œä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ä¸ª**æ–°ç¼–å·**ï¼ˆ`id[u]`ï¼‰ï¼Œä½¿å¾—åŒä¸€æ¡é“¾ä¸Šçš„èŠ‚ç‚¹ç¼–å·è¿ç»­ï¼Œå¹¶ä¸”ä¸€ä¸ªå­æ ‘å†…çš„èŠ‚ç‚¹ç¼–å·ä¹Ÿè¿ç»­ã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`id[u]`æ˜¯è¿æ¥æ ‘å’Œçº¿æ®µæ ‘çš„**å…³é”®æ¡¥æ¢**ã€‚`size[u]`åˆ™å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½ä¸€ä¸ªå­æ ‘åœ¨çº¿æ®µæ ‘ä¸Šçš„åŒºé—´èŒƒå›´ã€‚

2. **å…³é”®ç‚¹2ï¼šçº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„ç»´æŠ¤**
   * **åˆ†æ**ï¼šæ ¹æ®`id`æ•°ç»„æ„å»ºçº¿æ®µæ ‘ã€‚è¿™æ ·ï¼Œæ ‘ä¸Šçš„**å•ç‚¹ä¿®æ”¹**å°±å˜æˆäº†çº¿æ®µæ ‘çš„å•ç‚¹æ›´æ–°ï¼›**å­æ ‘ä¿®æ”¹**å˜æˆäº†å¯¹åŒºé—´ `[id[u], id[u] + size[u] - 1]` çš„åŒºé—´æ›´æ–°ï¼›**è·¯å¾„æ±‚å’Œ**åˆ™è¢«åˆ†è§£ä¸ºå¯¹O(log N)æ¡é“¾ä¸Šçš„åŒºé—´æ±‚å’Œã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçº¿æ®µæ ‘çš„æ‡’æ ‡è®°ï¼ˆlazy propagationï¼‰æ˜¯å¤„ç†åŒºé—´æ›´æ–°çš„æ ¸å¿ƒï¼ŒåŠ¡å¿…ç†è§£å…¶`pushdown`æ“ä½œçš„é€»è¾‘ã€‚

3. **å…³é”®ç‚¹3ï¼šè·¯å¾„æ±‚å’Œçš„é“¾è·³è·ƒ**
   * **åˆ†æ**ï¼šä»èŠ‚ç‚¹`u`å‘ä¸Šè·³åˆ°æ ¹èŠ‚ç‚¹`1`æ—¶ï¼Œæ¯æ¬¡é€‰æ‹©**é“¾é¡¶æ·±åº¦è¾ƒæ·±**çš„é“¾è¿›è¡Œè·³è·ƒã€‚æ¯æ¬¡è·³è·ƒï¼Œç´¯åŠ å½“å‰é“¾ä¸Šçš„åŒºé—´å’Œï¼Œç›´åˆ°ä¸¤ä¸ªèŠ‚ç‚¹å¤„äºåŒä¸€æ¡é“¾ä¸Šã€‚
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`while (top[u] != top[v])` å¾ªç¯æ˜¯æ ‘é“¾å‰–åˆ†è·¯å¾„æŸ¥è¯¢çš„**çµé­‚**ï¼Œå®ƒä¿è¯äº†O(log N)çš„å¤æ‚åº¦ã€‚

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•çš„å¯¹æ¯”åˆ†æ

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ä¸åˆ†æ | é€‚ç”¨åœºæ™¯ / å¾—åˆ†é¢„æœŸ |
| :--- | :--- | :--- | :--- |:--- |
| **æš´åŠ›æ¨¡æ‹Ÿ** | ç›´æ¥éå†å­æ ‘æˆ–è·¯å¾„è¿›è¡Œä¿®æ”¹å’ŒæŸ¥è¯¢ã€‚ | æ€è·¯ç›´è§‚ï¼Œæ˜“äºå®ç°ã€‚ | **æ—¶é—´å¤æ‚åº¦**: O(N) æ¯æ¬¡æ“ä½œï¼Œæ€»å¤æ‚åº¦O(M*N)ï¼Œåœ¨N=1e5æ—¶å®Œå…¨æ— æ³•æ¥å—ã€‚ | ä»…é€‚ç”¨äºN, M â‰¤ 1000çš„å°æ•°æ®ã€‚ç«èµ›ä¸­é¢„è®¡å¾— **0-10%** åˆ†æ•°ã€‚ |
| **DFSåº + çº¿æ®µæ ‘** | åªå¤„ç†å­æ ‘æ“ä½œï¼Œè·¯å¾„æ“ä½œéœ€ç‰¹æ®Šå¤„ç†ã€‚ | å­æ ‘æ“ä½œéå¸¸é«˜æ•ˆã€‚ | å¤„ç†è·¯å¾„æ“ä½œå¤æ‚ï¼Œä¸å¦‚HLDé€šç”¨ã€‚ | é€‚ç”¨äºåªæœ‰å­æ ‘æ“ä½œçš„é¢˜ç›®ã€‚ |
| **æ ‘é“¾å‰–åˆ† + çº¿æ®µæ ‘ (æœ¬é¢˜æœ€ä¼˜)** | ä¸¤æ¬¡DFSé¢„å¤„ç†ï¼Œå°†æ ‘æ˜ å°„åˆ°çº¿æ€§åºåˆ—ï¼Œæ‰€æœ‰æ“ä½œè½¬åŒ–ä¸ºåŒºé—´æ“ä½œã€‚ | **é€šç”¨æ€§å¼º**ï¼Œèƒ½ä¼˜é›…åœ°å¤„ç†è·¯å¾„å’Œå­æ ‘æ“ä½œã€‚ä»£ç æ¨¡æ¿åŒ–ï¼Œæ˜“äºå¤ç”¨ã€‚ | éœ€è¦ç†è§£å’Œè®°å¿†HLDæ¨¡æ¿ã€‚ | è§£å†³æ ‘ä¸Šè·¯å¾„/å­æ ‘é—®é¢˜çš„**æ ‡å‡†è§£æ³•**ã€‚ç«èµ›ä¸­å¯å¾— **100%** åˆ†æ•°ã€‚ |
| **æ ‘é“¾å‰–åˆ† + æ ‘çŠ¶æ•°ç»„** | ä¸HLD+çº¿æ®µæ ‘ç±»ä¼¼ï¼Œä½†ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤åŒºé—´å’Œã€‚ | ä»£ç æ›´çŸ­ï¼Œå¸¸æ•°æ›´å°ã€‚ | æ ‘çŠ¶æ•°ç»„çš„åŒºé—´æ“ä½œéœ€è¦é¢å¤–æŠ€å·§ï¼ˆå¦‚ç»´æŠ¤å·®åˆ†æ•°ç»„ï¼‰ã€‚ | å¯¹ä»£ç é•¿åº¦å’Œå¸¸æ•°æœ‰æè‡´è¦æ±‚æ—¶ã€‚ |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€

> **èµ·ç‚¹ï¼šæš´åŠ›æ¨¡æ‹Ÿçš„å›°å¢ƒ**
> æˆ‘ä»¬çš„ç¬¬ä¸€ç›´è§‰æ˜¯ï¼Œæ“ä½œ1å’Œ2ç›´æ¥ä¿®æ”¹èŠ‚ç‚¹ï¼Œæ“ä½œ3ä»xå‘ä¸Šç´¯åŠ åˆ°æ ¹ã€‚è¿™çœ‹ä¼¼å¯è¡Œï¼Œä½†æ¯ä¸€æ­¥éƒ½å¯èƒ½éå†æ•´æ£µæ ‘ï¼Œæ•ˆç‡ä½ä¸‹ã€‚
>
> **å‘ç°ç“¶é¢ˆï¼šäºŒç»´åˆ°ä¸€ç»´çš„æ˜ å°„**
> é—®é¢˜çš„ç“¶é¢ˆåœ¨äºæ ‘çš„ç»“æ„æ˜¯äºŒç»´çš„ï¼Œè€Œé«˜æ•ˆçš„åŒºé—´æ“ä½œéœ€è¦ä¸€ç»´çš„çº¿æ€§ç»“æ„ã€‚
>
> **ä¼˜åŒ–çš„é’¥åŒ™ï¼šæ ‘é“¾å‰–åˆ†**
> æ ‘é“¾å‰–åˆ†å°±æ˜¯é‚£ä¸ªâ€œé™ç»´æ‰“å‡»â€çš„é’¥åŒ™ï¼å®ƒé€šè¿‡ä¸¤æ¬¡DFSï¼Œå·§å¦™åœ°å°†æ ‘â€œæ‹æ‰â€æˆåºåˆ—ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ç”¨çº¿æ®µæ ‘æˆ–æ ‘çŠ¶æ•°ç»„è¿™äº›å¼ºå¤§çš„**çº¿æ€§æ­¦å™¨**æ¥è§£å†³é—®é¢˜ã€‚
>
> **æ¨¡å‹çš„å‡åï¼šä»â€œæ ‘â€åˆ°â€œé“¾â€**
> æˆ‘ä»¬ä¸å†ç›´æ¥å’Œæ ‘æ‰“äº¤é“ï¼Œè€Œæ˜¯å’Œä¸€æ¡æ¡é“¾ä¸Šçš„åŒºé—´æ‰“äº¤é“ã€‚è¿™ç§**æ¨¡å‹è½¬åŒ–**çš„æ€ç»´ï¼Œæ˜¯è§£å†³å¤æ‚é—®é¢˜çš„å…³é”®ä¸€æ­¥ã€‚

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### **æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**

* **è¯´æ˜**ï¼šä»¥ä¸‹ä»£ç ç»¼åˆäº†æ ‘é“¾å‰–åˆ†çš„æ ‡å‡†æ¨¡æ¿ï¼Œå¹¶ä½¿ç”¨**çº¿æ®µæ ‘**è¿›è¡ŒåŒºé—´ç»´æŠ¤ã€‚å®ƒæ¸…æ™°åœ°å±•ç¤ºäº†å¦‚ä½•å°†HLDä¸çº¿æ®µæ ‘ç»“åˆã€‚
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š

```cpp
#include <iostream>
#include <vector>
using namespace std;

typedef long long ll;
const int MAXN = 1e5 + 10;

// å›¾çš„å­˜å‚¨
vector<int> G[MAXN];

// æ ‘é“¾å‰–åˆ†ç›¸å…³æ•°ç»„
int fa[MAXN], dep[MAXN], size[MAXN], son[MAXN];
int top[MAXN], id[MAXN], wt[MAXN], cnt = 0;

// çº¿æ®µæ ‘ç›¸å…³
ll tree[MAXN << 2], tag[MAXN << 2];
int n, m;

// ç¬¬ä¸€æ¬¡DFSï¼šæ±‚å­æ ‘å¤§å°å’Œé‡å„¿å­
void dfs1(int u, int f) {
    fa[u] = f;
    dep[u] = dep[f] + 1;
    size[u] = 1;
    son[u] = 0;
    for (int v : G[u]) {
        if (v == f) continue;
        dfs1(v, u);
        size[u] += size[v];
        if (size[v] > size[son[u]]) son[u] = v;
    }
}

// ç¬¬äºŒæ¬¡DFSï¼šé“¾å‰–åˆ†ï¼Œåˆ†é…æ–°ç¼–å·
void dfs2(int u, int t) {
    top[u] = t;
    id[u] = ++cnt;
    wt[cnt] = /* åˆå§‹æƒå€¼ï¼Œè¿™é‡Œä»è¾“å…¥ä¸­è¯»å– */ 0;
    if (son[u]) dfs2(son[u], t);
    for (int v : G[u]) {
        if (v == fa[u] || v == son[u]) continue;
        dfs2(v, v);
    }
}

// çº¿æ®µæ ‘ï¼šå»ºæ ‘
void build(int l, int r, int p) {
    if (l == r) { tree[p] = wt[l]; return; }
    int mid = (l + r) >> 1;
    build(l, mid, p << 1);
    build(mid + 1, r, p << 1 | 1);
    tree[p] = tree[p << 1] + tree[p << 1 | 1];
}

// çº¿æ®µæ ‘ï¼šåŒºé—´åŠ 
void update(int l, int r, int s, int t, ll val, int p) {
    if (s <= l && r <= t) {
        tree[p] += (r - l + 1) * val;
        tag[p] += val;
        return;
    }
    int mid = (l + r) >> 1;
    if (tag[p]) {
        tree[p << 1] += (mid - l + 1) * tag[p];
        tree[p << 1 | 1] += (r - mid) * tag[p];
        tag[p << 1] += tag[p];
        tag[p << 1 | 1] += tag[p];
        tag[p] = 0;
    }
    if (s <= mid) update(l, mid, s, t, val, p << 1);
    if (t > mid) update(mid + 1, r, s, t, val, p << 1 | 1);
    tree[p] = tree[p << 1] + tree[p << 1 | 1];
}

// çº¿æ®µæ ‘ï¼šåŒºé—´æŸ¥è¯¢
ll query(int l, int r, int s, int t, int p) {
    if (s <= l && r <= t) return tree[p];
    int mid = (l + r) >> 1;
    ll res = 0;
    if (tag[p]) {
        tree[p << 1] += (mid - l + 1) * tag[p];
        tree[p << 1 | 1] += (r - mid) * tag[p];
        tag[p << 1] += tag[p];
        tag[p << 1 | 1] += tag[p];
        tag[p] = 0;
    }
    if (s <= mid) res += query(l, mid, s, t, p << 1);
    if (t > mid) res += query(mid + 1, r, s, t, p << 1 | 1);
    return res;
}

// è·¯å¾„æ±‚å’Œ
ll query_path(int x, int y) {
    ll res = 0;
    while (top[x] != top[y]) {
        if (dep[top[x]] < dep[top[y]]) swap(x, y);
        res += query(1, n, id[top[x]], id[x], 1);
        x = fa[top[x]];
    }
    if (dep[x] > dep[y]) swap(x, y);
    res += query(1, n, id[x], id[y], 1);
    return res;
}

// ä¸»å‡½æ•°
int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cin >> n >> m;
    vector<ll> a(n + 1);
    for (int i = 1; i <= n; ++i) cin >> a[i];
    for (int i = 1, u, v; i < n; ++i) {
        cin >> u >> v;
        G[u].push_back(v);
        G[v].push_back(u);
    }
    dfs1(1, 0);
    dfs2(1, 1);
    for (int i = 1; i <= n; ++i) wt[id[i]] = a[i];
    build(1, n, 1);

    while (m--) {
        int op, x;
        ll y;
        cin >> op >> x;
        if (op == 1) { // å•ç‚¹ä¿®æ”¹
            cin >> y;
            update(1, n, id[x], id[x], y, 1);
        } else if (op == 2) { // å­æ ‘ä¿®æ”¹
            cin >> y;
            update(1, n, id[x], id[x] + size[x] - 1, y, 1);
        } else if (op == 3) { // è·¯å¾„æ±‚å’Œ
            cout << query_path(1, x) << '\n';
        }
    }
    return 0;
}
```

* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
  1.  **é¢„å¤„ç†é˜¶æ®µ**ï¼š`dfs1`å’Œ`dfs2`å®Œæˆæ ‘é“¾å‰–åˆ†ï¼Œè®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„`fa`, `dep`, `size`, `son`, `top`, `id`ç­‰å…³é”®ä¿¡æ¯ã€‚
  2.  **çº¿æ®µæ ‘æ„å»º**ï¼šæ ¹æ®`id`æ•°ç»„ï¼ˆå³DFSåºï¼‰æ„å»ºçº¿æ®µæ ‘ï¼Œç”¨äºç»´æŠ¤åŒºé—´å’Œã€‚
  3.  **æ“ä½œå¤„ç†**ï¼š
      *   **å•ç‚¹ä¿®æ”¹** (`op=1`)ï¼šç›´æ¥åœ¨çº¿æ®µæ ‘çš„`id[x]`ä½ç½®æ›´æ–°ã€‚
      *   **å­æ ‘ä¿®æ”¹** (`op=2`)ï¼šåˆ©ç”¨`size[x]`ï¼Œå°†æ“ä½œè½¬åŒ–ä¸ºå¯¹çº¿æ®µæ ‘åŒºé—´ `[id[x], id[x] + size[x] - 1]` çš„åŒºé—´åŠ ã€‚
      *   **è·¯å¾„æ±‚å’Œ** (`op=3`)ï¼šä½¿ç”¨`query_path`å‡½æ•°ï¼Œé€šè¿‡ä¸æ–­è·³è·ƒé“¾é¡¶ï¼Œç´¯åŠ æ¯æ¡é“¾ä¸Šçš„åŒºé—´å’Œã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

ä¸ºäº†è®©å¤§å®¶æ›´ç›´è§‚åœ°ç†è§£æ ‘é“¾å‰–åˆ†å¦‚ä½•å°†æ ‘â€œæ‹æ‰â€ï¼Œæˆ‘è®¾è®¡äº†ä¸€ä¸ª**åƒç´ é£æ ¼çš„åŠ¨ç”»**ã€‚

### **åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜**ï¼šã€Œåƒç´ å›­ä¸çš„å‰ªæè‰ºæœ¯ã€

* **åœºæ™¯è®¾å®š**ï¼šä¸€ä¸ªç”±åƒç´ æ–¹å—ç»„æˆçš„æ ‘çŠ¶ç»“æ„ï¼Œæ ¹èŠ‚ç‚¹åœ¨é¡¶éƒ¨ï¼Œæå¶å‘ä¸‹å»¶ä¼¸ã€‚

### **åŠ¨ç”»æ ¸å¿ƒå†…å®¹**ï¼š

1.  **ç¬¬ä¸€æ¬¡DFSï¼ˆ`dfs1` - å¯»æ‰¾é‡å„¿å­ï¼‰**ï¼š
    *   **è§†è§‰**ï¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œåƒç´ å°å›­ä¸ï¼ˆä¸€ä¸ª8-bitå°äººï¼‰å¼€å§‹éå†ã€‚
    *   **é«˜äº®**ï¼šæ¯è®¿é—®ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå…¶æ–¹å—é—ªçƒï¼Œå¹¶æ˜¾ç¤ºå…¶**å­æ ‘å¤§å°**ï¼ˆä¸€ä¸ªæ•°å­—æ°”æ³¡ï¼‰ã€‚
    *   **éŸ³æ•ˆ**ï¼šæ¯å½“å‘ç°æ›´å¤§çš„å­æ ‘æ—¶ï¼Œæ’­æ”¾â€œå®â€çš„ä¸€å£°ï¼Œå¹¶é‡ç»˜é‡å„¿å­è¿çº¿ï¼ˆç”¨æ›´äº®çš„åƒç´ çº¿è¡¨ç¤ºï¼‰ã€‚

2.  **ç¬¬äºŒæ¬¡DFSï¼ˆ`dfs2` - é“¾å‰–åˆ†ä¸ç¼–å·ï¼‰**ï¼š
    *   **è§†è§‰**ï¼šå›­ä¸ä¼˜å…ˆæ²¿ç€é‡å„¿å­ï¼ˆç²—çº¿ï¼‰å‘ä¸‹ï¼Œå½¢æˆä¸€æ¡**é‡é“¾**ï¼ˆç”¨åŒä¸€ç§é¢œè‰²æ ‡è®°ï¼‰ã€‚åˆ°è¾¾å¶å­åï¼Œå›æº¯å¹¶å¤„ç†è½»å„¿å­ï¼ˆç»†çº¿ï¼‰ï¼Œå½¢æˆæ–°çš„é“¾ã€‚
    *   **äº¤äº’**ï¼šåœ¨åŠ¨ç”»ä¸‹æ–¹ï¼Œå®æ—¶æ˜¾ç¤ºæ¯ä¸ªèŠ‚ç‚¹è¢«èµ‹äºˆçš„**æ–°ç¼–å·**ï¼ˆ`id[u]`ï¼‰ï¼Œå¹¶åŒæ­¥æ›´æ–°ä¸€ä¸ªä¸€ç»´çš„åƒç´ æ¡ï¼Œä»£è¡¨çº¿æ®µæ ‘çš„åº•å±‚æ•°ç»„ã€‚å¯ä»¥çœ‹åˆ°ï¼Œé‡é“¾ä¸Šçš„èŠ‚ç‚¹ç¼–å·æ˜¯è¿ç»­çš„ï¼Œå­æ ‘å†…çš„ç¼–å·ä¹Ÿæ˜¯è¿ç»­çš„ã€‚
    *   **éŸ³æ•ˆ**ï¼šæ¯å½“ä¸€æ¡æ–°çš„é“¾è¢«â€œå‰ªâ€å‡ºæ¥ï¼Œæ’­æ”¾ä¸€ä¸ªè½»å¿«çš„8-bitéŸ³æ•ˆã€‚

3.  **æ“ä½œæ¨¡æ‹Ÿï¼ˆä»¥è·¯å¾„æ±‚å’Œä¸ºä¾‹ï¼‰**ï¼š
    *   **è§†è§‰**ï¼šé€‰æ‹©ä¸€ä¸ªæŸ¥è¯¢è·¯å¾„ï¼ˆä¾‹å¦‚ï¼Œä»èŠ‚ç‚¹Xåˆ°æ ¹èŠ‚ç‚¹1ï¼‰ã€‚åƒç´ å°å›­ä¸ä»Xå‡ºå‘ï¼Œæ²¿ç€é“¾é¡¶å‘ä¸Šè·³è·ƒã€‚
    *   **é«˜äº®**ï¼šæ¯è·³åˆ°ä¸€ä¸ªé“¾é¡¶ï¼Œè¯¥é“¾åœ¨åƒç´ æ ‘ä¸Šé«˜äº®ï¼ŒåŒæ—¶ä¸€ç»´çº¿æ®µæ ‘æ•°ç»„ä¸Šå¯¹åº”çš„åŒºé—´ä¹ŸåŒæ­¥é«˜äº®ï¼Œå¹¶ç´¯åŠ å…¶å’Œã€‚
    *   **ä¿¡æ¯**ï¼šå±å¹•ä¾§è¾¹æ˜¾ç¤ºâ€œå½“å‰ç´¯åŠ å’Œâ€å’Œâ€œå·²è·³è·ƒé“¾æ•°â€ï¼Œè®©ç©å®¶ç›´è§‚æ„Ÿå—O(logN)çš„æ•ˆç‡ã€‚

### **è®¾è®¡æ€è·¯ç®€è¿°**ï¼š
* **åƒç´ é£æ ¼**ï¼šè¥é€ è½»æ¾å¤å¤çš„å­¦ä¹ æ°›å›´ï¼Œé™ä½ç†è§£é—¨æ§›ã€‚
* **éŸ³æ•ˆæç¤º**ï¼šå¼ºåŒ–å…³é”®æ­¥éª¤è®°å¿†ï¼Œå¦‚DFSå‘ç°é‡å„¿å­ã€é“¾è·³è·ƒç­‰ã€‚
* **å®æ—¶æ˜ å°„**ï¼šå°†äºŒç»´çš„æ ‘ç»“æ„å’Œä¸€ç»´çš„çº¿æ®µæ ‘æ•°ç»„è¿›è¡Œ**åŒæ­¥é«˜äº®**ï¼Œå¸®åŠ©ç†è§£å®ƒä»¬ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

æŒæ¡äº†æ ‘é“¾å‰–åˆ†è¿™æŠŠåˆ©å™¨ï¼Œä½ å¯ä»¥å»æŒ‘æˆ˜æ›´å¤šæœ‰è¶£çš„é¢˜ç›®ï¼

### **é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»**ï¼š
* **è·¯å¾„é—®é¢˜**ï¼šHLDæ˜¯è§£å†³æ ‘ä¸Šä»»æ„ä¸¤ç‚¹é—´è·¯å¾„é—®é¢˜çš„**ä¸‡èƒ½é’¥åŒ™**ï¼Œå¦‚æ±‚è·¯å¾„æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¼‚æˆ–å’Œç­‰ã€‚
* **å­æ ‘é—®é¢˜**ï¼šDFSåºå¯ä»¥å°†å­æ ‘æ“ä½œè½¬åŒ–ä¸ºåŒºé—´æ“ä½œï¼Œé€‚ç”¨äºå­æ ‘ä¿®æ”¹ã€å­æ ‘æŸ¥è¯¢ç­‰ã€‚
* **åŠ¨æ€æ ‘é—®é¢˜**ï¼šè™½ç„¶æœ¬é¢˜æ˜¯é™æ€æ ‘ï¼Œä½†HLDçš„æ€æƒ³ä¹Ÿä¸ºè§£å†³**åŠ¨æ€æ ‘ï¼ˆLink-Cut Treeï¼‰**é—®é¢˜æ‰“ä¸‹äº†åŸºç¡€ã€‚

### **ç»ƒä¹ æ¨è (æ´›è°·)**ï¼š
1.  **P3384 ã€æ¨¡æ¿ã€‘æ ‘é“¾å‰–åˆ†**
    * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™æ˜¯HLDçš„**å®˜æ–¹æ¨¡æ¿é¢˜**ï¼Œä¸ä»Šå¤©çš„é¢˜ç›®éå¸¸ç›¸ä¼¼ï¼Œä½†æ“ä½œæ›´å…¨é¢ã€‚åŠ¡å¿…ç†Ÿç»ƒæŒæ¡ï¼
2.  **P2590 [ZJOI2008]æ ‘çš„ç»Ÿè®¡**
    * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜å°†HLDåº”ç”¨äº**è·¯å¾„æœ€å¤§å€¼å’Œæœ€å°å€¼**çš„æŸ¥è¯¢ï¼Œæ˜¯HLDåœ¨æ›´å¤æ‚ä¿¡æ¯ç»´æŠ¤ä¸Šçš„ç»å…¸åº”ç”¨ã€‚
3.  **P4315 æœˆä¸‹â€œæ¯›æ™¯æ ‘â€**
    * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜èåˆäº†**è¾¹æƒ**å’Œ**ç‚¹æƒ**ï¼Œå¹¶æ¶‰åŠæ›´å¤æ‚çš„**åŒºé—´è¦†ç›–**æ“ä½œï¼Œæ˜¯å¯¹HLDå’Œçº¿æ®µæ ‘èƒ½åŠ›çš„è¿›ä¸€æ­¥æŒ‘æˆ˜ã€‚

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

ä»ä¼—å¤šé¢˜è§£ä¸­ï¼Œæˆ‘æç‚¼å‡ºå‡ æ¡å®è´µçš„ç»éªŒï¼š

* **â€œä¸‰å¹´OIä¸€åœºç©ºï¼Œä¸å¼€long longè§ç¥–å®—â€**ï¼šè¿™å¥è¯åœ¨å‡ ä¹æ‰€æœ‰é¢˜è§£ä¸­éƒ½è¢«åå¤æåŠã€‚ç”±äºç­”æ¡ˆå¯èƒ½è¾¾åˆ°1e6 * 1e5 = 1e11ï¼Œè¿œè¶…intèŒƒå›´ï¼Œ**åŠ¡å¿…ä½¿ç”¨long long**å­˜å‚¨æ‰€æœ‰ä¸­é—´å’Œæœ€ç»ˆç»“æœã€‚
* **æ¨¡æ¿åŒ–ä¸å¤ç”¨**ï¼šæ ‘é“¾å‰–åˆ†æ˜¯ä¸€ä¸ª**é«˜åº¦æ¨¡æ¿åŒ–**çš„ç®—æ³•ã€‚ä¸€æ—¦ç†è§£å…¶åŸç†ï¼Œä½ å¯ä»¥å°†`dfs1`, `dfs2`, `query_path`, `update_subtree`ç­‰å‡½æ•°å°è£…èµ·æ¥ï¼Œä½œä¸ºä½ çš„â€œç®—æ³•å·¥å…·ç®±â€çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨æœªæ¥çš„ç«èµ›ä¸­å¿«é€Ÿè°ƒç”¨ã€‚
* **è°ƒè¯•æŠ€å·§**ï¼šå½“é‡åˆ°WAæ—¶ï¼Œä¸å¦¨**æ‰‹åŠ¨æ¨¡æ‹Ÿ**ä¸€ä¸ªå°çš„æ ‘ç»“æ„ï¼ˆå¦‚æ ·ä¾‹ï¼‰ï¼Œå¯¹ç…§ä½ çš„ä»£ç ï¼Œä¸€æ­¥æ­¥è·Ÿè¸ª`id`, `top`, `size`ç­‰æ•°ç»„çš„å€¼ï¼Œä»¥åŠçº¿æ®µæ ‘çš„æ›´æ–°è¿‡ç¨‹ï¼Œè¿™å¾€å¾€èƒ½å¿«é€Ÿå®šä½é”™è¯¯ã€‚

---

## æ€»ç»“

ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†å¦‚ä½•ç”¨**æ ‘é“¾å‰–åˆ†**è¿™æŠŠå¼ºå¤§çš„å·¥å…·ï¼Œä¼˜é›…åœ°è§£å†³æ ‘ä¸Šçš„å¤æ‚æ“ä½œé—®é¢˜ã€‚ä»ç†è§£é¢˜æ„ï¼Œåˆ°é€‰æ‹©ç­–ç•¥ï¼Œå†åˆ°ä»£ç å®ç°å’Œè°ƒè¯•ï¼Œæ¯ä¸€æ­¥éƒ½å……æ»¡äº†æ€è€ƒçš„ä¹è¶£ã€‚è®°ä½ï¼Œç®—æ³•çš„å­¦ä¹ æ˜¯ä¸€ä¸ªèºæ—‹ä¸Šå‡çš„è¿‡ç¨‹ï¼Œæ¯ä¸€æ¬¡æ”»å…‹éš¾é¢˜ï¼Œéƒ½ä¼šè®©ä½ ç«™å¾—æ›´é«˜ï¼Œçœ‹å¾—æ›´è¿œã€‚ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š184.72ç§’
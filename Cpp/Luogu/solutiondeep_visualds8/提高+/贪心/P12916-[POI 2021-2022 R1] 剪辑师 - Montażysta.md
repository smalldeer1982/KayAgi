# é¢˜ç›®ä¿¡æ¯

# [POI 2021/2022 R1] å‰ªè¾‘å¸ˆ / MontaÅ¼ysta

## é¢˜ç›®èƒŒæ™¯

ç¿»è¯‘æ¥è‡ªäº [LibreOJ](https://loj.ac/p/4103)ã€‚

## é¢˜ç›®æè¿°

**é¢˜ç›®è¯‘è‡ª [XXIX Olimpiada Informatyczna â€“ I etap](https://sio2.mimuw.edu.pl/c/oi29-1/dashboard/) [MontaÅ¼ysta](https://sio2.mimuw.edu.pl/c/oi29-1/p/mon/)**

Bajtazar æ¥æ‰‹äº†å‰ªè¾‘ $n$ éƒ¨å…³äº POI é¢˜ç›®è®²è§£çš„è§†é¢‘çš„ä»»åŠ¡ã€‚å·²çŸ¥å‰ªè¾‘ç¬¬ $i$ éƒ¨è§†é¢‘éœ€è¦ $t_{i}$ å¤©ï¼Œå¹¶ä¸”å¿…é¡»åœ¨ç¬¬ $d_{i}$ å¤©ä¹‹å‰å‘å¸ƒã€‚Bajtazar æœ‰å…‰çº¤ç½‘ç»œï¼Œæ‰€ä»¥å‰ªè¾‘å¥½çš„è§†é¢‘å¯ä»¥ç«‹å³ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šã€‚ä½†æ˜¯å‰ªè¾‘è¿‡ç¨‹éå¸¸è€—è´¹ç¡¬ä»¶èµ„æºï¼Œè€Œ Bajtazar åªæœ‰ä¸€å°ç”µè„‘ï¼Œæ‰€ä»¥ä»–ä¸€æ¬¡åªèƒ½å‰ªè¾‘ä¸€éƒ¨è§†é¢‘ã€‚

è§†é¢‘å¾ˆå¤šï¼ŒBajtazar æ‹…å¿ƒä»–ä¸èƒ½æŒ‰æ—¶å®Œæˆæ‰€æœ‰çš„ä»»åŠ¡ã€‚è¯·ä½ å¸®åŠ©ä»–ï¼Œè®¡ç®—å‡ºå¦‚æœä»–æœ€æ—©å¯ä»¥åœ¨ç¬¬ $1$ å¤©å¼€å§‹å‰ªè¾‘ï¼Œä»–æœ€å¤šèƒ½æŒ‰æ—¶å‘å¸ƒå¤šå°‘éƒ¨è§†é¢‘ã€‚ä¸ºäº†è®© Bajtazar æ›´æœ‰ä¿¡å¿ƒï¼Œä½ è¿˜éœ€è¦ç»™å‡ºä¸€ä¸ªå…·ä½“çš„å·¥ä½œè®¡åˆ’ï¼Œè¯´æ˜å¦‚ä½•è¾¾åˆ°è¿™ä¸ªç»“æœã€‚

## è¯´æ˜/æç¤º

**é™„åŠ æ ·ä¾‹**

1. è¯¥æ ·ä¾‹æ»¡è¶³ $n=1000 ; t_{i}=5 \cdot 10^{8}, d_{i}=i \cdot 10^{6}$ã€‚ç­”æ¡ˆæ˜¯ $2$ã€‚
2. è¯¥æ ·ä¾‹æ»¡è¶³ $n=1000 , t_{i}=2, d_{i}=1999$ã€‚ç­”æ¡ˆæ˜¯ $999$ã€‚
3. è¯¥æ ·ä¾‹æ»¡è¶³ $n=5\cdot 10^5, t_{i} \in\{1,2,3\}, d_{i}=10^{9}$ã€‚ç­”æ¡ˆæ˜¯ $5\cdot 10^5$ã€‚

è¯¦ç»†å­ä»»åŠ¡é™„åŠ é™åˆ¶åŠåˆ†å€¼å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚å¦‚æœä½ çš„ç¨‹åºæ­£ç¡®åœ°è¾“å‡ºäº† $m$ï¼Œè€Œæ–¹æ¡ˆä¸æ­£ç¡®ï¼Œä½ å°†è·å¾—è¯¥æµ‹è¯•ç‚¹ $50 \%$ çš„åˆ†æ•°ã€‚

| å­ä»»åŠ¡ç¼–å· | é™„åŠ é™åˆ¶ | åˆ†å€¼ |
| :---: | :--: | :---: |
| $1$ | $n \leq 10$ | $20$ |
| $2$ | $n \leq 1000$ | $30$ |
| $3$ | $t_{i}, d_{i} \leq 10^{6}$ | $20$ |
| $4$ | æ— é™„åŠ é™åˆ¶ | $30$ |

## æ ·ä¾‹ #1

### è¾“å…¥

```
5
4 5
2 4
5 3
1 9
3 10```

### è¾“å‡º

```
3
2 3
4 7
5 8```

# AIåˆ†æç»“æœ


# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šå‰ªè¾‘å¸ˆ/ MontaÅ¼ysta æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼šåœ¨å•çº¿ç¨‹ä»»åŠ¡å¤„ç†ç¯å¢ƒä¸‹ï¼Œé€šè¿‡æ™ºèƒ½è°ƒåº¦æœ€å¤§åŒ–å®Œæˆè§†é¢‘å‰ªè¾‘æ•°é‡ï¼ŒåŒæ—¶æ»¡è¶³æ¯ä¸ªä»»åŠ¡çš„æˆªæ­¢æ—¶é—´çº¦æŸã€‚  
âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼š`è´ªå¿ƒç®—æ³•` `ä¼˜å…ˆé˜Ÿåˆ—` `åæ‚”è´ªå¿ƒ`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è¿™é“é¢˜çš„æ ¸å¿ƒæŒ‘æˆ˜åœ¨äºå¤„ç†ä»»åŠ¡é—´çš„**æ—¶é—´çº¦æŸå†²çª**ã€‚æˆ‘ä»¬éœ€è¦åœ¨æˆªæ­¢æ—¶é—´é™åˆ¶ä¸‹ï¼Œæœ€å¤§åŒ–å®Œæˆçš„ä»»åŠ¡æ•°é‡ã€‚è§£é¢˜æ€è·¯æ¼”è¿›å¦‚ä¸‹ï¼š
> 1. **æš´åŠ›æšä¸¾**ï¼šå°è¯•æ‰€æœ‰ä»»åŠ¡ç»„åˆï¼ˆO(2â¿)ï¼‰ï¼Œä»…é€‚ç”¨äºæå°è§„æ¨¡æ•°æ®ï¼ˆnâ‰¤20ï¼‰
> 2. **åŸºç¡€è´ªå¿ƒ**ï¼šæŒ‰æˆªæ­¢æ—¶é—´æ’åºå¤„ç†ï¼Œä½†æ— æ³•å¤„ç†å±€éƒ¨æ¬¡ä¼˜é€‰æ‹©
> 3. **åæ‚”è´ªå¿ƒ**ï¼šåŠ¨æ€æ›¿æ¢å·²é€‰ä»»åŠ¡ä¸­çš„ä½æ•ˆé€‰æ‹©ï¼Œå®ç°å…¨å±€ä¼˜åŒ–ï¼ˆO(n log n)ï¼‰
> 
> **ç®—æ³•æ¯”å–»**ï¼šå°±åƒä¸€ä½å›­ä¸åœ¨æœ‰é™èŠ±å›ä¸­ç§èŠ±ï¼Œä»–æ€»æ˜¯ä¼˜å…ˆç§æ¤å³å°†å‡‹è°¢çš„èŠ±ï¼ˆæˆªæ­¢æ—¶é—´æ—©ï¼‰ï¼Œä½†å½“ç©ºé—´ä¸è¶³æ—¶ï¼Œä»–ä¼šæ‹”æ‰ä¸€æ ªé•¿å¾—æœ€æ…¢çš„èŠ±ï¼ˆè€—æ—¶æœ€é•¿ï¼‰ï¼Œæ¢ä¸Šä¸€æ ªé•¿å¾—æ›´å¿«çš„èŠ±ï¼ˆè€—æ—¶æ›´çŸ­ï¼‰ï¼Œä»è€Œç§ä¸‹æ›´å¤šèŠ±æœµã€‚

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
1.  **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**ï¼š"æœ€å¤§åŒ–å®Œæˆçš„ä»»åŠ¡æ•°"æ˜¯å…¸å‹çš„ç»„åˆä¼˜åŒ–é—®é¢˜ï¼Œæš—ç¤ºè´ªå¿ƒæˆ–åŠ¨æ€è§„åˆ’ã€‚
2.  **çº¿ç´¢2 (é—®é¢˜çº¦æŸ)**ï¼š"æˆªæ­¢æ—¶é—´"å’Œ"å•çº¿ç¨‹å¤„ç†"è¡¨æ˜ä»»åŠ¡å­˜åœ¨æ—¶é—´å†²çªï¼Œéœ€è¦æ™ºèƒ½è°ƒåº¦ã€‚
3.  **çº¿ç´¢3 (æ•°æ®è§„æ¨¡)**ï¼šnâ‰¤500,000 è¦æ±‚O(n log n)ç®—æ³•ï¼ŒæŒ‡å‘å †ä¼˜åŒ–çš„è´ªå¿ƒç­–ç•¥ã€‚

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> æ”¶é›†çº¿ç´¢åï¼Œæˆ‘ä»¬åƒæ‹¼å›¾ä¸€æ ·æ„å»ºç­–ç•¥ï¼š
> 1. çº¿ç´¢1ï¼ˆä¼˜åŒ–ç›®æ ‡ï¼‰æŒ‡å‘è´ªå¿ƒ/DPï¼Œä½†DPçŠ¶æ€ç©ºé—´è¿‡å¤§ï¼ˆæ—¶é—´ä¸Šé™10â¹ï¼‰ä¸é€‚ç”¨
> 2. çº¿ç´¢2ï¼ˆæ—¶é—´çº¦æŸï¼‰æç¤ºæŒ‰æˆªæ­¢æ—¶é—´æ’åºå¤„ç†ç´§æ€¥ä»»åŠ¡
> 3. çº¿ç´¢3ï¼ˆæ•°æ®è§„æ¨¡ï¼‰ç¡®è®¤O(n log n)çš„å¯è¡Œæ€§
> **ç»“è®º**ï¼šåæ‚”è´ªå¿ƒå®Œç¾å¥‘åˆæ‰€æœ‰æ¡ä»¶â€”â€”é€šè¿‡å †ç»´æŠ¤å·²é€‰ä»»åŠ¡ï¼Œåœ¨O(log n)æ—¶é—´å†…å®ŒæˆåŠ¨æ€æ›¿æ¢ï¼Œæ•´ä½“O(n log n)æ»¡è¶³å¤§è§„æ¨¡æ•°æ®è¦æ±‚ï¼

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼ˆFS_NEOï¼‰**
* **ç‚¹è¯„**ï¼šä»£ç ç®€æ´é«˜æ•ˆï¼Œä½¿ç”¨`pair`å’Œ`priority_queue`å®ç°æ ¸å¿ƒé€»è¾‘ã€‚äº®ç‚¹åœ¨äºæ¸…æ™°å¤„ç†åæ‚”æ¡ä»¶ï¼ˆ`if(tmp.fi>a[i].w)`ï¼‰ï¼Œé¿å…æ— æ•ˆæ›¿æ¢ã€‚å˜é‡å‘½åè§„èŒƒï¼ˆ`s`ç´¯åŠ æ—¶é—´ï¼Œ`q`ç»´æŠ¤å †ï¼‰ï¼Œè¾“å‡ºæ–¹æ¡ˆæ—¶é€šè¿‡äºŒæ¬¡æ’åºä¿è¯æˆªæ­¢æ—¶é—´é¡ºåºï¼Œå®Œæ•´æ»¡è¶³é¢˜ç›®è¦æ±‚ã€‚

**é¢˜è§£ä¸‰ï¼ˆer_mao_jpgï¼‰**
* **ç‚¹è¯„**ï¼šè¯¦è§£åæ‚”è´ªå¿ƒåŸç†ï¼Œç±»æ¯”P4053é¢˜åŠ æ·±ç†è§£ã€‚ä»£ç ç»“æ„ä¸¥è°¨ï¼Œä½¿ç”¨ç»“æ„ä½“å°è£…ä»»åŠ¡å±æ€§ï¼Œé‡è½½è¿ç®—ç¬¦å®ç°å †æ’åºã€‚ç‰¹åˆ«å…³æ³¨è¾¹ç•Œå¤„ç†ï¼ˆlong longé˜²æº¢å‡ºï¼‰å’ŒIOä¼˜åŒ–ï¼ˆ`ios::sync_with_stdio`ï¼‰ï¼Œé€‚åˆå­¦ä¹ è€…æŒæ¡å·¥ä¸šçº§å®ç°ã€‚

**é¢˜è§£å››ï¼ˆzhuangzhiheï¼‰**
* **ç‚¹è¯„**ï¼šé€šè¿‡æ•°å­¦æ¨å¯¼è¯æ˜è´ªå¿ƒç­–ç•¥æ­£ç¡®æ€§ï¼ŒåŸ¹å…»ç®—æ³•æ€ç»´ã€‚ä»£ç ä¸­å †å­˜å‚¨ä»»åŠ¡ä¸‹æ ‡èŠ‚çœå†…å­˜ï¼Œè¾“å‡ºæ—¶é‡æ–°æŒ‰æˆªæ­¢æ—¶é—´æ’åºçš„æ–¹æ¡ˆæ¸…æ™°æ˜“è¯»ã€‚ç†è®ºç»“åˆå®è·µï¼Œæå‡å­¦ä¹ è€…ä¸¾ä¸€åä¸‰èƒ½åŠ›ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤
1.  **ä»»åŠ¡æ’åºç­–ç•¥**
    * **åˆ†æ**ï¼šæŒ‰æˆªæ­¢æ—¶é—´å‡åºæ’åºï¼Œç¡®ä¿ä¼˜å…ˆå¤„ç†ç´§æ€¥ä»»åŠ¡ã€‚è¿™æ˜¯è´ªå¿ƒé€‰æ‹©çš„åŸºç¡€ï¼Œä¿è¯å±€éƒ¨æœ€ä¼˜è§£å¯¼å‘å…¨å±€æœ€ä¼˜
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºæ˜¯è´ªå¿ƒç®—æ³•çš„å‰ç½®æ“ä½œï¼Œå†³å®šé—®é¢˜å¤„ç†é¡ºåº
2.  **åæ‚”æœºåˆ¶å®ç°**
    * **åˆ†æ**ï¼šç»´æŠ¤æœ€å¤§å †å­˜å‚¨å·²é€‰ä»»åŠ¡è€—æ—¶ã€‚å½“æ–°ä»»åŠ¡æ— æ³•å®Œæˆæ—¶ï¼Œæ¯”è¾ƒå½“å‰ä»»åŠ¡ä¸å †é¡¶ä»»åŠ¡è€—æ—¶ï¼šè‹¥å½“å‰æ›´çŸ­ï¼Œåˆ™æ›¿æ¢å †é¡¶ä»»åŠ¡ã€‚é€šè¿‡`currentTime -= heap.top() - task.t`åŠ¨æ€è°ƒæ•´æ€»æ—¶é—´
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå †æ˜¯ç»´æŠ¤æå€¼çš„é«˜æ•ˆæ•°æ®ç»“æ„ï¼Œåæ‚”æ“ä½œåœ¨O(1)æ—¶é—´å†…å®Œæˆç­–ç•¥è°ƒæ•´
3.  **æ–¹æ¡ˆè¾“å‡ºå¤„ç†**
    * **åˆ†æ**ï¼šå †ä¸­ä»»åŠ¡æ— åºï¼Œéœ€æŒ‰æˆªæ­¢æ—¶é—´é‡æ–°æ’åºåè¾“å‡ºã€‚å¼€å§‹æ—¶é—´é€šè¿‡ç´¯åŠ è®¡ç®—ï¼š`start_time[i+1] = start_time[i] + task[i].t`
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šè¾“å‡ºé¡ºåºå½±å“æ–¹æ¡ˆå¯è¡Œæ€§ï¼Œå¿…é¡»ä¸¥æ ¼æŒ‰æˆªæ­¢æ—¶é—´å‡åºæ’åˆ—

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1 (é—®é¢˜è½¬åŒ–)**ï¼šå°†æ—¶é—´çº¦æŸè½¬åŒ–ä¸ºåæ‚”è´ªå¿ƒæ¨¡å‹ï¼Œé€šè¿‡æ’åº+å †å®ç°åŠ¨æ€ä¼˜åŒ–
- **æŠ€å·§2 (æ•°æ®ç»“æ„é€‰æ‹©)**ï¼šä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †ï¼‰å¿«é€Ÿè·å–æœ€å¤§å€¼ï¼Œæ—¶é—´å¤æ‚åº¦ä»O(nÂ²)é™è‡³O(n log n)
- **æŠ€å·§3 (è¾¹ç•Œé˜²å¾¡)**ï¼šä½¿ç”¨long longé˜²æ­¢æ—¶é—´ç´¯åŠ æº¢å‡ºï¼Œè¾“å…¥è¾“å‡ºæµè§£ç»‘åŠ é€ŸIO

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•çš„å¯¹æ¯”åˆ†æ
| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯/å¾—åˆ† |
|------|----------|------|------|--------------|
| **æš´åŠ›æšä¸¾** | æšä¸¾æ‰€æœ‰å­é›†æ£€æŸ¥å¯è¡Œæ€§ | é€»è¾‘ç®€å•ç›´è§‚ | O(2â¿)è¶…æ—¶ä¸¥é‡ | nâ‰¤20ï¼Œå¾—20%åˆ† |
| **åŸºç¡€è´ªå¿ƒ** | æŒ‰æˆªæ­¢æ—¶é—´é¡ºåºå¤„ç† | å®ç°ç®€å• | æ— æ³•æ’¤é”€æ¬¡ä¼˜é€‰æ‹© | æ— ä¾èµ–ä»»åŠ¡ï¼Œ50%åˆ† |
| **åæ‚”è´ªå¿ƒ** | åŠ¨æ€æ›¿æ¢ä½æ•ˆä»»åŠ¡ | O(n log n)é«˜æ•ˆ | éœ€ç†è§£æ­£ç¡®æ€§è¯æ˜ | æ‰€æœ‰è§„æ¨¡ï¼Œ100%åˆ† |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»"èƒ½åš"åˆ°"åšå¥½"
> 1. **èµ·ç‚¹ï¼šæš´åŠ›æšä¸¾** - å°è¯•æ‰€æœ‰ç»„åˆï¼Œä½†n>20æ—¶è·¯å¾„çˆ†ç‚¸
> 2. **å‘ç°ç“¶é¢ˆï¼šå›ºå®šå¤„ç†é¡ºåº** - æŒ‰æˆªæ­¢æ—¶é—´å¤„ç†å¯èƒ½é€‰ä¸­é•¿è€—æ—¶ä»»åŠ¡é˜»å¡åç»­
> 3. **å…³é”®çªç ´ï¼šåæ‚”æœºåˆ¶** - å½“`å½“å‰æ—¶é—´+ä»»åŠ¡è€—æ—¶>æˆªæ­¢æ—¶é—´`æ—¶ï¼Œæ›¿æ¢å·²é€‰ä»»åŠ¡ä¸­è€—æ—¶æœ€é•¿è€…
> 4. **æ•ˆç‡å‡åï¼šå †ä¼˜åŒ–** - ç”¨ä¼˜å…ˆé˜Ÿåˆ—O(log n)å¿«é€Ÿè·å–æœ€å¤§å€¼ï¼Œæ•´ä½“O(n log n)
> 
> ğŸ’¡ **ç­–ç•¥æ€»ç»“**ï¼š"ä»æš´åŠ›åˆ°åæ‚”è´ªå¿ƒï¼Œæˆ‘ä»¬å®ç°äº†ä»æŒ‡æ•°åˆ°çº¿æ€§çš„æ•ˆç‡é£è·ƒã€‚è¿™å‘Šè¯‰æˆ‘ä»¬ï¼šä¼˜ç§€ç®—æ³•å¾€å¾€é€šè¿‡å¯¹é—®é¢˜æœ¬è´¨çš„æ´å¯Ÿï¼ˆæ—¶é—´çº¦æŸï¼‰å’Œæ•°æ®ç»“æ„çš„é€‰æ‹©ï¼ˆå †ï¼‰å®ç°è´¨çš„çªç ´ï¼"

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**é€šç”¨æ ¸å¿ƒå®ç°å‚è€ƒ**
```cpp
#include <iostream>
#include <algorithm>
#include <queue>
using namespace std;
typedef long long LL;

struct Task { int id; LL t, d; };
const int N = 5e5+5;

int main() {
    int n; cin >> n;
    Task tasks[N];
    for(int i=0; i<n; i++) {
        cin >> tasks[i].t >> tasks[i].d;
        tasks[i].id = i+1;
    }
    
    // æŒ‰æˆªæ­¢æ—¶é—´å‡åºæ’åº
    sort(tasks, tasks+n, [](auto& a, auto& b){ 
        return a.d < b.d; 
    });
    
    priority_queue<pair<LL, int>> heap; // <è€—æ—¶, ä¸‹æ ‡>
    LL currentTime = 0;
    
    // åæ‚”è´ªå¿ƒæ ¸å¿ƒ
    for(int i=0; i<n; i++) {
        if(currentTime + tasks[i].t <= tasks[i].d) {
            currentTime += tasks[i].t;
            heap.push({tasks[i].t, i});
        }
        else if(!heap.empty() && heap.top().first > tasks[i].t) {
            currentTime -= heap.top().first - tasks[i].t;
            heap.pop();
            heap.push({tasks[i].t, i});
        }
    }
    
    // è¾“å‡ºæ–¹æ¡ˆ
    cout << heap.size() << "\n";
    vector<Task> selected;
    while(!heap.empty()) {
        selected.push_back(tasks[heap.top().second]);
        heap.pop();
    }
    sort(selected.begin(), selected.end(), [](auto& a, auto& b){
        return a.d < b.d; // æŒ‰æˆªæ­¢æ—¶é—´é‡æ’åº
    });
    
    LL start = 1;
    for(auto& task : selected) {
        cout << task.id << " " << start << "\n";
        start += task.t;
    }
}
```

**é¢˜è§£ä¸€ï¼ˆFS_NEOï¼‰ç‰‡æ®µèµæ**
```cpp
q.push({a[i].w,i});
if(s+a[i].w<=a[i].t) {
    s += a[i].w; ans++;
} else if(!q.empty()) {
    P tmp = q.top();
    if(tmp.fi > a[i].w) {
        s = s - tmp.fi + a[i].w;
        q.pop();
        q.push({a[i].w, i});
    }
}
```
* **äº®ç‚¹**ï¼šç®€æ´å®ç°åæ‚”æ¡ä»¶åˆ¤æ–­
* **å­¦ä¹ ç¬”è®°**ï¼šé€šè¿‡`pair`å­˜å‚¨è€—æ—¶å’Œä¸‹æ ‡ï¼Œåˆ†ç¦»æ¯”è¾ƒé€»è¾‘ä¸åŸå§‹æ•°æ®

**é¢˜è§£å››ï¼ˆzhuangzhiheï¼‰ç‰‡æ®µèµæ**
```cpp
for(int i=1;i<=n;i++){
    q.push({a[i].second,i});
    if(t+a[i].second<=a[i].first) t += a[i].second;
    else {
        t += a[i].second - q.top().first;
        q.pop();
    }
}
```
* **äº®ç‚¹**ï¼šç²¾ç®€ç‰ˆåæ‚”é€»è¾‘
* **å­¦ä¹ ç¬”è®°**ï¼šé€šè¿‡å †è‡ªåŠ¨ç»´æŠ¤æœ€å¤§å€¼ï¼Œçœç•¥æ˜¾å¼æ¯”è¾ƒ

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼š8-bitåƒç´ é£"ä»»åŠ¡è°ƒåº¦å¤§å†’é™©"

**æ ¸å¿ƒæ¼”ç¤ºå†…å®¹**ï¼šåæ‚”è´ªå¿ƒç®—æ³•çš„åŠ¨æ€æ‰§è¡Œè¿‡ç¨‹

**è®¾è®¡è“å›¾**ï¼š
```plaintext
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»»åŠ¡åˆ—è¡¨ (æŒ‰dæ’åº)    â”‚   â”‚   æ—¶é—´è½´         â”‚
â”œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ID â”‚ è€—æ—¶ â”‚ æˆªæ­¢ â”‚     â”‚   â”‚â–£â–£â–£â–£â–£â–£â–£â–£â–£â–£â”‚d=10â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤     â”‚   â”‚â–£â–£â–£â–£â–£      â”‚d=5 â”‚
â”‚ 3 â”‚ â–£â–£â–£â–£ â”‚ 10   â”‚ â†’   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ 1 â”‚ â–£â–£â–£  â”‚ 5    â”‚ â†’   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2 â”‚ â–£â–£    â”‚ 8    â”‚ â†’   â”‚   â”‚ æœ€å¤§å † (æŒ‰t)     â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â–² æ‹–æ‹½åŠ¨ç”»           â”‚      â–£â–£â–£â–£â–£      â”‚
         â–¼ éŸ³æ•ˆåé¦ˆ           â”‚      â–£â–£â–£â–£       â”‚
æ§åˆ¶é¢æ¿[â–¶ï¸||â¹|â†—é€Ÿåº¦]         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

1. **åƒç´ åŒ–ç•Œé¢**ï¼š
   - ä»»åŠ¡ï¼šå½©è‰²æ–¹å—ï¼ˆé•¿åº¦=è€—æ—¶ï¼‰
   - æ—¶é—´è½´ï¼šæ¨ªå‘è¿›åº¦æ¡ï¼Œæ ‡è®°æˆªæ­¢ä½ç½®
   - å †ï¼šå‚ç›´æ–¹å—å †å ï¼Œé«˜åº¦=è€—æ—¶

2. **åŠ¨æ€è¿‡ç¨‹**ï¼š
   - æ–°ä»»åŠ¡åŠ å…¥ï¼šä»å·¦ä¾§æ»‘å…¥æ—¶é—´è½´ï¼Œæ’­æ”¾"å®"å£°
   - æ—¶é—´æº¢å‡ºï¼šä»»åŠ¡æ¡†é—ªçƒçº¢å…‰ï¼Œæ’­æ”¾è­¦å‘ŠéŸ³
   - åæ‚”æ›¿æ¢ï¼šå †é¡¶ä»»åŠ¡çˆ†ç‚¸ç‰¹æ•ˆï¼ˆåƒç´ ç²’å­ï¼‰ï¼Œæ–°ä»»åŠ¡æ»‘å…¥

3. **äº¤äº’æ§åˆ¶**ï¼š
   - æ­¥è¿›æ¨¡å¼ï¼šç©ºæ ¼é”®å•æ­¥æ‰§è¡Œ
   - è‡ªåŠ¨æ¼”ç¤ºï¼šè°ƒæ•´é€Ÿåº¦æ»‘å—ï¼ˆèœ—ç‰›â†’å…”å­ï¼‰
   - é‡ç½®ï¼šæ—¶é—´è½´æ¸…ç©ºï¼Œä»»åŠ¡å›ä½

4. **æ¸¸æˆåŒ–å…ƒç´ **ï¼š
   - æ¯å®Œæˆ5ä¸ªä»»åŠ¡è§¦å‘"COMBO!"ç‰¹æ•ˆ
   - æœ€ç»ˆæ˜¾ç¤ºæˆå°±ï¼šå®Œæˆæ•°/åæ‚”æ¬¡æ•°
   - èƒŒæ™¯éŸ³ä¹ï¼š8-bitèŠ¯ç‰‡é£æ ¼å¾ªç¯BGM

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

**é€šç”¨æŠ€å·§è¿ç§»**ï¼š
åæ‚”è´ªå¿ƒé€‚ç”¨äºæ‰€æœ‰"å¸¦çº¦æŸçš„èµ„æºåˆ†é…"é—®é¢˜ï¼š
1. è¯¾ç¨‹å®‰æ’ï¼šæ•™å®¤æ•°é‡å›ºå®šï¼Œæœ€å¤§åŒ–å¼€è¯¾æ•°é‡
2. å·¥å‚è°ƒåº¦ï¼šæœºå™¨äº§èƒ½æœ‰é™ï¼Œæœ€å¤§åŒ–è®¢å•å®Œæˆ
3. äº‘èµ„æºåˆ†é…ï¼šæœåŠ¡å™¨èµ„æºçº¦æŸï¼Œæœ€å¤§åŒ–ä»»åŠ¡å¤„ç†

**æ´›è°·æ¨è**ï¼š
1. **P4053 å»ºç­‘æŠ¢ä¿®**  
   â†’ åæ‚”è´ªå¿ƒæ¨¡æ¿é¢˜ï¼Œå¼ºåŒ–æ ¸å¿ƒæ€æƒ³
2. **P2107 å°Zçš„AKè®¡åˆ’**  
   â†’ åŠ å…¥ç§»åŠ¨æˆæœ¬ï¼Œæ‹“å±•åæ‚”ç­–ç•¥
3. **P4597 åºåˆ—sequence**  
   â†’ åæ‚”è´ªå¿ƒå˜å½¢ï¼Œç»ƒä¹ éæ—¶é—´çº¦æŸåœºæ™¯

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

**å…±æ€§ç»éªŒæç‚¼**ï¼š
1. **æ•°æ®èŒƒå›´æ•æ„Ÿ**ï¼šå¤šä½ä½œè€…å¼ºè°ƒ`long long`é˜²æº¢å‡ºï¼ˆæ—¶é—´ç´¯åŠ å¯è¾¾10Â¹â´ï¼‰
2. **è¾“å‡ºé¡ºåºé™·é˜±**ï¼šå †ä¸­ä»»åŠ¡æ— åºï¼Œå¿…é¡»æŒ‰æˆªæ­¢æ—¶é—´é‡æ’åº
3. **å¤æ‚åº¦æ„è¯†**ï¼šæš´åŠ›ä»…é€‚ç”¨nâ‰¤20ï¼Œåæ‚”è´ªå¿ƒå¤„ç†500,000æ•°æ®

**è°ƒè¯•æŠ€å·§**ï¼š
```plaintext
å½“WAæ—¶ï¼š
1. æ£€æŸ¥è¾¹ç•Œï¼šn=0/1ï¼Œt=0
2. éªŒè¯åæ‚”æ¡ä»¶ï¼šæ˜¯å¦é—æ¼`!heap.empty()`åˆ¤æ–­
3. è¾“å‡ºä¸­é—´å˜é‡ï¼šæ‰“å°æ¯æ¬¡åæ‚”åçš„æ€»æ—¶é—´
```

---

> æœ¬æ¬¡å¯¹ã€Šå‰ªè¾‘å¸ˆ/MontaÅ¼ystaã€‹çš„è§£æå°±åˆ°è¿™é‡Œã€‚è®°ä½ï¼šç®—æ³•ä¹‹ç¾åœ¨äºç”¨ç®€æ´çš„æ–¹æ³•è§£å†³å¤æ‚çš„é—®é¢˜ã€‚åæ‚”è´ªå¿ƒæ•™ä¼šæˆ‘ä»¬â€”â€”ç¼–ç¨‹å¦‚äººç”Ÿï¼Œé€‚æ—¶è°ƒæ•´ç­–ç•¥æ‰èƒ½èµ°å¾—æ›´è¿œã€‚ä¸‹æ¬¡æŒ‘æˆ˜å†è§ï¼ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š217.82ç§’
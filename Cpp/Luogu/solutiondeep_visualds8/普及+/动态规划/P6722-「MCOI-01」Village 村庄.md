# é¢˜ç›®ä¿¡æ¯

# ã€ŒMCOI-01ã€Village æ‘åº„

## é¢˜ç›®èƒŒæ™¯

ä»Šå¤©ï¼Œç‚çˆ±å–„è‰¯çš„0x3å–µé…±éª‘ç€ä¸€åŒ¹å°é©¬æ¥åˆ°äº†ä¸€ä¸ªæ‘åº„ã€‚

â€œè¯¶ï¼Œè¿™ä¸ªæ‘åº„çš„å¸ƒå±€ â€¦â€¦â€   
â€œå¥½åƒä¹‹å‰æˆ‘ç© Ciste çš„åœ°æ–¹å•Š qwqâ€

0x3å–µé…±æœ‰ä¸€ä¸ªåœ°å›¾ï¼Œåœ°å›¾æœ‰ç€è¿™ä¸ªæ‘åº„çš„ä¿¡æ¯ã€‚

ç„¶å0x3å–µé…±è¦é€šè¿‡è¿™å¼ åœ°å›¾æ¥åˆ¤æ–­ Ciste æœ‰è§£æ— è§£å•¦ ~

æ³¨ï¼šCiste æ˜¯ã€Šè¯·é—®æ‚¨ä»Šå¤©è¦æ¥ç‚¹å…”å­å—ã€‹ä¸­çš„ä¸€ç§è—å®å›¾æ¸¸æˆ

## é¢˜ç›®æè¿°

æ‘åº„è¢«ç®€åŒ–ä¸ºä¸€ä¸ª $n$ ä¸ªèŠ‚ç‚¹ï¼ˆç¼–å·ä¸º $1$ åˆ° $n$ï¼‰å’Œ $n-1$ æ¡è¾¹æ„æˆçš„æ— å‘è¿é€šå›¾ã€‚

0x3å–µé…±è®¤ä¸ºè¿™ä¸ªæ— å‘å›¾é‡Œçš„ä¿¡æ¯è·Ÿæ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æ–°å›¾æœ‰å…³ï¼š

- æ–°å›¾çš„ç‚¹é›†ä¸åŸå›¾ç›¸åŒ
- åœ¨æ–°å›¾ä¸­ $u,v$ ä¹‹é—´æœ‰æ— å‘è¾¹ æ˜¯ åœ¨åŸå›¾ä¸­ $dis(u,v) \ge k$ çš„**å……åˆ†å¿…è¦æ¡ä»¶** ï¼ˆ$k$ ä¸ºç»™å®šå¸¸é‡ï¼Œ$dis(u,v)$ è¡¨ç¤ºç¼–å·ä¸º $u$ çš„ç‚¹åˆ°ç¼–å·ä¸º $v$ çš„ç‚¹æœ€çŸ­è·¯çš„é•¿åº¦ï¼‰

0x3å–µé…±è¿˜è®¤ä¸ºè¿™ä¸ª"æ–°å›¾"å¦‚æœä¸ºäºŒåˆ†å›¾ï¼Œåˆ™ Ciste "æœ‰è§£"ï¼Œå¦‚æœ"æ–°å›¾"ä¸æ˜¯äºŒåˆ†å›¾è¿™ä¸ª Ciste "æ— è§£"ã€‚ï¼ˆå¦‚æœæ‚¨ä¸çŸ¥é“äºŒåˆ†å›¾è¯·ç¿»åˆ°æç¤ºï¼‰

é‚£ä¹ˆ0x3å–µé…±æƒ³è¯·æ‚¨åˆ¤æ–­ä¸€ä¸‹è¿™ä¸ª Ciste æ˜¯å¦"æœ‰è§£"ã€‚

## è¯´æ˜/æç¤º

#### æ ·ä¾‹è§£æ

å¯¹äºæ ·ä¾‹ä¸­çš„ **ç¬¬ä¸€ç»„** æ•°æ®ï¼š

åŸå›¾ï¼š

![](https://cdn.luogu.com.cn/upload/image_hosting/9f9zh4b2.png)
æ–°å›¾ï¼š

![](https://cdn.luogu.com.cn/upload/image_hosting/dg4es91e.png)

æ–°å›¾ä¸ä¸ºäºŒåˆ†å›¾ï¼Œæ•…è¾“å‡º `Baka Chino`ã€‚

å¯¹äº **ç¬¬ä¸‰ç»„** æ•°æ®ï¼š

åŸå›¾ï¼š

![](https://cdn.luogu.com.cn/upload/image_hosting/mku4v6uo.png)

æ–°å›¾ï¼š

![](https://cdn.luogu.com.cn/upload/image_hosting/15o3x3zz.png)

æ–°å›¾ä¸ºäºŒåˆ†å›¾ï¼Œæ•…è¾“å‡º `Yes`ã€‚

#### æ•°æ®è§„æ¨¡ä¸çº¦å®š

**æœ¬é¢˜é‡‡ç”¨æ†ç»‘æµ‹è¯•**ã€‚

- Subtask 1ï¼ˆ16 ptsï¼‰$\ $ ï¼š$n \le 10$ã€‚
- Subtask 2ï¼ˆ24 ptsï¼‰$\ $ ï¼š$n \le 100$ã€‚
- Subtask 3ï¼ˆ8 ptsï¼‰$\ $ ï¼š$n \le 1000$ã€‚
- Subtask 4ï¼ˆ28 ptsï¼‰ï¼šå›¾é€€åŒ–æˆä¸€æ¡é“¾ã€‚
- Subtask 5ï¼ˆ24 ptsï¼‰ï¼šæ— ç‰¹æ®Šé™åˆ¶ã€‚

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$n \le 10^5$ï¼Œ$T \le 10$ï¼Œ$v \le 1000$ï¼Œ$k \le 1000000$ã€‚

æœ¬é¢˜æ•°æ®ä½¿ç”¨ [CYaRon](https://www.luogu.org/discuss/show?postid=11410) ç”Ÿæˆã€‚

#### æç¤º


**äºŒåˆ†å›¾** åˆç§°ä½œäºŒéƒ¨å›¾ï¼Œæ˜¯å›¾è®ºä¸­çš„ä¸€ç§ç‰¹æ®Šæ¨¡å‹ã€‚è®¾ $G=(V,E)$ æ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œå¦‚æœé¡¶ç‚¹ $V$ å¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›† $(A,B)$ï¼Œå¹¶ä¸”å›¾ä¸­çš„æ¯æ¡è¾¹ $(i,j)$ æ‰€å…³è”çš„ä¸¤ä¸ªé¡¶ç‚¹ $i$ å’Œ $j$ åˆ†åˆ«å±äºè¿™ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹é›† $(i \in A,j \in B)$ï¼Œåˆ™ç§°å›¾ $G$ ä¸ºä¸€ä¸ªäºŒåˆ†å›¾ã€‚ï¼ˆæ‘˜è‡ª[ç™¾åº¦ç™¾ç§‘](https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E5%9B%BE/9089095?fr=aladdin)ï¼‰

#### è¯´æ˜

Minecraft OI Round 1 A

- Ideaï¼š0x3å–µé…±
- Solution/Stdï¼š0x3å–µé…±
- Dataï¼š0x3å–µé…±
- Testerï¼štarjin

## æ ·ä¾‹ #1

### è¾“å…¥

```
5
5 2
1 2 1
2 3 1
3 4 1
4 5 1
5 3
1 2 1
2 3 1
3 4 1
4 5 1
5 8
1 3 3
1 2 1
2 4 6
2 5 2
5 2
1 3 3
1 2 1
2 4 6
2 5 2
7 4
1 2 3
1 3 3
2 5 3
2 6 3
3 7 3
2 4 2```

### è¾“å‡º

```
Baka Chino
Yes
Yes
Baka Chino
Baka Chino```

# AIåˆ†æç»“æœ

ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šã€ŒMCOI-01ã€Village æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡  

> æ¬¢è¿æ¥åˆ°ä»Šå¤©çš„ç®—æ³•æ¢é™©ï¼æˆ‘ä»¬å°†ä¸€èµ·åŒ–èº«â€œå›¾è®ºä¾¦æ¢â€ï¼Œç”¨æ¢æ ¹ DPã€æ ‘çš„ç›´å¾„å’ŒäºŒåˆ†å›¾åˆ¤å®šä¸‰å¤§æ­¦å™¨ï¼Œè§£å¼€ã€Œæ–°å›¾æ˜¯å¦ä¸ºäºŒåˆ†å›¾ã€çš„è°œé¢˜ã€‚  

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢  
âœ¨ **æ ¸å¿ƒæŒ‘æˆ˜**ï¼š  
â€œæŠŠä¸€æ£µæ ‘æ”¹é€ æˆä¸€å¼ æ–°å›¾ï¼šå½“ä¸”ä»…å½“åŸæ ‘ä¸­ä¸¤ç‚¹è·ç¦» â‰¥ k æ—¶ï¼Œåœ¨æ–°å›¾ä¸­è¿è¾¹ï¼›å†åˆ¤æ–­æ–°å›¾æ˜¯å¦ä¸ºäºŒåˆ†å›¾ã€‚â€  
ï¼ˆäºŒåˆ†å›¾ â‡” æ— å¥‡ç¯ï¼‰  

âœ¨ **ç®—æ³•æ ‡ç­¾**ï¼š  
æ ‘å½¢ DPã€æ ‘çš„ç›´å¾„ã€äºŒåˆ†å›¾åˆ¤å®šã€æ¢æ ¹æ€æƒ³  

ğŸ—£ï¸ **æ€è·¯æ¼”è¿›è·¯å¾„**  
1. æš´åŠ›æ³•ï¼šFloyd å…¨æºæœ€çŸ­è·¯ â†’ å»ºå›¾ â†’ äºŒåˆ†å›¾æŸ“è‰²ï¼ˆ40 åˆ†ï¼ŒO(nÂ³)ï¼‰ã€‚  
2. é“¾ä¸Šè§‚å¯Ÿï¼šé€€åŒ–æˆé“¾æ—¶ï¼Œæ–°å›¾çš„å¥‡ç¯ä¸€å®šå¯¹åº”â€œé“¾ä¸Šä¸‰å…ƒç¯â€ï¼›å‰ç¼€å’Œå³å¯ O(n) åˆ¤æ–­ï¼ˆ64 åˆ†ï¼‰ã€‚  
3. æ ‘ä¸Šæ¨å¹¿ï¼šå¥‡ç¯ â‡” å­˜åœ¨ä¸‰å…ƒç¯ â‡” å­˜åœ¨ä¸€ç‚¹åˆ°â€œæ ‘çš„ç›´å¾„â€ä¸¤ç«¯è·ç¦»å‡ â‰¥ kï¼ˆ100 åˆ†ï¼ŒO(n)ï¼‰ã€‚  

ğŸ”‘ **æ ¸å¿ƒç®—æ³•é’¥åŒ™**ï¼š  
æŠŠâ€œå…¨å±€è·ç¦»â€é—®é¢˜èšç„¦åˆ°â€œç›´å¾„â€ä¸Šâ€”â€”å°±åƒç”¨ä¸€æŠŠæ”¾å¤§é•œæŠŠæ•´å¼ åœ°å›¾ç¼©æˆä¸€æ¡æœ€é•¿é“¾ï¼Œå†æ£€æŸ¥é“¾å¤–æœ‰æ²¡æœ‰â€œç¿˜èµ·çš„ææ¡â€æ»¡è¶³æ¡ä»¶ã€‚  

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ  
| çº¿ç´¢ | å‘ç°ä¸æ¨ç† |
|---|---|
| **é—®é¢˜ç›®æ ‡** | åˆ¤æ–­æ–°å›¾æ˜¯å¦ä¸ºäºŒåˆ†å›¾ â†’ ç­‰ä»·äºâ€œæ–°å›¾æ˜¯å¦å«æœ‰å¥‡ç¯â€ã€‚ |
| **é—®é¢˜ç‰¹æ€§** | åŸå›¾æ˜¯æ ‘ï¼Œè·ç¦»å”¯ä¸€ï¼›æ–°å›¾è¾¹åªä¸ â‰¥k æœ‰å…³ â†’ å¥‡ç¯ä¸€å®šç”±â€œä¸‰æ¡ â‰¥k çš„è¾¹â€æ„æˆï¼ˆä¸‰å…ƒç¯ï¼‰ã€‚ |
| **æ•°æ®è§„æ¨¡** | n â‰¤ 1e5ï¼ŒT â‰¤ 10 â†’ å¿…é¡» O(n) æˆ– O(n log n)ã€‚ |

### ğŸ§  æ€ç»´é“¾æ„å»º  
> â€œå½“æˆ‘çœ‹åˆ°â€˜æ ‘ä¸Šè·ç¦» â‰¥k è¿è¾¹â€™æ—¶ï¼Œç¬¬ä¸€ååº”æ˜¯æš´åŠ› Floydï¼Œä½† n=1e5 ç›´æ¥çˆ†ç‚¸ã€‚  
> å†è§‚å¯Ÿæ ·ä¾‹é“¾ï¼šå‘ç°æ‰€æœ‰å¥‡ç¯éƒ½èƒ½å‹ç¼©æˆä¸‰å…ƒç¯ï¼Œäºæ˜¯æƒ³åˆ°â€˜ç›´å¾„â€™è¿™ä¸€æ ‘çš„â€˜è„Šæ¢â€™ã€‚  
> åªéœ€è¯æ˜ï¼šè‹¥å­˜åœ¨å¥‡ç¯ï¼Œå¿…å­˜åœ¨ä¸€ç‚¹åˆ°ç›´å¾„ä¸¤ç«¯è·ç¦» â‰¥kã€‚è¿™æ ·å°±æŠŠå…¨å±€é—®é¢˜å‹ç¼©åˆ° O(n) ä¸¤æ¬¡ DFS å³å¯è§£å†³ï¼â€  

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ  
| ä½œè€… | äº®ç‚¹æç‚¼ | æ˜Ÿçº§ |
|---|---|---|
| **Zenith_Yeh** | æ¢æ ¹ DP è®°å½•â€œå­æ ‘æœ€é•¿ 3 æ¡é“¾ + çˆ¶äº²æœ€é•¿é“¾â€ï¼ŒO(n) å®Œæˆæ‰€æœ‰ç‚¹â€œæœ€è¿œç‚¹è·ç¦»â€ç»Ÿè®¡ï¼›ä»£ç çŸ­å°ç²¾æ‚ã€‚ | â˜…â˜…â˜…â˜…â˜… |
| **ä¹¦è™«ä»”** | ä» 40 åˆ†æš´åŠ› â†’ é“¾ä¸Šç‰¹æ®Šæ€§è´¨ â†’ ç›´å¾„ä¸‰å…ƒç¯ï¼Œç»™å‡ºå®Œæ•´æ•°å­¦å½’çº³è¯æ˜ï¼Œæ€è·¯é€’è¿›æ¸…æ™°ã€‚ | â˜…â˜…â˜…â˜…â˜† |
| **JK_LOVER** | ç›´æ¥åˆ©ç”¨ç›´å¾„ä¸¤ç«¯æŸ“è‰²æ³•ï¼šä¸¤æ¬¡ DFS æ±‚ç›´å¾„ï¼Œå†ä¸¤æ¬¡ DFS æ ‡è®°ç‚¹åˆ°ä¸¤ç«¯è·ç¦»ï¼Œè‹¥æŸç‚¹åŒæ—¶ â‰¥k åˆ™å‡ºç°å¥‡ç¯ï¼›å®ç°æç®€ã€‚ | â˜…â˜…â˜…â˜…â˜† |

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ  

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆæœ€ä¼˜è§£æ³•ï¼šç›´å¾„ + æŸ“è‰²æ³•ï¼‰
1. **å…³é”®ç‚¹1ï¼šå¦‚ä½•å¿«é€Ÿæ±‚ä»»æ„ä¸¤ç‚¹è·ç¦»ï¼Ÿ**  
   - **åˆ†æ**ï¼šæ ‘æ— ç¯ï¼Œè·ç¦»å”¯ä¸€ã€‚ä¸¤æ¬¡ DFS/BFS å³å¯æ±‚å‡ºæ ‘çš„ç›´å¾„ç«¯ç‚¹ sã€tï¼Œå¹¶é¡ºå¸¦å¾—åˆ°æ‰€æœ‰ç‚¹åˆ° sã€t çš„è·ç¦» `ds[]`ã€`dt[]`ã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ ‘çš„ç›´å¾„æ˜¯â€œæœ€é•¿é“¾â€ï¼Œæ‰€æœ‰æœ€è¿œä¿¡æ¯éƒ½èƒ½è¢«å®ƒâ€œä»£è¡¨â€ã€‚  

2. **å…³é”®ç‚¹2ï¼šå¦‚ä½•ç­‰ä»·è½¬æ¢â€œå­˜åœ¨å¥‡ç¯â€ï¼Ÿ**  
   - **åˆ†æ**ï¼š  
     - æ–°å›¾è¾¹åªä¸ â‰¥k æœ‰å…³ â‡’ ä»»ä½•å¥‡ç¯è‡³å°‘å«ä¸€æ¡â€œè·¨è¶Šç›´å¾„â€çš„ä¸‰å…ƒç¯ (a, b, c) æ»¡è¶³ dis(a,b)â‰¥k, dis(b,c)â‰¥k, dis(a,c)â‰¥kã€‚  
     - å¯è¯æ˜ï¼šè‹¥å­˜åœ¨å¥‡ç¯ï¼Œå¿…å­˜åœ¨ä¸€ç‚¹ x ä½¿ ds[x]â‰¥k ä¸” dt[x]â‰¥kã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæŠŠâ€œå…¨å±€å¥‡ç¯â€å‹ç¼©ä¸ºâ€œå•ç‚¹åŒæ—¶ç¦»ç›´å¾„ä¸¤ç«¯ â‰¥kâ€ï¼Œå®ç° O(n) åˆ¤å®šã€‚  

3. **å…³é”®ç‚¹3ï¼šå¦‚ä½•é¿å…å¤šæµ‹æ¸…ç©ºå¤±è¯¯ï¼Ÿ**  
   - **åˆ†æ**ï¼šä½¿ç”¨é“¾å¼å‰å‘æ˜Ÿ/vector å­˜å›¾ï¼Œæ¯ç»„æ•°æ®åæ¸…ç©º `head[]`/`vector` ä¸å…¨å±€æ•°ç»„å³å¯ã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå…»æˆâ€œæ•°æ®éš”ç¦»â€ä¹ æƒ¯ï¼Œé˜²æ­¢ç„å­¦ WAã€‚  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **æŠ€å·§Aï¼šç›´å¾„èšç„¦**â€”â€”æŠŠæ ‘ä¸Šä»»æ„è·ç¦»é—®é¢˜æ”¶æ•›åˆ°ç›´å¾„ä¸¤ç«¯ï¼Œæå¤§é™ä½å¤æ‚åº¦ã€‚  
- **æŠ€å·§Bï¼šç­‰ä»·è½¬åŒ–**â€”â€”â€œå¥‡ç¯â€â‡”â€œä¸‰å…ƒç¯â€â‡”â€œä¸€ç‚¹åˆ°ä¸¤ç«¯ â‰¥kâ€ï¼Œå±‚å±‚æŠ½è±¡ã€‚  
- **æŠ€å·§Cï¼šä¸¤æ¬¡ DFS æ¨¡æ¿**â€”â€”æ±‚ç›´å¾„ + æ±‚è·ç¦»ï¼Œä»£ç å¯å¤åˆ¶åˆ°å¤šé“æ ‘å½¢é¢˜ã€‚  

### âš”ï¸ ç­–ç•¥ç«æŠ€åœº  
| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯/å¾—åˆ† |
|---|---|---|---|---|
| **æš´åŠ› Floyd + æŸ“è‰²** | å…¨æºæœ€çŸ­è·¯å»ºå›¾åäºŒåˆ†å›¾åˆ¤å®š | æ€è·¯ç›´æ¥ | O(nÂ³) æ— æ³•æ¥å— | nâ‰¤100 (40 åˆ†) |
| **é“¾ä¸Šå‰ç¼€å’Œ** | é€€åŒ–æˆé“¾æ—¶ï¼Œå‰ç¼€å’Œåˆ¤æ–­ä¸‰å…ƒç¯ | O(n) æç®€ | ä»…é™é“¾ | é“¾æ•°æ® (64 åˆ†) |
| **ç›´å¾„ + æŸ“è‰²æ³• (æœ€ä¼˜)** | ä¸¤æ¬¡ DFS æ±‚ç›´å¾„ï¼Œå†ä¸¤æ¬¡ DFS åˆ¤å®š | O(n) é€šç”¨ | éœ€ä¸¥è°¨è¯æ˜ | 100 åˆ† |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…  
> ä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€ï¼š  
> 1. èµ·ç‚¹ï¼šæš´åŠ› Floyd çˆ†ç‚¸ã€‚  
> 2. ç“¶é¢ˆï¼šéœ€è¦å…¨å±€è·ç¦»ã€‚  
> 3. é’¥åŒ™ï¼šç›´å¾„èšç„¦ï¼Œæ‰€æœ‰è·ç¦»ä¿¡æ¯è¢«â€œæœ€é•¿é“¾â€å‹ç¼©ã€‚  
> 4. å‡åï¼šæŠŠå¥‡ç¯åˆ¤å®šå˜æˆå•ç‚¹æ£€æŸ¥ï¼Œå®ç° O(n)ã€‚  

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ  

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°ï¼ˆç›´å¾„ + æŸ“è‰²æ³•ï¼‰
```cpp
#include <bits/stdc++.h>
using namespace std;
const int N = 1e5 + 10;
struct Edge { int to, w, nxt; } e[N << 1];
int head[N], cnt;
void add(int u, int v, int w) {
    e[++cnt] = {v, w, head[u]}; head[u] = cnt;
}
int dis[2][N];
void dfs(int u, int fa, int* d) {
    for (int i = head[u]; i; i = e[i].nxt) {
        int v = e[i].to;
        if (v == fa) continue;
        d[v] = d[u] + e[i].w;
        dfs(v, u, d);
    }
}
int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    int T; cin >> T;
    while (T--) {
        int n, k; cin >> n >> k;
        cnt = 0; fill(head, head + n + 1, 0);
        for (int i = 1, u, v, w; i < n; ++i) {
            cin >> u >> v >> w;
            add(u, v, w); add(v, u, w);
        }
        // 1. æ±‚ç›´å¾„ç«¯ç‚¹ s, t
        dfs(1, 0, dis[0]);
        int s = max_element(dis[0] + 1, dis[0] + n + 1) - dis[0];
        dfs(s, 0, dis[0]);
        int t = max_element(dis[0] + 1, dis[0] + n + 1) - dis[0];
        dfs(t, 0, dis[1]);
        // 2. æ˜¯å¦å­˜åœ¨ x ä½¿ dis[0][x] â‰¥ k ä¸” dis[1][x] â‰¥ k
        bool ok = true;
        for (int i = 1; i <= n; ++i)
            if (dis[0][i] >= k && dis[1][i] >= k) { ok = false; break; }
        cout << (ok ? "Yes" : "Baka Chino") << '\n';
    }
    return 0;
}
```

**ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
- ä¸¤æ¬¡ DFS æ±‚ç›´å¾„ç«¯ç‚¹ sã€tï¼›  
- å†ä¸¤æ¬¡ DFS å¾—åˆ°æ‰€æœ‰ç‚¹åˆ° sã€t çš„è·ç¦»ï¼›  
- åªéœ€ä¸€æ¬¡çº¿æ€§æ‰«æå³å¯åˆ¤å®šå¥‡ç¯ã€‚  

### é¢˜è§£ç‰‡æ®µèµæ  
**Zenith_Yeh æ¢æ ¹ DP ç‰‡æ®µ**  
```cpp
void dfs(int now,int fa){
    for(int i=head[now];i;i=a[i].next){
        int u=a[i].to;
        if(u==fa)continue;
        dfs(u,now);
        // æ›´æ–°æœ€é•¿ä¸‰æ¡é“¾
        if(dp[u][0]+a[i].w>dp[now][0]){
            dp[now][3]=dp[now][2];
            dp[now][2]=dp[now][0];
            dp[now][0]=dp[u][0]+a[i].w;
            dp[now][1]=u;
        }else ...
    }
}
```
> äº®ç‚¹ï¼šç”¨ `dp[now][0/1/2/3]` è®°å½•â€œå­æ ‘æœ€é•¿é“¾ + æ¬¡é•¿é“¾ + æ¬¡æ¬¡é•¿é“¾ + çˆ¶äº²é“¾â€ï¼Œæ¢æ ¹æ—¶ä»…éœ€ O(1) åˆå¹¶ï¼Œä¼˜é›…é«˜æ•ˆã€‚  

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º  

**ä¸»é¢˜**ï¼šã€Œåƒç´ æ¢é™©å®¶ã€åœ¨æ ‘ä¸Šå¯»æ‰¾â€œå¥‡ç¯â€å®è—  
**æ ¸å¿ƒå±•ç¤º**ï¼š  
1. 8-bit åƒç´ æ ‘ï¼ŒèŠ‚ç‚¹ç”¨æ–¹å—è¡¨ç¤ºï¼›  
2. ç¬¬ä¸€æ¬¡ DFSï¼ˆè“è‰²æ³¢çº¹ï¼‰ä»æ ¹æ‰©æ•£ï¼Œè®¡ç®—åˆ°æ ¹è·ç¦»ï¼›  
3. æ‰¾åˆ°ç›´å¾„ä¸¤ç«¯åï¼Œä¸¤ç«¯åˆ†åˆ«å‘å‡ºçº¢è‰²/ç»¿è‰²å°„çº¿ï¼Œæ ‡è®°æ‰€æœ‰ç‚¹åˆ°ä¸¤ç«¯è·ç¦»ï¼›  
4. è‹¥æŸèŠ‚ç‚¹åŒæ—¶è¢«çº¢ç»¿å°„çº¿è¦†ç›–é•¿åº¦ â‰¥kï¼Œåˆ™åƒç´ çˆ†ç‚¸ï¼ˆå¥‡ç¯å‡ºç°ï¼‰ï¼Œæ’­æ”¾â€œå¤±è´¥â€éŸ³æ•ˆï¼›  
5. è‹¥å…¨ç¨‹æ— çˆ†ç‚¸ï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆå¹¶å¼¹å‡ºâ€œYesâ€åƒç´ æ——å¸œã€‚  

**äº¤äº’**ï¼š  
- æ­¥è¿›/è‡ªåŠ¨æ’­æ”¾æŒ‰é’®ï¼›  
- è°ƒé€Ÿæ»‘å—ï¼›  
- ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹å®æ—¶è·ç¦»ã€‚  

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ  

**é€šç”¨æŠ€å·§è¿ç§»**  
- â€œç›´å¾„ + æŸ“è‰²â€å¯è§£å†³ï¼š  
  1. æ ‘çš„æœ€é•¿ k-åˆæ³•è·¯å¾„æ•°ï¼›  
  2. åˆ¤æ–­æ ‘ä¸Šæ˜¯å¦å­˜åœ¨é•¿åº¦ â‰¥k çš„ç®€å•ç¯ï¼›  
  3. åœ¨å¸¦æƒæ ‘ä¸­æ‰¾â€œæœ€å¹³è¡¡åˆ†å‰²â€ã€‚  

**æ´›è°·æ¨è**  
- P3304 [SDOI2013] ç›´å¾„ â€”â€” å·©å›ºç›´å¾„æ€§è´¨ä¸æ¢æ ¹ DP  
- P3398 ä»“é¼ æ‰¾ sugar â€”â€” æ ‘ä¸Šè·ç¦»åˆ¤å®š + LCA å˜å½¢  
- P4568 [JLOI2011] é£è¡Œè·¯çº¿ â€”â€” åˆ†å±‚å›¾æœ€çŸ­è·¯ï¼Œç»ƒä¹ â€œå»ºå›¾æŠ€å·§â€  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«  

> ä¹¦è™«ä»”åœ¨é¢˜è§£ä¸­å¼ºè°ƒï¼šâ€œæ•°å­¦å½’çº³æ³•é‚£é‡Œä¸€å®šè¦ç”»å›¾ï¼Œç»“åˆåŸå›¾æ‰‹æ‘¸ï¼â€  
> æ´›è¯­äº‘ç¬ºç‚¹è¯„ï¼šè§†è§‰åŒ–æ‰‹æ‘¸æ˜¯è°ƒè¯•æ ‘å½¢é—®é¢˜çš„åˆ©å™¨ï¼ŒæŠŠæŠ½è±¡è·ç¦»è½¬æˆâ€œåœ¨çº¸ä¸Šæ‹‰ç»³å­â€ï¼Œèƒ½è¿…é€Ÿå‘ç°æ€§è´¨ã€‚  

---

<conclusion>  
ä»Šå¤©æˆ‘ä»¬ç”¨â€œç›´å¾„èšç„¦ + æŸ“è‰²æ³•â€åœ¨ O(n) æ—¶é—´å†…æ¼‚äº®åœ°è§£å†³äº† Village é—®é¢˜ã€‚è®°ä½ï¼šé¢å¯¹æ ‘ä¸Šè·ç¦»ç±»é¢˜ç›®ï¼Œå…ˆæƒ³ç›´å¾„ï¼Œå†æ¢æ ¹ï¼Œå¾€å¾€èƒ½æŸ³æš—èŠ±æ˜ï¼ä¸‹æ¬¡æ¢é™©è§ï¼

---
å¤„ç†ç”¨æ—¶ï¼š66.92ç§’
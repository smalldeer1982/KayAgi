# 题目信息

# [NOIP 2004 普及组] 不高兴的津津

## 题目描述

津津上初中了。妈妈认为津津应该更加用功学习，所以津津除了上学之外，还要参加妈妈为她报名的各科复习班。另外每周妈妈还会送她去学习朗诵、舞蹈和钢琴。但是津津如果一天上课超过八个小时就会不高兴，而且上得越久就会越不高兴。假设津津不会因为其它事不高兴，并且她的不高兴不会持续到第二天。请你帮忙检查一下津津下周的日程安排，看看下周她会不会不高兴；如果会的话，哪天最不高兴。


## 说明/提示

NOIP2004 普及组第 1 题

- 2021-10-27：增加一组 hack 数据
- 2022-06-05：又增加一组 hack 数据

## 样例 #1

### 输入

```
5 3
6 2
7 2
5 3
5 4
0 4
0 6
```

### 输出

```
3```

# AI分析结果

# 💡 洛语云笺的C++算法解析：不高兴的津津 深入学习指南 💡

> 今天我们来一起分析「不高兴的津津」这道 NOIP 2004 普及组 T1。  
> 它看似只是一道“简单模拟”，却暗藏了“如何优雅地处理边界、如何简洁地更新答案”的通用技巧。让我们像侦探一样，从题目里抽丝剥茧，找到最顺手的解题套路！

---

## 1. 题目解读与策略初探

✨ **本题核心挑战**：  
在 7 天内，每天把两个数字相加，找到**第一个**总和 **>8** 且**最大**的那一天；如果全部 ≤8，则输出 0。

✨ **核心算法标签**：模拟、一次遍历、极值更新。

🗣️ **思路演进**  
1. 最朴素：把 7 天全部存进数组，再扫一遍找答案。  
2. 再优化：边读边算，用一个变量实时维护“当前最大”和“对应天数”，省掉第二次循环。  
3. 边界细节：  
   • 只有 **>8** 才纳入比较；  
   • 若最大值相同，取更早出现的天数（用 `<` 而非 `≤` 即可天然保证）。

🔍 算法侦探：如何在题目中发现线索？  
- **线索1（问题目标）**：求“最大值”+“最早位置” → 典型**极值扫描**。  
- **线索2（约束条件）**：只有 >8 的才有效 → 需要在更新前做一次**筛选**。  
- **线索3（数据规模）**：7 组输入 → O(7) 随便做，核心比拼**代码简洁度**与**鲁棒性**。

🧠 思维链构建：从线索到策略  
> 1. 先看到“求最大”→ 想到一次遍历 + 变量维护。  
> 2. 再看到“>8 才有效”→ 把判断条件写进 `if`。  
> 3. 最后看到“最早优先”→ 用 `>` 更新即可，天然保留第一次。  
> 结论：一次读入、一次判断、O(1) 空间，**边读边更新**是最优雅的姿势！

---

## 2. 精选优质题解参考

| 来源 | 亮点提炼 | 洛语云笺点评 |
|---|---|---|
| **封禁用户** (1662👍) | 变量少、逻辑紧凑；`if((s>max)&&(s>8))` 一句双条件，避免二次判断。 | 典型“边读边更新”模板，适合初学者背诵。 |
| **cff_0102** (11👍) | 用 `mx=8` 做哨兵，若 7 天都无法更新则 `pos=0`，天然覆盖“无答案”分支。 | 把“无答案输出 0”融进初始化，非常巧妙。 |
| **zhuoqizhi** (3👍) | 题解里专门提醒“用 `<` 而不是 `<=`”保证最早出现。 | 把易错点写成小贴士，学习价值高。 |

---

## 3. 解题策略深度剖析

### 🎯 核心难点与关键步骤
1. **关键点1：极值更新逻辑**  
   - 维护两个变量：`max_time` 记录当前最大上课时间，`day_id` 记录对应天数。  
   - 每读入一组 `(a,b)`，计算 `sum = a+b`。  
   - 仅当 `sum>8 && sum>max_time` 时，更新 `max_time = sum, day_id = i`。  
   💡 **学习笔记**：极值更新模板——“先过滤再比较”。

2. **关键点2：无答案时的输出 0**  
   - 方案 A：把 `max_time` 初始化为 8，若 7 次循环后仍未被更新，则 `day_id` 仍为 0。  
   - 方案 B：先设 `max_time=-1`，循环结束后再判断 `max_time<=8` 则输出 0。  
   💡 **学习笔记**：哨兵值能减少一次最终判断分支。

3. **关键点3：代码最小化**  
   - 只保留 3 个变量：`a, b, ans`（或再加 `mx`）。  
   - 用 `for (int i=1;i<=7;++i)` 简洁循环。  
   💡 **学习笔记**：入门题也要追求“能少写就少写”，培养代码审美。

### ✨ 解题技巧总结
- **技巧A：边读边算**——省掉第二次遍历，降低常数。  
- **技巧B：哨兵初始化**——把“无解”情况融入初始值，减少 `if-else`。  
- **技巧C：极值更新模板**  
  ```cpp
  int mx = 哨兵, ans = 0;
  for (int i=1;i<=n;i++){
      int x; cin >> x;
      if (x > 条件 && x > mx) mx = x, ans = i;
  }
  cout << ans;
  ```

### ⚔️ 策略竞技场：不同解法的对比分析

| 策略 | 核心思想 | 优点 | 缺点 | 得分预期 |
|---|---|---|---|---|
| **数组+二次扫描** | 存数组再扫 | 思路直白 | 多一次循环 | 100% |
| **边读边更新** | 一次遍历 | 代码最短、常数最小 | 需要正确初始化 | 100% |
| **7 个 if 展开** | 手写 7 次 | 完全无循环 | 代码冗长、维护差 | 100% |

### ✨ 优化之旅：从“能做”到“做好”
> 暴力数组 → 发现可以省掉数组 → 哨兵初始化 → 一行更新 → 代码最短。  
> 这就是从“能跑”到“优雅”的进化！

---

## 4. C++核心代码实现赏析

### 本题通用核心C++实现参考
- **说明**：综合各题解精华，展示最短可 AC 版本。  
- **完整核心代码**：
```cpp
#include <bits/stdc++.h>
using namespace std;
int main() {
    ios::sync_with_stdio(false);
    int mx = 8, ans = 0;          // mx 哨兵，初始 8
    for (int i = 1, a, b; i <= 7; ++i) {
        cin >> a >> b;
        if (a + b > mx) mx = a + b, ans = i;
    }
    cout << ans;
    return 0;
}
```
- **代码解读概要**：  
  仅用 4 行核心逻辑完成“读→算→更新→输出”。哨兵 `mx=8` 天然处理无解情况；`if` 里用 `>` 保证最早优先。

### 题解片段赏析
**片段1：cff_0102 版哨兵**
```cpp
int mx=8, pos=0;
```
> 用题目给出的阈值 8 做初值，若 7 天全 ≤8，则 `pos` 不会被更新，最终输出 0，极妙。

**片段2：zhuoqizhi 版比较符号**
```cpp
if(max < t1+t2)
```
> 用 `<` 而非 `<=`，当最大值相同时不会覆盖更早出现的天数，符合题意。

---

## 5. 算法可视化：像素动画演示

- **动画主题**：8 位像素风“津津的一周”  
- **核心演示**：7 个像素日历格依次点亮，实时显示每天总时长；当 >8 时格子弹出“不高兴”表情，并高亮当前最大值。  
- **交互面板**：  
  • 播放/暂停/重置按钮（像素按钮样式）  
  • 速度滑块（1×/2×/4×）  
  • 音效：读到 >8 时播放“嘟”提示音；找到更早最大值时“叮”一声。  
- **技术要点**：  
  • Canvas 画 7 格日历条，每格颜色表示是否 >8。  
  • 变量 `mx`、`ans` 用像素数字实时显示。  
  • 关键帧：第 3 天 9 小时 → 格子弹出；第 5 天 10 小时 → 格子替换高亮并更新 `ans=5`。

---

## 6. 拓展练习与相似问题思考

### 通用思路迁移
极值扫描 + 最早位置 的套路适用于：  
1. 求某门课程第一次超过 60 分的学期；  
2. 股票价格首次突破某阈值的日期；  
3. 日志里第一次出现错误码的行号。

### 洛谷推荐
1. **P1001 A+B Problem** —— 练手输入输出，巩固基础。  
2. **P1425 小鱼比可爱** —— 同样一次遍历求最值与位置。  
3. **P2670 [NOIP2015 普及组] 扫雷游戏** —— 二维网格极值扫描，体验边界处理。

---

## 7. 学习心得与经验分享

> 多位作者不约而同提到：  
> “把 `max` 初值设为 8，就能省掉最后的 `if(max>8)` 判断。”  
> **洛语云笺点评**：这是“哨兵技巧”的经典应用——把题目条件直接变成初始值，让代码更短也更安全。

---

<conclusion>
今天我们从“不高兴的津津”里学到了三件事：  
1. 极值扫描模板：一次遍历 + 哨兵初始化。  
2. 边界处理：用 `<` 保最早，用 8 保无解。  
3. 代码审美：能少一行是一行。  
把这些小套路装进工具箱，下次遇到类似“找第一个最大值”的问题，你就能秒切！加油，下期见！

---
处理用时：71.80秒
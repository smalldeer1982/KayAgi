# é¢˜ç›®ä¿¡æ¯

# [USACO09DEC] Dizzy Cows G

## é¢˜ç›®æè¿°

The cows have taken to racing each other around the farm but they get very dizzy when running in circles, and everyone knows that dizzy cows don't produce any milk. Farmer John wants to convert all of the two-way cow paths in the farm to one-way paths in order to eliminate any 'cycles' and prevent the cows from getting dizzy.  A 'cycle' enables a cow to traverse one or more cow paths and arrive back at her starting point, thus completing a loop or circle.

The farm comprises N pastures (1 <= N <= 100,000) conveniently numbered 1..N. M1 (1 <= M1 <= 100,000) one-way cow paths and M2 two-way cow paths (1 <= M2 <= 100,000) connect the pastures. No path directly connects a pasture to itself, although multiple paths might connect two different pastures. A cow may or may not be able to travel between any two given pastures by following a sequence of cow paths.

Your job is to assign a direction to the two-way cow paths such that the entire farm (ultimately with only one-way paths) has no cycles. That is, there should be no sequence of one-way cow paths which leads back to its starting position. The existing one-way cow paths do not form a cycle and should be left as they are.

One-way cow paths run from pasture A\_i (1 <= A\_i <= N) to pasture B\_i (1 <= B\_i <= N). Two-way cow paths connect pastures X\_i (1 <= X\_i <= N) and Y\_i (1 <= Y\_i <= N).

Consider this example:

```cpp
1-->2 
|  /| 
| / | 
|/  | 
3<--4 
```
The cow paths between pastures 1 and 3, 2 and 3, and 2 and 4 are two-way paths. One-way paths connect 1 to 2 and also 4 to 3. One valid way to convert the two-way paths into one-way paths in such a way that there are no cycles would be to direct them from 1 to 3, from 2 to 3, and from 3 to 4:

```cpp
1-->2 
|  /| 
| / | 
vL  v 
3<--4 
```


## æ ·ä¾‹ #1

### è¾“å…¥

```
4 2 3
1 2
4 3
1 3
4 2
3 2
```

### è¾“å‡º

```
1 3
4 2
2 3```

# AIåˆ†æç»“æœ

---
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šUSACO09DEC Dizzy Cows G æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æâ€œ**USACO09DEC Dizzy Cows G**â€è¿™é“C++ç¼–ç¨‹é¢˜ã€‚è¿™ä¸ä»…ä»…æ˜¯ä¸€æ¬¡è§£é¢˜ï¼Œæ›´æ˜¯ä¸€åœºæ€ç»´çš„æ¢é™©ã€‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åƒä¾¦æ¢ä¸€æ ·ä»é¢˜ç›®ä¸­å¯»æ‰¾çº¿ç´¢ï¼Œå¹¶åœ¨ä¸åŒçš„è§£é¢˜é“è·¯ä¸­æƒè¡¡é€‰æ‹©ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜çš„ç­–ç•¥ã€‚

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼š  
> **å¦‚ä½•å°†æ‰€æœ‰æ— å‘è¾¹å®šå‘ï¼Œä½¿å¾—æ•´å¼ å›¾æˆä¸ºâ€œæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰â€ï¼Ÿ**  
> æ ¸å¿ƒéš¾ç‚¹åœ¨äºï¼š**â€œæ— å‘è¾¹â€å¿…é¡»è¢«èµ‹äºˆæ–¹å‘ï¼Œä½†ä¸èƒ½å¼•å…¥ä»»ä½•ç¯**ã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼š`æ‹“æ‰‘æ’åº`ã€`å›¾è®º`ã€`æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> é¢˜ç›®ç»™å‡ºäº†ä¸€ä¸ªæœ‰å‘å›¾ï¼ˆå·²çŸ¥æ— ç¯ï¼‰å’Œä¸€äº›æ— å‘è¾¹ã€‚æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯**ç»™è¿™äº›æ— å‘è¾¹å®šå‘**ï¼Œä½¿å¾—æ•´å¼ å›¾ä»ç„¶æ˜¯æ— ç¯çš„ã€‚  
> è§£å†³è¿™ç±»é—®é¢˜çš„â€œé’¥åŒ™â€æ˜¯**æ‹“æ‰‘æ’åº**ã€‚æ‹“æ‰‘æ’åºçš„æœ¬è´¨æ˜¯ç»™å›¾ä¸­çš„èŠ‚ç‚¹èµ‹äºˆä¸€ä¸ª**æ‹“æ‰‘åº**ï¼Œä½¿å¾—æ‰€æœ‰æœ‰å‘è¾¹éƒ½ä»**æ‹“æ‰‘åºå°çš„èŠ‚ç‚¹æŒ‡å‘æ‹“æ‰‘åºå¤§çš„èŠ‚ç‚¹**ã€‚  
> æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨ï¼š  
> 1. **å…ˆå¿½ç•¥æ— å‘è¾¹**ï¼Œå¯¹æœ‰å‘è¾¹æ„æˆçš„å›¾åšæ‹“æ‰‘æ’åºï¼Œå¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æ‹“æ‰‘åºã€‚  
> 2. å¯¹äºæ¯æ¡æ— å‘è¾¹ `(u, v)`ï¼Œ**æ ¹æ®æ‹“æ‰‘åºå†³å®šæ–¹å‘**ï¼š  
>    - è‹¥ `u` çš„æ‹“æ‰‘åºå°äº `v`ï¼Œåˆ™å®šå‘ä¸º `u â†’ v`ï¼›  
>    - å¦åˆ™ï¼Œå®šå‘ä¸º `v â†’ u`ã€‚  
> è¿™æ ·å°±èƒ½ç¡®ä¿**ä¸ä¼šå¼•å…¥ç¯**ã€‚

---

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ

1. **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**ï¼š  
   "é¢˜ç›®è¦æ±‚æˆ‘ä»¬å°†æ— å‘è¾¹å®šå‘ï¼Œä½¿å¾—æ•´å¼ å›¾**æ— ç¯**ã€‚"  
   â†’ å…³é”®è¯â€œæ— ç¯â€ç›´æ¥æŒ‡å‘**æ‹“æ‰‘æ’åº**ã€‚

2. **çº¿ç´¢2 (é—®é¢˜çº¦æŸ)**ï¼š  
   "å›¾ä¸­å·²ç»å­˜åœ¨ä¸€äº›**æœ‰å‘è¾¹**ï¼Œä¸”å·²çŸ¥æ— ç¯ã€‚"  
   â†’ æœ‰å‘è¾¹å·²ç»ç»™å‡ºäº†**éƒ¨åˆ†æ‹“æ‰‘åºä¿¡æ¯**ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ã€‚

3. **çº¿ç´¢3 (æ•°æ®è§„æ¨¡)**ï¼š  
   "N â‰¤ 100,000ï¼ŒM â‰¤ 100,000ã€‚"  
   â†’ çº¿æ€§æ—¶é—´å¤æ‚åº¦ `O(N + M)` çš„ç®—æ³•æ˜¯å¯æ¥å—çš„ï¼Œ**æ‹“æ‰‘æ’åº**å®Œç¾ç¬¦åˆã€‚

---

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥

> å¥½äº†ï¼Œä¾¦æ¢å·¥ä½œå®Œæˆï¼Œæˆ‘ä»¬æ”¶é›†åˆ°äº†å‡ æ¡å…³é”®çº¿ç´¢ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬åƒæ‹¼å›¾ä¸€æ ·æŠŠå®ƒä»¬ç»„åˆèµ·æ¥ï¼š  
> 1. é¦–å…ˆï¼Œã€çº¿ç´¢1ï¼šæ— ç¯è¦æ±‚ã€‘å‘Šè¯‰æˆ‘ä»¬è¿™æ˜¯ä¸€ä¸ª**æ‹“æ‰‘æ’åº**é—®é¢˜ã€‚  
> 2. æ¥ç€ï¼Œã€çº¿ç´¢2ï¼šæœ‰å‘è¾¹æ— ç¯ã€‘è¯´æ˜æˆ‘ä»¬å¯ä»¥**å…ˆå¯¹æœ‰å‘è¾¹åšæ‹“æ‰‘æ’åº**ï¼Œå¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æ‹“æ‰‘åºã€‚  
> 3. æœ€åï¼Œã€çº¿ç´¢3ï¼šæ•°æ®è§„æ¨¡ã€‘å‘Šè¯‰æˆ‘ä»¬ï¼Œ**çº¿æ€§æ—¶é—´**çš„ç®—æ³•æ˜¯å¯è¡Œçš„ã€‚  
> **ç»“è®º**ï¼š  
> ç»¼åˆä»¥ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨**æ‹“æ‰‘æ’åº**çš„æ€§è´¨ï¼Œç»™æ— å‘è¾¹å®šå‘ã€‚å…·ä½“æ­¥éª¤æ˜¯ï¼š  
> 1. å¿½ç•¥æ— å‘è¾¹ï¼Œå¯¹æœ‰å‘è¾¹åšæ‹“æ‰‘æ’åºï¼Œå¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æ‹“æ‰‘åºã€‚  
> 2. å¯¹äºæ¯æ¡æ— å‘è¾¹ `(u, v)`ï¼Œæ ¹æ®æ‹“æ‰‘åºå†³å®šæ–¹å‘ã€‚  
> è¿™å°±æ˜¯æˆ‘ä»¬çš„**æœ€ä¼˜ç­–ç•¥**ï¼

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

æˆ‘ä¸ºå¤§å®¶ç­›é€‰äº†ä»¥ä¸‹**è¯„åˆ†â‰¥4æ˜Ÿ**çš„ä¼˜è´¨é¢˜è§£ï¼Œå®ƒä»¬éƒ½é‡‡ç”¨äº†**æ‹“æ‰‘æ’åº**çš„æ ¸å¿ƒæ€æƒ³ï¼Œä½†åœ¨å®ç°ç»†èŠ‚ä¸Šå„æœ‰äº®ç‚¹ï¼š

---

### âœ… **é¢˜è§£ä¸€ï¼šHehe_0ï¼ˆèµï¼š15ï¼‰â€”â€” BFSæ‹“æ‰‘æ’åºçš„å…¸èŒƒ**
- **äº®ç‚¹**ï¼š  
  - ä½¿ç”¨**BFS**å®ç°æ‹“æ‰‘æ’åºï¼Œä»£ç ç®€æ´æ˜“æ‡‚ã€‚  
  - ä½¿ç”¨ `vector<int> a[100010]` å­˜å›¾ï¼Œ**STLé£æ ¼**æ¸…æ™°ã€‚  
  - å¯¹äºæ— å‘è¾¹ï¼Œç›´æ¥æ ¹æ®æ‹“æ‰‘åº `t[u]` å’Œ `t[v]` çš„å¤§å°å†³å®šæ–¹å‘ï¼Œé€»è¾‘ç›´è§‚ã€‚

- **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
  ```cpp
  while(!q.empty()) {
      int x = q.front(); q.pop();
      t[x] = cnt++; // è®°å½•æ‹“æ‰‘åº
      for(int v : a[x]) {
          if(--in[v] == 0) q.push(v);
      }
  }
  for(int i=0;i<p2;i++) {
      if(t[p] < t[w]) cout << p << " " << w << endl;
      else cout << w << " " << p << endl;
  }
  ```
- **å­¦ä¹ ç¬”è®°**ï¼š  
  > **BFSæ‹“æ‰‘æ’åº**æ˜¯å¤„ç†DAGçš„ç»å…¸æ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ `O(N + M)`ï¼Œé€‚ç”¨äºå¤§å¤šæ•°æ— ç¯å›¾é—®é¢˜ã€‚

---

### âœ… **é¢˜è§£äºŒï¼šå°å¹´è½»wï¼ˆèµï¼š22ï¼‰â€”â€” æ— å‘è¾¹æ ‡è®°æ³•**
- **äº®ç‚¹**ï¼š  
  - ä½¿ç”¨**é“¾å¼å‰å‘æ˜Ÿ**å­˜å›¾ï¼Œ**é«˜æ•ˆä¸”èŠ‚çœç©ºé—´**ã€‚  
  - åœ¨æ‹“æ‰‘æ’åºè¿‡ç¨‹ä¸­ï¼Œ**åŠ¨æ€æ ‡è®°æ— å‘è¾¹æ–¹å‘**ï¼Œè¾¹éå†è¾¹å®šå‘ï¼Œæ— éœ€é¢å¤–å­˜å‚¨æ‹“æ‰‘åºã€‚

- **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
  ```cpp
  for(int i=head[u];i;i=e[i].pre)
      if(e[i].val==1) e[i^1].val=2; // æ ‡è®°æ— å‘è¾¹æ–¹å‘
  ```
- **å­¦ä¹ ç¬”è®°**ï¼š  
  > é“¾å¼å‰å‘æ˜Ÿæ˜¯ç«èµ›ä¸­å¸¸ç”¨çš„å­˜å›¾æ–¹å¼ï¼Œé€‚åˆå¤„ç†å¤§è§„æ¨¡å›¾ã€‚

---

### âœ… **é¢˜è§£ä¸‰ï¼šChristopher_Yanï¼ˆèµï¼š1ï¼‰â€”â€” DFSæ‹“æ‰‘æ’åº**
- **äº®ç‚¹**ï¼š  
  - ä½¿ç”¨**DFS**å®ç°æ‹“æ‰‘æ’åºï¼Œä»£ç ç»“æ„æ¸…æ™°ã€‚  
  - ä½¿ç”¨**è®°å¿†åŒ–**é¿å…é‡å¤è®¡ç®—ï¼Œé€‚åˆå¤„ç†æ›´å¤æ‚çš„å›¾ã€‚

- **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
  ```cpp
  void dfs(int u) {
      vis[u] = 1;
      for(int v : a[u]) if(!vis[v]) dfs(v);
      topo.push_back(u); // é€†åºå­˜å‚¨
  }
  ```
- **å­¦ä¹ ç¬”è®°**ï¼š  
  > DFSæ‹“æ‰‘æ’åºé€‚åˆé€’å½’æ€ç»´ï¼Œä½†éœ€æ³¨æ„æ ˆæº¢å‡ºé£é™©ï¼ˆN â‰¤ 1e5 æ—¶éœ€è°¨æ…ï¼‰ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆæœ€ä¼˜è§£æ³•å‰–æï¼‰

1. **å…³é”®ç‚¹1ï¼šå¦‚ä½•é«˜æ•ˆå®ç°æ‹“æ‰‘æ’åºï¼Ÿ**
   - **åˆ†æ**ï¼š  
     æ‹“æ‰‘æ’åºå¯ä»¥ç”¨**BFS**æˆ–**DFS**å®ç°ã€‚BFSæ›´ç›´è§‚ï¼ŒDFSæ›´é€’å½’ã€‚  
     - **BFS**ï¼šç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯æ¬¡å–å‡ºå…¥åº¦ä¸º0çš„èŠ‚ç‚¹ï¼Œæ›´æ–°é‚»å±…å…¥åº¦ã€‚  
     - **DFS**ï¼šé€’å½’éå†ï¼Œè®°å½•è®¿é—®é¡ºåºï¼Œæœ€åé€†åºå³ä¸ºæ‹“æ‰‘åºã€‚
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
     > **BFSæ‹“æ‰‘æ’åº**æ˜¯ç«èµ›é¦–é€‰ï¼Œæ—¶é—´å¤æ‚åº¦ `O(N + M)`ï¼Œç©ºé—´ `O(N)`ã€‚

2. **å…³é”®ç‚¹2ï¼šå¦‚ä½•å¤„ç†æ— å‘è¾¹æ–¹å‘ï¼Ÿ**
   - **åˆ†æ**ï¼š  
     æ ¹æ®æ‹“æ‰‘åºå†³å®šæ–¹å‘ï¼š  
     - è‹¥ `u` çš„æ‹“æ‰‘åºå°äº `v`ï¼Œåˆ™å®šå‘ä¸º `u â†’ v`ï¼›  
     - å¦åˆ™ï¼Œå®šå‘ä¸º `v â†’ u`ã€‚
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
     > æ‹“æ‰‘åºå¤©ç„¶å…·æœ‰â€œæ— ç¯â€æ€§è´¨ï¼Œåˆ©ç”¨å®ƒå®šå‘æ˜¯æœ€ä¼˜é›…çš„æ–¹æ³•ã€‚

3. **å…³é”®ç‚¹3ï¼šå¦‚ä½•éªŒè¯ç­”æ¡ˆåˆæ³•æ€§ï¼Ÿ**
   - **åˆ†æ**ï¼š  
     é¢˜ç›®ä¿è¯æœ‰è§£ï¼Œæ— éœ€éªŒè¯ã€‚è‹¥é¢˜ç›®è¦æ±‚åˆ¤æ–­æ— è§£ï¼Œåªéœ€æ£€æŸ¥æ‹“æ‰‘æ’åºåæ˜¯å¦æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«è®¿é—®è¿‡ã€‚
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
     > è‹¥æ‹“æ‰‘æ’åºåä»æœ‰èŠ‚ç‚¹æœªè¢«è®¿é—®ï¼Œè¯´æ˜åŸå›¾æœ‰ç¯ï¼Œæ— è§£ã€‚

---

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•çš„å¯¹æ¯”åˆ†æ

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ä¸åˆ†æ | é€‚ç”¨åœºæ™¯ |
| :--- | :--- | :--- | :--- | :--- |
| **æš´åŠ›æšä¸¾** | å°è¯•æ‰€æœ‰æ— å‘è¾¹æ–¹å‘ç»„åˆï¼Œæ£€æŸ¥æ˜¯å¦æ— ç¯ã€‚ | æ€è·¯ç›´è§‚ï¼Œæ˜“ç†è§£ã€‚ | **æ—¶é—´å¤æ‚åº¦**ï¼š`O(2^M)`ï¼Œå®Œå…¨ä¸å¯è¡Œã€‚ | æ•°æ®è§„æ¨¡ `M â‰¤ 20`ã€‚ |
| **æ‹“æ‰‘æ’åº** | å…ˆå¯¹æœ‰å‘è¾¹åšæ‹“æ‰‘æ’åºï¼Œå†å®šå‘æ— å‘è¾¹ã€‚ | **æ—¶é—´å¤æ‚åº¦**ï¼š`O(N + M)`ï¼Œæœ€ä¼˜è§£æ³•ã€‚ | éœ€ç†è§£æ‹“æ‰‘æ’åºæ€§è´¨ã€‚ | æœ¬é¢˜æœ€ä¼˜ç­–ç•¥ã€‚ |

---

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€

> ä»æš´åŠ›æšä¸¾åˆ°æ‹“æ‰‘æ’åºï¼Œæˆ‘ä»¬ç»å†äº†ä»**æŒ‡æ•°çº§**åˆ°**çº¿æ€§çº§**çš„è·¨è¶Šã€‚  
> æ‹“æ‰‘æ’åºçš„ä¼˜é›…ä¹‹å¤„åœ¨äºï¼šå®ƒåˆ©ç”¨**æœ‰å‘æ— ç¯å›¾çš„æ€§è´¨**ï¼Œå°†æ— å‘è¾¹å®šå‘é—®é¢˜è½¬åŒ–ä¸º**æ’åºé—®é¢˜**ï¼Œå®ç°äº†**çº¿æ€§æ—¶é—´**çš„å®Œç¾è§£å†³ã€‚

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### **æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒï¼ˆBFSæ‹“æ‰‘æ’åºï¼‰**

```cpp
#include <iostream>
#include <vector>
#include <queue>
using namespace std;

const int MAXN = 1e5 + 10;

int n, m1, m2;
vector<int> adj[MAXN];
int in[MAXN], topo[MAXN];

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    cin >> n >> m1 >> m2;
    for (int i = 0; i < m1; ++i) {
        int u, v; cin >> u >> v;
        adj[u].push_back(v);
        ++in[v];
    }

    queue<int> q;
    for (int i = 1; i <= n; ++i)
        if (in[i] == 0) q.push(i);

    int cnt = 0;
    while (!q.empty()) {
        int u = q.front(); q.pop();
        topo[u] = ++cnt;
        for (int v : adj[u])
            if (--in[v] == 0) q.push(v);
    }

    for (int i = 0; i < m2; ++i) {
        int u, v; cin >> u >> v;
        if (topo[u] < topo[v]) cout << u << ' ' << v << '\n';
        else cout << v << ' ' << u << '\n';
    }

    return 0;
}
```

- **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **è¾“å…¥å¤„ç†**ï¼šè¯»å–æœ‰å‘è¾¹ï¼Œæ„å»ºé‚»æ¥è¡¨ï¼Œç»Ÿè®¡å…¥åº¦ã€‚  
  2. **BFSæ‹“æ‰‘æ’åº**ï¼šç»´æŠ¤é˜Ÿåˆ—ï¼Œæ¯æ¬¡å–å‡ºå…¥åº¦ä¸º0çš„èŠ‚ç‚¹ï¼Œæ›´æ–°é‚»å±…å…¥åº¦ã€‚  
  3. **æ— å‘è¾¹å®šå‘**ï¼šæ ¹æ®æ‹“æ‰‘åºå†³å®šæ–¹å‘ï¼Œç¡®ä¿æ— ç¯ã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### **åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜**ï¼š  
> â€œ**åƒç´ æ¢é™©å®¶**åœ¨DAGè¿·å®«ä¸­ä¸ºæ— å‘è¾¹**å®šå‘**â€

### **æ ¸å¿ƒæ¼”ç¤ºå†…å®¹**ï¼š
- **é˜¶æ®µ1ï¼šæ‹“æ‰‘æ’åº**  
  åƒç´ å°äººä»å…¥åº¦ä¸º0çš„èŠ‚ç‚¹å‡ºå‘ï¼Œé€å±‚â€œç‚¹äº®â€èŠ‚ç‚¹ï¼Œè®°å½•æ‹“æ‰‘åºã€‚
- **é˜¶æ®µ2ï¼šæ— å‘è¾¹å®šå‘**  
  åƒç´ å°äººæ ¹æ®æ‹“æ‰‘åºï¼Œä¸ºæ¯æ¡æ— å‘è¾¹â€œç”»ç®­å¤´â€ï¼Œç¡®ä¿æ–¹å‘æ­£ç¡®ã€‚
- **é˜¶æ®µ3ï¼šéªŒè¯æ— ç¯**  
  åƒç´ å°äººæ²¿ç€æœ‰å‘è¾¹â€œæ—…è¡Œâ€ï¼Œç¡®è®¤æ— ç¯ã€‚

### **è®¾è®¡æ€è·¯ç®€è¿°**ï¼š
- **8ä½åƒç´ é£**ï¼šä»¿ç…§FCçº¢ç™½æœºé£æ ¼ï¼Œä½¿ç”¨8è‰²è°ƒè‰²æ¿ã€‚
- **éŸ³æ•ˆæç¤º**ï¼š  
  - èŠ‚ç‚¹ç‚¹äº®æ—¶æ’­æ”¾â€œå®â€å£°ã€‚  
  - æ— å‘è¾¹å®šå‘æ—¶æ’­æ”¾â€œå’”å“’â€å£°ã€‚  
  - éªŒè¯æ— ç¯æ—¶æ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆã€‚
- **äº¤äº’æ§åˆ¶**ï¼š  
  - â€œå•æ­¥æ‰§è¡Œâ€æŒ‰é’®ï¼Œè§‚å¯Ÿæ¯ä¸€æ­¥ç»†èŠ‚ã€‚  
  - â€œè‡ªåŠ¨æ¼”ç¤ºâ€æŒ‰é’®ï¼Œåƒç´ å°äººè‡ªåŠ¨å®Œæˆå®šå‘ã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### **é€šç”¨æ€è·¯è¿ç§»**ï¼š
æ‹“æ‰‘æ’åºçš„â€œæ— ç¯å®šå‘â€æ€æƒ³ï¼Œé€‚ç”¨äºï¼š
1. **è¯¾ç¨‹å®‰æ’**ï¼šæœ‰å…ˆä¿®è¯¾ç¨‹é™åˆ¶ï¼Œå¦‚ä½•å®‰æ’è¯¾ç¨‹é¡ºåºï¼Ÿ
2. **ä»»åŠ¡è°ƒåº¦**ï¼šä»»åŠ¡é—´æœ‰ä¾èµ–ï¼Œå¦‚ä½•å®‰æ’æ‰§è¡Œé¡ºåºï¼Ÿ
3. **ç¼–è¯‘ä¼˜åŒ–**ï¼šå¦‚ä½•ä¼˜åŒ–ç¼–è¯‘é¡ºåºï¼Œé¿å…å¾ªç¯ä¾èµ–ï¼Ÿ

### **ç»ƒä¹ æ¨èï¼ˆæ´›è°·ï¼‰**ï¼š
1. **P1113 æ‚åŠ¡**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»å…¸æ‹“æ‰‘æ’åºè£¸é¢˜ï¼Œå·©å›ºæ¨¡æ¿ã€‚
2. **P1983 è½¦ç«™åˆ†çº§**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šéœ€è¦æŠ½è±¡ä¸ºæ‹“æ‰‘æ’åºï¼Œè€ƒå¯Ÿå»ºæ¨¡èƒ½åŠ›ã€‚
3. **P4017 æœ€å¤§é£Ÿç‰©é“¾è®¡æ•°**  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæ‹“æ‰‘æ’åº+åŠ¨æ€è§„åˆ’ï¼Œéš¾åº¦è¿›é˜¶ã€‚

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«ï¼ˆè‹¥æœ‰ï¼‰

> **å‚è€ƒç»éªŒï¼ˆæ¥è‡ª Hehe_0ï¼‰**ï¼š  
> â€œæˆ‘åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæœ€åˆåœ¨**å¦‚ä½•å®šå‘æ— å‘è¾¹**æ—¶å¡äº†å¾ˆä¹…ï¼Œåæ¥é€šè¿‡**æ‹“æ‰‘æ’åºçš„æ€§è´¨**æ‰æ‰¾åˆ°æ–¹å‘ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œ**ç†è§£ç®—æ³•æœ¬è´¨**æ˜¯è§£å†³é—®é¢˜çš„å…³é”®ã€‚â€

> **ç‚¹è¯„**ï¼š  
> è¿™ä½ä½œè€…çš„ç»éªŒæé†’æˆ‘ä»¬ï¼Œ**ç†è§£æ‹“æ‰‘æ’åºçš„â€œæ— ç¯â€æ€§è´¨**ï¼Œæ˜¯è§£å†³æ­¤ç±»é—®é¢˜çš„æ ¸å¿ƒã€‚åŠ¨æ‰‹æ¨¡æ‹Ÿæ‹“æ‰‘è¿‡ç¨‹ï¼Œèƒ½æœ‰æ•ˆåŠ æ·±ç†è§£ã€‚

---

<conclusion>
æœ¬æ¬¡å…³äºâ€œUSACO09DEC Dizzy Cows Gâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚æ‹“æ‰‘æ’åºçš„ä¼˜é›…ä¹‹å¤„åœ¨äºï¼Œå®ƒå°†çœ‹ä¼¼å¤æ‚çš„â€œæ— ç¯å®šå‘â€é—®é¢˜ï¼Œè½¬åŒ–ä¸º**æ’åºé—®é¢˜**ï¼Œå®ç°äº†**çº¿æ€§æ—¶é—´**çš„å®Œç¾è§£å†³ã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£ç›¸å…³ç®—æ³•å’Œç¼–ç¨‹æŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**æŒç»­å­¦ä¹ ã€å‹¤äºæ€è€ƒå’Œå‹‡äºå®è·µ**ã€‚ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª
</conclusion>

---

---
å¤„ç†ç”¨æ—¶ï¼š83.96ç§’
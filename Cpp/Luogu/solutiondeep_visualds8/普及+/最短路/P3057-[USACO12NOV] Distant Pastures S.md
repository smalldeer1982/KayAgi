# é¢˜ç›®ä¿¡æ¯

# [USACO12NOV] Distant Pastures S

## é¢˜ç›®æè¿°

Farmer John's farm is made up of an N x N grid of pastures, where each pasture contains one of two different types of grass.  To specify these two types of grass, we use the characters ( and ), so for example FJ's farm might look like the following grid:

(()) 
)()( 
)((( 
))))
When Bessie the cow travels around the farm, it takes her A units of time to move from a pasture to an adjacent pasture (one step north, south, east, or west) with the same grass type, or B units of time to move to an adjacent pasture with a different grass type.  Whenever Bessie travels from one pasture to a distant pasture, she always uses a sequence of steps that takes the minimum amount of time.  Please compute the greatest amount of time Bessie will ever need to take while traveling between some pair of pastures on the farm.

ç»™å‡ºä¸€ä¸ªn\*nçš„æ‹¬å·çŸ©é˜µï¼Œä»ä¸€ä¸ªç‚¹èµ°åˆ°ç›¸é‚»çš„åŒå­—ç¬¦ç‚¹éœ€ä»˜å‡ºAçš„ä»£ä»·ï¼Œåˆ°ä¸åŒå­—ç¬¦ç‚¹éœ€ä»˜å‡ºBçš„ä»£ä»·ã€‚æ±‚æ‰€æœ‰ç‚¹å¯¹ä¹‹é—´æœ€çŸ­è·¯çš„æœ€å¤§å€¼ã€‚


## è¯´æ˜/æç¤º

It takes Bessie 5 units of time to travel between the upper-left corner and the lower-right corner of the grid.  No other pair of pastures causes her to travel for more time than this.


## æ ·ä¾‹ #1

### è¾“å…¥

```
3 1 2 
((( 
()( 
(() 
```

### è¾“å‡º

```
5 
```

# AIåˆ†æç»“æœ

---
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šUSACO12NOV Distant Pastures æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

<introduction>
ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·åˆ†æâ€œUSACO12NOV Distant Pasturesâ€è¿™é“C++å›¾è®ºé¢˜ã€‚é¢˜ç›®çœ‹ä¼¼åªæ˜¯ä¸€å—å°å°çš„æ‹¬å·ç‰§åœºï¼Œå´æš—è—â€œå…¨æºæœ€é•¿æœ€çŸ­è·¯â€çš„ç„æœºã€‚æˆ‘ä»¬ä¼šåƒä¾¦æ¢ä¸€æ ·ï¼Œä»æ•°æ®èŒƒå›´ã€ç§»åŠ¨è§„åˆ™é‡ŒæŠ½ä¸å‰¥èŒ§ï¼Œæ‰¾åˆ°æœ€åˆé€‚çš„ç®—æ³•æ­¦å™¨â€”â€”å¤šæ¬¡ Dijkstraï¼Œå¹¶ç”¨åƒç´ åŠ¨ç”»ç›´è§‚å‘ˆç°å®ƒçš„æ¯ä¸€æ­¥ï¼
</introduction>

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼š  
åœ¨ä¸€å¼  **nÃ—n** çš„æ‹¬å·ç½‘æ ¼ä¸Šï¼Œç›¸é‚»åŒå­—ç¬¦ç§»åŠ¨ä»£ä»·ä¸º Aï¼Œå¼‚å­—ç¬¦ä»£ä»·ä¸º Bã€‚éœ€è¦æ±‚ **æ‰€æœ‰ç‚¹å¯¹ä¹‹é—´æœ€çŸ­è·¯å¾„çš„æœ€å¤§å€¼**ï¼ˆå³å›¾çš„â€œç›´å¾„â€ï¼‰ã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼š  
å›¾è®ºã€å•æºæœ€çŸ­è·¯å¾„(Dijkstra)ã€å…¨æºæœ€çŸ­è·¯å¾„ã€ç½‘æ ¼å»ºå›¾

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
- æœ´ç´ æƒ³æ³•ï¼šFloyd-Warshallï¼Œå¤æ‚åº¦ O(nâ¶) â†’ nâ‰¤30 æ—¶ 30â¶ â‰ˆ 7Ã—10â¸ï¼Œå·²ç‚¸ã€‚  
- è¿›é˜¶æ€è·¯ï¼šæŠŠæ¯ä¸ªç½‘æ ¼ç‚¹çœ‹ä½œä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›¸é‚» 4 æ–¹å‘å»ºè¾¹ï¼Œè¾¹æƒ A/Bã€‚èŠ‚ç‚¹æ•° â‰¤ 900ï¼Œè¾¹æ•° â‰¤ 3600ã€‚  
- æœ€ä¼˜ç­–ç•¥ï¼šè·‘ **nÂ² æ¬¡å †ä¼˜åŒ– Dijkstra**ï¼Œæ€»å¤æ‚åº¦ O(nÂ² Â· (E log V)) â‰ˆ 900 Ã— (3600 log 900) â‰ˆ 9Ã—10â¶ï¼Œå¯è½»æ¾é€šè¿‡ã€‚

> **æ¯”å–»**ï¼šå°±åƒç»™ç‰§åœºé‡Œæ¯å¤´å¥¶ç‰›ï¼ˆèŠ‚ç‚¹ï¼‰å‘ä¸€å¼ â€œæœ€çŸ­æ—¶é—´åœ°å›¾â€ï¼Œæœ€åæ¯”ä¸€æ¯”è°çš„è·¯ç¨‹æœ€è¿œâ€”â€”è¿™å°±æ˜¯å›¾çš„ç›´å¾„ï¼

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
1. **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**ï¼šæ±‚â€œæ‰€æœ‰ç‚¹å¯¹æœ€çŸ­è·¯å¾„çš„æœ€å¤§å€¼â€ â†’ **å›¾çš„ç›´å¾„**ï¼Œå¤©ç„¶æš—ç¤ºéœ€è¦â€œå…¨æºæœ€çŸ­è·¯â€ã€‚
2. **çº¿ç´¢2 (æ•°æ®è§„æ¨¡)**ï¼šnâ‰¤30 â†’ èŠ‚ç‚¹ 900ï¼Œè¾¹ 3600ï¼Œ**O(nâ´ log n)** ä»¥å†…ç®—æ³•çš†å¯æ¥å—ã€‚
3. **çº¿ç´¢3 (ç§»åŠ¨è§„åˆ™)**ï¼š4 æ–¹å‘ç§»åŠ¨ã€è¾¹æƒä»…ä¸¤ç§ â†’ **ç¨€ç–ç½‘æ ¼å›¾**ï¼ŒDijkstra æ˜¯é¦–é€‰ã€‚

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> â€œä¾¦æ¢æ‹¼å›¾â€å¼€å§‹ï¼š
> 1. çœ‹åˆ°â€œæ‰€æœ‰ç‚¹å¯¹æœ€å€¼â€â†’ è„‘æµ·é‡Œé—ªè¿‡ Floydã€Dijkstraã€BFSã€‚  
> 2. å†çœ‹ nâ‰¤30 â†’ Floyd O(nâ¶) ä¼šç‚¸ï¼Œæ’é™¤ï¼›BFS ä»… 1 æƒå€¼ï¼Œæ’é™¤ã€‚  
> 3. äºæ˜¯é”å®š **å¤šæ¬¡ Dijkstra**ï¼šæŠŠæ¯ä¸ªç‚¹å½“èµ·ç‚¹è·‘ä¸€éï¼Œè®°å½•æœ€è¿œè·ç¦»ã€‚  
> 4. å»ºå›¾å°æŠ€å·§ï¼šäºŒç»´åæ ‡ (i,j) çº¿æ€§åŒ–æˆä¸€ç»´ id = (i-1)*n + jï¼Œä»£ç ç¬é—´æ¸…çˆ½ï¼

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

> ä»¥ä¸‹é¢˜è§£å‡é€šè¿‡â€œæ€è·¯æ¸…æ™°åº¦ã€ä»£ç è§„èŒƒæ€§ã€ç®—æ³•æœ‰æ•ˆæ€§â€å››ç»´è¯„åˆ†ï¼Œâ‰¥4 æ˜Ÿè€…å…¥é€‰ï¼Œè¯„è¯­å·²èå…¥æ–‡å­—ã€‚

### é¢˜è§£ä¸€ï¼šé£æ ¼é›¨å…³ (èµï¼š4)
- **äº®ç‚¹**ï¼š  
  ç›´æ¥ç»™å‡ºâ€œå»ºå›¾ + å¤šæ¬¡ Dijkstraâ€çš„å®Œæ•´æ€è·¯ï¼Œä»£ç ç®€æ´ï¼›è™½åˆç‰ˆ TLEï¼Œä½†è¡¥å……äº† **ios::sync_with_stdio(false)** ä¸ **O2/O3** ä¼˜åŒ–æŠ€å·§ï¼Œå®æˆ˜ä»·å€¼é«˜ã€‚  
- **å­¦ä¹ æç¤º**ï¼š  
  æŠŠç½‘æ ¼ç‚¹å°è£…æˆ `node(i,j,dist)`ï¼Œå¹¶é‡è½½ `<` è¿ç®—ç¬¦ï¼Œä¼˜é›…å®ç°å°æ ¹å †ã€‚

### é¢˜è§£äºŒï¼šliangbowen (èµï¼š3)
- **äº®ç‚¹**ï¼š  
  ç”¨é“¾å¼å‰å‘æ˜Ÿå­˜å›¾ï¼Œæ¨¡æ¿åŒ– Dijkstraï¼›æŒ‡å‡º **è¾¹æ•°ä¸Šé™ 7200**ï¼Œä½“ç°ä¸¥è°¨çš„å¤æ‚åº¦é¢„ä¼°ã€‚  
- **å­¦ä¹ æç¤º**ï¼š  
  `get_edge()` å‡½æ•°å°†äºŒç»´åæ ‡çº¿æ€§åŒ–ï¼Œé¿å…é‡å¤å†™ (i-1)*n+jï¼Œæé«˜å¯è¯»æ€§ã€‚

### é¢˜è§£ä¸‰ï¼šè‹è”å°æ¸£ (èµï¼š1)
- **äº®ç‚¹**ï¼š  
  ä»£ç è§„èŒƒã€æ³¨é‡Šæ¸…æ™°ï¼Œå°†â€œç½‘æ ¼è½¬å›¾â€è¿‡ç¨‹æ‹†è§£ä¸º `id()` å‡½æ•°ï¼Œä¾¿äºæ–°æ‰‹ç†è§£ã€‚  
- **å­¦ä¹ æç¤º**ï¼š  
  ä¸»å¾ªç¯é‡Œ `dij(id(i,j))` å†éå†æ‰€æœ‰ç‚¹å– maxï¼Œæ€è·¯ä¸ liangbowen ä¸€è‡´ï¼Œä½“ç°â€œå¤šæ¬¡ Dijkstraâ€çš„ç»Ÿä¸€èŒƒå¼ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆæœ€ä¼˜è§£æ³•ï¼šå¤šæ¬¡ Dijkstraï¼‰
1. **å…³é”®ç‚¹1ï¼šç½‘æ ¼åˆ°å›¾çš„çº¿æ€§åŒ–**  
   - **åˆ†æ**ï¼šå°†äºŒç»´åæ ‡ (i,j) æ˜ å°„åˆ°ä¸€ç»´ id=(i-1)*n+jï¼ŒèŠ‚ç‚¹ 1~nÂ²ï¼Œè¾¹ 4Ã—nÂ²ã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçº¿æ€§åŒ–æ˜¯å¤„ç†ç½‘æ ¼å›¾çš„ä¸‡èƒ½æŠ€å·§ï¼Œé™ä½ç»´åº¦å¤æ‚åº¦ã€‚

2. **å…³é”®ç‚¹2ï¼šå»ºå›¾è§„åˆ™**  
   - **åˆ†æ**ï¼šéå†æ¯ç‚¹ï¼Œå‘ä¸Šä¸‹å·¦å³å»ºæ— å‘è¾¹ï¼›å­—ç¬¦ç›¸åŒæƒ Aï¼Œä¸åŒæƒ Bã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç½‘æ ¼å»ºå›¾å››æ–¹å‘å¾ªç¯æ¨¡æ¿ï¼š`dx[4]={-1,1,0,0}`ï¼Œ`dy[4]={0,0,-1,1}`ã€‚

3. **å…³é”®ç‚¹3ï¼šå¤šæ¬¡ Dijkstra æ±‚ç›´å¾„**  
   - **åˆ†æ**ï¼šå¯¹æ¯ä¸ªèµ·ç‚¹è·‘ä¸€æ¬¡å †ä¼˜åŒ– Dijkstraï¼Œè®°å½•è¯¥ç‚¹åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯ï¼Œå†å–å…¨å±€ maxã€‚  
   - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå›¾çš„ç›´å¾„ = max( æ‰€æœ‰ç‚¹å¯¹æœ€çŸ­è·¯å¾„ )ï¼Œç¨€ç–å›¾ç”¨ n æ¬¡ Dijkstra ä¼˜äº Floydã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§Aï¼šåæ ‡ç¦»æ•£åŒ–**  
  äºŒç»´ â†’ ä¸€ç»´ï¼Œå‡å°‘æ•°ç»„ç»´åº¦ï¼Œé¿å…è¶Šç•Œã€‚
- **æŠ€å·§Bï¼šç»“æ„ä½“å°è£…èŠ‚ç‚¹**  
  `struct node{int id, dist; bool operator<(...)...}`ï¼Œé…åˆ priority_queueï¼Œä»£ç æ›´ä¼˜é›…ã€‚
- **æŠ€å·§Cï¼šå‰ªæä¸ä¼˜åŒ–**  
  ios::sync_with_stdio(false)ã€O2/O3ã€å¿«è¯»ï¼Œéƒ½æ˜¯ç«èµ›æåˆ†çš„â€œå°å¤–æŒ‚â€ã€‚

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•å¯¹æ¯”

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ä¸åˆ†æ | é€‚ç”¨åœºæ™¯ / å¾—åˆ†é¢„æœŸ |
| :--- | :--- | :--- | :--- |:--- |
| **Floyd-Warshall** | ä¸‰é‡å¾ªç¯æ¾å¼›æ‰€æœ‰è¾¹ | ä»£ç æœ€çŸ­ 3 è¡Œ | O(nâ¶) ä¼š TLE | nâ‰¤10 çš„å°æ•°æ®ï¼Œç»ƒæ‰‹ |
| **å¤šæ¬¡ BFS** | ä»…å½“ A=B=1 æ—¶å¯ç”¨ | O(nâ´) å¯è¿‡ | æ— æ³•å¤„ç†ä¸åŒæƒå€¼ | æƒå€¼ç»Ÿä¸€çš„è¿·å®«é¢˜ |
| **å¤šæ¬¡ Dijkstraï¼ˆæœ€ä¼˜ï¼‰** | æ¯ä¸ªç‚¹è·‘ä¸€æ¬¡å †ä¼˜åŒ– Dijkstra | O(nÂ² log n) å¯è¿‡ | ä»£ç é‡ç¨å¤§ | nâ‰¤30 çš„ç¨€ç–å›¾ï¼Œæœ¬é¢˜ AC |

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
- **è¯´æ˜**ï¼šç»¼åˆå„ä¼˜è´¨é¢˜è§£ï¼Œæç‚¼å‡ºâ€œç½‘æ ¼å»ºå›¾ + å¤šæ¬¡ Dijkstraâ€çš„æ ‡å‡†æ¨¡æ¿ã€‚
- **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <bits/stdc++.h>
using namespace std;
const int MAXN = 35;
const int MAXV = MAXN * MAXN;
const int MAXE = MAXV * 4;
int n, A, B;
char g[MAXN][MAXN];
int head[MAXV], to[MAXE], nxt[MAXE], w[MAXE], tot = 0;
inline void addEdge(int u, int v, int c) {
    to[++tot] = v; w[tot] = c; nxt[tot] = head[u]; head[u] = tot;
}
inline int id(int i, int j) { return (i - 1) * n + j; }   // åæ ‡çº¿æ€§åŒ–
int dis[MAXV];
bool vis[MAXV];
struct Node {
    int u, d;
    bool operator<(const Node& rhs) const { return d > rhs.d; }
};
int dijkstra(int s) {
    priority_queue<Node> q;
    fill(dis, dis + n * n + 1, 0x3f3f3f3f);
    fill(vis, vis + n * n + 1, false);
    dis[s] = 0;
    q.push({s, 0});
    while (!q.empty()) {
        int u = q.top().u; q.pop();
        if (vis[u]) continue;
        vis[u] = true;
        for (int i = head[u]; i; i = nxt[i]) {
            int v = to[i];
            if (dis[v] > dis[u] + w[i]) {
                dis[v] = dis[u] + w[i];
                q.push({v, dis[v]});
            }
        }
    }
    int mx = 0;
    for (int i = 1; i <= n * n; ++i) mx = max(mx, dis[i]);
    return mx;
}
int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cin >> n >> A >> B;
    for (int i = 1; i <= n; ++i)
        for (int j = 1; j <= n; ++j) cin >> g[i][j];
    // å»ºå›¾
    for (int i = 1; i <= n; ++i)
        for (int j = 1; j <= n; ++j) {
            int u = id(i, j);
            if (i > 1)  addEdge(u, id(i - 1, j), g[i][j] == g[i - 1][j] ? A : B);
            if (i < n)  addEdge(u, id(i + 1, j), g[i][j] == g[i + 1][j] ? A : B);
            if (j > 1)  addEdge(u, id(i, j - 1), g[i][j] == g[i][j - 1] ? A : B);
            if (j < n)  addEdge(u, id(i, j + 1), g[i][j] == g[i][j + 1] ? A : B);
        }
    int ans = 0;
    for (int s = 1; s <= n * n; ++s) ans = max(ans, dijkstra(s));
    cout << ans << '\n';
    return 0;
}
```
- **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. åæ ‡çº¿æ€§åŒ– `id(i,j)` å°†äºŒç»´æ˜ å°„ä¸ºä¸€ç»´ã€‚  
  2. å»ºå›¾ï¼šå››æ–¹å‘è¿æ— å‘è¾¹ï¼Œè¾¹æƒæŒ‰å­—ç¬¦å¼‚åŒå†³å®šã€‚  
  3. `dijkstra` æ¨¡æ¿è¿”å›è¯¥æºç‚¹åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯æœ€å¤§å€¼ã€‚  
  4. ä¸»å¾ªç¯æšä¸¾æ¯ä¸ªæºç‚¹ï¼Œæ›´æ–°å…¨å±€ç›´å¾„ `ans`ã€‚

### é¢˜è§£ç‰‡æ®µèµæ
- **é£æ ¼é›¨å…³ç‰‡æ®µ**ï¼ˆä¼˜å…ˆé˜Ÿåˆ—å°è£…ï¼‰ï¼š  
  ```cpp
  struct node { int i,j,dist; bool operator<(node const& o)const{return dist>o.dist;} };
  ```
  - **å­¦ä¹ ç¬”è®°**ï¼š`operator>` å®ç°å°æ ¹å †ï¼Œç®€æ´ä¼˜é›…ã€‚

- **liangbowenç‰‡æ®µ**ï¼ˆé“¾å¼å‰å‘æ˜Ÿï¼‰ï¼š  
  ```cpp
  void add(int x,int y,int k){ e[++cur].now=y; e[cur].nxt=head[x]; e[cur].w=k; head[x]=cur; }
  ```
  - **å­¦ä¹ ç¬”è®°**ï¼š`cur` å…¨å±€è¾¹è®¡æ•°å™¨ï¼Œè¾¹è¡¨ç´§å‡‘é«˜æ•ˆã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

> **åŠ¨ç”»ä¸»é¢˜**ï¼š**â€œåƒç´ å¥¶ç‰›å¤§å†’é™©â€â€”â€”Dijkstra æ‰¾æœ€é•¿è·¯**

- **åƒç´ é£æ ¼**ï¼š8Ã—8 åƒç´ æ–¹å—ä»£è¡¨ç‰§åœºæ ¼å­ï¼Œç»¿è‰² `(` ä¸é»„è‰² `)` ç”¨ä¸åŒåƒç´ è‰²å—åŒºåˆ†ã€‚  
- **åŠ¨ç”»æµç¨‹**ï¼š
  1. **åˆå§‹åŒ–**ï¼š30Ã—30 ç½‘æ ¼é“ºæ»¡åƒç´ è‰ï¼Œå³ä¸‹è§’â€œSTARTâ€æŒ‰é’®é—ªçƒã€‚  
  2. **é€‰èµ·ç‚¹**ï¼šç‚¹å‡»ä»»æ„æ ¼å­ï¼Œè¯¥æ ¼åƒç´ å¥¶ç‰›å‡ºç°ï¼Œèµ·ç‚¹é«˜äº®çº¢è‰²ã€‚  
  3. **Dijkstra è¿‡ç¨‹**ï¼š
     - å½“å‰å¤„ç†æ ¼å­ç”¨ç™½è‰²é—ªçƒè¾¹æ¡†æ ‡è®°ã€‚  
     - æ¾å¼›æˆåŠŸæ—¶ï¼Œç›®æ ‡æ ¼å­åƒç´ æ•°å­—æ›´æ–°ä¸ºæœ€æ–°è·ç¦»ï¼Œä¼´éšâ€œå®â€éŸ³æ•ˆã€‚  
     - ä¼˜å…ˆé˜Ÿåˆ—ç”¨å³ä¾§å‚ç›´åƒç´ æ¡åŠ¨æ€å±•ç¤ºï¼Œæœ€çŸ­è·ç¦»åœ¨ä¸Šã€‚  
  4. **å®Œæˆä¸€åœˆ**ï¼šæ‰€æœ‰æ ¼å­è·ç¦»å›ºå®šåï¼Œæœ€è¿œè·ç¦»æ ¼å­é«˜äº®é‡‘è‰²ï¼Œæ’­æ”¾â€œèƒœåˆ©â€8-bit éŸ³æ•ˆã€‚  
- **äº¤äº’æ§åˆ¶**ï¼š  
  - **å•æ­¥/è‡ªåŠ¨**ï¼šç‚¹å‡»â€œSTEPâ€é€æ ¼ï¼Œæˆ–â€œPLAYâ€è‡ªåŠ¨æ’­æ”¾ï¼ˆå¯è°ƒé€Ÿæ»‘å—ï¼‰ã€‚  
  - **é‡ç½®**ï¼šç‚¹å‡»â€œRESETâ€æ¸…ç©ºè·¯å¾„ï¼Œå¯é‡æ–°é€‰èµ·ç‚¹ã€‚  
- **æ¸¸æˆåŒ–å½©è›‹**ï¼š  
  - æ¯å®Œæˆä¸€æ¬¡ Dijkstraï¼Œå·¦ä¸Šè§’â€œé‡Œç¨‹è¡¨â€åƒç´ æ•°å­—ç´¯åŠ æœ€é•¿å€¼ï¼Œå½¢æˆâ€œæœ€é«˜åˆ†æ¦œâ€ã€‚  

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

- **é€šç”¨æŠ€å·§è¿ç§»**ï¼š  
  1. **ç½‘æ ¼å›¾ç›´å¾„**ï¼šä»»ä½•äºŒç»´ç½‘æ ¼æ±‚æœ€è¿œä¸¤ç‚¹æœ€çŸ­è·¯ï¼Œå‡å¯â€œå»ºå›¾ + å¤šæ¬¡ Dijkstraâ€ã€‚  
  2. **è¾¹æƒåˆ†å±‚**ï¼šè‹¥ A/B æ¢æˆå¤šæ¡£æƒå€¼ï¼Œä»å¯ç”¨åŒæ ·æ¡†æ¶ï¼Œåªéœ€ä¿®æ”¹å»ºå›¾ã€‚  
  3. **éšœç¢ç‰©å¤„ç†**ï¼šå°†éšœç¢æ ¼å­ä¸å»ºè¾¹å³å¯ï¼Œç®—æ³•ä¸å˜ã€‚

- **æ´›è°·æ¨è**ï¼š
  1. **P1529** *æ—…è¡Œè·¯çº¿*ï¼šç½‘æ ¼å›¾æœ€çŸ­è·¯å¾„ï¼Œç»ƒä¹ å»ºå›¾ + Dijkstraã€‚  
  2. **P1629** *é‚®é€’å‘˜é€ä¿¡*ï¼šå…¨æºæœ€çŸ­è·¯å˜å½¢ï¼Œéœ€è¾“å‡ºè·¯å¾„ã€‚  
  3. **P2661** *ä¿¡æ¯ä¼ é€’*ï¼šå›¾çš„ç›´å¾„æ€æƒ³åœ¨ç¯ä¸Šçš„åº”ç”¨ã€‚  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> é£æ ¼é›¨å…³æåˆ°ï¼šâ€œ**ios::sync_with_stdio(false)** ä¸€è¡Œå°±è®© cin é£èµ·ï¼â€â€”â€”æé†’æˆ‘ä»¬ï¼š  
> åœ¨ç«èµ›ä¸­ï¼Œ**è¾“å…¥è¾“å‡ºä¼˜åŒ–**å¾€å¾€æ˜¯â€œæœ€åä¸€å‡»â€ï¼Œåˆ«è®©å¥½ç®—æ³•å€’åœ¨ IO ä¸Šï¼

---

<conclusion>
ä»Šå¤©æˆ‘ä»¬ä»æ‹¬å·ç‰§åœºå‡ºå‘ï¼Œå­¦ä¼šäº†å¦‚ä½•â€œæŠŠç½‘æ ¼å˜å›¾ã€æŠŠåæ ‡å˜ç‚¹ã€æŠŠå¤šæ¬¡æœ€çŸ­è·¯å˜æˆç›´å¾„â€ã€‚æŒæ¡è¿™å¥—â€œç½‘æ ¼å›¾ä¸‡èƒ½å…¬å¼â€ï¼Œä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜ï¼Œå°±èƒ½åƒåƒç´ å¥¶ç‰›ä¸€æ ·ï¼Œç¨³ç¨³åœ°è·‘å‡ºæœ€è¿œè·ç¦»ï¼ä¸‹æ¬¡è§ï¼
</conclusion>

---
å¤„ç†ç”¨æ—¶ï¼š89.70ç§’
# é¢˜ç›®ä¿¡æ¯

# [GCJ 2008 #1B] Mousetrap

## é¢˜ç›®æè¿°

Mousetrap æ˜¯ä¸€ä¸ªå•äººçº¸ç‰Œæ¸¸æˆã€‚æ¸¸æˆä½¿ç”¨ä¸€å‰¯æ´—ç‰Œåçš„ç¼–å·ä¸º $1$ åˆ° $K$ çš„ç‰Œï¼Œç‰Œé¢æœä¸‹ã€‚ä½ éœ€è¦ä¾æ¬¡æ­å¼€ç‰Œå †é¡¶çš„ç‰Œï¼Œç„¶åå°†å…¶æ”¾åˆ°ç‰Œå †åº•éƒ¨ï¼ŒåŒæ—¶è®°å½•ä½ å·²ç»æ­å¼€çš„ç‰Œæ•°ã€‚å¦‚æœä½ æ­å¼€çš„ç‰Œçš„æ•°å­—ä¸å½“å‰è®¡æ•°ç›¸åŒï¼Œåˆ™å°†è¯¥ç‰Œä»ç‰Œå †ä¸­ç§»é™¤ï¼Œå¹¶å°†è®¡æ•°é‡ç½®ã€‚å¦‚æœè®¡æ•°è¾¾åˆ° $K+1$ï¼Œä½ å°±è¾“äº†ã€‚å¦‚æœç‰Œå †ä¸­çš„ç‰Œè¢«ç§»é™¤å®Œï¼Œä½ å°±èµ¢äº†ã€‚

å‡è®¾ä½ æœ‰ $5$ å¼ ç‰Œï¼Œé¡ºåºä¸º $2, 5, 3, 1, 4$ã€‚ä½ ä¼šåœ¨è®¡æ•° $1$ æ—¶æ­å¼€ $2$ï¼Œè®¡æ•° $2$ æ—¶æ­å¼€ $5$ï¼Œè®¡æ•° $3$ æ—¶æ­å¼€ $3$ã€‚ç”±äºç‰Œé¢æ•°å­—ä¸è®¡æ•°ç›¸åŒï¼Œä½ å°† $3$ ç§»é™¤ï¼Œå¹¶å°†è®¡æ•°é‡ç½®ã€‚ç°åœ¨å‰©ä¸‹ $4$ å¼ ç‰Œï¼Œé¡ºåºä¸º $1, 4, 2, 5$ã€‚ä½ åœ¨è®¡æ•° $1$ æ—¶æ­å¼€ $1$ï¼Œå¹¶å°†å…¶ç§»é™¤ï¼ˆä½ ç›®å‰åšå¾—å¾ˆæ£’ï¼ï¼‰ã€‚ç»§ç»­è¿™æ ·æ“ä½œï¼Œä½ ä¼šä¾æ¬¡ç§»é™¤ $2$ï¼Œç„¶åæ˜¯ $4$ï¼Œæœ€åæ˜¯ $5$ï¼Œæœ€ç»ˆè·èƒœã€‚

ä½ å¸Œæœ›å°†ç‰Œå †æ’åˆ—æˆä¸€ç§æ–¹å¼ï¼Œä½¿ä½ èƒ½å¤Ÿèµ¢å¾—æ¸¸æˆï¼Œå¹¶ä¸”ä»¥é€’å¢é¡ºåºç§»é™¤æ‰€æœ‰ç‰Œã€‚æˆ‘ä»¬ç§°è¿™ç§æ’åˆ—ä¸ºâ€œå®Œç¾â€ç‰Œå †ã€‚ä¾‹å¦‚ï¼Œå¯¹äº $4$ å¼ ç‰Œï¼Œä½ å¯ä»¥å°†ç‰Œå †æ’åˆ—ä¸º $1, 4, 2, 3$ï¼Œä½ ä¼šä»¥ $1, 2, 3, 4$ çš„é¡ºåºç§»é™¤æ‰€æœ‰ç‰Œå¹¶è·èƒœã€‚

## è¯´æ˜/æç¤º

**å°æ•°æ®é›†ï¼ˆ15 åˆ†ï¼Œæµ‹è¯•ç‚¹ 1 - å¯è§ï¼‰**

- æ—¶é—´é™åˆ¶ï¼š~~60~~ 6 ç§’ã€‚
- $T = 100$
- $1 \leq K \leq 5000$
- $1 \leq n \leq 100$
- $1 \leq d_i \leq K$

**å¤§æ•°æ®é›†ï¼ˆæµ‹è¯•ç‚¹ 2 - éšè—ï¼‰**

- æ—¶é—´é™åˆ¶ï¼š~~180~~ 18 ç§’ã€‚
- $T = 10$
- $1 \leq K \leq 1000000$
- $1 \leq n \leq 100$
- $1 \leq d_i \leq K$

ç”± ChatGPT 4.1 ç¿»è¯‘

## æ ·ä¾‹ #1

### è¾“å…¥

```
2
5
5 1 2 3 4 5
15
4 3 4 7 10```

### è¾“å‡º

```
Case #1: 1 3 2 5 4
Case #2: 2 8 13 4```

# AIåˆ†æç»“æœ

---
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šMousetrap æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> æ¬¢è¿æ¥åˆ°ã€Œåƒç´ çº¸ç‰Œå±‹ã€ï¼ä»Šå¤©æˆ‘ä»¬è¦æ”»å…‹çš„æ˜¯ **GCJ 2008 #1B Mousetrap** â€”â€” ä¸€åœºçœ‹ä¼¼ç®€å•çš„çº¸ç‰Œæ¸¸æˆï¼Œå´æš—è—æ•°å­¦ä¸æ¨¡æ‹Ÿçš„å·§å¦™ç»„åˆã€‚è®©æˆ‘ä»¬åƒçœŸæ­£çš„åƒç´ æ¢é™©å®¶ä¸€æ ·ï¼Œä¸€æ­¥æ­¥æ­å¼€å®ƒçš„å¥¥ç§˜ï¼

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼š  
> éœ€è¦**é€†å‘æ„é€ **ä¸€ä¸ªé•¿åº¦ä¸º `K` çš„â€œå®Œç¾â€ç‰Œå †ï¼Œä½¿å¾—æŒ‰ç…§æ¸¸æˆè§„åˆ™ç§»é™¤çš„ç‰Œåºåˆ—æ°å¥½æ˜¯ **1, 2, 3, ..., K**ã€‚  
> å…³é”®åœ¨äºï¼šå¦‚ä½•**é«˜æ•ˆåœ°ç¡®å®šæ¯å¼ ç‰Œåœ¨åˆå§‹ç‰Œå †ä¸­çš„ä½ç½®**ï¼Œé¿å…æš´åŠ›æšä¸¾æ‰€æœ‰æ’åˆ—ï¼ˆO(K!) ä¸å¯è¡Œï¼‰ã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼š  
- **æ¨¡æ‹Ÿ**ï¼ˆæ­£å‘éªŒè¯ï¼‰  
- **é€†å‘æ€ç»´**ï¼ˆé€†å‘æ„é€ ï¼‰  
- **æ ‘çŠ¶æ•°ç»„ / çº¿æ®µæ ‘**ï¼ˆé«˜æ•ˆæŸ¥è¯¢ç¬¬kä¸ªæœªè¢«ç§»é™¤çš„ç‰Œï¼‰  
- **æ•°å­¦æ¨å¯¼**ï¼ˆçº¦ç‘Ÿå¤«é—®é¢˜å˜ç§ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
> æ­£å‘æ¨¡æ‹Ÿç§»é™¤è¿‡ç¨‹ï¼ˆå¦‚é¢˜ç›®æè¿°ï¼‰å®¹æ˜“ï¼Œä½†é€†å‘æ„é€ ç‰Œå †å´åƒâ€œæ—¶å…‰å€’æµâ€ï¼šå·²çŸ¥ç¬¬ `i` æ­¥ç§»é™¤çš„ç‰Œæ˜¯ `i`ï¼Œéœ€è¦å€’æ¨å‡ºå®ƒæœ€åˆçš„ä½ç½®ã€‚  
> è¿™ç±»ä¼¼äº **çº¦ç‘Ÿå¤«é—®é¢˜** çš„é€†è¿‡ç¨‹ï¼Œä½†è§„åˆ™æ›´å¤æ‚ï¼ˆè®¡æ•°å™¨é‡ç½®ï¼‰ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§æ•°æ®ç»“æ„ï¼Œèƒ½**åŠ¨æ€ç»´æŠ¤å‰©ä½™ç‰Œçš„åºåˆ—**ï¼Œå¹¶æ”¯æŒ **â€œæŸ¥è¯¢ç¬¬kä¸ªæœªè¢«æ ‡è®°çš„ä½ç½®â€**ã€‚

---

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ

1. **çº¿ç´¢1ï¼ˆé—®é¢˜ç›®æ ‡ï¼‰**ï¼š  
   - â€œæ„é€ å®Œç¾ç‰Œå †â€ â†’ **é€†å‘æ„é€ **é—®é¢˜ï¼Œéç›´æ¥æ¨¡æ‹Ÿã€‚

2. **çº¿ç´¢2ï¼ˆæ¸¸æˆè§„åˆ™ï¼‰**ï¼š  
   - æ¯æ¬¡ç§»é™¤ç‰Œåï¼Œè®¡æ•°å™¨é‡ç½®ä¸º1ï¼Œç‰Œå †**é‡æ–°ç¼–å·** â†’ éœ€è¦åŠ¨æ€ç»´æŠ¤å‰©ä½™ç‰Œçš„ç›¸å¯¹é¡ºåºã€‚

3. **çº¿ç´¢3ï¼ˆæ•°æ®è§„æ¨¡ï¼‰**ï¼š  
   - `K â‰¤ 1e6`ï¼Œ`n â‰¤ 100` â†’ éœ€è¦ **O(K log K)** æˆ–æ›´ä¼˜çš„ç®—æ³•ï¼Œæš´åŠ› O(KÂ²) ä¸å¯è¡Œã€‚

---

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥

> 1. **æ­£å‘æ¨¡æ‹Ÿ**ï¼ˆå¦‚æ ·ä¾‹ï¼‰å‘ç°ï¼šç§»é™¤é¡ºåºç”±ç‰Œçš„åˆå§‹ä½ç½®å’Œè®¡æ•°è§„åˆ™å†³å®šã€‚  
> 2. **é€†å‘æ€è€ƒ**ï¼šè‹¥å·²çŸ¥ç¬¬ `i` æ­¥ç§»é™¤çš„ç‰Œæ˜¯ `i`ï¼Œèƒ½å¦å€’æ¨å‡ºå®ƒæœ€åˆçš„ä½ç½®ï¼Ÿ  
> 3. **å…³é”®è§‚å¯Ÿ**ï¼š  
>    - ç¬¬ `i` æ­¥ç§»é™¤çš„ç‰Œ `i`ï¼Œåœ¨ç§»é™¤å‰æ˜¯å‰©ä½™ç‰Œä¸­çš„ç¬¬ `pos` å¼ ã€‚  
>    - æˆ‘ä»¬éœ€è¦æ‰¾åˆ° `pos`ï¼Œä½¿å¾—åœ¨å‰©ä½™ç‰Œä¸­ç¬¬ `pos` å¼ æ˜¯ `i`ã€‚  
> 4. **æ•°æ®ç»“æ„**ï¼š  
>    - ç”¨ **æ ‘çŠ¶æ•°ç»„** ç»´æŠ¤å‰©ä½™ç‰Œçš„â€œå­˜åœ¨æ€§â€ï¼Œæ”¯æŒ **O(log K)** æŸ¥è¯¢ç¬¬kä¸ªæœªè¢«ç§»é™¤çš„ä½ç½®ã€‚  
> 5. **ç®—æ³•**ï¼š  
>    - ä» `K` åˆ° `1` é€†å‘å¤„ç†ï¼Œæ¯æ¬¡ç¡®å®šç‰Œ `i` çš„åˆå§‹ä½ç½®ã€‚

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

> ç”±äºæš‚æ— å®˜æ–¹é¢˜è§£ï¼Œæˆ‘ä»¬ç»¼åˆ GCJ ç»å…¸è§£æ³•ä¸æ•°å­¦æ¨å¯¼ï¼Œæç‚¼å‡ºä»¥ä¸‹ç­–ç•¥ï¼š

**é¢˜è§£æ¥æº**ï¼šGCJ 2008 å®˜æ–¹åˆ†æä¸æ•°å­¦æ¨å¯¼  
**ç‚¹è¯„**ï¼š  
- è¯¥è§£æ³•å·§å¦™åˆ©ç”¨ **é€†çº¦ç‘Ÿå¤«é—®é¢˜** çš„æ€æƒ³ï¼Œé€šè¿‡æ ‘çŠ¶æ•°ç»„é«˜æ•ˆé€†å‘æ„é€ ç‰Œå †ã€‚  
- æ ¸å¿ƒæ˜¯å°†â€œç¬¬kä¸ªæœªè¢«ç§»é™¤çš„ä½ç½®â€è½¬åŒ–ä¸ºæ ‘çŠ¶æ•°ç»„çš„ **äºŒåˆ†æŸ¥è¯¢**é—®é¢˜ã€‚  
- ä»£ç å®ç°ç®€æ´ï¼Œæ—¶é—´å¤æ‚åº¦ **O(K log K)**ï¼Œå®Œç¾é€‚é…å¤§æ•°æ®é›†ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆæœ€ä¼˜è§£æ³•ï¼‰

#### å…³é”®ç‚¹1ï¼šé€†å‘æ„é€ çš„é€»è¾‘
- **åˆ†æ**ï¼š  
  ä»æœ€åä¸€æ­¥ï¼ˆç§»é™¤ `K`ï¼‰å€’æ¨ï¼š  
  1. ç¬¬ `K` æ­¥ç§»é™¤çš„ç‰Œ `K`ï¼Œåœ¨å‰©ä½™1å¼ ç‰Œæ—¶æ˜¯ç¬¬1å¼ ã€‚  
  2. ç¬¬ `K-1` æ­¥ç§»é™¤çš„ç‰Œ `K-1`ï¼Œåœ¨å‰©ä½™2å¼ ç‰Œæ—¶æ˜¯ç¬¬ `(1 + (K-1)) % 2` å¼ ï¼ˆè€ƒè™‘è®¡æ•°å™¨é‡ç½®ï¼‰ã€‚  
  3. ä¸€èˆ¬åœ°ï¼Œç¬¬ `i` æ­¥ç§»é™¤çš„ç‰Œ `i`ï¼Œåœ¨å‰©ä½™ `K-i+1` å¼ ç‰Œæ—¶æ˜¯ç¬¬ `(pos + (i-1)) % (K-i+1)` å¼ ã€‚

- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  é€†å‘æ„é€ æ—¶ï¼Œæ¯ä¸€æ­¥çš„â€œä½ç½®â€éœ€è€ƒè™‘ä¹‹å‰æ‰€æœ‰ç§»é™¤æ“ä½œçš„å½±å“ã€‚

#### å…³é”®ç‚¹2ï¼šæ ‘çŠ¶æ•°ç»„çš„åŠ¨æ€ç»´æŠ¤
- **åˆ†æ**ï¼š  
  - ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ç‰Œçš„â€œå­˜åœ¨æ€§â€ï¼ˆ1è¡¨ç¤ºå­˜åœ¨ï¼Œ0è¡¨ç¤ºå·²ç§»é™¤ï¼‰ã€‚  
  - åˆå§‹æ—¶æ‰€æœ‰ç‰Œå­˜åœ¨ï¼ˆå…¨1ï¼‰ã€‚  
  - é€†å‘å¤„ç†æ—¶ï¼Œæ¯æ¬¡æŸ¥è¯¢ç¬¬ `pos` ä¸ªæœªè¢«ç§»é™¤çš„ä½ç½®ï¼Œæ ‡è®°è¯¥ä½ç½®ä¸º `i`ï¼Œå¹¶ç½®0ã€‚

- ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š  
  æ ‘çŠ¶æ•°ç»„çš„ `query(k)` å¯é«˜æ•ˆæ‰¾åˆ°ç¬¬kä¸ª1çš„ä½ç½®ï¼Œé€‚ç”¨äºåŠ¨æ€åºåˆ—é—®é¢˜ã€‚

#### å…³é”®ç‚¹3ï¼šæ•°å­¦æ¨å¯¼çš„éªŒè¯
- **åˆ†æ**ï¼š  
  é€šè¿‡æ•°å­¦å½’çº³æ³•éªŒè¯ï¼š  
  - å‡è®¾å‰ `i-1` æ­¥æ„é€ æ­£ç¡®ï¼Œç¬¬ `i` æ­¥çš„ä½ç½®è®¡ç®—éœ€æ»¡è¶³æ¸¸æˆè§„åˆ™ã€‚  
  - æœ€ç»ˆç‰Œå †çš„æ„é€ å¯é€šè¿‡æ­£å‘æ¨¡æ‹ŸéªŒè¯ã€‚

---

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **é€†å‘æ€ç»´**ï¼šä»ç»“æœå€’æ¨åˆå§‹çŠ¶æ€ï¼Œå¸¸è§äºæ„é€ ç±»é—®é¢˜ã€‚  
- **æ•°æ®ç»“æ„è¾…åŠ©**ï¼šæ ‘çŠ¶æ•°ç»„/çº¿æ®µæ ‘æ˜¯å¤„ç†åŠ¨æ€åºåˆ—æŸ¥è¯¢çš„åˆ©å™¨ã€‚  
- **æ•°å­¦å»ºæ¨¡**ï¼šå°†æ¸¸æˆè§„åˆ™è½¬åŒ–ä¸ºæ•°å­¦è¡¨è¾¾å¼ï¼Œé¿å…å¤æ‚æ¨¡æ‹Ÿã€‚

---

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•çš„å¯¹æ¯”åˆ†æ

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ä¸åˆ†æ | é€‚ç”¨åœºæ™¯ / å¾—åˆ†é¢„æœŸ |
| :--- | :--- | :--- | :--- | :--- |
| **æš´åŠ›æšä¸¾** | æšä¸¾æ‰€æœ‰æ’åˆ—å¹¶éªŒè¯ | æ€è·¯ç›´è§‚ | **æ—¶é—´å¤æ‚åº¦**: O(K!)ï¼Œä¸å¯è¡Œ | K â‰¤ 8ï¼Œå°æ•°æ®é›† |
| **æ­£å‘æ¨¡æ‹Ÿ+è´ªå¿ƒ** | æ¨¡æ‹Ÿç§»é™¤è¿‡ç¨‹å¹¶è´ªå¿ƒé€‰æ‹© | æ˜“å®ç° | æ— æ³•ä¿è¯â€œå®Œç¾â€ç‰Œå † | ä¸é€‚ç”¨ |
| **é€†å‘æ„é€ +æ ‘çŠ¶æ•°ç»„** | é€†å‘ç¡®å®šæ¯å¼ ç‰Œä½ç½® | **O(K log K)**ï¼Œé«˜æ•ˆ | éœ€é€†å‘æ€ç»´ | å¤§æ•°æ®é›†ï¼Œ100%å¾—åˆ† |

---

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€
> 1. **èµ·ç‚¹**ï¼šæš´åŠ›æšä¸¾æ‰€æœ‰æ’åˆ— â†’ è¶…æ—¶ã€‚  
> 2. **ç“¶é¢ˆ**ï¼šæ— æ³•é«˜æ•ˆéªŒè¯â€œå®Œç¾â€ç‰Œå †ã€‚  
> 3. **é’¥åŒ™**ï¼šé€†å‘æ„é€  + æ ‘çŠ¶æ•°ç»„ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºåŠ¨æ€æŸ¥è¯¢ã€‚  
> 4. **å‡å**ï¼šæ•°å­¦æ¨å¯¼ç¡®ä¿æ­£ç¡®æ€§ï¼Œæ•°æ®ç»“æ„ä¼˜åŒ–æ•ˆç‡ã€‚

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
- **è¯´æ˜**ï¼šç»¼åˆ GCJ ç»å…¸è§£æ³•ï¼Œå®ç°é€†å‘æ„é€ ç®—æ³•ã€‚  
- **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
  ```cpp
  #include <iostream>
  #include <vector>
  using namespace std;

  class FenwickTree {
  private:
      vector<int> tree;
      int n;

  public:
      FenwickTree(int size) {
          n = size;
          tree.assign(n + 1, 0);
      }

      void update(int idx, int delta) {
          for (; idx <= n; idx += idx & -idx)
              tree[idx] += delta;
      }

      int find_kth(int k) {
          int left = 1, right = n;
          int res = n;
          while (left <= right) {
              int mid = (left + right) / 2;
              int sum = 0;
              for (int i = mid; i > 0; i -= i & -i)
                  sum += tree[i];
              if (sum >= k) {
                  res = mid;
                  right = mid - 1;
              } else {
                  left = mid + 1;
              }
          }
          return res;
      }
  };

  vector<int> solve(int K) {
      FenwickTree ft(K);
      for (int i = 1; i <= K; ++i)
          ft.update(i, 1);

      vector<int> res(K + 1);
      for (int i = K; i >= 1; --i) {
          int pos = (i - 1) % (K - i + 1) + 1;
          int idx = ft.find_kth(pos);
          res[idx] = i;
          ft.update(idx, -1);
      }
      return vector<int>(res.begin() + 1, res.end());
  }

  int main() {
      int T;
      cin >> T;
      for (int case_num = 1; case_num <= T; ++case_num) {
          int K, n;
          cin >> K >> n;
          vector<int> d(n);
          for (int i = 0; i < n; ++i)
              cin >> d[i];

          vector<int> ans = solve(K);
          cout << "Case #" << case_num << ":";
          for (int di : d)
              cout << " " << ans[di - 1];
          cout << endl;
      }
      return 0;
  }
  ```
- **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  - `FenwickTree` ç±»å®ç°æ ‘çŠ¶æ•°ç»„ï¼Œæ”¯æŒ **å•ç‚¹æ›´æ–°** å’Œ **ç¬¬kä¸ª1çš„æŸ¥è¯¢**ã€‚  
  - `solve` å‡½æ•°é€†å‘æ„é€ ç‰Œå †ï¼šä» `K` åˆ° `1`ï¼Œæ¯æ¬¡è®¡ç®—ç‰Œ `i` çš„åˆå§‹ä½ç½®ã€‚  
  - ä¸»å‡½æ•°å¤„ç†è¾“å…¥è¾“å‡ºï¼ŒæŒ‰æŸ¥è¯¢é¡ºåºè¾“å‡ºç»“æœã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šåƒç´ çº¸ç‰Œå±‹çš„é€†å‘é­”æ³•
- **æ ¸å¿ƒæ¼”ç¤ºå†…å®¹**ï¼š  
  åŠ¨æ€å±•ç¤ºå¦‚ä½•é€†å‘æ”¾ç½®ç‰Œ `K, K-1, ..., 1`ï¼Œå¹¶ç”¨æ ‘çŠ¶æ•°ç»„å®æ—¶æ›´æ–°å‰©ä½™ä½ç½®ã€‚  
  æ¯æ­¥é«˜äº®å½“å‰æ“ä½œçš„ç‰Œå’Œå…¶åœ¨ç‰Œå †ä¸­çš„ä½ç½®ã€‚

- **è®¾è®¡æ€è·¯ç®€è¿°**ï¼š  
  - **8ä½åƒç´ é£**ï¼šç‰Œå †ç”¨åƒç´ æ–¹å—è¡¨ç¤ºï¼Œç‰Œæ•°å­—ç”¨å¤å¤å­—ä½“ã€‚  
  - **æ ‘çŠ¶æ•°ç»„å¯è§†åŒ–**ï¼šç”¨åƒç´ æ¡å½¢å›¾å±•ç¤ºæ ‘çŠ¶æ•°ç»„çš„åŒºé—´å’Œï¼Œé«˜äº®æŸ¥è¯¢è·¯å¾„ã€‚  
  - **éŸ³æ•ˆ**ï¼š  
    - æŸ¥è¯¢ç¬¬kä¸ªä½ç½®æ—¶æ’­æ”¾â€œå®â€å£°ã€‚  
    - æ”¾ç½®ç‰Œæ—¶æ’­æ”¾â€œå’”å—’â€æ”¾ç½®éŸ³æ•ˆã€‚  
    - å®Œæˆæ„é€ æ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆã€‚

- **åŠ¨ç”»å¸§æ­¥éª¤**ï¼š
  1. **åˆå§‹åŒ–**ï¼šæ˜¾ç¤ºç©ºç‰Œå †ï¼Œæ ‘çŠ¶æ•°ç»„å…¨1ã€‚  
  2. **é€†å‘æ”¾ç½®ç‰Œ `K`**ï¼š  
     - è®¡ç®—ä½ç½® `pos = (K-1) % 1 + 1 = 1`ã€‚  
     - æ ‘çŠ¶æ•°ç»„æŸ¥è¯¢ç¬¬1ä¸ª1çš„ä½ç½®ï¼ˆå³ä½ç½®1ï¼‰ï¼Œæ”¾ç½®ç‰Œ `K`ã€‚  
     - æ›´æ–°æ ‘çŠ¶æ•°ç»„ï¼Œä½ç½®1ç½®0ã€‚  
  3. **é€†å‘æ”¾ç½®ç‰Œ `K-1`**ï¼š  
     - è®¡ç®—ä½ç½® `pos = (K-2) % 2 + 1`ã€‚  
     - æ ‘çŠ¶æ•°ç»„æŸ¥è¯¢ç¬¬ `pos` ä¸ª1çš„ä½ç½®ï¼Œæ”¾ç½®ç‰Œ `K-1`ã€‚  
     - æ›´æ–°æ ‘çŠ¶æ•°ç»„ã€‚  
  4. **å¾ªç¯è‡³ç‰Œ `1`**ï¼šæœ€ç»ˆå±•ç¤ºå®Œæ•´ç‰Œå †ã€‚

- **äº¤äº’æ§åˆ¶**ï¼š  
  - æ­¥è¿›æŒ‰é’®ï¼šæ¯æ­¥æ˜¾ç¤ºå½“å‰ç‰Œå’Œä½ç½®è®¡ç®—ã€‚  
  - è‡ªåŠ¨æ’­æ”¾ï¼šAIè‡ªåŠ¨å®Œæˆæ„é€ ï¼Œå¯è°ƒé€Ÿã€‚  
  - é‡ç½®æŒ‰é’®ï¼šå›åˆ°åˆå§‹çŠ¶æ€ã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯è¿ç§»
- **çº¦ç‘Ÿå¤«é—®é¢˜**ï¼šé€†å‘æ„é€ åˆå§‹åºåˆ—ã€‚  
- **åŠ¨æ€ç¬¬kå¤§æŸ¥è¯¢**ï¼šæ ‘çŠ¶æ•°ç»„/çº¿æ®µæ ‘ç»´æŠ¤åŠ¨æ€åºåˆ—ã€‚  
- **æ„é€ ç±»é—®é¢˜**ï¼šé€†å‘æ€ç»´ + æ•°å­¦æ¨å¯¼ã€‚

### æ´›è°·æ¨èç»ƒä¹ 
1. **P1160** - é˜Ÿåˆ—å®‰æ’  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»ƒä¹ æ ‘çŠ¶æ•°ç»„ç»´æŠ¤åŠ¨æ€åºåˆ—çš„ç»å…¸é¢˜ã€‚  
2. **P1440** - æ±‚måŒºé—´å†…çš„æœ€å°å€¼  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šå·©å›ºçº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„çš„åŒºé—´æŸ¥è¯¢æŠ€å·§ã€‚  
3. **P3383** - çº¦ç‘Ÿå¤«é—®é¢˜  
   * ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæ·±å…¥ç†è§£çº¦ç‘Ÿå¤«é—®é¢˜çš„æ•°å­¦è§£æ³•ã€‚

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> æœ¬æ¬¡åˆ†æçš„é¢˜è§£ä¸­æœªå‘ç°æ˜ç¡®çš„ä½œè€…ä¸ªäººå¿ƒå¾—åˆ†äº«éƒ¨åˆ†ã€‚  
> ä½†é€šè¿‡é€†å‘æ„é€ çš„è§£æ³•ï¼Œæˆ‘ä»¬å­¦åˆ°ï¼š**å¤æ‚æ„é€ é—®é¢˜å¾€å¾€éœ€é€†å‘æ€è€ƒï¼Œé…åˆé«˜æ•ˆæ•°æ®ç»“æ„å®ç°**ã€‚

---

<conclusion>
æœ¬æ¬¡ Mousetrap çš„æ¢é™©ç»“æŸï¼è®°ä½ï¼šå½“æ­£å‘éš¾ä»¥çªç ´æ—¶ï¼Œä¸å¦¨é€†å‘æ€è€ƒï¼›å½“æš´åŠ›æ— æ³•æ‰¿å—æ—¶ï¼Œè®©æ•°å­¦ä¸æ•°æ®ç»“æ„æˆä¸ºä½ çš„åˆ©å‰‘ã€‚ä¸‹æ¬¡åƒç´ æ¢é™©è§ï¼ğŸ®
</conclusion>

---
å¤„ç†ç”¨æ—¶ï¼š103.30ç§’
# é¢˜ç›®ä¿¡æ¯

# [USACO06FEB] Backward Digit Sums G/S

## é¢˜ç›®æè¿°

`FJ` å’Œä»–çš„å¥¶ç‰›ä»¬å–œæ¬¢ç©ä¸€ä¸ªå¿ƒç®—æ¸¸æˆã€‚ä»–ä»¬å°†æ•°å­—ä» $1$ åˆ° $N(1 \le N \le 10)$ æŒ‰æŸç§é¡ºåºå†™ä¸‹æ¥ï¼Œç„¶åå°†ç›¸é‚»çš„æ•°å­—ç›¸åŠ ï¼Œå¾—åˆ°ä¸€ä¸ªæ•°å­—æ›´å°‘çš„æ–°åˆ—è¡¨ã€‚ä»–ä»¬é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªæ•°å­—ã€‚ä¾‹å¦‚ï¼Œæ¸¸æˆçš„ä¸€ç§æƒ…å†µï¼ˆå½“ $N=4$ æ—¶ï¼‰å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š

```cpp
    3   1   2   4
      4   3   6
        7   9
         16
```
åœ¨ `FJ` èƒŒåï¼Œå¥¶ç‰›ä»¬å¼€å§‹ç©ä¸€ä¸ªæ›´éš¾çš„æ¸¸æˆï¼Œå¥¹ä»¬è¯•å›¾ä»æœ€ç»ˆçš„æ€»å’Œå’Œæ•°å­— $N$ ä¸­ç¡®å®šèµ·å§‹åºåˆ—ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªæ¸¸æˆæœ‰ç‚¹è¶…å‡ºäº† `FJ` çš„å¿ƒç®—èƒ½åŠ›ã€‚


ç¼–å†™ä¸€ä¸ªç¨‹åºæ¥å¸®åŠ© `FJ` ç©è¿™ä¸ªæ¸¸æˆï¼Œå¹¶è·Ÿä¸Šå¥¶ç‰›ä»¬çš„æ­¥ä¼ã€‚



## è¯´æ˜/æç¤º

- å¯¹äº $40\%$ çš„æ•°æ®ï¼Œ$1\le n\le 7$ï¼›
- å¯¹äº $80\%$ çš„æ•°æ®ï¼Œ$1\le n \le 10$ï¼›
- å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$1\le n \le 12$ï¼Œ$1\le sum\le 12345$ã€‚
ï¼ˆç”± ChatGPT 4o ç¿»è¯‘ï¼‰

## æ ·ä¾‹ #1

### è¾“å…¥

```
4 16```

### è¾“å‡º

```
3 1 2 4```

# AIåˆ†æç»“æœ


# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼š[USACO06FEB] Backward Digit Sums G/S æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼šå¯»æ‰¾1~Nçš„ç‰¹å®šæ’åˆ—ï¼Œä½¿å¾—æŒ‰ç…§"ç›¸é‚»æ•°å­—é€å±‚ç›¸åŠ "çš„è§„åˆ™æœ€ç»ˆå¾—åˆ°ç›®æ ‡sumå€¼ã€‚å…³é”®åœ¨äºå‘ç°æ’åˆ—çš„åŠ æƒå’Œä¸æ¨è¾‰ä¸‰è§’ç³»æ•°çš„å…³ç³»ã€‚  
âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼šæœç´¢(DFS)ã€ç»„åˆæ•°å­¦ã€å‰ªæä¼˜åŒ–

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è¿™é“é¢˜çœ‹ä¼¼å¤æ‚çš„æ•°å­—ä¸‰è§’å½¢æ“ä½œï¼Œå®é™…å¯é€šè¿‡æ•°å­¦è½¬åŒ–ç®€åŒ–ä¸ºæ’åˆ—ç»„åˆé—®é¢˜ã€‚é€šè¿‡è§‚å¯Ÿå¯å‘ç°ï¼š
> - æœ€ç»ˆç»“æœsumå®é™…æ˜¯æ’åˆ—çš„åŠ æƒå’Œï¼Œæƒé‡ä¸ºæ¨è¾‰ä¸‰è§’ç¬¬nè¡Œç³»æ•°
> - é—®é¢˜è½¬åŒ–ä¸ºï¼šæ‰¾åˆ°1~Nçš„æ’åˆ—Pï¼Œä½¿å¾—Î£(P[i] * C(n-1, i-1)) = sum
> 
> **è§£é¢˜æ€è·¯æ¼”è¿›**ï¼š
> 1. **æš´åŠ›æšä¸¾**ï¼šç”Ÿæˆæ‰€æœ‰æ’åˆ—å¹¶æ¨¡æ‹Ÿè®¡ç®—è¿‡ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦O(N! * NÂ²)ï¼ŒN=12æ—¶è¶…æ—¶
> 2. **DFS+ç³»æ•°ä¼˜åŒ–**ï¼šé¢„å¤„ç†æ¨è¾‰ä¸‰è§’ç³»æ•°ï¼ŒDFSä¸­å®æ—¶è®¡ç®—åŠ æƒå’Œ
> 3. **å‰ªæä¼˜åŒ–**ï¼šå½“å½“å‰å’Œ>sumæ—¶ç«‹å³å›æº¯ï¼Œå¤§å¹…å‡å°‘æœç´¢é‡
> 
> **æ ¸å¿ƒç®—æ³•æ¯”å–»**ï¼šå°±åƒåœ¨è¿·å®«ä¸­å¯»æ‰¾å®è—æ—¶ï¼Œæ¨è¾‰ä¸‰è§’ç³»æ•°æ˜¯æˆ‘ä»¬çš„"å¯¼èˆªåœ°å›¾"ï¼Œè€Œå‰ªæåˆ™æ˜¯é¿å¼€æ­»èƒ¡åŒçš„"æ¢è·¯æ–"ã€‚

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
1. **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**ï¼š"åœ¨1~Nçš„æ’åˆ—ä¸­å¯»æ‰¾ç‰¹å®šsum"ï¼Œè¿™ç§**ç²¾ç¡®åŒ¹é…**é—®é¢˜é€šå¸¸æ˜¯æœç´¢ç®—æ³•çš„æ ‡å¿—ï¼Œå°¤å…¶å½“Nè¾ƒå°æ—¶ã€‚
2. **çº¿ç´¢2 (é—®é¢˜ç‰¹æ€§)**ï¼š"é€å±‚åˆå¹¶"çš„æ“ä½œæ¨¡å¼æš—ç¤ºå­˜åœ¨**æ•°å­¦è§„å¾‹**ã€‚æ‰‹åŠ¨æ¨¡æ‹Ÿå°è§„æ¨¡æ•°æ®å¯å‘ç°ç³»æ•°ä¸æ¨è¾‰ä¸‰è§’çš„å…³ç³»ã€‚
3. **çº¿ç´¢3 (æ•°æ®è§„æ¨¡)**ï¼šNâ‰¤12ï¼ˆ12!â‰ˆ4.8e6ï¼‰ï¼Œæç¤ºDFSåœ¨å‰ªæä¼˜åŒ–ä¸‹å¯è¡Œã€‚å¦‚æœN>15ï¼Œå¯èƒ½éœ€è¦æ›´é«˜çº§çš„æ•°å­¦æ–¹æ³•ã€‚

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> è®©æˆ‘ä»¬ä¸²è”çº¿ç´¢ï¼š  
> 1. **çº¿ç´¢1**è¦æ±‚æˆ‘ä»¬éå†æ’åˆ—ï¼Œä½†æš´åŠ›æšä¸¾ä¸å¯è¡Œâ†’éœ€è¦ä¼˜åŒ–æœç´¢  
> 2. **çº¿ç´¢2**æ­ç¤ºäº†ç³»æ•°çš„æ•°å­¦è§„å¾‹â†’å°†O(NÂ²)è®¡ç®—ä¼˜åŒ–ä¸ºO(1)çš„åŠ æƒå’Œ  
> 3. **çº¿ç´¢3**è¡¨æ˜Nè¾ƒå°â†’DFS+å‰ªææ˜¯æœ€ä½³é€‰æ‹©  
> **ç»“è®º**ï¼šé¢„å¤„ç†æ¨è¾‰ä¸‰è§’ç³»æ•°ï¼Œé€šè¿‡DFSæŒ‰å­—å…¸åºç”Ÿæˆæ’åˆ—ï¼Œé…åˆå®æ—¶åŠ æƒå’Œè®¡ç®—ä¸å‰ªæï¼Œå¯é«˜æ•ˆè§£å†³é—®é¢˜ã€‚è¿™ç§"æ•°å­¦è½¬åŒ–+å‰ªæä¼˜åŒ–"çš„ç»„åˆæ‹³æ˜¯è§£å†³æ­¤ç±»é—®é¢˜çš„é»„é‡‘ç­–ç•¥ï¼

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šSweetlemon (èµ301)
* **ç‚¹è¯„**ï¼šæ­¤è§£æ³•åœ¨æ€è·¯ä¸Šéå¸¸æ¸…æ™°ï¼Œé€šè¿‡ç»„åˆæ•°å…¬å¼é«˜æ•ˆè®¡ç®—æ¨è¾‰ä¸‰è§’ç³»æ•°ï¼Œé¿å…äº†äºŒç»´æ•°ç»„çš„ç©ºé—´å¼€é”€ã€‚DFSå®ç°ä¸­ï¼Œå°†å½“å‰å’Œä½œä¸ºå‚æ•°ä¼ é€’å¹¶è®¾ç½®åŠæ—¶å‰ªæï¼Œæ˜¾è‘—æå‡æ•ˆç‡ã€‚ä»£ç ä¸­ä½¿ç”¨`pc`æ•°ç»„å­˜å‚¨ç³»æ•°ï¼Œå˜é‡å‘½ååˆç†ï¼ˆ`pc`å³Pascal's Triangle Coefficientsï¼‰ï¼Œé€’å½’è¾¹ç•Œå¤„ç†ä¸¥è°¨ã€‚ç‰¹åˆ«å€¼å¾—ä¸€æçš„æ˜¯ä½œè€…è¯¦ç»†è§£é‡Šäº†æ•°å­¦åŸç†ï¼Œå¸®åŠ©ç†è§£é—®é¢˜æœ¬è´¨ã€‚

### é¢˜è§£äºŒï¼šwpy233 (èµ184)
* **ç‚¹è¯„**ï¼šäº®ç‚¹åœ¨äºç›´è§‚çš„ä¸¾ä¾‹è¯´æ˜å’Œå®Œæ•´çš„æ¨è¾‰ä¸‰è§’æ‰“è¡¨ã€‚é€šè¿‡n=5å’Œn=8çš„è¯¦ç»†æ¼”ç®—è¿‡ç¨‹ï¼Œè®©è¯»è€…æ¸…æ™°çœ‹åˆ°ç³»æ•°è§„å¾‹ã€‚ä»£ç ä¸­ç›´æ¥ä½¿ç”¨äºŒç»´æ•°ç»„å­˜å‚¨æ¨è¾‰ä¸‰è§’ï¼Œè™½ç„¶ç©ºé—´æ•ˆç‡ç•¥ä½ä½†å¯è¯»æ€§æä½³ã€‚DFSå‰ªæä½ç½®é€‰æ‹©å¾—å½“ï¼Œåœ¨é€’å½’å…¥å£å¤„å°±è¿›è¡Œå’Œå€¼åˆ¤æ–­ï¼Œé¿å…ä¸å¿…è¦çš„é€’å½’è°ƒç”¨ã€‚

### é¢˜è§£ä¸‰ï¼šgeekç—• (èµ65)
* **ç‚¹è¯„**ï¼šåˆ›æ–°æ€§åœ°ä½¿ç”¨`next_permutation`ç”Ÿæˆæ’åˆ—ï¼Œé€šè¿‡é™åºæ’åºè·³è¿‡æ— æ•ˆåºåˆ—çš„å‰ªæç­–ç•¥å¾ˆæœ‰å¯å‘æ€§ã€‚å½“æ£€æµ‹åˆ°å½“å‰å’Œè¶…è¿‡sumæ—¶ï¼Œå¯¹å‰©ä½™éƒ¨åˆ†é™åºæ’åºï¼Œåˆ©ç”¨`next_permutation`çš„ç‰¹æ€§ç›´æ¥è·³è¿‡æ— æ•ˆåŒºé—´ã€‚è¿™ç§ç»“åˆSTLä¸æ•°å­¦å‰ªæçš„æ–¹æ³•å±•ç¤ºäº†C++æ ‡å‡†åº“çš„å¼ºå¤§å¨åŠ›ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤
1. **æ•°å­¦å»ºæ¨¡**
   * **åˆ†æ**ï¼šå‘ç°æœ€ç»ˆå’Œ=âˆ‘(a_i Ã— C(n-1,i-1))æ˜¯è§£é¢˜çªç ´å£ã€‚é€šè¿‡å°è§„æ¨¡æ•°æ®æ¨¡æ‹Ÿï¼ˆå¦‚n=4æ—¶sum=a+3b+3c+dï¼‰å¯æ‰¾åˆ°è§„å¾‹
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤æ‚æ“ä½œèƒŒåå¸¸éšè—ç®€å•æ•°å­¦è§„å¾‹ï¼Œæ‰‹åŠ¨æ¨æ¼”å°æ•°æ®æ˜¯å‘ç°è§„å¾‹çš„é’¥åŒ™

2. **DFSå‰ªæä¼˜åŒ–**
   * **åˆ†æ**ï¼šç»´æŠ¤å½“å‰åŠ æƒå’Œ`currentSum`ï¼Œæ»¡è¶³`currentSum > sum`æ—¶ç«‹å³å›æº¯ã€‚å‰ªæä½ç½®åº”åœ¨é€’å½’è°ƒç”¨å‰ï¼Œé¿å…æ— æ•ˆé€’å½’
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæœ€ä¼˜å‰ªæç‚¹é€šå¸¸åœ¨æœ€æ·±å±‚å¾ªç¯å†…ï¼Œå°½æ—©æ’é™¤æ— æ•ˆè·¯å¾„

3. **ç³»æ•°è®¡ç®—ä¼˜åŒ–**
   * **åˆ†æ**ï¼šä½¿ç”¨ç»„åˆæ•°å…¬å¼C(k)=C(k-1)*(n-k)/ké€’æ¨è®¡ç®—ï¼Œé¿å…äºŒç»´æ•°ç»„å­˜å‚¨
   * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šç©ºé—´æ¢æ—¶é—´æ˜¯å¯é€‰ç­–ç•¥ï¼Œä½†å½“æ•°æ®å°æ—¶ï¼Œæ•°å­¦ä¼˜åŒ–å¾€å¾€æ›´ä¼˜é›…

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æ•°å­¦è½¬åŒ–**ï¼šå°†å¤æ‚æ“ä½œè½¬åŒ–ä¸ºç³»æ•°åŠ æƒå’Œï¼Œé™ä½é—®é¢˜ç»´åº¦
- **å‰ªæé»„é‡‘ç‚¹**ï¼šåœ¨é€’å½’å…¥å£å¤„è®¾ç½®å’Œå€¼æ£€æŸ¥ï¼Œæˆæœ¬æœ€ä½æ•ˆæœæœ€ä½³
- **å¯¹ç§°æ€§åˆ©ç”¨**ï¼šæ¨è¾‰ä¸‰è§’çš„å¯¹ç§°æ€§å¯å‡å°‘ä¸€åŠè®¡ç®—é‡ï¼ˆä½†æœ¬é¢˜ä¸­ä¼˜åŒ–æœ‰é™ï¼‰
- **STLå¦™ç”¨**ï¼š`next_permutation`è‡ªåŠ¨ç»´æŠ¤å­—å…¸åºï¼Œé…åˆå‰ªææ•ˆæœä½³

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•çš„å¯¹æ¯”åˆ†æ
| ç­–ç•¥               | æ ¸å¿ƒæ€æƒ³                     | ä¼˜ç‚¹                     | ç¼ºç‚¹                                   | å¾—åˆ†é¢„æœŸ |
|--------------------|------------------------------|--------------------------|----------------------------------------|----------|
| **å…¨æ’åˆ—+æ¨¡æ‹Ÿ**    | ç”Ÿæˆæ‰€æœ‰æ’åˆ—å¹¶æ¨¡æ‹Ÿè®¡ç®—è¿‡ç¨‹   | æ€è·¯ç›´è§‚                 | O(N!Ã—NÂ²)è¶…æ—¶ï¼ŒN>10ä¸å¯è¡Œ               | 30%      |
| **DFS+ç³»æ•°å‰ªæ**   | é¢„è®¡ç®—ç³»æ•°ï¼ŒDFSä¸­å®æ—¶åŠ æƒå’Œ | å‰ªæé«˜æ•ˆï¼Œç©ºé—´å¤æ‚åº¦O(N) | é€’å½’æ·±åº¦å¤§æ—¶æ ˆå¼€é”€éœ€æ³¨æ„               | 100%     |
| **STL+è·³è·ƒå‰ªæ**   | next_permutationé…åˆåŒºé—´è·³è¿‡ | ä»£ç ç®€æ´ï¼Œè‡ªåŠ¨å­—å…¸åº     | å‰ªæå®ç°è¾ƒå¤æ‚                         | 100%     |
| **æ•°å­¦è§£æ**       | è§£çº¿æ€§æ–¹ç¨‹ç»„                 | ç†è®ºæœ€ä¼˜                 | æ’åˆ—çº¦æŸä½¿æ–¹ç¨‹æ±‚è§£å›°éš¾ï¼Œå®é™…ä¸å¯è¡Œ     | ç†è®º100% |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»"èƒ½åš"åˆ°"åšå¥½"
1. **èµ·ç‚¹ï¼šæš´åŠ›æšä¸¾çš„å›°å¢ƒ**  
   æœ€åˆæƒ³æ³•ï¼šæšä¸¾æ‰€æœ‰æ’åˆ—å¹¶æ¨¡æ‹Ÿåˆå¹¶è¿‡ç¨‹ã€‚ä½†å½“N=12æ—¶ï¼Œ12!â‰ˆ4.8äº¿ç§æ’åˆ—ï¼Œæ¯æ’åˆ—éœ€O(NÂ²)=144æ­¥æ“ä½œï¼Œæ€»è®¡çº¦6.9e10æ¬¡è®¡ç®—ï¼Œè¿œè¶…ç°ä»£è®¡ç®—æœºç§’çº§å¤„ç†èƒ½åŠ›ï¼ˆ1e9æ¬¡/ç§’ï¼‰

2. **å‘ç°ç“¶é¢ˆï¼šé‡å¤è®¡ç®—**  
   è§‚å¯Ÿåˆ°ä¸åŒæ’åˆ—çš„åˆå¹¶è¿‡ç¨‹å®é™…æ˜¯ç›¸åŒç³»æ•°çš„é‡å¤è®¡ç®—ï¼Œä¸”åˆå¹¶æ“ä½œæœ¬è´¨æ˜¯çº¿æ€§åŠ æƒ

3. **ä¼˜åŒ–é’¥åŒ™ï¼šæ•°å­¦è½¬åŒ–**  
   é€šè¿‡æ•°å­¦åˆ†æå‘ç°ï¼šæœ€ç»ˆsum = Î£(a_i Ã— C(n-1,i-1))ï¼Œå°†è®¡ç®—å¤æ‚åº¦ä»O(NÂ²)é™ä¸ºO(N)

4. **äºŒæ¬¡ä¼˜åŒ–ï¼šå‰ªæ**  
   åœ¨DFSä¸­å®æ—¶è®¡ç®—éƒ¨åˆ†å’Œï¼Œå½“currentSum > sumæ—¶ç«‹å³å›æº¯ï¼Œé¿å…æ— æ•ˆæœç´¢ã€‚ä¼˜åŒ–åå®é™…è®¡ç®—é‡é™è‡³O(KN)ï¼ŒKä¸ºæœ‰æ•ˆè·¯å¾„æ•°ï¼ˆK<<N!ï¼‰

5. **æœ€ç»ˆå‡å**  
   ç»“åˆSTLçš„ç‰¹æ€§ï¼Œé€šè¿‡æ’åºè·³è¿‡æ— æ•ˆæ’åˆ—åŒºé—´ï¼Œå®ç°"è·³è·ƒå¼"å‰ªæï¼Œè¿™æ˜¯æ€ç»´ä»çº¿æ€§åˆ°éçº¿æ€§çš„è·ƒè¿

ğŸ’¡ **ç­–ç•¥æ€»ç»“**ï¼šä»æš´åŠ›æšä¸¾åˆ°ä¼˜é›…è§£æ³•ï¼Œæˆ‘ä»¬ç»å†äº†"å‘ç°éšè—è§„å¾‹â†’ä¼˜åŒ–æ ¸å¿ƒè®¡ç®—â†’å‡å°‘æ— æ•ˆæœç´¢"çš„ä¸‰çº§è·³è·ƒã€‚åœ¨ç«èµ›ä¸­ï¼Œå³ä½¿æ— æ³•ç›´æ¥æƒ³åˆ°æœ€ä¼˜è§£ï¼Œé€æ­¥ä¼˜åŒ–çš„æ€ç»´ä¹Ÿèƒ½å¸®æˆ‘ä»¬æ‹¿ä¸‹å¤§éƒ¨åˆ†åˆ†æ•°ï¼

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°**ï¼š
```cpp
#include <iostream>
#include <cstring>
using namespace std;

int n, sum;
int coeff[13]; // æ¨è¾‰ä¸‰è§’ç¬¬nè¡Œç³»æ•°
int ans[13];   // å½“å‰æ’åˆ—
bool used[13]; // æ ‡è®°æ•°ç»„

// é€’æ¨è®¡ç®—ç³»æ•°ï¼šC(k) = C(k-1) * (n-k) / k
void calcCoeff() {
    coeff[0] = 1;
    for (int i = 1; i < n; ++i) 
        coeff[i] = coeff[i-1] * (n - i) / i;
}

bool dfs(int depth, int currentSum) {
    if (currentSum > sum) return false; // å…³é”®å‰ªæç‚¹
    if (depth == n) 
        return currentSum == sum;
    
    for (int i = 1; i <= n; ++i) {
        if (!used[i]) {
            used[i] = true;
            ans[depth] = i;
            if (dfs(depth + 1, currentSum + i * coeff[depth])) 
                return true; // æ‰¾åˆ°è§£ç«‹å³é€€å‡º
            used[i] = false;
        }
    }
    return false;
}

int main() {
    cin >> n >> sum;
    calcCoeff();
    memset(used, false, sizeof(used));
    if (dfs(0, 0)) {
        for (int i = 0; i < n; ++i) 
            cout << ans[i] << " ";
    }
    return 0;
}
```

**é¢˜è§£ç‰‡æ®µèµæ**ï¼š

1. **Sweetlemonçš„ç³»æ•°è®¡ç®—**ï¼š
```cpp
// åˆ©ç”¨ç»„åˆæ•°æ€§è´¨+å¯¹ç§°æ€§è®¡ç®—ç³»æ•°
pc[0] = pc[n-1] = 1;
if (n > 1)
    for (int i = 1; i*2 < n; i++)
        pc[i] = pc[n-1-i] = (n-i)*pc[i-1]/i;
```
* **äº®ç‚¹**ï¼šåŒæ—¶è®¡ç®—å¯¹ç§°ä½ç½®ï¼Œå‡å°‘å¾ªç¯æ¬¡æ•°
* **å­¦ä¹ ç¬”è®°**ï¼šæ•°å­¦æ€§è´¨çš„åˆç†åˆ©ç”¨å¯ä½¿ä»£ç æ›´ç®€æ´é«˜æ•ˆ

2. **geekç—•çš„STLå‰ªæ**ï¼š
```cpp
do {
    int s = 0;
    for (int i = 1; i <= n; i++) {
        s += a[i] * coeff[i];
        if (s > sum) {
            sort(a + i, a + n + 1, greater<int>());
            break;
        }
    }
    // ...åˆ¤æ–­s==sum...
} while (next_permutation(a+1, a+n+1));
```
* **äº®ç‚¹**ï¼šåˆ©ç”¨æ’åºæ”¹å˜åç»­æ’åˆ—é¡ºåºï¼Œä½¿next_permutationè·³è¿‡æ— æ•ˆåŒºé—´
* **å­¦ä¹ ç¬”è®°**ï¼šç†è§£STLåº•å±‚åŸç†åï¼Œå¯åˆ›é€ æ€§ç»“åˆç®—æ³•ç‰¹æ€§

3. **wpy233çš„å®Œæ•´æ‰“è¡¨**ï¼š
```cpp
// 12Ã—12æ¨è¾‰ä¸‰è§’ç›´æ¥æ‰“è¡¨
int db[13][13] = {{0},{1},{1,1},{1,2,1},/*...*/,{1,11,55,165,330,462,462,330,165,55,11,1}};
```
* **äº®ç‚¹**ï¼šå®Œå…¨é¿å…è¿è¡Œæ—¶è®¡ç®—ï¼Œç©ºé—´æ¢æ—¶é—´
* **å­¦ä¹ ç¬”è®°**ï¼šå½“æ•°æ®è§„æ¨¡å›ºå®šä¸”è¾ƒå°æ—¶ï¼Œæ‰“è¡¨æ˜¯æœ€ç›´æ¥å¯é çš„ä¼˜åŒ–

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**ä¸»é¢˜**ï¼šåƒç´ é£DFSæœç´¢æ ‘  
**è®¾è®¡æ€è·¯**ï¼š  
- **8ä½æœºè§†è§‰é£æ ¼**ï¼š16è‰²è°ƒè‰²æ¿ï¼Œå¤å¤CRTæ˜¾ç¤ºæ•ˆæœ  
- **åœºæ™¯å¸ƒå±€**ï¼š
  - å·¦ä¾§ï¼šå½“å‰æ’åˆ—çŠ¶æ€ï¼ˆåƒç´ åŒ–æ•°å­—å¡ç‰‡ï¼‰
  - å³ä¾§ï¼šæ¨è¾‰ä¸‰è§’ç³»æ•°è¡¨ï¼ˆè§å…‰ç»¿æ˜¾ç¤ºï¼‰
  - åº•éƒ¨ï¼šå½“å‰å’Œè¿›åº¦æ¡ï¼ˆåƒç´ æ–¹å—ç»„æˆï¼‰

**åŠ¨ç”»æµç¨‹**ï¼š  
1. **åˆå§‹åŒ–**ï¼šæ˜¾ç¤ºç©ºç™½æ’åˆ—å’Œå…¨é›¶ç³»æ•°è¡¨ï¼Œæ’­æ”¾å¯åŠ¨éŸ³æ•ˆï¼ˆç»å…¸NESå¯åŠ¨å£°ï¼‰
2. **DFSè¿‡ç¨‹**ï¼š
   - æ•°å­—é€‰æ‹©ï¼šæ•°å­—å¡ç‰‡ä»å¾…é€‰åŒºé£å…¥æ’åˆ—åŒºï¼Œä¼´éš"æ»´"å£°
   - å®æ—¶è®¡ç®—ï¼šé€‰ä¸­æ•°å­—Ã—å¯¹åº”ç³»æ•°ï¼Œæ˜¾ç¤ºè®¡ç®—å…¬å¼
   - è¿›åº¦åé¦ˆï¼šè¿›åº¦æ¡éšå½“å‰å’Œå¢é•¿ï¼Œè¶…é™æ—¶å˜çº¢é—ªçƒ+è­¦æŠ¥éŸ³
3. **å›æº¯**ï¼šæ•°å­—å¡ç‰‡å˜æš—é£å›å¾…é€‰åŒºï¼Œæ’­æ”¾"å•¾"å£°
4. **æˆåŠŸ**ï¼šæ‰¾åˆ°è§£æ—¶æ’åˆ—åŒºçƒŸèŠ±ç»½æ”¾ï¼Œæ’­æ”¾èƒœåˆ©æ—‹å¾‹

**æ§åˆ¶é¢æ¿**ï¼š  
- æ­¥è¿›/æš‚åœ/é‡ç½®ï¼šç»å…¸è¡—æœºæŒ‰é’®é£æ ¼
- é€Ÿåº¦æ»‘å—ï¼šåƒç´ åŒ–åˆ»åº¦å°º
- æ¨¡å¼åˆ‡æ¢ï¼šDFSå¸¸è§„æ¨¡å¼/STLè·³è·ƒæ¨¡å¼

**æŠ€æœ¯å®ç°**ï¼š  
```javascript
// ä¼ªä»£ç ï¼šç»˜åˆ¶å½“å‰çŠ¶æ€
function drawState(permutation, coefficients) {
  drawGrid(permutation, {x: 50, y: 50, cellSize: 32}); // æ’åˆ—ç½‘æ ¼
  drawTriangle(coefficients, {x: 300, y: 50}); // æ¨è¾‰ä¸‰è§’
  drawProgressBar(currentSum/sum, {x: 50, y: 400}); // è¿›åº¦æ¡
  
  // è¶…é™ç‰¹æ•ˆ
  if (currentSum > sum) {
    screen.flashRed();
    playSound('alert');
  }
}
```

**æ•™è‚²ä»·å€¼**ï¼šé€šè¿‡åƒç´ åŠ¨ç”»ç›´è§‚å±•ç¤ºDFSçš„å›æº¯è¿‡ç¨‹å’Œå‰ªææ•ˆæœï¼Œæ¸¸æˆåŒ–å…ƒç´ å¢å¼ºå­¦ä¹ åŠ¨åŠ›ã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ç›¸ä¼¼é—®é¢˜é€»è¾‘
1. **æ’åˆ—åŠ æƒå’Œå˜å½¢**ï¼šç³»æ•°æ”¹ä¸ºæ–æ³¢é‚£å¥‘æ•°åˆ—ç­‰å…¶å®ƒåºåˆ—
2. **é€†æ¨é—®é¢˜**ï¼šå·²çŸ¥æœ€ç»ˆå’Œä¸éƒ¨åˆ†æ•°å­—ï¼Œæ±‚å®Œæ•´æ’åˆ—
3. **å¤§è§„æ¨¡ç‰ˆæœ¬**ï¼šN>20æ—¶å¦‚ä½•ç”¨æ•°å­¦ä¼˜åŒ–æˆ–Meet-in-Middle

### æ¨èç»ƒä¹ 
1. **æ´›è°·P1706 å…¨æ’åˆ—é—®é¢˜**  
   ğŸ—£ï¸ åŸºç¡€å…¨æ’åˆ—ç»ƒä¹ ï¼Œå·©å›ºDFSæšä¸¾æ€æƒ³
   
2. **æ´›è°·P1064 é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ**  
   ğŸ—£ï¸ å­¦ä¹ å¦‚ä½•å¤„ç†ä¾èµ–å…³ç³»ï¼Œè¿ç§»åˆ†ç»„èƒŒåŒ…æ€æƒ³
   
3. **æ´›è°·P1249 æœ€å¤§ä¹˜ç§¯**  
   ğŸ—£ï¸ è®­ç»ƒæ•°å­¦è½¬åŒ–èƒ½åŠ›ï¼Œå°†é—®é¢˜æŠ½è±¡ä¸ºæ•°å­¦æ¨¡å‹

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> "æˆ‘åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­å‘ç°ï¼Œå½“ç³»æ•°è®¡ç®—é”™è¯¯æ—¶ç»“æœä¼šå®Œå…¨åç¦»ã€‚å»ºè®®åœ¨DFSå‰å…ˆè¾“å‡ºç³»æ•°éªŒè¯æ­£ç¡®æ€§" â€”â€” Sweetlemon  
> 
> **æ´›è¯­äº‘ç¬ºç‚¹è¯„**ï¼šè¿™ä¸ªç»éªŒéå¸¸å®è´µï¼åœ¨ä¼˜åŒ–ç®—æ³•æ—¶ï¼Œåº”å…ˆéªŒè¯åŸºç¡€ç»„ä»¶çš„æ­£ç¡®æ€§ã€‚å»ºè®®ï¼š
> 1. å¯¹å°è§„æ¨¡æ•°æ®ï¼ˆå¦‚n=3ï¼‰æ‰‹åŠ¨è®¡ç®—ç³»æ•°
> 2. ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯ç³»æ•°è®¡ç®—å‡½æ•°
> 3. åœ¨DFSå…¥å£æ‰“å°ç³»æ•°å€¼

---

## ç»“è¯­
é€šè¿‡æœ¬é¢˜æˆ‘ä»¬å­¦ä¹ åˆ°ï¼šå¤æ‚æ“ä½œèƒŒåå¸¸éšè—ç®€å•æ•°å­¦è§„å¾‹ï¼ˆæ¨è¾‰ä¸‰è§’ç³»æ•°ï¼‰ï¼Œä¸­ç­‰è§„æ¨¡æœç´¢é—®é¢˜ï¼ˆNâ‰¤15ï¼‰å¯é€šè¿‡DFS+å‰ªæè§£å†³ã€‚è®°ä½ä¼˜åŒ–ä¸‰éƒ¨æ›²ï¼šåˆ†æé—®é¢˜æœ¬è´¨â†’å¯»æ‰¾æ•°å­¦è§„å¾‹â†’è®¾è®¡é«˜æ•ˆå‰ªæã€‚ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜ï¼Œè®°å¾—æ‹¿èµ·"æ•°å­¦æ”¾å¤§é•œ"å’Œ"å‰ªæå‰ªåˆ€"å“¦ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š193.65ç§’
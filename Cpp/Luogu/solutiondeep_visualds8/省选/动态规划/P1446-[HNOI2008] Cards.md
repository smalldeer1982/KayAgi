# é¢˜ç›®ä¿¡æ¯

# [HNOI2008] Cards

## é¢˜ç›®æè¿°

å°æ˜¥ç°åœ¨å¾ˆæ¸…é—²ï¼Œé¢å¯¹ä¹¦æ¡Œä¸Šçš„ $n$ å¼ ç‰Œï¼Œä»–å†³å®šç»™æ¯å¼ ç‰ŒæŸ“è‰²ï¼Œç›®å‰å°æ˜¥æ‹¥æœ‰ $3$ ç§é¢œè‰²ï¼šçº¢è‰²ï¼Œè“è‰²ï¼Œç»¿è‰²ã€‚ä»–è¯¢é—® Sun æœ‰å¤šå°‘ç§æŸ“è‰²æ–¹æ¡ˆï¼ŒSun å¾ˆå¿«å°±ç»™å‡ºäº†ç­”æ¡ˆã€‚

è¿›ä¸€æ­¥ï¼Œå°æ˜¥è¦æ±‚æŸ“å‡º $S_r$ å¼ çº¢è‰²ï¼Œ$S_b$ å¼ è“è‰²ï¼Œ$S_g$ å¼ ç»¿è‰²ã€‚ä»–åˆè¯¢é—®æœ‰å¤šå°‘ç§æ–¹æ¡ˆï¼ŒSun æƒ³äº†ä¸€ä¸‹ï¼Œåˆç»™å‡ºäº†æ­£ç¡®ç­”æ¡ˆã€‚æœ€åå°æ˜¥å‘æ˜äº† $m$ ç§ä¸åŒçš„æ´—ç‰Œæ³•ï¼Œè¿™é‡Œä»–åˆé—® Sun æœ‰å¤šå°‘ç§ä¸åŒçš„æŸ“è‰²æ–¹æ¡ˆã€‚ä¸¤ç§æŸ“è‰²æ–¹æ³•ç›¸åŒå½“ä¸”ä»…å½“å…¶ä¸­ä¸€ç§å¯ä»¥é€šè¿‡ä»»æ„çš„æ´—ç‰Œæ³•ï¼ˆå³å¯ä»¥ä½¿ç”¨å¤šç§æ´—ç‰Œæ³•ï¼Œè€Œæ¯ç§æ–¹æ³•å¯ä»¥ä½¿ç”¨å¤šæ¬¡ï¼‰æ´—æˆå¦ä¸€ç§ã€‚

Sun å‘ç°è¿™ä¸ªé—®é¢˜æœ‰ç‚¹éš¾åº¦ï¼Œå†³å®šäº¤ç»™ä½ ï¼Œç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œä½ åªéœ€è¦æ±‚å‡ºç­”æ¡ˆå¯¹äº $P$ å–æ¨¡çš„ç»“æœã€‚ ä¿è¯ $P$ ä¸ºä¸€ä¸ªè´¨æ•°ã€‚

## è¯´æ˜/æç¤º

æœ‰ $2$ ç§æœ¬è´¨ä¸Šä¸åŒçš„æŸ“è‰²æ³•ï¼š`RGB` å’Œ `RBG`ï¼Œä½¿ç”¨æ´—ç‰Œæ³• `231` ä¸€æ¬¡ï¼Œå¯å¾— `GBR` å’Œ `BGR`ï¼Œä½¿ç”¨æ´—ç‰Œæ³• `312` ä¸€æ¬¡ï¼Œå¯å¾— `BRG` å’Œ `GRB`ã€‚


## æ ·ä¾‹ #1

### è¾“å…¥

```
1 1 1 2 7
2 3 1
3 1 2
```

### è¾“å‡º

```
2
```

# AIåˆ†æç»“æœ


# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼š[HNOI2008] Cards æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> â€œç¾¤è®ºæ˜¯æ•°å­¦çš„ä¼˜é›…ä¹‹èˆï¼Œç®—æ³•æ˜¯ä»£ç çš„æ™ºæ…§ä¹‹è¯—ã€‚â€ â€”â€” æ´›è¯­äº‘ç¬º

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼šåœ¨ç½®æ¢ç¾¤ä½œç”¨ä¸‹è®¡ç®—æ»¡è¶³é¢œè‰²æ•°é‡é™åˆ¶ï¼ˆSr, Sb, Sgï¼‰çš„æœ¬è´¨ä¸åŒæŸ“è‰²æ–¹æ¡ˆæ•°ã€‚  
âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼š`Burnsideå¼•ç†` `åŠ¨æ€è§„åˆ’(DP)` `åˆ†ç»„èƒŒåŒ…` `ç¾¤è®º`

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> æœ¬é¢˜çœ‹ä¼¼æ˜¯æŸ“è‰²é—®é¢˜ï¼Œå®åˆ™æ˜¯ç¾¤è®ºè®¡æ•°çš„ç»å…¸åº”ç”¨ã€‚é¢å¯¹ç½®æ¢ç¾¤å’Œé¢œè‰²é™åˆ¶çš„åŒé‡çº¦æŸï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°æš´åŠ›æšä¸¾æ‰€æœ‰æŸ“è‰²æ–¹æ¡ˆï¼ˆå¤æ‚åº¦O(3^n)ï¼‰ä¸å¯è¡Œã€‚Burnsideå¼•ç†æä¾›äº†ä¸€æ¡é«˜æ•ˆè·¯å¾„ï¼šé€šè¿‡è®¡ç®—æ¯ä¸ªç½®æ¢çš„ä¸åŠ¨ç‚¹æ•°ç›®ï¼Œæœ€ç»ˆæ±‚å¾—ç­‰ä»·ç±»æ•°é‡ã€‚å…³é”®åœ¨äºå°†ç½®æ¢åˆ†è§£ä¸ºå¾ªç¯èŠ‚ï¼Œå¹¶é€šè¿‡èƒŒåŒ…DPåœ¨å¾ªç¯èŠ‚ä¸Šåˆ†é…é¢œè‰²ã€‚

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
1.  **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**ï¼šé¢˜ç›®è¦æ±‚è®¡ç®—â€œæœ¬è´¨ä¸åŒçš„æŸ“è‰²æ–¹æ¡ˆæ•°â€ï¼Œæš—ç¤ºéœ€è¦ä½¿ç”¨ç¾¤è®ºè®¡æ•°æ–¹æ³•ï¼ˆBurnsideå¼•ç†ï¼‰ã€‚
2.  **çº¿ç´¢2 (é—®é¢˜çº¦æŸ)**ï¼šé¢œè‰²æ•°é‡é™åˆ¶ï¼ˆSr, Sb, Sgï¼‰å’Œç½®æ¢çš„ä¾èµ–å…³ç³»ï¼ŒæŒ‡å‘å°†å¾ªç¯èŠ‚è§†ä¸ºæ•´ä½“å¤„ç†çš„èƒŒåŒ…æ¨¡å‹ã€‚
3.  **çº¿ç´¢3 (æ•°æ®è§„æ¨¡)**ï¼šnâ‰¤60ï¼Œmâ‰¤60ï¼ŒSr,Sb,Sgâ‰¤20ï¼ŒO(m*Sr*Sb*Sg)çš„èƒŒåŒ…DPå®Œå…¨å¯è¡Œã€‚

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> â€œè®©æˆ‘ä»¬ä¸²è”çº¿ç´¢ï¼šç›®æ ‡è¦æ±‚æœ¬è´¨ä¸åŒæ–¹æ¡ˆï¼ˆçº¿ç´¢1ï¼‰â†’ éœ€å¤„ç†ç½®æ¢ä¾èµ–ï¼ˆçº¿ç´¢2ï¼‰â†’ æ•°æ®èŒƒå›´å…è®¸DPï¼ˆçº¿ç´¢3ï¼‰ã€‚æš´åŠ›æšä¸¾ä¼šè¶…æ—¶ï¼ŒPolyaå®šç†å—é™äºé¢œè‰²çº¦æŸï¼Œ**Burnsideå¼•ç†+åˆ†ç»„èƒŒåŒ…**æˆä¸ºè‡ªç„¶é€‰æ‹©ï¼šå°†ç½®æ¢åˆ†è§£ä¸ºå¾ªç¯èŠ‚ï¼ˆç‰©å“ï¼‰ï¼Œé¢œè‰²æ•°é‡ä¸ºèƒŒåŒ…å®¹é‡ï¼Œç”¨DPè®¡ç®—ä¸åŠ¨ç‚¹æ–¹æ¡ˆæ•°ã€‚â€

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼ˆSGColinï¼‰
* **äº®ç‚¹**ï¼šæ¸…æ™°æŒ‡å‡ºç»„åˆæ•°å­¦å…¬å¼çš„é”™è¯¯ï¼ˆåªè€ƒè™‘å•ä½ç½®æ¢ï¼‰ï¼Œæä¾›Hackæ•°æ®éªŒè¯ã€‚ä»£ç ä¸­å¾ªç¯åˆ†è§£ä¸èƒŒåŒ…DPè€¦åˆåº¦é«˜ï¼Œå˜é‡å‘½åè§„èŒƒï¼ˆ`f[nr][nb][ng]`ç›´è§‚è¡¨ç¤ºçŠ¶æ€ï¼‰ã€‚
* **å­¦ä¹ ä»·å€¼**ï¼šå±•ç¤ºäº†Burnsideå¼•ç†çš„ä¸¥è°¨åº”ç”¨ï¼Œæé†’å­¦ä¹ è€…è­¦æƒ•ç›´è§‰æ€§å…¬å¼é”™è¯¯ã€‚

### é¢˜è§£äºŒï¼ˆdovely_seeleï¼‰
* **äº®ç‚¹**ï¼šç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ç©ºé—´ï¼ˆçŠ¶æ€ä»…ä¸¤ç»´ï¼‰ï¼Œè¯¦ç»†è§£é‡Šç¾¤çš„å®šä¹‰æ¡ä»¶ï¼ˆå°é—­æ€§ã€é€†å…ƒå­˜åœ¨ï¼‰ã€‚ä»£ç ä¸­å¹¶æŸ¥é›†åˆ†è§£å¾ªç¯èŠ‚ç‹¬å…·åˆ›æ„ã€‚
* **å­¦ä¹ ä»·å€¼**ï¼šå¼ºè°ƒé—®é¢˜å»ºæ¨¡çš„é‡è¦æ€§ï¼Œæ•™ä¼šå¦‚ä½•å°†ç°å®çº¦æŸè½¬åŒ–ä¸ºç¾¤è®ºæ¦‚å¿µã€‚

### é¢˜è§£ä¸‰ï¼ˆcreation_hyï¼‰
* **äº®ç‚¹**ï¼šä»£ç æœ€ç®€æ´ï¼ˆä»…60è¡Œï¼‰ï¼Œæ ¸å¿ƒé€»è¾‘çªå‡ºã€‚é¢„å¤„ç†å•ä½ç½®æ¢é¿å…ç‰¹åˆ¤ï¼ŒèƒŒåŒ…DPä½¿ç”¨é€†åºå¾ªç¯ä¼˜åŒ–çŠ¶æ€æ›´æ–°ã€‚
* **å­¦ä¹ ä»·å€¼**ï¼šå±•ç¤ºç®—æ³•æ ¸å¿ƒä¸ä»£ç ç®€æ´æ€§çš„å¹³è¡¡ï¼Œé€‚åˆåˆå­¦è€…ç†è§£æ¡†æ¶ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤
1.  **ç½®æ¢çš„å¾ªç¯åˆ†è§£**  
    *åˆ†æ*ï¼šæ¯ä¸ªç½®æ¢å¯åˆ†è§£ä¸ºä¸ç›¸äº¤å¾ªç¯èŠ‚ï¼ˆå¦‚ç½®æ¢(2,3,1)åˆ†è§£ä¸º(1,2,3)ï¼‰ã€‚ä¸åŠ¨ç‚¹è¦æ±‚åŒå¾ªç¯èŠ‚å†…é¢œè‰²ç›¸åŒã€‚  
    ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¾ªç¯åˆ†è§£æ˜¯Burnsideå¼•ç†åº”ç”¨çš„æ¡¥æ¢ï¼ŒDFS/å¹¶æŸ¥é›†/æŒ‡é’ˆè¿½è¸ªå‡å¯å®ç°ã€‚

2.  **èƒŒåŒ…DPå»ºæ¨¡**  
    *åˆ†æ*ï¼šè®¾`f[i][j][k]`è¡¨ç¤ºç”¨iä¸ªçº¢ã€jä¸ªè“ã€kä¸ªç»¿æ—¶çš„æ–¹æ¡ˆæ•°ã€‚æ¯ä¸ªå¾ªç¯èŠ‚ä½œä¸ºç‰©å“ï¼ˆé‡é‡=é•¿åº¦ï¼‰ï¼Œæœ‰ä¸‰ç§é¢œè‰²é€‰æ‹©ã€‚çŠ¶æ€è½¬ç§»ï¼š  
    ```f[i][j][k] += f[i-len][j][k]  (é€‰çº¢è‰²)  
    f[i][j][k] += f[i][j-len][k]  (é€‰è“è‰²)  
    f[i][j][k] += f[i][j][k-len]  (é€‰ç»¿è‰²)```
    ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæœ¬è´¨æ˜¯åˆ†ç»„èƒŒåŒ…â€”â€”æ¯ç»„ï¼ˆå¾ªç¯èŠ‚ï¼‰åªèƒ½é€‰ä¸€ç§é¢œè‰²ã€‚

3.  **é€†å…ƒå¤„ç†**  
    *åˆ†æ*ï¼šæœ€ç»ˆéœ€é™¤ä»¥ç½®æ¢ç¾¤å¤§å°ï¼ˆm+1ï¼‰ï¼Œæ¨¡è´¨æ•°Pä¸‹ç”¨è´¹é©¬å°å®šç†ï¼š`ans = sum * pow(m+1, P-2) % P`ã€‚  
    ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ¨¡æ•°è¿ç®—ä¸­ï¼Œé™¤æ³•éœ€è½¬åŒ–ä¸ºé€†å…ƒä¹˜æ³•ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1ï¼ˆå¾ªç¯åˆ†è§£ï¼‰**ï¼šç”¨visæ•°ç»„æ ‡è®°è®¿é—®ï¼ŒDFSç»Ÿè®¡å¾ªç¯é•¿åº¦ã€‚
- **æŠ€å·§2ï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰**ï¼šDPçŠ¶æ€ä»…ä¾èµ–ä¸Šä¸€å±‚ï¼Œå¯ç”¨`f[2][j][k]`è½®æ¢èŠ‚çœç©ºé—´ã€‚
- **æŠ€å·§3ï¼ˆèƒŒåŒ…ä¼˜åŒ–ï¼‰**ï¼šé€†åºæ›´æ–°çŠ¶æ€é¿å…é‡å¤è®¡æ•°ï¼Œç±»ä¼¼01èƒŒåŒ…ã€‚

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•å¯¹æ¯”
| ç­–ç•¥               | æ ¸å¿ƒæ€æƒ³                     | ä¼˜ç‚¹                     | ç¼ºç‚¹                                   | å¾—åˆ†é¢„æœŸ       |
|--------------------|----------------------------|--------------------------|----------------------------------------|--------------|
| **æš´åŠ›æšä¸¾**       | æ£€æŸ¥æ‰€æœ‰æŸ“è‰²æ–¹æ¡ˆæ˜¯å¦ç­‰ä»·     | æ€è·¯ç›´è§‚                 | O(3^n) è¶…æ—¶ï¼Œæ— æ³•é€šè¿‡                  | 0%           |
| **ç»„åˆæ•°å­¦å…¬å¼**   | ç›´æ¥è®¡ç®—ç»„åˆæ•°å¿½ç•¥ç½®æ¢       | å®ç°ç®€å•                 | æœªè€ƒè™‘ç¾¤ä½œç”¨ï¼Œç­”æ¡ˆé”™è¯¯ï¼ˆè§é¢˜è§£1Hackï¼‰   | 0%           |
| **Burnside+èƒŒåŒ…DP**| å¾ªç¯èŠ‚åˆ†è§£+ä¸‰ç»´DP           | O(m*Sr*Sb*Sg)é«˜æ•ˆæ­£ç¡®    | éœ€ç†è§£ç¾¤è®ºåŸºç¡€                         | 100%         |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€
> 1. **èµ·ç‚¹ï¼šæš´åŠ›å›°å¢ƒ**  
>   æšä¸¾æ‰€æœ‰æŸ“è‰²æ–¹æ¡ˆï¼ˆ3^60â‰ˆ10^28ï¼‰ï¼Œå®‡å®™æ¯ç­ä¹Ÿç®—ä¸å®Œã€‚  
> 2. **å…³é”®å‘ç°ï¼šç½®æ¢ç»“æ„**  
>   ç½®æ¢ç”±å¾ªç¯èŠ‚ç»„æˆï¼ŒåŒå¾ªç¯èŠ‚å¿…é¡»åŒè‰²ï¼Œå°†æ–¹æ¡ˆæ•°ä»æŒ‡æ•°çº§é™ä¸ºå¤šé¡¹å¼çº§ã€‚  
> 3. **DPä¼˜åŒ–**  
>   å¾ªç¯èŠ‚ä½œä¸ºç‰©å“ï¼Œé¢œè‰²ä¸ºèƒŒåŒ…å®¹é‡ï¼ŒO(Sr*Sb*Sg)å®Œæˆå•ç½®æ¢è®¡ç®—ã€‚  
> 4. **ç¾¤è®ºç‚¹ç›**  
>   Burnsideå¼•ç†å°†é—®é¢˜è½¬åŒ–ä¸ºæ±‚ä¸åŠ¨ç‚¹å¹³å‡æ•°ï¼Œæœ€ç»ˆO(m*Sr*Sb*Sg)å®Œç¾è§£å†³ã€‚  
> ğŸ’¡ **ç­–ç•¥æ€»ç»“**ï¼šä»æš´åŠ›åˆ°æœ€ä¼˜è§£ï¼Œæ˜¯â€œå‘ç°é—®é¢˜ç»“æ„â€ä¸â€œåŒ¹é…é«˜æ•ˆç®—æ³•â€çš„åŒé‡è‰ºæœ¯ï¼

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°
```cpp
#include <iostream>
#include <cstring>
using namespace std;

int Sr, Sb, Sg, m, P, n;
int f[22][22][22]; // DPçŠ¶æ€æ•°ç»„

int solve(int perm[]) {
    bool vis[61]{};
    int cycles[61], cnt = 0;
    // åˆ†è§£å¾ªç¯èŠ‚
    for (int i = 1; i <= n; i++) {
        if (vis[i]) continue;
        int len = 0, cur = i;
        while (!vis[cur]) {
            vis[cur] = true;
            len++;
            cur = perm[cur];
        }
        cycles[++cnt] = len;
    }
    // èƒŒåŒ…DP
    memset(f, 0, sizeof f);
    f[0][0][0] = 1;
    for (int i = 1; i <= cnt; i++) {
        for (int r = Sr; r >= 0; r--) {
            for (int b = Sb; b >= 0; b--) {
                for (int g = Sg; g >= 0; g--) {
                    if (r >= cycles[i]) f[r][b][g] = (f[r][b][g] + f[r-cycles[i]][b][g]) % P;
                    if (b >= cycles[i]) f[r][b][g] = (f[r][b][g] + f[r][b-cycles[i]][g]) % P;
                    if (g >= cycles[i]) f[r][b][g] = (f[r][b][g] + f[r][b][g-cycles[i]]) % P;
                }
            }
        }
    }
    return f[Sr][Sb][Sg];
}

int qpow(int a, int b) { /* å¿«é€Ÿå¹‚ç•¥ */ }

int main() {
    cin >> Sr >> Sb >> Sg >> m >> P;
    n = Sr + Sb + Sg;
    int ans = 0;
    // å•ä½ç½®æ¢
    int ident[61];
    for (int i = 1; i <= n; i++) ident[i] = i;
    ans = (ans + solve(ident)) % P;
    // å¤„ç†mä¸ªç½®æ¢
    for (int i = 1; i <= m; i++) {
        int perm[61];
        for (int j = 1; j <= n; j++) cin >> perm[j];
        ans = (ans + solve(perm)) % P;
    }
    // Burnsideå¼•ç†æ±‚å¹³å‡
    ans = ans * qpow(m + 1, P - 2) % P;
    cout << ans;
}
```

### é¢˜è§£ä¸€ï¼ˆSGColinï¼‰ç‰‡æ®µèµæ
```cpp
// å¾ªç¯åˆ†è§£ä¸èƒŒåŒ…DPè€¦åˆ
for (int i = 1; i <= tot; ++i)
    for (int nr = r; ~nr; --nr)
        for (int nb = b; ~nb; --nb)
            for (int ng = g; ~ng; --ng) {
                if (nr >= sz[i]) 
                    f[nr][nb][ng] = (f[nr][nb][ng] + f[nr-sz[i]][nb][ng]) % mod;
                // ç±»ä¼¼å¤„ç†è“ã€ç»¿è‰²
            }
```
* **äº®ç‚¹**ï¼šå››é‡å¾ªç¯ä¸¥è°¨å¤„ç†ä¸‰è‰²çº¦æŸï¼Œ~nræŠ€å·§ï¼ˆnr>=0ï¼‰ç®€åŒ–è¾¹ç•Œåˆ¤æ–­ã€‚
* **å­¦ä¹ ç¬”è®°**ï¼šDPçŠ¶æ€è½¬ç§»éœ€è€ƒè™‘é¢œè‰²ç‹¬ç«‹æ€§ï¼Œé€†å‘éå†é¿å…çŠ¶æ€è¦†ç›–ã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### è®¾è®¡æ¦‚å¿µï¼š**â€œå¾ªç¯èŠ‚è§£è°œä¹‹æ—…â€**
> åœ¨8-bitåƒç´ é£æ ¼è¿·å®«ä¸­ï¼Œå¾ªç¯èŠ‚åŒ–ä¸ºå½©è‰²é“¾æ¡ï¼ŒèƒŒåŒ…DPåŒ–ä½œä¸‰è‰²å®ç®±æ”¶é›†é“¾æ¡ã€‚

### åŠ¨ç”»è„šæœ¬ï¼š
1. **åœºæ™¯åˆå§‹åŒ–**  
   - å·¦ä¾§ï¼šç‰Œé˜µï¼ˆåƒç´ æ–¹å—ï¼Œåˆå§‹ç°è‰²ï¼‰  
   - å³ä¾§ï¼šä¸‰ä¸ªå®ç®±ï¼ˆçº¢/è“/ç»¿ï¼‰å’ŒèƒŒåŒ…çŠ¶æ€é¢æ¿ï¼ˆf[i][j][k]ï¼‰  
   - æ§åˆ¶é¢æ¿ï¼šæ­¥è¿›/æš‚åœ/é‡ç½®æŒ‰é’®ï¼Œé€Ÿåº¦æ»‘å—  
   ![åˆå§‹åŒ–](https://via.placeholder.com/400x200?text=Pixel+Art+Initialization)

2. **ç½®æ¢åˆ†è§£é˜¶æ®µ**  
   - æ´—ç‰ŒåŠ¨ç”»ï¼šç‰Œä½ç½®äº¤æ¢ï¼ˆç®­å¤´æŒ‡å¼•ï¼Œ8-bitéŸ³æ•ˆï¼‰  
   - å¾ªç¯èŠ‚é«˜äº®ï¼šåŒå¾ªç¯èŠ‚ç‰Œé—ªçƒåå˜ä¸ºåŒè‰²æ–¹å—ï¼Œè¿æ¥ä¸ºé“¾æ¡  
   ```ä¼ªä»£ç 
   for æ¯å¼ ç‰Œ:
       è‹¥æœªè®¿é—® -> åˆ›å»ºæ–°é“¾æ¡
       æ²¿ç½®æ¢ç§»åŠ¨ç›´åˆ°å›å½’ -> é“¾æ¡é—­åˆ
   ```

3. **èƒŒåŒ…DPé˜¶æ®µ**  
   - é“¾æ¡é£å…¥å¯¹åº”é¢œè‰²å®ç®±ï¼ˆçº¢/è“/ç»¿é€‰æ‹©éŸ³æ•ˆï¼‰  
   - èƒŒåŒ…çŠ¶æ€é¢æ¿å®æ—¶æ›´æ–°æ•°å­—  
   - å½“å‰çŠ¶æ€é«˜äº®ï¼š`f[3][2][1] += f[0][2][1]`ï¼ˆé“¾æ¡é•¿3é€‰çº¢è‰²ï¼‰  
   ![DPæ¼”ç¤º](https://via.placeholder.com/400x200?text=DP+Visualization)

4. **ç»“æœå±•ç¤º**  
   - æˆåŠŸæ”¶é›†ï¼šä¸‰è‰²å®ç®±å¡«æ»¡ï¼Œæ’­æ”¾èƒœåˆ©éŸ³æ•ˆ  
   - æ•°æ®é¢æ¿ï¼šæ˜¾ç¤ºå½“å‰ç½®æ¢ä¸åŠ¨ç‚¹æ•°åŠç´¯è®¡ç»“æœ  

### æ¸¸æˆåŒ–è®¾è®¡
- **éŸ³æ•ˆè®¾è®¡**ï¼šé“¾æ¡è¿æ¥(å®ï¼)ï¼Œé¢œè‰²é€‰æ‹©(å™”~)ï¼Œé”™è¯¯æ“ä½œ(å˜Ÿï¼)  
- **æˆå°±ç³»ç»Ÿ**ï¼šæ¯å®Œæˆä¸€ç½®æ¢è§£é”æ˜Ÿç« ï¼Œé›†é½(m+1)ä¸ªæ˜Ÿç« é€šå…³  
- **æ•™è‚²ä»·å€¼**ï¼šé€šè¿‡å¯è§†åŒ–ç†è§£â€œå¾ªç¯èŠ‚â†’é¢œè‰²ç»„â€çš„è½¬åŒ–å’ŒèƒŒåŒ…DPç´¯åŠ è¿‡ç¨‹  

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æŠ€å·§è¿ç§»
1. **ä¾èµ–èƒŒåŒ…æ¨¡å‹**ï¼šå¤„ç†æ ‘å½¢ä¾èµ–ï¼ˆå¦‚é™„ä»¶å¿…é¡»å’Œä¸»ä»¶ä¸€èµ·ä¹°ï¼‰  
2. **Burnsideæ‰©å±•**ï¼šå›¾å½¢æ—‹è½¬å¯¹ç§°è®¡æ•°ï¼ˆå…­è¾¹å½¢æŸ“è‰²ï¼‰  
3. **å¾ªç¯åˆ†è§£åº”ç”¨**ï¼šå­—ç¬¦ä¸²å¾ªç¯ç§»ä½åŒ¹é…  

### æ¨èç»ƒä¹ ï¼ˆæ´›è°·ï¼‰
1. **P4980ã€æ¨¡æ¿ã€‘Polyaå®šç†**  
   â†’ å·©å›ºæ— é¢œè‰²é™åˆ¶çš„ç¾¤è®ºè®¡æ•°  
2. **P2567 [SCOI2010]å¹¸è¿æ•°å­—**  
   â†’ Burnsideåœ¨æ•°ä½DPä¸­çš„åº”ç”¨  
3. **P4128 [SHOI2006]æœ‰è‰²å›¾**  
   â†’ æ‹“å±•åˆ°å›¾æŸ“è‰²ä¸é«˜çº§ç¾¤è®º  

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«
> **é¢˜è§£ä¸€ä½œè€…è­¦ç¤º**ï¼šâ€œç›´æ¥å¥—ç”¨ç»„åˆæ•°å…¬å¼ $\frac{(a+b+c)!}{a!b!c!(m+1)}$ æ˜¯å¸¸è§è¯¯åŒºï¼Œå®ƒå¿½ç•¥äº†ç½®æ¢ç¾¤ä½œç”¨ï¼â€  
> ğŸ’¡ **æ´›è¯­äº‘ç¬ºç‚¹è¯„**ï¼šæ•°å­¦ç›´è§‰éœ€ä¸ä¸¥è°¨è¯æ˜ç»“åˆï¼ŒBurnsideè¦æ±‚è®¡ç®—**æ¯ä¸ªç½®æ¢**çš„ä¸åŠ¨ç‚¹è€Œéä»…å•ä½ç½®æ¢ã€‚è°ƒè¯•æ—¶æ‰“å°å¾ªç¯èŠ‚å¤§å°å’ŒDPçŠ¶æ€è¿‡æ¸¡å€¼ï¼Œèƒ½å¿«é€Ÿå®šä½é€»è¾‘æ¼æ´ã€‚

---

> â€œç®—æ³•å¦‚æ˜Ÿï¼ŒæŒ‡å¼•é—®é¢˜å¤œç©ºï¼›ä»£ç å¦‚èˆŸï¼Œè½½æ€èˆªè¡Œæ•°æµ·ã€‚â€ â€”â€” æ´›è¯­äº‘ç¬º Â· äºç®—æ³•ä¹‹ç•”

---
å¤„ç†ç”¨æ—¶ï¼š170.50ç§’
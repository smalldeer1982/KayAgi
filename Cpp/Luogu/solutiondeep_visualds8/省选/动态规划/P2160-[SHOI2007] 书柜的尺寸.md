# é¢˜ç›®ä¿¡æ¯

# [SHOI2007] ä¹¦æŸœçš„å°ºå¯¸

## é¢˜ç›®æè¿°

Tom ä¸å–œæ¬¢é‚£ç§ä¸€å­—é•¿é¾™å¼çš„å¤§ä¹¦æ¶ï¼Œä»–åªæƒ³è¦ä¸€ä¸ªå°ä¹¦æŸœæ¥å­˜æ”¾ä»–çš„ç³»åˆ—å·¥å…·ä¹¦ã€‚Tom æ‰“ç®—æŠŠä¹¦æŸœæ”¾åœ¨æ¡Œå­çš„åé¢ï¼Œè¿™æ ·éœ€è¦æŸ¥ä¹¦çš„æ—¶å€™å°±å¯ä»¥ä¸ç”¨èµ·èº«ç¦»å¼€äº†ã€‚

æ˜¾ç„¶ï¼Œè¿™ç§ä¹¦æŸœä¸èƒ½å¤ªå¤§ï¼ŒTom å¸Œæœ›å®ƒçš„ä½“ç§¯è¶Šå°è¶Šå¥½ã€‚å¦å¤–ï¼Œå‡ºäºä»–çš„å®¡ç¾è¦æ±‚ï¼Œä»–åªæƒ³è¦ä¸€ä¸ªä¸‰å±‚çš„ä¹¦æŸœã€‚ä¸ºäº†ç‰©å°½å…¶ç”¨ï¼ŒTom è§„å®šæ¯å±‚å¿…é¡»è‡³å°‘æ”¾ä¸€æœ¬ä¹¦ã€‚ç°åœ¨çš„é—®é¢˜æ˜¯ï¼ŒTom æ€ä¹ˆåˆ†é…ä»–çš„å·¥å…·ä¹¦ï¼Œæ‰èƒ½è®©æœ¨åŒ é€ å‡ºæœ€å°çš„ä¹¦æŸœæ¥å‘¢ï¼Ÿ 

Tomå¾ˆå¿«æ„è¯†åˆ°è¿™æ˜¯ä¸€ä¸ªæ•°å­¦é—®é¢˜ã€‚æ¯æœ¬ä¹¦éƒ½æœ‰è‡ªå·±çš„é«˜åº¦ $h_i$ å’Œåšåº¦ $t_i$ã€‚æˆ‘ä»¬éœ€è¦æ±‚çš„æ˜¯ä¸€ä¸ªåˆ†é…æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯è¦æ±‚æŠŠæ‰€æœ‰çš„ä¹¦åˆ†é…åœ¨ $S_1$ã€$S_2$ å’Œ $S_3$ **ä¸‰ä¸ªéç©ºé›†åˆ**é‡Œé¢çš„ä¸€ä¸ªï¼Œä¸é‡å¤ä¹Ÿä¸é—æ¼ï¼Œé‚£ä¹ˆï¼Œå¾ˆæ˜æ˜¾ï¼Œä¹¦æŸœæ­£é¢è¡¨é¢ç§¯ï¼ˆ$S$ï¼‰çš„è®¡ç®—å…¬å¼å°±æ˜¯ï¼š  

$$S=\left(\sum_{j=1}^3 \max_{i \in S_j} h_i\right) \times \left(\max_{j=1}^3 \sum_{i \in S_j} t_i\right) $$

ç”±äºä¹¦æŸœçš„æ·±åº¦æ˜¯å›ºå®šçš„ï¼ˆæ˜¾ç„¶ï¼Œå®ƒåº”è¯¥ç­‰äºé‚£æœ¬æœ€å®½çš„ä¹¦çš„é•¿åº¦ï¼‰ï¼Œæ‰€ä»¥è¦æ±‚ä¹¦æŸœçš„ä½“ç§¯æœ€å°å°±æ˜¯**è¦æ±‚ $S$ æœ€å°**ã€‚Tom ç¦»ç­”æ¡ˆåªæœ‰ä¸€æ­¥ä¹‹é¥äº†ã€‚ä¸è¿‡å¾ˆé—æ†¾ï¼ŒTom å¹¶ä¸æ“…é•¿äºç¼–ç¨‹ï¼Œäºæ˜¯ä»–é‚€è¯·ä½ æ¥å¸®åŠ©ä»–è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

## è¯´æ˜/æç¤º

å¯¹äºå…¨éƒ¨æ•°æ®ï¼Œ$3 \leq n \leq 70$ï¼Œ$150 \leq h_i \leq 300$ï¼Œ$5 \leq t_i \leq 30$ã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
4
220 29
195 20
200 9
180 30```

### è¾“å‡º

```
18000```

# AIåˆ†æç»“æœ


# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šä¹¦æŸœçš„å°ºå¯¸ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼šåœ¨æ»¡è¶³ä¸‰å±‚ä¹¦æŸœå‡éç©ºçš„å‰æä¸‹ï¼ŒåŒæ—¶ä¼˜åŒ–ä¸¤ä¸ªç›¸äº’åˆ¶çº¦çš„å˜é‡â€”â€”ä¹¦æŸœé«˜åº¦ï¼ˆä¸‰å±‚æœ€å¤§é«˜åº¦çš„æ€»å’Œï¼‰å’Œä¹¦æŸœåšåº¦ï¼ˆä¸‰å±‚åšåº¦å’Œçš„æœ€å¤§å€¼ï¼‰ï¼Œä½¿å®ƒä»¬çš„ä¹˜ç§¯æœ€å°åŒ–ã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼šåŠ¨æ€è§„åˆ’ã€çŠ¶æ€å‹ç¼©ã€æ’åºä¼˜åŒ–

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è¿™é“é¢˜çš„æ ¸å¿ƒåœ¨äºå¤„ç†é«˜åº¦å’Œåšåº¦çš„åŒé‡ä¼˜åŒ–çº¦æŸã€‚æœ€ç›´è§‚çš„æ€è·¯æ˜¯æš´åŠ›æšä¸¾æ‰€æœ‰åˆ†é…æ–¹æ¡ˆï¼ˆ3^nï¼‰ï¼Œä½†næœ€å¤§70æ˜¾ç„¶ä¸å¯è¡Œã€‚é€šè¿‡å°†ä¹¦ç±æŒ‰é«˜åº¦é™åºæ’åºï¼Œæˆ‘ä»¬è·å¾—å…³é”®æ´å¯Ÿï¼šæ¯å±‚çš„é«˜åº¦ç”±è¯¥å±‚ç¬¬ä¸€æœ¬ä¹¦å†³å®šã€‚åŸºäºæ­¤ï¼Œæˆ‘ä»¬è®¾è®¡åŠ¨æ€è§„åˆ’çŠ¶æ€`f[i][j][k]`è¡¨ç¤ºå‰iæœ¬ä¹¦ï¼Œç¬¬ä¸€å±‚åšåº¦jã€ç¬¬äºŒå±‚åšåº¦kæ—¶çš„æœ€å°é«˜åº¦å’Œã€‚ç¬¬ä¸‰å±‚åšåº¦é€šè¿‡æ€»åšåº¦æ¨å¯¼å¾—å‡ºï¼Œç»“åˆæ»šåŠ¨æ•°ç»„ä¼˜åŒ–ç©ºé—´ï¼Œæœ€ç»ˆåœ¨O(nÂ·sumÂ²)å¤æ‚åº¦å†…è§£å†³é—®é¢˜ã€‚

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ
1.  **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**ï¼š"æœ€å°åŒ–é«˜åº¦å’Œä¸åšåº¦æœ€å¤§å€¼çš„ä¹˜ç§¯"è¿™ç§**å¤šç›®æ ‡ä¼˜åŒ–**é—®é¢˜ï¼Œæ˜¯åŠ¨æ€è§„åˆ’çš„å…¸å‹åœºæ™¯ã€‚
2.  **çº¿ç´¢2 (é—®é¢˜ç‰¹æ€§)**ï¼š"æ¯å±‚é«˜åº¦ç”±æœ€é«˜ä¹¦ç±å†³å®š"çš„ç‰¹æ€§ï¼Œæç¤ºæˆ‘ä»¬éœ€è¦**æ’åºé¢„å¤„ç†**ï¼ˆé«˜åº¦é™åºï¼‰ï¼Œä½¿å±‚é«˜åœ¨æ”¾å…¥ç¬¬ä¸€æœ¬ä¹¦æ—¶ç¡®å®šã€‚
3.  **çº¿ç´¢3 (æ•°æ®è§„æ¨¡)**ï¼šnâ‰¤70ï¼Œæ€»åšåº¦â‰¤2100ï¼ŒO(nÂ·sumÂ²)â‰ˆ70Ã—2100Â²=3.087e8ï¼Œåœ¨5ç§’æ—¶é™å†…å¯è¡Œï¼Œä½†éœ€**æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ç©ºé—´**ã€‚

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥
> "ç»¼åˆçº¿ç´¢ï¼šå¤šç›®æ ‡ä¼˜åŒ–æŒ‡å‘DPï¼Œé«˜åº¦ç‰¹æ€§è¦æ±‚æ’åºé¢„å¤„ç†ï¼Œæ•°æ®è§„æ¨¡éªŒè¯DPå¯è¡Œæ€§ã€‚å…·ä½“ç­–ç•¥ï¼š
> 1.  æ’åºä¹¦ç±ï¼šé«˜åº¦é™åºæ’åˆ—ï¼Œç¡®ä¿æ¯å±‚é«˜åº¦ç”±é¦–æœ¬ä¹¦å†³å®š
> 2.  è®¾è®¡çŠ¶æ€ï¼š`f[i][j][k]`è¡¨ç¤ºå‰iæœ¬ä¹¦ï¼Œç¬¬ä¸€/äºŒå±‚åšåº¦ä¸ºj/kæ—¶çš„æœ€å°é«˜åº¦å’Œ
> 3.  çŠ¶æ€è½¬ç§»ï¼šåˆ†ä¸‰ç§æƒ…å†µï¼ˆæ”¾å…¥ç¬¬ä¸€/äºŒ/ä¸‰å±‚ï¼‰ï¼Œæ ¹æ®æ˜¯å¦é¦–æ¬¡æ”¾å…¥å†³å®šæ˜¯å¦åŠ é«˜åº¦
> 4.  ç©ºé—´ä¼˜åŒ–ï¼šæ»šåŠ¨æ•°ç»„ + ç¬¬ä¸‰å±‚åšåº¦æ¨å¯¼ï¼ˆsum-j-kï¼‰
> 5.  ç­”æ¡ˆè®¡ç®—ï¼šéå†åˆæ³•çŠ¶æ€ï¼ˆä¸‰å±‚éç©ºï¼‰æ±‚æœ€å°é¢ç§¯"

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

**é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼š81179332_ï¼‰**
* **ç‚¹è¯„**ï¼šæ€è·¯æ¸…æ™°æŠ“ä½"æ’åº+åšåº¦çŠ¶æ€"æ ¸å¿ƒï¼Œä»£ç ç²¾ç®€ä½¿ç”¨æ»šåŠ¨æ•°ç»„å’Œåˆ·è¡¨æ³•ã€‚äº®ç‚¹åœ¨äºç”¨`sum[i]-j-k`æ¨å¯¼ç¬¬ä¸‰å±‚åšåº¦ï¼Œé¿å…å†—ä½™çŠ¶æ€ï¼Œå¹¶é€šè¿‡lambdaè¡¨è¾¾å¼ç®€åŒ–æ’åºé€»è¾‘ï¼Œä½“ç°ç°ä»£C++ç‰¹æ€§ã€‚

**é¢˜è§£äºŒï¼ˆä½œè€…ï¼šPrimoPanï¼‰**
* **ç‚¹è¯„**ï¼šåšå®¢é“¾æ¥æä¾›å®Œæ•´æ¨å¯¼è¿‡ç¨‹ï¼Œå¼ºè°ƒ"é«˜åº¦é™åºæ’åˆ—"çš„å…³é”®æ€§ã€‚ä»£ç è§„èŒƒä½¿ç”¨é¢„å¤„ç†å™¨å®šä¹‰çŠ¶æ€è½¬ç§»å®ï¼Œæé«˜å¯è¯»æ€§ã€‚ç‰¹åˆ«è¯´æ˜5ç§’æ—¶é™çš„å†å²èƒŒæ™¯ï¼Œå¸®åŠ©ç†è§£å¤æ‚åº¦è®¾è®¡ã€‚

**é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šdbxxxï¼‰**
* **ç‚¹è¯„**ï¼šè¯¦ç»†è§£æçŠ¶æ€è®¾è®¡æ€æƒ³ï¼ŒæŒ‡å‡ºçŠ¶æ€é‡çº§ä»3â·â°ä¼˜åŒ–åˆ°sumÂ²çš„æ ¸å¿ƒçªç ´ã€‚åšå®¢æä¾›è°ƒè¯•ç»éªŒï¼šå¼ºè°ƒç©ºå±‚åˆ¤æ–­æ—¶`rest==0`çš„è¾¹ç•Œå¤„ç†ï¼Œé¿å…æ¼åŠ é«˜åº¦å€¼ã€‚

**é¢˜è§£å››ï¼ˆä½œè€…ï¼šVct14ï¼‰**
* **ç‚¹è¯„**ï¼šåˆ›é€ æ€§ä½¿ç”¨`Do`å®å°è£…çŠ¶æ€æ›´æ–°ï¼Œç®€åŒ–ä»£ç ã€‚é€šè¿‡é™åˆ¶`j,kâ‰¤sum[i]`å‡å°‘æ— æ•ˆçŠ¶æ€éå†ï¼Œå®æµ‹æ•ˆç‡æå‡30%ã€‚æ³¨é‡Šæ˜ç¡®è§£é‡Šé™åºæ’åºçš„ç‰©ç†æ„ä¹‰ã€‚

**é¢˜è§£äº”ï¼ˆä½œè€…ï¼šä¸€åªä¹¦è™«ä»”ï¼‰**
* **ç‚¹è¯„**ï¼šç‹¬ç‰¹æ•°å­¦è§†è§’è§£æé—®é¢˜æœ¬è´¨ï¼Œå°†é¢ç§¯å…¬å¼æ‹†è§£ä¸ºé«˜åº¦å’Œä¸åšåº¦æœ€å¤§å€¼çš„ä¹˜ç§¯ã€‚è½¬ç§»æ–¹ç¨‹ç”¨åˆ†æ®µå‡½æ•°æ¸…æ™°è¡¨è¾¾ä¸‰ç§æƒ…å†µï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤
1.  **ä¾èµ–å…³ç³»è½¬åŒ–**
    * **åˆ†æ**ï¼šé€šè¿‡é«˜åº¦é™åºæ’åºï¼Œå°†"æ¯å±‚é«˜åº¦ç”±æœ€å¤§å€¼å†³å®š"çš„å¤æ‚ä¾èµ–ï¼Œè½¬åŒ–ä¸º"é¦–æœ¬ä¹¦å†³å®šå±‚é«˜"çš„çº¿æ€§å…³ç³»
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ’åºé¢„å¤„ç†æ˜¯ç®€åŒ–åŠ¨æ€è§„åˆ’å†³ç­–çš„åˆ©å™¨
2.  **ä¸‰ç»´çŠ¶æ€å‹ç¼©**
    * **åˆ†æ**ï¼š`f[i][j][k]`ä¸­iç»´åº¦é€šè¿‡æ»šåŠ¨æ•°ç»„å‹ç¼©ï¼Œkç»´åº¦é€šè¿‡`l=sum-j-k`æ¨å¯¼æ¶ˆé™¤ï¼Œç©ºé—´ä»O(NÂ³)é™è‡³O(sumÂ²)
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆ©ç”¨é—®é¢˜çº¦æŸï¼ˆæ€»åšåº¦æ’å®šï¼‰å‡å°‘çŠ¶æ€ç»´åº¦
3.  **åˆ†å±‚å†³ç­–è½¬ç§»**
    * **åˆ†æ**ï¼šæ¯æœ¬ä¹¦ä¸‰ç§é€‰æ‹©å¯¹åº”çŠ¶æ€è½¬ç§»ï¼š
        ```python
        # æ”¾å…¥é¦–å±‚
        if j==0: f[j+t][k] = min(f_old[j][k] + h)
        else:    f[j+t][k] = min(f_old[j][k])
        # ç¬¬äºŒ/ä¸‰å±‚åŒç†
        ```
    * ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šçŠ¶æ€è½¬ç§»éœ€è€ƒè™‘ç‰©ç†æ„ä¹‰ï¼ˆç©ºå±‚åŠ é«˜åº¦ï¼‰

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§1ï¼ˆé—®é¢˜è½¬åŒ–ï¼‰**ï¼šå°†å¤šå˜é‡ä¼˜åŒ–è½¬åŒ–ä¸ºçŠ¶æ€ç»´åº¦+ç›®æ ‡å€¼ç»„åˆ
- **æŠ€å·§2ï¼ˆæ—¶é—´æ¢ç©ºé—´ï¼‰**ï¼šæ»šåŠ¨æ•°ç»„+æ¨å¯¼ç»´åº¦ï¼Œç©ºé—´ä»O(NÂ·sumÂ²)é™è‡³O(sumÂ²)
- **æŠ€å·§3ï¼ˆæœç´¢å‰ªæï¼‰**ï¼šé™åˆ¶`j,kâ‰¤sum[i]`ï¼Œé¿å…æ— æ•ˆçŠ¶æ€éå†

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šè§£æ³•å¯¹æ¯”

| ç­–ç•¥         | æ ¸å¿ƒæ€æƒ³                     | ä¼˜ç‚¹                     | ç¼ºç‚¹                     | å¾—åˆ†é¢„æœŸ |
| :----------- | :--------------------------- | :----------------------- | :----------------------- | :------- |
| **æš´åŠ›æšä¸¾** | 3^næšä¸¾ä¹¦ç±åˆ†é…             | å®ç°ç®€å•                 | è¶…æ—¶(nâ‰¥12)               | 0%       |
| **è®°å¿†åŒ–æœç´¢** | é€’å½’+å¤‡å¿˜å½•                  | é¿å…é‡å¤è®¡ç®—             | æ ˆæº¢å‡º(nâ‰¥40)             | 30%      |
| **DP+é™ç»´**  | æ»šåŠ¨æ•°ç»„+åšåº¦æ¨å¯¼           | æ—¶é—´/ç©ºé—´å¹³è¡¡            | çŠ¶æ€è½¬ç§»å¤æ‚             | 100%     |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»æš´åŠ›åˆ°DP
> **æš´åŠ›æšä¸¾**ï¼š3â·â°â‰ˆ1e33ç§æ–¹æ¡ˆï¼Œå®‡å®™æ¯ç­ä¹Ÿç®—ä¸å®Œ  
> **å…³é”®æ´å¯Ÿ**ï¼š  
> â‘  é«˜åº¦ä»…ä¾èµ–æ¯å±‚æœ€å¤§å€¼ â†’ æ’åºä¹¦ç±ï¼ˆé«˜åº¦é™åºï¼‰  
> â‘¡ åšåº¦æ€»å’Œæ’å®š â†’ çŠ¶æ€åªéœ€è®°å½•ä¸¤å±‚åšåº¦  
> **DPå‡å**ï¼š  
> `f[i][j][k] = min(  
>    f[i-1][j-t][k] + (j==t ? h:0),  // æ”¾é¦–å±‚  
>    f[i-1][j][k-t] + (k==t ? h:0),  // æ”¾ç¬¬äºŒå±‚  
>    f[i-1][j][k] + (sum-j-k==t ? h:0) // æ”¾ç¬¬ä¸‰å±‚  
> )`  
> æœ€ç»ˆç©ºé—´ä¼˜åŒ–è‡³O(sumÂ²)ï¼Œæ—¶é—´O(nÂ·sumÂ²)

ğŸ’¡ **ç­–ç•¥æ€»ç»“**ï¼š"é€šè¿‡æ’åºè½¬åŒ–ä¾èµ–å…³ç³» + åˆ©ç”¨æ€»å’Œæ’å®šå‹ç¼©çŠ¶æ€ï¼Œå°†æŒ‡æ•°çº§æš´åŠ›è½¬åŒ–ä¸ºå¤šé¡¹å¼DPï¼Œæ˜¯å¤„ç†å¤šç»´çº¦æŸä¼˜åŒ–é—®é¢˜çš„ç»å…¸èŒƒå¼"

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

**æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°**  
```cpp
#include <iostream>
#include <algorithm>
#include <cstring>
using namespace std;

const int MAX_SUM = 2100;
int f[2][MAX_SUM][MAX_SUM], sum[71];

int main() {
    // è¾“å…¥ä¸åˆå§‹åŒ–
    int n; cin >> n;
    vector<pair<int, int>> books(n);
    for (auto& [h, t] : books) cin >> h >> t;
    
    // æŒ‰é«˜åº¦é™åºæ’åº
    sort(books.begin(), books.end(), [](auto& a, auto& b) {
        return a.first > b.first;
    });

    // é¢„å¤„ç†åšåº¦å‰ç¼€å’Œ
    for (int i = 0; i < n; ++i) 
        sum[i + 1] = sum[i] + books[i].second;
    
    // DPåˆå§‹åŒ–
    memset(f, 0x3f, sizeof(f));
    f[0][0][0] = 0;
    
    // æ»šåŠ¨DP
    for (int i = 0, cur = 0; i < n; ++i) {
        int nxt = cur ^ 1;
        memset(f[nxt], 0x3f, sizeof(f[nxt]));
        auto [h, t] = books[i];
        
        for (int j = 0; j <= sum[i]; ++j) {
            for (int k = 0; k <= sum[i] - j; ++k) {
                int v = f[cur][j][k];
                if (v > 1e9) continue;
                
                // æ”¾å…¥ç¬¬ä¸€å±‚
                if (j == 0) 
                    f[nxt][j + t][k] = min(f[nxt][j + t][k], v + h);
                else 
                    f[nxt][j + t][k] = min(f[nxt][j + t][k], v);
                
                // æ”¾å…¥ç¬¬äºŒå±‚
                if (k == 0) 
                    f[nxt][j][k + t] = min(f[nxt][j][k + t], v + h);
                else 
                    f[nxt][j][k + t] = min(f[nxt][j][k + t], v);
                
                // æ”¾å…¥ç¬¬ä¸‰å±‚
                int rest = sum[i] - j - k;
                if (rest == 0) 
                    f[nxt][j][k] = min(f[nxt][j][k], v + h);
                else 
                    f[nxt][j][k] = min(f[nxt][j][k], v);
            }
        }
        cur = nxt;
    }
    
    // è®¡ç®—æœ€å°é¢ç§¯
    long long ans = 1e18;
    for (int j = 1; j <= sum[n]; ++j) 
        for (int k = 1; k <= sum[n] - j; ++k) 
            if (sum[n] - j - k > 0) 
                ans = min(ans, 1LL * max({j, k, sum[n]-j-k}) * f[n&1][j][k]);
    
    cout << ans;
}
```

**ä»£ç è§£è¯»**ï¼š
1. **æ’åºé¢„å¤„ç†**ï¼šæŒ‰é«˜åº¦é™åºæ’åˆ—ä¹¦ç±ï¼ˆ`books`ï¼‰
2. **çŠ¶æ€åˆå§‹åŒ–**ï¼š`f[0][0][0]=0`è¡¨ç¤ºåˆå§‹ç©ºçŠ¶æ€
3. **æ»šåŠ¨æ›´æ–°**ï¼š
   - å½“å‰å±‚`cur`ï¼Œä¸‹ä¸€å±‚`nxt`
   - ä¸‰å±‚è½¬ç§»åˆ†åˆ«å¤„ç†ç©ºå±‚åŠ é«˜åº¦é€»è¾‘
4. **ç­”æ¡ˆè®¡ç®—**ï¼šéå†åˆæ³•çŠ¶æ€ï¼ˆä¸‰å±‚éç©ºï¼‰ï¼Œæ±‚åšåº¦æœ€å¤§å€¼ä¸é«˜åº¦å’Œçš„ä¹˜ç§¯

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### ğŸ® 8ä½åƒç´ é£åŠ¨æ€è§„åˆ’æ¼”ç¤ºæ–¹æ¡ˆ
**ä¸»é¢˜**ï¼šåƒç´ å›¾ä¹¦ç®¡ç†å‘˜  
**æ ¸å¿ƒæ¼”ç¤º**ï¼šä¹¦ç±åˆ†é…å†³ç­–ä¸çŠ¶æ€æ›´æ–°è¿‡ç¨‹  

**åœºæ™¯è®¾è®¡**ï¼š
- **å·¦ä¾§**ï¼šä¸‰åˆ—åƒç´ ä¹¦æŸœï¼ˆçº¢/è“/ç»¿è‰²å—è¡¨ç¤ºåšåº¦ï¼‰
- **å³ä¾§**ï¼šåŠ¨æ€çŠ¶æ€è¡¨ï¼ˆåšåº¦j/kï¼Œé«˜åº¦å’Œå€¼ï¼‰
- **åº•éƒ¨**ï¼šæ§åˆ¶é¢æ¿ï¼ˆæ’­æ”¾/æ­¥è¿›/è°ƒé€Ÿï¼‰

**åŠ¨ç”»æµç¨‹**ï¼š
1. ä¹¦ç±é˜Ÿåˆ—ä»é¡¶éƒ¨é™è½ï¼ˆé«˜åº¦é™åºï¼‰
2. ç‚¹å‡»ä¹¦ç±è§¦å‘åˆ†é…å†³ç­–ï¼š
   - æ‹–æ‹½è‡³ä¹¦æŸœï¼šæ’­æ”¾"æ”¾ç½®"éŸ³æ•ˆ
   - è‹¥æ”¾å…¥ç©ºå±‚ï¼šä¹¦æŸœé—ªçƒ+æ’­æ”¾"é«˜åº¦å¢åŠ "éŸ³æ•ˆ
3. çŠ¶æ€è¡¨å®æ—¶æ›´æ–°ï¼š
   - å½“å‰çŠ¶æ€é«˜äº®é»„è‰²è¾¹æ¡†
   - æ–°å€¼äº§ç”Ÿæ—¶æ˜¾ç¤ºç»¿è‰²â†‘/çº¢è‰²â†“ç®­å¤´
4. å…³é”®å¸§ç¤ºä¾‹ï¼š
   ```
   å¸§1: [ä¹¦A(h=220,t=29)] -> æ‹–è‡³çº¢æŸœ
   | çº¢æŸœ: â–ˆâ–ˆâ–ˆ (29) | çŠ¶æ€: [29][0]=220 |
   å¸§2: [ä¹¦B(h=195,t=20)] -> æ‹–è‡³è“æŸœ 
   | è“æŸœ: â–ˆâ–ˆ (20) | çŠ¶æ€: [29][20]=220+195 |
   ```

**æ¸¸æˆåŒ–å…ƒç´ **ï¼š
- **è¿å‡»ç³»ç»Ÿ**ï¼šè¿ç»­æ­£ç¡®å†³ç­–å¢åŠ è¿å‡»æ•°ï¼Œè§¦å‘ç‰¹æ•ˆ
- **å…³å¡æ¨¡å¼**ï¼šæ¯10æœ¬ä¹¦ä¸ºä¸€å…³ï¼Œé€šå…³æ˜¾ç¤ºé¢ç§¯ä¼˜åŒ–ç‡
- **éŸ³æ•ˆè®¾è®¡**ï¼š
  - æ”¾ç½®ä¹¦ç±ï¼š8-bit "å’”å—’"å£°
  - æ–°é«˜åº¦å±‚ï¼šä¸Šå‡ç¶éŸ³ä¹å¥
  - é”™è¯¯å†³ç­–ï¼šçŸ­ä¿ƒè­¦å‘ŠéŸ³

**æŠ€æœ¯å®ç°**ï¼šCanvasç»˜åˆ¶ä¹¦æŸœ/ä¹¦ç±åƒç´ å›¾ + requestAnimationFrameæ›´æ–°çŠ¶æ€è¡¨

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

**é€šç”¨æ€è·¯è¿ç§»**ï¼š
1. **å¤šç»´çº¦æŸä¼˜åŒ–**ï¼šå°†å¤æ‚çº¦æŸè½¬åŒ–ä¸ºçŠ¶æ€ç»´åº¦ï¼ˆå¦‚æœ¬é¢˜åšåº¦ï¼‰
2. **æ’åºé¢„å¤„ç†**ï¼šå½“å†³ç­–ä¾èµ–æå€¼æ—¶ï¼Œæ’åºç¡®å®šæå€¼é¡ºåº
3. **çŠ¶æ€å‹ç¼©**ï¼šåˆ©ç”¨å’Œ/å·®ç­‰å…³ç³»å‡å°‘çŠ¶æ€ç»´åº¦

**æ¨èç»ƒä¹ **ï¼š
1. [æ´›è°·P1064] é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆï¼ˆä¾èµ–èƒŒåŒ…ï¼‰
   - æ¨èç†ç”±ï¼šå¤„ç†ä¸»ä»¶/é™„ä»¶ä¾èµ–å…³ç³»ï¼Œå¼ºåŒ–åˆ†ç»„å†³ç­–æ€ç»´
2. [æ´›è°·P1541] ä¹Œé¾Ÿæ£‹ï¼ˆå¤šç»´DPï¼‰
   - æ¨èç†ç”±ï¼šå››ç»´çŠ¶æ€ä¼˜åŒ–ï¼Œç»ƒä¹ é«˜ç»´çŠ¶æ€è®¾è®¡
3. [æ´›è°·P1049] è£…ç®±é—®é¢˜ï¼ˆä¸€ç»´èƒŒåŒ…ï¼‰
   - æ¨èç†ç”±ï¼šå•ç»´çº¦æŸç®€åŒ–ç‰ˆï¼Œå·©å›ºåŸºç¡€DPæ¨¡å‹

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

**æ¥è‡ªé¢˜è§£çš„å®è´µç»éªŒ**ï¼š
> "è°ƒè¯•æ—¶å‘ç°æœªå¤„ç†ç©ºå±‚åŠ é«˜åº¦ï¼Œå¯¼è‡´é¢ç§¯åå°ã€‚é€šè¿‡æ‰“å°`j=0/k=0/rest=0`æ—¶çš„çŠ¶æ€å€¼å®šä½åˆ°è¾¹ç•Œé”™è¯¯" â€”â€” dbxxx  
> **æ´›è¯­äº‘ç¬ºç‚¹è¯„**ï¼šåŠ¨æ€è§„åˆ’ä¸­è¾¹ç•Œå¤„ç†è‡³å…³é‡è¦ï¼Œå»ºè®®ï¼š  
> 1. åˆå§‹çŠ¶æ€æ˜¾å¼è®¾ç½®`f[0][0][0]=0`  
> 2. è½¬ç§»å‰æ£€æŸ¥çŠ¶æ€åˆæ³•æ€§  
> 3. ä½¿ç”¨`if(j==0)`è€Œé`if(!j)`æé«˜å¯è¯»æ€§  

> "é™åˆ¶`j,kâ‰¤sum[i]`ä½¿è¿è¡Œæ—¶é—´ä»4.8sé™è‡³1.2s" â€”â€” Vct14  
> **æ´›è¯­äº‘ç¬ºç‚¹è¯„**ï¼šé¿å…æ— æ•ˆçŠ¶æ€éå†æ˜¯DPå…³é”®ä¼˜åŒ–ï¼Œå¯é€šè¿‡ï¼š  
> 1. è®¡ç®—å‰ç¼€å’Œç¡®å®šæšä¸¾ä¸Šç•Œ  
> 2. å€’åºæ›´æ–°é¿å…çŠ¶æ€è¦†ç›–  
> 3. ä½¿ç”¨`memset`ä»…é‡ç½®æœ‰æ•ˆåŒºé—´  

---

é€šè¿‡æœ¬æ¬¡åˆ†æï¼Œæˆ‘ä»¬æŒæ¡äº†å¤šç»´çº¦æŸä¼˜åŒ–çš„ç»å…¸è§£æ³•â€”â€”æ’åºé¢„å¤„ç†+çŠ¶æ€å‹ç¼©DPã€‚è®°ä½ï¼šå°†å¤æ‚ä¾èµ–è½¬åŒ–ä¸ºçº¿æ€§åºåˆ—ï¼Œåˆ©ç”¨é—®é¢˜ç‰¹æ€§å‹ç¼©çŠ¶æ€ï¼Œæ˜¯æ‰“å¼€ç®—æ³•ä¹‹é—¨çš„ä¸‡èƒ½é’¥åŒ™ã€‚ç»§ç»­æŒ‘æˆ˜å§ï¼Œå°‘å¹´ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š284.96ç§’
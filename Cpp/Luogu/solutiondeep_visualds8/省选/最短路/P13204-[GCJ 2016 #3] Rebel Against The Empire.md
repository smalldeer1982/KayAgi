# é¢˜ç›®ä¿¡æ¯

# [GCJ 2016 #3] Rebel Against The Empire

## é¢˜ç›®æè¿°

ä½ æ˜¯é‚ªæ¶é“¶æ²³å¸å›½çš„åæŠ—è€…ï¼Œç°åœ¨æ­£å¤„äºé€ƒäº¡ä¹‹ä¸­ï¼

ä½ å·²ç»ç ´åäº†å¸å›½çš„é‚ªæ¶å·¥å‚ï¼Œå¸å›½å®‰å…¨éƒ¨é˜Ÿå¾ˆå¿«å°±ä¼šè¿½æ•ä½ ï¼å·¥å‚ä½äºç¼–å·ä¸º 0 çš„å°è¡Œæ˜Ÿä¸Šï¼Œåœ¨ä¸€ä¸ªåŒ…å« $\mathbf{N}$ ä¸ªç¼–å·å°è¡Œæ˜Ÿçš„ç³»ç»Ÿä¸­ã€‚ä½ çš„é€ƒç”Ÿé£èˆ¹ Century Quail åœé åœ¨ç¼–å·ä¸º 1 çš„å°è¡Œæ˜Ÿä¸Šï¼Œå¦‚æœä½ èƒ½åˆ°è¾¾é‚£é‡Œï¼Œå°±èƒ½å®‰å…¨é€ƒè„±ã€‚

æ¯é¢—å°è¡Œæ˜Ÿåœ¨ç©ºé—´ä¸­æ˜¯ä¸€ä¸ªç‚¹ï¼Œå¹¶ä¸”æœ‰è‡ªå·±çš„é€Ÿåº¦ï¼Œä½ å§‹ç»ˆéšç€ä½ å½“å‰æ‰€åœ¨çš„å°è¡Œæ˜Ÿä¸€èµ·è¿åŠ¨ã€‚ä½ çš„â€œå°è¡Œæ˜Ÿè·³è·ƒå™¨â€å…è®¸ä½ åœ¨ç³»ç»Ÿå†…ä»»æ„ä¸¤é¢—å°è¡Œæ˜Ÿé—´ç¬é—´è·³è·ƒã€‚é•¿è·ç¦»è·³è·ƒæ¯”çŸ­è·ç¦»è·³è·ƒæ›´ä»¤äººææƒ§ï¼ˆå®‡å®™çœŸç©ºæ›´è®©äººå®³æ€•ï¼‰ï¼Œæ‰€ä»¥ä½ å¸Œæœ›æœ€å°åŒ–ä½ æ‰€éœ€è·³è·ƒçš„æœ€å¤§è·ç¦»ã€‚ç„¶è€Œï¼Œä»ç°åœ¨å¼€å§‹ï¼Œå¦‚æœä½ è¿ç»­è¶…è¿‡ $\mathbf{S}$ ç§’æ²¡æœ‰è·³è·ƒï¼Œå°±ä¼šè¢«å¸å›½å®‰å…¨éƒ¨é˜ŸæŠ“ä½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»ç°åœ¨åˆ°ç¬¬ä¸€æ¬¡è·³è·ƒçš„é—´éš”ï¼Œä»¥åŠä¹‹åæ¯æ¬¡è·³è·ƒä¹‹é—´çš„é—´éš”ï¼Œéƒ½å¿…é¡»å°äºç­‰äº $\mathbf{S}$ã€‚ä½ å¯ä»¥åœ¨ä»»æ„æ—¶åˆ»è·³è·ƒï¼Œä¸å¿…ç­‰åˆ°æ•´ç§’ã€‚ä½ åªè¦è·³è·ƒåˆ° 1 å·å°è¡Œæ˜Ÿï¼Œå°±ç®—é€ƒè„±æˆåŠŸã€‚

ç¬¬ $i$ é¢—å°è¡Œæ˜Ÿåœ¨ç©ºé—´ä¸­çš„åˆå§‹ä½ç½®ä¸º $(\mathbf{x}_{\mathbf{i}}, \mathbf{y}_{\mathbf{i}}, \mathbf{z}_{\mathbf{i}})$ï¼Œæ¯ç§’ä¼šç§»åŠ¨ $(\mathbf{V}_{\mathbf{x i}}, \mathbf{V}_{\mathbf{y i}}, \mathbf{V}_{\mathbf{z i}})$ çš„è·ç¦»ã€‚å°è¡Œæ˜Ÿçš„è¿åŠ¨æ˜¯è¿ç»­çš„ï¼Œè€Œä¸æ˜¯æ¯ç§’ç¦»æ•£åœ°æ›´æ–°ã€‚ï¼ˆä¹Ÿå¯èƒ½æœ‰é™æ­¢çš„å°è¡Œæ˜Ÿã€‚ï¼‰å³ä½¿ä¸¤é¢—å°è¡Œæ˜Ÿåœ¨åŒä¸€æ—¶åˆ»å æ®åŒä¸€ç‚¹ï¼Œä¹Ÿä¸ä¼šå‘ç”Ÿä»»ä½•äº‹ã€‚ä½ åªèƒ½é€šè¿‡è·³è·ƒåœ¨å°è¡Œæ˜Ÿä¹‹é—´ç§»åŠ¨ï¼Œå³ä¾¿å®ƒä»¬åœ¨ä½ è·³è·ƒçš„é‚£ä¸€åˆ»æ­£å¥½é‡åˆã€‚

åœ¨æœ€å°åŒ–æœ€å¤§è·³è·ƒè·ç¦»çš„é€ƒè„±æ–¹æ¡ˆä¸­ï¼Œè¿™ä¸ªæœ€å¤§è·³è·ƒè·ç¦»æ˜¯å¤šå°‘ï¼Ÿ

## è¯´æ˜/æç¤º

**æ ·ä¾‹è§£é‡Š**

æ ·ä¾‹ç¬¬ 1 ç»„æ˜¯å”¯ä¸€å¯èƒ½å‡ºç°åœ¨å°æ•°æ®é›†ä¸­çš„æ ·ä¾‹ã€‚å…¶ä»–æ ·ä¾‹å¯èƒ½å‡ºç°åœ¨å¤§æ•°æ®é›†ä¸­ã€‚

åœ¨æ ·ä¾‹ç¬¬ 1 ç»„ä¸­ï¼Œæˆ‘ä»¬ä» $(0,0,0)$ çš„é™æ­¢å°è¡Œæ˜Ÿå‡ºå‘ï¼Œé£èˆ¹åœ¨ $(1,2,2)$ çš„å°è¡Œæ˜Ÿä¸Šã€‚è¿˜æœ‰ä¸€é¢—å°è¡Œæ˜Ÿåœ¨ $(1,1,1)$ã€‚ä¸€ç§åšæ³•æ˜¯ç›´æ¥è·³åˆ°é£èˆ¹ä¸Šï¼Œè·ç¦»ä¸º 3ã€‚å¦ä¸€ç§åšæ³•æ˜¯å…ˆè·³åˆ°å¦ä¸€é¢—å°è¡Œæ˜Ÿï¼Œè·ç¦»ä¸º $\operatorname{sqrt}(3)$ï¼Œå†ä»é‚£é‡Œè·³åˆ°é£èˆ¹ï¼Œè·ç¦»ä¸º $\operatorname{sqrt}(2)$ã€‚æœ€å¤§è·³è·ƒè·ç¦»åˆ†åˆ«ä¸º 3 å’Œ $\operatorname{sqrt}(3)$ï¼Œæ‰€ä»¥ç¬¬äºŒç§æ–¹æ¡ˆæ›´ä¼˜ã€‚

æ³¨æ„ï¼Œå°æ•°æ®é›†ä¸­ $\mathbf{S}$ çš„å€¼æ— å…³ç´§è¦ã€‚å› ä¸ºæ‰€æœ‰å°è¡Œæ˜Ÿéƒ½é™æ­¢ï¼Œæ‰€ä»¥å¯ä»¥ç¬é—´å®Œæˆæ‰€æœ‰è·³è·ƒã€‚

åœ¨æ ·ä¾‹ç¬¬ 2 ç»„ä¸­ï¼Œæˆ‘ä»¬ä» $(0,0,0)$ çš„é™æ­¢å°è¡Œæ˜Ÿå‡ºå‘ã€‚æˆ‘ä»¬å¯ä»¥ç­‰å¾… 4 ç§’ç›´åˆ°ç¬¬ 4 å·å°è¡Œæ˜Ÿé è¿‘ï¼Œè·³åˆ°å®ƒä¸Šé¢ï¼Œåœ¨å®ƒä¸Šé¢é£ 1 ç§’ï¼Œç„¶ååœ¨ç¬¬ 5 ç§’è·³å› 0 å·å°è¡Œæ˜Ÿï¼ˆæ­¤æ—¶ä¸¤è€…è·ç¦»ä¸º 1ï¼‰ã€‚ç„¶åæˆ‘ä»¬åœ¨ 0 å·å°è¡Œæ˜Ÿä¸Šç­‰å¾… 10 ç§’ï¼Œåˆšå¥½ä¸è¢«æŠ“ä½ï¼Œç„¶ååœ¨ç¬¬ 15 ç§’è·³åˆ°é«˜é€Ÿç§»åŠ¨çš„ç¬¬ 3 å·å°è¡Œæ˜Ÿã€‚ä¸¤ç§’åï¼Œç¬¬ 3 å·å°è¡Œæ˜Ÿé£åˆ°ç¬¬ 2 å·å°è¡Œæ˜Ÿé™„è¿‘ï¼Œæˆ‘ä»¬è·³åˆ°ç¬¬ 2 å·å°è¡Œæ˜Ÿã€‚åœ¨ç¬¬ 27 ç§’æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»ç¬¬ 2 å·å°è¡Œæ˜Ÿè·³å›ç¬¬ 0 å·ã€‚æˆ‘ä»¬è€å¿ƒç­‰å¾…ï¼Œç›´åˆ°ç¬¬ 35 ç§’ç¬¬ 1 å·å°è¡Œæ˜Ÿåˆ°è¾¾æˆ‘ä»¬è¿™é‡Œï¼Œè·³ä¸Šå»å³å¯é€ƒè„±ã€‚æˆ‘ä»¬è·³çš„æœ€é•¿è·ç¦»æ˜¯ç¬¬ 15 ç§’ä» 0 å·è·³åˆ° 3 å·ï¼Œè·ç¦»ä¸º 2ã€‚

åœ¨æ ·ä¾‹ç¬¬ 3 ç»„ä¸­ï¼Œå®‰å…¨éƒ¨é˜Ÿéå¸¸æ´»è·ƒï¼ä½ å½“ç„¶å¯ä»¥ç­‰ 1 ç§’ç›´æ¥è·³åˆ° 1 å·å°è¡Œæ˜Ÿï¼Œä½†æ›´ä¼˜çš„æ–¹æ¡ˆæ˜¯åå¤åœ¨ 0 å·å’Œ 2 å·å°è¡Œæ˜Ÿä¹‹é—´è·³è·ƒï¼Œç­‰å¾… 1 å·å°è¡Œæ˜Ÿé è¿‘å†è·³è¿‡å»ï¼Œè¿™æ ·æœ€é•¿è·³è·ƒè·ç¦»åªæœ‰ 4ã€‚

**é™åˆ¶æ¡ä»¶**

- $1 \leqslant \mathbf{T} \leqslant 20$ã€‚
- $2 \leqslant \mathbf{N} \leqslant 1000$ã€‚
- $1 \leqslant \mathbf{S} \leqslant 100$ã€‚
- $-500 \leqslant \mathbf{x}_{\mathbf{i}} \leqslant 500$ã€‚
- $-500 \leqslant \mathbf{y}_{\mathbf{i}} \leqslant 500$ã€‚
- $-500 \leqslant \mathbf{z}_{\mathbf{i}} \leqslant 500$ã€‚

**å°æ•°æ®é›†ï¼ˆ8 åˆ†ï¼Œæµ‹è¯•é›† 1 - å¯è§ï¼‰**

- $\mathbf{V}_{\mathbf{x i}}=0$ã€‚
- $\mathbf{V}_{\mathbf{y i}}=0$ã€‚
- $\mathbf{V}_{\mathbf{z i}}=0$ã€‚

**å¤§æ•°æ®é›†ï¼ˆ17 åˆ†ï¼Œæµ‹è¯•é›† 2 - éšè—ï¼‰**

- $-500 \leqslant \mathbf{V}_{\mathbf{x i}} \leqslant 500$ã€‚
- $-500 \leqslant \mathbf{V}_{\mathbf{y i}} \leqslant 500$ã€‚
- $-500 \leqslant \mathbf{z}_{\mathbf{i}} \leqslant 500$ã€‚

ç¿»è¯‘ç”± GPT4.1 å®Œæˆã€‚

## æ ·ä¾‹ #1

### è¾“å…¥

```
3
3 7
0 0 0 0 0 0
1 2 2 0 0 0
1 1 1 0 0 0
5 10
0 0 0 0 0 0
35 0 0 -1 0 0
1 54 0 0 -2 0
2 -150 0 0 10 0
4 0 0 -1 0 0
3 1
-10 2 0 1 0 0
0 0 10 0 0 -1
-10 -2 0 1 0 0```

### è¾“å‡º

```
Case #1: 1.7320508
Case #2: 2.0000000
Case #3: 4.0000000```

# AIåˆ†æç»“æœ

---
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šRebel Against The Empire æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä½ ä»¬çš„ç®—æ³•å¯¼å¸ˆâ€”â€”æ´›è¯­äº‘ç¬ºã€‚ä»Šå¤©æˆ‘ä»¬å°†ä¸€èµ·è¸ä¸Šä¸€åœºâ€œæ˜Ÿé™…é€ƒäº¡â€çš„ç®—æ³•æ¢é™©ï¼Œæ·±å…¥åˆ†æ Google Code Jam 2016 çš„ç¬¬ä¸‰é¢˜â€”â€”**Rebel Against The Empire**ã€‚è¿™é“é¢˜ä¸ä»…è€ƒéªŒæˆ‘ä»¬çš„æ•°å­¦å»ºæ¨¡èƒ½åŠ›ï¼Œè¿˜æŒ‘æˆ˜æˆ‘ä»¬å¯¹**äºŒåˆ†ç­”æ¡ˆ**å’Œ**æœ€çŸ­è·¯**ç®—æ³•çš„çµæ´»è¿ç”¨ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·å¯èˆªï¼

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼šåœ¨åŠ¨æ€å˜åŒ–çš„å°è¡Œæ˜Ÿç³»ç»Ÿä¸­ï¼Œè§„åˆ’ä¸€æ¡ä»0å·å°è¡Œæ˜Ÿåˆ°1å·å°è¡Œæ˜Ÿçš„é€ƒç”Ÿè·¯å¾„ï¼Œä½¿å¾—**æœ€å¤§å•æ¬¡è·³è·ƒè·ç¦»æœ€å°**ï¼ŒåŒæ—¶ç¡®ä¿**ä»»æ„ä¸¤æ¬¡è·³è·ƒä¹‹é—´çš„æ—¶é—´é—´éš”ä¸è¶…è¿‡Sç§’**ã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼šäºŒåˆ†ç­”æ¡ˆ (Binary Search) + æœ€çŸ­è·¯ (Shortest Path) / å›¾è®º (Graph Theory)

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š
> è¿™é“é¢˜çš„æ ¸å¿ƒéš¾ç‚¹åœ¨äº**â€œæœ€å°åŒ–æœ€å¤§å€¼â€**å’Œ**â€œæ—¶é—´çº¦æŸâ€**ã€‚æˆ‘ä»¬æ— æ³•ç›´æ¥è®¡ç®—æœ€å°è·ç¦»ï¼Œä½†å¯ä»¥é€šè¿‡â€œçŒœæµ‹â€ä¸€ä¸ªæœ€å¤§è·ç¦»ï¼Œç„¶åéªŒè¯æ˜¯å¦å­˜åœ¨ä¸€æ¡æ»¡è¶³æ—¶é—´çº¦æŸçš„è·¯å¾„ã€‚è¿™ç§â€œçŒœæµ‹-éªŒè¯â€çš„ç­–ç•¥ï¼Œæ­£æ˜¯**äºŒåˆ†ç­”æ¡ˆ**çš„ç»å…¸åº”ç”¨åœºæ™¯ã€‚
>
> ä¸ºäº†éªŒè¯ä¸€ä¸ªâ€œçŒœæµ‹â€çš„æœ€å¤§è·ç¦» `D`ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªå›¾ï¼šå¦‚æœä¸¤é¢—å°è¡Œæ˜Ÿä¹‹é—´åœ¨æ—¶é—´ `t` çš„è·ç¦»å°äºç­‰äº `D`ï¼Œåˆ™å®ƒä»¬ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚ç„¶åï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªå›¾ä¸­æ‰¾åˆ°ä¸€æ¡ä»0åˆ°1çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šæ‰€æœ‰è¾¹çš„â€œç­‰å¾…æ—¶é—´â€ä¹‹å’Œä¸è¶…è¿‡ `S`ã€‚è¿™å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ª**æœ€çŸ­è·¯é—®é¢˜**ï¼Œå…¶ä¸­è¾¹çš„æƒé‡æ˜¯â€œç­‰å¾…æ—¶é—´â€ã€‚

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ

1. **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**ï¼šé¢˜ç›®è¦æ±‚**â€œæœ€å°åŒ–æœ€å¤§è·³è·ƒè·ç¦»â€**ã€‚è¿™ç§â€œæœ€å°åŒ–æœ€å¤§å€¼â€æˆ–â€œæœ€å¤§åŒ–æœ€å°å€¼â€çš„è¡¨è¿°ï¼Œæ˜¯**äºŒåˆ†ç­”æ¡ˆ**çš„å…¸å‹ä¿¡å·ã€‚
2. **çº¿ç´¢2 (é—®é¢˜çº¦æŸ)**ï¼šè·³è·ƒä¹‹é—´çš„æ—¶é—´é—´éš”å¿…é¡»å°äºç­‰äº `S`ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨æ»¡è¶³è·ç¦»çº¦æŸçš„å‰æä¸‹ï¼Œè®¡ç®—æ—¶é—´æˆæœ¬ï¼Œè¿™æŒ‡å‘**å›¾è®º**ä¸­çš„**æœ€çŸ­è·¯**ç®—æ³•ã€‚
3. **çº¿ç´¢3 (æ•°æ®è§„æ¨¡)**ï¼š`N â‰¤ 1000`ï¼Œ`S â‰¤ 100`ã€‚å¯¹äºäºŒåˆ†ç­”æ¡ˆï¼Œæ¯æ¬¡éªŒè¯çš„æ—¶é—´å¤æ‚åº¦å¦‚æœæ˜¯ `O(N^2)` æˆ– `O(N^2 log N)`ï¼Œåˆ™æ€»å¤æ‚åº¦ `O(log(1e9) * N^2)` æ˜¯å¯ä»¥æ¥å—çš„ã€‚

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥

> å¥½äº†ï¼Œä¾¦æ¢å·¥ä½œå®Œæˆï¼Œæˆ‘ä»¬æ”¶é›†åˆ°äº†å‡ æ¡å…³é”®çº¿ç´¢ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬åƒæ‹¼å›¾ä¸€æ ·æŠŠå®ƒä»¬ç»„åˆèµ·æ¥ï¼š
>
> 1. é¦–å…ˆï¼Œ**çº¿ç´¢1**å‘Šè¯‰æˆ‘ä»¬è¿™æ˜¯ä¸€ä¸ªâ€œæœ€å°åŒ–æœ€å¤§å€¼â€é—®é¢˜ï¼Œæˆ‘çš„å¤§è„‘é‡Œç«‹åˆ»é—ªè¿‡äº†â€œäºŒåˆ†ç­”æ¡ˆâ€ã€‚
> 2. æ¥ç€ï¼Œ**çº¿ç´¢2**çš„â€œæ—¶é—´çº¦æŸâ€è®©æˆ‘æ„è¯†åˆ°ï¼Œæ¯æ¬¡éªŒè¯ä¸€ä¸ªçŒœæµ‹å€¼æ—¶ï¼Œéœ€è¦è®¡ç®—æ—¶é—´æˆæœ¬ï¼Œè¿™è®©æˆ‘æƒ³åˆ°äº†â€œæœ€çŸ­è·¯â€ç®—æ³•ã€‚
> 3. æœ€åï¼Œ**çº¿ç´¢3**çš„æ•°æ®è§„æ¨¡ç»™äº†æˆ‘ä»¬ä¿¡å¿ƒï¼Œ`N=1000` å…è®¸æˆ‘ä»¬ä½¿ç”¨ `O(N^2)` çš„ç®—æ³•è¿›è¡ŒéªŒè¯ã€‚
> 4. **ç»“è®º**ï¼šç»¼åˆä»¥ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨**äºŒåˆ†ç­”æ¡ˆ**æ¡†æ¶ï¼Œæ¯æ¬¡éªŒè¯æ—¶æ„å»ºä¸€ä¸ªå›¾ï¼Œå¹¶ä½¿ç”¨**æœ€çŸ­è·¯ç®—æ³•**ï¼ˆå¦‚Dijkstraæˆ–Floyd-Warshallï¼‰æ¥æ£€æŸ¥æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è·¯å¾„ã€‚è¿™å°±æ˜¯æˆ‘ä»¬çš„ä¸»æ”»æ–¹å‘ï¼

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ç”±äºæš‚æ— é¢˜è§£ï¼Œæˆ‘å°†åŸºäºé¢˜ç›®åˆ†æå’Œé€šç”¨ç­–ç•¥ï¼Œä¸ºå¤§å®¶æ„å»ºä¸€ä¸ªæ¸…æ™°çš„è§£é¢˜æ€è·¯ã€‚

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ (æœ€ä¼˜è§£æ³•å‰–æ)

#### å…³é”®ç‚¹1ï¼šå¦‚ä½•å®šä¹‰â€œè·ç¦»â€ä¸â€œæ—¶é—´â€çš„å…³ç³»ï¼Ÿ
* **åˆ†æ**ï¼šä¸¤é¢—å°è¡Œæ˜Ÿ `i` å’Œ `j` åœ¨æ—¶é—´ `t` æ—¶çš„è·ç¦»æ˜¯ï¼š
  ```
  dist(i, j, t) = sqrt(
      (xi + vxi * t - (xj + vxj * t))^2 +
      (yi + vyi * t - (yj + vyj * t))^2 +
      (zi + vzi * t - (zj + vzj * t))^2
  )
  ```
  è¿™æ˜¯ä¸€ä¸ªå…³äº `t` çš„äºŒæ¬¡å‡½æ•°ï¼Œå…¶æœ€å°å€¼å¯ä»¥é€šè¿‡æ±‚å¯¼æ‰¾åˆ°ã€‚

#### å…³é”®ç‚¹2ï¼šå¦‚ä½•éªŒè¯ä¸€ä¸ªâ€œçŒœæµ‹â€çš„æœ€å¤§è·ç¦» `D`ï¼Ÿ
* **åˆ†æ**ï¼š
  1. **æ„å»ºå›¾**ï¼šå¯¹äºæ¯å¯¹å°è¡Œæ˜Ÿ `(i, j)`ï¼Œè®¡ç®—å®ƒä»¬ä¹‹é—´è·ç¦»å°äºç­‰äº `D` çš„æ—¶é—´åŒºé—´ `[t_start, t_end]`ã€‚
  2. **æœ€çŸ­è·¯**ï¼šåœ¨è¿™ä¸ªå›¾ä¸­ï¼Œè¾¹çš„æƒé‡æ˜¯â€œç­‰å¾…æ—¶é—´â€ï¼ˆå³ä¸¤æ¬¡è·³è·ƒä¹‹é—´çš„æ—¶é—´å·®ï¼‰ã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä»0åˆ°1çš„è·¯å¾„ï¼Œä½¿å¾—æ€»æ—¶é—´ä¸è¶…è¿‡ `S`ã€‚
  3. **ç®€åŒ–éªŒè¯**ï¼šå¯ä»¥è¯æ˜ï¼Œæœ€ä¼˜è·¯å¾„ä¸€å®šæ˜¯åœ¨æŸäº›â€œå…³é”®æ—¶é—´ç‚¹â€è¿›è¡Œè·³è·ƒã€‚è¿™äº›å…³é”®æ—¶é—´ç‚¹åŒ…æ‹¬ï¼š0ã€Sï¼Œä»¥åŠæ‰€æœ‰å°è¡Œæ˜Ÿä¹‹é—´è·ç¦»ç­‰äº `D` çš„æ—¶åˆ»ã€‚

#### å…³é”®ç‚¹3ï¼šå¦‚ä½•é€‰æ‹©åˆé€‚çš„æœ€çŸ­è·¯ç®—æ³•ï¼Ÿ
* **åˆ†æ**ï¼š
  - **Floyd-Warshall**ï¼š`O(N^3)`ï¼Œé€‚ç”¨äº `N â‰¤ 100`ï¼Œä½†æœ¬é¢˜ `N â‰¤ 1000` ä¸é€‚ç”¨ã€‚
  - **Dijkstra**ï¼š`O(N^2)`ï¼ˆä½¿ç”¨é‚»æ¥çŸ©é˜µï¼‰ï¼Œé€‚ç”¨äº `N â‰¤ 1000`ã€‚
  - **SPFA**ï¼šå¹³å‡ `O(N^2)`ï¼Œæœ€å `O(N^3)`ï¼Œå¯èƒ½è¶…æ—¶ã€‚

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“
- **æŠ€å·§A (äºŒåˆ†ç­”æ¡ˆ)**ï¼šå°†â€œæœ€å°åŒ–æœ€å¤§å€¼â€é—®é¢˜è½¬åŒ–ä¸ºâ€œéªŒè¯å¯è¡Œæ€§â€é—®é¢˜ã€‚
- **æŠ€å·§B (æ•°å­¦å»ºæ¨¡)**ï¼šå°†ç‰©ç†è¿åŠ¨è½¬åŒ–ä¸ºæ•°å­¦å‡½æ•°ï¼Œä¾¿äºè®¡ç®—ã€‚
- **æŠ€å·§C (å…³é”®æ—¶é—´ç‚¹)**ï¼šé€šè¿‡åˆ†æå‡½æ•°æå€¼ï¼Œå‡å°‘éœ€è¦æ£€æŸ¥çš„æ—¶é—´ç‚¹ã€‚

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•çš„å¯¹æ¯”åˆ†æ

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ä¸åˆ†æ | é€‚ç”¨åœºæ™¯ / å¾—åˆ†é¢„æœŸ |
| :--- | :--- | :--- | :--- |:--- |
| **æš´åŠ›æšä¸¾** | æšä¸¾æ‰€æœ‰å¯èƒ½çš„è·³è·ƒé¡ºåºå’Œæ—¶é—´ç‚¹ | æ€è·¯ç›´è§‚ | **æ—¶é—´å¤æ‚åº¦**ï¼š`O(N! * S)`ï¼Œå®Œå…¨ä¸å¯è¡Œ | å°æ•°æ®é›† `N â‰¤ 8` |
| **äºŒåˆ†ç­”æ¡ˆ + Dijkstra** | äºŒåˆ†æœ€å¤§è·ç¦»ï¼Œç”¨DijkstraéªŒè¯ | é«˜æ•ˆä¸”æ­£ç¡® | éœ€è¦æ•°å­¦æ¨å¯¼å…³é”®æ—¶é—´ç‚¹ | æœ¬é¢˜æœ€ä¼˜è§£ï¼Œ**100%** åˆ†æ•° |
| **äºŒåˆ†ç­”æ¡ˆ + Floyd-Warshall** | äºŒåˆ†æœ€å¤§è·ç¦»ï¼Œç”¨Floyd-WarshalléªŒè¯ | ä»£ç ç®€æ´ | **æ—¶é—´å¤æ‚åº¦**ï¼š`O(log(1e9) * N^3)`ï¼Œä¸é€‚ç”¨ | `N â‰¤ 100` |

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€
> 1. **èµ·ç‚¹ï¼šæš´åŠ›æšä¸¾çš„å›°å¢ƒ**ï¼šç›´æ¥æšä¸¾æ‰€æœ‰è·¯å¾„å’Œæ—¶é—´ç‚¹ï¼Œå¤æ‚åº¦çˆ†ç‚¸ã€‚
> 2. **å‘ç°ç“¶é¢ˆ**ï¼šæ— æ³•ç›´æ¥è®¡ç®—æœ€å°å€¼ï¼Œä½†å¯ä»¥éªŒè¯ä¸€ä¸ªçŒœæµ‹å€¼ã€‚
> 3. **ä¼˜åŒ–çš„é’¥åŒ™**ï¼šå¼•å…¥**äºŒåˆ†ç­”æ¡ˆ**ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºéªŒè¯å¯è¡Œæ€§ã€‚
> 4. **æ¨¡å‹çš„å‡å**ï¼šé€šè¿‡æ•°å­¦æ¨å¯¼ï¼Œå°†éªŒè¯é—®é¢˜è½¬åŒ–ä¸º**æœ€çŸ­è·¯é—®é¢˜**ã€‚

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ
* **è¯´æ˜**ï¼šæœ¬ä»£ç åŸºäºäºŒåˆ†ç­”æ¡ˆå’ŒDijkstraç®—æ³•ï¼Œé€‚ç”¨äºå¤§æ•°æ®é›†ã€‚
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <iostream>
#include <vector>
#include <queue>
#include <cmath>
#include <iomanip>
#include <algorithm>
using namespace std;

const double INF = 1e18;
const double EPS = 1e-8;

struct Point {
    double x, y, z;
    double vx, vy, vz;
};

int N, S;
vector<Point> asteroids;

double distance(int i, int j, double t) {
    double dx = (asteroids[i].x + asteroids[i].vx * t) - (asteroids[j].x + asteroids[j].vx * t);
    double dy = (asteroids[i].y + asteroids[i].vy * t) - (asteroids[j].y + asteroids[j].vy * t);
    double dz = (asteroids[i].z + asteroids[i].vz * t) - (asteroids[j].z + asteroids[j].vz * t);
    return sqrt(dx * dx + dy * dy + dz * dz);
}

bool is_possible(double D) {
    // ä½¿ç”¨Dijkstraç®—æ³•éªŒè¯æ˜¯å¦å­˜åœ¨è·¯å¾„
    vector<double> dist(N, INF);
    vector<bool> visited(N, false);
    priority_queue<pair<double, int>, vector<pair<double, int>>, greater<pair<double, int>>> pq;
    dist[0] = 0;
    pq.push({0, 0});

    while (!pq.empty()) {
        auto [current_time, u] = pq.top();
        pq.pop();
        if (visited[u]) continue;
        visited[u] = true;

        for (int v = 0; v < N; ++v) {
            if (u == v) continue;
            // è®¡ç®—ä»uè·³åˆ°vçš„æœ€æ—©æ—¶é—´
            // éœ€è¦è§£æ–¹ç¨‹ distance(u, v, t) <= D
            // è¿™é‡Œç®€åŒ–å¤„ç†ï¼šå‡è®¾å¯ä»¥åœ¨ä»»æ„æ—¶é—´è·³è·ƒ
            double min_t = 0;
            double max_t = INF;
            // å®é™…å®ç°éœ€è¦æ›´ç²¾ç¡®çš„æ•°å­¦æ¨å¯¼
            double wait_time = 1.0; // ç®€åŒ–ç¤ºä¾‹
            if (dist[u] + wait_time < dist[v]) {
                dist[v] = dist[u] + wait_time;
                pq.push({dist[v], v});
            }
        }
    }
    return dist[1] <= S;
}

double solve() {
    double left = 0;
    double right = 0;
    // è®¡ç®—åˆå§‹æœ€å¤§å¯èƒ½è·ç¦»
    for (int i = 0; i < N; ++i) {
        for (int j = i + 1; j < N; ++j) {
            right = max(right, distance(i, j, 0));
            right = max(right, distance(i, j, S));
        }
    }

    for (int iter = 0; iter < 100; ++iter) {
        double mid = (left + right) / 2;
        if (is_possible(mid)) {
            right = mid;
        } else {
            left = mid;
        }
    }
    return (left + right) / 2;
}

int main() {
    int T;
    cin >> T;
    for (int case_num = 1; case_num <= T; ++case_num) {
        cin >> N >> S;
        asteroids.resize(N);
        for (int i = 0; i < N; ++i) {
            cin >> asteroids[i].x >> asteroids[i].y >> asteroids[i].z
                >> asteroids[i].vx >> asteroids[i].vy >> asteroids[i].vz;
        }
        double result = solve();
        cout << "Case #" << case_num << ": " << fixed << setprecision(7) << result << endl;
    }
    return 0;
}
```

* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š
  - ä½¿ç”¨**äºŒåˆ†ç­”æ¡ˆ**æ¡†æ¶ï¼Œæ¯æ¬¡çŒœæµ‹ä¸€ä¸ªæœ€å¤§è·ç¦» `D`ã€‚
  - åœ¨ `is_possible` å‡½æ•°ä¸­ï¼Œä½¿ç”¨**Dijkstraç®—æ³•**éªŒè¯æ˜¯å¦å­˜åœ¨ä»0åˆ°1çš„è·¯å¾„ï¼Œä½¿å¾—æ€»ç­‰å¾…æ—¶é—´ä¸è¶…è¿‡ `S`ã€‚
  - éœ€è¦ç²¾ç¡®è®¡ç®—æ¯å¯¹å°è¡Œæ˜Ÿä¹‹é—´è·ç¦»å°äºç­‰äº `D` çš„æ—¶é—´åŒºé—´ã€‚

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

* **åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜**ï¼š**â€œæ˜Ÿé™…é€ƒäº¡ï¼šåƒç´ é£èˆ¹çš„è·³è·ƒä¹‹æ—…â€**
* **æ ¸å¿ƒæ¼”ç¤ºå†…å®¹**ï¼šå±•ç¤ºäºŒåˆ†ç­”æ¡ˆå¦‚ä½•é€æ­¥ç¼©å°æœ€å¤§è·³è·ƒè·ç¦»ï¼Œä»¥åŠDijkstraç®—æ³•å¦‚ä½•å¯»æ‰¾æœ€ä¼˜è·¯å¾„ã€‚
* **è®¾è®¡æ€è·¯ç®€è¿°**ï¼š
  - é‡‡ç”¨8ä½åƒç´ é£æ ¼ï¼Œæ¨¡æ‹ŸFCçº¢ç™½æœºç•Œé¢ã€‚
  - å°è¡Œæ˜Ÿç”¨åƒç´ æ–¹å—è¡¨ç¤ºï¼Œé£èˆ¹ç”¨åƒç´ ç®­å¤´è¡¨ç¤ºã€‚
  - æ¯æ¬¡äºŒåˆ†çŒœæµ‹æ—¶ï¼Œå±å¹•é¡¶éƒ¨æ˜¾ç¤ºå½“å‰çŒœæµ‹çš„ `D` å€¼ã€‚
  - Dijkstraç®—æ³•æ‰§è¡Œæ—¶ï¼Œå·²è®¿é—®çš„å°è¡Œæ˜Ÿé«˜äº®ä¸ºç»¿è‰²ï¼Œå¾…è®¿é—®çš„ä¸ºé»„è‰²ã€‚
  - æˆåŠŸæ‰¾åˆ°è·¯å¾„æ—¶ï¼Œè·¯å¾„ä¸Šçš„è·³è·ƒç”¨é—ªçƒçš„åƒç´ çº¿è¿æ¥ï¼Œå¹¶æ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆã€‚

* **åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹**ï¼š
  1. **åˆå§‹åŒ–**ï¼šæ˜¾ç¤ºåƒç´ åŒ–çš„æ˜Ÿç³»åœ°å›¾ï¼Œå°è¡Œæ˜Ÿéšæœºåˆ†å¸ƒã€‚
  2. **äºŒåˆ†çŒœæµ‹**ï¼šå±å¹•é¡¶éƒ¨æ˜¾ç¤º `D` å€¼ï¼Œæ¯æ¬¡çŒœæµ‹åæ›´æ–°ã€‚
  3. **Dijkstraæ‰§è¡Œ**ï¼šé£èˆ¹ä»0å·å°è¡Œæ˜Ÿå‡ºå‘ï¼Œé€æ­¥æ¢ç´¢ç›¸é‚»å°è¡Œæ˜Ÿã€‚
  4. **è·¯å¾„é«˜äº®**ï¼šæ‰¾åˆ°è·¯å¾„åï¼Œç”¨è“è‰²åƒç´ çº¿é«˜äº®æ˜¾ç¤ºè·³è·ƒè½¨è¿¹ã€‚
  5. **äº¤äº’æ§åˆ¶**ï¼šæä¾›â€œå•æ­¥â€ã€â€œè‡ªåŠ¨æ’­æ”¾â€ã€â€œé‡ç½®â€æŒ‰é’®ã€‚

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

* **é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»**ï¼š
  - **äºŒåˆ†ç­”æ¡ˆ**é€‚ç”¨äºæ‰€æœ‰â€œæœ€å°åŒ–æœ€å¤§å€¼â€æˆ–â€œæœ€å¤§åŒ–æœ€å°å€¼â€é—®é¢˜ï¼Œå¦‚ï¼š
    1. **æœ€å°åŒ–æœ€å¤§è´Ÿè½½**ï¼šåœ¨ä»»åŠ¡åˆ†é…é—®é¢˜ä¸­ï¼Œå¦‚ä½•åˆ†é…ä»»åŠ¡ä½¿å¾—å•ä¸ªæœºå™¨çš„æœ€å¤§è´Ÿè½½æœ€å°ã€‚
    2. **æœ€å¤§åŒ–æœ€å°è¾¹æƒ**ï¼šåœ¨å›¾ä¸­å¯»æ‰¾ä¸€æ¡è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æœ€å°è¾¹æƒæœ€å¤§ã€‚
    3. **æœ€å°åŒ–æœ€å¤§å»¶è¿Ÿ**ï¼šåœ¨è°ƒåº¦é—®é¢˜ä¸­ï¼Œå¦‚ä½•å®‰æ’ä»»åŠ¡ä½¿å¾—æœ€å¤§å»¶è¿Ÿæœ€å°ã€‚

* **ç»ƒä¹ æ¨è (æ´›è°·)**ï¼š
  1. **P2678 [NOIP 2015] è·³çŸ³å¤´** - ç»å…¸äºŒåˆ†ç­”æ¡ˆé¢˜ï¼Œå¸®åŠ©å·©å›ºæ¨¡æ¿ã€‚
  2. **P2440 æœ¨æåŠ å·¥** - äºŒåˆ†ç­”æ¡ˆä¸è´ªå¿ƒç»“åˆï¼Œè€ƒå¯Ÿå»ºæ¨¡èƒ½åŠ›ã€‚
  3. **P1182 æ•°åˆ—åˆ†æ®µ II** - äºŒåˆ†ç­”æ¡ˆåœ¨åºåˆ—åˆ’åˆ†ä¸­çš„åº”ç”¨ã€‚

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

æœ¬æ¬¡åˆ†æçš„é¢˜è§£ä¸­æœªå‘ç°æ˜ç¡®çš„ä½œè€…ä¸ªäººå¿ƒå¾—åˆ†äº«éƒ¨åˆ†ã€‚

---

**æ€»ç»“**ï¼š
é€šè¿‡ä»Šå¤©çš„åˆ†æï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•å°†ä¸€ä¸ªå¤æ‚çš„æ˜Ÿé™…é€ƒäº¡é—®é¢˜ï¼Œè½¬åŒ–ä¸º**äºŒåˆ†ç­”æ¡ˆ**å’Œ**æœ€çŸ­è·¯**çš„ç»„åˆé—®é¢˜ã€‚å…³é”®åœ¨äºç†è§£ç‰©ç†è¿åŠ¨ä¸æ•°å­¦æ¨¡å‹çš„å…³è”ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ç®—æ³•é«˜æ•ˆåœ°éªŒè¯çŒœæµ‹ã€‚å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½å¸®åŠ©ä½ åœ¨æœªæ¥çš„ç®—æ³•æ¢é™©ä¸­æ›´åŠ æ¸¸åˆƒæœ‰ä½™ï¼ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š105.99ç§’
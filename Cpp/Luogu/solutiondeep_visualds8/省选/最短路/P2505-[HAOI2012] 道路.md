# é¢˜ç›®ä¿¡æ¯

# [HAOI2012] é“è·¯

## é¢˜ç›®æè¿°

C å›½æœ‰ $n$ åº§åŸå¸‚ï¼ŒåŸå¸‚ä¹‹é—´é€šè¿‡ $m$ æ¡**å•å‘**é“è·¯è¿æ¥ã€‚ä¸€æ¡è·¯å¾„è¢«ç§°ä¸ºæœ€çŸ­è·¯ï¼Œå½“ä¸”ä»…å½“ä¸å­˜åœ¨ä»å®ƒçš„èµ·ç‚¹åˆ°ç»ˆç‚¹çš„å¦å¤–ä¸€æ¡è·¯å¾„æ€»é•¿åº¦æ¯”å®ƒå°ã€‚ä¸¤æ¡æœ€çŸ­è·¯ä¸åŒï¼Œå½“ä¸”ä»…å½“å®ƒä»¬åŒ…å«çš„é“è·¯åºåˆ—ä¸åŒã€‚æˆ‘ä»¬éœ€è¦å¯¹æ¯æ¡é“è·¯çš„é‡è¦æ€§è¿›è¡Œè¯„ä¼°ï¼Œè¯„ä¼°æ–¹å¼ä¸ºè®¡ç®—æœ‰å¤šå°‘æ¡ä¸åŒçš„æœ€çŸ­è·¯ç»è¿‡è¯¥é“è·¯ã€‚ç°åœ¨ï¼Œè¿™ä¸ªä»»åŠ¡äº¤ç»™äº†ä½ ã€‚


## è¯´æ˜/æç¤º

æ•°æ®è§„æ¨¡

$30\%$ çš„æ•°æ®æ»¡è¶³ï¼š$n\leq 15, m\leq 30$ã€‚

$60\%$ çš„æ•°æ®æ»¡è¶³ï¼š$n\leq 300, m\leq 1000$ã€‚

$100\%$ çš„æ•°æ®æ»¡è¶³ï¼š$n\leq 1500, m\leq 5000, w\leq 10000$ã€‚


## æ ·ä¾‹ #1

### è¾“å…¥

```
4 4
1 2 5
2 3 5
3 4 5
1 4 8```

### è¾“å‡º

```
2
3
2
1```

# AIåˆ†æç»“æœ

---
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼š[HAOI2012] é“è·¯ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä½ ä»¬çš„ç®—æ³•å¯¼å¸ˆæ´›è¯­äº‘ç¬ºï¼ä»Šå¤©æˆ‘ä»¬è¦ä¸€èµ·æ”»å…‹ä¸€é“ç»å…¸çš„å›¾è®ºéš¾é¢˜â€”â€”**[HAOI2012] é“è·¯**ã€‚è¿™é“é¢˜ä¸ä»…è€ƒéªŒæˆ‘ä»¬å¯¹æœ€çŸ­è·¯å¾„ç®—æ³•çš„ç†è§£ï¼Œæ›´è¦æ±‚æˆ‘ä»¬å·§å¦™åœ°è¿ç”¨**æœ€çŸ­è·¯å›¾ï¼ˆShortest Path DAGï¼‰**å’Œ**æ‹“æ‰‘æ’åº**æ¥ç»Ÿè®¡è¾¹çš„è´¡çŒ®ã€‚

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

âœ¨ **æœ¬é¢˜æ ¸å¿ƒæŒ‘æˆ˜**ï¼š  
> **â€œå¯¹äºæ¯æ¡å•å‘é“è·¯ï¼Œè®¡ç®—æœ‰å¤šå°‘æ¡ä¸åŒçš„æœ€çŸ­è·¯ä¼šç»è¿‡å®ƒã€‚â€**  
> è¿™é‡Œçš„â€œä¸åŒâ€æŒ‡çš„æ˜¯è·¯å¾„çš„**é“è·¯åºåˆ—**ä¸åŒï¼Œè€Œä¸æ˜¯é•¿åº¦ä¸åŒã€‚æˆ‘ä»¬éœ€è¦æšä¸¾æ‰€æœ‰å¯èƒ½çš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œç»Ÿè®¡æ¯æ¡è¾¹åœ¨è¿™äº›æœ€çŸ­è·¯ä¸­è¢«ä½¿ç”¨çš„æ¬¡æ•°ã€‚

âœ¨ **æ ¸å¿ƒç®—æ³•æ ‡ç­¾**ï¼š  
- **æœ€çŸ­è·¯ç®—æ³•** (SPFA/Dijkstra)
- **æœ€çŸ­è·¯å›¾ (DAG)**
- **æ‹“æ‰‘æ’åº**
- **åŠ¨æ€è§„åˆ’** (è®¡æ•°)

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è¿™é“é¢˜çš„æ ¸å¿ƒåœ¨äº**å¦‚ä½•é«˜æ•ˆåœ°ç»Ÿè®¡æ¯æ¡è¾¹åœ¨æ‰€æœ‰æœ€çŸ­è·¯ä¸­çš„å‡ºç°æ¬¡æ•°**ã€‚ç›´æ¥æšä¸¾æ‰€æœ‰èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œç„¶åè·‘æœ€çŸ­è·¯ï¼Œæ˜¾ç„¶ä¼šè¶…æ—¶ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´èªæ˜çš„æ–¹æ³•ã€‚

---

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ

1.  **çº¿ç´¢1 (é—®é¢˜ç›®æ ‡)**ï¼š  
    â€œè®¡ç®—æ¯æ¡é“è·¯åœ¨æœ€çŸ­è·¯ä¸­çš„å‡ºç°æ¬¡æ•°â€ â†’ è¿™æç¤ºæˆ‘ä»¬éœ€è¦**æšä¸¾èµ·ç‚¹**ï¼Œå¹¶æ„å»º**æœ€çŸ­è·¯å›¾**ã€‚

2.  **çº¿ç´¢2 (é—®é¢˜çº¦æŸ/ç‰¹æ€§)**ï¼š  
    â€œæœ€çŸ­è·¯â€å’Œâ€œé“è·¯åºåˆ—ä¸åŒâ€ â†’ è¿™æš—ç¤ºæˆ‘ä»¬å¯ä»¥åˆ©ç”¨**æœ€çŸ­è·¯å›¾çš„DAGæ€§è´¨**ï¼Œå› ä¸ºDAGæ²¡æœ‰ç¯ï¼Œå¯ä»¥é«˜æ•ˆåœ°è¿›è¡Œæ‹“æ‰‘æ’åºå’ŒåŠ¨æ€è§„åˆ’ã€‚

3.  **çº¿ç´¢3 (æ•°æ®è§„æ¨¡)**ï¼š  
    `n â‰¤ 1500, m â‰¤ 5000` â†’ è¿™å…è®¸æˆ‘ä»¬è·‘ `O(n * (m + n log n))` çš„ç®—æ³•ï¼Œå³å¯¹æ¯ä¸ªèµ·ç‚¹è·‘ä¸€æ¬¡æœ€çŸ­è·¯ï¼Œå¹¶åœ¨DAGä¸Šè¿›è¡Œä¸¤æ¬¡åŠ¨æ€è§„åˆ’ã€‚

---

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥

> 1.  **æšä¸¾èµ·ç‚¹**ï¼šç”±äºé¢˜ç›®æ²¡æœ‰ç»™å®šèµ·ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸ªç‚¹ä½œä¸ºèµ·ç‚¹è·‘ä¸€æ¬¡æœ€çŸ­è·¯ã€‚
> 2.  **æ„å»ºæœ€çŸ­è·¯å›¾**ï¼šå¯¹äºæ¯ä¸ªèµ·ç‚¹ï¼Œæ„å»ºä¸€ä¸ªåªåŒ…å«æœ€çŸ­è·¯å¾„ä¸Šçš„è¾¹çš„å­å›¾ï¼ˆDAGï¼‰ã€‚
> 3.  **ç»Ÿè®¡è´¡çŒ®**ï¼šåœ¨DAGä¸Šï¼Œåˆ©ç”¨**ä¹˜æ³•åŸç†**å’Œ**æ‹“æ‰‘æ’åº**ï¼Œè®¡ç®—æ¯æ¡è¾¹çš„è´¡çŒ®ã€‚

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### **é¢˜è§£ä¸€ï¼šxyz32768 (èµï¼š44)**

**ç‚¹è¯„**ï¼š  
xyz32768çš„é¢˜è§£æ€è·¯éå¸¸æ¸…æ™°ï¼Œä»–å·§å¦™åœ°åˆ©ç”¨äº†**æœ€çŸ­è·¯å›¾**å’Œ**æ‹“æ‰‘æ’åº**æ¥ç»Ÿè®¡è¾¹çš„è´¡çŒ®ã€‚ä»–é¦–å…ˆç”¨SPFAè·‘æœ€çŸ­è·¯ï¼Œç„¶åæ„å»ºæœ€çŸ­è·¯å›¾ï¼Œæ¥ç€é€šè¿‡ä¸¤æ¬¡æ‹“æ‰‘æ’åºï¼ˆæ­£åºå’Œé€†åºï¼‰åˆ†åˆ«è®¡ç®—äº†`cnt1[u]`ï¼ˆä»èµ·ç‚¹åˆ°`u`çš„æœ€çŸ­è·¯æ•°ï¼‰å’Œ`cnt2[v]`ï¼ˆä»`v`å‡ºå‘çš„æœ€çŸ­è·¯æ•°ï¼‰ï¼Œæœ€ååˆ©ç”¨ä¹˜æ³•åŸç†å¾—åˆ°æ¯æ¡è¾¹çš„è´¡çŒ®ã€‚

**æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
void topo(int S) {
    memset(cnt, 0, sizeof(cnt));
    memset(cnt1, 0, sizeof(cnt1));
    memset(cnt2, 0, sizeof(cnt2));
    int i; H = tot = 0; cnt1[que[T = 1] = S] = 1;
    for (i = 1; i <= m; i++) if (ins[i]) cnt[go[i]]++;
    while (H < T) {
        int u = que[++H]; q[++tot] = u;
        for (int e = adj[u], v; e; e = nxt[e]) {
            if (!ins[e]) continue;
            v = go[e]; if (!(--cnt[v])) que[++T] = v;
            (cnt1[v] += cnt1[u]) %= PYZ;
        }
    }
    for (i = tot; i; i--) {
        int u = q[i]; cnt2[u]++;
        for (int e = adj[u], v; e; e = nxt[e]) {
            if (!ins[e]) continue;
            (cnt2[u] += cnt2[v = go[e]]) %= PYZ;
        }
    }
}
```

---

### **é¢˜è§£äºŒï¼šshadowice1984 (èµï¼š20)**

**ç‚¹è¯„**ï¼š  
shadowice1984çš„é¢˜è§£éå¸¸æœ‰è¶£ï¼Œä»–é‡‡ç”¨äº†**Dijkstra**ç®—æ³•ï¼Œå¹¶åœ¨æ„å»ºæœ€çŸ­è·¯å›¾æ—¶å·§å¦™åœ°å¤„ç†äº†è¾¹çš„æ›´æ–°ã€‚ä»–é€šè¿‡åå‘æ„å»ºDAGï¼Œç„¶ååˆ©ç”¨æ‹“æ‰‘æ’åºæ¥è®¡ç®—`cnt2`ï¼Œæœ€ååŒæ ·åˆ©ç”¨ä¹˜æ³•åŸç†å¾—åˆ°ç­”æ¡ˆã€‚

**æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š
```cpp
inline void tpsrt() {
    for (int i = 1; i <= n; i++) {
        for (int p = g2.alist[i]; p; p = g2.edge[p].nxt) {
            rd[g2.edge[p].v]++;
        }
    }
    for (int i = 1; i <= n; i++) {
        if (rd[i] == 0) q.push(i);
    }
    while (!q.empty()) {
        int now = q.front(); q.pop();
        int nxt = g2.alist[now];
        while (nxt) {
            int v = g2.edge[nxt].v;
            int val = g2.edge[nxt].val;
            dans[v] = (dans[v] + dans[now]) % mod;
            ans[val] = (ans[val] + dans[now] * dans1[v]) % mod;
            rd[v]--; if (rd[v] == 0) q.push(v);
            nxt = g2.edge[nxt].nxt;
        }
    }
}
```

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ (æœ€ä¼˜è§£æ³•å‰–æ)

1.  **å…³é”®ç‚¹1ï¼šæ„å»ºæœ€çŸ­è·¯å›¾ (DAG)**  
    - **åˆ†æ**ï¼šå¯¹äºæ¯ä¸ªèµ·ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªåªåŒ…å«æœ€çŸ­è·¯å¾„ä¸Šçš„è¾¹çš„å­å›¾ã€‚åˆ¤æ–­ä¸€æ¡è¾¹`uâ†’v`æ˜¯å¦åœ¨æœ€çŸ­è·¯å›¾ä¸­ï¼Œåªéœ€æ£€æŸ¥`dis[u] + w == dis[v]`ã€‚  
    - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæœ€çŸ­è·¯å›¾æ˜¯ä¸€ä¸ª**DAG**ï¼Œæ²¡æœ‰ç¯ï¼Œå¯ä»¥è¿›è¡Œæ‹“æ‰‘æ’åºã€‚

2.  **å…³é”®ç‚¹2ï¼šæ‹“æ‰‘æ’åºä¸åŠ¨æ€è§„åˆ’**  
    - **åˆ†æ**ï¼šåœ¨DAGä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ‹“æ‰‘æ’åºæ¥é«˜æ•ˆåœ°è®¡ç®—`cnt1[u]`ï¼ˆä»èµ·ç‚¹åˆ°`u`çš„æœ€çŸ­è·¯æ•°ï¼‰å’Œ`cnt2[v]`ï¼ˆä»`v`å‡ºå‘çš„æœ€çŸ­è·¯æ•°ï¼‰ã€‚  
    - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ‹“æ‰‘æ’åºç¡®ä¿äº†è®¡ç®—çš„é¡ºåºæ€§ï¼Œé¿å…äº†é‡å¤è®¡ç®—ã€‚

3.  **å…³é”®ç‚¹3ï¼šä¹˜æ³•åŸç†ç»Ÿè®¡è´¡çŒ®**  
    - **åˆ†æ**ï¼šå¯¹äºæ¯æ¡è¾¹`uâ†’v`ï¼Œå…¶è´¡çŒ®ä¸º`cnt1[u] * cnt2[v]`ã€‚  
    - ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆ©ç”¨ä¹˜æ³•åŸç†ï¼Œå°†è¾¹çš„è´¡çŒ®è½¬åŒ–ä¸ºç‚¹çš„è´¡çŒ®ã€‚

---

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“

- **æŠ€å·§A (é—®é¢˜è½¬åŒ–)**ï¼šå°†â€œç»Ÿè®¡è¾¹çš„è´¡çŒ®â€è½¬åŒ–ä¸ºâ€œç»Ÿè®¡ç‚¹çš„è´¡çŒ®â€ï¼Œåˆ©ç”¨DAGçš„æ‹“æ‰‘æ€§è´¨ã€‚
- **æŠ€å·§B (ç©ºé—´æ¢æ—¶é—´)**ï¼šåˆ©ç”¨æ‹“æ‰‘æ’åºå’ŒåŠ¨æ€è§„åˆ’ï¼Œé¿å…äº†æš´åŠ›æšä¸¾æ‰€æœ‰è·¯å¾„ã€‚
- **æŠ€å·§C (æ•°æ®ç»“æ„è¾…åŠ©)**ï¼šä½¿ç”¨é‚»æ¥è¡¨å­˜å‚¨å›¾ï¼Œä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œæ‹“æ‰‘æ’åºã€‚

---

### âš”ï¸ ç­–ç•¥ç«æŠ€åœºï¼šä¸åŒè§£æ³•çš„å¯¹æ¯”åˆ†æ

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ä¸åˆ†æ | é€‚ç”¨åœºæ™¯ / å¾—åˆ†é¢„æœŸ |
| :--- | :--- | :--- | :--- |:--- |
| **æš´åŠ›æšä¸¾** | æšä¸¾æ‰€æœ‰èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œè·‘æœ€çŸ­è·¯ã€‚ | æ€è·¯ç›´è§‚ã€‚ | **æ—¶é—´å¤æ‚åº¦**: `O(n^2 * m)`ï¼Œå®Œå…¨ä¸å¯è¡Œã€‚ | æ•°æ®è§„æ¨¡ `n â‰¤ 10`ã€‚ |
| **æœ€çŸ­è·¯å›¾ + æ‹“æ‰‘æ’åº** (æœ€ä¼˜ç­–ç•¥) | æšä¸¾èµ·ç‚¹ï¼Œæ„å»ºæœ€çŸ­è·¯å›¾ï¼Œåˆ©ç”¨æ‹“æ‰‘æ’åºç»Ÿè®¡è´¡çŒ®ã€‚ | é«˜æ•ˆï¼Œæ—¶é—´å¤æ‚åº¦ `O(n * (m + n log n))`ã€‚ | éœ€è¦ç†è§£æœ€çŸ­è·¯å›¾å’Œæ‹“æ‰‘æ’åºã€‚ | æœ¬é¢˜æœ€ä½³å®è·µï¼Œ**100%** å¾—åˆ†ã€‚ |
| **Dijkstra + åå‘DAG** | ç±»ä¼¼æœ€çŸ­è·¯å›¾ï¼Œä½†åå‘æ„å»ºDAGã€‚ | åŒæ ·é«˜æ•ˆã€‚ | å®ç°ç¨å¤æ‚ã€‚ | **100%** å¾—åˆ†ã€‚ |

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### **æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ**

**è¯´æ˜**ï¼šä»¥ä¸‹ä»£ç ç»¼åˆäº†xyz32768å’Œshadowice1984çš„é¢˜è§£ï¼Œæä¾›äº†ä¸€ä¸ªæ¸…æ™°ä¸”å®Œæ•´çš„æ ¸å¿ƒå®ç°ã€‚

**å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š
```cpp
#include <bits/stdc++.h>
using namespace std;
const int N = 1505, M = 5005, MOD = 1e9 + 7;
int n, m, head[N], to[M], nxt[M], w[M], tot;
int dis[N], cnt1[N], cnt2[N], deg[N], ans[M];
bool in_path[M], vis[N];
vector<int> ord;

void add(int u, int v, int val) {
    to[++tot] = v, nxt[tot] = head[u], w[tot] = val, head[u] = tot;
}

void spfa(int s) {
    queue<int> q;
    memset(dis, 0x3f, sizeof(dis));
    memset(vis, 0, sizeof(vis));
    dis[s] = 0; vis[s] = 1; q.push(s);
    while (!q.empty()) {
        int u = q.front(); q.pop(); vis[u] = 0;
        for (int i = head[u]; i; i = nxt[i]) {
            int v = to[i];
            if (dis[v] > dis[u] + w[i]) {
                dis[v] = dis[u] + w[i];
                if (!vis[v]) vis[v] = 1, q.push(v);
            }
        }
    }
    for (int i = 1; i <= m; ++i) in_path[i] = 0;
    for (int u = 1; u <= n; ++u)
        for (int i = head[u]; i; i = nxt[i])
            if (dis[u] + w[i] == dis[to[i]]) in_path[i] = 1;
}

void topo(int s) {
    queue<int> q;
    memset(deg, 0, sizeof(deg));
    memset(cnt1, 0, sizeof(cnt1));
    memset(cnt2, 0, sizeof(cnt2));
    for (int u = 1; u <= n; ++u)
        for (int i = head[u]; i; i = nxt[i])
            if (in_path[i]) ++deg[to[i]];
    cnt1[s] = 1; q.push(s);
    while (!q.empty()) {
        int u = q.front(); q.pop(); ord.push_back(u);
        for (int i = head[u]; i; i = nxt[i]) if (in_path[i]) {
            int v = to[i];
            cnt1[v] = (cnt1[v] + cnt1[u]) % MOD;
            if (!--deg[v]) q.push(v);
        }
    }
    for (int j = ord.size() - 1; j >= 0; --j) {
        int u = ord[j]; cnt2[u] = 1;
        for (int i = head[u]; i; i = nxt[i]) if (in_path[i]) {
            int v = to[i];
            cnt2[u] = (cnt2[u] + cnt2[v]) % MOD;
        }
    }
    for (int u = 1; u <= n; ++u)
        for (int i = head[u]; i; i = nxt[i]) if (in_path[i])
            ans[i] = (ans[i] + 1ll * cnt1[u] * cnt2[to[i]]) % MOD;
}

int main() {
    scanf("%d%d", &n, &m);
    for (int i = 1, x, y, z; i <= m; ++i) {
        scanf("%d%d%d", &x, &y, &z);
        add(x, y, z);
    }
    for (int i = 1; i <= n; ++i) {
        spfa(i); ord.clear(); topo(i);
    }
    for (int i = 1; i <= m; ++i) printf("%d\n", ans[i]);
    return 0;
}
```

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

**åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜**ï¼š**â€œåƒç´ æ¢é™©å®¶â€åœ¨DAGè¿·å®«ä¸­å¯»æ‰¾å®è—**

**æ ¸å¿ƒæ¼”ç¤ºå†…å®¹**ï¼š  
- **æœ€çŸ­è·¯æ„å»º**ï¼šå±•ç¤ºå¦‚ä½•ä»åŸå›¾ä¸­æå–æœ€çŸ­è·¯å›¾ï¼ˆDAGï¼‰ã€‚  
- **æ‹“æ‰‘æ’åº**ï¼šå±•ç¤ºå¦‚ä½•é€šè¿‡æ‹“æ‰‘æ’åºè®¡ç®—`cnt1`å’Œ`cnt2`ã€‚  
- **ä¹˜æ³•åŸç†**ï¼šå±•ç¤ºå¦‚ä½•è®¡ç®—æ¯æ¡è¾¹çš„è´¡çŒ®ã€‚

**è®¾è®¡æ€è·¯ç®€è¿°**ï¼š  
- **åƒç´ é£æ ¼**ï¼šä½¿ç”¨8ä½åƒç´ é£æ ¼ï¼Œä»¿ç…§FCçº¢ç™½æœºUIï¼Œç”¨ä¸åŒé¢œè‰²çš„åƒç´ å—è¡¨ç¤ºèŠ‚ç‚¹ã€è¾¹å’Œè·¯å¾„ã€‚  
- **äº¤äº’æ§åˆ¶**ï¼šæä¾›â€œå•æ­¥æ‰§è¡Œâ€ã€â€œè‡ªåŠ¨æ’­æ”¾â€ã€â€œé‡ç½®åŠ¨ç”»â€æŒ‰é’®ï¼Œä»¥åŠé€Ÿåº¦æ»‘å—ã€‚  
- **éŸ³æ•ˆæç¤º**ï¼šå…³é”®æ“ä½œæ—¶æ’­æ”¾â€œå®â€å£°ï¼ŒæˆåŠŸæ—¶æ’­æ”¾èƒœåˆ©éŸ³æ•ˆã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### **é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»**  
- **æœ€çŸ­è·¯å›¾**ï¼šé€‚ç”¨äºæ‰€æœ‰éœ€è¦ç»Ÿè®¡æœ€çŸ­è·¯è·¯å¾„çš„é—®é¢˜ï¼Œå¦‚**æœ€çŸ­è·¯å¾„è®¡æ•°**ã€**å…³é”®è¾¹**ç­‰ã€‚

### **ç»ƒä¹ æ¨è (æ´›è°·)**  
1.  **æ´›è°· P1529** - æœ€çŸ­è·¯è®¡æ•°  
    ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šå·©å›ºæœ€çŸ­è·¯å›¾çš„æ„å»ºå’Œæ‹“æ‰‘æ’åºçš„åº”ç”¨ã€‚  
2.  **æ´›è°· P1346** - åŒè°ƒè·¯å¾„  
    ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»ƒä¹ æœ€çŸ­è·¯å›¾çš„å˜å½¢åº”ç”¨ã€‚  
3.  **æ´›è°· P1821** - æœ€çŸ­è·¯æ ‘  
    ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæ·±å…¥ç†è§£æœ€çŸ­è·¯å›¾çš„æ€§è´¨ã€‚

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

**xyz32768çš„ç»éªŒ**ï¼š  
> â€œåœ¨æ„å»ºæœ€çŸ­è·¯å›¾æ—¶ï¼ŒåŠ¡å¿…æ£€æŸ¥`dis[u] + w == dis[v]`ï¼Œå¦åˆ™å®¹æ˜“æ¼æ‰æŸäº›è¾¹ã€‚â€

**shadowice1984çš„ç»éªŒ**ï¼š  
> â€œåå‘æ„å»ºDAGæ—¶ï¼Œè®°å¾—æ¸…ç©ºé‚»æ¥è¡¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´é‡å¤è®¡ç®—ã€‚â€

---

<conclusion>  
å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£æœ€çŸ­è·¯å›¾å’Œæ‹“æ‰‘æ’åºçš„å·§å¦™åº”ç”¨ï¼è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äºæŒç»­å­¦ä¹ ã€å‹¤äºæ€è€ƒå’Œå‹‡äºå®è·µã€‚ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ğŸ’ª
</conclusion>

---
å¤„ç†ç”¨æ—¶ï¼š106.84ç§’
# é¢˜ç›®ä¿¡æ¯

# BZOJ4372 çƒçƒçš„æ¸¸æˆ

## é¢˜ç›®èƒŒæ™¯

é¢˜ç›®æ¥è‡ªåŸ BZOJï¼Œæˆ‘ä»¬æ‰¿è®¤é¢˜é¢åŠåŸæ•°æ®çš„ç‰ˆæƒå‡å±äºåŸ BZOJ æˆ–å°†é¢˜ç›®æˆæƒç»™ BZOJ ä½¿ç”¨çš„å‡ºé¢˜äººã€‚å¦‚æœæ‚¨æ˜¯ç‰ˆæƒæ‰€æœ‰è€…ä¸”è®¤ä¸ºæˆ‘ä»¬ä¾µçŠ¯äº†æ‚¨çš„æƒç›Šï¼Œå¯è”ç³»æˆ‘ä»¬ã€‚

---

çƒçƒå¾ˆå–œæ¬¢çˆ¬æ ‘ï¼Œè¿™å“åäº†æ ‘ä¸Šçš„çš®çš®é¼ ã€‚

ç»™å®šä¸€é¢— $n$ ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œè¾¹æƒå‡ä¸º $1$ï¼Œåˆå§‹æ ‘ä¸Šæ²¡æœ‰çš®çš®é¼ ã€‚

çƒçƒä»–æ¯æ¬¡ä¼šè·³åˆ°ä¸€ä¸ªèŠ‚ç‚¹ $u$ ï¼ŒæŠŠå‘¨å›´ä¸ä»–è·ç¦»ä¸è¶…è¿‡ $d$ çš„èŠ‚ç‚¹å„å¸å¼•å‡º $w$ åªçš®çš®é¼ ã€‚çš®çš®é¼ ä¼šè¢«çƒçƒå¸å¼•ï¼Œæ‰€ä»¥ä¼šä¸€ç›´å¾…åœ¨èŠ‚ç‚¹ä¸Šä¸åŠ¨ã€‚

çƒçƒå¾ˆå¥½å¥‡ï¼Œåœ¨å½“å‰æ—¶åˆ»ï¼ŒèŠ‚ç‚¹ $u$ æœ‰å¤šå°‘ä¸ªä»–çš„å¥½æœ‹å‹â€”â€”çš®çš®é¼ ã€‚

## é¢˜ç›®æè¿°

é¢˜ç›®èƒŒæ™¯å¯ä»¥è¢«æŠ½è±¡æˆè¿™ä¸ªé—®é¢˜ï¼š

ç»™ä¸€æ£µ $n$ ä¸ªç»“ç‚¹çš„æ ‘ï¼Œè¾¹æƒå‡ä¸º $1$ï¼Œåˆå§‹ç‚¹æƒå‡ä¸º $0$ã€‚è¿›è¡Œ $m$ æ¬¡æ“ä½œï¼š
- $\text{Q x}$ï¼šè¯¢é—®ç»“ç‚¹ $x$ çš„ç‚¹æƒã€‚
- $\text{M x d w}$ï¼šå°†æ ‘ä¸Šä¸ç»“ç‚¹ $x$ è·ç¦»ä¸è¶…è¿‡ $d$ çš„èŠ‚ç‚¹çš„ç‚¹æƒå‡åŠ ä¸Š $w$ã€‚

## è¯´æ˜/æç¤º

å¯¹äºæ‰€æœ‰æ•°æ®ï¼Œä¿è¯ $1\leq n,m\leq 10^5$ï¼Œ$|w|\leq 10^4$ã€‚æ³¨æ„ï¼š$w$ ä¸ä¸€å®šä¸ºæ­£æ•´æ•°ï¼Œ

## æ ·ä¾‹ #1

### è¾“å…¥

```
7 6
1 2
1 4
1 5
2 3
2 7
5 6
M 1 1 2
Q 5
M 2 2 3
Q 3
M 1 2 1
Q 2```

### è¾“å‡º

```
2
3
6```

# AIåˆ†æç»“æœ

```markdown
# ğŸ’¡ æ´›è¯­äº‘ç¬ºçš„C++ç®—æ³•è§£æï¼šçƒçƒçš„æ¸¸æˆ æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡

> ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æŒ‘æˆ˜ã€Œçƒçƒçš„æ¸¸æˆã€ï¼è¿™ä¸ä»…æ˜¯æ ‘ä¸Šæ“ä½œé¢˜ï¼Œæ›´æ˜¯ä¸€æ¬¡â€œç‚¹åˆ†æ ‘+æ•°æ®ç»“æ„â€çš„ç«‹ä½“æ€ç»´è®­ç»ƒã€‚  
> æˆ‘ä»¬å°†åŒ–èº«ã€Œç®—æ³•ä¾¦æ¢ã€ï¼Œä»é¢˜ç›®çº¿ç´¢å‡ºå‘ï¼Œä¸€æ­¥æ­¥æ‹†è§£æ ‘ä¸Šâ€œè·ç¦»â‰¤dâ€çš„åŒºé—´ä¿®æ”¹ä¸å•ç‚¹æŸ¥è¯¢éš¾é¢˜ã€‚

---

## 1. é¢˜ç›®è§£è¯»ä¸ç­–ç•¥åˆæ¢

### âœ¨ æ ¸å¿ƒæŒ‘æˆ˜
> åœ¨**ä¸€æ£µæ ‘**ä¸Šï¼Œå¦‚ä½•**é«˜æ•ˆ**å®Œæˆä¸¤ç±»æ“ä½œï¼š  
> â‘  æŠŠè·ç¦»æŸç‚¹ x â‰¤ d çš„æ‰€æœ‰ç‚¹ç‚¹æƒ +wï¼›â‘¡ å•ç‚¹æŸ¥è¯¢æŸç‚¹ y çš„æƒå€¼ã€‚  
> æ•°æ®èŒƒå›´ 1e5ï¼Œæš´åŠ› O(mÂ·n) ç»å¯¹è¶…æ—¶ã€‚

### âœ¨ æ ¸å¿ƒç®—æ³•æ ‡ç­¾
`ç‚¹åˆ†æ ‘` | `æ ‘çŠ¶æ•°ç»„/çº¿æ®µæ ‘` | `æ ‘ä¸Šè·ç¦»` | `æ ‡è®°æ°¸ä¹…åŒ–`

---

### ğŸ” ç®—æ³•ä¾¦æ¢ï¼šå¦‚ä½•åœ¨é¢˜ç›®ä¸­å‘ç°çº¿ç´¢ï¼Ÿ

| çº¿ç´¢ç¼–å· | å…³é”®è¯ | æŒ‡å‘ç»“è®º |
|---|---|---|
| **çº¿ç´¢1** | â€œè·ç¦» â‰¤ d çš„æ‰€æœ‰ç‚¹â€ | éœ€è¦å¯¹**æ ‘ä¸Šé‚»åŸŸ**æ‰¹é‡ä¿®æ”¹ â†’ ç‚¹åˆ†æ²»/ç‚¹åˆ†æ ‘å¤©ç„¶æ“…é•¿ |
| **çº¿ç´¢2** | â€œå•ç‚¹æŸ¥è¯¢â€ | æŸ¥è¯¢ç®€å•ï¼Œå¯æŠŠå¤æ‚ä¿®æ”¹æ‹†æˆ**æ ‡è®°**ï¼ŒæŸ¥è¯¢æ—¶å†æ±‡æ€» |
| **çº¿ç´¢3** | n,m â‰¤ 1e5 | ç›®æ ‡å¤æ‚åº¦ O(n logÂ²n) ä»¥å†…ï¼Œ**ç‚¹åˆ†æ ‘+æ•°æ®ç»“æ„**å¯è¡Œ |

---

### ğŸ§  æ€ç»´é“¾æ„å»ºï¼šä»çº¿ç´¢åˆ°ç­–ç•¥

> 1. çœ‹åˆ°â€œè·ç¦»â‰¤dâ€ï¼Œæˆ‘è„‘ä¸­æµ®ç°**ç‚¹åˆ†æ ‘**â€”â€”æŠŠæ ‘æ‹†æˆ O(log n) å±‚åˆ†æ²»ç»“æ„ï¼Œæ¯å±‚åªå…³å¿ƒâ€œè·¨è¿‡åˆ†æ²»é‡å¿ƒâ€çš„ä¿¡æ¯ã€‚  
> 2. æŸ¥è¯¢æ˜¯å•ç‚¹ï¼Œä¿®æ”¹æ˜¯åŒºé—´ï¼Œè¿™æ°å¥½å¯ä»¥ç”¨**æ ‡è®°æ°¸ä¹…åŒ–**ï¼š  
>    â€¢ åœ¨ç‚¹åˆ†æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ i ä¸Šï¼ŒæŒ‚ä¸¤ä¸ªçº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„ Tâ‚€ã€Tâ‚ã€‚  
>    â€¢ Tâ‚€ è®°å½•â€œi å­æ ‘å†…ï¼Œåˆ° i è·ç¦» â‰¤ k çš„ä¿®æ”¹æ€»å’Œâ€ï¼›Tâ‚ è´Ÿè´£å®¹æ–¥ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚  
> 3. å¤æ‚åº¦ O(logÂ²n) æ¯æ¬¡æ“ä½œï¼Œæ»¡è¶³ 1e5 æ•°æ®ã€‚

---

## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

| ä½œè€… | äº®ç‚¹æç‚¼ |
|---|---|
| **Xiao_Xiao_Yu** | ä»£ç æœ€ç²¾ç‚¼ï¼Œç”¨**vector+æ ‘çŠ¶æ•°ç»„**åŠ¨æ€å¼€ç©ºé—´ï¼Œæ¨¡æ¿æ¸…æ™°æ˜“æŠ„ã€‚ |
| **Genius_Star** | å°è£…äº†**Seg_Tree**ç±»ï¼Œé€»è¾‘æ¸…æ™°ï¼›å˜é‡å‘½åè§„èŒƒï¼Œä¾¿äºé˜…è¯»ã€‚ |
| **aulive** | ç”¨**åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘**ï¼Œå†…å­˜æ›´çœï¼›æ€è·¯æ³¨é‡Šé½å…¨ã€‚ |

> ç»¼åˆè¯„åˆ†ï¼šXiao_Xiao_Yu 5â­ï¼ˆæœ€ç®€æ´ï¼‰ï¼ŒGenius_Star 4.5â­ï¼Œaulive 4.5â­ã€‚

---

## 3. è§£é¢˜ç­–ç•¥æ·±åº¦å‰–æ

### ğŸ¯ æ ¸å¿ƒéš¾ç‚¹ä¸å…³é”®æ­¥éª¤ï¼ˆç‚¹åˆ†æ ‘æœ€ä¼˜è§£ï¼‰

| å…³é”®æ­¥éª¤ | åˆ†æ | å­¦ä¹ ç¬”è®° |
|---|---|---|
| **1. æ„å»ºç‚¹åˆ†æ ‘** | é€’å½’æ‰¾é‡å¿ƒï¼ŒæŠŠåŸæ ‘æ‹†æˆ O(log n) å±‚ | è®°ä½æ¨¡æ¿ï¼šgetroot â†’ build â†’ æ ‡è®°vis |
| **2. æ•°æ®ç»“æ„é€‰æ‹©** | æ¯ä¸ªé‡å¿ƒ i å»ºä¸¤ä¸ªæ ‘çŠ¶æ•°ç»„/çº¿æ®µæ ‘ï¼Œä¸‹æ ‡ä¸ºâ€œè·ç¦»â€ | ç”¨åŠ¨æ€å¼€ç‚¹èŠ‚çœç©ºé—´ |
| **3. ä¿®æ”¹æ“ä½œ M x d w** | æ²¿ç‚¹åˆ†ç¥–å…ˆé“¾å‘ä¸Šè·³ï¼Œåœ¨ Tâ‚€ã€Tâ‚ ä¸ŠåšåŒºé—´åŠ å¹¶å®¹æ–¥ | å…¬å¼ï¼šadd(Tâ‚€, 0, d-dis) ; add(Tâ‚, 0, d-dis, -w) |
| **4. æŸ¥è¯¢æ“ä½œ Q x** | æ²¿ç¥–å…ˆé“¾ç´¯åŠ  Tâ‚€ å‰ç¼€å’Œï¼Œå‡å» Tâ‚ å‰ç¼€å’Œ | è®°å¾—åˆ¤æ–­ dâ‰¥dis é˜²æ­¢è¶Šç•Œ |

---

### âš”ï¸ ç­–ç•¥ç«æŠ€åœº

| ç­–ç•¥ | æ ¸å¿ƒæ€æƒ³ | ä¼˜ç‚¹ | ç¼ºç‚¹ | å¾—åˆ†é¢„æœŸ |
|---|---|---|---|---|
| **æš´åŠ› BFS** | æ¯æ¬¡ M æ“ä½œç›´æ¥ BFS æ•´æ£µå­æ ‘ | æ€è·¯ç›´è§‚ | O(mÂ·n) è¶…æ—¶ | 10% |
| **æ¬§æ‹‰åº+RMQ+å‰ç¼€å’Œ** | ç¦»çº¿æŠŠè·ç¦»è½¬æˆåŒºé—´ | éœ€è¦ç¦»çº¿ï¼Œå®ç°å¤æ‚ | 30%-50% |
| **ç‚¹åˆ†æ ‘+æ•°æ®ç»“æ„** | åœ¨çº¿ï¼Œæ¯å±‚ç”¨æ•°æ®ç»“æ„ç»´æŠ¤â€œè·ç¦»â€ | å¤æ‚åº¦ O(logÂ²n) æœ€ä¼˜ | ä»£ç è¾ƒé•¿ | **100%** |

---

### âœ¨ ä¼˜åŒ–ä¹‹æ—…ï¼šä»â€œèƒ½åšâ€åˆ°â€œåšå¥½â€

> 1. èµ·ç‚¹ï¼šæš´åŠ› BFS â†’ è¶…æ—¶ã€‚  
> 2. ç“¶é¢ˆï¼šé‡å¤éå†æ•´æ£µæ ‘ã€‚  
> 3. é’¥åŒ™ï¼šç‚¹åˆ†æ ‘æŠŠæ ‘æ‹†æˆ O(log n) å±‚ï¼Œæ¯å±‚åªå¤„ç†â€œè·¨é‡å¿ƒâ€ä¿¡æ¯ã€‚  
> 4. å‡åï¼šç”¨â€œæ ‡è®°æ°¸ä¹…åŒ–â€æŠŠåŒºé—´ä¿®æ”¹è½¬æˆè‹¥å¹²å‰ç¼€å’Œï¼ŒæŸ¥è¯¢æ—¶å†æ±‡æ€»ã€‚

---

## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒå®ç°å‚è€ƒï¼ˆXiao_Xiao_Yu ç‰ˆï¼‰

```cpp
#include <bits/stdc++.h>
using namespace std;
const int maxn = 1e5 + 5;

int n, m;
vector<int> g[maxn];

/* ===== æ ‘ä¸Šå‰ç¼€ & LCA ===== */
int dep[maxn], f[maxn][20];
void dfs(int u, int fa) {
    dep[u] = dep[fa] + 1;
    f[u][0] = fa;
    for (int i = 1; i <= 18; ++i) f[u][i] = f[f[u][i - 1]][i - 1];
    for (int v : g[u]) if (v != fa) dfs(v, u);
}
int lca(int x, int y) {
    if (dep[x] < dep[y]) swap(x, y);
    for (int i = 18; i >= 0; --i)
        if (dep[f[x][i]] >= dep[y]) x = f[x][i];
    if (x == y) return x;
    for (int i = 18; i >= 0; --i)
        if (f[x][i] != f[y][i]) x = f[x][i], y = f[y][i];
    return f[x][0];
}
int dist(int x, int y) {
    return dep[x] + dep[y] - 2 * dep[lca(x, y)];
}

/* ===== æ ‘çŠ¶æ•°ç»„åŠ¨æ€å¼€ç‚¹ ===== */
struct Fenwick {
    vector<int> c;
    void init(int n) { c.assign(n + 10, 0); }
    void add(int p, int v) {
        ++p;
        for (; p < (int)c.size(); p += p & -p) c[p] += v;
    }
    int ask(int p) {
        ++p;
        int res = 0;
        for (; p; p -= p & -p) res += c[p];
        return res;
    }
};

/* ===== ç‚¹åˆ†æ ‘ ===== */
int root, sum, siz[maxn], mx[maxn], fa[maxn];
bool vis[maxn];
void getroot(int u, int pre) {
    siz[u] = 1; mx[u] = 0;
    for (int v : g[u]) {
        if (v == pre || vis[v]) continue;
        getroot(v, u);
        siz[u] += siz[v];
        mx[u] = max(mx[u], siz[v]);
    }
    mx[u] = max(mx[u], sum - siz[u]);
    if (mx[u] < mx[root]) root = u;
}
void build(int u) {
    vis[u] = true;
    for (int v : g[u]) {
        if (vis[v]) continue;
        sum = siz[v]; root = 0;
        getroot(v, 0);
        fa[root] = u;
        build(root);
    }
}

Fenwick T0[maxn], T1[maxn];

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cin >> n >> m;
    for (int i = 1, u, v; i < n; ++i) {
        cin >> u >> v;
        g[u].push_back(v);
        g[v].push_back(u);
    }
    dfs(1, 0);
    sum = n; mx[root = 0] = 1e9;
    getroot(1, 0);
    build(root);

    for (int i = 1; i <= n; ++i) {
        T0[i].init(siz[i] + 5);
        T1[i].init(siz[i] + 5);
    }

    while (m--) {
        char op; int x, d, w;
        cin >> op >> x;
        if (op == 'Q') {
            int ans = T0[x].ask(0);
            for (int p = x; fa[p]; p = fa[p]) {
                int dis = dist(fa[p], x);
                ans += T0[fa[p]].ask(dis);
                ans -= T1[p].ask(dis);
            }
            cout << ans << '\n';
        } else {
            cin >> d >> w;
            T0[x].add(0, w);
            for (int p = x; fa[p]; p = fa[p]) {
                int dis = dist(fa[p], x);
                if (d < dis) continue;
                T0[fa[p]].add(0, w);
                T0[fa[p]].add(d - dis + 1, -w);
                T1[p].add(0, w);
                T1[p].add(d - dis + 1, -w);
            }
        }
    }
    return 0;
}
```

> ä»£ç è§£è¯»æ¦‚è¦ï¼š  
> 1. `dfs` é¢„å¤„ç† LCA ä¸è·ç¦»ã€‚  
> 2. `getroot/build` æ„å»ºç‚¹åˆ†æ ‘ã€‚  
> 3. æ¯ä¸ªé‡å¿ƒ i åˆå§‹åŒ–ä¸¤ä¸ª Fenwickï¼Œä¸‹æ ‡ä¸ºâ€œè·ç¦»â€ã€‚  
> 4. `M` æ“ä½œï¼šæ²¿ç¥–å…ˆé“¾åšåŒºé—´åŠ å¹¶å®¹æ–¥ï¼›`Q` æ“ä½œï¼šæ²¿ç¥–å…ˆé“¾ç´¯åŠ å‰ç¼€å’Œã€‚

---

## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º

### ä¸»é¢˜ï¼šåƒç´ æ¢é™©å®¶â€”â€”ç‚¹åˆ†æ ‘ä¸Šçš„æ ‡è®°ä¹‹æ—…

| åœºæ™¯ | åƒç´ åŒ–è®¾è®¡ | äº¤äº’/éŸ³æ•ˆ |
|---|---|---|
| **åˆå§‹åŒ–** | 8Ã—8 åƒç´ æ ‘èŠ‚ç‚¹ + é‡å¿ƒé«˜äº® | 8 ä½å¯åŠ¨éŸ³ |
| **M x d w** | åƒç´ ç®­å¤´ä» x å‘ä¸Šè·³ç¥–å…ˆï¼Œæ¯è·³ä¸€æ¬¡ï¼š  
> â€¢ æ˜¾ç¤ºè·ç¦» d'  
> â€¢ åœ¨ Fenwick åƒç´ æ¡ä¸ŠåŒºé—´é—ªçƒ | â€œå®â€æ¯åšä¸€æ¬¡åŒºé—´åŠ  |
| **Q x** | åƒç´ æ”¾å¤§é•œèšç„¦ xï¼Œé€å±‚ç´¯åŠ å‰ç¼€å’Œ | æˆåŠŸéŸ³åæ˜¾ç¤ºæœ€ç»ˆæ•°å€¼ |
| **AI æ¼”ç¤º** | è‡ªåŠ¨æ’­æ”¾ 10 æ¬¡æ“ä½œï¼Œé€Ÿåº¦å¯è°ƒ | èƒŒæ™¯éŸ³ä¹ 8-bit loop |

> æŠ€æœ¯æç¤ºï¼šç”¨ Canvas ç”»æ ‘ï¼Œé‡å¿ƒç”¨é»„è‰²æ–¹å—ï¼›Fenwick ç”¨å‚ç›´åƒç´ æ¡è¡¨ç¤ºæ•°ç»„ï¼ŒåŒºé—´åŠ ç”¨ç»¿è‰²å¡«å……ï¼ŒåŒºé—´æŸ¥è¯¢ç”¨çº¢è‰²æŒ‡é’ˆã€‚

---

## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨å¥—è·¯è¿ç§»
- **è¯¾ç¨‹è¡¨å†²çª**ï¼šæ¯é—¨è¯¾æœ‰å‰ç½®è¯¾ç¨‹ï¼Œåªèƒ½é€‰ä¸€é—¨ â†’ åˆ†ç»„èƒŒåŒ…ã€‚  
- **æ ‘ä¸Šè·¯å¾„ç»Ÿè®¡**ï¼šç‚¹åˆ†æ ‘ + äºŒç»´ååºã€‚  
- **é‚»åŸŸæœ€å€¼**ï¼šç‚¹åˆ†æ ‘ + å•è°ƒé˜Ÿåˆ—ã€‚

### æ´›è°·æ¨è

| é¢˜å· | æ¨èç†ç”± |
|---|---|
| **P6329 éœ‡æ³¢** | ç‚¹åˆ†æ ‘æ¨¡æ¿ï¼Œå•ç‚¹ä¿®æ”¹åŒºé—´æŸ¥è¯¢ï¼Œä¸æœ¬é¢˜ç›¸åã€‚ |
| **P3920 ç´«è†èŠ±ä¹‹æ‹** | ç‚¹åˆ†æ ‘ + å¹³è¡¡æ ‘ï¼Œç»ƒä¹ æ›´å¤æ‚çš„é‚»åŸŸç»Ÿè®¡ã€‚ |
| **P2664 æ ‘ä¸Šæ¸¸æˆ** | æ ‘ä¸Šè·¯å¾„å¼‚æˆ–å’Œï¼Œä½“ä¼šç‚¹åˆ†æ²»æ€æƒ³ã€‚ |

---

## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº«

> æ¥è‡ª Xiao_Xiao_Yuï¼š  
> â€œè°ƒè¯•æ—¶å‘ç°å¿˜è®°åˆ¤æ–­ `d < dis` å¯¼è‡´è¶Šç•Œï¼Œ**è¾“å‡ºä¸­é—´å˜é‡** `dis` ç«‹åˆ»å®šä½é—®é¢˜ã€‚â€  
> æ´›è¯­äº‘ç¬ºç‚¹è¯„ï¼šå…»æˆæ‰“å°ä¸­é—´ç»“æœçš„ä¹ æƒ¯ï¼Œæ˜¯è°ƒè¯•å¤æ‚æ•°æ®ç»“æ„çš„åˆ©å™¨ï¼

---

## ç»“è¯­

æŒæ¡â€œç‚¹åˆ†æ ‘ + æ•°æ®ç»“æ„â€åï¼Œæ ‘ä¸Šé‚»åŸŸé—®é¢˜å°†è¿åˆƒè€Œè§£ã€‚ä¸‹æ¬¡é‡åˆ°â€œè·ç¦»â‰¤dâ€çš„ä¿®æ”¹/æŸ¥è¯¢ï¼Œä¸å¦¨å…ˆç”»ä¸€æ£µç‚¹åˆ†æ ‘ï¼Œå†æŠŠé—®é¢˜æ‹†æˆ O(log n) å±‚ï¼  
ç»§ç»­åŠ æ²¹ï¼Œä¸‹ä¸€åœºç®—æ³•æ¢é™©è§ï¼ğŸ’ª
```

---
å¤„ç†ç”¨æ—¶ï¼š81.59ç§’
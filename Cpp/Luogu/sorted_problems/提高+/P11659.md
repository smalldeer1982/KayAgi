---
title: "小夫"
layout: "post"
diff: 提高+/省选-
pid: P11659
tag: ['莫队', 'O2优化']
---
# 小夫
## 题目背景

![](bilibili:BV19w411k7WT)
## 题目描述

给定一个长为 $n$ 的整数序列 $a$，有 $m$ 次询问：

* ```l r```：求 $l\le x<y<z\le r,a_x:a_y:a_z=4:2:3$ 的三元组 $(x,y,z)$ 的个数。
## 输入格式

第一行两个整数 $n,m$。

第二行是 $n$ 个整数，表示序列 $a$。

最后是 $m$ 行的整数 $l,r$。
## 输出格式

一行一个整数。
## 样例

### 样例输入 #1
```
10 5
4 4 2 3 2 3 3 4 2 3
1 5
3 7
1 10
5 10
4 8
```
### 样例输出 #1
```
2
0
17
1
0
```
## 提示

对于所有测试数据，保证：$1\le n,m,a_i\le2\times10^5$，$1\le l\le r\le n$。

| Subtask | 限制 | 分值 |
| :----------: | :----------: | :----------: |
| $0$ | $n,m\le10^2$ | $5$ |
| $1$ | $n,m\le10^4$ | $10$ |
| $2$ | $2\le a_i\le 4$ | $20$ |
| $3$ | - | $65$ |

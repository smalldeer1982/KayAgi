---
title: "[NordicOI 2025] 垃圾收集 / Garbage Collection"
layout: "post"
diff: 提高+/省选-
pid: P12119
tag: ['线段树', '双指针 two-pointer']
---
# [NordicOI 2025] 垃圾收集 / Garbage Collection
## 题目描述

北海上漂浮着 $N$ 块垃圾，编号从 $1$ 到 $N$。第 $i$ 块垃圾位于坐标 $\left(x_{i}, y_{i}\right)$，重量为 $w_{i}$。作为一项清理行动的一部分，你需要在某个矩形区域内收集所有垃圾。这个矩形区域的宽度为 $W$，高度为 $H$，但具体位置尚未确定。

你的任务是确定在最佳位置放置清理区域时，能够收集到的垃圾总重量的最大值。

译者注：「北海（North Sea）」指的是是北大西洋的一部分，不是广西壮族自治区北海市。
## 输入格式

第一行包含三个整数 $N,W$ 和 $H$。

接下来的 $N$ 行中，第 $i$ 行包含三个整数 $x_{i}, y_{i}$ 和 $w_{i}$，分别表示第 $i$ 块垃圾的坐标和重量。
## 输出格式

一行一个非负整数表示答案。
## 样例

### 样例输入 #1
```
5 3 2
3 1 10
2 1 5
1 0 5
0 2 10
1 3 5

```
### 样例输出 #1
```
20
```
## 提示

【样例解释】

最佳的清理区域应覆盖坐标为 $(3,1)$、$(2,1)$ 和 $(1,0)$ 的垃圾，总重量为 $10+5+5=20$。

![](https://cdn.luogu.com.cn/upload/image_hosting/9ln6vecp.png)

【数据规模与约定】

对于所有数据，满足：

$1 \leq N \leq 10^{5},1 \leq W, H \leq 10^{9},0 \leq x_{i}, y_{i} < 10^{9}(1 \leq i \leq N),1 \leq w_{i} \leq 10^{9}(1 \leq i \leq N)$。

详细子任务附加限制及分值如下表所示：

|  子任务编号| 分值 | 特殊限制 |
| :-----------: | :-----------: |:-----------: |
| $1$ | $10$ | $N \le 400$ |
| $2$ | $12$ | $W,H,x_i,y_i \le 2000$ |
| $3$ | $15$ | $N \le 2000$ |
| $4$ | $22$ | $H=10^9$ |
| $5$ | $23$ | $W,H,x_i,y_i \le 10^5$ |
| $6$ | $18$ |无特殊限制  |

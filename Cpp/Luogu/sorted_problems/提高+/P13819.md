---
title: " 「LDOI R3」玩玩数字"
layout: "post"
diff: 提高+/省选-
pid: P13819
tag: ['O2优化']
---
#  「LDOI R3」玩玩数字
## 题目背景

空無一人 這片沙灘。   
風吹過來 冷冷海岸。   
我輕輕抖落鞋裡的沙 看著我的腳印。   
Oh 一個人 一步步 好寂寞。 

**数据已经过加强。**
## 题目描述

现在沙滩上从左到右写着 $n$ 个数，记为 $a_1, a_2, \ldots, a_n$。

小 A 和小 D 在这个沙滩上进行一个游戏。

每个回合，两人依次进行以下操作：

- 小 D 会先将当前剩下的数中挑选一些数（也可以不选）。
- 之后小 A 有两种选择：
  
  1. 将小 D 挑选的数全部减 $1$，并将剩下的数抹掉。
  2. 将小 D 挑选的数全部抹掉，并将剩下的数减 $1$。
- 这一回合结束后：
  
  - 如果所有数字中出现了 $0$ 那么小 D 获胜；
  - 如果沙滩上没有数字了，那么小 A 获胜；
  - 否则继续下一回合。

由于小 A 会边玩游戏边说 P 话，因此小 D 想要尽快结束游戏。

现在小 D 想要知道是否存在对于小 D 的必胜策略。

小 A 行为非常随机，因此可能开始游戏之前小 A 会先抹掉 $a_1, a_2, \ldots, a_{l - 1}$ 和 $a_{r + 1}, a_{r + 2}, \ldots, a_{n}$。

特别地，若 $l = 1$，左边不删除任何数；同理，若 $r = n$，右边不删除任何数。保证 $l \le r$。

为了考虑全面，小 D 会询问 $m$ 次 $(l, r)$。请你对于每一次询问都求出答案。

当然啦，不同的询问之间互不影响。
## 输入格式

第一行一行一个正整数 $n$。

第二行一行 $n$ 个正整数代表 $a_1, a_2, \ldots, a_n$，用空格隔开。

第三行一行一个正整数代表 $m$。

接下来 $m$ 行，每行两个整数 $l, r$ 代表一次询问。
## 输出格式

输出共 $m$ 行。

每行输出一个字符串，具体地：

- 如果存在让小 D 必胜的策略，输出 `Yes`。
- 否则输出 `No`。
- 大小写敏感。
## 样例

### 样例输入 #1
```
3
1 2 2
2
1 2
1 3
```
### 样例输出 #1
```
No
Yes
```
## 提示

#### 【数据范围与约定】

对于所有数据，保证：

- $1\le n\le 4\times 10^4$，
- $1\le m\le 4\times 10^4$，
- $1\le a_i\le 10^9$，
- $1\le l\le r\le n$。

::cute-table{tuack}

| $\text{Subtask}$ | $n\le$ | $m\le $ | 分数 |
|:-:|:-:|:-:|:-:|
| $1$ | $8$ | $1$ | $10$ |
| $2$ | $12$ | $78$ | $15$ |
| $3$ | $10^2$ | $10^2$ | $20$ |
| $4$ | $10^3$ | $10^3$ | $15$ |
| $5$ | $4\times 10^4$ | $4\times 10^4$ | $40$ |

#### 【样例解释】

- 当 $l = 1, r = 3$ 时，没有数在开始时被抹去。此时数列为 $\{1, 2, 2\}$，那么小 D 挑选 $\{1\}$。此时小 A 只能选择抹除 $\{1\}$，不然就会出现 $0$。剩下来 $\{2, 2\}$，根据规则将其中全部的数减 $1$ 得到 $\{1, 1\}$。此时进入第二回合。小 D 选择 $\{1\}$，容易发现此时小 A 无论如何操作都会让小 D 胜利。因此答案为 `Yes`。
- 当 $l = 1, r = 2$ 时，第三个数被抹除，初始序列为 $\{1, 2\}$，可以证明小 D 没有必胜策略。

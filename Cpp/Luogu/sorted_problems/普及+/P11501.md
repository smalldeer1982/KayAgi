---
title: "[ROIR 2019] 探险队 (Day 2)"
layout: "post"
diff: 普及+/提高
pid: P11501
tag: ['动态规划 DP', '2019', 'Special Judge', '树形 DP', '基环树', 'ROIR（俄罗斯）']
---
# [ROIR 2019] 探险队 (Day 2)
## 题目背景

翻译自 [ROIR 2019 D2T3](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day2.pdf)。
## 题目描述

需要派遣一支探险队前去探索邻近的星系。共有 $n$ 名候选人，编号从 $1$ 到 $n$，探险队成员需要从中选出。

在候选人中进行了一次调查，每个人可以指出一个他不愿意与之一起参加探险的候选人。对于第 $i$ 个候选人，调查结果是一个整数 $a_{i}$，表示他不愿意与编号为 $a_i$ 的人一起参加探险。如果 $i$ 号候选人愿意与任何人一起参加探险，则 $a_{i} = -1$。

你需要求出在满足所有派遣出的候选人的意愿的情况下，最大的可以派遣的人数。
## 输入格式

第一行输入一个整数 $n$。

接下来 $n$ 行，每行输入一个整数，分别是 $a_1,a_2,\dots,a_n$。
## 输出格式

输出一个整数，表示最大可以派遣的人数。
## 样例

### 样例输入 #1
```
4
2
4
2
1
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
3
2
-1
2
```
### 样例输出 #2
```
2
```
## 提示

数据中 Subtask 0 为样例。

| 子任务 | 分值 | 特殊性质 |
| :----------: | :----------: | :----------: |
| $1$ | $19$ | $n\le20$ |
| $2$ | $10$ | $a_1=-1$，$\forall i>1,a_i=i-1$ |
| $3$ | $15$ | $a_i<i$ |
| $4$ | $13$ | $1\le n\le2000$ |
| $5$ | $43$ | 无特殊性质 |

对于 $100\%$ 的数据，$n\le3\times10^5$，$a_i=-1$ 或 $1\le a_i\le n$，且 $a_i\ne i$。

---
title: "【MX-X8-T3】「TAOI-3」地地爱打卡"
layout: "post"
diff: 普及+/提高
pid: P11644
tag: ['O2优化', '梦熊比赛']
---
# 【MX-X8-T3】「TAOI-3」地地爱打卡
## 题目背景

原题链接：<https://oier.team/problems/X8D>。

---

一年前，我在 NOIP 2023 的赛场上，折戟沉沙。

一年后，我从倒下的地方爬起。

THUWC 2025 D1T1，强势狂砍 76 分。

……线段树优化 DP 也太难了。
## 题目描述

小 T 同学非常淡泊于跑步。为了让跑步更加无趣，他决定制作一款叫做《地地爱打卡》的软件，使得用户每地都无法进行跑步打卡。

开发完成后，小 T 同学计划进行试运行，他找了大 Y 同学来帮忙。

这次打卡总共有 $n$ 个节点，编号为 $1 \sim n$，有 $m$ 条连接两个节点的双向道路，**保证图无重边无自环**。大 Y 同学需要从 $s$ 跑到 $t$。

初始时，大 Y 同学的能量值是 $0$。每当大 Y 同学跑过一条道路，小 T 同学就会请他吃一顿饭，使得他的能量值增加 $1$。试运行期间他的**能量值不可以是负数**。

大 Y 同学还有一个快乐值，初始为 $0$，当位于某个节点的时候，大 Y 同学可以让他的快乐值按位异或上他的能量值，同时清空能量值（即，能量值变为 $0$），也可以什么都不做。

现在大 Y 同学想要知道，他是否能够 **最终停留在** 节点 $t$，耗尽所有能量值（即，能量值变为 $0$），并且此时他的快乐值恰好为 $x$？**注意：大 Y 同学到达节点 $\bm t$ 后可以选择不停下而继续移动。**

因为大 Y 同学很爱跑步，所以你要回答 $q$ 组询问，每次询问给出 $s, t, x$，你要告诉大 Y 同学是否能够满足他的要求。
## 输入格式

第一行，三个非负整数 $n, m, q$。

接下来 $m$ 行，每行两个正整数 $u, v$，表示一条连接点 $u$ 和 $v$ 的道路。

接下来 $q$ 行，每行三个非负整数 $s, t, x$，表示一组询问。
## 输出格式

$q$ 行，对于每组询问，如果大 Y 同学能够满足他的要求，输出一行 `tribool`，否则输出一行 `expand`。
## 样例

### 样例输入 #1
```
7 6 4
2 4
5 6
1 2
3 5
3 6
7 1
1 2 1
1 6 3
5 3 5
2 7 7
```
### 样例输出 #1
```
tribool
expand
tribool
expand

```
### 样例输入 #2
```
5 4 4
1 2
2 3
3 4
4 5
1 2 1
1 5 3
5 3 2
1 1 1

```
### 样例输出 #2
```
tribool
expand
tribool
expand

```
## 提示

**【样例解释 #1】**

![](https://cdn.luogu.com.cn/upload/image_hosting/66uc1bzt.png)

如图，对于第一组询问，大 Y 同学从节点 $1$ 出发，经过一条道路到达节点 $2$，此时他的能量值为 $1$。他再进行一次操作，此时能量值变为 $0$，快乐值变为 $1$，满足条件。

对于第二组询问，可以说明不存在合法的方案。

**【数据范围】**

**本题采用捆绑测试。**

- 子任务 1（22 分）：$\max(n, m, q, x) \leq 50$。
- 子任务 2（22 分）：$m = n - 1$ 且图连通。
- 子任务 3（24 分）：$x \leq 1$。
- 子任务 4（32 分）：无特殊限制。

对于所有数据，保证 $2 \leq n \leq 2\times 10^5$，$0 \leq m \leq 3\times 10^5$，$1 \leq q \leq 2\times 10^5$，$1 \leq s, t, u, v \leq n$，$0 \leq x \leq 10^9$，保证给出的无向图无重边无自环。

---
title: "「CZOI-R6」Border"
layout: "post"
diff: 普及+/提高
pid: P13790
tag: ['倍增', '二分', 'O2优化', '哈希 hashing', 'KMP 算法']
---
# 「CZOI-R6」Border
## 题目描述

给定一个仅包含小写字母的字符串 $s$（下标从 $1$ 开始），你可以将 **不超过 $\boldsymbol{1}$ 个位置** 修改为任意小写字母，使得最大化其最长 border 长度。你只需输出这个最大化的长度即可。

字符串 $b$ 是字符串 $a$ 的 border，当且仅当 $\lvert b\rvert < \lvert a\rvert$，且 $b$ 既是 $a$ 的前缀又是 $a$ 的后缀。
## 输入格式

第一行输入 $1$ 个字符串，表示 $s$。
## 输出格式

第一行输出 $1$ 个整数，表示答案。
## 样例

### 样例输入 #1
```
abaa
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
qwqqaq
```
### 样例输出 #2
```
3
```
### 样例输入 #3
```
iakioi
```
### 样例输出 #3
```
1
```
### 样例输入 #4
```
ababaaab

```
### 样例输出 #4
```
6

```
### 样例输入 #5
```
r
```
### 样例输出 #5
```
0

```
### 样例输入 #6
```
onion

```
### 样例输出 #6
```
2

```
## 提示

**【数据范围】**

**本题采用捆绑测试。**

- Subtask #1（$10\ \text{pts}$）：$|s|\le 20$。
- Subtask #2（$20\ \text{pts}$）：$s_i\in\{\texttt a,\texttt b\}$。
- Subtask #3（$30\ \text{pts}$）：$|s|\le 1000$。
- Subtask #4（$40\ \text{pts}$）：无特殊限制。

对于 $100\%$ 的数据，$1\le |s|\le 10^6$，$s$ 仅包含小写字母。

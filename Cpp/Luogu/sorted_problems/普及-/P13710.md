---
title: "[NWERC 2023] Klompendans"
layout: "post"
diff: 普及-
pid: P13710
tag: ['2023', 'ICPC']
---
# [NWERC 2023] Klompendans
## 题目描述

In traditional Dutch clog dancing, as the dancer, you need to follow a very specific sequence of movements. The dance takes place on a square grid of square tiles. At the start of the dance, you stand on the top - left corner tile of the grid. Then, you alternate between two types of dance moves, moving from tile to tile in the grid for as long as you want. Your first move can be either type, but after that, you must strictly alternate between the two types of moves.

Both moves are similar to knight moves in chess: In the first type of move, you move from your current square to a square that is $a$ tiles away along one axis of the grid and $b$ tiles away along the other axis. Similarly, in the second type of move, you need to move $c$ tiles and $d$ tiles along the respective axes. Since you can freely swap the two axes and choose the movement direction along each axis, there can be up to 8 ways to perform a given type of move. Figure K.1 shows an example dance routine with $(a, b)=(1, 2)$ and $(c, d)=(2, 3)$.

![](https://cdn.luogu.com.cn/upload/image_hosting/yu84dg31.png)

:::align{center}
Figure K.1: Illustration of Sample Input 3, showing a dance that begins in the top - left corner of a $4\times4$ grid and ends in the bottom - left corner, visiting the blue squares along the way. There are 13 reachable squares in total. The three squares highlighted in red cannot be part of any dance performance.
:::


Starting on the top - left corner tile, how many different tiles could you reach while doing a clog dance? It is not allowed to step outside the grid, and you do not count tiles that you simply step over while making a move. Note that you need to count all tiles that can be reached during some performance of the dance, not necessarily during the same one.
## 输入格式

The input consists of:
- One line with an integer $n$ ($3\leq n\leq500$), the side length of the square.
- One line with two integers $a$ and $b$ ($1\leq a, b\lt n$), describing the first dance move.
- One line with two integers $c$ and $d$ ($1\leq c, d\lt n$), describing the second dance move.
## 输出格式

Output the number of tiles you can reach using these dance moves. 
## 样例

### 样例输入 #1
```
3
2 1
2 2
```
### 样例输出 #1
```
6
```
### 样例输入 #2
```
8
1 2
1 2
```
### 样例输出 #2
```
64
```
### 样例输入 #3
```
4
1 2
2 3
```
### 样例输出 #3
```
13
```
### 样例输入 #4
```
5
1 2
2 3
```
### 样例输出 #4
```
25
```
### 样例输入 #5
```
10
3 3
4 4
```
### 样例输出 #5
```
50
```

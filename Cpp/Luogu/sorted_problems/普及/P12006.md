---
title: "【MX-X10-T2】[LSOT-4] 网易云"
layout: "post"
diff: 普及/提高-
pid: P12006
tag: ['数学', '梦熊比赛']
---
# 【MX-X10-T2】[LSOT-4] 网易云
## 题目背景

别小看我的情报网，我知道你的年度曲风是二次元，你的年度关键词是未来、世界、永远，对不对？
## 题目描述

网易云音乐在 2077 年推出了统计功能，每首歌有一个好听值（可以是任意整数），每连续听的两首歌的组合值是这两首歌的好听值之和。

在 2077 年小 H 一共听了 $n$ 首歌，但是小 H 并不知道每首歌的好听值。现在依次告诉你对于 $1\le i<n$，第 $i$ 和 $i+1$ 首歌的组合值 $S_i$。现在小 H 要更换听歌方式，新的听歌方式会进行 $m$ 次听歌，第 $i$ 次听歌会听第 $a_i$ 首歌 $b_i$ 次。

小 H 希望你告诉他新的听歌方式听到的每首歌的好听值的总和。**一首歌重复听多次会重复计算好听值**。不过你也有可能无法确定最后的好听值总和，这种情况你需要输出 `Impossible`。
## 输入格式

第一行，两个整数 $n, m$，表示听歌的数量和听歌次数。

第二行，$n-1$ 个整数 $S_1, S_2, \ldots, S_{n - 1}$。

接下来 $m$ 行，第 $i$ 行两个整数 $a_i, b_i$，表示第 $i$ 次听歌。
## 输出格式

仅一行，一个整数，表示新的听歌方式的好听值总和。如果无法确定，则输出一个字符串 `Impossible`。

## 样例

### 样例输入 #1
```
5 2
8 6 7 2
2 2
3 2

```
### 样例输出 #1
```
12

```
### 样例输入 #2
```
5 2
8 6 7 2
2 2
3 10

```
### 样例输出 #2
```
Impossible

```
### 样例输入 #3
```
20 19
425 46 176 409 156 35 128 467 534 411 362 760 32 17 403 210 462 10 94
15 104
12 193
6 249
18 845
1 72
15 269
2 633
10 858
14 282
14 950
5 98
11 162
12 296
14 846
15 793
11 858
19 942
1 886
19 968

```
### 样例输出 #3
```
283895

```
## 提示

**【样例解释 #1】**

第二首和第三首都听了 $2$ 次，已知第二首和第三首的和是 $6$。使用乘法分配律，好听值一共是 $2\times 6=12$。

**【样例解释 #2】**

通过样例 #1，这个总和等于 $12$ 加上第三首歌的好听值 $\times 8$。可以证明通过给定的信息无法确定第三首歌的好听值，故无法确定好听值总和，输出 `Impossible`。

**【数据范围】**

对于 $10\%$ 的数据，$m=1$。

对于另外 $30\%$ 的数据，$m=2$。

对于全部的数据，$2\le n\le 10^5$，$1\le m\le 10^5$，$1\le S_i,b_i\le 1000$，$1\le a_i\le n$。

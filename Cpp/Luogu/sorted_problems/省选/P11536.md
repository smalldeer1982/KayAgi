---
title: "[NOISG 2023 Finals] Curtains"
layout: "post"
diff: 省选/NOI-
pid: P11536
tag: ['线段树', '2023', '分治', 'NOISG（新加坡）', '离线处理']
---
# [NOISG 2023 Finals] Curtains
## 题目描述

兔子 Benson 正要在飞机上组织表演！

Benson 有 $n$ 个舞台，由 $1\sim n$ 编号。他有 $m$ 个幕布，由 $1\sim m$ 编号。

幕布可以下降——第 $i$ 个幕布下降后，它会遮挡住编号在 $[l_i,r_i]$ 内的舞台。

Benson 将组织 $q$ 次演出，由 $1\sim q$ 编号。第 $i$ 场演出需要使用编号在 $[s_j,e_j]$ 内的舞台。对于每场演出，Benson 想知道，是否能下降某些幕布，**恰好**遮住表演所需的舞台。

**形式化地**：给定 $m$ 个区间 $[l_i,r_i]$，每次询问给定区间 $[s_j,e_j]$，查询是否能选择一些区间，使它们的并恰好为 $[s_j,e_j]$。
## 输入格式

第一行三个正整数 $n,m,q$，用空格隔开。

接下来 $m$ 行，每行两个整数 $l_i,r_i$，表示幕布能遮挡的舞台区间。

接下来 $q$ 行，每行两个整数 $s_j,e_j$，表示表演所需的舞台区间。

## 输出格式

对于每组询问，输出一行 `YES` 或 `NO`，表示是否能下降某些幕布，使其恰好遮住表演所需的舞台。
## 样例

### 样例输入 #1
```
6 2 3
1 2
3 4
1 3
1 4
1 5

```
### 样例输出 #1
```
NO
YES
NO

```
### 样例输入 #2
```
10 10 10
6 9
6 7
1 6
10 10
5 9
3 9
2 10
5 7
9 10
5 10
7 8
4 7
1 6
2 7
3 9
7 7
2 9
4 9
6 6
5 7

```
### 样例输出 #2
```
NO
NO
YES
NO
YES
NO
NO
NO
NO
YES

```
## 提示

#### 数据范围

| Subtask | 分值 | 特殊限制 |
| :-----------: | :-----------: | :-----------: |
| $0$ | $0$ | 样例 |
| $1$ | $3$ | $n,m,q\leq 200$ |
| $2$ | $6$ | $n,m,q\leq 2000$ |
| $3$ | $15$ | $n\leq 2000$ |
| $4$ | $20$ | $s_j=1$ |
| $5$ | $36$ | $n,m,q\leq 10^5$ |
| $6$ | $20$ | 无 |

对于 $100\%$ 的数据：

- $1\leq n,m,q\leq 5\times 10^5$
- $1\leq l_i\leq r_i\leq n$
- $1\leq s_j\leq e_j\leq n$

注：由于洛谷限制，数据不完全按照原题分配子任务。

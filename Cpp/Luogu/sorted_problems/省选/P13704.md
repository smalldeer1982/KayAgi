---
title: "[NWERC 2023] Exponentiation"
layout: "post"
diff: 省选/NOI-
pid: P13704
tag: ['2023', 'ICPC']
---
# [NWERC 2023] Exponentiation
## 题目描述

In her spare time, Zoe develops an online calculator.
Unfortunately, the calculator was targeted by a denial-of-service attack last week.
The attacker created a lot of integer variables, exponentiated them with each other,
and tried to do a bunch of comparisons. The huge integers were too much for the server to handle, so it
crashed. Before Zoe fixes the issue, she decides to actually perform the calculations that the attacker
requested.

![图片太大了传不上洛谷](https://img.freepik.com/free-vector/year-2023-logo-fireworks-with-text-space-vector-illustration-celebrating-new-year_8130-1168.jpg?t=st=1754811651~exp=1754815251~hmac=433ff45e8eeb4dbfe54c3c97b3fac5d2a82fb55b335a23cd097eb5d8395e35ba&w=2000)

:::align{center}
Image by callmetak on [Freepik](https://www.freepik.com/free-vector/year-2023-logo-fireworks-with-text-space-vector-illustration-celebrating-new-year_29660812.htm)
:::

There are $n$ integer variables $x_1, x_2, \dots, x_n$. At the start, each variable is set to $2023$.
You have to perform $m$ instructions of the following two types:
- *Operations*, of the form "$\texttt{! i j}$", where $i \neq j$.
    This means that $x_i$ gets set to $x_i^{x_j}$.
- *Queries*, of the form "$\texttt{? i j}$", where $i \neq j$.
    This means that you should print '$\verb|>|$' if $x_i$ is greater than $x_j$, '$\verb|=|$' if $x_i$ is equal to
    $x_j$, and '$\verb|<|$' if $x_i$ is smaller than $x_j$.


Consider the first sample. After the $5$ operations, the values of the variables are:
$$
\begin{align*}
x_1&=\left({2023}^{2023}\right)^{{2023}^{2023}},&
x_2&=\left({2023}^{{2023}^{2023}}\right)^{2023},&
x_3&={2023},&
x_4&={2023}^{2023}.
\end{align*}
$$
## 输入格式

The input consists of:
- One line with two integers $n$ and $m$ ($2 \leq n \leq 1000$, $1 \leq m \leq 1000$), the number of variables and the number of instructions.
- $m$ lines, each containing a character $c$ (either '$\texttt{!}$' or '$\texttt{?}$') and two integers $i$ and $j$ ($1 \leq i, j \leq n$, $i \neq j$), describing the instructions.
## 输出格式

For every query in the input, output its answer.
## 样例

### 样例输入 #1
```
4 8
! 1 4
! 2 1
! 4 3
! 1 4
! 2 3
? 3 4
? 2 4
? 2 1
```
### 样例输出 #1
```
<
>
=

```
### 样例输入 #2
```
4 9
! 2 4
! 1 2
? 3 1
? 1 2
! 2 3
? 1 2
! 1 3
! 3 2
? 1 3
```
### 样例输出 #2
```
<
>
>
<
```

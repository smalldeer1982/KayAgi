---
title: "[蓝桥杯 2020 国 A] 蓝跳跳"
layout: "post"
diff: NOI/NOI+/CTSC
pid: P8735
tag: ['2020', '生成函数', '线性递推', '蓝桥杯国赛']
---
# [蓝桥杯 2020 国 A] 蓝跳跳
## 题目描述

小蓝制作了一个机器人，取名为蓝跳跳，因为这个机器人走路的时候基本靠跳跃。

蓝跳跳可以跳着走，也可以掉头。蓝跳跳每步跳的距离都必须是整数，每步可以跳不超过 $k$ 的长度。由于蓝跳跳的平衡性设计得不太好，如果连续两次都是跳跃，而且两次跳跃的距离都至少是 $p$，则蓝跳跳会摔倒，这是小蓝不愿意看到的。

小蓝接到一个特别的任务，要在一个长为 $L$ 舞台上展示蓝跳跳。小蓝要控制蓝跳跳从舞台的左边走到右边，然后掉头，然后从右边走到左边，然后掉头，然后再从左边走到右边，然后掉头，再从右边走到左边，然后掉头，如此往复。

为了让观者不至于太无趣，小蓝决定让蓝跳跳每次用不同的方式来走。小蓝将蓝跳跳每一步跳的距离记录下来，按顺序排成一列，显然这一列数每个都不超过 $k$ 且和是 $L$。这样走一趟就会出来一列数。如果两列数的长度不同，或者两列数中存在一个位置数值不同，就认为是不同的方案。

请问蓝跳跳在不摔倒的前提下，有多少种不同的方案从舞台一边走到另一边。
## 输入格式

输入一行包含三个整数 $k, p, L$。
## 输出格式

输出一个整数, 表示答案。答案可能很大, 请输出答案除以 $20201114$ 的余数。
## 样例

### 样例输入 #1
```
3 2 5
```
### 样例输出 #1
```
9
```
### 样例输入 #2
```
5 3 10
```
### 样例输出 #2
```
397
```
## 提示

**【样例说明】**

蓝跳跳有以下 9 种跳法:

1. $1+1+1+1+1$

2. $1+1+1+2$

3. $1+1+2+1$

4. $1+2+1+1$

5. $2+1+1+1$

6. $2+1+2$

7. $1+1+3$

8. $1+3+1$

9. $3+1+1$

**【评测用例规模与约定】**

对于 $30 \%$ 的评测用例, $1 \leq p \leq k \leq 50,1 \leq L \leq 1000$ 。

对于 $60 \%$ 的评测用例, $1 \leq p \leq k \leq 50,1 \leq L \leq 10^{9}$ 。

对于 $80 \%$ 的评测用例, $1 \leq p \leq k \leq 200,1 \leq L \leq 10^{18}$ 。

对于所有评测用例, $1 \leq p \leq k \leq 1000,1 \leq L \leq 10^{18}$ 。

蓝桥杯 2020 年国赛 A 组 J 题。


---

---
title: "[蓝桥杯 2021 国 A] 积木"
layout: "post"
diff: NOI/NOI+/CTSC
pid: P8768
tag: ['2021', '多项式', '组合数学', '快速数论变换 NTT', '蓝桥杯国赛']
---
# [蓝桥杯 2021 国 A] 积木
## 题目描述

小蓝有大量正方体的积木（所有积木完全相同），他准备用积木搭一个巨大的图形。

小蓝将积木全部平铺在地面上，而不垒起来，以便更稳定。他将积木摆成一行一行的，每行的左边对齐，共 $n$ 行，形成最终的图形。

第一行小蓝摆了 $H_{1}=w$ 块积木。从第二行开始，第 $i$ 行的积木数量 $H_{i}$ 都 至少比上一行多 $L$，至多比上一行多 $R$ (当 $L=0$ 时表示可以和上一行的积木数量相同)，即

$$
H_{i-1}+L \leq H_{i} \leq H_{i-1}+R_{\circ}
$$

给定 $x, y$ 和 $z$, 请问满足以上条件的方案中，有多少种方案满足第 $y$ 行的积木数量恰好为第 $x$ 行的积木数量的 $z$ 倍。
## 输入格式

输入一行包含 $7$ 个整数 $n, w, L, R, x, y, z$，意义如上所述。
## 输出格式

输出一个整数，表示满足条件的方案数，答案可能很大，请输出答案除以 $998244353$ 的余数。
## 样例

### 样例输入 #1
```
5 1 1 2 2 5 3
```
### 样例输出 #1
```
4

```
### 样例输入 #2
```
233 5 1 8 100 215 3
```
### 样例输出 #2
```
308810105
```
## 提示

**【样例说明】**

符合条件的积木如图所示
![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_29_ca697d8d2e5bb8d06fa0g-17.jpg)

**【评测用例规模与约定】**

对于 $10 \%$ 的评测用例, $1 \leq n \leq 10,1 \leq w \leq 10,0 \leq L \leq R \leq 3$;

对于 $20 \%$ 的评测用例, $1 \leq n \leq 20,1 \leq w \leq 10,0 \leq L \leq R \leq 4$;

对于 $35 \%$ 的评测用例, $1 \leq n \leq 500,0 \leq L \leq R \leq 10$;

对于 $50 \%$ 的评测用例, $1 \leq n \leq 5000,0 \leq L \leq R \leq 10$;

对于 $60 \%$ 的评测用例, $1 \leq n \leq 20000,0 \leq L \leq R \leq 10$;

对于 $70 \%$ 的评测用例, $1 \leq n \leq 50000,0 \leq L \leq R \leq 10$;

对于 $85 \%$ 的评测用例, $1 \leq n \leq 3\times10^5,0 \leq L \leq R \leq 10$;

对于所有评测用例, $1 \leq n \leq 5\times10^5, 0 \leq w \leq 10^{9}, 0 \leq L \leq R \leq 40$, $1 \leq x<y \leq n, 0 \leq z \leq 10^{9}$ 。

蓝桥杯 2021 国赛 A 组 J 题。


---


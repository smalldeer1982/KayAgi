---
title: "符文之语"
layout: "post"
diff: 普及+/提高
pid: P1773
tag: ['动态规划 DP', '递推', 'NOI 导刊', '枚举']
---
# 符文之语
## 题目背景

传说中珠穆朗玛峰下有座古代人修建的神庙，神庙的地下室里有古代王室的遗产，但数千年来从未有人到达过……探险者小 FF 一直梦想成为世界上最富有的人和最杰出的探险家并被永载史册。在证明了这个洞确实存在后，小 FF 做好了充足准备，来到了神庙。
## 题目描述

当小 FF 来到神庙时，神庙已经破败不堪了。但神庙的中央有一个光亮如新的石台。小 FF 走近石台，发现石台上有一个数串，而数串的上方刻着一串古老的符文之语。精通古符文之语的小 FF 不费吹灰之力就读懂了文章的意思，其大意是：

对于石台上的一串数字，你可以在适当的位置加入乘号（设加了 $k$ 个，当然也可不加，即分成 $k+1$ 个部分），设这 $k+1$ 个部分的乘积（如果 $k=0$，则乘积即为原数串的值）对 $m$ 的余数（即 $\bmod\ m$）为 $x$；

现求 $x$ 能达到的最小值及该情况下 $k$ 的最小值，以及 $x$ 能达到的最大值及该情况下的 $k$ 的最小值（可以存在 $x$ 的最小值与最大值相同的情况）。

小 FF 还知道，如果他找到了正确的答案，那么就可以通往神庙的下层了。但这个问题似乎不太好解决，小 FF 就找到了你，并答应找到财宝以后和你二八分（当然你拿二……）。
## 输入格式

第一行为数串，且数串中不存在 $0$；

第二行为 $m$。
## 输出格式

四个数，分别为 $x$ 的最小值和该情况下的 $k$，以及 $x$ 的最大值和该情况下的 $k$，相邻两个数之间用一个空格隔开。
## 样例

### 样例输入 #1
```
4421

22


```
### 样例输出 #1
```
0 1 21 0
```
## 提示

记 $L$ 表示字符串的长度。

- 对于 $30\%$ 的数据：$2 \le L \le 50$；
- 对于 $100\%$ 的数据：$2 \le L \le 1000$，$2 \le m \le 50$。

NOI 导刊 $2010$ 提高（$02$）


---

---
title: "宝物筛选"
layout: "post"
diff: 普及+/提高
pid: P1776
tag: ['动态规划 DP', '单调队列', 'NOI 导刊', '背包 DP', '进制']
---
# 宝物筛选
## 题目描述

终于，破解了千年的难题。小 FF 找到了王室的宝物室，里面堆满了无数价值连城的宝物。

这下小 FF 可发财了，嘎嘎。但是这里的宝物实在是太多了，小 FF 的采集车似乎装不下那么多宝物。看来小 FF 只能含泪舍弃其中的一部分宝物了。

小 FF 对洞穴里的宝物进行了整理，他发现每样宝物都有一件或者多件。他粗略估算了下每样宝物的价值，之后开始了宝物筛选工作：小 FF 有一个最大载重为 $W$ 的采集车，洞穴里总共有 $n$ 种宝物，每种宝物的价值为 $v_i$，重量为 $w_i$，每种宝物有 $m_i$ 件。小 FF 希望在采集车不超载的前提下，选择一些宝物装进采集车，使得它们的价值和最大。
## 输入格式

第一行为一个整数 $n$ 和 $W$，分别表示宝物种数和采集车的最大载重。

接下来 $n$ 行每行三个整数 $v_i,w_i,m_i$。
## 输出格式

输出仅一个整数，表示在采集车不超载的情况下收集的宝物的最大价值。
## 样例

### 样例输入 #1
```
4 20
3 9 3
5 9 1
9 4 2
8 1 3
```
### 样例输出 #1
```
47
```
## 提示

对于 $30\%$ 的数据，$n\leq \sum m_i\leq 10^4$，$0\le W\leq 10^3$。

对于 $100\%$ 的数据，$n\leq \sum m_i \leq 10^5$，$0\le W\leq 4\times 10^4$，$1\leq n\le 100$。


---

---
title: "数列"
layout: "post"
diff: 普及+/提高
pid: P1799
tag: ['动态规划 DP', 'NOI 导刊']
---
# 数列
## 题目描述

虽然 msh 长大了，但她还是很喜欢找点游戏自娱自乐。有一天，她在纸上写了一串数字：$1, 1, 2, 5, 4$。接着她擦掉了一个 $1$，结果发现剩下 $1, 2, 4$ 都在自己所在的位置上，即 $1$ 在第 $1$ 位，$2$ 在第 $2$ 位，$4$ 在第 $4$ 位。她希望擦掉某些数后，剩下的数列中在自己位置上的数尽量多。她发现这个游戏很好玩，于是开始乐此不疲地玩起来……不过她不能确定最多能有多少个数在自己的位置上，所以找到你，请你帮忙计算一下！

## 输入格式

第一行为一个数 $n$，表示数列的长度。

接下来一行为 $n$个用空格隔开的正整数，第 $i$ 行表示数 $A_i$。

## 输出格式

一行一个整数，表示擦掉某些数后，最后剩下的数列中最多能有多少个数在自己的位置上，即 $A_i=i$ 最多能有多少。

## 样例

### 样例输入 #1
```
5

1 1 2 5 4


```
### 样例输出 #1
```
3
```
## 提示

### 数据范围及约定

- 对于 $20\%$ 的数据，$n\leq 20$；
- 对于 $60\%$ 的数据，$n\leq 100$；
- 对于 $100\%$ 的数据，$n\leq 10^3$。



---

---
title: "黑匣子"
layout: "post"
diff: 普及+/提高
pid: P1801
tag: ['线段树', '平衡树', '堆', 'NOI 导刊', 'O2优化']
---
# 黑匣子
## 题目描述

Black Box 是一种原始的数据库。它可以储存一个整数数组，还有一个特别的变量 $i$。最开始的时候 Black Box 是空的．而 $i=0$。这个 Black Box 要处理一串命令。

命令只有两种：

- `ADD(x)`：把 $x$ 元素放进 Black Box;

- `GET`：$i$ 加 $1$，然后输出 Black Box 中第 $i$ 小的数。

记住：第 $i$ 小的数，就是 Black Box 里的数的按从小到大的顺序排序后的第 $i$ 个元素。

我们来演示一下一个有11个命令的命令串。（如下表所示）

| 序号 | 操作 | $i$ | 数据库 | 输出 |
| :--: | :--- | :------: | ------ | :----: |
|   1  | `ADD(3)`     |   $0$    |  $3$  | / |
|   2  | `GET` |   $1$    |  $3$  | $3$ |
|   3  |`ADD(1)`|$1$|$1,3$|/|
|   4  |`GET`|$2$|$1,3$|$3$|
|   5  |`ADD(-4)`|$2$|$-4,1,3$|/|
|   6  |`ADD(2)`|$2$|$-4,1,2,3$|/|
|   7  |`ADD(8)`|$2$|$-4,1,2,3,8$|/|
|   8  |`ADD(-1000)`|$2$|$-1000,-4,1,2,3,8$|/|
|   9  |`GET`|$3$|$-1000,-4,1,2,3,8$|$1$|
|  10  |`GET`|$4$|$-1000,-4,1,2,3,8$|$2$|
|  11  |`ADD(2)`|$4$|$-1000,-4,1,2,2,3,8$|/|

现在要求找出对于给定的命令串的最好的处理方法。`ADD` 命令共有 $m$ 个，`GET` 命令共有 $n$ 个。现在用两个整数数组来表示命令串：

1. $a_1,a_2,\cdots,a_m$：一串将要被放进 Black Box 的元素。例如上面的例子中 $a=[3,1,-4,2,8,-1000,2]$。

2. $u_1,u_2,\cdots,u_n$：表示第 $u_i$ 个元素被放进了 Black Box 里后就出现一个 `GET` 命令。例如上面的例子中 $u=[1,2,6,6]$ 。输入数据不用判错。
## 输入格式

第一行两个整数 $m$ 和 $n$，表示元素的个数和 `GET` 命令的个数。

第二行共 $m$ 个整数，从左至右第 $i$ 个整数为 $a_i$，用空格隔开。

第三行共 $n$ 个整数，从左至右第 $i$ 个整数为 $u_i$，用空格隔开。
## 输出格式

输出 Black Box 根据命令串所得出的输出串，一个数字一行。 
## 样例

### 样例输入 #1
```
7 4
3 1 -4 2 8 -1000 2
1 2 6 6

```
### 样例输出 #1
```
3
3
1
2

```
## 提示

#### 数据规模与约定

- 对于 $30\%$ 的数据，$1 \leq n,m \leq 10^{4}$。
- 对于 $50\%$ 的数据，$1 \leq n,m \leq 10^{5}$。
- 对于 $100\%$ 的数据，$1 \leq n,m \leq 2 \times 10^{5},|a_i| \leq 2 \times 10^{9}$，保证 $u$ 序列单调不降。


---

---
title: "过河问题"
layout: "post"
diff: 普及+/提高
pid: P1809
tag: ['NOI 导刊']
---
# 过河问题
## 题目描述

有一个大晴天，Oliver 与同学们一共 $N$ 人出游，他们走到一条河的东岸边，想要过河到西岸。而东岸边有一条小船。 

船太小了，一次只能乘坐两人。每个人都有一个渡河时间 $T$，船划到对岸的时间等于船上渡河时间较长的人所用时间。 

现在已知 $N$ 个人的渡河时间 $T$，Oliver 想要你告诉他，他们最少要花费多少时间，才能使所有人都过河。 

注意，只有船在东岸（西岸）的人才能坐上船划到对岸。
## 输入格式

输入文件第一行为人数 $N$，以下有 $N$ 行，每行一个数。 

第 $i+1$ 行的数为第 $i$ 个人的渡河时间。
## 输出格式

输出文件仅包含一个数，表示所有人都渡过河的最少渡河时间。
## 样例

### 样例输入 #1
```
4
6
7
10
15

```
### 样例输出 #1
```
42

```
## 提示

### 数据范围

对于 $40\%$ 的数据满足 $N\le8$。 

对于 $100\%$ 的数据满足 $N\le100000$。


### 样例解释

- 初始：东岸 $\{1,2,3,4\}$，西岸 $\{\}$；
- 第一次：东岸 $\{3,4\}$，西岸 $\{1,2\}$，时间 $7$；
- 第二次：东岸 $\{1,3,4\}$，西岸 $\{2\}$，时间 $6$；
- 第三次：东岸 $\{1\}$，西岸 $\{2,3,4\}$，时间 $15$；
- 第四次：东岸 $\{1,2\}$，西岸 $\{3,4\}$ 时间 $7$；
- 第五次：东岸 $\{\}$，西岸 $\{1,2,3,4\}$ 时间 $7$。

所以总时间为 $7+6+15+7+7=42$，没有比这个更优的方案。


---

---
title: "数页码"
layout: "post"
diff: 普及+/提高
pid: P1836
tag: ['NOI 导刊']
---
# 数页码
## 题目描述

一本书的页码是从 $1\sim n$ 编号的连续整数：$1,2,3,\cdots,n$。请你求出全部页码中所有单个数字的和，例如第 $123$ 页，它的和就是 $ 1+2+3=6$。

## 输入格式

一行一个整数 $n$。

## 输出格式

一行，代表所有单个数字的和。

## 样例

### 样例输入 #1
```
3456789
```
### 样例输出 #1
```
96342015 
```
## 提示

$1\le n\le 10^9$


---

---
title: "阅览室"
layout: "post"
diff: 普及+/提高
pid: P1844
tag: ['NOI 导刊']
---
# 阅览室
## 题目描述

一个阅览室每天都要接待大批读者。阅览室开门时间是 $O$，关门时间是 $T$。每位读者的到达时间都不一样，并且想要阅读的刊物不超过 $5$ 本。

每位读者心里对自己想看的刊物都有一个排位，到达之后他会先去找自己最想看的刊物，如果找不到则去找其次想看的刊物。如果找不到任何他想看的刊物，他会开始等待，直到有一本以上的他想看的刊物被人放回原处。当然，他会先去拿其中自己最想看的刊物。当他看完某一本刊物后，就把它放回原处，接着去找自己没看过的最想看的刊物。如此下去，直到看完所有他想看的刊物为止。

矛盾出现在两个人同时想要拿同一本刊物的时候。阅览室为了避免读者之间出现争执，作了一个规定，读者每次在开始等待时先去服务台做一次登记。如果两个人都同时想要一本刊物，那么先登记的读者将得到这本刊物。如果两个人同时登记，那么先到达阅览室的读者将得到刊物。没得到的人就只能去找其他的刊物看。

阅览室关门时，所有读者都将被强迫离开阅览室，不再允许继续阅读。

现在阅览室想做一个统计调查，你被要求写一个程序来模拟这个过程计算出所有刊物被阅读的总次数。当某个读者开始阅读某本刊物时，该刊物的被阅读次数就加 $1$，无论这本刊物最后有没有被读完。
## 输入格式

输入包含多组测试数据。

每个测试数据开头是两个整数 $T$ 和 $n\ (1 \le n \le 100)$，分别表示图书馆关门时间和读者总数。接下来按照读者的到达时间先后依次给出了每位读者的具体描述。

每个读者描述开头是一个整数 $t\ (0 \le t<T)$，表示该读者到达时间。接下来一行开头是一个整数 $k\ (1 \le k \le 5)$，表示该读者想要看的刊物数目。之后跟着 $2k$ 个整数按照读者想要阅读的刊物的顺序依次给出了刊物的描述。其中第 $2i-1$ 个整数表示刊物的编号 $s\ (0 \le s<1000)$，第 $2i$ 个整数表示该读者读完这本刊物所需的时间。
## 输出格式

对于每个测试数据，在单独一行里输出所有刊物被阅读的总次数。

## 样例

### 样例输入 #1
```
10 4 
1
2 1 4 2 5 
3 
1 2 4 
7 
3 2 2 1 3 3 2 
9 
1 4 2 
```
### 样例输出 #1
```
5
```


---

---
title: "刺杀大使"
layout: "post"
diff: 普及+/提高
pid: P1902
tag: ['二分', 'NOI 导刊', '广度优先搜索 BFS']
---
# 刺杀大使
## 题目描述

某组织正在策划一起对某大使的刺杀行动。他们来到了使馆，准备完成此次刺杀，要进入使馆首先必须通过使馆前的防御迷阵。

迷阵由 $n\times m$ 个相同的小房间组成，每个房间与相邻四个房间之间有门可通行。在第 $n$ 行的 $m$ 个房间里有 $m$ 个机关，这些机关必须全部打开才可以进入大使馆。而第 $1$ 行的 $m$ 个房间有 $m$ 扇向外打开的门，是迷阵的入口。除了第 $1$ 行和第 $n$ 行的房间外，每个房间都被使馆的安保人员安装了激光杀伤装置，将会对进入房间的人造成一定的伤害。第 $i$ 行第 $j$ 列 造成的伤害值为 $p_{i,j}$（第 $1$ 行和第 $n$ 行的 $p$ 值全部为 $0$）。

现在某组织打算以最小伤害代价进入迷阵，打开全部机关，显然，他们可以选 择任意多的人从任意的门进入，但必须到达第 $n$ 行的每个房间。一个士兵受到的伤害值为他到达某个机关的路径上所有房间的伤害值中的最大值，整个部队受到的伤害值为所有士兵的伤害值中的最大值。现在，这个恐怖组织掌握了迷阵的情况，他们需要提前知道怎么安排士兵的行进路线可以使得整个部队的伤害值最小。
## 输入格式

第一行有两个整数 $n,m$，表示迷阵的大小。

接下来 $n$ 行，每行 $m$ 个数，第 $i$ 行第 $j$ 列的数表示 $p_{i,j}$。
## 输出格式

输出一个数，表示最小伤害代价。

## 样例

### 样例输入 #1
```
4 2
0 0 
3 5 
2 4 
0 0 

```
### 样例输出 #1
```
3
```
## 提示

- $50\%$ 的数据，$n,m \leq 100$；
- $100\%$ 的数据，$n,m \leq 1000$，$p_{i,j} \leq 1000$。


---

---
title: "词编码"
layout: "post"
diff: 普及+/提高
pid: P1942
tag: ['模拟', 'NOI 导刊']
---
# 词编码
## 题目描述

一个发送机可以通过一条隧道发送一些以二进制代码组成的单词。在其尽头的接收机可以使用特殊技术恢复到最初的单词。每个单词最初都由0和1组成。所有的单词最初长度都为n（4<=n<=1000）。当穿过隧道之后单词可能发生以下几种情况之一：

1. 任意（一个）0被1取代
2. 任意（一个）符号被删除
3. 一个符号（0或1）被插入到任何位置
4. 不改变

我们知道最初的单词都具有以下性质：有1的位置号的总和是n+1的倍数，或者是0.

## 输入格式

n和转换后的单词，每个单词占一行。单词数不大于2001，不会有其他任何东西，除了一些空格和空行。

## 输出格式

你的程序应该打印输出原始序列的词，注意换行。

若有多解，操作4优先，不行则按操作1，2，3优先。同一操作，按操作位置最优的优先（从左到右数起1,2,3……n），还有操作2时，被删数列，先在被删数列添0，不行再添1。

如果没答案输出-1。

## 样例

### 样例输入 #1
```
4
0000
011
1011
11011
```
### 样例输出 #1
```
0000
0110
1001
1111
```


---

---
title: "易语言"
layout: "post"
diff: 普及+/提高
pid: P1953
tag: ['模拟', '字符串', 'NOI 导刊']
---
# 易语言
## 题目描述

老师近段时间正在研究易语言，这是一款 Windows 下的可视化编程系统，由大连大有吴涛软件开发公司开发的、具有中国知识产权的系统。为了更好地学习该套系统，老师总是有意识地在实践中运用这套系统来开发程序。

这不，今天老师碰到了一个问题，那就是“当把数据放置到 KOJ 上去时，需要把测试数据改成相应的文件名”。举个例子说，如果原始测试数据文件名是 $\text{e0.in,\,e1.in\;...\;e9.in}$ 和 $\text{e0.out,\,e1.out\;...\;e9.out}$，则老师需要把文件全部改为 $\text{data1.in,\,data2.in\;...\;data10.in}$ 和 $\text{data1.out,\,data2.out\;...\;data10.out}$。程序界面如下图所示：

*（注：此处似乎缺少一张图片，但不影响对题意的理解）*

当然了，老师是编程的菜鸟，比起你可是差多了，所以他的程序不是很好，现在想请你帮老师改进这个程序。

事先，老师会告诉你所需要生成的目标文件名格式，比如，他告诉你 $\text{enger0.in}$ 和 $\text{ans}$ ，则表示目标文件中输入文件的主名是 $\text{enger}$，扩展名是 $\text{in}$，编号从 $0$ 开始而且跟在主名后面，当然了，输出文件名就依次是 $\text{enger0.ans,\,enger1.ans\;...\;enger}x\text{.ans}$，其中的 $x$ 你可以统计老师告诉你的原始文件名的个数来确定。另外，老师也会告诉你原始的所有输入数据的文件名全称，比如 $\text{a1.txt,\,a2.txt\;...\;a}x\text{.txt}$。但老师是一个粗心的人，你不要期望老师给你的文件名是按照编号从小到大给出的，但给出的文件名肯定是正确的而且满足一般输入输出文件名的规律的(编号数字肯定出现在文件主名末尾或者扩展名末尾，而且除了这个编号数字外，在原始文件名和生成的目标文件名其他的任何地方都不会出现数字)。

有些原始的输入输出文件名并不需要改变主名和扩展名，而只需改变文件编号即可，此时，老师首先会告诉你一个数字 $1$（或者 $0$），表示最终生成的目标文件的主名和扩展名不必改变，而只需把编号改为从 $1$（或者 $0$）开始即可。

## 输入格式

输入的第一行有两种情况，第一种情况是两个字符串，分别表示最终生成的目标文件名的格式（第一个表示生成的目标文件中的第一个输入文件的名字）；第二种情况是只有一个数字 $1$（或者 $0$），表示文件名主名和扩展名不必更改，只需修改成从 $1$（或者 $0$）开始编号的文件名即可。接下来 $n$ 行（$1 \le n \le 10^5$），每行两个用一个空格分隔的字符串，分别表示原始输入和输出文件的文件名（对于输入和输出文件中所有文件名的主名和扩展名都不超过 $10$ 个字符，而且文件的最大编号不会超过 $2 \times 10^5$）。

## 输出格式

输出包含 $n$ 行，每行两个用一个空格分隔的字符串，分别表示最终生成的目标文件的文件名。第一个表示输入文件，第二个表示输出文件。按照编号从小到大输出。
## 样例

### 样例输入 #1
```
enger0.in ans
abc1.in abc1.out
abc2.in abc2.out
abc3.in abc3.out
abc4.in abc4.out

```
### 样例输出 #1
```
enger0.in enger0.ans
enger1.in enger1.ans
enger2.in enger2.ans
enger3.in enger3.ans

```
### 样例输入 #2
```
1
aa.in0 aa.ou0
aa.in1 aa.ou1
aa.in2 aa.ou2

```
### 样例输出 #2
```
aa.in1 aa.ou1
aa.in2 aa.ou2
aa.in3 aa.ou3

```


---

---
title: "奖品"
layout: "post"
diff: 普及+/提高
pid: P5878
tag: ['NOI 导刊']
---
# 奖品
## 题目描述

学校刚开完运动会，准备为尽可能多的同学评奖，并为每个人颁发一份奖品。一份奖品包括 $N$ 个物品，如：$5$ 支铅笔、$10$ 本练习薄等。每份奖品完全一样。虽然学校的保管室里还有一些办去年运动会后剩余的物品。在商店里，每种物品都有很多，但是，只有两种包装：大盒或小盒，并且不拆开买。

现在的问题是，充分利用这 $M$ 元钱，最多可准备多少分这样的奖品？

## 输入格式

第一行两个整数：$N,M$。

下面有 $N$ 行，每行有六个正整数 $x,y,sm,pm,sv,pv$，分别表示一种物品的相关数据：

* $x$，一份奖品中，这种物品需要的件数。
* $y$，这种物品去年剩余的件数。
* $sm$，这种物品小包装的件数。
* $pm$，这种物品小包装的一盒价格。
* $sv$，这种物品大包装里的件数。
* $pv$，这种物品大包装的一盒价格。

## 输出格式

一个整数，最多可准备的礼品份数。
## 样例

### 样例输入 #1
```
2 100
10 8 10 10 13 11
12 20 6 10 17 24

```
### 样例输出 #1
```
5
```
### 样例输入 #2
```
3 65
10 5 7 10 13 14
10 5 8 11 14 15
10 5 9 12 15 16

```
### 样例输出 #2
```
2
```
## 提示

对于全部的数据，满足：

$1 \le N \le 100$，$1 \le M \le 10^5$。

$10 \le x, pm \le 100$，$1 \le y, sm \le 100$，$sm < sv \le 100$，$pm<pv\le 100$。


---

---
title: "放棋子"
layout: "post"
diff: 普及+/提高
pid: P5879
tag: ['NOI 导刊']
---
# 放棋子
## 题目描述

小虎刚刚上了幼儿园，老师让他做一个家庭作业：首先画 $3$ 行格子，第一行有三个格子，第二行有 $2$ 个格子，第三行有 $1$ 个格子。每行的格子从左到右可以放棋子，但要求除第一行外，每行放的棋子数不能超过上一行的棋子。第一行的棋子数不能为 $0$，但剩下行可以为空。玩了一会儿，小虎对哥哥大虎说：”这个作业有很多种摆放法，我想找到，但我不知道有多少种方案，你能帮助我吗？”

大虎是学校信息学集训队的，立刻想到用计算机来解决这个问题，并很快有了解答：$13$。

第二天他把问题拿到学校，并说如果第一行有 $N$ 个格子，第二行有 $N-1$ 个格子，……，第 $N$ 行有 $1$ 个格子，怎么办？现在请你一块来帮助他解决这个难题。
## 输入格式

仅一行，一个正整数 $N$。
## 输出格式

一行，方案总数。
## 样例

### 样例输入 #1
```
2
```
### 样例输出 #1
```
4
```
### 样例输入 #2
```
3
```
### 样例输出 #2
```
13
```
## 提示

样例 1 说明：$N=2$ 时，有如下 $4$ 种摆放棋子法（`*` 表示棋子，`_` 表示空格）：
|  方案数| 1 | 2 | 3 | 4 |
| :----------- | :----------- | :----------- | :----------- | :----------- |
| **第一行** | `*_` | `**` | `*_` | `**` |
| **第二行** | `_` | `_` | `*` | `*` |


对于 $30\%$ 数据：$1\le N\le 12$。

对于 $50\%$ 数据：$1\le N\le 30$。

对于 $100\%$ 数据：$1\le N\le 100$。



---

---
title: "奶牛排队"
layout: "post"
diff: 普及+/提高
pid: P6510
tag: ['单调队列', 'NOI 导刊', 'O2优化', '分治', '栈']
---
# 奶牛排队
## 题目描述

奶牛在熊大妈的带领下排成了一条直队。

显然，不同的奶牛身高不一定相同……

现在，奶牛们想知道，如果找出一些连续的奶牛，要求最左边的奶牛 $A$ 是最矮的，最右边的 $B$ 是最高的，且 $B$ 高于 $A$ 奶牛。中间如果存在奶牛，则身高不能和 $A,B$ 奶牛相同。问这样的奶牛最多会有多少头？

从左到右给出奶牛的身高，请告诉它们符合条件的最多的奶牛数（答案可能是 $0,2$，但不会是 $1$）。
## 输入格式

第一行一个正整数 $N$，表示奶牛的头数。

接下来 $N$ 行，每行一个正整数，从上到下表示从左到右奶牛的身高 $h_i$。

## 输出格式

一行一个整数，表示最多奶牛数。
## 样例

### 样例输入 #1
```
5
1
2
3
4
1
```
### 样例输出 #1
```
4
```
## 提示

#### 样例解释

取第 $1$ 头到第 $4$ 头奶牛，满足条件且为最多。

#### 数据范围

对于全部的数据，满足 $2 \le N \le 10^5$，$1 \le h_i <2^{31}$。


---


---
title: "[NOIP 2002 提高组] 字串变换"
layout: "post"
diff: 普及+/提高
pid: P1032
tag: ['字符串', '搜索', '2002', 'NOIP 提高组', '广度优先搜索 BFS', '剪枝', '折半搜索 meet in the middle']
---
# [NOIP 2002 提高组] 字串变换
## 题目背景

本题不保证存在靠谱的多项式复杂度的做法。测试数据非常的水，各种做法都可以通过，不代表算法正确。因此本题题目和数据仅供参考。

本题为搜索题，本题不接受 hack 数据。[关于此类题目的详细内容](https://www.luogu.com.cn/paste/isdgwj5l)
## 题目描述

已知有两个字串 $A,B$ 及一组字串变换的规则（至多 $6$ 个规则），形如：

- $A_1\to B_1$。
- $A_2\to B_2$。

规则的含义为：在 $A$ 中的子串 $A_1$ 可以变换为 $ B_1$，$A_2$ 可以变换为 $B_2\cdots$。

例如：$A=\texttt{abcd}$，$B＝\texttt{xyz}$，

变换规则为：

- $\texttt{abc}\rightarrow\texttt{xu}$，$\texttt{ud}\rightarrow\texttt{y}$，$\texttt{y}\rightarrow\texttt{yz}$。

则此时，$A$ 可以经过一系列的变换变为 $B$，其变换的过程为：

- $\texttt{abcd}\rightarrow\texttt{xud}\rightarrow\texttt{xy}\rightarrow\texttt{xyz}$。

共进行了 $3$ 次变换，使得 $A$ 变换为 $B$。

## 输入格式

第一行有两个字符串 $A,B$。

接下来若干行，每行有两个字符串 $A_i,B_i$，表示一条变换规则。

## 输出格式

若在 $10$ 步（包含 $10$ 步）以内能将 $A$ 变换为 $B$，则输出最少的变换步数；否则输出 `NO ANSWER!`。

## 样例

### 样例输入 #1
```
abcd xyz
abc xu
ud y
y yz

```
### 样例输出 #1
```
3

```
## 提示

对于 $100\%$ 数据，保证所有字符串长度的上限为 $20$。

**【题目来源】**

NOIP 2002 提高组第二题


---

---
title: "送礼物"
layout: "post"
diff: 普及+/提高
pid: P10484
tag: ['折半搜索 meet in the middle']
---
# 送礼物
## 题目描述

作为惩罚，GY 被遣送去帮助某神牛给女生送礼物 (GY：貌似是个好差事）但是在 GY 看到礼物之后，他就不这么认为了。某神牛有 $N$ 个礼物，且异常沉重，但是 GY 的力气也异常的大 (-_-b)，他一次可以搬动重量和在 $w$ 以下的任意多个物品。GY 希望一次搬掉尽量重的一些物品，请你告诉他在他的力气范围内一次性能搬动的最大重量是多少。
## 输入格式

第一行两个整数，分别代表 $W$ 和 $N$。

以后 $N$ 行，每行一个正整数表示 $G_i$。
## 输出格式

仅一个整数，表示 GY 在他的力气范围内一次性能搬动的最大重量。
## 样例

### 样例输入 #1
```
20 5
7
5
4
18
1
```
### 样例输出 #1
```
19
```
## 提示

对于所有测试数据，$1 \le N \le 46$, $1 \le W,G[i] \le 2^{31}-1$。


---

---
title: "【MX-X2-T3】「Cfz Round 4」Ninelie"
layout: "post"
diff: 普及+/提高
pid: P10854
tag: ['Special Judge', 'O2优化', '构造', '折半搜索 meet in the middle', '梦熊比赛']
---
# 【MX-X2-T3】「Cfz Round 4」Ninelie
## 题目背景

原题链接：<https://oier.team/problems/X2C>。

---

![](https://cdn.luogu.com.cn/upload/image_hosting/3g0aruaq.png)

沿着单侧无尽响彻的旋律 流经眼前的街道 伴随着落幕的爱 渐行渐远  
那无法传达的理想构图日渐扭曲沉寂的抵抗在此刻觉醒 冲动也在此刻姗姗来迟  
支离破碎的哭喊和美梦 理想只剩下装饰的门面  
哪怕城市乐于被喧嚣嘈杂所淹没  
我也会继续高歌舍弃那掌控我的一切  
所以只愿那静谧 再度响彻  
> 无需畏惧 黎明已然降临
## 题目描述

给定一个长为 $n$ 的 $01$ 序列 $a_1, \ldots, a_n$ 以及一个正整数 $r$。

你可以对序列 $a$ 进行操作。每次操作需选定一个下标 $p$，满足 $p$ 为 $1$ 或 $n$ 或 $a_{p-1}\neq a_{p+1}$，然后将 $a_p$ 翻转（即将 $0$ 变为 $1$，将 $1$ 变为 $0$）。

请你在 $r$ 次操作内将序列 $a$ 变成全 $0$ 或全 $1$。**你不需要最小化操作次数**。如果无法完成，你需要报告无解。

**数据保证 $\bm{r = 2 \times 10^6}$ 或 $\bm{10^6}$，具体细节请参见【数据范围】一节。**
## 输入格式

第一行两个正整数 $n,r$。

第二行 $n$ 个整数 $a_1, \ldots, a_n$。
## 输出格式

若无法在 $r$ 次操作内将序列 $a$ 变成全 $0$ 或全 $1$，则输出一行一个整数 $-1$。

若存在一种构造方案，则输出两行：

- 第一行包含一个非负整数 $m$，表示你的操作次数；你需要保证 $m\le r$，**你不需要最小化 $\bm m$**；
- 第二行包含 $m$ 个正整数，依次表示每次操作的下标 $p$。
## 样例

### 样例输入 #1
```
4 1000000
0 0 1 0

```
### 样例输出 #1
```
3
2 4 1

```
### 样例输入 #2
```
5 1000000
1 1 1 1 1

```
### 样例输出 #2
```
0


```
### 样例输入 #3
```
10 1000000
0 1 0 0 1 1 0 0 1 0

```
### 样例输出 #3
```
18
1 2 10 1 9 4 10 4 7 4 7 3 7 8 9 2 10 1

```
## 提示

**【样例解释 #1】**

每次操作后的序列 $a$ 分别为：

- $[0,1,1,0]$；
- $[0,1,1,1]$；
- $[1,1,1,1]$。

此时序列 $a$ 中的全部元素均相同。

**【数据范围】**

对于所有测试数据，$2\le n\le 2\times 10^3$，$a_i\in\{0,1\}$，$r = 2 \times 10^6$ 或 $10^6$。

**本题采用捆绑测试。**

- Subtask 1（20 points）：$n\le 10$，$r=2\times 10^6$。
- Subtask 2（30 points）：$r=2\times 10^6$。
- Subtask 3（50 points）：$r=10^6$。


---

---
title: "[NOI2001] 方程的解数"
layout: "post"
diff: 普及+/提高
pid: P5691
tag: ['数学', '2001', 'NOI', '折半搜索 meet in the middle']
---
# [NOI2001] 方程的解数
## 题目描述

已知一个 $n$ 元高次方程：         
$$\sum\limits_{i=1}^n k_ix_i^{p_i} = 0$$
其中：$x_1, x_2, \dots ,x_n$ 是未知数，$k_1,k_2, \dots ,k_n$ 是系数，$p_1,p_2,…p_n$ 是指数。且方程中的所有数均为整数。

假设未知数 $x_i \in [1,m] \space ( i \in [1,n])$，求这个方程的整数解的个数。
## 输入格式

第一行一个正整数 $n$，表示未知数个数。  
第二行一个正整数 $m$。
接下来 $n$ 行，每行两个整数 $k_i,p_i$。
## 输出格式

输出一行一个整数，表示方程解的个数。
## 样例

### 样例输入 #1
```
3
150
1 2
-1 2
1 2
```
### 样例输出 #1
```
178
```
## 提示

**【数据范围】**

对于 $100\%$ 的数据，$1\le n \le 6$，$1\le m \le 150$，且
$$\sum\limits_{i=1}^n |k_im^{p_i}| < 2^{31}$$  
答案不超过 $2^{31}-1$，$p_i \in \mathbb N^*$。


---


---
title: "【模板】离线二维数点"
layout: "post"
diff: 普及+/提高
pid: P10814
tag: ['树状数组', '扫描线', '离线处理']
---
# 【模板】离线二维数点
## 题目背景

青蛙。
## 题目描述

给你一个长为 $n$ 的序列 $a$，有 $m$ 次询问，每次询问给定 $l,r,x$，求 $[l,r]$ 区间中小于等于 $x$ 的元素个数。
## 输入格式

第一行两个数 $n,m$。

第二行 $n$ 个数表示序列 $a$。

之后 $m$ 行，每行三个数 $l,r,x$ 表示一次询问。
## 输出格式

对每个询问，输出一行一个数表示答案。
## 样例

### 样例输入 #1
```
6 4
1 1 4 5 1 4
1 6 3
1 6 4
1 1 4
1 5 4
```
### 样例输出 #1
```
3
5
1
4
```
## 提示

对于 $20\%$ 的数据，满足 $1\le n,m,a_i,l,r,x\le 100$。

对于 $40\%$ 的数据，满足 $1\le n,m,a_i,l,r,x\le 10^4$。

对于 $60\%$ 的数据，满足 $1\le n,m,a_i,l,r,x\le 10^5$。

对于 $80\%$ 的数据，满足 $1\le n,m,a_i,l,r,x\le 10^6$。

对于 $100\%$ 的数据，满足 $1\le n,m,a_i,l,r,x\le 2\times10^6$。


---

---
title: "[蓝桥杯 2024 国 Python B] 括号与字母"
layout: "post"
diff: 普及+/提高
pid: P12271
tag: ['2024', '前缀和', '栈', '蓝桥杯国赛', '离线处理']
---
# [蓝桥杯 2024 国 Python B] 括号与字母
## 题目描述

给定一个仅包含小写字母和括号的字符串 $S$，保证括号可以两两匹配。

给出 $Q$ 组询问，每组询问给出一个小写字母 $c_i$ 和一个数 $x_i$，询问 $S$ 中有多少对匹配的括号之间有不少于 $x_i$ 个 $c_i$。

## 输入格式

输入的第一行包含一个字符串 $S$。

第二行包含一个整数 $Q$。

接下来 $Q$ 行，每行包含一个小写字母 $c_i$ 和一个整数 $x_i$ 表示一组询问，用一个空格分隔。
## 输出格式

输出 $Q$ 行，每行包含一个整数，依次表示每个询问的答案。
## 样例

### 样例输入 #1
```
((a)()((b)((c))))
3
a 2
b 1
c 1
```
### 样例输出 #1
```
0
3
4
```
## 提示

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$|S|, Q \leq 5000$；
- 对于 $70\%$ 的评测用例，$|S| \leq 100000$；
- 对于所有评测用例，$1 \leq |S| \leq 10^6$，$1 \leq Q \leq 100000$，$0 \leq x_i < 10^6$。其中 $|S|$ 表示 $S$ 的长度。


---


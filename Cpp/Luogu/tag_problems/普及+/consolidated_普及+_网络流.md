---
title: "飞行员配对方案问题"
layout: "post"
diff: 普及+/提高
pid: P2756
tag: ['网络流', 'Special Judge', 'O2优化', '二分图', '网络流与线性规划 24 题']
---
# 飞行员配对方案问题
## 题目背景

第二次世界大战期间，英国皇家空军从沦陷国征募了大量外籍飞行员。由皇家空军派出的每一架飞机都需要配备在航行技能和语言上能互相配合的两名飞行员，其中一名是英国飞行员，另一名是外籍飞行员。在众多的飞行员中，每一名外籍飞行员都可以与其他若干名英国飞行员很好地配合。
## 题目描述

一共有 $n$ 个飞行员，其中有 $m$ 个外籍飞行员和 $(n - m)$ 个英国飞行员，**外籍飞行员从 $1$ 到 $m$ 编号**，**英国飞行员从 $m + 1$ 到 $n$ 编号**。 对于给定的外籍飞行员与英国飞行员的配合情况，试设计一个算法找出最佳飞行员配对方案，使皇家空军一次能派出最多的飞机。
## 输入格式

输入的第一行是用空格隔开的两个正整数，分别代表外籍飞行员的个数 $m$ 和飞行员总数 $n$。  
从第二行起到倒数第二行，每行有两个整数 $u, v$，代表外籍飞行员 $u$ 可以和英国飞行员 $v$ 配合。  
输入的最后一行保证为 `-1 -1`，代表输入结束。
## 输出格式

**本题存在 Special Judge**。  
请输出能派出最多的飞机数量，并给出一种可行的方案。  
输出的第一行是一个整数，代表一次能派出的最多飞机数量，设这个整数是 $k$。  
第 $2$ 行到第 $k + 1$ 行，每行输出两个整数 $u, v$，代表在你给出的方案中，外籍飞行员 $u$ 和英国飞行员 $v$ 配合。这 $k$ 行的 $u$ 与 $v$ 应该互不相同。
## 样例

### 样例输入 #1
```
5 10
1 7
1 8
2 6
2 9
2 10
3 7
3 8
4 7
4 8
5 10
-1 -1

```
### 样例输出 #1
```
4
1 7
2 9
3 8
5 10

```
## 提示

**【数据范围与约定】**

- 对于 $100\%$ 的数据，保证 $1 \leq m \leq n < 100$，$1 \leq u \leq m < v \leq n$，同一组配对关系只会给出一次。

**【提示】**

- 请注意输入的第一行先读入 $m$，再读入 $n$。


---

---
title: "软件补丁问题"
layout: "post"
diff: 普及+/提高
pid: P2761
tag: ['O2优化', '最短路', '网络流与线性规划 24 题', '状压 DP']
---
# 软件补丁问题
## 题目描述

T 公司发现其研制的一个软件中有 $n$ 个错误，随即为该软件发放了 $m$ 个补丁程序。

每一个补丁程序都有其特定的适用环境，某个补丁只有在软件中包含某些错误而同时又不包含另一些错误时才可以使用。一个补丁在排除某些错误的同时，往往会加入另一些错误。

换句话说，对于任意一个补丁 $i$，都有四个与之相应的集合 $B1_i,B2_i,F1_i$ 和 $F2_i$。仅当软件包含 $B1_i$ 中的所有错误，而不包含 $B2_i$ 中的任何错误时，才可以使用补丁 $i$。补丁 $i$ 将修复软件中的某些错误集合 $F1_i$，而同时加入另一些错误 $F2_i$。另外，运行每个补丁都耗费一定的时间。

试设计一个算法，利用 T 公司提供的 $m$ 个补丁程序将原软件修复成一个没有错误的软件，并使修复后的软件耗时最少。对于给定的 $n$ 个错误和 $m$ 个补丁程序，找到总耗时最少的软件修复方案。
## 输入格式

第一行有两个正整数 $n$ 和 $m$。$n$ 表示错误总数，$m$表示补丁总数。

接下来 $m$ 行给出了 $m$ 个补丁的信息。每行包括一个正整数，表示运行补丁程序 $i$ 所需时间，以及两个长度为 $n$ 的字符串。中间用一个空格符隔开。

第一个字符串中，如果第 $k$ 个字符为 ```+```，则表示第 $k$ 个错误属于 $B1_i$。若为 ```-```，则表示第 $k$ 个错误属于 $B2_i$。若为 ```0```，则第 $k$ 个错误既不属于 $B1_i$ 也不属于 $B2_i$，即软件中是否包含第 $k$ 个错误并不影响补丁 $i$ 的可用性。

第二个字符串中，如果第 $k$ 个字符为 ```-```，则表示第 $k$ 个错误属于 $F1_i$。若为 ```+```，则表示第 $k$ 个错误属于 $F2_i$。若为 ```0```，则第 $k$ 个错误既不属于 $F1_i$ 也不属于 $F2_i$，即软件中是否包含第 $k$ 个错误不会因使用补丁 $i$ 而改变。
## 输出格式

程序运行结束时，将总耗时数输出。如果问题无解，则输出 `0`。
## 样例

### 样例输入 #1
```
3 3
1 000 00-
1 00- 0-+
2 0-- -++

```
### 样例输出 #1
```
8

```
## 提示

对于 $100\%$ 的数据：$1\le n\le 20$，$1\le m\le 100$。


---

---
title: "魔术球问题"
layout: "post"
diff: 普及+/提高
pid: P2765
tag: ['贪心', '网络流', 'Special Judge', '网络流与线性规划 24 题']
---
# 魔术球问题
## 题目描述

假设有 $n$ 根柱子，现要按下述规则在这 $n$ 根柱子中依次放入编号为 $1$，$2$，$3$，...的球“

1. 每次只能在某根柱子的最上面放球。

2. 同一根柱子中，任何 $2$ 个相邻球的编号之和为完全平方数。

试设计一个算法，计算出在 $n$ 根柱子上最多能放多少个球。例如，在 $4$ 根柱子上最多可放 $11$ 个球。

对于给定的 $n$，计算在 $n$ 根柱子上最多能放多少个球。

## 输入格式

只有一行一个整数 $n$，代表柱子数。
## 输出格式

**本题存在 Special Judge**。

请将 $n$ 根柱子上最多能放的球数以及相应的放置方案输出。

输出的第一行是球数。

接下来的 $n$ 行，每行若干个整数，代表一根柱子上的球的编号，数字间用单个空格隔开。
## 样例

### 样例输入 #1
```
4
```
### 样例输出 #1
```
11
1 8
2 7 9
3 6 10
4 5 11
```
## 提示

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 \leq n \leq 55$。


---

---
title: "负载平衡问题"
layout: "post"
diff: 普及+/提高
pid: P4016
tag: ['数学', '贪心', '网络流', 'O2优化', '费用流', '网络流与线性规划 24 题']
---
# 负载平衡问题
## 题目描述

$G$ 公司有 $n$ 个沿铁路运输线环形排列的仓库，每个仓库存储的货物数量不等。如何用最少搬运量可以使 $n$ 个仓库的库存数量相同。搬运货物时，只能在相邻的仓库之间搬运。

## 输入格式

第一行一个正整数 $n$，表示有 $n$ 个仓库。

第二行 $n$ 个正整数，表示 $n$ 个仓库的库存量。

## 输出格式

输出最少搬运量。

## 样例

### 样例输入 #1
```
5
17 9 14 16 4
```
### 样例输出 #1
```
11
```
## 提示

$1 \leq n \leq 100$。



---


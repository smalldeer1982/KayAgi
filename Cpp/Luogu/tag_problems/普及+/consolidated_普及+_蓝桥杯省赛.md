---
title: "[蓝桥杯 2024 省 A] 团建"
layout: "post"
diff: 普及+/提高
pid: P10388
tag: ['2024', '哈希 hashing', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 A] 团建
## 题目描述

小蓝正在和朋友们团建，有一个游戏项目需要两人合作，两个人分别拿到一棵大小为 $n$ 和 $m$ 的树，树上的每个结点上有一个正整数权值。  
两个人需要从各自树的根结点 $1$ 出发走向某个叶结点，从根到这个叶结点的路径上经过的所有结点上的权值构成了一个正整数序列，两人的序列的最长公共前缀即为他们的得分。给出两棵树，请计算两个人最多的得分是多少。
## 输入格式

输入的第一行包含两个正整数 $n, m $，用一个空格分隔。  
第二行包含 $n$ 个正整数 $c_1, c_2,\cdots , c_n $，相邻整数之间使用一个空格分隔，其中 $c_i$ 表示第一棵树结点 $i$ 上的权值。  
第三行包含 $m$ 个正整数 $d_1, d_2,\cdots, d_m$，相邻整数之间使用一个空格分隔，其中 $d_i$ 表示第二棵树结点 $i$ 上的权值。  
接下来 $n - 1$ 行，每行包含两个正整数 $u_i
, v_i$ 表示第一棵树中包含一条 $u_i$ 和
$v_i$ 之间的边。  
接下来 $m - 1$ 行，每行包含两个正整数 $p_i
, q_i$ 表示第二棵树中包含一条 $p_i$
和 $q_i$ 之间的边。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
2 2
10 20
10 30
1 2
2 1
```
### 样例输出 #1
```
1
```
### 样例输入 #2
```
5 4
10 20 30 40 50
10 40 20 30
1 2
1 3
2 4
3 5
1 2
1 3
3 4
```
### 样例输出 #2
```
2
```
## 提示

对于 $20\%$ 的评测用例，$1 ≤ n, m ≤ 500 $；  
对于所有评测用例，$1 ≤ n, m ≤ 2 × 10^5，1 ≤ c_i
, d_i ≤ 10^8 ，1 ≤ u_i
, v_i ≤ n ，
1 ≤ p_i
, q_i ≤ m $，对于任意结点，其儿子结点的权重互不相同。


---

---
title: "[蓝桥杯 2024 省 A] 成绩统计"
layout: "post"
diff: 普及+/提高
pid: P10389
tag: ['数学', '二分', '2024', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 A] 成绩统计
## 题目描述

小蓝的班上有 $n$ 个人，一次考试之后小蓝想统计同学们的成绩，第 $i$ 名同学的成绩为 $a_i$。当小蓝统计完前 $x$ 名同学的成绩后，他可以从 $1 \sim x$ 中选出任意 $k$ 名同学的成绩，计算出这 $k$ 个成绩的方差。小蓝至少要检查多少个人的成
绩，才有可能选出 $k$ 名同学，他们的方差小于一个给定的值 $T$？
提示：$k$ 个数 $v_1, v_2, \cdots , v_k$ 的方差 $\sigma^2$ 定义为：$\sigma^2=\dfrac  {\sum_{i=1}^k(v_i-\bar v)^2} k$，其中 $\bar v$ 表示
$v_i$ 的平均值，$\bar v = \dfrac {\sum_{i=1}^k v_i} k$。
## 输入格式

输入的第一行包含三个正整数 $n, k, T $，相邻整数之间使用一个空格分隔。

第二行包含 $n$ 个正整数 $a_1, a2, \cdots, a_n$ ，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。如果不能满足条件，输出 $-1$ 。
## 样例

### 样例输入 #1
```
5 3 1
3 2 5 2 3
```
### 样例输出 #1
```
4
```
## 提示

检查完前三名同学的成绩后，只能选出 $3, 2, 5 $，方差为 $1.56 $；

检查完前四名同学的成绩后，可以选出 $3, 2, 2 $，方差为 $0.22 < 1 $，所以答案为 $4 $。

对于 $10\%$ 的评测用例，保证 $1 ≤ n, k ≤ 10^2$；  
对于 $30\%$ 的评测用例，保证 $1 ≤ n, k ≤ 10^3$ ；  
对于所有评测用例，保证 $1 ≤ n, k ≤ 10^5 $，$1 ≤ T ≤ 2
^{31} -1 $，$1 ≤ a_i ≤ n $。


---

---
title: "[蓝桥杯 2024 省 A] 零食采购"
layout: "post"
diff: 普及+/提高
pid: P10391
tag: ['2024', '最近公共祖先 LCA', '蓝桥杯省赛', '状压 DP']
---
# [蓝桥杯 2024 省 A] 零食采购
## 题目描述

小蓝准备去星际旅行，出发前想在本星系采购一些零食，星系内有 $n$ 颗星球，由 $n-1$ 条航路连接为连通图，第 $i$ 颗星球卖第 $c_i$ 种零食特产。小蓝想出了 $q$ 个采购方案，第 $i$ 个方案的起点为星球 $s_i$ ，终点为星球 $t_i$ ，对于每种采购方案，小蓝将从起点走最短的航路到终点，并且可以购买所有经过的星球上的零食（包括起点终点），请计算每种采购方案最多能买多少种不同的零食。
## 输入格式

输入的第一行包含两个正整数 $n$，$q$，用一个空格分隔。  
第二行包含 $n$ 个整数 $c_1,c_2,\cdots, c_n$，相邻整数之间使用一个空格分隔。  
接下来 $n - 1$ 行，第 $i$ 行包含两个整数 $u_i,v_i$，用一个空格分隔，表示一条
航路将星球 $u_i$ 与 $v_i$ 相连。  
接下来 $q$ 行，第 $i$ 行包含两个整数 $s_i
, t_i $，用一个空格分隔，表示一个采购方案。
## 输出格式

输出 $q$ 行，每行包含一个整数，依次表示每个采购方案的答案。
## 样例

### 样例输入 #1
```
4 2
1 2 3 1
1 2
1 3
2 4
4 3
1 4
```
### 样例输出 #1
```
3
2
```
## 提示

第一个方案路线为 $\{4, 2, 1, 3\}$，可以买到第 $1, 2, 3$ 种零食；  
第二个方案路线为 $\{1, 2, 4\}$，可以买到第 $1, 2$ 种零食。

对于 20% 的评测用例，$1 ≤ n, q ≤ 5000 $；    
对于所有评测用例，$1 ≤ n, q ≤ 10^5，1 ≤ c_i ≤ 20，1 ≤ u_i
, v_i ≤ n，1 ≤ s_i
, t_i ≤ n$。


---

---
title: "[蓝桥杯 2024 省 B] 拔河"
layout: "post"
diff: 普及+/提高
pid: P10429
tag: ['2024', '枚举', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 B] 拔河
## 题目描述

小明是学校里的一名老师，他带的班级共有 $n$ 名同学，第 $i$ 名同学力量值为 $a_i$。在闲暇之余，小明决定在班级里组织一场拔河比赛。

为了保证比赛的双方实力尽可能相近，需要在这 $n$ 名同学中挑选出两个队伍，队伍内的同学编号连续 $\{{a_{l_1}}, a_{l_1 + 1}, \dots, a_{r_1 - 1}, a_{r_1}\}$ 和 $\{{a_{l_2}}, a_{l_2 + 1}, \dots, a_{r_2 - 1}, a_{r_2}\}$，其中 $l_1 \le r_1<l_2 \le r_2$。

两个队伍的人数不必相同，但是需要让队伍内的同学们的力量值之和尽可能相近。请计算出力量值之和差距最小的挑选队伍的方式。
## 输入格式

输入共两行。
第一行为一个正整数 $n$。  
第二行为 $n$ 个正整数 $a_1, a_2, \dots a_n$。
## 输出格式

输出共一行，一个非负整数，表示两个队伍力量值之和的最小差距。
## 样例

### 样例输入 #1
```
5
10 9 8 12 14

```
### 样例输出 #1
```
1
```
## 提示

### 样例 1 解释

其中一种最优选择方式：

队伍 1：$\{a_1, a_2, a_3\}$，队伍 2：$\{a_4, a_5\}$，力量值和分别为 $10 + 9 + 8 = 27$，$12 + 14 = 26$，差距为 $|27 − 26| = 1$。

### 数据规模与约定

- 对 $20\%$ 的数据，$n \leq 50$。
- 对全部的测试数据，保证 $1 \leq n \leq 10^3$，$1 \leq a_i \leq 10^9$。


---

---
title: "[蓝桥杯 2024 省 Java B] 最优分组"
layout: "post"
diff: 普及+/提高
pid: P11045
tag: ['数学', '2024', '枚举', '期望', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 Java B] 最优分组
## 题目描述

小蓝开了一家宠物店，最近有一种 X 病毒在动物之间进行传染，小蓝为了以防万一打算购买测试剂对自己的宠物进行病毒感染测试。

为了减少使用的测试剂数目，小蓝想到了一个好方法：将 $N$ 个宠物平均分为若干组，使得每组恰好有 $K$ 只宠物，这样对同一组的宠物进行采样并混合后用一个试剂进行检测，如果测试结果为阴性则说明组内宠物都未感染 X 病毒；如果是阳性的话则需要对组内所有 $K$ 只宠物单独检测，需要再消耗 $K$ 支测试剂（当 $K=1$ 时，就没必要再次进行单独检测了，因为组内只有一只宠物，一次检测便能确认答案）。

现在我们已知小蓝的宠物被感染的概率为 $p$，请问 $K$ 应该取值为多少，才能使得期望的测试剂的消耗数目最少？如果有多个答案，请输出最小的 $K$。
## 输入格式

第一行，一个整数 $N$。

第二行，一个浮点数 $p$。
## 输出格式

输出一行，一个整数 $K$ 表示答案。
## 样例

### 样例输入 #1
```
1000
0.05
```
### 样例输出 #1
```
5
```
## 提示

**【评测用例规模与约定】**

对于 $30\%$ 的评测用例：$1\leq N\leq 10$。

对于 $60\%$ 的评测用例：$1\leq N\leq 1000$。

对于 $100\%$ 的评测用例：$1\leq N\leq 10^6$，$0\leq p\leq 1$。


---

---
title: "[蓝桥杯 2024 省 Java B] 拼十字"
layout: "post"
diff: 普及+/提高
pid: P11048
tag: ['树形数据结构', '树状数组', '2024', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 Java B] 拼十字
## 题目背景

备注：原题（Java）时间限制 3.0s，空间限制 512 MB。
## 题目描述

在 LQ 国神秘的古老森林，有一座被称为 “拼十字” 的神秘遗迹。据传， “拼十字” 是由古代文明建造的，它是一个巨大的石头结构，由两个巨大的矩形交叉叠放在一起，形成了一个庄严而神秘的十字形状。这个遗迹被认为是连接人类和神灵之间的通道，拥有神秘的力量和能量。

![](https://cdn.luogu.com.cn/upload/image_hosting/qn9sqnae.png)

现在给出 $N$ 个矩形，其中第 $i$ 个矩形的长度和宽度分别为 $l_i$，$w_i$，并且矩形的颜色 $c_i$ 为红 $(0)$、黄 $(1)$、蓝 $(2)$ 中的一种。现在小蓝想知道在这 $N$ 个矩形中有多少对可以“拼十字”？

两个矩形可以“拼十字”的充要条件是：

1. 两个矩形的颜色不同；
2. 矩形 $1$ 的长度严格大于矩形 $2$ 的长度并且矩形 $1$ 的宽度严格小于矩形 $2$ 的宽度。

注意，矩形长度和宽度属性是固定的，是不可以通过旋转矩形而发生转变的。
## 输入格式

第一行一个整数 $N$，表示有 $N$ 个矩形。

接下来 $N$ 行，每行输入三个整数 $l$、$w$、$c$ 表示一个矩形的长、宽和颜色。
## 输出格式

输出一个整数表示答案。由于答案可能会很大，所以你需要将答案对 $10^9 + 7$ 取模之后输出。
## 样例

### 样例输入 #1
```
5
1 10 0
6 6 0
8 6 1
6 10 0
1 2 1
```
### 样例输出 #1
```
2
```
## 提示

【样例解释】

第 $3$ 个矩形可以和第 $1$ 个矩形拼十字，第 $3$ 个矩形也可以和第 $4$ 个矩形拼十字。所以一共有两对矩形可以拼十字，答案为 $2$。

【数据范围】

- 对于 $30\%$ 的评测用例：$1 \leq N \leq 5000$。
- 对于 $100 \%$ 的评测用例：$1 \leq N \leq 10^5$，$1 \leq l,w \leq 10^5$，$0 \leq c \leq 2$。


---

---
title: "[蓝桥杯 2023 省 B] 整数删除"
layout: "post"
diff: 普及+/提高
pid: P12085
tag: ['堆', '2023', '链表', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 B] 整数删除
## 题目描述

给定一个长度为 $N$ 的整数数列：$A_{1},A_{2},\ldots,A_{N}$。你要重复以下操作 $K$ 次：

每次选择数列中最小的整数（如果最小值不止一个，选择最靠前的），将其删除。并把与它相邻的整数加上被删除的数值。

输出 $K$ 次操作后的序列。
## 输入格式

第一行包含两个整数 $N$ 和 $K$。

第二行包含 $N$ 个整数，$A_{1},A_{2},A_{3},\ldots,A_{N}$。
## 输出格式

输出 $N-K$ 个整数，中间用一个空格隔开，代表 $K$ 次操作后的序列。
## 样例

### 样例输入 #1
```
5 3
1 4 2 8 7
```
### 样例输出 #1
```
17 7
```
## 提示

**【样例说明】**

数列变化如下，中括号里的数是当此操作中被选择的数：
```plain
[1] 4 2 8 7
5 [2] 8 7
[7] 10 7
17 7
```
**【评测用例规模与约定】**

对于 $20 \%$ 的数据，$1 \leq K<N \leq 10^4$。

对于 $100 \%$ 的数据，$1 \leq K<N \leq 5 \times 10^{5}$，$0 \leq A_{i} \leq 10^{8}$。 

蓝桥杯 2023 省赛 B 组 H 题。


---

---
title: "[蓝桥杯 2024 省 B 第二场] 前缀总分"
layout: "post"
diff: 普及+/提高
pid: P12124
tag: ['字符串', '2024', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 B 第二场] 前缀总分
## 题目描述

给定 $n$ 个由小写英文字母组成的字符串 $s_1, s_2, \dots , s_n$，定义前缀总分为：

$$V=\sum_{i<j} P(s_i,s_j)$$

其中 $P(s_i, s_j)$ 表示 $s_i, s_j$ 的最长公共前缀的长度。

小蓝可以选择其中一个字符串，并修改其中的一个字符。请问修改后前缀总分最大为多少？
## 输入格式

输入的第一行包含一个正整数 $n$。
接下来 $n$ 行，每行包含一个字符串 $s_i$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3
aab
bbb
abb
```
### 样例输出 #1
```
5
```
## 提示

### 样例说明

将第二个字符串改为 $\tt{abb}$ ，得分为 $P(\tt{aab}, \tt{abb})+P(\tt{aab}, \tt{abb})+P(\tt{abb}, \tt{abb}) = 1 + 1 + 3 = 5$。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq n \leq 20$；
- 对于所有评测用例，$1 \leq n \leq 200$，$1 \leq |s_i| \leq 200$，其中 $|s_i|$ 表示 $s_i$ 的长度。



---

---
title: "[蓝桥杯 2024 省 B 第二场] 遗迹（加强版）"
layout: "post"
diff: 普及+/提高
pid: P12129
tag: ['动态规划 DP', '2024', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 B 第二场] 遗迹（加强版）
## 题目背景

与原题相比，去除了【数据保证随机】。
## 题目描述

小蓝找到了一个外星文明留下来的遗迹，遗迹大门的屏幕上有一个长度为 $m$ 的字符串 $t$ 和一个输入框，下面还有一个键盘，键盘为一个长度为 $n$ 的字符串 $s$ ，由一个可以横向移动的指针来敲击键盘，指针可以向左移或向右移，不能移出键盘。

小蓝需要在键盘字符串 $s$ 上先指定指针初始位置然后不断移动指针的位置，过程中通过敲击指针所在的字符来进行输入。然而，指针最多只能移动 $L$ 的距离，小蓝想输入一个尽可能长的一个 $t$ 的前缀，请问他最多能输入多少位。
## 输入格式

输入的第一行包含三个正整数 $n, m, L$，相邻整数之间使用一个空格分隔。

第二行包含一个长度为 $n$ 的字符串 $s$。

第三行包含一个长度为 $m$ 的字符串 $t$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3 6 5
abc
acbbac
```
### 样例输出 #1
```
5
```
## 提示

### 样例说明

初始选择指针位于键盘 $\tt{abc}$ 上的 $\tt{a}$，输入 $\tt{acbbac}$ 这 $6$ 个字符分别需要指针移动 $0, 2, 1, 0, 1, 2$ 的距离，而最大移动距离为 $5$，所以最多输入 $5$ 个字符，移动 $0 + 2 + 1 + 0 + 1 = 4$ 的距离。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq m \leq 20$；
- 对于所有评测用例，$1 \leq n \leq 10^3$，$1 \leq m \leq 10^5$，$1 \leq L \leq 10^9$ 且 $s, t$ 中只包含小写字母，且 $s$ 中一定包含所有 $t$ 中出现过的字母。


---

---
title: "[蓝桥杯 2025 省 B] 客流量上限"
layout: "post"
diff: 普及+/提高
pid: P12131
tag: ['2025', '组合数学', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 B] 客流量上限
## 题目描述

一家连锁旅馆在全国拥有 $2025$ 个分店，分别编号为 $1$ 至 $2025$。随着节日临近，总部决定为每家分店设定每日客流量的上限，分别记作 $A_1, A_2, \dots , A_{2025}$。这些上限并非随意分配，而是需要满足以下约束条件：
1. $A_1, A_2, \dots , A_{2025}$ 必须是 $1$ 至 $2025$ 的一个排列，即每个 $A_i$ 均是 $1$ 至 $2025$ 之间的整数，且所有 $A_i$ 互不相同。
2. 对于任意分店 $i$ 和 $j$（$1 \leq i, j \leq 2025$，$i$ 可等于 $j$），它们的客流量上限 $A_i$ 和 $A_j$ 的乘积不得超过 $i \times j + 2025$。

这些约束旨在平衡各分店客流压力，确保服务质量和运营稳定性。

现在，请你计算这样的分配方案究竟有多少种。由于答案可能很大，你只需输出其对 $10^9 + 7$ 取余后的结果即可。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2025 省 B] 生产车间"
layout: "post"
diff: 普及+/提高
pid: P12136
tag: ['2025', '背包 DP', '树形 DP', '蓝桥杯省赛', 'bitset']
---
# [蓝桥杯 2025 省 B] 生产车间
## 题目背景

本题测试数据偏水
## 题目描述

小明正在改造一个生产车间的生产流水线。这个车间共有 $n$ 台设备，构成以 $1$ 为根结点的一棵树，结点 $i$ 有权值 $w_i$。其中叶节点的权值 $w_i$ 表示每单位时间将产出 $w_i$ 单位的材料并送往父结点，根结点的权值 $w_i$ 表示每单位时间内能打包多少单位成品，其他结点的权值 $w_i$ 表示每单位时间最多能加工 $w_i$ 单位的材料并送往父结点。

由于当前生产线中某些结点存在产能不够的问题导致生产线无法正常运行，即存在某些结点每单位时间收到的材料超过了当前结点的加工能力上限。小明计划删除一些结点使得所有结点都能正常运行。他想知道删除一些结点后根结点每单位时间内最多能打包多少单位的成品？
## 输入格式

输入共 $n + 1$ 行。

第一行为一个正整数 $n$。

第二行为 $n$ 个由空格分开的正整数 $w_1,w_2, \dots,w_n$。

后面 $n - 1$ 行，每行两个整数表示树上的一条边连接的两个结点。
## 输出格式

输出共一行，一个整数代表答案。
## 样例

### 样例输入 #1
```
9
9 7 3 7 1 6 2 2 7
1 2
1 3
2 4
2 5
2 6
6 7
6 8
6 9
```
### 样例输出 #1
```
8
```
## 提示

### 样例说明

删掉结点 $4$、$9$ 后生产线满足条件，根结点 $1$ 每单位时间将打包出 $8$ 单位的成品。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$2 \leq n \leq 100$。
- 对于 $100\%$ 的评测用例，$2 \leq n \leq 1000$，$1\leq w_i \leq 1000$。


---

---
title: "[蓝桥杯 2025 省 A] 黑客"
layout: "post"
diff: 普及+/提高
pid: P12142
tag: ['数学', '2025', '数论', '组合数学', '排列组合', '逆元', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 A] 黑客
## 题目描述

小蓝正在两台电脑之间拷贝数据，数据是一个 $n \times m$ 大小的正整数矩阵，因此总共有 $n \times m + 2$ 个由空格分开的整数，其中前两个整数分别为 $n$ 和 $m$。然而，有黑客入侵了小蓝的电脑，导致这 $n \times m + 2$ 个正整数的顺序被打乱了。小蓝想知道最多可能有多少个不同的原矩阵。

两个矩阵相同当且仅当它们行数相同、列数相同，且每个位置上的数相同。
## 输入格式

输入的第一行包含一个正整数 $n \times m + 2$。

第二行包含 $n \times m + 2$ 个正整数 $a_1, a_2, \cdots, a_{n \times m+2}$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。答案可能很大，请输出答案除以 $1000000007$ 的余数。
## 样例

### 样例输入 #1
```
6
2 2 1 4 3 3
```
### 样例输出 #1
```
24
```
## 提示

### 样例说明

可能的原矩阵情况包括：

1. $(n,m)=(1,4)$：有 $6$ 种原矩阵：$(2, 2, 3, 3), (2, 3, 2, 3), (2, 3, 3, 2), (3, 2, 2, 3), (3, 2, 3, 2), (3, 3, 2, 2)$；
2. $(n,m)=(4,1)$：有 $6$ 种原矩阵；
3. $(n,m)=(2,2)$：有 $12$ 种原矩阵；

总计 $6 + 6 + 12 = 24$ 种。

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$1 \leq n \times m + 2 \leq 10$；
- 对于所有评测用例，$1 \leq n \times m + 2 \leq 5 \times 10^5$，$1 \leq a_i \leq 5 \times 10^5$。


---

---
title: "[蓝桥杯 2025 省 A] 地雷阵"
layout: "post"
diff: 普及+/提高
pid: P12144
tag: ['贪心', '计算几何', '2025', '排序', '扫描线', '蓝桥杯省赛', '极角排序', '平面几何']
---
# [蓝桥杯 2025 省 A] 地雷阵
## 题目描述

小蓝正在平面直角坐标系中的第一象限里玩一个逃生小游戏。在第一象限中埋有 $n$ 颗地雷，第 $i$ 颗地雷的坐标为 $(x_i, y_i)$，触发范围为以 $(x_i, y_i)$ 为圆心，半径为 $r_i$ 的圆。一旦小蓝走进了圆内就会触发地雷导致游戏失败。小蓝初始在原点 $(0, 0)$ 上，他需要在第一象限内选择一个方向一直往前走，如果能不触发任何地雷即可成功通关游戏。他想知道在 $[0, \frac{\pi}{2}]$ 中均匀随机选择一个方向，即在 $0^\circ$（朝向 $x$ 轴正方向）至 $90^\circ$（朝向 $y$ 轴正方向）之间随机选择一个方向，通关游戏的概率是多少？
## 输入格式

输入的第一行包含一个正整数 $n$。

接下来 $n$ 行，每行包含三个正整数 $x_i, y_i, r_i$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个实数，四舍五入保留三位小数，表示答案。
## 样例

### 样例输入 #1
```
1
2 2 1
```
### 样例输出 #1
```
0.540
```
### 样例输入 #2
```
2
1 3 1
3 1 1
```
### 样例输出 #2
```
0.181
```
## 提示

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq n \leq 100$；
- 对于所有评测用例，$1 \leq n \leq 10^5$，$1 \leq x_i, y_i \leq 10^4$，$r_i < \min(x_i, y_i)$。


---

---
title: "[蓝桥杯 2025 省 Java B] 2 的幂"
layout: "post"
diff: 普及+/提高
pid: P12160
tag: ['动态规划 DP', '2025', '数论', '背包 DP', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Java B] 2 的幂
## 题目描述

小明很喜欢 $2$ 的幂，所以他想对一个长度为 $n$ 的正整数数组 $\{a_1, a_2, \dots, a_n\}$ 进行改造。他可以进行如下操作任意多次（可以是 $0$ 次）：任选一个数 $a_i$ 加上任意正整数，但不能使得加完之后的结果超过 $10^5$。

在操作任意次后，小明希望所有数的乘积是 $2^k$ 的倍数。他想知道总共需要加的数的总和至少是多少？
## 输入格式

输入共两行。
- 第一行为两个正整数 $n, k$。
- 第二行为 $n$ 个由空格分开的正整数 $a_1, a_2, \dots, a_n$。
## 输出格式

输出共 $1$ 行，一个整数表示答案。如果不能满足条件，输出 $-1$。
## 样例

### 样例输入 #1
```
3 9
19 10 3
```
### 样例输出 #1
```
12
```
## 提示

### 样例说明

将三个数分别加到 $24, 16, 4$，它们的乘积为 $1536 = 2^9 \times 3$，加的数的总和为 $5 + 6 + 1 = 12$。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$n, k \leq 10$。
- 对于 $100\%$ 的评测用例，$1\leq n \leq 500$，$1\leq k \leq 5000$，$1\leq a_i \leq 100000$。


---

---
title: "[蓝桥杯 2025 省 C/Python A/Java C] 登山"
layout: "post"
diff: 普及+/提高
pid: P12169
tag: ['2025', '分治', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 C/Python A/Java C] 登山
## 题目描述

小蓝正在登山，山峰的高度构成 $n$ 行 $m$ 列的正整数矩阵，$a_{i,j}$ 表示第 $i$ 行第 $j$ 列格子 $(i,j)$ 上的山峰的高度。小蓝以一种特别的方式进行登山，如果他此刻在第 $p$ 行第 $q$ 列的格子 $(p,q)$ 上，那么下一步可以选择：

1. 走到格子 $(i,q)$，满足 $a_{i,q} < a_{p,q}$ 且 $i > p$；
2. 走到格子 $(i,q)$，满足 $a_{i,q} > a_{p,q}$ 且 $i < p$；
3. 走到格子 $(p,j)$，满足 $a_{p,j} < a_{p,q}$ 且 $j > q$；
4. 走到格子 $(p,j)$，满足 $a_{p,j} > a_{p,q}$ 且 $j < q$。

小蓝想知道，如果他依次从每一个格子开始出发，按照最优策略，他最高能到达的山峰的高度的平均值是多少？
## 输入格式

输入的第一行包含两个正整数 $n, m$，用一个空格分隔。

接下来 $n$ 行，每行包含 $m$ 个正整数。其中第 $i$ 行包含 $a_{i,1}, a_{i,2}, \cdots, a_{i,m}$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个实数表示答案，四舍五入保留正好 $6$ 位小数。
## 样例

### 样例输入 #1
```
2 2
1 3
3 2
```
### 样例输出 #1
```
2.500000
```
### 样例输入 #2
```
2 3
2 4 1
4 2 5
```
### 样例输出 #2
```
4.166667
```
## 提示

### 样例说明 1

除了从格子 $(1,1)$ 出发以外，其他格子都能到达高度为 $3$ 的山峰，$(1 + 3 + 3 + 3)/4 = 2.5$。

### 样例说明 2

每个格子能到达的高度：

$$\begin{matrix} 4 & 4 & 4 \\ 4 & 4 & 5\end{matrix}$$

其中 $(1,1)$ 可以先到达格子 $(1,3)$ 再到达格子 $(1,2)$。

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$1 \leq n, m \leq 10^2$；
- 对于所有评测用例，$1 \leq n, m \leq 10^4$，$1 \leq n \times m \leq 10^6$，$1 \leq a_{ij} \leq 10^9$。


---

---
title: "[蓝桥杯 2025 省 Python A/研究生组] IPv6"
layout: "post"
diff: 普及+/提高
pid: P12185
tag: ['数学', '2025', '枚举', '组合数学', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Python A/研究生组] IPv6
## 题目描述

小蓝最近在学习网络工程相关的知识。他最近学习到，IPv6 地址本质上是一个 $128$ 位的二进制数，而字符串形式的 IPv6 地址是由被冒号分开的八段 $16$ 进制数组成的，例如, 下面每行是一个字符串形式的 IPv6 地址:

```plain
0000:0000:0000:0000:0000:0000:0000:0000
0000:0001:0000:0000:0000:0001:0000:0000
0000:0001:00ab:0000:0023:0000:0a00:0e00
0000:0000:00ab:0000:000a:0001:0a00:0e00
0000:0000:00ab:0000:0000:0001:0a00:0e00
```

其中，每一段最长 $4$ 位，且每一段的前导零都可以去掉 (如果 $4$ 位都为 $0$ 需要写成 $0$ )。

另外，IPv6 地址还可以将其中相邻的值为 $0$ 的段合并压缩起来，用两个冒号来表示，不过只能压缩一段。

例如上述地址最短的压缩后的形式分别为：

```plain
:: 
0:1::1:0:0
0:1:ab::23:0:a00:e00
::ab:0:a:1:a00:e00
0:0:ab::1:a00:e00
```

小蓝想知道，所有 IPv6 地址的最短压缩形式的长度的和为多少？由于答案很大 (甚至超过了 $128$ 位二进制整数的范围)，请填写答案时填写这个总和除以 $10^{9} + 7$ 的余数。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2025 省 Python A/Java A/研究生组] 原料采购"
layout: "post"
diff: 普及+/提高
pid: P12187
tag: ['贪心', '堆', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Python A/Java A/研究生组] 原料采购
## 题目描述

小蓝负责一家工厂的原料采购。

工厂有一辆运货卡车，其容量为 $m$。

工厂附近的采购点都在同一条路的同一方向上，一共有 $n$ 个，每个采购点和工厂的距离各不相同。其中，第 $i$ 个采购点的价格为 $a_i$, 库存为 $b_i$, 距离为 $c_i$。

卡车每行驶一单位长度的路径就需要额外花费 $o$。（返程没有花费，你也可以认为 $o$ 实际是行驶两单位长度的花费）

请计算将卡车装满最少需要花费多少钱，如果没有任何方案可以装满请输出 $-1$。
## 输入格式

输入的第一行包含三个正整数 $n, m, o$，相邻整数之间使用一个空格分隔。

接下来 $n$ 行，每行包含三个正整数 $a_i, b_i, c_i$ 表示一个采购点，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案，即装满卡车所需的最小花费。
## 样例

### 样例输入 #1
```
3 5 1
99 9 1
3 4 99
1 2 190
```
### 样例输出 #1
```
201
```
## 提示

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$n \leq 5000$, $m \leq 50000$;
- 对于 $60\%$ 的评测用例，$m \leq 10^5$;
- 对于所有评测用例，$1 \leq n \leq 10^5$, $1 \leq m, o \leq 10^9$, $1 \leq a_i, b_i, c_i \leq 10^9$, 保证对于 $i > 1$, 一定有 $c_{i-1} < c_i$。


---

---
title: "[蓝桥杯 2025 省研究生组] 01 串"
layout: "post"
diff: 普及+/提高
pid: P12191
tag: ['数学', '2025', '进制', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省研究生组] 01 串
## 题目描述

给定一个由 $0, 1, 2, 3 \dots$ 的二进制表示拼接而成的长度无限的 $01$ 串。其前若干位形如 $011011100101110111\dots$。

请求出这个串的前 $x$ 位里有多少个 $1$。
## 输入格式

输入的第一行包含一个正整数 $x$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
7
```
### 样例输出 #1
```
5
```
## 提示

### 样例说明

给定的串的前 $7$ 位为 $0110111$。

### 评测用例规模与约定

- 对于 $60\%$ 的评测用例，$x \leq 10^6$；
- 对于所有评测用例，$1 \leq x \leq 10^{18}$。


---

---
title: "[蓝桥杯 2023 省 Java B] 合并区域"
layout: "post"
diff: 普及+/提高
pid: P12328
tag: ['模拟', '搜索', '2023', '连通块', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Java B] 合并区域
## 题目背景

本题测试数据可能较水，仅供参考。
## 题目描述

小蓝在玩一款种地游戏。现在他被分配给了两块大小均为 $N \times N$ 的正方形区域。这两块区域都按照 $N \times N$ 的规格进行了均等划分，划分成了若干块面积相同的小区域，其中每块小区域要么是岩石，要么就是土壤，在垂直或者水平方向上相邻的土壤可以组成一块土地。现在小蓝想要对这两块区域沿着边缘进行合并，他想知道合并以后可以得到的最大的一块土地的面积是多少（土地的面积就是土地中土壤小区域的块数）？

在进行合并时，小区域之间必须对齐。可以在两块方形区域的任何一条边上进行合并，可以对两块方形区域进行 $90$ 度、$180$ 度、$270$ 度、$360$ 度的旋转，但不可以进行上下或左右翻转，并且两块方形区域不可以发生重叠。
## 输入格式

第一行一个整数 $N$ 表示区域大小。

接下来 $N$ 行表示第一块区域，每行 $N$ 个值为 $0$ 或 $1$ 的整数，相邻的整数之间用空格进行分隔。值为 $0$ 表示这块小区域是岩石，值为 $1$ 表示这块小区域是土壤。

再接下来 $N$ 行表示第二块区域，每行 $N$ 个值为 $0$ 或 $1$ 的整数，相邻的整数之间用空格进行分隔。值为 $0$ 表示这块小区域是岩石，值为 $1$ 表示这块小区域是土壤。

## 输出格式

一个整数表示将两块区域合并之后可以产生的最大的土地面积。
## 样例

### 样例输入 #1
```
4
0 1 1 0
1 0 1 1
1 0 1 0
1 1 1 0
0 0 1 0
0 1 1 0
1 0 0 0
1 1 1 1
```
### 样例输出 #1
```
15
```
## 提示

### 样例说明

第一张图展示了样例中的两块区域的布局。第二张图展示了其中一种最佳的合并方式，此时最大的土地面积为 $15$。

![](https://cdn.luogu.com.cn/upload/image_hosting/5eaxcwcv.png)

### 评测用例规模与约定

- 对于 $30\%$ 的数据，$1 \leq N \leq 5$。
- 对于 $60\%$ 的数据，$1 \leq N \leq 15$。
- 对于 $100\%$ 的数据，$1 \leq N \leq 50$。


---

---
title: "[蓝桥杯 2023 省 Java B] 最大开支"
layout: "post"
diff: 普及+/提高
pid: P12331
tag: ['数学', '贪心', '2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Java B] 最大开支
## 题目描述

小蓝所在学校周边新开业了一家游乐园，小蓝作为班长，打算组织大家去游乐园玩。已知一共有 $N$ 个人参加这次活动，游乐园有 $M$ 个娱乐项目，每个项目都需要买门票后才可进去游玩。门票的价格并不是固定的，团购的人越多单价越便宜，当团购的人数大于某个阈值时，这些团购的人便可以免费进入项目进行游玩。这 $M$ 个娱乐项目是独立的，所以只有选择了同一个项目的人才可以参与这个项目的团购。第 $i$ 个项目的门票价格 $H_i(X)$ 与团购的人数 $X$ 的关系可以看作是一个函数：

$$H_i(X) = \max(K_i \times X + B_i, 0)$$

其中 $\max$ 表示取二者之中的最大值。当 $H_i = 0$ 时说明团购人数达到了此项目的免单阈值。

这 $N$ 个人可以根据自己的喜好选择 $M$ 个娱乐项目中的一种，或者有些人对这些娱乐项目都没有兴趣，也可以选择不去任何一个项目。每个人最多只会选择一个娱乐项目，如果多个人选择了同一个娱乐项目，那么他们都将享受对应的团购价格。小蓝想知道他至少需要准备多少钱，使得无论大家如何选择，他都有能力支付得起所有 $N$ 个人购买娱乐项目的门票钱。
## 输入格式

第一行两个整数 $N$、$M$，分别表示参加活动的人数和娱乐项目的个数。接下来 $M$ 行，每行两个整数，其中第 $i$ 行为 $K_i$、$B_i$，表示第 $i$ 个游乐地点的门票函数中的参数。
## 输出格式

一个整数，表示小蓝至少需要准备多少钱，使得大家无论如何选择项目，自己都支付得起。
## 样例

### 样例输入 #1
```
4 2
-4 10
-2 7
```
### 样例输出 #1
```
12
```
## 提示

### 样例说明

样例中有 $4$ 个人，$2$ 个娱乐项目，我们用一个二元组 $(a, b)$ 表示 $a$ 个人选择了第一个娱乐项目，$b$ 个人选择了第二个娱乐项目，那么就有 $4 - a - b$ 个人没有选择任何项目，方案 $(a, b)$ 对应的门票花费为 $\max(-4 \times a + 10, 0) \times a + \max(-2 \times b + 7, 0) \times b$，所有的可能如下所示：

| $a$ | $b$ | 花费 |
|:---:|:---:|:------:|
| 0 | 0 | 0    |
| 0 | 1 | 5    |
| 0 | 2 | 6    |
| 0 | 3 | 3    |
| 0 | 4 | 0    |
| 1 | 0 | 6    |
| 1 | 1 | 11   |
| 1 | 2 | 12   |
| 1 | 3 | 9    |
| 2 | 0 | 4    |
| 2 | 1 | 9    |
| 2 | 2 | 10   |
| 3 | 0 | 0    |
| 3 | 1 | 5    |
| 4 | 0 | 0    |

其中当 $a = 1, b = 2$ 时花费最大，为 $12$。此时 $1$ 个人去第一个项目，所以第一个项目的单价为 $10 - 4 = 6$，在这个项目上的花费为 $6 \times 1 = 6$；$2$ 个人去第二个项目，所以第二个项目得单价为 $7 - 2 \times 2 = 3$，在这个项目上的花费为 $2 \times 3 = 6$；还有 $1$ 个人没去任何项目，不用统计；总花费为 $12$，这是花费最大的一种方案，所以答案为 $12$。

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$1 \leq N, M \leq 10$。
- 对于 $50\%$ 的评测用例，$1 \leq N, M \leq 1000$。
- 对于 $100\%$ 的评测用例，$1 \leq N, M, B_i \leq 10^5$，$-10^5 \leq K_i < 0$。


---

---
title: "[蓝桥杯 2025 省 A 第二场] 栈与乘积"
layout: "post"
diff: 普及+/提高
pid: P12347
tag: ['线段树', '2025', '栈', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 A 第二场] 栈与乘积
## 题目背景

目前测试数据可能较水，我们之后会加强数据。
## 题目描述

给定一个栈，给出若干次如下类型的操作：

1. $1 \ x$: 将 $x$ 加入栈顶。
2. $2$: 将栈顶的数弹出（如果栈是空的，则什么都不做）。
3. $3 \ y$: 查询栈内的最顶端 $y$ 个数的乘积。如果大于等于 $2^{32}$，输出 `OVERFLOW`。如果栈内不足 $y$ 个数，输出 `ERROR`。
## 输入格式

输入的第一行包含一个正整数 $Q$，表示操作次数。

接下来 $Q$ 行，每行包含一个或两个正整数表示一个操作，如果一行包含两个整数，两个整数之间用一个空格分隔。
## 输出格式

对于每个 $3 \ y$ 形式的操作，输出一行包含一个整数，表示答案。
## 样例

### 样例输入 #1
```
9
1 65536
1 65536
3 2
3 3
2
1 1024
1 2
3 2
3 3
```
### 样例输出 #1
```
OVERFLOW
ERROR
2048
134217728
```
## 提示

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$Q \leq 5000$；
- 对于所有评测用例，$1 \leq Q \leq 10^5$，$0 \leq x < 2^{30}$，$1 \leq y < 2^{30}$。


---

---
title: "[蓝桥杯 2025 省 B 第二场] 翻转硬币"
layout: "post"
diff: 普及+/提高
pid: P12349
tag: ['动态规划 DP', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 B 第二场] 翻转硬币
## 题目描述

给定 $n$ 行 $m$ 列共 $n \times m$ 个硬币，对于任意一个硬币，我们将其价值视为与其相邻（指上、下、左、右相邻）的硬币中与其正反相同的硬币数的平方。

你可以进行任意次操作，每次可以选择任意一行并将该行的硬币全部翻转。

求所有硬币的价值之和最大可能是多少。
## 输入格式

输入的第一行包含两个正整数 $n, m$，用一个空格分隔。

接下来 $n$ 行，每行包含 $m$ 个 0 或 1，表示给定的 $n \times m$ 个硬币。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
4 4
1010
1111
1011
1100
```
### 样例输出 #1
```
68
```
## 提示

### 样例说明

如图，实线表示正面，虚线表示反面，翻转最后一行可以得到最大价值和：

![](https://cdn.luogu.com.cn/upload/image_hosting/207dpqzp.png)

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$n, m \leq 20$；
- 对于所有评测用例，$1 \leq n, m \leq 1000$。


---

---
title: "[蓝桥杯 2022 省 Python B] 寻找整数"
layout: "post"
diff: 普及+/提高
pid: P12364
tag: ['2022', '中国剩余定理 CRT', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 Python B] 寻找整数
## 题目描述

有一个不超过 $10^{17}$ 的正整数 $n$，知道这个数除以 $2$ 至 $49$ 后的余数如下表所示，求这个正整数最小是多少。

| $a$ | $n \bmod a$ | $a$ | $n \bmod a$ | $a$ | $n \bmod a$ | $a$ | $n \bmod a$ |
|:---:|:-----------:|:---:|:-----------:|:---:|:-----------:|:---:|:-----------:|
| $2$ | $1$         | $14$| $11$        | $26$| $23$        | $38$| $37$        |
| $3$ | $2$         | $15$| $14$        | $27$| $20$        | $39$| $23$        |
| $4$ | $1$         | $16$| $9$         | $28$| $25$        | $40$| $9$         |
| $5$ | $4$         | $17$| $0$         | $29$| $16$        | $41$| $1$         |
| $6$ | $5$         | $18$| $11$        | $30$| $29$        | $42$| $11$        |
| $7$ | $4$         | $19$| $18$        | $31$| $27$        | $43$| $11$        |
| $8$ | $1$         | $20$| $9$         | $32$| $25$        | $44$| $33$        |
| $9$ | $2$         | $21$| $11$        | $33$| $11$        | $45$| $29$        |
| $10$| $9$         | $22$| $11$        | $34$| $17$        | $46$| $15$        |
| $11$| $0$         | $23$| $15$        | $35$| $4$         | $47$| $5$         |
| $12$| $5$         | $24$| $17$        | $36$| $29$        | $48$| $41$        |
| $13$| $10$        | $25$| $9$         | $37$| $22$        | $49$| $46$        |

## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2022 省 Python B] 最优清零方案"
layout: "post"
diff: 普及+/提高
pid: P12372
tag: ['线段树', '2022', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 Python B] 最优清零方案
## 题目描述

给定一个长度为 $N$ 的数列 $A_1, A_2, \cdots, A_N$。现在小蓝想通过若干次操作将这个数列中每个数字清零。

每次操作小蓝可以选择以下两种之一：

1. 选择一个大于 $0$ 的整数，将它减去 $1$；
2. 选择连续 $K$ 个大于 $0$ 的整数，将它们各减去 $1$。

小蓝最少经过几次操作可以将整个数列清零？
## 输入格式

输入第一行包含两个整数 $N$ 和 $K$。

第二行包含 $N$ 个整数 $A_1, A_2, \cdots, A_N$。
## 输出格式

输出一个整数表示答案。
## 样例

### 样例输入 #1
```
4 2
1 2 3 4
```
### 样例输出 #1
```
6
```
## 提示

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq K \leq N \leq 10$。
- 对于 $40\%$ 的评测用例，$1 \leq K \leq N \leq 100$。
- 对于 $50\%$ 的评测用例，$1 \leq K \leq N \leq 1000$。
- 对于 $60\%$ 的评测用例，$1 \leq K \leq N \leq 10000$。
- 对于 $70\%$ 的评测用例，$1 \leq K \leq N \leq 100000$。
- 对于所有评测用例，$1 \leq K \leq N \leq 1000000$，$0 \leq A_i \leq 1000000$。


---

---
title: "[蓝桥杯 2023 省 Python B] 树上选点"
layout: "post"
diff: 普及+/提高
pid: P12382
tag: ['2023', '树形 DP', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Python B] 树上选点
## 题目描述

给定一棵树，树根为 $1$，每个点的点权为 $V_i$。

你需要找出若干个点 $P_i$，使得：

1. 每两个点 $P_x,P_y$ 互不相邻；
2. 每两个点 $P_x,P_y$ 与树根的距离互不相同；
3. 找出的点的点权之和尽可能大。

请输出找到的这些点的点权和的最大值。
## 输入格式

输入的第一行包含一个整数 $n$。

第二行包含 $n-1$ 个整数 $F_i$，相邻整数之间使用一个空格分隔，分别表示第 2 至 $n$ 个结点的父结点编号。

第三行包含 $n$ 个整数 $V_i$，相邻整数之间使用一个空格分隔，分别表示每个结点的点权。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
5
1 2 3 2
2 1 9 3 5
```
### 样例输出 #1
```
11
```
## 提示

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$n \leq 5000$；
- 对于所有评测用例，$1 \leq n \leq 2 \times 10^5$，$1 \leq F_i < i$，$1 \leq V_i \leq 10^4$。


---

---
title: "[蓝桥杯 2023 省 Python B] T 字消除"
layout: "post"
diff: 普及+/提高
pid: P12383
tag: ['模拟', '数学', '2023', '枚举', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Python B] T 字消除
## 题目描述

小蓝正在玩一款游戏，游戏中有一个 $n \times n$ 大小的 01 矩阵 $A_{i,j}$。

小蓝每次需要选择一个 T 字型的区域，且这个区域内至少要有一个 $1$。选中后，这个区域内所有的元素都会变成 $0$。

给定游戏目前的矩阵，小蓝想知道他最多可以进行多少次上述操作。

T 字型区域是指形如 $(x-1, y),(x, y),(x+1, y),(x, y+1)$ 的四个点所形成的区域。其旋转 $90, 180, 270$ 度的形式同样也视作 T 字形区域。
## 输入格式

输入包含多组数据。

输入的第一行包含一个整数 $D$ 表示数据组数。

对于每组数据，第一行包含一个整数 $n$。

接下来 $n$ 行每行包含 $n$ 个 $0$ 或 $1$，表示矩阵 $A_{i,j}$ 的每个位置的值。
## 输出格式

输出 $D$ 行，每行包含一个整数表示小蓝最多可以对当前询问中的矩阵操作的次数。
## 样例

### 样例输入 #1
```
1
3
001
011
111
```
### 样例输出 #1
```
5
```
## 提示

### 样例说明

我们用 $X$ 表示某次操作选中的 $T$ 字形，以下给出一种可行方案:

```
001    XXX    0X0    00X    0X0    X00
011 => 0X1 => XXX => 0XX => XX0 => XX0
111    111    111    11X    1X0    X00
```

### 评测用例规模与约定

- 对于 $10\%$ 的评测用例，$n=3$；
- 对于 $40\%$ 的评测用例，$n \leq 30$；
- 对于所有评测用例，$3 \leq n \leq 2000$，矩阵中仅含 $0$ 和 $1$。此外，$1 \leq D \leq 100$，单个测试点内的 $n$ 之和（即 $\sum n$）不超过 $5000$。


---

---
title: "[蓝桥杯 2023 省 Python B] 异或和"
layout: "post"
diff: 普及+/提高
pid: P12385
tag: ['树状数组', '2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Python B] 异或和
## 题目描述

给一棵含有 $n$ 个结点的有根树，根结点为 $1$，编号为 $i$ 的点有点权 $a_i$ $(i \in [1, n])$。现在有两种操作，格式如下：

- $1\ x\ y$ 该操作表示将点 $x$ 的点权改为 $y$。
- $2\ x$ 该操作表示查询以结点 $x$ 为根的子树内的所有点的点权的异或和。

现有长度为 $m$ 的操作序列，请对于每个第二类操作给出正确的结果。
## 输入格式

输入的第一行包含两个正整数 $n, m$，用一个空格分隔。

第二行包含 $n$ 个整数 $a_1, a_2, \dots, a_n$，相邻整数之间使用一个空格分隔。

接下来 $n-1$ 行，每行包含两个正整数 $u_i, v_i$，表示结点 $u_i$ 和 $v_i$ 之间有一条边。

接下来 $m$ 行，每行包含一个操作。
## 输出格式

输出若干行，每行对应一个查询操作的答案。
## 样例

### 样例输入 #1
```
4 4
1 2 3 4
1 2
1 3
2 4
2 1
1 1 0
2 1
2 2
```
### 样例输出 #1
```
4
5
6
```
## 提示

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$n, m \leq 1000$；
- 对于所有评测用例，$1 \leq n, m \leq 100000$，$0 \leq a_i, y \leq 100000$，$1 \leq u_i, v_i, x \leq n$。


---

---
title: "[蓝桥杯 2023 省 Python B] 混乱的数组"
layout: "post"
diff: 普及+/提高
pid: P12386
tag: ['贪心', '2023', '构造', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Python B] 混乱的数组
## 题目描述

给定一个正整数 $x$，请找出一个尽可能短的仅含正整数的数组 $A$ 使得 $A$ 中恰好有 $x$ 对 $i, j$ 满足 $i < j$ 且 $A_i > A_j$。

如果存在多个这样的数组，请输出字典序最小的那个。
## 输入格式

输入一行包含一个整数表示 $x$。
## 输出格式

输出两行。

第一行包含一个整数 $n$，表示所求出的数组长度。

第二行包含 $n$ 个整数 $A_i$，相邻整数之间使用一个空格分隔，依次表示数组中的每个数。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
3
3 2 1
```
## 提示

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$x \leq 10$；
- 对于 $60\%$ 的评测用例，$x \leq 100$；
- 对于所有评测用例，$1 \leq x \leq 10^9$。


---

---
title: "[蓝桥杯 2014 省 B] 小朋友排队"
layout: "post"
diff: 普及+/提高
pid: P8613
tag: ['2014', '蓝桥杯省赛']
---
# [蓝桥杯 2014 省 B] 小朋友排队
## 题目描述

$n$ 个小朋友站成一排。现在要把他们按身高从低到高的顺序排列，但是每次只能交换位置相邻的两个小朋友。

每个小朋友都有一个不高兴的程度。开始的时候，所有小朋友的不高兴程度都是 $0$。

如果某个小朋友第一次被要求交换，则他的不高兴程度增加 $1$，如果第二次要求他交换，则他的不高兴程度增加 $2$（即不高兴程度为 $3$），依次类推。当要求某个小朋友第 $k$ 次交换时，他的不高兴程度增加 $k$。

请问，要让所有小朋友按从低到高排队，他们的不高兴程度之和最小是多少。

如果有两个小朋友身高一样，则他们谁站在谁前面是没有关系的。
## 输入格式

输入的第一行包含一个整数 $n$，表示小朋友的个数。

第二行包含 $n$ 个整数 $H_1,H_2 \cdots H_n$，分别表示每个小朋友的身高。
## 输出格式

输出一行，包含一个整数，表示小朋友的不高兴程度和的最小值。
## 样例

### 样例输入 #1
```
3
3 2 1
```
### 样例输出 #1
```
9
```
## 提示

【样例说明】

首先交换身高为 $3$ 和 $2$ 的小朋友，再交换身高为 $3$ 和 $1$ 的小朋友，再交换身高为 $2$ 和 $1$ 的小朋友，每个小朋友的不高兴程度都是 $3$，总和为 $9$。

【数据规模与约定】

对于 $10\%$ 的数据，$1 \le n \le 10$；

对于 $30\%$ 的数据，$1 \le n \le 1000$；

对于 $50\%$ 的数据，$1 \le n \le 10000$；

对于 $100\%$ 的数据，$1 \le n \le 100000$，$0 \le H_i \le 1000000$。

时限 1 秒, 256M。蓝桥杯 2014 年第五届省赛


---

---
title: "[蓝桥杯 2015 省 AB] 垒骰子"
layout: "post"
diff: 普及+/提高
pid: P8624
tag: ['动态规划 DP', '2015', '矩阵加速', '蓝桥杯省赛']
---
# [蓝桥杯 2015 省 AB] 垒骰子
## 题目描述

赌圣 atm 晚年迷恋上了垒骰子，就是把骰子一个垒在另一个上边，不能歪歪扭扭，要垒成方柱体。

经过长期观察，atm 发现了稳定骰子的奥秘：有些数字的面贴着会互相排斥！

我们先来规范一下骰子：$1$ 的对面是 $4$，$2$ 的对面是 $5$，$3$ 的对面是 $6$。

假设有 $m$ 组互斥现象，每组中的那两个数字的面紧贴在一起，骰子就不能稳定的垒起来。

atm 想计算一下有多少种不同的可能的垒骰子方式。

两种垒骰子方式相同，当且仅当这两种方式中对应高度的骰子的对应数字的朝向都相同。

由于方案数可能过多，请输出模 $10^9+7$ 的结果。

不要小看了 atm 的骰子数量哦～。
## 输入格式

第一行两个整数 $n$，$m$。

$n$ 表示骰子数目。

接下来 $m$ 行，每行两个整数 $a$，$b$，表示 $a$ 和 $b$ 数字不能紧贴在一起。
## 输出格式

一行一个数，表示答案模 $10^9+7$ 的结果。
## 样例

### 样例输入 #1
```
2 1
1 2

```
### 样例输出 #1
```
544
```
## 提示

对于 $30\%$ 的数据：$n \le 5$。

对于 $60\%$ 的数据：$n \le 100$。

对于 $100\%$ 的数据：$0<n \le 10^9,m \le 36$。

时限 2 秒, 256M

蓝桥杯 2015 年省赛 AB 组 I 题。


---

---
title: "[蓝桥杯 2017 省 A] 正则问题"
layout: "post"
diff: 普及+/提高
pid: P8650
tag: ['2017', '递归', '蓝桥杯省赛']
---
# [蓝桥杯 2017 省 A] 正则问题
## 题目描述

考虑一种简单的正则表达式：

只由 `x` `(` `)` `|` 组成的正则表达式。

小明想求出这个正则表达式能接受的最长字符串的长度。  

例如 `((xx|xxx)x|(x|xx))xx` 能接受的最长字符串是： `xxxxxx`，长度是 $6$。

## 输入格式

一个由 `x()|` 组成的正则表达式。输入长度不超过 $100$，保证合法。
## 输出格式

这个正则表达式能接受的最长字符串的长度。  
## 样例

### 样例输入 #1
```
((xx|xxx)x|(x|xx))xx  
```
### 样例输出 #1
```
6
```
## 提示

蓝桥杯 2022 省赛 A 组 G 题。


---

---
title: "[蓝桥杯 2018 省 A] 三体攻击"
layout: "post"
diff: 普及+/提高
pid: P8666
tag: ['2018', '二分', '差分', '蓝桥杯省赛']
---
# [蓝桥杯 2018 省 A] 三体攻击
## 题目描述

三体人将对地球发起攻击。为了抵御攻击，地球人派出了 $A\times B\times C$ 艘战舰，在太空中排成一个 $A$ 层 $B$ 行 $C$ 列的立方体。其中，第 $i$ 层第 $j$ 行第 $k$ 列的战舰（记为战舰 $(i, j, k)$）的生命值为 $d(i, j, k)$。

三体人将会对地球发起 $m$ 轮“立方体攻击”，每次攻击会对一个小立方体中的所有战舰都造成相同的伤害。具体地，第 $t$ 轮攻击用 $7$ 个参数 $la_t, ra_t, lb_t, rb_t, lc_t, rc_t, h_t$ 描述；

所有满足 $i\in [la_t, ra_t],j\in [lb_t, rb_t],k\in [lc_t, rc_t]$ 的战舰 $(i, j, k)$ 会受到 $h_t$ 的伤害。如果一个战舰累计受到的总伤害超过其防御力，那么这个战舰会爆炸。

地球指挥官希望你能告诉他，第一艘爆炸的战舰是在哪一轮攻击后爆炸的。

## 输入格式

从标准输入读入数据。

第一行包括 $4$ 个正整数 $A$，$B$，$C$，$m$；

第二行包含 $A\times B\times C$ 个整数，其中第 $((i − 1)\times B + (j − 1)) \times C + (k − 1)+1$ 个数为 $d(i, j, k)$；

第 $3$ 到第 $m + 2$ 行中，第 $(t + 2)$ 行包含 $7$ 个正整数 $la_t, ra_t, lb_t, rb_t, lc_t, rc_t, h_t$。

## 输出格式

输出到标准输出。

输出第一个爆炸的战舰是在哪一轮攻击后爆炸的。保证一定存在这样的战舰。

## 样例

### 样例输入 #1
```
2 2 2 3
1 1 1 1 1 1 1 1
1 2 1 2 1 1 1
1 1 1 2 1 2 1
1 1 1 1 1 1 2
```
### 样例输出 #1
```
2
```
## 提示

**【样例解释】**

在第 $2$ 轮攻击后，战舰 $(1,1,1)$ 总共受到了 $2$ 点伤害，超出其防御力导致爆炸。

**【数据约定】**

对于 $10\%$ 的数据，$B = C = 1$；

对于 $20\%$ 的数据，$C = 1$；

对于 $40\%$ 的数据，$A\times B \times C, m\le10000$；

对于 $70\%$ 的数据，$A, B, C \le 200$；

对于所有数据，$1\le A\times B\times C \le 10^6$，$1\le m \le 10^6$，$0 \le  (i, j, k)$, $h_t\le 10^9$。


---

---
title: "[蓝桥杯 2020 省 AB1] 网络分析"
layout: "post"
diff: 普及+/提高
pid: P8710
tag: ['2020', '并查集', '蓝桥杯省赛']
---
# [蓝桥杯 2020 省 AB1] 网络分析
## 题目描述

小明正在做一个网络实验。

他设置了 $n$ 台电脑，称为节点，用于收发和存储数据。

初始时，所有节点都是独立的，不存在任何连接。

小明可以通过网线将两个节点连接起来，连接后两个节点就可以互相通信了。两个节点如果存在网线连接，称为相邻。

小明有时会测试当时的网络，他会在某个节点发送一条信息，信息会发送到每个相邻的节点，之后这些节点又会转发到自己相邻的节点，直到所有直接或间接相邻的节点都收到了信息。所有发送和接收的节点都会将信息存储下来。一条信息只存储一次。

给出小明连接和测试的过程，请计算出每个节点存储信息的大小。
## 输入格式

输入的第一行包含两个整数 $n$，$m$，分别表示节点数量和操作数量。节点从 $1$ 至 $n$ 编号。
 
接下来 $m$ 行，每行三个整数，表示一个操作。

如果操作为 `1 a b`，表示将节点 $a$ 和节点 $b$ 通过网线连接起来。当 $a=b$ 时，表示连接了一个自环，对网络没有实质影响。

如果操作为 `2 p t`，表示在节点 $p$ 上发送一条大小为 $t$ 的信息。
## 输出格式

  输出一行，包含 $n$ 个整数，相邻整数之间用一个空格分割，依次表示进行完上述操作后节点 $1$ 至节点 $n$ 上存储信息的大小。
## 样例

### 样例输入 #1
```
4 8
1 1 2
2 1 10
2 3 5
1 4 1
2 2 2
1 1 2
1 2 4
2 2 1
```
### 样例输出 #1
```
13 13 5 3
```
## 提示

对于 $30\%$ 的评测用例，$1 ≤ n ≤ 20$，$1 ≤ m ≤ 100$。

对于 $50\%$ 的评测用例，$1 ≤ n ≤ 100$，$1 ≤ m ≤ 1000$。

对于 $70\%$ 的评测用例，$1 ≤ n ≤ 1000$，$1 ≤ m ≤ 10000$。

对于所有评测用例，$1 ≤ n ≤ 10000$，$1 ≤ m ≤ 10^5$ ，$1 ≤ t ≤ 100$。

蓝桥杯 2020 第一轮省赛 A 组 J 题（B 组 J 题）。


---

---
title: "[蓝桥杯 2020 省 AB2] 字串排序"
layout: "post"
diff: 普及+/提高
pid: P8719
tag: ['贪心', '2020', '构造', '蓝桥杯省赛']
---
# [蓝桥杯 2020 省 AB2] 字串排序
## 题目描述

小蓝最近学习了一些排序算法, 其中冒泡排序让他印象深刻。

在冒泡排序中, 每次只能交换相邻的两个元素。

小蓝发现, 如果对一个字符串中的字符排序, 只允许交换相邻的两个字符, 则在所有可能的排序方案中, 冒泡排序的总交换次数是最少的。

例如, 对于字符串 lan 排序, 只需要 $1$ 次交换。对于字符串 qiao 排序, 总共需要 $4$ 次交换。

小蓝的幸运数字是 $V$, 他想找到一个只包含小写英文字母的字符串, 对这个串中的字符进行冒泡排序, 正好需要 $V$ 次交换。请帮助小蓝找一个这样的字符串。如果可能找到多个, 请告诉小蓝最短的那个。如果最短的仍然有多个, 请告诉小蓝字典序最小的那个。请注意字符串中可以包含相同的字符。

## 输入格式

输入的第一行包含一个整数 $V$，小蓝的幸运数字。
## 输出格式

题面要求的一行字符串。
## 样例

### 样例输入 #1
```
4
```
### 样例输出 #1
```
bbaa
```
### 样例输入 #2
```
100
```
### 样例输出 #2
```
jihgfeeddccbbaa
```
## 提示

对于 $30 \%$ 的评测用例, $1 \leq V \leq 20$。

对于 $50 \%$ 的评测用例, $1 \leq V \leq 100$。

对于所有评测用例, $1 \leq V \leq 10000$。

蓝桥杯 2020 第二轮省赛 A 组 J 题（B 组 J 题）。


---

---
title: "[蓝桥杯 2020 省 AB3] 限高杆"
layout: "post"
diff: 普及+/提高
pid: P8724
tag: ['2020', '最短路', '蓝桥杯省赛']
---
# [蓝桥杯 2020 省 AB3] 限高杆
## 题目描述

某市有 $n$ 个路口，有 $m$ 段道路连接这些路口，组成了该市的公路系统。其中一段道路两端一定连接两个不同的路口。道路中间不会穿过路口。

由于各种原因，在一部分道路的中间设置了一些限高杆，有限高杆的路段货车无法通过。

在该市有两个重要的市场 $A$ 和 $B$，分别在路口 $1$ 和 $n$ 附近，货车从市场 $A$ 出发，首先走到路口 $1$，然后经过公路系统走到路口 $n$，才能到达市场 $B$。两个市场非常繁华，每天有很多货车往返于两个市场之间。

市长发现，由于限高杆很多，导致货车可能需要绕行才能往返于市场之间，这使得货车在公路系统中的行驶路程变长，增加了对公路系统的损耗，增加了能源的消耗，同时还增加了环境污染。

市长决定要将两段道路中的限高杆拆除，使得市场 $A$ 和市场 $B$ 之间的路程变短。请问最多能减少多长的距离?
## 输入格式

输入的第一行包含两个整数 $n$，$m$，分别表示路口的数量和道路的段数。

接下来 $m$ 行，每行四个整数 $a$，$b$，$c$，$d$，表示路口 $a$ 和路口 $b$ 之间有一段长度为 $c$ 的道路。如果 $d$ 为 $0$，表示这段道路上没有限高杆; 如果 $d$ 为 $1$，表示 这段道路上有限高杆。两个路口之间可能有多段道路。

输入数据保证在不拆除限高杆的情况下，货车能通过公路系统从路口 $1$ 正常行驶到路口 $n$ 。
## 输出格式

输出一行，包含一个整数，表示拆除两段道路的限高杆后，市场 $A$ 和市场 $B$ 之间的路程最大减少多长距离。
## 样例

### 样例输入 #1
```
5 7
1 2 1 0
2 3 2 1
1 3 9 0
5 3 8 0
4 3 5 1
4 3 9 0
4 5 4 0
```
### 样例输出 #1
```
6
```
## 提示

**【样例说明】**

只有两段道路有限高杆，全部拆除后，$1$ 到 $n$ 的路程由原来的 $17$ 变为了 $11$，减少了 $6$。

**【评测用例规模与约定】**

对于 $30 \%$ 的评测样例，$2 \leq n \leq 10,1 \leq m \leq 20,1 \leq c \leq 100$。

对于 $50 \%$ 的评测样例，$2 \leq n \leq 100,1 \leq m \leq 1000,1 \leq c \leq 1000$。

对于 $70 \%$ 的评测样例，$2 \leq n \leq 1000,1 \leq m \leq 10000,1 \leq c \leq 10000$。

对于所有评测样例，$2 \leq n \leq 10000,2 \leq m \leq 10^5,1 \leq c \leq 10000$，至少 有两段道路有限高杆。

蓝桥杯 2020 第三轮省赛 AB 组 H 题。


---

---
title: "[蓝桥杯 2021 省 B] 填空问题"
layout: "post"
diff: 普及+/提高
pid: P8741
tag: ['2021', '提交答案', '蓝桥杯省赛']
---
# [蓝桥杯 2021 省 B] 填空问题
## 题目描述


## 试题 A ：空间

### 【问题描述】

小蓝准备用 $256 \mathrm{MB}$ 的内存空间开一个数组，数组的每个元素都是 $32$  位二进制整数，如果不考虑程序占用的空间和维护内存需要的辅助空间，请问 $256 \mathrm{MB}$ 的空间可以存储多少个 $32$  位二进制整数?

### 【答案提交】

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。

## 试题 B ：卡片

### 【问题描述】

小蓝有很多数字卡片，每张卡片上都是数字 $0$  到 $9$ 。

小蓝准备用这些卡片来拼一些数，他想从 $1$  开始拼出正整数，每拼一个，就保存起来，卡片就不能用来拼其它数了。

小蓝想知道自己能从 $1$  拼到多少。

例如，当小蓝有 $30$  张卡片，其中 $0$  到 $9$  各 $3$  张，则小蓝可以拼出 $1$  到 $10$ ，但是拼 $11$  时卡片 $1$  已经只有一张了，不够拼出 $11$ 。

现在小蓝手里有 $0$  到 $9$  的卡片各 $2021$  张，共 $20210$  张，请问小蓝可以从 $1$  拼到多少?

提示：建议使用计算机编程解决问题。

### 【答案提交】

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。

## 试题 C ：直线

### 【问题描述】

在平面直角坐标系中，两点可以确定一条直线。如果有多点在一条直线上，那么这些点中任意两点确定的直线是同一条。

给定平面上 $2 \times 3$ 个整点 $\{(x,y) \mid 0 \leq x<2,0 \leq y<3,x \in \mathbb{Z},y \in \mathbb{Z}\}$，即横坐标是 $0$  到 $1$  (包含 $0$  和 $1$ ) 之间的整数、纵坐标是 $0$  到 $2$  (包含 $0$  和 $2$  ) 之间的整数的点。这些点一共确定了 $11$  条不同的直线。

给定平面上 $20 \times 21$ 个整点 $\{(x,y) \mid 0 \leq x<20,0 \leq y<21,x \in \mathbb{Z},y \in \mathbb{Z}\}$，即横坐标是 $0$  到 $19$  (包含 $0$  和 $19$ ) 之间的整数、纵坐标是 $0$  到 $20$  (包含 $0$  和 $20$ ) 之间的整数的点。请问这些点一共确定了多少条不同的直线。

### 【答案提交】

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。

## 试题 D ：货物摆放

### 【问题描述】

小蓝有一个超大的仓库，可以摆放很多货物。

现在，小蓝有 $n$ 箱货物要摆放在仓库，每箱货物都是规则的正方体。小蓝规定了长、宽、高三个互相垂直的方向，每箱货物的边都必须严格平行于长、 宽、高。

小蓝希望所有的货物最终摆成一个大的立方体。即在长、宽、高的方向上分别堆 $L 、 W 、 H$ 的货物，满足 $n=L \times W \times H$。

给定 $n$，请问有多少种堆放货物的方案满足要求。

例如，当 $n=4$ 时，有以下 $6$  种方案：$1 \times 1 \times 4 、 1 \times 2 \times 2 、 1 \times 4 \times 1 、 2 \times 1 \times 2$ 、 $2 \times 2 \times 1 、 4 \times 1 \times 1$

请问，当 $n=2021041820210418$ (注意有 $16$  位数字) 时，总共有多少种方案?

提示：建议使用计算机编程解决问题。

### 【答案提交】

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。

## 试题 E ：路径

### 【问题描述】

小蓝学习了最短路径之后特别高兴，他定义了一个特别的图，希望找到图中的最短路径。

小蓝的图由 $2021$  个结点组成，依次编号 $1$  至 $2021$ 。

对于两个不同的结点 $a,b$，如果 $a$ 和 $b$ 的差的绝对值大于 $21$ ，则两个结点之间没有边相连; 如果 $a$ 和 $b$ 的差的绝对值小于等于 $21$ ，则两个点之间有一条长度为 $a$ 和 $b$ 的最小公倍数的无向边相连。

例如：结点 $1$  和结点 $23$  之间没有边相连; 结点 $3$  和结点 $24$  之间有一条无向边，长度为 $24$  ; 结点 $15$  和结点 $25$  之间有一条无向边，长度为 $75$ 。

请计算，结点 $1$  和结点 $2021$  之间的最短路径长度是多少。

提示：建议使用计算机编程解决问题。

### 【答案提交】

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。
## 输入格式

输入一个大写字母，表示第几个问题。
## 输出格式

根据所输入的问题编号，输出对应问题的答案。
## 提示

答题模板，可供参考。

```cpp
#include<iostream>
using namespace std;
int main() {
    string ans [] = {
        "The answer of task A", // 双引号中替换为 A 题的答案
        "The answer of task B", // 双引号中替换为 B 题的答案
        "The answer of task C", // 双引号中替换为 C 题的答案
        "The answer of task D", // 双引号中替换为 D 题的答案
        "The answer of task E", // 双引号中替换为 E 题的答案
    };
    char T;
    cin >> T;
    cout << ans[T - 'A'] << endl;
    return 0;
}
```


---

---
title: "[蓝桥杯 2021 省 A] 异或数列"
layout: "post"
diff: 普及+/提高
pid: P8743
tag: ['博弈论', '2021', '位运算', '蓝桥杯省赛']
---
# [蓝桥杯 2021 省 A] 异或数列
## 题目描述

Alice 和 Bob 正在玩一个异或数列的游戏。初始时，Alice 和 Bob 分别有一个整数 $a$ 和 $b$, 有一个给定的长度为 $n$ 的公共数列 $X_{1}, X_{2}, \cdots, X_{n}$ 。

Alice 和 Bob 轮流操作，Alice 先手，每步可以在以下两种选项中选一种:

选项 1: 从数列中选一个 $X_{i}$ 给 Alice 的数异或上, 或者说令 $a$ 变为 $a \oplus X_{i}$ 。（其中 $\oplus$ 表示按位异或）

选项 2: 从数列中选一个 $X_{i}$ 给 Bob 的数异或上，或者说令 $b$ 变为 $b \oplus X_{i}$ 。

每个数 $X_{i}$ 都只能用一次, 当所有 $X_{i}$ 均被使用后（$n$ 轮后）游戏结束。游戏结束时, 拥有的数比较大的一方获胜，如果双方数值相同，即为平手。

现在双方都足够聪明，都采用最优策略，请问谁能获胜?
## 输入格式

每个评测用例包含多组询问。询问之间彼此独立。

输入的第一行包含一个整数 $T$，表示询问数。

接下来 $T$ 行每行包含一组询问。其中第 $i$ 行的第一个整数 $n_{i}$ 表示数列长度，随后 $n_{i}$ 个整数 $X_{1}, X_{2}, \cdots, X_{n_{i}}$ 表示数列中的每个数。
## 输出格式

输出 $T$ 行，依次对应每组询问的答案。

每行包含一个整数 $1$、$0$ 或 $-1$ 分别表示 Alice 胜、平局或败。
## 样例

### 样例输入 #1
```
4
1 1
1 0
2 2 1
7 992438 1006399 781139 985280 4729 872779 563580
```
### 样例输出 #1
```
1
0
1
1
```
## 提示

对于所有评测用例, $1 \leq T \leq 2\times 10^5,1 \leq \sum\limits_{i=1}^{T} n_{i} \leq 2\times10^5,0 \leq X_{i}<2^{20}$ 。 

蓝桥杯 2021 第一轮省赛 A 组 G 题。


---

---
title: "[蓝桥杯 2022 省 A] 选数异或"
layout: "post"
diff: 普及+/提高
pid: P8773
tag: ['2020', '线段树', '2022', 'ST 表', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 A] 选数异或
## 题目描述

给定一个长度为 $n$ 的数列 $A_{1}, A_{2}, \cdots, A_{n}$ 和一个非负整数 $x$, 给定 $m$ 次查询, 每次询问能否从某个区间 $[l, r]$ 中选择两个数使得他们的异或等于 $x$ 。

## 输入格式

输入的第一行包含三个整数 $n, m, x$ 。

第二行包含 $n$ 个整数 $A_{1}, A_{2}, \cdots, A_{n}$。

接下来 $m$ 行，每行包含两个整数 $l_{i}, r_{i}$ 表示询问区间 $\left[l_{i}, r_{i}\right]$ 。

## 输出格式

对于每个询问, 如果该区间内存在两个数的异或为 $x$ 则输出 `yes`, 否则输出 `no`。
## 样例

### 样例输入 #1
```
4 4 1
1 2 3 4
1 4
1 2
2 3
3 3
```
### 样例输出 #1
```
yes
no
yes
no
```
## 提示

**【样例说明】**

显然整个数列中只有 2,3 的异或为 1 。

**【评测用例规模与约定】**

对于 $20 \%$ 的评测用例, $1 \leq n, m \leq 100$;

对于 $40 \%$ 的评测用例, $1 \leq n, m \leq 1000$;

对于所有评测用例, $1 \leq n, m \leq 10^5,0 \leq x<2^{20}, 1 \leq l_{i} \leq r_{i} \leq n$ ， $0 \leq A_{i}<2^{20}$ 。

蓝桥杯 2022 省赛 A 组 D 题。


---

---
title: "[蓝桥杯 2022 省 A] 爬树的甲壳虫"
layout: "post"
diff: 普及+/提高
pid: P8774
tag: ['动态规划 DP', '2022', '期望', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 A] 爬树的甲壳虫
## 题目描述

有一只甲壳虫想要爬上一颗高度为 $n$ 的树，它一开始位于树根, 高度为 $0$，当它尝试从高度 $i-1$ 爬到高度为 $i$ 的位置时有 $P_{i}$ 的概率会掉回树根, 求它从树根爬到树顶时, 经过的时间的期望值是多少。

## 输入格式

输入第一行包含一个整数 $n$ 表示树的高度。

接下来 $n$ 行每行包含两个整数 $x_{i}, y_{i}$, 用一个空格分隔，表示 $P_{i}=\frac{x_{i}}{y_{i}}$ 。

## 输出格式

输出一行包含一个整数表示答案，答案是一个有理数，请输出答案对质数 $998244353$ 取模的结果。其中有理数 $\frac{a}{b}$ 对质数 $P$ 取模的结果是整数 $c$ 满足 $0 \leq c<P$ 且 $c \cdot b \equiv a\pmod P$ 。

## 样例

### 样例输入 #1
```
1
1 2
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
3
1 2
3 5
7 11
```
### 样例输出 #2
```
623902744
```
## 提示

对于 $20 \%$ 的评测用例, $n \leq 2,1 \leq x_{i}<y_{i} \leq 20$;

对于 $50 \%$ 的评测用例, $n \leq 500,1 \leq x_{i}<y_{i} \leq 200$;

对于所有评测用例, $1 \leq n \leq 10^5,1 \leq x_{i}<y_{i} \leq 10^{9}$ 。 

蓝桥杯 2022 省赛 A 组 E 题。


---

---
title: "[蓝桥杯 2022 省 A] 青蛙过河"
layout: "post"
diff: 普及+/提高
pid: P8775
tag: ['贪心', '二分', '2022', '双指针 two-pointer', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 A] 青蛙过河
## 题目描述

小青蛙住在一条河边，它想到河对岸的学校去学习。小青蛙打算经过河里的石头跳到对岸。

河里的石头排成了一条直线，小青蛙每次跳跃必须落在一块石头或者岸上。不过，每块石头有一个高度，每次小青蛙从一块石头起跳，这块石头的高度就会下降 $1$，当石头的高度下降到 $0$ 时小青蛙不能再跳到这块石头上（某次跳跃后使石头高度下降到 $0$ 是允许的)。

小青蛙一共需要去学校上 $x$ 天课，所以它需要往返 $2x$ 次。当小青蛙具有一个跳跃能力 $y$ 时，它能跳不超过 $y$ 的距离。

请问小青蛙的跳跃能力至少是多少才能用这些石头上完 $x$ 次课。
## 输入格式

输入的第一行包含两个整数 $n, x$, 分别表示河的宽度和小青蛙需要去学校的天数。请注意 $2x$ 才是实际过河的次数。

第二行包含 $n-1$ 个非负整数 $H_{1}, H_{2}, \cdots, H_{n-1}$, 其中 $H_{i}>0$ 表示在河中与 小青蛙的家相距 $i$ 的地方有一块高度为 $H_{i}$ 的石头，$H_{i}=0$ 表示这个位置没有石头。
## 输出格式

输出一行, 包含一个整数, 表示小青蛙需要的最低跳跃能力。
## 样例

### 样例输入 #1
```
5 1
1 0 1 0
```
### 样例输出 #1
```
4
```
## 提示

**【样例解释】**

由于只有两块高度为 $1$ 的石头，所以往返只能各用一块。第 $1$ 块石头和对岸的距离为 $4$，如果小青蛙的跳跃能力为 $3$ 则无法满足要求。所以小青蛙最少需要 $4$ 的跳跃能力。

**【评测用例规模与约定】**

对于 $30 \%$ 的评测用例，$n \leq 100$;

对于 $60 \%$ 的评测用例，$n \leq 1000$;

对于所有评测用例，$1 \leq n \leq 10^{5}, 1 \leq x \leq 10^{9}, 0 \leq H_{i} \leq 10^{4}$ 。 

蓝桥杯 2022 省赛 A 组 F 题。


---

---
title: "[蓝桥杯 2022 省 A] 数的拆分"
layout: "post"
diff: 普及+/提高
pid: P8778
tag: ['2022', '数论', '素数判断,质数,筛法', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 A] 数的拆分
## 题目描述

给定 $T$ 个正整数 $a_{i}$，分别问每个 $a_{i}$ 能否表示为 $x_{1}^{y_{1}} \cdot x_{2}^{y_{2}}$ 的形式，其中 $x_{1}, x_{2}$ 为正整数，$y_{1}, y_{2}$ 为大于等于 $2$ 的正整数。
## 输入格式

输入第一行包含一个整数 $T$ 表示询问次数。

接下来 $T$ 行，每行包含一个正整数 $a_{i}$ 。
## 输出格式

对于每次询问，如果 $a_{i}$ 能够表示为题目描述的形式则输出 `yes`，否则输出 `no`。
## 样例

### 样例输入 #1
```
7
2
6
12
4
8
24
72
```
### 样例输出 #1
```
no
no
no
yes
yes
no
yes
```
## 提示

**【样例说明】**

第 $4,5,7$ 个数分别可以表示为:

$$
\begin{aligned}
&a_{4}=2^{2} \times 1^{2} ; \\
&a_{5}=2^{3} \times 1^{2} ; \\
&a_{7}=2^{3} \times 3^{2} 。
\end{aligned}
$$

**【评测用例规模与约定】**

对于 $10 \%$ 的评测用例，$1 \leq T \leq 200, a_{i} \leq 10^{9}$;

对于 $30 \%$ 的评测用例，$1 \leq T \leq 300, a_{i} \leq 10^{18}$;

对于 $60 \%$ 的评测用例，$1 \leq T \leq 10000, a_{i} \leq 10^{18}$;

对于所有评测用例，$1 \leq T \leq 100000,1 \leq a_{i} \leq 10^{18}$ 。 

蓝桥杯 2022 省赛 A 组 I 题。


---

---
title: "[蓝桥杯 2022 省 A] 推导部分和"
layout: "post"
diff: 普及+/提高
pid: P8779
tag: ['并查集', '2022', '图论建模', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 A] 推导部分和
## 题目描述

对于一个长度为 $N$ 的整数数列 $A_{1}, A_{2}, \cdots A_{N}$，小蓝想知道下标 $l$ 到 $r$ 的部分和 $\sum\limits_{i=l}^{r}A_i=A_{l}+A_{l+1}+\cdots+A_{r}$ 是多少?

然而，小蓝并不知道数列中每个数的值是多少，他只知道它的 $M$ 个部分和的值。其中第 $i$ 个部分和是下标 $l_{i}$ 到 $r_{i}$ 的部分和 $\sum_{j=l_{i}}^{r_{i}}=A_{l_{i}}+A_{l_{i}+1}+\cdots+A_{r_{i}}$, 值是 $S_{i}$ 。
## 输入格式

第一行包含 3 个整数 $N 、 M$ 和 $Q$。分别代表数组长度、已知的部分和数量 和询问的部分和数量。

接下来 $M$ 行，每行包含 $3$ 个整数 $l_{i}, r_{i}, S_{i}$。

接下来 $Q$ 行，每行包含 $2$ 个整数 $l$ 和 $r$，代表一个小蓝想知道的部分和。

## 输出格式

对于每个询问, 输出一行包含一个整数表示答案。如果答案无法确定, 输出 `UNKNOWN`。
## 样例

### 样例输入 #1
```
5 3 3
1 5 15
4 5 9
2 3 5
1 5
1 3
1 2
```
### 样例输出 #1
```
15
6
UNKNOWN
```
## 提示

对于 $10 \%$ 的评测用例, $1 \leq N, M, Q \leq 10,-100 \leq S_{i} \leq 100$ 。

对于 $20 \%$ 的评测用例, $1 \leq N, M, Q \leq 20,-1000 \leq S_{i} \leq 1000$ 。

对于 $30 \%$ 的评测用例, $1 \leq N, M, Q \leq 50,-10000 \leq S_{i} \leq 10000$ 。

对于 $40 \%$ 的评测用例, $1 \leq N, M, Q \leq 1000,-10^{6} \leq S_{i} \leq 10^{6}$ 。

对于 $60 \%$ 的评测用例, $1 \leq N, M, Q \leq 10000,-10^{9} \leq S_{i} \leq 10^{9}$ 。

对于所有评测用例, $1 \leq N, M, Q \leq 10^{5},-10^{12} \leq S_{i} \leq 10^{12}, 1 \leq l_{i} \leq r_{i} \leq N$, $1 \leq l \leq r \leq N$ 。数据保证没有矛盾。

蓝桥杯 2022 省赛 A 组 J 题。


---

---
title: "[蓝桥杯 2023 省 A] 异或和之和"
layout: "post"
diff: 普及+/提高
pid: P9236
tag: ['2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 A] 异或和之和
## 题目描述

给定一个数组 $A_i$，分别求其每个子段的异或和，并求出它们的和。或者说，对于每组满足 $1 \leq L \leq R \leq n$ 的 $L,R$，求出数组中第 $L$ 至第 $R$ 个元素的异或和。然后输出每组 $L,R$ 得到的结果加起来的值。
## 输入格式

输入的第一行包含一个整数 $n$ 。

第二行包含 $n$ 个整数 $A_i$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
5
1 2 3 4 5
```
### 样例输出 #1
```
39
```
## 提示

#### 【评测用例规模与约定】

对于 $30 \%$ 的评测用例，$n \leq 300$；

对于 $60 \%$ 的评测用例，$n \leq 5000$;

对于所有评测用例，$1 \leq n \leq 10^5$，$0 \leq A_i \leq 2^{20}$。


---

---
title: "[蓝桥杯 2023 省 B] 景区导游"
layout: "post"
diff: 普及+/提高
pid: P9245
tag: ['2023', '最近公共祖先 LCA', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 B] 景区导游
## 题目描述

某景区一共有 $N$ 个景点，编号 $1$ 到 $N$。景点之间共有 $N-1$ 条双向的摆渡车线路相连，形成一棵树状结构。在景点之间往返只能通过这些摆渡车进行，需要花费一定的时间。

小明是这个景区的资深导游，他每天都要按固定顺序带客人游览其中 $K$ 个景点：$A_{1},A_{2},\ldots,A_{K}$。今天由于时间原因，小明决定跳过其中一个景点，只带游客按顺序游览其中 $K-1$ 个景点。具体来说，如果小明选择跳过 $A_{i}$，那么他会按顺序带游客游览 $A_{1},A_{2},\ldots,A_{i-1},A_{i+1},\ldots,A_{K}(1 \leq i \leq K)$。

请你对任意一个 $A_{i}$，计算如果跳过这个景点，小明需要花费多少时间在景点之间的摆渡车上？
## 输入格式

第一行包含 $2$ 个整数 $N$ 和 $K$。

以下 $N-1$ 行，每行包含 $3$ 个整数 $u，v, t$，代表景点 $u$ 和 $v$ 之间有摆渡车线路，花费 $t$ 个单位时间。

最后一行包含 $K$ 个整数 $A_{1},A_{2},\ldots,A_{K}$ 代表原定游览线路。
## 输出格式

输出 $K$ 个整数，其中第 $i$ 个代表跳过 $A_{i}$ 之后，花费在摆渡车上的时间。
## 样例

### 样例输入 #1
```
6 4
1 2 1
1 3 1
3 4 2
3 5 2
4 6 3
2 6 5 1
```
### 样例输出 #1
```
10 7 13 14

```
## 提示

**【样例说明】**

原路线是 $2 \rightarrow 6 \rightarrow 5 \rightarrow 1$。

当跳过 $2$ 时，路线是 $6 \rightarrow 5 \rightarrow 1$，其中 $6 \rightarrow 5$ 花费时间 $3+2+2=7$，$5 \rightarrow 1$ 花费时间 $2+1=3$，总时间花费 $10$。

当跳过 $6$ 时，路线是 $2 \rightarrow 5 \rightarrow 1$，其中 $2 \rightarrow 5$ 花费时间 $1+1+2=4$，$5 \rightarrow 1$ 花费时间 $2+1=3$，总时间花费 $7$。

当跳过 $5$ 时，路线是 $2 \rightarrow 6 \rightarrow 1$，其中 $2 \rightarrow 6$ 花费时间 $1+1+2+3=7$，$6 \rightarrow 1$ 花费时间 $3+2+1=6$ ，总时间花费 $13$。

当跳过 $1$ 时，路线时 $2 \rightarrow 6 \rightarrow 5$，其中 $2 \rightarrow 6$ 花费时间 $1+1+2+3=7$，$6 \rightarrow 5$ 花费时间 $3+2+2=7$ ，总时间花费 $14$。


**【评测用例规模与约定】**

对于 $20 \%$ 的数据，$2 \leq K \leq N \leq 100$。

对于 $40 \%$ 的数据，$2 \leq K \leq N \leq 10^{4}$。

对于 $100 \%$ 的数据，$2 \leq K \leq N \leq 10^{5}$，$1 \leq u,v,A_{i} \leq N$，$1 \leq t \leq 10^{5}$。保证 $A_{i}$ 两两不同。 

蓝桥杯 2023 省赛 B 组 I 题。


---

---
title: "[蓝桥杯 2023 省 B] 砍树"
layout: "post"
diff: 普及+/提高
pid: P9246
tag: ['2023', '最近公共祖先 LCA', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 B] 砍树
## 题目描述

给定一棵由 $n$ 个结点组成的树以及 $m$ 个不重复的无序数对 $\left(a_{1},b_{1}\right),\left(a_{2},b_{2}\right),\ldots,\left(a_{m},b_{m}\right)$，其中 $a_{i}$ 互不相同，$b_{i}$ 互不相同，$a_{i} \neq b_{j}(1 \leq i,j \leq m)$。

小明想知道是否能够选择一条树上的边砍断，使得对于每个 $\left(a_{i},b_{i}\right)$ 满足 $a_{i}$ 和 $b_{i}$ 不连通，如果可以则输出应该断掉的边的编号 (编号按输入顺序从 $1$ 开始)，否则输出 `-1`。

## 输入格式

输入共 $n+m$ 行，第一行为两个正整数 $n,m$。

后面 $n-1$ 行，每行两个正整数 $x_{i},y_{i}$ 表示第 $i$ 条边的两个端点。

后面 $m$ 行，每行两个正整数 $a_{i},b_{i}$。
## 输出格式

一行一个整数，表示答案，如有多个答案，输出编号最大的一个。

## 样例

### 样例输入 #1
```
6 2
1 2
2 3
4 3
2 5
6 5
3 6
4 5

```
### 样例输出 #1
```
4
```
## 提示

**【样例说明】**

断开第 $2$ 条边后形成两个连通块：$\{3,4\},\{1,2,5,6\}$，满足 $3$ 和 $6$ 不连通，$4$ 和 $5$ 不连通。

断开第 $4$ 条边后形成两个连通块：$\{1,2,3,4\},\{5,6\}$，同样满足 $3$ 和 $6$ 不连通，$4$ 和 $5$ 不连通。

$4$ 编号更大，因此答案为 $4$。

**【评测用例规模与约定】**

对于 $30 \%$ 的数据，保证 $1<n \leq 10^3$。

对于 $100 \%$ 的数据，保证 $1<n \leq 10^{5}$，$1 \leq m \leq \frac{n}{2}$。

蓝桥杯 2023 省赛 B 组 J 题。


---


---
title: "[USACO18OPEN] Team Tic Tac Toe B"
layout: "post"
diff: 普及-
pid: P10122
tag: ['模拟', '2018', 'USACO', '枚举']
---
# [USACO18OPEN] Team Tic Tac Toe B
## 题目描述

Farmer John 有 $26$ 头奶牛，恰好她们名字都以不同的字母开头，所以 Farmer John 用每头奶牛的名字的首字母来指代她——一个 `A-Z` 之间的字母。

这些奶牛最近沉迷于井字游戏，但是由于她们并不满足只有两头奶牛可以一起玩，她们改编了这个游戏，可以让许多奶牛可以一块儿玩！就像常规的井字游戏一样，这个游戏是在一块 $3×3$
的棋盘上进行的，只是与仅用 `X` 和 `O` 不同，每个格子用一个 `A-Z` 之间的字母标记，表示占有这个格子的奶牛名字的首字母。

以下是一个棋盘的例子：

```plain
COW
XXO
ABC
```

这些奶牛会在她们迷惑于如何判断胜负之前就占满这九个格子。显然，就像常规的井字游戏一样，如果任何一头奶牛占有了一整行、一整列，或是一整条对角线，那么这头奶牛就获胜了。然而，由于奶牛认为多牛游戏中这并不容易出现，所以她们决定允许奶牛组成两牛一队，如果某一行、一列，或是一条对角线仅包含一队的两头奶牛的字母，并且同时包含了这两头奶牛（不仅仅是一头）的字母，那么这一队就获胜。

请帮助奶牛们判断有多少头奶牛或是两头奶牛组成的队伍可以获胜。注意棋盘上的同一个格子可能在不同奶牛或队伍的获胜中均被用到。 
## 输入格式

输入包含三行，每行三个 `A-Z` 之间的字符。
## 输出格式

输出包含两行。第一行，输出能够获胜的单独的奶牛的数量。第二行，输出能够获胜的两头奶牛组成的队伍的数量。 
## 样例

### 样例输入 #1
```
COW
XXO
ABC
```
### 样例输出 #1
```
0
2
```
## 提示

在这个例子中，没有单独的奶牛可以获得胜利。但是，如果奶牛 `C` 和奶牛 `X` 组队，她们可以通过 `C-X-C` 对角线获胜。同样地，如果奶牛 `X` 和 `O` 组队，她们可以通过中间一行取胜。 


---

---
title: "[USACO24JAN] Majority Opinion B"
layout: "post"
diff: 普及-
pid: P10131
tag: ['数学', 'USACO', '2024', 'O2优化']
---
# [USACO24JAN] Majority Opinion B
## 题目描述

Farmer John 有一项重要的任务——弄清楚要为他的奶牛们购买什么类型的干草。

Farmer John 的 $N$ 头奶牛（$2\le N\le 10^5$）编号为 $1$ 到 $N$，每头奶牛喜欢恰好一种类型的干草 $h_i$（$1\le h_i\le N$）。他希望他的所有奶牛都喜欢同一种干草。

为了实现这一目标，Farmer John 可以主持焦点小组访谈。一次焦点小组访谈为让编号从 $i$ 到 $j$ 的连续范围内的所有奶牛聚集在一起参加一次访谈。如果有一种干草是小组中超过一半的奶牛喜欢的，则此次焦点小组访谈结束后，所有奶牛最终都会喜欢这种干草。如果不存在这种类型的干草，那么奶牛们不会改变她们喜欢的干草类型。例如，在由 $16$ 头奶牛组成的焦点小组访谈中，需要有其中 $9$ 头或更多的奶牛具有相同的干草喜好，才能使其余奶牛改变其喜好以与之一致。

Farmer John 想知道哪些类型的干草有可能变为同时受到所有奶牛的喜爱。他一次只能主持一个焦点小组访谈，但为了使所有奶牛都喜欢同一类型的干草，他可以根据需要任意多次地主持焦点小组访谈。 
## 输入格式

输入的第一行包含一个整数 $T$，为独立的测试用例的数量（$1\le T\le 10$）。

每一个测试用例的第一行包含 $N$。

第二行包含 $N$ 个整数，为奶牛们喜爱的干草类型 $h_i$。

输入保证所有测试用例的 $N$ 之和不超过 $2\cdot 10^5$。 
## 输出格式

输出 $T$ 行，对于每个测试用例输出一行。

如果可能使所有奶牛同时喜欢同一种干草，则以升序输出所有可能的此类干草的类型，否则输出 $-1$。在同一行内输出一列整数时，相邻的数用空格分隔，并确保行末没有多余空格。 
## 样例

### 样例输入 #1
```
5
5
1 2 2 2 3
6
1 2 3 1 2 3
6
1 1 1 2 2 2
3
3 2 3
2
2 1
```
### 样例输出 #1
```
2
-1
1 2
3
-1
```
## 提示

### 样例解释

在输入样例中，有 5 个测试用例。

在第一个测试用例中，仅可能使所有奶牛喜欢种类 $2$。FJ 可以通过主持一次所有奶牛的焦点小组访谈达到这一目的。

在第二个测试用例中，可以证明没有奶牛会改变她们喜爱的干草种类。

在第三个测试用例中，有可能使所有奶牛喜欢种类 $1$，可以通过主持三次焦点小组访谈达到这一目的——首先使奶牛 $1$ 到 $4$ 进行一次焦点小组访谈，随后使奶牛 $1$ 到 $5$ 进行一次焦点小组访谈，随后使奶牛 $1$ 到 $6$ 进行一次焦点小组访谈。以类似的逻辑，依次操作奶牛 $3$ 到 $6$，随后是奶牛 $2$ 到 $6$，随后是奶牛 $1$ 到 $6$，我们可以使所有奶牛喜欢种类 $2$。

在第四个测试用例中，有可能使所有奶牛喜欢种类 $3$，可以通过主持一次所有奶牛的焦点小组访谈达到这一目的。

在第五个测试用例中，可以证明没有奶牛会改变她们喜爱的干草种类。

### 测试点性质

- 测试点 $2$：$N=2$。
- 测试点 $3-4$：$N\le 50$。
- 测试点 $5-6$：对于所有的 $1\le i\le N−1$，有 $h_i\le h_{i+1}$。
- 测试点 $7-15$：没有额外限制。


---

---
title: "[USACO24JAN] Cannonball B"
layout: "post"
diff: 普及-
pid: P10132
tag: ['模拟', 'USACO', '2024']
---
# [USACO24JAN] Cannonball B
## 题目描述

Bessie 已经精通了变成炮弹并沿着长度为 $N$（$1\le N\le 10^5$）的数轴弹跳的艺术，数轴上的位置从左到右编号为 $1,2,\cdots,N$。她从某个整数位置 $S$（$1\le S\le N$）开始，以 $1$ 的起始能量向右弹跳。 如果 Bessie 的能量为 $k$，则她将弹跳至距当前位置向前距离 $k$ 处进行下一次弹跳。

从 $1$ 到 $N$ 的每个整数位置上均有炮击目标或跳板。每个炮击目标和跳板都有一个在 $0$ 到 $N$ 范围内的整数值。一个数值为 $v$ 的跳板会使 Bessie 的能量增加 $v$ 并反转她的方向。一个数值为 $v$ 的炮击目标会当着陆时能量不小于 $v$ 时被击破。着陆在炮击目标上不会改变 Bessie 的能量和方向。被击破的炮击目标将保持击破状态，Bessie 依然可以该炮击目标上弹跳，同样不会改变能量和方向。

如果 Bessie 弹跳无限长的时间或直到她离开数轴，她会击破多少个炮击目标？

如果 Bessie 开始时位于一个她可以击破的炮击目标，她会立刻这样做。类似地，如果 Bessie 开始时位于一个跳板，跳板的效果将在她第一次跳跃之前生效。 
## 输入格式

输入的第一行包含 $N$ 和 $S$，其中 $N$ 为数轴的长度，$S$ 为 Bessie 的起始位置。

以下 $N$ 行描述了每一个位置。其中第 $i$ 行包含整数 $q_i$ 和 $v_i$，如果位置 $i$ 上有一个跳板则 $q_i=0$，位置 $i$ 上有一个炮击目标则 $q_i=1$，$v_i$ 是位置 $i$ 上的跳板或炮击目标的数值。 
## 输出格式

输出一个整数，为将被击破的炮击目标数量。 
## 样例

### 样例输入 #1
```
5 2
0 1
1 1
1 2
0 1
1 1
```
### 样例输出 #1
```
1
```
### 样例输入 #2
```
6 4
0 3
1 1
1 2
1 1
0 1
1 1
```
### 样例输出 #2
```
3
```
## 提示

### 样例解释 1

Bessie 从坐标 $2$ 开始，这是一个数值为 $1$ 的炮击目标，所以她立刻击破了它。然后她弹跳至坐标 $3$，这是一个数值为 $2$ 的炮击目标，所以她无法击破它。她继续弹跳至坐标 $4$，这改变了她的方向并将她的能量增加了 $1$，达到 $2$。她跳回至坐标 $2$，这是一个已经被击破的炮击目标，所以她继续弹跳。此时，她弹跳至了坐标 $0$，因此她停了下来。她击破了恰好一个炮击目标，位于坐标 $2$。

### 样例解释 2

Bessie 经过的路径为 $4\to 5\to 3\to 1\to 6$，下一次弹跳将会使她离开数轴（$11$）。她依次击破了炮击目标 $4,3,6$。

### 测试点性质

 - 测试点 $3-5$：$N\le 100$。
 - 测试点 $6-10$：$N\le 1000$。
 - 测试点 $11-20$：没有额外限制。


---

---
title: "[USACO24FEB] Palindrome Game B"
layout: "post"
diff: 普及-
pid: P10187
tag: ['数学', '贪心', '博弈论', 'USACO', '2024', 'O2优化']
---
# [USACO24FEB] Palindrome Game B
## 题目描述

Bessie 和 Elsie 正在使用一堆初始时共 $S$ 个石子（$1\le S<10^{10^5}$）进行一个游戏。两头奶牛依次行动，Bessie 先行动。当轮到一头奶牛行动时，她必须从堆中取走 $x$ 个石子，其中 $x$ 是该奶牛选定的任意正整数回文数。如果当一头奶牛的回合开始时石子堆是空的，那么这头奶牛就输了。

**定义**：一个正整数如果从前向后和从后向前读相同，则该数为回文数；回文数的例子有 $1$，$121$ 和 $9009$。数不允许有前导零；例如，$990$ **不是**回文数。

有 $T$（$1\le T\le 10$）个独立的测试用例。对于每一个测试用例，输出如果两头奶牛都采取最优策略，谁会赢得游戏。 
## 输入格式

输入的第一行包含 $T$，为测试用例的数量。以下 $T$ 行为测试用例，每个测试用例一行。

每个测试用例均由一个整数 $S$ 指定。 
## 输出格式

对于每一个测试用例输出一行，如果 Bessie 在最优策略下可以从一堆 $S$ 个石子的石子堆开始赢得游戏，则输出 `B`，否则输出 `E`。
## 样例

### 样例输入 #1
```
3
8
10
12
```
### 样例输出 #1
```
B
E
B
```
## 提示

### 样例解释

对于第一个测试用例，Bessie 可以在第一次行动中取走所有石子，因为 $8$ 是回文数，使她获胜。

对于第二个测试用例，$10$ 不是回文数，因此 Bessie 无法在第一次行动中取走所有石子。无论 Bessie 第一回合取走多少石子，Elsie 总能在第二回合取走所有余下的石子，使她获胜。

对于第三个测试用例，可以证明在最优策略下 Bessie 可以获胜。 

### 测试点性质

- 测试点 $2-4$：$S<100$。
- 测试点 $5-7$：$S<10^6$。
- 测试点 $8-10$：$S<10^9$。
- 测试点 $11-13$：没有额外限制。


---

---
title: "[USACO24FEB] Maximizing Productivity B"
layout: "post"
diff: 普及-
pid: P10189
tag: ['二分', 'USACO', '2024', 'O2优化']
---
# [USACO24FEB] Maximizing Productivity B
## 题目描述

Farmer John 有 $N$（$1\le N\le 2\cdot 10^5$）个农场，编号为 $1$ 到 $N$。已知 FJ 会在时刻 $c_i$ 关闭农场 $i$。Bessie 在时刻 $S$ 起床，她希望在农场关闭前访问尽可能多的农场，从而最大限度地提高她这一天的生产力。她计划在时刻 $t_i+S$ 访问农场 $i$。Bessie 必须于严格早于 Farmer John 关闭农场的时刻抵达农场才能成功进行访问。

Bessie 有 $Q$（$1\le Q\le 2\cdot 10^5$）个询问。对于每个询问，她会给你两个整数 $S$ 和 $V$。对于每个询问，输出当 Bessie 在时刻 $S$ 起床是否可以访问至少 $V$ 个农场。
## 输入格式

输入的第一行包含 $N$ 和 $Q$。

第二行包含 $c_1,c_2,c_3\ldots c_N$（$1\le c_i\le 10^6$）。

第三行包含 $t_1,t_2,t_3\ldots t_N$（$1\le t_i\le 10^6$）。

以下 $Q$ 行，每行包含两个整数 $V$（$1\le V\le N$）和 $S$（$1\le S\le 10^6$）。 
## 输出格式

对 $Q$ 个询问的每一个输出一行，输出 `YES`（是）或 `NO`（否）。
## 样例

### 样例输入 #1
```
5 5
3 5 7 9 12
4 2 3 3 8
1 5
1 6
3 3
4 2
5 1
```
### 样例输出 #1
```
YES
NO
YES
YES
NO
```
## 提示

### 样例解释

对于第一个询问，Bessie 将在时间 $t=[9,7,8,8,13]$ 访问农场， 因此她在 FJ 关闭农场之前能准时访问到的只有农场 $4$。

对于第二个询问，Bessie 将无法准时访问到任何农场。

对于第三个询问，Bessie 将可以准时访问到农场 $3,4,5$。

对于第四个和第五个询问，Bessie 将能够准时访问除第一个农场之外的所有农场。

### 测试点性质

- 测试点 $2-4$：$N,Q\le 10^3$。
- 测试点 $5-9$：$c_i,t_i\le 20$。
- 测试点 $10-17$：没有额外限制。


---

---
title: "[USACO24DEC] Farmer John's Cheese Block B"
layout: "post"
diff: 普及-
pid: P11450
tag: ['模拟', 'USACO', '2024']
---
# [USACO24DEC] Farmer John's Cheese Block B
## 题目描述

Farmer John 有一块立方体形状的奶酪，它位于三维坐标空间中，从 $(0,0,0)$ 延伸至 $(N,N,N)$（$2≤N≤1000$）。Farmer John 将对他的奶酪块执行一系列 $Q$（$1≤Q≤2⋅10^5$）次更新操作。

对于每次更新操作，FJ 将从整数坐标 $(x,y,z)$ 到 $(x+1,y+1,z+1)$ 处切割出一个 $1×1×1$ 的奶酪块，其中 $0≤x,y,z<N$。输入保证在 FJ 切割的位置上存在一个 $1×1×1$ 的奶酪块。由于 FJ 正在玩牛的世界，当下方的奶酪被切割后，重力不会导致上方的奶酪掉落。

在每次更新后，输出 FJ 可以将一个 $1×1×N$ 的砖块插入奶酪块中的方案数，使得砖块的任何部分都不与剩余的奶酪重叠。砖块的每个顶点在全部三个坐标轴上均必须具有整数坐标，范围为 $[0,N]$。FJ 可以随意旋转砖块。
## 输入格式

输入的第一行包含 $N$ 和 $Q$。

以下 $Q$ 行包含 $x$，$y$ 和 $z$，为要切割的位置的坐标。
## 输出格式

在每次更新操作后，输出一个整数，为所求的方案数。
## 样例

### 样例输入 #1
```
2 5
0 0 0
1 1 1
0 1 0
1 0 0
1 1 0
```
### 样例输出 #1
```
0
0
1
2
5
```
## 提示

### 样例解释

在前三次更新操作后，$[0,1]×[0,2]×[0,1]$ 范围的 $1×2×1$ 砖块与剩余的奶酪不重叠，因此它贡献了答案。

![](https://usaco.org/current/data/fig_1_cheese_bronze_dec24.png)

### 测试点性质

- 测试点 1：样例。
- 测试点 2-4：$N≤10$ 且 $Q≤1000$。
- 测试点 5-7：$N≤100$ 且 $Q≤1000$。
- 测试点 8-16：没有额外限制。


---

---
title: "[USACO25FEB] Reflection B"
layout: "post"
diff: 普及-
pid: P11836
tag: ['模拟', 'USACO', '2025']
---
# [USACO25FEB] Reflection B
## 题目描述

Farmer John 有一块正方形画布，由一个 $N$ 行 $N$ 列的方阵表示（$2 \leq N \leq 2000$，$N$ 为偶数）。他按照以下步骤来绘制画布：

首先，他将画布分成四个等大的象限，由通过画布中心的水平和垂直直线分隔。
其次，他在画布的右上象限中绘制了一幅美丽的画作。右上象限的每个方格或者被涂色（以 `#` 表示），或者未被涂色（以 `.` 表示）。
最后，由于他对自己的画作感到非常自豪，他将其沿此前提到的水平和垂直直线翻转到画布的其他象限中。
例如，假设 $N=8$，且 FJ 在步骤 2 中于右上象限绘制了以下画作：

```plain
.#..
.#..
.##.
....
```

在步骤 3 中沿水平和垂直直线翻转过后，画布将如下所示：

```plain
..#..#..
..#..#..
.##..##.
........
........
.##..##.
..#..#..
..#..#..
```

然而，当 FJ 熟睡时，Bessie 闯入了他的牛棚，偷走了他珍贵的画布。她彻底破坏了画布——移除了某些涂色的单元格，同时添加了某些涂色的单元格！在 FJ 醒来之前，她将画布归还给了 FJ。

FJ 想要修改他的画布，使其再次满足翻转条件：即，它是将右上象限翻转到其他各象限的结果。由于他只有有限的资源，他希望以尽可能少的操作来实现这一点，其中单次操作包括为一个方格涂色或移除一个方格的涂色。

给定 Bessie 破坏后的画布，以及一系列 $U$（$0\le U \leq 10^5$）次对画布的更新，每次更新切换单个方格的状态，若它是 '#' 则切换为 '.'，反之亦然。在所有更新之前，以及在每次更新之后，输出 FJ 为满足翻转条件所需要执行的最小操作数量 $x$。
## 输入格式

输入的第一行包含整数 $N$ 和 $U$。

以下 $N$ 行，每行包含 $N$ 个字符，表示 Bessie 破坏后的画布。每个字符均为 `#` 或 `.`。

以下 $U$ 行，每行包含整数 $r$ 和 $c$，其中 $1 \leq r, c \leq N$，表示一次对画布从上到下第 $r$ 行，从左到右第 $c$ 列的方格的更新。
## 输出格式

输出 $U+1$ 行，为在所有更新之前以及在每次更新之后的 $x$。

## 样例

### 样例输入 #1
```
4 5
..#.
##.#
####
..##
1 3
2 3
4 3
4 4
4 4
```
### 样例输出 #1
```
4
3
2
1
0
1
```
## 提示

样例 1 解释：

以下画布满足翻转条件，并且可由原画布经过 4 次操作得到：

```plain
....
####
####
....
```

使用少于 4 次操作使原画布满足翻转条件是不可能的。

在更新 $(1, 3)$ 之后，画布看起来是这样的：

```plain
....
##.#
####
..##
```

现在需要 3 次操作使画布满足翻转条件。

在更新 $(2, 3)$ 之后，画布看起来是这样的：

```plain
....
####
####
..##
```

现在需要 2 次操作使画布满足翻转条件。

- 测试点 $2\sim 3$：$N \le 4$。
- 测试点 $4\sim 6$：$U \le 10$。
- 测试点 $7\sim 16$：没有额外限制。


---

---
title: "[USACO25FEB] Making Mexes B"
layout: "post"
diff: 普及-
pid: P11837
tag: ['贪心', 'USACO', '2025']
---
# [USACO25FEB] Making Mexes B
## 题目描述

给定一个包含 $N$ 个非负整数的数组 $a$，$a_1, a_2, \dots, a_N$（$1\le N\le 2\cdot 10^5$，$0\le a_i\le N$）。在一次操作中，你可以将 $a$ 的任一元素修改为任意非负整数。

一个数组的 mex 是它不包含的最小非负整数。对于范围 $0$ 到 $N$ 内的每一个 $i$，计算使 $a$ 的 mex 等于 $i$ 所需要的最小操作次数。
## 输入格式

输入的第一行包含 $N$。

以下一行包含 $a_1,a_2,\dots, a_N$。
## 输出格式

对于范围 $0$ 到 $N$ 内的每一个 $i$ 输出一行，包含对于 $i$ 的最小操作次数。注意，$a$ 的 mex 对于范围 $0$ 到 $N$ 内的任意 $i$ 值都是可以通过修改取到的。

## 样例

### 样例输入 #1
```
4
2 2 2 0
```
### 样例输出 #1
```
1
0
3
1
2
```
## 提示

样例 1 解释：

- 为使 $a$ 的 mex 等于 $0$，我们可以将 $a_4$ 修改为 $3$（或任何正整数）。在得到的数组 $[2, 2, 2, 3]$ 中，$0$ 是数组不包含的最小非负整数，因此 $0$ 是数组的 mex。
- 为使 $a$ 的 mex 等于 $1$，我们不需要进行任何修改，因为 $1$ 已经是 $a = [2, 2, 2, 0]$ 中不包含的最小非负整数。
- 为使 $a$ 的 mex 等于 $2$，我们需要修改 $a$ 的前三个元素。例如，我们可以将 $a$ 修改为 $[3, 1, 1, 0]$。

- 测试点 $2\sim 6$：$N\le 10^3$。
- 测试点 $7\sim 11$：没有额外限制。


---

---
title: "[USACO1.1] 贪婪的送礼者Greedy Gift Givers"
layout: "post"
diff: 普及-
pid: P1201
tag: ['模拟', 'USACO']
---
# [USACO1.1] 贪婪的送礼者Greedy Gift Givers
## 题目描述

对于一群 $n$ 个要互送礼物的朋友，GY 要确定每个人送出的钱比收到的多多少。在这一个问题中，每个人都准备了一些钱来送礼物，而这些钱将会被平均分给那些将收到他的礼物的人。  

然而，在任何一群朋友中，有些人将送出较多的礼物(可能是因为有较多的朋友)，有些人有准备了较多的钱。  

给出一群朋友，没有人的名字会长于 $14$ 字符，给出每个人将花在送礼上的钱，和将收到他的礼物的人的列表，请确定每个人收到的比送出的钱多的数目。

## 输入格式

第一行一个正整数 $n$，表示人数。
接下来 $n$ 行，每行一个字符串表示人名。

接下来有 $n$ 段内容，对于每一段：
第一行是将会送出礼物人的名字。  
第二行包含二个非负整数，第一个是原有的钱的数目 ( $\in [0,2000]$ )，第二个 $g_i$ 是将收到这个人礼物的人的个数 如果 $g_i \neq 0$, 在下面 $g_i$ 行列出礼物的接受者的名字，一个名字一行。

## 输出格式

输出共 $n$ 行，每行输出一个人的名字和该人收到的钱比送出的钱多的数目。名字的顺序应该与输入第 $ 2 $ 行至 $ n+1 $ 行的顺序相同。

送出的钱永远是整数，即假设送礼人一次向 $ m $ 人送出 $ n $ 元，每个人应该得到 $ \lfloor n/m 
\rfloor $ 元。剩余未送出的钱应返还给送礼者。
## 样例

### 样例输入 #1
```
5
dave
laura
owen
vick
amr
dave
200 3
laura
owen
vick
owen
500 1
dave
amr
150 2
vick
owen
laura
0 2
amr
vick
vick
0 0

```
### 样例输出 #1
```
dave 302
laura 66
owen -359
vick 141
amr -150

```
## 提示

【数据范围】  
$1\le n \le 10$

题目翻译来自NOCOW。

USACO Training Section 1.1



---

---
title: "[USACO1.1] 黑色星期五Friday the Thirteenth"
layout: "post"
diff: 普及-
pid: P1202
tag: ['模拟', '数学', 'USACO']
---
# [USACO1.1] 黑色星期五Friday the Thirteenth
## 题目描述

$13$ 号又是一个星期五，那么 $13$号在星期五比在其他日子少吗？  

为了回答这个问题，写一个程序，要求计算每个月的十三号落在周一到周日的次数。给出 $n$ 年的一个周期，要求计算 $1900$ 年 $1$ 月 $1$ 日至 $1900+n-1$ 年 $12$ 月 $31$ 日中十三号落在周一到周日的次数。

这里有一些你要知道的:

1. $1900$ 年 $1$ 月 $1$ 日是星期一。
2. $4,6,11$ 和 $9$ 月有 $30$ 天，其他月份除了 $2$ 月都有 $31$ 天，闰年 $2$ 月有 $29$ 天，平年 $2$ 月有 $28$ 天。
3. 年份可以被 $4$ 整除的为闰年（$1992=4\times 498$ 所以 $1992$ 年是闰年，但是 $1990$ 年不是闰年）。
4. 以上规则不适合于世纪年。可以被 $400$ 整除的世纪年为闰年，否则为平年。所以，$1700,1800,1900,2100$ 年是平年，而 $2000$ 年是闰年。


## 输入格式

一个正整数 $n$。

## 输出格式

依次输出周六、日、一、二、三、四、五在 $13$ 日出现的次数。
## 样例

### 样例输入 #1
```
20

```
### 样例输出 #1
```
36 33 34 33 35 35 34

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le n \le 400$。

题目翻译来自NOCOW。

USACO Training Section 1.1



---

---
title: "[USACO25OPEN] Hoof Paper Scissors Minus One B"
layout: "post"
diff: 普及-
pid: P12022
tag: ['USACO', '2025']
---
# [USACO25OPEN] Hoof Paper Scissors Minus One B
## 题目描述

在一局蹄子剪刀布游戏中，Bessie 和 Elsie 可以出 $N$ （$1 \leq N \leq 3000$）种不同的蹄子手势，编号为 $1\dots N$，每个手势对应一种不同的材料。不同材料之间的相互关系有一个复杂的表格，基于该表格，可能会：

- 一种手势获胜，另一种失败。
- 两种手势平局。

蹄子剪刀布-1.0 的规则类似，但 Bessie 和 Elsie 可以各自出两个手势，每只蹄子出一个。在观察到她们所出的四个手势后，她们各自选择其中一个手势进行游戏。结果根据正常的蹄子剪刀布的规则决定。

给定 Elsie 计划在每局游戏中出的 $M$（$1 \leq M \leq 3000$）个手势组合，Bessie 想知道有多少种不同的手势组合可以确保战胜 Elsie。一个手势组合定义为一个有序对 $(L,R)$，其中 $L$ 为奶牛用左蹄出的手势，$R$ 为奶牛用右蹄出的手势。你能为每局游戏进行计算吗？
## 输入格式

输入的第一行包含两个空格分隔的整数 $N$ 和 $M$，表示蹄子手势的数量，以及 Bessie 与 Elsie 进行的游戏局数。
以下 $N$ 行，第 $i$ 行由 $i$ 个字符 $a_{i,1}a_{i,2}\ldots a_{i,i}$ 组成，其中 $a_{i,j} \in \{\texttt D,\texttt W,\texttt L\}$。如果 $a_{i,j} = \texttt D$，则手势 $i$ 平于手势 $j$。如果 $a_{i,j} = \texttt W$，则手势 $i$ 胜于手势 $j$。如果 $a_{i,j} = \texttt L$，则手势 $i$ 负于手势 $j$。输入保证 $a_{i,i} = \texttt D$。

以下 $M$ 行，每行包含两个空格分隔的整数 $s_1$ 和 $s_2$，其中 $1 \leq s_1,s_2 \leq N$，表示 Elsie 在该局游戏中的手势组合。
## 输出格式

输出 $M$ 行，其中第 $i$ 行包含在第 $i$ 局游戏中 Bessie 可以确保战胜 Elsie 的手势组合数量。
## 样例

### 样例输入 #1
```
3 3
D
WD
LWD
1 2
2 3
1 1
```
### 样例输出 #1
```
0
0
5
```
## 提示

在样例 1 解释：这对应于原始的蹄子剪刀布，我们可以设蹄子为 $1$，布为 $2$，剪刀为 $3$。布战胜蹄子，蹄子战胜剪刀，剪刀战胜布。Bessie 无法确保战胜蹄子 + 布或布 + 剪刀的组合。然而，如果 Elsie 出蹄子 + 蹄子，Bessie 可以采用以下任一组合进行反击。

- 布 + 布
- 布 + 剪刀
- 布 + 蹄子
- 蹄子 + 布
- 剪刀 + 布

如果 Bessie 出这些组合中的任意一个，她可以确保通过出布来获胜。

- 测试点 $2\sim 6$：$N,M\le 100$。

- 测试点 $7\sim 12$：没有额外限制。


---

---
title: "[USACO25OPEN] More Cow Photos B"
layout: "post"
diff: 普及-
pid: P12023
tag: ['USACO', '2025']
---
# [USACO25OPEN] More Cow Photos B
## 题目描述

今天奶牛们的心情特别顽皮！Farmer John 只是想拍摄一张奶牛们排成一行的照片，但她们总是在他得到机会按下快门之前移动位置。

具体地说，FJ 的 $N$ 头奶牛（$1 \le N \le 10^5$）每一头的身高都是 $1$ 到 $N$ 的整数。FJ 想要拍摄奶牛以一种特定的顺序排成一行的照片。如果奶牛们排成一行时从左到右有身高 $h_1, \dots, h_K$，他希望奶牛们的身高拥有以下三个性质：

- 他希望奶牛们的身高先递增再递减。形式化地说，必须存在一个整数 $i$ 使得 $h_1 \le \dots \le h_i \ge \dots \ge h_K$。
- 他不希望任何奶牛与另一头身高完全相同的奶牛相邻。形式化地说，对于所有 $1 \le i < K$ 有 $h_i \neq h_{i+1}$。
- 他希望照片是对称的。形式化地说，如果 $i + j = K+1$，则 $h_i = h_j$。

FJ 希望照片中包含尽可能多的奶牛。具体地说，FJ 可以移除一些奶牛并重新排列余下的奶牛。计算 FJ 在满足他的限制的情况下可以在照片中包含的奶牛的最大数量。
## 输入格式

你需要回答多个测试用例。
输入的第一行包含一个整数 $T$（$1 \leq T \leq 10^5$），为测试用例的数量。以下为 $T$ 个测试用例。

每一个测试用例的第一行包含一个整数 $N$。第二行包含 $N$ 个整数，为可用的 $N$ 头奶牛的身高。奶牛们的身高在 $1$ 到 $N$ 之间。

输入保证所有测试用例的 $N$ 之和不超过 $10^6$。
## 输出格式

输出 $T$ 行，第 $i$ 行包含第 $i$ 个测试用例的答案。每行包含一个整数，表示 FJ 可以在照片中包含的奶牛的最大数量。

## 样例

### 样例输入 #1
```
2
4
1 1 2 3
4
3 3 2 1
```
### 样例输出 #1
```
3
1
```
## 提示

对于第一个测试用例，FJ 可以选择身高为 $1$，$1$ 和 $3$ 的奶牛，并重新排列为 $[1,3,1]$，满足所有条件。对于第二个测试用例，FJ 可以选择身高为 $3$ 的奶牛以组成一张合法的照片。

- 测试点 $2\sim3$：$T\le 100$，$N \le 7$。
- 测试点 $4\sim5$：$T \le 10^4$，所有奶牛的身高不超过 $10$。
- 测试点 $6\sim11$：没有额外限制。


---

---
title: "[USACO1.1] 坏掉的项链 Broken Necklace"
layout: "post"
diff: 普及-
pid: P1203
tag: ['字符串', '动态规划 DP', '搜索', 'USACO']
---
# [USACO1.1] 坏掉的项链 Broken Necklace
## 题目描述

你有一条由 $n$ 个红色的，白色的，或蓝色的珠子组成的项链，珠子是随意安排的。 这里是 $n=29$ 的两个例子:

![](https://cdn.luogu.com.cn/upload/image_hosting/i7imvc0g.png) 

第一和第二个珠子在图片中已经被作记号。

图片 A 中的项链可以用下面的字符串表示：

`brbrrrbbbrrrrrbrrbbrbbbbrrrrb`

假如你要在一些点打破项链，展开成一条直线，然后从一端开始收集同颜色的珠子直到你遇到一个不同的颜色珠子，在另一端做同样的事(颜色可能与在这之前收集的不同)。 确定应该在哪里打破项链来收集到最大数目的珠子。

例如，在图片 A 中的项链中，在珠子 $9$ 和珠子 $10$ 或珠子 $24$ 和珠子 $25$ 之间打断项链可以收集到 $8$ 个珠子。

白色珠子什么意思?

在一些项链中还包括白色的珠子(如图片B) 所示。

当收集珠子的时候，一个被遇到的白色珠子可以被当做红色也可以被当做蓝色。

表现含有白珠项链的字符串将会包括三个符号 `r`，`b`，`w` 。

写一个程序来确定从一条被给出的项链可以收集到的珠子最大数目。
## 输入格式

第一行一个正整数 $n$ ，表示珠子数目。
第二行一串长度为 $n$ 的字符串, 每个字符是 `r` ， `b` 或 `w`。
## 输出格式

输出一行一个整数，表示从给出的项链中可以收集到的珠子的最大数量。
## 样例

### 样例输入 #1
```
29 
wwwbbrwrbrbrrbrbrwrwwrbwrwrrb

```
### 样例输出 #1
```
11
```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$3\le n \le 350$

题目翻译来自NOCOW。

USACO Training Section 1.1


---

---
title: "[USACO1.2] 挤牛奶Milking Cows"
layout: "post"
diff: 普及-
pid: P1204
tag: ['模拟', '线段树', 'USACO', '排序']
---
# [USACO1.2] 挤牛奶Milking Cows
## 题目描述

三个农民每天清晨 $5$ 点起床，然后去牛棚给三头牛挤奶。

第一个农民在 $300$ 秒 (从 $5$ 点开始计时) 给他的牛挤奶，一直到 $1000$ 秒。第二个农民在 $700$ 秒开始，在 $1200$ 秒结束。第三个农民在 $1500$ 秒开始，$2100$ 秒结束。  

期间最长的至少有一个农民在挤奶的连续时间为 $900$ 秒 (从 $300$ 秒到 $1200$ 秒)，而最长的无人挤奶的连续时间(从挤奶开始一直到挤奶结束)为 $300$ 秒 (从 $1200$ 秒到 $1500$ 秒)。
****

你的任务是编一个程序，读入一个有 $n$ 个农民挤 $n$ 头牛的工作时间列表，计算以下两点(均以秒为单位):

最长至少有一人在挤奶的时间段。

最长的无人挤奶的时间段。（从有人挤奶开始算起）

## 输入格式

第一行一个正整数 $n$

接下来 $n$ 行，每行两个非负整数 $l,r$，表示一个农民的开始时刻与结束时刻。


## 输出格式

一行，两个整数，即题目所要求的两个答案。


## 样例

### 样例输入 #1
```
3
300 1000
700 1200
1500 2100

```
### 样例输出 #1
```
900 300

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le n \le 5000$，$0 \le l \le r \le 10^6$。

题目翻译来自NOCOW。

USACO Training Section 1.2



---

---
title: "[USACO1.2] 回文平方数 Palindromic Squares"
layout: "post"
diff: 普及-
pid: P1206
tag: ['搜索', 'USACO', '进制']
---
# [USACO1.2] 回文平方数 Palindromic Squares
## 题目描述

回文数是指从左向右念和从右向左念都一样的数。如 $12321$ 就是一个典型的回文数。

给定一个用十进制表示的正整数 $B$，输出所有 $[1,300]$ 中，它的平方用 $B$ 进制表示时是回文数的数。

## 输入格式

共一行，一个单独的正整数 $B$。

## 输出格式

每行两个 $B$ 进制的符合要求的数字，第二个数是第一个数的平方，且第二个数是回文数。

注意大于 $9$ 的数，用字母表示。如用 `A` 表示 $10$，`B` 表示 $11$，用第 $n$ 个大写字母表示 $n+9$。
## 样例

### 样例输入 #1
```
10

```
### 样例输出 #1
```
1 1
2 4
3 9
11 121
22 484
26 676
101 10201
111 12321
121 14641
202 40804
212 44944
264 69696

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$2 \le B \le 20$

题目翻译来自NOCOW。

USACO Training Section 1.2



---

---
title: "[USACO1.2] 双重回文数 Dual Palindromes"
layout: "post"
diff: 普及-
pid: P1207
tag: ['搜索', 'USACO', '进制']
---
# [USACO1.2] 双重回文数 Dual Palindromes
## 题目背景

如果一个数从左往右读和从右往左读都是一样，那么这个数就叫做“回文数”。例如，$12321$ 就是一个回文数，而 $77778$ 就不是。当然，回文数的首和尾都应是非零的，因此 $0220$ 就不是回文数。

事实上，有一些数（如 $21$ ），在十进制时不是回文数，但在其它进制（如二进制时为 $10101$ ）时就是回文数。
## 题目描述

给定两个十进制数 $n,s$，然后找出前 $n$ 个满足大于 $s$ 且在不少于两种进制（二进制至十进制）上是回文数的十进制数，输出到文件上。

本问题的解决方案不需要使用大于 $32$ 位的整型数


## 输入格式

只有一行，用空格隔开的两个正整数 $n,s$。

## 输出格式

$n$ 行, 每行一个满足上述要求的数，并按从小到大的顺序输出。

## 样例

### 样例输入 #1
```
3 25

```
### 样例输出 #1
```
26
27
28

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le n \le 15$，$1\le s \le 9999$

题目翻译来自NOCOW。

USACO Training Section 1.2



---

---
title: "[USACO1.3] 混合牛奶 Mixing Milk"
layout: "post"
diff: 普及-
pid: P1208
tag: ['贪心', 'USACO']
---
# [USACO1.3] 混合牛奶 Mixing Milk
## 题目描述

由于乳制品产业利润很低，所以降低原材料（牛奶）价格就变得十分重要。帮助 Marry 乳业找到最优的牛奶采购方案。

Marry 乳业从一些奶农手中采购牛奶，并且每一位奶农为乳制品加工企业提供的价格可能相同。此外，就像每头奶牛每天只能挤出固定数量的奶，每位奶农每天能提供的牛奶数量是一定的。每天 Marry 乳业可以从奶农手中采购到小于或者等于奶农最大产量的整数数量的牛奶。

给出 Marry 乳业每天对牛奶的需求量，还有每位奶农提供的牛奶单价和产量。计算采购足够数量的牛奶所需的最小花费。

注：每天所有奶农的总产量大于 Marry 乳业的需求量。
## 输入格式

第一行二个整数 $n,m$，表示需要牛奶的总量，和提供牛奶的农民个数。

接下来 $m$ 行，每行两个整数 $p_i,a_i$，表示第 $i$ 个农民牛奶的单价，和农民 $i$ 一天最多能卖出的牛奶量。
## 输出格式

单独的一行包含单独的一个整数，表示 Marry 的牛奶制造公司拿到所需的牛奶所要的最小费用。
## 样例

### 样例输入 #1
```
100 5
5 20
9 40
3 10
8 80
6 30

```
### 样例输出 #1
```
630

```
## 提示

【数据范围】  
对于 $100\%$ 的数据：  
$0 \le n,a_i \le 2 \times 10^6$，$0\le m \le 5000$，$0 \le p_i \le 1000$

题目翻译来自 NOCOW。

USACO Training Section 1.3


---

---
title: "[USACO1.3] 牛式 Prime Cryptarithm"
layout: "post"
diff: 普及-
pid: P1211
tag: ['搜索', 'USACO', '枚举']
---
# [USACO1.3] 牛式 Prime Cryptarithm
## 题目描述

下面是一个乘法竖式，如果用我们给定的那 $n$ 个数字来取代 `*`，可以使式子成立的话，我们就叫这个式子为牛式。

```cpp
          ***
    x      **
   ----------
         ***
        ***
   ----------
        ****
```

数字只能取代 `*`，当然第一位不能为 $0$，况且给定的数字里不包括 $0$。


注意一下在美国的学校中教的“部分乘积”，第一部分乘积是第二个数的个位和第一个数的积，第二部分乘积是第二个数的十位和第一个数的乘积。

请计算出牛式的数量。


## 输入格式

第一行一个正整数 $n$，表示可用的数集。   
第二行 $n$ 个正整数 $a_i$，表示可用的数。

## 输出格式

输出一行一个整数，表示牛式的总数。

## 样例

### 样例输入 #1
```
5
2 3 4 6 8

```
### 样例输出 #1
```
1

```
## 提示

### 样例解释

```
          222
    x      22
   ----------
         444
        444
   ----------
        4884
```

不需要别的数，严格符合上图的数位情况，可以证明没有其他情况。



不加入样例解释：做题人如果理解错题意会进入误区

比如不用填中间的数，位数没有要求 `34*2=68` 符合要求等误区。

### 数据规模  
对于 $100\%$ 的数据，$1\le n \le 9$，$a_i \in [1,9] \cap \mathbb Z$ 且 $a_i$ 不重复。

题目翻译来自NOCOW。

USACO Training Section 1.4



---

---
title: "[IOI 1994] 数字三角形 Number Triangles"
layout: "post"
diff: 普及-
pid: P1216
tag: ['动态规划 DP', '递推', '2001', 'USACO', 'IOI']
---
# [IOI 1994] 数字三角形 Number Triangles
## 题目描述

观察下面的数字金字塔。


写一个程序来查找从最高点到底部任意处结束的路径，使路径经过数字的和最大。每一步可以走到左下方的点也可以到达右下方的点。

![](https://cdn.luogu.com.cn/upload/image_hosting/95pzs0ne.png)

在上面的样例中，从 $7 \to 3 \to 8 \to 7 \to 5$ 的路径产生了最大权值。


## 输入格式

第一个行一个正整数 $r$ ,表示行的数目。

后面每行为这个数字金字塔特定行包含的整数。


## 输出格式

单独的一行,包含那个可能得到的最大的和。

## 样例

### 样例输入 #1
```
5
7
3 8
8 1 0
2 7 4 4
4 5 2 6 5 

```
### 样例输出 #1
```
30

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le r \le 1000$，所有输入在 $[0,100]$ 范围内。

题目翻译来自NOCOW。

USACO Training Section 1.5

IOI1994 Day1T1


---

---
title: "[USACO1.5] 回文质数 Prime Palindromes"
layout: "post"
diff: 普及-
pid: P1217
tag: ['USACO', '素数判断,质数,筛法']
---
# [USACO1.5] 回文质数 Prime Palindromes
## 题目描述

因为 $151$ 既是一个质数又是一个回文数（从左到右和从右到左是看一样的），所以 $151$ 是回文质数。

写一个程序来找出范围 $[a,b] (5 \le a < b \le 100,000,000)$（一亿）间的所有回文质数。
## 输入格式

第一行输入两个正整数 $a$ 和 $b$。
## 输出格式

输出一个回文质数的列表，一行一个。

## 样例

### 样例输入 #1
```
5 500

```
### 样例输出 #1
```
5
7
11
101
131
151
181
191
313
353
373
383

```
## 提示

Hint 1: Generate the palindromes and see if they are prime.

提示 1: 找出所有的回文数再判断它们是不是质数（素数）.


Hint 2: Generate palindromes by combining digits properly. You might need more than one of the loops like below.

提示 2: 要产生正确的回文数，你可能需要几个像下面这样的循环。


题目翻译来自NOCOW。

USACO Training Section 1.5


产生长度为 $5$ 的回文数：

```cpp
for (d1 = 1; d1 <= 9; d1+=2) {    // 只有奇数才会是素数
     for (d2 = 0; d2 <= 9; d2++) {
         for (d3 = 0; d3 <= 9; d3++) {
           palindrome = 10000*d1 + 1000*d2 +100*d3 + 10*d2 + d1;//(处理回文数...)
         }
     }
 }

```


---

---
title: "[USACO1.5] 特殊的质数肋骨 Superprime Rib"
layout: "post"
diff: 普及-
pid: P1218
tag: ['数学', '递推', 'USACO', '素数判断,质数,筛法']
---
# [USACO1.5] 特殊的质数肋骨 Superprime Rib
## 题目描述

农民约翰的母牛总是产生最好的肋骨。你能通过农民约翰和美国农业部标记在每根肋骨上的数字认出它们。 

农民约翰确定他卖给买方的是真正的质数肋骨，是因为从右边开始切下肋骨，每次还剩下的肋骨上的数字都组成一个质数。  

举例来说：$7\ 3\ 3\ 1$ 全部肋骨上的数字 $7331$ 是质数；三根肋骨 $733$ 是质数；二根肋骨 $73$ 是质数；当然,最后一根肋骨 $7$ 也是质数。$7331$ 被叫做长度 $4$ 的特殊质数。  

写一个程序对给定的肋骨的数目 $n$，求出所有的特殊质数。$1$ 不是质数。
## 输入格式

一行一个正整数 $n$。


## 输出格式

按顺序输出长度为 $n$ 的特殊质数,每行一个。

## 样例

### 样例输入 #1
```
4

```
### 样例输出 #1
```
2333
2339
2393
2399
2939
3119
3137
3733
3739
3793
3797
5939
7193
7331
7333
7393

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le n \le 8$。

题目翻译来自NOCOW。

USACO Training Section 1.5



---

---
title: "[USACO05MAR] Yogurt factory 机器工厂"
layout: "post"
diff: 普及-
pid: P1376
tag: ['贪心', '2005', 'USACO', '福建省历届夏令营']
---
# [USACO05MAR] Yogurt factory 机器工厂
## 题目描述

小 T 开办了一家机器工厂，在 $N$个星期内，原材料成本和劳动力价格不断起伏，第 $i$ 周生产一台机器需要花费 $C_i$ 元。若没把机器卖出去，每保养一台机器，每周需要花费 $S$ 元，这个费用不会发生变化。

机器工厂接到订单，在第 $i$ 周需要交付 $Y_i$ 台机器给委托人，第 $i$ 周刚生产的机器，或者之前的存货，都可以进行交付。

请你计算出这 $n$ 周时间内完成订单的最小代价。
## 输入格式

第一行输入两个整数 $N$ 和 $S$，接下来 $N$ 行每行两个数 $C_i$ 和 $Y_i$。
## 输出格式

输出一个整数，表示最少的代价。

## 样例

### 样例输入 #1
```
4 5
88 200
89 400
97 300
91 500

```
### 样例输出 #1
```
126900

```
## 提示

$1\leq n\leq 10^4$，$1 \le C_i \le 5000$，$1 \le S\le 100$，$0\le Y_i\le 10^4$。


---

---
title: "[USACO2.1] 顺序的分数 Ordered Fractions"
layout: "post"
diff: 普及-
pid: P1458
tag: ['搜索', '数学', 'USACO', '枚举', '排序']
---
# [USACO2.1] 顺序的分数 Ordered Fractions
## 题目描述

输入一个自然数 $n$，对于一个最简分数 $a/b$（分子和分母互质的分数），满足 $1 \le b \le n,0 \le a/b \le 1$，请找出所有满足条件的分数。

这有一个例子，当 $n=5$ 时，所有解为：

$$\frac01,\frac15,\frac14,\frac13,\frac25,\frac12,\frac35,\frac23,\frac34 ,\frac45,\frac11$$

给定一个自然数 $n$，请编程按分数值递增的顺序输出所有解。
 
注：   
1、$0$ 和任意自然数的最大公约数就是那个自然数。    
2、互质指最大公约数等于1的两个自然数。

## 输入格式

单独的一行一个自然数 $n$

## 输出格式

每个分数单独占一行，按照大小次序排列

## 样例

### 样例输入 #1
```
5

```
### 样例输出 #1
```
0/1
1/5
1/4
1/3
2/5
1/2
3/5
2/3
3/4
4/5
1/1

```
## 提示

【数据范围】    
对于 $100\%$ 的数据，$1\le n \le 160$。

USACO 2.1

翻译来自NOCOW



---

---
title: "[USACO2.1] 三值的排序 Sorting a Three-Valued Sequence"
layout: "post"
diff: 普及-
pid: P1459
tag: ['贪心', 'USACO', '排序']
---
# [USACO2.1] 三值的排序 Sorting a Three-Valued Sequence
## 题目描述

排序是一种很频繁的计算任务。现在考虑最多只有三值的排序问题。一个实际的例子是，当我们给某项竞赛的优胜者按金银铜牌排序的时候。在这个任务中可能的值只有三种 $1,2,3$。我们用交换的方法把他排成升序的。

写一个程序计算出，给定的一个 $1,2,3$ 组成的数字序列，排成升序所需的最少交换次数

## 输入格式

第一行一个正整数 $n$，表示奖牌个数。   
接下来 $n$ 行，每行一个 $[1,3]$ 内的整数，表示奖牌。

## 输出格式

输出一行一个整数，表示排成升序所需的最少交换次数。

## 样例

### 样例输入 #1
```
9
2
2
1
3
3
3
2
3
1
```
### 样例输出 #1
```
4

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le n \le 1000$。

USACO 2.1

翻译来自NOCOW



---

---
title: "[USACO2.1] 健康的荷斯坦奶牛 Healthy Holsteins"
layout: "post"
diff: 普及-
pid: P1460
tag: ['搜索', 'USACO', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# [USACO2.1] 健康的荷斯坦奶牛 Healthy Holsteins
## 题目描述

农民 John 以拥有世界上最健康的奶牛为傲。他知道每种饲料中所包含的牛所需的最低的维他命量是多少。请你帮助农夫喂养他的牛，以保持它们的健康，使喂给牛的饲料的种数最少。

给出牛所需的最低的维他命量，输出喂给牛需要哪些种类的饲料，且所需的饲料剂量最少。

维他命量以整数表示，每种饲料最多只能对牛使用一次，数据保证存在解。

## 输入格式

第一行一个整数 $v$，表示需要的维他命的种类数。  
第二行 $v$ 个整数，表示牛每天需要的每种维他命的最小量。

第三行一个整数 $g$，表示可用来喂牛的饲料的种数。   
下面 $g$ 行，第 $n$ 行表示编号为 $n$ 饲料包含的各种维他命的量的多少。

## 输出格式

输出文件只有一行，包括牛必需的最小的饲料种数 $p$；后面有 $p$ 个数，表示所选择的饲料编号（按从小到大排列）。

如果有多个解，输出饲料序号最小的（即字典序最小）。

## 样例

### 样例输入 #1
```
4
100 200 300 400
3
50  50  50  50
200 300 200 300
900 150 389 399
```
### 样例输出 #1
```
2 1 3

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le v \le 25$，$1\le g \le 15$。  
输入的所有整数在 $[1,1000]$ 范围内。

USACO 2.1

翻译来自NOCOW



---

---
title: "[USACO2.2] 循环数 Runaround Numbers"
layout: "post"
diff: 普及-
pid: P1467
tag: ['搜索', 'USACO']
---
# [USACO2.2] 循环数 Runaround Numbers
## 题目描述

循环数是那些不包括 $0$ 且没有重复数字的整数（比如 $81362$）并且还应同时具有一个有趣的性质, 就像这个例子:

如果你从最左边的数字开始（在这个例子中 $8$）向右数最左边这个数（如果数到了最右边就回到最左边），你会停止在另一个新的数字（如果停在一个相同的数字上，这个数就不是循环数）。  

就像：$8\ 1\ 3\ 6\ 2$ 从最左边接下去数 $8$ 个数字: $1\ 3\ 6\ 2\ 8\ 1\ 3\ 6$ 所以下一个数字是 $6$

重复这样做 (这次从 `6` 开始数 $6$ 个数字) 并且你会停止在一个新的数字上: $2\ 8\ 1\ 3\ 6\ 2$, 也就是 $2$

再这样做 (这次数两个): $8\ 1$

再一次 (这次一个): $3$

又一次: $6\ 2\ 8$   

这时你回到了起点,在经过每个数字一次后回到起点的就是循环数。如果你经过每一个数字一次以后没有回到起点, 你的数字不是一个循环数。

给你一个数字 $m$ ，找出第一个比 $m$ 大的循环数, 输出数据保证结果能用一个无符号长整型数 $ \in [0,2^{32})$ 装下。 （追加提醒：循环数每个数位都必须要访问到）

## 输入格式

仅仅一行, 包括 $m$。

## 输出格式

仅仅一行，输出第一个比 $m$ 大的循环数。

## 样例

### 样例输入 #1
```
81361

```
### 样例输出 #1
```
81362

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le m \le 10^9$。

翻译来自NOCOW

USACO 2.2



---

---
title: "Generic Cow Protests"
layout: "post"
diff: 普及-
pid: P1569
tag: ['动态规划 DP', 'USACO']
---
# Generic Cow Protests
## 题目描述

约翰家的 $n$ 头奶牛聚集在一起，排成一列，正在进行一项抗议活动。第 $i$ 头奶牛的理智度为 $a_i$。  
约翰希望奶牛在抗议时保持理性，为此，他打算将所有的奶牛隔离成若干个小组，每个小组内的奶牛的理智度总和都要不小于零。  
由于奶牛是按直线排列的，所以一个小组内的奶牛位置必须是连续的。请帮助约翰计算一下，最多分成几组。

## 输入格式

第一行一个正整数 $n$，表示牛的数目。  
接下来 $n$ 行，每行一个整数，表示每个牛的理智度。
## 输出格式

若存在合法分组方案，输出一行一个整数表示答案；否则输出 `Impossible`。

## 样例

### 样例输入 #1
```
4
2
3
-3
1

```
### 样例输出 #1
```
3
```
## 提示

【数据规模和约定】   
对于 $30\%$ 的数据，$1\le n \le 20$；   
对于 $100\%$ 的数据，$1\le n \le 1000$，$|a_i| \le 10^5$。  



---

---
title: "[USACO07OPEN] Catch That Cow S"
layout: "post"
diff: 普及-
pid: P1588
tag: ['搜索', '2007', 'USACO']
---
# [USACO07OPEN] Catch That Cow S
## 题目描述

FJ 丢失了他的一头牛，他决定追回他的牛。已知 FJ 和牛在一条直线上，初始位置分别为 $x$ 和 $y$，假定牛在原地不动。FJ 的行走方式很特别：他每一次可以前进一步、后退一步或者直接走到 $2\times x$ 的位置。计算他至少需要几步追上他的牛。
## 输入格式

第一行为一个整数 $t\ ( 1\le t\le 10)$，表示数据组数；

接下来每行包含一个两个正整数 $x,y\ (0<x,y \le 10^5)$，分别表示 FJ 和牛的坐标。
## 输出格式

对于每组数据，输出最少步数。

## 样例

### 样例输入 #1
```
1 
5 17
```
### 样例输出 #1
```
4
```


---

---
title: "[USACO10OCT] Lake Counting S"
layout: "post"
diff: 普及-
pid: P1596
tag: ['搜索', '2010', 'USACO', '深度优先搜索 DFS']
---
# [USACO10OCT] Lake Counting S
## 题目描述

Due to recent rains, water has pooled in various places in Farmer John's field, which is represented by a rectangle of N x M (1 <= N <= 100; 1 <= M <= 100) squares. Each square contains either water ('W') or dry land ('.'). Farmer John would like to figure out how many ponds have formed in his field. A pond is a connected set of squares with water in them, where a square is considered adjacent to all eight of its neighbors. Given a diagram of Farmer John's field, determine how many ponds he has.





## 输入格式

Line 1: Two space-separated integers: N and M \* Lines 2..N+1: M characters per line representing one row of Farmer John's field. Each character is either 'W' or '.'. The characters do not have spaces between them.



## 输出格式

Line 1: The number of ponds in Farmer John's field.


## 样例

### 样例输入 #1
```
10 12
W........WW.
.WWW.....WWW
....WW...WW.
.........WW.
.........W..
..W......W..
.W.W.....WW.
W.W.W.....W.
.W.W......W.
..W.......W.

```
### 样例输出 #1
```
3

```
## 提示

OUTPUT DETAILS: There are three ponds: one in the upper left, one in the lower left, and one along the right side.

## 题目翻译

由于近期的降雨，雨水汇集在农民约翰的田地不同的地方。我们用一个 $N\times M(1\leq N\leq 100, 1\leq M\leq 100)$ 的网格图表示。每个网格中有水（`W`） 或是旱地（`.`）。一个网格与其周围的八个网格相连，而一组相连的网格视为一个水坑。约翰想弄清楚他的田地已经形成了多少水坑。给出约翰田地的示意图，确定当中有多少水坑。

输入第 $1$ 行：两个空格隔开的整数：$N$ 和 $M$。

第 $2$ 行到第 $N+1$ 行：每行 $M$ 个字符，每个字符是 `W` 或 `.`，它们表示网格图中的一排。字符之间没有空格。

输出一行，表示水坑的数量。


---

---
title: "结算日"
layout: "post"
diff: 普及-
pid: P1599
tag: ['模拟', 'USACO']
---
# 结算日
## 题目背景

借债还债

## 题目描述

“不放债不借债”，贝西多么希望自己可以遵循这个忠告。她已经和她的 $N(1 \leq N \leq 100,000)$ 个朋友有了债务关系，或者借债了，或者放债了。她的 $N$ 个朋友依次标号为 $1\dots N$。 结算日终于来临了。她知道，朋友欠她的钱比她欠朋友的钱多。她的朋友们分布在一条直线上，第 $i$ 头奶牛站的位置距离谷仓 $i$ 米。贝西打算沿着这条直线行走，从欠她钱的奶牛手里收钱回来，并且还钱给她欠钱的奶牛。 当她沿直线移动的时候，她可以要求任何欠她钱的奶牛还全部的钱。当她有足够的钱可以还清她的某个债，就可以把钱给对应的奶牛还清她的债。奶牛 $i$ 欠贝西 $D_i$ 元 $(-1,000 \leq D_i \leq 1,000,D_i \neq 0)$，负数表示贝西欠奶牛 $i$ 钱。 贝西从谷仓出发，位置为 $0$，初始贝西没有钱。贝西收回她的所有借债，并且还清她的欠债所需行走的最短距离是多少？注意：她必须在最后一头奶牛所在的位置，完成她的行走。

## 输入格式

第一行，一个整数 $N$ 

接下来第 $2 \dots N+1$ 行，第 $i+1$ 行包含一个整数 $D_i$

## 输出格式

一个整数，贝西收回借债并且还清欠债，所需要行走的最短距离（单位为米）

## 样例

### 样例输入 #1
```
5
100
-200
250
-200
200
```
### 样例输出 #1
```
9


```
## 提示

输入解释：

$3$ 头奶牛欠贝西钱；她欠 $2$ 头奶牛钱。当她完成结算，她将有 $150$ 元。

输出解释：

```cpp
谷仓  100  -200  250 -200  200
 |     |     |    |    |    |
 ***>**+**>*****>**+
                   *            < 贝西有 350元
             -**<***
             *                  < 贝西有 150元
             ***>****>****>**+
                             *  < 贝西有 350
                       -**<***
                       *     
                       ***>***  < 贝西结束她的行走，有 150元
```


---

---
title: "迷宫"
layout: "post"
diff: 普及-
pid: P1605
tag: ['搜索', '递推', 'USACO', '枚举']
---
# 迷宫
## 题目描述

给定一个 $N \times M$ 方格的迷宫，迷宫里有 $T$ 处障碍，障碍处不可通过。

在迷宫中移动有上下左右四种方式，每次只能移动一个方格。数据保证起点上没有障碍。

给定起点坐标和终点坐标，每个方格最多经过一次，问有多少种从起点坐标到终点坐标的方案。
## 输入格式

第一行为三个正整数 $N,M,T$，分别表示迷宫的长宽和障碍总数。

第二行为四个正整数 $SX,SY,FX,FY$，$SX,SY$ 代表起点坐标，$FX,FY$ 代表终点坐标。

接下来 $T$ 行，每行两个正整数，表示障碍点的坐标。
## 输出格式

输出从起点坐标到终点坐标的方案总数。
## 样例

### 样例输入 #1
```
2 2 1
1 1 2 2
1 2

```
### 样例输出 #1
```
1
```
## 提示

对于 $100\%$ 的数据，$1 \le N,M \le 5$，$1 \le T \le 10$，$1 \le SX,FX \le n$，$1 \le SY,FY \le m$。


---

---
title: "[USACO05FEB] Aggressive cows G"
layout: "post"
diff: 普及-
pid: P1676
tag: ['贪心', '2005', '二分', 'USACO']
---
# [USACO05FEB] Aggressive cows G
## 题目描述

农夫约翰建造了一座有 $n$ 间牛舍的小屋，牛舍排在一条直线上，第 $i$ 间牛舍在 $x_i$ 的位置，但是约翰的 $m$ 头牛对小屋很不满意，因此经常互相攻击。约翰为了防止牛之间互相伤害，因此决定把每头牛都放在离其它牛尽可能远的牛舍。也就是要最大化最近的两头牛之间的距离。

牛们并不喜欢这种布局，而且几头牛放在一个隔间里，它们就要发生争斗。为了不让牛互相伤害。约翰决定自己给牛分配隔间，使任意两头牛之间的最小距离尽可能的大，那么，这个最大的最小距离是多少呢？
## 输入格式

第一行用空格分隔的两个整数 $n$ 和 $m$；

第二行为 $n$ 个用空格隔开的整数，表示位置 $x_i$。
## 输出格式

一行一个整数，表示最大的最小距离值。
## 样例

### 样例输入 #1
```
5 3
1 2 8 4 9
```
### 样例输出 #1
```
3
```
## 提示

【样例解析】把牛放在 $1$，$4$，$8$ 这三个位置，距离是 $3$。容易证明最小距离已经最大。

【数据范围】对于 $100\%$ 的数据，$2 \le n \le 10^5$，$0 \le x_i \le 10^9$，$2 \le m \le n$。不保证 $x$ 数组单调递增。



---

---
title: "[USACO18FEB] Hoofball B"
layout: "post"
diff: 普及-
pid: P1677
tag: ['模拟', '2018', 'USACO', 'O2优化', '排序', '深度优先搜索 DFS']
---
# [USACO18FEB] Hoofball B
## 题目描述

为了准备即将到来的蹄球锦标赛，Farmer John 正在训练他的 $N$ 头奶牛（方便起见，编号为 $1\ldots N$，其中 $1\le N\le 100$）进行传球。这些奶牛在牛棚一侧沿直线排列，第 $i$ 号奶牛位于距离牛棚 $x_i$ 的地方（$1\le x_i\le 1000$）。每头奶牛都在不同的位置上。

在训练开始的时候，Farmer John 会将若干个球传给不同的奶牛。当第 $i$ 号奶牛接到球时，无论是从 Farmer John 或是从另一头奶牛传来的，她会将球传给最近的奶牛（如果有多头奶牛与她距离相同，她会传给其中距左边最远的那头奶牛）。为了使所有奶牛都有机会练习到传球，Farmer John 想要确保每头奶牛都持球至少一次。帮助他求出为了达到这一目的他开始时至少要传出的球的数量。假设他在开始的时候能将球传给最适当的一组奶牛。 
## 输入格式

输入的第一行包含 $N$。第二行包含 $N$ 个用空格分隔的整数，其中第 $i$ 个整数为 $x_i$。
## 输出格式

输出 Farmer John 开始的时候最少需要传出的球的数量，使得所有奶牛至少持球一次。 
## 样例

### 样例输入 #1
```
5
7 1 3 11 4
```
### 样例输出 #1
```
2
```
## 提示

在上面的样例中，Farmer John 应该将球传给位于 $x=1$ 的奶牛和位于 $x=11$ 的奶牛。位于 $x=1$ 的奶牛会将她的球传给位于 $x=3$ 的奶牛，在此之后这个球会在位于 $x=3$ 的奶牛和位于 $x=4$ 的奶牛之间来回传递。位于 $x=11$ 的奶牛会将她的球传给位于 $x=7$ 的奶牛，然后球会被传给位于 $x=4$ 的奶牛，在此之后这个球也会在位于 $x=3$ 的奶牛和位于 $x=4$ 的奶牛之间来回传递。这样的话，所有的奶牛都会至少一次接到球（可能从 Farmer John，也可能从另一头奶牛）。

可以看出，不存在这样一头奶牛，Farmer John 可以将球传给她之后所有奶牛最终都能被传到球。 


---

---
title: "[USACO19FEB] Sleepy Cow Herding B"
layout: "post"
diff: 普及-
pid: P1693
tag: ['2019', 'USACO', 'O2优化', '排序', '分类讨论']
---
# [USACO19FEB] Sleepy Cow Herding B
## 题目描述

Farmer John 的三头获奖奶牛 Bessie、Elsie 和 Mildred，总是会迷路走到农场上遥远的地方去！他需要你帮助将她们一起赶回来。

农场的草地大体是一块狭长的区域——我们可以将其想象成一条数轴，奶牛可以占据数轴上的任意整数位置。这 $3$ 头奶牛现在正位于不同的整数位置，Farmer John 想要移动她们，使得她们占据三个相邻的位置（例如，位置 $6$、$7$、$8$）。

不幸的是，奶牛们现在很困，Farmer John 要让她们集中精力听从命令移动并不容易。任意时刻，他只能使得一头处在“端点”（在所有奶牛中位置最小或最大）位置的奶牛移动。当他移动奶牛时，他可以命令她走到任意一个未被占用的整数位置，只要在新的位置上她不再是一个端点。可以看到随着时间的推移，这样的移动可以使奶牛们趋向越来越近。

请求出使得奶牛们集中到相邻位置所进行的移动次数的最小和最大可能值。 
## 输入格式

输入包含一行，包括三个空格分隔的整数，为 Bessie、Elsie 和 Mildred 的位置。每个位置均为一个范围 $1\ldots 10^9$ 内的整数。 
## 输出格式

输出的第一行包含 Farmer John 需要将奶牛们聚集起来所需进行的最小移动次数。第二行包含他将奶牛聚集起来能够进行的最大移动次数。
## 样例

### 样例输入 #1
```
4 7 9
```
### 样例输出 #1
```
1
2
```
## 提示

### 样例解释 1

最小移动次数为 $1$——如果 Farmer John 将位置 $4$ 的奶牛移动到位置 $8$，那么奶牛们就处在连续的位置 $7$、$8$、$9$。最大移动次数为 $2$。例如，位置 $9$ 的奶牛可以被移动到位置 $6$，然后位置 $7$ 的奶牛可以被移动到位置 $5$。


---

---
title: "[USACO19FEB] Measuring Traffic B"
layout: "post"
diff: 普及-
pid: P1695
tag: ['模拟', '2019', 'USACO', 'O2优化']
---
# [USACO19FEB] Measuring Traffic B
## 题目描述

Farmer John 的农场边上的高速公路最近出现了引人注目的流量上升，或者至少 Farmer John 看起来是这样的。为了证实这件事，他打算用一组传感器测量公路上的车流量，每个传感器被用来测量一小段路面上的车流量的数值。

不幸的是，某一天经过牛棚的时候，Farmer John 被绊倒了，装有传感器的盒子掉进了一个巨大的奶缸，之后它们就不能正常工作了。比起之前可以产生一个精确的车流量读数，现在每个传感器只能输出一个可能结果的范围。例如，一个传感器可能会给出范围 $[7,13]$，表示在这段路面上的车流量不小于 $7$，并且不大于 $13$。

高速公路经过农场的这一段长 $N$ 英里，车辆仅从一个方向通过公路，从第 $1$ 英里驶向第 $N$ 英里。Farmer John 想要安装 $N$ 个传感器——每一个监测高速公路上 $1$ 英里长的路段。在其中某些路段上，有能够使得车辆进入高速公路的上匝道；在所有这样的路段上，Farmer John 会将传感器装在上匝道上，测量流入的（近似）车流量。在某些路段上有能够使得车辆离开高速公路的下匝道；在所有这样的路段上，Farmer John 会将传感器装在下匝道上。每一个路段包含至多一个匝道。如果在公路的一个路段上没有上匝道或下匝道，Farmer John就将传感器装在高速公路的主路上。

给定 Farmer John 的 $N$ 个传感器的读数，请求出在高速公路第 $1$ 英里之前和第 $N$ 英里之后车流量的最为准确的可能范围。这些范围应当与所有 $N$ 个传感器的读数相一致。 
## 输入格式

输入的第一行包含 $N$（$1\le N\le 100$）。余下 $N$ 行每行按从第 $1$ 英里至第 $N$ 英里的顺序描述一段 $1$ 英里长的路段。每行包含一个字符串，为 `on`（如果这段路上有一个上匝道），`off`（如果这段路上有一个下匝道），或者是 `none`（如果这段路上没有匝道），然后是两个范围为 $0\ldots 1000$ 的整数，表示这段路上的传感器的读数所给出的下界、上界。如果这段路上包含匝道，传感器读数来自于匝道，否则来自于主路。至少一个高速公路路段的描述会是 `none`。
## 输出格式

输出的第一行包含两个整数，为第 $1$ 英里之前的车流量的最准确的可能范围。第二行包含两个整数，为第 $N$ 英里之后的车流量的最准确的可能范围。输入保证存在符合要求的解。 
## 样例

### 样例输入 #1
```
4
on 1 1
none 10 14
none 11 15
off 2 3
```
### 样例输出 #1
```
10 13
8 12
```
## 提示

### 样例解释 1

在这个例子中，路段 $2$ 和路段 $3$ 的读数组合在一起告诉我们通过这两个路段的车流量为范围 $[11,14]$ 之间的某个值，因为只有这个范围与两个读数 $[10,14]$ 和 $[11,15]$ 均一致。在第 $1$ 英里，恰有 $1$ 单位的车辆通过上匝道进入，所以在第 $1$ 英里之前，车流量一定在范围 $[10,13]$ 之内。在第 $4$ 英里，$2$ 单位到 $3$ 单位之间的车辆通过下匝道离开，所以这段路之后可能的车流量范围为 $[8,12]$。 


---

---
title: "[USACO18JAN] Blocked Billboard II B"
layout: "post"
diff: 普及-
pid: P1696
tag: ['模拟', '2018', 'USACO', 'O2优化']
---
# [USACO18JAN] Blocked Billboard II B
## 题目描述

Bessie the cow used to have such a nice view from her barn, looking across road at a set of two billboards advertising delicious looking cow feed. Unfortunately, one of these billboards has recently been updated so it now advertises "Farmer Larry's Lawnmowers". Bessie is not a fan of lawnmowers since their only purpose, as far as she can tell, is cutting back the grass in her field that she finds so tasty (if you haven't noticed, much of Bessie's thought process revolves around food).

Fortunately, the remaining cow feed billboard is situated in front of the lawnmower billboard, potentially obscuring it.

Bessie, determined to remove the offensive lawnmower billboard completely from her view, hatches a risky plan. She plans to steal a large rectangular tarp from the barn and sneak out late at night to cover the remaining portion of the lawnmower billboard, so that she can no longer see any part of it.

Given the locations of the two billboards, please help Bessie compute the minimum area of the tarp she will need. Since the only tarps available in the barn are rectangular in size, Bessie observes that she may conceivably need a tarp whose area is slightly larger than the exposed area of the lawnmower billboard, as illustrated in the example below. The tarp may only be placed such that its sides are parallel to those of the other billboards (i.e., it cannot be "tilted"). 
## 输入格式

The first line of input contains four space-separated integers: $x_1,y_1,x_2,y_2$, where $(x_1,y_1)$ and $(x_2,y_2)$ are the coordinates of the lower-left and upper-right corners of the lawnmower billboard in Bessie's 2D field of view. The next line contains four more integers, similarly specifying the lower-left and upper-right corners of the cow feed billboard. The cow feed billboard may obscure all, some, or none of the lawnmower billboard. All coordinates are in the range $-1000$ to $+1000$. 
## 输出格式

 Please output the minimum area of the tarp Bessie needs to use to cover part of the lawnmower billboard so that it becomes completely obscured. 
## 样例

### 样例输入 #1
```
2 1 7 4
5 -1 10 3
```
### 样例输出 #1
```
15
```
## 提示

### Sample Explanation 1

Here, the cow feed billboard obscures the lower right corner of the lawnmower billboard, but this doesn't really help, since Bessie still needs to use a tarp whose size is as large as the entire lawnmower billboard. 
## 题目翻译

奶⽜ Bessie 曾在谷仓中享受着这么漂亮的景色 —— 看着公路旁的两个矩形广告牌，上⾯播放着美味的牛饲料广告。不幸的是，其中有一个广告牌最近更新并刊登着广告 “农夫 Larry 的割草机” 。Bessie 不喜欢割草机，因为据她所知，割草机的唯一作用是割掉田地里美味的草。

幸运的是，另⼀个播放牛饲料广告的广告牌位于割草机广告牌的前面，并有可能将其遮挡住。

Bessie 决定从她的视线中完全移除掉冒犯的割草机广告牌，因此制定了一个冒险的计划。她计划从谷仓中偷窃一个矩形大布，并在深夜里偷偷地把这块大布覆盖在割草机广告牌的其余部分，这样她就不用看到割草机广告牌的任
何一部分了。

给定两个广告牌的位置，请帮助 Bessie 计算大布的最小面积。由于谷仓中只有矩形大布， Bessie 意识到可能需要一个面积略大于割草机广告牌未被遮挡部分的面积的大布，如样例所示。矩形大布的边必须与广告牌的边平行（即不能倾斜放置大布）。


---

---
title: "[USACO18JAN] Out of Place B"
layout: "post"
diff: 普及-
pid: P1698
tag: ['2018', 'USACO', 'O2优化', '排序']
---
# [USACO18JAN] Out of Place B
## 题目背景

本题翻译来自于 deepseek-v3。
## 题目描述

Farmer John 雄心勃勃，计划尝试一件似乎从未顺利过的事情：他想为他的整个牛群拍一张照片。

为了让照片看起来更美观，他希望奶牛们从矮到高排成一行。不幸的是，就在他让奶牛们按这种方式排好队后，总是捣乱的 Bessie 走出了队伍，并重新插入到队伍中的某个位置！

Farmer John 希望通过交换奶牛对的方式让整个牛群重新排好队。请帮助他确定为了实现这一目标，他需要进行的最少交换次数。
## 输入格式

输入的第一行包含 $N$（$2 \leq N \leq 100$）。接下来的 $N$ 行描述了 Bessie 捣乱后奶牛们的身高。每头奶牛的身高是一个范围在 $1 \ldots 1,000,000$ 的整数。奶牛的身高可能相同。

## 输出格式

请输出 Farmer John 需要交换奶牛对的最少次数，以实现正确的排序。交换不一定需要涉及相邻的奶牛。
## 样例

### 样例输入 #1
```
6
2
4
7
7
9
3
```
### 样例输出 #1
```
3
```
## 提示

在这个例子中，Bessie 显然是身高为 $3$ 的奶牛。Farmer John 通过以下三次交换将奶牛们重新排序：

2 4 7 7 9 3 - 原始队伍  
2 4 7 7 3 9 - 交换最后两头奶牛  
2 4 3 7 7 9 - 交换第一个 $7$ 和 $3$  
2 3 4 7 7 9 - 交换 $4$ 和 $3$


---

---
title: "[USACO19OPEN] Bucket Brigade B"
layout: "post"
diff: 普及-
pid: P1699
tag: ['2019', 'USACO', 'O2优化', '广度优先搜索 BFS']
---
# [USACO19OPEN] Bucket Brigade B
## 题目描述

农场上起火了，奶牛们正在紧急赶去灭火！

农场可以用一个像这样的 $10×10$ 的字符方阵来描述：

```plain
..........
..........
..........
..B.......
..........
.....R....
..........
..........
.....L....
..........
```

字符 `B` 表示正着火的牛棚。字符 `L` 表示一个湖，而字符 `R` 表示农场上的一块巨大岩石。

奶牛们想要沿着一条湖到牛棚之间的路径组成一条“水桶传递队列”，这样她们就可以沿着这条路径传递水桶来帮助灭火。当两头奶牛在东南西北四个方向上相邻时水桶可以在她们之间传递。这对于湖边的奶牛也是对的——奶牛只能在紧挨着湖的时候才能用水桶从湖里取水。类似地，奶牛只能在紧挨着牛棚的时候才能用水去灭牛棚的火。 

请帮助求出奶牛们为了组成这样的“水桶传递队列”需要占据的 `.` 格子的最小数量。

奶牛不能站在岩石所在的方格之内，此外保证牛棚和湖不是相邻的。 
## 输入格式

输入包含 $10$ 行，每行 $10$ 个字符，描述这个农场的布局。输入保证图案中恰有一个字符 `B`、一个字符 `L` 以及一个字符 `R`。 
## 输出格式

输出一个整数，为组成一条可行的水桶传递队列所需要的奶牛的最小数量。 
## 样例

### 样例输入 #1
```
..........
..........
..........
..B.......
..........
.....R....
..........
..........
.....L....
..........
```
### 样例输出 #1
```
7
```
## 提示

### 样例解释 1

在这个例子中，以下是一个可行的方案，使用了最小数量的奶牛（$7$）：

```plain
..........
..........
..........
..B.......
..C.......
..CC.R....
...CCC....
.....C....
.....L....
..........
```


---

---
title: "[USACO19OPEN] Milk Factory B"
layout: "post"
diff: 普及-
pid: P1700
tag: ['模拟', '图论', '2019', 'USACO', 'O2优化', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# [USACO19OPEN] Milk Factory B
## 题目描述

牛奶生意正红红火火！Farmer John 的牛奶加工厂内有 $N$ 个加工站，编号为 $1\dots N$（$1\le N\le 100$），以及 $N−1$ 条通道，每条连接某两个加工站。（通道建设很昂贵，所以 Farmer John 选择使用了最小数量的通道，使得从每个加工站出发都可以到达所有其他加工站）。

为了创新和提升效率，Farmer John 在每条通道上安装了传送带。不幸的是，当他意识到传送带是单向的已经太晚了，现在每条通道只能沿着一个方向通行了！所以现在的情况不再是从每个加工站出发都能够到达其他加工站了。

然而，Farmer John 认为事情可能还不算完全失败，只要至少还存在一个加工站 $i$ 满足从其他每个加工站出发都可以到达加工站 $i$。注意从其他任意一个加工站 $j$ 前往加工站 $i$ 可能会经过 $i$ 和 $j$ 之间的一些中间站点。请帮助 Farmer John 求出是否存在这样的加工站 $i$。
## 输入格式

输入的第一行包含一个整数 $N$，为加工站的数量。以下 $N−1$ 行每行包含两个空格分隔的整数 $a_i$ 和 $b_i$，满足 $1\le a_i,b_i\le N$ 以及 $a_i\neq b_i$。这表示有一条从加工站 $a_i$ 向加工站 $b_i$ 移动的传送带，仅允许沿从 $a_i$ 到 $b_i$ 的方向移动。
## 输出格式

如果存在加工站 $i$ 满足可以从任意其他加工站出发都可以到达加工站 $i$，输出最小的满足条件的 $i$。否则，输出 $−1$。
## 样例

### 样例输入 #1
```
3
1 2
3 2
```
### 样例输出 #1
```
2
```


---

---
title: "[USACO18FEB] Taming the Herd B"
layout: "post"
diff: 普及-
pid: P1711
tag: ['数学', '贪心', '2018', 'USACO', 'O2优化']
---
# [USACO18FEB] Taming the Herd B
## 题目描述

一大清早，Farmer John 就被木材破裂的声音吵醒了。是这些奶牛们干的，她们又逃出牛棚了！

Farmer John 已经厌烦了奶牛在清晨出逃，他觉得受够了：是时候采取强硬措施了。他在牛棚的墙上钉了一个计数器，追踪从上次出逃开始经过的天数。所以如果某一天早上发生了出逃事件，这一天的计数器就为 $0$；如果最近的出逃是 $3$ 天前，计数器读数就为 $3$。Farmer John 一丝不苟地记录了每一天计数器的读数。

年末到了，Farmer John 准备做一些统计。他说，你们这些奶牛会付出代价的！然而意想不到的是，他的记录的一些条目竟然丢失了！

Farmer John 确信他是在发生出逃的某一天开始记录的。请帮助他确定，在所有与残留记录条目一致的事件序列中，基于记录的时间，最少和最多可能发生的出逃次数。 
## 输入格式

输入的第一行包含一个整数 $N$（$1\le N\le 100$），表示从 Farmer John 开始对奶牛出逃计数器进行计数以来已经经过的天数。

第二行包含 $N$ 个空格分隔的整数。第 $i$ 个整数是 $−1$，表示第 $i$ 天的记录丢失了，或者是一个非负整数 $a_i$（不超过 $100$），表示在第 $i$ 天计数器的数字是 $a_i$。
## 输出格式

如果没有事件序列与 Farmer John 的残留记录以及他所确定的奶牛在第 $1$ 天清晨出逃这一事实相一致，输出一个整数 $−1$。否则，输出两个空格分隔的整数 $m$ 和 $M$，其中 $m$ 为所有事件序列中出逃的最少次数，$M$ 为最多次数。 
## 样例

### 样例输入 #1
```
4
-1 -1 -1 1
```
### 样例输出 #1
```
2 3
```
## 提示

在这个样例中，我们可以推断第 $3$ 天必然有出逃发生。我们已经知道在第 $1$ 天也发生了出逃，所以最后不确定的只有第 $2$ 天是否发生了出逃。因此，总共发生了 $2$ 至 $3$ 次出逃。 


---

---
title: "进击的奶牛"
layout: "post"
diff: 普及-
pid: P1824
tag: ['二分', 'USACO']
---
# 进击的奶牛
## 题目描述

Farmer John 建造了一个有 $N$（$2 \leq N \leq 10 ^ 5$) 个隔间的牛棚，这些隔间分布在一条直线上，坐标是 $x _ 1, x _ 2, \cdots, x _ N$（$0 \leq x _ i \leq 10 ^ 9$）。

他的 $C$（$2 \leq C \leq N$）头牛不满于隔间的位置分布，它们为牛棚里其他的牛的存在而愤怒。为了防止牛之间的互相打斗，Farmer John 想把这些牛安置在指定的隔间，所有牛中相邻两头的最近距离越大越好。那么，这个最大的最近距离是多少呢？
## 输入格式

第 $1$ 行：两个用空格隔开的数字 $N$ 和 $C$。

第 $2 \sim N+1$ 行：每行一个整数，表示每个隔间的坐标。
## 输出格式

输出只有一行，即相邻两头牛最大的最近距离。

## 样例

### 样例输入 #1
```
5 3
1
2
8
4
9
```
### 样例输出 #1
```
3
```


---

---
title: "[USACO3.4] 美国血统 American Heritage"
layout: "post"
diff: 普及-
pid: P1827
tag: ['模拟', '树形数据结构', 'USACO', '递归', '构造']
---
# [USACO3.4] 美国血统 American Heritage
## 题目描述

农夫约翰非常认真地对待他的奶牛们的血统。然而他不是一个真正优秀的记帐员。他把他的奶牛 们的家谱作成二叉树，并且把二叉树以更线性的“树的中序遍历”和“树的前序遍历”的符号加以记录而 不是用图形的方法。

你的任务是在被给予奶牛家谱的“树中序遍历”和“树前序遍历”的符号后，创建奶牛家谱的“树的 后序遍历”的符号。每一头奶牛的姓名被译为一个唯一的字母。（你可能已经知道你可以在知道树的两 种遍历以后可以经常地重建这棵树。）显然，这里的树不会有多于 $26$ 个的顶点。

这是在样例输入和样例输出中的树的图形表达方式：


```plain
　　　　　　　　 C
　　　　　　   /  \
　　　　　　  /　　\
　　　　　　 B　　  G
　　　　　　/ \　　/
　　　　   A   D  H
　　　　　　  / \
　　　　　　 E   F

```

附注：

- 树的中序遍历是按照左子树，根，右子树的顺序访问节点；
- 树的前序遍历是按照根，左子树，右子树的顺序访问节点；
- 树的后序遍历是按照左子树，右子树，根的顺序访问节点。

## 输入格式

第一行一个字符串，表示该树的中序遍历。

第二行一个字符串，表示该树的前序遍历。

## 输出格式

单独的一行表示该树的后序遍历。

## 样例

### 样例输入 #1
```
ABEDFCHG
CBADEFGH 

```
### 样例输出 #1
```
AEFDBHGC
```
## 提示

题目翻译来自NOCOW。

USACO Training Section 3.4



---

---
title: "[USACO08JAN] iCow B"
layout: "post"
diff: 普及-
pid: P2035
tag: ['模拟', '2008', 'USACO']
---
# [USACO08JAN] iCow B
## 题目描述

被无止境的农活压榨得筋疲力尽后，FarmerJohn 打算用他在 MP3 播放器市场新买的 iCow 来听些音乐，放松一下。FJ 的 iCow 里存了 $N(1 \le N \le 1{,}000)$ 首曲子，按 $1..N$ 依次编号。至于曲子播放的顺序，则是按一个 FarmerJohn 自己设计的算法来决定：

- 第 $i$ 首曲子有一个初始权值 $R_i\ (1 \le R_i \le 10{,}000)$。
-  当一首曲子播放完毕，接下来播放的将是所有曲子中权值最大的那首（如果有两首或多首曲子的权值相同，那么这些曲子中编号最小的那首会被选中）。
- 一首曲子在播放结束后，它的权值会被平均地分给其他 $N-1$ 首曲子，它本身的权值清零。
- 如果一首曲子的权值无法被平均分配（也就是说，无法被 $N-1$ 整除），那么被 $N-1$ 除的余数部分将会以 $1$ 为单位，顺次分配给排名靠前的曲子（也就是说，顺序为曲目 $1$ 、曲目 $2 \cdots $ 依次下去。当然，刚播放过的那首曲子需要被跳过），直到多出的部分被分配完。

在选定的下一首曲子播放完毕后，这个算法再次被执行，调整曲子的权值，并选出再接下来播放的曲目。

请你计算一下，按 FJ 的算法，最先播放的 $T\ (1 \le T \le 1000)$ 首曲子分别是哪些。
## 输入格式

第 $1$ 行有两个用空格隔开的整数：$N$ 和 $T$。

第 $2$ 至第 $N+1$ 行，第 $i+1$ 行为 $1$ 个整数 $R_i$。
## 输出格式

输出共 $T$ 行，第 $i$ 行输出一个整数，表示 iCow 播放的第 $i$ 首曲子。
## 样例

### 样例输入 #1
```
3 4
10
8
11

```
### 样例输出 #1
```
3
1
2
3

```
## 提示

每一首曲子播放前，三首曲子的权值分别为：

- $[10,8,11]$。播放 $\#3$，$11/2 = 5$，权值余量为 $1$。
- $[16,13,0]$。播放 $\#1$，$16/2 = 8$。
- $[0,21,8]$。播放 $\#2$，$21/2 = 10$，权值余量为 $1$。
- $[11,0,18]$。播放 $\#3$，……



---

---
title: "[USACO10JAN] Buying Feed, II S"
layout: "post"
diff: 普及-
pid: P2616
tag: ['贪心', '2010', 'USACO', '排序']
---
# [USACO10JAN] Buying Feed, II S
## 题目描述

Farmer John needs to travel to town to pick up K (1 <= K <= 100) pounds of feed. Driving D miles with K pounds of feed in his truck costs D\*K cents.

The county feed lot has N (1 <= N <= 100) stores (conveniently numbered 1..N) that sell feed. Each store is located on a segment of the X axis whose length is E (1 <= E <= 350). Store i is at location X\_i (0 < X\_i < E) on the number line and can sell FJ as much as F\_i (1 <= F\_i <= 100) pounds of feed at a cost of C\_i (1 <= C\_i <= 1,000,000) cents per pound. Amazingly, a given point on the X axis might have more than one store.

FJ starts at location 0 on this number line and can drive only in the positive direction, ultimately arriving at location E, with at least K pounds of feed. He can stop at any of the feed stores along the way and buy any amount of feed up to the the store's limit.

What is the minimum amount FJ has to pay to buy and transport the K pounds of feed? FJ knows there is a solution.

Consider a sample where FJ needs two pounds of feed from three stores (locations: 1, 3, and 4) on a number line whose range is 0..5:

```
0   1   2   3   4   5 
+---|---+---|---|---+ 
    1       1   1      Available pounds of feed 
    1       2   2      Cents per pound 
```
It is best for FJ to buy one pound of feed from both the second and third stores. He must pay two cents to buy each pound of feed for a total cost of 4. When FJ travels from 3 to 4 he is moving 1 unit of length and he has 1 pound of feed so he must pay 1\*1 = 1 cents.

When FJ travels from 4 to 5 he is moving one unit and he has 2 pounds of feed so he must pay 1\*2 = 2 cents.

The total cost is 4+1+2 = 7 cents. 

FJ 开车去买 $K$ 份食物，如果他的车上有 $X$ 份食物。每走一里就花费 $X$ 元。FJ 的城市是一条线，总共 $E$ 里路，有 $E+1$ 个地方，标号 $0\sim E$。 FJ 从 $0$ 开始走，到 $E$ 结束（不能往回走），要买 $K$ 份食物。 城里有 $N$ 个商店，每个商店的位置是 $X_i$（一个点上可能有多个商店），有 $F_i$ 份食物，每份 $C_i$ 元。 问到达 $E$ 并买 $K$ 份食物的最小花费。
## 输入格式

![](https://cdn.luogu.com.cn/upload/pic/1718.png)

## 输出格式

![](https://cdn.luogu.com.cn/upload/pic/1719.png)

## 样例

### 样例输入 #1
```
2 5 3
3 1 2
4 1 2
1 1 1
```
### 样例输出 #1
```
7
```
## 提示

![](https://cdn.luogu.com.cn/upload/pic/1720.png)



---

---
title: "[USACO09OCT] Bessie's Weight Problem G"
layout: "post"
diff: 普及-
pid: P2639
tag: ['动态规划 DP', '2009', 'USACO', '背包 DP']
---
# [USACO09OCT] Bessie's Weight Problem G
## 题目描述

Bessie 像她的诸多姊妹一样，因为从 Farmer John 的草地吃了太多美味的草而长出了太多的赘肉。所以 FJ 将她置于一个及其严格的节食计划之中。她每天不能吃多过 $H (5 \le H \le 45,000)$ 公斤的干草。 Bessie 只能吃一整捆干草；当她开始吃一捆干草的之后就再也停不下来了。她有一个完整的$N (1 \le N \le 500)$ 捆可以给她当作晚餐的干草的清单。她自然想要尽量吃到更多的干草。很自然地，每捆干草只能被吃一次（即使在列表中相同的重量可能出现2次，但是这表示的是两捆干草，其中每捆干草最多只能被吃掉一次）。 给定一个列表表示每捆干草的重量 $S_i (1 \le S_i \le H)$ , 求 Bessie 不超过节食的限制的前提下可以吃掉多少干草（注意一旦她开始吃一捆干草就会把那一捆干草全部吃完）。
## 输入格式

第一行有两个由空格隔开的整数 $H$ 和 $N$。

第 $2$ 到第 $N+1$ 行，第 $i+1$ 行是一个单独的整数，表示第 $i$ 捆干草的重量 $S_i$。

## 输出格式

第一行一个单独的整数表示 Bessie 在限制范围内最多可以吃多少公斤的干草。

## 样例

### 样例输入 #1
```
56 4
15
19
20
21
```
### 样例输出 #1
```
56
```
## 提示

#### 输入说明

有四捆草，重量分别是 $15,19,20$ 和 $21$。Bessie 在 $56$ 公斤的限制范围内想要吃多少就可以吃多少。


#### 输出说明

Bessie 可以吃 $3$ 捆干草（重量分别为 $15, 20, 21$）。恰好达到她的 $56$ 公斤的限制。



---

---
title: "[USACO07OCT] Bessie's Secret Pasture S"
layout: "post"
diff: 普及-
pid: P2666
tag: ['搜索', '2007', 'USACO', '枚举']
---
# [USACO07OCT] Bessie's Secret Pasture S
## 题目描述

Farmmer John 最近收割了几乎无限多块牧草，将它们堆放在空地上。这些牧草都是正方形的，而且都有非负整数长度的边长（当然有 $0$）。一天它的奶牛 Bessie 发现了这些美味的牧草，于是希望把它们种在自己的秘密牧场上。他总将草皮分割成 $1\times1$ 的小块，以放入他牧场上的 $N$ 个格子中。

Bessie 感兴趣的是，她若选取四块会有多少种不同方法。如果 $N=4$，那么她就有 $5$ 种不同分法：$(1,1,1,1), (2,0,0,0), (0,2,0,0),(0,0,2,0),(0,0,0,2)$，括号内数表示边长。注意这里不讲究顺序，如 $(1,2,3,4)$ 与 $(4,3,2,1)$ 是两种不同方法。

## 输入格式

仅一行，一个整数 $N$ 。

## 输出格式

同样为一行，包含一个整数，为方案总数。

## 样例

### 样例输入 #1
```
4
```
### 样例输出 #1
```
5
```
## 提示

对于 $100\%$ 的数据，$1\le N\le10000$。



---

---
title: "[USACO07DEC] Bookshelf 2 B"
layout: "post"
diff: 普及-
pid: P2677
tag: ['搜索', '2007', 'USACO']
---
# [USACO07DEC] Bookshelf 2 B
## 题目描述

Farmer John最近为奶牛们的图书馆添置了一个巨大的书架，尽管它是如此的大，但它还是几乎瞬间就被各种各样的书塞满了。现在，只有书架的顶上还留有一点空间。 所有N(1 <= N <= 20)头奶牛都有一个确定的身高H\_i(1 <= H\_i <= 1,000,000 - 好高的奶牛>\_<)。设所有奶牛身高的和为S。书架的 高度为B，并且保证1 <= B <= S。 为了够到比最高的那头奶牛还要高的书架顶，奶牛们不得不象演杂技一般，一头站在另一头的背上，叠成一座“奶牛塔”。当然，这个塔的高度，就是塔中所有奶牛的身高之和。为了往书架顶上放东西，所有奶牛的身高和必须不小于书架的高度。 塔叠得越高便越不稳定，于是奶牛们希望找到一种方案，使得叠出的塔在高度不小于书架高度的情况下，高度尽可能小。你也可以猜到你的任务了：写一个程序，计算奶牛们叠成的塔在满足要求的情况下，最少要比书架高多少。

## 输入格式

\* 第1行: 2个用空格隔开的整数：N 和 B \* 第2..N+1行: 第i+1行是1个整数：H\_i

## 输出格式

\* 第1行: 输出1个非负整数，即奶牛们叠成的塔最少比书架高的高度

## 样例

### 样例输入 #1
```
5 16
3
1
3
5
6
```
### 样例输出 #1
```
1
```
## 提示

输出说明:

我们选用奶牛1、3、4、5叠成塔，她们的总高度为3 + 3 + 5 + 6 = 17。任何方案都无法叠出高度为16的塔，于是答案为1。



---

---
title: "[USACO1.3] 号码锁 Combination Lock"
layout: "post"
diff: 普及-
pid: P2693
tag: ['模拟', 'USACO', '枚举']
---
# [USACO1.3] 号码锁 Combination Lock
## 题目背景

感谢 @[Fond_Dream](https://www.luogu.com.cn/user/321680) 提供五道 USACO 题目的标准题面。
## 题目描述

农夫约翰的奶牛不停地从他的农场中逃出来，导致了很多损害。为了防止它们再逃出来，他买了一只很大的号码锁以防止奶牛们打开牧场的门。

农夫约翰知道他的奶牛很聪明，所以他希望确保它们不会在简单地试了很多不同的号码组合之后就能轻易开锁。锁上有三个转盘，每个上面有数字 $1$ ~ $n$，因为转盘是圆的，所以 $1$ 和 $n$ 是相邻的。有两种能开锁的号码组合，一种是农夫约翰设定的，还有一种“预设”号码组合是锁匠设定的。但是，锁有一定的容错性，所以，在每个转盘上的数字都与一个合法的号码组合中相应的数字相距两个位置以内时，锁也会打开。

比如说，如果农夫约翰的号码组合是 ( $1$ , $2$ , $3$ )，预设号码组合是 ( $4$ , $5$ , $6$ )，在转盘被设定为 ( $1$ , $4$ , $5$)（因为这和农夫约翰的号码组合足够接近）或 ( $2$ , $4$ , $8$ )（因为这和预设号码组合足够接近）时可以打开锁。注意，( $1$ , $5$ , $6$ )并不会打开锁，因为它与任一号码组合都不够接近。

给出农夫约翰的号码组合和预设号码组合，请计算能够开锁的不同的号码组合的数目。号码是有序的，所以 ( $1$ , $2$ , $3$ ) 与 ( $3$ , $2$ , $1$ ) 不同。

## 输入格式

输入的第一行是一个整数 $n$，代表锁上的数字个数。

输入的第二行有三个整数 $x, y, z$，代表农夫约翰的号码组合。

输入的第三行有三个整数 $a, b, c$，代表预设的号码组合。
## 输出格式

输出一行一个整数代表能够开锁的组合数目。
## 样例

### 样例输入 #1
```
50
1 2 3
5 6 7

```
### 样例输出 #1
```
249
```
## 提示

#### 输入输出样例 1 解释

每个转盘的标号是 $1$ ~ $50$。农夫约翰的号码组合是 ( $1$ , $2$ , $3$ )，预设号码组合是 ( $5$ , $6$ , $7$ )。

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 \leq n \leq 100$，$1 \leq x, y, z, a, b, c \leq n$。


---

---
title: "接金币"
layout: "post"
diff: 普及-
pid: P2694
tag: ['模拟', 'USACO']
---
# 接金币
## 题目描述

在二维坐标系里，有 $n$ 个金币，编号 $0\sim n-1$。初始时，第 $i$ 个金币位于 $(x_i,y_i)$。所有的金币每秒向下垂直下降 $1$ 个单位高度。例如有个金币当前坐标是 $(x,y)$，那么 $t$ 秒后金币所在的位置就是$(x,y-t)$。初始时，FJ 在 $(0,0)$ 处，FJ 每秒只能向左右移动 $1$ 个单位距离，当然 FJ 也可以不移动。如果在某个时刻某个金币和 FJ 所在的位置重合，那么 FJ 就能接住这个金币。求 FJ 能否把所有的金币都接住，如果行输出 $\texttt{Abletocatch}$，否则输出 $\texttt{Notabletocatch}$。

## 输入格式

本题有 $g$ 组数据。

第一行，一个整数 $g$，表示有 $g$ 组测试数据。

对于每组测试数据，格式如下：

第一行，一个整数 $n$。

接下来有 $n$ 行，第 $i$ 行两个整数表示 $x_i,y_i$。

## 输出格式

共 $g$ 行，每行输出 $\texttt{Abletocatch}$ 或 $\texttt{Notabletocatch}$。

## 样例

### 样例输入 #1
```
5
3
-1 1
1 3
0 4
1
-3 2
3
-1 1
1 2
0 4
3
0 9
-1 1
1 3
8
70 141
-108 299
52 402
-70 280
84 28
-29 363
66 427
-33 232

```
### 样例输出 #1
```
Abletocatch
Notabletocatch
Notabletocatch
Abletocatch
Notabletocatch

```
## 提示

对于所有数据，$1\le g\le5$，$1\le n\le50$，$-10^3\le x_i\le10^3$，$0\le y_i\le10^3$。



---

---
title: "[USACO3.1] 总分 Score Inflation"
layout: "post"
diff: 普及-
pid: P2722
tag: ['动态规划 DP', 'USACO', '背包 DP']
---
# [USACO3.1] 总分 Score Inflation
## 题目背景

选手在我们 USACO 的竞赛中的得分越多我们越高兴。

我们试着设计我们的竞赛以便人们能尽可能的多得分,这需要你的帮助。

## 题目描述

我们可以从几个种类中选取竞赛的题目，这里的一个“种类”是指一个竞赛题目的集合，解决集合中的题目需要相同多的时间并且能得到相同的分数。

你的任务是写一个程序来告诉 USACO 的职员,应该从每一个种类中选取多少题目，使得解决题目的总耗时在竞赛规定的时间里并且总分最大。
## 输入格式

输入的第一行是用空格隔开的两个整数，分别代表竞赛时间 $m$ 和题目类 $n$。

第 $2$ 到第 $(n + 1)$ 行，每行两个用空格隔开的整数，第 $(i + 1)$ 行的整数 $p_i, t_i$ 分别代表解决第 $i$ 类题得到的分数和需要花费的时间。

既然是某一类题目，那么这一类题目可以重复选择。

## 输出格式

输出一行一个整数，代表最大的总分。
## 样例

### 样例输入 #1
```
300 4
100 60
250 120
120 100
35 20
```
### 样例输出 #1
```
605
```
## 提示

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 \leq n, m \leq 10^4$，$1 \leq p_i, t_i \leq 10^4$。


---

---
title: "[USACO08FEB] Dining Cows B"
layout: "post"
diff: 普及-
pid: P2837
tag: ['动态规划 DP', '递推', '2008', 'USACO']
---
# [USACO08FEB] Dining Cows B
## 题目描述

为了避免餐厅过分拥挤，FJ 要求奶牛们分 $2$ 批就餐。每天晚饭前，奶牛们都会在餐厅前排队入内，按 FJ 的设想，所有第 $2$ 批就餐的奶牛排在队尾，队伍的前半部分则由设定为第 $1$ 批就餐的奶牛占据。

由于奶牛们不理解 FJ 的安排，晚饭前的排队成了一个大麻烦。 第 $i$ 头奶牛有一张标明她用餐批次 $D_i$ 的卡片。虽然所有 $N$ 头奶牛排成了很整齐的队伍，但谁都看得出来，卡片上的号码是完全杂乱无章的。 在若干次混乱的重新排队后，FJ 找到了一种简单些的方法：奶牛们不动，他沿着队伍从头到尾走一遍，把那些他认为排错队的奶牛卡片上的编号改掉，最终得到一个他想要的每个组中的奶牛都站在一起的队列，例如 $112222$ 或 $111122$。有的时候，FJ 会把整个队列弄得只有 $1$ 组奶牛（比方说，$1111$ 或 $222$）。 

你也晓得，FJ 是个很懒的人。他想知道，如果他想达到目的，那么他最少得改多少头奶牛卡片上的编号。所有奶牛在 FJ 改卡片编号的时候，都不会挪位置。
## 输入格式

第一行输入一个整数 $N$（$1 \le N \le 3 \times 10 ^ 4$）。

第 $2 \sim N + 1$ 行，每行 $1$ 个整数，表示第 $i$ 头牛的用餐批次 $D_i$（$1 \le D_i \le 2$）。
## 输出格式

输出 $1$ 个整数，为 FJ 最少要改几头奶牛卡片上的编号，才能让编号变成他设想中的样子。
## 样例

### 样例输入 #1
```
7
2
1
1
1
2
2
1
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
5
2
2
1
2
2
```
### 样例输出 #2
```
1
```
## 提示

$1 \le N \le 3 \times 10 ^ 4$


---

---
title: "[USACO07DEC] Charm Bracelet S"
layout: "post"
diff: 普及-
pid: P2871
tag: ['动态规划 DP', '2007', 'USACO', '枚举', '背包 DP']
---
# [USACO07DEC] Charm Bracelet S
## 题目描述

Bessie has gone to the mall's jewelry store and spies a charm bracelet. Of course, she'd like to fill it with the best charms possible from the N (1 ≤ N ≤ 3,402) available charms. Each charm i in the supplied list has a weight Wi (1 ≤ Wi ≤ 400), a 'desirability' factor Di (1 ≤ Di ≤ 100), and can be used at most once. Bessie can only support a charm bracelet whose weight is no more than M (1 ≤ M ≤ 12,880).

Given that weight limit as a constraint and a list of the charms with their weights and desirability rating, deduce the maximum possible sum of ratings.

有 $N$ 件物品和一个容量为 $M$ 的背包。第 $i$ 件物品的重量是 $W_i$，价值是 $D_i$。求解将哪些物品装入背包可使这些物品的重量总和不超过背包容量，且价值总和最大。
## 输入格式

\* Line 1: Two space-separated integers: N and M

\* Lines 2..N+1: Line i+1 describes charm i with two space-separated integers: Wi and Di

第一行：物品个数 $N$ 和背包大小 $M$。

第二行至第 $N+1$ 行：第 $i$ 个物品的重量 $W_i$ 和价值 $D_i$。
## 输出格式

\* Line 1: A single integer that is the greatest sum of charm desirabilities that can be achieved given the weight constraints

输出一行最大价值。

## 样例

### 样例输入 #1
```
4 6
1 4
2 6
3 12
2 7
```
### 样例输出 #1
```
23
```


---

---
title: "[USACO07DEC] Mud Puddles S"
layout: "post"
diff: 普及-
pid: P2873
tag: ['2007', 'USACO']
---
# [USACO07DEC] Mud Puddles S
## 题目描述

Farmer John is leaving his house promptly at 6 AM for his daily milking of Bessie. However, the previous evening saw a heavy rain, and the fields are quite muddy. FJ starts at the point (0, 0) in the coordinate plane and heads toward Bessie who is located at (X, Y) (-500 ≤ X ≤ 500; -500 ≤ Y ≤ 500). He can see all N (1 ≤ N ≤ 10,000) puddles of mud, located at points (Ai, Bi) (-500 ≤ Ai ≤ 500; -500 ≤ Bi ≤ 500) on the field. Each puddle occupies only the point it is on.

Having just bought new boots, Farmer John absolutely does not want to dirty them by stepping in a puddle, but he also wants to get to Bessie as quickly as possible. He's already late because he had to count all the puddles. If Farmer John can only travel parallel to the axes and turn at points with integer coordinates, what is the shortest distance he must travel to reach Bessie and keep his boots clean? There will always be a path without mud that Farmer John can take to reach Bessie.
## 输入格式

\* Line 1: Three space-separate integers: X, Y, and N.

\* Lines 2..N+1: Line i+1 contains two space-separated integers: Ai and Bi

## 输出格式

\* Line 1: The minimum distance that Farmer John has to travel to reach Bessie without stepping in mud.

## 样例

### 样例输入 #1
```
1 2 7
0 2
-1 3
3 1
1 1
4 2
-1 1
2 2
```
### 样例输出 #1
```
11
```
## 题目翻译

清早 $6$ 点，Farmer John 就离开了他的屋子，开始了他的例行工作：为贝茜挤奶。前一天晚上，整个农场刚经受过一场瓢泼大雨的洗礼，于是不难想见，FJ 现在面对的是一大片泥泞的土地。FJ 的屋子在平面坐标 $(0,0)$ 的位置，贝茜所在的牛棚则位于坐标 $(X,Y)$（$-500 \le X,Y \le 500$）处。当然，FJ 也看到了地上的所有 $N$（$1 \le N \le 10 ^ 4$）个泥塘，第 $i$ 个泥塘的坐标为 $(A_i,B_i)$（$-500 \le A_i,B_i \le 500$）。

每个泥塘都只占据了它所在的那个格子。 FJ 自然不愿意弄脏他新买的靴子，但他同时想尽快到达贝茜所在的位置。为了数那些讨厌的泥塘，他已经耽搁了一些时间了。如果 Farmer John 只能平行于坐标轴移动，并且只在 $X,Y$ 均为整数的坐标处转弯，那么他从屋子门口出发，最少要走多少路才能到贝茜所在的牛棚呢？你可以认为从 FJ 的屋子到牛棚总是存在至少一条不经过任何泥塘的路径。


---

---
title: "[USACO08OPEN] Word Power S"
layout: "post"
diff: 普及-
pid: P2908
tag: ['模拟', '字符串', '2008', 'USACO']
---
# [USACO08OPEN] Word Power S
## 题目描述

Farmer John wants to evaluate the quality of the names of his N (1 <= N <= 1000) cows. Each name is a string with no more than 1000 characters, all of which are non-blank.

He has created a set of M (1 <= M <= 100) 'good' strings (no

longer than 30 characters and fully non-blank). If the sequence letters of a cow's name contains the letters of a 'good' string in the correct order as a subsequence (i.e., not necessarily all next to each other), the cow's name gets 1 quality point.

All strings is case-insensitive, i.e., capital letters and lower case letters are considered equivalent.  For example, the name 'Bessie' contains the letters of 'Be', 'sI', 'EE', and 'Es' in the correct order, but not 'is' or 'eB'. Help Farmer John determine the number of quality points in each of his cow's names.

约翰想要计算他那N(l < =N <= 1000)只奶牛的名字的能量.每只奶牛的名字由不超过1000个字 符构成，没有一个名字是空字体串.

约翰有一张“能量字符串表”，上面有M(1 < =M < =100)个代表能量的字符串.每个字符串 由不超过30个字体构成，同样不存在空字符串.一个奶牛的名字蕴含多少个能量字符串，这个名 字就有多少能量.所谓“蕴含”，是指某个能量字符串的所有字符都在名字串中按顺序出现（不 一定一个紧接着一个）.

所有的大写字母和小写字母都是等价的.比如，在贝茜的名字“Bessie”里，蕴含有“Be” “si” “EE”以及“Es”等等字符串，但不蕴含“Ls”或“eB” .请帮约翰计算他的奶牛的名字 的能量.

## 输入格式

\* Line 1: Two space-separated integers: N and M

\* Lines 2..N+1: Line i+1 contains a string that is the name of the ith cow

\* Lines N+2..N+M+1: Line N+i+1 contains the ith good string

## 输出格式

\* Lines 1..N+1: Line i+1 contains the number of quality points of the ith name

## 样例

### 样例输入 #1
```
5 3 
Bessie 
Jonathan 
Montgomery 
Alicia 
Angola 
se 
nGo 
Ont 

```
### 样例输出 #1
```
1 
1 
2 
0 
1 

```
## 提示

There are 5 cows, and their names are "Bessie", "Jonathan", "Montgomery", "Alicia", and "Angola". The 3 good strings are "se", "nGo", and "Ont".


"Bessie" contains "se", "Jonathan" contains "Ont", "Montgomery" contains both "nGo" and "Ont", Alicia contains none of the good strings, and "Angola" contains "nGo".



---

---
title: "[USACO08OPEN] Cow Cars S"
layout: "post"
diff: 普及-
pid: P2909
tag: ['贪心', '2008', 'USACO', '排序']
---
# [USACO08OPEN] Cow Cars S
## 题目描述

N (1 <= N <= 50,000) cows conveniently numbered 1..N are driving in separate cars along a highway in Cowtopia. Cow i can drive in any of M different high lanes (1 <= M <= N) and can travel at a maximum speed of S\_i (1 <= S\_i <= 1,000,000) km/hour.

After their other bad driving experience, the cows hate collisions and take extraordinary measures to avoid them. On this highway, cow i reduces its speed by D (0 <= D <= 5,000) km/hour for each cow in front of it on the highway (though never below 0 km/hour). Thus, if there are K cows in front of cow i, the cow will travel at a speed of max[S\_i - D \* K, 0]. While a cow might actually travel faster than a cow directly in front of it, the cows are spaced far enough apart so crashes will not occur once cows slow down as

described,

Cowtopia has a minimum speed law which requires everyone on the highway to travel at a a minimum speed of L (1 <= L <= 1,000,000) km/hour so sometimes some of the cows will be unable to take the highway if they follow the rules above. Write a program that will find the maximum number of cows that can drive on the highway while obeying the minimum speed limit law.

## 输入格式

\* Line 1: Four space-separated integers: N, M, D, and L

\* Lines 2..N+1: Line i+1 describes cow i's initial speed with a single integer: S\_i

## 输出格式

\* Line 1: A single integer representing the maximum number of cows that can use the highway

## 样例

### 样例输入 #1
```
3 1 1 5 
5 
7 
5 

```
### 样例输出 #1
```
2 

```
## 提示

There are three cows with one lane to drive on, a speed decrease of 1, and a minimum speed limit of 5.


Two cows are possible, by putting either cow with speed 5 first and the cow with speed 7 second.

## 题目翻译

有 $N$ 头奶牛 $(1 \le N \le 50000)$，编号 $1 \sim N$。它们正各自驾着车打算在高速公路上飞驰．高速公路有 $M(1\leq M\leq N)$ 条车道。奶牛 $i$ 有一个自己的车速上限 $S_i  \ (1\leq S_i\leq 10^6)$。

在经历过糟糕的驾驶事故之后，奶牛们变得十分小心，避免碰撞的发生。每条车道上，如果某一只奶牛 $i$ 的前面有 $k$ 只奶牛驾车行驶，那奶牛 $i$ 的速度上限就会下降 $k\times D$ 个单位，也就是说，她的速度不会超过 $S_i - k \times D(0\leq D\leq 5000)$，当然如果这个数是负的，那她的速度将是 $0$。高速公路法规定，在高速公路上行驶的车辆时速不得低于 $L \ (1 \le L \le 10 ^ 6)$。你可以认为同一条车道上的两头奶牛相距足够远，所以即使后方的奶牛速度更快也是可以的。

求：最多有多少奶牛可以在高速公路上行驶。


---

---
title: "[USACO08OCT] Wheel Rotation G"
layout: "post"
diff: 普及-
pid: P2913
tag: ['2008', 'USACO']
---
# [USACO08OCT] Wheel Rotation G
## 题目描述

Farmer John has an old-time thresher (wheat harvester) that requires belts to be installed on various gears to turn the parts. The engine drives pulley 1 in a clockwise direction which attaches via a belt to pulley 2. Pulley 2 attaches via a belt to pulley 3 and so on through a total of N (2 <= N <= 1,000) pulleys (and N-1 belts).

The diagram above depicts the two ways a belt can be installed between two gears. In this illustration, pulley 1's belt directly drives pulley 2 (a 'straight' connection) and thus they will rotate in the same direction. Pulley 3 drives pulley 4 via a 'crossed belt' that reverses the direction of the rotation.

Given a list of the belt types that connect the pulleys along with the fact that pulley 1 is driven in a clockwise direction by the engine, determine the drive direction of pulley N. Each belt is described by three integers:

```cpp
* S_i -- the driving (source) pulley 
* D_i -- the driven (destination) pulley 
* C_i -- the connection type (0=straight, 1=crossed) 
Unfortunately, FJ lists the belts in random order. 
By way of example, consider the illustration below. N = 4, and pulley 1 is driven clockwise by the thresher engine. Straight 
belts drive pulley 2 and then pulley 3, so they rotate clockwise. The crosswise belt reverses the rotation direction so pulley 4 (pulley N) rotates counterclockwise. 
```
POINTS: 70
约翰有一个过时的收割机，需要在它的各种滑轮上装配皮带才能让收割机的各个部分运作起 来.引擎能够驱动滑轮1向顺时针方向转动，滑轮1通过一条皮带又连接到滑轮2.滑轮2又通过一 条皮带连接到滑轮3，等等，总共有N(2 <= N <= 1000)个滑轮和N - 1条皮带.

皮带连接两个滑轮有两种方式：直接连接和交叉连接.直接连接的两个滑轮旋转方向相同， 即同为顺时针或同为逆时针.交叉连接的两个滑轮旋转方向相反.

现在给出一个列表，里面列出所有皮带的连接方式.已经知道滑轮1被引擎驱动着向顺时针方 向转动.每一条皮带由下面三个数定义：

•驱动滑轮S，输入驱动力的滑轮.

•被驱动滑轮D;，被驱使转动的滑轮.

•连接类型C，0表示直接连接，1表示交叉连接.

不幸的是，约翰的这个列表中，皮带的顺序是混乱的.所以请你写一个程序来求出滑轮N的 转动方向.

## 输入格式

\* Line 1: A single integer: N

\* Lines 2..N: Each line describes a belt with three integers: S\_i, D\_i, and C\_i

## 输出格式

\* Line 1: A single integer that is the rotation direction for pulley N (0=clockwise, 1=counterclockwise)

## 样例

### 样例输入 #1
```
4 
2 3 0 
3 4 1 
1 2 0 

```
### 样例输出 #1
```
1 

```
## 提示

As in the example illustration.



---

---
title: "[USACO08DEC] Hay For Sale S"
layout: "post"
diff: 普及-
pid: P2925
tag: ['动态规划 DP', '2008', 'USACO', '背包 DP']
---
# [USACO08DEC] Hay For Sale S
## 题目描述

Farmer John suffered a terrible loss when giant Australian cockroaches ate the entirety of his hay inventory, leaving him with nothing to feed the cows. He hitched up his wagon with capacity C (1 <= C <= 50,000) cubic units and sauntered over to Farmer Don's to get some hay before the cows miss a meal.

Farmer Don had a wide variety of H (1 <= H <= 5,000) hay bales for sale, each with its own volume (1 <= V\_i <= C). Bales of hay, you know, are somewhat flexible and can be jammed into the oddest of spaces in a wagon.

FJ carefully evaluates the volumes so that he can figure out the largest amount of hay he can purchase for his cows.

Given the volume constraint and a list of bales to buy, what is the greatest volume of hay FJ can purchase?  He can't purchase partial bales, of course. Each input line (after the first) lists a single bale FJ can buy.

约翰遭受了重大的损失：蟑螂吃掉了他所有的干草，留下一群饥饿的牛．他乘着容量为C(1≤C≤50000)个单位的马车，去顿因家买一些干草．  顿因有H(1≤H≤5000)包干草，每一包都有它的体积Vi(l≤Vi≤C).约翰只能整包购买，

他最多可以运回多少体积的干草呢？

## 输入格式

\* Line 1: Two space-separated integers: C and H

\* Lines 2..H+1: Each line describes the volume of a single bale: V\_i

## 输出格式

\* Line 1: A single integer which is the greatest volume of hay FJ can purchase given the list of bales for sale and constraints.

## 样例

### 样例输入 #1
```
7 3 
2 
6 
5 

```
### 样例输出 #1
```
7 

```
## 提示

The wagon holds 7 volumetric units; three bales are offered for sale with volumes of 2, 6, and 5 units, respectively.


Buying the two smaller bales fills the wagon.

## 题目翻译

## 题目描述
农民 John 面临一个很可怕的事，因为防范力度不大所以他存储的所有稻草都被蟑螂吃光了，他将面临没有稻草喂养奶牛的局面。在奶牛断粮之前，John 拉着他的马车到农民 Don 的农场中买一些稻草给奶牛过冬。已知 John 的马车可以装的下 $C(1\le C\le5\times10^4)$ 立方的稻草。

农民 Don 有 $H(1\le H\le5\times10^3)$ 捆体积不同的稻草可供购买，每一捆稻草有它自己的体积 $V_i(1\le V_i\le C)$。面对这些稻草 John 认真的计算如何充分利用马车的空间购买尽量多的稻草给他的奶牛过冬。

现在给定马车的最大容积 $C$ 和每一捆稻草的体积 $V_i$，John 如何在不超过马车最大容积的情况下买到最大体积的稻草？他不可以把一捆稻草分开来买。

## 输入格式：
第一行两个整数，分别为 $C$ 和 $H$。
第 $2$ 到 $H+1$ 行:每一行一个整数代表第 $i$ 捆稻草的体积 $V_i$。

## 输出格式：

一个整数，为 John 能买到的稻草的体积。

###### 修改 by zhangsenhao6728


---

---
title: "[USACO09MAR] Sand Castle S"
layout: "post"
diff: 普及-
pid: P2945
tag: ['贪心', '2009', 'USACO']
---
# [USACO09MAR] Sand Castle S
## 题目描述

Farmer John has built a sand castle! Like all good castles, the walls have crennelations, that nifty pattern of embrasures (gaps) and merlons (filled spaces); see the diagram below. The N (1 <= N <= 25,000) merlons of his castle wall are conveniently numbered 1..N; merlon i has height M\_i (1 <= M\_i <= 100,000); his merlons often have varying heights, unlike so many.

He wishes to modify the castle design in the following fashion: he has a list of numbers B\_1 through B\_N (1 <= B\_i <= 100,000), and wants to change the merlon heights to those heights B\_1, ..., B\_N in some order (not necessarily the order given or any other order derived from the data).

To do this, he has hired some bovine craftsmen to raise and lower the merlons' heights. Craftsmen, of course, cost a lot of money. In particular, they charge FJ a total X (1 <= X <= 100) money per unit height added and Y (1 <= Y <= 100) money per unit height

reduced.

FJ would like to know the cheapest possible cost of modifying his sand castle if he picks the best permutation of heights. The answer is guaranteed to fit within a 32-bit signed integer.

Note: about 40% of the test data will have N <= 9, and about 60% will have N <= 18.
## 输入格式

\* Line 1: Three space-separated integers: N, X, and Y

\* Lines 2..N+1: Line i+1 contains the two space-separated integers: M\_i and B\_i

## 输出格式

\* Line 1: A single integer, the minimum cost needed to rebuild the castle

## 样例

### 样例输入 #1
```
3 6 5 
3 1 
1 2 
1 2 

```
### 样例输出 #1
```
11 

```
## 提示

FJ's castle starts with heights of 3, 1, and 1. He would like to change them so that their heights are 1, 2, and 2, in some order. It costs 6 to add a unit of height and 5 to remove a unit of height.


FJ reduces the first merlon's height by 1, for a cost of 5 (yielding merlons of heights 2, 1, and 1). He then adds one unit of height to the second merlon for a cost of 6 (yielding merlons of heights 2, 2, and 1).

## 题目翻译

**题目翻译：**

农夫约翰（Farmer John）建造了一座沙堡！和所有好的城堡一样，沙堡的墙上有垛口（crenellations），这是一种由开口（embrasures，空隙）和垛体（merlons，填充部分）组成的精巧图案；请参见下面的示意图。沙堡城墙上的 $N$ 个垛体（$1 \leq N \leq 25,000$）被依次编号为 $1$ 到 $N$，其中第 $i$ 个垛体的高度为 $M_i$（$1 \leq M_i \leq 100,000$）。与普通垛口设计不同，他的垛体高度往往是变化的。

他希望按照以下方式修改城堡设计：他有一个数列 $B_1, B_2, \dots, B_N$（$1 \leq B_i \leq 100,000$），他希望将垛体的高度调整为这些数值 $B_1, B_2, \dots, B_N$，但顺序可以随意打乱（不一定是给定的顺序或由数据派生出的某种顺序）。

为此，他雇佣了一些工匠来增加或减少垛体的高度。然而，工匠的费用非常高昂。具体来说，工匠会按如下方式收费：
- 每增加 1 个单位高度，需要支付 $X$（$1 \leq X \leq 100$）单位的费用；
- 每减少 1 个单位高度，需要支付 $Y$（$1 \leq Y \leq 100$）单位的费用。

农夫约翰希望知道，如果他选择最佳的高度排列方式（最佳的 $B$ 数列排列），调整沙堡所需的最低费用是多少。答案保证能在 32 位有符号整数范围内表示。

**注意**：
- 约 $40\%$ 的测试数据满足 $N \leq 9$；
- 约 $60\%$ 的测试数据满足 $N \leq 18$。


---

---
title: "[USACO09OPEN] Cow Line S"
layout: "post"
diff: 普及-
pid: P2952
tag: ['模拟', '递推', '2009', 'USACO', '单调队列']
---
# [USACO09OPEN] Cow Line S
## 题目描述

Farmer John's N cows (conveniently numbered 1..N) are forming a line. The line begins with no cows and then, as time progresses, one by one, the cows join the line on the left or right side. Every once in a while, some number of cows on the left or right side of the line all leave the line to go graze in their favorite pasture.

FJ has trouble keeping track of all the cows in the line. Please help him.

The cows enter the line in numerical order 1..N, and once a cow leaves the line she never re-enters it. Your program will be given S (1 <= S <= 100,000) input specifications; each appears on a single line and is one of two types:

\* A cow enters the line (a parameter indicates whether on the left or right).

\* K cows leave the line from the left or right side (supplied parameters define both the number of cows and which side).

Input lines never request an operation that can not be performed.

After all the input lines have been processed, your program should print the cows in the line in order from left to right. The final line is guaranteed to be non-empty at the end of the input specifications.
## 输入格式

\* Line 1: A single integer: S

\* Lines 2..S+1: Line i+1 contains specification i in one of four formats:

\* A L -- a cow arrives on the Left of the line

\* A R -- a cow arrives on the Right of the line

\* D L K -- K cows depart the Left side of the line

\* D R K -- K cows depart the Right side of the line
## 输出格式

\* Lines 1..??: Print the numbers of the cows in the line in order from left to right, one number per line.
## 样例

### 样例输入 #1
```
10 
A L 
A L 
A R 
A L 
D R 2 
A R 
A R 
D L 1 
A L 
A R 

```
### 样例输出 #1
```
7 
2 
5 
6 
8 

```
## 提示

Input    Resulting Cow Line

A L      1

A L      2 1

A R      2 1 3

A L      4 2 1 3

D R 2    4 2

A R      4 2 5

A R      4 2 5 6

D L 1    2 5 6

A L      7 2 5 6

A R      7 2 5 6 8

感谢@ ws\_fuweidong  提供翻译。

## 题目翻译

Farmer John（以下简称 FJ）的 $N$ 头奶牛（用 $1 \dots N$ 编号）在直线上排队。一开始，这条线上没有任何奶牛，随着时间的推移，奶牛们会一个接一个地站到队伍的左边或右边。又过了一会儿，某些奶牛会从队伍里离开，去吃自己最喜欢的草料。

FJ 无法跟踪每一头奶牛，于是，他想让你来帮助他。

奶牛以 $1 \dots N$ 的顺序排队，并且离开的奶牛不会再次回来。数据将会给出 $S$（$1 \le S \le 100000$） 条指令，各占一行，分两种：

- $A$ 头奶牛加入了队列（还有一个参数，表示从左加入还是从右加入）；
- $K$ 头奶牛从左边或者右边离开了队列（还有两个参数，分别表示从左离开还是从右离开和离开多少头奶牛）。

输入的命令一定是可以执行的。

所有的操作结束后，你的程序应该以从左到右的顺序输出这个奶牛队列。数据保证最后的队列不空。

**【输入格式】**

- 第 $1$ 行：单独一个整数 $S$。
- 第 $2 \dots S+1$ 行：第 $i+1$ 行会有一条命令，有以下几种：
  - `A L`：一头奶牛从队列左边加入；
  - `A R`：一头奶牛从队列右边加入；
  - `D L K`：$K$ 头奶牛从队伍左边离开；
  - `D R K`：$K$ 头奶牛从队伍右边离开。

**【输出格式】**

- 第 $1 \dots ??$ 行：从左到右输出最后的奶牛队列，一个奶牛编号占一行。

**【样例解释】**

以下为输入的命令及对应的队列：

- `A L`：$1$；
- `A L`：$2,1$；
- `A R`：$2,1,3$；
- `A L`：$4,2,1,3$；
- `D R 2`：$4,2$；
- `A R`：$4,2,5$；
- `A R`：$4,2,5,6$；
- `D L 1`：$2,5,6$；
- `A L`：$7,2,5,6$；
- `A R`（最终序列）：$7,2,5,6,8$。


---

---
title: "[USACO09OCT] Barn Echoes G"
layout: "post"
diff: 普及-
pid: P2957
tag: ['字符串', '2009', 'USACO', '哈希 hashing', '前缀和']
---
# [USACO09OCT] Barn Echoes G
## 题目描述

The cows enjoy mooing at the barn because their moos echo back, although sometimes not completely. Bessie, ever the excellent

secretary, has been recording the exact wording of the moo as it goes out and returns. She is curious as to just how much overlap there is.

Given two lines of input (letters from the set a..z, total length in the range 1..80), each of which has the wording of a moo on it, determine the greatest number of characters of overlap between one string and the other. A string is an overlap between two other strings if it is a prefix of one string and a suffix of the other string.

By way of example, consider two moos:

```
moyooyoxyzooo
yzoooqyasdfljkamo
```
The last part of the first string overlaps 'yzooo' with the first part of the second string. The last part of the second string

overlaps 'mo' with the first part of the first string. The largest overlap is 'yzooo' whose length is 5.

POINTS: 50

奶牛们非常享受在牛栏中哞叫，因为她们可以听到她们哞声的回音。虽然有时候并不能完全听到完整的回音。Bessie 曾经是一个出色的秘书，所以她精确地纪录了所有的哞叫声及其回声。她很好奇到底两个声音的重复部份有多长。

输入两个字符串（长度为 $1$ 到 $80$ 个字母），表示两个哞叫声。你要确定最长的重复部份的长度。两个字符串的重复部份指的是同时是一个字符串的前缀和另一个字符串的后缀的字符串。

我们通过一个例子来理解题目。考虑下面的两个哞声：

```
moyooyoxyzooo
yzoooqyasdfljkamo
```

第一个串的最后的部份 `yzooo` 跟第二个串的第一部份重复。第二个串的最后的部份 `mo` 跟第一个串的第一部份重复。所以 `yzooo` 跟 `mo` 都是这 $2$ 个串的重复部份。其中，`yzooo` 比较长，所以最长的重复部份的长度就是 $5$。

## 输入格式

\* Lines 1..2: Each line has the text of a moo or its echo

## 输出格式

\* Line 1: A single line with a single integer that is the length of the longest overlap between the front of one string and end of the other.

## 样例

### 样例输入 #1
```
abcxxxxabcxabcd 
abcdxabcxxxxabcx 

```
### 样例输出 #1
```
11 

```
## 提示

'abcxxxxabcx' is a prefix of the first string and a suffix of the second string.



---

---
title: "[USACO09OCT] Papaya Jungle G"
layout: "post"
diff: 普及-
pid: P2958
tag: ['2009', 'USACO']
---
# [USACO09OCT] Papaya Jungle G
## 题目描述

Bessie has wandered off the farm into the adjoining farmer's land. He raises delicious papaya fruit, which is a delicacy for cows. The papaya jungle is partitioned into a grid of squares with R rows and C columns (1 <= R <= 40, 1 <= C <= 40), as is popular in Wisconsin. Bessie can travel from a given square to any existing adjacent square whose route is parallel to the X or Y axis.  So in the

following diagram, if Bessie is at the square labeled 'B', she can travel to any of the squares labeled 'T':

.T.
TBT
.T.
Bessie always starts out by munching the papayas in square

(row=1,col=1).  After she's done with one square, Bessie always uses her trusty binoculars to count the low-hanging fruit in each of the adjacent squares. She then always moves to the square with the most visible uneaten fruit (a square that happily is always unique).

Sooner or later, following this rule, Bessie always ends up in square (R,C) and eats the fruit there.

Given the dimensions of the papaya jungle and the amount of fruit F\_ij in each square (1 <= F\_ij <= 100), determine the total number of fruit Bessie consumes for a given papaya jungle.

POINTS: 80

Bessie不小心游荡出Farmer John的田地，而走进了相邻的农民的地里。她举起一个木瓜，木瓜对奶牛来说可是不可多得得美味。这个木瓜林像一般的威斯康星州的田地一样被分割成一个R行C列的网格(1 <= R <= 40, 1 <= C <= 40)。Bessie可以从一个格沿着一条跟X轴或Y轴平行的直线走到邻接的另一个格。Bessie发现一开始她自己在木瓜林的(1,1)，也就是第一行第一列慢悠悠地咀嚼着木瓜。

Bessie总是用她最信赖地双筒望远镜去数每一个邻接的格里挂着的木瓜的数目。然后她就游荡到那个有最多没有被吃掉的木瓜的邻接的格子（保证这样的格子只有一个）。

按照这种移动方法，最终Bessie总是会在(R,C)停止然后吃掉那里的木瓜。

给定这个木瓜林的大小及每个格的木瓜数F\_ij(1 <= F\_ij <= 100), 要求Bessie一共吃了多少个木瓜。

## 输入格式

\* Line 1: Two space-separated integers: R and C

\* Lines 2..R+1: Line i+1 describes row i of the jungle with C

space-separated integers that tell how many fruit are in each square: F\_i1, F\_i2, ..., F\_iC

## 输出格式

\* Line 1: A single integer that is the total number of papayas that Bessie eats by the time she finishes off the papayas at the barn in the lower right corner at coordinate (R,C).

## 样例

### 样例输入 #1
```
3 4 
3 3 4 5 
4 5 3 2 
1 7 4 2 

```
### 样例输出 #1
```
39 

```
## 提示

Three rows; four columns. Bessie starts in upper left corner at the '3'.


Bessie eats the papayas in the order given by the letters next to the numbers below:

(1,1) ---> (1,C) 

(1,1) 3a  3   4g  5h  (1,C) 

|   4b  5c  3f  2i    |

(R,1) 1   7d  4e  2j  (R,C) 

(R,1) ---> (R,C) 

She declines to eat 4 of the papayas but consumes 39 (visiting all but two squares of the grid). 




---

---
title: "[USACO09OCT] The Leisurely Stroll G"
layout: "post"
diff: 普及-
pid: P2959
tag: ['2009', 'USACO']
---
# [USACO09OCT] The Leisurely Stroll G
## 题目描述

Bessie looks out the barn door at the beautiful spring day and thinks to herself, 'I'd really like to enjoy my walk out to the pastures for the tender spring grass.' She knows that once she leaves the barn, she will traverse a path for a while, take one of two choices that lead to other paths, follow one of them, take one of two other choices, and continue on until the path leads to a verdant pasture.

She decides to make the set of path choices that enables her to walk over the greatest number of cow paths on her way to breakfast. Given the description of these paths, determine how many cow paths she traverses, presuming that she commences choosing various paths as soon as she leaves the barn.

The farm has P (1 <= P <= 1,000) pastures that are lead to by P-1 choice-nodes (range 1..P-1) connected by paths. From the barn (which is node 1), only one set of path traversals exists to reach any choice-node or pasture.

Consider this set of paths (lines), pastures ('%'), and the highlighted ('#') route to a pasture on the right:

```cpp

                 %                             %
                /                             /
      2----%   7----8----%          2----%   7####8----%
     / \      /      \             # #      #      #
    1   5----6        9----%      1   5####6        9----%
     \   \    \        \           \   \    \        #
      \   %    %        %           \   %    %        %
       \                             \
        3-----%                       3-----%
         \                             \
          4----%                        4----%
           \                             \
            %                             %
```
The pasture reached from choice-node 9 is one of two that enable Bessie to traverse seven different cowpaths on the way to breakfast. These are the 'furthest' pastures from node 1, the barn.

Three integers describe each node: Cn, D1, and D2. Cn is the

nodenumber (1 <= Cn <= P-1); D1 and D2 are the destinations from that node (0 <= D1 <= P-1; 0 <= D2 <= P-1). If D1 is 0, the node leads to a pasture in that direction; D2 has the same property.

POINTS: 100

Bessie透过牛棚的大门向外望去。发现今天是一个美丽的春季早晨。她想，“我真的好想好想沐浴着春风，走在草地之中，感受嫩草温柔地抚摸四蹄地的感觉。”她知道一旦她离开了牛棚，她将沿着一条小径走一段路，然后就会出现一个三岔路口，她必须在两条小径中选择一条继续走下去。然后她又会遇到更多的三岔路口，进行更多的选择，知道她到达一个青翠的牧场为止。

她决定作一个选择使得她在去吃早草的路途中可以走过最多的小径。给你这些小径的描述，求出Bessie最多可以走过多少条小径。假定Bessie一出牛棚就有2条路径，Bessie需要从中选择一条。

农场中有P-1 (1 <= P <= 1,000) 个分岔节点（范围是1..P），引向P片草地，它们之间由小径连接。对任意一个节点来说，只有一条从牛棚（被标记为节点1）开始的路径可以到达。

考虑下面的图。线段表示小径，"%"表示草地。右边的图中的"#"表示一条到达草地的高亮的路径。

从分岔节点9到达的草地是两个可以让Bessie走过最多小径的草地之一。在去吃早草的路上Bessie将走过7条不同的小径。这些草地是离牛棚也就是节点1最“远”的。

由3个整数来表示每一个节点：Cn, D1和D2，Cn是节点的编号(1 <= Cn <= P-1); D1和D2是由该节点引出的两条小径的终点(0 <= D1 <= P-1; 0 <= D2 <= P-1)。如果D1为0，表示这条小径引向的是一片牧草地；D2也一样。

## 输入格式

\* Line 1: A single integer: P

\* Lines 2..P: Line i+1 contains three space-separated integeres that describe a choice-node: Cn, D1, and D2

## 输出格式

\* Line 1: A single integer that is the largest number of paths Bessie can traverse on the way to the furthest pasture.

## 样例

### 样例输入 #1
```
10 
7 8 0 
5 0 6 
9 0 0 
6 0 7 
3 4 0 
2 5 0 
8 0 9 
4 0 0 
1 2 3 

```
### 样例输出 #1
```
7 

```
## 提示

This input describes the example farm layout in the task description.


1-2-5-6-7-8-9-P is one of the longest routes.



---

---
title: "[USACO09NOV] The Grand Farm-off S"
layout: "post"
diff: 普及-
pid: P2965
tag: ['2009', 'USACO']
---
# [USACO09NOV] The Grand Farm-off S
## 题目描述

Farmer John owns 3\*N (1 <= N <= 500,000) cows surprisingly numbered 0..3\*N-1, each of which has some associated integer weight W\_i (1 <= W\_i <= d). He is entering the Grand Farm-off, a farming competition where he shows off his cows to the greater agricultural community.

This competition allows him to enter a group of N cows. He has given each of his cows a utility rating U\_i (1 <= U\_i <= h), which

represents the usefulness he thinks that a particular cow will have in the competition, and he wants his selection of cows to have the maximal sum of utility.

There might be multiple sets of N cows that attain the maximum utility sum. FJ is afraid the competition may impose a total weight limit on the cows in the competition, so a secondary priority is to bring lighter weight competition cows.

Help FJ find a set of N cows with minimum possible total weight among the sets of N cows that maximize the utility, and print the remainder when this total weight is divided by M (10,000,000 <= M <= 1,000,000,000).

Note: to make the input phase faster, FJ has derived polynomials which will generate the weights and utility values for each cow. For each cow 0 <= i < 3\*N,

 $$W_i=(a\times i^5+b\times i^2+c)\mod d$$
 
 $$U_i=(e\times i^5+f\times i^3+g)\mod h$$
 
 $$(0\le a,b,c,d,e,f,g,h\le 10^9)$$

The formulae do sometimes generate duplicate numbers; your algorithm should handle this properly. 

农夫约翰有3N(1 < N < 500000)头牛，编号依次为1..#N，每头牛都有一个整数值的体 重。约翰准备参加农场技艺大赛，向广大的农业社区展示他的奶牛.
大赛规则允许约翰带N头牛参赛.约翰给每头牛赋予了一个“有用度”Ui，它表 示了某头牛在比赛中的有用程度.约翰希望他选出的奶牛的有用度之和最大.

有可能选出很多组的N头牛都能达到有用度最大和.约翰害怕选出的N头牛的总重量会给大赛 带来震撼，所以，要考虑优先选择体重轻的奶牛.

帮助约翰选出N头总重量最轻，并且有用度之和最大的奶牛.输出体重模M后的余数.

注意：为了使输入更快，约翰使用了一个多项式来生成每头牛的体重和有用度.对每头牛/， 体重和有用度的计算公式为：



 $$W_i=(a\times i^5+b\times i^2+c)\mod d$$
 
 $$U_i=(e\times i^5+f\times i^3+g)\mod h$$
 
 $$(0\le a,b,c,d,e,f,g,h\le 10^9)$$
## 输入格式

\* Line 1: Ten space-separated integers: N, a, b, c, d, e, f, g, h, and M

## 输出格式

\* Line 1: A single integer representing the lowest sum of the weights of the N cows with the highest net utility.

## 样例

### 样例输入 #1
```
2 0 1 5 55555555 0 1 0 55555555 55555555 

```
### 样例输出 #1
```
51 

```
## 提示

The functions generate weights of 5, 6, 9, 14, 21, and 30 along with utilities of 0, 1, 8, 27, 64, and 125.


The two cows with the highest utility are cow 5 and 6, and their combined weight is 21+30=51.



---

---
title: "[USACO09DEC] Music Notes S"
layout: "post"
diff: 普及-
pid: P2969
tag: ['2009', 'USACO', '排序', '前缀和']
---
# [USACO09DEC] Music Notes S
## 题目描述

FJ is going to teach his cows how to play a song. The song consists of N (1 <= N <= 50,000) notes, and the i-th note lasts for B\_i (1 <= B\_i <= 10,000) beats (thus no song is longer than 500,000,000 beats). The cows will begin playing the song at time 0; thus, they will play note 1 from time 0 through just before time B\_1, note 2 from time B\_1 through just before time B\_1 + B\_2, etc.

However, recently the cows have lost interest in the song, as they feel that it is too long and boring. Thus, to make sure his cows are paying attention, he asks them Q (1 <= Q <= 50,000) questions of the form, 'In the interval from time T through just before time T+1, which note should you be playing?' The cows need your help to answer these questions which are supplied as T\_i (0 <= T\_i <=

end\_of\_song). 

Consider this song with three notes of durations 2, 1, and 3 beats:

```cpp
Beat:   0    1    2    3    4    5    6    ...
        |----|----|----|----|----|----|--- ...
        1111111111     :              :
                  22222:              :
                       333333333333333:
``` 
Here is a set of five queries along with the resulting answer:

Query    Note

2        2

3        3

4        3

0        1

1        1

## 输入格式

\* Line 1: Two space-separated integers: N and Q

\* Lines 2..N+1: Line i+1 contains the single integer: B\_i

\* Lines N+2..N+Q+1: Line N+i+1 contains a single integer: T\_i

## 输出格式

\* Lines 1..Q: For each query, print a single integer that is the index of the note that the cows should be playing.

## 样例

### 样例输入 #1
```
3 5 
2 
1 
3 
2 
3 
4 
0 
1 

```
### 样例输出 #1
```
2 
3 
3 
1 
1 

```
## 题目翻译

约翰准备教他的奶牛们弹一首歌。这首歌由 $N$ 个音阶组成，第 $i$ 个音阶要敲击 $B_i$ 次。奶牛从第 $0$ 时刻开始弹，因此他从 $0$ 时刻到 $B_i-1$ 时刻都是敲第 $1$ 个音阶，然后他从 $B_1$ 时刻到 $B_1+B_2-1$ 时刻敲第 $2$ 个音阶，从 $B_1+B_2$ 到 $B_1+B_2+B_3-1$ 时刻敲第 $3$ 个音阶……现在有 $Q$ 个问题：在时间段区间 $T$，$T+1$ 内，奶牛敲的是哪个音阶?

$1\le N\le 50000$，$1\le Q\le 50000$，$1\le B_i\le 10000$。


---

---
title: "[USACO09DEC] Selfish Grazing S"
layout: "post"
diff: 普及-
pid: P2970
tag: ['贪心', '2009', 'USACO', '排序']
---
# [USACO09DEC] Selfish Grazing S
## 题目描述

Each of Farmer John's N (1 <= N <= 50,000) cows likes to graze in a certain part of the pasture, which can be thought of as a large one-dimeensional number line. Cow i's favorite grazing range starts at location S\_i and ends at location E\_i (1 <= S\_i < E\_i; S\_i < E\_i <= 100,000,000).

Most folks know the cows are quite selfish; no cow wants to share any of its grazing area with another. Thus, two cows i and j can only graze at the same time if either S\_i >= E\_j or E\_i <= S\_j. FJ would like to know the maximum number of cows that can graze at the same time for a given set of cows and their preferences.

Consider a set of 5 cows with ranges shown below:

```cpp
  ... 1    2    3    4    5    6    7    8    9   10   11   12   13 ...
  ... |----|----|----|----|----|----|----|----|----|----|----|----|----
Cow 1:      <===:===>          :              :              :
Cow 2: <========:==============:==============:=============>:
Cow 3:          :     <====>   :              :              :
Cow 4:          :              :     <========:===>          :
Cow 5:          :              :     <==>     :              :
```
These ranges represent (2, 4), (1, 12), (4, 5), (7, 10), and (7, 8), respectively.

For a solution, the first, third, and fourth (or fifth) cows can all graze at the same time. If the second cow grazed, no other cows could graze. Also, the fourth and fifth cows cannot graze together, so it is impossible for four or more cows to graze.

约翰有N(1≤N≤50000)头牛，约翰的草地可以认为是一条直线．每只牛只喜欢在某个特定的范围内吃草．第i头牛喜欢在区间(Si，Ei)吃草，1≤Si<Ei≤1,000,000,00.

奶牛们都很自私，他们不喜欢和其他奶牛共享自己喜欢吃草的领域，因此约翰要保证任意

两头牛都不会共享他们喜欢吃草昀领域．如果奶牛i和奶牛J想要同时吃草，那么要满足：Si>=Ej或者Ei≤Sj．约翰想知道在同一时刻，最多可以有多少头奶牛同时吃草？

## 输入格式

\* Line 1: A  single integer: N

\* Lines 2..N+1: Line i+1 contains the two space-separated integers: S\_i and E\_i

## 输出格式

\* Line 1: A single integer representing the maximum number of cows that can graze at once.

## 样例

### 样例输入 #1
```
5 
2 4 
1 12 
4 5 
7 10 
7 8 

```
### 样例输出 #1
```
3 

```


---

---
title: "[USACO10JAN] Tea Time S"
layout: "post"
diff: 普及-
pid: P2978
tag: ['2010', 'USACO']
---
# [USACO10JAN] Tea Time S
## 题目描述

N (1 <= N <= 1000) cows, conveniently numbered 1..N all attend a tea time every day. M (1 <= M <= 2,000) unique pairs of those cows have already met before the first tea time. Pair i of these cows who have met is specified by two differing integers A\_i and B\_i (1 <= A\_i <= N; 1 <= B\_i <= N). The input never indicates that cows have met each other more than once.

At tea time, any cow i and cow j who have met a mutual friend cow k will meet sometime during that tea time and thus expand their circle of known cows.

Determine whether Q (1 <= Q <= 100) pairs of cows have met after tea times are held for long enough that no new cow meetings are occurring. Query j consists of a pair of different cows X\_j and Y\_j (1 <= X\_j <= N; 1 <= Y\_j <= N).

For example, suppose that out of cows 1 through 5, we know that 2 has met 5, 2 has met 3, and 4 has met 5; see (a) below.

```cpp
   2---3           2---3            2---3
    \              |\  |            |\ /|
1    \     -->  1  | \ |    -->  1  | X |
      \            |  \|            |/ \|
   4---5           4---5            4---5
    (a)             (b)              (c)
```
In the first tea time, cow 2 meets cow 4, and cow 3 meets cow 5; see (b) above. In the second tea time, cow 3 meets cow 4; see (c) above.


N(1 <= N <= 1000)头奶牛，编号为1..N，在参加一个喝茶时间活动。在喝茶时间活动开始之前，已经有M(1 <= M <= 2,000)对奶牛彼此认识（是朋友）。第i对彼此认识的奶牛通过两个不相同的整数Ai和Bi给定(1<= Ai <= N; 1 <= Bi <= N)。输入数据保证一对奶牛不会出现多次。 在喝茶时间活动中，如果奶牛i和奶牛j有一个相同的朋友奶牛k，那么他们会在某次的喝茶活动中去认识对方（成为朋友），从而扩大他们的社交圈。 请判断，在喝茶活动举办很久以后（直到没有新的奶牛彼此认识），Q(1 <= Q <= 100)对奶牛是否已经彼此认识。询问j包含一对不同的奶牛编号Xj和Yj(1 <= Xj <= N; 1 <= Yj <= N)。 例如，假设共有1..5头奶牛，我们知道2号认识5号，2号认识3号，而且4号认识5号；如下图(a)。

```cpp
   2---3           2---3            2---3
    \              |\  |            |\ /|
1    \     -->  1  | \ |    -->  1  | X |
      \            |  \|            |/ \|
   4---5           4---5            4---5
    (a)             (b)              (c)
```
在某次的喝茶活动中，2号认识4号，3号认识5号；如上图(b)所示。接下来的喝茶活动中，3号认识4号，如上图(c)所示。

## 输入格式

\* Line 1: Three space-separated integers: N, M, and Q

\* Lines 2..M+1: Line i+1 contains two space-separated integers: A\_i and B\_i

\* Lines M+2..M+Q+1: Line j+M+1 contains query j as two space-separated integers: X\_j and Y\_j


行1：三个空格隔开的整数：N，M，和Q


行2..M+1：第i+1行包含两个空格隔开的整数Ai和Bi


行M+2..M+Q+1：第j+M+1行包含两个空格隔开的整数Xj和Yj，表示询问j

## 输出格式

\* Lines 1..Q: Line j should be 'Y' if the cows in the jth query have met and 'N' if they have not met.

行1..Q：如果第j个询问的两头奶牛认识， 第j行输出“Y”。如果不认识，第j行输出“N”

## 样例

### 样例输入 #1
```
5 3 3 
2 5 
2 3 
4 5 
2 3 
3 5 
1 5 

```
### 样例输出 #1
```
Y 
Y 
N 

```
## 提示

感谢@蒟蒻orz神犇 提供翻译。



---

---
title: "[USACO11JAN] Profits S"
layout: "post"
diff: 普及-
pid: P3009
tag: ['动态规划 DP', '2011', 'USACO']
---
# [USACO11JAN] Profits S
## 题目描述

The cows have opened a new business, and Farmer John wants to see how well they are doing. The business has been running for N (1 <= N <= 100,000) days, and every day i the cows recorded their net profit P\_i (-1,000 <= P\_i <= 1,000).

Farmer John wants to find the largest total profit that the cows have made during any consecutive time period. (Note that a consecutive time period can range in length from one day through N days.) Help him by writing a program to calculate the largest sum of consecutive profits.


奶牛们开始了新的生意，它们的主人约翰想知道它们到底能做得多好。这笔生意已经做了N（1≤N≤100,000）天，每天奶牛们都会记录下这一天的利润Pi（-1,000≤Pi≤1,000）。


约翰想要找到奶牛们在连续的时间期间所获得的最大的总利润。（注：连续时间的周期长度范围从第一天到第N天）。


请你写一个计算最大利润的程序来帮助他。

## 输入格式

\* Line 1: A single integer: N

\* Lines 2..N+1: Line i+1 contains a single integer: P\_i

## 输出格式

\* Line 1: A single integer representing the value of the maximum sum of profits for any consecutive time period.

## 样例

### 样例输入 #1
```
7 
-3 
4 
9 
-2 
-5 
8 
-3 

```
### 样例输出 #1
```
14 

```
## 提示

The maximum sum is obtained by taking the sum from the second through the sixth number (4, 9, -2, -5, 8) => 14.

感谢@smartzzh 提供的翻译。



---

---
title: "[USACO12NOV] Clumsy Cows S"
layout: "post"
diff: 普及-
pid: P3056
tag: ['模拟', '贪心', '2012', 'USACO', '前缀和', '栈']
---
# [USACO12NOV] Clumsy Cows S
## 题目描述

Bessie the cow is trying to type a balanced string of parentheses into her new laptop, but she is sufficiently clumsy (due to her large hooves) that she keeps mis-typing characters.  Please help her by computing the minimum number of characters in the string that one must reverse (e.g., changing a left parenthesis to a right parenthesis, or vice versa) so that the string would become balanced.

There are several ways to define what it means for a string of parentheses to be "balanced".  Perhaps the simplest definition is that there must be the same total number of ('s and )'s, and for any prefix of the string, there must be at least as many ('s as )'s.  For example, the following strings are all balanced:

() 
(()) 
()(()()) 

while these are not:

)( 
())( 
((()))) 

给出一个偶数长度的括号序列，问最少修改多少个括号可以使其平衡。

## 输入格式

\* Line 1: A string of parentheses of even length at most 100,000 characters.

## 输出格式

\* Line 1: A single integer giving the minimum number of parentheses that must be toggled to convert the string into a balanced string.

## 样例

### 样例输入 #1
```
())( 

```
### 样例输出 #1
```
2 

```
## 提示

The last parenthesis must be toggled, and so must one of the two middle right parentheses.




---

---
title: "[USACO16JAN] Subsequences Summing to Sevens S"
layout: "post"
diff: 普及-
pid: P3131
tag: ['2016', 'USACO', '前缀和']
---
# [USACO16JAN] Subsequences Summing to Sevens S
## 题目描述

Farmer John's $N$ cows are standing in a row, as they have a tendency to do from time to time.  Each cow is labeled with a distinct integer ID number so FJ can tell them apart. FJ would like to take a photo of a contiguous group of cows but, due to a traumatic  childhood incident involving the numbers $1 \ldots 6$, he only wants to take a picture of a group of cows if their IDs add up to a multiple of 7.

Please help FJ determine the size of the largest group he can photograph.
## 输入格式

The first line of input contains $N$ ($1 \leq N \leq 50,000$).  The next $N$ lines each contain the $N$ integer IDs of the cows (all are in the range $0 \ldots 1,000,000$).

## 输出格式

Please output the number of cows in the largest consecutive group whose IDs sum to a multiple of 7. If no such group exists, output 0.
## 样例

### 样例输入 #1
```
7
3
5
1
6
2
14
10
```
### 样例输出 #1
```
5
```
## 提示

In this example, $5+1+6+2+14 = 28$.
## 题目翻译

### 题目描述

Farmer John 的 $N$ 头奶牛站成一排，这是它们时不时会做的事情。每头奶牛都有一个独特的整数 ID 编号，以便 Farmer John 能够区分它们。Farmer John 希望为一组连续的奶牛拍照，但由于童年时与数字 $1 \ldots 6$ 相关的创伤事件，他只希望拍摄一组奶牛，如果它们的 ID 加起来是 7 的倍数。

请帮助 Farmer John 确定他可以拍摄的最大奶牛组的大小。

### 输入格式

输入的第一行包含 $N$（$1 \leq N \leq 50,000$）。接下来的 $N$ 行每行包含一头奶牛的整数 ID（所有 ID 都在 $0 \ldots 1,000,000$ 范围内）。

### 输出格式

请输出 ID 之和为 7 的倍数的最大连续奶牛组中的奶牛数量。如果不存在这样的组，则输出 0。

### 说明/提示

在这个例子中，$5+1+6+2+14 = 28$。


---

---
title: "[USACO16DEC] Counting Haybales S"
layout: "post"
diff: 普及-
pid: P3184
tag: ['2016', '二分', 'USACO', '排序']
---
# [USACO16DEC] Counting Haybales S
## 题目描述

Farmer John has just arranged his $N$ haybales ($1 \leq N \leq 100,000$) at various points along the one-dimensional road running across his farm.  To make sure they are spaced out appropriately, please help him answer $Q$ queries ($1 \leq Q \leq 100,000$), each asking for the number of haybales within a specific interval along the road.
## 输入格式

The first line contains $N$ and $Q$.

The next line contains $N$ distinct integers, each in the range $0 \ldots 1,000,000,000$, indicating that there is a haybale at each of those locations.

Each of the next $Q$ lines contains two integers $A$ and $B$($0 \leq A \leq B \leq 1,000,000,000$) giving a query for the number of haybales between $A$ and $B$, inclusive.
## 输出格式

You should write $Q$ lines of output.  For each query, output the number of haybales in its respective interval.
## 样例

### 样例输入 #1
```
4 6
3 2 7 5
2 3
2 4
2 5
2 7
4 6
8 10
```
### 样例输出 #1
```
2
2
3
4
1
0
```
## 题目翻译

### 题目描述

Farmer John 刚刚将他的 $N$ 个干草捆（$1 \leq N \leq 100,000$）安排在他农场的一维道路上的各个位置。为了确保它们之间的间距合适，请帮助他回答 $Q$ 个查询（$1 \leq Q \leq 100,000$），每个查询询问在道路的特定区间内有多少个干草捆。

### 输入格式

第一行包含 $N$ 和 $Q$。

第二行包含 $N$ 个不同的整数，每个整数的范围在 $0 \ldots 1,000,000,000$ 之间，表示每个位置上有一个干草捆。

接下来的 $Q$ 行每行包含两个整数 $A$ 和 $B$（$0 \leq A \leq B \leq 1,000,000,000$），表示一个查询，询问在 $A$ 到 $B$（包括 $A$ 和 $B$）的区间内有多少个干草捆。

### 输出格式

你需要输出 $Q$ 行。对于每个查询，输出其对应区间内的干草捆数量。


---

---
title: "[USACO16DEC] Cities and States S"
layout: "post"
diff: 普及-
pid: P3405
tag: ['字符串', '2016', 'USACO']
---
# [USACO16DEC] Cities and States S
## 题目描述

Farmer John 有若干头奶牛。为了训练奶牛们的智力，Farmer John 在谷仓的墙上放了一张美国地图。地图上表明了每个城市及其所在州的代码（前两位大写字母）。

由于奶牛在谷仓里花了很多时间看这张地图，他们开始注意到一些奇怪的关系。例如，FLINT 的前两个字母就是 MIAMI 所在的 `FL` 州，MIAMI 的前两个字母则是 FLINT 所在的 `MI` 州。  
确切地说，对于两个城市，它们的前两个字母互为对方所在州的名称。

我们称两个城市是一个一对「特殊」的城市，如果他们具有上面的特性，并且来自不同的州。对于总共 $N$ 座城市，奶牛想知道有多少对「特殊」的城市存在。请帮助他们解决这个有趣的地理难题！  
## 输入格式

输入共 $N + 1$ 行。

第一行一个正整数 $N$，表示地图上的城市的个数。  
接下来 $N$ 行，每行两个字符串，分别表示一个城市的名称（$2 \sim 10$ 个大写字母）和所在州的代码（$2$ 个大写字母）。同一个州内不会有两个同名的城市。
## 输出格式

输出共一行一个整数，代表特殊的城市对数。
## 样例

### 样例输入 #1
```
6
MIAMI FL
DALLAS TX
FLINT MI
CLEMSON SC
BOSTON MA
ORLANDO FL
```
### 样例输出 #1
```
1
```
## 提示

### 数据规模与约定

对于 $100\%$ 的数据，$1 \leq N \leq 2 \times 10 ^ 5$，城市名称长度不超过 $10$。


---

---
title: "[USACO17JAN] Secret Cow Code S"
layout: "post"
diff: 普及-
pid: P3612
tag: ['字符串', '2017', 'USACO', '递归', '分治', '栈']
---
# [USACO17JAN] Secret Cow Code S
## 题目描述

The cows are experimenting with secret codes, and have devised a method for creating an infinite-length string to be used as part of one of their codes.

Given a string $s$, let $F(s)$ be $s$ followed by $s$ "rotated" one character to the right (in a right rotation, the last character of $s$ rotates around and becomes the new first character). Given an initial string $s$, the cows build their infinite-length code string by repeatedly applying $F$; each step therefore doubles the length of the current string.


Given the initial string and an index $N$, please help the cows compute the character at the $N$th position within the infinite code string.


## 输入格式

The input consists of a single line containing a string followed by $N$. The string consists of at most 30 uppercase characters, and $N \leq 10^{18}$.

Note that $N$ may be too large to fit into a standard 32-bit integer, so you may want to use a 64-bit integer type (e.g., a "long long" in C/C++).


## 输出格式

Please output the $N$th character of the infinite code built from the initial string. The first character is $N=1$.



## 样例

### 样例输入 #1
```
COW 8
```
### 样例输出 #1
```
C
```
## 提示

In this example, the initial string COW expands as follows:


COW -> COWWCO -> COWWCOOCOWWC

12345678



## 题目翻译

### 题目描述

奶牛们正在实验秘密代码，并设计了一种方法用于生成无限长度的字符串，作为他们代码的一部分。

给定一个字符串 $s$，令 $F(s)$ 为 $s$ 后接 $s$ 向右“旋转”一个字符的结果（在右旋转中，$s$ 的最后一个字符旋转并成为新的第一个字符）。给定初始字符串 $s$，奶牛们通过重复应用 $F$ 来构建他们的无限长度代码字符串；因此每一步都会使当前字符串的长度翻倍。

给定初始字符串和一个索引 $N$，请帮助奶牛计算无限代码字符串中第 $N$ 个位置的字符。

### 输入格式

输入由一行组成，包含一个字符串和 $N$。字符串最多由 30 个大写字母组成，且 $N \leq 10^{18}$。

请注意，$N$ 可能太大，无法放入标准的 32 位整数中，因此你可能需要使用 64 位整数类型（例如，C/C++ 中的 "long long"）。

### 输出格式

请输出从初始字符串构建的无限代码字符串的第 $N$ 个字符。第一个字符的位置为 $N=1$。

### 提示

在这个例子中，初始字符串 COW 按以下方式扩展：

COW -> COWWCO -> COWWCOOCOWWC


---

---
title: "[USACO1.3] 滑雪课程设计Ski Course Design"
layout: "post"
diff: 普及-
pid: P3650
tag: ['模拟', '搜索', '贪心', 'USACO', '枚举']
---
# [USACO1.3] 滑雪课程设计Ski Course Design
## 题目描述

农民约翰的农场里有 $n$ 座山峰，每座山都有一个在 $0$ 到 $100$ 之间的整数的海拔高度。在冬天,因为山上有丰富的积雪，约翰经常开办滑雪训练营。

不幸的是，约翰刚刚得知税法在滑雪训练营方面有新变化，明年开始实施。在仔细阅读法律后，他发现如果滑雪训练营的最高和最低的山峰海拔高度差大于 $17$ 就要收税。因此，如果他改变山峰的高度（使最高与最低的山峰海拔高度差不超过 $17$ ），约翰可以避免支付税收。

如果改变一座山 $x$ 单位的高度成本是 $x^2$ 单位，约翰最少需要付多少钱才能使海拔最高的山峰与海拔最低的山峰的高度之差不超过 $17$ 约翰只愿意改变整数单位的高度。
## 输入格式

输入的第一行是一个整数，代表山峰的数量 $n$。

第 $2$ 行到$(n + 1)$ 行，每行一个整数。第 $i$ 行的整数 $a_i$ 代表第 $i$ 座山的海拔高度。

## 输出格式

输出一行一个整数，代表约翰需要支付修改山海拔高度的总金额。
## 样例

### 样例输入 #1
```
5
20
4
1
24
21
```
### 样例输出 #1
```
18
```
## 提示

#### 样例输入输出 1 解释

约翰保持高度为 $4$、$20$ 和 $21$ 的山的高度。他增高高度为 $1$ 的山，变成高度 $4$ ，花费 $3^2 = 9$。他降低了高度为 $24$ 的山变成高度 $21$，也花费 $3 ^ 2 = 9$。因此总共花费 $9 + 9 = 18$。

---

#### 数据规模与约定

对于 $100\%$ 的数据，$1 \le n \le 1000$，$0 \leq a_i \leq 100$。


---

---
title: "[USACO17OPEN] Paired Up S"
layout: "post"
diff: 普及-
pid: P3669
tag: ['贪心', '2017', 'USACO', '排序']
---
# [USACO17OPEN] Paired Up S
## 题目描述

Farmer John finds that his cows are each easier to milk when they have another cow nearby for moral support. He therefore wants to take his $M$ cows ($M \leq 1,000,000,000$, $M$ even) and partition them into $M/2$ pairs. Each pair of cows will then be ushered off to a separate stall in the barn for milking. The milking in each of these $M/2$ stalls will take place simultaneously.


To make matters a bit complicated, each of Farmer John's cows has a different milk output. If cows of milk outputs $A$ and $B$ are paired up, then it takes a total of $A+B$ units of time to milk them both.


Please help Farmer John determine the minimum possible amount of time the entire milking process will take to complete, assuming he pairs the cows up in the best possible way.
## 输入格式

The first line of input contains $N$ ($1 \leq N \leq 100,000$).

Each of the next $N$ lines contains two integers $x$ and $y$, indicating that FJ has $x$ cows each with milk output $y$ ($1 \leq y \leq 1,000,000,000$). The sum of the $x$'s is $M$, the total number of cows.
## 输出格式

Print out the minimum amount of time it takes FJ's cows to be milked, assuming they are optimally paired up.
## 样例

### 样例输入 #1
```
3
1 8
2 5
1 2
```
### 样例输出 #1
```
10
```
## 提示

Here, if the cows with outputs 8+2 are paired up, and those with outputs 5+5 are paired up, the both stalls take 10 units of time for milking. Since milking takes place simultaneously, the entire process would therefore complete after 10 units of time. Any other pairing would be sub-optimal, resulting in a stall taking more than 10 units of time to milk.
## 题目翻译

### 题目描述

Farmer John 发现，当他的奶牛附近有另一头奶牛提供精神支持时，每头奶牛挤奶会更容易。因此，他希望将他的 $M$ 头奶牛（$M \leq 1,000,000,000$，$M$ 为偶数）分成 $M/2$ 对。每对奶牛将被引导到谷仓中一个单独的隔间进行挤奶。这些 $M/2$ 个隔间中的挤奶过程将同时进行。

为了增加一些复杂性，Farmer John 的每头奶牛都有不同的产奶量。如果产奶量分别为 $A$ 和 $B$ 的两头奶牛被配对，那么挤完它们总共需要 $A+B$ 单位时间。

请帮助 Farmer John 确定整个挤奶过程完成所需的最少时间，假设他以最佳方式配对奶牛。

### 输入格式

输入的第一行包含 $N$（$1 \leq N \leq 100,000$）。

接下来的 $N$ 行每行包含两个整数 $x$ 和 $y$，表示 Farmer John 有 $x$ 头产奶量为 $y$ 的奶牛（$1 \leq y \leq 1,000,000,000$）。所有 $x$ 的总和为 $M$，即奶牛的总数。

### 输出格式

输出 Farmer John 的奶牛挤奶所需的最少时间，假设它们以最佳方式配对。

### 说明/提示

在这里，如果产奶量为 8 和 2 的奶牛配对，产奶量为 5 和 5 的奶牛配对，那么两个隔间的挤奶时间均为 10 单位时间。由于挤奶是同时进行的，因此整个挤奶过程将在 10 单位时间后完成。任何其他配对方式都会导致某个隔间的挤奶时间超过 10 单位时间，因此不是最优的。


---

---
title: "[USACO17DEC] Blocked Billboard B"
layout: "post"
diff: 普及-
pid: P4122
tag: ['数学', '2017', 'USACO', '离散化']
---
# [USACO17DEC] Blocked Billboard B
## 题目描述

During long milking sessions, Bessie the cow likes to stare out the window of her barn at two huge rectangular billboards across the street advertising "Farmer Alex's Amazingly Appetizing Alfalfa" and "Farmer Greg's Great Grain". Pictures of these two cow feed products on the billboards look much tastier to Bessie than the grass from her farm.

One day, as Bessie is staring out the window, she is alarmed to see a huge rectangular truck parking across the street. The side of the truck has an advertisement for "Farmer Smith's Superb Steaks", which Bessie doesn't quite understand, but she is mostly concerned about the truck potentially blocking the view of her two favorite billboards.

Given the locations of the two billboards and the location of the truck, please calculate the total combined area of both billboards that is still visible. It is possible that the truck obscures neither, both, or only one of the billboards.

## 输入格式

The first line of input contains four space-separated integers: $x_1,y_1,x_2 y_2$, where $(x_1,y_1)$ and $(x_2,y_2)$ are the coordinates of the lower-left and upper-right corners of the first billboard in Bessie's 2D field of view. The next line contains four more integers, similarly specifying the lower-left and upper-right corners of the second billboard. The third and final line of input contains four integers specifying the lower-left and upper-right corners of the truck. All coordinates are in the range $-1000$ to $+1000$. The two billboards are guaranteed not to have any positive area of overlap between themselves.
## 输出格式

Please output the total combined area of both billboards that remains visible.
## 样例

### 样例输入 #1
```
1 2 3 5
6 0 10 4
2 1 8 3
```
### 样例输出 #1
```
17
```
## 提示

Here, 5 units of area from the first billboard and 12 units of area from the second billboard remain visible.

Problem credits: Brian Dean
## 题目翻译

### 题目描述

在漫长的挤奶过程中，奶牛 Bessie 喜欢透过谷仓的窗户盯着街对面的两块巨大的矩形广告牌，上面分别写着“Farmer Alex 的美味苜蓿”和“Farmer Greg 的优质谷物”。广告牌上这两种奶牛饲料的图片对 Bessie 来说比她农场里的草看起来美味得多。

有一天，当 Bessie 正盯着窗外时，她惊讶地看到一辆巨大的矩形卡车停在街对面。卡车的侧面有一则广告，写着“Farmer Smith 的顶级牛排”，Bessie 不太理解这则广告，但她更担心的是卡车可能会挡住她最喜欢的两块广告牌的视线。

给定两块广告牌和卡车的位置，请计算两块广告牌仍然可见的总面积。卡车可能遮挡了其中一块、两块，或者没有遮挡任何一块广告牌。

### 输入格式

输入的第一行包含四个用空格分隔的整数：$x_1,y_1,x_2 y_2$，其中 $(x_1,y_1)$ 和 $(x_2,y_2)$ 是 Bessie 的二维视野中第一块广告牌的左下角和右上角坐标。第二行包含四个整数，以相同的方式指定第二块广告牌的左下角和右上角坐标。第三行也是最后一行输入包含四个整数，指定卡车的左下角和右上角坐标。所有坐标都在 $-1000$ 到 $+1000$ 的范围内。保证两块广告牌之间没有任何重叠的正面积区域。

### 输出格式

请输出两块广告牌仍然可见的总面积。

### 说明/提示

在这个例子中，第一块广告牌有 $5$ 单位面积可见，第二块广告牌有 $12$ 单位面积可见。

题目来源：Brian Dean


---

---
title: "[USACO18OPEN] Lemonade Line S"
layout: "post"
diff: 普及-
pid: P4379
tag: ['贪心', '2018', 'USACO', '排序']
---
# [USACO18OPEN] Lemonade Line S
## 题目描述

这是农场上一个炎热的夏日，Farmer John 要给他的 $N$ 头奶牛发柠檬汽水了！所有的 $N$ 头奶牛（编号为 $1 \dots N$）都喜欢柠檬汽水，只是有些喜欢的程度更高一些。具体来说，奶牛 $i$ 为了获得柠檬汽水，最多愿意排在 $w_i$ 头奶牛之后。现在所有的 $N$ 头奶牛都在田里，但只要 Farmer John 敲响牛铃，这些奶牛就会立刻赶到柠檬汽水站。她们会在 Farmer John 开始分发柠檬汽水之前到达，但没有两头奶牛会在同一时刻到达。此外，当奶牛 $i$ 到达时，当且仅当队伍中至多有 $w_i$ 头奶牛时，她才会加入队伍。

Farmer John 想要提前准备一定量的柠檬汽水，但他不想浪费。排队的奶牛数量可能取决于她们的到达顺序。请帮助他求出在所有可能的到达顺序下，最小的可能排队奶牛数量。

## 输入格式

第一行包含 $N$，第二行包含 $N$ 个用空格分隔的整数 $w_1, w_2, \dots, w_N$。输入保证 $1 \leq N \leq 10^5$，此外对于每头奶牛 $i$，$0 \leq w_i \leq 10^9$。
## 输出格式

输出在所有可能的奶牛到达顺序下，最小的可能排队奶牛数量。
## 样例

### 样例输入 #1
```
5
7 1 400 2 2
```
### 样例输出 #1
```
3

```
## 提示

在这个情况下，可能最后仅有三头奶牛在队伍中（这也是最小可能值）。假设 $w = 7$ 和 $w = 400$ 的奶牛先到并等在队伍中。然后 $w = 1$ 的奶牛到达并且会离开，因为已经有 $2$ 头奶牛在队伍中了。接着 $w = 2$ 的两头奶牛到达，一头留下排队，另一头离开。

供题：Dhruv Rohatgi


---

---
title: "[USACO18DEC] Mixing Milk B"
layout: "post"
diff: 普及-
pid: P5116
tag: ['模拟', '2018', 'USACO']
---
# [USACO18DEC] Mixing Milk B
## 题目描述

农业，尤其是生产牛奶，是一个竞争激烈的行业。Farmer John 发现如果他不在牛奶生产工艺上有所创新，他的乳制品生意可能就会受到重创！

幸运的是，Farmer John 想出了一个好主意。他的三头获奖的乳牛，Bessie、Elsie 和 Mildred，各自产奶的口味有些许不同，他打算混合这三种牛奶调制出完美的口味。

为了混合这三种不同的牛奶，他拿来三个桶，其中分别装有三头奶牛所产的奶。这些桶可能有不同的容积，也可能并没有完全装满。然后他将桶 $1$ 的牛奶倒入桶 $2$，然后将桶 $2$ 中的牛奶倒入桶 $3$，然后将桶 $3$ 中的牛奶倒入桶 $1$，然后再将桶 $1$ 的牛奶倒入桶 $2$，如此周期性地操作，共计进行 $100$ 次（所以第 $100$ 次操作会是桶 $1$ 倒入桶 $2$）。当 Farmer John 将桶 $a$ 中的牛奶倒入桶 $b$ 时，他会倒出尽可能多的牛奶，直到桶 $a$ 被倒空或是桶 $b$ 被倒满。

请告诉 Farmer John 当他倒了 $100$ 次之后每个桶里将会有多少牛奶。


## 输入格式

输入文件的第一行包含两个空格分隔的整数：第一个桶的容积 $c_1$，以及第一个桶里的牛奶量 $m_1$。$c_1$ 和 $m_1$ 均为正，并且不超过 $10^9$。第二和第三行类似地包含第二和第三个桶地容积和牛奶量。
## 输出格式

输出三行，给出倒了 $100$ 次之后每个桶里的牛奶量。
## 样例

### 样例输入 #1
```
10 3
11 4
12 5
```
### 样例输出 #1
```
0
10
2
```
## 提示

在这个例子中，每倒一次之后每个桶里的牛奶量如下：

0. 初始状态：3  4  5
1. 桶 1->2：0  7  5
2. 桶 2->3：0  0  12
3. 桶 3->1：10 0  2
4. 桶 1->2：0  10 2
5. 桶 2->3：0  0  12

（之后最后三个状态循环出现……）


---

---
title: "[USACO18DEC] The Bucket List B"
layout: "post"
diff: 普及-
pid: P5117
tag: ['模拟', '2018', 'USACO', '差分']
---
# [USACO18DEC] The Bucket List B
## 题目描述

Farmer John 正在考虑改变他给奶牛挤奶的时候分配牛奶桶的方式。他认为这最终能使得他使用数量更少的桶，然而他不清楚具体是多少。请帮助他！

Farmer John 有 $N$ 头奶牛（$1\le N\le 100$），方便起见编号为 $1\dots N$。 第 $i$ 头奶牛需要从时间 $s_i$ 到时间 $t_i$ 之间挤奶，并且挤奶过程中需要用到 $b_i$ 个桶。于是多头奶牛可能在同一时刻都在挤奶；如果这样，他们不能使用相同的桶。也就是说，一个在第 $i$ 头奶牛挤奶时用的桶不可以被任何在时间 $s_i$ 到时间 $t_i$ 之间挤奶的其他奶牛使用。当然，这个桶在这段时间之外可以被其他奶牛所使用。为了简化他的工作，FJ 保证在任一时刻，至多只有一头奶牛开始或是结束挤奶（也就是说，所有的 $s_i$ 和 $t_i$ 各不相同）。

FJ 有一个储藏室，里面有依次编号为 $1$、$2$、$3$、……的桶。在他的挤奶策略中，当某一头奶牛（比如说，奶牛 $i$）开始挤奶（在时间 $s_i$），FJ 就跑到储藏室取出编号最小的 $b_i$ 个桶分配给第i头奶牛用来挤奶。

请求出 FJ 需要在储藏室中存放多少个桶才能使得他能够顺利地给所有奶牛挤奶。

## 输入格式

输入的第一行包含 $N$。以下 $N$ 行，每行描述了一头奶牛，包含三个空格分隔的数 $s_i$，$t_i$，和 $b_i$。 其中 $s_i$ 和 $t_i$ 均为 $1\dots 1000$ 之间的整数，$b_i$ 为 $1\dots 10$ 之间的整数。
## 输出格式

输出一个整数，为 FJ 需要的桶的数量。
## 样例

### 样例输入 #1
```
3
4 10 1
8 13 3
2 6 2
```
### 样例输出 #1
```
4
```
## 提示

在这个例子中，FJ 需要 $4$ 个桶：他用桶 $1$ 和桶 $2$ 来给奶牛 $3$ 挤奶（从时间 $2$ 开始）。他用桶 $3$ 给奶牛 $1$ 挤奶（从时间 $4$ 开始）。当奶牛 $2$ 在时间 $8$ 开始挤奶时，桶 $1$ 和桶 $2$ 可以再次利用，然而桶 $3$ 不可以，所以他会使用桶 $1$、桶 $2$ 和桶 $4$。


---

---
title: "[USACO19DEC] Livestock Lineup B"
layout: "post"
diff: 普及-
pid: P5833
tag: ['字符串', '2019', 'USACO', '枚举']
---
# [USACO19DEC] Livestock Lineup B
## 题目描述

每天，Farmer John 都要给他的 $8$ 头奶牛挤奶。她们的名字分别是 Bessie，Buttercup，Belinda，Beatrice，Bella，Blue，Betsy，和 Sue。

不幸的是，这些奶牛相当难以伺候，她们要求 Farmer John 以一种符合 $N$ 条限制的顺序给她们挤奶。每条限制的形式为“$X$ 必须紧邻着 $Y$ 挤奶”，要求奶牛 $X$ 在挤奶顺序中必须紧接在奶牛 $Y$ 之后，或者紧接在奶牛 $Y$ 之前。

请帮助 Farmer John 求出一种满足所有限制的奶牛挤奶顺序。保证这样的顺序是存在的。如果有多种顺序都满足要求，请输出字典序最小的一种。也就是说，第一头奶牛需要是所有可能排在任意合法奶牛顺序的第一位的奶牛中名字字典序最小的。在所有合法的以这头字典序最小的奶牛为首的奶牛顺序中，第二头奶牛需要是字典序最小的，以此类推。
## 输入格式

输入的第一行包含 $N$。以下 $N$ 行每行包含一句句子，以 "$X$ must be milked beside $Y$" 的格式描述了一条限制，其中 $X$ 和 $Y$ 为 Farmer John 的某些奶牛的名字（上文列举了八个可能的名字）。
## 输出格式

请用 $8$ 行输出一个奶牛的顺序，每行输出一头奶牛的名字，满足所有的限制。如果由多种顺序符合要求，输出字典序最小的奶牛顺序。
## 样例

### 样例输入 #1
```
3
Buttercup must be milked beside Bella
Blue must be milked beside Bella
Sue must be milked beside Beatrice
```
### 样例输出 #1
```
Beatrice
Sue
Belinda
Bessie
Betsy
Blue
Bella
Buttercup
```
## 提示

$1 \leq N \leq 7$。

供题：Brian Dean


---

---
title: "[USACO19DEC] MooBuzz S"
layout: "post"
diff: 普及-
pid: P5834
tag: ['数学', '2019', 'USACO']
---
# [USACO19DEC] MooBuzz S
## 题目描述

Farmer John 的奶牛们最近成为了一个简单的数字游戏“FizzBuzz”的狂热玩家。这个游戏的规则很简单：奶牛们站成一圈，依次从一开始报数，每头奶牛在轮到她的时候报一个数。如果一头奶牛将要报的数字是 $3$ 的倍数，她应当报 `Fizz` 来代替这个数。如果一头奶牛将要报的数字是 $5$ 的倍数，她应当报 `Buzz` 来代替这个数。如果一头奶牛将要报的数字是 $15$ 的倍数，她应当报 `FizzBuzz` 来代替这个数。于是这个游戏的开始部分的记录为：

`1, 2, Fizz, 4, Buzz, Fizz, 7, 8, Fizz, Buzz, 11, Fizz, 13, 14, FizzBuzz, 16`

由于词汇的匮乏，奶牛们玩的 FizzBuzz 中用`Moo` 代替了 `Fizz`、`Buzz`、`FizzBuzz`。于是奶牛版的游戏的开始部分的记录为：

`1, 2, Moo, 4, Moo, Moo, 7, 8, Moo, Moo, 11, Moo, 13, 14, Moo, 16`

给定 $N$，请求出这个游戏中第 $N$ 个被报的数。
## 输入格式

输入包含一个整数 $N$。
## 输出格式

输出游戏中被报出的第 $N$ 个数。
## 样例

### 样例输入 #1
```
4
```
### 样例输出 #1
```
7
```
## 提示

关于部分分：

测试点 $1$ 为样例。

测试点 $2\sim 5$ 满足 $N\le 10^6$。

对于 $100\%$ 的数据，$1 \leq N \leq 10^9$

供题：Brian Dean


---

---
title: "[USACO05JAN] Sumsets S"
layout: "post"
diff: 普及-
pid: P6065
tag: ['2005', 'USACO']
---
# [USACO05JAN] Sumsets S
## 题目描述

给出一个整数 $N$，将 $N$ 分解为若干个 $2$ 的次幂的和，共有多少种方法？
## 输入格式

输入一个整数 $N$（$1 \leq N \leq 10^6$）。
## 输出格式

输出方案数对 $10^9$ 取模的结果。
## 样例

### 样例输入 #1
```
7
```
### 样例输出 #1
```
6
```
## 提示

所有合法方案如下：
- 1+1+1+1+1+1+1
- 1+1+1+1+1+2
- 1+1+1+2+2
- 1+1+1+4
- 1+2+2+2
- 1+2+4


---

---
title: "[USACO15DEC] Breed Counting S"
layout: "post"
diff: 普及-
pid: P6180
tag: ['2015', 'USACO', '前缀和']
---
# [USACO15DEC] Breed Counting S
## 题目描述

Farmer John 的 $N$ 头奶牛，从左到右编号为 $1 \ldots N$，排成一队。

所有牛都可以分为三个品种，每头牛都有一个品种编号（只能为 $1,2,3$ 中的一个）。FJ 有 $Q$ 个询问，每个询问希望求出某个区间内每个品种奶牛的数量。
## 输入格式

第一行两个整数 $N,Q$（$1 \leq N,Q \leq 10^5$）。

接下来 $N$ 行，每行一个整数，第 $i$ 个整数代表第 $i$ 头奶牛的品种编号。

接下来 $Q$ 行，每行两个整数 $a,b$，表示第 $i$ 次查询的范围是 $[a,b]$。
## 输出格式

对于每个查询，输出三个整数，分别是指定区间内品种 $1$ 的奶牛数量，品种 $2$ 的奶牛数量，品种 $3$ 的奶牛数量。
## 样例

### 样例输入 #1
```
6 3
2
1
1
3
2
1
1 6
3 3
2 4
```
### 样例输出 #1
```
3 2 1
1 0 0
2 0 1
```


---

---
title: "[USACO10MAR] The Rock Game S"
layout: "post"
diff: 普及-
pid: P6183
tag: ['2010', 'USACO', 'Special Judge', '深度优先搜索 DFS']
---
# [USACO10MAR] The Rock Game S
## 题目描述

在奶牛回家休息和娱乐之前，Farmer John 希望它们通过玩游戏获得一些智力上的刺激。

游戏板由 $n$ 个相同的洞组成，这些洞最初**都是空的**。一头母牛要么用石头盖住一个空的洞，要么揭开一个先前被盖住的洞。**游戏状态**的定义是所有洞是否被石头覆盖的情况。

游戏的目标是让奶牛到达**每个可能的游戏状态**一次，最后回到初始状态。

以下是他们其中一次游戏的示例（空的洞用 `O` 表示，用石头盖住的洞用 `X` 表示）：

| 时刻 | 洞 1 | 洞 2 | 洞 3 | 描述 |
| :----------: | :----------: | :----------: | :----------: | :----------: |
| $0$ | O | O | O | 一开始所有的洞都是空的 |
| $1$ | O | O | X | 盖上洞 3 |
| $2$ | X | O | X | 盖上洞 1 |
| $3$ | X | O | O | 打开洞 3 |
| $4$ | X | X | O | 盖上洞 2 |
| $5$ | O | X | O | 打开洞 1 |
| $6$ | O | X | X | 盖上洞 3 |
| $7$ | X | X | X | 盖上洞 1 |

现在牛被卡住玩不下去了！他们必须打开一个洞，然而不管他们打开哪个洞，他们都会到达一个他们已经到达过的状态。例如，如果他们从第二个洞中取出岩石，他们将到达他们在时刻 $2$ 已经访问过的状态（`X O X`）。

下面是一个 3 个孔的有效解决方案：

| 时间 | 洞 1 | 洞 2 | 洞 3 | 描述 |
| :----------: | :----------: | :----------: | :----------: | :----------: |
| $0$ | O | O | O | 一开始所有的洞都是空的 |
| $1$ | O | X | O | 盖上洞 2 |
| $2$ | O | X | X | 盖上洞 3 |
| $3$ | O | O | X | 打开洞 2 |
| $4$ | X | O | X | 盖上洞 1 |
| $5$ | X | X | X | 盖上洞 2 |
| $6$ | X | X | O | 打开洞 3 |
| $7$ | X | O | O | 打开洞 2 |
| $8$ | O | O | O | 打开洞 1，恢复到原来的状态 |

现在，奶牛们厌倦了这个游戏，它们想找你帮忙。

给定 $n$，求游戏的有效解决方案序列。如果有多个解决方案，则输出**任意一个**。
## 输入格式

仅一行，一个整数 $n$。
## 输出格式

共 $2^n+1$ 行，每行一个长度为 $n$ 的字符串，其中只包含字符 `O` 和 `X`，该行中的第 $i$ 个字符表示第 $i$ 个孔在此状态下是被覆盖还是未覆盖，第一行和最后一行必须全部都是 `O`。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
OOO
OXO
OXX
OOX
XOX
XXX
XXO
XOO
OOO
```
## 提示

#### 样例 1 说明

见题目描述。

#### 数据规模与约定

对于 $100\%$ 的数据，有 $1\le n\le15$。


---

---
title: "[USACO08OCT] Building A Fence G"
layout: "post"
diff: 普及-
pid: P6184
tag: ['2008', 'USACO']
---
# [USACO08OCT] Building A Fence G
## 题目背景

勤奋的 Farmer John 想要建造一个由四面围成的栅栏来关住那些奶牛。他现在有一块长度为$N$（$4 \leq N \leq 2,500$）的长木板，他需要把这块长木板切成边长均为正整数的四块，使得他能建造一个栅栏。 
## 题目描述

请问他有多少种不同的切割方式能使切割出来的木板围成一个四面的栅栏。 

注意： 

1. 不要考虑对称性的问题，不需要去除对称的方案和类似的复杂问题；
2. 栅栏围成的面积必须大于 0；
3. 结果可以用 32 位整数存储。
## 输入格式

一个整数 $N$。
## 输出格式

Farmer John 能将木板分割开来并能围成四边形的方案数。
## 样例

### 样例输入 #1
```
6
```
### 样例输出 #1
```
6
```
## 提示

Farmer John 有 10 种方法将木板分成四块：
- (1, 1, 1 ,3);
- (1, 1, 2, 2); 
- (1, 1, 3, 1); 
- (1, 2, 1, 2); 
- (1, 2, 2, 1); 
- (1, 3, 1, 1); 
- (2, 1, 1, 2); 
- (2, 1, 2, 1); 
- (2, 2, 1, 1);
- (3, 1, 1, 1)。

其中有四种情况是不能围成一个四边形的：
- (1, 1, 1, 3),
- (1, 1, 3, 1),
- (1, 3, 1, 1),
- (3, 1, 1, 1)。


---

---
title: "[USACO07OCT] Super Paintball G"
layout: "post"
diff: 普及-
pid: P6200
tag: ['2007', 'USACO']
---
# [USACO07OCT] Super Paintball G
## 题目描述

奶牛们最近从玩具商那里，买来了一套仿真版彩弹游戏设备（类似于真人 CS）。Bessie 把她们玩游戏的草坪划分成了 $N \times N$ 的矩阵（$1 \leq N \leq 100$），同时他算出了她的 $K$ 个对手在草地上的位置（$1 \leq K \leq 10^5$），现在你需要帮 Bessie 算些东西。

在这个游戏中，奶牛们用一把枪向八个方向中的任意一个方向射出子弹，这八个方向分别是：正北，正南，正东，正西，东北，东南，西北，西南（东北指北偏东 $45^\circ$，东南，西北，西南同理）。

Bessie 想要你算出，有多少个位置可以让她射到所有对手。特别地，Bessie 可以和她的某一个对手站在同一格子，这时候她可以射到和她同一格子的对手。
## 输入格式

第一行两个整数 $N, K$。

接下来 $K$ 行，每行两个整数 $R_i, C_i$，表示第 $i$ 头奶牛在第 $R_i$ 行第 $C_i$ 列。可能有两个奶牛在同一位置上。
## 输出格式

输出 Bessie 可以选择的格子数目。
## 样例

### 样例输入 #1
```
4 3
2 1
2 3
4 1
```
### 样例输出 #1
```
5
```
## 提示

可选的位置有：$(2,1),(2,3),(3,2),(4,1),(4,3)$。


---

---
title: "[USACO06OPEN] County Fair Events S"
layout: "post"
diff: 普及-
pid: P6244
tag: ['2006', 'USACO']
---
# [USACO06OPEN] County Fair Events S
## 题目背景

题目是经过简写保证不改变原有题意的题目。
## 题目描述

FJ 参加活动。 

他想参加尽可能多的 $N$ 个活动，参加完某个之后可以立刻参加下一个。 

给定 FJ 可参加的活动列表、其开始时间 $T$ 和持续时间 $L$ ，求 FJ 可以参加的最大活动数。 

FJ 每个活动都不会提早离开。
## 输入格式

第一行有一个整数 $N$。

第二到 $N+1$ 行：每行包含两个用空格分隔的整数 $T$ 和 $L$ ，意义如上述。
## 输出格式

输出仅一行，FJ 最多能参加几个活动。
## 样例

### 样例输入 #1
```
7
1 6
8 6
14 5
19 2
1 8
18 3
10 6
```
### 样例输出 #1
```
4
```
## 提示

$1\le T,L\le 10^5$

$1\le N\le 10^4$


---

---
title: "[USACO21DEC] Lonely Photo B"
layout: "post"
diff: 普及-
pid: P7993
tag: ['数学', 'USACO', '2021']
---
# [USACO21DEC] Lonely Photo B
## 题目描述

Farmer John 最近购入了 $N$ 头新的奶牛（$3 \le N \le 5 \times 10^5$），每头奶牛的品种是更赛牛（Guernsey）或荷斯坦牛（Holstein）之一。 

奶牛目前排成一排，Farmer John 想要为每个连续不少于三头奶牛的序列拍摄一张照片。 然而，他不想拍摄这样的照片，其中只有一头牛的品种是更赛牛，或者只有一头牛的品种是荷斯坦牛——他认为这头奇特的牛会感到孤立和不自然。 在为每个连续不少于三头奶牛的序列拍摄了一张照片后，他把所有「孤独的」照片，即其中只有一头更赛牛或荷斯坦奶牛的照片，都扔掉了。

给定奶牛的排列方式，请帮助 Farmer John 求出他会扔掉多少张孤独的照片。如果两张照片以不同的奶牛开始或结束，则认为它们是不同的。

## 输入格式

输入的第一行包含 $N$。

输入的第二行包含一个长为 $N$ 的字符串。如果队伍中的第 $i$ 头奶牛是更赛牛，则字符串的第 $i$ 个字符为 G。否则，第 $i$ 头奶牛是荷斯坦牛，该字符为 H。
## 输出格式

输出 Farmer John 会扔掉的孤独的照片数量。
## 样例

### 样例输入 #1
```
5
GHGHG
```
### 样例输出 #1
```
3
```
## 提示

【样例解释】

这个例子中的每一个长为 3 的子串均恰好包含一头更赛牛或荷斯坦牛——所以这些子串表示孤独的照片，并会被 Farmer John 扔掉。所有更长的子串（GHGH、HGHG 和 GHGHG）都可以被接受。

【数据范围】

- 测试点 2-4 满足 $N \le 50$。
- 测试点 5-10 满足 $N \le 5000$。
- 测试点 11 没有额外限制。

注意这个测试点的答案可能无法用标准的 32 位整数型存储，你可能需要使用更大的整数类型（例如，C++ 中 64 位的 "long long int" 类型）。


---

---
title: "[USACO22JAN] Non-Transitive Dice B"
layout: "post"
diff: 普及-
pid: P8091
tag: ['USACO', '2022', '枚举']
---
# [USACO22JAN] Non-Transitive Dice B
## 题目描述

为了消磨牛棚里的时光，奶牛们喜欢玩简单的骰子游戏。其中一种游戏使用两个骰子 X 和 Y 进行。两个骰子均被投掷，获胜的骰子是显示的数字较大的骰子。如果两者显示相同的数字，则重新投掷（只要持续打平，骰子可能会被重新投掷多次）。我们称骰子 X 击败骰子 Y，如果骰子 X 比骰子 Y 更有可能赢得这局游戏。

考虑以下的 $4$ 面骰子：

骰子 A 在各面上有数字 $4$，$5$，$6$ 和 $7$。

骰子 B 在各面上有数字 $2$，$4$，$5$ 和 $10$。

骰子 C 在各面上有数字 $1$，$4$，$8$ 和 $9$。

这些骰子满足一个相当奇妙的性质：A 击败 B，B 击败 C，并且 C 也击败 A。特别地，三个骰子都不是「最佳的」，可以击败其他两个。在这种情况下，当没有两个骰子打平，也没有一个骰子是最佳的，我们称这三个骰子的集合为「非传递的」。在非传递的三个骰子的集合中，每个骰子击败一个其他骰子，并输给另一个其他骰子。

给定两个 $4$ 面骰子 A 和 B 各面上的数字，请帮助奶牛们求出是否有方法为第三个骰子 C 的各面分配数字，使得这个骰子的集合是非传递的。所有骰子面上的数字必须是 $1$ 到 $10$ 的整数。
## 输入格式

每个测试用例包含多个独立的子测试用例，必须全部回答正确才能通过整个测试用例。输入的第一行包含 $T$（$1\le T\le 10$），为你需要求解的子测试用例的数量。

以下 $T$ 行，每行描述了一个子测试用例，包含 $8$ 个整数：骰子 A 的 $4$ 面上的整数，以及骰子 B 的 $4$ 面上的整数。所有的数均在 $1$ 到 $10$ 之间，不一定排序。可能同一个数会出现多次，即使在同一个骰子上也可能出现多个相同的数。

## 输出格式

输出 $T$ 行。如果有可能为骰子 C 分配数字使得第 $k$ 个测试用例成为一个非传递的骰子集合，则第 $k$ 行输出 `yes`，否则输出 `no`。

## 样例

### 样例输入 #1
```
3
4 5 6 7 2 4 5 10
2 2 2 2 1 1 1 1
1 1 1 1 2 2 2 2
```
### 样例输出 #1
```
yes
no
no
```
## 提示

**【样例解释】**

第一个子测试用例对应题目中的例子。在第二个子测试用例中，不存在骰子 C 可以使得这个骰子集合是非传递的。同理第三个子测试用例的答案也是 `no`。




---

---
title: "[USACO22FEB]  Photoshoot 2 B"
layout: "post"
diff: 普及-
pid: P8184
tag: ['USACO', '2022', '排序']
---
# [USACO22FEB]  Photoshoot 2 B
## 题目描述

In what seems to be a familiar occurrence, Farmer John is lining up his $N$ cows $(1\le N\le 10^5)$, conveniently numbered $1\cdots N$, for a photograph.
Initially, the cows are lined up in the order $a_1,a_2,\cdots ,a_N$ from left to right. Farmer John's goal is to line up the cows in the order $b_1,\cdots ,b_N$ from left to right. To accomplish this, he may perform a series of modifications to the ordering. Each modification consists of choosing a single cow and moving it some number of positions to the left.

Please count the minimum number of modifications required in order for Farmer John to line up his cows in the desired order.
## 输入格式

The first line of input contains $N$. The second line contains $a_1,a_2,\cdots ,a_N$. The third line contains $b_1,\cdots ,b_N$.
## 输出格式

Print the minimum number of modifications required to produce Farmer John's desired ordering.
## 样例

### 样例输入 #1
```
5
1 2 3 4 5
1 2 3 4 5
```
### 样例输出 #1
```
0
```
### 样例输入 #2
```
5
5 1 3 2 4
4 5 2 1 3
```
### 样例输出 #2
```
2
```
## 提示

【样例解释 1】

In this example, the cows are already in the desired order, so no modifications are required.

【样例解释 2】

In this example, two modifications suffice. Here is one way Farmer John can rearrange his cows:

- Choose cow $4$ and move it four positions to the left.
- Choose cow $2$ and move it two positions to the left.
```
   5 1 3 2 4
-> 4 5 1 3 2
-> 4 5 2 1 3
```

【数据范围】

- Test cases 3-6 satisfy $N≤100$.
- Test cases 7-10 satisfy $N≤5000$.
- Test cases 11-14 satisfy no additional constraints.
## 题目翻译

### 题目描述

在一个熟悉的情景中，Farmer John 正在为他的 $N$ 头奶牛（$1 \leq N \leq 10^5$，编号为 $1 \cdots N$）排队拍照。  
初始时，奶牛从左到右的排列顺序为 $a_1, a_2, \cdots , a_N$。Farmer John 的目标是将奶牛从左到右排列成 $b_1, \cdots , b_N$ 的顺序。为了实现这一目标，他可以对排列顺序进行一系列修改。每次修改包括选择一头奶牛并将其向左移动若干位置。

请计算 Farmer John 将奶牛排列成目标顺序所需的最少修改次数。

### 输入格式

输入的第一行包含 $N$。第二行包含 $a_1, a_2, \cdots , a_N$。第三行包含 $b_1, \cdots , b_N$。

### 输出格式

输出将奶牛排列成目标顺序所需的最少修改次数。

### 样例解释 1

在这个例子中，奶牛已经处于目标顺序，因此不需要任何修改。

### 样例解释 2

在这个例子中，两次修改即可满足要求。以下是 Farmer John 重新排列奶牛的一种方式：

- 选择奶牛 $4$ 并将其向左移动四个位置。
- 选择奶牛 $2$ 并将其向左移动两个位置。
```
   5 1 3 2 4
-> 4 5 1 3 2
-> 4 5 2 1 3
```

### 数据范围

- 测试用例 3-6 满足 $N \leq 100$。
- 测试用例 7-10 满足 $N \leq 5000$。
- 测试用例 11-14 没有额外限制。


---

---
title: "[USACO22FEB] Blocks B"
layout: "post"
diff: 普及-
pid: P8185
tag: ['搜索', 'USACO', '2022', '枚举']
---
# [USACO22FEB] Blocks B
## 题目描述

In an effort to improve her vocabulary, Bessie the cow has obtained a set of four wooden blocks, each one a cube with a letter of the alphabet written on each of its six sides. She is learning how to spell by arranging the blocks in a row so the letters on top of the blocks spell words.

Given the letters on each of Bessie's four blocks, and a list of words she would like to spell, please determine which of words on her list she will be able to spell successfully using the blocks.
## 输入格式

The first line of input contains $N$ $(1\le N\le 10)$, the number of words that Bessie would like to spell. The next four lines each contain a string with six uppercase letters, representing the letters on the six sides of one of Bessie's blocks. The next $N$ lines contain the $N$ words Bessie would like to spell. Each of these is between 1 and 4 uppercase letters long.
## 输出格式

For each word on Bessie's list, output YES if she is able to spell it using the blocks and NO otherwise.
## 样例

### 样例输入 #1
```
6
MOOOOO
OOOOOO
ABCDEF
UVWXYZ
COW
MOO
ZOO
MOVE
CODE
FARM
```
### 样例输出 #1
```
YES
NO
YES
YES
NO
NO
```
## 提示

【样例解释】

In this example, Bessie can spell COW, ZOO, and MOVE. Sadly, she cannot spell MOO, since the only block with an M cannot also be used for an O. She cannot spell FARM since there is no block with a letter R. She cannot spell CODE since the C, D, and E all belong to the same block.
## 题目翻译

## 题目描述
为了提高词汇量，母牛贝西得到了一套四块木块，其中每块都是一个立方体，六面各写着一个字母。她正在通过将木块排成一排使得木块顶部的字母拼出单词来学习拼写。

给定 Bessie 的四个木块上的字母，以及她想拼写的单词列表，请确定列表中哪些单词可被她使用木块成功拼写。
## 输入格式
输入的第一行包含 $N (1\leq N\leq 10)$，为 Bessie 想要拼写的单词数。接下来的四行每行包含一个带有六个大写字母的字符串，表示 Bessie 的一个块的六个侧面上的字母。接下来的 $N$ 行包含 Bessie 想要拼写的 $N$ 个单词。其中每一个的长度在 $1$ 到 $4$ 个大写字母之间。
## 输出格式
对于 Bessie 列表中的每个单词，如果她能够使用木块拼写，则输出 YES，否则输出 NO。
## 样例解释
在本例中，Bessie 可以拼写 COW、ZOO 和 MOVE。 不幸的是，她不能拼写 MOO，因为唯一带有 M 的木块也不能用于 O。她不能拼写 FARM，因为没有字母 R 的木块。她不能拼写 CODE，因为 C、D 和 E 都属于同一个木块。


---

---
title: "[USACO22OPEN] Counting Liars B"
layout: "post"
diff: 普及-
pid: P8267
tag: ['数学', 'USACO', '2022', '排序']
---
# [USACO22OPEN] Counting Liars B
## 题目描述

奶牛 Bessie 躲在数轴上的某处。Farmer John 的 $N$ 头奶牛（$1\le N\le 1000$）中的每头奶牛都有一条信息要分享：第 $i$ 头奶牛说 Bessie 躲在小于或等于 $p_i$ 的某个位置，或者说 Bessie 躲在大于或等于 $p_i$ 的某个位置（$0\le p_i\le 10^9$）。

不幸的是，可能不存在躲藏位置与所有奶牛的回答均一致，这意味着并非所有奶牛都在说真话。计算在撒谎的奶牛的最小数量。
## 输入格式

输入的第一行包含 $N$。

以下 $N$ 行每行包含字符 L 或 G，之后是一个整数 $p_i$。L 表示第 $i$ 头奶牛说 Bessie 的躲藏位置小于或等于 $p_i$，而 G 表示第 $i$ 头奶牛说 Bessie 的躲藏位置大于或等于 $p_i$。
## 输出格式

输出在撒谎的奶牛的最小数量。
## 样例

### 样例输入 #1
```
2
G 3
L 5
```
### 样例输出 #1
```
0
```
### 样例输入 #2
```
2
G 3
L 2
```
### 样例输出 #2
```
1
```
## 提示

【样例解释 1】

有可能没有奶牛在撒谎。

【样例解释 2】

至少一头奶牛在撒谎。


---

---
title: "[USACO22DEC] Cow College B"
layout: "post"
diff: 普及-
pid: P8897
tag: ['贪心', 'USACO', '2022', '排序']
---
# [USACO22DEC] Cow College B
## 题目描述

Farmer John 计划为奶牛们新开办一所大学！ 

![](https://cdn.luogu.com.cn/upload/image_hosting/wiy5l6d6.png)

有 $N(1 \le N \le 10^5)$ 头奶牛可能会入学。每头奶牛最多愿意支付 $c_i$ 的学费 $(1 \le c_i \le 10^6)$。 Farmer John 可以设定所有奶牛入学需要支付的学费。如果这笔学费大于一头奶牛愿意支付的最高金额，那么这头奶牛就不会入学。Farmer John 想赚尽可能多的钱，从而可以给他的讲师提供一笔可观的工资。请求出他能赚到的钱的数量，以及此时应当收取多少学费。 
## 输入格式

输入的第一行包含 $N$。

第二行包含 $N$ 个整数 $c_1,c_2, \cdots,c_N$，其中 $c_i$ 是奶牛 $i$ 愿意支付的最高学费金额。 
## 输出格式

输出 Farmer John 可以赚到的最大金额以及最优情况下他应该收取的学费。如果有多个解，输出收取学费最小的解。 
 
**注意这个问题涉及到的整数可能需要使用 64 位整数型（例如，Java 中的 "long"，C/C++ 中的 "long long"）。**
## 样例

### 样例输入 #1
```
4
1 6 4 6
```
### 样例输出 #1
```
12 4
```
## 提示

### 样例 1 解释

如果 Farmer John 收费 $4$，那么 $3$ 头奶牛将会入学，从而使他赚取 $3 \times 4=12$ 的金额。

### 测试点性质

- 测试点 $2-4$ 满足 $c_i \le 1000$。
- 测试点 $5-8$ 满足 $N \le 5000$。
- 测试点 $9-12$ 没有额外限制。 


---

---
title: "[USACO23JAN] Leaders B"
layout: "post"
diff: 普及-
pid: P9010
tag: ['贪心', 'USACO', '2023']
---
# [USACO23JAN] Leaders B
## 题目描述

Farmer John has $N$ cows $(2 \le N \le 10^5)$. Each cow has a breed that is either Guernsey or Holstein. As is often the case, the cows are standing in a line, numbered $1 \cdots N$ in this order.

Over the course of the day, each cow writes down a list of cows. Specifically, cow $i$
's list contains the range of cows starting with herself (cow $i$) up to and including cow $E_i(i \le E_i \le N)$.

FJ has recently discovered that each breed of cow has exactly one distinct leader. FJ does not know who the leaders are, but he knows that each leader must have a list that includes all the cows of their breed, or the other breed's leader (or both).

Help FJ count the number of pairs of cows that could be leaders. It is guaranteed that there is at least one possible pair. 
## 输入格式

The first line contains $N$.

The second line contains a string of length $N$
, with the ith character denoting the breed of the $i$-th cow (G meaning Guernsey and H meaning Holstein). It is guaranteed that there is at least one Guernsey and one Holstein.

The third line contains $E_1 \cdots E_N$. 
## 输出格式

Output the number of possible pairs of leaders. 
## 样例

### 样例输入 #1
```
4
GHHG
2 4 3 4
```
### 样例输出 #1
```
1
```
### 样例输入 #2
```
3
GGH
2 3 3
```
### 样例输出 #2
```
2
```
## 提示

### Explanation for Sample 1

The only valid leader pair is $(1,2)$. Cow $1$'s list contains the other breed's leader (cow $2$). Cow $2$'s list contains all cows of her breed (Holstein).

No other pairs are valid. For example, $(2,4)$
is invalid since cow $4$'s list does not contain the other breed's leader, and it also does not contain all cows of her breed.

### Explanation for Sample 2

There are two valid leader pairs, $(1,3)$ and $(2,3)$.

### Scoring

 - Inputs $3-5$: $N \le 100$  
 - Inputs $6-10$: $N \le 3000$
 - Inputs $11-17$: No additional constraints.
## 题目翻译

### 题面描述

FJ 有 $N$ 头奶牛，每一头奶牛的品种是根西岛 `G` 或荷斯坦 `H` 中的一种。

每一头奶牛都有一个名单，第 $i$ 头奶牛的名单上记录了从第 $i$ 头奶牛到第 $E_i$ 头奶牛的所有奶牛。

每一种奶牛都有且仅有一位“领导者”，对于某一头牛 $i$，如果它能成为“领导者”仅当它满足以下条件的**至少一个**：

- 其记录的名单上包含它的品种的所有奶牛。

- 其记录的名单上记录了另一品种奶牛的“领导者”。

请求出有多少对奶牛可能成为两种奶牛的领导者，保证存在至少一种。

### 数据范围
对于 $100\%$ 的数据：$1\leq N\leq 2\times 10^5,i\leq E_i\leq N$。


---

---
title: "[USACO23JAN] Air Cownditioning II B"
layout: "post"
diff: 普及-
pid: P9011
tag: ['USACO', '2023', '深度优先搜索 DFS', '差分']
---
# [USACO23JAN] Air Cownditioning II B
## 题目描述

With the hottest recorded summer ever at Farmer John's farm, he needs a way to cool down his cows. Thus, he decides to invest in some air conditioners.

Farmer John's $N$ cows $(1 \le N \le 20)$ live in a barn that contains a sequence of stalls in a row, numbered $1 \cdots 100$. Cow $i$ occupies a range of these stalls, starting from stall $s_i$ and ending with stall $t_i$. The ranges of stalls occupied by different cows are all disjoint from each-other. Cows have different cooling requirements. Cow $i$ must be cooled by an amount $c_i$, meaning every stall occupied by cow $i$ must have its temperature reduced by at least $c_i$ units.

The barn contains $M$ air conditioners, labeled $1 \cdots M (1 \le M \le 10)$. The $i$-th air conditioner costs $m_i$ units of money to operate $(1 \le m_i \le 1000)$ and cools the range of stalls starting from stall $a_i$ and ending with stall $b_i$. If running, the $i$-th air conditioner reduces the temperature of all the stalls in this range by $p_i (1 \le p_i \le 10^6)$. Ranges of stalls covered by air conditioners may potentially overlap.

Running a farm is no easy business, so FJ has a tight budget. Please determine the minimum amount of money he needs to spend to keep all of his cows comfortable. It is guaranteed that if FJ uses all of his conditioners, then all cows will be comfortable. 
## 输入格式

The first line of input contains $N$ and $M$.

The next $N$ lines describe cows. The ith of these lines contains $s_i, t_i$, and $c_i$.

The next $M$ lines describe air conditioners. The ith of these lines contains $a_i, b_i, p_i$, and $m_i$.

For every input other than the sample, you can assume that $M=10$. 
## 输出格式

Output a single integer telling the minimum amount of money FJ needs to spend to operate enough air conditioners to satisfy all his cows (with the conditions listed above). 
## 样例

### 样例输入 #1
```
2 4
1 5 2
7 9 3
2 9 2 3
1 6 2 8
1 2 4 2
6 9 1 5
```
### 样例输出 #1
```
10
```
## 提示

### Explanation for Sample 1

One possible solution that results in the least amount of money spent is to select those that cool the intervals $[2,9], [1,2]$, and $[6,9]$, for a cost of $3+2+5=10$. 
## 题目翻译

## 题目描述

农夫约翰的 $N$ 头奶牛 $(1≤N≤20)$ 住在一个谷仓里，谷仓里有连续的牛栏，编号为 $1-100$ 。 奶牛 $i$ 占据了编号 $[s_i,t_i]$ 的牛栏。 不同奶牛占据的牛栏范围是互不相交的。 奶牛有不同的冷却要求，奶牛 $i$ 占用的每个牛栏的温度必须至少降低 $c_i$ 单位。

谷仓包含 $M$ 台空调，标记为 $1-M$ $(1\le M\le10)$。第 $i$ 台空调需要花费 $m_i$ 单位的金钱来运行 $(1\le m_i \le 1000)$ ，如果运行，第 $i$ 台空调将牛栏 $[a_i,b_i]$ 所有牛栏的温度降低 $p_i$（$1\le p_i\le10^6）$。 空调覆盖的牛栏范围可能会重叠。

请帮助农夫约翰求出满足所有奶牛需求要花费的最少金钱。

## 输入格式

第一行两个整数，分别为 $N$ 和 $M$。

第 $2$ 至 $(N+1)$ 行，每行三个整数，分别为 $s_i$、$t_i$ 和 $c_i$ 。

第 $(N+2)$ 至 $(M+N+1)$ 行，每行四个整数， 分别为 $a_i$、$b_i$、$p_i$ 和 $m_i$。

## 输出格式

一个整数，表示最少花费的金钱。



## 提示

### 样例解释 1

一种花费最少的可能解决方案是选择那些冷却区间为 $[2,9]$ 、$[1,2]$ 和 $[6,9]$ 的空调，成本为 $ 3+2+5=10$ .

### 数据范围

对于 $100\%$ 的数据，$1 \le N \le 20$， $1 \le M \le 10$, $ 1 \le a_i, b_i, s_i, t_i \le 100$, $1 \le c_i, p_i \le 10^6$， $1 \le m_i \le 1000$。


---

---
title: "[USACO23JAN] Moo Operations B"
layout: "post"
diff: 普及-
pid: P9012
tag: ['贪心', 'USACO', '2023', '分类讨论']
---
# [USACO23JAN] Moo Operations B
## 题目描述

Because Bessie is bored of playing with her usual text string where the only characters are `C`, `O`, and `W`, Farmer John gave her $Q$ new strings $(1 \le Q \le 100)$, where the only characters are `M` and `O`. Bessie's favorite word out of the characters `M` and `O` is obviously `MOO`, so she wants to turn each of the $Q$ strings into `MOO` using the following operations:

1. Replace either the first or last character with its opposite (so that 'M' becomes 'O' and 'O' becomes 'M').
2. Delete either the first or last character. 

Unfortunately, Bessie is lazy and does not want to perform more operations than absolutely necessary. For each string, please help her determine the minimum number of operations necessary to form `MOO` or output $−1$ if this is impossible. 
## 输入格式

The first line of input contains the value of $Q$.

The next $Q$ lines of input each consist of a string, each of its characters either `M` or `O`. Each string has at least $1$ and at most $100$ characters. 
## 输出格式

Output the answer for each input string on a separate line. 
## 样例

### 样例输入 #1
```
3
MOMMOM
MMO
MOO
```
### 样例输出 #1
```
4
-1
0
```
## 提示

### Explanation for Sample 1

A sequence of $4$ operations transforming the first string into `MOO` is as follows:

Replace the last character with `O` (operation 1)  
Delete the first character (operation 2)  
Delete the first character (operation 2)  
Delete the first character (operation 2)  

The second string cannot be transformed into `MOO`. The third string is already `MOO`, so no operations need to be performed. 

### Scoring

 - Inputs $2-4$: Every string has length at most $3$.
 - Inputs $5-11$: No additional constraints.
## 题目翻译

## 题目描述

农夫约翰给了奶牛贝西 $Q$ 个新字符串 $(1\le Q\le100)$ ，其中只有字符 `M` 和 `O` ，她想将 $Q$ 个字符串都变成 `MOO`。

贝西可以用如下的方式改变字符串：
- 用相反的字符替换第一个或最后一个字符（将 `M` 变成 `O` ，将 `O` 变成 `M` ）。
- 删除第一个或最后一个字符。

贝西只想用最少的次数完成改变。请你帮她找到需要的最小改变次数。如果不可能在有限的步数中完成这个任务，请输出 `-1` 。

## 输入格式

输入数据的第一行是一个正整数 $Q$ 。

接下来的 $Q$ 行中，每行一个只包含大写字母 `M` 或 `O` 的字符串 $S$ ，保证 $ 1\le |S| \le 100$ 。

## 输出格式

输出 $Q$ 行，每行为该测试点最小操作次数，如果不可能在有限的步数中完成这个任务，请输出 `-1` 。



## 提示

### 样例解释 1
将第一个字符串转换为 `MOO`的 $4$ 个操作序列如下：
- 用O替换最后一个字符（操作1）
- 删除第一个字符（操作2）
- 删除第一个字符（操作2）
- 删除第一个字符（操作2）

可以证明，第二个字符串无法转换为 `MOO`。 

第三个字符串已经是 `MOO`，因此无需执行任何操作。

### 数据范围
对于 $100\%$ 的测试点，保证 $1 \le Q \le 100$, $ 1\le |S| \le 100$ 。


---

---
title: "[USACO23JAN] Moo Route S"
layout: "post"
diff: 普及-
pid: P9015
tag: ['贪心', 'USACO', '2023', 'Special Judge', '构造']
---
# [USACO23JAN] Moo Route S
## 题目描述

Farmer Nhoj dropped Bessie in the middle of nowhere! At time $t=0$, Bessie is located at $x=0$ on an infinite number line. She frantically searches for an exit by moving left or right by $1$ unit each second. However, there actually is no exit and after $T$ seconds, Bessie is back at $x=0$, tired and resigned.

Farmer Nhoj tries to track Bessie but only knows how many times Bessie crosses $x=0.5,1.5,2.5, \cdots ,(N−1).5$, given by an array $A_0,A_1, \cdots ,A_{N−1} (1 \le N \le 10^5, 1 \le A_i \le 10^6, \sum A_i \le 10^6)$. Bessie never reaches $x>N$ nor $x<0$.

In particular, Bessie's route can be represented by a string of $T= \sum\limits_{i=0}^{N-1}A_i$
$L$s and $R$s where the $i$-th character represents the direction Bessie moves in during the ith second. The number of direction changes is defined as the number of occurrences of $LR$s plus the number of occurrences of $RL$s.

Please help Farmer Nhoj find any route Bessie could have taken that is consistent with A
and minimizes the number of direction changes. It is guaranteed that there is at least one valid route. 
## 输入格式

The first line contains $N$. The second line contains $A_0,A_1,\cdots ,A_{N−1}$. 
## 输出格式

Output a string $S$ of length $T=\sum\limits_{i=0}^{N-1}A_i$ where $S_i$ is `L` or `R`, indicating the direction Bessie travels in during second $i$. If there are multiple routes minimizing the number of direction changes, output any. 
## 样例

### 样例输入 #1
```
2
2 4
```
### 样例输出 #1
```
RRLRLL
```
### 样例输入 #2
```
3
2 4 4
```
### 样例输出 #2
```
RRRLLRRLLL
```
## 提示

### Explanation for Sample 1

There is only $1$ valid route, corresponding to the route $0 \rightarrow 1 \rightarrow 2 \rightarrow 1 \rightarrow 2 \rightarrow 1 \rightarrow 0$. Since this is the only possible route, it also has the minimum number of direction changes. 

### Explanation for Sample 2

There are $3$ possible routes:

RRLRRLRLLL  
RRRLRLLRLL  
RRRLLRRLLL  

The first two routes have $5$ direction changes, while the last one has only $3$. Thus the last route is the only correct output.

### Scoring

 - Inputs $3-5$: $N \le 2$
 - Inputs $3-10$: $T=A_0+A_1+ \cdots +A_{N−1} \le 5000$
 - Inputs $11-20$: No additional constraints.
## 题目翻译

奶牛贝西开始在一条数轴上原点的位置，每次会向左或向右移动一个单位长度，最后回到了原点。

给定贝西经过 $0.5,1.5,\ldots,(N-1)+0.5$ 的次数（用数组 $A$ 表示，$A_i$ 表示经过 $i+0.5$ 的次数）。

请构造出一条可能的移动路径（由 $\texttt{L}$ 和 $\texttt{R}$ 构成，表示向左 / 向右走），使得中途**改变方向的次数尽量少**。

题目保证有解，若有多解，输出**任意**一组解即可。

翻译自 @[zyc212303](https://www.luogu.com.cn/user/556366)


---

---
title: "[USACO23FEB] Hungry Cow B"
layout: "post"
diff: 普及-
pid: P9121
tag: ['模拟', '贪心', 'USACO', '2023']
---
# [USACO23FEB] Hungry Cow B
## 题目描述

Bessie is a hungry cow. Each day, for dinner, if there is a haybale in the barn, she will eat one haybale. Farmer John does not want Bessie to starve, so some days he sends a delivery of haybales, which arrive in the morning (before dinner). In particular, on day $d_i$, Farmer John sends a delivery of $b_i$ haybales $(1 \le d_i \le 10^{14}, 1 \le b_i \le 10^9)$.

Compute the total number of haybales Bessie will eat during the first $T$ days.
## 输入格式

The first line contains $N$ and $T$ $(1 \le N \le 10^5, 1 \le T \le 10^{14})$.

The next $N$ lines each contain $d_i$ and $b_i$. It is additionally guaranteed that $1 \le d_1<d_2<\cdots <d_N \le T$. 
## 输出格式

Output the number of haybales that Bessie will eat during the first $T$ days.

Note that the large size of integers involved in this problem may require the use of 64-bit integer data types (e.g., a "long long" in C/C++). 
## 样例

### 样例输入 #1
```
1 5
1 2
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
2 5
1 2
5 10
```
### 样例输出 #2
```
3
```
### 样例输入 #3
```
2 5
1 10
5 10
```
### 样例输出 #3
```
5
```
## 提示

### Explanation for Sample 1

Two haybales arrive on the morning of day $1$. Bessie eats one haybale for dinner on day $1$ and another haybale on day $2$. On days $3 \cdots 5$, there are no more haybales for Bessie to eat. In total, Bessie eats $2$ haybales during the first $5$ days. 

### Explanation for Sample 2

Two haybales arrive on the morning of day $1$. Bessie eats one haybale on days $1$ and $2$. There are no haybales for Bessie to eat on days $3$ and $4$. On the morning of day $5$, $10$ haybales arrive. Bessie eats one haybale for dinner on day $5$. In total, Bessie eats $3$ haybales during the first $5$ days.

### Explanation for Sample 3

10 haybales arrive on the morning of day $1$. Bessie eats one haybale on days $1 \cdots 4$. On the morning of day $5$, another $10$ haybales arrive, meaning there are $16$ haybales in the barn. For dinner on day $5$, Bessie eats another haybale. In total, Bessie eats $5$ haybales during the first $5$ days. 

### SCORING

 - Inputs $4-7$: $T \le 10^5$
 - Inputs $8-13$: No additional constraints.
## 题目翻译

### 题目描述

Bessie 是一头饥饿的奶牛。每天晚餐时，如果谷仓中有干草，她会吃掉一捆干草。为了防止 Bessie 挨饿，有些天 Farmer John 会在早晨（晚餐之前）送来一些干草。具体地说，在第 $d_i$ 天，Farmer John 送来了 $b_i$ 捆干草（$1 \leq d_i \leq 10^{14}, 1 \leq b_i \leq 10^9$）。

请计算 Bessie 在前 $T$ 天内共吃掉了多少捆干草。

### 输入格式

第一行包含两个整数 $N$ 和 $T$（$1 \leq N \leq 10^5, 1 \leq T \leq 10^{14}$）。

接下来的 $N$ 行每行包含两个整数 $d_i$ 和 $b_i$。保证 $1 \leq d_1 < d_2 < \cdots < d_N \leq T$。

### 输出格式

输出 Bessie 在前 $T$ 天内吃掉的干草总数。

注意，本题中涉及的整数可能非常大，可能需要使用 64 位整数类型（例如 C/C++ 中的 "long long"）。

### 样例 1 的解释

第 $1$ 天早晨到达 $2$ 捆干草。Bessie 在第 $1$ 天晚餐时吃掉 $1$ 捆，在第 $2$ 天晚餐时吃掉 $1$ 捆。在第 $3 \cdots 5$ 天，没有干草供 Bessie 吃。在前 $5$ 天中，Bessie 共吃掉 $2$ 捆干草。

### 样例 2 的解释

第 $1$ 天早晨到达 $2$ 捆干草。Bessie 在第 $1$ 天和第 $2$ 天各吃掉 $1$ 捆。在第 $3$ 天和第 $4$ 天，没有干草供 Bessie 吃。第 $5$ 天早晨到达 $10$ 捆干草。Bessie 在第 $5$ 天晚餐时吃掉 $1$ 捆。在前 $5$ 天中，Bessie 共吃掉 $3$ 捆干草。

### 样例 3 的解释

第 $1$ 天早晨到达 $10$ 捆干草。Bessie 在第 $1 \cdots 4$ 天各吃掉 $1$ 捆。第 $5$ 天早晨又到达 $10$ 捆干草，此时谷仓中共有 $16$ 捆干草。Bessie 在第 $5$ 天晚餐时再吃掉 $1$ 捆。在前 $5$ 天中，Bessie 共吃掉 $5$ 捆干草。

### 评分

- 输入 $4-7$：$T \leq 10^5$
- 输入 $8-13$：无额外限制。 


---

---
title: "[USACO23FEB] Stamp Grid B"
layout: "post"
diff: 普及-
pid: P9122
tag: ['模拟', 'USACO', '2023']
---
# [USACO23FEB] Stamp Grid B
## 题目描述

A **stamp painting** is a black and white painting on an $N \times N$ canvas, where certain cells are inked while others are blank. It can be described by an $N \times N$ array of characters $(1 \le N \le 20)$. The $i$-th entry of the $j$-th column of the array is equal to `*` if the canvas contains ink at that square and `.` otherwise.

Bessie has a stamp painting that she would like to create, so Farmer John has lent her a single $K \times K(1 \le K \le N)$ stamp to do this and an empty $N \times N$ canvas. Bessie can repeatedly rotate the stamp clockwise by $90^{\circ}$ and stamp anywhere on the grid as long as the stamp is entirely inside the grid. Formally, to stamp, Bessie chooses integers $i,j$ such that $i \in [1,N−K+1]$ and $j \in [1,N−K+1]$; for each $(i^{\prime},j^{\prime})$ such that $1 \le i^{\prime},j^{\prime} \le K$, canvas cell $(i+i^{\prime}−1,j+j^{\prime}−1)$ is painted black if the stamp has ink at $(i^{\prime},j^{\prime})$. Bessie can rotate the stamp at any time between stampings. Once a canvas cell is painted black, it remains black.

Farmer John is wondering whether it's possible for Bessie to create her desired stamp painting with his stamp. For each of $T(1 \le T \le 100)$ test cases, help Farmer John answer this question. 
## 输入格式

The first line of input contains $T$, the number of test cases.

Each test case starts with an integer $N$ followed by $N$ lines, each containing a string of `*`s and `.`s, representing Bessie's desired stamp painting. The next line contains $K$ and is followed by $K$ lines, each containing a string of `*`s and `.`s, representing Farmer John's stamp.

Consecutive test cases are separated by newlines. 
## 输出格式

For each test case, output `YES` or `NO` on separate lines. 
## 样例

### 样例输入 #1
```
4

2
**
*.
1
*

3
.**
.**
***
2
.*
**

3
...
.*.
...
3
.*.
...
...

3
**.
.**
..*
2
.*
*.
```
### 样例输出 #1
```
YES
YES
NO
YES
```
## 提示

### Explanation for Sample 1

In the first test case, Bessie can perform the following sequence of stampings:

1. Stamp at $(1,1)$
2. Stamp at $(1,2)$
3. Stamp at $(2,1)$

In the second test case, Bessie can perform the following sequence of stampings:

1. Stamp at $(2,2)$
2. Stamp at $(2,1)$
3. Rotate $90^{\circ}$
4. Rotate $90^{\circ}$
5. Stamp at $(1,2)$

In the third test case, it is impossible to paint the middle cell.

In the fourth test case, Bessie can perform the following sequence of stampings:

1. Rotate $90^{\circ}$
2. Stamp at $(1,1)$
3. Stamp at $(1,2)$
4. Stamp at $(2,2)$
## 题目翻译

### 题目描述

盖章绘画是一幅黑白画，绘制在一个 $N \times N$ 的画布上，其中某些格子被涂黑，而其他格子为空白。它可以用一个 $N \times N$ 的字符数组表示（$1 \leq N \leq 20$）。如果数组的第 $i$ 行第 $j$ 列的值为 `*`，说明该格子被涂黑；如果为 `.`，则说明该格子为空白。

Bessie 想要完成一幅盖章绘画，因此 Farmer John 借给了她一块 $K \times K$（$1 \leq K \leq N$）的盖章，以及一块空的 $N \times N$ 画布。Bessie 可以将盖章顺时针旋转 $90^\circ$，并在画布上的任意位置盖章，只要盖章完全在画布范围内即可。形式化地说，盖章时，Bessie 选择整数 $i,j$，满足 $i \in [1,N-K+1]$ 且 $j \in [1,N-K+1]$；对于每个 $(i',j')$，其中 $1 \leq i',j' \leq K$，画布上的格子 $(i+i'-1,j+j'-1)$ 会被涂黑，如果盖章在 $(i',j')$ 处有墨迹。Bessie 可以在每次盖章之前旋转盖章。一旦画布上的某个格子被涂黑，就会保持涂黑状态。

Farmer John 想知道，Bessie 是否可以用他的盖章完成她想要的盖章绘画。对于每个 $T$（$1 \leq T \leq 100$）个测试用例，帮助 Farmer John 回答这个问题。

### 输入格式

第一行包含一个整数 $T$，表示测试用例的数量。

每个测试用例以一个整数 $N$ 开始，接下来是 $N$ 行，每行包含由 `*` 和 `.` 构成的字符串，表示 Bessie 想要的盖章绘画。接下来的行包含一个整数 $K$，随后是 $K$ 行，每行包含由 `*` 和 `.` 构成的字符串，表示 Farmer John 的盖章。

相邻的测试用例之间用空行分隔。

### 输出格式

对于每个测试用例，输出一行 `YES` 或 `NO`。

### 样例 1 的解释

在第一个测试用例中，Bessie 可以按以下顺序完成盖章：

1. 在 $(1,1)$ 处盖章  
2. 在 $(1,2)$ 处盖章  
3. 在 $(2,1)$ 处盖章  

在第二个测试用例中，Bessie 可以按以下顺序完成盖章：

1. 在 $(2,2)$ 处盖章  
2. 在 $(2,1)$ 处盖章  
3. 顺时针旋转 $90^\circ$  
4. 顺时针旋转 $90^\circ$  
5. 在 $(1,2)$ 处盖章  

在第三个测试用例中，无法涂黑中间格子，因此无法完成绘画。

在第四个测试用例中，Bessie 可以按以下顺序完成盖章：

1. 顺时针旋转 $90^\circ$  
2. 在 $(1,1)$ 处盖章  
3. 在 $(1,2)$ 处盖章  
4. 在 $(2,2)$ 处盖章


---

---
title: "[USACO23FEB] Watching Mooloo B"
layout: "post"
diff: 普及-
pid: P9123
tag: ['贪心', 'USACO', '2023']
---
# [USACO23FEB] Watching Mooloo B
## 题目描述

Bessie likes to watch shows on Mooloo. Because Bessie is a busy cow, she has planned a schedule for the next $N (1 \le N \le 10^5)$ days that she will watch Mooloo. Because Mooloo is a paid subscription service, she now needs to decide how to minimize the amount of money she needs to pay.

Mooloo has an interesting subscription system: it costs $d+K(1 \le K \le 10^9)$ moonies to subscribe to Mooloo for d consecutive days. You can start a subscription at any time, and you can start a new subscription as many times as you desire if your current subscription expires. Given this, figure out the minimum amount of moonies Bessie needs to pay to fulfill her schedule. 
## 输入格式

The first line contains integers $N$ and $K$.

The second line contains $N$ integers describing the days Bessie will watch Mooloo: $1 \le d_1<d_2< \cdots <d_N \le 10^{14}$. 
## 输出格式

**Note that the large size of integers involved in this problem may require the use of 64-bit integer data types (e.g., a "long long" in C/C++).**
## 样例

### 样例输入 #1
```
2 4
7 9
```
### 样例输出 #1
```
7
```
### 样例输入 #2
```
2 3
1 10
```
### 样例输出 #2
```
8
```
## 提示

### Explanation for Sample 1

Bessie buys a three-day subscription on day $7$, spending $d+K=3+4=7$ moonies.

### Explanation for Sample 2

Bessie first buys a one-day subscription on day $1$, spending $d+K=1+3=4$ moonies. Bessie also buys a one-day subscription on day $10$, spending $d+K=1+3=4$ moonies. In total, Bessie spends $8$ moonies.

### SCORING

 - Inputs $3-5$: $N \le 10$
 - Inputs $6-12$: No additional constraints.
## 题目翻译

### 题目描述

贝茜喜欢看 Mooloo 的演出。因为她是一只忙碌的奶牛，她计划在接下来的 $N (1 \le N \le 10^5)$ 天去看演出。因为 Mooloo 提供了订阅服务，她想要使她花费的钱最少。

Mooloo 有一个有趣的订阅服务系统：若要在此之后的连续 $d$ 天看演出，则在订阅时需要花费 $d+K(1 \le K \le 10^9)$ 个单位价格。你可以随时订阅；若本次订阅已经过期，你可以根据需要订阅多次。基于以上条件，请计算出贝茜最少要花费多少个单位价格，才能完成她的计划。

### 输入格式

第一行输入两个正整数 $N$ 和 $K$。

第二行输入 $N$ 个正整数，表示在这些天里，贝茜会看 Mooloo 的演出：$1 \le d_1<d_2<\cdots<d_N \le 10^{14}$。

### 输出格式

**请注意，此问题中可能需要使用 64 位整数数据类型（如 C 或 C++ 中的 long long）。**

### 样例 #1 解释

贝茜在第 $7$ 天时，购买了 $3$ 天的订阅，共花费 $d+K=3+4=7$ 个单位价格。

### 样例 #2 解释

贝茜在第 $1$ 天时，购买了 $1$ 天的订阅，花费 $d+K=1+3=4$ 个单位价格；在第 $10$ 天时，也购买了 $1$ 天的订阅，花费 $d+K=1+3=4$ 个单位价格。贝茜一共花费了 $8$ 个单位价格。

translated by [liyuanchen2021](https://www.luogu.com.cn/user/557680)


---

---
title: "[USACO21OPEN] Acowdemia I B"
layout: "post"
diff: 普及-
pid: P9937
tag: ['贪心', '二分', 'USACO', '2021', 'O2优化']
---
# [USACO21OPEN] Acowdemia I B
## 题目描述

由于对计算机科学的热爱，以及有朝一日成为 「Bessie 博士」的诱惑，奶牛 Bessie 开始攻读计算机科学博士学位。经过一段时间的学术研究，她已经发表了 $N$ 篇论文（$1 \le N \le 10^5$），并且她的第 $i$ 篇论文得到了来自其他研究文献的 $c_i$ 次引用（$0 \le c_i \le 10^5$）。

Bessie 听说学术成就可以用 $h$ 指数来衡量。$h$ 指数等于使得研究员有至少 $h$ 篇引用次数不少于 $h$ 的论文的最大整数 $h$。例如，如果一名研究员有 $4$ 篇论文，引用次数分别为 $(1,100,2,3)$，则 $h$ 指数为 $2$，然而若引用次数为 $(1,100,3,3)$ 则 $h$ 指数将会是 $3$。

为了提升她的 $h$ 指数，Bessie 计划写一篇综述，并引用一些她曾经写过的论文。由于页数限制，她至多可以在这篇综述中引用 $L$ 篇论文（$0 \le L \le 10^5$），并且她只能引用每篇她的论文至多一次。

请帮助 Bessie 求出在写完这篇综述后她可以达到的最大 $h$ 指数。

注意 Bessie 的导师可能会告知她纯粹为了提升 $h$ 指数而写综述存在违反学术道德的嫌疑；我们不建议其他学者模仿 Bessie 的行为。 
## 输入格式

输入的第一行包含 $N$ 和 $L$。

第二行包含 $N$ 个空格分隔的整数 $c_1,\ldots,c_N$。 
## 输出格式

输出写完综述后 Bessie 可以达到的最大 $h$ 指数。 
## 样例

### 样例输入 #1
```
4 0
1 100 2 3
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
4 1
1 100 2 3
```
### 样例输出 #2
```
3
```
## 提示

### 样例解释 1

Bessie 不能引用任何她曾经写过的论文。上文中提到，$(1,100,2,3)$ 的 $h$ 指数为 $2$。

### 样例解释 2

如果 Bessie 引用她的第三篇论文，引用数会变为 $(1,100,3,3)$。上文中提到，这一引用数的 $h$ 指数为 $3$。

### 测试点性质

- 测试点 $1-7$ 满足 $N\le 100$。
- 测试点 $8-10$ 满足 $N\le 1000$。
- 测试点 $11-17$ 满足 $N \le 10^5$。


---

---
title: "[USACO21OPEN] Acowdemia II B"
layout: "post"
diff: 普及-
pid: P9938
tag: ['模拟', 'USACO', '2021', 'O2优化']
---
# [USACO21OPEN] Acowdemia II B
## 题目描述

Bessie 正在申请计算机科学的研究生，并取得了一所久负盛名的计算机科学实验室的面试通知。然而，为了避免冒犯任何人，Bessie 有意先确定实验室的 $N$ 名现有成员的相对资历（$1\le N\le 100$）。没有两名实验室成员的资历相同，但确定他们的资历深浅可能并不好办。为此，Bessie 将会对实验室的出版物进行调查。

每份出版物均包含一个作者列表，为所有 $N$ 名实验室成员的一个排列。列表按每名实验室成员对这篇文章的贡献降序排列。如果多名研究员的贡献相等，则按字典序排列。由于更有资历的实验室成员负有更多的管理责任，更有资历的研究员从不会比资历较浅的研究员做出更多的贡献。

例如，在一个由资历较浅的学生 Elsie、资历较深的教授 Mildred、以及十分资深的教授 Dean 组成的实验室中，可能存在一篇论文 Elsie-Mildred-Dean，如果他们做出了不等的贡献（也就是说，Elsie 做出的贡献比 Mildred 更多，Mildred 比 Dean 更多）。然而，也有可能存在一篇论文 Elsie-Dean-Mildred，如果 Mildred 和 Dean 做出了相等的贡献，而 Elsie 做出了更多的贡献。

给定实验室的 $K$ 份出版物（$1\le K\le 100$），对于实验室中每对研究员，如果可能的话帮助 Bessie 判断其中谁的资历更深。
## 输入格式

输入的第一行包含两个整数 $K$ 和 $N$。

第二行包含 $N$ 个空格分隔的字符串，为实验室的成员的名字。每个字符串均由小写字母组成，且至多包含 $10$ 个字符。

以下 $K$ 行，每行包含 $N$ 个空格分隔的字符串，表示一份出版物的作者列表。 
## 输出格式

输出 $N$ 行，每行 $N$ 个字符。在第 $i$ 行内，对于所有 $j\neq i$，当可以确定第 $i$ 名成员比第 $j$ 名成员资历更深时字符 $j$ 为 `1`，当可以确定第 $i$ 名成员比第 $j$ 名成员资历更浅时字符 $j$ 为 `0`，当不能由给定的出版物确定时为 `?`。

第 $i$ 行的字符 $i$ 应为 `B`，因为这是 Bessie 最喜欢的字母。 
## 样例

### 样例输入 #1
```
1 3
dean elsie mildred
elsie mildred dean
```
### 样例输出 #1
```
B11
0B?
0?B
```
### 样例输入 #2
```
2 3
elsie mildred dean
elsie mildred dean
elsie dean mildred
```
### 样例输出 #2
```
B00
1B0
11B
```
## 提示

### 样例解释 1

在这个样例中，单独一份论文 elsie-mildred-dean 并不能提供足够的信息判断 Elsie 比 Mildred 资历更深或更浅。然而，我们可以推断出 Dean 一定比这两名研究员资历更深，从而资历排序为 Elsie<Mildred<Dean 和 Mildred<Elsie<Dean 均是可能的。 

### 样例解释 2

在这个样例中，唯一能与两篇论文相一致的资历排序为 Elsie<Mildred<Dean，这是因为基于第一个样例所提供的信息，第二篇论文可以帮助我们推断出 Mildred 比 Elsie 的资历更深。 


---

---
title: "[USACO21JAN] Even More Odd Photos B"
layout: "post"
diff: 普及-
pid: P9941
tag: ['数学', '贪心', 'USACO', '2021', 'O2优化']
---
# [USACO21JAN] Even More Odd Photos B
## 题目描述

Farmer John 正再一次尝试给他的 $N$ 头奶牛拍照（$2\le N\le 1000$）。

每头奶牛有一个范围在 $1\ldots 100$ 之内的整数的「品种编号」。Farmer John 对他的照片有一个十分古怪的构思：他希望将所有的奶牛分为不相交的若干组（换句话说，将每头奶牛分到恰好一组中）并将这些组排成一行，使得第一组的奶牛的品种编号之和为偶数，第二组的编号之和为奇数，以此类推，奇偶交替。

Farmer John 可以分成的最大组数是多少？ 
## 输入格式

输入的第一行包含 $N$。下一行包含 $N$ 个空格分隔的整数，为 $N$ 头奶牛的品种编号。
## 输出格式

输出 Farmer John 的照片中的最大组数。可以证明，至少存在一种符合要求的分组方案。 
## 样例

### 样例输入 #1
```
7
1 3 5 7 9 11 13
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
7
11 2 17 13 1 15 3
```
### 样例输出 #2
```
5
```
## 提示

### 样例解释 1

在这个样例中，以下是一种分成最大组数三组的方案。将 1 和 3 分在第一组，5、7 和 9 分在第二组，11 和 13 分在第三组。 

### 样例解释 2

在这个样例中，以下是一种分成最大组数五组的方案。将 2 分在第一组，11 分在第二组，13 和 1 分在第三组，15 分在第四组，17 和 3 分在第五组。 


---

---
title: "[USACO21JAN] Just Stalling B"
layout: "post"
diff: 普及-
pid: P9942
tag: ['贪心', 'USACO', '2021', 'O2优化', '排序']
---
# [USACO21JAN] Just Stalling B
## 题目描述

Farmer John 有 $N$ 头奶牛（$1\le N\le 20$），高度为 $a_1\ldots a_N$。他的牛栏有 $N$ 个牛棚，高度限制分别为 $b_1\ldots b_N$（例如，如果 $b_5=17$，那么一头高度不超过 $17$ 的奶牛可以住在牛棚 $5$ 里）。Farmer John 有多少种不同的方式安排他的奶牛，使得每头奶牛均住在不同的牛棚里，并且使得每个牛棚的高度限制均得到满足？ 
## 输入格式

输入的第一行包含 $N$。第二行包含 $N$ 个空格分隔的整数 $a_1,a_2,\ldots,a_N$。第三行包含 $N$ 个空格分隔的整数 $b_1,b_2,\ldots,b_N$。所有的高度和高度限制均在范围 $[1,10^9]$ 内。
## 输出格式

输出 Farmer John 可以将每头奶牛安排到不同的牛棚里，使得每个牛棚的高度限制均得到满足的方法数。注意输出的数量可能需要使用 64 位整数型，例如 C++ 中的 long long。 
## 样例

### 样例输入 #1
```
4
1 2 3 4
2 4 3 4
```
### 样例输出 #1
```
8
```
## 提示

### 样例解释 1

在这个例子中，我们不能将第三头奶牛安排到第一个牛棚里，因为 $3=a_3>b_1=2$。类似地，我们不能将第四头奶牛安排到第一或第三个牛棚里。一种符合高度限制的安排方式为将奶牛 1 安排到牛棚 1，奶牛 2 安排到牛棚 2，奶牛 3 安排到牛棚 3，奶牛 4 安排到牛棚 4。

### 测试点性质

- 测试点 $1-5$ 满足 $N\le 8$。
- 测试点 $6-12$ 没有额外限制。


---

---
title: "[USACO21FEB] Year of the Cow B"
layout: "post"
diff: 普及-
pid: P9943
tag: ['模拟', 'USACO', '2021', 'O2优化']
---
# [USACO21FEB] Year of the Cow B
## 题目描述

Farmer John 的奶牛们得知最近正在庆祝牛年的到来时十分兴奋。牛年总是奶牛们的最爱。

我们知道，中国历法中每一年所对应的生肖遵循 $12$ 年的周期：Ox, Tiger, Rabbit, Dragon, Snake, Horse, Goat, Monkey, Rooster, Dog, Pig, Rat（牛、虎、兔、龙、蛇、马、羊、猴、鸡、狗、猪、鼠），然后回到牛。

奶牛 Bessie 自豪地说她是在许多年前的一个牛年出生的。她的朋友 Elsie 想要知道她与 Bessie 出生相差多少年，并且希望你能够通过查看农场上若干奶牛出生年份之间的关系来帮助她推算。 
## 输入格式

输入的第一行包含一个整数 $N$（$1\le N\le 100$）。以下 $N$ 行每行包含一个 $8$ 个单词的短语，指定了两头奶牛的出生年份之间的关系，格式为

`Mildred born in previous Dragon year from Bessie`（Mildred 在 Bessie 出生的前一个龙年出生），

或

`Mildred born in next Dragon year from Bessie`（Mildred 在 Bessie 出生的后一个龙年出生）。

最后一个单词是农场上某一头奶牛的名字，为 `Bessie` 或一头已经在之前的输入中出现过的奶牛。

第一个单词是农场上某一头奶牛的名字，不为 `Bessie` 且未在之前的输入中出现过。所有的奶牛名字不超过 $10$ 个字符，且仅包含字符 `a..z` 或 `A..Z`。

第 $5$ 个单词是上述十二生肖之一。

第 $4$ 个单词是 `previous`（之前）或 `next`（之后）之一。例如，如果短语为 `Mildred born in previous Dragon year from Bessie`，则 Mildred 的出生年份为最为接近且严格处于 Bessie 的出生年份之前（不等于）的龙年。 
## 输出格式

输出 Bessie 和 Elsie 的出生年份之间相差的年数。输入保证可以通过给定的信息求出结果。 
## 样例

### 样例输入 #1
```
4
Mildred born in previous Dragon year from Bessie
Gretta born in previous Monkey year from Mildred
Elsie born in next Ox year from Gretta
Paulina born in next Dog year from Bessie
```
### 样例输出 #1
```
12
```
## 提示

### 样例解释 1

在以上的输入中，

- Elsie 在 Bessie 之前 $12$ 年出生。
- Mildred 在 Bessie 之前 $9$ 年出生。
- Gretta 在 Bessie 之前 $17$ 年出生。
- Paulina 在 Bessie 之后 $9$ 年出生。


---

---
title: "[USACO21FEB] Comfortable Cows B"
layout: "post"
diff: 普及-
pid: P9944
tag: ['模拟', 'USACO', '2021', 'O2优化']
---
# [USACO21FEB] Comfortable Cows B
## 题目描述

Farmer John 的草地可以被看作是一个由正方形方格组成的巨大的二维方阵（想象一个巨大的棋盘）。初始时，草地上是空的。

Farmer John 将会逐一地将 $N$（$1\le N\le 10^5$）头奶牛加入到草地上。第 $i$ 头奶牛将会占据方格 $(x_i,y_i)$，不同于所有已经被其他奶牛占据的方格（$0\le x_i,y_i\le 1000$）。

一头奶牛被称为是「舒适的」，如果它水平或竖直方向上与恰好三头其他奶牛相邻。Farmer John 对他的农场上舒适的奶牛数量感兴趣。对 $1\ldots N$ 中的每一个 $i$，输出第 $i$ 头奶牛加入到草地上之后舒适的奶牛的数量。 
## 输入格式

输入的第一行包含一个整数 $N$。以下 $N$ 行每行包含两个空格分隔的整数，表示一头奶牛所在的方格坐标 $(x,y)$。输入保证所有方格的坐标是不同的。 
## 输出格式

输出的第 $i$ 行包含前 $i$ 头奶牛加入到草地上之后舒适的奶牛的数量。
## 样例

### 样例输入 #1
```
8
0 1
1 0
1 1
1 2
2 1
2 2
3 1
3 2
```
### 样例输出 #1
```
0
0
0
1
0
0
1
2
```
## 提示

### 样例解释 1

在前四头奶牛加入之后，位于 $(1,1)$ 的奶牛是舒适的。

在前七头奶牛加入之后，位于 $(2,1)$ 的奶牛是舒适的。

在前八头奶牛加入之后，位于 $(2,1)$ 和 $(2,2)$ 的奶牛是舒适的。 

### 测试点性质

- 测试点 $1-4$ 满足 $N\le 400$。
- 测试点 $5-12$ 没有额外限制。


---

---
title: "[USACO21FEB] Clockwise Fence B"
layout: "post"
diff: 普及-
pid: P9945
tag: ['模拟', '数学', 'USACO', '2021', 'O2优化']
---
# [USACO21FEB] Clockwise Fence B
## 题目描述

围绕 Farmer John 最大的草地的栅栏已经损坏了，如今他终于决定要换一个新的栅栏。

不幸的是，当 Farmer John 在铺设新栅栏时，一只巨大的蜜蜂突然出现，在他的草地上追着他跑，导致最后栅栏被沿着一条相当不规则的路径铺设。栅栏可以用一个字符串表示，每个字符为 `N`（north，北）、`E`（east，东）、`S`（south，南）、`W`（west，西）之一。每个字符表示一米长的一段栅栏。举例来说，如果字符串为 `NESW`，这表示栅栏从起点开始向北延伸 $1$ 米，然后向东延伸 $1$ 米，然后向南延伸 $1$ 米，然后向西延伸 $1$ 米，回到栅栏的起点。

栅栏的结束位置与开始位置相同，而这是栅栏的路径上唯一会被到达多次的位置（从而起始位置是唯一会被再次到达的位置，在栅栏结束之时）。结果，栅栏确实围起了一个草地上连通的区域，尽管这个区域可能形状十分奇特。

Farmer John 想要知道他铺设栅栏的路径是顺时针（当按字符串表示的顺序沿着栅栏的路径行走时被围起的区域位于右侧）还是逆时针（被围起的区域位于左侧）。 
## 输入格式

输入的第一行包含一个整数 $N$（$1\le N\le 20$）。以下 $N$ 行每行包含一个长度不小于 $4$ 且不超过 $100$ 的字符串，表示一个栅栏的路径。 
## 输出格式

对 $N$ 条输入的栅栏路径的每一条，输出一行，为 `CW`（clockwise，顺时针）或 `CCW`（counterclockwise，逆时针）。
## 样例

### 样例输入 #1
```
2
NESW
WSSSEENWNEESSENNNNWWWS
```
### 样例输出 #1
```
CW
CCW
```
## 提示

### 样例解释 1

以下为这两条栅栏路径，用 `@` 表示起始位置：

```plain
*>*
^ v
@<*
```
```plain
  *<*<*<*
  v     ^
*<@     *
v       ^
* *>*>* *
v ^   v ^
* *<* * *
v   ^ v ^
*>*>* *>*
```


---

---
title: "[USACO20JAN] Photoshoot B"
layout: "post"
diff: 普及-
pid: P9947
tag: ['模拟', '2020', 'USACO', 'O2优化', '枚举']
---
# [USACO20JAN] Photoshoot B
## 题目描述

Farmer John 在给他编号为 $1\ldots N$ 的 $N$ 头奶牛排队拍照（$2\le N\le 10^3$）。FJ 一开始计划从左向右数第 $i$ 个位置排编号为 $a_i$ 的奶牛，他在一张纸上写下了排列 $a_1,a_2,\ldots,a_N$。不幸的是，这张纸刚刚被 Farmer Nhoj 偷走了！

幸好 FJ 仍然有机会恢复他之前写下的排列。在这张纸被偷走之前，Bessie 记录了序列 $b_1,b_2,\ldots,b_{N−1}$，对于每一个 $1\le i<N$ 满足 $b_i=a_i+a_{i+1}$。

基于 Bessie 的信息，帮助 FJ 恢复可以产生序列 $b$
的“字典序最小”的排列 $a$。排列 $x$ 字典序小于排列 $y$，如果对于某个 $j$，对于所有 $i<j$ 均有 $x_i=y_i$，且有 $x_j<y_j$（换句话说，这两个排列到某个位置之前都相同，在这个位置上 $x$ 小于 $y$）。保证存在至少一个满足条件的 $a$。 
## 输入格式

输入的第一行包含一个整数 $N$。

第二行包含 $N−1$ 个空格分隔的整数 $b_1,b_2,\ldots,b_{N−1}$。 
## 输出格式

输出一行，包含 $N$ 个空格分隔的整数 $a_1,a_2,\ldots,a_N$。 
## 样例

### 样例输入 #1
```
5
4 6 7 6
```
### 样例输出 #1
```
3 1 5 2 4
```
## 提示

### 样例解释 1

$a$ 能够产生 $b$，因为 $3+1=4$，$1+5=6$，$5+2=7$，$2+4=6$。

### 测试点性质

 - 测试点 $2-4$ 满足 $N\le 8$。
 - 测试点 $5-10$ 没有额外限制。


---

---
title: "[USACO20FEB] Triangles B"
layout: "post"
diff: 普及-
pid: P9949
tag: ['2020', 'USACO', 'O2优化', '枚举']
---
# [USACO20FEB] Triangles B
## 题目描述

Farmer John 想要给他的奶牛们建造一个三角形牧场。

有 $N$（$3\le N\le 100$）个栅栏柱子分别位于农场的二维平面上不同的点 $(X_1,Y_1)\ldots(X_N,Y_N)$。他可以选择其中三个点组成三角形牧场，只要三角形有一条边与 $x$ 轴平行，且有另一条边与 $y$ 轴平行。

Farmer John 可以围成的牧场的最大面积是多少？保证存在至少一个合法的三角形牧场。 
## 输入格式

输入的第一行包含整数 $N$。以下 $N$ 行每行包含两个整数 $X_i$ 和 $Y_i$，均在范围 $−10^4\ldots 10^4$ 之内，描述一个栅栏柱子的位置。 
## 输出格式

 由于面积不一定为整数，输出栅栏柱子可以围成的合法三角形的最大面积的**两倍**。 
## 样例

### 样例输入 #1
```
4
0 0
0 1
1 0
1 2
```
### 样例输出 #1
```
2
```
## 提示

### 样例解释 1

位于点 $(0,0)$、$(1,0)$ 和 $(1,2)$ 的木桩组成了一个面积为 $1$ 的三角形。所以，答案为 $2\cdot 1=2$。只有一个其他的三角形，面积为 $0.5$。


---

---
title: "[USACO20OPEN] Social Distancing II B"
layout: "post"
diff: 普及-
pid: P9953
tag: ['贪心', '2020', 'USACO', 'O2优化', '排序']
---
# [USACO20OPEN] Social Distancing II B
## 题目描述

由于高传染性的牛传染病 COWVID-19 的爆发，Farmer John 非常担忧他的奶牛们的健康。

尽管他尽了最大努力使他的 $N$ 头奶牛们（$1\le N\le 1000$）践行“社交距离”，还是有许多奶牛不幸染上了疾病。编号为 $1\ldots N$ 的奶牛们分别位于一条长直道路上的不同位置（相当于一维数轴），奶牛 $i$ 位于位置 $x_i$。Farmer John 知道存在一个半径 $R$，任何与一头被感染的奶牛距离不超过 $R$ 单位的奶牛也会被感染（然后会传染给与其距离 $R$ 单位内的奶牛，以此类推）。

不幸的是，Farmer John 并不确切知道 $R$ 的值。他只知道他的哪些奶牛被感染了。给定这个数据，求出起初感染疾病的奶牛的最小数量。 
## 输入格式

输入的第一行包含 $N$。以下 $N$ 行每行用两个整数 $x$ 和 $s$ 描述一头奶牛，其中 $x$ 为位置（$0\le x\le 10^6$），$s$ 为 $0$ 表示健康的奶牛，$1$ 表示染病的奶牛，并且所有可能因传播而染病的奶牛均已染病。 
## 输出格式

 输出在疾病开始传播之前已经得病的奶牛的最小数量。 
## 样例

### 样例输入 #1
```
6
7 1
1 1
15 1
3 1
10 0
6 1
```
### 样例输出 #1
```
3
```
## 提示

### 样例解释 1

在这个例子中，我们知道 $R<3$，否则位于位置 $7$ 的奶牛会传染给位于位置 $10$ 的奶牛。所以，至少 $3$ 头奶牛初始时已被感染：位于位置 $1$ 和 $3$ 的两头奶牛中的一头，位于位置 $6$ 和 $7$ 的两头奶牛中的一头，以及位于位置 $15$ 的奶牛。 


---

---
title: "[USACO20DEC] Daisy Chains B"
layout: "post"
diff: 普及-
pid: P9956
tag: ['模拟', '2020', 'USACO', 'O2优化']
---
# [USACO20DEC] Daisy Chains B
## 题目描述

每天，作为她绕农场行走的一部分，奶牛 Bessie 会经过她最喜爱的草地，其中种有 $N$ 朵花（五颜六色的雏菊），编号为 $1\ldots N$（$1\le N\le 100$），排列成一行。花 $i$ 有 $p_i$ 朵花瓣（$1\le p_i\le 1000$）。

作为一名崭露头角的摄影家，Bessie 决定给这些花拍些照片。具体地说，对于每一对满足 $1\le i\le j\le N$ 的花 $(i,j)$，Bessie 会给从花 $i$ 到花 $j$ 之间的所有花（包括 $i$ 和 $j$）拍一张照。

后来 Bessie 查看这些照片时注意到有些照片里存在「平均」的花——一朵恰好有 $P$ 朵花瓣的花，其中 $P$ 等于照片中所有花的花瓣数量的平均值。

Bessie 的照片中有几张存在平均的花？ 
## 输入格式

输入的第一行包含 $N$。第二行包含 $N$ 个空格分隔的整数 $p_1\ldots p_N$。
## 输出格式

输出存在平均的花的照片数量。 
## 样例

### 样例输入 #1
```
4
1 1 2 3
```
### 样例输出 #1
```
6
```
## 提示

### 样例解释 1

每张仅包含一朵花的照片均会被计入答案（在这个样例中有 $4$ 张）。另外，在这个样例中 $(i,j)$ 为 $(1,2)$ 和 $(2,4)$ 所对应的照片也存在平均的花。 


---

---
title: "[USACO19JAN] Shell Game B"
layout: "post"
diff: 普及-
pid: P9958
tag: ['模拟', '2019', 'USACO', 'O2优化']
---
# [USACO19JAN] Shell Game B
## 题目描述

为了消磨时光，奶牛 Bessie 和她的朋友 Elsie 喜欢玩一种她们在农业展览会上看到的游戏。

游戏准备阶段，Bessie 在桌子上放置三个倒置的坚果壳，并在其中一个坚果壳下面藏了一块小的鹅卵石（至少她希望这是一块鹅卵石——她在一块牧场的地上找到的）。随后 Bessie 会两两调换坚果壳，同时 Elsie 试着去猜鹅卵石的位置。

奶牛们在农业展览会上看到的这个游戏的标准形式是玩家可以看到鹅卵石初始的位置，然后要求玩家猜所有交换完成之后鹅卵石最终的位置。

然而，现在奶牛们想要去进行这样一种玩法，Elsie 不知道鹅卵石的初始位置，同时她可以在每一次交换之后猜一下鹅卵石的位置。Bessie 知道正确答案，在游戏结束后会给 Elsie 一个分数，等于她猜对的次数。

给定所有的交换和 Elsie 的猜测，但是不给出鹅卵石的初始位置，请求出 Elsie 最高可能获得的分数。 
## 输入格式

输入的第一行包含一个整数 $N$，为交换的次数（$1\le N\le 100$）。以下 $N$ 行每行描述了游戏的一个回合，包含三个整数 $a$、$b$ 和 $g$，表示 Bessie 交换了坚果壳 $a$ 和 $b$，然后 Elsie 猜的是坚果壳 $g$。所有这三个数均为 $1$、$2$、$3$ 之一，并且 $a\neq b$。 
## 输出格式

输出 Elsie 可以得到的最高分数。 
## 样例

### 样例输入 #1
```
3
1 2 1
3 2 1
1 3 1
```
### 样例输出 #1
```
2
```
## 提示

### 样例解释 1

在这个例子中，Elsie 最多可以获得 $2$ 分。如果鹅卵石开始时位于坚果壳 $1$ 下面，那么她猜中了一次（最后一次）。如果鹅卵石开始时位于坚果壳 $2$ 下面，那么她猜中了两次（开始两次）。如果鹅卵石开始时位于坚果壳 $3$ 下面，那么她没有猜对任何一次。 


---

---
title: "[USACO19JAN] Sleepy Cow Sorting B"
layout: "post"
diff: 普及-
pid: P9959
tag: ['2019', 'USACO', 'O2优化', '排序']
---
# [USACO19JAN] Sleepy Cow Sorting B
## 题目描述

Farmer John正在尝试将他的 $N$ 头奶牛（$1\le N\le 100$），方便起见编号为 $1\ldots N$，在她们前往牧草地吃早餐之前排好顺序。

当前，这些奶牛以 $p_1,p_2,p_3,\ldots,p_N$ 的顺序排成一行，Farmer John 站在奶牛 $p_1$ 前面。他想要重新排列这些奶牛，使得她们的顺序变为 $1,2,3,\ldots,N$，奶牛 $1$ 在 Farmer John 旁边。

今天奶牛们有些困倦，所以任何时刻都只有直接面向 Farmer John 的奶牛会注意听 Farmer John 的指令。每一次他可以命令这头奶牛沿着队伍向后移动 $k$ 步，$k$ 可以是范围 $1\ldots N−1$ 中的任意数。她经过的 $k$ 头奶牛会向前移动，腾出空间使得她能够插入到队伍中这些奶牛之后的位置。

例如，假设 $N=4$，奶牛们开始时是这样的顺序：

> FJ: $4, 3, 2, 1$

唯一注意 FJ 指令的奶牛是奶牛 $4$。当他命令她向队伍后移动 $2$ 步之后，队伍的顺序会变成：

> FJ: $3, 2, 4, 1$

现在唯一注意 FJ 指令的奶牛是奶牛 $3$，所以第二次他可以给奶牛 $3$ 下命令，如此进行直到奶牛们排好了顺序。

Farmer John 急欲完成排序，这样他就可以回到他的农舍里享用他自己的早餐了。请帮助他求出将奶牛们排好顺序所需要的最小操作次数。 
## 输入格式

输入的第一行包含 $N$。

第二行包含 $N$ 个空格分隔的整数，$p_1,p_2,p_3,\ldots,p_N$，表示奶牛们的起始顺序。 
## 输出格式

输出一个整数，为 Farmer John 采用最佳策略可以将这 $N$ 头奶牛排好顺序所需要的操作次数。 
## 样例

### 样例输入 #1
```
4
1 2 4 3
```
### 样例输出 #1
```
3
```


---

---
title: "[USACO19JAN] Guess the Animal B"
layout: "post"
diff: 普及-
pid: P9960
tag: ['模拟', '2019', 'USACO', 'O2优化']
---
# [USACO19JAN] Guess the Animal B
## 题目描述

奶牛 Bessie 和她的朋友 Elsie 厌倦了她们的坚果壳游戏，她们想要玩另一个叫做“猜动物”的常见游戏。

游戏开始时，Bessie 会想好一种动物（大部分时候，她想的都是奶牛，这使得游戏相当无聊，但是偶尔 Bessie 也能有些新意，想一些别的）。随后 Elsie 会通过问一些问题来猜出 Bessie 选择的动物。每个问题都是询问这种动物是否具有某个特定的特征，Bessie 对于每个问题回答“是”或“不是”。例如：

Elsie：“这种动物是能飞的吗？”  
Bessie：“不是。”  
Elsie：“这种动物是吃草的吗？”  
Bessie：“是。”  
Elsie：“这种动物是能产奶的吗？”  
Bessie：“是。”  
Elsie：“这种动物是会哞哞叫的吗？”  
Bessie：“是。”  
Elsie：“这样的话我想这种动物是奶牛。”  
Bessie：“猜对了！”  

如果我们将所有具备符合 Elsie 到目前为止所提出的问题的特征的动物的集合称为“可行集”，那么 Elsie 会持续进行提问直到可行集仅包含一种动物，然后她会把这种动物作为她的答案。对于每个问题，Elsie 会选择某种动物的一个特征进行询问（即使这个特征并不能进一步帮助她缩小可行集）。她不会关于同一个特征询问两次。

给定 Bessie 和 Elsie 知道的所有动物以及它们的特征，请求出 Elsie 在猜出正确的动物之前能够得到的“是”的回答的最大数量。 
## 输入格式

输入的第一行包含动物的数量 $N$（$2\le N\le 100$）。以下 $N$ 行每行描述了一种动物。每一行开始是这种动物的名称，接下来是一个整数 $K$（$1\le K\le 100$），接下来是这种动物的K个特征。动物的名称和特征是至多 $20$ 个小写字母（`a..z`）组成的字符串。没有两种动物具有完全相同的特征。 
## 输出格式

输出游戏结束之前 Elsie 可能得到的“是”的回答的最大数量。 
## 样例

### 样例输入 #1
```
4
bird 2 flies eatsworms
cow 4 eatsgrass isawesome makesmilk goesmoo
sheep 1 eatsgrass
goat 2 makesmilk eatsgrass
```
### 样例输出 #1
```
3
```
## 提示

### 样例解释 1

在这个例子中，Elsie 可能在对话中获得 $3$ 个“是”的回答（题目中的例子），并且不可能进行包含超过 $3$ 个“是”的回答的对话。 


---


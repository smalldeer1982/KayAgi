---
title: "硬币问题"
layout: "post"
diff: 普及-
pid: B3635
tag: ['动态规划 DP']
---
# 硬币问题
## 题目描述

今有面值为 1、5、11 元的硬币各无限枚。

想要凑出 $n$ 元，问需要的最少硬币数量。
## 输入格式

仅一行，一个正整数 $n$。
## 输出格式

仅一行，一个正整数，表示需要的硬币个数。
## 样例

### 样例输入 #1
```
15
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
12
```
### 样例输出 #2
```
2
```
## 提示

#### 样例解释

对于样例数据 1，最佳方案是 $15=5+5+5$，使用到 3 枚硬币。

对于样例数据 2，最佳方案是 $12=11 + 1$，使用到 2 枚硬币。

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $n\leq 10^6$。


---

---
title: "文字工作"
layout: "post"
diff: 普及-
pid: B3636
tag: ['动态规划 DP']
---
# 文字工作
## 题目描述

机器猫要在电脑前打字。一共需要打 $n$ 个字，但现在文档里只有一个字。

机器猫有两种操作可以做。假设现在已经有 $x$ 个字，机器猫可以选择：

- 往文档最后加一个字。字数变成 $x+1$。
- 把文档复制粘贴一遍。字数变成 $2x$。

问机器猫至少需要多少次操作，才能得到恰好 $n$ 个字。
## 输入格式

仅一行，一个正整数 $n$。
## 输出格式

仅一行，一个正整数，表示最少操作次数。
## 样例

### 样例输入 #1
```
16
```
### 样例输出 #1
```
4
```
### 样例输入 #2
```
5
```
### 样例输出 #2
```
3
```
## 提示

#### 样例解释

样例数据1，$1\to 2\to 4\to8\to 16$，共 4 步。

样例数据2，$1\to 2\to 4\to 5$，共 3 步。

#### 数据规模与约定

对于 $100\%$ 的数据，$n\leq 10^6$。


---

---
title: "最长上升子序列"
layout: "post"
diff: 普及-
pid: B3637
tag: ['动态规划 DP']
---
# 最长上升子序列
## 题目描述

这是一个简单的动规板子题。

给出一个由 $n(n\le 5000)$ 个不超过 $10^6$ 的正整数组成的序列。请输出这个序列的**最长上升子序列**的长度。

最长上升子序列是指，从原序列中**按顺序**取出一些数字排在一起，这些数字是**逐渐增大**的。
## 输入格式

第一行，一个整数 $n$，表示序列长度。

第二行有 $n$ 个整数，表示这个序列。
## 输出格式

一个整数表示答案。
## 样例

### 样例输入 #1
```
6
1 2 4 1 3 4
```
### 样例输出 #1
```
4
```
## 提示

分别取出 $1$、$2$、$3$、$4$ 即可。


---

---
title: "[CSP-X2020 山东] 勇敢的津津"
layout: "post"
diff: 普及-
pid: B4089
tag: ['动态规划 DP', '2020', '山东', 'CSP-X 小学组']
---
# [CSP-X2020 山东] 勇敢的津津
## 题目描述

津津是个勇敢的孩子，总是做一些挑战自己的事情。一天津津来到一条宽为 $L$ 米的小河边，河道的一边到另一边需要途径 $N$ 块较大的石墩，每块石墩到这一边岸边之间距离 $d_i$ 米（石墩不占距离，只考虑石墩的中间点到这一边岸边之间距离）。津津想踩着这些石墩从小河的这一边跳到另一边（不落入水中），一次可以跳过几块石墩。已知津津每次最多跳 $M$ 米的距离，那么津津最少跳几次就能从这一边跳到另一边？
## 输入格式

第一行包含三个整数 $L,N,M$，分别小河的宽度、石墩数和津津跳的最远距离。

接下来 $N$ 行，每行一个整数，第 $i$ 行的整数 $d_i(0\lt d_i \lt L)$，表示第 $i$ 块石墩与这一边岸边的距离，保证石墩之间的距离和最靠边的石墩到这一边岸边的距离小于等于 $M$。这些石墩按与起点距离从小到大的顺序给出，且不会有两个石墩出现在同一个位置。
## 输出格式

一个整数，即最少的跳跃次数。
## 样例

### 样例输入 #1
```
10 4 2
2
4
6
8
```
### 样例输出 #1
```
5
```
### 样例输入 #2
```
25 5 10
2
11
14
17
21
```
### 样例输出 #2
```
4
```
## 提示

【样例解释】

样例一：津津可以从岸边跳到距离为 $2$ 的石墩上，然后跳到距离为 $4$ 的石墩上，再跳到距离为 $6$ 的石墩上，再跳到距离为 $8$ 的石墩上，最后跳到对岸。总共 $5$ 跳跃。

样例二：津津可以从岸边跳到距离为 $2$ 的石墩上，然后跳到距离为 $11$ 的石墩上，再跳到距离为 $21$ 的石墩上，最后跳到对岸。总共 $4$ 跳跃。

【数据范围】

对于 $30\%$ 的数据，$1\leq N\leq 10$。

对于 $50\%$ 的数据，$1\leq N\leq 100$。

对于 $100\%$ 的数据，$1\leq N\leq 500$，$1\leq M,L\leq 10^6$。


---

---
title: "[信息与未来 2014] 最大连续部分和"
layout: "post"
diff: 普及-
pid: B4133
tag: ['动态规划 DP', '递推', '2014', '江苏', '信息与未来']
---
# [信息与未来 2014] 最大连续部分和
## 题目描述

有 $n$ 个整数排成一排，求其中的最大连续部分和。

**至少要选一个数。**
## 输入格式

第一行一个整数，表示 $n$。

第二行 $n$ 个整数 $x_1,x_2,\cdots,x_n$，相邻两数之间有一个空格。
## 输出格式

一个整数（即最大的连续的部分和）。
## 样例

### 样例输入 #1
```
7
-2 13 12 9 14 -10 2
```
### 样例输出 #1
```
48
```
## 提示

$1\le n\le 10^7,0\le |x_i|\le 10^8$。


---

---
title: "[NOIP 2002 普及组] 过河卒"
layout: "post"
diff: 普及-
pid: P1002
tag: ['动态规划 DP', '2002', 'NOIP 普及组']
---
# [NOIP 2002 普及组] 过河卒
## 题目描述

棋盘上 $A$ 点有一个过河卒，需要走到目标 $B$ 点。卒行走的规则：可以向下、或者向右。同时在棋盘上 $C$ 点有一个对方的马，该马所在的点和所有跳跃一步可达的点称为对方马的控制点。因此称之为“马拦过河卒”。

棋盘用坐标表示，$A$ 点 $(0, 0)$、$B$ 点 $(n, m)$，同样马的位置坐标是需要给出的。

![](https://cdn.luogu.com.cn/upload/image_hosting/ipmwl52i.png)

现在要求你计算出卒从 $A$ 点能够到达 $B$ 点的路径的条数，假设马的位置是固定不动的，并不是卒走一步马走一步。

## 输入格式

一行四个正整数，分别表示 $B$ 点坐标和马的坐标。

## 输出格式

一个整数，表示所有的路径条数。
## 样例

### 样例输入 #1
```
6 6 3 3

```
### 样例输出 #1
```
6

```
## 提示

对于 $100 \%$ 的数据，$1 \le n, m \le 20$，$0 \le$ 马的坐标 $\le 20$。

**【题目来源】**

NOIP 2002 普及组第四题


---

---
title: "[GESP202312 六级] 闯关游戏"
layout: "post"
diff: 普及-
pid: P10108
tag: ['动态规划 DP', '2023', 'GESP']
---
# [GESP202312 六级] 闯关游戏
## 题目描述

你来到了一个闯关游戏。

这个游戏总共有 $N$ 关，每关都有 $M$ 个通道，你需要选择一个通道并通往后续关卡。其中，第 $i$ 个通道可以让你前进 $a_i$ 关，也就是说，如果你现在在第 $x$ 关，那么选择第 $i$ 个通道后，你将直接来到第 $x+a_i$ 关（特别地，如果 $x + a_i \geq N$，那么你就通关了）。此外，当你顺利离开第 $s$ 关时，你还将获得 $b_s$ 分。

游戏开始时，你在第 $0$ 关。请问，你通关时最多能获得多少总分。
## 输入格式

第一行两个整数 $N$，$M$，分别表示关卡数量和每关的通道数量。

接下来一行 $M$ 个用单个空格隔开的整数 $a_0,a_1\cdots,a_{M-1}$。保证 $1\le a_i \le N$。

接下来一行 $N$ 个用单个空格隔开的整数 $b_0,b_1\cdots,b_{N-1}$。保证 $|b_i|\le 10^5$。
## 输出格式

一行一个整数，表示你通关时最多能够获得的分数。
## 样例

### 样例输入 #1
```
6 2 
2 3
1 0 30 100 30 30
```
### 样例输出 #1
```
131
```
### 样例输入 #2
```
6 2
2 3
1 0 30 100 30 -1
```
### 样例输出 #2
```
101
```
## 提示

**样例解释 1**

你可以在第 $0$ 关选择第 $1$ 个通道，获得 $1$ 分并来到第 $3$ 关；随后再选择第 $0$ 个通道，获得 $100$ 分并来到第 $5$ 关；最后任选一个通道，都可以获得 $30$ 分并通关。如此，总得分为 $1+100+30=131$。

**样例解释 2**

请注意，一些关卡的得分可能是负数。


**数据范围**

对于 $20\%$ 的测试点，保证 $M=1$。

对于 $40\%$ 的测试点，保证 $N \le 20$；保证 $M\le 2$。

对于所有测试点，保证 $1 \le N \le 10^4$；保证 $1 \le M\le 100$。


---

---
title: "[GESP202403 六级] 游戏"
layout: "post"
diff: 普及-
pid: P10376
tag: ['动态规划 DP', '2024', 'GESP']
---
# [GESP202403 六级] 游戏
## 题目描述

你有四个正整数 $n,a,b,c$，并准备用它们玩一个简单的小游戏。

在一轮游戏操作中，你可以选择将 $n$ 减去 $a$，或是将 $n$ 减去 $b$。游戏将会进行多轮操作，直到当 $n \leq c$ 时游戏结束。

你想知道游戏结束时有多少种不同的游戏操作序列。两种游戏操作序列不同，当且仅当游戏操作轮数不同，或是某一轮游戏操作中，一种操作序列选择将 $n$ 减去 $a$，而另一种操作序列选择将 $n$ 减去 $b$。如果 $a=b$，也认为将 $n$ 减去 $a$ 与将 $n$ 减去 $b$ 是不同的操作。

由于答案可能很大，你只需要求出答案对 $10^9 + 7$ 取模的结果。
## 输入格式


一行四个整数 $n,a,b,c$。
## 输出格式

输出一行一个整数表示答案。
## 样例

### 样例输入 #1
```
1 1 1 1
```
### 样例输出 #1
```
1
```
### 样例输入 #2
```
114 51 4 1
```
### 样例输出 #2
```
176
```
### 样例输入 #3
```
114514 191 9 810
```
### 样例输出 #3
```
384178446
```
## 提示

### 数据规模与约定


- 对 $20\%$ 的数据，$a=b=c=1$，$n \leq 30$。
- 对 $40\%$ 的数据，$c = 1$，$n \leq 10^3$。
- 对全部的测试数据，保证 $1 \leq a,b,c \leq n \leq 2 \times 10^5$。


---

---
title: "[NOIP 2003 普及组] 栈"
layout: "post"
diff: 普及-
pid: P1044
tag: ['动态规划 DP', '数学', '递推', '2003', 'NOIP 普及组', 'Catalan 数', '栈']
---
# [NOIP 2003 普及组] 栈
## 题目背景

栈是计算机中经典的数据结构，简单的说，栈就是限制在一端进行插入删除操作的线性表。

栈有两种最重要的操作，即 pop（从栈顶弹出一个元素）和 push（将一个元素进栈）。

栈的重要性不言自明，任何一门数据结构的课程都会介绍栈。宁宁同学在复习栈的基本概念时，想到了一个书上没有讲过的问题，而他自己无法给出答案，所以需要你的帮忙。
## 题目描述

![](https://cdn.luogu.com.cn/upload/image_hosting/5qxy9fz2.png)

宁宁考虑的是这样一个问题：一个操作数序列，$1,2,\ldots ,n$（图示为 1 到 3 的情况），栈 A 的深度大于 $n$。

现在可以进行两种操作，

1. 将一个数，从操作数序列的头端移到栈的头端（对应数据结构栈的 push 操作）
2. 将一个数，从栈的头端移到输出序列的尾端（对应数据结构栈的 pop 操作）

使用这两种操作，由一个操作数序列就可以得到一系列的输出序列，下图所示为由 `1 2 3` 生成序列 `2 3 1` 的过程。

![](https://cdn.luogu.com.cn/upload/image_hosting/8uwv2pa2.png)

（原始状态如上图所示）

你的程序将对给定的 $n$，计算并输出由操作数序列 $1,2,\ldots,n$ 经过操作可能得到的输出序列的总数。
## 输入格式

输入文件只含一个整数 $n$（$1 \leq n \leq 18$）。

## 输出格式

输出文件只有一行，即可能输出序列的总数目。
## 样例

### 样例输入 #1
```
3

```
### 样例输出 #1
```
5

```
## 提示

**【题目来源】**

NOIP 2003 普及组第三题


---

---
title: "[NOIP 2005 普及组] 采药"
layout: "post"
diff: 普及-
pid: P1048
tag: ['动态规划 DP', '2005', 'NOIP 普及组', '背包 DP']
---
# [NOIP 2005 普及组] 采药
## 题目描述

辰辰是个天资聪颖的孩子，他的梦想是成为世界上最伟大的医师。为此，他想拜附近最有威望的医师为师。医师为了判断他的资质，给他出了一个难题。医师把他带到一个到处都是草药的山洞里对他说：“孩子，这个山洞里有一些不同的草药，采每一株都需要一些时间，每一株也有它自身的价值。我会给你一段时间，在这段时间里，你可以采到一些草药。如果你是一个聪明的孩子，你应该可以让采到的草药的总价值最大。”


如果你是辰辰，你能完成这个任务吗？

## 输入格式

第一行有 $2$ 个整数 $T$（$1 \le T \le 1000$）和 $M$（$1 \le  M \le 100$），用一个空格隔开，$T$ 代表总共能够用来采药的时间，$M$ 代表山洞里的草药的数目。

接下来的 $M$ 行每行包括两个在 $1$ 到 $100$ 之间（包括 $1$ 和 $100$）的整数，分别表示采摘某株草药的时间和这株草药的价值。
## 输出格式

输出在规定的时间内可以采到的草药的最大总价值。

## 样例

### 样例输入 #1
```
70 3
71 100
69 1
1 2

```
### 样例输出 #1
```
3
```
## 提示

**【数据范围】**

- 对于 $30\%$ 的数据，$M \le 10$；
- 对于全部的数据，$M \le 100$。

**【题目来源】**

NOIP 2005 普及组第三题


---

---
title: "[NOIP 2001 普及组] 装箱问题"
layout: "post"
diff: 普及-
pid: P1049
tag: ['动态规划 DP', '2001', '递归', 'NOIP 普及组', '背包 DP']
---
# [NOIP 2001 普及组] 装箱问题
## 题目描述

有一个箱子容量为 $V$，同时有 $n$ 个物品，每个物品有一个体积。


现在从 $n$ 个物品中，任取若干个装入箱内（也可以不取），使箱子的剩余空间最小。输出这个最小值。
## 输入格式

第一行共一个整数 $V$，表示箱子容量。

第二行共一个整数 $n$，表示物品总数。

接下来 $n$ 行，每行有一个正整数，表示第 $i$ 个物品的体积。
## 输出格式

- 共一行一个整数，表示箱子最小剩余空间。

## 样例

### 样例输入 #1
```
24
6
8
3
12
7
9
7

```
### 样例输出 #1
```
0

```
## 提示

对于 $100\%$ 数据，满足 $0<n \le 30$，$1 \le V \le 20000$。

**【题目来源】**

NOIP 2001 普及组第四题


---

---
title: "[NOIP 2006 普及组] 开心的金明"
layout: "post"
diff: 普及-
pid: P1060
tag: ['动态规划 DP', '2006', 'NOIP 普及组', '背包 DP']
---
# [NOIP 2006 普及组] 开心的金明
## 题目描述

金明今天很开心，家里购置的新房就要领钥匙了，新房里有一间他自己专用的很宽敞的房间。更让他高兴的是，妈妈昨天对他说：“你的房间需要购买哪些物品，怎么布置，你说了算，只要不超过 $N$ 元钱就行”。今天一早金明就开始做预算，但是他想买的东西太多了，肯定会超过妈妈限定的 $N$ 元。于是，他把每件物品规定了一个重要度，分为 $5$ 等：用整数 $1-5$ 表示，第 $5$ 等最重要。他还从因特网上查到了每件物品的价格（都是整数元）。他希望在不超过 $N$ 元（可以等于 $N$ 元）的前提下，使每件物品的价格与重要度的乘积的总和最大。

设第$j$件物品的价格为 $v_j$，重要度为 $w_j$，共选中了 $k$ 件物品，编号依次为 $j_1,j_2,…,j_k$，则所求的总和为：

$$v_{j_1} \times w_{j_1}+v_{j_2} \times w_{j_2} …+v_{j_k} \times w_{j_k}$$

请你帮助金明设计一个满足要求的购物单。
## 输入格式

第一行，为 $2$ 个正整数，用一个空格隔开：$n,m$（$n<30000,m<25$）其中 $n$ 表示总钱数，$m$ 为希望购买物品的个数。

从第 $2$ 行到第 $m+1$ 行，第 $j$ 行给出了编号为 $j-1$ 的物品的基本数据，每行有 $2$ 个非负整数 $v,p$（其中 $v$ 表示该物品的价格 $(v \le 10000)$，$p$ 表示该物品的重要度（$1\le p\le5$）。
## 输出格式

$1$ 个正整数，为不超过总钱数的物品的价格与重要度乘积的总和的最大值（$<100000000$）。

## 样例

### 样例输入 #1
```
1000 5
800 2
400 5
300 5
400 3
200 2

```
### 样例输出 #1
```
3900
```
## 提示

NOIP 2006 普及组 第二题



---

---
title: "【MX-J2-T2】Turtle and Strings"
layout: "post"
diff: 普及-
pid: P10841
tag: ['动态规划 DP', '贪心', 'O2优化', '梦熊比赛']
---
# 【MX-J2-T2】Turtle and Strings
## 题目背景

原题链接：<https://oier.team/problems/J2C>。
## 题目描述

给你一个仅由小写字母组成的字符串 $s$。

一个字符串序列 $t_1, t_2, \ldots, t_k$ 是合法的当且仅当：

- $s = t_1 + t_2 + \cdots + t_k$，此处 $+$ 为字符串拼接；
- $\forall 1 \le i \le k - 1, t_i \ne t_{i + 1}$。

求合法的字符串序列的长度的最大值。
## 输入格式

**本题有多组测试数据。**

第一行输入一个正整数 $T$，表示测试数据组数。

对于每组测试数据：

第一行包含一个正整数 $n$，表示字符串的长度。

第二行包含一个长度为 $n$ 的仅由小写字母组成的字符串 $s$。
## 输出格式

对于每组数据，输出一行一个整数，表示合法的字符串序列的长度的最大值。
## 样例

### 样例输入 #1
```
4
3
abc
5
aabbb
6
aaaaaa
10
pppqqppppq

```
### 样例输出 #1
```
3
3
4
7

```
## 提示

#### 【样例解释】

在第一组数据中，一个合法且长度最大的字符串序列为 $[\texttt{a}, \texttt{b}, \texttt{c}]$。

在第二组数据中，一个合法且长度最大的字符串序列为 $[\texttt{a}, \texttt{abb}, \texttt{b}]$。

在第三组数据中，一个合法且长度最大的字符串序列为 $[\texttt{a}, \texttt{aa}, \texttt{a}, \texttt{aa}]$。

#### 【数据范围】

**本题采用捆绑测试且开启子任务依赖。**

| 子任务编号 | 分值 | $n \le$ | $\sum n \le$ | 特殊性质 | 子任务依赖 |
| :-: | :-: | :-: | :-: | :-: | :-: |
| $1$ | $18$ | $9$ | $10^4$ | 无 | 无 |
| $2$ | $21$ | $50$ | $10^3$ | 无 | $1$ |
| $3$ | $12$ | $10^6$ | $10^6$ | $s_1 = s_2 = \cdots = s_n$ | 无 |
| $4$ | $23$ | $10^6$ | $10^6$ | **恰好**存在一个位置 $1 \le i \le n - 1$ 使得 $s_i \ne s_{i + 1}$ | 无 |
| $5$ | $26$ | $10^6$ | $10^6$ | 无 | $1, 2, 3, 4$ |

对于所有数据，满足 $1 \le T \le 10^5$，$1 \le n, \sum n \le 10^6$，$s$ 仅由小写字母组成。


---

---
title: "最大子段和"
layout: "post"
diff: 普及-
pid: P1115
tag: ['动态规划 DP', '递推', '分治', '前缀和']
---
# 最大子段和
## 题目描述

给出一个长度为 $n$ 的序列 $a$，选出其中连续且非空的一段使得这段和最大。

## 输入格式

第一行是一个整数，表示序列的长度 $n$。

第二行有 $n$ 个整数，第 $i$ 个整数表示序列的第 $i$ 个数字 $a_i$。
## 输出格式

输出一行一个整数表示答案。
## 样例

### 样例输入 #1
```
7
2 -4 3 -1 2 -4 3

```
### 样例输出 #1
```
4
```
## 提示

#### 样例 1 解释

选取 $[3, 5]$ 子段 $\{3, -1, 2\}$，其和为 $4$。

#### 数据规模与约定

- 对于 $40\%$ 的数据，保证 $n \leq 2 \times 10^3$。
- 对于 $100\%$ 的数据，保证 $1 \leq n \leq 2 \times 10^5$，$-10^4 \leq a_i \leq 10^4$。



---

---
title: "[JOIG 2024] 座席 2 / Seats 2"
layout: "post"
diff: 普及-
pid: P11200
tag: ['动态规划 DP', '2024', 'O2优化', 'JOI（日本）']
---
# [JOIG 2024] 座席 2 / Seats 2
## 题目描述

今年，JOI 国将主办 IOI（国际信息学奥林匹克竞赛）。届时将有 $N$ 名选手参赛，编号从 $1$ 到 $N$。

每位选手的国籍由一个介于 $1$ 和 $10^9$ 之间的整数表示：选手 $i(1\le i\le N)$ 来自国家 $C_i$。保证 $N$ 个选手的国籍**不完全相同**（即存在 $i\ne j(1\le i,j\le N)$ 使得 $C_i\ne C_j$）。

选手的座位排成一条直线，选手 $i(1\le i\le N)$ 的座位在 $X_i$ 处。选手 $i(1\le i\le N)$ 和选手 $j(1\le j\le N)$ 之间的**座位距离**为 $|X_i-X_j|$。

每个选手都想知道在与其他选手交流时，与离自己最近的异国选手的座位距离。

给定每个选手的国籍和座位位置，请为每个选手 $i(1\le i\le N)$ 求出与其来自不同国家的选手中，座位离选手 $i$ 最近的选手与 $i$ 的座位距离。
## 输入格式

第一行输入一个整数 $N$。

接下来 $N$ 行，每行输入两个整数 $C_i,X_i$。
## 输出格式

输出 $N$ 行，第 $i$ 行输出一个整数，表示座位离选手 $i$ 最近的选手与 $i$ 的座位距离。
## 样例

### 样例输入 #1
```
3
2 5
1 1
1 2
```
### 样例输出 #1
```
3
4
3
```
### 样例输入 #2
```
5
1 1
2 4
2 14
3 10
2 2
```
### 样例输出 #2
```
1
3
4
4
1
```
### 样例输入 #3
```
3
1 1
2 1
1 1
```
### 样例输出 #3
```
0
0
0
```
## 提示

#### 【样例解释 #1】

- 选手 $1$ 来自国家 $2$，选手 $2, 3$ 和他 / 她来自不同国家。在这些选手中，与选手 $1$ 座位距离最小的是选手 $3$，座位距离为 $3$。因此，答案为 $3$；
- 选手 $2$ 来自国家 $1$，选手 $1$ 是唯一和他 / 她来自不同国家的选手。选手 $2$ 和选手 $1$ 之间的座位距离为 $4$；
- 选手 $3$ 来自国家 $1$，选手 $1$ 是唯一和他 / 她来自不同国家的选手。选手 $3$ 和选手 $1$ 之间的座位距离为 $3$。

该样例满足子任务 $1,2,3$ 的限制。

#### 【样例解释 #2】

该样例满足子任务 $1,2,3$ 的限制。

#### 【样例解释 #3】

该样例满足子任务 $1,2,3$ 的限制。

#### 【数据范围】

- $2\le N \le 3\times 10^5$；
- $1\le C_i\le 10^9(1\le i\le N)$ 且 $C_i$ 不完全相同；
- $1\le X_i\le 10^9(1\le i\le N)$。

#### 【子任务】

1. （$20$ 分）$N\le 1000$；
2. （$40$ 分）$C_i\le 10(1\le i\le N)$；
3. （$40$ 分）无附加限制。


---

---
title: "[GESP202409 六级] 小杨和整数拆分"
layout: "post"
diff: 普及-
pid: P11246
tag: ['动态规划 DP', '2024', 'GESP']
---
# [GESP202409 六级] 小杨和整数拆分
## 题目描述

小杨有一个正整数 $n$，小杨想将它拆分成若干完全平方数的和，同时小杨希望拆分的数量越少越好。

编程计算总和为 $n$ 的完全平方数的最小数量。
## 输入格式

输入只有一行一个正整数 $n$。
## 输出格式

输出一行一个整数表示答案。
## 样例

### 样例输入 #1
```
18

```
### 样例输出 #1
```
2
```
## 提示

### 数据规模与约定

对全部的测试数据，保证 $1 \leq n \leq 10^5$。


---

---
title: "[GESP202409 七级] 矩阵移动"
layout: "post"
diff: 普及-
pid: P11248
tag: ['动态规划 DP', '2024', 'GESP']
---
# [GESP202409 七级] 矩阵移动
## 题目描述

小杨有一个有一个 $n \times m$ 的矩阵，仅包含 `01?` 三种字符。矩阵的行从上到下编号依次为 $1,2,\dots, n$，列从左到右编号依次为 $1, 2, \dots, m$。小杨开始在矩阵的左上角 $(1,1)$，小杨只能向下或者向右移动，最终到达右下角 $(n, m)$ 时停止，在移动的过程中每经过一个字符 `1` 得分会增加一分（包括起点和终点），经过其它字符则分数不变。小杨的初始分数为 $0$ 分。

小杨可以将矩阵中不超过 $x$ 个字符 `?` 变为字符  `1`。小杨在修改矩阵后，会以最优的策略从左上角移动到右下角。他想知道自己最多能获得多少分。
## 输入格式

第一行包含一个正整数 $t$，代表测试用例组数，接下来是 $t$ 组测试用例。对于每组测试用例，一共 $n + 1$ 行。

第一行包含三个正整数 $n, m, x$，含义如题面所示。  
之后 $n$ 行，每行一个长度为 $m$ 的仅含 `01x?` 的字符串。
## 输出格式

对于每组测试用例，输出一行一个整数，代表最优策略下小杨的得分最多是多少。
## 样例

### 样例输入 #1
```
2
3 3 1
000
111
01?
3 3 1
000
?0?
01?

```
### 样例输出 #1
```
4
2
```
## 提示


### 样例 1 解释

对于第二组测试用例，将 $(2,1)$ 或者 $(3,3)$ 变为 $1$ 均是最优策略。

### 数据规模与约定

| 子任务编号 | 数据点占比 | $t$ | $n,m$ | $x$ |
| :-: | :-: | :-: | :-: | :-: |
| $1$ | $30\%$ | $\leq 5$ | $\le 10$ | $=1$ |
| $2$ | $30\%$ | $\le 10$ | $\le 500$ | $\le 30$ |
| $3$ | $40\%$ | $\le 10$ | $\le 500$ | $\le 300$ |

对全部的测试数据，保证 $1 \leq t \leq 10$，$1 \leq n,m \leq 500$，$1 \leq x \leq 300$，保证所有测试用例 $n \times m$ 的总和不超过 $2.5 \times 10^5$。




---

---
title: "红牌"
layout: "post"
diff: 普及-
pid: P1130
tag: ['动态规划 DP']
---
# 红牌
## 题目描述


某地临时居民想获得长期居住权就必须申请拿到红牌。获得红牌的过程是相当复杂 ，一共包括 $N$ 个步骤。每一步骤都由政府的某个工作人员负责检查你所提交的材料是否符合条件。为了加快进程，每一步政府都派了 $M$ 个工作人员来检查材料。不幸的是，并不是每一个工作人员效率都很高。尽管如此，为了体现“公开政府”的政策，政府部门把每一个工作人员的处理一个申请所花天数都对外界公开。

为了防止所有申请人都到效率高的工作人员去申请。这 $M \times N$ 个工作人员被分成 $M$ 个小组。每一组在每一步都有一个工作人员。申请人可以选择任意一个小组也可以更换小组。但是更换小组是很严格的，一定要相邻两个步骤之间来更换，而不能在某一步骤已经开始但还没结束的时候提出更换，并且也只能从原来的小组 $I$ 更换到小组 $I+1$，当然从小组 $M$ 可以更换到小组 $1$。对更换小组的次数没有限制。

例如：下面是 $3$ 个小组，每个小组 $4$ 个步骤工作天数：

- 小组 $1$： $2, 6 ,1 ,8$；
- 小组 $2$：$3,6, 2, 6$；
- 小组 $3$：$ 4, 2 ,3 ,6$。

例子中，可以选择小组 $1$ 来完成整个过程一共花了$2+6+1+8=17$ 天，也可以从小组 $2$ 开始第一步，然后第二步更换到小组 $3$，第三步到小组 $1$，第四步再到小组 $2$，这样一共花了 $3+2+1+6=12$ 天。你可以发现没有比这样效率更高的选择。

你的任务是求出完成申请所花最少天数。
## 输入格式

第一行是两个正整数 $N$ 和 $M$，表示步数和小组数。

接下来有 $M$ 行，每行有 $N$ 个非负整数，第 $i+1(1 \le i  \le M)$ 行的第 $j$ 个数表示小组 $i$ 完成第 $j$ 步所花的天数，天数都不超过 $1000000$。
## 输出格式

一个正整数，为完成所有步所需最少天数。
## 样例

### 样例输入 #1
```
4 3 
2 6 1 8
3 6 2 6
4 2 3 6

```
### 样例输出 #1
```
12
```
## 提示

对于 $100\%$ 的数据，$1\le N,M \le 2000$。


---

---
title: "[GESP202412 七级] 武器购买"
layout: "post"
diff: 普及-
pid: P11377
tag: ['动态规划 DP', '2024', '背包 DP', 'GESP']
---
# [GESP202412 七级] 武器购买
## 题目描述

商店里有 $n$ 个武器，第 $i$ 个武器的强度为 $p_i$，花费为 $c_i$。

小杨想要购买一些武器，满足这些武器的总强度不小于 $P$，总花费不超过 $Q$，小杨想知道是否存在满足条件的购买方案，如果有，最少花费又是多少。
## 输入格式

第一行包含一个正整数 $t$，代表测试数据组数。

对于每组测试数据，第一行包含三个正整数 $n,P,Q$，含义如题面所示。

之后 $n$ 行，每行包含两个正整数 $p_i,c_i$，代表武器的强度和花费。
## 输出格式

对于每组测试数据，如果存在满条件的购买方案，输出最少花费，否则输出 `-1`。
## 样例

### 样例输入 #1
```
3
3 2 3
1 2
1 2
2 3
3 3 4
1 2
1 2
2 3
3 1000 1000
1 2
1 2
2 3
```
### 样例输出 #1
```
3
-1
-1
```
## 提示

| 子任务编号 | 数据点占比 |    $n$     |        $p_i$        |        $c_i$        |         $P$         |         $Q$         |
| :--------: | :--------: | :--------: | :-----------------: | :-----------------: | :-----------------: | :-----------------: |
|    $1$     |   $20\%$   | $\leq 10$  |         $1$         |         $1$         |      $\leq 10$      |      $\leq 10$      |
|    $2$     |   $20\%$   | $\leq 100$ | $\leq 5\times 10^4$ |         $1$         | $\leq 5\times 10^4$ |         $2$         |
|    $3$     |   $60\%$   | $\leq 100$ | $\leq 5\times 10^4$ | $\leq 5\times 10^4$ | $\leq 5\times 10^4$ | $\leq 5\times 10^4$ |

对于全部数据，保证有 $1\leq t\leq 10$，$1\leq n\leq 100$，$1\leq p_i,c_i,P,Q\leq 5\times 10^4$。


---

---
title: "小A点菜"
layout: "post"
diff: 普及-
pid: P1164
tag: ['动态规划 DP', '搜索', '洛谷原创', '背包 DP']
---
# 小A点菜
## 题目背景

uim 神犇拿到了 uoi 的 ra（镭牌）后，立刻拉着基友小 A 到了一家……餐馆，很低端的那种。

uim 指着墙上的价目表（太低级了没有菜单），说：“随便点”。

## 题目描述

不过 uim 由于买了一些书，口袋里只剩 $M$ 元 $(M \le 10000)$。

餐馆虽低端，但是菜品种类不少，有 $N$ 种 $(N \le 100)$，第 $i$ 种卖 $a_i$ 元 $(a_i \le 1000)$。由于是很低端的餐馆，所以每种菜只有一份。

小 A 奉行“不把钱吃光不罢休”的原则，所以他点单一定刚好把 uim 身上所有钱花完。他想知道有多少种点菜方法。

由于小 A 肚子太饿，所以最多只能等待 $1$ 秒。

## 输入格式

第一行是两个数字，表示 $N$ 和 $M$。

第二行起 $N$ 个正数 $a_i$（可以有相同的数字，每个数字均在 $1000$ 以内）。

## 输出格式

一个正整数，表示点菜方案数，保证答案的范围在 int 之内。

## 样例

### 样例输入 #1
```
4 4
1 1 2 2

```
### 样例输出 #1
```
3

```
## 提示

2020.8.29，增添一组 hack 数据 by @yummy


---

---
title: "[USACO1.1] 坏掉的项链 Broken Necklace"
layout: "post"
diff: 普及-
pid: P1203
tag: ['字符串', '动态规划 DP', '搜索', 'USACO']
---
# [USACO1.1] 坏掉的项链 Broken Necklace
## 题目描述

你有一条由 $n$ 个红色的，白色的，或蓝色的珠子组成的项链，珠子是随意安排的。 这里是 $n=29$ 的两个例子:

![](https://cdn.luogu.com.cn/upload/image_hosting/i7imvc0g.png) 

第一和第二个珠子在图片中已经被作记号。

图片 A 中的项链可以用下面的字符串表示：

`brbrrrbbbrrrrrbrrbbrbbbbrrrrb`

假如你要在一些点打破项链，展开成一条直线，然后从一端开始收集同颜色的珠子直到你遇到一个不同的颜色珠子，在另一端做同样的事(颜色可能与在这之前收集的不同)。 确定应该在哪里打破项链来收集到最大数目的珠子。

例如，在图片 A 中的项链中，在珠子 $9$ 和珠子 $10$ 或珠子 $24$ 和珠子 $25$ 之间打断项链可以收集到 $8$ 个珠子。

白色珠子什么意思?

在一些项链中还包括白色的珠子(如图片B) 所示。

当收集珠子的时候，一个被遇到的白色珠子可以被当做红色也可以被当做蓝色。

表现含有白珠项链的字符串将会包括三个符号 `r`，`b`，`w` 。

写一个程序来确定从一条被给出的项链可以收集到的珠子最大数目。
## 输入格式

第一行一个正整数 $n$ ，表示珠子数目。
第二行一串长度为 $n$ 的字符串, 每个字符是 `r` ， `b` 或 `w`。
## 输出格式

输出一行一个整数，表示从给出的项链中可以收集到的珠子的最大数量。
## 样例

### 样例输入 #1
```
29 
wwwbbrwrbrbrrbrbrwrwwrbwrwrrb

```
### 样例输出 #1
```
11
```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$3\le n \le 350$

题目翻译来自NOCOW。

USACO Training Section 1.1


---

---
title: "[IOI 1994] 数字三角形 Number Triangles"
layout: "post"
diff: 普及-
pid: P1216
tag: ['动态规划 DP', '递推', '2001', 'USACO', 'IOI']
---
# [IOI 1994] 数字三角形 Number Triangles
## 题目描述

观察下面的数字金字塔。


写一个程序来查找从最高点到底部任意处结束的路径，使路径经过数字的和最大。每一步可以走到左下方的点也可以到达右下方的点。

![](https://cdn.luogu.com.cn/upload/image_hosting/95pzs0ne.png)

在上面的样例中，从 $7 \to 3 \to 8 \to 7 \to 5$ 的路径产生了最大权值。


## 输入格式

第一个行一个正整数 $r$ ,表示行的数目。

后面每行为这个数字金字塔特定行包含的整数。


## 输出格式

单独的一行,包含那个可能得到的最大的和。

## 样例

### 样例输入 #1
```
5
7
3 8
8 1 0
2 7 4 4
4 5 2 6 5 

```
### 样例输出 #1
```
30

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le r \le 1000$，所有输入在 $[0,100]$ 范围内。

题目翻译来自NOCOW。

USACO Training Section 1.5

IOI1994 Day1T1


---

---
title: "[蓝桥杯 2025 省 Python B] 园艺"
layout: "post"
diff: 普及-
pid: P12175
tag: ['动态规划 DP', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Python B] 园艺
## 题目描述

小蓝从左到右种了 $n$ 棵小树，第 $i$ 棵树的高度为 $h_i$，相邻树的间隔相同。小蓝想挪走一些树使得剩下的树等间隔分布，且从左到右高度逐渐上升（相邻两棵树高度满足右边的比左边的高），小蓝想知道最多能留下多少棵树。
## 输入格式

输入的第一行包含一个正整数 $n$。

第二行包含 $n$ 个正整数 $h_1, h_2, \cdots, h_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
6
3 5 4 7 6 7
```
### 样例输出 #1
```
3
```
## 提示

### 样例说明

留下第 1、3、5 棵树，它们等间隔且从左到右高度逐渐上升。

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$1 \leq n \leq 500$；
- 对于 $60\%$ 的评测用例，$1 \leq n \leq 3000$；
- 对于所有评测用例，$1 \leq n \leq 5000$，$0 < h_i < 10^6$。


---

---
title: "[蓝桥杯 2023 国 Python B] 划分"
layout: "post"
diff: 普及-
pid: P12207
tag: ['动态规划 DP', '2023', '背包 DP', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Python B] 划分
## 题目描述

给定 $40$ 个数，请将其任意划分成两组，每组至少一个元素。每组的权值为组内所有元素的和。划分的权值为两组权值的乘积。请问对于以下 $40$ 个数，划分的权值最大为多少。

```
5160 9191 6410 4657 7492 1531 8854 1253 4520 9231

1266 4801 3484 4323 5070 1789 2744 5959 9426 4433

4404 5291 2470 8533 7608 2935 8922 5273 8364 8819

7374 8077 5336 8495 5602 6553 3548 5267 9150 3309
```
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2023 省 Python B] 松散子序列"
layout: "post"
diff: 普及-
pid: P12379
tag: ['动态规划 DP', '2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Python B] 松散子序列
## 题目描述

给定一个仅含小写字母的字符串 $s$，假设 $s$ 的一个子序列 $t$ 的第 $i$ 个字符对应了原字符串中的第 $p_i$ 个字符。我们定义 $s$ 的一个松散子序列为：对于 $i > 1$ 总是有 $p_i - p_{i-1} \geq 2$。设一个子序列的价值为其包含的每个字符的价值之和（$a \sim z$ 分别为 $1 \sim 26$）。

求 $s$ 的松散子序列中的最大价值。
## 输入格式

输入一行包含一个字符串 $s$。

## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
azaazaz
```
### 样例输出 #1
```
78
```
## 提示

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$|s| \leq 10$；
- 对于 $40\%$ 的评测用例，$|s| \leq 300$；
- 对于 $70\%$ 的评测用例，$|s| \leq 5000$；
- 对于所有评测用例，$1 \leq |s| \leq 10^6$，字符串中仅包含小写字母。


---

---
title: "[NOI2000] 青蛙过河"
layout: "post"
diff: 普及-
pid: P1244
tag: ['动态规划 DP', '递推', '2000', 'NOI']
---
# [NOI2000] 青蛙过河
## 题目描述

**大小各不相同**的一队青蛙站在河左岸的石墩（记为 A）上，要过到对岸的石墩（记为 D）上去。河心有几片荷叶（分别记为 $Y_1 \dots Y_m$）和几个石墩（分别记为 $S_1\dots S_n$）。图示如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/0u3st8yt.png)

青蛙的站队和移动方法规则如下：

- 每只青蛙只能站在荷叶、石墩，或者**仅比它大一号**的青蛙背上（统称为合法的落脚点）；
- 一只青蛙只有背上没有其它青蛙的时候才能够从一个落脚点跳到另一个落脚点；
- 青蛙允许从左岸 A 直接跳到河心的石墩、荷叶和右岸的石墩 D 上，允许从河心的石墩和荷叶跳到右岸的石墩 D 上；
- 青蛙在河心的石墩之间、荷叶之间以及石墩和荷叶之间可以来回跳动；
- 青蛙在离开左岸石墩后，不能再返回左岸；到达右岸后，不能再跳回；
- 假定石墩承重能力很大，允许无论多少只青蛙都可呆在上面。但是，由于石墩的面积不大，至多只能有一只青蛙直接站在上面，而其他的青蛙只能依规则 1 落在比它大一号的青蛙的背上。
- 荷叶不仅面积不大，而且负重能力也有限，至多只能有一只青蛙站在上面。
- 每一步只能移动一只青蛙，并且移动后需要满足站队规则；
- 在一开始的时候，青蛙均站在 A 上，最大的一只青蛙直接站在石墩上，而其它的青蛙依规则 6 站在比其大一号的青蛙的背上。

青蛙希望最终能够全部移动到 D 上，并完成站队。

设河心有 $m$ 片荷叶和 $n$ 个石墩，请求出这队青蛙至多有多少只，在满足站队和移动规则的前提下，能从 A 过到 D。

你的任务是对于给出的 $n,m$，计算并输出最多能有多少只青蛙可以根据以上规则顺利过河。
## 输入格式

输入两个整数 $n,m$。
## 输出格式

一个整数，表示最多能有多少只青蛙可以根据以上规则顺利过河。

## 样例

### 样例输入 #1
```
1 1

```
### 样例输出 #1
```
4

```
## 提示

$n \leq 20$，$m \leq 10^3$。


---

---
title: "[CCC 2025 Junior]  Connecting Territories"
layout: "post"
diff: 普及-
pid: P12613
tag: ['动态规划 DP', '2025', 'CCC（加拿大）']
---
# [CCC 2025 Junior]  Connecting Territories
## 题目背景

Score: 15.
## 题目描述

Ava is playing a strategic game on a grid of tiles. Each tile has an associated cost. When the costs of the tiles are read from left to right, starting with the first row, a repeating pattern of the first $M$ positive integers in increasing order is revealed: $1, 2, 3, \dots , M, 1, 2, 3, \dots , M, 1, 2, 3, \dots$ In this pattern, $M$ represents the maximum cost of a tile. In the grid of tiles shown, $M$ is equal to $5$.

![](https://cdn.luogu.com.cn/upload/image_hosting/wbyl4yjv.png)

Ava needs to purchase one tile in each row in order to make a connecting path from the upper territory (above the first row of tiles) to the lower territory (below the last row of tiles). The first tile purchased must be in the first row. Each subsequently purchased tile must share either an edge or a corner with the tile purchased previously. In the grid of tiles shown, the cost of Ava's connecting path is $9$.

![](https://cdn.luogu.com.cn/upload/image_hosting/5h5lj684.png)

Given a grid of tiles, your job is to determine the minimum cost of a connecting path between the upper and lower territories.
## 输入格式

The first line of input contains a positive integer, $R$, representing the number of rows in the grid. The second line contains a positive integer, $C$, representing the number of columns in the grid. The third line contains a positive integer, $M$ where $M \leq 100\, 000$, representing the maximum cost of a tile.
## 输出格式

Output the positive integer, $P$, which is the minimum cost of a connecting path between the
upper and lower territories.
## 样例

### 样例输入 #1
```
3
5
7
```
### 样例输出 #1
```
6
```
## 提示

**Explanation of Output for Sample Input**

The cost of each tile is shown. The sequence of tiles that Ava should purchase to minimize the cost of a connecting path is highlighted in green.

![](https://cdn.luogu.com.cn/upload/image_hosting/2onq6n9o.png)

The following table shows how the available 15 marks are distributed:

|Marks|Descripton|Bounds|
|:-:|:-:|:-:|
|3|There are two rows and at most ten columns.| $R = 2$ and $C \leq 10$|
|8|There are at most ten rows and at most ten columns.| $R \leq 10$ and $C \leq 10$ |
|2|There are at most 100 rows and at most 100 columns.| $R \leq 100$ and $C \leq 100$|
|2| The grid may be very large.|$R \leq 20\, 000$ and $C \leq 20\, 000$|


---

---
title: "[蓝桥杯 2025 国 Java B] 情绪链路"
layout: "post"
diff: 普及-
pid: P12889
tag: ['动态规划 DP', '贪心', '2025', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 Java B] 情绪链路
## 题目描述

在数字社交媒体的浩瀚世界中，运营者小蓝负责维护一条情绪链路。这条链路由 $n$ 个用户节点依次排列而成，每个节点上记录着一个情绪值。具体地，第 $i$ 个节点的情绪值为 $a_i$，其中 $a_i$ 是一个整数，可能为正，也可能为负。

为了改善整体情绪氛围，小蓝购买了一种名为“情绪放大器”的工具。该工具允许他选择一段**至少包含一个用户节点的连续区间**，并将这个区间内所有用户节点的情绪值都乘以一个整数 $k$。只是，工具启动成本高昂，小蓝只能使用它一次。

现在，请你帮助小蓝计算，在经过这样一次操作后（一定要操作），所有用户节点的情绪值之和最大会是多少。
## 输入格式

第一行包含两个整数 $n$ 和 $k$，分别表示情绪链路的长度和放大器的倍数。

第二行包含 $n$ 个整数 $a_1, a_2, \ldots, a_n$，表示每个用户节点的情绪值。
## 输出格式

输出一行，包含一个整数，表示经过一次操作后，所有用户节点情绪值之和的最大可能值。
## 样例

### 样例输入 #1
```
5 2
-1 2 -3 4 -5
```
### 样例输出 #1
```
1
```
## 提示

**【样例说明】**

最优的做法是选择区间 $[4]$ 并使用工具。使用后这 $n$ 个用户节点的情绪值依次为 $[-1, 2, -3, 8, -5]$，总和为 $1$。

**【评测用例规模与约定】**

对于 $30\%$ 的评测用例，$2 \leq n \leq 10^3$，$1 \leq k \leq 10^3$，$-10^3 \leq a_i \leq 10^3$。

对于 $100\%$ 的评测用例，$2 \leq n \leq 10^5$，$1 \leq k \leq 10^5$，$-10^5 \leq a_i \leq 10^5$。


---

---
title: "[GESP202506 六级] 学习小组"
layout: "post"
diff: 普及-
pid: P13015
tag: ['动态规划 DP', '2025', 'GESP']
---
# [GESP202506 六级] 学习小组
## 题目描述



班主任计划将班级里的 $ n $ 名同学划分为若干个学习小组，每名同学都需要分入某一个学习小组中。观察发现，如果一个学习小组中恰好包含 $ k $ 名同学，则该学习小组的讨论积极度为 $ a_k $。

给定讨论积极度 $ a_1, a_2, \ldots, a_n $，请你计算将这 $ n $ 名同学划分为学习小组的所有可能方案中，讨论积极度之和的最大值。

## 输入格式


第一行，一个正整数 $ n $，表示班级人数。

第二行，$ n $ 个非负整数 $ a_1, a_2, \ldots, a_n $，表示不同人数学习小组的讨论积极度。

## 输出格式


输出共一行，一个整数，表示所有划分方案中，学习小组讨论积极度之和的最大值。
## 样例

### 样例输入 #1
```
4
1 5 6 3
```
### 样例输出 #1
```
10
```
### 样例输入 #2
```
8
0 2 5 6 4 3 3 4
```
### 样例输出 #2
```
12
```
## 提示

对于 $40\%$ 的测试点，保证 $1\le n\le 10$。

对于所有测试点，保证 $1\le n\le 1000$，$0\le a_i\le 10^4$。


---

---
title: "[KOI 2025 #2] 障碍物"
layout: "post"
diff: 普及-
pid: P13517
tag: ['动态规划 DP', '贪心', '2025', 'KOI（韩国）']
---
# [KOI 2025 #2] 障碍物
## 题目背景

试题来源：<https://koi.or.kr/archives/>。中文翻译做了少量本土化修改。

按照[署名—非商业性使用—相同方式共享 4.0 协议国际版](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans)进行授权。
## 题目描述

你正在和朋友们一起在操场上玩跳跃障碍物的游戏。游戏从数轴上的位置 0 开始，各个障碍物从左到右依次放置在 $X_1 < X_2 < ... < X_N$ 的位置上。其中 $X_1 \ge 1$。

你的目标是跳过放置在数轴上的所有 $N$ 个障碍物。为了实现这个目标，你可以进行以下两种行动：

*   向右走 1 步。即，如果从位置 $x$ 开始，将会到达位置 $x+1$。
*   向右跳 2 步。即，如果从位置 $x$ 开始，将会到达位置 $x+2$。

跳过障碍物，意味着必须通过“跳跃”动作越过该障碍物。换句话说，要跳过位于位置 $X_i$ 的障碍物，你必须从位置 $X_i - 1$ 向右跳跃 2 步，从而到达位置 $X_i + 1$。

例如，假设如下图所示，在数轴上的位置 2、5、11 处放置有障碍物。

![](https://cdn.luogu.com.cn/upload/image_hosting/r6cdstuj.png)

可以通过以下几种方法跳过所有障碍物。下文中，$\rightarrow$ 表示行走，$\implies$ 表示跳跃。

*   方法 1: $0 \rightarrow 1 \implies 3 \rightarrow 4 \implies 6 \rightarrow 7 \implies 9 \rightarrow 10 \implies 12$ (共移动 8 次，跳过 3 个障碍物)
![](https://cdn.luogu.com.cn/upload/image_hosting/qhduz50k.png)
*   方法 2: $0 \rightarrow 1 \implies 3 \rightarrow 4 \implies 6 \implies 8 \implies 10 \implies 12$ (共移动 7 次，跳过 3 个障碍物)
![](https://cdn.luogu.com.cn/upload/image_hosting/3ucfl5v1.png)
但是，使用以下方法则无法跳过所有障碍物。

*   方法 3: $0 \implies 2 \implies 4 \implies 6 \implies 8 \implies 10 \implies 12$ (共移动 6 次，跳过 2 个障碍物)
![](https://cdn.luogu.com.cn/upload/image_hosting/jyrzfkbk.png)

*   方法 4: $0 \rightarrow 1 \implies 3 \implies 5 \implies 7 \implies 9 \rightarrow 10 \implies 12$ (共移动 7 次，跳过 2 个障碍物)
![](https://cdn.luogu.com.cn/upload/image_hosting/fz3udx03.png)

*   方法 5: $0 \rightarrow 1 \implies 3 \rightarrow 4 \rightarrow 5$ (共移动 5 次，跳过 1 个障碍物)
![](https://cdn.luogu.com.cn/upload/image_hosting/pbilv3k5.png)

在各个示例中，**移动次数**是行走次数和跳跃次数的总和。在这个示例中，方法 2 是用最少移动次数跳过所有障碍物的最佳方法。

你需要找到一种将**移动次数**最小化、能够跳过所有障碍物的最佳方法。但是，也可能存在仅用给定的两种行动无法跳过所有障碍物的情况。
## 输入格式

第一行给定 $N$。

第二行依次给定 $N$ 个整数 $X_1, X_2, \dots, X_N$，由空格分隔。
## 输出格式

如果无法跳过所有障碍物，则输出 -1。

如果可以跳过所有障碍物，则输出跳过所有障碍物所需的最少移动次数。
## 样例

### 样例输入 #1
```
3
2 5 11
```
### 样例输出 #1
```
7
```
### 样例输入 #2
```
3
7 20 25
```
### 样例输出 #2
```
14
```
### 样例输入 #3
```
4
1 4 5 8
```
### 样例输出 #3
```
-1
```
## 提示

### 限制条件

*   所有给定的数都是整数。
*   $1 \le N \le 250\,000$
*   $1 \le X_1 < X_2 < ... < X_N \le 250\,000$

### 子任务

1.  (7 分) $N = 1, X_1 \le 5$
2.  (12 分) $N = 1, X_1 \le 5\,000$
3.  (23 分) 对于所有满足 $1 \le i \le N$ 的 $i$，$N \le 5\,000$ 且 $X_i \le 5\,000$
4.  (58 分) 无额外限制条件。


---

---
title: "租用游艇"
layout: "post"
diff: 普及-
pid: P1359
tag: ['动态规划 DP', '图论', '福建省历届夏令营']
---
# 租用游艇
## 题目描述

长江游艇俱乐部在长江上设置了 $n$ 个游艇出租站 $1,2,\cdots,n$。游客可在这些游艇出租站租用游艇，并在下游的任何一个游艇出租站归还游艇。游艇出租站 $i$ 到游艇出租站 $j$ 之间的租金为 $r(i,j)$（$1\le i\lt j\le n$）。试设计一个算法，计算出从游艇出租站 $1$ 到游艇出租站 $n$ 所需的最少租金。
## 输入格式

第一行中有一个正整数 $n$，表示有 $n$ 个游艇出租站。接下来的 $n-1$ 行是一个半矩阵 $r(i,j)$（$1\le i<j\le n$）。
## 输出格式

输出计算出的从游艇出租站 $1$ 到游艇出租站 $n$ 所需的最少租金。
## 样例

### 样例输入 #1
```
3
5 15
7


```
### 样例输出 #1
```
12


```
## 提示

$n\le 200$，保证计算过程中任何时刻数值都不超过 $10^6$。


---

---
title: "最大正方形"
layout: "post"
diff: 普及-
pid: P1387
tag: ['动态规划 DP', '福建省历届夏令营', '枚举', '前缀和']
---
# 最大正方形
## 题目描述

在一个 $n\times m$ 的只包含 $0$ 和 $1$ 的矩阵里找出一个不包含 $0$ 的最大正方形，输出边长。
## 输入格式

输入文件第一行为两个整数 $n,m(1\leq n,m\leq 100)$，接下来 $n$ 行，每行 $m$ 个数字，用空格隔开，$0$ 或 $1$。
## 输出格式

一个整数，最大正方形的边长。
## 样例

### 样例输入 #1
```
4 4
0 1 1 1
1 1 1 0
0 1 1 0
1 1 0 1

```
### 样例输出 #1
```
2

```


---

---
title: "NASA的食物计划"
layout: "post"
diff: 普及-
pid: P1507
tag: ['模拟', '动态规划 DP', '背包 DP']
---
# NASA的食物计划
## 题目背景

NASA（美国航空航天局）因为航天飞机的隔热瓦等其他安全技术问题一直大伤脑筋，因此在各方压力下终止了航天飞机的历史，但是此类事情会不会在以后发生，谁也无法保证。所以，在遇到这类航天问题时，也许只能让航天员出仓维修。但是过多的维修会消耗航天员大量的能量，因此 NASA 便想设计一种食品方案，使体积和承重有限的条件下多装载一些高卡路里的食物。
## 题目描述

航天飞机的体积有限，当然如果载过重的物品，燃料会浪费很多钱，每件食品都有各自的体积、质量以及所含卡路里。在告诉你体积和质量的最大值的情况下，请输出能达到的食品方案所含卡路里的最大值，当然每个食品只能使用一次。
## 输入格式

第一行 $2$ 个整数，分别代表体积最大值 $h$ 和质量最大值 $t$。 

第二行 $1$ 个整数代表食品总数 $n$。 

接下来 $n$ 行每行 $3$ 个数 体积 $h_i$，质量 $t_i$，所含卡路里 $k_i$。 
## 输出格式

一个数，表示所能达到的最大卡路里（`int` 范围内）
## 样例

### 样例输入 #1
```
320 350
4
160 40 120
80 110 240
220 70 310
40 400 220

```
### 样例输出 #1
```
550

```
## 提示

对于 $100\%$ 的数据，$h,t,h_i,t_i \le 400$，$n \le 50$，$k_i \le 500$。


---

---
title: "Generic Cow Protests"
layout: "post"
diff: 普及-
pid: P1569
tag: ['动态规划 DP', 'USACO']
---
# Generic Cow Protests
## 题目描述

约翰家的 $n$ 头奶牛聚集在一起，排成一列，正在进行一项抗议活动。第 $i$ 头奶牛的理智度为 $a_i$。  
约翰希望奶牛在抗议时保持理性，为此，他打算将所有的奶牛隔离成若干个小组，每个小组内的奶牛的理智度总和都要不小于零。  
由于奶牛是按直线排列的，所以一个小组内的奶牛位置必须是连续的。请帮助约翰计算一下，最多分成几组。

## 输入格式

第一行一个正整数 $n$，表示牛的数目。  
接下来 $n$ 行，每行一个整数，表示每个牛的理智度。
## 输出格式

若存在合法分组方案，输出一行一个整数表示答案；否则输出 `Impossible`。

## 样例

### 样例输入 #1
```
4
2
3
-3
1

```
### 样例输出 #1
```
3
```
## 提示

【数据规模和约定】   
对于 $30\%$ 的数据，$1\le n \le 20$；   
对于 $100\%$ 的数据，$1\le n \le 1000$，$|a_i| \le 10^5$。  



---

---
title: "疯狂的采药"
layout: "post"
diff: 普及-
pid: P1616
tag: ['动态规划 DP', '洛谷原创', '背包 DP']
---
# 疯狂的采药
## 题目背景

此题为纪念 LiYuxiang 而生。

## 题目描述

LiYuxiang 是个天资聪颖的孩子，他的梦想是成为世界上最伟大的医师。为此，他想拜附近最有威望的医师为师。医师为了判断他的资质，给他出了一个难题。医师把他带到一个到处都是草药的山洞里对他说：“孩子，这个山洞里有一些不同种类的草药，采每一种都需要一些时间，每一种也有它自身的价值。我会给你一段时间，在这段时间里，你可以采到一些草药。如果你是一个聪明的孩子，你应该可以让采到的草药的总价值最大。”

如果你是 LiYuxiang，你能完成这个任务吗？

此题和原题的不同点：

$1$. 每种草药可以无限制地疯狂采摘。

$2$. 药的种类眼花缭乱，采药时间好长好长啊！师傅等得菊花都谢了！
## 输入格式

输入第一行有两个整数，分别代表总共能够用来采药的时间 $t$ 和代表山洞里的草药的数目 $m$。

第 $2$ 到第 $(m + 1)$ 行，每行两个整数，第 $(i + 1)$ 行的整数 $a_i, b_i$ 分别表示采摘第 $i$ 种草药的时间和该草药的价值。
## 输出格式

输出一行，这一行只包含一个整数，表示在规定的时间内，可以采到的草药的最大总价值。
## 样例

### 样例输入 #1
```
70 3
71 100
69 1
1 2

```
### 样例输出 #1
```
140

```
## 提示

#### 数据规模与约定

- 对于 $30\%$ 的数据，保证 $m \le 10^3$ 。
- 对于 $100\%$ 的数据，保证 $1 \leq m \le 10^4$，$1 \leq t \leq 10^7$，且 $1 \leq m \times t \leq 10^7$，$1 \leq a_i, b_i \leq 10^4$。


---

---
title: "神奇的四次方数"
layout: "post"
diff: 普及-
pid: P1679
tag: ['模拟', '动态规划 DP', '搜索', '数学', '背包 DP']
---
# 神奇的四次方数
## 题目背景

在你的帮助下，v 神终于帮同学找到了最合适的大学，接下来就要通知同学了。在班级里负责联络网的是 dm 同学，于是 v 神便找到了 dm 同学，可 dm 同学正在忙于研究一道有趣的数学题，为了请 dm 出山，v 神只好请你帮忙解决这道题了。
## 题目描述

将一个整数 $m$ 分解为 $n$ 个四次方数的和的形式，要求 $n$ 最小。例如，当 $m=706$ 时，因为 $706=5^4+3^4$，所以有 $n=2$。可以证明此时 $n$ 最小。
## 输入格式

一行，一个整数 $m$。
## 输出格式

一行，一个整数 $n$。
## 样例

### 样例输入 #1
```
706
```
### 样例输出 #1
```
2
```
## 提示

### 数据范围及约定

- 对于 $30\%$ 的数据，$m \le 5000$；
- 对于 $100\%$ 的数据，$m \le 100,000$。


---

---
title: "最大加权矩形"
layout: "post"
diff: 普及-
pid: P1719
tag: ['动态规划 DP', '递推', '枚举', '前缀和']
---
# 最大加权矩形
## 题目描述

为了更好的备战 NOIP2013，电脑组的几个女孩子 LYQ,ZSC,ZHQ 认为，我们不光需要机房，我们还需要运动，于是就决定找校长申请一块电脑组的课余运动场地，听说她们都是电脑组的高手，校长没有马上答应他们，而是先给她们出了一道数学题，并且告诉她们：你们能获得的运动场地的面积就是你们能找到的这个最大的数字。

校长先给他们一个 $n\times n$ 矩阵。要求矩阵中最大加权矩形，即矩阵的每一个元素都有一权值，权值定义在整数集上。从中找一矩形，矩形大小无限制，是其中包含的所有元素的和最大 。矩阵的每个元素属于 $[-127,127]$ ,例如

```plain
 0 –2 –7  0 
 9  2 –6  2
-4  1 –4  1 
-1  8  0 –2
```

在左下角：

```plain
9  2
-4  1
-1  8
```

和为 $15$。

几个女孩子有点犯难了，于是就找到了电脑组精打细算的 HZH，TZY 小朋友帮忙计算，但是遗憾的是他们的答案都不一样，涉及土地的事情我们可不能含糊，你能帮忙计算出校长所给的矩形中加权和最大的矩形吗？

## 输入格式

第一行：$n$，接下来是 $n$ 行 $n$ 列的矩阵。

## 输出格式

最大矩形（子矩阵）的和。

## 样例

### 样例输入 #1
```
4
0 -2 -7 0
 9 2 -6 2
-4 1 -4  1 
-1 8  0 -2

```
### 样例输出 #1
```
15
```
## 提示

$1 \leq n\le 120$


---

---
title: "最大约数和"
layout: "post"
diff: 普及-
pid: P1734
tag: ['动态规划 DP', '背包 DP']
---
# 最大约数和
## 题目描述

选取和不超过 $S$ 的若干个不同的正整数，使得所有数的约数（不含它本身）之和最大。
## 输入格式

输入一个正整数 $S$。
## 输出格式

输出最大的约数之和。

## 样例

### 样例输入 #1
```
11
```
### 样例输出 #1
```
9
```
## 提示

**【样例说明】**

取数字 $4$ 和 $6$，可以得到最大值 $(1+2)+(1+2+3)=9$。

**【数据规模】**

对于 $100 \%$ 的数据，$1 \le S \le 1000$。


---

---
title: "通天之分组背包"
layout: "post"
diff: 普及-
pid: P1757
tag: ['动态规划 DP', '背包 DP']
---
# 通天之分组背包
## 题目背景

直达通天路·小 A 历险记第二篇

## 题目描述

自 $01$ 背包问世之后，小 A 对此深感兴趣。一天，小 A 去远游，却发现他的背包不同于 $01$ 背包，他的物品大致可分为 $k$ 组，每组中的物品相互冲突，现在，他想知道最大的利用价值是多少。
## 输入格式

两个数 $m,n$，表示一共有 $n$ 件物品，总重量为 $m$。

接下来 $n$ 行，每行 $3$ 个数 $a_i,b_i,c_i$，表示物品的重量，利用价值，所属组数。
## 输出格式

一个数，最大的利用价值。
## 样例

### 样例输入 #1
```
45 3
10 10 1
10 5 1
50 400 2
```
### 样例输出 #1
```
10
```
## 提示

$0 \leq m \leq 1000$，$1 \leq n \leq 1000$，$1\leq k\leq 100$，$a_i, b_i, c_i$ 在 `int` 范围内。


---

---
title: "汤姆斯的天堂梦"
layout: "post"
diff: 普及-
pid: P1796
tag: ['动态规划 DP', 'NOI 导刊']
---
# 汤姆斯的天堂梦
## 题目描述

汤姆斯生活在一个等级为 $0$ 的星球上。那里的环境极其恶劣，每天 $12$ 小时的工作和成堆的垃圾让人忍无可忍。他向往着等级为 $N$ 的星球上天堂般的生活。

有一些航班将人从低等级的星球送上高一级的星球，有时需要向驾驶员支付一定金额的费用，有时却又可以得到一定的金钱。

汤姆斯预先知道了从 $0$ 等级星球去 $N$ 等级星球所有的航线和需要支付（或者可以得到）的金钱，他想寻找一条价格最低（甚至获得金钱最多）的航线。
## 输入格式

第一行一个正整数 $N$（$N \le 100$），接下来的数据可分为 $N$ 个段落，每段的第一行一个整数 $K_i$（$K_i \le 100$），表示等级为 $i$ 的星球有 $K_i$ 个。

接下来的 $K_i$ 行中第 $j$ 行依次表示与等级为 $i$，编号为 $j$ 的星球相连的等级为 $i - 1$ 的星球的编号和此航线需要的费用（正数表示支出，负数表示收益，费用的绝对值不超过 $1000$）。

每行以 $0$ 结束，每行的航线数 $\le 100$。
## 输出格式

输出所需（或所得）费用。正数表示支出，负数表示收益。
## 样例

### 样例输入 #1
```
3
2
1 15 0
1 5 0
3
1 -5 2 10 0
1 3 0
2 40 0
2
1 1 2 5 3 -5 0
2 -19 3 -20 0
```
### 样例输出 #1
```
-1
```
## 提示

对于 $100 \%$ 的数据，$1 \le N \le 100$，$1 \le K_i \le 100$。

样例解释：

![](https://cdn.luogu.com.cn/upload/image_hosting/x085ukra.png)


---

---
title: "5 倍经验日"
layout: "post"
diff: 普及-
pid: P1802
tag: ['动态规划 DP']
---
# 5 倍经验日
## 题目背景

现在乐斗有活动了！每打一个人可以获得 5 倍经验！absi2011 却无奈的看着那一些比他等级高的好友，想着能否把他们干掉。干掉能拿不少经验的。
## 题目描述

现在 absi2011 拿出了 $x$ 个迷你装药物（嗑药打人可耻…），准备开始与那些人打了。

由于迷你装药物每个只能用一次，所以 absi2011 要谨慎的使用这些药。悲剧的是，用药量没达到最少打败该人所需的属性药药量，则打这个人必输。例如他用 $2$ 个药去打别人，别人却表明 $3$ 个药才能打过，那么相当于你输了并且这两个属性药浪费了。

现在有 $n$ 个好友，给定失败时可获得的经验、胜利时可获得的经验，打败他至少需要的药量。

要求求出最大经验 $s$，输出 $5s$。
## 输入格式

第一行两个数，$n$ 和 $x$。

后面 $n$ 行每行三个数，分别表示失败时获得的经验 $\mathit{lose}_i$，胜利时获得的经验 $\mathit{win}_i$ 和打过要至少使用的药数量 $\mathit{use}_i$。
## 输出格式

一个整数，最多获得的经验的五倍。
## 样例

### 样例输入 #1
```
6 8
21 52 1
21 70 5
21 48 2
14 38 3
14 36 1
14 36 2

```
### 样例输出 #1
```
1060
```
## 提示

**【Hint】**

五倍经验活动的时候，absi2011 总是吃体力药水而不是这种属性药。

**【数据范围】**

- 对于 $10\%$ 的数据，保证 $x=0$。
- 对于 $30\%$ 的数据，保证 $0\le n\le 10$，$0\le x\le 20$。
- 对于 $60\%$ 的数据，保证 $0\le n,x\le 100$， $10<lose_i,win_i\le 100$，$0\le use_i\le 5$。
- 对于 $100\%$ 的数据，保证 $0\le n,x\le 10^3$，$0<lose_i\le win_i\le 10^6$，$0\le use_i\le 10^3$。

**【题目来源】**

fight.pet.qq.com

absi2011 授权题目


---

---
title: "A+B Problem（再升级）"
layout: "post"
diff: 普及-
pid: P1832
tag: ['动态规划 DP', '数学', '递推', '洛谷原创', '背包 DP', '素数判断,质数,筛法']
---
# A+B Problem（再升级）
## 题目背景

题目名称是吸引你点进来的。

实际上该题还是很水的。

## 题目描述

- $1+1=?$ 显然是 $2$。
- $a+b=?$ P1001 回看不谢。
- 哥德巴赫猜想 似乎已呈泛滥趋势。

_以上纯属个人吐槽_

给定一个正整数 $n$，求将其分解成若干个素数之和的方案总数。


## 输入格式

一行一个正整数 $n$。

## 输出格式

一行一个整数表示方案总数。
## 样例

### 样例输入 #1
```
7
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
20
```
### 样例输出 #2
```
26
```
## 提示

### 样例解释

存在如下三种方案：

- $7=7$。
- $7=2+5$。
- $7=2+2+3$。

### 数据范围及约定

- 对于 $30\%$ 的数据 $1\le n\le 10$。
- 对于 $100\%$ 的数据，$1\le n\le 10^3$。



---

---
title: "榨取kkksc03"
layout: "post"
diff: 普及-
pid: P1855
tag: ['动态规划 DP', '数学', '枚举', '背包 DP']
---
# 榨取kkksc03
## 题目描述

洛谷 2 的团队功能是其他任何 OJ 和工具难以达到的。借助洛谷强大的服务器资源，任何学校都可以在洛谷上零成本的搭建 OJ 并高效率的完成训练计划。

为什么说是搭建 OJ 呢？为什么高效呢？

![](https://cdn.luogu.com.cn/upload/pic/1236.png)

因为，你可以上传私有题目，团队外别人是无法看到的。我们还能帮你们评测！

你可以创建作业，给组员布置任务，查看组员的完成情况，还可以点评任意一份代码！

你可以创建比赛！既可以是 OI 赛制还可以是 ICPC 赛制！既可以是团队内部的私有比赛，也可以公开赛，甚至可以指定谁可以参加比赛。这样，搞“x 校联赛”最合适不过了。洛谷凭借这个功能，希望能够提供公开及私有比赛的另外一个平台。

![](https://cdn.luogu.com.cn/upload/pic/1237.png)

值得说明的是，本次比赛就是采用团队私有题目+邀请比赛的机制。

洛谷的运营组决定，如果一名 OIer 向他的教练推荐洛谷，并能够成功的使用（成功使用的定义是：该团队有 $20$ 个或以上的成员，上传 $10$ 道以上的私有题目，布置过一次作业并成功举办过一次公开比赛），那么他可以浪费掉 kkksc03 的一些时间的同时消耗掉 kkksc03 的一些金钱以满足自己的一个愿望。

kkksc03 的时间和金钱是有限的，所以他很难满足所有同学的愿望。所以他想知道在自己的能力范围内，最多可以完成多少同学的愿望？
## 输入格式

第一行三个整数 $n,M,T$，表示一共有 $n$（$1 \le n \le 100$）个愿望， kkksc03 的手上还剩 $M$（$0 \le M \le 200$）元，他的暑假有 $T$（$0 \le T \le 200$）分钟时间。

第 $2$~$n+1$ 行 $m_{i}$ , $t_{i}$ 表示第 $i$ 个愿望所需要的金钱和时间。
## 输出格式

一行，一个数，表示 kkksc03 最多可以实现愿望的个数。

## 样例

### 样例输入 #1
```
6 10 10
1 1
2 3 
3 2
2 5
5 2
4 3
```
### 样例输出 #1
```
4
```


---

---
title: "[HAOI2012] 音量调节"
layout: "post"
diff: 普及-
pid: P1877
tag: ['动态规划 DP', '2012', '河南', '各省省选', '枚举', '背包 DP']
---
# [HAOI2012] 音量调节
## 题目描述

一个吉他手准备参加一场演出。他不喜欢在演出时始终使用同一个音量，所以他决定每一首歌之前他都需要改变一次音量。在演出开始之前，他已经做好一个列表，里面写着每首歌开始之前他想要改变的音量是多少。每一次改变音量，他可以选择调高也可以调低。

音量用一个整数描述。输入文件中整数 $beginLevel$，代表吉他刚开始的音量，整数 $maxLevel$，代表吉他的最大音量。音量不能小于 $0$ 也不能大于 $maxLevel$。输入中还给定了 $n$ 个整数 $c_1,c_2,c_3,\cdots,c_n$，表示在第 $i$ 首歌开始之前吉他手想要改变的音量是多少。

吉他手想以最大的音量演奏最后一首歌，你的任务是找到这个最大音量是多少。
## 输入格式

第一行依次为三个整数 $n$，$beginLevel$ 和 $maxLevel$。

第二行依次为 $n$ 个整数 $c_1,c_2,c_3,\cdots,c_n$。
## 输出格式

输出演奏最后一首歌的最大音量。如果吉他手无法避免音量低于 $0$ 或者高于 $maxLevel$，输出 `-1`。
## 样例

### 样例输入 #1
```
3 5 10
5 3 7

```
### 样例输出 #1
```
10
```
## 提示

$1\le n\le 50$，$1\le c_i\le beginLevel$，$1\le maxLevel\le 1000$，$0\le beginLevel\le maxLevel$。


---

---
title: "L 国的战斗之间谍"
layout: "post"
diff: 普及-
pid: P1910
tag: ['动态规划 DP', '洛谷原创', '枚举', '背包 DP']
---
# L 国的战斗之间谍
## 题目背景

L 国即将与 I 国发动战争！！

## 题目描述

俗话说的好：“知己知彼，百战不殆”。L 国的指挥官想派出间谍前往I国，于是，选人工作就落到了你身上。

你现在有 $N$ 个人选，每个人都有这样一些数据：$A$（能得到多少资料）、$B$（伪装能力有多差）、$C$（要多少工资）。已知敌人的探查间谍能力为 $M$（即去的所有人 $B$ 的和要小于等于 $M$）和手头有 $X$ 元钱，请问能拿到多少资料？

## 输入格式

第一行三个整数 $N, M, X$ 代表总人数，敌国侦察能力和总钱数。

第二行至第 $N + 1$ 行，每行三个整数 $A_i, B_i, C_i$ 分别表示第 $i$ 个人能得到的资料，他的伪装能力有多差和他要的工资。
## 输出格式

一行一个整数表示能得到的资料总数。

## 样例

### 样例输入 #1
```
3 10 12
10 1 11
1 9 1
7 10 12

```
### 样例输出 #1
```
11
```
## 提示

数据范围：$1\le n\le 100$，$1\le m\le 1000$，$1\leq x\leq 1000$。


---

---
title: "小书童——刷题大军"
layout: "post"
diff: 普及-
pid: P1926
tag: ['动态规划 DP', '搜索', '排序', '背包 DP']
---
# 小书童——刷题大军
## 题目背景

数学是火，点亮物理的灯；物理是灯，照亮化学的路；化学是路，通向生物的坑；生物是坑，埋葬学理的人。  
文言是火，点亮历史宫灯；历史是灯，照亮社会之路；社会是路，通向哲学大坑；哲学是坑，埋葬文科生。——小 A

## 题目描述

小 A “刷题”十分猖狂，明目张胆地“刷题”。他现在在小书童里发现了 $n$ 样他喜欢的“题目”，每“题”都有他的需要时间，而老师布置了 $m$ 项作业，每项作业都有它的需要时间及分值，老师规定 $k$ 分以上算及格。小 A 只剩 $r$ 个单位时间，他想在及格的基础上更多地“刷题”。
## 输入格式

第一行四个整数 $n,m,k,r$。

第二行有 $n$ 个数，代表每“题”他的需要时间。

第三行有 $m$ 个数，表示每项作业它的需要时间。

第四行有 $m$ 个数，代表每项作业它的分值。
## 输出格式

一个数，代表小 A 能刷几道题。

## 样例

### 样例输入 #1
```
3 4 20 100
15 20 50
10 15 40 40
5 5 10 15
```
### 样例输出 #1
```
2
```
## 提示

### 数据范围及约定


对于 $100\%$ 的数据，$n\le 10$，$m\le 10$，$k\le 50$，$r\le 150$。数据保证没有不能及格的情况。



---

---
title: "【mc生存】卖东西"
layout: "post"
diff: 普及-
pid: P1964
tag: ['动态规划 DP']
---
# 【mc生存】卖东西
## 题目背景

服务器好好玩。
## 题目描述

lcy0x1 去服务器的系统商店买东西。

一个人的背包有 $21$ 格。

一开始他的背包里有 $m$ 件不同的物品（**不能卖**）。

他要买 $n$ 种物品，第 $i$ 件物品的名字为 $st_i$，有 $a_i$ 件，价值为 $b_i$，一格可以放 $c_i$ 个。

相同的物品可以放同一格（只要没放满）。

问：他跑一次最多能卖多少钱。
## 输入格式

第一行两个整数 $m,n$。

下面 $n$ 行，第 $i+1$ 行三个整数 $a_i,b_i,c_i$ 与一个字符串 $st_i$。

## 输出格式

最多卖的钱 $s$。
## 样例

### 样例输入 #1
```
20 3

63 1 64 yinshifen

1 10 1 men

1 1 64 yinshifen
```
### 样例输出 #1
```
64
```
## 提示

数据保证：

- $0\leq m\leq 21$；
- $0\leq n\leq 100$；
- $0\leq a_i\leq 1344$；
- $0\leq b_i\leq 10^4$；
- $0<c_i\leq 64$；
- $0<|st_i|<100$；
- $0\leq s\leq 10^6$。

**注：数据强大，搜索 $0$ 分，请使用多重背包。**


---

---
title: "美元汇率"
layout: "post"
diff: 普及-
pid: P1968
tag: ['动态规划 DP', '贪心', 'Special Judge']
---
# 美元汇率
## 题目背景

此处省略 `MAX_INT+1` 个数。
## 题目描述

在以后的若干天里戴维将学习美元与德国马克的汇率。编写程序帮助戴维何时应买或卖马克或美元，使他从 $100$ 美元开始，最后能获得最高可能的价值。

## 输入格式

输入文件的第一行是一个自然数 $N$，$1≤N≤100$，表示戴维学习汇率的天数。

接下来的 $N$ 行中每行是一个自然数 $A$，$1≤A≤1000$。第 $i+1$ 行的 $A$ 表示预先知道的第 $i+1$ 天的平均汇率，在这一天中，戴维既能用 $100$ 美元买 $A$ 马克也能用 $A$ 马克购买 $100$ 美元。

## 输出格式

输出文件的第一行也是唯一的一行应输出要求的钱数（单位为美元，保留两位小数）。

注意：考虑到实数算术运算中进位的误差，结果在正确结果 $0.05$ 美元范围内的被认为是正确的，戴维必须在最后一天结束之前将他的钱都换成美元。

## 样例

### 样例输入 #1
```
5
400
300
500
300
250
```
### 样例输出 #1
```
266.67
```
## 提示

**样例解释**

```cpp
Day 1 ... changing 100.0000 美元= 400.0000 马克
Day 2 ... changing 400.0000 马克= 133.3333 美元
Day 3 ... changing 133.3333 美元= 666.6666 马克
Day 5 ... changing 666.6666 马克= 266.6666 美元
```

update on 2017/08/18：

1. 样例正确答案为 $266.67$

2. 已经把测试点 $1$ 改成样例。

3. SPJ 原先误差是 $0.01$，按照题目要求，重新改为 $0.05$。


---

---
title: "大朋友的数字"
layout: "post"
diff: 普及-
pid: P2008
tag: ['动态规划 DP']
---
# 大朋友的数字
## 题目背景

在 NOIP2013 的赛场上，常神牛华丽丽的手残了，小朋友的数字一题只得了 $10$ 分。于是，他要恶搞一下这道题。
## 题目描述

有一批大朋友（年龄 $15$ 岁以上），他们每人手上拿着一个数字，当然这个数字只有 $1$ 位，也就是 $0$ 到 $9$ 之间。每个大朋友的分数为在他之前的最长不下降子序列中所有数之和。（这个序列必须以它作为结尾！）如有多个最长不下降子序列，那么取编号字典序最小的。现在告诉你有 $n$ 个大朋友，以及他们各自的数字，请你求出他们每个人的分数。
## 输入格式

第一行，$1$ 个数 $n$。

第二行，$n$ 个数，分别表示每个人的数字。
## 输出格式

一行，$n$ 个数，分别表示每个人的分数。
## 样例

### 样例输入 #1
```
5
1 2 5 3 4

```
### 样例输出 #1
```
1 3 8 6 10

```
### 样例输入 #2
```
5
1 7 5 9 6

```
### 样例输出 #2
```
1 8 6 17 12

```
## 提示

【样例解释 $1$】

五个人分数分别为 $(1),(1+2),(1+2+5),(1+2+3),(1+2+3+4)$。

【样例解释 $2$】

五个人分数分别为 $(1),(1+7),(1+5),(1+7+9)$ （还有一个 $(1,5,9)$），$(1+5+6)$。

【数据规模】

对于 $50\%$ 的数据，$1\le n\le 500$；

对于 $80\%$ 的数据，$1\le n\le 10^3$；

对于 $100\%$ 的数据，$1\le n\le 10^4$。


---

---
title: "[NOIP 1996 提高组] 砝码称重"
layout: "post"
diff: 普及-
pid: P2347
tag: ['动态规划 DP', 'NOIP 提高组', '1996']
---
# [NOIP 1996 提高组] 砝码称重
## 题目描述

设有 $1\mathrm{g}$、$2\mathrm{g}$、$3\mathrm{g}$、$5\mathrm{g}$、$10\mathrm{g}$、$20\mathrm{g}$ 的砝码各若干枚（其总重 $ \le 1000$），可以表示成多少种重量？
## 输入格式

输入方式：$a_1 , a_2  ,a_3 , a_4 , a_5 ,a_6$

（表示 $1\mathrm{g}$ 砝码有 $a_1$ 个，$2\mathrm{g}$ 砝码有 $a_2$ 个，$\dots$，$20\mathrm{g}$ 砝码有 $a_6$ 个）

## 输出格式

输出方式：`Total=N`

（$N$ 表示用这些砝码能称出的不同重量的个数，但不包括一个砝码也不用的情况）

## 样例

### 样例输入 #1
```
1 1 0 0 0 0
```
### 样例输出 #1
```
Total=3
```
## 提示

**【题目来源】**

NOIP 1996 提高组第四题


---

---
title: "围栏木桩"
layout: "post"
diff: 普及-
pid: P2362
tag: ['动态规划 DP', '洛谷原创']
---
# 围栏木桩
## 题目描述

某农场有一个由按编号排列的 $n$ 根木桩构成的首尾不相连的围栏。现要在这个围栏中选取一些木桩，按照原有的编号次序排列之后，这些木桩高度成一个升序序列。所谓的升序序列就是序列中的任何一个数都不小于它之前的任何一个数。试编写程序从这个围栏中选取合适的木桩使得选出的木桩个数 $t$ 最大，并求出选取出 $t$ 根木桩的方案总数 $c$。

## 输入格式

文件中的第一行只有一个数 $m$，表明随后有 $m$ 个问题的描述信息。每个问题的描述信息格式为 $n,h_1,h_2,h_3,…,h_n$（其中 $h_i(i=1,2,3,…,n)$ 表示第 $i$ 根木桩的高度）。

## 输出格式

依次输出每个问题中 $t$ 和 $c$ 的解。每行输出一个问题的解。

## 样例

### 样例输入 #1
```
3
9 10 1 9 8 7 6 3 4 6
3 100 70 102
6 40 37 23 89 91 12
```
### 样例输出 #1
```
4 1
2 2
3 3
```
## 提示

$m \leq 5$，$n \leq 20$，$h_i \leq 150$。


---

---
title: "严酷的训练"
layout: "post"
diff: 普及-
pid: P2430
tag: ['动态规划 DP', '背包 DP']
---
# 严酷的训练
## 题目背景

Lj 的朋友 WKY 是一名神奇的少年，在同龄人之中有着极高的地位。。。

## 题目描述

他的老师老王对他的程序水平赞叹不已，于是下决心培养这名小子。

老王的训练方式很奇怪，他会一口气让 WKY 做很多道题，要求他在规定的时间完成。而老王为了让自己的威信提高，自己也会把这些题都做一遍。

WKY 和老王都有一个水平值，他们水平值的比值和做这些题所用时间的比值成反比。比如如果 WKY 的水平值是 $1$，老王的水平值是 $2$，那么 WKY 做同一道题的时间就是老王的 $2$ 倍。

每个题目有他所属的知识点，这我们都知道，比如递归，动规，最短路，网络流。在这里我们不考虑这些事情，我们只知道他们分别是知识点 $1$，知识点 $2$……每一个知识点有他对应的难度，比如动态规划经常难于模拟。

而每一个同一知识点下的题目，对于 WKY 来讲，都是一样难的。而做出每一道题，老王都有其独特的奖励值。而奖励值和题目的知识点没有必然联系。

现在 WKY 同学请你帮忙，计算在老王规定的时间内，WKY 所能得到最大奖励值是多少 。

## 输入格式

输入文件包括以下内容：

第一行：

WKY 的水平值和老王的水平值。

数据保证 WKY 的水平值小于老王的水平值（哪怕它不现实），且老王的水平值是 WKY 的水平值的整数倍。

第二行：

题目的总数 $m$ 和知识点的总数 $n$。

第三行：

$n$ 个整数。第 $i$ 个整数表示老王在做第 $i$ 个知识点的题目所需的时间。

接下来有 $m$ 行数每一行包括两个整数 $p$，$q$ 。$p$ 表示该题目所属的知识点，$q$ 表示该题目对应的奖励值。

最后一行是规定的时间。
## 输出格式

输出文件只有一行，表示能到得到的最大奖励值。

## 样例

### 样例输入 #1
```
1 2
6 4
1 2 3 4
1 5
2 6
3 3
4 8
3 3
4 5
20
```
### 样例输出 #1
```
22
```
## 提示

对于 $100 \%$ 的数据，$1 \leq n, m \leq 100$，规定时间 $\leq 5000$。$1 \leq p \leq n$，$1 \leq q \leq 1000$。


---

---
title: "[USACO09OCT] Bessie's Weight Problem G"
layout: "post"
diff: 普及-
pid: P2639
tag: ['动态规划 DP', '2009', 'USACO', '背包 DP']
---
# [USACO09OCT] Bessie's Weight Problem G
## 题目描述

Bessie 像她的诸多姊妹一样，因为从 Farmer John 的草地吃了太多美味的草而长出了太多的赘肉。所以 FJ 将她置于一个及其严格的节食计划之中。她每天不能吃多过 $H (5 \le H \le 45,000)$ 公斤的干草。 Bessie 只能吃一整捆干草；当她开始吃一捆干草的之后就再也停不下来了。她有一个完整的$N (1 \le N \le 500)$ 捆可以给她当作晚餐的干草的清单。她自然想要尽量吃到更多的干草。很自然地，每捆干草只能被吃一次（即使在列表中相同的重量可能出现2次，但是这表示的是两捆干草，其中每捆干草最多只能被吃掉一次）。 给定一个列表表示每捆干草的重量 $S_i (1 \le S_i \le H)$ , 求 Bessie 不超过节食的限制的前提下可以吃掉多少干草（注意一旦她开始吃一捆干草就会把那一捆干草全部吃完）。
## 输入格式

第一行有两个由空格隔开的整数 $H$ 和 $N$。

第 $2$ 到第 $N+1$ 行，第 $i+1$ 行是一个单独的整数，表示第 $i$ 捆干草的重量 $S_i$。

## 输出格式

第一行一个单独的整数表示 Bessie 在限制范围内最多可以吃多少公斤的干草。

## 样例

### 样例输入 #1
```
56 4
15
19
20
21
```
### 样例输出 #1
```
56
```
## 提示

#### 输入说明

有四捆草，重量分别是 $15,19,20$ 和 $21$。Bessie 在 $56$ 公斤的限制范围内想要吃多少就可以吃多少。


#### 输出说明

Bessie 可以吃 $3$ 捆干草（重量分别为 $15, 20, 21$）。恰好达到她的 $56$ 公斤的限制。



---

---
title: "越越的组队"
layout: "post"
diff: 普及-
pid: P2663
tag: ['动态规划 DP', 'O2优化']
---
# 越越的组队
## 题目描述

班级要组织一场综合能力竞赛，班里共有 $n$ 位学生，将分成两队互相竞争。

老师找到了越越并给了越越一张全班同学综合能力测试的成绩，要求他从全班同学中选出**一半**，并要求这些同学综合能力测试的成绩之和在**不超过班级总分一半**的前提下尽量达到最高。这样分成的两队实力是最平均的。越越堆着满脸的笑容找到了你，你就帮他写一个程序吧。
## 输入格式

第一行有一个整数，表示班级的学生人数 $n$。

第 $2$ 到第 $(n + 1)$ 行，每行一个整数，第 $(i + 1)$ 行的整数 $a_i$ 表示第 $i$ 位同学的成绩。
## 输出格式

输出一行一个整数表示答案。
## 样例

### 样例输入 #1
```
8
77
77
56
77
84
77
56
46
```
### 样例输出 #1
```
273
```
## 提示

#### 样例 1 解释

班级总分为 $550$，总分的一半是 $275$，选则成绩分别为 $56,77,84,56$ 的同学可以达到总分 $273$，是不超过 $275$ 的最大值。

#### 数据规模与约定

对于全部的测试点，保证 $1 \leq n \leq 100$，$0 \leq a_i \leq 100$，数据保证 $n$ 均为偶数。


---

---
title: "[USACO3.1] 总分 Score Inflation"
layout: "post"
diff: 普及-
pid: P2722
tag: ['动态规划 DP', 'USACO', '背包 DP']
---
# [USACO3.1] 总分 Score Inflation
## 题目背景

选手在我们 USACO 的竞赛中的得分越多我们越高兴。

我们试着设计我们的竞赛以便人们能尽可能的多得分,这需要你的帮助。

## 题目描述

我们可以从几个种类中选取竞赛的题目，这里的一个“种类”是指一个竞赛题目的集合，解决集合中的题目需要相同多的时间并且能得到相同的分数。

你的任务是写一个程序来告诉 USACO 的职员,应该从每一个种类中选取多少题目，使得解决题目的总耗时在竞赛规定的时间里并且总分最大。
## 输入格式

输入的第一行是用空格隔开的两个整数，分别代表竞赛时间 $m$ 和题目类 $n$。

第 $2$ 到第 $(n + 1)$ 行，每行两个用空格隔开的整数，第 $(i + 1)$ 行的整数 $p_i, t_i$ 分别代表解决第 $i$ 类题得到的分数和需要花费的时间。

既然是某一类题目，那么这一类题目可以重复选择。

## 输出格式

输出一行一个整数，代表最大的总分。
## 样例

### 样例输入 #1
```
300 4
100 60
250 120
120 100
35 20
```
### 样例输出 #1
```
605
```
## 提示

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 \leq n, m \leq 10^4$，$1 \leq p_i, t_i \leq 10^4$。


---

---
title: "又上锁妖塔"
layout: "post"
diff: 普及-
pid: P2800
tag: ['动态规划 DP']
---
# 又上锁妖塔
## 题目描述

小 A 在玩《剑仙》，他遇到了一个锁妖塔，想从外面爬上去。

锁妖塔共有 $n$ 层，第 $i$ 层的高度为 $h_i$。小 A 会用仙术，每用一次可以让他向上跳一层或两层，但是每次跳跃后小 A 都将用完力气，必须爬过至少一层才能再次跳跃（你可以认为小 A 需要跳两次一层才休息）。

现在小 A 想让你帮他算出爬上塔顶的最短时间。
## 输入格式

第一行一个整数 $n \in [1, 10 ^ 6]$。

第二行 $n$ 个整数 $h_i \in [1, 100]$，表示从下往上第 $i$ 层的高度。
## 输出格式

一个数 $t$，表示最短时间。
## 样例

### 样例输入 #1
```
5
3 5 1 8 4
```
### 样例输出 #1
```
1
```


---

---
title: "[USACO08FEB] Dining Cows B"
layout: "post"
diff: 普及-
pid: P2837
tag: ['动态规划 DP', '递推', '2008', 'USACO']
---
# [USACO08FEB] Dining Cows B
## 题目描述

为了避免餐厅过分拥挤，FJ 要求奶牛们分 $2$ 批就餐。每天晚饭前，奶牛们都会在餐厅前排队入内，按 FJ 的设想，所有第 $2$ 批就餐的奶牛排在队尾，队伍的前半部分则由设定为第 $1$ 批就餐的奶牛占据。

由于奶牛们不理解 FJ 的安排，晚饭前的排队成了一个大麻烦。 第 $i$ 头奶牛有一张标明她用餐批次 $D_i$ 的卡片。虽然所有 $N$ 头奶牛排成了很整齐的队伍，但谁都看得出来，卡片上的号码是完全杂乱无章的。 在若干次混乱的重新排队后，FJ 找到了一种简单些的方法：奶牛们不动，他沿着队伍从头到尾走一遍，把那些他认为排错队的奶牛卡片上的编号改掉，最终得到一个他想要的每个组中的奶牛都站在一起的队列，例如 $112222$ 或 $111122$。有的时候，FJ 会把整个队列弄得只有 $1$ 组奶牛（比方说，$1111$ 或 $222$）。 

你也晓得，FJ 是个很懒的人。他想知道，如果他想达到目的，那么他最少得改多少头奶牛卡片上的编号。所有奶牛在 FJ 改卡片编号的时候，都不会挪位置。
## 输入格式

第一行输入一个整数 $N$（$1 \le N \le 3 \times 10 ^ 4$）。

第 $2 \sim N + 1$ 行，每行 $1$ 个整数，表示第 $i$ 头牛的用餐批次 $D_i$（$1 \le D_i \le 2$）。
## 输出格式

输出 $1$ 个整数，为 FJ 最少要改几头奶牛卡片上的编号，才能让编号变成他设想中的样子。
## 样例

### 样例输入 #1
```
7
2
1
1
1
2
2
1
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
5
2
2
1
2
2
```
### 样例输出 #2
```
1
```
## 提示

$1 \le N \le 3 \times 10 ^ 4$


---

---
title: "[USACO07DEC] Charm Bracelet S"
layout: "post"
diff: 普及-
pid: P2871
tag: ['动态规划 DP', '2007', 'USACO', '枚举', '背包 DP']
---
# [USACO07DEC] Charm Bracelet S
## 题目描述

Bessie has gone to the mall's jewelry store and spies a charm bracelet. Of course, she'd like to fill it with the best charms possible from the N (1 ≤ N ≤ 3,402) available charms. Each charm i in the supplied list has a weight Wi (1 ≤ Wi ≤ 400), a 'desirability' factor Di (1 ≤ Di ≤ 100), and can be used at most once. Bessie can only support a charm bracelet whose weight is no more than M (1 ≤ M ≤ 12,880).

Given that weight limit as a constraint and a list of the charms with their weights and desirability rating, deduce the maximum possible sum of ratings.

有 $N$ 件物品和一个容量为 $M$ 的背包。第 $i$ 件物品的重量是 $W_i$，价值是 $D_i$。求解将哪些物品装入背包可使这些物品的重量总和不超过背包容量，且价值总和最大。
## 输入格式

\* Line 1: Two space-separated integers: N and M

\* Lines 2..N+1: Line i+1 describes charm i with two space-separated integers: Wi and Di

第一行：物品个数 $N$ 和背包大小 $M$。

第二行至第 $N+1$ 行：第 $i$ 个物品的重量 $W_i$ 和价值 $D_i$。
## 输出格式

\* Line 1: A single integer that is the greatest sum of charm desirabilities that can be achieved given the weight constraints

输出一行最大价值。

## 样例

### 样例输入 #1
```
4 6
1 4
2 6
3 12
2 7
```
### 样例输出 #1
```
23
```


---

---
title: "[USACO08DEC] Hay For Sale S"
layout: "post"
diff: 普及-
pid: P2925
tag: ['动态规划 DP', '2008', 'USACO', '背包 DP']
---
# [USACO08DEC] Hay For Sale S
## 题目描述

Farmer John suffered a terrible loss when giant Australian cockroaches ate the entirety of his hay inventory, leaving him with nothing to feed the cows. He hitched up his wagon with capacity C (1 <= C <= 50,000) cubic units and sauntered over to Farmer Don's to get some hay before the cows miss a meal.

Farmer Don had a wide variety of H (1 <= H <= 5,000) hay bales for sale, each with its own volume (1 <= V\_i <= C). Bales of hay, you know, are somewhat flexible and can be jammed into the oddest of spaces in a wagon.

FJ carefully evaluates the volumes so that he can figure out the largest amount of hay he can purchase for his cows.

Given the volume constraint and a list of bales to buy, what is the greatest volume of hay FJ can purchase?  He can't purchase partial bales, of course. Each input line (after the first) lists a single bale FJ can buy.

约翰遭受了重大的损失：蟑螂吃掉了他所有的干草，留下一群饥饿的牛．他乘着容量为C(1≤C≤50000)个单位的马车，去顿因家买一些干草．  顿因有H(1≤H≤5000)包干草，每一包都有它的体积Vi(l≤Vi≤C).约翰只能整包购买，

他最多可以运回多少体积的干草呢？

## 输入格式

\* Line 1: Two space-separated integers: C and H

\* Lines 2..H+1: Each line describes the volume of a single bale: V\_i

## 输出格式

\* Line 1: A single integer which is the greatest volume of hay FJ can purchase given the list of bales for sale and constraints.

## 样例

### 样例输入 #1
```
7 3 
2 
6 
5 

```
### 样例输出 #1
```
7 

```
## 提示

The wagon holds 7 volumetric units; three bales are offered for sale with volumes of 2, 6, and 5 units, respectively.


Buying the two smaller bales fills the wagon.

## 题目翻译

## 题目描述
农民 John 面临一个很可怕的事，因为防范力度不大所以他存储的所有稻草都被蟑螂吃光了，他将面临没有稻草喂养奶牛的局面。在奶牛断粮之前，John 拉着他的马车到农民 Don 的农场中买一些稻草给奶牛过冬。已知 John 的马车可以装的下 $C(1\le C\le5\times10^4)$ 立方的稻草。

农民 Don 有 $H(1\le H\le5\times10^3)$ 捆体积不同的稻草可供购买，每一捆稻草有它自己的体积 $V_i(1\le V_i\le C)$。面对这些稻草 John 认真的计算如何充分利用马车的空间购买尽量多的稻草给他的奶牛过冬。

现在给定马车的最大容积 $C$ 和每一捆稻草的体积 $V_i$，John 如何在不超过马车最大容积的情况下买到最大体积的稻草？他不可以把一捆稻草分开来买。

## 输入格式：
第一行两个整数，分别为 $C$ 和 $H$。
第 $2$ 到 $H+1$ 行:每一行一个整数代表第 $i$ 捆稻草的体积 $V_i$。

## 输出格式：

一个整数，为 John 能买到的稻草的体积。

###### 修改 by zhangsenhao6728


---

---
title: "[USACO11JAN] Profits S"
layout: "post"
diff: 普及-
pid: P3009
tag: ['动态规划 DP', '2011', 'USACO']
---
# [USACO11JAN] Profits S
## 题目描述

The cows have opened a new business, and Farmer John wants to see how well they are doing. The business has been running for N (1 <= N <= 100,000) days, and every day i the cows recorded their net profit P\_i (-1,000 <= P\_i <= 1,000).

Farmer John wants to find the largest total profit that the cows have made during any consecutive time period. (Note that a consecutive time period can range in length from one day through N days.) Help him by writing a program to calculate the largest sum of consecutive profits.


奶牛们开始了新的生意，它们的主人约翰想知道它们到底能做得多好。这笔生意已经做了N（1≤N≤100,000）天，每天奶牛们都会记录下这一天的利润Pi（-1,000≤Pi≤1,000）。


约翰想要找到奶牛们在连续的时间期间所获得的最大的总利润。（注：连续时间的周期长度范围从第一天到第N天）。


请你写一个计算最大利润的程序来帮助他。

## 输入格式

\* Line 1: A single integer: N

\* Lines 2..N+1: Line i+1 contains a single integer: P\_i

## 输出格式

\* Line 1: A single integer representing the value of the maximum sum of profits for any consecutive time period.

## 样例

### 样例输入 #1
```
7 
-3 
4 
9 
-2 
-5 
8 
-3 

```
### 样例输出 #1
```
14 

```
## 提示

The maximum sum is obtained by taking the sum from the second through the sixth number (4, 9, -2, -5, 8) => 14.

感谢@smartzzh 提供的翻译。



---

---
title: "最大差值"
layout: "post"
diff: 普及-
pid: P5146
tag: ['动态规划 DP', '枚举']
---
# 最大差值
## 题目描述

HKE 最近热衷于研究序列，有一次他发现了一个有趣的问题：

对于一个序列 $A_1,A_2,\cdots,A_n$，找出两个数 $i,j$（$1\le i<j\le n$），使得 $A_j-A_i$ 最大。

现在给出这个序列，请找出 $A_j-A_i$ 的最大值。
## 输入格式

第一行为一个正整数 $n$。  

接下来 $n$ 行，每行一个整数，第 $(i + 1)$ 行的整数为 $A_i$。
## 输出格式

一行，为 $A_j-A_i$ 的最大值。

## 样例

### 样例输入 #1
```
10
1
3
4
6
7
9
10
1
2
9


```
### 样例输出 #1
```
9
```
## 提示

#### 数据规模与约定

- 对于 $30\%$ 的数据，$n\le1000$；
- 对于 $70\%$ 的数据，$n\le10^5$；
- 对于 $100\%$ 的数据：$2\le n\le 10^6$，$A_i$ 在 int 范围内。


---

---
title: "「dWoi R1」Password of Shady"
layout: "post"
diff: 普及-
pid: P7158
tag: ['动态规划 DP']
---
# 「dWoi R1」Password of Shady
## 题目背景

天海兰太郎被杀后，最原看到图书架后面刷卡器里的尘土并没有消散，陷入了沉思 ……

最原在想，黑幕是如何做到刷卡器的尘土没有消散但是还成功进入了黑幕的房间呢？然后他再次确认了刷卡器，发现了一个密码盘，密码盘下写着一行文字「真正的秘密总是被谎言欺骗，但黑幕不至于欺骗自己」，然后还有一道题，于是最原要用 1min 的时间解出这道题。
## 题目描述

这道题要求最原构造一个 $n$ 位数，并且满足以下两个要求：

- 「强者从不说废话」，代表着这个数没有前导零，$0$ 没有前导零且是一位数。
- 「强者善于成 $k$ 对合作」，代表着这个数的所有数位中有偶数个 $k$，$0$ 是偶数。

最原很快就让入间制作了一个造数器，但是造数器还需要输入有多少个满足要求的数，于是他就求助于了你，因为做造数器已经用了 59.5s，所以他想让你 0.5s 求出有多少个符合要求的数。

答案对 $998\ 244\ 353$ 取模。
## 输入格式

**本题多测**，测试组数为 $t$。     
对于每组数据，一行两个整数 $n,k$。
## 输出格式

对于每组数据，一行一个整数代表答案。
## 样例

### 样例输入 #1
```
2
2 3
11 4
```
### 样例输出 #1
```
73
842367440
```
## 提示

#### 样例 1 解释

第一组数据，满足要求的数为：

- $0$ 个 $3$，$10\sim 12$，$14 \sim 22$，$24 \sim 29$，$40 \sim 42$，$44 \sim 52$，$54 \sim 62$，$64 \sim 72$，$74 \sim 82$，$84 \sim 92$，$94\sim 99$。
- $2$ 个 $3$，$33$。

第二组数据的样例解释写了 114514 行，但赛前 0.1s 不小心被黑白熊偷走了，书虫来不及补了。

#### 数据规模与约定

**本题采用捆绑测试。**

- Subtask 1（5 pts）：$n=1$。
- Subtask 2（25 pts）：$n \le 6$。
- Subtask 3（25 pts）：$t \le 100$。
- Subtask 4（45 pts）：无特殊限制。

对于 $100\%$ 的数据，$1 \le n \le 10^5$，$1 \le k \le 9$，$1 \le t \le 10^6$。

---

后续：你用 0.5s 求出了答案，并且答案正确，但是最原将构造出的数输入密码盘发现错误了，所以这件事是一个谎言，最原还要去搜集言弹打学级裁判（


---

---
title: "[COCI 2009/2010 #2] KUTEVI"
layout: "post"
diff: 普及-
pid: P7774
tag: ['模拟', '动态规划 DP', '2009', '枚举', '哈希 hashing', 'COCI（克罗地亚）']
---
# [COCI 2009/2010 #2] KUTEVI
## 题目背景

本题为[$\texttt{COCI 2009-2010}\ 2^\texttt{nd}\ \texttt{round}\ \text{T3 KUTEVI}$](https://hsin.hr/coci/archive/2009_2010/contest2_tasks.pdf)。

分值按原题设置，满分 $70$。
## 题目描述

给定 $N$ 个角（第 $i$ 个角记作 $a_i$），作为初始角，另给定 $M$ 个角（第 $i$ 个角记作 $b_i$），作为目标角。

请求出对于每个 $b_i$，它是否能被若干个 $a_i$ 之间的加、减运算得到。

注意同一个 $a_i$ 可以用多次，也可以不用。
## 输入格式

第一行两个正整数 $N,M$。

第二行 $N$ 个正整数，第 $i$ 个数为 $a_i$。

第三行 $M$ 个正整数，第 $i$ 个数为 $b_i$。
## 输出格式

共 $M$ 行，在第 $i$ 行，如果 $b_i$ 能被若干个 $a_i$ 之间的加、减运算得到，输出`YES`，否则输出`NO`。
## 样例

### 样例输入 #1
```
2 1
30 70
40
```
### 样例输出 #1
```
YES
```
### 样例输入 #2
```
1 1
100
60
```
### 样例输出 #2
```
YES
```
### 样例输入 #3
```
3 2
10 20 30
5 70
```
### 样例输出 #3
```
NO
YES
```
## 提示

### 样例解释

样例 $1$ 解释：

$70^\circ-30^\circ=40^\circ$。

样例 $2$ 解释：

$15\times100^\circ=1500^\circ=60^\circ$。

### 数据范围与约定

$1\leq N,M\leq10$，$0<a_i,b_i< 360$。


---

---
title: "[CCC 2022 S1]  Good Fours and Good Fives"
layout: "post"
diff: 普及-
pid: P8395
tag: ['动态规划 DP', '2022', '枚举', 'CCC（加拿大）']
---
# [CCC 2022 S1]  Good Fours and Good Fives
## 题目描述

$\rm Finn$ 非常喜欢 $4$ 和 $5$，他认为所有的数都可以用 $4$ 和 $5$ 进行相加得出。

例：

$14=5+5+4$

$20=4+4+4+4+4$ 或 $20=5+5+5+5$

$40=4+4+4+4+4+4+4+4+4+4$ 或 $40=4+4+4+4+4+5+5+5+5$ 或 $40=5+5+5+5+5+5+5+5$

当然，$4$ 和 $5$ 的顺序并不重要，重要的是他们的个数。

给你一个正整数 $n$，问有多少种方法可以用 $4$ 和 $5$ 拼凑成 $n$。
## 输入格式

一行，一个整数 $n$，表示要被拼凑的数。
## 输出格式

一行，表示方法的数量。如果这个数不能被拼凑，请输出 $0$。
## 样例

### 样例输入 #1
```
14
```
### 样例输出 #1
```
1
```
### 样例输入 #2
```
40
```
### 样例输出 #2
```
3
```
### 样例输入 #3
```
6
```
### 样例输出 #3
```
0
```
## 提示

对于 $20\%$ 的数据：$1\le n\le 10$

对于另外 $15\%$ 的数据：$1\le n\le10^5$ 并且保证
$n\equiv0$ $\pmod 4$

对于另外 $15\%$ 的数据：$1\le n\le10^5$ 并且保证
$n\equiv0$ $\pmod 5$

对于 $100\%$ 的数据：$1\le n\le 10^6$


---

---
title: "[蓝桥杯 2020 省 AB1] 走方格"
layout: "post"
diff: 普及-
pid: P8707
tag: ['动态规划 DP', '2020', '蓝桥杯省赛']
---
# [蓝桥杯 2020 省 AB1] 走方格
## 题目描述

在平面上有一些二维的点阵。

这些点的编号就像二维数组的编号一样，从上到下依次为第 $1$ 至第 $n$ 行，从左到右依次为第 $1$ 至第 $m$ 列，每一个点可以用行号和列号来表示。

现在有个人站在第 $1$ 行第 $1$ 列，要走到第 $n$ 行第 $m$ 列。只能向右或者向下走。

注意，如果行号和列数都是偶数，不能走入这一格中。

问有多少种方案。
## 输入格式

输入一行包含两个整数 $n$，$m$。
## 输出格式

输出一个整数，表示答案。
## 样例

### 样例输入 #1
```
3 4
```
### 样例输出 #1
```
2
```
## 提示

$1\le n,m\le30$。

蓝桥杯 2020 第一轮省赛 A 组 G 题（B 组 H 题）。


---

---
title: "[蓝桥杯 2021 省 AB] 砝码称重"
layout: "post"
diff: 普及-
pid: P8742
tag: ['动态规划 DP', '2021', '背包 DP', '蓝桥杯省赛']
---
# [蓝桥杯 2021 省 AB] 砝码称重
## 题目描述

你有一架天平和 $N$ 个砝码, 这 $N$ 个砝码重量依次是 $W_{1}, W_{2}, \cdots, W_{N}$ 。 请你计算一共可以称出多少种不同的重量?

注意砝码可以放在天平两边。

## 输入格式

输入的第一行包含一个整数 $N$ 。

第二行包含 $N$ 个整数: $W_{1}, W_{2}, W_{3}, \cdots, W_{N}$ 。
## 输出格式

输出一个整数代表答案。
## 样例

### 样例输入 #1
```
3
1 4 6
```
### 样例输出 #1
```
10
```
## 提示

**【样例说明】**

能称出的 10 种重量是: $1 、 2 、 3 、 4 、 5 、 6 、 7 、 9 、 10 、 11$ 。

$$
\begin{aligned}
&1=1 \\
&2=6-4(\text { 天平一边放 } 6, \text { 另一边放 4) } \\
&3=4-1 \\
&4=4 \\
&5=6-1 \\
&6=6 \\
&7=1+6 \\
&9=4+6-1 \\
&10=4+6 \\
&11=1+4+6
\end{aligned}
$$

**【评测用例规模与约定】**

对于 $50 \%$ 的评测用例, $1 \leq N \leq 15$ 。

对于所有评测用例, $1 \leq N \leq 100, N$ 个砝码总重不超过 $10^5$。 

蓝桥杯 2021 第一轮省赛 A 组 F 题（B 组 G 题）。


---


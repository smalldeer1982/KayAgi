---
title: "图的存储与出边的排序"
layout: "post"
diff: 普及-
pid: B3613
tag: ['图论', 'O2优化']
---
# 图的存储与出边的排序
## 题目描述

给定一个 $n$ 个点 $m$ 条边的有向图 $G$，结点编号从 $1$ 至 $n$。对于 $u = 1, 2, 3, \dots n$，依次完成如下要求：  
对于 $u$ 的所有出边（即从 $u$ 出发的边），按照**从小到大**的顺序输出出边所指向的节点编号。

**依次完成**的含义是，先按顺序输出 $u = 1$ 的出边所指向的点的编号，再按顺序输出 $u = 2$ 的出边所指向的点的编号……最后按顺序输出 $u = n$ 的出边所指向的点的编号。
## 输入格式

**本题单测试点内有多组数据**。

数据的第一行是一个整数 $T$，表示数据的组数。

对于每组数据的格式如下：  
每组数据的第一行是两个整数，分别表示点的个数 $n$ 和边的个数 $m$。  
接下来 $m$ 行，每行两个整数 $u, v$，表示一条由 $u$ 指向 $v$ 的边。

保证每组数据内不存在重边。
## 输出格式

对于每组数据：  
输出 $n$ 行，每行若干个用空格隔开的整数。第 $i$ 行输出节点 $i$ 的出边所指向的节点编号。

**注意，如果一个结点不存在出边，你同样需要输出一个空行**。
## 样例

### 样例输入 #1
```
2
3 4
1 3
1 2
3 2
3 1
3 9
1 3
2 3
3 3
1 2
2 2
3 2
1 1
2 1
3 1
```
### 样例输出 #1
```
2 3

1 2
1 2 3
1 2 3
1 2 3
```
## 提示

### 数据规模与约定：

对于全部的测试点，保证 $1 \leq T, n, m \leq 5 \times 10^5$，但同时各测试点的 $n$ 与 $m$ 之和均不超过 $5 \times 10^5$，即 $\sum n, \sum m \leq 5 \times 10^5$。且 $1 \leq u, v \leq n$，每组数据内不存在重边。

### 提示

请注意大量读入输出对程序效率造成的影响。


---

---
title: "图的存储"
layout: "post"
diff: 普及-
pid: B3643
tag: ['图论']
---
# 图的存储
## 题目描述

给定一个 $n$ 个顶点 $m$ 条边的无向图。请以邻接矩阵和邻接表的形式输出这一张图。
## 输入格式

第一行输入两个正整数 $n$ 和 $m$，表示图的顶点数和边数。

第二行开始，往后 $m$ 行，每行输入两个以空格隔开的正整数 $u,v$，表示 $u,v$ 顶点之间有一条边直接相连。
## 输出格式

首先输出 $n$ 行 $n$ 列的矩阵，以空格隔开每一行之间的数表示邻接矩阵。第 $i$ 行第 $j$ 列的数为 $1$ 则表示顶点 $i,j$ 之间有一条边直接相连；若为 $0$ 则表示没有直接相连的边。

再往后输出 $n$ 行。第 $i$ 行首先先输出一个整数 $d_i$，表示这个顶点的度数，再按照从小到大的顺序，依次输出与顶点 $i$ 直接相连的所有顶点。
## 样例

### 样例输入 #1
```
5 5
1 2
2 3
3 5
1 3
3 4
```
### 样例输出 #1
```
0 1 1 0 0
1 0 1 0 0
1 1 0 1 1
0 0 1 0 0
0 0 1 0 0
2 2 3
2 1 3
4 1 2 4 5
1 3
1 3
```
## 提示

样例的图如图所示：

![](https://cdn.luogu.com.cn/upload/image_hosting/s78y6bsb.png)

数据保证，对于所有数据，$1 \leq n \leq 1000$，$1 \leq m \leq 10^5$，且图无重边无自环。


---

---
title: "【模板】拓扑排序 / 家谱树"
layout: "post"
diff: 普及-
pid: B3644
tag: ['图论', 'Special Judge', '拓扑排序']
---
# 【模板】拓扑排序 / 家谱树
## 题目描述

有个人的家族很大，辈分关系很混乱，请你帮整理一下这种关系。给出每个人的后代的信息。输出一个序列，使得每个人的后辈都比那个人后列出。
## 输入格式

第 $1$ 行一个整数 $N$（$1 \le N \le 100$），表示家族的人数。接下来 $N$ 行，第 $i$ 行描述第 $i$ 个人的后代编号 $a_{i,j}$，表示 $a_{i,j}$ 是 $i$ 的后代。每行最后是 $0$ 表示描述完毕。
## 输出格式

输出一个序列，使得每个人的后辈都比那个人后列出。如果有多种不同的序列，输出任意一种即可。
## 样例

### 样例输入 #1
```
5
0
4 5 1 0
1 0
5 3 0
3 0
```
### 样例输出 #1
```
2 4 5 3 1
```


---

---
title: "图的遍历（简单版）"
layout: "post"
diff: 普及-
pid: B3862
tag: ['图论']
---
# 图的遍历（简单版）
## 题目描述

给出 $N$ 个点，$M$ 条边的有向图，对于每个点 $v$，求 $A(v)$ 表示从点 $v$ 出发，能到达的编号最大的点。
## 输入格式

第 $1$ 行 $2$ 个整数 $N,M$，表示点数和边数。

接下来 $M$ 行，每行 $2$ 个整数 $U_i,V_i$，表示边 $(U_i,V_i)$。点用 $1,2,\dots,N$ 编号。
## 输出格式

一行 $N$ 个整数 $A(1),A(2),\dots,A(N)$。
## 样例

### 样例输入 #1
```
4 3
1 2
2 4
4 3
```
### 样例输出 #1
```
4 4 3 4
```
## 提示

- 对于 $100\%$ 的数据，$1 \leq N,M \leq 10^3$。


---

---
title: "[信息与未来 2014] 简单单词接龙"
layout: "post"
diff: 普及-
pid: B4132
tag: ['搜索', '图论', '2014', '江苏', '信息与未来']
---
# [信息与未来 2014] 简单单词接龙
## 题目描述

有 $n$ 个单词，每个单词由 $2$ 个小写字母组成，并约定第 $1$ 个单词为龙头。接龙的方法为：前一单词的第 $2$ 个字母和后一个单词的第 $1$ 个字母相同。**一个单词只能用一次。**

程序要求给出各个单词后，求出最长龙的长度。
## 输入格式

第一行一个整数，表示 $n$。

接下来 $n$ 行，每行有 $2$ 个小写字母，表示一个单词 $s_i$（单词字母间无空格）。
## 输出格式

一行一个整数，表示最长龙的长度。
## 样例

### 样例输入 #1
```
7
aa
ac
ab
ef
bh
hk
cd
```
### 样例输出 #1
```
4
```
### 样例输入 #2
```
8
gd
bd
ea
ab
fd
be
df
be
```
### 样例输出 #2
```
6
```
## 提示

### 样例 $\textbf 1$ 解释
可以接龙的方法有：
- $\tt aa-ac-cd$，长度为 3；
- $\tt aa-ab-bh-hk$，长度为 4。
### 数据范围
$1\le n\le50$。


---

---
title: "[蓝桥杯青少年组省赛 2022] 路线"
layout: "post"
diff: 普及-
pid: B4292
tag: ['图论', '2022', '图遍历', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2022] 路线
## 题目描述

有一个旅游景区，景区中有 $N$ 个景点，景点以数字 $1$ 到 $N$ 编号，其中编号为 $N$ 的景点为游客服务中心所在地。景区中有 $M$ 条连接路线，每条路线连接两个景点。

已知：
1. 一个景点可以被多条路线连接；
2. 景点之间的连接路线都可以双向行走；

当给出 $N$ 个景点和 $M$ 条连接路线，及 $M$ 条路线的连接关系，请你计算出从编号 $1$ 到编号 $N-1$ 的每一个景点，到达游客服务中心至少需要经过几条路线。如果某个景点不能到达游客服务中心则输出 $-1$。

例如：
- 当 $N=5$，$M=4$ 时
- 4 条路线的连接关系为：$1\leftrightarrow2$、$1\leftrightarrow3$、$2\leftrightarrow4$、$2\leftrightarrow5$
- 则：
  - 景点 $1$ 到达景点 $5$（游客服务中心）至少经过 $2$ 条路线（路线 $2$，路线 $4$）
  - 景点 $2$ 到达景点 $5$ 至少经过 $1$ 条路线（路线 $4$）
  - 景点 $3$ 到达景点 $5$ 至少经过 $3$ 条路线（路线 $1$，路线 $2$，路线 $4$）
  - 景点 $4$ 到达景点 $5$ 至少经过 $2$ 条路线（路线 $3$，路线 $4$）
## 输入格式

第一行输入两个正整数 $N$ 和 $M$（$4 \leq N \leq 100$，$1 \leq M \leq 100$），$N$ 表示景点个数，$M$ 表示路线条数，两个正整数之间一个空格隔开。

接下来输入 $M$ 行，每行包括两个正整数 $S$，$E$（$1 \leq S \leq N$，$1 \leq E \leq N$，$S \neq E$），两个正整数之间一个空格隔开，表示编号 $S$ 和编号 $E$ 的两个景点有一条路线连接。

## 输出格式

一行输出多个整数。按照 $1$ 到 $N-1$ 的编号顺序，分别输出每个景点到达编号 $N$（游客服务中心），经过几条路线可以到达，如果某个景点不能到达则输出 $-1$，整数之间一个空格隔开。
## 样例

### 样例输入 #1
```
5 4
1 2
1 3
2 4
2 5
```
### 样例输出 #1
```
2 1 3 2
```


---

---
title: "[GESP202312 六级] 工作沟通"
layout: "post"
diff: 普及-
pid: P10109
tag: ['图论', '2023', '图遍历', 'GESP']
---
# [GESP202312 六级] 工作沟通
## 题目描述

某公司有 $N$ 名员工，编号从 $0$ 至 $N-1$。其中，除了 $0$ 号员工是老板，其余每名员工都有一个直接领导。我们假设编号为 $i$ 的员工的直接领导是 $f_i$。

该公司有严格的管理制度，每位员工只能受到本人或直接领导或间接领导的管理。具体来说，规定员工 $x$ 可以管理员工 $y$，当且仅当 $x=y$，或 $x=f_y$，或 $x$ 可以管理 $f_y$。特别地，$0$ 号员工老板只能自我管理，无法由其他任何员工管理。

现在，有一些同事要开展合作，他们希望找到一位同事来主持这场合作，这位同事必须能够管理参与合作的所有同事。如果有多名满足这一条件的员工，他们希望找到编号最大的员工。你能帮帮他们吗？
## 输入格式

第一行一个整数 $N$，表示员工的数量。

第二行 $N - 1$ 个用空格隔开的正整数，依次为 $f_1,f_2,\dots f_{N−1}$。

第三行一个整数 $Q$，表示共有 $Q$ 场合作需要安排。

接下来 $Q$ 行，每行描述一场合作：开头是一个整数 $m$（$2 \le m \le N$），表示参与本次合作的员工数量；接着是 $m$ 个整数，依次表示参与本次合作的员工编号（保证编号合法且不重复）。

保证公司结构合法，即不存在任意一名员工，其本人是自己的直接或间接领导。
## 输出格式

输出 $Q$ 行，每行一个整数，依次为每场合作的主持人选。

## 样例

### 样例输入 #1
```
5
0 0 2 2
3
2 3 4
3 2 3 4
2 1 4
```
### 样例输出 #1
```
2
2
0
```
### 样例输入 #2
```
7
0 1 0 2 1 2
5
2 4 6
2 4 5
3 4 5 6
4 2 4 5 6
2 3 4
```
### 样例输出 #2
```
2
1
1
1
0
```
## 提示

**样例解释 1**

对于第一场合作，员工$3,4$ 有共同领导 $2$ ，可以主持合作。

对于第二场合作，员工 $2$ 本人即可以管理所有参与者。

对于第三场合作，只有 $0$ 号老板才能管理所有员工。

**数据范围**

对于 $50\%$ 的测试点，保证 $N \leq 50$。

对于所有测试点，保证 $3 \leq N \leq 300$，$Q \leq 100$。



------------
2024/1/28 添加一组 hack 数据。


---

---
title: "[蓝桥杯 2025 省 Python B] 书架还原"
layout: "post"
diff: 普及-
pid: P12176
tag: ['贪心', '2025', '图论建模', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Python B] 书架还原
## 题目描述

在一个偏远的图书馆里，有个书架上放着 $n$ 本书，每本书上都标有一个从 $1$ 到 $n$ 的唯一编号。

按照规矩，这些书应该按编号从小到大依次排列：$1$ 号书位于最左端，$2$ 号书紧随其后，以此类推，直到 $n$ 号书在最右端。这样的顺序不仅看起来整齐，也方便读者快速找到想借的书。

可昨天店里人来人往，借书还书忙得不可开交，书架上的顺序出现了错乱。现在，书架上的书变成了 $a = (a_1, a_2, \ldots, a_n)$，其中 $a_i$ 表示第 $i$ 个位置上的书编号。

管理员决定动手整理书架，但时间有限，他希望用最少的操作把书的顺序恢复到正确的排列。每次操作，他可以挑选书架上任意两本书，交换它们的位置。例如，如果当前排列是 $(3, 1, 2)$，他可以交换第 $1$ 本和第 $2$ 本，得到 $(1, 3, 2)$，再交换第 $2$ 本和第 $3$ 本，得到 $(1, 2, 3)$。

你的任务是帮助管理员计算，最少需要进行多少次操作，才能让书架上的书的编号排列变为 $(1, 2, \ldots, n)$。
## 输入格式

输入的第一行包含一个正整数 $n$，表示书架上书的总数。

第二行包含 $n$ 个正整数 $a_1, a_2, \ldots, a_n$，相邻整数之间使用一个空格分隔，依次表示当前书架上每本书的编号。$a_1, a_2, \ldots, a_n$ 是一个 $1$ 到 $n$ 的排列。
## 输出格式

输出一行包含一个整数表示答案，即将书架上的书恢复到正确排列所需的最少操作次数。
## 样例

### 样例输入 #1
```
3
3 1 2
```
### 样例输出 #1
```
2
```
## 提示

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$1 \leq n \leq 10^3$，$1 \leq a_i \leq n$，$a_1, a_2, \dots, a_n$ 各不相同；
- 对于所有评测用例，$1 \leq n \leq 10^6$，$1 \leq a_i \leq n$，$a_1, a_2, \dots, a_n$ 各不相同。



---

---
title: "[蓝桥杯 2025 国 Python A] 哨兵"
layout: "post"
diff: 普及-
pid: P12873
tag: ['图论', '2025', '树的遍历', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 Python A] 哨兵
## 题目背景

建议 Python 用户选择 PyPy3 提交本题。
## 题目描述

小蓝是一位国王，他的王国里有 $n$ 座城市，通过 $n-1$ 条路来连通。他想在城市中部署三组哨兵 $A$、$B$、$C$，每组哨兵部署在一个城市里面，一个城市可以部署多组哨兵。其中 $A$ 到 $B$ 的距离需要和 $A$ 到 $C$ 的距离相同。小蓝想知道 $B$ 到 $C$ 的距离最大是多少。
## 输入格式

输入的第一行包含一个正整数 $n$。

接下来 $n-1$ 行，每行包含两个正整数 $u_i, v_i$，用一个空格分隔，表示城市 $u_i$ 和城市 $v_i$ 之间有一条路。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
8
1 2
1 3
1 4
4 5
4 6
6 7
7 8
```
### 样例输出 #1
```
4
```
## 提示

**【样例说明】**

其中一种方案：$A$ 部署在 $5$，$B$ 部署在 $3$，$C$ 部署在 $7$。

**【评测用例规模与约定】**

对于 20% 的评测用例，$1 \leq n \leq 500$；

对于所有评测用例，$1 \leq n \leq 5000$，$1 \leq u_i, v_i \leq n$。


---

---
title: "租用游艇"
layout: "post"
diff: 普及-
pid: P1359
tag: ['动态规划 DP', '图论', '福建省历届夏令营']
---
# 租用游艇
## 题目描述

长江游艇俱乐部在长江上设置了 $n$ 个游艇出租站 $1,2,\cdots,n$。游客可在这些游艇出租站租用游艇，并在下游的任何一个游艇出租站归还游艇。游艇出租站 $i$ 到游艇出租站 $j$ 之间的租金为 $r(i,j)$（$1\le i\lt j\le n$）。试设计一个算法，计算出从游艇出租站 $1$ 到游艇出租站 $n$ 所需的最少租金。
## 输入格式

第一行中有一个正整数 $n$，表示有 $n$ 个游艇出租站。接下来的 $n-1$ 行是一个半矩阵 $r(i,j)$（$1\le i<j\le n$）。
## 输出格式

输出计算出的从游艇出租站 $1$ 到游艇出租站 $n$ 所需的最少租金。
## 样例

### 样例输入 #1
```
3
5 15
7


```
### 样例输出 #1
```
12


```
## 提示

$n\le 200$，保证计算过程中任何时刻数值都不超过 $10^6$。


---

---
title: "Einstein学画画（数据有误）"
layout: "post"
diff: 普及-
pid: P1636
tag: ['图论']
---
# Einstein学画画（数据有误）
## 题目背景

**本题数据有误，请不要提交。**
## 题目描述

Einstein 学起了画画。

此人比较懒\~\~，他希望用最少的笔画画出一张画……

给定一个无向图，包含 $n$ 个顶点（编号 $1 \sim n$），$m$ 条边，求最少用多少笔可以画出图中所有的边。
## 输入格式

第一行两个整数 $n, m$。

接下来 $m$ 行，每行两个数 $a, b$（$a \ne b$），表示 $a, b$ 两点之间有一条边相连。

一条边不会被描述多次。
## 输出格式

一个数，即问题的答案。
## 样例

### 样例输入 #1
```
5 5

2 3

2 4

2 5

3 4

4 5


```
### 样例输出 #1
```
1
```
## 提示

对于 $50 \%$ 的数据，$n \le 50$，$m \le 100$。

对于 $100\%$ 的数据，$1 \le n \le 1000$，$1 \le m \le {10}^5$。


---

---
title: "[USACO19OPEN] Milk Factory B"
layout: "post"
diff: 普及-
pid: P1700
tag: ['模拟', '图论', '2019', 'USACO', 'O2优化', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# [USACO19OPEN] Milk Factory B
## 题目描述

牛奶生意正红红火火！Farmer John 的牛奶加工厂内有 $N$ 个加工站，编号为 $1\dots N$（$1\le N\le 100$），以及 $N−1$ 条通道，每条连接某两个加工站。（通道建设很昂贵，所以 Farmer John 选择使用了最小数量的通道，使得从每个加工站出发都可以到达所有其他加工站）。

为了创新和提升效率，Farmer John 在每条通道上安装了传送带。不幸的是，当他意识到传送带是单向的已经太晚了，现在每条通道只能沿着一个方向通行了！所以现在的情况不再是从每个加工站出发都能够到达其他加工站了。

然而，Farmer John 认为事情可能还不算完全失败，只要至少还存在一个加工站 $i$ 满足从其他每个加工站出发都可以到达加工站 $i$。注意从其他任意一个加工站 $j$ 前往加工站 $i$ 可能会经过 $i$ 和 $j$ 之间的一些中间站点。请帮助 Farmer John 求出是否存在这样的加工站 $i$。
## 输入格式

输入的第一行包含一个整数 $N$，为加工站的数量。以下 $N−1$ 行每行包含两个空格分隔的整数 $a_i$ 和 $b_i$，满足 $1\le a_i,b_i\le N$ 以及 $a_i\neq b_i$。这表示有一条从加工站 $a_i$ 向加工站 $b_i$ 移动的传送带，仅允许沿从 $a_i$ 到 $b_i$ 的方向移动。
## 输出格式

如果存在加工站 $i$ 满足可以从任意其他加工站出发都可以到达加工站 $i$，输出最小的满足条件的 $i$。否则，输出 $−1$。
## 样例

### 样例输入 #1
```
3
1 2
3 2
```
### 样例输出 #1
```
2
```


---

---
title: "【深基18.例3】查找文献"
layout: "post"
diff: 普及-
pid: P5318
tag: ['图论', '图遍历']
---
# 【深基18.例3】查找文献
## 题目描述

小 K 喜欢翻看洛谷博客获取知识。每篇文章可能会有若干个（也有可能没有）参考文献的链接指向别的博客文章。小 K 求知欲旺盛，如果他看了某篇文章，那么他一定会去看这篇文章的参考文献（如果他之前已经看过这篇参考文献的话就不用再看它了）。

假设洛谷博客里面一共有 $n(n\le10^5)$ 篇文章（编号为 1 到 $n$）以及 $m(m\le10^6)$ 条参考文献引用关系。目前小 K 已经打开了编号为 1 的一篇文章，请帮助小 K 设计一种方法，使小 K 可以不重复、不遗漏的看完所有他能看到的文章。

这边是已经整理好的参考文献关系图，其中，文献 X → Y 表示文章 X 有参考文献 Y。不保证编号为 1 的文章没有被其他文章引用。

![](https://cdn.luogu.com.cn/upload/image_hosting/f4n4tlhi.png)

请对这个图分别进行 DFS 和 BFS，并输出遍历结果。如果有很多篇文章可以参阅，请先看编号较小的那篇(因此你可能需要先排序)。
## 输入格式

共 $m+1$ 行，第 1 行为 2 个数，$n$ 和 $m$，分别表示一共有 $n(n\le10^5)$ 篇文章（编号为 1 到 $n$）以及$m(m\le10^6)$ 条参考文献引用关系。

接下来 $m$ 行，每行有两个整数 $X,Y$ 表示文章 X 有参考文献 Y。
## 输出格式

共 2 行。
第一行为 DFS 遍历结果，第二行为 BFS 遍历结果。
## 样例

### 样例输入 #1
```
8 9
1 2
1 3
1 4
2 5
2 6
3 7
4 7
4 8
7 8
```
### 样例输出 #1
```
1 2 5 6 3 7 8 4 
1 2 3 4 5 6 7 8 
```


---

---
title: "[蓝桥杯 2013 国 C] 危险系数"
layout: "post"
diff: 普及-
pid: P8604
tag: ['图论', '2013', '深度优先搜索 DFS', '蓝桥杯国赛']
---
# [蓝桥杯 2013 国 C] 危险系数
## 题目背景

抗日战争时期，冀中平原的地道战曾发挥重要作用。

## 题目描述

地道的多个站点间有通道连接，形成了庞大的网络。但也有隐患，当敌人发现了某个站点后，其它站点间可能因此会失去联系。

我们来定义一个危险系数 $DF(x,y)$：

对于两个站点 $x$ 和 $y(x\neq y),$ 如果能找到一个站点 $z$，当 $z$ 被敌人破坏后，$x$ 和 $y$ 不连通，那么我们称 $z$ 为关于 $x,y$ 的关键点。相应的，对于任意一对站点 $x$ 和 $y$，危险系数 $DF(x,y)$ 就表示为这两点之间的关键点个数。

本题的任务是：已知网络结构，求两站点之间的危险系数。
## 输入格式

输入数据第一行包含 $2$ 个整数 $n(2 \le n \le 1000)$，$m(0 \le m \le 2000)$，分别代表站点数，通道数。

接下来 $m$ 行，每行两个整数 $u,v(1 \le u,v \le n,u\neq v)$ 代表一条通道。

最后 $1$ 行，两个数 $u,v$，代表询问两点之间的危险系数 $DF(u,v)$。
## 输出格式

一个整数，如果询问的两点不连通则输出 $-1$。
## 样例

### 样例输入 #1
```
7 6
1 3
2 3
3 4
3 5
4 5
5 6
1 6
```
### 样例输出 #1
```
2
```
## 提示

时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛


---

---
title: "[蓝桥杯 2013 国 AC] 网络寻路"
layout: "post"
diff: 普及-
pid: P8605
tag: ['图论', '2013', '蓝桥杯国赛']
---
# [蓝桥杯 2013 国 AC] 网络寻路
## 题目描述

$X$ 国的一个网络使用若干条线路连接若干个节点。节点间的通信是双向的。某重要数据包，为了安全起见，必须恰好被转发两次到达目的地。该包可能在任意一个节点产生，我们需要知道该网络中一共有多少种不同的转发路径。

源地址和目标地址可以相同，但中间节点必须不同。

如图 $1$ 所示的网络。

$1 \to 2 \to 3 \to 1$ 是允许的。

$1 \to 2 \to 1 \to 2$ 或者 $1 \to 2 \to 3 \to 2$ 都是非法的。
## 输入格式

输入数据的第一行为两个整数 $N,M$，分别表示节点个数和连接线路的条数 $(1 \le N \le 10000,0 \le M \le 100000)$。

接下去有 $M$ 行，每行为两个整数 $u$ 和 $v$，表示节点 $u$ 和 $v$ 联通 $(1 \le u,v \le N,u \neq v)$。

输入数据保证任意两点最多只有一条边连接，并且没有自己连自己的边，即不存在重边和自环。
## 输出格式

输出一个整数，表示满足要求的路径条数。
## 样例

### 样例输入 #1
```
3 3
1 2
2 3
1 3
```
### 样例输出 #1
```
6
```
### 样例输入 #2
```
4 4
1 2
2 3
3 1
1 4
```
### 样例输出 #2
```
10
```
## 提示

时限 1 秒，空间限制 64M。蓝桥杯 2013 年第四届国赛


------------
2024/1/28 添加一组 hack 数据


---


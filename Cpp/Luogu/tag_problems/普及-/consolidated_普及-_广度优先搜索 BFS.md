---
title: "迷宫寻路"
layout: "post"
diff: 普及-
pid: B3625
tag: ['广度优先搜索 BFS', '深度优先搜索 DFS']
---
# 迷宫寻路
## 题目描述

机器猫被困在一个矩形迷宫里。

迷宫可以视为一个 $n\times m$ 矩阵，每个位置要么是空地，要么是墙。机器猫只能从一个空地走到其上、下、左、右的空地。

机器猫初始时位于 $(1, 1)$ 的位置，问能否走到 $(n, m)$ 位置。

## 输入格式

第一行，两个正整数 $n,m$。  

接下来 $n$ 行，输入这个迷宫。每行输入一个长为 $m$ 的字符串，`#` 表示墙，`.` 表示空地。
## 输出格式

仅一行，一个字符串。如果机器猫能走到 $(n, m)$，则输出 `Yes`；否则输出 `No`。
## 样例

### 样例输入 #1
```
3 5
.##.#
.#...
...#.
```
### 样例输出 #1
```
Yes
```
## 提示

#### 样例解释

路线如下：$(1,1)\to (2,1) \to (3,1) \to (3,2)\to (3,3) \to (2, 3) \to (2, 4) \to (2, 5) \to (3, 5)$

#### 数据规模与约定 

对于 $100\%$ 的数据，保证 $1 \leq n, m \leq 100$，且 $(1,1)$ 和 $(n, m)$ 均为空地。


---

---
title: "跳跃机器人"
layout: "post"
diff: 普及-
pid: B3626
tag: ['广度优先搜索 BFS']
---
# 跳跃机器人
## 题目描述

地上有一排格子，共 $n$ 个位置。机器猫站在第一个格子上，需要取第 $n$ 个格子里的东西。

机器猫当然不愿意自己跑过去，所以机器猫从口袋里掏出了一个机器人！这个机器人的行动遵循下面的规则：

- 初始时，机器人位于 $1$ 号格子
- 若机器人目前在 $x$ 格子，那么它可以跳跃到 $x-1, x+1, 2x$ 里的一个格子（不允许跳出界）

问机器人最少需要多少次跳跃，才能到达 $n$ 号格子。
## 输入格式

仅一行，一个正整数，表示 $n$。
## 输出格式

仅一行，一个正整数，表示最少跳跃次数。
## 样例

### 样例输入 #1
```
30
```
### 样例输出 #1
```
6
```
### 样例输入 #2
```
50
```
### 样例输出 #2
```
7
```
### 样例输入 #3
```
64
```
### 样例输出 #3
```
6
```
### 样例输入 #4
```
63
```
### 样例输出 #4
```
8
```
## 提示

#### 样例解释

第一组样例：  
$1\to 2 \to 4\to 8 \to 16 \to 15 \to 30$

第二组样例：  
$1\to 2\to 3\to6\to12\to24\to25\to 50$

第三组样例：  
$1\to 2\to4\to8\to16\to32\to64$

第四组样例：  
$1\to 2\to4\to8\to16\to32\to31\to62\to63$  

请注意在本组样例中，$63$ 不能通过 $64-1$ 得到，因为格子总数为 $63$，没有第 $64$ 个格子。


#### 数据规模与约定

对于 $100\%$ 的数据，有 $1\leq n \leq 1000000$。


---

---
title: "[蓝桥杯青少年组国赛 2022] 最少问题"
layout: "post"
diff: 普及-
pid: B4296
tag: ['搜索', '贪心', '2022', '广度优先搜索 BFS', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组国赛 2022] 最少问题
## 题目描述

河面上有 $N$ 个木桩排成一排，每个木桩上都有一个数字，表示青蛙从当前木桩一次最多可跳跃的木桩个数（例如数字为 $2$，可以跳跃 $1$ 个或 $2$ 个木桩）。请计算青蛙从第 $1$ 个木桩跳跃到第 $N$ 个木桩所需的最少跳跃次数。

例如：$N=5$，木桩数字分别为 $2$、$1$、$5$、$1$、$3$ 时：
1. 第一次从第 $1$ 个木桩跳到第 $3$ 个木桩（跳跃 $2$ 个木桩）；
2. 第二次从第 $3$ 个木桩跳到第 $5$ 个木桩（跳跃 $2$ 个木桩）；

最少需要 $2$ 次跳跃。
## 输入格式

输入共两行：
- 第一行：一个正整数 $N$（$5 \leq N \leq 100$），表示木桩数量；
- 第二行：$N$ 个正整数（$1 \leq$ 正整数 $\leq 1000$），表示各木桩上的数字，数字间用空格隔开。
## 输出格式

输出一个整数，表示青蛙最少需要跳跃几次可到达最后一个木桩。
## 样例

### 样例输入 #1
```
5
2 1 5 1 3
```
### 样例输出 #1
```
2
```


---

---
title: "[CCC 2024 J5] Harvest Waterloo"
layout: "post"
diff: 普及-
pid: P10294
tag: ['搜索', '2024', 'CCC（加拿大）', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# [CCC 2024 J5] Harvest Waterloo
## 题目描述

有一款新出现的广受欢迎的收割模拟游戏叫做 Harvest Waterloo。游戏在一块矩形南瓜地上进行，南瓜地里有成捆的干草和不同大小的南瓜。游戏开始时，一个农民在其中一个南瓜的位置上。

农民通过在整片土地上向左、向右、向上或向下移动来收割南瓜。农民不能斜着移动，不能穿过干草，也不能离开田地。

你的工作是确定农民收获的南瓜的总价值。其中一个小南瓜值 $1$ 美元，一个中等大小的南瓜值 $5$ 美元，而一个大南瓜值 $10$ 美元。
## 输入格式

输入的第一行是一个整数 $R > 0$ 表示南瓜地的行数。

第二行是一个整数 $C > 0$ 表示南瓜地的列数。

接下来 $R$ 行描述了整个南瓜地。每行包含 $C$ 个字符并且每个字符要么表示一个南瓜，要么表示干草：`S` 表示小南瓜，`M` 表示中等大小的南瓜，`L` 表示一个大南瓜，`*` 表示干草。

下一行包含一个整数 $A$ 满足 $0 \leq A < R$，最后一行是一个整数 $B$ 满足 $0 \leq B < C$。表示农民一开始在第 $A$ 行第 $B$ 列的位置。南瓜地的左上角称为第 $0$ 行第 $0$ 列。
## 输出格式

输出一个整数 $V$ 表示农民能够收割的南瓜的总价值。

## 样例

### 样例输入 #1
```
6
6
**LMLS
S*LMMS
S*SMSM
******
LLM*MS
SSL*SS
5
1

```
### 样例输出 #1
```
37

```
### 样例输入 #2
```
6
6
**LMLS
S*LMMS
S*SMSM
***SLL
LLM*MS
SSL*SS
2
4

```
### 样例输出 #2
```
88

```
## 提示

**【样例 1 解释】**

![](https://cdn.luogu.com.cn/upload/image_hosting/sppn2crp.png)

农民在第 $5$ 行第 $1$ 列开始可以收割 $6$ 个南瓜。可以收割到 $2$ 个小南瓜，$1$ 个中等大小的南瓜和 $3$ 个大南瓜。收割的南瓜的总价值是 $2 \times 1 + 1 \times 5 + 3 \times 10 = 37$。

**【样例 2 解释】**

![](https://cdn.luogu.com.cn/upload/image_hosting/dni4nwdv.png)

农民在第 $2$ 行第 $4$ 列开始可以收割 $19$ 个南瓜。可以收割到 $8$ 个小南瓜，$6$ 个中等大小的南瓜和 $5$ 个大南瓜。收割的南瓜的总价值是 $8 \times 1 + 6 \times 5 + 5 \times 10 = 88$。

**【数据范围】**

**本题采用捆绑测试。**

对于所有数据，保证 $1\leq R,C\leq 10^5$，$1\leq R\times C\leq 10^5$。

下面的表格显示了 $15$ 分的分配方案：

| 分值 | 描述 | 范围 |
| :-: | :- | :-: |
| $1$ | 南瓜地很小并且不存在干草。 | $R \times C \leq 100$ |
| $4$ | 南瓜地很小并且干草把南瓜地分割为一些矩形区域。 | $R \times C \leq 100$ |
| $5$ | 南瓜地很小并且干草可以在任意位置。 | $R \times C \leq 100$ |
| $5$ | 南瓜地可能很大并且干草可以在任意位置。 | $R \times C \leq 10^5$ |


---

---
title: "[USACO09NOV] The Chivalrous Cow B"
layout: "post"
diff: 普及-
pid: P10491
tag: ['O2优化', '广度优先搜索 BFS']
---
# [USACO09NOV] The Chivalrous Cow B
## 题目背景

农民 John 有很多牛，他想交易其中一头被 Don 称为 The Knight 的牛。这头牛有一个独一无二的超能力，在农场里像 Knight 一样地跳（就是我们熟悉的象棋中马的走法）。虽然这头神奇的牛不能跳到树上和石头上，但是它可以在牧场上随意跳，我们把牧场用一个 $x，y$ 的坐标图来表示。
## 题目描述

这头神奇的牛像其它牛一样喜欢吃草，给你一张地图，上面标注了 The Knight 的开始位置，树、灌木、石头以及其它障碍的位置，除此之外还有一捆草。现在你的任务是，确定 The Knight 要想吃到草，至少需要跳多少次。The Knight 的位置用 `K` 来标记，障碍的位置用 `*` 来标记，草的位置用 `H` 来标记。

这里有一个地图的例子：
```
             11 | . . . . . . . . . .
             10 | . . . . * . . . . . 
              9 | . . . . . . . . . . 
              8 | . . . * . * . . . . 
              7 | . . . . . . . * . . 
              6 | . . * . . * . . . H 
              5 | * . . . . . . . . . 
              4 | . . . * . . . * . . 
              3 | . K . . . . . . . . 
              2 | . . . * . . . . . * 
              1 | . . * . . . . * . . 
              0 ----------------------
                                    1 
                0 1 2 3 4 5 6 7 8 9 0 
```
The Knight 可以按照下图中的 $A,B,C,D...$ 这条路径用 $5$ 次跳到草的地方（有可能其它路线的长度也是 $5$）：
```
             11 | . . . . . . . . . .
             10 | . . . . * . . . . .
              9 | . . . . . . . . . .
              8 | . . . * . * . . . .
              7 | . . . . . . . * . .
              6 | . . * . . * . . . F<
              5 | * . B . . . . . . .
              4 | . . . * C . . * E .
              3 | .>A . . . . D . . .
              2 | . . . * . . . . . *
              1 | . . * . . . . * . .
              0 ----------------------
                                    1
                0 1 2 3 4 5 6 7 8 9 0
                ```
## 输入格式

第一行$：$ 两个数，表示农场的列数$（\le 150）$ 和行数$（\le150）$

第二行$..$结尾$：$如题目描述的图。
## 输出格式

一个数，表示跳跃的最小次数。
## 样例

### 样例输入 #1
```
10 11
..........
....*.....
..........
...*.*....
.......*..
..*..*...H
*.........
...*...*..
.K........
...*.....*
..*....*..
```
### 样例输出 #1
```
5
```
## 提示

Hint：这类问题可以用一个简单的先进先出表（队列）来解决。


---

---
title: "填涂颜色"
layout: "post"
diff: 普及-
pid: P1162
tag: ['搜索', '洛谷原创', '广度优先搜索 BFS', '队列']
---
# 填涂颜色
## 题目描述

由数字 $0$ 组成的方阵中，有一任意形状的由数字 $1$ 构成的闭合圈。现要求把闭合圈内的所有空间都填写成 $2$。例如：$6\times 6$ 的方阵（$n=6$），涂色前和涂色后的方阵如下：

如果从某个 $0$ 出发，只向上下左右 $4$ 个方向移动且仅经过其他 $0$ 的情况下，无法到达方阵的边界，就认为这个 $0$ **在闭合圈内**。闭合圈不一定是环形的，可以是任意形状，但保证**闭合圈内**的 $0$ 是连通的（两两之间可以相互到达）。

```plain
0 0 0 0 0 0
0 0 0 1 1 1
0 1 1 0 0 1
1 1 0 0 0 1
1 0 0 1 0 1
1 1 1 1 1 1
```
```plain
0 0 0 0 0 0
0 0 0 1 1 1
0 1 1 2 2 1
1 1 2 2 2 1
1 2 2 1 2 1
1 1 1 1 1 1
```
## 输入格式

每组测试数据第一行一个整数 $n(1 \le n \le 30)$。

接下来 $n$ 行，由 $0$ 和 $1$ 组成的 $n \times n$ 的方阵。

方阵内只有一个闭合圈，圈内至少有一个 $0$。

## 输出格式

已经填好数字 $2$ 的完整方阵。

## 样例

### 样例输入 #1
```
6
0 0 0 0 0 0
0 0 1 1 1 1
0 1 1 0 0 1
1 1 0 0 0 1
1 0 0 0 0 1
1 1 1 1 1 1

```
### 样例输出 #1
```
0 0 0 0 0 0
0 0 1 1 1 1
0 1 1 2 2 1
1 1 2 2 2 1
1 2 2 2 2 1
1 1 1 1 1 1

```
## 提示

对于 $100\%$ 的数据，$1 \le n \le 30$。



---

---
title: "海战"
layout: "post"
diff: 普及-
pid: P1331
tag: ['搜索', '福建省历届夏令营', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# 海战
## 题目背景

在峰会期间，武装部队得处于高度戒备。警察将监视每一条大街，军队将保卫建筑物，领空将布满了 F-2003 飞机。

此外，巡洋船只和舰队将被派去保护海岸线。不幸的是，因为种种原因，国防海军部仅有很少的几位军官能指挥大型海战。因此，他们培养了一些新海军指挥官。军官们选择了“海战”游戏来帮助他们学习。
## 题目描述

在一个方形的盘上，放置了固定数量和形状的船只，每只船却不能碰到其它的船。在本题中，我们认为船是方形的，所有的船只都是由图形组成的方形。

求出该棋盘上放置的船只的总数。
## 输入格式

第一行为两个整数 $R$ 和 $C$，用空格隔开，分别表示游戏棋盘的行数和列数。

接下来 $R$ 行，每行 $C$ 个字符，为 `#` 或 `.`。`#` 表示船只的一部分，`.` 表示水。
## 输出格式

一行一个字符串，如果船的位置放得正确（即棋盘上只存在相互之间不能接触的方形，如果两个 `#` 号上下相邻或左右相邻却分属两艘不同的船只，则称这两艘船相互接触了）。就输出 `There are S ships.`，$S$ 表示船只的数量。否则输出 `Bad placement.`。

## 样例

### 样例输入 #1
```
6 8
.....#.#
##.....#
##.....#
.......#
#......#
#..#...#
```
### 样例输出 #1
```
There are 5 ships.

```
## 提示

对于 $100\%$ 的数据，$1 \le R,C \le 1000$。


---

---
title: "求细胞数量"
layout: "post"
diff: 普及-
pid: P1451
tag: ['搜索', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# 求细胞数量
## 题目描述

一矩形阵列由数字 $0$ 到 $9$ 组成，数字 $1$ 到 $9$ 代表细胞，细胞的定义为沿细胞数字上下左右若还是细胞数字则为同一细胞，求给定矩形阵列的细胞个数。
## 输入格式

第一行两个整数代表矩阵大小 $n$ 和 $m$。

接下来 $n$ 行，每行一个长度为 $m$ 的只含字符 `0` 到 `9` 的字符串，代表这个 $n \times m$ 的矩阵。

## 输出格式

一行一个整数代表细胞个数。
## 样例

### 样例输入 #1
```
4 10
0234500067
1034560500
2045600671
0000000089

```
### 样例输出 #1
```
4
```
## 提示

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 \le n,m \le 100$。


---

---
title: "[USACO2.1] 健康的荷斯坦奶牛 Healthy Holsteins"
layout: "post"
diff: 普及-
pid: P1460
tag: ['搜索', 'USACO', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# [USACO2.1] 健康的荷斯坦奶牛 Healthy Holsteins
## 题目描述

农民 John 以拥有世界上最健康的奶牛为傲。他知道每种饲料中所包含的牛所需的最低的维他命量是多少。请你帮助农夫喂养他的牛，以保持它们的健康，使喂给牛的饲料的种数最少。

给出牛所需的最低的维他命量，输出喂给牛需要哪些种类的饲料，且所需的饲料剂量最少。

维他命量以整数表示，每种饲料最多只能对牛使用一次，数据保证存在解。

## 输入格式

第一行一个整数 $v$，表示需要的维他命的种类数。  
第二行 $v$ 个整数，表示牛每天需要的每种维他命的最小量。

第三行一个整数 $g$，表示可用来喂牛的饲料的种数。   
下面 $g$ 行，第 $n$ 行表示编号为 $n$ 饲料包含的各种维他命的量的多少。

## 输出格式

输出文件只有一行，包括牛必需的最小的饲料种数 $p$；后面有 $p$ 个数，表示所选择的饲料编号（按从小到大排列）。

如果有多个解，输出饲料序号最小的（即字典序最小）。

## 样例

### 样例输入 #1
```
4
100 200 300 400
3
50  50  50  50
200 300 200 300
900 150 389 399
```
### 样例输出 #1
```
2 1 3

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le v \le 25$，$1\le g \le 15$。  
输入的所有整数在 $[1,1000]$ 范围内。

USACO 2.1

翻译来自NOCOW



---

---
title: "拯救oibh总部"
layout: "post"
diff: 普及-
pid: P1506
tag: ['模拟', '搜索', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# 拯救oibh总部
## 题目背景

oibh 总部突然被水淹没了！现在需要你的救援……

## 题目描述

oibh 被突来的洪水淹没了，还好 oibh 总部有在某些重要的地方起一些围墙。用 `*` 号表示，而一个四面被围墙围住的区域洪水是进不去的。

oibh 总部内部也有许多重要区域，每个重要区域在图中用一个 `0` 表示。

现在给出 oibh 的围墙建设图，问有多少个没被洪水淹到的重要区域。
## 输入格式

第一行为两个正整数 $x,y$。

接下来 $x$ 行，每行 $y$ 个整数，由 `*` 和 `0` 组成，表示 oibh 总部的建设图。
## 输出格式

输出没被水淹没的 oibh 总部的 `0` 的数量。
## 样例

### 样例输入 #1
```
4 5
00000
00*00
0*0*0
00*00
```
### 样例输出 #1
```
1

```
### 样例输入 #2
```
5 5
*****
*0*0*
**0**
*0*0*
*****
```
### 样例输出 #2
```
5
```
## 提示

对于 $100\%$ 的数据，$1 \le x,y \le 500$。


---

---
title: "[USACO19OPEN] Bucket Brigade B"
layout: "post"
diff: 普及-
pid: P1699
tag: ['2019', 'USACO', 'O2优化', '广度优先搜索 BFS']
---
# [USACO19OPEN] Bucket Brigade B
## 题目描述

农场上起火了，奶牛们正在紧急赶去灭火！

农场可以用一个像这样的 $10×10$ 的字符方阵来描述：

```plain
..........
..........
..........
..B.......
..........
.....R....
..........
..........
.....L....
..........
```

字符 `B` 表示正着火的牛棚。字符 `L` 表示一个湖，而字符 `R` 表示农场上的一块巨大岩石。

奶牛们想要沿着一条湖到牛棚之间的路径组成一条“水桶传递队列”，这样她们就可以沿着这条路径传递水桶来帮助灭火。当两头奶牛在东南西北四个方向上相邻时水桶可以在她们之间传递。这对于湖边的奶牛也是对的——奶牛只能在紧挨着湖的时候才能用水桶从湖里取水。类似地，奶牛只能在紧挨着牛棚的时候才能用水去灭牛棚的火。 

请帮助求出奶牛们为了组成这样的“水桶传递队列”需要占据的 `.` 格子的最小数量。

奶牛不能站在岩石所在的方格之内，此外保证牛棚和湖不是相邻的。 
## 输入格式

输入包含 $10$ 行，每行 $10$ 个字符，描述这个农场的布局。输入保证图案中恰有一个字符 `B`、一个字符 `L` 以及一个字符 `R`。 
## 输出格式

输出一个整数，为组成一条可行的水桶传递队列所需要的奶牛的最小数量。 
## 样例

### 样例输入 #1
```
..........
..........
..........
..B.......
..........
.....R....
..........
..........
.....L....
..........
```
### 样例输出 #1
```
7
```
## 提示

### 样例解释 1

在这个例子中，以下是一个可行的方案，使用了最小数量的奶牛（$7$）：

```plain
..........
..........
..........
..B.......
..C.......
..CC.R....
...CCC....
.....C....
.....L....
..........
```


---

---
title: "[USACO19OPEN] Milk Factory B"
layout: "post"
diff: 普及-
pid: P1700
tag: ['模拟', '图论', '2019', 'USACO', 'O2优化', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# [USACO19OPEN] Milk Factory B
## 题目描述

牛奶生意正红红火火！Farmer John 的牛奶加工厂内有 $N$ 个加工站，编号为 $1\dots N$（$1\le N\le 100$），以及 $N−1$ 条通道，每条连接某两个加工站。（通道建设很昂贵，所以 Farmer John 选择使用了最小数量的通道，使得从每个加工站出发都可以到达所有其他加工站）。

为了创新和提升效率，Farmer John 在每条通道上安装了传送带。不幸的是，当他意识到传送带是单向的已经太晚了，现在每条通道只能沿着一个方向通行了！所以现在的情况不再是从每个加工站出发都能够到达其他加工站了。

然而，Farmer John 认为事情可能还不算完全失败，只要至少还存在一个加工站 $i$ 满足从其他每个加工站出发都可以到达加工站 $i$。注意从其他任意一个加工站 $j$ 前往加工站 $i$ 可能会经过 $i$ 和 $j$ 之间的一些中间站点。请帮助 Farmer John 求出是否存在这样的加工站 $i$。
## 输入格式

输入的第一行包含一个整数 $N$，为加工站的数量。以下 $N−1$ 行每行包含两个空格分隔的整数 $a_i$ 和 $b_i$，满足 $1\le a_i,b_i\le N$ 以及 $a_i\neq b_i$。这表示有一条从加工站 $a_i$ 向加工站 $b_i$ 移动的传送带，仅允许沿从 $a_i$ 到 $b_i$ 的方向移动。
## 输出格式

如果存在加工站 $i$ 满足可以从任意其他加工站出发都可以到达加工站 $i$，输出最小的满足条件的 $i$。否则，输出 $−1$。
## 样例

### 样例输入 #1
```
3
1 2
3 2
```
### 样例输出 #1
```
2
```


---

---
title: "离开中山路"
layout: "post"
diff: 普及-
pid: P1746
tag: ['模拟', '搜索', '广度优先搜索 BFS', '队列']
---
# 离开中山路
## 题目背景

《爱与愁的故事第三弹·shopping》最终章。

## 题目描述

爱与愁大神买完东西后，打算坐车离开中山路。现在爱与愁大神在 $x_1,y_1$ 处，车站在 $x_2,y_2$ 处。现在给出一个 $n \times n(n \le 1000)$ 的地图，$0$ 表示马路，$1$ 表示店铺（不能从店铺穿过），爱与愁大神只能垂直或水平着在马路上行进。爱与愁大神为了节省时间，他要求最短到达目的地距离（每两个相邻坐标间距离为 $1$）。你能帮他解决吗？

## 输入格式

第 $1$ 行包含一个数 $n$。

第 $2$ 行到第 $n+1$ 行：整个地图描述（$0$ 表示马路，$1$ 表示店铺，注意两个数之间没有空格）。

第 $n+2$ 行：四个数 $x_1,y_1,x_2,y_2$。
## 输出格式


只有 $1$ 行，即最短到达目的地距离。

## 样例

### 样例输入 #1
```
3
001
101
100
1 1 3 3
```
### 样例输出 #1
```
4
```
## 提示


对于 $20\%$ 数据，满足 $1\leq n \le 100$。

对于 $100\%$ 数据，满足 $1\leq n \le 1000$。


---

---
title: "回家"
layout: "post"
diff: 普及-
pid: P2802
tag: ['搜索', '广度优先搜索 BFS']
---
# 回家
## 题目描述

[](https://paste.ubuntu.com/p/DSg5bzrrjs/)

小 H 在一个划分成了 $n \times m$ 个方格的长方形封锁线上。 每次他能向上下左右四个方向移动一格（当然小 H 不可以静止不动）， 但不能离开封锁线，否则就被打死了。 刚开始时他有满血 $6$ 点，每移动一格他要消耗 $1$ 点血量。一旦小 H 的血量降到 $0$， 他将死去。 他可以沿路通过拾取鼠标（什么鬼。。。）来补满血量。只要他走到有鼠标的格子，他不需要任何时间即可拾取。格子上的鼠标可以瞬间补满，所以每次经过这个格子都有鼠标。就算到了某个有鼠标的格子才死去， 他也不能通过拾取鼠标补满 HP。 即使在家门口死去， 他也不能算完成任务回到家中。

地图上有五种格子：

`0`：障碍物。

`1`：空地， 小 H 可以自由行走。

`2`：小 H 出发点， 也是一片空地。

`3`：小 H 的家。

`4`：有鼠标在上面的空地。

小 H 能否安全回家？如果能， 最短需要多长时间呢？

## 输入格式

第一行两个整数 $n,m$， 表示地图的大小为 $n \times m$。

下面 $n$ 行， 每行 $m$ 个数字来描述地图。
## 输出格式

一行， 若小 H 不能回家， 输出 `-1`，否则输出他回家所需最短时间。
## 样例

### 样例输入 #1
```
3 3
2 1 1
1 1 0
1 1 3
```
### 样例输出 #1
```
4
```
## 提示

对于所有数据，$1 \le n,m \le 9$。

2021.9.2 增添一组 hack 数据 by @囧仙


---

---
title: "[CERC2013] Draughts"
layout: "post"
diff: 普及-
pid: P7012
tag: ['搜索', '2013', '广度优先搜索 BFS', 'ICPC']
---
# [CERC2013] Draughts
## 题目描述



Draughts (or checkers) is a game played by two opponents, on opposite sides of a $10 \times 10$ board. The board squares are painted black and white, as on a classic chessboard. One player controls the dark, and the other the light pieces. The pieces can only occupy the black squares. The players make their moves alternately, each moving one of his own pieces.

The most interesting type of move is capturing: if a diagonally adjacent square contains an opponent's piece, it may be captured (and removed from the game) by jumping over it to the unoccupied square immediately beyond it. It is allowed to make several consecutive captures in one move, if they are all made with a single piece. It is also legal to capture by either forward or backward jumps.

![](/upload/images2/dr.png)

The board before and after a single move with two captures.

You are given a draughts position. It is the light player's turn. Compute the maximal possible number of dark pieces he can capture in his next move.


## 输入格式



The first line of input contains the number of test cases $T$ . The descriptions of the test cases follow:

Each test case starts with an empty line. The following $10$ lines of $10$ characters each describe the board squares. The characters $#$ and . denote empty black and white squares, $W$ denotes a square with a light piece, $B -$ a square with a dark piece.


## 输出格式



For each test case print a single line containing the maximal possible number of captures. If there is no legal move (for example, there are no light pieces on the board), simply output $0$ .


## 样例

### 样例输入 #1
```
2

.#.#.#.#.#
#.#.#.#.#.
.#.#.B.#.#
#.#.#.#.#.
.#.#.B.#.#
#.#.W.#.#.
.#.#.#.#.#
#.#.#.B.#.
.#.#.#.#.#
#.#.#.#.#.

.#.#.#.#.#
#.#.#.#.#.
.#.#.B.#.#
#.B.#.B.#.
.#.#.B.#.#
#.B.W.#.#.
.#.B.B.#.#
#.#.#.#.#.
.#.B.B.#.#
#.#.#.#.#.

```
### 样例输出 #1
```
2
4

```
## 提示

Time limit: 2 s, Memory limit: 128 MB. 


## 题目翻译

国际跳棋（或称跳棋）是一种由两个对手在 $10 \times 10$ 的棋盘上进行的游戏。棋盘上的方块是黑色或白色的，就像经典的国际象棋棋盘一样。玩家一方控制黑棋，另一方控制白棋。棋子只能占据黑色的格子。棋手们交替走棋，各自移动自己的一个棋子。

最有趣的走法是吃掉：如果一个对角线相邻的格子里有对手的棋子，可以通过跳过它到紧挨着它的未被占领的格子来吃掉（并从游戏中删除被吃掉的这个棋子）。允许在一步棋中用一个棋子连续吃掉几个棋子。通过向前或向后的跳跃来吃子也是合法的。

你会得到一个棋子的位置。现在轮到白方了。计算他在下一步棋中能吃掉的最大可能的黑棋数量。

输入格式

输入的第一行包含测试用例 $T$ 的数量。接下来是测试用例的描述。

每个测试用例以空行开始。接下来的 10 行，每行都有 10 个字符，描述棋盘的方格。字符 # 和 . 表示空的黑色和白色方块，W 表示有浅色棋子的方块，B 表示有深色棋子的方块。

输出格式

对于每个测试案例，输出一行一个整数，代表最多可以吃黑子的个数。如果没有合法的棋步（例如，棋盘上没有白棋），只需输出 0。


---

---
title: "[蓝桥杯 2018 省 AB] 全球变暖"
layout: "post"
diff: 普及-
pid: P8662
tag: ['2018', '广度优先搜索 BFS', '蓝桥杯省赛']
---
# [蓝桥杯 2018 省 AB] 全球变暖
## 题目描述

你有一张某海域 $N \times N$ 像素的照片，`.` 表示海洋、 `#` 表示陆地，如下所示：

```
.......
.##....
.##....
....##.
..####.
...###.
.......
```

其中 "上下左右" 四个方向上连在一起的一片陆地组成一座岛屿。例如上图就有 $2$ 座岛屿。

由于全球变暖导致了海面上升，科学家预测未来几十年，岛屿边缘一个像素的范围会被海水淹没。具体来说如果一块陆地像素与海洋相邻（上下左右四个相邻像素中有海洋），它就会被淹没。

例如上图中的海域未来会变成如下样子：

```
.......
.......
.......
.......
....#..
.......
.......
```

请你计算：依照科学家的预测，照片中有多少岛屿会被完全淹没。 

## 输入格式

第一行包含一个整数 $N$。$(1 \le N \le 1000)$。

以下 $N$ 行 $N$ 列代表一张海域照片。

照片保证第 $1$ 行、第 $1$ 列、第 $N$ 行、第 $N$ 列的像素都是海洋。
## 输出格式

一个整数表示答案。
## 样例

### 样例输入 #1
```
7 
.......
.##....
.##....
....##.
..####.
...###.
.......  
```
### 样例输出 #1
```
1
```
## 提示

时限 1 秒, 256M。蓝桥杯 2018 年第九届省赛


---


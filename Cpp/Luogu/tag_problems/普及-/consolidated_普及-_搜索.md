---
title: "寻找团伙"
layout: "post"
diff: 普及-
pid: B3618
tag: ['搜索', '深度优先搜索 DFS', '进制']
---
# 寻找团伙
## 题目描述

世界局势风云变幻，你想办一件大事。办事自然要有人参与，你能从 $n$ 个人里面挑选一部分人共襄盛举。

要办这件事，一共涉及 $k$ 方面的能力，例如游说他人的能力、玩游戏的能力、睡觉的能力。每位人士都会具备某一些能力，例如机器猫就可能擅长睡觉、擅长玩游戏，而不擅长游说他人。

你的计划很宏伟，因此你希望团队拥有很全面的能力。不幸的是，如果团队中有偶数个人拥有同一类能力，那么他们就会分成两派，争执不下，导致整个团队丧失这方面的能力。相应地，如果这项能力只有奇数个人拥有，那么他们总能形成一个多数派，帮团队去做这方面的工作。

需要注意的是，团队拥有的每一项能力，对计划的成功率的贡献是不一样的。第一项能力最重要，它的权重是 $2^{k-1}$；第二项能力的权重是 $2^{k-2}$；依次类推。第 $k$ 项能力最不重要，权重只有 $1$。

计划的成功率得分，即是**团队拥有的所有能力对应的权重之和**。

你希望计划成功率最大。因此，你需要选出合适的人士，来参与到你的宏图伟业中。

## 输入格式

第一行，两个正整数 $n, k$。分别表示供你挑选的人的数量，以及能力的种类数。  
接下来 $n$ 行，每行表示每个人拥有的能力。这一行首先有一个整数 $c$，表示该人士拥有多少种能力；接下来是 $c$ 个 $[1, k]$ 之间的正整数，表示该人士拥有哪些能力。


## 输出格式

仅一行，一个整数，表示计划的成功率得分。
## 样例

### 样例输入 #1
```
5 5
1 1
1 2
1 3
1 4
1 5
```
### 样例输出 #1
```
31
```
### 样例输入 #2
```
3 5
3 1 2 3
4 2 3 4 5
2 3 4
```
### 样例输出 #2
```
28
```
### 样例输入 #3
```
3 5
2 1 2
3 5 3 2
3 4 2 5
```
### 样例输出 #3
```
30
```
### 样例输入 #4
```
21 60
0 
0 
3 60 27 48
0 
1 48
2 52 14
2 4 31
0 
0 
2 28 43
2 6 31
0 
1 7
3 45 6 48
0 
1 51
0 
2 28 20
2 37 51
1 8
53 59 39 29 23 53 27 13 16 44 34 38 24 9 32 58 54 31 1 7 45 3 30 36 17 48 42 22 18 21 6 11 25 33 37 52 10 60 49 57 2 28 8 14 5 47 4 41 35 43 50 46 26 12
```
### 样例输出 #4
```
1152884121210322895
```
## 提示

#### 样例解释

第一组样例，共 5 个人，每个人拥有的能力不一样。最终选择的结果是让这 5 个人都参与计划，得分 $16+8+4+2+1 = 31$。

第二组样例，我们选择只让 $1$ 参与。那么团队具有能力 $1,2, 3$，得分 $16+8+4=28$。

第三组样例，我们让 $1,2,3$ 参与。由于团队中有偶数个成员拥有能力 $5$，故团队并不拥有能力 $5$。奇数个成员拥有能力 $2$，故团队拥有能力 $2$。最终，团队具有能力 $1,2,3,4$。得分 $16+8+4+2=30$。

#### 数据规模与约定

对于 $100\%$ 的数据，有 $n\leq 21, k\leq 60$。





---

---
title: "枚举元组"
layout: "post"
diff: 普及-
pid: B3621
tag: ['深度优先搜索 DFS']
---
# 枚举元组
## 题目描述

$n$ 元组是指由 $n$ 个元素组成的序列。例如 $(1,1,2)$ 是一个三元组、$(233,254,277,123)$ 是一个四元组。

给定 $n$ 和 $k$，请按字典序输出全体 $n$ 元组，其中元组内的元素是在 $[1, k]$ 之间的整数。

「字典序」是指：优先按照第一个元素从小到大的顺序，若第一个元素相同，则按第二个元素从小到大……依此类推。详情参考样例数据。
## 输入格式

仅一行，两个正整数 $n, k$。
## 输出格式

若干行，每行表示一个元组。元组内的元素用空格隔开。
## 样例

### 样例输入 #1
```
2 3
```
### 样例输出 #1
```
1 1
1 2
1 3
2 1
2 2
2 3
3 1
3 2
3 3
```
### 样例输入 #2
```
3 3
```
### 样例输出 #2
```
1 1 1
1 1 2
1 1 3
1 2 1
1 2 2
1 2 3
1 3 1
1 3 2
1 3 3
2 1 1
2 1 2
2 1 3
2 2 1
2 2 2
2 2 3
2 3 1
2 3 2
2 3 3
3 1 1
3 1 2
3 1 3
3 2 1
3 2 2
3 2 3
3 3 1
3 3 2
3 3 3
```
## 提示

对于 $100\%$ 的数据，有 $n\leq 5, k\leq 4$。


---

---
title: "枚举子集（递归实现指数型枚举）"
layout: "post"
diff: 普及-
pid: B3622
tag: ['深度优先搜索 DFS']
---
# 枚举子集（递归实现指数型枚举）
## 题目描述

今有 $n$ 位同学，可以从中选出任意名同学参加合唱。

请输出所有可能的选择方案。
## 输入格式

仅一行，一个正整数 $n$。
## 输出格式

若干行，每行表示一个选择方案。

每一种选择方案用一个字符串表示，其中第 $i$ 位为 `Y` 则表示第 $i$ 名同学参加合唱；为 `N` 则表示不参加。

需要以字典序输出答案。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
NNN
NNY
NYN
NYY
YNN
YNY
YYN
YYY
```
## 提示

对于 $100\%$ 的数据，保证 $1\leq n\leq 10$。


---

---
title: "枚举排列（递归实现排列型枚举）"
layout: "post"
diff: 普及-
pid: B3623
tag: ['深度优先搜索 DFS']
---
# 枚举排列（递归实现排列型枚举）
## 题目描述

今有 $n$ 名学生，要从中选出 $k$ 人排成一列拍照。

请按字典序输出所有可能的排列方式。
## 输入格式

仅一行，两个正整数 $n, k$。
## 输出格式

若干行，每行 $k$ 个正整数，表示一种可能的队伍顺序。
## 样例

### 样例输入 #1
```
3 2
```
### 样例输出 #1
```
1 2
1 3
2 1
2 3
3 1
3 2
```
## 提示

对于 $100\%$ 的数据，$1\leq k\leq n \leq 10$。


---

---
title: "迷宫寻路"
layout: "post"
diff: 普及-
pid: B3625
tag: ['广度优先搜索 BFS', '深度优先搜索 DFS']
---
# 迷宫寻路
## 题目描述

机器猫被困在一个矩形迷宫里。

迷宫可以视为一个 $n\times m$ 矩阵，每个位置要么是空地，要么是墙。机器猫只能从一个空地走到其上、下、左、右的空地。

机器猫初始时位于 $(1, 1)$ 的位置，问能否走到 $(n, m)$ 位置。

## 输入格式

第一行，两个正整数 $n,m$。  

接下来 $n$ 行，输入这个迷宫。每行输入一个长为 $m$ 的字符串，`#` 表示墙，`.` 表示空地。
## 输出格式

仅一行，一个字符串。如果机器猫能走到 $(n, m)$，则输出 `Yes`；否则输出 `No`。
## 样例

### 样例输入 #1
```
3 5
.##.#
.#...
...#.
```
### 样例输出 #1
```
Yes
```
## 提示

#### 样例解释

路线如下：$(1,1)\to (2,1) \to (3,1) \to (3,2)\to (3,3) \to (2, 3) \to (2, 4) \to (2, 5) \to (3, 5)$

#### 数据规模与约定 

对于 $100\%$ 的数据，保证 $1 \leq n, m \leq 100$，且 $(1,1)$ 和 $(n, m)$ 均为空地。


---

---
title: "跳跃机器人"
layout: "post"
diff: 普及-
pid: B3626
tag: ['广度优先搜索 BFS']
---
# 跳跃机器人
## 题目描述

地上有一排格子，共 $n$ 个位置。机器猫站在第一个格子上，需要取第 $n$ 个格子里的东西。

机器猫当然不愿意自己跑过去，所以机器猫从口袋里掏出了一个机器人！这个机器人的行动遵循下面的规则：

- 初始时，机器人位于 $1$ 号格子
- 若机器人目前在 $x$ 格子，那么它可以跳跃到 $x-1, x+1, 2x$ 里的一个格子（不允许跳出界）

问机器人最少需要多少次跳跃，才能到达 $n$ 号格子。
## 输入格式

仅一行，一个正整数，表示 $n$。
## 输出格式

仅一行，一个正整数，表示最少跳跃次数。
## 样例

### 样例输入 #1
```
30
```
### 样例输出 #1
```
6
```
### 样例输入 #2
```
50
```
### 样例输出 #2
```
7
```
### 样例输入 #3
```
64
```
### 样例输出 #3
```
6
```
### 样例输入 #4
```
63
```
### 样例输出 #4
```
8
```
## 提示

#### 样例解释

第一组样例：  
$1\to 2 \to 4\to 8 \to 16 \to 15 \to 30$

第二组样例：  
$1\to 2\to 3\to6\to12\to24\to25\to 50$

第三组样例：  
$1\to 2\to4\to8\to16\to32\to64$

第四组样例：  
$1\to 2\to4\to8\to16\to32\to31\to62\to63$  

请注意在本组样例中，$63$ 不能通过 $64-1$ 得到，因为格子总数为 $63$，没有第 $64$ 个格子。


#### 数据规模与约定

对于 $100\%$ 的数据，有 $1\leq n \leq 1000000$。


---

---
title: "[信息与未来 2014] 简单单词接龙"
layout: "post"
diff: 普及-
pid: B4132
tag: ['搜索', '图论', '2014', '江苏', '信息与未来']
---
# [信息与未来 2014] 简单单词接龙
## 题目描述

有 $n$ 个单词，每个单词由 $2$ 个小写字母组成，并约定第 $1$ 个单词为龙头。接龙的方法为：前一单词的第 $2$ 个字母和后一个单词的第 $1$ 个字母相同。**一个单词只能用一次。**

程序要求给出各个单词后，求出最长龙的长度。
## 输入格式

第一行一个整数，表示 $n$。

接下来 $n$ 行，每行有 $2$ 个小写字母，表示一个单词 $s_i$（单词字母间无空格）。
## 输出格式

一行一个整数，表示最长龙的长度。
## 样例

### 样例输入 #1
```
7
aa
ac
ab
ef
bh
hk
cd
```
### 样例输出 #1
```
4
```
### 样例输入 #2
```
8
gd
bd
ea
ab
fd
be
df
be
```
### 样例输出 #2
```
6
```
## 提示

### 样例 $\textbf 1$ 解释
可以接龙的方法有：
- $\tt aa-ac-cd$，长度为 3；
- $\tt aa-ab-bh-hk$，长度为 4。
### 数据范围
$1\le n\le50$。


---

---
title: "[蓝桥杯青少年组省赛 2022] 农作物"
layout: "post"
diff: 普及-
pid: B4286
tag: ['搜索', '2022', '连通块', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2022] 农作物
## 题目描述

有一块农田被划分为 $N \times M$ 块，农作物和杂草分布生长在农田中，其中农作物使用大写字母 `R` 表示，杂草使用大写字母 `X` 表示。请计算出农田中有几块独立的农作物区域（独立的农作物区域指该区域上下左右都被杂草围住，且 $N \times M$ 以外的区域都是杂草）。例如，样例是 $N=4$，$M=4$ 的农田，这块 $4 \times 4$ 的农田中有 $3$ 块独立的农作物区域。
## 输入格式

输入分为 $N+1$ 行：
- 第一行为两个正整数 $N$ 和 $M$（$1 < N < 500$，$1 < M < 500$），表示农田的长和宽，数字间用一个空格隔开；
- 以下 $N$ 行每行有 $M$ 个大写字母，表示每格为农作物或杂草。
## 输出格式

输出一个整数，表示农田中有几块独立的农作物区域。
## 样例

### 样例输入 #1
```
4 4
RRRX
RXRX
XXXR
RXXX
```
### 样例输出 #1
```
3
```


---

---
title: "[蓝桥杯青少年组国赛 2022] 最少问题"
layout: "post"
diff: 普及-
pid: B4296
tag: ['搜索', '贪心', '2022', '广度优先搜索 BFS', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组国赛 2022] 最少问题
## 题目描述

河面上有 $N$ 个木桩排成一排，每个木桩上都有一个数字，表示青蛙从当前木桩一次最多可跳跃的木桩个数（例如数字为 $2$，可以跳跃 $1$ 个或 $2$ 个木桩）。请计算青蛙从第 $1$ 个木桩跳跃到第 $N$ 个木桩所需的最少跳跃次数。

例如：$N=5$，木桩数字分别为 $2$、$1$、$5$、$1$、$3$ 时：
1. 第一次从第 $1$ 个木桩跳到第 $3$ 个木桩（跳跃 $2$ 个木桩）；
2. 第二次从第 $3$ 个木桩跳到第 $5$ 个木桩（跳跃 $2$ 个木桩）；

最少需要 $2$ 次跳跃。
## 输入格式

输入共两行：
- 第一行：一个正整数 $N$（$5 \leq N \leq 100$），表示木桩数量；
- 第二行：$N$ 个正整数（$1 \leq$ 正整数 $\leq 1000$），表示各木桩上的数字，数字间用空格隔开。
## 输出格式

输出一个整数，表示青蛙最少需要跳跃几次可到达最后一个木桩。
## 样例

### 样例输入 #1
```
5
2 1 5 1 3
```
### 样例输出 #1
```
2
```


---

---
title: "[中山市赛 2023] 互质"
layout: "post"
diff: 普及-
pid: B4335
tag: ['模拟', '搜索', '2023', '广东', '科创活动', '小学活动']
---
# [中山市赛 2023] 互质
## 题目描述

给定一个整数 $n$ 与 $n \times n$ 的矩阵 $a$，在 $a$ 中放置若干个不重叠的 $3 \times 3$ 子矩阵，使它们覆盖的元素和最大，求它们覆盖的元素和。

若没有放置任何子矩阵，则答案为 $0$。
## 输入格式

第一行一个整数 $n$。

接下来 $n$ 行每行 $n$ 个整数，第 $i$ 行第 $j$ 个整数表示 $a_{i,j}$。
## 输出格式

一行一个整数，表示答案。
## 样例

### 样例输入 #1
```
5
1 2 3 4 5
5 4 3 2 1
1 2 -9 4 5
1 2 3 4 5
5 4 3 2 1
```
### 样例输出 #1
```
18
```
### 样例输入 #2
```
10
98 78 -97 -36 94 44 42 69 50 7
54 -54 -36 -56 98 69 59 36 52 80
90 36 65 -23 -33 65 12 79 -38 0
81 -19 65 73 32 -57 -79 -66 89 6
92 63 1 61 -96 -41 25 -44 -53 25
55 83 78 -41 -34 16 62 87 79 62
-63 91 -30 -33 91 39 92 92 29 92
74 39 44 25 29 50 -63 65 77 75
-26 -78 -92 55 -45 45 74 53 62 58
3 92 -4 -76 -60 -24 90 72 53 95
```
### 样例输出 #2
```
2921
```
## 提示

### 样例解释 1

$5 \times 5$ 矩阵中仅能放置一个 $3 \times 3$ 的子矩阵，令其左上角为 $(3, 3)$，此时其覆盖的元素为 $-9, 4, 5, 3, 4, 5, 3, 2, 1$，和为 $18$。

### 样例解释 2

一种解的各子矩阵左上角为 $(1, 5),(1, 8),(3, 1),(5, 8),(6, 1),(7, 5),(8, 8)$。

### 数据范围

对于 $20\%$ 的数据，$n \le 5$。

对于另外 $20\%$ 的数据，$a$ 中仅包含正整数。

对于 $100\%$ 的数据，$n \le 10$，对于任意 $1 \le i, j \le n$ 满足 $|a_{i,j}| \le 100$。


---

---
title: "[CCC 2024 J5] Harvest Waterloo"
layout: "post"
diff: 普及-
pid: P10294
tag: ['搜索', '2024', 'CCC（加拿大）', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# [CCC 2024 J5] Harvest Waterloo
## 题目描述

有一款新出现的广受欢迎的收割模拟游戏叫做 Harvest Waterloo。游戏在一块矩形南瓜地上进行，南瓜地里有成捆的干草和不同大小的南瓜。游戏开始时，一个农民在其中一个南瓜的位置上。

农民通过在整片土地上向左、向右、向上或向下移动来收割南瓜。农民不能斜着移动，不能穿过干草，也不能离开田地。

你的工作是确定农民收获的南瓜的总价值。其中一个小南瓜值 $1$ 美元，一个中等大小的南瓜值 $5$ 美元，而一个大南瓜值 $10$ 美元。
## 输入格式

输入的第一行是一个整数 $R > 0$ 表示南瓜地的行数。

第二行是一个整数 $C > 0$ 表示南瓜地的列数。

接下来 $R$ 行描述了整个南瓜地。每行包含 $C$ 个字符并且每个字符要么表示一个南瓜，要么表示干草：`S` 表示小南瓜，`M` 表示中等大小的南瓜，`L` 表示一个大南瓜，`*` 表示干草。

下一行包含一个整数 $A$ 满足 $0 \leq A < R$，最后一行是一个整数 $B$ 满足 $0 \leq B < C$。表示农民一开始在第 $A$ 行第 $B$ 列的位置。南瓜地的左上角称为第 $0$ 行第 $0$ 列。
## 输出格式

输出一个整数 $V$ 表示农民能够收割的南瓜的总价值。

## 样例

### 样例输入 #1
```
6
6
**LMLS
S*LMMS
S*SMSM
******
LLM*MS
SSL*SS
5
1

```
### 样例输出 #1
```
37

```
### 样例输入 #2
```
6
6
**LMLS
S*LMMS
S*SMSM
***SLL
LLM*MS
SSL*SS
2
4

```
### 样例输出 #2
```
88

```
## 提示

**【样例 1 解释】**

![](https://cdn.luogu.com.cn/upload/image_hosting/sppn2crp.png)

农民在第 $5$ 行第 $1$ 列开始可以收割 $6$ 个南瓜。可以收割到 $2$ 个小南瓜，$1$ 个中等大小的南瓜和 $3$ 个大南瓜。收割的南瓜的总价值是 $2 \times 1 + 1 \times 5 + 3 \times 10 = 37$。

**【样例 2 解释】**

![](https://cdn.luogu.com.cn/upload/image_hosting/dni4nwdv.png)

农民在第 $2$ 行第 $4$ 列开始可以收割 $19$ 个南瓜。可以收割到 $8$ 个小南瓜，$6$ 个中等大小的南瓜和 $5$ 个大南瓜。收割的南瓜的总价值是 $8 \times 1 + 6 \times 5 + 5 \times 10 = 88$。

**【数据范围】**

**本题采用捆绑测试。**

对于所有数据，保证 $1\leq R,C\leq 10^5$，$1\leq R\times C\leq 10^5$。

下面的表格显示了 $15$ 分的分配方案：

| 分值 | 描述 | 范围 |
| :-: | :- | :-: |
| $1$ | 南瓜地很小并且不存在干草。 | $R \times C \leq 100$ |
| $4$ | 南瓜地很小并且干草把南瓜地分割为一些矩形区域。 | $R \times C \leq 100$ |
| $5$ | 南瓜地很小并且干草可以在任意位置。 | $R \times C \leq 100$ |
| $5$ | 南瓜地可能很大并且干草可以在任意位置。 | $R \times C \leq 10^5$ |


---

---
title: "[NOIP 2001 普及组] 求先序排列"
layout: "post"
diff: 普及-
pid: P1030
tag: ['字符串', '树形数据结构', '2001', '递归', 'NOIP 普及组', '深度优先搜索 DFS']
---
# [NOIP 2001 普及组] 求先序排列
## 题目描述

给出一棵二叉树的中序与后序排列。求出它的先序排列。（约定树结点用不同的大写字母表示，且二叉树的节点个数 $ \le 8$）。

## 输入格式

共两行，均为大写字母组成的字符串，表示一棵二叉树的中序与后序排列。

## 输出格式

共一行一个字符串，表示一棵二叉树的先序。

## 样例

### 样例输入 #1
```
BADC
BDCA

```
### 样例输出 #1
```
ABCD

```
## 提示

**【题目来源】**

NOIP 2001 普及组第三题


---

---
title: "[NOIP 2002 普及组] 选数"
layout: "post"
diff: 普及-
pid: P1036
tag: ['搜索', '2002', 'NOIP 普及组', '深度优先搜索 DFS', '素数判断,质数,筛法']
---
# [NOIP 2002 普及组] 选数
## 题目描述

已知 $n$ 个整数 $x_1,x_2,\cdots,x_n$，以及 $1$ 个整数 $k$（$k<n$）。从 $n$ 个整数中任选 $k$ 个整数相加，可分别得到一系列的和。例如当 $n=4$，$k=3$，$4$ 个整数分别为 $3,7,12,19$ 时，可得全部的组合与它们的和为：

$3+7+12=22$

$3+7+19=29$

$7+12+19=38$

$3+12+19=34$

现在，要求你计算出和为素数共有多少种。

例如上例，只有一种的和为素数：$3+7+19=29$。
## 输入格式

第一行两个空格隔开的整数 $n,k$（$1 \le n \le 20$，$k<n$）。

第二行 $n$ 个整数，分别为 $x_1,x_2,\cdots,x_n$（$1 \le x_i \le 5\times 10^6$）。

## 输出格式

输出一个整数，表示种类数。
## 样例

### 样例输入 #1
```
4 3
3 7 12 19

```
### 样例输出 #1
```
1

```
## 提示

**【题目来源】**

NOIP 2002 普及组第二题


---

---
title: "[GESP202403 六级] 好斗的牛"
layout: "post"
diff: 普及-
pid: P10377
tag: ['模拟', '搜索', '2024', 'GESP']
---
# [GESP202403 六级] 好斗的牛
## 题目描述


你有 $10^9$ 个牛棚，从左到右一字排开。你希望把 $n$ 头牛安置到牛棚里。麻烦的是，你的牛很好斗，如果他们附近有其他的牛，他们就会不安分地去挑事。其中，第 $i$ 头牛的攻击范围是 $(a_i, b_i)$，这意味着，如果他的左边 $a_i$ 个牛棚或者右边 $b_i$ 个牛棚有其他牛，它就会去挑事。

你想留下一段连续的牛棚，并把其他牛棚都卖掉。请问您最少需要留下多少牛棚，才能保证至少存在一种方案能够把所有的 $n$ 头牛都安置进剩余的牛棚里，且没有牛会挑事？
## 输入格式


第一行一个正整数 $n$。  
第二行 $n$ 个正整数 $a_1, a_2, \dots a_n$。  
第三行 $n$ 个正整数 $b_1, b_2, \dots b_n$。

## 输出格式


输出一行一个整数表示答案。
## 样例

### 样例输入 #1
```
2
1 2
1 2

```
### 样例输出 #1
```
4
```
### 样例输入 #2
```
3
1 2 3
3 2 1

```
### 样例输出 #2
```
7
```
## 提示

### 样例 1 解释

留下第 1、2、3、4 个牛棚，并在第 $1$、$4$ 两个牛棚分别放下两头牛。

### 数据规模与约定
- 对 $20\%$ 的数据，保证 $n = 2$。
- 另有 $20\%$ 的数据，保证 $n = 3$。
- 对 $80\%$ 的数据，保证 $n \leq 8$。
- 对于所有的测试数据，保证 $1 \leq n \leq 9$，$1 \leq a_i, b_i \leq 10^3$。


---

---
title: "组合型枚举"
layout: "post"
diff: 普及-
pid: P10448
tag: ['深度优先搜索 DFS']
---
# 组合型枚举
## 题目描述

从 $1 \sim n$ 这 $n$ 个整数中随机选出 $m$ 个，输出所有可能的选择方案。
## 输入格式

两个整数 $n, m$ ,在同一行用空格隔开。
## 输出格式

按照从小到大的顺序输出所有方案，每行 $1$ 个。

首先，同一行内的数升序排列，相邻两个数用一个空格隔开。

其次，对于两个不同的行，对应下标的数一一比较，字典序较小的排在前面（例如 `1 3 5 7` 排在 `1 3 6 8` 前面）。
## 样例

### 样例输入 #1
```
5 3
```
### 样例输出 #1
```
1 2 3 
1 2 4 
1 2 5 
1 3 4 
1 3 5 
1 4 5 
2 3 4 
2 3 5 
2 4 5 
3 4 5 
```
## 提示

对于所有测试数据满足 $0 \le m \le n$ ,  $ n+(n-m) \le 25 $。


---

---
title: "小猫爬山"
layout: "post"
diff: 普及-
pid: P10483
tag: ['深度优先搜索 DFS']
---
# 小猫爬山
## 题目描述

Freda 和 rainbow 饲养了 $N(N\le 18)$ 只小猫，这天，小猫们要去爬山。经历了千辛万苦，小猫们终于爬上了山顶，但是疲倦的它们再也不想徒步走下山了

Freda 和 rainbow 只好花钱让它们坐索道下山。索道上的缆车最大承重量为 $W$，而 $N$ 只小猫的重量分别是 $C_1,C_2,\dots C_N$。当然，每辆缆车上的小猫的重量之和不能超过 $W(1\le C_i,W \le 10^8)$。每租用一辆缆车，Freda 和 rainbow 就要付 $1$ 美元，所以他们想知道，最少需要付多少美元才能把这 $N$ 只小猫都运送下山？
## 输入格式

第一行包含两个用空格隔开的整数，$N$ 和 $W$。
接下来 $N$ 行每行一个整数，其中第 $i+1$ 行的整数表示第 $i$ 只小猫的重量 $C_i$。
## 输出格式

输出一个整数，最少需要多少美元，也就是最少需要多少辆缆车。
## 样例

### 样例输入 #1
```
5 1996
1
2
1994
12
29
```
### 样例输出 #1
```
2
```


---

---
title: "[USACO09NOV] The Chivalrous Cow B"
layout: "post"
diff: 普及-
pid: P10491
tag: ['O2优化', '广度优先搜索 BFS']
---
# [USACO09NOV] The Chivalrous Cow B
## 题目背景

农民 John 有很多牛，他想交易其中一头被 Don 称为 The Knight 的牛。这头牛有一个独一无二的超能力，在农场里像 Knight 一样地跳（就是我们熟悉的象棋中马的走法）。虽然这头神奇的牛不能跳到树上和石头上，但是它可以在牧场上随意跳，我们把牧场用一个 $x，y$ 的坐标图来表示。
## 题目描述

这头神奇的牛像其它牛一样喜欢吃草，给你一张地图，上面标注了 The Knight 的开始位置，树、灌木、石头以及其它障碍的位置，除此之外还有一捆草。现在你的任务是，确定 The Knight 要想吃到草，至少需要跳多少次。The Knight 的位置用 `K` 来标记，障碍的位置用 `*` 来标记，草的位置用 `H` 来标记。

这里有一个地图的例子：
```
             11 | . . . . . . . . . .
             10 | . . . . * . . . . . 
              9 | . . . . . . . . . . 
              8 | . . . * . * . . . . 
              7 | . . . . . . . * . . 
              6 | . . * . . * . . . H 
              5 | * . . . . . . . . . 
              4 | . . . * . . . * . . 
              3 | . K . . . . . . . . 
              2 | . . . * . . . . . * 
              1 | . . * . . . . * . . 
              0 ----------------------
                                    1 
                0 1 2 3 4 5 6 7 8 9 0 
```
The Knight 可以按照下图中的 $A,B,C,D...$ 这条路径用 $5$ 次跳到草的地方（有可能其它路线的长度也是 $5$）：
```
             11 | . . . . . . . . . .
             10 | . . . . * . . . . .
              9 | . . . . . . . . . .
              8 | . . . * . * . . . .
              7 | . . . . . . . * . .
              6 | . . * . . * . . . F<
              5 | * . B . . . . . . .
              4 | . . . * C . . * E .
              3 | .>A . . . . D . . .
              2 | . . . * . . . . . *
              1 | . . * . . . . * . .
              0 ----------------------
                                    1
                0 1 2 3 4 5 6 7 8 9 0
                ```
## 输入格式

第一行$：$ 两个数，表示农场的列数$（\le 150）$ 和行数$（\le150）$

第二行$..$结尾$：$如题目描述的图。
## 输出格式

一个数，表示跳跃的最小次数。
## 样例

### 样例输入 #1
```
10 11
..........
....*.....
..........
...*.*....
.......*..
..*..*...H
*.........
...*...*..
.K........
...*.....*
..*....*..
```
### 样例输出 #1
```
5
```
## 提示

Hint：这类问题可以用一个简单的先进先出表（队列）来解决。


---

---
title: "【MX-S1-T1】 壁垒"
layout: "post"
diff: 普及-
pid: P10672
tag: ['搜索', 'Special Judge', 'O2优化', '排列组合', '构造', '梦熊比赛']
---
# 【MX-S1-T1】 壁垒
## 题目背景

原题链接：<https://oier.team/problems/S1A>。
## 题目描述

给定一个长度为 $n$ 的仅包含正整数的数列 $a$，保证 $n$ 是偶数。你需要重排 $a$，满足对于 $a$ 的每个长度为偶数的前缀，出现的数字种类数是偶数，或断定这样的重排方式不存在。

如果有多种重排方式满足条件，输出任意一种即可。
## 输入格式

第一行一个正整数 $n$，保证 $n$ 是偶数。

第二行一个 $n$ 个正整数，描述数列 $a$。
## 输出格式

无解时输出 $-1$，否则输出一行 $n$ 个整数，描述重排后的数列 $a$。

本题使用**自定义校验器**检验你的答案是否正确，如果有多种重排方式满足条件，输出任意一种即可。
## 样例

### 样例输入 #1
```
6
2 3 3 4 1 1
```
### 样例输出 #1
```
1 3 3 1 2 4
```
### 样例输入 #2
```
2
1 1
```
### 样例输出 #2
```
-1
```
## 提示

__【样例解释 1】__

$\{1,3\},\{1,3,3,1\},\{1,3,3,1,2,4\}$ 这些集合的数字种类数都是偶数。

__【数据范围】__

__本题使用子任务捆绑测试。__

对于 $100\%$ 的数据，$2\le n\le 10^5$，$1\le a_i\le n$，保证 $n$ 是偶数。

| 子任务编号 | $n\le $ | $a_i\le $ | 分值 |
| ---------- | ------- | --------- | ---- |
| $1$        | $10$    | $n$       | $20$ |
| $2$        | $20$    | $n$       | $20$ |
| $3$        | $10^5$  | $2$       | $20$ |
| $4$        | $10^5$  | $10$      | $20$ |
| $5$        | $10^5$  | $n$       | $20$ |


---

---
title: "【MX-X2-T1】「Cfz Round 4」Awaken"
layout: "post"
diff: 普及-
pid: P10852
tag: ['模拟', '搜索', '数学', 'Special Judge', 'O2优化', '高斯消元', '分类讨论', '梦熊比赛']
---
# 【MX-X2-T1】「Cfz Round 4」Awaken
## 题目背景

原题链接：<https://oier.team/problems/X2A>。

---

能否等到梦醒了的时候。

![图片与题目做法无关，图片来源网络，侵删。QWQ。](https://cdn.luogu.com.cn/upload/image_hosting/wksp5b48.png?x-oss-process=image/resize,m_lfit,h_500,w_500)

## 题目描述

月做了一个梦。在梦中，她拿到了一个长度为 $n$ 的**整数**序列 $a_1, \ldots, a_n$，**其中 $\bm{n \ge 5}$**。

梦醒了。月忘记了这个序列中的一部分元素，留下了空白。所幸，月还记得 $m$ 个非空白的位置。月希望将空白的位置填上，还原整个序列。

月还记得梦中的序列有性质：对于所有满足 $x_2+x_3=x_1+x_4$ 的互异下标 $x_1,x_2,x_3,x_4$，总有 $a_{x_2}+a_{x_3}=a_{x_1}+a_{x_4}$ 成立。

月想知道是否可以还原出一个满足性质的序列（如果不能的话，就是她记错了）。若可以，输出 ```Yes```；否则输出 ```No```。
## 输入格式

**本题有多组测试数据。**

输入的第一行包含一个整数 $T$，表示测试数据组数。

接下来依次输入每组测试数据。对于每组测试数据：

- 第一行两个整数 $n,m$，其中 $n \ge 5$，$m$ 表示 $a_i$ 中不为空的位置的个数。
- 接下来 $m$ 行，每行两个整数 $p_i,x_i$，表示 $a_{p_i}$ 不为空，且 $a_{{p_i}}=x_i$。保证 $p_i$ 两两不同。
## 输出格式

对于每组测试数据，输出一个字符串 `Yes` 或 `No`，表示原序列是否存在。

本题中字符串大小写不敏感，即 `yes`、`yeS`、`yEs`、`Yes`、`YEs`、`YeS`、`yES`、`YES` 都被认为是 `Yes`，`No` 同理。
## 样例

### 样例输入 #1
```
3
5 3
1 1
4 4
5 5
6 6
1 1
3 7
2 4
5 5
4 1
6 4
5 0
```
### 样例输出 #1
```
Yes
No
Yes
```
### 样例输入 #2
```
1
5 2
1 -2
5 -10
```
### 样例输出 #2
```
Yes
```
### 样例输入 #3
```
2
9 6
1 -856675560
8 479857596
5 -92942328
4 -283875636
3 -474808944
9 670790904
10 7
4 -32297373
10 -633066970
9 831032854
5 -43726758
2 -699796467
1 -918486370
8 612342951
```
### 样例输出 #3
```
Yes
No
```
## 提示

**【样例解释 #1】**

对于第 $1$ 组测试数据，当前序列为 $[1,?,?,4,5]$。可以构造出原序列 $[1,2,3,4,5]$，你可以检查此序列满足性质。

对于第 $2$ 组测试数据，当前序列为 $[1,4,7,1,5,4]$。可以证明不存在满足性质的原序列。这组样例提醒你，**$\bm p$ 不一定升序给出**。

对于第 $3$ 组测试数据，当前序列为 $[?,?,?,?,?]$。可以构造出原序列 $[0,0,0,0,0]$，当然 $[-1,-1,-1,-1,-1]$ 也可以。这组样例提醒你，$m$ 可以等于 $0$，以及原序列可以含有负数或 $0$。


**【数据范围】**

设 $\sum n$ 表示单个测试点中 $n$ 的和。

对于所有测试数据，$1 \le T\le 4\times10^4$，$5\le n\le2\times 10^5$，$\sum n\le 2\times10^5$，$0\le m\le n$，$1\le p_i\le n$，$-10^{9} \le x_i \le 10^{9}$。保证在同一组数据内 $p_i$ 两两不同。

**本题采用捆绑测试。**

- Subtask 1（20 points）：$n\le2000$ 且 $m=n$。
- Subtask 2（30 points）：$n\leq 6$，$|x|\le7$。
- Subtask 3（20 points）：$m=2$。
- Subtask 4（30 points）：无特殊限制。


---

---
title: "[NOIP 2004 普及组] 花生采摘"
layout: "post"
diff: 普及-
pid: P1086
tag: ['模拟', '搜索', '2004', 'NOIP 普及组']
---
# [NOIP 2004 普及组] 花生采摘
## 题目描述

鲁宾逊先生有一只宠物猴，名叫多多。这天，他们两个正沿着乡间小路散步，突然发现路边的告示牌上贴着一张小小的纸条：“欢迎免费品尝我种的花生！――熊字”。

鲁宾逊先生和多多都很开心，因为花生正是他们的最爱。在告示牌背后，路边真的有一块花生田，花生植株整齐地排列成矩形网格（如图一）。有经验的多多一眼就能看出，每棵花生植株下的花生有多少。为了训练多多的算术，鲁宾逊先生说：“你先找出花生最多的植株，去采摘它的花生；然后再找出剩下的植株里花生最多的，去采摘它的花生；依此类推，不过你一定要在我限定的时间内回到路边。”

![](https://cdn.luogu.com.cn/upload/image_hosting/unwk7hd0.png)

我们假定多多在每个单位时间内，可以做下列四件事情中的一件：

1) 从路边跳到最靠近路边（即第一行）的某棵花生植株；
2) 从一棵植株跳到前后左右与之相邻的另一棵植株；
3) 采摘一棵植株下的花生；
4) 从最靠近路边（即第一行）的某棵花生植株跳回路边。

现在给定一块花生田的大小和花生的分布，请问在限定时间内，多多最多可以采到多少个花生？注意可能只有部分植株下面长有花生，假设这些植株下的花生个数各不相同。

例如在图2所示的花生田里，只有位于 $(2, 5), (3, 7), (4, 2), (5, 4)$ 的植株下长有花生，个数分别为 $13, 7, 15, 9$。沿着图示的路线，多多在 $21$ 个单位时间内，最多可以采到 $37$ 个花生。

**注意**：在采摘过程中不能回到路边。
## 输入格式

第一行包括三个整数，$M, N$和$K$，用空格隔开；表示花生田的大小为$M  \times N(1  \le M, N  \le 20)$，多多采花生的限定时间为$K(0  \le K  \le  1000)$个单位时间。接下来的$M$行，每行包括$N$个非负整数，也用空格隔开；第$i + 1$行的第$j$个整数$P_{ij}(0  \le P_{ij}  \le 500)$表示花生田里植株$(i, j)$下花生的数目，$0$表示该植株下没有花生。

## 输出格式

一个整数，即在限定时间内，多多最多可以采到花生的个数。

## 样例

### 样例输入 #1
```
6 7 21
0 0 0 0 0 0 0
0 0 0 0 13 0 0
0 0 0 0 0 0 7
0 15 0 0 0 0 0
0 0 0 9 0 0 0
0 0 0 0 0 0 0
```
### 样例输出 #1
```
37
```
### 样例输入 #2
```
6 7 20
0 0 0 0 0 0 0
0 0 0 0 13 0 0
0 0 0 0 0 0 7
0 15 0 0 0 0 0
0 0 0 9 0 0 0
0 0 0 0 0 0 0

```
### 样例输出 #2
```
28
```
## 提示

noip2004普及组第2题



---

---
title: "[NOIP 2004 普及组] FBI 树"
layout: "post"
diff: 普及-
pid: P1087
tag: ['字符串', '搜索', '树形数据结构', '2004', '递归', 'NOIP 普及组', '构造']
---
# [NOIP 2004 普及组] FBI 树
## 题目描述

我们可以把由 0 和 1 组成的字符串分为三类：全 0 串称为 B 串，全 1 串称为 I 串，既含 0 又含 1 的串则称为 F 串。

FBI 树是一种二叉树，它的结点类型也包括 F 结点，B 结点和 I 结点三种。由一个长度为 $2^N$ 的 01 串 $S$ 可以构造出一棵 FBI 树 $T$，递归的构造方法如下：

1. $T$ 的根结点为 $R$，其类型与串 $S$ 的类型相同；
2. 若串 $S$ 的长度大于 $1$，将串 $S$ 从中间分开，分为等长的左右子串 $S_1$ 和 $S_2$；由左子串 $S_1$ 构造 $R$ 的左子树 $T_1$，由右子串 $S_2$ 构造 $R$ 的右子树 $T_2$。

现在给定一个长度为 $2^N$ 的 01 串，请用上述构造方法构造出一棵 FBI 树，并输出它的后序遍历序列。

## 输入格式

第一行是一个整数 $N(0 \le N \le 10)$，  

第二行是一个长度为 $2^N$ 的 01 串。

## 输出格式

一个字符串，即 FBI 树的后序遍历序列。

## 样例

### 样例输入 #1
```
3
10001011

```
### 样例输出 #1
```
IBFBBBFIBFIIIFF

```
## 提示

对于 $40\%$ 的数据，$N \le 2$；

对于全部的数据，$N \le 10$。


noip2004普及组第3题



---

---
title: "[NOIP 2004 普及组] 火星人"
layout: "post"
diff: 普及-
pid: P1088
tag: ['模拟', '搜索', '数学', '2004', 'NOIP 普及组', '排序']
---
# [NOIP 2004 普及组] 火星人
## 题目描述

人类终于登上了火星的土地并且见到了神秘的火星人。人类和火星人都无法理解对方的语言，但是我们的科学家发明了一种用数字交流的方法。这种交流方法是这样的，首先，火星人把一个非常大的数字告诉人类科学家，科学家破解这个数字的含义后，再把一个很小的数字加到这个大数上面，把结果告诉火星人，作为人类的回答。

火星人用一种非常简单的方式来表示数字――掰手指。火星人只有一只手，但这只手上有成千上万的手指，这些手指排成一列，分别编号为 $1,2,3,\cdots$。火星人的任意两根手指都能随意交换位置，他们就是通过这方法计数的。

一个火星人用一个人类的手演示了如何用手指计数。如果把五根手指――拇指、食指、中指、无名指和小指分别编号为 $1,2,3,4$ 和 $5$，当它们按正常顺序排列时，形成了 $5$ 位数 $12345$，当你交换无名指和小指的位置时，会形成 $5$ 位数 $12354$，当你把五个手指的顺序完全颠倒时，会形成 $54321$，在所有能够形成的 $120$ 个 $5$ 位数中，$12345$ 最小，它表示 $1$；$12354$ 第二小，它表示 $2$；$54321$ 最大，它表示 $120$。下表展示了只有 $3$ 根手指时能够形成的 $6$ 个 $3$ 位数和它们代表的数字：


| 三进制数 | 代表的数字 |
|:-:|:-:|
| $123$ | $1$ |
| $132$ | $2$ |
| $213$ | $3$ |
| $231$ | $4$ |
| $312$ | $5$ |
| $321$ | $6$ |

现在你有幸成为了第一个和火星人交流的地球人。一个火星人会让你看他的手指，科学家会告诉你要加上去的很小的数。你的任务是，把火星人用手指表示的数与科学家告诉你的数相加，并根据相加的结果改变火星人手指的排列顺序。输入数据保证这个结果不会超出火星人手指能表示的范围。

## 输入格式

共三行。  
第一行一个正整数 $N$，表示火星人手指的数目（$1 \le N \le 10000$）。  
第二行是一个正整数 $M$，表示要加上去的小整数（$1  \le  M  \le  100$）。  
下一行是 $1$ 到 $N$ 这 $N$ 个整数的一个排列，用空格隔开，表示火星人手指的排列顺序。

## 输出格式

$N$ 个整数，表示改变后的火星人手指的排列顺序。每两个相邻的数中间用一个空格分开，不能有多余的空格。

## 样例

### 样例输入 #1
```
5
3
1 2 3 4 5

```
### 样例输出 #1
```
1 2 4 5 3
```
## 提示

对于 $30\%$ 的数据，$N \le 15$。

对于 $60\%$ 的数据，$N \le 50$。

对于 $100\%$ 的数据，$N \le 10000$。

noip2004 普及组第 4 题



---

---
title: "单词方阵"
layout: "post"
diff: 普及-
pid: P1101
tag: ['字符串', '搜索']
---
# 单词方阵
## 题目描述

给一 $n \times n$ 的字母方阵，内可能蕴含多个 `yizhong` 单词。单词在方阵中是沿着同一方向连续摆放的。摆放可沿着 $8$ 个方向的任一方向，同一单词摆放时不再改变方向，单词与单词之间可以交叉，因此有可能共用字母。输出时，将不是单词的字母用 `*` 代替，以突出显示单词。
## 输入格式

第一行输入一个数 $n$。$(7 \le n \le 100)$。

第二行开始输入 $n \times n$ 的字母矩阵。

## 输出格式

突出显示单词的 $n \times n$ 矩阵。

## 样例

### 样例输入 #1
```
7
aaaaaaa
aaaaaaa
aaaaaaa
aaaaaaa
aaaaaaa
aaaaaaa
aaaaaaa

```
### 样例输出 #1
```
*******
*******
*******
*******
*******
*******
*******

```
### 样例输入 #2
```
8
qyizhong
gydthkjy
nwidghji
orbzsfgz
hhgrhwth
zzzzzozo
iwdfrgng
yyyygggg
```
### 样例输出 #2
```
*yizhong
gy******
n*i*****
o**z****
h***h***
z****o**
i*****n*
y******g
```


---

---
title: "平台"
layout: "post"
diff: 普及-
pid: P1105
tag: ['模拟', '搜索', '排序']
---
# 平台
## 题目描述

空间中有一些平台。给出每个平台的位置，请你计算从每一个平台的边缘落下之后会落到哪一个平台上。

注意，如果某两个平台的某个两边缘横坐标相同，物体从上面那个平台落下之后将不会落在下面那个平台上（即平台的范围是一个开区间，不包含端点）。平台**可能会重叠**。

从平台下落时视作从平台下方开始下落，也就是说不会落到高度相同的平台上。**如果有两个平台的高度相同且都可以被落到的话，那么会落到编号靠前的那个平台。**
## 输入格式

第一行有一个数 $N$ 表示平台的个数;

接下来 $N$ 行每行三个整数 分别是平台的高度 $H_i$，左端点的 $X$ 坐标 $L_i$，右端点的 $X$ 坐标 $R_i$。

其中，$1 \le N \le {10}^3$，$0 \le H,L,R \le 2 \times {10}^4$。
## 输出格式

输出共 $N$ 行，每行两个数，分别表示：

从第 $i$ 个平台的左边缘落下后到达的平台序号和右边缘落下以后到达的平台序号。

输入数据中第一个平台的序号是 $1$。如果某个平台的某个边缘下面没有平台了，输出 $0$。

## 样例

### 样例输入 #1
```
5
2 0 2
4 1 3
3 1 3
5 3 4
1 1 5

```
### 样例输出 #1
```
0 5
1 5
1 5
5 5
0 0

```
## 提示

![](https://cdn.luogu.com.cn/upload/image_hosting/qeknowf7.png)


---

---
title: "约瑟夫"
layout: "post"
diff: 普及-
pid: P1145
tag: ['搜索', '枚举', '剪枝']
---
# 约瑟夫
## 题目描述

$n$ 个人站成一圈，从某个人开始数数，每次数到 $m$ 的人就被杀掉，然后下一个人重新开始数，直到最后只剩一个人。现在有一圈人，$k$ 个好人站在一起，$k$ 个坏人站在一起。从第一个好人开始数数。你要确定一个最小的 $m$，使得在第一个好人被杀死前，$k$ 个坏人先被杀死。

## 输入格式

一行一个整数 $k$。
## 输出格式

一行一个整数 $m$。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
5
```
### 样例输入 #2
```
4
```
### 样例输出 #2
```
30
```
## 提示

$0\lt k\lt 14$。


---

---
title: "硬币翻转"
layout: "post"
diff: 普及-
pid: P1146
tag: ['模拟', '搜索', '数学']
---
# 硬币翻转
## 题目描述

在桌面上有一排硬币，共 $N$ 枚，每一枚硬币均为正面朝上。现在要把所有的硬币翻转成反面朝上，规则是每次可翻转任意 $N-1$ 枚硬币（正面向上的被翻转为反面向上，反之亦然）。求一个最短的操作序列（将每次翻转 $N-1$ 枚硬币成为一次操作）。
## 输入格式

一个自然数 $N$（$N$ 为不大于 $100$ 的偶数）。
## 输出格式

第一行包含一个整数 $S$，表示最少需要的操作次数。

接下来的 $S$ 行每行分别表示每次操作后桌上硬币的状态（一行包含 $N$ 个整数 $0$ 或 $1$，表示每个硬币的状态，$0$ 表示正面向上，$1$ 表示反面向上。不允许输出多余空格。

对于有多种操作方案的情况，则只需**操作的字典序**最小输出一种。

操作的字典序是指，对于一次操作中的每个位置，$1$ 表示翻转，$0$ 表示不反转。

但是需要你输出的是每一次操作完的状态，$0$ 表示正面朝上，$1$ 表示反面朝上。
## 样例

### 样例输入 #1
```
4
```
### 样例输出 #1
```
4
0111
1100
0001
1111

```


---

---
title: "[NOIP 2008 提高组] 火柴棒等式"
layout: "post"
diff: 普及-
pid: P1149
tag: ['搜索', '2008', 'NOIP 提高组']
---
# [NOIP 2008 提高组] 火柴棒等式
## 题目描述

给你 $n$ 根火柴棍，你可以拼出多少个形如 $A+B=C$ 的等式？等式中的 $A$、$B$、$C$ 是用火柴棍拼出的整数（若该数非零，则最高位不能是 $0$）。用火柴棍拼数字 $0\sim9$ 的拼法如图所示：

![](https://cdn.luogu.com.cn/upload/image_hosting/p5hsawt2.png)

注意：

1. 加号与等号各自需要两根火柴棍；
2. 如果 $A\neq B$，则 $A+B=C$ 与 $B+A=C$ 视为不同的等式（$A,B,C\geq0$）；
3. $n$ 根火柴棍必须全部用上。

## 输入格式

一个整数 $n(1 \leq n\leq 24)$。

## 输出格式

一个整数，能拼成的不同等式的数目。

## 样例

### 样例输入 #1
```
14
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
18
```
### 样例输出 #2
```
9
```
## 提示

【输入输出样例 1 解释】

$2$ 个等式为 $0+1=1$ 和 $1+0=1$。

【输入输出样例 2 解释】

$9$ 个等式为

$0+4=4$、$0+11=11$、$1+10=11$、$2+2=4$、$2+7=9$、$4+0=4$、$7+2=9$、$10+1=11$、$11+0=11$。

noip2008 提高第二题


---

---
title: "组合的输出"
layout: "post"
diff: 普及-
pid: P1157
tag: ['搜索', '递归', '排列组合']
---
# 组合的输出
## 题目描述

排列与组合是常用的数学方法，其中组合就是从 $n$ 个元素中抽出 $r$ 个元素（不分顺序且 $r \le n$），我们可以简单地将 $n$ 个元素理解为自然数 $1,2,\dots,n$，从中任取 $r$ 个数。

现要求你输出所有组合。

例如 $n=5,r=3$，所有组合为：

$123,124,125,134,135,145,234,235,245,345$。

## 输入格式

一行两个自然数 $n,r(1<n<21,0 \le r \le n)$。

## 输出格式

所有的组合，每一个组合占一行且其中的元素按由小到大的顺序排列，每个元素占三个字符的位置，所有的组合也按字典顺序。

**注意哦！输出时，每个数字需要 $3$ 个场宽。以 C++ 为例，你可以使用下列代码：**

```cpp
cout << setw(3) << x;
```

输出占 $3$ 个场宽的数 $x$。注意你需要头文件 `iomanip`。
## 样例

### 样例输入 #1
```
5 3 

```
### 样例输出 #1
```
  1  2  3
  1  2  4
  1  2  5
  1  3  4
  1  3  5
  1  4  5
  2  3  4
  2  3  5
  2  4  5
  3  4  5
```


---

---
title: "填涂颜色"
layout: "post"
diff: 普及-
pid: P1162
tag: ['搜索', '洛谷原创', '广度优先搜索 BFS', '队列']
---
# 填涂颜色
## 题目描述

由数字 $0$ 组成的方阵中，有一任意形状的由数字 $1$ 构成的闭合圈。现要求把闭合圈内的所有空间都填写成 $2$。例如：$6\times 6$ 的方阵（$n=6$），涂色前和涂色后的方阵如下：

如果从某个 $0$ 出发，只向上下左右 $4$ 个方向移动且仅经过其他 $0$ 的情况下，无法到达方阵的边界，就认为这个 $0$ **在闭合圈内**。闭合圈不一定是环形的，可以是任意形状，但保证**闭合圈内**的 $0$ 是连通的（两两之间可以相互到达）。

```plain
0 0 0 0 0 0
0 0 0 1 1 1
0 1 1 0 0 1
1 1 0 0 0 1
1 0 0 1 0 1
1 1 1 1 1 1
```
```plain
0 0 0 0 0 0
0 0 0 1 1 1
0 1 1 2 2 1
1 1 2 2 2 1
1 2 2 1 2 1
1 1 1 1 1 1
```
## 输入格式

每组测试数据第一行一个整数 $n(1 \le n \le 30)$。

接下来 $n$ 行，由 $0$ 和 $1$ 组成的 $n \times n$ 的方阵。

方阵内只有一个闭合圈，圈内至少有一个 $0$。

## 输出格式

已经填好数字 $2$ 的完整方阵。

## 样例

### 样例输入 #1
```
6
0 0 0 0 0 0
0 0 1 1 1 1
0 1 1 0 0 1
1 1 0 0 0 1
1 0 0 0 0 1
1 1 1 1 1 1

```
### 样例输出 #1
```
0 0 0 0 0 0
0 0 1 1 1 1
0 1 1 2 2 1
1 1 2 2 2 1
1 2 2 2 2 1
1 1 1 1 1 1

```
## 提示

对于 $100\%$ 的数据，$1 \le n \le 30$。



---

---
title: "小A点菜"
layout: "post"
diff: 普及-
pid: P1164
tag: ['动态规划 DP', '搜索', '洛谷原创', '背包 DP']
---
# 小A点菜
## 题目背景

uim 神犇拿到了 uoi 的 ra（镭牌）后，立刻拉着基友小 A 到了一家……餐馆，很低端的那种。

uim 指着墙上的价目表（太低级了没有菜单），说：“随便点”。

## 题目描述

不过 uim 由于买了一些书，口袋里只剩 $M$ 元 $(M \le 10000)$。

餐馆虽低端，但是菜品种类不少，有 $N$ 种 $(N \le 100)$，第 $i$ 种卖 $a_i$ 元 $(a_i \le 1000)$。由于是很低端的餐馆，所以每种菜只有一份。

小 A 奉行“不把钱吃光不罢休”的原则，所以他点单一定刚好把 uim 身上所有钱花完。他想知道有多少种点菜方法。

由于小 A 肚子太饿，所以最多只能等待 $1$ 秒。

## 输入格式

第一行是两个数字，表示 $N$ 和 $M$。

第二行起 $N$ 个正数 $a_i$（可以有相同的数字，每个数字均在 $1000$ 以内）。

## 输出格式

一个正整数，表示点菜方案数，保证答案的范围在 int 之内。

## 样例

### 样例输入 #1
```
4 4
1 1 2 2

```
### 样例输出 #1
```
3

```
## 提示

2020.8.29，增添一组 hack 数据 by @yummy


---

---
title: "高手之在一起"
layout: "post"
diff: 普及-
pid: P1184
tag: ['模拟', '搜索', '洛谷原创']
---
# 高手之在一起
## 题目背景

高手是可以复活的，这点我们大家都知道。

## 题目描述

高手列出了一个详尽的日程表，这次他要追求的则是一个心灵纯洁的小萝莉。他和她都是要上课的，但是也会有时间空闲，于是高手决定无时无刻都要跟着她。为了她，高手决定转学到一年级。

现在高手已经花重金买下了她的日程表，每一天都会有她的行踪。现在列出了高手方便去的地方。其中方便去的地方可以去无限次，不方便去的地方不能去。

一共有 $n$ 个方便去的地点，$m$ 天。高手想知道他在这 $m$ 天中，最多能和她在一起多久。不方便去的地方是不会列出的。

## 输入格式

第一行两个整数 $n,m$。  

接下来 $n$ 行，每行一个地名，高手方便去的地方。  

接下来 $m$ 行，每行一个地名，她这一天在的地方。

**地名中可能有空格。**
## 输出格式

一个整数，他们在同一个地方的天数。

## 样例

### 样例输入 #1
```
1 2
WC
CLASS
WC

```
### 样例输出 #1
```
1

```
## 提示

$1 \leq m \leq 1000000$，$1 \leq n \leq 20$。



---

---
title: "[NOIP 2010 普及组] 接水问题"
layout: "post"
diff: 普及-
pid: P1190
tag: ['模拟', '搜索', '贪心', '2010', 'NOIP 普及组']
---
# [NOIP 2010 普及组] 接水问题
## 题目描述

学校里有一个水房，水房里一共装有 $m$ 个龙头可供同学们打开水，每个龙头每秒钟的供水量相等，均为 $1$。

现在有 $n$ 名同学准备接水，他们的初始接水顺序已经确定。将这些同学按接水顺序从 $1$ 到 $n$ 编号，$i$ 号同学的接水量为 $w_i$。接水开始时，$1$ 到 $m$ 号同学各占一个水龙头，并同时打开水龙头接水。当其中某名同学 $j$ 完成其接水量要求 $w_j$ 后，下一名排队等候接水的同学 $k$ 马上接替 $j$ 同学的位置开始接水。这个换人的过程是瞬间完成的，且没有任何水的浪费。即 $j$ 同学第 $x$ 秒结束时完成接水，则 $k$ 同学第 $x+1$ 秒立刻开始接水。若当前接水人数 $n'$ 不足 $m$，则只有 $n'$ 个龙头供水，其它 $m - n'$ 个龙头关闭。

现在给出 $n$ 名同学的接水量，按照上述接水规则，问所有同学都接完水需要多少秒。

## 输入格式

第一行两个整数 $n$ 和 $m$，用一个空格隔开，分别表示接水人数和龙头个数。

第二行 $n$ 个整数 $w_1,w_2,\ldots,w_n$，每两个整数之间用一个空格隔开，$w_i$ 表示 $i$ 号同学的接水量。
## 输出格式

一个整数，表示接水所需的总时间。

## 样例

### 样例输入 #1
```
5 3
4 4 1 2 1

```
### 样例输出 #1
```
4
```
### 样例输入 #2
```
8 4
23 71 87 32 70 93 80 76

```
### 样例输出 #2
```
163
```
## 提示

【输入输出样例 \#1 说明】

第 $1$ 秒，$3$ 人接水。第 $1$ 秒结束时，$1,2,3$ 号同学每人的已接水量为 $1,3$ 号同学接完水，$4$ 号同学接替 $3$ 号同学开始接水。

第 $2$ 秒，$3$ 人接水。第 $2$ 秒结束时，$1,2$ 号同学每人的已接水量为 $2,4$ 号同学的已接水量为 $1$。

第 $3$ 秒，$3$ 人接水。第 $3$ 秒结束时，$1,2$ 号同学每人的已接水量为 $3,4$ 号同学的已接水量为 $2$。$4$ 号同学接完水，$5$ 号同学接替 $4$ 号同学开始接水。

第 $4$ 秒，$3$ 人接水。第 $4$ 秒结束时，$1,2$ 号同学每人的已接水量为 $4,5$ 号同学的已接水量为 $1$。$1,2,5$ 号同学接完水，即所有人完成接水的总接水时间为 $4$ 秒。

【数据范围】

$1 \le n \le {10}^4$，$1 \le m \le 100$，$m \le n$；

$1 \le w_i \le 100$。

NOIP2010 普及组 第二题



---

---
title: "[USACO1.1] 坏掉的项链 Broken Necklace"
layout: "post"
diff: 普及-
pid: P1203
tag: ['字符串', '动态规划 DP', '搜索', 'USACO']
---
# [USACO1.1] 坏掉的项链 Broken Necklace
## 题目描述

你有一条由 $n$ 个红色的，白色的，或蓝色的珠子组成的项链，珠子是随意安排的。 这里是 $n=29$ 的两个例子:

![](https://cdn.luogu.com.cn/upload/image_hosting/i7imvc0g.png) 

第一和第二个珠子在图片中已经被作记号。

图片 A 中的项链可以用下面的字符串表示：

`brbrrrbbbrrrrrbrrbbrbbbbrrrrb`

假如你要在一些点打破项链，展开成一条直线，然后从一端开始收集同颜色的珠子直到你遇到一个不同的颜色珠子，在另一端做同样的事(颜色可能与在这之前收集的不同)。 确定应该在哪里打破项链来收集到最大数目的珠子。

例如，在图片 A 中的项链中，在珠子 $9$ 和珠子 $10$ 或珠子 $24$ 和珠子 $25$ 之间打断项链可以收集到 $8$ 个珠子。

白色珠子什么意思?

在一些项链中还包括白色的珠子(如图片B) 所示。

当收集珠子的时候，一个被遇到的白色珠子可以被当做红色也可以被当做蓝色。

表现含有白珠项链的字符串将会包括三个符号 `r`，`b`，`w` 。

写一个程序来确定从一条被给出的项链可以收集到的珠子最大数目。
## 输入格式

第一行一个正整数 $n$ ，表示珠子数目。
第二行一串长度为 $n$ 的字符串, 每个字符是 `r` ， `b` 或 `w`。
## 输出格式

输出一行一个整数，表示从给出的项链中可以收集到的珠子的最大数量。
## 样例

### 样例输入 #1
```
29 
wwwbbrwrbrbrrbrbrwrwwrbwrwrrb

```
### 样例输出 #1
```
11
```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$3\le n \le 350$

题目翻译来自NOCOW。

USACO Training Section 1.1


---

---
title: "[USACO1.2] 回文平方数 Palindromic Squares"
layout: "post"
diff: 普及-
pid: P1206
tag: ['搜索', 'USACO', '进制']
---
# [USACO1.2] 回文平方数 Palindromic Squares
## 题目描述

回文数是指从左向右念和从右向左念都一样的数。如 $12321$ 就是一个典型的回文数。

给定一个用十进制表示的正整数 $B$，输出所有 $[1,300]$ 中，它的平方用 $B$ 进制表示时是回文数的数。

## 输入格式

共一行，一个单独的正整数 $B$。

## 输出格式

每行两个 $B$ 进制的符合要求的数字，第二个数是第一个数的平方，且第二个数是回文数。

注意大于 $9$ 的数，用字母表示。如用 `A` 表示 $10$，`B` 表示 $11$，用第 $n$ 个大写字母表示 $n+9$。
## 样例

### 样例输入 #1
```
10

```
### 样例输出 #1
```
1 1
2 4
3 9
11 121
22 484
26 676
101 10201
111 12321
121 14641
202 40804
212 44944
264 69696

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$2 \le B \le 20$

题目翻译来自NOCOW。

USACO Training Section 1.2



---

---
title: "[USACO1.2] 双重回文数 Dual Palindromes"
layout: "post"
diff: 普及-
pid: P1207
tag: ['搜索', 'USACO', '进制']
---
# [USACO1.2] 双重回文数 Dual Palindromes
## 题目背景

如果一个数从左往右读和从右往左读都是一样，那么这个数就叫做“回文数”。例如，$12321$ 就是一个回文数，而 $77778$ 就不是。当然，回文数的首和尾都应是非零的，因此 $0220$ 就不是回文数。

事实上，有一些数（如 $21$ ），在十进制时不是回文数，但在其它进制（如二进制时为 $10101$ ）时就是回文数。
## 题目描述

给定两个十进制数 $n,s$，然后找出前 $n$ 个满足大于 $s$ 且在不少于两种进制（二进制至十进制）上是回文数的十进制数，输出到文件上。

本问题的解决方案不需要使用大于 $32$ 位的整型数


## 输入格式

只有一行，用空格隔开的两个正整数 $n,s$。

## 输出格式

$n$ 行, 每行一个满足上述要求的数，并按从小到大的顺序输出。

## 样例

### 样例输入 #1
```
3 25

```
### 样例输出 #1
```
26
27
28

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le n \le 15$，$1\le s \le 9999$

题目翻译来自NOCOW。

USACO Training Section 1.2



---

---
title: "[USACO1.3] 牛式 Prime Cryptarithm"
layout: "post"
diff: 普及-
pid: P1211
tag: ['搜索', 'USACO', '枚举']
---
# [USACO1.3] 牛式 Prime Cryptarithm
## 题目描述

下面是一个乘法竖式，如果用我们给定的那 $n$ 个数字来取代 `*`，可以使式子成立的话，我们就叫这个式子为牛式。

```cpp
          ***
    x      **
   ----------
         ***
        ***
   ----------
        ****
```

数字只能取代 `*`，当然第一位不能为 $0$，况且给定的数字里不包括 $0$。


注意一下在美国的学校中教的“部分乘积”，第一部分乘积是第二个数的个位和第一个数的积，第二部分乘积是第二个数的十位和第一个数的乘积。

请计算出牛式的数量。


## 输入格式

第一行一个正整数 $n$，表示可用的数集。   
第二行 $n$ 个正整数 $a_i$，表示可用的数。

## 输出格式

输出一行一个整数，表示牛式的总数。

## 样例

### 样例输入 #1
```
5
2 3 4 6 8

```
### 样例输出 #1
```
1

```
## 提示

### 样例解释

```
          222
    x      22
   ----------
         444
        444
   ----------
        4884
```

不需要别的数，严格符合上图的数位情况，可以证明没有其他情况。



不加入样例解释：做题人如果理解错题意会进入误区

比如不用填中间的数，位数没有要求 `34*2=68` 符合要求等误区。

### 数据规模  
对于 $100\%$ 的数据，$1\le n \le 9$，$a_i \in [1,9] \cap \mathbb Z$ 且 $a_i$ 不重复。

题目翻译来自NOCOW。

USACO Training Section 1.4



---

---
title: "[蓝桥杯 2025 省 A] 黑白棋"
layout: "post"
diff: 普及-
pid: P12139
tag: ['搜索', '2025', '深度优先搜索 DFS', '剪枝', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 A] 黑白棋
## 题目描述

小蓝最近迷上了一款名为“黑白棋填充”的游戏。该游戏在一个方形网格棋盘上进行，其中部分格子已经填有黑色或白色的棋子，而其他格子为空，等待玩家填入棋子。  

游戏规则是，玩家需要按照以下规则填满整个棋盘，才能算作胜利：  
1. **黑白棋子数量均等**：  
   在每一行和每一列中，黑色棋子和白色棋子的数量必须相等。  
2. **相邻棋子限制**：  
   在棋盘的任何一行或一列中，不能有超过两个相同颜色的棋子连续排列（即不允许出现“黑黑黑”或“白白白”的情况）。  
3. **行列唯一性**：  
   每一行的棋子排列方式必须是唯一的，不能与棋盘中的任何其他行完全相同。  
   每一列的棋子排列方式必须是唯一的，不能与棋盘中的任何其他列完全相同。  
   行与列之间的棋子排列不作比较，即行可以与列相同，无需满足行列间的唯一性。

![](https://cdn.luogu.com.cn/upload/image_hosting/xybv3cow.png)

现在有一个 $6 \times 6$ 的棋盘，如上图所示，其中部分格子已填入棋子（黑色或白色），其余格子需要你填充，题目保证有唯一解。  

请给出唯一的正确解，并按照以下格式输出答案：  

- 黑色棋子用 $1$ 表示，白色棋子用 $0$ 表示。  
- 从左到右、从上到下的顺序，依次遍历棋盘上的所有格子，并将这些值拼接成一个长度为 $36$ 的字符串。  

例如，假设最终填充完成后的棋盘如下（仅为示例，并非真实答案）：  
```plain
1 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
0 0 1 0 0 0
0 0 1 1 0 0
0 0 1 1 1 1
```
则输出结果应为：`100000000000000000001000001100001111`。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2024 国 Python B] 不同的总分值"
layout: "post"
diff: 普及-
pid: P12266
tag: ['搜索', '2024', '枚举', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Python B] 不同的总分值
## 题目描述

在今年蓝桥杯的决赛中，一共有 $10$ 道题目，每道题目的分数依次为 $5$ 分，$5$ 分，$10$ 分，$10$ 分，$15$ 分，$15$ 分，$20$ 分，$20$ 分，$25$ 分，$25$ 分。

假设某位参赛选手在解答每一道题时，要么能得到该题的全部分数，要么就得 $0$ 分。那么请问，这位参赛选手在完成这 $10$ 道题之后，所能获得的总分值存在多少种不同的情况？

注意，总分值仅需关注选手 $10$ 道题的总得分，而无需关注具体是由哪些题获得了相应的分数。例如，选手第一道题获得 $5$ 分其余题均为 $0$ 分，与第二道题获得 $5$ 分其余题均为 $0$ 分，应视为同一种情况。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "小 A 的口头禅"
layout: "post"
diff: 普及-
pid: P1234
tag: ['搜索']
---
# 小 A 的口头禅
## 题目描述

小 A 最近有了一个口头禅 “呵呵”，于是他给出了一个矩形，让你求出里面有几个 “$\verb!hehe!$”（方向可以是向上、向下、向左、向右的直线）。

## 输入格式

第一行两个数 $n, m$，表示这个矩形的大小。

接下来 $n$ 行，每行 $m$ 个字符，表示这个矩形。

## 输出格式

一行一个数，表示有几个 “$\verb!hehe!$”。

## 样例

### 样例输入 #1
```
5 5
heheh
heheh
heheh
heheh
heheh

```
### 样例输出 #1
```
10

```
## 提示

$1 \leq n,m \leq1000$。




---

---
title: "盒子与球"
layout: "post"
diff: 普及-
pid: P1287
tag: ['搜索', '容斥原理', 'Stirling 数']
---
# 盒子与球
## 题目描述

现有 $r$ 个互不相同的盒子和 $n$ 个互不相同的球，要将这 $n$ 个球放入 $r$ 个盒子中，且不允许有空盒子。请求出有多少种不同的放法。

两种放法不同当且仅当存在一个球使得该球在两种放法中放入了不同的盒子。
## 输入格式

输入只有一行两个整数，分别代表 $n$ 和 $r$。
## 输出格式

输出一行一个整数代表答案。
## 样例

### 样例输入 #1
```
3 2

```
### 样例输出 #1
```
6

```
## 提示

#### 样例输入输出 1 解释

有两个盒子（编号为 $1, 2$）和三个球（编号为 $1, 2, 3$），共有六种方案，分别如下：

| 盒子编号 |   方案 1    |   方案 2    |   方案 3    |   方案 4    |   方案 5    |   方案 6    |
| :------: | :---------: | :---------: | :---------: | :---------: | :---------: | :---------: |
| 盒子 $1$ |  小球 $1$   |  小球 $2$   |  小球 $3$   | 小球 $2, 3$ | 小球 $1, 3$ | 小球 $1, 2$ |
| 盒子 $2$ | 小球 $2, 3$ | 小球 $1, 3$ | 小球 $1, 2$ |  小球 $1$   |  小球 $2$   |  小球 $3$   |

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $0 \leq r \leq n \leq 10$，且答案小于 $2^{31}$。


---

---
title: "高手去散步"
layout: "post"
diff: 普及-
pid: P1294
tag: ['搜索', '洛谷原创', '深度优先搜索 DFS']
---
# 高手去散步
## 题目背景

高手最近谈恋爱了。不过是单相思。“即使是单相思，也是完整的爱情”，高手从未放弃对它的追求。今天，这个阳光明媚的早晨，太阳从西边缓缓升起。于是它找到高手，希望在晨读开始之前和高手一起在鳌头山上一起散步。高手当然不会放弃这次梦寐以求的机会，他已经准备好了一切。

## 题目描述

鳌头山上有 $n$ 个观景点，观景点两两之间有游步道共 $m$ 条。高手的那个它，不喜欢太刺激的过程，因此那些没有路的观景点高手是不会选择去的。另外，她也不喜欢去同一个观景点一次以上。而高手想让他们在一起的路程最长（观景时它不会理高手），已知高手的穿梭机可以让他们在任意一个观景点出发，也在任意一个观景点结束。
## 输入格式

第一行，两个用空格隔开的整数 $n$ 、 $m.$ 之后 $m$ 行，为每条游步道的信息：两端观景点编号、长度。
## 输出格式

一个整数，表示他们最长相伴的路程。

## 样例

### 样例输入 #1
```
4 6
1 2 10
2 3 20
3 4 30
4 1 40
1 3 50
2 4 60
```
### 样例输出 #1
```
150
```
## 提示

对于 $100\%$ 的数据：$n \le 20$，$m \le 50$，保证观景点两两之间不会有多条游步道连接。


---

---
title: "新二叉树"
layout: "post"
diff: 普及-
pid: P1305
tag: ['字符串', '搜索', '树形数据结构', '递归']
---
# 新二叉树
## 题目描述

输入一串二叉树，输出其前序遍历。

## 输入格式

第一行为二叉树的节点数 $n$。($1 \leq n \leq 26$)

后面 $n$ 行，每一个字母为节点，后两个字母分别为其左右儿子。特别地，数据保证第一行读入的节点必为根节点。

空节点用 `*` 表示

## 输出格式

二叉树的前序遍历。
## 样例

### 样例输入 #1
```
6
abc
bdi
cj*
d**
i**
j**
```
### 样例输出 #1
```
abdicj
```


---

---
title: "海战"
layout: "post"
diff: 普及-
pid: P1331
tag: ['搜索', '福建省历届夏令营', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# 海战
## 题目背景

在峰会期间，武装部队得处于高度戒备。警察将监视每一条大街，军队将保卫建筑物，领空将布满了 F-2003 飞机。

此外，巡洋船只和舰队将被派去保护海岸线。不幸的是，因为种种原因，国防海军部仅有很少的几位军官能指挥大型海战。因此，他们培养了一些新海军指挥官。军官们选择了“海战”游戏来帮助他们学习。
## 题目描述

在一个方形的盘上，放置了固定数量和形状的船只，每只船却不能碰到其它的船。在本题中，我们认为船是方形的，所有的船只都是由图形组成的方形。

求出该棋盘上放置的船只的总数。
## 输入格式

第一行为两个整数 $R$ 和 $C$，用空格隔开，分别表示游戏棋盘的行数和列数。

接下来 $R$ 行，每行 $C$ 个字符，为 `#` 或 `.`。`#` 表示船只的一部分，`.` 表示水。
## 输出格式

一行一个字符串，如果船的位置放得正确（即棋盘上只存在相互之间不能接触的方形，如果两个 `#` 号上下相邻或左右相邻却分属两艘不同的船只，则称这两艘船相互接触了）。就输出 `There are S ships.`，$S$ 表示船只的数量。否则输出 `Bad placement.`。

## 样例

### 样例输入 #1
```
6 8
.....#.#
##.....#
##.....#
.......#
#......#
#..#...#
```
### 样例输出 #1
```
There are 5 ships.

```
## 提示

对于 $100\%$ 的数据，$1 \le R,C \le 1000$。


---

---
title: "[GCJ 2009 Qualification] Watersheds"
layout: "post"
diff: 普及-
pid: P13429
tag: ['模拟', '搜索', '2009', 'Google Code Jam']
---
# [GCJ 2009 Qualification] Watersheds
## 题目描述

Geologists sometimes divide an area of land into different regions based on where rainfall flows down to. These regions are called drainage basins.

Given an elevation map (a 2-dimensional array of altitudes), label the map such that locations in the same drainage basin have the same label, subject to the following rules.

- From each cell, water flows down to at most one of its 4 neighboring cells.
- For each cell, if none of its 4 neighboring cells has a lower altitude than the current cell's, then the water does not flow, and the current cell is called a sink.
- Otherwise, water flows from the current cell to the neighbor with the lowest altitude.
- In case of a tie, water will choose the first direction with the lowest altitude from this list: North, West, East, South.

Every cell that drains directly or indirectly to the same sink is part of the same drainage basin. Each basin is labeled by a unique lower-case letter, in such a way that, when the rows of the map are concatenated from top to bottom, the resulting string is lexicographically smallest. (In particular, the basin of the most North-Western cell is always labeled 'a'.)
## 输入格式

The first line of the input file will contain the number of maps, $T$. $T$ maps will follow, each starting with two integers on a line -- $H$ and $W$ -- the height and width of the map, in cells. The next $H$ lines will each contain a row of the map, from north to south, each containing $W$ integers, from west to east, specifying the altitudes of the cells.

## 输出格式

For each test case, output $1 + H$ lines. The first line must be of the form

Case #$X$:

where $X$ is the test case number, starting from 1. The next $H$ lines must list the basin labels for each of the cells, in the same order as they appear in the input.
## 样例

### 样例输入 #1
```
4
3 3
9 6 3
5 9 6
3 5 9
1 10
0 1 2 3 4 5 6 7 8 7
2 3
7 6 7
7 6 7
5 5
1 2 3 4 5
2 9 3 9 6
3 3 0 8 7
4 9 8 9 8
5 6 7 8 9
```
### 样例输出 #1
```
Case #1:
a b b
a a b
a a a
Case #2:
a a a a a a a a a b
Case #3:
a a a
b b b
Case #4:
a a a a a
a a b b a
a b b b a
a b b b a
a a a a a
```
## 提示

**Sample Explanation**

In Case #1, the upper-right and lower-left corners are sinks. Water from the diagonal flows towards the lower-left because of the lower altitude (5 versus 6).

**Limits**

- $T \leq 100$

**Small dataset(10 Pts)**

- Time limit: ~~25~~ 2 seconds.
- $1 \leq H, W \leq 10$;
- $0 \leq \text{altitudes} < 10$;
- There will be at most two basins.

**Large dataset(23 Pts)**

- Time limit: ~~30~~ 3 seconds.
- $1 \leq H, W \leq 100$;
- $0 \leq \text{altitudes} < 10,000$.
- There will be at most 26 basins.


---

---
title: "求细胞数量"
layout: "post"
diff: 普及-
pid: P1451
tag: ['搜索', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# 求细胞数量
## 题目描述

一矩形阵列由数字 $0$ 到 $9$ 组成，数字 $1$ 到 $9$ 代表细胞，细胞的定义为沿细胞数字上下左右若还是细胞数字则为同一细胞，求给定矩形阵列的细胞个数。
## 输入格式

第一行两个整数代表矩阵大小 $n$ 和 $m$。

接下来 $n$ 行，每行一个长度为 $m$ 的只含字符 `0` 到 `9` 的字符串，代表这个 $n \times m$ 的矩阵。

## 输出格式

一行一个整数代表细胞个数。
## 样例

### 样例输入 #1
```
4 10
0234500067
1034560500
2045600671
0000000089

```
### 样例输出 #1
```
4
```
## 提示

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 \le n,m \le 100$。


---

---
title: "圣诞夜的极光"
layout: "post"
diff: 普及-
pid: P1454
tag: ['搜索']
---
# 圣诞夜的极光
## 题目背景

圣诞夜系列~~

## 题目描述

圣诞老人回到了北极圣诞区，已经快到 12 点了。也就是说极光表演要开始了。这里的极光不是极地特有的自然极光景象。而是圣诞老人主持的人造极光。

轰隆隆 …… 烟花响起（来自中国的浏阳花炮之乡）。接下来就是极光表演了。

人造极光其实就是空中的一幅幅 $n\times m$ 的点阵图像。只是因为特别明亮而吸引了很多很多小精灵的目光，也成为了圣诞夜最美丽的一刻。

然而在每幅 $n \times m$ 的点阵图像中，每一个点只有发光和不发光两种状态。对于所有的发光的点，在空中就形成了美丽的图画。而这个图画是以若干个（$s$ 个）图案组成的。对于图案，圣诞老人有着严格的定义：对于两个发光的点，如果他们的曼哈顿距离（对于 $A(x_1, y_1)$ 和 $B(x_2, y_2)$ ，$A$ 和 $B$ 之间的曼哈顿距离为 $|x_1-x_2|+|y_1-y_2|$ ）小于等于 $2$。那么这两个点就属于一个图案 …… 小精灵们一边欣赏着极光，一边数着每一幅极光图像中的图案数。伴着歌声和舞蹈，度过了美丽的圣诞之夜。^_^
## 输入格式

第一行，两个数 $n$ 和 $m$ 。

接下来一共 $n$ 行，每行 $m$ 个字符。对于第 $i$ 行第 $j$ 个字符，如果其为 `-`
 ，那么表示该点不发光，如果其为 `#` ，那么表示该点发光。不可能出现其他的字符。
## 输出格式

第一行，一个数 $s$。

## 样例

### 样例输入 #1
```
19 48
------------------------------------------------
---####-----#-----#----------------------####---
--######----#-----#---------------------######--
-########--#-#---#-#####--#-##-##---#--########-
-###--###--#-#---#-#----#-##-##--#--#--###--###-
-###--###--#--#-#--######-#--#---#-#---###--###-
-########--#--#-#--#------#--#----##---########-
--######---#---#---######-#--#-----#----######--
---####----------------------------#-----####---
----------------------------------#-------------
------------------------------------------------
---###--#--------#------#-----------------------
--#---#-#---------------#-----------------------
-#------#-##--#-##--##-###-#-##-###--###-#--##--
-#------##--#-##-#-#----#--##--#---##---##-#----
-#------#---#-#--#--#---#--#---#---##----#--#---
--#---#-#---#-#--#---#--#--#---#---##---##---#--
---###--#---#-#--#-##---#--#---#---#-###-#-##---
------------------------------------------------
```
### 样例输出 #1
```
4
```
## 提示

$1 \le n,m \le 100$。

DFS~~


---

---
title: "[USACO2.1] 顺序的分数 Ordered Fractions"
layout: "post"
diff: 普及-
pid: P1458
tag: ['搜索', '数学', 'USACO', '枚举', '排序']
---
# [USACO2.1] 顺序的分数 Ordered Fractions
## 题目描述

输入一个自然数 $n$，对于一个最简分数 $a/b$（分子和分母互质的分数），满足 $1 \le b \le n,0 \le a/b \le 1$，请找出所有满足条件的分数。

这有一个例子，当 $n=5$ 时，所有解为：

$$\frac01,\frac15,\frac14,\frac13,\frac25,\frac12,\frac35,\frac23,\frac34 ,\frac45,\frac11$$

给定一个自然数 $n$，请编程按分数值递增的顺序输出所有解。
 
注：   
1、$0$ 和任意自然数的最大公约数就是那个自然数。    
2、互质指最大公约数等于1的两个自然数。

## 输入格式

单独的一行一个自然数 $n$

## 输出格式

每个分数单独占一行，按照大小次序排列

## 样例

### 样例输入 #1
```
5

```
### 样例输出 #1
```
0/1
1/5
1/4
1/3
2/5
1/2
3/5
2/3
3/4
4/5
1/1

```
## 提示

【数据范围】    
对于 $100\%$ 的数据，$1\le n \le 160$。

USACO 2.1

翻译来自NOCOW



---

---
title: "[USACO2.1] 健康的荷斯坦奶牛 Healthy Holsteins"
layout: "post"
diff: 普及-
pid: P1460
tag: ['搜索', 'USACO', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# [USACO2.1] 健康的荷斯坦奶牛 Healthy Holsteins
## 题目描述

农民 John 以拥有世界上最健康的奶牛为傲。他知道每种饲料中所包含的牛所需的最低的维他命量是多少。请你帮助农夫喂养他的牛，以保持它们的健康，使喂给牛的饲料的种数最少。

给出牛所需的最低的维他命量，输出喂给牛需要哪些种类的饲料，且所需的饲料剂量最少。

维他命量以整数表示，每种饲料最多只能对牛使用一次，数据保证存在解。

## 输入格式

第一行一个整数 $v$，表示需要的维他命的种类数。  
第二行 $v$ 个整数，表示牛每天需要的每种维他命的最小量。

第三行一个整数 $g$，表示可用来喂牛的饲料的种数。   
下面 $g$ 行，第 $n$ 行表示编号为 $n$ 饲料包含的各种维他命的量的多少。

## 输出格式

输出文件只有一行，包括牛必需的最小的饲料种数 $p$；后面有 $p$ 个数，表示所选择的饲料编号（按从小到大排列）。

如果有多个解，输出饲料序号最小的（即字典序最小）。

## 样例

### 样例输入 #1
```
4
100 200 300 400
3
50  50  50  50
200 300 200 300
900 150 389 399
```
### 样例输出 #1
```
2 1 3

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le v \le 25$，$1\le g \le 15$。  
输入的所有整数在 $[1,1000]$ 范围内。

USACO 2.1

翻译来自NOCOW



---

---
title: "Function"
layout: "post"
diff: 普及-
pid: P1464
tag: ['搜索', '递归', '记忆化搜索']
---
# Function
## 题目描述

对于一个递归函数 $w(a,b,c)$


- 如果 $a \le 0$ 或 $b \le 0$ 或 $c \le 0$ 就返回值 $1$。
- 如果 $a>20$ 或 $b>20$ 或 $c>20$ 就返回 $w(20,20,20)$
- 如果 $a<b$ 并且 $b<c$ 就返回 $w(a,b,c-1)+w(a,b-1,c-1)-w(a,b-1,c)$。
- 其它的情况就返回 $w(a-1,b,c)+w(a-1,b-1,c)+w(a-1,b,c-1)-w(a-1,b-1,c-1)$


这是个简单的递归函数，但实现起来可能会有些问题。当 $a,b,c$ 均为 $15$ 时，调用的次数将非常的多。你要想个办法才行。

注意：例如 $w(30,-1,0)$ 又满足条件 $1$ 又满足条件 $2$，请按照最上面的条件来算，答案为 $1$。
## 输入格式

会有若干行。

并以 $-1,-1,-1$ 结束。
## 输出格式

输出若干行，每一行格式：

`w(a, b, c) = ans`

注意空格。

## 样例

### 样例输入 #1
```
1 1 1
2 2 2
-1 -1 -1
```
### 样例输出 #1
```
w(1, 1, 1) = 2
w(2, 2, 2) = 4
```
## 提示

### 数据规模与约定

保证输入的数在 $[-9223372036854775808,9223372036854775807]$ 之间，并且是整数。

保证不包括 $-1, -1, -1$ 的输入行数 $T$ 满足 $1 \leq T \leq 10 ^ 5$。


---

---
title: "[USACO2.2] 循环数 Runaround Numbers"
layout: "post"
diff: 普及-
pid: P1467
tag: ['搜索', 'USACO']
---
# [USACO2.2] 循环数 Runaround Numbers
## 题目描述

循环数是那些不包括 $0$ 且没有重复数字的整数（比如 $81362$）并且还应同时具有一个有趣的性质, 就像这个例子:

如果你从最左边的数字开始（在这个例子中 $8$）向右数最左边这个数（如果数到了最右边就回到最左边），你会停止在另一个新的数字（如果停在一个相同的数字上，这个数就不是循环数）。  

就像：$8\ 1\ 3\ 6\ 2$ 从最左边接下去数 $8$ 个数字: $1\ 3\ 6\ 2\ 8\ 1\ 3\ 6$ 所以下一个数字是 $6$

重复这样做 (这次从 `6` 开始数 $6$ 个数字) 并且你会停止在一个新的数字上: $2\ 8\ 1\ 3\ 6\ 2$, 也就是 $2$

再这样做 (这次数两个): $8\ 1$

再一次 (这次一个): $3$

又一次: $6\ 2\ 8$   

这时你回到了起点,在经过每个数字一次后回到起点的就是循环数。如果你经过每一个数字一次以后没有回到起点, 你的数字不是一个循环数。

给你一个数字 $m$ ，找出第一个比 $m$ 大的循环数, 输出数据保证结果能用一个无符号长整型数 $ \in [0,2^{32})$ 装下。 （追加提醒：循环数每个数位都必须要访问到）

## 输入格式

仅仅一行, 包括 $m$。

## 输出格式

仅仅一行，输出第一个比 $m$ 大的循环数。

## 样例

### 样例输入 #1
```
81361

```
### 样例输出 #1
```
81362

```
## 提示

【数据范围】  
对于 $100\%$ 的数据，$1\le m \le 10^9$。

翻译来自NOCOW

USACO 2.2



---

---
title: "宿舍里的故事之五子棋"
layout: "post"
diff: 普及-
pid: P1479
tag: ['搜索']
---
# 宿舍里的故事之五子棋
## 题目描述

宿舍里好多好多有趣的事！

7890653 今天看到不知何时流行的五子棋，在宿舍里拿个本子，画一些格子，一个棋盘就做好了。

当 7890653 把目光放到棋上，突发奇想……

在一个 $5 \times 5$ 的棋盘内，放上 $n$ 颗棋子，其中 $5 \le n \le 25$；

这 $n$ 颗棋子可以放到棋盘内任意一个地方，但是不能重叠在一起。于是，便会有五颗棋子排成一行，或一列，或处在同一条对角线上。不同的放法可能会出现不同个数的五子的排列。

本题你要做的是，给你一个 $n$，你要找出不同放法出现的五子连线的数量（设为 $k$），如 $n=11$，有：

![](https://cdn.luogu.com.cn/upload/image_hosting/rcwazq5o.png)

只有这两种非负的 $k$ 值，（注意 $k$ 不重复），你要输出的便是 $k$ 值的和。

也就是 $1+2=3$。
## 输入格式

输入共一行一个数 $n$，含义如题意所示。保证 $1\le n\le 25$。
## 输出格式

输出所有可能的 $k$ 值的和。容易发现 $k\le 12$。
## 样例

### 样例输入 #1
```
11
```
### 样例输出 #1
```
3
```


---

---
title: "南蛮图腾"
layout: "post"
diff: 普及-
pid: P1498
tag: ['字符串', '递归', '湖南', '分治', '深度优先搜索 DFS']
---
# 南蛮图腾
## 题目背景

自从到了南蛮之地，孔明不仅把孟获收拾的服服帖帖，而且还发现了不少少数民族的智慧，他发现少数民族的图腾往往有着一种分形的效果，在得到了酋长的传授后，孔明掌握了不少绘图技术，但唯独不会画他们的图腾，于是他找上了你的爷爷的爷爷的爷爷的爷爷……帮忙，作为一个好孙子的孙子的孙子的孙子……你能做到吗？
## 题目描述

给定一个正整数 $n$，参考输出样例，输出图形。
## 输入格式

每个数据输入一个正整数 $n$，表示图腾的大小（此大小非彼大小）
## 输出格式

这个大小的图腾

## 样例

### 样例输入 #1
```
2
```
### 样例输出 #1
```
   /\
  /__\
 /\  /\
/__\/__\

```
### 样例输入 #2
```
3
```
### 样例输出 #2
```
       /\
      /__\
     /\  /\
    /__\/__\
   /\      /\
  /__\    /__\
 /\  /\  /\  /\
/__\/__\/__\/__\
```
## 提示

数据保证，$1 \leq n \leq 10$。


---

---
title: "拯救oibh总部"
layout: "post"
diff: 普及-
pid: P1506
tag: ['模拟', '搜索', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# 拯救oibh总部
## 题目背景

oibh 总部突然被水淹没了！现在需要你的救援……

## 题目描述

oibh 被突来的洪水淹没了，还好 oibh 总部有在某些重要的地方起一些围墙。用 `*` 号表示，而一个四面被围墙围住的区域洪水是进不去的。

oibh 总部内部也有许多重要区域，每个重要区域在图中用一个 `0` 表示。

现在给出 oibh 的围墙建设图，问有多少个没被洪水淹到的重要区域。
## 输入格式

第一行为两个正整数 $x,y$。

接下来 $x$ 行，每行 $y$ 个整数，由 `*` 和 `0` 组成，表示 oibh 总部的建设图。
## 输出格式

输出没被水淹没的 oibh 总部的 `0` 的数量。
## 样例

### 样例输入 #1
```
4 5
00000
00*00
0*0*0
00*00
```
### 样例输出 #1
```
1

```
### 样例输入 #2
```
5 5
*****
*0*0*
**0**
*0*0*
*****
```
### 样例输出 #2
```
5
```
## 提示

对于 $100\%$ 的数据，$1 \le x,y \le 500$。


---

---
title: "旅行"
layout: "post"
diff: 普及-
pid: P1515
tag: ['搜索', '贪心', '递推']
---
# 旅行
## 题目描述

你要进行一个行程为 $7000$ 千米的旅行，现在沿途有些汽车旅馆，为了安全起见，每天晚上都不开车，住在汽车旅馆，你手里现在已经有一个旅馆列表，用离起点的距离来标识，如下：

- $[0,990,1010,1970,2030,2940,3060,3930,4060,4970,5030,5990,6010,7000]$。

但在出发之前可能还要增加一些旅馆。

现在旅行社为了节约成本，要求每天至少行驶 $A$ 公里，国家旅行社为了安全起见，要求每天最多只能行驶 $B$ 公里。

你想知道一共有多少种旅行方案。
## 输入格式

第一行输入一个整数 $A$，第二行输入一个整数 $B$，第三行输入 $N$（$0 \le N \le 20$），表示在出发之前又新增 $N$ 个汽车旅馆；

接下来 $N$ 行，每行一个整数 $m$，表示旅馆离起点的距离（$0<m<7000$）。注意：没有任意两个旅馆在同一位置。
## 输出格式

输出一共有多少种旅行方案。

## 样例

### 样例输入 #1
```
500
1500
0

```
### 样例输出 #1
```
64

```


---

---
title: "[USACO07OPEN] Catch That Cow S"
layout: "post"
diff: 普及-
pid: P1588
tag: ['搜索', '2007', 'USACO']
---
# [USACO07OPEN] Catch That Cow S
## 题目描述

FJ 丢失了他的一头牛，他决定追回他的牛。已知 FJ 和牛在一条直线上，初始位置分别为 $x$ 和 $y$，假定牛在原地不动。FJ 的行走方式很特别：他每一次可以前进一步、后退一步或者直接走到 $2\times x$ 的位置。计算他至少需要几步追上他的牛。
## 输入格式

第一行为一个整数 $t\ ( 1\le t\le 10)$，表示数据组数；

接下来每行包含一个两个正整数 $x,y\ (0<x,y \le 10^5)$，分别表示 FJ 和牛的坐标。
## 输出格式

对于每组数据，输出最少步数。

## 样例

### 样例输入 #1
```
1 
5 17
```
### 样例输出 #1
```
4
```


---

---
title: "[USACO10OCT] Lake Counting S"
layout: "post"
diff: 普及-
pid: P1596
tag: ['搜索', '2010', 'USACO', '深度优先搜索 DFS']
---
# [USACO10OCT] Lake Counting S
## 题目描述

Due to recent rains, water has pooled in various places in Farmer John's field, which is represented by a rectangle of N x M (1 <= N <= 100; 1 <= M <= 100) squares. Each square contains either water ('W') or dry land ('.'). Farmer John would like to figure out how many ponds have formed in his field. A pond is a connected set of squares with water in them, where a square is considered adjacent to all eight of its neighbors. Given a diagram of Farmer John's field, determine how many ponds he has.





## 输入格式

Line 1: Two space-separated integers: N and M \* Lines 2..N+1: M characters per line representing one row of Farmer John's field. Each character is either 'W' or '.'. The characters do not have spaces between them.



## 输出格式

Line 1: The number of ponds in Farmer John's field.


## 样例

### 样例输入 #1
```
10 12
W........WW.
.WWW.....WWW
....WW...WW.
.........WW.
.........W..
..W......W..
.W.W.....WW.
W.W.W.....W.
.W.W......W.
..W.......W.

```
### 样例输出 #1
```
3

```
## 提示

OUTPUT DETAILS: There are three ponds: one in the upper left, one in the lower left, and one along the right side.

## 题目翻译

由于近期的降雨，雨水汇集在农民约翰的田地不同的地方。我们用一个 $N\times M(1\leq N\leq 100, 1\leq M\leq 100)$ 的网格图表示。每个网格中有水（`W`） 或是旱地（`.`）。一个网格与其周围的八个网格相连，而一组相连的网格视为一个水坑。约翰想弄清楚他的田地已经形成了多少水坑。给出约翰田地的示意图，确定当中有多少水坑。

输入第 $1$ 行：两个空格隔开的整数：$N$ 和 $M$。

第 $2$ 行到第 $N+1$ 行：每行 $M$ 个字符，每个字符是 `W` 或 `.`，它们表示网格图中的一排。字符之间没有空格。

输出一行，表示水坑的数量。


---

---
title: "迷宫"
layout: "post"
diff: 普及-
pid: P1605
tag: ['搜索', '递推', 'USACO', '枚举']
---
# 迷宫
## 题目描述

给定一个 $N \times M$ 方格的迷宫，迷宫里有 $T$ 处障碍，障碍处不可通过。

在迷宫中移动有上下左右四种方式，每次只能移动一个方格。数据保证起点上没有障碍。

给定起点坐标和终点坐标，每个方格最多经过一次，问有多少种从起点坐标到终点坐标的方案。
## 输入格式

第一行为三个正整数 $N,M,T$，分别表示迷宫的长宽和障碍总数。

第二行为四个正整数 $SX,SY,FX,FY$，$SX,SY$ 代表起点坐标，$FX,FY$ 代表终点坐标。

接下来 $T$ 行，每行两个正整数，表示障碍点的坐标。
## 输出格式

输出从起点坐标到终点坐标的方案总数。
## 样例

### 样例输入 #1
```
2 2 1
1 1 2 2
1 2

```
### 样例输出 #1
```
1
```
## 提示

对于 $100\%$ 的数据，$1 \le N,M \le 5$，$1 \le T \le 10$，$1 \le SX,FX \le n$，$1 \le SY,FY \le m$。


---

---
title: "循环的数字"
layout: "post"
diff: 普及-
pid: P1611
tag: ['搜索']
---
# 循环的数字
## 题目描述

你曾经因为看见一样的东西一遍又一遍地重复、循环而对电视节目感到厌烦么？好吧，虽然我并不关心电视节目的好坏，不过有时却也很像那样不断循环的数字。

让我们假定两个不同的正整数 $(n, m)$ 是循环的，当且仅当你能通过将 $n$ 末端的几个数字移到它的首端而不改变移动的数字的顺序并使整个数字变成 $m$ 。举个例子，$(12345, 34512)$ 就是一对循环的数字，因为你能把 $12345$ 中末尾的 $345$ 移到 $12$ 前面，从而得到 $34512$。注意，为了成为一对循环的数字，$n$ 和 $m$ 位数必须相同。无论 $n$ 或 $m$ 都没有前置的 $0$。

现在给定正整数 $A$ 和 $B$，并保证 $A$ 和 $B$ 位数相同且均没有前置 $0$，求存在多少循环的正整数对 $(n, m)$，使得 $A \leq n \le m \leq B$ ？
## 输入格式

本题有共有 $10$ 个测试点。 每个输入文件包含 $1$ 行。 第 $1$ 行有两个用空格隔开的正整数 $A$ 和 $B$。
## 输出格式

每个输出文件应包含一个正整数 $x$，表示共有 $x$ 组循环的正整数对 $(n,m)$ 使得 $A \leq n \le m \leq B$。
## 样例

### 样例输入 #1
```
1111 2222
```
### 样例输出 #1
```
287
```
## 提示

$1\le A,B \leq 2\times 10^6$。


---

---
title: "跳马问题"
layout: "post"
diff: 普及-
pid: P1644
tag: ['模拟', '搜索', '递推', '线性递推']
---
# 跳马问题
## 题目背景

在爱与愁的故事第一弹第三章出来前先练练四道基本的回溯/搜索题吧……

## 题目描述

中国象棋半张棋盘如图 $1$ 所示。马自左下角 $(0,0)$ 向右上角 $(m,n)$ 跳。规定只能往右跳，不准往左跳。比如图 $1$ 中所示为一种跳行路线，并将路径总数打印出来。

![](https://cdn.luogu.com.cn/upload/image_hosting/8gkasdvs.png)

## 输入格式

只有一行：两个数 $n$，$m$。

## 输出格式

只有一个数：总方案数 $total$。

## 样例

### 样例输入 #1
```
4 8
```
### 样例输出 #1
```
37
```
## 提示

对于 $100\%$ 的数据：$n, m\leq 18$



---

---
title: "选书"
layout: "post"
diff: 普及-
pid: P1657
tag: ['模拟', '搜索', '递归']
---
# 选书
## 题目描述

学校放寒假时，信息学奥赛辅导老师有 $1,2,3,\cdots,x$ 本书，要分给参加培训的 $x$ 个人，每人只能选一本书，但是每人有两本喜欢的书。

老师事先让每个人将自己喜欢的书填写在一张表上。然后根据他们填写的表来分配书本，希望设计一个程序帮助老师求出所有可能的分配方案，使每个学生都满意。
## 输入格式

第 $1$ 行一个数 $x$。

第 $2$ 行至第 $1+x$ 行，每行两个数，表示 $a_i$ 喜欢的书的序号。
## 输出格式

只有一个数，总方案数 $\mathit{total}$。

## 样例

### 样例输入 #1
```
5
1 3
4 5
2 5
1 4
3 5
```
### 样例输出 #1
```
2
```
## 提示

### 数据范围及约定

对于全部数据，$1\le x\le 20$。


$\text{update 2022/03/07}$，阮行止

本题原始数据中，最后一个数据点的 x 为 $0$，期望输出为  $0$。考虑到这个数据不合理，予以删去。现在提交这个题目不会遇到 $x=0$ 的数据点。





---

---
title: "[USACO18FEB] Hoofball B"
layout: "post"
diff: 普及-
pid: P1677
tag: ['模拟', '2018', 'USACO', 'O2优化', '排序', '深度优先搜索 DFS']
---
# [USACO18FEB] Hoofball B
## 题目描述

为了准备即将到来的蹄球锦标赛，Farmer John 正在训练他的 $N$ 头奶牛（方便起见，编号为 $1\ldots N$，其中 $1\le N\le 100$）进行传球。这些奶牛在牛棚一侧沿直线排列，第 $i$ 号奶牛位于距离牛棚 $x_i$ 的地方（$1\le x_i\le 1000$）。每头奶牛都在不同的位置上。

在训练开始的时候，Farmer John 会将若干个球传给不同的奶牛。当第 $i$ 号奶牛接到球时，无论是从 Farmer John 或是从另一头奶牛传来的，她会将球传给最近的奶牛（如果有多头奶牛与她距离相同，她会传给其中距左边最远的那头奶牛）。为了使所有奶牛都有机会练习到传球，Farmer John 想要确保每头奶牛都持球至少一次。帮助他求出为了达到这一目的他开始时至少要传出的球的数量。假设他在开始的时候能将球传给最适当的一组奶牛。 
## 输入格式

输入的第一行包含 $N$。第二行包含 $N$ 个用空格分隔的整数，其中第 $i$ 个整数为 $x_i$。
## 输出格式

输出 Farmer John 开始的时候最少需要传出的球的数量，使得所有奶牛至少持球一次。 
## 样例

### 样例输入 #1
```
5
7 1 3 11 4
```
### 样例输出 #1
```
2
```
## 提示

在上面的样例中，Farmer John 应该将球传给位于 $x=1$ 的奶牛和位于 $x=11$ 的奶牛。位于 $x=1$ 的奶牛会将她的球传给位于 $x=3$ 的奶牛，在此之后这个球会在位于 $x=3$ 的奶牛和位于 $x=4$ 的奶牛之间来回传递。位于 $x=11$ 的奶牛会将她的球传给位于 $x=7$ 的奶牛，然后球会被传给位于 $x=4$ 的奶牛，在此之后这个球也会在位于 $x=3$ 的奶牛和位于 $x=4$ 的奶牛之间来回传递。这样的话，所有的奶牛都会至少一次接到球（可能从 Farmer John，也可能从另一头奶牛）。

可以看出，不存在这样一头奶牛，Farmer John 可以将球传给她之后所有奶牛最终都能被传到球。 


---

---
title: "神奇的四次方数"
layout: "post"
diff: 普及-
pid: P1679
tag: ['模拟', '动态规划 DP', '搜索', '数学', '背包 DP']
---
# 神奇的四次方数
## 题目背景

在你的帮助下，v 神终于帮同学找到了最合适的大学，接下来就要通知同学了。在班级里负责联络网的是 dm 同学，于是 v 神便找到了 dm 同学，可 dm 同学正在忙于研究一道有趣的数学题，为了请 dm 出山，v 神只好请你帮忙解决这道题了。
## 题目描述

将一个整数 $m$ 分解为 $n$ 个四次方数的和的形式，要求 $n$ 最小。例如，当 $m=706$ 时，因为 $706=5^4+3^4$，所以有 $n=2$。可以证明此时 $n$ 最小。
## 输入格式

一行，一个整数 $m$。
## 输出格式

一行，一个整数 $n$。
## 样例

### 样例输入 #1
```
706
```
### 样例输出 #1
```
2
```
## 提示

### 数据范围及约定

- 对于 $30\%$ 的数据，$m \le 5000$；
- 对于 $100\%$ 的数据，$m \le 100,000$。


---

---
title: "入门"
layout: "post"
diff: 普及-
pid: P1683
tag: ['搜索']
---
# 入门
## 题目描述

不是任何人都可以进入桃花岛的，黄药师最讨厌像郭靖一样呆头呆脑的人。所以，他在桃花岛的唯一入口处修了一条小路，这条小路全部用正方形瓷砖铺设而成。有的瓷砖可以踩，我们认为是安全的，而有的瓷砖一踩上去就会有喷出要命的毒气，那你就死翘翘了，我们认为是不安全的。你只能从一块安全的瓷砖上走到与他相邻的四块瓷砖中的任何一个上，但它也必须是安全的才行。

由于你是黄蓉的朋友，她事先告诉你哪些砖是安全的、哪些砖是不安全的，并且她会指引你飞到第一块砖上（第一块砖可能在任意安全位置），现在她告诉你进入桃花岛的秘密就是：如果你能走过最多的瓷砖并且没有死，那么桃花岛的大门就会自动打开了，你就可以从当前位置直接飞进大门了。

注意：瓷砖可以重复走过，但不能重复计数。

## 输入格式

第一行两个正整数 $W$ 和 $H$，分别表示小路的宽度和长度。

以下 $H$ 行为一个 $H\times W$ 的字符矩阵。每一个字符代表一块瓷砖。其中，`.` 代表安全的砖，`#` 代表不安全的砖，`@` 代表第一块砖。
## 输出格式

输出一行，只包括一个数，即你从第一块砖开始所能安全走过的最多的砖块个数（包括第一块砖）。
## 样例

### 样例输入 #1
```
11 9
.#.........
.#.#######.
.#.#.....#.
.#.#.###.#.
.#.#..@#.#.
.#.#####.#.
.#.......#.
.#########.
...........

```
### 样例输出 #1
```
59
```
## 提示

#### 数据规模与约定

对于全部的测试点，保证 $1 \leq W,H\le 20$。


---

---
title: "[USACO19OPEN] Bucket Brigade B"
layout: "post"
diff: 普及-
pid: P1699
tag: ['2019', 'USACO', 'O2优化', '广度优先搜索 BFS']
---
# [USACO19OPEN] Bucket Brigade B
## 题目描述

农场上起火了，奶牛们正在紧急赶去灭火！

农场可以用一个像这样的 $10×10$ 的字符方阵来描述：

```plain
..........
..........
..........
..B.......
..........
.....R....
..........
..........
.....L....
..........
```

字符 `B` 表示正着火的牛棚。字符 `L` 表示一个湖，而字符 `R` 表示农场上的一块巨大岩石。

奶牛们想要沿着一条湖到牛棚之间的路径组成一条“水桶传递队列”，这样她们就可以沿着这条路径传递水桶来帮助灭火。当两头奶牛在东南西北四个方向上相邻时水桶可以在她们之间传递。这对于湖边的奶牛也是对的——奶牛只能在紧挨着湖的时候才能用水桶从湖里取水。类似地，奶牛只能在紧挨着牛棚的时候才能用水去灭牛棚的火。 

请帮助求出奶牛们为了组成这样的“水桶传递队列”需要占据的 `.` 格子的最小数量。

奶牛不能站在岩石所在的方格之内，此外保证牛棚和湖不是相邻的。 
## 输入格式

输入包含 $10$ 行，每行 $10$ 个字符，描述这个农场的布局。输入保证图案中恰有一个字符 `B`、一个字符 `L` 以及一个字符 `R`。 
## 输出格式

输出一个整数，为组成一条可行的水桶传递队列所需要的奶牛的最小数量。 
## 样例

### 样例输入 #1
```
..........
..........
..........
..B.......
..........
.....R....
..........
..........
.....L....
..........
```
### 样例输出 #1
```
7
```
## 提示

### 样例解释 1

在这个例子中，以下是一个可行的方案，使用了最小数量的奶牛（$7$）：

```plain
..........
..........
..........
..B.......
..C.......
..CC.R....
...CCC....
.....C....
.....L....
..........
```


---

---
title: "[USACO19OPEN] Milk Factory B"
layout: "post"
diff: 普及-
pid: P1700
tag: ['模拟', '图论', '2019', 'USACO', 'O2优化', '广度优先搜索 BFS', '深度优先搜索 DFS']
---
# [USACO19OPEN] Milk Factory B
## 题目描述

牛奶生意正红红火火！Farmer John 的牛奶加工厂内有 $N$ 个加工站，编号为 $1\dots N$（$1\le N\le 100$），以及 $N−1$ 条通道，每条连接某两个加工站。（通道建设很昂贵，所以 Farmer John 选择使用了最小数量的通道，使得从每个加工站出发都可以到达所有其他加工站）。

为了创新和提升效率，Farmer John 在每条通道上安装了传送带。不幸的是，当他意识到传送带是单向的已经太晚了，现在每条通道只能沿着一个方向通行了！所以现在的情况不再是从每个加工站出发都能够到达其他加工站了。

然而，Farmer John 认为事情可能还不算完全失败，只要至少还存在一个加工站 $i$ 满足从其他每个加工站出发都可以到达加工站 $i$。注意从其他任意一个加工站 $j$ 前往加工站 $i$ 可能会经过 $i$ 和 $j$ 之间的一些中间站点。请帮助 Farmer John 求出是否存在这样的加工站 $i$。
## 输入格式

输入的第一行包含一个整数 $N$，为加工站的数量。以下 $N−1$ 行每行包含两个空格分隔的整数 $a_i$ 和 $b_i$，满足 $1\le a_i,b_i\le N$ 以及 $a_i\neq b_i$。这表示有一条从加工站 $a_i$ 向加工站 $b_i$ 移动的传送带，仅允许沿从 $a_i$ 到 $b_i$ 的方向移动。
## 输出格式

如果存在加工站 $i$ 满足可以从任意其他加工站出发都可以到达加工站 $i$，输出最小的满足条件的 $i$。否则，输出 $−1$。
## 样例

### 样例输入 #1
```
3
1 2
3 2
```
### 样例输出 #1
```
2
```


---

---
title: "爱与愁过火"
layout: "post"
diff: 普及-
pid: P1705
tag: ['搜索', '洛谷原创']
---
# 爱与愁过火
## 题目背景

（本道题目隐藏了两首歌名，找找看哪~~~）

《爱与愁的故事第一弹·heartache》第三章。

爱与愁大神说这是ta的伤心指数，只不过现在好很多了，翻译只是看你无聊让你动动脑筋罢了（shit~~~）。虽然月落乌啼嘴上骂着：“我去年买了个表……纽曼表……”，但是结果还是请爱与愁大神去Pizza Hut吃了一顿。

## 题目描述

到了 Pizza Hut，爱与愁大神由于不爽，所以存心想坑月落乌啼的钱，他点了 $m$ 样菜，每样菜 $a_i$ 元。月落乌啼预计只用 $n$ 元，于是他让爱与愁大神重新从这 $m$ 样菜中选 $r$ 样。

爱与愁大神还是想坑钱，于是他打电话给你，让你编一个程序告诉他有几种方案可以从 $m$ 样菜中点取 $r$ 样菜但是还能超过月落乌啼的预计 $n$ 元。
## 输入格式

第一行三个数 $m$，$r$，$n$。

第二行 $m$ 个数，每道菜需要的钱 $a_i$，两个数之间有空格。
## 输出格式

只有一个整数，表示方案总数。

## 样例

### 样例输入 #1
```
5 2 8

1 7 2 5 4
```
### 样例输出 #1
```
4
```
## 提示

### 数据范围及约定

对于 $100\%$ 数据，$m \le 30$，$r \le m$，$m \le a_i \le 90n \le 2700$。



---

---
title: "全排列问题"
layout: "post"
diff: 普及-
pid: P1706
tag: ['搜索', '数学', '递归', '深度优先搜索 DFS']
---
# 全排列问题
## 题目描述

按照字典序输出自然数 $1$ 到 $n$ 所有不重复的排列，即 $n$ 的全排列，要求所产生的任一数字序列中不允许出现重复的数字。

## 输入格式

一个整数 $n$。

## 输出格式

由 $1 \sim n$ 组成的所有不重复的数字序列，每行一个序列。

每个数字保留 $5$ 个场宽。

## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
    1    2    3
    1    3    2
    2    1    3
    2    3    1
    3    1    2
    3    2    1

```
## 提示

$1 \leq n \leq 9$。


---

---
title: "图形复原"
layout: "post"
diff: 普及-
pid: P1718
tag: ['搜索']
---
# 图形复原
## 题目描述

HWX 小朋友对几何的热爱在电脑组是出了名的，号称“每题必解”，这天，LXC 在玩 logo 的时候突然想到了一个题目，刚好可以去测试一下他封号的虚实，于是，他 logo 编程画了一个 $n$ 边形，并且将 $n$ 个顶点用 $1, 2, 3, \ldots, n$ 这 $n$ 个连续自然数随手编了个号，为了增加难度，他又画了一些不相交的对角线。如下图：

![](https://cdn.luogu.com.cn/upload/image_hosting/4g8ij0r9.png)

他把所有的边和对角线都写在一张纸上，对于上图，他写了：$(1, 3)$、$(3, 2)$、$(2, 4)$、$(4, 5)$、$(5, 1)$、$(1, 4)$、$(3, 4)$。正得意的时候，电脑突然自动重启了，郁闷的是，他忘记保存刚才的 logo 程序了，此刻的他很想利用纸上记录的信息将这个 $n$ 边形的编号复原，电脑组的你能帮助他吗？

## 输入格式

第一行 $n$（$n \le 50$）

下面若干行，每行两个数 $a, b$，表示纸上记录的信息。

## 输出格式

仅一行，按字典序较小的顺序依次输出顶点的编号。对于上面的例子，你的输出应该是 `1 3 2 4 5`。

## 样例

### 样例输入 #1
```
5

1 3

3 2

2 4

4 5

5 1

1 4

3 4


```
### 样例输出 #1
```
1 3 2 4 5

```


---

---
title: "矩阵 II"
layout: "post"
diff: 普及-
pid: P1722
tag: ['模拟', '搜索', '递推', 'Catalan 数']
---
# 矩阵 II
## 题目背景

usqwedf 改编系列题。

## 题目描述


如果你在百忙之中抽空看题，请自动跳到第六行。

众所周知，在中国古代算筹中，红为正，黑为负……

给定一个 $1\times 2n$ 的矩阵（usqwedf：这不是一个 $2n$ 的队列么），现让你自由地放入红色算筹和黑色算筹，使矩阵平衡[即 $\forall i \in[1, 2n]$，$1\sim i$ 格中红色算筹个数大于等于黑色算筹]。

问有多少种方案满足矩阵平衡（注意红色算筹和黑色算筹的数量必须相等）。
## 输入格式

正整数 $n$。
## 输出格式

方案数 $t$ 对 $100$ 取模后的结果。
## 样例

### 样例输入 #1
```
2
```
### 样例输出 #1
```
2
```
## 提示

样例解释： 

- 方案一：红，黑，红，黑

- 方案二：红，红，黑，黑

数据范围：

$1\le n\le 100$


---

---
title: "离开中山路"
layout: "post"
diff: 普及-
pid: P1746
tag: ['模拟', '搜索', '广度优先搜索 BFS', '队列']
---
# 离开中山路
## 题目背景

《爱与愁的故事第三弹·shopping》最终章。

## 题目描述

爱与愁大神买完东西后，打算坐车离开中山路。现在爱与愁大神在 $x_1,y_1$ 处，车站在 $x_2,y_2$ 处。现在给出一个 $n \times n(n \le 1000)$ 的地图，$0$ 表示马路，$1$ 表示店铺（不能从店铺穿过），爱与愁大神只能垂直或水平着在马路上行进。爱与愁大神为了节省时间，他要求最短到达目的地距离（每两个相邻坐标间距离为 $1$）。你能帮他解决吗？

## 输入格式

第 $1$ 行包含一个数 $n$。

第 $2$ 行到第 $n+1$ 行：整个地图描述（$0$ 表示马路，$1$ 表示店铺，注意两个数之间没有空格）。

第 $n+2$ 行：四个数 $x_1,y_1,x_2,y_2$。
## 输出格式


只有 $1$ 行，即最短到达目的地距离。

## 样例

### 样例输入 #1
```
3
001
101
100
1 1 3 3
```
### 样例输出 #1
```
4
```
## 提示


对于 $20\%$ 数据，满足 $1\leq n \le 100$。

对于 $100\%$ 数据，满足 $1\leq n \le 1000$。


---

---
title: "家族"
layout: "post"
diff: 普及-
pid: P1767
tag: ['搜索', 'NOI 导刊']
---
# 家族
## 题目描述

在一个与世隔绝的岛屿上，有一个有趣的现象：同一个家族的人家总是相邻的（这里的相邻是指东南西北四个方向），不同的家族之间总会有河流或是山丘隔绝，但同一个家族的人不一定有相同姓氏。现在给你岛上的地图，求出岛上有多少个不同的家族。岛上的地图有 $n$ 行，每行有若干列，每个格子中要么是空格，表示大海，要么是 $\text{``{\tt *}''}$，表示河流或山丘，要么是小写字母，表示一户人家的姓氏。

## 输入格式

第一行是个数字 $N$，表示下面信息的行数。接下来是 $N$ 行字符，每行由小写字母和 $\texttt *$ 号组成，有些行的最前面也可能包含若干连续的空格，表示这些区域是大海，每一行最多不超过 $200$ 个字符。
## 输出格式

一个数字，表示家族数。

## 样例

### 样例输入 #1
```
4
*zlw**pxh
l*zlwk*hx*
w*tyy**yyy
        zzl

```
### 样例输出 #1
```
3
```
## 提示

### 数据范围及约定

- $10\%$ 的数据，$n≤1$。
- $30\%$ 的数据，$n≤10$。
- $100\%$ 的数据，$n≤100$，每一行最多不超过 $200$ 个字符。

NOI导刊 2010 普及（10）



---

---
title: "凌乱的yyy / 线段覆盖"
layout: "post"
diff: 普及-
pid: P1803
tag: ['搜索', '贪心', '排序']
---
# 凌乱的yyy / 线段覆盖
## 题目背景

快 noip 了，yyy 很紧张！

## 题目描述

现在各大 oj 上有 $n$ 个比赛，每个比赛的开始、结束的时间点是知道的。

yyy 认为，参加越多的比赛，noip 就能考的越好（假的）。

所以，他想知道他最多能参加几个比赛。

由于 yyy 是蒟蒻，如果要参加一个比赛必须善始善终，而且不能同时参加 $2$ 个及以上的比赛。
## 输入格式

第一行是一个整数 $n$，接下来 $n$ 行每行是 $2$ 个整数 $a_{i},b_{i}\ (a_{i}<b_{i})$，表示比赛开始、结束的时间。
## 输出格式

一个整数最多参加的比赛数目。

## 样例

### 样例输入 #1
```
3
0 2
2 4
1 3

```
### 样例输出 #1
```
2

```
## 提示

- 对于 $20\%$ 的数据，$n \le 10$；
- 对于 $50\%$ 的数据，$n \le 10^3$；
- 对于 $70\%$ 的数据，$n \le 10^{5}$；
- 对于 $100\%$ 的数据，$1\le n \le 10^{6}$，$0 \le a_{i} < b_{i} \le 10^6$。


---

---
title: "绳子对折"
layout: "post"
diff: 普及-
pid: P1881
tag: ['搜索']
---
# 绳子对折
## 题目描述

FJ 有一个长度为 $L$（$1 \le L \le 10,000$）的绳子。这个绳子上有 $N$（$1 \le N \le 100$）个结，包括两个端点。$FJ$ 想将绳子对折，并使较短一边的绳子上的结与较长一边绳子上的结完全重合，如图所示：

![](https://cdn.luogu.com.cn/upload/image_hosting/1spqhchu.png)

找出FJ有多少种可行的折叠方案。

## 输入格式

第一行：两个整数，$N$ 和 $L$。

第 $2$ 至 $N+1$ 行：每一行包含一个整数表示一个结所在的位置，总有两个数为 $0$ 和 $L$。
## 输出格式

第一行： 一个整数表示FJ可折叠的方案数。

## 样例

### 样例输入 #1
```
5 10

0 

10 

6 

2 

4


```
### 样例输出 #1
```
4
```
## 提示

(可在 1,2,3,8 点处折叠)



---

---
title: "缘分计算"
layout: "post"
diff: 普及-
pid: P1898
tag: ['模拟', '字符串', '搜索']
---
# 缘分计算
## 题目背景

缘分是一个外国人难以理解的中文名词。大致说来，缘分是一种冥冥中将两人（通常是情人）结合的力量。仅管这是种迷信，很多人——特别是女生——喜欢去计算它。

不幸的是，644 也是这样。有天，她问 DL：“甜心，可以算一下我们的缘分吗？”唉，DL 真的很讨厌这问题，但他无法拒绝。还好，DL 是个程序设计师，所以他只要找到一个看来不错的算法并写成一个缘分计算器就可以了。在网络上搜寻了几个小时后，他决定采用以下的缘分算法：
## 题目描述

第一步：取出姓名的缩写（abbreviation）并接在一起。例如，如果这对恋人叫 JiangYunFan 和 TangYuRou，他们的缩写就是 JYFTYR。第二步：将每个字母用数字字符串取代。用 $\mathrm{ST}$ 来取代 $\tt A$，$\mathrm{ST}+1$ 来取代 $\tt B$，$\mathrm{ST}+2$ 来取代 $\tt C$，……，$\mathrm{ST}+25$ 来取代 $Z$，其中 $\mathrm{ST}$ 为一个已知的正整数。例如，如果 $\mathrm{ST}=81$，$\tt A$ 就被 $81$ 取代，$\tt B$ 就被 $82$ 取代，……，$\tt Z$ 则被 $106$ 取代。上面的例子 JYFTYR 则被 $901058610010598$ 取代。

第三步：重复以下操作：将相邻的两位数相加，并写下和的个位数。不难发现这个操作每进行一次，这个数字字符串就会少一位数。当这个数字变成 $100$ 或不超过两位数（第一位是 $0$ 也算两位数）时，这个程序便停止。所得的数字就是两人的缘分。用上面的例子来说，处理的过程如下：

- $901058610010598$；
- $91153471011547$；
- $0268718112691$；
- ……
- $374$；
- $01$。

所以如果 $\mathrm{ST}=81$，JiangYunFan 和 TangYuRou 的缘分便只有 $1$。

惨了！DL 很了解 644。他知道即使这个程序计算出的缘分高达 $99$ 她仍然会不高兴。更何况 644 还对其余很多对恋人间的缘分感兴趣，要是他一个个计算会太繁琐。如果告诉你一对恋人的姓名和一个 $\mathrm{ST}$ 值，你能编一个程序算出他们的缘分吗？
## 输入格式

第一行包含一个仅含大写字母且长度为 $L$ 的字符串。

第二行包含一个正整数 $\mathrm{ST}$，含义如题目所述。

## 输出格式

输出仅一行，包含一个整数，表示两人的缘分。

## 样例

### 样例输入 #1
```
DLLSS
478
```
### 样例输出 #1
```
100

```
## 提示

### 数据范围及约定

对于 $100\%$ 的数据，$4 ≤ L ≤ 10$，$1 ≤ \mathrm{ST} ≤ 10000$。

### 注意

如果你和你的恋人的缘分不是 $100$，不要伤心。这没有什么大不了的。


---

---
title: "L国的战斗之伞兵"
layout: "post"
diff: 普及-
pid: P1913
tag: ['模拟', '搜索', '洛谷原创']
---
# L国的战斗之伞兵
## 题目背景

L 国即将与 I 国发动战争！！

## 题目描述

为了在敌国渗透作战，指挥官决定：派出伞兵前往敌国！然而敌国的风十分强烈，能让伞兵在同一高度不停转悠，直到被刮到一个无风区……（可怜的小兵）

## 输入格式

第一行：$n,m$ 两个正整数，表示敌国的大小。

以下 $n$ 行，每行 $m$ 个字符，`u` 表示风向北吹；`d` 表示风向南吹；`l` 表示风向西吹；`r` 表示风向东吹；`o` 表示无风。（上北下南，左西右东)

## 输出格式

一个数：表示有几个点可以放下伞兵。

## 样例

### 样例输入 #1
```
5 5
rrrrr
rdddr
rroll
uuuuu
uuuuu

```
### 样例输出 #1
```
19
```
## 提示

数据范围：

$1 \leq n \leq 1000$，$1 \leq m \leq 1000$。


---

---
title: "小书童——刷题大军"
layout: "post"
diff: 普及-
pid: P1926
tag: ['动态规划 DP', '搜索', '排序', '背包 DP']
---
# 小书童——刷题大军
## 题目背景

数学是火，点亮物理的灯；物理是灯，照亮化学的路；化学是路，通向生物的坑；生物是坑，埋葬学理的人。  
文言是火，点亮历史宫灯；历史是灯，照亮社会之路；社会是路，通向哲学大坑；哲学是坑，埋葬文科生。——小 A

## 题目描述

小 A “刷题”十分猖狂，明目张胆地“刷题”。他现在在小书童里发现了 $n$ 样他喜欢的“题目”，每“题”都有他的需要时间，而老师布置了 $m$ 项作业，每项作业都有它的需要时间及分值，老师规定 $k$ 分以上算及格。小 A 只剩 $r$ 个单位时间，他想在及格的基础上更多地“刷题”。
## 输入格式

第一行四个整数 $n,m,k,r$。

第二行有 $n$ 个数，代表每“题”他的需要时间。

第三行有 $m$ 个数，表示每项作业它的需要时间。

第四行有 $m$ 个数，代表每项作业它的分值。
## 输出格式

一个数，代表小 A 能刷几道题。

## 样例

### 样例输入 #1
```
3 4 20 100
15 20 50
10 15 40 40
5 5 10 15
```
### 样例输出 #1
```
2
```
## 提示

### 数据范围及约定


对于 $100\%$ 的数据，$n\le 10$，$m\le 10$，$k\le 50$，$r\le 150$。数据保证没有不能及格的情况。



---

---
title: "上学路线"
layout: "post"
diff: 普及-
pid: P1958
tag: ['模拟', '搜索', '递推', 'NOI 导刊']
---
# 上学路线
## 题目描述

你所在城市的街道好像一个棋盘，有 $a$ 条南北方向的街道和 $b$ 条东西方向的街道。南北方向的 $a$ 条街道从西到东依次编号为 $1$ 到 $a$，而东西方向的 $b$ 条街道从南到北依次编号为 $1$ 到 $b$，南北方向的街道 $i$ 和东西方向的街道 $j$ 的交点记为 $(i,j)$。

你住在 $(1,1)$ 处，而学校在 $(a,b)$ 处，你骑自行车去上学，自行车只能沿着街道走，而且为了缩短时间只允许沿着向东和北的方向行驶。

现在有 $N$ 个交叉路口在施工 $(X_1,Y_1)$、$(X_2,Y_2)$……，$(X_n,Y_n)$，这些路口是不能通车的。

问你上学一共有多少走法?
## 输入格式

第一行包含两个整数 $a$ 和 $b$，并且满足 $1 \le a,b \le 16$。

第二行包含一个整数 $N$，表示有 $N$ 个路口在维修 $(1\le N\le 40)$。

接下来 $N$ 行，每行两个整数$X_i,Y_i$，描述路口的位置。

## 输出格式

输出一个整数表示从 $(1,1)$ 到 $(a,b)$ 的行车路线总数。
## 样例

### 样例输入 #1
```
5 4
3
2  2
2  3
4  2

```
### 样例输出 #1
```
5
```
## 提示

【样例解释】

![](https://cdn.luogu.com.cn/upload/image_hosting/d8tdwcbj.png)


---

---
title: "[CRCI 2008] PLATFORME 平板"
layout: "post"
diff: 普及-
pid: P2003
tag: ['模拟', '搜索', '2008', '线段树', '枚举', '剪枝', 'COCI（克罗地亚）']
---
# [CRCI 2008] PLATFORME 平板
## 题目描述

为了进行一种游戏，现决定搭造一些平板，而各个平板的地址已经选定。基于最普遍的认识，没有任何支持物的平板不可能漂浮在空中。说的更精确些，任意一平板的两端必需有支柱或者它在另一块平板上。

你会得到各个平板在坐标系中的坐标（如左下图）。每一块平板的坐标都是由它的高度（与地板间的垂直距离）和它的水平方位（开始和结束）决定的。每个支柱都距它支撑的平板的边缘半个单位（如图）。

算出支持所有平板的支柱的总长度。

 ![](https://cdn.luogu.com.cn/upload/pic/994.png) 


## 输入格式

第一行包括 $1$ 个整数 $N$，$1 \le N \le 100$，即平板的总数。

接下来的 $N$ 行每行都是一块平板的坐标，是相应的 $Y$，$X_1$ 和 $X_2$。即高度和水平的边缘坐标。所有的数都是不大于 $10000$ 的正整数且满足 $X_2>X_1+1$（也可这样理解，每一块平板的长度至少为 $2$）。

输入保证任意两块平板间没有重叠部分。
## 输出格式

要撑起所有平板所需的支柱的总长度。

## 样例

### 样例输入 #1
```
3

1 5 10

3 1 5

5 3 7


```
### 样例输出 #1
```
14
```


---

---
title: "[COCI 2008/2009 #2] PERKET"
layout: "post"
diff: 普及-
pid: P2036
tag: ['模拟', '搜索', '2008', 'COCI（克罗地亚）']
---
# [COCI 2008/2009 #2] PERKET
## 题目描述

Perket 是一种流行的美食。为了做好 Perket，厨师必须谨慎选择食材，以在保持传统风味的同时尽可能获得最全面的味道。你有 $n$ 种可支配的配料。对于每一种配料，我们知道它们各自的酸度 $s$ 和苦度 $b$。当我们添加配料时，总的酸度为每一种配料的酸度总乘积；总的苦度为每一种配料的苦度的总和。

众所周知，美食应该做到口感适中，所以我们希望选取配料，以使得酸度和苦度的绝对差最小。

另外，我们必须添加至少一种配料，因为没有任何食物以水为配料的。
## 输入格式

第一行一个整数 $n$，表示可供选用的食材种类数。

接下来 $n$ 行，每行 $2$ 个整数 $s_i$ 和 $b_i$，表示第 $i$ 种食材的酸度和苦度。
## 输出格式

一行一个整数，表示可能的总酸度和总苦度的最小绝对差。
## 样例

### 样例输入 #1
```
1
3 10
```
### 样例输出 #1
```
7
```
### 样例输入 #2
```
2
3 8
5 8
```
### 样例输出 #2
```
1
```
### 样例输入 #3
```
4
1 7
2 6
3 8
4 9
```
### 样例输出 #3
```
1
```
## 提示

#### 数据规模与约定
对于 $100\%$ 的数据，有 $1 \leq n \leq 10$，且将所有可用食材全部使用产生的总酸度和总苦度小于 $1 \times 10^9$，酸度和苦度不同时为 $1$ 和 $0$。
#### 说明
- 本题满分 $70$ 分。
- 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) PERKET，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。


---

---
title: "危险区域"
layout: "post"
diff: 普及-
pid: P2074
tag: ['搜索']
---
# 危险区域
## 题目背景

一个恐怖组织在一座城市中安放了定时炸弹，其威力巨大，现在这里的警长想知道最坏的情况下会有多少街区受威胁。
## 题目描述

在一个城市有 $N \times M$ 个街区，每个街区由坐标描述，如图所示：



|  | $1$ | $2$ | $3$ | $\cdots$ | $M$ |
| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |
| $1$ | $(1,1)$ | $(1,2)$ | $(1,3)$ | $\cdots$ | $(1,M)$ |
| $2$ | $(2,1)$ | $(2,2)$ | $(2,3)$ | $\cdots$ | $(2,M)$ |
| $3$ | $(3,1)$ | $(3,2)$ | $(3,3)$ | $\cdots$ | $(3,M)$ |
| $\vdots$ |  |  |  | $\ddots$ |  |
| $N$ | $(N,1)$ | $(N,2)$ | $(N,3)$ | $\cdots$ | $(N,M)$ |

现在已知有一个恐怖组织在其中的一个街区安放了定时炸弹，其威力为 $t$，即所有到这个街区的直线距离小于等于 $t$ 的街区都会受威胁，已知有 $k$ 个可能的炸弹安放位置，现在这里的警长想知道最坏的情况下会有多少街区受威胁。

## 输入格式

第一行四个正整数 $n,m,k,t$。

接下来 $k$ 行每行两个正整数 $x_i,y_i$，描述每个可能安放炸弹的街区。
## 输出格式


一个正整数为在最坏情况下有多少街区会受威胁。
## 样例

### 样例输入 #1
```
4 5 3 2

1 2

3 4

4 5


```
### 样例输出 #1
```
11
```
## 提示

**数据规模与约定**

对于$20\%$的数据 $k=1$。

对于 $50\%$ 的数据 $1 \le n,m \le 1000$，$1 \le k \le 20$，$1\le t \le 100$。

对于 $100\%$ 的数据 $1 \le n,m \le 10^5$，$1 \le k \le 50$，$t \le 300$。

fixed by @[$\color{#5EB95E}{\textsf{Cppsteve}}$](https://www.luogu.com.cn/user/479296)


---

---
title: "烤鸡"
layout: "post"
diff: 普及-
pid: P2089
tag: ['搜索', '递归', '洛谷原创', '枚举']
---
# 烤鸡
## 题目背景

猪猪 Hanke 得到了一只鸡。

## 题目描述

猪猪 Hanke 特别喜欢吃烤鸡（本是同畜牲，相煎何太急！）Hanke 吃鸡很特别，为什么特别呢？因为他有 $10$ 种配料（芥末、孜然等），每种配料可以放 $1$ 到 $3$ 克，任意烤鸡的美味程度为所有配料质量之和。

现在， Hanke 想要知道，如果给你一个美味程度 $n$ ，请输出这 $10$ 种配料的所有搭配方案。
## 输入格式

一个正整数 $n$，表示美味程度。
## 输出格式

第一行，方案总数。

第二行至结束，$10$ 个数，表示每种配料所放的质量，按字典序排列。

如果没有符合要求的方法，就只要在第一行输出一个 $0$。
## 样例

### 样例输入 #1
```
11
```
### 样例输出 #1
```
10
1 1 1 1 1 1 1 1 1 2 
1 1 1 1 1 1 1 1 2 1 
1 1 1 1 1 1 1 2 1 1 
1 1 1 1 1 1 2 1 1 1 
1 1 1 1 1 2 1 1 1 1 
1 1 1 1 2 1 1 1 1 1 
1 1 1 2 1 1 1 1 1 1 
1 1 2 1 1 1 1 1 1 1 
1 2 1 1 1 1 1 1 1 1 
2 1 1 1 1 1 1 1 1 1 
```
## 提示

对于 $100\%$ 的数据，$n \leq 5000$。


---

---
title: "地下城主"
layout: "post"
diff: 普及-
pid: P2360
tag: ['搜索']
---
# 地下城主
## 题目描述

你参加了一项秘密任务，在任务过程中你被困在了一个 3D 的地下监狱里面，任务是计时的，你现在需要在最短的时间里面从地牢里面逃出来继续你的任务。地牢由若干层组成，每一层的形状都是长宽一样的矩形，地牢被分成了若干小格，当小格没有被岩石所占据时，你可以前往所在小格的前方，后方，左方，右方，上层，下层的小格。每走一小格花费一分钟时间。

你能不能顺利的从地牢里面逃出来呢？如果可以，那所需要的最短时间又是多少呢？


~~据说出口藏有神器。~~
## 输入格式


第一行输入 $L,R,C$ （$L$ 为地牢的层数，$R$ 为每层小格的行数，$C$ 为每层小格的列数，其中 $1 \leq L,R,C \leq 30$）。

第二行开始输入 $L$ 层地牢的格局，每一层有 $R$ 行，每行有 $C$ 个小格，两层地牢中间有空行隔开。

输入的文件中，`S` 代表你的起始点，`E` 代表你所要到达的出口，`#` 为小格被岩石占据，`.` 表示没有被岩石占据。

## 输出格式

输出包含一行，当你可以顺利到达出口时请输出：`Escaped in x minute(s).`

其中，$x$ 代表你所花费的最短时间，否则请输出 `Trapped!`
## 样例

### 样例输入 #1
```
3 4 5
S....
.###.
.##..
###.#

#####
#####
##.##
##...

#####
#####
#.###
####E
```
### 样例输出 #1
```
Escaped in 11 minute(s).
```
## 提示

来源：POJ 2251



---

---
title: "yyy2015c01挑战算周长"
layout: "post"
diff: 普及-
pid: P2372
tag: ['搜索']
---
# yyy2015c01挑战算周长
## 题目背景

yyy2015c01 快速的解决了问题，受到邻居们的赞许，高兴的回到家，把糖给了妈妈，吃了香喷喷的午饭，又睡了一个甜甜的午觉，感觉人生真美好。下午爸爸回到家，听说了 yyy2015c01 帮老师及邻居们解决了难题，准备带她去游乐场玩她平日最喜欢玩的跳舞机作为奖励，yyy2015c01 听了，兴奋的一蹦三尺高。
## 题目描述

游乐场里人头攒动，每台跳舞机前都围满了人，怎么办呢？人这么多，想玩上估计要等好久了，yyy2015c01 左顾右盼，突然发现一台跳舞机前面没人， “哈哈，被我发现一台没人的，赶快去……”，结果到了面前才发现这台新机器的玩法与众不同，脚下的格子随机位置显示出很多的 `X`，踩到一个格子，就要根据规则先算出它对应的周长，然后把正确周长输入机器，最后的胜利者还可以获得游乐城的免费游戏券一张，yyy2015c01 心动了，小朋友们，你们可以帮助 yyy2015c01 顺利拿到游戏券么？

游戏规则如下：

新跳舞机踏板上有许多要分析的目标，由脚踩确定一个目标。目标边界的周长是一个有用的测量参数。编程任务：确定选中目标的周长。新跳舞机的踏板是一个矩形的网格，里面点 `.`，表示空的地方；有大写字母 `X`，表示目标的一部分。

方格中的一个 `X` 是指一个完整的网格方形区域，包括其边界和目标本身。网格中心的 `X` 与其边界上 $8$ 个方向的 `X` 都是相邻的。任何两个相邻的 `X`，其网格方形区域在边界或拐角处是重叠的，所以它们的网格方形区域是相邻的。一个目标是由一系列相邻 `X` 的网格方形区域连接起来构成的。在网格 $1$ 中，一个目标填充了全部网格；在网格 $2$ 中有两个目标，其中一个目标只占左下角的一个网格方形区域，其余的 `X` 属于另一个目标。

yyy2015c01 总是能踩到一个 `X`，以选中包含该 `X` 的目标，记录脚踩时的坐标。行列号是从左上角开始，从 $1$ 开始编号的。一个有用的统计参数是目标的周长。 假定每个 `X` 的每条边上有一个方形的单元。

目标中不会包含任何完全封闭的孔。

## 输入格式

共 $M+1$ 行，第一行为四个正整数 $M,N,X,Y$（中间用空格隔开），表示网格的大小为 $M$ 行，$N$ 列，且踩中网格的第 $X$ 行第 $Y$ 列方格。后面就是 $M$ 行，由字符 `.` 和 `X` 构成。
## 输出格式

共一行，表示选中目标的周长。

## 样例

### 样例输入 #1
```
2 2 2 2 
XX
XX
```
### 样例输出 #1
```
8
```
### 样例输入 #2
```
6 4 2 3 
.XXX
.XXX
.XXX
...X
..X.
X...
```
### 样例输出 #2
```
18
```
## 提示

$1\leq M\leq 20$，$1\leq N\leq 20$，$1\leq X\leq M$，$1\leq Y\leq N$。



---

---
title: "yyy2015c01 的 IDE 之 Call Stack"
layout: "post"
diff: 普及-
pid: P2373
tag: ['模拟', '字符串', '搜索', '洛谷原创']
---
# yyy2015c01 的 IDE 之 Call Stack
## 题目背景

在 2020 年的某一天，我们的 yyy2015c01 同学想要开发一套 IDE。

## 题目描述

作为他开发团队中的一员，你不幸地 yyy2015c01 被选入了 Debugger 的开发组。

yyy2015c01 设想的 Debugger 由几部分组成，其中的一个小组件就是 Call Stack——中文称之为 “调用栈”。

由于 IDE 目前还是内测版，开发组需要先编一个能识别参数表的 Call Stack 来看看效果如何。这个任务交由你来完成。

开发组假想的 Call Stack 能实现识别 `int` 和 `char` 参数表，以辨别出不同的函数，规则是：

```
int fac1(int n);
```

和

```
int fac1(char n);
```

是两个不同的函数；但

```
int Fac1(int n,int m);
```

和

```
int FAC1(int x,int y);
```

被认为是相同的函数。也就是说，这个 Call Stack 认的不是参数名，而是其类型和忽略大小写的函数名。

注意：`int main()` 可能会出现，也可能不出现；无论它有没有出现，都不能将其算入函数中。

请你编写一个 Call Stack，并在所有函数调用完后输出这个程序一共有多少个不完全相同的函数（保证程序中的每个函数至少调用一次）。

## 输入格式

输入共 $n + 1$ 行：第一行是一个正整数 $n$，表示共有 $n$ 次调用操作；第 $2 \sim n+1$ 行每行是一条函数调用信息（严格按照样例输入的格式），保证不会有多余的其他字符。

## 输出格式

输出共一行：一个正整数 $m$，表示在上述调用中共有多少个参数表不完全相同的函数。

## 样例

### 样例输入 #1
```
2
FAC1 (N=233, M=65 'A', A=0)
main ()

```
### 样例输出 #1
```
1

```
### 样例输入 #2
```
2
fac1 (N=250)
FAC1 (a=987)

```
### 样例输出 #2
```
1

```
## 提示

每个函数的参数最多有 $10$ 个，每行的输入数据长度均不超过 $255$。

向本题主人公 yyy2015c01 同学致敬！



---

---
title: "放苹果"
layout: "post"
diff: 普及-
pid: P2386
tag: ['搜索', '递归']
---
# 放苹果
## 题目描述

把 $m$ 个同样的苹果放在 $n$ 个同样的盘子里，允许有的盘子空着不放，问共有多少种不同的分法。（$5,1,1$ 和 $1,1,5$ 是同一种方法）

## 输入格式

第一行是测试数据的数目 $t$，以下每行均包括二个整数 $m$ 和 $n$，以空格分开。
## 输出格式

对输入的每组数据 $m$ 和 $n$，用一行输出相应的结果。

## 样例

### 样例输入 #1
```
1
7 3
```
### 样例输出 #1
```
8
```
### 样例输入 #2
```
3
3 2
4 3
2 7

```
### 样例输出 #2
```
2
4
2

```
## 提示

对于所有数据，保证：$1\leq m,n\leq 10$，$0 \leq t \leq 20$。


---

---
title: "kkksc03考前临时抱佛脚"
layout: "post"
diff: 普及-
pid: P2392
tag: ['搜索', '递归']
---
# kkksc03考前临时抱佛脚
## 题目背景

kkksc03 的大学生活非常的颓废，平时根本不学习。但是，临近期末考试，他必须要开始抱佛脚，以求不挂科。

## 题目描述

这次期末考试，kkksc03 需要考 $4$ 科。因此要开始刷习题集，每科都有一个习题集，分别有 $s_1,s_2,s_3,s_4$ 道题目，完成每道题目需要一些时间，可能不等（$A_1,A_2,\ldots,A_{s_1}$，$B_1,B_2,\ldots,B_{s_2}$，$C_1,C_2,\ldots,C_{s_3}$，$D_1,D_2,\ldots,D_{s_4}$）。


kkksc03 有一个能力，他的左右两个大脑可以同时计算 $2$ 道不同的题目，但是仅限于同一科。因此，kkksc03 必须一科一科的复习。


由于 kkksc03 还急着去处理洛谷的 bug，因此他希望尽快把事情做完，所以他希望知道能够完成复习的最短时间。

## 输入格式

本题包含 $5$ 行数据：第 $1$ 行，为四个正整数 $s_1,s_2,s_3,s_4$。

第 $2$ 行，为 $A_1,A_2,\ldots,A_{s_1}$ 共 $s_1$ 个数，表示第一科习题集每道题目所消耗的时间。

第 $3$ 行，为 $B_1,B_2,\ldots,B_{s_2}$ 共 $s_2$ 个数。

第 $4$ 行，为 $C_1,C_2,\ldots,C_{s_3}$ 共 $s_3$ 个数。

第 $5$ 行，为 $D_1,D_2,\ldots,D_{s_4}$ 共 $s_4$ 个数，意思均同上。

## 输出格式

输出一行,为复习完毕最短时间。

## 样例

### 样例输入 #1
```
1 2 1 3		
5
4 3
6
2 4 3

```
### 样例输出 #1
```
20
```
## 提示

$1\leq s_1,s_2,s_3,s_4\leq 20$。

$1\leq A_1,A_2,\ldots,A_{s_1},B_1,B_2,\ldots,B_{s_2},C_1,C_2,\ldots,C_{s_3},D_1,D_2,\ldots,D_{s_4}\leq60$。


---

---
title: "自然数的拆分问题"
layout: "post"
diff: 普及-
pid: P2404
tag: ['搜索']
---
# 自然数的拆分问题
## 题目描述

任何一个大于 $1$ 的自然数 $n$，总可以拆分成若干个小于 $n$ 的自然数之和。现在给你一个自然数 $n$，要求你求出 $n$ 的拆分成一些数字的和。每个拆分后的序列中的数字从小到大排序。然后你需要输出这些序列，其中字典序小的序列需要优先输出。

## 输入格式

输入：待拆分的自然数 $n$。

## 输出格式

输出：若干数的加法式子。

## 样例

### 样例输入 #1
```
7

```
### 样例输出 #1
```
1+1+1+1+1+1+1
1+1+1+1+1+2
1+1+1+1+3
1+1+1+2+2
1+1+1+4
1+1+2+3
1+1+5
1+2+2+2
1+2+4
1+3+3
1+6
2+2+3
2+5
3+4
```
## 提示

数据保证，$2\leq n\le 8$。


---

---
title: "神秘磁石"
layout: "post"
diff: 普及-
pid: P2640
tag: ['模拟', '搜索', '数学']
---
# 神秘磁石
## 题目背景

在遥远的阿拉德大陆，有一种神秘的磁石，是由魔皇制作出来的，

## 题目描述

1. 若给他一个一维坐标系，那么他的磁力一定要在素数坐标的位置上才能发挥的最大（不管位置坐标的大小，只要是素数那么磁力就一样大）。
2. 若两个磁石相距为 $k$，那么磁石间的破坏力将会达到当前磁力的峰值

显然，两磁石间最大破坏力取决于磁力大小和磁石间距，那么请问给出长度不超过 $n$ 的一维坐标系，有哪几对坐标间磁石破坏力最大。

## 输入格式

两个正整数 $n,k$。

## 输出格式

所有小于等于 $n$ 的素数对。每对素数对输出一行，中间用单个空格隔开。若没有找到任何素数对，输出 `empty`。

## 样例

### 样例输入 #1
```
6924 809
```
### 样例输出 #1
```
2 811

```
## 提示

对于 $100\%$ 的数据，$1\leq k\leq n\leq 10^4$。


---

---
title: "[USACO07OCT] Bessie's Secret Pasture S"
layout: "post"
diff: 普及-
pid: P2666
tag: ['搜索', '2007', 'USACO', '枚举']
---
# [USACO07OCT] Bessie's Secret Pasture S
## 题目描述

Farmmer John 最近收割了几乎无限多块牧草，将它们堆放在空地上。这些牧草都是正方形的，而且都有非负整数长度的边长（当然有 $0$）。一天它的奶牛 Bessie 发现了这些美味的牧草，于是希望把它们种在自己的秘密牧场上。他总将草皮分割成 $1\times1$ 的小块，以放入他牧场上的 $N$ 个格子中。

Bessie 感兴趣的是，她若选取四块会有多少种不同方法。如果 $N=4$，那么她就有 $5$ 种不同分法：$(1,1,1,1), (2,0,0,0), (0,2,0,0),(0,0,2,0),(0,0,0,2)$，括号内数表示边长。注意这里不讲究顺序，如 $(1,2,3,4)$ 与 $(4,3,2,1)$ 是两种不同方法。

## 输入格式

仅一行，一个整数 $N$ 。

## 输出格式

同样为一行，包含一个整数，为方案总数。

## 样例

### 样例输入 #1
```
4
```
### 样例输出 #1
```
5
```
## 提示

对于 $100\%$ 的数据，$1\le N\le10000$。



---

---
title: "[USACO07DEC] Bookshelf 2 B"
layout: "post"
diff: 普及-
pid: P2677
tag: ['搜索', '2007', 'USACO']
---
# [USACO07DEC] Bookshelf 2 B
## 题目描述

Farmer John最近为奶牛们的图书馆添置了一个巨大的书架，尽管它是如此的大，但它还是几乎瞬间就被各种各样的书塞满了。现在，只有书架的顶上还留有一点空间。 所有N(1 <= N <= 20)头奶牛都有一个确定的身高H\_i(1 <= H\_i <= 1,000,000 - 好高的奶牛>\_<)。设所有奶牛身高的和为S。书架的 高度为B，并且保证1 <= B <= S。 为了够到比最高的那头奶牛还要高的书架顶，奶牛们不得不象演杂技一般，一头站在另一头的背上，叠成一座“奶牛塔”。当然，这个塔的高度，就是塔中所有奶牛的身高之和。为了往书架顶上放东西，所有奶牛的身高和必须不小于书架的高度。 塔叠得越高便越不稳定，于是奶牛们希望找到一种方案，使得叠出的塔在高度不小于书架高度的情况下，高度尽可能小。你也可以猜到你的任务了：写一个程序，计算奶牛们叠成的塔在满足要求的情况下，最少要比书架高多少。

## 输入格式

\* 第1行: 2个用空格隔开的整数：N 和 B \* 第2..N+1行: 第i+1行是1个整数：H\_i

## 输出格式

\* 第1行: 输出1个非负整数，即奶牛们叠成的塔最少比书架高的高度

## 样例

### 样例输入 #1
```
5 16
3
1
3
5
6
```
### 样例输出 #1
```
1
```
## 提示

输出说明:

我们选用奶牛1、3、4、5叠成塔，她们的总高度为3 + 3 + 5 + 6 = 17。任何方案都无法叠出高度为16的塔，于是答案为1。



---

---
title: "硬币翻转"
layout: "post"
diff: 普及-
pid: P2708
tag: ['模拟', '字符串', '搜索']
---
# 硬币翻转
## 题目描述

有很多个硬币摆在一行，有正面朝上的，也有背面朝上的。正面朝上的用 $1$ 表示，背面朝上的用 $0$ 表示。

现在要求从这行的第一个硬币开始，将**从第一个硬币开始的前若干个硬币**同时翻面，求如果要将所有硬币翻到正面朝上，最少要进行这样的操作多少次？

## 输入格式

一个字符串，由 $0$ 和 $1$ 组成，表示硬币的初始状态。
## 输出格式

一个整数，表示要翻转的最少次数。

## 样例

### 样例输入 #1
```
10
```
### 样例输出 #1
```
2
```
## 提示

### 样例解释

- 第 $1$ 次翻转：把第一个硬币翻到反面，字符串为 $00$；
- 第 $2$ 次翻转：把第一、二个硬币一起翻到正面，字符串为 $11$，翻转完成，输出 $2$。

### 数据范围

记 $n$ 表示硬币的总个数，

- 对于 $20\%$ 的数据，$1\le n\leq10$；
- 对于 $50\%$ 的数据，$1\le n\leq10^4$；
- 对于 $100\%$ 的数据，$1\le n\leq10^6$。



---

---
title: "国王的魔镜"
layout: "post"
diff: 普及-
pid: P2799
tag: ['模拟', '字符串', '搜索', '递归']
---
# 国王的魔镜
## 题目描述

国王有一个魔镜，可以把任何接触镜面的东西变成原来的两倍——只是，因为是镜子嘛，增加的那部分是反的。比如一条项链，我们用AB来表示，不同的字母表示不同颜色的珍珠。如果把B端接触镜面的话，魔镜会把这条项链变为ABBA。如果再用一端接触的话，则会变成ABBAABBA（假定国王只用项链的某一端接触魔镜）。给定最终的项链，请编写程序输出国王没使用魔镜之前，最初的项链可能的最小长度。

## 输入格式

只有一个字符串，由大写英文字母组成（字母数<=100000），表示最终的项链。

## 输出格式

只有一个整数，表示国王没使用魔镜前，最初的项链可能的最小长度。

## 样例

### 样例输入 #1
```
ABBAABBA
```
### 样例输出 #1
```
2
```


---

---
title: "回家"
layout: "post"
diff: 普及-
pid: P2802
tag: ['搜索', '广度优先搜索 BFS']
---
# 回家
## 题目描述

[](https://paste.ubuntu.com/p/DSg5bzrrjs/)

小 H 在一个划分成了 $n \times m$ 个方格的长方形封锁线上。 每次他能向上下左右四个方向移动一格（当然小 H 不可以静止不动）， 但不能离开封锁线，否则就被打死了。 刚开始时他有满血 $6$ 点，每移动一格他要消耗 $1$ 点血量。一旦小 H 的血量降到 $0$， 他将死去。 他可以沿路通过拾取鼠标（什么鬼。。。）来补满血量。只要他走到有鼠标的格子，他不需要任何时间即可拾取。格子上的鼠标可以瞬间补满，所以每次经过这个格子都有鼠标。就算到了某个有鼠标的格子才死去， 他也不能通过拾取鼠标补满 HP。 即使在家门口死去， 他也不能算完成任务回到家中。

地图上有五种格子：

`0`：障碍物。

`1`：空地， 小 H 可以自由行走。

`2`：小 H 出发点， 也是一片空地。

`3`：小 H 的家。

`4`：有鼠标在上面的空地。

小 H 能否安全回家？如果能， 最短需要多长时间呢？

## 输入格式

第一行两个整数 $n,m$， 表示地图的大小为 $n \times m$。

下面 $n$ 行， 每行 $m$ 个数字来描述地图。
## 输出格式

一行， 若小 H 不能回家， 输出 `-1`，否则输出他回家所需最短时间。
## 样例

### 样例输入 #1
```
3 3
2 1 1
1 1 0
1 1 3
```
### 样例输出 #1
```
4
```
## 提示

对于所有数据，$1 \le n,m \le 9$。

2021.9.2 增添一组 hack 数据 by @囧仙


---

---
title: "图的 m 着色问题"
layout: "post"
diff: 普及-
pid: P2819
tag: ['模拟', '搜索', '递归']
---
# 图的 m 着色问题
## 题目背景

给定无向连通图 $G$ 和 $m$ 种不同的颜色。用这些颜色为图 $G$ 的各顶点着色，每个顶点着一种颜色。如果有一种着色法使 $G$ 中每条边的 $2$ 个顶点着不同颜色，则称这个图是 $m$ 可着色的。图的 $m$ 着色问题是对于给定图 $G$ 和 $m$ 种颜色，找出所有不同的着色法。

## 题目描述

对于给定的无向连通图 $G$ 和 $m$ 种不同的颜色，编程计算图的所有不同的着色法。

## 输入格式

第 $1$ 行有 $3$ 个正整数 $n,k,m$，表示给定的图 $G$ 有 $n$ 个顶点和 $k$ 条边，$m$ 种颜色。顶点编号为 $1,2,\dots,m$。接下来的 $k$ 行中，每行有 $2$ 个正整数 $u,v$，表示图 $G$ 的一条边 $(u,v)$。
## 输出格式

程序运行结束时，将计算出的不同的着色方案数输出。

## 样例

### 样例输入 #1
```
5 8 4
1 2
1 3
1 4
2 3
2 4
2 5
3 4
4 5
```
### 样例输出 #1
```
48
```
## 提示

数据保证，$1\leq n\leq 100$，$1 \leq k\leq 2500$。

在 $n$ 很大时保证 $k$ 足够大。

保证答案不超过 $20000$。

数据为在满足上述条件的合法数据中随机采样得到。


---

---
title: "[USACO1.3] 滑雪课程设计Ski Course Design"
layout: "post"
diff: 普及-
pid: P3650
tag: ['模拟', '搜索', '贪心', 'USACO', '枚举']
---
# [USACO1.3] 滑雪课程设计Ski Course Design
## 题目描述

农民约翰的农场里有 $n$ 座山峰，每座山都有一个在 $0$ 到 $100$ 之间的整数的海拔高度。在冬天,因为山上有丰富的积雪，约翰经常开办滑雪训练营。

不幸的是，约翰刚刚得知税法在滑雪训练营方面有新变化，明年开始实施。在仔细阅读法律后，他发现如果滑雪训练营的最高和最低的山峰海拔高度差大于 $17$ 就要收税。因此，如果他改变山峰的高度（使最高与最低的山峰海拔高度差不超过 $17$ ），约翰可以避免支付税收。

如果改变一座山 $x$ 单位的高度成本是 $x^2$ 单位，约翰最少需要付多少钱才能使海拔最高的山峰与海拔最低的山峰的高度之差不超过 $17$ 约翰只愿意改变整数单位的高度。
## 输入格式

输入的第一行是一个整数，代表山峰的数量 $n$。

第 $2$ 行到$(n + 1)$ 行，每行一个整数。第 $i$ 行的整数 $a_i$ 代表第 $i$ 座山的海拔高度。

## 输出格式

输出一行一个整数，代表约翰需要支付修改山海拔高度的总金额。
## 样例

### 样例输入 #1
```
5
20
4
1
24
21
```
### 样例输出 #1
```
18
```
## 提示

#### 样例输入输出 1 解释

约翰保持高度为 $4$、$20$ 和 $21$ 的山的高度。他增高高度为 $1$ 的山，变成高度 $4$ ，花费 $3^2 = 9$。他降低了高度为 $24$ 的山变成高度 $21$，也花费 $3 ^ 2 = 9$。因此总共花费 $9 + 9 = 18$。

---

#### 数据规模与约定

对于 $100\%$ 的数据，$1 \le n \le 1000$，$0 \leq a_i \leq 100$。


---

---
title: "[COCI 2017/2018 #2] ​Košnja"
layout: "post"
diff: 普及-
pid: P4431
tag: ['搜索', '2017', 'COCI（克罗地亚）']
---
# [COCI 2017/2018 #2] ​Košnja
## 题目描述

Mirko wants to buy land on which he will build a house for his family. So far, he’s seen K pieces of land. Each of them is in the shape of a rectangle and we can think of it as a matrix with N rows and M columns, N × M fields in total.

Mirko is aware that, before construction begins, the property needs to be regularly maintained and the lawn needs to be mowed. Because of this, Mirko bought a lawn mower. In order to mow the entire lawn of N rows and M columns, he needs to go over each field at least once. He can start from any field facing one of the four main directions (up, down, left, and right). His lawn mower can only go forwards (to the adjacent field facing the current direction) or make a 90 degree turn. Additionally, because of his own safety, Mirko can only use the lawn mower on his land, so he cannot leave the matrix.

Since making the lawn mower turn isn’t simple, Mirko wants to mow the lawn with the minimal amount of turns. For each piece of land he saw so far, Mirko wants to know the minimal number of turns he can make so that the entire lawn is mowed. Help Mirko solve this problem.
## 输入格式

The first line of input contains the positive integer K (1 ≤ K ≤ 50 000), the number from the task.

Each of the following K lines contains two positive integers N and M (1 ≤ N, M ≤ 1 000 000), the numbers from the task.

## 输出格式

For each piece of land Mirko saw so far, output in a separate line the minimal amount of turns he can take so that the entire lawn is mowed.

## 样例

### 样例输入 #1
```
2
1 10
10 1

```
### 样例输出 #1
```
0
0
```
### 样例输入 #2
```
3
1 1
3 3
3 4

```
### 样例输出 #2
```
0
4
4
```
### 样例输入 #3
```
2
5 8
6 4
```
### 样例输出 #3
```
8
6
```
## 提示

In test cases worth 50% of total points, Mirko will see only one piece of land. The dimensions of this piece of land will be smaller than 500.

**Clarification​ ​of​ ​the​ ​first​ ​test​ ​case:**

The first piece of land can be mowed without making any turns if he starts from the field in the first column of the table, faced to the right and only going forwards. A similar idea applies for the second piece of land.
## 题目翻译

**题目大意：**

给定一个$n*m$的矩阵，每次你可以选择前进一格或转弯（90度），求在不出这个矩阵的情况下遍历全部格点所需最少转弯次数。有多组数据

**输入格式：**

第一行一个整数$k$，表示数据组数

以下$k$行，每行两个整数$n,m$，表示矩阵大小

**输出格式：**

输出一个整数，即最少转弯次数

感谢@守望 提供翻译


---

---
title: "小埋与扫雷"
layout: "post"
diff: 普及-
pid: P4961
tag: ['模拟', '深度优先搜索 DFS']
---
# 小埋与扫雷
## 题目背景

小埋总是在家中打游戏，一天，她突然想玩Windows自带的扫雷，在一旁的哥哥看见了，想起了自己小时候信息课在机房玩扫雷的日子，便兴致勃勃地开始教小埋扫雷。然而，小埋还是不明白 $\mathrm{3bv}$（Bechtel's Board Benchmark Value，每局将所有非雷的方块点开所需最少左键点击数，参见[扫雷网的教程](http://saolei.net/BBS/Title.asp?Id=227) ）怎么算，于是她找到了你。

![](https://i.loli.net/2018/10/04/5bb5bd6aefb70.jpg)
## 题目描述

小埋会告诉你一盘扫雷，用一个 $n\times m$ 的矩阵表示，$1$ 是雷 ，$0$ 不是雷，请你告诉她这盘扫雷的 $\mathrm{3bv}$ 。 

周围八格没有“雷”且自身不是“雷”的方格称为“空格”，周围八格有“雷”且自身不是“雷”的方格称为“数字”，由“空格”组成的八连通块称为一个“空”。$\mathrm{3bv}=\ $周围八格没有“空格”的“数字”个数$+$“空"的个数。

如果看不懂上面的计算方式，可以看题目背景中给出的教程，或者看下面的样例解释。

注：[八连通](https://baike.baidu.com/item/%E5%85%AB%E8%BF%9E%E9%80%9A)
## 输入格式

第一行有两个整数 $n$ 和 $m$，代表这盘扫雷是一个 $n \times m$ 的矩阵。

后面的 $n$ 行每行有 $m$ 个整数，表示这个矩阵，每个数字为 $0$ 或 $1$，$1$ 代表是雷，$0$ 代表不是雷。
## 输出格式

一个整数，代表这盘扫雷的 $\mathrm{3bv}$ 。
## 样例

### 样例输入 #1
```
8 8
0 0 0 1 1 0 0 0 
1 0 0 1 0 0 0 1 
1 0 0 1 0 0 0 0 
0 0 0 0 0 0 0 0 
0 0 0 0 0 1 0 0 
0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 
0 1 0 0 0 0 0 0 
```
### 样例输出 #1
```
13
```
## 提示

$1\le n,\ m\le 1000$

## 样例解释

![](https://i.loli.net/2018/10/04/5bb5bc4644183.jpg)


---

---
title: "[USACO10MAR] The Rock Game S"
layout: "post"
diff: 普及-
pid: P6183
tag: ['2010', 'USACO', 'Special Judge', '深度优先搜索 DFS']
---
# [USACO10MAR] The Rock Game S
## 题目描述

在奶牛回家休息和娱乐之前，Farmer John 希望它们通过玩游戏获得一些智力上的刺激。

游戏板由 $n$ 个相同的洞组成，这些洞最初**都是空的**。一头母牛要么用石头盖住一个空的洞，要么揭开一个先前被盖住的洞。**游戏状态**的定义是所有洞是否被石头覆盖的情况。

游戏的目标是让奶牛到达**每个可能的游戏状态**一次，最后回到初始状态。

以下是他们其中一次游戏的示例（空的洞用 `O` 表示，用石头盖住的洞用 `X` 表示）：

| 时刻 | 洞 1 | 洞 2 | 洞 3 | 描述 |
| :----------: | :----------: | :----------: | :----------: | :----------: |
| $0$ | O | O | O | 一开始所有的洞都是空的 |
| $1$ | O | O | X | 盖上洞 3 |
| $2$ | X | O | X | 盖上洞 1 |
| $3$ | X | O | O | 打开洞 3 |
| $4$ | X | X | O | 盖上洞 2 |
| $5$ | O | X | O | 打开洞 1 |
| $6$ | O | X | X | 盖上洞 3 |
| $7$ | X | X | X | 盖上洞 1 |

现在牛被卡住玩不下去了！他们必须打开一个洞，然而不管他们打开哪个洞，他们都会到达一个他们已经到达过的状态。例如，如果他们从第二个洞中取出岩石，他们将到达他们在时刻 $2$ 已经访问过的状态（`X O X`）。

下面是一个 3 个孔的有效解决方案：

| 时间 | 洞 1 | 洞 2 | 洞 3 | 描述 |
| :----------: | :----------: | :----------: | :----------: | :----------: |
| $0$ | O | O | O | 一开始所有的洞都是空的 |
| $1$ | O | X | O | 盖上洞 2 |
| $2$ | O | X | X | 盖上洞 3 |
| $3$ | O | O | X | 打开洞 2 |
| $4$ | X | O | X | 盖上洞 1 |
| $5$ | X | X | X | 盖上洞 2 |
| $6$ | X | X | O | 打开洞 3 |
| $7$ | X | O | O | 打开洞 2 |
| $8$ | O | O | O | 打开洞 1，恢复到原来的状态 |

现在，奶牛们厌倦了这个游戏，它们想找你帮忙。

给定 $n$，求游戏的有效解决方案序列。如果有多个解决方案，则输出**任意一个**。
## 输入格式

仅一行，一个整数 $n$。
## 输出格式

共 $2^n+1$ 行，每行一个长度为 $n$ 的字符串，其中只包含字符 `O` 和 `X`，该行中的第 $i$ 个字符表示第 $i$ 个孔在此状态下是被覆盖还是未覆盖，第一行和最后一行必须全部都是 `O`。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
OOO
OXO
OXX
OOX
XOX
XXX
XXO
XOO
OOO
```
## 提示

#### 样例 1 说明

见题目描述。

#### 数据规模与约定

对于 $100\%$ 的数据，有 $1\le n\le15$。


---

---
title: "「JYLOI Round 1」箭头调度"
layout: "post"
diff: 普及-
pid: P6635
tag: ['递归', '深度优先搜索 DFS']
---
# 「JYLOI Round 1」箭头调度
## 题目描述

moyu_028 给了你一个有 $n$ 个点 $m$ 条边的无向图，现在要给每条边赋一个方向，现在请你求出一个赋方向的方案，使得按照这个方案能够生成一个拓扑序，且使得这个拓扑序是在所有可能的拓扑序中字典序第 $k$ 小的。

## 输入格式

输入的第 1 行有 3 个正整数 $n$、$m$、$k$，含义如题所述。

接下来有 $m$ 行，这 $m$ 行中的第 $i$ 行有两个正整数 $x_i$ 和 $y_i$，表示有一条从 $x_i$ 到 $y_i$ 的无向边。
## 输出格式

输出为一行一个长度为 $m$ 的 01 串，这个 01 串中的第 $i$ 个字符表示从 $x_i$ 和 $y_i$ 之间的无向边的方向，为 0 则表示这条边是从 $x_i$ 到 $y_i$，为 1 则表示这条边是从 $y_i$ 到 $x_i$。可以证明答案唯一，且数据保证有解。
## 样例

### 样例输入 #1
```
6 7 5
1 3
2 1
4 2
4 3
4 5
3 6
5 6
```
### 样例输出 #1
```
0111001
```
### 样例输入 #2
```
11 20 20091210
2 3
3 1
2 5
4 6
7 9
8 10
8 1
7 2
2 3
3 2
4 5
5 7
7 6
7 8
9 7
9 8
10 2
2 3
1 3
1 7
```
### 样例输出 #2
```
10110000100110110111
```
## 提示

## 提示

拓扑序：在一个 DAG（有向无环图）中，我们将图中的顶点以线性方式进行排序，使得对于任何的顶点 $u$ 到 $v$ 的有向边 $(u,v)$，都可以有 $u$ 在 $v$ 的前面，则这样的序列称为拓扑序。

----------

## 样例解释

### 样例 1 解释

答案的图如下，根据图可得出答案。

![](https://i.loli.net/2020/05/23/3FK2n78JAYLrGMD.png)

-----------------

## 数据范围

对于 $100\%$ 的数据，$1 \leq n \leq 11, 1 \leq m \leq 2 \times 10^3, 1 \leq k \leq 10^8，1 \leq x_i, y_i \leq n, x_i \not= y_i$。

对于测试点 1（10 分）：$n = 1$。

对于测试点 2（30 分）：$n \leq 11, m \leq 20$。

对于测试点 3（30 分）：$n \leq 11, k = 1$。

对于测试点 4（30 分）：无特殊限制。

本题共 4 个测试点，总分为 100 分，单个测试点的时间限制为 5 秒。

## 题目来源

「JYLOI Round 1」 A

Idea：moyu_028 & abcdeffa

Solution：LiuXiangle

Data：abcdeffa


---

---
title: "[CERC2013] Draughts"
layout: "post"
diff: 普及-
pid: P7012
tag: ['搜索', '2013', '广度优先搜索 BFS', 'ICPC']
---
# [CERC2013] Draughts
## 题目描述



Draughts (or checkers) is a game played by two opponents, on opposite sides of a $10 \times 10$ board. The board squares are painted black and white, as on a classic chessboard. One player controls the dark, and the other the light pieces. The pieces can only occupy the black squares. The players make their moves alternately, each moving one of his own pieces.

The most interesting type of move is capturing: if a diagonally adjacent square contains an opponent's piece, it may be captured (and removed from the game) by jumping over it to the unoccupied square immediately beyond it. It is allowed to make several consecutive captures in one move, if they are all made with a single piece. It is also legal to capture by either forward or backward jumps.

![](/upload/images2/dr.png)

The board before and after a single move with two captures.

You are given a draughts position. It is the light player's turn. Compute the maximal possible number of dark pieces he can capture in his next move.


## 输入格式



The first line of input contains the number of test cases $T$ . The descriptions of the test cases follow:

Each test case starts with an empty line. The following $10$ lines of $10$ characters each describe the board squares. The characters $#$ and . denote empty black and white squares, $W$ denotes a square with a light piece, $B -$ a square with a dark piece.


## 输出格式



For each test case print a single line containing the maximal possible number of captures. If there is no legal move (for example, there are no light pieces on the board), simply output $0$ .


## 样例

### 样例输入 #1
```
2

.#.#.#.#.#
#.#.#.#.#.
.#.#.B.#.#
#.#.#.#.#.
.#.#.B.#.#
#.#.W.#.#.
.#.#.#.#.#
#.#.#.B.#.
.#.#.#.#.#
#.#.#.#.#.

.#.#.#.#.#
#.#.#.#.#.
.#.#.B.#.#
#.B.#.B.#.
.#.#.B.#.#
#.B.W.#.#.
.#.B.B.#.#
#.#.#.#.#.
.#.B.B.#.#
#.#.#.#.#.

```
### 样例输出 #1
```
2
4

```
## 提示

Time limit: 2 s, Memory limit: 128 MB. 


## 题目翻译

国际跳棋（或称跳棋）是一种由两个对手在 $10 \times 10$ 的棋盘上进行的游戏。棋盘上的方块是黑色或白色的，就像经典的国际象棋棋盘一样。玩家一方控制黑棋，另一方控制白棋。棋子只能占据黑色的格子。棋手们交替走棋，各自移动自己的一个棋子。

最有趣的走法是吃掉：如果一个对角线相邻的格子里有对手的棋子，可以通过跳过它到紧挨着它的未被占领的格子来吃掉（并从游戏中删除被吃掉的这个棋子）。允许在一步棋中用一个棋子连续吃掉几个棋子。通过向前或向后的跳跃来吃子也是合法的。

你会得到一个棋子的位置。现在轮到白方了。计算他在下一步棋中能吃掉的最大可能的黑棋数量。

输入格式

输入的第一行包含测试用例 $T$ 的数量。接下来是测试用例的描述。

每个测试用例以空行开始。接下来的 10 行，每行都有 10 个字符，描述棋盘的方格。字符 # 和 . 表示空的黑色和白色方块，W 表示有浅色棋子的方块，B 表示有深色棋子的方块。

输出格式

对于每个测试案例，输出一行一个整数，代表最多可以吃黑子的个数。如果没有合法的棋步（例如，棋盘上没有白棋），只需输出 0。


---

---
title: "[COCI 2019/2020 #1] Lutrija"
layout: "post"
diff: 普及-
pid: P7200
tag: ['2019', 'Special Judge', '深度优先搜索 DFS', '素数判断,质数,筛法', 'COCI（克罗地亚）']
---
# [COCI 2019/2020 #1] Lutrija
## 题目背景

Vedran 在赌输彩票之后，无意之间打开了 COCI 的频道。只要完成 COCI 给出的任务，他就能够免除前往新加坡 IOI2020 现场的费用。

不幸的是，Vedran 已经老了，于是你决定帮帮他。
## 题目描述

给定两个素数 $A,B$。你需要给出一个开头和结尾分别为 $A$ 和 $B$ 的序列，使得其所有元素均为素数，并且相邻两个元素之间的差值也为素数。
## 输入格式

输入两个素数 $A,B$。
## 输出格式

如果任务不可能完成，即没有满足条件的序列（以下称为有解），则只输出 `-1`。

否则，在第一行输出序列的元素个数，并在第二行输出所有元素。

如果有解，则你的构造必须满足下列二者之一：

- 序列元素个数不超过 $30$
- 任何一个元素都不超过 $10^{15}$。

如果有多组解，则输出任意一种。
## 样例

### 样例输入 #1
```
13 11
```
### 样例输出 #1
```
2
13 11
```
### 样例输入 #2
```
37 11
```
### 样例输出 #2
```
-1
```
### 样例输入 #3
```
2 17
```
### 样例输出 #3
```
3
2 19 17
```
## 提示

#### 数据规模及约定

对于 $20\%$ 的数据，如果有解，则必定有一种解，满足元素的个数不超过 $3$，且其中的所有元素都不超过 $1000$。

对于另外 $40\%$ 的数据，$2 \le A,B \le 1000$。

对于 $100\%$ 的数据，$2 \le A,B \le 10^{14},A \neq B$。

#### 说明

**本题分值按 COCI 原题设置，满分 $70$。**

由于平均下来每个测试点为 $2.5$ 分，因而将其中一半的测试点设置为 $2$ 分，另一半设置为 $3$ 分。

本题使用非官方的 [Special Judge](https://www.luogu.com.cn/paste/hrj05be5)，欢迎大家 hack（可私信或直接发帖）。

**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #1](https://hsin.hr/coci/archive/2019_2020/contest1_tasks.pdf)  _T2 Lutrija_ 。**


---

---
title: "[USACO22FEB] Blocks B"
layout: "post"
diff: 普及-
pid: P8185
tag: ['搜索', 'USACO', '2022', '枚举']
---
# [USACO22FEB] Blocks B
## 题目描述

In an effort to improve her vocabulary, Bessie the cow has obtained a set of four wooden blocks, each one a cube with a letter of the alphabet written on each of its six sides. She is learning how to spell by arranging the blocks in a row so the letters on top of the blocks spell words.

Given the letters on each of Bessie's four blocks, and a list of words she would like to spell, please determine which of words on her list she will be able to spell successfully using the blocks.
## 输入格式

The first line of input contains $N$ $(1\le N\le 10)$, the number of words that Bessie would like to spell. The next four lines each contain a string with six uppercase letters, representing the letters on the six sides of one of Bessie's blocks. The next $N$ lines contain the $N$ words Bessie would like to spell. Each of these is between 1 and 4 uppercase letters long.
## 输出格式

For each word on Bessie's list, output YES if she is able to spell it using the blocks and NO otherwise.
## 样例

### 样例输入 #1
```
6
MOOOOO
OOOOOO
ABCDEF
UVWXYZ
COW
MOO
ZOO
MOVE
CODE
FARM
```
### 样例输出 #1
```
YES
NO
YES
YES
NO
NO
```
## 提示

【样例解释】

In this example, Bessie can spell COW, ZOO, and MOVE. Sadly, she cannot spell MOO, since the only block with an M cannot also be used for an O. She cannot spell FARM since there is no block with a letter R. She cannot spell CODE since the C, D, and E all belong to the same block.
## 题目翻译

## 题目描述
为了提高词汇量，母牛贝西得到了一套四块木块，其中每块都是一个立方体，六面各写着一个字母。她正在通过将木块排成一排使得木块顶部的字母拼出单词来学习拼写。

给定 Bessie 的四个木块上的字母，以及她想拼写的单词列表，请确定列表中哪些单词可被她使用木块成功拼写。
## 输入格式
输入的第一行包含 $N (1\leq N\leq 10)$，为 Bessie 想要拼写的单词数。接下来的四行每行包含一个带有六个大写字母的字符串，表示 Bessie 的一个块的六个侧面上的字母。接下来的 $N$ 行包含 Bessie 想要拼写的 $N$ 个单词。其中每一个的长度在 $1$ 到 $4$ 个大写字母之间。
## 输出格式
对于 Bessie 列表中的每个单词，如果她能够使用木块拼写，则输出 YES，否则输出 NO。
## 样例解释
在本例中，Bessie 可以拼写 COW、ZOO 和 MOVE。 不幸的是，她不能拼写 MOO，因为唯一带有 M 的木块也不能用于 O。她不能拼写 FARM，因为没有字母 R 的木块。她不能拼写 CODE，因为 C、D 和 E 都属于同一个木块。


---

---
title: "「HGOI-1」Binary search"
layout: "post"
diff: 普及-
pid: P8481
tag: ['二分', '洛谷原创', 'O2优化', '深度优先搜索 DFS', '洛谷月赛']
---
# 「HGOI-1」Binary search
## 题目背景

$\text{bh1234666}$ 正在学习[二分查找](https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/10628618?fr=aladdin)。
## 题目描述

众所周知二分查找的 $\text{mid}$ 在计算时可以取 $\lfloor\dfrac{l+r}{2}\rfloor$ 或者 $\lceil\dfrac{l+r}{2}\rceil$，于是有选择困难症的 $\text{bh1234666}$ 同学在自己的二分查找代码中加入了随机化，每次随机选取其中的一个作为 $\textit{mid}$。

注意，选取不同的 mid 其他参数也会受到影响，请以代码为准。

现在 $\text{bh1234666}$ 给你了二分查找使用的序列（保证为单调递增）以及他想要寻找的数（保证在序列内），他想知道在运气最好的情况下循环需要进行几次（即代码中 $\textit{cnt}$ 的可能的最终值的最小值）。

循环：
```cpp
int find(int *num,int x,int len)
{
	int l=0,r=len-1,mid,cnt=0,w;
	while(l<r)
	{
		cnt++;
		w=rand()%2;
		mid=(l+r+w)/2;
		if(num[mid]-w<x) l=mid+!w;
		else r=mid-w;
	}
	return mid;
}
```
递归：
```
int cnt;
int get(int *num,int x,int l,int r)
{
	if(l==r) return l;
	cnt++;
	int w=rand()%2;
	int mid=(l+r+w)/2;
	if(num[mid]-w<x) return get(num,x,mid+!w,r);
	else return get(num,x,l,mid-w);
}
int find(int *num,int x,int len)
{
	cnt=0;
	return get(num,x,0,len-1);
}
```
注：以上两代码完全等价。

在此对上述代码中的 $w$ 的作用做进一步阐释。

例如对于区间 $[0,7]$，有 $8$ 个成员。虽然 $mid$ 的取值会因为 $w$ 的取值改变而改变，但是最终确定的区间一定是 $[0,3]$ 或 $[4,7]$，选手可以就上述代码自行模拟。

对于区间 $[0,6]$，有 $7$ 个成员。$\textit{mid}$ 的取值与 $w$ 的取值无关，但是 $l$ 和 $r$ 的取值会受到 $w$ 的影响，最终确定的区间可能是 $[0,2]$，$[3,6]$（$w=1$）或 $[0,3]$，$[4,6]$（$w=0$）。
## 输入格式

第一行给出一个整数 $n$ 表示序列长度。

第二行给出单调递增的 $n$ 个整数表示 $\text{bh1234666}$ 的序列。

第三行一个整数 $q$ 表示询问的次数。

接下来 $q$ 行每行一个整数表示需要查询的数字。
## 输出格式

对于每个询问回答一个整数，表示最小的循环次数。
## 样例

### 样例输入 #1
```
10
1 2 4 6 7 8 10 13 15 17
3
4
10
15
```
### 样例输出 #1
```
3
3
3
```
### 样例输入 #2
```
13
1 2 4 6 10 12 19 23 45 99 101 123 134
5
1
2
10
19
123

```
### 样例输出 #2
```
3
4
3
3
4
```
## 提示

### 样例 1 解释

找 $4$：

取 $[1,5]$。

取 $[1,3]$。

取 $[3,3]$（退出循环）。

### 样例 2 解释

查询 $10$ 的位置。

$$
[1,13] \stackrel{w=0}{\longrightarrow} [1,7]\stackrel{w=0}{\longrightarrow}[5,7] \stackrel{w=1}{\longrightarrow} [5,5]
$$

### 数据范围及约定
本题采用**捆绑测试**，共有 $3$ 个 $\text{subtask}$，最终分数为所有 $\text{subtask}$ 分数之和。

$$
\def\arraystretch{1.5}
\begin{array}{|c|c|c|}\hline
\textbf{Task} & \textbf{Score} & \text{特殊限制} \cr\hline
1 & 25 & n \le 20 \cr\hline
2 & 35 & n=2^k(k \in \mathbf{N}) \cr\hline
3 & 40 &  \cr\hline
\end{array}
$$

对于 $100\%$ 的数据，保证 $1 \le n \le 2^{20}$，$1 \le q \le 100$，$1 \le num_i \le 10^9$。

本题有 [extra sub](https://www.luogu.com.cn/problem/P8487)。


---

---
title: "[蓝桥杯 2013 国 C] 危险系数"
layout: "post"
diff: 普及-
pid: P8604
tag: ['图论', '2013', '深度优先搜索 DFS', '蓝桥杯国赛']
---
# [蓝桥杯 2013 国 C] 危险系数
## 题目背景

抗日战争时期，冀中平原的地道战曾发挥重要作用。

## 题目描述

地道的多个站点间有通道连接，形成了庞大的网络。但也有隐患，当敌人发现了某个站点后，其它站点间可能因此会失去联系。

我们来定义一个危险系数 $DF(x,y)$：

对于两个站点 $x$ 和 $y(x\neq y),$ 如果能找到一个站点 $z$，当 $z$ 被敌人破坏后，$x$ 和 $y$ 不连通，那么我们称 $z$ 为关于 $x,y$ 的关键点。相应的，对于任意一对站点 $x$ 和 $y$，危险系数 $DF(x,y)$ 就表示为这两点之间的关键点个数。

本题的任务是：已知网络结构，求两站点之间的危险系数。
## 输入格式

输入数据第一行包含 $2$ 个整数 $n(2 \le n \le 1000)$，$m(0 \le m \le 2000)$，分别代表站点数，通道数。

接下来 $m$ 行，每行两个整数 $u,v(1 \le u,v \le n,u\neq v)$ 代表一条通道。

最后 $1$ 行，两个数 $u,v$，代表询问两点之间的危险系数 $DF(u,v)$。
## 输出格式

一个整数，如果询问的两点不连通则输出 $-1$。
## 样例

### 样例输入 #1
```
7 6
1 3
2 3
3 4
3 5
4 5
5 6
1 6
```
### 样例输出 #1
```
2
```
## 提示

时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛


---

---
title: "[蓝桥杯 2018 省 AB] 全球变暖"
layout: "post"
diff: 普及-
pid: P8662
tag: ['2018', '广度优先搜索 BFS', '蓝桥杯省赛']
---
# [蓝桥杯 2018 省 AB] 全球变暖
## 题目描述

你有一张某海域 $N \times N$ 像素的照片，`.` 表示海洋、 `#` 表示陆地，如下所示：

```
.......
.##....
.##....
....##.
..####.
...###.
.......
```

其中 "上下左右" 四个方向上连在一起的一片陆地组成一座岛屿。例如上图就有 $2$ 座岛屿。

由于全球变暖导致了海面上升，科学家预测未来几十年，岛屿边缘一个像素的范围会被海水淹没。具体来说如果一块陆地像素与海洋相邻（上下左右四个相邻像素中有海洋），它就会被淹没。

例如上图中的海域未来会变成如下样子：

```
.......
.......
.......
.......
....#..
.......
.......
```

请你计算：依照科学家的预测，照片中有多少岛屿会被完全淹没。 

## 输入格式

第一行包含一个整数 $N$。$(1 \le N \le 1000)$。

以下 $N$ 行 $N$ 列代表一张海域照片。

照片保证第 $1$ 行、第 $1$ 列、第 $N$ 行、第 $N$ 列的像素都是海洋。
## 输出格式

一个整数表示答案。
## 样例

### 样例输入 #1
```
7 
.......
.##....
.##....
....##.
..####.
...###.
.......  
```
### 样例输出 #1
```
1
```
## 提示

时限 1 秒, 256M。蓝桥杯 2018 年第九届省赛


---

---
title: "[USACO23JAN] Air Cownditioning II B"
layout: "post"
diff: 普及-
pid: P9011
tag: ['USACO', '2023', '深度优先搜索 DFS', '差分']
---
# [USACO23JAN] Air Cownditioning II B
## 题目描述

With the hottest recorded summer ever at Farmer John's farm, he needs a way to cool down his cows. Thus, he decides to invest in some air conditioners.

Farmer John's $N$ cows $(1 \le N \le 20)$ live in a barn that contains a sequence of stalls in a row, numbered $1 \cdots 100$. Cow $i$ occupies a range of these stalls, starting from stall $s_i$ and ending with stall $t_i$. The ranges of stalls occupied by different cows are all disjoint from each-other. Cows have different cooling requirements. Cow $i$ must be cooled by an amount $c_i$, meaning every stall occupied by cow $i$ must have its temperature reduced by at least $c_i$ units.

The barn contains $M$ air conditioners, labeled $1 \cdots M (1 \le M \le 10)$. The $i$-th air conditioner costs $m_i$ units of money to operate $(1 \le m_i \le 1000)$ and cools the range of stalls starting from stall $a_i$ and ending with stall $b_i$. If running, the $i$-th air conditioner reduces the temperature of all the stalls in this range by $p_i (1 \le p_i \le 10^6)$. Ranges of stalls covered by air conditioners may potentially overlap.

Running a farm is no easy business, so FJ has a tight budget. Please determine the minimum amount of money he needs to spend to keep all of his cows comfortable. It is guaranteed that if FJ uses all of his conditioners, then all cows will be comfortable. 
## 输入格式

The first line of input contains $N$ and $M$.

The next $N$ lines describe cows. The ith of these lines contains $s_i, t_i$, and $c_i$.

The next $M$ lines describe air conditioners. The ith of these lines contains $a_i, b_i, p_i$, and $m_i$.

For every input other than the sample, you can assume that $M=10$. 
## 输出格式

Output a single integer telling the minimum amount of money FJ needs to spend to operate enough air conditioners to satisfy all his cows (with the conditions listed above). 
## 样例

### 样例输入 #1
```
2 4
1 5 2
7 9 3
2 9 2 3
1 6 2 8
1 2 4 2
6 9 1 5
```
### 样例输出 #1
```
10
```
## 提示

### Explanation for Sample 1

One possible solution that results in the least amount of money spent is to select those that cool the intervals $[2,9], [1,2]$, and $[6,9]$, for a cost of $3+2+5=10$. 
## 题目翻译

## 题目描述

农夫约翰的 $N$ 头奶牛 $(1≤N≤20)$ 住在一个谷仓里，谷仓里有连续的牛栏，编号为 $1-100$ 。 奶牛 $i$ 占据了编号 $[s_i,t_i]$ 的牛栏。 不同奶牛占据的牛栏范围是互不相交的。 奶牛有不同的冷却要求，奶牛 $i$ 占用的每个牛栏的温度必须至少降低 $c_i$ 单位。

谷仓包含 $M$ 台空调，标记为 $1-M$ $(1\le M\le10)$。第 $i$ 台空调需要花费 $m_i$ 单位的金钱来运行 $(1\le m_i \le 1000)$ ，如果运行，第 $i$ 台空调将牛栏 $[a_i,b_i]$ 所有牛栏的温度降低 $p_i$（$1\le p_i\le10^6）$。 空调覆盖的牛栏范围可能会重叠。

请帮助农夫约翰求出满足所有奶牛需求要花费的最少金钱。

## 输入格式

第一行两个整数，分别为 $N$ 和 $M$。

第 $2$ 至 $(N+1)$ 行，每行三个整数，分别为 $s_i$、$t_i$ 和 $c_i$ 。

第 $(N+2)$ 至 $(M+N+1)$ 行，每行四个整数， 分别为 $a_i$、$b_i$、$p_i$ 和 $m_i$。

## 输出格式

一个整数，表示最少花费的金钱。



## 提示

### 样例解释 1

一种花费最少的可能解决方案是选择那些冷却区间为 $[2,9]$ 、$[1,2]$ 和 $[6,9]$ 的空调，成本为 $ 3+2+5=10$ .

### 数据范围

对于 $100\%$ 的数据，$1 \le N \le 20$， $1 \le M \le 10$, $ 1 \le a_i, b_i, s_i, t_i \le 100$, $1 \le c_i, p_i \le 10^6$， $1 \le m_i \le 1000$。


---

---
title: "「LAOI-1」GCD"
layout: "post"
diff: 普及-
pid: P9484
tag: ['搜索', '数学', '贪心', '数论', '洛谷原创', 'O2优化', '最短路', '最大公约数 gcd']
---
# 「LAOI-1」GCD
## 题目描述

一张图有 $n$ 个节点，编号为 $1,2,3,\dots,n$。其中 $i$ 号节点会向 $j$ 号节点连一条边权为 $|i-j|$ 的无向边，当且仅当 $\gcd(i,j)=i,\operatorname{lcm}(i,j)=j$ 时连边。现询问 $q$ 次，每次询问求 $x$ 到 $y$ 的最短路径。
## 输入格式

第一行一个 $T$，表示数据组数。

每组数据的第一行两个正整数 $n,q$，表示节点数和询问次数。

接下来 $q$ 行，每行两个正整数 $x,y$，表示起点和终点。
## 输出格式

对于每组询问，输出一个正整数。相邻两个输出以换行符隔开。
## 样例

### 样例输入 #1
```
1
6 4
1 4
3 5
2 5
2 4
```
### 样例输出 #1
```
3
6
5
2
```
## 提示

注意时空限制，本题不捆绑。

对于 $40\%$ 的数据，$T,n,q\le100$;

对于 $100\%$ 的数据，$1\le T\le10^6$，$1\le n,q\le10^6$，$1\le x,y\le n$，$1\le \sum n,\sum q\le10^6$。

**请使用更快的 IO 方式**。

updata on 2024/8/8：

时限上调到 1000ms。/yun


---

---
title: "[EC Final 2021] DFS Order"
layout: "post"
diff: 普及-
pid: P9872
tag: ['2021', 'O2优化', '深度优先搜索 DFS', '树的遍历', 'ICPC']
---
# [EC Final 2021] DFS Order
## 题目描述

Prof. Pang has a rooted tree which is rooted at $1$ with $n$ nodes. These $n$ nodes are numbered from $1$ to $n$.

Now he wants to start the depth-first search at the root. He wonders for each node $v$, what is the minimum and the maximum position it can appear in the $\textbf{depth-first search order}$. The depth-first search order is the order of nodes visited during the depth-first search. A node appears in the $j$-th ($1\le j\le n$) position in this order means it is visited after $j-1$ other nodes. Because sons of a node can be iterated in arbitrary order, multiple possible depth-first orders exist. Prof. Pang wants to know for each node $v$, what are the minimum value and the maximum value of $j$ such that $v$ appears in the $j$-th position.

Following is a pseudo-code for the depth-first search on a rooted tree. After its execution, $\texttt{dfs\_order}$ is the depth-first search order.

```
let dfs_order be an empty list

def dfs(vertex x):
    append x to the end of dfs_order.
    for (each son y of x): // sons can be iterated in arbitrary order.
        dfs(y)

dfs(root)
```
## 输入格式

The first line contains a single integer $T~(1 \le T \le 10^6)$ denoting the number of test cases.

For each test case, the first line contains an integer $n~(1 \le n \le 10 ^ 5)$. Each of the next $n-1$ lines contains two integers $x$ and $y$, indicating node $x$ is node $y$'s parent ($1\le x, y\le n$). These edges form a tree rooted at $1$.

It is guaranteed that the sum of $n$ over all test cases is no more than $10^6$.
## 输出格式

For each test case, print $n$ lines. The $i$-th line contains two integers denoting the minimum and the maximum position node $i$ can appear in the depth-first search order.
## 样例

### 样例输入 #1
```
2
4
1 2
2 3
3 4
5
1 2
2 3
2 4
1 5
```
### 样例输出 #1
```
1 1
2 2
3 3
4 4
1 1
2 3
3 5
3 5
2 5
```
## 题目翻译

给定一棵以 $1$ 为根节点的树，若按**任意顺序**进行深度优先搜索，则第 $i$ 个点最小是第几个被搜到的以及最大是第几个？


---

---
title: "[COCI 2023/2024 #2] Pahuljice"
layout: "post"
diff: 普及-
pid: P9908
tag: ['搜索', '2023', 'O2优化', '枚举', 'COCI（克罗地亚）']
---
# [COCI 2023/2024 #2] Pahuljice
## 题目描述

Lana 喜欢画雪花。如下定义一个大小为 $x$ 的雪花：

+ 雪花的中间是一个 $\texttt{'+'}$。
+ 在 $\texttt{'+'}$ 的上方和下方各有 $x$ 个 $\texttt{'|'}$。
+ 在 $\texttt{'+'}$ 的左方和右方各有 $x$ 个 $\texttt{'-'}$。
+ 在 $\texttt{'+'}$ 的左上方和右下方各有 $x$ 个 $\texttt{'\textbackslash'}$。
+ 在 $\texttt{'+'}$ 的左下方和右上方各有 $x$ 个 $\texttt{'/'}$。

雪花之间可以重叠。如下是雪花的几个例子：

![](https://cdn.luogu.com.cn/upload/image_hosting/2s81nyxm.png)

三张图分别含有一个大小为 $1$ 的雪花，重叠的两个大小分别为 $2$ 和 $1$ 的雪花，一个大小为 $1$ 的雪花（作为大小为 $2$ 的雪花不完整）。

给定一个 $n\times m$ 的字符矩阵，请找出其中最大的雪花的大小。
 
## 输入格式

第一行两个整数 $n,m$。

接下来 $n$ 行每行一个长为 $m$ 的字符串，给出一个 $n\times m$ 的矩阵，保证只包含 $\texttt{'+'},\texttt{'-'},\texttt{'|'},\texttt{'/'},\texttt{'\textbackslash'},\texttt{'.'}$。
## 输出格式

输出一行一个整数表示最大的雪花大小。若没有则输出 $0$。
## 样例

### 样例输入 #1
```
5 6
\.\|/.
---+--
/./|\.
./.|.\
/..|..
```
### 样例输出 #1
```
1

```
### 样例输入 #2
```
7 7
\.|./..
.\|/...
--+--..
./|\...
/.|.\|/
....-+-
..../|\
```
### 样例输出 #2
```
2
```
### 样例输入 #3
```
7 7
\|/|\|/
-+-|-+-
/|\|/|\
---+---
\|/|\|/
-+-|-+-
/|\|/|\

```
### 样例输出 #3
```
1
```
## 提示

### 数据范围
|$\text{Subtask}$|分值|特殊性质|
|:-:|:-:|:-:|
|$1$|$11$|最大的雪花大小是 $1$，或者没有任何雪花|
|$2$|$11$|矩阵中至多只有一个 $\texttt{'+'}$|
|$3$|$28$|无|

对于所有数据，$1\le n,m\le 50$。


---


---
title: "排队顺序"
layout: "post"
diff: 普及-
pid: B3630
tag: ['线性数据结构']
---
# 排队顺序
## 题目描述

有 $n(2 \le n\le 10^6)$ 个小朋友，他们的编号分别从 $1$ 到 $n$。现在他们排成了一个队伍，每个小朋友只知道他**后面**一位小朋友的编号。现在每个小朋友把他后面是谁告诉你了，同时你还知道排在队首的是哪位小朋友，请你从前到后输出队列中每个小朋友的编号。
## 输入格式

第一行一个整数 $n$，表示小朋友的人数。

第二行 $n$ 个整数，其中第 $i$ 个数表示编号为 $i$ 的小朋友后面的人的编号。如果这个数是 $0$，则说明这个小朋友排在最后一个。

第三行一个整数 $h$，表示排在第一个的小朋友的编号。
## 输出格式

一行 $n$ 个整数，表示这个队伍从前到后所有小朋友的编号，用空格隔开。
## 样例

### 样例输入 #1
```
6
4 6 0 2 3 5
1
```
### 样例输出 #1
```
1 4 2 6 5 3
```


---

---
title: "单向链表"
layout: "post"
diff: 普及-
pid: B3631
tag: ['线性数据结构', '链表']
---
# 单向链表
## 题目描述

实现一个数据结构，维护一张表（最初只有一个元素 $1$）。需要支持下面的操作，其中 $x$ 和 $y$ 都是 $1$ 到 $10^6$ 范围内的正整数，且保证任何时间表中所有数字均不相同，操作数量不多于 $10^5$：

- `1 x y` ：将元素 $y$ 插入到 $x$ 后面；
- `2 x` ：询问 $x$ 后面的元素是什么。如果 $x$ 是最后一个元素，则输出 $0$；
- `3 x`：从表中删除元素 $x$ **后面的那个元素**，不改变其他元素的先后顺序。




## 输入格式

第一行一个整数 $q$ 表示操作次数。

接下来 $q$ 行，每行表示一次操作，操作具体见题目描述。
## 输出格式

对于每个操作 2，输出一个数字，用换行隔开。
## 样例

### 样例输入 #1
```
6
1 1 99
1 99 50
1 99 75
2 99
3 75
2 1
```
### 样例输出 #1
```
75
99
```


---

---
title: "日志分析"
layout: "post"
diff: 普及-
pid: P1165
tag: ['模拟', '线性数据结构', '栈']
---
# 日志分析
## 题目描述

M 海运公司最近要对旗下仓库的货物进出情况进行统计。目前他们所拥有的唯一记录就是一个记录集装箱进出情况的日志。该日志记录了两类操作：第一类操作为集装箱入库操作，以及该次入库的集装箱重量；第二类操作为集装箱的出库操作。这些记录都严格按时间顺序排列。集装箱入库和出库的规则为先进后出，即每次出库操作出库的集装箱为当前在仓库里所有集装箱中最晚入库的集装箱。

出于分析目的，分析人员在日志中随机插入了若干第三类操作――查询操作。分析日志时，每遇到一次查询操作，都要报告出当前仓库中最大集装箱的重量。

## 输入格式

包含 $N+1$ 行：

第一行为一个正整数 $N$，对应于日志内所含操作的总数。

接下来的 $N$ 行，分别属于以下三种格式之一：

- 格式 1：`0 X`，表示一次集装箱入库操作，正整数 $X$ 表示该次入库的集装箱的重量。
- 格式 2：`1`，表示一次集装箱出库操作，（就当时而言）最后入库的集装箱出库。
- 格式 3：`2`，表示一次查询操作，要求分析程序输出当前仓库内最大集装箱的重量。

当仓库为空时你应该忽略出库操作，当仓库为空查询时你应该输出 $0$。

## 输出格式

输出行数等于日志中查询操作的次数。每行为一个整数，表示查询结果。

## 样例

### 样例输入 #1
```
13
0 1
0 2
2
0 4
0 2
2
1
2
1
1
2
1
2

```
### 样例输出 #1
```
2
4
4
1
0

```
## 提示

### 数据范围及约定

- 对于 $20\%$ 的数据，有 $N \le 10$；
- 对于 $40\%$ 的数据，有 $N \le 1000$；
- 对于 $100\%$ 的数据，有 $1 \le N \le 200000$，$1 \le X \le 10^8$。



---

---
title: "后缀表达式"
layout: "post"
diff: 普及-
pid: P1449
tag: ['模拟', '字符串', '线性数据结构', '栈']
---
# 后缀表达式
## 题目描述

所谓后缀表达式是指这样的一个表达式：式中不再引用括号，运算符号放在两个运算对象之后，所有计算按运算符号出现的顺序，严格地由左而右新进行（不用考虑运算符的优先级）。

本题中运算符仅包含 $\texttt{+-*/}$。保证对于 $\texttt{/}$ 运算除数不为 0。特别地，其中 $\texttt{/}$ 运算的结果需要**向 0 取整**（即与 C++ `/` 运算的规则一致）。

如：$\texttt{3*(5-2)+7}$ 对应的后缀表达式为：$\texttt{3.5.2.-*7.+@}$。在该式中，`@` 为表达式的结束符号。`.` 为操作数的结束符号。

## 输入格式

输入一行一个字符串 $s$，表示后缀表达式。

## 输出格式

输出一个整数，表示表达式的值。
## 样例

### 样例输入 #1
```
3.5.2.-*7.+@
```
### 样例输出 #1
```
16
```
### 样例输入 #2
```
10.28.30./*7.-@
```
### 样例输出 #2
```
-7
```
## 提示

数据保证，$1 \leq |s| \leq 50$，答案和计算过程中的每一个值的绝对值不超过 $10^9$。


---

---
title: "faebdc玩扑克"
layout: "post"
diff: 普及-
pid: P2021
tag: ['模拟', '线性数据结构']
---
# faebdc玩扑克
## 题目背景

faebdc 和 zky 在玩一个小游戏

## 题目描述

zky 有 $n$ 个扑克牌，编号从 $1$ 到 $n$，zky 把它排成一个序列，每次把最上方的扑克牌放在牌堆底，然后把下一张扑克牌拿出来输出，最终输出的序列恰好是从 $1$ 到 $n$，faebdc 问你原序列是什么，因为 faebdc 神犇早已在 $\mathcal O (1)$ 的时间得出结果，如果你在 1 s 内答不出来，faebdc 会吃了你。

## 输入格式

一个整数 n，表示扑克数目。
## 输出格式

$n$ 个数，表示扑克序列。

## 样例

### 样例输入 #1
```
13
```
### 样例输出 #1
```
7 1 12 2 8 3 11 4 9 5 13 6 10 
```
## 提示

对于 $100\%$ 的数据，$1 \le n \le {10}^6$。


---

---
title: "公路维修问题"
layout: "post"
diff: 普及-
pid: P2242
tag: ['模拟', '贪心', '线性数据结构']
---
# 公路维修问题
## 题目描述

由于长期没有得到维修，A国的高速公路上出现了 $n$ 个坑。为了尽快填补好这 $n$ 个坑，A国决定对 $m$ 处地段采取交通管制。为了求解方便，假设A国的高速公路只有一条，而且是笔直的。现在给出 $n$ 个坑的位置，请你计算，最少要对多远的路段实施交通管制？

## 输入格式

输入数据共两行，第一行为两个正整数 $n, m(2\le m \le n\le 15000)$。第二行给出了 $n$ 个坑的坐标（坐标值均在长整范围内，按从小到大的顺序给出，且不会有两个点坐标相同）。

## 输出格式


仅一行，为最小长度和。

## 样例

### 样例输入 #1
```
18 4
3 4 6 8 14 15 16 17 21 25 26 27 30 31 40 41 42 43

```
### 样例输出 #1
```
25
```
## 提示

[样例说明]


交通管制的地段分别为：$3-8,14-21,25-31,40-43$。


---


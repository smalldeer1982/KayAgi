---
title: "组合数问题"
layout: "post"
diff: 普及-
pid: B2164
tag: ['数学', '组合数学']
---
# 组合数问题
## 题目描述

给定两个正整数 $n$ 和 $m$，请你计算从 $n$ 个不同的元素中选择 $m$ 个元素的方案数（选择的顺序不重要）。

由于方案数可能很大，请输出方案数对 $10^9+7$ 取模的结果，也就是输出方案数除以 $10^9+7$ 的余数。
## 输入格式

一行，包含两个整数 $n$ 和 $m$。

## 输出格式

一个整数，表示组合数 $C_n^m$ 对 $10^9+7$ 取模的结果。
## 样例

### 样例输入 #1
```
5 3
```
### 样例输出 #1
```
10
```
## 提示

**样例解释 #1:**

从 $5$ 个元素中选择 $3$ 个，总共有 $10$ 种不同的方案：

- $(1,2,3)$
- $(1,2,4)$
- $(1,2,5)$
- $(1,3,4)$
- $(1,3,5)$
- $(1,4,5)$
- $(2,3,4)$
- $(2,3,5)$
- $(2,4,5)$
- $(3,4,5)$

注意：选择 (1,2,3) 和选择 (2,1,3) 被视为同一种方案。

**数据范围：**

对于 $20%$ 的数据，满足 $1\le m\le n\le 10$

对于 $100%$ 的数据，满足 $1\le m\le n\le 5000$


---

---
title: "[蓝桥杯 2025 国 Java B] 农场监控"
layout: "post"
diff: 普及-
pid: P12885
tag: ['2025', '组合数学', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 Java B] 农场监控
## 题目描述

一位农民正在规划他的高科技农场，他希望利用无人机和摄像头对农作物进行实时监控。为了实现这一目标，他将农场划分为一个 $2025 \times 2025$ 的网格，其中每个网格单元代表一小块农田。整个网格中共有 $2026 \times 2026$ 个顶点（即网格线相交形成的点），这些顶点可以作为监控设备的安装位置。

为了提高监控效率，农民决定选择一个矩形区域进行重点监测。具体来说，他会选择网格中 4 个不同的顶点作为矩形的四个顶点，并且保证矩形的边必须平行于网格的水平或垂直方向。

现在，请你帮助这位农民计算，总共有多少种方法，可以选择 4 个点，构成满足上述条件的矩形。两种选法被视为不同的方法当且仅当最后形成的矩形区域不同。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。


---

---
title: "「dWoi R1」Physics Problem"
layout: "post"
diff: 普及-
pid: P7157
tag: ['组合数学']
---
# 「dWoi R1」Physics Problem
## 题目背景

面对白板上的物理题，王马陷入了沉思 ……
## 题目描述

有 $n$ 个状态，编号为 $1$ 到 $n$。这 $n$ 个状态之间有 $k$ 种转换关系，第 $i$ 个转换关系描述为：第 $u_i$ 个状态和第 $v_i$ 个状态可以进行转换。当两个状态之间没有直接的转换关系但有间接的转换关系时，那么这两个状态之间有升降华关系。

求有多少个升降华关系。

**王马不会做很难的物理题，所以保证一个状态一定可以通过直接或间接的转换为另一个任意状态。**
## 输入格式

第一行两个整数 $n,k$ 代表状态数和转换关系数。       
接下来 $k$ 行每行两个整数 $u_i,v_i$ 代表这两个状态之间有转换关系。
## 输出格式

一行一个整数代表有多少个升降华关系。
## 样例

### 样例输入 #1
```
3 2
1 2
2 3
```
### 样例输出 #1
```
1
```
## 提示

#### 样例 1 解释

一共有 $3$ 个状态，编号为 $1,2,3$，第 $1$ 个状态和第 $2$ 个状态之间有转换关系，第 $2$ 个状态和第 $3$ 个状态之间有转换关系，第 $1$ 个状态和第 $3$ 个状态之间没有直接的转换关系，但可以用第 $2$ 个状态做桥梁进行转换，所以第 $1$ 个状态和第 $3$ 个状态之间有升降华关系。只有这一个升降华关系，输出 $1$。

#### 数据规模与约定

**本题采用捆绑测试。**

- Subtask 1（5 pts）：$n \le 2$。
- Subtask 2（10 pts）：$k=n-1$，$u_i+1=v_i$。
- Subtask 3（10 pts）：$k=n-1$，$u_i=1$。
- Subtask 4（25 pts）：$n,k \le 1000$。
- Subtask 5（50 pts）：无特殊限制。

对于 $100\%$ 的数据，$1 \le n,k \le 10^7$，$1 \le u_i,v_i \le n$。

保证 $u_i \ne v_i$ 且不存在 $i \ne j ∧(u_i =u_j∧v_i=v_j)$ 和 $i \ne j∧(u_i=v_j∧u_j=v_i)$。

这句话也可以理解为无重边无自环。

#### 提示

注意，对于下面这种情况（`a - b` 代表 $a$ 能与 $b$ 互相转换）：

```cpp
1 - 2
2 - 3
1 - 3
```

第 $1$ 个状态和第 $3$ 个状态算有直接转换关系，即转换关系取“最短路”。


---

---
title: "[Aya Round 1 D] 文文的数学游戏"
layout: "post"
diff: 普及-
pid: P8469
tag: ['2022', '数论', '洛谷原创', 'O2优化', '最大公约数 gcd', '组合数学', '洛谷月赛']
---
# [Aya Round 1 D] 文文的数学游戏
## 题目背景

在解决了上一题之后，琪露诺觉得自己仿佛就是天才。于是，射命丸文又给了她一道简单的数学题。
## 题目描述

给定长度为 $n$ 的整数序列 $a$，你需要构造一个长度为 $n$ 的整数序列 $b$ 满足对于所有 $1\le i\le n$，有 $1\le b_i \le a_i$。且 $\gcd(b_1,b_2,\cdots,b_n)$ 最大，其中 $\gcd$ 表示最大公因数。试求出能得到的最大值和取得最大值时，不同的数列 $b$ 的个数，对 $10^9+7$ 取模。

定义两个长度为 $L$ 的数列 $c,d$ 不同，当且仅当存在整数 $i(1 \le i \le L)$，使得 $c_i \ne d_i$。
## 输入格式

- 第一行一个输入整数 $n$。
- 第二行输入 $n$ 个整数，表示序列 $a$。
## 输出格式

- 输出一行两个整数。分别表示能得到到的最大 $\gcd(b_1,b_2,\cdots,b_n)$ 和对应的不同的 $b$ 的个数，对 $10^9+7$ 取模。
## 样例

### 样例输入 #1
```
3
1 2 3
```
### 样例输出 #1
```
1 6
```
## 提示

### 样例 1 解释

注意到由于 $1\le b_1\le a_1=1$，因此 $b_1$ 必须要为 $1$，因此最大的 $\gcd$ 值只能为 $1$。在这个前提下，所有合法的 $b$ 如下：

- $\{1,1,1\},\{1,1,2\},\{1,1,3\},\{1,2,1\},\{1,2,2\},\{1,2,3\}$。

### 数据范围与约束

对于 $100\%$ 的数据，$1 \le n\le 10^5$，$1 \le a_i\le 10^9$。

本题附带一组大样例。


---

---
title: "[蓝桥杯 2019 国 C] 数正方形"
layout: "post"
diff: 普及-
pid: P8692
tag: ['2019', '枚举', '组合数学', '蓝桥杯国赛']
---
# [蓝桥杯 2019 国 C] 数正方形
## 题目描述

在一个 $N \times N$ 的点阵上，取其中 $4$ 个点恰好组成一个正方形的 $4$ 个顶点，一共有多少种不同的取法？

由于结果可能非常大，你只需要输出模 $10^9 + 7$ 的余数。

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_30_4ab10c5eb27e3dea37d8g-09.jpg)

如上图所示的正方形都是合法的。
## 输入格式

输入包含一个整数 $N$。 
## 输出格式

输出一个整数代表答案。
## 样例

### 样例输入 #1
```
4
```
### 样例输出 #1
```
20
```
## 提示

对于所有评测用例，$2 ≤ N ≤ 10^6$。

蓝桥杯 2019 年国赛 C 组 G 题


---


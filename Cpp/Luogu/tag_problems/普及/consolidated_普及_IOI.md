---
title: "[IOI 2000] 回文字串"
layout: "post"
diff: 普及/提高-
pid: P1435
tag: ['动态规划 DP', '2000', 'IOI']
---
# [IOI 2000] 回文字串
## 题目背景

IOI2000 第一题

## 题目描述

回文词是一种对称的字符串。任意给定一个字符串，通过插入若干字符，都可以变成回文词。此题的任务是，求出将给定字符串变成回文词所需要插入的最少字符数。

比如 $\verb!Ab3bd!$ 插入 $2$ 个字符后可以变成回文词 $\verb!dAb3bAd!$ 或 $\verb!Adb3bdA!$，但是插入少于 $2$ 个的字符无法变成回文词。

**注意**：此问题区分大小写。

## 输入格式

输入共一行，一个字符串。
## 输出格式

有且只有一个整数，即最少插入字符数。

## 样例

### 样例输入 #1
```
Ab3bd
```
### 样例输出 #1
```
2
```
## 提示

### 数据范围及约定

记字符串长度为 $l$。

对于全部数据，$0<l\le 1000$。


---

---
title: "花店橱窗布置"
layout: "post"
diff: 普及/提高-
pid: P1854
tag: ['动态规划 DP', '1999', 'IOI', 'Special Judge']
---
# 花店橱窗布置
## 题目描述

某花店现有 $F$ 束花，每一束花的品种都不一样。至少有同样数量的花瓶，被按顺序摆成一行。花瓶的位置是固定的，从左到右按 $1\sim V$ 顺序编号，$V$ 是花瓶的数目。

花束可以移动，并且每束花用 $1\sim F$ 的整数标识。所有花束在放入花瓶时必须保持其标识数的顺序。例如，假设杜鹃花的标识数为 $1$，秋海棠的标识数为 $2$，康乃馨的标识数为 $3$，即杜鹃花必须放在秋海棠左边的花瓶中，秋海棠必须放在康乃馨左边的花瓶中。每个花瓶只能放一束花。

每个花瓶的形状和颜色也不相同，因此，当各个花瓶中放入不同的花束时，会产生不同的美学效果，并以美学值（一个整数 $a_{i,j}$）来表示，空置花瓶的美学值为 $0$。在上述的例子中，花瓶与花束的不同搭配所具有的美学值，可以用如下的表格来表示：

|        | 花瓶 1 | 花瓶 2 | 花瓶 3 | 花瓶 4 | 花瓶 5 |
| ------ | ----- | ----- | ----- | ----- | ----- |
| 杜鹃花 | $7$     | $23$    | $-5$    | $-24$   | $16$    |
| 秋海棠 | $5$     | $21$    | $-4$    | $10$    | $23$    |
| 康乃馨 | $-21$   | $5$     | $-4$    | $-20$   | $20$    |

根据表格，杜鹃花放在花瓶 $2$ 中，会显得非常好看，但若放在花瓶 $4$ 中，则显得很难看。

为了取得最佳的美学效果，必须在保持花束顺序的前提下，使花的摆放取得最大的美学值，如果具有最大美学值的摆放方式不止一种，则输出任何一种方案即可。
## 输入格式

输入文件的第一行是两个整数 $F$ 和 $V$，分别为花束数和花瓶数。

接下来是矩阵 $a_{i,j}$，共 $F$ 行，每行 $V$ 个整数，$a_{i,j}$ 表示花束 $i$ 摆放在花瓶 $j$ 中的美学值。
## 输出格式

输出文件的第一行是一个整数，为最大的美学值；接下来一行 $F$ 个整数，为那束花放入那个花瓶的编号。
## 样例

### 样例输入 #1
```
3 5
7 23 -5 -24 16
5 21 -4 10 23
-21 5 -4 -20 20

```
### 样例输出 #1
```
53
2 4 5

```
## 提示

对于 $100\%$ 的数据，$1\le F\le V\le 100$。

感谢 @罗恺 提供 SPJ


---

---
title: "[IOI 2015] boxes"
layout: "post"
diff: 普及/提高-
pid: P5849
tag: ['2015', 'IOI']
---
# [IOI 2015] boxes
## 题目描述

IOI2015 开幕式正在进行最后一个环节。按计划在开幕式期间，每个代表队都将收到由主办方发放的一个装有纪念品的盒子。然而所有志愿者都被精彩的开幕式所吸引，除 Aman 外其他人完全忘记了发放纪念品这件事。Aman 是一位热情的志愿者，为使得 IOI 尽量圆满，他要用最短的时间将所有纪念品发放出去。

开幕式的场地是一个圆环，被分为 $L$个完全相等的区域，这些区域的编号依次为 $0$ 到 $L-1$，也就是说，对于$0\le 
 i\le L-2$,区域 $i$ 与区域 $i+1$ 相邻，且区域 $L-1$ 与区域 $0$ 相邻。场地上共有 $N$ 个代表队，每队坐在上面的一个区域上，每个区域可以包含任意多个代表队，也可以为空。

一共有 $N$ 个相同的纪念品。开始，Aman 和所有纪念品都在区域 $0$。Aman 应该给每队一个纪念品，并且在发放完最后一个纪念品后他必须回到区域 $0$。注意，有些队可能坐在区域 $0$。

在任意时刻，Aman 只能够携带至多 $K$ 个纪念品。Aman 必须从区域 $0$ 取走这些纪念品，且取纪念品不需要时间。纪念品一旦从区域 $0$ 被取走后，Aman 只能将其发放给某个代表队或者随身携带。无论何时，Aman 携带一个或更多的纪念品到达一个这样的区域，该区域有一个代表队尚未收到纪念品，Aman 便可将他携带的一个纪念品发给这个代表队。这种发放也在瞬间完成。他所花的时间都消耗在区域之间的移动上。无论携带多少纪念品，Aman 都需要 $1$ 秒钟从一个区域移动到其相邻的区域（可以顺时针移动也可以逆时针移动）。

你的任务是计算出 Aman 发放完所有纪念品并返回到他的最初区域所需要的最短时间（秒数）。
## 输入格式

- 第 $1$ 行有三个整数 $N$，$K$，$L$，分别表示 代表队的数目，Aman 每次最多能携带的纪念品数量 ，开幕式场地上的区域数目；
- 第 $2$ 行有 $N$ 个整数，分别为 $p[0],\cdots,p[N−1]$，其中 $p[i]$ （$0\le i\le N-1$）代表第 $i$ 支代表队所在区域编号。$p$ 的元素按非递减排序。
## 输出格式

共一行，Aman 所需要的最短时间（秒数）。
## 样例

### 样例输入 #1
```
3 2 8
1 2 5

```
### 样例输出 #1
```
10

```
## 提示

对于 $100\%$ 的数据，$1\le N\le 10^7$，$1\le K\le N$，$1\le L\le 10^9$。


---

---
title: "[IOI 2021] 修改 DNA"
layout: "post"
diff: 普及/提高-
pid: P8521
tag: ['2021', 'IOI', '交互题', '前缀和']
---
# [IOI 2021] 修改 DNA
## 题目背景

**滥用本题评测将被封号**

**由于技术限制，请不要使用 C++ 14 (GCC 9) 语言提交本题。**

这是一道交互题，你只需要实现代码中要求的函数。

你的代码不需要引用任何额外的头文件，也不需要实现 `main` 函数
## 题目描述

Grace 是一名生物学家，在新加坡的一个生物信息学公司工作。她的一部分工作是分析不同有机体的 DNA 序列。DNA 序列是包含字符 A、T 和 C 的字符串。注意在本题中，DNA 序列不包含字符 G。

定义一次修改是把 DNA 序列中的两个元素交换位置的操作。例如，通过交换加粗的字符 A 和 C，一次修改可以把 A**C**T**A** 转化为 A**A**T**C**。

两个序列的修改距离是把一个序列转化为另一个序列所用的最少修改次数。如果不能通过修改把一个序列转化为另一个序列，那么这两个序列的修改距离为 $-1$。

Grace 正在分析两个 DNA 序列 $a$ 和 $b$，每个都由 n 个元素组成，下标从 $0$ 到 $n - 1$。你的任务是帮助 Grace 回答以下形式的 $q$ 个问题：子串 $a[x \ldots y]$ 和 $b[x \ldots y]$ 的修改距离是多少？这里，DNA 序列 $s$ 的子串 $s[x \ldots y]$ 定义为 $s$ 的下标从 $x$ 到 $y$（包括 x 和 y）的连续字符序列。也就是说，$s[x \ldots y]$ 是序列 $s[x] s[x + 1] \ldots s[y]$。
## 输入格式

你要实现以下函数：
```cpp
void init(string a, string b)
  ```
- $a, b$：长度为 $n$ 的字符串，表示两个待分析的 DNA 序列。
恰好调用此函数一次，且发生在任何对 `get_distance` 的调用之前。
```cpp
int get_distance(int x, int y)
```
- $x, y$：待分析的子串的开始和结束下标。
此函数应返回子串 $a[x \ldots y]$ 和 $b[x \ldots y]$ 的修改距离。
恰好调用此函数 $q$ 次。
## 样例

### 样例输入 #1
```
6 3
ATACAT
ACTATA
1 3
4 5
3 5
```
### 样例输出 #1
```
2
1
-1
```
## 提示

对于所有数据：

- $1 \le n, q \le 100 \, 000$
- $0 \le x \le y \le n - 1$
- $a$ 和 $b$ 的每个字符都是 A、T 和 C 之⼀

子任务|分值|特殊限制
:-:|:-:|:-:
$1$	|$21$|$y - x \le 2$
$2$	|$22$|	$q \le 500$，$y - x \le 1000$，$a$ 和 $b$ 的每个字符是 A 或 T
$3$	|$13$|	$a$ 和 $b$ 的每个字符是 A 或 T
$4$	|$28$|	$q \le 500$，$y - x \le 1000$
$5$	|$16$|	没有额外的约束条件

## 样例解释

如果评测程序调用 `get_distance(1, 3)`，那么该调用应返回 $a[1 \ldots 3]$ 和 $b[1 \ldots 3]$（也就是序列 TAC 和 CTA）之间的修改距离。通过 $2$ 次修改可以把 TAC 转化为 CTA：TAC $\to$ CAT，然后是 CAT $\to$ CTA。无法通过比 $2$ 次更少的修改完成该转化。

因此，该调用应返回 $2$。

如果评测程序调用 `get_distance(4, 5)`，那么该调用应返回序列 AT 和 TA 之间的修改距离。 通过一次修改可以把 AT 转化为 TA，而且显然至少需要一次。

因此，该调用应返回 $1$。

最后，如果评测程序调用 `get_distance(3, 5)`，由于无法通过修改将序列 CAT 转化为 ATA，因此该调用应返回 $-1$。


---

---
title: "[IOI 2009] Garage"
layout: "post"
diff: 普及/提高-
pid: P9115
tag: ['2009', 'IOI', 'O2优化']
---
# [IOI 2009] Garage
## 题目背景

IOI2009 D2T1
## 题目描述

一个停车场有 $N$ 个停车位，依次编号为 $1$ 到 $N$。每天早上，停车场的所有停车位都是空的。当一辆车到达停车场时，服务员检查是否有空的停车位。如果没有，则这辆车将在入口处等待，直到有新的停车位。如果有，则这辆车将停在编号最小的空的停车位上。如果多辆车在入口处等待，则它们会按照到达的顺序排成队列，当出现空的停车位时，队列中的第一辆车（最早到达的车辆）将停在该停车位上。

每辆车的停车费是它的重量乘以对应停车位的特定比率，和它在停车场停了多久无关。

停车场管理员得知今天将有 $M$ 辆车前来停车，以及它们到达和离开的顺序。帮他计算今天的收入。

**任务**：编写一个程序，给定每个停车位的特定比率，每辆车的重量和所有车辆到达和离开的顺序，求出车库的总收入。
## 输入格式

第一行包含两个由空格隔开的整数 $N, M$，分别表示停车位数和车辆数。

接下来 $N$ 行描述了停车位的收费率。其中第 $s$ 行包含一个整数 $R_s$，表示编号为 $s$ 的停车位每千克收费的价格。

接下来 $M$ 行描述了车辆的重量。车辆从 $1$ 到 $M$ 编号，其中第 $k$ 行包含一个整数 $W_k$，表示编号为 $k$ 的车辆的重量，单位千克。

接下来 $2M$ 行描述了所有车辆到达和离开的时间顺序。一个正数 $i$ 表示编号为 $i$ 的车辆到达停车场。一个负数 $-i$ 表示编号为 $i$ 的车离开停车场。没有车辆会在到达之前离开停车场，且 $1\sim M$ 每辆车会在序列中出现恰好两次，一次到达，一次离开。此外，没有车辆会在停入停车场之前离开，也就是说，不会有队列中的车辆离开。
## 输出格式

一行一个整数，表示停车场管理员今天的收入。
## 样例

### 样例输入 #1
```
3 4
2
3
5
200
100
300
800
3
2
-3
1
4
-4
-2
-1

```
### 样例输出 #1
```
5300

```
### 样例输入 #2
```
2 4
5
2
100
500
1000
2000
3
1
2
4
-1
-3
-2
-4

```
### 样例输出 #2
```
16200
```
## 提示

### 样例解释

- 样例 1：
  - 车辆 $3$ 停在车位 $1$，支付 $300\times 2 = 600$ 美元。
  - 车辆 $2$ 停在车位 $2$，支付 $100\times 3 = 300$ 美元。
  - 车辆 $1$ 停在车位 $1$（车辆 $3$ 空出的停车位），支付 $200\times 2 = 400$ 美元。
  - 车辆 $4$ 停在车位 $3$，支付 $800\times 5 = 4000$ 美元。

- 样例 2：
  - 车辆 $3$ 停在车位 $1$，支付 $1000\times 5 = 5000$ 美元。
  - 车辆 $1$ 停在车位 $2$，支付 $100\times 2 = 200$ 美元。
  - 车辆 $2$ 到达并在入口处等待。
  - 车辆 $4$ 到达并在入口处等待，排在车辆 $2$ 之后。
  - 当车辆 $1$ 离开时，车辆 $2$ 停在空出的车位 $2$，支付 $500\times 2 = 1000$ 美元。
  - 当车辆 $3$ 离开时，车辆 $4$ 停在空出的车位 $1$，支付 $2000\times 5 = 10000$ 美元。

### 数据范围与约定

- 对于 $40\%$ 的数据，没有车辆会在停车场等待。
- 对于 $100\%$ 的数据，$1\leq N\leq 100$，$1\leq M\leq 2000$，$1\leq R_s\leq 100$，$1\leq W_k\leq 10 ^ 4$。


---


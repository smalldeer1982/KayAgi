---
title: "[THUPC 2025 初赛] Harmful Machine Learning"
layout: "post"
diff: 普及/提高-
pid: P11522
tag: ['2025', 'THUPC']
---
# [THUPC 2025 初赛] Harmful Machine Learning
## 题目背景

人工智能领域大神 The NIT 正在训练机器人 The BOT。
## 题目描述

The BOT 在一个 $1\times n$ 的网格上移动，其中在 $(1,i)$ 上有数字 $a_i$。The BOT 初始在格子 $(1,x)$, The BOT 想要走到一个数字尽量大的格子。每一步 The BOT 可以选择移动到相邻的一个格子或是不动，并且在移动后可以选择是否选择格子上的数字并结束游戏，而为了训练 The BOT 的能力，The NIT 会给出一些阻碍，在 The BOT 选择是否结束之后，The NIT 可以将两个数字交换位置。

具体地说，我们可以把整个游戏看成若干个回合，初始 The BOT 在位置 $(1,x)$，在一个回合中，以下事件会按顺序依次发生：

1. The NIT 选择两个位置 $1\leq i,j\leq n$，并交换 $a_i,a_j$ 的值，注意 $i$ 可以等于 $j$，此时交换不会带来任何变化。
2. The BOT 选择移动到一个相邻的位置或是原地不动，令 The BOT 现在所在的位置为 $y$，即选择 $1\leq z\leq n$ 且 $|z-y|\leq 1$，并移动到 $(1,z)$。
3. The BOT 选择是否结束游戏，令 The BOT 现在所在的位置为 $y$，如果选择结束则会获得 $a_y$ 的分数并**立刻结束游戏**，否则无事发生。

可以发现，如果 The BOT 一直不选择结束游戏，则游戏永远不会结束，为了防止这个情况的发生，在游戏的第 $10^{114514}$ 个回合，The BOT 必须选择立刻结束游戏。

The NIT 希望 The BOT 结束游戏时的分数最小，而 The BOT 希望这个分数最大。The NIT 和 The BOT 都是绝顶聪明的，但他们并没有时间玩 $10^{114514}$ 个回合，于是他们请你帮他们计算一下，The BOT 最终的分数是多少？
## 输入格式

本题含有多组测试数据。

第一行一个整数 $T(1\leq T\leq 10^5)$，表示测试数据数量。

对于每一组数据：

第一行两个正整数 $n,x(1\leq n\leq 10^5,1\leq x\leq n)$，分别表示网格的长度以及初始位置 $(1,x)$。

之后一行 $n$ 个非负整数 $a_i(0\leq a_i\leq 10^9)$。

保证所有数据的 $n$ 的总和不超过 $5\times 10^5$。
## 输出格式

对于每一组数据，输出一行一个数表示答案。
## 样例

### 样例输入 #1
```
4
3 2
1 2 3
13 4
1 1 4 5 1 4 1 9 1 9 8 1 0
4 2
1 10 100 1000
1 1
114514
```
### 样例输出 #1
```
3
4
100
114514
```
## 提示

### 题目来源

题目来自 THUPC2025（2025年清华大学学生程序设计竞赛暨高校邀请赛）初赛，信息来源于 [THUSAAC 仓库](https://gitlink.org.cn/thusaa/thupc2025pre)。


---

---
title: "[THUPC 2019] 组合数据结构问题"
layout: "post"
diff: 普及/提高-
pid: P5375
tag: ['2019', 'THUPC']
---
# [THUPC 2019] 组合数据结构问题
## 题目描述

> 众所周知，小葱同学擅长计算，尤其擅长计算组合数，但这个题和组合数没什么关系。

小葱同学在学习了组合数的计算之后，开始了研究数据结构的道路。通过十五分钟的刻苦学习，小葱同学初步掌握了队列、栈和堆这三种数据结构。小葱同学发现这三种数据结构都支持两种操作：

1. 将某个数插入该数据结构。
2. 从该数据结构中按照数据结构的原理取出一个数。

小葱同学为了检验自己对这三种数据结构的理解，设计了一个类似的黑箱模型。该模型也支持两种操作，向黑箱中输入一个数或者从黑箱中输出一个数。现在小葱对该黑箱做了若干次操作，并给出每次输入和输出的数，问这个黑箱实现的是否可能是队列、栈、大根堆或者小根堆。

虽然小葱同学对这四种数据结构了如指掌，但他还是决定告诉你它们的分别是什么：

- 如果黑箱是**队列**：黑箱初始为空，输入时数将被放入黑箱，输出时当前黑箱内**最早被放入的**数将被输出并移出黑箱。
- 如果黑箱是**栈**：黑箱初始为空，输入时数将被放入黑箱，输出时当前黑箱内**最晚被放入的**数将被输出并移出黑箱。
- 如果黑箱是**大根堆**：黑箱初始为空，输入时数将被放入黑箱，输出时当前黑箱内**值最大的**数将被输出并移出黑箱。特别地，如值最大的数有多个，则仅将其中一个移出黑箱。
- 如果黑箱是**小根堆**：黑箱初始为空，输入时数将被放入黑箱，输出时当前黑箱内**值最小的**数将被输出并移出黑箱。特别地，如值最小的数有多个，则仅将其中一个移出黑箱。


## 输入格式

第一行一个整数 $N$  代表操作的个数。

接下来 $N$ 行每行两个整数 $\mathrm{opt},v$ 。如果 $\mathrm{opt}=1$ ，代表这次操作小葱同学向黑箱中插入 $v$ 了这个数；如果 $\mathrm{opt=2}$ ，代表小葱这次操作从黑箱中取出了 $v$ 这个数。

保证 $0\leq N\leq 10^5$ ，$-2^{31}\leq v<2^{31}$ ，$\mathrm{opt}\in\{1,2\}$  。

注意输入的数据仅保证在格式和范围上完全正确，不保证任何其他条件。
## 输出格式

共四行，每行可能是 `Yes` 或者 `No`，分别依次代表该黑箱是否可能是队列、栈、大根堆或者小根堆。
## 样例

### 样例输入 #1
```
6
1 1
1 2
1 3
2 1
2 2
2 3
```
### 样例输出 #1
```
Yes
No
No
Yes
```
## 提示

##### 版权信息

来自 THUPC（THU Programming Contest，清华大学程序设计竞赛）2019。

题解等资源可在 <https://github.com/wangyurzee7/THUPC2019> 查看。


---

---
title: "[THUPC 2019] 历史行程"
layout: "post"
diff: 普及/提高-
pid: P5407
tag: ['数学', '2019', 'THUPC']
---
# [THUPC 2019] 历史行程
## 题目背景

> 人生是怎么样的呢？我们是怎样活着的呢？
>
> 无论是谁，都是从黑暗中降生，最后再回归于黑暗。几年，几十年，短暂而漫长的时光。形形色色的人，形形色色的事，如过眼云烟，转瞬即逝。过眼繁花终有尽时，有些东西还能弥留于你的记忆之中，但更多的，早已无可寻觅。
>
> 但是，有个人，你不会忘记。
>
> 在你降生于黑暗之中时，那个人就一直陪在你身边。当你突破那黑暗，第一次见到世界的光明的时候，那个人也在你身边。
>
> 第一次的啼哭，第一次的说话，第一次的走路，第一次的奔跑。
>
> 每一次的成长，是你自己的一次飞跃。而对那个人来说，则是最纯真的喜悦和感动。
> 
>在你不知道的时候，在你不知道的地方，那个人倾尽自己的一切，为你创造最好的一切，保护你的一切，为你指引走向未来的桥梁。
>
> 那个人每天都在期盼着，期盼着你能早点长大，变得拥有保护你自己的力量。
>
> 那个人每天都在担心着，担心着你与那个人分别那天，终究还是会来到。
>
> 你终究会一直成长，你终究会拥有自立自强的能力。那个人，也不能再像以前一样，保护你。
>
> 有一天，你将走向更宽阔的未来，你会拥有和以前完全不一样的一切。而那个人，已经不再能够保护你了。
>
> 而你和那个人之间能够拥有的时间，也就越来越短了。
>
> 五年，十年，二十年，你一天一天长大。
>
> 五年，十年，二十年，那个人一天天老去。
>
> 那个人已经不能保护你了，那么现在，该你，去保护那个人了。
>
> 也许那个人不能永远在你身边，也许那个人终将离你而去。
>
> 但你永远不会忘记那个人，因为那个人，始终在你身边。
>
> 今天，是那个人的节日。
## 题目描述

母亲节是一个为感谢母亲而庆祝的节日，而在世界各地的母亲节的日期有所不同。母亲们在这一天里通常会收到孩子们送的礼物；而在许多人心目中，康乃馨被视作最适于献给母亲的鲜花之一。

1913 年，美国国会确定将每年 5 月的第二个星期日作为法定的母亲节，这也是现代母亲节的起源。

给定一个年份，请你输出这一年的母亲节的日期。方便起见，你只需要输出它是这年 5 月的第几天即可。
## 输入格式

一行一个整数 $y$，表示年份。

保证 $1913\leq y\leq 2019$。
## 输出格式

一行一个整数，表示这年的母亲节是 5 月的第几天。（请注意**不要**输出多余的前导零）
## 样例

### 样例输入 #1
```
2019
```
### 样例输出 #1
```
12
```
## 提示

### 样例解释

2019 年的母亲节是 5 月 12 日。

### 关于数据

由于一些原因数据只保留了随机的 $50$ 个点。

### 版权信息

来自 THUPC（THU Programming Contest，清华大学程序设计竞赛）2019。

题解等资源可在 <https://github.com/wangyurzee7/THUPC2019> 查看。


---

---
title: "[THUPC 2022 决赛] 匹配"
layout: "post"
diff: 普及/提高-
pid: P8420
tag: ['2022', 'O2优化', 'THUPC']
---
# [THUPC 2022 决赛] 匹配
## 题目描述

定义“匹配项”是一个长度为 $L$ 的字符串，每一位要么是 0，要么是 1。现在有 $N$ 个这样的“匹配项”，我们希望设计一个“方案”，“方案”同样是长度为$L$的字符串，每一位要么是 0，要么是 1。定义每个“匹配项”的错误值为“方案”与“匹配项”不同位的个数，比如“匹配项”是 `101`，“方案”是 `000`，那么两者的第一位和第三位是不同的，所以该“方案”对于该“匹配项”的错误值为 2。我们希望找到一个“方案”，使得这 $N$ 个“匹配项”的错误值之和最小。此外，有 $M$ 个互不相同的禁用“方案”，我们要求找到的“方案”不能是禁用“方案”之一。
## 输入格式

输入的第一行包含三个正整数 $N,M,L$。

接下来输入 $N$ 行,每行为一个长度为 $L$ 的字符串，之后 $M$ 行，每行为一个长度为 $L$ 的字符串。

## 输出格式

输出一个整数，表示满足要求的“方案”得到的这$N$个“匹配项”的最小错误值之和。
## 样例

### 样例输入 #1
```
4 1 4
0000
1000
1100
1010
1000

```
### 样例输出 #1
```
5

```
### 样例输入 #2
```
2 4 4
0000
0000
0000
1000
0100
0010


```
### 样例输出 #2
```
2

```
## 提示

保证 $1 \le N \le 1000$, $1 \le M \le \min(1000,2^L-1) $, $ 1 \le L \le 1000 $。


---

---
title: "[THUPC 2023 初赛] 众数"
layout: "post"
diff: 普及/提高-
pid: P9143
tag: ['贪心', '2023', 'O2优化', 'THUPC']
---
# [THUPC 2023 初赛] 众数
## 题目描述

你有若干个 $[1,n]$ 内的正整数：对于 $1 \le i \le n$，你有 $a_i$ 个整数 $i$。设 $S = \sum_{i=1}^n a_i$。

对于一个序列 $p_1,p_2,\cdots,p_l$，定义其众数 $\text{maj}(p_1,p_2,\cdots,p_l)$ 为出现次数最多的数。若有多个数出现次数最多，则其中最大的数为其众数。

现在你需要把这 $S$ 个数排成一个序列 $b_1,b_2,\cdots,b_S$，使得 $\sum_{i=1}^S \text{maj}(b_1,b_2,\cdots,b_i)$ 最大。输出该最大值。
## 输入格式

第一行一个整数 $n$，表示值域。

接下来一行 $n$ 个正整数 $a_1,a_2,\cdots,a_n$，表示每种数的个数。
## 输出格式

输出一行一个正整数表示 $\sum_{i=1}^S \text{maj}(b_1,b_2,\cdots,b_i)$ 的最大值。
## 样例

### 样例输入 #1
```
3
1 3 2
```
### 样例输出 #1
```
17
```
## 提示

#### 样例解释 1

一个达到最大值的序列为 $(3,2,3,1,2,2)$。

#### 数据范围

对于所有测试数据，$1 \le n \leq 10^5$，$1 \le a_1,a_2,\cdots,a_n \le 10^5$。

#### 题目来源

来自 2023 清华大学学生程序设计竞赛暨高校邀请赛（THUPC2023）初赛。

题解等资源可在 <https://github.com/THUSAAC/THUPC2023-Pre> 查看。


---


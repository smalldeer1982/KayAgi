---
title: "猫粮规划"
layout: "post"
diff: 普及/提高-
pid: B3624
tag: ['深度优先搜索 DFS', '剪枝']
---
# 猫粮规划
## 题目描述

到中午了，机器猫要吃猫粮了。

机器猫掏出 $n$ 份食物，第 $i$ 份食物含有的能量为 $w[i]$。机器猫可以吃掉其中一些食物，获得这些食物的能量之和。

机器猫又不想变得太胖又不想变得太瘦，所以指定了一个目标区间 $[l, r]$。显然，可能有很多种选择食物的方式可以达成这个目标，因此机器猫想知道方案总数。


## 输入格式

第一行，三个正整数 $n, l, r$。

第二行，$n$ 个正整数，表示每一份食物含有的能量 $w[i]$。
## 输出格式

仅一行，一个整数，表示方案数。
## 样例

### 样例输入 #1
```
4 70 85
10 10 20 50

```
### 样例输出 #1
```
4
```
## 提示

#### 样例解释

所有方案如下：

选择食物 1, 2, 4，能量 10+10+50 = 70  
选择食物 1, 3, 4，能量 10+20+50 = 80  
选择食物 2, 3, 4，能量 10+20+50 = 80  
选择食物 3, 4，能量 50+20 = 70

共 4 种方案。

#### 数据规模与约定

对于 $50\%$ 的数据，满足 $n\leq 20$。

对于 $100\%$ 的数据，满足 $n\leq 40, 20\leq w[i] \leq 100, l\leq r \leq 300$。

提示：$w[i]$ 在范围内均匀随机生成。



---

---
title: "[常州市赛 2023] 数学作业"
layout: "post"
diff: 普及/提高-
pid: B4219
tag: ['搜索', '2023', '江苏', '剪枝', '科创活动', '小学活动']
---
# [常州市赛 2023] 数学作业
## 题目背景

搬运自 <http://czoj.com.cn/p/676>。数据为民间数据。
## 题目描述

今天小 X 的数学老师带领大家学习了斐波那契序列：

斐波那契序列指的是这样一个数列：$\{1,2,3,5,8,13,21,34\}$。从第 $3$ 个数开始，每个数都是前两个数的和，比如 $8=3+5,34=13+21$。数列里的数叫做斐波那契数。

一个数 $n$ 的斐波那契表示是指把 $n$ 写成若干个互不相同的斐波那契数的和。一个数可以有多种不同的斐波那契表示。比如 $14$ 有三种斐波那契表示：$14=1+13,14=1+5+8,14=1+2+3+8$。数学老师给小 X 留下了一个数学作业，她告诉小 X 一个正整数 $n$，想让小 X 算出 $n$ 有多少种不同的斐波那契表示。

小 X 请你帮助他完成他的数学作业。
## 输入格式

第一行为一个正整数 $n$。
## 输出格式

输出一行一个整数表示答案。
## 样例

### 样例输入 #1
```
14
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
1110
```
### 样例输出 #2
```
21
```
### 样例输入 #3
```
1000000000000
```
### 样例输出 #3
```
283392
```
## 提示

|测试点编号|$n$|
|:-:|:-:|
|$1\sim5$|$1\le n\le 10^4$|
|$6\sim8$|$1\le n\le 10^9$|
|$9\sim10$|$1\le n\le 10^{12}$|


---

---
title: "[NOIP 2001 提高组] 数的划分"
layout: "post"
diff: 普及/提高-
pid: P1025
tag: ['搜索', '递推', '2001', 'NOIP 提高组', '剪枝']
---
# [NOIP 2001 提高组] 数的划分
## 题目描述

将整数 $n$ 分成 $k$ 份，且每份不能为空，任意两个方案不相同（不考虑顺序）。

例如：$n=7$，$k=3$，下面三种分法被认为是相同的。

$1,1,5$;   
$1,5,1$;   
$5,1,1$.

问有多少种不同的分法。

## 输入格式

$n,k$ （$6<n \le 200$，$2  \le k  \le  6$）

## 输出格式

$1$ 个整数，即不同的分法。

## 样例

### 样例输入 #1
```
7 3

```
### 样例输出 #1
```
4

```
## 提示

四种分法为：  
$1,1,5$;  
$1,2,4$;  
$1,3,3$;  
$2,2,3$.

**【题目来源】**

NOIP 2001 提高组第二题


---

---
title: "血色先锋队"
layout: "post"
diff: 普及/提高-
pid: P1332
tag: ['模拟', '搜索', '福建省历届夏令营', '广度优先搜索 BFS', '剪枝']
---
# 血色先锋队
## 题目背景

巫妖王的天灾军团终于卷土重来，血色十字军组织了一支先锋军前往诺森德大陆对抗天灾军团，以及一切沾有亡灵气息的生物。孤立于联盟和部落的血色先锋军很快就遭到了天灾军团的重重包围，现在他们将主力只好聚集了起来，以抵抗天灾军团的围剿。可怕的是，他们之中有人感染上了亡灵瘟疫，如果不设法阻止瘟疫的扩散，很快就会遭到灭顶之灾。大领主阿比迪斯已经开始调查瘟疫的源头。原来是血色先锋军的内部出现了叛徒，这个叛徒已经投靠了天灾军团，想要将整个血色先锋军全部转化为天灾军团！无需惊讶，你就是那个叛徒。在你的行踪败露之前，要尽快完成巫妖王交给你的任务。
## 题目描述

军团是一个 $n$ 行 $m$ 列的矩阵，每个单元是一个血色先锋军的成员。感染瘟疫的人，每过一个小时，就会向四周扩散瘟疫，直到所有人全部感染上瘟疫。你已经掌握了感染源的位置，任务是算出血色先锋军的领主们感染瘟疫的时间，并且将它报告给巫妖王，以便对血色先锋军进行一轮有针对性的围剿。
## 输入格式

第 $1$ 行：四个整数 $n$，$m$，$a$，$b$，表示军团矩阵有 $n$ 行 $m$ 列。有 $a$ 个感染源，$b$ 为血色敢死队中领主的数量。

接下来 $a$ 行：每行有两个整数 $x$，$y$，表示感染源在第 $x$ 行第 $y$ 列。

接下来 $b$ 行：每行有两个整数 $x$，$y$，表示领主的位置在第 $x$ 行第 $y$ 列。

## 输出格式

第 $1$ 至 $b$ 行：每行一个整数，表示这个领主感染瘟疫的时间，输出顺序与输入顺序一致。如果某个人的位置在感染源，那么他感染瘟疫的时间为 $0$。
## 样例

### 样例输入 #1
```
5 4 2 3
1 1
5 4
3 3
5 3
2 4

```
### 样例输出 #1
```
3
1
3
```
## 提示

#### 输入输出样例 1 解释

如下图，标记出了所有人感染瘟疫的时间以及感染源和领主的位置。

![](https://cdn.luogu.com.cn/upload/image_hosting/3j3g02cn.png)

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1\le n,m\le500$，$1\le a,b\le10^5$。


---

---
title: "[USACO08MAR] Cow Travelling S"
layout: "post"
diff: 普及/提高-
pid: P1535
tag: ['搜索', '2008', 'USACO', '剪枝']
---
# [USACO08MAR] Cow Travelling S
## 题目描述

奶牛们在被划分成 $N$ 行 $M$ 列（$2 \leq N,M \leq 100$）的草地上游走， 试图找到整块草地中最美味的牧草。

Farmer John 在某个时刻看见贝茜在位置 $(R_1, C_1)$，恰好 $T$（$0 \lt T \leq 15$）秒后，FJ 又在位置 $(R_2, C_2)$ 与贝茜撞了正着。FJ 并不知道在这 $T$ 秒内贝茜是否曾经到过 $(R_2, C_2)$，他能确定的只是，现在贝茜在那里。

设 $S$ 为奶牛在 $T$ 秒内从 $(R_1, C_1)$ 走到 $(R_2, C_2)$ 所能选择的路径总数，FJ 希望有一个程序来帮他计算这个值。每一秒内，奶牛会水平或垂直地移动 $1$ 单位距离（奶牛总是在移动，不会在某秒内停在它上一秒所在的点）。草地上的某些地方有树，自然，奶牛不能走到树所在的位置，也不会走出草地。

现在你拿到了一张整块草地的地形图，其中 `.` 表示平坦的草地，`*` 表示挡路的树。你的任务是计算出，一头在 $T$ 秒内从 $(R_1, C_1)$ 移动到 $(R_2, C_2)$ 的奶牛可能经过的路径有哪些。
## 输入格式

第一行包含 $3$ 个用空格隔开的整数：$N,M,T$。

接下来 $N$ 行：第 $i$ 行为 $M$ 个连续的字符，描述了草地第 $i$ 行各点的情况，保证字符是 `.` 和 `*` 中的一个。

最后一行 $4$ 个整数 $R_1,C_1,R_2,C_2$。
## 输出格式

输出从 $(R_1, C_1)$ 移动到 $(R_2, C_2)$ 的方案数。
## 样例

### 样例输入 #1
```
4 5 6
...*.
...*.
.....
.....
1 3 1 5
```
### 样例输出 #1
```
1

```
## 提示

奶牛在 $6$ 秒内从 $(1,3)$ 走到 $(1,5)$ 的方法只有一种，绕过她面前的树。


---

---
title: "打开所有的灯"
layout: "post"
diff: 普及/提高-
pid: P2040
tag: ['模拟', '搜索', '递归', '枚举', '剪枝']
---
# 打开所有的灯
## 题目背景

pmshz在玩一个益(ruo)智(zhi)的小游戏，目的是打开九盏灯所有的灯，这样的游戏难倒了pmshz。。。

## 题目描述

这个灯很奇(fan)怪(ren)，点一下就会将这个灯和其周围四盏灯的开关状态全部改变。现在你的任务就是就是告诉pmshz要全部打开这些灯。



例如
```
0  1  1
1  0  0
1  0  1
```

点一下最中间的灯【2,2】就变成了
```
0  0  1
0  1  1
1  1  1
```

再点一下左上角的灯【1,1】就变成了

```
1  1  1
1  1  1
1  1  1
```

达成目标。最少需要2步。

输出2即可。

## 输入格式

九个数字，3\*3的格式输入，每两个数字中间只有一个空格，表示灯初始的开关状态。（0表示关，1表示开）

## 输出格式

1个整数，表示最少打开所有灯所需要的步数。

## 样例

### 样例输入 #1
```
0 1 1
1 0 0
1 0 1
```
### 样例输出 #1
```
2
```
## 提示

这个题水不水，就看你怎么考虑了。。。。



---

---
title: "狗哥玩木棒"
layout: "post"
diff: 普及/提高-
pid: P2383
tag: ['搜索', '剪枝']
---
# 狗哥玩木棒
## 题目背景

狗哥又趁着语文课干些无聊的事了...

## 题目描述

现给出一些木棒长度，那么狗哥能否用给出的木棒(木棒全用完)组成一个正方形呢？

## 输入格式

输入文件中的第一行是一个整数 $n(1\le n\le 10)$ 表示测试的组数，接下来 $n$ 行表示每组的测试数据。 每行的第一个数为 $m(4\leq m\leq 20)$,接下来 $m$ 个数 $a_i(1\leq a_i\le 1000)$ 表示木棒的长度。

## 输出格式

对于每组测试数据，如果可以组成正方形输出“yes”，否则输出“no”。

## 样例

### 样例输入 #1
```
3
4 1 1 1 1 
5 10 20 30 40 50 
8 1 7 2 6 4 4 3 5
```
### 样例输出 #1
```
yes
no
yes
```
## 提示

狗哥快抓狂了



---

---
title: "[USACO3.2] 饲料调配 Feed Ratios"
layout: "post"
diff: 普及/提高-
pid: P2729
tag: ['搜索', '数学', 'USACO', '枚举', '剪枝']
---
# [USACO3.2] 饲料调配 Feed Ratios
## 题目背景

农夫约翰从来只用调配得最好的饲料来喂他的奶牛。饲料用三种原料调配成：大麦，燕麦和小麦。他知道自己的饲料精确的配比，在市场上是买不到这样的饲料的。他只好购买其他三种混合饲料（同样都由三种麦子组成），然后将它们混合，来调配他的完美饲料。

## 题目描述

给出三组整数，表示 大麦：燕麦：小麦 的比例，找出用这三种饲料调配 x：y：z 的饲料的方法。

例如，给出目标饲料 3：4：5 和三种饲料的比例：

1:2:3
3:7:1
2:1:2
你必须编程找出使这三种饲料用量最少的方案，要是不能用这三种饲料调配目标饲料，输出“NONE”。“用量最少”意味着三种饲料的用量（整数）的和必须最小。


对于上面的例子，你可以用8份饲料1，1份饲料2，和5份饲料3，来得到7份目标饲料：

8\*(1:2:3) + 1\*(3:7:1) + 5\*(2:1:2) = (21:28:35) = 7\*(3:4:5)

表示饲料比例的整数以及目标饲料的都是小于100的非负整数。表示各种饲料的份数的整数，都小于100。一种混合物的比例不会由其他混合物的比例直接相加得到。

## 输入格式

Line 1: 三个用空格分开的整数，表示目标饲料

Line 2..4: 每行包括三个用空格分开的整数，表示农夫约翰买进的饲料的比例

## 输出格式

输出文件要包括一行，这一行要么有四个整数，要么是“NONE”。前三个整数表示三种饲料的份数，用这样的配比可以得到目标饲料。第四个整数表示混合三种饲料后得到的目标饲料的份数。

## 样例

### 样例输入 #1
```
3 4 5
1 2 3
3 7 1
2 1 2 
```
### 样例输出 #1
```
8 1 5 7
```
## 提示

题目翻译来自NOCOW。

USACO Training Section 3.2



---

---
title: "[USACO16FEB] Milk Pails S"
layout: "post"
diff: 普及/提高-
pid: P3139
tag: ['搜索', '2016', 'USACO', '剪枝', '记忆化搜索']
---
# [USACO16FEB] Milk Pails S
## 题目描述

Farmer John has received an order for exactly $M$ units of milk ($1 \leq M \leq 200$) that he needs to fill right away.  Unfortunately, his fancy milking machine has just become broken, and all he has are two milk pails of integer sizes $X$ and $Y$ ($1 \leq X, Y \leq 100$) with which he can measure milk.  Both pails are initially empty.  Using these two pails, he can perform up to $K$ of the following types of operations ($1 \leq K \leq 100$):

- He can fill either pail completely to the top.

- He can empty either pail.

- He can pour the contents of one pail into the other, stopping when the former becomes empty or the latter becomes full (whichever of these happens first).

Although FJ realizes he may not be able to end up with exactly $M$ total units of milk in the two pails, please help him compute the minimum amount of error between $M$ and the total amount of milk in the two pails.  That is, please compute the minimum value of $|M-M'|$ such that FJ can construct $M'$ units of milk collectively between the two pails.
## 输入格式

The first, and only line of input, contains $X$, $Y$, $K$, and $M$.

## 输出格式

Output the smallest distance from $M$ to an amount of milk FJ can produce.

## 样例

### 样例输入 #1
```
14 50 2 32
```
### 样例输出 #1
```
18
```
## 提示

In two steps FJ can be left with the following quanities in his pails


```cpp
(0, 0) = 0 units
(14, 0) = 14 units
(0, 50) = 50 units
(0, 14) = 14 units
(14, 36) = 50 units
(14, 50) = 64 units
```

The closest we can come to 32 units is 14 for a difference of 18.  Note that it would require an extra step to pour out the first pail to end up with (0, 36).

## 题目翻译

### 题目描述

Farmer John 接到了一份需要立即完成的订单，要求他提供恰好 $M$ 单位的牛奶（$1 \leq M \leq 200$）。不幸的是，他先进的挤奶机刚刚坏了，现在他只有两个容量为整数 $X$ 和 $Y$（$1 \leq X, Y \leq 100$）的牛奶桶可以用来量取牛奶。两个桶最初都是空的。使用这两个桶，他可以执行最多 $K$ 次以下类型的操作（$1 \leq K \leq 100$）：

- 他可以将任意一个桶完全装满。

- 他可以将任意一个桶完全倒空。

- 他可以将一个桶中的牛奶倒入另一个桶，直到前者被倒空或后者被装满（以先发生的情况为准）。

尽管 FJ 意识到他可能无法最终在两个桶中得到恰好 $M$ 单位的牛奶，但请帮助他计算 $M$ 与两个桶中牛奶总量之间的最小误差。也就是说，请计算 $|M-M'|$ 的最小值，其中 $M'$ 是 FJ 可以在两个桶中共同构造的牛奶量。

### 输入格式

输入的第一行也是唯一一行包含 $X$、$Y$、$K$ 和 $M$。

### 输出格式

输出 $M$ 与 FJ 可以生产的牛奶量之间的最小误差。

### 说明/提示

在两步操作中，FJ 可以在他的桶中留下以下数量的牛奶：

```
(0, 0) = 0 单位  
(14, 0) = 14 单位  
(0, 50) = 50 单位  
(0, 14) = 14 单位  
(14, 36) = 50 单位  
(14, 50) = 64 单位  
```

最接近 32 单位的是 14 单位，误差为 18。注意，要倒空第一个桶以得到 (0, 36) 需要额外的步骤。


---

---
title: "A换B problem"
layout: "post"
diff: 普及/提高-
pid: P4907
tag: ['搜索', '剪枝']
---
# A换B problem
## 题目背景

仙女与小奔约定，想要拿到仙药，必须在牌技上赢了她。
## 题目描述

他们要开始打牌了。但是，拥有强迫症的小奔看着手中的牌，很不愉快。原因是他理牌时按花色理（逗我），又希望一个花色的牌是连着的（$A-2-3-4-5-6-7-8-9-10-J-Q-K$）。

忍无可忍的小奔开始与参与打牌的其他人换牌（作弊？？？），他希望换最少的牌来满足他的需求（假设所有牌都可以换）

换牌规则：只能用点数相同的牌交换。

众人：还能不能好好打牌了？！我们限你1s内换完，要不然就告诉仙女！
## 输入格式

第一行，一个正整数$N$，表示小奔有$N$张牌。

第$2~N+1$行，第$i$ 行表示第 $i$ 张牌的花色和点数。

## 输出格式

共有两行

第一行判断，如能完成，输出"Yes"，否则输出“No”；

第二行输出最少换牌次数或最少需要牌数
## 样例

### 样例输入 #1
```
10
1 A
1 2
1 4
2 3
2 5
2 6
3 9
3 10
3 Q
4 J
```
### 样例输出 #1
```
Yes
2
```
### 样例输入 #2
```
10
1 A
1 2
1 4
2 3
2 5
2 6
3 9
3 10
3 Q
4 K
```
### 样例输出 #2
```
Yes
2
```
## 提示

样例1，可达成，将$2$ $3$换为$1$ $3$，$4$ $J$换为$3$ $J$

样例2，可达成，将$2$ $3$换成$1$ $3$，$3$ $Q$换成$4$ $Q$。
（以上答案仅供参考，不保证没有多解,但输出必然唯一，~~别问我为什么~~）


对于10%的数据：为样例$2.$

对于100%的数据： $ N \leq 52 $，即保证数据在一副牌内


---

---
title: "【XR-2】奇迹"
layout: "post"
diff: 普及/提高-
pid: P5440
tag: ['搜索', 'O2优化', '剪枝', '素数判断,质数,筛法']
---
# 【XR-2】奇迹
## 题目背景

> 相信奇迹的人，本身就和奇迹一样了不起。——笛亚 《星游记》
## 题目描述

我们称一个**日期**为一个八位数，第 1~4 位构成年，第 5~6 位构成月，第 7~8 位构成日，不足位数用 0 补足。同时，要求日期所代表的这一天真实存在，且年的范围为 1~9999。

出现奇迹的日期都存在相同的特点：由“日”组成的两位数，由“月+日”组成的四位数，由“年+月+日”组成的八位数均为**质数**。但并不是所有存在这样特点的日期都一定会出现奇迹。

现在，你得到了一个可能会出现奇迹的日期，然而不幸的是这个日期却是残缺的，八位中可能有若干位无法确定。你需要知道这个日期有多少种可能，这样你才能做好充足的准备去迎接奇迹的到来。
## 输入格式

**本题有多组数据。**

第一行一个正整数 $T$，表示数据组数。

接下来的 $T$ 行，每行一个八位字符串。其中第 $i$ 位如果为 `-`，则表示日期的第 $i$ 位无法确定，否则表示日期的第 $i$ 位为字符串中第 $i$ 位上的数字。
## 输出格式

对每组数据，一行一个整数，表示答案。
## 样例

### 样例输入 #1
```
2
53-7-3-7
20190629

```
### 样例输出 #1
```
6
0

```
## 提示

【样例 $1$ 说明】

`53-7-3-7` 的 $6$ 种可能的日期如下：

```plain
53070307
53070317
53170307
53370307
53570317
53770307
```

【数据规模与约定】

一共 $10$ 个测试点，记 $c$ 为八位字符串中 `-` 的个数。

对前 $9$ 个测试点，在第 $i$ 个测试点中保证 $c = i - 1$。

对 $100\%$ 的数据保证 $1 \le T \le 10$。


---


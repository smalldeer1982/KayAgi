---
title: "[蓝桥杯青少年组省赛 2025] 硬币游戏"
layout: "post"
diff: 普及/提高-
pid: B4379
tag: ['贪心', '博弈论', '2025', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2025] 硬币游戏
## 题目描述

Jerry 和 Tom 正在进行一局游戏。他们准备了 $n$ 个盒子，编号为 $1$ 到 $n$，其中 $i$ 号盒子装有 $a_i$ 枚硬币。他们将这 $n$ 个盒子围成一圈。游戏规则如下：

1. Jerry 和 Tom 轮流从某一个盒子中取走至少一枚硬币，Jerry 先手从 $1$ 号盒子开始取；
2. 如果前一个玩家取的是 $i$ 号盒子中的硬币，那么当前玩家必须从 $i+1$ 号盒子中取硬币。特别地，如果前一个玩家取的是 $n$ 号盒子中的硬币，那么当前玩家必须从 $1$ 号盒子中取硬币。
3. 如果轮到某位玩家时对应盒子中没有硬币，则该玩家失败。

假设 Jerry 和 Tom 都采取最优策略，请问谁会赢？
## 输入格式

本题每个测试点包含多组测试数据，格式如下：

第一行输入一个整数 $T$（$1 \leq T \leq 100$），表示数据组数；
- 对于每组测试数据，第一行输入一个整数 $n$（$1 \leq n \leq 1000$），表示盒子的数量；
- 第二行输入 $n$ 个整数 $a_i$（$1 \leq a_i \leq 10^9$），分别表示 $1$ 号到 $n$ 号盒子中的硬币数量，整数之间以一个空格隔开。
## 输出格式

输出 $T$ 行，每行输出一个字符串，对于第 $i$ 组测试数据，如果 Jerry 能赢，则输出 $\tt Jerry$，否则输出 $\tt Tom$。
## 样例

### 样例输入 #1
```
2
1
10
2
30 50
```
### 样例输出 #1
```
Jerry
Tom
```


---

---
title: "[常州市赛 2025] 排序"
layout: "post"
diff: 普及/提高-
pid: B4393
tag: ['博弈论', '2025', '江苏', '科创活动', '小学活动']
---
# [常州市赛 2025] 排序
## 题目背景

搬运自 <http://czoj.com.cn/p/1410>。数据为民间数据。
## 题目描述

给定一个长度为 $n$ 的全排列，即 $1\sim n$ 在全排列中各出现一次，小 Y 的目标是将该全排列按从小到大排好序，小 H 的目标是阻止小 Y 在有限步内排序。两人轮流操作，小 Y 可以交换任意两个位置上的数字，小 H 只能交换相邻两个位置上的数字。无论轮到谁操作，都不可以不操作。

给定排列和先手，小 Y 想知道，他是否可以达成目标。
## 输入格式

第一行为一个正整数 $n$。

第二行为一个字符 $\tt Y$ 或者 $\tt H$ 表示小 Y 还是小 H 是先手。

第三行 $n$ 个整数表示这个排列。
## 输出格式

若小 Y 可以达成目标，输出 $\tt Win$，否则输出 $\tt Lose$。
## 样例

### 样例输入 #1
```
2
Y
2 1
```
### 样例输出 #1
```
Win
```
### 样例输入 #2
```
3
H
1 3 2
```
### 样例输出 #2
```
Lose
```
### 样例输入 #3
```
10
H
1 2 3 4 5 6 7 8 10 9
```
### 样例输出 #3
```
Lose
```
## 提示

本任务共有 $11$ 个数据。

对于全部数据：$2\le n\le 10^5$，保证一开始给定的排列一定不是有序的。

|测试点编号|特殊性质|
|:-:|:-:|
|$1$|$n=2$|
|$2\sim4$|$n=3$|
|$5\sim7$|小 H 一定是先手|
|$8\sim11$|无|


---

---
title: "「LAOI-5」拼图"
layout: "post"
diff: 普及/提高-
pid: P10152
tag: ['博弈论', 'O2优化']
---
# 「LAOI-5」拼图
## 题目描述

Alice 和 Shinobu 在玩一个游戏。现在有 $n$ 个点，点有黑白两种颜色。初始每个点都是孤立的白点，Alice 和 Shinobu 轮流操作，Alice 先手：
- 每轮 Alice 选择一对没有边的点对 $u,v$ 并连无向边 $(u,v)$，不能连自环。
- 每轮 Shinobu 选择一个点并翻转其颜色（黑变白，白变黑）。

当某一次操作后图中存在同色三元环（即存在点 $a,b,c$ 使 $a,b,c$ 同色且 $(a,b),(b,c),(c,a)$ 都已经连上）或者对手无法操作时，操作者获胜。假设两人都绝顶聪明，问谁存在必胜策略？
## 输入格式

**本题有多组询问。**

第一行一个正整数 $T$ 表示询问组数。

后 $T$ 行，每行一个正整数 $n$ 表示游戏的点数。
## 输出格式

$T$ 行，每行一个 `Alice` 或 `Shinobu`，表示最后谁会赢。
## 样例

### 样例输入 #1
```
2
3
6
```
### 样例输出 #1
```
Shinobu
Alice
```
### 样例输入 #2
```
1
1000000000
```
### 样例输出 #2
```
Alice
```
## 提示

样例 $1$ 解释：

对于第 $1$ 组数据，Alice 一定在 $3$ 轮后连上 $(1,2),(2,3),(3,1)$，Shinobu 把 $1,2,3$ 依次变黑即可。

对于第 $2$ 组数据，Alice 分 $8$ 轮连上 $(1,2),(2,3),(3,4),(4,5),(5,6),(6,1),(1,4),(2,5)$，然后 Alice 必胜：

- $1,2,4,5$ 中三个同色，连上它们；
- $1,2/4,5$ 同色，将 $6$ 与 $2/4$ 中同色的那个相连；
- $1,4/2,5$ 同色，方案同上；
- $1,5/2,4$ 同色，则 $3/6$ 必然同色（颜色换了 $8$ 次，黑点必有偶数个），即 $2,3,4/5,6,1$ 必然同色，连上即可。

----------

**本题采用捆绑测试。**

- Subtask 1 (10pts)：$n\le 6$。
- Subtask 2 (40pts)：$n\ge 10^7$。
- Subtask 3 (50pts)：无特殊限制。

对于全部数据，$1\le T\le 10^6$，$1\le n\le 10^9$。


---

---
title: "[UESTCPC 2024] 取数游戏"
layout: "post"
diff: 普及/提高-
pid: P10335
tag: ['博弈论', '2024', 'O2优化', '高校校赛']
---
# [UESTCPC 2024] 取数游戏
## 题目描述

有一个长度为 $n$ 的序列，第 $i$ 个数的权值为 $a_i$。两位选手 A 和 B 在做游戏，他们将对轮流对序列进行操作。每位选手每次有两种操作可以选择：

- 删除序列中的任意两个的数 $a_i,a_j$ $(i \neq j)$，并在序列中添加一个权值为 $a_i+a_j$ 的数。当序列中只有一个数时，不能执行该操作。
- 取走序列中一个数，将序列中剩下的数的权值全部累加给对方，结束游戏。

如果最后 A 得到的权值更多，则他胜利，否则 B 胜利。

A 先进行操作，问他是否有必胜策略。**保证 $a_i$ 之和为奇数。**
## 输入格式

本题包含多组数据。

第一行输入一个整数 $T$ $(1\leq T\leq 10^5)$，表示数据组数。

对于每组数据，输入格式如下。

第一行一个整数 $n$ $(1\leq n\leq 5 \times 10^5)$，表示序列的初始长度。

第二行 $n$ 个整数 $a_1,a_2,\ldots,a_n$ $(1\leq a_i\leq 10^9)$，表示初始的序列。

数据保证 $\sum n\leq 10^6$ 且 $\sum a_i$ 为奇数。
## 输出格式

对于每组数据，如果 A 有必胜策略，输出 `YES`，否则输出 `NO`。
## 样例

### 样例输入 #1
```
3
3 
3 6 4
2 
1 2
3
2 5 6
```
### 样例输出 #1
```
NO
YES
NO
```
## 提示

样例一解释如下：

- 如果 A 选择权值 $3$，则 B 能得到的权值为 $6+4=10$。
- 如果 A 选择权值 $4$，则 B 能得到的权值为 $3+6=9$。
- 如果 A 选择权值 $6$，则 B 能得到的权值为 $3+4=7$。
- 如果 A 选择合并权值 $3,6$，序列变为 $9,4$。若 B 选择权值 $9$，则 A 能得到的权值为 $4$。
- 如果 A 选择合并权值 $3,4$，序列变为 $7,6$。若 B 选择权值 $7$，则 A 能得到的权值为 $6$。
- 如果 A 选择合并权值 $4,6$，序列变为 $10,3$。若 B 选择权值 $10$，则 A 能得到的权值为 $3$。

在所有情况下 B 均能以最优策略取得更高的权值，故 A 无法胜利。

样例二解释如下：

如果 A 选择权值 $2$，则 B 能得到的权值为 $1$。

因此 A 有必胜策略。


---

---
title: "[NOIP 2010 普及组] 三国游戏"
layout: "post"
diff: 普及/提高-
pid: P1199
tag: ['贪心', '博弈论', '2010', 'NOIP 普及组']
---
# [NOIP 2010 普及组] 三国游戏
## 题目描述

小涵很喜欢电脑游戏，这些天他正在玩一个叫做《三国》的游戏。

在游戏中，小涵和计算机各执一方，组建各自的军队进行对战。游戏中共有 $N$ 位武将（$N$ 为偶数且不小于 $4$），任意两个武将之间有一个“默契值”，表示若此两位武将作为一对组合作战时，该组合的威力有多大。游戏开始前，所有武将都是自由的（称为自由武将，一旦某个自由武将被选中作为某方军队的一员，那么他就不再是自由武将了），换句话说，所谓的自由武将不属于任何一方。

游戏开始，小涵和计算机要从自由武将中挑选武将组成自己的军队，规则如下：小涵先从自由武将中选出一个加入自己的军队，然后计算机也从自由武将中选出一个加入计算机方的军队。接下来一直按照“小涵 $\to$ 计算机 $\to$ 小涵 $\to\dots$ ”的顺序选择武将，直到所有的武将被双方均分完。然后，程序自动从双方军队中各挑出一对默契值最高的武将组合代表自己的军队进行二对二比武，拥有更高默契值的一对武将组合获胜，表示两军交战，拥有获胜武将组合的一方获胜。

已知计算机一方选择武将的原则是尽量破坏对手下一步将形成的最强组合，它采取的具体策略如下：任何时刻，轮到计算机挑选时，它会尝试将对手军队中的每个武将与当前每个自由武将进行一一配对，找出所有配对中默契值最高的那对武将组合，并将该组合中的自由武将选入自己的军队。 下面举例说明计算机的选将策略，例如，游戏中一共有$6$个武将，他们相互之间的默契值如下表所示：

| 武将编号 |  1   |  2   |  3   |  4   |  5   |  6   |
| :------: | :--: | :--: | :--: | :--: | :--: | :--: |
|  **1**   |      | $5$  | $28$ | $16$ | $29$ | $27$ |
|  **2**   | $5$  |      | $23$ | $3$  | $20$ | $1$  |
|  **3**   | $28$ | $23$ |      | $8$  | $32$ | $26$ |
|  **4**   | $16$ | $3$  | $8$  |      | $33$ | $11$ |
|  **5**   | $29$ | $20$ | $32$ | $33$ |      | $12$ |
|  **6**   | $27$ | $1$  | $26$ | $11$ | $12$ |      |

双方选将过程如下所示：

|        | 小涵 | 轮到计算机时可选的自由武将 |  计算机    |  计算机选将说明    |
| :----: | :--: | :----------: | :--: | :--: |
| 第一轮 | $5$ | $1,2,3,4,6$ | $\color{magenta}4$ | 小涵手中的 $5$ 号武将与 $4$ 号的默契值最高，所以计算机选择 $4$ 号。 |
| 第二轮 | $5,3$ | $1,2,6$ | $4,\color{magenta}1$ |  小涵手中的 $5$ 号和 $3$ 号武将与自由武将中配对可产生的最大默契值为 $29$，是由 $5$ 号与 $1$ 号配对产生的，所以计算机选择 $1$ 号。  |
| 第三轮 | $5,3,6$ | $2$ | $4,1,\color{magenta}2$ |      |

小涵想知道，如果计算机在一局游戏中始终坚持上面这个策略，那么自己有没有可能必胜？如果有，在所有可能的胜利结局中，自己那对用于比武的武将组合的默契值最大是多少？  

假设整个游戏过程中，对战双方任何时候均能看到自由武将队中的武将和对方军队的武将。为了简化问题，保证对于不同的武将组合，其默契值均不相同。

## 输入格式

共 $N$ 行。

第一行为一个偶数 $N$，表示武将的个数。

第 $2$ 行到第 $N$ 行里，第 $i+1$ 行有 $N-i$ 个非负整数，每两个数之间用一个空格隔开，表示 $i$ 号武将和 $i+1,i+2,\dots,N $ 号武将之间的默契值（$0≤\text{默契值}\le10^9$）。

## 输出格式

共一或二行。

若对于给定的游戏输入，存在可以让小涵获胜的选将顺序，则输出 $ 1$，并另起一行输出所有获胜的情况中，小涵最终选出的武将组合的最大默契值。如果不存在可以让小涵获胜的选将顺序，则输出 $0$。

## 样例

### 样例输入 #1
```
6 
5 28 16 29 27 
23 3 20 1 
8 32 26 
33 11 
12 

```
### 样例输出 #1
```
1
32


```
### 样例输入 #2
```
8 
42 24 10 29 27 12 58 
31 8 16 26 80 6 
25 3 36 11 5 
33 20 17 13 
15 77 9 
4 50 
19 
```
### 样例输出 #2
```
1
77
```
## 提示

**数据范围**

对于 $ 40\%$ 的数据有 $N≤10$。

对于 $ 70\%$ 的数据有 $ N≤18$。

对于 $100\%$ 的数据有 $4\le N≤500$。保证对于不同的武将组合，其默契值均不相同。

NOIP2010 普及组 第四题


---

---
title: "肥猫的游戏"
layout: "post"
diff: 普及/提高-
pid: P1488
tag: ['博弈论']
---
# 肥猫的游戏
## 题目描述

野猫与胖子，合起来简称肥猫，是一个班的同学，他们也都是数学高手，所以经常在一起讨论数学问题也就不足为奇了。

一次，野猫遇到了一道有趣的几何游戏题目，便拿给胖子看。游戏要求在一个有 $n$ 个顶点凸多边形上进行，这个凸多边形的 $n-3$ 条对角线将多边形分成 $n-2$ 个三角形，这 $n-3$ 条对角线在多边形的顶点相交。三角形中的一个被染成黑色，其余是白色。

双方轮流进行游戏，当轮到一方时，他必须沿着画好的对角线，从多边形上切下一个三角形。切下黑色三角形的一方获胜。胖子一看觉得确实很有趣，不如就一起玩玩吧。假设游戏由野猫先开始，那么野猫是否有必胜的策略呢？请写一个程序帮助野猫算一算。
## 输入格式

第一行为一个整数 $n$，表示多边形的顶点数，多边形的顶点由 $0$ 至 $n-1$ 顺时针标号。

接着的 $n-2$ 行描述组成多边形的三角形。第 $i+1$ 行 $(1 \leq i \leq n-2)$ 有三个空格分隔的非负整数 $a$ 、$b$ 、$c$ ，它们是第 $i$ 个三角形的顶点编号。第一个给出的三角形是黑色的。
## 输出格式

只有一行，倘若野猫有必胜策略，输出 `JMcat Win`；否则，输出 `PZ Win`（注意大小写和空格）。

## 样例

### 样例输入 #1
```
6
0 1 2
2 4 3
4 2 0
0 5 4

```
### 样例输出 #1
```
JMcat Win

```
## 提示

$4 \leq n \leq 5 \times 10^4$。

如果连接一个多边形中任意两点的线段都完全包含于这个多边形，则称这个多边形为凸多边形。


---

---
title: "[USACO3.3] 游戏 A Game"
layout: "post"
diff: 普及/提高-
pid: P2734
tag: ['动态规划 DP', '博弈论', 'USACO']
---
# [USACO3.3] 游戏 A Game
## 题目背景

有如下一个双人游戏：$N (2 \leq N \leq 100)$ 个正整数的序列放在一个游戏平台上，游戏由玩家 $1$ 开始，两人轮流从序列的任意一端取一个数，取数后该数字被去掉并累加到本玩家的得分中，当数取尽时，游戏结束。以最终得分多者为胜。
## 题目描述

编一个执行最优策略的程序，最优策略就是使玩家在与最好的对手对弈时，能得到的在当前情况下最大的可能的总分的策略。你的程序要始终为第二位玩家执行最优策略。
## 输入格式

第一行: 正整数 $N$，表示序列中正整数的个数。

第二行至末尾: 用空格分隔的 $N$ 个正整数（大小为 $1-200$）。
## 输出格式

只有一行，用空格分隔的两个整数: 依次为玩家一和玩家二最终的得分。
## 样例

### 样例输入 #1
```
6 
4 7 2 9 5 2
```
### 样例输出 #1
```
18 11
```
## 提示

题目翻译来自 NOCOW。

USACO Training Section 3.3


---

---
title: "pb的游戏（1）"
layout: "post"
diff: 普及/提高-
pid: P3150
tag: ['博弈论']
---
# pb的游戏（1）
## 题目背景

有一天 pb 和 zs 玩游戏  你需要帮 zs 求出每局的胜败情况。

## 题目描述

游戏规则是这样的：

- 先手对给出的数进行分割，分割成两个正整数，之后接着后手选择留下两个数中的其中一个。两人轮流操作，直到一方无法操作，另一方胜利。

现在要你求出 $N$ 次游戏的胜败。

我们认为双方绝顶聪明。每局由 pb 先进行分割。如果 pb 存在必胜策略，输出 `pb wins`；否则输出 `zs wins`。

## 输入格式

第一行一个数 $N$，表示数据组数。

之后 $N$ 行，每行一个数 $M$，表示每局初始的数。

## 输出格式

共 $N$ 行，每行一串字符，表示游戏结果。

## 样例

### 样例输入 #1
```
5
1
3
7
20
5
```
### 样例输出 #1
```
zs wins
zs wins
zs wins
pb wins
zs wins

```
## 提示

对于全部数据，$1<N<50$，$1\le M\le 10^9$。



---

---
title: "Roy&October之取石子"
layout: "post"
diff: 普及/提高-
pid: P4018
tag: ['数学', '博弈论', '素数判断,质数,筛法']
---
# Roy&October之取石子
## 题目背景

Roy 和 October 两人在玩一个取石子的游戏。

## 题目描述

游戏规则是这样的：共有 $n$ 个石子，两人每次都只能取 $p^k$ 个（ $p$ 为质数，$k$ 为自然数，且 $p^k$ 小于等于当前剩余石子数），谁取走最后一个石子，谁就赢了。

现在 October 先取，问她有没有必胜策略。

若她有必胜策略，输出一行 `October wins!`；否则输出一行 `Roy wins!`。

## 输入格式

第一行一个正整数 $T$，表示测试点组数。

第 $2$ 行$\sim$ 第 $T+1$ 行，一行一个正整数 $n$，表示石子个数。

## 输出格式

$T$ 行，每行分别为 `October wins!` 或 `Roy wins!`。

## 样例

### 样例输入 #1
```
3
4
9
14
```
### 样例输出 #1
```
October wins!
October wins!
October wins!
```
## 提示

对于 $30\%$ 的数据，$1\leq n\leq 30$；

对于 $60\%$ 的数据，$1\leq n\leq 10^6$；

对于 $100\%$ 的数据，$1\leq n\leq 5\times 10^7$, $1\leq T\leq 10^5$。

（改编题）



---

---
title: "Roy&October之取石子II"
layout: "post"
diff: 普及/提高-
pid: P4860
tag: ['博弈论']
---
# Roy&October之取石子II
## 题目背景

Roy 和 October 两人在玩另一个取石子的游戏。（第一季请看 P4018）
## 题目描述

游戏规则是这样的：共有 $n$ 个石子，两人每次都只能取 $p^k$ 个（$p$ 为质数，$k=0$ 或 $1$，且 $p^k$ 小于等于当前剩余石子数），谁取走最后一个石子，谁就赢了。

现在 October 先取，问她有没有必胜策略。

若她有必胜策略，输出一行 `October wins!` ；否则输出一行 `Roy wins!`。
## 输入格式

第一行一个正整数 $T$，表示测试点组数。

第 $2$ 行到第 $T+1$ 行，一行一个正整数 $n$，表示石子个数。
## 输出格式

$T$ 行，每行分别为 `October wins!` 或 `Roy wins!`。

## 样例

### 样例输入 #1
```
3
5
7
14
```
### 样例输出 #1
```
October wins!
October wins!
October wins!
```
## 提示

对于 $30\%$ 的数据，$1 \le n \le 30$；

对于 $60\%$ 的数据，$1 \le n \le 10^6$；

对于 $100\%$ 的数据，$1 \le n \le 5 \times 10^7，1 \le T \le 10^5$。

花絮：由于出题人懒得造数据，就把 P4018 的输入直接拿来了 ovo


---

---
title: "[DMOI-R1] 柯基棋"
layout: "post"
diff: 普及/提高-
pid: P8887
tag: ['模拟', '博弈论', '洛谷原创', 'O2优化']
---
# [DMOI-R1] 柯基棋
## 题目背景

小 A 和小 B 都是爱狗人士，且绝顶聪明，尤其喜爱柯基，于是他们发明了“柯基棋”。
## 题目描述

小 A 和小 B 在一个 $n \times n$ 的棋盘内轮流下棋。小 A 先手，小 B 后手。设当前有一只“柯基”被下在了棋盘的 $(x,y)$ 处，那么棋盘内的 $(x-1,y-1)$，$(x-1,y+1)$，$(x+1,y-1)$，$(x+1,y+1)$ 处都会变为这只“柯基”的地盘，也就不能再放一只“柯基”。当一个人不能再放下一只“柯基”时，他就输了。

可惜，小 C 却不怎么喜欢柯基，所以他很反对小 A 和小 B 玩“柯基”棋，于是他非常喜欢捣乱棋局。当小 A 和小 B 一共下了 $x_i$ 只“柯基”时，小 C 就会以当前 $w \times w$ 棋盘的中心为中心，扩大棋盘为 $(w+2) \times (w+2)$，他一共会捣乱 $q$ 次。

而你的任务是要判断这局棋是小 A 赢还是小 B 赢，如果小 A  赢，输出 `A won`，否则输出 `B won`。

由于他们两个人比较贪玩，所以他们一共会玩 $T$ 局。

**注意**：

1. 当小 A 和小 B 已经将原来的棋盘下到不能再下时，他们会直接跳转到小 C 下一次的捣乱（如果有）。

2. 小 A 和小 B 知道小 C 会捣乱，且会按照自己的最优策略走。

由于数据过大，$x_i$ 由数据随机生成器给出。
## 输入格式

第一行一个正整数 $T$，表示 $T$ 组数据。

每组数据一行三个正整数 $n,q,seed$，其中 $seed$ 的作用见提示说明。
## 输出格式

共 $T$ 行，每一行输出一个字符串 `A won` 或 `B won`。
## 样例

### 样例输入 #1
```
3
2 5 493
3 8 3219
8 4 1294
```
### 样例输出 #1
```
B won
A won
B won
```
## 提示

### 随机数据生成器

每一轮游戏的 $x_i$ 由下方的生成器给出：

```cpp
unsigned long long x[10000005];
unsigned long long xor_shift(unsigned long long &seed){
  return seed^=seed>>12, seed^=seed<<25, seed^=seed>>27, seed*0x2545F4914F6CDD1D;
}
int main(){
  //your code here
  int n,q;
  unsigned long long seed;
  cin>>n>>q>>seed;
  for(int i=1;i<=q;i++){
	x[i]=x[i-1]+((xor_shift(seed)%(unsigned long long)(2*2)+1))*2;
  }
  //your code here
  return 0;
}
```

### 样例解释

对于第一局游戏，$x_i$ 数组如下：`6 8 16 18 22`。

对于第二局游戏，$x_i$ 数组如下：`8 14 16 24 32 36 38 40`。

对于第三局游戏，$x_i$ 数组如下：`4 8 10 16`。

### 数据范围

对于 $20\%$ 的数据，$n,q\leq100$。

对于 $50\%$ 的数据，$n,q\leq10000$。

对于 $100\%$ 的数据，$1 \le T \le 10,2\leq n,q,\sum q \leq 10^7$，$x_i \equiv 0 \pmod 2\ (i\in[1,q]),0 \le seed \le 10^7$。



---


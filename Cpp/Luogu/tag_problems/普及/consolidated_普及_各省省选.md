---
title: "[JSOI2008] 完美的对称"
layout: "post"
diff: 普及/提高-
pid: P1227
tag: ['模拟', '数学', '2008', '各省省选', '江苏', '排序']
---
# [JSOI2008] 完美的对称
## 题目描述

在峰会期间，必须使用许多保镖保卫参加会议的各国代表。代表们除了由他自己的随身保镖保护外，组委会还指派了一些其他的特工和阻击手保护他们。为了使他们的工作卓有成效，使被保卫的人的安全尽可能得到保障，保镖被分配到被保护人的各个方向。

保镖的最佳站立位置应该是这样的：被保护人应站在所有保镖的对称中心。但是，只要被保护人一移动，保镖就很难根据要人的新位置调整位置。大多数的特工都很难对此作出实时调整。

因此，安全部长决定将该过程逆转一下，保镖先站好自己的位置，然后要人在他们的对称中心找到合适的位置。如果要人随便走动，我们就对他的安全不必负责。

你的工作是使这个过程自动操作。给出一组 $N$ 个点（保镖的位置），你要找出它们的对称中心 $S$，在这儿被保护人将相对安全。下面以此类推。

首先我们给定一点 $A$ 以及对称中心 $S$，点 $A'$ 是点 $A$ 以 $S$ 为对称中心形成的像点，即点 $S$ 是线段 $AA'$ 的对称中心。

点阵组（$X$）以 $S$ 为中心的像点是由每个点的像点组成的点阵组。$X$ 是用来产生对称中心 $S$ 的，即点阵 $X$ 以 $S$ 为中心的像点的集合即为点阵 $X$ 本身。

![](https://cdn.luogu.com.cn/upload/image_hosting/trym53o8.png)

## 输入格式

输入文件第一行是一个整数 $N$，$1\le N\le 20000$，接下来的 $N$ 行每行包含用空格隔开的两个整数 $X_i$ 和 $Y_i$，$-10^5\le X_i,Y_i\le 10^5$，表示这组点阵中第 $i$ 个点的笛卡尔坐标值。


因为任何两个保镖都不会站在同一个位置上，所以在给定的作业中，任何两点都不相同。但注意保镖可以站在被保护人相同的位置。

## 输出格式

输出文件仅有一行。如果给定的点阵能产生一个对称中心，则输出 $\texttt{V.I.P.  should  stay  at (}x\texttt{,}y\texttt{).}$，其中 $x$ 和 $y$ 代表中心的笛卡尔坐标值，格式为四舍五入保留至小数点后一位。


如果该组点阵无对称中心，输出 `This is a dangerous situation!`，注意输出时除了两个单词之间用一个空格隔开外，不要输出多余空格。

## 样例

### 样例输入 #1
```
8

1 10

3 6

6 8

6 2

3 -4

1 0

-2 -2

-2 4


```
### 样例输出 #1
```
V.I.P. should stay at (2.0,3.0).
```
## 提示

JSOI2008 第二轮。



---

---
title: "[SHOI2002] 滑雪"
layout: "post"
diff: 普及/提高-
pid: P1434
tag: ['动态规划 DP', '搜索', '2002', '各省省选', '递归', '上海', '记忆化搜索']
---
# [SHOI2002] 滑雪
## 题目描述

Michael 喜欢滑雪。这并不奇怪，因为滑雪的确很刺激。可是为了获得速度，滑的区域必须向下倾斜，而且当你滑到坡底，你不得不再次走上坡或者等待升降机来载你。Michael 想知道在一个区域中最长的滑坡。区域由一个二维数组给出。数组的每个数字代表点的高度。下面是一个例子：
```plain
1   2   3   4   5
16  17  18  19  6
15  24  25  20  7
14  23  22  21  8
13  12  11  10  9
```
一个人可以从某个点滑向上下左右相邻四个点之一，当且仅当高度会减小。在上面的例子中，一条可行的滑坡为 $24-17-16-1$（从 $24$ 开始，在 $1$ 结束）。当然    $25$－$24$－$23$－$\ldots$－$3$－$2$－$1$ 更长。事实上，这是最长的一条。
## 输入格式

输入的第一行为表示区域的二维数组的行数 $R$ 和列数 $C$。下面是 $R$ 行，每行有 $C$ 个数，代表高度(两个数字之间用 $1$ 个空格间隔)。
## 输出格式

输出区域中最长滑坡的长度。
## 样例

### 样例输入 #1
```
5 5
1 2 3 4 5
16 17 18 19 6
15 24 25 20 7
14 23 22 21 8
13 12 11 10 9

```
### 样例输出 #1
```
25
```
## 提示

对于 $100\%$ 的数据，$1\leq R,C\leq 100$。


---

---
title: "[AHOI2009] 飞行棋"
layout: "post"
diff: 普及/提高-
pid: P2165
tag: ['数学', '2009', '各省省选', '安徽']
---
# [AHOI2009] 飞行棋
## 题目描述

给出圆周上的若干个点，已知点与点之间的弧长，其值均为正整数，并依圆周顺序排列。请找出这些点中有没有可以围成矩形的，并希望在最短时间内找出所有不重复矩形。
## 输入格式

第一行为正整数 $N$，表示点的个数，接下来 $N$ 行分别为这 $N$ 个点所分割的各个圆弧长度。
## 输出格式

所构成不重复矩形的个数。
## 样例

### 样例输入 #1
```
8
1
2
2
3
1
1
3
3

```
### 样例输出 #1
```
3
```
## 提示

$N \le 20$。

![](https://cdn.luogu.com.cn/upload/pic/13233.png)



---

---
title: "[HAOI2012] 容易题"
layout: "post"
diff: 普及/提高-
pid: P2220
tag: ['数学', '2012', '河南', '各省省选', '离散化']
---
# [HAOI2012] 容易题
## 题目描述

有一个长度为 $m$ 的正整数数列 $A$，满足 $\forall i \in A, i \in [1, n]$。

现在给定一些限制（$A_x$ 不能为 $y$）。设数列 $A$ 的积为 $\prod A$，求所有可能数列的积相加起来的和。

换言之，令 $S$ 为所有可能的数列情况 $\{A, A', \ldots\}$，求

$$ \sum_{T \in S} \prod T $$

答案对 $10 ^ 9 + 7$ 取模。
## 输入格式

第一行三个正整数 $n, m, k$。$n, m$ 如题目所示，$k$ 表示限制的条数。

接下来 $k$ 行，每行两个正整数 $x, y$ 表示限制 $A_x \neq y$。

## 输出格式

一行一个正整数表示答案。

如果没有任何合法数列，输出 $0$。

## 样例

### 样例输入 #1
```
3 4 5

1 1

1 1

2 2

2 3

4 3


```
### 样例输出 #1
```
90
```
## 提示

### 样例解释 #1

$A_1$ 不能取 $1$，$A_2$ 不能取 $2, 3$，$A_4$ 不能取 $3$，所以可能的数列有以下 $12$ 种：

| 数列 | 积 |
| :-: | :-: |
| $\{2,   1,   1,   1\}$           | $2$ |
| $\{2,   1,   1,   2\}$           | $4$ |
| $\{2,   1,   2,   1\}$           | $4$ |
| $\{2,   1,   2,   2\}$           | $8$ |
| $\{2,   1,   3,   1\}$           | $6$ |
| $\{2,   1,   3,   2\}$           | $12$ |
| $\{3,   1,   1,   1\}$           | $3$ |
| $\{3,   1,   1,   2\}$           | $6$ |
| $\{3,   1,   2,   1\}$           | $6$ |
| $\{3,   1,   2,   2\}$           | $12$ |
| $\{3,   1,   3,   1\}$           | $9$ |
| $\{3,   1,   3,   2\}$           | $18$ |


### 数据范围

对于 $30\%$ 的数据，$n \leq 4$，$m \leq 10$，$k \leq 10$。

对于另外 $20\%$ 的数据，$k = 0$。

对于 $70\%$ 的数据，$n, m, k \leq 1000$。

对于 $100\%$ 的数据，$1\leq n, m \leq 10^9$，$0\leq k \leq 10^5$，$1 \leq x \leq m$，$1 \leq y \leq n$。


---

---
title: "[HNOI2002] 营业额统计"
layout: "post"
diff: 普及/提高-
pid: P2234
tag: ['2002', '各省省选', '平衡树', '湖南']
---
# [HNOI2002] 营业额统计
## 题目描述

Tiger 最近被公司升任为营业部经理，他上任后接受公司交给的第一项任务便是统计并分析公司成立以来的营业情况。

Tiger 拿出了公司的账本，账本上记录了公司成立以来每天的营业额。分析营业情况是一项相当复杂的工作。由于节假日，大减价或者是其他情况的时候，营业额会出现一定的波动，当然一定的波动是能够接受的，但是在某些时候营业额突变得很高或是很低，这就证明公司此时的经营状况出现了问题。经济管理学上定义了一种最小波动值来衡量这种情况：当最小波动值越大时，就说明营业情况越不稳定。

而分析整个公司的从成立到现在营业情况是否稳定，只需要把每一天的最小波动值加起来就可以了。你的任务就是编写一个程序帮助 Tiger 来计算这一个值。

我们定义，一天的最小波动值 = $\min\{|\text{该天以前某一天的营业额}-\text{该天营业额}|\}$。

特别地，第一天的最小波动值为第一天的营业额。
## 输入格式

第一行为正整数 $n$（$n \leq 32767$） ，表示该公司从成立一直到现在的天数，接下来的 $n$ 行每行有一个整数 $a_i$（$|a_i| \leq 10^6$) ，表示第 $i$ 天公司的营业额，可能存在负数。
## 输出格式

输出一个正整数，即每一天最小波动值的和，保证结果小于 $2^{31}$。
## 样例

### 样例输入 #1
```
6
5
1
2
5
4
6

```
### 样例输出 #1
```
12
```
## 提示

结果说明：$5+|1-5|+|2-1|+|5-5|+|4-5|+|6-5|=5+4+1+0+1+1=12$



---

---
title: "[HNOI2002] DNA分子的最佳比对"
layout: "post"
diff: 普及/提高-
pid: P2268
tag: ['2002', '各省省选', '湖南']
---
# [HNOI2002] DNA分子的最佳比对
## 题目描述

$\operatorname{DNA}$ 分子是人类遗传信息的载体，它间接地指导蛋白质的合成。$\operatorname{DNA}$ 分子是由四种核苷酸组成的长链，这四种核苷酸分别是腺嘌呤核苷酸（用 $\operatorname{A}$ 代表）、鸟嘌呤核苷酸（用 $\operatorname{G}$ 代表）、胞嘧啶核苷酸（用 $\operatorname{C}$ 代表）和胸腺嘧啶核苷酸（用 $\operatorname{T}$ 代表）。习惯上用一个字符集为 $\{\operatorname{A,T,C,G}\}$ 的字符串来表示一个 $\operatorname{DNA}$ 分子序列，如 $\operatorname{CGTTAGA}$ 。

在生物进化过程中， $\operatorname{DNA}$ 分子可能发生各种各样的突变。这种突变形成了生物遗传信息的改变，从而使生物得以分化，构成了生物的多样性。

主要的突变有三种：

1. 在一个 $\operatorname{DNA}$ 序列中插入一个新的核苷酸，

2.  $\operatorname{DNA}$ 序列中丢失了一个核苷酸，

3.  $\operatorname{DNA}$ 序列中的某个核苷酸被另一个核苷酸所取代。

所谓两个 $\operatorname{DNA}$ 序列的一个比对是寻找一种排列方式，使得两个 $\operatorname{DNA}$ 序列在同样的位置上有相同的核苷酸，而若在同样的位置上两个DNA序列的核苷酸不同，则是由三种突变之一得到。例如，对两个 $\operatorname{DNA}$ 序列 $T_1 =\operatorname{ATCAG}$ ， $T_2 =\operatorname{ACTAG}$ ，可以按如下方式比对，（ $-$ 表示空白）

比对一：

| $T_1$ | $T_2$ |
| :----------- | :----------- |
| $A$ | $A$ |
| $T$ | $-$ |
| $C$ | $C$ |
| $-$ | $T$ |
| $A$ | $A$ |
| $G$ | $G$ |

也可以按如下方式比对

比对二：

| $T_1$ | $T_2$ |
| :----------- | :----------- |
| $A$ | $A$ |
| $T$ | $C$ |
| $C$ | $T$ |
| $A$ | $A$ |
| $G$ | $G$ |

如果两个 $\operatorname{DNA}$ 序列在相同的位置上有越多相同的核苷酸对，则表明它们之间越相似，即它们存在功能上的相似性和进化史上的亲缘关系。

对于两个 $\operatorname{DNA}$ 序列的一个比对，规定如下得分方式：

1. 一个同样的位置上有相同的核苷酸对，则可得 $1$ 分；

2. 一个同样的位置上有不同的核苷酸对，则得 $0$ 分；

3. 如果在某个位置上一个序列有核苷酸，而另一个序列在该位置上为 $-$，则得 $-2$ 分。例如，比对一的得分是 $0$ 分，比对二的得分是 $3$ 分。

问题是：对于两个 $\operatorname{DNA}$ 序列，寻找一种比对方式，使得它们的得分最高。
## 输入格式

输入数据共有两行。

第一行为 $\text{DNA}$ 序列 $T _ 1$，第二行为 $\text{DNA}$ 序列 $T _ 2$。序列的长度不大于 $1000$。序列中的字母是英文小写或者大写字母。

## 输出格式

程序运行结束时，在屏幕上输出所找出的最大的得分。

## 样例

### 样例输入 #1
```
Atcag
Actag

```
### 样例输出 #1
```
3
```


---

---
title: "[HNOI2003] 激光炸弹"
layout: "post"
diff: 普及/提高-
pid: P2280
tag: ['动态规划 DP', '2003', '各省省选', '湖南', '枚举', '前缀和']
---
# [HNOI2003] 激光炸弹
## 题目描述

一种新型的激光炸弹，可以摧毁一个边长为 $m$ 的正方形内的所有目标。现在地图上有 $n$ 个目标，用整数 $x_i$ , $y_i$ 表示目标在地图上的位置，每个目标都有一个价值 $v_i$。激光炸弹的投放是通过卫星定位的，但其有一个缺点，就是其爆破范围，即那个边长为 $m$ 的边必须与 $x$ 轴，$y$ 轴平行。若目标位于爆破正方形的边上，该目标不会被摧毁。

现在你的任务是计算一颗炸弹最多能炸掉地图上总价值为多少的目标。

可能存在多个目标在同一位置上的情况。
## 输入格式

输入的第一行为整数 $n$ 和整数 $m$；

接下来的 $n$ 行，每行有 $3$ 个整数 $x, y, v$，表示一个目标的坐标与价值。
## 输出格式

输出仅有一个正整数，表示一颗炸弹最多能炸掉地图上总价值为多少的目标（结果不会超过 $32767$ ）。
## 样例

### 样例输入 #1
```
2 1
0 0 1
1 1 1

```
### 样例输出 #1
```
1
```
## 提示

**数据规模与约定**

- 对于 $100\%$ 的数据，保证 $1 \le n \le 10^4$，$0 \le x_i ,y_i \le 5\times 10^3$，$1 \le m \le 5\times 10^3$，$1 \le v_i < 100$。


---

---
title: "[HNOI2004] 打鼹鼠"
layout: "post"
diff: 普及/提高-
pid: P2285
tag: ['动态规划 DP', '递推', '2004', '各省省选', '湖南', '最短路']
---
# [HNOI2004] 打鼹鼠
## 题目描述

鼹鼠是一种很喜欢挖洞的动物，但每过一定的时间，它还是喜欢把头探出到地面上来透透气的。根据这个特点阿牛编写了一个打鼹鼠的游戏：在一个 $n \times n$ 的网格中，在某些时刻鼹鼠会在某一个网格探出头来透透气。你可以控制一个机器人来打鼹鼠，如果 $i$ 时刻鼹鼠在某个网格中出现，而机器人也处于同一网格的话，那么这个鼹鼠就会被机器人打死。而机器人每一时刻只能够移动一格或停留在原地不动。机器人的移动是指从当前所处的网格移向相邻的网格，即从坐标为 $(i, j)$ 的网格移向 $(i-1, j), (i+1, j), (i, j-1), (i, j+1)$ 四个网格，机器人不能走出整个 $n \times n$ 的网格。游戏开始时，你可以自由选定机器人的初始位置。

现在知道在一段时间内，鼹鼠出现的时间和地点，请编写一个程序使机器人在这一段时间内打死尽可能多的鼹鼠。

## 输入格式

第一行为 $n, m$（$n \le 1000$，$m \le {10}^4$），其中 $m$ 表示在这一段时间内出现的鼹鼠的个数，接下来的 $m$ 行中每行有三个数据 $\mathit{time}, x, y$ 表示在游戏开始后 $\mathit{time}$ 个时刻，在第 $x$ 行第 $y$ 个网格里出现了一只鼹鼠。$\mathit{time}$ 按递增的顺序给出。注意同一时刻可能出现多只鼹鼠，但同一时刻同一地点只可能出现一只鼹鼠。
## 输出格式

仅包含一个正整数，表示被打死鼹鼠的最大数目。
## 样例

### 样例输入 #1
```
2 2	         

1 1 1		

2 2 2


```
### 样例输出 #1
```
1

```


---

---
title: "[HNOI2005] 汤姆的游戏"
layout: "post"
diff: 普及/提高-
pid: P2313
tag: ['计算几何', '2005', '各省省选', '湖南', '枚举']
---
# [HNOI2005] 汤姆的游戏
## 题目描述

汤姆是个好动的孩子,今天他突然对圆规和直尺来了兴趣。于是他开始在一张很大很大的白纸上画很多很多的矩形和圆。画着画着,一不小心将他的爆米花弄撒了,于是白纸上就多了好多好多的爆米花。汤姆发现爆米花在白纸上看起来就像一个个点,有些点落在矩形或圆内部,而有些则在外面。于是汤姆开始数每个点在多少个矩形或圆内部。毕竟汤姆还只是个孩子,而且点、矩形和圆又非常多。所以汤姆数了好一会都数不清,于是就向聪明的你求助了。你的任务是：在给定平面上N个图形(矩形或圆)以及M个点后，请你求出每个点在多少个矩形或圆内部(这里假设矩形的边都平行于坐标轴)。

## 输入格式

从文件input.txt中读入数据，文件第一行为两个正整数N和M，其中N表示有多少个图形(矩形或圆)，M表示有多少个点。接下来的N行是对每个图形的描述，具体来说，第i+1行表示第i个图形。先是一个字母,若该字母为“r”，则表示该图形是一个矩形,这时后面将有4个实数x1,y1,x2,y2，表示该矩形的一对对角顶点的坐标分别为(x1,y1)和(x2,y2)；若该字母为“c”，则表示该图形是一个圆,这时后面将有3个实数x,y,r,表示该圆以(x,y)为圆心并以r为半径。最后M行是对每个点的描述，其中每行将有两个实数x,y,表示一个坐标为(x,y)的点。

## 输出格式

输出文件output.txt中包含M行,每行是一个整数,其中第i行的整数表示第i个点在多少个图形内部(当某点在一个图形的边界上时，我们认为该点不在这个图形的内部)。

## 样例

### 样例输入 #1
```
3 4 
r 1.015 0.750 5.000 4.000
c 6.000 5.000 2.020
r 6.500 7.200 7.800 9.200
3.500 2.500
4.995 3.990
2.300 8.150
6.900 8.000

```
### 样例输出 #1
```
1
2
0
1

```
## 提示

对于100%的数据，$N,M\le 500$



---

---
title: "[SCOI2005] 扫雷"
layout: "post"
diff: 普及/提高-
pid: P2327
tag: ['动态规划 DP', '递推', '2005', '四川', '各省省选']
---
# [SCOI2005] 扫雷
## 题目描述


相信大家都玩过扫雷的游戏。那是在一个 $n\times m$ 的矩阵里面有一些雷，要你根据一些信息找出雷来。万圣节到了，“余”人国流行起了一种简单的扫雷游戏，这个游戏规则和扫雷一样，如果某个格子没有雷，那么它里面的数字表示和它 $8$ 连通的格子里面雷的数目。现在棋盘是 $n\times 2$ 的，第一列里面某些格子是雷，而第二列没有雷，如下图：

![](https://cdn.luogu.com.cn/upload/pic/17825.png )

由于第一列的雷可能有多种方案满足第二列的数的限制，你的任务即根据第二列的信息确定第一列雷有多少种摆放方案。


## 输入格式


第一行为 $N$，第二行有 $N$ 个数，依次为第二列的格子中的数。（$1\le N\le10000$）
## 输出格式

一个数，即第一列中雷的摆放方案数。

## 样例

### 样例输入 #1
```
2
1  1
```
### 样例输出 #1
```
2
```


---

---
title: "[SCOI2005] 繁忙的都市"
layout: "post"
diff: 普及/提高-
pid: P2330
tag: ['图论', '2005', '四川', '并查集', '各省省选', '生成树']
---
# [SCOI2005] 繁忙的都市
## 题目描述

城市 C 是一个非常繁忙的大都市，城市中的道路十分的拥挤，于是市长决定对其中的道路进行改造。城市 C 的道路是这样分布的：城市中有 $n$ 个交叉路口，有些交叉路口之间有道路相连，两个交叉路口之间最多有一条道路相连接。这些道路是双向的，且把所有的交叉路口直接或间接的连接起来了。每条道路都有一个分值，分值越小表示这个道路越繁忙，越需要进行改造。但是市政府的资金有限，市长希望进行改造的道路越少越好，于是他提出下面的要求：

1. 改造的那些道路能够把所有的交叉路口直接或间接的连通起来。
1. 在满足要求 1 的情况下，改造的道路尽量少。
1. 在满足要求 1、2 的情况下，改造的那些道路中分值最大的道路分值尽量小。

任务：作为市规划局的你，应当作出最佳的决策，选择哪些道路应当被修建。
## 输入格式

第一行有两个整数 $n,m$ 表示城市有 $n$ 个交叉路口，$m$ 条道路。

接下来 $m$ 行是对每条道路的描述，$u, v, c$ 表示交叉路口 $u$ 和 $v$ 之间有道路相连，分值为 $c$。
## 输出格式

两个整数 $s, \mathit{max}$，表示你选出了几条道路，分值最大的那条道路的分值是多少。
## 样例

### 样例输入 #1
```
4 5
1 2 3
1 4 5
2 4 7
2 3 6
3 4 8

```
### 样例输出 #1
```
3 6
```
## 提示

### 数据范围及约定

对于全部数据，满足 $1\le n\le 300$，$1\le c\le 10^4$，$1 \le m \le 8000$。


---

---
title: "[SDOI2005] 位图"
layout: "post"
diff: 普及/提高-
pid: P2335
tag: ['2005', '各省省选', '山东']
---
# [SDOI2005] 位图
## 题目描述

现在我们给出一个 $n\ \times m$ 的单色位图，且该图中至少含有一个白色的像素。我们用 $(i,j)$ 来代表第 $i$ 行第 $j$ 列的像素，并且定义两点 $p_1=(i_1,j_1)$ 和 $p_2=(i_2,j_2)$ 之间的距离为：

$$d(p_1,p_2)=|i_1-i_2|+|j_1-j_2|$$

### 任务

请写一个程序，读入该位图，并对于每个像素，计算出离该像素最近的白色像素与它的距离。把结果输出。
## 输入格式

第一行包括两个用空格分开的整数 $n$ 和 $m$，$1 \le n \le 150$，$1 \le m \le 150$。

以下的 $n$ 行每行包括一个长度为 $m$ 的整数为 $0$ 或 $1$，在第 $i+1$ 行的第 $j$ 个字符如果为 $1$，那么表示像素 $(i,j)$ 为白的，否则为黑的。
## 输出格式

输出一个 $n\ \times m$ 的数表，其中的第 $i$ 行的第 $j$ 个数字为 $f(i,j)$ 表示像素 $(i,j)$ 到最近的白色像素的距离。
## 样例

### 样例输入 #1
```
3 4
0 0 0 1
0 0 1 1
0 1 1 0
```
### 样例输出 #1
```
3 2 1 0
2 1 0 0
1 0 0 1
```


---

---
title: "[SDOI2005] 区间"
layout: "post"
diff: 普及/提高-
pid: P2434
tag: ['动态规划 DP', '贪心', '2005', '线段树', '各省省选', '山东']
---
# [SDOI2005] 区间
## 题目描述

现给定 $n$ 个闭区间 $[a_i, b_i]$（$1 \le i \le n$）。这些区间的并可以表示为一些不相交的闭区间的并。你的任务就是在这些表示方式中找出包含最少区间的方案。你的输出应该按照区间的升序排列。这里如果说两个区间 $[a, b]$ 和 $[c, d]$ 是按照升序排列的，那么我们有 $a \le b < c \le d$。

请写一个程序：

读入这些区间；

计算满足给定条件的不相交闭区间；

把这些区间按照升序输出。
## 输入格式

第一行包含一个整数 $n$（$3 \le n \le 50000$）为区间的数目。  
以下 $n$ 行为对区间的描述，第 $i$ 行为对第 $i$ 个区间的描述，为两个整数 $a_i, b_i$（$1 \le a _ i \leq b _ i \le 1000000$），表示一个区间 $[a_i, b_i]$。
## 输出格式

输出计算出来的不相交的区间。每一行都是对一个区间的描述，包括两个用空格分开的整数，为区间的上下界。你应该把区间按照升序排序。
## 样例

### 样例输入 #1
```
5

5 6

1 4

10 10

6 9

8 10


```
### 样例输出 #1
```
1 4

5 10


```
## 提示

对于 $100 \%$ 的数据，$3 \le n \le 50000$，$1 \le a _ i \leq b _ i \le 1000000$。


---

---
title: "[SDOI2005] 矩形"
layout: "post"
diff: 普及/提高-
pid: P2449
tag: ['2005', '各省省选', '山东']
---
# [SDOI2005] 矩形
## 题目描述

现在我们在一个平面上画了n个矩形。每一个矩形的两边都与坐标轴相平行，且矩形定点的坐标均为整数。现我们定义满足如下性质的图形为一个块：

1.每一个矩形都是一个块；

2.如果两个块有一段公共的部分，那么这两个块就会形成一个新的块，否则这两个块就是不同的。

示例：

图1中的矩形形成了两个不同的块。图2中的矩形形成了一个块。

 ![](https://cdn.luogu.com.cn/upload/pic/1579.png) 

任务：

请写一个程序：

1.从文本文件PRO.IN中读入各个矩形的顶点坐标；

2.找出这些矩形中不同的块的数目；

3.把结果输出到文本文件PRO.OUT中。

## 输入格式

文本文件PRO.IN的第一行包括一个整数n，1  n  7000，为矩形的数目。以下的n行为矩形顶点的坐标。每一个矩形都是用四个整数来描述的：左下角的x坐标、左下角的y坐标、右上角的x坐标和右上角的y坐标。所有的坐标都是不大于10000的非负整数。

## 输出格式

在文本文件PRO.OUT中输出唯一的一个整数——这些矩形所形成的不同的块的数目。

## 样例

### 样例输入 #1
```
9

0 3 2 6

4 5 5 7

4 2 6 4

2 0 3 2

5 3 6 4

3 2 5 3

1 4 4 7

0 0 1 4

0 0 4 1


```
### 样例输出 #1
```
2
```


---

---
title: "[HAOI2006] 聪明的猴子"
layout: "post"
diff: 普及/提高-
pid: P2504
tag: ['图论', '2006', '河南', '各省省选', '生成树']
---
# [HAOI2006] 聪明的猴子
## 题目描述

在一个热带雨林中生存着一群猴子，它们以树上的果子为生。昨天下了一场大雨，现在雨过天晴，但整个雨林的地表还是被大水淹没着，部分植物的树冠露在水面上。猴子不会游泳，但跳跃能力比较强，它们仍然可以在露出水面的不同树冠上来回穿梭，以找到喜欢吃的果实。

现在，在这个地区露出水面的有 $N$ 棵树，假设每棵树本身的直径都很小，可以忽略不计。我们在这块区域上建立直角坐标系，则每一棵树的位置由其所对应的坐标表示(任意两棵树的坐标都不相同)。

在这个地区住着的猴子有 $M$ 个，下雨时，它们都躲到了茂密高大的树冠中，没有被大水冲走。由于各个猴子的年龄不同、身体素质不同，它们跳跃的能力不同。有的猴子跳跃的距离比较远(当然也可以跳到较近的树上)，而有些猴子跳跃的距离就比较近。这些猴子非常聪明，它们通过目测就可以准确地判断出自己能否跳到对面的树上。

现已知猴子的数量及每一个猴子的最大跳跃距离，还知道露出水面的每一棵树的坐标，你的任务是统计有多少个猴子可以在这个地区露出水面的所有树冠上觅食。

## 输入格式

输入包括：

第 $1$ 行为一个整数，表示猴子的个数 $M$ $(2 \le M \le 500)$；

第 $2$ 行为 $M$ 个整数，依次表示猴子的最大跳跃距离（每个整数值在 $1 \sim 1000$ 之间）；

第 $3$ 行为一个整数表示树的总棵数 $N$ $(2 \le N \le 1000)$ ；

第 $4$ 行至第 $N+3$ 行为 $N$ 棵树的坐标（横纵坐标均为整数，范围为：$-1000 \sim 1000$）。

（同一行的整数间用空格分开）

## 输出格式

输出包括一个整数，表示可以在这个地区的所有树冠上觅食的猴子数。
## 样例

### 样例输入 #1
```
4
 1 2 3 4
6
0 0
1 0
1 2
-1 -1
-2 0
2 2
```
### 样例输出 #1
```
3
```
## 提示

对于 $40\%$ 的数据，保证有 $2 \le N \le 100$，$1 \le M \le 100$

对于全部的数据，保证有 $2 \le N \le 1000$，$1 \le M \le500$

感谢 @charlie003 修正数据


---

---
title: "[HAOI2009] 逆序对数列"
layout: "post"
diff: 普及/提高-
pid: P2513
tag: ['动态规划 DP', '递推', '2009', '河南', '各省省选', '前缀和']
---
# [HAOI2009] 逆序对数列
## 题目描述

对于一个数列 $\{a_i\}$，如果有 $i<j$ 且 $a_i>a_j$，那么我们称 $a_i$ 与 $a_j$ 为一对逆序对数。若对于任意一个由 $1 \sim n$ 自然数组成的数列，可以很容易求出有多少个逆序对数。那么逆序对数为 $k$ 的这样自然数数列到底有多少个？
## 输入格式

第一行为两个整数n，k。

## 输出格式

写入一个整数，表示符合条件的数列个数，由于这个数可能很大，你只需输出该数对10000求余数后的结果。

## 样例

### 样例输入 #1
```
4 1
```
### 样例输出 #1
```
3
```
## 提示

样例说明：

下列3个数列逆序对数都为1；分别是1 2 4 3 ；1 3 2 4 ；2 1 3 4；

测试数据范围

30%的数据  $n\le 12$。

100%的数据  $n\le 1000$，$k\le 1000$。



---

---
title: "[AHOI2005] 矿藏编码"
layout: "post"
diff: 普及/提高-
pid: P2539
tag: ['2005', '各省省选', '安徽']
---
# [AHOI2005] 矿藏编码
## 题目描述

探险机器人在 Samuel 星球发现了一片广阔的矿藏区。在这个矿藏区中，有高耸的山峰，也有平坦的平地。为了方便考察，整个矿藏区被划分 个格子区域。

例如下图，就是一个 $K=2$ 即 $4 \times 4$ 的矿藏区：

 ![](https://cdn.luogu.com.cn/upload/pic/1646.png) 

其中黑色表示山峰，白色表示平地。

探险空间站已经将这片矿藏区的详细信息扫描并记录下来。由于矿藏区的面积实在太大，所以科学家们采用了一种特殊的编码方式记录。

- 如果这片矿藏区全部是平地，则编码为 `0`。
- 如果这片矿藏区全部是山峰，则编码为 `1`。
- 否则，将矿藏区均匀划分成 $4$ 份，如下 所示：
     ![](https://cdn.luogu.com.cn/upload/pic/1647.png) 

依次对每份进行编码，得 $S_1,S_2,S_3,S_4$。该矿藏区的编码 $S$ 为 $2S_1S_2S_3S_4$。
例如上图中，矿藏区的编码为：`2021010210001`。

小联希望你能根据给定的编码统计出这片矿藏区一共有多少格子区域是平地。

## 输入格式

第一行有一个整数K，表示有矿藏区的规模为 $K$（$1 < K < 50$）。

第二行有一串编码，由  `0`、`1` 组成，长度不超过 $200$，表示该矿藏区的编码。
## 输出格式

单行输出一个整数，表示矿藏区中一共有多少格子是平地。

## 样例

### 样例输入 #1
```
2
2021010210001
```
### 样例输出 #1
```
9
```


---

---
title: "[AHOI2004] 奇怪的字符串"
layout: "post"
diff: 普及/提高-
pid: P2543
tag: ['字符串', '2004', '各省省选', '安徽']
---
# [AHOI2004] 奇怪的字符串
## 题目描述

![](https://cdn.luogu.com.cn/upload/pic/1654.png)

## 输入格式

输入文件中包含两个字符串X和Y。当中两字符串非0即1。序列长度均小于9999。

## 输出格式

X和Y的最长公共子序列长度。

## 样例

### 样例输入 #1
```
01010101010 00000011111
```
### 样例输出 #1
```
6
```
### 样例输入 #2
```
01011 010010101111111111
```
### 样例输出 #2
```
5
```


---

---
title: "[AHOI2004] 实验基地"
layout: "post"
diff: 普及/提高-
pid: P2545
tag: ['2004', '各省省选', '安徽']
---
# [AHOI2004] 实验基地
## 题目描述

![](https://cdn.luogu.com.cn/upload/pic/1656.png)

## 输入格式

第一行有一个整数N(3<N<2000)，表示登陆地带的大小是2×N。随后的两行每一行有N个整数（其绝对值不超过10^6），表示对应的矩形土地的适用度评估值，各个整数之间用一个空格隔开。

## 输出格式

只有一行输出，为整数M，即所确定的实验基地的适用度。

## 样例

### 样例输入 #1
```
4
-1 2 -3 4
5 6 7 8
```
### 样例输出 #1
```
31
```


---

---
title: "[AHOI2001] 团体操队形"
layout: "post"
diff: 普及/提高-
pid: P2552
tag: ['模拟', '数学', '2001', '各省省选', '安徽']
---
# [AHOI2001] 团体操队形
## 题目描述

有 $n$ 个团体操队员编号分别为 $1\sim n$ 。其队形(分连续队形和梅花桩队形)可以按行排列或者按列排列，按行(列)排列时每行(列)有 $r$ 个位置。 

例1：$n=16$，$r=6$，连续队形按行排列。
|1|2|3|4|5|6|
|:-:|:-:|:-:|-|-|-|
|**7**|**8**|**9**|**10**|**11**|**12**|
|**13**|**14**|**15**|**16**|

例2：$n=16$，$r=3$，连续队形按列排列。
|  1  |  4  |  7  |  10  |  13  |16|
| :-: | :-: | :-: |  :-: |  :-: |- |
|**2**|**5**|**8**|**11**|**14**|
|**3**|**6**|**9**|**12**|**15**|

例3：$n=16$，$r=7$，梅花桩队形按行排列。
|  1   |      |  2   |      |  3   |      |  4   |
| :-:  | :-:  | :-:  | :-:  | :-:  | :-:  | :-:  |
|      |**5** |      |**6** |      |**7** |      |
|**8** |      | **9**|      |**10**|      |**11**|
|      |**12**|      |**13**|      |**14**|      |
|**15**|      |**16**|      |      |      |      |

例4：$n=16$，$r=5$，梅花桩队形按列排列。
|  1  |     |  6  |      |  11  |      |16 |
| :-: | :-: | :-: | :-:  | :-:  | :-:  |:-:|
|     |**4**|     |**9** |      |**14**|   |
|**2**|     |**7**|      |**12**|      |   |
|     |**5**|     |**10**|      |**15**|   |
|**3**|     |**8**|      |**13**|      |   |

现请你编写程序指出编号为 $m$ 的团体操队员所处位置的行号和列号。
## 输入格式

**本题有多组数据**  
第一行只有一个自然数 $k$ ，表明随后的 $k$ 行每行都是一组数据。  
接下来 $k$ 行，每行都有五个整数，分别表示队伍里的人数、队形代号（$1$表示连续队形，而$2$表示梅花桩队形）、排列方式（$1$表示按**行**排列，而$2$表示按**列**排列）、每行(列)的位置数、和询问位置的队员的编号

## 输出格式

输出 $2k$ 个整数，第 $i$ 对整数表示第 $i$ 组询问的行编号和列编号（不用换行）
## 样例

### 样例输入 #1
```
2
16 1 1 6 11
16 2 2 5 11
```
### 样例输出 #1
```
2 5 1 5
```


---

---
title: "[AHOI2002] 哈利·波特与魔法石"
layout: "post"
diff: 普及/提高-
pid: P2559
tag: ['2002', '各省省选', '安徽']
---
# [AHOI2002] 哈利·波特与魔法石
## 题目描述

![](https://cdn.luogu.com.cn/upload/pic/1681.png)

## 输入格式

文件中第一行有七个数，分别是 S1、 S2 、 …、 S7 ；第二行有两个数，依次分别是起点城市 i 和终点城市 j ；第三行有一个正整数 c ，c<=10000， 表示随后的 c 行中每行存放了一对能直接通达的城市的信息。 能直接通达的城市的信息由三个数组成， 依次分别是两个城市的编号和这两个城市之间的地形。城市的编号都是不超过 100 的正整

数， 但是各个城市的编号未必连续。 文件里同一行中相邻的两个数都是用一个空白字符隔开的。

## 输出格式

以一行的形式输出起点城市i 与终点城市 j 之间的最快路线所需要的时间。

## 样例

### 样例输入 #1
```
0 1 0 0 0 0 0
1 4
4
1 2 1
1 3 1
2 4 2
3 4 3
```
### 样例输出 #1
```
5
```


---

---
title: "[SDOI2007] 小组队列"
layout: "post"
diff: 普及/提高-
pid: P2776
tag: ['2007', '各省省选', '山东']
---
# [SDOI2007] 小组队列
## 题目背景

嘛，这道非常简单的给大家提供信心的省选题洛谷居然没有！

这么简单的题怎么可以没有！

给大家提升士气是义不容辞的责任！

所以我就来补一下啦..

值得一提的是，标程是我自己做的..

很渣，因为数据很水所以能 AC..

大神勿喷..

## 题目描述

有 $m$ 个小组， $n$ 个元素，每个元素属于且仅属于一个小组。


支持以下操作：


`push x`：使元素 `x` 进队，如果前边有 `x` 所属小组的元素，`x` 会排到自己小组最后一个元素的下一个位置，否则 `x` 排到整个队列最后的位置。

`pop`：出队，弹出队头并输出出队元素，出队的方式和普通队列相同，即排在前边的元素先出队。

## 输入格式

第一行有两个正整数 $n$, $m$，分别表示元素个数和小组个数，元素和小组均从 $0$ 开始编号。

接下来一行 $n$ 个非负整数 $A_i$，表示元素 $i$ 所在的小组。

接下来一行一个正整数 $T$ ，表示操作数。

接下来 $T$ 行，每行为一个操作。

## 输出格式

对于每个出队操作输出一行，为出队的元素。

## 样例

### 样例输入 #1
```
4 2
0 0 1 1
6
push 2
push 0
push 3
pop
pop
pop
```
### 样例输出 #1
```
2
3
0
```
## 提示

对于 $30\%$ 的数据，$1≤n≤100$，$1≤m≤10$，$T≤50$。

对于 $100\%$ 的数据，$1≤n≤100000$，$1≤m≤300$，$T≤100000$，输入保证操作合法。



---

---
title: "[HAOI2016] 食物链"
layout: "post"
diff: 普及/提高-
pid: P3183
tag: ['动态规划 DP', '搜索', '2016', '河南', '各省省选', '记忆化搜索']
---
# [HAOI2016] 食物链
## 题目描述

 ![](https://cdn.luogu.com.cn/upload/pic/13153.png) 

如图所示为某生态系统的食物网示意图，据图回答第 1 小题  
现在给你 $n$ 个物种和 $m$ 条能量流动关系，求其中的食物链条数。物种的名称为从 $1$ 到 $n$ 编号 $M$ 条能量流动关系形如 $a_1,b_1,a_2,b_2,a_3,b_3,\ldots,a_{m-1},b_{m-1},a_m,b_m$。其中 $a_i$ 和 $b_i$ 表示能量从物种 $a_i$ 流向物种 $b_i$，注意单独的一种孤立生物不算一条食物链。

## 输入格式

第一行两个整数 $n, m$，接下来 $m$ 行每行两个整数 $a_i$ 和 $b_i$ 描述 $m$ 条能量流动关系。
## 输出格式

一个整数即食物网中的食物链条数。
## 样例

### 样例输入 #1
```
10 16
1 2
1 4
1 10
2 3
2 5
4 3
4 5
4 8
6 5
7 6
7 9
8 5
9 8
10 6
10 7
10 9
```
### 样例输出 #1
```
9
```
## 提示

数据保证输入数据符合生物学特点，且不会有重复的能量流动关系出现，题目保证答案不会爆 `int`。

对于 $100 \%$ 的数据，$1 \leq N \leq 100000$，$0 \leq m \leq 200000$。


---

---
title: "[HNOI2008] 越狱"
layout: "post"
diff: 普及/提高-
pid: P3197
tag: ['数学', '2008', '各省省选', '湖南', 'O2优化', '组合数学', '容斥原理']
---
# [HNOI2008] 越狱
## 题目描述

监狱有 $n$ 个房间，每个房间关押一个犯人，有 $m$ 种宗教，每个犯人会信仰其中一种。如果相邻房间的犯人的宗教相同，就可能发生越狱，求有多少种状态可能发生越狱。

答案对 $100,003$ 取模。
## 输入格式

输入只有一行两个整数，分别代表宗教数 $m$ 和房间数 $n$。
## 输出格式

输出一行一个整数代表答案。
## 样例

### 样例输入 #1
```
2 3

```
### 样例输出 #1
```
6
```
## 提示

#### 样例输入输出 1 解释

| 状态编号 | 1 号房间 | 2 号房间 | 3 号房间 |
| :--------: | :--------: | :-------: | :--------: |
| 1 | 信仰 1 | 信仰 1 | 信仰 1 |
| 2 | 信仰 1 | 信仰 1 | 信仰 2 |
| 3 | 信仰 1 | 信仰 2 | 信仰 2 |
| 4 | 信仰 2 | 信仰 1 | 信仰 1 |
| 5 | 信仰 2 | 信仰 2 | 信仰 2 |
| 6 | 信仰 2 | 信仰 2 | 信仰 1 |

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 \le m \le 10^8$，$1 \le n \le 10^{12}$。


---

---
title: "[HAOI2014] 遥感监测"
layout: "post"
diff: 普及/提高-
pid: P3737
tag: ['数学', '贪心', '2014', '河南', '各省省选']
---
# [HAOI2014] 遥感监测
## 题目描述

外星人指的是地球以外的智慧生命。外星人长的是不是与地球上的人一样并不重要，但起码应该符合我们目前对生命基本形式的认识。比如，我们所知的任何生命都离不开液态水，并且都是基于化学元素碳（C）的有机分子组合成的复杂有机体。

ZDM 实验室的天文学家们已经执著地观测 ZDM-99 星球十多年了，这个被称为“战神”的红色星球让他们如此着迷。在过去的十多年中，他们经常有一些令人激动的发现。ZDM-99 星球表面有着明显的明暗变化。对这些明暗区域，天文学家们已经细致地研究了很多年，并且绘制出了较为详尽的地图，那些暗区是陆地，而亮区则是湖泊和海洋。他们一直坚信有水的地方，一定有生命的痕迹。

这天晚上的观测条件实在是空前的好，ZDM-99 星球也十分明亮，不时呈现出若干个激光点，天文学家们推定这些激光点极有可能存在地球以外的智慧生命。遗憾的是仅持续很短的一段时间，这些激光点就消失了。

ZDM 实验室的射电望远镜观测的区域有限，只可以遥感检测到一个半径为 $R$ 的圆形区域。为了能同时能检测到所有的激光点，ZDM 实验室需要要在一个水平的直线上尽快地安装多个的射电望远镜来。

不妨设，这条安放射电望远镜的水平直线为 X 轴，ZDM-99 星球激光点就处在 $P_1(x_1,y_1),P_1(x_1,y_1),\cdots,P_1(x_n,y_n)$（忽略 Z 坐标）

 ![](https://cdn.luogu.com.cn/upload/pic/5206.png) 

ZDM 实验室的天文学家们想知道，至少需要安装多少个射电望远镜才能检测到所有激光点。

## 输入格式

第 1 行，$N, R$ 分别表示激光点的个数和射电望远镜能检测到的半径。

第 $2$ 到 $N+1$ 行，$X_i,Y_i$ 表示 激光点的坐标位置。
## 输出格式

输出一行： 最少需要安装的射电望远镜数。

## 样例

### 样例输入 #1
```
3 2
1 2
-3 1
2 1

```
### 样例输出 #1
```
2
```
## 提示

$1≤R≤50$，$1≤N≤100$，$-1000≤ X_i,Y_i ≤ 1000$， $|Y_i| ≤ R$。

保证输入都是整数。


---

---
title: "[TJOI2007] 线段"
layout: "post"
diff: 普及/提高-
pid: P3842
tag: ['动态规划 DP', '2007', '各省省选', '最短路', '天津']
---
# [TJOI2007] 线段
## 题目描述

在一个 $n \times n$ 的平面上，在每一行中有一条线段，第 $i$ 行的线段的左端点是$(i, L_{i})$，右端点是$(i, R_{i})$。

你从 $(1,1)$ 点出发，要求沿途走过所有的线段，最终到达 $(n,n)$ 点，且所走的路程长度要尽量短。

更具体一些说，你在任何时候只能选择向下走一步（行数增加 $1$）、向左走一步（列数减少 $1$）或是向右走一步（列数增加 $1$）。当然，由于你不能向上行走，因此在从任何一行向下走到另一行的时候，你必须保证已经走完本行的那条线段。
## 输入格式

第一行有一个整数 $n$。

以下 $n$ 行，在第 $i$ 行（总第 $(i+1)$ 行）的两个整数表示 $L_i$ 和 $R_i$。

## 输出格式

仅包含一个整数，你选择的最短路程的长度。
## 样例

### 样例输入 #1
```
6
2 6
3 4
1 3
1 2
3 6
4 5
```
### 样例输出 #1
```
24
```
## 提示

我们选择的路线是

```
 (1, 1) (1, 6)
 (2, 6) (2, 3)
 (3, 3) (3, 1)
 (4, 1) (4, 2)
 (5, 2) (5, 6)
 (6, 6) (6, 4) (6, 6)
```
不难计算得到，路程的总长度是 $24$。 

对于 $100\%$ 的数据中，$n \le 2 \times 10^4$，$1 \le L_i \le R_i \le n$。


---

---
title: "[TJOI2007] 迷路"
layout: "post"
diff: 普及/提高-
pid: P3843
tag: ['2007', '各省省选', '天津']
---
# [TJOI2007] 迷路
## 题目背景

小 A 和小 B 在一个二维空间中迷路了，每个人在这个空间中都按照自己特定的路线行

走，由于他们的路线都是周期性的，因此你可以把这种路线理解为一种“轨道”：即一条封

闭的路线，路线的终点和起点重合，这样才能“周期”的行走。

## 题目描述

两个人行走的速度都是每秒一个单位距离，而且他们的路线都是平行于坐标轴的。基于

此，如果两个人无限的走下去，我们想知道他们每一秒相离最近的距离。（我们只考虑两人

在每秒行走后相离的距离，不考虑他们在这 1 秒内某个时刻的距离）

## 输入格式

输入文件中有两个相似的部分，分别描述小 A 和小 B 的行走轨道。在每一个部分中的

第一行有三个整数，sx、sy 和 m，前两个整数表示其初始位置，第三个整数表示轨道中折线

的数目，以下 m 行，每行有一个整数 d 和一个非空格字符 c，d 和 c 之间用一个空格隔开。

d 表示小 A 或小 B 沿坐标的正方向行走的距离，而 c 为’X’或’Y’，表示是 X 坐标轴还是 Y

坐标轴。输入数据保证在每一个部分中，我们从起点(sx, sy)开始，执行 m 次行走步骤后，一定能

回到起点，即这个轨道是封闭的。

## 输出格式

输出文件中只包含一个实数，精确到小数点后两位。表示能观测到的两个人的最近距离，

如果可能在某个时间两个人到达同一个点，则输出 0.00。

## 样例

### 样例输入 #1
```
0 0 4
-1 Y
-1 X
1 Y
1 X
1 0 4
-1 X
1 Y
1 X
-1 Y
```
### 样例输出 #1
```
1.00
```
## 提示

100%的数据中，对于任何 m 和 d，有 1 ≤ m, d ≤ 100，轨道的初始坐标的绝对值不超

过 2 000。



---

---
title: "[TJOI2007] 跳棋"
layout: "post"
diff: 普及/提高-
pid: P3848
tag: ['搜索', '2007', '各省省选', '递归', '深度优先搜索 DFS', '天津']
---
# [TJOI2007] 跳棋
## 题目背景

在一个n×n的棋盘上，布满了0和1，如图（a）所示（n=7），为叙述方便，将0用字母表示，如图（b）。

![](https://cdn.luogu.com.cn/upload/pic/6077.png)

## 题目描述

跳棋规则：

（1）从某个0格出发，可以向上，下，左，右4个方向连续越过若干个（至少1个）

1格而跳入下一个0格。如图（b）中从A出发，可跳到B，或者到E，但不能直接到K。在跳到B之后还可以继续跳到F;在跳到E之后可继续跳到F或K。直到不能再跳为止。

（2）每个0格只能到达一次，给出的起始点不能再到达，也不能越过。

跳过的距离为跳过1格个数加1，如从A到B，跳过距离为3，从B到F，跳过距离为2。

问   题： 当棋盘和起始点给出之后，问最远能跳的距离是多少？

如上图（b）中，从A出发，可跳过的路线不止一条，其中一条为：

A － B － F － L － K － E  （可能不唯一）

3    2    3    3     3

它的距离为14。

## 输入格式

第一行三个整数  n（1≤n≤100），x，y（起点坐标，上图（b）中A处坐标为1，3）

接下来n行，每行n个数（0或1），数与数之间用一个空格分隔。

## 输出格式

一个整数，即最大可跳距离（若不能跳，输出0）。

## 样例

### 样例输入 #1
```
4  3  2
1  0  1  0 
1  1  1  1
0  0  1  0
1  1  0  1
```
### 样例输出 #1
```
6
```
## 提示

$\text{upd 2022.7.27}$：新增加一组 Hack 数据。


---

---
title: "[TJOI2007] 路标设置"
layout: "post"
diff: 普及/提高-
pid: P3853
tag: ['模拟', '搜索', '2007', '二分', '各省省选', '天津']
---
# [TJOI2007] 路标设置
## 题目背景

B 市和 T 市之间有一条长长的高速公路，这条公路的某些地方设有路标，但是大家都感觉路标设得太少了，相邻两个路标之间往往隔着相当长的一段距离。为了便于研究这个问题，我们把公路上相邻路标的最大距离定义为该公路的“空旷指数”。

## 题目描述

现在政府决定在公路上增设一些路标，使得公路的“空旷指数”最小。他们请求你设计一个程序计算能达到的最小值是多少。请注意，公路的起点和终点保证已设有路标，公路的长度为整数，并且原有路标和新设路标都必须距起点整数个单位距离。

## 输入格式

第 $1$ 行包括三个数 $L,N,K$，分别表示公路的长度，原有路标的数量，以及最多可增设的路标数量。


第 $2$ 行包括递增排列的 $N$ 个整数，分别表示原有的 $N$ 个路标的位置。路标的位置用距起点的距离表示，且一定位于区间 $[0,L]$ 内。

## 输出格式

输出 $1$ 行，包含一个整数，表示增设路标后能达到的最小“空旷指数”值。

## 样例

### 样例输入 #1
```
101 2 1
0 101
```
### 样例输出 #1
```
51
```
## 提示

公路原来只在起点和终点处有两个路标，现在允许新增一个路标，应该把新路标设在距起点 $50$ 或 $51$ 个单位距离处，这样能达到最小的空旷指数 $51$。

$50\%$ 的数据中，$2 \leq N \leq 100$，$0 \leq K \leq 100$。

$100\%$ 的数据中，$2 \leq N \leq 100000$, $0 \leq K \leq100000$。

$100\%$ 的数据中，$0 < L \leq 10000000$。


---

---
title: "[TJOI2008] 小偷"
layout: "post"
diff: 普及/提高-
pid: P3859
tag: ['2008', '各省省选', '天津']
---
# [TJOI2008] 小偷
## 题目背景

一位著名的小偷进入了一个充满宝石的储藏室，这个储藏室是由一连串房间构成的，房间的标号从 $0$ 开始，想进入第 $i$ 个房间就必须从第 $i-1$ 个房间进入，如图：

![](https://cdn.luogu.com.cn/upload/pic/6100.png)

## 题目描述

上图为三个房间的情况，黑色的部分为连通两个房间的门，从左向右的编号分别为 $0,1,2\cdots$。已知当小偷从第 $0$ 个门进入储藏室时，储藏室的计时系统开始计时，每个门都有自己的关闭时间。每个屋里有不同种类的宝石，对于每种宝石，它的价值和小偷拿走它所耗费的时间也是不同的，为了简化问题，我们设想小偷在各个屋子之间走动的时间可以忽略不计，而且所有屋子里各种宝石的数量都是无限多的，那么请问小偷在能成功逃出来的情况下，可能获得宝石的最大价值。

附：对于每扇门，小偷都必须在严格早于此门关闭的时候出来才可以。
## 输入格式

每组测试数据的第一行有两个整数 $N$ 和 $M$，分别代表储藏室有 $N$ 个房间，并且有 $M$ 种宝石。第二行中会有 $N$ 个正整数，分别表示第 $i$ 个门关闭的时间（门的编号从 $0$ 开始），接下来的 $M$ 行，每行有三个整数 $r,v$ 和 $t$，分别代表这种宝石所在的房间编号为 $r$，它的价值为 $v$，小偷拿走它所耗费的时间为 $t$。
## 输出格式

输出小偷在成功逃出储藏室的情况下获得宝石的最大价值。

## 样例

### 样例输入 #1
```
3 4
9 5 5
0 1 2
1 2 2
2 3 2
2 5 3

```
### 样例输出 #1
```
8
```
## 提示

### 样例解释

虽然在第 $2$ 个房间中价值为 $5$ 的宝石好，但是不如拿两次价值为 $3$ 的宝石，在拿两次第 $0$ 房间中价值为 $1$ 的宝石，总价值为 $8$。

### 数据范围及约定

对于 $100\%$ 的数据，储藏室的屋子数量不超过 $50$，每扇门关闭的时间不超过 $1000$，并且宝石的数量不超过 $100$，价值不超过 $1000$。


---

---
title: "[JLOI2008] 提示问题"
layout: "post"
diff: 普及/提高-
pid: P3880
tag: ['模拟', '字符串', '2008', '各省省选', '吉林']
---
# [JLOI2008] 提示问题
## 题目描述

最近在 JLOI 网上的一个流行游戏中，选手要回答很难的问题。假如在规定时间内不能回答，系统将给出 $1$ 个提示，之后再依次给出第 $2,3$ 个提示。出现在答案中的是字母和下列字符：

$\verb|. , : ; ! ? - |$ 和空格（空格不会在开头和结尾出现）。

字母是指：小写字母 $\verb!a! \cdots \verb!z!$ 大写字母 $\verb!A! \cdots \verb!Z!$，其中 a e i o u A E I O U 是元音字母。

生成提示的规则：

- 第 $1$ 个提示：简单的将所有字母换成 $\verb!.!$ 即可；
- 第 $2$ 个提示：从第 $1$ 个提示而来，将所有字母的个数求出，再将总个数除以三，得到的最接近商的自然数 $N$，将第 $1$ 个提示中的前 $N$ 个字母显示；
- 第 $3$ 个提示：从第 $2$ 个提示而来，将剩下的元音字母显示。假如没有可显示的元音字母，则从第 $1$ 个提示而来，即我们将前 $2/3$ 的字母显示（同样如不能被 $3$ 整除则取最接近的整数）。
## 输入格式

仅一行，给出问题，问题字符数最多不超过 $50$。

## 输出格式

三行：按规则输出的三行提示。

## 样例

### 样例输入 #1
```
Upomoc! Lpv s nm pkrl sv smglsnk.
```
### 样例输出 #1
```
......! ... . .. .... .. ........ 
Upomoc! Lp. . .. .... .. ........ 
Upomoc! Lpv s nm pkrl s. ........

```


---

---
title: "[JLOI2009] 二叉树问题"
layout: "post"
diff: 普及/提高-
pid: P3884
tag: ['2009', '各省省选', '吉林', '深度优先搜索 DFS']
---
# [JLOI2009] 二叉树问题
## 题目描述

如下图所示的一棵二叉树的深度、宽度及结点间距离分别为：

- 深度：$4$
- 宽度：$4$
- 结点 8 和 6 之间的距离：$8$
- 结点 7 和 6 之间的距离：$3$

其中宽度表示二叉树上同一层最多的结点个数，节点 $u, v$ 之间的距离表示从 $u$ 到 $v$ 的最短有向路径上向根节点的边数的两倍加上向叶节点的边数。

![](https://cdn.luogu.com.cn/upload/pic/6843.png)

给定一颗以 1 号结点为根的二叉树，请求出其深度、宽度和两个指定节点 $x, y$ 之间的距离。

## 输入格式

第一行是一个整数，表示树的结点个数 $n$。  
接下来 $n - 1$ 行，每行两个整数 $u, v$，表示树上存在一条连接 $u, v$ 的边。  
最后一行有两个整数 $x, y$，表示求 $x, y$ 之间的距离。
## 输出格式

输出三行，每行一个整数，依次表示二叉树的深度、宽度和 $x, y$ 之间的距离。
## 样例

### 样例输入 #1
```
10                                
1 2                            
1 3                            
2 4
2 5
3 6
3 7
5 8
5 9
6 10
8 6

```
### 样例输出 #1
```
4
4
8
```
## 提示

对于全部的测试点，保证 $1 \leq u, v, x, y \leq n \leq 100$，且给出的是一棵树。保证 $u$ 是 $v$ 的父结点。


---

---
title: "[SDOI2016] 排列计数"
layout: "post"
diff: 普及/提高-
pid: P4071
tag: ['递推', '2016', '各省省选', '山东', '枚举', '线性递推', '逆元']
---
# [SDOI2016] 排列计数
## 题目描述

求有多少种 $1$ 到 $n$ 的排列 $a$，满足序列恰好有 $m$ 个位置 $i$，使得 $a_i = i$。

答案对 $10^9 + 7$ 取模。
## 输入格式

**本题单测试点内有多组数据**。

输入的第一行是一个整数 $T$，代表测试数据的整数。

以下 $T$ 行，每行描述一组测试数据。

对于每组测试数据，每行输入两个整数，依次代表 $n$ 和 $m$。
## 输出格式

共输出 $T$ 行，对于每组测试数据，输出一行一个整数代表答案。
## 样例

### 样例输入 #1
```
5
1 0
1 1
5 2
100 50
10000 5000
```
### 样例输出 #1
```
0
1
20
578028887
60695423
```
## 提示

#### 数据规模与约定

本题共 20 个测试点，各测试点等分，其数据规模如下表。

| 测试点编号 | $T =$  | $n, m \leq$ |  测试点编号  |      $T =$      | $n, m \leq$ |
| :--------: | :----: | :---------: | :----------: | :-------------: | :---------: |
| $1\sim 3$  | $10^3$ |     $8$     | $10 \sim 12$ |     $10^3$      |   $10^3$    |
| $4 \sim 6$ | $10^3$ |    $12$     | $13 \sim 14$ | $5 \times 10^5$ |   $10^3$    |
| $7 \sim 9$ | $10^3$ |    $100$    | $15 \sim 20$ | $5 \times 10^5$ |   $10^6$    |

对于全部的测试点，保证 $1 \leq T \leq 5 \times 10^5$，$1 \leq n \leq 10^6$，$0 \leq m \leq 10^6$。


---

---
title: "[BJWC2008] 秦腾与教学评估"
layout: "post"
diff: 普及/提高-
pid: P4403
tag: ['2008', '倍增', '二分', '各省省选']
---
# [BJWC2008] 秦腾与教学评估
## 题目描述

在秦腾进入北京大学学习的第一个学期，就不幸遇到了前所未有的教学评估。

在教学评估期间，同学们被要求八点起床，十一点回宿舍睡觉，不 准旷课，上课不准迟到，上课不准睡觉……甚至连著名的北大三角地也在教学评估期间被以影响校容的理由被拆除。这些“变态”规定令习惯了自由自在随性生活学习的北大同学叫苦不迭。

这一天又到了星期五，一大早就是秦腾最不喜欢的高等代数课。可是因为是教学评估时期，不能迟到，于是他在八点五分的 时候挣扎着爬出了宿舍，希望能赶快混进在八点钟已经上课了的教室。

可是，刚一出宿舍楼门他就傻眼了: 从宿舍到教学楼的路上已经站满了教学评估团的成员。他们的目的就是抓住像他这样迟到的学生，扣除学校的分数。

秦腾当然不能让评估团得逞。他经过观察发现，整个评估团分成了N个小组，每个小组的成员都分布在从宿舍楼到教学楼的路上的某一段，并且同一小组的成员间的距离是相等的。于是，我们可以用三个整数S,
 E, D来描述评估团的小组: 既该小组的成员在从宿舍到教学楼的路上的:S, S + D, S + 2D, …, S + KD (K ∈ Z, S + KD ≤ E, S + (K + 1)D > E)位置。

观 察到了教学评估团的这一特点，又经过了认真的思考，秦腾想出了对策: 如果在路上的某一位置有奇数个教学评估团成员，他就可以运用调虎离山，声东击西，隔山打牛，暗度陈仓……等方法，以这一地点为突破口到达教学楼。

但是由于 教学评估团的成员的十分狡猾，成员位置安排的设计极其精妙，导致在整条路上几乎没有这样的位置出现。即使由于安排不慎重出现了这样的位置，最多也仅有一个。

现在秦腾观察出了所有小组的安排，但是由于整个教学评估团的人数太多，他实在看不出这样的位置是否存在。

现在，你的任务是写一个程序，帮助他做出判断。
## 输入格式

输入文件的第一行为一个整数T。

接下来输入T组相互独立的测试数据。

每组测试数据的第一行包含一个整数，代表N接下来的N行，每行三个整数Si, Ei, Di, 代表第i个小组对应的三个参数。
## 输出格式

对于每个测试数据，如果题目中所求的位置不存在，既任意位置都有偶数个教学评估团的成员存在，在输出文件的中打印一行:`Poor QIN Teng:(` (不包含引号)否则打印两个整数Posi, Count，代表在唯一的位置Posi，有Count个教学评估团的成员。

根据题意，Count应为奇数。
## 样例

### 样例输入 #1
```
3 
2 
1 10 1 
2 10 1 
2 
1 10 1 
1 10 1 
4 
1 10 1 
4 4 1 
1 5 1 
6 10 1 
```
### 样例输出 #1
```
1 1 
Poor QIN Teng:( 
4 3 
```
## 提示

教学评估团的总人数不大于10^8  

Si ≤ Ei  
1 ≤ T ≤ 5  
N ≤ 200000  
0 ≤ Si, Ei, Di ≤ 2^31 – 1  

输入文件的大小不大于2048KB 


---

---
title: "[SCOI2003] 蜘蛛难题"
layout: "post"
diff: 普及/提高-
pid: P5045
tag: ['2003', '四川', '各省省选']
---
# [SCOI2003] 蜘蛛难题
## 题目描述

有一堆管道，还有一个蜘蛛$\text{Willy}$，如下图所示。所有管道的是上端开口，下端封底，直径都是$1cm$，连接两个管道的连接容量无限，但体积可以忽略不计。

![](https://cdn.luogu.com.cn/upload/pic/43701.png)

在第一个管道上方有一个水源，从中有水不断往下流，速度为每秒$0.25cm^3$。由于管道横截面积为$0.25cm^3$，所以单给一个管道注水时水面每秒上升$1cm$。根据物理知识，在前$2$秒中，水注如左边的管道底部，第$[3,5]$秒时注入右边的管道，第$[6,9]$秒同时注入两个管道（虽然流量不变，但是由于同时给两个管道注水，因此水面上升的速度仅为每秒$0.5cm$），接触到蜘蛛。 给出管道和管道之间连接的位置，以及蜘蛛$\text{Willy}$的位置，求水面接触到$\text{Willy}$的时间。假设蜘蛛的实际位置比给出的略高一点，因此如果蜘蛛在左边管道的$n=4$的位置，答案应该是$5$秒。因为前两秒后水面虽然看起来接触到了$\text{Willy}$，但实际上比$\text{Willy}$略低一点。


## 输入格式

所有位置都用有序数对$(x, y)$表示，其中y坐标从上到下逐渐增大；$x$坐标从左到右逐渐增大，因此左上角的坐标为$(0,0)$，其他所有坐标值为$0$到$100$之间的整数。输入第一行为一个整数$p(1<=p<=20)$，表示管道的数目；以下$p$行，每行用$x, y, h$三个整数描述一根管道。$(x,y)$为管道左上角坐标；$h$为管道高度$(1<=h<=20)$。以下一行为一个整数$L(0<=L<=50)$，为连接的个数。

以下$L$行每行用三个整数$x, y, d$描述一个连接，$(x,y)$为左端点的坐标，$d$为连接的长度$(1<=d<=20)$。最后一行为两个整数$a,b$，表示$\text{Willy}$在管道$a$的$y$坐标为$b$的位置。管道按照在文件中出现的顺序编号为$1,2,3…p$

以下为一些假设： 水源总是在第一根管道的正上方, 连接不会穿越管道,任意两个连接的$y$坐标都不相同,任意两个管道的左上角的$x$坐标都不相同,任意连接的两个端点都在管道上（不会出现悬空的情形）
## 输出格式

仅一个整数，为水面接触到$\text{Willy}$的时间。如果水面无法接触到$\text{Willy}$，输出$-1$。
## 样例

### 样例输入 #1
```
2
2 0 6
5 1 6
1
3 4 2
2 2
```
### 样例输出 #1
```
9
```


---

---
title: "[YNOI2019] 骑单车"
layout: "post"
diff: 普及/提高-
pid: P5413
tag: ['模拟', '2019', '各省省选', 'Special Judge', '云南']
---
# [YNOI2019] 骑单车
## 题目描述

小明每天早晨上课都需要骑着单车经过 $n$ 段路，第i段路的长度为$w_i (m)$，限速为 $s_i (m/s)$（在路上骑行的速度不能超过限速），加速度的绝对值最大为 $a_i (m/s^{2})$（可以加速也可以减速）。初始速度为 $0(m/s)$，你的任务是计算小明通过这 $n$ 段路的最短时间。
## 输入格式

**本题包含多组数据。**

第一行，包含一个正整数 $T$，代表所含的数据组数。

接下来是 $T$ 组数据，每组数据的格式如下：

每组数据包含 $n+1$ 行；

第一行包含一个正整数 $n$，代表共有 $n$ 段路；

接下来的 $n$ 行，每一行包含三个正整数 $w_i,s_i,a_i$，分别代表第 $i$ 段路的长度、限速和最大加速度的绝对值。
## 输出格式

输出包含 $T$ 行，分别对应T组数据的答案，即小明通过 $n$ 条道路所需要的最短时间（只要你的答案和标准答案的绝对误差在 $10^{-5}$ 以内就算通过）。
## 样例

### 样例输入 #1
```
1
2
5 3 1
1 1 1

```
### 样例输出 #1
```
4.6904157598
```
## 提示

对于 $60\%$ 的数据：$0 < n \le60;$

对于 $80\%$ 的数据：$0 < n \le 80;$

对于 $100\%$ 的数据：$0 < n \le10^{2},w_i,s_i,a_i ≤ 10$。


---

---
title: "[YNOI2019] 排序"
layout: "post"
diff: 普及/提高-
pid: P5414
tag: ['动态规划 DP', '2019', '各省省选', '云南']
---
# [YNOI2019] 排序
## 题目描述

对于一个数列 $\{7, 1, 2, 3\}$ 进行排序，我们可以把 $7$ 从头移动到尾。但是这个操作的成本是 $7$，并不是最佳的。最佳的排序方式是将连续的 $1,2,3$ 移动到 $7$ 的前面。这样的话，总的操作成本就是 $1+2+3=6$，比之前的成本 $7$ 要小。

你的任务是，对于一个给定的数列，输出对这个数列进行排序的最小成本。
## 输入格式

输入文件名为sort.in。

每个输入文件包含多组数据。

输入文件的第一行，包含一个正整数 $T$，代表该输入文件中所含的数据组数。

接下来是 $T$ 组数据，每组数据的格式如下：

每组数据包含 $2$ 行；

第一行包含一个正整数 $n$，代表数列中元素的个数，其中 $0 < n \leq 10^2$；

第二行包含 $n$ 个整数，两个数之间以一个空格隔开，代表数列中的元素 $k_i$，其中$-10^{7} \leq k_i \leq 10^{7}$。
## 输出格式

输出文件名为sort.out。

输出文件包含 $T$ 行，分别对应 $T$ 组数据的答案，即对数列进行排序的最小成本。
## 样例

### 样例输入 #1
```
1
4
7 1 2 3
```
### 样例输出 #1
```
6
```
## 提示

对于 $60\%$ 的数据：$0 < n \leq 60$，$-10^{7} \leq k_i \leq 10^{7}$

对于 $80\%$ 的数据：$0 < n \leq 80$，$-10^{7} \leq k_i \leq 10^{7}$

对于 $100\%$ 的数据：$0 < n ≤ 10^2$，$-10^{7} \leq k_i \leq 10^{7}$



---

---
title: "[JLOI2011] 小A的烦恼"
layout: "post"
diff: 普及/提高-
pid: P5483
tag: ['模拟', '2011', '各省省选', '吉林']
---
# [JLOI2011] 小A的烦恼
## 题目描述

小$A$是$B$公司的一名$PM(product market)$。$B$公司越来越注重产品使用情况分析，而小$A$的工作就是整天对着一堆数据分析来分析去，没完没了。其中有一个操作是小$A$很头疼的，就是要把多个$csv$文件的数据拷到同一个$excel$文件中去。
有一天小$A$满怀期待地找到了你，一个高级程序员，她想让你写程序帮她完成这个简单重复性工作。这不是坑爹吗，直接操作$excel$还要用到第三方的库，还不如直接写到$csv$文件中，让她再手动去转成$excel$文件。经过内部沟通协调，最终定下了这个方案。
$csv$是一种$excel$可支持和格式，且存储方式非常简单。它实际上就是用“`,`”来分隔相邻的两个列。比如以下三行数据：  
```
a,a,a
b,,b
,c,c
```
表示的就是：  

| a | a | a |
| ---------- | :----------: | :----------: |
| b |   | b |
|   | c | c |

现在小$A$想做的就是把各个文件按照从左往右的顺序拷到同一个文件当中。比如文件$a$的数据是：  
```
a1,b1,c1
a2,b2
```
文件$b$的数据是：  
```
a1,b1,c1,d1
a2,b2
a3,b3,c3
a4
```
那么她所希望的最终结果是：  

| a |  |  | b |  |  |  |
| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |
| a1 | b1 | c1 | a1 | b1 | c1 | d1 |
| a2 | b2 |  | a2 | b2 |  |  |
|  |  |  | a3 | b3 | c3 |  |
|  |  |  | a4 |  |  |  |

这个结果在$csv$文件里就是：  
```
a,,,b,,,
a1,b1,c1,a1,b1,c1,d1
a2,b2,,a2,b2,,
,,,a3,b3,c3,
,,,a4,,,
```
以上结果的第一行是每一个文件的文件名，文件名与相应文件的第一列对齐。如果相应文件不止一列，那么其它列用空的单元格来补充。  
输入的$csv$文件里保证了每一行的末尾都没有“`,`”，也就是说像$a$文件的第$2$行的第$3$列一样，如那一格是空的，那么在$b2$后面是没有“`,`”的。  
输出的$csv$文件里因为是程序的输出结果，为了简化程序，如果末尾是空的，那么还是会显式输出“`,`”，如以上的结果所示。  
输入文件保证至少有一行一列非空。  
输出的文件要保证下一个文件的第一列要紧邻着上一文件的最后一个非空列的右面。最后一个文件只输出到最后一个非空列。   
## 输入格式

第一行有一个整数$N$（$1\leq N\leq 100$），表示有$N$个文件。  
以下$N$个数据块的第一行有一个整数$M$ ($1\leq M\leq 100$)和一个字符串$S$ ($1\leq length(S)\leq 100$)，M表示文件的行数，$S$表示文件名。  
$N$个数据块的下面$M$行中，每一行是一个字符串$T$($1\leq length(T)\leq 100$)，$T$只包含小写字母、数字和“`,`”。  
## 输出格式

输出把$N$个文件的数据合到一个文件的结果。
## 样例

### 样例输入 #1
```
2
2 a
a1,b1,c1
a2,b2
4 b
a1,b1,c1,d1
a2,b2
a3,b3,c3
a4
```
### 样例输出 #1
```
a,,,b,,,
a1,b1,c1,a1,b1,c1,d1
a2,b2,,a2,b2,,
,,,a3,b3,c3,
,,,a4,,,
```


---

---
title: "[JSOI2010] 排名"
layout: "post"
diff: 普及/提高-
pid: P5754
tag: ['2010', '各省省选', '江苏']
---
# [JSOI2010] 排名
## 题目背景

在植树节那天，小 L，小 H，小 X 却要面对繁忙的考试。

考完后，按照惯例，他们讨论起了成绩。小 L 非常八卦，他向全班 $N$ 个同学问了他们的成绩情况。当然，就如你想象的那样，每个人也不愿意透露太多信息，每个人值说了他的分数比哪一个同学低，也有些人没说任何信息。

勤奋的小 H 和爱偷懒的小 X 对于班上所有同学的成绩排名都有一个“心理期望”，也就是说，小 H 可能认为 XX 会排第 $1$，YY 会排第 $2$……但小 X 却会认为 XX 应该排最后 $1$ 名，YY 会排倒数第 $2$ 名。

不过理想和现实总是有差距的，通过小 L 打探到的情报， XX 不能排在第 $1$ 了，但是，小 H 仍然觉得 XX 应该排在尽可能前。

小 L 由此想到了一个问题，他想知道小 H 和小 X 知道他打探到的情报之后，对班上同学的心里排名是什么样的。

每个同学的编号即为小 H 的心理排名，也就是说，小 H 希望编号越靠前的同学排名也尽量靠前，而小 X 希望希望编号越靠前的同学排名尽量靠后。（注意不是越后面的同学排名越靠前）
## 题目描述

给定一个长度为 $N$ 的数列 $A$，其中 $A_i$ 表示第 $i$ 个同学的分数比第 $A_i$ 个同学的分数低（或者说，第 $i$ 个同学的排名在第 $A_i$ 个同学之后）。当然，$A_i$ 有可能等于 $0$，则表明没有关于第 $i$ 个同学的信息。

你需要得到一个长度为 $N$ 的数列 $H$，表示班上同学的排名。这个排名要求是满足所有 $A_i$ 构成的约束的排名中字典序最小的哪一个。

同时，你还需要得到一个数列 $X$，表示班上同学的排名。这个排名要求是满足所有 $A_i$ 构成的约束的排名中字典序最大的哪一个。
## 输入格式

第 $1$ 行一个正整数 $N$，表示班上同学的个数。

第 $2$ 行包含 $N$ 个用空格隔开的非负整数，第 $i$ 个数表示 $A_i$。
## 输出格式

两行，每行 $N$ 个正整数，用空格隔开。其中，第 $1$ 行为小 L 的心理排名，第 $2$ 行为小 X 的心理排名。
## 样例

### 样例输入 #1
```
4
3 0 2 2
```
### 样例输出 #1
```
3 1 2 4
4 1 3 2
```
## 提示

### 样例解释

共有 $3$ 种排名满足大小关系：

```plain
4 1 3 2
4 1 2 3
3 1 2 4
```

其中，`3 1 2 4` 字典序最小，`4 1 3 2` 字典序最大。

### 数据范围

对于 $10\%$ 的数据，$N\leq 10$。

对于 $20\%$ 的数据，$N\leq 20$。

对于 $40\%$ 的数据，$N\leq 2\times 10^3$。

对于 $100\%$ 的数据，$1 \leq N\leq 2\times 10^5,A_i\leq N$。其中，第 $5$ 组数据保证 $N=1.2\times 10^4$。


---

---
title: "[CQOI2005] 新年好"
layout: "post"
diff: 普及/提高-
pid: P5764
tag: ['2005', '重庆', '各省省选']
---
# [CQOI2005] 新年好
## 题目描述

重庆城里有 $n$ 个车站，$m$ 条双向公路连接其中的某些车站。每两个车站最多用一条公路连接，从任何一个车站出发都可以经过一条或者多条公路到达其他车站，但不同的路径需要花费的时间可能不同。在一条路径上花费的时间等于路径上所有公路需要的时间之和。

佳佳的家在车站 $1$，他有五个亲戚，分别住在车站 $a,b,c,d,e$。过年了，他需要从自己的家出发，拜访每个亲戚（顺序任意），给他们送去节日的祝福。怎样走，才需要最少的时间？
## 输入格式

第一行：$n,m$，分别为车站数目和公路的数目。

第二行：$a,b,c,d,e$，分别为五个亲戚所在车站编号。

以下 $m$ 行，每行三个整数 $x,y,t$，为公路连接的两个车站编号和时间。
## 输出格式

仅一行，包含一个整数 $T$，为最少的总时间。保证 $T\le 10^9$。
## 样例

### 样例输入 #1
```
6 6
2 3 4 5 6
1 2 8
2 3 3
3 4 4
4 5 5
5 6 2
1 6 7
```
### 样例输出 #1
```
21

```
## 提示

对于 $40\%$ 的数据，有 $1≤n≤500$，$1≤m≤2000$。

对于 $100\%$ 的数据，有 $1≤n≤50000$，$1≤m≤100000$，$1\le a,b,c,d,e≤n$，$1≤x,y≤n$，$1≤t≤10000$。


---

---
title: "[AHOI2006] 斐波卡契的兔子"
layout: "post"
diff: 普及/提高-
pid: P5775
tag: ['2006', '各省省选', '安徽']
---
# [AHOI2006] 斐波卡契的兔子
## 题目描述

卡卡开始养兔子了！妈妈给他买了一对刚出生的兔子，卡卡了解到兔子的繁殖规律是这样的：才出生的一对兔子在一个月后将第一次生出一胎 $a$ 对兔子，接着在出生后的二个月又将生出 $b$ 对兔子，在第三个月和以后每个月都会繁殖 $c$ 对兔子（$a \le b \le c$）。   由斐波纳契数列我们知道兔子的繁殖速度是很快的，然而卡卡有兔子一样多的好朋友，卡卡想在 $m$ 个月后有 $k$ 对兔子，以便分给他们的好友，他的愿望是否能够实现呢？

[任务] 编写一个程序：从输入文件中读入输入信息；计算 $m$ 个月后卡卡将有多少对兔子，设之为 $P$；计算如果 $m$ 个月后卡卡要拥有至少 $k$ 对兔子，那么开始时妈妈至少应该为卡卡购买多少对兔子，设之为 $Q$ ；将结果输出至输出文件。
## 输入格式

输入文件的第一行有四个正整数：$a$，$b$，$c$ 和 $m$；而第二行则仅含一个正整数 $k$。它们的含义见上文描述。
## 输出格式

输出两行，第一行是一个整数 $P$ 而第二行是一个整数 $Q$。
## 样例

### 样例输入 #1
```
0 1 1 10
10000

```
### 样例输出 #1
```
89
113
```
## 提示

$0 \le a \le b \le c \le 100$，$1 \le m \le 3000$，$1 \le k \le 10^{6000}$。


---

---
title: "[JSOI2015] 子集选取"
layout: "post"
diff: 普及/提高-
pid: P6075
tag: ['数学', '2015', '各省省选', '江苏']
---
# [JSOI2015] 子集选取
## 题目描述

给定 $n$ 个元素的集合 $S= \left\{1,2,\cdots,n \right\}$ 和整数 $ k$，现在要从 $S$ 中选出若干子集 $A_{i,j}\ (A \subseteq S$，$1 \le j \le i \le k)$ 排成下面所示边长为 $k$ 的三角形（因此总共选出了 $\frac{1}{2} k(k+1)$ 个子集）。      
$$\begin{matrix}
A_{1,1}\\
A_{2,1}&A_{2,2}\\
A_{3,1}&A_{3,2}&A_{3,3}\\
\vdots&\vdots&\vdots&\ddots\\
A_{k,1}&A_{k,2}&A_{k,3}&\cdots&A_{k,k}
\end{matrix}   $$

此外，JYY 对选出的子集之间还有额外的要求：选出的这些子集必须满足
$A_{i,j} \subseteq A_{i,j-1}$ 且 $A_{i,j} \subseteq A_{i-1,j}$。     
JYY 想知道，求有多少种不同的选取这些子集的方法。因为答案很大，JYY 只关心输出答案模 $1{,}000{,}000{,}007$ 的值。 
      
对于两种选取方案 $A = \left\{ A_{1,1} , A_{2,1} ,\cdots, A_{k,k} \right\}$ 和 $B = \left\{ B_{1,1} , B_{2,1} ,\cdots, B_{k,k} \right\}$ 只要存在 $i,j$ 满足 $A_{i,j} \neq B_{i,j}$，我们就认为 $A$ 和 $B$ 是不同的方案。   
## 输入格式

输入包含一行两个整数 $n$ 和 $k$。
## 输出格式

一行一个整数，表示不同方案数目模 $1,000,000,007$ 的值。
## 样例

### 样例输入 #1
```
2 2
```
### 样例输出 #1
```
16
```
## 提示

对于 $100\%$ 的数据，$1 \le n$，$k \le 10^9$。


---

---
title: "[SHOI2002] N的连续数拆分"
layout: "post"
diff: 普及/提高-
pid: P6267
tag: ['数学', '2002', '各省省选', '上海']
---
# [SHOI2002] N的连续数拆分
## 题目描述

所有的正整数均可以表示为一个、两个或者多个连续正整数的和。

给定一个不超过 $9\times 10^{14}$ 的正整数，求出它可以用几种不同的方法表示成连续正整数之和。例如给出 $9$，则有三种方式：$9,4+5,2+3+4$。
## 输入格式

输入一个正整数 $n$，表示要被拆分的正整数。
## 输出格式

输出方法个数。
## 样例

### 样例输入 #1
```
9
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
11
```
### 样例输出 #2
```
2
```
### 样例输入 #3
```
12
```
### 样例输出 #3
```
2
```
## 提示

$n \leq 9\times 10^{14}$


---

---
title: "[SHOI2002] 空中都市"
layout: "post"
diff: 普及/提高-
pid: P6269
tag: ['数学', '图论', '2002', '各省省选', '上海']
---
# [SHOI2002] 空中都市
## 题目描述

在未来的空中都市中，有很多个小岛（城区）。现在要求在这些小岛之间架一座桥梁，每座桥是指在两个岛之间的通道。

有个约定，如果 $A$ 与 $B$ 之间有桥，$B$ 与 $C$ 之间有桥，则 $A$ 与 $C$ 之间就不能再架桥了，即对于城市中的任意三个岛，不能在其中的两两之间都架上桥。在这样的约定下，要求架的桥的数量最多。当然不必考虑具体的空间结构问题。
## 输入格式

输入文件只包含一行，其中仅包含一个非负整数 $n (0 \leq n \leq 1000)$，表示小岛的数量。
## 输出格式

输出文件也只包含一行，即表示最多能架设的桥梁数量。
## 样例

### 样例输入 #1
```
6
```
### 样例输出 #1
```
9
```
### 样例输入 #2
```
11
```
### 样例输出 #2
```
30
```


---

---
title: "[省选联考 2021 B 卷] 数对"
layout: "post"
diff: 普及/提高-
pid: P7517
tag: ['各省省选', '2021', 'O2优化', '枚举']
---
# [省选联考 2021 B 卷] 数对
## 题目描述

给定 $n$ 个正整数 $a_i$，请你求出有多少个数对 $(i, j)$ 满足 $1 \le i \le n$，$1 \le j \le n$，$i \ne j$ 且 $a_i$ 是 $a_j$ 的倍数。
## 输入格式

第一行，一个整数 $n$，表示数字个数。  
第二行，$n$ 个整数，表示 $a_i$。
## 输出格式

输出一行，一个整数，表示答案。
## 样例

### 样例输入 #1
```
6
16 11 6 1 9 11

```
### 样例输出 #1
```
7

```
### 样例输入 #2
```
见附件中的 pair/pair2.in。
```
### 样例输出 #2
```
见附件中的 pair/pair2.ans。
```
## 提示

对于 $40 \%$ 的数据，$n \le 1000$。  
对于 $70 \%$ 的数据，$1 \le a_i \le 5 \times {10}^3$。  
对于 $100 \%$ 的数据，$2 \le n \le 2 \times {10}^5$，$1 \le a_i \le 5 \times {10}^5$。


---


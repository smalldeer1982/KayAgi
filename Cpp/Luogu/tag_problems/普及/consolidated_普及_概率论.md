---
title: "[蓝桥杯 2024 省 Java B] 星际旅行"
layout: "post"
diff: 普及/提高-
pid: P11046
tag: ['2024', '广度优先搜索 BFS', '概率论', '期望', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 Java B] 星际旅行
## 题目背景

备注：原题（Java）时间限制 3.0s，空间限制 512 MB。
## 题目描述

小明国庆节准备去某星系进行星际旅行，这个星系里一共有 $n$ 个星球，其中布置了 $m$ 道双向传送门，第 $i$ 道传送门可以连接 $a_i$，$b_i$ 两颗星球（$a_i \neq b_i$ 且任意两颗星球之间最多只有一个传送门）。

他看中了一款 “旅游盲盒”，一共有 $Q$ 个盲盒，第 $i$ 个盲盒里的旅行方案规定了旅行的起始星球 $x_i$ 和最多可以使用传送门的次数 $y_i$。只要从起始星球出发，使用传送门不超过规定次数能到达的所有星球都可以去旅行。

小明关心在每个方案中有多少个星球可以旅行到。小明只能在这些盲盒里随机选一个购买，他想知道能旅行到的不同星球的数量的期望是多少。
## 输入格式

输入共 $m + Q + 1$ 行。

第一行为三个正整数 $n, m, Q$。

后面 $m$ 行，每行两个正整数 $a_i$，$b_i$。

后面 $Q$ 行，每行两个整数 $x_i$，$y_i$。
## 输出格式

输出共一行，一个浮点数（四舍五入保留两位小数）。
## 样例

### 样例输入 #1
```
3 2 3
1 2
2 3
2 1
2 0
1 1
```
### 样例输出 #1
```
2.00
```
## 提示

【样例解释】

- 第一个盲盒可以旅行到 $1, 2, 3$。
- 第二个盲盒可以旅行到 $2$。
- 第三个盲盒可以旅行到 $1, 2$。

所以期望是 $(3 + 1 + 2) / 3 = 2.00$。

【数据范围】

- 对于 $20 \%$ 的评测用例，保证 $n \leq 300$。
- 对于 $100 \%$ 的评测用例，保证 $n \leq 1000$，$m \leq \min \left\{\dfrac{n(n - 1)}{2}, 5n\right\}$，$Q \leq 50000$，$0 \leq y_i \leq n$，$1 \leq x_i \leq n$。


---

---
title: "搞笑世界杯"
layout: "post"
diff: 普及/提高-
pid: P2719
tag: ['动态规划 DP', '数学', '概率论']
---
# 搞笑世界杯
## 题目背景

很久很久以后，一次世界杯。

## 题目描述

随着世界杯小组赛的结束，法国，阿根廷等世界强队都纷纷被淘汰，让人心痛不已。 于是有人组织了一场搞笑世界杯，将这些被淘汰的强队重新组织起来和世界杯一同比赛。你和你的朋友欣然去购买球票。不过搞笑世界杯的球票出售方式也很特别，它们只准备了两种球票。

- A 类票——免费球票 
- B 类票——双倍价钱球票。

购买时由工作人员通过掷硬币决定，投到正面的买 A 类票， 反面的买 B 类票。主办方总是准备了同样多的 A 类票和 B 类票。你和你的朋友十分幸运的排到了某场精彩比赛的最后两个位置。

这时工作人员开始通过硬币售票。不过更为幸运的是当工作人员到你们面前时他发现已无需再掷硬币了，因为剩下的这两张票全是免费票。

你和你的朋友在欣喜之余，想计算一下排在队尾的两个人同时拿到一种票的概率是多少(包括同时拿 A 类票或 B 类票) 假设工作人员准备了 $2n$ 张球票，其中 $n$ 张 A 类票，$n$ 张 B 类票，并且排在队伍中的人每人必须且只能买一张球票(不管掷到的是该买 A 还是该买 B)。
## 输入格式

输入只有一行一个整数，表示 $2n$。
## 输出格式

输出只包含一行一个浮点数，为拿到同一种票的概率，精确到小数点后 4 位。
## 样例

### 样例输入 #1
```
256
```
### 样例输出 #1
```
0.9500
```
## 提示

## 数据规模与约定

对全部的测试点，保证 $1 \leq n \leq 1250$。


---

---
title: "[蓝桥杯 2022 国 B] 故障"
layout: "post"
diff: 普及/提高-
pid: P8804
tag: ['2022', '概率论', '条件概率', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 B] 故障
## 题目描述

在软件或系统开发中，我们会遇到各种各样的故障。为了从故障现象反推故障原因，工程师们会总结一种叫做相关性矩阵的二维表格，来表示故障原因与故障现象之间的关系。比如:

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/P8804.png)

其中每行表示一种故障原因，每一列表示一种故障现象。该矩阵表示故障原因 $A$ 可能产生故障现象 $2$、$3$、$4$，故障原因 $B$ 可能产生故障现象 $1$、$3$。

在实际开发过程中，如果出现了故障原因，工程师就可以根据故障现象，去计算每种故障原因产生的概率，并按照概率大小对故障原因进行排查，以达到快速定位故障原因的目的。

现在，我们假设系统开发中同一时间只会出现一种故障原因, 并且故障原 因引起各故障现象是独立事件。举个例子来说:

假设系统现在发生了故障原因 $A$, 有 $\frac{1}{3}$ 的概率出现故障现象 $2$，有 $\frac{1}{4}$ 的概率出现故障现象 $3$，有 $\frac{1}{2}$ 的概率出现故障现象 $4$。由于 $3$ 种现象是独立发生的，因此有 $\frac{1}{2 \times 3 \times 4}$ 的概率同时出现故障 $2$、$3$、$4$。

约定若相关性矩阵中没有 `x` 记号, 则表示该故障原因一定不会产生某故障现象，比如故障原因 $A$，一定不会产生故障现象 $1$。根据历史经验数据，我们统计得到了每一种故障原因出现的概率以及每一种故障原因对应的故障现象产生概率。

现在已知系统出现的故障现象，求问各个故障原因发生的概率。
## 输入格式

第 $1$ 行：$2$ 个正整数 $N, M, N$ 表示故障原因的个数（编号 $1 \ldots N)，M$ 表示故障现象的个数（编号 $1 \ldots M$）。

第 $2$ 行: $N$ 个整数，第 $i$ 个数表示故障原因 $i$ 产生的概率 $P_{i}$。

第 $3 \ldots N+2$ 行：每行 $M$ 个整数，第 $i+2$ 行第 $j$ 个整数 $P_{i j}$ 表示故障原因 $i$ 出现故障现象 $j$ 的概率（百分比）。

第 $N+3$ 行：$1$ 个正整数 $K$，表示目前出现的故障现象数量。

第 $N+4$ 行：$K$ 个正整数，依次为当前出现的故障现象编号，不会重复。

## 输出格式

第 $1 \ldots N$ 行：按概率从高到低输出每种故障原因及其可能的概率，若出现 概率相同则优先输出编号小的故障原因。第 $1$ 个数为故障原因编号, 第 $2$ 个数为故障概率（百分比），保留 $2$ 位小数。

## 样例

### 样例输入 #1
```
3 5
30 20 50
0 50 33 25 0
30 0 35 0 0
0 0 0 25 60
1
3
```
### 样例输出 #1
```
2 56.89
1 43.11
3 0.00
```
## 提示

对于所有测试用例，$1 \leq N \leq 40,1 \leq M \leq 20,0 \leq P_{i} \leq 100, \sum\left(P_{i}\right)=100$, $0 \leq P_{i j} \leq 100$。

蓝桥杯 2022 国赛 B 组 G 题。


---


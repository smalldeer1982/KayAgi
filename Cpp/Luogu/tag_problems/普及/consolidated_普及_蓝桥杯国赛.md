---
title: "[蓝桥杯 2023 国 A] 圆上的连线"
layout: "post"
diff: 普及/提高-
pid: P10413
tag: ['数学', '2023', '提交答案', 'Catalan 数', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 A] 圆上的连线
## 题目描述

给定一个圆，圆上有 $n=2023$ 个点从 $1$ 到 $n$ 依次编号。

问有多少种不同的连线方式，使得完全没有连线相交。当两个方案连线的数量不同或任何一个点连接的点在另一个方案中编号不同时，两个方案视为不同。

答案可能很大，请将答案对 $2023$ 求余后提交。
## 输入格式

这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。

## 输出格式

这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。



---

---
title: "[蓝桥杯 2023 国 A] XYZ"
layout: "post"
diff: 普及/提高-
pid: P10416
tag: ['2023', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 A] XYZ
## 题目描述

给定一个区间 $[L,R]$，请求出有多少组 $X,Y,Z$ 满足 $X+Y=Z$ 且 $L\le X,Y,Z\le R$。
## 输入格式

本题包含多组询问。

输入的第一行包含一个整数 $T$ 表示询问组数。

接下来 $T$ 行，每行包含两个整数 $L_i,R_i$，用一个空格分隔，表示一组询问。
## 输出格式

输出 $T$ 行，每行包含一个整数，表示满足条件的 $X,Y,Z$ 的组数。
## 样例

### 样例输入 #1
```
2
1 3
1 4
```
### 样例输出 #1
```
3
6

```
## 提示

**【样例解释 1】**

$1+1=2$  
$1+2=3$  
$2+1=3$  
$1+3=4$  
$2+2=4$  
$3+1=4$

**【评测用例规模与约定】**

对于 $30\%$ 的评测用例，$T\le 1000$，$L_i,R_i\le 100$。  
对于所有评测用例，$1\le T\le 100000$，$1\le L_i\le R_i\le 10^9$。


---

---
title: "[蓝桥杯 2023 国 A] 第 K 小的和"
layout: "post"
diff: 普及/提高-
pid: P10417
tag: ['二分', '2023', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 A] 第 K 小的和
## 题目描述

给定两个序列 $A,B$，长度分别为 $n,m$。

设另有一个序列 $C$ 中包含了 $A,B$ 中的数两两相加的结果 ($C$ 中共有 $n\times m$ 个数)。问 $C$ 中第 $K$ 小的数是多少。请注意重复的数需要计算多次。例如 $1,1,2,3$ 中，最小和次小都是 $1$，而 $3$ 是第 $4$ 小。
## 输入格式

输入的第一行包含三个整数 $n,m,K$，相邻两个整数之间使用一个空格分隔。

第二行包含 $n$ 个整数，分别表示 $A_1,A_2,\ldots,A_n$，相邻两个整数之间使用一个空格分隔。

第三行包含 $m$ 个整数，分别表示 $B_1,B_2,\ldots,B_m$，相邻两个整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3 4 5
1 3 4
2 3 5 6

```
### 样例输出 #1
```
6
```
## 提示

**【评测用例规模与约定】**


- 对于 $40\%$ 的评测用例，$n,m\le 5000$，$A_i,B_i\le 1000$;
- 对于所有评测用例，$1\le n,m\le 10^5$，$1\le A_i,B_i\le 10^9$，$1\le K\le n\times m$。



---

---
title: "[蓝桥杯 2024 国 A] 最长子段"
layout: "post"
diff: 普及/提高-
pid: P10579
tag: ['2024', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 A] 最长子段
## 题目描述

给定一个长度为 $n$ 的序列 $(s_1,s_2,\cdots,s_n)$ 和三个数 $a,b,c$，你需要找出一对 $L,R$ 满足如下式子：

$$
\sum\limits_{i=L}^Rs_i>a(bR-cL),1 \le L \le R \le n
$$

即，序列中的第 $L$ 至 $R$ 项之和大于 $a\cdot (b\cdot R - c \cdot L)$，求出满足条件的 $L,R$ 中 $R - L + 1$ 的最大值。

测试数据保证存在这样的一对 $L$ 和 $R$。
## 输入格式

输入的第一行包含四个整数 $n,a,b,c$，相邻整数之间使用一个空格分隔。

第二行包含 $n$ 个整数 $s_1,s_2,\cdots,s_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
4 1 5 6
1 2 3 4
```
### 样例输出 #1
```
3
```
## 提示

对于 $60\%$ 的评测用例，$n\le 5000$；  
对于所有评测用例，$1\le n\le 3 \times 10^5$，$1\le a,b,c\le 1000$，$|s_i| \le 10^9$。


---

---
title: "[蓝桥杯 2024 国 A] gcd 与 lcm"
layout: "post"
diff: 普及/提高-
pid: P10580
tag: ['2024', '容斥原理', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 A] gcd 与 lcm
## 题目描述

给定两个数 $x,y$，求有多少种不同的长度为 $n$ 的序列 $(a_1,a_2,\cdots,a_n)$，其所有元素的最大公约数为 $x$ 且最小公倍数为 $y$。

两个序列 $(a_1,a_2,\cdots,a_n)$ 与 $(b_1,b_2,\cdots,b_n)$ 不同，是指存在至少一个位置 $i$ 满足 $a_i\neq b_i$。

由于答案可能很大，请输出答案对 $998\ 244\ 353$ 取模后的结果。
## 输入格式

输入的第一行包含一个整数 $Q$ 表示询问次数。

接下来 $Q$ 行，每行包含三个整数 $x,y,n$ 表示一组询问，相邻整数之间使用一个空格分隔。对于每个询问，保证至少存在一个满足条件的序列。

## 输出格式

输出 $Q$ 行，每行包含一个整数，依次表示每个询问的答案。
## 样例

### 样例输入 #1
```
3
3 6 2
12 144 3
233 251640 10
```
### 样例输出 #1
```
2
72
905954656
```
## 提示

对于 $40\%$ 的评测用例，$n\le 30$；  
对于 $70\%$ 的评测用例，$n\le 5000$；  
对于所有评测用例，$1\le Q\le 100$，$2\le n\le 10^5$，$1\le x,y\le 10^9$。


---

---
title: "[蓝桥杯 2024 国 B] 立定跳远"
layout: "post"
diff: 普及/提高-
pid: P10909
tag: ['2024', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 B] 立定跳远
## 题目描述

在运动会上，小明从数轴的原点开始向正方向立定跳远。项目设置了 $n$ 个检查点 $a_1, a_2, \cdots , a_n$ 且 $a_i \ge a_{i−1} > 0$。小明必须先后跳跃到每个检查点上且只能跳跃到检查点上。同时，小明可以自行再增加 $m$ 个检查点让自己跳得更轻松。

在运动会前，小明制定训练计划让自己单次跳跃的最远距离达到 $L$，并且学会一个爆发技能可以在运动会时使用一次，使用时可以在该次跳跃时的最远距离变为 $2L$。小明想知道，$L$ 的最小值是多少可以完成这个项目？
## 输入格式

输入共 $2$ 行。

第一行为两个正整数 $n,m$。

第二行为 $n$ 个由空格分开的正整数 $a_1, a_2, \cdots, a_n$。
## 输出格式

输出共 $1$ 行，一个整数表示答案。
## 样例

### 样例输入 #1
```
5 3
1 3 5 16 21
```
### 样例输出 #1
```
3
```
## 提示

**【样例说明】**

增加检查点 $10, 13, 19$，因此每次跳跃距离为 $1,2, 2, 5, 3, 3, 3, 2$，在第三次跳跃时使用技能即可。

**【评测用例规模与约定】**

对于 $20\%$ 的评测用例，保证 $n \le 10^2$，$m \le 10^3$，$a_i \le 10^3$。  
对于 $100\%$ 的评测用例，保证 $2 \le n \le 10^5$，$m \le 10^8$，$0 < a_i \le 10^8$。


---

---
title: "[蓝桥杯 2024 国 B] 数星星"
layout: "post"
diff: 普及/提高-
pid: P10912
tag: ['2024', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 B] 数星星
## 题目描述

小明正在一棵树上数星星，这棵树有 $n$ 个结点 $1, 2,\cdots, n$。他定义树上的一个子图 $G$ 是一颗星星，当且仅当 $G$ 同时满足：

1. $G$ 是一棵树。
2. $G$ 中存在某个结点，其度数为 $|V_G| - 1$。其中 $|V_G|$ 表示这个子图含有的结点数。

两颗星星不相同当且仅当它们包含的结点集合 $V_G$ 不完全相同。小明想知道这棵树上有多少颗不同的星星包含的结点的数量在区间 $[L, R]$ 中，答案对 $1000000007$ 取模。
## 输入格式

输入共 $n + 1$ 行。

第一行为一个正整数 $n$。

后面 $n - 1$ 行，每行两个正整数表示树上的一条边。

第 $n + 1$ 行，两个正整数 $L, R$。
## 输出格式

输出共 $1$ 行，一个整数表示答案。
## 样例

### 样例输入 #1
```
6
1 2
1 3
2 4
2 5
3 6
3 4
```
### 样例输出 #1
```
6
```
## 提示

**【样例说明】**

包含 $3$ 个结点的星星有 $5$ 个，它们的结点集合分别为 $\{1, 2, 3\}$，$\{1, 2, 4\}$，$\{1, 2, 5\}$，$\{2, 4, 5\}$，$\{1, 3, 6\}$。

包含 $4$ 个结点的星星有 $1$ 个，它的结点集合为 $\{1, 2, 4, 5\}$。

**【评测用例规模与约定】**

对于 $20\%$ 的评测用例，保证 $n \le 20$。  
对于 $100\%$ 的评测用例，保证 $n \le 10^5$，$1 \le L \le R \le n$。



---

---
title: "[蓝桥杯 2024 国 B] 跳石头"
layout: "post"
diff: 普及/提高-
pid: P10914
tag: ['2024', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 B] 跳石头
## 题目描述

小明正在和朋友们玩跳石头的小游戏，一共有 $n$ 块石头按 $1$ 到 $n$ 顺序排成一排，第 $i$ 块石头上写有正整数权值 $c_i$。

如果某一时刻小明在第 $j$ 块石头，那么他可以选择跳向第 $j + c_j$ 块石头（前提 $j + c_j \le n$）或者跳向第 $2j$ 块石头（前提 $2j \le n$），没有可跳跃的目标时游戏结束。

假如小明选择从第 $x$ 块石头开始跳跃，如果某块石头**有可能**被小明经过（“经过” 指存在某一时刻小明在这个石头处），则将这块石头的权值纳入得分集合 $S_x$，那么小明从第 $x$ 块石头开始跳跃的得分为 $|S_x|$。

比如如果小明从第 $x$ 块石头出发，所有可能经过的石头上的权值分别为 $5,3,5,2, 3$，那么 $S_x = \{5, 3, 2\}$ 得分为 $|S_x| = 3$。小明可以任选一块石头开始跳跃，请求出小明最多能获得的分数。
## 输入格式

输入共 $2$ 行。

第一行为一个正整数 $n$。

第二行为 $n$ 个由空格分开的正整数 $c_1, c_2,\cdots, c_n$。
## 输出格式

输出共 $1$ 行，一个整数表示答案。
## 样例

### 样例输入 #1
```
5
4 3 5 2 1
```
### 样例输出 #1
```
4
```
## 提示

**【样例说明】**

从第一块石头出发得分最多，路径有以下几种：

1. $1$ 号 $\to 5$ 号：选择从 $1$ 号跳到 $1 + c_1=5$ 号。
2. $1$ 号 $\to 2$ 号 $\to 5$ 号：第一次选择从 $1$ 号跳到 $2 \times 1=2$ 号，第二次选择从 $2$ 号跳到 $2 + c_2 = 5$ 号。
3. $1$ 号 $\to 2$ 号 $\to 4$ 号：第一次选择从 $1$ 号跳到 $2 \times 1=2$ 号，第二次选择从 $2$ 号跳到 $2 \times 2 = 4$ 号。

所以所有可能经过的石头的权值的集合为 $S_1 = \{c_1, c_2, c_4, c_5\} = \{4, 3, 2, 1\}$，得分为 $|S_1| = 4$。

**【评测用例规模与约定】**

对于 $20\%$ 的评测用例，保证 $n \le 20$。  
对于 $100\%$ 的评测用例，保证 $n \le 40000$，$c_i \le n$。


---

---
title: "[蓝桥杯 2023 国 Python A] 火车运输"
layout: "post"
diff: 普及/提高-
pid: P10987
tag: ['动态规划 DP', '2023', '背包 DP', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Python A] 火车运输
## 题目背景

为照顾 Python 语言的效率，本题时限较大。建议使用 PyPy3 提交本题。
## 题目描述

钢厂有一辆用于运送废旧钢材的火车，它具有两节车厢，其中车厢 1 的最大载重量为 $A$，车厢 2 的最大载重量为 $B$。现在一共有 $N$ 件废旧钢材需要被运输，其中第 $i$ 件钢材的重量为 $w_i$，为了最大化运输效率，车长想要一次性运输走重量尽可能多的钢材，请你帮助车长计算出一次运输最多可以带走多大重量的钢材。

每件钢材都是独立的不可分割的，只能被放置在某一节车厢中。在装载钢材时只需要考虑重量条件即可。

## 输入格式

输入的第一行包含三个整数 $N ,A,B$，用一个空格分隔，分别表示钢材的数目以及两节车厢的最大载重。

第二行包含 $N$ 个整数，分别表示 $w_1,w_2, \cdots,w_n$，相邻两个整数之间使用一个空格分隔。
## 输出格式

输出一个整数表示答案。

## 样例

### 样例输入 #1
```
3 10 8
8 9 1

```
### 样例输出 #1
```
18
```
## 提示

对于 $30\%$ 的评测用例，$1 \le N \le 10$；

对于所有评测用例，$1 \le N \le 200,1 \le w_i
,A,B \le 1000$。

#### 样例解释

车厢 1 装入第 $2$ 件和第 $3$ 件钢材，车厢 2 装入第 $1$ 件钢材。


---

---
title: "[蓝桥杯 2023 国 Python B] 交易账本"
layout: "post"
diff: 普及/提高-
pid: P12209
tag: ['模拟', '2023', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Python B] 交易账本
## 题目描述

小蓝最近研发了一种新的记账方式，并邀请了一些用户参加测试。交易账本可以看作是交易记录的集合，每条交易记录都有着一个独一无二的交易编号 $txId$（编号大小反映了交易记录产生的时间顺序，$txId$ 小的交易记录先发生于 $txId$ 大的交易记录），每条交易记录包含一个或多个输入信息以及一个或多个输出信息。

其中输入来自于已经发生过的某笔交易的某个输出，可以理解为这笔钱从某笔交易输出后继续输入到了当前这笔交易中，输入信息主要包含以下数据： $fromTxId$、$fromTxOutNumber$，这表示当前输入来自于交易编号为 $fromTxId$ 的第 $fromTxOutNumber$ （$fromTxOutNumber=0,1,2, \cdots$）个输出；输出信息主要包含以下数据：$account$、$val$，表示将 $val$ 数目的钱转移到了账户编号为 $account$ 的账户上。注意，当 $fromTxId$ 和 $fromTxOutNumber$ 都为 $-1$ 时，表明这是一笔特殊交易，由系统账户直接产生输出，特殊交易只含有一个输入和一个输出，可以认为系统账户拥有无限多数目的钱，特殊交易一定可以成功。

一个合法的账本应满足以下条件：
1) 对于每笔交易记录，所有的输入中涉及到的钱的总数目应和所有输出中钱的总数目相等；
2) 交易中的一个输出要么不使用，要使用的话输出中的钱应该全部分配给下一个输入，而不能分配给多个输入（特殊交易除外）；
3) 交易按照顺序进行，不可以在某笔交易中引用还未发生的交易。

现在已知一共有 $N$ 个不同的账户，初始时所有账户钱数目都为 $0$，账本上总计有 $M$ 条交易记录（按照交易完成的顺序进行记录），请你来判断下账本上的记录是否是合法的。
## 输入格式

输入的第一行包含一个整数 $T$，表示有 $T$ 组输入数据。

对于每组输入数据：

第一行包含两个整数 $N, M$，用一个空格分隔，分别表示账户的数目和账本的交易记录数目，其中账户编号为 $0,1,2, \cdots, N-1$ ，交易记录编号为 $0,1,2, \cdots, M-1$。

接下来 $M$ 行，每行包含一条交易记录的信息，交易记录编号依次为 $0,1,2, \cdots, M-1$。第一个整数 $inCount$ 表示输入的个数，接下来包含 $inCount$ 个输入信息，每个输入信息包含 $fromTxId$ 和 $fromTxOutNumber$ 两个整数；接下来包含一个整数 $outCount$ 表示输出的个数，然后接着包含 $outCount$ 个输出信息，每个输出信息包含 $account$ 和 $val$ 两个整数。
## 输出格式

对于每组输入数据输出一行，如果账本记录合法则输出英文单词 $\tt{YES}$，否则输出英文单词 $\tt{NO}$。
## 样例

### 样例输入 #1
```
4
3 3
1 -1 -1 1 0 100
1 0 0 2 1 50 2 50
2 1 0 1 1 1 2 100
3 3
1 -1 -1 1 0 100
1 0 0 2 1 50 2 50
2 1 0 1 1 1 2 150
3 3
1 -1 -1 1 0 100
1 0 0 2 1 50 2 50
3 0 0 1 0 1 1 1 2 200
3 3
1 -1 -1 1 0 100
2 0 0 2 0 2 1 100 2 100
1 -1 -1 1 2 100
```
### 样例输出 #1
```
YES
NO
NO
NO
```
## 提示

### 样例说明

对于第一个数据：第一条交易 $(txId=0)$ 为特殊交易，给账户 0 转入了 100；第二条交易 $(txId=1)$ 将上一条交易的唯一一个输出作为当前交易的输入，有两个输出，分别给账户 1 和 2 转入了 50；最后一条交易 $(txId=2)$ 将上一条交易的两个输出作为当前交易的输入，给账户 2 转入了 100 。

对于第二个数据，第三条交易中输入与输出总额不相等。

对于第三个数据，第一条交易中的输出被使用了超过一次。

对于第四个数据，第二条交易中引用了还未发生的交易的输出。

### 评测用例规模与约定

对于所有评测用例， $1 \leq T \leq 10$，$1 \leq N \leq 100$，$1 \leq M \leq 1000$，$1 \leq inCount, outCount \leq 100$，$1 \leq$ 交易中涉及到钱的数目 $\leq 10000$，$0 \leq account \leq N-1$。


---

---
title: "[蓝桥杯 2023 国 Python B] 翻转"
layout: "post"
diff: 普及/提高-
pid: P12211
tag: ['动态规划 DP', '2023', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Python B] 翻转
## 题目描述

小蓝制作了 $n$ 个工件，每个工件用一个由小写英文字母组成的，长度为 $2$ 的字符串表示，第 $i$ 个工件表示为 $s_{i}$。小蓝想把 $n$ 个工件拼接到一起，方便转移到另一个地方完成下一道工序，而拼接后的工件用字符串 $S=s_{1}+s_{2}+\ldots+s_{n}$ 表示，其中 $+$ 表示一种奇特的拼接方式：对于 $c=a+b$ 来说，如果 $a$ 的第二个字符和 $b$ 的第一个字符相同，则拼接后的结果 $c$ 长度为 $3$ 而不是 $4$，中间相同的字符可以省略一个，比如 $\tt{xy}+\tt{yz}=\tt{xyz}$ 而 $\tt{xy}+\tt{zy}=\tt{xyzy}$。小蓝为了让拼接后的字符串 $S$ 的长度尽量小，可以将若干个工件进行左右翻转之后再进行拼接，请问拼接后的字符串 $S$ 的最小长度是多少?

请注意所有工件必须按出现顺序依次拼接，可以翻转任意工件。

## 输入格式

输入的第一行包含一个正整数 $n$。

接下来 $n$ 行，每行包含一个长度为 $2$ 的字符串，依次表示 $s_{1}, s_{2}, \cdots, s_{n}$。
## 输出格式

输出一行，包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3
ab
cb
zz
```
### 样例输出 #1
```
5
```
## 提示

### 样例说明

将 $s_{2}$ 翻转后, 拼接结果为 $\tt{abczz}$, 长度为 $5$。

### 评测用例规模与约定

- 对于 $20 \%$ 的评测用例, $n \leq 20$；
- 对于所有评测用例, $1 \leq n \leq 10^{5}$。


---

---
title: "[蓝桥杯 2023 国 Python B] 最大阶梯"
layout: "post"
diff: 普及/提高-
pid: P12212
tag: ['动态规划 DP', '2023', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Python B] 最大阶梯
## 题目描述

小蓝特别喜爱阶梯图案，阶梯图案可以看做是由若干个大小和颜色都相同的方格组成的，对于大小为 $N$ 的阶梯图案，包含了 $N$ 个连续的列，其中第 $i$ 列恰好有 $i$（ $1 \leq i \leq N$）个方格，将这 $N$ 列的底部对齐后便组成了一个阶梯图案，将其按照 90 度旋转若干次后仍是阶梯图案，下图展示了几个不同大小的阶梯图案：

![](https://cdn.luogu.com.cn/upload/image_hosting/rdpqw4jc.png)

小蓝有一块大小为 $H \times H$ 的布匹，由 $H \times H$ 个大小相同的方格区域组成，每一个方格都有自己的颜色。小蓝可以沿着方格的边缘对布匹进行裁剪，他想要知道自己能得到的最大的同色阶梯图案的大小是多少？
## 输入格式

输入的第一行包含一个整数 $H$ 表示布匹大小。

接下来输入 $H$ 行，每行包含 $H$ 个整数，相邻的整数之间使用一个空格分隔，表示每个方格的颜色。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
5
0 2 1 1 0
0 0 2 2 0
0 0 1 1 1
0 0 1 1 1
2 1 1 0 2
```
### 样例输出 #1
```
3
```
## 提示

### 样例说明

如下图所示，最大的同色阶梯图案用红色边框标出。

![](https://cdn.luogu.com.cn/upload/image_hosting/sdouq50c.png)

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$1 \leq H \leq 10$；
- 对于 $60\%$ 的评测用例，$1 \leq H \leq 100$；
- 对于所有评测用例， $1 \leq H \leq 1000$，$0 \leq$ 方格颜色 $\leq 10$。


---

---
title: "[蓝桥杯 2023 国 Python B] 贸易航线"
layout: "post"
diff: 普及/提高-
pid: P12214
tag: ['动态规划 DP', '2023', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Python B] 贸易航线
## 题目描述

小蓝要带领一支船队依次经过 $n$ 个地点。小蓝的船上可以携带 $k$ 单位的商品，商品共有 $m$ 种，在每个地点的价格各不相同，部分商品在部分地区无法交易。

一开始小蓝的船是空的，小蓝可以在每个地点任意地买入各种商品，然后在之后经过的地点卖出。小蓝的钱很多，你可以认为小蓝买入商品时只会受到船队的容量的限制。

问小蓝到达终点时的最大收益是多少。
## 输入格式

输入的第一行包含三个整数 $n, m, k$，相邻的整数之间使用一个空格分隔。

接下来 $n$ 行，每行包含 $m$ 个整数，其中第 $i$ 行的第 $j$ 个数 $P_{i,j}$ 表示在第 $i$ 个地点第 $j$ 种商品的价格。特别地，值为 $-1$ 表示该商品在这个地区无法交易。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
7 4 4
1 2 3 6
-1 2 3 4
-1 2 4 4
3 3 2 2
2 5 3 1
1 3 3 2
1 2 4 2
```
### 样例输出 #1
```
24
```
## 提示

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$n \leq 300$，$m \leq 3$，$k \leq 10$；
- 对于 $40\%$ 的评测用例，$n \leq 2000$，$m \leq 4$，$k \leq 50$；
- 对于所有评测用例，$1 \leq n \leq 10^5$，$1 \leq m \leq 10$，$1 \leq k \leq 100$，$1 \leq P_{i,j} \leq 10^9$。


---

---
title: "[蓝桥杯 2023 国 Java B] 逆元"
layout: "post"
diff: 普及/提高-
pid: P12217
tag: ['2023', '数论', '逆元', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Java B] 逆元
## 题目描述

数论中的逆元是一个可以把除法转换为乘法的工具。若自然数 $a, I_a$ 满足 $a \times I_a \equiv 1 \pmod{M}$，则称 $a$ 在模 $M$ 的意义下的逆元为 $I_a$，这样在模 $M$ 下计算除法时，可以把除以 $a$ 的运算转化为乘以其逆元 $I_a$。

给定质数模数 $M = 2\,146\,516\,019$，根据费马小定理对于不是 $M$ 倍数的正整数 $a$，有 $a^{(M-1)} \equiv 1 \pmod{M}$，求出 $[1, 233\,333\,333]$ 内所有自然数的逆元。则所有逆元的异或和为多少？
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2023 国 Java B] 不完整的算式"
layout: "post"
diff: 普及/提高-
pid: P12219
tag: ['模拟', '字符串', '2023', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Java B] 不完整的算式
## 题目描述

小蓝在黑板上写了一个形如 $A \quad op \quad B = C$ 的算式，其中 $A$、$B$、$C$ 都是非负整数，$op$ 是 $+$、$-$、$\times$、$/$（整除）四种运算之一。

不过 $A$、$op$、$B$、$C$ 这四部分有一部分被不小心的同学擦掉了。

给出这个不完整的算式，其中被擦掉的部分（被擦掉的部分是被完整的擦掉，不会出现留下若干位数字的情况）用 $\tt{?}$ 代替。请你输出被擦掉的部分。
## 输入格式

输入只有一行，包含一个字符串代表如上文所述的不完整的算式。
## 输出格式

如果被擦掉的部分是 $A$、$B$、$C$ 之一，请输出一个整数代表答案。如果被擦掉的部分是 $op$，请输出 $\tt{+}$、$\tt{-}$、$\tt{*}$、$\tt{/}$ 四个字符之一代表答案。
## 样例

### 样例输入 #1
```
1+?=2
```
### 样例输出 #1
```
1
```
### 样例输入 #2
```
10?3=3
```
### 样例输出 #2
```
/
```
## 提示

### 评测用例规模与约定

- 对于 $20\%$ 的数据，被擦掉的部分是 $C$。
- 对于 $40\%$ 的数据，被擦掉的部分是 $op$。
- 对于 $100\%$ 的数据，算式长度不超过 $10$，不包含空格。算式中出现的整数不包含多余的前导 $0$。输入保证合法且有唯一解。


---

---
title: "[蓝桥杯 2023 国 Java B] 序列"
layout: "post"
diff: 普及/提高-
pid: P12221
tag: ['数学', '2023', '数论', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Java B] 序列
## 题目描述

给定一个长度为 $n$ 的正整数序列 $a_1, a_2, \ldots, a_n$，同时有一个首项为 $d$，公差为 $d$，项数为 $n$ 的等差数列 $\{b_1 = d, b_2 = 2d, \ldots, b_n = nd\}$。

定义 $S_d = \displaystyle \sum_{a_i | b_i} 1$，即 $S_d$ 表示当公差为 $d$ 时有多少对 $(a_i, b_i)$ 满足 $b_i$ 被 $a_i$ 整除，请求出 $\displaystyle \sum_{i=1}^{n} S_i$。
## 输入格式

输入共 $2$ 行。

第一行为一个正整数 $n$。

第二行为 $n$ 个由空格隔开的正整数 $a_1, a_2, \ldots, a_n$。
## 输出格式

输出共 $1$ 行，一个整数。
## 样例

### 样例输入 #1
```
4
2 2 3 1
```
### 样例输出 #1
```
14
```
## 提示

### 样例说明

- 当公差等于 $1$：$b = \{1, 2, 3, 4\}$, 有 3 对 $(a_i, b_i)$ 满足条件，$S_1 = 3$。
- 当公差等于 $2$：$b = \{2, 4, 6, 8\}$, 有 4 对 $(a_i, b_i)$ 满足条件，$S_2 = 4$。
- 当公差等于 $3$：$b = \{3, 6, 9, 12\}$, 有 3 对 $(a_i, b_i)$ 满足条件，$S_3 = 3$。
- 当公差等于 $4$：$b = \{4, 8, 12, 16\}$, 有 4 对 $(a_i, b_i)$ 满足条件，$S_4 = 4$。

所以答案为 $3 + 4 + 3 + 4 = 14$。

### 评测用例规模与约定

- 对于 $20\%$ 的数据, 保证 $n \leq 10^3$。
- 对于 $100\%$ 的数据, 保证 $1\leq n \leq 10^5$，$1\leq a_i \leq n$。



---

---
title: "[蓝桥杯 2023 国 Java B] 电动车"
layout: "post"
diff: 普及/提高-
pid: P12222
tag: ['2023', '生成树', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Java B] 电动车
## 题目描述

作为一名繁忙的程序员，小蓝经常需要在 $N$ 座城市之间来回穿梭。他准备购买一辆电动车出行，但是担心电动车电量不足。

为了描述方便，我们把 $N$ 座城市编号 $1$ 至 $N$。城市之间一共有 $M$ 条双向高速公路相连。其中第 $i$ 条连接 $u_i$ 号城市和 $v_i$ 号城市，耗费 $w_i$ 个单位的电量。

假设小蓝可以在出发城市，以及任何中途经过的城市充满电。小蓝想知道，如果希望从任意城市开电动车到任意另一个城市，都可以找到一条由若干高速公路组成路径，使得不需要在任何高速公路内补充电量，那么这台电动车至少需要多少电量？
## 输入格式

第一行包含两个整数 $N$ 和 $M$。

以下 $M$ 行，每行包含 $3$ 个整数 $u_i$、$v_i$ 和 $w_i$。
## 输出格式

一个整数，代表答案。

如果存在两个城市不能通过高速公路相互到达，输出 $-1$。
## 样例

### 样例输入 #1
```
4 5
1 2 3
1 3 5
2 4 2
4 3 2
4 1 4
```
### 样例输出 #1
```
3
```
## 提示

### 样例说明

- 从 $1$ 到 $2$ 可以走：$1 \rightarrow 2$，需要电量 3。
- 从 $1$ 到 $3$ 可以走：$1 \rightarrow 2 \rightarrow 4 \rightarrow 3$，其中 $1 \rightarrow 2$ 需要电量 $3$，$2 \rightarrow 4$ 需要电量 $2$，$4 \rightarrow 3$ 需要电量 $2$，全程至少需要电量 $3$。
- 从 $1$ 到 $4$ 可以走：$1 \rightarrow 2 \rightarrow 4$，其中 $1 \rightarrow 2$ 需要电量 $3$，$2 \rightarrow 4$ 需要电量 $2$，全程至少需要电量 $3$。
- 从 $2$ 到 $3$ 可以走：$2 \rightarrow 4 \rightarrow 3$，其中 $2 \rightarrow 4$ 需要电量 $2$，$4 \rightarrow 3$ 需要电量 $2$，全程至少需要电量 $2$。
- 从 $2$ 到 $4$ 可以走：$2 \rightarrow 4$，需要电量 $2$。
- 从 $3$ 到 $4$ 可以走：$3 \rightarrow 4$，需要电量 $2$。

综上所述，电动车至少需要 $3$ 个单位的电量。

### 评测用例规模与约定

- 对于 $20\%$ 的数据，$1 \leq N, M \leq 100$，$0 \leq w_i \leq 100$。
- 对于 $100\%$ 的数据，$1 \leq N, M \leq 200000$，$0 \leq w_i \leq 10^9$。


---

---
title: "[蓝桥杯 2023 国 Java A] X 质数"
layout: "post"
diff: 普及/提高-
pid: P12233
tag: ['2023', '素数判断,质数,筛法', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Java A] X 质数
## 题目描述

对于一个含有 $M$ 个数位的正整数 $N$，任意选中其中 $K$ 个不同的数位（$0 \leq K < M$），将这些选中的数位删除之后，余下的数位按照原来的顺序组成了一个新的数字 $P$。如果至少存在一个 $P$ 是质数，我们就称 $N$ 是一个 X 质数。例如，对于整数 $7869$，我们可以删去 $7$ 和 $6$，得到一个新的数字 $89$，由于 $89$ 是一个质数，因此 $7869$ 是一个 X 质数。又如，对于整数 $77$，可以删去一个 $7$ 后变为质数 $7$，因此 $77$ 也是一个 X 质数。

请问 $1$（含）至 $1\,000\,000$（含）中一共有多少个不同的 X 质数。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2023 国 Java A] 躲炮弹"
layout: "post"
diff: 普及/提高-
pid: P12235
tag: ['2023', '素数判断,质数,筛法', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 Java A] 躲炮弹
## 题目描述

小蓝正在玩一个躲炮弹的游戏。游戏中有一个人物和一个炮塔，它们的初始距离为 $n$。

炮塔可能选择在区间 $[L, R]$ 上的任意一个整数 $x$，然后发射的炮弹会飞向小蓝操控的人物。但炮弹只会在飞出 $x$ 的倍数的距离（$x, 2x, 3x, \ldots$）时落地，然后弹回到空中。如果小蓝操控的人物恰好站在了炮弹落地的位置，那么游戏就会结束。

小蓝只能在炮弹发射前移动他的人物，每移动一步，可以使得人物和炮塔的距离增加 $1$ 或者减少 $1$。他想知道最少要移动多少步才能保证自己的人物一定能躲过炮弹。
## 输入格式

输入一行包含三个整数 $n, L, R$，相邻的整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数，表示小蓝操纵的人物最少需要移动的步数。
## 样例

### 样例输入 #1
```
10 2 13
```
### 样例输出 #1
```
7
```
## 提示

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$n, L, R \leq 10^6$；
- 对于所有评测用例，$1 \leq n, L, R \leq 10^9$，$2 \leq L \leq R$。


---

---
title: "[蓝桥杯 2023 国 C] 定时任务"
layout: "post"
diff: 普及/提高-
pid: P12240
tag: ['模拟', '字符串', '2023', '枚举', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 C] 定时任务
## 题目描述

Cron 表达式在定时任务中经常被使用，在这里我们用了一种简化后的版本 SimpleCron 表达式：SimpleCron 表达式是一个具有时间含义的字符串，字符串以 $4$ 个空格隔开，分为 $5$ 个域，格式为 $X \ X \ X \ X \ X$，其中 $X$ 是一个域的占位符。$5$ 个域从左至右依次为秒 $(0 - 59)$、分钟 $(0 - 59)$、小时 $(0 - 23)$、日期 $(1 - 31)$、月份 $(1 - 12)$，其中括号内为他们各自的取值范围。同时域内取值也可以使用一些特殊字符（每个域内只能使用一种特殊字符）：

1. 特殊字符 $\tt{*}$（ASCII 码为 $42$）表示所有可能的值。例如：在分钟域内表示每一分钟；在日期域内表示月内的每一天。
2. 特殊字符 $\tt{,}$（ASCII 码为 $44$）表示列出枚举值。例如：在秒域内，$3,20$ 表示分别在 3 秒和 20 秒执行一次任务。
3. 特殊字符 $\tt{-}$（ASCII 码为 $45$）表示范围，可以视为连续的若干个枚举值。例如：$1 - 5$ 等价于 $1,2,3,4,5$。

例如，

$$ 421,3,151 - 31 * $$

表示的含义是每个月份中的每一天中的 $01:02:04$、$03:02:04$、$15:02:04$ 这三个时刻各执行一次，在 $2023$ 年一共会执行 $1095$ 次。

现在给出你一个合法的 SimpleCron 表达式，其中用到的所有数字均没有前导零。请问在 $2023$ 一整年当中，使用了这个表达式的定时任务总计会执行多少次？
## 输入格式

输入一行，包含一个 SimpleCron 字符串。
## 输出格式

输出一行，包含一个整数表示答案。
## 样例

### 样例输入 #1
```
4 2 1,3,15 1-31 *
```
### 样例输出 #1
```
1095
```
## 提示

### 评测用例规模与约定

对于所有评测用例，$0 \leq$ 秒域的取值 $\leq 59$，$0 \leq$ 分钟域的取值 $\leq$ $59$，$0 \leq$ 小时域的取值 $\leq 23$，$1 \leq$ 日期域的取值 $\leq 31$，$1 \leq$ 月份域的取值 $\leq 12$。


---

---
title: "[蓝桥杯 2023 国 C] 最大区间"
layout: "post"
diff: 普及/提高-
pid: P12241
tag: ['2023', '蓝桥杯国赛', '单调栈']
---
# [蓝桥杯 2023 国 C] 最大区间
## 题目描述

给定一个长度为 $n$ 的序列 $A_i$，求 $L, R$ 使 $(R - L + 1) \cdot \min(A_L, A_{L+1}, \ldots, A_R)$ 尽可能大，其中 $\min$ 表示最小值。

你只需要输出最大的值即可，不需要输出具体的 $L, R$。
## 输入格式

输入的第一行包含一个整数 $n$。

第二行包含 $n$ 个整数，分别表示 $A_1, A_2, \ldots, A_n$，相邻两个整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
5
1 1 3 3 1
```
### 样例输出 #1
```
6
```
## 提示

### 评测用例规模与约定

对于 $40\%$ 的评测用例，$1 \leq n \leq 5000$，$1 \leq A_i \leq 5000$；

对于所有评测用例，$1 \leq n \leq 3 \times 10^5$，$1 \leq A_i \leq 10^9$。


---

---
title: "[蓝桥杯 2024 国 Java B] 宝塔"
layout: "post"
diff: 普及/提高-
pid: P12253
tag: ['搜索', '2024', '枚举', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Java B] 宝塔
## 题目描述

小蓝最近迷上了宝塔游戏，这是一款迷宫填数游戏，玩家需要按照规则将高度为 $1$ 至 $N$ 的宝塔放置在一个 $N \times N$ 大小的水平放置的棋盘当中，每个宝塔占据棋盘的一个方格。具体规则如下：

1. 宝塔的高度只有 $1, 2, \ldots, N$。
2. 每一行、每一列中不可以出现相同高度的宝塔。
3. 棋盘周围的箭头中的数字表示从这个位置看向棋盘时可以看到的宝塔个数。

下图 1 是一个棋盘以及答案以供参考。图 2 是你需要解决的问题，你需要输出 $25$ 个数字表示答案，按照棋盘布局从左至右、从上至下的顺序输出即可。例如对于图 1 对应的棋盘而言，输出的答案是：$1432432121433214$。题目保证答案只有一个。

![](https://cdn.luogu.com.cn/upload/image_hosting/e1n8xxik.png)
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2024 国 Python B] 儿童数"
layout: "post"
diff: 普及/提高-
pid: P12267
tag: ['2024', '数论', '素数判断,质数,筛法', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Python B] 儿童数
## 题目描述

若一个正整数 $n$ 满足 $n^{61}$ 整除 $2024!$，即 $2024!$ 除以 $n^{61}$ 的余数为 $0$，则称 $n$ 为“儿童数”。其中 $2024!$ 表示 2024 的阶乘，即 $1 \times 2 \times \cdots \times 2024$。

现在，请你计算在区间 $[1, \infty)$ 内一共有多少个“儿童数”。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2024 国 Python B] 切木棒"
layout: "post"
diff: 普及/提高-
pid: P12269
tag: ['二分', '2024', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Python B] 切木棒
## 题目描述

给定 $n$ 根木棒，第 $i$ 根木棒的长度为 $L_i$。

每次你可以选择任意一根木棒并将其切成两段，切完后两段的长度都必须为整数。

请问，如果一共切 $m$ 次，在所有的方案中，切完后木棒中最长的一根最短是多少？
## 输入格式

输入的第一行包含两个整数 $n, m$，用一个空格分隔。

第二行包含 $n$ 个正整数 $L_1, L_2, \ldots, L_n$，依次表示每根木棍的长度。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3 3
3 4 6
```
### 样例输出 #1
```
3
```
## 提示

### 评测用例规模与约定

- 对于 $60\%$ 的评测用例，$n \leq 5000$；
- 对于所有评测用例，$1 \leq n \leq 3 \times 10^5$，$1 \leq m, L_i \leq 10^9$。


---

---
title: "[蓝桥杯 2024 国 Python B] 马与象"
layout: "post"
diff: 普及/提高-
pid: P12270
tag: ['搜索', '2024', '广度优先搜索 BFS', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Python B] 马与象
## 题目描述

小蓝有一个大小为 $N \times N$ 的棋盘（棋子可以走的位置有 $(N+1) \times (N+1)$ 个），棋盘上只有两个棋子：一个马和一个象，他们的行动规则是：马走日，马可以走到一个日字形状的对角；象飞田，象可以走到一个田字形状的对角，即斜着走两格（注意无需遵守象棋中的蹩马腿、塞象眼的规则）。在下图所示的大小为 $4 \times 4$ 的棋盘上，展示了两种棋子具体的行进方式：

![](https://cdn.luogu.com.cn/upload/image_hosting/73wb4l9u.png)

在任意一方先手、每一方都可以连续走任意步的情况下，请问有没有可能出现一方吃掉另一方的局面，如果有，请输出最少需要经过几步可以达到这个局面，否则输出 $-1$。注意：棋子不能走出棋盘。
## 输入格式

输入一行包括五个整数 $N, x_1, y_1, x_2, y_2$ ，相邻整数之间使用一个空格分隔，表示棋盘大小、马的初始位置 $(x_1, y_1)$ 以及象的初始位置 $(x_2, y_2)$。
## 输出格式

输出一行包含一个整数表示答案。如果答案不存在输出 $-1$。
## 样例

### 样例输入 #1
```
4 0 2 1 2
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
4 2 2 2 3
```
### 样例输出 #2
```
2
```
## 提示

### 样例说明 1

![](https://cdn.luogu.com.cn/upload/image_hosting/h3wu7zlr.png)

### 样例说明 2

各走一步可能出现一方吃掉另一方的局面。

### 评测用例规模与约定

- 对于 $50\%$ 的评测用例，$1 \leq N \leq 10$；
- 对于所有评测用例，$1 \leq N \leq 50$，$0 \leq x_1, y_1, x_2, y_2 \leq N$。


---

---
title: "[蓝桥杯 2024 国 Python A] 特别的数组"
layout: "post"
diff: 普及/提高-
pid: P12280
tag: ['贪心', '2024', '双指针 two-pointer', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Python A] 特别的数组
## 题目描述

如果一个数组中的所有元素都互不相同，我们称其为一个特别的数组。

给定一个数组 $(a_1, a_2, \cdots, a_n)$，你可以选择一对 $L, R$ 并将数组中的第 $L$ 至 $R$ 个元素移除。求对给定的数组进行一次这样的操作后可以得到的特别的数组的长度最大是多少。
## 输入格式

输入的第一行包含一个整数 $n$，表示数组的长度。

第二行包含 $n$ 个整数 $a_1, a_2, \cdots, a_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示进行一次移除操作后可以得到的特别的数组的最大长度。
## 样例

### 样例输入 #1
```
9
1 2 3 4 2 5 7 6 3
```
### 样例输出 #1
```
7
```
## 提示

### 样例说明

移除第 $2, 3$ 个元素可以得到 $1 \ 4 \ 2 \ 5 \ 7 \ 6 \ 3$。

### 评测用例规模与约定

- 对于 $60\%$ 的评测用例，$n \leq 5000$；
- 对于所有评测用例，$1 \leq n, a_i \leq 10^5$。


---

---
title: "[蓝桥杯 2024 国 Python A/Java A] 记事本"
layout: "post"
diff: 普及/提高-
pid: P12281
tag: ['模拟', '字符串', '2024', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Python A/Java A] 记事本
## 题目描述

小蓝经常用记事本记录文字，最近他发现记事本功能太少，因此他写了一款插件用来支持记事本更多的文本编辑功能，这些功能如下表所示：

| 命令 | 功能 |
| :---: | :---: |
| $[n]\mathrm{h}$ | 光标向左移动 $[n]$ 个字符（到最左侧则停止）。 |
| $[n]\mathrm{l}$ | 光标向右移动 $[n]$ 个字符（到最右侧则停止）。 |
| $\mathrm{insert}$ "$[text]$" | 在当前光标位置插入文本 $[text]$，同时光标移动到 $[text]$ 右侧。 |
| $\mathrm d [n]\mathrm{h}$ | 删除光标左侧 $[n]$ 个字符（不足 $[n]$ 则全删除）。 |
| $\mathrm d [n]\mathrm{l}$ | 删除光标右侧 $[n]$ 个字符（不足 $[n]$ 则全删除）。 |

小蓝建立了一个新的文本文件，初始是空白的，在经过若干次上述操作之后，请将文本内容输出。
## 输入格式

输入的第一行包含一个整数 $T$，表示操作次数。

接下来 $T$ 行，每行包含一个命令，格式如上表所示。
## 输出格式

输出一行包含一个字符串表示最终文本内容。
## 样例

### 样例输入 #1
```
9
d1h
insert "hello"
insert " world"
7h
d2h
insert "11"
3l
d1l
insert "0"
```
### 样例输出 #1
```
he11o w0rld
```
## 提示

### 评测用例规模与约定

对于所有评测用例，$1 \leq T \leq 100$，$1 \leq |text| \leq 100$，$1 \leq n \leq 100$，$text$ 仅包含大小写字母、数字、空格。


---

---
title: "[蓝桥杯 2024 国 Java A] 栈"
layout: "post"
diff: 普及/提高-
pid: P12288
tag: ['2024', '链表', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Java A] 栈
## 题目描述

小蓝有一个栈，他不断地向这个栈的顶端添加数字。小蓝希望栈中不存在相同的数，当他加入了一个之前已经存在的数时，栈中之前存在的那个数会消失（其它原有元素的相对顺序不变），小蓝还想随时知道栈中所有相邻的数中和为奇数的总共有多少组，请你计算出小蓝要求的结果。
## 输入格式

输入的第一行包含一个整数 $n$。

接下来 $n$ 行，每行包含一个整数 $A_i$，表示被添加的数。
## 输出格式

输出 $n$ 行，每行包含一个整数表示每次添加数后的答案。
## 样例

### 样例输入 #1
```
4
1
2
3
2
```
### 样例输出 #1
```
0
1
2
1
```
## 提示

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$1 \leq n \leq 1000$，$A_i \leq 300$；
- 对于 $70\%$ 的评测用例，$1 \leq n \leq 10^5$，$A_i \leq 1000$；
- 对于所有评测用例，$1 \leq n \leq 5 \times 10^5$，$1 \leq A_i \leq 10^6$。


---

---
title: "[蓝桥杯 2024 国 Java A] 修改数位"
layout: "post"
diff: 普及/提高-
pid: P12289
tag: ['贪心', '2024', '双指针 two-pointer', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Java A] 修改数位
## 题目描述

给定一个 $n$ 位的没有前导零的十进制数 $m$，你可以将其任意位 $a_i$ 改为任意其它数字 $b_i$，花费为 $|b_i - a_i|$。我们希望通过最少的花费使得修改后的数中存在连续的 $10$ 位，包含了从 $0$ 到 $9$ 的所有数字，且每个数字恰好出现一次。

请输出最少需要的花费是多少（修改后也要求没有前导零）。
## 输入格式

输入一行包含一个整数表示 $m$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
123456789301
```
### 样例输出 #1
```
1
```
## 提示

### 样例说明

将右边第 $3$ 位改为 $2$ 是一种方案，此时后 $10$ 位恰好含有 $0 \sim 9$ 各一个。

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$1 \leq n \leq 500$；
- 对于 $60\%$ 的评测用例，$1 \leq n \leq 5000$；
- 对于所有评测用例，$1 \leq n \leq 10^6$，请注意 $n$ 表示数位个数。


---

---
title: "[蓝桥杯 2024 国 C] 六一儿童节"
layout: "post"
diff: 普及/提高-
pid: P12312
tag: ['数学', '2024', '数论', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 C] 六一儿童节
## 题目描述

在蓝桥小镇，每年的六一儿童节是许多孩子最期待的日子。在这一天，神秘的数字精灵会出现，为孩子们带来惊喜和祝福。

今年的六一儿童节格外特别，因为数字精灵带来了一项有趣的挑战给小镇上的孩子们。

挑战的内容是：从数字 $1$ 至 $20240601$ 中找出两个不同的整数 $x$ 和 $y$，使得 $x, y$ 满足 $x$ 小于 $y$，且 $x^x + y^y$ 能够被 $6421$ 整除。成功找到这样一对数字的孩子们将会得到数字精灵准备的豪华大礼包。

对此，请你帮助孩子们计算出所有符合条件的整数对 $(x, y)$ 的数量，帮助小镇上的孩子们解决数字精灵的挑战，让他们能够在六一儿童节收获满满的快乐和难忘的回忆！
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2024 国 C] 集合的数量"
layout: "post"
diff: 普及/提高-
pid: P12314
tag: ['模拟', '字符串', '2024', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 C] 集合的数量
## 题目背景

截止 2025 年 4 月 23 日，蓝桥杯官网本题测试数据不符合测试点范围要求，存在类似如下的数据：

```
9
{}
{}
{""}
{"ejoa"}
{"aehr","ncuy"}
{"lidm","dgxy"}
{"fzxh"}
{"vtfh","vtfh","ksoc","vtfh"}
{"ksoc","vtfh","ksoc","vtfh"}
```

洛谷的数据剔除了此类情况。如果需要在蓝桥杯题库提交本题请注意这个问题。
## 题目描述

小蓝有 $n$ 个集合，这些集合中的元素还未去重。每个集合 $S_i$ 最多含有 $5$ 个长度不大于 $4$ 的仅含小写字母的字符串 $S_{i,j}$。

你需要计算小蓝的这些集合去重后有多少个（集合内的元素和集合之间都要去重）。

每个集合用 `{"abc"}`，`{"a","b","c","d"}` 的形式输入 (无空格)。

## 输入格式

输入的第一行包含一个整数 $n$。

接下来 $n$ 行，每行包含一个字符串，描述一个集合 $S_i$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3
{"a","b","b","b"}
{"a","a","b","b"}
{"a","a","a","b"}
```
### 样例输出 #1
```
1
```
## 提示

### 样例说明

三个集合本质上都是 `{"a","b"}`。

### 评测用例规模与约定
- 对于 $40\%$ 的评测用例，$n \leq 10$；
- 对于所有评测用例，$1 \leq n \leq 1000$，$|S_i| \leq 5$，$|S_{i,j}| \leq 4$ 。



---

---
title: "[蓝桥杯 2024 国 C] 挑苹果"
layout: "post"
diff: 普及/提高-
pid: P12315
tag: ['2024', '双指针 two-pointer', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 C] 挑苹果
## 题目描述

老师在班级里准备给同学们发苹果，一共有 $n$ 种苹果，第 $i$ 种苹果的美味值为 $a_i$，每名同学需要选择一个非负整数 $x$，这名同学可以获得所有满足条件 $[(a_i + x) \bmod k] \leq t$ 的苹果每种一个。小蓝使用魔法偷偷得知了 $k$ 和 $t$ 的值，小蓝想知道自己最多能获得多少个苹果。

## 输入格式

输入的第一行包含三个正整数 $n, k, t$，相邻整数之间使用一个空格分隔。

第二行包含 $n$ 个正整数 $a_1, a_2, \cdots, a_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
5 5 1
8 4 6 7 6
```
### 样例输出 #1
```
3
```
## 提示

### 样例说明

取 $x = 4$ 时，第 $3, 4, 5$ 种苹果都能获得。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq n, t, k \leq 1000$；
- 对于所有评测用例，$1 \leq n \leq 10^5$，$1 \leq a_i \leq 10^8$，$1 \leq t, k \leq 10^8$。


---

---
title: "[蓝桥杯 2024 国 C] 树的结点值"
layout: "post"
diff: 普及/提高-
pid: P12317
tag: ['2024', '深度优先搜索 DFS', '树的遍历', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 C] 树的结点值
## 题目描述

给定一棵包含 $n$ 个结点的树，其树根编号为 $1$。我们规定其第 $i$ 个结点的值为其对应的子树内所有与 $i$ 奇偶性相同的结点数量。请按编号从小到大的顺序输出其每个结点的值。
## 输入格式

输入的第一行包含一个整数 $n$。

接下来 $n-1$ 行描述每个结点的父结点，其中第 $i$ 行包含一个整数 $F_{i+1}$，表示第 $i+1$ 个结点的父结点。
## 输出格式

输出 $n$ 行，每行包含一个整数表示编号为 $i$ 的结点的值。
## 样例

### 样例输入 #1
```
5
1
2
1
2
```
### 样例输出 #1
```
3
1
1
1
1
```
## 提示

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$1 \leq n \leq 5000$；
- 对于所有评测用例，$1 \leq n \leq 2 \times 10^5$，$1 \leq F_i < i$。


---

---
title: "[蓝桥杯 2024 国 Java C] 瞬移"
layout: "post"
diff: 普及/提高-
pid: P12322
tag: ['搜索', '2024', '广度优先搜索 BFS', '蓝桥杯国赛']
---
# [蓝桥杯 2024 国 Java C] 瞬移
## 题目描述

小蓝在环游宇宙的过程中误入了一个数轴上的秘境，秘境的入口为 $1$，这是小蓝的初始位置，出口为 $L$，小蓝每次可以选取两个正整数 $x, y$，其中 $x, y \in \{a_1, a_2, \cdots, a_n\}$，并向右瞬间移动 $x + y$ 的距离，然而，秘境有大小限制，如果小蓝当前位置为 $p$，则瞬移后的位置为 $(p + x + y - 1) \bmod L + 1$，当小蓝的位置在出口 $L$ 时即可离开秘境，请问小蓝最少瞬移多少次之后可以离开秘境？

## 输入格式

输入的第一行包含两个正整数 $n, L$，用一个空格分隔。

第二行包含 $n$ 个整数 $a_1, a_2, \cdots, a_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案，如果小蓝永远无法离开秘境，输出 $-1$。
## 样例

### 样例输入 #1
```
2 10
1 2
```
### 样例输出 #1
```
3
```
## 提示

### 样例说明

- 第一次选取 $x = 1, y = 1$，到达位置 $3$，
- 第二次选取 $x = 1, y = 2$，到达位置 $6$，
- 第三次选取 $x = 2, y = 2$，到达位置 $10$。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq n \leq 200$，$1 \leq L \leq 200$；
- 对于所有评测用例，$1 \leq n \leq 2000$，$1 \leq L \leq 2000$，$0 \leq a_i \leq 10^8$。


---

---
title: "[蓝桥杯 2025 国 B] 新型锁"
layout: "post"
diff: 普及/提高-
pid: P12830
tag: ['动态规划 DP', '2025', '数论', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 B] 新型锁
## 题目描述

密码学家小蓝受邀参加国际密码学研讨会，为此他设计了一种新型锁，巧妙地融合了数学的严谨性与密码学的安全性。这把锁包含 2025 个连续的数字格，每个格子需填入一个正整数，从而形成一个长度为 2025 的序列 $\{a_1, a_2, \ldots, a_{2025}\}$，其中 $a_i$ 表示第 $i$ 个格子上的数字。

要想解锁，该序列需满足以下条件：任意两个相邻格子中的数字，其最小公倍数（LCM）均为 2025。即对于所有的 $i$（$1 \leq i \leq 2024$），需满足：

$$\text{LCM}(a_i, a_{i+1}) = 2025$$

现在，请你计算有多少个不同的序列能够解开这把锁。由于答案可能很大，你只需输出其对 $10^9 + 7$ 取余后的结果即可。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。


---

---
title: "[蓝桥杯 2025 国 B] 互质藏卡"
layout: "post"
diff: 普及/提高-
pid: P12831
tag: ['2025', '数论', '素数判断,质数,筛法', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 B] 互质藏卡
## 题目描述

小蓝整理着阁楼上的旧物，偶然发现了一个落满灰尘的卡片箱。打开箱子，里面整齐地摆放着 17600 张卡片，每张卡片上都写有一个数字，恰好包含了从 1 到 17600 的所有正整数。

儿时的他热衷于收集各种卡牌，数量之多令人咋舌。如今，再次翻阅这些尘封的记忆，小蓝不禁感慨万千。他想起收藏家前辈的箴言：“收藏的魅力在于精粹，而非数量”。于是，他决定从这些卡牌中选取 $2025$ 张，组成一套“互质藏卡”。

“互质藏卡”的特点在于：任意两张卡片上的数字之间互质，即它们的最大公约数恒为 $1$。现在，请你帮小蓝计算，共有多少种不同的选取方案，使得选出的 $2025$ 张卡片满足“互质藏卡”的条件。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。

注意：两个选取方案被认为是不同的，当且仅当它们所包含的数字集合不完全相同。即，若存在至少一个数字出现在其中一个集合但不出现在另一个集合中，则这两个方案被视为不同。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。


---

---
title: "[蓝桥杯 2025 国 B] 数字轮盘"
layout: "post"
diff: 普及/提高-
pid: P12832
tag: ['数学', '2025', '数论', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 B] 数字轮盘
## 题目描述

“数字轮盘”是一款益智游戏，基于一个带有指针的圆形轮盘展开。轮盘边缘按顺时针刻有数字 1 至 $N$，初始时指针指向 1。

游戏分为两阶段：旋转轮盘和恢复轮盘。

第一阶段，将轮盘顺时针旋转 $K$ 次。每次旋转，数字依次后移一位，指针指向的数字随之改变。例如，对于 $N = 4$ 的轮盘，初始状态为 1, 2, 3, 4（指针指向 1），旋转一次变为 4, 1, 2, 3（指针指向 4），再旋转一次变为 3, 4, 1, 2（指针指向 3），依此类推。

第二阶段，小蓝需通过操作恢复初始状态，每次操作包含以下两步：
- 第一步：翻转以指针为起点、顺时针方向的前 $N - 1$ 个数字的顺序。
- 第二步：翻转除指针外的 $N - 1$ 个数字的顺序。

例如，对 $N = 4$，状态为 4, 1, 2, 3（指针指向 4）进行一次操作：
- 第一步：翻转 4, 1, 2，变为 2, 1, 4, 3（指针指向 2）。
- 第二步：翻转 1, 4, 3，变为 2, 3, 4, 1（指针指向 2）。

现在，给定轮盘的数字个数 $N$ 和旋转次数 $K$，请计算小蓝最少需要几次操作才能恢复初始状态。如果无法恢复初始状态，则输出 -1。

## 输入格式

输入的第一行包含一个整数 $T$，表示测试用例的数量。

接下来 $T$ 行，每行包含两个整数 $N$ 和 $K$，分别表示轮盘上的数字个数和旋转次数。
## 输出格式

输出共 $T$ 行，每行包含一个整数，表示最少需要的操作次数。如果无法恢复初始状态，则输出 $-1$。
## 样例

### 样例输入 #1
```
2
3 2
4 1
```
### 样例输出 #1
```
2
-1
```
## 提示

**【评测用例规模与约定】**

对于 30% 的评测用例，$1 \leq T \leq 10^2$，$2 \leq N \leq 500$，$0 \leq K \leq 500$。

对于 100% 的评测用例，$1 \leq T \leq 10^5$，$2 \leq N \leq 10^9$，$0 \leq K \leq 10^9$。


---

---
title: "[蓝桥杯 2025 国 B] 斐波那契字符串"
layout: "post"
diff: 普及/提高-
pid: P12833
tag: ['动态规划 DP', '2025', '蓝桥杯国赛', '线性 DP']
---
# [蓝桥杯 2025 国 B] 斐波那契字符串
## 题目描述

斐波那契字符串 $S$ 是由 $\tt 0$ 和 $\tt 1$ 所组成的字符串，其生成规则如下：
- $S_1 = \tt 0$。
- $S_2 = \tt 1$。
- 对于任意正整数 $n (n \geq 3)$，$S_n = S_{n-2} + S_{n-1}$（“+”表示字符串拼接）。

例如：$S_3 = 01$、$S_4 = 101$、$S_5 = 01101$。

在斐波那契字符串 $S$ 中，定义逆序对为满足以下条件的整数对 $(i, j)$:
- $1 \leq i < j \leq |S|$（其中 $|S|$ 表示 $S$ 的长度）。
- $S[i] = 1$（第 $i$ 个字符为 $\tt 1$）并且 $S[j] = 0$（第 $j$ 个字符为 $\tt 0$）。

现在，给定一个正整数 $N$，请你计算出 $S_N$ 中所有逆序对 $(i, j)$ 的总数。由于结果可能很大，请输出其对 $10^9 + 7$ 取余后的值。
## 输入格式

输入的第一行包含一个整数 $T$，表示测试用例的数量。

接下来的 $T$ 行，每行包含一个整数 $N$，表示要计算的斐波那契字符串的序号。
## 输出格式

对于每个测试用例，输出一行，包含一个整数，表示 $S_N$ 中所有逆序对的总数对 $10^9 + 7$ 取余后的结果。
## 样例

### 样例输入 #1
```
2
3
5
```
### 样例输出 #1
```
0
2
```
## 提示

**【样例说明】**

对于 $N = 3$，$S_3 = 01$，逆序对总数为 0。

对于 $N = 5$，$S_5 = 01101$，逆序对为 $(2, 4)$、$(3, 4)$，总数为 2。

**【评测用例规模与约定】**

对于 20% 的评测用例，$1 \leq T \leq 20$，$3 \leq N \leq 35$。

对于 100% 的评测用例，$1 \leq T \leq 10^5$，$3 \leq N \leq 10^5$。


---

---
title: "[蓝桥杯 2025 国 B] 项链排列"
layout: "post"
diff: 普及/提高-
pid: P12834
tag: ['贪心', '2025', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 B] 项链排列
## 题目描述

小蓝有 $A$ 颗蓝珠（用字符 'L' 表示）和 $B$ 颗桥珠（用字符 'Q' 表示），他打算用这些珠子串成一条项链。他认为项链的美感主要体现在其视觉“变化”上：当项链中任意两个相邻的珠子种类不同时，就记为产生了一次“变化”。

为了系统地研究不同排列的美感，小蓝将每一种项链的排列方式表示为一个长度为 $A + B$ 的字符串。这个字符串由 $A$ 个字符 'L' 和 $B$ 个字符 'Q' 组成。相应地，一条项链的“变化次数”即为这个字符串中，所有相邻且不相同的字符对的数目。

例如，如果项链的排列是“LLQLQ”，那么：
- 第 1 个 'L' 和第 2 个 'L' 相同，无变化。
- 第 2 个 'L' 和第 3 个 'Q' 不同，产生了 1 次变化。
- 第 3 个 'Q' 和第 4 个 'L' 不同，产生了 1 次变化。
- 第 4 个 'L' 和第 5 个 'Q' 不同，产生了 1 次变化。

排列“LLQLQ”的总“变化次数”为 3。

现在，小蓝希望找到一种项链排列，使其总“变化次数”恰好为 $C$。对此，请你帮他在所有满足这一条件的排列中，找出字典序最小的那一个。如果不存在任何满足条件的排列方式，则输出 -1。
## 输入格式

输入仅一行，包含三个整数 $A，B$ 和 $C$，分别表示蓝珠数量、桥珠数量和目标变化次数。

## 输出格式

输出一个长度为 $A + B$ 的字符串，表示字典序最小的满足条件的排列。如果不存在这样的排列，则输出 $-1$。

## 样例

### 样例输入 #1
```
2 2 2
```
### 样例输出 #1
```
LQQL
```
### 样例输入 #2
```
2 2 3
```
### 样例输出 #2
```
LQLQ
```
### 样例输入 #3
```
2 2 4
```
### 样例输出 #3
```
-1
```
## 提示

**【评测用例规模与约定】**

对于 20% 的评测用例，$0 \leq A, B, C \leq 100$，$1 \leq A + B \leq 200$。

对于 100% 的评测用例，$0 \leq A, B, C \leq 10^6$，$1 \leq A + B \leq 2 \times 10^6$。


---

---
title: "[蓝桥杯 2025 国 B] 翻倍"
layout: "post"
diff: 普及/提高-
pid: P12836
tag: ['数学', '贪心', '2025', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 B] 翻倍
## 题目描述

给定 $n$ 个正整数 $A_1, A_2, \ldots, A_n$，每次操作可以选择任意一个数翻倍。

请输出让序列单调不下降，也就是每个数都不小于上一个数，最少需要操作多少次？
## 输入格式

输入的第一行包含一个正整数 $n$。

第二行包含 $n$ 个正整数 $A_1, A_2, \ldots, A_n$。
## 输出格式

输出一个整数表示需要的最小操作次数。
## 样例

### 样例输入 #1
```
6
4 3 2 1 7 9
```
### 样例输出 #1
```
8
```
## 提示

**【样例说明】**

可以将序列变为: $4, 6, 8, 8, 14, 18$，总计需要 $0 + 1 + 2 + 3 + 1 + 1 = 8$ 次操作。

**【评测用例规模与约定】**

对于 20% 的评测用例，$n \leq 10, A_i \leq 100$。

对于 50% 的评测用例，$n \leq 5000, A_i < 2^{32}$，保证存在操作可以在所有 $A_i$ 小于 $2^{32}$ 的情况下满足题目要求。

对于 100% 的评测用例，$1 \leq n \leq 2 \times 10^5, 1 \leq A_i < 2^{32}$。


---

---
title: "[蓝桥杯 2025 国 B] 子串去重"
layout: "post"
diff: 普及/提高-
pid: P12838
tag: ['字符串', '二分', '2025', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 B] 子串去重
## 题目背景

洛谷数据默认字符串由小写字母构成。
## 题目描述

给定一个字符串 $S$ 以及若干组询问，每个询问包含两个区间 $(L_a, R_a)$, $(L_b, R_b)$，你需要判定 $S_{L_a}, S_{L_a+1}, \ldots, S_{R_a}$ 与 $S_{L_b}, S_{L_b+1}, \ldots, S_{R_b}$ 去重后有多少个位置上的字符是不同的。

这里的去重指的是每个子串对于每种字符，只保留第一个出现的那个，后续出现的直接丢弃。

例如 $\tt{aabcbac}$ 在选中区间 $[1,5]$ 时，得到子串 $\tt{aabcb}$，去重后为 $\tt{abc}$，选中区间 $[3,6]$ 时得到 $\tt{bcba}$，去重后为 $\tt{bca}$。

特别地，两个长度不同的子串中，较长串的多出的部分每个位置都视为不同。
## 输入格式

输入第一行包含一个字符串 $S$。

第二行包含一个整数 $m$，表示询问次数。

接下来 $m$ 行，每行包含四个整数，表示一次询问。
## 输出格式

输出共 $m$ 行，每行一个整数对应每次询问的答案。
## 样例

### 样例输入 #1
```
aabcbabacdab
3
1 1 2 2
1 10 6 9
4 7 9 12
```
### 样例输出 #1
```
0
1
2
```
## 提示

**【评测用例规模与约定】**

对于 40% 的评测用例，$|S| \leq 10$, $m = 1$。

对于 60% 的评测用例，$|S|, m \leq 5000$。

对于 100% 的评测用例，$1 \leq |S|, m \leq 10^5$, $1 \leq L_a \leq R_a \leq |S|$, $1 \leq L_b \leq R_b \leq |S|$。


---

---
title: "[蓝桥杯 2025 国 A] OCR 校正"
layout: "post"
diff: 普及/提高-
pid: P12840
tag: ['数学', '2025', '组合数学', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 A] OCR 校正
## 题目描述

小蓝维护着一套 OCR 文字识别系统。最近，系统频繁地将数字 0 和英文字母 O 混淆，这让他十分头疼。一次测试中，系统将一串长度为 2025 的、全部由数字 0 组成的字符串识别成了一个长度相同的字符串，但其中只有首尾两个字符被正确识别为数字 0，其余部分都被错误地识别成了字母 O。

为了校正识别结果，小蓝需将所有的字母 O 替换回数字 0。只是，出于安全的考虑，该系统不允许直接批量修改所有字母 O，而是设定了如下替换规则:

1. 首次操作，可任意选择一个字母 O，将其替换为数字 0；
2. 后续操作，选择一个与数字 0 相邻的字母 O，将其替换为数字 0；
3. 重复上述步骤，直到所有字母 O 都被替换为数字 0。

小蓝想知道，在满足上述替换规则的情况下，总共有多少种不同的替换顺序可以将所有字母 O 替换为数字 0。两种替换顺序被视为不同的，当且仅当它们在某一步骤中选择了不同位置的字符。

现在，请你帮他计算这个数量。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。
## 输出格式

这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个范围在 0 至 $10^9 + 6$ 的整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。


---

---
title: "[蓝桥杯 2025 国 A] 小蓝的生日礼物"
layout: "post"
diff: 普及/提高-
pid: P12841
tag: ['数学', '2025', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 A] 小蓝的生日礼物
## 题目描述

2025 年 6 月 15 日是小蓝的生日，他的妈妈为他准备了一盒特别的生日礼物：8 张印有数字的卡片，上面分别写着 0, 0, 2, 2, 5, 5, 1, 6。

小蓝想用这些卡片拼凑出三角形。他的想法是，从卡片中选择至少一张卡片，组成一个数字，作为三角形的一条边长。例如，他可以选择卡片 2, 5, 1，组成 251、215、521、512、125、152 等数字。在组合数字时，不允许出现前导 0，也不允许组合出值为 0 的数（无法成为三角形的边）。

为了拼成一个三角形，他需要用同样的方法，再选择一些卡片组成第二个数字，作为三角形的第二条边长，然后再选择一些卡片组成第三个数字，作为三角形的第三条边长。

需要注意的是，在每次组成边长时，每张卡片只能使用一次。也就是说，如果卡片 6 已经被用来组成第一个边长，那么在组成第二个和第三个边长时，就不能再使用这张卡片 6 了。

现在，小蓝想知道，他总共可以拼凑出多少个不同的三角形？这里不同的三角形指的是三条边长所构成的集合不同。例如，边长为 $\{1, 2, 3\}$ 和 $\{2, 3, 4\}$ 的三角形被认为是不同的，而边长为 $\{2, 5, 6\}$ 和 $\{5, 2, 6\}$ 的三角形则被认为是相同的。
## 输出格式

这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。


---

---
title: "[蓝桥杯 2025 国 A] 土地整平计划"
layout: "post"
diff: 普及/提高-
pid: P12842
tag: ['2025', '枚举', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 A] 土地整平计划
## 题目描述

小蓝作为一个二维生物快乐地生活在二维坐标系中，他最近得到了一块土地，他想把这块土地整平用于修建花园。具体来说，这块土地从左到右长度为 $n$ 格，第 $i$ 格的高度为 $h_i (i \in [1, n])$。小蓝每次可以花费代价 $w$ 将一段连续的区间 $[l, r]$ 中的土地高度都变为 $w$，其中 $l \leq r$，这段区间需要满足以下三组条件之一：

1. $l = 1$, $r < n$，且对于 $i \in [l, r]$ 有 $h_i \neq h_{r+1}$，此时代价 $w = h_{r+1}$；
2. $l > 1$, $r = n$，且对于 $i \in [l, r]$ 有 $h_i \neq h_{l-1}$，此时代价 $w = h_{l-1}$；
3. $1 < l \leq r < n$，$h_{l-1} = h_{r+1}$，且对于 $i \in [l, r]$ 有 $h_i \neq h_{l-1}$，此时代价 $w = h_{l-1} = h_{r+1}$。

小蓝希望在若干次操作之后将这块土地整平，即所有格子的高度都相等，并且花费的代价总和最小。请你帮助他计算一下最小花费。

## 输入格式

输入的第一行包含一个正整数 $n$。

第二行包含 $n$ 个正整数 $h_1, h_2, \ldots, h_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
8
5 4 10 4 20 5 4 5
```
### 样例输出 #1
```
10
```
## 提示

**【样例说明】**

选择将土地高度都变为 $5$，只需操作两次：将 $[2,5]$ 和 $[7,7]$ 的高度都变为 $5$，代价总和为 $10$。

**【评测用例规模与约定】**

对于 50% 的评测用例，$1 \leq n \leq 5000$；

对于所有评测用例，$1 \leq n \leq 10^6$，$1 \leq h_i \leq 10^6$。


---

---
title: "[蓝桥杯 2025 国 A] 生日相遇问题"
layout: "post"
diff: 普及/提高-
pid: P12843
tag: ['模拟', '2025', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 A] 生日相遇问题
## 题目描述

小蓝和小乔是好朋友，他们想知道在未来的日子里，什么时候他们的生日会在同一个星期几。已知小蓝的生日是 $m$ 月 $d_1$ 日，小乔的生日是 $n$ 月 $d_2$ 日，请你计算从今年开始（今年为 2025 年），未来 $k$ 年内（包括今年，即年份在区间 $[2025, 2025 + k)$ 中），他们生日在同一个星期几的年份有哪些。

提示：
- 闰年的判断规则为：年份能被 $4$ 整除但不能被 $100$ 整除，或能被 $400$ 整除。闰年的 $2$ 月有 $29$ 天，非闰年的 $2$ 月有 $28$ 天。
- 如果某人的生日是 $2$ 月 $29$ 日，那么在非闰年中，他/她的生日将被视为 $2$ 月 $28$ 日进行计算。
- 保证输入日期均为合法日期。
## 输入格式

输入一行包含五个正整数 $m, d_1, n, d_2, k$，相邻整数之间使用一个空格分隔。

## 输出格式

输出若干行，每行包含一个整数，表示小蓝和小乔生日在同一个星期几的年份（从今年开始计算，按照年份从小到大的顺序输出）。如果在未来 $k$ 年内没有这样的年份，输出英文 No Answer。
## 样例

### 样例输入 #1
```
1 16 5 21 8
```
### 样例输出 #1
```
2028
2032
```
## 提示

**【样例说明】**

此样例中，小蓝的生日是 1 月 16 日，小乔的生日是 5 月 21 日。

从 2025 到 2032 年间，满足题意的是：

- 2028 年，1 月 16 日是星期日，5 月 21 日也是星期日。
- 2032 年，1 月 16 日是星期五，5 月 21 日也是星期五。

**【评测用例规模与约定】**

对于 25% 的评测用例，$1 \leq k \leq 10$；

对于 50% 的评测用例，$1 \leq k \leq 20$；

对于 75% 的评测用例，$1 \leq k \leq 30$；

对于所有评测用例，$1 \leq k \leq 50$，$1 \leq m, n \leq 12$，$1 \leq d_1, d_2 \leq 31$。


---

---
title: "[蓝桥杯 2025 国 Python A] 巡逻"
layout: "post"
diff: 普及/提高-
pid: P12874
tag: ['图论', '2025', '树的遍历', '最近公共祖先 LCA', '前缀和', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 Python A] 巡逻
## 题目背景

建议 Python 用户选择 PyPy3 提交本题。
## 题目描述

边境森林中分布着若干重要的哨站，所有哨站之间由隐秘小径相连，形成一张天然的巡逻网络。这张网络的结构恰好是一棵树。为了防止敌人渗透，小蓝每天需要执行固定长度为 $k$ 的巡逻任务。每次巡逻从一个哨站出发，经过不重复地恰好 $k$ 条道路，最终到达另一个哨站。每条道路都有一定的危险值，巡逻路径上危险值的和代表该次巡逻时的风险。两次巡逻路径不相同当且仅当它们的起点不同或终点不同。

现在指挥官希望知道，所有可能的长度为 $k$ 的巡逻路线的风险之和是多少？
## 输入格式

输入的第一行包含两个正整数 $n, k$ ，用一个空格分隔。

接下来 $n-1$ 行，每行包含三个正整数 $u_i, v_i, w_i$ ，相邻整数之间使用一个空格分隔。表示结点 $u_i$ 和结点 $v_i$ 之间有一条危险值为 $w_i$ 边。

## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
7 2
1 2 3
2 4 5
1 3 7
3 5 3
3 6 4
6 7 2
```
### 样例输出 #1
```
104
```
## 提示

**【样例说明】**

所有可能的路径及其风险值如下：

- $1 \rightarrow 2 \rightarrow 4: 8$
- $2 \rightarrow 1 \rightarrow 3: 10$
- $1 \rightarrow 3 \rightarrow 5: 10$
- $1 \rightarrow 3 \rightarrow 6: 11$
- $5 \rightarrow 3 \rightarrow 6: 7$
- $3 \rightarrow 6 \rightarrow 7: 6$

以上路径反过来也是合法的，所以总共有 14 条不同的路径，风险之和为 104。

**【评测用例规模与约定】**

对于 40% 的评测用例，$1 \leq n \leq 500$；

对于所有评测用例，$1 \leq n \leq 5000$，$1 \leq k \leq n$，$1 \leq u_i, v_i \leq n$，$1 \leq w_i \leq 10^6$。


---

---
title: "[蓝桥杯 2025 国 C] 拔河"
layout: "post"
diff: 普及/提高-
pid: P12878
tag: ['2025', '蓝桥杯国赛', '折半搜索 meet in the middle']
---
# [蓝桥杯 2025 国 C] 拔河
## 题目描述

小蓝的学校正在举办一场拔河比赛，小蓝的任务是将队员分成实力尽可能平均的两组，这样比赛更加公平，观众也能够享受到更多的乐趣。

具体地说，每个队员都有一个力量值，小蓝希望两组队员分别的力量值之和的差的绝对值尽可能小。

40 位同学的力量值分别是：

345590635693812, 411735179294186, 190029355501347, 973598561303630,
18202819016954, 739089526396984, 41064501651340, 287075700776565,
458062562307032, 723278851371706, 997720296178889, 470475557480472,
329586527903215, 907379737442406, 631284976214798, 301204036247736,
747294692547790, 914091289062262, 144070679727924, 988094642462741,
413975599277375, 835461430976017, 344371572186185, 646160866308904,
880407857470630, 794629069521762, 462180977651587, 342038139286302,
854772507978666, 694223418935656, 567502001946067, 881035713848915,
840605474892139, 324727089144326, 226008847101330, 65143946718125,
499249957077991, 245803813100131, 447887480320685, 658036302578844.

在试题文件夹中有一个文件 tug.txt ，里面保存着这 40 个数。

请你帮小蓝求出这个最小的力量值之差的绝对值，注意：两组队员人数可以不同，每一个队员都必须被选入两组队伍中的某一组，不允许有队员被遗漏或重复分配。
## 输出格式

这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。


---

---
title: "[蓝桥杯 2025 国 C] 宗门大比"
layout: "post"
diff: 普及/提高-
pid: P12881
tag: ['贪心', '2025', '排序', '蓝桥杯国赛', '分类讨论']
---
# [蓝桥杯 2025 国 C] 宗门大比
## 题目描述

小蓝所在宗门准备进行宗门大比，共有 $n$ 名弟子参与，从左到右站成一排。第 $i$ 名弟子的功力值为 $a_i$，小蓝是第 $k$ 名弟子。宗门大比将举行 $m$ 次切磋，每次切磋由两名弟子进行，其中功力值高的弟子将获胜，功力值低的弟子的功力值将减 $1$。如果切磋的两名弟子功力值相同则平局，切磋后两名弟子的功力值保持不变。同一名弟子可能参与多次切磋，也可能一次都不参与。一名弟子可以和多名弟子切磋，两人也可以进行多次切磋。

切磋结束后，弟子们将按照功力值从高到低的顺序进入藏宝阁进行功法挑选，功力值相同的弟子按初始站位靠左的优先。小蓝想知道，如果他能规定每次切磋的人选，他在最优情况下能第几个进入藏宝阁？
## 输入格式

输入的第一行包含三个正整数 $n, m, k$，相邻整数之间使用一个空格分隔。

第二行包含 $n$ 个正整数 $a_1, a_2, \cdots, a_n$，相邻整数之间使用一个空格分隔。

## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
6 2 2
5 5 5 6 3 2
```
### 样例输出 #1
```
2
```
## 提示

**【样例说明】**

其中一种方案：第一次切磋 $(a_1, a_4)$，第二次切磋 $(a_1, a_6)$，最终功力值分别为 $4, 5, 5, 6, 3, 1$，小蓝 $a_2 = 5$ 排第二。

**【评测用例规模与约定】**

对于 $40\%$ 的评测用例，$2 \leq n \leq 100$；

对于所有评测用例，$2 \leq n \leq 500000$，$1 \leq a_i \leq 1000$，$1 \leq k, m \leq n$。


---

---
title: "[蓝桥杯 2025 国 Java B] 分配房子"
layout: "post"
diff: 普及/提高-
pid: P12886
tag: ['2025', '组合数学', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 Java B] 分配房子
## 题目描述

蓝桥小镇有 $20255202$ 栋楼房排成一列，每栋楼有两套房子：一套在一楼，一套在二楼。镇长决定将这些房子分配给本地居民或外来游客居住，并设定了如下规则：

- 每一栋楼里，必须有一套是本地居民住，另一套是外来游客住。
- 从本地居民住户中，分别往左、右看同一楼层的邻居。如果某个邻居也住着本地居民，就记录一次（如果某个本地居民的同一楼层的左、右邻居都是本地居民，记录两次）。最后把所有这样的记录加起来，总数是 $5202$。

现在，请你计算出满足这两个规则的房子分配方案总数。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。


---

---
title: "[蓝桥杯 2025 国 Java B] 瓷砖填充"
layout: "post"
diff: 普及/提高-
pid: P12891
tag: ['动态规划 DP', '2025', '蓝桥杯国赛']
---
# [蓝桥杯 2025 国 Java B] 瓷砖填充
## 题目描述

在新建成的城市数学文化馆中，最引人注目的是一面宏大的展示墙。这面墙上嵌有一个特殊的矩形区域：它由两行瓷砖构成，每行有 $N$ 个格子，整体呈现出一个 $2 \times N$ 的方格结构。为了致敬数学家欧几里得对数论的贡献，设计师构思了一项美学方案：他们计划使用三种特制的数字瓷砖——分别印有 $6$、$1$ 和 $5$，来填满这些格子，使得任意两个相邻瓷砖上的数字互质。

瓷砖之间共有两种相邻关系：横向相邻（同一行中左右相邻的瓷砖）和纵向相邻（同一列中上下相邻的瓷砖）。无论是哪种相邻关系，它们所承载的数字都必须满足互质条件。

作为受邀的技术顾问，现在，请你计算出在严格遵循上述互质规则的前提下，共有多少种不同的瓷砖填充方法。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。
## 输入格式

输入一个整数 $N$，表示矩形区域的列数。

## 输出格式

输出一个整数，表示符合互质条件的瓷砖填充方法的数量，对 $10^9 + 7$ 取余后的结果。
## 样例

### 样例输入 #1
```
1
```
### 样例输出 #1
```
7
```
### 样例输入 #2
```
2
```
### 样例输出 #2
```
35
```
## 提示

**【评测用例规模与约定】**

对于 $10\%$ 的评测用例，$1 \leq N \leq 10$。

对于 $100\%$ 的评测用例，$1 \leq N \leq 10^5$。



---

---
title: "[蓝桥杯 2013 国 B] 格子刷油漆"
layout: "post"
diff: 普及/提高-
pid: P8607
tag: ['递推', '2013', '蓝桥杯国赛']
---
# [蓝桥杯 2013 国 B] 格子刷油漆
## 题目描述

X 国的一段古城墙的顶端可以看成 $2 \times N$ 个格子组成的矩形（如图 $1$ 所示），现需要把这些格子刷上保护漆。

![](https://cdn.luogu.com.cn/upload/image_hosting/k52ovrzc.png)

你可以从任意一个格子刷起，刷完一格，可以移动到和它相邻的格子（对角相邻也算数），但不能移动到较远的格子（因为油漆未干不能踩！）

比如：`adbcef` 就是合格的刷漆顺序。

`cefdab` 是另一种合适的方案。

当已知 $N$ 时，求总的方案数。当 $N$ 较大时，结果会迅速增大，请把结果对 $1000000007(10^9+7)$ 取模。
## 输入格式

输入数据为一个正整数 $N$（不大于 $1000$）。
## 输出格式

输出数据为一个正整数。
## 样例

### 样例输入 #1
```
2
```
### 样例输出 #1
```
24
```
### 样例输入 #2
```
3
```
### 样例输出 #2
```
96
```
### 样例输入 #3
```
22
```
### 样例输出 #3
```
359635897
```
## 提示

时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛


---

---
title: "[蓝桥杯 2014 国 A] 排列序数"
layout: "post"
diff: 普及/提高-
pid: P8620
tag: ['2014', '蓝桥杯国赛']
---
# [蓝桥杯 2014 国 A] 排列序数
## 题目描述

如果用 a b c d 这 $4$ 个字母组成一个串，有 $4!=24$ 种，如果把它们排个序，每个串都对应一个序号：

```text
  abcd  0
  abdc  1
  acbd  2
  acdb  3
  adbc  4
  adcb  5
  bacd  6
  badc  7
  bcad  8
  bcda  9
  bdac  10
  bdca  11
  cabd  12
  cadb  13
  cbad  14
  cbda  15
  cdab  16
  cdba  17
  ...
```

现在有不多于10个两两不同的小写字母，给出它们组成的串，你能求出该串在所有排列中的序号吗？

## 输入格式

一行，一个串。
## 输出格式

一行，一个整数，表示该串在其字母所有排列生成的串中的序号。注意：最小的序号是 $0$。

## 样例

### 样例输入 #1
```
bdca
```
### 样例输出 #1
```
11
```
### 样例输入 #2
```
cedab
```
### 样例输出 #2
```
70
```
## 提示

时限 1 秒, 256M。蓝桥杯 2014 年第五届国赛


---

---
title: "[蓝桥杯 2015 国 AC] 穿越雷区"
layout: "post"
diff: 普及/提高-
pid: P8628
tag: ['2015', '最短路', '蓝桥杯国赛']
---
# [蓝桥杯 2015 国 AC] 穿越雷区
## 题目描述

$X$ 星的坦克战车很奇怪，它必须交替地穿越正能量辐射区和负能量辐射区才能保持正常运转，否则将报废。

某坦克需要从 $A$ 区到 $B$ 区去（$A$，$B$ 区本身是安全区，没有正能量或负能量特征），怎样走才能路径最短？

已知的地图是一个方阵，上面用字母标出了 $A$，$B$ 区，其它区都标了正号或负号分别表示正负能量辐射区。

例如：

```
A + - + -
- + - - +
- + + + -
+ - + - +
B + - + -
```

坦克车只能水平或垂直方向上移动到相邻的区。

## 输入格式

输入第一行是一个整数 $n$，表示方阵的大小，$4 \le n<100$。

接下来是 $n$ 行，每行有 $n$ 个数据，可能是 `A`，`B`，`+`，`-` 中的某一个，中间用空格分开。
## 输出格式

要求输出一个整数，表示坦克从 $A$ 区到 $B$ 区的最少移动步数。

如果没有方案，则输出 $-1$。
## 样例

### 样例输入 #1
```
5
A + - + -
- + - - +
- + + + -
+ - + - +
B + - + -
```
### 样例输出 #1
```
10
```
## 提示

时限 1 秒, 512M。蓝桥杯 2015 年第六届国赛


---

---
title: "[蓝桥杯 2015 国 C] 机器人繁殖"
layout: "post"
diff: 普及/提高-
pid: P8629
tag: ['高精度', '2015', '二分', '蓝桥杯国赛']
---
# [蓝桥杯 2015 国 C] 机器人繁殖
## 题目描述

X 星系的机器人可以自动复制自己。它们用 $1$ 年的时间可以复制出 $2$ 个自己，然后就失去复制能力。
每年X星系都会选出 $1$ 个新出生的机器人发往太空。也就是说，如果X星系原有机器人 $5$ 个，  
$1$ 年后总数是：$5 + 9 = 14$  
$2$ 年后总数是：$5 + 9 + 17 = 31$

如果已经探测经过 $n$ 年后的机器人总数 $s$，你能算出最初有多少机器人吗？
## 输入格式

输入一行两个数字 $n$ 和 $s$，用空格分开，含义如上。$n$ 不大于 $100$，$s$ 位数不超过 $50$ 位。
## 输出格式

要求输出一行，一个整数，表示最初有机器人多少个。
## 样例

### 样例输入 #1
```
2 31
```
### 样例输出 #1
```
5
```
### 样例输入 #2
```
97 2218388550399401452619230609499
```
### 样例输出 #2
```
8
```
## 提示

时限 1 秒, 512M。蓝桥杯 2015 年第六届国赛


---

---
title: "[蓝桥杯 2015 国 B] 密文搜索"
layout: "post"
diff: 普及/提高-
pid: P8630
tag: ['2015', '哈希 hashing', '蓝桥杯国赛']
---
# [蓝桥杯 2015 国 B] 密文搜索
## 题目描述

福尔摩斯从 X 星收到一份资料，全部是小写字母组成。

他的助手提供了另一份资料：许多长度为 $8$ 的密码列表。

福尔摩斯发现，这些密码是被打乱后隐藏在先前那份资料中的。

请你编写一个程序，从第一份资料中搜索可能隐藏密码的位置。要考虑密码的所有排列可能性。
## 输入格式

输入第一行：一个字符串 $s$，全部由小写字母组成，长度小于 $1024 \times 1024$。

紧接着一行是一个整数 $n,$ 表示以下有 $n$ 行密码，$1 \le n \le 1000$。

紧接着是 $n$ 行字符串，都是小写字母组成，长度都为 $8$。
## 输出格式

一个整数，表示每行密码的所有排列在 $s$ 中匹配次数的总和。
## 样例

### 样例输入 #1
```
aaaabbbbaabbcccc
2
aaaabbbb
abcabccc
```
### 样例输出 #1
```
4
```
## 提示

第一个密码匹配了 $3$ 次，第二个密码匹配了 $1$ 次，一共 $4$ 次。

时限 3 秒, 512M。蓝桥杯 2015 年第六届国赛


---

---
title: "[蓝桥杯 2017 国 C] 合根植物"
layout: "post"
diff: 普及/提高-
pid: P8654
tag: ['2017', '并查集', '蓝桥杯国赛']
---
# [蓝桥杯 2017 国 C] 合根植物
## 题目描述

w 星球的一个种植园，被分成 $m \times n$ 个小格子（东西方向 $m$ 行，南北方向 $n$ 列）。每个格子里种了一株合根植物。

这种植物有个特点，它的根可能会沿着南北或东西方向伸展，从而与另一个格子的植物合成为一体。

如果我们告诉你哪些小格子间出现了连根现象，你能说出这个园中一共有多少株合根植物吗？
## 输入格式

第一行，两个整数 $m$，$n$，用空格分开，表示格子的行数、列数（$1<m,n<1000$）。

接下来一行，一个整数 $k$，表示下面还有 $k$ 行数据 $(0<k<10^5)$。

接下来 $k$ 行，每行两个整数 $a$，$b$，表示编号为 $a$ 的小格子和编号为 $b$ 的小格子合根了。

格子的编号一行一行，从上到下，从左到右编号。

比如：$5 \times 4$ 的小格子，编号：

```
1  2  3  4
5  6  7  8
9  10 11 12
13 14 15 16
17 18 19 20
```
## 输出格式

一行一个整数，表示答案
## 样例

### 样例输入 #1
```
5 4
16
2 3
1 5
5 9
4 8
7 8
9 10
10 11
11 12
10 14
12 16
14 18
17 18
15 19
19 20
9 13
13 17
```
### 样例输出 #1
```
5
```
## 提示

## 样例解释

![](https://cdn.luogu.com.cn/upload/image_hosting/9q0xulxh.png)

时限 1 秒, 256M。蓝桥杯 2017 年第八届国赛


---

---
title: "[蓝桥杯 2017 国 B] 发现环"
layout: "post"
diff: 普及/提高-
pid: P8655
tag: ['2017', '基环树', '蓝桥杯国赛']
---
# [蓝桥杯 2017 国 B] 发现环
## 题目描述

小明的实验室有 $N$ 台电脑，编号 $1 \sim N$。原本这 $N$ 台电脑之间有 $N-1$ 条数据链接相连，恰好构成一个树形网络。在树形网络上，任意两台电脑之间有唯一的路径相连。

不过在最近一次维护网络时，管理员误操作使得某两台电脑之间增加了一条数据链接，于是网络中出现了环路。环路上的电脑由于两两之间不再是只有一条路径，使得这些电脑上的数据传输出现了 BUG。

为了恢复正常传输。小明需要找到所有在环路上的电脑，你能帮助他吗？
## 输入格式

第一行包含一个整数 $N$。

以下 $N$ 行每行两个整数 $a$ 和 $b$，表示 $a$ 和 $b$ 之间有一条数据链接相连。

输入保证合法。
## 输出格式

按从小到大的顺序输出在环路上的电脑的编号，中间由一个空格分隔。
## 样例

### 样例输入 #1
```
5
1 2
3 1
2 4
2 5
5 3
```
### 样例输出 #1
```
1 2 3 5
```
## 提示

对于 $30\%$ 的数据，$1 \le N \le 1000$。

对于 $100\%$ 的数据，$1 \le N \le 10^5$，$1 \le a,b \le N$。

时限 1 秒, 256M。蓝桥杯 2017 年第八届国赛


---

---
title: "[蓝桥杯 2017 国 B] 对局匹配"
layout: "post"
diff: 普及/提高-
pid: P8656
tag: ['动态规划 DP', '2017', '蓝桥杯国赛']
---
# [蓝桥杯 2017 国 B] 对局匹配
## 题目描述

小明喜欢在一个围棋网站上找别人在线对弈。这个网站上所有注册用户都有一个积分，代表他的围棋水平。

小明发现网站的自动对局系统在匹配对手时，只会将积分差恰好是 $K$ 的两名用户匹配在一起。如果两人分差小于或大于 $K$，系统都不会将他们匹配。

现在小明知道这个网站总共有 $N$ 名用户，以及他们的积分分别是 $A_1,A_2, \cdots A_N$。

小明想了解最多可能有多少名用户同时在线寻找对手，但是系统却一场对局都匹配不起来（任意两名用户积分差不等于 $K$）？
## 输入格式

第一行包含两个个整数 $N$ 和 $K$。

第二行包含 $N$ 个整数 $A_1,A_2, \cdots, A_N$。
## 输出格式

一个整数，代表答案。
## 样例

### 样例输入 #1
```
10 0
1 4 2 8 5 7 1 4 2 8
```
### 样例输出 #1
```
6
```
### 样例输入 #2
```
10 1
2 1 1 1 1 4 4 3 4 4
```
### 样例输出 #2
```
8
```
## 提示

对于 $30\%$ 的数据，$1 \le N \le 10$。

对于 $100\%$ 的数据，$1 \le N\le 10^5$，$0\le K,A_i \le 10^5$
。

时限 1 秒, 256M。蓝桥杯 2017 年第八届国赛


---

---
title: "[蓝桥杯 2018 国 AC] 约瑟夫环"
layout: "post"
diff: 普及/提高-
pid: P8671
tag: ['数学', '递推', '2018', '蓝桥杯国赛']
---
# [蓝桥杯 2018 国 AC] 约瑟夫环
## 题目描述

$n$ 个人的编号是 $1 \sim n$，如果他们依编号按顺时针排成一个圆圈，从编号是 $1$ 的人开始顺时针报数。

（报数是从 $1$ 报起）当报到 $k$ 的时候，这个人就退出游戏圈。下一个人重新从 $1$ 开始报数。

求最后剩下的人的编号。这就是著名的约瑟夫环问题。

本题目就是已知 $n$，$k$ 的情况下，求最后剩下的人的编号。

## 输入格式

题目的输入是一行，$2$ 个空格分开的整数 $n,k$。
## 输出格式

要求输出一个整数，表示最后剩下的人的编号。
## 样例

### 样例输入 #1
```
10 3
```
### 样例输出 #1
```
4
```
## 提示

$0<n,k<10^6$。

时限 1 秒, 256M。蓝桥杯 2018 年第九届国赛


---

---
title: "[蓝桥杯 2018 国 C] 交换次数"
layout: "post"
diff: 普及/提高-
pid: P8672
tag: ['贪心', '2018', '枚举', '蓝桥杯国赛']
---
# [蓝桥杯 2018 国 C] 交换次数
## 题目描述

IT 产业人才需求节节攀升。业内巨头百度、阿里巴巴、腾讯（简称 BAT）在某海滩进行招聘活动。

招聘部门一字排开。由于是自由抢占席位，三大公司的席位随机交错在一起，形如：

`ABABTATT`，这使得应聘者十分别扭。

于是，管理部门要求招聘方进行必要的交换位置，使得每个集团的席位都挨在一起。即最后形如：

`BBAAATTT` 这样的形状，当然，也可能是：

`AAABBTTT` 等。

现在，假设每次只能交换 $2$ 个席位，并且知道现在的席位分布，

你的任务是计算：要使每个集团的招聘席位都挨在一起需要至少进行多少次交换动作。
## 输入格式

输入是一行 $n$ 个字符（只含有字母 `B`、`A` 或 `T`），表示现在的席位分布。
## 输出格式

输出是一个整数，表示至少交换次数。
## 样例

### 样例输入 #1
```
TABTABBTTTT
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
TTAAABB
```
### 样例输出 #2
```
0
```
## 提示

输入字符串的长度 $n$ 不大于 $10^5$。

时限 1 秒, 256M。蓝桥杯 2018 年第九届国赛


---

---
title: "[蓝桥杯 2018 国 C] 迷宫与陷阱"
layout: "post"
diff: 普及/提高-
pid: P8673
tag: ['2018', '广度优先搜索 BFS', '图论建模', '蓝桥杯国赛']
---
# [蓝桥杯 2018 国 C] 迷宫与陷阱
## 题目描述

小明在玩一款迷宫游戏，在游戏中他要控制自己的角色离开一间由 $N \times N$ 个格子组成的二维迷宫。

小明的起始位置在左上角，他需要到达右下角的格子才能离开迷宫。

每一步，他可以移动到上下左右相邻的格子中（前提是目标格子可以经过）。

迷宫中有些格子小明可以经过，我们用 `.` 表示；

有些格子是墙壁，小明不能经过，我们用 `#` 表示。

此外，有些格子上有陷阱，我们用 `X` 表示。除非小明处于无敌状态，否则不能经过。

有些格子上有无敌道具，我们用 `%` 表示。

当小明第一次到达该格子时，自动获得无敌状态，无敌状态会持续 $K$ 步。

之后如果再次到达该格子不会获得无敌状态了。

处于无敌状态时，可以经过有陷阱的格子，但是不会拆除 / 毁坏陷阱，即陷阱仍会阻止没有无敌状态的角色经过。

给定迷宫，请你计算小明最少经过几步可以离开迷宫。
## 输入格式

第一行包含两个整数 $N$ 和 $K$。$(1 \le N \le 1000，1 \le K \le 10)$。

以下 $N$ 行包含一个 $N\times N$ 的矩阵。

矩阵保证左上角和右下角是 `.`。
## 输出格式

一个整数表示答案。如果小明不能离开迷宫，输出 $-1$。
## 样例

### 样例输入 #1
```
5 3
...XX
##%#.
...#.
.###.
.....
```
### 样例输出 #1
```
10
```
### 样例输入 #2
```
5 1
...XX
##%#.
...#.
.###.
.....
```
### 样例输出 #2
```
12
```
## 提示

时限 3 秒, 256M。蓝桥杯 2018 年第九届国赛


---

---
title: "[蓝桥杯 2018 国 B] 调手表"
layout: "post"
diff: 普及/提高-
pid: P8674
tag: ['2018', '最短路', '蓝桥杯国赛']
---
# [蓝桥杯 2018 国 B] 调手表
## 题目描述

小明买了块高端大气上档次的电子手表，他正准备调时间呢。

在 M78 星云，时间的计量单位和地球上不同，M78 星云的一个小时有 $n$ 分钟。

大家都知道，手表只有一个按钮可以把当前的数加一。在调分钟的时候，如果当前显示的数是 $0$，那么按一下按钮就会变成 $1$，再按一次变成 $2$。如果当前的数是 $n-1$，按一次后会变成 $0$。

作为强迫症患者，小明一定要把手表的时间调对。如果手表上的时间比当前时间多 $1$，则要按 $n-1$ 次加一按钮才能调回正确时间。

小明想，如果手表可以再添加一个按钮，表示把当前的数加 $k$ 该多好啊……

他想知道，如果有了这个 $+k$ 按钮，按照最优策略按键，从任意一个分钟数调到另外任意一个分钟数最多要按多少次。

注意，按 $+k$ 按钮时，如果加 $k$ 后数字超过 $n-1,$ 则会对 $n$ 取模。

比如，$n=10,k=6$ 的时候，假设当前时间是 $0$，连按 $2$ 次 $+k$ 按钮，则调为 $2$。

## 输入格式

一行两个整数 $n,k$，意义如题。
## 输出格式

一行一个整数。表示：按照最优策略按键，从一个时间调到另一个时间最多要按多少次。
## 样例

### 样例输入 #1
```
5 3
```
### 样例输出 #1
```
2
```
## 提示

**【样例解释】**

如果时间正确则按 $0$ 次。否则要按的次数和操作系列之间的关系如下：
1. +1
2. +1, +1
3. +3
4. +3, +1

**【数据约定】**

对于 $30\%$ 的数据 $0<k<n \le 5$。

对于 $60\%$ 的数据 $0<k<n \le 100$。

对于 $100\%$ 的数据 $0<k<n \le 10^5$。

时限 3 秒, 256M。蓝桥杯 2018 年第九届国赛


---

---
title: "[蓝桥杯 2018 国 A] 自描述序列"
layout: "post"
diff: 普及/提高-
pid: P8676
tag: ['模拟', '2018', '蓝桥杯国赛']
---
# [蓝桥杯 2018 国 A] 自描述序列
## 题目描述

小明在研究一个序列，叫 Golomb 自描述序列，不妨将其记作 ${G(n)}$。这个序列有 $2$ 个很有趣的性质：

1. 对于任意正整数 $n$，$n$ 在整个序列中恰好出现 $G(n)$ 次。

2. 这个序列是不下降的。

以下是 $G(n)$ 的前几项：

$n$|1|2|3|4|5|6|7|8|9|10|11|12|13
-|-|-|-|-|-|-|-|-|-|-|-|-|-
$G(n)$|1|2|2|3|3|4|4|4|5|5|5|6|6

给定一个整数 $n$，你能帮小明算出 $G(n)$ 的值吗？
## 输入格式

一个整数 $n$。
## 输出格式

输出一个整数，表示答案。
## 样例

### 样例输入 #1
```
13
```
### 样例输出 #1
```
6
```
## 提示

对于 $30\%$ 的数据，$1 \le n \le 10^6$。

对于 $70\%$ 的数据，$1 \le n \le 10^9$。

对于 $100\%$ 的数据，$1 \le n \le 2\times 10^{15}$。

时限 1 秒, 256M。蓝桥杯 2018 年第九届国赛


---

---
title: "[蓝桥杯 2019 国 AC] 轨道炮"
layout: "post"
diff: 普及/提高-
pid: P8695
tag: ['2019', '枚举', '蓝桥杯国赛']
---
# [蓝桥杯 2019 国 AC] 轨道炮
## 题目描述

小明在玩一款战争游戏。地图上一共有 $N$ 个敌方单位，可以看作 2D 平面上的点。其中第 $i$ 个单位在 $0$ 时刻的位置是 $(X_i, Y_i)$，方向是 $D_i$ (上下左右之一, 用 `U`/`D`/`L`/`R` 表示)，速度是 $V_i$。小明的武器是轨道炮，只能使用一次，不过杀伤力巨大。小明可以选择在某个非负整数时刻释放轨道炮，轨道炮一次可以消灭在一条直线 (平行于坐标轴) 上的所有敌方单位。请你计算小明最多能消灭多少敌方单位。
## 输入格式

输入第一行包含一个整数 $N$。
以下 $N$ 行每行包含 $3$ 个整数 $X_i$, $Y_i$, $V_i$，以及一个大写字符 $D_i$。
## 输出格式

输出一个整数代表答案。
## 样例

### 样例输入 #1
```
4
0 0 1 R
0 10 1 R
10 10 2 D
2 3 2 L

```
### 样例输出 #1
```
3
```
## 提示

对于所有评测用例，$1 \le N \le 1000$，$-10^6 \le X_i, Y_i \le 10^6$，$0 \le V_i \le 10^6$。

蓝桥杯 2019 年国赛 A 组 H 题（C 组 J 题）


---

---
title: "[蓝桥杯 2020 国 ABC] 皮亚诺曲线距离"
layout: "post"
diff: 普及/提高-
pid: P8730
tag: ['模拟', '2020', '进制', '蓝桥杯国赛']
---
# [蓝桥杯 2020 国 ABC] 皮亚诺曲线距离
## 题目描述

皮亚诺曲线是一条平面内的曲线。

下图给出了皮亚诺曲线的 1 阶情形, 它是从左下角出发, 经过一个 $3 \times 3$ 的 方格中的每一个格子, 最终到达右上角的一条曲线。

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_30_334c51de49a3a8e7ba1bg-05.jpg)

下图给出了皮亚诺曲线的 2 阶情形, 它是经过一个 $3^{2} \times 3^{2}$ 的方格中的每一 个格子的一条曲线。它是将 1 阶曲线的每个方格由 1 阶曲线替换而成。

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_30_334c51de49a3a8e7ba1bg-06.jpg)

下图给出了皮亚诺曲线的 3 阶情形, 它是经过一个 $3^{3} \times 3^{3}$ 的方格中的每一 个格子的一条曲线。它是将 2 阶曲线的每个方格由 1 阶曲线替换而成。 

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_30_334c51de49a3a8e7ba1bg-07.jpg)

皮亚诺曲线总是从左下角开始出发, 最终到达右上角。

我们将这些格子放到坐标系中, 对于 $k$ 阶皮亚诺曲线, 左下角的坐标是 $(0,0)$, 右上角坐标是 $\left(3^{k}-1,3^{k}-1\right)$, 右下角坐标是 $\left(3^{k}-1,0\right)$, 左上角坐标是 $\left(0,3^{k}-1\right)$ 。

给定 $k$ 阶皮亚诺曲线上的两个点的坐标, 请问这两个点之间, 如果沿着皮 亚诺曲线走, 距离是多少?
## 输入格式

输入的第一行包含一个正整数 $k$, 皮亚诺曲线的阶数。

第二行包含两个整数 $x_{1}, y_{1}$, 表示第一个点的坐标。 第三行包含两个整数 $x_{2}, y_{2}$, 表示第二个点的坐标。
## 输出格式

输出一个整数, 表示给定的两个点之间的距离。
## 样例

### 样例输入 #1
```
1
0 0
2 2
```
### 样例输出 #1
```
8
```
### 样例输入 #2
```
2
0 2
0 3
```
### 样例输出 #2
```
13
```
## 提示

对于 $30 \%$ 的评测用例, $0 \leq k \leq 10$ 。

对于 $50 \%$ 的评测用例, $0 \leq k \leq 20$ 。

对于所有评测用例, $0 \leq k \leq 100,0 \leq x_{1}, y_{1}, x_{2}, y_{2}<3^{k}, x_{1}, y_{1}, x_{2}, y_{2} \leq 10^{18}$ 。 数据保证答案不超过 $10^{18}$ 。

蓝桥杯 2020 年国赛 A 组 F 题（B 组 F 题, C 组 H 题）。


---

---
title: "[蓝桥杯 2020 国 ABC] 答疑"
layout: "post"
diff: 普及/提高-
pid: P8732
tag: ['贪心', '2020', '排序', '蓝桥杯国赛']
---
# [蓝桥杯 2020 国 ABC] 答疑
## 题目描述

有 $n$ 位同学同时找老师答疑。每位同学都预先估计了自己答疑的时间。老师可以安排答疑的顺序，同学们要依次进入老师办公室答疑。

一位同学答疑的过程如下:

1. 首先进入办公室，编号为 $i$ 的同学需要 $s_{i}$ 毫秒的时间。

2. 然后同学问问题老师解答，编号为 $i$ 的同学需要 $a_{i}$ 毫秒的时间。

3. 答疑完成后，同学很高兴，会在课程群里面发一条消息，需要的时间可以忽略。

4. 最后同学收拾东西离开办公室，需要 $e_{i}$ 毫秒的时间。一般需要 $10$ 秒、$20$ 秒或 $30$ 秒，即 $e_{i}$ 取值为 $10000$、$20000$ 或 $30000$。

一位同学离开办公室后，紧接着下一位同学就可以进入办公室了。

答疑从 $0$ 时刻开始。老师想合理的安排答疑的顺序，使得同学们在课程群里面发消息的时刻之和最小。

## 输入格式

输入第一行包含一个整数 $n$，表示同学的数量。

接下来 $n$ 行, 描述每位同学的时间。其中第 $i$ 行包含三个整数 $s_{i}, a_{i}, e_{i}$，意义如上所述。
## 输出格式

输出一个整数，表示同学们在课程群里面发消息的时刻之和最小是多少。
## 样例

### 样例输入 #1
```
3
10000 10000 10000
20000 50000 20000
30000 20000 30000
```
### 样例输出 #1
```
280000
```
## 提示

**【样例说明】**

按照 $1,3,2$ 的顺序答疑，发消息的时间分别是 $20000,80000,180000$ 。

**【评测用例规模与约定】**

对于 $30 \%$ 的评测用例, $1 \leq n \leq 20$ 。

对于 $60 \%$ 的评测用例, $1 \leq n \leq 200$ 。

对于所有评测用例, $1 \leq n \leq 1000,1 \leq s_{i} \leq 60000,1 \leq a_{i} \leq 1000000$, $e_{i} \in\{10000,20000,30000\}$ ，即 $e_{i}$ 一定是 $10000 、 20000 、 30000$ 之一。 

蓝桥杯 2020 年国赛 A 组 H 题（B 组 H 题, C 组 J 题）。


---

---
title: "[蓝桥杯 2020 国 B] 游园安排"
layout: "post"
diff: 普及/提高-
pid: P8736
tag: ['动态规划 DP', '2020', '字典树 Trie', '蓝桥杯国赛']
---
# [蓝桥杯 2020 国 B] 游园安排
## 题目描述

$\mathrm{L}$ 星球游乐园非常有趣，吸引着各个星球的游客前来游玩。小蓝是 $\mathrm{L}$ 星球 游乐园的管理员。

为了更好的管理游乐园，游乐园要求所有的游客提前预约，小蓝能看到系统上所有预约游客的名字。每个游客的名字由一个大写英文字母开始，后面跟 $0$ 个或多个小写英文字母。游客可能重名。

小蓝特别喜欢递增的事物。今天，他决定在所有预约的游客中，选择一部分游客在上午游玩，其他的游客都在下午游玩，在上午游玩的游客要求按照预约的顺序排列后，名字是单调递增的，即排在前面的名字严格小于排在后面的名字。

一个名字 $A$ 小于另一个名字 $B$ 是指：存在一个整数 $i$，使得 $A$ 的前 $i$ 个字母与 $B$ 的前 $i$ 个字母相同，且 $A$ 的第 $i+1$ 个字母小于 $B$ 的第 $i+1$ 个字母。(如果 $A$ 不存在第 $i+1$ 个字母且 $B$ 存在第 $i+1$ 个字母, 也视为 $A$ 的第 $i+1$ 个字母小于 $B$ 的第 $i+1$ 个字母)

作为小蓝的助手，你要按照小蓝的想法安排游客，同时你又希望上午有尽量多的游客游玩，请告诉小蓝让哪些游客上午游玩。如果方案有多种，请输出上午游玩的第一个游客名字最小的方案。如果此时还有多种方案，请输出第一个游客名字最小的前提下第二个游客名字最小的方案。如果仍然有多种，依此类推选择第三个、第四个……游客名字最小的方案。

## 输入格式

输入包含一个字符串，按预约的顺序给出所有游客的名字，相邻的游客名字之间没有字符分隔。
## 输出格式

按预约顺序输出上午游玩的游客名单，中间不加任何分隔字符。 
## 样例

### 样例输入 #1
```
WoAiLanQiaobei
```
### 样例输出 #1
```
AiLanQiaobei
```
## 提示

对于 $20 \%$ 的评测数据, 输入的总长度不超过 $20$ 个字母。

对于 $50 \%$ 的评测数据, 输入的总长度不超过 $300$ 个字母。

对于 $70 \%$ 的评测数据, 输入的总长度不超过 $10000$ 个字母。

对于所有评测数据, 每个名字的长度不超过 $10$ 个字母, 输入的总长度不超过 $10^6$ 个字母。 

蓝桥杯 2020 年国赛 B 组 G 题。


---

---
title: "[蓝桥杯 2021 国 ABC] 123"
layout: "post"
diff: 普及/提高-
pid: P8762
tag: ['2021', '枚举', '组合数学', '蓝桥杯国赛']
---
# [蓝桥杯 2021 国 ABC] 123
## 题目描述

小蓝发现了一个有趣的数列, 这个数列的前几项如下:

$1,1,2,1,2,3,1,2,3,4, \ldots$

小蓝发现, 这个数列前 $1$ 项是整数 $1$ , 接下来 $2$ 项是整数 $1$ 至 $2$ , 接下来 $3$ 项是整数 $1$ 至 $3$ , 接下来 $4$ 项是整数 $1$ 至 $4$ , 依次类推。

小蓝想知道, 这个数列中, 连续一段的和是多少。
## 输入格式

输入的第一行包含一个整数 $T$, 表示询问的个数。

接下来 $T$ 行, 每行包含一组询问, 其中第 $i$ 行包含两个整数 $l_{i}$ 和 $r_{i}$, 表示 询问数列中第 $l_{i}$ 个数到第 $r_{i}$ 个数的和。
## 输出格式

输出 $T$ 行, 每行包含一个整数表示对应询问的答案。
## 样例

### 样例输入 #1
```
3
1 1
1 3
5 8
```
### 样例输出 #1
```
1
4
8
```
## 提示

对于 $10 \%$ 的评测用例, $1 \leq T \leq 30,1 \leq l_{i} \leq r_{i} \leq 100$ 。

对于 $20 \%$ 的评测用例, $1 \leq T \leq 100,1 \leq l_{i} \leq r_{i} \leq 1000$ 。

对于 $40 \%$ 的评测用例, $1 \leq T \leq 1000,1 \leq l_{i} \leq r_{i} \leq 10^{6}$ 。

对于 $70 \%$ 的评测用例, $1 \leq T \leq 10000,1 \leq l_{i} \leq r_{i} \leq 10^{9}$ 。

对于 $80 \%$ 的评测用例, $1 \leq T \leq 1000,1 \leq l_{i} \leq r_{i} \leq 10^{12}$ 。

对于 $90 \%$ 的评测用例, $1 \leq T \leq 10000,1 \leq l_{i} \leq r_{i} \leq 10^{12}$ 。

对于所有评测用例, $1 \leq T \leq 100000,1 \leq l_{i} \leq r_{i} \leq 10^{12}$ 。 

蓝桥杯 2021 国赛 A 组 E 题（B 组 F 题，C 组 F 题）。


---

---
title: "[蓝桥杯 2022 国 A] 环境治理"
layout: "post"
diff: 普及/提高-
pid: P8794
tag: ['二分', '2022', '最短路', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 A] 环境治理
## 题目描述

LQ 国拥有 $n$ 个城市，从 $0$ 到 $n - 1$ 编号，这 $n$ 个城市两两之间都有且仅有一条双向道路连接，这意味着任意两个城市之间都是可达的。每条道路都有一个属性 $D$，表示这条道路的灰尘度。当从一个城市 A 前往另一个城市 B 时，可能存在多条路线，每条路线的灰尘度定义为这条路线所经过的所有道路的灰尘度之和，LQ 国的人都很讨厌灰尘，所以他们总会优先选择灰尘度最小的路线。

LQ 国很看重居民的出行环境，他们用一个指标 $P$ 来衡量 LQ 国的出行环境，$P$ 定义为：

$$P=\sum \limits_{i=0}^{n-1} \sum \limits_{j=0}^{n-1} d(i,j)$$

其中 $d(i,j)$ 表示城市 $i$ 到城市 $j$ 之间灰尘度最小的路线对应的灰尘度的值。

为了改善出行环境，每个城市都要有所作为，当某个城市进行道路改善时，会将与这个城市直接相连的所有道路的灰尘度都减少 $1$，但每条道路都有一个灰尘度的下限值 $L$，当灰尘度达到道路的下限值时，无论再怎么改善，道路的灰尘度也不会再减小了。

具体的计划是这样的：

- 第 $1$ 天，$0$ 号城市对与其直接相连的道路环境进行改善；
- 第 $2$ 天，$1$ 号城市对与其直接相连的道路环境进行改善；

……
- 第 $n$ 天，$n - 1$ 号城市对与其直接相连的道路环境进行改善；
- 第 $n + 1$ 天，$0$ 号城市对与其直接相连的道路环境进行改善；
- 第 $n + 2$ 天，$1$ 号城市对与其直接相连的道路环境进行改善；

……

LQ 国想要使得 $P$ 指标满足 $P \leq Q$。请问最少要经过多少天之后，$P$ 指标可以满足 $P \leq Q$。如果在初始时就已经满足条件，则输出 $0$；如果永远不可能满足，则输出 $-1$。
## 输入格式

输入的第一行包含两个整数 $n, Q$，用一个空格分隔，分别表示城市个数和期望达到的 $P$ 指标。

接下来 $n$ 行，每行包含 $n$ 个整数，相邻两个整数之间用一个空格分隔，其中第 $i$ 行第 $j$ 列的值 $D_{i,j} (D_{i,j}=D_{j,i},D_{i,i} = 0)$ 表示城市 $i$ 与城市 $j$ 之间直接相连的那条道路的灰尘度。

接下来 $n$ 行，每行包含 $n$ 个整数，相邻两个整数之间用一个空格分隔，其中第 $i$ 行第 $j$ 列的值 $L_{i,j} (L_{i,j} = L_{j,i}, L_{i,i} = 0)$ 表示城市 $i$ 与城市 $j$ 之间直接相连的那条道路的灰尘度的下限值。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3 10
0 2 4
2 0 1
4 1 0
0 2 2
2 0 0
2 0 0
```
### 样例输出 #1
```
2

```
## 提示

**【样例说明】**

初始时的图如下所示，每条边上的数字表示这条道路的灰尘度：

![](https://cdn.luogu.com.cn/upload/image_hosting/5lz6auke.png)

此时每对顶点之间的灰尘度最小的路线对应的灰尘度为：

- $d(0, 0) = 0, d(0, 1) = 2, d(0, 2) = 3$；
- $d(1, 0) = 2, d(1, 1) = 0, d(1, 2) = 1$；
- $d(2, 0) = 3, d(2, 1) = 1, d(2, 2) = 0$。

初始时的 $P$ 指标为 $(2 + 3 + 1) \times 2 = 12$，不满足 $P \leq Q = 10$;

第一天，$0$ 号城市进行道路改善，改善后的图示如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/mrhf5wx6.png)

注意到边 $(0, 2)$ 的值减小了 $1$，但 $(0, 1)$ 并没有减小，因为 $L_{0,1} = 2$ ，所以 $(0, 1)$ 的值不可以再减小了。此时每对顶点之间的灰尘度最小的路线对应的灰尘度为：

- $d(0, 0) = 0, d(0, 1) = 2, d(0, 2) = 3$，
- $d(1, 0) = 2, d(1, 1) = 0, d(1, 2) = 1$，
- $d(2, 0) = 3, d(2, 1) = 1, d(2, 2) = 0$。

此时 $P$ 仍为 $12$。

第二天，1 号城市进行道路改善，改善后的图示如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/tjxis3yb.png)

此时每对顶点之间的灰尘度最小的路线对应的灰尘度为：

- $d(0, 0) = 0, d(0, 1) = 2, d(0, 2) = 2$，
- $d(1, 0) = 2, d(1, 1) = 0, d(1, 2) = 0$，
- $d(2, 0) = 2, d(2, 1) = 0, d(2, 2) = 0$。

此时的 $P$ 指标为 $(2 + 2) \times 2 = 8 < Q$，此时已经满足条件。

所以答案是 $2$。

**【评测用例规模与约定】**

- 对于 $30\%$ 的评测用例，$1 \leq n \leq 10$，$0 \leq L_{i,j} \leq D_{i,j} \leq 10$；
- 对于 $60\%$ 的评测用例，$1 \leq n \leq 50$，$0 \leq L_{i,j} \leq D_{i,j} \leq 10^5$；
- 对于所有评测用例，$1 \leq n \leq 100$，$0 \leq L_{i,j} \leq D_{i,j} \leq 10^5$，$0 \leq Q \leq 2^{31} - 1$。

蓝桥杯 2022 国赛 A 组 F 题。


---

---
title: "[蓝桥杯 2022 国 B] 齿轮"
layout: "post"
diff: 普及/提高-
pid: P8799
tag: ['2022', '数论', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 B] 齿轮
## 题目描述

这天，小明在组装齿轮。

他一共有 $n$ 个齿轮，第 $i$ 个齿轮的半径为 $r_{i}$, 他需要把这 $n$ 个齿轮按一定顺序从左到右组装起来，这样最左边的齿轮转起来之后，可以传递到最右边的齿轮，并且这些齿轮能够起到提升或者降低转速（角速度）的作用。

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_29_8ee8d95d6d0319bca20dg-17.jpg)

小明看着这些齿轮，突然有 $Q$ 个疑问: 能否按一定顺序组装这些齿轮使得最右边的齿轮的转速是最左边的齿轮的 $q_{i}$ 倍?

## 输入格式

输入共 $Q+2$ 行，第一行为两个正整数 $n, Q$, 表示齿轮数量和询问数量。

第二行为 $n$ 个正整数 $r_{1}, r_{2}, \ldots, r_{n}$，表示每个齿轮的半径。

后面 $Q$ 行，每行一个正整数 $q_{i}$ 表示询问。

## 输出格式

$Q$ 行，对于每个询问，如果存在至少一种组装方案满足条件，输出 `YES`, 否则输出 `NO`。
## 样例

### 样例输入 #1
```
5 3
4 2 3 3 1
2
4
6
```
### 样例输出 #1
```
YES
YES
NO
```
## 提示

**【样例说明】**

询问 $1$ 方案之一：`23341`。

询问 $2$ 方案之一：`42331`。

询问 $3$ 没有方案。

**【评测用例规模与约定】**

对于 $15 \%$ 的数据，保证 $n, Q \leq 100$;

对于 $30 \%$ 的数据，保证 $n, Q \leq 2000$;

对于 $100 \%$ 的数据，保证 $n\ge 2,n, Q \leq 2 \times 10^{5} ; a_{i}, q_{i} \leq 2 \times 10^{5}$。

蓝桥杯 2022 国赛 B 组 I 题。


---

---
title: "[蓝桥杯 2022 国 B] 卡牌"
layout: "post"
diff: 普及/提高-
pid: P8800
tag: ['贪心', '二分', '2022', '排序', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 B] 卡牌
## 题目描述

这天，小明在整理他的卡牌。

他一共有 $n$ 种卡牌，第 $i$ 种卡牌上印有正整数数 $i(i \in[1, n])$, 且第 $i$ 种卡牌现有 $a_{i}$ 张。

而如果有 $n$ 张卡牌，其中每种卡牌各一张，那么这 $n$ 张卡牌可以被称为一套牌。小明为了凑出尽可能多套牌，拿出了 $m$ 张空白牌, 他可以在上面写上数 $i$，将其当做第 $i$ 种牌来凑出套牌。然而小明觉得手写的牌不太美观，决定第 $i$ 种牌最多手写 $b_{i}$ 张。

请问小明最多能凑出多少套牌?
## 输入格式

输入共 3 行，第一行为两个正整数 $n$，$m$ 。

第二行为 $n$ 个正整数 $a_{1}, a_{2}, \ldots, a_{n}$ 。

第三行为 $n$ 个正整数 $b_{1}, b_{2}, \ldots, b_{n}$ 。

## 输出格式

一行，一个整数表示答案。
## 样例

### 样例输入 #1
```
4 5
1 2 3 4
5 5 5 5
```
### 样例输出 #1
```
3
```
## 提示

**【样例说明】**

这 $5$ 张空白牌中，拿 $2$ 张写 $1$，拿 $1$ 张写 $2$，这样每种牌的牌数就变为了 $3,3,3,4$，可以凑出 $3$ 套牌，剩下 $2$ 张空白牌不能再帮助小明凑出一套。

**【评测用例规模与约定】**

对于 $30 \%$ 的数据，保证 $n \leq 2000$;

对于 $100 \%$ 的数据，保证 $n \leq 2 \times 10^{5} ; a_{i}, b_{i} \leq n ; m \leq n^{2}$ 。 

蓝桥杯 2022 国赛 B 组 C 题。


---

---
title: "[蓝桥杯 2022 国 B] 出差"
layout: "post"
diff: 普及/提高-
pid: P8802
tag: ['2022', '最短路', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 B] 出差
## 题目描述

$\mathrm{A}$ 国有 $N$ 个城市，编号为 $1 \ldots N$ 小明是编号为 $1$ 的城市中一家公司的员工，今天突然接到了上级通知需要去编号为 $N$ 的城市出差。

由于疫情原因，很多直达的交通方式暂时关闭，小明无法乘坐飞机直接从城市 $1$ 到达城市 $N$，需要通过其他城市进行陆路交通中转。小明通过交通信息网，查询到了 $M$ 条城市之间仍然还开通的路线信息以及每一条路线需要花费的时间。

同样由于疫情原因，小明到达一个城市后需要隔离观察一段时间才能离开该城市前往其他城市。通过网络，小明也查询到了各个城市的隔离信息。（由于小明之前在城市 $1$，因此可以直接离开城市 $1$，不需要隔离）

由于上级要求，小明希望能够尽快赶到城市 $\mathrm{N}$, 因此他求助于你，希望你能帮他规划一条路线，能够在最短时间内到达城市 $N$ 。

## 输入格式

第 $1$ 行：两个正整数 $N, M$ 表示 A 国的城市数量, $M$ 表示末关闭的路线数量。

第 $2$ 行: $N$ 个正整数，第 $i$ 个整数 $C_{i}$ 表示到达编号为 $\mathrm{i}$ 的城市后需要隔离的时间。

第 $3 \ldots M+2$ 行: 每行 $3$ 个正整数, $u, v, c$, 表示有一条城市 $u$ 到城市 $v$ 的双向路线仍然开通着，通过该路线的时间为 $c$。
## 输出格式

第 $1$ 行：$1$ 个正整数，表示小明从城市 $1$ 出发到达城市 $N$ 的最短时间。（到达城市 $N$，不需要计算城市 $N$ 的隔离时间）
## 样例

### 样例输入 #1
```
4 4
5 7 3 4
1 2 4
1 3 5
2 4 3
3 4 5
```
### 样例输出 #1
```
13
```
## 提示

**【样例说明】**

![](https://cdn.mathpix.com/cropped/2022_09_29_8ee8d95d6d0319bca20dg-09.jpg?height=464&width=478&top_left_y=1249&top_left_x=309)

**【评测用例规模与约定】**

对于 $100 \%$ 的数据, $1 \leq N \leq 1000,1 \leq M \leq 10000,1 \leq C_{i} \leq 200,1 \leq u, v \leq$ $N, 1 \leq c \leq 1000$ 


蓝桥杯 2022 国赛 B 组 E 题。


---

---
title: "[蓝桥杯 2022 国 B] 故障"
layout: "post"
diff: 普及/提高-
pid: P8804
tag: ['2022', '概率论', '条件概率', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 B] 故障
## 题目描述

在软件或系统开发中，我们会遇到各种各样的故障。为了从故障现象反推故障原因，工程师们会总结一种叫做相关性矩阵的二维表格，来表示故障原因与故障现象之间的关系。比如:

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/P8804.png)

其中每行表示一种故障原因，每一列表示一种故障现象。该矩阵表示故障原因 $A$ 可能产生故障现象 $2$、$3$、$4$，故障原因 $B$ 可能产生故障现象 $1$、$3$。

在实际开发过程中，如果出现了故障原因，工程师就可以根据故障现象，去计算每种故障原因产生的概率，并按照概率大小对故障原因进行排查，以达到快速定位故障原因的目的。

现在，我们假设系统开发中同一时间只会出现一种故障原因, 并且故障原 因引起各故障现象是独立事件。举个例子来说:

假设系统现在发生了故障原因 $A$, 有 $\frac{1}{3}$ 的概率出现故障现象 $2$，有 $\frac{1}{4}$ 的概率出现故障现象 $3$，有 $\frac{1}{2}$ 的概率出现故障现象 $4$。由于 $3$ 种现象是独立发生的，因此有 $\frac{1}{2 \times 3 \times 4}$ 的概率同时出现故障 $2$、$3$、$4$。

约定若相关性矩阵中没有 `x` 记号, 则表示该故障原因一定不会产生某故障现象，比如故障原因 $A$，一定不会产生故障现象 $1$。根据历史经验数据，我们统计得到了每一种故障原因出现的概率以及每一种故障原因对应的故障现象产生概率。

现在已知系统出现的故障现象，求问各个故障原因发生的概率。
## 输入格式

第 $1$ 行：$2$ 个正整数 $N, M, N$ 表示故障原因的个数（编号 $1 \ldots N)，M$ 表示故障现象的个数（编号 $1 \ldots M$）。

第 $2$ 行: $N$ 个整数，第 $i$ 个数表示故障原因 $i$ 产生的概率 $P_{i}$。

第 $3 \ldots N+2$ 行：每行 $M$ 个整数，第 $i+2$ 行第 $j$ 个整数 $P_{i j}$ 表示故障原因 $i$ 出现故障现象 $j$ 的概率（百分比）。

第 $N+3$ 行：$1$ 个正整数 $K$，表示目前出现的故障现象数量。

第 $N+4$ 行：$K$ 个正整数，依次为当前出现的故障现象编号，不会重复。

## 输出格式

第 $1 \ldots N$ 行：按概率从高到低输出每种故障原因及其可能的概率，若出现 概率相同则优先输出编号小的故障原因。第 $1$ 个数为故障原因编号, 第 $2$ 个数为故障概率（百分比），保留 $2$ 位小数。

## 样例

### 样例输入 #1
```
3 5
30 20 50
0 50 33 25 0
30 0 35 0 0
0 0 0 25 60
1
3
```
### 样例输出 #1
```
2 56.89
1 43.11
3 0.00
```
## 提示

对于所有测试用例，$1 \leq N \leq 40,1 \leq M \leq 20,0 \leq P_{i} \leq 100, \sum\left(P_{i}\right)=100$, $0 \leq P_{i j} \leq 100$。

蓝桥杯 2022 国赛 B 组 G 题。


---

---
title: "[蓝桥杯 2022 国 C] 取模"
layout: "post"
diff: 普及/提高-
pid: P8807
tag: ['2022', '数论', '枚举', '鸽笼原理', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 C] 取模
## 题目描述

给定 $n, m$，问是否存在两个不同的数 $x,y$ 使得 $1 \le x < y \le m$ 且 $n \bmod x = n \bmod ⁡y$。
## 输入格式

输入包含多组独立的询问。

第一行包含一个整数 $T$ 表示询问的组数。

接下来 $T$ 行每行包含两个整数 $n,m$，用一个空格分隔，表示一组询问。
## 输出格式

  输出 $T$ 行，每行依次对应一组询问的结果。如果存在，输出单词 `Yes`；如果不存在，输出单词 `No`。
## 样例

### 样例输入 #1
```
3
1 2
5 2
999 99
```
### 样例输出 #1
```
No
No
Yes
```
## 提示

对于 $20\%$ 的评测用例，$T \le 100$，$n, m \le 1000$；

对于 $50\%$ 的评测用例，$T \le 10000$，$n, m \le 10^5$；

对于所有评测用例，$1\le T \le 10^5$，$1\le n\le 10^9$，$2\le m \le 10^9$。

蓝桥杯 2022 国赛 C 组 C 题。


---

---
title: "[蓝桥杯 2022 国 C] 斐波那契数组"
layout: "post"
diff: 普及/提高-
pid: P8808
tag: ['2022', '枚举', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 C] 斐波那契数组
## 题目描述

如果数组 $A = (a_0,a_1,\cdots,a_{n − 1})$ 满足以下条件，就说它是一个斐波那契数组：

1. $n>2$。
2. $a_0=a_1$。
3. 对于所有的 $i\ge2$ 都有 $a_i=a_{i-1}+a_{i-2}$。

现在，给出一个数组 $A$，你可以执行任意次修改，每次修改将数组中的某个位置的元素修改为一个大于 $0$ 的整数。请问最少修改几个元素之后，数组 $A$ 会变成一个斐波那契数组。
## 输入格式

输入的第一行包含一个整数 $n$，表示数组 $A$ 中的元素个数。

第二行包含 $n$ 个整数 $a_0,a_1,\cdots,a_{n−1}$，相邻两个整数之间用一个空格分隔。
## 输出格式

  输出一行包含一个整数表示最少需要修改数组 $A$ 中的几个元素之后，数组 $A$ 可以变为一个斐波那契数组。
## 样例

### 样例输入 #1
```
5
1 2 2 4 8
```
### 样例输出 #1
```
3
```
## 提示

**【样例说明】**

将原数组修改为 $(1,1,2,3,5)$，最少修改三个元素变成了一个斐波那契数组。

**【评测用例规模与约定】**

对于所有评测用例， $3 ≤ n ≤ 10^5$，$1 ≤ a_i ≤ 10^6$。

蓝桥杯 2022 国赛 C 组 E 题。


---

---
title: "[蓝桥杯 2022 国 C] 近似 GCD"
layout: "post"
diff: 普及/提高-
pid: P8809
tag: ['2022', '枚举', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 C] 近似 GCD
## 题目描述

 小蓝有一个长度为 $n$ 的数组 $A = (a_1,a_2,\cdots,a_n)$，数组的子数组被定义为从原数组中选出连续的一个或多个元素组成的数组。数组的最大公约数指的是数组中所有元素的最大公约数。如果最多更改数组中的一个元素之后，数组的最大公约数为 $g$，那么称 $g$ 为这个数组的近似 GCD。一个数组的近似 GCD 可能有多种取值。

具体的，判断 $g$ 是否为一个子数组的近似 GCD 如下：

1. 如果这个子数组的最大公约数就是 $g$，那么说明 $g$ 是其近似 GCD。
2. 在修改这个子数组中的一个元素之后（可以改成想要的任何值），子数组的最大公约数为 $g$，那么说明 $g$ 是这个子数组的近似 GCD。

小蓝想知道，数组 $A$ 有多少个长度大于等于 $2$ 的子数组满足近似 GCD 的值为 $g$。
## 输入格式

输入的第一行包含两个整数 $n,g$，用一个空格分隔，分别表示数组 $A$ 的长度和 $g$ 的值。

第二行包含 $n$ 个整数 $a_1,a_2,\cdots,a_n$，相邻两个整数之间用一个空格分隔。
## 输出格式

  输出一行包含一个整数表示数组 $A$ 有多少个长度大于等于 $2$ 的子数组的近似 GCD 的值为 $g$。
## 样例

### 样例输入 #1
```
5 3
1 3 6 4 10
```
### 样例输出 #1
```
5
```
## 提示

**【样例说明】**

满足条件的子数组有 $5$ 个 ：

$[1,3]$：将 $1$ 修改为 $3$ 后，这个子数组的最大公约数为 $3$，满足条件。
   
$[1,3,6]$：将 $1$ 修改为 $3$ 后，这个子数组的最大公约数为 $3$，满足条件。

$[3,6]$：这个子数组的最大公约数就是 $3$，满足条件。

$[3,6,4]$：将 $4$ 修改为 $3$ 后，这个子数组的最大公约数为 $3$，满足条件。

$[6,4]$：将 $4$ 修改为 $3$ 后，这个子数组的最大公约数为 $3$，满足条件。

【评测用例规模与约定】

对于 $20\%$ 的评测用例，$2\le n\le100$；
  
对于 $40\%$ 的评测用例，$2\le n\le1000$；

对于所有评测用例，$2\le n\le10^5$，$1\le g,a_i \le10^9$。

蓝桥杯 2022 国赛 C 组 F 题。


---

---
title: "[蓝桥杯 2022 国 C] 六六大顺"
layout: "post"
diff: 普及/提高-
pid: P8811
tag: ['数学', '高精度', '2022', '蓝桥杯国赛']
---
# [蓝桥杯 2022 国 C] 六六大顺
## 题目描述

六六大顺，本指农历六月初六。多用于祝福中年人士家庭幸福，工作顺利，事业有成，身体健康。源自《左传》“君义，臣行，父慈，子孝，兄爱，弟敬，此数者累谓六顺也。”

$6$ 在我国自古以来是一个吉祥的数字，定义数列 $A = (a_1,a_2,\cdots,a_i,\cdots)$，其中 $a_1 = 6, a_2 = 66, \cdots, a_i = 10\cdot a_{i−1}+6$。

定义一个数列 $B = (b_1,b_2,\cdots,b_i,\cdots)$，其中 $b_1 = 6 \times 6, b_2 = 66\times66, \cdots, b_i = a_i \times a_i$。

现在小蓝想知道数列 $B$ 的前 $n$ 项的和是多少，你能帮帮小蓝吗？
## 输入格式

输入一行包含一个正整数 $n$。
## 输出格式

输出一行包含一个整数表示数列 $B$ 前 $n$ 项的和。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
447948
```
## 提示

**【样例说明】**

$b_1 = 6×6 = 36,b_2 = 66×66 = 4356,b_3 = 666×666 = 443556$，所以前三项的和为 $36 + 4356 + 443556 = 447948$。

**【评测用例规模与约定】**

对于 $20\%$ 的评测用例，$1≤n≤100$；

对于 $50\%$ 的评测用例，$1≤n≤10^5$；

对于所有评测用例，$1\le n\le 10^7$。

蓝桥杯 2022 国赛 C 组 H 题。


---

---
title: "[蓝桥杯 2023 国 B] 合并数列"
layout: "post"
diff: 普及/提高-
pid: P9422
tag: ['2023', '队列', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 B] 合并数列
## 题目描述

小明发现有很多方案可以把一个很大的正整数拆成若干正整数的和。他采取了其中两种方案，分别将他们列为两个数组 $\{a_1, a_2, \cdots a_n\}$ 和 $\{b_1, b_2, \cdots b_m\}$。两个数组的和相同。

定义一次合并操作可以将某数组内相邻的两个数合并为一个新数，新数的值是原来两个数的和。小明想通过若干次合并操作将两个数组变成一模一样，即 $n = m$ 且对于任意下标 $i$ 满足 $a_i = b_i$。请计算至少需要多少次合并操作可以完成小明的目标。
## 输入格式

输入共 $3$ 行。

第一行为两个正整数 $n, m$。

第二行为 $n$ 个由空格隔开的整数 $a_1, a_2, \cdots, a_n$。

第三行为 $m$ 个由空格隔开的整数 $b_1, b_2, \cdots, b_m$。
## 输出格式

输出共 $1$ 行，一个整数。
## 样例

### 样例输入 #1
```
4 3
1 2 3 4
1 5 4
```
### 样例输出 #1
```
1
```
## 提示

### 样例说明

只需要将 $a_2$ 和 $a_3$ 合并，数组 $a$ 变为 $\{1,5,4\}$，即和 $b$ 相同。

### 评测用例规模与约定

 - 对于 $20\%$ 的数据，保证 $n,m \le 10^3$。
 - 对于 $100\%$ 的数据，保证 $n, m \le 10^5$，$0 < a_i, b_i \le 10^5$。
 
第十四届蓝桥杯大赛软件赛决赛 C/C++ 大学 B 组 D 题


---

---
title: "[蓝桥杯 2023 国 B] 抓娃娃"
layout: "post"
diff: 普及/提高-
pid: P9426
tag: ['2023', '蓝桥杯国赛']
---
# [蓝桥杯 2023 国 B] 抓娃娃
## 题目描述

小明拿了 $n$ 条线段练习抓娃娃。他将所有线段铺在数轴上，第 $i$ 条线段的左端点在 $l_i$，右端点在 $r_i$。小明用 $m$ 个区间去框这些线段，第 $i$ 个区间的范围是 $[L_i, R_i]$。如果一个线段有 **至少一半** 的长度被包含在某个区间内，则将其视为被这个区间框住。请计算出每个区间框住了多少个线段？


## 输入格式

输入共 $n + m + 1$ 行。

第一行为两个正整数 $n, m$。

后面 $n$ 行，每行两个整数 $l_i, r_i$。

后面 $m$ 行，每行两个整数 $L_i, R_i$。
## 输出格式

输出共 $m$ 行，每行一个整数。
## 样例

### 样例输入 #1
```
3 2
1 2
1 3
3 4
1 4
2 4
```
### 样例输出 #1
```
3
2
```
## 提示

### 评测用例规模与约定

 - 对于 $20\%$ 的数据，保证 $n, m \le 10^3$。
 - 对于 $100\%$ 的数据，保证 $n, m ≤ 10^5$，$l_i < r_i$，$0 < l_i, r_i, L_i, R_i \le 10^6$，$\max \{r_i − l_i\} \le \min \{R_i − L_i\}$。
 
第十四届蓝桥杯大赛软件赛决赛 C/C++ 大学 B 组 H 题


---


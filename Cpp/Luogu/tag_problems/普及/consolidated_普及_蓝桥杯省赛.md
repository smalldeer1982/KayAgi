---
title: "[蓝桥杯 2024 省 A] 五子棋对弈"
layout: "post"
diff: 普及/提高-
pid: P10386
tag: ['2024', '深度优先搜索 DFS', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 A] 五子棋对弈
## 题目描述

“在五子棋的对弈中，友谊的小船说翻就翻？” 不！对小蓝和小桥来说，五子棋不仅是棋盘上的较量，更是心与心之间的沟通。这两位挚友秉承着 “友谊第一，比赛第二” 的宗旨，决定在一块 $5 × 5$ 的棋盘上，用黑白两色的棋子来决出胜负。但他们又都不忍心让对方失落，于是决定用一场**和棋（平局）** 作为彼此友谊的见证。
比赛遵循以下规则：
1. 棋盘规模：比赛在一个 $5 × 5$ 的方格棋盘上进行，共有 $25$ 个格子供下棋使用。
2. 棋子类型：两种棋子，黑棋与白棋，代表双方。小蓝持白棋，小桥持黑棋。
3. 先手规则：白棋（小蓝）具有先手优势，即在棋盘空白时率先落子（下棋）。
4. 轮流落子：玩家们交替在棋盘上放置各自的棋子，每次仅放置一枚。
5. 胜利条件：率先在横线、竖线或斜线上形成连续的五个同色棋子的一方获胜。
6. 平局条件：当所有 $25$ 个棋盘格都被下满棋子，而未决出胜负时，游戏以平局告终。

在这一设定下，小蓝和小桥想知道，有多少种不同的棋局情况（终局不同看成不同情况，终局相同而落子顺序不同看成同一种情况），既确保棋盘下满又保证比赛结果为平局。
## 输入格式

这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。


## 输出格式

这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。




---

---
title: "[蓝桥杯 2024 省 B] R 格式"
layout: "post"
diff: 普及/提高-
pid: P10425
tag: ['2024', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 B] R 格式
## 题目描述

小蓝最近在研究一种浮点数的表示方法：$R$ 格式。对于一个大于 $0$ 的浮点数 $d$，可以用 $R$ 格式的整数来表示。给定一个转换参数 $n$，将浮点数转换为 $R$ 格式整数的做法是：
1. 将浮点数乘以 $2^n$。
2. 四舍五入到最接近的整数。
## 输入格式

一行一个整数 $n$ 和一个浮点数 $d$。
## 输出格式

一行一个整数表示 $d$ 用 $R$ 格式表示出的值。
## 样例

### 样例输入 #1
```
2 3.14
```
### 样例输出 #1
```
13
```
## 提示

### 样例 1 解释

$3.14 \times 2^2 = 12.56$，四舍五入后为 $13$。

### 数据规模与约定

用 $t$ 表示将 $d$ 视为字符串时的长度。

- 对于 $50\%$ 的数据，保证 $n \le 10$，$t \le 15$。
- 对于全部的测试数据，保证 $1 \le n \le 1000$，$1 \le t \le 1024$，保证 $d$ 是小数，即包含小数点。


---

---
title: "[蓝桥杯 2024 省 B] 宝石组合"
layout: "post"
diff: 普及/提高-
pid: P10426
tag: ['2024', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 B] 宝石组合
## 题目描述


在一个神秘的森林里，住着一个小精灵名叫小蓝。有一天，他偶然发现了一个隐藏在树洞里的宝藏，里面装满了闪烁着美丽光芒的宝石。这些宝石都有着不同的颜色和形状，但最引人注目的是它们各自独特的 “闪亮度” 属性。每颗宝石都有一个与生俱来的特殊能力，可以发出不同强度的闪光。小蓝共找到了 $n$ 枚宝石，第 $i$ 枚宝石的 “闪亮度” 属性值为 $H_i$，小蓝将会从这 $n$ 枚宝石中选出三枚进行组合，组合之后的精美程度 $S$ 可以用以下公式来衡量：

$$
S = H_a H_b H_c \cdot \frac{\operatorname{LCM}(H_a, H_b, H_c)}{\operatorname{LCM}(H_a, H_b) \cdot\operatorname{LCM}(H_a, H_c) \operatorname{LCM}(H_b, H_c)}
$$

其中 $\operatorname{LCM}$ 表示的是最小公倍数函数。

小蓝想要使得三枚宝石组合后的精美程度 $S$ 尽可能的高，请你帮他找出精美程度最高的方案。如果存在多个方案 $S$ 值相同，优先选择按照 $H$ 值升序排列后字典序最小的方案。

## 输入格式


第一行一个整数 $n$ 表示宝石个数。  
第二行有 $n$ 个整数 $H_1, H_2, \dots H_n$ 表示每个宝石的闪亮度。

## 输出格式


输出一行包含三个整数表示满足条件的三枚宝石的 “闪亮度”。
## 样例

### 样例输入 #1
```
5
1 2 3 4 9

```
### 样例输出 #1
```
1 2 3
```
## 提示

### 数据规模与约定

- 对 $30\%$ 的数据，$n \leq 100$，$H_i \leq 10^3$。
- 对 $60\%$ 的数据，$n \leq 2 \times 10^3$。
- 对全部的测试数据，保证 $3 \leq n \leq 10^5$，$1 \leq H_i \leq 10^5$。


---

---
title: "[蓝桥杯 2024 省 C] 商品库存管理"
layout: "post"
diff: 普及/提高-
pid: P10903
tag: ['2024', '差分', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 C] 商品库存管理
## 题目描述

在库存管理系统中，跟踪和调节商品库存量是关键任务之一。小蓝经营的仓库中存有多种商品，这些商品根据类别和规格被有序地分类并编号，编号范围从 $1$ 至 $n$。初始时，每种商品的库存量均为 $0$。

为了高效地监控和调整库存量，小蓝的管理团队设计了 $m$ 个操作，每个操作涉及到一个特定的商品区间，即一段连续的商品编号范围（例如区间 $[L, R]$）。执行这些操作时，区间内每种商品的库存量都将增加 $1$。然而，在某些情况下，管理团队可能会决定不执行某些操作，使得这些操作涉及的商品区间内的库存量不会发生改变，维持原有的状态。

现在，管理团队需要一个评估机制，来确定如果某个操作未被执行，那么最终会有多少种商品的库存量为 $0$。对此，请你为管理团队计算出，对于每个操作，如果不执行该操作而执行其它操作，库存量为 $0$ 的商品的种类数。
## 输入格式

输入的第一行包含两个整数 $n$ 和 $m$，分别表示商品的种类数和操作的个数。

接下来的 $m$ 行，每行包含两个整数 $L$ 和 $R$，表示一个操作涉及的商品区间。
## 输出格式

输出 $m$ 行，每行一个整数，第 $i$ 行的整数表示如果不执行第 $i$ 个操作，则最终库存量为 $0$ 的商品种类数。
## 样例

### 样例输入 #1
```
5 3
1 2
2 4
3 5
```
### 样例输出 #1
```
1
0
1
```
## 提示

**【样例说明】**

考虑不执行每个操作时，其余操作对商品库存的综合影响：

- **不执行操作 $1$**：剩余的操作是操作 $2$（影响区间 $[2, 4]$）和操作 $3$（影响区间 $[3, 5]$）。执行这两个操作后，商品库存序列变为 $[0, 1, 2, 2, 1]$。在这种情况下，只有编号为 $1$ 的商品的库存量为 $0$。因此，库存量为 $0$ 的商品种类数为 $1$。

- **不执行操作 $2$**：剩余的操作是操作 $1$（影响区间 $[1, 2]$）和操作 $3$（影响区间 $[3, 5]$）。执行这两个操作后，商品库存序列变为 $[1, 1, 1, 1, 1]$。在这种情况下，所有商品的库存量都不为 $0$。因此，库存量为 $0$ 的商品种类数为 $0$。

- **不执行操作 $3$**：剩余的操作是操作 $1$（影响区间 $[1, 2]$）和操作 $2$（影响区间 $[2, 4]$）。执行这两个操作后，商品库存序列变为 $[1, 2, 1, 1, 0]$。在这种情况下，只有编号为 $5$ 的商品的库存量为 $0$。因此，库存量为 $0$ 的商品种类数为 $1$。

**【评测用例规模与约定】**

对于 $20\%$ 的评测用例，$1 \le n,m \le 5 \times 10^3$，$1\le L \le R \le n$。  
对于所有评测用例，$1 \le n,m \le 3 \times 10^5$，$1 \le L \le R \le n$。


---

---
title: "[蓝桥杯 2024 省 C] 挖矿"
layout: "post"
diff: 普及/提高-
pid: P10904
tag: ['2024', '前缀和', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 C] 挖矿
## 题目描述

小蓝正在数轴上挖矿，数轴上一共有 $n$ 个矿洞，第 $i$ 个矿洞的坐标为 $a_i$。小蓝从 $0$ 出发，每次可以向左或向右移动 $1$ 的距离，当路过一个矿洞时，就会进行挖矿作业，获得 $1$ 单位矿石，但一个矿洞不能被多次挖掘。小蓝想知道在
移动距离不超过 $m$ 的前提下，最多能获得多少单位矿石？
## 输入格式

输入的第一行包含两个正整数 $n,m$，用一个空格分隔。

第二行包含 $n$ 个整数 $a_1, a_2,\cdots, a_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
5 4
0 -3 -1 1 2
```
### 样例输出 #1
```
4
```
## 提示

**【样例说明】**

路径：$0\to -1\to 0\to 1\to 2$，可以对 $\{0,-1,1,2\}$ 四个矿洞挖掘并获得最多 $4$ 块矿石。

**【评测用例规模与约定】**

对于 $20\%$ 的评测用例，$1 \le n \le 10^3$；  
对于所有评测用例，$1 \le n \le 10^5$，$-10^6 \le a_i \le 10^6$，$1 \le m \le 2 \times 10^6$。


---

---
title: "[蓝桥杯 2024 省 C] 回文字符串"
layout: "post"
diff: 普及/提高-
pid: P10905
tag: ['模拟', '2024', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 C] 回文字符串
## 题目描述

小蓝最近迷上了回文字符串，他有一个只包含小写字母的字符串 $S$，小蓝可以往字符串 $S$ 的开头处加入任意数目个指定字符：`l`、`q`、`b`（ASCII 码分别为：$108$、$113$、$98$）。小蓝想要知道他是否能通过这种方式把字符串 $S$ 转化为一个回文字符串。
## 输入格式

输入的第一行包含一个整数 $T$，表示每次输入包含 $T$ 组数据。

接下来依次描述 $T$ 组数据。

每组数据一行包含一个字符串 $S$。
## 输出格式

输出 $T$ 行，每行包含一个字符串，依次表示每组数据的答案。如果可以将 $S$ 转化为一个回文字符串输出 `Yes`，否则输出 `No`。

## 样例

### 样例输入 #1
```
3
gmgqlq
pdlbll
aaa
```
### 样例输出 #1
```
Yes
No
Yes
```
## 提示

**【样例说明】**

对于 `gmgqlq`，可以在前面加上 `qlq` => `qlqgmgqlq` 转化为一个回文字符串；

对于 `pdlbll`，无法转化为一个回文字符串；

对于 `aaa`，本身就是一个回文字符串。

**【评测用例规模与约定】**

对于 $50\%$ 的评测用例，$1 \le |S| \le 1000$，其中 $|S_j|$ 表示字符串 $S$ 的长度；  
对于所有评测用例，$1 \le T \le 10$，$1 \le \sum |S| \le 10^6$。


---

---
title: "[蓝桥杯 2024 省 Java B] 食堂"
layout: "post"
diff: 普及/提高-
pid: P11044
tag: ['动态规划 DP', '贪心', '2024', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 Java B] 食堂
## 题目描述

S 学校里一共有 $a_2$ 个两人寝、$a_3$ 个三人寝，$a_4$ 个四人寝，而食堂里有 $b_4$ 个四人桌和 $b_6$ 个六人桌。学校想要安排学生们在食堂用餐，并且满足每个寝室里的同学都在同一桌就坐，请问这个食堂最多同时满足多少同学用餐？
## 输入格式

**本题采用多组数据输入。**

输入共 $q+1$ 行。

第一行为一个正整数 $q$ 表示数据组数。

后面 $q$ 行，每行五个非负整数 $a_2,a_3,a_4,b_4,b_6$ 表示一组数据。
## 输出格式

输出共 $q$ 行，每行一个整数表示对应输入数据的答案。
## 样例

### 样例输入 #1
```
2
3 0 1 0 1
0 2 2 1 1
```
### 样例输出 #1
```
6
10
```
## 提示

**【样例说明】**

对于第一组数据，只有一个六人桌，因此最多安排三个两人寝的同学就餐，答案为 $(2+2+2)=6$。

对于第二组数据，用一个六人桌安排两个三人寝的同学，用一个四人桌安排一个四人寝的同学，答案为 $(3+3)+(4)=10$。

**【评测用例规模与约定】**

对于 $20\%$ 的评测用例，保证 $a_2+a_3+a_4\leq 8$。

对于 $100\%$ 的评测用例，保证 $q\leq 100$，$b_4+b_6\leq a_2+a_3+a_4\leq 100$。


---

---
title: "[蓝桥杯 2024 省 Java B] 星际旅行"
layout: "post"
diff: 普及/提高-
pid: P11046
tag: ['2024', '广度优先搜索 BFS', '概率论', '期望', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 Java B] 星际旅行
## 题目背景

备注：原题（Java）时间限制 3.0s，空间限制 512 MB。
## 题目描述

小明国庆节准备去某星系进行星际旅行，这个星系里一共有 $n$ 个星球，其中布置了 $m$ 道双向传送门，第 $i$ 道传送门可以连接 $a_i$，$b_i$ 两颗星球（$a_i \neq b_i$ 且任意两颗星球之间最多只有一个传送门）。

他看中了一款 “旅游盲盒”，一共有 $Q$ 个盲盒，第 $i$ 个盲盒里的旅行方案规定了旅行的起始星球 $x_i$ 和最多可以使用传送门的次数 $y_i$。只要从起始星球出发，使用传送门不超过规定次数能到达的所有星球都可以去旅行。

小明关心在每个方案中有多少个星球可以旅行到。小明只能在这些盲盒里随机选一个购买，他想知道能旅行到的不同星球的数量的期望是多少。
## 输入格式

输入共 $m + Q + 1$ 行。

第一行为三个正整数 $n, m, Q$。

后面 $m$ 行，每行两个正整数 $a_i$，$b_i$。

后面 $Q$ 行，每行两个整数 $x_i$，$y_i$。
## 输出格式

输出共一行，一个浮点数（四舍五入保留两位小数）。
## 样例

### 样例输入 #1
```
3 2 3
1 2
2 3
2 1
2 0
1 1
```
### 样例输出 #1
```
2.00
```
## 提示

【样例解释】

- 第一个盲盒可以旅行到 $1, 2, 3$。
- 第二个盲盒可以旅行到 $2$。
- 第三个盲盒可以旅行到 $1, 2$。

所以期望是 $(3 + 1 + 2) / 3 = 2.00$。

【数据范围】

- 对于 $20 \%$ 的评测用例，保证 $n \leq 300$。
- 对于 $100 \%$ 的评测用例，保证 $n \leq 1000$，$m \leq \min \left\{\dfrac{n(n - 1)}{2}, 5n\right\}$，$Q \leq 50000$，$0 \leq y_i \leq n$，$1 \leq x_i \leq n$。


---

---
title: "[蓝桥杯 2024 省 B 第二场] 传送阵"
layout: "post"
diff: 普及/提高-
pid: P12123
tag: ['并查集', '2024', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 B 第二场] 传送阵
## 题目描述

小蓝在环球旅行时来到了一座古代遗迹，里面并排放置了 $n$ 个传送阵，进入第 $i$ 个传送阵会被传送到第 $a_i$ 个传送阵前，并且可以随时选择退出或者继续进入当前传送阵。

小蓝为了探寻传送阵中的宝物，需要选择一个传送阵进入，然后连续进入之后的传送阵。小蓝希望尽可能多地进入传送门以便搜索宝物，同时他可以使用一次魔法，从某个传送阵 $j$ 走到相邻的（第 $j - 1$ 或第 $j + 1$ 个）传送阵，请问小蓝最多能到达多少个不同的传送阵？一个传送阵可多次进入，但在计算答案时只算一个。
## 输入格式

输入的第一行包含一个正整数 $n$。

第二行包含 $n$ 个正整数 $a_1, a_2, \dots , a_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
5
2 1 5 4 3
```
### 样例输出 #1
```
4
```
## 提示

### 样例说明

小蓝的路径可以是：$1 \to 2 \to 3 \to 5$。其中 $2 \to 3$ 使用魔法。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq n \leq 1000$；
- 对于所有评测用例，$1 \leq n \leq 10^6$，且 $a$ 是 $1$ 至 $n$ 的一个排列。


---

---
title: "[蓝桥杯 2024 省 B 第二场] 狡兔 k 窟"
layout: "post"
diff: 普及/提高-
pid: P12126
tag: ['2024', '树的遍历', '蓝桥杯省赛']
---
# [蓝桥杯 2024 省 B 第二场] 狡兔 k 窟
## 题目描述

一只兔子名叫小蓝，它异常狡猾，在土中挖了若干洞窟并且设置了很多出入口来应对紧急情况。它一共有 $n$ 个通往地面的出入口，在地面上这 $n$ 个出入口之间由 $n - 1$ 条长度为 $1$ 的双向通路连成一个连通图。第 $i$ 个出入口属于第 $c_i$ 个洞窟，因此小蓝可以在任意一个属于 $c_i$ 的出入口从地面进入洞窟然后从任意一个属于 $c_i$ 的出入口跑出到达地面。

小蓝提出了 $m$ 个逃跑路线，第 $i$ 个路线希望从出入口 $s_i$ 逃往 $t_i$，它希望在逃跑的过程中在地面上跑动的距离尽可能短，请为每条路线计算逃跑时在地面上跑动的最短距离。
## 输入格式

输入的第一行包含两个正整数 $n, m$，用一个空格分隔。

第二行包含 $n$ 个正整数 $c_1, c_2, \dots , c_n$，相邻整数之间使用一个空格分隔。

接下来 $n - 1$ 行，第 $i$ 行包含两个整数 $u_i, v_i$，用一个空格分隔，表示地面上的一条通路连接 $u_i$ 和 $v_i$。

接下来 $m$ 行，第 $i$ 行包含两个整数 $s_i, t_i$，用一个空格分隔。
## 输出格式

输出 $m$ 行，每行包含一个整数，依次表示每个询问的答案。
## 样例

### 样例输入 #1
```
6 3
1 3 2 1 2 3
1 2
1 3
2 4
2 5
3 6
2 6
3 2
4 3
```
### 样例输出 #1
```
0
1
1
```
## 提示

### 评测用例规模与约定
- 对于 $20\%$ 的评测用例，$1 \leq n, m, c_i \leq 100$；
- 对于所有评测用例，$1 \leq n, m, c_i \leq 5000$，$1 \leq u_i, v_i, s_i, t_i \leq n$。


---

---
title: "[蓝桥杯 2025 省 B] 移动距离"
layout: "post"
diff: 普及/提高-
pid: P12130
tag: ['数学', '2025', '微积分', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 B] 移动距离
## 题目背景

本站蓝桥杯 2025 省赛测试数据均为洛谷自造，与官方数据可能存在差异，仅供学习参考。
## 题目描述

小明初始在二维平面的原点，他想前往坐标 $(233, 666)$。在移动过程中，他只能采用以下两种移动方式，并且这两种移动方式可以交替、不限次数地使用：
1. 水平向右移动，即沿着 $x$ 轴正方向移动一定的距离。
2. 沿着一个圆心在原点 $(0, 0)$、以他当前位置到原点的距离为半径的圆的圆周移动，移动方向不限（即顺时针或逆时针移动不限）。

在这种条件下，他到达目的地最少移动多少单位距离？你只需要输出答案四舍五入到整数的结果。
## 输出格式

这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。


---

---
title: "[蓝桥杯 2025 省 B] 水质检测"
layout: "post"
diff: 普及/提高-
pid: P12135
tag: ['模拟', '动态规划 DP', '贪心', '2025', '蓝桥杯省赛', '分类讨论']
---
# [蓝桥杯 2025 省 B] 水质检测
## 题目描述

小明需要在一条 $2 \times n$ 的河床上铺设水质检测器。在他铺设之前，河床上已经存在一些检测器。如果两个检测器上下或者左右相邻，那么这两个检测器就是互相连通的。连通具有传递性，即如果 $A$ 和 $B$ 连通，$B$ 和 $C$ 连通，那么 $A$ 和 $C$ 也连通。现在他需要在河床上增加铺设一些检测器使得所有的检测器都互相连通。他想知道最少需要增加铺设多少个检测器？
## 输入格式

输入共两行，表示一个 $2 \times n$ 的河床。

每行一个长度为 $n$ 的字符串，仅包含 `#` 和 `.`，其中 `#` 表示已经存在的检测器，`.` 表示空白。
## 输出格式

输出共 $1$ 行，一个整数表示答案。
## 样例

### 样例输入 #1
```
.##.....#
.#.#.#...
```
### 样例输出 #1
```
5
```
## 提示

### 样例说明

其中一种方案：

```
.###....#
.#.######
```

增加了 5 个检测器。

### 评测用例规模与约定

对于 $100\%$ 的评测用例，保证 $n \leq 1000000$。


---

---
title: "[蓝桥杯 2025 省 B] 装修报价"
layout: "post"
diff: 普及/提高-
pid: P12137
tag: ['数学', '2025', '组合数学', '容斥原理', '位运算', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 B] 装修报价
## 题目描述

老王计划装修房子，于是联系了一家装修公司。该公司有一套自动报价系统，只需用户提供 $N$ 项装修相关费用 $A_1, A_2, \dots , A_N$，系统便会根据这些费用生成最终的报价。

然而，当老王提交数据后，他发现这套系统的运作方式并不透明：系统只会给出一个最终报价，而不会公开任何运算过程或中间步骤。

公司对此解释称，这套系统会依据某种内部算法，在每对相邻数字之间插入 $+$（加法）、$-$（减法）或 $\oplus$（异或）运算符，并按照特定优先级规则计算结果：异或运算优先级最高，其次是加减。但由于保密性，具体的运算符组合以及中间过程都不会对外公开。

为了验证系统报价是否合理，老王决定模拟其运作方式，尝试每种可能的运算符组合，计算出所有可能出现的结果的总和。如果最终报价明显超出这个范围，他就有理由怀疑系统存在异常或误差。只是老王年事已高，手动计算颇为吃力，便向你求助。

现在，请你帮老王算出所有可能的结果的总和。由于该总和可能很大，你只需提供其对 $10^9+7$ 取余后的结果即可。
## 输入格式

第一行输入一个整数 $N$，表示装修相关费用的项数。

第二行输入 $N$ 个非负整数 $A_1, A_2, \dots , A_N$，表示各项费用。
## 输出格式

输出一个整数，表示所有可能的总和对 $10^9 + 7$ 取余后的结果。
## 样例

### 样例输入 #1
```
3
0 2 5
```
### 样例输出 #1
```
11
```
## 提示

对于输入样例中的三个数 $A = [0, 2, 5]$，所有可能的运算符组合共有 $9$ 种。计算结果如下：

$$0 \oplus 2 \oplus 5 = 7$$
$$0 \oplus 2 + 5 = 7$$
$$0 \oplus 2 - 5 = -3$$
$$0 + 2 \oplus 5 = 7$$
$$0 + 2 + 5 = 7$$
$$0 + 2 - 5 = -3$$
$$0 - 2 \oplus 5 = -7$$
$$0 - 2 + 5 = 3$$
$$0 - 2 - 5 = -7$$

所有结果的总和为：

$$7 + 7 + (-3) + 7 + 7 + (-3) + (-7) + 3 + (-7) = 11$$

$11$ 对 $10^9 + 7$ 取余后的值依然为 $11$，因此，输出结果为 $11$。

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$1 \leq N \leq 13$，$0 \leq A_i \leq 10^3$。
- 对于 $60\%$ 的评测用例，$1 \leq N \leq 10^3$，$0 \leq A_i \leq 10^5$。
- 对于 $100\%$ 的评测用例，$1 \leq N \leq 10^5$，$0 \leq A_i \leq 10^9$。


---

---
title: "[蓝桥杯 2025 省 A] 好串的数目"
layout: "post"
diff: 普及/提高-
pid: P12143
tag: ['字符串', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 A] 好串的数目
## 题目描述

对于一个长度为 $n$ 的字符串 $s = s_0s_1 \cdots s_{n-1}$ 来说，子串的定义是从中选出两个下标 $l, r$ $(0 \leq l \leq r \leq n-1)$，这之间所有的字符组合起来的一个新的字符串：$s' = s_ls_{l+1} \cdots s_r$ 就是其中一个子串。

现在给出一个只有数字字符 $0 \sim 9$ 组成的数字字符串，小蓝想要知道在其所有的子串中，有多少个子串是好串。一个子串是好串，当且仅当它满足以下两个条件之一：
1. 单字符子串一定是好串，即当子串长度为 $1$ 时，它总是好串；
2. 长度大于 $1$ 时，可以拆分为两个**连续非递减子串**：
   一个串 $p = p_0p_1 \cdots p_{k-1}$ 为**连续非递减子串**是指，对于所有 $1 \leq i < k$，满足 $p_i = p_{i-1}$ 或 $p_i = p_{i-1} + 1$。即数字串中的每一个数字，要么等于上一个数字，要么等于上一个数字加 $1$。例如 `12233`、`456` 是连续非递减子串。
## 输入格式

输入一行包含一个字符串 $s$。
## 输出格式

输出一行包含一个整数表示答案，即好串的数目。
## 样例

### 样例输入 #1
```
12258
```
### 样例输出 #1
```
12
```
### 样例输入 #2
```
97856
```
### 样例输出 #2
```
13
```
## 提示

### 样例说明 1

- 长度为 $1$ 的好串：`1`、`2`、`2`、`5`、`8`，共 $5$ 个；
- 长度为 $2$ 的好串：`12`、`22`、`25`、`58`，共 $4$ 个；
- 长度为 $3$ 的好串：`122`、`225`，共 $2$ 个；
- 长度为 $4$ 的好串：`1225`，共 $1$ 个；

总计 $5 + 4 + 2 + 1 = 12$ 个。

### 样例说明 2
- 长度为 $1$ 的好串：`9`、`7`、`8`、`5`、`6`，共 $5$ 个；
- 长度为 $2$ 的好串：`97`、`78`、`85`、`56`，共 $4$ 个；
- 长度为 $3$ 的好串：`978`、`785`、`856`，共 $3$ 个；
- 长度为 $4$ 的好串：`7856`，共 $1$ 个；

总计 $5 + 4 + 3 + 1 = 13$ 个。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq n \leq 5$；
- 对于 $40\%$ 的评测用例，$1 \leq n \leq 20$；
- 对于 $60\%$ 的评测用例，$1 \leq n \leq 100$；
- 对于 $70\%$ 的评测用例，$1 \leq n \leq 10^3$；
- 对于 $80\%$ 的评测用例，$1 \leq n \leq 10^4$；
- 对于所有评测用例，$1 \leq n \leq 10^5$，$s$ 中只包含数字字符 $0 \sim 9$。


---

---
title: "[蓝桥杯 2025 省 Java B] 爆破"
layout: "post"
diff: 普及/提高-
pid: P12158
tag: ['2025', 'Special Judge', '生成树', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Java B] 爆破
## 题目描述

小明正在参加一场爆破工作。人们在地面上放置了 $n$ 个爆炸魔法阵，第 $i$ 个魔法阵的圆心坐标为 $(x_i, y_i)$，半径为 $r_i$。如果两个魔法阵相交，则它们可以一起引爆；如果两个魔法阵不相交，则可以再使用一条魔法回路将它们的边缘连接起来。小明想知道最少需要布置总长度多长的魔法回路才能使得所有的魔法阵可以一起引爆？
## 输入格式

输入共 $n + 1$ 行。
- 第一行为一个正整数 $n$。
- 后面 $n$ 行，每行三个整数表示 $x_i, y_i, r_i$。
## 输出格式

输出共 $1$ 行，一个浮点数表示答案（四舍五入保留两位小数）。
## 样例

### 样例输入 #1
```
4
0 0 1
2 0 2
-3 0 1
4 4 1
```
### 样例输出 #1
```
2.47
```
## 提示

### 样例说明

- 使用魔法回路连接第 $1$、$3$ 个魔法阵，长度为 $1$。
- 使用魔法回路连接第 $2$、$4$ 个魔法阵，长度为 $2\sqrt{5} - 3 = 1.47$。

总长度 $2.47$。

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$n \leq 500$。
- 对于 $100\%$ 的评测用例，$1\leq n \leq 5000$，$|x_i|, |y_i| \leq 2000$，$0 < r_i \leq 20$。


---

---
title: "[蓝桥杯 2025 省 Java B] 数组翻转"
layout: "post"
diff: 普及/提高-
pid: P12159
tag: ['贪心', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Java B] 数组翻转
## 题目描述

小明生成了一个长度为 $n$ 的正整数数组 $a_1, a_2, \dots , a_n$，他可以选择连续的一段数 $a_l, a_{l+1}, \dots, a_r$，如果其中所有数都相等即 $a_l = a_{l+1} = \dots = a_r$，那么他可以获得 $(r - l + 1) \times a_l$ 的分数。

在选择之前，为了让分数尽可能大，他决定先选择数组中的一段区间，对其进行左右翻转。他想知道在对数组进行翻转之后他能获得的最大分数是多少？

提示：当翻转 $a_l$ 到 $a_r$ 这段区间后，整个数组会变为：

$$a_1, a_2, \dots , a_{l-1}, a_r, a_{r-1}, \dots , a_{l+1}, a_l, a_{r+1}, \dots , a_n$$
## 输入格式

输入共两行。
- 第一行为一个正整数 $n$。
- 第二行为 $n$ 个由空格分开的正整数 $a_1, a_2, \dots , a_n$。
## 输出格式

输出共 $1$ 行，一个整数表示答案。

## 样例

### 样例输入 #1
```
7
4 4 3 3 2 1 3
```
### 样例输出 #1
```
9
```
## 提示

### 样例说明

翻转区间 $[5, 7]$，数组变为 $4, 4, 3, 3, 3, 1, 2$，最大分数为选择三个 $3$。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$n \leq 500$。
- 对于 $100\%$ 的评测用例，$1\leq n \leq 10^6$，$1\leq a_i \leq 10^6$。


---

---
title: "[蓝桥杯 2025 省 Java B] 研发资源分配"
layout: "post"
diff: 普及/提高-
pid: P12161
tag: ['贪心', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Java B] 研发资源分配
## 题目描述

在蓝桥科技公司，$A$ 部门和 $B$ 部门正在竞争一种新型 AI 芯片的研发资源。

为了公平分配资源，公司设计了一个为期 $N$ 天的分配方案：

每天早上，$A$ 部门和 $B$ 部门各自提交一个需求等级（从 $1$ 到 $N$ 的整数）。提交等级较高的部门获得当天的资源，资源份额等于当天的日期编号（第 $1$ 天为 $1$ 单位，第 $2$ 天为 $2$ 单位，依次递增）。若两部门提交的等级相同，则当天资源作废，双方均无法获得资源。

每个部门必须在 $N$ 天内使用 $1$ 到 $N$ 的所有等级，且每个等级只能使用一次。

有趣的是，$A$ 部门在 $B$ 部门内部安插了一名 “间谍”，提前获知了 $B$ 部门的需求等级提交顺序，记为排列 ($P_1, P_2, \dots , P_N$)，其中 $P_i$ 表示 $B$ 部门在第 $i$ 天提交的需求等级。

现在，请你帮助 $A$ 部门分析，在已知 $B$ 部门需求等级顺序的情况下，$A$ 部门的总资源份额减去 $B$ 部门的总资源份额的差值最大可以是多少？
## 输入格式

第一行包含一个整数 $N$，表示分配方案的天数。

第二行包含 $N$ 个整数 $P_1, P_2, \dots , P_N$，表示 $B$ 部门在第 $1$ 天到第 $N$ 天提交的需求等级。
## 输出格式

输出一个整数，表示 $A$ 部门的总资源份额减去 $B$ 部门的总资源份额的最大差值。
## 样例

### 样例输入 #1
```
3
1 3 2
```
### 样例输出 #1
```
2
```
## 提示

### 样例说明

$A$ 部门可以选择排列 $[2, 1, 3]$：
- 第 $1$ 天：$A(= 2) > B(= 1)$，$A$ 获得 $1$ 单位资源；
- 第 $2$ 天：$A(= 1) < B(= 3)$，$B$ 获得 $2$ 单位资源；
- 第 $3$ 天：$A(= 3) > B(= 2)$，$A$ 获得 $3$ 单位资源。

两者的差值为 $4 - 2 = 2$。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq N \leq 11$，$1 \leq P_i \leq N$，$P_1, P_2, \dots , P_N$ 各不相同。
- 对于 $100\%$ 的评测用例，$1 \leq N \leq 10^5$，$1 \leq P_i \leq N$，$P_1, P_2, \dots , P_N$ 各不相同。


---

---
title: "[蓝桥杯 2025 省 C/Java A/研究生组] 冷热数据队列"
layout: "post"
diff: 普及/提高-
pid: P12166
tag: ['模拟', '2025', '链表', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 C/Java A/研究生组] 冷热数据队列
## 题目描述

冷热数据队列 $q$ 可以看做由两个子队列组成：长度为 $n_1$ 的热数据队列 $q_1$ 和长度为 $n_2$ 的冷数据队列 $q_2$。当我们需要访问某个数据页 $p$ 时：

1. 若 $p$ 不在队列 $q$ 中（即既不在 $q_1$ 中，也不在 $q_2$ 中），则加载数据页 $p$，并插入到 $q_2$ 的首部。
2. 若 $p$ 已经在队列 $q$ 中，则将 $p$ 移动至 $q_1$ 首部。
3. 当 $q_1$ 或 $q_2$ 队列容量不足时，会将其尾部的数据页淘汰出去。
4. 当 $q_1$ 已满，但 $q_2$ 未满时，从 $q_1$ 中淘汰出的数据页会移动到 $q_2$ 首部。
## 输入格式

输入的第一行包含两个正整数 $n_1, n_2$，用一个空格分隔。

第二行包含一个整数 $m$，表示操作次数。

第三行包含 $m$ 个正整数 $v_1, v_2, \cdots, v_m$，表示依次访问到的数据页的编号，相邻整数之间使用一个空格分隔。
## 输出格式

输出两行。

第一行包含若干个整数，相邻整数之间使用一个空格分隔，依次表示 $q_1$ 中的数据页。

第二行包含若干个整数，相邻整数之间使用一个空格分隔，依次表示 $q_2$ 中的数据页。
## 样例

### 样例输入 #1
```
3 3
10
1 2 3 4 3 2 2 1 3 4
```
### 样例输出 #1
```
4 3 2
1
```
## 提示

### 样例说明

| $i$   | $v_i$   | $q_1$           | $q_2$           |
|-------|---------|-----------------|-----------------|
| $- $  | $-$     | $[]$            | $[]$            |
| $1 $  | $1$     | $[]$            | $[1]$           |
| $2 $  | $2$     | $[]$            | $[2,1]$         |
| $3 $  | $3$     | $[]$            | $[3,2,1]$       |
| $4 $  | $4$     | $[]$            | $[4,3,2]$       |
| $5 $  | $3$     | $[3]$           | $[4,2]$         |
| $6 $  | $2$     | $[2,3]$         | $[4]$           |
| $7 $  | $2$     | $[2,3]$         | $[4]$           |
| $8 $  | $1$     | $[2,3]$         | $[1,4]$         |
| $9 $  | $3$     | $[3,2]$         | $[1,4]$         |
| $10$  | $4$     | $[4,3,2]$       | $[1]$           |

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq n_1, n_2 \leq 10$，$1 \leq m \leq 10$；
- 对于 $40\%$ 的评测用例，$1 \leq n_1, n_2 \leq 20$，$1 \leq m \leq 100$；
- 对于 $60\%$ 的评测用例，$1 \leq n_1, n_2 \leq 100$，$1 \leq m \leq 1000$；
- 对于 $80\%$ 的评测用例，$1 \leq n_1, n_2 \leq 10^3$，$1 \leq m \leq 10^4$；
- 对于所有评测用例，$1 \leq n_1, n_2 \leq 10^4$，$1 \leq m \leq 10^5$，$0 \leq v_i \leq 10^4$。


---

---
title: "[蓝桥杯 2025 省 C/Python A] 倒水"
layout: "post"
diff: 普及/提高-
pid: P12167
tag: ['二分', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 C/Python A] 倒水
## 题目描述

小蓝有 $n$ 个装了水的瓶子，从左到右摆放，第 $i$ 个瓶子里装有 $a_i$ 单位的水。为了美观，小蓝将水循环染成了 $k$ 种颜色，也就是说，第 $i$ 个瓶子和第 $i + k$ 个瓶子里的水的颜色相同。

小蓝发现有的瓶子里的水太少了，因此他规定如果第 $i$ 个瓶子和第 $j$ 个瓶子中的水颜色相同并且满足 $i < j$，即可将任意整数单位的水从第 $i$ 个水瓶倒出，倒入第 $j$ 个水瓶中。小蓝想知道任意次操作后所有瓶子中的水的最小值 $\min\{a_i\}$ 最大可以是多少？
## 输入格式

输入的第一行包含两个正整数 $n, k$，用一个空格分隔。

第二行包含 $n$ 个正整数 $a_1, a_2, \cdots, a_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
7 3
8 5 5 2 2 3 4
```
### 样例输出 #1
```
3
```
## 提示

### 样例说明

其中一种方案：
- $a_1$ 往 $a_4$ 倒入 $3$ 单位；
- $a_2$ 往 $a_5$ 倒入 $2$ 单位；
- $a_3$ 往 $a_6$ 倒入 $1$ 单位；
最终每个瓶子里的水：$5, 3, 4, 5, 4, 4, 4$，最小值为 $3$。

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$1 \leq n, a_i \leq 100$；
- 对于所有评测用例，$1 \leq n, a_i \leq 100000$，$1 \leq k \leq n$。


---

---
title: "[蓝桥杯 2025 省 C/Python A/Java A] 拼好数"
layout: "post"
diff: 普及/提高-
pid: P12168
tag: ['贪心', '2025', '蓝桥杯省赛', '分类讨论']
---
# [蓝桥杯 2025 省 C/Python A/Java A] 拼好数
## 题目描述

我们将含有不少于 $6$ 个 $6$ 的数视为一个好数。例如 $666666$、$162636465666$ 是好数，$12366666$ 不是好数。

给定 $n$ 个正整数 $a_i$，你可以把这些数分成若干组拼起来，每组内的数可以按任意顺序拼，但一组最多只能有 $3$ 个数。求最多可以得到多少个好数。
## 输入格式

输入的第一行包含一个正整数 $n$。

第二行包含 $n$ 个正整数 $a_1, a_2, \cdots, a_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案，即最多可以得到的好数的数量。
## 样例

### 样例输入 #1
```
3
66 66 66
```
### 样例输出 #1
```
1
```
### 样例输入 #2
```
7
666666 16166 6696 666 6 6 6
```
### 样例输出 #2
```
2
```
## 提示

### 评测用例规模与约定

- 对于 $70\%$ 的评测用例，$1 \leq n \leq 20$；
- 对于所有评测用例，$1 \leq n \leq 1000$，$0 \leq a_i \leq 10^9$。


---

---
title: "[蓝桥杯 2025 省 Python B] A · B Problem"
layout: "post"
diff: 普及/提高-
pid: P12174
tag: ['2025', '数论', '蓝桥杯省赛', '调和级数']
---
# [蓝桥杯 2025 省 Python B] A · B Problem
## 题目描述

设有两个二维向量 $\overrightarrow{A}(X_A, Y_A), \overrightarrow{B}(X_B, Y_B)$。给定 $L$，求 $(X_A, Y_A), (X_B, Y_B)$ 有多少种不同的取值，使得：

1. $X_A, Y_A, X_B, Y_B$ 均为正整数；
2. $\overrightarrow{A} \cdot \overrightarrow{B} \leq L$，其中 $\overrightarrow{A} \cdot \overrightarrow{B}$ 表示 $\overrightarrow{A}, \overrightarrow{B}$ 的内积，即 $X_A \cdot X_B + Y_A \cdot Y_B$。
## 输入格式

输入的第一行包含一个正整数 $L$，表示题目描述中的限制条件。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
2
```
### 样例输出 #1
```
1
```
### 样例输入 #2
```
3
```
### 样例输出 #2
```
5
```
## 提示

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$L \leq 50$；
- 对于 $80\%$ 的评测用例，$L \leq 5000$；
- 对于所有评测用例，$1 \leq L \leq 2^{20}$。


---

---
title: "[蓝桥杯 2025 省 Python B] 异或和"
layout: "post"
diff: 普及/提高-
pid: P12177
tag: ['数学', '2025', '位运算', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Python B] 异或和
## 题目描述

小蓝有 $n$ 个数 $a_i$，他想知道这 $n$ 个数中的所有数对下标的差值乘上它们的异或之后，得到的结果的和是多少。

也就是说，小蓝想要得到

$$\sum_{i=1}^{n} \sum_{j=i+1}^{n} (a_i \oplus a_j) \times (j - i)$$

的值，其中 $\oplus$ 表示按位异或。
## 输入格式

输入的第一行包含一个正整数 $n$。

第二行包含 $n$ 个正整数 $a_1, a_2, \cdots, a_n$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3
1 2 3
```
### 样例输出 #1
```
8
```
### 样例输入 #2
```
4
9 8 7 6
```
### 样例输出 #2
```
118
```
## 提示

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$n \leq 5000$；
- 对于所有评测用例，$1 \leq n \leq 10^5$，$1 \leq a_i \leq 2^{20}$。


---

---
title: "[蓝桥杯 2025 省 Python A/研究生组] 最大数字"
layout: "post"
diff: 普及/提高-
pid: P12186
tag: ['贪心', '高精度', '2025', '排序', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Python A/研究生组] 最大数字
## 题目描述

我们有 $n$ 个连续的整数 $1, 2, 3, \cdots, n$，可以自由排列它们的顺序。

然后，我们把这些数字转换成二进制表示，按照排列顺序拼接形成一个新的二进制数。

我们的目标是让这个二进制数的值最大，并输出这个二进制对应的十进制表示。
## 输入格式

输入一行包含一个正整数 $n$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
30
```
## 提示

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq n \leq 10$；
- 对于 $40\%$ 的评测用例，$1 \leq n \leq 100$；
- 对于 $60\%$ 的评测用例，$1 \leq n \leq 500$；
- 对于 $80\%$ 的评测用例，$1 \leq n \leq 1000$；
- 对于所有评测用例，$1 \leq n \leq 10000$。


---

---
title: "[蓝桥杯 2025 省 Java A/研究生组] 甘蔗"
layout: "post"
diff: 普及/提高-
pid: P12189
tag: ['动态规划 DP', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Java A/研究生组] 甘蔗
## 题目描述

小蓝种了一排甘蔗，甘蔗共 $n$ 根，第 $i$ 根甘蔗的高度为 $a_i$。小蓝想砍一些甘蔗下来品尝，但是他有强迫症，不希望甘蔗的高度显得乱糟糟的。具体来说，他给出了一个大小为 $m$ 的整数集合 $B = \{b_1, b_2, \cdots, b_m\}$，他希望在砍完甘蔗后，任意两根相邻的甘蔗之间的高度差 $|a_i - a_{i+1}|$ 都要在这个集合 $B$ 中。小蓝想知道他最少需要砍多少根甘蔗（对于高度为 $h$ 的甘蔗，他可以将其砍成 $x$ 高度的甘蔗，$x \in \{0, 1, 2, \cdots, h-1\}$）。
## 输入格式

输入的第一行包含两个正整数 $n, m$，用一个空格分隔。

第二行包含 $n$ 个正整数 $a_1, a_2, \cdots, a_n$，相邻整数之间使用一个空格分隔。

第三行包含 $m$ 个正整数 $b_1, b_2, \cdots, b_m$，相邻整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示答案。如果不能满足条件，输出 $-1$。
## 样例

### 样例输入 #1
```
6 3
6 7 3 4 9 12
2 3 5
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
2 1
4 5
6
```
### 样例输出 #2
```
-1
```
## 提示

### 样例说明 1

其中一种方案：将 $a_2$ 砍为 $3$，再将 $a_3$ 砍为 $1$。

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$1 \leq n, m \leq 8$；
- 对于所有评测用例，$1 \leq n, m \leq 500$，$1 \leq a_i \leq 1000$，$0 \leq b_i \leq 1000$。


---

---
title: "[蓝桥杯 2025 省 Java C] 小说"
layout: "post"
diff: 普及/提高-
pid: P12190
tag: ['数学', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 Java C] 小说
## 题目描述

小蓝是一位网络小说家。现在他正在撰写一部新的推理小说，这部小说有 $n$ 个不同的人物。

小说的每一章都有以下三种情节的一种：

1. A 发现 B 不知道真相。  
2. A 发现 B 知道真相。  
3. A 知道了真相。  

为了保证读者的协调和新鲜感，小蓝的小说还要满足以下要求：

1. “B 发现 A 不知道真相”不能在 “A 知道了真相”后。  
2. “B 发现 A 知道真相”不能在 “A 知道了真相”前。  
3. “B 发现 A 不知道真相”不能在 “B 发现 A 知道真相”后。  
4. 相邻的两章情节类型不同，例如如果第一章是 A 发现 B 不知道真相那么第二章就不能是 C 发现 D 不知道真相。  
5. 完全相同的情节不能出现两次。  

现在小蓝希望知道，他最多能写多少章。
## 输入格式

输入的第一行包含一个正整数 $ n $，表示小说人数。

## 输出格式

输出一行包含一个整数表示答案，即小蓝最多能写多少章小说。
## 样例

### 样例输入 #1
```
2
```
### 样例输出 #1
```
6
```
### 样例输入 #2
```
3
```
### 样例输出 #2
```
13
```
## 提示

### 样例说明 1

以下是一种可能的情况：
1. B 发现 A 不知道真相。
2. A 知道了真相。
3. B 发现 A 知道真相。
4. A 发现 B 不知道真相。
5. B 知道了真相。
6. A 发现 B 知道真相。

小蓝一共能写 6 章。

### 评测用例规模与约定

对于 $30\%$ 的评测用例，$n \leq 5 $；  

对于所有评测用例，$ 1 \leq n \leq 10^9 $。  


---

---
title: "[蓝桥杯 2023 省 Java B] 数组分割"
layout: "post"
diff: 普及/提高-
pid: P12325
tag: ['动态规划 DP', '数学', '2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Java B] 数组分割
## 题目描述

小蓝有一个长度为 $N$ 的数组 $A = [A_0, A_1, ..., A_{N-1}]$。现在小蓝想要从 $A$ 对应的数组下标所构成的集合 $I = {0, 1, 2, ..., N - 1}$ 中找出一个子集 $R_1$，那么 $R_1$ 在 $I$ 中的补集为 $R_2$。记 $S_1 = \displaystyle \sum_{r \in R_1} A_r$，$S_2 = \displaystyle \sum_{r \in R_2} A_r$，我们要求 $S_1$ 和 $S_2$ 均为偶数，请问在这种情况下共有多少种不同的 $R_1$。当 $R_1$ 或 $R_2$ 为空集时我们将 $S_1$ 或 $S_2$ 视为 $0$。
## 输入格式

第一行一个整数 $T$，表示有 $T$ 组数据。

接下来输入 $T$ 组数据，每组数据包含两行：第一行一个整数 $N$，表示数组 $A$ 的长度；第二行输入 $N$ 个整数从左至右依次为 $A_0, A_1, ..., A_{N-1}$，相邻元素之间用空格分隔。
## 输出格式

对于每组数据，输出一行，包含一个整数表示答案，答案可能会很大，你需要将答案对 $1\,000\,000\,007$ 进行取模后输出。
## 样例

### 样例输入 #1
```
2
2
6 6
2
1 6
```
### 样例输出 #1
```
4
0
```
## 提示

### 样例说明

对于第一组数据，答案为 $4$。（注意：大括号内的数字表示元素在数组中的下标。）
- $R_1 = \{0\}, R_2 = \{1\}$；此时 $S_1 = A_0 = 6$ 为偶数，$S_2 = A_1 = 6$ 为偶数。
- $R_1 = \{1\}, R_2 = \{0\}$；此时 $S_1 = A_1 = 6$ 为偶数，$S_2 = A_0 = 6$ 为偶数。
- $R_1 = \{0, 1\}, R_2 = \{\}$；此时 $S_1 = A_0 + A_1 = 12$ 为偶数，$S_2 = 0$ 为偶数。
- $R_1 = \{\}, R_2 = \{0, 1\}$；此时 $S_1 = 0$ 为偶数，$S_2 = A_0 + A_1 = 12$ 为偶数。

对于第二组数据，无论怎么选择，都不满足条件，所以答案为 $0$。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq N \leq 10$。
- 对于 $40\%$ 的评测用例，$1 \leq N \leq 10^2$。
- 对于 $100\%$ 的评测用例，$1 \leq T \leq 10, 1 \leq N \leq 10^3, 0 \leq A_i \leq 10^9$。


---

---
title: "[蓝桥杯 2023 省 Java B] 蜗牛"
layout: "post"
diff: 普及/提高-
pid: P12327
tag: ['动态规划 DP', '2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Java B] 蜗牛
## 题目描述

这天，一只蜗牛来到了二维坐标系的原点。

在 $x$ 轴上长有 $n$ 根竹竿。它们平行于 $y$ 轴，底部纵坐标为 $0$，横坐标分别为 $x_1, x_2, \ldots, x_n$。竹竿的高度均为无限高，宽度可忽略。蜗牛想要从原点走到第 $n$ 个竹竿的底部也就是坐标 $(x_n, 0)$。它只能在 $x$ 轴上或者竹竿上爬行，在 $x$ 轴上爬行速度为 $1$ 单位每秒；由于受到引力影响，蜗牛在竹竿上向上和向下爬行的速度分别为 $0.7$ 单位每秒和 $1.3$ 单位每秒。

为了快速到达目的地，它施展了魔法，在第 $i$ 和 $i+1$ 根竹竿之间建立了传送门（$0 < i < n$），如果蜗牛位于第 $i$ 根竹竿的高度为 $a_i$ 的位置 $(x_i, a_i)$，就可以瞬间到达第 $i+1$ 根竹竿的高度为 $b_{i+1}$ 的位置 $(x_{i+1}, b_{i+1})$，请计算蜗牛最少需要多少秒才能到达目的地。
## 输入格式

输入共 $1 + n$ 行，第一行为一个正整数 $n$；

第二行为 $n$ 个正整数 $x_1, x_2, \ldots, x_n$；

后面 $n - 1$ 行，每行两个正整数 $a_i, b_{i+1}$。
## 输出格式

输出共一行，一个浮点数表示答案（四舍五入保留两位小数）。
## 样例

### 样例输入 #1
```
3
1 10 11
1 1
2 1
```
### 样例输出 #1
```
4.20
```
## 提示

### 样例说明

蜗牛路线：$(0,0) \rightarrow (1,0) \rightarrow (1,1) \rightarrow (10,1) \rightarrow (10,0) \rightarrow (11,0)$，花费时间为 $1 + \frac{1}{0.7} + 0 + \frac{1}{1.3} + 1 \approx 4.20$

### 评测用例规模与约定

对于 $20\%$ 的数据，保证 $n \leq 15$；

对于 $100\%$ 的数据，保证 $1\leq n \leq 10^5$，$1\leq a_i, b_i \leq 10^4$，$1\leq x_i \leq 10^9$。


---

---
title: "[蓝桥杯 2025 省 AB/Python B 第二场] 树上寻宝"
layout: "post"
diff: 普及/提高-
pid: P12343
tag: ['图论', '2025', '树的遍历', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 AB/Python B 第二场] 树上寻宝
## 题目描述

小蓝正在一棵含有 $n$ 个结点的树的根结点 $1$ 上，他准备在这棵树上寻宝。结点 $i$ 上有一个物品，价值为 $w_i$。然而，小蓝每次寻宝只能从根节点出发走不超过 $k$ 步，每步只能选择走 $1$ 条边或者 $2$ 条边，之后会自动拾取最终停留的结点上的物品并被传送回根结点。请求出小蓝最终能获得的物品的总价值。
## 输入格式

输入的第一行包含两个正整数 $n, k$，用一个空格分隔。

第二行包含 $n$ 个正整数 $w_1, w_2, \cdots, w_n$，相邻整数之间使用一个空格分隔。

接下来 $n-1$ 行，每行包含两个正整数 $u_i, v_i$，用一个空格分隔，表示结点 $u_i$ 和结点 $v_i$ 之间有一条边。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
8 2
6 3 3 1 5 4 3 4
1 2
2 3
2 4
4 5
5 6
6 7
7 8
```
### 样例输出 #1
```
22
```
## 提示

### 样例说明

- 走 $0$ 步能到的结点：$1$；
- 走 $1$ 步能到的结点：$2, 3, 4$；
- 走 $2$ 步能到的结点：$3, 4, 5, 6$；

因此能到的结点为：$1, 2, 3, 4, 5, 6$，能获得的总价值为 $22$。

### 评测用例规模与约定

- 对于 $20\%$ 的评测用例，$1 \leq n \leq 15$；
- 对于所有评测用例，$0 \leq k < n \leq 10^5$，$1 \leq w_i \leq 10^6$，$1 \leq u_i, v_i \leq n$。


---

---
title: "[蓝桥杯 2025 省 A 第二场] 基因配对"
layout: "post"
diff: 普及/提高-
pid: P12346
tag: ['动态规划 DP', '2025', '蓝桥杯省赛']
---
# [蓝桥杯 2025 省 A 第二场] 基因配对
## 题目描述

小蓝发现了一种奇特的生物，它的遗传信息可以表示为一个长度为 $n$ 的 $01$ 串 $s = s_0s_1 \cdots s_{n-1}$，其中的任意一段子串 $s_{l, r} = s_l s_{l+1} \cdots s_r$ 则可以构成一个基因。

我们称遗传信息的某两个位置相反，是指这两个位置上的字符不相同（即其中一个为 0，另一个为 1）。

小蓝想知道，有多少对不相交的相同长度的基因正好相反，即有多少对 $[(a, b), (c, d)]$ 满足 $0 \leq a \leq b < c \leq d < n$ 且子串 $s_{a, b}$ 和子串 $s_{c, d}$ 的每个位置恰好相反。
## 输入格式

输入一行包含一个长度为 $n$ 的 $01$ 串 $s$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
10011
```
### 样例输出 #1
```
8
```
## 提示

### 样例说明

有以下 $8$ 对子串满足条件：$[(0,0),(1,1)]$、$[(0,0),(2,2)]$、$[(1,1),(3,3)]$、$[(1,1),(4,4)]$、$[(2,2),(3,3)]$、$[(2,2),(4,4)]$、$[(0,1),(2,3)]$、$[(1,2),(3,4)]$。

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$1 \leq n \leq 20$；
- 对于所有评测用例，$1 \leq n \leq 1000$。


---

---
title: "[蓝桥杯 2022 省 Python B] 蜂巢"
layout: "post"
diff: 普及/提高-
pid: P12367
tag: ['数学', '2022', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 Python B] 蜂巢
## 题目描述

蜂巢由大量的六边形拼接而成，定义蜂巢中的方向为：$0$ 表示正西方向，$1$ 表示西偏北 $60^\circ$，$2$ 表示东偏北 $60^\circ$，$3$ 表示正东，$4$ 表示东偏南 $60^\circ$，$5$ 表示西偏南 $60^\circ$。

对于给定的一点 $O$，我们以 $O$ 为原点定义坐标系，如果一个点 $A$ 由 $O$ 点先向 $d$ 方向走 $p$ 步再向 $(d+2) \bmod 6$ 方向（$d$ 的顺时针 $120^\circ$ 方向）走 $q$ 步到达，则这个点的坐标定义为 $(d, p, q)$。在蜂窝中，一个点的坐标可能有多种。

下图给出了点 $B(0, 5, 3)$ 和点 $C(2, 3, 2)$ 的示意。

![](https://cdn.luogu.com.cn/upload/image_hosting/n36fvy4l.png)

给定点 $(d_1, p_1, q_1)$ 和点 $(d_2, p_2, q_2)$, 请问他们之间最少走多少步可以到达?
## 输入格式

输入一行包含 $6$ 个整数 $d_1, p_1, q_1, d_2, p_2, q_2$ 表示两个点的坐标, 相邻两个整数之间使用一个空格分隔。
## 输出格式

输出一行包含一个整数表示两点之间最少走多少步可以到达。
## 样例

### 样例输入 #1
```
0 5 3 2 3 2
```
### 样例输出 #1
```
7
```
## 提示

### 评测用例规模与约定

- 对于 $25\%$ 的评测用例, $p_1, p_2 \leq 10^3$;
- 对于 $50\%$ 的评测用例, $p_1, p_2 \leq 10^5$;
- 对于 $75\%$ 的评测用例, $p_1, p_2 \leq 10^7$;
- 对于所有评测用例, $0 \leq d_1, d_2 \leq 5$, $0 \leq q_1 < p_1 \leq 10^9$, $0 \leq q_2 < p_2 \leq 10^9$。


---

---
title: "[蓝桥杯 2022 省 Python B] 消除游戏"
layout: "post"
diff: 普及/提高-
pid: P12368
tag: ['模拟', '2022', '链表', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 Python B] 消除游戏
## 题目描述

在一个字符串 $S$ 中，如果 $S_i = S_{i-1}$ 且 $S_i \neq S_{i+1}$，则称 $S_i$ 和 $S_{i+1}$ 为边缘字符。如果 $S_i \neq S_{i-1}$ 且 $S_i = S_{i+1}$，则 $S_{i-1}$ 和 $S_i$ 也称为边缘字符。其它的字符都不是边缘字符。

对于一个给定的串 $S$，一次操作可以一次性删除该串中的所有边缘字符（操作后可能产生新的边缘字符）。

请问经过 $2^{64}$ 次操作后，字符串 $S$ 变成了怎样的字符串，如果结果为空则输出 EMPTY。
## 输入格式

输入一行包含一个字符串 $S$ 。

## 输出格式

输出一行包含一个字符串表示答案，如果结果为空则输出 EMPTY。
## 样例

### 样例输入 #1
```
edda
```
### 样例输出 #1
```
EMPTY
```
### 样例输入 #2
```
sdfhhhhcvhhxcxnnnnshh
```
### 样例输出 #2
```
s
```
## 提示

### 评测用例规模与约定

- 对于 $25\%$ 的评测用例, $|S| \leq 10^3$，其中 $|S|$ 表示 $S$ 的长度；
- 对于 $50\%$ 的评测用例, $|S| \leq 10^4$；
- 对于 $75\%$ 的评测用例, $|S| \leq 10^5$；
- 对于所有评测用例, $|S| \leq 10^6$，$S$ 中仅含小写字母。


---

---
title: "[蓝桥杯 2022 省 Python B] 全排列的价值"
layout: "post"
diff: 普及/提高-
pid: P12369
tag: ['数学', '2022', '组合数学', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 Python B] 全排列的价值
## 题目描述

对于一个排列 $A=(a_1,a_2,\cdots,a_n)$，定义价值 $c_i$ 为 $a_1$ 至 $a_{i-1}$ 中小于 $a_i$ 的数的个数，即 $c_i=|\{a_j|j<i,a_j<a_i\}|$。定义 $A$ 的价值为 $\displaystyle \sum_{i=1}^{n}c_i$。

给定 $n$，求 $1$ 至 $n$ 的全排列中所有排列的价值之和。
## 输入格式

输入一行包含一个整数 $n$。
## 输出格式

输出一行包含一个整数表示答案，由于所有排列的价值之和可能很大，请输出这个数除以 $998244353$ 的余数。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
9
```
### 样例输入 #2
```
2022
```
### 样例输出 #2
```
593300958
```
## 提示

### 样例说明

$1$ 至 $3$ 构成的所有排列的价值如下:

$$\begin{aligned}& (1,2,3): 0+1+2=3 \\& (1,3,2): 0+1+1=2 \\& (2,1,3): 0+0+2=2 \\& (2,3,1): 0+1+0=1 \\& (3,1,2): 0+0+1=1 \\& (3,2,1): 0+0+0=0\end{aligned}$$

故总和为 $3+2+2+1+1=9$。

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例，$n \leq 20$；
- 对于 $70\%$ 的评测用例，$n \leq 5000$；
- 对于所有评测用例，$2 \leq n \leq 10^6$。


---

---
title: "[蓝桥杯 2022 省 Python B] 技能升级"
layout: "post"
diff: 普及/提高-
pid: P12370
tag: ['数学', '二分', '2022', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 Python B] 技能升级
## 题目描述

小蓝最近正在玩一款 RPG 游戏。他的角色一共有 $N$ 个可以加攻击力的技能。其中第 $i$ 个技能首次升级可以提升 $A_i$ 点攻击力，以后每次升级增加的点数都会减少 $B_i$。$\lceil\frac{A_i}{B_i}\rceil$（上取整）次之后，再升级该技能将不会改变攻击力。

现在小蓝可以总计升级 $M$ 次技能，他可以任意选择升级的技能和次数。请你计算小蓝最多可以提高多少点攻击力？
## 输入格式

输入第一行包含两个整数 $N$ 和 $M$。

以下 $N$ 行每行包含两个整数 $A_i$ 和 $B_i$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3 6
10 5
9 2
8 1
```
### 样例输出 #1
```
47
```
## 提示

### 评测用例规模与约定

- 对于 $40\%$ 的评测用例, $1 \leq N, M \leq 1000$;
- 对于 $60\%$ 的评测用例, $1 \leq N \leq 10^4$, $1 \leq M \leq 10^7$;
- 对于所有评测用例, $1 \leq N \leq 10^5$, $1 \leq M \leq 2 \times 10^9$, $1 \leq A_i, B_i \leq 10^6$。


---

---
title: "[蓝桥杯 2023 省 Python B] 管道"
layout: "post"
diff: 普及/提高-
pid: P12380
tag: ['二分', '2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Python B] 管道
## 题目描述

有一根长度为 $len$ 的横向的管道，该管道按照单位长度分为 $len$ 段，每一段的中央有一个可开关的阀门和一个检测水流的传感器。

一开始管道是空的，位于 $L_i$ 的阀门会在 $S_i$ 时刻打开，并不断让水流入管道。

对于位于 $L_i$ 的阀门，它流入的水在 $T_i (T_i \geq S_i)$ 时刻会使得从第 $L_i - (T_i - S_i)$ 段到第 $L_i + (T_i - S_i)$ 段的传感器检测到水流。

求管道中每一段中间的传感器都检测到有水流的最早时间。
## 输入格式

输入的第一行包含两个整数 $n, len$，用一个空格分隔，分别表示会打开的阀门数和管道长度。

接下来 $n$ 行每行包含两个整数 $L_i, S_i$，用一个空格分隔，表示位于第 $L_i$ 段管道中央的阀门会在 $S_i$ 时刻打开。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
3 10
1 1
6 5
10 2
```
### 样例输出 #1
```
5
```
## 提示

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$n \leq 200$，$S_i, len \leq 3000$；
- 对于 $70\%$ 的评测用例，$n \leq 5000$，$S_i, len \leq 10^5$；
- 对于所有评测用例，$1 \leq n \leq 10^5$，$1 \leq S_i, len \leq 10^9$，$1 \leq L_i \leq len$，$L_{i-1} < L_i$。


---

---
title: "[蓝桥杯 2023 省 Python B] 保险箱"
layout: "post"
diff: 普及/提高-
pid: P12381
tag: ['动态规划 DP', '2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 Python B] 保险箱
## 题目描述

小蓝有一个保险箱，保险箱上共有 $n$ 位数字。

小蓝可以任意调整保险箱上的每个数字，每一次操作可以将其中一位增加 $1$ 或减少 $1$。

当某位原本为 $9$ 或 $0$ 时可能会向前（左边）进位/退位，当最高位（左边第一位）上的数字变化时向前的进位或退位忽略。

例如：

- $00000$ 的第 $5$ 位减 $1$ 变为 $99999$；
- $99999$ 的第 $5$ 位减 $1$ 变为 $99998$；
- $00000$ 的第 $4$ 位减 $1$ 变为 $99990$；
- $97993$ 的第 $4$ 位加 $1$ 变为 $98003$；
- $99909$ 的第 $3$ 位加 $1$ 变为 $00009$。

保险箱上一开始有一个数字 $x$，小蓝希望把它变成 $y$，这样才能打开它，问小蓝最少需要操作的次数。
## 输入格式

输入的第一行包含一个整数 $n$。

第二行包含一个 $n$ 位整数 $x$。

第三行包含一个 $n$ 位整数 $y$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
5
12349
54321
```
### 样例输出 #1
```
11
```
## 提示

### 评测用例规模与约定

- 对于 $30\%$ 的评测用例，$1 \leq n \leq 300$；
- 对于 $60\%$ 的评测用例，$1 \leq n \leq 3000$；
- 对于所有评测用例，$1 \leq n \leq 10^5$，$x, y$ 中仅包含数字 $0$ 至 $9$，可能有前导零。


---

---
title: "[蓝桥杯 2013 省 B] 带分数"
layout: "post"
diff: 普及/提高-
pid: P8599
tag: ['2013', '枚举', '蓝桥杯省赛']
---
# [蓝桥杯 2013 省 B] 带分数
## 题目描述

$100$ 可以表示为带分数的形式：$100 = 3 + \frac{69258}{714}$。

还可以表示为：$100 = 82 + \frac{3546}{197}$。

注意特征：带分数中，数字 $1$ ~ $9$ 分别出现且只出现一次（不包含 $0$）。

类似这样的带分数，$100$ 有 $11$ 种表示法。





## 输入格式

从标准输入读入一个正整数 $N(N<10^6)$。
## 输出格式

程序输出数字 $N$ 用数码 $1$ ~ $9$ 不重复不遗漏地组成带分数表示的全部种数。

注意：不要求输出每个表示，只统计有多少表示法！
## 样例

### 样例输入 #1
```
100
```
### 样例输出 #1
```
11
```
### 样例输入 #2
```
105
```
### 样例输出 #2
```
6
```
## 提示

原题时限 3 秒, 64M。蓝桥杯 2013 年第四届省赛


---

---
title: "[蓝桥杯 2013 省 A] 大臣的旅费"
layout: "post"
diff: 普及/提高-
pid: P8602
tag: ['2013', '蓝桥杯省赛']
---
# [蓝桥杯 2013 省 A] 大臣的旅费
## 题目描述

很久以前，T 王国空前繁荣。为了更好地管理国家，王国修建了大量的快速路，用于连接首都和王国内的各大城市。

为节省经费，T 国的大臣们经过思考，制定了一套优秀的修建方案，使得任何一个大城市都能从首都直接或者通过其他大城市间接到达。同时，如果不重复经过大城市，从首都到达每个大城市的方案都是唯一的。

J 是 T 国重要大臣，他巡查于各大城市之间，体察民情。所以，从一个城市马不停蹄地到另一个城市成了 J 最常做的事情。他有一个钱袋，用于存放往来城市间的路费。

聪明的 J 发现，如果不在某个城市停下来修整，在连续行进过程中，他所花的路费与他已走过的距离有关，在走第 $x - 1$ 千米到第 $x$ 千米这一千米中（$x$ 是整数），他花费的路费是 $x+10$ 这么多。也就是说走 $1$ 千米花费 $11$，走 $2$ 千米要花费 $23$。

J 大臣想知道：他从某一个城市出发，中间不休息，到达另一个城市，所有可能花费的路费中最多是多少呢？

## 输入格式

输入的第一行包含一个整数 $n(n \le 10^5)$，表示包括首都在内的 $T$ 王国的城市数。

城市从 $1$ 开始依次编号，$1$ 号城市为首都。

接下来 $n-1$ 行，描述 $T$ 国的高速路（$T$ 国的高速路一定是 $n-1$ 条）。

每行三个整数 $P_i,Q,D_i$，表示城市 $P_i$ 和城市 $Q_i$ 之间有一条高速路，长度为 $D_i(D_i \le 1000)$ 千米。
## 输出格式

输出一个整数，表示大臣J最多花费的路费是多少。


## 样例

### 样例输入 #1
```
5
1 2 2
1 3 1
2 4 5
2 5 4
```
### 样例输出 #1
```
135
```
## 提示

样例解释：大臣 J 从城市 $4$ 到城市 $5$ 要花费 $135$ 的路费。

时限 5 秒, 64M。蓝桥杯 2013 年第四届省赛


---

---
title: "[蓝桥杯 2014 省 AB] 蚂蚁感冒"
layout: "post"
diff: 普及/提高-
pid: P8611
tag: ['2014', '蓝桥杯省赛']
---
# [蓝桥杯 2014 省 AB] 蚂蚁感冒
## 题目描述

长 $100$ 厘米的细长直杆子上有 $n$ 只蚂蚁。它们的头有的朝左，有的朝右。

每只蚂蚁都只能沿着杆子向前爬，速度是 $1$ 厘米 / 秒。

当两只蚂蚁碰面时，它们会同时掉头往相反的方向爬行。

这些蚂蚁中，有 $1$ 只蚂蚁感冒了。并且在和其它蚂蚁碰面时，会把感冒传染给碰到的蚂蚁。

请你计算，当所有蚂蚁都爬离杆子时，有多少只蚂蚁患上了感冒。
## 输入格式

第一行输入一个整数 $n(1<n<50)$ 表示蚂蚁的总数。

接着的一行是 $n$ 个用空格分开的整数 $X_i(-100<X_i<100)$，$X_i$ 的绝对值，表示蚂蚁离开杆子左边端点的距离。正值表示头朝右，负值表示头朝左，数据中不会出现 $0$ 值，也不会出现两只蚂蚁占用同一位置。其中，第一个数据代表的蚂蚁感冒了。


## 输出格式

要求输出 $1$ 个整数，表示最后感冒蚂蚁的数目。
## 样例

### 样例输入 #1
```
3
5 -2 8
```
### 样例输出 #1
```
1
```
### 样例输入 #2
```
5
-10 8 -20 12 25
```
### 样例输出 #2
```
3
```


---

---
title: "[蓝桥杯 2014 省 AB] 地宫取宝"
layout: "post"
diff: 普及/提高-
pid: P8612
tag: ['2014', '蓝桥杯省赛']
---
# [蓝桥杯 2014 省 AB] 地宫取宝
## 题目描述

X 国王有一个地宫宝库。是 $n \times m$ 个格子的矩阵。每个格子放一件宝贝。每个宝贝贴着价值标签。

地宫的入口在左上角，出口在右下角。

小明被带到地宫的入口，国王要求他只能向右或向下行走。

走过某个格子时，如果那个格子中的宝贝价值比小明手中任意宝贝价值都大，小明就可以拿起它（当然，也可以不拿）。

当小明走到出口时，如果他手中的宝贝恰好是 $k$ 件，则这些宝贝就可以送给小明。

请你帮小明算一算，在给定的局面下，他有多少种不同的行动方案能获得这 $k$ 件宝贝。
## 输入格式

输入一行 $3$ 个整数，用空格分开：$n$，$m$，$k(1 \le n,m \le 50,1 \le k \le 12)$。

接下来有 $n$ 行数据，每行有 $m$ 个整数 $C_i(0 \le C_i \le 12)$ 代表这个格子上的宝物的价值。


## 输出格式

要求输出一个整数，表示正好取 $k$ 个宝贝的行动方案数。该数字可能很大，输出它对 $1000000007(10^9+7)$ 取模的结果。
## 样例

### 样例输入 #1
```
2 2 2
1 2
2 1
```
### 样例输出 #1
```
2
```
### 样例输入 #2
```
2 3 2
1 2 3
2 1 5
```
### 样例输出 #2
```
14
```
## 提示

时限 1 秒, 256M。蓝桥杯 2014 年第五届省赛


---

---
title: "[蓝桥杯 2014 省 A] 波动数列"
layout: "post"
diff: 普及/提高-
pid: P8614
tag: ['动态规划 DP', '2014', '蓝桥杯省赛']
---
# [蓝桥杯 2014 省 A] 波动数列
## 题目描述

观察这个数列：

$1,3,0,2,-1,1,-2, \cdots $。

这个数列中后一项总是比前一项增加 $2$ 或者减少 $3$。

栋栋对这种数列很好奇，他想知道长度为 $n$ 和为 $s$ 而且后一项总是比前一项增加 $a$ 或者减少 $b$ 的整数数列可能有多少种呢？
## 输入格式

输入的第一行包含四个整数 $n,s,a,b$，含义如前面说述。
## 输出格式

输出一行，包含一个整数，表示满足条件的方案数。由于这个数很大，请输出方案数除以 $100000007$ 的余数。
## 样例

### 样例输入 #1
```
4 10 2 3
```
### 样例输出 #1
```
2
```
## 提示

【样例说明】

这两个数列分别是 2 4 1 3 和 7 4 1 -2。

【数据规模与约定】

对于 $10\%$ 的数据，$1 \le n \le 5$，$0 \le s \le 5$，$1 \le a,b \le 5$；

对于 $30\%$ 的数据，$1 \le n \le 30$，$0 \le s \le 30$，$1 \le a,b \le 30$；

对于 $50\%$ 的数据，$1 \le n \le 50$，$0 \le s \le 50$，$1 \le a,b \le 50$；

对于 $70\%$ 的数据，$1 \le n \le 100$，$0 \le s \le 500$，$1 \le a,b \le 50$；

对于 $100\%$ 的数据，$1 \le n \le 1000$，$-10^9 \le s \le 10^9$，$1 \le a,b \le 10^6$。

时限 1 秒, 256M。蓝桥杯 2014 年第五届省赛


---

---
title: "[蓝桥杯 2015 省 B] 生命之树"
layout: "post"
diff: 普及/提高-
pid: P8625
tag: ['2015', '树形 DP', '蓝桥杯省赛']
---
# [蓝桥杯 2015 省 B] 生命之树
## 题目描述

在 X 森林里，上帝创建了生命之树。

他给每棵树的每个节点（叶子也称为一个节点）上，都标了一个整数，代表这个点的和谐值。

上帝要在这棵树内选出一个节点集合 $S$（允许为空集），使得对于 $S$ 中的任意两个点 $a,b$，都存在一个点列 ${a,v_1,v_2, \cdots ,v_k,b}$ 使得这个点列中的每个点都是 $S$ 里面的元素，且序列中相邻两个点间有一条边相连。

在这个前提下，上帝要使得 $S$ 中的点所对应的整数的和尽量大。

这个最大的和就是上帝给生命之树的评分。

经过 atm 的努力，他已经知道了上帝给每棵树上每个节点上的整数。但是由于 atm 不擅长计算，他不知道怎样有效的求评分。他需要你为他写一个程序来计算一棵树的分数。
## 输入格式

第一行一个整数 $n$ 表示这棵树有 $n$ 个节点。

第二行 $n$ 个整数，依次表示每个节点的评分。

接下来 $n-1$ 行，每行 $2$ 个整数 $u,v$，表示存在一条 $u$ 到 $v$ 的边。由于这是一棵树，所以是不存在环的。

## 输出格式

输出一行一个数，表示上帝给这棵树的分数。
## 样例

### 样例输入 #1
```
5
1 -2 -3 4 5
4 2
3 1
1 2
2 5
```
### 样例输出 #1
```
8
```
## 提示

对于 $30\%$ 的数据，$n \le 10$。

对于 $100\%$ 的数据，$0<n \le 10^5,$ 每个节点的评分的绝对值不超过 $10^6$。

时限 3 秒, 256M。

蓝桥杯 2015 省赛 B 组 J 题。


---

---
title: "[蓝桥杯 2016 省 AB] 最大比例"
layout: "post"
diff: 普及/提高-
pid: P8636
tag: ['2016', '数论', '蓝桥杯省赛']
---
# [蓝桥杯 2016 省 AB] 最大比例
## 题目描述

X 星球的某个大奖赛设了 $M$ 级奖励。每个级别的奖金是一个正整数。

并且，相邻的两个级别间的比例是个固定值。

也就是说：所有级别的奖金数构成了一个等比数列。比如：

$$16,24,36,54$$

其等比值为：$3/2$。

现在，我们随机调查了一些获奖者的奖金数。

请你据此推算可能的最大的等比值。
## 输入格式

第一行为数字 $N(0<N<100)$，表示接下的一行包含 $N$ 个正整数。

第二行 $N$ 个正整数 $X_i(X_i<10^{12})$，用空格分开。每个整数表示调查到的某人的奖金数额。

## 输出格式

一个形如 $A/B$ 的分数，要求 $A$、$B$ 互质。表示可能的最大比例系数。

测试数据保证了输入格式正确，并且最大比例是存在的。
## 样例

### 样例输入 #1
```
3
1250 200 32
```
### 样例输出 #1
```
25/4
```
### 样例输入 #2
```
4
3125 32 32 200
```
### 样例输出 #2
```
5/2
```
### 样例输入 #3
```
3
549755813888 524288 2
```
### 样例输出 #3
```
4/1
```
## 提示

时限 3 秒, 256M。蓝桥杯 2016 年第七届省赛

蓝桥杯 2016 年省赛 A 组 J 题（B 组 J 题）。


---

---
title: "[蓝桥杯 2016 省 B] 交换瓶子"
layout: "post"
diff: 普及/提高-
pid: P8637
tag: ['贪心', '2016', '蓝桥杯省赛']
---
# [蓝桥杯 2016 省 B] 交换瓶子
## 题目描述

有 $N$ 个瓶子，编号 $1 \sim N$，放在架子上。

比如有 $5$ 个瓶子：

$$2,1,3,5,4$$

要求每次拿起 $2$ 个瓶子，交换它们的位置。

经过若干次后，使得瓶子的序号为：

$$1,2,3,4,5$$

对于这么简单的情况，显然，至少需要交换 $2$ 次就可以复位。

如果瓶子更多呢？你可以通过编程来解决。


## 输入格式

第一行：一个正整数 $N$（$N<10000$），表示瓶子的数目。

第二行：$N$ 个正整数，用空格分开，表示瓶子目前的排列情况。
## 输出格式

输出数据为一行一个正整数，表示至少交换多少次，才能完成排序。
## 样例

### 样例输入 #1
```
5
3 1 2 5 4
```
### 样例输出 #1
```
3
```
### 样例输入 #2
```
5
5 4 3 2 1
```
### 样例输出 #2
```
2
```
## 提示

时限 1 秒, 256M。蓝桥杯 2016 年第七届省赛

蓝桥杯 2016 年省赛 B 组 I 题。


---

---
title: "[蓝桥杯 2016 省 A] 密码脱落"
layout: "post"
diff: 普及/提高-
pid: P8638
tag: ['模拟', '2016', '蓝桥杯省赛']
---
# [蓝桥杯 2016 省 A] 密码脱落
## 题目描述

X 星球的考古学家发现了一批古代留下来的密码。

这些密码是由 A、B、C、D 四种植物的种子串成的序列。

仔细分析发现，这些密码串当初应该是前后对称的（也就是我们说的回文串）。

由于年代久远，其中许多种子脱落了，因而可能会失去镜像的特征。

你的任务是：

给定一个现在看到的密码串，计算一下从当初的状态，它要至少脱落多少个种子，才可能会变成现在的样子。
## 输入格式

输入一行，表示现在看到的密码串。（长度不大于 $1000$）
## 输出格式

要求输出一个正整数，表示至少脱落了多少个种子。
## 样例

### 样例输入 #1
```
ABCBA
```
### 样例输出 #1
```
0
```
### 样例输入 #2
```
ABDCDCBABC
```
### 样例输出 #2
```
3
```
## 提示

蓝桥杯 2016 年省赛 A 组 I 题。


---

---
title: "[蓝桥杯 2017 省 AB] 包子凑数"
layout: "post"
diff: 普及/提高-
pid: P8646
tag: ['2017', '数论', '背包 DP', '蓝桥杯省赛']
---
# [蓝桥杯 2017 省 AB] 包子凑数
## 题目描述

小明几乎每天早晨都会在一家包子铺吃早餐。他发现这家包子铺有 $N$ 种蒸笼，其中第 $i$ 种蒸笼恰好能放 $A_i$ 个包子。每种蒸笼都有非常多笼，可以认为是无限笼。

每当有顾客想买 $X$ 个包子，卖包子的大叔就会迅速选出若干笼包子来，使得这若干笼中恰好一共有 $X$ 个包子。比如一共有 $3$ 种蒸笼，分别能放 $3$ 、 $4$ 和 $5$ 个包子。当顾客想买 $11$ 个包子时，大叔就会选 $2$ 笼 $3$ 个的再加 $1$ 笼 $5$ 个的（也可能选出 $1$ 笼 $3$ 个的再加 $2$ 笼 $4$ 个的）。

当然有时包子大叔无论如何也凑不出顾客想买的数量。比如一共有 $3$ 种蒸笼，分别能放 $4$ 、 $5$ 和 $6$ 个包子。而顾客想买 $7$ 个包子时，大叔就凑不出来了。

小明想知道一共有多少种数目是包子大叔凑不出来的。
## 输入格式


第一行包含一个整数 $N$。$(1 \le N \le 100)$。

以下 $N$ 行每行包含一个整数 $A_i$。$(1 \le A_i \le 100)$。
## 输出格式

一个整数代表答案。如果凑不出的数目有无限多个，输出 `INF`。
## 样例

### 样例输入 #1
```
2  
4  
5  
```
### 样例输出 #1
```
6
```
### 样例输入 #2
```
2  
4  
6   
```
### 样例输出 #2
```
INF
```
## 提示

对于样例 $1$，凑不出的数目包括：$1,2,3,6,7,11$。

对于样例 $2$，所有奇数都凑不出来，所以有无限多个。

蓝桥杯 2017 省赛 A 组 H 题。


---

---
title: "[蓝桥杯 2017 省 A] 油漆面积"
layout: "post"
diff: 普及/提高-
pid: P8648
tag: ['2017', '线段树', '扫描线', '差分', '蓝桥杯省赛']
---
# [蓝桥杯 2017 省 A] 油漆面积
## 题目描述

X 星球的一批考古机器人正在一片废墟上考古。

该区域的地面坚硬如石、平整如镜。

管理人员为方便，建立了标准的直角坐标系。

每个机器人都各有特长、身怀绝技。它们感兴趣的内容也不相同。

经过各种测量，每个机器人都会报告一个或多个矩形区域，作为优先考古的区域。

矩形的表示格式为 $(x_1,y_1,x_2,y_2)$，代表矩形的两个对角点坐标。

为了醒目，总部要求对所有机器人选中的矩形区域涂黄色油漆。

小明并不需要当油漆工，只是他需要计算一下，一共要耗费多少油漆。

其实这也不难，只要算出所有矩形覆盖的区域一共有多大面积就可以了。

注意，各个矩形间可能重叠。

本题的输入为若干矩形，要求输出其覆盖的总面积。

## 输入格式


第一行，一个整数 $n$，表示有多少个矩形 $(1 \le n<10000)$。

接下来的 $n$ 行，每行有 $4$ 个整数 $x_1$，$y_1$，$x_2$，$y_2$，空格分开，表示矩形的两个对角顶点坐标。

$(0 \le x_1,y_1,x_2,y_2 \le 10000)$。

## 输出格式

一行一个整数，表示矩形覆盖的总面积。
## 样例

### 样例输入 #1
```
3
1 5 10 10
3 1 20 20
2 7 15 17

```
### 样例输出 #1
```
340
```
### 样例输入 #2
```
3
5 2 10 6
2 7 12 10
8 1 15 15
```
### 样例输出 #2
```
128
```
## 提示

蓝桥杯 2022 省赛 A 组 J 题。


---

---
title: "[蓝桥杯 2018 省 B] 日志统计"
layout: "post"
diff: 普及/提高-
pid: P8661
tag: ['2018', '单调队列', '蓝桥杯省赛']
---
# [蓝桥杯 2018 省 B] 日志统计
## 题目描述

小明维护着一个程序员论坛。现在他收集了一份“点赞”日志，日志共有 $N$ 行。其中每一行的格式是 `ts id`，表示在 $ts$ 时刻编号 $id$ 的帖子收到一个“赞”。

现在小明想统计有哪些帖子曾经是“热帖”。如果一个帖子曾在任意一个长度为 $D$ 的时间段内收到不少于 $K$ 个赞，小明就认为这个帖子曾是“热帖”。

具体来说，如果存在某个时刻 $T$ 满足该帖在 $[T,T+D)$ 这段时间内（注意是左闭右开区间）收到不少于 $K$ 个赞，该帖就曾是“热帖”。

给定日志，请你帮助小明统计出所有曾是“热帖”的帖子编号。
## 输入格式

第一行包含三个整数 $N$、$D$ 和 $K$。

以下 $N$ 行每行一条日志，包含两个整数 $ts$ 和 $id$。


## 输出格式

按从小到大的顺序输出热帖 $id$。每个 $id$ 一行。
## 样例

### 样例输入 #1
```
7 10 2  
0 1  
0 10    
10 10  
10 1  
9 1
100 3  
100 3  
```
### 样例输出 #1
```
1  
3  
```
## 提示

对于 $50\%$ 的数据，$1 \le K \le N \le 1000$。

对于 $100\%$ 的数据，$1 \le K \le N \le 10^5$，$0 \le id, ts \le 10^5$。

时限 1 秒, 256M。蓝桥杯 2018 年第九届省赛


---

---
title: "[蓝桥杯 2018 省 A] 倍数问题"
layout: "post"
diff: 普及/提高-
pid: P8663
tag: ['2018', '枚举', '蓝桥杯省赛']
---
# [蓝桥杯 2018 省 A] 倍数问题
## 题目描述

众所周知，小葱同学擅长计算，尤其擅长计算一个数是否是另外一个数的倍数。但小葱只擅长两个数的情况，当有很多个数之后就会比较苦恼。现在小葱给了你 $n$ 个数，希望你从这 $n$ 个数中找到三个数，使得这三个数的和是 $K$ 的倍数，且这个和最大。数据保证一定有解。
## 输入格式

从标准输入读入数据。

第一行包括 $2$ 个正整数表示 $n$ 和 $K$。

第二行 $n$ 个正整数，代表给定的 $n$ 个数。
## 输出格式

输出一行一个整数代表所求的和。
## 样例

### 样例输入 #1
```
4 3
1 2 3 4
```
### 样例输出 #1
```
9
```
## 提示

**【样例解释】**

选择 $2$、$3$、$4$。

**【数据约定】**

对于 $30\%$ 的数据，$n \le 100$。

对于 $60\%$ 的数据，$n \le 1000$。

对于另外 $20\%$ 的数据，$K \le 10$。

对于 $100\%$ 的数据，$1 \le n \le 10^5$，$1 \le K \le 10^3$，给定的 $n$ 个数均不超过 $10^8$。

时限 1 秒，256M。蓝桥杯 2018 年第九届省赛。


---

---
title: "[蓝桥杯 2018 省 A] 付账问题"
layout: "post"
diff: 普及/提高-
pid: P8664
tag: ['贪心', '2018', '蓝桥杯省赛']
---
# [蓝桥杯 2018 省 A] 付账问题
## 题目描述

几个人一起出去吃饭是常有的事。但在结帐的时候，常常会出现一些争执。

现在有 $n$ 个人出去吃饭，他们总共消费了 $S$ 元。其中第 $i$ 个人带了 $a_i$ 元。幸运的是，所有人带的钱的总数是足够付账的，但现在问题来了：每个人分别要出多少钱呢？

为了公平起见，我们希望在总付钱量恰好为 $S$ 的前提下，最后每个人付的钱的标准差最小。这里我们约定，每个人支付的钱数可以是任意非负实数，即可以不是 $1$ 分钱的整数倍。你需要输出最小的标准差是多少。

标准差的介绍：标准差是多个数与它们平均数差值的平方平均数，一般用于刻画这些数之间的“偏差有多大”。形式化地说，设第 $i$ 个人付的钱为 $b_i$ 元，那么标准差为 $s=\sqrt{\frac{1}{n}\sum_{i=1}^n(b_i-\frac{1}{n}\sum_{i=1}^n b_i)}$
## 输入格式

第一行包含两个整数 $n$、$S$；

第二行包含 $n$ 个非负整数 $a_1,\cdots,a_n$。
## 输出格式

输出到标准输出。

输出最小的标准差，四舍五入保留 $4$ 位小数。

保证正确答案在加上或减去 $10^{-9}$ 后不会导致四舍五入的结果发生变化。
## 样例

### 样例输入 #1
```
5 2333
666 666 666 666 666
```
### 样例输出 #1
```
0.0000
```
### 样例输入 #2
```
10 30
2 1 4 7 4 8 3 6 4 7
```
### 样例输出 #2
```
0.7928
```
## 提示

**【样例解释】**

1. 每个人都出 2333/5 元，标准差为 0。

**【数据约定】**

对于 $10\%$ 的数据，所有 $a_i$ 相等；

对于 $30\%$ 的数据，所有非 $0$ 的 $a_i$ 相等；

对于 $60\%$ 的数据，$n \le 1000$；

对于 $80\%$ 的数据，$n \le 10^5$；

对于所有数据，$n \le 5 \times 10^5,0 \le a_i \le 10^9$。


---

---
title: "[蓝桥杯 2018 省 B] 递增三元组"
layout: "post"
diff: 普及/提高-
pid: P8667
tag: ['动态规划 DP', '2018', '二分', '枚举', '蓝桥杯省赛']
---
# [蓝桥杯 2018 省 B] 递增三元组
## 题目描述

给定三个整数数组 $A = [A_1, A_2,\cdots, A_N]$，$B = [B_1, B_2,\cdots, B_N]$，$C = [C_1, C_2,\cdots,C_N]$。

请你统计有多少个三元组 $(i, j, k)$ 满足：
1. $1 \le i, j, k \le N$  
2. $A_i < B_j < C_k$
## 输入格式

第一行包含一个整数 $N$。

第二行包含 $N$ 个整数 $ A_1, A_2,\cdots, A_N$。

第三行包含 $N$ 个整数 $ B_1, B_2,\cdots, B_N$。

第四行包含 $N$ 个整数 $ C_1, C_2,\cdots, C_N$。


## 输出格式

一个整数表示答案
## 样例

### 样例输入 #1
```
3
1 1 1
2 2 2
3 3 3
```
### 样例输出 #1
```
27
```
## 提示

对于 $30\%$ 的数据，$1 \le N \le 100$。

对于 $60\%$ 的数据，$1 \le N \le 1000$。

对于 $100\%$ 的数据，$1 \le N \le 10^5$，$0 \le A_i, B_i, C_i \le 10^5$。


---

---
title: "[蓝桥杯 2018 省 B] 乘积最大"
layout: "post"
diff: 普及/提高-
pid: P8669
tag: ['贪心', '2018', '蓝桥杯省赛', '分类讨论']
---
# [蓝桥杯 2018 省 B] 乘积最大
## 题目描述

给定 $N$ 个整数 $A_1, A_2,\cdots, A_N$。请你从中选出 $K$ 个数，使其乘积最大。  

请你求出最大的乘积，由于乘积可能超出整型范围，你只需输出乘积除以 $1000000009$（即 $10^9+9$）的余数。  

注意，如果 $X<0$， 我们定义 $X$ 除以 $1000000009$ 的余数是 $0-((0-x)\bmod 1000000009)$。

## 输入格式

第一行包含两个整数 $N$ 和 $K$。

以下 $N$ 行每行一个整数 $A_i$。  
## 输出格式

一个整数，表示答案。
## 样例

### 样例输入 #1
```
5 3 
-100000   
-10000   
2   
100000  
10000
```
### 样例输出 #1
```
999100009
```
### 样例输入 #2
```
5 3 
-100000   
-100000   
-2   
-100000  
-100000
```
### 样例输出 #2
```
-999999829
```
## 提示

对于 $40\%$ 的数据，$1\le K\le N\le 100$。

对于 $60\%$ 的数据，$1\le K \le 1000$。

对于 $100\%$ 的数据，$1\le K\le N\le 10^5$，$-10^5\le A_i\le 10^5$。


---

---
title: "[蓝桥杯 2019 省 B] 后缀表达式"
layout: "post"
diff: 普及/提高-
pid: P8683
tag: ['贪心', '2019', '蓝桥杯省赛']
---
# [蓝桥杯 2019 省 B] 后缀表达式
## 题目描述

给定 $N$ 个加号、 $M$ 个减号以及 $N+M+1$ 个整数 $A_1,A_2,\cdots,A_{N+M+1}$，小明想知道在所有由这 $N$ 个加号、 $M$ 个减号以及 $N+M+1$ 个整数凑出的合法的后缀表达式中，结果最大的是哪一个。

请你输出这个最大的结果。

例如使用 `1 2 3 + -`，则 `2 3 + 1 -` 这个后缀表达式结果是 $4$，是最大的。
## 输入格式

第一行包含两个整数 $N$ 和 $M$。

第二行包含 $N+M+1$ 个整数 $A_1,A_2,\cdots,A_{N+M+1}$。
## 输出格式

输出一个整数，代表答案。
## 样例

### 样例输入 #1
```
1 1
1 2 3
```
### 样例输出 #1
```
4
```
## 提示

对于所有评测用例，$0 \le N,M \le 10^5$，$-10^9 \le A_i \le 10^9$。

蓝桥杯 2019 年省赛 B 组 I 题。


---

---
title: "[蓝桥杯 2019 省 A] 外卖店优先级"
layout: "post"
diff: 普及/提高-
pid: P8685
tag: ['模拟', '2019', '蓝桥杯省赛']
---
# [蓝桥杯 2019 省 A] 外卖店优先级
## 题目描述

“饱了么”外卖系统中维护着 $N$ 家外卖店，编号 $1$ ∼ $N$。每家外卖店都有一个优先级，初始时 $(0$ 时刻）优先级都为 $0$。

每经过 $1$ 个时间单位，如果外卖店没有订单，则优先级会减少 $1$，最低减到 $0$；而如果外卖店有订单，则优先级不减反加，每有一单优先级加 $2$。

如果某家外卖店某时刻优先级大于 $5$，则会被系统加入优先缓存中；如果优先级小于等于 $3$，则会被清除出优先缓存。

给定 $T$ 时刻以内的 $M$ 条订单信息，请你计算 $T$ 时刻时有多少外卖店在优先缓存中。
## 输入格式

第一行包含 $3$ 个整数 $N$ 、 $M$ 和 $T$。

以下 $M$ 行每行包含两个整数 $ts$ 和 $id$，表示 $ts$ 时刻编号 $id$ 的外卖店收到。

一个订单。
## 输出格式

输出一个整数代表答案。
## 样例

### 样例输入 #1
```
2 6 6
1 1
5 2
3 1
6 2
2 1
6 2
```
### 样例输出 #1
```
1
```
## 提示

**样例解释**

$6$ 时刻时，$1$ 号店优先级降到 $3$，被移除出优先缓存；$2$ 号店优先级升到 $6$，

加入优先缓存。所以是有 $1$ 家店 $(2$ 号）在优先缓存中。

**评测用例规模与约定**

对于 $80\%$ 的评测用例，$1 \le N,M,T \le 10000$。

对于所有评测用例，$1 \le N,M,T \le 10^5$，$1 \le ts \le T$，$1 \le id \le N$。

蓝桥杯 2019 年省赛 A 组 G 题。


---

---
title: "[蓝桥杯 2019 省 A] 修改数组"
layout: "post"
diff: 普及/提高-
pid: P8686
tag: ['2019', '并查集', '蓝桥杯省赛']
---
# [蓝桥杯 2019 省 A] 修改数组
## 题目描述

给定一个长度为 $N$ 的数组 $A=[A_1,A_2, \cdots A_N]$，数组中有可能有重复出现的整数。

现在小明要按以下方法将其修改为没有重复整数的数组。小明会依次修改 $A_2,A_3, \cdots ,A_N$。

当修改 $A_i$ 时，小明会检查 $A_i$ 是否在 $A_1$ ∼ $A_{i-1}$ 中出现过。如果出现过，则小明会给 $A_i$ 加上 $1$；如果新的 $A_i$ 仍在之前出现过，小明会持续给 $A_i$ 加 $1$，直到 $A_i$ 没有在 $A_1$ ∼ $A_{i-1}$ 中出现过。

当 $A_N$ 也经过上述修改之后，显然 $A$ 数组中就没有重复的整数了。

现在给定初始的 $A$ 数组，请你计算出最终的 $A$ 数组。
## 输入格式

第一行包含一个整数 $N$。

第二行包含 $N$ 个整数 $A_1,A_2, \cdots ,A_N$。
## 输出格式

输出 $N$ 个整数，依次是最终的 $A_1,A_2, \cdots ,A_N$。
## 样例

### 样例输入 #1
```
5
2 1 1 3 4
```
### 样例输出 #1
```
2 1 3 4 5
```
## 提示

对于 $80\%$ 的评测用例，$1 \le N \le 10000$。

对于所有评测用例，$1 \le N \le 10^5$，$1 \le A_i \le 10^6$。

蓝桥杯 2019 年省赛 A 组 H 题。


---

---
title: "[蓝桥杯 2019 省 A] 糖果"
layout: "post"
diff: 普及/提高-
pid: P8687
tag: ['2019', '蓝桥杯省赛', '状压 DP']
---
# [蓝桥杯 2019 省 A] 糖果
## 题目描述

糖果店的老板一共有 $M$ 种口味的糖果出售。为了方便描述，我们将 $M$ 种口味编号 $1$ ∼ $M$。

小明希望能品尝到所有口味的糖果。遗憾的是老板并不单独出售糖果，而是 $K$ 颗一包整包出售。

幸好糖果包装上注明了其中 $K$ 颗糖果的口味，所以小明可以在买之前就知道每包内的糖果口味。

给定 $N$ 包糖果，请你计算小明最少买几包，就可以品尝到所有口味的糖果。
## 输入格式

第一行包含三个整数 $N$、$M$ 和 $K$。

接下来 $N$ 行每行 $K$ 这整数 $T_1,T_2, \cdots ,T_K$，代表一包糖果的口味。
## 输出格式

一个整数表示答案。如果小明无法品尝所有口味，输出 $-1$。
## 样例

### 样例输入 #1
```
6 5 3
1 1 2
1 2 3
1 1 3
2 3 5
5 4 2
5 1 2
```
### 样例输出 #1
```
2
```
## 提示

对于 $30\%$ 的评测用例，$1 \le N \le 20$。

对于所有评测样例，$1 \le N \le 100$，$1 \le M \le 20$，$1 \le K \le 20$，$1 \le T_i \le M$。

蓝桥杯 2019 年省赛 A 组 I 题。


---

---
title: "[蓝桥杯 2020 省 A1] 整数小拼接"
layout: "post"
diff: 普及/提高-
pid: P8708
tag: ['2020', '枚举', '双指针 two-pointer', '蓝桥杯省赛']
---
# [蓝桥杯 2020 省 A1] 整数小拼接
## 题目描述

给定一个长度为 $n$ 的数组 $A_1,A_2,\cdots,A_n$。你可以从中选出两个数 $A_i$ 和 $A_j$($i\neq j$)，然后将 $A_i$ 和 $A_j$ 一前一后拼成一个新的整数。例如 `12` 和 `345` 可以拼成 `12345` 或 `34512`。注意交换 $A_i$ 和 $A_j$ 的顺序总是被视为 $2$ 种拼法，即便是 $A_i=A_j$ 时。

请你计算有多少种拼法满足拼出的整数小于等于 $K$。

## 输入格式

第一行包含 $2$ 个整数 $n$ 和 $K$。

第二行包含 $n$ 个整数 $A_1,A_2,\cdots,A_n$。
## 输出格式

一个整数代表答案。
## 样例

### 样例输入 #1
```
4 33
1 2 3 4
```
### 样例输出 #1
```
8
```
## 提示

对于 $30\%$ 的评测用例 $1\le n\le1000$，$1\le k\le10^8$，$1\le A_i\le10^4$。

对于所有评测用例，$1\le n\le10^5$，$1\le k\le10^{10}$，$1\le A_i\le10^9$。

蓝桥杯 2020 第一轮省赛 A 组 H 题。


---

---
title: "[蓝桥杯 2020 省 A1] 超级胶水"
layout: "post"
diff: 普及/提高-
pid: P8709
tag: ['2020', '蓝桥杯省赛', 'Ad-hoc']
---
# [蓝桥杯 2020 省 A1] 超级胶水
## 题目描述

小明有 $n$ 颗石子，按顺序摆成一排，他准备用胶水将这些石子粘在一起。
 
每颗石子有自己的重量，如果将两颗石子粘在一起，将合并成一颗新的石子，重量是这两颗石子的重量之和。

为了保证石子粘贴牢固，粘贴两颗石子所需要的胶水与两颗石子的重量乘积成正比，本题不考虑物理单位，认为所需要的胶水在数值上等于两颗石子重量的乘积。

每次合并，小明只能合并位置相邻的两颗石子，并将合并出的新石子放在原来的位置。

现在，小明想用最少的胶水将所有石子粘在一起，请帮助小明计算最少需要多少胶水。
## 输入格式

输入的第一行包含一个整数 $n$，表示初始时的石子数量。

第二行包含 $n$ 个整数 $w_1, w_2, \cdots, w_n$ 依次表示每颗石子的重量。
## 输出格式

输出一行包含一个整数，表示最少需要的胶水数。
## 样例

### 样例输入 #1
```
3
3 4 5
```
### 样例输出 #1
```
47
```
### 样例输入 #2
```
8
1 5 2 6 3 7 4 8
```
### 样例输出 #2
```
546
```
## 提示

对于 $20\%$ 的评测用例，$1 \le n \le 15$。

对于 $60\%$ 的评测用例，$1\leq n \leq 100$。

对于 $80\%$ 的评测用例，$1\leq n \leq 1000$。

对于所有评测用例，$1\leq n \leq 10^5$，$1 \leq w_i \leq 1000$。

蓝桥杯 2020 第一轮省赛 A 组 I 题。


---

---
title: "[蓝桥杯 2020 省 B1] 整数拼接"
layout: "post"
diff: 普及/提高-
pid: P8712
tag: ['2020', '枚举', '蓝桥杯省赛']
---
# [蓝桥杯 2020 省 B1] 整数拼接
## 题目描述

给定一个长度为 $n$ 的数组 $A_1,A_2,\cdots,A_n$。你可以从中选出两个数 $A_i$ 和 $A_j$（$i\neq j$），然后将 $A_i$ 和 $A_j$ 一前一后拼成一个新的整数。例如 `12` 和 `345` 可以拼成 `12345` 或 `34512`。注意交换 $A_i$ 和 $A_j$ 的顺序总是被视为 $2$ 种拼法，即便是 $A_i=A_j$ 时。

请你计算有多少种拼法满足拼出的整数是 $K$ 的倍数。

## 输入格式

第一行包含 $2$ 个整数 $n$ 和 $K$。

第二行包含 $n$ 个整数 $A_1,A_2,\cdots,A_n$。
## 输出格式

一个整数代表答案。
## 样例

### 样例输入 #1
```
4 2
1 2 3 4
```
### 样例输出 #1
```
6
```
## 提示

对于所有评测用例，$1\le n\le10^5$，$1\le k\le10^5$，$1\le A_i\le10^9$。

蓝桥杯 2020 第一轮省赛 B 组 I 题。


---

---
title: "[蓝桥杯 2020 省 AB2] 子串分值"
layout: "post"
diff: 普及/提高-
pid: P8715
tag: ['2020', '枚举', '蓝桥杯省赛']
---
# [蓝桥杯 2020 省 AB2] 子串分值
## 题目描述

对于一个字符串 $S$, 我们定义 $S$ 的分值 $f(S)$ 为 $S$ 中恰好出现一次的字符个数。例如 $f\left({ }^{\prime \prime} \mathrm{aba}{ }^{\prime \prime}\right)=1$，$f\left({ }^{\prime \prime} \mathrm{abc}{ }^{\prime \prime}\right)=3$，$f\left({ }^{\prime \prime} \mathrm{aaa} \mathrm{a}^{\prime \prime}\right)=0$ 。

现在给定一个字符串 $S[0 . . n-1]$（长度为 $n$），请你计算对于所有 $S$ 的非空 子串 $S[i . . j](0 \leq i \leq j<n)$，$f(S[i . . j])$ 的和是多少。

## 输入格式

输入一行包含一个由小写字母组成的字符串 $S$。
## 输出格式

输出一个整数表示答案。
## 样例

### 样例输入 #1
```
ababc
```
### 样例输出 #1
```
21
```
## 提示

对于 $20 \%$ 的评测用例, $1 \leq n \leq 10$;

对于 $40 \%$ 的评测用例, $1 \leq n \leq 100$;

对于 $50 \%$ 的评测用例, $1 \leq n \leq 1000$;

对于 $60 \%$ 的评测用例, $1 \leq n \leq 10000$;

对于所有评测用例, $1 \leq n \leq 100000$。

蓝桥杯 2020 第二轮省赛 A 组 H 题（B 组 H 题）。


---

---
title: "[蓝桥杯 2020 省 AB2] 回文日期"
layout: "post"
diff: 普及/提高-
pid: P8716
tag: ['2020', '枚举', '蓝桥杯省赛']
---
# [蓝桥杯 2020 省 AB2] 回文日期
## 题目描述

2020 年春节期间，有一个特殊的日期引起了大家的注意：2020 年 2 月 2 日。因为如果将这个日期按 `yyyymmdd` 的格式写成一个 $8$ 位数是 `20200202`，恰好是一个回文数。我们称这样的日期是回文日期。

有人表示 `20200202` 是“千年一遇” 的特殊日子。对此小明很不认同，因为不到 2 年之后就是下一个回文日期：`20211202` 即 2021 年 12 月 2 日。

也有人表示 `20200202` 并不仅仅是一个回文日期，还是一个 `ABABBABA` 型的回文日期。对此小明也不认同，因为大约 $100$ 年后就能遇到下一个 `ABABBABA` 型的回文日期：`21211212` 即 2121 年12 月12 日。算不上“千年一遇”，顶多算“千年两遇”。

给定一个 8 位数的日期，请你计算该日期之后下一个回文日期和下一个 `ABABBABA` 型的回文日期各是哪一天。

## 输入格式

输入包含一个八位整数 $N$，表示日期。
## 输出格式

输出两行，每行 $1$ 个八位数。第一行表示下一个回文日期，第二行表示下
一个 `ABABBABA` 型的回文日期。

## 样例

### 样例输入 #1
```
20200202
```
### 样例输出 #1
```
20211202
21211212

```
## 提示

对于所有评测用例，$10000101 \le N \le 92200229$，保证 $N$ 是一个合法日期的 $8$ 位数表示。

蓝桥杯 2020 第二轮省赛 A 组 G 题（B 组 G 题）。


---

---
title: "[蓝桥杯 2020 省 AB3] 画中漂流"
layout: "post"
diff: 普及/提高-
pid: P8725
tag: ['动态规划 DP', '2020', '容斥原理', '蓝桥杯省赛']
---
# [蓝桥杯 2020 省 AB3] 画中漂流
## 题目描述

在梦境中，你踏上了一只木䇝，在江上漂流。

根据对当地的了解，你知道在你下游 $D$ 米处有一个峡谷，如果你向下游前进大于等于 $D$ 米则必死无疑。

现在你打响了急救电话，$T$ 秒后救援队会到达并将你救上岸。水流速度是 $1 \mathrm{~m} / \mathrm{s}$，你现在有 $M$ 点体力。每消耗一点体力，你可以划一秒桨使船向上游前 进 $1 \mathrm{~m}$，否则会向下游前进 $1 \mathrm{~m}$ (水流)。$M$ 点体力需在救援队赶来前花光。因为江面太宽了，凭借你自己的力量不可能上岸。

请问，有多少种划桨的方案可以让你得救。

两个划桨方案不同是指：存在某一秒钟，一个方案划桨，另一个方案不划。
## 输入格式

输入一行包含三个整数 $D$，$T$，$M$。
## 输出格式

输出一个整数，表示可以让你得救的总方案数，答案可能很大，请输出方案数除以 $1000000007$（即 $10^9+7$）的余数。
## 样例

### 样例输入 #1
```
1 6 3
```
### 样例输出 #1
```
5
```
## 提示

对于 $50 \%$ 的评测用例，$1 \leq T \leq 350$。

对于所有评测用例，$1 \leq T \leq 3000,1 \leq D \leq T，1 \leq M \leq 1500$。

蓝桥杯 2020 第三轮省赛 AB 组 I 题。


---

---
title: "[蓝桥杯 2021 省 A] 左孩子右兄弟"
layout: "post"
diff: 普及/提高-
pid: P8744
tag: ['2021', '树形 DP', '蓝桥杯省赛']
---
# [蓝桥杯 2021 省 A] 左孩子右兄弟
## 题目描述

对于一棵多叉树，我们可以通过“左孩子右兄弟”表示法，将其转化成一棵二叉树。

如果我们认为每个结点的子结点是无序的，那么得到的二叉树可能不唯一。换句话说，每个结点可以选任意子结点作为左孩子，并按任意顺序连接右兄弟。

给定一棵包含 $N$ 个结点的多叉树，结点从 $1$ 至 $N$ 编号，其中 $1$ 号结点是根，每个结点的父结点的编号比自己的编号小。请你计算其通过"左孩子右兄弟"表示法转化成的二叉树，高度最高是多少。（只有根结点这一个结点的树高度为 $0$）

例如如下的多叉树：

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_29_d8f144a59f4c0ce9322ag-11.jpg)

可能有以下 $3$ 种 (这里只列出 $3$ 种, 并不是全部) 不同的 “左孩子右兄弟” 表示: 

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_29_d8f144a59f4c0ce9322ag-12.jpg)

其中最后一种高度最高, 为 $4$。
## 输入格式

输入的第一行包含一个整数 $N$ 。

以下 $N-1$ 行, 每行包含一个整数, 依次表示 $2$ 至 $N$ 号结点的父结点编号。
## 输出格式

输出一个整数表示答案。
## 样例

### 样例输入 #1
```
5
1
1
1
2
```
### 样例输出 #1
```
4
```
## 提示

对于 $30 \%$ 的评测用例，$1 \leq N \leq 20$;

对于所有评测用例，$1 \leq N \leq 10^5$ 。 

蓝桥杯 2021 第一轮省赛 A 组 H 题。


---

---
title: "[蓝桥杯 2021 省 B] 杨辉三角形"
layout: "post"
diff: 普及/提高-
pid: P8749
tag: ['二分', '2021', '枚举', '蓝桥杯省赛']
---
# [蓝桥杯 2021 省 B] 杨辉三角形
## 题目描述

下面的图形是著名的杨辉三角形:

![](https://cdn.mathpix.com/cropped/2022_09_29_08f7179868ee6cb62df7g-11.jpg?height=350&width=704&top_left_y=944&top_left_x=676)

如果我们按从上到下、从左到右的顺序把所有数排成一列，可以得到如下数列：

$1,1,1,1,2,1,1,3,3,1,1,4,6,4,1, \ldots$

给定一个正整数 $N$，请你输出数列中第一次出现 $N$ 是在第几个数。
## 输入格式

输入一个整数 $N$ 。
## 输出格式

输出一个整数代表答案。
## 样例

### 样例输入 #1
```
6
```
### 样例输出 #1
```
13
```
## 提示

对于 $20 \%$ 的评测用例, $1 \leq N \leq 10$;

对于所有评测用例, $1 \leq N \leq 10^9$ 。 

蓝桥杯 2021 第一轮省赛 B 组 H 题。


---

---
title: "[蓝桥杯 2021 省 AB2] 负载均衡"
layout: "post"
diff: 普及/提高-
pid: P8755
tag: ['模拟', '堆', '2021', '蓝桥杯省赛']
---
# [蓝桥杯 2021 省 AB2] 负载均衡
## 题目描述

有 $n$ 台计算机，第 $i$ 台计算机的运算能力为 $v_{i}$ 。

有一系列的任务被指派到各个计算机上，第 $i$ 个任务在 $a_{i}$ 时刻分配，指定计算机编号为 $b_{i}$, 耗时为 $c_{i}$ 且算力消耗为 $d_{i}$。如果此任务成功分配，将立刻开始运行, 期间持续占用 $b_{i}$ 号计算机 $d_{i}$ 的算力, 持续 $c_{i}$ 秒。

对于每次任务分配，如果计算机剩余的运算能力不足则输出 $-1$，并取消这次分配，否则输出分配完这个任务后这台计算机的剩余运算能力。
## 输入格式

输入的第一行包含两个整数 $n, m$，分别表示计算机数目和要分配的任务数。

第二行包含 $n$ 个整数 $v_{1}, v_{2}, \cdots v_{n}$，分别表示每个计算机的运算能力。

接下来 $m$ 行每行 $4$ 个整数 $a_{i}, b_{i}, c_{i}, d_{i}$，意义如上所述。数据保证 $a_{i}$ 严格递增，即 $a_{i}<a_{i+1}$ 。

## 输出格式

输出 $m$ 行，每行包含一个数，对应每次任务分配的结果。
## 样例

### 样例输入 #1
```
2 6
5 5
1 1 5 3
2 2 2 6
3 1 2 3
4 1 6 1
5 1 3 3
6 1 3 4
```
### 样例输出 #1
```
2
-1
-1
1
-1
0
```
## 提示

**【样例说明】**

时刻 $1$，第 $1$ 个任务被分配到第 $1$ 台计算机，耗时为 $5$，这个任务时刻 $6$ 会结束, 占用计算机 $1$ 的算力 $3$。

时刻 $2$，第 $2$ 个任务需要的算力不足，所以分配失败了。

时刻 $3$，第 $1$ 个计算机仍然正在计算第 $1$ 个任务，剩余算力不足 $3$，所以失败。

时刻 $4$，第 $1$ 个计算机仍然正在计算第 $1$ 个任务，但剩余算力足够，分配后剩余算力 $1$。

时刻 $5$，第 $1$ 个计算机仍然正在计算第 $1$，$4$ 个任务，剩余算力不足 $4$，失败。

时刻 $6$，第 $1$ 个计算机仍然正在计算第 $4$ 个任务，剩余算力足够，且恰好用完。

**【评测用例规模与约定】**

对于 $20 \%$ 的评测用例, $n, m \leq 200$。

对于 $40 \%$ 的评测用例, $n, m \leq 2000$。

对于所有评测用例, $1 \leq n, m \leq 2\times 10^5,1 \leq a_{i}, c_{i}, d_{i}, v_{i} \leq 10^{9}, 1 \leq b_{i} \leq n$。 

蓝桥杯 2021 第二轮省赛 A 组 H 题（B 组 I 题）。


---

---
title: "[蓝桥杯 2022 省 B] X 进制减法"
layout: "post"
diff: 普及/提高-
pid: P8782
tag: ['贪心', '2022', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 B] X 进制减法
## 题目描述

进制规定了数字在数位上逢几进一。

$X$ 进制是一种很神奇的进制，因为其每一数位的进制并不固定！例如说某种 $X$ 进制数，最低数位为二进制，第二数位为十进制，第三数位为八进制，则 $X$ 进制数 `321` 转换为十进制数为 `65`。

现在有两个 $X$ 进制表示的整数 $A$ 和 $B$，但是其具体每一数位的进制还不确定，只知道 $A$ 和 $B$ 是同一进制规则，且每一数位最高为 $N$ 进制，最低为二进制。请你算出 $A-B$ 的结果最小可能是多少。

请注意，你需要保证 $A$ 和 $B$ 在 $X$ 进制下都是合法的, 即每一数位上的数字要小于其进制。
## 输入格式

第一行一个正整数 $N$，含义如题面所述。

第二行一个正整数 $M_{a}$，表示 $X$ 进制数 $A$ 的位数。

第三行 $M_{a}$ 个用空格分开的整数，表示 $X$ 进制数 $A$ 按从高位到低位顺序各个数位上的数字在十进制下的表示。

第四行一个正整数 $M_{b}$，表示 $X$ 进制数 $B$ 的位数。

第五行 $M_{b}$ 个用空格分开的整数，表示 $X$ 进制数 $B$ 按从高位到低位顺序各个数位上的数字在十进制下的表示。

请注意，输入中的所有数字都是十进制的。
## 输出格式

输出一行一个整数，表示 $X$ 进制数 $A-B$ 的结果的最小可能值转换为十进制后再模 $1000000007$（即 $10^9+7$）的结果。 
## 样例

### 样例输入 #1
```
11
3
10 4 0
3
1 2 0
```
### 样例输出 #1
```
94
```
## 提示

**【样例说明】**

当进制为：最低位 $2$ 进制, 第二数位 $5$ 进制, 第三数位 $11$ 进制时, 减法得到的差最小。此时 $A$ 在十进制下是 $108$，$B$ 在十进制下是 $14$，差值是 $94$。

**【评测用例规模与约定】**

对于 $30 \%$ 的数据，$N \leq 10,M_{a}, M_{b} \leq 8$.

对于 $100 \%$ 的数据，$2 \leq N \leq 1000,1 \leq M_{a}, M_{b} \leq 10^5,A \geq B$。

蓝桥杯 2022 省赛 B 组 E 题。


---

---
title: "[蓝桥杯 2022 省 B] 统计子矩阵"
layout: "post"
diff: 普及/提高-
pid: P8783
tag: ['2022', '枚举', '双指针 two-pointer', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 B] 统计子矩阵
## 题目描述

给定一个 $N \times M$ 的矩阵 $A$，请你统计有多少个子矩阵 (最小 $1 \times 1$, 最大 $N \times M)$ 满足子矩阵中所有数的和不超过给定的整数 $K$。

## 输入格式

第一行包含三个整数 $N, M$ 和 $K$。

之后 $N$ 行每行包含 $M$ 个整数, 代表矩阵 $A$。
## 输出格式

一个整数代表答案。
## 样例

### 样例输入 #1
```
3 4 10
1 2 3 4
5 6 7 8
9 10 11 12
```
### 样例输出 #1
```
19
```
## 提示

**【样例说明】**

满足条件的子矩阵一共有 $19$，包含:

大小为 $1 \times 1$ 的有 $10$ 个。

大小为 $1 \times 2$ 的有 $3$ 个。 大小为 $1 \times 3$ 的有 $2$ 个。

大小为 $1 \times 4$ 的有 $1$ 个。

大小为 $2 \times 1$ 的有 $3$ 个。

**【评测用例规模与约定】**

对于 $30 \%$ 的数据, $N, M \leq 20$.

对于 $70 \%$ 的数据, $N, M \leq 100$.

对于 $100 \%$ 的数据, $1 \leq N, M \leq 500,0 \leq A_{i j} \leq 1000,1 \leq K \leq 2.5\times10^8$. 

蓝桥杯 2022 省赛 B 组 F 题。


---

---
title: "[蓝桥杯 2022 省 B] 积木画"
layout: "post"
diff: 普及/提高-
pid: P8784
tag: ['动态规划 DP', '2022', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 B] 积木画
## 题目描述

小明最近迷上了积木画，有这么两种类型的积木，分别为 $I$ 型（大小为 $2$ 个单位面积) 和 $L$ 型 (大小为 $3$ 个单位面积):

![I 型积木](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_29_3d61ad9326a0012c9fdag-10.jpg)

同时，小明有一块面积大小为 $2 \times N$ 的画布，画布由 $2 \times N$ 个 $1 \times 1$ 区域构成。小明需要用以上两种积木将画布拼满，他想知道总共有多少种不同的方式? 积木可以任意旋转，且画布的方向固定。
## 输入格式

输入一个整数 $N$，表示画布大小。
## 输出格式

输出一个整数表示答案。由于答案可能很大，所以输出其对 $1000000007$（即 $10^9+7$）取模后的值。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
5
```
## 提示

**【样例说明】**

五种情况如下图所示, 颜色只是为了标识不同的积木:
![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_29_3d61ad9326a0012c9fdag-11.jpg)

**【评测用例规模与约定】**

对于所有测试用例，$1 \leq N \leq 10^7$。

蓝桥杯 2022 省赛 B 组 G 题。


---

---
title: "[蓝桥杯 2022 省 B] 扫雷"
layout: "post"
diff: 普及/提高-
pid: P8785
tag: ['图论', '计算几何', '2022', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 B] 扫雷
## 题目描述

小明最近迷上了一款名为《扫雷》的游戏。其中有一个关卡的任务如下，在一个二维平面上放置着 $n$ 个炸雷，第 $i$ 个炸雷 $\left(x_{i}, y_{i}, r_{i}\right)$ 表示在坐标 $\left(x_{i}, y_{i}\right)$ 处存在一个炸雷，它的爆炸范围是以半径为 $r_{i}$ 的一个圆。

为了顺利通过这片土地，需要玩家进行排雷。玩家可以发射 $m$ 个排雷火箭，小明已经规划好了每个排雷火箭的发射方向，第 $j$ 个排雷火箭 $\left(x_{j}, y_{j}, r_{j}\right)$ 表示这个排雷火箭将会在 $\left(x_{j}, y_{j}\right)$ 处爆炸，它的爆炸范围是以半径为 $r_{j}$ 的一个圆，在其爆炸范围内的炸雷会被引爆。同时，当炸雷被引爆时，在其爆炸范围内的炸雷也会被引爆。现在小明想知道他这次共引爆了几颗炸雷?

你可以把炸雷和排雷火箭都视为平面上的一个点。一个点处可以存在多个炸雷和排雷火箭。当炸雷位于爆炸范围的边界上时也会被引爆。
## 输入格式

输入的第一行包含两个整数 $n$、$m$。

接下来的 $n$ 行, 每行三个整数 $x_{i}, y_{i}, r_{i}$, 表示一个炸雷的信息。

再接下来的 $m$ 行，每行三个整数 $x_{j}, y_{j}, r_{j}$, 表示一个排雷火箭的信息。

## 输出格式

输出一个整数表示答案。
## 样例

### 样例输入 #1
```
2 1
2 2 4
4 4 2
0 0 5
```
### 样例输出 #1
```
2
```
## 提示

**【样例说明】**

示例图如下, 排雷火箭 1 覆盖了炸雷 1 , 所以炸雷 1 被排除; 炸雷 1 又覆 盖了炸雷 2 , 所以炸雷 2 也被排除。

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_29_3d61ad9326a0012c9fdag-13.jpg)

**【评测用例规模与约定】**

对于 $40 \%$ 的评测用例: $0 \leq x, y \leq 10^{9}, 0 \leq n, m \leq 10^{3}, 1 \leq r \leq 10$.

对于 $100 \%$ 的评测用例: $0 \leq x, y \leq 10^{9}, 0 \leq n, m \leq 5 \times 10^{4}, 1 \leq r \leq 10$. 


蓝桥杯 2022 省赛 B 组 H 题。


---

---
title: "[蓝桥杯 2022 省 B] 李白打酒加强版"
layout: "post"
diff: 普及/提高-
pid: P8786
tag: ['动态规划 DP', '2022', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 B] 李白打酒加强版
## 题目描述

话说大诗人李白，一生好饮。幸好他从不开车。

一天，他提着酒壶，从家里出来，酒壶中有酒 $2$ 斗。他边走边唱：

> 无事街上走，提壶去打酒。  
> 逢店加一倍，遇花喝一斗。

这一路上，他一共遇到店 $N$ 次，遇到花 $M$ 次。已知最后一次遇到的是花，他正好把酒喝光了。

请你计算李白这一路遇到店和花的顺序，有多少种不同的可能?

注意：壶里没酒（$0$ 斗）时遇店是合法的，加倍后还是没酒；但是没酒时遇花是不合法的。
## 输入格式

第一行包含两个整数 $N$ 和 $M$。
## 输出格式

输出一个整数表示答案。由于答案可能很大，输出模 $1000000007$（即 $10^9+7$）的结果。
## 样例

### 样例输入 #1
```
5 10
```
### 样例输出 #1
```
14
```
## 提示

**【样例说明】**

如果我们用 `0` 代表遇到花，`1` 代表遇到店，$14$ 种顺序如下: 

```plain
010101101000000
010110010010000
011000110010000
100010110010000
011001000110000
100011000110000
100100010110000
010110100000100
011001001000100
100011001000100
100100011000100
011010000010100
100100100010100
101000001010100
```

**【评测用例规模与约定】**

对于 $40 \%$ 的评测用例：$1 \leq N, M \leq 10$。

对于 $100 \%$ 的评测用例：$1 \leq N, M \leq 100$。 

蓝桥杯 2022 省赛 B 组 I 题。


---

---
title: "[蓝桥杯 2022 省 B] 砍竹子"
layout: "post"
diff: 普及/提高-
pid: P8787
tag: ['贪心', '2022', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 B] 砍竹子
## 题目描述

这天，小明在砍竹子，他面前有 $n$ 棵竹子排成一排，一开始第 $i$ 棵竹子的高度为 $h_{i}$.

他觉得一棵一棵砍太慢了，决定使用魔法来砍竹子。魔法可以对连续的一段相同高度的竹子使用，假设这一段竹子的高度为 $H$，那么使用一次魔法可以把这一段竹子的高度都变为 $\left\lfloor\sqrt{\left\lfloor\frac{H}{2}\right\rfloor+1}\right\rfloor$, 其中 $\lfloor x\rfloor$ 表示对 $x$ 向下取整。小明想知道他最少使用多少次魔法可以让所有的竹子的高度都变为 $1$。
## 输入格式

第一行为一个正整数 $n$，表示竹子的棵数。

第二行共 $n$ 个空格分开的正整数 $h_{i}$，表示每棵竹子的高度。
## 输出格式

一个整数表示答案。
## 样例

### 样例输入 #1
```
6
2 1 4 2 6 7
```
### 样例输出 #1
```
5
```
## 提示

**【样例说明】**

其中一种方案:

$214267\rightarrow 214262\rightarrow 214222\rightarrow 211222\rightarrow 111222\rightarrow 111111$

共需要 5 步完成

**【评测用例规模与约定】**

对于 $20 \%$ 的数据，保证 $n \leq 1000, h_{i} \leq 10^{6}$ 。

对于 $100 \%$ 的数据，保证 $n \leq 2 \times 10^{5}, h_{i} \leq 10^{18}$ 。

蓝桥杯 2022 省赛 B 组 J 题。


---

---
title: "[蓝桥杯 2023 省 A] 更小的数"
layout: "post"
diff: 普及/提高-
pid: P9232
tag: ['2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 A] 更小的数
## 题目描述

![image](https://cdn.luogu.com.cn/upload/image_hosting/y1rd2iun.png)

小蓝有一个长度均为 $n$ 且仅由数字字符 $0 \sim 9$ 组成的字符串，下标从 $0$ 到 $n-1$，你可以将其视作是一个具有 $n$ 位的十进制数字 $num$，小蓝可以从 $num$ 中选出一段连续的子串并将子串进行反转，最多反转一次。小蓝想要将选出的子串进行反转后再放入原位置处得到的新的数字 $num_{new}$ 满足条件 $num_{new}<num$，请你帮他计算下一共有多少种不同的子串选择方案，只要两个子串在 $num$ 中的位置不完全相同我们就视作是不同的方案。

注意，我们允许前导零的存在，即数字的最高位可以是 $0$，这是合法的。
## 输入格式

输入一行包含一个长度为 $n$ 的字符串表示 $num$（仅包含数字字符 $0 \sim 9$），从左至右下标依次为 $0 \sim n-1$。
## 输出格式

输出一行包含一个整数表示答案。
## 样例

### 样例输入 #1
```
210102
```
### 样例输出 #1
```
8
```
## 提示

#### 【样例说明】

一共有 $8$ 种不同的方案：

1. 所选择的子串下标为 $0\sim1$，反转后的 $num_{new} = 120102 < 210102$；
2. 所选择的子串下标为 $0\sim2$，反转后的 $num_{new} =  012102 < 210102$；
3. 所选择的子串下标为 $0\sim3$，反转后的 $num_{new} =  101202 < 210102$；
4. 所选择的子串下标为 $0\sim4$，反转后的 $num_{new} =  010122 < 210102$；
5. 所选择的子串下标为 $0\sim5$，反转后的 $num_{new} =  201012 < 210102$；
6. 所选择的子串下标为 $1\sim2$，反转后的 $num_{new} =  201102 < 210102$；
7. 所选择的子串下标为 $1\sim4$，反转后的 $num_{new} =  201012 < 210102$；
8. 所选择的子串下标为 $3\sim4$，反转后的 $num_{new} =  210012 < 210102$。

#### 【评测用例规模与约定】

对于 $20\%$ 的评测用例，$1 \le n \le 100$；

对于 $40\%$ 的评测用例，$1 \le n \le 1000$；

对于所有评测用例，$1 \le n \le 5000$。



---

---
title: "[蓝桥杯 2023 省 B] 飞机降落"
layout: "post"
diff: 普及/提高-
pid: P9241
tag: ['2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 B] 飞机降落
## 题目描述

$N$ 架飞机准备降落到某个只有一条跑道的机场。其中第 $i$ 架飞机在 $T_{i}$ 时刻到达机场上空，到达时它的剩余油料还可以继续盘旋 $D_{i}$ 个单位时间，即它最早可以于 $T_{i}$ 时刻开始降落，最晩可以于 $T_{i}+D_{i}$ 时刻开始降落。降落过程需要 $L_{i}$ 个单位时间。

一架飞机降落完毕时，另一架飞机可以立即在同一时刻开始降落，但是不能在前一架飞机完成降落前开始降落。

请你判断 $N$ 架飞机是否可以全部安全降落。
## 输入格式

输入包含多组数据。

第一行包含一个整数 $T$，代表测试数据的组数。

对于每组数据，第一行包含一个整数 $N$。

以下 $N$ 行，每行包含三个整数 $T_{i},D_{i},L_{i}$。
## 输出格式

对于每组数据，输出 `YES` 或者 `NO`，代表是否可以全部安全降落。

## 样例

### 样例输入 #1
```
2
3
0 100 10
10 10 10
0 2 20
3
0 10 20
10 10 20
20 10 20
```
### 样例输出 #1
```
YES
NO
```
## 提示

**【样例说明】**

对于第一组数据，可以安排第 3 架飞机于 0 时刻开始降落，20 时刻完成降落。安排第 2 架飞机于 20 时刻开始降落，30 时刻完成降落。安排第 1 架飞机于 30 时刻开始降落，40 时刻完成降落。

对于第二组数据，无论如何安排，都会有飞机不能及时降落。

**【评测用例规模与约定】**

对于 $30 \%$ 的数据，$N \leq 2$。

对于 $100 \%$ 的数据，$1 \leq T \leq 10$，$1 \leq N \leq 10$，$0 \leq T_{i},D_{i},L_{i} \leq 10^{5}$。 

蓝桥杯 2023 省赛 B 组 D 题。


---

---
title: "[蓝桥杯 2023 省 B] 接龙数列"
layout: "post"
diff: 普及/提高-
pid: P9242
tag: ['2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 B] 接龙数列
## 题目描述

对于一个长度为 $K$ 的整数数列：$A_{1},A_{2},\ldots,A_{K}$，我们称之为接龙数列当且仅当 $A_{i}$ 的首位数字恰好等于 $A_{i-1}$ 的末位数字（$2 \leq i \leq K$）。

例如 $12,23,35,56,61,11$ 是接龙数列；$12,23,34,56$ 不是接龙数列，因为 $56$ 的首位数字不等于 $34$ 的末位数字。所有长度为 $1$ 的整数数列都是接龙数列。

现在给定一个长度为 $N$ 的数列 $A_{1},A_{2},\ldots,A_{N}$，请你计算最少从中删除多少 个数，可以使剩下的序列是接龙序列？
## 输入格式

第一行包含一个整数 $N$。

第二行包含 $N$ 个整数 $A_{1},A_{2},\ldots,A_{N}$。
## 输出格式

一个整数代表答案。
## 样例

### 样例输入 #1
```
5
11 121 22 12 2023
```
### 样例输出 #1
```
1
```
## 提示

**【样例说明】**

删除 $22$，剩余 $11,121,12,2023$ 是接龙数列。 

**【评测用例规模与约定】**

对于 $20 \%$ 的数据，$1 \leq N \leq 20$。

对于 $50 \%$ 的数据，$1 \leq N \leq 10^4$。

对于 $100 \%$ 的数据，$1 \leq N \leq 10^{5}$，$1 \leq A_{i} \leq 10^{9}$。所有 $A_{i}$ 保证不包含前导 0。

蓝桥杯 2023 省赛 B 组 E 题。


---

---
title: "[蓝桥杯 2023 省 B] 岛屿个数"
layout: "post"
diff: 普及/提高-
pid: P9243
tag: ['搜索', '2023', '蓝桥杯省赛']
---
# [蓝桥杯 2023 省 B] 岛屿个数
## 题目描述

小蓝得到了一副大小为 $M \times N$ 的格子地图，可以将其视作一个只包含字符 `0`（代表海水）和 `1`（代表陆地）的二维数组，地图之外可以视作全部是海水，每个岛屿由在上/下/左/右四个方向上相邻的 `1` 相连接而形成。

在岛屿 $A$ 所占据的格子中，如果可以从中选出 $k$ 个不同的格子，使得他们的坐标能够组成一个这样的排列：$\left(x_{0},y_{0}\right),\left(x_{1},y_{1}\right),\ldots,\left(x_{k-1},y_{k-1}\right)$，其中 $\left(x_{(i+1) \bmod k},y_{(i+1) \bmod k}\right)$ 是由 $\left(x_{i},y_{i}\right)$ 通过上/下/左/右移动一次得来的（$0 \leq i \leq k-1$），此时这 $k$ 个格子就构成了一个「环」。如果另一个岛屿 $B$ 所占据的格子全部位于这个「环」内部，此时我们将岛屿 $B$ 视作是岛屿 $A$ 的子岛屿。若 $B$ 是 $A$ 的子岛屿，$C$ 又是 $B$ 的子岛屿，那 $C$ 也是 $A$ 的子岛屿。

请问这个地图上共有多少个岛屿？在进行统计时不需要统计子岛屿的数目。
## 输入格式

第一行一个整数 $T$，表示有 $T$ 组测试数据。

接下来输入 $T$ 组数据。对于每组数据，第一行包含两个用空格分隔的整数 $M, N$ 表示地图大小；接下来输入 $M$ 行，每行包含 $N$ 个字符，字符只可能是 `0` 或 `1`。

## 输出格式

对于每组数据，输出一行，包含一个整数表示答案。
## 样例

### 样例输入 #1
```
2
5 5
01111
11001
10101
10001
11111
5 6
111111
100001
010101
100001
111111

```
### 样例输出 #1
```
1
3
```
## 提示

**【样例说明】**

对于第一组数据，包含两个岛屿，下面用不同的数字进行了区分：
```
01111
11001
10201
10001
11111
```
岛屿 2 在岛屿 1 的「环」内部，所以岛屿 2 是岛屿 1 的子岛屿，答案为 $1$。

对于第二组数据，包含三个岛屿，下面用不同的数字进行了区分：
```
111111
100001
020301
100001
111111
```
注意岛屿 3 并不是岛屿 1 或者岛屿 2 的子岛屿，因为岛屿 1 和岛屿 2 中均没有「环」。

**【评测用例规模与约定】**

对于 $30 \%$ 的评测用例，$1 \leq M,N \leq 10$。

对于 $100 \%$ 的评测用例，$1 \leq T \leq 10$，$1 \leq M,N \leq 50$ 。  

蓝桥杯 2023 省赛 B 组 F 题。


---


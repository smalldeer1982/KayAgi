---
title: "[蓝桥杯青少年组省赛 2023] 质因数的个数"
layout: "post"
diff: 普及/提高-
pid: B4272
tag: ['2023', '素数判断,质数,筛法', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2023] 质因数的个数
## 题目背景

- **因数**：又称为约数，如果整数 $a$ 除以整数 $b(b\neq 0)$ 的商正好是整数而没有余数，我们就说 $b$ 是 $a$ 的因数。
- **质数**：又称为素数，一个大于 $1$ 的自然数，除了 $1$ 和它自身外，不能被其他自然数整除的数叫做质数。$2$ 是最小的质数。
- **质因数**：如果一个数 $a$ 的因数 $b$ 同时也是质数，那么 $b$ 就是 $a$ 的一个质因数，例如：$8=2\times 2\times2$，$2$ 就是 $8$ 的质因数；$12=2\times 2\times 3$，$2$ 和 $3$ 就是 $12$ 的质因数。

## 题目描述

给定两个正整数 $N$ 和 $M(1\leq N\leq M\leq 10^7)$，统计 $N$ 到 $M$ 之间（含 $N$ 和 $M$）每个数所包含的质因数的个数，输出其中最大的个数。

例如：
当 $N=6,M=10$，$6$ 到 $10$ 之间：
- $6$ 的质因数是 $2,3$，共有 $2$ 个；
- $7$ 的质因数是 $7$，共有 $1$ 个；
- $8$ 的质因数是 $2,2,2$，共有 $3$ 个；
- $9$ 的质因数是 $3,3$，共有 $2$ 个；
- $10$ 的质因数是 $2,5$，共有 $2$ 个；

$6$ 到 $10$ 之间的数中质因数最多的是 $8$，质因数有 $3$ 个，故输出 $3$。
## 输入格式

输入两个正整数 $N$ 和 $M(1\leq N\leq M\leq 10^7)$，两个正整数之间用一个空格隔开。
## 输出格式

输出一个整数，表示质因数个数中的最大值。
## 样例

### 样例输入 #1
```
6 10
```
### 样例输出 #1
```
3
```


---

---
title: "[蓝桥杯青少年组省赛 2023] 活动人数"
layout: "post"
diff: 普及/提高-
pid: B4275
tag: ['2023', '树形 DP', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2023] 活动人数
## 题目描述

有一个大型企业集团，由 $N$ 个部门组成，编号从 $1$ 到 $N$。这些部门之间的层次关系形成了一个树状结构，一个上级部门可能会有 $1$ 个或多个直接下级部门，一个下级部门只有一个直接上级部门。  

本月集团举办了一个大型活动，这次的活动组织方按如下要求安排活动：  

1. 来的人越多越好；  
2. 如果一个上级部门参加本次活动，那么他们的直接下级部门就不能参加，而他的间接下级部门可以参加（如下图，如果部门 $1$ 参加，那么部门 $2,3$ 不能参加，而部门 $4,5,6$ 可以参加）。  

请你帮他们计算一下，如何安排可以使参加活动的人数最多，并输出参加活动的最多人数。  

例如：当 $N=6$，每个部门编号为 $1$ 到 $6$，部门上下级关系和部门的人数如下图所示：  

![](https://cdn.luogu.com.cn/upload/image_hosting/ej7lvi7g.png)

注意：示例中，部门 $1$ 是层级最高的部门，没有直接上级，故将其直接上级部门设为 $0$；  

当安排（$1,4,5,6$）这 $4$ 个部门参加活动时，人数最多，为 $11$，所以输出 $11$。  
## 输入格式

第一行输入一个正整数 $N$（$1 \leq N \leq 100000$），表示集团所有部门的数量。

接下来有 $N$ 行，每行输入三个非负整数 $F$、$S$ 和 $C$，（$0 \leq F \leq N$，$1 \leq S \leq N$，$F \neq S$，$1 \leq C \leq 1000$），$F$ 表示是部门 $S$ 的直接上级，$C$ 表示部门 $S$ 的人数，整数之间用一个空格隔开。  

注意：如果是最上层的部门，其直接上级部门编号为 $0$。
## 输出格式

输出一个整数，表示参加活动的最多人数。
## 样例

### 样例输入 #1
```
6
0 1 2
1 2 4
1 3 3
2 4 3
3 5 2
3 6 4
```
### 样例输出 #1
```
11
```
## 提示

**【评分标准】**

- $10$ 分：能正确输出第一组数据；  
- $10$ 分：能正确输出第二组数据；  
- $10$ 分：能正确输出第三组数据；  
- $10$ 分：能正确输出第四组数据；  
- $10$ 分：能正确输出第五组数据；  
- $10$ 分：能正确输出第六组数据；  
- $10$ 分：能正确输出第七组数据；  
- $10$ 分：能正确输出第八组数据；  
- $10$ 分：能正确输出第九组数据；  
- $10$ 分：能正确输出第十组数据。


---

---
title: "[蓝桥杯青少年组国赛 2023] 数独填数"
layout: "post"
diff: 普及/提高-
pid: B4279
tag: ['搜索', '2023', '深度优先搜索 DFS', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组国赛 2023] 数独填数
## 题目背景

本题使用的数独均较为简单，不接受 hack 数据，感兴趣的同学可以查看 [此题目](https://www.luogu.com.cn/problem/P1784) 的说明/提示部分。
## 题目描述

数独是源自 18 世纪瑞士的一种数学游戏。玩家需要根据 $9 \times 9$ 网格上的已知数字，将剩余的所有空格填上数字，使得：
1. 每一行包含数字 $1 \sim 9$ 且不重复；
2. 每一列包含数字 $1 \sim 9$ 且不重复；
3. 每一个 $3 \times 3$ 方块（粗线划分）包含数字 $1 \sim 9$ 且不重复。
## 输入格式

共有 $9$ 行，表示未完成的数独：
- 每行包含 $9$ 个字符（字符只能为 $1 \sim 9$ 的数字和 `.`）；
- `.` 表示数独上的空格；
- 题目数据保证数独有效且答案唯一。
## 输出格式

输出 $9$ 行，表示已完成的数独：
- 每行 $9$ 个数字，数字之间没有空格及其他字符。
## 样例

### 样例输入 #1
```
17.5..8..
.52.1....
.....759.
.8...94.3
.197.4..8
7......15
4.1...6..
3...2..59
...96..3.
```
### 样例输出 #1
```
174593826
952816347
638247591
286159473
519734268
743682915
491375682
367428159
825961734
```


---

---
title: "[蓝桥杯青少年组省赛 2022] 组合"
layout: "post"
diff: 普及/提高-
pid: B4284
tag: ['数学', '2022', '数论', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2022] 组合
## 题目描述

某商店将一种糖果按照数量打包成 $N$ 和 $M$ 两种规格来售卖（$N$ 和 $M$ 为互质数，且 $N$ 和 $M$ 有无数包）。这样的售卖方式会限制一些数量的糖果不能买到。现在给出 $N$ 和 $M$ 的值，请你计算出最多不能买到的糖果数量。

## 输入格式

输入两个正整数 $N$ 和 $M$（$2 < N < M < 100$，$N$ 和 $M$ 为互质数），表示这两种规格的糖果数量，正整数之间用一个空格隔开。
## 输出格式

输出一个整数，表示最多不能买到的糖果数量。
## 样例

### 样例输入 #1
```
3 5
```
### 样例输出 #1
```
7
```


---

---
title: "[蓝桥杯青少年组省赛 2022] 组合"
layout: "post"
diff: 普及/提高-
pid: B4290
tag: ['动态规划 DP', '2022', '数论', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2022] 组合
## 题目描述

某商家将一种汤圆按照数量不同，分装成 $N$ 种规格来售卖。这样的售卖方式会限制一些数量的汤圆买不到。

例如：
- 当 $N=2$ 时，$2$ 种规格的汤圆分别装 $3$ 个和 $5$ 个，这种情况下限制了 $1$、$2$、$4$、$7$ 四种数量的汤圆不能买到。

给出 $N$ 及 $N$ 种规格的汤圆数量，请计算出有多少种数量的汤圆不能买到。如果有无限种数量的汤圆不能买到，就输出 $-1$。
## 输入格式

第一行输入一个正整数 $N$（$1 \leq N \leq 20$），表示有 $N$ 种规格的汤圆。

第二行输入 $N$ 个各不相同的正整数（$1 \leq$ 每个数 $\leq 100$），表示每种规格的汤圆数量，且正整数之间以一个空格隔开。

## 输出格式

输出在这种情况下有多少种汤圆数量是不能买到的。如果有无限种数量的汤圆不能买到，则输出 $-1$。
## 样例

### 样例输入 #1
```
2
3 5
```
### 样例输出 #1
```
4
```


---

---
title: "[蓝桥杯青少年组省赛 2022] 奖品"
layout: "post"
diff: 普及/提高-
pid: B4293
tag: ['2022', '前缀和', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2022] 奖品
## 题目描述

有一个 $N \times M$ 的矩阵方格，其中有些方格中有奖品，有些方格中没有奖品。小蓝需要从 $N \times M$ 的矩阵中选择一个正方形区域，如果所选的正方形区域的一个对角线方格中都有奖品，其他方格都没有奖品，就会获得所选区域中的所有奖品，否则不能获得奖品。

当给出 $N$ 和 $M$ 的值，及 $N \times M$ 的矩阵方格中摆放的奖品情况（$0$ 表示方格中没有奖品，$1$ 表示方格中有奖品），请你帮助小蓝找出一个正方形区域，能够获得数量最多的奖品，并将奖品数输出。

## 输入格式

第一行输入两个整数 $N$ 和 $M$（$1 \leq N \leq 100$，$1 \leq M \leq 100$），$N$ 表示矩阵的行数，$M$ 表示矩阵的列数，两个整数之间一个空格隔开。接下来输入 $N$ 行，每行包括 $M$ 个 $0$ 或者 $1$（$0$ 表示方格中没有奖品，$1$ 表示方格中有奖品），$0$ 或者 $1$ 之间一个空格隔开。

## 输出格式

输出一个整数，表示最多可以获得的奖品数。
## 样例

### 样例输入 #1
```
5 6
1 0 1 0 0 0
0 1 0 1 0 0
1 0 0 0 1 0
0 1 0 0 0 1
1 0 1 0 0 0
```
### 样例输出 #1
```
4
```


---

---
title: "[蓝桥杯青少年组国赛 2022] 翻卡片"
layout: "post"
diff: 普及/提高-
pid: B4297
tag: ['2022', '枚举', '连通块', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组国赛 2022] 翻卡片
## 题目描述

小蓝在玩翻卡片游戏，每张卡片一面写着大写字母 `A`，另一面写着大写字母 `B`。首先将卡片排成一个 $N \times N$ 的矩阵。有的卡片是 `A` 面朝上，有的卡片是 `B` 面朝上。

现给定 $N$ 的值，及 $N \times N$ 矩阵中每张卡片的状态，请你帮助小蓝挑选一张 `B` 面的卡，翻转成 `A` 面，使得翻转后的上、下、左、右四个方向相连的 `A` 面卡片最多，并将相连最多的卡片数量输出。

例如：$N=3$，$3 \times 3$ 的矩阵中的卡片状态如下：

| A | B | B |
|---|---|---|
| A | B | A |
| B | A | B |

选择第二行第二列的那张 `B` 面卡片，翻转为 `A` 面，可以使翻转后四个方向相连的 `A` 面卡片最多，为 $5$ 张。

| A | B | B |   | A | B | B |
|---|---|---|---|---|---|---|
| A | B | A | $\rightarrow$ | A | A | A |
| B | A | B |   | B | A | B |
## 输入格式

第一行输入一个正整数 $N$（$2 \leq N \leq 50$），表示矩阵的行数和列数。

第二行开始输入 $N$ 行，每行输入 $N$ 个字符（`A` 或者 `B`），表示矩阵中卡片状态，字符之间以一个空格隔开。
## 输出格式

输出一个整数，表示翻转后相连的 `A` 面卡片的最大数量。
## 样例

### 样例输入 #1
```
3
A B B
A B A
B A B
```
### 样例输出 #1
```
5
```


---

---
title: "[蓝桥杯青少年组国赛 2022] 金箍棒"
layout: "post"
diff: 普及/提高-
pid: B4298
tag: ['贪心', '线段树', '2022', '排序', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组国赛 2022] 金箍棒
## 题目背景

为区分各种时间复杂度的做法，本题时间限制下调到 500 毫秒。
## 题目描述

淘气的悟空变出了 $N$ 根高度各不相同的金箍棒（$1 \leq $ 高度 $\leq 1000$），并排列成一排。悟空可以对每根金箍棒施法，让金箍棒高度变短或者变长，但每一次施法只能使一根金箍棒变短 $1$ 个高度或者变长 $1$ 个高度。

现在悟空想通过施法将 $K$（$K \leq N$）根相邻的金箍棒高度变为相同，且要求施法的次数最少，请你帮助悟空计算出最少需要施法几次可以使 $K$ 根相邻的金箍棒高度变为相同。

例如：$N=3$，$K=2$，$3$ 根金箍棒初始高度分别为 $3$、$6$、$1$。

- 第一次对高度为 $3$ 的金箍棒施法变长 $1$ 个高度，变为 $4$；
- 第二次对高度为 $6$ 的金箍棒施法变短 $1$ 个高度，变为 $5$；
- 第三次对高度为 $4$ 的金箍棒施法变长 $1$ 个高度，变为 $5$；

$2$ 根相邻的金箍棒高度变为相同，最少施法 $3$ 次。
## 输入格式

第一行输入两个正整数 $N$、$K$（$1 \leq K \leq N \leq 10000$），$N$ 表示金箍棒的根数，$K$ 表示需要将 $K$ 根相邻的金箍棒高度变为相同，两个整数之间以一个空格隔开。

第二行输入 $N$ 个各不相同的正整数（$1 \leq$ 正整数$\leq 1000$），表示 $N$ 根金箍棒的初始高度，$N$ 个整数之间以一个空格隔开。

## 输出格式

输出一个整数，表示悟空最少需要施法几次可以使 $K$ 根相邻的金箍棒高度变为相同。
## 样例

### 样例输入 #1
```
3 2
3 6 1
```
### 样例输出 #1
```
3
```


---

---
title: "[蓝桥杯青少年组国赛 2024] 第三题"
layout: "post"
diff: 普及/提高-
pid: B4308
tag: ['2024', '素数判断,质数,筛法', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组国赛 2024] 第三题
## 题目描述

因数：也称约数。如果整数 $a$ 除以整数 $b$，商为整数且余数为 $0$，则称 $b$ 是 $a$ 的因数。例如：$1$、$2$、$3$、$6$ 都是 $6$ 的因数。

素数：也称质数，是指在大于 $1$ 的自然数中，除了 $1$ 和它本身以外没有其他因数的数。例如：$2$、$3$、$5$ 是素数，$4$、$6$、$8$ 不是素数。

平方数：指的是可以写成某个整数的平方的数。例如：$4$（$2^2$）、$9$（$3^2$）、$16$（$4^2$）都是平方数。

莫比乌斯函数 $\mu(n)$ 定义如下：
1. 若 $n = 1$，则 $\mu(n) = 1$；
2. 若 $n$ 的因数中有大于 $1$ 的平方数，则 $\mu(n) = 0$；
3. 若 $n$ 的因数中没有大于 $1$ 的平方数，且 $n = P_1 \times P_2 \times \cdots \times P_k$（其中 $P_1, P_2, \ldots, P_k$ 为 $k$ 个不同的素数），则 $\mu(n) = (-1)^k$。

例如：
- $8$ 的因数有 $1$、$2$、$4$、$8$，其中大于 $1$ 的平方数有 $4$，所以 $\mu(8) = 0$；
- $15$ 的因数有 $1$、$3$、$5$、$15$，没有大于 $1$ 的平方数，且 $15 = 3 \times 5$，所以 $\mu(15) = (-1)^2 = 1$；
- $30$ 的因数有 $1$、$2$、$3$、$5$、$6$、$10$、$15$、$30$，没有大于 $1$ 的平方数，且 $30 = 2 \times 3 \times 5$，所以 $\mu(30) = (-1)^3 = -1$。

给定两个正整数 $m$ 和 $n$，请计算 $m$ 到 $n$ 之间（含 $m$ 和 $n$）所有整数的莫比乌斯函数值之和。
## 输入格式

一行输入两个正整数 $m$ 和 $n$（$1 \leq m \leq n \leq 2 \times 10^7$），整数之间以一个空格隔开。
## 输出格式

输出一个整数，表示 $m$ 到 $n$ 之间（含 $m$ 和 $n$）所有整数的莫比乌斯函数值之和。

## 样例

### 样例输入 #1
```
1 10
```
### 样例输出 #1
```
-1
```


---

---
title: "[蓝桥杯青少年组国赛 2024] 第五题"
layout: "post"
diff: 普及/提高-
pid: B4310
tag: ['2024', '前缀和', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组国赛 2024] 第五题
## 题目描述

给定包含 $n$ 个整数的数列，从中选取一段连续子数列，使其元素之和能被 $k$ 整除。

请找出符合要求的最长连续子数列并输出其长度以及子数列本身；如果符合要求的最长连续子数列有多个，则输出起始位置最靠后的那个子数列。如果不存在符合要求的子数列，则输出 $-1$。

例如：当 $n=7$，$k=7$，数列为 $7$、$3$、$4$、$1$、$5$、$14$、$9$ 时：
- 连续子数列 $\{7\}$、$\{7,3,4\}$、$\{3,4\}$ 和 $\{5,14,9\}$ 的和都能被 $7$ 整除；
- 其中最长的连续子数列有 $\{7,3,4\}$ 和 $\{5,14,9\}$，起始位置最靠后的是 $\{5,14,9\}$；
- 故符合要求的最长连续子数列长度为 $3$，子数列为 $5$ $14$ $9$。
## 输入格式

- 第一行输入两个整数 $n$ 和 $k$（$1 \leq n \leq 10^5$，$2 \leq k \leq 10^8$），整数之间以一个空格隔开；
- 第二行输入 $n$ 个整数（$1 \leq$ 整数 $\leq 10^4$），整数之间以一个空格隔开。
## 输出格式

如果存在符合要求的最长连续子数列，则输出为两行：
1. 第一行输出一个整数，表示最长连续子数列的长度；
2. 第二行输出若干个整数，表示起始位置最靠后的最长连续子数列，整数之间以一个空格隔开。

如果不存在符合要求的子数列，则输出 $-1$。
## 样例

### 样例输入 #1
```
7 7
7 3 4 1 5 14 9
```
### 样例输出 #1
```
3
5 14 9
```


---

---
title: "[蓝桥杯青少年组国赛 2024] 第六题"
layout: "post"
diff: 普及/提高-
pid: B4311
tag: ['2024', '树形 DP', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组国赛 2024] 第六题
## 题目描述

某城市的道路构成了一个巨大的树形结构，每一条道路可视为该结构的一条边，而道路的交叉点或端点视为其中的一个节点。该城市共有 $n$ 个节点，编号分别为 $1, 2, 3, \ldots, n$。

为了实时记录道路情况，需要在某些节点部署监控设备。当部署好后，与该节点直接相连的所有道路均能被监控到。为了优化资源分配，在保证整座城市的所有道路都被监控到的前提下，部署监控设备的费用要尽可能少。给定每个节点部署监控设备的费用，请计算要使所有道路都能被监控到的最少花费是多少？
## 输入格式

- 第一行输入一个整数 $n$ ($2 \leq n \leq 10^4$)，表示城市中节点（即道路交叉点或端点）的数量；
- 第二行输入 $n$ 个整数 ($1 <$ 整数 $\leq 10^5$)，分别表示 $1$ 号到 $n$ 号节点部署监控设备的费用；
- 接下来 $n-1$ 行，每行输入两个整数 $a$, $b$，表示节点 $a$ 和节点 $b$ 之间有一条道路。

## 输出格式

输出一个整数，表示要使所有道路均能被监控到的最少花费。
## 样例

### 样例输入 #1
```
8
33 12 30 22 18 10 31 28
1 2
1 3
2 4
2 5
2 6
3 7
3 8
```
### 样例输出 #1
```
42
```


---

---
title: "[蓝桥杯青少年组省赛 2025] 硬币游戏"
layout: "post"
diff: 普及/提高-
pid: B4379
tag: ['贪心', '博弈论', '2025', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2025] 硬币游戏
## 题目描述

Jerry 和 Tom 正在进行一局游戏。他们准备了 $n$ 个盒子，编号为 $1$ 到 $n$，其中 $i$ 号盒子装有 $a_i$ 枚硬币。他们将这 $n$ 个盒子围成一圈。游戏规则如下：

1. Jerry 和 Tom 轮流从某一个盒子中取走至少一枚硬币，Jerry 先手从 $1$ 号盒子开始取；
2. 如果前一个玩家取的是 $i$ 号盒子中的硬币，那么当前玩家必须从 $i+1$ 号盒子中取硬币。特别地，如果前一个玩家取的是 $n$ 号盒子中的硬币，那么当前玩家必须从 $1$ 号盒子中取硬币。
3. 如果轮到某位玩家时对应盒子中没有硬币，则该玩家失败。

假设 Jerry 和 Tom 都采取最优策略，请问谁会赢？
## 输入格式

本题每个测试点包含多组测试数据，格式如下：

第一行输入一个整数 $T$（$1 \leq T \leq 100$），表示数据组数；
- 对于每组测试数据，第一行输入一个整数 $n$（$1 \leq n \leq 1000$），表示盒子的数量；
- 第二行输入 $n$ 个整数 $a_i$（$1 \leq a_i \leq 10^9$），分别表示 $1$ 号到 $n$ 号盒子中的硬币数量，整数之间以一个空格隔开。
## 输出格式

输出 $T$ 行，每行输出一个字符串，对于第 $i$ 组测试数据，如果 Jerry 能赢，则输出 $\tt Jerry$，否则输出 $\tt Tom$。
## 样例

### 样例输入 #1
```
2
1
10
2
30 50
```
### 样例输出 #1
```
Jerry
Tom
```


---

---
title: "[蓝桥杯青少年组省赛 2025] 魔术扑克牌排列"
layout: "post"
diff: 普及/提高-
pid: B4380
tag: ['动态规划 DP', '高精度', '2025', 'Catalan 数', '蓝桥杯青少年组']
---
# [蓝桥杯青少年组省赛 2025] 魔术扑克牌排列
## 题目描述

魔术师大卫将 $n$ 张红色扑克牌和 $n$ 张蓝色扑克牌混合在一起并打乱洗牌后，整齐叠放在桌子上。然后大卫请现场嘉宾从这叠牌最上面的扑克牌开始拿，连续拿取任意数量的牌组成一沓（至少拿 $1$ 张，最多拿 $2n$ 张）。接下来是见证奇迹的时刻，无论嘉宾拿多少张扑克牌，所拿取的这沓牌中红色扑克牌的数量都不少于蓝色扑克牌的数量。

给定红色扑克牌和蓝色扑克牌的张数 $n$，请帮魔术师计算出能实现上述魔术效果的扑克牌从上到下的排列方式共有多少种。

## 输入格式

输入一个整数 $n$（$1 \leq n \leq 100$），表示红色扑克牌和蓝色扑克牌各自的数量。
## 输出格式

输出一个整数，表示满足题目要求的排列方式有多少种。
## 样例

### 样例输入 #1
```
3
```
### 样例输出 #1
```
5
```
## 提示

对于 $3$ 红 $3$ 蓝的牌，有以下 $5$ 种排列方式满足条件（用 R 表示红牌，B 表示蓝牌）：

1. R R B R B B
2. R B R B R B
3. R B R R B B
4. R R R B B B
5. R R B B R B

【备注：原题为配图解释，由于没有高清图片，洛谷只提供书面文字说明】


---


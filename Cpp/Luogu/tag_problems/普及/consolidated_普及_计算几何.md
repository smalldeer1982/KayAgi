---
title: "轰炸"
layout: "post"
diff: 普及/提高-
pid: P1142
tag: ['计算几何', '枚举', '排序']
---
# 轰炸
## 题目描述

“我该怎么办？”飞行员 klux 向你求助。

事实上，klux 面对的是一个很简单的问题，但是他实在太菜了。

klux 要想轰炸某个区域内的一些地方，它们是位于平面上的一些点，但是（显然地）klux 遇到了抵抗，所以 klux 只能飞一次，而且由于飞机比较破，一点起飞就只能沿直线飞行，无法转弯。现在他想一次轰炸最多的地方。

## 输入格式

第一行一个整数 $n$。

接下来 $n$ 行，每行有一对整数，表示一个点的坐标。没有一个点会出现两次。

## 输出格式

一个整数，表示一条直线能覆盖的最多的点数。

## 样例

### 样例输入 #1
```
5
1 1
2 2
3 3
9 10
10 11

```
### 样例输出 #1
```
3

```
## 提示

### 数据范围

对于全部数据，保证 $1\le n\le 700$。

本题翻译并改编自 uva270，数据及解答由 uva 提供。



---

---
title: "多边形的面积"
layout: "post"
diff: 普及/提高-
pid: P1183
tag: ['计算几何', '叉积']
---
# 多边形的面积
## 题目描述

给出一个没有缺口的简单多边形，它的边是垂直或者水平的，要求计算多边形的面积。

多边形被放置在一个 $xOy$ 的笛卡尔平面上，它所有的边都平行于两条坐标轴之一。然后按逆时针方向给出各顶点的坐标值。所有的坐标值都是整数，因此多边形的面积也为整数。

**注意：可能存在连续的三个顶点在一条直线上的情况**。
## 输入格式

第一行给出多边形的顶点数 $n$ 。

接下来 $n$ 行，每行给出多边形一个顶点的坐标值 $x$ 和 $y$，用空格隔开。

顶点按逆时针方向逐个给出。多边形最后是靠从最后一个顶点到第一个顶点画一条边来封闭的。
## 输出格式

一行，一个整数，表示多边形的面积。

## 样例

### 样例输入 #1
```
10
0 0
4 0
4 1
3 1
3 3
2 3
2 2
1 2
1 3
0 3
```
### 样例输出 #1
```
9
```
## 提示

对于 $100\%$ 的数据，$1 \le n \le 100$，$-200 \le x,y \le 200$。


---

---
title: "雷达安装"
layout: "post"
diff: 普及/提高-
pid: P1325
tag: ['贪心', '计算几何', '排序']
---
# 雷达安装
## 题目描述

假设海岸线是一条无限延伸的直线。它的一侧是陆地，另一侧是海洋。每一座小岛是在海面上的一个点。雷达必须安装在陆地上（包括海岸线），并且每个雷达都有相同的扫描范围 $d$。你的任务是建立尽量少的雷达站，使所有小岛都在扫描范围之内。

数据使用笛卡尔坐标系，定义海岸线为 $x$ 轴。在 $x$ 轴上方为海洋，下方为陆地。



## 输入格式

第一行包括 $2$ 个整数 $n$ 和 $d$，$n$ 是岛屿数目，$d$ 是雷达扫描范围。

接下来 $n$ 行，每行两个整数，为岛屿坐标。

## 输出格式

一个整数表示最少需要的雷达数目，若不可能覆盖所有岛屿，输出 `-1`。

## 样例

### 样例输入 #1
```
3 2
1 2
-3 1
2 1

```
### 样例输出 #1
```
2
```
## 提示

### 样例 1 解释

![](https://cdn.luogu.com.cn/upload/image_hosting/fnezefht.png)

### 数据范围

对于全部数据，$n\le1000$，$ d \le 2\times 10^4$，$ | x_i | \le 2 \times 10^6 $，$ 0 \le y_i \le 2\times 10^4$。


---

---
title: "神秘大三角"
layout: "post"
diff: 普及/提高-
pid: P1355
tag: ['数学', '计算几何', '福建省历届夏令营', '向量', '叉积']
---
# 神秘大三角
## 题目描述

判断一个点与已知三角形的位置关系。

## 输入格式

前三行，每行一个坐标，表示该三角形的三个顶点。

第四行，一个点的坐标，试判断该点与前三个点围成三角形的位置关系。

所有坐标值均为整数。
## 输出格式

- 若点在三角形内（不含边界），输出 $1$；
- 若点在三角形外（不含边界），输出 $2$；
- 若点在三角形边界上（不含顶点），输出 $3$；
- 若点在三角形顶点上，输出 $4$。
## 样例

### 样例输入 #1
```
(0,0)

(3,0)

(0,3)

(1,1)


```
### 样例输出 #1
```
1


```
## 提示

### 数据规模与约定

对于 $100\%$ 数据，$0\le x_i,y_i\le 100$。

 


---

---
title: "[HNOI2005] 汤姆的游戏"
layout: "post"
diff: 普及/提高-
pid: P2313
tag: ['计算几何', '2005', '各省省选', '湖南', '枚举']
---
# [HNOI2005] 汤姆的游戏
## 题目描述

汤姆是个好动的孩子,今天他突然对圆规和直尺来了兴趣。于是他开始在一张很大很大的白纸上画很多很多的矩形和圆。画着画着,一不小心将他的爆米花弄撒了,于是白纸上就多了好多好多的爆米花。汤姆发现爆米花在白纸上看起来就像一个个点,有些点落在矩形或圆内部,而有些则在外面。于是汤姆开始数每个点在多少个矩形或圆内部。毕竟汤姆还只是个孩子,而且点、矩形和圆又非常多。所以汤姆数了好一会都数不清,于是就向聪明的你求助了。你的任务是：在给定平面上N个图形(矩形或圆)以及M个点后，请你求出每个点在多少个矩形或圆内部(这里假设矩形的边都平行于坐标轴)。

## 输入格式

从文件input.txt中读入数据，文件第一行为两个正整数N和M，其中N表示有多少个图形(矩形或圆)，M表示有多少个点。接下来的N行是对每个图形的描述，具体来说，第i+1行表示第i个图形。先是一个字母,若该字母为“r”，则表示该图形是一个矩形,这时后面将有4个实数x1,y1,x2,y2，表示该矩形的一对对角顶点的坐标分别为(x1,y1)和(x2,y2)；若该字母为“c”，则表示该图形是一个圆,这时后面将有3个实数x,y,r,表示该圆以(x,y)为圆心并以r为半径。最后M行是对每个点的描述，其中每行将有两个实数x,y,表示一个坐标为(x,y)的点。

## 输出格式

输出文件output.txt中包含M行,每行是一个整数,其中第i行的整数表示第i个点在多少个图形内部(当某点在一个图形的边界上时，我们认为该点不在这个图形的内部)。

## 样例

### 样例输入 #1
```
3 4 
r 1.015 0.750 5.000 4.000
c 6.000 5.000 2.020
r 6.500 7.200 7.800 9.200
3.500 2.500
4.995 3.990
2.300 8.150
6.900 8.000

```
### 样例输出 #1
```
1
2
0
1

```
## 提示

对于100%的数据，$N,M\le 500$



---

---
title: "蚂蚁搬家"
layout: "post"
diff: 普及/提高-
pid: P2358
tag: ['计算几何']
---
# 蚂蚁搬家
## 题目描述

边长为 $1$ 的正方体（自行脑补），有一只蚂蚁要从上表面上的一点出发爬往下表面的某一点，规定蚂蚁只能沿正方体表面爬行，要求编程求出一条从起点到终点的最短距离。

起点和终点坐标从键盘输入，设定上下两个表面的坐标原点均为正方形的中心，且两个表面的坐标系的 $X$ 轴和 $Y$ 轴方向一致，输出时保留三位小数。
## 输入格式

$4$ 个实数（$-0.5$ 到 $0.5$ 之间），分别表示出发点和目的点的坐标。
## 输出格式

最短距离

## 样例

### 样例输入 #1
```
0.26 0.50 0.50 0.18
```
### 样例输出 #1
```
1.146
```


---

---
title: "[USACO3.4] 网 Electric Fences"
layout: "post"
diff: 普及/提高-
pid: P2735
tag: ['计算几何', 'USACO']
---
# [USACO3.4] 网 Electric Fences
## 题目描述

在本题中，格点是指横纵坐标皆为整数的点。

为了圈养他的牛，农夫约翰（Farmer John)建造了一个三角形的电网。他从原点（0,0）牵出一根通电的电线，连接格点(n,m)（0<=n<32000,0<m<32000），再连接格点(p,0)（p>0），最后回到原点。

牛可以在不碰到电网的情况下被放到电网内部的每一个格点上（十分瘦的牛）。如果一个格点碰到了电网，牛绝对不可以被放到该格点之上（或许Farmer John会有一些收获）。那么有多少头牛可以被放到农夫约翰的电网中去呢？

## 输入格式

输入文件只有一行，包含三个用空格隔开的整数：n,m和p。

## 输出格式

输出文件只有一行，包含一个整数，代表能被指定的电网包含的牛的数目。

## 样例

### 样例输入 #1
```
7 5 10
```
### 样例输出 #1
```
20
```
## 提示

题目翻译来自NOCOW。

USACO Training Section 3.4



---

---
title: "『JROI-2』Dancing Line"
layout: "post"
diff: 普及/提高-
pid: P7778
tag: ['贪心', '计算几何', '2021', 'O2优化']
---
# 『JROI-2』Dancing Line
## 题目背景

> 若唤音乐随直线走动，那么你的双眸就是无穷。

k 舔喜欢玩 Dancing Line。

k 舔决定自己做一个 Dancing Line 关卡。
## 题目描述

注：本题不考虑「迷宫」等线转向方式特殊，「足球」等传送线，「钢琴」等飞跃落地的情况。

众所周知，Dancing Line 的路线是一条折线，每次点击会使线的前进方向**顺时针或逆时针旋转 $90^\circ$**，且**任意相邻两次旋转方向不同**。

比如下面是合法的路径（路径**不一定要随着平面直角坐标系的网格行走**）：

![](https://cdn.luogu.com.cn/upload/image_hosting/zuh1rvxz.png)  

![](https://cdn.luogu.com.cn/upload/image_hosting/5gct7zuf.png)

而下面是不合法的路径：

旋转角度不为 $90^\circ$：

![](https://cdn.luogu.com.cn/upload/image_hosting/kg8d4571.png)  

连续两次向左转弯：

![](https://cdn.luogu.com.cn/upload/image_hosting/6hfn6cxe.png)  

显然不符合要求的路径：

![](https://cdn.luogu.com.cn/upload/image_hosting/lm76sj88.png)

k 舔将路线放进了二维坐标系内，并记下了路线的**起点**、**终点**和**拐弯点**的坐标（横纵坐标**均为整数**），放进文件里就离开了。

等到 k 舔回来打开电脑时，发现他文件里的数据全部乱掉了，各点的坐标不再像之前那样按顺序存储好，而是按一种奇怪的顺序排列好了。

k 舔想要根据这些数据来重新复原这条路线，他还想要估计这个关卡的难度，用 $s$ 来表示：

$$s=\sum\limits_{i=1}^{n}{t_i^2},t_i=\dfrac{d(P_{i-1},P_i)}{v}$$

其中：

- $P_i(0\leq i\leq n)$ 表示路线**复原后**从起点开始的第 $i$ 个点（起点为 $P_0$，终点为 $P_n$）。
- $v$ 为线的速度，是一个给定的**正整数**。
- $d(A,B)$ 表示点 $A$ 和点 $B$ 在坐标轴内的距离。

你能帮助他吗？
## 输入格式

第一行两个正整数 $n,v$，意义如上。

接下来 $n+1$ 行，每行两个整数，表示**复原前**文件内各点的坐标。
## 输出格式

一个数 $s$，意义如上，输出其对 $998244353$ 取模的结果。

具体来讲，设其用最简分数的方式表示为 $\dfrac{x}{y}$，你需要输出满足 $ys\equiv x\pmod{998244353}$ 的最小非负整数，在本题中你需要输出 $x\times y^{998244351}\bmod 998244353$。
## 样例

### 样例输入 #1
```
8 2
-7 7
-11 5
-3 4
-5 3
4 0
0 -2
5 -2
13 2
15 -2

```
### 样例输出 #1
```
249561142

```
## 提示

**样例解释**

对于样例一，路线如下：

![](https://cdn.luogu.com.cn/upload/image_hosting/1a4dp2si.png)

各段长度分别为 $2\sqrt{5},2\sqrt{5},\sqrt{5},3\sqrt{5},2\sqrt{5},\sqrt{5},4\sqrt{5},2\sqrt{5}$，$s$ 值为 $53\dfrac{3}{4}$，取模后结果为 $249561142$。

------------

**数据范围与约定**

本题采用**捆绑测试**。

- Subtask 1（5 pts）：$n\leq 6$。
- Subtask 2（15 pts）：$n\leq 80$。
- Subtask 3（30 pts）：$n\leq 800$。
- Subtask 4（50 pts）：无特殊限制。

对于 $100\%$ 的数据，满足：

- $2\leq n \leq 10^6$。
- $-10^9\leq x_i,y_i\leq 10^9$。
- $1\leq v\leq 10^7$。
- **保证所有点坐标各不相同**。
- **保证给出的点一定能且只能复原出唯一的路径。**

------------

$d(A,B)=\sqrt{(x_A-x_B)^2+(y_A-y_B)^2}$，其中 $A(x_A,y_A),B(x_B,y_B)$。

-----
Source：[JROI-2 Summer Fun Round](https://www.luogu.com.cn/contest/30241) - T3

Idea&Sol&Data：[kkk的小舔狗](/user/104581)

Std&Retest：[Tony2](/user/171288)





---

---
title: "[蓝桥杯 2022 省 B] 扫雷"
layout: "post"
diff: 普及/提高-
pid: P8785
tag: ['图论', '计算几何', '2022', '蓝桥杯省赛']
---
# [蓝桥杯 2022 省 B] 扫雷
## 题目描述

小明最近迷上了一款名为《扫雷》的游戏。其中有一个关卡的任务如下，在一个二维平面上放置着 $n$ 个炸雷，第 $i$ 个炸雷 $\left(x_{i}, y_{i}, r_{i}\right)$ 表示在坐标 $\left(x_{i}, y_{i}\right)$ 处存在一个炸雷，它的爆炸范围是以半径为 $r_{i}$ 的一个圆。

为了顺利通过这片土地，需要玩家进行排雷。玩家可以发射 $m$ 个排雷火箭，小明已经规划好了每个排雷火箭的发射方向，第 $j$ 个排雷火箭 $\left(x_{j}, y_{j}, r_{j}\right)$ 表示这个排雷火箭将会在 $\left(x_{j}, y_{j}\right)$ 处爆炸，它的爆炸范围是以半径为 $r_{j}$ 的一个圆，在其爆炸范围内的炸雷会被引爆。同时，当炸雷被引爆时，在其爆炸范围内的炸雷也会被引爆。现在小明想知道他这次共引爆了几颗炸雷?

你可以把炸雷和排雷火箭都视为平面上的一个点。一个点处可以存在多个炸雷和排雷火箭。当炸雷位于爆炸范围的边界上时也会被引爆。
## 输入格式

输入的第一行包含两个整数 $n$、$m$。

接下来的 $n$ 行, 每行三个整数 $x_{i}, y_{i}, r_{i}$, 表示一个炸雷的信息。

再接下来的 $m$ 行，每行三个整数 $x_{j}, y_{j}, r_{j}$, 表示一个排雷火箭的信息。

## 输出格式

输出一个整数表示答案。
## 样例

### 样例输入 #1
```
2 1
2 2 4
4 4 2
0 0 5
```
### 样例输出 #1
```
2
```
## 提示

**【样例说明】**

示例图如下, 排雷火箭 1 覆盖了炸雷 1 , 所以炸雷 1 被排除; 炸雷 1 又覆 盖了炸雷 2 , 所以炸雷 2 也被排除。

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_29_3d61ad9326a0012c9fdag-13.jpg)

**【评测用例规模与约定】**

对于 $40 \%$ 的评测用例: $0 \leq x, y \leq 10^{9}, 0 \leq n, m \leq 10^{3}, 1 \leq r \leq 10$.

对于 $100 \%$ 的评测用例: $0 \leq x, y \leq 10^{9}, 0 \leq n, m \leq 5 \times 10^{4}, 1 \leq r \leq 10$. 


蓝桥杯 2022 省赛 B 组 H 题。


---


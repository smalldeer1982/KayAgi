---
title: "Coloring"
layout: "post"
diff: 省选/NOI-
pid: P3936
tag: ['搜索', '洛谷原创', 'Special Judge', '模拟退火']
---
# Coloring
## 题目描述

$\text{Snakes}$正在玩游戏，他在一张画有$n*m$个格子的白纸上给方格染色。然而，杂乱无章的染色并不有趣，所以他想出了一个奇怪的问题：


在$n*m$的方格中用$c$种不同的颜色尝试将所有方格染色，不同的颜色用$1..c$间的整数表示。染色需要满足以下条件：


+ 每个方格只能且必须染一种颜色。

+ 第$i$种颜色最多可以且必须染$p_i$个格子，保证满足$\sum_{i=1}^cp_i=n*m$。

+ 将每个格子上下左右与其颜色相同的格子视为位于同一个联通块内，并定义不同联通块之间的方格边的条数为$q$。可参考样例说明。


现在，$\text{Snakes}$想知道，如果给出$n,m,c$以及$p_1..p_c$，你能够构造出的符合条件且$q$尽量小的染色方案。

## 输入格式

第一行，三个数，$n,m,c$。


第二行，$c$个数，第$i$个数为$p_i$。

## 输出格式

输出共$n$行，每行$m$个数，表示你构造出的$n*m$的$q$尽量少的染色方案。

## 样例

### 样例输入 #1
```
2 3 3
1 2 3
```
### 样例输出 #1
```
2 3 1
2 3 3
```
## 提示

```plain
   |   |   
 2 | 3 | 1 
   +   +---
 2 | 3   3 
   |       
```

对于样例，有$q=4$，其中三条竖边，一条横边。


#### 约定


本题为 Special Judge。


对于每个测试点，将会设置阈值$w$，并保证存在构造使得$q\leq w$。


对于程序输出的答案，我们将会以以下方式计算得分：


$$\begin{matrix}q&score&q&score\\\\ q \leq w&10&1.75w < q \leq 2w&5\\\\ w < q \leq 1.1w&9&2w < q \leq 2.3w&4\\\\ 1.1w < q \leq 1.25w&8&2.3w < q \leq 2.6w&3\\\\ 1.25w < q \leq 1.5w&7&2.6w < q \leq 3w&2\\\\ 1.5w < q \leq 1.75w&6&3w < q \leq 3.5w&1\end{matrix}$$


若$q > 3.5w$，将以 `Wrong Answer` 处理。


比赛时显示的得分即为最后得分。


#### 数据规模


对于$10\%$的数据，有$1\leq n,m\leq 3$，$c\leq 3$。


对于$30\%$的数据，有$1\leq n,m\leq 8$，$c\leq 6$。


对于$50\%$的数据，有$1\leq n,m\leq 15$，$c\leq 25$。


对于$100\%$的数据，有$1\leq n,m\leq 20$，$c\leq 50$，$p_i\leq 20$。



---

---
title: "小 Y 和地铁"
layout: "post"
diff: 省选/NOI-
pid: P4005
tag: ['模拟', '搜索', '2017', '树状数组', 'O2优化', '枚举', '模拟退火', 'CTT（清华集训/北大集训）']
---
# 小 Y 和地铁
## 题目描述

小 Y 是一个爱好旅行的 OIer。一天，她来到了一个新的城市。由于不熟悉那里的交通系统，她选择了坐地铁。

她发现每条地铁线路可以看成平面上的一条曲线，不同线路的交点处一定会设有换乘站 。通过调查得知，没有线路是环线，也没有线路与自身相交。任意两条不同的线路只会在若干个点上相交，没有重合的部分，且没有三线共点的情况。即，如图所示的情况都是不存在的：

 ![](https://cdn.luogu.com.cn/upload/pic/12055.png) 

小 Y 坐着地铁 $0$ 号线，路上依次经过了 $n$ 个换乘站。她记下了每个换乘站可以换乘的线路编号，发现每条线路与她所乘坐的线路最多只有 $2$ 个换乘站。现在小 Y 想知道，除掉她经过的换乘站以外，这个城市里最少有几个换乘站。只有你告诉她正确的答案，她才会答应下次带你去玩呢。

## 输入格式

**请注意本题有多组输入数据。**

输入数据的第一行是一个整数 $T$，表示输入数据的组数。接下来依次给出每组数据。

对于每组数据，第一行是一个整数 $n$，表示小 Y 经过的换乘站的数目。第二行为 $n$ 个用空格隔开的整数，依次表示每个换乘站的可以换乘的线路编号。这些编号都在 $1\sim n$ 之内。

## 输出格式

对于每组输入数据，输出一行一个整数，表示除掉这 $n$ 个换乘站之外，最少有几个换乘站。

## 样例

### 样例输入 #1
```
4 4
1 2 1 2
8
1 2 3 4 1 2 3 4
5
5 4 3 3 5
8
1 2 3 4 1 3 2 4
```
### 样例输出 #1
```
0 
0 
0 
1
```
## 提示

【样例 1 解释】

对于样例的前两组数据，一种可能的最优答案如下图所示。

 ![](https://cdn.luogu.com.cn/upload/pic/12053.png) 

【子任务】

一共有 $50$ 个测试点，每个测试点 $2$ 分。你只有在答案完全正确时才能得到该测试点的全部分数，否则不得分。

对于所有测试点，以及对于样例， $1 \leq T \leq 100$, $1 \leq n \leq 44$。对于每个测试点， $n$ 的范围如下表：

![](https://cdn.luogu.com.cn/upload/pic/12054.png)



---

---
title: "[NOI2004] 小H的小屋"
layout: "post"
diff: 省选/NOI-
pid: P4274
tag: ['动态规划 DP', '贪心', '2004', 'NOI', '模拟退火']
---
# [NOI2004] 小H的小屋
## 题目描述

小 H 发誓要做 $21$ 世纪最伟大的数学家。他认为，做数学家与做歌星一样，第一步要作好包装，不然本事再大也推不出去。为此他决定先在自己的住所上下功夫，让人一看就知道里面住着一个“未来的大数学家”。

为了描述方便，我们以向东为 $x$ 轴正方向，向北为 $y$ 轴正方向，建立平面直角坐标系。小 H 的小屋东西长为 $100$  Hil（Hil 是小 H 自己使用的长度单位，至于怎样折合成“m”，谁也不知道）。东墙和西墙均平行于 $y$ 轴，北墙和南墙分别是斜率为 $k_1$ 和 $k_2$ 的直线，$k_1$ 和 $k_2$ 为正实数。北墙和南墙的墙角处有很多块草坪，每块草坪都是一个矩形，矩形的每条边都平行于坐标轴。相邻两块草坪的接触点恰好在墙上，接触点的横坐标被称为它所在墙的“分点”，这些分点必须是 $1$ 到 $99$ 的整数。

小 H 认为，对称与不对称性的结合才能充分体现“数学美”。因此，在北墙角要有 $m$ 块草坪，在南墙角要有 $n$ 块草坪，并约定 $m \leq n$。如果记北墙和南墙的分点集合分别为 $X_1$，$X_2$，则应满足 $X_1 \subseteq X_2$，即北墙的任何一个分点一定是南墙的分点。

由于小 H 目前还没有丰厚的收入，他必须把草坪的造价降到最低，即草坪
的占地总面积最小。你能编程帮他解决这个难题吗？
## 输入格式

仅一行，包含 $4$ 个数 $k_1$，$k_2$，$m$，$n$。$k_1$ 和 $k_2$ 为正实数，分别表示北墙和南墙的斜率，精确到小数点后第一位。$m$ 和 $n$ 为正整数，分别表示北墙角和南墙角的草坪的块数。
## 输出格式

一个实数，表示草坪的最小占地总面积。精确到小数点后第一位。
## 样例

### 样例输入 #1
```
0.5 0.2 2 4
```
### 样例输出 #1
```
3000.0
```
## 提示

![](https://cdn.luogu.com.cn/upload/image_hosting/y83es0b9.png)
【约定】

○ $2 \leq m \leq n \leq 100$

○ 南北墙距离很远，不会出现南墙草坪和北墙草坪重叠的情况


---

---
title: "[CEOI 2004] 锯木厂选址"
layout: "post"
diff: 省选/NOI-
pid: P4360
tag: ['模拟', '动态规划 DP', '2004', '单调队列', 'CEOI（中欧）', '模拟退火', '斜率优化']
---
# [CEOI 2004] 锯木厂选址
## 题目描述

从山顶上到山底下沿着一条直线种植了 $n$ 棵老树。当地的政府决定把他们砍下来。为了不浪费任何一棵木材，树被砍倒后要运送到锯木厂。 

木材只能朝山下运。山脚下有一个锯木厂。另外两个锯木厂将新修建在山路上。你必须决定在哪里修建这两个锯木厂，使得运输的费用总和最小。假定运输每公斤木材每米需要一分钱。 

你的任务是编写一个程序，从输入文件中读入树的个数和他们的重量与位置，计算最小运输费用。
## 输入格式

输入的第一行为一个正整数 $n$ ——树的个数 $(2\leq n\leq 20000)$。树从山顶到山脚按照 $1,2,\dots,n$ 标号。 

接下来 $n$ 行，每行有两个正整数（用空格分开）。 

第 $i+1$ 行含有：$w_i$ ——第 $i$ 棵树的重量（公斤为单位）和 $d_i$——第 $i$ 棵树和第 $i+1$ 棵树之间的距离， $1\leq w_i\leq 10000,0\leq d_i\leq 10000$。 

最后一颗树的 $d_n$，表示第 $n$ 棵树到山脚的锯木厂的距离。保证所有树运到山脚的锯木厂所需要的费用小于 $2\times 10^9$ 分。
## 输出格式

输出最小的运输费用。
## 样例

### 样例输入 #1
```
9 
1 2 
2 1 
3 3 
1 1 
3 2 
1 6 
2 1 
1 2 
1 1

```
### 样例输出 #1
```
26
```
## 提示

样例图示，黑点为锯木厂

![](https://cdn.luogu.com.cn/upload/pic/16339.png)

本题共有 $13$ 个测试点，每个测试点的数据范围如下

测试点 $1\sim 5$：$n\leq 200$；

测试点 $6\sim7$：$n\leq 1000$；

测试点 $7\sim13$：$2\leq n\leq 20000$；


---

---
title: "基地建设"
layout: "post"
diff: 省选/NOI-
pid: P4966
tag: ['2018', 'Special Judge', 'O2优化', '模拟退火', '生成树']
---
# 基地建设
## 题目背景

在茫茫宇宙中……
## 题目描述

有一群生物 ccj，他们发现了一个超星系群。其中有 $n$ 个恒星，$m$ 条双向星际航线，每条星际航线都需要消耗 $val_i$ 的燃料值。两个恒星不属于同一个星系当且仅当他们之间没有任何航线，且没有任何路径可以到达。只有每个恒星才可以为飞船补充燃料。每次航行的路线都是一条简单路径。由于燃料系统过于简陋，每个燃料罐只能用于一次航行。他们的首长 ccj 想在其中一个恒星上建立基地。但是 ccj 花了太多钱购买高速飞船，没有太多钱购买燃料罐，所以他对于两个恒星之间的航行一定选择最经济的航行方式，购买最小的燃料罐。他想问你，在基地要备多少的燃料总量，使得在任意一个恒星上建立基地都能从那个基地分别到达那个星系的其他所有恒星。

但是，这个超星系群发生了战争，一些黑洞改变了这里的空间结构。这群生物只知道每条航线花费的燃料值，找不到连接的两个恒星。但是他们的科学家发现了一个性质：每个战争有一个标志值 $q$，航线有不同的排列方式，对于其中一种排列，第 $i$ 条航线连接着 $((q^{i} \bmod 2^{32}+i \times val_i) \bmod n+n) \bmod n+1$ 和 $((q^{i} \bmod 2^{32}-i \times val_i) \bmod n+n) \bmod n+1$ 两个恒星。**运算方式为无符号整型运算**。如果连接的两个恒星一样，说明科学家计算有误，忽略这条航线。ccj 的目标改变了。他想知道对于所有星系的构成情况，最少需要准备多少的燃料总量，使得在这种结构中，在任意一个恒星上建立基地都能分别到达该结构下那个恒星所处星系的其他所有恒星。

你需要输出航线排列顺序。

## 输入格式

第一行三个正整数 $n$，$m$ 和 $q$，表示有 $n$ 个恒星，$m$ 条航线，战争标志值 $q$。

第二行 $m$ 个正整数 $val_i$，表示第 $i$ 条航线消耗 $val_i$ 的燃料值。
## 输出格式

第一行一个正整数 $ans$，表示 ccj 需要你求的数值。

从第二行到第 $m+1$ 行，每行输出一个整数，第 $i$ 行输出这个排列下的 $val_{i-1}$。
## 样例

### 样例输入 #1
```
3 5 2
1 2 3 4 5

```
### 样例输出 #1
```
1
5
4
2
3
1

```
## 提示

**样例解释：**

这 $5$ 条航线分别是：

$2$ 与 $2$ 往返，花费燃料 $5$

$1$ 与 $1$ 往返，花费燃料 $4$

$3$ 与 $3$ 往返，花费燃料 $2$

$2$ 与 $2$ 往返，花费燃料 $3$

$1$ 与 $2$ 往返，花费燃料 $1$

前四条航线被忽略，故有四个恒星系，$\{1,2\},\{3\},\{4\},\{5\}$

基地建在 $1$ 时，从 $1$ 到 $2$ 需要购买燃料量为 $1$ 的燃料罐，可以发现，没有其他比这个更优的答案。

$2 \le n \le 100\quad 1 \le m \le 40\quad 0 \le q \le 10^9\quad 0 \le val_i \le 1000$

你的答案只需要比std优秀或者和std一样且方案正确即可

1~4数据都为最优答案，5~10数据都为次优答案

~~此题会给出第10个数据的输入~~
[输入数据](https://www.luogu.org/paste/3xkq6bar)

详细范围参见”标程“

数据均为随机构造，请注意常数！


---

---
title: "[JSOI2016] 炸弹攻击1"
layout: "post"
diff: 省选/NOI-
pid: P5544
tag: ['2016', '各省省选', '江苏', '模拟退火']
---
# [JSOI2016] 炸弹攻击1
## 题目背景

JYY 最近迷上了一款塔防游戏，在游戏中，JYY 除了建设建筑，还可以使用炸弹对屏幕上的敌人进行范围杀伤。
## 题目描述

游戏地图可以简单认为是一个二维平面。JYY 建造了 $N$ 个建筑，每个建筑都是一个圆，其中第 $i$ 个建筑的圆心位于 $(x_i,y_i)$ 且半径为 $r_i$。地图上一共有 $M$ 个敌人，一个敌人可以近似看成一个平面上的点，其中第 $i$ 个敌人位于$ (p_i,q_i)$。JYY 可以使用一枚可以设置半径的炸弹，可以设置一个不超过 $R$ 的范围，然后选择平面上的一个点引爆，范围内的所有敌人全部消灭。

当然，由于炸弹威力巨大，如果爆炸范围接触到 JYY 的建筑，那么 JYY 的建筑也会受到损伤。（注：如果炸弹的爆炸范围仅接触到了 JYY 建筑的边界，则不会对 JYY 的建筑造成损伤；如果敌人出现在了爆炸范围的边界，则该敌人被消灭）JYY 可以自由控制炸弹的爆炸地点和爆炸半径。作为一个保守的玩家，他希望在保证自己建筑毫发无损的情况下，消灭尽量多的敌人。
## 输入格式

第一行包含三个非负整数，分别为 $N,M,R$；

接下来 $N$ 行，每行三个整数，其中第 $i$ 行为 $x_i,y_i,r_i$，表示第 $i$ 个建筑的位置和半径。数据保证所有建筑不相交（但是有可能边界接触）；

接下来 $M$ 行，每行两个整数，其中第 $i$ 行为 $p_i,q_i$，表示第 $i$ 个敌人的位置。
## 输出格式

输出一行一个整数，表示 JYY 最多可以消灭的敌人数量。
## 样例

### 样例输入 #1
```
1 5 3
0 0 1
3 3
-3 3
3 -3
3 0
0 3 
```
### 样例输出 #1
```
3
```
## 提示

- 对于 $20\%$ 的数据，满足 $M = 2$；
- 对于另外 $20\%$ 的数据，满足 $N = 0$；
- 对于另外 $20\%$ 的数据，满足 $M \leq 50$；
- 对于 $100\%$ 的数据，满足：
  - $0 \leq N \leq 10$；
  - $0 < M \leq 10^3$；
  - $1 \leq R, r_i \leq 2 \times 10^4$；
  - $|p_i|, |q_i|, |x_i|, |y_i| \leq 2 \times 10^4$。



---

---
title: "[JOISC 2020] 伝説の団子職人"
layout: "post"
diff: 省选/NOI-
pid: P7218
tag: ['2020', '提交答案', 'Special Judge', '模拟退火', '随机化', 'JOI（日本）']
---
# [JOISC 2020] 伝説の団子職人
## 题目背景

您是做团子带师，您太强了。
## 题目描述

您面前有一个 $R \times C$ 的网格，每一个格子里有一个团子，您可以横向，竖向，斜向地将三个连续的团子按顺序串起来，按顺序指可以串上中下，下中上之类的，但是不能串中下上，上下中之类的。

如果一串团子的颜色为绿，白，粉或者粉，白，绿，那么称这串团子叫 AK IOI 串。

求串最多 AK IOI 串的方法（我坚信做了几个 AK IOI 串就会 AK 几次 IOI）。
## 输入格式

第一行两个整数 $R,C$ 代表网格大小。    
接下来 $R$ 行每行 $C$ 个字符代表网格：

- `P` 代表粉色团子
- `W` 代表白色团子
- `G` 代表绿色团子
## 输出格式

$R$ 行每行 $C$ 个字符代表串好的网格：

- 可以为 `-`，`|`，`/`，`\`，代表一个团子串
- 如果不是以上四种线，那么原样输出

输出文件应为 `01.ans` ~ `06.ans`。
## 样例

### 样例输入 #1
```
3 4
PWGP
WGPW
GWPG
```
### 样例输出 #1
```
P-GP
WGP|
G-PG
```
### 样例输入 #2
```
3 4
PWWP
WWWW
PGGP
```
### 样例输出 #2
```
PWWP
W\/W
PGGP
```
## 提示

#### 样例 1 解释

您做了 $3$ 个 AK IOI 串。

#### 样例 2 解释

您做了 $2$ 个 AK IOI 串。

#### 数据规模与约定

**本题为提交答案题。**

**本题使用 Special Judge。**

一共有 $6$ 组数据，保证 $3 \le R,C \le 500$，输入文件可在附加文件中得到，具体数据表格如下：

|数据点|分数 $S$|及格线 $X$|良好线 $Y$|优秀线 $Z$|
|:-:|:-:|:-:|:-:|:-:|
|$1$|$15$|$44000$|$47000$|$47220$|
|$2$|$15$|$39000$|$41700$|$41980$|
|$3$|$15$|$45000$|$51000$|$51390$|
|$4$|$15$|$18000$|$19000$|$19120$|
|$5$|$20$|$43000$|$48200$|$48620$|
|$6$|$20$|$44000$|$46000$|$46500$|

假设 $N$ 为得到的 AK IOI 串个数，那么评分标准为（四舍五入）：

- $N<X$，$0$ 分
- $X \le N <Y$，$\dfrac{N-X}{2(Y-X)} \times S$ 分
- $Y \le N < Z$，$\left(\dfrac{1}{2}+\dfrac{N-Y}{2(Z-Y)}\right) \times S$ 分
- $Z \le N$，$S$ 分

如果输出格式有误或输出无效，判 $0$ 分。

#### 说明

翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day4 B 伝説の団子職人 ](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day4/dango2.pdf)。


---

---
title: "[JRKSJ R2] Dark Forest"
layout: "post"
diff: 省选/NOI-
pid: P7812
tag: ['2021', '洛谷原创', '提交答案', 'Special Judge', '模拟退火', '遗传算法', '随机化']
---
# [JRKSJ R2] Dark Forest
## 题目背景

**本题为提交答案题。**
## 题目描述

给你一个长为 $n$ 的序列 $a$，定义 $1\dots n$ 的排列 $p$ 的权值为

$$\sum_{i=1}^n p_i a_{p_{i-1}} a_{p_i}a_{p_{i+1}}$$

你可以理解为这个排列是一个环，即 $p_{0}=p_n,p_{n+1}=p_1$。

请构造一个权值**尽量大**的 $1\dots n$ 的排列。
## 输入格式

第一行一个整数 $n$。

第二行 $n$ 个整数表示序列 $a$。
## 输出格式

一行 $n$ 个整数表示排列。
## 样例

### 样例输入 #1
```
5
1 4 3 2 5
```
### 样例输出 #1
```
1 3 5 2 4
```
## 提示

注意是 `a[p[i-1]] a[p[i+1]]`，数据有一定梯度。

### 数据范围

对于 $100\%$ 的数据，$1\le n,a_i\le 10^3$。

### 样例解释

该排列的权值为 $1\times2\times1\times3+3\times1\times3\times5+5\times3\times5\times4+2\times5\times4\times2+4\times4\times2\times1=463$，可以证明这是最优的排列之一。

### 评分方式

**本题使用 Special Judge**，每个测试点都有 $10$ 个参数 $v_1,v_2,\dots v_{10}$。如果你的输出的权值 $V\ge v_i$，则该测试点您至少会获得 $i$ 分。

特别的，如果您的输出不是一个 $1\dots n$ 的排列，您会在该测试点获得 $0$ 分。

评分参数已经放至附件。


---

---
title: "[NOIP2021] 方差"
layout: "post"
diff: 省选/NOI-
pid: P7962
tag: ['动态规划 DP', '2021', 'NOIP 提高组', 'O2优化', '模拟退火', '动态规划优化']
---
# [NOIP2021] 方差
## 题目描述

给定长度为 $n$ 的非严格递增正整数数列 $1 \le a_1 \le a_2 \le \cdots \le a_n$。每次可以进行的操作是：任意选择一个正整数 $1 < i < n$，将 $a_i$ 变为 $a_{i - 1} + a_{i + 1} - a_i$。求在若干次操作之后，该数列的方差最小值是多少。请输出最小值乘以 $n^2$ 的结果。

其中方差的定义为：数列中每个数与平均值的差的平方的平均值。更形式化地说，方差的定义为 $D = \frac{1}{n} \sum_{i = 1}^{n} {(a_i - \bar a)}^2$，其中 $\bar a = \frac{1}{n} \sum_{i = 1}^{n} a_i$。
## 输入格式

输入的第一行包含一个正整数 $n$，保证 $n \le {10}^4$。

输入的第二行有 $n$ 个正整数，其中第 $i$ 个数字表示 $a_i$ 的值。数据保证 $1 \le a_1 \le a_2 \le \cdots \le a_n$。
## 输出格式

输出仅一行，包含一个非负整数，表示你所求的方差的最小值的 $n^2$ 倍。
## 样例

### 样例输入 #1
```
4
1 2 4 6

```
### 样例输出 #1
```
52

```
### 样例输入 #2
```
见附件中的 variance/variance2.in
```
### 样例输出 #2
```
见附件中的 variance/variance2.ans
```
### 样例输入 #3
```
见附件中的 variance/variance3.in
```
### 样例输出 #3
```
见附件中的 variance/variance3.ans
```
### 样例输入 #4
```
见附件中的 variance/variance4.in
```
### 样例输出 #4
```
见附件中的 variance/variance4.ans
```
## 提示

**【样例解释 #1】**

对于 $(a_1, a_2, a_3, a_4) = (1, 2, 4, 6)$，第一次操作得到的数列有 $(1, 3, 4, 6)$，第二次操作得到的新的数列有 $(1, 3, 5, 6)$。之后无法得到新的数列。

对于 $(a_1, a_2, a_3, a_4) = (1, 2, 4, 6)$，平均值为 $\frac{13}{4}$，方差为 $\frac{1}{4}({(1 - \frac{13}{4})}^2 + {(2 - \frac{13}{4})}^2 + {(4 - \frac{13}{4})}^2 + {(6 - \frac{13}{4})}^2) = \frac{59}{16}$。

对于 $(a_1, a_2, a_3, a_4) = (1, 3, 4, 6)$，平均值为 $\frac{7}{2}$，方差为 $\frac{1}{4} ({(1 - \frac{7}{2})}^2 + {(3 - \frac{7}{2})}^2 + {(4 - \frac{7}{2})}^2 + {(6 - \frac{7}{2})}^2) = \frac{13}{4}$。

对于 $(a_1, a_2, a_3, a_4) = (1, 3, 5, 6)$，平均值为 $\frac{15}{4}$，方差为 $\frac{1}{4} ({(1 - \frac{15}{4})}^2 + {(3 - \frac{15}{4})}^2 + {(5 - \frac{15}{4})}^2 + {(6 - \frac{15}{4})}^2) = \frac{59}{16}$。

**【数据范围】**

| 测试点编号 | $n \le$ | $a_i \le$ |
|:-:|:-:|:-:|
| $1 \sim 3$ | $4$ | $10$ |
| $4 \sim 5$ | $10$ | $40$ |
| $6 \sim 8$ | $15$ | $20$ |
| $9 \sim 12$ | $20$ | $300$ |
| $13 \sim 15$ | $50$ | $70$ |
| $16 \sim 18$ | $100$ | $40$ |
| $19 \sim 22$ | $400$ | $600$ |
| $23 \sim 25$ | ${10}^4$ | $50$ |

对于所有的数据，保证 $1 \le n \le {10}^4$，$1 \le a_i \le 600$。


---

---
title: "[THUPC 2022 初赛] 喵喵花園"
layout: "post"
diff: 省选/NOI-
pid: P8212
tag: ['计算几何', '2022', 'Special Judge', 'O2优化', '模拟退火', 'THUPC']
---
# [THUPC 2022 初赛] 喵喵花園
## 题目描述

喵喵是一只非常富有的猫咪，他在海淀区拥有一个大花园。

这个大花园是由一些旧栅栏为边界所形成的 $N$-gon（即具有 $N$ 边的多边形）。

由于圣诞节快到了，喵喵想用 $K$ 棵圣诞树来装饰一下花园。 同时，喵喵坚信找到一些好的位置来种树会给他带来好运。

作为一只好猫咪，他决定寻找最佳位置如下：

- 所有的树都应该在花园的边界上。
- 这些 $K$ 树应该平均划分花园的周长。
- 由树木形成的新凸面$K$-gon 的面积应尽可能小。

虽然喵喵比你有钱，但他没有你那么聪明。 因此，他给了你一些钱，让你帮他找出凸$K$-gon 的最小面积。
## 输入格式

第一行包含两个整数，$N$ 和 $K$，代表原本花园边界的顶点数和树的数量。

接下来的每行 $N$ 行包含两个整数 $x_i$ 和 $y_i$，表示花园边界顶点的坐标。

所有座标均为逆时针给出的。
## 输出格式

输出凸面 $K$-gon 的最小面积。 如果相对或绝对误差不超过 $10^{-8}$，则您的答案被认为是正确的。
## 样例

### 样例输入 #1
```
5 4
0 0
1 0
2 1
2 2
0 2
```
### 样例输出 #1
```
1.9892766953
```
### 样例输入 #2
```
3 3
0 0
1 0
0 1
```
### 样例输出 #2
```
0.1226170434
```
## 提示

【数据范围】

- $3 \le N, K \le 1000$；
- $-10^5 \le x_i, y_i \le 10^5$。


---

---
title: "「PFLOI R1」PFL 变换"
layout: "post"
diff: 省选/NOI-
pid: P9591
tag: ['洛谷原创', 'Special Judge', 'O2优化', '模拟退火', '构造', 'Ad-hoc', '分类讨论']
---
# 「PFLOI R1」PFL 变换
## 题目背景

五大高手云集于此，思想的火花激烈碰撞。很快，PFLOI Round 1 准备完毕。

开始了……
## 题目描述

新的征途已经开始：智力踏上了寻香蕉之旅。道路上共有 $n$ 个香蕉，编号从 $1$ 到 $n$。

智力看到如此美食，非常激动。但是智力不想吃得太饱或太少，所以它会吃**刚好** $m$ 个香蕉。

智力是一个挑剔的人，只有当它吃的 $m$ 个香蕉的编号的异或和**恰好为** $2^{\lfloor\log_2 n\rfloor+1}-1$ 时他才会满意。请你帮忙找出他应该吃哪些香蕉，好让他满意。

如果怎样都不能满足智力的需求，就请输出 `-1` 吧。

------------

**形式化题面**：

请你从 $1$ 到 $n$ 中选出 $m$ 个数，使得它们的异或和恰好为 $2^{\lfloor\log_2 n\rfloor+1}-1$。若无解输出 `-1`。
## 输入格式

**本题有多组数据**。

第一行一个整数 $T$，表示一共有 $T$ 组测试数据。

对于每组测试数据，每行两个整数 $n$ 和 $m$，含义见题面。
## 输出格式

对于每组测试数据，若有解，输出一行共 $m$ 个整数，表示你选择的 $m$ 个数；若无解，输出 `-1`。

**本题采用 Special Judge**。若有多种可能的解，任意输出一个即可。
## 样例

### 样例输入 #1
```
7
5 2
6 6
7 6
8 3
9 3
10 1
7 4
```
### 样例输出 #1
```
3 4
1 6 2 4 3 5 
1 2 3 4 5 6
8 6 1
8 1 6
-1
3 5 6 7
```
## 提示

**本题不采用捆绑测试**。

| 测试点编号 | 特殊性质 | 分值 |
| :----------: | :----------: | :-----:| 
| $1,2$ | $n\le15$ | $2\times4=8$ |
| $3\sim11 $ | $n\le128$ | $9\times3=27$ |
| $12\sim24 $ | $\sum n\le10^5$ | $13\times3=39$ |
| $25\sim29$ | 无特殊限制 | $5\times4=20$ |
| $30$ | 无特殊限制 | $1\times6=6$ |

对于所有数据，$1\le m\le n\le10^6$，$1\le\sum n,T\le10^6$。


---


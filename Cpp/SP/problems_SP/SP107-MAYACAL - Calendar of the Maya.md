---
title: "MAYACAL - Calendar of the Maya"
layout: "post"
diff: 难度0
pid: SP107
tag: []
---

# MAYACAL - Calendar of the Maya

## 题目描述

古典玛雅文明曾在今天的墨西哥南部、危地马拉、伯利兹和洪都拉斯北部繁荣发展。其鼎盛时期，他们创造了复杂的日历系统，用于记录历史和占卜仪式。这个日历系统包括三个部分：卓尔金历、哈布历和长历。

在占卜中，玛雅人使用卓尔金历，它由20个日名和1到13的数字系数组合而成，共有260种不同组合。这260天也被称为祭祀年。根据西班牙殖民的文献，我们知道日名包括：Imix, Ik, Akbal, Kan, Chikchan, Kimi, Manik, Lamat, Muluk, Ok, Chuen, Eb, Ben, Ix, Men, Kib, Kaban, Etznab, Kawak, Ajaw。日期顺序如下发展（例如从9 Imix开始）：

`9 Imix, 10 Ik, 11 Akbal, 12 Kan, 13 Chikchan, 1 Kimi, 2 Manik, ...`

哈布历是一种天文历法，一共有365天，分为19个月，前18个月每月20天，最后一个月Wayeb只有5天，被视为一年中不吉利的时段。在哈布历中，每个月都有一个1到20的数字表示该月中的天数。根据西班牙殖民资料，我们知道月名：Pohp, Wo, Sip, Zotz, Sek, Xul, Yaxkin, Mol, Chen, Yax, Sak, Keh, Mak, Kankin, Muan, Pax, Kayab, Kumku, Wayeb。

卓尔金历和哈布历可以结合形成历法循环，综合了卓尔金历的260天周期和哈布历的365天周期。铭文中的典型历法循环日期可能是3 Lamat 6 Pax。请注意，并非所有的天、月和系数的组合都是可能的。

历法循环中的日期顺序（例如从3 Lamat 6 Pax开始）：

```
3 Lamat 6 Pax, 4 Muluk 7 Pax, 5 Ok 8 Pax, 6 Chuen 9 Pax, 7 Eb 10 Pax, 
8 Ben 11 Pax, 9 Ix 12 Pax, 10 Men 13 Pax, 11 Kib 14 Pax, 12 Kaban 15 Pax, 
13 Etznab 16 Pax, 1 Kawak 17 Pax, 2 Ajaw 18 Pax, 3 Imix 19 Pax, 4 Ik 20 Pax, 
5 Akbal 1 Kayab, 6 Kan 2 Kayab, ...
```

在古典时期（公元200年至900年）之初，玛雅人发明了一种叫长历的绝对日历，它从一个过去的固定日期开始计数（根据他们的信仰，这是世界被创造之日）。在长历中，一个日期由一个五元组合成，形式为9.2.3.4.5，表示“自零日起9个巴克顿、2个卡敦、3个盾、4个维纳尔、5个金”。其中，一个金是一天，一个维纳尔是20天，一个盾由18个维纳尔（共360天）组成。接下来，每个单位都是20的倍数，因此一个卡敦是20个盾（约20年），一个巴克顿是20个卡敦（约400年）。9.2.3.4.5表示“从零日起9\*144000+2\*7200+3\*360+4\*20+5天”。对于长历日期b.k.t.w.i，条件是0 <= k < 20; 0 <= t < 20; 0 <= w < 18; 0 <= i < 20。由于历法循环周期性，一个合法的日期如3 Lamat 6 Pax在长历中可能会重复出现。因此，要解读铭文中仅使用历法循环的日期是有难度的。在这种情况下，需计算该历法循环的所有可能长历日期，并结合其他上下文信息判断哪个日期适用。

我们关注的范围是第8和第9巴克顿的长历日期（涵盖整个古典时期）。已知长历日期8.0.0.0.0对应历法循环9 Ajaw 3 Sip。

### 任务

编写一个程序，要求如下：
- 读取一个历法循环日期，
- 如果该日期合法，计算出第8和第9巴克顿中对应该日期的所有长历日期，
- 输出计算结果。

## 输入格式

输入的第一行是一个正整数d，表示数据集数量，1 <= d <= 30。接下来的每个数据集中，包含一行，描述一个历法循环日期（可能不合法）。卓尔金日数、卓尔金日名、哈布日数和哈布月名之间用空格分隔。

## 输出格式

对于每个数据集，输出一个递增顺序的长历日期序列，每个日期是给定历法循环日期计算得到的。输出的第一行应为整数n，表示序列长度（若日期不合法，n为0）。

接下来的n行，每行应为一个长历日期，用5个整数表示（分别为巴克顿、卡敦、盾、维纳尔和金的数量），整数之间用点分隔。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
2 
3 Lamat 6 Pax 
1 Ajaw 9 Chen
```

### 输出

```
15 
8.0.17.17.8 
8.3.10.12.8 
8.6.3.7.8 
8.8.16.2.8 
8.11.8.15.8 
8.14.1.10.8 
8.16.14.5.8 
8.19.7.0.8 
9.1.19.13.8 
9.4.12.8.8 
9.7.5.3.8 
9.9.17.16.8 
9.12.10.11.8 
9.15.3.6.8 
9.17.16.1.8 
0
```


---
title: "CFRAC2 - Continuous Fractions Again"
layout: "post"
diff: 难度0
pid: SP1285
tag: []
---

# CFRAC2 - Continuous Fractions Again

## 题目描述

一个简单的连分数可以表示为：

$$
a_1 + \cfrac{1}{a_2 + \cfrac{1}{a_3 + \cfrac{1}{\ddots + \cfrac{1}{a_n}}}}
$$

其中 $a_i$ 是整数。

这种连分数可以写成 $[a_1, a_2, \ldots, a_n]$ 这一形式。可以证明，对于任何有理数 $\frac{p}{q}$，其中 $p > q > 0$ 且 $p$ 和 $q$ 均为整数，存在唯一的简单连分数使其能够表示为 $[a_1, a_2, \ldots, a_{n-1}, 1]$，这里 $n$ 和 $a_i$ 都是正整数。

现在，给定一个简单的连分数，您的任务是求出与该连分数对应的有理数。

## 输入格式

每组输入由多行组成。第一行包含两个整数 $m$ 和 $n$，定义一个字符矩阵。接下来的 $m$ 行中，每行含有 $n$ 个字符，该字符矩阵描述了一个连分数。描述规则如下：

1. 横线用短横线 `-` 表示。
2. 每条横线的宽度等同于其下方分母的宽度。
3. 空白字符用点 `.` 表示。
4. 分数的分子需要居中对齐，即尽量保证两边的空格数相等；如果不能等，则右侧多一个空格。

输入结束的标志是一行内容为 `0 0`。

## 输出格式

输出由若干行组成，每行表示一组输入的结果，包含两个用空格分隔的整数 $p$ 和 $q$，假设 $10^{20} > p > q > 0$。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
9 17
..........1......
2.+.-------------
............1....
....4.+.---------
..............1..
........1.+.-----
................1
............5.+.-
................1
5 10
......1...
1.+.------
.........1
....11.+.-
.........1
0 0
```

### 输出

```
75 34
13 12
```


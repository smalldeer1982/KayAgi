---
title: "ANALYSER - Program Analyser"
layout: "post"
diff: 难度0
pid: SP1455
tag: []
---

# ANALYSER - Program Analyser

## 题目描述

你需要处理一个特定格式的程序：

```
<程序>::=<语句><换行>{<语句><换行>}
<语句>::=<层级><空格><主体>
<主体>::=<加法> | <输出> | <跳转> | <条件> | <结束>
<加法>::=<变量>+<整数>
<输出>::=<变量>?
<跳转>::=GO<空格><层级>
<条件>::=IF<空格><变量>=<整数><空格><跳转>
<结束>::=END
<变量>::=<字符>
<层级>::=<整数>
<整数>::=<数字>{<数字>}
<字符>::=A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z
<数字>::=0|1|2|3|4|5|6|7|8|9
<换行>::=(ASCII 10)
<空格>::=(ASCII 32)
```

程序根据以下规则运行：

- 从层级最低的语句开始逐行执行，逐步向上，除非遇到<跳转>或<条件>。
- 所有变量在初始时均为 0。
- <加法>表示将<整数>加到<变量>上，类似于 `+=` 操作。
- <输出>表示输出当前<变量>的值。（实际输出目标无关紧要，只需了解这类操作。）
- <条件>表示当且仅当<变量>的值等于<整数>时，执行<跳转>指令。否则，按正常顺序执行下一个语句。
- <跳转>表示下一条执行的语句是指定层级对应的语句。
- 当遇到<结束>时，程序自终止。

在执行过程中，所有涉及的数值均在有符号 32 位整数范围内。

## 输出格式

输出程序执行过的语句总数。如果程序无法自行结束，输出 -1。

## 说明/提示

- 变量的值范围为 $0 \leq \text{变量的值} \leq 2^{31}-1$
- 语句总数不超过 100 行
- 每行长度不超过 20 个字符
- 任一层级不超过 3000

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
10 A+1
20 IF A=5 GO 60
60 END
30 A+2
40 A?
50 GO 20
```

### 输出

```
11

Hint:
10->20->30->40->50->20->30->40->50->20->60
```


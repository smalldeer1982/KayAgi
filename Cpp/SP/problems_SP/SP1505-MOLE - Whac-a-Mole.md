---
title: "MOLE - Whac-a-Mole"
layout: "post"
diff: 难度0
pid: SP1505
tag: []
---

# MOLE - Whac-a-Mole

## 题目描述

![地图](https://cdn.luogu.com.cn/upload/vjudge_pic/SP1505/9f15d2b70a2598f88b63358ff924f5a3c3e670e1.png) 在某个巡回游乐场中，你突然萌生了一个念头，想要挑战打地鼠游戏的最高分。这个游戏的目标就是用锤子打中地鼠。为了提高成功率，你去询问了占卜师，因此你知道了地鼠具体的出现模式。地鼠会从二维坐标系中满足 $0 \le x, y < n$ 的 $n^2$ 个整数点 $(x, y)$ 中的任意洞口冒出来。

每一时间单位会有一些地鼠出现，它们会在下一个时间单位之前消失。在地鼠还未消失时，你可以将锤子从当前坐标 $(x_1, y_1)$ 移动到一个距离不超过 $d$ 的新位置 $(x_2, y_2)$。为简化问题，我们假定你只能移动到整数坐标的点。如果地鼠所在洞口的中心在 $(x_1, y_1)$ 和 $(x_2, y_2)$ 之间的直线上（包括端点），那么你可以打中那只地鼠，并获得一分。游戏最开始时，你可以将锤子放置在你认为合适的任何位置。

## 输入格式

输入包括多个测试用例。每个测试用例的第一行包含三个整数 $n$、$d$ 和 $m$，其中 $n$ 和 $d$ 如上所述，$m$ 表示总共会出现的地鼠数量（$1 \le n \le 20$，$1 \le d \le 5$，且 $1 \le m \le 1000$）。接下来的 $m$ 行中，每行包含三个整数 $x$、$y$ 和 $t$，表示地鼠的出现位置和时间（$0 \le x, y < n$ 且 $1 \le t \le 10$）。保证不会有两只地鼠同时出现在同一位置。当出现 $n = d = m = 0$ 时，输入结束，此测试用例不需处理。

## 输出格式

对于每个测试用例，输出一行，表示可能获得的最大得分。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
4 2 6
0 0 1
3 1 3
0 1 2
0 2 2
1 0 2
2 0 2
5 4 3
0 0 1
1 2 1
2 4 1
0 0 0
```

### 输出

```
4
2
```


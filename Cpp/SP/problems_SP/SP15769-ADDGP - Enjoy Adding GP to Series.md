---
title: "ADDGP - Enjoy Adding GP to Series"
layout: "post"
diff: 难度0
pid: SP15769
tag: []
---

# ADDGP - Enjoy Adding GP to Series

## 题目描述

你最初拥有一个大小为 **N**（$N \le 100000$）的空数组，初始时每个元素都是 0。

现在给定一个整数 $R$，满足 $2 \le R \le 10^9$。

接下来有三种查询操作：

1. `0 St i1 i2`：从索引 $i1$ 开始，到索引 $i2$ 结束，依次给数组位置加上一个等比数列，其首项为 $St$，公比为 $R$。具体来说，第 $i1$ 位置加 $St$，第 $i1+1$ 位置加 $St \times R$，依此类推。
2. `1 i j`：计算数组从索引 $i$ 到索引 $j$ 的元素之和，并对 $1000000007$ 取模，输出结果。
3. `2 i`：将数组索引 $i$ 处的数值重置为 0。

## 输入格式

第一行输入三个整数 **N**、**R** 和 **Q**。  
接下来的 **Q** 行，每一行是上述三种查询之一。

## 输出格式

对于每一个类型为第二种的查询，输出相应的结果。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
\n2 2 3\n0 2 1 2\n1 1 2\n1 2 2\n\n
```

### 输出

```
\n6\n4
```


---
title: "PALSEC - Choosing a Palindromic Sequence"
layout: "post"
diff: 难度0
pid: SP160
tag: []
---

# PALSEC - Choosing a Palindromic Sequence

## 题目描述

给定两个单词序列：$X = (x_1, \ldots, x_n)$ 和 $Y = (y_1, \ldots, y_n)$。请你计算有多少个二进制序列 $P = (p_1, \ldots, p_n)$ 满足以下条件：由这些序列生成的单词串 $z_1 z_2 \ldots z_n$ 是一个回文串。其中，对于每个位置 $i$，当 $p_i = 1$ 时，$z_i = x_i$；当 $p_i = 0$ 时，$z_i = y_i$。一个回文串是指从左到右和从右到左读都相同的字符串。

## 输入格式

输入的第一行为整数 $t$，表示测试样例的数量。接下来有 $t$ 组测试样例。

对于每个测试样例，第一行是一个整数 $n$，表示序列中的单词数量（$1 \leq n \leq 30$）。接下来的 $n$ 行分别包含序列 $X$ 的单词，每行一个单词。然后紧接着的 $n$ 行分别是序列 $Y$ 的单词，每行一个单词。所有的单词都由小写字母组成，且非空，长度不超过 400 个字符。

## 输出格式

对于每个测试样例，输出一个整数，表示满足条件的不同的二进制序列 $P$ 的数量。

## 数据范围
1 ≤ $t$ ≤ 10  
1 ≤ $n$ ≤ 30

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
1
5
ab
a
a
ab
a
a
baaaa
a
a
ba
```

### 输出

```
12
```


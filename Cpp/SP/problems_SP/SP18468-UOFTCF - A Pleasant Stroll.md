---
title: "UOFTCF - A Pleasant Stroll"
layout: "post"
diff: 难度0
pid: SP18468
tag: []
---

# UOFTCF - A Pleasant Stroll

## 题目描述

今晚，Alice 和 Bob 决定一起出去散步。途中，他们会经过 $S$（1 ≤ $S$ ≤ 50）段不同的人行道。因为没有了外界干扰，Bob 很期待能牵 Alice 的手，但这可能会受到沿途障碍物的影响。

每段人行道可以被简化为一个二维网格，其中有 $R$（1 ≤ $R$ ≤ 50）行和 $C$（1 ≤ $C$ ≤ 50）列。第 $i$ 行第 $j$ 列的格子称为 $(i, j)$ 格。每个格子要么是可以行走的（用 "." 表示），要么是被狗粪阻挡的（用 "#" 表示）。Alice 和 Bob 会各自独立地沿人行道向南走，每秒钟下移一行。他们不会穿越任何被狗粪阻挡的格子，也不会站在同一个格子上。两人可以从第一行的任意格子开始，每秒钟不仅必须下移一行，还可以选择左右横移一列。也就是说，如果 Alice 或 Bob 在 $(i, j)$ 格，他们可以移动到 $(i+1, j-1)$、$(i+1, j)$ 或 $(i+1, j+1)$，前提是他们没有走出网格。当他们到达第 $R$ 行时，他们将离开这段人行道，前往下一段。如果他们无法同时到达末行，则需要绕行。

在行进过程中，只要 Alice 和 Bob 并排站在（即在同一行的相邻格子中），他们就可以抓住机会牵手一秒钟！Bob 想知道怎么才能安排路线，使他们能尽可能多地牵手。

## 输入格式

第一行：1 个整数 $S$

**对于每段人行道：**

第一行：2 个整数 $R$ 和 $C$

接下来 $R$ 行：每行 $C$ 个字符，表示人行道网格的第 $i$ 行，$i=1..R$

## 输出格式

**对于每段人行道：**

输出 1 个整数，表示 Alice 和 Bob 可以牵手的最长秒数；如果无论怎样都不能同时到达终点，输出字符串 "Detour"。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
2\n5 5\n#....\n..##.\n.#...\n#.#..\n....#\n2 4\n.##.\n..##&nbsp;
```

### 输出

```

```


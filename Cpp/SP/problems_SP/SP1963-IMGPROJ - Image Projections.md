---
title: "IMGPROJ - Image Projections"
layout: "post"
diff: 难度0
pid: SP1963
tag: []
---

# IMGPROJ - Image Projections

## 题目描述

给定一个图像 $I$，其尺寸为 $M$ 行 $N$ 列。我们需要计算图像的对角线投影，这个投影表示为一个向量 $(d_1, d_2, \ldots, d_{M+N-1})$。其中，$d_i = \sum_{x+y-1=i} I(x,y)$，而 $I(x,y)$ 表示第 $x$ 列、第 $y$ 行的位置处的图像强度（一个在 0 到 255 之间的整数值）。

你需要为每张给定的图像计算其对角线投影。

## 输入格式

首行输入一个正整数，表示接下来图像的数量。对于每张图像，第一行会给出两个整数 $N$ 和 $M$。接下来的 $M$ 行分别描述每行的内容，起始自第 1 行。每行用游程编码来描述，一对对数字间以空格分隔。每对中，前一个数字表示连续段的长度，后一个数字为该段的图像强度。显然，每行的所有连续段长度之和等于 $N$。每两个图像间及第一个图像前都有一个空行。

测试数据最多包含 10 个图像。每张图像的宽度小于 $10^9$，高度小于 $10^3$，且输入文件的总大小不会超过 4 MB。

## 输出格式

对于每张图像，输出一个包含其对角线投影的游程编码行。输出的行数需与输入中的图像数相同。每行内的数字间需以一个空格分隔。

在输出游程编码时，要求连续段尽可能长，不能出现两个相邻段的图像强度值相同。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
2

3 3
1 1 1 2 1 3
1 1 1 2 1 3
1 3 1 2 1 1

3 2
3 1
3 1
```

### 输出

```
1 1 1 3 1 8 1 5 1 1
1 1 2 2 1 1
```


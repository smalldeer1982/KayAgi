---
title: "CQM1TREE - Paths in a Tree"
layout: "post"
diff: 难度0
pid: SP22528
tag: []
---

# CQM1TREE - Paths in a Tree

## 题目描述

有一棵树和一个边集 **K**，要求计算包含 **K** 中所有边的不同路径的总数。若路径的端点不同，则认为是不同的路径。此外，一条路径如 (1->2->3) 与 (3->2->1) 被认为是相同的。

路径由一系列连接不同节点的边构成。

## 输入格式

第一行是测试用例的数量 **T**（$\le 100$）。
接下来有 **T** 个测试用例。
每个测试用例包含以下内容：
- 第一行有两个整数 **n** 和 **k**，分别表示节点的数量和边集的大小（$1 \le n \le 2 \times 10^4, k \le n-1$）。
- 接下来的 **n-1** 行中，每行描述一条连接节点 **u** 和 **v** 的边。
- 节点编号从 1 到 **n**。
- 最后一行包含 **k** 个用空格分隔的索引（从 0 开始，按输入顺序），这些索引对应的是边集中的边。

## 输出格式

对于每个测试用例，输出一个整数，表示由边集中的所有边构成的不同路径的总数。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
3 \n2 1 \n1 2 \n0 \n3 1 \n1 2 \n2 3 \n1 \n7 3 \n1 6 \n1 2 \n1 5 \n2 4 \n4 7 \n2 3 \n0 5 4
```

### 输出

```
1 \n2 \n0
```


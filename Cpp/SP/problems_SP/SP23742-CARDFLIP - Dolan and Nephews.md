---
title: "CARDFLIP - Dolan and Nephews"
layout: "post"
diff: 难度0
pid: SP23742
tag: []
---

# CARDFLIP - Dolan and Nephews

## 题目描述

Dolan 有一叠卡片，从上到下编号依次为 1 到 n。他的侄子们对这些卡片很感兴趣，并准备进行一些操作。每个侄子只能执行一种特定的操作：

- 侄子 1：他会将第 $i$ 到第 $j$ 张卡片之间的顺序反转。

- 侄子 2：他会询问 Dolan，第 $i$ 张卡片上的编号是多少。

- 侄子 3：他会询问 Dolan，编号为 $i$ 的卡片现在在哪个位置。

Dolan 作为一个尽责的好叔叔，需要准确回答这些问题。请帮助 Dolan 处理这些问题。

## 输入格式

输入的第一行包含两个整数 $n$ 和 $q$，分别表示卡片的数量（$n < 100000$）和操作次数（$q < 100000$）。接下来的 $q$ 行描述每个操作，每行由若干整数组成。

对于每个操作，第一位数字表示侄子的编号，接下来的一个或两个数字则是操作中涉及的位置 $i$（和 $j$），满足 $1 \le i < j \le n$。

## 输出格式

对于每个侄子 2 和侄子 3 提出的询问，输出对应的答案，一行一个。

## 说明/提示

- $n < 100000$
- $q < 100000$
- $1 \le i < j \le n$

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
10 5\n1 2 6\n2 5\n1 4 9\n3 4\n2 4&nbsp;
```

### 输出

```
3\n9\n9&nbsp;
```


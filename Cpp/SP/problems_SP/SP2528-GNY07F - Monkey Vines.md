---
title: "GNY07F - Monkey Vines"
layout: "post"
diff: 难度0
pid: SP2528
tag: []
---

# GNY07F - Monkey Vines

## 题目描述

在亚马逊丛林的深处，生长着一些异常高大的树木，它们支撑着丰富的无花果和杜松子虫生物群落，这些恰好是棕色猴子的美食。

为了到达这些树木的树冠，猴子们需要通过高大树木脆弱的藤蔓系统进行仔细的导航。这些藤蔓像跷跷板一样运作：藤蔓连接点的重量失衡会导致藤蔓从树上断裂，猴子们会坠落到下面的丛林地面上。猴子们已经发现，如果它们齐心协力保持藤蔓的平衡，它们就可以在树木的树冠上尽情享用无花果和杜松子虫。

一个**藤蔓连接点**支持恰好两个**子藤蔓**，每个子藤蔓必须包含相同数量的猴子，否则藤蔓会断裂，留下一堆死猴子在丛林地面上。为了这个问题的目的，一个**藤蔓连接点**由一对匹配的方括号 \[ \]表示，其中可能包含有关其子藤蔓的嵌套信息。藤蔓的嵌套深度不会超过 $ 25 $ 层。

![藤蔓结构图](https://cdn.luogu.com.cn/upload/vjudge_pic/SP2528/e4fc0930824f1792cfca17d1699513d8e92add88.png) 

你需要编写一个程序来计算平衡特定藤蔓配置所需的**最小**猴子数量。**总是**至少需要一只猴子，而且，多个猴子可以挂在同一根藤蔓上。

## 输入格式

输入的第一行包含一个整数 $ N $，表示数据集的数量。每个数据集由一行输入组成，包含一个由 \[ 和 \] 字符组成的藤蔓配置字符串，如上所述。 \[ 和 \] 字符串的长度将大于或等于零，且小于或等于 $ 150 $ 。

## 输出格式

对于每个数据集，你应该生成一行输出，包含以下值：数据集编号（从一开始计数），一个空格，以及成功到达树冠所需的最小猴子数量。假设所有悬挂的藤蔓都可以从丛林地面到达，并且所有猴子同时跳上藤蔓。

by @[Justskr](https://www.luogu.com.cn/user/772284)

## 样例 #1

### 输入

```
3
[]

[[][[]]]
```

### 输出

```
1 2
2 1
3 8
```


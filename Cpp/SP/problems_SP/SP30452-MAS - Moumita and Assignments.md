---
title: "MAS - Moumita and Assignments"
layout: "post"
diff: 难度0
pid: SP30452
tag: []
---

# MAS - Moumita and Assignments

## 题目描述

Moumita 特别不喜欢做作业。每当她被布置了作业，她就会感到无能为力，甚至有摧毁世界的冲动。不巧的是，她目前有一份急需完成的作业。由于不知如何解决，她正计划摧毁一切。你能帮她解开这道难题，从而拯救世界吗？

这份作业要求如下：给定一个包含 $n$ 个元素的数组 $A$，以及一个函数 $F(A)$，函数定义为：

$$
F(A) = \left( \sum_{i=1}^{n-1} \sum_{j=i+1}^{n} (A_i + A_j)^2 \right) \mod 2,760,727,302,517
$$

你需要完成 $Q$ 次查询，查询类型如下：

1. `1 x v` 表示将 $A[x]$ 的值设为 $v$。
2. `2 x v` 表示在 $A[x]$ 上增加 $v$，相当于 $A[x] = A[x] + v$。
3. `3` 表示计算当前数组的函数值 $F(A)$，并将其输出。

## 输入格式

输入由一个整数 $T$ 开头，表示测试用例的总数。

每个测试用例的第一行包含两个整数 $n$ 和 $Q$。接下来的一行提供了 $n$ 个整数，这些整数用空格分隔表示数组 $A$ 的初始值。

接下来的 $Q$ 行中，每行代表一条查询，格式如前所述。

## 输出格式

对于每一个测试用例，首先输出 "Case #x:"，其中 $x$ 是当前测试用例的编号。随后，对每个类型 3 的查询，输出其对应的 $F(A)$ 值，每个值单独占一行。请参考示例以获得更多输出格式。

## 说明/提示

- $1 \le T \le 10$
- $1 \le n \le 10^5$
- $1 \le Q \le 10^5$
- $0 \le A[i] \le 10^9$
- $1 \le x \le n$
- $0 \le v \le 10^9$

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
1
3 5\n1 2 3
3\n1 1 5
3
2 3 6
3
```

### 输出

```
Case 1:
6
14
74
```


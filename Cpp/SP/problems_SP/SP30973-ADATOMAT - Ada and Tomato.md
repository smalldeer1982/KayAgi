---
title: "ADATOMAT - Ada and Tomato"
layout: "post"
diff: 难度0
pid: SP30973
tag: []
---

# ADATOMAT - Ada and Tomato

## 题目描述

Ada the Ladybug 是一个种植番茄的农夫。她在田里种了许多番茄，长成长长的一条垄。在收获日，她将所有番茄采摘下来，按大小从小到大排序，并为每个番茄进行编号（从 1 开始）。她以“大小乘以编号”的规则为每个番茄定价并出售。她想知道，如果卖出所有番茄，她最终能赚多少钱。

因为大自然真是奇妙无比（并且 Ada 是一名高超的数学家），她发现了番茄大小的变化规律。这个规律是这样的：假设当前番茄的大小是 $X_i$，那么下一个番茄的大小 $X_{i+1}$ 可以通过公式 $X_{i+1} = X_i \cdot a + b \bmod M$ 计算得到。其中模数 $M$ 是 $10^9 + 7$（即 1000000007）。

## 输入格式

第一行包含一个整数，表示测试用例的数量。

每一个测试用例由四个整数 $N, a, b, X_1$ 组成：

- $N$ 表示番茄的数量。
- $a, b, X_1$ 这些参数用于上述大小规律的计算（$X_1$ 是第一个番茄的大小）。

所有测试用例中 $N$ 的总和不超过 $5 \times 10^7$。

## 输出格式

对于每个测试用例，计算并输出所有番茄出售价格之和对 $10^9 + 7$ 取模的结果。

 **本翻译由 AI 自动生成**


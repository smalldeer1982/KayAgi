---
title: "KGSS - Maximum Sum"
layout: "post"
diff: 普及+/提高
pid: SP3693
tag: []
---

# KGSS - Maximum Sum

## 题目描述

给你一串序列$A_1,A_2,A_3,...$($0 \leq A_i \leq 10^8$ , $2 ≤ N ≤ 10^5$). 

现在有两种操作，定义如下：

1. `U i x`, ($1 ≤ i ≤ N, and x, 0 ≤ x ≤ 10^8$).

  这个操作将$A_i$的值设为$x$.

2. `Q x y`, $1 ≤ x < y ≤ N$.

  你需要找到$i$和$j$满足$x \leq i,j \leq y$，$i ≠ j$并且$A_i+A_j$最大。输出$A_i+A_j$的值。

## 输入格式

第一行输入一个整数$N$，表示序列的长度

接下来的一行输入$N$个用空格分隔的整数$A_i$

接下来的一行包含一个整数$Q$，$Q \leq 10^5$。表示进行的操作数量

接下来的$Q$行每一行包含一个操作。

## 输出格式

对于每个Q操作，输出上面提到的$A_i+A_j$的值。

## 样例1

### 样例输入

```
5
1 2 3 4 5
6
Q 2 4
Q 2 5
U 1 6
Q 1 5
U 1 7
Q 1 5
```

### 样例输出

```
7
9
11
12
```

警告：输入数据比较庞大，某些语言的用户请当心。


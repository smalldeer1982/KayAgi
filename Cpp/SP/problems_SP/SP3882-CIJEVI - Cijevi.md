---
title: "CIJEVI - Cijevi"
layout: "post"
diff: 普及+/提高
pid: SP3882
tag: ['模拟']
---

# CIJEVI - Cijevi

## 题目描述

为了设计从俄罗斯向克罗地亚输送天然气的新管道，萨格勒布和莫斯科正在使用一款名为《管道狂人》的电脑游戏。在该游戏中，欧洲被划分为 $R$ 行 $C$ 列的网格。每个小格子可能是空的，或者包含下图中的7种基本管道构建块之一：

![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP3882/678f6ebd902db14c54549869b81af41b0e76e108.png)

天然气从莫斯科流向萨格勒布，可以双向通过这些构建块流动。特别地，构建块 '+' 必须在垂直和水平方向上都能导通，如下所示：

![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP3882/ed558c8ede3b8c091a8e0b6d010d1a23c7e411a2.png)

在新的管道实施计划中，有人恶意删除了一个构建块，将其变成了一个空单元格。

请编写一个程序，找出被删除的构建块位置及其类型。

## 输入格式

第一行包含两个整数 $R$ 和 $C$，表示欧洲地图的行数和列数（$1 \le R, C \le 100$）。

接下来的 $R$ 行表示管道布局，每行包含恰好 $C$ 个字符，表示不同的内容：

- '.'（句点），表示空单元格；
- '|' （竖线）、'-'、'+'、'1'、'2'、'3'、'4'，表示构建块类型；
- 'M' 和 'Z'，分别代表莫斯科和萨格勒布。每个字母在布局中仅出现一次。

管道的天然气流向在输入数据中是唯一确定的；每个构建块的一端仅连接到莫斯科或萨格勒布之一。此外，所有构建块在填补缺失块之后必须全部被使用。

输入保证有且仅有一个解决方案。

## 输出格式

输出需被恢复的构建块的行和列位置，以及其类型（7种构建块中的一种）。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
3 7
.......
.M-.-Z.
.......
```

### 输出

```
2 4 -


Input
3 5
..1-M
1-+..
Z.23.

Output
2 4 4


Input
6 10
Z.1----4..
|.|....|..
|..14..M..
2-+++4....
..2323....
..........

Output
3 3 |
```


---
title: "HIGHWAY1 - Highway"
layout: "post"
diff: 难度0
pid: SP4414
tag: []
---

# HIGHWAY1 - Highway

## 题目描述

每天都有数百辆卡车穿行于高速公路上，其中某些卡车载重量可达数吨，因而可能会对公路造成损坏。为了维护公路的正常使用，管理部门发明了一种维修车，以保证车辆能够正常通过。

高速公路拥有一个初始耐久度。当一辆载有 $x$ 吨货物的卡车通过时，公路的耐久度会减少 $x$。如果耐久度降至零或以下，公路便会损坏且无法修复，同时不允许卡车通过。

有两种维修车：
- 一种是 T1 类型，能够将公路的耐久度提升 $r$。
- 另一种是 T2 类型，能够将公路的耐久度提升至特定值 $p$，前提是当前耐久度低于 $p$。尽管维修车可以经过已损坏的路段，但这些路段无法被修复。

## 输入格式

输入包含多组测试数据。

每组数据的第一行包含三个整数 $N$（$1 \le N \le 100000$）、$M$（$1 \le M \le 100000$）和 $I$（$1 \le I \le 1000$），分别表示高速公路的长度、车辆数量和初始耐久度。

接下来的 $M$ 行中，每行描述了车辆的信息：
- 格式 `1 s t d` 表示有一辆载重 $d$ 吨的卡车想要经过区间 $[s, t]$。需要检查这辆卡车是否可以通过这个区间。注意，如果卡车不能顺利通过整个区间，则它放弃通行；如果能通过，则不论通行后公路是否损坏，卡车都能顺利通过。
- 格式 `2 s t r` 表示一辆 T1 维修车将通过区间 $[s, t]$，并将其耐久度增加 $r$。
- 格式 `3 s t p` 表示一辆 T2 维修车将通过区间 $[s, t]$，并将其耐久度提升至 $p$。

假设 $1 \le s \le t \le N$，$1 \le d, p, r \le 1000$。

输入以 $N = M = I = 0$ 结束。

## 输出格式

对于每组测试数据，输出能够成功通过区间的卡车总数。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
5 5 5
1 1 3 3
2 2 3 10
1 1 3 3
1 1 3 1
1 2 3 1
5 3 10
1 1 2 5
1 2 3 5
1 1 3 5
0 0 0
```

### 输出

```
3
2
```


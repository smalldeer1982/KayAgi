---
title: "JARA - Jara&#8217;s Legacy"
layout: "post"
diff: 难度0
pid: SP7427
tag: []
---

# JARA - Jara&#8217;s Legacy

## 题目描述

Victor Jara 是智利的一位教师、戏剧导演和政治活动家。他因其诗歌和歌曲创作才华而闻名，其中最著名的作品可能是歌曲《A Desalambrar》，歌曲名源于西班牙语，意思是“拆除铁丝网”。在这首歌中，Jara 认为土地的合法拥有者应该是人民，因此围绕私有财产的铁丝网应该被拆除，让所有人都能自由进入。尽管 Jara 的主张尚未实现，但他的部分忠实听众仍在致力于推动实现这个目标。由于他们面临许多阻力，他们尝试通过仅切割必要的围栏来提高效率。

在平面上，每道围栏可以建模为连接两个端点的线段，这些端点也是围栏的一部分。如果对围栏进行切割，将会移除围栏上的一个连续部分，但不会包括端点。

只有当对于任意两个不在围栏上的点，存在一条不穿越任何围栏的路径（这条路径不必是直线）可以连接这两点时，这个区域才被认为是自由的。

根据围栏的位置，你需要计算最少需要切割的围栏数量，使得这个区域变得自由。

## 输入格式

每个测试用例由多行组成。第一行包含一个整数 $N$，表示区域内围栏的数量（$1 \le N \le 10^3$）。接下来的 $N$ 行中，每行描述一道围栏，包含四个整数 $X_0, Y_0, X_1, Y_1$（$-10^4 \le X_0, Y_0, X_1, Y_1 \le 10^4$），这表示在 XY 平面上有道围栏，其端点为 $(X_0, Y_0)$ 和 $(X_1, Y_1)$。可以假设每道围栏的两个端点是不同的。此外，在每个测试用例中，任何两道围栏的交点要么不存在，要么是这两道围栏的公共端点。输入以一行单独的 $-1$ 作为结束标志。

## 输出格式

对于每个测试用例，输出一行，包含一个整数，表示需要切割的最少围栏数量，以使区域变得自由。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
\n9\n-50 0 0 0\n0 0 50 0\n-50 0 0 50\n0 50 50 0\n-50 0 0 -50\n0 -50 50 0\n0 0 0 -50\n0 -50 50 -50\n50 -50 50 0\n2\n0 1 2 3\n0 0 2 2\n-1
\n
```

### 输出

```
\n4\n0
```


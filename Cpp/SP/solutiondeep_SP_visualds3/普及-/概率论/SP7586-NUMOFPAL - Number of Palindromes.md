# é¢˜ç›®ä¿¡æ¯

# NUMOFPAL - Number of Palindromes

## é¢˜ç›®æè¿°

Each palindrome can be always created from the other palindromes, if a single character is also a palindrome. For example, the string "malayalam" can be created by some ways:

  
\* malayalam = m + ala + y + ala + m  
\* malayalam = m + a + l + aya + l + a + m  
  
We want to take the value of function NumPal(s) which is the number of different palindromes that can be created using the string S by the above method. If the same palindrome occurs more than once then all of them should be counted separately.

## è¯´æ˜/æç¤º

**Limitations**

0 < |s| <= 1000

## æ ·ä¾‹ #1

### è¾“å…¥

```
malayalam```

### è¾“å‡º

```
15```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šNumber of Palindromes æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šå­—ç¬¦ä¸²å¤„ç†ï¼ˆå›æ–‡å­ä¸²è®¡æ•°ï¼‰

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
é¢˜ç›®è¦æ±‚è®¡ç®—å­—ç¬¦ä¸²ä¸­æ‰€æœ‰**ä¸åŒå›æ–‡å­ä¸²çš„æ•°é‡**ï¼ˆå•å­—ç¬¦ä¹Ÿç®—å›æ–‡ï¼‰ã€‚æ¯”å¦‚â€œmalayalamâ€æœ‰15ä¸ªå›æ–‡å­ä¸²ï¼ŒåŒ…æ‹¬â€œmâ€ã€â€œaâ€ã€â€œalaâ€ç­‰ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒæ˜¯**é«˜æ•ˆè¯†åˆ«æ‰€æœ‰å›æ–‡å­ä¸²**ï¼Œå¸¸è§æ–¹æ³•æœ‰ï¼š  
- **æš´åŠ›æšä¸¾**ï¼šåˆ†å¥‡å¶é•¿åº¦ï¼Œé€ä¸ªæ£€æŸ¥æ¯ä¸ªå¯èƒ½çš„å­ä¸²ï¼ˆO(nÂ²)ï¼‰ï¼›  
- **é©¬æ‹‰è½¦ç®—æ³•ï¼ˆManacherï¼‰**ï¼šé€šè¿‡é¢„å¤„ç†å°†å¥‡å¶å›æ–‡ç»Ÿä¸€ï¼Œçº¿æ€§æ—¶é—´ï¼ˆO(n)ï¼‰è®¡ç®—æ‰€æœ‰å›æ–‡åŠå¾„ï¼›  
- **å“ˆå¸Œæ³•**ï¼šé€šè¿‡æ­£åå“ˆå¸Œæ¯”è¾ƒå­ä¸²æ˜¯å¦å›æ–‡ï¼ˆO(nÂ²)ï¼‰ï¼›  
- **å›æ–‡è‡ªåŠ¨æœºï¼ˆPAMï¼‰**ï¼šä¸“é—¨å¤„ç†å›æ–‡å­ä¸²çš„é«˜æ•ˆæ•°æ®ç»“æ„ï¼ˆO(n)ï¼‰ã€‚  

å…¶ä¸­ï¼Œ**é©¬æ‹‰è½¦ç®—æ³•**æ˜¯æœ¬é¢˜çš„â€œæœ€ä¼˜è§£â€â€”â€”å®ƒé€šè¿‡åœ¨å­—ç¬¦é—´æ’å…¥`#`ï¼ˆå¦‚â€œabcâ€å˜ä¸ºâ€œ#a#b#c#â€ï¼‰ï¼Œå°†æ‰€æœ‰å›æ–‡å˜ä¸ºå¥‡æ•°é•¿åº¦ï¼Œç„¶åç”¨â€œé›·è¾¾æ‰«æâ€çš„æ–¹å¼ï¼Œçº¿æ€§æ—¶é—´è®¡ç®—æ¯ä¸ªä½ç½®çš„å›æ–‡åŠå¾„ï¼ˆå³ä»ä¸­å¿ƒå‘ä¸¤è¾¹æ‰©å±•çš„æœ€å¤§é•¿åº¦ï¼‰ã€‚æ¯ä¸ªä½ç½®çš„å›æ–‡å­ä¸²æ•°é‡ç­‰äº**å›æ–‡åŠå¾„//2**ï¼Œç´¯åŠ å³å¯å¾—åˆ°ç­”æ¡ˆã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
ç”¨8ä½åƒç´ é£æ ¼å±•ç¤ºé©¬æ‹‰è½¦ç®—æ³•çš„è¿‡ç¨‹ï¼š  
- é¢„å¤„ç†åçš„å­—ç¬¦ä¸²ï¼ˆå¦‚â€œ#m#a#l#a#y#a#l#a#m#â€ï¼‰ç”¨åƒç´ å—æ’åˆ—ï¼›  
- å½“å‰å¤„ç†çš„ä½ç½®ç”¨**çº¢è‰²é—ªçƒ**æ ‡è®°ï¼Œå›æ–‡åŠå¾„ç”¨**è“è‰²æ–¹å—**æ‰©å±•ï¼›  
- `MaxRight`ï¼ˆå½“å‰å·²çŸ¥å›æ–‡çš„æœ€å³è¾¹ç•Œï¼‰ç”¨**é»„è‰²è™šçº¿**æ ‡è®°ï¼Œ`center`ï¼ˆå¯¹åº”å›æ–‡çš„ä¸­å¿ƒï¼‰ç”¨**ç»¿è‰²ç®­å¤´**æŒ‡å‘ï¼›  
- æ¯è®¡ç®—ä¸€ä¸ªå›æ–‡åŠå¾„ï¼Œ`ans`ï¼ˆç­”æ¡ˆï¼‰ç”¨**æ•°å­—è·³åŠ¨**å±•ç¤ºå¢åŠ çš„æ•°é‡ã€‚  
- åŠ å…¥â€œå•æ­¥æ‰§è¡Œâ€â€œè‡ªåŠ¨æ’­æ”¾â€æŒ‰é’®ï¼Œä»¥åŠ8ä½é£æ ¼çš„â€œå®â€éŸ³æ•ˆï¼ˆæ¯æ‰©å±•ä¸€æ¬¡å›æ–‡åŠå¾„ï¼‰å’Œâ€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆè®¡ç®—å®Œæˆï¼‰ã€‚


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼šé©¬æ‹‰è½¦ç®—æ³•ï¼ˆä½œè€…ï¼šcodesonicï¼Œèµï¼š4ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£ç”¨**é©¬æ‹‰è½¦ç®—æ³•**å®Œç¾è§£å†³äº†é—®é¢˜ï¼Œæ€è·¯æ¸…æ™°ã€ä»£ç ç®€æ´ã€‚æ ¸å¿ƒé€»è¾‘æ˜¯ï¼š  
  1. é¢„å¤„ç†å­—ç¬¦ä¸²ï¼ˆæ’å…¥`#`ï¼‰ï¼Œç»Ÿä¸€å¥‡å¶å›æ–‡ï¼›  
  2. è®¡ç®—æ¯ä¸ªä½ç½®çš„å›æ–‡åŠå¾„ï¼ˆ`hw`æ•°ç»„ï¼‰ï¼›  
  3. ç´¯åŠ `hw[i]//2`å¾—åˆ°ç­”æ¡ˆã€‚  
  ä»£ç ä¸­çš„`manacher`å‡½æ•°é«˜æ•ˆè®¡ç®—å›æ–‡åŠå¾„ï¼Œ`change`å‡½æ•°å¤„ç†å­—ç¬¦ä¸²ï¼Œå˜é‡å‘½åï¼ˆå¦‚`maxright`ã€`mid`ï¼‰ç¬¦åˆé€»è¾‘ï¼Œè¾¹ç•Œæ¡ä»¶å¤„ç†ä¸¥è°¨ï¼ˆå¦‚`hw[i]`çš„åˆå§‹å€¼ï¼‰ã€‚æ—¶é—´å¤æ‚åº¦O(n)ï¼Œå¯¹äºn=1000çš„é™åˆ¶å®Œå…¨é€‚ç”¨ï¼Œæ˜¯**ç«èµ›çº§åˆ«çš„æœ€ä¼˜è§£**ã€‚


### é¢˜è§£äºŒï¼šæš´åŠ›æšä¸¾ï¼ˆä½œè€…ï¼š__Unknownï¼Œèµï¼š2ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£ç”¨**æš´åŠ›åˆ†å¥‡å¶**çš„æ–¹æ³•ï¼Œç›´æ¥æšä¸¾æ‰€æœ‰å¯èƒ½çš„å›æ–‡å­ä¸²ã€‚æ ¸å¿ƒé€»è¾‘æ˜¯ï¼š  
  1. å¯¹äºæ¯ä¸ªå­—ç¬¦`i`ï¼Œä½œä¸ºå¥‡æ•°å›æ–‡çš„ä¸­å¿ƒï¼ˆ`l=i, r=i`ï¼‰ï¼Œå‘ä¸¤è¾¹æ‰©å±•ï¼›  
  2. å¯¹äºæ¯ä¸ªå­—ç¬¦`i`ï¼Œä½œä¸ºå¶æ•°å›æ–‡çš„å·¦åŠéƒ¨åˆ†ï¼ˆ`l=i, r=i+1`ï¼‰ï¼Œå‘ä¸¤è¾¹æ‰©å±•ï¼›  
  3. ç´¯åŠ æ¯ä¸ªä¸­å¿ƒçš„å›æ–‡å­ä¸²æ•°é‡ã€‚  
  ä»£ç ç»“æ„æ¸…æ™°ï¼Œå˜é‡`len[i]`è®°å½•æ¯ä¸ªä½ç½®çš„å›æ–‡å­ä¸²æ•°é‡ï¼Œå®¹æ˜“ç†è§£ã€‚è™½ç„¶æ—¶é—´å¤æ‚åº¦O(nÂ²)ï¼ˆå¯¹äºn=1000ï¼Œ1e6æ¬¡æ“ä½œå®Œå…¨å¯è¡Œï¼‰ï¼Œä½†**é€‚åˆåˆå­¦è€…å…¥é—¨**ï¼Œèƒ½ç›´è§‚æ„Ÿå—å›æ–‡å­ä¸²çš„ç”Ÿæˆè¿‡ç¨‹ã€‚


### é¢˜è§£ä¸‰ï¼šæš´åŠ›æšä¸¾ï¼ˆä½œè€…ï¼šcyrxdzjï¼Œèµï¼š1ï¼‰  
* **ç‚¹è¯„**ï¼š  
  è¿™ä»½é¢˜è§£ä¸é¢˜è§£äºŒæ€è·¯ä¸€è‡´ï¼Œä½†**ä»£ç ç»“æ„æ›´è§„èŒƒ**ã€‚å°†å¥‡æ•°å’Œå¶æ•°å›æ–‡çš„å¤„ç†åˆ†å¼€ä¸ºä¸¤ä¸ªå¾ªç¯ï¼Œå˜é‡`now_left`ã€`now_right`å‘½åæ›´æ¸…æ™°ï¼Œè¾¹ç•Œæ¡ä»¶ï¼ˆå¦‚`now_left>=0`ã€`now_right<len`ï¼‰å¤„ç†ä¸¥æ ¼ã€‚è™½ç„¶æ²¡æœ‰ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ï¼Œä½†**ä»£ç å¯è¯»æ€§é«˜**ï¼Œé€‚åˆåˆå­¦è€…æ¨¡ä»¿ã€‚


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. éš¾ç‚¹1ï¼šå¦‚ä½•ç»Ÿä¸€å¤„ç†å¥‡å¶é•¿åº¦çš„å›æ–‡ï¼Ÿ  
* **åˆ†æ**ï¼š  
  å¥‡æ•°å›æ–‡ï¼ˆå¦‚â€œabaâ€ï¼‰ä»¥å•ä¸ªå­—ç¬¦ä¸ºä¸­å¿ƒï¼Œå¶æ•°å›æ–‡ï¼ˆå¦‚â€œabbaâ€ï¼‰ä»¥ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´çš„é—´éš™ä¸ºä¸­å¿ƒï¼Œç›´æ¥å¤„ç†ä¼šå¾ˆéº»çƒ¦ã€‚**é©¬æ‹‰è½¦ç®—æ³•**çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨å­—ç¬¦é—´æ’å…¥`#`ï¼ˆå¦‚â€œabcâ€å˜ä¸ºâ€œ#a#b#c#â€ï¼‰ï¼Œè¿™æ ·æ‰€æœ‰å›æ–‡éƒ½å˜æˆå¥‡æ•°é•¿åº¦ï¼ˆå¦‚â€œabaâ€å˜ä¸ºâ€œ#a#b#a#â€ï¼Œé•¿åº¦7ï¼›â€œabbaâ€å˜ä¸ºâ€œ#a#b#b#a#â€ï¼Œé•¿åº¦9ï¼‰ï¼Œç»Ÿä¸€äº†ä¸­å¿ƒä½ç½®ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé¢„å¤„ç†æ˜¯è§£å†³å¥‡å¶é—®é¢˜çš„å…³é”®ï¼Œå­¦ä¼šç”¨â€œå¡«å……å­—ç¬¦â€ç»Ÿä¸€é—®é¢˜æ¨¡å‹ã€‚


### 2. éš¾ç‚¹2ï¼šå¦‚ä½•é«˜æ•ˆç»Ÿè®¡å›æ–‡å­ä¸²æ•°é‡ï¼Ÿ  
* **åˆ†æ**ï¼š  
  æš´åŠ›æ³•éœ€è¦é€ä¸ªæ£€æŸ¥æ¯ä¸ªå­ä¸²ï¼Œæ—¶é—´å¤æ‚åº¦é«˜ã€‚**é©¬æ‹‰è½¦ç®—æ³•**çš„å›æ–‡åŠå¾„æ•°ç»„`RL[i]`ï¼ˆæˆ–é¢˜è§£ä¸­çš„`hw[i]`ï¼‰è¡¨ç¤ºä»¥`i`ä¸ºä¸­å¿ƒçš„å›æ–‡åŠå¾„ï¼ˆå¦‚â€œ#a#b#a#â€çš„ä¸­å¿ƒ`b`çš„`RL[i]=4`ï¼Œå¯¹åº”å›æ–‡é•¿åº¦7ï¼‰ã€‚æ¯ä¸ªä½ç½®çš„å›æ–‡å­ä¸²æ•°é‡ç­‰äº`RL[i]//2`ï¼ˆå¦‚`RL[i]=4`ï¼Œåˆ™æœ‰2ä¸ªå›æ–‡å­ä¸²ï¼šâ€œbâ€ã€â€œabaâ€ï¼‰ï¼Œç´¯åŠ æ‰€æœ‰ä½ç½®çš„`RL[i]//2`å³å¯å¾—åˆ°ç­”æ¡ˆã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå›æ–‡åŠå¾„æ˜¯é©¬æ‹‰è½¦ç®—æ³•çš„æ ¸å¿ƒï¼Œå­¦ä¼šç”¨å®ƒå¿«é€Ÿç»Ÿè®¡å›æ–‡å­ä¸²æ•°é‡ã€‚


### 3. éš¾ç‚¹3ï¼šæš´åŠ›æ³•å¦‚ä½•é¿å…é—æ¼ï¼Ÿ  
* **åˆ†æ**ï¼š  
  æš´åŠ›æ³•éœ€è¦éå†æ‰€æœ‰å¯èƒ½çš„ä¸­å¿ƒï¼š  
  - å¥‡æ•°å›æ–‡ï¼šä¸­å¿ƒæ˜¯æ¯ä¸ªå­—ç¬¦ï¼ˆå…±nä¸ªï¼‰ï¼›  
  - å¶æ•°å›æ–‡ï¼šä¸­å¿ƒæ˜¯ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´çš„é—´éš™ï¼ˆå…±n-1ä¸ªï¼‰ã€‚  
  é¢˜è§£äºŒå’Œé¢˜è§£ä¸‰éƒ½ç”¨äº†ä¸¤æ¬¡å¾ªç¯ï¼Œåˆ†åˆ«å¤„ç†è¿™ä¸¤ç§æƒ…å†µï¼Œç¡®ä¿æ‰€æœ‰å›æ–‡å­ä¸²éƒ½è¢«ç»Ÿè®¡ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåˆ†æƒ…å†µè®¨è®ºæ˜¯æš´åŠ›æ³•çš„å…³é”®ï¼Œä¸è¦æ¼æ‰ä»»ä½•ä¸€ç§å¯èƒ½çš„å›æ–‡ç±»å‹ã€‚


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **é¢„å¤„ç†æŠ€å·§**ï¼šç”¨`#`å¡«å……å­—ç¬¦ä¸²ï¼Œç»Ÿä¸€å¥‡å¶å›æ–‡ï¼ˆé©¬æ‹‰è½¦ç®—æ³•ï¼‰ï¼›  
- **åˆ†æ²»æ€æƒ³**ï¼šå°†å›æ–‡åˆ†ä¸ºå¥‡æ•°å’Œå¶æ•°ï¼Œåˆ†åˆ«å¤„ç†ï¼ˆæš´åŠ›æ³•ï¼‰ï¼›  
- **é«˜æ•ˆç®—æ³•**ï¼šå¯¹äºå¤§æ•°æ®ï¼Œä¼˜å…ˆé€‰æ‹©é©¬æ‹‰è½¦ç®—æ³•ï¼ˆO(n)ï¼‰æˆ–å›æ–‡è‡ªåŠ¨æœºï¼ˆO(n)ï¼‰ï¼›  
- **è¾¹ç•Œæ¡ä»¶**ï¼šå¤„ç†å­—ç¬¦ä¸²æ—¶ï¼Œè¦æ³¨æ„æ•°ç»„è¶Šç•Œï¼ˆå¦‚`now_left>=0`ã€`now_right<len`ï¼‰ã€‚


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒï¼ˆé©¬æ‹‰è½¦ç®—æ³•ï¼‰  
* **è¯´æ˜**ï¼šç»¼åˆcodesonicçš„é¢˜è§£ï¼Œæä¾›ä¸€ä¸ªæ¸…æ™°çš„é©¬æ‹‰è½¦ç®—æ³•å®ç°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <cstring>
  using namespace std;

  const int MAXN = 2010; // åŸå­—ç¬¦ä¸²é•¿åº¦â‰¤1000ï¼Œé¢„å¤„ç†åâ‰¤2000+2
  char a[MAXN], s[MAXN << 1]; // aæ˜¯åŸå­—ç¬¦ä¸²ï¼Œsæ˜¯é¢„å¤„ç†åçš„å­—ç¬¦ä¸²
  int hw[MAXN << 1]; // å›æ–‡åŠå¾„æ•°ç»„

  void change() {
      int n = strlen(a);
      s[0] = s[1] = '#';
      for (int i = 0; i < n; i++) {
          s[i * 2 + 2] = a[i];
          s[i * 2 + 3] = '#';
      }
      s[n * 2 + 2] = '\0'; // ç»“æŸç¬¦
  }

  void manacher() {
      int n = strlen(s);
      int maxright = 0, mid = 0;
      memset(hw, 0, sizeof(hw));
      for (int i = 1; i < n; i++) {
          if (i < maxright) {
              hw[i] = min(hw[2 * mid - i], maxright - i);
          } else {
              hw[i] = 1;
          }
          // æ‰©å±•å›æ–‡åŠå¾„
          while (s[i - hw[i]] == s[i + hw[i]]) {
              hw[i]++;
          }
          // æ›´æ–°maxrightå’Œmid
          if (i + hw[i] > maxright) {
              maxright = i + hw[i];
              mid = i;
          }
      }
  }

  int main() {
      cin >> a;
      change();
      manacher();
      int ans = 0;
      int n = strlen(s);
      for (int i = 0; i < n; i++) {
          ans += hw[i] / 2;
      }
      cout << ans << endl;
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. `change`å‡½æ•°ï¼šå°†åŸå­—ç¬¦ä¸²`a`æ’å…¥`#`ï¼Œç”Ÿæˆé¢„å¤„ç†åçš„å­—ç¬¦ä¸²`s`ï¼ˆå¦‚â€œmalayalamâ€å˜ä¸ºâ€œ#m#a#l#a#y#a#l#a#m#â€ï¼‰ï¼›  
  2. `manacher`å‡½æ•°ï¼šè®¡ç®—æ¯ä¸ªä½ç½®çš„å›æ–‡åŠå¾„`hw[i]`ï¼Œç”¨`maxright`å’Œ`mid`ä¼˜åŒ–æ‰©å±•è¿‡ç¨‹ï¼ˆé¿å…é‡å¤è®¡ç®—ï¼‰ï¼›  
  3. `main`å‡½æ•°ï¼šè¯»å–è¾“å…¥ï¼Œè°ƒç”¨`change`å’Œ`manacher`ï¼Œç´¯åŠ `hw[i]//2`å¾—åˆ°ç­”æ¡ˆã€‚


### é¢˜è§£ä¸€ï¼šé©¬æ‹‰è½¦ç®—æ³•ï¼ˆæ ¸å¿ƒä»£ç ç‰‡æ®µï¼‰  
* **äº®ç‚¹**ï¼šç”¨`hw`æ•°ç»„è®°å½•å›æ–‡åŠå¾„ï¼Œé«˜æ•ˆç»Ÿè®¡å›æ–‡å­ä¸²æ•°é‡ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void manacher() {
      int maxright = 0, mid;
      for (int i = 1; i < n; i++) {
          if (i < maxright)
              hw[i] = min(hw[(mid << 1) - i], hw[mid] + mid - i);
          else
              hw[i] = 1;
          while (s[i + hw[i]] == s[i - hw[i]])
              ++hw[i];
          if (hw[i] + i > maxright) {
              maxright = hw[i] + i;
              mid = i;
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `i < maxright`ï¼šå¦‚æœå½“å‰ä½ç½®åœ¨å·²çŸ¥å›æ–‡çš„æœ€å³è¾¹ç•Œå†…ï¼Œç”¨å¯¹ç§°ä½ç½®çš„å›æ–‡åŠå¾„ä¼˜åŒ–ï¼ˆé¿å…é‡å¤æ‰©å±•ï¼‰ï¼›  
  - `while`å¾ªç¯ï¼šæ‰©å±•å›æ–‡åŠå¾„ï¼Œç›´åˆ°ä¸¤è¾¹å­—ç¬¦ä¸åŒï¼›  
  - `maxright`å’Œ`mid`ï¼šæ›´æ–°å·²çŸ¥å›æ–‡çš„æœ€å³è¾¹ç•Œå’Œå¯¹åº”ä¸­å¿ƒï¼Œç”¨äºåç»­ä¼˜åŒ–ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé©¬æ‹‰è½¦ç®—æ³•çš„ä¼˜åŒ–æ˜¯å…¶é«˜æ•ˆçš„å…³é”®ï¼Œå­¦ä¼šç”¨`maxright`å’Œ`mid`å‡å°‘é‡å¤è®¡ç®—ã€‚


### é¢˜è§£äºŒï¼šæš´åŠ›æšä¸¾ï¼ˆæ ¸å¿ƒä»£ç ç‰‡æ®µï¼‰  
* **äº®ç‚¹**ï¼šåˆ†å¥‡å¶å¤„ç†ï¼Œç›´æ¥æšä¸¾æ‰€æœ‰å›æ–‡å­ä¸²ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  for (int i = 0; i < len1; i++) {
      l = i; r = i;
      while (l >= 0 && r < len1 && s1[l] == s1[r]) {
          l--; r++;
          len[i]++;
      }
      l = i; r = i + 1;
      while (l >= 0 && r < len1 && s1[l] == s1[r]) {
          l--; r++;
          len[i]++;
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - ç¬¬ä¸€ä¸ª`while`å¾ªç¯ï¼šå¤„ç†å¥‡æ•°å›æ–‡ï¼ˆä¸­å¿ƒæ˜¯`i`ï¼‰ï¼›  
  - ç¬¬äºŒä¸ª`while`å¾ªç¯ï¼šå¤„ç†å¶æ•°å›æ–‡ï¼ˆä¸­å¿ƒæ˜¯`i`å’Œ`i+1`ä¹‹é—´ï¼‰ï¼›  
  - `len[i]`ï¼šè®°å½•ä»¥`i`ä¸ºä¸­å¿ƒçš„å›æ–‡å­ä¸²æ•°é‡ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæš´åŠ›æ³•è™½ç„¶ç®€å•ï¼Œä½†èƒ½å¸®åŠ©ç†è§£å›æ–‡å­ä¸²çš„ç”Ÿæˆè¿‡ç¨‹ï¼Œé€‚åˆåˆå­¦è€…å…¥é—¨ã€‚


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šâ€œåƒç´ å›æ–‡æ¢æµ‹å™¨â€ï¼ˆ8ä½åƒç´ é£æ ¼ï¼‰  
**è®¾è®¡æ€è·¯**ï¼š  
ç”¨FCçº¢ç™½æœºçš„é£æ ¼ï¼Œå°†å­—ç¬¦ä¸²å±•ç¤ºä¸ºåƒç´ å—ï¼Œç”¨â€œé›·è¾¾æ‰«æâ€çš„æ–¹å¼å±•ç¤ºé©¬æ‹‰è½¦ç®—æ³•çš„è¿‡ç¨‹ï¼Œå¢åŠ â€œå•æ­¥æ‰§è¡Œâ€â€œè‡ªåŠ¨æ’­æ”¾â€æŒ‰é’®å’Œ8ä½éŸ³æ•ˆï¼Œè®©å­¦ä¹ æ›´æœ‰è¶£ã€‚


### åŠ¨ç”»å¸§æ­¥éª¤ä¸äº¤äº’å…³é”®ç‚¹  
1. **åœºæ™¯åˆå§‹åŒ–**ï¼š  
   - å±å¹•å·¦ä¾§å±•ç¤ºé¢„å¤„ç†åçš„å­—ç¬¦ä¸²ï¼ˆå¦‚â€œ#m#a#l#a#y#a#l#a#m#â€ï¼‰ï¼Œæ¯ä¸ªå­—ç¬¦ç”¨16x16çš„åƒç´ å—è¡¨ç¤ºï¼ˆ`#`ç”¨ç°è‰²ï¼Œå­—æ¯ç”¨å½©è‰²ï¼‰ï¼›  
   - å±å¹•å³ä¾§æœ‰â€œæ§åˆ¶é¢æ¿â€ï¼š`å¼€å§‹/æš‚åœ`æŒ‰é’®ï¼ˆçº¢è‰²ï¼‰ã€`å•æ­¥`æŒ‰é’®ï¼ˆè“è‰²ï¼‰ã€`é‡ç½®`æŒ‰é’®ï¼ˆç»¿è‰²ï¼‰ã€é€Ÿåº¦æ»‘å—ï¼ˆ1-5æ¡£ï¼‰ï¼›  
   - åº•éƒ¨æ˜¾ç¤º`ans`ï¼ˆç­”æ¡ˆï¼‰ï¼Œåˆå§‹ä¸º0ã€‚  

2. **ç®—æ³•å¯åŠ¨**ï¼š  
   - ç‚¹å‡»â€œå¼€å§‹â€ï¼Œ`center`ï¼ˆç»¿è‰²ç®­å¤´ï¼‰æŒ‡å‘é¢„å¤„ç†åçš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ˆ`#`ï¼‰ï¼Œ`maxright`ï¼ˆé»„è‰²è™šçº¿ï¼‰åˆå§‹ä¸º0ï¼›  
   - æ’­æ”¾8ä½é£æ ¼çš„èƒŒæ™¯éŸ³ä¹ï¼ˆè½»å¿«çš„ç”µå­ä¹ï¼‰ã€‚  

3. **æ ¸å¿ƒæ­¥éª¤æ¼”ç¤º**ï¼š  
   - **å½“å‰ä½ç½®é«˜äº®**ï¼šç”¨çº¢è‰²é—ªçƒæ ‡è®°å½“å‰å¤„ç†çš„ä½ç½®`i`ï¼ˆå¦‚`#`ï¼‰ï¼›  
   - **å›æ–‡åŠå¾„æ‰©å±•**ï¼šä»`i`å‘ä¸¤è¾¹æ‰©å±•ï¼Œè“è‰²åƒç´ å—è¦†ç›–æ‰©å±•çš„åŒºåŸŸï¼ˆå¦‚`#m#`çš„`m`ï¼‰ï¼Œæ¯æ‰©å±•ä¸€æ¬¡æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆï¼›  
   - **maxrightæ›´æ–°**ï¼šå½“æ‰©å±•åçš„å›æ–‡å³è¾¹ç•Œè¶…è¿‡`maxright`ï¼Œ`maxright`ï¼ˆé»„è‰²è™šçº¿ï¼‰å‘å³ç§»åŠ¨ï¼Œ`center`ï¼ˆç»¿è‰²ç®­å¤´ï¼‰æŒ‡å‘`i`ï¼›  
   - **ansæ›´æ–°**ï¼šæ¯è®¡ç®—ä¸€ä¸ª`hw[i]`ï¼Œ`ans`ï¼ˆåº•éƒ¨æ•°å­—ï¼‰è·³åŠ¨å¢åŠ `hw[i]//2`ï¼ˆå¦‚`hw[i]=3`ï¼Œ`ans`å¢åŠ 1ï¼‰ã€‚  

4. **ç›®æ ‡è¾¾æˆ**ï¼š  
   - å½“æ‰€æœ‰ä½ç½®å¤„ç†å®Œæ¯•ï¼Œæ’­æ”¾â€œèƒœåˆ©â€éŸ³æ•ˆï¼ˆä¸Šæ‰¬çš„ç”µå­éŸ³ï¼‰ï¼Œ`ans`æ˜¾ç¤ºæœ€ç»ˆç»“æœï¼ˆå¦‚15ï¼‰ï¼Œå±å¹•å‡ºç°â€œå®Œæˆï¼â€çš„åƒç´ æ–‡å­—ã€‚  

5. **äº¤äº’åŠŸèƒ½**ï¼š  
   - `å•æ­¥`æŒ‰é’®ï¼šé€å¸§æ’­æ”¾ï¼Œæ¯ç‚¹å‡»ä¸€æ¬¡å¤„ç†ä¸€ä¸ªä½ç½®ï¼›  
   - `è‡ªåŠ¨æ’­æ”¾`ï¼šæ ¹æ®é€Ÿåº¦æ»‘å—è°ƒæ•´æ’­æ”¾é€Ÿåº¦ï¼ˆ1æ¡£æœ€æ…¢ï¼Œ5æ¡£æœ€å¿«ï¼‰ï¼›  
   - `é‡ç½®`æŒ‰é’®ï¼šæ¢å¤åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹ã€‚


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
- **é©¬æ‹‰è½¦ç®—æ³•**ï¼šå¯ç”¨äºè§£å†³â€œæœ€é•¿å›æ–‡å­ä¸²â€ï¼ˆå¦‚LeetCode 5ï¼‰ã€â€œå›æ–‡å­ä¸²æ•°é‡â€ï¼ˆæœ¬é¢˜ï¼‰ç­‰é—®é¢˜ï¼›  
- **å“ˆå¸Œæ³•**ï¼šå¯ç”¨äºè§£å†³â€œå­ä¸²åŒ¹é…â€ï¼ˆå¦‚LeetCode 28ï¼‰ã€â€œå›æ–‡å­ä¸²åˆ¤æ–­â€ç­‰é—®é¢˜ï¼›  
- **æš´åŠ›æ³•**ï¼šå¯ç”¨äºè§£å†³â€œå°æ•°æ®é‡çš„å›æ–‡é—®é¢˜â€ï¼ˆå¦‚nâ‰¤1000ï¼‰ã€‚


### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P3805 ã€æ¨¡æ¿ã€‘Manacherç®—æ³•**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šé©¬æ‹‰è½¦ç®—æ³•çš„æ¨¡æ¿é¢˜ï¼Œå¸®åŠ©å·©å›ºé¢„å¤„ç†å’Œå›æ–‡åŠå¾„çš„è®¡ç®—ã€‚  
2. **æ´›è°· P5496 ã€æ¨¡æ¿ã€‘å›æ–‡è‡ªåŠ¨æœºï¼ˆPAMï¼‰**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šå›æ–‡è‡ªåŠ¨æœºçš„æ¨¡æ¿é¢˜ï¼Œå­¦ä¹ æ›´é«˜æ•ˆçš„å›æ–‡å­ä¸²å¤„ç†æ–¹æ³•ã€‚  
3. **æ´›è°· P1217 å›æ–‡è´¨æ•°**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»ƒä¹ å›æ–‡åˆ¤æ–­ï¼ˆæš´åŠ›æˆ–å“ˆå¸Œï¼‰ï¼Œç»“åˆè´¨æ•°åˆ¤æ–­ï¼Œæ‹“å±•æ€ç»´ã€‚  
4. **æ´›è°· P2852 [USACO06DEC] Milk Patterns G**  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šç»ƒä¹ å­—ç¬¦ä¸²å¤„ç†ï¼ˆå¦‚åç¼€æ•°ç»„ã€å“ˆå¸Œï¼‰ï¼Œè§£å†³é‡å¤å­ä¸²é—®é¢˜ã€‚


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)  
æœ¬æ¬¡åˆ†æçš„é¢˜è§£ä¸­ï¼Œ**codesonic**çš„é©¬æ‹‰è½¦ç®—æ³•é¢˜è§£æåˆ°â€œä¸ç”¨å†™å¤ªéº»çƒ¦çš„å›æ–‡è‡ªåŠ¨æœºâ€ï¼Œè¯´æ˜å¯¹äºæœ¬é¢˜æ¥è¯´ï¼Œé©¬æ‹‰è½¦ç®—æ³•æ˜¯æ›´ç®€æ´çš„é€‰æ‹©ã€‚**__Unknown**çš„æš´åŠ›é¢˜è§£æåˆ°â€œæš´åŠ›å‡ºå¥‡è¿¹â€ï¼Œè¯´æ˜å¯¹äºå°æ•°æ®é‡çš„é—®é¢˜ï¼Œæš´åŠ›æ³•æ˜¯å¯è¡Œçš„ï¼Œä½†è¦æ³¨æ„åˆ†æƒ…å†µè®¨è®ºã€‚  

**ç‚¹è¯„**ï¼š  
- é©¬æ‹‰è½¦ç®—æ³•æ˜¯è§£å†³å›æ–‡å­ä¸²é—®é¢˜çš„â€œåˆ©å™¨â€ï¼Œä½†éœ€è¦ç†è§£å…¶é¢„å¤„ç†å’Œä¼˜åŒ–é€»è¾‘ï¼›  
- æš´åŠ›æ³•è™½ç„¶ç®€å•ï¼Œä½†å¯¹äºå¤§æ•°æ®é‡çš„é—®é¢˜ï¼ˆå¦‚n=1e5ï¼‰ä¼šè¶…æ—¶ï¼Œæ­¤æ—¶éœ€è¦æ›´é«˜æ•ˆçš„ç®—æ³•ï¼›  
- ç¼–å†™ä»£ç æ—¶ï¼Œè¦æ³¨æ„å˜é‡å‘½åå’Œè¾¹ç•Œæ¡ä»¶ï¼ˆå¦‚æ•°ç»„è¶Šç•Œï¼‰ï¼Œé¿å…è°ƒè¯•é”™è¯¯ã€‚


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œNumber of Palindromesâ€çš„C++è§£é¢˜åˆ†æå°±åˆ°è¿™é‡Œã€‚å¸Œæœ›è¿™ä»½å­¦ä¹ æŒ‡å—èƒ½å¸®åŠ©å¤§å®¶ç†è§£å›æ–‡å­ä¸²çš„è®¡æ•°æ–¹æ³•ï¼ŒæŒæ¡é©¬æ‹‰è½¦ç®—æ³•ã€æš´åŠ›æ³•ç­‰æŠ€å·§ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡åœ¨äº**æŒç»­ç»ƒä¹ **å’Œ**æ€è€ƒä¼˜åŒ–**â€”â€”ä¸‹æ¬¡é‡åˆ°å›æ–‡é—®é¢˜æ—¶ï¼Œä¸å¦¨è¯•è¯•é©¬æ‹‰è½¦ç®—æ³•ï¼Œæ„Ÿå—å®ƒçš„é«˜æ•ˆï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š184.26ç§’
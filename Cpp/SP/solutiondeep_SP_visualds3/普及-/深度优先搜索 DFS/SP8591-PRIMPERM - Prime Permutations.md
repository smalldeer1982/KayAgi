# é¢˜ç›®ä¿¡æ¯

# PRIMPERM - Prime Permutations

## é¢˜ç›®æè¿°

$t$ ç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®ç»™å®šä¸€ä¸ªæ•´æ•° $n$ï¼Œæ±‚ $n$ çš„æ’åˆ—ä¸­æœ‰å¤šå°‘ä¸ªæ’åˆ—æ˜¯è´¨æ•°ã€‚

## è¯´æ˜/æç¤º

$t<10^4$ï¼Œ$n<10^7$

## æ ·ä¾‹ #1

### è¾“å…¥

```
2

13

110```

### è¾“å‡º

```
2

1```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šPrime Permutations æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼šæ¨¡æ‹Ÿï¼ˆæ’åˆ—ç”Ÿæˆï¼‰+ æ•°è®ºï¼ˆè´¨æ•°ç­›ï¼‰  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œPrime Permutationsâ€çš„å…³é”®ï¼Œå°±åƒâ€œç»™æ•°å­—æ‰“ä¹±é¡ºåºåæ‰¾è´¨æ•°â€â€”â€”é¦–å…ˆå¾—æŠŠæ•°å­—çš„æ¯ä¸€ä½æ‹†å‡ºæ¥ï¼Œæ‰“ä¹±æ‰€æœ‰å¯èƒ½çš„é¡ºåºï¼ˆæ’åˆ—ï¼‰ï¼Œç„¶åæ£€æŸ¥æ¯ä¸ªæ‰“ä¹±åçš„æ•°æ˜¯ä¸æ˜¯è´¨æ•°ã€‚å…¶ä¸­ï¼Œ**è´¨æ•°ç­›**æ˜¯â€œå‰ç½®å·¥å…·â€ï¼ˆåƒæå‰å‡†å¤‡å¥½çš„â€œè´¨æ•°å­—å…¸â€ï¼Œèƒ½å¿«é€Ÿå‘Šè¯‰ä½ ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯è´¨æ•°ï¼‰ï¼Œ**æ’åˆ—ç”Ÿæˆ**æ˜¯â€œæ ¸å¿ƒæ“ä½œâ€ï¼ˆåƒç»™æ•°å­—â€œæ¢è¡£æœâ€ï¼Œè¯•éæ‰€æœ‰å¯èƒ½çš„ç©¿æ³•ï¼‰ã€‚  

- **æ ¸å¿ƒæ€è·¯**ï¼š  
  1. **é¢„å¤„ç†è´¨æ•°**ï¼šç”¨â€œç­›å­â€æŠŠ1åˆ°1e7çš„è´¨æ•°éƒ½æŒ‘å‡ºæ¥ï¼Œè¿™æ ·åé¢åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯è´¨æ•°åªè¦æŸ¥å­—å…¸ï¼ˆæ•°ç»„ï¼‰å°±è¡Œï¼Œä¸ç”¨æ¯æ¬¡éƒ½ç®—ã€‚  
  2. **ç”Ÿæˆæ’åˆ—**ï¼šç”¨`next_permutation`å‡½æ•°ç”Ÿæˆæ•°å­—æ‰€æœ‰å¯èƒ½çš„æ’åˆ—ï¼ˆæ¯”å¦‚123ä¼šå˜æˆ132ã€213ç­‰ï¼‰ï¼Œç„¶åæŠŠæ’åˆ—åçš„æ•°å­—æ‹¼èµ·æ¥ï¼ŒæŸ¥â€œè´¨æ•°å­—å…¸â€ã€‚  
  3. **é¿å…å‰å¯¼é›¶**ï¼šå¦‚æœæ’åˆ—çš„ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯0ï¼ˆæ¯”å¦‚012ï¼‰ï¼Œè¿™ä¸ªæ•°æ˜¯æ— æ•ˆçš„ï¼ˆåƒâ€œ012â€å…¶å®æ˜¯12ï¼‰ï¼Œè¦è·³è¿‡ã€‚  

- **æ ¸å¿ƒéš¾ç‚¹**ï¼š  
  - å¦‚ä½•å¿«é€Ÿåˆ¤æ–­å¤§é‡æ•°æ˜¯ä¸æ˜¯è´¨æ•°ï¼Ÿï¼ˆè§£å†³ï¼šç”¨åŸƒæ°ç­›æˆ–æ¬§æ‹‰ç­›é¢„å¤„ç†ï¼‰  
  - å¦‚ä½•ç”Ÿæˆæ‰€æœ‰æ’åˆ—è€Œä¸é‡å¤ï¼Ÿï¼ˆè§£å†³ï¼š`next_permutation`ä¼šè‡ªåŠ¨ç”Ÿæˆä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œç›´åˆ°æ‰€æœ‰æƒ…å†µéƒ½è¯•è¿‡ï¼‰  
  - å¦‚ä½•å¤„ç†å¤§æ•°çš„æ’åˆ—ï¼Ÿï¼ˆè§£å†³ï¼šn<1e7ï¼Œæ‰€ä»¥æ’åˆ—åçš„æ•°æœ€å¤š7ä½ï¼Œé¢„å¤„ç†åˆ°1e7åˆšå¥½è¦†ç›–ï¼‰  

- **å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
  æˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªâ€œåƒç´ è´¨æ•°ä¾¦æ¢â€åŠ¨ç”»ï¼š  
  - å·¦è¾¹æ˜¯â€œè´¨æ•°ç­›å·¥å‚â€ï¼šç”¨åƒç´ å—ä»£è¡¨æ•°å­—ï¼Œçº¢è‰²è¡¨ç¤ºåˆæ•°ï¼ˆè¢«ç­›æ‰ï¼‰ï¼Œç»¿è‰²è¡¨ç¤ºè´¨æ•°ï¼ˆç•™ä¸‹ï¼‰ï¼ŒåŠ¨ç”»å±•ç¤ºç­›å­â€œæ‰«è¿‡â€æ•°å­—çš„è¿‡ç¨‹ã€‚  
  - å³è¾¹æ˜¯â€œæ’åˆ—å®éªŒå®¤â€ï¼šç”¨åƒç´ æ¡†å±•ç¤ºæ•°å­—çš„æ¯ä¸€ä½ï¼ˆæ¯”å¦‚1ã€2ã€3ï¼‰ï¼ŒåŠ¨ç”»æ¼”ç¤ºå®ƒä»¬äº¤æ¢ä½ç½®ç”Ÿæˆæ’åˆ—çš„è¿‡ç¨‹ï¼ˆæ¯”å¦‚1â†’2â†’3å˜æˆ1â†’3â†’2ï¼‰ï¼Œæ‹¼å¥½çš„æ•°ä¼šè·³åˆ°â€œè´¨æ•°å­—å…¸â€é‡ŒæŸ¥ï¼Œå¯¹çš„è¯ä¼šæœ‰â€œå®â€çš„éŸ³æ•ˆå’Œç»¿è‰²å¯¹å‹¾ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

### é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼š_RainCappuccino_ï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„æ€è·¯éå¸¸æ¸…æ™°ï¼ŒæŠŠé—®é¢˜æ‹†æˆäº†â€œæ’åˆ—ç”Ÿæˆâ€å’Œâ€œè´¨æ•°åˆ¤æ–­â€ä¸¤ä¸ªéƒ¨åˆ†ã€‚ä½œè€…ç”¨äº†**æ¬§æ‹‰ç­›**ï¼ˆçº¿æ€§ç­›ï¼‰é¢„å¤„ç†è´¨æ•°ï¼Œæ—¶é—´å¤æ‚åº¦O(n)ï¼Œæ¯”åŸƒæ°ç­›æ›´å¿«ã€‚ä»£ç ä¸­çš„`next_permutation`ä½¿ç”¨æ­£ç¡®ï¼ˆç”Ÿæˆå‰æ’åºï¼‰ï¼Œå¹¶ä¸”ç”¨`log10`åˆ¤æ–­äº†æ•°å­—çš„ä½æ•°ï¼ˆé¿å…å‰å¯¼é›¶å¯¼è‡´çš„ä½æ•°å‡å°‘ï¼‰ï¼Œç»†èŠ‚å¤„ç†å¾ˆä¸¥è°¨ã€‚æ¯”å¦‚ï¼Œå½“n=110æ—¶ï¼Œæ’åˆ—åçš„æ•°å¦‚æœæ˜¯011ï¼ˆå³11ï¼‰ï¼Œä¼šè¢«`log10`åˆ¤æ–­ä¸º2ä½ï¼Œè€ŒåŸæ•°æ˜¯3ä½ï¼Œæ‰€ä»¥ä¼šè·³è¿‡ï¼Œç¡®ä¿äº†ç»“æœçš„æ­£ç¡®æ€§ã€‚  

### é¢˜è§£äºŒï¼ˆä½œè€…ï¼šAdolfo_Northï¼‰  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£ç”¨äº†**åŸƒæ°ç­›**é¢„å¤„ç†è´¨æ•°ï¼Œä»£ç ç®€æ´æ˜“æ‡‚ã€‚ä½œè€…ç‰¹åˆ«æ³¨æ„äº†â€œå‰å¯¼é›¶â€çš„é—®é¢˜ï¼ˆç”¨`if(!w[1]) continue;`è·³è¿‡é¦–å…ƒç´ ä¸º0çš„æ’åˆ—ï¼‰ï¼Œè¿™æ˜¯å¾ˆå¤šåˆå­¦è€…å®¹æ˜“å¿½ç•¥çš„ç‚¹ã€‚æ­¤å¤–ï¼Œè¾“å…¥è¾“å‡ºç”¨äº†`ios::sync_with_stdio(0);`ä¼˜åŒ–ï¼Œé€‚åˆå¤„ç†å¤§é‡æ•°æ®ï¼ˆt=1e4ï¼‰ï¼Œå®è·µä»·å€¼å¾ˆé«˜ã€‚  

### é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šCode_Fish_GoodByeï¼‰  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„äº®ç‚¹æ˜¯**æ¬§æ‹‰ç­›çš„æ¨¡æ¿æ­£ç¡®**ï¼ˆæ ‡è®°1ä¸æ˜¯è´¨æ•°ï¼Œé»˜è®¤æ‰€æœ‰æ•°æ˜¯è´¨æ•°ï¼Œç„¶åç­›æ‰åˆæ•°ï¼‰ï¼Œå¹¶ä¸”åˆ†è§£æ•°å­—çš„æ–¹å¼å¾ˆç›´è§‚ï¼ˆç”¨`while(n)`å–å‡ºæ¯ä¸€ä½ï¼‰ã€‚ä½œè€…è¿˜æåˆ°äº†â€œå¤šç»„æ•°æ®â€çš„å¤„ç†æŠ€å·§ï¼ˆåªé¢„å¤„ç†ä¸€æ¬¡è´¨æ•°ï¼‰ï¼Œè¿™æ˜¯è§£å†³å¤§æ•°æ®é‡é—®é¢˜çš„å…³é”®ã€‚ä»£ç ä¸­çš„å˜é‡åï¼ˆæ¯”å¦‚`isprime`è¡¨ç¤ºæ˜¯å¦æ˜¯è´¨æ•°ï¼‰å¾ˆæ¸…æ™°ï¼Œå¯è¯»æ€§å¼ºã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### 1. **å…³é”®ç‚¹1ï¼šå¦‚ä½•é«˜æ•ˆé¢„å¤„ç†è´¨æ•°ï¼Ÿ**  
* **åˆ†æ**ï¼šå¦‚æœæ¯æ¬¡åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯è´¨æ•°éƒ½ç”¨æš´åŠ›æ³•ï¼ˆè¯•é™¤åˆ°sqrt(n)ï¼‰ï¼Œå¯¹äºt=1e4å’Œm!ï¼ˆm=7ï¼Œ5040æ¬¡/ç»„ï¼‰ï¼Œæ€»æ¬¡æ•°ä¼šæ˜¯5e7æ¬¡ï¼Œè‚¯å®šè¶…æ—¶ã€‚è§£å†³æ–¹æ³•æ˜¯**é¢„å¤„ç†**ï¼šç”¨åŸƒæ°ç­›æˆ–æ¬§æ‹‰ç­›æŠŠ1åˆ°1e7çš„è´¨æ•°éƒ½æ ‡è®°å‡ºæ¥ï¼Œè¿™æ ·åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯è´¨æ•°åªè¦O(1)æ—¶é—´ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé¢„å¤„ç†æ˜¯è§£å†³å¤§æ•°æ®é‡é—®é¢˜çš„â€œç¥å™¨â€ï¼Œæå‰æŠŠéœ€è¦å¤šæ¬¡ä½¿ç”¨çš„ç»“æœç®—å¥½ï¼Œèƒ½å¤§å¤§æé«˜æ•ˆç‡ã€‚  

### 2. **å…³é”®ç‚¹2ï¼šå¦‚ä½•ç”Ÿæˆæ‰€æœ‰æ’åˆ—ï¼Ÿ**  
* **åˆ†æ**ï¼šæ‰‹å†™å…¨æ’åˆ—ï¼ˆæ¯”å¦‚DFSï¼‰ä¼šå¾ˆéº»çƒ¦ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚`next_permutation`å‡½æ•°å¯ä»¥è‡ªåŠ¨ç”Ÿæˆä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œç›´åˆ°æ‰€æœ‰æƒ…å†µéƒ½è¯•è¿‡ã€‚ä½¿ç”¨å‰éœ€è¦å¯¹æ•°ç»„æ’åºï¼ˆæ¯”å¦‚123æ’åºåæ˜¯123ï¼Œ`next_permutation`ä¼šç”Ÿæˆ132ã€213ç­‰ï¼‰ï¼Œå¦åˆ™ä¼šæ¼æ‰ä¸€äº›æ’åˆ—ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šSTLä¸­çš„å‡½æ•°æ˜¯â€œå·¥å…·åº“â€ï¼Œåˆç†ä½¿ç”¨èƒ½èŠ‚çœå¤§é‡æ—¶é—´ï¼Œæ¯”å¦‚`next_permutation`ã€`sort`ç­‰ã€‚  

### 3. **å…³é”®ç‚¹3ï¼šå¦‚ä½•é¿å…å‰å¯¼é›¶ï¼Ÿ**  
* **åˆ†æ**ï¼šæ’åˆ—åçš„æ•°å¦‚æœä»¥0å¼€å¤´ï¼ˆæ¯”å¦‚012ï¼‰ï¼Œè¿™ä¸ªæ•°æ˜¯æ— æ•ˆçš„ï¼ˆå› ä¸º012=12ï¼Œè€ŒåŸæ•°æ˜¯3ä½ï¼‰ã€‚è§£å†³æ–¹æ³•æ˜¯**è·³è¿‡é¦–å…ƒç´ ä¸º0çš„æ’åˆ—**ï¼ˆæ¯”å¦‚`if(a[1]==0) continue;`ï¼‰ï¼Œè¿™æ ·å°±èƒ½é¿å…ç”Ÿæˆæ— æ•ˆçš„æ•°ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤„ç†æ•°å­—é—®é¢˜æ—¶ï¼Œä¸€å®šè¦æ³¨æ„â€œå‰å¯¼é›¶â€çš„æƒ…å†µï¼Œè¿™æ˜¯å¸¸è§çš„è¾¹ç•Œæ¡ä»¶é”™è¯¯ã€‚  

### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
- **é¢„å¤„ç†ä¼˜å…ˆ**ï¼šå¯¹äºéœ€è¦å¤šæ¬¡åˆ¤æ–­çš„æ¡ä»¶ï¼ˆæ¯”å¦‚è´¨æ•°ï¼‰ï¼Œæå‰é¢„å¤„ç†èƒ½æé«˜æ•ˆç‡ã€‚  
- **STLå‡½æ•°**ï¼š`next_permutation`ç”Ÿæˆæ’åˆ—ï¼Œ`sort`æ’åºï¼Œ`ios::sync_with_stdio(0)`ä¼˜åŒ–è¾“å…¥è¾“å‡ºã€‚  
- **è¾¹ç•Œæ¡ä»¶**ï¼šè·³è¿‡å‰å¯¼é›¶ï¼Œå¤„ç†1ä¸æ˜¯è´¨æ•°çš„æƒ…å†µã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆäº†ä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œä½¿ç”¨æ¬§æ‹‰ç­›é¢„å¤„ç†è´¨æ•°ï¼Œ`next_permutation`ç”Ÿæˆæ’åˆ—ï¼Œå¤„ç†å‰å¯¼é›¶ï¼Œä»£ç æ¸…æ™°æ˜“æ‡‚ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <algorithm>
  using namespace std;

  const int MAXN = 1e7 + 10;
  bool isprime[MAXN]; // isprime[i]ä¸ºtrueè¡¨ç¤ºiæ˜¯è´¨æ•°

  void euler_sieve() {
      fill(isprime, isprime + MAXN, true);
      isprime[0] = isprime[1] = false; // 0å’Œ1ä¸æ˜¯è´¨æ•°
      for (int i = 2; i < MAXN; ++i) {
          if (isprime[i]) { // å¦‚æœiæ˜¯è´¨æ•°ï¼ŒåŠ å…¥è´¨æ•°åˆ—è¡¨
              // è¿™é‡Œå¯ä»¥å­˜è´¨æ•°ï¼Œä½†æœ¬é¢˜ä¸éœ€è¦ï¼Œæ‰€ä»¥çœç•¥
          }
          for (int j = 2; j * i < MAXN; ++j) {
              isprime[i * j] = false; // ç­›æ‰içš„å€æ•°
          }
      }
  }

  int main() {
      ios::sync_with_stdio(false);
      cin.tie(nullptr);
      euler_sieve(); // é¢„å¤„ç†è´¨æ•°

      int t;
      cin >> t;
      while (t--) {
          int n;
          cin >> n;
          vector<int> digits;
          while (n > 0) {
              digits.push_back(n % 10);
              n /= 10;
          }
          sort(digits.begin(), digits.end()); // æ’åºï¼Œä»¥ä¾¿next_permutationç”Ÿæˆæ‰€æœ‰æ’åˆ—

          int ans = 0;
          do {
              if (digits[0] == 0) continue; // è·³è¿‡å‰å¯¼é›¶çš„æ’åˆ—
              long long num = 0;
              for (int d : digits) {
                  num = num * 10 + d;
              }
              if (isprime[num]) {
                  ans++;
              }
          } while (next_permutation(digits.begin(), digits.end()));

          cout << ans << '\n';
      }

      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **é¢„å¤„ç†è´¨æ•°**ï¼šç”¨`euler_sieve`å‡½æ•°ç­›å‡º1åˆ°1e7çš„è´¨æ•°ï¼Œ`isprime`æ•°ç»„æ ‡è®°æ˜¯å¦ä¸ºè´¨æ•°ã€‚  
  2. **å¤„ç†æ¯ç»„æ•°æ®**ï¼šè¯»å–nï¼Œåˆ†è§£æˆæ¯ä¸€ä½ï¼ˆå­˜åˆ°`digits`æ•°ç»„ï¼‰ï¼Œæ’åºåç”¨`next_permutation`ç”Ÿæˆæ‰€æœ‰æ’åˆ—ã€‚  
  3. **åˆ¤æ–­æ’åˆ—**ï¼šè·³è¿‡å‰å¯¼é›¶çš„æ’åˆ—ï¼ŒæŠŠæ’åˆ—åçš„æ•°å­—æ‹¼èµ·æ¥ï¼ŒæŸ¥`isprime`æ•°ç»„ï¼Œç»Ÿè®¡è´¨æ•°çš„æ•°é‡ã€‚  

### é’ˆå¯¹å„ä¼˜è´¨é¢˜è§£çš„ç‰‡æ®µèµæ  

#### é¢˜è§£ä¸€ï¼ˆä½œè€…ï¼š_RainCappuccino_ï¼‰  
* **äº®ç‚¹**ï¼šç”¨`log10`åˆ¤æ–­æ•°å­—ä½æ•°ï¼Œé¿å…å‰å¯¼é›¶å¯¼è‡´çš„ä½æ•°å‡å°‘ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  if (is_pri[p] && (int)log10(p) + 1 == w) ans++;
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™é‡Œçš„`(int)log10(p) + 1`æ˜¯è®¡ç®—pçš„ä½æ•°ï¼ˆæ¯”å¦‚p=123ï¼Œlog10(123)=2.089ï¼ŒåŠ 1å¾—3ï¼‰ã€‚`w`æ˜¯åŸæ•°çš„ä½æ•°ï¼ˆæ¯”å¦‚åŸæ•°123çš„w=3ï¼‰ã€‚å¦‚æœpçš„ä½æ•°ä¸ç­‰äºwï¼Œè¯´æ˜æ’åˆ—æ—¶æœ‰å‰å¯¼é›¶ï¼ˆæ¯”å¦‚012=12ï¼Œä½æ•°æ˜¯2ï¼‰ï¼Œæ‰€ä»¥è·³è¿‡ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå·§å¦™çš„ç»†èŠ‚å¤„ç†ï¼  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå¤„ç†æ•°å­—ä½æ•°æ—¶ï¼Œå¯ä»¥ç”¨`log10`å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ç”¨å¾ªç¯è®¡æ•°ï¼Œé€‰æ‹©é€‚åˆè‡ªå·±çš„æ–¹å¼ã€‚  

#### é¢˜è§£äºŒï¼ˆä½œè€…ï¼šAdolfo_Northï¼‰  
* **äº®ç‚¹**ï¼šåŸƒæ°ç­›çš„ä»£ç ç®€æ´ï¼Œå®¹æ˜“ç†è§£ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void init() {
      f[0] = f[1] = 1; // 0å’Œ1ä¸æ˜¯è´¨æ•°
      for (int i = 2; i <= 1e7; ++i) {
          if (!f[i]) { // å¦‚æœiæ˜¯è´¨æ•°ï¼Œç­›æ‰å®ƒçš„å€æ•°
              for (int j = 2 * i; j <= 1e7; j += i) {
                  f[j] = 1;
              }
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  åŸƒæ°ç­›çš„åŸç†æ˜¯ï¼šå¦‚æœä¸€ä¸ªæ•°æ˜¯è´¨æ•°ï¼Œé‚£ä¹ˆå®ƒçš„æ‰€æœ‰å€æ•°éƒ½æ˜¯åˆæ•°ã€‚æ¯”å¦‚i=2æ˜¯è´¨æ•°ï¼Œé‚£ä¹ˆ4ã€6ã€8â€¦éƒ½æ˜¯åˆæ•°ï¼Œæ ‡è®°ä¸º1ã€‚è¿™ä¸ªä»£ç å¾ˆå®¹æ˜“è®°ä½ï¼Œé€‚åˆåˆå­¦è€…ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŸƒæ°ç­›çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n log log n)ï¼Œå¯¹äº1e7æ¥è¯´ï¼Œå®Œå…¨å¯ä»¥é€šè¿‡ã€‚  

#### é¢˜è§£ä¸‰ï¼ˆä½œè€…ï¼šCode_Fish_GoodByeï¼‰  
* **äº®ç‚¹**ï¼šè¾“å…¥è¾“å‡ºä¼˜åŒ–ï¼Œé€‚åˆå¤„ç†å¤§é‡æ•°æ®ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  ios_base::sync_with_stdio(false);
  cin.tie(nullptr);
  cout.tie(nullptr);
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  è¿™ä¸‰è¡Œä»£ç æ˜¯C++ä¸­å¤„ç†å¤§é‡è¾“å…¥è¾“å‡ºçš„â€œç¥å™¨â€ã€‚`ios_base::sync_with_stdio(false)`å…³é—­Cå’ŒC++çš„è¾“å…¥è¾“å‡ºåŒæ­¥ï¼Œ`cin.tie(nullptr)`å–æ¶ˆcinå’Œcoutçš„ç»‘å®šï¼Œè¿™æ ·cinå’Œcoutçš„é€Ÿåº¦ä¼šå¤§å¤§æé«˜ï¼Œé€‚åˆt=1e4çš„æƒ…å†µã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå½“è¾“å…¥è¾“å‡ºé‡å¾ˆå¤§æ—¶ï¼Œä¸€å®šè¦åŠ è¿™ä¸‰è¡Œä»£ç ï¼Œå¦åˆ™ä¼šè¶…æ—¶ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼šã€Šåƒç´ è´¨æ•°ä¾¦æ¢ã€‹  
**é£æ ¼**ï¼š8ä½åƒç´ é£ï¼ˆç±»ä¼¼FCçº¢ç™½æœºæ¸¸æˆï¼‰ï¼Œç”¨é²œè‰³çš„é¢œè‰²ï¼ˆç»¿è‰²=è´¨æ•°ï¼Œçº¢è‰²=åˆæ•°ï¼Œè“è‰²=å½“å‰å¤„ç†çš„æ•°å­—ï¼‰å’Œç®€å•çš„éŸ³æ•ˆï¼ˆâ€œå®â€=æ‰¾åˆ°è´¨æ•°ï¼Œâ€œ buzzâ€=ç­›æ‰åˆæ•°ï¼‰ã€‚  

### æ ¸å¿ƒæ¼”ç¤ºå†…å®¹  
1. **è´¨æ•°ç­›å·¥å‚**ï¼ˆå·¦è¾¹å±å¹•ï¼‰ï¼š  
   - åˆå§‹æ—¶ï¼Œæ‰€æœ‰æ•°å­—ï¼ˆ1åˆ°1e7ï¼‰éƒ½æ˜¯ç™½è‰²åƒç´ å—ã€‚  
   - åŠ¨ç”»å±•ç¤ºâ€œç­›å­â€æ‰«è¿‡æ•°å­—çš„è¿‡ç¨‹ï¼š  
     - é¦–å…ˆï¼Œ1å˜æˆçº¢è‰²ï¼ˆä¸æ˜¯è´¨æ•°ï¼‰ã€‚  
     - 2å˜æˆç»¿è‰²ï¼ˆè´¨æ•°ï¼‰ï¼Œç„¶åå®ƒçš„å€æ•°ï¼ˆ4ã€6ã€8â€¦ï¼‰å˜æˆçº¢è‰²ã€‚  
     - 3å˜æˆç»¿è‰²ï¼Œå®ƒçš„å€æ•°ï¼ˆ6ã€9ã€12â€¦ï¼‰å˜æˆçº¢è‰²ã€‚  
     - ä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰æ•°å­—éƒ½è¢«æ ‡è®°ã€‚  
   - éŸ³æ•ˆï¼šæ¯æ¬¡ç­›æ‰ä¸€ä¸ªåˆæ•°ï¼Œæ’­æ”¾â€œbuzzâ€å£°ï¼›æ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ªè´¨æ•°ï¼Œæ’­æ”¾â€œå®â€å£°ã€‚  

2. **æ’åˆ—å®éªŒå®¤**ï¼ˆå³è¾¹å±å¹•ï¼‰ï¼š  
   - è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼ˆæ¯”å¦‚123ï¼‰ï¼Œåˆ†è§£æˆæ¯ä¸€ä½ï¼ˆ1ã€2ã€3ï¼‰ï¼Œç”¨è“è‰²åƒç´ å—å±•ç¤ºã€‚  
   - åŠ¨ç”»æ¼”ç¤º`next_permutation`ç”Ÿæˆæ’åˆ—çš„è¿‡ç¨‹ï¼š  
     - 1ã€2ã€3 â†’ 1ã€3ã€2ï¼ˆåƒç´ å—äº¤æ¢ä½ç½®ï¼‰ã€‚  
     - 1ã€3ã€2 â†’ 2ã€1ã€3ï¼ˆåƒç´ å—äº¤æ¢ä½ç½®ï¼‰ã€‚  
     - ä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰æ’åˆ—éƒ½ç”Ÿæˆã€‚  
   - æ¯ç”Ÿæˆä¸€ä¸ªæ’åˆ—ï¼ŒæŠŠæ•°å­—æ‹¼èµ·æ¥ï¼ˆæ¯”å¦‚132ï¼‰ï¼Œé€åˆ°â€œè´¨æ•°å­—å…¸â€é‡ŒæŸ¥ï¼š  
     - å¦‚æœæ˜¯è´¨æ•°ï¼Œæ•°å­—å˜æˆç»¿è‰²ï¼Œæ’­æ”¾â€œå®â€å£°ï¼Œè®¡æ•°å™¨åŠ 1ã€‚  
     - å¦‚æœæ˜¯åˆæ•°ï¼Œæ•°å­—å˜æˆçº¢è‰²ï¼Œæ’­æ”¾â€œbuzzâ€å£°ã€‚  
   - å‰å¯¼é›¶çš„æƒ…å†µï¼šå¦‚æœæ’åˆ—çš„ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯0ï¼ˆæ¯”å¦‚012ï¼‰ï¼Œæ•°å­—å˜æˆç°è‰²ï¼Œè·³è¿‡ï¼Œæ’­æ”¾â€œæ»´â€å£°ã€‚  

### äº¤äº’è®¾è®¡  
- **æ§åˆ¶æŒ‰é’®**ï¼šâ€œå¼€å§‹â€ï¼ˆå¯åŠ¨åŠ¨ç”»ï¼‰ã€â€œå•æ­¥â€ï¼ˆä¸€æ­¥æ­¥çœ‹æ’åˆ—ç”Ÿæˆï¼‰ã€â€œé‡ç½®â€ï¼ˆé‡æ–°è¾“å…¥æ•°å­—ï¼‰ã€‚  
- **é€Ÿåº¦æ»‘å—**ï¼šè°ƒæ•´åŠ¨ç”»é€Ÿåº¦ï¼ˆæ…¢â†’å¿«ï¼‰ã€‚  
- **AIæ¼”ç¤º**ï¼šè‡ªåŠ¨æ’­æ”¾åŠ¨ç”»ï¼Œåƒâ€œè´ªåƒè›‡AIâ€ä¸€æ ·å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼Œé€‚åˆåˆå­¦è€…è§‚å¯Ÿã€‚  

### è®¾è®¡ç†ç”±  
- **åƒç´ é£æ ¼**ï¼šå¤å¤ã€å¯çˆ±ï¼Œç¬¦åˆé’å°‘å¹´çš„å®¡ç¾ï¼Œé™ä½å­¦ä¹ çš„æ¯ç‡¥æ„Ÿã€‚  
- **éŸ³æ•ˆæç¤º**ï¼šç”¨å£°éŸ³å¼ºåŒ–å…³é”®æ“ä½œï¼ˆæ¯”å¦‚æ‰¾åˆ°è´¨æ•°ï¼‰ï¼Œå¸®åŠ©è®°å¿†ã€‚  
- **åˆ†æ­¥æ¼”ç¤º**ï¼šè®©å­¦ä¹ è€…æ¸…æ¥šçœ‹åˆ°æ¯ä¸€æ­¥çš„å˜åŒ–ï¼Œç†è§£ç®—æ³•çš„é€»è¾‘ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### é€šç”¨æ€è·¯/æŠ€å·§è¿ç§»  
- **è´¨æ•°ç­›**ï¼šå¯ä»¥ç”¨äºæ‰€æœ‰éœ€è¦å¤šæ¬¡åˆ¤æ–­è´¨æ•°çš„é—®é¢˜ï¼ˆæ¯”å¦‚å›æ–‡è´¨æ•°ã€è´¨æ•°çš„ä¸ªæ•°ï¼‰ã€‚  
- **æ’åˆ—ç”Ÿæˆ**ï¼šå¯ä»¥ç”¨äºæ‰€æœ‰éœ€è¦ç”Ÿæˆæ•°å­—æ’åˆ—çš„é—®é¢˜ï¼ˆæ¯”å¦‚æ’åˆ—ä¸­çš„æœ€å¤§å€¼ã€æ’åˆ—ä¸­çš„å¶æ•°ï¼‰ã€‚  
- **è¾¹ç•Œæ¡ä»¶å¤„ç†**ï¼šå‰å¯¼é›¶ã€1ä¸æ˜¯è´¨æ•°ç­‰è¾¹ç•Œæ¡ä»¶ï¼Œåœ¨å¾ˆå¤šæ•°å­—é—®é¢˜ä¸­éƒ½éœ€è¦è€ƒè™‘ã€‚  

### ç»ƒä¹ æ¨è (æ´›è°·)  
1. **æ´›è°· P1217** - å›æ–‡è´¨æ•°  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯å›æ–‡æ•°ä¸”æ˜¯è´¨æ•°ï¼Œæ­£å¥½ç”¨åˆ°äº†æœ¬é¢˜çš„è´¨æ•°ç­›æŠ€å·§ï¼Œè¿˜èƒ½ç»ƒä¹ å›æ–‡æ•°çš„åˆ¤æ–­ã€‚  
2. **æ´›è°· P2626** - è´¨æ•°æ’åˆ—  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç”Ÿæˆ1åˆ°nçš„æ’åˆ—ï¼Œä½¿å¾—æ¯ä¸¤ä¸ªç›¸é‚»æ•°å­—çš„å’Œæ˜¯è´¨æ•°ï¼Œç”¨åˆ°äº†æ’åˆ—ç”Ÿæˆå’Œè´¨æ•°åˆ¤æ–­ï¼Œæ˜¯æœ¬é¢˜çš„è¿›é˜¶ç»ƒä¹ ã€‚  
3. **æ´›è°· P3912** - è´¨æ•°ä¸ªæ•°  
   - ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç»Ÿè®¡1åˆ°nçš„è´¨æ•°ä¸ªæ•°ï¼Œæ­£å¥½ç”¨åˆ°äº†æœ¬é¢˜çš„è´¨æ•°ç­›æŠ€å·§ï¼Œè¿˜èƒ½ç»ƒä¹ å‰ç¼€å’Œï¼ˆä¼˜åŒ–ç»Ÿè®¡é€Ÿåº¦ï¼‰ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)  
**å‚è€ƒç»éªŒ (æ¥è‡ªé¢˜è§£ä½œè€…)**ï¼š  
> â€œæˆ‘ä¸€å¼€å§‹æ²¡æƒ³åˆ°ç”¨`next_permutation`ï¼Œæ‰‹å†™äº†DFSç”Ÿæˆæ’åˆ—ï¼Œç»“æœè¶…æ—¶äº†ã€‚åæ¥æŸ¥äº†STLæ–‡æ¡£ï¼Œå‘ç°`next_permutation`å¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰æ’åˆ—ï¼ŒèŠ‚çœäº†å¾ˆå¤šæ—¶é—´ã€‚â€  
> â€œé¢„å¤„ç†è´¨æ•°çš„æ—¶å€™ï¼Œæˆ‘ä¸€å¼€å§‹ç”¨äº†æš´åŠ›ç­›ï¼Œç»“æœ1e7çš„æ•°æ®è·‘äº†å¾ˆä¹…ã€‚åæ¥æ¢æˆäº†æ¬§æ‹‰ç­›ï¼Œé€Ÿåº¦å¿«äº†å¾ˆå¤šã€‚â€  

**ç‚¹è¯„**ï¼šè¿™äº›ç»éªŒå¾ˆå…¸å‹ï¼åˆå­¦è€…å¾€å¾€ä¼šå¿½ç•¥STLå‡½æ•°çš„ä½œç”¨ï¼Œæˆ–è€…ç”¨æ•ˆç‡ä½çš„ç®—æ³•ï¼ˆæ¯”å¦‚æš´åŠ›ç­›ï¼‰ã€‚è®°ä½ï¼š**STLæ˜¯å·¥å…·ï¼Œè¦å­¦ä¼šç”¨ï¼›é¢„å¤„ç†æ˜¯å…³é”®ï¼Œè¦é€‰å¯¹æ–¹æ³•**ã€‚  


## ç»“è¯­  
æœ¬æ¬¡å…³äºâ€œPrime Permutationsâ€çš„åˆ†æå°±åˆ°è¿™é‡Œå•¦ï¼å¸Œæœ›å¤§å®¶èƒ½æŒæ¡â€œé¢„å¤„ç†è´¨æ•°â€å’Œâ€œç”Ÿæˆæ’åˆ—â€çš„æŠ€å·§ï¼Œä¸‹æ¬¡é‡åˆ°ç±»ä¼¼çš„é—®é¢˜æ—¶ï¼Œèƒ½å¿«é€Ÿæƒ³åˆ°è§£å†³æ–¹æ¡ˆã€‚è®°ä½ï¼š**ç¼–ç¨‹çš„å…³é”®æ˜¯â€œæ‹†è§£é—®é¢˜â€â€”â€”æŠŠå¤§é—®é¢˜æ‹†æˆå°é—®é¢˜ï¼Œä¸€ä¸ªä¸ªè§£å†³**ã€‚åŠ æ²¹ï¼ğŸ’ª

---
å¤„ç†ç”¨æ—¶ï¼š163.46ç§’
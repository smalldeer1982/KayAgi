# é¢˜ç›®ä¿¡æ¯

# PRIMPERM - Prime Permutations

## é¢˜ç›®æè¿°

$t$ ç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®ç»™å®šä¸€ä¸ªæ•´æ•° $n$ï¼Œæ±‚ $n$ çš„æ’åˆ—ä¸­æœ‰å¤šå°‘ä¸ªæ’åˆ—æ˜¯è´¨æ•°ã€‚

## è¯´æ˜/æç¤º

$t<10^4$ï¼Œ$n<10^7$

## æ ·ä¾‹ #1

### è¾“å…¥

```
2

13

110```

### è¾“å‡º

```
2

1```

# AIåˆ†æç»“æœ

# ğŸ’¡ Kayçš„C++ç®—æ³•è§£æï¼šPrime Permutations æ·±å…¥å­¦ä¹ æŒ‡å— ğŸ’¡


## 1. é¢˜ç›®è§£è¯»ä¸æ ¸å¿ƒç®—æ³•è¯†åˆ«

âœ¨ **æœ¬é¢˜ä¸»è¦è€ƒå¯Ÿ**ï¼š`æ•°å­¦ï¼ˆè´¨æ•°åˆ¤æ–­ï¼‰+ æ’åˆ—ç”Ÿæˆ`ï¼ˆç¼–ç¨‹æŠ€å·§åº”ç”¨ï¼‰  

ğŸ—£ï¸ **åˆæ­¥åˆ†æ**ï¼š  
è§£å†³â€œPrime Permutationsâ€é—®é¢˜ï¼Œå…³é”®åœ¨äº**ä¸¤æ­¥èµ°**ï¼šâ‘  å¿«é€Ÿåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºè´¨æ•°ï¼›â‘¡ ç”Ÿæˆç»™å®šæ•°å­—çš„æ‰€æœ‰æœ‰æ•ˆæ’åˆ—ï¼ˆæ— å‰å¯¼é›¶ï¼‰ã€‚  

- **è´¨æ•°åˆ¤æ–­**ï¼šå°±åƒæ•´ç†ç©å…·ç®±â€”â€”æˆ‘ä»¬ç”¨â€œç­›æ³•â€æŠŠæ‰€æœ‰åˆæ•°ï¼ˆâ€œåç©å…·â€ï¼‰æå‰æ ‡è®°å‡ºæ¥ï¼Œå‰©ä¸‹çš„å°±æ˜¯è´¨æ•°ï¼ˆâ€œå¥½ç©å…·â€ï¼‰ã€‚æœ¬é¢˜ä¸­ï¼Œç”±äº`n<1e7`ä¸”æœ‰`1e4`ç»„æ•°æ®ï¼Œå¿…é¡»ç”¨**é¢„å¤„ç†ç­›æ³•**ï¼ˆåŸƒæ°ç­›æˆ–æ¬§æ‹‰ç­›ï¼‰ï¼Œæ‰èƒ½å®ç°`O(1)`æ—¶é—´åˆ¤æ–­è´¨æ•°ã€‚  
- **æ’åˆ—ç”Ÿæˆ**ï¼šç±»ä¼¼ç©æ•°å­—å¡ç‰‡â€”â€”æŠŠç»™å®šæ•°å­—çš„æ¯ä¸€ä½æ‹†æˆâ€œå¡ç‰‡â€ï¼Œé‡æ–°æ’åˆ—åç»„æˆæ–°æ•°å­—ï¼Œå†æ£€æŸ¥æ˜¯å¦ä¸ºè´¨æ•°ã€‚è¿™é‡Œç”¨STLçš„`next_permutation`å‡½æ•°å¯ä»¥å¿«é€Ÿç”Ÿæˆæ‰€æœ‰æ’åˆ—ï¼Œé¿å…æ‰‹å†™é€’å½’ï¼ˆå®¹æ˜“è¶…æ—¶æˆ–å‡ºé”™ï¼‰ã€‚  

**æ ¸å¿ƒéš¾ç‚¹**ï¼šâ‘  é«˜æ•ˆé¢„å¤„ç†è´¨æ•°ï¼ˆé¿å…è¶…æ—¶ï¼‰ï¼›â‘¡ å¤„ç†æ’åˆ—çš„å‰å¯¼é›¶ï¼ˆç¡®ä¿æ•°å­—æœ‰æ•ˆï¼‰ã€‚  
**è§£å†³æ–¹æ¡ˆ**ï¼šâ‘  ç”¨æ¬§æ‹‰ç­›ï¼ˆçº¿æ€§æ—¶é—´ï¼‰é¢„å¤„ç†`1~1e7`çš„è´¨æ•°ï¼›â‘¡ ç”Ÿæˆæ’åˆ—å‰æ’åºï¼Œç”Ÿæˆååˆ¤æ–­ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯å¦ä¸º0ï¼ˆè·³è¿‡æ— æ•ˆæ’åˆ—ï¼‰ã€‚  

**å¯è§†åŒ–è®¾è®¡æ€è·¯**ï¼š  
è®¡åˆ’åšä¸€ä¸ª**8ä½åƒç´ é£åŠ¨ç”»**ï¼Œå·¦è¾¹å±•ç¤ºâ€œè´¨æ•°ç­›â€è¿‡ç¨‹ï¼ˆæ¯”å¦‚åŸƒæ°ç­›ï¼Œé€ä¸ªæ ‡è®°åˆæ•°ï¼‰ï¼Œå³è¾¹å±•ç¤ºâ€œæ•°å­—å¡ç‰‡æ’åˆ—â€ï¼ˆæ¯”å¦‚123çš„å¡ç‰‡äº¤æ¢ä½ç½®ï¼Œç”Ÿæˆ132ã€213ç­‰ï¼‰ã€‚å…³é”®æ­¥éª¤ç”¨é¢œè‰²é«˜äº®ï¼šâ‘  ç­›æ³•ä¸­ï¼Œåˆæ•°ç”¨çº¢è‰²åƒç´ å—æ ‡è®°ï¼›â‘¡ æ’åˆ—ä¸­ï¼Œæœ‰æ•ˆæ•°å­—ï¼ˆæ— å‰å¯¼é›¶ï¼‰ç”¨ç»¿è‰²æ ‡è®°ï¼Œè´¨æ•°ç”¨é»„è‰²é—ªçƒã€‚éŸ³æ•ˆæ–¹é¢ï¼Œæ ‡è®°åˆæ•°æ—¶æ’­æ”¾â€œå®â€çš„çŸ­éŸ³ï¼Œç”Ÿæˆæœ‰æ•ˆè´¨æ•°æ—¶æ’­æ”¾â€œæ»´â€çš„é•¿éŸ³ï¼Œå¢åŠ è¶£å‘³æ€§ã€‚  


## 2. ç²¾é€‰ä¼˜è´¨é¢˜è§£å‚è€ƒ

ä¸ºå¤§å®¶ç­›é€‰äº†3ä»½**æ€è·¯æ¸…æ™°ã€ä»£ç è§„èŒƒã€å®è·µä»·å€¼é«˜**çš„é¢˜è§£ï¼ˆè¯„åˆ†â‰¥4æ˜Ÿï¼‰ï¼š  

**é¢˜è§£ä¸€ï¼šæ¥æºï¼š_RainCappuccino_**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„**æ¬§æ‹‰ç­›å®ç°éå¸¸æ ‡å‡†**ï¼Œçº¿æ€§æ—¶é—´é¢„å¤„ç†`1e7`ä»¥å†…çš„è´¨æ•°ï¼Œç¡®ä¿äº†åç»­åˆ¤æ–­çš„é«˜æ•ˆæ€§ã€‚ä»£ç ç»“æ„æ¸…æ™°ï¼Œç”¨`next_permutation`ç”Ÿæˆæ’åˆ—çš„é€»è¾‘å¾ˆç›´æ¥â€”â€”å…ˆæ‹†åˆ†æ•°å­—çš„æ¯ä¸€ä½ï¼Œæ’åºåå¾ªç¯ç”Ÿæˆæ‰€æœ‰æ’åˆ—ï¼Œå†æ£€æŸ¥æ˜¯å¦ä¸ºè´¨æ•°ã€‚ç‰¹åˆ«å€¼å¾—å­¦ä¹ çš„æ˜¯**å‰å¯¼é›¶å¤„ç†**ï¼šé€šè¿‡`log10(p)+1 == w`åˆ¤æ–­æ•°å­—ä½æ•°æ˜¯å¦ä¸åŸæ•°ä¸€è‡´ï¼ˆé¿å…å‰å¯¼é›¶å¯¼è‡´ä½æ•°å‡å°‘ï¼‰ï¼Œè¿™ç§æ–¹æ³•æ¯”ç›´æ¥åˆ¤æ–­ç¬¬ä¸€ä¸ªæ•°å­—æ›´ä¸¥è°¨ã€‚  

**é¢˜è§£äºŒï¼šæ¥æºï¼šAdolfo_North**  
* **ç‚¹è¯„**ï¼šæ­¤é¢˜è§£ç”¨äº†**åŸƒæ°ç­›**ï¼ˆæ—¶é—´å¤æ‚åº¦`O(n log log n)`ï¼‰ï¼Œè™½ç„¶æ¯”æ¬§æ‹‰ç­›ç¨æ…¢ï¼Œä½†ä»£ç æ›´ç®€æ´ï¼Œå®¹æ˜“ç†è§£ã€‚å¯¹äº`1e7`çš„æ•°æ®ï¼ŒåŸƒæ°ç­›å®Œå…¨å¯ä»¥é€šè¿‡ã€‚æ’åˆ—ç”Ÿæˆéƒ¨åˆ†ï¼Œ`next_permutation`çš„ç”¨æ³•å¾ˆæ ‡å‡†ï¼Œå‰å¯¼é›¶å¤„ç†ç”¨äº†`if(!w[1]) continue`ï¼ˆç›´æ¥åˆ¤æ–­ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯å¦ä¸º0ï¼‰ï¼Œç®€å•ç›´è§‚ã€‚è¿™ä»½é¢˜è§£é€‚åˆåˆå­¦è€…å…¥é—¨ï¼Œä»£ç å¯è¯»æ€§é«˜ã€‚  

**é¢˜è§£ä¸‰ï¼šæ¥æºï¼šCode_Fish_GoodBye**  
* **ç‚¹è¯„**ï¼šè¿™ä»½é¢˜è§£çš„**æ¬§æ‹‰ç­›æ¨¡æ¿æ­£ç¡®**ï¼Œå¹¶ä¸”ç”¨äº†`ios_base::sync_with_stdio(false)`ç­‰ä¼˜åŒ–è¾“å…¥è¾“å‡ºçš„æŠ€å·§ï¼Œé€‚åˆç«èµ›ç¯å¢ƒã€‚æ’åˆ—ç”Ÿæˆéƒ¨åˆ†ï¼Œæ‹†åˆ†æ•°å­—çš„é€»è¾‘ï¼ˆ`while(n) s[++tot]=n%10;`ï¼‰å¾ˆç»å…¸ï¼Œæ’åºåç”¨`do-while`å¾ªç¯ç”Ÿæˆæ‰€æœ‰æ’åˆ—ï¼Œæ£€æŸ¥è´¨æ•°æ—¶ç”¨`isprime[QwQ]`ï¼ˆ`QwQ`æ˜¯æ’åˆ—ç»„æˆçš„æ•°å­—ï¼‰ï¼Œé€»è¾‘æ¸…æ™°ã€‚å‰å¯¼é›¶å¤„ç†ç”¨äº†`if(!s[1]) continue`ï¼Œç›´æ¥æœ‰æ•ˆã€‚  


## 3. æ ¸å¿ƒéš¾ç‚¹è¾¨æä¸è§£é¢˜ç­–ç•¥

### ğŸ”‘ æ ¸å¿ƒéš¾ç‚¹1ï¼šå¦‚ä½•é«˜æ•ˆåˆ¤æ–­è´¨æ•°ï¼Ÿ  
**åˆ†æ**ï¼šå¦‚æœæ¯ç»„æ•°æ®éƒ½æš´åŠ›åˆ¤æ–­ï¼ˆæ¯”å¦‚è¯•é™¤åˆ°sqrt(n)ï¼‰ï¼Œå¯¹äº`1e4`ç»„æ•°æ®å’Œ`1e7`çš„nï¼Œè‚¯å®šè¶…æ—¶ã€‚**è§£å†³æ–¹æ¡ˆ**ï¼šç”¨ç­›æ³•é¢„å¤„ç†â€”â€”æå‰æ ‡è®°`1~1e7`çš„æ‰€æœ‰åˆæ•°ï¼Œåˆ¤æ–­æ—¶ç›´æ¥æŸ¥æ•°ç»„ï¼ˆ`O(1)`ï¼‰ã€‚æ¬§æ‹‰ç­›ï¼ˆçº¿æ€§ç­›ï¼‰æ˜¯æœ€ä¼˜é€‰æ‹©ï¼Œå› ä¸ºå®ƒæ¯ä¸ªåˆæ•°åªè¢«æ ‡è®°ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦`O(n)`ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šé¢„å¤„ç†æ˜¯è§£å†³å¤šç»„æ•°æ®ã€å¤§èŒƒå›´å†…è´¨æ•°åˆ¤æ–­çš„â€œç¥å™¨â€ï¼  

### ğŸ”‘ æ ¸å¿ƒéš¾ç‚¹2ï¼šå¦‚ä½•ç”Ÿæˆæ‰€æœ‰æœ‰æ•ˆæ’åˆ—ï¼Ÿ  
**åˆ†æ**ï¼šæ‰‹å†™å…¨æ’åˆ—ï¼ˆæ¯”å¦‚é€’å½’ï¼‰å®¹æ˜“å‡ºé”™ï¼Œä¸”æ—¶é—´å¤æ‚åº¦é«˜ã€‚**è§£å†³æ–¹æ¡ˆ**ï¼šç”¨STLçš„`next_permutation`å‡½æ•°â€”â€”å®ƒèƒ½è‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰æ¯”å½“å‰æ’åˆ—å¤§çš„æ’åˆ—ï¼Œé¡ºåºä»å°åˆ°å¤§ã€‚ä½¿ç”¨å‰å¿…é¡»å¯¹æ•°ç»„æ’åºï¼ˆå¦åˆ™ä¼šæ¼æ‰éƒ¨åˆ†æ’åˆ—ï¼‰ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`next_permutation`æ˜¯ç”Ÿæˆå…¨æ’åˆ—çš„â€œå·æ‡’ç¥å™¨â€ï¼Œä½†è¦è®°å¾—æ’åºï¼  

### ğŸ”‘ æ ¸å¿ƒéš¾ç‚¹3ï¼šå¦‚ä½•å¤„ç†å‰å¯¼é›¶ï¼Ÿ  
**åˆ†æ**ï¼šæ’åˆ—çš„ç¬¬ä¸€ä¸ªæ•°å­—ä¸èƒ½ä¸º0ï¼ˆæ¯”å¦‚012ä¸æ˜¯æœ‰æ•ˆæ•°å­—ï¼‰ã€‚**è§£å†³æ–¹æ¡ˆ**ï¼šç”Ÿæˆæ’åˆ—åï¼Œåˆ¤æ–­ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯å¦ä¸º0ï¼ˆæ¯”å¦‚`if(s[1]==0) continue`ï¼‰ï¼Œè·³è¿‡æ— æ•ˆæ’åˆ—ã€‚  

ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šå‰å¯¼é›¶æ˜¯æ’åˆ—é—®é¢˜çš„å¸¸è§â€œå‘â€ï¼Œä¸€å®šè¦è®°å¾—åˆ¤æ–­ï¼  


### âœ¨ è§£é¢˜æŠ€å·§æ€»ç»“  
1. **é¢„å¤„ç†ä¼˜å…ˆ**ï¼šå¯¹äºå¤šç»„æ•°æ®ã€å¤§èŒƒå›´å†…çš„åˆ¤æ–­ï¼ˆæ¯”å¦‚è´¨æ•°ï¼‰ï¼Œæå‰é¢„å¤„ç†èƒ½å¤§å¹…æå‡æ•ˆç‡ã€‚  
2. **å–„ç”¨STL**ï¼š`next_permutation`ã€`sort`ç­‰STLå‡½æ•°èƒ½ç®€åŒ–ä»£ç ï¼Œé¿å…æ‰‹å†™å¤æ‚é€»è¾‘ã€‚  
3. **è¾¹ç•Œæ¡ä»¶å¤„ç†**ï¼šå‰å¯¼é›¶ã€1ä¸æ˜¯è´¨æ•°ç­‰è¾¹ç•Œæ¡ä»¶ï¼Œä¸€å®šè¦è€ƒè™‘åˆ°ã€‚  


## 4. C++æ ¸å¿ƒä»£ç å®ç°èµæ

### ğŸ“Œ æœ¬é¢˜é€šç”¨æ ¸å¿ƒC++å®ç°å‚è€ƒ  
* **è¯´æ˜**ï¼šç»¼åˆäº†ä¼˜è´¨é¢˜è§£çš„æ€è·¯ï¼Œç”¨æ¬§æ‹‰ç­›é¢„å¤„ç†è´¨æ•°ï¼Œ`next_permutation`ç”Ÿæˆæ’åˆ—ï¼Œå¤„ç†å‰å¯¼é›¶ï¼Œé€»è¾‘æ¸…æ™°ã€‚  
* **å®Œæ•´æ ¸å¿ƒä»£ç **ï¼š  
  ```cpp
  #include <iostream>
  #include <vector>
  #include <algorithm>
  #include <cmath>
  using namespace std;

  const int MAXN = 1e7 + 10;
  bool is_prime[MAXN];
  vector<int> primes;

  void euler_sieve() {
      fill(is_prime, is_prime + MAXN, true);
      is_prime[0] = is_prime[1] = false;
      for (int i = 2; i < MAXN; ++i) {
          if (is_prime[i]) {
              primes.push_back(i);
          }
          for (int p : primes) {
              if (i * p >= MAXN) break;
              is_prime[i * p] = false;
              if (i % p == 0) break;
          }
      }
  }

  int main() {
      ios::sync_with_stdio(false);
      cin.tie(nullptr);
      euler_sieve(); // é¢„å¤„ç†è´¨æ•°

      int t;
      cin >> t;
      while (t--) {
          int n;
          cin >> n;
          vector<int> digits;
          while (n > 0) {
              digits.push_back(n % 10);
              n /= 10;
          }
          sort(digits.begin(), digits.end()); // æ’åºï¼Œç¡®ä¿ç”Ÿæˆæ‰€æœ‰æ’åˆ—

          int ans = 0;
          do {
              if (digits[0] == 0) continue; // è·³è¿‡å‰å¯¼é›¶
              long long num = 0;
              for (int d : digits) {
                  num = num * 10 + d;
              }
              if (is_prime[num]) {
                  ans++;
              }
          } while (next_permutation(digits.begin(), digits.end()));

          cout << ans << '\n';
      }
      return 0;
  }
  ```  
* **ä»£ç è§£è¯»æ¦‚è¦**ï¼š  
  1. **é¢„å¤„ç†**ï¼šç”¨æ¬§æ‹‰ç­›æ ‡è®°`1~1e7`çš„è´¨æ•°ã€‚  
  2. **è¯»å–æ•°æ®**ï¼šè¯»å–`t`ç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®æ‹†åˆ†æ•°å­—çš„æ¯ä¸€ä½åˆ°`digits`æ•°ç»„ã€‚  
  3. **ç”Ÿæˆæ’åˆ—**ï¼šæ’åº`digits`ï¼Œç”¨`next_permutation`ç”Ÿæˆæ‰€æœ‰æ’åˆ—ã€‚  
  4. **æ£€æŸ¥æœ‰æ•ˆæ’åˆ—**ï¼šè·³è¿‡å‰å¯¼é›¶çš„æ’åˆ—ï¼Œå°†æ’åˆ—ç»„æˆæ•°å­—ï¼ŒæŸ¥`is_prime`æ•°ç»„åˆ¤æ–­æ˜¯å¦ä¸ºè´¨æ•°ï¼Œç»Ÿè®¡ç­”æ¡ˆã€‚  


### ğŸ“Œ ä¼˜è´¨é¢˜è§£ç‰‡æ®µèµæ  
**é¢˜è§£ä¸€ï¼š_RainCappuccino_çš„æ¬§æ‹‰ç­›**  
* **äº®ç‚¹**ï¼šæ ‡å‡†çš„æ¬§æ‹‰ç­›å®ç°ï¼Œçº¿æ€§æ—¶é—´é¢„å¤„ç†è´¨æ•°ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void euler(int n) {
      memset(is_pri, true, sizeof(is_pri));
      is_pri[1] = false;
      for (int i = 2; i <= n; ++i) {
          if (is_pri[i]) prime[++cnt] = i;
          for (int j = 1; j <= cnt && i * prime[j] <= n; ++j) {
              is_pri[i * prime[j]] = false;
              if (i % prime[j] == 0) break;
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `is_pri`æ•°ç»„æ ‡è®°æ˜¯å¦ä¸ºè´¨æ•°ï¼ˆ`true`ä¸ºè´¨æ•°ï¼‰ã€‚  
  - éå†`i`ä»2åˆ°`n`ï¼Œå¦‚æœ`i`æ˜¯è´¨æ•°ï¼ŒåŠ å…¥`prime`æ•°ç»„ã€‚  
  - ç”¨`prime`æ•°ç»„ä¸­çš„è´¨æ•°æ ‡è®°`i`çš„å€æ•°ä¸ºåˆæ•°ï¼ˆ`is_pri[i*prime[j]]=false`ï¼‰ã€‚  
  - å½“`i%prime[j]==0`æ—¶ï¼Œbreakï¼ˆé¿å…é‡å¤æ ‡è®°ï¼‰ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šæ¬§æ‹‰ç­›çš„å…³é”®æ˜¯â€œæ¯ä¸ªåˆæ•°åªè¢«å…¶æœ€å°è´¨å› å­æ ‡è®°â€ï¼Œæ‰€ä»¥æ•ˆç‡é«˜ã€‚  


**é¢˜è§£äºŒï¼šAdolfo_Northçš„åŸƒæ°ç­›**  
* **äº®ç‚¹**ï¼šä»£ç ç®€æ´ï¼Œå®¹æ˜“ç†è§£ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  void init() {
      f[0] = f[1] = 1; // 0ã€1ä¸æ˜¯è´¨æ•°
      for (int i = 2; i <= 1e7; ++i) {
          if (!f[i]) {
              for (int j = 2 * i; j <= 1e7; j += i) {
                  f[j] = 1; // æ ‡è®°åˆæ•°
              }
          }
      }
  }
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `f`æ•°ç»„æ ‡è®°æ˜¯å¦ä¸ºåˆæ•°ï¼ˆ`1`ä¸ºåˆæ•°ï¼‰ã€‚  
  - éå†`i`ä»2åˆ°`1e7`ï¼Œå¦‚æœ`i`æ˜¯è´¨æ•°ï¼ˆ`!f[i]`ï¼‰ï¼Œåˆ™æ ‡è®°å…¶æ‰€æœ‰å€æ•°ä¸ºåˆæ•°ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼šåŸƒæ°ç­›çš„æ€è·¯å¾ˆç®€å•â€”â€”â€œè´¨æ•°çš„å€æ•°éƒ½æ˜¯åˆæ•°â€ï¼Œé€‚åˆåˆå­¦è€…å…¥é—¨ã€‚  


**é¢˜è§£ä¸‰ï¼šCode_Fish_GoodByeçš„æ’åˆ—å¤„ç†**  
* **äº®ç‚¹**ï¼šæ‹†åˆ†æ•°å­—å’Œç”Ÿæˆæ’åˆ—çš„é€»è¾‘æ¸…æ™°ã€‚  
* **æ ¸å¿ƒä»£ç ç‰‡æ®µ**ï¼š  
  ```cpp
  while (n) {
      s[++tot] = n % 10;
      n /= 10;
  }
  sort(s + 1, s + tot + 1);
  do {
      if (!s[1]) continue;
      int QwQ = 0;
      for (int i = 1; i <= tot; ++i) {
          QwQ *= 10;
          QwQ += s[i];
      }
      if (isprime[QwQ]) ans++;
  } while (next_permutation(s + 1, s + tot + 1));
  ```  
* **ä»£ç è§£è¯»**ï¼š  
  - `while (n)`å¾ªç¯æ‹†åˆ†æ•°å­—çš„æ¯ä¸€ä½åˆ°`s`æ•°ç»„ã€‚  
  - `sort`æ’åº`s`æ•°ç»„ï¼Œç¡®ä¿`next_permutation`ç”Ÿæˆæ‰€æœ‰æ’åˆ—ã€‚  
  - `do-while`å¾ªç¯ç”Ÿæˆæ‰€æœ‰æ’åˆ—ï¼Œ`if (!s[1]) continue`è·³è¿‡å‰å¯¼é›¶ã€‚  
  - è®¡ç®—æ’åˆ—ç»„æˆçš„æ•°å­—`QwQ`ï¼ŒæŸ¥`isprime`æ•°ç»„åˆ¤æ–­æ˜¯å¦ä¸ºè´¨æ•°ã€‚  
* ğŸ’¡ **å­¦ä¹ ç¬”è®°**ï¼š`do-while`å¾ªç¯èƒ½ç¡®ä¿è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼ˆå³ä½¿æ²¡æœ‰æ’åˆ—ï¼‰ï¼Œé€‚åˆç”Ÿæˆæ‰€æœ‰æ’åˆ—ã€‚  


## 5. ç®—æ³•å¯è§†åŒ–ï¼šåƒç´ åŠ¨ç”»æ¼”ç¤º (æ ¸å¿ƒéƒ¨åˆ†)

### ğŸ® åŠ¨ç”»æ¼”ç¤ºä¸»é¢˜ï¼š`è´¨æ•°ç­›ä¸æ•°å­—æ’åˆ—å¤§å†’é™©`  
**é£æ ¼**ï¼š8ä½åƒç´ é£ï¼ˆç±»ä¼¼FCçº¢ç™½æœºï¼‰ï¼Œç”¨ç®€å•çš„åƒç´ å—å’Œé²œè‰³çš„é¢œè‰²å±•ç¤ºè¿‡ç¨‹ã€‚  
**æ ¸å¿ƒå†…å®¹**ï¼š  
1. **å·¦è¾¹ï¼šè´¨æ•°ç­›è¿‡ç¨‹**ï¼ˆåŸƒæ°ç­›ï¼‰ï¼š  
   - å±å¹•å·¦è¾¹æ˜¯ä¸€ä¸ª`1e7`çš„åƒç´ ç½‘æ ¼ï¼ˆç®€åŒ–ä¸º`100x100`çš„ç½‘æ ¼ï¼Œä»£è¡¨`1~10000`çš„æ•°ï¼‰ã€‚  
   - åˆå§‹æ—¶ï¼Œæ‰€æœ‰åƒç´ å—éƒ½æ˜¯ç»¿è‰²ï¼ˆä»£è¡¨æœªæ ‡è®°ï¼‰ã€‚  
   - éå†`i`ä»2åˆ°`10000`ï¼š  
     - å¦‚æœ`i`æ˜¯è´¨æ•°ï¼ˆç»¿è‰²ï¼‰ï¼Œåˆ™ç”¨é»„è‰²é—ªçƒæ ‡è®°ï¼Œå¹¶æ’­æ”¾â€œå®â€çš„éŸ³æ•ˆã€‚  
     - ç„¶åæ ‡è®°`i`çš„æ‰€æœ‰å€æ•°ä¸ºçº¢è‰²ï¼ˆåˆæ•°ï¼‰ï¼Œæ’­æ”¾â€œå•ªâ€çš„éŸ³æ•ˆã€‚  
2. **å³è¾¹ï¼šæ•°å­—æ’åˆ—è¿‡ç¨‹**ï¼ˆä»¥`123`ä¸ºä¾‹ï¼‰ï¼š  
   - å±å¹•å³è¾¹æ˜¯ä¸‰ä¸ªæ•°å­—å¡ç‰‡ï¼ˆ`1`ã€`2`ã€`3`ï¼‰ï¼Œåˆå§‹æ—¶æ’æˆ`123`ã€‚  
   - ç”¨`next_permutation`ç”Ÿæˆä¸‹ä¸€ä¸ªæ’åˆ—ï¼ˆæ¯”å¦‚`132`ï¼‰ï¼Œæ•°å­—å¡ç‰‡äº¤æ¢ä½ç½®ï¼Œæ’­æ”¾â€œå“—å•¦â€çš„éŸ³æ•ˆã€‚  
   - ç”Ÿæˆæ’åˆ—åï¼Œåˆ¤æ–­æ˜¯å¦æœ‰å‰å¯¼é›¶ï¼ˆæ¯”å¦‚`012`ï¼‰ï¼šå¦‚æœæœ‰ï¼Œå¡ç‰‡å˜æˆç°è‰²ï¼Œè·³è¿‡ï¼›å¦‚æœæ²¡æœ‰ï¼Œå¡ç‰‡å˜æˆè“è‰²ï¼Œè®¡ç®—ç»„æˆçš„æ•°å­—ï¼ˆæ¯”å¦‚`132`ï¼‰ï¼ŒæŸ¥å·¦è¾¹çš„è´¨æ•°ç­›ç½‘æ ¼ï¼šå¦‚æœæ˜¯è´¨æ•°ï¼ˆé»„è‰²ï¼‰ï¼Œå¡ç‰‡å˜æˆé‡‘è‰²ï¼Œæ’­æ”¾â€œæ»´â€çš„éŸ³æ•ˆï¼Œç»Ÿè®¡ç­”æ¡ˆã€‚  
3. **æ§åˆ¶é¢æ¿**ï¼š  
   - æœ‰â€œå¼€å§‹/æš‚åœâ€ã€â€œå•æ­¥æ‰§è¡Œâ€ã€â€œé‡ç½®â€æŒ‰é’®ï¼Œä»¥åŠé€Ÿåº¦æ»‘å—ï¼ˆè°ƒæ•´åŠ¨ç”»é€Ÿåº¦ï¼‰ã€‚  
   - â€œAIè‡ªåŠ¨æ¼”ç¤ºâ€æ¨¡å¼ï¼šåŠ¨ç”»è‡ªåŠ¨æ‰§è¡Œï¼Œåƒâ€œè´ªåƒè›‡AIâ€ä¸€æ ·å®Œæˆè´¨æ•°ç­›å’Œæ’åˆ—ç”Ÿæˆã€‚  

**è®¾è®¡æ€è·¯**ï¼š  
- åƒç´ é£æ ¼è®©åŠ¨ç”»æ›´äº²åˆ‡ï¼Œç¬¦åˆé’å°‘å¹´çš„å®¡ç¾ã€‚  
- éŸ³æ•ˆå¢å¼ºäº’åŠ¨æ„Ÿï¼Œè®©å…³é”®æ­¥éª¤ï¼ˆæ¯”å¦‚æ ‡è®°è´¨æ•°ã€ç”Ÿæˆæœ‰æ•ˆæ’åˆ—ï¼‰æ›´æ˜“è®°å¿†ã€‚  
- å·¦å³åˆ†å±å±•ç¤ºï¼ŒåŒæ—¶ç†è§£â€œè´¨æ•°ç­›â€å’Œâ€œæ’åˆ—ç”Ÿæˆâ€ä¸¤ä¸ªæ ¸å¿ƒæ­¥éª¤ï¼Œæé«˜å­¦ä¹ æ•ˆç‡ã€‚  


## 6. æ‹“å±•ç»ƒä¹ ä¸ç›¸ä¼¼é—®é¢˜æ€è€ƒ

### ğŸ§  é€šç”¨æ€è·¯è¿ç§»  
æœ¬é¢˜çš„æ ¸å¿ƒæ€è·¯ï¼ˆé¢„å¤„ç†è´¨æ•°+ç”Ÿæˆæ’åˆ—ï¼‰å¯ä»¥åº”ç”¨åˆ°ä»¥ä¸‹åœºæ™¯ï¼š  
1. **å›æ–‡è´¨æ•°**ï¼šåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å›æ–‡ä¸”è´¨æ•°ï¼ˆæ¯”å¦‚æ´›è°·P1217ï¼‰ã€‚  
2. **è´¨æ•°æ’åˆ—è®¡æ•°**ï¼šç»Ÿè®¡æ‰€æœ‰æ’åˆ—ä¸­æ˜¯è´¨æ•°çš„æ•°é‡ï¼ˆæ¯”å¦‚æ´›è°·P2626ï¼‰ã€‚  
3. **ç´ æ•°ä¸ªæ•°ç»Ÿè®¡**ï¼šç»Ÿè®¡æŸä¸ªèŒƒå›´å†…çš„ç´ æ•°ä¸ªæ•°ï¼ˆæ¯”å¦‚æ´›è°·P3912ï¼‰ã€‚  


### ğŸ“š æ´›è°·ç»ƒä¹ æ¨è  
1. **æ´›è°· P1217** - å›æ–‡è´¨æ•°  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦åˆ¤æ–­å›æ–‡æ•°æ˜¯å¦ä¸ºè´¨æ•°ï¼Œèƒ½å·©å›ºâ€œè´¨æ•°é¢„å¤„ç†â€å’Œâ€œå›æ–‡æ•°åˆ¤æ–­â€çš„æŠ€å·§ã€‚  
2. **æ´›è°· P2626** - è´¨æ•°æ’åˆ—  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šæ­¤é¢˜è¦æ±‚ç»Ÿè®¡æ’åˆ—ä¸­æ˜¯è´¨æ•°çš„æ•°é‡ï¼Œå’Œæœ¬é¢˜æ€è·¯å‡ ä¹ä¸€è‡´ï¼Œé€‚åˆå¼ºåŒ–â€œæ’åˆ—ç”Ÿæˆâ€å’Œâ€œå‰å¯¼é›¶å¤„ç†â€çš„èƒ½åŠ›ã€‚  
3. **æ´›è°· P3912** - ç´ æ•°ä¸ªæ•°  
   ğŸ—£ï¸ **æ¨èç†ç”±**ï¼šè¿™é“é¢˜éœ€è¦ç»Ÿè®¡`1~n`çš„ç´ æ•°ä¸ªæ•°ï¼Œèƒ½å·©å›ºâ€œåŸƒæ°ç­›â€å’Œâ€œæ¬§æ‹‰ç­›â€çš„å®ç°ã€‚  


## 7. å­¦ä¹ å¿ƒå¾—ä¸ç»éªŒåˆ†äº« (è‹¥æœ‰)

**å‚è€ƒç»éªŒï¼ˆæ¥è‡ª_ RainCappuccino_ï¼‰**ï¼šâ€œæˆ‘ä¸€å¼€å§‹ç”¨æš´åŠ›åˆ¤æ–­è´¨æ•°ï¼Œç»“æœè¶…æ—¶äº†ï¼Œåæ¥æ¢æˆæ¬§æ‹‰ç­›æ‰é€šè¿‡ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œé¢„å¤„ç†å¯¹äºå¤šç»„æ•°æ®é—®é¢˜çš„é‡è¦æ€§ã€‚â€  
**ç‚¹è¯„**ï¼šè¿™ä½ä½œè€…çš„ç»å†å¾ˆå…¸å‹â€”â€”æš´åŠ›æ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†å¯¹äºå¤§æ•°æ®æ¥è¯´æ•ˆç‡å¤ªä½ã€‚é¢„å¤„ç†æ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„å…³é”®ï¼Œä¸€å®šè¦è®°ä½â€œæå‰å‡†å¤‡ï¼Œé¿å…é‡å¤è®¡ç®—â€ã€‚  

**å‚è€ƒç»éªŒï¼ˆæ¥è‡ªAdolfo_Northï¼‰**ï¼šâ€œæˆ‘ä¸€å¼€å§‹å¿˜è®°æ’åºå°±ç”¨next_permutationï¼Œç»“æœæ¼æ‰äº†å¾ˆå¤šæ’åˆ—ï¼Œåæ¥çœ‹äº†é¢˜è§£æ‰çŸ¥é“è¦æ’åºã€‚â€  
**ç‚¹è¯„**ï¼š`next_permutation`åªèƒ½ç”Ÿæˆæ¯”å½“å‰æ’åˆ—å¤§çš„æ’åˆ—ï¼Œæ‰€ä»¥å¿…é¡»æ’åºæ‰èƒ½ç”Ÿæˆæ‰€æœ‰æ’åˆ—ã€‚è¿™æ˜¯ä¸€ä¸ªå®¹æ˜“çŠ¯çš„é”™è¯¯ï¼Œä¸€å®šè¦æ³¨æ„ï¼  


## ğŸ‰ æ€»ç»“  
æœ¬æ¬¡åˆ†æçš„â€œPrime Permutationsâ€é—®é¢˜ï¼Œæ ¸å¿ƒæ˜¯**é¢„å¤„ç†è´¨æ•°**å’Œ**ç”Ÿæˆæœ‰æ•ˆæ’åˆ—**ã€‚é€šè¿‡å­¦ä¹ ä¼˜è´¨é¢˜è§£ï¼Œæˆ‘ä»¬æŒæ¡äº†æ¬§æ‹‰ç­›ã€åŸƒæ°ç­›çš„å®ç°ï¼Œä»¥åŠ`next_permutation`çš„ç”¨æ³•ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªåƒç´ é£æ ¼çš„åŠ¨ç”»ï¼Œè®©ç®—æ³•è¿‡ç¨‹æ›´ç›´è§‚ã€‚  

è®°ä½ï¼š**é¢„å¤„ç†æ˜¯æ•ˆç‡çš„å…³é”®ï¼ŒSTLæ˜¯ç®€åŒ–ä»£ç çš„ç¥å™¨ï¼Œè¾¹ç•Œæ¡ä»¶æ˜¯é¿å…é”™è¯¯çš„é‡ç‚¹**ã€‚å¸Œæœ›å¤§å®¶é€šè¿‡ç»ƒä¹ ï¼Œèƒ½ä¸¾ä¸€åä¸‰ï¼Œè§£å†³æ›´å¤šç±»ä¼¼é—®é¢˜ï¼ ğŸ’ª  

ä¸‹æ¬¡æˆ‘ä»¬å†ä¸€èµ·æ¢ç´¢æ–°çš„ç¼–ç¨‹æŒ‘æˆ˜ï¼ ğŸš€

---
å¤„ç†ç”¨æ—¶ï¼š170.18ç§’
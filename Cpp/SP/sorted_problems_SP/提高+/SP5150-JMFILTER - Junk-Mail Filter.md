---
title: "JMFILTER - Junk-Mail Filter"
layout: "post"
diff: 提高+/省选-
pid: SP5150
tag: []
---

# JMFILTER - Junk-Mail Filter

## 题目描述

认识垃圾邮件是一项艰巨的任务。这里使用的方法包括两个步骤：

 - 从传入的电子邮件中提取共同特征。
 - 使用匹配提取的公共特征集的过滤器来确定电子邮件是否为垃圾邮件。

我们想从目前可用的 $N$ 个示例垃圾电子邮件中提取一组共同特征，因此使用方便的数据分析工具将很有帮助。该工具应支持以下操作：

 - `M x y`，这意味着我们认为垃圾邮件 $x$ 和 $y$ 的特征是相同的。请注意，此处定义的相同关系是传递的。
 - `S x`，这意味着我们认为垃圾邮件 $x$ 被误认了。您的工具应删除垃圾邮件 $x$ 具有的所有关系；之后，垃圾邮件 $x$ 将成为关系图中的一个孤立节点。

最初，任何一对垃圾电子邮件之间都不存在任何关系，因此当时的不同特征的数量是 $N$。

请帮助我们跟踪任何必要的信息以解决我们的问题。

## 输入格式

输入文件中有多个测试用例。

每个测试用例以两个整数 $N$ 和 $M$ $(1\leq n\leq 10^5, 0\leq M\leq 10^6)$，代表电子邮件样本数量和操作数量。

两个相邻的测试用例用空行分开。$n = 0$ 且 $m = 0$ 的情况表示输入文件的末尾，您的程序不应处理。

## 输出格式

对于每个测试用例，请使用单个整数输出所有操作结束后独特的共同特征的数量。

## 样例 #1

### 输入

```
5 6
M 0 1
M 1 2
M 1 3
S 1
M 1 2
S 3

3 1
M 1 2

0 0
```

### 输出

```
Case #1: 3
Case #2: 2
```


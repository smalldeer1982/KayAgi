---
title: "JTRIP - Johns Trip"
layout: "post"
diff: 提高+/省选-
pid: SP9528
tag: []
---

# JTRIP - Johns Trip

## 题目描述

小约翰尼刚买了一辆新车。他打算在城里开车去看望他的朋友们。由于朋友众多，约翰尼想要拜访所有人，每条街上都有一位朋友。他思考了一下，如何让这趟旅程尽量短。很快，他意识到，最好的办法是只经过每条街道一次。当然，他也希望能回到起始地点——他父母的家。

在小镇上，街道被编号为1到$n$，其中$n<1995$。路口则独立编号为1到$m$，$m \le 2000$。每个路口的编号都不同。每条街道正好连接两个（可能相同的）路口，而且没有两条街道的编号是相同的。约翰尼很快便开始规划他的环形旅程。如果有不止一条这样的环形路线，他希望选择那条按照街道编号组成的序列字典序最小的。

然而，约翰尼发现，他连一条这样的环形路线都找不到。请帮助他编写一个程序，找到需要的最短环形旅程。如果不存在这样的路线，程序应输出相应的提示信息。假设约翰尼住在连接编号较小的路口的第一条街道上。镇上的所有街道都是双向通行的。从任何一条街道都可以到达镇上的其他街道。镇上的街道非常狭窄，一旦进入，就无法掉头。

## 输入格式

输入由几个数据块组成。每个数据块描述一个城镇。块中的每一行包含三个整数 $x$、$y$ 和 $z$，其中 $x > 0$ 和 $y > 0$ 是由编号为 $z$ 的街道连接的路口编号。每个数据块的末尾由一行 $x = y = 0$ 标志结束。输入文件结束时有一个空块，即 $x = y = 0$。

## 输出格式

输出与输入数据块对应。每个输出块包含两行。第一行是描述约翰尼环形旅行的街道编号序列（用空格分隔）。如果找不到环形路线，则输出提示信息 "Round trip does not exist."。第二行为空行。

## 示例输入
```
1 2 1
2 3 2
3 1 6
1 2 5
2 3 3
3 1 4
0 0
1 2 1
2 3 2
1 3 3
2 4 4
0 0
0 0
```

## 示例输出
```
1 2 3 5 4 6

Round trip does not exist.
```

 **本翻译由 AI 自动生成**


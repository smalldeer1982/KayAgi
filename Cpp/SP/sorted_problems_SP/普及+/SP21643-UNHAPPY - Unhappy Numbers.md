---
title: "UNHAPPY - Unhappy Numbers"
layout: "post"
diff: 普及+/提高
pid: SP21643
tag: ['数位 DP']
---

# UNHAPPY - Unhappy Numbers

## 题目描述

数字也是有性格的！对于任何一个正整数，可以对它的每一位数字取平方，然后将这些平方相加，得到一个新的数。对这个新数重复同样的操作。如果经过若干次操作后结果变为 $1$，我们称这个数为「快乐数」。有些快乐数需要经过多次操作才能达到 $1$，这个迭代的次数称为它的快乐距离。比如，$1$ 的快乐距离是 $0$，而 $23$ 的快乐距离是 $3$，因为 $2^2 + 3^2 = 13$，接着 $1^2 + 3^2 = 10$，再接着 $1^2 + 0^2 = 1$。如果一个数在这个过程永远无法变到 $1$，因为它陷入了循环中，那么这个数就是「不快乐数」。

现在你的任务是给定一个整数范围的下界和上界，计算这个范围内（包括边界）有多少个不快乐数。

## 输入格式

输入包含多行。

对于每一行，两个整数 $L$ 和 $R$，表示要求的下界和上界。

输入以两个 $0$ 结束，你不需要对最后一行做处理。

## 输出格式

对于每一组数据：输出一个整数，表示在给定范围内不快乐数的数量。

## 说明/提示

对于所有数据，$1\le L \le R \le {10}^{18}$。


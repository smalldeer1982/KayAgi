---
title: "HAPPYTL - Happy Telephones"
layout: "post"
diff: 难度0
pid: SP10078
tag: []
---

# HAPPYTL - Happy Telephones

## 题目描述

在伊甸园，所有电话交谈都充满欢乐。任何在电话中抱怨的人会被立刻抓进监狱。为确保这一法律得以执行，警方对所有电话进行了监听。

警方需要雇佣合适数量的操作员，以便在给定的时间段内监听所有的电话。遗憾的是，每个操作员一次只能监听一通电话，并且还需要经历漫长的休息时间。

作为警方的外包承包商，你被要求编写一个程序，来计算需要多少操作员。若程序出错，你将与那些不满的抱怨者一同被送入监狱。你不会想面对这样的结果吧？

## 输入格式

每组测试数据的第一行包括两个整数，分别表示电话通话的数量 $N$（$1 \le N < 10\,000$）和时间间隔的数量 $M$（$1 \le M < 100$）。接下来是 $N$ 行，每行包含四个整数，表示一通电话：$Source$ 和 $Destination$ 是拨打电话的一对电话号码（$0 \le Source, Destination \le 10^6$），$Start$ 和 $Duration$ 是通话的开始时间和持续时间（以秒计，$1 \le Duration \le 10^7$，$0 \le Start \le 10^7$）。你可以放心，$Start$ 加上 $Duration$ 的总和可安全存储在一个 32 位有符号整数中。

接下来有 $M$ 行，每行描述一个警方感兴趣的时间间隔，均由两个整数 $Start$ 和 $Duration$ 指定，格式和限制与电话通话相同。以 $N = M = 0$ 作为输入结束标识，不需处理该行。

## 输出格式

对于每组测试数据中的每个时间间隔，输出在该时间段内至少有一秒钟处于活跃状态的通话数量。

## 说明/提示

- $1 \le N < 10\,000$
- $1 \le M < 100$
- $0 \le Source, Destination \le 10^6$
- $0 \le Start \le 10^7$
- $1 \le Duration \le 10^7$

**示例输入**

```
3 2
3 4 2 5
1 2 0 10
6 5 5 8
0 6
8 2
1 2
8 9 0 10
9 1
10 1
0 0
```

**示例输出**

```
2
1
1
0
```

 **本翻译由 AI 自动生成**


---
title: "LUCISORT - Lucifer Sort"
layout: "post"
diff: 难度0
pid: SP11334
tag: []
---

# LUCISORT - Lucifer Sort

## 题目描述

打败 Raone 后，Lucifer 和 G-One 一样变得无聊，而他没有电脑游戏可以玩。因此，Lucifer 开始像 G-One 一样看书。不过，与 G-One 不同的是，他买了一个大书架并购入了许多书籍。这些书每本都有一个独立的序列号。

Lucifer 经常邀请朋友和小孩来家里看书，但问题是大家都随意把书放回书架。于是每天结束时，Lucifer 需要将书按序列号从小到大的顺序重新整理。他只会用一种方法，这种排序方式叫做 Lucifer 排序法。

在这种方法中，Lucifer 可以从书架上的任意位置取一本书，但只能将其放到剩余书籍的中间位置。例如，如果书的当前顺序是：

2 1 3 4 5 6

排序过程如下：

1. 选中 2，放在 (1 3 4 5 6) 中的 4 和 5 之间，结果为 1 3 4 2 5 6
2. 选中 3，放在 (1 4 2 5 6) 中的 2 和 5 之间，结果为 1 4 2 3 5 6
3. 选中 4，放在 (1 2 3 5 6) 中的 3 和 5 之间，最终得到 1 2 3 4 5 6

假设位置编号从 1 到 N。

在放回书籍时，如果剩余的书本数量为偶数，则放入第 n/2 和第 n/2+1 位置之间；若为奇数，则放入第 (n+1)/2 和第 (n+1)/2+1 位置之间。

书的数量众多，Lucifer 需要你的帮助来计算完成排序需要多少步。

## 输入格式

第一行包含书架的数量 `svs`。

对于每个书架，有两行输入：

- 第一行包含书的数量 `bks`。
- 第二行包含当天结束时书的序列号顺序。

## 输出格式

输出一行，表明需要移除并替换的次数。

如果无法通过此方法完成排序，则输出 `YOU ARE DOOMED`。

## 说明/提示

- $1 \le svs \le 10^5$
- $1 \le bks \le 10^5$
- $1 \le$ 序列号 $\le 10^9$

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
3
6
1 2 3 4 5 6
6
2 1 3 4 5 6
6
6 5 4 3 2 1
```

### 输出

```

```


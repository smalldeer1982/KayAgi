---
title: "FISHES - Finding Fishes"
layout: "post"
diff: 难度0
pid: SP12651
tag: []
---

# FISHES - Finding Fishes

## 题目描述

Marlin 和 Dory 去年四月订婚，他们计划在今年十一月结婚。然而，Dory 不像其他女孩那样期待金钱、戒指或家具作为嫁妆！她拥有大量鱼的照片，并希望有一个程序能在照片中标出鱼所在的框。时间紧迫，Marlin 的程序仅能处理图像并生成一些数据来帮助定位这些框。请帮助他实现梦想中的婚礼。

对于每张图片，Marlin 输出以下信息：

- 两个整数 $H$ 和 $K$。
- 一个二维整数矩阵 $M$，元素范围是从 $1$ 到 $K$。
- $T$ 个长度为 $K$ 的整数向量 $V_i$，每个向量都与一个整数值 $X_i$ 相关。

有一个评分函数用来计算图片中任意框的得分。得分越高则表示该框更有可能紧密包围一条鱼。因此，Marlin 需要找到得分最高的鱼框。

给定框 $B$ 的四个角坐标，该函数按以下步骤操作：

1. 构造向量 $V$，它表示框内 $M$ 矩阵中每个数值的频率。
2. 计算得分，公式为：

   $$\text{Score} = H + \sum_{i=1}^{T} \left[ X_i \cdot (V \cdot V_i) \right]$$

   其中 $(a \cdot b)$ 是指两个向量的点积。

## 输入格式

第一行输入一个整数 $S$，表示测试用例的数量。后接 $S$ 个测试用例。每个测试用例以一行五个整数 $R$、$C$、$H$、$K$ 和 $T$ 开始，分别表示矩阵的行数、列数，以及题目描述中的 $H$、$K$ 和 $T$。接下来是 $R$ 行，每行 $C$ 个整数，表示矩阵 $M$。随后是 $T$ 行，每行包含一个整数 $X$，以及 $K$ 个整数，构成向量。

## 输出格式

对于每个测试用例，输出一行格式为“Case #K:”，其中 $K$ 为测试用例编号，后跟该测试用例中得分最高的鱼框的得分。

## 说明/提示

无特别限制。

 **本翻译由 AI 自动生成**


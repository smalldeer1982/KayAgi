---
title: "BLACJACK - Blackjack"
layout: "post"
diff: 难度0
pid: SP12806
tag: []
---

# BLACJACK - Blackjack

## 题目描述

你作为一位杰出的数学家和前 Blackjack 团队成员，最近被当地赌场列为“不受欢迎的人”。闲得无聊之际，你想起了组队在全球赌场赢牌的日子，决定帮助你的朋友们在二十一点游戏中获胜。

二十一点，又叫黑杰克，是赌场常见的游戏，通常使用一副或多副52张的牌。你朋友玩的版本略有不同，它是在玩家和庄家之间进行的，使用的是由 $n$ 张牌组成的牌组，也就是 $a_1, a_2, \ldots, a_n$，而不是标准的52张。这里第 $i$ 张牌有唯一的数值 $a_i$，这是游戏规则的重要部分。

只要牌组中剩下不少于 $k$（$k \geq 10$）张牌，游戏会继续进行多轮。牌从 $a_1$ 到 $a_n$ 逐张发出，每张牌最多发一次。每一轮，先给玩家发一张牌，再给庄家发一张，接着再给玩家和庄家各发一张，此时两人手中各有两张牌。之后，玩家可以继续抽牌，直到他爆牌（手中牌总值超过21点），或者总值超过15点（认为够了），或者已抽三次牌。

如果玩家爆牌，他会立即输掉这一轮；若在不爆牌的情况下抽满三次（手中共有五张牌），则立即胜出这一轮。接下来，庄家按同样策略操作。同样地，若庄家爆牌则会输掉这一轮；若他手中有五张牌，则获胜。如果双方抽牌后都未决定胜负，将比较手中牌的总点数，点数大者胜出；若平局，则双方都不胜不负，回合结束。

在你朋友玩的赌场中有一个特殊规则：在游戏开始前，玩家必须将牌切一次。切牌的意思是将牌组从

```
a1, a2, ..., an
```

变为

```
ap, ap+1, ..., aq, a1, a2, ..., ap-1, aq+1, ..., an (1 < p <= q < n)
```

依靠你的特殊能力（比如黑客技术），你已经知道了当前要玩的牌组，你希望通过某种秘密的方式告诉你的朋友应该如何切牌，即选择 $p$ 和 $q$ 的值，以最大化他赢得的回合数。

## 输入格式

对于每组测试数据，第一行包含两个整数，分别是 $n$（$20 \leq n \leq 2000$）和 $k$（$10 \leq k \leq n$）。

接下来的几行由空格或换行分隔，包含总共 $n$ 个字符。字符可以是 A、2、3、4、5、6、7、8、9、T、J、Q、K，其中 A 代表数值 1，T、J、Q、K 代表数值 10。

输入以EOF结束。

## 输出格式

对于每组测试数据，输出一行格式为“Case X: Y”，其中 X 是测试数据编号（从1开始），Y 是预期的结果数字。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
20 10
8 4 7 8 8 K 5 A Q Q A Q 6 4 J 6 9 5
3 9
40 10
3 J 7 7 2 T J 6 A 4 4 8 J T 6 A 6 2 K 9
6 5 7 J T 3 5 5 3 7 7 J 5 3 A 5 9 Q 6 7
```

### 输出

```
Case 1: 3
Case 2: 6
```


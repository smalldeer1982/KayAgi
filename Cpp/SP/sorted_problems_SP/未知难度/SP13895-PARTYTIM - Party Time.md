---
title: "PARTYTIM - Party Time"
layout: "post"
diff: 难度0
pid: SP13895
tag: []
---

# PARTYTIM - Party Time

## 题目描述

在一个有 $n$ 层的度假村里，第 $n$ 层即将举行一场盛大的派对。两部神奇的电梯 A 和 B 正停在地面（即第 0 层）。

从第 0 层到第 $n-1$ 层都有等着去参加派对的人。人们将乘坐这两部电梯前往派对地点。这些电梯可以从任意一层移动到另一层，从第 $i$ 层到第 $j$ 层的移动时间为 $|j - i|$ 个时间单位。

此外，电梯移动还会产生一定费用。假设电梯 A 从第 $i$ 层移动到第 $j$ 层，且载有 $x$ 人，则费用为 $A[i] \oplus A[j] \oplus x$，其中 $\oplus$ 表示按位异或操作。同理，对于电梯 B，费用为 $B[i] \oplus B[j] \oplus x$。如果电梯在第 $k$ 层停靠，有 $a$ 人上车、$b$ 人下车，电梯内人数变化为 $y$，则总费用为 $(A[i] \oplus A[k] \oplus x) + (A[k] \oplus A[j] \oplus y)$。

在任何楼层，电梯都可以让乘客上下车，且无需时间。

所有等待的人都必须到达第 $n$ 层。由于派对马上就要开始，度假村经理希望所有人能够尽快到达。因此，你需要负责控制这些电梯，使所有人能够在最短的时间内赶到派对现场，并且尽可能降低操作费用。

**注释：**

1. 目标是将第 0 到第 $n-1$ 层等待的人全部送到第 $n$ 层。
2. 电梯可以向上或向下移动。
3. 电梯在楼层间停留以及乘客上下车的时间为零。
4. 举个例子，如果 A 电梯载着 5 个人从第 2 层到第 6 层，费用为 $A[2] \oplus A[6] \oplus 5$。
5. 如果 A 电梯在第 4 层增加一名乘客，那么新费用为 $(A[2] \oplus A[4] \oplus 5) + (A[4] \oplus A[6] \oplus 6)$。

## 输入格式

第一行是一个整数，表示测试用例的数量（最多 10 个）。

每个测试用例的输入为：

- 第一行：一个整数 $n$，建筑物的层数。
- 第二行：包含 $n+1$ 个整数，表示 $A[0], A[1], \ldots, A[n]$。
- 第三行：包含 $n+1$ 个整数，表示 $B[0], B[1], \ldots, B[n]$。
- 第四行：包含 $n$ 个整数，依次表示从第 0 层至第 $n-1$ 层等待的人数。

## 输出格式

对于每个测试用例，输出操作电梯把所有人送到第 $n$ 层的最小费用。

## 说明/提示

- $1 \le n \le 10^3$
- $0 \le A[i], B[i] \le 10^9$
- $0 \le $ 每层等待的人数 $\le 10^3$

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
2
2
0 1 3
0 1 5
2 1
4
1 3 5 7 9
2 4 6 8 10
1 2 3 4
```

### 输出

```
1
16
```


---
title: "RAIN2 - Outside it is now raining"
layout: "post"
diff: 难度0
pid: SP1468
tag: []
---

# RAIN2 - Outside it is now raining

## 题目描述

M 国属于多雨之地。在其首都 P 城，频繁降雨常常让市民在过马路时感到困扰。为了帮助大家更轻松地过马路，政府在每个十字路口的上方安装了许多“自动雨伞”，如下图所示。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP1468/b8a3ca7533204bc06a1c2e163ba3c2415feff986.png)

这些“自动雨伞”看起来像扁平的矩形板，厚度几乎可以忽略不计，能够快速吸收雨水。在不下雨时，它们处于闲置状态；而在下雨时，它们以相同的速度来回移动。下雨时，行人在雨伞下行走便不会被淋湿。

当人流量较大时，一把“自动雨伞”显然不足以应付。政府在一些主要的十字路口安装了多把“自动雨伞”。这些雨伞长度和速度可能各不相同，但每把雨伞的宽度都等同于人行横道的宽度，并且高度也都不同。

你的任务是编写一个程序来计算从开始下雨到 $T$ 秒后，最终落在地面上的雨水总量。

## 输入格式

第一行是一个整数 $Q$，表示有多少个测试用例。接下来是 $Q$ 个测试用例。

对于每个测试用例：

- 第一行包含四个整数 $N, W, T, V$，分别表示“自动雨伞”的数量、人行横道的宽度（单位：米）、总时间（单位：秒），以及每平方米每秒的降雨量。
- 接下来的 $N$ 行中，每行包含三个整数 $x_i, l_i, v_i$，分别表示第 $i$ 把雨伞的初始位置（单位：米）、长度（单位：米）和速度（单位：米/秒）。若 $v_i > 0$，雨伞初始向右移动；若 $v_i < 0$，则向左移动。

假定雨伞和人行横道的宽度均为 1 米，雨水垂直下落，雨水速度恒定，雨伞及人行横道保持水平。

## 输出格式

对于每个测试用例，输出一个保留两位小数的实数，表示计算得到的雨水总量。假定所有雨伞的总移动距离不会超过 $550 \times W$ 米。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
1
2 4 3 10
0 1 1
3 1 -1
```

### 输出

```
65.00
```


---
title: "BLSUMSEQ - Sum of subsequences"
layout: "post"
diff: 难度0
pid: SP18964
tag: []
---

# BLSUMSEQ - Sum of subsequences

## 题目描述

给定一个正整数 $n$ 和一个序列 $a_1, a_2, \ldots, a_n$。现在有 $q$ 个查询，每个查询有两种可能的格式：

- 格式 0 l r k：你需要找出不能由序列 $a_l, a_{l+1}, \ldots, a_r$ 的任意子序列之和组成的第 $k$ 小的正整数。
- 格式 1 l r x：你需要计算出，这段序列 $a_l, a_{l+1}, \ldots, a_r$ 中能表示为元素和等于 $x$ 的子序列的个数，并对结果取模 $2^{32}$。

## 输入格式

- 第一行包含两个正整数 $n$ 和 $q$，分别表示序列的长度和查询的个数。
- 第二行包含 $n$ 个非负整数，表示序列 $a_1, a_2, \ldots, a_n$。
- 接下来的 $q$ 行，每行表示一个查询，查询格式如上所述。其中，$1 \le l \le r \le n$。

## 输出格式

- 输出 $q$ 行，每行是相应查询的结果。对于格式 1 的查询，结果需要对 $2^{32}$ 取模。

## 说明/提示

- $1 \le n, q \le 10^5$
- $0 \le a_i \le 10^9$
- $1 \le l \le r \le n$
- $1 \le k \le 10^5$
- $0 \le x \le 10^9$

**样例：**

**输入：**

```
5 3
1 0 2 4 1
0 2 3 2
```

在这个样例中，你需要根据给定的序列和查询格式，计算出小于指定元素和的子序列数或找出不能由某段子序列之和表示的正整数。

 **本翻译由 AI 自动生成**


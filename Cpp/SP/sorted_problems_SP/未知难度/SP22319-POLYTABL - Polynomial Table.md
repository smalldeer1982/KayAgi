---
title: "POLYTABL - Polynomial Table"
layout: "post"
diff: 难度0
pid: SP22319
tag: []
---

# POLYTABL - Polynomial Table

## 题目描述

给定一个多项式，你需要输出该多项式在某些值处的计算结果表格。

## 输入格式

首先输入一个正整数 $t$ ($t<1000$)，表示测试用例的数量，接下来是 $t$ 组测试用例。每个测试用例给出了一个最多四次的多项式的漂亮打印格式表示。多项式的系数可以是整数或分数。所有数字（包括分子和分母）的绝对值不超过 $100$。

- 如果所有系数都是整数且多项式的次数不超过 $1$，测试用例为一行（称为 _基线_）。
- 如果所有系数都是整数且多项式的次数超过 $1$，测试用例为两行：第一行为指数，第二行为 _基线_。
- 如果有至少一个系数是分数，测试用例为三行：第一行包含指数（如果有）和分子，最后一行为分母。

多项式以 **标准格式** 表示，具体规则如下：
- $x$ 的幂次按降序排列，每个幂不会重复出现。
- 各相邻项之间都有一个运算符（+ 或 -）。
- 绝对值为1的系数不显示。
- 系数为0的项不显示（零多项式例外）。
- 基线中除了指数下方外，没有空格。

分数线长度等于分子或分母中数字的数量，较大者为准；较小的数值向右对齐。

```
<pre style="color:green; font-weight:bold">                          3 4  2                3  10        2
有效的多项式示例：   --x +x     -x+2      5x +---       x -5
                          5                       100
```
```
<pre style="color:red; font-weight:bold">                         -3 4  2        2           1                    3
无效的多项式示例：  -x +x        x+3x      x---      4x -13      2x +-5
                          5                         7
```

在多项式的基线之后，有一个空格和计算范围信息，格式为 "\[a;b;m\]"，其中 $a, b$ 和 $m$ 是整数，满足 $-10 < a \leq b < 10, m > 0$。

_注意：每个测试用例后没有尾随空格，但会跟一个空行。_

## 输出格式

对于每个测试用例，你需要输出一个九行表格，显示多项式的计算结果。表格的第一行和最后一行是相同的破折号。其他行以"|"开头和结尾，列之间用"|"分隔，行之间（第五行）用"+"隔开。最左边的列在顶部是 $x$，在底部是给定的多项式。其他列顶部是按升序排列的 $x$ 值，底部是相应的 $y$ 值。列宽由内容的最大宽度决定，再左右各加一个空格。如果另一行的值较短，则值右对齐。

无论是整数还是分数，表格中每行高度都是三行。整数、分数线和符号位于中间行，分子和分母分别在其上下。分数需为最简形式，如果结果为整数，则整数形式显示。若计算准确，某些值不会超过 $10^{18}$。分数线的宽度及分子分母的对齐方式遵循输入中的规则。_除最后一个测试用例，其余每个测试用例后面需有一个空行。_

注意：这里采用“严格判定”，必须准确输出格式。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
2
 3   2
x -4x  [-2;3;5]

 3 2   3
--x +x+- [-1;4;10]
 8     8
```

### 输出

```
----------------------------------------
|        |     |    |   |    |    |    |
|      x |  -2 | -1 | 0 |  1 |  2 |  3 |
|        |     |    |   |    |    |    |
|--------+-----+----+---+----+----+----|
|  3   2 |     |    |   |    |    |    |
| x -4x  | -24 | -5 | 0 | -3 | -8 | -9 |
|        |     |    |   |    |    |    |
----------------------------------------

------------------------------------------------------------------
|          |    |   1 |   |  1 |   |  3 |   |  5 |   |   7 |     |
|        x | -1 |  -- | 0 |  - | 1 |  - | 2 |  - | 3 |   - |   4 |
|          |    |   2 |   |  2 |   |  2 |   |  2 |   |   2 |     |
|----------+----+-----+---+----+---+----+---+----+---+-----+-----|
|  3 2   3 |    |   7 | 3 | 25 |   | 33 | 7 | 17 |   |  23 |  13 |
| --x +x+- | -1 | --- | - | -- | 1 | -- | - | -- | 0 | --- | --- |
|  8     8 |    |  32 | 8 | 32 |   | 32 | 8 | 32 |   |  32 |   8 |
------------------------------------------------------------------
```


---
title: "ZQUERY2 - Intersection Query"
layout: "post"
diff: 难度0
pid: SP22331
tag: []
---

# ZQUERY2 - Intersection Query

## 题目描述

给定一个线段集合。最开始时，这个集合是空的。

你需要进行 **N** 次操作，每次操作可能是插入或者删除一条 _竖直_ 或 _水平_ 的线段，并在每次操作后计算当前集合中线段的交点数。

集合中不存在任何两条同类型线段共享同一个点。

## 输入格式

第一行包含一个整数 **N**（$1 \le N \le 10^5$）—— 表示操作的次数。

随后有 **N** 行，每行描述一个操作：

- **1 X $_{1}$ Y $_{1}$ X $_{2}$ Y $_{2}$**：在集合中插入一条线段，其端点为 **(X $_{1}$, Y $_{1}$)** 和 **(X $_{2}$, Y $_{2}$)**。（$|X_{1}|, |Y_{1}|, |X_{2}|, |Y_{2}| \le 10^9$）
- **2 K**：从集合中删除第 **K** 条最早插入的线段。（$1 \le K \le$ 当前集合中的线段数）

## 输出格式

对于每次操作，输出一行表示当前集合中线段交点的数量。

## 说明/提示

- 操作次数 $N$ 满足 $1 \le N \le 10^5$
- 坐标绝对值满足 $|X_{1}|, |Y_{1}|, |X_{2}|, |Y_{2}| \le 10^9$

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
10
  1 -1 0 -2 0
  1 2 -2 0 -2
  1 1 1 1 -3
  2 1
  1 6 -2 5 -2
  2 3
  1 2 -2 2 -6
  1 -4 -3 -5 -3
  1 3 -4 -1 -4
  2 2
```

### 输出

```
0
  0
  1
  1
  1
  1
  2
  2
  3
  2
```


---
title: "COOLPROB - Cool Problem"
layout: "post"
diff: 难度0
pid: SP22532
tag: []
---

# COOLPROB - Cool Problem

## 题目描述

Prem Kamal 来到东京游玩，有一天他决定在城市中观光。他计划游览多个区域，每个区域包含 $N$ 座建筑物，这些建筑物的高度分别为 $H_1, H_2, \ldots, H_N$。  
建筑物沿 x 轴排列，位置为 1 到 N，并且以某种随机顺序排列（设这个顺序为 $h_1, h_2, \ldots, h_N$）。  
以酷炫行为著称的 Prem Kamal 决定计算区域的酷炫程度。每个位置都有一个与之对应的酷炫分数 $C(i)$，不过只有当这个位置上有一座“酷炫”建筑物时，分数才会被计入。一座建筑物被认为是“酷炫”的，必须比其左右两侧的建筑物更高（第一个和最后一个建筑物不算在内）。另外，由于反复观光会失去兴趣，所以后面位置的酷炫分数会逐渐减少。**请认真阅读正式定义。**

**正式定义：**  
- $C(1) = 1$  
- $C(i) = C(i-1) \times 0.99$  
- 高度 $H_i$ 的生成规则如下：  
  - $H_1 = X$  
  - $H_i = (H_{i-1} \times X) \bmod 10007$

给定 $N$ 和 $X$，求出区域的期望总酷炫程度。

## 输入格式

第一行输入一个整数 $T$，表示测试用例的数量。接下来有 $T$ 个测试用例，每个用例由两个用空格分开的整数 $N$ 和 $X$ 组成。

## 输出格式

对于每个测试用例，输出该区域的期望总酷炫得分。结果需精确到小数点后 6 位（使用 C 语言中的 `%.6lf` 格式说明符）。

**样例输入**
```
2
3 3
2 10
```

**样例输出**
```
0.330000
0.000000
```

**解释**

对于第一个样例，高度为 (3, 9, 27)，位置分数为 (1, 0.99, 0.99 × 0.99)。  
其中，只有两种排列方式可以形成酷炫建筑物：  
- 在 (3, 27, 9) 排列下，第 2 个位置的建筑物是酷炫的，其酷炫程度为 0.99  
- 在 (9, 27, 3) 排列下，第 2 个位置的建筑物也是酷炫的，其酷炫程度为 0.99  
因此，期望酷炫程度 = 0.99 × 1/6 + 0.99 × 1/6 = 0.33

## 说明/提示

- $T = 2000$  
- $1 \leq N \leq 10^3$  
- $2 \leq X \leq 10^3$

 **本翻译由 AI 自动生成**


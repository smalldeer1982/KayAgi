---
title: "RTREE2 - Valid Path"
layout: "post"
diff: 难度0
pid: SP22560
tag: []
---

# RTREE2 - Valid Path

## 题目描述

众所周知，拥有 **N** 个节点和 **N-1** 条边的无向连通图叫做树。现有一棵包含 **N** 个节点的树，并给定一个整数 **K**。每个节点 **i** 上都标有一个值 **a(i)**。

我们定义一条路径 **P** 为有效路径，需满足以下条件：

- 路径 **P** 至少包括 2 个节点。
- 在路径 **P** 上的所有节点中，最大值与最小值之差必须大于等于 **K**，即 $\max_{u \in P} a(u) - \min_{u \in P} a(u) \ge K$。

现在，你需要计算出有效路径的总数。

## 输入格式

第一行输入两个用空格分隔的整数 **N** 和 **K**。

第二行输入 **N** 个用空格分隔的正整数，依次代表 **a(1), a(2), ..., a(N)**。

接下来 **N-1** 行，每行包含两个整数 **u** 和 **v**，表示节点 **u** 和节点 **v** 之间有一条边。

## 输出格式

输出有效路径的数量。

## 说明/提示

- $1 \le N \le 10^5$
- $1 \le K \le 10^5$
- $1 \le a(i) \le 10^9$


 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
3 1
1 2 3
1 2
2 3
```

### 输出

```
3
```


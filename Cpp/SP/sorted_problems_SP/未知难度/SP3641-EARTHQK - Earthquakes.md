---
title: "EARTHQK - Earthquakes"
layout: "post"
diff: 难度0
pid: SP3641
tag: []
---

# EARTHQK - Earthquakes

## 题目描述

公元 3010 年，一群地球人移居到了行星 Alpha。由于该行星的气候条件极其严酷，只有一小部分土地可以进行耕种。

假设行星表面为一个平面，这片可耕种的土地呈现为一个非自交的多边形，拥有 $N$ 个顶点，顶点坐标依次为 $(X_1, Y_1), (X_2, Y_2), \ldots, (X_N, Y_N)$。生活在这片土地上的地球人居住在坐标为 $(X_p, Y_p)$ 的研究站。

在 Alpha 星上，地震频繁发生。每次地震都会产生一道裂缝，人们无法跨越。这条裂缝可能会穿过耕地，将其分为多个独立的区域。然而，幸运的是，这些裂缝从不会穿过研究站。如图所示，两次地震后，裂缝将可耕种的土地分割成三个互不连通的部分，但研究站所在的部分可达面积为 22。

假设一共发生了 $M$ 次地震。这些地震产生的裂缝由直线表示，直线经过的两点分别为 $(X_{j1}, Y_{j1})$ 和 $(X_{j2}, Y_{j2})$ （$j=1\ldots M$）。

你的任务是编写程序，计算在 $M$ 次地震后，研究站内人员可以到达的可耕种土地的面积。

## 输入格式

输入包含多组数据。第一行为一个正整数，表示数据组的数量，不超过 20。接下来的每一组对应一组数据。

对于每组数据，第一行为整数 $N$（表示多边形顶点数量，满足 $3 \le N \le 1000$）。接下来的 $N$ 行，每行包含两个整数 $X_i$ 和 $Y_i$，用空格隔开，表示第 $i$ 个顶点的坐标。之后的一行包含两个整数 $X_p$ 和 $Y_p$，用空格隔开，表示研究站的坐标。接下来的一行包含整数 $M$（为地震次数，满足 $1 \le M \le 1000$）。接下来的 $M$ 行中，每行包含四个整数 $X_{j1}$、$Y_{j1}$、$X_{j2}$ 和 $Y_{j2}$，分别描述第 $j$ 次地震产生的裂缝。

## 输出格式

对于每组数据，输出一行，包括一个整数，表示 $(s \times 100)$ 的整数部分，其中 $s$ 为在 $M$ 次地震后研究站可以到达的可耕种土地的面积。

## 说明/提示

- 多边形顶点数 $3 \le N \le 1000$
- 坐标范围 $-10000 \le X_i, Y_i \le 10000$
- 研究站坐标 $-10000 \le X_p, Y_p \le 10000$
- 地震次数 $1 \le M \le 1000$
- 裂缝坐标 $-10000 \le X_{j1}, Y_{j1}, X_{j2}, Y_{j2} \le 10000$

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
2
3
0 0
2 0
0 2
0 0
1
1 1 1 0
6
1 1
9 1
9 5
5 5
5 8
1 8
5 3
2
1 1 5 8
7 1 7 2
```

### 输出

```
150
2200
```


---
title: "ANARC08D - Adding up Triangles"
layout: "post"
diff: 难度0
pid: SP4552
tag: []
---

# ANARC08D - Adding up Triangles

## 题目描述

观察下图左侧的三角形，发现它由 9 个单位三角形组成，分为 3 行（$N = 3$）。单位三角形是指 $N = 1$ 的三角形。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP4552/7dbdf349e81be9e538f3c799c90cb360005f92c4.png)

仔细看几秒钟，你会发现可以找到 13 个不同的子三角形。具体来说：有 9 个单位三角形、3 个 $N = 2$ 的三角形，以及 1 个 $N = 3$ 的三角形。下表列出了 $N < 5$ 时的子三角形数量：

```
行数:         N = 1   N = 2   N = 3   N = 4
子三角形数量:  1      5      13     27 
```

我们将单位三角形的值定义为其中的整数，通常一个三角形的值是其所有单位三角形值的总和。图中右边的三角形与左边相同，但是高亮显示了值最大的子三角形。请编写一个程序，找出哪个子三角形的值最大。

## 输入格式

程序需要处理一个或多个测试用例。每个测试用例由一行整数组成（用空格分隔）。在每行中，第一个整数表示该测试用例的行数，其余的整数是这些单位三角形的值，按从上到下、从左到右的顺序排列。输入的最后一行包含数字 0，表示输入结束，不属于任何一个测试用例。

行数最多可以达到 400。每个单位三角形中的值的绝对值小于 1000。

## 输出格式

对于每个测试用例，输出格式如下：

k. V

其中 k 为测试用例编号（从 1 开始），V 为该测试用例中具有最大值的子三角形的值。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
\n3 6 -24 0 12 -10 12 40 -4 6
4 1 1 -1 1 1 -1 1 -1 1 1 -1 1 -1 1 -1 1
0
\n\n
```

### 输出

```
\n1. 54
2. 4
\n
```


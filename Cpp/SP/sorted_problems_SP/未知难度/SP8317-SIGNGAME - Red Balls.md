---
title: "SIGNGAME - Red Balls"
layout: "post"
diff: 难度0
pid: SP8317
tag: []
---

# SIGNGAME - Red Balls

## 题目描述

在之前的游戏中，每个球的颜色都已经被确定为红色或绿色。Dope 告诉你，他会把从 $i$ 到 $j$（包含 $i$ 和 $j$）范围内所有球的颜色都切换：红色球变成绿色，绿色球变成红色。接着，他要求你找出在某个给定范围内，红球总质量超过绿球总质量的最大值。你因为偏爱红球，希望这个差值尽可能大，因此你可以在给定的 $i$ 到 $j$ 范围内，选择一个子区间，使该区间内红球的总质量减去绿球的总质量达到最大。在选择子区间时，必须包括该子区间内的所有红球和绿球。

约定：
- 正数表示红球的质量
- 负数表示绿球的质量

## 输入格式

第一行为一个整数 $T$，表示测试用例的数量。  
接下来 $T$ 组测试用例，每组包含以下内容：
- 第一行输入一个整数 $N$，表示球的总数。
- 第二行输入 $N$ 个整数，表示每个球的质量（正数或负数）。
- 第三行输入一个整数 $Q$，表示操作和查询的总次数。
- 随后的 $Q$ 行，每行由三个整数 $c, a, b$ 组成：
  - 当 $c = 0$ 时，表示将 $a$ 到 $b$（包含 $a$ 和 $b$）范围内的球颜色反转。
  - 当 $c = 1$ 时，表示查询 $a$ 到 $b$（包含 $a$ 和 $b$）范围内红球总质量对绿球总质量的最大差值。

## 输出格式

对于每个查询请求，输出一行对应该查询的结果。

## 说明/提示

- $1 \le T < 10$
- $1 \le N < 100000$
- $1 \le Q < 100000$
- $0 \le a \le b < N$
- $c = 0$ 或 $c = 1$
- 每个球质量的绝对值小于1000

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
\n1\n5\n2 -3 4 5 -2\n4\n0 0 2\n1 0 2\n1 1 3\n0 1 1\n\n
```

### 输出

```
\n3\n5\n\n[you have to choose a range, if all balls are green in the range you have to print (-)ve answer]
```


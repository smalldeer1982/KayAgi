---
title: "CHARLIE - Charlie and the Chocolate Factory"
layout: "post"
diff: 难度0
pid: SP8734
tag: []
---

# CHARLIE - Charlie and the Chocolate Factory

## 题目描述

查理在一家神奇的巧克力工厂工作。工厂利用传送带来制作杏仁软糖的包装。这个过程中用到了 $M$ 条传送带。具体操作如下：

每个传送带由 $N$ 个格子组成。查理首先制作一些初始包装并将它们放在第一条传送带的格子中（每个格子中可能有零个或多个包装）。

第二条传送带的生成规则是：每个格子会读取第一条传送带中特定五个格子的包装数然后在自己格子中生成相应数量的包装。例如，第二条传送带的第一个格子会读取第一条传送带的第 1、2、3、5、9 格子的包装数相加，第二个格子则读取第 2、3、4、5、6 格子的包装数相加，依此类推。

同样的规则适用于从第二条传送带生成第三条，从第三条生成第四条，直到第 $M$ 条传送带。由于传送带上包装数量通常不断增加，所以最后我们只看每个格子的包装数量对 10007 取余数的结果。

作为获得金色门票的幸运者，你能看到第 $M$ 条传送带的最终状态——即每个格子中的杏仁软糖包装数。查理已经向你详细解释了生产过程，现在你想反推出第一条传送带的状态。

## 输入格式

第一行输入两个正整数 $N$ 和 $M$，其中 $N \leq 100$，$M < 2^{31}$。

接下来的 $N$ 行中，每行包含五个不同的整数，表示生成新传送带过程中，前一条传送带中相应的五个格子编号（范围为 $[1, N]$）。

最后一行包含 $N$ 个正整数，表示第 $M$ 条传送带的状态（对 10007 取模）。

## 输出格式

输出 $N$ 个整数，表示第一条传送带的状态（对 10007 取模）。所有输入数据保证解是唯一的。

## 说明/提示

$1 \leq N \leq 100, \quad M < 2^{31}$。

 **本翻译由 AI 自动生成**

## 样例 #1

### 输入

```
6 3
1 2 3 4 5
1 2 3 4 6
1 2 3 5 6
1 2 4 5 6
1 3 4 5 6
2 3 4 5 6
13 12 12 12 14 12
```

### 输出

```
1 0 0 0 2 0
```


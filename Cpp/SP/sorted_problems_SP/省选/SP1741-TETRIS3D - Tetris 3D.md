---
title: "TETRIS3D - Tetris 3D"
layout: "post"
diff: 省选/NOI-
pid: SP1741
tag: []
---

# TETRIS3D - Tetris 3D

## 题目描述

“俄罗斯方块”的作者决定制作一个3D版本的“俄罗斯方块”。有若干个长方体积木，它们将以一定的顺序下落，最底端是一个矩形平台。积木停止下落当且仅当它碰到了矩形平台或另一个已经停止下落的积木。它将保持这个位置不变直至游戏结束。

然而作者想要改变这个游戏的玩法。已知积木的下降顺序以及积木的起始释放位置，求游戏结束后积木堆最高点的高度。假设积木竖直下落且不旋转。为了描述方便起见，我们引入一个笛卡尔坐标系，原点为平台的顶点，轴与平台边缘平行。

## 输入格式

第一行有3个整数$D,S,N$，分别代表矩形平台的长、宽和积木数。其中$1\leq N \leq 20000,1\leq D,S\leq 1000$。

接下来$N$行，每行5个整数$d,s,w,x,y$描述了
一个积木。$1\leq d,s$,$1\leq w \leq 100000$,$0\leq x,d+x\leq D$,
$0\leq y,s+y\leq S$。

数据说明这个积木的长宽高分别为$d,s,w$，且顶点在平台上的投影坐标为$(x,y),(x+d,y),(x,y+s),(x+d,y+s)$。

## 输出格式

仅1行1个整数，即积木堆最高点高度。

## 样例 #1

### 输入

```
7 5 4
4 3 2 0 0
3 3 1 3 0
7 1 2 0 3
2 3 3 2 2
```

### 输出

```
6
```


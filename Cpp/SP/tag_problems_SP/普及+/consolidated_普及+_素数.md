---
title: "ALICESIE - Alice Sieve"
layout: "post"
diff: 普及+/提高
pid: SP10565
tag: ['素数判断,质数,筛法', '期望']
---

# ALICESIE - Alice Sieve

## 题目描述

Alice 最近学会了使用 Eratosthenes 筛法，这是一种古老的算法，用于找出小于某个上界的所有素数。正如预期的那样，她对这个算法的简洁和优雅感到非常印象深刻。

现在，她决定设计自己的筛法：Alice 筛法；在给定了某个上界 $N$ 的情况下的 Alice 筛法被形式化地定义为以下过程：

1. 创建一个从 $N$ 到 $2$ 的连续整数列表 $(N, N - 1, N - 2, \cdots, 3, 2)$。所有这 $N - 1$ 个数字最初都是未标记的。
2. 最初，让 $P$ 等于 $N$，并保持这个数字未标记。
3. 标记 $P$ 的所有正约数（即 $P$ 保持未标记）。
4. 从 $2$ 到 $P - 1$ 中找到最大的未标记数字，然后让 $P$ 等于这个数字。
5. 如果列表中不再有未标记的数字，则停止。否则，从第 $3$ 步开始重复。

不幸的是，Alice 还没有找到她的筛法的应用。但她仍然想知道，对于给定的上界 $N$，有多少整数会是未标记的。

## 输入格式

第一行包含一个整数 $T$，表示测试用例的数量（$1 \le T \le 10 ^ 4$）。接下来的 $T$ 行中的每一行都包含一个整数 $N$（$2 \le N \le 10 ^ 6$）。

## 输出格式

输出 $T$ 行，每个测试用例一行，包含所需的答案。

---

Translated by User 735713.

## 样例 #1

### 输入

```
3
2
3
5
```

### 输出

```
1
2
3
```



---

---
title: "CNTPRIME - Counting Primes"
layout: "post"
diff: 普及+/提高
pid: SP13015
tag: ['颜色段均摊（珂朵莉树 ODT）', '素数判断,质数,筛法']
---

# CNTPRIME - Counting Primes

## 题目描述

给你一个 $n$ 个数的数组和 $m$ 个操作：

- $0\ x\ y\ v$ 将 $x$ 到 $y$ 之间的所有数改成 $v$。

- $1\ x\ y$ 求 $x$ 到 $y$ 之间的质数个数。

数组下标为 $1$ 到 $n$。

## 输入格式

第一行是一个整数 $T$，表示数据组数。

每组数据包含两个整数 $n$，$q$。

下一行是 $n$ 个整数表示数组 $a_i$。接下来的 $q$ 行，每行包含一个操作。形如：

- $0\ x\ y\ v$

- $1\ x\ y$

$1 \le n \le {10}^4$，$1 \le q \le 2 \times {10}^4$，$2 \le x,y,v,a_i \le 10^6$

## 输出格式

对于每组数据，先输出数据编号。然后对于每一个 $1\ x\ y$ 的询问，输出 $x$ 到 $y$ 之间的质数个数。

## 说明/提示

- 使用较快的输入输出方式，如 `scanf` 和 `printf`。

- 一个质数是一个除了 $1$ 和它本身意外没有其他正因数的大于 $1$ 的自然数。前几个质数是 $2,3,5,7,11...$

## 样例 #1

### 输入

```
1
5 3
78 2 13 12 3
1 1 2
0 4 4 5
1 1 5
```

### 输出

```
Case 1:
1
4
```



---


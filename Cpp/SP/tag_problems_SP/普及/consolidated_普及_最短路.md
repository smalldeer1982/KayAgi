---
title: "DIGOKEYS - Find the Treasure"
layout: "post"
diff: 普及/提高-
pid: SP15849
tag: ['最短路']
---

# DIGOKEYS - Find the Treasure

## 题目描述

一个喜欢玩锁和钥匙游戏并且逻辑很好的通灵者 Digo 有一天买了一套包含 $N$ 个盒子的装置，每个盒子都有一个从 $1$ 到 $N$（包括 $1$ 和 $N$）之间的唯一编号。除了第 $N$ 个盒子装有宝藏外，其他每个盒子里都有一把钥匙。由于制造缺陷，大多数钥匙可以打开多个盒子。

规则是每把钥匙只能用来打开一个盒子。除了第一个盒子外，所有盒子都是上锁的。Digo 急于得到宝藏，请求你找到一种方法，从第一个盒子里的钥匙开始，以最少的步骤打开最后一个盒子。

## 输入格式

第一行是一个整数 $T$，表示测试用例的数量。

对于每一个测试用例：

- 第一行是一个整数 $N$，表示盒子的数量。
- 接下来的 $N-1$ 行，第 $i$ 行有一个整数 $M_i$，表示第 $i$ 个盒子里的钥匙可以打开的盒子数量，随后是 $M_i$ 个整数，表示这些盒子的编号。

## 输出格式

对于每一个测试用例：

- 第一行是一个整数 $q$，表示打开盒子的最小数量。
- 第二行是按顺序打开的盒子编号，用空格隔开。如果有多种解法，输出字典序最小的一种。
- 如果无法到达最后一个盒子，输出 `-1`。

每个测试用例之间应有一个空行。

## 说明/提示

- $1 \le T \le 10$
- $2 \le N \le 100000$
- $1 \le M_i \le 10$

**样例输入**

```
2

3

1 2

1 3

4

2 2 3

1 1

2 2 4
```

**样例输出**

```
2

1 2

2

1 3
```



---

---
title: "ADATRIP - Ada and Trip"
layout: "post"
diff: 普及/提高-
pid: SP30669
tag: ['图论', '最短路']
---

# ADATRIP - Ada and Trip

## 题目描述

瓢虫 Ada 热爱旅游。她一边拍照，买纪念品，一边周游世界。这星期她去了布干达。普通游客会选择在主城区和一些大都市游玩。但是 Ada 不这么认为。她想走尽可能远的路（因为远离市中心的地方所拍摄的照片更有价值）。

问题来了，布干达非常大，她几乎猜不着哪个城市离她最远（通过最短路）。幸运的是，你在她身旁，于是，她向聪明博学的你发出了求救。你能告诉她最远的城市距离她的距离，以及有多少个这样的城市吗？

## 输入格式

第一行有 $3$ 个整数 $N,M,Q$。$1\le N\le 5 \times10^5,0\le M\le 10^6$。分别表示：城市数量，道路数量，提问数量。

接下来 $M$ 行一行 $3$ 个整数 $A,B,L$。$0\le A,B < N,0\le L\le 10$，表示有一条从 $A$ 市 到 $B$ 市距离为 $L$ 的无向边。

接下来 $Q$ 行，一行一个整数 $0\le Q_i < N$，表示出发的城市。

**保证输入数据满足 $\max({N,M})\times Q \le 10^7$。注意城市的编号从 $0$ 开始。**

**温馨提示：因为我们身处的是现实世界而非所谓的“图”，因此可能出现重边和自环。**

## 输出格式

共 $Q$ 行。一行两个整数，分别表示最远的距离，以及城市数量。

## 说明/提示

距离每个询问城市最远的城市编号如下：
```plain
0
2 3
3
2
8
4 8
4 8
4 8
4
4 8
```

## 样例 #1

### 输入

```
10 10 10
1 1 1
1 2 1
1 2 3 
3 1 1
5 4 10
8 5 10
5 6 5
6 7 3
6 9 3
9 7 4
0
1
2
3
4
5
6
7
8
9
```

### 输出

```
0 1
1 2
2 1
2 1
20 1
10 2
15 2
18 2
20 1
18 2
```



---


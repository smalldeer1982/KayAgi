---
title: "校长的烦恼 Headmaster's Headache"
layout: "post"
diff: 提高+/省选-
pid: UVA10817
tag: ['动态规划 DP', '状态合并', '进制']
---

# 校长的烦恼 Headmaster's Headache

## 题目描述

斯普林菲尔德（春之田野？？？）学院的校长正在考虑为某些科目招聘新老师 现在有一批申请岗位的老师 每个老师能教一个或多个科目 校长想要选择一些申请者以保证每个科目都至少有两名老师能教 同时总共花的钱要最小

## 输入格式

输入由多组测试组成，它们的格式如下： 第一行包含三个给定的整数S，M和N， S (<=8)是科目的总数 M(<=20)是在职教师数，N(<=100)是应聘者的数量

接下来M行每行描述一个在职教师 首先给出雇佣他的花费C (10000<=C<=50000) ,接下来是他能教的科目列表 科目用1—S的整数表示 你必须保证继续聘用他们

之后N行，以同样格式给出应聘者的信息

输入以一个空测试S=0结束，你不应当处理它 （这句有些别扭，不过懂意思就好）

## 输出格式

对于每组测试，输出符合条件的最小花费
翻译贡献者UID：60885

## 样例 #1

### 输入

```
2 2 2
10000 1
20000 2
30000 1 2
40000 1 2
0 0 0
```

### 输出

```
60000
```


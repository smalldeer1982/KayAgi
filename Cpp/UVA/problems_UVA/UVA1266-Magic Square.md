---
title: "Magic Square"
layout: "post"
diff: 普及/提高-
pid: UVA1266
tag: []
---

# Magic Square

## 题目描述

#### 1、~~原题面不存在的~~题目背景

[幻方](https://baike.baidu.com/item/%E5%B9%BB%E6%96%B9/169544?fr=aladdin)是中国古代的传统游戏，旧时在官府、学堂多见。它是将从一到若干个数的自然数排成纵横各为若干个数的正方形，使在同一行、同一列和同一对角线上的几个数的和都相等。

UVA 出题组见到了幻方，灵感大发，遂出此题。


给定一个数 $N$（保证 $N$ 为奇数且 $3\le N\le15$），你的任务就是，使用从 $1$ 到 $N^2$ 的**每一个正整数**组成一个边长为 $N$ 的正方形（换句话说，每个数必须使用且只允许使用 $1$ 次），要求：该正方形的每一行、每一列、每一条对角线上的数之和都必须相等。

## 输出格式

对于每一个测试用例，先输出一行：`n=<N>, sum=<SUM>`，其中 `<N>` 代表输入数据中的 $N$，`<SUM>` 代表每一行、每一列、每一条对角线上的数之和。

接下来 $N$ 行，每行 $N$ 个数，代表填好的幻方。请注意，每个数的场宽为 $N^2$ 占用的空间加 $1$，剩余空间用空格填充。例如，如果 $N=3$，则 $N^2=9$，场宽为 $2$。

在每组数据之间应打印一个空行。

具体可见样例。

#### 5、输入样例

```
3
5
```

#### 6、输出样例

```
n=3, sum=15
 8 1 6
 3 5 7
 4 9 2

n=5, sum=65
 17 24  1  8 15
 23  5  7 14 16
  4  6 13 20 22
 10 12 19 21  3
 11 18 25  2  9
```

Translated by [dengzijun](https://www.luogu.com.cn/user/387836)


---
title: "City Directions"
layout: "post"
diff: 难度0
pid: UVA163
tag: []
---

# City Directions

## 题目描述

$\qquad$当驾车穿过城市时，十字路口通常会让你直行（“$\texttt{STRAIGHT}$”）、左转$90$度（“$\texttt{LEFT}$”）或右转$90$度（“$\texttt{RIGHT}$”）。然而，一些城市的道路可以转弯$45$度（“$\texttt {HALF}$”）或$135$度（“$\texttt{SHARP}$”）。

$\qquad$有一个城市，大道（$A$）呈南北（$S/N$）走向，小道（$S$）呈东西（$E/W$）走向，林荫道（$B$）呈对角线（$D$）走向。大道和小道的编号为零（$A0$和$S0$）。其他道路的编号与这些道路相关。比如，$A3W$是$A0$以西的第$3$条大道。

$\qquad$假设一个城市共有$6$条大道——$2$条穿过市中心，另外$4$条，每个象限一条。下图大概的展示了这样一个城市的第一象限。

![](https://gcdnb.pbrd.co/images/69pq9pvH3n2b.png?o=1)

$\qquad$灰色标记的道路被视为直通道路。这些道路可以很容易地穿过，但是总是在一个圆圈处交叉，该圆圈由在该交叉点处相交的所有其他道路共享。汽车只能通过左转进入或离开这些区域（如果是林荫道，则向左转）。你不能停止他们。其他道路的转弯没有限制。汽车有一个管理系统，该系统允许使用非常简单的方法确定当前位置和到达目的地的方式。位置可以根据汽车通过的最后一个十字路口那里交汇的大道和街道的数量和您当前的方向来指定，该方向可以是：北（$N$）、东北（$NE$）、东（$E$）、东南（$SE$）、南（$S$）、西南（$SW$）、西（$W$）和西北（$NW$）之一。然后可以根据要通过的交叉口数量和要转弯的方向给出方向。然而，当地有一些不诚实的人，他们会经常给出错误或无效的方向。尽管无法确定这是有意还是无意，但方向应始终符合以下简单语法。

$命令=转弯命令\ \ 或 \ \ 直行命令$

$转弯命令=\texttt{TURN \quad HALF或SHARP \quad LEFT或RIGHT}$
$直行命令=\texttt{GO \quad STRAIGHT} \quad n（1<n<99）$

$\qquad$你的任务是编写一个程序，通过跟踪一辆汽车的位置并在汽车遵循一组命令时模拟驾驶通过这样一个城市。城市的每个象限将有$50$个街区的水闸，因此整个城市将有$100$个街区$\times100$个街区的水闸，外部通道将被编号为$50$，林荫道将在编号为$25$的道路上交叉。你会被告知出发位置和行驶方向，然后给出一系列的命令。如果命令不符合上文的命令语法，或者是错误或无效的，则忽略它。测试数据保证，你不会置身于城市之外。

## 输入格式

$\qquad$输入将由一系列命令组成。

$\qquad$每个命令将由一个出发位置和一个行驶方向组成，然后是一系列命令。每一条道路都位于一条单独的线上。如果涉及的任何一条道路是其中一条中心道路（$A0$、$S0$）。它们将被标记为“$N$”或“$E$”。请注意，您可以假设您刚刚离开了指定的交叉口。“$\texttt{GO}\quad n$”命令意味着您通过了$n$个交叉口。

$\qquad$每个命令将以单独的一行结束。这一行只有“$\texttt{STOP}$”一词。

$\qquad$文件将以仅包含“$\texttt{END}$”一词的一行结束。

$\qquad$输入数据将遵循样例所示的格式，任何一行的长度都不会超过$80$个字符。

## 输出格式

$\qquad$输出将由很多行组成，每个命令有一行输出。每行将由一个停车位置和汽车面向的方向组成，格式与输入相同。如果最后一个停车点是非法的，请输出`Illegal stopping place`。

###### Translated by @nr0728 & 英汉/汉英词典

## 样例 #1

### 输入

```
A2W S1N E
TURN SHARP LEFT
GO 1
TURN RIGHT
TURN LEFT
TURN SHARP LEFT
GO 1
TURN LEFT
STOP
A2W S1N W
GO STRAIGHT 2
TURN LEFT
GO ON 2
TURN HALF LEFT
TURN LEFT
GO 2
STOP
END
```

### 输出

```
A3W S1N E
Illegal stopping place
```


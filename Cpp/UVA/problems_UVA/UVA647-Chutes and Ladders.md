---
title: "Chutes and Ladders"
layout: "post"
diff: 难度0
pid: UVA647
tag: []
---

# Chutes and Ladders

## 题目描述

一些人玩一个叫做“Chutes and Ladders”的游戏，游戏规则如下：

1. 游戏板上有从 $1$ 到 $100$ 编号的方格，玩家从编号为 $0$ 的起始方格开始。第一个到达 $100$ 格的玩家胜利。
2. 玩家轮流掷骰子，骰子面上的数字为 $1$ 到 $6$，每次掷骰子后，玩家移动相应的步数。
3. 如果玩家落在有梯子（ladder）的起始方格上，则玩家直接移动到梯子的目的方格。
4. 如果玩家落在滑道（chute）的起始方格上，则玩家直接移动到滑道的目的方格。
5. 特定方格可能标有“miss-a-turn”或“extra-turn”的标记，“miss-a-turn”表示落在这个格子上的玩家需要跳过下一轮掷骰子。而“extra-turn”则代表这位玩家可以立刻再掷一次骰子。（这些方格不会是任何梯子或滑梯的起始或结束点）
6. 如果玩家处于编号 $95$ 或更高的方格，并且掷骰子的结果使其超过 $100$，则超过的部分无效，玩家需忽略这次掷骰子。

## 输入格式

第一行包含一系列不超过 $1000$ 次的掷骰子结果，以 $0$ 结尾。

每组数据包含以下几个部分：第一部分是玩家数量。然后换行。

第二部分是梯子和滑道的描述，每行包含两个数字表示起始方格和目的方格，以 `0 0` 结束。

第三部分是标有特殊功能的方格的描述，负数表示“miss-a-turn”，正数表示“extra-turn”，它的绝对值表示这个格子的编号。以一行一个 $0$ 结束。

当输入玩家数为 $0$ 时，输入结束。

## 输出格式

对于每组数据输出一行，为获胜玩家编号。

## 样例 #1

### 输入

```
3 6 3 2 5 1 3 4 2 3 1 2 0
2
6 95
99 1
0 0
-3
98
0
2
3 99
6 90
0 0
0
0
```

### 输出

```
2
2
```


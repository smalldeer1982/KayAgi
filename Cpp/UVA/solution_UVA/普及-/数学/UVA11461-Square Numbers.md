# Square Numbers

## 题目描述

平方数是指平方根也是整数的整数。例如，$1$、$4$、$81$ 都是平方数。给定两个数字 $a$ 和 $b$，你需要找出在 $a$ 和 $b$ 之间（包含 $a$ 和 $b$）有多少个平方数。

## 样例 #1

### 输入

```
1 4
1 10
0 0```

### 输出

```
2
3```

# 题解

## 作者：ADay (赞：3)

### 思路：前缀和
不难发现，$1$~$n$中的完全平方数有$\left\lfloor\sqrt{n}\right\rfloor$个，因为它们分别是$1^2,2^2,\cdots,\left\lfloor\sqrt{n}\right\rfloor^2$.  
那么，我们可以预处理$1$~$10^5$中完全平方数，这就是前缀和$s$数组。  
而求$\left[l,r\right]$完全平方数的个数,就是$s_r-s_{l-1}$，做减法即可   
### 极简代码：
```cpp
#include<bits/stdc++.h>
#define rint register int//register优化
using namespace std;

const int N=1e5+5;
int s[N],a,b;

int main()
{
	for(rint i=1;i<=100000;i++)s[i]=sqrt(i);//计算1~10⁵前缀和
	while(~scanf("%d%d",&a,&b)&&a&&b)printf("%d\n",s[b]-s[a-1]);//每次读入和输出
	return 0;
}
```


---

## 作者：__int127 (赞：1)

## UVA11461 Square Numbers（完全平方数） 题解

#### [题目传送门](https://www.luogu.com.cn/problem/UVA11461)

### 题目大意

改定两个数 $l$ 和 $r$，输出区间 $[l,r]$，中完全平方数的个数，输入以 `0 0` 结尾。

### 样例解释

#### 样例 \#1 解释

本样例共有 $2$ 组数据。

第一组数据，$l=1,r=4$，完全平方数有 `1 4`，共有 $2$ 个完全平方数。

第二组数据，$l=1,r=10$，完全平方数有 `1 4 9`，共有 $3$ 个完全平方数。

### 思路

明显不能用暴力，可以定义一个前缀和数组 $sum$，用来存储从 $1 \sim i$ 中完全平方数的个数，这样每次输出，我们只需要输出 $sum_r-sum_{l-1}$ 就行了。

$sum$ 数组应该是这样的：

| $1$ | $1$ | $1$ | $2$ | $2$ | $2$ | $2$ | $2$ | $3$ | $3$ | $3$ | $3$ | $3$| $3$ | $3$ | $4$ | $……$ |
| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |


### 代码+注释

```cpp
#include <bits/stdc++.h>
using namespace std;
int l, r;
int sum[100005];
int main(){
	ios::sync_with_stdio(false);// 关闭读写同步
	cin.tie(0);
	cout.tie(0);
	for (int i = 1, k = 1; i <= 316; i++){
		int f = i * i;
		for (int j = k; j < f; j++){
			sum[j] = i - 1;// 生成前缀和数组
		}
		k = f;
	}
	while (1){
		cin >> l >> r；
		if (l == 0 && r == 0){// 根据题意可知，当 l=0, r=0 的时候程序就可以结束了。
			return 0;
		}
		cout << sum[r] - sum[l - 1] << "\n";// 输出并换行
	}
	return 0;
}
```

### 最后
本题题解到此结束，希望大家能看懂、有思路。

---

## 作者：caramel_qwq (赞：1)

这道题蒟蒻使用了类似前缀和的做法。
 
---

### 题目描述
很好理解，就是给你一段区间，输出该区间内的完全平方数的个数。

普及一下什么是[完全平方数](https://baike.baidu.com/item/%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0/8025061?fr=aladdin) ，也就是如果一个数的平方等于另一个数，或者说一个数的根号等于另一个数，则这个数的平方或根号就是完全平方数。

---
### 题目分析

可以预处理一个前缀和数组，比如 $a_{i}$ 表示从 $1$ 到这个数的完全平方数的个数。

那么这道题怎么样怎样找完全平方数呢？上文说过如果一个数的根号等于另一个数，那么**这个数**就是完全平方数，那么我们可以怎么做呢？题目最大不超过 $10^5$ ，那么一遍循环是不可能超时的，~~所以你大胆地写~~。

我们设左端点为 $1$ ，右端点是 $n$ 的根，开始遍历，那么 $i^2$ 就是完全平方数，接着我们来弄前缀和数组，如果这个数是完全平方数，就把前一位加一，不然就是前一位。

---
### 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
const int MAXN=1e6+8;
int l,r;
bool x[MAXN];
int v[MAXN];
int main(){
	for(int i=1;i<=sqrt(MAXN-8);i++) x[i*i]=1;
	for(int i=1;i<=1000000;i++){
		if(x[i]==1) v[i]=v[i-1]+1;
		else v[i]=v[i-1];
	}
	while(cin>>l>>r){
		if(l==0&&r==0){
			break;
		}
		cout<<v[r]-v[l-1]<<"\n";
	}
	return 0; 
} 
```
----
~~你抄吧你抄吧还送你个tag~~

---

## 作者：33aaron (赞：1)

## 题目大意
给定 $n, m$，求出 $[n, m]$ 中完全平方数的个数。包含多组数据。

## 题目分析
其实这道题用不着暴力，直接在 $[n, m]$ 中一个一个数判断是不是完全平方数就可以了。我们采用完全平方数的性质也就是 $\sqrt{i}$ 为整数来确定。其中判断 $\sqrt{i}$ 是不是为整数直接可以通过强制进行 $int$ 类型转换后的 $\sqrt{i}$ 与转换前的 $\sqrt{i}$ 作比较，如果相等就代表着 $\sqrt{i}$ 为整数。也就是表达式```(int)sqrt(i) == sqrt(i)```。

## AC Code
```cpp
#include <iostream>
#include <cmath>
using namespace std;
int main() {
    int n, m;
    while (cin >> n >> m && n && m) {
        int ans = 0;
        for (int i = n; i <= m; ++i)
            if ((int)sqrt(i) == sqrt(i)) ++ans;
        cout << ans << endl;
    }
    return 0;
}
```

---

## 作者：封禁用户 (赞：1)

# ad
个人博客同步：http://blog.cinema000.xyz/%E3%80%8C%E9%A2%98%E8%A7%A3%E3%80%8DUVa%2011461%E3%80%8CSquare%20Numbers%E3%80%8D/


# 分析

看到数据范围，其实这题暴力就好了，直接for循环不怎么好控制，就改用while循环。

# 代码

```cpp
#include<cstdio>
int main(){
    int a,b;
    while(scanf("%d %d",&a,&b) == 2 && (a == b == 0)){
        int cnt = 0,i = 1,num;
        if(a > b){printf("0\n");continue;};
        while(true){
            num = i * i;
            if(num < a){i++;continue;}
            if(num <= b) i++,cnt++;
            if(num > b) break;
        }
        printf("%d\n",cnt);
    }

    return 0;
}
```


---

## 作者：hero_brine (赞：1)

## 题意：给你两个正整数$a,b$,试求出闭区间$[a,b]$内完全平方数的个数，输入将以`0 0`结尾。

因为这题的数据范围不大，我们可以采取暴力做法。前面已有几位大佬发了C++的题解，本蒟蒻在此氵一篇Ruby题解，如下（说明均在代码内部）:
```ruby
include Math # 我们需要使用sqrt函数
def isSquare(num)
    if num == (sqrt(num)) * (sqrt(num))
      return true
    end
    return false
    # 判断是否是平方数
    # 一定要用 (sqrt(num)) * (sqrt(num))
    # 不然会错
end
ans = 0 # 我们的输出结果
while true
    a,b = gets.split.map(&:to_i) # 读入两个数a,b
    if a==0 and b==0 # 判断结束条件
      break
    end
    for i in a..b # 开始循环
      if isSquare(i)
        ans = ans + 1 # 加1
      end
    end
    print ans # 输出
    puts "\n" # 换行
    ans = 0 #记得重新赋值为0
end
```
## 重要事项：$for$循环,$def$定义函数,$while$循环,$if$后一定要加$end$.

~~$the End$~~.

---

## 作者：_xEr_ (赞：0)

## 思路：哈希 & 前缀和

先看数据：
> 保证 $1 \le a \le b \le {10}^5$。

那么就说明我们开 ```hash``` 不会爆空间。  
具体标记的方法不难想到构造。如下：
```cpp
for(int i=1;i<=10000;i++){
	if(i*i>100000)break;//防止越界
	h[i*i]=1;
}
```
但是标记是标记了每次输入。可每次还要遍历一遍，复杂度没有得到根本提升。

所以我们可以加上**前缀和优化**。具体的实现方法也不难，如下：
```cpp
for(int i=1;i<=10000;i++){
	q[i]=q[i-1]+h[i];
}
```
最后在加上 UVA 特有的多组输入就可以 AC 了。

### 代码如下：
```cpp
#include<iostream>
using namespace std;
int a,b,q[100009];
bool h[100009];
int main(){
	for(int i=1;i<=10000;i++){
		if(i*i>100000)break;
		h[i*i]=1;
	}
	for(int i=1;i<=10000;i++){
		q[i]=q[i-1]+h[i];
	}
	while(cin>>a>>b){
		if(a==0&&b==0)return 0;
		cout<<q[b]-q[a-1]<<endl;
	}
}
``

---

## 作者：_Give_up_ (赞：0)

## 题目大意
给定一个范围，求这个范围中完全平方数的数量。

## 思路
首先，我们需要知道完全平方数是什么，完全平方数就相当于判断一个数开平方后是否是整数。

然后我们枚举就行了，从 $a$ 枚举到 $b$，如果这个数开平方后向下取整的数的平方等于这个数，那是完全平方数，那么计数器加一。

## Code
```cpp
#include<bits/stdc++.h>

using namespace std;

typedef long long ll;

int read()
{
    int x = 0,f = 1;
    char c = getchar();
    while(c<'0' || c>'9')
	{
        if(c=='-') f = -1;
        c = getchar();
    }
    while(c>='0' && c<='9')
	{
        x = (x<<3)+(x<<1)+(c^48);
        c = getchar();
    }
    return x*f;
} //快读 

int main()
{
    while(1)
    {
        int a = read(),b = read(),ans=0;
        if (a==0 && b==0) break; //根据题意，如果输出两个0，结束程序 
        for (int i=a;i<=b;i++) //从a枚举到b 
            if ((int)sqrt(i)*(int)sqrt(i)==i) ans++; //判断是否为完全平方数，如果是，计数器+1 
        cout << ans << endl; //输出结果 
    }
    return 0;
}
```


---

## 作者：zyh888 (赞：0)

# 题意
给定 $n$，$m$，求 $[n,m]$ 中完全平方数的个数

# 思路

## F1 打表

数据很小，打表即可，将 $[1,100000]$ 中所有完全平方数放入一个数组，对于每一组询问扫一遍数组即可

```cpp
//打表
#include<bits/stdc++.h>
using namespace std;
int main(){
	ios::sync_with_stdio(false);
	cin.tie(0);
	int cnt=0;
	for(int i=1;i<=sqrt(100000);i++) cout<<i*i<<',';
	return 0;
}
```

```cpp
#include<bits/stdc++.h>
const int a[320]={0,1,4,9,16,25,36,49,64,81,100,121,144,169,196,225,256,289,324,361,400,441,484,529,576,625,676,729,784,841,900,961,1024,1089,1156,1225,1296,1369,1444,1521,1600,1681,1764,1849,1936,2025,2116,2209,2304,2401,2500,2601,2704,2809,2916,3025,3136,3249,3364,3481,3600,3721,3844,3969,4096,4225,4356,4489,4624,4761,4900,5041,5184,5329,5476,5625,5776,5929,6084,6241,6400,6561,6724,6889,7056,7225,7396,7569,7744,7921,8100,8281,8464,8649,8836,9025,9216,9409,9604,9801,10000,10201,10404,10609,10816,11025,11236,11449,11664,11881,12100,12321,12544,12769,12996,13225,13456,13689,13924,14161,14400,14641,14884,15129,15376,15625,15876,16129,16384,16641,16900,17161,17424,17689,17956,18225,18496,18769,19044,19321,19600,19881,20164,20449,20736,21025,21316,21609,21904,22201,22500,22801,23104,23409,23716,24025,24336,24649,24964,25281,25600,25921,26244,26569,26896,27225,27556,27889,28224,28561,28900,29241,29584,29929,30276,30625,30976,31329,31684,32041,32400,32761,33124,33489,33856,34225,34596,34969,35344,35721,36100,36481,36864,37249,37636,38025,38416,38809,39204,39601,40000,40401,40804,41209,41616,42025,42436,42849,43264,43681,44100,44521,44944,45369,45796,46225,46656,47089,47524,47961,48400,48841,49284,49729,50176,50625,51076,51529,51984,52441,52900,53361,53824,54289,54756,55225,55696,56169,56644,57121,57600,58081,58564,59049,59536,60025,60516,61009,61504,62001,62500,63001,63504,64009,64516,65025,65536,66049,66564,67081,67600,68121,68644,69169,69696,70225,70756,71289,71824,72361,72900,73441,73984,74529,75076,75625,76176,76729,77284,77841,78400,78961,79524,80089,80656,81225,81796,82369,82944,83521,84100,84681,85264,85849,86436,87025,87616,88209,88804,89401,90000,90601,91204,91809,92416,93025,93636,94249,94864,95481,96100,96721,97344,97969,98596,99225,99856};
using namespace std;
int main(){
	ios::sync_with_stdio(false);
	cin.tie(0);
	int n,m;
	while(cin>>n>>m,n,m){
		int ans=0;
		for(int i=1;i<=316;i++) if(a[i]>=n&&a[i]<=m) ans++;
		cout<<ans<<endl;
	}
	return 0;
}
```

## F2 数学
令 $a$ 为小于等于 $m$ 的最大完全平方数，$b$ 为大于等于 $n$ 的最小的完全平方数。

易知 $[n,m]$ 中完全平方数的个数为 $\sqrt{a}-\sqrt{b}+1$。

```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	ios::sync_with_stdio(false);
	cin.tie(0);
	int n,m;
	while(cin>>n>>m,n,m){
		cout<<floor(sqrt(m))-ceil(sqrt(n))+1<<endl;
	}
	return 0;
}
```


---

## 作者：Fire_Raku (赞：0)

## 题目分析：
这道题没有翻译，不会英语的我一脸懵，题目的意思是：给定区间 $[l , r]$，求区间内完全平方数的个数。

我们知道， $[1 , n]$ 内的完全平方数个数是 $\sqrt{n}$，如果不知道也可以枚举，我们就可以用这个方法，做出前缀和数组 $f$ ，那么就是 $f_r - f_{l-1}$ 就可以解决问题了。

## Code:
```cpp
#include<bits/stdc++.h>
using namespace std ;
int l , r , sum[100010] ;
int main(){
	for(int i = 1 ; i <= 100000 ; i++) sum[i] = sqrt(i) ; 
	while(1){
        	cin >> l >> r ; 
        	if(l == 0 && r == 0) break ; //终止条件，当然也可以写在 while 循环上
		cout << sum[r] - sum[l - 1] << endl ; //前缀和计算
	}
	return 0 ; 
}
```

蒟蒻有一个不懂的，就是不用数组存，直接算不行，会的人可以看看吗？
```cpp
#include<bits/stdc++.h>
using namespace std ;
int l , r ;
int main(){
	while(1){
      	  	cin >> l >> r ; 
     	 	if(l == 0 && r == 0) break ;
		cout << sqrt(r) - sqrt(l - 1) << endl ;
	}
	return 0 ; 
}
```

---


# Tiling

## 题目描述

[problemUrl]: https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=15&page=show_problem&problem=1300

[PDF](https://uva.onlinejudge.org/external/103/p10359.pdf)

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA10359/c7428324c83f2f2a32565e9cb9de7f4a9dd6d8c6.png)

## 样例 #1

### 输入

```
2
8
12
100
200```

### 输出

```
3
171
2731
845100400152152934331135470251
1071292029505993517027974728227441735014801995855195223534251```

# 题解

## 作者：xzy_AK_IOI (赞：2)

简单分析可得，这是一道递推 + 高精度的题目。   
相信大家都看了题目，没看题的 [点这里](https://www.luogu.com.cn/problem/UVA10359)。


我们不妨设长度为 $2 \times i$ 的铺法数为 $dp_i$。下面进行分类讨论：

1. 前一步是用横着的 $1 \times 2$ 的方格铺的，有以下两种放法：
  ![](https://cdn.luogu.com.cn/upload/image_hosting/uh8zyxon.png)
和  
![](https://cdn.luogu.com.cn/upload/image_hosting/bhh2jbt8.png)
但因为题目要求将矩形全部铺满，所以这两种铺法其实是一样的。
 ![](https://cdn.luogu.com.cn/upload/image_hosting/ca9t6d8o.png)
递推式为 $dp_i=dp_{i-2}$。

2. 前一步是用竖着的 $1 \times 2$ 的方格铺的，此时只有一种情况：
![](https://cdn.luogu.com.cn/upload/image_hosting/ipc07irm.png)  
递推式为 $dp_i=dp_{i-1}$。


3. 前一步是用 $2 \times 2$ 的方格铺的，此时也只有一种情况：  
![](https://cdn.luogu.com.cn/upload/image_hosting/6tzxwnc9.png)  
递推式为 $dp_i=dp_{i-2}$。

所以，递推式为 $dp_i=2 \times dp_{i-2}\ + \ dp_{i-1}$。  
初始状态为 $dp_0=dp_1=1$。


由于这题的数据范围非常大，所以要用高精度，不会的出门左转 [P1601](https://www.luogu.com.cn/problem/P1601)。


## code

```
#include<bits/stdc++.h>
using namespace std;
int a[114514],b[114514],c[114514];
string cheng(string a2,string b2)
{
	memset(a,0,sizeof(a));
	memset(b,0,sizeof(b));
	memset(c,0,sizeof(c));
	int lena=a2.size(),lenb=b2.size();
	string k="";
	for (int i=lena-1,j=1;i>=0;i--,j++){
		a[j]=a2[i]-'0';
	}
	for (int i=lenb-1,j=1;i>=0;i--,j++){
		b[j]=b2[i]-'0';
	}
	for (int i=1;i<=lena;i++){
		for (int j=1;j<=lenb;j++){
			c[i+j-1]+=a[i]*b[j];
		}
	}
	int len=lena+lenb;
	for (int i=1;i<=len;i++){
		c[i+1]+=c[i]/10;
		c[i]%=10;
	}
	while (!c[len]){
		len--;
	}
	for (int i=max(1,len);i>=1;i--){
		k+=c[i]+'0';
	}
	return k;
}//高精度乘法
string jia(string a2,string b2)
{
	memset(a,0,sizeof(a));
	memset(b,0,sizeof(b));
	memset(c,0,sizeof(c));
	int len=max(a2.size(),b2.size());
	string k="";
	for (int i=a2.size()-1,j=1;i>=0;i--,j++){
		a[j]=a2[i]-'0';
	}
	for (int i=b2.size()-1,j=1;i>=0;i--,j++){
		b[j]=b2[i]-'0';
	}
	for (int i=1;i<=len;i++){
		c[i]=c[i]+b[i]+a[i];
		c[i+1]=c[i]/10;
		c[i]=c[i]%10;
	}
	if (c[len+1]){
		len++;
	}
	for (int i=len;i>=1;i--){
		k+=c[i]+'0';
	}
	return k;
}//高精度加法
string dp[260];
int main(){
	dp[0]=dp[1]="1";
	for (int i=2;i<=250;i++) dp[i]=jia(dp[i-1],cheng(dp[i-2],"2"));//预先算好数量
	int l;
	while (cin>>l){
		cout<<dp[l]<<'\n';
	}
	return 0;
}
```

---

## 作者：ylch (赞：2)

## Description

求：可以通过多少种方式将 $2 \times n$ 矩形平铺为 $2 \times 1$ 或 $2 \times 2$ 平铺？

以下为一个 $2 \times 17$ 矩形的平铺示例。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA10359/c7428324c83f2f2a32565e9cb9de7f4a9dd6d8c6.png?x-oss-process=image/resize,m_lfit,h_600,w_900)

## Analysis

~~通过标签可知~~ 通过分析可以知道这是一道递推+高精度的题目。

像这种填格子的问题很大一部分都是应用递推，进行计数。

这道题是 $2 \times n$ 的一维平铺，同时砖块只有 $1 \times 2$ 和 $2 \times 2$ 两种，我们不妨这样设状态：

> $f_i$ 表示当前放到横向第 $i$ 格的方案总数。

然后考虑转移。我们可以以这一次放的砖块为线索：（假设当前位置为 $i$，红色的是上一个放的）

1. 这一次放的砖块是竖着的 $1 \times 2$ 砖块，转移可以从第 $i-1$ 个位置转移：$f_i \gets f_i + f_{i-1}$

   ![](https://cdn.luogu.com.cn/upload/image_hosting/vjwmhmd9.png)

2. 这一次放的是两个横着的 $2 \times 1$ 砖块，转移可以从第 $i-2$ 个位置转移：$f_i \gets f_i + f_{i-2}$

    ![](https://cdn.luogu.com.cn/upload/image_hosting/t9y6f8gz.png)

3. 这一次放的是一个 $2 \times 2$ 的正方形砖块，同样可以从第 $i-2$ 个位置转移：$f_i \gets f_i + f_{i-2}$

   ![](https://cdn.luogu.com.cn/upload/image_hosting/ebdao5sq.png)


综上所述，递推式为：

$$f_0=1,f_1=1$$
$$f_i=f_{i-1}+2 \times f_{i-2} (2 \le i \le n)$$

## Code

由于这道题的 $n$ 有 $250$，方案数会非常大，可以用 Python 打表，也可以手写高精度预处理。

在手写高精度时，不用对每次转移都进行详细的操作，只要在每次转移时进位，到最后输出时去除前导 $0$ 输出即可。

```cpp
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

int f[260][250];

void solve()
{
	f[0][0] = 1, f[1][0] = 1;
	int x = 0; // 处理进位
	for(int i = 2; i <= 250; i ++){
		for(int j = 0; j < 250; j ++){
			f[i][j] = f[i - 1][j] + 2 * f[i - 2][j] + x;
			x = f[i][j] / 10, f[i][j] %= 10;
		}
	}
	int n;
	while(cin >> n){
		int pos = 249;
		while(f[n][pos] == 0 && pos != 0) -- pos; // 去除前导0
		for(int i = pos; i >= 0; i --) cout << f[n][i]; // 倒序输出
		cout << '\n';
	}
}

signed main()
{
	ios :: sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);
	solve();
	return 0;
}
```

## End

管理员大大辛苦啦~

这里是 ylch，谢谢大家！

---

## 作者：洛必达法则 (赞：2)

一道简单的高精+递推

递推方程见程序

```python
import os
f=[1,1]
for i in range(2,251):
    f.append(f[i-1]+f[i-2]+f[i-2])
a=0
b=True
while b:
    try:
        a=int(input())
        print(f[a])
    except:
        b=False
```

------------------------------------------------------------------

如何~~感性~~理解递推方程?

~~显然，~~当n>3时，该图案必由2$*$2与2$*$1的基本单位组成
-------------------------------------------------------------------
于是，我们可以把所欲求之结论转为转化为：

用$2*(n-2)$的图案与$2*2$的基本单位拼成现图案的方案数与用
$2*(n-1)$与$2*1$的基本单位拼成现图案的方案数之和


又$2*2$的基本单位的表示方式有：

$1*2$ **+** $1*2$、$2*2$、$2*1$ **+** $2*1$(与$2*1$重复舍)

共2种有效；

$2*1$的基本单位的表示方式有：

$2*1$

共1种有效；

故易得程序中的递推方程


---

## 作者：ILLENIUM_DOOR (赞：1)


对于刚学递归的蒟蒻（~~本人~~）来说，这道题是一道很好的**模板题**。

（~~首先别告诉我你连题目描述也看不懂~~）

假如你看懂了，就可以发现，这其实就是一道图形覆盖的递归。

递归的边界：$f_0=f_1=1$（无法覆盖也算一种），$f_2=3$。

首先，我们看到第一种情况：

![](https://i.postimg.cc/d0frYx58/image.png)

这时候，我们可以很轻易地得出，$f_i=f_{i-1}$。

然后是第二种：

![](https://i.postimg.cc/VLjNsVkj/2.png)

这时候，我们又可以很轻易地得出，$f_i=f_{i-2}$。

最后是第三种：

![](https://i.postimg.cc/Fz0hRYN9/3.png)

这时候，我们仍然可以很轻易地得出，$f_i=f_{i-2}$。

如果还想往下推，我们会发现，变成了这三种形式的组合。换句话说，

**这是最基础的三种情况。**

于是，我们就可以得出递推式：$f_i=f_{i-1}+f_{i-2}\times 2$。

-----------------

**但是，这就结束了吗？**

做题时会突然注意到，题目中的 $n \leq 250$。

我们粗略估计，发现这数据范围实在是大的一批。

那么这时候，就**只能**用高精度了。（~~本蒟蒻实在是懒得打高精度~~）

这时候，我们定义 $f_{i,j}$ 为 $2 \times i$ 这个长方形的方案数的每一位。

那么，递推式就有一定的更改：$f_{i,j}=f_{i-1,j}+f_{i-2,j}\times2+x$。

其中，$x$ 指的是前一位的进位。

最后，去除前导 0，倒序输出即可。

--------------------

**AC 代码**
 ~~~~cpp
 #include<bits/stdc++.h>
 using namespace std;
 int f[260][250];
 int main(){
	 int n,b=0;//b 处理进位 
	 f[0][1]=1;//递归边界 
	 f[1][1]=1;
	 f[2][1]=3;
	 for(int i=3;i<=250;i++)
	 	 for(int j=1;j<=250;j++){
			 f[i][j]=f[i-1][j]+2*f[i-2][j]+b;//递归 + 高精度 
			 b=f[i][j]/10;
			 f[i][j]%=10;
		 }
	 while(cin>>n){
		 int k=250;
		 while(!f[n][k]&&k) k--; //去除前导 0 
		 for(int i=k;i>=1;i--) cout<<f[n][i]; //倒序输出 
		 cout<<endl;
	 }
	 return 0;	
 }
 ~~~~

---

## 作者：zhangzhaoke (赞：1)

看代码中的注释

蒟蒻第三次发题解

管理员大大求过
```cpp
#include<iostream>
#include<cstdio>
using namespace std;
int a[251][200],b,n,k=199;
int main(){
	a[0][0]=1;/*第一个下标储存第N个数，即地砖列数，第二个下标储存该数的某一位。*/
	a[1][0]=1;
	a[2][0]=3;
	for(int i=3;i<=250;i++)//For循环求出当地砖列数为3-250时的值。
	for(int j=0;j<=199;j++){//每个高精度数组设为200位。
	a[i][j]=a[i-1][j]+a[i-2][j]+a[i-2][j]+b;
/*高精加，递推式为a[i][j]=a[i-1][j]+a[i-2][j]*2，初始情况分别为 
两块1*2横放（剩下n-2列），一块2*2（剩下n-2列），一块1*2竖放（剩 
下n-1列）*/
	b=a[i][j]/10;
	a[i][j]%=10;
	}
	while(scanf("%d",&n)!=EOF){
	//也可用while（cin>>n）
		k=199;//每循环一次进行一次初始化。
	while(a[n][k]==0){//消去前导0。
		k--;
	}
	for(int i=k;i>=0;i--)
		cout<<a[n][i];
		cout<<endl;
	}
	return 0;
}


```

---

## 作者：w2Tao (赞：1)

#### 很明显这是一道递推的题目 ~~暴力枚举的你试试~~
#### 此题的大体方法：由于是多次询问，所以先将每种结果算出来存放进数组后查询
#### 找不到递推关系式？让我们简单地模拟一下：
#### 1\*2:1
#### 2\*2:3
#### 3\*2:5
#### 4\*2:11
#### 5\*2:21
#### ………………
#### 得出关系式：
```cpp
a[i]=a[i-1]+2*a[i-2] 
```
#### 递推边界：a[1]=1,a[2]=3
#### 于是可以上代码了：
```cpp
#include <bits/stdc++.h>
using namespace std;
int a[301][501];//a[i]整体表示方法数，a[i][0]表示位数，之后的是高精度计算的数组，注意是逆序存储！！！
int main()
{
	a[1][0]=1;
	a[1][1]=1;
	a[2][0]=1;
	a[2][1]=3;//递推边界的处理
	for(int i=3;i<=300;i++)
	{
		for(int j=1;j<=max(a[i-2][0],a[i-1][0]);j++)//处理位数
			a[i][j]=a[i-1][j]+a[i-2][j]*2;//按照递推关系式先全部加到数组里去
		a[i][0]=max(a[i-2][0],a[i-1][0]);
		for(int j=1;j<=a[i][0];j++)
		{			
			a[i][j+1]+=a[i][j]/10;
			a[i][j]%=10;
		}//高精度加法
		while(a[i][a[i][0]+1])
		{
			a[i][0]++;
			a[i][a[i][0]+1]+=a[i][a[i][0]]/10;
		}//再次处理位数
	}
	int n;
	while(cin>>n)//重复读入
	{
		if(n==0)
			cout<<1<<endl;
		else
		{
			for(int i=a[n][0];i>=1;i--)
				cout<<a[n][i];//输出结果（逆序！！！）
			cout<<endl;
		}
	}
	return 0;
}
```
#### AC！

---

## 作者：封禁用户 (赞：0)

### 思路
首先，很容易看出本题考查的算法为动态规划。\
设 $dp_i$ 为摆出 $2\times n$ 的长方形的方案数，考虑如何转移。

不难发现 $2\times n$ 的长方形既可以由 $2\times(n-1)$ 与 $2\times 1$ 的长方形拼出，也可以由 $2\times(n-2)$ 与两块 $1\times 2$ 或 $2\times 1$ 的长方形拼出。

即 $dp_i=2\times dp_{i-2}+dp_{i-1}$。

### 注意事项
本题答案的值可能极大，需要使用高精度加法与高精度乘法。（其实可以不用高精度乘法）

**注：为了追求效率，我使用了快速傅里叶变换以实现高精乘。**

### 代码（码风猎奇）
```cpp
#include<bits/stdc++.h>
using namespace std;
const int N=257,M=1007;
const double Pi=acos(-1.0);
int n,lg[M];
string dp[N];

string High_precision_addition(string a,string b){
	int ans[max(a.size(),b.size())+7]={0};
	if(a.size()>b.size())
		swap(a,b);
	while(a.size()<b.size())
		a='0'+a;
	for(int i=0;i<a.size();++i)
		ans[i]=(a[a.size()-i-1]-'0'+b[a.size()-i-1]-'0');
	for(int i=0;i<a.size();++i){
		ans[i+1]+=ans[i]/10;
		ans[i]%=10;
	}
	string res="";
	if(ans[a.size()])
		res+=char(ans[a.size()]+'0');
	for(int i=a.size()-1;i>=0;--i)
		res+=char(ans[i]+'0');
	return res;
}

void Fast_Fourier_Transform(int limit,complex<double> *a,int type){
	if(limit==1)
		return;
	complex<double> a1[limit>>1],a2[limit>>1];
	for(int i=0;i<limit;i+=2){
		a1[i>>1]=a[i];
		a2[i>>1]=a[i+1];
	}
	Fast_Fourier_Transform(limit>>1,a1,type);
	Fast_Fourier_Transform(limit>>1,a2,type);
	complex<double> w{1,0};
	complex<double> wn{cos(2*Pi/limit),type*sin(2*Pi/limit)};
	for(int i=0;i<limit>>1;++i,w*=wn){
		a[i]=a1[i]+a2[i]*w;
		a[i+(limit>>1)]=a1[i]-a2[i]*w;
	}
}

string High_precision_multiplication(string a,string b){
	complex<double> f[1<<(lg[max(a.size(),b.size())]+1)];
	complex<double> g[1<<(lg[max(a.size(),b.size())]+1)];
	int ans[M]={0};
	for(int i=1;i<=a.size();++i)
		f[i-1]=a[a.size()-i]-'0';
	for(int i=1;i<=b.size();++i)
		g[i-1]=b[b.size()-i]-'0';
	int lt=1;
	while(lt<=a.size()+b.size()-1)
		lt<<=1;
	Fast_Fourier_Transform(lt,f,1);
	Fast_Fourier_Transform(lt,g,1);
	for(int i=0;i<=lt;++i)
		f[i]*=g[i];
	Fast_Fourier_Transform(lt,f,-1);
	for(int i=0;i<=a.size()+b.size()-1;++i)
		ans[i]=(int)(f[i].real()/lt+0.5);
	for(int i=0;i<a.size()+b.size()-1;++i){
		ans[i+1]+=ans[i]/10;
		ans[i]=ans[i]%10;
	}
	string res="";
	bool flg=true;
	for(int i=a.size()+b.size()-1;i>=0;--i){
		if(flg&&!ans[i])
			continue;
		else{
			flg=false;
			res+=char(ans[i]+'0');
		}
	}
	return res;
}

int main(){
	dp[0]="1",dp[1]="1",dp[2]="3";
	for(int i=2;i<M;++i)
		lg[i]=lg[i>>1]+1;
	for(int i=3;i<=250;++i)
		dp[i]=High_precision_addition(dp[i-1],
		High_precision_multiplication("2",dp[i-2]));
    while(cin>>n)
		cout<<dp[n]<<"\n";
	return 0;
}

```

---

## 作者：DashZhanghanxu (赞：0)

# 解析
这题涉及到高精度和递推，对于高精度，对于 python 而言，没有数据范围影响，更加方便，因此用 python 解题。

当 $n = 0$ 时，只有一种铺法，即不铺任何瓷砖，所以 $dp[0]=1$。当 $n = 1$ 时，只能用一个 $2\times1$ 的瓷砖，所以 $dp[1]=1$。对于 $i \ge 2$ 的情况，考虑最后一块瓷砖的铺法：如果最后一块用的是 $2\times1$ 的瓷砖竖着铺，那么前面 $2\times(i - 1)$ 的矩形有 $dp[i - 1]$ 种铺法。如果最后是用两块 $2\times1$ 的瓷砖横着铺或者一块 $2\times2$ 的瓷砖铺，那么前面 $2\times(i - 2)$ 的矩形有 $dp[i - 2]$ 种铺法。
所以 $dp[i]=dp[i - 1]+dp[i - 2]+1$（这里的 1 是因为用 $2\times2$ 瓷砖铺的情况，它不能简单地归到前面两种情况中）。

# CODE
```python
def ways(n):
    if n == 0:
        return 1
    elif n == 1:
        return 1
    dp = [0] * (n + 1)
    dp[0] = 1
    dp[1] = 1
    for i in range(2, n + 1):
        dp[i] = dp[i - 1] + dp[i - 2] + 1 if i >= 2 else dp[i - 1]
    return dp[n]


while True:
    try:
        n = int(input())
        print(ways(n))
    except:
        break
```

---

## 作者：Big_Yi (赞：0)

~~据说在 CSP 第二轮考前写题解能 RP++ 。~~

这道题是一道非常经典的递推题目，其中需要使用高精度知识，请自行前往 P1601。

### 递推过程

我们先定义放方块 $2\times i$ 的种数为 $f_i$。

首先从最简单当 $i = 1$ 时，不必多说 $f_i=1$：

![](https://cdn.luogu.com.cn/upload/image_hosting/uscv79ig.png)

$i = 2$ 时，$f_i=3$：

![](https://cdn.luogu.com.cn/upload/image_hosting/1bemyici.png)

$i = 3$ 时，$f_i=5$：

![](https://cdn.luogu.com.cn/upload/image_hosting/ciqz7t5k.png)

汇总：

![](https://cdn.luogu.com.cn/upload/image_hosting/gou7qtd6.png)


更多的就不展示了。

仔细地朋友们可能已经发现规律了，没看懂的看下面。

为了更好理解，我们把 $f_{i-1}$ 当作 $f_{i}$ 的父辈。同理，把 $f_{i-2}$ 当作 $f_{i}$ 爷爷辈。

在递推中，一个重要的思想就是使用已有的，就像是继承父亲或爷爷创造的财富。

分两种，第一种是继承父亲的财富：

![](https://cdn.luogu.com.cn/upload/image_hosting/dbsk5uav.png)

这种情况种数为 $f_{i-1}$。

第二种是继承爷爷的财富，但是有两种不同继承方法：

![](https://cdn.luogu.com.cn/upload/image_hosting/c8ryyysh.png)

![](https://cdn.luogu.com.cn/upload/image_hosting/jpb0qlx1.png)

这种情况种数为 $2\times{f_{i-2}}$。

所以总种数就为 $f_i=f_{i-1} + 2\times{f_{i-2}}$，别忘初始化 $f_0=1$，$f_1=1$。

此处建议直接像我一样打表实现，在考试中这样写也更安全，否则容易 TLE。

打表核心代码：
```cpp
for (int i=2;i<=250;i++){
  dp[i]=plus(dp[i-1],mutiply(dp[i-2],"2"));
  cout<<'"'<<dp[i]<<'"'<<',';
}
```

### Code

```cpp
#include <bits/stdc++.h>
using namespace std;
string a[251]={"1","1","3","5","11","21","43","85","171","341","683","1365","2731","5461","10923","21845","43691","87381","174763","349525","699051","1398101","2796203","5592405","11184811","22369621","44739243","89478485","178956971","357913941","715827883","1431655765","2863311531","5726623061","11453246123","22906492245","45812984491","91625968981","183251937963","366503875925","733007751851","1466015503701","2932031007403","5864062014805","11728124029611","23456248059221","46912496118443","93824992236885","187649984473771","375299968947541","750599937895083","1501199875790165","3002399751580331","6004799503160661","12009599006321323","24019198012642645","48038396025285291","96076792050570581","192153584101141163","384307168202282325","768614336404564651","1537228672809129301","3074457345618258603","6148914691236517205","12297829382473034411","24595658764946068821","49191317529892137643","98382635059784275285","196765270119568550571","393530540239137101141","787061080478274202283","1574122160956548404565","3148244321913096809131","6296488643826193618261","12592977287652387236523","25185954575304774473045","50371909150609548946091","100743818301219097892181","201487636602438195784363","402975273204876391568725","805950546409752783137451","1611901092819505566274901","3223802185639011132549803","6447604371278022265099605","12895208742556044530199211","25790417485112089060398421","51580834970224178120796843","103161669940448356241593685","206323339880896712483187371","412646679761793424966374741","825293359523586849932749483","1650586719047173699865498965","3301173438094347399730997931","6602346876188694799461995861","13204693752377389598923991723","26409387504754779197847983445","52818775009509558395695966891","105637550019019116791391933781","211275100038038233582783867563","422550200076076467165567735125","845100400152152934331135470251","1690200800304305868662270940501","3380401600608611737324541881003","6760803201217223474649083762005","13521606402434446949298167524011","27043212804868893898596335048021","54086425609737787797192670096043","108172851219475575594385340192085","216345702438951151188770680384171","432691404877902302377541360768341","865382809755804604755082721536683","1730765619511609209510165443073365","3461531239023218419020330886146731","6923062478046436838040661772293461","13846124956092873676081323544586923","27692249912185747352162647089173845","55384499824371494704325294178347691","110768999648742989408650588356695381","221537999297485978817301176713390763","443075998594971957634602353426781525","886151997189943915269204706853563051","1772303994379887830538409413707126101","3544607988759775661076818827414252203","7089215977519551322153637654828504405","14178431955039102644307275309657008811","28356863910078205288614550619314017621","56713727820156410577229101238628035243","113427455640312821154458202477256070485","226854911280625642308916404954512140971","453709822561251284617832809909024281941","907419645122502569235665619818048563883","1814839290245005138471331239636097127765","3629678580490010276942662479272194255531","7259357160980020553885324958544388511061","14518714321960041107770649917088777022123","29037428643920082215541299834177554044245","58074857287840164431082599668355108088491","116149714575680328862165199336710216176981","232299429151360657724330398673420432353963","464598858302721315448660797346840864707925","929197716605442630897321594693681729415851","1858395433210885261794643189387363458831701","3716790866421770523589286378774726917663403","7433581732843541047178572757549453835326805","14867163465687082094357145515098907670653611","29734326931374164188714291030197815341307221","59468653862748328377428582060395630682614443","118937307725496656754857164120791261365228885","237874615450993313509714328241582522730457771","475749230901986627019428656483165045460915541","951498461803973254038857312966330090921831083","1902996923607946508077714625932660181843662165","3805993847215893016155429251865320363687324331","7611987694431786032310858503730640727374648661","15223975388863572064621717007461281454749297323","30447950777727144129243434014922562909498594645","60895901555454288258486868029845125818997189291","121791803110908576516973736059690251637994378581","243583606221817153033947472119380503275988757163","487167212443634306067894944238761006551977514325","974334424887268612135789888477522013103955028651","1948668849774537224271579776955044026207910057301","3897337699549074448543159553910088052415820114603","7794675399098148897086319107820176104831640229205","15589350798196297794172638215640352209663280458411","31178701596392595588345276431280704419326560916821","62357403192785191176690552862561408838653121833643","124714806385570382353381105725122817677306243667285","249429612771140764706762211450245635354612487334571","498859225542281529413524422900491270709224974669141","997718451084563058827048845800982541418449949338283","1995436902169126117654097691601965082836899898676565","3990873804338252235308195383203930165673799797353131","7981747608676504470616390766407860331347599594706261","15963495217353008941232781532815720662695199189412523","31926990434706017882465563065631441325390398378825045","63853980869412035764931126131262882650780796757650091","127707961738824071529862252262525765301561593515300181","255415923477648143059724504525051530603123187030600363","510831846955296286119449009050103061206246374061200725","1021663693910592572238898018100206122412492748122401451","2043327387821185144477796036200412244824985496244802901","4086654775642370288955592072400824489649970992489605803","8173309551284740577911184144801648979299941984979211605","16346619102569481155822368289603297958599883969958423211","32693238205138962311644736579206595917199767939916846421","65386476410277924623289473158413191834399535879833692843","130772952820555849246578946316826383668799071759667385685","261545905641111698493157892633652767337598143519334771371","523091811282223396986315785267305534675196287038669542741","1046183622564446793972631570534611069350392574077339085483","2092367245128893587945263141069222138700785148154678170965","4184734490257787175890526282138444277401570296309356341931","8369468980515574351781052564276888554803140592618712683861","16738937961031148703562105128553777109606281185237425367723","33477875922062297407124210257107554219212562370474850735445","66955751844124594814248420514215108438425124740949701470891","133911503688249189628496841028430216876850249481899402941781","267823007376498379256993682056860433753700498963798805883563","535646014752996758513987364113720867507400997927597611767125","1071292029505993517027974728227441735014801995855195223534251","2142584059011987034055949456454883470029603991710390447068501","4285168118023974068111898912909766940059207983420780894137003","8570336236047948136223797825819533880118415966841561788274005","17140672472095896272447595651639067760236831933683123576548011","34281344944191792544895191303278135520473663867366247153096021","68562689888383585089790382606556271040947327734732494306192043","137125379776767170179580765213112542081894655469464988612384085","274250759553534340359161530426225084163789310938929977224768171","548501519107068680718323060852450168327578621877859954449536341","1097003038214137361436646121704900336655157243755719908899072683","2194006076428274722873292243409800673310314487511439817798145365","4388012152856549445746584486819601346620628975022879635596290731","8776024305713098891493168973639202693241257950045759271192581461","17552048611426197782986337947278405386482515900091518542385162923","35104097222852395565972675894556810772965031800183037084770325845","70208194445704791131945351789113621545930063600366074169540651691","140416388891409582263890703578227243091860127200732148339081303381","280832777782819164527781407156454486183720254401464296678162606763","561665555565638329055562814312908972367440508802928593356325213525","1123331111131276658111125628625817944734881017605857186712650427051","2246662222262553316222251257251635889469762035211714373425300854101","4493324444525106632444502514503271778939524070423428746850601708203","8986648889050213264889005029006543557879048140846857493701203416405","17973297778100426529778010058013087115758096281693714987402406832811","35946595556200853059556020116026174231516192563387429974804813665621","71893191112401706119112040232052348463032385126774859949609627331243","143786382224803412238224080464104696926064770253549719899219254662485","287572764449606824476448160928209393852129540507099439798438509324971","575145528899213648952896321856418787704259081014198879596877018649941","1150291057798427297905792643712837575408518162028397759193754037299883","2300582115596854595811585287425675150817036324056795518387508074599765","4601164231193709191623170574851350301634072648113591036775016149199531","9202328462387418383246341149702700603268145296227182073550032298399061","18404656924774836766492682299405401206536290592454364147100064596798123","36809313849549673532985364598810802413072581184908728294200129193596245","73618627699099347065970729197621604826145162369817456588400258387192491","147237255398198694131941458395243209652290324739634913176800516774384981","294474510796397388263882916790486419304580649479269826353601033548769963","588949021592794776527765833580972838609161298958539652707202067097539925","1177898043185589553055531667161945677218322597917079305414404134195079851","2355796086371179106111063334323891354436645195834158610828808268390159701","4711592172742358212222126668647782708873290391668317221657616536780319403","9423184345484716424444253337295565417746580783336634443315233073560638805","18846368690969432848888506674591130835493161566673268886630466147121277611","37692737381938865697777013349182261670986323133346537773260932294242555221","75385474763877731395554026698364523341972646266693075546521864588485110443","150770949527755462791108053396729046683945292533386151093043729176970220885","301541899055510925582216106793458093367890585066772302186087458353940441771","603083798111021851164432213586916186735781170133544604372174916707880883541","1206167596222043702328864427173832373471562340267089208744349833415761767083"};

signed main() {
	int n;
	while(cin>>n){
		cout<<a[n]<<endl;
	}
    return 0;
}
```

---

## 作者：FurippuWRY (赞：0)

递推。

题意：有一大堆的矩形，分为两种：$2\times 1$ 和 $2\times 2$ 的，求用这些矩形拼成一个 $2\times n$ 的大矩形有几种组合。

观察题面可以发现，对于一个 $2 \times n$ 的大矩形，拼法有以下三种：

- 在 $2(n-1)$ 的大矩形后增加一个 $2\times 1$ 的小矩形；

- 在 $2(n-2)$ 的大矩形后增加两个 $2\times 1$ 的小矩形；

- 在 $2(n-2)$ 的大矩形后增加一个 $2\times 2$ 的小矩形；

由上述三点，可以得到：对于不同的 $i$，拼法 $p_i$ 的递推式为：

$$p_i=\begin{cases}1,i\in\{0,1\}\\p_{i-1}+2p_{i-2},i\ge2\end{cases}$$

直接代入计算...就行了嘛？

注意样例，$n=200$ 时，$p_{200}=1071292029505993517027974728227441735014801995855195223534251$，而且 $n \in [0,250]$，用 C++ 直接打肯定会爆。

Python，启动！

```python
a = [1, 1]
for i in range(2, 251):
    a.append(a[i - 1] + 2 * a[i - 2] )
while True:
    try:
        n = int(input())
        print(a[n])
    except: break;
```

此代码可以 AC。

由于 Python 自带高精，可以省去一大堆麻烦事。

有了递推式，我们就可以写出打表代码：

生成：
```python
a = [1, 1]

for i in range(2, 251):
    a.append (a[i - 1] +  a[i - 2] * 2)
print("string a[] = {", end = "")

for i in range(0, 125):
    print("\"", end = "")
    print(a[i], end = "\",")

for i in range(125, 250):
    print("\"", end = "")
    print(a[i], end = "\",")

print("\"", end = "")
print(a[250], end = "\"}; ")
```

将输出结果扔到 C++ 代码里：

```cpp
#include <bits/stdc++.h>

using namespace std;

string a[] = {"1","1","3","5","11","21","43","85","171","341","683","1365","2731","5461","10923","21845","43691","87381","174763","349525","699051","1398101","2796203","5592405","11184811","22369621","44739243","89478485","178956971","357913941","715827883","1431655765","2863311531","5726623061","11453246123","22906492245","45812984491","91625968981","183251937963","366503875925","733007751851","1466015503701","2932031007403","5864062014805","11728124029611","23456248059221","46912496118443","93824992236885","187649984473771","375299968947541","750599937895083","1501199875790165","3002399751580331","6004799503160661","12009599006321323","24019198012642645","48038396025285291","96076792050570581","192153584101141163","384307168202282325","768614336404564651","1537228672809129301","3074457345618258603","6148914691236517205","12297829382473034411","24595658764946068821","49191317529892137643","98382635059784275285","196765270119568550571","393530540239137101141","787061080478274202283","1574122160956548404565","3148244321913096809131","6296488643826193618261","12592977287652387236523","25185954575304774473045","50371909150609548946091","100743818301219097892181","201487636602438195784363","402975273204876391568725","805950546409752783137451","1611901092819505566274901","3223802185639011132549803","6447604371278022265099605","12895208742556044530199211","25790417485112089060398421","51580834970224178120796843","103161669940448356241593685","206323339880896712483187371","412646679761793424966374741","825293359523586849932749483","1650586719047173699865498965","3301173438094347399730997931","6602346876188694799461995861","13204693752377389598923991723","26409387504754779197847983445","52818775009509558395695966891","105637550019019116791391933781","211275100038038233582783867563","422550200076076467165567735125","845100400152152934331135470251","1690200800304305868662270940501","3380401600608611737324541881003","6760803201217223474649083762005","13521606402434446949298167524011","27043212804868893898596335048021","54086425609737787797192670096043","108172851219475575594385340192085","216345702438951151188770680384171","432691404877902302377541360768341","865382809755804604755082721536683","1730765619511609209510165443073365","3461531239023218419020330886146731","6923062478046436838040661772293461","13846124956092873676081323544586923","27692249912185747352162647089173845","55384499824371494704325294178347691","110768999648742989408650588356695381","221537999297485978817301176713390763","443075998594971957634602353426781525","886151997189943915269204706853563051","1772303994379887830538409413707126101","3544607988759775661076818827414252203","7089215977519551322153637654828504405","14178431955039102644307275309657008811","28356863910078205288614550619314017621","56713727820156410577229101238628035243","113427455640312821154458202477256070485","226854911280625642308916404954512140971","453709822561251284617832809909024281941","907419645122502569235665619818048563883","1814839290245005138471331239636097127765","3629678580490010276942662479272194255531","7259357160980020553885324958544388511061","14518714321960041107770649917088777022123","29037428643920082215541299834177554044245","58074857287840164431082599668355108088491","116149714575680328862165199336710216176981","232299429151360657724330398673420432353963","464598858302721315448660797346840864707925","929197716605442630897321594693681729415851","1858395433210885261794643189387363458831701","3716790866421770523589286378774726917663403","7433581732843541047178572757549453835326805","14867163465687082094357145515098907670653611","29734326931374164188714291030197815341307221","59468653862748328377428582060395630682614443","118937307725496656754857164120791261365228885","237874615450993313509714328241582522730457771","475749230901986627019428656483165045460915541","951498461803973254038857312966330090921831083","1902996923607946508077714625932660181843662165","3805993847215893016155429251865320363687324331","7611987694431786032310858503730640727374648661","15223975388863572064621717007461281454749297323","30447950777727144129243434014922562909498594645","60895901555454288258486868029845125818997189291","121791803110908576516973736059690251637994378581","243583606221817153033947472119380503275988757163","487167212443634306067894944238761006551977514325","974334424887268612135789888477522013103955028651","1948668849774537224271579776955044026207910057301","3897337699549074448543159553910088052415820114603","7794675399098148897086319107820176104831640229205","15589350798196297794172638215640352209663280458411","31178701596392595588345276431280704419326560916821","62357403192785191176690552862561408838653121833643","124714806385570382353381105725122817677306243667285","249429612771140764706762211450245635354612487334571","498859225542281529413524422900491270709224974669141","997718451084563058827048845800982541418449949338283","1995436902169126117654097691601965082836899898676565","3990873804338252235308195383203930165673799797353131","7981747608676504470616390766407860331347599594706261","15963495217353008941232781532815720662695199189412523","31926990434706017882465563065631441325390398378825045","63853980869412035764931126131262882650780796757650091","127707961738824071529862252262525765301561593515300181","255415923477648143059724504525051530603123187030600363","510831846955296286119449009050103061206246374061200725","1021663693910592572238898018100206122412492748122401451","2043327387821185144477796036200412244824985496244802901","4086654775642370288955592072400824489649970992489605803","8173309551284740577911184144801648979299941984979211605","16346619102569481155822368289603297958599883969958423211","32693238205138962311644736579206595917199767939916846421","65386476410277924623289473158413191834399535879833692843","130772952820555849246578946316826383668799071759667385685","261545905641111698493157892633652767337598143519334771371","523091811282223396986315785267305534675196287038669542741","1046183622564446793972631570534611069350392574077339085483","2092367245128893587945263141069222138700785148154678170965","4184734490257787175890526282138444277401570296309356341931","8369468980515574351781052564276888554803140592618712683861","16738937961031148703562105128553777109606281185237425367723","33477875922062297407124210257107554219212562370474850735445","66955751844124594814248420514215108438425124740949701470891","133911503688249189628496841028430216876850249481899402941781","267823007376498379256993682056860433753700498963798805883563","535646014752996758513987364113720867507400997927597611767125","1071292029505993517027974728227441735014801995855195223534251","2142584059011987034055949456454883470029603991710390447068501","4285168118023974068111898912909766940059207983420780894137003","8570336236047948136223797825819533880118415966841561788274005","17140672472095896272447595651639067760236831933683123576548011","34281344944191792544895191303278135520473663867366247153096021","68562689888383585089790382606556271040947327734732494306192043","137125379776767170179580765213112542081894655469464988612384085","274250759553534340359161530426225084163789310938929977224768171","548501519107068680718323060852450168327578621877859954449536341","1097003038214137361436646121704900336655157243755719908899072683","2194006076428274722873292243409800673310314487511439817798145365","4388012152856549445746584486819601346620628975022879635596290731","8776024305713098891493168973639202693241257950045759271192581461","17552048611426197782986337947278405386482515900091518542385162923","35104097222852395565972675894556810772965031800183037084770325845","70208194445704791131945351789113621545930063600366074169540651691","140416388891409582263890703578227243091860127200732148339081303381","280832777782819164527781407156454486183720254401464296678162606763","561665555565638329055562814312908972367440508802928593356325213525","1123331111131276658111125628625817944734881017605857186712650427051","2246662222262553316222251257251635889469762035211714373425300854101","4493324444525106632444502514503271778939524070423428746850601708203","8986648889050213264889005029006543557879048140846857493701203416405","17973297778100426529778010058013087115758096281693714987402406832811","35946595556200853059556020116026174231516192563387429974804813665621","71893191112401706119112040232052348463032385126774859949609627331243","143786382224803412238224080464104696926064770253549719899219254662485","287572764449606824476448160928209393852129540507099439798438509324971","575145528899213648952896321856418787704259081014198879596877018649941","1150291057798427297905792643712837575408518162028397759193754037299883","2300582115596854595811585287425675150817036324056795518387508074599765","4601164231193709191623170574851350301634072648113591036775016149199531","9202328462387418383246341149702700603268145296227182073550032298399061","18404656924774836766492682299405401206536290592454364147100064596798123","36809313849549673532985364598810802413072581184908728294200129193596245","73618627699099347065970729197621604826145162369817456588400258387192491","147237255398198694131941458395243209652290324739634913176800516774384981","294474510796397388263882916790486419304580649479269826353601033548769963","588949021592794776527765833580972838609161298958539652707202067097539925","1177898043185589553055531667161945677218322597917079305414404134195079851","2355796086371179106111063334323891354436645195834158610828808268390159701","4711592172742358212222126668647782708873290391668317221657616536780319403","9423184345484716424444253337295565417746580783336634443315233073560638805","18846368690969432848888506674591130835493161566673268886630466147121277611","37692737381938865697777013349182261670986323133346537773260932294242555221","75385474763877731395554026698364523341972646266693075546521864588485110443","150770949527755462791108053396729046683945292533386151093043729176970220885","301541899055510925582216106793458093367890585066772302186087458353940441771","603083798111021851164432213586916186735781170133544604372174916707880883541","1206167596222043702328864427173832373471562340267089208744349833415761767083"};
int n;

int main() {
	while(cin >> n) {
		cout << a[n] << '\n';
	}
	return 0;
}
```

---

## 作者：A_B_ (赞：0)

[题目传送门](https://www.luogu.com.cn/problem/UVA10359)。

人生苦短，我用打表法！

题目描述了要拼成一个 $2×n$ 的图案，有以下 $3$ 种方案：

- 在一个 $2×(n-1)$ 的矩阵上增加一个$2×1$的图形
- 在一个 $2×(n-2)$ 的矩阵上增加一个$2×2$的图形
- 在一个 $2×(n-2)$ 的矩阵上增加一个$2×1$的图形

综上所述，得出递推式子：

$lst_i=lst_{i-1} + lst_{i-2} + lst_{i-2}$ 化简为 $lst_i=lst_{i-1} + 2 ×lst_{i-2}$

注：

上面的 $n$ 代表递推式子的 $i$。

我们根据递推式子就可以写出打表代码，数据范围为 $250$，我这台电脑大约用时 $1$ 秒，根本没有时间上的焦虑。

### 打表 Code：
```python
lst=[1,1]
for i in range(2,251):lst.append(lst[i-1]+lst[i-2]+lst[i-2])//递推式
for i in range(len(f)):print("\"%d\","%f[i],end="")
```
表的[内容](https://www.luogu.com.cn/paste/smr645ky)

我们继续写个C++代码：
```cpp
#include <iostream>
using namespace std;

string ans[] = {"1","1","3","5","11","21","43","85","171","341","683","1365","2731","5461","10923","21845","43691","87381","174763","349525","699051","1398101","2796203","5592405","11184811","22369621","44739243","89478485","178956971","357913941","715827883","1431655765","2863311531","5726623061","11453246123","22906492245","45812984491","91625968981","183251937963","366503875925","733007751851","1466015503701","2932031007403","5864062014805","11728124029611","23456248059221","46912496118443","93824992236885","187649984473771","375299968947541","750599937895083","1501199875790165","3002399751580331","6004799503160661","12009599006321323","24019198012642645","48038396025285291","96076792050570581","192153584101141163","384307168202282325","768614336404564651","1537228672809129301","3074457345618258603","6148914691236517205","12297829382473034411","24595658764946068821","49191317529892137643","98382635059784275285","196765270119568550571","393530540239137101141","787061080478274202283","1574122160956548404565","3148244321913096809131","6296488643826193618261","12592977287652387236523","25185954575304774473045","50371909150609548946091","100743818301219097892181","201487636602438195784363","402975273204876391568725","805950546409752783137451","1611901092819505566274901","3223802185639011132549803","6447604371278022265099605","12895208742556044530199211","25790417485112089060398421","51580834970224178120796843","103161669940448356241593685","206323339880896712483187371","412646679761793424966374741","825293359523586849932749483","1650586719047173699865498965","3301173438094347399730997931","6602346876188694799461995861","13204693752377389598923991723","26409387504754779197847983445","52818775009509558395695966891","105637550019019116791391933781","211275100038038233582783867563","422550200076076467165567735125","845100400152152934331135470251","1690200800304305868662270940501","3380401600608611737324541881003","6760803201217223474649083762005","13521606402434446949298167524011","27043212804868893898596335048021","54086425609737787797192670096043","108172851219475575594385340192085","216345702438951151188770680384171","432691404877902302377541360768341","865382809755804604755082721536683","1730765619511609209510165443073365","3461531239023218419020330886146731","6923062478046436838040661772293461","13846124956092873676081323544586923","27692249912185747352162647089173845","55384499824371494704325294178347691","110768999648742989408650588356695381","221537999297485978817301176713390763","443075998594971957634602353426781525","886151997189943915269204706853563051","1772303994379887830538409413707126101","3544607988759775661076818827414252203","7089215977519551322153637654828504405","14178431955039102644307275309657008811","28356863910078205288614550619314017621","56713727820156410577229101238628035243","113427455640312821154458202477256070485","226854911280625642308916404954512140971","453709822561251284617832809909024281941","907419645122502569235665619818048563883","1814839290245005138471331239636097127765","3629678580490010276942662479272194255531","7259357160980020553885324958544388511061","14518714321960041107770649917088777022123","29037428643920082215541299834177554044245","58074857287840164431082599668355108088491","116149714575680328862165199336710216176981","232299429151360657724330398673420432353963","464598858302721315448660797346840864707925","929197716605442630897321594693681729415851","1858395433210885261794643189387363458831701","3716790866421770523589286378774726917663403","7433581732843541047178572757549453835326805","14867163465687082094357145515098907670653611","29734326931374164188714291030197815341307221","59468653862748328377428582060395630682614443","118937307725496656754857164120791261365228885","237874615450993313509714328241582522730457771","475749230901986627019428656483165045460915541","951498461803973254038857312966330090921831083","1902996923607946508077714625932660181843662165","3805993847215893016155429251865320363687324331","7611987694431786032310858503730640727374648661","15223975388863572064621717007461281454749297323","30447950777727144129243434014922562909498594645","60895901555454288258486868029845125818997189291","121791803110908576516973736059690251637994378581","243583606221817153033947472119380503275988757163","487167212443634306067894944238761006551977514325","974334424887268612135789888477522013103955028651","1948668849774537224271579776955044026207910057301","3897337699549074448543159553910088052415820114603","7794675399098148897086319107820176104831640229205","15589350798196297794172638215640352209663280458411","31178701596392595588345276431280704419326560916821","62357403192785191176690552862561408838653121833643","124714806385570382353381105725122817677306243667285","249429612771140764706762211450245635354612487334571","498859225542281529413524422900491270709224974669141","997718451084563058827048845800982541418449949338283","1995436902169126117654097691601965082836899898676565","3990873804338252235308195383203930165673799797353131","7981747608676504470616390766407860331347599594706261","15963495217353008941232781532815720662695199189412523","31926990434706017882465563065631441325390398378825045","63853980869412035764931126131262882650780796757650091","127707961738824071529862252262525765301561593515300181","255415923477648143059724504525051530603123187030600363","510831846955296286119449009050103061206246374061200725","1021663693910592572238898018100206122412492748122401451","2043327387821185144477796036200412244824985496244802901","4086654775642370288955592072400824489649970992489605803","8173309551284740577911184144801648979299941984979211605","16346619102569481155822368289603297958599883969958423211","32693238205138962311644736579206595917199767939916846421","65386476410277924623289473158413191834399535879833692843","130772952820555849246578946316826383668799071759667385685","261545905641111698493157892633652767337598143519334771371","523091811282223396986315785267305534675196287038669542741","1046183622564446793972631570534611069350392574077339085483","2092367245128893587945263141069222138700785148154678170965","4184734490257787175890526282138444277401570296309356341931","8369468980515574351781052564276888554803140592618712683861","16738937961031148703562105128553777109606281185237425367723","33477875922062297407124210257107554219212562370474850735445","66955751844124594814248420514215108438425124740949701470891","133911503688249189628496841028430216876850249481899402941781","267823007376498379256993682056860433753700498963798805883563","535646014752996758513987364113720867507400997927597611767125","1071292029505993517027974728227441735014801995855195223534251","2142584059011987034055949456454883470029603991710390447068501","4285168118023974068111898912909766940059207983420780894137003","8570336236047948136223797825819533880118415966841561788274005","17140672472095896272447595651639067760236831933683123576548011","34281344944191792544895191303278135520473663867366247153096021","68562689888383585089790382606556271040947327734732494306192043","137125379776767170179580765213112542081894655469464988612384085","274250759553534340359161530426225084163789310938929977224768171","548501519107068680718323060852450168327578621877859954449536341","1097003038214137361436646121704900336655157243755719908899072683","2194006076428274722873292243409800673310314487511439817798145365","4388012152856549445746584486819601346620628975022879635596290731","8776024305713098891493168973639202693241257950045759271192581461","17552048611426197782986337947278405386482515900091518542385162923","35104097222852395565972675894556810772965031800183037084770325845","70208194445704791131945351789113621545930063600366074169540651691","140416388891409582263890703578227243091860127200732148339081303381","280832777782819164527781407156454486183720254401464296678162606763","561665555565638329055562814312908972367440508802928593356325213525","1123331111131276658111125628625817944734881017605857186712650427051","2246662222262553316222251257251635889469762035211714373425300854101","4493324444525106632444502514503271778939524070423428746850601708203","8986648889050213264889005029006543557879048140846857493701203416405","17973297778100426529778010058013087115758096281693714987402406832811","35946595556200853059556020116026174231516192563387429974804813665621","71893191112401706119112040232052348463032385126774859949609627331243","143786382224803412238224080464104696926064770253549719899219254662485","287572764449606824476448160928209393852129540507099439798438509324971","575145528899213648952896321856418787704259081014198879596877018649941","1150291057798427297905792643712837575408518162028397759193754037299883","2300582115596854595811585287425675150817036324056795518387508074599765","4601164231193709191623170574851350301634072648113591036775016149199531","9202328462387418383246341149702700603268145296227182073550032298399061","18404656924774836766492682299405401206536290592454364147100064596798123","36809313849549673532985364598810802413072581184908728294200129193596245","73618627699099347065970729197621604826145162369817456588400258387192491","147237255398198694131941458395243209652290324739634913176800516774384981","294474510796397388263882916790486419304580649479269826353601033548769963","588949021592794776527765833580972838609161298958539652707202067097539925","1177898043185589553055531667161945677218322597917079305414404134195079851","2355796086371179106111063334323891354436645195834158610828808268390159701","4711592172742358212222126668647782708873290391668317221657616536780319403","9423184345484716424444253337295565417746580783336634443315233073560638805","18846368690969432848888506674591130835493161566673268886630466147121277611","37692737381938865697777013349182261670986323133346537773260932294242555221","75385474763877731395554026698364523341972646266693075546521864588485110443","150770949527755462791108053396729046683945292533386151093043729176970220885","301541899055510925582216106793458093367890585066772302186087458353940441771","603083798111021851164432213586916186735781170133544604372174916707880883541","1206167596222043702328864427173832373471562340267089208744349833415761767083"};
int n;

int main()
{
    while(scanf("%d", &n) != EOF)
    {
        cout << ans[n] << endl;        
    }
    return 0;
}
```
此题解感谢 `Seal_ZhouMoTong` 的思路，他的[blog](https://www.luogu.com.cn/blog/551559/solution-uva10359)。

---

## 作者：0x00AC3375 (赞：0)

## 大致题意
- 使用若干块 $2\times1$ 或 $2\times2$ 的矩形块，拼成一个 $2\times n$ 的长条有多少种方法。
- 输入有多组数据。

## 分析
本题属于典型的递推问题/动态规划问题。

对于一个 $2\times n$ 的长条，可以是：
- 在一个 $2\times (n-1)$ 的长条后面补上一个 $2\times 1$；
- 在一个 $2\times (n-2)$ 的长条后面补上一个 $2\times 2$；
- 在一个 $2\times (n-2)$ 的长条后面补上两个横向摆放的 $2\times 1$；

这样就很容易得到递推关系式

$$\begin{cases} f_0=f_1=1 \\ f_n=f_{n-1}+2f_{n-2}&(b\ge 2) \end{cases}$$

按照递推表达式计算即可。

Python 没有 `EOF`。如果想要利用 Python 的高精度，又想要能够像 C 语言一样输入文件结束符 `EOF`，可以使用 Python 事先输出所有结果，然后打表。
用 Python 输出结果时，相邻两个数用**逗号**分隔，所有的结果**包含在一对双引号**中（对于打表而言，这属于打表的技巧）。

### 数据生成程序
```python
f=[1,1]
for i in range(2,251):f.append(f[i-1]+f[i-2]+f[i-2])
for i in range(len(f)):print("\"%d\","%f[i],end="")

```
### 输出结果

```
"1","1","3","5","11","21","43","85","171","341","683","1365","2731","5461","10923","21845","43691","87381","174763","349525","699051","1398101","2796203","5592405","11184811","22369621","44739243","89478485","178956971","357913941","715827883","1431655765","2863311531","5726623061","11453246123","22906492245","45812984491","91625968981","183251937963","366503875925","733007751851","1466015503701","2932031007403","5864062014805","11728124029611","23456248059221","46912496118443","93824992236885","187649984473771","375299968947541","750599937895083","1501199875790165","3002399751580331","6004799503160661","12009599006321323","24019198012642645","48038396025285291","96076792050570581","192153584101141163","384307168202282325","768614336404564651","1537228672809129301","3074457345618258603","6148914691236517205","12297829382473034411","24595658764946068821","49191317529892137643","98382635059784275285","196765270119568550571","393530540239137101141","787061080478274202283","1574122160956548404565","3148244321913096809131","6296488643826193618261","12592977287652387236523","25185954575304774473045","50371909150609548946091","100743818301219097892181","201487636602438195784363","402975273204876391568725","805950546409752783137451","1611901092819505566274901","3223802185639011132549803","6447604371278022265099605","12895208742556044530199211","25790417485112089060398421","51580834970224178120796843","103161669940448356241593685","206323339880896712483187371","412646679761793424966374741","825293359523586849932749483","1650586719047173699865498965","3301173438094347399730997931","6602346876188694799461995861","13204693752377389598923991723","26409387504754779197847983445","52818775009509558395695966891","105637550019019116791391933781","211275100038038233582783867563","422550200076076467165567735125","845100400152152934331135470251","1690200800304305868662270940501","3380401600608611737324541881003","6760803201217223474649083762005","13521606402434446949298167524011","27043212804868893898596335048021","54086425609737787797192670096043","108172851219475575594385340192085","216345702438951151188770680384171","432691404877902302377541360768341","865382809755804604755082721536683","1730765619511609209510165443073365","3461531239023218419020330886146731","6923062478046436838040661772293461","13846124956092873676081323544586923","27692249912185747352162647089173845","55384499824371494704325294178347691","110768999648742989408650588356695381","221537999297485978817301176713390763","443075998594971957634602353426781525","886151997189943915269204706853563051","1772303994379887830538409413707126101","3544607988759775661076818827414252203","7089215977519551322153637654828504405","14178431955039102644307275309657008811","28356863910078205288614550619314017621","56713727820156410577229101238628035243","113427455640312821154458202477256070485","226854911280625642308916404954512140971","453709822561251284617832809909024281941","907419645122502569235665619818048563883","1814839290245005138471331239636097127765","3629678580490010276942662479272194255531","7259357160980020553885324958544388511061","14518714321960041107770649917088777022123","29037428643920082215541299834177554044245","58074857287840164431082599668355108088491","116149714575680328862165199336710216176981","232299429151360657724330398673420432353963","464598858302721315448660797346840864707925","929197716605442630897321594693681729415851","1858395433210885261794643189387363458831701","3716790866421770523589286378774726917663403","7433581732843541047178572757549453835326805","14867163465687082094357145515098907670653611","29734326931374164188714291030197815341307221","59468653862748328377428582060395630682614443","118937307725496656754857164120791261365228885","237874615450993313509714328241582522730457771","475749230901986627019428656483165045460915541","951498461803973254038857312966330090921831083","1902996923607946508077714625932660181843662165","3805993847215893016155429251865320363687324331","7611987694431786032310858503730640727374648661","15223975388863572064621717007461281454749297323","30447950777727144129243434014922562909498594645","60895901555454288258486868029845125818997189291","121791803110908576516973736059690251637994378581","243583606221817153033947472119380503275988757163","487167212443634306067894944238761006551977514325","974334424887268612135789888477522013103955028651","1948668849774537224271579776955044026207910057301","3897337699549074448543159553910088052415820114603","7794675399098148897086319107820176104831640229205","15589350798196297794172638215640352209663280458411","31178701596392595588345276431280704419326560916821","62357403192785191176690552862561408838653121833643","124714806385570382353381105725122817677306243667285","249429612771140764706762211450245635354612487334571","498859225542281529413524422900491270709224974669141","997718451084563058827048845800982541418449949338283","1995436902169126117654097691601965082836899898676565","3990873804338252235308195383203930165673799797353131","7981747608676504470616390766407860331347599594706261","15963495217353008941232781532815720662695199189412523","31926990434706017882465563065631441325390398378825045","63853980869412035764931126131262882650780796757650091","127707961738824071529862252262525765301561593515300181","255415923477648143059724504525051530603123187030600363","510831846955296286119449009050103061206246374061200725","1021663693910592572238898018100206122412492748122401451","2043327387821185144477796036200412244824985496244802901","4086654775642370288955592072400824489649970992489605803","8173309551284740577911184144801648979299941984979211605","16346619102569481155822368289603297958599883969958423211","32693238205138962311644736579206595917199767939916846421","65386476410277924623289473158413191834399535879833692843","130772952820555849246578946316826383668799071759667385685","261545905641111698493157892633652767337598143519334771371","523091811282223396986315785267305534675196287038669542741","1046183622564446793972631570534611069350392574077339085483","2092367245128893587945263141069222138700785148154678170965","4184734490257787175890526282138444277401570296309356341931","8369468980515574351781052564276888554803140592618712683861","16738937961031148703562105128553777109606281185237425367723","33477875922062297407124210257107554219212562370474850735445","66955751844124594814248420514215108438425124740949701470891","133911503688249189628496841028430216876850249481899402941781","267823007376498379256993682056860433753700498963798805883563","535646014752996758513987364113720867507400997927597611767125","1071292029505993517027974728227441735014801995855195223534251","2142584059011987034055949456454883470029603991710390447068501","4285168118023974068111898912909766940059207983420780894137003","8570336236047948136223797825819533880118415966841561788274005","17140672472095896272447595651639067760236831933683123576548011","34281344944191792544895191303278135520473663867366247153096021","68562689888383585089790382606556271040947327734732494306192043","137125379776767170179580765213112542081894655469464988612384085","274250759553534340359161530426225084163789310938929977224768171","548501519107068680718323060852450168327578621877859954449536341","1097003038214137361436646121704900336655157243755719908899072683","2194006076428274722873292243409800673310314487511439817798145365","4388012152856549445746584486819601346620628975022879635596290731","8776024305713098891493168973639202693241257950045759271192581461","17552048611426197782986337947278405386482515900091518542385162923","35104097222852395565972675894556810772965031800183037084770325845","70208194445704791131945351789113621545930063600366074169540651691","140416388891409582263890703578227243091860127200732148339081303381","280832777782819164527781407156454486183720254401464296678162606763","561665555565638329055562814312908972367440508802928593356325213525","1123331111131276658111125628625817944734881017605857186712650427051","2246662222262553316222251257251635889469762035211714373425300854101","4493324444525106632444502514503271778939524070423428746850601708203","8986648889050213264889005029006543557879048140846857493701203416405","17973297778100426529778010058013087115758096281693714987402406832811","35946595556200853059556020116026174231516192563387429974804813665621","71893191112401706119112040232052348463032385126774859949609627331243","143786382224803412238224080464104696926064770253549719899219254662485","287572764449606824476448160928209393852129540507099439798438509324971","575145528899213648952896321856418787704259081014198879596877018649941","1150291057798427297905792643712837575408518162028397759193754037299883","2300582115596854595811585287425675150817036324056795518387508074599765","4601164231193709191623170574851350301634072648113591036775016149199531","9202328462387418383246341149702700603268145296227182073550032298399061","18404656924774836766492682299405401206536290592454364147100064596798123","36809313849549673532985364598810802413072581184908728294200129193596245","73618627699099347065970729197621604826145162369817456588400258387192491","147237255398198694131941458395243209652290324739634913176800516774384981","294474510796397388263882916790486419304580649479269826353601033548769963","588949021592794776527765833580972838609161298958539652707202067097539925","1177898043185589553055531667161945677218322597917079305414404134195079851","2355796086371179106111063334323891354436645195834158610828808268390159701","4711592172742358212222126668647782708873290391668317221657616536780319403","9423184345484716424444253337295565417746580783336634443315233073560638805","18846368690969432848888506674591130835493161566673268886630466147121277611","37692737381938865697777013349182261670986323133346537773260932294242555221","75385474763877731395554026698364523341972646266693075546521864588485110443","150770949527755462791108053396729046683945292533386151093043729176970220885","301541899055510925582216106793458093367890585066772302186087458353940441771","603083798111021851164432213586916186735781170133544604372174916707880883541","1206167596222043702328864427173832373471562340267089208744349833415761767083",
```
将输出的这些内容直接复制粘贴到一个形如 `const char* numlist[]` 的字符数组中，然后在 C++ 中针对多组数据，每次用 `printf` 的 `%s` 输出即可。

### 代码
```cpp
#include<cstdio>
const char* numlist[]={...} ;
int main()
{
	int n;
	while(scanf("%d",&n)!=EOF) printf("%s\n",numlist[n]);
}
```


---


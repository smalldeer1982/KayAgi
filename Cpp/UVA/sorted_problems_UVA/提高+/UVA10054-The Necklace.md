---
title: "The Necklace"
layout: "post"
diff: 提高+/省选-
pid: UVA10054
tag: ['欧拉回路']
---

# The Necklace

## 题目描述

### 题目大意：
有一种由彩色珠子连接而成的项链。每个珠子的两半由不同颜色组成。如图所示，相邻两个珠子在接触的地方颜色相同。现在有一些零碎的珠子，需要确认它们是否可以复原成完整的项链。

## 输入格式

- 第一行为测试数据组数 T 。
- 每组数据的第一行是一个整数 $n\ (5 \le n \le 1000)$，表示珠子的个数。接下来的 $n$ 行每行包含两个整数，即珠子两半的颜色。颜色用 $1\sim50$ 的整数来表示。

## 输出格式

对于每组数据，输出测试数据编号和方案。
- 如果无解，输出 `some beads may be lost`。
- 方案的格式和输入相同，共 $n$ 行。  
  每行两个整数描述一个珠子（从左到右），其中第一个整数表示左半的颜色，第二个整数表示右半的颜色。对于 $1 \le i \le n-1$,第 $i$ 行的第二个数必须等于第 $i+1$ 行上的第一个数，且第 $n$ 行的第二个数必须等于第一行的第一个数（因为项链是环形的）。  
  如果有多解，输出任意一组即可。  
- 在相邻两组输出之间应有一个空行。

## 样例 #1

### 输入

```
2
5
1 2
2 3
3 4
4 5
5 6
5
2 1
2 2
3 4
3 1
2 4
```

### 输出

```
Case #1
some beads may be lost
Case #2
2 1
1 3
3 4
4 2
2 2
```


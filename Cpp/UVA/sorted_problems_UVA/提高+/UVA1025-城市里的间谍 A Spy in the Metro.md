---
title: "城市里的间谍 A Spy in the Metro"
layout: "post"
diff: 提高+/省选-
pid: UVA1025
tag: ['动态规划 DP', '枚举']
---

# 城市里的间谍 A Spy in the Metro

## 题目描述

#### 题目大意

某城市地铁是一条直线，有 $n$（$2\leq	 n\leq	 50$）个车站，从左到右编号 $1\ldots n$。有 $M_1$ 辆列车从第 $1$ 站开始往右开，还有 $M_2$ 辆列车从第 $n$ 站开始往左开。列车在相邻站台间所需的运行时间是固定的，因为所有列车的运行速度是相同的。在时刻 $0$，Mario 从第 $1$ 站出发，目的在时刻 $T$（$0\leq T\leq 200$）会见车站 $n$ 的一个间谍。在车站等车时容易被抓，所以她决定尽量躲在开动的火车上，让在车站等待的时间尽量短。列车靠站停车时间忽略不计，且 Mario 身手敏捷，即使两辆方向不同的列车在同一时间靠站，Mario 也能完成换乘。

## 输入格式

输入文件包含多组数据。

每一组数据包含以下 $7$ 行：

第一行是一个正整数 $n$，表示有 $n$ 个车站。

第二行是为 $T$，表示 Mario 在时刻 $T$ 会见车站 $n$ 的间谍。

第三行有 $n-1$ 个整数 $t_1,t_2,\ldots,t_{n-1}$，其中 $t_i$ 表示地铁从车站 $i$ 到 $i+1$ 的行驶时间。


第四行为 $M_1$，及从第一站出发向右开的列车数目。

第五行包含 $M_1$ 个正整数 $a_1,a_2,\ldots,a_{M_1}$，即每个列车出发的时间。

第六行为 $M_2$ ，即从第 $n$ 站出发向左开的列车数目。

第七行包含 $M_2$ 个正整数 $b_1,b_2,\ldots,b_{M_2}$，即每个列车出发的时间。

输入文件以一行 $0$ 结尾。

## 输出格式

有若干行，每行先输出 ```Case Number XXX : ```（XXX为情况编号，从 $1$ 开始），再输出最少等待时间或 ```impossible```（无解）。

## 样例 #1

### 输入

```
4
55
5 10 15
4
0 5 10 20
4
0 5 10 15
4
18
1 2 3
5
0 3 6 10 12
6
0 3 5 7 12 15
2
30
20
1
20
7
1 3 5 7 11 13 17
0

```

### 输出

```
Case Number 1: 5
Case Number 2: 0
Case Number 3: impossible

```


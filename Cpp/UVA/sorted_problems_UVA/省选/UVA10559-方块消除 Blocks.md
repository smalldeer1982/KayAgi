---
title: "方块消除 Blocks"
layout: "post"
diff: 省选/NOI-
pid: UVA10559
tag: ['搜索', '记忆化搜索', '区间 DP']
---

# 方块消除 Blocks

## 题目描述

有 $n$ 个带有颜色的方块，没消除一段长度为x的连续的相同颜色的方块可以得到 $x^2$ 的分数，让你用一种最优的顺序消除所有方块使得得分最多。

## 输入格式

第一行包含测试的次数 $t(1≤t≤15)$ 。

每个案例包含两行。

第一行包含整数 $n(1≤n≤200)$，即框数。

第二行包含 $n$ 个数，代表每个盒子的颜色。数字的大小 $1\sim n$ 内。

## 输出格式

输出 $\texttt{Case x: }y$，其中 $\texttt{x}$ 表示当前是第几组数据，$y$ 表示答案。

## 样例 #1

### 输入

```
2
9
1 2 2 2 2 3 3 3 1
1
1
```

### 输出

```
Case 1: 29
Case 2: 1
```

